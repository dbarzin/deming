var O1=Object.defineProperty;var P1=(d,a,l)=>a in d?O1(d,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[a]=l;var Fe=(d,a,l)=>P1(d,typeof a!="symbol"?a+"":a,l);import"./moment-Cijl8gKs.js";/* empty css                 */import{c as B1}from"./_commonjs-dynamic-modules-TDtrdbi3.js";function R1(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function N1(d){if(Object.prototype.hasOwnProperty.call(d,"__esModule"))return d;var a=d.default;if(typeof a=="function"){var l=function h(){return this instanceof h?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};l.prototype=a.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(d).forEach(function(h){var p=Object.getOwnPropertyDescriptor(d,h);Object.defineProperty(l,h,p.get?p:{enumerable:!0,get:function(){return d[h]}})}),l}(()=>{var d=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,C=(e,r,f)=>r in e?d(e,r,{enumerable:!0,configurable:!0,writable:!0,value:f}):e[r]=f,k=(e,r)=>{for(var f in r||(r={}))p.call(r,f)&&C(e,f,r[f]);if(h)for(var f of h(r))v.call(r,f)&&C(e,f,r[f]);return e},T=(e,r)=>a(e,l(r)),E=(e,r)=>{for(var f in r)d(e,f,{get:r[f],enumerable:!0})},A=(e,r,f)=>C(e,typeof r!="symbol"?r+"":r,f),O=(e,r,f)=>new Promise((o,t)=>{var i=b=>{try{m(f.next(b))}catch(w){t(w)}},c=b=>{try{m(f.throw(b))}catch(w){t(w)}},m=b=>b.done?o(b.value):Promise.resolve(b.value).then(i,c);m((f=f.apply(e,r)).next())}),R=e=>!isNaN(e),j="YYYY-MM-DDTHH:mm:ss.sss",X="Invalid date",ne=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,ie=/(%[a-z])/gi,oe="%Y-%m-%dT%H:%M:%S.%Q%t",ee={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},le={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},Z={ms:"ms",s:"second",m:"minute",h:"hour",D:"day",W:"week",M:"month",Y:"year"},ae=(e="")=>{throw new Error("This argument is required!")},ke=(e,r=!0)=>{try{return r?typeof e<"u":typeof e<"u"&&e!==null}catch{return!1}},be=e=>typeof e>"u"||e===null,pe=function(e,r,f){let o=""+e;return f&&o.length>=f?o:Array(f+1-o.length).join(r)+o},Le={months:"Січень_Лютий_Березень_Квітень_Травень_Червень_Липень_Серпень_Вересень_Жовтень_Листопад_Грудень".split("_"),monthsParental:"Січня_Лютого_Березеня_Квітня_Травня_Червня_Липня_Серпня_Вересня_Жовтня_Листопада_Грудня".split("_"),monthsShort:"Січ_Лют_Бер_Кві_Тра_Чер_Лип_Сер_Вер_Жов_Лис_Гру".split("_"),weekdays:"Неділя_Понеділок_Вівторок_Середа_Четвер_П'ятниця_Субота".split("_"),weekdaysShort:"Нед_Пон_Вів_Сер_Чет_Птн_Суб".split("_"),weekdaysMin:"Нд_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),weekStart:1},Ke={months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_Mär_Apr_Mai_Jun_Jul_Aug_Sep_Okt_Nov_Dez".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"Son_Mon_Die_Mit_Don_Fre_Sam".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekStart:1},Ee,Ae=(Ee=class{constructor(){let e=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(e))),this.locale="en",this.weekStart=Ee.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,!R(this.value.getTime()))throw new Error(X)}static isDatetime(e){return e instanceof Ee}static now(e=!1){return je()[e?"val":"time"]()}static parse(e=ae()){return je(Date.parse(e))}static setLocale(e=ae(),r=ae()){Ee.locales[e]=r}static getLocale(e="en"){return ke(Ee.locales[e],!1)?Ee.locales[e]:Ee.locales.en}static align(e,r){let f=je(e),o,t;switch(r){case Z.s:o=f.ms(0);break;case Z.m:o=Ee.align(f,Z.s)[Z.s](0);break;case Z.h:o=Ee.align(f,Z.m)[Z.m](0);break;case Z.D:o=Ee.align(f,Z.h)[Z.h](0);break;case Z.M:o=Ee.align(f,Z.D)[Z.D](1);break;case Z.Y:o=Ee.align(f,Z.M)[Z.M](0);break;case Z.W:{t=f.weekDay(),o=Ee.align(e,Z.D).addDay(-t);break}default:o=f}return o}static alignEnd(e,r){let f=je(e),o,t;switch(r){case Z.ms:o=f.ms(999);break;case Z.s:o=Ee.alignEnd(f,Z.ms);break;case Z.m:o=Ee.alignEnd(f,Z.s)[Z.s](59);break;case Z.h:o=Ee.alignEnd(f,Z.m)[Z.m](59);break;case Z.D:o=Ee.alignEnd(f,Z.h)[Z.h](23);break;case Z.M:o=Ee.alignEnd(f,Z.D)[Z.D](1).add(1,Z.M).add(-1,Z.D);break;case Z.Y:o=Ee.alignEnd(f,Z.D)[Z.M](11)[Z.D](31);break;case Z.W:{t=f.weekDay(),o=Ee.alignEnd(f,"day").addDay(6-t);break}default:o=e}return o}immutable(e){return this.mutable=!(be(e)||e),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(e,r){return this.locale=r||ke(Ee.locales[e],!1)?e:"en",this.weekStart=Ee.getLocale(this.locale).weekStart,this}clone(){let e=je(this.value);return e.locale=this.locale,e.weekStart=this.weekStart,e.mutable=this.mutable,e}align(e){return this.mutable?(this.value=Ee.align(this,e).val(),this):this.clone().immutable(!1).align(e).immutable(!this.mutable)}alignEnd(e){return this.mutable?(this.value=Ee.alignEnd(this,e).val(),this):this.clone().immutable(!1).alignEnd(e).immutable(!this.mutable)}val(e){return typeof e>"u"||e===null?this.value:this.mutable?(this.value=typeof e=="string"?Date.parse(e):typeof e=="number"?new Date(e):e,this):je(e)}year2(){return+(""+this.year()).substring(-2)}_set(e,r){let f="set"+(this.utcMode&&e!=="t"?"UTC":"")+le[e];if(this.mutable)return this.value[f](r),this;let o=this.clone();return o.value[f](r),o}_get(e){let r="get"+(this.utcMode&&e!=="t"?"UTC":"")+le[e];return this.value[r]()}_work(e,r){return!arguments.length||typeof r>"u"||r===null?this._get(e):this._set(e,r)}ms(e){return this._work("ms",e)}second(e){return this._work("s",e)}minute(e){return this._work("m",e)}hour(e){return this._work("h",e)}day(e){return this._work("D",e)}month(e){return this._work("M",e)}year(e){return this._work("Y",e)}time(e){return this._work("t",e)}weekDay(e){if(!arguments.length||be(e))return this.utcMode?this.value.getUTCDay():this.value.getDay();let r=this.weekDay(),f=e-r;return this.day(this.day()+f),this}get(e){return typeof this[e]!="function"?this:this[e]()}set(e,r){return typeof this[e]!="function"?this:this[e](r)}add(e,r){switch(r){case Z.h:return this.time(this.time()+e*60*60*1e3);case Z.m:return this.time(this.time()+e*60*1e3);case Z.s:return this.time(this.time()+e*1e3);case Z.ms:return this.time(this.time()+e);case Z.D:return this.day(this.day()+e);case Z.W:return this.day(this.day()+e*7);case Z.M:return this.month(this.month()+e);case Z.Y:return this.year(this.year()+e)}}addHour(e){return this.add(e,Z.h)}addMinute(e){return this.add(e,Z.m)}addSecond(e){return this.add(e,Z.s)}addMs(e){return this.add(e,Z.ms)}addDay(e){return this.add(e,Z.D)}addWeek(e){return this.add(e,Z.W)}addMonth(e){return this.add(e,Z.M)}addYear(e){return this.add(e,Z.Y)}format(e,r){let f=e||j,o=Ee.getLocale(r||this.locale),t=this.year(),i=this.year2(),c=this.month(),m=this.day(),b=this.weekDay(),w=this.hour(),S=this.minute(),D=this.second(),I=this.ms(),P={YY:i,YYYY:t,M:c+1,MM:pe(c+1,0,2),MMM:o.monthsShort[c],MMMM:o.months[c],D:m,DD:pe(m,0,2),d:b,dd:o.weekdaysMin[b],ddd:o.weekdaysShort[b],dddd:o.weekdays[b],H:w,HH:pe(w,0,2),m:S,mm:pe(S,0,2),s:D,ss:pe(D,0,2),sss:pe(I,0,3)};return f.replace(ne,(V,z)=>z||P[V])}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}},A(Ee,"locales",{en:ee,ua:Le,de:Ke}),Ee),je=(...e)=>e&&e[0]instanceof Ae?e[0]:new Ae(...e),ct=Ae.prototype.format,ce={buddhist(){return this.year()+543},format(e,r){e=e||j;let f={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()},o=e.replace(/(\[[^\]]+])|B{4}|B{2}/g,(t,i)=>i||f[t]);return ct.bind(this)(o,r)}};Object.assign(Ae.prototype,ce);var Ve=(e,r)=>{let f=e instanceof Ae?e.clone().align("month"):je(e),o=r===0||r?r:e.weekStart,t=o?f.isoWeekDay():f.weekDay(),i=Ae.getLocale(f.locale),c=je(),m,b=(S,D)=>{if(D===0)return S;let I=S[0];return S.slice(1).concat([I])},w={month:i.months[f.month()],days:[],weekstart:r?1:0,weekdays:b(i.weekdaysMin,o),today:c.format("YYYY-MM-DD"),weekends:[],week:[]};for(f.addDay(o?-t+1:-t),m=0;m<42;m++)w.days.push(f.format("YYYY-MM-DD")),f.add(1,"day");for(w.weekends=w.days.filter(function(S,D){return o===0?[0,6,7,13,14,20,21,27,28,34,35,41].includes(D):[5,6,12,13,19,20,26,27,33,34,40,41].includes(D)}),f=c.clone(),t=o?f.isoWeekDay():f.weekDay(),f.addDay(o?-t+1:-t),m=0;m<7;m++)w.week.push(f.format("YYYY-MM-DD")),f.add(1,"day");return w};Object.assign(Ae.prototype,{calendar(e){return Ve(this,e)}});var Re=Ae.prototype.format;Object.assign(Ae.prototype,{century(){return Math.ceil(this.year()/100)},format(e,r){e=e||j;let f={C:this.century()},o=e.replace(/(\[[^\]]+])|C/g,(t,i)=>i||f[t]);return Re.bind(this)(o,r)}}),Object.assign(Ae.prototype,{same(e){return this.time()===je(e).time()},compare(e,r,f="="){let o=je(e),t=je(this.value),i,c;switch(f=f||"=",["<",">",">=","<=","=","!="].includes(f)===!1&&(f="="),r=(r||"ms").toLowerCase(),i=t.align(r).time(),c=o.align(r).time(),f){case"<":return i<c;case">":return i>c;case"<=":return i<=c;case">=":return i>=c;case"=":return i===c;case"!=":return i!==c}},between(e,r){return this.younger(e)&&this.older(r)},older(e,r){return this.compare(e,r,"<")},olderOrEqual(e,r){return this.compare(e,r,"<=")},younger(e,r){return this.compare(e,r,">")},youngerOrEqual(e,r){return this.compare(e,r,">=")},equal(e,r){return this.compare(e,r,"=")},notEqual(e,r){return this.compare(e,r,"!=")},diff(e){let r=je(e),f=Math.abs(this.time()-r.time()),o=Math.abs(this.month()-r.month()+12*(this.year()-r.year()));return{ms:f,second:Math.ceil(f/1e3),minute:Math.ceil(f/(1e3*60)),hour:Math.ceil(f/(1e3*60*60)),day:Math.ceil(f/(1e3*60*60*24)),month:o,year:Math.floor(o/12)}},distance(e,r){return this.diff(e)[r]}}),Object.assign(Ae.prototype,{isLeapYear(){let e=this.year();return e%4===0&&e%100!==0||e%400===0}}),Object.assign(Ae.prototype,{dayOfYear(){let e=[0,31,59,90,120,151,181,212,243,273,304,334],r=this.month(),f=this.day();return e[r]+f+(r>1&&this.isLeapYear()?1:0)}}),Object.assign(Ae.prototype,{daysInMonth(){return je(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear(){return this.isLeapYear()?366:365},daysInYearMap(){let e=[],r=je(this.value);r.month(0).day(1);for(let f=0;f<12;f++)r.add(1,"month").add(-1,"day"),e.push(r.day()),r.day(1).add(1,"month");return e},daysInYearObj(e,r){let f=this.daysInYearMap(),o={},t=Ae.getLocale(e||this.locale);return f.forEach((i,c)=>o[t[r?"monthsShort":"months"][c]]=i),o}}),Object.assign(Ae.prototype,{decade(){return Math.floor(this.year()/10)*10},decadeStart(){let e=this.decade();return(this.mutable?this:this.clone()).year(e).month(0).day(1)},decadeEnd(){let e=this.decade()+9;return(this.mutable?this:this.clone()).year(e).month(11).day(31)},decadeOfMonth(){let e=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,r=this.day();return r<=e?1:r<=e*2?2:3}}),Object.assign(Ae,{from(e,r,f){let o,t,i,c,m,b,w,S,D,I,P,V,z,K,ye,_e,Ne,Ie,Se,Me=function(kt,St){return kt.map(function(Yt){return Yt.toLowerCase()}).indexOf(St.toLowerCase())},Be=function(kt){let St=-1,Yt=Ae.getLocale(f||"en");return be(kt)?-1:(St=Me(Yt.months,kt),St===-1&&typeof Yt.monthsParental<"u"&&(St=Me(Yt.monthsParental,kt)),St===-1&&(kt=kt.substr(0,3),St=Me(Yt.monthsShort,kt)),St===-1?-1:St+1)},ze=function(kt){let St={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]},Yt=-1,Zt,Jt;for(let bi=0;bi<St[kt].length;bi++)if(Zt=St[kt][bi],Jt=i.indexOf(Zt),Jt!==-1){Yt=Jt;break}return Yt};if(!r)return je();if(o=e.replace(/[\/,.:\s]/g,"-"),t=r.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),i=t.split("-"),c=o.split("-"),o.replace(/-/g,"").trim()==="")throw new Error(X);return m=ze("month"),b=ze("day"),w=ze("year"),S=ze("hour"),D=ze("minute"),I=ze("second"),P=ze("ms"),m>-1&&c[m]?isNaN(parseInt(c[m]))?(c[m]=Be(c[m]),c[m]===-1&&(m=-1)):(Se=parseInt(c[m]),(Se<1||Se>12)&&(m=-1)):m=-1,V=w>-1&&c[w]?c[w]:0,z=m>-1&&c[m]?c[m]:1,K=b>-1&&c[b]?c[b]:1,ye=S>-1&&c[S]?c[S]:0,_e=D>-1&&c[D]?c[D]:0,Ne=I>-1&&c[I]?c[I]:0,Ie=P>-1&&c[P]?c[P]:0,je(V,z-1,K,ye,_e,Ne,Ie)}});var tt=Ae.prototype.format;Object.assign(Ae.prototype,{ampm(e){let r=this.hour()<12?"AM":"PM";return e?r.toLowerCase():r},hour12:function(e,r){let f=e;return arguments.length===0?this.hour()%12:(r=r||"am",r.toLowerCase()==="pm"&&(f+=12),this.hour(f))},format:function(e,r){let f,o,t=this.hour12();return e=e||j,f={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:t,hh:pe(t,0,2)},o=e.replace(/(\[[^\]]+])|a|A|h{1,2}/g,(i,c)=>c||f[i]),tt.bind(this)(o,r)}});var mt=Ae.prototype.format,Pt=Ae.align,Kn=Ae.alignEnd;Object.assign(Ae,{align(e,r){let f=je(e),o,t;switch(r){case"isoWeek":t=f.isoWeekDay(),o=Pt(f,"day").addDay(-t+1);break;default:o=Pt.apply(void 0,[f,r])}return o},alignEnd(e,r){let f=je(e),o,t;switch(r){case"isoWeek":t=f.isoWeekDay(),o=Kn(f,"day").addDay(7-t);break;default:o=Kn.apply(void 0,[f,r])}return o}}),Object.assign(Ae.prototype,{isoWeekDay(e){let r=(this.weekDay()+6)%7+1;return!arguments.length||be(e)?r:this.addDay(e-r)},format(e,r){e=e||j;let f={I:this.isoWeekDay()},o=e.replace(/(\[[^\]]+])|I{1,2}/g,(t,i)=>i||f[t]);return mt.bind(this)(o,r)}}),Object.assign(Ae,{max(){return[].slice.call(arguments).map(e=>je(e)).sort((e,r)=>r.time()-e.time())[0]}}),Object.assign(Ae.prototype,{max(){return Ae.max.apply(this,[this].concat([].slice.call(arguments)))}}),Object.assign(Ae,{min(){return[].slice.call(arguments).map(e=>je(e)).sort((e,r)=>e.time()-r.time())[0]}}),Object.assign(Ae.prototype,{min(){return Ae.min.apply(this,[this].concat([].slice.call(arguments)))}});var ue=Ae.align,$=Ae.alignEnd,Oe=Ae.prototype.add;Object.assign(Ae,{align(e,r){let f=je(e),o;switch(r){case"quarter":o=Ae.align(f,"day").day(1).month(f.quarter()*3-3);break;default:o=ue.apply(this,[f,r])}return o},alignEnd(e,r){let f=je(e),o;switch(r){case"quarter":o=Ae.align(f,"quarter").add(3,"month").add(-1,"ms");break;default:o=$.apply(this,[f,r])}return o}}),Object.assign(Ae.prototype,{quarter(){let e=this.month();return e<=2?1:e<=5?2:e<=8?3:4},add(e,r){return r==="quarter"?this.month(this.month()+e*3):Oe.bind(this)(e,r)},addQuarter(e){return this.add(e,"quarter")}}),Object.assign(Ae,{sort(e,r){let f,o,t={};switch(typeof r=="string"||typeof r!="object"||be(r)?(t.format=j,t.dir=r&&r.toUpperCase()==="DESC"?"DESC":"ASC",t.returnAs="datetime"):(t.format=r.format||j,t.dir=(r.dir||"ASC").toUpperCase(),t.returnAs=r.format?"string":r.returnAs||"datetime"),o=e.map(i=>je(i)).sort((i,c)=>i.valueOf()-c.valueOf()),t.dir==="DESC"&&o.reverse(),t.returnAs){case"string":f=o.map(i=>i.format(t.format));break;case"date":f=o.map(i=>i.val());break;default:f=o}return f}});var wt=Ae.prototype.format;Object.assign(Ae.prototype,{utcOffset(){return this.value.getTimezoneOffset()},timezone(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format(e,r){e=e||j;let f={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()},o=e.replace(/(\[[^\]]+])|Z{1,3}|z/g,(t,i)=>i||f[t]);return wt.bind(this)(o,r)}});var ht=Ae.prototype.format;Object.assign(Ae.prototype,{weekNumber(e){let r,f,o,t,i,c;return e=+e||0,o=je(this.year(),0,1),t=o.weekDay()-e,t=t>=0?t:t+7,i=Math.floor((this.time()-o.time()-(this.utcOffset()-o.utcOffset())*6e4)/864e5)+1,t<4?(c=Math.floor((i+t-1)/7)+1,c>52&&(r=je(this.year()+1,0,1),f=r.weekDay()-e,f=f>=0?f:f+7,c=f<4?1:53)):c=Math.floor((i+t-1)/7),c},isoWeekNumber(){return this.weekNumber(1)},weeksInYear(e){return je(this.value).month(11).day(31).weekNumber(e)},format:function(e,r){let f,o,t=this.weekNumber(),i=this.isoWeekNumber();return e=e||j,f={W:t,WW:pe(t,0,2),WWW:i,WWWW:pe(i,0,2)},o=e.replace(/(\[[^\]]+])|W{1,4}/g,(c,m)=>m||f[c]),ht.bind(this)(o,r)}}),Object.assign(Ae.prototype,{strftime(e,r){let f=e||oe,o=Ae.getLocale(r||this.locale),t=this.year(),i=this.year2(),c=this.month(),m=this.day(),b=this.weekDay(),w=this.hour(),S=this.hour12(),D=this.minute(),I=this.second(),P=this.ms(),V=this.time(),z=pe(m,0,2),K=pe(c+1,0,2),ye=pe(w,0,2),_e=pe(S,0,2),Ne=pe(D,0,2),Ie=pe(I,0,2),Se=pe(P,0,3),Me=this,Be=function(){return je(Me.value).day(Me.day()-(Me.weekDay()+6)%7+3)},ze={"%a":o.weekdaysShort[b],"%A":o.weekdays[b],"%b":o.monthsShort[c],"%h":o.monthsShort[c],"%B":o.months[c],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":z,"%D":[z,K,t].join("/"),"%e":m,"%F":[t,K,z].join("-"),"%G":Be().year(),"%g":(""+Be().year()).slice(2),"%H":ye,"%I":_e,"%j":pe(this.dayOfYear(),0,3),"%k":ye,"%l":_e,"%m":K,"%n":c+1,"%M":Ne,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(V/1e3),"%S":Ie,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":b,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":i,"%Y":t,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[_e,Ne,Ie].join(":")+" "+this.ampm(),"%R":[ye,Ne].join(":"),"%T":[ye,Ne,Ie].join(":"),"%Q":Se,"%q":P,"%t":this.timezone()};return f.replace(ie,kt=>ze[kt]===0||ze[kt]?ze[kt]:kt)}}),Object.assign(Ae,{isToday(e){let r=je(e).align("day"),f=je().align("day");return r.time()===f.time()}}),Object.assign(Ae.prototype,{isToday(){return Ae.isToday(this)},today(){let e=je();return this.mutable?this.val(e.val()):e}}),Object.assign(Ae,{isTomorrow(e){let r=je(e).align("day"),f=je().align("day").add(1,"day");return r.time()===f.time()}}),Object.assign(Ae.prototype,{isTomorrow(){return Ae.isTomorrow(this)},tomorrow(){return this.mutable?this.add(1,"day"):this.clone().immutable(!1).add(1,"day").immutable(!this.mutable)}}),Object.assign(Ae.prototype,{toDateString(){return this.value.toDateString()},toISOString(){return this.value.toISOString()},toJSON(){return this.value.toJSON()},toGMTString(){return this.value.toGMTString()},toLocaleDateString(){return this.value.toLocaleDateString()},toLocaleString(){return this.value.toLocaleString()},toLocaleTimeString(){return this.value.toLocaleTimeString()},toTimeString(){return this.value.toTimeString()},toUTCString(){return this.value.toUTCString()},toDate(){return new Date(this.value)}}),Object.assign(Ae,{timestamp(){return new Date().getTime()/1e3}}),Object.assign(Ae.prototype,{unix(e){let r;return!arguments.length||be(e)?Math.floor(this.valueOf()/1e3):(r=e*1e3,this.mutable?this.time(r):je(this.value).time(r))},timestamp(){return this.unix()}}),Object.assign(Ae,{isYesterday(e){let r=je(e).align("day"),f=je().align("day").add(-1,"day");return r.time()===f.time()}}),Object.assign(Ae.prototype,{isYesterday(){return Ae.isYesterday(this)},yesterday(){return this.mutable?this.add(-1,"day"):this.clone().immutable(!1).add(-1,"day").immutable(!this.mutable)}});var Ut=e=>{let r,f=Math.floor(e/1e3),o=Math.floor(f/60),t=Math.floor(o/60),i=Math.floor(t/24),c=Math.floor(i/30),m=Math.floor(c/12);return m>=1&&(r=`${m} year`),c>=1&&m<1&&(r=`${c} mon`),i>=1&&i<=30&&(r=`${i} days`),t&&t<24&&(r=`${t} hour`),o&&o>=40&&o<60&&(r="less a hour"),o&&o<40&&(r=`${o} min`),f&&f>=30&&f<60&&(r=`${f} sec`),f<30&&(r="few sec"),r};Object.assign(Ae,{timeLapse(e){let r=je(e),f=je(),o=f-r;return Ut(o)}}),Object.assign(Ae.prototype,{timeLapse(){let e=je()-+this;return Ut(e)}});var Qt={parseTime(e){if(!isNaN(e))return Math.abs(+e);let r=/([0-9]+d)|([0-9]{1,2}h)|([0-9]{1,2}m)|([0-9]{1,2}s)/gm;return e.match(r).reduce((f,o)=>{let t;return o.includes("d")?t=1e3*60*60*24*parseInt(o):o.includes("h")?t=1e3*60*60*parseInt(o):o.includes("m")?t=1e3*60*parseInt(o):o.includes("s")&&(t=1e3*parseInt(o)),f+t},0)}};Object.assign(Ae,Qt),Object.assign(Ae.prototype,{moon(){let e=["new-moon","waxing-crescent","first-quarter","waxing-gibbous","full-moon","waning-gibbous","last-quarter","waning-crescent"];return(()=>{let r=this.year(),f=this.month(),o=this.day(),t,i,c,m=t=i=c=0;return f<3&&(r--,f+=12),++f,m=365.25*r,t=30.6*f,i=m+t+o-694039.09,i/=29.5305882,c=parseInt(i),i-=c,c=Math.round(i*8),c>=8&&(c=0),{phase:c,name:e[c]}})()}});var zt="3.2.2",$t="09.03.2025, 06:30:54",Mt=()=>{console.info(`%c Datetime %c v${zt} %c ${$t} `,"color: #ffffff; font-weight: bold; background: #003152","color: white; background: darkgreen","color: white; background: #0080fe;")};Ae.info=Mt,Ae.correctDate=function(e){return je(e).addDay(1).align("day").addMinute(new Date().getTimezoneOffset())},globalThis.Datetime=Ae,globalThis.datetime=je,function(){let e=["january","february","march","april","may","june","july","august","september","october","november","december"],r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];var f=Ae.getLocale;Ae.getLocale=function(o){var t;if(!Metro)return o="en",f.call(this,o);Metro.locales[o]||(o="en"),t=Metro.locales[o];let i=e.map(function(S,D){return t[S]}),c=e.map(function(S,D){return t[`${S}_short`]}),m=r.map(function(S,D){return t[S]}),b=r.map(function(S,D){return t[`${S}_short`]}),w=r.map(function(S,D){return t[`${S}_short_2`]});return{months:i,monthsShort:c,weekdays:m,weekdaysShort:b,weekdaysMin:w,weekStart:t.weekStart}}}();var Lt=Object.defineProperty,en=(e,r)=>{for(var f in r)Lt(e,f,{get:r[f],enumerable:!0})},rn={};en(rn,{append:()=>tc,camelCase:()=>re,capitalize:()=>fe,chars:()=>Qe,count:()=>Zn,countChars:()=>ks,countSubstr:()=>To,countUniqueChars:()=>Ss,countUniqueWords:()=>Eo,countWords:()=>Do,dashedName:()=>we,decapitalize:()=>ve,endsWith:()=>vl,escapeHtml:()=>On,first:()=>na,includes:()=>Ju,insert:()=>Ue,isAlpha:()=>yt,isAlphaDigit:()=>Gu,isBlank:()=>Io,isDigit:()=>bl,isEmpty:()=>Ai,isLower:()=>yl,isString:()=>Fo,isUpper:()=>xl,kebab:()=>Ye,last:()=>ia,lower:()=>nt,lpad:()=>Ms,ltrim:()=>La,matches:()=>Ra,nvl:()=>kl,pad:()=>mr,prepend:()=>nc,prune:()=>Es,repeat:()=>sa,reverse:()=>qe,rpad:()=>Fa,rtrim:()=>Oa,shorten:()=>sc,shuffle:()=>bt,slice:()=>ut,snake:()=>xt,split:()=>wl,sprintf:()=>Ba,startsWith:()=>Pa,strip:()=>Xi,stripBoom:()=>ic,stripTags:()=>Cl,stripTagsAll:()=>vr,substring:()=>zi,swap:()=>Nt,title:()=>Ht,trim:()=>aa,truncate:()=>gr,truncateWithAlign:()=>fn,unescapeHtml:()=>di,unique:()=>Ts,uniqueWords:()=>Ao,upper:()=>un,vsprintf:()=>Zu,words:()=>xe,wrap:()=>ec,wrapTag:()=>Qu});var lt="\\d",Fn="\\s\\uFEFF\\xA0",Ln="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",ln="\\u2000-\\u206F",_i="\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7",ot="\\u2700-\\u27BF",sn="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",ci="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",_s=new RegExp("^["+Fn+"]+"),Te=new RegExp("["+Fn+"]+$"),De=new RegExp("^"+lt+"+$"),me=/[<>&"'`]/g,Y=/(<([^>]+)>)/ig,U=new RegExp("(?:["+ci+"]["+Ln+"]*)?(?:["+sn+"]["+Ln+"]*)+|(?:["+ci+"]["+Ln+"]*)+(?!["+sn+"])|["+lt+"]+|["+ot+"]|[^"+_i+ln+Fn+"]+","g"),he=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,L=new RegExp("^(?:["+sn+ci+"]["+Ln+"]*)+$"),H=new RegExp("^((?:["+sn+ci+"]["+Ln+"]*)|["+lt+"])+$"),Q=/^[\x01-\xFF]*$/,te=(e,r="")=>!e&&typeof e!="number"&&typeof e!="boolean"?r:typeof e=="string"?e:Array.isArray(e)?e.join(""):JSON.stringify(e),de=(e,r)=>typeof e>"u"||e===null?r:e,xe=(e,r,f)=>{let o;return r?r instanceof RegExp?o=r:o=new RegExp(r,de(f,"")):o=Q.test(e)?he:U,de(te(e).match(o),[])},fe=(e,r=!1)=>{let f=te(e),o=f.substring(1);return f.substring(0,1).toUpperCase()+(r?o.toLowerCase():o)},re=e=>xe(te(e)).map((r,f)=>f===0?r.toLowerCase():fe(r)).join(""),we=e=>xe(te(e)).map(r=>r.toLowerCase()).join("-"),ve=e=>{let r=te(e);return r.substring(0,1).toLowerCase()+r.substr(1)},Ye=(e,r="-")=>xe(te(e)).map(f=>f.toLowerCase()).join(r),nt=e=>te(e).toLowerCase(),Qe=(e,r=[])=>te(e).split("").filter(f=>!r.includes(f)),qe=(e,r)=>Qe(te(e),r).reverse().join(""),vt=(e=[])=>{let r=[...e],f=r.length,o,t;for(;f!==0;)t=Math.floor(Math.random()*f),f-=1,o=r[f],r[f]=r[t],r[t]=o;return r},bt=e=>vt(te(e).split("")).join(""),xt=e=>xe(te(e)).map(r=>r.toLowerCase()).join("_"),gt=(e,r)=>{let f=r.toLowerCase(),o=r.toUpperCase();return e+(r===f?o:f)},Nt=e=>te(e).split("").reduce(gt,""),Ht=(e,r,f="")=>{let o=te(e),t=Q.test(o)?he:U,i=Array.isArray(r)?r:typeof r!="string"?[]:r.split(f);return e.replace(t,(c,m)=>m&&i.includes(o[m-1])?nt(c):fe(c))},un=e=>te(e).toUpperCase(),Zn=e=>te(e).length,kn=(e=[])=>{let r=[...e];for(let f=0;f<r.length;++f)for(let o=f+1;o<r.length;++o)r[f]===r[o]&&r.splice(o--,1);return r},ks=(e,r)=>Qe(e,r).length,Ss=(e,r)=>kn(Qe(e,r)).length,To=(e,r="")=>{let f=te(e),o=te(r);return f===""||o===""?0:f.split(o).length-1},Do=(e,r,f)=>xe(e,r,f).length,Eo=(e,r,f)=>kn(xe(e,r,f)).length,Mo={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function gl(e){return Mo[e]}var On=e=>te(e).replace(me,gl),Ri={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},Ni=Object.keys(Ri);function ki(e,r){return e.replace(Ri[r],r)}var di=e=>Ni.reduce(ki,te(e)),Ts=(e,r)=>kn(Qe(e,r)).join(""),Ao=(e,r,f)=>kn(xe(e,r,f)).join(""),zi=(e,r,f)=>te(e).substring(r,f),na=(e,r=0)=>zi(te(e),0,r),ia=(e,r=0)=>{let f=te(e);return f?zi(f,f.length-r):""},Ph="\uFEFF",Hi=(e,r,f=9007199254740991)=>e<r?r:e>f?f:e,Ds=e=>e===1/0?9007199254740991:e===-1/0?-9007199254740991:~~e,gr=(e,r=0,f="...")=>{let o=te(e),t=r?Hi(Ds(r),0,9007199254740991):o.length;return zi(o,0,t)+(o.length===t?"":f)},fn=(e,r=0,f="...")=>{let o=gr(e,r,"");return o.slice(e,o.lastIndexOf(" "))+f},ut=(e,r=1)=>{let f=te(e),o=[],t=Math.round(f.length/r);for(let i=0;i<r;i++)o.push(zi(f,i*t,t));return o},Es=(e,r=0,f="")=>{let o=te(e),t=r?Hi(Ds(r),0,9007199254740991):o.length,i=0,c=Q.test(o)?he:U;return o.replace(c,(m,b)=>{let w=b+m.length;w<=t-f.length&&(i=w)}),o.substring(0,i)+f},sa=(e,r=0)=>{let f=te(e),o=r?Hi(Ds(r),0,9007199254740991):f.length,t=f;if(r===0)return"";for(let i=0;i<o-1;i++)f+=t;return f},Mi=(e,r=0)=>{let f=e.length,o=r-f;return sa(e,o+1).substring(0,r)},Bt=(e,r="",f=0,o=!1)=>{let t=te(e),i=f?Hi(Ds(f),0,9007199254740991):t.length,c=r.length,m=i-t.length,b=m;if(m<=0||c===0)return t;let w=Mi(r,b);return o?w+t:t+w},Ms=(e,r=" ",f=0)=>Bt(e,r,f,!0),Fa=(e,r=" ",f=0)=>Bt(e,r,f,!1),mr=(e,r="",f=0)=>{let o=te(e),t=f?Hi(Ds(f),0,9007199254740991):o.length,i=r.length,c=t-o.length,m=Ds(c/2),b=c%2;return c<=0||i===0?o:Mi(r,m)+o+Mi(r,m+b)},Ue=(e,r="",f=0)=>{let o=te(e);return o.substring(0,f)+r+o.substring(f)},Ct=Array.prototype.reduce,ml=Array.prototype.reduceRight,aa=(e,r)=>La(Oa(e,r),r),La=(e,r)=>{let f=te(e);if(!r)return f.replace(_s,"");if(r===""||f==="")return f;typeof r!="string"&&(r="");let o=!0;return Ct.call(f,(t,i)=>o&&r.includes(i)?t:(o=!1,t+i),"")},Oa=(e,r)=>{let f=te(e);if(!r)return f.replace(Te,"");if(r===""||f==="")return f;typeof r!="string"&&(r="");let o=!0;return ml.call(f,(t,i)=>o&&r.includes(i)?t:(o=!1,i+t),"")},vl=(e,r,f)=>te(e).endsWith(r,f),yt=e=>L.test(te(e)),Gu=e=>H.test(te(e)),bl=e=>De.test(te(e)),Io=(e,r=!0)=>r?te(e).length===0:aa(e).length===0,Ai=e=>aa(e).length===0,yl=e=>nt(e)===e,xl=e=>un(e)===e,Pa=(e,r,f)=>te(e).startsWith(r,f),vr=e=>te(e).replace(Y,""),Cl=(e,r=[])=>{let f=te(e),o=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return f.replace(o,(t,i)=>r.includes(i)?t:"")},hi={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function Xu(e,r){let f=1,o=e.length,t,i="",c,m,b,w,S,D;for(let I=0;I<o;I++)if(typeof e[I]=="string")i+=e[I];else if(typeof e[I]=="object"){if(c=e[I],c.keys){t=r[f];for(let P=0;P<c.keys.length;P++){if(typeof t>"u")throw new Error(Ba('[sprintf] Cannot access property "%s" of undefined value "%s"',c.keys[P],c.keys[P-1]));t=t[c.keys[P]]}}else c.param_no?t=r[c.param_no]:t=r[f++];if(hi.not_type.test(c.type)&&hi.not_primitive.test(c.type)&&t instanceof Function&&(t=t()),hi.numeric_arg.test(c.type)&&typeof t!="number"&&isNaN(t))throw new TypeError(Ba("[sprintf] expecting number but found %T"));switch(hi.number.test(c.type)&&(S=t>=0),c.type){case"b":t=parseInt(t,10).toString(2);break;case"c":t=String.fromCharCode(parseInt(t,10));break;case"d":case"i":t=parseInt(t,10);break;case"j":t=JSON.stringify(t,null,c.width?parseInt(c.width):0);break;case"e":t=c.precision?parseFloat(t).toExponential(c.precision):parseFloat(t).toExponential();break;case"f":t=c.precision?parseFloat(t).toFixed(c.precision):parseFloat(t);break;case"g":t=c.precision?String(Number(t.toPrecision(c.precision))):parseFloat(t);break;case"o":t=(parseInt(t,10)>>>0).toString(8);break;case"s":t=String(t),t=c.precision?t.substring(0,c.precision):t;break;case"t":t=String(!!t),t=c.precision?t.substring(0,c.precision):t;break;case"T":t=Object.prototype.toString.call(t).slice(8,-1).toLowerCase(),t=c.precision?t.substring(0,c.precision):t;break;case"u":t=parseInt(t,10)>>>0;break;case"v":t=t.valueOf(),t=c.precision?t.substring(0,c.precision):t;break;case"x":t=(parseInt(t,10)>>>0).toString(16);break;case"X":t=(parseInt(t,10)>>>0).toString(16).toUpperCase();break}hi.json.test(c.type)?i+=t:(hi.number.test(c.type)&&(!S||c.sign)?(D=S?"+":"-",t=t.toString().replace(hi.sign,"")):D="",b=c.pad_char?c.pad_char==="0"?"0":c.pad_char.charAt(1):" ",w=c.width-(D+t).length,m=c.width&&w>0?b.repeat(w):"",i+=c.align?D+t+m:b==="0"?D+m+t:m+D+t)}return i}var br=Object.create(null);function Ku(e){if(br[e])return br[e];let r=e,f,o=[],t=0;for(;r;){if((f=hi.text.exec(r))!==null)o.push(f[0]);else if((f=hi.modulo.exec(r))!==null)o.push("%");else if((f=hi.placeholder.exec(r))!==null){if(f[2]){t|=1;let i=[],c=f[2],m=[];if((m=hi.key.exec(c))!==null)for(i.push(m[1]);(c=c.substring(m[0].length))!=="";)if((m=hi.key_access.exec(c))!==null)i.push(m[1]);else if((m=hi.index_access.exec(c))!==null)i.push(m[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");f[2]=i}else t|=2;if(t===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:f[0],param_no:f[1],keys:f[2],sign:f[3],pad_char:f[4],align:f[5],width:f[6],precision:f[7],type:f[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");r=r.substring(f[0].length)}return br[e]=o}var Ba=e=>Xu(Ku(e),arguments),Zu=(e,r)=>Ba.apply(null,[e].concat(r||[])),Ju=(e,r,f)=>te(e).includes(r,f),wl=(e,r=void 0,f=void 0,o=!0)=>te(e).split(r,f).map(t=>o?t.trim():t).filter(t=>o?!Ai(t):!0),Xi=(e,r=null,f="")=>{let o=te(e),t;return r?(t=new RegExp(r,"g"),o.replace(t,f)):o},Qu=(e,r="div",f={})=>{let o=te(e),t=Object.keys(f).map(i=>`${i}="${f[i]}"`).join(" ");return t&&(t=" "+t),`<${r}${t}>${o}</${r}>`},ec=(e,r="",f="")=>r+te(e)+f,Fo=e=>typeof e=="string",Ra=(e,r,f="")=>{let o=te(e),t;if(!(r instanceof RegExp)){if(t=r?aa(te(r)):"",!t)return!1;r=new RegExp(t,f)}return r.test(o)},tc=(e,r="",f=1)=>te(e)+sa(r,f),nc=(e,r="",f=1)=>sa(r,f)+te(e),ic=e=>{let r=te(e);return r===""?r:r[0]===Ph?r.substring(1):r},sc=(e,r=5,f="...")=>e&&`${e.substring(0,r)}${f}${e.substring(e.length-r)}`,_l=e=>typeof e>"u"||e===null,kl=(e,...r)=>{if(!_l(e))return e;if(r.length===0)throw new Error("nvl: No default value provided");for(let f of r)if(typeof f<"u"&&f!==null)return f},yr=class{constructor(e="",{mutable:r=!0}={}){this.value=e.toString(),this.mutable=r}[Symbol.toPrimitive](e){return e==="number"?+this.value:this.value}get[Symbol.toStringTag](){return"Str"}val(e){return typeof e>"u"||e===null?this.value:(this.value=e.toString(),this)}get length(){return this.value.length}immutable(e=!0){this.mutable=!e}toString(){return Array.isArray(this.value)?this.value.join(""):this.value}_result(e){return this.mutable?(this.value=e,this):Sl(e)}camelCase(){return this._result(re(this.value))}capitalize(e){return this._result(fe(this.value,e))}chars(e){return this._result(Qe(this.value,e))}count(){return Zn(this.value)}countChars(e){return ks(this.value,e)}countUniqueChars(e){return Ss(this.value,e)}countSubstr(e){return To(this.value,e)}countWords(e,r){return ks(this.value,e)}countUniqueWords(e,r){return Ss(this.value,e)}dashedName(){return this._result(we(this.value))}decapitalize(){return this._result(ve(this.value))}endsWith(e,r){return vl(this.value,e,r)}escapeHtml(){return this._result(On(this.value))}first(){return this._result(na(this.value))}includes(e,r){return Ju(this.value,e,r)}insert(e,r){return this._result(Ue(this.value,e,r))}isAlpha(){return yt(this.value)}isAlphaDigit(){return Gu(this.value)}isBlank(e){return Io(this.value,e)}isDigit(){return bl(this.value)}isEmpty(){return Ai(this.value)}isLower(){return yl(this.value)}static isString(e){return Fo(e)}isUpper(){return xl(this.value)}kebab(e){return this._result(Ye(this.value,e))}last(e){return this._result(ia(this.value,e))}lower(){return this._result(nt(this.value))}matches(e,r){return Ra(this.value,e,r)}pad(e,r){return this._result(mr(this.value,e,r))}lpad(e,r){return this._result(Ms(this.value,e,r))}rpad(e,r){return this._result(Fa(this.value,e,r))}prune(e,r){return this._result(Es(this.value,e,r))}repeat(e){return this._result(sa(this.value,e))}append(e,r){return this._result(tc(this.value,e,r))}prepend(e,r){return this._result(nc(this.value,e,r))}reverse(e){return this._result(qe(this.value,e))}shuffle(){return this._result(bt(this.value))}slice(e){return this._result(ut(this.value,e))}snake(){return this._result(xt(this.value))}split(e,r,f){return this._result(wl(this.value,e,r,f))}sprintf(...e){return this._result(Ba(this.value,...e))}vsprintf(...e){return this._result(Zu(this.value,...e))}startsWith(e,r){return Pa(this.value,e,r)}stripBoom(){return this._result(ic(this.value))}stripTags(e){return this._result(Cl(this.value,e))}stripTagsAll(){return this._result(vr(this.value))}strip(e,r){return this._result(Xi(this.value,e,r))}substring(e,r){return this._result(zi(this.value,e,r))}swap(){return this._result(Nt(this.value))}title(e,r){return this._result(Ht(this.value,e,r))}trim(e){return this._result(aa(this.value,e))}ltrim(e){return this._result(La(this.value,e))}rtrim(e){return this._result(Oa(this.value,e))}truncate(e,r){return this._result(gr(this.value,e,r))}truncateWithAlign(e,r){return this._result(fn(this.value,e,r))}unescapeHtml(){return this._result(di(this.value))}unique(e){return this._result(Ts(this.value,e))}uniqueWords(e,r){return this._result(Ao(this.value,e,r))}upper(){return this._result(un(this.value))}words(e,r){return xe(this.value,e,r)}wrap(e,r){return this._result(ec(this.value,e,r))}wrapTag(e){return this._result(Qu(this.value,e))}shorten(e,r){return this._result(sc(this.value,e,r))}nvl(...e){return this._result(kl(this.value,...e))}};Object.assign(yr,rn);var Sl=(e,r=!0)=>new yr(e,{mutable:r}),ac="0.10.0",xr="16.03.2025, 19:17:56",Cr=()=>{console.info(`%c String %c v${ac} %c ${xr} `,"color: #000000; font-weight: bold; background: #fff200","color: white; background: darkgreen","color: white; background: #0080fe;")};yr.info=Cr,globalThis.Str=yr,globalThis.str=Sl;var Tl=["opacity","zIndex"];function oc(){return null}function rc(e){return typeof e=="string"||typeof e=="boolean"||typeof e=="number"}function us(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function Bh(e){let r=getComputedStyle(e);return!us(e)||+r.opacity==0||e.hidden||r.visibility==="hidden"}function rt(e){return e==null}function tn(e){return e.replace(/-([a-z])/g,function(r,f){return f.toUpperCase()})}function cs(e){let r;return!e||Object.prototype.toString.call(e)!=="[object Object]"?!1:(r=e.prototype!==void 0,r?r.constructor&&typeof r.constructor=="function":!0)}function Na(e){for(let r in e)if(Fs(e,r))return!1;return!0}function As(e){return e instanceof Object&&"length"in e}function Is(e,r){return r=r||" ",e.split(r).map(function(f){return(""+f).trim()}).filter(function(f){return f!==""})}function Si(e,r){return r||(r=[0,""]),e=String(e),r[0]=parseFloat(e),r[1]=e.match(/[\d.\-+]*\s*(.*)/)[1]||"",r}function wr(e,r){let f=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn|fr|lh|cqw|cqh|cqi|cqb|cqmin|cqmax|q)?$/.exec(e);return typeof f[1]<"u"?f[1]:r}function Ki(e,r,f){r=tn(r),["scrollLeft","scrollTop"].indexOf(r)>-1?e[r]=parseInt(f):e.style[r]=isNaN(f)||Tl.indexOf(""+r)>-1?f:f+"px"}function Lo(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}function Dl(e){try{return JSON.parse(e)}catch{return e}}function za(e,r,f){let o;return rt(f)&&e.nodeType===1&&(o="data-"+r.replace(/[A-Z]/g,"-$&").toLowerCase(),f=e.getAttribute(o),typeof f=="string"?(f=Dl(f),ds.set(e,r,f)):f=void 0),f}function El(e){return typeof e!="string"?void 0:e.replace(/-/g,"").toLowerCase()}function Fs(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function lc(e){let r=e||globalThis.location.hostname;return r==="localhost"||r==="127.0.0.1"||r==="[::1]"||r===""||r.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)!==null}function Rh(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function uc(e){let r=e||globalThis.location.hostname;return/(^localhost)|(^127\.)|(^192\.168\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2\d\.)|(^172\.3[0-1]\.)|(^::1$)|(^[fF][cCdD])/.test(r)}var ti=Element.prototype.matches,q=(e,r)=>new q.init(e,r);q.version="1.4.0",q.build_time="08.03.2025, 03:24:58",q.info=()=>console.info(`%c Dom %c v${q.version} %c ${q.build_time} `,"color: white; font-weight: bold; background: #fd6a02","color: white; background: darkgreen","color: white; background: #0080fe;"),q.fn=q.prototype=Object.create(Array.prototype),q.prototype.constructor=q,q.prototype.uid="",q.extend=q.fn.extend=function(){let e,r,f=arguments[0]||{},o=1,t=arguments.length;for(typeof f!="object"&&typeof f!="function"&&(f={}),o===t&&(f=this,o--);o<t;o++)if((e=arguments[o])!=null)for(r in e)Fs(e,r)&&(f[r]=e[r]);return f},q.assign=function(){let e,r,f=arguments[0]||{},o=1,t=arguments.length;for(typeof f!="object"&&typeof f!="function"&&(f={}),o===t&&(f=this,o--);o<t;o++)if((e=arguments[o])!=null)for(r in e)Fs(e,r)&&e[r]!==void 0&&(f[r]=e[r]);return f},function(e){try{let m=new Blob([`
            var fakeIdToId = {};
            onmessage = function (event) {
                var data = event.data,
                    name = data.name,
                    fakeId = data.fakeId,
                    time;
                if(data.hasOwnProperty('time')) {
                    time = data.time;
                }
                switch (name) {
                    case 'setInterval':
                        fakeIdToId[fakeId] = setInterval(function () {
                            postMessage({fakeId: fakeId});
                        }, time);
                        break;
                    case 'clearInterval':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearInterval(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                    case 'setTimeout':
                        fakeIdToId[fakeId] = setTimeout(function () {
                            postMessage({fakeId: fakeId});
                            if (fakeIdToId.hasOwnProperty (fakeId)) {
                                delete fakeIdToId[fakeId];
                            }
                        }, time);
                        break;
                    case 'clearTimeout':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearTimeout(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                }
            }
        `]);e=window.URL.createObjectURL(m)}catch{}let r,f={},o=0,t=2147483647,i="";function c(){do o===t?o=0:o++;while(f.hasOwnProperty(o));return o}if(typeof Worker<"u")try{r=new Worker(e),window.setInterval=function(m,b){let w=c();return f[w]={callback:m,parameters:Array.prototype.slice.call(arguments,2)},r.postMessage({name:"setInterval",fakeId:w,time:b}),w},window.clearInterval=function(m){f.hasOwnProperty(m)&&(delete f[m],r.postMessage({name:"clearInterval",fakeId:m}))},window.setTimeout=function(m,b){let w=c();return f[w]={callback:m,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},r.postMessage({name:"setTimeout",fakeId:w,time:b}),w},window.clearTimeout=function(m){f.hasOwnProperty(m)&&(delete f[m],r.postMessage({name:"clearTimeout",fakeId:m}))},window.setImmediate=function(m){return setTimeout(m,0)},window.clearImmediate=function(m){clearTimeout(m)},r.onmessage=function(m){let b=m.data,w=b.fakeId,S,D,I;if(f.hasOwnProperty(w)&&(S=f[w],I=S.callback,D=S.parameters,S.hasOwnProperty("isTimeout")&&S.isTimeout&&delete f[w]),typeof I=="string")try{I=new Function(I)}catch(P){console.error(i+"Error parsing callback code string: ",P)}typeof I=="function"&&I.apply(window,D)},r.onerror=function(m){console.error(m)}}catch{console.log("Can't create worker for Intervals, use standard functions.")}}(),q.fn.extend({index:function(e){let r,f=-1;return this.length===0||(rt(e)?r=this[0]:e instanceof q&&e.length>0?r=e[0]:typeof e=="string"?r=q(e)[0]:r=void 0,rt(r))||r&&r.parentNode&&q.each(r.parentNode.children,function(o){this===r&&(f=o)}),f},indexOf:function(e){let r,f=-1;return this.length===0||(rt(e)?r=this[0]:e instanceof q&&e.length>0?r=e[0]:typeof e=="string"?r=q(e)[0]:r=void 0,rt(r))||this.each(function(o){this===r&&(f=o)}),f},get:function(e){return e===void 0?this.items():e<0?this[e+this.length]:this[e]},eq:function(e){return!rt(e)&&this.length>0?q.extend(q(this.get(e)),{_prevObj:this}):this},is:function(e){let r=!1;return this.length===0?!1:e instanceof q?this.same(e):(e===":selected"?this.each(function(){this.selected&&(r=!0)}):e===":checked"?this.each(function(){this.checked&&(r=!0)}):e===":visible"?this.each(function(){us(this)&&(r=!0)}):e===":hidden"?this.each(function(){let f=getComputedStyle(this);(this.getAttribute("type")==="hidden"||this.hidden||f.display==="none"||f.visibility==="hidden"||parseInt(f.opacity)===0)&&(r=!0)}):typeof e=="string"&&[":selected"].indexOf(e)===-1?this.each(function(){ti.call(this,e)&&(r=!0)}):As(e)?this.each(function(){let f=this;q.each(e,function(){f===this&&(r=!0)})}):typeof e=="object"&&e.nodeType===1&&this.each(function(){this===e&&(r=!0)}),r)},same:function(e){let r=!0;return e instanceof q||(e=q(e)),this.length!==e.length?!1:(this.each(function(){e.items().indexOf(this)===-1&&(r=!1)}),r)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){let e=this.filter(function(r,f){return f%2===0});return q.extend(e,{_prevObj:this})},even:function(){let e=this.filter(function(r,f){return f%2!==0});return q.extend(e,{_prevObj:this})},filter:function(e){if(typeof e=="string"){let r=e;e=function(f){return ti.call(f,r)}}return q.extend(q.merge(q(),[].filter.call(this,e)),{_prevObj:this})},find:function(e){let r=[],f;return e instanceof q?e:(this.length===0?f=this:(this.each(function(){let o=this;typeof o.querySelectorAll<"u"&&(r=r.concat([].slice.call(o.querySelectorAll(e))))}),f=q.merge(q(),r)),q.extend(f,{_prevObj:this}))},contains:function(e){return this.find(e).length>0},children:function(e){let r,f=[];return e instanceof q?e:(this.each(function(){let o=this;for(r=0;r<o.children.length;r++)o.children[r].nodeType===1&&f.push(o.children[r])}),f=e?f.filter(function(o){return ti.call(o,e)}):f,q.extend(q.merge(q(),f),{_prevObj:this}))},parent:function(e){let r=[];if(this.length!==0)return e instanceof q?e:(this.each(function(){this.parentNode&&r.indexOf(this.parentNode)===-1&&r.push(this.parentNode)}),r=e?r.filter(function(f){return ti.call(f,e)}):r,q.extend(q.merge(q(),r),{_prevObj:this}))},parents:function(e){let r=[];if(this.length!==0)return e instanceof q?e:(this.each(function(){let f=this.parentNode;for(;f;)f.nodeType===1&&r.indexOf(f)===-1&&(rt(e)||ti.call(f,e))&&r.push(f),f=f.parentNode}),q.extend(q.merge(q(),r),{_prevObj:this}))},siblings:function(e){let r=[];if(this.length!==0)return e instanceof q?e:(this.each(function(){let f=this;f.parentNode&&q.each(f.parentNode.children,function(){f!==this&&r.push(this)})}),e&&(r=r.filter(function(f){return ti.call(f,e)})),q.extend(q.merge(q(),r),{_prevObj:this}))},_siblingAll:function(e,r){let f=[];if(this.length!==0)return r instanceof q?r:(this.each(function(){let o=this;for(;o&&(o=o[e],!!o);)f.push(o)}),r&&(f=f.filter(function(o){return ti.call(o,r)})),q.extend(q.merge(q(),f),{_prevObj:this}))},_sibling:function(e,r){let f=[];if(this.length!==0)return r instanceof q?r:(this.each(function(){let o=this[e];o&&o.nodeType===1&&f.push(o)}),r&&(f=f.filter(function(o){return ti.call(o,r)})),q.extend(q.merge(q(),f),{_prevObj:this}))},prev:function(e){return this._sibling("previousElementSibling",e)},next:function(e){return this._sibling("nextElementSibling",e)},prevAll:function(e){return this._siblingAll("previousElementSibling",e)},nextAll:function(e){return this._siblingAll("nextElementSibling",e)},closest:function(e){let r=[];if(this.length!==0)return e instanceof q?e:e?(this.each(function(){let f=this;for(;f&&f;){if(ti.call(f,e)){r.push(f);return}f=f.parentElement}}),q.extend(q.merge(q(),r.reverse()),{_prevObj:this})):this.parent(e)},has:function(e){let r=[];if(this.length!==0)return this.each(function(){q(this).children(e).length>0&&r.push(this)}),q.extend(q.merge(q(),r),{_prevObj:this})},back:function(e){let r;if(e===!0)for(r=this._prevObj;r&&r._prevObj;)r=r._prevObj;else r=this._prevObj?this._prevObj:this;return r}});function cc(e,r=document.body){let f=document.createElement("script");if(f.type="text/javascript",rt(e))return q(f);let o=q(e)[0];return o.src?f.src=o.src:f.textContent=o.innerText,o.type&&(f.type=o.type),o.async&&(f.async=o.async),r.appendChild(f),o.parentNode&&o.parentNode.removeChild(o),f}q.extend({script:function(e,r){if(!rt(e))if(e instanceof q&&(e=e[0]),e.tagName&&e.tagName==="SCRIPT")cc(e,r);else{let f=q(e).find("script");q.each(f,function(){cc(this,r)})}},loadScript:function(e,r=document.body,f){let o=document.createElement("script");o.type="text/javascript",o.src=e,o.onload=f,r.appendChild(o)}}),q.fn.extend({script:function(e){return this.each(function(){q.script(this,e)})}}),q.fn.extend({_prop:function(e,r){return arguments.length===1?this.length===0?void 0:this[0][e]:(rt(r)&&(r=""),this.each(function(){let f=this;f[e]=r,e==="innerHTML"&&q.script(f,f)}))},prop:function(e,r){return arguments.length===1?this._prop(e):this._prop(e,typeof r>"u"?"":r)},val:function(e){return rt(e)?this.length===0?void 0:this[0].value:this.each(function(){let r=q(this);typeof this.value<"u"?this.value=e:r.html(e)})},html:function(e){let r=this,f=[];return arguments.length===0?this._prop("innerHTML"):(e instanceof q?e.each(function(){f.push(q(this).outerHTML())}):f.push(e),r._prop("innerHTML",f.join(`
`)),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(e){return arguments.length===0?this._prop("textContent"):this._prop("textContent",typeof e>"u"?"":e)},innerText:function(e){return arguments.length===0?this._prop("innerText"):this._prop("innerText",typeof e>"u"?"":e)},empty:function(){return this.each(function(){typeof this.innerHTML<"u"&&(this.innerHTML="")})},clear:function(){return this.empty()}}),q.each=function(e,r){let f=0;if(As(e))[].forEach.call(e,function(o,t){r.apply(o,[t,o])});else for(let o in e)Fs(e,o)&&r.apply(e[o],[o,e[o],f++]);return e},q.fn.extend({each:function(e){return q.each(this,e)}});var Oo=function(e){this.expando="DATASET:UID:"+e.toUpperCase(),Oo.uid++};Oo.uid=-1,Oo.prototype={cache:function(e){let r=e[this.expando];return r||(r={},Lo(e)&&(e.nodeType?e[this.expando]=r:Object.defineProperty(e,this.expando,{value:r,configurable:!0}))),r},set:function(e,r,f){let o,t=this.cache(e);if(typeof r=="string")t[tn(r)]=f;else for(o in r)Fs(r,o)&&(t[tn(o)]=r[o]);return t},get:function(e,r){return r===void 0?this.cache(e):e[this.expando]&&e[this.expando][tn(r)]},access:function(e,r,f){return r===void 0||r&&typeof r=="string"&&f===void 0?this.get(e,r):(this.set(e,r,f),f!==void 0?f:r)},remove:function(e,r){let f,o=e[this.expando];if(o!==void 0){if(r!==void 0)for(Array.isArray(r)?r=r.map(tn):(r=tn(r),r=r in o?[r]:r.match(/[^\x20\t\r\n\f]+/g)||[]),f=r.length;f--;)delete o[r[f]];return(r===void 0||Na(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando]),!0}},hasData:function(e){let r=e[this.expando];return r!==void 0&&!Na(r)}};var ds=new Oo("dom");q.extend({hasData:function(e){return ds.hasData(e)},data:function(e,r,f){return ds.access(e,r,f)},removeData:function(e,r){return ds.remove(e,r)},dataSet:function(e){if(rt(e))return ds;if(["INTERNAL","DOM"].indexOf(e.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new Oo(e)}}),q.fn.extend({data:function(e,r){let f,o,t,i,c,m;if(this.length!==0){if(o=this[0],arguments.length===0){if(this.length&&(t=ds.get(o),o.nodeType===1))for(i=o.attributes,m=i.length;m--;)i[m]&&(c=i[m].name,c.indexOf("data-")===0&&(c=tn(c.slice(5)),za(o,c,t[c])));return t}return arguments.length===1?(f=ds.get(o,e),f===void 0&&o.nodeType===1&&o.hasAttribute("data-"+e)&&(f=o.getAttribute("data-"+e)),f):this.each(function(){ds.set(this,e,r)})}},removeData:function(e){return this.each(function(){ds.remove(this,e)})},origin:function(e,r,f){if(this.length===0)return this;if(rt(e)&&rt(r))return q.data(this[0]);if(rt(r)){let o=q.data(this[0],"origin-"+e);return rt(o)?f:o}return this.data("origin-"+e,r),this}}),q.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:lc(),isLocalhost:lc,touchable:Rh(),isPrivateAddress:uc,uniqueId:function(e){let r=new Date().getTime();return rt(e)&&(e="m4q"),(e!==""?e+"-":"")+"xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){let o=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(f==="x"?o:o&3|8).toString(16)})},toArray:function(e){let r,f=[];for(r=0;r<e.length;r++)f.push(e[r]);return f},import:function(e){let r=[];return this.each(e,function(){r.push(this)}),this.merge(q(),r)},merge:function(e,r){let f=+r.length,o=0,t=e.length;for(;o<f;o++)e[t++]=r[o];return e.length=t,e},type:function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)]$/,"$1").toLowerCase()},isSelector:function(e){if(typeof e!="string")return!1;try{return document.querySelector(e),!0}catch{return!1}},remove:function(e){return q(e).remove()},isPlainObject:cs,isEmptyObject:Na,isArrayLike:As,acceptData:Lo,not:rt,parseUnit:Si,getUnit:wr,unit:Si,isVisible:us,isHidden:Bh,matches:function(e,r){return ti.call(e,r)},random:function(e,r){return arguments.length===1&&As(e)?e[Math.floor(Math.random()*e.length)]:Math.floor(Math.random()*(r-e+1)+e)},hasProp:Fs,dark:globalThis.matchMedia&&globalThis.matchMedia("(prefers-color-scheme: dark)").matches,serializeToArray:function(e){let r=q(e)[0];if(!r||r.nodeName!=="FORM"){console.warn("Element is not a HTMLFromElement");return}let f,o,t=[];for(f=r.elements.length-1;f>=0;f=f-1)if(r.elements[f].name!=="")switch(r.elements[f].nodeName){case"INPUT":switch(r.elements[f].type){case"checkbox":case"radio":r.elements[f].checked&&t.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].value));break;case"file":break;default:t.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].value))}break;case"TEXTAREA":t.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].value));break;case"SELECT":switch(r.elements[f].type){case"select-one":t.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].value));break;case"select-multiple":for(o=r.elements[f].options.length-1;o>=0;o=o-1)r.elements[f].options[o].selected&&t.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].options[o].value));break}break;case"BUTTON":switch(r.elements[f].type){case"reset":case"submit":case"button":t.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].value));break}break}return t},serialize:function(e){return q.serializeToArray(e).join("&")},viewport:function(){let e=window,r=document,f=r.documentElement,o=r.getElementsByTagName("body")[0],t=e.innerWidth||f.clientWidth||o.clientWidth,i=e.innerHeight||f.clientHeight||o.clientHeight;return{width:t,height:i}}}),q.fn.extend({items:function(){return q.toArray(this)}});var dc=Event.prototype.stopPropagation,Nh=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,dc.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,Nh.apply(this,arguments)},Event.prototype.stop=function(e){return e?this.stopImmediatePropagation():this.stopPropagation()},q.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(e){let r,f=-1,o,t;if(this.events.length>0){for(r=0;r<this.events.length;r++)if(this.events[r].handler===null){f=r;break}}return o={element:e.el,event:e.event,handler:e.handler,selector:e.selector,ns:e.ns,id:e.id,options:e.options},f===-1?(this.events.push(o),t=this.events.length-1):(this.events[f]=o,t=f),t},getEventHandler:function(e){if(this.events[e]!==void 0&&this.events[e]!==null)return this.events[e]=null,this.events[e].handler},off:function(){return q.each(this.events,function(){this.element.removeEventListener(this.event,this.handler,!0)}),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(e,r,f="before"){return q.each(Is(e),function(){this.eventHooks[tn(f+"-"+this)]=r}),this},removeEventHook:function(e,r="before"){return q.each(Is(e),function(){delete this.eventHooks[tn(r+"-"+this)]}),this},removeEventHooks:function(e){let r=this;return rt(e)?this.eventHooks={}:q.each(Is(e),function(){delete r.eventHooks[tn("before-"+this)],delete r.eventHooks[tn("after-"+this)]}),this}}),q.fn.extend({on:function(e,r,f,o){if(this.length!==0)return typeof r=="function"&&(o=f,f=r,r=void 0),cs(o)||(o={}),this.each(function(){let t=this;q.each(Is(e),function(){let i,c=this,m=c.split("."),b=El(m[0]),w=o.ns?o.ns:m[1],S,D;q.eventUID++,i=function(I){let P=I.target,V=q.eventHooks[tn("before-"+b)],z=q.eventHooks[tn("after-"+b)];if(typeof V=="function"&&V.call(P,I),!r)f.call(t,I);else for(;P&&P!==t;){if(ti.call(P,r)&&(f.call(P,I),I.isPropagationStopped)){I.stopImmediatePropagation();break}P=P.parentNode}typeof z=="function"&&z.call(P,I),o.once&&(S=+q(t).origin("event-"+I.type+(r?":"+r:"")+(w?":"+w:"")),isNaN(S)||q.events.splice(S,1))},Object.defineProperty(i,"name",{value:f.name&&f.name!==""?f.name:"func_event_"+b+"_"+q.eventUID}),D=b+(r?":"+r:"")+(w?":"+w:""),t.addEventListener(b,i,Na(o)?!1:o),S=q.setEventHandler({el:t,event:b,handler:i,selector:r,ns:w,id:q.eventUID,options:Na(o)?!1:o}),q(t).origin("event-"+D,S)})})},one:function(e,r,f,o){return cs(o)||(o={}),o.once=!0,this.on.apply(this,[e,r,f,o])},off:function(e,r,f){return cs(r)&&(f=r,r=null),cs(f)||(f={}),rt(e)||e.toLowerCase()==="all"?this.each(function(){let o=this;q.each(q.events,function(){let t=this;t.element===o&&(o.removeEventListener(t.event,t.handler,t.options),t.handler=null,q(o).origin("event-"+name+(t.selector?":"+t.selector:"")+(t.ns?":"+t.ns:""),null))})}):this.each(function(){let o=this;q.each(Is(e),function(){let t=this.split("."),i=El(t[0]),c=f.ns?f.ns:t[1],m,b;m="event-"+i+(r?":"+r:"")+(c?":"+c:""),b=q(o).origin(m),b!==void 0&&q.events[b].handler&&(o.removeEventListener(i,q.events[b].handler,q.events[b].options),q.events[b].handler=null),q(o).origin(m,null)})})},trigger:function(e,r){return this.fire(e,r)},fire:function(e,r){let f,o;if(this.length!==0)return f=El(e),["focus","blur"].indexOf(f)>-1?(this[0][f](),this):(o=new CustomEvent(f,{bubbles:!0,cancelable:!0,detail:r}),this.each(function(){this.dispatchEvent(o)}))}}),"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach(function(e){q.fn[e]=function(r,f,o){return arguments.length>0?this.on(e,r,f,o):this.fire(e)}}),q.fn.extend({hover:function(e,r){return this.mouseenter(e).mouseleave(r||e)}}),q.ready=function(e,r){document.addEventListener("DOMContentLoaded",e,r||!1)},q.load=function(e){return q(window).on("load",e)},q.unload=function(e){return q(window).on("unload",e)},q.fn.extend({unload:function(e){return this.length===0||this[0].self!==window?void 0:q.unload(e)}}),q.beforeunload=function(e){return typeof e=="string"?q(window).on("beforeunload",function(r){return r.returnValue=e,e}):q(window).on("beforeunload",e)},q.fn.extend({beforeunload:function(e){return this.length===0||this[0].self!==window?void 0:q.beforeunload(e)}}),q.fn.extend({ready:function(e){if(this.length&&this[0]===document&&typeof e=="function")return q.ready(e)}}),q.ajax=function(e){return new Promise(function(r,f){let o=new XMLHttpRequest,t=(e.method||"GET").toUpperCase(),i=[],c=rt(e.async)?!0:e.async,m=e.url,b,w=function(I,P){typeof I=="function"&&I.apply(null,P)},S=function(I){return["GET","JSON"].indexOf(I)!==-1},D=function(I){let P=[];return q.each(I,function(V,z){let K=rc(z)?z:JSON.stringify(z);P.push(V+"="+K)}),P.join("&")};if(e.data instanceof HTMLFormElement){let I=e.data.getAttribute("action").trim(),P=e.data.getAttribute("method").trim();rt(m)&&I&&(m=I),P&&(t=P.toUpperCase())}if(e.timeout&&(o.timeout=e.timeout),e.withCredentials&&(o.withCredentials=e.withCredentials),e.data instanceof HTMLFormElement)b=q.serialize(e.data);else if(e.data instanceof HTMLElement&&e.data.getAttribute("type")&&e.data.getAttribute("type").toLowerCase()==="file"){let I=e.data.getAttribute("name");b=new FormData;for(let P=0;P<e.data.files.length;P++)b.append(I,e.data.files[P])}else cs(e.data)?b=D(e.data):e.data instanceof FormData||typeof e.data=="string"?b=e.data:(b=new FormData,b.append("_data",JSON.stringify(e.data)));S(t)&&(m+=typeof b=="string"?"?"+b:Na(b)?"":"?"+JSON.stringify(b)),o.open(t,m,c,e.user,e.password),e.headers&&q.each(e.headers,function(I,P){o.setRequestHeader(I,P),i.push(I)}),S(t)||i.indexOf("Content-type")===-1&&e.contentType!==!1&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(b),o.addEventListener("load",function(I){if(o.readyState===4&&o.status<300){let P=e.returnValue&&e.returnValue==="xhr"?o:o.response;if(e.parseJson)try{P=JSON.parse(P)}catch{P={}}w(r,[P]),w(e.onSuccess,[I,o])}else w(f,[o]),w(e.onFail,[I,o]);w(e.onLoad,[I,o])}),q.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],function(){let I=tn("on-"+(this==="readystatechange"?"state":this));o.addEventListener(I,function(P){w(e[I],[P,o])})})})},["GET","POST","PUT","PATCH","DELETE","JSON"].forEach(function(e){q[e.toLowerCase()]=function(r,f,o){let t={method:e==="JSON"?"GET":e,url:r,data:f,parseJson:e==="JSON"};return q.ajax(q.extend({},t,o))}}),q.fn.extend({load:function(e,r,f){let o=this;return this.length&&this[0].self===window?q.load(e):q.get(e,r,f).then(function(t){o.each(function(){this.innerHTML=t})})}}),q.fn.extend({style:function(e,r){let f;function o(t,i,c){return["scrollLeft","scrollTop"].indexOf(i)>-1?q(t)[i]():getComputedStyle(t,c)[i]}if(!(typeof e=="string"&&this.length===0)){if(this.length===0)return this;if(f=this[0],rt(e)||e==="all")return getComputedStyle(f,r);{let t={},i=e.split(", ").map(function(c){return(""+c).trim()});return i.length===1?o(f,i[0],r):(q.each(i,function(){let c=this;t[this]=o(f,c,r)}),t)}}},removeStyleProperty:function(e){if(rt(e)||this.length===0)return this;let r=e.split(", ").map(function(f){return(""+f).trim()});return this.each(function(){let f=this;q.each(r,function(){f.style.removeProperty(this)})})},removeStyle:function(e){if(!e)return this;let r=Is(e,", ");return this.each(function(){let f=this;q.each(r,function(){f.style[this]=""})})},css:function(e,r){return e=e||"all",typeof e=="string"&&rt(r)?this.style(e):this.each(function(){let f=this;typeof e=="object"?q.each(e,function(o,t){Ki(f,o,t)}):typeof e=="string"&&Ki(f,e,r)})},cssVar:function(e,r){return rt(e)?this:rt(r)?getComputedStyle(this[0]).getPropertyValue("--"+e):this.each(function(){this.style.setProperty("--"+e,r)})}}),q.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(e){return this.hasClass(e)},hasClass:function(e){let r=!1,f=e.split(" ").filter(function(o){return(""+o).trim()!==""});return rt(e)?!1:(this.each(function(){let o=this;q.each(f,function(){!r&&o.classList&&o.classList.contains(this)&&(r=!0)})}),r)},clearClasses:function(){return this.each(function(){this.className=""})},cls:function(e=!1){return this.length===0?void 0:e?this[0].className.split(" "):this[0].className},removeClassBy:function(e){return this.each(function(){let r=q(this),f=r.cls(!0);q.each(f,function(){let o=this;o.indexOf(e)>-1&&r.removeClass(o)})})},classNames:function(){let e=Array.prototype.slice.call(arguments,0),r=[];return q.each(e,function(f,o){typeof o=="string"?r.push(o):cs(o)?q.each(o,function(t,i){i&&r.push(t)}):oc()}),this.each(function(){this.className+=" "+r.join(" ")})}}),["add","remove","toggle"].forEach(function(e){q.fn[e+"Class"]=function(r){let f=r?Array.isArray(r)?r:r.split(" ").filter(function(o){return!!o}):[];return f.length?this.each(function(){let o=this;typeof o.classList<"u"?q.each(f,function(t,i){o.classList[e](i)}):o.className+=f.join(" ")}):this}}),q.parseHTML=function(e){let r,f,o=[],t,i,c=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof e!="string")return[];if(e=e.trim(),t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=document.location.href,t.head.appendChild(r),i=t.body,f=c.exec(e),f)o.push(document.createElement(f[1]));else{i.innerHTML=e;for(let m=0;m<i.childNodes.length;m++)o.push(i.childNodes[m])}return o},q.fn.extend({_size:function(e,r){if(this.length!==0){if(rt(r)){let f=this[0];if(e==="height")return f===window?window.innerHeight:f===document?f.body.clientHeight:parseInt(getComputedStyle(f).height);if(e==="width")return f===window?window.innerWidth:f===document?f.body.clientWidth:parseInt(getComputedStyle(f).width)}return this.each(function(){let f=this;f===window||f===document||(f.style[e]=isNaN(r)?r:r+"px")})}},height:function(e){return this._size("height",e)},width:function(e){return this._size("width",e)},_sizeOut:function(e,r){let f,o,t,i;if(this.length!==0)return!rt(r)&&typeof r!="boolean"?this.each(function(){let c=this;if(c===window||c===document)return;let m,b=getComputedStyle(c),w=e==="width"?parseInt(b["border-left-width"])+parseInt(b["border-right-width"]):parseInt(b["border-top-width"])+parseInt(b["border-bottom-width"]),S=e==="width"?parseInt(b["padding-left"])+parseInt(b["padding-right"]):parseInt(b["padding-top"])+parseInt(b["padding-bottom"]);m=q(this)[e](r)[e]()-w-S,c.style[e]=m+"px"}):(f=this[0],o=f[e==="width"?"offsetWidth":"offsetHeight"],t=getComputedStyle(f),i=o+parseInt(t[e==="width"?"margin-left":"margin-top"])+parseInt(t[e==="width"?"margin-right":"margin-bottom"]),r===!0?i:o)},outerWidth:function(e){return this._sizeOut("width",e)},outerHeight:function(e){return this._sizeOut("height",e)},padding:function(e){if(this.length===0)return;let r=getComputedStyle(this[0],e);return{top:parseInt(r["padding-top"]),right:parseInt(r["padding-right"]),bottom:parseInt(r["padding-bottom"]),left:parseInt(r["padding-left"])}},margin:function(e){if(this.length===0)return;let r=getComputedStyle(this[0],e);return{top:parseInt(r["margin-top"]),right:parseInt(r["margin-right"]),bottom:parseInt(r["margin-bottom"]),left:parseInt(r["margin-left"])}},border:function(e){if(this.length===0)return;let r=getComputedStyle(this[0],e);return{top:parseInt(r["border-top-width"]),right:parseInt(r["border-right-width"]),bottom:parseInt(r["border-bottom-width"]),left:parseInt(r["border-left-width"])}}}),q.fn.extend({offset:function(e){let r;return rt(e)?this.length===0?void 0:(r=this[0].getBoundingClientRect(),{top:r.top+scrollY,left:r.left+scrollX}):this.each(function(){let f=q(this),o=e.top,t=e.left,i=getComputedStyle(this).position,c=f.offset();i==="static"&&f.css("position","relative"),["absolute","fixed"].indexOf(i)===-1&&(o=o-c.top,t=t-c.left),f.css({top:o,left:t})})},position:function(e=!1){let r=0,f=0,o,t;if(this.length!==0)return o=this[0],t=getComputedStyle(o),e&&(r=parseInt(t["margin-left"]),f=parseInt(t["margin-top"])),{left:o.offsetLeft-r,top:o.offsetTop-f}},left:function(e,r){if(this.length!==0)return rt(e)?this.position(r).left:typeof e=="boolean"?(r=e,this.position(r).left):this.each(function(){q(this).css({left:e})})},top:function(e,r){if(this.length!==0)return rt(e)?this.position(r).top:typeof e=="boolean"?(r=e,this.position(r).top):this.each(function(){q(this).css({top:e})})},rect:function(){return this.length===0?void 0:this[0].getBoundingClientRect()},pos:function(){if(this.length===0)return;let e=this[0];return{top:parseInt(e.style("top")),left:parseInt(e.style("left"))}}}),q.fn.extend({attr:function(e,r){let f={};if(!(this.length===0&&arguments.length===0))return this.length&&arguments.length===0?(q.each(this[0].attributes,function(){f[this.nodeName]=this.nodeValue}),f):arguments.length===1&&typeof e=="string"?this.length&&this[0].nodeType===1&&this[0].hasAttribute(e)?this[0].getAttribute(e):void 0:this.each(function(){let o=this;cs(e)?q.each(e,function(t,i){o.setAttribute(t,i)}):o.setAttribute(e,r)})},removeAttr:function(e){let r;return rt(e)?this.each(function(){let f=this;q.each(this.attributes,function(){f.removeAttribute(this)})}):(r=typeof e=="string"?e.split(",").map(function(f){return f.trim()}):e,this.each(function(){let f=this;q.each(r,function(){f.hasAttribute(this)&&f.removeAttribute(this)})}))},toggleAttr:function(e,r){return this.each(function(){let f=this;rt(r)?f.removeAttribute(e):f.setAttribute(e,r)})},id:function(e){return typeof e>"u"?this.length===1?q(this[0]).attr("id"):this.map(r=>q(r).attr("id")):this.each(function(){q(this).attr("id",e)})},title:function(e){return typeof e>"u"?this.length?q(this[0]).attr("title"):void 0:this.each(function(){q(this).attr("title",e)})},href:function(e){return typeof e>"u"?this.length&&this[0].tagName==="A"?this[0].href:void 0:this.each(function(){this.tagName==="A"&&(this.href=e)})},name:function(e){return typeof e>"u"?this.length&&this[0].name?this[0].name:void 0:this.each(function(){this.name&&(this.name=e)})},src:function(e){return typeof e>"u"?this.length&&this[0].src?this[0].src:void 0:this.each(function(){this.src&&(this.src=e)})}}),q.extend({meta:function(e){return rt(e)?q("meta"):q("meta[name='$name']".replace("$name",e))},metaBy:function(e){return rt(e)?q("meta"):q("meta[$name]".replace("$name",e))},doctype:function(){return q("doctype")},html:function(){return q("html")},head:function(){return q("html").find("head")},body:function(){return q("body")},document:function(){return q(document)},window:function(){return q(window)},charset:function(e){if(e){let r=q("meta[charset]");r.length>0&&r.attr("charset",e)}return document.characterSet},lang:function(e){if(e){let r=q("html");r.length>0&&r.attr("lang",e)}return document.documentElement.lang},title:function(e){if(typeof e>"u")return document.title;document.title=e}}),q.extend({bind:(e,r)=>e.bind(r)}),function(e){e.forEach(function(r){["append","prepend"].forEach(function(f){Fs(r,f)||Object.defineProperty(r,f,{configurable:!0,enumerable:!0,writable:!0,value:function(){let o=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();o.forEach(function(i){let c=i instanceof Node;t.appendChild(c?i:document.createTextNode(String(i)))}),f==="prepend"?this.insertBefore(t,this.firstChild):this.appendChild(t)}})})})}([Element.prototype,Document.prototype,DocumentFragment.prototype]);var Zi=function(e){let r;return typeof e=="string"?r=q.isSelector(e)?q(e):q.parseHTML(e):e instanceof HTMLElement?r=[e]:As(e)&&(r=e),r};q.fn.extend({appendText:function(e){return this.each(function(r,f){f.innerHTML+=e})},prependText:function(e){return this.each(function(r,f){f.innerHTML=e+f.innerHTML})},append:function(e){let r=Zi(e);return this.each(function(f,o){q.each(r,function(){if(o===this)return;let t=f===0?this:this.cloneNode(!0);t.tagName&&t.tagName==="SCRIPT"?q.script(t,o):o.append(t)})})},appendTo:function(e){let r=Zi(e);return this.each(function(){let f=this;q.each(r,function(o,t){f!==this&&t.append(o===0?f:f.cloneNode(!0))})})},prepend:function(e){let r=Zi(e);return this.each(function(f,o){q.each(r,function(){if(o===this)return;let t=f===0?this:this.cloneNode(!0);q.script(t),t.tagName&&t.tagName!=="SCRIPT"&&o.prepend(t)})})},prependTo:function(e){let r=Zi(e);return this.each(function(){let f=this;q.each(r,function(o,t){f!==this&&q(t).prepend(o===0?f:f.cloneNode(!0))})})},insertBefore:function(e){let r=Zi(e);return this.each(function(){let f=this;q.each(r,function(o){if(f===this)return;let t=this.parentNode;t&&t.insertBefore(o===0?f:f.cloneNode(!0),this)})})},insertAfter:function(e){let r=Zi(e);return this.each(function(){let f=this;q.each(r,function(o,t){if(f===this)return;let i=this.parentNode;i&&i.insertBefore(o===0?f:f.cloneNode(!0),t.nextSibling)})})},after:function(e){return this.each(function(){let r=this;typeof e=="string"?r.insertAdjacentHTML("afterend",e):q(e).insertAfter(r)})},before:function(e){return this.each(function(){let r=this;typeof e=="string"?r.insertAdjacentHTML("beforebegin",e):q(e).insertBefore(r)})},clone:function(e,r){let f=[];return rt(e)&&(e=!1),rt(r)&&(r=!1),this.each(function(){let o=this.cloneNode(e),t=q(o),i;r&&q.hasData(this)&&(i=q(this).data(),q.each(i,function(c,m){t.data(c,m)})),f.push(o)}),q.merge(q(),f)},import:function(e){let r=[];return rt(e)&&(e=!1),this.each(function(){r.push(document.importNode(this,e))}),q.merge(q(),r)},adopt:function(){let e=[];return this.each(function(){e.push(document.adoptNode(this))}),q.merge(q(),e)},remove:function(e){let r=0,f,o,t=[];if(this.length!==0){for(o=e?this.filter(function(i){return ti.call(i,e)}):this.items();(f=o[r])!=null;r++)f.parentNode&&(t.push(f.parentNode.removeChild(f)),q.removeData(f));return q.merge(q(),t)}},wrap:function(e){if(this.length===0)return;let r=q(Zi(e));if(!r.length)return;let f=[];return this.each(function(){let o,t;for(t=r.clone(!0,!0),t.insertBefore(this),o=t;o.children().length;)o=o.children().eq(0);o.append(this),f.push(t)}),q(f)},wrapAll:function(e){let r,f,o;if(this.length!==0&&(r=q(Zi(e)),!!r.length)){for(f=r.clone(!0,!0),f.insertBefore(this[0]),o=f;o.children().length;)o=o.children().eq(0);return this.each(function(){o.append(this)}),f}},wrapInner:function(e){if(this.length===0)return;let r=q(Zi(e));if(!r.length)return;let f=[];return this.each(function(){let o=q(this),t=o.html(),i=r.clone(!0,!0);o.html(i.html(t)),f.push(i)}),q(f)}}),q.extend({animation:{duration:1e3,ease:"linear",elements:{}}}),typeof window.setupAnimation=="object"&&q.each(window.setupAnimation,function(e,r){typeof q.animation[e]<"u"&&!rt(r)&&(q.animation[e]=r)});var _r=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],Ha=["opacity","zIndex"],zh=["opacity","volume"],Hh=["scrollLeft","scrollTop"],Vh=["opacity","volume"];function Va(e){return e instanceof HTMLElement||e instanceof SVGElement}function Pn(e,r){let f=/^(\*=|\+=|-=)/.exec(e);if(!f)return e;let o=wr(e)||0,t=parseFloat(r),i=parseFloat(e.replace(f[0],""));switch(f[0][0]){case"+":return t+i+o;case"-":return t-i+o;case"*":return t*i+o;case"/":return t/i+o}}function Wh(e,r,f){return typeof e[r]<"u"?Hh.indexOf(r)>-1?r==="scrollLeft"?e===window?scrollX:e.scrollLeft:e===window?scrollY:e.scrollTop:e[r]||0:e.style[r]||getComputedStyle(e,f)[r]}function hc(e,r,f,o,t){rt(t)&&(t=!1),r=tn(r),t&&(f=parseInt(f)),Va(e)?typeof e[r]<"u"?e[r]=f:e.style[r]=r==="transform"||r.toLowerCase().indexOf("color")>-1?f:f+o:e[r]=f}function Po(e,r,f){q.each(r,function(o,t){hc(e,o,t[0]+t[2]*f,t[3],t[4])})}function fc(e){if(!Va(e))return{};let r=e.style.transform||"",f=/(\w+)\(([^)]*)\)/g,o={},t;for(;t=f.exec(r);)o[t[1]]=t[2];return o}function kr(e){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e||"#000000").slice(1).map(function(r){return parseInt(r,16)})}function jh(e,r){return getComputedStyle(e)[r].replace(/[^\d.,]/g,"").split(",").map(function(f){return parseInt(f)})}function Ml(e,r,f){let o=[],t=fc(e);q.each(r,function(i,c){let m=c[0],b=c[1],w=c[2],S=c[3];i=""+i,(i.indexOf("rotate")>-1||i.indexOf("skew")>-1)&&S===""&&(S="deg"),i.indexOf("scale")>-1&&(S=""),i.indexOf("translate")>-1&&S===""&&(S="px"),S==="turn"?o.push(i+"("+b*f+S+")"):o.push(i+"("+(m+w*f)+S+")")}),q.each(t,function(i,c){r[i]===void 0&&o.push(i+"("+c+")")}),e.style.transform=o.join(" ")}function pc(e,r,f){q.each(r,function(o,t){let i,c=[0,0,0],m;for(i=0;i<3;i++)c[i]=Math.floor(t[0][i]+t[2][i]*f);m="rgb("+c.join(",")+")",e.style[o]=m})}function gc(e){let r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return e[0]==="#"&&e.length===4?"#"+e.replace(r,function(f,o,t,i){return o+o+t+t+i+i}):e[0]==="#"?e:"#"+e}function mc(e,r,f){Po(e,r.props,f),Ml(e,r.transform,f),pc(e,r.color,f)}function vc(e,r,f){let o={props:{},transform:{},color:{}},t,i,c,m,b,w,S=fc(e);return rt(f)&&(f="normal"),q.each(r,function(D,I){let P=_r.indexOf(""+D)>-1,V=Ha.indexOf(""+D)>-1,z=(""+D).toLowerCase().indexOf("color")>-1;if(Array.isArray(I)&&I.length===1&&(I=I[0]),Array.isArray(I)?(i=z?kr(gc(I[0])):Si(I[0]),c=z?kr(gc(I[1])):Si(I[1])):(P?i=S[D]||D==="scale"?1:0:z?i=jh(e,D):i=Wh(e,D,void 0),i=z?i:Si(i),c=z?kr(I):Si(Pn(I,Array.isArray(i)?i[0]:i))),Vh.indexOf(""+D)>-1&&i[0]===c[0]&&(i[0]=c[0]>0?0:1),f==="reverse"&&(w=i,i=c,c=w),b=e instanceof HTMLElement&&c[1]===""&&!V&&!P?"px":c[1],z)for(m=[0,0,0],t=0;t<3;t++)m[t]=c[t]-i[t];else m=c[0]-i[0];P?o.transform[D]=[i[0],c[0],m,b]:z?o.color[D]=[i,c,m,b]:o.props[D]=[i[0],c[0],m,b,zh.indexOf(""+D)===-1]}),o}function Al(e,r,f){return Math.min(Math.max(e,r),f)}var Ji={linear:function(){return function(e){return e}}};Ji.default=Ji.linear;var oa={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){let r,f=4;for(;e<((r=Math.pow(2,--f))-1)/11;);return 1/Math.pow(4,3-f)-7.5625*Math.pow((r*3-2)/22-e,2)}},Elastic:function(e,r){rt(e)&&(e=1),rt(r)&&(r=.5);let f=Al(e,1,10),o=Al(r,.1,2);return function(t){return t===0||t===1?t:-f*Math.pow(2,10*(t-1))*Math.sin((t-1-o/(Math.PI*2)*Math.asin(1/f))*(Math.PI*2)/o)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,r){oa[e]=function(){return function(f){return Math.pow(f,r+2)}}}),Object.keys(oa).forEach(function(e){let r=oa[e];Ji["easeIn"+e]=r,Ji["easeOut"+e]=function(f,o){return function(t){return 1-r(f,o)(1-t)}},Ji["easeInOut"+e]=function(f,o){return function(t){return t<.5?r(f,o)(t*2)/2:1-r(f,o)(t*-2+2)/2}}});var hs={id:null,el:null,draw:{},dur:q.animation.duration,ease:q.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function Wa(e){return new Promise(function(r){let f=this,o=q.assign({},hs,{dur:q.animation.duration,ease:q.animation.ease},e),t=o.id,i=o.el,c=o.draw,m=o.dur,b=o.ease,w=o.loop,S=o.onStart,D=o.onFrame,I=o.onDone,P=o.pause,V=o.dir,z=o.defer,K={},ye="linear",_e=[],Ne=Ji.linear,Ie,Se=V==="alternate"?"normal":V,Me=!1,Be=t||+(performance.now()*Math.pow(10,14));if(rt(i))throw new Error("Unknown element!");if(typeof i=="string"&&(i=document.querySelector(i)),typeof c!="function"&&typeof c!="object")throw new Error("Unknown draw object. Must be a function or object!");m===0&&(m=1),V==="alternate"&&typeof w=="number"&&(w*=2),typeof b=="string"?(Ie=/\(([^)]+)\)/.exec(b),ye=b.split("(")[0],_e=Ie?Ie[1].split(",").map(function(Yt){return parseFloat(Yt)}):[],Ne=Ji[ye]||Ji.linear):typeof b=="function"?Ne=b:Ne=Ji.linear,q.animation.elements[Be]={element:i,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};let ze=function(){typeof c=="object"&&(K=vc(i,c,Se)),typeof S=="function"&&S.apply(i),q.animation.elements[Be].loop+=1,q.animation.elements[Be].started=performance.now(),q.animation.elements[Be].duration=m,q.animation.elements[Be].id=requestAnimationFrame(St)},kt=function(){cancelAnimationFrame(q.animation.elements[Be].id),delete q.animation.elements[t],typeof I=="function"&&I.apply(i),r(f)},St=function(Yt){let Zt,Jt,{stop:bi,pause:wa,started:bs}=q.animation.elements[Be];if(q.animation.elements[Be].paused&&(bs=Yt-q.animation.elements[Be].t*m,q.animation.elements[Be].started=bs),Jt=((Yt-bs)/m).toFixed(4),Jt>1&&(Jt=1),Jt<0&&(Jt=0),Zt=Ne.apply(null,_e)(Jt),q.animation.elements[Be].t=Jt,q.animation.elements[Be].p=Zt,wa){q.animation.elements[Be].id=requestAnimationFrame(St);return}if(bi>0){bi===2&&(typeof c=="function"?c.bind(i)(1,1):mc(i,K,1)),kt();return}typeof c=="function"?c.bind(i)(Jt,Zt):mc(i,K,Zt),typeof D=="function"&&D.apply(i,[Jt,Zt]),Jt<=1&&(q.animation.elements[Be].id=requestAnimationFrame(St)),Jt>=1&&(w?(V==="alternate"&&(Se=Se==="normal"?"reverse":"normal"),typeof w=="boolean"?setTimeout(function(){ze()},P):w>q.animation.elements[Be].loop?setTimeout(function(){ze()},P):kt()):V==="alternate"&&!Me?(Se=Se==="normal"?"reverse":"normal",Me=!0,ze()):kt())};z>0?setTimeout(function(){ze()},z):ze()})}function Ls(e,r){let f=q.animation.elements[e];typeof f<"u"&&(rt(r)&&(r=!0),f.stop=r===!0?2:1,typeof f.onStop=="function"&&f.onStop.apply(f.element))}function bc(e,r){q.each(q.animation.elements,function(f,o){r?typeof r=="string"?ti.call(o.element,r)&&Ls(f,e):r.length?q.each(r,function(){o.element===this&&Ls(f,e)}):r instanceof Element&&o.element===r&&Ls(f,e):Ls(f,e)})}function fi(e){let r=q.animation.elements[e];typeof r<"u"&&(r.pause=1,r.paused=performance.now(),typeof r.onPause=="function"&&r.onPause.apply(r.element))}function ra(e){q.each(q.animation.elements,function(r,f){e?typeof e=="string"?ti.call(f.element,e)&&fi(r):e.length?q.each(e,function(){f.element===this&&fi(r)}):e instanceof Element&&f.element===e&&fi(r):fi(r)})}function Os(e){let r=q.animation.elements[e];typeof r<"u"&&(r.pause=0,r.paused=0,typeof r.onResume=="function"&&r.onResume.apply(r.element))}function Uh(e){q.each(q.animation.elements,function(r,f){e?typeof e=="string"?ti.call(f.element,e)&&Os(r):e.length?q.each(e,function(){f.element===this&&Os(r)}):e instanceof Element&&f.element===e&&Os(r):Os(r)})}var yc={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};function xc(e,r){let f=q.extend({},yc,r);if(typeof f.loop!="boolean"&&f.loop--,!Array.isArray(e))return console.warn("Chain array is not defined!"),!1;let o=function(t,i){return t.then(function(){return typeof f.onChainItem=="function"&&f.onChainItem(i),Wa(i).then(function(){typeof f.onChainItemComplete=="function"&&f.onChainItemComplete(i)})})};e.reduce(o,Promise.resolve()).then(function(){typeof f.onChainComplete=="function"&&f.onChainComplete(),f.loop&&xc(e,f)})}q.easing={},q.extend(q.easing,Ji),q.extend({animate:function(e){let r,f,o,t,i;return arguments.length>1?(r=q(arguments[0])[0],f=arguments[1],o=arguments[2]||q.animation.duration,t=arguments[3]||q.animation.ease,i=arguments[4],typeof o=="function"&&(i=o,t=q.animation.ease,o=q.animation.duration),typeof t=="function"&&(i=t,t=q.animation.ease),Wa({el:r,draw:f,dur:o,ease:t,onDone:i})):Wa(e)},chain:xc,stop:Ls,stopAll:bc,resume:Os,resumeAll:Uh,pause:fi,pauseAll:ra}),q.fn.extend({animate:function(e){let r=this,f,o,t,i,c=e,m;return m=!Array.isArray(e)&&(arguments.length>1||arguments.length===1&&typeof arguments[0].draw>"u"),m?(f=arguments[0],o=arguments[1]||q.animation.duration,t=arguments[2]||q.animation.ease,i=arguments[3],typeof o=="function"&&(i=o,o=q.animation.duration,t=q.animation.ease),typeof t=="function"&&(i=t,t=q.animation.ease),this.each(function(){return q.animate({el:this,draw:f,dur:o,ease:t,onDone:i})})):Array.isArray(e)?(q.each(e,function(){let b=this;r.each(function(){b.el=this,q.animate(b)})}),this):this.each(function(){c.el=this,q.animate(c)})},chain:function(e,r){return this.each(function(){let f=this;q.each(e,function(){this.el=f}),q.chain(e,r)})},stop:function(e){return this.each(function(){let r=this;q.each(q.animation.elements,function(f,o){o.element===r&&Ls(f,e)})})},pause:function(){return this.each(function(){let e=this;q.each(q.animation.elements,function(r,f){f.element===e&&fi(r)})})},resume:function(){return this.each(function(){let e=this;q.each(q.animation.elements,function(r,f){f.element===e&&Os(r)})})}}),q.extend({hidden:function(e,r,f){return e=q(e)[0],typeof r=="string"&&(r=r.toLowerCase()==="true"),typeof r=="function"&&(f=r,r=!e.hidden),e.hidden=r,typeof f=="function"&&(q.bind(f,e),f.call(e,arguments)),this},hide:function(e,r){let f=q(e);e=f[0];let o=e.style.display,t=getComputedStyle(e,null).display;return f.origin("display",{inline:o,css:t}),e.style.display="none",typeof r=="function"&&(q.bind(r,e),r.call(e,arguments)),this},show:function(e,r){let f=q(e).origin("display");if(e=q(e)[0],e.style.display="",f){let o=f.inline||"",t=f.css||"";o&&o!=="none"?e.style.display=o:t==="none"&&(e.style.display="block")}else e.style.display="block";return parseInt(e.style.opacity)===0&&(e.style.opacity="1"),typeof r=="function"&&(q.bind(r,e),r.call(e,arguments)),this},visible:function(e,r,f){return r===void 0&&(r=!0),e.style.visibility=r?"visible":"hidden",typeof f=="function"&&(q.bind(f,e),f.call(e,arguments)),this},toggle:function(e,r){let f=getComputedStyle(e,null).display!=="none"?"hide":"show";return q[f](e,r)}}),q.fn.extend({hide:function(){let e;return q.each(arguments,function(){typeof this=="function"&&(e=this)}),this.each(function(){q.hide(this,e)})},show:function(){let e;return q.each(arguments,function(){typeof this=="function"&&(e=this)}),this.each(function(){q.show(this,e)})},visible:function(e,r){return this.each(function(){q.visible(this,e,r)})},toggle:function(e){return this.each(function(){q.toggle(this,e)})},hidden:function(e,r){return this.each(function(){q.hidden(this,e,r)})}}),q.extend({fx:{off:!1}}),q.fn.extend({fadeIn:function(e,r,f){return this.each(function(){let o=this,t=q(o),i=!(!us(o)||us(o)&&+t.style("opacity")==0);if(rt(e)&&rt(r)&&rt(f)?(f=null,e=q.animation.duration):typeof e=="function"&&(f=e,e=q.animation.duration),typeof r=="function"&&(f=r,r=q.animation.ease),q.fx.off&&(e=0),i)return typeof f=="function"&&q.bind(f,this)(),this;let c=t.origin("display",void 0,"block");return o.style.opacity="0",o.style.display=c,q.animate({el:o,draw:{opacity:1},dur:e,ease:r,onDone:function(){typeof f=="function"&&q.bind(f,this)()}})})},fadeOut:function(e,r,f){return this.each(function(){let o=this,t=q(o);return rt(e)&&rt(r)&&rt(f)?(f=null,e=q.animation.duration):typeof e=="function"&&(f=e,e=q.animation.duration),typeof r=="function"&&(f=r,r=q.animation.ease),t.origin("display",t.style("display")),us(o)?q.animate({el:o,draw:{opacity:0},dur:e,ease:r,onDone:function(){this.style.display="none",typeof f=="function"&&q.bind(f,this)()}}):(typeof f=="function"&&q.bind(f,this)(),this)})},slideUp:function(e,r,f){return this.each(function(){let o=this,t=q(o),i;if(t.height()!==0)return rt(e)&&rt(r)&&rt(f)?(f=null,e=q.animation.duration):typeof e=="function"&&(f=e,e=q.animation.duration),typeof r=="function"&&(f=r,r=q.animation.ease),i=t.height(),t.origin("height",i),t.origin("display",q(o).style("display")),t.css({overflow:"hidden"}),q.animate({el:o,draw:{height:0},dur:e,ease:r,onDone:function(){t.hide().removeStyleProperty("overflow, height"),typeof f=="function"&&q.bind(f,this)()}})})},slideDown:function(e,r,f){return this.each(function(){let o=this,t=q(o),i,c;return rt(e)&&rt(r)&&rt(f)?(f=null,e=q.animation.duration):typeof e=="function"&&(f=e,e=q.animation.duration),typeof r=="function"&&(f=r,r=q.animation.ease),t.show().visible(!1),i=+t.origin("height",void 0,t.height()),parseInt(i)===0&&(i=o.scrollHeight),c=t.origin("display",t.style("display"),"block"),t.height(0).visible(!0),t.css({overflow:"hidden",display:c==="none"?"block":c}),q.animate({el:o,draw:{height:i},dur:e,ease:r,onDone:function(){q(o).removeStyleProperty("overflow, height, visibility"),typeof f=="function"&&q.bind(f,this)()}})})},moveTo:function(e,r,f,o,t){let i={top:r,left:e};return typeof f=="function"&&(t=f,f=q.animation.duration,o=q.animation.ease),typeof o=="function"&&(t=o,o=q.animation.ease),this.each(function(){q.animate({el:this,draw:i,dur:f,ease:o,onDone:t})})},centerTo:function(e,r,f,o,t){return typeof f=="function"&&(t=f,f=q.animation.duration,o=q.animation.ease),typeof o=="function"&&(t=o,o=q.animation.ease),this.each(function(){let i={left:e-this.clientWidth/2,top:r-this.clientHeight/2};q.animate({el:this,draw:i,dur:f,ease:o,onDone:t})})},colorTo:function(e,r,f,o){let t={color:e};return typeof r=="function"&&(o=r,r=q.animation.duration,f=q.animation.ease),typeof f=="function"&&(o=f,f=q.animation.ease),this.each(function(){q.animate({el:this,draw:t,dur:r,ease:f,onDone:o})})},backgroundTo:function(e,r,f,o){let t={backgroundColor:e};return typeof r=="function"&&(o=r,r=q.animation.duration,f=q.animation.ease),typeof f=="function"&&(o=f,f=q.animation.ease),this.each(function(){q.animate({el:this,draw:t,dur:r,ease:f,onDone:o})})},zoomIn:function(e,r,f){let o={scale:[0,1]};return typeof e=="function"&&(f=e,e=q.animation.duration,r=q.animation.ease),typeof r=="function"&&(f=r,r=q.animation.ease),this.each(function(){q.animate({el:this,draw:o,dur:e,ease:r,onDone:f})})},zoomOut:function(e=1e3,r="linear",f=()=>{}){return typeof e=="function"&&(f=e,e=q.animation.duration,r=q.animation.ease),typeof r=="function"&&(f=r,r=q.animation.ease),this.each(function(){q.animate({el:this,draw:{scale:0},dur:e,ease:r,onDone:f})})}}),q.extend({scrollTop:function(e){if(rt(e))return window.scrollY;window.scrollTo(window.scrollX,e)},scrollLeft:function(e){if(rt(e))return window.scrollX;window.scrollTo(e,window.scrollY)},scrollTo:function(e,r){window.scrollTo(e,r)},scrollToElement:function(e){q(e).scrollTo()}}),q.fn.extend({scrollTop:function(e){return rt(e)?this.length===0?void 0:this[0]===window?scrollY:this[0].scrollTop:this.each(function(){this.scrollTop=e})},scrollLeft:function(e){return rt(e)?this.length===0?void 0:this[0]===window?scrollX:this[0].scrollLeft:this.each(function(){this.scrollLeft=e})},scrollTo:function(e=!1){if(this.length===0)return this;let r=this[0].getBoundingClientRect(),f=r.left+(e?0:window.scrollX),o=r.top+(e?0:window.scrollY);return window.scrollTo(f,o),this}}),q.init=function(e,r){let f,o=this;if(typeof e=="string"&&(e=e.trim()),this.uid=q.uniqueId(),!e)return this;if(typeof e=="function")return q.ready(e);if(e instanceof Element)return this.push(e),this;if(e instanceof q)return q.each(e,function(){o.push(this)}),this;if(e==="window"&&(e=window),e==="document"&&(e=document),e==="body"&&(e=document.body),e==="html"&&(e=document.documentElement),e==="doctype"&&(e=document.doctype),e&&(e.nodeType||e.self===window))return this.push(e),this;if(As(e))return q.each(e,function(){q(this).each(function(){o.push(this)})}),this;if(typeof e!="string"&&e.self&&e.self!==window)return this;if(e==="#"||e===".")return console.error("Selector can't be # or ."),this;if(e[0]==="@")q("[data-role]").each(function(){Is(q(this).attr("data-role"),",").indexOf(e.slice(1))>-1&&o.push(this)});else if(f=q.parseHTML(e),f.length===1&&f[0].nodeType===3)try{[].push.apply(this,document.querySelectorAll(e))}catch{}else q.merge(this,f);return r!==void 0&&(r instanceof q?this.each(function(){q(r).append(o)}):r instanceof HTMLElement?q(r).append(o):cs(r)&&q.each(this,function(){for(let t in r)Fs(r,t)&&this.setAttribute(t,r[t])})),this},q.init.prototype=q.fn,globalThis.$=q,globalThis.Dom=q;var Il={};E(Il,{EVENTS:()=>_c,info:()=>qh,useClickOutside:()=>Fl,useCompose:()=>ja,useCookie:()=>Qi,useCurry:()=>Cc,useDebounce:()=>wc,useEvent:()=>$h,useId:()=>Bo,useInterval:()=>Tc,useMediaQuery:()=>Dc,useMemo:()=>Ol,usePipe:()=>Sr,useQueue:()=>Ec,useState:()=>Pl,useThrottle:()=>Bl,useToggle:()=>Ac});function Fl(e,r){if(!e)return{attach:()=>{},detach:()=>{}};let f=o=>{e.contains(o.target)||r()};return{attach:()=>document.addEventListener("click",f),detach:()=>document.removeEventListener("click",f)}}function ja(...e){if(!e.every(r=>typeof r=="function"))throw new Error("useCompose: все аргументы должны быть функциями");switch(e.length){case 0:return r=>r;case 1:return e[0];case 2:{let[r,f]=e;return(...o)=>r(f(...o))}default:return function(...r){let f=e[e.length-1](...r);for(let o=e.length-2;o>=0;o--)f=e[o](f);return f}}}function Qi(e){function r(){let t=document.cookie.match(new RegExp(`(?:^|; )${e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")}=([^;]*)`));return t?decodeURIComponent(t[1]):null}function f(t,i={}){i=k({path:"/"},i),document.cookie=`${e}=${encodeURIComponent(t)}; ${Object.keys(i).map(c=>`${c}=${i[c]}`).join("; ")}`}function o(){f("",{"max-age":-1})}return{get:r,set:f,delete:o}}function Cc(e){if(typeof e!="function")throw new Error("useCurry: первый аргумент должен быть функцией");return function r(...f){return f.length>=e.length?e.apply(this,f):function(...o){return r.apply(this,f.concat(o))}}}function wc(e,r,f={}){if(typeof e!="function")throw new Error("useDebounce: первый аргумент должен быть функцией");if(r<0)throw new Error("useDebounce: время ожидания должно быть положительным числом");let o=null,t;function i(...c){let m=this,b=f.immediate&&!o;return o!==null&&clearTimeout(o),o=setTimeout(()=>{o=null,f.immediate||(t=e.apply(m,c))},r),b&&(t=e.apply(m,c)),t}return i.cancel=function(){o!==null&&(clearTimeout(o),o=null)},i}var _c=(e=>(e.LOAD="load",e.VIEWPORT="viewport",e.ATTRIBUTE="attribute",e.CHILDREN="children",e.DATA="data",e))(_c||{}),$h=({event:e,root:r,target:f,effect:o})=>{let t=typeof f=="string"?document.querySelector(f):f;if(typeof o!="function")throw Error("Side effect must be a function!");if(!t)throw Error("Please specify a target element!");switch(e){case"load":{new MutationObserver((i,c)=>{let m=document.querySelector(f);m!==null&&(o(m),c.disconnect())}).observe(document.body,{childList:!0,subtree:!0});break}case"viewport":{let i={root:r instanceof HTMLElement?r:typeof r=="string"?document.querySelector(r):null,rootMargin:"0px",threshold:.5};new IntersectionObserver((c,m)=>{for(let b of c)b.isIntersecting&&o(t)},i).observe(t);break}case"attribute":{new MutationObserver(i=>{for(let c of i)c.target===t&&c.type==="attributes"&&o(t,c.attributeName,t.getAttribute(c.attributeName))}).observe(t,{attributes:!0});break}case"children":{new MutationObserver(i=>{for(let c of i)c.target===t&&c.type==="childList"&&o(t,c.addedNodes,c.removedNodes)}).observe(t,{childList:!0,subtree:!0});break}case"data":{new MutationObserver(i=>{for(let c of i)c.target===t&&c.type==="characterData"&&o(t,t.textContent)}).observe(t,{characterData:!0});break}default:t instanceof HTMLElement&&t.addEventListener(e,i=>{o(t,i)})}},Ll=new Map,kc=0;function Sc(e){return e.replace(/[^a-zA-Z0-9_-]/g,"_")}function Bo(e,r={}){let f=e??Symbol("id-key"),{divider:o="-",prefix:t="id",forceNew:i=!1}=r;if(!i&&Ll.has(f))return Ll.get(f);let c=typeof document<"u",m=1e3,b=0,w=()=>{let D;return e instanceof HTMLElement?D=e.tagName.toLowerCase():typeof e=="object"&&e!==null?D="object":e!==void 0?D=Sc(String(e)):D="generic",`${t}${o}${D}${o}${kc++}`},S=w();if(c)for(;document.getElementById(S);){if(b++>m)throw new Error("useId: не удалось сгенерировать уникальный ID после многочисленных попыток");S=w()}return Ll.set(f,S),S}function Tc(e,r){let f=null;function o(){f||(f=window.setInterval(()=>e(),r))}function t(){f&&(window.clearInterval(f),f=null)}return{start:o,stop:t}}function Dc(e){let r=window.matchMedia(e);function f(){return r.matches}let o=f();function t(){o=f()}return r.addEventListener("change",t),o}var Ol=(e,r={})=>{let f=new Map,{maxSize:o}=r,t=(...i)=>{let c=JSON.stringify(i);if(f.has(c))return f.get(c);let m=e(...i);if(o&&f.size>=o){let b=f.keys().next().value;f.delete(b)}return f.set(c,m),m};return t.clearCache=()=>(f.clear(),!0),t};function Sr(...e){if(!e.every(r=>typeof r=="function"))throw new Error("usePipe: все аргументы должны быть функциями");switch(e.length){case 0:return r=>r;case 1:return e[0];case 2:{let[r,f]=e;return(...o)=>f(r(...o))}default:return function(...r){let f=e[0](...r);for(let o=1;o<e.length;o++)f=e[o](f);return f}}}function Ec(){let e=[];return{enqueue:r=>(e.push(r),e.length),dequeue:()=>e.shift(),peek:()=>e[0]||null,size:()=>e.length,isEmpty:()=>e.length===0,clear:()=>{e.length=0}}}var es=[],Vi=-1,Mc=class{constructor(e){this.index=e}valueOf(){return es[this.index].value}toString(){let e=es[this.index].value;return String(e)}[Symbol.toPrimitive](e){let r=es[this.index].value;return e==="number"&&typeof r=="number"?r:e==="string"?String(r):r}},Pl=(e,r)=>{let f=Vi++;return es[f]||(es[f]={value:e}),[new Mc(f),o=>{let t=es[f].value,i=typeof o=="function"?o(t):o;es[f].value=i,typeof r=="function"&&r(i,t)}]};function Bl(e,r,f={}){if(typeof e!="function")throw new Error("useThrottle: первый аргумент должен быть функцией");if(r<0)throw new Error("useThrottle: время ожидания должно быть положительным числом");let o=null,t=null,i=null,c,m=null,{leading:b=!0,trailing:w=!0}=f;function S(){c=e.apply(i,t),t=i=null,m=Date.now()}function D(...I){let P=Date.now();!m&&!b&&(m=P);let V=r-(P-m);return t=I,i=this,V<=0||V>r?(o&&(clearTimeout(o),o=null),S()):!o&&w&&(o=setTimeout(()=>{o=null,w&&t&&S()},V)),c}return D.cancel=function(){o&&(clearTimeout(o),o=null),t=i=null,m=null},D}function Ac(e=!1){let r=e;return{get:()=>r,toggle:()=>(r=!r,r),set:f=>(r=f,r)}}var Ic="0.13.0",Rl="07.03.2025, 15:05:04",qh=()=>{console.info(`%c Hooks %c v${Ic} %c ${Rl} `,"color: #ffffff; font-weight: bold; background: #5c2c05","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Hooks=Il;var Wn=class{constructor(e=0,r=0,f=0){this.h=e,this.s=r,this.v=f}toString(){return"hsv("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.v*100)+"%"].join(", ")+")"}},Tr=class{constructor(e=0,r=0,f=0){this.h=e,this.s=(""+r).includes("%")?parseInt(r)/100:r,this.l=(""+f).includes("%")?parseInt(f)/100:f}toString(){return"hsl("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%"].join(", ")+")"}},ts=class{constructor(e=0,r=0,f=0,o=0){this.h=e,this.s=(""+r).includes("%")?parseInt(r)/100:r,this.l=(""+f).includes("%")?parseInt(f)/100:f,this.a=o}toString(){return"hsla("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%",parseFloat(this.a).toFixed(2)].join(", ")+")"}},Jn=class{constructor(e=0,r=0,f=0){this.r=e,this.g=r,this.b=f}toString(){return`rgb(${this.r},${this.g},${this.b})`}},Wi=class{constructor(e=0,r=0,f=0,o=0){this.r=e,this.g=r,this.b=f,this.a=o}toString(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}},Ua=class{constructor(e=0,r=0,f=0,o=0){this.c=e,this.m=r,this.y=f,this.k=o}toString(){return`cmyk(${this.c},${this.m},${this.y},${this.k})`}},Ps={aliceBlue:"#f0f8ff",antiqueWhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedAlmond:"#ffebcd",blue:"#0000ff",blueViolet:"#8a2be2",brown:"#a52a2a",burlyWood:"#deb887",cadetBlue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerBlue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkBlue:"#00008b",darkCyan:"#008b8b",darkGoldenRod:"#b8860b",darkGray:"#a9a9a9",darkGreen:"#006400",darkKhaki:"#bdb76b",darkMagenta:"#8b008b",darkOliveGreen:"#556b2f",darkOrange:"#ff8c00",darkOrchid:"#9932cc",darkRed:"#8b0000",darkSalmon:"#e9967a",darkSeaGreen:"#8fbc8f",darkSlateBlue:"#483d8b",darkSlateGray:"#2f4f4f",darkTurquoise:"#00ced1",darkViolet:"#9400d3",deepPink:"#ff1493",deepSkyBlue:"#00bfff",dimGray:"#696969",dodgerBlue:"#1e90ff",fireBrick:"#b22222",floralWhite:"#fffaf0",forestGreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostWhite:"#F8F8FF",gold:"#ffd700",goldenRod:"#daa520",gray:"#808080",green:"#008000",greenYellow:"#adff2f",honeyDew:"#f0fff0",hotPink:"#ff69b4",indianRed:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderBlush:"#fff0f5",lawnGreen:"#7cfc00",lemonChiffon:"#fffacd",lightBlue:"#add8e6",lightCoral:"#f08080",lightCyan:"#e0ffff",lightGoldenRodYellow:"#fafad2",lightGray:"#d3d3d3",lightGreen:"#90ee90",lightPink:"#ffb6c1",lightSalmon:"#ffa07a",lightSeaGreen:"#20b2aa",lightSkyBlue:"#87cefa",lightSlateGray:"#778899",lightSteelBlue:"#b0c4de",lightYellow:"#ffffe0",lime:"#00ff00",limeGreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumAquaMarine:"#66cdaa",mediumBlue:"#0000cd",mediumOrchid:"#ba55d3",mediumPurple:"#9370db",mediumSeaGreen:"#3cb371",mediumSlateBlue:"#7b68ee",mediumSpringGreen:"#00fa9a",mediumTurquoise:"#48d1cc",mediumVioletRed:"#c71585",midnightBlue:"#191970",mintCream:"#f5fffa",mistyRose:"#ffe4e1",moccasin:"#ffe4b5",navajoWhite:"#ffdead",navy:"#000080",oldLace:"#fdd5e6",olive:"#808000",oliveDrab:"#6b8e23",orange:"#ffa500",orangeRed:"#ff4500",orchid:"#da70d6",paleGoldenRod:"#eee8aa",paleGreen:"#98fb98",paleTurquoise:"#afeeee",paleVioletRed:"#db7093",papayaWhip:"#ffefd5",peachPuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderBlue:"#b0e0e6",purple:"#800080",rebeccaPurple:"#663399",red:"#ff0000",rosyBrown:"#bc8f8f",royalBlue:"#4169e1",saddleBrown:"#8b4513",salmon:"#fa8072",sandyBrown:"#f4a460",seaGreen:"#2e8b57",seaShell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyBlue:"#87ceeb",slateBlue:"#6a5acd",slateGray:"#708090",snow:"#fffafa",springGreen:"#00ff7f",steelBlue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whiteSmoke:"#f5f5f5",yellow:"#ffff00",yellowGreen:"#9acd32"},Dr={lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},Nl={color:function(e,r=Ps,f=void 0){return r[e]!==void 0?r[e]:f},palette:function(e=Ps){return Object.keys(e)},colors:function(e=Ps){return Object.values(e)}},Bs={HSV:Wn,HSL:Tr,HSLA:ts,RGB:Jn,RGBA:Wi,CMYK:Ua},qt={HEX:"hex",RGB:"rgb",RGBA:"rgba",HSV:"hsv",HSL:"hsl",HSLA:"hsla",CMYK:"cmyk",UNKNOWN:"unknown"},jn={angle:30,algorithm:1,step:.1,distance:5,tint1:.8,tint2:.4,shade1:.6,shade2:.3,alpha:1,baseLight:"#ffffff",baseDark:"self"};function Rs(e,r){let f;switch(r){case"hex":f=e.map(function(o){return ii(o)});break;case"rgb":f=e.map(function(o){return yn(o)});break;case"rgba":f=e.map(function(o){return Hs(o,opt.alpha)});break;case"hsl":f=e.map(function(o){return Vs(o)});break;case"hsla":f=e.map(function(o){return Za(o,opt.alpha)});break;case"cmyk":f=e.map(function(o){return Ro(o)});break;default:f=e}return f}function ni(e,r,f){return Math.max(r,Math.min(e,f))}function pi(e,r,f){return e<r?r:e>f?f:e}function Ti(e,r){for(e+=r;e>=360;)e-=360;for(;e<0;)e+=360;return e}var zl=e=>{let r=b=>/^#([A-Fa-f0-9]{3}){1,2}$/.test(b),f=b=>/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(b),o=b=>/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(b),t=b=>/^hsv\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(b),i=b=>/^hsl\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(b),c=b=>/^hsla\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(b),m=b=>/^cmyk\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(b);return r(e)||f(e)||t(e)||c(e)||c(e)||o(e)||i(e)||m(e)},$a=(e="hex",r="#000000")=>{let f;return typeof r=="string"&&(f=Ui(r)),Ii(f)||(f="#000000"),Un(f,e.toLowerCase())},Fc=$a,la=function(e){if(Ii(e)&&typeof e!="string")return e;if(typeof e!="string")throw new Error("Value is not a string!");if(e[0]==="#"&&e.length===4){let r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return"#"+e.replace(r,(f,o,t,i)=>o+o+t+t+i+i)}return e[0]==="#"?e:"#"+e},Er=la,Hl=e=>{if(e=Ui(e),!Ii(e))return;let r=yn(e);return(r.r*299+r.g*587+r.b*114)/1e3<128},Mr=e=>!Hl(e),ua=e=>Ui(e)instanceof Wn,ca=e=>Ui(e)instanceof Tr,fs=e=>Ui(e)instanceof ts,ns=e=>Ui(e)instanceof Jn,ji=e=>Ui(e)instanceof Wi,qa=e=>Ui(e)instanceof Ua,Ns=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),Ii=e=>e?typeof e=="string"?zl(e):Ns(e)||ns(e)||ji(e)||ua(e)||ca(e)||fs(e)||qa(e):!1,is=e=>Ns(e)?qt.HEX:ns(e)?qt.RGB:ji(e)?qt.RGBA:ua(e)?qt.HSV:ca(e)?qt.HSL:fs(e)?qt.HSLA:qa(e)?qt.CMYK:qt.UNKNOWN,Lc=(e,r)=>!Ii(e)||!Ii(r)?!1:ii(e)===ii(r),Ar=e=>e.toString(),Ya=e=>{let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(la(e)),f=[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)];return r?new Jn(...f):null},ps=e=>"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1),gi=e=>{let r=new Wn,f,o,t,i=e.r/255,c=e.g/255,m=e.b/255,b=Math.max(i,c,m),w=Math.min(i,c,m),S=b-w;return t=b,b===0?o=0:o=1-w/b,b===w?f=0:b===i&&c>=m?f=60*((c-m)/S):b===i&&c<m?f=60*((c-m)/S)+360:b===c?f=60*((m-i)/S)+120:b===m?f=60*((i-c)/S)+240:f=0,r.h=f,r.s=o,r.v=t,r},zs=e=>{let r,f,o,t=e.h,i=e.s*100,c=e.v*100,m=Math.floor(t/60),b=(100-i)*c/100,w=(c-b)*(t%60/60),S=b+w,D=c-w;switch(m){case 0:r=c,f=S,o=b;break;case 1:r=D,f=c,o=b;break;case 2:r=b,f=c,o=S;break;case 3:r=b,f=D,o=c;break;case 4:r=S,f=b,o=c;break;case 5:r=c,f=b,o=D;break}return new Jn(Math.round(r*255/100),Math.round(f*255/100),Math.round(o*255/100))},Ir=e=>ps(zs(e)),Oc=e=>gi(Ya(e)),da=e=>{let r=new Ua,f=e.r/255,o=e.g/255,t=e.b/255;return r.k=Math.min(1-f,1-o,1-t),r.c=1-r.k===0?0:(1-f-r.k)/(1-r.k),r.m=1-r.k===0?0:(1-o-r.k)/(1-r.k),r.y=1-r.k===0?0:(1-t-r.k)/(1-r.k),r.c=Math.round(r.c*100),r.m=Math.round(r.m*100),r.y=Math.round(r.y*100),r.k=Math.round(r.k*100),r},Fr=e=>{let r=Math.floor(255*(1-e.c/100)*(1-e.k/100)),f=Math.ceil(255*(1-e.m/100)*(1-e.k/100)),o=Math.ceil(255*(1-e.y/100)*(1-e.k/100));return new Jn(r,f,o)},ss=e=>{let r,f,o,t;return r=parseInt(e.h),o=(2-e.s)*e.v,f=e.s*e.v,o===0?f=0:(t=o<=1?o:2-o,t===0?f=0:f/=t),o/=2,Number.isNaN(f)&&(f=0),Number.isNaN(o)&&(o=0),new Tr(r,f,o)},Ga=e=>{let r,f,o,t;return r=e.h,t=e.l*2,f=e.s*(t<=1?t:2-t),o=(t+f)/2,t+f===0?f=0:f=2*f/(t+f),new Wn(r,f,o)},Di=e=>new Jn(Math.round(e.r/51)*51,Math.round(e.g/51)*51,Math.round(e.b/51)*51),Xa=e=>{let r=Di(e);return new Wi(r.r,r.g,r.b,e.a)},ha=e=>ps(Di(Ya(e))),Vl=e=>gi(Di(yn(e))),Wl=e=>ss(gi(Di(yn(e)))),jl=e=>da(Di(Fr(e))),Ul=e=>Ns(e)?ha(e):ns(e)?Di(e):ji(e)?Xa(e):ua(e)?Vl(e):ca(e)?Wl(e):qa(e)?jl(e):e,Un=(e,r="rgb",f=1)=>{let o;switch(r.toLowerCase()){case"hex":o=ii(e);break;case"rgb":o=yn(e);break;case"rgba":o=Hs(e,f);break;case"hsl":o=Vs(e);break;case"hsla":o=Za(e,f);break;case"hsv":o=Ka(e);break;case"cmyk":o=Ro(e);break;default:o=e}return o},ii=e=>typeof e=="string"&&e[0]==="#"?la(e):ps(yn(Qa(e))),yn=e=>{if(ns(e))return e;if(ji(e))return new Jn(e.r,e.g,e.b);if(ua(e))return zs(e);if(ca(e)||fs(e))return zs(Ga(e));if(Ns(e))return Ya(e);if(qa(e))return Fr(e);throw new Error("Unknown color format!")},Hs=(e,r=1)=>{if(ji(e))return r&&(e.a=r),e;let f=yn(e);return new Wi(f.r,f.g,f.b,typeof e.a<"u"?e.a:r)},Ka=e=>gi(yn(e)),Vs=e=>ss(gi(yn(e))),Za=(e,r=1)=>{if(fs(e))return r&&(e.a=r),e;let f=ss(gi(yn(e)));return f.a=typeof e.a<"u"?e.a:r,new ts(f.h,f.s,f.l,f.a)},Ro=e=>da(yn(e)),mi=e=>{let r=yn(e),f=is(e).toLowerCase(),o=Math.round(r.r*.2125+r.g*.7154+r.b*.0721),t=new Jn(o,o,o);return Un(t,f)},Sn=(e,r=10)=>pn(e,-1*Math.abs(r)),pn=(e,r=10)=>{let f,o,t=r>0,i=function(c,m){let b,w,S,D=c.slice(1),I=parseInt(D,16);return b=(I>>16)+m,b>255?b=255:b<0&&(b=0),S=(I>>8&255)+m,S>255?S=255:S<0&&(S=0),w=(I&255)+m,w>255?w=255:w<0&&(w=0),"#"+(w|S<<8|b<<16).toString(16)};f=is(e).toLowerCase(),f===qt.RGBA&&e.a;do o=i(ii(e),r),t?r--:r++;while(o.length<7);return Un(o,f)},Tn=(e,r,f=1)=>{let o=Ka(e),t=is(e).toLowerCase(),i=o.h;for(i+=r;i>=360;)i-=360;for(;i<0;)i+=360;return o.h=i,Un(o,t,f)},Dn=(e,r,f)=>{f=f===0?0:f||50;let o=new Jn(0,0,0),t=yn(e),i=yn(r),c=f/100;return o.r=Math.round((i.r-t.r)*c+t.r),o.g=Math.round((i.g-t.g)*c+t.g),o.b=Math.round((i.b-t.b)*c+t.b),ii(o)},$l=(e,r)=>{let f=yn(e),o=yn(r),t=new Jn;return f.b=Math.floor(f.b*o.b/255),f.g=Math.floor(f.g*o.g/255),f.r=Math.floor(f.r*o.r/255),ii(t)},No=(e,r)=>{if(!Ii(e))throw new Error(e+" is not a valid color value!");r/=100;let f=is(e).toLowerCase(),o=yn(e),t=r<0?0:255,i=r<0?r*-1:r,c,m,b,w;return c=Math.round((t-o.r)*i)+o.r,m=Math.round((t-o.g)*i)+o.g,b=Math.round((t-o.b)*i)+o.b,(f===qt.RGBA||f===qt.HSLA)&&(w=e.a),Un(new Jn(c,m,b),f,w)},Ja=(e,r)=>{let f,o,t;if(!Ii(e))throw new Error(e+" is not a valid color value!");return f=Vs(e),f.s+=r/100,f.s=ni(0,1,f.s),o=is(e).toLowerCase(),(o===qt.RGBA||o===qt.HSLA)&&(t=e.a),Un(f,o,t)},Pc=(e,r)=>{let f,o,t;if(!Ii(e))throw new Error(e+" is not a valid color value!");return f=Vs(e),f.s-=r/100,f.s=ni(f.s),o=is(e).toLowerCase(),(o===qt.RGBA||o===qt.HSLA)&&(t=e.a),Un(f,o,t)},Bc=(e,r)=>{let f,o,t,i;if(!Ii(e))throw new Error(e+" is not a valid color value!");return f=Vs(e),i=(f.h+r)%360,f.h=i<0?360+i:i,o=is(e).toLowerCase(),(o===qt.RGBA||o===qt.HSLA)&&(t=e.a),Un(f,o,t)},Lr=(e,r)=>{let f,o,t;if(!Ii(e))throw new Error(e+" is not a valid color value!");return f=yn(e),f.r=Math.max(0,Math.min(255,f.r-Math.round(255*-(r/100)))),f.g=Math.max(0,Math.min(255,f.g-Math.round(255*-(r/100)))),f.b=Math.max(0,Math.min(255,f.b-Math.round(255*-(r/100)))),o=is(e).toLowerCase(),(o===qt.RGBA||o===qt.HSLA)&&(t=e.a),Un(f,o,t)},ql=(e,r,f)=>{let o=Qa(e),t=Qa(r),i=Hs(o,void 0),c=Hs(t,void 0),m=new Wi;return(""+f).toLowerCase(),m.r=Math.round((i.r+c.r)/2),m.g=Math.round((i.g+c.g)/2),m.b=Math.round((i.b+c.b)/2),m.a=Math.round((i.a+c.a)/2),Un(m,f,m.a)},Or=(e,r,f=qt.HEX,o)=>{let t=Object.assign({},jn,o),i,c=[],m,b,w,S,D;if(m=Ka(e),ua(m)===!1)return console.warn("The value is a not supported color format!"),!1;switch(w=m.h,S=m.s,D=m.v,r){case"monochromatic":case"mono":{if(t.algorithm===1)b=zs(m),b.r=pi(Math.round(b.r+(255-b.r)*t.tint1),0,255),b.g=pi(Math.round(b.g+(255-b.g)*t.tint1),0,255),b.b=pi(Math.round(b.b+(255-b.b)*t.tint1),0,255),c.push(gi(b)),b=zs(m),b.r=pi(Math.round(b.r+(255-b.r)*t.tint2),0,255),b.g=pi(Math.round(b.g+(255-b.g)*t.tint2),0,255),b.b=pi(Math.round(b.b+(255-b.b)*t.tint2),0,255),c.push(gi(b)),c.push(m),b=zs(m),b.r=pi(Math.round(b.r*t.shade1),0,255),b.g=pi(Math.round(b.g*t.shade1),0,255),b.b=pi(Math.round(b.b*t.shade1),0,255),c.push(gi(b)),b=zs(m),b.r=pi(Math.round(b.r*t.shade2),0,255),b.g=pi(Math.round(b.g*t.shade2),0,255),b.b=pi(Math.round(b.b*t.shade2),0,255),c.push(gi(b));else if(t.algorithm===2)for(c.push(m),i=1;i<=t.distance;i++)D=ni(D-t.step,0,1),S=ni(S-t.step,0,1),c.push({h:w,s:S,v:D});else if(t.algorithm===3)for(c.push(m),i=1;i<=t.distance;i++)D=ni(D-t.step,0,1),c.push({h:w,s:S,v:D});else D=ni(m.v+t.step*2,0,1),c.push({h:w,s:S,v:D}),D=ni(m.v+t.step,0,1),c.push({h:w,s:S,v:D}),c.push(m),S=m.s,D=m.v,D=ni(m.v-t.step,0,1),c.push({h:w,s:S,v:D}),D=ni(m.v-t.step*2,0,1),c.push({h:w,s:S,v:D});break}case"complementary":case"complement":case"comp":{c.push(m),w=Ti(m.h,180),c.push(new Wn(w,S,D));break}case"double-complementary":case"double-complement":case"double":{c.push(m),w=Ti(w,180),c.push(new Wn(w,S,D)),w=Ti(w,t.angle),c.push(new Wn(w,S,D)),w=Ti(w,180),c.push(new Wn(w,S,D));break}case"analogous":case"analog":{w=Ti(w,t.angle),c.push(new Wn(w,S,D)),c.push(m),w=Ti(m.h,0-t.angle),c.push(new Wn(w,S,D));break}case"triadic":case"triad":{for(c.push(m),i=1;i<3;i++)w=Ti(w,120),c.push(new Wn(w,S,D));break}case"tetradic":case"tetra":{c.push(m),w=Ti(m.h,180),c.push(new Wn(w,S,D)),w=Ti(m.h,-1*t.angle),c.push(new Wn(w,S,D)),w=Ti(w,180),c.push(new Wn(w,S,D));break}case"square":{for(c.push(m),i=1;i<4;i++)w=Ti(w,90),c.push(new Wn(w,S,D));break}case"split-complementary":case"split-complement":case"split":{w=Ti(w,180-t.angle),c.push(new Wn(w,S,D)),c.push(m),w=Ti(m.h,180+t.angle),c.push(new Wn(w,S,D));break}case"material":{var I=t.baseLight,P=t.baseDark==="self"||!t.baseDark?$l(e,e):t.baseDark;c.push({50:Dn(I,e,10),100:Dn(I,e,30),200:Dn(I,e,50),300:Dn(I,e,70),400:Dn(I,e,85),500:Dn(I,e,100),600:Dn(P,e,92),700:Dn(P,e,83),800:Dn(P,e,74),900:Dn(P,e,65),A100:pn(Ja(Dn(P,e,15),80),65),A200:pn(Ja(Dn(P,e,15),80),55),A400:pn(Ja(Dn(I,e,100),55),10),A700:pn(Ja(Dn(P,e,83),65),10)});break}default:console.error("Unknown scheme name")}return r==="material"?c[0]:Rs(c,f)},Ui=function(e){let r=(""+e).toLowerCase();typeof Ps[r]<"u"&&(r=Ps[r]),typeof Dr[r]<"u"&&(r=Dr[r]);let f=r.replace(/[^\d.,%]/g,"").split(",").map(o=>isNaN(o)?o:+o);return r[0]==="#"?la(r):r.includes("rgba")?new Wi(f[0],f[1],f[2],f[3]):r.includes("rgb")?new Jn(f[0],f[1],f[2]):r.includes("cmyk")?new Ua(f[0],f[1],f[2],f[3]):r.includes("hsv")?new Wn(f[0],f[1],f[2]):r.includes("hsla")?new ts(f[0],f[1],f[2],f[3]):r.includes("hsl")?new Tr(f[0],f[1],f[2]):r},Qa=Ui,zo=(e="hex",r=1)=>{let f=(m,b)=>Math.floor(m+Math.random()*(b+1-m)),o,t,i,c;return t=f(0,255),i=f(0,255),c=f(0,255),o="#"+((1<<24)+(t<<16)+(i<<8)+c).toString(16).slice(1),e==="hex"?o:Un(o,e,r)},Rc=zo,Nc=Object.freeze({__proto__:null,Primitives:Bs,colorTypes:qt,colorDefaultProps:jn,test:zl,createColor:$a,create:Fc,expandHexColor:la,expand:Er,isDark:Hl,isLight:Mr,isHSV:ua,isHSL:ca,isHSLA:fs,isRGB:ns,isRGBA:ji,isCMYK:qa,isHEX:Ns,isColor:Ii,colorType:is,equal:Lc,colorToString:Ar,hex2rgb:Ya,rgb2hex:ps,rgb2hsv:gi,hsv2rgb:zs,hsv2hex:Ir,hex2hsv:Oc,rgb2cmyk:da,cmyk2rgb:Fr,hsv2hsl:ss,hsl2hsv:Ga,rgb2websafe:Di,rgba2websafe:Xa,hex2websafe:ha,hsv2websafe:Vl,hsl2websafe:Wl,cmyk2websafe:jl,websafe:Ul,toColor:Un,toHEX:ii,toRGB:yn,toRGBA:Hs,toHSV:Ka,toHSL:Vs,toHSLA:Za,toCMYK:Ro,grayscale:mi,darken:Sn,lighten:pn,hueShift:Tn,mix:Dn,multiply:$l,shade:No,saturate:Ja,desaturate:Pc,spin:Bc,brighten:Lr,add:ql,createColorScheme:Or,parseColor:Ui,parse:Qa,randomColor:zo,random:Rc}),Pr=class{_setValue(e){e||(e="#000000"),typeof e=="string"&&(e=Ui(e)),e&&Ii(e)?this._value=e:this._value=void 0}_setOptions(e){this._options=Object.assign({},jn,e)}constructor(e="#000000",r=null){this._setValue(e),this._setOptions(r)}get options(){return this._options}set options(e){this._setOptions(e)}get value(){return this._value?this._value:void 0}set value(e){this._setValue(e)}toRGB(){if(this._value)return this._value=yn(this._value),this}get rgb(){return this._value?yn(this._value):void 0}toRGBA(e){if(this._value)return ji(this._value)?e&&(this._value=Hs(this._value,e)):this._value=Hs(this._value,e||jn.alpha),this}get rgba(){return this._value?ji(this._value)?this._value:Hs(this._value,this._options.alpha):void 0}toHEX(){if(this._value)return this._value=ii(this._value),this}get hex(){return this._value?ii(this._value):void 0}toHSV(){if(this._value)return this._value=Ka(this._value),this}get hsv(){return this._value?Ka(this._value):void 0}toHSL(){if(this._value)return this._value=Vs(this._value),this}get hsl(){return this._value?Vs(this._value):void 0}toHSLA(e){if(this._value)return fs(this._value)?e&&(this._value=Za(this._value,e)):this._value=Za(this._value,e),this}get hsla(){return this._value?fs(this._value)?this._value:Za(this._value,this._options.alpha):void 0}toCMYK(){if(this._value)return this._value=Ro(this._value),this}get cmyk(){return this._value?Ro(this._value):void 0}toWebsafe(){if(this._value)return this._value=Ul(this._value),this}get websafe(){return this._value?Ul(this._value):void 0}toString(){return this._value?Ar(this._value):void 0}darken(e=10){if(this._value)return this._value=Sn(this._value,e),this}lighten(e=10){if(this._value)return this._value=pn(this._value,e),this}isDark(){return this._value?Hl(this._value):void 0}isLight(){return this._value?Mr(this._value):void 0}hueShift(e){if(this._value)return this._value=Tn(this._value,e),this}grayscale(){if(!(!this._value||this.type===qt.UNKNOWN))return this._value=mi(this._value,(""+this.type).toLowerCase()),this}get type(){return is(this._value)}getScheme(e,r,f){return this._value?Or(this._value,e,r,f):void 0}equal(e){return Lc(this._value,e)}random(e,r){this._value=zo(e,r)}channel(e,r){let f=this.type;return["red","green","blue"].includes(e)&&(this.toRGB(),this._value[["red","green","blue"].indexOf(e)]=r,this["to"+f]()),e==="alpha"&&this._value.a&&(this._value.a=r),["hue","saturation","value"].includes(e)&&(this.toHSV(),this._value[["hue","saturation","value"].indexOf(e)]=r,this["to"+f]()),["lightness"].includes(e)&&(this.toHSL(),this._value[2]=r,this["to"+f]()),["cyan","magenta","yellow","black"].includes(e)&&(this.toCMYK(),this._value[["cyan","magenta","yellow","black"].indexOf(e)]=r,this["to"+f]()),this}add(e){this._setValue(ql(this._value,e))}mix(e,r){this._setValue(Dn(this._value,e,r))}multiply(e){this._setValue($l(this._value,e))}shade(e){this._setValue(No(this._value,e))}saturate(e){this._setValue(Ja(this._value,e))}desaturate(e){this._setValue(Pc(this._value,e))}spin(e){this._setValue(Bc(this._value,e))}brighten(e){this._setValue(Lr(this._value,e))}},zc=k({},Bs),Ho="1.0.4",Yh="11.08.2024, 23:47:03",Br=()=>{console.info(`%c Farbe %c v${Ho} %c ${Yh} `,"color: #ffffff; font-weight: bold; background: #ff00ff","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Farbe=Pr,globalThis.farbe=e=>new Pr(e),globalThis.Farbe.Routines=Nc,globalThis.Farbe.Palette=Nl,globalThis.Farbe.StandardColors=Ps,globalThis.Farbe.MetroColors=Dr,globalThis.Farbe.Primitives=zc,globalThis.Farbe.info=Br;var gs=Object.defineProperty,Hc=(e,r)=>{for(var f in r)gs(e,f,{get:r[f],enumerable:!0})};function Vc(e){return e.replace(/([A-Z])/g,function(r){return"-"+r.toLowerCase()})}function Wc(e=[]){return Array.isArray(e)?e.join(" "):e.toString()}var Ei=["opacity","zIndex","order","zoom"];function Ot(e={}){return typeof e=="string"?e:Object.keys(e).map(r=>{let f=Vc(r),o=e[r];return!Ei.includes(f)&&!isNaN(o)&&(o+="px"),`${f}: ${o}`}).join(";")}var $i=["accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inert","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","popover","spellcheck","style","tabindex","title","translate","writingsuggestions"],Ws=e=>{let r,f,o=[],t,i,c=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof e=="string"){if(e=e.trim(),t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=document.location.href,t.head.appendChild(r),i=t.body,f=c.exec(e),f)return document.createElement(f[1]);i.innerHTML=e;for(let m=0;m<i.childNodes.length;m++)o.push(i.childNodes[m]);return o[0]}},js=["onauxclick","onbeforeinput","onbeforematch","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"],Rr=class{constructor(e={}){this.options=e,this.tag="div"}selfAttributes(){return[]}get attributes(){return this.getAttributes().join(" ")}getAttributes(){let e=[],r=["hidden","disabled","required","readonly","selected","open","multiply","default"],f=["className","style","data","tag","events"];for(let o in this.options)if(!f.includes(o)){if(r.includes(o)&&this.options[o]===!0){e.push(o);continue}(this.selfAttributes().includes(o)&&!e.includes(o)||$i.includes(o))&&e.push(`${o}="${this.options[o]}"`)}return this.classes&&e.push(`class="${this.classes}"`),this.styles&&e.push(`style="${this.styles}"`),this.dataSet&&e.push(this.dataSet),this.aria&&e.push(this.aria),e}draw(){return this.template()}get dataSet(){let{data:e={}}=this.options,r=[];for(let f in e)r.push(`data-${Vc(f)}="${e[f]}"`);return r.join(" ")}get aria(){let{aria:e={}}=this.options,r=[];for(let f in e)r.push(`aria-${f.toLowerCase()}="${e[f]}"`);return r.join(" ")}get events(){let{events:e={},control:r=!0}=this.options,f=[];for(let o in e)r&&!js.includes(o)&&console.info(`Event ${o} for element ${this.tag} not specified in HTML specification`),f.push(`${o.toLowerCase()}="${e[o]}"`);return f.join(" ")}get classes(){return Wc(this.options.class)}get styles(){return Ot(this.options.style)}template(){return""}toString(){return this.draw()}toElement(){return Ws(this.draw())}},Vo=e=>{if(Array.isArray(e))return e.map(Vo).join(`
`);if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(e.draw)return e.draw();throw new Error("Unknown element! "+e)},Ze=class extends Rr{constructor(...e){let r={},f=[];for(let o of e)typeof o=="object"&&!(o instanceof Rr)?r=o:f.push(o);super(r),this.children=f}template(e){let r=this.options.tag?this.options.tag:this.tag;return`
            <${r} ${this.attributes} ${this.events}>${e}</${r}>
        `}draw(){return this.template(this.children.map(Vo).join(""))}},si=class extends Rr{constructor(e={}){super(e),this.options=e}template(){return`
            <${this.options.tag?this.options.tag:this.tag} ${this.attributes} ${this.events}/>
        `}},Yl=(e=[],r=document.body,f={})=>{let o,t,{clear:i=!0,where:c="beforeend"}=f;t=typeof r=="string"?document.querySelector(r):r,t instanceof HTMLElement||(t=document.body),i&&(t.innerHTML=""),Array.isArray(e)||(e=[e]),o=e.map(Vo).join(""),t.insertAdjacentHTML(c,o)},fa=(e="",r)=>{let f=document.createElement("style");return r!==void 0&&f.setAttribute("media",r),f.appendChild(document.createTextNode(e)),document.head.appendChild(f),f},Gl=e=>fa(e).sheet,Nr=(e,r,f)=>{e.insertRule(r+"{"+f+"}")},Us=(e,r)=>{if(typeof e=="string"){fa(e,r);return}let f=Gl(r);for(let o in e)Nr(f,o,Ot(e[o]))},jc=(e,r)=>O(void 0,null,function*(){let f=yield fetch(e,r),o,t;if(!f.ok)throw new Error("HTTP error: "+f.status);o=yield f.text(),t=document.createElement("style"),t.appendChild(document.createTextNode(o)),document.body.appendChild(t)}),Uc=(e,r)=>O(void 0,null,function*(){let f=yield fetch(e,r),o,t;if(!f.ok)throw new Error("HTTP error: "+f.status);o=yield f.text(),t=document.createElement("script"),t.appendChild(document.createTextNode(o)),document.body.appendChild(t)}),Gh=(e,...r)=>O(void 0,[e,...r],function*(f,o={},t=!1){let i,c,m=()=>{},b;if(t!==!1&&(b=`html::key::${f}`,c=localStorage.getItem(b)),!c){if(i=yield fetch(f,o),!i.ok)throw new Error("HTTP error: "+i.status);c=yield i.text(),t!==!1&&localStorage.setItem(b,c)}return(0,eval)(`result = ${c}`),typeof m=="function"?m():m}),zr=e=>localStorage.removeItem(`html::key::${e}`),eo={};Hc(eo,{Abbr:()=>sd,Address:()=>ms,Anchor:()=>no,Area:()=>nu,Article:()=>eu,Aside:()=>so,AudioTag:()=>ud,Base:()=>$c,Bdi:()=>dd,Bdo:()=>hd,Blockquote:()=>iu,Body:()=>qc,Bold:()=>ai,Br:()=>Kc,Button:()=>gd,Canvas:()=>md,Caption:()=>uo,Cite:()=>au,Code:()=>ou,Col:()=>vd,Colgroup:()=>va,Data:()=>Lp,Dd:()=>ho,Details:()=>Gr,Dfn:()=>ru,Dialog:()=>Pp,Div:()=>Xr,Dl:()=>xd,Dt:()=>Cd,Em:()=>fo,Embed:()=>lu,Fieldset:()=>Zr,FigCaption:()=>Ko,Figure:()=>ba,Footer:()=>rd,Form:()=>Od,Frame:()=>Jr,Frameset:()=>Kt,Head:()=>Kl,Header:()=>ao,Heading:()=>Ql,Hr:()=>$n,Html:()=>Xl,IFrame:()=>el,Img:()=>Wo,Input:()=>Vr,Ins:()=>uu,Ital:()=>Kr,Kbd:()=>tl,Label:()=>Nd,Legend:()=>Id,Link:()=>Zl,List:()=>nl,ListItem:()=>Rt,Main:()=>ya,Map:()=>ro,Mark:()=>Hd,Meta:()=>Yn,Nav:()=>tu,NoEmbed:()=>Ed,NoFrames:()=>Fi,NoScript:()=>Vd,Option:()=>u,OptionGroup:()=>jd,Output:()=>x,Paragraph:()=>_,Picture:()=>Op,Pre:()=>F,Quoted:()=>N,Rp:()=>Ca,Rt:()=>Qn,Ruby:()=>Ys,Script:()=>Pe,Section:()=>ma,Select:()=>Wd,Slot:()=>Bp,Small:()=>$e,Source:()=>Je,Span:()=>pa,Strike:()=>se,Strong:()=>Dd,Sub:()=>it,Summary:()=>Sd,Sup:()=>dt,Table:()=>lo,TableCell:()=>Yo,TableRow:()=>qr,TableSection:()=>qo,Template:()=>os,Textarea:()=>Vt,Time:()=>nn,Title:()=>En,Track:()=>oi,Var:()=>ri,VideoTag:()=>Cn,Wbr:()=>an,a:()=>jo,abbr:()=>io,address:()=>oo,anchor:()=>id,area:()=>Qh,article:()=>ad,aside:()=>$o,audio:()=>ef,b:()=>cd,base:()=>Hr,bdi:()=>tf,bdo:()=>fd,blockquote:()=>pd,body:()=>Yc,br:()=>Zc,button:()=>nf,canvas:()=>$s,caption:()=>vs,cite:()=>of,code:()=>Yr,col:()=>sf,colgroup:()=>bd,data:()=>Lv,dd:()=>rf,details:()=>kd,dfn:()=>lf,dialog:()=>Pv,div:()=>Xo,dl:()=>wd,dt:()=>_d,em:()=>uf,embed:()=>ff,fieldset:()=>Ad,figcaption:()=>pf,figure:()=>Ld,footer:()=>ld,form:()=>gf,frame:()=>Zo,frameset:()=>mf,h1:()=>Jc,h2:()=>to,h3:()=>jr,h4:()=>Qc,h5:()=>ed,h6:()=>td,head:()=>Kh,header:()=>od,hr:()=>Wr,html:()=>Xh,i:()=>df,iframe:()=>Pd,img:()=>Gc,input:()=>Xc,ins:()=>Bd,ital:()=>cf,kbd:()=>Rd,label:()=>cu,legend:()=>Fd,li:()=>po,link:()=>Zh,main:()=>qs,map:()=>Jh,mark:()=>il,meta:()=>as,nav:()=>Uo,noembed:()=>Md,noframes:()=>Qr,noscript:()=>gn,ol:()=>vf,optgroup:()=>sl,option:()=>g,output:()=>y,p:()=>M,picture:()=>Ov,pre:()=>B,q:()=>W,quoted:()=>J,rp:()=>Fv,rt:()=>Iv,ruby:()=>hu,s:()=>ge,script:()=>We,section:()=>nd,select:()=>bf,slot:()=>Bv,small:()=>Ge,source:()=>Xe,span:()=>Jl,strike:()=>Ce,strong:()=>hf,sub:()=>ft,summary:()=>Td,sup:()=>Dt,table:()=>Ur,tbody:()=>yd,td:()=>Go,template:()=>xa,textarea:()=>Bn,tfoot:()=>co,th:()=>af,thead:()=>$r,time:()=>yi,title:()=>du,tr:()=>su,track:()=>xn,ul:()=>zd,variable:()=>qn,video:()=>wn,wbr:()=>vi});var Xl=class extends Ze{constructor(){super(...arguments),A(this,"tag","html")}selfAttributes(){return["lang"]}},Xh=(...e)=>new Xl(...e),Kl=class extends Ze{constructor(){super(...arguments),A(this,"tag","head")}},Kh=(...e)=>new Kl(...e),$c=class extends si{constructor(){super(...arguments),A(this,"tag","base")}selfAttributes(){return["href","target"]}},Hr=e=>new $c(e),Zl=class extends si{constructor(){super(...arguments),A(this,"tag","link")}selfAttributes(){return["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","blocking","color","disabled","fetchpriority"]}},Zh=e=>new Zl(e),qc=class extends Ze{constructor(){super(...arguments),A(this,"tag","body")}},Yc=(...e)=>new qc(...e),pa=class extends Ze{constructor(){super(...arguments),A(this,"tag","span")}},Jl=(...e)=>new pa(...e),Wo=class extends si{constructor(){super(...arguments),A(this,"tag","img")}selfAttributes(){return["align","alt","border","height","hspace","ismap","longdesc","lowsrc","src","vspace","width","usemap"]}},Gc=(e="",r="",f={})=>new Wo(T(k({},f),{src:e,alt:r})),Vr=class extends si{constructor(){super(...arguments),A(this,"tag","input")}selfAttributes(){return["accept","align","alt","autocomplete","autofocus","border","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","list","max","maxlength","min","multiple","name","pattern","placeholder","size","src","step","type","value"]}},Xc=(e={})=>new Vr(e),Kc=class extends si{constructor(){super(...arguments),A(this,"tag","br")}selfAttributes(){return["clear"]}},Zc=e=>new Kc(e),$n=class extends si{constructor(){super(...arguments),A(this,"tag","hr")}},Wr=e=>new $n(e),Ql=class extends Ze{constructor(e="h1",...r){super(...r),this.tag=e}},ga=(e="h1",...r)=>new Ql(e,...r),Jc=(...e)=>ga("h1",...e),to=(...e)=>ga("h2",...e),jr=(...e)=>ga("h3",...e),Qc=(...e)=>ga("h4",...e),ed=(...e)=>ga("h5",...e),td=(...e)=>ga("h6",...e),ma=class extends Ze{constructor(){super(...arguments),A(this,"tag","section")}},nd=(...e)=>new ma(...e),no=class extends Ze{constructor(){super(...arguments),A(this,"tag","a")}selfAttributes(){return["coords","download","hreflang","name","rel","rev","shape","target","type","href"]}},id=(...e)=>new no(...e),jo=(...e)=>new no(...e),sd=class extends Ze{constructor(){super(...arguments),A(this,"tag","abbr")}},io=(...e)=>new sd(...e),eu=class extends Ze{constructor(){super(...arguments),A(this,"tag","article")}},ad=(...e)=>new eu(...e),tu=class extends Ze{constructor(){super(...arguments),A(this,"tag","nav")}},Uo=(...e)=>new tu(...e),so=class extends Ze{constructor(){super(...arguments),A(this,"tag","aside")}},$o=(...e)=>new so(...e),ao=class extends Ze{constructor(){super(...arguments),A(this,"tag","header")}},od=(...e)=>new ao(...e),rd=class extends Ze{constructor(){super(...arguments),A(this,"tag","footer")}},ld=(...e)=>new rd(...e),ms=class extends Ze{constructor(){super(...arguments),A(this,"tag","address")}},oo=(...e)=>new ms(...e),ro=class extends Ze{constructor(){super(...arguments),A(this,"tag","map")}selfAttributes(){return["name"]}},Jh=(...e)=>new ro(...e),nu=class extends si{constructor(){super(...arguments),A(this,"tag","area")}selfAttributes(){return["alt","coords","hreflang","nohref","shape","target","type","href"]}},Qh=(e={})=>new nu(e),ud=class extends Ze{constructor(){super(...arguments),A(this,"tag","audio")}selfAttributes(){return["autoplay","controls","loop","preload","src"]}},ef=(...e)=>new ud(...e),ai=class extends Ze{constructor(){super(...arguments),A(this,"tag","b")}},cd=(...e)=>new ai(...e),dd=class extends Ze{constructor(){super(...arguments),A(this,"tag","bdi")}},tf=(...e)=>new dd(...e),hd=class extends Ze{constructor(){super(...arguments),A(this,"tag","bdo")}},fd=(...e)=>new hd(...e),iu=class extends Ze{constructor(){super(...arguments),A(this,"tag","blockquote")}selfAttributes(){return["cite"]}},pd=(...e)=>new iu(...e),gd=class extends Ze{constructor(){super(...arguments),A(this,"tag","button")}selfAttributes(){return["autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"]}},nf=(...e)=>new gd(...e),md=class extends Ze{constructor(){super(...arguments),A(this,"tag","canvas")}selfAttributes(){return["width","height"]}},$s=(...e)=>new md(...e),lo=class extends Ze{constructor(){super(...arguments),A(this,"tag","table")}selfAttributes(){return["align","background","bgcolor","border","bordercolor","cellpadding","cellspacing","cols","frame","height","rules","summary","width"]}},Ur=(...e)=>new lo(...e),uo=class extends Ze{constructor(){super(...arguments),A(this,"tag","caption")}selfAttributes(){return["align","valign"]}},vs=(...e)=>new uo(...e),vd=class extends si{constructor(){super(...arguments),A(this,"tag","col")}selfAttributes(){return["align","valign","char","charoff","span","width"]}},sf=e=>new vd(e),va=class extends si{constructor(){super(...arguments),A(this,"tag","colgroup")}selfAttributes(){return["align","valign","char","charoff","span","width"]}},bd=e=>new va(e),qo=class extends Ze{constructor(e="tbody",...r){super(...r),this.tag=e}selfAttributes(){return["align","valign","char","charoff","bgcolor"]}},yd=(...e)=>new qo("tbody",...e),$r=(...e)=>new qo("thead",...e),co=(...e)=>new qo("tfoot",...e),qr=class extends Ze{constructor(){super(...arguments),A(this,"tag","tr")}selfAttributes(){return["align","bgcolor","bordercolor","char","charoff","valign"]}},su=(...e)=>new qr(...e),Yo=class extends Ze{constructor(e="td",...r){super(...r),this.tag=e}selfAttributes(){return["abbr","align","axis","background","bgcolor","bordercolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]}},af=(...e)=>new Yo("th",...e),Go=(...e)=>new Yo("td",...e),au=class extends Ze{constructor(){super(...arguments),A(this,"tag","cite")}},of=(...e)=>new au(...e),ou=class extends Ze{constructor(){super(...arguments),A(this,"tag","code")}},Yr=(...e)=>new ou(...e),xd=class extends Ze{constructor(){super(...arguments),A(this,"tag","dl")}},Cd=class extends Ze{constructor(){super(...arguments),A(this,"tag","dt")}},ho=class extends Ze{constructor(){super(...arguments),A(this,"tag","dd")}},wd=(...e)=>new xd(...e),_d=(...e)=>new Cd(...e),rf=(...e)=>new ho(...e),Gr=class extends Ze{constructor(){super(...arguments),A(this,"tag","details")}},kd=(...e)=>new Gr(...e),Sd=class extends Ze{constructor(){super(...arguments),A(this,"tag","summary")}},Td=(...e)=>new Sd(...e),ru=class extends Ze{constructor(){super(...arguments),A(this,"tag","dfn")}},lf=(...e)=>new ru(...e),Xr=class extends Ze{constructor(){super(...arguments),A(this,"tag","div")}selfAttributes(){return["align","title"]}},Xo=(...e)=>new Xr(...e),fo=class extends Ze{constructor(){super(...arguments),A(this,"tag","em")}},uf=(...e)=>new fo(...e),Kr=class extends Ze{constructor(){super(...arguments),A(this,"tag","i")}},cf=(...e)=>new Kr(...e),df=(...e)=>new Kr(...e),Dd=class extends Ze{constructor(){super(...arguments),A(this,"tag","strong")}},hf=(...e)=>new Dd(...e),lu=class extends Ze{constructor(){super(...arguments),A(this,"tag","embed")}selfAttributes(){return["align","height","hspace","pluginspace","src","type","vspace","width"]}},ff=(...e)=>new lu(...e),Ed=class extends Ze{constructor(){super(...arguments),A(this,"tag","noembed")}},Md=(...e)=>new Ed(...e),Zr=class extends Ze{constructor(){super(...arguments),A(this,"tag","fieldset")}selfAttributes(){return["form","title"]}},Ad=(...e)=>new Zr(...e),Id=class extends Ze{constructor(){super(...arguments),A(this,"tag","legend")}selfAttributes(){return["align","title"]}},Fd=(...e)=>new Id(...e),ba=class extends Ze{constructor(){super(...arguments),A(this,"tag","figure")}},Ld=(...e)=>new ba(...e),Ko=class extends Ze{constructor(){super(...arguments),A(this,"tag","figcaption")}},pf=(...e)=>new Ko(...e),Od=class extends Ze{constructor(){super(...arguments),A(this,"tag","form")}selfAttributes(){return["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"]}},gf=(...e)=>new Od(...e),Kt=class extends Ze{constructor(){super(...arguments),A(this,"tag","frameset")}selfAttributes(){return["border","bordercolor","cols","frameborder","framespacing","rows"]}},mf=(...e)=>new Kt(...e),Jr=class extends si{constructor(){super(...arguments),A(this,"tag","frame")}selfAttributes(){return["bordercolor","frameborder","noresize","name","src","scrolling"]}},Zo=(e={})=>new Jr(e),Fi=class extends Ze{constructor(){super(...arguments),A(this,"tag","noframes")}},Qr=(...e)=>new Fi(...e),el=class extends Ze{constructor(){super(...arguments),A(this,"tag","iframe")}selfAttributes(){return["align","allowtransparency","frameborder","height","hspace","marginheight","marginwidth","name","sandbox","scrolling","seamless","src","srcdoc","vspace","width"]}},Pd=(...e)=>new el(...e),uu=class extends Ze{constructor(){super(...arguments),A(this,"tag","ins")}selfAttributes(){return["cite","datetime"]}},Bd=(...e)=>new uu(...e),tl=class extends Ze{constructor(){super(...arguments),A(this,"tag","kbd")}},Rd=(...e)=>new tl(...e),Nd=class extends Ze{constructor(){super(...arguments),A(this,"tag","label")}selfAttributes(){return["for"]}},cu=(...e)=>new Nd(...e),nl=class extends Ze{constructor(e="ul",...r){super(...r),this.tag=e}selfAttributes(){return this.tag==="ul"?["type"]:["type","reserved","start"]}},Rt=class extends Ze{constructor(){super(...arguments),A(this,"tag","li")}selfAttributes(){return["type","value"]}},zd=(...e)=>new nl("ul",...e),vf=(...e)=>new nl("ol",...e),po=(...e)=>new Rt(...e),Hd=class extends Ze{constructor(){super(...arguments),A(this,"tag","mark")}},il=(...e)=>new Hd(...e),Vd=class extends Ze{constructor(){super(...arguments),A(this,"tag","noscript")}},gn=(...e)=>new Vd(...e),Wd=class extends Ze{constructor(){super(...arguments),A(this,"tag","select")}selfAttributes(){return["autofocus","form","name","size"]}},bf=(...e)=>new Wd(...e),jd=class extends Ze{constructor(){super(...arguments),A(this,"tag","optgroup")}selfAttributes(){return["label"]}},sl=(...e)=>new jd(...e),u=class extends Ze{constructor(){super(...arguments),A(this,"tag","option")}selfAttributes(){return["label","value"]}},g=(...e)=>new u(...e),x=class extends Ze{constructor(){super(...arguments),A(this,"tag","output")}selfAttributes(){return["for","form","name"]}},y=(...e)=>new x(...e),_=class extends Ze{constructor(){super(...arguments),A(this,"tag","p")}selfAttributes(){return["align"]}},M=(...e)=>new _(...e),F=class extends Ze{constructor(){super(...arguments),A(this,"tag","pre")}},B=(...e)=>new F(...e),N=class extends Ze{constructor(){super(...arguments),A(this,"tag","q")}selfAttributes(){return["cite"]}},W=(...e)=>new N(...e),J=(...e)=>new N(...e),se=class extends Ze{constructor(){super(...arguments),A(this,"tag","strike")}},Ce=(...e)=>new se(...e),ge=(...e)=>new se(...e),Pe=class extends Ze{constructor(){super(...arguments),A(this,"tag","script")}selfAttributes(){return["async","defer","language","src","type"]}},We=(...e)=>new Pe(...e),$e=class extends Ze{constructor(){super(...arguments),A(this,"tag","small")}},Ge=(...e)=>new $e(...e),Je=class extends si{constructor(){super(...arguments),A(this,"tag","source")}selfAttributes(){return["media","src","type"]}},Xe=(e={})=>new Je(e),it=class extends Ze{constructor(){super(...arguments),A(this,"tag","sub")}},ft=(...e)=>new it(...e),dt=class extends Ze{constructor(){super(...arguments),A(this,"tag","sup")}},Dt=(...e)=>new dt(...e),Vt=class extends Ze{constructor(){super(...arguments),A(this,"tag","textarea")}selfAttributes(){return["autofocus","cols","form","maxlength","name","placeholder","rows","wrap"]}},Bn=(...e)=>new Vt(...e),nn=class extends Ze{constructor(){super(...arguments),A(this,"tag","time")}selfAttributes(){return["datetime","pubdate"]}},yi=(...e)=>new nn(...e),oi=class extends si{constructor(){super(...arguments),A(this,"tag","track")}selfAttributes(){return["kind","src","srclang","label"]}},xn=(e={})=>new oi(e),ri=class extends Ze{constructor(){super(...arguments),A(this,"tag","var")}},qn=(...e)=>new ri(...e),Cn=class extends Ze{constructor(){super(...arguments),A(this,"tag","video")}selfAttributes(){return["autoplay","controls","height","loop","loop","poster","preload","src","width"]}},wn=(...e)=>new Cn(...e),an=class extends si{constructor(){super(...arguments),A(this,"tag","wbr")}},vi=e=>new an(e),ya=class extends Ze{constructor(){super(...arguments),A(this,"tag","main")}},qs=(...e)=>new ya(...e),Yn=class extends si{constructor(){super(...arguments),A(this,"tag","meta")}selfAttributes(){return["content","name","http-equiv","charset"]}},as=e=>new Yn(e),En=class extends Ze{constructor(){super(...arguments),A(this,"tag","title")}},du=e=>new En(e),os=class extends Ze{constructor(){super(...arguments),A(this,"tag","template")}selfAttributes(){return["shadowrootmode","shadowrootdelegatesfocus","shadowrootclonable","shadowrootserializable"]}},xa=(...e)=>new os(...e),Ys=class extends Ze{constructor(){super(...arguments),A(this,"tag","ruby")}},Qn=class extends si{constructor(){super(...arguments),A(this,"tag","rt")}},Ca=class extends si{constructor(){super(...arguments),A(this,"tag","rp")}},hu=(...e)=>new Ys(...e),Iv=e=>new Qn(e),Fv=e=>new Ca(e),Lp=class extends Ze{constructor(){super(...arguments),A(this,"tag","data")}},Lv=(...e)=>new Lp(...e),Op=class extends Ze{constructor(){super(...arguments),A(this,"tag","picture")}},Ov=(...e)=>new Op(...e),Pp=class extends Ze{constructor(){super(...arguments),A(this,"tag","dialog")}selfAttributes(){return["open"]}},Pv=(...e)=>new Pp(...e),Bp=class extends Ze{constructor(){super(...arguments),A(this,"tag","slot")}selfAttributes(){return["name"]}},Bv=(...e)=>new Bp(...e),yf={},Rv="0.14.0",Nv="18.03.2025, 23:11:45",zv=()=>{console.info(`%c Html.js %c v${Rv} %c ${Nv} `,"color: #ffffff; font-weight: bold; background: #708238","color: white; background: darkgreen","color: white; background: #0080fe;")},Hv=(e=globalThis)=>{for(let r in eo)globalThis[r]&&(yf[r]=globalThis[r]),e[r]=eo[r]},Vv=(e=globalThis)=>{for(let r in yf)e[r]=yf[r]},Wv=T(k({},eo),{extract:Hv,restore:Vv});globalThis.HTML=T(k({addStyle:Us,addCssRule:Nr,cssLoader:jc,jsLoader:Uc,viewLoader:Gh,clearViewStorageHolder:zr,createStyleElement:fa,createStyleSheet:Gl,render:Yl},Wv),{info:zv});var Rp={};E(Rp,{americanExpress:()=>Sy,array:()=>Nb,base64:()=>Lb,between:()=>Mb,bigint:()=>rb,boolean:()=>Rb,bytes:()=>Iy,color:()=>dy,compose:()=>Zv,contains:()=>Vy,creditCard:()=>wy,date:()=>ub,digits:()=>Ry,diners:()=>Dy,discover:()=>Ty,domain:()=>Qb,email:()=>Cb,endsWith:()=>nb,equal:()=>qy,finite:()=>Ib,float:()=>zy,func:()=>db,great:()=>Ky,greatOrEqual:()=>e1,hexColor:()=>hy,hslColor:()=>py,imei:()=>Vb,info:()=>a1,integer:()=>fb,ip:()=>Gb,ipv4:()=>Xb,ipv6:()=>Kb,jcb:()=>Ey,length:()=>Wb,less:()=>Jy,lessOrEqual:()=>n1,mastercard:()=>ky,max:()=>yb,maxLength:()=>Ub,min:()=>vb,minLength:()=>jb,notNull:()=>Ly,notNumber:()=>Pb,number:()=>Sb,object:()=>Db,parse:()=>xf,pattern:()=>Py,pipe:()=>Xv,required:()=>_b,rgbColor:()=>fy,safeInteger:()=>gb,safeParse:()=>Yv,similar:()=>Gy,startsWith:()=>eb,string:()=>Cf,symbol:()=>ab,type:()=>Uy,unionPay:()=>My,unknown:()=>ib,url:()=>ny,visa:()=>_y});var jv=Object.defineProperty,Np=Object.getOwnPropertySymbols,Uv=Object.prototype.hasOwnProperty,$v=Object.prototype.propertyIsEnumerable,zp=(e,r,f)=>r in e?jv(e,r,{enumerable:!0,configurable:!0,writable:!0,value:f}):e[r]=f,qv=(e,r)=>{for(var f in r||(r={}))Uv.call(r,f)&&zp(e,f,r[f]);if(Np)for(var f of Np(r))$v.call(r,f)&&zp(e,f,r[f]);return e},pt=class extends Error{constructor(e="",r=null,f){super(e),this.message=e,this.name=r,this.value=f}},xf=(e,r)=>{let f;if(!e)throw new Error("Schema object required for parse data!");if(typeof e=="function"){if(f=e.apply(null,[r]),f instanceof pt)throw f}else for(let o in e){let t=r[o],i=e[o];if(!i)throw new pt(`Guard not defined for field ${o} in input data!`,"general",r);if(!r.hasOwnProperty(o))throw new pt(`Field ${o} doesn't exists in input data!`,"general",r);if(typeof i=="function"){if(console.log(i.name),f=i.apply(null,[t]),f instanceof pt)throw f}else xf(i,t)}return r},Yv=(e,r)=>{let f;if(!e)throw new Error("Schema object required for parse data!");if(typeof e=="function"){if(f=e.apply(null,[r]),f instanceof pt)return{ok:!1,error:f}}else for(let o in e){let t=r[o],i=e[o];if(i)if(typeof i=="function"){if(f=i.apply(null,[r]),f instanceof pt)return{ok:!1,error:f}}else xf(i,t)}return{ok:!0,output:r}},Gv=(...e)=>r=>e.reduce((f,o)=>o(f),r),Xv=Gv,Kv=(...e)=>r=>e.reduceRight((f,o)=>o(f),r),Zv=Kv,Jv="VAL must be a string",Cf=(e=Jv)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"?r:new pt(f,"string",r)},Jo=e=>typeof e<"u"&&e!==null,Qv="VAL must starts with START_VAL",eb=(e,r=Qv)=>{if(!Jo(e))throw new Error("START_VALUE not defined!");return function(f){let o=r.replace(/VAL/g,f).replace(/START_VAL/g,e);return typeof f=="string"&&f.startsWith(e)?f:new pt(o,"startsWith",f)}},tb="VAL must end with END_VAL",nb=(e,r=tb)=>{if(!Jo(e))throw new Error("END_VALUE not defined!");return function(f){let o=r.replace(/VAL/g,f).replace(/END_VAL/g,e);return typeof f=="string"&&f.endsWith(e)?f:new pt(o,"endsWith",f)}},ib=()=>function(e){return e},sb="A symbol is required",ab=(e=sb)=>function(r){return typeof r=="symbol"?r:new pt(e,"symbol",r)},ob="VAL must be a bigint",rb=(e=ob)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="bigint"?r:new pt(f,"bigint",r)},lb="VAL must be valid date object or date string",ub=(e=lb)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="object"&&r.getTime||typeof r=="string"&&!isNaN(Date.parse(r))?r:new pt(f,"date",r)},cb="The value must be a function",db=(e=cb)=>function(r){return typeof r=="function"?r:new pt(e,"function",r)},hb="VAL must be an integer",fb=(e=hb)=>function(r){let f=e.replace(/VAL/g,r);return Number.isInteger(r)?r:new pt(f,"integer",r)},pb="VAL must be an safe integer",gb=(e=pb)=>function(r){let f=e.replace(/VAL/g,r);return Number.isSafeInteger(r)?r:new pt(f,"safeInteger",r)},mb="VAL must be a great then MIN_VALUE",vb=(e,r=mb)=>{if(!Jo(e))throw new Error("MIN_VALUE not defined!");return function(f){let o=r.replace(/VAL/g,f).replace(/MIN_VALUE/g,e),t=+f;return!isNaN(t)&&t>=+e?f:new pt(o,"minValue",f)}},bb="VAL must be a less then MAX_VALUE",yb=(e,r=bb)=>{if(!Jo(e))throw new Error("MAX_VALUE not defined!");return function(f){let o=r.replace(/VAL/g,f).replace(/MAX_VALUE/g,e),t=+f;return!isNaN(t)&&t<=+e?f:new pt(o,"maxValue",f)}},xb="VAL must be a string in valid email format",Cb=(e=xb)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?r:new pt(f,"email",r)},wb="Any value required",_b=(e=wb)=>function(r){let f=e.replace(/VAL/g,r);return typeof r<"u"&&r!==null&&r!==""?r:new pt(f,"required",r)},kb="VAL must be a number",Sb=(e=kb)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="number"&&!isNaN(+r)?r:new pt(f,"number",r)},Tb="VAL must be an object",Db=(e,r=Tb)=>{if(typeof e!="object")throw new pt(r.replace(/VAL/g,e),"object",e);return qv({},e)},Eb="VAL must be between MIN_VAL and MAX_VAL",Mb=(e,r,f=Eb)=>{if(!Jo(e))throw new Error("MIN_VALUE not defined!");if(!Jo(r))throw new Error("MAX_VALUE not defined!");return function(o){let t=f.replace(/VAL/g,o).replace(/MIN_VAL/g,e).replace(/MAX_VAL/g,r),i=+o;return!isNaN(i)&&o>=+e&&o<=+r?o:new pt(t,"between",o)}},Ab="VAL must be a finite number",Ib=(e=Ab)=>function(r){let f=e.replace(/VAL/g,r);return Number.isFinite(r)?r:new pt(f,"finite",r)},Fb="VAL must be a string in valid base 64 format",Lb=(e=Fb)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(r)?r:new pt(f,"base64",r)},Ob="VAL can`t be a number",Pb=(e=Ob)=>function(r){let f=e.replace(/VAL/g,r);return isNaN(r)?r:new pt(f,"notNumber",r)},Bb="VAL must be a boolean",Rb=(e=Bb)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="boolean"?r:new pt(f,"boolean",r)},Hp="VAL must be an array of TYPE",Nb=(e,r=Hp)=>(!e&&!r&&(e=Cf(),r=Hp),typeof e=="string"&&(r=e,e=Cf()),function(f){let o=r.replace(/VAL/g,f).replace(/TYPE/g,e.name);if(!Array.isArray(f))return new pt(o,"array",f);for(let t of f)if(e(t)instanceof pt)return new pt(o,"array",f);return f}),zb="VAL must be a valid EMEI",Hb=e=>{let r=t=>{let i=0;for(;t>0;)i=i+t%10,t=parseInt(""+t/10,10);return i},f=(""+e).length;if(f!==15)return!1;let o=0;for(let t=f;t>=1;t--){let i=e%10;t%2===0&&(i=2*i),o+=r(i),e=parseInt(""+e/10,10)}return o%10===0},Vb=(e=zb)=>function(r){let f=e.replace(/VAL/g,r);return Hb(r)?r:new pt(f,"emei",r)},wf="VAL must be a string or array with length N",Wb=(e,r=wf)=>function(f){let o=r.replace(/VAL/g,f).replace(/N/g,e);return(typeof f=="string"||Array.isArray(f))&&f.length===+e?f:new pt(o,"length",f)},jb=(e,r=wf)=>function(f){let o=r.replace(/VAL/g,f).replace(/N/g,e);return(typeof f=="string"||Array.isArray(f))&&f.length>=+e?f:new pt(o,"minLength",f)},Ub=(e,r=wf)=>function(f){let o=r.replace(/VAL/g,f).replace(/N/g,e);return(typeof f=="string"||Array.isArray(f))&&f.length<=+e?f:new pt(o,"maxLength",f)},$b="VAL must be a valid ip address ipv4 or ipv6",qb="VAL must be a valid ipv4 address",Yb="VAL must be a valid ipv6 address",Vp=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Wp=/^[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}$/,Gb=(e=$b)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&(Vp.test(r)||Wp.test(r))?r:new pt(f,"ip",r)},Xb=(e=qb)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&Vp.test(r)?r:new pt(f,"ipv4",r)},Kb=(e=Yb)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&Wp.test(r)?r:new pt(f,"ipv6",r)},Zb="VAL must be a valid domain name, xn--* for internationalized names",Jb=/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/,Qb=(e=Zb)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&Jb.test(r)?r:new pt(f,"domain",r)},ey="VAL must be a valid url",ty=/^(?:(?:(?:https?|ftp|wss?):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,ny=(e=ey)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&ty.test(r)?r:new pt(f,"url",r)},iy="VAL must be a valid color in HEX, RGB(A), or HSL(A) format",sy="VAL must be a valid HEX color",ay="VAL must be a valid RGB(a) color",oy="VAL must be a valid HSL(A) color",ry=/^#(?:[\da-f]{3}){1,2}$|^#(?:[\da-f]{4}){1,2}$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,ly=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,uy=/^rgba?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^rgba?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,cy=/^hsla?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^hsla?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,dy=(e=iy)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&ry.test(r)?r:new pt(f,"color",r)},hy=(e=sy)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&ly.test(r)?r:new pt(f,"hexColor",r)},fy=(e=ay)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&uy.test(r)?r:new pt(f,"rgbColor",r)},py=(e=oy)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&cy.test(r)?r:new pt(f,"hslColor",r)},jp=/^4\d{12}(?:\d{3,6})?$/u,Up=/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,$p=/^3[47]\d{13}$/u,qp=/^6(?:011|5\d{2})\d{12,15}$/u,Yp=/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,Gp=/^(?:2131|1800|35\d{3})\d{11}$/u,Xp=/^(?:6[27]\d{14,17}|81\d{14,17})$/u,Kp="VAL must be a valid CC number (visa, mastercard, american express, discover, diners club, jcb, or union pay)",gy="VAL must be a valid Visa card number",my="VAL must be a valid Mastercard card number",vy="VAL must be a valid American Express card number",by="VAL must be a valid DISCOVER card number",yy="VAL must be a valid DINERS CLUB card number",xy="VAL must be a valid JCB card number",Cy="VAL must be a valid Union Pay card number",wy=(e=Kp)=>function(r){let f=e.replace(/VAL/g,r);return typeof r=="string"&&(jp.test(r)||Up.test(r)||$p.test(r)||qp.test(r)||Yp.test(r)||Gp.test(r)||Xp.test(r))?r:new pt(f,"creditCard",r)},Qo=(e,r,f=Kp)=>function(o){let t=f.replace(/VAL/g,o);return typeof o=="string"&&r.test(o)?o:new pt(t,e,o)},_y=(e=gy)=>Qo("visa",jp,e),ky=(e=my)=>Qo("mastercard",Up,e),Sy=(e=vy)=>Qo("american express",$p,e),Ty=(e=by)=>Qo("discover",qp,e),Dy=(e=yy)=>Qo("diners club",Yp,e),Ey=(e=xy)=>Qo("jcb card",Gp,e),My=(e=Cy)=>Qo("union pay",Xp,e),Ay="The length of string must be VAL bytes",Iy=(e,r=Ay)=>function(f){let o=r.replace(/VAL/g,f);return typeof f=="string"&&new TextEncoder().encode(f).length===e?f:new pt(o,"bytes",f)},Fy="VAL can`t be null or undefined.",Ly=(e=Fy)=>function(r){let f=e.replace(/VAL/g,r);return Jo(r)?r:new pt(f,"notNull",r)},Oy="The value must match the pattern",Py=(e,r=Oy)=>function(f){let o=r.replace(/VAL/g,f);return(typeof e=="string"?new RegExp(e,"g"):e).test(""+f)?f:new pt(o,"pattern",f)},By="VAL must contains only digits",Ry=(e=By)=>function(r){let f=e.replace(/VAL/g,r);return/^\d+$/g.test(""+r)?r:new pt(f,"digits",r)},Ny="VAL must be a float",zy=(e=Ny)=>function(r){let f=e.replace(/VAL/g,r);return!isNaN(r)&&+n%1!==0||/^\d*\.\d+$/.test(r)?r:new pt(f,"float",r)},Hy="VAL must must contains OBJ",Vy=(e,r=Hy)=>function(f){let o=r.replace(/VAL/g,f).replace(/OBJ/g,e);return f.includes(e)?f:new pt(o,"contains",f)},Wy="A VAL must have type TYPE";function jy(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)]$/,"$1").toLowerCase()}var Uy=(e="string",r=Wy)=>function(f){let o=r.replace(/VAL/g,f).replace(/TYPE/g,e);return e===jy(f)?f:new pt(o,"type",f)},$y="VAL must be an equal to VALUE",qy=(e,r=$y)=>function(f){let o=r.replace(/VAL/g,f).replace(/VALUE/g,e);return f===e?f:new pt(o,"equal",f)},Yy="VAL must be a similar to VALUE",Gy=(e,r=Yy)=>function(f){let o=r.replace(/VAL/g,f).replace(/VALUE/g,e);return f==e?f:new pt(o,"similar",f)},Xy="VAL must be a great then VALUE",Ky=(e,r=Xy)=>function(f){let o=r.replace(/VAL/g,f).replace(/VALUE/g,e);return f>e?f:new pt(o,"great",f)},Zy="VAL must be a less then VALUE",Jy=(e,r=Zy)=>function(f){let o=r.replace(/VAL/g,f).replace(/VALUE/g,e);return f<e?f:new pt(o,"less",f)},Qy="VAL must be a great or equal to VALUE",e1=(e,r=Qy)=>function(f){let o=r.replace(/VAL/g,f).replace(/VALUE/g,e);return f>=e?f:new pt(o,"greatOrEqual",f)},t1="VAL must be a less or equal to VALUE",n1=(e,r=t1)=>function(f){let o=r.replace(/VAL/g,f).replace(/VALUE/g,e);return f<=e?f:new pt(o,"lessOrEqual",f)},i1="0.7.1",s1="07.02.2025, 03:04:31",a1=()=>{console.info(`%c Guardian %c v${i1} %c ${s1} `,"color: pink; font-weight: bold; background: #2b1700","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.G=Rp;var Rn,at=(Rn=class{static log(e,r,f){if(e>Rn.DEBUG_LEVEL)return;let o={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},t;switch(e){case Rn.DEBUG_LEVELS.ERROR:t="error";break;case Rn.DEBUG_LEVELS.WARN:t="warn";break;case Rn.DEBUG_LEVELS.INFO:t="info";break;case Rn.DEBUG_LEVELS.DEBUG:t="debug";break;case Rn.DEBUG_LEVELS.TRACE:t="trace";break;default:return}console.group(`%c Model: ${r}`,o[t]),f!==void 0&&console.log("%c Data:",o.data,f),console.groupEnd()}static error(e,r){Rn.log(Rn.DEBUG_LEVELS.ERROR,e,r)}static warn(e,r){Rn.log(Rn.DEBUG_LEVELS.WARN,e,r)}static info(e,r){Rn.log(Rn.DEBUG_LEVELS.INFO,e,r)}static debug(e,r){Rn.log(Rn.DEBUG_LEVELS.DEBUG,e,r)}static trace(e,r){Rn.log(Rn.DEBUG_LEVELS.TRACE,e,r)}},A(Rn,"DEBUG_LEVELS",{NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5}),A(Rn,"DEBUG_LEVEL",Rn.DEBUG_LEVELS.NONE),Rn),o1="0.4.0",r1="08.03.2025, 01:01:34",Zp=class{constructor(e={}){var r;if(at.DEBUG_LEVEL=e.debug?4:0,at.debug("[Router] Init Router"),this.routes={},this.fallbackRoute=e.fallback||"/",this.maxRedirects=e.maxRedirects||5,this.redirectCount=0,this.basePath=e.base||"",this.middleware=[],this.beforeEachHooks=[],this.afterEachHooks=[],this.cache=new Map,this.cacheLimit=(r=e.cacheLimit)!=null?r:50,this.touchStartX=0,this.enableSwipeNavigation=e.enableSwipeNavigation||!1,this.current=null,this.redirects={},this.useHash=e.useHash||!1,this.events={beforeNavigate:[],afterNavigate:[],routeNotFound:[],error:[]},this.plugins=[],this.enableSwipeNavigation&&this.initSwipeNavigation(),e.routes){at.debug("[Router] Registering routes");for(let[f,o]of Object.entries(e.routes))this.addRoute(f,o)}e.plugins&&Array.isArray(e.plugins)&&(at.debug("[Router] Registering plugins"),e.plugins.forEach(f=>{Array.isArray(f)?this.usePlugin(f[0],f[1]||{}):this.usePlugin(f)})),at.debug("[Router] Subscribing to unhandledrejection event"),window.addEventListener("unhandledrejection",this.handleError.bind(this)),at.debug("[Router] Router Initialized")}on(e,r){return at.debug(`[Router] Subscribing to event ${e}`),this.events[e]&&this.events[e].push(r),this}emit(e,...r){if(at.debug(`[Router] Emitting event ${e}`),this.events[e])for(let f of this.events[e]){let o=f(...r);if(e==="beforeNavigate"&&o===!1)return!1}return!0}initSwipeNavigation(){at.debug("[Router] Initializing swipe navigation"),at.debug("[Router] Adding touchstart event listener"),document.addEventListener("touchstart",e=>{this.touchStartX=e.touches[0].clientX},{passive:!0}),at.debug("[Router] Adding touchend event listener"),document.addEventListener("touchend",e=>{let r=e.changedTouches[0].clientX,f=this.touchStartX-r;Math.abs(f)>100&&(f>0?(at.debug("[Router] Swiping right (forward)"),window.history.forward()):(at.debug("[Router] Swiping left (backward)"),window.history.back()))},{passive:!0})}handleError(e){at.error("[Router] Error during navigation:",e),this.emit("error",e),this.routes["/error"]?this.navigateTo("/error",!0):this.navigateTo(this.fallbackRoute,!0)}sanitizePath(e){at.debug("[Router] Sanitizing path:",e);try{if(!e)return"/";let r=new URL(e,window.location.origin),f=decodeURIComponent(r.pathname);return f=f.replace(/[<>'"`;(){}]/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/([^/])\/{2,}/g,"$1/").replace(/\/+/g,"/").replace(/(.+)\/$/,"$1").replace(/\.+/g,".").split("/").filter(o=>o!==".."&&o!==".").join("/"),f.startsWith("/")||(f="/"+f),this.isBlockedPath(f)?"/":(at.debug("[Router] Sanitized path:",f),f)}catch(r){return at.error("[Router] Error sanitizing path:",r),"/"}}isBlockedPath(e){return at.debug("[Router] Checking if path is blocked:",e),[/^\/(api|admin|wp-admin|wp-content|wp-includes)/i,/\.(php|asp|aspx|jsp|cgi|config|env|git|sql|htaccess)$/i,/\/(.+\/)*\.{2,}\//,/javascript:/i,/data:/i,/vbscript:/i,/file:/i].some(r=>r.test(e))}test(e){at.debug("[Router] Testing path:",e);let r=e,f=this.sanitizePath(e),o={original:r,sanitized:f,isBlocked:this.isBlockedPath(f),isModified:r!==f};return at.debug(`[Router] test result for path ${e}:`,o),o}beforeEach(e){return at.debug("[Router] Adding beforeEach hook"),this.beforeEachHooks.push(e),this}afterEach(e){return at.debug("[Router] Adding afterEach hook"),this.afterEachHooks.push(e),this}use(e){return at.debug("[Router] Adding middleware"),this.middleware.push(e),this}addRedirect(e,r){return at.debug("[Router] Adding redirect from",e,"to",r),this.redirects[e]?!1:(this.redirects[e]=r,this)}addRoute(e,r){return at.debug("[Router] Adding route",e),this.routes[e]=r,this}addNestedRoute(e,r,f){at.debug(`[Router] Adding nested route ${r} to ${e}`);let o=`${e}${r}`.replace(/\/\//g,"/");return this.addRoute(o,f),this}addLazyRoute(e,r){return at.debug("[Router] Adding lazy-loaded route",e),this.addRoute(e,f=>O(this,null,function*(){try{let o=yield r();return(o.default||o)(f)}catch(o){throw o}})),this}addLazyNestedRoute(e,r,f){at.debug("[Router] Adding lazy-loaded nested route",r,"to",e);let o=`${e}${r}`.replace(/\/\//g,"/");return this.addLazyRoute(o,f),this}addFallbackRoute(e){return at.debug("[Router] Adding fallback route",e),this.fallbackRoute=e,this}add404Route(e){return at.debug("[Router] Adding 404 route",e),this.routes["/404"]=e,this}addErrorRoute(e){return at.debug("[Router] Adding error route",e),this.routes["/error"]=e,this}addProtectedRoute(e,r,f,o="/login"){return at.debug("[Router] Adding protected route",e),this.addRoute(e,t=>O(this,null,function*(){if(yield f(t))return at.debug("[Router] Guard function passed, executing callback"),r(t);at.debug("[Router] Guard function failed, redirecting to",o),yield this.navigateTo(o,!0)})),this}removeRoute(e){return at.debug("[Router] Removing route",e),this.routes[e]&&delete this.routes[e],this}updateRoute(e,r){return at.debug("[Router] Updating route",e),this.routes[e]&&(this.routes[e]=r),this}getRoutes(){return at.debug("[Router] Getting registered routes"),this.routes}navigate(e){return O(this,null,function*(){if(at.debug("[Router] Navigating to",e),this.redirectCount>this.maxRedirects){at.error("[Router] Maximum redirect limit reached, redirecting to",this.fallbackRoute),console.error("Maximum redirect limit reached"),this.redirectCount=0,this.emit("error",new Error("Maximum redirect limit reached")),yield this.navigateTo("/error",!0);return}this.redirectCount++;let r=this.matchRoute(this.sanitizePath(e));if(r)try{if(at.debug("[Router] Route matched:",r),this.emit("beforeNavigate",r)===!1){at.debug("[Router] Navigation cancelled by beforeNavigate hook");return}if(this.redirects[r.path]){at.debug("[Router] Redirecting to",this.redirects[r.path]),yield this.navigateTo(this.redirects[r.path],!0);return}this.redirectCount++;for(let f of this.middleware)at.debug("[Router] Executing middleware"),yield f(r);for(let f of this.beforeEachHooks)at.debug("[Router] Executing beforeEach hook"),yield f(r);at.debug("[Router] Executing route callback"),yield r.callback(r.params);for(let f of this.afterEachHooks)at.debug("[Router] Executing afterEach hook"),yield f(r);this.current=r,this.emit("afterNavigate",r),at.debug("[Router] Navigation completed")}catch(f){at.error("[Router] Error during navigation:",f),console.error("Navigation error:",f),this.emit("error",f),this.routes["/error"]&&this.routes["/error"](f)}else at.warn("[Router] Route not found:",e),this.redirectCount=0,this.emit("routeNotFound",e),this.routes["/404"]&&this.routes["/404"]()})}navigateTo(e,r=!1){return O(this,null,function*(){at.debug(`[Router] Navigating to ${e} ${r?"with replace state":""}`),this.redirectCount=0;let f=new URL(e,window.location.origin);r?(at.debug("[Router] Replacing state with",f),window.history.replaceState({},"",f)):(at.debug("[Router] Pushing state with",f),window.history.pushState({},"",f)),at.debug("[Router] Navigating to",f),yield this.navigate(f.pathname)})}matchRoute(e){if(at.debug("[Router] Matching route for",e),this.cache.has(e))return this.cache.get(e);at.debug("[Router] Route not found in cache, performing match");let r=this._performMatch(e);if(this.cache.size>=this.cacheLimit){at.debug("[Router] Cache limit reached, removing oldest entry");let f=this.cache.keys().next().value;this.cache.delete(f)}return at.debug("[Router] Caching result for",e),this.cache.set(e,r),r}_performMatch(e){let[r,f]=e.split("?"),o=new URLSearchParams(f),t=Object.fromEntries(o);for(let i in this.routes){let c=[],m=i.replace(/:([^\/]+)/g,(w,S)=>(c.push(S),"([^/]+)")),b=e.match(new RegExp(`^${m}$`));if(b){let w=b.slice(1).reduce((S,D,I)=>(S[c[I]]=D,S),{});return{path:e,pattern:m,callback:this.routes[i],params:w,query:t}}}return null}clearCache(){at.debug("[Router] Clearing cache"),this.cache.clear()}resetRedirectCount(){at.debug("[Router] Resetting redirect count"),this.redirectCount=0}getFullPath(e){return at.debug("[Router] Getting full path for",e),this.useHash?`#${e}`:e}getPathFromLocation(){return at.debug("[Router] Getting path from location"),this.useHash?window.location.hash.slice(1)||"/":window.location.pathname}listen(){return at.debug("[Router] Starting to listen for navigation events"),this._handleNavigation=()=>{this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(e=>{})},this._handleLinkClick=e=>{if(e.target.tagName==="A"){let r=e.target.getAttribute("href");if(r&&(this.useHash&&r.startsWith("#")||!this.useHash&&e.target.href.startsWith(window.location.origin))){e.preventDefault();let f=this.useHash?r.slice(1):e.target.pathname;this.redirectCount=0,this.navigateTo(f).then(o=>{})}}},at.debug("[Router] Listening for navigation events"),window.addEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),at.debug("[Router] Listening for link clicks"),document.addEventListener("click",this._handleLinkClick),this._initPlugins(),this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(e=>{}),this}_initPlugins(){at.debug("[Router] Init plugins"),this.plugins.forEach(({plugin:e,options:r})=>{typeof e.onInit=="function"&&e.onInit(this,r)})}usePlugin(e,r={}){if(!e)return this;if(at.debug("[Router] Using plugin",e),typeof e=="object"&&typeof e.install=="function")at.debug("[Router] Installing plugin",e),e.install(this,r);else if(typeof e=="function")at.debug("[Router] Executing plugin",e),e(this,r);else return at.warn("Invalid plugin format. Plugin must be an object with install method or a function."),this;return at.debug("[Router] Add plugin to store",e),this.plugins.push({plugin:e,options:r}),at.debug("[Router] Plugin initialized"),this}destroy(){at.debug("[Router] Destroying router"),this.plugins.forEach(({plugin:e,options:r})=>{at.debug("[Router] Destroying plugin",e),typeof e.onDestroy=="function"&&e.onDestroy(this,r)}),at.debug("[Router] Removing event listeners"),window.removeEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),document.removeEventListener("click",this._handleLinkClick),window.removeEventListener("unhandledrejection",this.handleError),this._handleNavigation=null,this._handleLinkClick=null,this.routes={},this.plugins=[],this.cache.clear(),at.debug("[Router] Router destroyed")}};Zp.info=()=>{console.info(`%c Router %c v${o1} %c ${r1} `,"color: #ffffff; font-weight: bold; background: #ed1cab","color: white; background: darkgreen","color: white; background: #0080fe;")};var l1=Zp,u1=l1;globalThis.Router=u1;var c1=class{constructor(){this.events=new Map}on(e,r){return this.events.has(e)||this.events.set(e,new Set),this.events.get(e).add(r),()=>this.off(e,r)}off(e,r){this.events.has(e)&&this.events.get(e).delete(r)}emit(e,r){this.events.has(e)&&this.events.get(e).forEach(f=>{try{f(r)}catch(o){console.error(`Error when performing an event handler ${e}:`,o)}})}},_f=c1,d1=`
    <style>
        #model-devtools-panel  { 
            position: fixed;
            bottom: 0;
            right: 0;
            width: 300px;
            height: 400px;
            background: #242424;
            color: #fff;
            border: 1px solid #333;
            z-index: 9999;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .devtools-section {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
            }
            
            h3 {
                margin: 0;
                font-size: 14px;
                border-bottom: 1px solid #333;
                padding-bottom: 4px;
            }
        }
        
        #model-dev-tools-toggle-button {
            position: fixed;
            bottom: 10px;
            right: 10px;
            z-index: 9998;
            height: 36px;
            width: 36px;
            background: #444;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }        

        #model-devtools-time-travel-dialog {
            position: fixed;
            bottom: 0;
            right: 304px;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 4px;
            height: 400px;
            width: 300px;
            z-index: 10000;
            color: #fff;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .time-travel-items {
                padding: 4px; 
                height: calc(100% - 35px); 
                overflow: auto;
                position: relative;
            }
            
            .time-travel-item {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
                
                button {
                    margin-top: 8px;
                    background: dodgerblue;
                }
            }
        }
        
        #model-devtools-panel, #model-devtools-time-travel-dialog {
            button {
                height: 20px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                font-size: 12px;
                border-radius: 4px;
                border: 1px solid #444;
                background: #333;
                color: #fff;
                cursor: pointer;
                
                @media (hover: hover) {
                    &:hover {
                        background: #444;
                    }
                }

                @media (hover: none) {
                    &:hover {
                        background: #444;
                    }
                }
            }        
        }
        
        .dev-tools-header {
            padding: 8px; 
            border-bottom: 1px solid #333; 
            display: flex; 
            justify-content: space-between;
        }
    </style>
`,h1=d1,f1=class{constructor(e,r={}){this.model=e,this.options=k({enabled:!0,timeTravel:!0,maxSnapshots:50},r),this.history=[],this.currentIndex=-1,this.initializeDevTools()}initializeDevTools(){window.__MODEL_DEVTOOLS__=this,this.createDevToolsPanel(),this.setupModelListeners()}createDevToolsPanel(){let e=document.createElement("div");e.id="model-devtools-panel",e.style.cssText="display: none;";let r=document.createElement("div");r.innerHTML=`
            ${h1}
            <div class="dev-tools-header">
                <span>🛠 Model DevTools</span>
                <div>
                    <button id="devtools-time-travel" title="Time Travel">⏱</button>
                    <button id="devtools-close" title="Close">×</button>
                </div>
            </div>
        `;let f=document.createElement("div");f.style.cssText=`
            padding: 8px;
            height: calc(100% - 35px);
            overflow: auto;
        `,f.id="model-devtools-content",e.appendChild(r),e.appendChild(f),document.body.appendChild(e),this.createToggleButton(),document.getElementById("devtools-close").onclick=()=>this.togglePanel(),document.getElementById("devtools-time-travel").onclick=()=>this.showTimeTravelDialog()}showTimeTravelDialog(){let e=document.getElementById("model-devtools-time-travel-dialog");e||(e=document.createElement("div"),e.id="model-devtools-time-travel-dialog");let r=[...this.history].reverse().map((f,o)=>`
            <div class="time-travel-item">
                <div>Time: ${new Date(f.timestamp).toLocaleTimeString()}</div>
                <div>Type: ${f.type}</div>
                <div>Property: ${f.property||f.event||f.path||""}</div>
                <div>Value: ${f.type==="computed-update"?f.newValue:typeof f.oldValue<"u"&&typeof f.newValue<"u"?`${JSON.stringify(f.oldValue)} -> ${JSON.stringify(f.newValue)}`:JSON.stringify(f.newValue||f.value||"")}</div>
                <button style="display: none" onclick="window.__MODEL_DEVTOOLS__.timeTravel(${this.history.length-1-o})">Apply this state</button>
            </div>
        `).join("");e.innerHTML=`
            <div class="dev-tools-header">
                <span>⏱ Time Travel</span>
                <div>
                    <button style="margin-left: auto;" onclick="window.__MODEL_DEVTOOLS__.clearTimeTravel()">CLear</button>
                    <button onclick="this.parentElement.parentElement.parentElement.remove()">×</button>                
                </div>
            </div>
            <div class="time-travel-items">${r||"Nothing to show!"}</div>
        `,document.body.appendChild(e)}createToggleButton(){let e=document.createElement("button");e.id="model-dev-tools-toggle-button",e.textContent="🛠",e.title="Model DevTools",e.onclick=()=>this.togglePanel(),document.body.appendChild(e)}setupModelListeners(){this.model.store.on("change",e=>{this.logChange({type:"data-change",path:e.path,oldValue:e.oldValue,newValue:e.newValue,timestamp:Date.now()})}),this.model.store.on("*",(e,r)=>{e!=="change"&&e!=="compute"&&e!=="arrayChange"&&this.logChange({type:"store-event",event:e,data:r,timestamp:Date.now()})}),this.model.on("*",(e,r)=>{e!=="change"&&e!=="compute"&&this.logChange({type:"model-event",event:e,data:r,timestamp:Date.now()})}),this.model.store.on("compute",e=>{this.logChange({type:"computed-update",property:e.key,dependencies:Array.from(e.dependencies),newValue:e.value,timestamp:Date.now()})}),this.model.store.on("arrayChange",e=>{this.logChange({type:"array-operation",path:e.path,method:e.method,args:e.args,oldValue:e.oldValue,newValue:e.newValue,timestamp:Date.now()})})}logChange(e){this.options.enabled&&(this.options.timeTravel&&this.saveSnapshot(e),this.updateDisplay())}saveSnapshot(e){let r=T(k({},e),{state:JSON.parse(JSON.stringify(this.model.data)),computed:this.getComputedValues()});this.history=this.history.slice(0,this.currentIndex+1),this.history.push(r),this.currentIndex++,this.history.length>this.options.maxSnapshots&&(this.history.shift(),this.currentIndex--)}updateDisplay(){let e=document.getElementById("model-devtools-content");if(!e)return;let r=i=>{if(i===void 0)return"undefined";if(i===null)return"null";try{return Array.isArray(i)?`Array(${i.length}) ${JSON.stringify(i,null,2)}`:JSON.stringify(i,null,2)}catch{return String(i)}},f=this.getRecentChanges(),o="";for(let i of f){let c;try{let m=T(k({},i),{timestamp:new Date(i.timestamp).toLocaleTimeString()});c=JSON.stringify(m,null,2)}catch(m){c=`Error formatting change: ${m.message}`}o+=`
            <div style="border-bottom: 1px solid #444; padding-bottom: 8px; overflow-x: auto">
                <pre>${c}</pre>
            </div>
`}let t=this.getComputedValues();e.innerHTML=`
        <div class="devtools-section">
            <h3>Current State:</h3>
            <pre>${r(this.model.data)}</pre>
        </div>
        <div class="devtools-section">
            <h3>Computed Values:</h3>
            <pre>${r(t)}</pre>
        </div>
        <div class="devtools-section">
            <h3>DOM Dependencies:</h3>
            <pre>${this.formatDOMDependencies()}</pre>
        </div>
        <div class="devtools-section">
            <h3>Recent Changes:</h3>
            ${o}
        </div>
    `,document.getElementById("model-devtools-time-travel-dialog")&&this.showTimeTravelDialog()}formatDOMDependencies(){try{let e={};return this.model.dom.domDependencies.forEach((r,f)=>{e[f]=Array.from(r).map(o=>({type:o.type,element:o.element.tagName}))}),JSON.stringify(e,null,2)}catch(e){return`Error formatting DOM dependencies: ${e.message}`}}getComputedValues(){if(!this.model.computed)return{};if(typeof this.model.computed.all=="function")return this.model.computed.all();if(this.model.computed.keys&&Array.isArray(this.model.computed.keys)){let r={};for(let f of this.model.computed.keys)r[f]=this.model.computed.getValue(f);return r}let e={};for(let r in this.model.data)this.model.computed&&typeof this.model.computed[r]<"u"&&(e[r]=this.model.data[r]);return e}getRecentChanges(){return this.history.slice(-5).reverse()}togglePanel(){let e=document.getElementById("model-devtools-panel");e&&(e.style.display=e.style.display==="none"?"block":"none"),e.style.display==="none"&&document.getElementById("model-devtools-time-travel-dialog").remove()}inspect(e){return this.model.store.get(e)}timeTravel(e){this.options.timeTravel}clearTimeTravel(){this.history=[],this.currentIndex=-1,this.showTimeTravelDialog()}startPerfMonitoring(){this.perfMetrics={updates:0,computations:0,domUpdates:0,startTime:Date.now()},this.model.store.on("change",()=>{this.perfMetrics.updates++}),this.model.store.on("compute",()=>{this.perfMetrics.computations++})}getPerfReport(){let e=(Date.now()-this.perfMetrics.startTime)/1e3;return{totalUpdates:this.perfMetrics.updates,updatesPerSecond:this.perfMetrics.updates/e,computationsPerSecond:this.perfMetrics.computations/e,domUpdatesPerSecond:this.perfMetrics.domUpdates/e}}},p1=f1,g1=class{constructor(){this.middlewares=[]}use(e){if(typeof e!="function"){console.error("MIDDLEWARE should be a function!");return}this.middlewares.push(e)}process(e){return O(this,null,function*(){let r=-1,f=()=>O(this,null,function*(){r++,r<this.middlewares.length&&(yield this.middlewares[r](e,f))});return yield f(),e})}},m1=g1,Nn,He=(Nn=class{static log(e,r,f){if(e>Nn.DEBUG_LEVEL)return;let o={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},t;switch(e){case Nn.DEBUG_LEVELS.ERROR:t="error";break;case Nn.DEBUG_LEVELS.WARN:t="warn";break;case Nn.DEBUG_LEVELS.INFO:t="info";break;case Nn.DEBUG_LEVELS.DEBUG:t="debug";break;case Nn.DEBUG_LEVELS.TRACE:t="trace";break;default:return}console.group(`%c Model: ${r}`,o[t]),f!==void 0&&console.log("%c Data:",o.data,f),console.groupEnd()}static error(e,r){Nn.log(Nn.DEBUG_LEVELS.ERROR,e,r)}static warn(e,r){Nn.log(Nn.DEBUG_LEVELS.WARN,e,r)}static info(e,r){Nn.log(Nn.DEBUG_LEVELS.INFO,e,r)}static debug(e,r){Nn.log(Nn.DEBUG_LEVELS.DEBUG,e,r)}static trace(e,r){Nn.log(Nn.DEBUG_LEVELS.TRACE,e,r)}},A(Nn,"DEBUG_LEVELS",{NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5}),A(Nn,"DEBUG_LEVEL",Nn.DEBUG_LEVELS.NONE),Nn),v1=class extends _f{constructor(e={},r){He.DEBUG_LEVEL=r.options.debug?4:0,He.debug("Model: Init ReactiveStore"),super(),this.model=r,He.DEBUG_LEVEL=this.model.options.debug?4:0,He.debug("Model: Init ReactiveStore"),this.state=this.createReactiveProxy(e),this.watchers=new Map,this.previousState=JSON.parse(JSON.stringify(e)),He.debug("Model: Init MiddlewareManager"),this.middleware=new m1,He.debug("Model: MiddlewareManager initialized"),He.debug("Model: ReactiveStore initialized")}use(e){He.debug("Model: Registering middleware:",e),this.middleware.use(e)}createReactiveProxy(e,r=""){return He.debug(`Model: Creating reactive object with path ${r} for`,e),Array.isArray(e)?this.createArrayProxy(e,r):new Proxy(e,{get:(f,o)=>{if(typeof o=="symbol")return f[o];let t=f[o],i=r?`${r}.${o}`:o;return t&&typeof t=="object"?this.createReactiveProxy(t,i):t},set:(f,o,t)=>O(this,null,function*(){var i,c;if(typeof o=="symbol")return f[o]=t,!0;let m=r?`${r}.${o}`:o,b=f[o];if(b===t)return!0;if((i=this.validators)!=null&&i.has(`${m}`)&&!this.validators.get(`${m}`)(t))return!1;(c=this.formatters)!=null&&c.has(`${m}`)&&(t=this.formatters.get(`${m}`)(t)),t&&typeof t=="object"&&(t=this.createReactiveProxy(t,m));let w={prop:o,oldValue:b,newValue:t,preventDefault:!1};return yield this.middleware.process(w),w.preventDefault||(f[o]=t,this.emit("change",{path:m,oldValue:b,newValue:t}),this.watchers.has(m)&&this.watchers.get(m).forEach(S=>{S(t,b)})),!0}),deleteProperty:(f,o)=>{if(typeof o=="symbol")return delete f[o];let t=r?`${r}.${o}`:o,i=f[o],c=delete f[o];return c&&(this.emit("delete",{path:t,oldValue:i}),this.watchers.has(t)&&this.watchers.get(t).forEach(m=>{m(void 0,i)})),c}})}createArrayProxy(e,r){return He.debug(`Model: Creating reactive array with path ${r} for`,e),new Proxy(e,{get:(f,o)=>{if(typeof o=="symbol")return f[o];let t=f[o];return typeof t=="function"&&["push","pop","shift","unshift","splice","sort","reverse"].includes(o)?(...i)=>{let c=[...f],m=f[o].apply(f,i),b={prop:r,oldValue:c,newValue:f,method:o,args:i,preventDefault:!1};return this.middleware.process(b).then(()=>{b.preventDefault||(this.emit("arrayChange",{path:r,method:o,args:i,oldValue:c,newValue:f}),this.emit("change",{path:r,oldValue:c,newValue:f,method:o,args:i}),this.watchers.has(r)&&this.watchers.get(r).forEach(w=>{w(f,c)}))}),m}:typeof o!="symbol"&&!isNaN(Number(o))&&t&&typeof t=="object"?this.createReactiveProxy(t,`${r}[${o}]`):t},set:(f,o,t)=>O(this,null,function*(){var i,c;if(typeof o=="symbol")return f[o]=t,!0;let m=r?`${r}.${o}`:o,b=f[o];if(b===t)return!0;if((i=this.validators)!=null&&i.has(m)&&!this.validators.get(m)(t))return!1;(c=this.formatters)!=null&&c.has(m)&&(t=this.formatters.get(m)(t)),f[o]=t,t&&typeof t=="object"&&(t=this.createReactiveProxy(t,`${r}[${o}]`));let w={prop:o,oldValue:b,newValue:t,preventDefault:!1};return yield this.middleware.process(w),w.preventDefault||(f[o]=t,this.middleware.process(w).then(()=>{w.preventDefault||(this.emit("arrayChange",{path:m,method:null,args:null,oldValue:b,newValue:t}),this.emit("change",{path:m,oldValue:b,newValue:t,arrayIndex:Number(o)}),this.watchers.has(m)&&this.watchers.get(m).forEach(S=>{S(t,b)}))})),!0})})}applyArrayMethod(e,r,...f){He.debug(`Model: Applying array method ${r} to path ${e} with args`,f);let o=this.get(e);if(!Array.isArray(o))return console.error(`Путь ${e} не является массивом!`),!1;let t=[...o],i=o[r].apply(o,f);return this.emit("arrayChange",{path:e,method:r,args:f,oldValue:t,newValue:[...o]}),this.emit("change",{path:e,oldValue:t,newValue:[...o]}),this.watchers.has(e)&&this.watchers.get(e).forEach(c=>{c([...o],t)}),i}applyArrayChanges(e,r){He.debug(`Model: Applying custom array changes to path ${e} with callback`,r);let f=this.get(e);if(!Array.isArray(f))return console.error(`The path ${e} is not an array!`),!1;let o=[...f],t=r(f);return this.emit("arrayChange",{path:e,method:"custom",args:null,oldValue:o,newValue:[...f]}),this.emit("change",{path:e,oldValue:o,newValue:[...f]}),this.watchers.has(e)&&this.watchers.get(e).forEach(i=>{i([...f],o)}),t}detectArrayChanges(e,r=[]){He.debug("Model: Detecting changes between arrays");let f={added:[],removed:[],moved:[]};for(let o=0;o<e.length;o++){let t=e[o],i=r.findIndex(c=>JSON.stringify(c)===JSON.stringify(t));i===-1?f.added.push({index:o,item:t}):i!==o&&f.moved.push({oldIndex:i,newIndex:o,item:t})}for(let o=0;o<r.length;o++){let t=r[o];e.findIndex(i=>JSON.stringify(i)===JSON.stringify(t))===-1&&f.removed.push({index:o,item:t})}return He.debug("Model: Detected changes:",f),f}watch(e,r){return He.debug(`Model: Watching path ${e} with callback`,r),this.watchers.has(e)||this.watchers.set(e,new Set),this.watchers.get(e).add(r),()=>{this.watchers.has(e)&&this.watchers.get(e).delete(r)}}get(e){if(He.debug(`Model: Getting value at path ${e}`),!e)return this.state;let r=e.split("."),f=this.state;for(let o of r){if(f==null)return;f=f[o]}return f}set(e,r){He.debug(`Model: Setting value at path ${e} to`,r);let f=e.split("."),o=this.state;for(let t=0;t<f.length-1;t++)o[f[t]]===void 0&&(o[f[t]]={}),o=o[f[t]];return o[f[f.length-1]]=r,r}batch(e){He.debug("Model: Batch updating state with",e),this.previousState=JSON.parse(JSON.stringify(this.state)),typeof e=="function"?e(this.state):typeof e=="object"&&Object.entries(e).forEach(([r,f])=>{this.set(r,f)}),this.emit("batchComplete",{previousState:this.previousState,currentState:this.state})}getState(){return He.debug("Model: Getting entire state"),this.state}getPreviousState(){return He.debug("Model: Getting previous state"),this.previousState}toJSON(){return He.debug("Model: Converting state to JSON"),JSON.stringify(this.state)}fromJSON(e){He.debug("Model: Restoring state from JSON",e);let r=JSON.parse(e);this.previousState=JSON.parse(JSON.stringify(this.state)),Object.keys(this.state).forEach(f=>{delete this.state[f]}),Object.entries(r).forEach(([f,o])=>{this.state[f]=o}),this.emit("restore",{previousState:this.previousState,currentState:this.state})}addValidator(e,r){He.debug(`Model: Adding validator for path ${e}`),this.validators||(this.validators=new Map),this.validators.set(e,r)}addFormatter(e,r){He.debug(`Model: Adding formatter for path ${e}`),this.formatters||(this.formatters=new Map),this.formatters.set(e,r)}isValidPath(e){He.debug(`Model: Validating path ${e}`);try{return this.get(e)!==void 0}catch(r){return He.error(`Model: Error validating path ${e}:`,r),!1}}destroy(){this.state=null,this.watchers.clear(),this.previousState=null,He.debug("Model: ReactiveStore destroyed")}},b1=class{constructor(e,r){He.DEBUG_LEVEL=r.options.debug?4:0,He.debug("Model: Init LoopManager"),this.domManager=e,this.model=r,this.loops=new Map,this.loopsIn=[],He.debug("Model: LoopManager initialized")}parseLoops(e){He.debug("Parsing loops with data-for...");let r=e.querySelectorAll("[data-for]");He.debug("Found elements with data-for:",r.length),r.forEach(o=>{let t=o.getAttribute("data-for").trim(),i=t.match(/^\s*(\w+)(?:\s*,\s*(\w+))?\s+in\s+(\w+(?:\.\w+)*)\s*$/);if(!i){console.error("Invalid expression format data-for:",t);return}let[c,m,b,w]=i,S=this.model.store.get(w);if(!Array.isArray(S)){console.error(`The value in the ${w} path is not an array:`,S);return}let D=o.cloneNode(!0);this.loops.set(o,{template:D,itemName:m,indexName:b,arrayPath:w,parentNode:o.parentNode}),this.domManager.registerDomDependency(w,o,{type:"loop",arrayPath:w}),this.updateLoop(o)}),He.debug("Parsing loops with data-in...");let f=e.querySelectorAll("[data-in]");He.debug("Found elements with data-in:",f.length),f.forEach(o=>{let t=o.getAttribute("data-in"),i=t.match(/^\s*(\w+)\s+in\s+(\S+)\s*$/);if(!i){console.error(`Invalid data-in syntax: ${t}`);return}let[c,m,b]=i,w=o.innerHTML,S=o.parentNode,D=document.createComment(`data-in: ${t}`);o.style.display="none",S.insertBefore(D,o),this.loopsIn.push({type:"in",originalElement:o,template:w,placeholder:D,objectPath:b,keyVar:m,elements:[]});let I=this.model.store.get(b);I&&typeof I=="object"&&!Array.isArray(I)&&this.updateInLoop(this.loopsIn[this.loopsIn.length-1],I)})}updateInLoop(e,r){e.elements.forEach(f=>f.remove()),e.elements=[],!(!r||typeof r!="object"||Array.isArray(r))&&Object.keys(r).forEach(f=>{He.debug(`Updating loop for key: ${f}`);let o=e.originalElement.cloneNode(!0);o.removeAttribute("data-in"),o.style.display="";let t={[e.keyVar]:f};o.innerHTML=this.processTemplate(e.template,r,f,t),e.placeholder.parentNode.insertBefore(o,e.placeholder.nextSibling),e.elements.push(o),this.domManager.bindDOM(o)})}processTemplate(e,r,f,o){return He.debug("Processing template:",e),He.debug("	 With data:",r),He.debug(`	 For key: ${f}`),He.debug("	 With context:",o),e.replace(/\{\{\s*([^}]+)\s*\}\}/g,(t,i)=>{i=i.trim();let c=Object.keys(o)[0];if(i===c)return f;He.debug(`Template: Processing path: ${i}`);let m=new RegExp(`(\\w+)\\[${c}\\]`),b=i.match(m);if(b){b[1];let S=r;if(S&&typeof S=="object")return S[f]!==void 0?S[f]:""}let w=this.model.store.get(i);return w!==void 0?w:""})}updateLoops(e,r){He.debug("Updating data-for loops for ${path}",this.loops),this.loops.forEach((f,o)=>{f.arrayPath===e&&this.updateLoop(o)}),He.debug(`Updating data-in loops for ${e}`,this.loopsIn),this.loopsIn.forEach(f=>{if(f.type==="in"&&(f.objectPath===e||e.startsWith(f.objectPath+"."))){let o=this.model.store.get(f.objectPath);o&&typeof o=="object"&&this.updateInLoop(f,o)}})}updateLoop(e){He.debug("Updating loop for element:",e);let r=this.loops.get(e)||this.loopsIn.find(b=>b.originalElement===e)[0];if(!r){console.error("Информация о цикле не найдена для элемента");return}let{template:f,itemName:o,indexName:t,arrayPath:i,parentNode:c}=r,m=this.model.store.get(i);if(!Array.isArray(m)){console.error("Значение не является массивом:",m);return}c.querySelectorAll(`[data-generated-for="${i}"]`).forEach(b=>b.remove()),m.forEach((b,w)=>{let S=f.cloneNode(!0);S.style.display="",S.removeAttribute("data-for"),S.setAttribute("data-generated-for",i),S.setAttribute("data-item-index",""+w),He.debug(`Creating new loop element for ${i} at index ${w}`),this.domManager.processTemplateNode(S,{[o]:b,[t||"index"]:w}),He.debug("Insert new node",S),c.insertBefore(S,e)}),e.style.display="none"}updateLoopPart(e,r,f,o){let t=this.loops.get(e);if(!t)return;let{template:i,itemName:c,indexName:m,parentNode:b}=t,w=this.model.store.get(r);if(!Array.isArray(w))return;let S=Array.from(b.querySelectorAll(`[data-generated-for="${r}"]`));if(o===void 0||S.length!==w.length)return this.updateLoop(e);let D=S[o];if(D){let I=i.cloneNode(!0);for(this.domManager.processTemplateNode(I,{[c]:w[o],[m||"index"]:o});D.firstChild;)D.removeChild(D.firstChild);for(;I.firstChild;)D.appendChild(I.firstChild);Array.from(I.attributes).forEach(P=>{D.setAttribute(P.name,P.value)})}}getLoops(){return{for:this.loops,in:this.loopsIn}}destroy(){this.loops.clear(),this.loopsIn=[],He.debug("Model: LoopManager destroyed")}},fu=class{static evaluateExpression(e,r){try{if(e.startsWith("{{")&&e.endsWith("}}")){let f=e.substring(2,e.length-2).trim();return this.getValueFromContext(r,f)}return this.parseExpression(e,r)}catch(f){return console.error("Ошибка при вычислении выражения:",f),!1}}static getValueFromContext(e,r){return r?r.split(".").reduce((f,o)=>{let t=o.match(/^([^\[]+)(?:\[(\d+)\])?$/);if(t){let[i,c,m]=t,b=f==null?void 0:f[c];return m!==void 0&&Array.isArray(b)?b[parseInt(m,10)]:b}return f==null?void 0:f[o]},e):e}static parseExpression(e,r){e=e.trim();let f=e.match(/(.+?)\s*\?\s*(.+?)\s*:\s*(.+)/);if(f){let[t,i,c,m]=f;return this.parseExpression(i,r)?this.parseExpression(c,r):this.parseExpression(m,r)}if(e.includes("&&"))return e.split("&&").every(t=>this.parseExpression(t.trim(),r));if(e.includes("||"))return e.split("||").some(t=>this.parseExpression(t.trim(),r));let o=e.match(/(.+?)\s*(===|==|!==|!=|>=|<=|>|<)\s*(.+)/);if(o){let[t,i,c,m]=o,b=this.parseExpression(i.trim(),r),w=this.parseExpression(m.trim(),r);switch(c){case"==":return b==w;case"===":return b===w;case"!=":return b!=w;case"!==":return b!==w;case">":return b>w;case"<":return b<w;case">=":return b>=w;case"<=":return b<=w}}if(e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"'))return e.substring(1,e.length-1);if(/^-?\d+(\.\d+)?$/.test(e))return parseFloat(e);if(e==="true")return!0;if(e==="false")return!1;if(e==="null")return null;if(e!=="undefined")return this.getValueFromContext(r,e)}static extractVariables(e){let r=[],f=e.replace(/'[^']*'/g,"''").replace(/"[^"]*"/g,'""').match(/[a-zA-Z_][a-zA-Z0-9_]*(\.([a-zA-Z_][a-zA-Z0-9_]*))*(\[\d+\])*/g);return f&&f.forEach(o=>{let t=o.split(".")[0].split("[")[0].trim();["true","false","null","undefined"].includes(t)||r.includes(t)||r.push(t)}),r}},y1=class{constructor(e,r){He.DEBUG_LEVEL=r.options.debug?4:0,He.debug("ConditionalManager: Init ConditionalManager"),this.dom=e,this.model=r,this.dependencies=new Map,this.conditionalGroups=[],this.subscribe(),He.debug("ConditionalManager: ConditionalManager initialized")}subscribe(){He.debug("ConditionalManager: Subscribe to store changes"),this.model.store.on("change",e=>{this.getGroupsByPath(e.path).forEach(r=>{this.updateConditionalGroup(r)})})}getGroupsByPath(e){if(!e)return[];let r=new Set;return this.conditionalGroups.forEach(f=>{f.some(o=>o.expression?o.expression.includes(e)||e.startsWith(this.extractBasePath(o.expression)):!1)&&r.add(f)}),Array.from(r)}extractBasePath(e){let r=e.match(/[a-zA-Z_][a-zA-Z0-9_]*/g);return r?r[0]:""}parseConditionals(e){He.debug("ConditionalManager: Parse conditionals (data-if, data-else-if, data-else)...");let r=e.querySelectorAll("[data-if],[data-else-if],[data-else]"),f=[],o=[];r.forEach(t=>{t.hasAttribute("data-if")?(He.debug("ConditionalManager: Found data-if in element:",t),f.length&&o.push(f),f=[{element:t,type:"if",expression:t.getAttribute("data-if")}]):t.hasAttribute("data-else-if")?(He.debug("ConditionalManager: Found data-else-if in element:",t),f.length&&this.isAdjacentNode(f[f.length-1].element,t)?f.push({element:t,type:"else-if",expression:t.getAttribute("data-else-if")}):(f.length&&o.push(f),f=[{element:t,type:"if",expression:t.getAttribute("data-else-if")}])):t.hasAttribute("data-else")&&(He.debug("ConditionalManager: Found data-else in element:",t),f.length&&this.isAdjacentNode(f[f.length-1].element,t)?(f.push({element:t,type:"else",expression:null}),o.push(f),f=[]):He.warn("data-else without previous data-if or data-else-if",t))}),f.length&&o.push(f),this.conditionalGroups=o,o.forEach(t=>this.updateConditionalGroup(t)),this.setupDependencies(r)}isAdjacentNode(e,r){let f=e.nextSibling;for(;f;){if(f===r)return!0;if(f.nodeType===1&&!this.isWhitespaceNode(f))return!1;f=f.nextSibling}return!1}isWhitespaceNode(e){return e.nodeType===3&&e.textContent.trim()===""}updateConditionalGroup(e){let r=this.model&&this.model.store?k({},this.model.store.getState()):this.model&&this.model.data?this.model.data:{},f=!1;for(let o of e)o.type==="if"||o.type==="else-if"?!f&&fu.evaluateExpression(o.expression,r)?(o.element.style.display="",f=!0):o.element.style.display="none":o.type==="else"&&(o.element.style.display=f?"none":"")}updateConditional(e,r){let f=this.findGroupForElement(e);if(f)this.updateConditionalGroup(f);else{let o=this.model&&this.model.store?k({},this.model.store.getState()):this.model&&this.model.data?this.model.data:{},t=fu.evaluateExpression(r,o);e.style.display=t?"":"none"}}findGroupForElement(e){for(let r of this.conditionalGroups||[])if(r.some(f=>f.element===e))return r;return null}setupDependencies(e){this.dependencies=new Map,e.forEach(r=>{let f;if(r.hasAttribute("data-if"))f=r.getAttribute("data-if");else if(r.hasAttribute("data-else-if"))f=r.getAttribute("data-else-if");else return;fu.extractVariables(f).forEach(o=>{this.dependencies.has(o)||this.dependencies.set(o,[]),this.dependencies.get(o).push({element:r,expression:f,type:r.hasAttribute("data-if")?"if":"else-if"})})})}getDependenciesByPath(e){let r=[];return this.dependencies.forEach((f,o)=>{(o===e||e.startsWith(o+"."))&&r.push(...f)}),r}destroy(){this.dependencies.clear(),this.conditionalGroups=[],He.debug("ConditionalManager: Destroyed")}},x1=class{constructor(e,r){this.domManager=e,this.model=r,He.DEBUG_LEVEL=this.model.options.debug?4:0,He.debug("AttributeManager: Init AttributeManager")}parseAttributesBind(e){He.debug("AttributeManager: Parsing attributes bind with data-bind...");let r=e.querySelectorAll("[data-bind]");He.debug("AttributeManager: Found elements with data-bind:",r.length),r.forEach(f=>{He.debug("AttributeManager: Parsing element with data-bind:",f);let o=f.getAttribute("data-bind");try{let t=JSON.parse(o.replace(/'/g,'"'));for(let[i,c]of Object.entries(t)){let m=fu.extractVariables(c);He.debug(`AttributeManager: Found variables for ${i}:`,m),m.forEach(b=>{this.domManager.registerDomDependency(b,f,{type:"attribute",attribute:i,expression:c})}),this.updateAttributes(f,i,c)}}catch(t){console.error("An error of analysis of attachments:",t)}})}updateAttributes(e,r,f){let o=k({},this.model.store.getState()),t;if(f.startsWith("{{")&&f.endsWith("}}")){let c=f.substring(2,f.length-2).trim();t=this.model.store.get(c)}else t=fu.evaluateExpression(f,o);let i=e.getAttribute(r);String(t)!==i&&(t===!1||t===null||t===void 0?e.removeAttribute(r):t===!0?e.setAttribute(r,""):e.setAttribute(r,String(t)),He.debug(`AttributeManager: Updated attribute ${r} with value:`,t))}parseAttributes(e){He.debug("AttributeManager: Parsing attributes with colon...");let r=e.querySelectorAll("*");for(let f of r){let o=f.attributes;for(let t=0;t<o.length;t++){let i=o[t];if(i.name.startsWith(":")){He.debug("AttributeManager: Found attribute:",i);let c=i.name.substring(1),m=i.value;this.updateElementAttribute(f,c,m),this.domManager.registerDomDependency(m,f,{type:"attribute",attribute:c,expression:m}),f.removeAttribute(i.name)}}}}updateElementAttribute(e,r,f){let o=""+this.model.store.get(f);o===void 0||o==="undefined"||(He.debug(`AttributeManager: Updating attribute ${r} with ${o}`),r==="class"?e.className=o:r==="disabled"||r==="checked"||r==="selected"||r==="readonly"?o?e.setAttribute(r,""):e.removeAttribute(r):e.setAttribute(r,o))}update(e,r,f){He.debug("AttributeManager: Updating element:",e),He.debug(`	 Attribute: ${r} for:`,f),this.updateAttributes(e,r,f),this.updateElementAttribute(e,r,f)}},C1=class{constructor(e,r){He.DEBUG_LEVEL=r.options.debug?4:0,He.debug("EventManager: Init EventManager"),this.domManager=e,this.model=r,this.eventHandlers=new Map,He.debug("EventManager: EventManager initialized")}parseEvents(e){He.debug("EventManager: Parsing events with @...");let r=e.querySelectorAll("*");[e,...Array.from(r)].forEach(f=>{Array.from(f.attributes||[]).forEach(o=>{if(o.name.startsWith("@")){He.debug(`EventManager: Found attribute with "@" ${o.name} in`,f);let t=o.name.substring(1),i=o.value.trim();this.bindEventHandler(f,t,i),f.removeAttribute(o.name)}})})}bindEventHandler(e,r,f){He.debug(`EventManager: Binding event handler with expression ${f} for ${r} on`,e);let o=i=>{try{let c={$model:this.model,$event:i,$data:this.model.data,$dom:this.domManager},m=f.match(/(\w+)\((.*)\)/);if(m){let b=m[1],w=m[2],S=(I,P)=>I.split(".").reduce((V,z)=>V&&V[z]!==void 0?V[z]:void 0,P),D=S(b,this.model);if(D||(D=S(b,window)),typeof D=="function"){let I=[];w.trim()&&(I=w.split(",").map(P=>(P=P.trim(),P.startsWith('"')&&P.endsWith('"')||P.startsWith("'")&&P.endsWith("'")?P.slice(1,-1):isNaN(P)?P==="$event"?(He.debug("EventManager: Requested Event",i),i):P==="$model"?(He.debug("EventManager: Requested Model",this.model),this.model):P==="$data"?(He.debug("EventManager: Requested Model Context",this.model.data),this.model.data):P==="$dom"?(He.debug("EventManager: Requested DOMManager",this.domManager),this.domManager):this.model.store.get(P):Number(P)))),D.apply(c,I)}else console.warn(`EventManager: The method '${b}' not found in a model or global space!`)}else this.model.options.useSimpleExpressions?new Function(`return ${f}`).apply(this.model.data):console.warn(`EventManager: Unknown format of the event handler: '${f}'`)}catch(c){console.error(`EventManager: Error when performing an event processor '${r}': ${c.message}`)}};this.eventHandlers.has(e)||this.eventHandlers.set(e,new Map);let t=this.eventHandlers.get(e);t.has(r)&&e.removeEventListener(r,t.get(r)),t.set(r,o),e.addEventListener(r,o)}removeEventHandler(e,r){if(He.debug(`EventManager: Removing event handler for ${r} on`,e),this.eventHandlers.has(e)){let f=this.eventHandlers.get(e);if(f.has(r)){let o=f.get(r);e.removeEventListener(r,o),f.delete(r),f.size===0&&this.eventHandlers.delete(e)}}}updateEvents(e){He.debug("EventManager: Updating events for",e),Array.from(e.attributes||[]).forEach(r=>{if(r.name.startsWith("@")){let f=r.name.substring(1),o=r.value.trim();this.bindEventHandler(e,f,o),e.removeAttribute(r.name)}})}destroy(){He.debug("EventManager: Destroying EventManager"),this.eventHandlers.forEach((e,r)=>{e.forEach((f,o)=>{He.debug(`EventManager: Removing event handler for ${o} on`,r),r.removeEventListener(o,f)})}),this.eventHandlers.clear(),He.debug("EventManager: Destroyed")}},w1=class{constructor(e){He.DEBUG_LEVEL=e.options.debug?4:0,He.debug("DOMManager: Init DOMManager"),this.model=e,this.elements=[],this.inputs=[],this.domDependencies=new Map,this.virtualDom=new Map,this.loopManager=new b1(this,e),this.conditionalManager=new y1(this,e),this.attributeManager=new x1(this,e),this.eventManager=new C1(this,e),He.debug("DOMManager: DOMManager initialized")}registerDomDependency(e,r,f){this.domDependencies.has(e)||this.domDependencies.set(e,new Set),this.domDependencies.get(e).add(k({element:r},f))}processTemplateNode(e,r){if(He.debug("DOMManager: processTemplateNode",{node:e,context:r}),e.nodeType===Node.TEXT_NODE){let f=e.textContent,o=e.textContent.replace(/\{\{\s*([^}]+)\s*\}\}/g,(t,i)=>{i=i.trim();let c=r?((m,b)=>b.split(".").reduce((w,S)=>w?w[S]:void 0,m))(r,i):void 0;return c===void 0&&(c=this.model.store.get(i)),c!==void 0?c:""});f!==o&&(He.debug(`DOMManager: updated node text from ${f} to ${o}`),e.textContent=o)}else e.nodeType===Node.ELEMENT_NODE&&Array.from(e.childNodes).forEach(f=>{this.processTemplateNode(f,r)})}parse(e){He.debug("DOMManager: parse from",e);let r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),f,o=/\{\{\s*([^}]+)\s*\}\}/g;for(;f=r.nextNode();){let i,c=f.textContent,m=c;for(o.lastIndex=0;(i=o.exec(c))!==null;){He.debug(`DOMManager: parse match found for ${c}`,i);let b=i[1].trim();this.registerDomDependency(b,f,{type:"template",template:m}),this.elements.push({node:f,propName:b,template:m})}He.debug("DOMManager: update virtual DOM set",{node:f,text:f.textContent}),this.virtualDom.set(f,f.textContent)}He.debug("DOMManager: Find inputs with data-model directive...");let t=e.querySelectorAll("[data-model]");He.debug("DOMManager: Found inputs with data-model:",t.length),t.forEach(i=>{let c=i.getAttribute("data-model");He.debug("DOMManager: Register handler for:",{input:i,property:c});let m=b=>{let w=i.type==="checkbox"||i.type==="radio"?b.target.checked:b.target.value;this.model.store.set(c,w)};i.__modelInputHandler=m,i.addEventListener("input",m),this.inputs.push({element:i,property:c})})}setInputValue(e,r){e.type==="checkbox"||e.type==="radio"?e.checked=!!r:e.value=r}updateInputs(e,r){He.debug("DOMManager: updateInputs",{propName:e,value:r}),this.inputs.forEach(f=>{f.property===e&&(He.debug("DOMManager: update input",{item:f,value:r}),this.setInputValue(f.element,r))})}updateAllDOM(){He.debug("DOMManager: updateAllDOM"),this.elements.forEach(e=>{let r=e.template;r=r.replace(/\{\{\s*([^}]+)\s*\}\}/g,(f,o)=>(o=o.trim(),this.model.store.get(o))),e.node.textContent=r,He.debug("DOMManager: updated node",{element:e,newContent:r})}),He.debug("DOMManager: update inputs"),this.inputs.forEach(e=>{He.debug("DOMManager: update input",{item:e});let r=this.model.store.get(e.property);this.setInputValue(e.element,r),He.debug("DOMManager: updated input",{item:e,value:r})})}updateDOM(e,r){if(He.debug(`DOMManager: update DOM for ${e} with ${r}`),!e){console.warn("Path is undefined in updateDOM");return}let f=r&&typeof r=="object"&&"method"in r;f&&(e=r.path||e);let o=new Set;this.domDependencies.has(e)&&this.domDependencies.get(e).forEach(m=>o.add(m));let t=e.split("."),i="";for(let m=0;m<t.length;m++)i=i?`${i}.${t[m]}`:t[m],this.domDependencies.has(i)&&this.domDependencies.get(i).forEach(b=>o.add(b));if(this.conditionalManager.getDependenciesByPath(e).forEach(m=>{m.type==="if"&&this.conditionalManager.updateConditional(m.element,m.expression)}),this.domDependencies.forEach((m,b)=>{(b.startsWith(`${e}.`)||b.startsWith(`${e}[`))&&m.forEach(w=>o.add(w))}),(Array.isArray(r)||f||typeof r=="object")&&this.loopManager.updateLoops(e,r),o.size===0)return;let c={template:[],conditional:[],loop:[],attribute:[]};o.forEach(m=>{m&&m.type&&c[m.type].push(m)}),c.template.forEach(m=>this.updateTemplateNode(m.element,m.template)),c.conditional.forEach(m=>this.conditionalManager.updateConditional(m.element,m.expression)),c.attribute.forEach(m=>this.attributeManager.update(m.element,m.attribute,m.expression)),c.loop.forEach(m=>this.loopManager.updateLoopPart(m.element,m.arrayPath,r,m.index))}updateTemplateNode(e,r){let f=r.replace(/\{\{\s*([^}]+)\s*\}\}/g,(o,t)=>(t=t.trim(),this.model.store.get(t)));this.virtualDom.get(e)!==f&&(e.textContent=f,this.virtualDom.set(e,f))}isPathDependency(e,r){return r===e||r.startsWith(`${e}.`)||r.startsWith(`${e}[`)}getDependentPaths(e){let r=[];return this.domDependencies.forEach((f,o)=>{this.isPathDependency(e,o)&&r.push(o)}),r}bindDOM(e){He.debug("DOMManager: bind DOM from",e),this.loopManager.parseLoops(e),this.conditionalManager.parseConditionals(e),this.attributeManager.parseAttributesBind(e),this.attributeManager.parseAttributes(e),this.eventManager.parseEvents(e),this.parse(e),this.updateAllDOM(),He.debug("DOMManager: binding completed")}destroy(){this.inputs.forEach(({element:e})=>{e.__modelInputHandler&&(e.removeEventListener("input",e.__modelInputHandler),delete e.__modelInputHandler)}),this.elements=[],this.inputs=[],this.domDependencies.clear(),this.virtualDom.clear(),this.loopManager.destroy(),this.conditionalManager.destroy(),this.eventManager.destroy(),He.debug("DOMManager: destroyed")}},_1=class{constructor(e,r={}){He.DEBUG_LEVEL=e.options.debug?4:0,He.debug("Model: Init ComputedProps:",r),this.model=e,this.computed=r,this.store=e.store,this.asyncCache=new Map,this.init().then(()=>{Object.getOwnPropertyNames(this.computed).forEach(f=>{if(typeof this.computed[f].getter=="function")try{let o=this.computed[f].getter.call(this.store.getState());He.debug(`Initializing computed property ${f}:`,o)}catch(o){console.error(`Error initializing computed property ${f}:`,o)}}),He.debug("Model: ComputedProps initialized")})}init(){return O(this,null,function*(){let e=[];for(let r in this.computed){let f=this.evaluate(r);e.push(f),Object.defineProperty(this.model.data,r,{get:()=>{let o=this.computed[r];return o.isAsync?this.asyncCache.get(r):o.value},enumerable:!0,configurable:!0})}yield Promise.all(e);for(let r in this.computed){let f=this.computed[r].isAsync?this.asyncCache.get(r):this.computed[r].value;this.model.dom.updateDOM(r,f),this.model.dom.updateInputs(r,f)}return!0})}evaluate(e,r=!1){return O(this,null,function*(){let f=this.computed[e],o=new Set,t=new Proxy(this.store.getState(),{get:(c,m)=>{o.add(m);let b=c[m];return b&&typeof b=="object"?new Proxy(b,{get:(w,S)=>(o.add(`${m}.${S}`),w[S])}):b}}),i=f.getter.constructor.name==="AsyncFunction";f.isAsync=i;try{let c=yield f.getter.call(t);return f.dependencies=[...o],i?this.asyncCache.set(e,c):f.value=c,this.store.emit("compute",{key:e,value:c,dependencies:o,isAsync:i}),c}catch(c){throw console.error(`Error evaluating computed property "${e}":`,c),c}})}update(e){return O(this,null,function*(){let r=[];for(let f in this.computed){let o=O(this,null,function*(){let t=yield this.evaluate(f);this.model.dom.updateDOM(f,t),this.model.dom.updateInputs(f,t)});r.push(o)}yield Promise.all(r)})}all(){return Object.fromEntries(Object.entries(this.computed).map(([e,r])=>[e,r.value]))}},k1=class wu extends _f{constructor(r,f={}){He.DEBUG_LEVEL=r.model.options.debug?4:0,He.debug("Model: Init StateManager:",f),super(),this.store=r,this.options=Object.assign({id:"model"},f),He.debug("Model: StateManager initialized")}static isStorageAvailable(){try{let r="__test__";return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch{return!1}}saveState(){if(!wu.isStorageAvailable())return console.warn("localStorage is not available"),null;let r={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};try{return localStorage.setItem(this.options.id,JSON.stringify(r)),this.emit("saveState",r),r}catch(f){return console.error("Error saving state:",f),this.emit("saveStateError",f),null}}restoreState(){if(!wu.isStorageAvailable())return console.warn("localStorage is not available"),null;try{let r=localStorage.getItem(this.options.id);if(r){let f=JSON.parse(r);return Object.assign(this.store.state,f.data),this.emit("restoreState",f),f}}catch(r){this.emit("restoreStateError",r)}}createSnapshot(){if(!wu.isStorageAvailable())return console.warn("localStorage is not available"),null;let r={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};return this.emit("createSnapshot",r),r}restoreSnapshot(r){return wu.isStorageAvailable()?r?(Object.assign(this.store.state,r.data),this.emit("restoreSnapshot",r),r):null:(console.warn("localStorage is not available"),null)}enableAutoSave(r=5e3){this.autoSaveInterval=setInterval(()=>{this.saveState()},r)}disableAutoSave(){clearInterval(this.autoSaveInterval)}},S1={id:"model",useSimpleExpressions:!0,debug:!1},go,T1=(go=class extends _f{constructor(e={},r={}){super(),this.options=Object.assign({},S1,r),He.DEBUG_LEVEL=this.options.debug?4:0,He.debug("Model: Creating a model with data:",e),He.debug("Model: Configuration options:",r),this.computed={};for(let f in e)typeof e[f]=="function"&&(He.debug(`Model: Registration calculated property "${f}"`),this.computed[f]={getter:e[f],value:null,dependencies:[]},delete e[f]);this.store=new v1(e,this),this.data=this.store.state,this.dom=new w1(this),this.computedProps=new _1(this,this.computed),this.stateManager=new k1(this.store),this.subscribe(),He.debug("Model: The model was created successfully!")}subscribe(){He.debug("Model: Subscribing to store changes"),this.store.on("change",e=>{this.dom.updateDOM(e.path,e.newValue),this.dom.updateInputs(e.path,e.newValue),this.computedProps.update(e.path).then(()=>{}),this.emit("change",e)}),this.store.on("compute",e=>this.emit("compute",e)),this.store.on("arrayChange",e=>this.emit("arrayChange",e)),this.store.on("batchComplete",e=>this.emit("batchComplete",e)),He.debug("Model: Subscribing to state manager events"),this.stateManager.on("saveState",e=>this.emit("saveState",e)),this.stateManager.on("saveStateError",e=>this.emit("saveStateError",e)),this.stateManager.on("restoreState",e=>this.emit("restoreState",e)),this.stateManager.on("restoreStateError",e=>this.emit("restoreStateError",e)),this.stateManager.on("createSnapshot",e=>this.emit("createSnapshot",e)),this.stateManager.on("restoreSnapshot",e=>this.emit("restoreSnapshot",e))}addValidator(e,r){this.store.addValidator(e,r)}addFormatter(e,r){this.store.addFormatter(e,r)}use(e){this.store.use(e)}watch(e,r){this.store.watch(e,r)}batch(e){return this.store.batch(e)}diffArrays(e,r){return this.store.detectArrayChanges(e,r)}diff(){}validate(){let e=[],r=[];for(let f in this.computed){let o=new Set,t=this._checkCyclicDependencies(f,o);t&&e.push({type:"CYCLIC_DEPENDENCY",property:f,message:`Cyclic dependence is found: ${t.join(" -> ")}`})}return this.dom.domDependencies.forEach((f,o)=>{this.store.isValidPath(o)||r.push({type:"INVALID_PATH",path:o,message:`Property ${o} used in the template, but does not exist in the model`})}),{errors:e,warnings:r}}_checkCyclicDependencies(e,r,f=[]){if(r.has(e))return[...f,e];r.add(e),f.push(e);let o=this.computed[e];if(!o||!o.dependencies)return null;for(let t of o.dependencies)if(t in this.computed){let i=this._checkCyclicDependencies(t,new Set(r),[...f]);if(i)return i}return null}validatePath(e){return this.store.isValidPath(e)}init(e){He.debug("Model: Initializing DOM bindings");let r=typeof e=="string"?document.querySelector(e):e;return r||(r=document.body),He.debug(`Model: Model initialized in ${e??"body"}`),He.debug("Model: Binding DOM"),this.dom.bindDOM(r),this.emit("init"),He.debug("Model: Initialization complete!"),this}runDevTools(e={}){return new p1(this,e)}save(){return this.stateManager.saveState()}restore(){return this.stateManager.restoreState()}snapshot(e){return e?this.stateManager.restoreSnapshot(s):this.stateManager.createSnapshot()}autoSave(e){e?this.stateManager.enableAutoSave(e):this.stateManager.disableAutoSave()}static registerPlugin(e,r){if(go.plugins.has(e))throw new Error(`Plugin ${e} already registered`);go.plugins.set(e,r),this.emit("pluginRegistered",e)}usePlugin(e,r={}){let f=go.plugins.get(e);return f||console.error(`Plugin ${e} not found`),new f(this,r),this}static removePlugin(e){go.plugins.has(e)&&(go.plugins.delete(e),this.emit("pluginUnregistered",e))}destroy(){this.dom.destroy(),this.store.destroy(),this.emit("destroy")}},A(go,"plugins",new Map),go),Jp=T1,D1="0.17.0",E1="06.03.2025, 13:09:45";Jp.info=()=>{console.info(`%c Model %c v${D1} %c ${E1} `,"color: white; font-weight: bold; background: #0080fe","color: white; background: darkgreen","color: white; background: #0080fe;")};var M1=Jp;globalThis.Model=M1,function(e){globalThis.__version__="5.1.0",globalThis.__build_time__="28.04.2025, 10:57:33";let r=e.meta("metro:init").attr("content"),f=e.meta("metro:locale").attr("content"),o=e.meta("metro:week_start").attr("content"),t=e.meta("metro:date_format").attr("content"),i=e.meta("metro:date_format_input").attr("content"),c=e.meta("metro:animation_duration").attr("content"),m=e.meta("metro:callback_timeout").attr("content"),b=e.meta("metro:timeout").attr("content"),w=e.meta("metro:scroll_multiple").attr("content"),S=e.meta("metro:cloak").attr("content"),D=e.meta("metro:cloak_duration").attr("content"),I=e.meta("metro:global_common").attr("content"),P=e.meta("metro:blur_image").attr("content"),V=e.meta("metro:smooth_scroll").attr("content"),z=e.meta("metro:theme").attr("content");z!==void 0&&e("html").addClass(z==="auto"?e.dark?"dark-side":"":z==="dark"?"dark-side":"light-side"),globalThis.METRO_BLUR_IMAGE===void 0&&(globalThis.METRO_BLUR_IMAGE=P!==void 0?JSON.parse(I):!1),globalThis.METRO_GLOBAL_COMMON===void 0&&(globalThis.METRO_GLOBAL_COMMON=I!==void 0?JSON.parse(I):!1);let K=e.meta("metro:jquery").attr("content");globalThis.jquery_present=typeof globalThis.jQuery<"u",globalThis.METRO_JQUERY===void 0&&(globalThis.METRO_JQUERY=K!==void 0?JSON.parse(K):!0),globalThis.useJQuery=globalThis.jquery_present&&globalThis.METRO_JQUERY;let ye=e.meta("metro:info").attr("content");globalThis.METRO_SHOW_INFO===void 0&&(globalThis.METRO_SHOW_INFO=ye!==void 0?JSON.parse(ye):!0);let _e=e.meta("metro:compile").attr("content");globalThis.METRO_SHOW_COMPILE_TIME===void 0&&(globalThis.METRO_SHOW_COMPILE_TIME=_e!==void 0?JSON.parse(_e):!0),globalThis.METRO_INIT===void 0&&(globalThis.METRO_INIT=r!==void 0?JSON.parse(r):!0),globalThis.METRO_DEBUG===void 0&&(globalThis.METRO_DEBUG=!0),globalThis.METRO_WEEK_START===void 0&&(globalThis.METRO_WEEK_START=o!==void 0?parseInt(o):0),globalThis.METRO_DATE_FORMAT===void 0&&(globalThis.METRO_DATE_FORMAT=t!==void 0?t:"YYYY-MM-DD"),globalThis.METRO_DATE_FORMAT_INPUT===void 0&&(globalThis.METRO_DATE_FORMAT_INPUT=i!==void 0?i:"YYYY-MM-DD"),globalThis.METRO_LOCALE===void 0&&(globalThis.METRO_LOCALE=f!==void 0?f:"en-US"),globalThis.METRO_ANIMATION_DURATION===void 0&&(globalThis.METRO_ANIMATION_DURATION=c!==void 0?parseInt(c):100),globalThis.METRO_CALLBACK_TIMEOUT===void 0&&(globalThis.METRO_CALLBACK_TIMEOUT=m!==void 0?parseInt(m):500),globalThis.METRO_TIMEOUT===void 0&&(globalThis.METRO_TIMEOUT=b!==void 0?parseInt(b):2e3),globalThis.METRO_SCROLL_MULTIPLE===void 0&&(globalThis.METRO_SCROLL_MULTIPLE=w!==void 0?parseInt(w):20),globalThis.METRO_CLOAK_REMOVE===void 0&&(globalThis.METRO_CLOAK_REMOVE=S!==void 0?(""+S).toLowerCase():"fade"),globalThis.METRO_CLOAK_DURATION===void 0&&(globalThis.METRO_CLOAK_DURATION=D!==void 0?parseInt(D):300),globalThis.METRO_SMOOTH_SCROLL===void 0&&(globalThis.METRO_SMOOTH_SCROLL=V!==void 0?JSON.parse(V):!0),globalThis.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE===void 0&&(globalThis.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0),globalThis.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS===void 0&&(globalThis.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0),globalThis.METRO_HOTKEYS_FILTER_TEXT_INPUTS===void 0&&(globalThis.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0),globalThis.METRO_HOTKEYS_BUBBLE_UP===void 0&&(globalThis.METRO_HOTKEYS_BUBBLE_UP=!1),globalThis.METRO_THROWS===void 0&&(globalThis.METRO_THROWS=!0),globalThis.METRO_MEDIA=[]}(Dom);var Ud="ontouchstart"in window,A1={controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:Ud?"touchstart":"mousedown",stop:Ud?"touchend":"mouseup",move:Ud?"touchmove":"mousemove",enter:Ud?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",LD:"(min-width: 640px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)",XXXL:"(min-width: 2000px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452,XXXL:2e3},media_mode:{FS:"fs",XS:"xs",SM:"sm",LD:"ld",MD:"md",LG:"lg",XL:"xl",XXL:"xxl",XXXL:"xxxl"},media_modes:["fs","xs","sm","ld","md","lg","xl","xxl","xxxl"],actions:{NONE:0,REMOVE:1,HIDE:2,MINIMIZE:3,MAXIMIZE:4,CLOSE:5,RESTORE:6,SHOW:7},theme:{LIGHT:"light",DARK:"dark"}};(()=>{let e=Dom;if(typeof Dom>"u")throw new Error("Metro UI requires Dom helper!");if(!("MutationObserver"in window))throw new Error("Metro UI requires MutationObserver!");let r="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,f=t=>typeof t!="string"?void 0:t.replace(/-/g,"").toLowerCase(),o={version:"5.1.0",build_time:"28.04.2025, 10:57:33",buildNumber:0,isTouchable:r,fullScreenEnabled:document.fullscreenEnabled,sheet:null,hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},info:()=>{typeof globalThis.METRO_LIB_INFO<"u"&&o.welcome()},welcome:()=>{console.info(`%c METRO UI %c v${o.version} %c ${o.build_time} `,"color: pink; font-weight: bold; background: #800000","color: white; background: darkgreen","color: white; background: #0080fe;"),globalThis.$&&e.info&&e.info(),globalThis.Hooks&&Hooks.info&&Hooks.info(),globalThis.HTML&&HTML.info&&HTML.info(),globalThis.Farbe&&Farbe.info&&Farbe.info(),globalThis.Datetime&&Datetime.info&&Datetime.info(),globalThis.Str&&Str.info&&Str.info(),globalThis.G&&G.info&&G.info(),globalThis.Router&&Router.info&&Router.info(),globalThis.Model&&Model.info&&Model.info()},aboutDlg:()=>{alert("Metro UI - v"+o.version)},observe:()=>{let t,i,c={childList:!0,attributes:!0,subtree:!0};i=m=>{m.map(b=>{if(b.type==="attributes"&&b.attributeName!=="data-role")if(b.attributeName==="data-hotkey")o.initHotkeys([b.target],!0);else{let w=e(b.target),S=w.data("metroComponent"),D=b.attributeName,I=w.attr(D),P=b.oldValue;S!==void 0&&(w.fire("attr-change",{attr:D,newValue:I,oldValue:P,__this:w[0]}),e.each(S,function(){let V=o.getPlugin(w,this);V&&typeof V.changeAttribute=="function"&&V.changeAttribute(D,I,P)}))}else if(b.type==="childList"&&b.addedNodes.length>0){let w=[],S=[],D,I,P=b.addedNodes;if(P.length){for(let V of e(P).find("[data-hotkey]"))S.push(e(V));for(let V=0;V<P.length;V++)I=P[V],D=e(I),D.attr("data-role")!==void 0&&w.push(I),e.each(D.find("[data-role]"),function(){w.indexOf(this)===-1&&w.push(this)});w.length&&o.initWidgets(w,"observe"),S.length&&o.initHotkeys(S)}}})},t=new MutationObserver(i),t.observe(e("html")[0],c)},init:()=>{let t=e("[data-role]"),i=e("[data-hotkey]"),c=e("html");if(o.i18n.load(c.attr("lang")),globalThis.METRO_SHOW_INFO&&o.info(!0),r===!0&&c.addClass("touchable-device"),o.sheet=o.utils.newCssSheet(),o.utils.addCssRule(o.sheet,"*, *::before, *::after","box-sizing: border-box;"),globalThis.METRO_MEDIA=[],e.each(o.media_queries,(m,b)=>{o.utils.media(b)&&globalThis.METRO_MEDIA.push(o.media_mode[m])}),o.observe(),o.initHotkeys(i),o.initWidgets(t,"init"),globalThis.METRO_CLOAK_REMOVE!=="fade"?(e(".m4-cloak").removeClass("m4-cloak"),e(".cloak").removeClass("cloak"),e(globalThis).fire("metro-initiated")):e(".m4-cloak, .cloak").animate({draw:{opacity:[0,1]},dur:300,onDone:()=>{e(".m4-cloak").removeClass("m4-cloak"),e(".cloak").removeClass("cloak"),e(globalThis).fire("metro-initiated")}}),e(document).on("click","[data-copy-to-clipboard]",function(){let m=e(this).attr("data-copy-to-clipboard");o.utils.copy2clipboard(m),o.toast&&o.toast.create("Data copied to clipboard!")}),METRO_SMOOTH_SCROLL){let m=document.querySelectorAll('a.smooth-scroll[href^="#"]');for(let b of m)b.addEventListener("click",w=>{w.preventDefault();let S=b.getAttribute("href");document.querySelector(S).scrollIntoView({behavior:"smooth",block:"start"})})}},initHotkeys:(t,i)=>{e.each(t,function(){let c=e(this),m=c.attr("data-hotkey")?c.attr("data-hotkey").toLowerCase():!1,b=c.attr("data-hotkey-func")?c.attr("data-hotkey-func"):!1;m!==!1&&(c.data("hotKeyBonded")===!0&&i!==!0||(o.hotkeys[m]=[this,b],c.data("hotKeyBonded",!0),c.fire("hot-key-bonded",{__this:c[0],hotkey:m,fn:b})))})},initWidgets:t=>{e.each(t,function(){let i=e(this),c;this.hasAttribute("data-role")&&(c=i.attr("data-role").split(/\s*,\s*/),c.map(m=>{let b=o.utils.$(),w=f(m);if(b.fn[w]!==void 0&&i.attr("data-role-"+w)===void 0)try{b.fn[w].call(i),i.attr("data-role-"+w,!0);let S=i.data("metroComponent");S===void 0?S=[w]:S.push(w),i.data("metroComponent",S),i.fire("create",{__this:i[0],name:w}),e(document).fire("component-create",{element:i[0],name:w})}catch(S){throw console.error("Error creating component "+m+" for ",i[0]),S}}))}),o.i18n.updateUI()},plugin:(t,i)=>{let c=f(t),m=b=>{b.fn[c]=function(w){return this.each(function(){b.data(this,c,Object.create(i).init(w,this))})}};m(Dom),globalThis.useJQuery&&m(globalThis.jQuery)},pluginExists:t=>typeof(globalThis.useJQuery?globalThis.jQuery:Dom).fn[f(t)]=="function",destroyPlugin:(t,i)=>{let c,m,b=e(t),w=f(i);if(c=o.getPlugin(b,w),typeof c>"u"){console.warn("Component "+i+" can not be destroyed: the element is not a Metro UI component.");return}if(typeof c.destroy!="function"){console.warn("Component "+i+" can not be destroyed: method destroy not found.");return}c.destroy(),m=b.data("metroComponent"),o.utils.arrayDelete(m,w),b.data("metroComponent",m),e.removeData(b[0],w),b.removeAttr("data-role-"+w)},destroyPluginAll:t=>{let i=e(t),c=i.data("metroComponent");c!==void 0&&c.length>0&&e.each(c,function(){o.destroyPlugin(i[0],this)})},noop:()=>{},noop_true:()=>!0,noop_false:()=>!1,noop_arg:t=>t,requestFullScreen:t=>{t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.requestFullscreen().catch(i=>{console.warn("Error attempting to enable full-screen mode: "+i.message+" "+i.name)})},exitFullScreen:()=>{document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch(t=>{console.warn("Error attempting to disable full-screen mode: "+t.message+" "+t.name)})},inFullScreen:()=>(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)!==void 0,$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,get$el:t=>o.$()(e(t)[0]),get$elements:t=>o.$()(e(t)),getPlugin:(t,i)=>{let c=f(i),m=o.get$el(t);return m.length?m.data(c):void 0},makePlugin:(t,i,c)=>{let m=f(i),b=o.get$elements(t);return b.length&&typeof b[m]=="function"?b[m](c):void 0},Component:(t,i)=>{let c=f(t),m=o.utils,b=e.extend({name:c},{_super:function(w,S,D,I){this.elem=w,this.element=e(w),this.options=e.extend({},D,S),this.component=this.elem,this.locale="en",this.strings={},this._setOptionsFromDOM(),this._runtime(),this._setLocale(),I&&typeof I=="object"&&e.each(I,(P,V)=>{this[P]=V}),this._createExec()},_setOptionsFromDOM:function(){let w=this.element,S=this.options;e.each(w.data(),(D,I)=>{if(D in S)try{S[D]=JSON.parse(I)}catch{S[D]=I}})},_runtime:function(){let w=this.element,S,D=(w.attr("data-role")||"").toArray(",").map(I=>f(I)).filter(I=>I.trim()!=="");w.attr("data-role-"+this.name)||(w.attr("data-role-"+this.name,!0),D.indexOf(this.name)===-1&&(D.push(this.name),w.attr("data-role",D.join(","))),S=w.data("metroComponent"),S===void 0?S=[this.name]:S.push(this.name),w.data("metroComponent",S))},_createExec:function(){let w=this.options[this.name+"Deferred"];w?setTimeout(()=>{this._create()},w):this._create()},_fireEvent:function(w,S,D,I,P=null){let V=this.element,z=this.options,K,ye=str(w).camelCase().capitalize(!1).value;return S=e.extend({},S,{__this:V[0]}),K=S?Object.values(S):{},D&&(console.warn(D),console.warn("Event: on"+ye),console.warn("Data: ",S),console.warn("Element: ",V[0])),I!==!0&&V.fire(ye.toLowerCase(),S),m.exec(z["on"+ye],K,P||V[0])},_fireEvents:function(w,S,D,I,P){let V=this,z;if(arguments.length!==0){if(arguments.length===1)return e.each(w,function(){V._fireEvent(this.name,this.data,this.log,this.noFire,P)}),m.objectLength(w);!Array.isArray(w)&&typeof w!="string"||(z=Array.isArray(w)?w:w.toArray(","),e.each(z,function(){V._fireEvent(this,S,D,I,P)}))}},_setLocale:function(){let w=this.element.closest("[lang]");w.length>0?this.locale=w.attr("lang"):this.locale=e("html").attr("lang")||"en",this.strings=e.extend({},o.locales.en,o.locales[this.locale])},getComponent:function(){return this.component},getComponentName:function(){return this.name}},i);return o.plugin(c,b),b},fetch:{status:t=>t.ok?Promise.resolve(t):Promise.reject(new Error(t.statusText)),json:t=>t.json(),text:t=>t.text(),form:t=>t.formData(),blob:t=>t.blob(),buffer:t=>t.arrayBuffer()},i18n:{language:"en",load(t="en"){o.i18n.language=o.locales[t]?t:"en",o.locale=o.locales[o.i18n.language]},add(t,i){o.locales[t]=i},get(t,i){return o.locales[i][t]||""},updateUI(t=document,i){i||(i=e.html().attr("lang")||"en"),o.locales[i]&&(o.i18n.load(i),e.html().attr("lang",i),t.querySelectorAll("[data-i18n]").forEach(c=>{let m=c.getAttribute("data-i18n");c.innerHTML=o.i18n.get(m,i)}))},extend(t){e.each(t,(i,c)=>{o.locales[i]=Object.assign({},o.locales[i],c)})}}};return Object.assign(o,A1),e(globalThis).on(o.events.resize,()=>{globalThis.METRO_MEDIA=[],e.each(o.media_queries,(t,i)=>{o.utils.media(i)&&globalThis.METRO_MEDIA.push(o.media_mode[t])})}),globalThis.Metro=o,globalThis.METRO_INIT===!0&&e(()=>{o.init()}),o})(),function(){Metro.i18n.add("en",{weekStart:0,january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",january_short:"Jan",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dec",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday_short:"Sun",monday_short:"Mon",tuesday_short:"Tue",wednesday_short:"Wed",thursday_short:"Thu",friday_short:"Fri",saturday_short:"Sat",sunday_short_2:"Su",monday_short_2:"Mo",tuesday_short_2:"Tu",wednesday_short_2:"We",thursday_short_2:"Th",friday_short_2:"Fr",saturday_short_2:"Sa",label_ok:"OK",label_cancel:"Cancel",label_done:"Done",label_today:"Today",label_now:"Now",label_clear:"Clear",label_help:"Help",label_yes:"Yes",label_no:"No",label_random:"Random",label_save:"Save",label_reset:"Reset",label_submit:"Submit",label_add_user_color:"Add to swatches",label_send:"Send",label_accept:"Accept",label_cookies_title:"This site uses cookies",label_cookies_text:"This website uses cookies to ensure you get the best experience on our website.",label_choose_file:"Choose file(s)",label_drop_file:"Click or drop file(s) here",label_files_selected:"{n} file(s) selected",label_days:"days",label_hours:"hours",label_minutes:"min",label_seconds:"sec",label_month:"mon",label_months:"mon's",label_day:"day",label_year:"year",label_years:"years",label_rows_count:"Show:",label_search:"Search:",label_table_info:"Showing $1 to $2 of $3 entries",label_prev:"Prev",label_next:"Next",label_all:"All",label_inspector:"Inspector",label_goto_page:"Goto",label_enter_page:"Enter page...",label_empty:"Nothing to show",label_user_colors:"User Colors",label_tiles:"Tiles",label_list:"List",label_load_more:"Load more",label_buy:"Buy",label_buy_now:"Buy now",label_buy_today:"Buy today",label_download:"Download",label_search_results:"Search results",label_add:"Add",label_edit:"Edit",label_delete:"Delete",label_new:"New",label_sell:"Sell",label_details:"Details",label_sorting:"Sorting",label_on:"on",label_off:"off",label_rename_tab:"Rename tab",label_close_tab:"Close tab",label_close_other_tabs:"Close other tabs",label_close_tabs_left:"Close tabs left",label_close_tabs_right:"Close tabs right",label_close_all_tabs:"Close all tabs",label_close_inactive_tabs:"Close inactive tabs",label_clear_input:"Clear input",label_reveal_password:"Reveal password",label_hide_password:"Hide password",label_generate_random:"Generate random value",label_search_input:"Search for the entered value",label_note:"Note",label_tip:"Tip",label_info:"Info",label_warning:"Warning",label_question:"Question",label_error:"Error",label_success:"Success",label_caution:"Caution",label_alert:"Alert",label_bug:"Bug",label_fuck:"Fuck",label_important:"Important",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"})}(),function(){Metro.i18n.add("ua",{weekStart:1,january:"Січень",february:"Лютий",march:"Березень",april:"Квітень",may:"Травень",june:"Червень",july:"Липень",august:"Серпень",september:"Вересень",october:"Жовтень",november:"Листопад",december:"Грудень",january_short:"Січ",february_short:"Лют",march_short:"Бер",april_short:"Кві",may_short:"Тра",june_short:"Чер",july_short:"Лип",august_short:"Сер",september_short:"Вер",october_short:"Жов",november_short:"Лис",december_short:"Гру",sunday:"Неділя",monday:"Понеділок",tuesday:"Вівторок",wednesday:"Середа",thursday:"Четвер",friday:"П'ятниця",saturday:"Субота",sunday_short:"Нед",monday_short:"Пон",tuesday_short:"Вів",wednesday_short:"Сер",thursday_short:"Чет",friday_short:"Птн",saturday_short:"Суб",sunday_short_2:"Нд",monday_short_2:"Пн",tuesday_short_2:"Вт",wednesday_short_2:"Ср",thursday_short_2:"Чт",friday_short_2:"Пт",saturday_short_2:"Сб",label_ok:"OK",label_cancel:"Відміна",label_done:"Виконано",label_today:"Сьогодні",label_now:"Зараз",label_clear:"Очистити",label_help:"Допомога",label_yes:"Так",label_no:"Ні",label_random:"Випадково",label_save:"Зберігти",label_reset:"Скинути",label_submit:"Відправити",label_add_user_color:"Додати до зразків",label_send:"Відправити",label_accept:"Прийняти",label_cookies_title:"Цей сайт використовує файли cookie",label_cookies_text:"Цей веб-сайт використовує файли cookie, щоб забезпечити вам найкращий досвід використання нашого веб-сайту.",label_choose_file:"Виберіть файл(и)",label_drop_file:"Натисніть або перетягніть файл(и) сюди",label_files_selected:"Вибрано {n} файл(ів)",label_days:"дні",label_hours:"год",label_minutes:"хвил",label_seconds:"сек",label_month:"міс",label_months:"місяці",label_day:"день",label_year:"рік",label_years:"років",label_rows_count:"Показати:",label_search:"Пошук:",label_table_info:"Відображено з $1 по $2 із $3 записів",label_prev:"Попер",label_next:"Наст",label_all:"Усі",label_inspector:"Інспектор",label_goto_page:"Перейти",label_enter_page:"Введіть сторінку...",label_empty:"Нічого показати",label_user_colors:"Кольори користувача",label_tiles:"Плитка",label_list:"Список",label_load_more:"Показати ще",label_buy:"Купити",label_buy_now:"Купити зараз",label_buy_today:"Купити сьогодні",label_download:"Завантажити",label_search_results:"Результати пошуку",label_add:"Додати",label_edit:"Редагувати",label_delete:"Видалити",label_new:"Нове",label_sell:"Продати",label_details:"Подробиці",label_sorting:"Сортування",label_on:"увм",label_off:"вим",label_rename_tab:"Перейменувати вкладку",label_close_tab:"Закрити вкладку",label_close_other_tabs:"Закрити інші вкладки",label_close_tabs_left:"Закрити вкладки ліворуч",label_close_tabs_right:"Закрити вкладки праворуч",label_close_all_tabs:"Закрийте всі вкладки",label_close_inactive_tabs:"Закрити неактивні вкладки",label_clear_input:"Очистити введення",label_reveal_password:"Відкрити пароль",label_hide_password:"Приховати пароль",label_generate_random:"Генерувати випадковe значення",label_search_input:"Шукати введене значення",label_note:"Примітка",label_tip:"Підказка",label_info:"Інформація",label_warning:"Увага",label_question:"Питання",label_error:"Помилка",label_success:"Успіх",label_caution:"Обережно",label_alert:"Попередження",label_bug:"Помилка",label_fuck:"Бля",label_important:"Важливо",label_shit:"От лайно",label_air:"Пуффф...",label_select_all:"Вибрати усі",label_select_more:"Виберіть...",label_select:"Вибрати",label_filter:"Фільтр",label_collapse:"Згорнути"})}(),function(){Metro.i18n.add("pt-BR",{weekStart:0,january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",january_short:"Jan",february_short:"Fev",march_short:"Mar",april_short:"Abr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Set",october_short:"Out",november_short:"Nov",december_short:"Dez",sunday:"Domingo",monday:"Segunda",tuesday:"Terça",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"Sábado",sunday_short:"Dom",monday_short:"Seg",tuesday_short:"Ter",wednesday_short:"Qua",thursday_short:"Qui",friday_short:"Sex",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"S",tuesday_short_2:"T",wednesday_short_2:"Q",thursday_short_2:"Q",friday_short_2:"S",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Pronto",label_today:"Hoje",label_now:"Agora",label_clear:"Limpar",label_help:"Ajuda",label_yes:"Sim",label_no:"Não",label_random:"Aleatório",label_save:"Salvar",label_reset:"Resetar",label_submit:"Enviar",label_add_user_color:"Adicionar às amostras",label_send:"Enviar",label_accept:"Aceitar",label_cookies_title:"Este site usa cookis",label_cookies_text:"Este site utiliza cookies para garantir que você tenha a melhor experiência.",label_choose_file:"Escolher arquivo(s)",label_drop_file:"Clique ou solte arquivo(s) aqui",label_files_selected:"{n} arquivo(s) selecionado(s)",label_days:"dias",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mês",label_months:"meses",label_day:"dia",label_year:"ano",label_years:"anos",label_rows_count:"Exibir:",label_search:"Pesquisar:",label_table_info:"Exibindo de $1 até $2 de um total de $3 registros",label_prev:"Anterior",label_next:"Próximo",label_all:"Todos",label_inspector:"Inspetor",label_goto_page:"Ir para",label_enter_page:"Digite a página...",label_empty:"Nada para exibir",label_user_colors:"Cores do usuário",label_tiles:"Blocos",label_list:"Lista",label_load_more:"Carregar mais",label_buy:"Comprar",label_buy_now:"Comprar agora",label_buy_today:"Comprar hoje",label_download:"Download",label_search_results:"Pesquisar resultados",label_add:"Adicionar",label_edit:"Editar",label_delete:"Excluir",label_new:"Novo",label_sell:"Vender",label_details:"Detalhes",label_sorting:"Ordenar",label_on:"lig",label_off:"deslig",label_rename_tab:"Renomear aba",label_close_tab:"Fechar aba",label_close_other_tabs:"Fechar outras abas",label_close_tabs_left:"Fechar abas a esquerda",label_close_tabs_right:"Fechar abas a direita",label_close_all_tabs:"Fechar todas as abas",label_close_inactive_tabs:"Fechar abas inativas",label_clear_input:"Limpar",label_reveal_password:"Mostrar senha",label_hide_password:"Ocultar senha",label_generate_random:"Gerar valor aleatório",label_search_input:"Pesquisar pelo valor",label_note:"Nota",label_tip:"Dica",label_info:"Informação",label_warning:"Aviso",label_question:"Questão",label_error:"Erro",label_success:"Sucesso",label_caution:"Cuidado",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falha catastrótico",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"})}(),function(){Metro.i18n.add("es-ES",{weekStart:0,january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",january_short:"Ene",february_short:"Feb",march_short:"Mar",april_short:"Abr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mié",thursday_short:"Jue",friday_short:"Vie",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Listo",label_today:"Hoy",label_now:"Ahora",label_clear:"Limpiar",label_help:"Ayuda",label_yes:"Sí",label_no:"No",label_random:"Aleatorio",label_save:"Guardar",label_reset:"Restablecer",label_submit:"Enviar",label_add_user_color:"Agregar a la paleta",label_send:"Enviar",label_accept:"Aceptar",label_cookies_title:"Este sitio usa cookies",label_cookies_text:"Este sitio utiliza cookies para garantizar que tengas la mejor experiencia.",label_choose_file:"Elegir archivo(s)",label_drop_file:"Haz clic o suelta archivo(s) aquí",label_files_selected:"{n} archivo(s) seleccionado(s)",label_days:"días",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mes",label_months:"meses",label_day:"día",label_year:"año",label_years:"años",label_rows_count:"Mostrar:",label_search:"Buscar:",label_table_info:"Mostrando de $1 a $2 de un total de $3 registros",label_prev:"Anterior",label_next:"Siguiente",label_all:"Todos",label_inspector:"Inspector",label_goto_page:"Ir a la página",label_enter_page:"Escribe la página...",label_empty:"Nada para mostrar",label_user_colors:"Colores del usuario",label_tiles:"Cuadrículas",label_list:"Lista",label_load_more:"Cargar más",label_buy:"Comprar",label_buy_now:"Comprar ahora",label_buy_today:"Comprar hoy",label_download:"Descargar",label_search_results:"Buscar resultados",label_add:"Agregar",label_edit:"Editar",label_delete:"Eliminar",label_new:"Nuevo",label_sell:"Vender",label_details:"Detalles",label_sorting:"Ordenar",label_on:"encendido",label_off:"apagado",label_rename_tab:"Renombrar pestaña",label_close_tab:"Cerrar pestaña",label_close_other_tabs:"Cerrar otras pestañas",label_close_tabs_left:"Cerrar pestañas a la izquierda",label_close_tabs_right:"Cerrar pestañas a la derecha",label_close_all_tabs:"Cerrar todas las pestañas",label_close_inactive_tabs:"Cerrar pestañas inactivas",label_clear_input:"Limpiar",label_reveal_password:"Mostrar contraseña",label_hide_password:"Ocultar contraseña",label_generate_random:"Generar valor aleatorio",label_search_input:"Buscar por valor",label_note:"Nota",label_tip:"Consejo",label_info:"Información",label_warning:"Advertencia",label_question:"Pregunta",label_error:"Error",label_success:"Éxito",label_caution:"Precaución",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falla catastrófica",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"})}(),function(){typeof Array.prototype.shuffle!="function"&&(Array.prototype.shuffle=function(){for(var e=this.length,r,f;e!==0;)f=Math.floor(Math.random()*e),e-=1,r=this[e],this[e]=this[f],this[f]=r;return this}),typeof Array.prototype.clone!="function"&&(Array.prototype.clone=function(){return this.slice(0)}),typeof Array.prototype.unique!="function"&&(Array.prototype.unique=function(){for(var e=this.concat(),r=0;r<e.length;++r)for(var f=r+1;f<e.length;++f)e[r]===e[f]&&e.splice(f--,1);return e}),typeof Array.prototype.pack!="function"&&(Array.prototype.pack=function(){return this.map(e=>e.trim()).filter(Boolean)})}(),function(){Number.prototype.format=function(e,r,f,o){var t="\\d(?=(\\d{"+(r||3)+"})+"+(e>0?"\\D":"$")+")",i=this.toFixed(Math.max(0,~~e));return(o?i.replace(".",o):i).replace(new RegExp(t,"g"),"$&"+(f||","))}}(),function(){String.prototype.toArray=function(e=",",r="string",f,o){var t=this,i;return f=f??!1,i=(""+t).split(e),i.map(function(c){var m;switch(r){case"int":case"integer":m=isNaN(c)?c.trim():parseInt(c);break;case"number":case"float":m=isNaN(c)?c:parseFloat(c);break;case"date":m=f?Datetime.from(c,f,o||"en-US"):datetime(c);break;default:m=c.trim()}return m})},String.prototype.capitalize=function(){var e=this;return e.substr(0,1).toUpperCase()+e.substr(1)}}(),function(e,r){e.utils={nothing:function(){},noop:function(){},elementId:function(f){return f+"-"+new Date().getTime()+r.random(1,1e3)},secondsToTime:function(f){let o=Math.floor(f%31536e3/86400),t=Math.floor(f%31536e3%86400/3600),i=Math.floor(f%31536e3%86400%3600/60),c=Math.round(f%31536e3%86400%3600%60);return{d:o,h:t,m:i,s:c}},secondsToFormattedString:function(f){let o=parseInt(f,10),t=Math.floor(o/3600),i=Math.floor((o-t*3600)/60),c=o-t*3600-i*60;return[Str.lpad(t,"0",2),Str.lpad(i,"0",2),Str.lpad(c,"0",2)].join(":")},func:function(f){return new Function("a",f)},exec:function(f,o,t){let i;if(f==null)return!1;let c=this.isFunc(f);c===!1&&(c=this.func(f));try{i=c.apply(t,o)}catch(m){if(i=null,globalThis.METRO_THROWS===!0)throw m}return i},embedUrl:function(f){return f.indexOf("youtu.be")!==-1&&(f="https://www.youtube.com/embed/"+f.split("/").pop()),"<div class='embed-container'><iframe src='"+f+"'></iframe></div>"},isVisible:function(f){let o=r(f)[0];return this.getStyleOne(o,"display")!=="none"&&this.getStyleOne(o,"visibility")!=="hidden"&&o.offsetParent!==null},isUrl:function(f){return/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:?\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(f)},isTag:function(f){return/^<\/?[\w\s="\/.':;#-\/?]+>/gi.test(f)},isEmbedObject:function(f){let o=["iframe","object","embed","video"],t=!1;return r.each(o,function(){(typeof f=="string"&&f.toLowerCase()===this||f.nodeType!==void 0&&f.tagName.toLowerCase()===this)&&(t=!0)}),t},isVideoUrl:function(f){return/youtu\.be|youtube|twitch|vimeo/gi.test(f)},isDate:function(f,o,t="en-US"){let i;if(this.isDateObject(f))return!0;try{return i=o?Datetime.from(f,o,t):datetime(f),Datetime.isDatetime(i)}catch{return!1}},isDateObject:function(f){return typeof f=="object"&&f.getMonth!==void 0},isInt:function(f){return!isNaN(f)&&+f%1===0},isFloat:function(f){return!isNaN(f)&&+f%1!==0||/^\d*\.\d+$/.test(f)},isFunc:function(f){return this.isType(f,"function")},isObject:function(f){return this.isType(f,"object")},isObject2:function(f){return typeof f=="object"&&!Array.isArray(f)},isType:function(f,o){if(!this.isValue(f))return!1;if(typeof f===o||(""+o).toLowerCase()==="tag"&&this.isTag(f)||(""+o).toLowerCase()==="url"&&this.isUrl(f)||(""+o).toLowerCase()==="array"&&Array.isArray(f))return f;if(o!=="string"&&this.isTag(f)||this.isUrl(f))return!1;if(typeof window[f]===o)return window[f];if(typeof f=="string"&&f.indexOf(".")===-1||typeof f=="string"&&/[/\s([]+/gm.test(f)||typeof f=="number"&&o.toLowerCase()!=="number")return!1;let t=f.split("."),i,c=window;for(i=0;i<t.length;i++)c=c[t[i]];return typeof c===o?c:!1},$:function(){return globalThis.useJQuery?globalThis.jQuery:Dom},isMetroObject:function(f,o){let t=r(f),i=e.getPlugin(f,o);return t.length===0?(console.warn(o+" "+f+" not found!"),!1):i===void 0?(console.warn("Element not contain role "+o+'! Please add attribute data-role="'+o+'" to element '+f),!1):!0},isJQuery:function(f){return typeof globalThis.jQuery<"u"&&f instanceof globalThis.jQuery},isDom:function(f){return typeof Dom<"u"&&f instanceof Dom},isQ:function(f){return this.isJQuery(f)||this.isDom(f)},isOutsider:function(f){let o=r(f),t,i=o.clone();return i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),o.parent().append(i),t=this.inViewport(i[0]),i.remove(),!t},inViewport:function(f){let o=this.rect(f);return o.top>=0&&o.left>=0&&o.bottom<=(globalThis.innerHeight||document.documentElement.clientHeight)&&o.right<=(globalThis.innerWidth||document.documentElement.clientWidth)},viewportOutByWidth:function(f){let o=this.rect(f),t=globalThis.innerWidth||document.documentElement.clientWidth;return o.right>t},viewportOutByHeight:function(f){let o=this.rect(f),t=globalThis.innerHeight||document.documentElement.clientHeight;return o.bottom>t},viewportOut:function(f){return this.viewportOutByWidth(f)||this.viewportOutByHeight(f)},rect:function(f){return f.getBoundingClientRect()},getCursorPosition:function(f,o){let t=this.rect(f);return{x:this.pageXY(o).x-t.left-globalThis.scrollX,y:this.pageXY(o).y-t.top-globalThis.scrollY}},getCursorPositionX:function(f,o){return this.getCursorPosition(f,o).x},getCursorPositionY:function(f,o){return this.getCursorPosition(f,o).y},objectLength:function(f){return Object.keys(f).length},percent:function(f,o,t){if(f===0)return 0;let i=o*100/f;return t===!0?Math.round(i):Math.round(i*100)/100},objectShift:function(f){let o=0;return r.each(f,function(t){(o===0||o>t)&&(o=t)}),delete f[o],f},objectDelete:function(f,o){o in f&&delete f[o]},arrayDeleteByMultipleKeys:function(f,o){return o.forEach(function(t){delete f[t]}),f.filter(function(t){return t!==void 0})},arrayDelete:function(f,o){let t=f.indexOf(o);t>-1&&f.splice(t,1)},arrayDeleteByKey:function(f,o){f.splice(o,1)},nvl:function(f,o){return f??o},objectClone:function(f){let o={};for(let t in f)r.hasProp(f,t)&&(o[t]=f[t]);return o},github:function(f,o){return O(this,null,function*(){let t=yield fetch(`https://api.github.com/repos/${f}`);if(!t.ok)return;let i=yield t.json();this.exec(o,[i])})},pageHeight:function(){let f=document.body,o=document.documentElement;return Math.max(f.scrollHeight,f.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight)},cleanPreCode:function(f){Array.prototype.slice.call(document.querySelectorAll(f),0).forEach(function(o){let t=o.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(t)){o.textContent=t;return}let i,c,m=/^[\t ]+/gm,b,w=1e3;for(;i=m.exec(t);)b=i[0].length,b<w&&(w=b,c=i[0]);w!==1e3&&(o.textContent=t.replace(new RegExp("^"+c,"gm"),"").trim())})},coords:function(f){let o=r(f)[0].getBoundingClientRect();return{top:o.top+globalThis.pageYOffset,left:o.left+globalThis.pageXOffset}},positionXY:function(f,o,t){switch(o){case"client":return this.clientXY(f,t);case"screen":return this.screenXY(f,t);case"page":return this.pageXY(f,t);default:return{x:0,y:0}}},clientXY:function(f,o="touches"){return{x:f[o]?f[o][0].clientX:f.clientX,y:f[o]?f[o][0].clientY:f.clientY}},screenXY:function(f,o="touches"){return{x:f[o]?f[o][0].screenX:f.screenX,y:f[o]?f[o][0].screenY:f.screenY}},pageXY:function(f,o="touches"){return{x:f[o]?f[o][0].pageX:f.pageX,y:f[o]?f[o][0].pageY:f.pageY}},isRightMouse:function(f){return"which"in f?f.which===3:"button"in f?f.button===2:void 0},hiddenElementSize:function(f,o){let t,i,c=r(f).clone(!0);return c.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),r("body").append(c),this.isValue(o)||(o=!1),t=c.outerWidth(o),i=c.outerHeight(o),c.remove(),{width:t,height:i}},getStyle:function(f){let o=r(f)[0];return globalThis.getComputedStyle(o)},getStyleOne:function(f,o){return this.getStyle(f).getPropertyValue(o)},getInlineStyles:function(f){let o,t,i={},c=r(f)[0];for(o=0,t=c.style.length;o<t;o++){let m=c.style[o];i[m]=c.style[m]}return i},encodeURI:function(f){return encodeURI(f).replace(/%5B/g,"[").replace(/%5D/g,"]")},updateURIParameter:function(f,o,t){let i=new RegExp("([?&])"+o+"=.*?(&|$)","i"),c=f.indexOf("?")!==-1?"&":"?";return f.match(i)?f.replace(i,"$1"+o+"="+t+"$2"):f+c+o+"="+t},getURIParameter:function(f,o){f||(f=globalThis.location.href),o=o.replace(/[\[\]]/g,"\\$&");let t=new RegExp("[?&]"+o+"(=([^&#]*)|&|#|$)"),i=t.exec(f);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},getLocales:function(){return Object.keys(e.locales)},addLocale:function(f){e.locales=r.extend({},e.locales,f)},aspectRatioH:function(f,o){if(o==="16/9")return f*9/16;if(o==="21/9")return f*9/21;if(o==="4/3")return f*3/4},aspectRatioW:function(f,o){if(o==="16/9")return f*16/9;if(o==="21/9")return f*21/9;if(o==="4/3")return f*4/3},valueInObject:function(f,o){return Object.values(f).indexOf(o)>-1},keyInObject:function(f,o){return Object.keys(f).indexOf(o)>-1},inObject:function(f,o,t){return f[o]!==void 0&&f[o]===t},newCssSheet:function(f){let o=document.createElement("style");return f!==void 0&&o.setAttribute("media",f),o.appendChild(document.createTextNode("")),document.head.appendChild(o),o.sheet},addCssRule:function(f,o,t,i){f.insertRule(o+"{"+t+"}",i)},media:function(f){return globalThis.matchMedia(f).matches},mediaModes:function(){return globalThis.METRO_MEDIA},mediaExist:function(f){return globalThis.METRO_MEDIA.indexOf(f)>-1},inMedia:function(f){return globalThis.METRO_MEDIA.indexOf(f)>-1&&globalThis.METRO_MEDIA.indexOf(f)===globalThis.METRO_MEDIA.length-1},isValue:function(f){return f!=null&&f!==""},isNull:function(f){return f==null},isNegative:function(f){return parseFloat(f)<0},isPositive:function(f){return parseFloat(f)>0},isZero:function(f){return parseFloat(f.toFixed(2))===0},between:function(f,o,t,i){return i===!0?f>=o&&f<=t:f>o&&f<t},parseMoney:function(f){return Number(parseFloat(f.replace(/[^0-9-.]/g,"")))},parseCard:function(f){return f.replace(/[^0-9]/g,"")},parsePhone:function(f){return this.parseCard(f)},parseNumber:function(f,o,t){return f.replace(new RegExp("\\"+o,"g"),"").replace(new RegExp("\\"+t,"g"),".")},nearest:function(f,o,t){return f/=o,f=Math[t===!0?"floor":"ceil"](f)*o,f},bool:function(f){switch(f){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}},decCount:function(f){return f%1===0?0:f.toString().split(".")[1].length},classNames:function(){let f=Array.prototype.slice.call(arguments,0),o=[];for(let t of f)if(t)if(typeof t=="string")o.push(t);else if(e.utils.isObject(t))for(let i in t)t[i]&&o.push(i);else e.utils.nothing();return o.join(" ")},join:function(){let f=Array.prototype.slice.call(arguments,0),o=f.pop(),t=[];for(let i of f)i&&t.push(e.utils.isObject(i)?Object.values(i)[0]:i);return t.join(o)},copy2clipboard:function(f,o){navigator.clipboard.writeText(f).then(function(){e.utils.exec(o,[f])})},getCssVar:function(f){let o=document.documentElement;return getComputedStyle(o).getPropertyValue(f)},scrollTo:function(f,o){(typeof f=="string"?r(f)[0]:f).scrollIntoView(T(k({},o),{behavior:"smooth",block:"start"}))}},globalThis.METRO_GLOBAL_COMMON===!0&&(globalThis.Utils=e.utils)}(Metro,Dom),function(e,r){let f={duration:METRO_ANIMATION_DURATION,ease:"linear"};e.Effects={switchIn:function(o){r(o).hide().css({left:0,top:0}).show()},switchOut:function(o){r(o).hide()},switch:function(o,t){this.switchOut(o),this.switchIn(t)},slideUpIn:function(o,t){let i,c=r(o),m=c.parent().outerHeight(!0);i=r.extend({},f,t),c.css({top:m,left:0,zIndex:2}).animate({draw:{top:0,opacity:1},dur:i.duration,ease:i.ease})},slideUpOut:function(o,t){let i,c=r(o),m=c.parent().outerHeight(!0);i=r.extend({},f,t),c.css({zIndex:1}).animate({draw:{top:-m,opacity:0},dur:i.duration,ease:i.ease})},slideUp:function(o,t,i){this.slideUpOut(o,i),this.slideUpIn(t,i)},slideDownIn:function(o,t){let i,c=r(o),m=c.parent().outerHeight(!0);i=r.extend({},f,t),c.css({left:0,top:-m,zIndex:2}).animate({draw:{top:0,opacity:1},dur:i.duration,ease:i.ease})},slideDownOut:function(o,t){let i,c=r(o),m=c.parent().outerHeight(!0);i=r.extend({},f,t),c.css({zIndex:1}).animate({draw:{top:m,opacity:0},dur:i.duration,ease:i.ease})},slideDown:function(o,t,i){this.slideDownOut(o,i),this.slideDownIn(t,i)},slideLeftIn:function(o,t){let i,c=r(o),m=c.parent().outerWidth(!0);i=r.extend({},f,t),c.css({left:m,zIndex:2}).animate({draw:{left:0,opacity:1},dur:i.duration,ease:i.ease})},slideLeftOut:function(o,t){let i,c=r(o),m=c.parent().outerWidth(!0);i=r.extend({},f,t),c.css({zIndex:1}).animate({draw:{left:-m,opacity:0},dur:i.duration,ease:i.ease})},slideLeft:function(o,t,i){this.slideLeftOut(o,i),this.slideLeftIn(t,i)},slideRightIn:function(o,t){let i,c=r(o),m=c.parent().outerWidth(!0);i=r.extend({},f,t),c.css({left:-m,zIndex:2}).animate({draw:{left:0,opacity:1},dur:i.duration,ease:i.ease})},slideRightOut:function(o,t){let i,c=r(o),m=c.parent().outerWidth(!0);i=r.extend({},f,t),c.css({zIndex:1}).animate({draw:{left:m,opacity:0},dur:i.duration,ease:i.ease})},slideRight:function(o,t,i){this.slideRightOut(o,i),this.slideRightIn(t,i)},fadeIn:function(o,t){let i=r.extend({},f,t);r(o).css({top:0,left:0,opacity:0}).animate({draw:{opacity:1},dur:i.duration,ease:i.ease})},fadeOut:function(o,t){let i=r.extend({},f,t);r(o).animate({draw:{opacity:0},dur:i.duration,ease:i.ease})},fade:function(o,t,i){this.fadeOut(o,i),this.fadeIn(t,i)},zoomIn:function(o,t){let i=r.extend({},f,t);r(o).css({top:0,left:0,opacity:0,transform:"scale(3)",zIndex:2}).animate({draw:{scale:1,opacity:1},dur:i.duration,ease:i.ease})},zoomOut:function(o,t){let i=r.extend({},f,t);r(o).css({zIndex:1}).animate({draw:{scale:3,opacity:0},dur:i.duration,ease:i.ease})},zoom:function(o,t,i){this.zoomOut(o,i),this.zoomIn(t,i)},swirlIn:function(o,t){let i=r.extend({},f,t);r(o).css({top:0,left:0,opacity:0,transform:"scale(3) rotate(180deg)",zIndex:2}).animate({draw:{scale:1,rotate:0,opacity:1},dur:i.duration,ease:i.ease})},swirlOut:function(o,t){let i=r.extend({},f,t);r(o).css({zIndex:1}).animate({draw:{scale:3,rotate:"180deg",opacity:0},dur:i.duration,ease:i.ease})},swirl:function(o,t,i){this.swirlOut(o,i),this.swirlIn(t,i)}}}(Metro,Dom),function(e,r){let f={accordionDeferred:0,showMarker:!0,material:!1,duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:e.noop,onFrameBeforeOpen:e.noop_true,onFrameClose:e.noop,onFrameBeforeClose:e.noop_true,onAccordionCreate:e.noop};e.accordionSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroAccordionSetup<"u"&&e.accordionSetup(globalThis.metroAccordionSetup),e.Component("accordion",{init:function(o,t){return this._super(t,o,f),this},_create:function(){let o=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:o})},_createStructure:function(){let o=this,t=this.element,i=this.options,c=t.children(".frame"),m=t.children(".frame.active"),b;t.id()||t.id(Hooks.useId("accordion")),t.addClass("accordion").addClass(i.clsAccordion),c.addClass(i.clsFrame).each(function(){let w=r(this),S=w.children(".heading"),D=w.children(".content"),I=Hooks.useId("accordion-heading"),P=Hooks.useId("accordion-content");S.attr({id:I,role:"button","aria-expanded":w.hasClass("active")?"true":"false","aria-controls":P,tabindex:"0"}),D.attr({id:P,role:"region","aria-labelledby":I}),S.addClass(i.clsHeading),D.addClass(i.clsContent)}),i.showMarker===!0&&t.addClass("marker-on"),i.material===!0&&t.addClass("material"),m.length===0?b=c[0]:b=m[0],this._hideAll(),i.showActive===!0&&(i.oneFrame===!0?this._openFrame(b):r.each(m,function(){o._openFrame(this)}))},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.children(".frame.active");t.on("keydown",".heading",function(m){let b=r(this),w=b.parent();if(b.closest(".accordion")[0]!==t[0])return!1;if((m.keyCode===13||m.keyCode===32)&&(m.preventDefault(),w.hasClass("active")?c.length===1&&i.oneFrame||o._closeFrame(w):o._openFrame(w)),m.keyCode===38||m.keyCode===40){m.preventDefault();let S=t.children(".frame"),D=S.index(w),I;m.keyCode===38?I=(D-1+S.length)%S.length:I=(D+1)%S.length,S.eq(I).children(".heading").focus()}}),t.on(e.events.click,".heading",function(){let m=r(this),b=m.parent();if(m.closest(".accordion")[0]!==t[0])return!1;b.hasClass("active")?c.length===1&&i.oneFrame||o._closeFrame(b):o._openFrame(b)})},_openFrame:function(o){let t=this.element,i=this.options,c=r(o);if(e.utils.exec(i.onFrameBeforeOpen,[c[0]],t[0])===!1)return!1;i.oneFrame===!0&&this._closeAll(c[0]),c.addClass("active").addClass(i.clsActiveFrame),c.children(".heading").addClass(i.clsActiveFrameHeading),c.children(".content").addClass(i.clsActiveFrameContent).slideDown(i.duration),this._fireEvent("frameOpen",{frame:c[0]})},_closeFrame:function(o){let t=this.element,i=this.options,c=r(o);c.hasClass("active")&&e.utils.exec(i.onFrameBeforeClose,[c[0]],t[0])!==!1&&(c.removeClass("active").removeClass(i.clsActiveFrame),c.children(".heading").removeClass(i.clsActiveFrameHeading),c.children(".content").removeClass(i.clsActiveFrameContent).slideUp(i.duration),this._fireEvent("frameClose",{frame:c[0]}))},_closeAll:function(o){let t=this,i=this.element.children(".frame");r.each(i,function(){o!==this&&t._closeFrame(this)})},_hideAll:function(){let o=this.element.children(".frame");r.each(o,function(){r(this).children(".content").hide()})},_openAll:function(){let o=this,t=this.element.children(".frame");r.each(t,function(){o._openFrame(this)})},open:function(o){let t=this.element.children(".frame").eq(o);this._openFrame(t)},close:function(o){let t=this.element.children(".frame").eq(o);this._closeFrame(t)},toggle:function(o){let t=this.element.children(".frame").eq(o);t.hasClass("active")?this._closeFrame(t):this._openFrame(t)},getActive:function(){let o=this.element.children(".frame"),t=[];return o.each(function(i){r(this).hasClass("active")&&t.push(i)}),t},changeAttribute:function(o,t){},destroy:function(){let o=this.element;return o.off(e.events.click,".heading"),o}})}(Metro,Dom),function(e,r){let f={onClick:e.noop,onActionClick:e.noop,onActionButtonCreate:e.noop};e.actionButtonSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroActionButtonSetup<"u"&&e.actionButtonSetup(globalThis.metroActionButtonSetup),e.Component("action-button",{init:function(o,t){return this._super(t,o,f,{}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("action-button-create")},_createStructure:function(){let o=this.element;this.options;let t=o.find(".actions li, .actions button");o.addClass("action-button"),o.cssVar("num-actions",t.length),t.length>8&&o.cssVar("action-shift",60+(t.length-8)*6+"px"),t.each(function(i){r(this).cssVar("action-index",i).addClass("sub-action")}),o.children("button").addClass("main-action")},_createEvents:function(){let o=this,t=this.element;this.options,t.on(e.events.click,".actions li, .actions button",function(i){o._fireEvent("action-click",{action:this})}),t.on(e.events.click,".main-action",function(i){i.preventDefault(),i.stopPropagation(),r(this).toggleClass("active")})},changeAttribute:function(o,t){},destroy:function(){this.element.remove()}}),r(document).on("click",function(o){r("[data-role-actionbutton]").each((t,i)=>{r(i).children("button").removeClass("active")})})}(Metro,Dom),function(e,r){var f=e.utils,o={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,title:"",content:"",customButtons:null,actionsAlign:"right",defaultActions:!0,defaultActionButtons:"ok,cancel,help",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"auto",height:"auto",closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onOk:e.noop,onCancel:e.noop,onHelp:e.noop,onShow:e.noop,onHide:e.noop,onOpen:e.noop,onClose:e.noop,onDialogCreate:e.noop};e.dialogSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroDialogSetup<"u"&&e.dialogSetup(globalThis.metroDialogSetup),e.Component("dialog",{_counter:0,init:function(t,i){return this._super(i,t,o,{interval:null,overlay:null,id:f.elementId("dialog")}),this},_create:function(){this._build()},_build:function(){var t=this,i=this.element,c=this.options,m=this.strings,b=r("body"),w;if(i.addClass("dialog"),c.title!==""&&this.setTitle(c.title),c.content!==""&&this.setContent(c.content),c.defaultActions===!0||c.customButtons){var S=i.find(".dialog-actions"),D;if(S.length===0&&(S=r("<div>").addClass("dialog-actions").addClass("text-"+c.actionsAlign).appendTo(i)),c.defaultActions===!0&&i.find(".dialog-actions > *").length===0)for(let V of c.defaultActionButtons.toArray(","))D=r("<button>").addClass(V!=="help"?".js-dialog-close":"").addClass(c.clsDefaultAction).html(m[`label_${V}`]),D.appendTo(S),V==="ok"&&D.on(e.events.click,function(){f.exec(c.onOk,[i])}),V==="help"&&D.on(e.events.click,function(){f.exec(c.onHelp,[i])}),V==="cancel"&&D.on(e.events.click,function(){f.exec(c.onCancel,[i])});let P=f.isObject(c.customButtons);Array.isArray(P)&&r.each(P,function(){var V=this;D=r("<button>").addClass("button").addClass(V.cls).html(V.text),V.onclick&&D.on(e.events.click,function(){f.exec(V.onclick,[i])}),D.appendTo(S)})}c.overlay===!0&&(w=this._overlay(),this.overlay=w),c.closeAction===!0&&i.on(e.events.click,".js-dialog-close",function(){t.close()});var I=i.find("closer");I.length===0&&(I=r("<span>").addClass("closer js-dialog-close"),I.appendTo(i)),c.closeButton!==!0&&I.hide(),i.css({height:c.height,visibility:"hidden",top:"100%"}),c.width!=="auto"&&i.css({width:c.width}),i.addClass(c.clsDialog),i.find(".dialog-title").addClass(c.clsTitle),i.find(".dialog-content").addClass(c.clsContent),i.find(".dialog-actions").addClass(c.clsAction),i.appendTo(b),c.show&&this.open(),r(globalThis).on(e.events.resize,function(){t.setPosition()},{ns:this.id}),this._fireEvent("dialog-create",{element:i})},_overlay:function(){var t=this.options,i=r("<div>");return i.addClass("overlay").addClass(t.clsOverlay),t.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(t.overlayColor),t.overlayAlpha)}),i},hide:function(t){var i=this.element,c=this.options,m=0;c.onHide!==e.noop&&(m=500,this._fireEvent("hide")),setTimeout(function(){f.exec(t,null,i[0]),i.css({visibility:"hidden",top:"100%"})},m)},show:function(t){var i=this.element;this.setPosition(),i.css({visibility:"visible"}),this._fireEvent("show"),f.exec(t,null,i[0])},setPosition:function(){var t=this.element,i=this.options,c,m;i.toTop!==!0&&i.toBottom!==!0?(c=(r(globalThis).height()-t.outerHeight())/2,c<0&&(c=0),m="auto"):(i.toTop===!0&&(c=0,m="auto"),i.toTop!==!0&&i.toBottom===!0&&(m=0,c="auto")),t.css({top:c,bottom:m,left:(r(globalThis).width()-t.outerWidth())/2})},setContent:function(t){var i=this.element,c=i.find(".dialog-content");c.length===0&&(c=r("<div>").addClass("dialog-content"),c.appendTo(i)),!f.isQ(t)&&f.isFunc(t)&&(t=f.exec(t)),f.isQ(t)?t.appendTo(c):c.html(t)},setTitle:function(t){var i=this.element,c=i.find(".dialog-title");c.length===0&&(c=r("<div>").addClass("dialog-title"),c.appendTo(i)),c.html(t)},close:function(){var t=this,i=this.element,c=this.options;f.bool(c.leaveOverlayOnClose)||r("body").find(".overlay").remove(),this.hide(function(){i.data("open",!1),t._fireEvent("close"),c.removeOnClose===!0&&i.remove()})},open:function(){var t=this,i=this.element,c=this.options;c.overlay===!0&&r(".overlay").length===0&&(this.overlay.appendTo(r("body")),c.overlayClickClose===!0&&this.overlay.on(e.events.click,function(){t.close()})),this.show(function(){t._fireEvent("open"),i.data("open",!0),parseInt(c.autoHide)>0&&setTimeout(function(){t.close()},parseInt(c.autoHide))})},toggle:function(){var t=this.element;t.data("open")?this.close():this.open()},isOpen:function(){return this.element.data("open")===!0},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.click,".js-dialog-close"),t.find(".button").off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),t}}),e.dialog={isDialog:function(t){return f.isMetroObject(t,"dialog")},open:function(t,i,c){if(!this.isDialog(t))return!1;var m=e.getPlugin(t,"dialog");c&&m.setTitle(c),i&&m.setContent(i),m.open()},close:function(t){if(!this.isDialog(t))return!1;e.getPlugin(r(t)[0],"dialog").close()},toggle:function(t){if(!this.isDialog(t))return!1;e.getPlugin(r(t)[0],"dialog").toggle()},isOpen:function(t){if(!this.isDialog(t))return!1;e.getPlugin(r(t)[0],"dialog").isOpen()},remove:function(t){if(!this.isDialog(t))return!1;var i=e.getPlugin(r(t)[0],"dialog");i.options.removeOnClose=!0,i.close()},create:function(t){var i;i=r("<div>").appendTo(r("body"));var c=r.extend({},{show:!0,closeAction:!0,removeOnClose:!0},t||{});return c._runtime=!0,e.makePlugin(i,"dialog",c)}}}(Metro,Dom),function(e,r){var f={activityDeferred:0,type:"ring",style:"",size:64,radius:20,onActivityCreate:e.noop};e.activitySetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroActivitySetup<"u"&&e.activitySetup(globalThis.metroActivitySetup),e.Component("activity",{init:function(o,t){return this._super(t,o,f),this},_create:function(){var o=this.element,t=this.options,i,c;o.html("").addClass(t.style==="dark"?"dark-side":t.style==="color"?"color-style":"").addClass("activity-"+t.type);function m(){for(i=0;i<5;i++)r("<div/>").addClass("circle").appendTo(o)}function b(){for(i=0;i<4;i++)r("<div/>").addClass("square").appendTo(o)}function w(){r("<div/>").addClass("cycle").appendTo(o)}function S(){for(i=0;i<5;i++)c=r("<div/>").addClass("wrap").appendTo(o),r("<div/>").addClass("circle").appendTo(c)}function D(){r('<svg class="circular"><circle class="path" cx="'+t.size/2+'" cy="'+t.size/2+'" r="'+t.radius+'" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg>').appendTo(o)}function I(){for(i=0;i<3;i++)r("<span/>").addClass("electron").appendTo(o)}function P(){for(i=0;i<6;i++)r("<span/>").addClass("bar").appendTo(o)}switch(t.type){case"metro":m();break;case"square":b();break;case"cycle":w();break;case"simple":D();break;case"atom":I();break;case"bars":P();break;default:S()}this._fireEvent("activity-create",{element:o})},changeAttribute:function(o){},destroy:function(){return this.element}}),e.activity={open:function(o){var t=o||{},i='<div data-role="activity" data-type="'+(t.type?t.type:"cycle")+'" data-style="'+(t.style?t.style:"color")+'"></div>',c=t.text?'<div class="text-center">'+t.text+"</div>":"";return e.dialog.create({content:i+c,defaultActions:!1,clsContent:"d-flex flex-column flex-center bg-transparent no-shadow w-auto",clsDialog:"no-border no-shadow bg-transparent global-dialog",autoHide:t.autoHide?t.autoHide:0,overlayClickClose:t.overlayClickClose===!0,overlayColor:t.overlayColor?t.overlayColor:"#000000",overlayAlpha:t.overlayAlpha?t.overlayAlpha:.5,clsOverlay:"global-overlay"})},close:function(o){e.dialog.close(o)}}}(Metro,Dom),function(e,r){var f=e.utils,o={adblockDeferred:0,checkInterval:1e3,fireOnce:!0,checkStop:10,localhost:!1,onAlert:e.noop,onFishingStart:e.noop,onFishingDone:e.noop};e.adblockSetup=function(i){o=r.extend({},o,i)},typeof globalThis.metroAdblockSetup<"u"&&e.adblockSetup(globalThis.metroAdblockSetup);var t={bite:function(){var i="adblock-bite adsense google-adsense dblclick advert topad top_ads topAds textads sponsoredtextlink_container show_ads right-banner rekl mpu module-ad mid_ad mediaget horizontal_ad headerAd contentAd brand-link bottombanner bottom_ad_block block_ad bannertop banner-right banner-body b-banner b-article-aside__banner b-advert adwrapper adverts advertisment advertisement:not(body) advertise advert_list adtable adsense adpic adlist adleft adinfo adi adholder adframe addiv ad_text ad_space ad_right ad_links ad_body ad_block ad_Right adTitle adText";r("<div>").addClass(i.split(" ").shuffle().join(" ")).css({position:"fixed",height:1,width:1,overflow:"hidden",visibility:"visible",top:0,left:0}).append(r("<a href='https://dblclick.net'>").html("dblclick.net")).appendTo("body"),t.options.adblockDeferred?setTimeout(function(){t.fishing()},t.options.adblockDeferred):this.fishing()},fishing:function(){var i=t.options,c=typeof i.fireOnce=="number"?i.fireOnce:0,m=i.checkStop,b=!1,w=function(){var S=r(".adsense.google-adsense.dblclick.advert.adblock-bite"),D=S.find("a"),I=function(){clearInterval(b),f.exec(i.onFishingDone),r(globalThis).fire("fishing-done"),S.remove()};if(!i.localhost&&r.localhost){I();return}!S.length||!D.length||S.css("display").indexOf("none")>-1||D.css("display").indexOf("none")>-1?(f.exec(t.options.onAlert),r(globalThis).fire("adblock-alert"),t.options.fireOnce===!0?I():(c--,c===0&&I())):m!==!1&&(m--,m===0&&I())};f.exec(i.onFishingStart),r(globalThis).fire("fishing-start"),b=setInterval(function(){w()},t.options.checkInterval),w()}};e.Adblock=t,r(function(){t.options=r.extend({},o),r(globalThis).on("metro-initiated",function(){t.bite()})})}(Metro,Dom),function(e,r){var f={icon:null,showNumbers:!1,showMoon:!0,showDay:!0,showDigitalClock:!0,timeFormat:24,onAnalogClockCreate:e.noop};e.analogClockSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroAnalogClockSetup<"u"&&e.analogClockSetup(globalThis.metroAnalogClockSetup),e.Component("analog-clock",{init:function(o,t){return this._super(t,o,f,{}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("analog-clock-create")},_createStructure:function(){var o=this.element,t=this.options;let i=datetime();o.addClass("analog-clock"),t.showNumbers&&o.addClass("show-numbers");for(let c=1;c<=12;c++)o.append(`<label class="dash" style="--i: ${c}"><span>${t.showNumbers?c:"|"}</span></label>`);for(let c=1;c<=90;c++)c%5!==0&&o.append(`<label class="secondary-dash" style="--i2: ${c}"><span>|</span></label>`);o.append(`
                <div class="hands">
                    <div class="hour"></div>                
                    <div class="minute"></div>                
                    <div class="second"></div>                
                </div>
                  
            `),o.append(`
                <div class="day-month">
                    <div class="day-month-inner">
                        <div class="day">${i.format("DD",this.locale)}</div>
                        <div class="month">${i.format("MMM",this.locale)}</div>                    
                    </div>
                    <div class="week-day">${i.format("dddd",this.locale)}</div>
                </div>
            `),t.showDay===!1&&o.find(".day-month").hide(),o.append(`
                <div class="digital-clock">
                    <div class="dc-hour">${i.format(t.timeFormat===24?"HH":"hh",this.locale)}</div>
                    <div class="dc-minute">${i.format("mm",this.locale)}</div>
                    <div class="dc-second">${i.format("ss",this.locale)}</div>
                </div>
            `),t.showDigitalClock===!1&&o.find(".digital-clock").hide(),t.icon&&o.append(`<div class="icon">${t.icon}</div>`),t.showMoon===!0&&o.append('<div class="moon"></div>'),this._updateTime(),setInterval(()=>{o.toggleClass("tick")},500)},_createEvents:function(){this.element,this.options},_updateTime:function(){let o=this.element,t=this.options,i=o.find(".second"),c=o.find(".minute"),m=o.find(".hour"),b=o.find(".dc-second"),w=o.find(".dc-minute"),S=o.find(".dc-hour"),D=o.find(".day"),I=o.find(".month"),P=o.find(".moon"),V=()=>{let z=datetime(),K=z.second()/60*360,ye=z.minute()/60*360,_e=z.hour12()/12*360,Ne=z.format("DD",this.locale),Ie=z.format("MMM",this.locale),Se=z.moon();i[0].style.transform=`rotate(${K}deg)`,c[0].style.transform=`rotate(${ye}deg)`,m[0].style.transform=`rotate(${_e}deg)`,D.html(Ne),I.html(Ie),P.removeClass("").addClass(`${Se.name}`),S[0].innerHTML=z.format(t.timeFormat===24?"HH":"hh",this.locale),w[0].innerHTML=z.format("mm",this.locale),b[0].innerHTML=z.format("ss",this.locale)};V(),setInterval(V,1e3)},changeAttribute:function(o,t){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,onMenuOpen:e.noop,onMenuClose:e.noop,onBeforeMenuOpen:e.noop,onBeforeMenuClose:e.noop,onMenuCollapse:e.noop,onMenuExpand:e.noop,onAppBarCreate:e.noop};e.appBarSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroAppBarSetup<"u"&&e.appBarSetup(globalThis.metroAppBarSetup),e.Component("app-bar",{init:function(t,i){return this._super(i,t,o,{id:null}),this},_create:function(){let t=this.element;this.id=t.attr("id")||Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,c,m;if(f.getStyleOne(t,"background-color"),t.addClass("app-bar").attr("role","navigation"),c=t.find(".hamburger"),c.length===0){c=r("<button>").attr("type","button").addClass("hamburger menu-down").attr("aria-label","Toggle menu").attr("aria-expanded","false").attr("aria-controls","app-bar-menu-"+this.id);for(let b=0;b<3;b++)r("<span>").addClass("line").appendTo(c)}t.prepend(c),m=t.find(".app-bar-menu"),m.length>0&&(m.attr("id","app-bar-menu-"+this.id),m.attr("role","menubar")),m.length===0?c.css("display","none"):(m.find("li").attr("role","menuitem"),m.find("li a").attr("tabindex","0"),m.find("li:has(ul)").attr("aria-haspopup","true"),m.find("li ul").attr("role","menu").attr("aria-hidden","true")),c.css("display")==="block"?(m.hide().addClass("collapsed"),c.removeClass("hidden")):c.addClass("hidden"),(i.expand===!0||f.isValue(i.expandPoint)&&f.mediaExist(i.expandPoint))&&(t.addClass("app-bar-expand"),c.addClass("hidden"))},_createEvents:function(){let t=this,i=this.element,c=this.options,m=i.find(".app-bar-menu"),b=i.find(".hamburger");i.on(e.events.click,".hamburger",function(){m.length!==0&&(m.hasClass("collapsed")?t.open():t.close())}),b.on("keydown",function(w){(w.keyCode===13||w.keyCode===32)&&(w.preventDefault(),b.trigger("click"))}),m.find("li a").on("keydown",function(w){(w.keyCode===13||w.keyCode===32)&&(w.preventDefault(),r(this).trigger("click")),w.keyCode===27&&(w.preventDefault(),t.close(),b.focus())}),r(globalThis).on(e.events.resize,function(){if(c.expand!==!0&&(f.isValue(c.expandPoint)&&f.mediaExist(c.expandPoint)?(i.addClass("app-bar-expand"),t._fireEvent("menu-expand")):(i.removeClass("app-bar-expand"),t._fireEvent("menu-collapse"))),m.length===0){b.addClass("hidden");return}m.removeClass("opened").removeClass("collapsed"),b.css("display")!=="block"?(b.addClass("hidden"),m.show()):(b.removeClass("hidden"),b.hasClass("active")?m.removeClass("collapsed").addClass("opened"):m.addClass("collapsed").removeClass("opened"))},{ns:this.id})},close:function(){let t=this,i=this.element,c=this.options,m=i.find(".app-bar-menu"),b=i.find(".hamburger");t._fireEvent("before-menu-close",{menu:m[0]}),b.attr("aria-expanded","false"),m.find("ul").attr("aria-hidden","true"),m.slideUp(c.duration,function(){m.addClass("collapsed").removeClass("opened"),b.removeClass("active"),t._fireEvent("menu-close",{menu:m[0]})})},open:function(){let t=this,i=this.element,c=this.options,m=i.find(".app-bar-menu"),b=i.find(".hamburger");t._fireEvent("before-menu-open",{menu:m[0]}),b.attr("aria-expanded","true"),m.find("ul").attr("aria-hidden","false"),m.slideDown(c.duration,function(){m.removeClass("collapsed").addClass("opened"),b.addClass("active"),t._fireEvent("menu-open",{menu:m[0]})})},changeAttribute:function(t){},destroy:function(){let t=this.element;t.off(e.events.click,".hamburger"),r(globalThis).off(e.events.resize,{ns:this.id}),t.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={audioVolume:.5,audioSrc:"",onAudioStart:e.noop,onAudioEnd:e.noop,onAudioButtonCreate:e.noop};e.audioButtonSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroAudioButtonSetup<"u"&&e.audioButtonSetup(globalThis.metroAudioButtonSetup),e.Component("audio-button",{init:function(t,i){return this._super(i,t,o,{audio:null,canPlay:null,id:f.elementId("audioButton")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("audioButtonCreate",{element:t})},_createStructure:function(){var t=this.options;this.audio=new Audio(t.audioSrc),this.audio.volume=t.audioVolume},_createEvents:function(){var t=this,i=this.element,c=this.options,m=this.audio;m.addEventListener("loadeddata",function(){t.canPlay=!0}),m.addEventListener("ended",function(){t._fireEvent("audioEnd",{src:c.audioSrc,audio:m})}),i.on(e.events.click,function(){t.play()},{ns:this.id})},play:function(t){var i=this.element,c=this.options,m=this.audio;c.audioSrc!==""&&this.audio.duration&&this.canPlay&&(this._fireEvent("audioStart",{src:c.audioSrc,audio:m}),m.pause(),m.currentTime=0,m.play(),f.exec(t,[m],i[0]))},stop:function(t){var i=this.element,c=this.options,m=this.audio;m.pause(),m.currentTime=0,this._fireEvent("audioEnd",{src:c.audioSrc,audio:m}),f.exec(t,[m],i[0])},changeAttribute:function(t){var i=this.element,c=this.options,m=this.audio,b=function(){var S=i.attr("data-audio-src");S&&S.trim()!==""&&(c.audioSrc=S,m.src=S)},w=function(){var S=parseFloat(i.attr("data-audio-volume"));isNaN(S)||(c.audioVolume=S,m.volume=S)};t==="data-audio-src"&&b(),t==="data-audio-volume"&&w()},destroy:function(){var t=this.element;t.off(e.events.click,{ns:this.id})}}),e.playSound=function(t){var i,c=typeof t=="string"?t:t.audioSrc,m=t&&t.audioVolume?t.audioVolume:.5;c&&(i=new Audio(c),i.volume=parseFloat(m),i.addEventListener("loadeddata",function(){t&&t.onAudioStart&&f.exec(t.onAudioStart,[c],this),this.play()}),i.addEventListener("ended",function(){t&&t.onAudioEnd&&f.exec(t.onAudioEnd,[null],this)}))}}(Metro,Dom),function(e,r){var f=e.utils,o={sliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:e.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:e.position.TOP,hintMask:"$1",vertical:!1,target:null,returnType:"value",size:0,label:null,clsSlider:"",clsBackside:"",clsComplete:"",clsBuffer:"",clsMarker:"",clsHint:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:e.noop,onStop:e.noop,onMove:e.noop,onSliderClick:e.noop,onChange:e.noop,onChangeValue:e.noop,onChangeBuffer:e.noop,onFocus:e.noop,onBlur:e.noop,onSliderCreate:e.noop};e.sliderSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroSliderSetup<"u"&&e.sliderSetup(globalThis.metroSliderSetup),e.Component("slider",{init:function(t,i){return this._super(i,t,o,{slider:null,value:0,percent:0,pixel:0,buffer:0,keyInterval:!1,id:f.elementId("slider")}),this},_create:function(){var t=this.element,i=this.options;this._createSlider(),this._createEvents(),this.buff(i.buffer),this.val(i.value),this._fireEvent("slider-create",{element:t})},_createSlider:function(){var t=this.element,i=this.options,c=r("<div>").addClass("backside").addClass(i.clsBackside),m=r("<div>").addClass("complete").addClass(i.clsComplete),b=r("<div>").addClass("buffer").addClass(i.clsBuffer),w=r("<button>").attr("type","button").addClass("marker").addClass(i.clsMarker),S=r("<div>").addClass("hint").addClass(i.hintPosition+"-side").addClass(i.clsHint),D,I=t.wrap("<div>").addClass("slider").addClass(t[0].className).addClass(i.clsSlider);if(i.size>0&&(i.vertical===!0?I.outerHeight(i.size):I.outerWidth(i.size)),i.vertical===!0&&I.addClass("vertical-slider"),i.hintAlways===!0&&S.css({display:"block"}).addClass("permanent-hint"),i.label){let V=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(I);if(t.id())V.attr("for",t.id());else{let z=Hooks.useId(t[0]);V.attr("for",z),t.attr("id",z)}}if(c.appendTo(I),m.appendTo(I),b.appendTo(I),w.appendTo(I),S.appendTo(w),i.showMinMax===!0){var P=r("<div>").addClass("slider-min-max").addClass(i.clsMinMax);r("<span>").addClass("slider-text-min").addClass(i.clsMin).html(i.min).appendTo(P),r("<span>").addClass("slider-text-max").addClass(i.clsMax).html(i.max).appendTo(P),i.minMaxPosition===e.position.TOP?P.insertBefore(I):P.insertAfter(I)}if(t[0].className="",i.copyInlineStyles===!0)for(D=0;D<t[0].style.length;D++)I.css(t[0].style[D],t.css(t[0].style[D]));t.is(":disabled")?this.disable():this.enable(),this.slider=I},_createEvents:function(){var t=this,i=this.slider,c=this.options,m=i.find(".marker"),b=i.find(".hint");m.on(e.events.startAll,function(){c.hint===!0&&c.hintAlways!==!0&&b.fadeIn(300),r(document).on(e.events.moveAll,function(w){w.cancelable&&w.preventDefault(),t._move(w),t._fireEvent("move",{val:t.value,percent:t.percent})},{ns:t.id,passive:!1}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id}),c.hintAlways!==!0&&b.fadeOut(300),t._fireEvent("stop",{val:t.value,percent:t.percent})},{ns:t.id}),t._fireEvent("start",{val:t.value,percent:t.percent})}),m.on(e.events.focus,function(){t._fireEvent("focus",{val:t.value,percent:t.percent})}),m.on(e.events.blur,function(){t._fireEvent("blur",{val:t.value,percent:t.percent})}),m.on(e.events.keydown,function(w){var S=w.keyCode?w.keyCode:w.which;if([37,38,39,40].indexOf(S)!==-1){var D=c.accuracy===0?1:c.accuracy;t.keyInterval||(t.keyInterval=setInterval(function(){var I=t.value;(w.keyCode===37||w.keyCode===40)&&(I-D<c.min?I=c.min:I-=D),(w.keyCode===38||w.keyCode===39)&&(I+D>c.max?I=c.max:I+=D),t.value=t._correct(I),t.percent=t._convert(t.value,"val2prc"),t.pixel=t._convert(t.percent,"prc2pix"),t._redraw()},100),w.preventDefault())}}),m.on(e.events.keyup,function(){clearInterval(t.keyInterval),t.keyInterval=!1}),i.on(e.events.click,function(w){t._move(w),t._fireEvent("slider-click",{val:t.value,percent:t.percent}),t._fireEvent("stop",{val:t.value,percent:t.percent})}),r(globalThis).on(e.events.resize,function(){t.val(t.value),t.buff(t.buffer)},{ns:t.id})},_convert:function(t,i){var c=this.slider,m=this.options,b=(m.vertical===!0?c.outerHeight():c.outerWidth())-c.find(".marker").outerWidth();switch(i){case"pix2prc":return t*100/b;case"pix2val":return this._convert(t,"pix2prc")*((m.max-m.min)/100)+m.min;case"val2prc":return(t-m.min)/((m.max-m.min)/100);case"prc2pix":return t/(100/b);case"val2pix":return this._convert(this._convert(t,"val2prc"),"prc2pix")}return 0},_correct:function(t){var i=t,c=this.options.accuracy,m=this.options.min,b=this.options.max;return c===0||isNaN(c)?i:(i=Math.round(t/c)*c,i<m&&(i=m),i>b&&(i=b),i.toFixed(f.decCount(c)))},_move:function(t){var i=this.slider,c=this.options,m=i.offset(),b=i.find(".marker").outerWidth(),w=c.vertical===!0?i.outerHeight():i.outerWidth(),S,D,I=0,P=w-b;S=c.vertical===!0?f.pageXY(t).y-m.top:f.pageXY(t).x-m.left,D=c.vertical===!0?w-S-b/2:S-b/2,!(D<I||D>P)&&(this.value=this._correct(this._convert(D,"pix2val")),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw())},_hint:function(){var t=this.options,i=this.slider,c=i.find(".hint"),m=+this.value||0,b=+this.percent||0;t.roundValue&&(m=(f.isValue(m)?+m:0).toFixed(f.decCount(t.accuracy)),b=(f.isValue(b)?+b:0).toFixed(f.decCount(t.accuracy))),c.text(t.hintMask.replace("$1",m).replace("$2",b))},_value:function(){var t=this.element,i=this.options,c=i.returnType==="value"?this.value:this.percent,m=this.percent,b=this.buffer;if(i.roundValue&&(c=(f.isValue(c)?+c:0).toFixed(f.decCount(i.accuracy)),m=(f.isValue(m)?+m:0).toFixed(f.decCount(i.accuracy)),b=(f.isValue(b)?+b:0).toFixed(f.decCount(i.accuracy))),t[0].tagName==="INPUT"&&t.val(c),i.target!==null){var w=r(i.target);w.length!==0&&r.each(w,function(){var S=r(this);this.tagName==="INPUT"?S.val(c):S.text(c),S.trigger("change")})}this._fireEvent("change-value",{val:c}),this._fireEvent("change",{val:c,percent:m,buffer:b})},_marker:function(){var t=this.slider,i=this.options,c=t.find(".marker"),m=t.find(".complete"),b=i.vertical===!0?t.outerHeight():t.outerWidth(),w=parseInt(f.getStyleOne(c,"width")),S=f.isVisible(t);S&&c.css({"margin-top":0,"margin-left":0}),i.vertical===!0?(S?c.css("top",b-this.pixel):(c.css("top",100-this.percent+"%"),c.css("margin-top",w/2)),m.css("height",this.percent+"%")):(S?c.css("left",this.pixel):(c.css("left",this.percent+"%"),c.css("margin-left",this.percent===0?0:-1*w/2)),m.css("width",this.percent+"%"))},_redraw:function(){this._marker(),this._value(),this._hint()},_buffer:function(){var t=this.element,i=this.options,c=this.slider.find(".buffer");i.vertical===!0?c.css("height",this.buffer+"%"):c.css("width",this.buffer+"%"),this._fireEvent("change-buffer",{val:this.buffer}),this._fireEvent("change",{val:t.val(),percent:this.percent,buffer:this.buffer})},val:function(t){var i=this.options;if(t===void 0||isNaN(t))return this.value;t<i.min&&(t=i.min),t>i.max&&(t=i.max),this.value=this._correct(t),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},buff:function(t){var i=this.slider,c=i.find(".buffer");if(t===void 0||isNaN(t))return this.buffer;if(c.length===0)return!1;t=parseInt(t),t>100&&(t=100),t<0&&(t=0),this.buffer=t,this._buffer()},changeValue:function(){var t=this.element,i=this.options,c=t.attr("data-value");c<i.min&&(c=i.min),c>i.max&&(c=i.max),this.val(c)},changeBuffer:function(){var t=this.element,i=parseInt(t.attr("data-buffer"));i<0&&(i=0),i>100&&(i=100),this.buff(i)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break;case"disabled":this.toggleState();break}},destroy:function(){this.element;let t=this.options,i=this.slider,c=i.find(".marker");c.off(e.events.startAll),c.off(e.events.focus),c.off(e.events.blur),c.off(e.events.keydown),c.off(e.events.keyup),i.off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),t.label&&i.prev("label").remove(),i.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={audioDeferred:0,playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:"🔁",stopIcon:"⏹",playIcon:"▶",pauseIcon:"⏸",muteIcon:"🔇",volumeLowIcon:"🔈",volumeMediumIcon:"🔉",volumeHighIcon:"🔊",playlistIcon:"📃",nextIcon:"→",prevIcon:"←",firstIcon:"⇤",lastIcon:"⇥",forwardIcon:"⇉",backwardIcon:"⇇",shuffleIcon:"🔀",randomIcon:"🎲",onPlay:e.noop,onPause:e.noop,onStop:e.noop,onEnd:e.noop,onMetadata:e.noop,onTime:e.noop,onAudioPlayerCreate:e.noop};e.audioPlayerSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroAudioPlayerSetup<"u"&&e.audioPlayerSetup(globalThis.metroAudioPlayerSetup),e.Component("audio-player",{init:function(t,i){return this._super(i,t,o,{preloader:null,player:null,audio:i,stream:null,volume:null,volumeBackup:0,muted:!1}),this},_create:function(){var t=this.element,i=this.options;this._createPlayer(),this._createEvents(),i.autoplay===!0&&this.play(),this._fireEvent("audio-player-create",{element:t,player:this.player})},_createPlayer:function(){var t=this.element,i=this.options,c=this.audio;let m=t.wrap("<div>").addClass("media-player audio-player "+t[0].className);r.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){t.removeAttr(this)}),t.attr("preload","auto"),c.volume=i.volume,i.src!==null&&this._setSource(i.src),t[0].className="",this.player=m,this._createControls()},_setSource:function(t){var i=this.element;i.find("source").remove(),i.removeAttr("src"),Array.isArray(t)?r.each(t,function(){var c=this;c.src!==void 0&&r("<source>").attr("src",c.src).attr("type",c.type!==void 0?c.type:"").appendTo(i)}):i.attr("src",t)},_createControls:function(){var t=this,i=this.element,c=this.options,m=this.elem,b=r("<div>").addClass("controls").addClass(c.clsControls).insertAfter(i),w=r("<div>").addClass("stream").appendTo(b),S=r("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(w),D=r("<div>").addClass("load-audio").appendTo(w),I=r("<div>").addClass("volume").appendTo(b),P=r("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(I),V=r("<div>").addClass("info-box").appendTo(b);c.showInfo!==!0&&V.hide(),D.activity({type:"metro",style:"color"}),D.hide(0),this.preloader=D,e.makePlugin(S,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){m.paused||m.pause()},onStop:function(K){m.seekable.length>0&&(m.currentTime=(t.duration*K/100).toFixed(0)),m.paused&&m.currentTime>0&&m.play()}}),this.stream=S,c.showStream!==!0&&w.hide(),e.makePlugin(P,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:c.volume*100,onChangeValue:function(K){m.volume=K/100}}),this.volume=P,c.showVolume!==!0&&I.hide();var z;c.showLoop===!0&&(z=r("<button>").attr("type","button").addClass("button square loop").html(c.loopIcon).appendTo(b)),c.showPlay===!0&&r("<button>").attr("type","button").addClass("button square play").html(c.playIcon).appendTo(b),c.showStop===!0&&r("<button>").attr("type","button").addClass("button square stop").html(c.stopIcon).appendTo(b),c.showMute===!0&&r("<button>").attr("type","button").addClass("button square mute").html(c.muteIcon).appendTo(b),c.loop===!0&&(z.addClass("active"),i.attr("loop","loop")),this._setVolume(),c.muted&&(t.volumeBackup=m.volume,e.getPlugin(t.volume,"slider").val(0),m.volume=0),V.html("00:00 / 00:00")},_createEvents:function(){var t=this,i=this.element,c=this.options,m=this.elem,b=this.player;i.on("loadstart",function(){t.preloader.fadeIn()}),i.on("loadedmetadata",function(){t.duration=m.duration.toFixed(0),t._setInfo(0,t.duration),f.exec(c.onMetadata,[m,b],i[0])}),i.on("canplay",function(){t._setBuffer(),t.preloader.fadeOut()}),i.on("progress",function(){t._setBuffer()}),i.on("timeupdate",function(){var w=Math.round(m.currentTime*100/t.duration);t._setInfo(m.currentTime,t.duration),e.getPlugin(t.stream,"slider").val(w),f.exec(c.onTime,[m.currentTime,t.duration,m,b],i[0])}),i.on("waiting",function(){t.preloader.fadeIn()}),i.on("loadeddata",function(){}),i.on("play",function(){b.find(".play").html(c.pauseIcon),f.exec(c.onPlay,[m,b],i[0])}),i.on("pause",function(){b.find(".play").html(c.playIcon),f.exec(c.onPause,[m,b],i[0])}),i.on("stop",function(){e.getPlugin(t.stream,"slider").val(0),f.exec(c.onStop,[m,b],i[0])}),i.on("ended",function(){e.getPlugin(t.stream,"slider").val(0),f.exec(c.onEnd,[m,b],i[0])}),i.on("volumechange",function(){t._setVolume()}),b.on(e.events.click,".play",function(){m.paused?t.play():t.pause()}),b.on(e.events.click,".stop",function(){t.stop()}),b.on(e.events.click,".mute",function(){t._toggleMute()}),b.on(e.events.click,".loop",function(){t._toggleLoop()})},_toggleLoop:function(){var t=this.player.find(".loop");t.length!==0&&(t.toggleClass("active"),t.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.audio.volume=this.volumeBackup:(this.volumeBackup=this.audio.volume,this.audio.volume=0),e.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(t,i){this.player.find(".info-box").html(f.secondsToFormattedString(Math.round(t))+" / "+f.secondsToFormattedString(Math.round(i)))},_setBuffer:function(){var t=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;e.getPlugin(this.stream,"slider").buff(t)},_setVolume:function(){var t=this.audio,i=this.player,c=this.options,m=i.find(".mute"),b=t.volume*100;b>1&&b<30?m.html(c.volumeLowIcon):b>=30&&b<60?m.html(c.volumeMediumIcon):b>=60&&b<=100?m.html(c.volumeHighIcon):m.html(c.muteIcon)},play:function(t){t!==void 0&&this._setSource(t),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0,e.getPlugin(this.stream,"slider").val(0)},setVolume:function(t){if(t===void 0)return this.audio.volume;t>1&&(t/=100),this.audio.volume=t,e.getPlugin(this.volume,"slider").val(t*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){var t=JSON.parse(this.element.attr("data-src"));this.play(t)},changeVolume:function(){var t=this.element.attr("data-volume");this.setVolume(t)},changeAttribute:function(t){switch(t){case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){var t=this.element,i=this.player;return t.off("all"),i.off("all"),e.getPlugin(this.stream,"slider").destroy(),e.getPlugin(this.volume,"slider").destroy(),t}})}(Metro,Dom),function(e,r){let f={type:"success",size:16,onBullCreate:e.noop};e.bullSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroBullSetup<"u"&&e.bullSetup(globalThis.metroBullSetup),e.Component("bull",{init:function(o,t){return this._super(t,o,f,{}),this},_create:function(){this._createStructure(),this._fireEvent("bull-create")},_createStructure:function(){let o=this.element,t=this.options,i;switch(t.type.toLowerCase()){case"default":i=`<svg width="${t.size}" height="${t.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"success":i=`<svg width="${t.size}" height="${t.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"pending":i=`<svg width="${t.size}" height="${t.size}" aria-label="currently running" fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="ani-spin"><path fill="none" stroke="#DBAB0A" stroke-width="2" d="M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z" opacity=".5"></path><path fill="#DBAB0A" fill-rule="evenodd" d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z" clip-rule="evenodd"></path><path fill="#DBAB0A" d="M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"></path></svg>`;break;case"fail":i=`<svg width="${t.size}" height="${t.size}" aria-label="failed" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#e5534b" d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>`;break;case"warning":i=`<svg width="${t.size}" height="${t.size}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill="#ff4d00" d="M246.312928,5.62892705 C252.927596,9.40873724 258.409564,14.8907053 262.189374,21.5053731 L444.667042,340.84129 C456.358134,361.300701 449.250007,387.363834 428.790595,399.054926 C422.34376,402.738832 415.04715,404.676552 407.622001,404.676552 L42.6666667,404.676552 C19.1025173,404.676552 7.10542736e-15,385.574034 7.10542736e-15,362.009885 C7.10542736e-15,354.584736 1.93772021,347.288125 5.62162594,340.84129 L188.099293,21.5053731 C199.790385,1.04596203 225.853517,-6.06216498 246.312928,5.62892705 Z M224,272 C208.761905,272 197.333333,283.264 197.333333,298.282667 C197.333333,313.984 208.415584,325.248 224,325.248 C239.238095,325.248 250.666667,313.984 250.666667,298.624 C250.666667,283.264 239.238095,272 224,272 Z M245.333333,106.666667 L202.666667,106.666667 L202.666667,234.666667 L245.333333,234.666667 L245.333333,106.666667 Z" id="Combined-Shape"></path></svg>`;break;case"bulb":i=`<svg width="${t.size}" height="${t.size}" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#ffde21" d="M213.333333,85.3333333 C284.025781,85.3333333 341.333333,142.640885 341.333333,213.333333 C341.333333,260.711239 315.5928,302.077122 277.333732,324.208982 L277.333333,405.333333 L256,426.666667 L234.666667,426.666667 C234.666667,438.448741 225.115408,448 213.333333,448 C201.551259,448 192,438.448741 192,426.666667 L192,426.666667 L170.666667,426.666667 L149.333333,405.333333 L149.332954,324.208993 C111.073876,302.077136 85.3333333,260.711248 85.3333333,213.333333 C85.3333333,142.640885 142.640885,85.3333333 213.333333,85.3333333 Z M234.667665,339.563386 C227.72957,340.727434 220.602209,341.333333 213.333333,341.333333 C206.064458,341.333333 198.937097,340.727434 191.999002,339.563386 L192,384 L234.666667,384 L234.667665,339.563386 Z M96.4250122,307.614237 L119.052429,330.241654 L73.7975952,375.496488 L51.1701782,352.869071 L96.4250122,307.614237 Z M330.241654,307.614237 L375.496488,352.869071 L352.869071,375.496488 L307.614237,330.241654 L330.241654,307.614237 Z M426.666667,197.333333 L426.666667,229.333333 L362.666667,229.333333 L362.666667,197.333333 L426.666667,197.333333 Z M64,197.333333 L64,229.333333 L7.10542736e-15,229.333333 L7.10542736e-15,197.333333 L64,197.333333 Z M352.869071,51.1701782 L375.496488,73.7975952 L330.241654,119.052429 L307.614237,96.4250122 L352.869071,51.1701782 Z M73.7975952,51.1701782 L119.052429,96.4250122 L96.4250122,119.052429 L51.1701782,73.7975952 L73.7975952,51.1701782 Z M229.333333,-1.0658141e-14 L229.333333,64 L197.333333,64 L197.333333,-1.0658141e-14 L229.333333,-1.0658141e-14 Z" id="Combined-Shape"></path></svg>`;break}o.clear().html(i)},changeAttribute:function(o,t){o==="data-type"&&this._createStructure()},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={buttongroupDeferred:0,targets:"button",clsActive:"",requiredButton:!1,mode:e.groupMode.ONE,onButtonClick:e.noop,onButtonGroupCreate:e.noop};e.buttonGroupSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroButtonGroupSetup<"u"&&e.buttonGroupSetup(globalThis.metroButtonGroupSetup),e.Component("button-group",{init:function(t,i){return this._super(i,t,o,{active:null,id:f.elementId("button-group")}),this},_create:function(){var t=this.element;this._createGroup(),this._createEvents(),this._fireEvent("button-group-create",{element:t})},_createGroup:function(){var t=this.element,i=this.options,c,m;t.addClass("button-group"),c=t.find(i.targets),m=t.find(".active"),i.mode===e.groupMode.ONE&&m.length===0&&i.requiredButton===!0&&r(c[0]).addClass("active"),i.mode===e.groupMode.ONE&&m.length>1&&(c.removeClass("active").removeClass(i.clsActive),r(c[0]).addClass("active")),t.find(".active").addClass("js-active").addClass(i.clsActive)},_createEvents:function(){var t=this,i=this.element,c=this.options;i.on(e.events.click,c.targets,function(){var m=r(this);t._fireEvent("button-click",{button:this}),!(c.mode===e.groupMode.ONE&&m.hasClass("active"))&&(c.mode===e.groupMode.ONE?(i.find(c.targets).removeClass(c.clsActive).removeClass("active js-active"),m.addClass("active").addClass(c.clsActive).addClass("js-active")):m.toggleClass("active").toggleClass(c.clsActive).toggleClass("js-active"))})},changeAttribute:function(t){},destroy:function(){var t=this.element,i=this.options;return t.off(e.events.click,i.targets),t}})}(Metro,Dom),function(e,r){let f={spinnerDeferred:0,label:"",step:1,plusIcon:"+",minusIcon:"-",buttonsPosition:"default",defaultValue:0,minValue:null,maxValue:null,fixed:0,repeatThreshold:2e3,hideCursor:!1,clsSpinner:"",clsSpinnerInput:"",clsSpinnerButton:"",clsSpinnerButtonPlus:"",clsSpinnerButtonMinus:"",clsLabel:"",onBeforeChange:e.noop_true,onChange:e.noop,onPlusClick:e.noop,onMinusClick:e.noop,onArrowUp:e.noop,onArrowDown:e.noop,onButtonClick:e.noop,onArrowClick:e.noop,onSpinnerCreate:e.noop};e.spinnerSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroSpinnerSetup<"u"&&e.spinnerSetup(globalThis.metroSpinnerSetup),e.Component("spinner",{init:function(o,t){return this._super(t,o,f,{repeat_timer:!1}),this},_create:function(){var o=this.element;this._createStructure(),this._createEvents(),this._fireEvent("spinner-create",{element:o})},_createStructure:function(){let o=this.element,t=this.options,i=r("<div>").addClass("spinner").addClass("buttons-"+t.buttonsPosition).addClass(o[0].className).addClass(t.clsSpinner),c=r("<button>").attr("type","button").addClass("button spinner-button spinner-button-plus").addClass(t.clsSpinnerButton+" "+t.clsSpinnerButtonPlus).html(t.plusIcon),m=r("<button>").attr("type","button").addClass("button spinner-button spinner-button-minus").addClass(t.clsSpinnerButton+" "+t.clsSpinnerButtonMinus).html(t.minusIcon),b=o.val().trim();if(e.utils.isValue(b)||o.val(0),o[0].className="",i.insertBefore(o),o.appendTo(i).addClass(t.clsSpinnerInput),o.addClass("metro-input"),c.appendTo(i),m.appendTo(i),t.hideCursor===!0&&i.addClass("hide-cursor"),t.label){let w=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(i);if(o.attr("id"))w.attr("for",o.attr("id"));else{let S=Hooks.useId(o[0]);w.attr("for",S),o.attr("id",S)}o.attr("dir")==="rtl"&&w.addClass("rtl")}t.disabled===!0||o.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.closest(".spinner");c.find(".spinner-button");let m,b=function(w){let S=[w?"plus-click":"minus-click",w?"arrow-up":"arrow-down","button-click","arrow-click"],D=+t.val(),I=+t.val(),P=+i.step;w?I+=P:I-=P,o._setValue(I.toFixed(i.fixed),!0),o._fireEvents(S,{curr:D,val:I,elementVal:t.val(),button:w?"plus":"minus"})};c.on(e.events.startAll,".spinner-button",function(w){let S=r(this).hasClass("spinner-button-plus");m=setInterval(function(){b(S)},100)},{passive:!0}),c.on(e.events.stopAll,".spinner-button",function(w){clearInterval(m)},{passive:!0}),c.on(e.events.click,".spinner-button",function(w){let S=r(this).hasClass("spinner-button-plus");b(S)},{passive:!0}),c.on(e.events.click,function(w){r(".focused").removeClass("focused"),c.addClass("focused"),w.preventDefault(),w.stopPropagation()})},_setValue:function(o,t){let i=this.element,c=this.options;e.utils.exec(c.onBeforeChange,[o],i[0])===!0&&(e.utils.isValue(c.maxValue)&&o>Number(c.maxValue)&&(o=Number(c.maxValue)),e.utils.isValue(c.minValue)&&o<Number(c.minValue)&&(o=Number(c.minValue)),i.val(o),this._fireEvent("change",{val:o},!1,!0),t===!0&&i.fire("change",{val:o}))},val:function(o){let t=this,i=this.element,c=this.options;if(!e.utils.isValue(o))return i.val();t._setValue(o.toFixed(c.fixed),!0)},toDefault:function(){let o=this.options,t=e.utils.isValue(o.defaultValue)?Number(o.defaultValue):0;this._setValue(t.toFixed(o.fixed),!0),this._fireEvent("change",{val:t})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(o){let t=this,i=this.element;var c=function(){let m=i.attr("value").trim();e.utils.isValue(m)&&t._setValue(Number(m),!1)};switch(o){case"disabled":this.toggleState();break;case"value":c();break}},destroy:function(){let o=this.element,t=this.options,i=o.closest(".spinner"),c=i.find(".spinner-button");i.off(e.events.click),c.off(e.events.start),c.off(e.events.stop),o.off(e.events.keydown),i.off(e.events.keyup),t.label&&i.prev("label").remove(),i.remove()}}),r(document).on(e.events.click,function(){r(".spinner").removeClass("focused")})}(Metro,Dom),function(e,r){let f={weekStart:null,static:!1,readonly:!1,showGhost:!1,events:null,startContent:"days",showTime:!1,initialTime:null,initialHours:null,initialMinutes:null,labelTimeHours:null,labelTimeMinutes:null,animationContent:!0,animationSpeed:10,calendarDeferred:0,dayBorder:!1,excludeDay:null,prevMonthIcon:"⯇",nextMonthIcon:"⯈",prevYearIcon:"⯇",nextYearIcon:"⯈",compact:!1,wide:!1,widePoint:null,pickerMode:!1,show:null,outside:!0,buttons:"",yearsBefore:100,yearsAfter:100,headerFormat:"dddd, MMM DD",showHeader:!0,showFooter:!0,showWeekNumber:!1,isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,weekNumberClick:!1,multiSelect:!1,special:null,format:METRO_DATE_FORMAT,inputFormat:null,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",clsEventCounter:"",clsWeekend:"",clsCurrentWeek:"",clsCalendarTime:"",clsTime:"",clsTimeHours:"",clsTimeMinutes:"",clsTimeButton:"",clsTimeButtonPlus:"",clsTimeButtonMinus:"",clsSpecial:"",clsEvents:"",clsEvent:"",onCancel:e.noop,onToday:e.noop,onClear:e.noop,onDone:e.noop,onDayClick:e.noop,onDrawDay:e.noop,onDrawMonth:e.noop,onDrawYear:e.noop,onWeekDayClick:e.noop,onWeekNumberClick:e.noop,onMonthChange:e.noop,onYearChange:e.noop,onTimeChange:e.noop,onHoursChange:e.noop,onMinutesChange:e.noop,onCalendarCreate:e.noop};e.calendarSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroCalendarSetup<"u"&&e.calendarSetup(globalThis.metroCalendarSetup),e.Component("calendar",{init:function(o,t){let i=datetime(),c=this._correctDate(datetime());return this._super(t,o,f,{today:c,show:c,current:{year:c.year(),month:c.month(),day:c.day()},preset:[],selected:[],exclude:[],special:[],excludeDay:[],events:[],min:null,max:null,minYear:null,maxYear:null,id:e.utils.elementId("calendar"),time:[i.hour(),i.minute()],content:"days",yearDistance:11,yearGroupStart:c.year()}),this},_create:function(){let o=this.element,t=this.options;this.content=t.startContent,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,o.html("").addClass("calendar "+(t.compact===!0?"compact":"")).addClass(t.clsCalendar),e.utils.isValue(t.initialTime)&&(this.time=t.initialTime.split(":")),e.utils.isValue(t.initialHours)&&e.utils.between(t.initialHours,0,23,!0)&&(this.time[0]=parseInt(t.initialHours)),e.utils.isValue(t.initialMinutes)&&e.utils.between(t.initialMinutes,0,59,!0)&&(this.time[1]=parseInt(t.initialMinutes)),t.dayBorder===!0&&o.addClass("day-border"),e.utils.isValue(t.excludeDay)&&(this.excludeDay=(""+t.excludeDay).toArray(",","int")),e.utils.isValue(t.preset)&&this._dates2array(t.preset,"selected"),e.utils.isValue(t.exclude)&&this._dates2array(t.exclude,"exclude"),e.utils.isValue(t.special)&&this._dates2array(t.special,"special"),e.utils.isValue(t.events)&&this._dates2array(t.events,"events"),this.min=t.minDate?(t.inputFormat?Datetime.from(t.minDate,t.inputFormat):datetime(t.minDate)).align("day"):null,this.max=t.maxDate?(t.inputFormat?Datetime.from(t.maxDate,t.inputFormat):datetime(t.maxDate)).align("day"):null,t.show&&(this.show=(t.show?t.inputFormat?Datetime.from(t.show,t.inputFormat):datetime(t.show):datetime()).align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()}),this._drawCalendar(),this._createEvents(),(t.wide===!0||!e.utils.isNull(t.widePoint)&&e.utils.mediaExist(t.widePoint))&&o.addClass("calendar-wide"),t.ripple===!0&&e.utils.isFunc(o.ripple)!==!1&&o.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:this.options.rippleColor});let i=o.id();i&&e.storage.getItem(`METRO:CALENDAR:${i}:COLLAPSED`,o.hasClass("calendar-collapsed"))&&o.addClass("calendar-collapsed"),this._fireEvent("calendar-create")},_dates2array:function(o,t){let i=this,c=this.options,m;e.utils.isNull(o)||(m=typeof o=="string"?o.toArray():Array.isArray(o)?o:[],r.each(m,function(){let b;try{b=i._correctDate(c.inputFormat?Datetime.from(this,c.inputFormat):datetime(this)).format("YYYY-MM-DD")}catch{return}i[t].push(b)}))},_correctDate:function(o){return datetime(o).addDay(1).align("day").addMinute(new Date().getTimezoneOffset())},_createEvents:function(){let o=this,t=this.element,i=this.options;r(globalThis).on(e.events.resize,function(){i.wide!==!0&&(!e.utils.isNull(i.widePoint)&&e.utils.mediaExist(i.widePoint)?t.addClass("calendar-wide"):t.removeClass("calendar-wide"))},{ns:this.id}),t.on(e.events.click,".button-collapse",function(){let c=t.id();t.toggleClass("calendar-collapsed"),c&&e.storage.setItem(`METRO:CALENDAR:${c}:COLLAPSED`,t.hasClass("calendar-collapsed"))}),t.on(e.events.click,".prev-year-group, .next-year-group",function(){i.static||(r(this).hasClass("prev-year-group")?o.yearGroupStart-=o.yearDistance:o.yearGroupStart+=o.yearDistance,o._drawContent())}),t.on(e.events.click,".prev-month, .next-month, .prev-year, .next-year",function(){let c,m=r(this);i.static||m.hasClass("prev-month")&&(c=datetime(o.current.year,o.current.month-1,1).useLocale(o.locale,!0),c.year()<o.minYear)||m.hasClass("next-month")&&(c=datetime(o.current.year,o.current.month+1,1).useLocale(o.locale,!0),c.year()>o.maxYear)||m.hasClass("prev-year")&&(c=datetime(o.current.year-1,o.current.month,1).useLocale(o.locale,!0),c.year()<o.minYear)||m.hasClass("next-year")&&(c=datetime(o.current.year+1,o.current.month,1).useLocale(o.locale,!0),c.year()>o.maxYear)||(o.current={year:c.year(),month:c.month(),day:c.day()},setTimeout(function(){o._drawContent(),(m.hasClass("prev-month")||m.hasClass("next-month"))&&o._fireEvent("month-change",{current:o.current}),(m.hasClass("prev-year")||m.hasClass("next-year"))&&o._fireEvent("year-change",{current:o.current})},i.ripple?300:1))}),t.on(e.events.click,".button-today",function(){o.toDay(),o._fireEvent("today",{today:o.today.val(),time:o.time})}),t.on(e.events.click,".button-clear",function(){let c=datetime();o.selected=[],o.time=[c.hour(),c.minute()],o.yearGroupStart=c.year(),o._drawContent(),o._fireEvent("clear")}),t.on(e.events.click,".button-cancel",function(){o._drawContent(),o._fireEvent("cancel")}),t.on(e.events.click,".button-done",function(){o._drawContent(),o._fireEvent("done",{selected:o.selected,time:o.time})}),i.weekDayClick===!0&&t.on(e.events.click,".week-days .week-day",function(c){let m,b,w,S=[];if(!(i.static||i.readonly)){m=r(this),b=m.index();for(let D=0;D<7;D++)S.push(b),b+=i.showWeekNumber?8:7;i.multiSelect===!0&&(w=t.find(".day").filter(function(D){let I=r(D);return S.indexOf(I.index())>-1&&!I.hasClass("outside disabled excluded")}),r.each(w,function(){let D=r(this),I=D.data("day");o.selected.indexOf(I)===-1?(o.selected.push(I),D.addClass("selected").addClass(i.clsSelected)):(D.removeClass("selected").removeClass(i.clsSelected),e.utils.arrayDelete(o.selected,I))})),o._fireEvent("week-day-click",{selected:o.selected,day:m[0]}),c.preventDefault(),c.stopPropagation()}}),i.weekNumberClick&&t.on(e.events.click,".week-number",function(c){let m,b,w,S;m=r(this),b=m.text(),w=m.index(),b!=="#"&&(i.static||i.readonly||(i.multiSelect===!0&&(S=t.find(".day").filter(function(D){let I=r(D),P=I.index();return e.utils.between(P,w,w+8,!1)&&!I.hasClass("outside disabled excluded")}),r.each(S,function(){let D=r(this),I=D.data("day");o.selected.indexOf(I)===-1?(o.selected.push(I),D.addClass("selected").addClass(i.clsSelected)):(D.removeClass("selected").removeClass(i.clsSelected),e.utils.arrayDelete(o.selected,I))})),o._fireEvent("week-number-click",{selected:o.selected,num:b,numElement:m[0]}),c.preventDefault(),c.stopPropagation()))}),t.on(e.events.click,".day",function(c){let m=r(this),b,w;if(!(i.static||i.readonly)){if(w=m.data("day"),b=o.selected.indexOf(w),m.hasClass("outside")){w=datetime(w),o.current={year:w.year(),month:w.month(),day:w.day()},o._drawContent(),o._fireEvent("month-change",{current:o.current});return}m.hasClass("disabled")||(i.pickerMode===!0?(o.selected=[w],o.today=datetime(w),o.current.year=o.today.year(),o.current.month=o.today.month(),o.current.day=o.today.day(),o._drawHeader(),o._drawContent()):b===-1?(i.multiSelect===!1&&(t.find(".day").removeClass("selected").removeClass(i.clsSelected),o.selected=[]),o.selected.push(w),m.addClass("selected").addClass(i.clsSelected)):(m.removeClass("selected").removeClass(i.clsSelected),e.utils.arrayDelete(o.selected,w))),o._fireEvent("day-click",{selected:o.selected,day:m[0],time:o.time}),c.preventDefault(),c.stopPropagation()}}),t.on(e.events.click,".curr-month, .header-day",function(c){o.content="months",o._drawContent(),c.preventDefault(),c.stopPropagation()}),t.on(e.events.click,".month",function(c){o.current.month=parseInt(r(this).attr("data-month")),o.content="days",o._drawContent(),o._fireEvent("month-change",{current:o.current}),c.preventDefault(),c.stopPropagation()}),t.on(e.events.click,".curr-year, .header-year",function(c){o.content!=="years"&&(o.content="years",o._drawContent(),c.preventDefault(),c.stopPropagation())}),t.on(e.events.click,".year",function(c){o.current.year=parseInt(r(this).attr("data-year")),o.yearGroupStart=o.current.year,o.content="months",o._drawContent(),o._fireEvent("year-change",{current:o.current}),c.preventDefault(),c.stopPropagation()})},_drawHeader:function(){let o=this.element,t=this.options,i=o.find(".calendar-header");i.length===0&&(i=r("<div>").addClass("calendar-header").addClass(t.clsCalendarHeader).appendTo(o)),i.html(""),r("<div>").addClass("header-year").html(this.today.year()).appendTo(i),r("<div>").addClass("header-day").html(this.today.format(t.headerFormat,this.locale)).appendTo(i);let c=r("<div>").addClass("header-actions").appendTo(i);r("<button>").addClass("square small button-collapse").html(`
                <svg aria-hidden="true" class="caret toggle-collapsed" width="16" height="16" viewBox="0 0 24 24">
                    <path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path>
                </svg>
            `).attr("title",this.strings.label_collapse).appendTo(c),t.showHeader===!1&&i.hide()},_drawFooter:function(){let o=this.element,t=this.options,i=this.strings,c=o.find(".calendar-footer");t.buttons&&(c.length===0&&(c=r("<div>").addClass("calendar-footer").addClass(t.clsCalendarFooter).appendTo(o)),c.html(""),r.each(t.buttons.toArray(","),function(){let m=r("<button>").attr("type","button").addClass(`button button-${this} `+t["cls"+Str.capitalize(this)+"Button"]).html(i[`label_${this}`]).appendTo(c);(this==="cancel"||this==="done")&&m.addClass("js-dialog-close")}),t.showFooter===!1&&c.hide())},_drawTime:function(){let o=this,t=this.element,i=this.options,c=this.strings,m=t.find(".calendar-content"),b=r("<div>").addClass("calendar-time").addClass(i.clsCalendarTime).appendTo(m),w,S,D,I,P=""+this.time[0],V=""+this.time[1],z=function(K){let ye=parseInt(K);r(this).attr("data-time-part")==="hours"?(o.time[0]=ye,o._fireEvent("hours-change",{time:o.time,hours:ye})):(o.time[1]=ye,o._fireEvent("minutes-change",{time:o.time,minutes:ye})),o._fireEvent("time-change",{time:o.time})};b.append(w=r("<div>").addClass("calendar-time__inner")),w.append(I=r("<div>").addClass("calendar-time__inner-row")),I.append(r("<div>").addClass("calendar-time__inner-cell").append(r("<span>").html(str(c.label_hours).capitalize()))),I.append(r("<div>").addClass("calendar-time__inner-cell").append(r("<span>").html(str(c.label_minutes).capitalize()))),b.append(w=r("<div>").addClass("calendar-time__inner spinners").addClass(i.clsTime)),w.append(S=r("<input type='text' data-cls-spinner-input='"+i.clsTimeHours+"' data-time-part='hours' data-buttons-position='right' data-min-value='0' data-max-value='23'>").addClass("hours").addClass(i.compact?"input-small":"input-normal")),w.append(D=r("<input type='text' data-cls-spinner-input='"+i.clsTimeMinutes+"' data-time-part='minutes' data-buttons-position='right' data-min-value='0' data-max-value='59'>").addClass("minutes").addClass(i.compact?"input-small":"input-normal")),P=Str.lpad(P,"0",2),V=Str.lpad(V,"0",2),S.val(P),D.val(V),e.makePlugin(w.find("input[type=text]"),"spinner",{onChange:z,clsSpinnerButton:i.clsTimeButton,clsSpinnerButtonPlus:i.clsTimeButtonPlus,clsSpinnerButtonMinus:i.clsTimeButtonMinus}),i.showTime===!1&&b.hide()},_drawContentDays:function(){let o=this,t=this.element,i=this.options,c=this.strings,m=t.find(".calendar-content"),b,w,S,D=datetime(this.current.year,this.current.month,this.current.day).useLocale(this.locale,!0).calendar(e.utils.isValue(i.weekStart)?i.weekStart:c.weekStart),I=this.show.format("YYYY-MM-DD"),P=datetime();m.length===0&&(m=r("<div>").addClass("calendar-content").addClass(i.clsCalendarContent).appendTo(t)),i.showWeekNumber&&m.addClass("-week-numbers"),m.empty(),b=r("<div>").addClass("calendar-toolbar").appendTo(m),r("<span>").addClass("prev-month").html(i.prevMonthIcon).appendTo(b),r("<span>").addClass("curr-month").html(Datetime.getLocale(this.locale).months[this.current.month]).appendTo(b),r("<span>").addClass("next-month").html(i.nextMonthIcon).appendTo(b),r("<span>").addClass("prev-year").html(i.prevYearIcon).appendTo(b),r("<span>").addClass("curr-year").html(this.current.year).appendTo(b),r("<span>").addClass("next-year").html(i.nextYearIcon).appendTo(b),w=r("<div>").addClass("week-days").appendTo(m),i.showWeekNumber&&r("<span>").addClass("week-number").html("#").appendTo(w),r.each(D.weekdays,function(){r("<span>").addClass("week-day").html(this).appendTo(w)}),S=r("<div>").addClass("days").appendTo(m),r.each(D.days,function(V){let z=this,K=o._correctDate(z),ye=K.month()!==o.current.month;i.showWeekNumber&&V%7===0&&r("<span>").addClass("week-number").html(`<span class="week-number-content">${K.weekNumber(i.weekStart)}</span>`).appendTo(S);let _e=K.day(),Ne=K.format("YYYY-MM-DD"),Ie=r("<span>").addClass("day").html(`<span class="day-content">${_e}</span>`).appendTo(S);if(Ie.attr("data-day",Ne),z===I&&Ie.addClass("showed"),ye&&(Ie.addClass("outside"),i.outside||Ie.empty()),z===D.today&&Ie.addClass("today"),i.showGhost&&K.day()===P.day()&&Ie.addClass("coincidental"),o.special.length?o.special.indexOf(z)===-1?Ie.addClass("disabled excluded").addClass(i.clsExcluded):Ie.addClass(i.clsSpecial):(o.selected.includes(z)&&Ie.addClass("selected").addClass(i.clsSelected),o.exclude.includes(z)&&Ie.addClass("disabled excluded").addClass(i.clsExcluded),o.min&&K.older(o.min)&&Ie.addClass("disabled excluded").addClass(i.clsExcluded),o.max&&K.younger(o.max)&&Ie.addClass("disabled excluded").addClass(i.clsExcluded)),D.weekends.indexOf(z)!==-1&&Ie.addClass(i.clsWeekend),D.week.indexOf(z)!==-1&&Ie.addClass(i.clsCurrentWeek),o.events.length){let Se=r("<div>").addClass("events").addClass(i.clsEvents).appendTo(Ie);r.each(o.events,function(){if(this===z){let Me=r("<div>").addClass("event").addClass(i.clsEvent).appendTo(Se);i.clsEvent||Me.css({backgroundColor:Farbe.Routines.randomColor()})}})}i.animationContent&&Ie.addClass("to-animate"),o._fireEvent("draw-day",{date:K.val(),day:K.day(),month:K.month(),year:K.year(),cell:Ie[0]})}),this._drawTime(),this._animateContent(".day")},_drawContentMonths:function(){let o=this.element,t=this.elem,i=this.options,c=this.locale,m=o.find(".calendar-content"),b,w,S,D=datetime().year(),I=datetime().month();m.length===0&&(m=r("<div>").addClass("calendar-content").addClass(i.clsCalendarContent).appendTo(o)),m.clear(),b=r("<div>").addClass("calendar-toolbar").appendTo(m),r("<span>").addClass("prev-year").html(i.prevYearIcon).appendTo(b),r("<span>").addClass("curr-year").html(this.current.year).appendTo(b),r("<span>").addClass("next-year").html(i.nextYearIcon).appendTo(b),m.append(w=r("<div>").addClass("months"));let P=0;for(let V of Datetime.getLocale(c).months)w.append(S=r("<div>").attr("data-month",P).addClass("month").addClass(P===I&&this.current.year===D?"today":"").html(V)),i.animationContent&&S.addClass("to-animate"),this._fireEvent("draw-month",{month:P,year:this.current.year,cell:S[0]}),P++;e.i18n.updateUI(t,c),this._animateContent(".months .month")},_drawContentYears:function(){let o=this.element,t=this.options,i=o.find(".calendar-content"),c,m,b;i.length===0&&(i=r("<div>").addClass("calendar-content").addClass(t.clsCalendarContent).appendTo(o)),i.clear(),c=r("<div>").addClass("calendar-toolbar").appendTo(i),r("<span>").addClass("prev-year-group").html(t.prevYearIcon).appendTo(c),r("<span>").addClass("curr-year").html(this.yearGroupStart+" - "+(this.yearGroupStart+this.yearDistance)).appendTo(c),r("<span>").addClass("next-year-group").html(t.nextYearIcon).appendTo(c),i.append(m=r("<div>").addClass("years"));for(let w=this.yearGroupStart;w<=this.yearGroupStart+this.yearDistance;w++)m.append(b=r("<div>").attr("data-year",w).addClass("year").addClass(w===this.current.year?"today":"").html(w)),t.animationContent&&b.addClass("to-animate"),(w<t.minYear||w>t.maxYear)&&b.addClass("disabled"),this._fireEvent("draw-year",{year:w,cell:b[0]});this._animateContent(".years .year")},_drawContent:function(){switch(this.content){case"years":this._drawContentYears();break;case"months":this._drawContentMonths();break;default:this._drawContentDays()}e.i18n.updateUI(this.elem,this.locale)},_drawCalendar:function(){let o=this,t=this.elem;setTimeout(function(){o.element.html(""),o._drawHeader(),o._drawContent(),o._drawFooter(),e.i18n.updateUI(t,o.locale)},0)},_animateContent:function(o,t){let i=this.element,c=this.options,m=i.find(".calendar-content");t=t||"to-animate",m.find(o).each(function(b){let w=r(this);setTimeout(function(){w.removeClass(t)},c.animationSpeed*b)})},getTime:function(o=!1){let t,i;return t=Str.lpad(this.time[0],"0",2),i=Str.lpad(this.time[1],"0",2),o?t+":"+i:this.time},setTime:function(o){Array.isArray(o)?this.time=o:this.time=o.split(":"),this._drawCalendar()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},clearSelected:function(){this.selected=[],this._drawContent()},toDay:function(){let o=datetime();this.today=datetime().align("day"),this.current={year:this.today.year(),month:this.today.month(),day:this.today.day()},this.time=[o.hour(),o.minute()],this.yearGroupStart=this.today.year(),this.content="days",this._drawHeader(),this._drawContent()},setExclude:function(o){let t=this.element,i=this.options;e.utils.isNull(o)&&e.utils.isNull(t.attr("data-exclude"))||(i.exclude=o||t.attr("data-exclude"),this._dates2array(i.exclude,"exclude"),this._drawContent())},setPreset:function(o){let t=this.element,i=this.options;e.utils.isNull(o)&&e.utils.isNull(t.attr("data-preset"))||(i.preset=o||t.attr("data-preset"),this._dates2array(i.preset,"selected"),this._drawContent())},setSpecial:function(o){let t=this.element,i=this.options;e.utils.isNull(o)&&e.utils.isNull(t.attr("data-special"))||(i.special=o||t.attr("data-special"),this._dates2array(i.exclude,"special"),this._drawContent())},showDate:function(o){return this.setShow(o)},setShow:function(o){let t=this.element,i=this.options,c=t.attr("data-show");!o&&!c||(i.show=o||c,i.show?typeof i.show=="string"&&i.inputFormat?this.show=Datetime.from(i.show,i.inputFormat):this.show=datetime(i.show):this.show=datetime(),this.show=this.show.align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()},this._drawContent())},setMinDate:function(o){let t=this.element,i=this.options,c=t.attr("data-min-date");!o&&!c||(i.minDate=o||c,this.min=i.minDate?(i.inputFormat?Datetime.from(i.minDate,i.inputFormat):datetime(i.minDate)).align("day"):null,this._drawContent())},setMaxDate:function(o){let t=this.element,i=this.options,c=t.attr("data-max-date");i.maxDate=o||c,this.max=i.maxDate?(i.inputFormat?Datetime.from(i.maxDate,i.inputFormat):datetime(i.maxDate)).align("day"):null,this._drawContent()},changeAttribute:function(o){switch(o){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-special":this.setSpecial();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate();break}},destroy:function(){let o=this.element,t=this.options;o.off(e.events.click,".prev-month, .next-month, .prev-year, .next-year"),o.off(e.events.click,".button.today"),o.off(e.events.click,".button.clear"),o.off(e.events.click,".button.cancel"),o.off(e.events.click,".button.done"),o.off(e.events.click,".week-days .day"),o.off(e.events.click,".days-row .day"),o.off(e.events.click,".curr-month"),o.off(e.events.click,".calendar-months li"),o.off(e.events.click,".curr-year"),o.off(e.events.click,".calendar-years li"),o.off(e.events.click),t.ripple===!0&&o.data("ripple").destroy(),r(globalThis).off(e.events.resize,{ns:this.id}),o.remove()}}),r(document).on(e.events.click,function(){r(".calendar .calendar-years").each(function(){r(this).removeClass("open")}),r(".calendar .calendar-months").each(function(){r(this).removeClass("open")})}),e.defaults.Calendar=f}(Metro,Dom),function(e,r){let f={label:"",value:"",calendarpickerDeferred:0,nullValue:!0,useNow:!1,prepend:"",dialogMode:!1,dialogPoint:640,dialogOverlay:!0,overlayColor:"#000000",overlayAlpha:.5,size:"100%",format:METRO_DATE_FORMAT,inputFormat:null,clearButton:!1,calendarButtonIcon:"📅",clearButtonIcon:"❌",copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsInput:"",clsPrepend:"",clsLabel:"",onDayClick:e.noop,onCalendarPickerCreate:e.noop,onCalendarShow:e.noop,onCalendarHide:e.noop,onChange:e.noop,onPickerChange:e.noop,onMonthChange:e.noop,onYearChange:e.noop};e.calendarPickerSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroCalendarPickerSetup<"u"&&e.calendarPickerSetup(globalThis.metroCalendarPickerSetup),e.Component("calendar-picker",{init:function(o,t){let i=datetime();return this._super(t,o,r.extend({},e.defaults.Calendar,{},f),{value:null,value_date:null,calendar:null,overlay:null,id:e.utils.elementId("calendar-picker"),time:[i.hour(),i.minute()]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("calendar-picker-create",{element:this.element})},_correctTime:function(o){let t=Str.lpad(o[0],"0",2),i=Str.lpad(o[1],"0",2);return`${t}:${i}`},_createStructure:function(){let o=this,t=this.element,i=this.options,c=this.locale,m=r("<div>").addClass("input "+t[0].className+" calendar-picker"),b=r("<div>").addClass("button-group"),w,S,D=r("<div>"),I,P,V,z,K,ye,_e,Ne=r("body");if(t.attr("type","text"),t.attr("autocomplete","off"),t.attr("readonly",!0),e.utils.isValue(i.initialTime)&&(this.time=i.initialTime.trim().split(":")),e.utils.isValue(i.initialHours)&&(this.time[0]=parseInt(i.initialHours)),e.utils.isValue(i.initialMinutes)&&(this.time[1]=parseInt(i.initialMinutes)),I=(""+i.value).trim()!==""?i.value:t.val().trim(),_e=I||"",e.utils.isValue(I)?(P=I.split(" "),this.value=(i.inputFormat?Datetime.from(P[0],i.inputFormat,c):datetime(P[0])).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),P[1]&&(this.time=P[1].trim().split(":"))):i.useNow&&(this.value=datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),this.time=[this.value.hour(),this.value.minute()]),ye=!I&&i.nullValue===!0?"":datetime(o.value).format(i.format,c),i.showTime&&this.time&&ye&&(ye+=" "+this._correctTime(this.time)),t.val(ye),m.insertBefore(t),t.appendTo(m),b.appendTo(m),D.appendTo(i.dialogMode?Ne:m),this.time&&this.time.length&&(z=this.time[0],typeof this.time[1]<"u"&&(K=this.time[1])),V=i.initialTime,i.initialHours&&(z=i.initialHours),i.initialHours&&(K=i.initialMinutes),e.makePlugin(D,"calendar",{showTime:i.showTime,initialTime:V,initialHours:z,initialMinutes:K,clsCalendarTime:i.clsCalendarTime,clsTime:i.clsTime,clsTimeHours:i.clsTimeHours,clsTimeMinutes:i.clsTimeMinutes,clsTimeButton:i.clsTimeButton,clsTimeButtonPlus:i.clsTimeButtonPlus,clsTimeButtonMinus:i.clsTimeButtonMinus,wide:i.wide,widePoint:i.widePoint,format:i.format,inputFormat:i.inputFormat,pickerMode:!0,show:_e,preset:_e,weekStart:i.weekStart,outside:i.outside,buttons:!1,headerFormat:i.headerFormat,clsCalendar:[i.clsCalendar,"calendar-for-picker",i.dialogMode?"dialog-mode":""].join(" "),clsCalendarHeader:i.clsCalendarHeader,clsCalendarContent:i.clsCalendarContent,clsCalendarFooter:"d-none",clsCalendarMonths:i.clsCalendarMonths,clsCalendarYears:i.clsCalendarYears,clsToday:i.clsToday,clsSelected:i.clsSelected,clsExcluded:i.clsExcluded,ripple:i.ripple,rippleColor:i.rippleColor,exclude:i.exclude,minDate:i.minDate,maxDate:i.maxDate,yearsBefore:i.yearsBefore,yearsAfter:i.yearsAfter,special:i.special,events:i.events,showHeader:!1,showFooter:!1,multiSelect:!1,showWeekNumber:i.showWeekNumber,onDayClick:function(Ie,Se,Me,Be){let ze=datetime(Ie[0]).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),kt;o._removeOverlay(),o.value=ze,o.time=Me,kt=ze.format(i.format,c),i.showTime&&(kt+=" "+o._correctTime(Me)),t.val(kt),t.trigger("change"),D.removeClass("open open-up"),D.hide(),o._fireEvent("change",{val:o.value.val(),time:o.time}),o._fireEvent("day-click",{sel:Ie,day:Se,time:Me,el:Be}),o._fireEvent("picker-change",{val:o.value.val(),time:o.time})},onTimeChange:function(Ie){let Se;o.time=Ie,o.value||(o.value=datetime()),Se=o.value.format(i.format,o.locale),i.showTime&&(Se+=" "+o._correctTime(Ie)),t.val(Se),o._fireEvent("change",{val:o.value.val(),time:o.time}),o._fireEvent("picker-change",{val:o.value.val(),time:o.time})},onMonthChange:i.onMonthChange,onYearChange:i.onYearChange}),this.calendar=D,i.clearButton===!0&&(S=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon),S.appendTo(b)),w=r("<button>").addClass("button input-calendar-button").attr("tabindex",-1).attr("type","button").html(i.calendarButtonIcon),w.appendTo(b),i.prepend!==""&&r("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(m),t.attr("dir")==="rtl"&&m.addClass("rtl"),String(i.size).indexOf("%")>-1?m.css({width:i.size}):m.css({width:parseInt(i.size)+"px"}),t[0].className="",i.copyInlineStyles===!0&&r.each(e.utils.getInlineStyles(t),function(Ie,Se){m.css(Ie,Se)}),m.addClass(i.clsPicker),t.addClass(i.clsInput),i.dialogOverlay===!0&&(this.overlay=o._overlay()),i.dialogMode===!0?m.addClass("dialog-mode"):e.utils.media("(max-width: "+i.dialogPoint+"px)")&&(m.addClass("dialog-mode"),this.calendar.addClass("dialog-mode")),i.label){let Ie=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(m);if(t.attr("id"))Ie.attr("for",t.attr("id"));else{let Se=Hooks.useId(t[0]);Ie.attr("for",Se),t.attr("id",Se)}t.attr("dir")==="rtl"&&Ie.addClass("rtl")}t.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.parent(),m=c.find(".input-clear-button"),b=this.calendar,w=e.getPlugin(b[0],"calendar"),S=this.calendar;r(globalThis).on(e.events.resize,function(){i.dialogMode!==!0&&(e.utils.media("(max-width: "+i.dialogPoint+"px)")?(c.addClass("dialog-mode"),S.appendTo("body").addClass("dialog-mode")):(c.removeClass("dialog-mode"),S.appendTo(c).removeClass("dialog-mode")))},{ns:this.id}),m.length>0&&m.on(e.events.click,function(D){t.val("").trigger("change").blur(),o.value=null,D.preventDefault(),D.stopPropagation()}),c.on(e.events.click,"button, input",function(D){let I=o.value?o.value:datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),P=I.format("YYYY/MM/DD");I.align("day"),b.hasClass("open")===!1&&b.hasClass("open-up")===!1?(r(".calendar-picker .calendar").removeClass("open open-up").hide(),w.setPreset([P]),w.setShow(I),c.hasClass("dialog-mode")&&o.overlay.appendTo(r("body")),b.addClass("open"),i.openMode==="auto"?(e.utils.inViewport(b[0])||b.addClass("open-up"),e.utils.inViewport(b[0])||b.removeClass("open-up")):i.openMode==="up"&&b.addClass("open-up"),o._fireEvent("calendar-show",{calendar:b})):(o._removeOverlay(),b.removeClass("open open-up"),o._fireEvent("calendar-hide",{calendar:b})),D.preventDefault(),D.stopPropagation()}),t.on(e.events.blur,function(){c.removeClass("focused")}),t.on(e.events.focus,function(){c.addClass("focused")}),t.on(e.events.change,function(){e.utils.exec(i.onChange,[o.value.val()],t[0])}),c.on(e.events.click,function(D){D.preventDefault(),D.stopPropagation()})},_overlay:function(){let o=this.options,t=r("<div>");return t.addClass("overlay for-calendar-picker").addClass(o.clsOverlay),o.overlayColor==="transparent"?t.addClass("transparent"):t.css({background:Farbe.Routines.toRGBA(o.overlayColor,o.overlayAlpha)}),t},_removeOverlay:function(){r("body").find(".overlay.for-calendar-picker").remove()},clear:function(){this.value=datetime(),this.time=[datetime().hour(),datetime().minute()],this.element.val("")},val:function(o,t){let i=this.element,c=this.options,m;if(arguments.length===0||e.utils.isNull(o))return{date:this.value.val(),time:this.time};if(o==="")return this.clear();t&&(c.inputFormat=t);let b=o.split(" ");this.value=c.inputFormat?Datetime.from(b[0],c.inputFormat,this.locale):datetime(b[0]),b[1]&&(this.time=b[1].trim().split(":")),this.value.align("day"),e.getPlugin(this.calendar,"calendar").setTime(this.time),m=this.value.format(c.format),c.showTime&&this.time&&m&&(m+=" "+this._correctTime(this.time)),i.val(m),i.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},getTime:function(o=!1){let t,i;return t=Str.lpad(this.time[0],"0",2),i=Str.lpad(this.time[1],"0",2),o?t+":"+i:this.time},changeAttribute:function(o,t){let i=this,c=e.getPlugin(this.calendar[0],"calendar");switch(o){case"value":i.val(t);break;case"disabled":this.toggleState();break;case"data-special":c.setSpecial(t);break;case"data-exclude":c.setExclude(t);break;case"data-min-date":c.setMinDate(t);break;case"data-max-date":c.setMaxDate(t);break;case"data-value":i.val(t);break}},destroy:function(){let o=this.element,t=this.options,i=o.parent(),c=i.find(".input-clear-button");r(globalThis).off(e.events.resize,{ns:this.id}),c.off(e.events.click),i.off(e.events.click,"button, input"),o.off(e.events.blur),o.off(e.events.focus),o.off(e.events.change),e.getPlugin(this.calendar,"calendar").destroy(),t.label&&i.prev("label").remove(),i.remove()}}),r(document).on(e.events.click,".overlay.for-calendar-picker",function(){r(this).remove(),r(".calendar-for-picker.open").removeClass("open open-up")}),r(document).on(e.events.click,function(){r(".calendar-picker .calendar").removeClass("open open-up")})}(Metro,Dom),function(e,r){let f=["slide","slide-v","fade","switch","zoom","swirl"],o={carouselDeferred:0,autoStart:!1,width:"100%",height:"16/9",effect:f[0],effectFunc:"linear",direction:"left",duration:300,period:5e3,stopOnMouse:!0,controls:!0,controlsOnMouse:!1,controlsOutside:!1,controlPrev:"&larr;",controlNext:"&rarr;",bullets:!0,bulletsStyle:"square",bulletsSize:"default",bulletsPosition:"default",clsCarousel:"",clsSlides:"",clsSlide:"",clsControls:"",clsControlNext:"",clsControlPrev:"",clsBullets:"",clsBullet:"",clsBulletOn:"",clsThumbOn:"",onStop:e.noop,onStart:e.noop,onPlay:e.noop,onSlideClick:e.noop,onBulletClick:e.noop,onThumbClick:e.noop,onMouseEnter:e.noop,onMouseLeave:e.noop,onNextClick:e.noop,onPrevClick:e.noop,onSlideShow:e.noop,onSlideHide:e.noop,onCarouselCreate:e.noop};e.carouselSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroCarouselSetup<"u"&&e.carouselSetup(globalThis.metroCarouselSetup),e.Component("carousel",{init:function(t,i){return this._super(i,t,o,{height:0,width:0,slides:[],current:null,currentIndex:null,dir:"left",interval:!1,isAnimate:!1,id:e.utils.elementId("carousel")}),this},_create:function(){let t=this.element,i=this.options,c=t.find(".slide"),m=t.find(".slides");this.dir=this.options.direction,t.addClass("carousel").addClass(i.clsCarousel),t.css({maxWidth:i.width}),i.controlsOutside===!0&&t.addClass("controls-outside"),m.length===0&&(m=r("<div>").addClass("slides").appendTo(t),c.appendTo(m)),c.addClass(i.clsSlides),c.length>0&&(this._createSlides(),this._createControls(),this._createBullets(),this._createEvents(),this._resize(),i.controlsOnMouse===!0&&(t.find("[class*=carousel-switch]").fadeOut(0),t.find(".carousel-bullets").fadeOut(0)),i.autoStart===!0?this._start():this._fireEvent("slide-show",{current:this.slides[this.currentIndex][0],prev:void 0})),this._fireEvent("carousel-create",{element:t})},_start:function(){let t=this,i=this.element,c=this.options,m=c.period,b=this.slides[this.currentIndex];b.data("period")!==void 0&&(m=b.data("period")),!(this.slides.length<=1)&&(this.interval===!1&&(this.interval=setTimeout(function(){let w=c.direction==="left"?"next":"prior";t._slideTo(w,!0)},m)),this._fireEvent("start",{element:i}))},_stop:function(){clearInterval(this.interval),this.interval=!1},_resize:function(){let t=this.element,i=this.options,c=t.outerWidth(),m,b=[];["16/9","21/9","4/3"].indexOf(i.height)>-1?m=e.utils.aspectRatioH(c,i.height):String(i.height).indexOf("@")>-1?(b=i.height.substring(1).toArray("|"),r.each(b,function(){let w=this.toArray(",");globalThis.matchMedia(w[0]).matches&&(["16/9","21/9","4/3"].indexOf(w[1])>-1?m=e.utils.aspectRatioH(c,w[1]):m=parseInt(w[1]))})):m=parseInt(i.height),t.css({height:m})},_createSlides:function(){let t=this,i=this.element,c=this.options,m=i.find(".slide");r.each(m,function(b){let w=r(this);if(w.data("cover")!==void 0&&w.css({backgroundImage:"url("+w.data("cover")+")"}),b!==0)switch(c.effect){case"switch":case"slide":w.css("left","100%");break;case"slide-v":w.css("top","100%");break;case"fade":case"zoom":case"swirl":w.css("opacity","0");break}else w.addClass("active-slide");w.addClass(c.clsSlide),t.slides.push(w)}),this.currentIndex=0,this.current=this.slides[this.currentIndex]},_createControls:function(){let t=this.element,i=this.options,c,m;i.controls!==!1&&(c=r("<span>").addClass("carousel-switch-next").addClass(i.clsControls).addClass(i.clsControlNext).html("<div></div>"),m=r("<span>").addClass("carousel-switch-prev").addClass(i.clsControls).addClass(i.clsControlPrev).html("<div></div>"),i.controlNext&&c.children("div").html(i.controlNext),i.controlPrev&&m.children("div").html(i.controlPrev),c.appendTo(t),m.appendTo(t))},_createBullets:function(){let t=this.element,i=this.options,c,m;if(i.bullets!==!1){for(c=r("<div>").addClass("carousel-bullets").addClass(i.bulletsSize+"-size").addClass("bullet-style-"+i.bulletsStyle).addClass(i.clsBullets),i.bulletsPosition==="default"||i.bulletsPosition==="center"?c.addClass("flex-justify-center"):i.bulletsPosition==="left"?c.addClass("flex-justify-start"):c.addClass("flex-justify-end"),m=0;m<this.slides.length;m++){let b=r("<span>").addClass("carousel-bullet").addClass(i.clsBullet).data("slide",m);m===0&&b.addClass("bullet-on").addClass(i.clsBulletOn),b.appendTo(c)}c.appendTo(t)}},_createEvents:function(){let t=this,i=this.element,c=this.options;i.on(e.events.click,".carousel-bullet",function(){let m=r(this);t.isAnimate===!1&&(t._slideToSlide(m.data("slide")),t._fireEvent("bullet-click",{bullet:m}))}),i.on(e.events.click,".carousel-switch-next",function(){t.isAnimate===!1&&(t._slideTo("next",!1),t._fireEvent("next-click",{button:this}))}),i.on(e.events.click,".carousel-switch-prev",function(){t.isAnimate===!1&&(t._slideTo("prev",!1),t._fireEvent("prev-click",{button:this}))}),c.stopOnMouse===!0&&c.autoStart===!0&&(i.on(e.events.enter,function(){t._stop(),t._fireEvent("mouse-enter",{element:i},!1,!0)}),i.on(e.events.leave,function(){t._start(),t._fireEvent("mouse-leave",{element:i},!1,!0)})),c.controlsOnMouse===!0&&(i.on(e.events.enter,function(){i.find("[class*=carousel-switch]").fadeIn(),i.find(".carousel-bullets").fadeIn()}),i.on(e.events.leave,function(){i.find("[class*=carousel-switch]").fadeOut(),i.find(".carousel-bullets").fadeOut()})),i.on(e.events.click,".slide",function(){let m=r(this);t._fireEvent("slide-click",{slide:m})}),r(globalThis).on(e.events.resize,function(){t._resize()},{ns:this.id})},_slideToSlide:function(t){let i=this.element,c=this.options,m,b,w;this.slides[t]!==void 0&&this.currentIndex!==t&&(w=t>this.currentIndex?"next":"prev",m=this.slides[this.currentIndex],b=this.slides[t],this.currentIndex=t,this._effect(m,b,c.effect,w),i.find(".carousel-bullet").removeClass("bullet-on").removeClass(c.clsBulletOn),i.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(c.clsBulletOn))},_slideTo:function(t,i){let c=this.element,m=this.options,b,w;t===void 0&&(t="next"),b=this.slides[this.currentIndex],t==="next"?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1)),w=this.slides[this.currentIndex],this._effect(b,w,m.effect,t,i),c.find(".carousel-bullet").removeClass("bullet-on").removeClass(m.clsBulletOn),c.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(m.clsBulletOn)},_effect:function(t,i,c,m,b){let w=this,S=this.options,D=S.duration,I,P=S.effectFunc,V=S.period,z=function(K,ye,_e,Ne){e.Effects[K](ye[0],_e[0],Ne)};i.data("duration")!==void 0&&(D=i.data("duration")),i.data("effectFunc")!==void 0&&(P=i.data("effectFunc")),c==="switch"&&(D=0),t.stop(!0),i.stop(!0),this.isAnimate=!0,setTimeout(function(){w.isAnimate=!1},D+100),c==="slide"?I=m==="next"?"slideLeft":"slideRight":c==="slide-v"?I=m==="next"?"slideUp":"slideDown":I=c,f.includes(c)||(I="switch"),z(I,t,i,{duration:D,ease:P}),t.removeClass("active-slide"),i.addClass("active-slide"),setTimeout(function(){w._fireEvent("slide-show",{current:i[0],prev:t[0]})},D),setTimeout(function(){w._fireEvent("slide-hide",{current:t[0],next:i[0]})},D),b===!0&&(i.data("period")!==void 0&&(V=i.data("period")),this.interval=setTimeout(function(){let K=S.direction==="left"?"next":"prior";w._slideTo(K,!0)},V))},toSlide:function(t){this._slideToSlide(t)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},stop:function(){clearInterval(this.interval),this._fireEvent("stop")},play:function(){this._start(),this._fireEvent("play")},setEffect:function(t){let i=this.element,c=this.options,m=i.find(".slide");f.includes(t)&&(c.effect=t,m.removeStyleProperty("transform").css({top:0,left:0}))},changeAttribute:function(t,i){t==="data-effect"&&this.setEffect(i)},destroy:function(){let t=this.element,i=this.options;return t.off(e.events.click,".carousel-bullet"),t.off(e.events.click,".carousel-switch-next"),t.off(e.events.click,".carousel-switch-prev"),i.stopOnMouse===!0&&i.autoStart===!0&&(t.off(e.events.enter),t.off(e.events.leave)),i.controlsOnMouse===!0&&(t.off(e.events.enter),t.off(e.events.leave)),t.off(e.events.click,".slide"),r(globalThis).off(e.events.resize,{ns:this.id}),t}})}(Metro,Dom),function(e,r){var f=e.utils,o={charmsDeferred:0,position:"right",opacity:1,clsCharms:"",onCharmCreate:e.noop,onOpen:e.noop,onClose:e.noop,onToggle:e.noop};e.charmsSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroCharmsSetup<"u"&&e.charmsSetup(globalThis.metroCharmsSetup),e.Component("charms",{init:function(t,i){return this._super(i,t,o,{origin:{background:""}}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("charm-create",{element:t})},_createStructure:function(){var t=this.element,i=this.options;t.addClass("charms").addClass(i.position+"-side").addClass(i.clsCharms),this.origin.background=t.css("background-color"),t.css({backgroundColor:Farbe.Routines.toRGBA(f.getStyleOne(t,"background-color"),i.opacity)})},_createEvents:function(){},open:function(){var t=this.element;t.addClass("open"),this._fireEvent("open")},close:function(){var t=this.element;t.removeClass("open"),this._fireEvent("close")},toggle:function(){var t=this.element;t.hasClass("open")===!0?this.close():this.open(),this._fireEvent("toggle")},opacity:function(t){var i=this.element,c=this.options;if(t===void 0)return c.opacity;var m=Math.abs(parseFloat(t));m<0||m>1||(c.opacity=m,i.css({backgroundColor:Farbe.Routines.toRGBA(f.getStyleOne(i,"background-color"),m)}))},changeOpacity:function(){var t=this.element;this.opacity(t.attr("data-opacity"))},changeAttribute:function(t){switch(t){case"data-opacity":this.changeOpacity();break}},destroy:function(){return this.element}}),e.charms={check:function(t){return f.isMetroObject(t,"charms")===!1?(console.warn("Element is not a charms component"),!1):!0},isOpen:function(t){if(this.check(t)!==!1)return r(t).hasClass("open")},open:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").open()},close:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").close()},toggle:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").toggle()},closeAll:function(){r("[data-role*=charms]").each(function(){e.getPlugin(this,"charms").close()})},opacity:function(t,i){this.check(t)!==!1&&e.getPlugin(t,"charms").opacity(i)}}}(Metro,Dom),function(e,r){let f="[data-role-dropmenu], [data-role-dropdown]",o='<svg class="dropdown-caret" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',t={dropdownDeferred:0,dropFilter:null,toggleElement:null,align:"left",noClose:!1,duration:50,openMode:"auto",openFunc:"show",closeFunc:"hide",height:"auto",onDrop:e.noop,onUp:e.noop,onDropdownCreate:e.noop};e.dropdownSetup=function(i){t=r.extend({},t,i)},typeof globalThis.metroDropdownSetup<"u"&&e.dropdownSetup(globalThis.metroDropdownSetup),e.Component("dropdown",{init:function(i,c){return this._super(c,i,t,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){let i=this,c=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:c}),c.hasClass("open")&&(c.removeClass("open"),setTimeout(function(){i.open(!0)},0))},_toggle:function(){let i=this.element,c=i.siblings(".menu-toggle, .dropdown-toggle, a");if(c.length===0&&(c=i.prev(),c.length===0))throw new Error("Menu toggle not found");return c[0]},_createStructure:function(){let i=this.element,c=this.options,m=i.parents("[data-role-dropdown]").length,b;c.openMode==="up"&&i.addClass("drop-up"),b=c.toggleElement?r(c.toggleElement):r(this._toggle()),b.length&&b.append(o),this.displayOrigin=e.utils.getStyleOne(i,"display"),c.height!=="auto"&&i.css({height:c.height,"overflow-y":"auto"}),i.css("display","none"),this.toggle=b,this.level=m},_createEvents:function(){let i=this,c=this.element,m=this.options,b=this.toggle,w=c.parent();b.on(e.events.click,function(S){if(r(".active-container").removeClass("active-container"),c.css("display")!=="none"&&!c.hasClass("keep-open"))i.close(!0,c);else{if(r(f).each(function(D,I){!c.parents("[data-role-dropdown]").is(I)&&!r(I).hasClass("keep-open")&&r(I).css("display")!=="none"&&(e.utils.isValue(m.dropFilter)?r(I).closest(m.dropFilter).length>0&&i.close(!0,I):i.close(!0,I))}),c.hasClass("horizontal")){c.css({visibility:"hidden",display:"block"});let D=0;r.each(c.children("li"),function(){D+=r(this).outerWidth(!0)}),c.css({visibility:"visible",display:"none"}),c.css("width",D+2)}i.open(!1,c),w.addClass("active-container")}S.preventDefault(),S.stopPropagation()}),m.noClose===!0&&c.addClass("keep-open").on(e.events.click,function(S){S.stopPropagation()}),r(c).find("li.disabled a").on(e.events.click,function(S){S.preventDefault()})},_close:function(i,c){i=r(i);let m=e.getPlugin(i,"dropdown"),b=m.toggle,w=m.options,S=w.closeFunc;b.removeClass("active-toggle").removeClass("active-control"),m.element.parent().removeClass("active-container"),c&&(S="hide"),i[S](c?0:w.duration,function(){m._fireEvent("close"),m._fireEvent("up"),w.openMode==="auto"&&m.element.removeClass("drop-up drop-as-dialog")}),this.isOpen=!1},_open:function(i,c){let m=e.getPlugin(i,"dropdown"),b=m.options,w=b.openFunc;m.toggle.addClass("active-toggle").addClass("active-control"),m.element.parent().addClass("active-container"),m.element[w](c?0:b.duration,function(){let S=this,D=r(this),I=e.utils.viewportOutByWidth(S),P=e.utils.viewportOutByHeight(S);b.openMode==="auto"&&(P&&D.addClass("drop-up"),I&&D.addClass("place-right"),e.utils.viewportOut(S)&&D.removeClass("drop-up place-right").addClass("drop-as-dialog")),m._fireEvent("open"),m._fireEvent("drop")}),this.isOpen=!0},close:function(i,c){this._close(c||this.element,i)},open:function(i,c){this._open(c||this.element,i)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:function(){},destroy:function(){this.toggle.off(e.events.click)}}),r(document).on(e.events.click,function(){r(f).each(function(){let i=r(this);if(i.hasClass("keep-open")||i.hasClass("stay-open")||i.hasClass("ignore-document-click"))return;let c=e.getPlugin(i,"dropdown"),m=e.getPlugin(i,"dropmenu");c&&c.close(),m&&m.close()})})}(Metro,Dom),function(e,r){let f={id:"",label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"❌",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"",filter:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,openMode:"auto",showGroupName:!1,shortTag:!0,source:null,sourceMethod:"GET",sourceType:"json",filterSource:null,filterThreshold:500,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemAction:"",clsLabel:"",clsGroupName:"",clsFilterInput:"",onClear:e.noop,onChange:e.noop,onUp:e.noop,onDrop:e.noop,onItemSelect:e.noop,onItemDeselect:e.noop,onSelectCreate:e.noop,onData:o=>o};e.selectSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroSelectSetup<"u"&&e.selectSetup(globalThis.metroSelectSetup),e.Component("select",{init:function(o,t){return this._super(t,o,f,{list:null,placeholder:null,observer:null}),this},_create:function(){let o=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:o})},_setPlaceholder:function(){let o=this.element,t=this.options,i=o.siblings(".select-input");t.usePlaceholder===!0&&(!e.utils.isValue(o.val())||o.val()==t.emptyValue)&&i.html(t.placeholder||this.strings.label_select_more)},_addTag:function(o,t){let i=this.element,c=this.options,m,b,w=i.closest(".select"),S="<span class='title'>"+o+"</span>";return m=r("<div>").addClass("tag").addClass(c.shortTag?"short-tag":"").addClass(c.clsSelectedItem).html(S).data("option",t),r("<span>").addClass("action unselect-option").addClass(c.clsSelectedItemAction).html("&times;").appendTo(m),w.hasClass("input-large")?b="large":w.hasClass("input-small")&&(b="small"),m.addClass(b),m},_addOption:function(o,t,i,c,m){let b=r(o),w,S,D=this.element,I=this.options,P=e.utils.isValue(b.attr("data-template"))?b.attr("data-template").replace("$1",o.text):o.text,V=b.attr("data-display");w=r("<li>").addClass(I.clsOption).data("option",o).attr("data-text",o.text).attr("data-value",o.value?o.value:""),S=r("<a>").html(P);let z=b.attr("data-icon");if(z&&S.prepend(r("<span>").addClass("icon").html(z)),V&&(w.attr("data-display",V),P=V),w.addClass(o.className),w.data("group",m),b.is(":disabled")&&w.addClass("disabled"),b.is(":selected")){let K="";I.showGroupName&&m&&(K=`&nbsp;<span class='selected-item__group-name ${I.clsGroupName}'>${m}</span>`),c?(w.addClass("d-none"),i.append(this._addTag(S.html()+K,w))):(P=S.html()+K,D.val(o.value),i.html(P),D.fire("change",{val:o.value}),w.addClass("active"))}w.append(S).appendTo(t)},_addOptionGroup:function(o,t,i,c){let m=this,b=this.options,w=r(o);r("<li>").html(o.label).addClass("group-title").addClass(b.clsOptionGroup).appendTo(t),r.each(w.children(),function(){m._addOption(this,t,i,c,o.label)})},_createOptions:function(){let o=this,t=this.element,i=this.options,c=t.parent().find("ul").empty(),m=t.find("option[selected]").length>0,b=t[0].multiple,w=t.siblings(".select-input");t.siblings(".select-input").empty(),i.addEmptyValue===!0&&t.prepend(r("<option "+(m?"":"selected")+" value='"+i.emptyValue+"' class='d-none'></option>")),r.each(t.children(),function(){this.tagName==="OPTION"?o._addOption(this,c,w,b,null):this.tagName==="OPTGROUP"&&o._addOptionGroup(this,c,w,b)})},_createSelect:function(){return O(this,null,function*(){let o=this.element,t=this.options,i=o.wrap("<label>"),c=o[0].multiple,m=Hooks.useId(i[0]),b=r("<div>").addClass("button-group"),w,S,D,I,P,V,z=e.utils.elementId("select-focus-trigger"),K=r("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",z);if(this.placeholder=r("<span>").addClass("placeholder").html(t.placeholder),i.attr("id",t.id?t.id:m).attr("for",z),i[0].className=e.utils.classNames(o[0].className,"input-"+t.size,"select",t.clsSelect),V=r("<span>").addClass("dropdown-toggle"),V.appendTo(i),c&&i.addClass("multiple"),b.appendTo(i),K.appendTo(i),w=r("<div>").addClass("select-input").addClass(t.clsSelectInput).attr("name","__"+m+"__"),S=r("<div>").addClass("drop-container").addClass(t.clsDropContainer),t.dropFullSize===!1?t.dropWidth&&S.css({width:+t.dropWidth}):i.addClass("drop-full-size"),D=r("<div>").appendTo(S),I=r("<ul>").addClass("option-list").addClass(t.clsDropList).css({"max-height":t.dropHeight}),P=r(`<input type='text' data-role='input' data-clear-button-icon="${t.clearButtonIcon}">`).attr("placeholder",t.filterPlaceholder||this.strings.label_filter+"...").appendTo(D),P.addClass(t.clsFilterInput),i.append(w),i.append(S),S.append(D),t.filter!==!0&&D.hide(),S.append(I),t.source&&(yield this.fetch(t.source,{method:t.sourceMethod||"GET",headers:{"Content-Type":`application/${t.sourceType||"json"}`}})),this._createOptions(),this._setPlaceholder(),this._createDroppable(S),this.list=I,t.clearButton===!0&&!o[0].readOnly?r("<button>").addClass("button input-clear-button").addClass(t.clsClearButton).attr("tabindex",-1).attr("type","button").html(t.clearButtonIcon).appendTo(b):b.addClass("d-none"),t.prepend!==""&&!c&&r("<div>").html(t.prepend).addClass("prepend").addClass(t.clsPrepend).appendTo(i),t.append!==""&&!c&&r("<div>").html(t.append).addClass("append").addClass(t.clsAppend).appendTo(i),o.attr("dir")==="rtl"&&i.addClass("rtl").attr("dir","rtl"),t.label){let ye=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(i);o.attr("id")?ye.attr("for",o.attr("id")):ye.attr("for",z),o.attr("dir")==="rtl"&&ye.addClass("rtl")}o.is(":disabled")?this.disable():this.enable(),this.observer=new MutationObserver(this._updateSelect.bind(this)),this.observer.observe(o[0],{childList:!0,subtree:!0})})},_createDroppable:function(o){let t=this,i=this.options,c=o.find("input"),m=this.element.closest(".select"),b=o.siblings(".dropdown-caret"),w=o.find("ul");e.makePlugin(o,"dropdown",{dropFilter:".select",duration:i.duration,toggleElement:[m],openMode:i.openMode,onDrop:function(){let S,D;b.addClass("active-toggle"),S=r(".select .drop-container"),r.each(S,function(){let I=r(this);if(I.is(o))return;let P=e.getPlugin(I,"dropdown");P&&P.close&&P.close()}),c.val("").trigger(e.events.keyup),D=w.find("li.active").length>0?r(w.find("li.active")[0]):void 0,D!==void 0&&(w[0].scrollTop=D.position().top-(w.height()-D.height())/2),t._fireEvent("drop",{list:w[0]})},onUp:function(){b.removeClass("active-toggle"),t._fireEvent("up",{list:w[0]})}})},_updateSelect:function(o){for(let t of o)t.type==="childList"&&(t.addedNodes.length||t.removedNodes.length)&&this._createOptions()},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.closest(".select"),m=c.find(".drop-container"),b=t.siblings(".select-input"),w=m.find("input"),S=m.find("ul"),D=c.find(".input-clear-button"),I=c.find(".select-focus-trigger");I.on("focus",function(){c.addClass("focused")}),I.on("blur",function(){c.removeClass("focused")}),D.on(e.events.click,function(V){t.val(i.emptyValue),t[0].multiple&&S.find("li").removeClass("d-none"),b.clear(),o._setPlaceholder(),V.preventDefault(),V.stopPropagation(),o._fireEvent("clear"),o._fireEvent("change",{selected:o.getSelected()})}),t.on(e.events.change,function(){o._setPlaceholder()}),c.on(e.events.click,function(){r(".focused").removeClass("focused"),c.addClass("focused")}),b.on(e.events.click,function(){r(".focused").removeClass("focused"),c.addClass("focused")}),S.on(e.events.click,"li",function(V){if(r(this).hasClass("group-title")){V.preventDefault(),V.stopPropagation();return}let z=r(this),K=z.attr("data-display"),ye=z.data("value"),_e=z.data("group"),Ne=K||z.children("a").html(),Ie,Se=z.data("option"),Me=t.find("option");i.showGroupName&&_e&&(Ne+="&nbsp;<span class='selected-item__group-name "+i.clsGroupName+"'>"+_e+"</span>"),t[0].multiple?(z.addClass("d-none"),b.append(o._addTag(Ne,z))):(S.find("li.active").removeClass("active").removeClass(i.clsOptionActive),z.addClass("active").addClass(i.clsOptionActive),b.html(Ne),e.getPlugin(m,"dropdown").close()),r.each(Me,function(){this===Se&&(this.selected=!0)}),o._fireEvent("item-select",{val:ye,option:Se,leaf:z[0]}),Ie=o.getSelected(),o._fireEvent("change",{selected:Ie})}),b.on("click",".tag .action",function(V){let z=r(this).closest(".tag"),K=z.data("option"),ye=K.data("option"),_e;K.removeClass("d-none"),r.each(t.find("option"),function(){this===ye&&(this.selected=!1)}),z.remove(),o._fireEvent("item-deselect",{option:ye}),_e=o.getSelected(),o._fireEvent("change",{selected:_e}),V.preventDefault(),V.stopPropagation()});let P=Hooks.useDebounce(V=>O(this,null,function*(){this.element;let z=this.options,K=this.list,ye=V.target.value.toLowerCase(),_e=`${z.filterSource}${ye}`;if(z.filterSource)yield this.fetch(_e,{method:z.sourceMethod||"GET",headers:{"Content-Type":`application/${z.sourceType||"json"}`}},!0);else{let Ne=K.find("li"),Ie,Se,Me;for(Ie=0;Ie<Ne.length;Ie++)r(Ne[Ie]).hasClass("group-title")||(Se=Ne[Ie].getElementsByTagName("a")[0],Me=Se.innerHTML||Se.innerText,Me.toLowerCase().includes(ye)?Ne[Ie].style.display="":Ne[Ie].style.display="none")}}),i.filterThreshold);w.on(e.events.keyup,P.bind(this)),w.on(e.events.click,function(V){V.preventDefault(),V.stopPropagation()}),m.on(e.events.click,function(V){V.preventDefault(),V.stopPropagation()})},_clearOptions:function(){this.element.clear(),this.list.clear()},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(o){let t=this.element,i=t.find("option"),c=t.closest(".select"),m;r.each(i,function(){this.selected=e.utils.isNull(o)?!1:this.defaultSelected}),this.list.find("li").remove(),c.find(".select-input").html(""),this._createOptions(),m=this.getSelected(),this._fireEvent("change",{selected:m})},getSelected:function(){let o=this.element,t=[];return o.find("option").each(function(){this.selected&&t.push(this.value)}),t},val:function(o){let t=this,i=this.element,c=this.options,m=i.siblings(".select-input"),b=i.find("option"),w=this.list.find("li"),S=[],D=!!i.attr("multiple"),I,P,V,z,K,ye,_e;if(e.utils.isNull(o))return r.each(b,function(){this.selected&&S.push(this.value)}),D?S:S[0];r.each(b,function(){this.selected=!1}),w.removeClass("active").removeClass(c.clsOptionActive),m.html(""),Array.isArray(o)===!1&&(o=[o]),r.each(o,function(){for(P=0;P<b.length;P++)if(I=b[P],V=e.utils.isValue(I.getAttribute("data-template"))?I.getAttribute("data-template").replace("$1",I.text):I.text,""+I.value==""+this){I.selected=!0;break}for(P=0;P<w.length;P++)if(z=r(w[P]),_e=z.data("group"),K=z.attr("data-value"),""+K==""+this){c.showGroupName&&_e&&(V+="&nbsp;<span class='selected-item__group-name'>"+_e+"</span>"),D?(z.addClass("d-none"),m.append(t._addTag(V,z))):(z.addClass("active").addClass(c.clsOptionActive),m.html(V));break}}),ye=this.getSelected(),this._fireEvent("change",{selected:ye})},options:function(o,t,i){return this.data(o,t,i)},data:function(o,t,i){let c=this.element,m,b,w=i||",";return typeof t=="string"?b=t.toArray(w).map(function(S){return isNaN(S)?S:+S}):Array.isArray(t)?b=t.slice().map(function(S){return isNaN(S)?S:+S}):b=[],this.observer.disconnect(),c.empty(),typeof o=="string"?c.html(o):e.utils.isObject2(o)&&r.each(o,function(S,D){if(e.utils.isObject2(D))m=r("<optgroup label=''>").attr("label",S).appendTo(c),r.each(D,function(I,P){let V=r("<option>").attr("value",I).text(P).appendTo(m);b.indexOf(+I)>-1&&V.prop("selected",!0)});else{let I=r("<option>").attr("value",S).text(D).appendTo(c);b.indexOf(S)>-1&&I.prop("selected",!0)}}),this._createOptions(),this.observer.observe(c[0],{childList:!0,subtree:!0}),this},addOption:function(o,t,i){let c=this.element,m=r("<option>").attr("value",o).text(t||o);return c.append(m),i&&(c[0].multiple||c.find("option").prop("selected",!1),m.prop("selected",!0)),this},addOptions:function(o){let t=this;return o?(this.observer.disconnect(),Array.isArray(o)?r.each(o,function(){let i=this;e.utils.isObject2(i)?t.addOption(i.val,i.title,i.selected):t.addOption(i)}):e.utils.isObject2(o)&&r.each(o,function(i,c){t.addOption(i,c)}),this._createOptions(),this.observer.observe(element[0],{childList:!0,subtree:!0}),this):this},removeOption:function(o){return this.element.find("option").each(function(){let t=r(this);t.attr("value")==o&&t.remove()}),this._createOptions(),this},removeOptions:function(o){let t=this.element.find("option");return!o||!Array.isArray(o)?this:(t.each(function(){let i=r(this),c=i.attr("value");o.indexOf(c)>-1&&i.remove()}),this._createOptions(),this)},fetch:function(o,t,i=!1){return O(this,null,function*(){let c=this.element,m=this.options,b=Object.assign({method:"GET",headers:{"Content-Type":`application/${m.sourceType}`}},t),w=yield fetch(o,b);if(w.ok===!1)return;i&&this._clearOptions();let S=m.sourceType==="json"?yield w.json():yield w.text();S=e.utils.exec(m.onData,[S],c[0]),r.each(S,function(){let D=r("<option>").attr("value",this.value).html(this.text);this.icon&&D.attr("data-icon",this.icon),D.appendTo(c)})})},changeAttribute:function(o){o==="disabled"&&this.toggleState()},destroy:function(){let o=this.element,t=this.options,i=o.closest(".select"),c=i.find(".drop-container"),m=o.siblings(".select-input"),b=c.find("input"),w=c.find("ul"),S=i.find(".input-clear-button");i.off(e.events.click),i.off(e.events.click,".input-clear-button"),m.off(e.events.click),b.off(e.events.blur),b.off(e.events.focus),w.off(e.events.click,"li"),b.off(e.events.keyup),c.off(e.events.click),S.off(e.events.click),c.data("dropdown").destroy(),t.label&&i.prev("label").remove(),i.remove()}}),r(document).on(e.events.click,function(){r(".select").removeClass("focused")},{ns:"blur-select-elements"})}(Metro,Dom),function(e,r){let f={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",searchButton:!1,clearButton:!0,revealButton:!0,randomButton:!1,clearButtonIcon:"❌",revealButtonIcon:"👀",searchButtonIcon:"🔍",randomButtonIcon:"🎲",customButtons:[],searchButtonClick:"submit",randomSymbols:"0123456789;abcdefghijklmnopqrstuvwxyz;ABCDEFGHIJKLMNOPQRSTUVWXYZ;<>!?@#$%^&*()_+",randomLength:12,prependOptions:"",prependOptionsSep:",",appendOptions:"",appendOptionsSep:",",badge:null,clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsRandomButton:"",clsLabel:"",onAutocompleteSelect:e.noop,onHistoryChange:e.noop,onHistoryUp:e.noop,onHistoryDown:e.noop,onClearClick:e.noop,onRevealClick:e.noop,onSearchButtonClick:e.noop,onEnterClick:e.noop,onInputCreate:e.noop};e.inputSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroInputSetup<"u"&&e.inputSetup(globalThis.metroInputSetup),e.Component("input",{init:function(o,t){return this._super(t,o,f,{history:[],historyIndex:-1,autocomplete:[],prependOptionsList:null,appendOptionsList:null}),this},_create:function(){let o=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:o})},_createStructure:function(){let o=this,t=this.element,i=this.options,c=t.wrap("<div>").addClass("input "+t[0].className),m,b,w,S,D;e.utils.isValue(i.historyPreset)&&(r.each(i.historyPreset.toArray(i.historyDivider),function(){o.history.push(this)}),o.historyIndex=o.history.length-1),t.attr("type")===void 0&&t.attr("type","text"),m=r("<div>").addClass("button-group").appendTo(c),e.utils.isValue(t.val().trim())||t.val(i.defaultValue),i.clearButton===!0&&!t[0].readOnly&&(b=r("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).attr("title",this.strings.label_clear_input),b.appendTo(m)),t.attr("type")==="password"&&i.revealButton===!0&&(w=r("<button>").addClass("button input-reveal-button").addClass(i.clsRevealButton).attr("tabindex",-1).attr("type","button").html(i.revealButtonIcon).attr("title",this.strings.label_reveal_password),w.appendTo(m)),i.searchButton===!0&&(S=r("<button>").addClass("button input-search-button").addClass(i.clsSearchButton).attr("tabindex",-1).attr("type",i.searchButtonClick==="submit"?"submit":"button").html(i.searchButtonIcon).attr("title",this.strings.label_search_input),S.appendTo(m)),i.randomButton===!0&&(D=r("<button>").addClass("button input-random-button").addClass(i.clsRandomButton).attr("tabindex",-1).attr("type","button").html(i.randomButtonIcon).attr("title",this.strings.label_generate_random),D.appendTo(m));let I,P;i.prepend&&r("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(c),i.prependOptions&&(I=r("<div>").addClass("prepend-options").appendTo(c),I.append(P=r("<select data-role='select'>").addClass("options-list")),i.prependOptions.toArray(i.prependOptionsSep).forEach(function(z){r("<option>").attr("value",z).html(z).appendTo(P)}),this.prependOptionsList=P),i.append&&r("<div>").html(i.append).addClass("append").addClass(i.clsAppend).appendTo(c),i.appendOptions&&(I=r("<div>").addClass("append-options").appendTo(c),I.append(P=r("<select data-role='select'>").addClass("options-list")),i.appendOptions.toArray(i.appendOptionsSep).forEach(function(z){r("<option>").attr("value",z).html(z).appendTo(P)}),this.appendOptionsList=P);let V=e.utils.isObject(i.customButtons);if(Array.isArray(V)&&r.each(V,function(){let z=this,K=r("<button>");K.addClass("button input-custom-button").addClass(i.clsCustomButton).addClass(z.cls).attr("tabindex",-1).attr("type","button").html(z.text),z.attr&&typeof z.attr=="object"&&r.each(z.attr,function(ye,_e){K.attr(Str.dashedName(ye),_e)}),z.onclick&&K.on("click",()=>{z.onclick.apply(K,[t.valueOf(),t])}),K.appendTo(m)}),e.utils.isValue(t.attr("data-exclaim"))&&c.attr("data-exclaim",t.attr("data-exclaim")),t.attr("dir")==="rtl"&&c.addClass("rtl").attr("dir","rtl"),t[0].className="",c.addClass(i.clsComponent),t.addClass(i.clsInput),i.size!=="default"&&c.css({width:i.size}),(!e.utils.isNull(i.autocomplete)||!e.utils.isNull(i.autocompleteUrl))&&r("<div>").addClass("autocomplete-list").css({maxHeight:i.autocompleteListHeight,display:"none"}).appendTo(c),e.utils.isValue(i.autocomplete)){let z=e.utils.isObject(i.autocomplete);z!==!1?this.autocomplete=z:this.autocomplete=i.autocomplete.toArray(i.autocompleteDivider)}if(e.utils.isValue(i.autocompleteUrl)&&fetch(i.autocompleteUrl,{method:i.autocompleteUrlMethod}).then(function(z){return z.text()}).then(function(z){let K=[];try{K=JSON.parse(z),i.autocompleteUrlKey&&(K=K[i.autocompleteUrlKey])}catch{K=z.split(`
`)}o.autocomplete=o.autocomplete.concat(K)}),i.label){let z=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(c);if(t.attr("id"))z.attr("for",t.attr("id"));else{let K=Hooks.useId(t[0]);t.id(K),z.attr("for",K)}t.attr("dir")==="rtl"&&z.addClass("rtl")}i.badge&&c.append(r("<div>").addClass("badge").html(i.badge)),t.is(":disabled")?this.disable():this.enable(),this.component=c},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.closest(".input"),m=c.find(".autocomplete-list");c.on(e.events.click,".input-clear-button",function(){let b=t.val();t.val(e.utils.isValue(i.defaultValue)?i.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),m.length>0&&m.css({display:"none"}),o._fireEvent("clear-click",{prev:b})}),c.on(e.events.click,".input-reveal-button",function(){t.attr("type")==="password"?t.attr("type","text"):t.attr("type","password"),o._fireEvent("reveal-click",{val:t.val()})}),c.on(e.events.click,".input-search-button",function(){i.searchButtonClick!=="submit"?(console.log("Search button clicked"),o._fireEvent("search-button-click",{val:o.val(),button:this})):this.form&&this.form.submit()}),c.on(e.events.click,".input-random-button",function(){let b=o._generateRandomValue();t.val(b).fire("change").fire("keyup").focus(),o._fireEvent("random-click",{val:b})}),t.on(e.events.keyup,function(b){let w=t.val().trim();i.history&&b.keyCode===e.keyCode.ENTER&&w!==""&&(t.val(""),o.history.push(w),o.historyIndex=o.history.length-1,o._fireEvent("history-change",{val:w,history:o.history,historyIndex:o.historyIndex}),i.preventSubmit===!0&&b.preventDefault()),i.history&&b.keyCode===e.keyCode.UP_ARROW&&(o.historyIndex--,o.historyIndex>=0?(t.val(""),t.val(o.history[o.historyIndex]),o._fireEvent("history-down",{val:t.val(),history:o.history,historyIndex:o.historyIndex})):o.historyIndex=0,b.preventDefault()),i.history&&b.keyCode===e.keyCode.DOWN_ARROW&&(o.historyIndex++,o.historyIndex<o.history.length?(t.val(""),t.val(o.history[o.historyIndex]),o._fireEvent("history-up",{val:t.val(),history:o.history,historyIndex:o.historyIndex})):o.historyIndex=o.history.length-1,b.preventDefault())}),t.on(e.events.keydown,function(b){b.keyCode===e.keyCode.ENTER&&o._fireEvent("enter-click",{val:t.val()})}),t.on(e.events.blur,function(){c.removeClass("focused")}),t.on(e.events.focus,function(){c.addClass("focused")}),t.on(e.events.input,function(){let b=this.value.toLowerCase();o._drawAutocompleteList(b)}),c.on(e.events.click,".autocomplete-list .item",function(){let b=r(this).attr("data-autocomplete-value");t.val(b),m.css({display:"none"}),t.trigger("change"),o._fireEvent("autocomplete-select",{value:b})})},_generateRandomValue:function(){let o=this.options,t=o.randomSymbols.split(";"),i=Math.round(o.randomLength/t.length),c=[];for(let m of t){let b=m.split(""),w=b.length;for(let S=0;S<i;S++)c.push(b[Math.floor(Math.random()*w)])}return c.shuffle().join("")},_drawAutocompleteList:function(o){let t=this,i=this.element.closest(".input").find(".autocomplete-list"),c;i.length!==0&&(i.html(""),c=this.autocomplete.filter(function(m){return m.toLowerCase().indexOf(o)>-1}),i.css({display:c.length>0?"block":"none"}),r.each(c,function(){let m=this,b=m.toLowerCase().indexOf(o),w,S=r("<div>").addClass("item").attr("data-autocomplete-value",m);b===0?w="<strong>"+m.substring(0,o.length)+"</strong>"+m.substring(o.length):w=m.substring(0,b)+"<strong>"+m.substring(b,o.length)+"</strong>"+m.substring(b+o.length),S.html(w).appendTo(i),t._fireEvent("draw-autocomplete-item",{item:S})}))},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(o){this.historyIndex=o>=this.history.length?this.history.length-1:o},setHistory:function(o,t){let i=this,c=this.options;e.utils.isNull(o)||(!Array.isArray(o)&&typeof o=="string"&&(o=o.toArray(c.historyDivider)),t===!0?r.each(o,function(){i.history.push(this)}):this.history=o,this.historyIndex=this.history.length-1)},clear:function(){this.element.val("")},toDefault:function(){this.element.val(e.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(o){let t=e.utils.isObject(o);t!==!1?this.autocomplete=t:typeof o=="string"&&(this.autocomplete=o.toArray(this.options.autocompleteDivider))},val:function(o,t=";"){let i=this.element,c=this.options;if(!e.utils.isValue(o)){let D=i.val();return c.prependOptions&&(D=this.prependOptionsList.val()+D),c.appendOptions&&(D=D+this.appendOptionsList.val()),D}let m=o.split(t),b="",w="",S;c.prependOptions&&(b=m.shift(),e.getPlugin(this.prependOptionsList,"select").val(b),console.log(b)),c.appendOptions&&(w=m.pop(),e.getPlugin(this.appendOptionsList,"select").val(w)),S=m.join(""),i.val(S)},prependOptionsVal:function(o){this.options.prependOptions&&(e.utils.isValue(o)||this.prependOptionsList.val(),this.prependOptionsList.val(o))},appendOptionsVal:function(o){if(this.options.appendOptions){if(!e.utils.isValue(o))return this.appendOptionsList.val();this.appendOptionsList.val(o)}},changeAttribute:function(o){switch(o){case"disabled":this.toggleState();break}},destroy:function(){let o=this.element,t=this.options,i=o.parent(),c=i.find(".input-clear-button"),m=i.find(".input-reveal-button"),b=i.find(".input-custom-button");c.length>0&&c.off(e.events.click),m.length>0&&(m.off(e.events.start),m.off(e.events.stop)),b.length>0&&c.off(e.events.click),o.off(e.events.blur),o.off(e.events.focus),t.label&&i.prev("label").remove(),i.remove()}}),r(document).on(e.events.click,function(){r(".input .autocomplete-list").hide()})}(Metro,Dom),function(e,r){var f=e.utils,o={chatDeferred:0,inputTimeFormat:null,timeFormat:"D MMM hh:mm A",name:"John Doe",avatar:"<span>👦</span>",welcome:null,welcomeAvatar:"<span>👽</span>",title:null,width:"100%",height:"auto",messages:null,sendButtonTitle:"",sendButtonIcon:"",readonly:!1,clsChat:"",clsName:"",clsTime:"",clsInput:"",clsSendButton:"",clsMessageLeft:"default",clsMessageRight:"default",onMessage:e.noop,onSend:e.noop,onSendButtonClick:e.noop,onChatCreate:e.noop};e.chatSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroChatSetup<"u"&&e.chatSetup(globalThis.metroChatSetup),e.Component("chat",{init:function(t,i){return this._super(i,t,o,{input:null,classes:"primary secondary success alert warning yellow info dark light".split(" "),lastMessage:null}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("chat-create",{element:t})},_createStructure:function(){var t=this,i=this.element,c=this.options,m,b,w,S=[{html:`${c.sendButtonTitle||this.strings.label_send}${c.sendButtonIcon}`,cls:c.clsSendButton+" js-chat-send-button",onclick:c.onSendButtonClick}];i.addClass("chat").addClass(c.clsChat),i.css({width:c.width,height:c.height}),f.isValue(c.title)&&r("<div>").addClass("title").html(c.title).appendTo(i),m=r("<div>").addClass("messages"),m.appendTo(i),b=r("<div>").addClass("message-input").appendTo(i),w=r("<input type='text'>").addClass("chat-input"),w.appendTo(b),setTimeout(()=>{e.makePlugin(w[0],"input",{customButtons:S,clsInput:c.clsInput})}),c.welcome&&this.add({text:c.welcome,time:datetime(),position:"left",name:"Chat Bot",avatar:c.welcomeAvatar}),f.isValue(c.messages)&&typeof c.messages=="string"&&(c.messages=f.isObject(c.messages)),!f.isNull(c.messages)&&typeof c.messages=="object"&&f.objectLength(c.messages)>0&&r.each(c.messages,function(){t.add(this)}),i.find(".message-input")[c.readonly?"addClass":"removeClass"]("disabled")},_createEvents:function(){var t=this,i=this.element,c=this.options,m=function(){var b=i.find(".chat-input input"),w=""+b.val(),S;if(w.trim()==="")return!1;S={id:f.elementId("chat-message"),name:c.name,avatar:c.avatar,text:w,position:"right",time:datetime()},t.add(S),b.val(""),t._fireEvent("send",{msg:S}),b.focus()};i.on(e.events.click,".js-chat-send-button",function(){m()}),i.on(e.events.keyup,".chat-input > input",function(b){b.keyCode===e.keyCode.ENTER&&m()})},add:function(t){var i=this,c=this.element,m=this.options,b=this.locale,w,S,D,I,P,V,z=c.find(".messages"),K;if(K=m.inputTimeFormat?Datetime.from(t.time,m.inputTimeFormat,b):datetime(t.time),w=r("<div>").addClass("message").addClass(t.position).appendTo(z),I=r("<div>").addClass("message-item").appendTo(w),e.utils.isUrl(t.avatar)||t.avatar.includes("data:image"))P=r("<img>").attr("src",t.avatar).attr("alt",t.avatar).addClass("message-avatar").appendTo(I);else if(t.avatar){let ye=r(t.avatar);ye.length?P=ye.addClass("message-avatar").appendTo(I):P=r("<span>").addClass("message-avatar").html(t.avatar).appendTo(I)}return V=r("<div>").addClass("message-text").append(r("<div>").addClass("message-text-inner").html(Str.escapeHtml(t.text))).appendTo(I),D=r("<div>").addClass("message-time").addClass(m.clsTime).text(K.format(m.timeFormat)).appendTo(V),S=r("<div>").addClass("message-sender").addClass(m.clsName).text(t.name).appendTo(V),f.isValue(t.id)&&w.attr("id",t.id),t.position==="left"&&f.isValue(m.clsMessageLeft)&&V.addClass(m.clsMessageLeft),t.position==="right"&&f.isValue(m.clsMessageRight)&&V.addClass(m.clsMessageRight),this.lastMessage&&this.lastMessage.position===t.position&&(V.addClass("--next"),P.visible(!1),S.hide()),i._fireEvent("message",{msg:t,el:{message:w,sender:S,time:D,item:I,avatar:P,text:V}}),z.animate({draw:{scrollTop:z[0].scrollHeight},dur:1e3}),this.lastMessage=t,this},addMessages:function(t){var i=this;return f.isValue(t)&&typeof t=="string"&&(t=f.isObject(t)),typeof t=="object"&&f.objectLength(t)>0&&r.each(t,function(){i.add(this)}),this},delMessage:function(t){var i=this.element;return i.find(".messages").find("#"+t).remove(),this},updMessage:function(t){var i=this.element,c=i.find(".messages").find("#"+t.id);let m=this.options,b=this.locale;if(c.length===0)return this;let w=m.inputTimeFormat?Datetime.from(t.time,m.inputTimeFormat,b):datetime(t.time);return c.find(".message-text-inner").html(t.text),c.find(".message-time").html(w.format(m.timeFormat)),this},clear:function(){var t=this.element,i=t.find(".messages");i.html(""),this.lastMessage=null},toggleReadonly:function(t){var i=this.element,c=this.options;c.readonly=typeof t>"u"?!c.readonly:t,i.find(".message-input")[c.readonly?"addClass":"removeClass"]("disabled")},changeAttribute:function(t){switch(t){case"data-readonly":this.toggleReadonly();break}},destroy:function(){var t=this.element,i=t.find(".js-chat-send-button"),c=t.find("input[type=text]");return i.off(e.events.click),c.off(e.events.keyup),t}}),e.defaults.Chat=o}(Metro,Dom),function(e,r){globalThis.CHECKBOX_STATE={CHECKED:1,UNCHECKED:-1,INDETERMINATE:0};let f={checkboxDeferred:0,state:CHECKBOX_STATE.UNCHECKED,threeState:!1,prepend:"",append:"",caption:"",clsCheckbox:"",clsCaption:"",clsPrepend:"",clsAppend:"",onCheckboxCreate:e.noop};e.metroCheckboxSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroCheckboxSetup<"u"&&e.metroCheckboxSetup(globalThis.metroCheckboxSetup),e.Component("checkbox",{init:function(o,t){return this._super(t,o,f,{origin:{className:""},state:CHECKBOX_STATE.UNCHECKED}),this},_create:function(){let o=this.options;(o.threeState===!1&&o.state===0||o.state==="indeterminate")&&(o.state=CHECKBOX_STATE.UNCHECKED),o.state===CHECKBOX_STATE.UNCHECKED||o.state==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:o.state===0||o.state==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(o=!0){let t=this.element;t[0].indeterminate=o,t.attr("data-indeterminate",o)},_createStructure:function(){let o=this.element,t=this.options,i=o.wrap("<label>").addClass("checkbox").addClass(t.clsCheckbox);o.attr("type","checkbox"),t.prepend&&i.prepend(r("<span>").addClass("caption-prepend").addClass(t.clsPrepend).addClass(t.clsCaption).html(t.prepend)),t.append&&i.append(r("<span>").addClass("caption-append").addClass(t.clsAppend).addClass(t.clsCaption).html(t.append)),o.attr("readonly")!==void 0&&o.on("click",function(c){c.preventDefault()}),this.elem.checked&&this.state!==CHECKBOX_STATE.INDETERMINATE&&(this.state=!0),this._drawState()},_drawState:function(){let o=this.elem;this._indeterminate(!1),o.checked=this.state!==CHECKBOX_STATE.UNCHECKED,this.state===CHECKBOX_STATE.INDETERMINATE&&this._indeterminate(!0)},_createEvents:function(){let o=this.element,t=this.options,i=this;o.on("click",function(){i.state++,i.state===0&&t.threeState===!1&&(i.state=1),i.state===2&&(i.state=-1),i._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},indeterminate:function(){this.setCheckState(CHECKBOX_STATE.INDETERMINATE)},setCheckState:function(o){return o===-1||o==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:o===0||o==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._drawState(),this},getCheckState:function(o=!1){if(!o)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},toggle:function(){this.state++,this.state===2&&(this.state=-1),this._drawState()},changeAttribute:function(o,t){let i=function(c){this.toggle(c)};switch(o){case"data-state":i(t);break}},destroy:function(){let o=this.element;o.off("click"),o.parent().remove()}})}(Metro,Dom),function(e,r){let f={clockDeferred:0,show:"row",showTime:!0,showDate:!0,dateFormat:"DD.MM.YYYY",timeFormat:"HH:mm",divider:"&nbsp;&nbsp;",twoLines:!1,onTick:e.noop,onSecond:e.noop,onClockCreate:e.noop};e.clockSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroClockSetup<"u"&&e.clockSetup(globalThis.metroClockSetup),e.Component("clock",{init:function(o,t){return this._super(t,o,f,{_clockInterval:null}),this},_create:function(){let o=this,t=this.element,i=this.options;t.addClass("clock"),i.show==="column"&&t.addClass("show-column"),this._fireEvent("clock-create",{element:t}),this._tick(),this._clockInterval=setInterval(function(){o._tick()},500),this._secondInterval=setInterval(function(){o._second()},1e3)},_second:function(){let o=new Date;this._fireEvent("second",{timestamp:o})},_tick:function(){let o=this.element,t=this.options,i=datetime(),c="",m=i.format(t.dateFormat),b=i.format(t.timeFormat);t.showTime&&(c=`<span class="clock-time">${b}</span>`),t.showDate&&(c+=`<span class="clock-date">${m}</span>`),o.html(c),this._fireEvent("tick",{timestamp:i})},changeAttribute:function(o,t){switch(o){case"data-date-format":this.options.dateFormat=t;break;case"data-time-format":this.options.timeFormat=t;break;case"data-show-date":this.options.showDate=JSON.parse(t);break;case"data-show-time":this.options.showTime=JSON.parse(t);break;case"data-divider":this.options.divider=t;break;case"data-two-lines":this.options.twoLines=JSON.parse(t);break}this._tick()},destroy:function(){clearInterval(this._clockInterval),this._clockInterval=null,this.element.remove()}})}(Metro,Dom),function(e,r){var f={collapseDeferred:0,collapsed:!1,toggleElement:!1,duration:100,onExpand:e.noop,onCollapse:e.noop,onCollapseCreate:e.noop};e.collapseSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroCollapseSetup<"u"&&e.collapseSetup(globalThis.metroCollapseSetup),e.Component("collapse",{init:function(o,t){return this._super(t,o,f,{toggle:null}),this},_create:function(){var o=this,t=this.element,i=this.options,c;c=i.toggleElement!==!1?r(i.toggleElement):t.siblings(".collapse-toggle").length>0?t.siblings(".collapse-toggle"):t.siblings("a:nth-child(1)"),(i.collapsed===!0||t.attr("collapsed")===!0)&&t.hide(0),c.on(e.events.click,function(m){t.css("display")!=="none"&&!t.hasClass("keep-open")?o._close(t):o._open(t),["INPUT"].indexOf(m.target.tagName)===-1&&m.preventDefault(),m.stopPropagation()}),this.toggle=c,this._fireEvent("collapse-create",{element:t})},_close:function(o,t){var i=r(o),c=i.data("collapsed");if(!c){var m=e.getPlugin(i[0],"collapse"),b=m.options,w=t?"show":"slideUp",S=t?0:b.duration;this.toggle.removeClass("active-toggle"),i[w](S,function(){o.trigger("onCollapse",null,o),o.data("collapsed",!0),o.addClass("collapsed"),m._fireEvent("collapse")})}},_open:function(o,t){var i=r(o),c=i.data("collapsed");if(c){var m=e.getPlugin(i[0],"collapse"),b=m.options,w=t?"show":"slideDown",S=t?0:b.duration;this.toggle.addClass("active-toggle"),i[w](S,function(){o.trigger("onExpand",null,o),o.data("collapsed",!1),o.removeClass("collapsed"),m._fireEvent("expand")})}},collapse:function(o){this._close(this.element,o)},expand:function(o){this._open(this.element,o)},close:function(o){this._close(this.element,o)},open:function(o){this._open(this.element,o)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){var o=this.element;o.attr("collapsed")===!0||o.data("collapsed")===!0?this.collapse():this.expand()},changeAttribute:function(o){switch(o){case"collapsed":case"data-collapsed":this.toggleState();break}},destroy:function(){return this.toggle.off(e.events.click),this.element}})}(Metro,Dom),function(e,r){let f={radioDeferred:0,prepend:"",append:"",caption:"",clsRadio:"",clsCaption:"",clsPrepend:"",clsAppend:"",onRadioCreate:e.noop};e.metroRadioSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroRadioSetup<"u"&&e.metroRadioSetup(globalThis.metroRadioSetup),e.Component("radio",{init:function(o,t){return this._super(t,o,f,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("radio-create")},_createStructure:function(){let o=this.element,t=this.options,i=o.wrap("<label>").addClass("radio").addClass(t.clsCheckbox);o.attr("type","radio"),t.prepend&&i.prepend(r("<span>").addClass("caption-prepend").addClass(t.clsPrepend).addClass(t.clsCaption).html(t.prepend)),t.append&&i.append(r("<span>").addClass("caption-append").addClass(t.clsAppend).addClass(t.clsCaption).html(t.append)),o.attr("readonly")&&o.on("click",function(c){c.preventDefault()}),this.elem.checked&&(this.state=!0),this._drawState()},_drawState:function(){},_createEvents:function(){let o=this.element;this.options;let t=this;o.on("click",function(){t._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},setCheckState:function(o=!0){return this.elem.checked=o,this._drawState(),this},getCheckState:function(o=!1){let t=this.elem.checked;if(!o)return t;switch(this.state){case!1:return"unchecked";case!0:return"checked"}},toggle:function(){this.elem.checked=!this.elem.checked,this._drawState()},changeAttribute:function(o,t){},destroy:function(){let o=this.element;o.off("click"),o.parent().remove()}})}(Metro,Dom),function(e,r){let f="hex, rgb, rgba, hsl, hsla, hsv, cmyk",o={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",userColors:null,returnValueType:"hex",returnAsString:!0,showValues:f,showAsString:null,showUserColors:!0,controller:null,addUserColorTitle:null,userColorsTitle:null,hslMode:"percent",showAlphaChannel:!0,inputThreshold:300,initColor:null,readonlyInput:!1,clsSelector:"",clsSwatches:"",clsSwatch:"",clsValue:"",clsLabel:"",clsInput:"",clsUserColorButton:"",clsUserColors:"",clsUserColorsTitle:"",clsUserColor:"",onSelectColor:e.noop,onColorSelectorCreate:e.noop};e.colorSelectorSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroColorSelectorSetup<"u"&&e.colorSelectorSetup(globalThis.metroColorSelectorSetup),e.Component("color-selector",{init:function(t,i){return this._super(i,t,o,{id:e.utils.elementId("color-selector"),defaultSwatches:[],showValues:[],userColors:[],showAsString:[],hue:0,saturation:0,lightness:1,alpha:1,hsl:null,hsla:null,hsv:null,rgb:null,rgba:null,cmyk:null,hex:null,inputInterval:null,controller:null}),this},_create:function(){let t=this.options;e.utils.isValue(t.defaultSwatches)&&(this.defaultSwatches=t.defaultSwatches.toArray(",").map(function(i){return i.toUpperCase()})),e.utils.isValue(t.showValues)&&(this.showValues=t.showValues.toArray(",")),e.utils.isValue(t.userColors)&&(this.userColors=t.userColors.toArray(",").map(function(i){return i.toUpperCase()})),e.utils.isValue(t.showAsString)&&(this.showAsString=t.showAsString.toArray(",")),this._createStructure(),this._createEvents(),this._setColorValues(),this._fireEvent("color-selector-create")},_createStructure:function(){let t=this,i=this.element,c=this.options,m=this.strings,b,w,S,D,I,P,V,z,K,ye,_e,Ne,Ie,Se,Me;i.addClass("color-selector").addClass(c.clsSelector),i.append(b=r("<div>").addClass("color-box")),b.append(w=r("<div>").addClass("row")),w.append(S=r("<div>").addClass("default-swatches").addClass(c.clsSwatches)),r.each(this.defaultSwatches,function(){S.append(r("<button>").attr("data-color",this).attr("type","button").addClass("swatch").addClass(c.clsSwatch).css("background-color",this))}),b.append(w=r("<div>").addClass("row")),w.append(D=r("<div>").addClass("color-map")),D.append(Ne=r("<button>").attr("type","button").addClass("cursor color-cursor dragging")),D.append(ye=r("<canvas>").addClass("color-canvas")),w.append(D=r("<div>").addClass("hue-map")),D.append(_e=r("<button>").attr("type","button").addClass("cursor hue-cursor dragging")),D.append(K=r("<canvas>").addClass("hue-canvas")),w.append(D=r("<div>").addClass("alpha-map")),D.append(Me=r("<button>").attr("type","button").addClass("cursor alpha-cursor dragging")),D.append(Se=r("<canvas>").addClass("alpha-canvas")),b.append(w=r("<div>").addClass("row color-values-block")),w.append(I=r("<div>").addClass("color-value-hex")),I.append(r("<input type='radio' name='returnType' value='hex' checked>").addClass("check-color-value-hex")),I.append(Ie=r("<div>").addClass("color-block as-string color-hex")),Ie.append(r("<input type='text' data-prepend='HEX:'>").addClass("input-small value-hex")),w.append(I=r("<div>").addClass("color-value-rgb")),I.append(r("<input type='radio' name='returnType' value='rgb'>").addClass("check-color-value-rgb")),I.append(Ie=r("<div>").addClass("color-block color-rgb")),Ie.append(r("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),Ie.append(r("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),Ie.append(r("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),I.append(Ie=r("<div>").addClass("color-block as-string color-rgb")),Ie.append(r("<input type='text' data-prepend='RGB:'>").addClass("input-small value-rgb")),this.showAsString.indexOf("rgb")>-1?I.find(".value-r,.value-g,.value-b").parent().hide():I.find(".value-rgb").parent().hide(),w.append(I=r("<div>").addClass("color-value-rgba")),I.append(r("<input type='radio' name='returnType' value='rgba'>").addClass("check-color-value-rgba")),I.append(Ie=r("<div>").addClass("color-block color-rgba")),Ie.append(r("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),Ie.append(r("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),Ie.append(r("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),Ie.append(r("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),I.append(Ie=r("<div>").addClass("color-block as-string color-rgba")),Ie.append(r("<input type='text' data-prepend='RGBA:'>").addClass("input-small value-rgba")),this.showAsString.indexOf("rgba")>-1?I.find(".value-r,.value-g,.value-b,.value-a").parent().hide():I.find(".value-rgba").parent().hide(),w.append(I=r("<div>").addClass("color-value-hsl")),I.append(r("<input type='radio' name='returnType' value='hsl'>").addClass("check-color-value-hsl")),I.append(Ie=r("<div>").addClass("color-block color-hsl")),Ie.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),Ie.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),Ie.append(r("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),I.append(Ie=r("<div>").addClass("color-block as-string color-hsl")),Ie.append(r("<input type='text' data-prepend='HSL:'>").addClass("input-small value-hsl")),this.showAsString.indexOf("hsl")>-1?I.find(".value-h,.value-s,.value-l").parent().hide():I.find(".value-hsl").parent().hide(),w.append(I=r("<div>").addClass("color-value-hsla")),I.append(r("<input type='radio' name='returnType' value='hsla'>").addClass("check-color-value-hsla")),I.append(Ie=r("<div>").addClass("color-block color-hsla")),Ie.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),Ie.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),Ie.append(r("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),Ie.append(r("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),I.append(Ie=r("<div>").addClass("color-block as-string color-hsla")),Ie.append(r("<input type='text' data-prepend='HSLA:'>").addClass("input-small value-hsla")),this.showAsString.indexOf("hsla")>-1?I.find(".value-h,.value-s,.value-l,.value-a").parent().hide():I.find(".value-hsla").parent().hide(),w.append(I=r("<div>").addClass("color-value-hsv")),I.append(r("<input type='radio' name='returnType' value='hsv'>").addClass("check-color-value-hsl")),I.append(Ie=r("<div>").addClass("color-block color-hsv")),Ie.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),Ie.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),Ie.append(r("<input type='text' data-prepend='V:'>").addClass("input-small value-v")),I.append(Ie=r("<div>").addClass("color-block as-string color-hsv")),Ie.append(r("<input type='text' data-prepend='HSV:'>").addClass("input-small value-hsv")),this.showAsString.indexOf("hsv")>-1?I.find(".value-h,.value-s,.value-v").parent().hide():I.find(".value-hsv").parent().hide(),w.append(I=r("<div>").addClass("color-value-cmyk")),I.append(r("<input type='radio' name='returnType' value='cmyk'>").addClass("check-color-value-cmyk")),I.append(Ie=r("<div>").addClass("color-block color-cmyk")),Ie.append(r("<input type='text' data-prepend='C:'>").addClass("input-small value-c")),Ie.append(r("<input type='text' data-prepend='M:'>").addClass("input-small value-m")),Ie.append(r("<input type='text' data-prepend='Y:'>").addClass("input-small value-y")),Ie.append(r("<input type='text' data-prepend='K:'>").addClass("input-small value-k")),I.append(Ie=r("<div>").addClass("color-block as-string color-cmyk")),Ie.append(r("<input type='text' data-prepend='CMYK:'>").addClass("input-small value-cmyk")),this.showAsString.indexOf("cmyk")>-1?I.find(".value-s,.value-m,.value-y,.value-k").parent().hide():I.find(".value-cmyk").parent().hide(),b.append(w=r("<div>").addClass("row user-colors-css-container")),w.append(r("<div>").addClass("user-colors-title").addClass(c.clsUserColorsTitle).html(c.userColorsTitle||m.label_user_colors)),w.append(r("<div>").addClass("user-colors").addClass(c.clsUserColors)),w.append(z=r("<div>").addClass("user-colors-actions")),z.append(r("<button>").addClass("button add-button").addClass(c.clsUserColorButton).html("<span class='user-swatch'></span><span>"+(c.addUserColorTitle||m.label_add_user_color)+"</span>")),P=b.find("input[type=text]"),e.makePlugin(P,"input",{clearButton:!1,clsPrepend:c.clsLabel,clsComponent:c.clsInput}),P.addClass(c.clsValue),c.readonlyInput&&P.attr("readonly",!0),V=b.find("input[type=radio]").each(function(){r(this).attr("name",t.id+"-returnType")}),V.each(function(){r(this).val()===c.returnValueType&&(this.checked=!0)}),e.makePlugin(V,"radio"),r.each(f.toArray(","),function(){t.showValues.indexOf(this)===-1&&i.find(".color-value-"+this).hide()}),c.showUserColors||i.find(".user-colors-css-container").hide(),c.showAlphaChannel||(i.addClass("no-alpha-channel"),r.each(["rgba","hsla"],function(){i.find(".color-value-"+this).hide()})),this._fillUserColors(),this.hueCanvas=K,this.hueCursor=_e,this.shadeCanvas=ye,this.shadeCursor=Ne,this.alphaCanvas=Se,this.alphaCursor=Me,this._createShadeCanvas(),this._createHueCanvas(),this._createAlphaCanvas(),this._setColorValues(),this._updateCursorsColor(),c.initColor&&Farbe.Routines.isColor(c.initColor)&&this._colorToPos(typeof c.initColor=="string"?Farbe.Routines.parse(c.initColor):c.initColor),this.controller=c.controller?r(c.controller):null},_createShadeCanvas:function(t){let i=this.shadeCanvas[0],c=i.getContext("2d");c.clearRect(0,0,i.width,i.height),t||(t="#f00"),c.clearRect(0,0,i.width,i.height),c.fillStyle=t,c.fillRect(0,0,i.width,i.height);let m=c.createLinearGradient(0,0,i.width,0);m.addColorStop(0,"#fff"),m.addColorStop(1,"transparent"),c.fillStyle=m,c.fillRect(0,0,i.width,i.height);let b=c.createLinearGradient(0,0,0,i.height);b.addColorStop(0,"transparent"),b.addColorStop(1,"#000"),c.fillStyle=b,c.fillRect(0,0,i.width,i.height)},_createHueCanvas:function(){let t=this.hueCanvas[0],i=t.getContext("2d"),c=i.createLinearGradient(0,0,0,t.height);c.addColorStop(0,"hsl(0,100%,50%)"),c.addColorStop(.17,"hsl(298.8, 100%, 50%)"),c.addColorStop(.33,"hsl(241.2, 100%, 50%)"),c.addColorStop(.5,"hsl(180, 100%, 50%)"),c.addColorStop(.67,"hsl(118.8, 100%, 50%)"),c.addColorStop(.83,"hsl(61.2,100%,50%)"),c.addColorStop(1,"hsl(360,100%,50%)"),i.clearRect(0,0,t.width,t.height),i.fillStyle=c,i.fillRect(0,0,t.width,t.height)},_createAlphaCanvas:function(){let t=this.alphaCanvas[0],i=t.getContext("2d"),c=i.createLinearGradient(0,0,0,t.height),m=new Farbe.Primitives.HSLA(this.hue,1,.5,1).toString();c.addColorStop(0,m),c.addColorStop(1,"rgba(0,0,0,0)"),i.clearRect(0,0,t.width,t.height),i.fillStyle=c,i.fillRect(0,0,t.width,t.height)},_updateHueCursor:function(t){this.hueCursor.css({top:t})},_updateAlphaCursor:function(t){this.alphaCursor.css({top:t})},_getHueColor:function(t){let i=this.hueCanvas,c=i.offset(),m=i.height(),b,w,S,D;b=t-c.top,b>m&&(b=m),b<0&&(b=0),w=b/m,D=360-360*w,D===360&&(D=0),S="hsl("+D+", 100%, 50%)",this.hue=D,this._createShadeCanvas(S),this._createAlphaCanvas(),this._updateHueCursor(b),this._updateCursorsColor(),this._setColorValues()},_getAlphaValue:function(t){let i=this.alphaCanvas,c=i.offset(),m=i.height(),b,w;b=t-c.top,b>m&&(b=m),b<0&&(b=0),w=1-b/m,this.alpha=w.toFixed(2),this._updateAlphaCursor(b),this._updateCursorsColor(),this._setColorValues()},_getShadeColor:function(t,i){let c=this.shadeCanvas,m=c.offset(),b=c.width(),w=c.height(),S=t-m.left,D=i-m.top;S>b&&(S=b),S<0&&(S=0),D>w&&(D=w),D<0&&(D=.1);let I=S/b*100,P=1-D/w*100/100,V=I/100,z=P/2*(2-V),K=P*V/(1-Math.abs(2*z-1));isNaN(z)&&(z=0),isNaN(K)&&(K=0),this.lightness=z,this.saturation=K,this._updateShadeCursor(S,D),this._updateCursorsColor(),this._setColorValues()},_updateCursorsColor:function(){this.shadeCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness))}),this.hueCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,1,.5))}),this.alphaCursor.css({backgroundColor:Farbe.Routines.toRGBA(new Farbe.Primitives.HSL(this.hue,1,.5),this.alpha).toString()})},_updateShadeCursor:function(t,i){this.shadeCursor.css({top:i,left:t})},_colorToPos:function(t){let i=this.shadeCanvas[0].getBoundingClientRect(),c=this.hueCanvas[0].getBoundingClientRect(),m=this.alphaCanvas[0].getBoundingClientRect(),b=Farbe.Routines.toHSL(t),w=Farbe.Routines.toHSLA(t),S=Farbe.Routines.toHSV(t),D=i.width*S.s,I=i.height*(1-S.v),P=c.height-b.h/360*c.height,V=(1-w.a)*m.height;this.hue=b.h,this.saturation=b.s,this.lightness=b.l,this.alpha=w.a,this._updateHueCursor(P),this._updateShadeCursor(D,I),this._updateAlphaCursor(V),this._updateCursorsColor(),this._createShadeCanvas("hsl("+this.hue+", 100%, 50%)"),this._createAlphaCanvas(),this._setColorValues()},_setColorValues:function(){let t=this.element,i=this.options,c=new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness),m=new Farbe.Primitives.HSLA(this.hue,this.saturation,this.lightness,this.alpha),b=Farbe.Routines.toRGB(c),w=Farbe.Routines.toRGBA(b,this.alpha),S=Farbe.Routines.toHSV(c),D=Farbe.Routines.toCMYK(c),I=Farbe.Routines.toHEX(c),P=this.controller,V=i.hslMode==="percent";this.hsl=c,this.hsla=m,this.hsv=S,this.rgb=b,this.rgba=w,this.hex=I,this.cmyk=D,t.find(".color-value-hex .value-hex input").val(I),t.find(".color-value-rgb .value-r input").val(b.r),t.find(".color-value-rgb .value-g input").val(b.g),t.find(".color-value-rgb .value-b input").val(b.b),t.find(".color-value-rgb .value-rgb input").val(b.toString()),t.find(".color-value-rgba .value-r input").val(w.r),t.find(".color-value-rgba .value-g input").val(w.g),t.find(".color-value-rgba .value-b input").val(w.b),t.find(".color-value-rgba .value-a input").val(w.a),t.find(".color-value-rgba .value-rgba input").val(w.toString()),t.find(".color-value-hsl .value-h input").val(c.h.toFixed(0)),t.find(".color-value-hsl .value-s input").val(V?Math.round(c.s*100)+"%":c.s.toFixed(4)),t.find(".color-value-hsl .value-l input").val(V?Math.round(c.l*100)+"%":c.l.toFixed(4)),t.find(".color-value-hsl .value-hsl input").val(c.toString()),t.find(".color-value-hsla .value-h input").val(m.h.toFixed(0)),t.find(".color-value-hsla .value-s input").val(V?Math.round(m.s*100)+"%":c.s.toFixed(4)),t.find(".color-value-hsla .value-l input").val(V?Math.round(m.l*100)+"%":c.l.toFixed(4)),t.find(".color-value-hsla .value-a input").val(m.a),t.find(".color-value-hsla .value-hsla input").val(m.toString()),t.find(".color-value-hsv .value-h input").val(S.h.toFixed(0)),t.find(".color-value-hsv .value-s input").val(V?Math.round(S.s*100)+"%":S.s.toFixed(4)),t.find(".color-value-hsv .value-v input").val(V?Math.round(S.v*100)+"%":S.v.toFixed(4)),t.find(".color-value-hsv .value-hsv input").val(S.toString()),t.find(".color-value-cmyk .value-c input").val(D.c.toFixed(0)),t.find(".color-value-cmyk .value-m input").val(D.m.toFixed(0)),t.find(".color-value-cmyk .value-y input").val(D.y.toFixed(0)),t.find(".color-value-cmyk .value-k input").val(D.k.toFixed(0)),t.find(".color-value-cmyk .value-cmyk input").val(D.toString()),t.find(".user-colors-actions .user-swatch").css({backgroundColor:I});let z=this.getVal();P&&P.length&&P.val(z),this._fireEvent("select-color",{color:z,primitive:{hsl:this.hsl,hsla:this.hsla,rgb:this.rgb,rgba:this.rgba,hsv:this.hsv,cmyk:this.cmyk,hex:this.hex}})},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_createEvents:function(){let t=this,i=this.element,c=this.options,m=i.find(".hue-map"),b=i.find(".alpha-map"),w=i.find(".color-map"),S=this.controller,D=i.find(".color-values-block input[type=text]"),I=P=>{let V=r(P.target),z=V.closest(".color-block"),K,ye,_e;z.hasClass("color-hex")?K="hex":z.hasClass("color-rgb")?K="rgb":z.hasClass("color-rgba")?K="rgba":z.hasClass("color-hsl")?K="hsl":z.hasClass("color-hsla")?K="hsla":z.hasClass("color-hsv")?K="hsv":z.hasClass("color-cmyk")&&(K="cmyk"),z.hasClass("as-string")?ye=V.val():(_e=[],r.each(z.find("input"),function(){_e.push(this.value)}),ye=K+"("+_e.join(", ")+")"),ye&&Farbe.Routines.isColor(ye)&&t.val(ye)};if(I=Hooks.useDebounce(I,c.inputThreshold),D.on(e.events.inputchange,I),S&&S.length){let P=Hooks.useDebounce(()=>{let V=S.val();V&&Farbe.Routines.isColor(V)&&t.val(V)},c.inputThreshold);S.on(e.events.inputchange,P)}b.on(e.events.startAll,function(P){["hsla","rgba"].includes(c.returnValueType),t._getAlphaValue(e.utils.pageXY(P).y),r(document).on(e.events.moveAll,function(V){V.preventDefault(),t._getAlphaValue(e.utils.pageXY(V).y)},{ns:t.id}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})},{passive:!0}),m.on(e.events.startAll,function(P){t._getHueColor(e.utils.pageXY(P).y),r(document).on(e.events.moveAll,function(V){V.preventDefault(),t._getHueColor(e.utils.pageXY(V).y)},{ns:t.id,passive:!1}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})},{passive:!0}),w.on(e.events.startAll,function(P){t._getShadeColor(e.utils.pageXY(P).x,e.utils.pageXY(P).y),r(document).on(e.events.moveAll,function(V){V.preventDefault(),t._getShadeColor(e.utils.pageXY(V).x,e.utils.pageXY(V).y)},{ns:t.id,passive:!1}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})},{passive:!0}),i.on("click",".swatch",function(){t._colorToPos(r(this).attr("data-color"))}),i.on("click",".add-button",function(){let P=Farbe.Routines.toHEX(new Farbe.Primitives.HSL(t.hue,t.saturation,t.lightness)).toUpperCase();t.userColors.includes(P)||(t.userColors.push(P),i.find(".user-colors").append(r("<button>").attr("data-color",P).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:P})))}),i.find("input[type=radio]").on("click",function(){c.returnValueType=r(this).val(),t._setColorValues()})},getVal:function(){let t=this.options,i;switch(t.returnValueType.toLowerCase()){case"rgb":i=this.rgb;break;case"rgba":i=this.rgba;break;case"hsl":i=this.hsl;break;case"hsla":i=this.hsla;break;case"hsv":i=this.hsv;break;case"cmyk":i=this.cmyk;break;default:i=this.hex}return t.returnAsString?i.toString():i},val:function(t){if(typeof t>"u")return this.getVal();let i=Farbe.Routines.parse(t);this._colorToPos(i)},user:function(t){if(!e.utils.isValue(t))return this.userColors;!Array.isArray(t)&&typeof t!="string"||(typeof t=="string"?this.userColors=t.toArray(",").map(function(i){return i.toUpperCase()}):this.userColors=t.map(function(i){return i.toUpperCase()}),this._fillUserColors())},_fillUserColors:function(){let t=this.element.find(".user-colors-css").clear();r.each(this.userColors,function(){let i=this;t.append(r("<button>").attr("data-color",i).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:i}))})},changeAttribute:function(t,i){let c=this.options;t==="data-return-value-type"&&(c.returnValueType=i),t==="data-return-as-string"&&(c.returnValueType=e.utils.bool(i))},destroy:function(){this.element.remove()}}),e.defaults.ColorSelector=o}(Metro,Dom),function(e,r){let f={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",duration:100,prepend:"",append:"",label:"",clearButton:!1,clearButtonIcon:"❌",pickerButtonIcon:"🎨",defaultValue:"rgba(0, 0, 0, 0)",openMode:"auto",resultType:"hex",inputThreshold:500,onColorSelected:e.noop,onColorPickerCreate:e.noop};e.colorPickerSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroColorPickerSetup<"u"&&e.colorPickerSetup(globalThis.metroColorPickerSetup),e.Component("color-picker",{init:function(o,t){return this._super(t,o,r.extend({},e.defaults.ColorSelector,{showUserColors:!1,showValues:""},f),{value:null,picker:null,colorSelector:null,colorSelectorBox:null,colorExample:null,inputInterval:null,isOpen:!1}),this},_create:function(){let o=this.element,t=this.options,i=o.val();if(!e.pluginExists("color-selector"))throw new Error("Color selector component required!");this.value=Farbe.Routines.isColor(i)?i:Farbe.Routines.isColor(t.defaultValue)?t.defaultValue:"rgba(0,0,0,0)",this._createStructure(),this._createEvents(),this._fireEvent("color-picker-create")},_createStructure:function(){let o=this,t=this.element,i=this.options,c=t.wrap(r("<div>").addClass("color-picker").addClass(t[0].className)),m,b,w,S;if(b=r("<div>").addClass("color-example-box").insertBefore(t),m=r("<div>").addClass("buttons").appendTo(c),m.append(r("<button>").addClass("button color-picker-button").attr("tabindex",-1).attr("type","button").html(i.pickerButtonIcon)),i.clearButton===!0&&!t[0].readOnly&&m.append(r("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon)),e.utils.isValue(i.prepend)&&c.prepend(r("<div>").addClass("prepend").addClass(i.clsPrepend).html(i.prepend)),e.utils.isValue(i.append)&&c.append(r("<div>").html(i.append).addClass("append").addClass(i.clsAppend)),S=r("<div>").addClass("color-selector-box").appendTo(c),w=r("<div>").appendTo(S),this.picker=c,this.colorExample=b,this.colorSelector=w,this.colorSelectorBox=S,e.makePlugin(w,"color-selector",{defaultSwatches:i.defaultSwatches,returnValueType:i.resultType,returnAsString:!0,showUserColors:!1,showValues:"",controller:t,showAlphaChannel:!0,inputThreshold:i.inputThreshold,initColor:this.value,readonlyInput:i.readonlyInput,onSelectColor:D=>{this.colorExample.css({backgroundColor:D})},onColorSelectorCreate:i.onColorSelectorCreate}),e.makePlugin(S,"dropdown",{dropFilter:".color-picker",duration:i.duration,toggleElement:[c],checkDropUp:!0,onDrop:function(){e.getPlugin(w,"color-selector").val(o.value)}}),t[0].className="",i.label){let D=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(c);if(t.attr("id"))D.attr("for",t.attr("id"));else{let I=Hooks.useId(t[0]);D.attr("for",I),t.attr("id",I)}t.attr("dir")==="rtl"&&D.addClass("rtl")}this._setColor()},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_setColor:function(){let o=this.colorExample,t=this.value;(this.value.indexOf("cmyk")!==-1||this.value.indexOf("hsv")!==-1)&&(t=Farbe.Routines.toHEX(this.value)),console.log(t),o.css({backgroundColor:t})},_createEvents:function(){let o=this,t=this.element,i=this.options,c=this.picker,m=this.colorSelector,b=this.colorSelector;c.on(e.events.click,".input-clear-button",function(w){w.preventDefault(),w.stopPropagation(),t.val(i.defaultValue).trigger("change"),e.getPlugin(m,"color-selector").val(i.defaultValue)}),t.on(e.events.inputchange,function(){o.value=this.value,o._setColor()}),b.on(e.events.click,function(w){w.stopPropagation()})},val:function(o){if(arguments.length===0||!e.utils.isValue(o))return this.value;Farbe.Routines.isColor(o)&&(this.value=o,this.element.val(o).trigger("change"),this._setColor())},destroy:function(){let o=this.element,t=this.options,i=o.parent();t.label&&i.prev("label").remove(),i.remove()}}),r(document).on(e.events.click,function(){r(".color-picker").removeClass("open")})}(Metro,Dom),function(e,r){e.contextMenu=function(f=[],o=document){function t(i){let c=r("<ul>").addClass("d-menu context-menu").css("display","none");for(let m of i)if(m.type==="divider")c.append(r("<li>").addClass("divider"));else{let b=r("<li>").appendTo(c),w=r("<a>").appendTo(b);if(m.icon&&w.append(r("<span>").addClass("icon").html(m.icon)),w.append(r("<span>").addClass("caption").html(m.text)),w.href(m.href||"#"),m.onclick&&w.on("click",S=>{e.utils.exec(m.onclick,[S,m])}),m.attributes)for(let[S,D]of Object.entries(m.attributes))w.attr(S,D);if(m.disabled&&w.prop("disabled",!0),m.items){let S=t(m.items);b.children("a").addClass("dropdown-toggle"),b.append(S),e.makePlugin(S,"dropdown",{})}}return c[0]}o.context_menu=t(f),o.nodeType===1?o.append(o.context_menu):r("body").append(o.context_menu),o.oncontextmenu=function(i){i.preventDefault(),i.stopPropagation(),r(".context-menu").hide(),this.context_menu.style.left=i.pageX+"px",this.context_menu.style.top=i.pageY+"px",this.context_menu.style.display="block"}},r(document).on("click",function(f){r(".context-menu").hide()})}(Metro,Dom),function(e,r){var f={path:"/",expires:null,maxAge:null,domain:null,secure:!1,samesite:null};e.cookieSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroCookieSetup<"u"&&e.cookieSetup(globalThis.metroCookieSetup),e.cookie={getCookies:function(){var o=document.cookie.toArray(";"),t={};return r.each(o,function(){var i=this.split("=");t[i[0]]=i[1]}),t},getCookie:function(o){var t=encodeURIComponent(o)+"=",i=document.cookie.toArray(";"),c,m;for(c=0;c<i.length;c++){for(m=i[c];m.charAt(0)===" ";)m=m.substring(1,m.length);if(m.indexOf(t)===0)return decodeURIComponent(m.substring(t.length,m.length))}return null},setCookie:function(o,t,i){var c,m=encodeURIComponent(o),b=encodeURIComponent(t),w,S=[];i&&typeof i!="object"?(c=new Date,c.setTime(c.getTime()+parseInt(i)),w=r.extend({},f,{expires:c.toUTCString()})):w=r.extend({},f,i),r.each(w,function(D,I){D!=="secure"&&I&&S.push(Str.dashedName(D)+"="+I),D==="secure"&&I===!0&&S.push("secure")}),document.cookie=m+"="+b+"; "+S.join("; ")},delCookie:function(o){this.setCookie(o,!1,{maxAge:-1})}}}(Metro,Dom),function(e,r){var f=e.utils,o={name:"cookies_accepted",templateUrl:null,title:"",message:"",duration:"30days",clsContainer:"",clsMessage:"",clsButtons:"",clsAcceptButton:"",clsCancelButton:"",onAccept:e.noop,onDecline:e.noop};e.cookieDisclaimer={init:function(t){var i=this,c=e.cookie;this.options=r.extend({},o,t),this.disclaimer=r("<div>"),!c.getCookie(this.options.name)&&(this.locale=r("html").attr("lang")||"en",this.strings=r.extend({},e.locales.en,e.locales[this.locale]),this.options.templateUrl?fetch(this.options.templateUrl).then(e.fetch.text).then(function(m){i.create(m)}):this.create())},create:function(t){var i=e.cookie,c=this.options,m=this.disclaimer,b;m.addClass("cookie-disclaimer").addClass(c.clsContainer),t?m.append(t):m.html(r("<div class='disclaimer-message'>").addClass(c.clsMessage).html(`
                                <div class="disclaimer-title">${c.title||this.strings.label_cookies_title}</div>
                                <div class="disclaimer-text">${c.message||this.strings.label_cookies_text}</div>
                            `)),b=r("<div>").addClass("disclaimer-actions").addClass(c.clsButtons).append(r("<button>").addClass("button cookie-accept-button").addClass(c.clsAcceptButton).html(this.strings.label_accept)).append(r("<button>").addClass("button cookie-cancel-button").addClass(c.clsCancelButton).html(this.strings.label_cancel)),b.appendTo(m),c.customButtons&&r.each(c.customButtons,function(){var w=r("<button>").addClass("button cookie-custom-button").addClass(this.cls).html(this.text);w.on("click",()=>{f.exec(this.onclick)}),w.appendTo(b)}),m.appendTo(r("body")),m.on(e.events.click,".cookie-accept-button",function(){var w=0,S=(""+c.duration).toArray(" ");r.each(S,function(){var D=""+this;D.includes("day")?w+=parseInt(D)*24*60*60*1e3:D.includes("hour")?w+=parseInt(D)*60*60*1e3:D.includes("min")?w+=parseInt(D)*60*1e3:D.includes("sec")?w+=parseInt(D)*1e3:w+=parseInt(D)}),i.setCookie(c.name,!0,w),f.exec(c.onAccept),m.remove()}),m.on(e.events.click,".cookie-cancel-button",function(){f.exec(c.onDecline),m.remove()})}}}(Metro,Dom),function(e,r){let f={countdownDeferred:0,stopOnBlur:!0,animate:"none",ease:"linear",duration:600,inputFormat:null,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,fontSize:24,clsCountdown:"",clsPart:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onAlarm:e.noop,onTick:e.noop,onZero:e.noop,onBlink:e.noop,onCountdownCreate:e.noop};e.countdownSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroCountdownSetup<"u"&&e.countdownSetup(globalThis.metroCountdownSetup),e.Component("countdown",{init:function(o,t){return this._super(t,o,f,{breakpoint:new Date().getTime(),blinkInterval:null,tickInterval:null,zeroDaysFired:!1,zeroHoursFired:!1,zeroMinutesFired:!1,zeroSecondsFired:!1,fontSize:0,current:{d:0,h:0,m:0,s:0},inactiveTab:!1,id:e.utils.elementId("countdown"),duration:600}),this},_create:function(){let o=this.options;this.duration=+o.duration<=0||+o.duration>=1e3?1e3:+o.duration,this._build(),this._createEvents()},_setBreakpoint:function(){let o=this.options,t=864e5,i=36e5,c=6e4,m=1e3;this.breakpoint=datetime().time(),o.date&&(this.breakpoint=(o.inputFormat?Datetime.from(o.date,o.inputFormat):datetime(o.date)).time()),parseInt(o.days)>0&&(this.breakpoint+=parseInt(o.days)*t),parseInt(o.hours)>0&&(this.breakpoint+=parseInt(o.hours)*i),parseInt(o.minutes)>0&&(this.breakpoint+=parseInt(o.minutes)*c),parseInt(o.seconds)>0&&(this.breakpoint+=parseInt(o.seconds)*m)},_build:function(){let o=this,t=this.element,i=this.options,c=["days","hours","minutes","seconds"],m=24*60*60*1e3,b,w=datetime().time(),S,D=this.strings;t.attr("id")||t.attr("id",e.utils.elementId("countdown")),t.addClass("countdown").addClass(`animate-${i.animate}`).addClass(i.clsCountdown),t.css("font-size",i.fontSize),this._setBreakpoint(),b=Math.round((o.breakpoint-w)/m),r.each(c,function(){let I=r("<div>").addClass("part "+this).addClass(i.clsPart).attr("data-label",D[`label_${this}`]).appendTo(t);if(this==="days"&&I.addClass(i.clsDays),this==="hours"&&I.addClass(i.clsHours),this==="minutes"&&I.addClass(i.clsMinutes),this==="seconds"&&I.addClass(i.clsSeconds),r("<div>").addClass("digit").appendTo(I),r("<div>").addClass("digit").appendTo(I),this==="days"&&b>=100)for(let P=0;P<String(Math.round(b/100)).length;P++)r("<div>").addClass("digit").appendTo(I)}),S=t.find(".digit"),S.append(r("<span class='digit-placeholder'>").html("0")),S.append(r("<span class='digit-value'>").html("0")),this._fireEvent("countdown-create",{element:t}),i.start===!0?this.start():this.tick(),this.fontSize=parseInt(t.css("font-size"))},_createEvents:function(){let o=this;r(document).on("visibilitychange",function(){document.hidden?o.pause():o.resume()},{ns:this.id})},blink:function(){this.element.toggleClass("blink"),this._fireEvent("blink",{time:this.current})},tick:function(){let o=this.element,t=this.options,i=24*60*60,c=60*60,m=60,b=1,w,S=datetime().time(),D,I,P,V,z=o.find(".days"),K=o.find(".hours"),ye=o.find(".minutes"),_e=o.find(".seconds");if(w=Math.floor((this.breakpoint-S)/1e3),w<=-1){this.stop(),o.addClass(t.clsAlarm),this._fireEvent("alarm",{time:S});return}D=Math.floor(w/i),w-=D*i,this.current.d!==D&&(this.current.d=D,this.draw("days",D)),D===0&&this.zeroDaysFired===!1&&(this.zeroDaysFired=!0,z.addClass(t.clsZero),this._fireEvent("zero",{part:"days",value:z})),I=Math.floor(w/c),w-=I*c,this.current.h!==I&&(this.current.h=I,this.draw("hours",I)),D===0&&I===0&&this.zeroHoursFired===!1&&(this.zeroHoursFired=!0,K.addClass(t.clsZero),this._fireEvent("zero",{part:"hours",value:K})),P=Math.floor(w/m),w-=P*m,this.current.m!==P&&(this.current.m=P,this.draw("minutes",P)),D===0&&I===0&&P===0&&this.zeroMinutesFired===!1&&(this.zeroMinutesFired=!0,ye.addClass(t.clsZero),this._fireEvent("zero",{part:"minutes",value:ye})),V=Math.floor(w/b),this.current.s!==V&&(this.current.s=V,this.draw("seconds",V)),D===0&&I===0&&P===0&&V===0&&this.zeroSecondsFired===!1&&(this.zeroSecondsFired=!0,_e.addClass(t.clsZero),this._fireEvent("zero",{part:"seconds",value:_e})),this._fireEvent("tick",{days:D,hours:I,minutes:P,seconds:V})},draw:function(o,t){let i=this.element,c=this.options,m,b,w,S,D,I,P,V=this.duration,z=this.fontSize,K=function(Ne,Ie){let Se,Me=Ne.height();Ne.siblings(".-old-digit").remove(),Se=Ne.clone().appendTo(Ne.parent()),Se.css({top:-1*Me+"px"}),Ne.addClass("-old-digit").animate({draw:{top:Me,opacity:0},dur:V,ease:c.ease,onDone:function(){r(this).remove()}}),Se.html(Ie).animate({draw:{top:0,opacity:[0,1]},dur:V,ease:c.ease})},ye=function(Ne,Ie){let Se;Ne.siblings(".-old-digit").remove(),Se=Ne.clone().appendTo(Ne.parent()),Se.css({opacity:0}),Ne.addClass("-old-digit").animate({draw:{opacity:0},dur:V/2,ease:c.ease,onDone:function(){r(this).remove()}}),Se.html(Ie).animate({draw:{opacity:1},dur:V/2,ease:c.ease})},_e=function(Ne,Ie){let Se,Me=i.height(),Be=z;Ne.siblings(".-old-digit").remove(),Se=Ne.clone().appendTo(Ne.parent()),Se.css({top:0,left:0,opacity:1}),Ne.addClass("-old-digit").animate({draw:{top:Me,opacity:0,fontSize:0},dur:V,ease:c.ease,onDone:function(){r(this).remove()}}),Se.html(Ie).animate({draw:{top:0,opacity:1,fontSize:[0,Be]},dur:V,ease:c.ease})};for(t=""+t,t.length===1&&(t="0"+t),I=t.length,m=i.find("."+o+" .digit:not(.-old-digit)"),b=m.length,i.find(".-old-digit").remove(),P=0;P<I;P++)if(D=m.eq(b-1).find(".digit-value"),w=Math.floor(parseInt(t)/Math.pow(10,P))%10,S=parseInt(D.text()),b--,S!==w)switch((""+c.animate).toLowerCase()){case"slide":K(D,w);break;case"fade":ye(D,w);break;case"zoom":_e(D,w);break;default:D.html(w)}},start:function(){let o=this,t=this.element;t.data("paused")!==!1&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.data("paused",!1),this._setBreakpoint(),this.tick(),this.blinkInterval=setInterval(function(){o.blink()},500),this.tickInterval=setInterval(function(){o.tick()},1e3))},stop:function(){let o=this.element;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),o.data("paused",!0),o.find(".digit").html("0"),this.current={d:0,h:0,m:0,s:0}},pause:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data("paused",!0)},resume:function(){let o=this;this.element.data("paused",!1),this.blinkInterval=setInterval(function(){o.blink()},500),this.tickInterval=setInterval(function(){o.tick()},1e3)},reset:function(){let o=this,t=this.element,i=this.options;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.find(".part").removeClass(i.clsZero);let c=t.find(".digit").clear();c.append(r("<span class='digit-placeholder'>").html("0")),c.append(r("<span class='digit-value'>").html("0")),this._setBreakpoint(),t.data("paused",!1),this.tick(),this.blinkInterval=setInterval(function(){o.blink()},500),this.tickInterval=setInterval(function(){o.tick()},1e3)},resetWith:function(o){let t=this.element,i=this.options;if(typeof o=="string")t.attr("data-date",o),i.date=o;else if(typeof o=="object"){let c=["days","hours","minutes","seconds"];r.each(c,function(m,b){e.utils.isValue(o[b])&&(t.attr("data-"+b,o[b]),i[b]=o[b])})}this.reset()},togglePlay:function(){this.element.attr("data-pause")===!0?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getBreakpoint:function(o){return o===!0?new Date(this.breakpoint):this.breakpoint},getLeft:function(){let o=new Date().getTime(),t=Math.floor(this.breakpoint-o);return{days:Math.round(t/864e5),hours:Math.round(t/36e5),minutes:Math.round(t/6e4),seconds:Math.round(t/1e3)}},changeAttribute:function(o,t){switch(o){case"data-pause":this.togglePlay();break;case"data-duration":this.duration=+t<=0||+t>=1e3?600:+t;break}},destroy:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),r(document).off("visibilitychange",{ns:this.id}),this.element.remove()}})}(Metro,Dom),function(e,r){let f={startOnViewport:!1,counterDeferred:0,duration:2e3,value:0,from:0,timeout:0,delimiter:",",prefix:"",suffix:"",size:16,onStart:e.noop,onStop:e.noop,onTick:e.noop,onCounterCreate:e.noop};e.counterSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroCounterSetup<"u"&&e.counterSetup(globalThis.metroCounterSetup),e.Component("counter",{init:function(o,t){return this._super(t,o,f,{numbers:[],html:r(t).html(),started:!1,id:e.utils.elementId("counter")}),this},_create:function(){this._createStruct(),this._createEvents(),this._fireEvent("counter-create")},_createStruct:function(){let o=this.element;this.elem,this.options,this.elem.value=0,o.css("font-size",this.options.size)},_createEvents:function(){let o=this;this.element,this.options.startOnViewport&&Hooks.useEvent({effect:()=>{o.start()},target:o.elem,event:Hooks.EVENTS.VIEWPORT})},start:function(o,t){let i=this,c=this.elem,m=this.options;e.utils.isValue(t)&&(m.from=+t),e.utils.isValue(o)&&(m.value=+o),this.started=!0;let b=m.from,w=m.value;this._fireEvent("start"),r.animate({el:c,draw:{value:[b,w]},defer:m.timeout,dur:m.duration,onFrame:function(){i._fireEvent("tick",{value:this.value}),this.innerHTML=m.prefix+Number(this.value).format(0,0,m.delimiter)+m.suffix},onDone:function(){i._fireEvent("stop")}})},reset:function(){this.started=!1,this.element.html(this.html)},changeAttribute:function(o,t){let i=this.options;o==="data-value"&&(i.value=+t),o==="data-from"&&(i.from=+t)},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={cubeDeferred:0,rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:"arrow",cellClick:!1,autoRestart:5e3,clsCube:"",clsCell:"",clsSide:"",clsSideLeft:"",clsSideRight:"",clsSideTop:"",clsSideLeftCell:"",clsSideRightCell:"",clsSideTopCell:"",clsAxis:"",clsAxisX:"",clsAxisY:"",clsAxisZ:"",custom:e.noop,onTick:e.noop,onCubeCreate:e.noop};e.cubeSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroCubeSetup<"u"&&e.cubeSetup(globalThis.metroCubeSetup),e.cubeDefaultRules=[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],e.Component("cube",{init:function(t,i){return this._super(i,t,o,{id:f.elementId("cube"),rules:null,interval:!1,ruleInterval:!1,running:!1,intervals:[]}),this},_create:function(){var t=this.element,i=this.options;i.rules===null?this.rules=e.cubeDefaultRules:this._parseRules(i.rules),this._createCube(),this._createEvents(),this._fireEvent("cube-create",{element:t})},_parseRules:function(t){if(t==null)return!1;if(f.isObject(t))return this.rules=f.isObject(t),!0;try{return this.rules=JSON.parse(t),!0}catch{return console.warn("Unknown or empty rules for cell flashing!"),!1}},_createCube:function(){var t=this.element,i=this.options,c=["left","right","top"],m=f.elementId("cube"),b=Math.pow(i.cells,2);t.addClass("cube").addClass(i.clsCube),t.attr("id")||t.attr("id",m),this.id=t.attr("id"),this._createCssForFlashColor(),this._createCssForCellSize(),r.each(c,function(){var D,I,P;for(D=r("<div>").addClass("side "+this+"-side").addClass(i.clsSide).appendTo(t),this==="left"&&D.addClass(i.clsSideLeft),this==="right"&&D.addClass(i.clsSideRight),this==="top"&&D.addClass(i.clsSideTop),P=0;P<b;P++)I=r("<div>").addClass("cube-cell").addClass("cell-id-"+(P+1)).addClass(i.clsCell),I.data("id",P+1).data("side",this),I.appendTo(D),i.numbers===!0&&I.html(P+1)});var w=t.find(".cube-cell");i.color!==null&&(Farbe.Routines.isColor(i.color)?w.css({backgroundColor:i.color,borderColor:i.color}):w.addClass(i.color));var S=["x","y","z"];r.each(S,function(){var D=this,I=r("<div>").addClass("axis "+i.axisStyle).addClass("axis-"+D).addClass(i.clsAxis);D==="x"&&I.addClass(i.clsAxisX),D==="y"&&I.addClass(i.clsAxisY),D==="z"&&I.addClass(i.clsAxisZ),I.appendTo(t)}),i.showAxis===!1&&t.find(".axis").hide(),this._run()},_run:function(){var t=this,i=this.element,c=this.options,m=0;clearInterval(this.interval),i.find(".cube-cell").removeClass("light"),c.custom!==e.noop?f.exec(c.custom,[i]):(i.find(".cube-cell").removeClass("light"),t._start(),m=f.isObject(this.rules)?f.objectLength(this.rules):0,this.interval=setInterval(function(){t._start()},m*c.flashInterval))},_createCssForCellSize:function(){var t=this.element,i=this.options,c=e.sheet,m,b;i.margin===8&&i.cells===4||(m=parseInt(f.getStyleOne(t,"width")),b=Math.ceil((m/2-i.margin*i.cells*2)/i.cells),f.addCssRule(c,"#"+t.attr("id")+" .side .cube-cell","width: "+b+"px!important; height: "+b+"px!important; margin: "+i.margin+"px!important;"))},_createCssForFlashColor:function(){var t=this.element,i=this.options,c=e.sheet,m,b,w=[],S=[],D;if(i.flashColor!==null){for(m="0 0 10px "+Farbe.Routines.toRGBA(Farbe.Routines.parse(i.flashColor),1),b="0 0 10px "+Farbe.Routines.toRGBA(Farbe.Routines.parse(i.flashColor),i.attenuation),D=0;D<3;D++)w.push(m),S.push(b);f.addCssRule(c,"@keyframes pulsar-cell-"+t.attr("id"),"0%, 100% { box-shadow: "+w.join(",")+"} 50% { box-shadow: "+S.join(",")+" }"),f.addCssRule(c,"#"+t.attr("id")+" .side .cube-cell.light","animation: pulsar-cell-"+t.attr("id")+" 2.5s 0s ease-out infinite; background-color: "+i.flashColor+"!important; border-color: "+i.flashColor+"!important;")}},_createEvents:function(){var t=this,i=this.element,c=this.options;r(globalThis).on(e.events.blur,function(){c.stopOnBlur===!0&&t.running===!0&&t._stop()},{ns:i.attr("id")}),r(globalThis).on(e.events.focus,function(){c.stopOnBlur===!0&&t.running===!1&&t._start()},{ns:i.attr("id")}),i.on(e.events.click,".cube-cell",function(){if(c.cellClick===!0){var m=r(this);m.toggleClass("light")}})},_start:function(){var t=this,i=this.element;i.find(".cube-cell").removeClass("light"),this.running=!0,r.each(this.rules,function(c,m){t._execRule(c,m)})},_stop:function(){this.running=!1,clearInterval(this.interval),r.each(this.intervals,function(){clearInterval(this)})},_tick:function(t,i){var c=this,m=this.options;i===void 0&&(i=m.flashInterval*t);var b=setTimeout(function(){c._fireEvent("tick",{index:t}),clearInterval(b),f.arrayDelete(c.intervals,b)},i);this.intervals.push(b)},_toggle:function(t,i,c,m){var b=this;m===void 0&&(m=this.options.flashInterval*c);var w=setTimeout(function(){t[i==="on"?"addClass":"removeClass"]("light"),clearInterval(w),f.arrayDelete(b.intervals,w)},m);this.intervals.push(w)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(t,i){var c=this,m=this.element,b=this.options,w=this.rules;if(!(w==null||w[t]===void 0)){clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),m.find(".cube-cell").removeClass("light");for(var S=0;S<=t;S++)this._execRule(S,w[S],i);f.isInt(b.autoRestart)&&b.autoRestart>0&&(this.ruleInterval=setTimeout(function(){c._run()},b.autoRestart))}},_execRule:function(t,i,c){var m=this,b=this.element,w=["left","right","top"];this._tick(t,c),r.each(w,function(){var S="."+this+"-side",D=this,I=i.on&&i.on[D]?i.on[D]:!1,P=i.off&&i.off[D]?i.off[D]:!1;I!==!1&&r.each(I,function(){var V=this,z=b.find(S+" .cell-id-"+V);m._toggle(z,"on",t,c)}),P!==!1&&r.each(P,function(){var V=this,z=b.find(S+" .cell-id-"+V);m._toggle(z,"off",t,c)})})},rule:function(t){if(t===void 0)return this.rules;this._parseRules(t)===!0&&(this.options.rules=t,this.stop(),this.element.find(".cube-cell").removeClass("light"),this._run())},axis:function(t){var i=t===!0?"show":"hide";this.element.find(".axis")[i]()},changeRules:function(){var t=this.element,i=this.options,c=t.attr("data-rules");this._parseRules(c)===!0&&(this.stop(),t.find(".cube-cell").removeClass("light"),i.rules=c,this._run())},changeAxisVisibility:function(){var t=this.element,i=JSON.parse(t.attr("data-show-axis"))===!0,c=i?"show":"hide";t.find(".axis")[c]()},changeAxisStyle:function(){var t=this.element,i=t.attr("data-axis-style");t.find(".axis").removeClass("arrow line no-style").addClass(i)},changeAttribute:function(t){switch(t){case"data-rules":this.changeRules();break;case"data-show-axis":this.changeAxisVisibility();break;case"data-axis-style":this.changeAxisStyle();break}},destroy:function(){var t=this.element;return clearInterval(this.interval),this.interval=null,r(globalThis).off(e.events.blur,{ns:t.attr("id")}),r(globalThis).off(e.events.focus,{ns:t.attr("id")}),t.off(e.events.click,".cube-cell"),t}})}(Metro,Dom),function(e,r){let f={customCheckboxDeferred:0,stateOn:"☑",stateOff:"☐",captionOn:"",captionOff:"",captionPosition:"right",clsCustomCheckbox:"",clsIcon:"",clsIconOn:"",clsIconOff:"",clsCaption:"",clsCaptionOn:"",clsCaptionOff:"",onCustomCheckboxCreate:e.noop};e.customCheckboxSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroCustomCheckboxSetup<"u"&&e.customCheckboxSetup(globalThis.metroCustomCheckboxSetup),e.Component("custom-checkbox",{init:function(o,t){return this._super(t,o,f),this},_create:function(){let o=this.element,t=this.options,i=o.wrap(r("<label>").addClass("custom-checkbox").addClass(t.clsCustomCheckbox)),c=r("<span>").addClass("icon").addClass(t.clsIcon).appendTo(i);if(o.attr("type","checkbox"),o.attr("readonly")&&o.on("click",function(m){m.preventDefault()}),t.stateOn&&r("<span>").addClass("state-on").addClass(t.clsIconOn).html(t.stateOn).appendTo(c),t.stateOff&&r("<span>").addClass("state-off").addClass(t.clsIconOff).html(t.stateOff).appendTo(c),t.captionOn||t.captionOff){let m=r("<span>").addClass("caption").addClass(t.clsCaption).appendTo(i);t.captionOn&&r("<span>").addClass("caption-state-on").addClass(t.clsCaptionOn).html(t.captionOn).appendTo(m),t.captionOff&&r("<span>").addClass("caption-state-off").addClass(t.clsCaptionOff).html(t.captionOff).appendTo(m)}t.captionPosition==="left"&&i.addClass("caption-left"),o[0].className="",o.is(":disabled")?this.disable():this.enable(),this._fireEvent("customCheckbox-create")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(o){let t=this.element;return e.utils.isValue(o)?t.prop("checked",o===1):t.prop("checked",!e.utils.bool(t.prop("checked"))),this},changeAttribute:function(o){switch(o){case"disabled":this.toggleState();break}},destroy:function(){return this.element}})}(Metro,Dom),function(e,r){var f=e.utils,o={label:"",datepickerDeferred:0,gmt:0,format:"YYYY-MM-DD",inputFormat:null,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,defaultYearDistance:100,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsMonth:"",clsDay:"",clsYear:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"✓",cancelButtonIcon:"𐄂",onSet:e.noop,onOpen:e.noop,onClose:e.noop,onScroll:e.noop,onDatePickerCreate:e.noop};e.datePickerSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroDatePickerSetup<"u"&&e.datePickerSetup(globalThis.metroDatePickerSetup),e.Component("date-picker",{init:function(t,i){return this._super(i,t,o,{picker:null,isOpen:!1,value:datetime(),listTimer:{day:null,month:null,year:null}}),this},_create:function(){var t=this.element,i=this.options,c=this.locale,m=datetime();i.distance<1&&(i.distance=1),f.isValue(t.val())&&(i.value=t.val()),f.isValue(i.value)&&(this.value=i.inputFormat?Datetime.from(i.value,i.inputFormat,c):datetime(i.value)),i.minYear===null&&(i.minYear=m.year()-i.defaultYearDistance),i.maxYear===null&&(i.maxYear=m.year()+i.defaultYearDistance),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("datepicker-create",{element:t})},_createStructure:function(){var t=this.element,i=this.options,c=this.locale,m,b,w,S,D,I,P,V,z,K,ye=f.elementId("datepicker");if(m=r("<div>").addClass("wheel-picker date-picker "+t[0].className).addClass(i.clsPicker),m.attr("id")||m.attr("id",ye),m.insertBefore(t),t.appendTo(m),i.label){var _e=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(m);t.attr("id")&&_e.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&_e.addClass("rtl")}if(P=r("<div>").addClass("date-wrapper").appendTo(m),i.month===!0&&(b=r("<div>").addClass("month").addClass(i.clsPart).addClass(i.clsMonth).appendTo(P)),i.day===!0&&(w=r("<div>").addClass("day").addClass(i.clsPart).addClass(i.clsDay).appendTo(P)),i.year===!0&&(S=r("<div>").addClass("year").addClass(i.clsPart).addClass(i.clsYear).appendTo(P)),V=r("<div>").addClass("select-wrapper").appendTo(m),z=r("<div>").addClass("select-block").appendTo(V),i.month===!0){for(b=r("<ul>").addClass("sel-month").appendTo(z),D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(b);for(D=0;D<12;D++){let Ne=Datetime.getLocale(c).months[D];r("<li>").addClass("js-month-"+D+" js-month-real-"+Ne.toLowerCase()).html(Ne).data("value",D).appendTo(b)}for(D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(b)}if(i.day===!0){for(w=r("<ul>").addClass("sel-day").appendTo(z),D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(w);for(D=0;D<31;D++)r("<li>").addClass("js-day-"+D+" js-day-real-"+(D+1)).html(D+1).data("value",D+1).appendTo(w);for(D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(w)}if(i.year===!0){for(S=r("<ul>").addClass("sel-year").appendTo(z),D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(S);for(D=i.minYear,I=0;D<=i.maxYear;D++,I++)r("<li>").addClass("js-year-"+I+" js-year-real-"+D).html(D).data("value",D).appendTo(S);for(D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(S)}if(z.height((i.distance*2+1)*40),K=r("<div>").addClass("action-block").appendTo(V),r("<button>").attr("type","button").addClass("button action-today").addClass(i.clsButton).addClass(i.clsTodayButton).html(`<span class="caption">${this.strings.label_today}</span>`).appendTo(K),r("<button>").attr("type","button").addClass("button action-ok").addClass(i.clsButton).addClass(i.clsOkButton).html(`<span class="icon">${i.okButtonIcon}</span>`).appendTo(K),r("<button>").attr("type","button").addClass("button action-cancel").addClass(i.clsButton).addClass(i.clsCancelButton).html(`<span class="icon">${i.cancelButtonIcon}</span>`).appendTo(K),t[0].className="",i.copyInlineStyles===!0)for(D=0;D<t[0].style.length;D++)m.css(t[0].style[D],t.css(t[0].style[D]));t.prop("disabled")&&m.addClass("disabled"),this.picker=m},_createEvents:function(){var t=this,i=this.options,c=this.picker;c.on("touchstart",".select-block ul",function(b){if(!b.changedTouches){var w=this,S=f.pageXY(b).y;r(document).on("touchmove",function(D){w.scrollTop-=i.scrollSpeed*(S>f.pageXY(D).y?-1:1),S=f.pageXY(D).y},{ns:c.attr("id")}),r(document).on("touchend",function(){r(document).off(e.events.move,{ns:c.attr("id")}),r(document).off(e.events.stop,{ns:c.attr("id")})},{ns:c.attr("id")})}}),c.on(e.events.click,function(b){t.isOpen===!1&&t.open(),b.stopPropagation()}),c.on(e.events.click,".action-ok",function(b){var w,S,D,I=c.find(".sel-month li.active"),P=c.find(".sel-day li.active"),V=c.find(".sel-year li.active");w=I.length===0?t.value.value.getMonth():I.data("value"),S=P.length===0?t.value.value.getDate():P.data("value"),D=V.length===0?t.value.value.getFullYear():V.data("value"),t.value=datetime(D,w,S),t._set(),t.close(),b.preventDefault(),b.stopPropagation()}),c.on(e.events.click,".action-cancel",function(b){t.close(),b.preventDefault(),b.stopPropagation()});var m=150;r.each(["month","day","year"],function(){var b=this,w=c.find(".sel-"+b);let S=Hooks.useDebounce(function(D){var I,P,V;t.listTimer[b]=null,I=Math.round(Math.ceil(w.scrollTop())/40),P=w.find(".js-"+b+"-"+I),V=P.position().top-i.distance*40,w.find(".active").removeClass("active"),w[0].scrollTop=V,P.addClass("active"),f.exec(i.onScroll,[P,w,c],w[0])},m);w.on("scroll",S)}),c.on(e.events.click,"ul li",function(b){let w=r(this),S=w.closest("ul"),D=w.position().top-i.distance*40;S.find(".active").removeClass("active"),r.animate({el:S[0],draw:{scrollTop:D},dur:300}),S[0].scrollTop=D,w.addClass("active"),f.exec(i.onScroll,[w,S,c],S[0])}),c.on(e.events.click,".action-today",function(b){let w=datetime(),S=w.month(),D=w.day(),I=w.year();c.find(`.sel-month li.js-month-${S}`).click(),c.find(`.sel-day li.js-day-real-${D}`).click(),c.find(`.sel-year li.js-year-real-${I}`).click(),b.preventDefault(),b.stopPropagation()})},_correct:function(){var t=this.value.month(),i=this.value.day(),c=this.value.year();this.value=datetime(c,t,i)},_set:function(){var t=this.element,i=this.options,c=this.picker,m=Datetime.getLocale(this.locale).months[this.value.month()],b=this.value.day(),w=this.value.year();i.month===!0&&c.find(".month").html(m),i.day===!0&&c.find(".day").html(b),i.year===!0&&c.find(".year").html(w),t.val(this.value.format(i.format,this.locale)).trigger("change"),this._fireEvent("set",{value:this.value.val(),elementValue:t.val(),picker:c})},open:function(){var t=this.options,i=this.picker,c=this.value.month(),m=this.value.day()-1,b=this.value.year(),w,S,D,I=i.find(".select-wrapper");r.each(r(".date-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"datepicker").close()})}),I.show(0),i.find("li").removeClass("active"),t.openMode==="auto"?(e.utils.inViewport(I[0])||I.parent().addClass("drop-up-select"),e.utils.inViewport(I[0])||(I.parent().removeClass("drop-up-select"),I.parent().addClass("drop-as-dialog"))):t.openMode==="dialog"?I.parent().addClass("drop-as-dialog"):t.openMode==="up"&&I.parent().addClass("drop-up-select"),t.month===!0&&(w=i.find(".sel-month"),w.scrollTop(0).animate({draw:{scrollTop:w.find("li.js-month-"+c).addClass("active").position().top-40*t.distance},dur:100})),t.day===!0&&(S=i.find(".sel-day"),S.scrollTop(0).animate({draw:{scrollTop:S.find("li.js-day-"+m).addClass("active").position().top-40*t.distance},dur:100})),t.year===!0&&(D=i.find(".sel-year"),D.scrollTop(0).animate({draw:{scrollTop:D.find("li.js-year-real-"+b).addClass("active").position().top-40*t.distance},dur:100})),this.isOpen=!0,this._fireEvent("open",{value:this.value.val(),picker:i})},close:function(){var t=this.picker,i=this.options;t.find(".select-wrapper").hide(0),i.openMode==="auto"&&t.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{value:this.value.val(),picker:t})},val:function(t){var i=this.options;if(!f.isValue(t))return this.element.val();this.value=i.inputFormat?Datetime.from(t,i.inputFormat,this.locale):datetime(t),this._set()},date:function(t,i){if(t===void 0)return this.value.val();try{this.value=Datetime.from(t,i,this.locale),this._set()}catch{return!1}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t,i){switch(t){case"disabled":this.toggleState();break;case"data-value":this.val(i);break;case"data-format":this.options.format=i,this._set();break}},destroy:function(){var t=this.element,i=this.picker;return r.each(["moth","day","year"],function(){i.find(".sel-"+this).off("scroll")}),i.off(e.events.start,".select-block ul"),i.off(e.events.click),i.off(e.events.click,".action-ok"),i.off(e.events.click,".action-cancel"),t}}),r(document).on(e.events.click,function(){r.each(r(".date-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"datepicker").close()})})})}(Metro,Dom),function(e,r){let f={note:`
    <svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8.75 3.5V2C8.75 1.59 8.41 1.25 8 1.25C7.59 1.25 7.25 1.59 7.25 2V3.56C7.5 3.53 7.73 3.5 8 3.5H8.75Z"/>
        <path d="M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H16C16.27 3.5 16.5 3.53 16.75 3.56Z"/>
        <path d="M16.75 3.56V5C16.75 5.41 16.41 5.75 16 5.75C15.59 5.75 15.25 5.41 15.25 5V3.5H8.75V5C8.75 5.41 8.41 5.75 8 5.75C7.59 5.75 7.25 5.41 7.25 5V3.56C4.3 3.83 3 5.73 3 8.5V17C3 20 4.5 22 8 22H16C19.5 22 21 20 21 17V8.5C21 5.73 19.7 3.83 16.75 3.56ZM12 16.75H8C7.59 16.75 7.25 16.41 7.25 16C7.25 15.59 7.59 15.25 8 15.25H12C12.41 15.25 12.75 15.59 12.75 16C12.75 16.41 12.41 16.75 12 16.75ZM16 11.75H8C7.59 11.75 7.25 11.41 7.25 11C7.25 10.59 7.59 10.25 8 10.25H16C16.41 10.25 16.75 10.59 16.75 11C16.75 11.41 16.41 11.75 16 11.75Z"/>
    </svg>
    `,info:`
    <svg width="800px" height="800px" viewBox="-160 0 512 512" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"/>
    </svg>
    `,warning:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 294.995 294.995" xml:space="preserve">
        <path d="M291.874,248.279L165.605,26.526c-4.007-7.037-10.776-11.26-18.107-11.26s-14.101,4.202-18.107,11.239L3.121,248.238 c-3.979,6.989-4.164,15.013-0.493,21.326c3.67,6.313,10.663,10.165,18.705,10.165h252.329c8.042,0,15.035-3.852,18.705-10.165 C296.038,263.251,295.854,255.268,291.874,248.279z M146.665,86.229c9.665,0,17.5,7.835,17.5,17.5v63c0,9.665-7.835,17.5-17.5,17.5 c-9.665,0-17.5-7.835-17.5-17.5v-63C129.165,94.064,137,86.229,146.665,86.229z M147.498,204.005c9.665,0,17.5,7.835,17.5,17.5 c0,9.665-7.835,17.5-17.5,17.5c-9.665,0-17.5-7.835-17.5-17.5C129.998,211.84,137.833,204.005,147.498,204.005z"/>
    </svg>
    `,caution:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"  xml:space="preserve">
        <path class="st0" d="M387.317,0.005H284.666h-57.332h-102.65L0,124.688v102.67v57.294v102.67l124.684,124.674h102.65h57.332
            h102.651L512,387.321v-102.67v-57.294v-102.67L387.317,0.005z M255.45,411.299c-19.082,0-34.53-15.467-34.53-34.549
            c0-19.053,15.447-34.52,34.53-34.52c19.082,0,34.53,15.467,34.53,34.52C289.98,395.832,274.532,411.299,255.45,411.299z
             M283.414,278.692c0,15.448-12.516,27.964-27.964,27.964c-15.458,0-27.964-12.516-27.964-27.964l-6.566-135.368
            c0-19.072,15.447-34.54,34.53-34.54c19.082,0,34.53,15.467,34.53,34.54L283.414,278.692z"/>
    </svg>
    `,tip:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 256 256" xml:space="preserve">
        <path d="M216.2,92.5c-5.2-5.3-13.8-5.4-19-0.1L157.8,134l-0.3,0.3c-25.5,0.1-46.2,16.8-46.2,37.3h-5.8c0-23.6,23.1-42.8,51.6-43.1
            l-0.1-19.4c0,0-0.1-85.4-0.1-85.5c-0.7-5.8-5.6-10.3-11.7-10.3c-6.5,0-11.7,5.3-11.7,11.7c0,0.2,0,72.9,0,72.9l-5.2,0.2l-0.1-81.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8v81h-5.6l0.1-63.6c0-6.5-5.3-11.7-11.8-11.7S75.7,28,75.7,34.4V98h-5.2l0.1-34.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8c0,108.4,0,108.4,0,111c0,13.2,6.8,24.4,16.2,28.1v48.4h0.2v0.4l81.2-0.4v-51.1
            c2.5-0.9,5.1-2,7.6-3.3c15.4-7.9,26.1-20.3,29.5-32.5c2.9-4.3,36.8-56.2,36.8-56.2C221.4,103.7,220.6,96.9,216.2,92.5z"/>
    </svg>  
    `,success:`
        <svg width="800px" height="800px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path d="M24,2A22,22,0,1,0,46,24,21.9,21.9,0,0,0,24,2ZM35.4,18.4l-14,14a1.9,1.9,0,0,1-2.8,0l-5.9-5.9a2.2,2.2,0,0,1-.4-2.7,2,2,0,0,1,3.1-.2L20,28.2,32.6,15.6a2,2,0,0,1,2.8,2.8Z"/>
        </svg>    
    `},o={directive:"note",showIcon:!0,title:"default",style:1,onDirectiveCreate:e.noop};e.directiveSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroDirectiveSetup<"u"&&e.directiveSetup(globalThis.metroDirectiveSetup),e.Component("directive",{init:function(t,i){return this._super(i,t,o,{}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("directive-create")},_createStructure:function(){let t=this.element,i=this.options,c=t.wrap("<div>").addClass("directive").addClass(`directive-style-${i.style}`).addClass(`directive-${i.directive}`),m=r("<div>").addClass("directive-title").html(i.title==="default"?this.strings[`label_${i.directive.toLowerCase()}`].toUpperCase():i.title);i.showIcon&&m.prepend(r("<span>").addClass("icon").html(f[i.directive])),c.prepend(m),this.component=c},_createEvents:function(){this.element,this.options},changeAttribute:function(t,i){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={donutDeferred:0,size:100,hole:.8,value:0,background:"transparent",color:"",stroke:"#d1d8e7",fill:"#49649f",fontSize:0,total:100,cap:"%",showText:!0,showValue:!1,animate:0,onChange:e.noop,onDrawValue:function(t){return t},onDonutCreate:e.noop};e.donutSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroDonutSetup<"u"&&e.donutSetup(globalThis.metroDonutSetup),e.Component("donut",{init:function(t,i){return this._super(i,t,o,{value:0,animation_change_interval:null}),this},_create:function(){var t=this.element,i=this.options;t.addClass("donut"),this._setElementSize(),this._draw(),this._addEvents(),this.val(i.value),this._fireEvent("donut-create",{element:t})},_setElementSize:function(){var t=this.element,i=this.options,c=i.size;t.css({width:c,background:i.background}),t.css({height:t.width()})},_draw:function(){var t=this.element,i=this.options,c="",m=t.width()/2,b=m*(1-(1-i.hole)/2),w=m*(1-i.hole),S="rotate(-90 "+m+","+m+")",D=i.fontSize===0?b*i.hole*.6:i.fontSize;c+="<svg>",c+="   <circle class='donut-back' r='"+b+"px' cx='"+m+"px' cy='"+m+"px' transform='"+S+"' fill='none' stroke='"+i.stroke+"' stroke-width='"+w+"'/>",c+="   <circle class='donut-fill' r='"+b+"px' cx='"+m+"px' cy='"+m+"px' transform='"+S+"' fill='none' stroke='"+i.fill+"' stroke-width='"+w+"'/>",i.showText===!0&&(c+="   <text class='donut-title' x='"+m+"px' y='"+m+"px' dy='"+D/3+"px' text-anchor='middle' fill='"+(i.color!==""?i.color:i.fill)+"' font-size='"+D+"px'></text>"),c+="</svg>",t.html(c)},_addEvents:function(){var t=this;r(globalThis).on("resize",function(){t._setElementSize(),t._draw(),t.val(t.value)})},_setValue:function(t){var i=this.element,c=this.options,m=i.find(".donut-fill"),b=i.find(".donut-title"),w=i.width()/2,S=w*(1-(1-c.hole)/2),D=Math.round(2*Math.PI*S),I=c.showValue?t:f.percent(c.total,t,!0),P=Math.round(+t*D/c.total),V=m.attr("stroke-dasharray");typeof V>"u"?V=0:V=+V.split(" ")[0];var z=P-V;m.animate({draw:function(K,ye){r(this).attr("stroke-dasharray",V+z*ye+" "+D)},dur:c.animate}),b.html(e.utils.exec(c.onDrawValue,[I+c.cap]))},val:function(t){var i=this.options;if(t===void 0)return this.value;if(parseInt(t)<0||parseInt(t)>i.total)return!1;this._setValue(t),this.value=t,this._fireEvent("change",{value:this.value})},setColor:function(t){var i=["background","fill","stroke","color"],c=this;return r.each(t,function(m,b){i.indexOf(m)!==-1&&(c.options[m]=b)}),this._draw(),this.val(this.value),this},changeValue:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(t,i){switch(t){case"data-value":this.changeValue();break;case"data-background":this.setColor({background:i});break;case"data-fill":this.setColor({fill:i});break;case"data-stroke":this.setColor({stroke:i});break;case"data-color":this.setColor({color:i});break}},destroy:function(){return this.element}})}(Metro,Dom),function(e,r){var f={height:"auto",multiSelect:!1,moveRightIcon:"&rsaquo;",moveRightAllIcon:"&raquo;",moveLeftIcon:"&lsaquo;",moveLeftAllIcon:"&laquo;",clsBox:"",clsMoveButton:"",clsMoveRightButton:"",clsMoveRightAllButton:"",clsMoveLeftButton:"",clsMoveLeftAllButton:"",clsListLeft:"",clsListRight:"",onDoubleSelectBoxCreate:e.noop};e.doubleSelectBoxSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroDoubleSelectBoxSetup<"u"&&e.doubleSelectBoxSetup(globalThis.metroDoubleSelectBoxSetup),e.Component("double-select-box",{init:function(o,t){return this._super(t,o,f,{select1:null,select2:null,list1:null,list2:null}),this},_create:function(){var o=this.element;if(this.options,o.children("select").length!==2)throw new Error("Component DoubleSelectBox required two select elements!");this._createStructure(),this._createEvents(),this._fireEvent("double-select-box-create")},_drawList:function(){var o=this;this.list1.clear(),this.select1.find("option").each(function(t,i){let c=r(i),m=c.attr("data-icon"),b=c.attr("data-template")?c.attr("data-template").replace(/\$1/g,c.text()):c.text();m&&(b=r("<span>").addClass("icon").append(m).outerHTML()+b),o.list1.append(r("<li>").html(b).attr("data-value",i.value).data("option",i))}),this.list2.clear(),this.select2.find("option").each(function(t,i){let c=r(i),m=c.attr("data-icon"),b=c.attr("data-template")?c.attr("data-template").replace(/\$1/g,c.text()):c.text();m&&(b=r("<span>").addClass("icon").append(m).outerHTML()+b),o.list2.append(r("<li>").html(b).attr("data-value",i.value).data("option",i))})},_createStructure:function(){var o=this.element,t=this.options,i=o.children("select"),c=i.eq(0),m=i.eq(1),b=r("<div>").addClass("controls").insertBefore(m),w,S;o.addClass("double-select-box").addClass(t.clsBox).css({height:t.height}),i.prop("multiple",!0),b.append(r([r("<button>").attr("type","button").addClass("button square small --move-right").addClass(t.clsMoveButton).addClass(t.clsMoveRightButton).html(`<span class="icon">${t.moveRightIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-right-all").addClass(t.clsMoveButton).addClass(t.clsMoveRightAllButton).html(`<span class="icon">${t.moveRightAllIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-left-all").addClass(t.clsMoveButton).addClass(t.clsMoveLeftAllButton).html(`<span class="icon">${t.moveLeftAllIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-left").addClass(t.clsMoveButton).addClass(t.clsMoveLeftButton).html(`<span class="icon">${t.moveLeftIcon}</span>`)])),w=r("<ul>").addClass("--list1").addClass(t.clsListLeft).insertBefore(c),S=r("<ul>").addClass("--list2").addClass(t.clsListRight).insertBefore(m),this.select1=c,this.select2=m,this.list1=w,this.list2=S,this._drawList()},_moveItems:function(o,t){r.each(o,function(){var i=r(this),c=i.data("option");r(c).appendTo(t[0]),i.removeClass("active").appendTo(t[1])})},_move:function(o,t){var i=this;t==="selected"?o==="ltr"?i._moveItems(this.list1.find("li.active"),[i.select2,i.list2]):i._moveItems(this.list2.find("li.active"),[i.select1,i.list1]):o==="ltr"?i._moveItems(this.list1.find("li"),[i.select2,i.list2]):i._moveItems(this.list2.find("li"),[i.select1,i.list1])},_createEvents:function(){var o=this,t=this.element,i=this.options,c=t.find("li");c.on("click",function(){var m=r(this);i.multiSelect===!1&&(o.list1.find("li").removeClass("active"),o.list2.find("li").removeClass("active")),m.addClass("active")}),c.on("dblclick",function(){var m=r(this),b=m.parent().hasClass("--list1")?"ltr":"rtl",w="selected";o.list1.find("li").removeClass("active"),o.list2.find("li").removeClass("active"),m.addClass("active"),o._move(b,w)}),t.on("click","button",function(){var m=r(this);if(m.hasClass("--move-right"))o._move("ltr","selected");else if(m.hasClass("--move-right-all"))o._move("ltr","all");else if(m.hasClass("--move-left"))o._move("rtl","selected");else if(m.hasClass("--move-left-all"))o._move("rtl","all");else throw new Error("Pressed unregistered button!")})},changeAttribute:function(o,t){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={doublesliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:e.position.BOTTOM,valueMin:null,valueMax:null,hint:!1,hintAlways:!1,hintPositionMin:e.position.TOP,hintPositionMax:e.position.TOP,hintMaskMin:"$1",hintMaskMax:"$1",target:null,size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsMarker:"",clsMarkerMin:"",clsMarkerMax:"",clsHint:"",clsHintMin:"",clsHintMax:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:e.noop,onStop:e.noop,onMove:e.noop,onChange:e.noop,onChangeValue:e.noop,onFocus:e.noop,onBlur:e.noop,onDoubleSliderCreate:e.noop};e.doubleSliderSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroDoubleSliderSetup<"u"&&e.doubleSliderSetup(globalThis.metroDoubleSliderSetup),e.Component("double-slider",{init:function(t,i){return this._super(i,t,o,{slider:null,valueMin:null,valueMax:null,keyInterval:!1,id:f.elementId("slider")}),this},_create:function(){var t=this.element,i=this.options;this.valueMin=f.isValue(i.valueMin)?+i.valueMin:+i.min,this.valueMax=f.isValue(i.valueMax)?+i.valueMax:+i.max,this._createSlider(),this._createEvents(),this.val(this.valueMin,this.valueMax),this._fireEvent("double-slider-create",{element:t})},_createSlider:function(){var t=this.element,i=this.options,c=r("<div>").addClass("slider-wrapper"),m=r("<div>").addClass("slider").addClass(i.clsSlider).addClass(this.elem.className),b=r("<div>").addClass("backside").addClass(i.clsBackside),w=r("<div>").addClass("complete").addClass(i.clsComplete),S=r("<button>").attr("type","button").addClass("marker marker-min").addClass(i.clsMarker).addClass(i.clsMarkerMin),D=r("<button>").attr("type","button").addClass("marker marker-max").addClass(i.clsMarker).addClass(i.clsMarkerMax),I=r("<div>").addClass("hint hint-min").addClass(i.hintPositionMin+"-side").addClass(i.clsHint).addClass(i.clsHintMin),P=r("<div>").addClass("hint hint-max").addClass(i.hintPositionMax+"-side").addClass(i.clsHint).addClass(i.clsHintMax),V;if(i.size>0&&m.outerWidth(i.size),m.insertBefore(t),t.appendTo(m),c.insertBefore(m),m.appendTo(c),b.appendTo(m),w.appendTo(m),S.appendTo(m),D.appendTo(m),I.appendTo(S),P.appendTo(D),i.hintAlways===!0&&r([I,P]).css({display:"block"}).addClass("permanent-hint"),i.showMinMax===!0){var z=r("<div>").addClass("slider-min-max").addClass(i.clsMinMax);r("<span>").addClass("slider-text-min").addClass(i.clsMin).html(`${i.min}`).appendTo(z),r("<span>").addClass("slider-text-max").addClass(i.clsMax).html(`${i.max}`).appendTo(z),i.minMaxPosition===e.position.TOP?z.insertBefore(m):z.insertAfter(m)}if(t[0].className="",i.copyInlineStyles===!0)for(V=0;V<t[0].style.length;V++)m.css(t[0].style[V],t.css(t[0].style[V]));t.is(":disabled")?this.disable():this.enable(),this.slider=m},_createEvents:function(){var t=this,i=this.slider,c=this.options,m=i.find(".marker");m.on(e.events.startAll,function(){var b=r(this),w=b.find(".hint");b.addClass("active"),c.hint===!0&&c.hintAlways!==!0&&w.fadeIn(300),r(document).on(e.events.moveAll,function(S){t._move(S),t._fireEvent("move",{min:t.valueMin,max:t.valueMax})},{ns:t.id}),r(document).on(e.events.stopAll,function(){i.find(".marker").removeClass("active"),r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id}),c.hintAlways!==!0&&w.fadeOut(300),t._fireEvent("stop",{min:t.valueMin,max:t.valueMax})},{ns:t.id}),t._fireEvent("start",{min:t.valueMin,max:t.valueMax})}),m.on(e.events.focus,function(){t._fireEvent("focus",{min:t.valueMin,max:t.valueMax})}),m.on(e.events.blur,function(){t._fireEvent("blur",{min:t.valueMin,max:t.valueMax})}),r(globalThis).on(e.events.resize,function(){t.val(t.valueMin,t.valueMax)},{ns:t.id})},_convert:function(t,i){var c=this.slider,m=this.options,b=c.outerWidth()-c.find(".marker").outerWidth();switch(i){case"pix2prc":return t*100/b;case"pix2val":return this._convert(t,"pix2prc")*((m.max-m.min)/100)+m.min;case"val2prc":return(t-m.min)/((m.max-m.min)/100);case"prc2pix":return t/(100/b);case"val2pix":return this._convert(this._convert(t,"val2prc"),"prc2pix")}return 0},_correct:function(t){var i=t,c=this.options.accuracy,m=this.options.min,b=this.options.max,w=function(S){return S%1===0?0:S.toString().split(".")[1].length};return c===0||isNaN(c)?i:(i=Math.round(t/c)*c,i<m&&(i=m),i>b&&(i=b),i.toFixed(w(c)))},_move:function(t){var i=this.slider.find(".marker.active"),c=i.hasClass("marker-min"),m=this.slider,b=m.offset(),w=m.find(".marker").outerWidth(),S=m.find(".marker-min"),D=m.find(".marker-max"),I=m.outerWidth(),P,V,z;P=f.pageXY(t).x-b.left-w/2,c?(V=0,z=parseInt(D.css("left"))-w):(V=parseInt(S.css("left"))+w,z=I-w),!(P<V||P>z)&&(this[c?"valueMin":"valueMax"]=this._correct(this._convert(P,"pix2val")),this._redraw())},_hint:function(){var t=this,i=this.options,c=this.slider,m=c.find(".hint");m.each(function(){var b=r(this),w=b.hasClass("hint-min"),S=w?i.hintMaskMin:i.hintMaskMax,D=+(w?t.valueMin:t.valueMax)||0;b.text(S.replace("$1",D.toFixed(f.decCount(i.accuracy))))})},_value:function(){var t=this.element,i=this.options,c=+this.valueMin||0,m=+this.valueMax||0,b;if(i.roundValue&&(c=c.toFixed(f.decCount(i.accuracy)),m=m.toFixed(f.decCount(i.accuracy))),b=[c,m].join(", "),t[0].tagName==="INPUT"&&t.val(b),i.target!==null){var w=r(i.target);w.length!==0&&r.each(w,function(){var S=r(this);this.tagName==="INPUT"?S.val(b):S.text(b),S.trigger("change")})}this._fireEvent("change-value",{val:b}),this._fireEvent("change",{val:b})},_marker:function(){var t=this.slider,i=t.find(".marker-min"),c=t.find(".marker-max"),m=t.find(".complete"),b=parseInt(f.getStyleOne(i,"width")),w=f.isVisible(t);w&&r([i,c]).css({"margin-top":0,"margin-left":0}),w?(i.css("left",this._convert(this.valueMin,"val2pix")),c.css("left",this._convert(this.valueMax,"val2pix"))):(i.css({left:this._convert(this.valueMin,"val2prc")+"%","margin-top":this._convert(this.valueMin,"val2prc")===0?0:-1*b/2}),c.css({left:this._convert(this.valueMax,"val2prc")+"%","margin-top":this._convert(this.valueMax,"val2prc")===0?0:-1*b/2})),m.css({left:this._convert(this.valueMin,"val2pix"),width:this._convert(this.valueMax,"val2pix")-this._convert(this.valueMin,"val2pix")})},_redraw:function(){this._marker(),this._value(),this._hint()},val:function(t,i){var c=this.options;if(!f.isValue(t)&&!f.isValue(i))return[this.valueMin,this.valueMax];t<c.min&&(t=c.min),i<c.min&&(i=c.min),t>c.max&&(t=c.max),i>c.max&&(i=c.max),this.valueMin=this._correct(t),this.valueMax=this._correct(i),this._redraw()},changeValue:function(){var t=this.element,i=+t.attr("data-value-min"),c=+t.attr("data-value-max");this.val(i,c)},disable:function(){var t=this.element;t.data("disabled",!0),t.parent().addClass("disabled")},enable:function(){var t=this.element;t.data("disabled",!1),t.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"data-value-min":this.changeValue();break;case"data-value-max":this.changeValue();break;case"disabled":this.toggleState();break}},destroy:function(){var t=this.element,i=this.slider,c=i.find(".marker");return c.off(e.events.startAll),c.off(e.events.focus),c.off(e.events.blur),c.off(e.events.keydown),c.off(e.events.keyup),i.off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),t}})}(Metro,Dom),function(e,r){var f=e.utils,o={dragitemsDeferred:0,target:null,dragItem:"li",dragMarker:".drag-item-marker",drawDragMarker:!1,clsDragItemAvatar:"",clsDragItem:"",canDrag:!0,onDragStartItem:e.noop,onDragMoveItem:e.noop,onDragDropItem:e.noop,onTarget:e.noop,onTargetIn:e.noop,onTargetOut:e.noop,onDragItemsCreate:e.noop};e.dragItemsSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroDragItemsSetup<"u"&&e.dragItemsSetup(globalThis.metroDragItemsSetup),e.Component("drag-items",{init:function(t,i){return this._super(i,t,o,{id:f.elementId("dragItems"),canDrag:!1}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("drag-items-create",{element:t})},_createStructure:function(){var t=this.element,i=this.options;t.addClass("drag-items-target"),i.drawDragMarker===!0&&t.find(i.dragItem).each(function(){r("<span>").addClass("drag-item-marker").appendTo(this)}),i.canDrag?this.on():this.off()},_createEvents:function(){var t=this,i=this.element,c=this.options,m=r.document(),b=r.body(),w,S={top:0,left:0},D,I,P=function(V,z,K){var ye=f.pageXY(V).x,_e=f.pageXY(V).y,Ne=_e-S.top,Ie=ye-S.left;z.css({top:Ne,left:Ie});var Se=document.elementsFromPoint(ye,_e).filter(function(Jt){return r(Jt).hasClass("drag-items-target")});if(Se.length!==0){t._fireEvent("target",{target:Se});var Me=document.elementsFromPoint(ye,_e).filter(function(Jt){var bi=r(Jt);return r.matches(Jt,c.dragItem)&&!bi.hasClass("dragged-item-avatar")})[0];if(!f.isValue(Me))K.appendTo(Se);else{var Be=r(Me),ze=Be.offset(),kt=_e-ze.top,St=ye-ze.left,Yt,Zt={w:Be.width(),h:Be.height()};St<Zt.w/3&&(kt<Zt.h/2||kt>Zt.h/2)?Yt="left":St>Zt.w*2/3&&(kt<Zt.h/2||kt>Zt.h/2)?Yt="right":St>Zt.w/3&&St<Zt.w*2/3&&kt>Zt.h/2?Yt="bottom":Yt="top",Be.hasClass("dragged-item")||(Yt==="top"||Yt==="left"?K.insertBefore(Be):K.insertAfter(Be))}}};i.on(e.events.startAll,c.drawDragMarker?c.dragMarker:c.dragItem,function(V){var z=r(V.target).closest(c.dragItem),K;f.isRightMouse(V)||t.canDrag===!0&&(z.addClass("dragged-item").addClass(c.clsDragItem),K=r("<div>").addClass("dragged-item-avatar").addClass(c.clsDragItemAvatar),w=z.offset(),D=z.width(),I=z.height(),S.top=f.pageXY(V).y-w.top,S.left=f.pageXY(V).x-w.left,K.css({top:w.top,left:w.left,width:D,height:I}).appendTo(b),t._fireEvent("drag-start-item",{dragItem:z[0],avatar:K[0]}),m.on(e.events.moveAll,function(ye){P(ye,K,z),t._fireEvent("drag-move-item",{dragItem:z[0],avatar:K[0]}),ye.preventDefault()},{ns:t.id,passive:!1}),m.on(e.events.stopAll,function(){t._fireEvent("drag-drop-item",{dragItem:z[0],avatar:K[0]}),z.removeClass("dragged-item").removeClass(c.clsDragItem),K.remove(),m.off(e.events.moveAll,{ns:t.id}),m.off(e.events.stopAll,{ns:t.id})},{ns:t.id}),c.drawDragMarker&&(V.preventDefault(),V.stopPropagation()))})},on:function(){this.canDrag=!0,this.element.find(".drag-item-marker").show()},off:function(){this.canDrag=!1,this.element.find(".drag-item-marker").hide()},toggle:function(){this.canDrag=this.canDrag?this.off():this.on()},changeAttribute:function(t){var i=this,c=this.element,m=this.options,b=function(){m.canDtag=JSON.parse(c.attr("data-can-drag")),m.canDtag?i.on():i.off()};t==="data-can-drag"&&b()},destroy:function(){var t=this.element,i=this.options;return t.off(e.events.startAll,i.drawDragMarker?i.dragMarker:i.dragItem),t}})}(Metro,Dom),function(e,r){let f={dragContext:null,draggableDeferred:0,dragElement:"self",dragArea:"parent",timeout:0,boundaryRestriction:!0,onCanDrag:e.noop_true,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onDraggableCreate:e.noop};e.draggableSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroDraggableSetup<"u"&&e.draggableSetup(globalThis.metroDraggableSetup),e.Component("draggable",{init:function(o,t){return this._super(t,o,f,{drag:!1,move:!1,backup:{cursor:"default",zIndex:"0"},dragArea:null,dragElement:null,id:e.utils.elementId("draggable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("draggable-create",{element:this.element})},_createStructure:function(){let o=this,t=this.element,i=this.options,c=t.offset(),m=i.dragElement!=="self"?t.find(i.dragElement):t;t.data("canDrag",!0),this.dragElement=m,m[0].ondragstart=function(){return!1},t.css("position","absolute"),(i.dragArea==="document"||i.dragArea==="window")&&(i.dragArea="body"),setTimeout(function(){o.dragArea=i.dragArea==="parent"?t.parent():r(i.dragArea),o.dragArea.css("position")==="static"&&o.dragArea.css("position","relative"),i.dragArea!=="parent"&&(t.appendTo(o.dragArea),t.css({top:c.top,left:c.left}))}),t.attr("id")||t.attr("id",e.utils.elementId("draggable"))},_createEvents:function(){let o=this,t=this.element,i=this.options,c={x:0,y:0};this.dragElement.on(e.events.startAll,function(m){let b=t.position(),w=e.utils.pageXY(m).x-b.left,S=e.utils.pageXY(m).y-b.top,D=function(I){let P=e.utils.pageXY(I).y-S,V=e.utils.pageXY(I).x-w;i.boundaryRestriction&&(P<0&&(P=0),V<0&&(V=0),P>o.dragArea.outerHeight()-t.outerHeight()&&(P=o.dragArea.outerHeight()-t.outerHeight()),V>o.dragArea.outerWidth()-t.outerWidth()&&(V=o.dragArea.outerWidth()-t.outerWidth())),c.y=P,c.x=V,t.css({left:V,top:P}),o._fireEvent("drag-move",{position:c,context:i.dragContext})};t.data("canDrag")===!1||e.utils.exec(i.onCanDrag,[t])!==!0||e.isTouchable===!1&&m.which!==1||(o.drag=!0,t.addClass("draggable"),o._fireEvent("drag-start",{position:c,context:i.dragContext}),r(document).on(e.events.moveAll,D,{ns:o.id,passive:!1}),r(document).on(e.events.stopAll,function(){t.removeClass("draggable"),r(document).off(e.events.moveAll,{ns:o.id}),r(document).off(e.events.stopAll,{ns:o.id}),o.drag=!1,o.move=!1,o._fireEvent("drag-stop",{position:c,context:i.dragContext})},{ns:o.id}))})},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:function(o,t){},destroy:function(){let o=this.element;return this.dragElement.off(e.events.startAll),o}})}(Metro,Dom),function(e,r){let f={enabled:!0,logErrors:!1,delimiterStart:"{{",delimiterEnd:"}}",context:null,processChild:!0};e.evalSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroEvalSetup<"u"&&e.evalSetup(globalThis.metroEvalSetup),e.Component("eval",{init:function(o,t){return this._super(t,o,f,{origContent:null}),this},_create:function(){let o=this.element;this.origContent=o.html(),this.options.enabled&&(this.options.processChild?this._processNodeAndChildren(o[0]):o.text(this.eval(o.text())))},_processNodeAndChildren:function(o){if(o.nodeType===3){o.textContent=this.eval(o.textContent);return}for(let t=0;t<o.childNodes.length;t++)this._processNodeAndChildren(o.childNodes[t])},eval:function(o){let t=this.options;if(!t.enabled)return o;let i=new RegExp(this._escapeRegExp(t.delimiterStart||"{{")+"(.*?)"+this._escapeRegExp(t.delimiterEnd||"}}"),"gs");return o.replace(i,(c,m)=>{try{return new Function("return "+m).call(t.context)}catch(b){return t.logErrors&&console.error("Metro UI Eval error:",b,"in code:",m),c}})},_escapeRegExp:function(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},reset:function(){this.origContent&&this.element.html(this.origContent)},destroy:function(){return this.reset(),this._super()}}),e.evalText=function(o,t){let i={options:r.extend({},f,t)};return e.Component("eval").prototype.eval.call(i,o)}}(Metro,Dom),function(e,r){var f=e.utils,o={init:function(){return this},options:{csvDelimiter:"	",csvNewLine:`\r
`,includeHeader:!0},setup:function(t){return this.options=r.extend({},this.options,t),this},base64:function(t){return globalThis.btoa(unescape(encodeURIComponent(t)))},b64toBlob:function(t,i,c){i=i||"",c=c||512;var m=globalThis.atob(t),b=[],w;for(w=0;w<m.length;w+=c){var S=m.slice(w,w+c),D=new Array(S.length),I;for(I=0;I<S.length;I=I+1)D[I]=S.charCodeAt(I);var P=new globalThis.Uint8Array(D);b.push(P)}return new Blob(b,{type:i})},tableToCSV:function(t,i,c){var m,b,w,S="",D,I,P,V;if(m=r.extend({},this.options,c),t=r(t)[0],f.bool(m.includeHeader))for(w=t.querySelectorAll("thead")[0],D=0;D<w.rows.length;D++){for(P=w.rows[D],I=0;I<P.cells.length;I++)V=P.cells[I],S+=(I?m.csvDelimiter:"")+V.textContent.trim();S+=m.csvNewLine}for(b=t.querySelectorAll("tbody")[0],D=0;D<b.rows.length;D++){for(P=b.rows[D],I=0;I<P.cells.length;I++)V=P.cells[I],S+=(I?m.csvDelimiter:"")+V.textContent.trim();S+=m.csvNewLine}return f.isValue(i)?this.createDownload(this.base64("\uFEFF"+S),"application/csv",i):S},createDownload:function(t,i,c){var m,b,w;return b=document.createElement("a"),b.style.display="none",document.body.appendChild(b),m=this.b64toBlob(t,i),w=globalThis.URL.createObjectURL(m),b.href=w,b.download=c||f.elementId("download"),b.click(),globalThis.URL.revokeObjectURL(w),document.body.removeChild(b),!0},arrayToCsv:function(t,i,c){var m,b="",w,S;for(m=r.extend({},this.options,c),w=0;w<t.length;w++)S=t[w],typeof S!="object"?b+=S+m.csvNewLine:(r.each(S,function(D,I){b+=(D?m.csvDelimiter:"")+I.toString()}),b+=m.csvNewLine);return f.isValue(i)?this.createDownload(this.base64("\uFEFF"+b),"application/csv",i):b}};e.export=o.init(),globalThis.METRO_GLOBAL_COMMON===!0&&(globalThis.Export=e.export)}(Metro,Dom),function(e,r){let f={fileDeferred:0,label:"",mode:"input",buttonTitle:"",filesSelectedTitle:"",dropTitle:"",dropIcon:"📥",clearButtonIcon:"❌",prepend:"",clsComponent:"",clsPrepend:"",clsButton:"",clsCaption:"",clsLabel:"",onSelect:e.noop,onFileCreate:e.noop};e.fileSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroFileSetup<"u"&&e.fileSetup(globalThis.metroFileSetup),e.Component("file",{init:function(o,t){return this._super(t,o,f),this},_create:function(){let o=this.element;this._createStructure(),this._createEvents(),this._fireEvent("file-create",{element:o})},_createStructure:function(){let o=this.element,t=this.options,i=o.wrap("<div>").addClass((t.mode==="input"?" file ":t.mode==="button"?" file-button ":" drop-zone ")+o[0].className).addClass(t.clsComponent),c=r("<span>").addClass("caption").addClass(t.clsCaption),m=r("<span>").addClass("files").addClass(t.clsCaption),b,w;if(t.mode.includes("drop")?(b=r("<span>").addClass("icon").html(t.dropIcon).appendTo(i),c.html(t.dropTitle||this.strings.label_drop_file).insertAfter(b),m.html((t.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)).insertAfter(c),w=r("<button>").addClass("button clear-button square").html(t.clearButtonIcon).appendTo(i)):(c.insertBefore(o),w=r("<button>").addClass("button select-files-button").attr("tabindex",-1).html(t.buttonTitle||this.strings.label_choose_file),w.appendTo(i),w.addClass(t.clsButton),i.hasClass("input-small")&&w.addClass("small"),o.attr("dir")==="rtl"&&i.addClass("rtl"),t.prepend!==""&&r("<div>").html(t.prepend).addClass("prepend").addClass(t.clsPrepend).appendTo(i)),o[0].className="",t.label){let S=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(i);if(o.attr("id"))S.attr("for",o.attr("id"));else{let D=Hooks.useId(o[0]);S.attr("for",D),o.attr("id",D)}o.attr("dir")==="rtl"&&S.addClass("rtl")}o.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.closest("label"),m=c.find(".caption"),b=c.find(".files"),w=t.closest("form");w.length&&w.on("reset",function(){o.clear()}),c.on(e.events.click,".select-files-button",function(){t[0].click()}),c.on(e.events.click,".clear-button",function(){o.clear()}),t.on(e.events.change,function(){let S=this,D=[],I;Array.from(S.files).forEach(function(P){D.push(P.name)}),i.mode==="input"?(I=D.join(", "),m.html(I),m.attr("title",I)):b.html((i.filesSelectedTitle||o.strings.label_files_selected).replace("{n}",t[0].files.length)),o._fireEvent("select",{files:S.files})}),t.on(e.events.focus,function(){c.addClass("focused")}),t.on(e.events.blur,function(){c.removeClass("focused")}),i.mode!=="input"&&(c.on("drag dragstart dragend dragover dragenter dragleave drop",function(S){S.preventDefault()}),c.on("dragenter dragover",function(){c.addClass("drop-on")}),c.on("dragleave",function(){c.removeClass("drop-on")}),c.on("drop",function(S){t[0].files=S.dataTransfer.files,b.html((i.filesSelectedTitle||o.strings.label_files_selected).replace("{n}",t[0].files.length)),c.removeClass("drop-on"),t.trigger("change")}))},clear:function(){let o=this.element,t=this.options;t.mode==="input"?o.siblings(".caption").html(""):o.siblings(".files").html((t.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)),o[0].value="",o.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleDir:function(){this.element.attr("dir")==="rtl"?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(o){switch(o){case"disabled":this.toggleState();break;case"dir":this.toggleDir();break}},destroy:function(){let o=this.element,t=this.options,i=o.parent();o.off(e.events.change),i.off(e.events.click,"button"),t.label&&i.prev("label").remove(),i.remove()}})}(Metro,Dom),function(e,r){let f={min:0,max:100,value:0,size:0,labelMin:"",labelMax:"",label:"",suffix:"",values:10,segments:10,startAngle:235,range:250,theme:"",onGaugeCreate:e.noop};e.gaugeSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroGaugeSetup<"u"&&e.gaugeSetup(globalThis.metroGaugeSetup),e.Component("gauge",{init:function(o,t){return this._super(t,o,f,{}),this},_create:function(){let o=this.element,t=this.options;o[0].style.setProperty("--analog-gauge-segments",`${t.segments}`),o[0].style.setProperty("--analog-gauge-start-angle",`${t.startAngle}deg`),o[0].style.setProperty("--analog-gauge-range",`${t.range}deg`),this.options.range=parseFloat(getComputedStyle(o[0]).getPropertyValue("--analog-gauge-range")),this.options.start=parseFloat(getComputedStyle(o[0]).getPropertyValue("--analog-gauge-start-angle")),this.options.defaultMark=90,this.options.defaultNeedle=270,this.options.minDegree=this.options.start-this.options.defaultNeedle,this._createStructure(),this._createEvents(),this.update(),this._fireEvent("gauge-create")},_generateMarks:function(){let o=this.options,t=(""+o.values).trim();if(t==="")return"";let i=t.toArray(","),c=[],m;i.length===1?(c=Array.from({length:+t},(w,S)=>Math.round(o.min+S*(o.max-o.min)/(+t-1||1))),m=parseInt(t)):(c=[...i],m=i.length);let b=o.range/(m-1||1);return`
                <ul class="value-marks">
                  ${c.map((w,S)=>`<li style="--_d:${o.start-o.defaultMark+S*b}deg" class="mark">${w}</li>`).join("")}
                </ul>
            `},_createStructure:function(){let o=this.element,t=this.options;o.addClass("analog-gauge"),t.size&&o.css({width:t.size,height:t.size}),o.html(`
                <div class="gauge"></div>
                ${this._generateMarks()} 
                <div class="needle"></div> 
                <div class="value">${t.value}</div> 
                <div class="label">${t.label}</div> 
                <div class="label-min">${t.labelMin}</div> 
                <div class="label-max">${t.labelMax}</div> 
            `),t.theme&&o.addClass(`theme-${t.theme}`)},_createEvents:function(){this.element,this.options},val:function(o){if(typeof o>"u")return this.options.value;this.options.value=o,this.update()},update:function(){let o=this.element,t=this.elem,i=this.options,c=(Math.max(i.min,Math.min(i.max,i.value))-i.min)/(i.max-i.min),m=i.minDegree+c*i.range;t.style.setProperty("--analog-gauge-value",`${c*i.range}deg`),t.style.setProperty("--_d",`${m}deg`),o.find(".value").html(i.value+i.suffix)},changeAttribute:function(o,t){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={gradientType:"linear",gradientShape:"",gradientPosition:"",gradientSize:"",gradientColors:"#000, #fff",gradientRepeat:!1,onGradientBoxCreate:e.noop};e.gradientBoxSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroGradientBoxSetup<"u"&&e.gradientBoxSetup(globalThis.metroGradientBoxSetup),e.Component("gradient-box",{init:function(t,i){return this._super(i,t,o,{colors:[],shape:"",size:"",position:"",type:"linear",func:"linear-gradient",repeat:!1}),this},_create:function(){var t=this.options;this.colors=t.gradientColors.toArray(","),this.type=t.gradientType.toLowerCase(),this.shape=t.gradientShape.toLowerCase(),this.size=t.gradientSize.toLowerCase(),this.repeat=t.gradientRepeat,this.func=(this.repeat?"repeating-":"")+this.type+"-gradient",this.type==="linear"?t.gradientPosition?(this.position=isNaN(t.gradientPosition)===!1?t.gradientPosition+"deg":t.gradientPosition,this.position.indexOf("deg")===-1&&this.position.indexOf("to ")===-1&&(this.position="to "+this.position)):this.position="to bottom":(this.position=t.gradientPosition.toLowerCase(),this.position&&this.position.indexOf("at ")===-1&&(this.position="at "+this.position)),this._createStructure(),this._setGradient(),this._fireEvent("gradient-box-create")},_createStructure:function(){this.element.addClass("gradient-box")},_setGradient:function(){var t=this.element,i,c=[];this.type==="radial"&&this.shape&&c.push(this.shape),this.type==="radial"&&this.size&&c.push(this.size),this.position,i=this.func+"("+(c.length?c.join(" ")+", ":"")+this.colors.join(", ")+")",t.css({background:i})},changeAttribute:function(t,i){if(t.indexOf("data-gradient-")!==-1){switch(t){case"data-gradient-type":this.type=i,this.func=i.toLowerCase()+"-gradient";break;case"data-gradient-colors-css":this.colors=i?i.toArray(","):["#fff","#000"];break;case"data-gradient-shape":this.shape=i.toLowerCase();break;case"data-gradient-size":this.size=i.toLowerCase();break;case"data-gradient-position":this.position=i.toLowerCase();break;case"data-gradient-repeat":this.repeat=f.bool(i);break}this._setGradient()}},destroy:function(){return this.element}})}(Metro,Dom),function(e){e.md5=function(r){function f(Tt,_t){return Tt<<_t|Tt>>>32-_t}function o(Tt,_t){var st,Wt,cn,Xn,mn;return cn=Tt&2147483648,Xn=_t&2147483648,st=Tt&1073741824,Wt=_t&1073741824,mn=(Tt&1073741823)+(_t&1073741823),st&Wt?mn^2147483648^cn^Xn:st|Wt?mn&1073741824?mn^3221225472^cn^Xn:mn^1073741824^cn^Xn:mn^cn^Xn}function t(Tt,_t,st){return Tt&_t|~Tt&st}function i(Tt,_t,st){return Tt&st|_t&~st}function c(Tt,_t,st){return Tt^_t^st}function m(Tt,_t,st){return _t^(Tt|~st)}function b(Tt,_t,st,Wt,cn,Xn,mn){return Tt=o(Tt,o(o(t(_t,st,Wt),cn),mn)),o(f(Tt,Xn),_t)}function w(Tt,_t,st,Wt,cn,Xn,mn){return Tt=o(Tt,o(o(i(_t,st,Wt),cn),mn)),o(f(Tt,Xn),_t)}function S(Tt,_t,st,Wt,cn,Xn,mn){return Tt=o(Tt,o(o(c(_t,st,Wt),cn),mn)),o(f(Tt,Xn),_t)}function D(Tt,_t,st,Wt,cn,Xn,mn){return Tt=o(Tt,o(o(m(_t,st,Wt),cn),mn)),o(f(Tt,Xn),_t)}function I(Tt){for(var _t,st=Tt.length,Wt=st+8,cn=(Wt-Wt%64)/64,Xn=(cn+1)*16,mn=Array(Xn-1),ol=0,ys=0;ys<st;)_t=(ys-ys%4)/4,ol=ys%4*8,mn[_t]=mn[_t]|Tt.charCodeAt(ys)<<ol,ys++;return _t=(ys-ys%4)/4,ol=ys%4*8,mn[_t]=mn[_t]|128<<ol,mn[Xn-2]=st<<3,mn[Xn-1]=st>>>29,mn}function P(Tt){var _t="",st="",Wt,cn;for(cn=0;cn<=3;cn++)Wt=Tt>>>cn*8&255,st="0"+Wt.toString(16),_t=_t+st.substr(st.length-2,2);return _t}function V(Tt){Tt=Tt.replace(/\r\n/g,`
`);for(var _t="",st=0;st<Tt.length;st++){var Wt=Tt.charCodeAt(st);Wt<128?_t+=String.fromCharCode(Wt):Wt>127&&Wt<2048?(_t+=String.fromCharCode(Wt>>6|192),_t+=String.fromCharCode(Wt&63|128)):(_t+=String.fromCharCode(Wt>>12|224),_t+=String.fromCharCode(Wt>>6&63|128),_t+=String.fromCharCode(Wt&63|128))}return _t}var z=[],K,ye,_e,Ne,Ie,Se,Me,Be,ze,kt=7,St=12,Yt=17,Zt=22,Jt=5,bi=9,wa=14,bs=20,al=4,Li=11,Gn=16,rs=23,Oi=6,li=10,Gs=15,Xs=21;for(r=V(r),z=I(r),Se=1732584193,Me=4023233417,Be=2562383102,ze=271733878,K=0;K<z.length;K+=16)ye=Se,_e=Me,Ne=Be,Ie=ze,Se=b(Se,Me,Be,ze,z[K],kt,3614090360),ze=b(ze,Se,Me,Be,z[K+1],St,3905402710),Be=b(Be,ze,Se,Me,z[K+2],Yt,606105819),Me=b(Me,Be,ze,Se,z[K+3],Zt,3250441966),Se=b(Se,Me,Be,ze,z[K+4],kt,4118548399),ze=b(ze,Se,Me,Be,z[K+5],St,1200080426),Be=b(Be,ze,Se,Me,z[K+6],Yt,2821735955),Me=b(Me,Be,ze,Se,z[K+7],Zt,4249261313),Se=b(Se,Me,Be,ze,z[K+8],kt,1770035416),ze=b(ze,Se,Me,Be,z[K+9],St,2336552879),Be=b(Be,ze,Se,Me,z[K+10],Yt,4294925233),Me=b(Me,Be,ze,Se,z[K+11],Zt,2304563134),Se=b(Se,Me,Be,ze,z[K+12],kt,1804603682),ze=b(ze,Se,Me,Be,z[K+13],St,4254626195),Be=b(Be,ze,Se,Me,z[K+14],Yt,2792965006),Me=b(Me,Be,ze,Se,z[K+15],Zt,1236535329),Se=w(Se,Me,Be,ze,z[K+1],Jt,4129170786),ze=w(ze,Se,Me,Be,z[K+6],bi,3225465664),Be=w(Be,ze,Se,Me,z[K+11],wa,643717713),Me=w(Me,Be,ze,Se,z[K],bs,3921069994),Se=w(Se,Me,Be,ze,z[K+5],Jt,3593408605),ze=w(ze,Se,Me,Be,z[K+10],bi,38016083),Be=w(Be,ze,Se,Me,z[K+15],wa,3634488961),Me=w(Me,Be,ze,Se,z[K+4],bs,3889429448),Se=w(Se,Me,Be,ze,z[K+9],Jt,568446438),ze=w(ze,Se,Me,Be,z[K+14],bi,3275163606),Be=w(Be,ze,Se,Me,z[K+3],wa,4107603335),Me=w(Me,Be,ze,Se,z[K+8],bs,1163531501),Se=w(Se,Me,Be,ze,z[K+13],Jt,2850285829),ze=w(ze,Se,Me,Be,z[K+2],bi,4243563512),Be=w(Be,ze,Se,Me,z[K+7],wa,1735328473),Me=w(Me,Be,ze,Se,z[K+12],bs,2368359562),Se=S(Se,Me,Be,ze,z[K+5],al,4294588738),ze=S(ze,Se,Me,Be,z[K+8],Li,2272392833),Be=S(Be,ze,Se,Me,z[K+11],Gn,1839030562),Me=S(Me,Be,ze,Se,z[K+14],rs,4259657740),Se=S(Se,Me,Be,ze,z[K+1],al,2763975236),ze=S(ze,Se,Me,Be,z[K+4],Li,1272893353),Be=S(Be,ze,Se,Me,z[K+7],Gn,4139469664),Me=S(Me,Be,ze,Se,z[K+10],rs,3200236656),Se=S(Se,Me,Be,ze,z[K+13],al,681279174),ze=S(ze,Se,Me,Be,z[K],Li,3936430074),Be=S(Be,ze,Se,Me,z[K+3],Gn,3572445317),Me=S(Me,Be,ze,Se,z[K+6],rs,76029189),Se=S(Se,Me,Be,ze,z[K+9],al,3654602809),ze=S(ze,Se,Me,Be,z[K+12],Li,3873151461),Be=S(Be,ze,Se,Me,z[K+15],Gn,530742520),Me=S(Me,Be,ze,Se,z[K+2],rs,3299628645),Se=D(Se,Me,Be,ze,z[K],Oi,4096336452),ze=D(ze,Se,Me,Be,z[K+7],li,1126891415),Be=D(Be,ze,Se,Me,z[K+14],Gs,2878612391),Me=D(Me,Be,ze,Se,z[K+5],Xs,4237533241),Se=D(Se,Me,Be,ze,z[K+12],Oi,1700485571),ze=D(ze,Se,Me,Be,z[K+3],li,2399980690),Be=D(Be,ze,Se,Me,z[K+10],Gs,4293915773),Me=D(Me,Be,ze,Se,z[K+1],Xs,2240044497),Se=D(Se,Me,Be,ze,z[K+8],Oi,1873313359),ze=D(ze,Se,Me,Be,z[K+15],li,4264355552),Be=D(Be,ze,Se,Me,z[K+6],Gs,2734768916),Me=D(Me,Be,ze,Se,z[K+13],Xs,1309151649),Se=D(Se,Me,Be,ze,z[K+4],Oi,4149444226),ze=D(ze,Se,Me,Be,z[K+11],li,3174756917),Be=D(Be,ze,Se,Me,z[K+2],Gs,718787259),Me=D(Me,Be,ze,Se,z[K+9],Xs,3951481745),Se=o(Se,ye),Me=o(Me,_e),Be=o(Be,Ne),ze=o(ze,Ie);var mo=P(Se)+P(Me)+P(Be)+P(ze);return mo.toLowerCase()},globalThis.METRO_GLOBAL_COMMON===!0&&(globalThis.md5=e.md5)}(Metro,Dom),function(e,r){var f={gravatarDeferred:0,email:"",size:80,default:"mp",onGravatarCreate:e.noop};e.gravatarSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroGravatarSetup<"u"&&e.gravatarSetup(globalThis.metroGravatarSetup),e.Component("gravatar",{init:function(o,t){return this._super(t,o,f),this},_create:function(){var o=this.element;this.get(),this._fireEvent("gravatar-create",{element:o})},getImage:function(o,t,i,c){var m=r("<img>").attr("alt",o);return m.attr("src",this.getImageSrc(o,t)),c===!0?m:m[0]},getImageSrc:function(o,t,i){return o===void 0||o.trim()===""?"":(t=t||80,i=e.utils.encodeURI(i)||"404","//www.gravatar.com/avatar/"+e.md5(o.toLowerCase().trim())+"?size="+t+"&d="+i)},get:function(){var o=this.element,t=this.options,i=o[0].tagName==="IMG"?o:o.find("img");if(i.length!==0)return i.attr("src",this.getImageSrc(t.email,t.size,t.default)),this},resize:function(o){this.options.size=o!==void 0?o:this.element.attr("data-size"),this.get()},email:function(o){this.options.email=o!==void 0?o:this.element.attr("data-email"),this.get()},changeAttribute:function(o){switch(o){case"data-size":this.resize();break;case"data-email":this.email();break}},destroy:function(){return this.element}})}(Metro,Dom),function(e,r){var f=e.utils,o={hintDeferred:0,hintHide:5e3,clsHint:"",hintText:"",hintPosition:e.position.TOP,hintOffset:4,onHintShow:e.noop,onHintHide:e.noop,onHintCreate:e.noop};e.hintSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroHintSetup<"u"&&e.hintSetup(globalThis.metroHintSetup),e.Component("hint",{init:function(t,i){return this._super(i,t,o,{hint:null,hint_size:{width:0,height:0},id:f.elementId("hint")}),this},_create:function(){this._createEvents(),this._fireEvent("hint-create",{element:this.element})},_createEvents:function(){var t=this,i=this.element,c=this.options,m=!1;i.on(e.events.enter,function(){m=!0,setTimeout(function(){m&&(t.createHint(),+c.hintHide>0&&setTimeout(function(){t.removeHint()},c.hintHide))},c.hintDeferred)}),i.on(e.events.leave,function(){m=!1,t.removeHint()}),r(globalThis).on(e.events.scroll+" "+e.events.resize,function(){t.hint!==null&&t.setPosition()},{ns:this.id})},createHint:function(){var t=this.elem,i=this.element,c=this.options,m=r("<div>").addClass("hint").addClass(c.clsHint).html(c.hintText);if(this.hint=m,this.hint_size=f.hiddenElementSize(m),r(".hint:not(.permanent-hint)").remove(),t.tagName==="TD"||t.tagName==="TH"){var b=r("<div/>").css("display","inline-block").html(i.html());i.html(b),this.element=b}this.setPosition(),m.appendTo(r("body")),this._fireEvent("hint-show",{hint:m[0]})},setPosition:function(){var t=this.hint,i=this.hint_size,c=this.options,m=this.element;c.hintPosition===e.position.BOTTOM?(t.addClass("bottom"),t.css({top:m.offset().top-r(globalThis).scrollTop()+m.outerHeight()+c.hintOffset,left:m.offset().left+m.outerWidth()/2-i.width/2-r(globalThis).scrollLeft()})):c.hintPosition===e.position.RIGHT?(t.addClass("right"),t.css({top:m.offset().top+m.outerHeight()/2-i.height/2-r(globalThis).scrollTop(),left:m.offset().left+m.outerWidth()-r(globalThis).scrollLeft()+c.hintOffset})):c.hintPosition===e.position.LEFT?(t.addClass("left"),t.css({top:m.offset().top+m.outerHeight()/2-i.height/2-r(globalThis).scrollTop(),left:m.offset().left-i.width-r(globalThis).scrollLeft()-c.hintOffset})):(t.addClass("top"),t.css({top:m.offset().top-r(globalThis).scrollTop()-i.height-c.hintOffset,left:m.offset().left-r(globalThis).scrollLeft()+m.outerWidth()/2-i.width/2}))},removeHint:function(){var t=this,i=this.hint,c=this.options,m=c.onHintHide===e.noop?0:300;i!==null&&(this._fireEvent("hint-hide",{hint:i[0]}),setTimeout(function(){i.hide(0,function(){i.remove(),t.hint=null})},m))},changeText:function(){this.options.hintText=this.element.attr("data-hint-text")},changeAttribute:function(t){t==="data-hint-text"&&this.changeText()},destroy:function(){var t=this.element;this.removeHint(),t.off(e.events.enter+"-hint"),t.off(e.events.leave+"-hint"),r(globalThis).off(e.events.scroll+"-hint")}})}(Metro,Dom),function(e,r){let f={specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta"},shiftNums:{"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},shiftNumsInverse:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],getKey:function(t){let i,c=t.keyCode,m=String.fromCharCode(c).toLowerCase();return t.shiftKey?i=f.shiftNums[m]?f.shiftNums[m]:m:i=f.specialKeys[c]===void 0?m:f.specialKeys[c],f.getModifier(t).length?f.getModifier(t).join("+")+"+"+i:i},getModifier:function(t){let i=[];return t.altKey&&i.push("alt"),(t.ctrlKey||t.metaKey)&&i.push("ctrl"),t.shiftKey&&i.push("shift"),i}};function o(t,i){return this.each(function(){r(this).on(e.events.keydown+".hotkey-method-"+t,function(c){if(c.repeat)return;let m=f.getKey(c),b=r(this),w=""+b.attr("href");t===m&&(b.is("a")&&w&&w.trim()!=="#"&&(globalThis.location.href=w),e.utils.exec(i,[c,m,t],this))})})}r.fn.hotkey=o,globalThis.METRO_JQUERY&&globalThis.jquery_present&&(globalThis.jQuery.fn.hotkey=o),r(document).on(e.events.keydown+".hotkey-data",function(t){let i,c,m,b;if(!(METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&/textarea|input|select/i.test(t.target.nodeName)||METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&r(t.target).attr("contenteditable")||METRO_HOTKEYS_FILTER_TEXT_INPUTS&&f.textAcceptingInputTypes.indexOf(t.target.type)>-1)&&(m=f.getKey(t),e.utils.keyInObject(e.hotkeys,m))){if(i=r(e.hotkeys[m][0]),c=e.hotkeys[m][1],b=(""+i.attr("href")).trim(),t.repeat&&!i.attr("data-repeat"))return;t.preventDefault(),c?e.utils.exec(c):i.is("a")&&b&&b.length>0&&b.trim()!=="#"?globalThis.location.href=b:i[0].click()}})}(Metro,Dom),function(e,r){var f=e.utils,o={htmlcontainerDeferred:0,method:"get",htmlSource:null,requestData:null,requestOptions:null,insertMode:"default",onHtmlLoad:e.noop,onHtmlLoadFail:e.noop,onHtmlLoadDone:e.noop,onHtmlContainerCreate:e.noop};e.htmlContainerSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroHtmlContainerSetup<"u"&&e.htmlContainerSetup(globalThis.metroHtmlContainerSetup),e.Component("html-container",{init:function(t,i){return this._super(i,t,o,{data:null,opt:{},htmlSource:""}),this},_create:function(){var t=this.element,i=this.options;typeof i.requestData=="string"&&(i.requestData=JSON.parse(i.requestData)),f.isObject(i.requestData)&&(this.data=f.isObject(i.requestData)),typeof i.requestOptions=="string"&&(i.requestOptions=JSON.parse(i.requestOptions)),f.isObject(i.requestOptions)&&(this.opt=f.isObject(i.requestOptions)),i.method=i.method.toUpperCase(),f.isValue(i.htmlSource)&&(this.htmlSource=i.htmlSource,this._load()),this._fireEvent("html-container-create",{element:t})},_load:function(){var t=this,i=this.element,c=this.options,m={method:c.method};this.data&&(m.body=this.data),this.opt&&(m.headers=this.opt),fetch(this.htmlSource,m).then(e.fetch.status).then(e.fetch.text).then(function(b){var w=r(b);switch(w.length===0&&(w=r("<div>").html(b)),c.insertMode.toLowerCase()){case"prepend":i.prepend(w);break;case"append":i.append(w);break;case"replace":w.insertBefore(i).script(),i.remove();break;default:i.html(w)}t._fireEvent("html-load",{data:b,source:c.htmlSource,requestData:t.data,requestOptions:t.opt})}).catch(function(b){t._fireEvent("html-load-fail",{error:b})})},load:function(t,i,c){t&&(this.htmlSource=t),i&&(this.data=f.isObject(i)),c&&(this.opt=f.isObject(c)),this._load()},changeAttribute:function(t){var i=this,c=this.element,m=this.options,b=function(){var D=c.attr("data-html-source");f.isNull(D)||(D.trim()===""&&c.html(""),m.htmlSource=D,i._load())},w=function(){var D=c.attr("data-insert-mode");f.isValue(D)&&(m.insertMode=D)},S=function(){var D=c.attr("data-request-data");i.load(m.htmlSource,D)};switch(t){case"data-html-source":b();break;case"data-insert-mode":w();break;case"data-request-data":S();break}},destroy:function(){}})}(Metro,Dom),function(e,r){var f={image:null,size:"cover",repeat:!1,color:"transparent",attachment:"scroll",origin:"border",onImageBoxCreate:e.noop};e.imageBoxSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroImageBoxSetup<"u"&&e.imageBoxSetup(globalThis.metroImageBoxSetup),e.Component("image-box",{init:function(o,t){return this._super(t,o,f,{}),this},_create:function(){this._createStructure(),this._fireEvent("image-box-create")},_createStructure:function(){var o=this.element;o.addClass("image-box"),this._drawImage()},_drawImage:function(){var o=this.element,t=this.options,i=new Image,c;o.attr("data-original")||o.attr("data-original",t.image),o.css({backgroundImage:"url("+t.image+")",backgroundSize:t.size,backgroundRepeat:t.repeat?"repeat":"no-repeat",backgroundColor:t.color,backgroundAttachment:t.attachment,backgroundOrigin:t.origin}),i.src=t.image,i.onload=function(){c=this.height>=this.width,o.removeClass("image-box__portrait image-box__landscape").addClass("image-box__"+(c?"portrait":"landscape"))}},changeAttribute:function(o,t){var i=o.replace("data-","");["image","size","repeat","color","attachment","origin"].indexOf(i)>-1&&(this.options[i]=t,this._drawImage())},destroy:function(){return this.element}})}(Metro,Dom),function(e,r){var f=e.utils,o={imagecompareDeferred:0,width:"100%",height:"auto",onSliderMove:e.noop,onImageCompareCreate:e.noop};e.imageCompareSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroImageCompareSetup<"u"&&e.imageCompareSetup(globalThis.metroImageCompareSetup),e.Component("image-compare",{init:function(t,i){return this._super(i,t,o,{id:f.elementId("image-compare")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-compare-create",{element:t})},_createStructure:function(){var t=this.element,i=this.options,c,m,b,w,S,D;switch(f.isValue(t.attr("id"))||t.attr("id",f.elementId("image-compare")),t.addClass("image-compare").css({width:i.width}),S=t.width(),i.height){case"16/9":D=f.aspectRatioH(S,i.height);break;case"21/9":D=f.aspectRatioH(S,i.height);break;case"4/3":D=f.aspectRatioH(S,i.height);break;case"auto":D=f.aspectRatioH(S,"16/9");break;default:D=i.height}t.css({height:D}),c=r("<div>").addClass("image-container").appendTo(t),m=r("<div>").addClass("image-container-overlay").appendTo(t).css({width:S/2}),b=r("<div>").addClass("image-slider").appendTo(t),b.css({top:D/2-b.height()/2,left:S/2-b.width()/2}),w=t.find("img"),r.each(w,function(I){var P=r("<div>").addClass("image-wrapper");P.css({width:S,height:D,backgroundImage:"url("+this.src+")"}),P.appendTo(I===0?c:m)})},_createEvents:function(){var t=this,i=this.element,c=this.options,m=i.find(".image-container-overlay"),b=i.find(".image-slider");b.on(e.events.startAll,function(){var w=i.width();r(document).on(e.events.moveAll,function(S){var D=f.getCursorPositionX(i[0],S),I;D<0&&(D=0),D>w&&(D=w),m.css({width:D}),I=D-b.width()/2,b.css({left:I}),t._fireEvent("slider-move",{x:D,l:I})},{ns:t.id}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})}),r(globalThis).on(e.events.resize,function(){var w=i.width(),S;if(c.width==="100%"){switch(c.height){case"16/9":S=f.aspectRatioH(w,c.height);break;case"21/9":S=f.aspectRatioH(w,c.height);break;case"4/3":S=f.aspectRatioH(w,c.height);break;case"auto":S=f.aspectRatioH(w,"16/9");break;default:S=c.height}i.css({height:S}),r.each(i.find(".image-wrapper"),function(){r(this).css({width:w,height:S})}),i.find(".image-container-overlay").css({width:w/2}),b.css({top:S/2-b.height()/2,left:w/2-b.width()/2})}},{ns:this.id})},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.start),r(globalThis).off(e.events.resize,{ns:this.id}),t}})}(Metro,Dom),function(e,r){var f=e.utils,o={useBackground:!1,backgroundSize:"cover",backgroundPosition:"top left",clsImageGrid:"",clsImageGridItem:"",clsImageGridImage:"",onItemClick:e.noop,onDrawItem:e.noop,onImageGridCreate:e.noop};e.imageGridSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroImageGridSetup<"u"&&e.imageGridSetup(globalThis.metroImageGridSetup),e.Component("image-grid",{init:function(t,i){return this._super(i,t,o,{items:[]}),this},_create:function(){this.items=this.element.children("img"),this._createStructure(),this._createEvents(),this._fireEvent("image-grid-create")},_createStructure:function(){var t=this.element,i=this.options;t.addClass("image-grid").addClass(i.clsImageGrid),this._createItems()},_createEvents:function(){var t=this,i=this.element;i.on(e.events.click,".image-grid__item",function(){t._fireEvent("item-click",{item:this})})},_createItems:function(){var t=this,i=this.element,c=this.options,m=this.items;i.clear(),m.each(function(){var b=r(this),w=this.src,S=r("<div>").addClass("image-grid__item").addClass(c.clsImageGridItem).appendTo(i),D=new Image;D.src=w,D.onload=function(){var I=this.height>=this.width;S.addClass(I?"image-grid__item-portrait":"image-grid__item-landscape"),b.addClass(c.clsImageGridImage).appendTo(S),c.useBackground&&(S.css({background:"url("+w+")",backgroundRepeat:"no-repeat",backgroundSize:c.backgroundSize,backgroundPosition:c.backgroundPosition}).attr("data-original",b.attr("data-original")||w).attr("data-title",b.attr("alt")||b.attr("data-title")||""),b.visible(!1)),t._fireEvent("draw-item",{item:S[0],image:b[0]})}})},changeAttribute:function(t,i){var c=this.options;t==="data-use-background"&&(c.useBackground=f.bool(i),this._createItems()),t==="data-background-size"&&(c.backgroundSize=i,this._createItems()),t==="data-background-position"&&(c.backgroundPosition=i,this._createItems())},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={imagemagnifierDeferred:0,width:"100%",height:"auto",lensSize:100,lensType:"square",magnifierZoom:2,magnifierMode:"glass",magnifierZoomElement:null,clsMagnifier:"",clsLens:"",clsZoom:"",onMagnifierMove:e.noop,onImageMagnifierCreate:e.noop};e.imageMagnifierSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroImageMagnifierSetup<"u"&&e.imageMagnifierSetup(globalThis.metroImageMagnifierSetup),e.Component("image-magnifier",{init:function(t,i){return this._super(i,t,o,{zoomElement:null,id:f.elementId("image-magnifier")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-magnifier-create",{element:t})},_createStructure:function(){var t=this.element,i=this.options,c,m,b,w=t.find("img");if(w.length===0)throw new Error("Image not defined");switch(f.isValue(t.attr("id"))||t.attr("id",f.elementId("image-magnifier")),t.addClass("image-magnifier").css({width:i.width}).addClass(i.clsMagnifier),m=t.width(),i.height){case"16/9":b=f.aspectRatioH(m,i.height);break;case"21/9":b=f.aspectRatioH(m,i.height);break;case"4/3":b=f.aspectRatioH(m,i.height);break;case"auto":b=f.aspectRatioH(m,"16/9");break;default:b=i.height}t.css({height:b});var S=m/2-i.lensSize/2,D=b/2-i.lensSize/2;if(i.magnifierMode==="glass")c=r("<div>").addClass("image-magnifier-glass").appendTo(t),c.css({width:i.lensSize,height:i.lensSize,borderRadius:i.lensType!=="circle"?0:"50%",top:D,left:S,backgroundImage:"url("+w[0].src+")",backgroundRepeat:"no-repeat",backgroundPosition:"-"+(S*i.magnifierZoom-i.lensSize/4+4)+"px -"+(D*i.magnifierZoom-i.lensSize/4+4)+"px",backgroundSize:w[0].width*i.magnifierZoom+"px "+w[0].height*i.magnifierZoom+"px"}).addClass(i.clsLens);else{c=r("<div>").addClass("image-magnifier-glass").appendTo(t),c.css({width:i.lensSize,height:i.lensSize,borderRadius:0,borderWidth:1,top:D,left:S}).addClass(i.clsLens),!f.isValue(i.magnifierZoomElement)||r(i.magnifierZoomElement).length===0?this.zoomElement=r("<div>").insertAfter(t):this.zoomElement=r(i.magnifierZoomElement);var I=c[0].offsetWidth*i.magnifierZoom,P=c[0].offsetHeight*i.magnifierZoom,V=I/i.lensSize,z=P/i.lensSize;this.zoomElement.css({width:I,height:P,backgroundImage:"url("+w[0].src+")",backgroundRepeat:"no-repeat",backgroundPosition:"-"+S*V+"px -"+D*z+"px",backgroundSize:w[0].width*V+"px "+w[0].height*z+"px"}).addClass(i.clsZoom)}},_createEvents:function(){var t=this,i=this.element,c=this.options,m=i.find(".image-magnifier-glass"),b=m[0].offsetWidth/2,w=i.find("img")[0],S=this.zoomElement,D,I;r(globalThis).on(e.events.resize,function(){var V=i.width()/2-c.lensSize/2,z=i.height()/2-c.lensSize/2;c.magnifierMode==="glass"&&m.css({backgroundPosition:"-"+(V*c.magnifierZoom-c.lensSize/4+4)+"px -"+(z*c.magnifierZoom-c.lensSize/4+4)+"px",backgroundSize:w.width*c.magnifierZoom+"px "+w.height*c.magnifierZoom+"px"})},{ns:this.id}),c.magnifierMode!=="glass"&&(D=S[0].offsetWidth/b/2,I=S[0].offsetHeight/b/2,S.css({backgroundSize:w.width*D+"px "+w.height*I+"px"}));var P=function(V){var z,K,ye=4,_e=parseInt(c.magnifierZoom);c.magnifierMode==="glass"?(z=V.x,K=V.y,z>w.width-b/_e&&(z=w.width-b/_e),z<b/_e&&(z=b/_e),K>w.height-b/_e&&(K=w.height-b/_e),K<b/_e&&(K=b/_e),m.css({top:K-b,left:z-b,backgroundPosition:"-"+(z*_e-b+ye)+"px -"+(K*_e-b+ye)+"px"})):(z=V.x-b,K=V.y-b,z>w.width-b*2&&(z=w.width-b*2),z<0&&(z=0),K>w.height-b*2&&(K=w.height-b*2),K<0&&(K=0),m.css({top:K,left:z}),S.css({backgroundPosition:"-"+z*D+"px -"+K*I+"px"}))};i.on(e.events.move,function(V){var z=f.getCursorPosition(w,V);P(z),t._fireEvent("magnifier-move",{pos:z,glass:m[0],zoomElement:S?S[0]:void 0}),V.preventDefault()}),i.on(e.events.leave,function(){var V=i.width()/2-c.lensSize/2,z=i.height()/2-c.lensSize/2;m.animate({draw:{top:z,left:V}}),P({x:V+c.lensSize/2,y:z+c.lensSize/2})})},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.move),t.off(e.events.leave),t}})}(Metro,Dom),function(e,r){var f={size:"100x100",width:null,height:null,color:"#f8f8f8",textColor:"#292929",font:"12px sans-serif",text:"",showText:!0,onImagePlaceholderCreate:e.noop};e.imagePlaceholderSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroImagePlaceholderSetup<"u"&&e.imagePlaceholderSetup(globalThis.metroImagePlaceholderSetup),e.Component("image-placeholder",{init:function(o,t){return this._super(t,o,f,{width:0,height:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("image-placeholder-create")},_createStructure:function(){var o=this.element,t=this.options,i=t.size.toArray("x");this.width=t.width?t.width:i[0],this.height=t.height?t.height:i[1],o.attr("src",this._createPlaceholder())},_createEvents:function(){},_createPlaceholder:function(){var o=this.options,t=document.createElement("canvas"),i=t.getContext("2d"),c=this.width,m=this.height;return t.width=parseInt(c),t.height=parseInt(m),i.clearRect(0,0,c,m),i.fillStyle=o.color,i.fillRect(0,0,c,m),i.fillStyle=o.textColor,i.font=o.font,i.translate(c/2,m/2),i.textAlign="center",i.textBaseline="middle",o.showText&&i.fillText(o.text?o.text:c+" × "+m,0,0),t.toDataURL()},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={infoboxDeferred:0,type:"",width:480,height:"auto",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,autoHide:0,removeOnClose:!1,closeButton:!0,clsBox:"",clsBoxContent:"",clsOverlay:"",onOpen:e.noop,onClose:e.noop,onInfoBoxCreate:e.noop};e.infoBoxSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroInfoBoxSetup<"u"&&e.infoBoxSetup(globalThis.metroInfoBoxSetup),e.Component("info-box",{init:function(t,i){return this._super(i,t,o,{overlay:null,id:f.elementId("info-box")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("info-box-create",{element:t})},_overlay:function(){var t=this.options,i=r("<div>");return i.addClass("overlay").addClass(t.clsOverlay),t.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(t.overlayColor),t.overlayAlpha)}),i},_createStructure:function(){var t=this.element,i=this.options,c,m;i.overlay===!0&&(this.overlay=this._overlay()),t.addClass("info-box").addClass(i.type).addClass(i.clsBox),c=t.find("closer"),c.length===0&&(c=r("<span>").addClass("button square closer"),c.appendTo(t)),i.closeButton!==!0&&c.hide(),m=t.find(".info-box-content"),m.length>0&&m.addClass(i.clsBoxContent),t.css({width:i.width,height:i.height,visibility:"hidden",top:"100%",left:(r(globalThis).width()-t.outerWidth())/2}),t.appendTo(r("body"))},_createEvents:function(){var t=this,i=this.element;i.on(e.events.click,".closer",function(){t.close()}),i.on(e.events.click,".js-dialog-close",function(){t.close()}),r(globalThis).on(e.events.resize,function(){t.reposition()},{ns:this.id})},_setPosition:function(){var t=this.element;t.css({top:(r(globalThis).height()-t.outerHeight())/2,left:(r(globalThis).width()-t.outerWidth())/2})},reposition:function(){this._setPosition()},setContent:function(t){var i=this.element,c=i.find(".info-box-content");c.length!==0&&(c.html(t),this.reposition())},setType:function(t){var i=this.element;i.removeClass("success info alert warning").addClass(t)},open:function(){var t=this,i=this.element,c=this.options;c.overlay===!0&&r(".overlay").length===0&&(this.overlay.appendTo(r("body")),c.overlayClickClose===!0&&this.overlay.on(e.events.click,function(){t.close()})),this._setPosition(),i.css({visibility:"visible"}),this._fireEvent("open"),i.data("open",!0),parseInt(c.autoHide)>0&&setTimeout(function(){t.close()},parseInt(c.autoHide))},close:function(){var t=this.element,i=this.options;i.overlay===!0&&r("body").find(".overlay").remove(),t.css({visibility:"hidden",top:"100%"}),this._fireEvent("close"),t.data("open",!1),i.removeOnClose===!0&&(this.destroy(),t.remove())},isOpen:function(){return this.element.data("open")===!0},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off("all"),r(globalThis).off(e.events.resize,{ns:this.id}),t}}),e.infobox={isInfoBox:function(t){return f.isMetroObject(t,"infobox")},open:function(t,i,c){if(!this.isInfoBox(t))return!1;var m=e.getPlugin(t,"infobox");i!==void 0&&m.setContent(i),c!==void 0&&m.setType(c),m.open()},close:function(t){if(!this.isInfoBox(t))return!1;var i=e.getPlugin(t,"infobox");i.close()},setContent:function(t,i){if(!this.isInfoBox(t))return!1;i===void 0&&(i="");var c=e.getPlugin(t,"infobox");c.setContent(i),c.reposition()},setType:function(t,i){if(!this.isInfoBox(t))return!1;var c=e.getPlugin(t,"infobox");c.setType(i),c.reposition()},isOpen:function(t){if(!this.isInfoBox(t))return!1;var i=e.getPlugin(t,"infobox");return i.isOpen()},create:function(t,i,c,m){var b=f.$(),w,S,D;D=i!==void 0?i:"",w=b("<div>").appendTo(b("body")),b("<div>").addClass("info-box-content").appendTo(w);var I=b.extend({},{removeOnClose:!0,type:D},c!==void 0?c:{});return I._runtime=!0,w.infobox(I),S=e.getPlugin(w,"infobox"),S.setContent(t),m!==!1&&S.open(),w}}}(Metro,Dom),function(e,r){var f=e.utils,o={maskPattern:".",mask:null,maskPlaceholder:"_",maskEditableStart:0,thresholdInterval:300,onChar:e.noop,onInputMaskCreate:e.noop};e.inputMaskSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroInputMaskSetup<"u"&&e.inputMaskSetup(globalThis.metroInputMaskSetup),e.Component("input-mask",{init:function(t,i){return this._super(i,t,o,{pattern:null,mask:"",maskArray:[],placeholder:"",length:0,thresholdTimer:null,id:f.elementId("input-mask")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("input-mask-create")},_createStructure:function(){var t=this.options;if(!t.mask)throw new Error("You must provide a pattern for masked input.");if(typeof t.maskPlaceholder!="string"||t.maskPlaceholder.length>1)throw new Error("Mask placeholder should be a single character or an empty string.");this.placeholder=t.maskPlaceholder,this.mask=""+t.mask,this.maskArray=this.mask.split(""),this.pattern=new RegExp("^"+t.maskPattern+"+$"),this.length=this.mask.length,this._showValue()},_createEvents:function(){var t=this,i=this.element,c=this.options,m=c.maskEditableStart,b=this.id,w=function(V){return V<m?(I(m),!1):!0},S=function(V){return V<t.mask.length&&t.mask.charAt(V)===t.placeholder},D=function(V){var z,K=t.maskArray;for(z=V;z<=K.length;z++)if(K[z]===t.placeholder)return z;return V},I=function(V){t.elem.setSelectionRange(V,V)},P=function(){clearInterval(t.thresholdTimer),t.thresholdTimer=null};i.on("change",function(){this.value===""&&(this.value=t.mask,I(m))},{ns:b}),i.on("focus click",function(){w(this.selectionStart),I(D(this.selectionStart))},{ns:b}),i.on("keydown",function(V){var z=this.selectionStart,K=this.value,ye=V.code,_e=V.key;if(ye==="ArrowRight"||ye==="End")return!0;z>=t.length&&["Backspace","Home","ArrowLeft","ArrowUp"].indexOf(ye)===-1?V.preventDefault():ye==="Home"||ye==="ArrowUp"?(V.preventDefault(),I(m)):ye==="ArrowLeft"?z-1<m&&V.preventDefault():ye==="Backspace"?(V.preventDefault(),z-1>=m&&(S(z-1)&&this.value.charAt(z-1)!==t.placeholder&&(this.value=K.substr(0,z-1)+t.placeholder+K.substr(z)),I(z-1))):ye==="Space"?(V.preventDefault(),I(z+1)):t.pattern.test(_e)?(V.preventDefault(),S(z)&&(this.value=K.substr(0,z)+(c.onChar===e.noop?_e:f.exec(c.onChar,[_e],this))+K.substr(z+1),I(D(z+1)))):V.preventDefault()},{ns:b}),i.on("keyup",function(){var V=this;P(),t.thresholdTimer=setInterval(function(){P(),I(D(V.selectionStart))},c.thresholdInterval)},{ns:b})},_showValue:function(){var t=this,i=this.elem,c=new Array(this.length),m;i.value?(m=i.value,r.each(this.maskArray,function(b,w){m[b]!==w&&!t.pattern.test(m[b])?c[b]=t.placeholder:c[b]=m[b]}),this.elem.value=c.join("")):i.value=this.mask},destroy:function(){var t=this.element,i=this.id;return t.off("change",{ns:i}),t.off("focus",{ns:i}),t.off("click",{ns:i}),t.off("keydown",{ns:i}),t.off("keyup",{ns:i}),t}})}(Metro,Dom),function(e,r){var f=e.utils,o={materialinputDeferred:0,label:"",informer:"",icon:"",permanentLabel:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"❌",revealButtonIcon:"👀",searchButtonIcon:"🔍",customButtons:[],searchButtonClick:"submit",clsComponent:"",clsInput:"",clsLabel:"",clsInformer:"",clsIcon:"",clsLine:"",onInputCreate:e.noop};e.materialInputSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroMaterialInputSetup<"u"&&e.materialInputSetup(globalThis.metroMaterialInputSetup),e.Component("material-input",{init:function(t,i){return this._super(i,t,o,{history:[],historyIndex:-1}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:t})},_createStructure:function(){var t=this.element,i=this.options,c,m;t[0].className="",t.attr("autocomplete","nope"),t.attr("type")===void 0&&t.attr("type","text"),c=t.wrap("<div>").addClass("input-material "+t[0].className),m=r("<div>").addClass("buttons").appendTo(c),i.label&&r("<span>").html(i.label).addClass("label").addClass(i.clsLabel).insertAfter(t),f.isValue(i.informer)&&r("<span>").html(i.informer).addClass("informer").addClass(i.clsInformer).insertAfter(t),f.isValue(i.icon)&&(c.addClass("with-icon"),r("<span>").html(i.icon).addClass("icon").addClass(i.clsIcon).insertAfter(t)),i.clearButton===!0&&!t[0].readOnly&&r("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).appendTo(m),t.attr("type")==="password"&&i.revealButton===!0&&r("<button>").addClass("button input-reveal-button").addClass(i.clsRevealButton).attr("tabindex",-1).attr("type","button").html(i.revealButtonIcon).appendTo(m),i.searchButton===!0&&r("<button>").addClass("button input-search-button").addClass(i.clsSearchButton).attr("tabindex",-1).attr("type",i.searchButtonClick==="submit"?"submit":"button").html(i.searchButtonIcon).appendTo(m);let b=f.isObject(i.customButtons);Array.isArray(b)&&r.each(b,function(){var w=this,S=r("<button>");S.addClass("button input-custom-button").addClass(i.clsCustomButton).addClass(w.cls).attr("tabindex",-1).attr("type","button").html(w.text),w.attr&&typeof w.attr=="object"&&r.each(w.attr,function(D,I){S.attr(Str.dashedName(D),I)}),w.onclick&&S.on("click",()=>{w.onclick.apply(S,[t.valueOf(),t])}),S.appendTo(m)}),c.append(r("<hr>").addClass(i.clsLine)),i.permanentLabel===!0&&c.addClass("permanent-label"),c.addClass(i.clsComponent),t.addClass(i.clsInput),t.is(":disabled")?this.disable():this.enable(),this.component=c},_createEvents:function(){let t=this,i=this.options,c=this.element;this.component.on(e.events.click,".input-clear-button",function(){let m=c.val();c.val("").fire("clear").fire("change").fire("keyup").focus(),t._fireEvent("clear-click",{prev:m})}),this.component.on(e.events.click,".input-reveal-button",function(){c.attr("type")==="password"?c.attr("type","text"):c.attr("type","password"),t._fireEvent("reveal-click",{val:c.val()})}),this.component.on(e.events.click,".input-search-button",function(){i.searchButtonClick!=="submit"?t._fireEvent("search-button-click",{val:c.val(),button:this}):this.form&&this.form.submit()}),c.on(e.events.keydown,function(m){m.keyCode===e.keyCode.ENTER&&t._fireEvent("enter-click",{val:c.val()})})},clear:function(){this.element.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){t==="disabled"&&this.toggleState()},destroy:function(){return this.element}})}(Metro,Dom),function(e,r){let f={keypadDeferred:0,label:"",keySize:36,keys:"1, 2, 3, 4, 5, 6, 7, 8, 9, 0",exceptKeys:"",keySeparator:"",trimSeparator:!1,keyDelimiter:",",copyInlineStyles:!1,target:null,keyLength:0,shuffle:!1,shuffleCount:3,serviceButtons:!0,showValue:!0,open:!1,useElementSizeForKeys:!1,openMode:"auto",clsKeypad:"",clsInput:"",clsKeys:"",clsKey:"",clsServiceKey:"",clsBackspace:"",clsClear:"",clsLabel:"",onChange:e.noop,onClear:e.noop,onBackspace:e.noop,onShuffle:e.noop,onKey:e.noop,onKeypadCreate:e.noop};e.keypadSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroKeypadSetup<"u"&&e.keypadSetup(globalThis.metroKeypadSetup),e.Component("keypad",{init:function(o,t){return this._super(t,o,f,{value:t.tagName==="INPUT"?t.value:t.innerText,positions:["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],keypad:null,keys:[],keys_to_work:[],exceptKeys:[]}),this},_create:function(){let o=this.element,t=this.options;this.options.position="bottom-left",this.keys=t.keys.toArray(t.keyDelimiter),this.keys_to_work=this.keys,this.exceptKeys=t.exceptKeys.toArray(t.keyDelimiter),this._createKeypad(),t.shuffle===!0&&this.shuffle(),this._createKeys(),this._createEvents(),this._fireEvent("keypad-create",{element:o})},_createKeypad:function(){let o=this.element,t=this.options,i,c=o.wrap("<div>").addClass("input keypad").addClass(o[0].className).addClass(t.clsKeypad);if(o.attr("type")===void 0&&o.attr("type","text"),o.attr("readonly",!0),i=r("<div>").addClass("keys").addClass(t.clsKeys),i.appendTo(c),this._setKeysPosition(),t.open===!0&&i.addClass("open keep-open"),o[0].className="",t.copyInlineStyles===!0){let b=0,w=o[0].style.length;for(;b<w;b++)c.css(o[0].style[b],o.css(o[0].style[b]))}o.addClass(t.clsInput),c.addClass(t.clsKeypad),o.on(e.events.blur,function(){c.removeClass("focused")}),o.on(e.events.focus,function(){c.addClass("focused")});let m=r("<div>").addClass("button-group").appendTo(c);if(r("<button>").addClass("button input-kbd-button").addClass(t.clsKbdButton).attr("tabindex",-1).attr("type","button").html("⌨").appendTo(m),t.label){let b=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(c);if(o.attr("id"))b.attr("for",o.attr("id"));else{let w=Hooks.useId(o[0]);o.id(w),b.attr("for",w)}o.attr("dir")==="rtl"&&b.addClass("rtl")}t.disabled===!0||o.is(":disabled")?this.disable():this.enable(),this.keypad=c},_setKeysPosition:function(){let o=this.element,t=this.options;o.parent().find(".keys").removeClass(this.positions.join(" ")).addClass(t.position)},_createKeys:function(){let o=this.element,t=this.options,i=o.parent(),c,m=i.find(".keys"),b=Math.round(Math.sqrt(this.keys.length+2)),w=t.keySize,S;if(m.html(""),r.each(this.keys_to_work,function(){c=r("<span>").addClass("key").addClass(t.clsKey).html(this),c.data("key",this),c.css({width:t.keySize,height:t.keySize,lineHeight:t.keySize-4}).appendTo(m)}),t.serviceButtons===!0){let D=["&larr;","&times;"];r.each(D,function(){c=r("<span>").addClass("key service-key").addClass(t.clsKey).addClass(t.clsServiceKey).html(this),this==="&larr;"&&c.addClass(t.clsBackspace),this==="&times;"&&c.addClass(t.clsClear),c.data("key",this),c.css({width:t.keySize,height:t.keySize,lineHeight:t.keySize-4}).appendTo(m)})}t.useElementSizeForKeys===!0?m.outerWidth(o.outerWidth()):(S=b*(w+2)-6,m.outerWidth(S))},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.parent(),m=c.find(".keys");m.on(e.events.click,".key",function(b){let w=r(this),S=w.data("key"),D;if(w.data("key")!=="&larr;"&&w.data("key")!=="&times;"){if(i.keyLength>0&&(""+o.value).length===i.keyLength)return!1;o.exceptKeys.indexOf(S)===-1&&(o.value=o.value+(o.value!==""?i.keySeparator:"")+S),i.shuffle===!0&&(o.shuffle(),o._createKeys()),i.dynamicPosition===!0&&(i.position=o.positions[r.random(0,o.positions.length-1)],o._setKeysPosition()),o._fireEvent("key",{key:w.data("key"),val:o.value})}else w.data("key")==="&times;"&&(o.value="",o._fireEvent("clear")),w.data("key")==="&larr;"&&(D=i.keySeparator&&o.value[o.value.length-1]!==i.keySeparator?2:1,o.value=o.value.substring(0,o.value.length-D),o._fireEvent("backspace",{val:o.value}));i.showValue===!0&&(t[0].tagName==="INPUT"?t.val(o.value):t.text(o.value)),o._fireEvent("change",{val:o.val}),b.preventDefault(),b.stopPropagation()}),c.on(e.events.click,function(b){i.open!==!0&&(m.hasClass("open")===!0?m.removeClass("open").removeClass("top-left"):(m.addClass("open"),i.openMode==="auto"?e.utils.inViewport(m[0])===!1&&m.addClass("top-left"):i.openMode==="up"&&m.addClass("top-left")),b.preventDefault(),b.stopPropagation())}),i.target!==null&&t.on(e.events.change,function(){let b=r(i.target);b.length!==0&&(b[0].tagName==="INPUT"?b.val(o.value):b.text(o.value))})},shuffle:function(){let o=this.options;for(let t=0;t<o.shuffleCount;t++)this.keys_to_work=this.keys_to_work.shuffle();this._fireEvent("shuffle",{keysToWork:this.keys_to_work,keys:this.keys})},shuffleKeys:function(o){o===void 0&&(o=this.options.shuffleCount);for(let t=0;t<o;t++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(o){let t=this.element,i=this.options;return typeof o>"u"?i.trimSeparator?this.value.replace(new RegExp(i.keySeparator,"g")):this.value:(this.value=""+o,t[0].tagName==="INPUT"?t.val(o):t.text(o),this)},open:function(){let o=this.element,t=this.options,i=o.parent().find(".keys");i.addClass("open"),t.openMode==="auto"?e.utils.inViewport(i[0])===!1&&i.addClass("top-left"):t.openMode==="up"&&i.addClass("top-left")},close:function(){this.element.parent().find(".keys").removeClass("open").removeClass("top-left")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setPosition:function(o){let t=o!==void 0?o:this.element.attr("data-position");this.positions.indexOf(t)!==-1&&(this.options.position=t,this._setKeysPosition())},changeAttribute:function(o){switch(o){case"disabled":this.toggleState();break;case"data-position":this.setPosition();break}},destroy:function(){let o=this.element,t=this.options,i=this.keypad,c=i.find(".keys");i.off(e.events.click),c.off(e.events.click,".key"),o.off(e.events.change),t.label&&i.prev("label").remove(),i.remove()}}),r(document).on(e.events.click,function(){let o=r(".keypad .keys");r.each(o,function(){r(this).hasClass("keep-open")||r(this).removeClass("open")})})}(Metro,Dom),function(e,r){var f={loop:!0,source:"img",iconClose:"❌",iconPrev:"🡐",iconNext:"🡒",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:e.noop,onLightboxCreate:e.noop};e.lightboxSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroLightboxSetup<"u"&&e.lightboxSetup(globalThis.metroLightboxSetup),e.Component("lightbox",{init:function(o,t){return this._super(t,o,f,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){var o=this.options;o.source||(o.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){var o=this.options,t,i;i=r(".lightbox-overlay"),i.length===0&&(i=r("<div>").addClass("lightbox-overlay").appendTo("body").hide()),t=r("<div>").addClass("lightbox").addClass(o.clsLightbox).appendTo("body").hide(),r("<span>").addClass("lightbox__prev").addClass(o.clsPrev).html(o.iconPrev).appendTo(t),r("<span>").addClass("lightbox__next").addClass(o.clsNext).html(o.iconNext).appendTo(t),r("<span>").addClass("lightbox__closer").addClass(o.clsClose).html(o.iconClose).appendTo(t),r("<div>").addClass("lightbox__image").addClass(o.clsImageContainer).appendTo(t),this.component=t[0],this.lightbox=t,this.overlay=i},_createEvents:function(){var o=this,t=this.element,i=this.options,c=r(this.component);t.on(e.events.click,i.source,function(){o.open(this)}),c.on(e.events.click,".lightbox__closer",function(){o.close()}),c.on(e.events.click,".lightbox__prev",function(){o.prev()}),c.on(e.events.click,".lightbox__next",function(){o.next()})},_setupItems:function(){var o=this.element,t=this.options,i=o.find(t.source);i.length!==0&&(this.items=i)},_goto:function(o){var t=this,i=this.options,c=r(o),m=r("<img>"),b,w,S,D;w=this.lightbox.find(".lightbox__image"),w.find(".lightbox__image-wrapper").remove(),S=r("<div>").addClass("lightbox__image-wrapper").addClass(i.clsImageWrapper).attr("data-title",c.attr("alt")||c.attr("data-title")||"").appendTo(w),D=r("<div>").appendTo(S),e.makePlugin(D,"activity",{type:"cycle",style:"color"}),this.current=o,(o.tagName==="IMG"||o.tagName==="DIV")&&(b=c.attr("data-original")||c.attr("src"),m.attr("src",b),m[0].onload=function(){var I=this.height>this.width;m.addClass(I?"lightbox__image-portrait":"lightbox__image-landscape").addClass(i.clsImage),m.attr("alt",c.attr("alt")),m.appendTo(S),D.remove(),t._fireEvent("draw-image",{image:m[0],item:S[0]})})},_index:function(o){var t=-1;return this.items.each(function(i){this===o&&(t=i)}),t},next:function(){var o,t=this.current;if(o=this._index(t),o+1>=this.items.length)if(this.options.loop)o=-1;else return;this._goto(this.items[o+1])},prev:function(){var o,t=this.current;if(o=this._index(t),o-1<0)if(this.options.loop)o=this.items.length;else return;this._goto(this.items[o-1])},open:function(o){return this._setupItems(),this._goto(o),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:function(){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={listDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationShortMode:!0,thousandSeparator:",",decimalSeparator:",",itemTag:"li",defaultTemplateTag:"div",sortClass:null,sortDir:"asc",sortInitial:!0,filterClass:null,filter:null,filterString:"",filters:null,source:null,showItemsSteps:!1,showSearch:!1,showListInfo:!1,showPagination:!1,showActivity:!0,muteList:!0,items:-1,itemsSteps:"all, 10,25,50,100",itemsAllTitle:"Show all",listItemsCountTitle:"Show entries:",listSearchTitle:"Search:",listInfoTitle:"Showing $1 to $2 of $3 entries",paginationPrevTitle:"Prev",paginationNextTitle:"Next",activityType:"cycle",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,searchThreshold:500,clsComponent:"",clsList:"",clsListItem:"",clsListTop:"",clsItemsCount:"",clsSearch:"",clsListBottom:"",clsListInfo:"",clsListPagination:"",clsPagination:"",clsTemplateTag:"",onDraw:e.noop,onDrawItem:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoaded:e.noop,onDataLoadError:e.noop,onFilterItemAccepted:e.noop,onFilterItemDeclined:e.noop,onListCreate:e.noop};e.listSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroListSetup<"u"&&e.listSetup(globalThis.metroListSetup),e.Component("list",{init:function(t,i){return this._super(i,t,o,{currentPage:1,pagesCount:1,filterString:"",data:null,activity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,filterIndex:null,filtersIndexes:[],itemTemplate:null,sort:{dir:"asc",colIndex:0},header:null,items:[]}),this},_create:function(){var t=this,i=this.options;i.source?(t._fireEvent("data-load",{source:i.source}),fetch(i.source).then(e.fetch.status).then(e.fetch.json).then(function(c){t._fireEvent("data-loaded",{source:i.source,data:c}),t._build(c)}).catch(function(c){t._fireEvent("data-load-error",{source:i.source,error:c})})):t._build()},_build:function(t){f.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createStructure(),this._createEvents(),this._fireEvent("list-create")},_createItemsFromHTML:function(){var t=this,i=this.element,c=this.options,m=(""+c.clsTemplateTag).toArray(",");this.items=[],r.each(i.children(c.itemTag),function(){var b=r(this).children("*");m.length&&(m.length===1?b.addClass(m[0]):b.each(function(w,S){r(S).addClass(m[w]?m[w]:m[m.length-1])})),t.items.push(this)})},_createItemsFromJSON:function(t){var i=this,c=this.options,m=(""+c.clsTemplateTag).toArray(",");this.items=[],f.isValue(t.template)&&(this.itemTemplate=t.template),f.isValue(t.header)&&(this.header=t.header),f.isValue(t.data)&&r.each(t.data,function(){var b="",w=this,S=document.createElement(c.itemTag),D=i.itemTemplate,I;if(f.isValue(D))b=e.template(D,w,{beginToken:c.templateBeginToken,endToken:c.templateEndToken});else for(var P in w)b+="<"+c.defaultTemplateTag+">"+w[P]+"</"+c.defaultTemplateTag+">";S.innerHTML=b,I=r(S).children("*"),m.length&&(m.length===1?I.addClass(m[0]):I.each(function(V,z){r(z).addClass(m[V]?m[V]:m[m.length-1])})),i.items.push(S)})},_createTopBlock:function(){var t=this,i=this.element,c=this.options,m=r("<div>").addClass("list-top").addClass(c.clsListTop).insertBefore(i),b,w,S,D;return b=f.isValue(this.wrapperSearch)?this.wrapperSearch:r("<div>").addClass("list-search-block").addClass(c.clsSearch).appendTo(m),w=r("<input>").attr("type","text").appendTo(b),e.makePlugin(w,"input",{prepend:c.listSearchTitle}),c.showSearch!==!0&&b.hide(),S=f.isValue(this.wrapperRows)?this.wrapperRows:r("<div>").addClass("list-rows-block").addClass(c.clsItemsCount).appendTo(m),D=r("<select>").appendTo(S),r.each(c.itemsSteps.toArray(),function(){var I=r("<option>").attr("value",this==="all"?-1:this).text(this==="all"?c.itemsAllTitle:this).appendTo(D);+this==+c.items&&I.attr("selected","selected")}),D.select({filter:!1,prepend:c.listItemsCountTitle,onChange:function(I){+I!=+c.items&&(c.items=parseInt(I),t.currentPage=1,t._draw(),t._fireEvent("rows-count-change",{val:I}))}}),c.showItemsSteps!==!0&&S.hide(),m},_createBottomBlock:function(){var t=this.element,i=this.options,c=r("<div>").addClass("list-bottom").addClass(i.clsListBottom).insertAfter(t),m,b;return m=r("<div>").addClass("list-info").addClass(i.clsListInfo).appendTo(c),i.showListInfo!==!0&&m.hide(),b=r("<div>").addClass("list-pagination").addClass(i.clsListPagination).appendTo(c),i.showPagination!==!0&&b.hide(),c},_createStructure:function(){var t=this,i=this.element,c=this.options,m,b=r(c.searchWrapper),w=r(c.infoWrapper),S=r(c.rowsWrapper),D=r(c.paginationWrapper);b.length>0&&(this.wrapperSearch=b),w.length>0&&(this.wrapperInfo=w),S.length>0&&(this.wrapperRows=S),D.length>0&&(this.wrapperPagination=D),i.parent().hasClass("list-component")?m=i.parent():(m=r("<div>").addClass("list-component").insertBefore(i),i.appendTo(m)),m.addClass(c.clsComponent),this.activity=r("<div>").addClass("list-progress").appendTo(m),r("<div>").activity({type:c.activityType,style:c.activityStyle}).appendTo(this.activity),c.showActivity!==!0&&this.activity.css({visibility:"hidden"}),i.addClass(c.clsList),this._createTopBlock(),this._createBottomBlock(),f.isValue(c.filterString)&&(this.filterString=c.filterString);var I;f.isValue(c.filter)&&(I=f.isFunc(c.filter),I===!1&&(I=f.func(c.filter)),t.filterIndex=t.addFilter(I)),f.isValue(c.filters)&&typeof c.filters=="string"&&r.each(c.filters.toArray(),function(){I=f.isFunc(this),I!==!1&&t.filtersIndexes.push(t.addFilter(I))}),this.currentPage=1,c.sortInitial!==!1?this.sorting(c.sortClass,c.sortDir,!0):this.draw()},_createEvents:function(){var t=this,i=this.element,c=this.options,m=i.parent(),b=m.find(".list-search-block input"),w;function S(I){t.filterString=this.value.trim().toLowerCase(),t.filterString[t.filterString.length-1]!==":"&&(t.currentPage=1,t._draw())}S=Hooks.useDebounce(S,c.searchThreshold),b.on(e.events.inputchange,S),f.isValue(this.wrapperSearch)&&(w=this.wrapperSearch.find("input"),w.length>0&&w.on(e.events.inputchange,S));function D(I){var P=r(I),V=P.parent();V.hasClass("active")||(V.hasClass("service")?P.data("page")==="prev"?(t.currentPage--,t.currentPage===0&&(t.currentPage=1)):(t.currentPage++,t.currentPage>t.pagesCount&&(t.currentPage=t.pagesCount)):t.currentPage=P.data("page"),t._draw())}m.on(e.events.click,".pagination .page-link",function(){D(this)}),f.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",function(){D(this)})},_info:function(t,i,c){var m=this.element,b=this.options,w=m.parent(),S=f.isValue(this.wrapperInfo)?this.wrapperInfo:w.find(".list-info"),D;S.length!==0&&(i>c&&(i=c),this.items.length===0&&(t=i=c=0),D=b.listInfoTitle,D=D.replace("$1",t),D=D.replace("$2",i),D=D.replace("$3",c),S.html(D))},_paging:function(t){var i=this.element,c=this.options,m=i.parent();this.pagesCount=Math.ceil(t/c.items),e.pagination({length:t,rows:c.items,current:this.currentPage,target:f.isValue(this.wrapperPagination)?this.wrapperPagination:m.find(".list-pagination"),claPagination:c.clsPagination,prevTitle:c.paginationPrevTitle,nextTitle:c.paginationNextTitle,distance:c.paginationShortMode===!0?c.paginationDistance:0})},_filter:function(){var t=this,i=this.options,c,m,b,w,S,D;return f.isValue(this.filterString)||this.filters.length>0?(c=this.items.filter(function(I){if(b="",f.isValue(i.filterClass)){if(w=I.getElementsByClassName(i.filterClass),w.length>0)for(m=0;m<w.length;m++)b+=w[m].textContent}else b=I.textContent;if(S=b.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),D=f.isValue(t.filterString)?S.indexOf(t.filterString)>-1:!0,D===!0&&t.filters.length>0){for(m=0;m<t.filters.length;m++)if(f.exec(t.filters[m],[I])!==!0){D=!1;break}}return D?t._fireEvent("filter-item-accepted",{item:I}):t._fireEvent("filter-item-declined",{item:I}),D}),t._fireEvent("search",{search:t.filterString,items:c})):c=this.items,c},_draw:function(t){var i=this.element,c=this.options,m,b=c.items===-1?0:c.items*(this.currentPage-1),w=c.items===-1?this.items.length-1:b+c.items-1,S;for(S=this._filter(),i.children(c.itemTag).remove(),m=b;m<=w;m++)f.isValue(S[m])&&r(S[m]).addClass(c.clsListItem).appendTo(i),this._fireEvent("draw-item",{item:S[m]});this._info(b+1,w+1,S.length),this._paging(S.length),this.activity.hide(),this._fireEvent("draw"),t&&f.exec(t,[i],i[0])},_getItemContent:function(t){let i=this.locale;var c=this.options,m=r(t),b,w,S,D,I=f.isValue(m.data("formatMask"))?m.data("formatMask"):null;if(f.isValue(c.sortClass)){if(S="",w=r(t).find("."+c.sortClass),w.length>0)for(b=0;b<w.length;b++)S+=w[b].textContent;D=w.length>0?w[0].getAttribute("data-format"):""}else S=t.textContent,D=t.getAttribute("data-format");if(S=(""+S).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),f.isValue(D))switch(["number","int","integer","float","money"].indexOf(D)!==-1&&(c.thousandSeparator!==","||c.decimalSeparator!==".")&&(S=f.parseNumber(S,c.thousandSeparator,c.decimalSeparator)),D){case"date":S=I?Datetime.from(S,I,i):datetime(S);break;case"number":S=Number(S);break;case"int":case"integer":S=parseInt(S);break;case"float":S=parseFloat(S);break;case"money":S=f.parseMoney(S);break;case"card":S=f.parseCard(S);break;case"phone":S=f.parsePhone(S);break}return S},deleteItem:function(t){var i,c=[],m,b=f.isFunc(t);for(i=0;i<this.items.length;i++)m=this.items[i],b?f.exec(t,[m])&&c.push(i):m.textContent.includes(t)&&c.push(i);return this.items=f.arrayDeleteByMultipleKeys(this.items,c),this},draw:function(){return this._draw()},sorting:function(t,i,c){var m=this,b=this.options;return f.isValue(t)&&(b.sortClass=t),f.isValue(i)&&["asc","desc"].indexOf(i)>-1&&(b.sortDir=i),this._fireEvent("sort-start",{items:this.items}),this.items.sort(function(w,S){var D=m._getItemContent(w),I=m._getItemContent(S),P=0;return D<I&&(P=b.sortDir==="asc"?-1:1),D>I&&(P=b.sortDir==="asc"?1:-1),P!==0&&m._fireEvent("sort-item-switch",{a:w,b:S,result:P}),P}),this._fireEvent("sort-stop",{items:this.items}),c===!0&&this._draw(),this},filter:function(t){this.filterString=t.trim().toLowerCase(),this.currentPage=1,this._draw()},setData:function(t){var i=this,c=this.element,m=this.options;if(f.isValue(t)===!0){i._createItemsFromJSON(t),c.html(""),f.isValue(m.filterString)&&(i.filterString=m.filterString);var b;f.isValue(m.filter)&&(b=f.isFunc(m.filter),b===!1&&(b=f.func(m.filter)),i.filterIndex=i.addFilter(b)),f.isValue(m.filters)&&typeof m.filters=="string"&&r.each(m.filters.toArray(),function(){b=f.isFunc(this),b!==!1&&i.filtersIndexes.push(i.addFilter(b))}),i.currentPage=1,i.sorting(m.sortClass,m.sortDir,!0)}},loadData:function(t){var i=this,c=this.options;f.isValue(t)===!0&&(c.source=t,this._fireEvent("data-load",{source:c.source}),fetch(c.source).then(e.fetch.status).then(e.fetch.json).then(function(m){i._fireEvent("data-loaded",{source:c.source,data:m}),i.setData(m)}).catch(function(m){i._fireEvent("data-load-error",{source:c.source,error:m})}))},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}this._draw()}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}this._draw()}},first:function(){this.items.length!==0&&(this.currentPage=1,this._draw())},last:function(){this.items.length!==0&&(this.currentPage=this.pagesCount,this._draw())},page:function(t){t<=0&&(t=1),t>this.pagesCount&&(t=this.pagesCount),this.currentPage=t,this._draw()},addFilter:function(t,i){var c=f.isFunc(t);if(c!==!1)return this.filters.push(c),i===!0&&(this.currentPage=1,this.draw()),this.filters.length-1},removeFilter:function(t,i){return f.arrayDeleteByKey(this.filters,t),i===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(t){this.filters=[],t===!0&&(this.currentPage=1,this.draw())},getFilters:function(){return this.filters},getFilterIndex:function(){return this.filterIndex},getFiltersIndexes:function(){return this.filtersIndexes},changeAttribute:function(t){var i=this,c=this.element,m=this.options,b=function(){var D=c.attr("data-sort-dir");f.isValue(D)&&(m.sortDir=D,i.sorting(m.sortClass,m.sortDir,!0))},w=function(){var D=c.attr("data-sort-source");f.isValue(D)&&(m.sortClass=D,i.sorting(m.sortClass,m.sortDir,!0))},S=function(){var D=c.attr("data-filter-string");f.isValue(D)&&(m.filterString=D,i.filter(m.filterString))};switch(t){case"data-sort-dir":b();break;case"data-sort-source":w();break;case"data-filter-string":S();break}},destroy:function(){var t=this.element,i=t.parent(),c=i.find(".list-search-block input"),m;return c.off(e.events.inputchange),f.isValue(this.wrapperSearch)&&(m=this.wrapperSearch.find("input"),m.length>0&&m.off(e.events.inputchange)),i.off(e.events.click,".pagination .page-link"),f.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),t}})}(Metro,Dom),function(e,r){let f=`
    <svg width="800px" height="800px" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
        <path class="a" d="M39.5,15.5h-9a2,2,0,0,1-2-2v-9h-18a2,2,0,0,0-2,2v35a2,2,0,0,0,2,2h27a2,2,0,0,0,2-2Z"/>
        <line class="a" x1="28.5" y1="4.5" x2="39.5" y2="15.5"/>
    </svg>`,o='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',t={listviewDeferred:0,selectable:!1,duration:100,view:e.listView.LIST,selectCurrent:!0,defaultIcon:f,onNodeInsert:e.noop,onNodeDelete:e.noop,onNodeClean:e.noop,onCollapseNode:e.noop,onExpandNode:e.noop,onGroupNodeClick:e.noop,onNodeClick:e.noop,onNodeDblclick:e.noop,onListViewCreate:e.noop};e.listViewSetup=function(i){t=r.extend({},t,i)},typeof globalThis.metroListViewSetup<"u"&&e.listViewSetup(globalThis.metroListViewSetup),e.Component("listview",{init:function(i,c){return this._super(c,i,t),this},_create:function(){let i=this.element;this._createStructure(),this._createEvents(),this._fireEvent("listview-create",{element:i})},_createIcon:function(i){return r("<div>").addClass("icon").html(i)},_createCaption:function(i=""){return r("<div>").addClass("caption").html(i)},_createContent:function(i=""){return r("<div>").addClass("content").html(i)},_createDesc:function(i=""){return r("<div>").addClass("desc").html(i)},_createDate:function(i=""){return r("<div>").addClass("date").html(i)},_createToggle:function(){return r("<span>").addClass("node-toggle").html(o)},_createNode:function(i){var c;let m=this,b=this.options,w=r("<li>");return w.append(r("<input type='checkbox' data-role='checkbox'>").data("node",w)),w.append(m._createIcon((c=i.icon)!=null?c:b.defaultIcon)),w.append(m._createCaption(i.caption)),w.append(m._createDesc(i.desc)),w.append(m._createDate(i.date)),w.append(m._createContent(i.content)),w},_createStructure:function(){let i=this,c=this.element,m=this.options,b=c.find("li");c.addClass("listview"),c.find("ul").addClass("listview"),m.selectable&&c.addClass("selectable"),r.each(b,function(w){var S,D,I;let P=r(this),V=P.html(),z=`Item_${w+1}`;P.children("ul").length>0?(P.prepend(i._createCaption((S=P.data("caption"))!=null?S:z)),P.addClass("node-group"),P.append(i._createToggle()),P.data("collapsed")!==!0&&P.addClass("expanded")):(P.clear().addClass("node"),P.append(r("<input type='checkbox' data-role='checkbox'>").data("node",P)),P.append(i._createIcon((D=P.data("icon"))!=null?D:m.defaultIcon)),P.append(i._createCaption((I=P.data("caption"))!=null?I:z)),P.append(i._createDesc(P.data("desc"))),P.append(i._createDate(P.data("date"))),P.append(i._createContent(V)))}),m.selectable&&c.addClass("selectable"),this.view(m.view)},_createEvents:function(){let i=this,c=this.element,m=this.options;c.on(e.events.dblclick,".node",function(){let b=r(this);i._fireEvent("node-dblclick",{node:b})}),c.on(e.events.click,".node",function(){let b=r(this),w=r(this).attr("href");if(w){globalThis.location.href=w;return}let S=b.hasClass("current");c.find(".node").removeClass("current"),S||b.addClass("current"),m.selectCurrent===!0&&(c.find(".node").removeClass("current-select"),S||b.addClass("current-select")),i._fireEvent("node-click",{node:b})}),c.on(e.events.click,".node-toggle",function(){let b=r(this).closest("li");i.toggleNode(b)}),c.on(e.events.click,".node-group > .caption",function(){let b=r(this).closest("li");c.find(".node-group").removeClass("current-group"),b.addClass("current-group"),i._fireEvent("group-node-click",{node:b})}),c.on(e.events.dblclick,".node-group > .caption",function(){let b=r(this).closest("li");i.toggleNode(b),i._fireEvent("node-dbl-click",{node:b})})},view:function(i){let c=this.element,m=this.options;if(i===void 0)return m.view;m.view=i,r.each(e.listView,function(b,w){c.removeClass("view-"+w),c.find("ul").removeClass("view-"+w)}),c.addClass("view-"+m.view),c.find("ul").addClass("view-"+m.view)},toggleNode:function(i){let c=this.options,m;i=r(i),i.hasClass("node-group")&&(i.toggleClass("expanded"),m=i.hasClass("expanded")!==!0?"slideUp":"slideDown",this._fireEvent("collapse-node",{node:i}),i.children("ul")[m](c.duration))},toggleSelectable:function(){let i=this.element,c=this.options;c.selectable=!c.selectable;let m=c.selectable===!0?"addClass":"removeClass";console.log(m),i[m]("selectable"),i.find("ul")[m]("selectable")},add:function(i,c=null){let m=this.element,b=this.options,w,S,D;if(c===null)w=m;else{if(c=r(c),!c.hasClass("node-group"))return;w=c.children("ul"),w.length===0&&(w=r("<ul>").addClass("listview").addClass("view-"+b.view).appendTo(c),D=this._createToggle(),D.appendTo(c),c.addClass("expanded"))}S=this._createNode(i),S.addClass("node").appendTo(w);let I=r("<input type='checkbox'>");return I.data("node",S),S.prepend(I),e.makePlugin(I,"checkbox",{}),this._fireEvent("node-insert",{newNode:S,parentNode:c,list:w}),S},addGroup:function(i){let c=this.element,m=this.options,b;return delete i.icon,b=this._createNode(i),b.addClass("node-group").appendTo(c),b.append(this._createToggle()),b.addClass("expanded"),b.append(r("<ul>").addClass("listview").addClass("view-"+m.view)),this._fireEvent("node-insert",{newNode:b,parentNode:null,list:c}),b},insertBefore:function(i,c){let m,b,w;if(c=r(c),!!c.length)return m=this._createNode(i),m.addClass("node").insertBefore(c),b=m.closest(".node"),w=m.closest("ul"),this._fireEvent("node-insert",{newNode:m,parentNode:b,list:w}),m},insertAfter:function(i,c){let m,b,w;if(c=r(c),!!c.length)return m=this._createNode(i),m.addClass("node").insertAfter(c),b=m.closest(".node"),w=m.closest("ul"),this._fireEvent("node-insert",{newNode:m,parentNode:b,list:w}),m},del:function(i){let c=this.element;if(i=r(i),!i.length)return;let m=i.closest("ul"),b=m.closest("li");i.remove(),m.children().length===0&&!m.is(c)&&(m.remove(),b.removeClass("expanded"),b.children(".node-toggle").remove()),this._fireEvent("node-delete",{node:i})},clean:function(i){i=r(i),i.length&&(i.children("ul").remove(),i.removeClass("expanded"),i.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:i}))},getSelected:function(){let i=this.element,c=[];return r.each(i.find(":checked"),function(){let m=r(this);c.push(m.closest(".node")[0])}),c},clearSelected:function(){this.element.find(":checked").prop("checked",!1),this.element.trigger("change")},selectAll:function(i=!0){this.element.find(".checkbox input").prop("checked",i),this.element.trigger("change")},selectByAttribute:function(i,c,m=!0){this.element.find("li["+i+'="'+c+'"] > .checkbox input').prop("checked",m),this.element.trigger("change")},changeAttribute:function(i){let c=this,m=this.element,b=this.options,w=function(){let D="view-"+m.attr("data-view");c.view(D)},S=function(){b.selectable=JSON.parse(m.attr("data-selectable"))===!0,c.toggleSelectable()};switch(i){case"data-view":w();break;case"data-selectable":S();break}},destroy:function(){let i=this.element;i.off(e.events.click,".node"),i.off(e.events.click,".node-toggle"),i.off(e.events.click,".node-group > .caption"),i.off(e.events.dblclick,".node-group > .caption"),i.remove()}})}(Metro,Dom),function(e,r){var f={items:null,loop:!0,height:"auto",width:"100%",duration:1e4,direction:"left",ease:"linear",mode:"default",accentPause:2e3,firstPause:1e3,stopOnHover:!0,clsMarquee:"",clsMarqueeItem:"",onMarqueeItem:e.noop,onMarqueeItemComplete:e.noop,onMarqueeComplete:e.noop,onMarqueeCreate:e.noop};e.marqueeSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroMarqueeSetup<"u"&&e.marqueeSetup(globalThis.metroMarqueeSetup),e.Component("marquee",{init:function(o,t){return this._super(t,o,f,{origin:null,items:[],running:!1,current:-1,chain:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("marquee-create")},_createStructure:function(){var o=this.element,t=this.options;o.addClass("marquee").addClass(t.clsMarquee),o.css({height:t.height,width:t.width});let i=o.html().split(`
`).map(m=>m.trim()).filter(m=>m.length),c=e.utils.isObject(t.items)||[];this.origin=[...i,...c],this.setItems(this.origin,!0),this.items.length&&(this.current=0,this.createChain(),console.log(this.chain),this.start())},setItems:function(o,t=!0){let i=this.element,c=this.options,m=c.direction.toLowerCase();if(t&&(this.items.length=0),i.clear(),this.items=o.map(b=>r("<div>").html(b).addClass("marquee__item").addClass(c.clsMarqueeItem).appendTo(i)[0]),r(this.items).addClass(m==="left"||m==="right"?"moveLeftRight":"moveUpDown"),c.height==="auto"){let b=0;r(this.items).each(function(){let w=+r(this).outerHeight(!0);w>b&&(b=w)}),i.height(b)}return this},setItem:function(o,t){var i=r(this.items[o]),c,m=this.options,b=this.element;if(i.length)return i.html(t),c=i.outerHeight(!0),m.height==="auto"&&b.height()<c&&b.height(c),this},addItem:function(o,t=-1){var i=this.element,c=this.options,m,b=r(o),w,S;return m=b.length?b:r("<div>").html(o),t<0?i.append(m):(w=this.items[t],w?m.insertBefore(w):i.append(m)),S=m.outerHeight(!0),c.height==="auto"&&i.height()<S&&i.height(S),this},createChain:function(){let o=this.element,t=this.options,i=20,c=t.direction,m=t.ease,b=+t.duration,w=0,S=o[0].getBoundingClientRect();if(this.chain.length=0,t.mode==="default")for(let D of this.items){let I=r(D),P=D.getBoundingClientRect();(S.width-P.width)/2;let V;I.attr("data-direction")&&(c=I.attr("data-direction")),I.attr("data-duration")&&(b=+I.attr("data-duration")),I.attr("data-ease")?m=I.attr("data-ease"):m=t.ease,["left","right"].indexOf(c)>-1?V={left:c==="left"?[S.width,-P.width-i]:[-P.width-i,S.width]}:V={top:c==="up"?[S.height,-P.height-i]:[-P.height-i,S.height]},this.chain.push({el:I[0],draw:V,dur:b,ease:m,defer:w===0?+t.firstPause:0}),w++}else for(let D of this.items){let I=r(D),P=D.getBoundingClientRect(),V=(S.width-P.width)/2,z=(S.height-P.height)/2,K,ye;b=t.duration/2,I.attr("data-direction")&&(c=I.attr("data-direction").toLowerCase()),I.attr("data-duration")&&(b=+I.attr("data-duration")/2);let _e=m?m.split(" "):["linear"];I.attr("data-ease")&&(_e=I.attr("data-ease").split(" ")),["left","right"].includes(c)?(K={left:c==="left"?[S.width,V]:[-P.width-i,V]},ye={left:c==="left"?[V,-P.width-i]:[V,S.width+i]}):(K={top:c==="up"?[S.height,z]:[-P.height-i,z]},ye={top:c==="up"?[z,-P.height-i]:[z,S.height+i]}),this.chain.push({el:I[0],draw:K,dur:b,ease:_e[0]||"linear",defer:w===0?+t.firstPause:0}),this.chain.push({el:I[0],draw:ye,dur:b,ease:_e[1]?_e[1]:_e[0]?_e[0]:"linear",defer:+t.accentPause}),w++}},_createEvents:function(){var o=this,t=this.element,i=this.options;t.on(e.events.enter,function(){i.stopOnHover&&r.pauseAll(o.items)}),t.on(e.events.leave,function(){i.stopOnHover&&r.resumeAll(o.items)});let c=Hooks.useDebounce(m=>{o.stop(),o.setItems(this.items,!0),o.createChain(),o.start()},1e3);r(window).on(e.events.resize,c)},start:function(){let o=this.options;return this.running=!0,r.chain(this.chain,{loop:o.loop,onChainItem:e.utils.isFunc(o.onMarqueeItem),onChainItemComplete:e.utils.isFunc(o.onMarqueeItemComplete),onChainComplete:e.utils.isFunc(o.onMarqueeComplete)}),this},stop:function(){return this.running=!1,r.stopAll(!1),this},changeAttribute:function(){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={masterDeferred:0,effect:"slide",effectFunc:"linear",duration:METRO_ANIMATION_DURATION,controlPrev:"🡐",controlNext:"🡒",controlTitle:"Master, page $1 of $2",backgroundImage:"",clsMaster:"",clsControls:"",clsControlPrev:"",clsControlNext:"",clsControlTitle:"",clsPages:"",clsPage:"",onBeforePage:e.noop_true,onBeforeNext:e.noop_true,onBeforePrev:e.noop_true,onNextPage:e.noop,onPrevPage:e.noop,onMasterCreate:e.noop};e.masterSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroMasterSetup<"u"&&e.masterSetup(globalThis.metroMasterSetup),e.Component("master",{init:function(t,i){return this._super(i,t,o,{pages:[],currentIndex:0,isAnimate:!1,id:f.elementId("master")}),this},_create:function(){var t=this.element,i=this.options;t.addClass("master").addClass(i.clsMaster),t.css({backgroundImage:"url("+i.backgroundImage+")"}),this._createControls(),this._createPages(),this._createEvents(),this._fireEvent("master-create",{element:t})},_createControls:function(){var t=this.element,i=this.options,c=["top","bottom"],m,b,w=t.find(".page");b=String(i.controlTitle).replace("$1","1"),b=String(b).replace("$2",w.length),r.each(c,function(){m=r("<div>").addClass("controls controls-"+this).addClass(i.clsControls).appendTo(t),r("<span>").addClass("prev").addClass(i.clsControlPrev).html(i.controlPrev).appendTo(m),r("<span>").addClass("next").addClass(i.clsControlNext).html(i.controlNext).appendTo(m),r("<span>").addClass("title").addClass(i.clsControlTitle).html(b).appendTo(m)}),this._enableControl("prev",!1)},_enableControl:function(t,i){var c=this.element.find(".controls ."+t);i===!0?c.removeClass("disabled"):c.addClass("disabled")},_setTitle:function(){var t=this.element.find(".controls .title"),i=this.options.controlTitle.replace("$1",this.currentIndex+1);i=i.replace("$2",String(this.pages.length)),t.html(i)},_createPages:function(){var t=this,i=this.element,c=this.options,m=i.find(".pages"),b=i.find(".page");m.length===0&&(m=r("<div>").addClass("pages").appendTo(i)),m.addClass(c.clsPages),r.each(b,function(){var w=r(this);w.data("cover")?i.css({backgroundImage:"url("+w.data("cover")+")"}):i.css({backgroundImage:"url("+c.backgroundImage+")"}),w.css({left:"100%"}),w.addClass(c.clsPage).hide(0),t.pages.push(w)}),b.appendTo(m),this.currentIndex=0,this.pages[this.currentIndex]!==void 0&&(this.pages[this.currentIndex].data("cover")!==void 0&&i.css({backgroundImage:"url("+this.pages[this.currentIndex].data("cover")+")"}),this.pages[this.currentIndex].css("left","0").show(0),setTimeout(function(){m.css({height:t.pages[0].outerHeight(!0)+2})},0))},_createEvents:function(){var t=this,i=this.element,c=this.options;i.on(e.events.click,".controls .prev",function(){t.isAnimate!==!0&&f.exec(c.onBeforePrev,[t.currentIndex,t.pages[t.currentIndex],i])===!0&&f.exec(c.onBeforePage,["prev",t.currentIndex,t.pages[t.currentIndex],i])===!0&&t.prev()}),i.on(e.events.click,".controls .next",function(){t.isAnimate!==!0&&f.exec(c.onBeforeNext,[t.currentIndex,t.pages[t.currentIndex],i])===!0&&f.exec(c.onBeforePage,["next",t.currentIndex,t.pages[t.currentIndex],i])===!0&&t.next()}),r(globalThis).on(e.events.resize,function(){i.find(".pages").height(t.pages[t.currentIndex].outerHeight(!0)+2)},{ns:this.id})},_slideToPage:function(t){var i,c,m;this.pages[t]!==void 0&&this.currentIndex!==t&&(m=t>this.currentIndex?"next":"prev",i=this.pages[this.currentIndex],c=this.pages[t],this.currentIndex=t,this._effect(i,c,m))},_slideTo:function(t){var i,c,m=t.toLowerCase()==="next";if(i=this.pages[this.currentIndex],m){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}c=this.pages[this.currentIndex],this._fireEvent(m?"next-page":"prev-page",{current:i,next:c,forward:m}),this._effect(i,c,t)},_effect:function(t,i,c){var m=this,b=this.element,w=this.options,S=b.width(),D=b.find(".pages");this._setTitle(),this.currentIndex===this.pages.length-1?this._enableControl("next",!1):this._enableControl("next",!0),this.currentIndex===0?this._enableControl("prev",!1):this._enableControl("prev",!0),setTimeout(function(){m.isAnimate=!0,D.animate({draw:{height:i.outerHeight(!0)+2},onDone:function(){I()}})},0),D.css("overflow","hidden");function I(){i.data("cover")!==void 0?b.css({backgroundImage:"url("+i.data("cover")+")"}):b.css({backgroundImage:"url("+w.backgroundImage+")"}),D.css("overflow","initial"),m.isAnimate=!1}function P(){t.stop(!0).animate({draw:{left:c==="next"?-S:S},dur:w.duration,ease:w.effectFunc,onDone:function(){t.hide(0)}}),i.stop(!0).css({left:c==="next"?S:-S}).show(0).animate({draw:{left:0},dur:w.duration,ease:w.effectFunc,onDone:function(){I()}})}function V(){t.hide(),i.css({top:0,left:0,opacity:0}).show(function(){I()})}function z(){t.fadeOut(w.duration),i.css({top:0,left:0,opacity:0}).fadeIn(w.duration,"linear",function(){I()})}switch(w.effect){case"fade":z();break;case"switch":V();break;default:P()}},toPage:function(t){this._slideToPage(t)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},changeEffect:function(){this.options.effect=this.element.attr("data-effect")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr("data-effect-func")},changeEffectDuration:function(){this.options.duration=this.element.attr("data-duration")},changeAttribute:function(t){switch(t){case"data-effect":this.changeEffect();break;case"data-effect-func":this.changeEffectFunc();break;case"data-duration":this.changeEffectDuration();break}},destroy:function(){var t=this.element;return t.off(e.events.click,".controls .prev"),t.off(e.events.click,".controls .next"),r(globalThis).off(e.events.resize,{ns:this.id}),t}})}(Metro,Dom),function(e,r){let f={navviewDeferred:0,expandPoint:null,toggle:null,animate:!0,activeState:!0,initialView:"expand",onMenuItemClick:e.noop,onPaneClose:e.noop,onBeforePaneClose:e.noop,onPaneOpen:e.noop,onBeforePaneOpen:e.noop,onNavviewCreate:e.noop};e.navViewSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroNavViewSetup<"u"&&e.navViewSetup(globalThis.metroNavViewSetup),e.Component("nav-view",{init:function(o,t){return this._super(t,o,f,{pane:null,content:null,paneToggle:null,id:null,menuScrollDistance:0,menuScrollStep:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("navview-create")},_calcMenuHeight:function(){let o=this.element,t,i,c=0;t=o.children(".navview-pane"),t.length!==0&&(i=t.children(".navview-menu-container"),i.length!==0&&(r.each(i.prevAll(),function(){c+=r(this).outerHeight(!0)}),r.each(i.nextAll(),function(){c+=r(this).outerHeight(!0)}),i.css({height:"calc(100% - "+c+"px)"}),this.menuScrollStep=48,this.menuScrollDistance=e.utils.nearest(i[0].scrollHeight-i.height(),48)))},_recalc:function(){let o=this;setTimeout(function(){o._calcMenuHeight()},200)},_createStructure:function(){let o=this.element,t=this.options,i,c,m,b;o.addClass("navview"),o.attr("id")===void 0?(this.id=e.utils.elementId("navview"),o.attr("id",this.id)):this.id=o.attr("id"),t.initialView!=="compact"&&e.utils.mediaExist(t.expandPoint)?o.addClass("expanded"):o.addClass("compacted handmade"),e.storage.getItem("navview:compacted")===!0&&(o.removeClass("expanded"),o.addClass("compacted handmade")),i=o.children(".navview-pane"),c=o.children(".navview-content"),m=r(t.toggle),b=i.children(".navview-menu"),b.length&&(b.prevAll().reverse().wrapAll(r("<div>").addClass("navview-container")),b.wrap(r("<div>").addClass("navview-menu-container")),b.find("a").each(function(){let w=r(this),S=w.children(".icon"),D=w.children(".caption");S.length||w.prepend(r("<span>").addClass("icon").html(D.text()[0]))})),this.pane=i.length>0?i:null,this.content=c.length>0?c:null,this.paneToggle=m.length>0?m:null,t.animate&&o.addClass("animate-panes"),this._recalc()},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.find(".navview-menu-container"),m=c.children(".navview-menu");c.on("mousewheel",function(b){let w=t.find(".navview-pane").width(),S=b.deltaY>0?-1:1,D=o.menuScrollStep,I=o.menuScrollDistance,P=parseInt(m.css("top"));if(w>50)return!1;S===-1&&Math.abs(P)<=I&&m.css("top",parseInt(m.css("top"))+D*S),S===1&&P<=-D&&m.css("top",parseInt(m.css("top"))+D*S)},{passive:!0}),t.on(e.events.click,".pull-button",function(){o._pullClick(this,"pull")}),t.on(e.events.click,".holder",function(){o._pullClick(this,"holder")}),t.on(e.events.click,".navview-menu li",function(){i.activeState===!0&&(t.find(".navview-menu li.active").removeClass("active"),r(this).toggleClass("active"))}),t.on(e.events.click,".navview-menu li > a",function(){o._fireEvent("menu-item-click",{item:this})}),this.paneToggle!==null&&this.paneToggle.on(e.events.click,function(){}),m.find("a").on(e.events.enter,function(){if(!t.hasClass("compacted"))return;let b=r(this),w=e.utils.rect(this);b.children(".caption").css({position:"fixed",top:w.top,left:w.left+c.width(),borderRadius:4,paddingLeft:10,boxShadow:"0 0 5px 0 var(--shadow-color)"})}),m.find("a").on(e.events.leave,function(){if(!t.hasClass("compacted"))return;let b=r(this).children(".caption");b[0].style=""}),r(globalThis).on(e.events.resize,()=>{this._recalc(),t.hasClass("handmade")||(e.utils.isValue(i.expandPoint)&&e.utils.mediaExist(i.expandPoint)?(t.removeClass("compacted"),t.addClass("expanded")):(t.removeClass("expanded"),t.addClass("compacted")))},{ns:this.id})},_togglePaneMode:function(o=!1){let t=this.element,i=this.options;t.toggleClass("expanded"),t.toggleClass("compacted"),t.toggleClass("handmade"),t.hasClass("compacted")?(e.storage.setItem("navview:compacted",!0),e.utils.exec(i.onPaneClose,null,this)):(e.storage.setItem("navview:compacted",!1),e.utils.exec(i.onPaneOpen,null,this))},_pullClick:function(o,t){let i,c=r(o);return c&&c.hasClass("holder")&&(i=c.parent().find("input"),setTimeout(function(){i.focus()},200)),this._togglePaneMode(t==="pull"),this._recalc(),!0},toggle:function(){this._togglePaneMode()},compact:function(){let o=this.element;o.addClass("compacted handmade"),o.removeClass("expanded"),this._recalc()},expand:function(){let o=this.element;o.addClass("expanded"),o.removeClass("compacted handmade"),this._recalc()},state(){return this.element.hasClass("expanded")?"expand":"compact"},changeAttribute:function(o){},destroy:function(){let o=this.element;o.off(e.events.click,".pull-button, .holder"),o.off(e.events.click,".navview-menu li"),o.off(e.events.click,".navview-menu li > a"),this.paneToggle!==null&&this.paneToggle.off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),o.remove()}})}(Metro,Dom),function(e,r){let f={container:null,width:220,timeout:3e3,duration:METRO_ANIMATION_DURATION,distance:"max",animation:"linear",clsNotify:"",onClick:e.noop,onClose:e.noop,onShow:e.noop,onAppend:e.noop,onNotifyCreate:e.noop};e.notifySetup=function(t){f=r.extend({},f,t)},typeof globalThis.metroNotifySetup<"u"&&e.notifySetup(globalThis.metroNotifySetup);let o={container:null,options:{},notifies:[],setup:function(t){return this.options=r.extend({},f,t),this},reset:function(){let t={width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"max",animation:"linear"};this.options=r.extend({},f,t)},_createContainer:function(){let t=r("<div>").addClass("notify-container");return r("body").prepend(t),t},create:function(t,i,c={}){let m=this,b=this.options,w,S,D,I=e.utils.elementId("notify");if(!t)return!1;w=r("<div>").addClass("notify").addClass(b.clsNotify).attr("id",I),w.css({width:b.width}),i&&(D=r("<div>").addClass("notify-title").html(i),w.prepend(D)),S=r("<div>").addClass("notify-message").html(t),S.appendTo(w),c.clsNotify&&w.addClass(c.clsNotify),c.width!==void 0&&w.css({width:c.width}),w.on(e.events.click,function(){e.utils.exec(e.utils.isValue(c.onClick)?c.onClick:b.onClick,null,this),m.kill(r(this).closest(".notify"),e.utils.isValue(c.onClose)?c.onClose:b.onClose)}),o.container===null&&(o.container=o._createContainer()),w.appendTo(o.container),w.hide(function(){e.utils.exec(e.utils.isValue(c.onAppend)?c.onAppend:b.onAppend,null,w[0]);let P=e.utils.isValue(c.duration)?c.duration:b.duration,V=e.utils.isValue(c.animation)?c.animation:b.animation,z=e.utils.isValue(c.distance)?c.distance:b.distance;(z==="max"||isNaN(z))&&(z=r(globalThis).height()),w.show().animate({draw:{marginTop:[z,4],opacity:[0,1]},dur:P,ease:V,onDone:function(){e.utils.exec(b.onNotifyCreate,null,this),c!==void 0&&c.keepOpen===!0||setTimeout(function(){m.kill(w,e.utils.isValue(c.onClose)?c.onClose:b.onClose)},b.timeout),e.utils.exec(e.utils.isValue(c.onShow)?c.onShow:b.onShow,null,w[0])}})})},kill:function(t,i){let c=this;this.options,t.off(e.events.click),t.zoomOut(300,"linear",function(){e.utils.exec(i||c.options.onClose,null,t[0]),t.remove()})},killAll:function(){let t=this,i=r(".notify");r.each(i,function(){t.kill(r(this))})}};e.notify=o.setup()}(Metro,Dom),function(e,r){let f={tabsDeferred:0,expand:!1,expandPoint:null,type:"default",updateUri:!1,position:"top",align:"left",link:"",clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:e.noop,onTabOpen:e.noop,onTabClose:e.noop,onBeforeTab:e.noop_true,onTabsCreate:e.noop};e.tabsSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroTabsSetup<"u"&&e.tabsSetup(globalThis.metroTabsSetup),e.Component("tabs",{init:function(o,t){return this._super(t,o,f,{_targets:[],id:e.utils.elementId("tabs")}),this},_create:function(){let o=this.element,t=o.find(".active")[0];this._createStructure(),this._createEvents(),this._open(t),this._fireEvent("tabs-create",{element:o})},_createStructure:function(){let o=this.element,t=this.options,i=o.wrap("<div>").addClass("tabs"),c,m;if(i.addClass(`tabs-${t.position}`),o.addClass("tabs-list"),o.addClass("tabs-"+t.type),o.addClass("align-"+t.align),o.data("expanded",!1),c=r("<div>").addClass("expand-title"),i.prepend(c),m=i.find(".hamburger"),m.length===0){m=r("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(i);for(let b=0;b<3;b++)r("<span>").addClass("line").appendTo(m)}i.addClass(t.clsTabs),o.addClass(t.clsTabsList),o.children("li").addClass(t.clsTabsListItem),t.expand===!0?["left","right"].includes(t.position)||i.addClass("tabs-expand"):e.utils.isValue(t.expandPoint)&&e.utils.mediaExist(t.expandPoint)&&!["left","right"].includes(t.position)&&i.addClass("tabs-expand"),["left","right"].includes(t.position)&&i.addClass("tabs-expand")},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.parent();r(globalThis).on(e.events.resize,function(){["left","right"].includes(i.position)||(i.expand===!0?["left","right"].includes(i.position)||c.addClass("tabs-expand"):e.utils.isValue(i.expandPoint)&&e.utils.mediaExist(i.expandPoint)&&!["left","right"].includes(i.position)?c.hasClass("tabs-expand")||c.addClass("tabs-expand"):c.hasClass("tabs-expand")&&c.removeClass("tabs-expand"))},{ns:this.id}),c.on(e.events.click,".hamburger, .expand-title",function(){t.data("expanded")===!1?(t.addClass("expand"),t.data("expanded",!0),c.find(".hamburger").addClass("active")):(t.removeClass("expand"),t.data("expanded",!1),c.find(".hamburger").removeClass("active"))}),t.on(e.events.click,"li",function(m){let b=r(this).children("a"),w=b.attr("href").trim(),S=b.parent("li");if(o._fireEvent("tab",{tab:S[0],target:S.children("a").href()}),S.hasClass("active"),t.data("expanded")===!0&&(t.removeClass("expand"),t.data("expanded",!1),c.find(".hamburger").removeClass("active")),e.utils.exec(i.onBeforeTab,[S,t],S[0])!==!0)return!1;w&&(w.startsWith("#")?(o._open(S),m.preventDefault()):globalThis.location.href=w)}),r(globalThis).on("hashchange",function(){let m,b;i.updateUri&&(m=globalThis.location.hash,b=o._findTabByTarget(m),o._open(r(b)))})},_findTabByTarget:function(o){let t=this.element.find("li"),i;return t.each(function(c,m){!i&&r(m).children("a").attr("href")===o&&(i=m)}),i},_collectTargets:function(){let o=this,t=this.element.find("li");this._targets=[],r.each(t,function(){let i=r(this);if(i.hasClass("divider"))return;let c=i.find("a").attr("href").trim();c.length>1&&c[0]==="#"&&o._targets.push(c)})},_open:function(o){let t=this.element,i=this.options,c=t.find("li"),m=t.siblings(".expand-title"),b=t.find("li.active");if(c.length===0)return;this._collectTargets(),o===void 0?o=r(c[0]):o=r(o);let w=o.find("a").attr("href"),S=o.index();w!==void 0&&(c.removeClass("active").removeClass(i.clsTabsListItemActive),o.parent().hasClass("d-menu")?o.parent().parent().addClass("active"):o.addClass("active"),i.link&&r(`[data-link=${i.link}]`).each((D,I)=>{if(I===this.elem)return;let P=r(I).find("li");P.length&&P[S]&&P[S].click()}),r.each(this._targets,function(){let D=r(this);D.length>0&&D.hide()}),w!=="#"&&w[0]==="#"&&(i.updateUri&&(globalThis.location.hash=w),r(w).show()),m.html(o.find("a").html()),o.addClass(i.clsTabsListItemActive),b.is(o)||(this._fireEvent("tab-open",{tab:o[0],target:o.children("a").attr("href")}),this._fireEvent("tab-close",{tab:b[0],target:b.children("a").attr("href")})))},next:function(){let o=this.element,t;t=o.find("li.active").next("li"),t.length>0&&this._open(t)},prev:function(){let o=this.element,t;t=o.find("li.active").prev("li"),t.length>0&&this._open(t)},openByTarget:function(o){let t=this._findTabByTarget(o);t&&this._open(r(t))},openByIndex:function(o){let t=this.element.find("li");e.utils.isValue(t[o])&&this._open(r(t[o]))},open:function(o){let t=this.element.find("li");e.utils.isValue(o)||(o=1),e.utils.isInt(o)?e.utils.isValue(t[o-1])&&this._open(r(t[o-1])):this._open(r(o))},changeAttribute:function(){},destroy:function(){let o=this.element,t=o.parent();r(globalThis).off(e.events.resize,{ns:this.id}),t.off(e.events.click,".hamburger, .expand-title"),o.off(e.events.click,"a"),o.remove()}})}(Metro,Dom),function(e,r){let f=`<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z"/>
        <path d="M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z"/>
    </svg>`,o=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 9.781v10.667h8.885v1.771h7.115v-1.771h16v-10.667zM8.885 18.661h-1.771v-5.333h-1.781v5.333h-3.552v-7.104h7.104zM14.219 18.661v1.787h-3.552v-8.891h7.115v7.109h-3.563zM30.224 18.661h-1.776v-5.333h-1.781v5.333h-1.781v-5.333h-1.771v5.333h-3.563v-7.104h10.672zM14.219 13.333h1.781v3.557h-1.781z"/>
    </svg>`,t=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M30,10.75H21.251V2H30Z" />
        <path d="M20.374,10.75h-8.75V2h8.75Z" />
        <path d="M10.749,10.75H2V2h8.749Z" />
        <path d="M30,20.375H21.251v-8.75H30Z" />
        <path d="M20.374,20.375h-8.75v-8.75h8.75Z"/>
        <path d="M20.374,30h-8.75V21.25h8.75Z"/>
        <path d="M30,30H21.251V21.25H30Z" />
        <path d="M10.749,30H2V21.25h8.749Z" />
    </svg>`,i=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M28.208,24.409a10.493,10.493,0,0,0-3.959,1.822,23.743,23.743,0,0,1-5.835,2.642,1.632,1.632,0,0,1-.983.55A62.228,62.228,0,0,1,10.984,30c-1.163.009-1.876-.3-2.074-.776a1.573,1.573,0,0,1,.866-2.074,3.759,3.759,0,0,1-.514-.379c-.171-.171-.352-.514-.406-.388-.225.55-.343,1.894-.947,2.5-.83.839-2.4.559-3.328.072-1.019-.541.072-1.813.072-1.813a.73.73,0,0,1-.992-.343,4.847,4.847,0,0,1-.667-2.949,5.374,5.374,0,0,1,1.749-2.895,9.334,9.334,0,0,1,.658-4.4,10.445,10.445,0,0,1,3.165-3.661S6.628,10.747,7.35,8.817c.469-1.262.658-1.253.812-1.308a3.633,3.633,0,0,0,1.452-.857,5.265,5.265,0,0,1,4.41-1.7S15.2,1.4,16.277,2.09a18.349,18.349,0,0,1,1.533,2.886s1.281-.748,1.425-.469a11.334,11.334,0,0,1,.523,6.132,14.01,14.01,0,0,1-2.6,5.411c-.135.225,1.551.938,2.615,3.887.983,2.7.108,4.96.262,5.212.027.045.036.063.036.063s1.127.09,3.391-1.308A8.5,8.5,0,0,1,27.739,22.3a1.081,1.081,0,0,1,.469,2.11Z"/>
    </svg>`,c=`<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.966 22.566c6.609 0 11.966-4.326 11.966-9.661 0-3.308-2.051-6.23-5.204-7.963-1.283-.713-2.291-1.353-3.13-1.885-1.58-1.004-2.555-1.623-3.632-1.623-1.094 0-2.327.783-3.955 1.816a49.78 49.78 0 0 1-2.808 1.692C2.051 6.675 0 9.597 0 12.905c0 5.335 5.357 9.66 11.966 9.66Zm-1.397-17.83a5.885 5.885 0 0 0 .497-2.403c0-.144.201-.186.229-.028.656 2.775-.9 4.15-2.051 4.61-.124.048-.199-.12-.103-.208a5.748 5.748 0 0 0 1.428-1.971Zm2.052-.102a5.795 5.795 0 0 0-.78-2.3v-.015c-.068-.123.086-.263.185-.172 1.956 2.105 1.303 4.055.554 5.037-.082.102-.229-.003-.188-.126a5.837 5.837 0 0 0 .229-2.424Zm1.771-.559a5.708 5.708 0 0 0-1.607-1.801V2.26c-.112-.085-.024-.274.113-.218 2.588 1.084 2.766 3.171 2.452 4.395a.116.116 0 0 1-.048.071.11.11 0 0 1-.153-.026.118.118 0 0 1-.022-.083 5.864 5.864 0 0 0-.735-2.324Zm-5.072.559c-.616.544-1.279.758-2.058.997-.116 0-.194-.078-.155-.18 1.747-.907 2.369-1.645 2.99-2.771 0 0 .155-.117.188.085 0 .303-.348 1.325-.965 1.869Zm4.931 11.205a2.949 2.949 0 0 1-.935 1.549 2.16 2.16 0 0 1-1.282.618 2.167 2.167 0 0 1-1.323-.618 2.95 2.95 0 0 1-.923-1.549.243.243 0 0 1 .064-.197.23.23 0 0 1 .192-.069h3.954a.226.226 0 0 1 .19.07.239.239 0 0 1 .063.196Zm-5.443-2.17a1.85 1.85 0 0 1-2.377-.244 1.969 1.969 0 0 1-.233-2.44c.207-.318.502-.565.846-.711a1.84 1.84 0 0 1 1.089-.11c.365.075.701.26.964.53.264.27.443.616.515.99a1.98 1.98 0 0 1-.108 1.118 1.923 1.923 0 0 1-.696.866Zm8.471.005a1.849 1.849 0 0 1-2.374-.252 1.956 1.956 0 0 1-.546-1.362c0-.383.11-.758.319-1.076.207-.318.502-.566.847-.711a1.84 1.84 0 0 1 1.09-.108c.366.076.702.261.965.533s.44.617.512.993a1.98 1.98 0 0 1-.113 1.118 1.922 1.922 0 0 1-.7.865Z"/>
    </svg>`,m={link:"package-manager",default:"npm",deps:"",package:"",onPackageManagerCreate:e.noop};e.packageManagerSetup=function(b){m=r.extend({},m,b)},typeof globalThis.metroPackageManagerSetup<"u"&&e.packageManagerSetup(globalThis.metroPackageManagerSetup),e.Component("package-manager",{init:function(b,w){return this._super(w,b,m,{}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("component-create")},_createStructure:function(){let b=this.element,w=this.options,S=new Date().getTime(),D=Hooks.useId(`pm-npm-${S}`),I=Hooks.useId(`pm-pnpm-${S}`),P=Hooks.useId(`pm-yarn-${S}`),V=Hooks.useId(`pm-bun-${S}`);b.addClass("package-manager"),b.html(`
                <ul data-role="tabs" data-expand="true" data-link="${w.link}">
                    <li class="${w.default==="npm"?"active":""}"><a href="#${D}">${o} npm</a></li>
                    <li class="${w.default==="pnpm"?"active":""}"><a href="#${I}">${t} pnpm</a></li>
                    <li class="${w.default==="yarn"?"active":""}"><a href="#${P}">${i} yarn</a></li>
                    <li class="${w.default==="bun"?"active":""}"><a href="#${V}">${c} bun</a></li>
                </ul>
                <div>
                    <div class="pm-command" id="${D}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>npm i ${w.deps===""?"":w.deps==="dev"?"-D":""} ${w.package}</code>
                    </div>
                    <div class="pm-command" id="${I}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>pnpm add ${w.deps===""?"":w.deps==="dev"?"-D":"--save-peer"} ${w.package}</code>
                    </div>
                    <div class="pm-command" id="${P}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>yarn add ${w.deps===""?"":w.deps==="dev"?"-D":"-P"} ${w.package}</code>
                    </div>
                    <div class="pm-command" id="${V}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>bun add ${w.deps===""?"":w.deps==="dev"?"-D":"--peer"} ${w.package}</code>
                    </div>
                </div>
            `)},_createEvents:function(){let b=this.element;this.options,b.on("click",".pm-command button",function(){let w=r(this).parent().find("code").text();e.utils.copy2clipboard(w)})},changeAttribute:function(b,w){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){let f={appendButton:!0,tabsPosition:"left",customButtons:null,activateNewTab:!0,defaultNewTabTitle:"New File",defaultNewCanClose:!0,defaultNewTabIcon:"",defaultNewTabImage:"",defaultNewTabPosition:"before",appendActions:null,tabsActions:null,tabActions:null,refControl:!1,onAppendButtonClick:e.noop,onTabCreate:e.noop_arg,onTabActivate:e.noop,onTabDeactivate:e.noop,onTabBeforeClose:e.noop_true,onTabClose:e.noop,onTabRename:e.noop,onTabPropChange:e.noop,onTabOrganized:e.noop};e.pageControlSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroPageControlSetup<"u"&&e.pageControlSetup(globalThis.metroPageControlSetup),e.Component("page-control",{init:function(o,t){return this._super(t,o,f,{newFileIndex:1,invisibleTabsHolderToggle:null,invisibleTabsHolder:null}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("page-control-create")},_createStructure:function(){let o=this,t=this.element,i=this.options;this.component=r("<div>").addClass("page-control").insertBefore(t),t.addClass("page-control__tabs").appendTo(this.component),t.addClass(`tabs-position-${i.tabsPosition}`);let c=t.children("li:not(.page-control__tab-custom)"),m=!1;if(c.each(function(S,D){let I=r(D),P=I.html(),V=I.hasClass("active"),z=o.createTab({caption:P,icon:I.attr("data-icon"),image:I.attr("data-image"),canClose:I.attr("data-close")!=="false",data:I.attr("data-data"),ref:I.attr("data-ref")});V&&!m&&(m=!0,z.addClass("active"),o._fireEvent("tab-activate",{tab:z[0]})),t.append(z),I.remove()}),!m){let S=this.element.children(".page-control__tab").first();S.addClass("active"),this._fireEvent("tab-activate",{tab:S[0]})}if(i.refControl&&this._updateRefs(),i.appendButton){let S=r("<li>").addClass("page-control__tab__append").html('<span class="toggle">+</span>');if(i.appendActions){let D=e.utils.exec(i.appendActions,null,this);if(!Array.isArray(D))throw"PageControl Error! Prop appendActions must be a function that returns an array.";let I=r("<ul data-role='dropdown' class='d-menu context'>");D.map(P=>I.append(o._renderMenuItem(P))),S.append(I)}t.append(S)}let b=r("<li>").addClass("page-control__tab__service").addClass("invisible-tabs").appendTo(t);b.append(r("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">↧</span>
                    <ul class="d-menu place-right context page-control__invisible_tabs_holder"></ul>
                `)),this.invisibleTabsHolderToggle=b.find(".page-control__tab__service.invisible-tabs > .page-control__service-button"),this.invisibleTabsHolder=e.makePlugin(b.find(".page-control__invisible_tabs_holder"),"dropdown",{onClick:S=>{let D=r(S.target.parentNode);D.hasClass("page-control__tab__closer")?this.closeButtonClick(S):this.activateTab(D[0]),S.preventDefault(),S.stopPropagation()}}),this.invisibleTabsHolderToggle.hide(),this.organizeTabs();let w=r("<li>").addClass("page-control__tab__service").addClass("tabs-menu").appendTo(t);if(w.append(r("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">︙</span>
                    <ul class="d-menu place-right context" data-role="dropdown"></ul>
                `)),!i.tabsActions)w.hide();else{let S=w.find("ul");e.utils.exec(i.tabsActions,null,this).map(D=>S.append(o._renderMenuItem(D)))}},_updateRefs:function(){let o=this.element.find(".page-control__tab"),t=this.element.find(".page-control__tab.active");o.each((i,c)=>r(r(c).data("ref")).hide()),r(t.data("ref")).show()},_createEvents:function(){let o=this,t=this.element,i=this.options;t.on("click",".page-control__tab__closer",this.closeButtonClick.bind(this)),t.on("click",".page-control__tab__menu > li > a",function(c){let m=r(this).attr("data-action"),b=e.getPlugin(r(this).closest("ul"),"dropdown"),w=r(this).closest(".page-control__tab")[0];switch(b.close(),m){case"close":{o.closeTab(w);break}case"close-all":{o.closeAll();break}case"close-other":{o.closeOtherTabs(w);break}case"close-inactive":{o.closeInactiveTabs();break}case"close-left":{o.closeTabsOnTheLeft(w);break}case"close-right":{o.closeTabsOnTheRight(w);break}case"rename":{o.renameTab(w);break}}c.preventDefault(),c.stopPropagation()}),t.on("click",".page-control__tab",function(){r(this).hasClass("active")||o.activateTab(this)}),t.on("click",".page-control__tab__append > span",c=>{c.preventDefault(),c.stopPropagation();let m=o.createTab({caption:`${i.defaultNewTabTitle} ${o.newFileIndex++}`,canClose:i.defaultNewCanClose,icon:i.defaultNewTabIcon,image:i.defaultNewTabImage,data:null});o._fireEvent("tab-append",{tab:m}),o.activateTab(m),o.organizeTabs(),o._fireEvent("append-button-click",{tab:m})}),r(globalThis).on("resize",()=>{this.organizeTabs()})},_renderMenuItem:function(o){let t=r("<li>"),i=r("<a>");return(o.icon||o.image)&&i.append(o.icon?r("<span class='icon'>").addClass(o.icon):r("<img class='icon'>").attr("src",o.image).attr("alt","")),o.title&&i.append(r("<span>").addClass("caption").text(o.title)),i.data("data",o.data),o.onclick&&i.on("click",c=>o.onclick(c)),t.append(i),t},createTab:function({caption:o,icon:t,image:i,canClose:c=!0,hasMenu:m=!0,data:b,ref:w}){let S=this,D=this.element,I=this.options,P=r("<li>").addClass("page-control__tab").appendTo(D);if(m&&(P.append(r("<div>").addClass("page-control__tab__menu__holder").html(`
                        <span class="">︙</span>
                        <ul class="d-menu context page-control__tab__menu" data-role="dropdown">
                            <li><a data-action="rename">${this.strings.label_rename_tab}</a></li>
                            <li class="divider"></li>
                            <li><a data-action="close">${this.strings.label_close_tab}</a></li>
                            <li><a data-action="close-other">${this.strings.label_close_other_tabs}</a></li>
                            <li><a data-action="close-left">${this.strings.label_close_tabs_left}</a></li>
                            <li><a data-action="close-right">${this.strings.label_close_tabs_right}</a></li>
                            <li><a data-action="close-all">${this.strings.label_close_all_tabs}</a></li>
                            <li><a data-action="close-inactive">${this.strings.label_close_inactive_tabs}</a></li>
                        </ul>
                    `)),I.tabActions)){let V=P.find("ul"),z=e.utils.exec(I.tabActions);if(!Array.isArray(z))throw"PageControl Error! Prop tabActions must be a function that returns an array.";V.append(r("<li class='divider'>")),z.map(K=>V.append(S._renderMenuItem(K)))}return(t||i)&&P.append(r("<span>").addClass("page-control__tab__icon").html(t?`<span class="${t}">`:`<img src="${i}" alt=""/>`)),P.append(r("<span>").addClass("page-control__tab__caption").html(o)),c&&P.append(r("<span>").addClass("page-control__tab__closer").html("<span>✕</span>")),P.data("data",b),P.data("ref",w),this._fireEvent("tab-create",{tab:P[0]}),D[I.defaultNewTabPosition==="before"?"prepend":"append"](P),P[0]},closeButtonClick:function(o){let t=this,i=this.options,c=r(o.target).closest(".page-control__tab"),m=c.closest("ul");i.onTabBeforeClose(c[0])&&(t.closeTab(c[0]),m.hasClass("page-control__invisible_tabs_holder")&&m.children(".page-control__tab").length===0&&(e.getPlugin(this.invisibleTabsHolder,"dropdown").close(),this.invisibleTabsHolderToggle.hide()),o.preventDefault(),o.stopPropagation())},closeTab:function(o,t=!0){let i=r(o);if(i.hasClass("active")){let c=i.prev(".page-control__tab"),m=i.next(".page-control__tab");c.length?this.activateTab(c[0]):m.length?this.activateTab(m[0]):i.parent().hasClass("page-control__invisible_tabs_holder")&&parent.children(".page-control__tab").length===1&&element.children(".page-control__tab").length&&this.activateTab(element.children(".page-control__tab").last()[0])}return this._fireEvent("tab-close",{tab:o}),this.options.refControl&&r(i.data("ref")).remove(),i.remove(),t&&this.organizeTabs(),this},activateTab:function(o){let t=this.element,i=this.options;return t.find(".page-control__tab").each((c,m)=>{let b=r(m);b.hasClass("active")&&(this._fireEvent("tab-deactivate",{tab:m}),b.removeClass("active"))}),r(o).addClass("active"),i.refControl&&this._updateRefs(),this._fireEvent("tab-activate",{tab:o}),r(o).parent().hasClass("page-control__invisible_tabs_holder")&&(t.prepend(o),this.organizeTabs()),this},organizeTabs:function(){let o=this.element,t=this.elem.getBoundingClientRect().width,i=this.invisibleTabsHolder,c=o.find(".page-control__tab__append");i.children(".page-control__tab").each((w,S)=>{let D=r(S);c.length?D.insertBefore(c):D.appendTo(o)});let m=o.children(".page-control__tab"),b=0;for(let w of m){let S=w.getBoundingClientRect();if(b+S.width+50>t){r(w).nextAll(".page-control__tab").appendTo(i),r(w).appendTo(i);break}b+=S.width}i.children().length?this.invisibleTabsHolderToggle.show(function(){r(this).css({display:"flex"})}):this.invisibleTabsHolderToggle.hide(),this._fireEvent("tab-organized",null)},addTab:function({caption:o,icon:t,image:i,canClose:c=!0,hasMenu:m=!0,data:b,ref:w},S="before"){let D=this.options,I=this.createTab({caption:o,icon:t,image:i,canClose:c,hasMenu:m,data:b,ref:w});return D.activateNewTab&&this.activateTab(I),this.element[S==="before"?"prepend":"append"](I),this.organizeTabs(),I},getActiveTab:function(){return this.component.find(".page-control__tab.active")[0]},getActiveTabIndex:function(){return this.component.find(".page-control__tab").index(".active",!1)},getTabByIndex:function(o){return this.component.find(".page-control__tab").get(o)},getTabByTitle:function(o){if(!o)return;let t=this.component.find(".page-control__tab");for(let i of t)if(r(i).find(".caption").text()===o)return i},closeAll:function(){return this.component.find(".page-control__tab").each((o,t)=>{this.closeTab(t,!1)}),this.organizeTabs(),this},closeInactiveTabs:function(){return this.component.find(".page-control__tab").each((o,t)=>{r(t).hasClass("active")||this.closeTab(t,!1)}),this.organizeTabs(),this},closeOtherTabs:function(o){let t=typeof o=="number"?this.getTabByIndex(o):r(o);return this.component.find(".page-control__tab").each((i,c)=>{t[0]!==c&&this.closeTab(c,!1)}),this.activateTab(o),this.organizeTabs(),this},closeTabsOnTheLeft:function(o){let t=this.component.find(".page-control__tab").indexOf(r(o));return this.component.find(".page-control__tab").each((i,c)=>{i<t&&this.closeTab(c,!1)}),this.organizeTabs(),this},closeTabsOnTheRight:function(o){let t=this.component.find(".page-control__tab").indexOf(r(o));return this.component.find(".page-control__tab").each((i,c)=>{i>t&&this.closeTab(c,!1)}),this.organizeTabs(),this},setupTab:function(o,t,i){let c=r(o);switch(t){case"caption":{c.find(".page-control__tab__caption").text(i);break}case"icon":{c.find(".page-control__tab__icon")[0].className=i;break}case"image":{c.find(".page-control__tab__image").attr("src",i);break}case"data":{c.data("data",i);break}case"ref":{c.data("ref",i);break}}this._fireEvent("tab-prop-change",{tab:o}),this.organizeTabs()},renameTab:function(o){let t=this,i=r(o).find(".page-control__tab__caption");e.dialog.create({title:t.strings.label_rename_tab,content:`
                    <form style="width: 100%">
                        <input type="text" data-role="input" value="${i.text()}">
                    </form>
                `,defaultActions:!1,customButtons:[{text:t.strings.label_ok,cls:"js-dialog-close info",onclick:function(c){t.setupTab(o,"caption",c.find("input").val())}},{text:t.strings.label_cancel,cls:"js-dialog-close"}]})},changeAttribute:function(o,t){},destroy:function(){this.component.remove()}})}(Metro,Dom),function(e,r){e.pagination=function(f){var o={length:0,rows:0,current:0,target:"body",clsPagination:"",prevTitle:"",nextTitle:"",distance:5,islandSize:3,shortTrack:10},t,i=e.locales[r("html").attr("lang")||"en"],c,m,b;t=r.extend({},o,f);var w=parseInt(t.distance),S=parseInt(t.shortTrack),D=parseInt(t.islandSize),I=parseInt(t.length),P=parseInt(t.rows),V=Math.ceil(I/P),z=parseInt(t.current),K=r(t.target);K.html("");var ye=r("<ul>").addClass("pagination").addClass(t.clsPagination).appendTo(K);if(I!==0&&P!==-1){var _e=function(Ne,Ie,Se){var Me,Be;return Me=r("<li>").addClass("page-item").addClass(Ie),Be=r("<a>").addClass("page-link").html(Ne),Be.data("page",Se),Be.appendTo(Me),Me};if(m=_e(t.prevTitle||i.label_prev,"service prev-page","prev"),ye.append(m),ye.append(_e(1,z===1?"active":"",1)),w===0||V<=S)for(c=2;c<V;c++)ye.append(_e(c,c===z?"active":"",c));else if(z<w){for(c=2;c<=w;c++)ye.append(_e(c,c===z?"active":"",c));V>w&&ye.append(_e("...","no-link",null))}else if(z<=V&&z>V-w+1)for(V>w&&ye.append(_e("...","no-link",null)),c=V-w+1;c<V;c++)ye.append(_e(c,c===z?"active":"",c));else{ye.append(_e("...","no-link",null));for(let Ne=D;Ne>0;Ne--)ye.append(_e(z-Ne,"",z-Ne));ye.append(_e(z,"active",z));for(let Ne=1;Ne<=D;Ne++)ye.append(_e(z+Ne,"",z+Ne));ye.append(_e("...","no-link",null))}return(V>1||z<V)&&ye.append(_e(V,z===V?"active":"",V)),b=_e(t.nextTitle||i.label_next,"service next-page","next"),ye.append(b),z===1&&m.addClass("disabled"),z===V&&b.addClass("disabled"),I===0&&(ye.addClass("disabled"),ye.children().addClass("disabled")),ye}}}(Metro,Dom),function(e,r){let f='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>';var o={panelDeferred:0,id:null,titleCaption:"",titleIcon:"",collapsible:!1,collapsed:!1,collapseDuration:100,width:"auto",height:"auto",draggable:!1,customButtons:null,clsCustomButton:"",clsPanel:"",clsTitle:"",clsTitleCaption:"",clsTitleIcon:"",clsContent:"",clsCollapseToggle:"",onCollapse:e.noop,onExpand:e.noop,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onPanelCreate:e.noop};e.panelSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroPanelSetup<"u"&&e.panelSetup(globalThis.metroPanelSetup),e.Component("panel",{init:function(t,i){return this._super(i,t,o),this},_addCustomButtons:function(t){var i=this.element,c=this.options,m=i.closest(".panel").find(".panel-title"),b,w=[];if(w=e.utils.isObject(t),!w){console.warn("Unknown format for custom buttons",t);return}if(m.length===0){console.warn("No place for custom buttons");return}return b=m.find(".custom-buttons"),b.length===0?b=r("<div>").addClass("custom-buttons").appendTo(m):(b.find(".btn-custom").off(e.events.click),b.html("")),r.each(w,function(){var S=this,D=r("<span>");D.addClass("button btn-custom").addClass(c.clsCustomButton).addClass(S.cls).attr("tabindex",-1).html(S.html),S.attr&&typeof S.attr=="object"&&r.each(S.attr,function(I,P){D.attr(Str.dashedName(I),P)}),D.data("action",S.onclick),b.prepend(D)}),m.on(e.events.click,".btn-custom",function(S){if(!e.utils.isRightMouse(S)){var D=r(this),I=D.data("action");e.utils.exec(I,[D],this)}}),this},_create:function(){var t=this.element,i=this.options,c=r("<div>").addClass("panel").addClass(i.clsPanel),m=i.id?i.id:e.utils.elementId("panel"),b=t[0].className,w;if(c.attr("id",m).addClass(b),c.insertBefore(t),t.appendTo(c),t[0].className="",t.addClass("panel-content").addClass(i.clsContent).appendTo(c),i.titleCaption!==""||i.titleIcon!==""||i.collapsible===!0){if(w=r("<div>").addClass("panel-title").addClass(i.clsTitle),i.titleCaption!==""&&r("<span>").addClass("caption").addClass(i.clsTitleCaption).html(i.titleCaption).appendTo(w),i.titleIcon!==""&&r(i.titleIcon).addClass("icon").addClass(i.clsTitleIcon).appendTo(w),i.collapsible===!0){var S=r("<span>").addClass("dropdown-toggle marker-center active-toggle").addClass(i.clsCollapseToggle).appendTo(w);S.append(f),e.makePlugin(t,"collapse",{toggleElement:S,duration:i.collapseDuration,onCollapse:i.onCollapse,onExpand:i.onExpand}),i.collapsed===!0&&this.collapse()}w.appendTo(c)}if(w&&e.utils.isValue(i.customButtons)&&this._addCustomButtons(i.customButtons),i.draggable===!0){var D;w?D=w.find(".caption, .icon"):D=c,e.makePlugin(c,"draggable",{dragContext:c[0],dragElement:D,onDragStart:i.onDragStart,onDragStop:i.onDragStop,onDragMove:i.onDragMove})}i.width!=="auto"&&parseInt(i.width)>=0&&c.outerWidth(parseInt(i.width)),i.height!=="auto"&&parseInt(i.height)>=0&&(c.outerHeight(parseInt(i.height)),t.css({overflow:"auto"})),this.panel=c,this._fireEvent("panel-create",{element:t,panel:c})},customButtons:function(t){return this._addCustomButtons(t)},collapse:function(){var t=this.element;e.utils.isMetroObject(t,"collapse")!==!1&&e.getPlugin(t,"collapse").collapse()},open:function(){this.expand()},close:function(){this.collapse()},expand:function(){var t=this.element;e.utils.isMetroObject(t,"collapse")!==!1&&e.getPlugin(t,"collapse").expand()},changeAttribute:function(t){},destroy:function(){var t=this.element,i=this.options;return i.collapsible===!0&&e.getPlugin(t,"collapse").destroy(),i.draggable===!0&&e.getPlugin(t,"draggable").destroy(),t}})}(Metro,Dom),function(e,r){var f=e.utils,o={popoverDeferred:0,popoverText:"",popoverHide:3e3,popoverTimeout:10,popoverOffset:10,popoverTrigger:e.popoverEvents.HOVER,popoverPosition:e.position.TOP,hideOnLeave:!1,closeButton:!0,clsPopover:"",clsPopoverContent:"",onPopoverShow:e.noop,onPopoverHide:e.noop,onPopoverCreate:e.noop};e.popoverSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroPopoverSetup<"u"&&e.popoverSetup(globalThis.metroPopoverSetup),e.Component("popover",{init:function(t,i){return this._super(i,t,o,{popover:null,popovered:!1,size:{width:0,height:0},id:f.elementId("popover")}),this},_create:function(){this._createEvents(),this._fireEvent("popover-create",{element:this.element})},_createEvents:function(){var t=this,i=this.element,c=this.options,m;switch(c.popoverTrigger){case e.popoverEvents.CLICK:m=e.events.click;break;case e.popoverEvents.FOCUS:m=e.events.focus;break;default:m=e.events.enter}i.on(m,function(){t.popover!==null||t.popovered===!0||setTimeout(function(){t.createPopover(),t._fireEvent("popover-show",{popover:t.popover}),c.popoverHide>0&&setTimeout(function(){t.removePopover()},c.popoverHide)},c.popoverTimeout)}),c.hideOnLeave===!0&&i.on(e.events.leave,function(){t.removePopover()}),r(globalThis).on(e.events.scroll,function(){t.popover!==null&&t.setPosition()},{ns:this.id})},setPosition:function(){var t=this.popover,i=this.size,c=this.options,m=this.element;c.popoverPosition===e.position.BOTTOM?(t.addClass("bottom"),t.css({top:m.offset().top-r(globalThis).scrollTop()+m.outerHeight()+c.popoverOffset,left:m.offset().left+m.outerWidth()/2-i.width/2-r(globalThis).scrollLeft()})):c.popoverPosition===e.position.RIGHT?(t.addClass("right"),t.css({top:m.offset().top+m.outerHeight()/2-i.height/2-r(globalThis).scrollTop(),left:m.offset().left+m.outerWidth()-r(globalThis).scrollLeft()+c.popoverOffset})):c.popoverPosition===e.position.LEFT?(t.addClass("left"),t.css({top:m.offset().top+m.outerHeight()/2-i.height/2-r(globalThis).scrollTop(),left:m.offset().left-i.width-r(globalThis).scrollLeft()-c.popoverOffset})):(t.addClass("top"),t.css({top:m.offset().top-r(globalThis).scrollTop()-i.height-c.popoverOffset,left:m.offset().left+m.outerWidth()/2-i.width/2-r(globalThis).scrollLeft()}))},createPopover:function(){var t=this,i=this.elem,c=this.element,m=this.options,b,w,S=f.elementId("popover"),D;if(!this.popovered){switch(b=r("<div>").addClass("popover neb").addClass(m.clsPopover),b.attr("id",S),r("<div>").addClass("popover-content").addClass(m.clsPopoverContent).html(m.popoverText).appendTo(b),m.popoverHide===0&&m.closeButton===!0&&(D=r("<button>").addClass("square small popover-close-button").html("&times;").appendTo(b),D.on(e.events.click,function(){t.removePopover()})),m.popoverPosition){case e.position.TOP:w="neb-s";break;case e.position.BOTTOM:w="neb-n";break;case e.position.RIGHT:w="neb-w";break;case e.position.LEFT:w="neb-e";break}if(b.addClass(w),m.closeButton!==!0&&b.on(e.events.click,function(){t.removePopover()}),this.popover=b,this.size=f.hiddenElementSize(b),i.tagName==="TD"||i.tagName==="TH"){var I=r("<div/>").css("display","inline-block").html(c.html());c.html(I),c=I}this.setPosition(),b.appendTo(r("body")),this.popovered=!0,this._fireEvent("popover-create",{popover:b})}},removePopover:function(){var t=this,i=this.options.onPopoverHide===e.noop?0:300,c=this.popover;this.popovered&&(this._fireEvent("popover-hide",{popover:c}),setTimeout(function(){c.hide(0,function(){c.remove(),t.popover=null,t.popovered=!1})},i))},show:function(){var t=this,i=this.options;this.popovered!==!0&&setTimeout(function(){t.createPopover(),t._fireEvent("popover-show",{popover:t.popover}),i.popoverHide>0&&setTimeout(function(){t.removePopover()},i.popoverHide)},i.popoverTimeout)},hide:function(){this.removePopover()},changeAttribute:function(t){var i=this,c=this.element,m=this.options,b=function(){m.popoverText=c.attr("data-popover-text"),i.popover&&(i.popover.find(".popover-content").html(m.popoverText),i.setPosition())},w=function(){m.popoverPosition=c.attr("data-popover-position"),i.setPosition()};switch(t){case"data-popover-text":b();break;case"data-popover-position":w();break}},destroy:function(){var t=this.element,i=this.options,c;switch(i.popoverTrigger){case e.popoverEvents.CLICK:c=e.events.click;break;case e.popoverEvents.FOCUS:c=e.events.focus;break;default:c=e.events.enter}return t.off(c),i.hideOnLeave===!0&&t.off(e.events.leave),r(globalThis).off(e.events.scroll,{ns:this.id}),t}})}(Metro,Dom),function(e,r){let f={progressDeferred:0,showValue:!1,showLabel:!1,label:"Progress:",value:0,buffer:0,type:"bar",small:!1,segmentSize:10,clsProgress:"",clsBack:"",clsBar:"",clsBuffer:"",clsValue:"",clsLabel:"",clsData:"",onValueChange:e.noop,onBufferChange:e.noop,onComplete:e.noop,onBuffered:e.noop,onProgressCreate:e.noop};e.progressSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroProgressSetup<"u"&&e.progressSetup(globalThis.metroProgressSetup),e.Component("progress",{init:function(o,t){return this._super(t,o,f,{value:0,buffer:0}),this},_create:function(){let o=this.element,t=this.elem,i=this.options;typeof i.type=="string"&&(i.type=i.type.toLowerCase()),o.html("").addClass("progress"),this.component=o.wrap("<div>").addClass("progress-component").addClass(i.clsProgress);function c(){t.innerHTML='<div class="bar"></div>'}function m(){t.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                `}function b(){o.addClass("with-load"),t.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                    <div class="load"></div>
                `}function w(){o.addClass("line")}function S(){o.addClass("segments"),o.append('<div class="bar"></div>');let V=o.width(),z=Math.ceil(V/(i.segmentSize||10));for(let K=0;K<z;K++)t.innerHTML+=`<div class="segment" style="width: ${i.segmentSize}px"></div>`}switch(i.type){case"buffer":m();break;case"load":b();break;case"line":w();break;case"segment":S();break;default:c()}i.small===!0&&o.addClass("small"),o.addClass(i.clsBack),o.find(".bar").addClass(i.clsBar),o.find(".buffer").addClass(i.clsBuffer);let D=r("<div>").addClass("progress-data").addClass(i.clsData).insertBefore(o),I=r("<div>").addClass("progress-label").addClass(i.clsLabel).html(i.label).appendTo(D),P=r("<div>").addClass("progress-value").addClass(i.clsLabel).html(i.value).appendTo(D);i.showLabel===!1&&I.hide(),i.showValue===!1&&P.hide(),this.val(i.value),this.buff(i.buffer),this._fireEvent("progress-create",{element:o})},val:function(o){let t=this,i=this.element;this.options;let c=this.component.find(".progress-value");if(o===void 0)return t.value;let m=i.find(".bar");if(m.length===0)return!1;this.value=parseInt(o,10),m.css("width",this.value+"%"),c.html(this.value+"%"),this._fireEvent("value-change",{val:this.value}),this.value===100&&this._fireEvent("complete",{val:this.value})},buff:function(o){let t=this,i=this.element;if(o===void 0)return t.buffer;let c=i.find(".buffer");if(c.length===0)return!1;this.buffer=parseInt(o,10),c.css("width",this.buffer+"%"),this._fireEvent("buffer-change",{val:this.buffer}),this.buffer===100&&this._fireEvent("buffered",{val:this.buffer})},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(o){switch(o){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break}},destroy:function(){this.component.remove()}})}(Metro,Dom),function(e,r){let f={ratingDeferred:0,label:"",static:!1,title:null,value:0,values:null,message:"",stars:5,onColor:null,offColor:null,roundFunc:"round",half:!0,symbol:"★",clsRating:"",clsTitle:"",clsStars:"",clsResult:"",clsLabel:"",onStarClick:e.noop,onRatingCreate:e.noop};e.ratingSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroRatingSetup<"u"&&e.ratingSetup(globalThis.metroRatingSetup),e.Component("rating",{init:function(o,t){return this._super(t,o,f,{value:0,originValue:0,values:[],rate:0,rating:null}),this},_create:function(){let o=this.element,t=this.options,i;if(isNaN(t.value)?t.value=0:t.value=parseFloat(t.value).toFixed(1),t.values!==null)Array.isArray(t.values)?this.values=t.values:typeof t.values=="string"&&(this.values=t.values.toArray());else for(i=1;i<=t.stars;i++)this.values.push(i);this.originValue=t.value,this.value=t.value>0&&t.roundFunc!=="none"?Math[t.roundFunc](t.value):Math.abs(t.value),this._createRating(),this._createEvents(),this._fireEvent("rating-create",{element:o})},_createRating:function(){let o=this.element,t=this.options,i=e.utils.elementId("rating"),c,m,b,w,S=e.sheet,D=t.static?Math.floor(this.originValue):this.value,I=o.wrap("<div>").addClass("rating "+o[0].className).addClass(t.clsRating);for(o.val(this.value),I.attr("id",o.id()?"rating--"+o.id():i),m=r("<ul>").addClass("stars").addClass(t.clsStars).appendTo(I),c=1;c<=t.stars;c++)w=r("<li>").attr("data-symbol",t.symbol).data("value",this.values[c-1]).appendTo(m),c<=D&&w.addClass("on");if(b=r("<span>").addClass("result").addClass(t.clsResult).appendTo(I),b.html(t.message),t.offColor!==null&&(t.offColor.includes("var(")||Farbe.Routines.isColor(t.offColor)),t.onColor!==null&&(t.onColor.includes("var(")||Farbe.Routines.isColor(t.onColor))&&(e.utils.addCssRule(S,"#"+i+" .stars:hover li","color: "+t.onColor+";"),e.utils.addCssRule(S,"#"+i+" .stars li.on","color: "+t.onColor+";"),e.utils.addCssRule(S,"#"+i+" .stars li.half::after","color: "+t.onColor+";")),t.title!==null){let P=r("<span>").addClass("title").addClass(t.clsTitle).html(t.title);I.prepend(P)}if(t.static===!0&&(I.addClass("static"),t.half===!0)){let P=Math.round(this.originValue%1*10);P>0&&P<=9&&I.find(".stars li.on").last().next("li").addClass("half half-"+P*10)}if(o[0].className="",t.label){let P=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(I);if(o.attr("id"))P.attr("for",o.attr("id"));else{let V=Hooks.useId(o[0]);P.attr("for",V),o.attr("id",V)}o.attr("dir")==="rtl"&&P.addClass("rtl")}o.is(":disabled")?this.disable():this.enable(),this.rating=I},_createEvents:function(){let o=this,t=this.element,i=this.options;this.rating.on(e.events.click,".stars li",function(){if(i.static===!0)return;let c=r(this),m=c.data("value");c.addClass("scale"),setTimeout(function(){c.removeClass("scale")},300),t.val(m).trigger("change"),c.addClass("on"),c.prevAll().addClass("on"),c.nextAll().removeClass("on"),o._fireEvent("star-click",{value:m,star:c[0]})})},val:function(o){let t=this,i=this.element,c=this.options,m=this.rating;if(o===void 0)return this.value;this.value=o>0?Math[c.roundFunc](o):0,i.val(this.value).trigger("change");let b=m.find(".stars li").removeClass("on");return r.each(b,function(){var w=r(this);w.data("value")<=t.value&&w.addClass("on")}),this},msg:function(o){let t=this.rating;if(o!==void 0)return t.find(".result").html(o),this},static:function(o){let t=this.options,i=this.rating;t.static=o,o===!0?i.addClass("static"):i.removeClass("static")},changeAttributeStatic:function(){let o=this.element,t=JSON.parse(o.attr("data-static"))===!0;this.static(t)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(o,t){switch(o){case"value":case"data-value":this.val(t);break;case"disabled":this.toggleState();break;case"data-message":this.msg(t);break;case"data-static":this.changeAttributeStatic();break}},destroy:function(){let o=this.options,t=this.rating;t.off(e.events.click,".stars li"),o.label&&t.prev("label").remove(),t.remove()}})}(Metro,Dom),function(e,r){var f={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,sort:"",limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",sortRules:"",showSearch:!0,showOrder:!0,showRowsCount:!0,template:"",clsBody:"",clsItem:"",clsPagination:"",clsSearchBlock:"",clsOrderBlock:"",clsRowsCountBlock:"",onLoad:o=>o,onDrawRow:e.noop,onDrawCell:e.noop,onDatasetCreate:e.noop};e.remoteDatasetSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroRemoteDatasetSetup<"u"&&e.remoteDatasetSetup(globalThis.metroRemoteDatasetSetup),e.Component("remote-dataset",{init:function(o,t){return this._super(t,o,f,{data:null,total:0}),this},_create:function(){let o=this.options;this.offset=o.offset,this.rowSteps=o.rowsSteps.toArray(","),this.limit=+o.rows,this.url=o.url,this.search="";let[t,i]=o.sort.toArray(":");this.sortField=t,this.sortOrder=i,this.template=e.utils.exec(o.template),this.sortRules=o.sortRules.toArray(",").filter(c=>c).map(c=>c.toArray(":")),this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("dataset-create")},_loadData:function(o=!1){return O(this,null,function*(){let t=this.options;if(!this.url)return;let i=this.url+"?"+t.limitKey+"="+this.limit+"&"+t.offsetKey+"="+this.offset;this.sortField&&(i+="&"+t.sortKey+"="+this.sortField+"&"+t.orderKey+"="+this.sortOrder),this.search&&(i+="&"+t.searchKey+"="+this.search);let c=yield fetch(i,{method:t.method});c.ok!==!1&&(this.data=e.utils.exec(t.onLoad,[yield c.json()],this),this._createEntries(o))})},_createStructure:function(){var o=this.element,t=this.options;let i;o.addClass("remote-dataset"),o.append(i=r("<div>").addClass("dataset-entry")),i.html(`
                <div class="service-block">
                    <div class="search-block ${t.clsSearchBlock} ${t.showSearch?"":"hide-block"}">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                   
                    <div class="order-block ${t.clsOrderBlock} ${this.sortRules.length===0||t.showOrder===!1?"hide-block":""}">
                        <select name="sort-order" data-role="select" data-filter="false">
                            ${this.sortRules.map(c=>`
                                <option value="${c[0]}:${c[1]}" 
                                        ${c[0]===this.sortField&&c[1]===this.sortOrder?"selected":""}
                                        data-icon="${c[3]?c[3]:""}"
                                >
                                    ${c[2]}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                   
                    <div class="count-block ${t.clsRowsCountBlock} ${t.showRowsCount?"":"hide-block"}">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(c=>`
                                <option value="${c}" ${+c===this.rowsCount?"selected":""}>
                                    ${c}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                </div>
                <div class="dataset-body"></div>
            `),this.body=i.find(".dataset-body").addClass(t.clsBody),this.loadMore=r("<div>").addClass("dataset-load-more"),this.loadMore.html(`
                <button class="button large cycle link load-more-button">
                    <span class="icon">⟳</span>
                    ${this.strings.label_load_more}
                </button>
            `).appendTo(o),o.append(this.pagination=r("<div>").addClass("dataset-pagination"))},_createEvents:function(){let o=this,t=this.element,i=this.options;t.on("click",".page-link",function(){let m=r(this).parent();if(m.hasClass("service")){m.hasClass("prev-page")?(o.offset-=o.limit,o.offset<0&&(o.offset=0)):o.offset+=o.limit,o._loadData().then(()=>{});return}o.offset=r(this).data("page")*o.limit-o.limit,o._loadData().then(()=>{})});let c=Hooks.useDebounce(()=>{let m=t.find("input[name=search]").val().trim();if(m===""){this.search="",this.url=i.url,this._loadData().then(()=>{});return}m.length<3||(this.search=m,this.url=i.searchUrl,this._loadData().then(()=>{}))},300);t.on(e.events.inputchange,"input[name=search]",c),t.on("change","select[name=rows-count]",function(){o.limit=+r(this).val(),o.offset=0,o._loadData().then(()=>{})}),t.on("change","select[name=sort-order]",function(){let[m,b]=r(this).val().split(":");o.url=i.url,o.sortField=m,o.sortOrder=b,o.offset=0,o._loadData().then(()=>{})}),t.on("click",".load-more-button",function(){o.offset+=o.limit,o._loadData(!0).then(()=>{})})},_createEntries:function(o=!1){var t=this;this.element;var i=this.options;if(!this.data)return;let c=e.utils.isValue(this.data[i.totalKey]);this.entries=this.data[i.dataKey],this.total=this.data[i.totalKey],o===!1&&this.body.clear(),this.entries.forEach((m,b)=>{let w=r("<div>").addClass("dataset-item").addClass(i.clsItem).addClass(b%2===0?"even":"odd"),S=e.utils.exec(i.template,[m],m);w.html(S).appendTo(t.body)}),c&&!i.shortPagination?e.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:i.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},setup:function(o){},changeAttribute:function(o,t){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){let f={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,fields:"",sortableFields:"",colSize:"",sort:"",sortOrder:"asc",captions:null,limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",clsTable:"",clsPagination:"",onLoad:o=>o,onDrawRow:e.noop,onDrawCell:e.noop,onDrawHeadCell:e.noop,onTableCreate:e.noop};e.remoteTableSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroRemoteTableSetup<"u"&&e.remoteTableSetup(globalThis.metroRemoteTableSetup),e.Component("remote-table",{init:function(o,t){return this._super(t,o,f,{data:null,total:0}),this},_create:function(){let o=this.options;this.offset=o.offset,this.fields=o.fields.toArray(","),this.captions=o.captions?o.captions.toArray(","):null,this.rowSteps=o.rowsSteps.toArray(","),this.colSize=o.colSize.toArray(","),this.limit=+o.rows,this.url=o.url,this.search="",this.sortField=o.sort,this.sortOrder=o.sortOrder,this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("table-create")},_loadData:function(){return O(this,null,function*(){let o=this.options;if(!this.url)return;let t=this.url+"?"+o.limitKey+"="+this.limit+"&"+o.offsetKey+"="+this.offset;this.sortField&&(t+="&"+o.sortKey+"="+this.sortField+"&"+o.orderKey+"="+this.sortOrder),this.search&&(t+="&"+o.searchKey+"="+this.search);let i=yield fetch(t,{method:o.method});i.ok!==!1&&(this.data=e.utils.exec(o.onLoad,[yield i.json()],this),this._createEntries())})},_createStructure:function(){let o=this.element,t=this.options,i;o.addClass("table-component remote-table"),o.append(i=r("<div>").addClass("table-entry")),i.html(`
                <div class="search-block row">
                    <div class="cell-sm-10">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                    <div class="cell-sm-2">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(c=>`<option value="${c}" ${+c===this.rowsCount?"selected":""}>${c}</option>`).join("")}
                        </select>
                    </div>
                </div>
                <table class="table ${t.clsTable}">
                    <caption>${t.caption}</caption>
                    <thead></thead>
                    <tbody></tbody>
                </table>
            `),this.header=i.find("thead"),this.body=i.find("tbody"),o.append(this.pagination=r("<div>").addClass("table-pagination"))},_createEvents:function(){let o=this,t=this.element,i=this.options;t.on("click",".page-link",function(){let m=r(this).parent();if(m.hasClass("service")){m.hasClass("prev-page")?(o.offset-=o.limit,o.offset<0&&(o.offset=0)):o.offset+=o.limit,o._loadData().then(()=>{});return}o.offset=r(this).data("page")*o.limit-o.limit,o._loadData().then(()=>{})});let c=Hooks.useDebounce(()=>{let m=t.find("input[name=search]").val().trim();if(m===""){this.search="",this.url=i.url,this._loadData().then(()=>{});return}m.length<3||(this.search=m,this.url=i.searchUrl,this._loadData().then(()=>{}))},300);t.on(e.events.inputchange,"input[name=search]",c),t.on("change","select[name=rows-count]",function(){o.limit=+r(this).val(),o.offset=0,o._loadData().then(()=>{})}),t.on("click",".sortable-column",function(){let m=r(this).attr("data-field");o.sortField===m?o.sortOrder=o.sortOrder==="asc"?"desc":"asc":(o.sortField=m,o.sortOrder="asc"),o._loadData().then(()=>{})})},_createEntries:function(){let o=this.options;if(!this.data)return;let t=e.utils.isValue(this.data[o.totalKey]);this.entries=this.data[o.dataKey],this.total=this.data[o.totalKey],this.header.clear(),this.body.clear();let i=r("<tr>").addClass("table-header").appendTo(this.header),c=0;for(let m of Object.keys(this.entries[0])){if(this.fields.length&&!this.fields.includes(m))continue;let b=this.captions?this.captions[c]:m,w=r("<th>").html(b).attr("data-field",m);o.sortableFields&&o.sortableFields.includes(m)&&(w.addClass("sortable-column"),this.sortField===m&&w.addClass(`sort-${this.sortOrder}`)),w.appendTo(i).addClass(`head-cell-${m}`),this.colSize[c]&&w.css("width",this.colSize[c]),e.utils.exec(o.onDrawHeadCell,[w[0],b,m,c,o.sortableFields.includes(m),this.sortField===m,this.sortOrder],this),c++}this.entries.forEach((m,b)=>{let w=r("<tr>").addClass("table-row");this.body.append(w),e.utils.exec(o.onDrawRow,[w,m,b],this);let S=0;for(let D in m){if(this.fields.length&&!this.fields.includes(D))continue;let I=r("<td>").attr("data-label",this.captions?this.captions[S]:D).addClass(`data-cell-${D}`).html(m[D]);w.append(I),e.utils.exec(o.onDrawCell,[I[0],m[D],D,m,b],this),S++}}),t&&!o.shortPagination?e.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:o.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},changeAttribute:function(o,t){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={resizableDeferred:0,canResize:!0,resizeElement:".resize-element",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,preserveRatio:!1,onResizeStart:e.noop,onResizeStop:e.noop,onResize:e.noop,onResizableCreate:e.noop};e.resizableSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroResizableSetup<"u"&&e.resizableSetup(globalThis.metroResizableSetup),e.Component("resizable",{init:function(t,i){return this._super(i,t,o,{resizer:null,id:f.elementId("resizable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("resizable-create")},_createStructure:function(){var t=this.element,i=this.options;t.data("canResize",!0),t.addClass("resizable-element"),f.isValue(i.resizeElement)&&t.find(i.resizeElement).length>0?this.resizer=t.find(i.resizeElement):this.resizer=r("<span>").addClass("resize-element").appendTo(t),t.data("canResize",i.canResize)},_createEvents:function(){var t=this,i=this.element,c=this.options;this.resizer.on(e.events.start,function(m){if(i.data("canResize")!==!1){var b=f.pageXY(m),w=parseInt(i.outerWidth()),S=parseInt(i.outerHeight()),D={width:w,height:S};i.addClass("stop-pointer"),t._fireEvent("resize-start",{size:D}),r(document).on(e.events.move,function(I){var P=f.pageXY(I),V={width:w+P.x-b.x,height:S+P.y-b.y};if(c.maxWidth>0&&V.width>c.maxWidth||c.minWidth>0&&V.width<c.minWidth||c.maxHeight>0&&V.height>c.maxHeight||c.minHeight>0&&V.height<c.minHeight)return!0;i.css(V),t._fireEvent("resize",{size:V})},{ns:t.id}),r(document).on(e.events.stop,function(){i.removeClass("stop-pointer"),r(document).off(e.events.move,{ns:t.id}),r(document).off(e.events.stop,{ns:t.id});var I={width:parseInt(i.outerWidth()),height:parseInt(i.outerHeight())};t._fireEvent("resize-stop",{size:I})},{ns:t.id}),m.preventDefault(),m.stopPropagation()}})},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(t){var i=this.element,c=this.options,m=function(){c.canResize=JSON.parse(i.attr("data-can-resize"))===!0};switch(t){case"data-can-resize":m();break}},destroy:function(){return this.resizer.off(e.events.start),this.element}})}(Metro,Dom),function(e,r){var f=e.utils,o={resizerDeferred:0,onMediaPoint:e.noop,onMediaPointEnter:e.noop,onMediaPointLeave:e.noop,onWindowResize:e.noop,onElementResize:e.noop,onResizerCreate:e.noop};e.resizerSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroResizerSetup<"u"&&e.resizerSetup(globalThis.metroResizerSetup),e.Component("resizer",{init:function(t,i){return this._super(i,t,o,{size:{width:0,height:0},media:globalThis.METRO_MEDIA,id:f.elementId("resizer")}),this},_create:function(){var t=this.element;this.size={width:t.width(),height:t.height()},this._createStructure(),this._createEvents(),this._fireEvent("resizer-create",{element:t})},_createStructure:function(){},_createEvents:function(){var t=this,i=this.element,c=r.window();c.on("resize",function(){var m=c.width(),b=c.height(),w=i.width(),S=i.height(),D=t.size,I;t._fireEvent("window-resize",{width:m,height:b,media:globalThis.METRO_MEDIA}),(t.size.width!==w||t.size.height!==S)&&(t.size={width:w,height:S},t._fireEvent("element-resize",{width:w,height:S,oldSize:D,media:globalThis.METRO_MEDIA})),t.media.length!==globalThis.METRO_MEDIA.length&&(t.media.length>globalThis.METRO_MEDIA.length?(I=t.media.filter(function(P){return!globalThis.METRO_MEDIA.includes(P)}),t._fireEvent("media-point-leave",{point:I,media:globalThis.METRO_MEDIA})):(I=globalThis.METRO_MEDIA.filter(function(P){return!t.media.includes(P)}),t._fireEvent("media-point-enter",{point:I,media:globalThis.METRO_MEDIA})),t.media=globalThis.METRO_MEDIA,t._fireEvent("media-point",{point:I,media:globalThis.METRO_MEDIA}))},{ns:this.id})},changeAttribute:function(){},destroy:function(){r(globalThis).off("resize",{ns:this.id})}})}(Metro,Dom),function(e,r){var f=e.utils,o={ribbonmenuDeferred:0,onStatic:e.noop,onBeforeTab:e.noop_true,onTab:e.noop,onRibbonMenuCreate:e.noop};e.ribbonMenuSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroRibbonMenuSetup<"u"&&e.ribbonMenuSetup(globalThis.metroRibbonMenuSetup),e.Component("ribbon-menu",{init:function(t,i){return this._super(i,t,o),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("ribbon-menu-create",{element:t})},_createStructure:function(){var t=this.element;t.addClass("ribbon-menu");var i=t.find(".ribbon-toggle-group");r.each(i,function(){var b=r(this);b.buttongroup({clsActive:"active"});var w=0,S=b.find(".ribbon-icon-button");r.each(S,function(){var D=r(this),I=D.outerWidth(!0);I>w&&(w=I)}),b.css("width",w*Math.ceil(S.length/3)+4)}),t.find(".section").addClass("non-active");var c=t.find(".tabs-holder li:not(.static)"),m=t.find(".tabs-holder li.active");m.length>0?this.open(r(m[0])):c.length>0&&this.open(r(c[0]))},_createEvents:function(){var t=this,i=this.element,c=this.options;i.on(e.events.click,".tabs-holder li a",function(m){var b=r(this),w=r(this).parent("li");w.hasClass("static")?c.onStatic===e.noop&&b.attr("href")!==void 0?document.location.href=b.attr("href"):t._fireEvent("static",{tab:w[0]}):f.exec(c.onBeforeTab,[w[0]],i[0])===!0&&t.open(w[0]),m.preventDefault()})},open:function(t){var i=this.element,c=r(t),m=i.find(".tabs-holder li"),b=i.find(".content-holder .section"),w=c.children("a").attr("href"),S=w!=="#"?i.find(w):null;b.addClass("non-active"),m.removeClass("active"),c.addClass("active"),b.removeClass("active"),S&&S.addClass("active").removeClass("non-active"),this._fireEvent("tab",{tab:c[0]})},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,".tabs-holder li a"),t}})}(Metro,Dom),function(e,r){var f=e.utils,o={rippleDeferred:0,rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:e.noop};e.rippleSetup=function(i){o=r.extend({},o,i)},typeof globalThis.metroRippleSetup<"u"&&e.rippleSetup(globalThis.metroRippleSetup);var t=function(i,c,m,b){var w=r(i),S=f.rect(w[0]),D,I;if(w.length!==0){f.isValue(c)||(c="#fff"),f.isValue(m)||(m=.4),w.css("position")==="static"&&w.css("position","relative"),w.css({overflow:"hidden"}),r(".ripple").remove();var P=Math.max(w.outerWidth(),w.outerHeight()),V=r("<span class='ripple'></span>").css({width:P,height:P});w.prepend(V),b?(D=b.pageX-w.offset().left-V.width()/2,I=b.pageY-w.offset().top-V.height()/2):(D=S.width/2-V.width()/2,I=S.height/2-V.height()/2),V.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(c),m),width:P,height:P,top:I+"px",left:D+"px"}).addClass("rippleEffect"),setTimeout(function(){V.remove()},400)}};e.Component("ripple",{init:function(i,c){return this._super(c,i,o),this},_create:function(){var i=this.element,c=this.options,m=c.rippleTarget==="default"?null:c.rippleTarget;i.on(e.events.click,m,function(b){t(this,c.rippleColor,c.rippleAlpha,b)}),this._fireEvent("riopple-create",{element:i})},changeAttribute:function(i){var c=this.element,m=this.options;function b(){var S=c.attr("data-ripple-color");Farbe.Routines.isColor(S)&&(m.rippleColor=S)}function w(){var S=+c.attr("data-ripple-alpha");isNaN(S)||(m.rippleColor=S)}switch(i){case"data-ripple-color":b();break;case"data-ripple-alpha":w();break}},destroy:function(){var i=this.element,c=this.options,m=c.rippleTarget==="default"?null:c.rippleTarget;i.off(e.events.click,m)}}),e.ripple=t}(Metro,Dom),function(e,r){var f={onSearcherCreate:e.noop};e.searcherSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroSearcherSetup<"u"&&e.searcherSetup(globalThis.metroSearcherSetup),e.Component("searcher",{init:function(o,t){return this._super(t,o,f,{}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("searcher-create")},_createStructure:function(){this.element,this.options},_createEvents:function(){this.element,this.options},changeAttribute:function(o,t){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){let f={menuScrollbar:!1,sidebarDeferred:0,position:"left",shift:null,staticShift:null,toggle:null,duration:METRO_ANIMATION_DURATION,static:null,closeOutside:!0,onOpen:e.noop,onClose:e.noop,onToggle:e.noop,onStaticSet:e.noop,onStaticLoss:e.noop,onSidebarCreate:e.noop};e.sidebarSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroSidebarSetup<"u"&&e.sidebarSetup(globalThis.metroSidebarSetup),e.Component("sidebar",{init:function(o,t){return this._super(t,o,f,{toggle_element:null,id:e.utils.elementId("sidebar")}),this},_create:function(){let o=this.element;this._createStructure(),this._createEvents(),r(globalThis).resize(),this._checkStatic(),this._fireEvent("sidebar-create",{element:o})},_createStructure:function(){let o=this.element,t=this.options,i=o.find(".sidebar-header"),c=e.sheet,m=o.find(".sidebar-menu"),b=o.outerWidth();o.addClass("sidebar").addClass("on-"+t.position),t.menuScrollbar===!1&&m.addClass("hide-scroll"),t.toggle!==null&&r(t.toggle).length>0&&(this.toggle_element=r(t.toggle)),i.length>0&&i.data("image")&&i.css({backgroundImage:"url("+i.data("image")+")"}),t.static!==null&&t.staticShift!==null&&(t.position==="left"?e.utils.addCssRule(c,"@media screen and "+e.media_queries[t.static.toUpperCase()],t.staticShift+"{margin-left: "+b+"px; width: calc(100% - "+b+"px);}"):e.utils.addCssRule(c,"@media screen and "+e.media_queries[t.static.toUpperCase()],t.staticShift+"{margin-right: "+b+"px; width: calc(100% - "+b+"px);}"))},_createEvents:function(){let o=this,t=this.element,i=this.options,c=this.toggle_element;c!==null?c.on(e.events.click,function(m){o.toggle(),m.stopPropagation()}):i.toggle&&r.document().on("click",i.toggle,function(m){o.toggle(),m.stopPropagation()}),i.static!==null&&e.media_modes.includes(i.static)&&r(globalThis).on(e.events.resize,function(){o._checkStatic()},{ns:this.id}),t.on(e.events.click,".sidebar-menu .js-sidebar-close",function(m){o.close(),m.stopPropagation()}),t.on(e.events.click,function(m){m.stopPropagation()}),r(document).on(e.events.click,function(){i.closeOutside===!0&&o.isOpen()&&o.close()})},_checkStatic:function(){let o=this.element,t=this.options;e.utils.mediaExist(t.static)&&!o.hasClass("static")&&(o.addClass("static"),o.data("opened",!1).removeClass("open"),t.shift!==null&&r.each(t.shift.split(","),function(){r(this).animate({draw:{left:0},dur:t.duration})}),this._fireEvent("static-set")),e.utils.mediaExist(t.static)||(o.removeClass("static"),this._fireEvent("static-loss"))},isOpen:function(){return this.element.data("opened")===!0},open:function(){let o=this.element,t=this.options;o.hasClass("static")||(o.data("opened",!0).addClass("open"),t.shift!==null&&r(t.shift).animate({draw:{left:o.outerWidth()},dur:t.duration}),this._fireEvent("open"))},close:function(){let o=this.element,t=this.options;o.hasClass("static")||(o.data("opened",!1).removeClass("open"),t.shift!==null&&r(t.shift).animate({draw:{left:0},dur:t.duration}),this._fireEvent("close"))},toggle:function(){this.isOpen()?this.close():this.open(),this._fireEvent("toggle")},changeAttribute:function(){},destroy:function(){let o=this.element,t=this.options,i=this.toggle_element;return i!==null&&i.off(e.events.click),t.static!==null&&e.media_modes.includes(t.static)&&r(globalThis).off(e.events.resize,{ns:this.id}),o.off(e.events.click,".js-sidebar-close"),o}}),e.sidebar={isSidebar:function(o){return e.utils.isMetroObject(o,"sidebar")},open:function(o){this.isSidebar(o)&&e.getPlugin(o,"sidebar").open()},close:function(o){this.isSidebar(o)&&e.getPlugin(o,"sidebar").close()},toggle:function(o){this.isSidebar(o)&&e.getPlugin(o,"sidebar").toggle()},isOpen:function(o){if(this.isSidebar(o))return e.getPlugin(o,"sidebar").isOpen()}}}(Metro,Dom),function(e,r){var f={compacted:!1,toggle:null,expandPoint:"fs",onMenuItemClick:e.noop,onCollapse:e.noop,onExpand:e.noop,onSidenavCreate:e.noop};e.sidenavCounterSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroSidenavCounterSetup<"u"&&e.sidenavCounterSetup(globalThis.metroSidenavCounterSetup),e.Component("sidenav-counter",{init:function(o,t){return this._super(t,o,f,{}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("sidenav-create")},_createStructure:function(){var o=this.element,t=this.options;o.addClass("sidenav-counter"),e.utils.mediaExist(t.expandPoint)&&o.addClass("expanded"),e.storage.getItem("sidenav-counter:compacted")===!0&&(o.removeClass("expanded"),o.addClass("handmade"))},_createEvents:function(){var o=this.element,t=this.options;t.toggle&&r(t.toggle).on("click",function(){o.toggleClass("expanded"),o.toggleClass("handmade"),e.storage.setItem("sidenav-counter:compacted",!o.hasClass("expanded"))}),r(globalThis).on(e.events.resize,()=>{o.hasClass("handmade")||(e.utils.mediaExist(t.expandPoint)?o.addClass("expanded"):o.removeClass("expanded"))},{ns:this.id})},changeAttribute:function(o,t){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={sorterDeferred:0,thousandSeparator:",",decimalSeparator:",",sortTarget:null,sortSource:null,sortDir:"asc",sortStart:!0,saveInitial:!0,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSorterCreate:e.noop};e.sorterSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroSorterSetup<"u"&&e.sorterSetup(globalThis.metroSorterSetup),e.Component("sorter",{init:function(t,i){return this._super(i,t,o,{initial:[]}),this},_create:function(){var t=this.element;this._createStructure(),this._fireEvent("sorter-create",{element:t})},_createStructure:function(){var t=this.element,i=this.options;i.sortTarget===null&&(i.sortTarget=t.children()[0].tagName),this.initial=t.find(i.sortTarget).get(),i.sortStart===!0&&this.sort(i.sortDir)},_getItemContent:function(t){var i=this.options,c,m,b,w;if(f.isValue(i.sortSource)){if(c="",m=t.getElementsByClassName(i.sortSource),m.length>0)for(b=0;b<m.length;b++)c+=m[b].textContent;w=m[0].dataset.format}else c=t.textContent,w=t.dataset.format;if(c=(""+c).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),f.isValue(w))switch(["number","int","float","money"].indexOf(w)!==-1&&(i.thousandSeparator!==","||i.decimalSeparator!==".")&&(c=f.parseNumber(c,i.thousandSeparator,i.decimalSeparator)),w){case"date":c=f.isDate(c)?new Date(c):"";break;case"number":c=Number(c);break;case"int":c=parseInt(c);break;case"float":c=parseFloat(c);break;case"money":c=f.parseMoney(c);break;case"card":c=f.parseCard(c);break;case"phone":c=f.parsePhone(c);break}return c},sort:function(t){var i=this,c=this.element,m=this.options,b,w=f.elementId("temp"),S;t&&(m.sortDir=t),b=c.find(m.sortTarget).get(),b.length!==0&&(S=r("<div>").attr("id",w).insertBefore(r(c.find(m.sortTarget)[0])),this._fireEvent("sort-start",{items:b}),b.sort(function(D,I){var P=i._getItemContent(D),V=i._getItemContent(I),z=0;return P<V&&(z=-1),P>V&&(z=1),z!==0&&i._fireEvent("sort-item-switch",{a:D,b:I,result:z}),z}),m.sortDir==="desc"&&b.reverse(),c.find(m.sortTarget).remove(),r.each(b,function(){var D=r(this);D.insertAfter(S),S=D}),r("#"+w).remove(),this._fireEvent("sort-stop",{items:b}))},reset:function(){var t=this.element,i=this.options,c,m=f.elementId("sorter"),b;c=this.initial,c.length!==0&&(b=r("<div>").attr("id",m).insertBefore(r(t.find(i.sortTarget)[0])),t.find(i.sortTarget).remove(),r.each(c,function(){var w=r(this);w.insertAfter(b),b=w}),r("#"+m).remove())},changeAttribute:function(t){var i=this,c=this.element,m=this.options,b=function(){var S=c.attr("data-sort-dir").trim();S!==""&&(m.sortDir=S,i.sort())},w=function(){var S=c.attr("data-sort-content").trim();S!==""&&(m.sortContent=S,i.sort())};switch(t){case"data-sort-dir":b();break;case"data-sort-content":w();break}},destroy:function(){return this.element}}),e.sorter={create:function(t,i){return f.$()(t).sorter(i)},isSorter:function(t){return f.isMetroObject(t,"sorter")},sort:function(t,i){if(!this.isSorter(t))return!1;i===void 0&&(i="asc"),e.getPlugin(t,"sorter").sort(i)},reset:function(t){if(!this.isSorter(t))return!1;e.getPlugin(t,"sorter").reset()}}}(Metro,Dom),function(e,r){let f={VERTICAL:"vertical",HORIZONTAL:"horizontal"},o=e.storage,t={splitterDeferred:0,split:f.VERTICAL,splitSizes:null,gutterSize:5,gutterStyle:"default",minSizes:null,children:"*",gutterClick:"expand",saveState:!1,noResize:!1,onResizeStart:e.noop,onResizeStop:e.noop,onResizeSplit:e.noop,onResizeWindow:e.noop,onSplitterCreate:e.noop};e.splitterSetup=function(i){t=r.extend({},t,i)},typeof globalThis.metroSplitterSetup<"u"&&e.splitterSetup(globalThis.metroSplitterSetup),e.Component("splitter",{init:function(i,c){return this._super(c,i,t,{storage:e.utils.isValue(o)?o:null,storageKey:"SPLITTER:",id:e.utils.elementId("splitter")}),this},_create:function(){let i=this.element;this._createStructure(),this._createEvents(),this._fireEvent("splitter-create",{element:i})},_createStructure:function(){let i=this.element,c=this.options,m=i.children(c.children).addClass("split-block"),b,w=[],S=c.split===f.HORIZONTAL?"height":"width";for(i.addClass("splitter"),i.addClass(c.split.toLowerCase()===f.VERTICAL?"vertical":"horizontal"),c.gutterStyle!=="default"&&i.addClass(`gutter-style-${c.gutterStyle}`),c.noResize===!0&&i.addClass("static-size"),b=0;b<m.length-1;b++)r("<div>").addClass("gutter").css(S,c.gutterSize).insertAfter(r(m[b]));if(this._setSize(),e.utils.isValue(c.minSizes))if((""+c.minSizes).includes(","))for(w=c.minSizes.toArray(),b=0;b<w.length;b++)r(m[b]).data("min-size",w[b]),m[b].style.setProperty("min-"+S,(""+w[b]).includes("%")?w[b]:(""+w[b]).replace("px","")+"px","important");else r.each(m,function(){this.style.setProperty("min-"+S,(""+c.minSizes).includes("%")?c.minSizes:(""+c.minSizes).replace("px","")+"px","important")});c.saveState&&this.storage!==null&&this._getSize()},_setSize:function(){let i=this.element,c=this.options,m,b,w=i.children(".split-block"),S=i.width();if(m=i.children(".gutter"),!e.utils.isValue(c.splitSizes))w.css({flexBasis:`calc(${100/w.length}% - ${m.length*c.gutterSize}px)`});else{b=(""+c.splitSizes).toArray();let D=100,I=0;for(;I<b.length;I++){let P=b[I];P.includes("%")?P=parseInt(P):P=+P*100/S,D-=P,r(w[I]).css({flexBasis:`calc(${P}% - ${m.length*c.gutterSize}px)`})}for(;I<w.length;I++)r(w[I]).css({flexBasis:`calc(${D/(w.length-I)}% - ${m.length*c.gutterSize}px)`})}},_createEvents:function(){let i=this,c=this.element,m=this.options,b=c.children(".gutter");b.on(e.events.startAll,function(w){if(m.noResize===!0)return!1;let S=m.split===f.VERTICAL?c.width():c.height(),D=r(this),I=D.prev(".split-block"),P=D.next(".split-block"),V=100*(m.split===f.VERTICAL?I.outerWidth(!0):I.outerHeight(!0))/S,z=100*(m.split===f.VERTICAL?P.outerWidth(!0):P.outerHeight(!0))/S,K=e.utils.getCursorPosition(c[0],w);D.addClass("active"),I.addClass("stop-pointer"),P.addClass("stop-pointer"),i._fireEvent("resize-start",{pos:K,gutter:D[0],prevBlock:I[0],nextBlock:P[0]}),r(globalThis).on(e.events.moveAll,function(ye){let _e=e.utils.getCursorPosition(c[0],ye),Ne;m.split===f.VERTICAL?Ne=_e.x*100/S-K.x*100/S:Ne=_e.y*100/S-K.y*100/S,I.css("flex-basis","calc("+(V+Ne)+"% - "+b.length*m.gutterSize+"px)"),P.css("flex-basis","calc("+(z-Ne)+"% - "+b.length*m.gutterSize+"px)"),i._fireEvent("resize-split",{pos:_e,gutter:D[0],prevBlock:I[0],nextBlock:P[0]})},{ns:i.id}),r(globalThis).on(e.events.stopAll,function(ye){let _e;I.removeClass("stop-pointer"),P.removeClass("stop-pointer"),i._saveSize(),D.removeClass("active"),r(globalThis).off(e.events.moveAll,{ns:i.id}),r(globalThis).off(e.events.stopAll,{ns:i.id}),_e=e.utils.getCursorPosition(c[0],ye),i._fireEvent("resize-stop",{pos:_e,gutter:D[0],prevBlock:I[0],nextBlock:P[0]})},{ns:i.id})},{passive:!0}),r(globalThis).on(e.events.resize,function(){let w=c.children(".gutter"),S=w.prev(".split-block"),D=w.next(".split-block");i._fireEvent("resize-window",{prevBlock:S[0],nextBlock:D[0]})},{ns:i.id})},_saveSize:function(){let i=this.element,c=this.options,m=this.storage,b=[],w=i.attr("id")||this.id;c.saveState===!0&&m!==null&&(r.each(i.children(".split-block"),function(){let S=r(this);b.push(S.css("flex-basis"))}),m&&m.setItem(this.storageKey+w,b))},_getSize:function(){let i=this.element,c=this.options,m=this.storage,b=[],w=i.attr("id")||this.id;c.saveState===!0&&m!==null&&(b=m.getItem(this.storageKey+w),r.each(i.children(".split-block"),function(S,D){let I=r(D);e.utils.isValue(b)&&e.utils.isValue(b[S])&&I.css("flex-basis",b[S])}))},size:function(i){let c=this,m=this.options;return e.utils.isValue(i)&&(m.splitSizes=i,c._setSize()),this},changeAttribute:function(i){let c=this,m=this.element;function b(){let w=m.attr("data-split-sizes");c.size(w)}i==="data-split-sizes"&&b()},destroy:function(){let i=this.element;return i.children(".gutter").off(e.events.start),i.remove()}})}(Metro,Dom),function(e,r){var f={stepperDeferred:0,view:e.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:"",clsStep:"",clsComplete:"",clsCurrent:"",onStep:e.noop,onStepClick:e.noop,onStepperCreate:e.noop};e.stepperSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroStepperSetup<"u"&&e.stepperSetup(globalThis.metroStepperSetup),e.Component("stepper",{init:function(o,t){return this._super(t,o,f,{current:0}),this},_create:function(){var o=this.element,t=this.options;t.step<=0&&(t.step=1),this._createStepper(),this._createEvents(),this._fireEvent("stepper-create",{element:o})},_createStepper:function(){var o=this.element,t=this.options,i;for(o.addClass("stepper").addClass(t.view).addClass(t.clsStepper),i=1;i<=t.steps;i++)r("<span>").addClass("step").addClass(t.clsStep).data("step",i).html("<span>"+i+"</span>").appendTo(o);this.current=1,this.toStep(t.step)},_createEvents:function(){var o=this,t=this.element,i=this.options;t.on(e.events.click,".step",function(){var c=r(this).data("step");i.stepClick===!0&&(o.toStep(c),o._fireEvent("step-click",{step:c}))})},next:function(){var o=this.element,t=o.find(".step");this.current+1>t.length||(this.current++,this.toStep(this.current))},prev:function(){this.current-1!==0&&(this.current--,this.toStep(this.current))},last:function(){var o=this.element;this.toStep(o.find(".step").length)},first:function(){this.toStep(1)},toStep:function(o){var t=this.element,i=this.options,c=r(t.find(".step").get(o-1)),m=this.current;c.length!==0&&(this.current=o,t.find(".step").removeClass("complete current").removeClass(i.clsCurrent).removeClass(i.clsComplete),c.addClass("current").addClass(i.clsCurrent),c.prevAll().addClass("complete").addClass(i.clsComplete),this._fireEvent("step",{step:this.current,prev:m}))},changeAttribute:function(){},destroy:function(){var o=this.element;return o.off(e.events.click,".step"),o}})}(Metro,Dom),function(e){let r=function(f){return new r.init(f)};r.prototype={setKey:function(f){this.key=f},getKey:function(){return this.key},setItem:function(f,o){this.storage.setItem(this.key+":"+f,JSON.stringify(o))},getItem:function(f,o,t){let i,c;c=this.storage.getItem(this.key+":"+f);try{i=JSON.parse(c,t)}catch{i=null}return e.utils.nvl(i,o)},getItemPart:function(f,o,t,i){let c,m=this.getItem(f,t,i);for(o=o.split("->"),c=0;c<o.length;c++)m=m[o[c]];return m},delItem:function(f){this.storage.removeItem(this.key+":"+f)},size:function(f){let o;switch(f){case"m":case"M":{o=1024*1024;break}case"k":case"K":{o=1024;break}default:o=1}return JSON.stringify(this.storage).length/o}},r.init=function(f){return this.key="",this.storage=f||globalThis.localStorage,this},r.init.prototype=r.prototype,e.storage=r(globalThis.localStorage),e.session=r(globalThis.sessionStorage)}(Metro),function(e,r){var f=e.utils,o={streamerDeferred:0,wheel:!0,wheelStep:20,duration:METRO_ANIMATION_DURATION,defaultClosedIcon:"",defaultOpenIcon:"",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:"",excludeClickClass:"",excludeClass:"",onDataLoad:e.noop,onDataLoaded:e.noop,onDataLoadError:e.noop,onDrawEvent:e.noop,onDrawGlobalEvent:e.noop,onDrawStream:e.noop,onStreamClick:e.noop,onStreamSelect:e.noop,onEventClick:e.noop,onEventSelect:e.noop,onEventsScroll:e.noop,onStreamerCreate:e.noop};e.streamerSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroStreamerSetup<"u"&&e.streamerSetup(globalThis.metroStreamerSetup),e.Component("streamer",{init:function(t,i){return this._super(i,t,o,{data:null,scroll:0,scrollDir:"left",events:null}),this},_create:function(){var t=this.element,i=this.options;if(t.addClass("streamer"),t.attr("id")===void 0&&t.attr("id",f.elementId("streamer")),i.source===null&&i.data===null)return!1;r("<div>").addClass("streams").appendTo(t),r("<div>").addClass("events-area").appendTo(t),i.source!==null?(this._fireEvent("data-load",{source:i.source}),this._loadSource()):(this.data=i.data,this.build())},_loadSource:function(){var t=this,i=this.options;fetch(i.source).then(e.fetch.status).then(e.fetch.json).then(function(c){t._fireEvent("data-loaded",{source:i.source,data:c}),t.data=c,t.build()}).catch(function(c){t._fireEvent("data-load-error",{source:i.source,error:c})})},build:function(){var t=this,i=this.element,c=this.options,m=this.data,b=i.find(".streams").html(""),w=i.find(".events-area").html(""),S,D=r("<ul>").addClass("streamer-timeline").html("").appendTo(w),I=r("<div>").addClass("streamer-events").appendTo(w),P=r("<div>").addClass("event-group").appendTo(I),V=f.getURIParameter(null,"StreamerIDS");V!==null&&c.encodeLink===!0&&(V=atob(V));var z=V?V.split("|")[0]:null,K=V?V.split("|")[1].split(","):[];if(m.actions!==void 0){var ye=r("<div>").addClass("streamer-actions").appendTo(b);r.each(m.actions,function(){var Li=this,Gn=r("<button>").addClass("streamer-action").addClass(Li.cls).html(Li.html);Li.onclick&&Gn.on(e.events.click,function(){f.exec(Li.onclick,[i])}),Gn.appendTo(ye)})}D.html(""),m.timeline===void 0&&(m.timeline={start:"09:00",stop:"18:00",step:20});var _e=new Date,Ne=new Date,Ie=m.timeline.start?m.timeline.start.split(":"):[9,0],Se=m.timeline.stop?m.timeline.stop.split(":"):[18,0],Me=m.timeline.step?parseInt(m.timeline.step)*60:1200;_e.setHours(Ie[0]),_e.setMinutes(Ie[1]),_e.setSeconds(0),Ne.setHours(Se[0]),Ne.setMinutes(Se[1]),Ne.setSeconds(0);var Be,ze,kt,St,Yt,Zt,Jt,bi,wa,bs;for(Be=_e.getTime()/1e3;Be<=Ne.getTime()/1e3;Be+=Me)for(ze=new Date(Be*1e3),kt=ze.getHours(),Yt=ze.getMinutes(),St=Str.lpad(kt,"0",2)+":"+Str.lpad(Yt,"0",2),bi=r("<li>").data("time",St).addClass("js-time-point-"+St.replace(":","-")).html("<em>"+St+"</em>").appendTo(D),bs=bi.width()/parseInt(m.timeline.step),S=r("<ul>").addClass("streamer-fake-timeline").html("").appendTo(bi),Zt=0;Zt<parseInt(m.timeline.step);Zt++)Jt=Yt+Zt,St=Str.lpad(kt,"0",2)+":"+Str.lpad(Jt,"0",2),wa=r("<li>").data("time",St).addClass("js-fake-time-point-"+St.replace(":","-")).html("|").appendTo(S),wa.css({width:bs});if(m.streams!==void 0&&r.each(m.streams,function(Li){var Gn=75,rs=0,Oi=this,li=r("<div>").addClass("stream").addClass(this.cls).appendTo(b);li.addClass(Oi.cls).data("one",!1).data("data",Oi.data),r("<div>").addClass("stream-title").html(Oi.title).appendTo(li),r("<div>").addClass("stream-secondary").html(Oi.secondary).appendTo(li),r(Oi.icon).addClass("stream-icon").appendTo(li);var Gs=Farbe.Routines.toHEX(f.getStyleOne(li,"background-color")),Xs=Farbe.Routines.toHEX(f.getStyleOne(li,"color")),mo=r("<div>").addClass("stream-events").data("background-color",Gs).data("text-color",Xs).appendTo(P);if(Oi.events!==void 0){r.each(Oi.events,function(_t){var st=this,Wt=st.row===void 0?1:parseInt(st.row),cn,Xn=Li+":"+_t,mn=st.custom!==void 0?st.custom:"",ol=st.custom_open!==void 0?st.custom_open:"",ys=st.custom_close!==void 0?st.custom_close:"",xs;if(!(st.skip!==void 0&&f.bool(st.skip))){xs=r("<div>").data("origin",st).data("sid",Xn).data("data",st.data).data("time",st.time).data("target",st.target).addClass("stream-event").addClass("size-"+st.size+(["half","one-third"].includes(st.size)?"":"x")).addClass(st.cls).appendTo(mo);var I1=D.find(".js-fake-time-point-"+this.time.replace(":","-")),F1=I1.offset().left-mo.offset().left,L1=75*(Wt-1);if(Wt>rs&&(rs=Wt),xs.css({position:"absolute",left:F1,top:L1}),f.isNull(st.html)){var $d=r("<div>").addClass("stream-event-slide").appendTo(xs),kf=r("<div>").addClass("slide-logo").appendTo($d),Sf=r("<div>").addClass("slide-data").appendTo($d);st.icon!==void 0&&(f.isTag(st.icon)?r(st.icon).addClass("icon").appendTo(kf):r("<img>").addClass("icon").attr("src",st.icon).attr("alt","").appendTo(kf)),r("<span>").addClass("time").css({backgroundColor:Gs,color:Xs}).html(st.time).appendTo(kf),r("<div>").addClass("title").html(st.title).appendTo(Sf),r("<div>").addClass("subtitle").html(st.subtitle).appendTo(Sf),r("<div>").addClass("desc").html(st.desc).appendTo(Sf),(c.closed===!1&&i.attr("id")===z&&K.indexOf(Xn)!==-1||st.selected===!0||parseInt(st.selected)===1)&&xs.addClass("selected"),c.closed===!0||st.closed===!0||parseInt(st.closed)===1?(cn=st.closedIcon!==void 0?f.isTag(st.closedIcon)?st.closedIcon:"<span>"+st.closedIcon+"</span>":f.isTag(c.defaultClosedIcon)?c.defaultClosedIcon:"<span>"+c.defaultClosedIcon+"</span>",r(cn).addClass("state-icon").addClass(st.clsClosedIcon).appendTo($d),xs.data("closed",!0).data("target",st.target),xs.append(ol)):(cn=st.openIcon!==void 0?f.isTag(st.openIcon)?st.openIcon:"<span>"+st.openIcon+"</span>":f.isTag(c.defaultOpenIcon)?c.defaultOpenIcon:"<span>"+c.defaultOpenIcon+"</span>",r(cn).addClass("state-icon").addClass(st.clsOpenIcon).appendTo($d),xs.data("closed",!1),xs.append(ys)),xs.append(mn)}else xs.html(st.html);t._fireEvent("draw-event",{event:xs[0]})}});var Tt=mo.find(".stream-event").last();Tt.length>0&&mo.outerWidth(Tt[0].offsetLeft+Tt.outerWidth())}mo.css({height:Gn*rs}),i.find(".stream").eq(mo.index()).css({height:Gn*rs}),t._fireEvent("draw-stream",{stream:li[0]})}),m.global!==void 0){var al=I.offset().left;r.each(["before","after"],function(){var Li=this;m.global[Li]!==void 0&&r.each(m.global[Li],function(){var Gn=this,rs=r("<div>").addClass("event-group").addClass("size-"+Gn.size+(["half","one-third"].includes(Gn.size)?"":"x")),Oi=r("<div>").addClass("stream-events global-stream").appendTo(rs),li=r("<div>").addClass("stream-event").appendTo(Oi);li.addClass("global-event").addClass(Gn.cls).data("time",Gn.time).data("origin",Gn).data("data",Gn.data),r("<div>").addClass("event-title").html(Gn.title).appendTo(li),r("<div>").addClass("event-subtitle").html(Gn.subtitle).appendTo(li),r("<div>").addClass("event-html").html(Gn.html).appendTo(li);var Gs,Xs=D.find(".js-fake-time-point-"+this.time.replace(":","-"));Xs.length>0&&(Gs=Xs.offset().left-al),rs.css({position:"absolute",left:Gs,height:"100%"}).appendTo(I),t._fireEvent("draw-global-event",{event:li[0]})})})}i.data("stream",-1),i.find(".events-area").scrollLeft(0),this.events=i.find(".stream-event"),this._createEvents(),c.startFrom!==null&&c.slideToStart===!0&&setTimeout(function(){t.slideTo(c.startFrom)},c.startSlideSleep),this._fireEvent("streamer-create"),this._fireScroll()},_fireScroll:function(){var t=this,i=this.element,c=i.find(".events-area"),m=this.scroll;c.length!==0&&(this.scrollDir=this.scroll<c[0].scrollLeft?"left":"right",this.scroll=c[0].scrollLeft,this._fireEvent("events-scroll",{scrollLeft:c[0].scrollLeft,oldScroll:m,scrollDir:t.scrollDir,events:r.toArray(this.events)}))},_createEvents:function(){var t=this,i=this.element,c=this.options;function m(){var w=globalThis.pageYOffset||document.documentElement.scrollTop,S=globalThis.pageXOffset||document.documentElement.scrollLeft;globalThis.onscroll=function(){globalThis.scrollTo(S,w)}}function b(){globalThis.onscroll=function(){}}i.off(e.events.click,".stream-event").on(e.events.click,".stream-event",function(w){var S=r(this);if(!(c.excludeClass!==""&&S.hasClass(c.excludeClass))&&!(c.excludeElement!==null&&r(w.target).is(c.excludeElement))){if(c.closed===!1&&S.data("closed")!==!0&&c.eventClick==="select")c.excludeSelectClass!==""&&S.hasClass(c.excludeSelectClass)||c.excludeSelectElement!==null&&r(w.target).is(c.excludeSelectElement)||(S.hasClass("global-event")?c.selectGlobal===!0&&S.toggleClass("selected"):S.toggleClass("selected"),c.changeUri===!0&&t._changeURI(),t._fireEvent("event-select",{event:S[0],selected:S.hasClass("selected")}));else if(!(c.excludeClickClass!==""&&S.hasClass(c.excludeClickClass))&&!(c.excludeClickElement!==null&&r(w.target).is(c.excludeClickElement))&&(t._fireEvent("event-click",{event:S[0]}),c.closed===!0||S.data("closed")===!0)){var D=S.data("target");D&&(globalThis.location.href=D)}}}),i.off(e.events.click,".stream").on(e.events.click,".stream",function(){var w=r(this),S=w.index();c.streamSelect!==!1&&(i.data("stream")===S?(i.find(".stream-event").removeClass("disabled"),i.data("stream",-1)):(i.data("stream",S),i.find(".stream-event").addClass("disabled"),t.enableStream(w),t._fireEvent("stream-select",{stream:w})),t._fireEvent("stream-click",{stream:w}))}),c.wheel===!0&&(i.find(".events-area").off(e.events.mousewheel).on(e.events.mousewheel,function(w){if(w.deltaY!==void 0){var S,D=r(this),I=w.deltaY>0?-1:1,P=c.wheelStep;S=D.scrollLeft()-I*P,D.scrollLeft(S)}},{passive:!0}),i.find(".events-area").off("mouseenter").on("mouseenter",function(){m()}),i.find(".events-area").off("mouseleave").on("mouseleave",function(){b()})),i.find(".events-area").last().off("scroll").on("scroll",function(){t._fireScroll()}),r.touchable===!0&&i.off(e.events.click,".stream").on(e.events.click,".stream",function(){var w=r(this);w.toggleClass("focused"),r.each(i.find(".stream"),function(){r(this).is(w)||r(this).removeClass("focused")})})},_changeURI:function(){var t=this.getLink();history.pushState({},document.title,t)},slideTo:function(t){var i=this.element,c=this.options,m;t===void 0?m=r(i.find(".streamer-timeline li")[0]):m=r(i.find(".streamer-timeline .js-time-point-"+t.replace(":","-"))[0]),i.find(".events-area").animate({draw:{scrollLeft:m[0].offsetLeft-i.find(".streams .stream").outerWidth()},dur:c.duration})},enableStream:function(t){var i=this.element,c=t.index()-1;t.removeClass("disabled").data("streamDisabled",!1),i.find(".stream-events").eq(c).find(".stream-event").removeClass("disabled")},disableStream:function(t){var i=this.element,c=t.index()-1;t.addClass("disabled").data("streamDisabled",!0),i.find(".stream-events").eq(c).find(".stream-event").addClass("disabled")},toggleStream:function(t){t.data("streamDisabled")===!0?this.enableStream(t):this.disableStream(t)},getLink:function(){var t=this.element,i=this.options,c=t.find(".stream-event"),m=[],b,w=globalThis.location.href;return r.each(c,function(){var S=r(this);S.data("sid")===void 0||!S.hasClass("selected")||m.push(S.data("sid"))}),b=t.attr("id")+"|"+m.join(","),i.encodeLink===!0&&(b=btoa(b)),f.updateURIParameter(w,"StreamerIDS",b)},getTimes:function(){var t=this.element,i=t.find(".streamer-timeline > li"),c=[];return r.each(i,function(){c.push(r(this).data("time"))}),c},getEvents:function(t,i){var c=this.element,m,b=[];switch(t){case"selected":m=c.find(".stream-event.selected");break;case"non-selected":m=c.find(".stream-event:not(.selected)");break;default:m=c.find(".stream-event")}return r.each(m,function(){var w=r(this),S;i!==!0&&w.parent().hasClass("global-stream")||(S=w.data("origin"),b.push(S))}),b},source:function(t){var i=this.element;if(t===void 0)return this.options.source;i.attr("data-source",t),this.options.source=t,this.changeSource()},dataSet:function(t){if(t===void 0)return this.options.data;this.options.data=t,this.changeData(t)},getStreamerData:function(){return this.data},toggleEvent:function(t){var i=this.options;t=r(t),!(t.hasClass("global-event")&&i.selectGlobal!==!0)&&(t.hasClass("selected")?this.selectEvent(t,!1):this.selectEvent(t,!0))},selectEvent:function(t,i){var c=this,m=this.options;i===void 0&&(i=!0),t=r(t),!(t.hasClass("global-event")&&m.selectGlobal!==!0)&&(i===!0?t.addClass("selected"):t.removeClass("selected"),m.changeUri===!0&&c._changeURI(),this._fireEvent("event-select",{event:t[0],selected:i}))},changeSource:function(){var t=this.element,i=this.options,c=t.attr("data-source");String(c).trim()!==""&&(i.source=c,this._fireEvent("data-load",{source:i.source}),this._loadSource(),this._fireEvent("source-change"))},changeData:function(t){var i=this.element,c=this.options,m=this.data;c.data=typeof t=="object"?t:JSON.parse(i.attr("data-data")),this.data=c.data,this.build(),this._fireEvent("data-change",{oldData:m,newData:c.data})},changeStreamSelectOption:function(){var t=this.element,i=this.options;i.streamSelect=t.attr("data-stream-select").toLowerCase()==="true"},changeAttribute:function(t){switch(t){case"data-source":this.changeSource();break;case"data-data":this.changeData();break;case"data-stream-select":this.changeStreamSelectOption();break}},destroy:function(){var t=this.element;return t.off(e.events.click,".stream-event"),t.off(e.events.click,".stream"),t.find(".events-area").off(e.events.mousewheel),t.find(".events-area").last().off("scroll"),t}})}(Metro,Dom),function(e,r){let f={swipeThreshold:32,onSwipe:e.noop,onSwipeRight:e.noop,onSwipeLeft:e.noop,onSwipeUp:e.noop,onSwipeDown:e.noop,onSwipeCreate:e.noop};e.swipeSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroSwipeSetup<"u"&&e.swipeSetup(globalThis.metroSwipeSetup),e.Component("swipe",{init:function(o,t){return this._super(t,o,f,{}),this},_create:function(){this.element.css({userSelect:"none"}),this._createEvents(),this._fireEvent("swipe-create")},_createEvents:function(){let o=this,t=this.element,i=this.options;t.on("touchstart mousedown",function(c){let m=e.utils.pageXY(c),b={x:0,y:0};t.on("touchmove mousemove",function(w){let S=e.utils.pageXY(w);b.x=S.x-m.x,b.y=S.y-m.y}),t.on("touchend mouseup",function(w){let S="";(Math.abs(b.x)>i.swipeThreshold||Math.abs(b.y)>i.swipeThreshold)&&(Math.abs(b.x)>Math.abs(b.y)?b.x>0?(S="right",o._fireEvent("swipe-right",{start:m,swipe:b})):(S="left",o._fireEvent("swipe-left",{start:m,swipe:b})):b.y>0?(S="down",o._fireEvent("swipe-down",{start:m,swipe:b})):(S="up",o._fireEvent("swipe-up",{start:m,swipe:b})),o._fireEvent("swipe",{start:m,swipe:b,direction:S})),t.off("touchmove mousemove"),t.off("touchend mouseup")})})},changeAttribute:function(o,t){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o={switchDeferred:0,material:!1,prepend:"",append:"",clsSwitch:"",clsCheck:"",clsCaption:"",onoff:!1,on:"",off:"",showOnOff:!1,onSwitchCreate:e.noop};e.switchSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroSwitchSetup<"u"&&e.switchSetup(globalThis.metroSwitchSetup),e.Component("switch",{init:function(t,i){return this._super(i,t,o,{}),this},_create:function(){let t=this.element,i=this.options,c=this.strings,m=t.wrap("<label>").addClass("switch").addClass(t[0].className).addClass(i.clsSwitch);t.attr("type","checkbox"),t.attr("readonly")&&t.on("click",function(b){b.preventDefault()}),this.component=m,t[0].className="",i.prepend&&m.prepend(r("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),i.append&&m.append(r("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.append)),i.onoff===!0?(t.attr("data-on",i.on||c.label_on),t.attr("data-off",i.off||c.label_off)):(t.removeAttr("data-on"),t.removeAttr("data-off")),i.material===!0&&m.addClass("material"),this._fireEvent("switch-create")},toggle:function(t){let i=this.element;return i.is(":disabled")?this:(f.isValue(t)?i.prop("checked",t===1):i.prop("checked",!f.bool(i.prop("checked"))),this)},changeAttribute:function(t,i){},destroy:function(){return this.element}})}(Metro,Dom),function(e,r){var f={splitter:",",variance:0,delay:100,blinkDelay:400,deleteDelay:800,loop:!0,cursor:"_",colors:"",onType:e.noop,onTyperCreate:e.noop};e.typerSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroTyperSetup<"u"&&e.typerSetup(globalThis.metroTyperSetup),e.Component("typer",{init:function(o,t){return this._super(t,o,f,{original:null,lines:null,text:null,cursor:null,on:!0,interval:null,colors:null,colorIndex:0}),this},_create:function(){let o=this.element,t=this.options;o.addClass("typer"),this.original=o.text(),this.words=this.original.split(t.splitter).pack(),this.colors=t.colors.split(",").pack(),this.cursor=r("<span>").addClass("typer-cursor").html(t.cursor).insertAfter(o),this.interval=setInterval(()=>this._blink(),+t.blinkDelay),this.progress={word:0,char:0,building:!0,looped:0},o.clear(),this.start()},_blink:function(){this.on?(this.cursor[0].style.opacity=0,this.on=!1):(this.cursor[0].style.opacity=1,this.on=!0)},doTyping:function(){let o=this.element,t=this.elem,i=this.options,c,m=this.progress,b=m.word,w=m.char,S=[...this.words[b]].slice(0,w).join(""),D=(2*Math.random()-1)*i.variance+i.delay;this.cursor[0].style.opacity="1",this.on=!0,clearInterval(this.interval),this.interval=setInterval(()=>this._blink(),+i.blinkDelay),o.html(S),m.building?(c=m.char===this.words[b].length,c?m.building=!1:m.char+=1):m.char===0?(m.building=!0,m.word=(m.word+1)%this.words.length,this.colors.length&&(this.colorIndex=(this.colorIndex+1)%this.colors.length,t.style.color=this.colors[this.colorIndex])):m.char-=1,m.word===this.words.length-1&&(m.looped+=1),!m.building&&this.loop<=m.looped&&(this.typing=!1),setTimeout(()=>{this.typing&&this.doTyping()},c?i.deleteDelay:D)},start:function(){this.typing||(this.typing=!0,this.doTyping())},stop:function(){this.typing=!1},destroy:function(){this.element.remove()}})}(Metro,Dom);var Qp={title:void 0,format:void 0,formatMask:void 0,name:void 0,colspan:null,size:void 0,sortable:!1,sortDir:void 0,clsColumn:void 0,cls:void 0,show:!0,required:!0,field:void 0,fieldType:void 0,validator:void 0,template:void 0,type:"data"};(function(e,r){var f=e.utils,o={caption:"",cardMode:"",useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"🔧",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationIslandSize:3,paginationShortTrack:10,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,source:null,static:!1,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:e.noop,onDrawRow:e.noop,onDrawCell:e.noop,onAppendRow:e.noop,onAppendCell:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoadError:e.noop,onDataLoaded:e.noop,onDataLoadEnd:e.noop,onDataSaveError:e.noop,onFilterRowAccepted:e.noop,onFilterRowDeclined:e.noop,onCheckClick:e.noop,onCheckClickAll:e.noop,onCheckDraw:e.noop,onViewSave:e.noop,onViewGet:e.noop,onViewCreated:e.noop,onTableCreate:e.noop,onSkip:e.noop};e.tableSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroTableSetup<"u"&&e.tableSetup(globalThis.metroTableSetup),e.Component("table",{init:function(t,i){return this._super(i,t,o,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},input_interval:null,searchFields:[],id:f.elementId("table"),sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){var t=this,i=this.element,c=this.options,m=f.elementId("table"),b,w,S;if(i.id()||(console.warn("To use all table component features, please set an ID for the table element!"),i.id(m)),f.isValue(c.searchFields)&&(this.searchFields=c.searchFields.toArray()),f.isValue(c.head)){var D=c.head;c.head=f.isObject(c.head),c.head||(console.warn("Head "+D+" defined but not exists!"),c.head=null)}if(f.isValue(c.body)){var I=c.body;c.body=f.isObject(c.body),c.body||(console.warn("Body "+I+" defined but not exists!"),c.body=null)}if(c.static===!0&&(c.showPagination=!1,c.showRowsSteps=!1,c.showSearch=!1,c.showTableInfo=!1,c.showSkip=!1,c.rows=-1),b=r("<div>").addClass("table-component"),b.insertBefore(i),w=r("<div>").addClass("table-container").addClass(c.clsTableContainer).appendTo(b),i.appendTo(w),c.horizontalScroll===!0&&w.addClass("horizontal-scroll"),!f.isNull(c.horizontalScrollStop)&&f.mediaExist(c.horizontalScrollStop)&&w.removeClass("horizontal-scroll"),b.addClass(c.clsComponent),this.activity=r("<div>").addClass("table-progress").appendTo(b),S=r("<div>").appendTo(this.activity),e.makePlugin(S,"activity",{type:c.activityType,style:c.activityStyle}),c.showActivity!==!0&&this.activity.css({visibility:"hidden"}),this.component=b[0],c.source!==null){this._fireEvent("data-load",{source:c.source});var P=f.isObject(c.source);P!==!1&&r.isPlainObject(P)?t._build(P):this.activity.show(function(){fetch(c.source).then(e.fetch.status).then(e.fetch.json).then(function(V){if(t.activity.hide(),typeof V!="object")throw new Error("Data for table is not a object");t._fireEvent("data-loaded",{source:c.source,data:V}),t._build(V)}).catch(function(V){t.activity.hide(),t._fireEvent("data-load-error",{source:c.source,error:V})})})}else t._build()},_createIndex:function(){var t=this,i=this.options.checkColIndex;setImmediate(function(){t.items.forEach(function(c,m){t.index[c[i]]=m})})},_build:function(t){var i=this,c=this.element,m=this.options,b,w=c.attr("id"),S;m.rows=+m.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(m.head)&&(this.heads=m.head),Array.isArray(m.body)&&(this.items=m.body),f.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=f.objectClone(this.view),S=m.viewSavePath.replace("$1",w),m.viewSaveMode.toLowerCase()==="client"?(b=e.storage.getItem(S),f.isValue(b)&&f.objectLength(b)===f.objectLength(this.view)&&(this.view=b,this._fireEvent("view-get",{source:"client",view:b})),this._final()):fetch(S).then(e.fetch.status).then(e.fetch.json).then(function(D){f.isValue(D)&&f.objectLength(D)===f.objectLength(i.view)&&(i.view=D,i._fireEvent("view-get",{source:"server",view:D})),i._final()}).catch(function(D){i._final(),console.warn("Warning! Error loading view for table "+c.attr("id")+": "+D)})},_final:function(){var t=this.element,i=this.options,c=t.attr("id");e.storage.delItem(i.checkStoreKey.replace("$1",c)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:t})},_service:function(){var t=this.options;this.service=[T(k({},Qp),{title:t.rownumTitle,clsColumn:"rownum-cell "+(t.rownum!==!0?"d-none":""),cls:"rownum-cell "+(t.rownum!==!0?"d-none":""),type:"rownum"}),T(k({},Qp),{title:t.checkType==="checkbox"?"<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='"+t.checkStyle+"'>":"",clsColumn:"check-cell "+(t.check!==!0?"d-none":""),cls:"check-cell "+(t.check!==!0?"d-none":""),type:"rowcheck"})]},_createView:function(){var t;return t={},r.each(this.heads,function(i){f.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),f.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),t[i]={index:i,"index-view":i,show:f.isValue(this.show)?this.show:!0,size:f.isValue(this.size)?this.size:""}}),this._fireEvent("view-created",{view:t}),t},_createInspectorItems:function(t){var i=this,c=this.options,m,b=[],w,S=this.heads;for(t.html(""),m=0;m<S.length;m++)b[m]=null;for(r.each(S,function(D){w=r("<tr>"),w.data("index",D),w.data("index-view",D),r("<td>").html("<input type='checkbox' data-style='"+c.checkStyle+"' data-role='checkbox' name='column_show_check[]' value='"+D+"' "+(f.bool(i.view[D].show)?"checked":"")+">").appendTo(w),r("<td>").html(`<div>${this.title}</div>`).appendTo(w),r("<td>").html("<input type='number' data-role='spinner' name='column_size' value='"+i.view[D].size+"' data-index='"+D+"'>").appendTo(w),r("<td>").html("<button class='button square js-table-inspector-field-up' type='button'>↑</button><button class='button square js-table-inspector-field-down' type='button'>↓</button>").appendTo(w),b[i.view[D]["index-view"]]=w}),m=0;m<S.length;m++)b[m].appendTo(t)},_createInspector:function(){var t=this.options,i=this.strings,c,m,b,w,S;c=r("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector"),c.attr("for",this.element.attr("id")),r("<div class='table-inspector-header'>"+(t.inspectorTitle||i.label_inspector)+"</div>").appendTo(c),m=r("<div>").addClass("table-wrap").appendTo(c),b=r("<table>").addClass("table subcompact"),w=r("<tbody>").appendTo(b),b.appendTo(m),this._createInspectorItems(w),S=r("<div class='table-inspector-actions'>").appendTo(c),r("<button class='button primary js-table-inspector-save' type='button'>").html(i.label_save).appendTo(S),r("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(i.label_reset).appendTo(S),r("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(i.label_cancel).appendTo(S),c.data("open",!1),this.inspector=c,r("body").append(c),this._createInspectorEvents()},_resetInspector:function(){var t=this.inspector,i=t.find("table tbody");this._createInspectorItems(i),this._createInspectorEvents()},_createHeadsFromHTML:function(){var t=this,i=this.element,c=i.find("thead");c.length>0&&r.each(c.find("tr > *"),function(){var m=r(this),b,w,S;m.hasClass("rownum-cell")||m.hasClass("check-cell")||(f.isValue(m.data("sort-dir"))?b=m.data("sort-dir"):m.hasClass("sort-asc")?b="asc":m.hasClass("sort-desc")?b="desc":b=void 0,S=m[0].className.replace("sortable-column",""),S=S.replace("sort-asc",""),S=S.replace("sort-desc",""),S=S.replace("hidden",""),w={type:"data",title:m.html(),name:f.isValue(m.data("name"))?m.data("name"):m.text().replace(" ","_"),sortable:m.hasClass("sortable-column")||f.isValue(m.data("sortable"))&&JSON.parse(m.data("sortable"))===!0,sortDir:b,format:f.isValue(m.data("format"))?m.data("format"):"string",formatMask:f.isValue(m.data("format-mask"))?m.data("format-mask"):null,clsColumn:f.isValue(m.data("cls-column"))?m.data("cls-column"):"",cls:S,colspan:m.attr("colspan"),size:f.isValue(m.data("size"))?m.data("size"):"",show:!(m.hasClass("hidden")||f.isValue(m.data("show"))&&JSON.parse(m.data("show"))===!1),required:f.isValue(m.data("required"))?JSON.parse(m.data("required"))===!0:!1,field:f.isValue(m.data("field"))?m.data("field"):"input",fieldType:f.isValue(m.data("field-type"))?m.data("field-type"):"text",validator:f.isValue(m.data("validator"))?m.data("validator"):null,template:f.isValue(m.data("template"))?m.data("template"):null},t.heads.push(w))})},_createFootsFromHTML:function(){var t=this,i=this.element,c=i.find("tfoot");c.length>0&&r.each(c.find("tr > *"),function(){var m=r(this),b;b={title:m.html(),name:f.isValue(m.data("name"))?m.data("name"):!1,cls:m[0].className,colspan:m.attr("colspan")},t.foots.push(b)})},_createItemsFromHTML:function(){var t=this,i=this.element,c=i.find("tbody");c.length>0&&r.each(c.find("tr"),function(){var m=r(this),b=[];r.each(m.children("td"),function(){var w=r(this);b.push(w.html())}),t.items.push(b)}),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(t){var i=this;typeof t=="string"&&(t=JSON.parse(t)),t.header!==void 0?i.heads=t.header:this._createHeadsFromHTML(),t.data!==void 0&&r.each(t.data,function(){var c=this,m=[];r.each(c,function(){var b=this;m.push(b)}),i.items.push(m)}),t.footer!==void 0?this.foots=t.footer:this._createFootsFromHTML()},_createTableHeader:function(){var t=this.element,i=this.options,c=t.find("thead"),m,b=[],w,S,D=i.staticView?this._createView():this.view;if(c.length===0&&(c=r("<thead>"),t.prepend(c)),c.clear().addClass(i.clsHead),i.caption&&r("<caption>").html(i.caption).insertBefore(c),this.heads.length===0)return c;for(m=r("<tr>").addClass(i.clsHeadRow).appendTo(c),r.each(this.service,function(){var I=this,P=[],V=r("<th>");f.isValue(I.title)&&V.html(I.title),f.isValue(I.size)&&V.css({width:I.size}),f.isValue(I.cls)&&P.push(I.cls),P.push(i.clsHeadCell),V.addClass(P.join(" ")),m.append(V)}),S=this.heads,w=0;w<S.length;w++)b[w]=null;for(r.each(S,function(I){var P=this,V=[],z=r("<th>");z.data("index",I),f.isValue(P.title)&&z.html(P.title),f.isValue(P.format)&&z.attr("data-format",P.format),f.isValue(P.formatMask)&&z.attr("data-format-mask",P.formatMask),f.isValue(P.name)&&z.attr("data-name",P.name),f.isValue(P.colspan)&&z.attr("colspan",P.colspan),f.isValue(P.size)&&z.attr("data-size",P.size),f.isValue(P.sortable)&&z.attr("data-sortable",P.sortable),f.isValue(P.sortDir)&&z.attr("data-sort-dir",P.sortDir),f.isValue(P.clsColumn)&&z.attr("data-cls-column",P.clsColumn),f.isValue(P.cls)&&z.attr("data-cls",P.cls),f.isValue(P.show)&&z.attr("data-show",P.show),f.isValue(P.required)&&z.attr("data-required",P.required),f.isValue(P.field)&&z.attr("data-field",P.field),f.isValue(P.fieldType)&&z.attr("data-field-type",P.fieldType),f.isValue(P.validator)&&z.attr("data-validator",P.validator),f.isValue(P.template)&&z.attr("data-template",P.template),f.isValue(D[I].size)&&z.css({width:D[I].size}),P.sortable===!0&&(V.push("sortable-column"),f.isValue(P.sortDir)&&V.push("sort-"+P.sortDir)),f.isValue(P.cls)&&r.each(P.cls.toArray(),function(){V.push(this)}),f.bool(D[I].show)===!1&&V.indexOf("hidden")===-1&&V.push("hidden"),V.push(i.clsHeadCell),f.bool(D[I].show)&&f.arrayDelete(V,"hidden"),z.addClass(V.join(" ")),b[D[I]["index-view"]]=z}),w=0;w<S.length;w++)b[w].appendTo(m)},_createTableBody:function(){var t,i,c=this.element;i=c.find("thead"),t=c.find("tbody"),t.length===0&&(t=r("<tbody>").addClass(this.options.clsBody),i.length!==0?t.insertAfter(i):c.append(t)),t.clear()},_createTableFooter:function(){var t=this.element,i=this.options,c=t.find("tfoot"),m,b;c.length===0&&(c=r("<tfoot>").appendTo(t)),c.clear().addClass(i.clsFooter),this.foots.length!==0&&(m=r("<tr>").addClass(i.clsHeadRow).appendTo(c),r.each(this.foots,function(){var w=this;b=r("<th>").appendTo(m),w.title&&b.html(w.title),w.name&&b.addClass("foot-column-name-"+w.name),w.cls&&b.addClass(w.cls),f.isValue(w.colspan)&&b.attr("colspan",w.colspan),b.appendTo(m)}))},_createTopBlock:function(){var t=this,i=this.element,c=this.options,m=this.strings,b=r("<div>").addClass("table-top").addClass(c.clsTableTop).insertBefore(i.parent()),w,S,D,I;return w=f.isValue(this.wrapperSearch)?this.wrapperSearch:r("<div>").addClass("table-search-block").addClass(c.clsSearch).appendTo(b),w.addClass(c.clsSearch),S=r("<input>").attr("type","text").attr("placeholder",c.tableSearchPlaceholder).appendTo(w),e.makePlugin(S,"input",{prepend:c.tableSearchTitle||m.label_search}),c.showSearch!==!0&&w.hide(),D=f.isValue(this.wrapperRows)?this.wrapperRows:r("<div>").addClass("table-rows-block").appendTo(b),D.addClass(c.clsRowsCount),I=r("<select>").appendTo(D),r.each(c.rowsSteps.toArray(),function(){var P=parseInt(this),V=r("<option>").attr("value",P).text(P===-1?c.allRecordsTitle||m.label_all:P).appendTo(I);P===parseInt(c.rows)&&V.attr("selected","selected")}),e.makePlugin(I,"select",{filter:!1,prepend:c.tableRowsCountTitle||m.label_rows_count,onChange:function(P){P=parseInt(P),P!==parseInt(c.rows)&&(c.rows=P,t.currentPage=1,t._draw(),t._fireEvent("rows-count-change",{val:P}))}}),c.showInspectorButton&&r("<button>").addClass("button inspector-button").attr("type","button").html(c.inspectorButtonIcon).insertAfter(D),c.showRowsSteps!==!0&&D.hide(),b},_createBottomBlock:function(){var t=this.element,i=this.options,c=this.strings,m=r("<div>").addClass("table-bottom").addClass(i.clsTableBottom).insertAfter(t.parent()),b,w,S;return b=f.isValue(this.wrapperInfo)?this.wrapperInfo:r("<div>").addClass("table-info").appendTo(m),b.addClass(i.clsTableInfo),i.showTableInfo!==!0&&b.hide(),w=f.isValue(this.wrapperPagination)?this.wrapperPagination:r("<div>").addClass("table-pagination").appendTo(m),w.addClass(i.clsTablePagination),i.showPagination!==!0&&w.hide(),S=f.isValue(this.wrapperSkip)?this.wrapperSkip:r("<div>").appendTo(m),S.addClass("table-skip").addClass(i.clsTableSkip),r(`<input type='text' data-role='input' placeholder="${c.label_enter_page}">`).addClass("table-skip-input").addClass(i.clsTableSkipInput).appendTo(S),r("<button>").addClass("button table-skip-button").addClass(i.clsTableSkipButton).html(i.tableSkipTitle||c.label_goto_page).appendTo(S),i.showSkip!==!0&&S.hide(),m},_createStructure:function(){var t=this,i=this.element,c=this.options,m,b=r(c.searchWrapper),w=r(c.infoWrapper),S=r(c.rowsWrapper),D=r(c.paginationWrapper),I=r(c.skipWrapper);b.length>0&&(this.wrapperSearch=b),w.length>0&&(this.wrapperInfo=w),S.length>0&&(this.wrapperRows=S),D.length>0&&(this.wrapperPagination=D),I.length>0&&(this.wrapperSkip=I),i.addClass(c.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();var P=!1;this.heads.length>0&&r.each(this.heads,function(z){var K=this;!P&&["asc","desc"].indexOf(K.sortDir)>-1&&(P=!0,t.sort.colIndex=z,t.sort.dir=K.sortDir)}),P&&(m=i.find("thead th"),this._resetSortClass(m),r(m.get(this.sort.colIndex+t.service.length)).addClass("sort-"+this.sort.dir),this.sorting());var V;f.isValue(c.filters)&&typeof c.filters=="string"&&r.each(c.filters.toArray(),function(){V=f.isFunc(this),V!==!1&&t.filtersIndexes.push(t.addFilter(V))}),this.currentPage=1,this._draw()},_resetSortClass:function(t){r(t).removeClass("sort-asc sort-desc")},_createEvents:function(){var t=this,i=this.element,c=this.options,m=i.closest(".table-component"),b=m.find(".table-container"),w=m.find(".table-search-block input"),S=c.skipWrapper?r(c.skipWrapper).find(".table-skip-button"):m.find(".table-skip-button"),D=c.skipWrapper?r(c.skipWrapper).find(".table-skip-input"):m.find(".table-skip-input"),I,P=i.attr("id"),V=m.find(".inspector-button");V.on(e.events.click,function(){t.toggleInspector()}),S.on(e.events.click,function(){var ye=parseInt(D.val().trim());if(isNaN(ye)||ye<=0||ye>t.pagesCount)return D.val(""),!1;D.val(""),t._fireEvent("skip",{skipTo:ye,skipFrom:t.currentPage}),t.page(ye)}),r(globalThis).on(e.events.resize,function(){c.horizontalScroll===!0&&(!f.isNull(c.horizontalScrollStop)&&f.mediaExist(c.horizontalScrollStop)?b.removeClass("horizontal-scroll"):b.addClass("horizontal-scroll"))},{ns:this.id}),i.on(e.events.click,".sortable-column",function(){if(c.muteTable===!0&&i.addClass("disabled"),t.busy)return!1;t.busy=!0;var ye=r(this);t.activity.show(function(){setImmediate(function(){t.currentPage=1,t.sort.colIndex=ye.data("index"),!ye.hasClass("sort-asc")&&!ye.hasClass("sort-desc")?t.sort.dir=c.sortDir:ye.hasClass("sort-asc")?t.sort.dir="desc":t.sort.dir="asc",t._resetSortClass(i.find(".sortable-column")),ye.addClass("sort-"+t.sort.dir),t.sorting(),t._draw(function(){t.busy=!1,c.muteTable===!0&&i.removeClass("disabled")})})})}),i.on(e.events.click,".table-service-check input",function(){var ye=r(this),_e=ye.is(":checked"),Ne=""+ye.val(),Ie=c.checkStoreKey.replace("$1",P),Se=e.storage,Me=Se.getItem(Ie),Be=ye.attr("type")==="radio";Be&&(Me=[]),_e?f.isValue(Me)?Array(Me).indexOf(Ne)===-1&&Me.push(Ne):Me=[Ne]:f.isValue(Me)?f.arrayDelete(Me,Ne):Me=[],Se.setItem(Ie,Me),t._fireEvent("check-click",{check:this,status:_e,data:Me})}),i.on(e.events.click,".table-service-check-all input",function(){var ye=r(this).is(":checked"),_e=c.checkStoreKey.replace("$1",P),Ne=e.storage,Ie=[],Se;c.useCurrentSlice===!0?(Se=Ne.getItem(_e,[]),ye?r.each(t.currentSlice,function(){Se.indexOf(""+this[c.checkColIndex])===-1&&Se.push(""+this[c.checkColIndex])}):r.each(t.currentSlice,function(){var Me=""+this[c.checkColIndex];Se.indexOf(Me)!==-1&&e.utils.arrayDelete(Se,Me)}),Ie=Se):ye?r.each(t.filteredItems,function(){Ie.indexOf(this[c.checkColIndex])===-1&&Ie.push(""+this[c.checkColIndex])}):Ie=[],Ne.setItem(_e,Ie),t._draw(),t._fireEvent("check-click-all",{check:this,status:ye,data:Ie})});var z=function(){t.searchString=this.value.trim().toLowerCase(),t.currentPage=1,t._draw()};z=Hooks.useDebounce(z,c.searchThreshold),w.on(e.events.inputchange,z),f.isValue(this.wrapperSearch)&&(I=this.wrapperSearch.find("input"),I.length>0&&I.on(e.events.inputchange,z));function K(ye){var _e=r(ye),Ne=_e.parent();t.filteredItems.length!==0&&(Ne.hasClass("active")||(Ne.hasClass("service")?_e.data("page")==="prev"?(t.currentPage--,t.currentPage===0&&(t.currentPage=1)):(t.currentPage++,t.currentPage>t.pagesCount&&(t.currentPage=t.pagesCount)):t.currentPage=_e.data("page"),t._draw()))}m.on(e.events.click,".pagination .page-link",function(){K(this)}),f.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",function(){K(this)}),this._createInspectorEvents(),i.on(e.events.click,".js-table-crud-button",function(){})},_createInspectorEvents:function(){var t=this,i=this.inspector;this._removeInspectorEvents(),i.on(e.events.click,".js-table-inspector-field-up",function(){var c=r(this),m=c.closest("tr"),b=m.prev("tr"),w=m.data("index"),S;b.length!==0&&(m.insertBefore(b),m.addClass("flash"),setTimeout(function(){m.removeClass("flash")},1e3),S=m.index(),m.data("index-view",S),t.view[w]["index-view"]=S,r.each(m.nextAll(),function(){var D=r(this);S++,D.data("index-view",S),t.view[D.data("index")]["index-view"]=S}),t._createTableHeader(),t._draw())}),i.on(e.events.click,".js-table-inspector-field-down",function(){var c=r(this),m=c.closest("tr"),b=m.next("tr"),w=m.data("index"),S;b.length!==0&&(m.insertAfter(b),m.addClass("flash"),setTimeout(function(){m.removeClass("flash")},1e3),S=m.index(),m.data("index-view",S),t.view[w]["index-view"]=S,r.each(m.prevAll(),function(){var D=r(this);S--,D.data("index-view",S),t.view[D.data("index")]["index-view"]=S}),t._createTableHeader(),t._draw())}),i.on(e.events.click,"input[type=checkbox]",function(){var c=r(this),m=c.is(":checked"),b=c.val(),w=["cls","clsColumn"];m?r.each(w,function(){var S;S=f.isValue(t.heads[b][this])?t.heads[b][this].toArray(" "):[],f.arrayDelete(S,"hidden"),t.heads[b][this]=S.join(" "),t.view[b].show=!0}):r.each(w,function(){var S;S=f.isValue(t.heads[b][this])?t.heads[b][this].toArray(" "):[],S.indexOf("hidden")===-1&&S.push("hidden"),t.heads[b][this]=S.join(" "),t.view[b].show=!1}),t._createTableHeader(),t._draw()}),i.find("input[type=number]").on(e.events.inputchange,function(){var c=r(this),m=c.attr("data-index"),b=parseInt(c.val());t.view[m].size=b===0?"":b,t._createTableHeader()}),i.on(e.events.click,".js-table-inspector-save",function(){t._saveTableView(),t.openInspector(!1)}),i.on(e.events.click,".js-table-inspector-cancel",function(){t.openInspector(!1)}),i.on(e.events.click,".js-table-inspector-reset",function(){t.resetView()})},_removeInspectorEvents:function(){var t=this.inspector;t.off(e.events.click,".js-table-inspector-field-up"),t.off(e.events.click,".js-table-inspector-field-down"),t.off(e.events.click,"input[type=checkbox]"),t.off(e.events.click,".js-table-inspector-save"),t.off(e.events.click,".js-table-inspector-cancel"),t.off(e.events.click,".js-table-inspector-reset"),t.off(e.events.inputchange,"input[type=number]")},_saveTableView:function(){var t=this,i=this.element,c=this.options,m=this.view,b=i.attr("id"),w=c.viewSavePath.replace("$1",b),S=e.storage;if(c.viewSaveMode.toLowerCase()==="client")S.setItem(w,m),this._fireEvent("view-save",{target:"client",path:c.viewSavePath,view:m});else{var D={id:i.attr("id"),view:m};fetch(w,{method:"POST",body:JSON.stringify(D),header:{"Content-type":"application/json;charset=utf-8"}}).then(e.fetch.status).then(e.fetch.text).then(function(I){t._fireEvent("view-save",{target:"server",path:c.viewSavePath,view:m,post_data:D,response:I})}).catch(function(I){t._fireEvent("data-save-error",{source:c.viewSavePath,error:I,post_data:D})})}},_info:function(t,i,c){var m=this.element,b=this.options,w=this.strings,S=m.closest(".table-component"),D=f.isValue(this.wrapperInfo)?this.wrapperInfo:S.find(".table-info"),I;D.length!==0&&(i>c&&(i=c),this.items.length===0&&(t=i=c=0),I=b.tableInfoTitle||w.label_table_info,I=I.replace("$1",t),I=I.replace("$2",i),I=I.replace("$3",c),D.html(I))},_paging:function(t){var i=this.element,c=this.options,m=this.strings,b=i.closest(".table-component");this.pagesCount=Math.ceil(t/c.rows),e.pagination({length:t,rows:c.rows,current:this.currentPage,target:f.isValue(this.wrapperPagination)?this.wrapperPagination:b.find(".table-pagination"),claPagination:c.clsPagination,prevTitle:c.paginationPrevTitle||m.label_prev,nextTitle:c.paginationNextTitle||m.label_next,distance:c.paginationDistance,islandSize:c.paginationIslandSize,shortTrack:c.paginationShortTrack})},_filter:function(){var t=this,i=this.options,c;return f.isValue(this.searchString)&&t.searchString.length>=i.searchMinLength||this.filters.length>0?c=this.items.filter(function(m){var b="",w,S,D,I=0;if(t.filters.length>0){for(w=i.filtersOperator.toLowerCase()==="and",D=0;D<t.filters.length;D++)f.isNull(t.filters[D])||(I++,w=i.filtersOperator.toLowerCase()==="and"?w&&f.exec(t.filters[D],[m,t.heads]):w||f.exec(t.filters[D],[m,t.heads]));I===0&&(w=!0)}else w=!0;return t.searchFields.length>0?r.each(t.heads,function(P,V){t.searchFields.indexOf(V.name)>-1&&(b+="•"+m[P])}):b=m.join("•"),b=b.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),S=f.isValue(t.searchString)&&t.searchString.length>=i.searchMinLength?~b.indexOf(t.searchString):!0,w=w&&S,w?t._fireEvent("filter-row-accepted",{row:m}):t._fireEvent("filter-row-declined",{row:m}),w}):c=this.items,this._fireEvent("search",{search:t.searchString,items:c}),this.filteredItems=c,c},_draw:function(t){var i=this,c=this.element,m=this.options,b=this.strings,w=c.find("tbody"),S,D,I,P,V,z,K,ye,_e=parseInt(m.rows)===-1?0:m.rows*(this.currentPage-1),Ne=parseInt(m.rows)===-1?this.items.length-1:_e+m.rows-1,Ie,Se=[],Me=e.storage.getItem(m.checkStoreKey.replace("$1",c.attr("id"))),Be=m.staticView?this.viewDefault:this.view;if(w.html(""),!this.heads.length){console.warn("Heads is not defined for table ID "+c.attr("id"));return}if(Ie=this._filter(),this.currentSlice=Ie.slice(_e,Ne+1),Se=[],Ie.length>0){for(S=_e;S<=Ne;S++)if(z=Ie[S],K=[],!!f.isValue(z)){for(I=r("<tr>").addClass(m.clsBodyRow),I.data("original",z),ye=S%2===0,P=r("<td>").attr("data-label","#").attr("aria-label","#").html(S+1),i.service[0].clsColumn!==void 0&&P.addClass(i.service[0].clsColumn),P.appendTo(I),P=r("<td>").attr("data-label","CHK").attr("aria-label","CHK"),m.checkType==="checkbox"?V=r("<input type='checkbox' data-style='"+m.checkStyle+"' data-role='checkbox' name='"+(f.isValue(m.checkName)?m.checkName:"table_row_check")+"[]' value='"+Ie[S][m.checkColIndex]+"'>"):V=r("<input type='radio' data-style='"+m.checkStyle+"' data-role='radio' name='"+(f.isValue(m.checkName)?m.checkName:"table_row_check")+"' value='"+Ie[S][m.checkColIndex]+"'>"),f.isValue(Me)&&Array.isArray(Me)&&Me.indexOf(""+Ie[S][m.checkColIndex])>-1&&(V.prop("checked",!0),Se.push(z)),V.addClass("table-service-check"),this._fireEvent("check-draw",{check:V}),V.appendTo(P),i.service[1].clsColumn!==void 0&&P.addClass(i.service[1].clsColumn),P.appendTo(I),D=0;D<z.length;D++)K[D]=null;for(r.each(z,function(ze){var kt=this,St=r("<td>").attr("data-label",i.heads[ze].title).attr("aria-label",i.heads[ze].title);f.isValue(i.heads[ze].template)&&(kt=i.heads[ze].template.replace(/%VAL%/g,kt)),St.html(kt),St.addClass(m.clsBodyCell),f.isValue(i.heads[ze].clsColumn)&&St.addClass(i.heads[ze].clsColumn),f.bool(Be[ze].show)===!1&&St.addClass("hidden"),f.bool(Be[ze].show)&&St.removeClass("hidden"),St.data("original",this),K[Be[ze]["index-view"]]=St,i._fireEvent("draw-cell",{td:St,val:kt,cellIndex:ze,head:i.heads[ze],items:z}),m.cellWrapper===!0&&(kt=r("<div>").addClass("data-wrapper").addClass(m.clsCellWrapper).html(St.html()),St.html("").append(kt))}),D=0;D<z.length;D++)K[D].appendTo(I),i._fireEvent("append-cell",{td:K[D],tr:I,index:D});i._fireEvent("draw-row",{tr:I,view:i.view,heads:i.heads,items:z}),I.addClass(m.clsRow).addClass(ye?m.clsEvenRow:m.clsOddRow).appendTo(w),i._fireEvent("append-row",{tr:I})}r(this.component).find(".table-service-check-all input").prop("checked",Se.length)}else D=0,r.each(Be,function(){this.show&&D++}),m.check===!0&&D++,m.rownum===!0&&D++,I=r("<tr>").addClass(m.clsBodyRow).appendTo(w),P=r("<td>").attr("colspan",D).addClass("text-center").html(r("<span>").addClass(m.clsEmptyTableTitle).html(m.emptyTableTitle||b.label_empty)),P.appendTo(I);this._info(_e+1,Ne+1,Ie.length),this._paging(Ie.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),t!==void 0&&f.exec(t,null,c[0])},_getItemContent:function(t){var i=this.options,c=this.locale,m,b=t[this.sort.colIndex],w=this.heads[this.sort.colIndex].format,S=!f.isNull(this.heads)&&!f.isNull(this.heads[this.sort.colIndex])&&f.isValue(this.heads[this.sort.colIndex].formatMask)?this.heads[this.sort.colIndex].formatMask:"%Y-%m-%d",D=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:i.thousandSeparator,I=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:i.decimalSeparator;if(m=(""+b).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),f.isValue(m)&&f.isValue(w))switch(["number","int","float","money"].indexOf(w)!==-1&&(m=f.parseNumber(m,D,I)),w){case"date":m=S?Datetime.from(m,S,c):datetime(m);break;case"number":m=+m;break;case"int":m=parseInt(m);break;case"float":m=parseFloat(m);break;case"money":m=f.parseMoney(m);break;case"card":m=f.parseCard(m);break;case"phone":m=f.parsePhone(m);break}return m},addItem:function(t,i){if(!Array.isArray(t))return console.warn("Item is not an array and can't be added"),this;this.items.push(t),i!==!1&&this.draw()},addItems:function(t,i){if(!Array.isArray(t))return console.warn("Items is not an array and can't be added"),this;t.forEach(function(c){Array.isArray(c)&&this.items.push(c,!1)}),this.draw(),i!==!1&&this.draw()},updateItem:function(t,i,c){var m=this.items[this.index[t]],b=null;return f.isNull(m)?(console.warn("Item is undefined for update"),this):(isNaN(i)&&this.heads.forEach(function(w,S){w.name===i&&(b=S)}),f.isNull(b)?(console.warn("Item is undefined for update. Field "+i+" not found in data structure"),this):(m[b]=c,this.items[this.index[t]]=m,this))},getItem:function(t){return this.items[this.index[t]]},deleteItem:function(t,i){var c,m=[],b=f.isFunc(i);for(c=0;c<this.items.length;c++)b?f.exec(i,[this.items[c][t]])&&m.push(c):this.items[c][t]===i&&m.push(c);return this.items=f.arrayDeleteByMultipleKeys(this.items,m),this},deleteItemByName:function(t,i){var c,m,b=[],w=f.isFunc(i);for(c=0;c<this.heads.length;c++)if(this.heads[c].name===t){m=c;break}for(c=0;c<this.items.length;c++)w?f.exec(i,[this.items[c][m]])&&b.push(c):this.items[c][m]===i&&b.push(c);return this.items=f.arrayDeleteByMultipleKeys(this.items,b),this},draw:function(){return this._draw(),this},sorting:function(t){var i=this;return f.isValue(t)&&(this.sort.dir=t),this._fireEvent("sort-start",{items:this.items}),this.items.sort(function(c,m){var b=i._getItemContent(c),w=i._getItemContent(m),S=0;return b<w&&(S=i.sort.dir==="asc"?-1:1),b>w&&(S=i.sort.dir==="asc"?1:-1),S!==0&&i._fireEvent("sort-item-switch",{a:c,b:m,result:S}),S}),this._fireEvent("sort-stop",{items:this.items}),this},search:function(t){return this.searchString=t.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(t){var i=this,c=this.element,m=!1,b;this._createIndex(),t===!0&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&r.each(this.heads,function(w){var S=this;!m&&["asc","desc"].indexOf(S.sortDir)>-1&&(m=!0,i.sort.colIndex=w,i.sort.dir=S.sortDir)}),m&&(b=c.find(".sortable-column"),this._resetSortClass(b),r(b.get(i.sort.colIndex)).addClass("sort-"+i.sort.dir),this.sorting()),i.currentPage=1,i._draw()},setHeads:function(t){return this.heads=t,this},setHeadItem:function(t,i){var c,m;for(c=0;c<this.heads.length;c++)if(this.heads[c].name===t){m=c;break}return this.heads[m]=i,this},setItems:function(t){return this.items=t,this},setData:function(t){var i=this,c=this.options;return this.activity.show(function(){i.items=[],i.heads=[],i.foots=[],Array.isArray(c.head)&&(i.heads=c.head),Array.isArray(c.body)&&(i.items=c.body),i._createItemsFromJSON(t),i._rebuild(!0),i.activity.hide()}),this},loadData:function(t,i){var c=this,m=this.element,b=this.options;f.isValue(i)||(i=!0),m.html(""),f.isValue(t)?(b.source=t,this._fireEvent("data-load",{source:b.source}),c.activity.show(function(){fetch(b.source).then(e.fetch.status).then(e.fetch.json).then(function(w){c.activity.hide(),c.items=[],c.heads=[],c.foots=[],c._fireEvent("data-loaded",{source:b.source,data:w}),Array.isArray(b.head)&&(c.heads=b.head),Array.isArray(b.body)&&(c.items=b.body),c._createItemsFromJSON(w),c._rebuild(i),c._resetInspector(),c._fireEvent("data-load-end",{source:b.source,data:w})}).catch(function(w){c.activity.hide(),c._fireEvent("data-load-error",{source:b.source,error:w})})})):this._rebuild(i)},reload:function(t){this.loadData(this.options.source,t)},clear:function(){return this.items=[],this.draw()},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}return this._draw(),this}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}return this._draw(),this}},first:function(){if(this.items.length!==0)return this.currentPage=1,this._draw(),this},last:function(){if(this.items.length!==0)return this.currentPage=this.pagesCount,this._draw(),this},page:function(t){return t<=0&&(t=1),t>this.pagesCount&&(t=this.pagesCount),this.currentPage=t,this._draw(),this},addFilter:function(t,i){var c=null,m,b=f.isFunc(t);if(b!==!1){for(m=0;m<this.filters.length;m++)if(f.isNull(this.filters[m])){c=m,this.filters[m]=b;break}return f.isNull(c)&&(this.filters.push(b),c=this.filters.length-1),i===!0&&(this.currentPage=1,this.draw()),c}},removeFilter:function(t,i){return this.filters[t]=null,i===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(t){return this.filters=[],t===!0&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){var t=this.element,i=this.options,c=e.storage.getItem(i.checkStoreKey.replace("$1",t.attr("id"))),m=[];return f.isValue(c)?(r.each(this.items,function(){c.indexOf(""+this[i.checkColIndex])!==-1&&m.push(this)}),m):[]},getStoredKeys:function(){var t=this.element,i=this.options;return e.storage.getItem(i.checkStoreKey.replace("$1",t.attr("id")),[])},clearSelected:function(t){var i=this.element,c=this.options;e.storage.setItem(c.checkStoreKey.replace("$1",i.attr("id")),[]),i.find("table-service-check-all input").prop("checked",!1),t===!0&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(t){var i=this.inspector;t?i.show(0,function(){i.css({top:(r(globalThis).height()-i.outerHeight(!0))/2+pageYOffset,left:(r(globalThis).width()-i.outerWidth(!0))/2+pageXOffset}).data("open",!0)}):i.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(t,i,c,m){var b=e.export,w=this,S=this.options,D=document.createElement("table"),I=r("<thead>").appendTo(D),P=r("<tbody>").appendTo(D),V,z,K,ye=[],_e,Ne,Ie,Se,Me;if(typeof b.tableToCSV=="function"){for(i=f.isValue(i)?i.toLowerCase():"all-filtered",c=f.isValue(c)?c:f.elementId("table")+"-export.csv",Ne=r("<tr>"),K=this.heads,z=0;z<K.length;z++)ye[z]=null;for(r.each(K,function(Be){var ze=this;f.bool(w.view[Be].show)!==!1&&(Ie=r("<th>"),f.isValue(ze.title)&&Ie.html(ze.title),ye[w.view[Be]["index-view"]]=Ie)}),z=0;z<K.length;z++)f.isValue(ye[z])&&ye[z].appendTo(Ne);for(Ne.appendTo(I),i==="checked"?(_e=this.getSelectedItems(),Se=0,Me=_e.length-1):i==="view"?(_e=this._filter(),Se=parseInt(S.rows)===-1?0:S.rows*(this.currentPage-1),Me=parseInt(S.rows)===-1?_e.length-1:Se+S.rows-1):i==="all"?(_e=this.items,Se=0,Me=_e.length-1):(_e=this._filter(),Se=0,Me=_e.length-1),V=Se;V<=Me;V++)if(f.isValue(_e[V])){for(Ne=r("<tr>"),K=_e[V],z=0;z<K.length;z++)ye[z]=null;for(r.each(K,function(Be){f.bool(w.view[Be].show)!==!1&&(Ie=r("<td>").html(this),ye[w.view[Be]["index-view"]]=Ie)}),z=0;z<K.length;z++)f.isValue(ye[z])&&ye[z].appendTo(Ne);Ne.appendTo(P)}b.tableToCSV(D,c,m),D.remove()}},changeAttribute:function(t){var i=this,c=this.element,m=this.options;function b(){m.check=f.bool(c.attr("data-check")),i._service(),i._createTableHeader(),i._draw()}function w(){m.rownum=f.bool(c.attr("data-rownum")),i._service(),i._createTableHeader(),i._draw()}switch(t){case"data-check":b();break;case"data-rownum":w();break}},destroy:function(){var t=this.element,i=t.closest(".table-component"),c=i.find("input"),m=i.find("select");if(c.data("input").destroy(),m.data("select").destroy(),r(globalThis).off(e.events.resize,{ns:this.id}),t.off(e.events.click,".sortable-column"),t.off(e.events.click,".table-service-check input"),t.off(e.events.click,".table-service-check-all input"),c.off(e.events.inputchange),f.isValue(this.wrapperSearch)){var b=this.wrapperSearch.find("input");b.length>0&&b.off(e.events.inputchange)}return i.off(e.events.click,".pagination .page-link"),f.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),t.off(e.events.click,".js-table-crud-button"),this._removeInspectorEvents(),t}})})(Metro,Dom),function(e,r){var f=e.utils,o={wheelStep:20,materialtabsDeferred:0,deep:!1,fixedTabs:!1,duration:300,appBar:!1,clsComponent:"",clsTabs:"",clsTab:"",clsTabActive:"",clsMarker:"",onBeforeTabOpen:e.noop_true,onTabOpen:e.noop,onTabsScroll:e.noop,onTabsCreate:e.noop};e.materialTabsSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroMaterialTabsSetup<"u"&&e.materialTabsSetup(globalThis.metroMaterialTabsSetup),e.Component("material-tabs",{init:function(t,i){return this._super(i,t,o,{marker:null,scroll:0,scrollDir:"left"}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("tabs-create",{element:t})},_createStructure:function(){var t=this.element,i=this.options,c=t.find("li"),m=t.find("li.active"),b=r("<div>").addClass("tabs-material-wrapper").addClass(i.clsComponent).insertBefore(t);i.appBar===!0&&b.addClass("app-bar-present"),i.appBar==="more"&&b.addClass("app-bar-present-more"),t.appendTo(b),t.addClass("tabs-material").addClass(i.clsTabs),c.addClass(i.clsTab),i.deep===!0&&t.addClass("deep"),i.fixedTabs===!0&&t.addClass("fixed-tabs"),this.marker=t.find(".tab-marker"),this.marker.length===0&&(this.marker=r("<span>").addClass("tab-marker").addClass(i.clsMarker).appendTo(t)),this.openTab(m.length===0?c[0]:m[0])},_createEvents:function(){var t=this,i=this.element,c=this.options;i.on(e.events.click,"li",function(m){var b=r(this),w=i.find("li.active"),S=b.index()>w.index(),D=b.children("a").attr("href");if(m.preventDefault(),f.isValue(D)&&D[0]==="#"){if(b.hasClass("active")||b.hasClass("disabled")||f.exec(c.onBeforeTabOpen,[b,D,S],this)===!1)return;t.openTab(b,S)}}),i.on(e.events.scroll,function(){var m=t.scroll;t.scrollDir=t.scroll<i[0].scrollLeft?"left":"right",t.scroll=i[0].scrollLeft,t._fireEvent("tabs-scroll",{scrollLeft:i[0].scrollLeft,oldScroll:m,scrollDir:t.scrollDir})}),i.on(e.events.mousewheel,function(m){if(m.deltaY!==void 0){var b,w=r(this),S=m.deltaY>0?-1:1,D=c.wheelStep;b=w.scrollLeft()-S*D,w.scrollLeft(b)}},{passive:!0})},openTab:function(t,i){var c=this.element,m=this.options,b=c.find("li"),w=52,S,D,I,P,V,z,K;t=r(t),r.each(b,function(){var ye=r(this).find("a").attr("href");f.isValue(ye)&&ye[0]==="#"&&ye.length>1&&r(ye).hide()}),D=c.width(),z=c.scrollLeft(),V=t.position().left,I=t.width(),S=V+I,b.removeClass("active").removeClass(m.clsTabActive),t.addClass("active").addClass(m.clsTabActive),S+w>D+z?K=z+w*2:V<z?K=V-w*2:K=z,c.animate({draw:{scrollLeft:K},dur:m.duration}),this.marker.animate({draw:{left:V,width:I},dur:m.duration}),P=t.find("a").attr("href"),f.isValue(P)&&P[0]==="#"&&P.length>1&&r(P).show(),this._fireEvent("tab-open",{tab:t[0],target:P,tab_next:i})},open:function(t){var i=this.element,c=i.find("li"),m=i.find("li.active"),b=c.eq(t-1),w=c.index(b)>c.index(m);this.openTab(b,w)},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,"li"),t.off(e.events.scroll),t}})}(Metro,Dom),function(e,r){let f={autocomplete:null,autocompleteUnique:!0,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,label:"",size:"normal",taginputDeferred:0,static:!1,clearButton:!0,clearButtonIcon:"❌",randomColor:!1,maxTags:0,tagSeparator:",",tagTrigger:"Enter, Space, Comma",backspace:!0,clsComponent:"",clsInput:"",clsClearButton:"",clsTag:"",clsTagTitle:"",clsTagAction:"",clsLabel:"",onBeforeTagAdd:e.noop_true,onTagAdd:e.noop,onBeforeTagRemove:e.noop_true,onTagRemove:e.noop,onTag:e.noop,onClear:e.noop,onTagTrigger:e.noop,onTagInputCreate:e.noop};e.tagInputSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroTagInputSetup<"u"&&e.tagInputSetup(globalThis.metroTagInputSetup),e.Component("tag-input",{init:function(o,t){return this._super(t,o,f,{values:[],triggers:[],autocomplete:[]}),this},_create:function(){this.triggers=(""+this.options.tagTrigger).toArray(","),(this.triggers.includes("Space")||this.triggers.includes("Spacebar"))&&(this.triggers.push(" "),this.triggers.push("Spacebar")),this.triggers.includes("Comma")&&this.triggers.push(","),this._createStructure(),this._createEvents(),this._fireEvent("tag-input-create",{element:this.element})},_createStructure:function(){let o=this,t=this.element,i=this.options,c,m,b,w=t.val().trim();if(c=t.wrap("<div>").addClass("tag-input "+t[0].className).addClass(i.clsComponent),c.addClass("input-"+i.size),t[0].className="",t.addClass("original-input"),m=r("<input type='text'>").addClass("input-wrapper").addClass(i.clsInput).attr("size",1),m.appendTo(c),i.clearButton!==!1&&!t[0].readOnly&&(c.addClass("padding-for-clear"),b=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon),b.appendTo(c)),e.utils.isValue(w)&&r.each(w.toArray(i.tagSeparator),function(){o._addTag(this)}),i.label){let S=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(c);if(t.attr("id"))S.attr("for",t.attr("id"));else{let D=Hooks.useId(t[0]);S.attr("for",D),t.attr("id",D)}t.attr("dir")==="rtl"&&S.addClass("rtl")}if(t.is(":disabled")?this.disable():this.enable(),(i.static===!0||t.attr("readonly")!==void 0)&&c.addClass("static-mode"),(!e.utils.isNull(i.autocomplete)||!e.utils.isNull(i.autocompleteUrl))&&r("<div>").addClass("autocomplete-list").css({maxHeight:i.autocompleteListHeight,display:"none"}).appendTo(c),e.utils.isValue(i.autocomplete)){let S=e.utils.isObject(i.autocomplete);S!==!1?this.autocomplete=S:this.autocomplete=i.autocomplete.toArray(i.autocompleteDivider)}e.utils.isValue(i.autocompleteUrl)&&fetch(i.autocompleteUrl,{method:i.autocompleteUrlMethod}).then(function(S){return S.text()}).then(function(S){var D=[];try{D=JSON.parse(S),i.autocompleteUrlKey&&(D=D[i.autocompleteUrlKey])}catch{D=S.split(`
`)}o.autocomplete=o.autocomplete.concat(D)})},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.closest(".tag-input"),m=c.find(".input-wrapper"),b=c.find(".autocomplete-list");m.on(e.events.focus,function(){c.addClass("focused")}),m.on(e.events.blur,function(){c.removeClass("focused")}),m.on(e.events.inputchange,function(){m.attr("size",Math.ceil(m.val().length/2)+2)}),m.on(e.events.keydown,function(w){var S=m.val().trim(),D=w.key;if(D==="Enter"&&w.preventDefault(),i.backspace===!0&&D==="Backspace"&&S.length===0){o.values.length>0&&(o.values.splice(-1,1),t.siblings(".tag").last().remove(),t.val(o.values.join(i.tagSeparator)));return}S!==""&&o.triggers.includes(D)&&(o._fireEvent("tag-trigger",{key:D}),m.val(""),o._addTag(S),m.attr("size",1))}),m.on(e.events.keyup,function(w){let S=m.val(),D=w.key;o.triggers.includes(D)&&S[S.length-1]===D&&m.val(S.slice(0,-1))}),c.on(e.events.click,".tag .action",function(){let w=r(this).closest(".tag");o._delTag(w)}),c.on(e.events.click,function(){m.focus()}),c.on(e.events.click,".input-clear-button",function(){let w=t.val();o.clear(),o._fireEvent("clear",{val:w})}),m.on(e.events.input,function(){let w=this.value.toLowerCase();o._drawAutocompleteList(w)}),c.on(e.events.click,".autocomplete-list .item",function(){let w=r(this).attr("data-autocomplete-value");m.val(""),o._addTag(w),m.attr("size",1),b.css({display:"none"}),o._fireEvent("autocomplete-select",{value:w})})},_drawAutocompleteList:function(o){let t=this,i=this.element,c=this.options,m=i.closest(".tag-input"),b=m.find(".input-wrapper"),w=m.find(".autocomplete-list"),S;w.length!==0&&(w.html(""),S=this.autocomplete.filter(function(D){return D.toLowerCase().indexOf(o)>-1}),w.css({display:S.length>0?"block":"none",left:b.position().left}),r.each(S,function(){if(c.autocompleteUnique&&t.values.indexOf(this)!==-1)return;let D=this,I=D.toLowerCase().indexOf(o),P,V=r("<div>").addClass("item").attr("data-autocomplete-value",D);I===0?P="<strong>"+D.substr(0,o.length)+"</strong>"+D.substr(o.length):P=D.substr(0,I)+"<strong>"+D.substr(I,o.length)+"</strong>"+D.substr(I+o.length),V.html(P).appendTo(w),t._fireEvent("draw-autocomplete-item",{item:V})}))},_addTag:function(o){let t=this.element,i=this.options,c=t.closest(".tag-input"),m=c.find(".input-wrapper"),b,w,S,D,I;if(c.hasClass("input-large")?D="large":c.hasClass("input-small")&&(D="small"),!(i.maxTags>0&&this.values.length===i.maxTags)&&(""+o).trim()!==""&&e.utils.exec(i.onBeforeTagAdd,[o,this.values],t[0])){if(b=r("<span>").addClass("tag").addClass(D).addClass(i.clsTag).insertBefore(m),b.data("value",o),I=i.static||c.hasClass("static-mode")||t.readonly||t.disabled||c.hasClass("disabled"),I&&b.addClass("static"),w=r("<span>").addClass("title").addClass(i.clsTagTitle).html(o),S=r("<span>").addClass("action").addClass(i.clsTagAction).html("&times;"),w.appendTo(b),S.appendTo(b),i.randomColor===!0){let P=Object.values(Object.assign({},Farbe.StandardColors,Farbe.MetroColors)),V,z,K;V=P[r.random(0,P.length-1)],K=Farbe.Routines.darken(V,15),z=Farbe.Routines.isDark(V)?"#ffffff":"#000000",b.css({backgroundColor:V,color:z}),S.css({backgroundColor:K,color:z})}this.values.push(o),t.val(this.values.join(i.tagSeparator)),this._fireEvent("tag-add",{tag:b[0],val:o,values:this.values}),this._fireEvent("tag",{tag:b[0],val:o,values:this.values})}},_delTag:function(o){let t=this.element,i=this.options,c=o.data("value");e.utils.exec(i.onBeforeTagRemove,[o,c,this.values],t[0])&&(e.utils.arrayDelete(this.values,c),t.val(this.values.join(i.tagSeparator)),this._fireEvent("tag-remove",{tag:o[0],val:c,values:this.values}),this._fireEvent("tag",{tag:o[0],val:c,values:this.values}),o.remove())},tags:function(){return this.values},val:function(o){let t=this,i=this.element,c=this.options,m=i.closest(".tag-input"),b=[];return e.utils.isValue(o)?(this.values=[],m.find(".tag").remove(),typeof o=="string"?b=(""+o).toArray(c.tagSeparator):Array.isArray(o)&&(b=o),r.each(b,function(){t._addTag(this)}),this):this.tags()},append:function(o){let t=this,i=this.options,c=this.values;return typeof o=="string"?c=(""+o).toArray(i.tagSeparator):Array.isArray(o)&&(c=o),r.each(c,function(){t._addTag(this)}),this},clear:function(){let o=this.element,t=o.closest(".tag-input");return this.values=[],o.val("").trigger("change"),t.find(".tag").remove(),this},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleStatic:function(o){let t=this.element.closest(".tag-input"),i;e.utils.isValue(o)?i=e.utils.bool(o):i=!t.hasClass("static-mode"),i?t.addClass("static-mode"):t.removeClass("static-mode")},setAutocompleteList:function(o){let t=e.utils.isObject(o);t!==!1?this.autocomplete=t:typeof o=="string"&&(this.autocomplete=o.toArray(this.options.autocompleteDivider))},changeAttribute:function(o){let t=this,i=this.element,c=this.options,m=function(){var b=i.attr("value").trim();t.clear(),e.utils.isValue(b)&&t.val(b.toArray(c.tagSeparator))};switch(o){case"value":m();break;case"disabled":this.toggleState();break;case"static":this.toggleStatic();break}},destroy:function(){let o=this.element,t=this.options,i=o.closest(".tag-input"),c=i.find(".input-wrapper");c.off(e.events.focus),c.off(e.events.blur),c.off(e.events.keydown),i.off(e.events.click,".tag .action"),i.off(e.events.click),t.label&&i.prev("label").remove(),i.remove()}}),r(document).on(e.events.click,function(){r(".tag-input .autocomplete-list").hide()})}(Metro,Dom),function(e,r){let f={onTaskClick:e.noop,onMyObjectCreate:e.noop};e.taskBarSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroTaskBarSetup<"u"&&e.taskBarSetup(globalThis.metroTaskBarSetup),e.Component("task-bar",{init:function(o,t){return this._super(t,o,f,{tasks:[],systemTray:[],widgets:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("task-bar-create")},_createStructure:function(){let o=this.element;this.options,o.addClass("task-bar"),o.append(r("<div>").addClass("widgets")),o.append(r("<div>").addClass("tasks")),o.append(r("<div>").addClass("system-tray"))},_createEvents:function(){let o=this,t=this.element;this.options,t.on(e.events.click,".task",function(){let i=o.tasks[r(this).index()];for(let c of o.tasks)c.active=!1;i.active=!0,o._renderTasks(),o._fireEvent("task-click",{task:i,element:i.ref})}),t.on(e.events.click,".system-tray-item",function(){let i=o.systemTray[r(this).index()];o._fireEvent("system-tray-click",{item:i})}),t.on(e.events.click,".widget",function(){let i=o.widgets[r(this).index()];o._fireEvent("widget-click",{item:i})})},_renderTasks:function(){let o=this.element;this.options;let t=o.find(".tasks").clear();for(let i of this.tasks){let c=r("<div>").addClass("task").attr("title",i.title).html(i.icon);i.active&&c.addClass("active"),t.append(c)}},_renderSystemTray:function(){let o=this.element;this.options;let t=o.find(".system-tray").clear();for(let i of this.systemTray)t.append(r(i).addClass("system-tray-item"))},_renderWidgets:function(){let o=this.element;this.options;let t=o.find(".widgets").clear();for(let i of this.widgets)t.append(r(i).addClass("widget"))},addTask:function(o,t=!1){if(t)for(let i of this.tasks)i.active=!1;this.tasks.push(T(k({},o),{active:t})),this._renderTasks()},removeTask:function(o){this.tasks=this.tasks.filter(t=>t.ref!==o),this._renderTasks()},activateTask:function(o){let t=this.tasks.filter(c=>c.ref===o);if(t.length===0)return;let i=t[0];for(let c of this.tasks)c.active=!1;i.active=!0,this._renderTasks()},addToSystemTray:function(o){this.systemTray.push(o),this._renderSystemTray()},addWidget:function(o){this.widgets.push(o),this._renderWidgets()},changeAttribute:function(o,t){},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o=function(i,c,m){var b,w="<%(.+?)%>",S=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,D=`with(obj) { var r=[];
`,I=0,P,V,z=function(K,ye){return ye?D+=K.match(S)?K+`
`:"r.push("+K+`);
`:D+=K!==""?'r.push("'+K.replace(/"/g,'\\"')+`");
`:"",z};for(f.isValue(m)&&(r.hasProp(m,"beginToken")&&(w=w.replace("<%",m.beginToken)),r.hasProp(m,"endToken")&&(w=w.replace("%>",m.endToken))),b=new RegExp(w,"g"),V=b.exec(i);V;)z(i.slice(I,V.index))(V[1],!0),I=V.index+V[0].length,V=b.exec(i);z(i.substr(I,i.length-I)),D=(D+'return r.join(""); }').replace(/[\r\t\n]/g," ");try{P=new Function("obj",D).apply(c,[c])}catch(K){console.error("'"+K.message+"'",` in 

Code:
`,D,`
`)}return P},t={templateData:null,onTemplateCompile:e.noop,onTemplateCreate:e.noop};e.templateSetup=function(i){t=r.extend({},t,i)},typeof globalThis.metroTemplateSetup<"u"&&e.templateSetup(globalThis.metroTemplateSetup),e.Component("template",{init:function(i,c){return this._super(c,i,t,{template:null,data:{}}),this},_compile:function(){var i=this.element,c,m;c=this.template.replace(/(&lt;%)/gm,"<%").replace(/(%&gt;)/gm,"%>").replace(/(&lt;)/gm,"<").replace(/(&gt;)/gm,">"),m=o(c,this.data),i.html(m),this._fireEvent("template-compile",{template:c,compiled:m,element:i})},_create:function(){var i=this.element,c=this.options;this.template=i.html(),this.data=f.isObject(c.templateData)||{},this._compile(),this._fireEvent("template-create",{element:i})},buildWith:function(i){var c=f.isObject(i);c&&(this.data=c,this._compile())},changeAttribute:function(i,c){i==="data-template-data"&&(this.options.templateData=c,this.data=f.isObject(c)||{},this._compile())},destroy:function(){return this.element}}),e.template=o}(Metro,Dom),function(e,r){let f={label:"",textareaDeferred:0,charsCounter:null,charsCounterTemplate:"$1",defaultValue:"",prepend:"",append:"",clearButton:!0,clearButtonIcon:"❌",autoSize:!0,maxHeight:0,clsPrepend:"",clsAppend:"",clsComponent:"",clsTextarea:"",clsLabel:"",onChange:e.noop,onTextareaCreate:e.noop};e.textareaSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroTextareaSetup<"u"&&e.textareaSetup(globalThis.metroTextareaSetup),e.Component("textarea",{init:function(o,t){return this._super(t,o,f),this},_create:function(){let o=this.element;this._createStructure(),this._createEvents(),this._fireEvent("textarea-create",{element:o})},_createStructure:function(){let o=this,t=this.element,i=this.elem,c=this.options,m=r("<div>").addClass("textarea "+t[0].className),b=r("<textarea>").addClass("fake-textarea"),w;if(m.insertBefore(t),t.appendTo(m),b.appendTo(m),c.clearButton!==!1&&!t[0].readOnly&&(w=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(c.clearButtonIcon),w.appendTo(m)),t.attr("dir")==="rtl"&&m.addClass("rtl").attr("dir","rtl"),c.prepend!==""&&r("<div>").html(c.prepend).addClass("prepend").addClass(c.clsPrepend).appendTo(m),c.append!==""){let S=r("<div>").html(c.append);S.addClass("append").addClass(c.clsAppend).appendTo(m),w.css({right:S.outerWidth()+4})}if(i.className="",e.utils.isValue(c.defaultValue)&&t.val().trim()===""&&t.val(c.defaultValue),m.addClass(c.clsComponent),t.addClass(c.clsTextarea),c.label){let S=r("<label>").addClass("label-for-input").addClass(c.clsLabel).html(c.label).insertBefore(m);if(t.attr("id"))S.attr("for",t.attr("id"));else{let D=Hooks.useId(t[0]);S.attr("for",D),t.attr("id",D)}t.attr("dir")==="rtl"&&S.addClass("rtl")}t.is(":disabled")?this.disable():this.enable(),b.val(t.val()),c.autoSize===!0&&(m.addClass("autosize no-scroll-vertical"),setTimeout(function(){o.resize()},100)),this.component=m},_createEvents:function(){let o=this,t=this.element,i=this.options,c=t.closest(".textarea"),m=c.find(".fake-textarea"),b=r(i.charsCounter);c.on(e.events.click,".input-clear-button",function(w){t.val(e.utils.isValue(i.defaultValue)?i.defaultValue:"").trigger("change").trigger("keyup").focus(),w.preventDefault(),w.stopPropagation()}),i.autoSize&&t.on(e.events.inputchange+" "+e.events.keyup,function(){m.val(this.value),o.resize()}),t.on(e.events.blur,function(){c.removeClass("focused")}),t.on(e.events.focus,function(){c.addClass("focused")}),t.on(e.events.keyup,function(){e.utils.isValue(i.charsCounter)&&b.length>0&&(b[0].tagName==="INPUT"?b.val(o.length()):b.html(i.charsCounterTemplate.replace("$1",o.length()))),o._fireEvent("change",{val:t.val(),length:o.length()})})},resize:function(){let o=this.element,t=this.options,i=o.closest(".textarea"),c=i.find(".fake-textarea"),m=c[0].scrollHeight;if(t.maxHeight&&m>=t.maxHeight){i.removeClass("no-scroll-vertical");return}t.maxHeight&&m<t.maxHeight&&i.addClass("no-scroll-vertical"),c[0].style.cssText="height:auto;",c[0].style.cssText="height:"+c[0].scrollHeight+"px",o[0].style.cssText="height:"+c[0].scrollHeight+"px"},clear:function(){this.element.val("").trigger("change").trigger("keyup").focus()},toDefault:function(){this.element.val(e.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"").trigger("change").trigger("keyup").focus()},length:function(){var o=this.elem.value.split("");return o.length},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(o){switch(o){case"disabled":this.toggleState();break}},destroy:function(){let o=this.element,t=this.options;o.closest(".textarea").off(e.events.click,".input-clear-button"),t.autoSize&&o.off(e.events.inputchange+" "+e.events.keyup),o.off(e.events.blur),o.off(e.events.focus),o.off(e.events.keyup),t.label&&this.component.prev("label").remove(),this.component.remove()}})}(Metro,Dom),function(e,r){let f={state:e.theme.LIGHT,target:"html",saveState:!0,saveStateKey:"THEME:SWITCHER",clsDark:"",darkSymbol:"🌙",lightSymbol:"🌞",mode:"switch",onThemeSwitcherCreate:e.noop,onChangeTheme:e.noop};e.themeSwitcherSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroThemeSwitcherSetup<"u"&&e.themeSwitcherSetup(globalThis.metroThemeSwitcherSetup),e.Component("theme-switcher",{init:function(o,t){return this._super(t,o,f,{container:null,state:null,target:null}),this.state=this.options.state,this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("theme-switcher-create")},_createStructure:function(){let o=this.element,t=this.options,i="light";t.saveState&&(i=e.storage.getItem(t.saveStateKey,!1)),o.attr("data-light-symbol",t.lightSymbol),o.attr("data-dark-symbol",t.darkSymbol),e.makePlugin(o,"switch"),this.container=o.wrap(r("<label>").addClass("theme-switcher")),this.container.addClass(`mode-${t.mode}`),this.target=r(t.target),this.target.length===0&&(this.target=r("html")),this._setState(t.saveState?i:t.state===e.theme.DARK),this._updateState()},_createEvents:function(){this.container.on("click",()=>{this._updateState()}),this._observeClass()},_observeClass:function(){new MutationObserver(o=>{o.forEach(t=>{t.type==="attributes"&&t.attributeName==="class"&&(this.elem.checked=this.target[0].classList.contains("dark-side"))})}).observe(this.target[0],{attributes:!0,attributeFilter:["class"]})},_setState:function(o=!1){this.elem.checked=o},_updateState:function(){let o=r.meta("metro:theme").length>0,t=this.options,i=this.elem,c=this.target;o||(i.checked?c.addClass("dark-side").addClass(this.options.clsDark):c.removeClass("dark-side").addClass(this.options.clsDark),t.saveState&&e.storage.setItem(t.saveStateKey,i.checked),this._fireEvent("change-theme",{state:i.checked}))},val:function(o){if(typeof o===void 0)return this.elem.checked?e.theme.DARK:e.theme.LIGHT;this._setState(typeof o=="boolean"?o:o===e.theme.DARK),this._updateState()},changeAttribute:function(o,t){o==="data-target"&&(this.target=r(t),this._updateState())},destroy:function(){this.container.remove()}})}(Metro,Dom),function(e,r){var f=e.utils,o=["slide-up","slide-down","slide-left","slide-right","fade","zoom","swirl","switch"],t={tileDeferred:0,size:"medium",cover:"",coverPosition:"center",effect:"",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onTileClick:e.noop,onTileCreate:e.noop};e.tileSetup=function(i){t=r.extend({},t,i)},typeof globalThis.metroTileSetup<"u"&&e.tileSetup(globalThis.metroTileSetup),e.Component("tile",{init:function(i,c){return this._super(c,i,t,{effectInterval:!1,images:[],slides:[],currentSlide:-1,unload:!1}),this},_create:function(){var i=this.element;this._createTile(),this._createEvents(),this._fireEvent("tile-create",{element:i})},_createTile:function(){function i(K,ye,_e){setTimeout(function(){K.fadeOut(500,function(){K.css("background-image","url("+ye+")"),K.fadeIn()})},_e*300)}var c=this,m=this.element,b=this.options,w=m.find(".slide"),S=m.find(".slide-front, .slide-back");if(m.addClass("tile-"+b.size),b.effect.indexOf("hover-")>-1&&(m.addClass("effect-"+b.effect),r.each(S,function(){var K=r(this);K.data("cover")!==void 0&&c._setCover(K,K.data("cover"),K.data("cover-position"))})),o.includes(b.effect)&&w.length>1&&(r.each(w,function(K){var ye=r(this);c.slides.push(this),ye.data("cover")!==void 0&&c._setCover(ye,ye.data("cover"),ye.data("cover-position")),K>0&&(["slide-up","slide-down"].indexOf(b.effect)>-1&&ye.css("top","100%"),["slide-left","slide-right"].indexOf(b.effect)>-1&&ye.css("left","100%"),["fade","zoom","swirl","switch"].indexOf(b.effect)>-1&&ye.css("opacity",0))}),this.currentSlide=0,this._runEffects()),b.cover!==""&&this._setCover(m,b.cover),b.effect==="image-set"){m.addClass("image-set"),r.each(m.children("img"),function(){c.images.push(this),r(this).remove()});for(var D=this.images.slice(),I=0;I<5;I++){var P=r.random(0,D.length-1),V=r("<div>").addClass("img -js-img-"+I).css("background-image","url("+D[P].src+")");m.prepend(V),D.splice(P,1)}var z=[0,1,4,3,2];setInterval(function(){var K=c.images.slice(),ye=Farbe.Routines.randomColor();m.css("background-color",ye);for(var _e=0;_e<z.length;_e++){var Ne=r.random(0,K.length-1),Ie=m.find(".-js-img-"+z[_e]);i(Ie,K[Ne].src,_e),K.splice(Ne,1)}z=z.reverse()},5e3)}},_runEffects:function(){var i=this,c=this.options;this.effectInterval===!1&&(this.effectInterval=setInterval(function(){var m,b;m=r(i.slides[i.currentSlide]),i.currentSlide++,i.currentSlide===i.slides.length&&(i.currentSlide=0),b=i.slides[i.currentSlide],o.includes(c.effect)&&e.Effects[Str.camelCase(c.effect)](r(m)[0],r(b)[0],{duration:c.effectDuration})},c.effectInterval))},_stopEffects:function(){r.clearInterval(this.effectInterval),this.effectInterval=!1},_setCover:function(i,c,m){f.isValue(m)||(m=this.options.coverPosition),i.css({backgroundImage:"url("+c+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:m})},_createEvents:function(){var i=this,c=this.element,m=this.options;c.on(e.events.startAll,function(b){var w=r(this),S={w:c.width(),h:c.height()},D=f.pageXY(b).x-w.offset().left,I=f.pageXY(b).y-w.offset().top,P;f.isRightMouse(b)===!1&&(D<S.w*1/3&&(I<S.h*1/2||I>S.h*1/2)?P="left":D>S.w*2/3&&(I<S.h*1/2||I>S.h*1/2)?P="right":D>S.w*1/3&&D<S.w*2/3&&I>S.h/2?P="bottom":P="top",m.canTransform===!0&&w.addClass("transform-"+P),m.target!==null&&setTimeout(function(){document.location.href=m.target},100),i._fireEvent("tile-click",{side:P}))}),c.on([e.events.stopAll,e.events.leave].join(" "),function(){r(this).removeClass("transform-left").removeClass("transform-right").removeClass("transform-top").removeClass("transform-bottom")})},changeAttribute:function(){},destroy:function(){var i=this.element;return i.off(e.events.startAll),i.off([e.events.stopAll,e.events.leave].join(" ")),i}})}(Metro,Dom),function(e,r){var f=e.utils,o={label:"",timepickerDeferred:0,hoursStep:1,minutesStep:1,secondsStep:1,value:null,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsHours:"",clsMinutes:"",clsSeconds:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"✓",cancelButtonIcon:"𐄂",onSet:e.noop,onOpen:e.noop,onClose:e.noop,onScroll:e.noop,onTimePickerCreate:e.noop};e.timePickerSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroTimePickerSetup<"u"&&e.timePickerSetup(globalThis.metroTimePickerSetup),e.Component("time-picker",{init:function(t,i){return this._super(i,t,o,{picker:null,isOpen:!1,value:[],listTimer:{hours:null,minutes:null,seconds:null},id:f.elementId("time-picker")}),this},_create:function(){var t=this.element,i=this.options,c;for(i.distance<1&&(i.distance=1),i.hoursStep<1&&(i.hoursStep=1),i.hoursStep>23&&(i.hoursStep=23),i.minutesStep<1&&(i.minutesStep=1),i.minutesStep>59&&(i.minutesStep=59),i.secondsStep<1&&(i.secondsStep=1),i.secondsStep>59&&(i.secondsStep=59),t.val()===""&&!f.isValue(i.value)&&(i.value=datetime().format("HH:mm:ss")),this.value=(t.val()!==""?t.val():""+i.value).toArray(":"),c=0;c<3;c++)this.value[c]===void 0||this.value[c]===null?this.value[c]=0:this.value[c]=parseInt(this.value[c]);this._normalizeValue(),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("time-picker-create",{element:t})},_normalizeValue:function(){var t=this.options;t.hoursStep>1&&(this.value[0]=f.nearest(this.value[0],t.hoursStep,!0)),t.minutesStep>1&&(this.value[1]=f.nearest(this.value[1],t.minutesStep,!0)),t.minutesStep>1&&(this.value[2]=f.nearest(this.value[2],t.secondsStep,!0))},_createStructure:function(){var t=this.element,i=this.options,c=this.strings,m,b,w,S,D,I,P,V,z,K=f.elementId("timepicker");if(m=r("<div>").addClass("wheel-picker time-picker "+t[0].className).addClass(i.clsPicker),m.attr("id")||m.attr("id",K),m.insertBefore(t),t.attr("readonly",!0).appendTo(m),i.label){var ye=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(m);t.attr("id")&&ye.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&ye.addClass("rtl")}if(I=r("<div>").addClass("time-wrapper").appendTo(m),i.hours===!0&&(b=r("<div>").attr("data-title",c.label_hours).addClass("hours").addClass(i.clsPart).addClass(i.clsHours).appendTo(I)),i.minutes===!0&&(w=r("<div>").attr("data-title",c.label_minutes).addClass("minutes").addClass(i.clsPart).addClass(i.clsMinutes).appendTo(I)),i.seconds===!0&&(S=r("<div>").attr("data-title",c.label_seconds).addClass("seconds").addClass(i.clsPart).addClass(i.clsSeconds).appendTo(I)),P=r("<div>").addClass("select-wrapper").appendTo(m),V=r("<div>").addClass("select-block").appendTo(P),i.hours===!0){for(b=r("<ul>").addClass("sel-hours").appendTo(V),D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(b);for(D=0;D<24;D=D+i.hoursStep)r("<li>").addClass("js-hours-"+D).html(Str.lpad(D,"0",2)).data("value",D).appendTo(b);for(D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(b)}if(i.minutes===!0){for(w=r("<ul>").addClass("sel-minutes").appendTo(V),D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(w);for(D=0;D<60;D=D+i.minutesStep)r("<li>").addClass("js-minutes-"+D).html(Str.lpad(D,"0",2)).data("value",D).appendTo(w);for(D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(w)}if(i.seconds===!0){for(S=r("<ul>").addClass("sel-seconds").appendTo(V),D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(S);for(D=0;D<60;D=D+i.secondsStep)r("<li>").addClass("js-seconds-"+D).html(Str.lpad(D,"0",2)).data("value",D).appendTo(S);for(D=0;D<i.distance;D++)r("<li>").html("&nbsp;").data("value",-1).appendTo(S)}if(V.height((i.distance*2+1)*40),z=r("<div>").addClass("action-block").appendTo(P),r("<button>").attr("type","button").addClass("button action-now").addClass(i.clsButton).addClass(i.clsTodayButton).html(`<span class="caption">${this.strings.label_now}</span>`).appendTo(z),r("<button>").attr("type","button").addClass("button action-ok").addClass(i.clsButton).addClass(i.clsOkButton).html(`<span class="icon">${i.okButtonIcon}</span>`).appendTo(z),r("<button>").attr("type","button").addClass("button action-cancel").addClass(i.clsButton).addClass(i.clsCancelButton).html(`<span class="icon">${i.cancelButtonIcon}</span>`).appendTo(z),t[0].className="",i.copyInlineStyles===!0)for(D=0;D<t[0].style.length;D++)m.css(t[0].style[D],t.css(t[0].style[D]));i.showLabels===!0&&m.addClass("show-labels"),t.prop("disabled")&&m.addClass("disabled"),this.picker=m},_createEvents:function(){var t=this,i=this.options,c=this.picker;c.on("touchstart",".select-block ul",function(b){if(!b.changedTouches){var w=this,S=f.pageXY(b).y;r(document).on("touchmove",function(D){w.scrollTop-=i.scrollSpeed*(S>f.pageXY(D).y?-1:1),S=f.pageXY(D).y},{ns:t.id}),r(document).on("touchend",function(){r(document).off(e.events.move,{ns:t.id}),r(document).off(e.events.stop,{ns:t.id})},{ns:t.id})}}),c.on(e.events.click,function(b){t.isOpen===!1&&t.open(),b.stopPropagation()}),c.on(e.events.click,".action-ok",function(b){var w,S,D,I=c.find(".sel-hours li.active"),P=c.find(".sel-minutes li.active"),V=c.find(".sel-seconds li.active");w=I.length===0?0:I.data("value"),S=P.length===0?0:P.data("value"),D=V.length===0?0:V.data("value"),t.value=[w,S,D],t._normalizeValue(),t._set(),t.close(),b.stopPropagation()}),c.on(e.events.click,".action-cancel",function(b){t.close(),b.stopPropagation()});var m=150;r.each(["hours","minutes","seconds"],function(){var b=this,w=c.find(".sel-"+b);let S=Hooks.useDebounce(function(D){var I,P,V;t.listTimer[b]=null,I=Math.round(Math.ceil(w.scrollTop())/40),b==="hours"&&i.hoursStep&&(I*=parseInt(i.hoursStep)),b==="minutes"&&i.minutesStep&&(I*=parseInt(i.minutesStep)),b==="seconds"&&i.secondsStep&&(I*=parseInt(i.secondsStep)),P=w.find(".js-"+b+"-"+I),V=P.position().top-i.distance*40,w.find(".active").removeClass("active"),w[0].scrollTop=V,P.addClass("active"),f.exec(i.onScroll,[P,w,c],w[0])},m);w.on("scroll",S)}),c.on(e.events.click,"ul li",function(b){let w=r(this),S=w.closest("ul"),D=w.position().top-i.distance*40;S.find(".active").removeClass("active"),r.animate({el:S[0],draw:{scrollTop:D},dur:300}),S[0].scrollTop=D,w.addClass("active"),f.exec(i.onScroll,[w,S,c],S[0])}),c.on(e.events.click,".action-now",function(b){let w=datetime(),S=w.hour(),D=w.minute(),I=w.second();c.find(`.sel-hours li.js-hours-${S}`).click(),c.find(`.sel-minutes li.js-minutes-${D}`).click(),c.find(`.sel-seconds li.js-seconds-${I}`).click(),b.preventDefault(),b.stopPropagation()})},_set:function(){var t=this.element,i=this.options,c=this.picker,m="00",b="00",w="00";i.hours===!0&&(m=parseInt(this.value[0]),c.find(".hours").html(Str.lpad(m,"0",2))),i.minutes===!0&&(b=parseInt(this.value[1]),c.find(".minutes").html(Str.lpad(b,"0",2))),i.seconds===!0&&(w=parseInt(this.value[2]),c.find(".seconds").html(Str.lpad(w,"0",2))),t.val([m,b,w].join(":")).trigger("change"),this._fireEvent("set",{val:this.value,elementVal:t.val()})},open:function(){var t=this.options,i=this.picker,c,m,b,w,S,D,I=i.find("li"),P=i.find(".select-wrapper"),V,z,K;r.each(r(".time-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"timepicker").close()})}),P.show(0),I.removeClass("active"),t.openMode==="auto"?(e.utils.inViewport(P[0])||P.parent().addClass("drop-up-select"),e.utils.inViewport(P[0])||(P.parent().removeClass("drop-up-select"),P.parent().addClass("drop-as-dialog"))):t.openMode==="dialog"?P.parent().addClass("drop-as-dialog"):t.openMode==="up"&&P.parent().addClass("drop-up-select");var ye=function(_e,Ne){_e.scrollTop(0).animate({draw:{scrollTop:Ne.position().top-t.distance*40+_e.scrollTop()},dur:100})};t.hours===!0&&(c=parseInt(this.value[0]),w=i.find(".sel-hours"),V=w.find("li.js-hours-"+c).addClass("active"),ye(w,V)),t.minutes===!0&&(m=parseInt(this.value[1]),S=i.find(".sel-minutes"),z=S.find("li.js-minutes-"+m).addClass("active"),ye(S,z)),t.seconds===!0&&(b=parseInt(this.value[2]),D=i.find(".sel-seconds"),K=D.find("li.js-seconds-"+b).addClass("active"),ye(D,K)),this.isOpen=!0,this._fireEvent("open",{val:this.value})},close:function(){var t=this.picker,i=this.options;t.find(".select-wrapper").hide(0),i.openMode==="auto"&&t.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{val:this.value})},_convert:function(t){var i;return Array.isArray(t)?i=t:typeof t.getMonth=="function"?i=[t.getHours(),t.getMinutes(),t.getSeconds()]:f.isObject(t)?i=[t.h,t.m,t.s]:i=t.toArray(":"),i},val:function(t){if(t===void 0)return this.element.val();this.value=this._convert(t),this._normalizeValue(),this._set()},time:function(t){if(t===void 0)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(t),this._normalizeValue(),this._set()},date:function(t){if(t===void 0||typeof t.getMonth!="function")return datetime().hour(this.value[0]).minute(this.value[1]).second(this.value[2]).ms(0).val();this.value=this._convert(t),this._normalizeValue(),this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t,i){switch(t){case"data-value":this.val(i);break;case"disabled":this.toggleState();break}},destroy:function(){var t=this.element,i=this.picker;return r.each(["hours","minutes","seconds"],function(){i.find(".sel-"+this).off("scroll")}),i.off(e.events.start,".select-block ul"),i.off(e.events.click),i.off(e.events.click,".action-ok"),i.off(e.events.click,".action-cancel"),t}}),r(document).on(e.events.click,function(){r.each(r(".time-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"timepicker").close()})})})}(Metro,Dom),function(e,r){var f=e.utils,o={callback:e.noop,timeout:METRO_TIMEOUT,distance:20,position:"bottom",clsToast:""};e.toastSetup=function(i){o=r.extend({},o,i)},typeof globalThis.metroToastSetup<"u"&&e.toastSetup(globalThis.metroToastSetup);var t={create:function(i,c){var m,b,w,S=Array.from(arguments),D,I,P;r.isPlainObject(c)||(c=S[4],I=S[1],D=S[2],P=S[3]),m=r.extend({},o,c),b=r("<div>").addClass("toast").html(i).appendTo(r("body")),w=b.outerWidth(),D=D||m.timeout,I=I||m.callback,P=P||m.cls,m.position==="top"?b.addClass("show-top").css({top:m.distance}):m.position==="center"?b.addClass("show-center"):b.css({bottom:m.distance}),b.css({left:"50%","margin-left":-(w/2)}).addClass(m.clsToast).addClass(P).fadeIn(METRO_ANIMATION_DURATION,function(){setTimeout(function(){t.remove(b,I)},D)})},remove:function(i,c){i.length&&i.fadeOut(METRO_ANIMATION_DURATION,function(){i.remove(),f.exec(c,null,i[0])})}};e.toast=t,e.createToast=t.create}(Metro,Dom),function(e,r){var f={textToTokenize:"",spaceSymbol:"",spaceClass:"space",tokenClass:"",splitter:"",tokenElement:"span",useTokenSymbol:!0,useTokenIndex:!0,clsTokenizer:"",clsToken:"",clsTokenOdd:"",clsTokenEven:"",onTokenCreate:e.noop,onTokenize:e.noop,onTokenizerCreate:e.noop};e.tokenizerSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroTokenizerSetup<"u"&&e.tokenizerSetup(globalThis.metroTokenizerSetup),e.Component("tokenizer",{init:function(o,t){return this._super(t,o,f,{originalText:""}),this},_create:function(){var o=this.element,t=this.options;this.originalText=t.textToTokenize?t.textToTokenize.trim():o.text().trim().replace(/[\r\n\t]/gi,"").replace(/\s\s+/g," "),this._createStructure(),this._fireEvent("tokenizer-create")},_tokenize:function(){var o=this,t=this.element,i=this.options,c=0,m,b;t.clear().attr("aria-label",this.originalText),r.each(this.originalText.split(i.splitter),function(w){var S=this,D=S===" ",I;I=r("<"+i.tokenElement+">").html(D?i.spaceSymbol:S).attr("aria-hidden",!0).addClass(D?i.spaceClass:"").addClass(D&&i.useTokenSymbol?"":"ts-"+S.replace(" ","_")).addClass(D&&i.useTokenIndex?"":"ti-"+(w+1)).addClass(i.tokenClass?i.tokenClass:"").addClass(D?"":i.clsToken),D||(c++,I.addClass(c%2===0?"te-even":"te-odd"),I.addClass(c%2===0?i.clsTokenEven:i.clsTokenOdd)),i.prepend&&(b=r.isSelector(i.prepend)?r(i.prepend):r("<span>").html(i.prepend),I.prepend(b)),i.append&&(m=r.isSelector(i.append)?r(i.append):r("<span>").html(i.append),I.append(m)),t.append(I),o._fireEvent("token-create",{token:I[0]})}),o._fireEvent("tokenize",{tokens:t.children().items(),originalText:this.originalText})},_createStructure:function(){var o=this.element,t=this.options;o.addClass(t.clsTokenizer),this._tokenize()},tokenize:function(o){this.originalText=o,this._tokenize()},destroy:function(){this.element.remove()}})}(Metro,Dom),function(e,r){let f={treeviewDeferred:0,showChildCount:!1,duration:100,hideActionsOnLeave:!0,recheckTimeout:100,leaves:[],onNodeClick:e.noop,onNodeDblClick:e.noop,onNodeDelete:e.noop,onNodeInsert:e.noop,onNodeClean:e.noop,onCheckClick:e.noop,onRadioClick:e.noop,onExpandNode:e.noop,onCollapseNode:e.noop,onTreeViewCreate:e.noop};e.treeViewSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroTreeViewSetup<"u"&&e.treeViewSetup(globalThis.metroTreeViewSetup),e.Component("tree-view",{init:function(o,t){return this._super(t,o,f),this},_create:function(){let o=this,t=this.element;this._createTree(),this._createEvents(),r.each(t.find("input"),function(){r(this).is(":checked")&&o._recheck(this)}),this._fireEvent("tree-view-create",{element:t})},_createIcon:function(o){let t,i;return i=e.utils.isTag(o)?r(o):r("<img src='' alt=''>").attr("src",o),t=r("<span>").addClass("icon"),t.html(i.outerHTML()),t},_createCaption:function(o,t){let i=r("<span>").addClass("caption").html(o);return t&&(e.utils.isObject(t)?i.css(t):typeof t=="string"&&(i[0].style.cssText=t)),i},_createToggle:function(){return r("<span>").addClass("node-toggle")},_createNode:function(o,t){let i=this.options,c=t||r("<li>"),m=r("<a>");if(c.prepend(m),(o.link||o.href)&&m.attr("href",o.link||o.href),o.caption&&m.prepend(this._createCaption(o.caption,o.style)),o.icon&&m.prepend(this._createIcon(o.icon)),o.html&&m.append(o.html),o.attributes&&r.type(o.attributes)==="object")for(let b in o.attributes)m.attr(b,o.attributes[b]);if(o.style&&(typeof o.style=="string"?m[0].style.cssText=o.style:r.type(o.style)==="object"&&m.css(o.style)),o.badge){let[b,w]=o.badge.split(":");m.append(r("<span>").addClass("badge").addClass(w).html(b))}if(o.badges&&r.each(typeof o.badges=="string"?o.badges.toArray(","):Array.isArray(o.badges)?o.badges:[],function(b,w){let[S,D]=w.split(":");m.append(r("<span>").addClass("badge").addClass(D).html(S))}),o.secondary){let[b,w]=o.secondary.split(":");m.append(r("<span>").addClass("secondary-text").addClass(w).html(b))}if(o.actions){let b=r("<div class='dropdown-button'>").addClass("actions-holder");r("<span class='actions-list-trigger'>").text("⋮").appendTo(b);let w=r("<ul data-role='dropmenu' class='d-menu actions-list'>").appendTo(b);c.append(b);for(let S of o.actions)if(S.type&&S.type==="divider")r("<li>").addClass("divider").appendTo(w);else{let D=S.icon?r(S.icon).addClass("icon").outerHTML():"",I=`<span class="caption">${S.caption}</span>`,P=r(`<li><a href="#">${D} ${I}</a></li>`).appendTo(w);S.cls&&P.addClass(S.cls),P.find("a").on("click",function(){e.utils.exec(S.onclick,[P[0]],this)})}w.on(e.events.leave,S=>{i.hideActionsOnLeave&&e.getPlugin(w,"dropmenu").close()})}return o.current&&c.addClass("current"),o.type==="node"&&(c.addClass("tree-node"),c.append(r("<span>").addClass("node-toggle")),c.append(r("<ul>"))),c.children("ul").length&&(c.addClass("tree-node"),c.append(r("<span>").addClass("node-toggle")),e.utils.bool(o.collapsed)!==!0?c.addClass("expanded"):c.children("ul").hide()),c},_createCheckNode:function(o,t){var i,c;let m=t||r("<li>");if(m.append(`
                <input data-role="${o.type}" type="${(i=o.type)!=null?i:"checkbox"}" name="${o.name}" value="${(c=o.value)!=null?c:""}" ${o.checked?"checked":""} data-append="${o.caption}"/>
            `),o.icon&&m.find("label").prepend(this._createIcon(o.icon)),o.attributes&&r.type(o.attributes)==="object")for(let b in o.attributes)m.attr(b,o.attributes[b]);if(o.secondary){let[b,w]=o.secondary.split(":");m.find("label").append(r("<span>").addClass("secondary-text").addClass(w).html(b))}return m},_createInputNode:function(o,t){var i,c,m,b;let w=t||r("<li>");if(w.append(`
                <input data-role="${o.type}" type="${(i=o.type)!=null?i:"text"}" name="${o.name}" value="${(c=o.value)!=null?c:""}" data-prepend="${(m=o.caption)!=null?m:""}" placeholder="${(b=o.placeholder)!=null?b:""}"/>
            `),o.secondary){let[S,D]=o.secondary.split(":");w.find("label").append(r("<span>").addClass("secondary-text").addClass(D).html(S))}return w},_createTree:function(){let o=this.element,t=this.options,i=o.find("li[data-caption]");if(o.addClass("treeview"),r.each(i,(c,m)=>{let b=r(m);b.data("type")==="checkbox"||b.data("type")==="radio"?this._createCheckNode({caption:b.data("caption"),icon:b.data("icon"),type:b.data("type"),name:b.data("name"),attributes:b.data("attributes"),value:b.data("value"),checked:b.data("checked")==="true",secondary:b.data("secondary")},b):b.data("type")==="input"?this._createInputNode({caption:b.data("caption"),type:b.data("type"),name:b.data("name"),attributes:b.data("attributes"),value:b.data("value"),secondary:b.data("secondary"),placeholder:b.data("placeholder")},b):this._createNode({caption:b.data("caption"),icon:b.data("icon"),html:b.data("html"),attributes:b.data("attributes"),badge:b.data("badge"),badges:b.data("badges"),actions:b.data("actions"),type:b.data("type"),collapsed:b.data("collapsed"),link:b.data("link"),href:b.data("href"),secondary:b.data("secondary"),style:b.data("style")},b)}),t.leaves){let c=e.utils.isObject(t.leaves);c&&this.fillTree(c)}this._recheckTree()},_createEvents:function(){let o=this,t=this.element;t.on(e.events.click,".node-toggle",function(i){let c=r(this).parent();o.toggleNode(c),i.preventDefault()}),t.on(e.events.click,"a",function(i){let c=r(this).parent();o.current(c),o._fireEvent("node-click",{node:c[0]}),i.preventDefault()}),t.on(e.events.dblclick,"a",function(i){let c=r(this).closest("li"),m=c.children(".node-toggle"),b=c.children("ul");(m.length>0||b.length>0)&&o.toggleNode(c),o._fireEvent("node-dbl-click",{node:c[0]}),i.preventDefault()}),t.on(e.events.click,"input[type=radio]",function(){let i=r(this),c=i.is(":checked"),m=i.closest("li");o.current(m),o._fireEvent("radio-click",{checked:c,check:i[0],node:m[0]})}),t.on(e.events.click,"input[type=checkbox]",function(){let i=r(this),c=i.is(":checked"),m=i.closest("li");o._recheck(i),o._fireEvent("check-click",{checked:c,check:i[0],node:m[0]})})},_recheck:function(o){let t;o=r(o);let i=o.is(":checked");t=o.closest("li"),this.current(t);let c=o.closest("li").find("ul input[type=checkbox]");c.attr("data-indeterminate",!1),c.prop("indeterminate",!1),c.prop("checked",i),c.trigger("change"),this._recheckTree()},_recheckTree:function(o){setTimeout(()=>{let t=this.element.find("input[type=checkbox]").reverse();r.each(t.reverse(),function(){let i=r(this),c=i.closest("li").children("ul").find("input[type=checkbox]").length,m=i.closest("li").children("ul").find("input[type=checkbox]").filter(function(b){return b.checked}).length;c>0&&m===0&&(i.attr("data-indeterminate",!1),i.prop("indeterminate",!1),i.prop("checked",!1),i.trigger("change")),m===0?(i.attr("data-indeterminate",!1),i.prop("indeterminate",!1)):m>0&&c>m?(i.attr("data-indeterminate",!0),i.prop("indeterminate",!0)):c===m&&(i.attr("data-indeterminate",!1),i.prop("indeterminate",!1),i.prop("checked",!0),i.trigger("change"))})},o??this.options.recheckTimeout)},current:function(o){let t=this.element;if(!o)return t.find(".current");t.find(".current").removeClass("current"),o.addClass("current")},toggleNode:function(o){let t=r(o),i=this.options,c,m=!t.data("collapsed");t.toggleClass("expanded"),t.data("collapsed",m),c=m===!0?"slideUp":"slideDown",m?this._fireEvent("collapse-node",{node:t[0]}):this._fireEvent("expand-node",{node:t[0]}),t.children("ul")[c](i.duration)},addTo:function(o,t){let i=this.element,c,m,b;return o?(o=r(o),c=o.children("ul"),c.length===0&&(c=r("<ul>").appendTo(o),b=this._createToggle(),b.appendTo(o),o.addClass("expanded")),o==null||o.addClass("tree-node")):c=i,t.type==="checkbox"||t.type==="radio"?m=this._createCheckNode(t):t.type==="input"?m=this._createInputNode(t):m=this._createNode(t),m.appendTo(c),this._fireEvent("node-insert",{node:m[0],parent:o?o[0]:null}),this._recheckTree(),m},insertBefore:function(o,t){let i=this._createNode(t);return e.utils.isNull(o)?this.addTo(o,t):(o=r(o),i.insertBefore(o),this._fireEvent("node-insert",{node:i[0],parent:o?o[0]:null}),i)},insertAfter:function(o,t){let i=this._createNode(t);return e.utils.isNull(o)?this.addTo(o,t):(o=r(o),i.insertAfter(o),this._fireEvent("node-insert",{node:i[0],parent:o[0]}),i)},del:function(o){let t=this.element;o=r(o);let i=o.closest("ul"),c=i.closest("li");this._fireEvent("node-delete",{node:o[0]}),o.remove(),i.children().length===0&&!i.is(t)&&(i.remove(),c.removeClass("expanded"),c.children(".node-toggle").remove()),this._recheckTree()},clean:function(o){o=r(o),o.children("ul").remove(),o.removeClass("expanded"),o.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:o[0]})},collapseNode(o){let t=this.options;o=r(o),o.removeClass("expanded"),o.data("collapsed",!0),o.children("ul").slideUp(t.duration),this._fireEvent("collapse-node",{node:o[0]})},expandNode(o){let t=this.options;o=r(o),o.hasClass("tree-node")&&(o.addClass("expanded"),o.data("collapsed",!1),o.children("ul").slideDown(t.duration),this._fireEvent("expand-node",{node:o[0]}))},collapseAll(){let o=this.element,t=this.options;o.find(".expanded").each((i,c)=>{let m=r(c),b,w=!m.data("collapsed");m.toggleClass("expanded"),m.data("collapsed",w),b=w===!0?"slideUp":"slideDown",w?this._fireEvent("collapse-node",{node:m[0]}):this._fireEvent("expand-node",{node:m[0]}),m.children("ul")[b](t.duration)}),this._fireEvent("collapse-all")},expandAll(){let o=this.element,t=this.options;o.find(".tree-node:not(.expanded)").each((i,c)=>{let m=r(c),b,w=!m.data("collapsed");m.toggleClass("expanded"),m.data("collapsed",w),b=w===!0?"slideUp":"slideDown",w?this._fireEvent("collapse-node",{node:m[0]}):this._fireEvent("expand-node",{node:m[0]}),m.children("ul")[b](t.duration)}),this._fireEvent("expand-all")},fillTree:function(o,t){for(let i of o){let c=this.addTo(t,T(k({},i),{type:i.items?"node":"item"}));i.items&&this.fillTree(i.items,c)}},changeAttribute:function(o,t){o==="data-recheck-timeout"&&(this.options.recheckTimeout=t??100)},destroy:function(){let o=this.element;o.off(e.events.click,".node-toggle"),o.off(e.events.click,"li > .caption"),o.off(e.events.dblclick,"li > .caption"),o.off(e.events.click,"input[type=radio]"),o.off(e.events.click,"input[type=checkbox]"),o.remove()}})}(Metro,Dom),function(e,r){var f={required:function(t){return G.safeParse(G.required(),t).ok},length:function(t,i){return G.safeParse(G.length(+i),t).ok},minlength:function(t,i){return G.safeParse(G.minLength(+i),t).ok},maxlength:function(t,i){return G.safeParse(G.maxLength(+i),t).ok},min:function(t,i){return G.safeParse(G.minValue(+i),+t).ok},max:function(t,i){return G.safeParse(G.maxValue(+i),+t).ok},email:function(t){return G.safeParse(G.email(),t).ok},domain:function(t){return G.safeParse(G.domain(),t).ok},url:function(t){return G.safeParse(G.url(),t).ok},date:function(t,i,c){try{return i?Datetime.from(t,i,c):datetime(t),!0}catch{return!1}},number:function(t){return G.safeParse(G.number(),+t).ok},integer:function(t){return G.safeParse(G.integer(),+t).ok},safeInteger:function(t){return G.safeParse(G.safeInteger(),+t).ok},float:function(t){return G.safeParse(G.float(),+t).ok},digits:function(t){return G.safeParse(G.digits(),t).ok},hexcolor:function(t){return G.safeParse(G.hexColor(),t).ok},color:function(t){return e.utils.isValue(t)?Farbe.Palette.color(t,Farbe.StandardColors)||Farbe.Routines.isColor(t):!1},pattern:function(t,i){return G.safeParse(G.pattern(i),t).ok},compare:function(t,i){return t==i},not:function(t,i){return t!=i},notequals:function(t,i){return t!==i},equals:function(t,i){return t===i},custom:function(t,i){return e.utils.isFunc(i)===!1?!1:e.utils.exec(i,[t])},is_control:function(t){return t.attr("data-role")},reset_state:function(t){var i=r(t),c=f.is_control(i);c?i.parent().removeClass("invalid valid"):i.removeClass("invalid valid")},set_valid_state:function(t){var i=r(t),c=f.is_control(i);c?i.parent().addClass("valid"):i.addClass("valid")},set_invalid_state:function(t){var i=r(t),c=f.is_control(i);c?i.parent().addClass("invalid"):i.addClass("invalid")},reset:function(t){var i=this;return r.each(r(t).find("[data-validate]"),function(){i.reset_state(this)}),this},validate:function(t,i,c,m,b){var w=!0,S=r(t),D=S.data("validate")!==void 0?String(S.data("validate")).split(" ").map(function(K){return K.trim()}):[],I=[],P=S.closest("form").length>0,V,z;return D.length===0?!0:(this.reset_state(S),S.attr("type")&&S.attr("type").toLowerCase()==="checkbox"?(D.indexOf("required")===-1?w=!0:w=S.is(":checked"),w===!1&&I.push("required"),i!==void 0&&(i.val+=w?0:1)):S.attr("type")&&S.attr("type").toLowerCase()==="radio"?(V=S.attr("name"),typeof V===void 0?w=!0:(z=r("input[name="+V.replace("[","\\[").replace("]","\\]")+"]:checked"),w=z.length>0),i!==void 0&&(i.val+=w?0:1)):r.each(D,function(){if(w!==!1){var K=this.split("="),ye,_e,Ne;ye=K[0],K.shift(),_e=K.join("="),["compare","not","equals","notequals"].indexOf(ye)>-1&&(_e=P?S[0].form.elements[_e].value:r("[name="+_e+"]").val()),ye==="date"&&(_e=S.attr("data-value-format"),Ne=S.attr("data-value-locale")),e.utils.isFunc(f[ye])===!1?w=!0:b===!0||ye==="required"||S.val().trim()!==""?w=f[ye](S.val(),_e,Ne):w=!0,w===!1&&I.push(ye),i!==void 0&&(i.val+=w?0:1)}}),w===!1?(this.set_invalid_state(S),i!==void 0&&i.log.push({input:S[0],name:S.attr("name"),value:S.val(),funcs:D,errors:I}),m!==void 0&&e.utils.exec(m,[S,S.val()],S[0])):(this.set_valid_state(S),c!==void 0&&e.utils.exec(c,[S,S.val()],S[0])),w)}};e.validator=f;var o={validatorDeferred:0,submitTimeout:200,interactiveCheck:!1,clearInvalid:0,requiredMode:!0,useRequiredClass:!0,onBeforeSubmit:e.noop_true,onSubmit:e.noop,onError:e.noop,onValidate:e.noop,onErrorForm:e.noop,onValidateForm:e.noop,onValidatorCreate:e.noop};e.validatorSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroValidatorSetup<"u"&&e.validatorSetup(globalThis.metroValidatorSetup),e.Component("validator",{init:function(t,i){return this._super(i,t,o,{_onsubmit:null,_onreset:null,result:[]}),this},_create:function(){var t=this,i=this.element,c=this.options,m=i.find("[data-validate]");i.attr("novalidate","novalidate"),r.each(m,function(){var b=r(this),w=b.data("validate"),S=w.indexOf("required")>-1;S&&c.useRequiredClass===!0&&(f.is_control(b)?b.parent().addClass("required"):b.addClass("required")),c.interactiveCheck===!0&&b.on(e.events.inputchange,function(){f.validate(this,void 0,void 0,void 0,c.requiredMode)})}),this._onsubmit=null,this._onreset=null,i[0].onsubmit!==null&&(this._onsubmit=i[0].onsubmit,i[0].onsubmit=null),i[0].onreset!==null&&(this._onreset=i[0].onreset,i[0].onreset=null),i[0].onsubmit=function(){return t._submit()},i[0].onreset=function(){return t._reset()},this._fireEvent("validator-create",{element:i})},_reset:function(){f.reset(this.element),this._onreset!==null&&e.utils.exec(this._onreset,null,this.element[0])},_submit:function(){var t=this,i=this.element,c=this.options,m=this.elem,b=i.find("[data-validate]"),w=i.find("input[type=submit], button[type=submit]"),S={val:0,log:[]},D=r.serializeToArray(i);return w.length>0&&w.attr("disabled","disabled").addClass("disabled"),r.each(b,function(){f.validate(this,S,c.onValidate,c.onError,c.requiredMode)}),w.removeAttr("disabled").removeClass("disabled"),S.val+=e.utils.exec(c.onBeforeSubmit,[D],this.elem)===!1?1:0,S.val===0?(this._fireEvent("validate-form",{data:D}),setTimeout(function(){e.utils.exec(c.onSubmit,[D],m),i.fire("formsubmit",{data:D}),t._onsubmit!==null&&e.utils.exec(t._onsubmit,null,m)},c.submitTimeout)):(this._fireEvent("error-form",{log:S.log,data:D}),c.clearInvalid>0&&setTimeout(function(){r.each(b,function(){var I=r(this);f.is_control(I)?I.parent().removeClass("invalid"):I.removeClass("invalid")})},c.clearInvalid)),S.val===0},changeAttribute:function(){}})}(Metro,Dom),function(e,r){var f=e.utils,o={duration:4e3,animationDuration:null,transitionDuration:null,transition:"fade",animation:null,slides:[],shuffle:!1,align:"center",valign:"center",loop:!0,autoplay:!0,mute:!0,cover:!0,preload:!0,timer:!0,overlay:2,color:null,volume:1,onPlay:e.noop,onPause:e.noop,onEnd:e.noop,onWalk:e.noop,onNext:e.noop,onPrev:e.noop,onJump:e.noop,onVegasCreate:e.noop};e.vegasSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroVegasSetup<"u"&&e.vegasSetup(globalThis.metroVegasSetup),e.Component("vegas",{videoCache:{},init:function(t,i){return this.transitions=["fade","fade2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsUp","kenburnsDown","kenburnsRight","kenburnsLeft","kenburnsUpLeft","kenburnsUpRight","kenburnsDownLeft","kenburnsDownRight"],this.support={objectFit:"objectFit"in document.body.style,video:!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)},this._super(i,t,o,{slide:0,slides:null,total:0,noshow:!1,paused:!1,ended:!1,timer:null,overlay:null,first:!0,timeout:!1}),this},_create:function(){var t=this.element,i=this.options;this.slides=f.isObject(i.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!i.autoplay||this.noshow,i.shuffle&&this.slides.shuffle(),i.preload&&this._preload(),this._createStructure(),this._createEvents(),this._fireEvent("vegas-create",{element:t})},_createStructure:function(){var t=this,i=this.element,c=this.options,m=i[0].tagName==="BODY",b;m||(i.css("height",i.css("height")),b=r('<div class="vegas-wrapper">').css("overflow",i.css("overflow")).css("padding",i.css("padding")),i.css("padding")||b.css("padding-top",i.css("padding-top")).css("padding-bottom",i.css("padding-bottom")).css("padding-left",i.css("padding-left")).css("padding-right",i.css("padding-right")),i.children().appendTo(b),i.clear()),i.addClass("vegas-container"),m||i.append(b),c.timer&&(this.timer=r('<div class="vegas-timer"><div class="vegas-timer-progress">'),i.append(this.timer)),c.overlay&&(this.overlay=r('<div class="vegas-overlay">').addClass("overlay"+(typeof c.overlay=="boolean"||isNaN(c.overlay)?2:+c.overlay)),i.append(this.overlay)),setTimeout(function(){f.exec(c.onPlay,null,i[0]),t._goto(t.slide)},1)},_createEvents:function(){},_preload:function(){var t,i;for(i=0;i<this.slides.length;i++){var c=this.slides[i];c.src&&(t=new Image,t.src=this.slides[i].src),c.video&&(c.video instanceof Array?this._video(c.video):this._video(c.video.src))}},_slideShow:function(){var t=this,i=this.options;this.total>1&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){t.next()},i.duration))},_timer:function(t){var i=this,c=this.options;clearTimeout(this.timeout),this.timer&&(this.timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),!(this.ended||this.paused||this.noshow)&&t&&setTimeout(function(){i.timer.addClass("vegas-timer-running").find("div").css("transition-duration",+c.duration-100+"ms")},100))},_fadeSoundIn:function(t,i){var c=this.options;r.animate({el:t,draw:{volume:+c.volume},dur:i})},_fadeSoundOut:function(t,i){r.animate({el:t,draw:{volume:0},dur:i})},_video:function(t){var i,c,m=t.toString();return this.videoCache[m]?this.videoCache[m]:(Array.isArray(t)||(t=[t]),i=document.createElement("video"),i.preload=!0,t.forEach(function(b){c=document.createElement("source"),c.src=b,i.appendChild(c)}),this.videoCache[m]=i,i)},_goto:function(t){var i=this,c=this.element,m=this.options;typeof this.slides[t]>"u"&&(t=0),this.slide=t;var b,w,S,D,I,P=c.children(".vegas-slide"),V=this.slides[t],z=m.cover,K,ye,_e,Ne;this.first&&(this.first=!1),z!=="repeat"&&(z===!0?z="cover":z===!1&&(z="contain")),m.transition==="random"?K=r.random(this.transitions):K=m.transition?m.transition:this.transitions[0],m.animation==="random"?ye=r.random(this.animations):ye=m.animation?m.animation:this.animations[0],m.transitionDuration?m.transitionDuration==="auto"||+m.transitionDuration>+m.duration?_e=+m.duration:_e=+m.transitionDuration:_e=+m.duration,m.animationDuration?m.animationDuration==="auto"||+m.animationDuration>+m.duration?Ne=+m.duration:Ne=+m.animationDuration:Ne=+m.duration,b=r("<div>").addClass("vegas-slide").addClass("vegas-transition-"+K),this.support.video&&V.video?(S=V.video instanceof Array?this._video(V.video):this._video(V.video.src),S.loop=V.video.loop?V.video.loop:m.loop,S.muted=V.video.mute?V.video.mute:m.mute,S.muted?S.pause():this._fadeSoundIn(S,_e),I=r(S).addClass("vegas-video").css("background-color",m.color||"#000000"),this.support.objectFit?I.css("object-position",m.align+" "+m.valign).css("object-fit",z).css("width","100%").css("height","100%"):z==="contain"&&I.css("width","100%").css("height","100%"),b.append(I)):(D=new Image,w=r("<div>").addClass("vegas-slide-inner").css({backgroundImage:'url("'+V.src+'")',backgroundColor:m.color||"#000000",backgroundPosition:m.align+" "+m.valign}),z==="repeat"?w.css("background-repeat","repeat"):w.css("background-size",z),ye&&w.addClass("vegas-animation-"+ye).css("animation-duration",Ne+"ms"),b.append(w)),P.length?P.eq(P.length-1).after(b):c.prepend(b),P.css("transition","all 0ms").each(function(){this.className="vegas-slide",this.tagName==="VIDEO"&&(this.className+=" vegas-video"),K&&(this.className+=" vegas-transition-"+K,this.className+=" vegas-transition-"+K+"-in")}),this._timer(!1);function Ie(){i._timer(!0),setTimeout(function(){P.css("transition","all "+_e+"ms").addClass("vegas-transition-"+K+"-out"),P.each(function(){var Me=P.find("video").get(0);Me&&(Me.volume=1,i._fadeSoundOut(Me,_e))}),b.css("transition","all "+_e+"ms").addClass("vegas-transition-"+K+"-in");for(var Se=0;Se<P.length-1;Se++)P.eq(Se).remove();i._fireEvent("walk",{slide:i.current(!0)}),i._slideShow()},100)}S?(S.readyState===4&&(S.currentTime=0),S.play(),Ie()):(D.src=V.src,D.complete?Ie():D.onload=Ie)},_end:function(){this.ended=this.options.autoplay,this._timer(!1),this._fireEvent("end",{slide:this.current(!0)})},play:function(){this.paused&&(this._fireEvent("play",{slide:this.current(!0)}),this.paused=!1,this.next())},pause:function(){this._timer(!1),this.paused=!0,this._fireEvent("pause",{slide:this.current(!0)})},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(t){return t?{slide:this.slide,data:this.slides[this.slide]}:this.slide},jump:function(t){if(t<=0||t>this.slides.length||t===this.slide+1)return this;this.slide=t-1,this._fireEvent("jump",{slide:this.current(!0)}),this._goto(this.slide)},next:function(){var t=this.options;if(this.slide++,this.slide>=this.slides.length){if(!t.loop)return this._end();this.slide=0}this._fireEvent("next",{slide:this.current(!0)}),this._goto(this.slide)},prev:function(){var t=this.options;if(this.slide--,this.slide<0){if(!t.loop)return this.slide++,this._end();this.slide=this.slides.length-1}this._fireEvent("prev",{slide:this.current(!0)}),this._goto(this.slide)},changeAttribute:function(t){var i=this.element,c=this.options,m=Str.camelCase(t.replace("data-",""));m==="slides"?(c.slides=i.attr("data-slides"),this.slides=f.isObject(c.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!this.options.autoplay||this.noshow):typeof o[m]<"u"&&(c[m]=JSON.parse(i.attr(t)))},destroy:function(){var t=this.element,i=this.options;return clearTimeout(this.timeout),t.removeClass("vegas-container"),t.find("> .vegas-slide").remove(),t.find("> .vegas-wrapper").children().appendTo(t),t.find("> .vegas-wrapper").remove(),i.timer&&this.timer.remove(),i.overlay&&this.overlay.remove(),t[0]}})}(Metro,Dom),function(e,r){var f=e.utils,o={videoDeferred:0,src:null,poster:"",logo:"",logoHeight:32,logoWidth:"auto",logoTarget:"",volume:.5,loop:!1,autoplay:!1,fullScreenMode:e.fullScreenMode.DESKTOP,aspectRatio:e.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:"🔁",stopIcon:"⏹",playIcon:"▶",pauseIcon:"⏸",muteIcon:"🔇",volumeLowIcon:"🔈",volumeMediumIcon:"🔉",volumeHighIcon:"🔊",screenMoreIcon:"⬜",screenLessIcon:"⬚",onPlay:e.noop,onPause:e.noop,onStop:e.noop,onEnd:e.noop,onMetadata:e.noop,onTime:e.noop,onVideoPlayerCreate:e.noop};e.videoPlayerSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroVideoPlayerSetup<"u"&&e.videoPlayerSetup(globalThis.metroVideoPlayerSetup),e.Component("video-player",{init:function(t,i){return this._super(i,t,o,{fullscreen:!1,preloader:null,player:null,video:i,stream:null,volume:null,volumeBackup:0,muted:!1,fullScreenInterval:!1,isPlaying:!1,id:f.elementId("video-player")}),this},_create:function(){var t=this.element,i=this.options;e.fullScreenEnabled===!1&&(i.fullScreenMode=e.fullScreenMode.WINDOW),this._createPlayer(),this._createControls(),this._createEvents(),this._setAspectRatio(),i.autoplay===!0&&this.play(),this._fireEvent("video-player-create",{element:t,player:this.player})},_createPlayer:function(){var t=this.element,i=this.options,c=this.video,m=r("<div>").addClass("media-player video-player "+t[0].className),b=r("<div>").addClass("preloader").appendTo(m),w=r("<a>").attr("href",i.logoTarget).addClass("logo").appendTo(m);m.insertBefore(t),t.appendTo(m),r.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){t.removeAttr(this)}),t.attr("preload","auto"),i.poster!==""&&t.attr("poster",i.poster),c.volume=i.volume,b.activity({type:"cycle",style:"color"}),b.hide(),this.preloader=b,i.logo!==""&&r("<img>").css({height:i.logoHeight,width:i.logoWidth}).attr("src",i.logo).appendTo(w),i.src!==null&&this._setSource(i.src),t[0].className="",this.player=m},_setSource:function(t){var i=this.element;i.find("source").remove(),i.removeAttr("src"),Array.isArray(t)?r.each(t,function(){var c=this;c.src!==void 0&&r("<source>").attr("src",c.src).attr("type",c.type!==void 0?c.type:"").appendTo(i)}):i.attr("src",t)},_createControls:function(){var t=this,i=this.element,c=this.options,m=this.elem,b=r("<div>").addClass("controls").addClass(c.clsControls).insertAfter(i),w=r("<div>").addClass("stream").appendTo(b),S=r("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(w),D=r("<div>").addClass("volume").appendTo(b),I=r("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(D),P=r("<div>").addClass("info-box").appendTo(b);c.showInfo!==!0&&P.hide(),e.makePlugin(S,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){m.paused||m.pause()},onStop:function(z){m.seekable.length>0&&(m.currentTime=(t.duration*z/100).toFixed(0)),m.paused&&m.currentTime>0&&m.play()}}),this.stream=S,c.showStream!==!0&&w.hide(),e.makePlugin(I,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:c.volume*100,onChangeValue:function(z){m.volume=z/100}}),this.volume=I,c.showVolume!==!0&&D.hide();var V;c.showLoop===!0&&(V=r("<button>").attr("type","button").addClass("button square loop").html(c.loopIcon).appendTo(b)),c.showPlay===!0&&r("<button>").attr("type","button").addClass("button square play").html(c.playIcon).appendTo(b),c.showStop===!0&&r("<button>").attr("type","button").addClass("button square stop").html(c.stopIcon).appendTo(b),c.showMute===!0&&r("<button>").attr("type","button").addClass("button square mute").html(c.muteIcon).appendTo(b),c.showFull===!0&&r("<button>").attr("type","button").addClass("button square full").html(c.screenMoreIcon).appendTo(b),c.loop===!0&&(V.addClass("active"),i.attr("loop","loop")),this._setVolume(),c.muted&&(t.volumeBackup=m.volume,e.getPlugin(t.volume,"slider").val(0),m.volume=0),P.html("00:00 / 00:00")},_createEvents:function(){var t=this,i=this.element,c=this.options,m=this.elem,b=this.player;i.on("loadstart",function(){t.preloader.show()}),i.on("loadedmetadata",function(){t.duration=m.duration.toFixed(0),t._setInfo(0,t.duration),f.exec(c.onMetadata,[m,b],i[0])}),i.on("canplay",function(){t._setBuffer(),t.preloader.hide()}),i.on("progress",function(){t._setBuffer()}),i.on("timeupdate",function(){var w=Math.round(m.currentTime*100/t.duration);t._setInfo(m.currentTime,t.duration),e.getPlugin(t.stream,"slider").val(w),f.exec(c.onTime,[m.currentTime,t.duration,m,b],i[0])}),i.on("waiting",function(){t.preloader.show()}),i.on("loadeddata",function(){}),i.on("play",function(){b.find(".play").html(c.pauseIcon),f.exec(c.onPlay,[m,b],i[0]),t._onMouse()}),i.on("pause",function(){b.find(".play").html(c.playIcon),f.exec(c.onPause,[m,b],i[0]),t._offMouse()}),i.on("stop",function(){e.getPlugin(t.stream,"slider").val(0),f.exec(c.onStop,[m,b],i[0]),t._offMouse()}),i.on("ended",function(){e.getPlugin(t.stream,"slider").val(0),f.exec(c.onEnd,[m,b],i[0]),t._offMouse()}),i.on("volumechange",function(){t._setVolume()}),b.on(e.events.click,".play",function(){m.paused?t.play():t.pause()}),b.on(e.events.click,".stop",function(){t.stop()}),b.on(e.events.click,".mute",function(){t._toggleMute()}),b.on(e.events.click,".loop",function(){t._toggleLoop()}),b.on(e.events.click,".full",function(){t.fullscreen=!t.fullscreen,b.find(".full").html(t.fullscreen===!0?c.screenLessIcon:c.screenMoreIcon),c.fullScreenMode===e.fullScreenMode.WINDOW?t.fullscreen===!0?b.addClass("full-screen"):b.removeClass("full-screen"):t.fullscreen===!0?(e.requestFullScreen(m),t.fullScreenInterval===!1&&(t.fullScreenInterval=setInterval(function(){e.inFullScreen()===!1&&(t.fullscreen=!1,clearInterval(t.fullScreenInterval),t.fullScreenInterval=!1,b.find(".full").html(c.screenMoreIcon))},1e3))):e.exitFullScreen()}),r(globalThis).on(e.events.keyup,function(w){t.fullscreen&&w.keyCode===27&&b.find(".full").click()},{ns:this.id}),r(globalThis).on(e.events.resize,function(){t._setAspectRatio()},{ns:this.id})},_onMouse:function(){var t=this.options,i=this.player;i.on(e.events.enter,function(){var c=i.find(".controls");t.controlsHide>0&&c.style("display")==="none"&&c.stop(!0).fadeIn(500,function(){c.css("display","flex")})}),i.on(e.events.leave,function(){var c=i.find(".controls");t.controlsHide>0&&parseInt(c.style("opacity"))===1&&setTimeout(function(){c.stop(!0).fadeOut(500)},t.controlsHide)})},_offMouse:function(){var t=this.player,i=this.options,c=t.find(".controls");t.off(e.events.enter),t.off(e.events.leave),i.controlsHide>0&&c.style("display")==="none"&&c.stop(!0).fadeIn(500,function(){c.css("display","flex")})},_toggleLoop:function(){var t=this.player.find(".loop");t.length!==0&&(t.toggleClass("active"),t.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.video.volume=this.volumeBackup:(this.volumeBackup=this.video.volume,this.video.volume=0),e.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(t,i){this.player.find(".info-box").html(f.secondsToFormattedString(Math.round(t))+" / "+f.secondsToFormattedString(Math.round(i)))},_setBuffer:function(){var t=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;e.getPlugin(this.stream,"slider").buff(t)},_setVolume:function(){var t=this.video,i=this.player,c=this.options,m=i.find(".mute"),b=t.volume*100;b>1&&b<30?m.html(c.volumeLowIcon):b>=30&&b<60?m.html(c.volumeMediumIcon):b>=60&&b<=100?m.html(c.volumeHighIcon):m.html(c.muteIcon)},_setAspectRatio:function(){var t=this.player,i=this.options,c=t.outerWidth(),m;switch(i.aspectRatio){case e.aspectRatio.SD:m=f.aspectRatioH(c,"4/3");break;case e.aspectRatio.CINEMA:m=f.aspectRatioH(c,"21/9");break;default:m=f.aspectRatioH(c,"16/9")}t.outerHeight(m)},aspectRatio:function(t){this.options.aspectRatio=t,this._setAspectRatio()},play:function(t){t&&this._setSource(t),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&(this.isPlaying=!0,this.video.play())},pause:function(){this.isPlaying=!1,this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,e.getPlugin(this.stream,"slider").val(0),this._offMouse()},setVolume:function(t){if(t===void 0)return this.video.volume;t>1&&(t/=100),this.video.volume=t,e.getPlugin(this.volume[0],"slider").val(t*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr("data-aspect-ratio"),this._setAspectRatio()},changeSource:function(){var t=JSON.parse(this.element.attr("data-src"));this.play(t)},changeVolume:function(){var t=this.element.attr("data-volume");this.setVolume(t)},changeAttribute:function(t){switch(t){case"data-aspect-ratio":this.changeAspectRatio();break;case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){var t=this.element,i=this.player;return e.getPlugin(this.stream,"slider").destroy(),e.getPlugin(this.volume,"slider").destroy(),t.off("loadstart"),t.off("loadedmetadata"),t.off("canplay"),t.off("progress"),t.off("timeupdate"),t.off("waiting"),t.off("loadeddata"),t.off("play"),t.off("pause"),t.off("stop"),t.off("ended"),t.off("volumechange"),i.off(e.events.click,".play"),i.off(e.events.click,".stop"),i.off(e.events.click,".mute"),i.off(e.events.click,".loop"),i.off(e.events.click,".full"),r(globalThis).off(e.events.keyup,{ns:this.id}),r(globalThis).off(e.events.resize,{ns:this.id}),t}})}(Metro,Dom),function(e,r){var f=e.utils,o={onViewport:e.noop,onViewportEnter:e.noop,onViewportLeave:e.noop,onViewportCheckCreate:e.noop};e.viewportCheckSetup=function(t){o=r.extend({},o,t)},typeof globalThis.metroViewportCheckSetup<"u"&&e.viewportCheckSetup(globalThis.metroViewportCheckSetup),e.Component("viewport-check",{init:function(t,i){return this._super(i,t,o,{inViewport:!1,id:f.elementId("viewport-check")}),this},_create:function(){this.inViewport=f.inViewport(this.elem),this._createEvents(),this._fireEvent("viewport-check-create")},_createEvents:function(){var t=this,i=this.elem;r(globalThis).on(e.events.scroll,function(){var c=t.inViewport;t.inViewport=f.inViewport(i),c!==t.inViewport&&(t.inViewport?t._fireEvent("viewport-enter"):t._fireEvent("viewport-leave")),t._fireEvent("viewport",{state:t.inViewport})},{ns:t.id})},state:function(){return this.inViewport},destroy:function(){return r(globalThis).off(e.events.scroll,{ns:this.id}),this.element}})}(Metro,Dom),function(e,r){let f={_runtime:!1,windowDeferred:0,hidden:!1,width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,draggable:!0,dragElement:".window-caption .title",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:null,resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",closeAction:e.actions.HIDE,customButtons:null,status:"",canClose:!0,canMaximize:!0,canMinimize:!0,clsCustomButton:"",clsCaption:"",clsContent:"",clsWindow:"",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onWindowClick:e.noop,onCaptionClick:e.noop,onCaptionDblClick:e.noop,onCloseClick:e.noop,onMaxClick:e.noop,onMinClick:e.noop,onResizeStart:e.noop,onResizeStop:e.noop,onResize:e.noop,onWindowCreate:e.noop,onShow:e.noop,onWindowDestroy:e.noop,onCanClose:e.noop_true,onMinimize:e.noop,onMaximize:e.noop,onClose:e.noop};e.windowSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroWindowSetup<"u"&&e.windowSetup(globalThis.metroWindowSetup),e.Component("window",{init:function(o,t){return this._super(t,o,f,{win:null,overlay:null,position:{top:0,left:0},hidden:!1,content:null}),this},_create:function(){let o=this,t=this.element,i=this.options,c,m,b=i.dragArea==="parent"?t.parent():r(i.dragArea),w;i.modal===!0&&(i.btnMax=!1,i.btnMin=!1,i.resizable=!1),e.utils.isNull(i.content)||(e.utils.isUrl(i.content)&&e.utils.isVideoUrl(i.content)?(i.content=e.utils.embedUrl(i.content),t.css({height:"100%"})):!e.utils.isQ(i.content)&&e.utils.isFunc(i.content)&&(i.content=e.utils.exec(i.content)),w=r(i.content),w.length===0?t.appendText(i.content):t.append(w)),i.content=t,i._runtime===!0&&this._runtime(t,"window"),c=this._window(i),c.addClass("no-visible"),b.append(c),i.overlay===!0&&(m=this._overlay(),m.appendTo(c.parent()),this.overlay=m),this.win=c,this._fireEvent("window-create",{win:this.win[0],element:t}),setTimeout(function(){o._setPosition(),i.hidden!==!0&&o.win.removeClass("no-visible"),o._fireEvent("show",{win:o.win[0],element:t})},100)},_setPosition:function(){let o=this.options,t=this.win,i=o.dragArea==="parent"?t.parent():r(o.dragArea),c=i.height()/2-t[0].offsetHeight/2,m=i.width()/2-t[0].offsetWidth/2,b,w,S,D;if(o.place!=="auto"){switch(o.place.toLowerCase()){case"top-left":b=0,w=0,S="auto",D="auto";break;case"top-center":b=0,w=m,S="auto",D="auto";break;case"top-right":b=0,S=0,w="auto",D="auto";break;case"right-center":b=c,S=0,w="auto",D="auto";break;case"bottom-right":D=0,S=0,w="auto",b="auto";break;case"bottom-center":D=0,w=m,S="auto",b="auto";break;case"bottom-left":D=0,w=0,S="auto",b="auto";break;case"left-center":b=c,w=0,S="auto",D="auto";break;default:b=c,w=m,D="auto",S="auto"}t.css({top:b,left:w,bottom:D,right:S})}},_window:function(o){let t=this,i,c,m,b,w,S,D,I,P,V,z,K=o.width,ye=o.height;if(i=r("<div>").addClass("window"),o.modal===!0&&i.addClass("modal"),c=r("<div>").addClass("window-caption"),m=r("<div>").addClass("window-content"),i.append(c),i.append(m),(o.status||o.resizable)&&(z=r("<div>").addClass("window-status").html(o.status),i.append(z)),o.shadow===!0&&i.addClass("shadowed"),e.utils.isValue(o.icon)&&(b=r("<span>").addClass("icon").html(o.icon),b.appendTo(c)),w=r("<span>").addClass("title").html(e.utils.isValue(o.title)?o.title:"&nbsp;"),w.appendTo(c),e.utils.isNull(o.content)||(e.utils.isQ(o.content)?o.content.appendTo(m):m.html(o.content)),S=r("<div>").addClass("buttons"),S.appendTo(c),o.btnMax===!0&&(P=r("<span>").addClass("button small square btn-max sys-button"),P.appendTo(S)),o.btnMin===!0&&(I=r("<span>").addClass("button small square btn-min sys-button"),I.appendTo(S)),o.btnClose===!0&&(D=r("<span>").addClass("button small square btn-close sys-button"),D.appendTo(S)),o.customButtons){let _e=e.utils.isObject(o.customButtons);_e&&r.each(_e,function(){let Ne=this,Ie=r("<span>");Ie.addClass("button btn-custom").addClass(o.clsCustomButton).addClass(Ne.cls).attr("tabindex",-1).html(Ne.html),Ne.attr&&typeof Ne.attr=="object"&&r.each(Ne.attr,function(Se,Me){Ie.attr(Str.dashedName(Se),Me)}),Ie.data("action",Ne.onclick),S.prepend(Ie)})}return c.on(e.events.click,".btn-custom",function(_e){if(e.utils.isRightMouse(_e))return;let Ne=r(this),Ie=Ne.data("action");e.utils.exec(Ie,[Ne],this)}),i.attr("id",o.id===void 0?e.utils.elementId("window"):o.id),i.on(e.events.startAll,".window-caption",function(_e){t._fireEvent("caption-click",{win:i[0],e:_e})}),i.on(e.events.dblclick,".window-caption",function(_e){t.maximize(_e)}),c.on(e.events.click,".btn-max, .btn-min, .btn-close",function(_e){if(e.utils.isRightMouse(_e))return;let Ne=r(_e.target);Ne.hasClass("btn-max")&&o.canMaximize&&t.maximize(_e),Ne.hasClass("btn-min")&&o.canMinimize&&t.minimize(_e),Ne.hasClass("btn-close")&&o.canClose&&t.close(_e)}),i.on(e.events.click,function(_e){t._fireEvent("window-click",{win:i[0],e:_e})}),o.draggable===!0&&e.makePlugin(i,"draggable",{dragContext:i[0],dragElement:c,dragArea:o.dragArea,onDragStart:o.onDragStart,onDragStop:o.onDragStop,onDragMove:o.onDragMove}),i.addClass(o.clsWindow),c.addClass(o.clsCaption),m.addClass(o.clsContent),o.minWidth===0&&(o.minWidth=34,r.each(S.children(".btn-custom"),function(){o.minWidth+=e.utils.hiddenElementSize(this).width}),o.btnMax&&(o.minWidth+=34),o.btnMin&&(o.minWidth+=34),o.btnClose&&(o.minWidth+=34)),o.minWidth>0&&!isNaN(o.width)&&o.width<o.minWidth&&(K=o.minWidth),o.minHeight>0&&!isNaN(o.height)&&o.height>o.minHeight&&(ye=o.minHeight),o.resizable&&(V=r("<span>").addClass("resize-element"),V.appendTo(i),i.addClass("resizable"),e.makePlugin(i,"resizable",{minWidth:o.minWidth,minHeight:o.minHeight,maxWidth:o.maxWidth,maxHeight:o.maxHeight,resizeElement:".resize-element",onResizeStart:o.onResizeStart,onResizeStop:o.onResizeStop,onResize:o.onResize})),i.css({width:K,height:ye,position:o.position,top:o.top,left:o.left}),i},_overlay:function(){let o=this.options,t=r("<div>");return t.addClass("overlay"),o.overlayColor==="transparent"?t.addClass("transparent"):t.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(o.overlayColor),o.overlayAlpha)}),t},width:function(o){let t=this.win;return e.utils.isValue(o)?(t.css("width",parseInt(o)),this):t.width()},height:function(o){let t=this.win;return e.utils.isValue(o)?(t.css("height",parseInt(o)),this):t.height()},maximize:function(o){let t=this.win,i=this.options,c=r(o.target);i.btnMax&&(t.removeClass("minimized"),t.toggleClass("maximized")),c.hasClass&&c.hasClass("title")?this._fireEvent("caption-dbl-click",{win:t[0]}):this._fireEvent("max-click",{win:t[0]}),this._fireEvent("maximize",{win:t[0]})},minimize:function(){let o=this.win;this.options.btnMin&&(o.removeClass("maximized"),o.toggleClass("minimized")),this._fireEvent("min-click",{win:o[0]}),this._fireEvent("minimize",{win:o[0]})},close:function(){let o=this,t=this.win,i=this.options;if(e.utils.exec(i.onCanClose,[t])===!1)return!1;let c=0;i.onClose!==e.noop&&(c=500),this._fireEvent("close",{win:t[0]}),setTimeout(function(){i.modal===!0&&t.siblings(".overlay").remove(),o._fireEvent("close-click",{win:t[0]}),i.closeAction===e.actions.REMOVE?(o._fireEvent("window-destroy",{win:t[0]}),t.remove()):o.hide()},c)},hide:function(){let o=this.win;o.css({display:"none"}),this._fireEvent("hide",{win:o[0]})},show:function(){let o=this.win;o.removeClass("no-visible").css({display:"flex"}),this._fireEvent("show",{win:o[0]})},toggle:function(){this.win.css("display")==="none"||this.win.hasClass("no-visible")?this.show():this.hide()},isOpen:function(){return this.win.hasClass("no-visible")},min:function(o){o?this.win.addClass("minimized"):this.win.removeClass("minimized")},max:function(o){o?this.win.addClass("maximized"):this.win.removeClass("maximized")},changeClass:function(o){let t=this.element,i=this.win,c=this.options;o==="data-cls-window"&&(i[0].className="window "+(c.resizable?" resizable ":" ")+t.attr("data-cls-window")),o==="data-cls-caption"&&(i.find(".window-caption")[0].className="window-caption "+t.attr("data-cls-caption")),o==="data-cls-content"&&(i.find(".window-content")[0].className="window-content "+t.attr("data-cls-content"))},toggleShadow:function(){let o=this.element,t=this.win;JSON.parse(o.attr("data-shadow"))===!0?t.addClass("win-shadow"):t.removeClass("win-shadow")},setContent:function(o){let t=this.element,i=this.win,c=e.utils.isValue(o)?o:t.attr("data-content"),m;!e.utils.isQ(c)&&e.utils.isFunc(c)?m=e.utils.exec(c):e.utils.isQ(c)?m=c.html():m=c,i.find(".window-content").html(m)},setTitle:function(o){let t=this.element,i=this.win,c=e.utils.isValue(o)?o:t.attr("data-title");i.find(".window-caption .title").html(c)},setIcon:function(o){let t=this.element,i=this.win,c=e.utils.isValue(o)?o:t.attr("data-icon");i.find(".window-caption .icon").html(c)},getIcon:function(){return this.win.find(".window-caption .icon").html()},getTitle:function(){return this.win.find(".window-caption .title").html()},toggleDraggable:function(o){let t=this.win,i=e.utils.bool(o),c=e.getPlugin(t,"draggable");i===!0?c.on():c.off()},toggleResizable:function(o){let t=this.win,i=e.utils.bool(o),c=e.getPlugin(t,"resizable");i===!0?(c.on(),t.find(".resize-element").removeClass("resize-element-disabled")):(c.off(),t.find(".resize-element").addClass("resize-element-disabled"))},changePlace:function(o){let t=this.element,i=this.win,c=e.utils.isValue(o)?o:t.attr("data-place");i.addClass(c)},pos:function(o,t){return this.win.css({top:o,left:t}),this},top:function(o){return this.win.css({top:o}),this},left:function(o){return this.win.css({left:o}),this},changeAttribute:function(o,t){let i=function(b,w){let S=this.win,D;if(b==="data-top"){if(D=parseInt(w),!isNaN(D))return;S.css("top",D)}if(b==="data-left"){if(D=parseInt(w),!isNaN(D))return;S.css("left",D)}},c=function(b,w){let S=this.win,D=S.find(".btn-close"),I=S.find(".btn-min"),P=S.find(".btn-max"),V=e.utils.bool(w)?"show":"hide";switch(b){case"data-btn-close":D[V]();break;case"data-btn-min":I[V]();break;case"data-btn-max":P[V]();break}},m=function(b,w){let S=this.win;b==="data-width"&&S.css("width",+w),b==="data-height"&&S.css("height",+w)};switch(o){case"data-btn-close":case"data-btn-min":case"data-btn-max":c(o,t);break;case"data-width":case"data-height":m(o,t);break;case"data-cls-window":case"data-cls-caption":case"data-cls-content":this.changeClass(o);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable(t);break;case"data-resizable":this.toggleResizable(t);break;case"data-top":case"data-left":i(o,t);break;case"data-place":this.changePlace();break}},destroy:function(){return this.element}}),e.window={isWindow:function(o){return e.utils.isMetroObject(o,"window")},min:function(o,t){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").min(t)},max:function(o,t){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").max(t)},show:function(o){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").show()},hide:function(o){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").hide()},toggle:function(o){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").toggle()},isOpen:function(o){return this.isWindow(o)?e.getPlugin(o,"window").isOpen():!1},close:function(o){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").close()},pos:function(o,t,i){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").pos(t,i)},top:function(o,t){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").top(t)},left:function(o,t){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").left(t)},width:function(o,t){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").width(t)},height:function(o,t){if(!this.isWindow(o))return!1;e.getPlugin(o,"window").height(t)},create:function(o,t){let i;i=r("<div>").appendTo(r(t||"body"));let c=r.extend({_runtime:!0},o||{});return e.makePlugin(i,"window",c),e.getPlugin(i,"window").win}}}(Metro,Dom),function(e,r){let f={wizardDeferred:0,start:1,finish:0,iconHelp:"💡",iconPrev:"🡐",iconNext:"🡒",iconFinish:"✔",buttonMode:"cycle",buttonOutline:!0,duration:300,clsWizard:"",clsActions:"",clsHelp:"",clsPrev:"",clsNext:"",clsFinish:"",onPage:e.noop,onNextPage:e.noop,onPrevPage:e.noop,onFirstPage:e.noop,onLastPage:e.noop,onFinishPage:e.noop,onHelpClick:e.noop,onPrevClick:e.noop,onNextClick:e.noop,onFinishClick:e.noop,onBeforePrev:e.noop_true,onBeforeNext:e.noop_true,onWizardCreate:e.noop};e.wizardSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroWizardSetup<"u"&&e.wizardSetup(globalThis.metroWizardSetup),e.Component("wizard",{init:function(o,t){return this._super(t,o,f,{id:e.utils.elementId("wizard")}),this},_create:function(){let o=this.element;this._createWizard(),this._createEvents(),this._fireEvent("wizard-create",{element:o})},_createWizard:function(){let o=this.element,t=this.options,i;o.addClass("wizard").addClass(t.view).addClass(t.clsWizard),i=r("<div>").addClass("action-bar").addClass(t.clsActions).appendTo(o);let c=t.buttonMode==="button"?"":t.buttonMode;t.buttonOutline===!0&&(c+=" outline"),t.iconHelp!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-help").addClass(c).addClass(t.clsHelp).html(t.iconHelp).appendTo(i),t.iconPrev!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-prev").addClass(c).addClass(t.clsPrev).html(t.iconPrev).appendTo(i),t.iconNext!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-next").addClass(c).addClass(t.clsNext).html(t.iconNext).appendTo(i),t.iconFinish!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-finish").addClass(c).addClass(t.clsFinish).html(t.iconFinish).appendTo(i),this.toPage(t.start),this._setHeight()},_setHeight:function(){let o=this.element,t=o.children("section"),i=0;t.children(".page-content").css("max-height","none"),r.each(t,function(){let c=r(this).height();i<parseInt(c)&&(i=c)}),o.height(i)},_createEvents:function(){let o=this,t=this.element;t.on(e.events.click,".wizard-btn-help",function(){let i=t.children("section").get(o.current-1);o._fireEvent("help-click",{index:o.current,page:i})}),t.on(e.events.click,".wizard-btn-prev",function(){o.prev();let i=t.children("section").get(o.current-1);o._fireEvent("prev-click",{index:o.current,page:i})}),t.on(e.events.click,".wizard-btn-next",function(){o.next();let i=t.children("section").get(o.current-1);o._fireEvent("next-click",{index:o.current,page:i})}),t.on(e.events.click,".wizard-btn-finish",function(){let i=t.children("section").get(o.current-1);o._fireEvent("finish-click",{index:o.current,page:i})}),t.on(e.events.click,".complete",function(){let i=r(this).index()+1;o.toPage(i)}),r(globalThis).on(e.events.resize,function(){o._setHeight()},{ns:this.id})},next:function(){let o=this,t=this.element,i=this.options,c=t.children("section"),m=r(t.children("section").get(this.current-1));this.current+1>c.length||e.utils.exec(i.onBeforeNext,[this.current,m,t])===!1||(this.current++,this.toPage(this.current),m=r(t.children("section").get(this.current-1)),this._fireEvent("next-page",{index:o.current,page:m[0]}))},prev:function(){let o=this,t=this.element,i=this.options,c=r(t.children("section").get(this.current-1));this.current-1===0||e.utils.exec(i.onBeforePrev,[this.current,c,t])===!1||(this.current--,this.toPage(this.current),c=r(t.children("section").get(this.current-1)),this._fireEvent("prev-page",{index:o.current,page:c[0]}))},last:function(){let o=this,t=this.element,i;this.toPage(t.children("section").length),i=r(t.children("section").get(this.current-1)),this._fireEvent("last-page",{index:o.current,page:i[0]})},first:function(){let o=this,t=this.element,i;this.toPage(1),i=r(t.children("section").get(0)),this._fireEvent("first-page",{index:o.current,page:i[0]})},toPage:function(o){let t=this.element,i=this.options,c=r(t.children("section").get(o-1)),m=t.children("section"),b=t.find(".action-bar");if(c.length===0)return;let w=t.find(".wizard-btn-finish").addClass("disabled"),S=t.find(".wizard-btn-next").addClass("disabled"),D=t.find(".wizard-btn-prev").addClass("disabled");this.current=o,t.children("section").removeClass("complete current").removeClass(i.clsCurrent).removeClass(i.clsComplete),c.addClass("current").addClass(i.clsCurrent),c.prevAll().addClass("complete").addClass(i.clsComplete);let I=t.children("section.complete").length===0?0:parseInt(e.utils.getStyleOne(t.children("section.complete")[0],"border-left-width"));b.animate({draw:{left:t.children("section.complete").length*I+41},dur:i.duration}),(this.current===m.length||i.finish>0&&this.current>=i.finish)&&w.removeClass("disabled"),parseInt(i.finish)>0&&this.current===parseInt(i.finish)&&this._fireEvent("finish-page",{index:this.current,page:c[0]}),this.current<m.length&&S.removeClass("disabled"),this.current>1&&D.removeClass("disabled"),this._fireEvent("page",{index:this.current,page:c[0]})},changeAttribute:function(){},destroy:function(){let o=this.element;o.off(e.events.click,".wizard-btn-help"),o.off(e.events.click,".wizard-btn-prev"),o.off(e.events.click,".wizard-btn-next"),o.off(e.events.click,".wizard-btn-finish"),o.off(e.events.click,".complete"),r(globalThis).off(e.events.resize,{ns:this.id}),o.remove()}})}(Metro,Dom),function(e,r){let f={onStateChange:e.noop,onWorkingTreeCreate:e.noop};e.workingTreeSetup=function(o){f=r.extend({},f,o)},typeof globalThis.metroWorkingTreeSetup<"u"&&e.workingTreeSetup(globalThis.metroWorkingTreeSetup),e.Component("working-tree",{init(o,t){return this._super(t,o,f,{}),this},_create(){this._createStructure(),this._createEvents(),this._fireEvent("tree-create")},addNode({id:o,title:t="",value:i="",items:c=[]}={}){let m=this.element,b=(o||Hooks.useId(`working-tree-node-${m.children().length}`)).replace(/:/gi,""),w=`
                <li id="${b}">
                    <div class="bull"></div>
                    <div class="node">
                        <div class="title">${t}</div>
                        <div class="value">${i}</div>
                    </div>
                    <ul class="leaves">
                        ${c.map(S=>`<li><div class="title">${S.title}</div><div class="value">${S.value}</div> </li>`).join(`
`)}                    
                    </ul>
                </li>
            `;return this.element.append(w),b},setState(o,t="pending"){let i=this.element.find(`#${o}`).clearClasses().addClass(`work-${t}`);return i.find(".bull").html(`<span data-role="bull" data-type="${t}"></span>`),this._fireEvent("state-change",{id:o,state:t,node:i}),this},_createStructure(){let o=this.element;this.options,o.addClass("working-tree")},_createEvents(){this.element,this.options},changeAttribute(o,t){},destroy(){this.element.remove()}})}(Metro,Dom),function(e,r){let f="[data-role-dropmenu], [data-role-dropdown]",o='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',t={height:"auto",align:"left",onMenuCreate:e.noop};e.dropMenuSetup=function(i){t=r.extend({},t,i)},typeof globalThis.metroDropMenuSetup<"u"&&e.dropMenuSetup(globalThis.metroDropMenuSetup),e.Component("dropmenu",{init:function(i,c){return this._super(c,i,t,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("menu-create")},_toggle:function(){let i=this.element,c=i.siblings(".menu-toggle, .dropdown-toggle, a");if(c.length===0&&(c=i.prev(),c.length===0))throw new Error("Menu toggle not found");return c[0]},_createStructure:function(){let i=this.element,c=this.options;this.level=i.parents("[data-role-dropmenu]").length,this.toggle=r(this._toggle()).append(o),this.displayOrigin=i.css("display"),this.element.addClass("drop-menu").css("z-index",`calc(var(--z-index-fixed) + ${this.level})!important`).hide(),c.height!=="auto"&&i.css("max-height",c.height)},_createEvents:function(){let i=this.element;this.toggle.on("click",c=>{r(f).each((m,b)=>{let w=r(b),S=i.parents("[data-role-dropmenu]").is(b);if(b===i[0]||S||w.hasClass("keep-open")||w.hasClass("stay-open")||w.hasClass("ignore-document-click"))return;let D=e.getPlugin(b,"dropdown"),I=e.getPlugin(b,"dropmenu");D&&D.close(),I&&I.close()}),this.isOpen===!1?this.open():this.close(),c.preventDefault(),c.stopPropagation()})},close:function(){this.isOpen!==!1&&(this.toggle.removeClass("active-toggle"),this.element.hide(),this.isOpen=!1)},open:function(){let i=this.element,c=this.options,m=e.utils.rect(this.toggle[0]),b=i.parents("[data-role-dropmenu]").length;if(i.show().visible(!1),b===0){i.css({top:m.bottom,left:m.left});let w=e.utils.viewportOutByWidth(i[0]),S=e.utils.viewportOutByHeight(i[0]);(c.align==="right"||w)&&(i.css({left:m.right-i.width()}),c.align!=="right"&&e.utils.viewportOutByWidth(i[0])&&i.css({left:m.left})),S&&(i.css({top:m.top-i.height()}),e.utils.viewportOutByHeight(i[0])&&i.css({top:m.bottom}))}else{i.css({top:m.top,left:m.right});let w=e.utils.viewportOutByWidth(i[0]);(c.align==="right"||w)&&(i.css({left:m.left-i.width()}),c.align!=="right"&&e.utils.viewportOutByWidth(i[0])&&i.css({left:m.right}))}this.toggle.addClass("active-toggle"),this.isOpen=!0,i.visible(!0)},changeAttribute:function(i,c){},destroy:function(){this.element.remove()}}),r(document).on("click",function(i){r(f).each((c,m)=>{let b=r(m);if(b.hasClass("keep-open")||b.hasClass("stay-open")||b.hasClass("ignore-document-click"))return;let w=e.getPlugin(m,"dropdown"),S=e.getPlugin(m,"dropmenu");w&&w.close(),S&&S.close()})})}(Metro,Dom)})();//!node.hasClass("expanded");
/*! Bundled license information:

@olton/datetime/dist/datetime.js:
  (*!
   * Datetime v3.2.2.
   * Build time: 09.03.2025, 06:30:54
   * Copyright 2025 by Serhii Pimenov
   * Licensed under MIT
   *
   * Build time: 09.03.2025 06:30:54
   *)

@olton/string/dist/string.js:
  (*!
   * String v0.10.0 (@olton/string)
   * Copyright 2025 by Serhii Pimenov
   * Built: 16.03.2025, 19:17:56
   * Licensed under MIT
   *)

@olton/dom/dist/dom.js:
  (*!
   * DOM - Work with HTML elements (@olton/dom, https://metroui.org.ua)
   * Version: 1.4.0
   * Build date: 08.03.2025, 03:24:58
   * Copyright 2012-2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/hooks/dist/hooks.js:
  (*!
   * Hooks v0.13.0 (@olton/hooks)
   * Copyright 2025 by Serhii Pimenov <serhii@pimenov.com.ua>
   * Built: 07.03.2025, 15:05:04
   * Licensed under MIT
   *)

@olton/farbe/dist/farbe.es.js:
  (*!
   * Farbe  v1.0.4 - Color manipulation library
   * Copyright 2024 by Serhii Pimenov
   * Licensed under MIT
   !*)

@olton/html/dist/html.js:
  (*!
   * Html.js v0.14.0
   * Description: Creating HTML Elements with JavaScript
   * Build: 18.03.2025, 23:11:45
   * Copyright 2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/guardian/dist/guardian.js:
  (*!
   * Guardian v0.7.1
   * Data guard and validation library
   * Copyright 2025 Serhii Pimenov
   * Licensed under MIT
   *
   * Build time: 07.02.2025 03:04:31
   *)

@olton/router/dist/router.js:
  (*!
   * Router v0.4.0 (Router ror SPA)
   * Build: 08.03.2025, 01:01:34
   * Copyright 2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/model/dist/model.js:
  (*!
   * Model v0.17.0
   * Build: 06.03.2025, 13:09:45
   * Copyright 2012-2025 by Serhii Pimenov
   * Licensed under MIT
   *)
*/var eg=o0;function o0(){var d=[].slice.call(arguments),a=!1;typeof d[0]=="boolean"&&(a=d.shift());var l=d[0];if(tg(l))throw new Error("extendee must be an object");for(var h=d.slice(1),p=h.length,v=0;v<p;v++){var C=h[v];for(var k in C)if(Object.prototype.hasOwnProperty.call(C,k)){var T=C[k];if(a&&z1(T)){var E=Array.isArray(T)?[]:{};l[k]=o0(!0,Object.prototype.hasOwnProperty.call(l,k)&&!tg(l[k])?l[k]:E,T)}else l[k]=T}}return l}function z1(d){return Array.isArray(d)||{}.toString.call(d)=="[object Object]"}function tg(d){return!d||typeof d!="object"&&typeof d!="function"}function H1(d){return d&&d.__esModule?d.default:d}class ng{on(a,l){return this._callbacks=this._callbacks||{},this._callbacks[a]||(this._callbacks[a]=[]),this._callbacks[a].push(l),this}emit(a,...l){this._callbacks=this._callbacks||{};let h=this._callbacks[a];if(h)for(let p of h)p.apply(this,l);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+a,{args:l})),this}makeEvent(a,l){let h={bubbles:!0,cancelable:!0,detail:l};if(typeof window.CustomEvent=="function")return new CustomEvent(a,h);var p=document.createEvent("CustomEvent");return p.initCustomEvent(a,h.bubbles,h.cancelable,h.detail),p}off(a,l){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let h=this._callbacks[a];if(!h)return this;if(arguments.length===1)return delete this._callbacks[a],this;for(let p=0;p<h.length;p++)if(h[p]===l){h.splice(p,1);break}return this}}var r0={};r0=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let V1={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(d,a,l){if(l)return{dzuuid:l.file.upload.uuid,dzchunkindex:l.index,dztotalfilesize:l.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:l.file.upload.totalChunkCount,dzchunkbyteoffset:l.index*this.options.chunkSize}},accept(d,a){return a()},chunksUploaded:function(d,a){a()},binaryBody:!1,fallback(){let d;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let l of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(l.className)){d=l,l.className="dz-message";break}d||(d=et.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(d));let a=d.getElementsByTagName("span")[0];return a&&(a.textContent!=null?a.textContent=this.options.dictFallbackMessage:a.innerText!=null&&(a.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(d,a,l,h){let p={srcX:0,srcY:0,srcWidth:d.width,srcHeight:d.height},v=d.width/d.height;a==null&&l==null?(a=p.srcWidth,l=p.srcHeight):a==null?a=l*v:l==null&&(l=a/v),a=Math.min(a,p.srcWidth),l=Math.min(l,p.srcHeight);let C=a/l;if(p.srcWidth>a||p.srcHeight>l)if(h==="crop")v>C?(p.srcHeight=d.height,p.srcWidth=p.srcHeight*C):(p.srcWidth=d.width,p.srcHeight=p.srcWidth/C);else if(h==="contain")v>C?l=a/v:a=l*v;else throw new Error(`Unknown resizeMethod '${h}'`);return p.srcX=(d.width-p.srcWidth)/2,p.srcY=(d.height-p.srcHeight)/2,p.trgWidth=a,p.trgHeight=l,p},transformFile(d,a){return(this.options.resizeWidth||this.options.resizeHeight)&&d.type.match(/image.*/)?this.resizeImage(d,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,a):a(d)},previewTemplate:H1(r0),drop(d){return this.element.classList.remove("dz-drag-hover")},dragstart(d){},dragend(d){return this.element.classList.remove("dz-drag-hover")},dragenter(d){return this.element.classList.add("dz-drag-hover")},dragover(d){return this.element.classList.add("dz-drag-hover")},dragleave(d){return this.element.classList.remove("dz-drag-hover")},paste(d){},reset(){return this.element.classList.remove("dz-started")},addedfile(d){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){d.previewElement=et.createElement(this.options.previewTemplate.trim()),d.previewTemplate=d.previewElement,this.previewsContainer.appendChild(d.previewElement);for(var a of d.previewElement.querySelectorAll("[data-dz-name]"))a.textContent=d.name;for(a of d.previewElement.querySelectorAll("[data-dz-size]"))a.innerHTML=this.filesize(d.size);this.options.addRemoveLinks&&(d._removeLink=et.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),d.previewElement.appendChild(d._removeLink));let l=h=>(h.preventDefault(),h.stopPropagation(),d.status===et.UPLOADING?et.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(d)):this.options.dictRemoveFileConfirmation?et.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(d)):this.removeFile(d));for(let h of d.previewElement.querySelectorAll("[data-dz-remove]"))h.addEventListener("click",l)}},removedfile(d){return d.previewElement!=null&&d.previewElement.parentNode!=null&&d.previewElement.parentNode.removeChild(d.previewElement),this._updateMaxFilesReachedClass()},thumbnail(d,a){if(d.previewElement){d.previewElement.classList.remove("dz-file-preview");for(let l of d.previewElement.querySelectorAll("[data-dz-thumbnail]"))l.alt=d.name,l.src=a;return setTimeout(()=>d.previewElement.classList.add("dz-image-preview"),1)}},error(d,a){if(d.previewElement){d.previewElement.classList.add("dz-error"),typeof a!="string"&&a.error&&(a=a.error);for(let l of d.previewElement.querySelectorAll("[data-dz-errormessage]"))l.textContent=a}},errormultiple(){},processing(d){if(d.previewElement&&(d.previewElement.classList.add("dz-processing"),d._removeLink))return d._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(d,a,l){if(d.previewElement)for(let h of d.previewElement.querySelectorAll("[data-dz-uploadprogress]"))h.nodeName==="PROGRESS"?h.value=a:h.style.width=`${a}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(d){if(d.previewElement)return d.previewElement.classList.add("dz-success")},successmultiple(){},canceled(d){return this.emit("error",d,this.options.dictUploadCanceled)},canceledmultiple(){},complete(d){if(d._removeLink&&(d._removeLink.innerHTML=this.options.dictRemoveFile),d.previewElement)return d.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var W1=V1;class et extends ng{static initClass(){this.prototype.Emitter=ng,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(a=>a.accepted).map(a=>a)}getRejectedFiles(){return this.files.filter(a=>!a.accepted).map(a=>a)}getFilesWithStatus(a){return this.files.filter(l=>l.status===a).map(l=>l)}getQueuedFiles(){return this.getFilesWithStatus(et.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(et.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(et.ADDED)}getActiveFiles(){return this.files.filter(a=>a.status===et.UPLOADING||a.status===et.QUEUED).map(a=>a)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(et.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let h=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",et.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:p}=this.hiddenFileInput;if(p.length)for(let v of p)this.addFile(v);this.emit("addedfiles",p),h()})};h()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let h of this.events)this.on(h,this.options[h]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",h=>this.emit("complete",h)),this.on("complete",h=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const a=function(h){if(h.dataTransfer.types){for(var p=0;p<h.dataTransfer.types.length;p++)if(h.dataTransfer.types[p]==="Files")return!0}return!1};let l=function(h){if(a(h))return h.stopPropagation(),h.preventDefault?h.preventDefault():h.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:h=>this.emit("dragstart",h),dragenter:h=>(l(h),this.emit("dragenter",h)),dragover:h=>{let p;try{p=h.dataTransfer.effectAllowed}catch{}return h.dataTransfer.dropEffect=p==="move"||p==="linkMove"?"move":"copy",l(h),this.emit("dragover",h)},dragleave:h=>this.emit("dragleave",h),drop:h=>(l(h),this.drop(h)),dragend:h=>this.emit("dragend",h)}}],this.clickableElements.forEach(h=>this.listeners.push({element:h,events:{click:p=>((h!==this.element||p.target===this.element||et.elementInside(p.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,et.instances.splice(et.instances.indexOf(this),1)}updateTotalUploadProgress(){let a,l=0,h=0;if(this.getActiveFiles().length){for(let v of this.getActiveFiles())l+=v.upload.bytesSent,h+=v.upload.total;a=100*l/h}else a=100;return this.emit("totaluploadprogress",a,h,l)}_getParamName(a){return typeof this.options.paramName=="function"?this.options.paramName(a):`${this.options.paramName}${this.options.uploadMultiple?`[${a}]`:""}`}_renameFile(a){return typeof this.options.renameFile!="function"?a.name:this.options.renameFile(a)}getFallbackForm(){let a,l;if(a=this.getExistingFallback())return a;let h='<div class="dz-fallback">';this.options.dictFallbackText&&(h+=`<p>${this.options.dictFallbackText}</p>`),h+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let p=et.createElement(h);return this.element.tagName!=="FORM"?(l=et.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),l.appendChild(p)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),l??p}getExistingFallback(){let a=function(h){for(let p of h)if(/(^| )fallback($| )/.test(p.className))return p};for(let h of["div","form"]){var l;if(l=a(this.element.getElementsByTagName(h)))return l}}setupEventListeners(){return this.listeners.map(a=>(()=>{let l=[];for(let h in a.events){let p=a.events[h];l.push(a.element.addEventListener(h,p,!1))}return l})())}removeEventListeners(){return this.listeners.map(a=>(()=>{let l=[];for(let h in a.events){let p=a.events[h];l.push(a.element.removeEventListener(h,p,!1))}return l})())}disable(){return this.clickableElements.forEach(a=>a.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(a=>this.cancelUpload(a))}enable(){return delete this.disabled,this.clickableElements.forEach(a=>a.classList.add("dz-clickable")),this.setupEventListeners()}filesize(a){let l=0,h="b";if(a>0){let p=["tb","gb","mb","kb","b"];for(let v=0;v<p.length;v++){let C=p[v],k=Math.pow(this.options.filesizeBase,4-v)/10;if(a>=k){l=a/Math.pow(this.options.filesizeBase,4-v),h=C;break}}l=Math.round(10*l)/10}return`<strong>${l}</strong> ${this.options.dictFileSizeUnits[h]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(a){if(!a.dataTransfer)return;this.emit("drop",a);let l=[];for(let h=0;h<a.dataTransfer.files.length;h++)l[h]=a.dataTransfer.files[h];if(l.length){let{items:h}=a.dataTransfer;h&&h.length&&h[0].webkitGetAsEntry!=null?this._addFilesFromItems(h):this.handleFiles(l)}this.emit("addedfiles",l)}paste(a){if(Y1(a!=null?a.clipboardData:void 0,h=>h.items)==null)return;this.emit("paste",a);let{items:l}=a.clipboardData;if(l.length)return this._addFilesFromItems(l)}handleFiles(a){for(let l of a)this.addFile(l)}_addFilesFromItems(a){return(()=>{let l=[];for(let p of a){var h;p.webkitGetAsEntry!=null&&(h=p.webkitGetAsEntry())?h.isFile?l.push(this.addFile(p.getAsFile())):h.isDirectory?l.push(this._addFilesFromDirectory(h,h.name)):l.push(void 0):p.getAsFile!=null&&(p.kind==null||p.kind==="file")?l.push(this.addFile(p.getAsFile())):l.push(void 0)}return l})()}_addFilesFromDirectory(a,l){let h=a.createReader(),p=C=>G1(console,"log",k=>k.log(C));var v=()=>h.readEntries(C=>{if(C.length>0){for(let k of C)k.isFile?k.file(T=>{if(!(this.options.ignoreHiddenFiles&&T.name.substring(0,1)==="."))return T.fullPath=`${l}/${T.name}`,this.addFile(T)}):k.isDirectory&&this._addFilesFromDirectory(k,`${l}/${k.name}`);v()}return null},p);return v()}accept(a,l){this.options.maxFilesize&&a.size>this.options.maxFilesize*1048576?l(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):et.isValidFile(a,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(l(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,l):l(this.options.dictInvalidFileType)}addFile(a){a.upload={uuid:et.uuidv4(),progress:0,total:a.size,bytesSent:0,filename:this._renameFile(a)},this.files.push(a),a.status=et.ADDED,this.emit("addedfile",a),this._enqueueThumbnail(a),this.accept(a,l=>{l?(a.accepted=!1,this._errorProcessing([a],l)):(a.accepted=!0,this.options.autoQueue&&this.enqueueFile(a)),this._updateMaxFilesReachedClass()})}enqueueFiles(a){for(let l of a)this.enqueueFile(l);return null}enqueueFile(a){if(a.status===et.ADDED&&a.accepted===!0){if(a.status=et.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(a){if(this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(a),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let a=this._thumbnailQueue.shift();return this.createThumbnail(a,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,l=>(this.emit("thumbnail",a,l),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(a){if(a.status===et.UPLOADING&&this.cancelUpload(a),this.files=j1(this.files,a),this.emit("removedfile",a),this.files.length===0)return this.emit("reset")}removeAllFiles(a){a==null&&(a=!1);for(let l of this.files.slice())(l.status!==et.UPLOADING||a)&&this.removeFile(l);return null}resizeImage(a,l,h,p,v){return this.createThumbnail(a,l,h,p,!0,(C,k)=>{if(k==null)return v(a);{let{resizeMimeType:T}=this.options;T==null&&(T=a.type);let E=k.toDataURL(T,this.options.resizeQuality);return(T==="image/jpeg"||T==="image/jpg")&&(E=l0.restore(a.dataURL,E)),v(et.dataURItoBlob(E))}})}createThumbnail(a,l,h,p,v,C){let k=new FileReader;k.onload=()=>{if(a.dataURL=k.result,a.type==="image/svg+xml"){C!=null&&C(k.result);return}this.createThumbnailFromUrl(a,l,h,p,v,C)},k.readAsDataURL(a)}displayExistingFile(a,l,h,p,v=!0){if(this.emit("addedfile",a),this.emit("complete",a),!v)this.emit("thumbnail",a,l),h&&h();else{let C=k=>{this.emit("thumbnail",a,k),h&&h()};a.dataURL=l,this.createThumbnailFromUrl(a,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,C,p)}}createThumbnailFromUrl(a,l,h,p,v,C,k){let T=document.createElement("img");return k&&(T.crossOrigin=k),v=getComputedStyle(document.body).imageOrientation=="from-image"?!1:v,T.onload=()=>{let E=A=>A(1);return typeof EXIF<"u"&&EXIF!==null&&v&&(E=A=>EXIF.getData(T,function(){return A(EXIF.getTag(this,"Orientation"))})),E(A=>{a.width=T.width,a.height=T.height;let O=this.options.resize.call(this,a,l,h,p),R=document.createElement("canvas"),j=R.getContext("2d");switch(R.width=O.trgWidth,R.height=O.trgHeight,A>4&&(R.width=O.trgHeight,R.height=O.trgWidth),A){case 2:j.translate(R.width,0),j.scale(-1,1);break;case 3:j.translate(R.width,R.height),j.rotate(Math.PI);break;case 4:j.translate(0,R.height),j.scale(1,-1);break;case 5:j.rotate(.5*Math.PI),j.scale(1,-1);break;case 6:j.rotate(.5*Math.PI),j.translate(0,-R.width);break;case 7:j.rotate(.5*Math.PI),j.translate(R.height,-R.width),j.scale(-1,1);break;case 8:j.rotate(-.5*Math.PI),j.translate(-R.height,0);break}q1(j,T,O.srcX!=null?O.srcX:0,O.srcY!=null?O.srcY:0,O.srcWidth,O.srcHeight,O.trgX!=null?O.trgX:0,O.trgY!=null?O.trgY:0,O.trgWidth,O.trgHeight);let X=R.toDataURL("image/png");if(C!=null)return C(X,R)})},C!=null&&(T.onerror=C),T.src=a.dataURL}processQueue(){let{parallelUploads:a}=this.options,l=this.getUploadingFiles().length,h=l;if(l>=a)return;let p=this.getQueuedFiles();if(p.length>0){if(this.options.uploadMultiple)return this.processFiles(p.slice(0,a-l));for(;h<a;){if(!p.length)return;this.processFile(p.shift()),h++}}}processFile(a){return this.processFiles([a])}processFiles(a){for(let l of a)l.processing=!0,l.status=et.UPLOADING,this.emit("processing",l);return this.options.uploadMultiple&&this.emit("processingmultiple",a),this.uploadFiles(a)}_getFilesWithXhr(a){return this.files.filter(l=>l.xhr===a).map(l=>l)}cancelUpload(a){if(a.status===et.UPLOADING){let l=this._getFilesWithXhr(a.xhr);for(let h of l)h.status=et.CANCELED;typeof a.xhr<"u"&&a.xhr.abort();for(let h of l)this.emit("canceled",h);this.options.uploadMultiple&&this.emit("canceledmultiple",l)}else(a.status===et.ADDED||a.status===et.QUEUED)&&(a.status=et.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(a,...l){return typeof a=="function"?a.apply(this,l):a}uploadFile(a){return this.uploadFiles([a])}uploadFiles(a){this._transformFiles(a,l=>{if(this.options.chunking){let h=l[0];a[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||h.size>this.options.chunkSize),a[0].upload.totalChunkCount=Math.ceil(h.size/this.options.chunkSize)}if(a[0].upload.chunked){let h=a[0],p=l[0];h.upload.chunks=[];let v=()=>{let C=0;for(;h.upload.chunks[C]!==void 0;)C++;if(C>=h.upload.totalChunkCount)return;let k=C*this.options.chunkSize,T=Math.min(k+this.options.chunkSize,p.size),E={name:this._getParamName(0),data:p.webkitSlice?p.webkitSlice(k,T):p.slice(k,T),filename:h.upload.filename,chunkIndex:C};h.upload.chunks[C]={file:h,index:C,dataBlock:E,status:et.UPLOADING,progress:0,retries:0},this._uploadData(a,[E])};if(h.upload.finishedChunkUpload=(C,k)=>{let T=!0;C.status=et.SUCCESS,C.dataBlock=null,C.response=C.xhr.responseText,C.responseHeaders=C.xhr.getAllResponseHeaders(),C.xhr=null;for(let E=0;E<h.upload.totalChunkCount;E++){if(h.upload.chunks[E]===void 0)return v();h.upload.chunks[E].status!==et.SUCCESS&&(T=!1)}T&&this.options.chunksUploaded(h,()=>{this._finished(a,k,null)})},this.options.parallelChunkUploads)for(let C=0;C<h.upload.totalChunkCount;C++)v();else v()}else{let h=[];for(let p=0;p<a.length;p++)h[p]={name:this._getParamName(p),data:l[p],filename:a[p].upload.filename};this._uploadData(a,h)}})}_getChunk(a,l){for(let h=0;h<a.upload.totalChunkCount;h++)if(a.upload.chunks[h]!==void 0&&a.upload.chunks[h].xhr===l)return a.upload.chunks[h]}_uploadData(a,l){let h=new XMLHttpRequest;for(let E of a)E.xhr=h;a[0].upload.chunked&&(a[0].upload.chunks[l[0].chunkIndex].xhr=h);let p=this.resolveOption(this.options.method,a,l),v=this.resolveOption(this.options.url,a,l);h.open(p,v,!0),this.resolveOption(this.options.timeout,a)&&(h.timeout=this.resolveOption(this.options.timeout,a)),h.withCredentials=!!this.options.withCredentials,h.onload=E=>{this._finishedUploading(a,h,E)},h.ontimeout=()=>{this._handleUploadError(a,h,`Request timedout after ${this.options.timeout/1e3} seconds`)},h.onerror=()=>{this._handleUploadError(a,h)};let k=h.upload!=null?h.upload:h;k.onprogress=E=>this._updateFilesUploadProgress(a,h,E);let T=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(T["Content-Type"]=a[0].type),this.options.headers&&eg(T,this.options.headers);for(let E in T){let A=T[E];A&&h.setRequestHeader(E,A)}if(this.options.binaryBody){for(let E of a)this.emit("sending",E,h);this.options.uploadMultiple&&this.emit("sendingmultiple",a,h),this.submitRequest(h,null,a)}else{let E=new FormData;if(this.options.params){let A=this.options.params;typeof A=="function"&&(A=A.call(this,a,h,a[0].upload.chunked?this._getChunk(a[0],h):null));for(let O in A){let R=A[O];if(Array.isArray(R))for(let j=0;j<R.length;j++)E.append(O,R[j]);else E.append(O,R)}}for(let A of a)this.emit("sending",A,h,E);this.options.uploadMultiple&&this.emit("sendingmultiple",a,h,E),this._addFormElementData(E);for(let A=0;A<l.length;A++){let O=l[A];E.append(O.name,O.data,O.filename)}this.submitRequest(h,E,a)}}_transformFiles(a,l){let h=[],p=0;for(let v=0;v<a.length;v++)this.options.transformFile.call(this,a[v],C=>{h[v]=C,++p===a.length&&l(h)})}_addFormElementData(a){if(this.element.tagName==="FORM")for(let l of this.element.querySelectorAll("input, textarea, select, button")){let h=l.getAttribute("name"),p=l.getAttribute("type");if(p&&(p=p.toLowerCase()),!(typeof h>"u"||h===null))if(l.tagName==="SELECT"&&l.hasAttribute("multiple"))for(let v of l.options)v.selected&&a.append(h,v.value);else(!p||p!=="checkbox"&&p!=="radio"||l.checked)&&a.append(h,l.value)}}_updateFilesUploadProgress(a,l,h){if(a[0].upload.chunked){let p=a[0],v=this._getChunk(p,l);h?(v.progress=100*h.loaded/h.total,v.total=h.total,v.bytesSent=h.loaded):(v.progress=100,v.bytesSent=v.total),p.upload.progress=0,p.upload.total=0,p.upload.bytesSent=0;for(let C=0;C<p.upload.totalChunkCount;C++)p.upload.chunks[C]&&typeof p.upload.chunks[C].progress<"u"&&(p.upload.progress+=p.upload.chunks[C].progress,p.upload.total+=p.upload.chunks[C].total,p.upload.bytesSent+=p.upload.chunks[C].bytesSent);p.upload.progress=p.upload.progress/p.upload.totalChunkCount,this.emit("uploadprogress",p,p.upload.progress,p.upload.bytesSent)}else for(let p of a)p.upload.total&&p.upload.bytesSent&&p.upload.bytesSent==p.upload.total||(h?(p.upload.progress=100*h.loaded/h.total,p.upload.total=h.total,p.upload.bytesSent=h.loaded):(p.upload.progress=100,p.upload.bytesSent=p.upload.total),this.emit("uploadprogress",p,p.upload.progress,p.upload.bytesSent))}_finishedUploading(a,l,h){let p;if(a[0].status!==et.CANCELED&&l.readyState===4){if(l.responseType!=="arraybuffer"&&l.responseType!=="blob"&&(p=l.responseText,l.getResponseHeader("content-type")&&~l.getResponseHeader("content-type").indexOf("application/json")))try{p=JSON.parse(p)}catch(v){h=v,p="Invalid JSON response from server."}this._updateFilesUploadProgress(a,l),200<=l.status&&l.status<300?a[0].upload.chunked?a[0].upload.finishedChunkUpload(this._getChunk(a[0],l),p):this._finished(a,p,h):this._handleUploadError(a,l,p)}}_handleUploadError(a,l,h){if(a[0].status!==et.CANCELED){if(a[0].upload.chunked&&this.options.retryChunks){let p=this._getChunk(a[0],l);if(p.retries++<this.options.retryChunksLimit){this._uploadData(a,[p.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(a,h||this.options.dictResponseError.replace("{{statusCode}}",l.status),l)}}submitRequest(a,l,h){if(a.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(h[0].upload.chunked){const p=this._getChunk(h[0],a);a.send(p.dataBlock.data)}else a.send(h[0]);else a.send(l)}_finished(a,l,h){for(let p of a)p.status=et.SUCCESS,this.emit("success",p,l,h),this.emit("complete",p);if(this.options.uploadMultiple&&(this.emit("successmultiple",a,l,h),this.emit("completemultiple",a)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(a,l,h){for(let p of a)p.status=et.ERROR,this.emit("error",p,l,h),this.emit("complete",p);if(this.options.uploadMultiple&&(this.emit("errormultiple",a,l,h),this.emit("completemultiple",a)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){let l=Math.random()*16|0;return(a==="x"?l:l&3|8).toString(16)})}constructor(a,l){super();let h,p;if(this.element=a,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");et.instances.push(this),this.element.dropzone=this;let v=(p=et.optionsForElement(this.element))!=null?p:{};if(this.options=eg(!0,{},W1,v,l??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!et.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=C=>this.options.renameFilename.call(this,C.name,C)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(h=this.getExistingFallback())&&h.parentNode&&h.parentNode.removeChild(h),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=et.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=et.getElements(this.options.clickable,"clickable")),this.init()}}et.initClass();et.options={};et.optionsForElement=function(d){if(d.getAttribute("id"))return et.options[U1(d.getAttribute("id"))]};et.instances=[];et.forElement=function(d){if(typeof d=="string"&&(d=document.querySelector(d)),(d!=null?d.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return d.dropzone};et.discover=function(){let d;if(document.querySelectorAll)d=document.querySelectorAll(".dropzone");else{d=[];let a=l=>(()=>{let h=[];for(let p of l)/(^| )dropzone($| )/.test(p.className)?h.push(d.push(p)):h.push(void 0);return h})();a(document.getElementsByTagName("div")),a(document.getElementsByTagName("form"))}return(()=>{let a=[];for(let l of d)et.optionsForElement(l)!==!1?a.push(new et(l)):a.push(void 0);return a})()};et.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];et.isBrowserSupported=function(){let d=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))d=!1;else{et.blacklistedBrowsers!==void 0&&(et.blockedBrowsers=et.blacklistedBrowsers);for(let a of et.blockedBrowsers)if(a.test(navigator.userAgent)){d=!1;continue}}else d=!1;return d};et.dataURItoBlob=function(d){let a=atob(d.split(",")[1]),l=d.split(",")[0].split(":")[1].split(";")[0],h=new ArrayBuffer(a.length),p=new Uint8Array(h);for(let v=0,C=a.length,k=0<=C;k?v<=C:v>=C;k?v++:v--)p[v]=a.charCodeAt(v);return new Blob([h],{type:l})};const j1=(d,a)=>d.filter(l=>l!==a).map(l=>l),U1=d=>d.replace(/[\-_](\w)/g,a=>a.charAt(1).toUpperCase());et.createElement=function(d){let a=document.createElement("div");return a.innerHTML=d,a.childNodes[0]};et.elementInside=function(d,a){if(d===a)return!0;for(;d=d.parentNode;)if(d===a)return!0;return!1};et.getElement=function(d,a){let l;if(typeof d=="string"?l=document.querySelector(d):d.nodeType!=null&&(l=d),l==null)throw new Error(`Invalid \`${a}\` option provided. Please provide a CSS selector or a plain HTML element.`);return l};et.getElements=function(d,a){let l,h;if(d instanceof Array){h=[];try{for(l of d)h.push(this.getElement(l,a))}catch{h=null}}else if(typeof d=="string"){h=[];for(l of document.querySelectorAll(d))h.push(l)}else d.nodeType!=null&&(h=[d]);if(h==null||!h.length)throw new Error(`Invalid \`${a}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return h};et.confirm=function(d,a,l){if(window.confirm(d))return a();if(l!=null)return l()};et.isValidFile=function(d,a){if(!a)return!0;a=a.split(",");let l=d.type,h=l.replace(/\/.*$/,"");for(let p of a)if(p=p.trim(),p.charAt(0)==="."){if(d.name.toLowerCase().indexOf(p.toLowerCase(),d.name.length-p.length)!==-1)return!0}else if(/\/\*$/.test(p)){if(h===p.replace(/\/.*$/,""))return!0}else if(l===p)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(d){return this.each(function(){return new et(this,d)})});et.ADDED="added";et.QUEUED="queued";et.ACCEPTED=et.QUEUED;et.UPLOADING="uploading";et.PROCESSING=et.UPLOADING;et.CANCELED="canceled";et.ERROR="error";et.SUCCESS="success";let $1=function(d){d.naturalWidth;let a=d.naturalHeight,l=document.createElement("canvas");l.width=1,l.height=a;let h=l.getContext("2d");h.drawImage(d,0,0);let{data:p}=h.getImageData(1,0,1,a),v=0,C=a,k=a;for(;k>v;)p[(k-1)*4+3]===0?C=k:v=k,k=C+v>>1;let T=k/a;return T===0?1:T};var q1=function(d,a,l,h,p,v,C,k,T,E){let A=$1(a);return d.drawImage(a,l,h,p,v,C,k,T,E/A)};class l0{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(a){let l="",h,p,v="",C,k,T,E="",A=0;for(;h=a[A++],p=a[A++],v=a[A++],C=h>>2,k=(h&3)<<4|p>>4,T=(p&15)<<2|v>>6,E=v&63,isNaN(p)?T=E=64:isNaN(v)&&(E=64),l=l+this.KEY_STR.charAt(C)+this.KEY_STR.charAt(k)+this.KEY_STR.charAt(T)+this.KEY_STR.charAt(E),h=p=v="",C=k=T=E="",A<a.length;);return l}static restore(a,l){if(!a.match("data:image/jpeg;base64,"))return l;let h=this.decode64(a.replace("data:image/jpeg;base64,","")),p=this.slice2Segments(h),v=this.exifManipulation(l,p);return`data:image/jpeg;base64,${this.encode64(v)}`}static exifManipulation(a,l){let h=this.getExifArray(l),p=this.insertExif(a,h);return new Uint8Array(p)}static getExifArray(a){let l,h=0;for(;h<a.length;){if(l=a[h],l[0]===255&l[1]===225)return l;h++}return[]}static insertExif(a,l){let h=a.replace("data:image/jpeg;base64,",""),p=this.decode64(h),v=p.indexOf(255,3),C=p.slice(0,v),k=p.slice(v),T=C;return T=T.concat(l),T=T.concat(k),T}static slice2Segments(a){let l=0,h=[];for(;;){var p;if(a[l]===255&a[l+1]===218)break;if(a[l]===255&a[l+1]===216)l+=2;else{p=a[l+2]*256+a[l+3];let v=l+p+2,C=a.slice(l,v);h.push(C),l=v}if(l>a.length)break}return h}static decode64(a){let l,h,p="",v,C,k,T="",E=0,A=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(a)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");v=this.KEY_STR.indexOf(a.charAt(E++)),C=this.KEY_STR.indexOf(a.charAt(E++)),k=this.KEY_STR.indexOf(a.charAt(E++)),T=this.KEY_STR.indexOf(a.charAt(E++)),l=v<<2|C>>4,h=(C&15)<<4|k>>2,p=(k&3)<<6|T,A.push(l),k!==64&&A.push(h),T!==64&&A.push(p),l=h=p="",v=C=k=T="",E<a.length;);return A}}l0.initClass();function Y1(d,a){return typeof d<"u"&&d!==null?a(d):void 0}function G1(d,a,l){if(typeof d<"u"&&d!==null&&typeof d[a]=="function")return l(d,a)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ju(d){return d+.5|0}const bo=(d,a,l)=>Math.max(Math.min(d,l),a);function _u(d){return bo(ju(d*2.55),0,255)}function wo(d){return bo(ju(d*255),0,255)}function Ta(d){return bo(ju(d/2.55)/100,0,1)}function ig(d){return bo(ju(d*100),0,100)}const ls={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$f=[..."0123456789ABCDEF"],X1=d=>$f[d&15],K1=d=>$f[(d&240)>>4]+$f[d&15],qd=d=>(d&240)>>4===(d&15),Z1=d=>qd(d.r)&&qd(d.g)&&qd(d.b)&&qd(d.a);function J1(d){var a=d.length,l;return d[0]==="#"&&(a===4||a===5?l={r:255&ls[d[1]]*17,g:255&ls[d[2]]*17,b:255&ls[d[3]]*17,a:a===5?ls[d[4]]*17:255}:(a===7||a===9)&&(l={r:ls[d[1]]<<4|ls[d[2]],g:ls[d[3]]<<4|ls[d[4]],b:ls[d[5]]<<4|ls[d[6]],a:a===9?ls[d[7]]<<4|ls[d[8]]:255})),l}const Q1=(d,a)=>d<255?a(d):"";function ex(d){var a=Z1(d)?X1:K1;return d?"#"+a(d.r)+a(d.g)+a(d.b)+Q1(d.a,a):void 0}const tx=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function u0(d,a,l){const h=a*Math.min(l,1-l),p=(v,C=(v+d/30)%12)=>l-h*Math.max(Math.min(C-3,9-C,1),-1);return[p(0),p(8),p(4)]}function nx(d,a,l){const h=(p,v=(p+d/60)%6)=>l-l*a*Math.max(Math.min(v,4-v,1),0);return[h(5),h(3),h(1)]}function ix(d,a,l){const h=u0(d,1,.5);let p;for(a+l>1&&(p=1/(a+l),a*=p,l*=p),p=0;p<3;p++)h[p]*=1-a-l,h[p]+=a;return h}function sx(d,a,l,h,p){return d===p?(a-l)/h+(a<l?6:0):a===p?(l-d)/h+2:(d-a)/h+4}function cp(d){const l=d.r/255,h=d.g/255,p=d.b/255,v=Math.max(l,h,p),C=Math.min(l,h,p),k=(v+C)/2;let T,E,A;return v!==C&&(A=v-C,E=k>.5?A/(2-v-C):A/(v+C),T=sx(l,h,p,A,v),T=T*60+.5),[T|0,E||0,k]}function dp(d,a,l,h){return(Array.isArray(a)?d(a[0],a[1],a[2]):d(a,l,h)).map(wo)}function hp(d,a,l){return dp(u0,d,a,l)}function ax(d,a,l){return dp(ix,d,a,l)}function ox(d,a,l){return dp(nx,d,a,l)}function c0(d){return(d%360+360)%360}function rx(d){const a=tx.exec(d);let l=255,h;if(!a)return;a[5]!==h&&(l=a[6]?_u(+a[5]):wo(+a[5]));const p=c0(+a[2]),v=+a[3]/100,C=+a[4]/100;return a[1]==="hwb"?h=ax(p,v,C):a[1]==="hsv"?h=ox(p,v,C):h=hp(p,v,C),{r:h[0],g:h[1],b:h[2],a:l}}function lx(d,a){var l=cp(d);l[0]=c0(l[0]+a),l=hp(l),d.r=l[0],d.g=l[1],d.b=l[2]}function ux(d){if(!d)return;const a=cp(d),l=a[0],h=ig(a[1]),p=ig(a[2]);return d.a<255?`hsla(${l}, ${h}%, ${p}%, ${Ta(d.a)})`:`hsl(${l}, ${h}%, ${p}%)`}const sg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ag={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function cx(){const d={},a=Object.keys(ag),l=Object.keys(sg);let h,p,v,C,k;for(h=0;h<a.length;h++){for(C=k=a[h],p=0;p<l.length;p++)v=l[p],k=k.replace(v,sg[v]);v=parseInt(ag[C],16),d[k]=[v>>16&255,v>>8&255,v&255]}return d}let Yd;function dx(d){Yd||(Yd=cx(),Yd.transparent=[0,0,0,0]);const a=Yd[d.toLowerCase()];return a&&{r:a[0],g:a[1],b:a[2],a:a.length===4?a[3]:255}}const hx=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fx(d){const a=hx.exec(d);let l=255,h,p,v;if(a){if(a[7]!==h){const C=+a[7];l=a[8]?_u(C):bo(C*255,0,255)}return h=+a[1],p=+a[3],v=+a[5],h=255&(a[2]?_u(h):bo(h,0,255)),p=255&(a[4]?_u(p):bo(p,0,255)),v=255&(a[6]?_u(v):bo(v,0,255)),{r:h,g:p,b:v,a:l}}}function px(d){return d&&(d.a<255?`rgba(${d.r}, ${d.g}, ${d.b}, ${Ta(d.a)})`:`rgb(${d.r}, ${d.g}, ${d.b})`)}const Tf=d=>d<=.0031308?d*12.92:Math.pow(d,1/2.4)*1.055-.055,rl=d=>d<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4);function gx(d,a,l){const h=rl(Ta(d.r)),p=rl(Ta(d.g)),v=rl(Ta(d.b));return{r:wo(Tf(h+l*(rl(Ta(a.r))-h))),g:wo(Tf(p+l*(rl(Ta(a.g))-p))),b:wo(Tf(v+l*(rl(Ta(a.b))-v))),a:d.a+l*(a.a-d.a)}}function Gd(d,a,l){if(d){let h=cp(d);h[a]=Math.max(0,Math.min(h[a]+h[a]*l,a===0?360:1)),h=hp(h),d.r=h[0],d.g=h[1],d.b=h[2]}}function d0(d,a){return d&&Object.assign(a||{},d)}function og(d){var a={r:0,g:0,b:0,a:255};return Array.isArray(d)?d.length>=3&&(a={r:d[0],g:d[1],b:d[2],a:255},d.length>3&&(a.a=wo(d[3]))):(a=d0(d,{r:0,g:0,b:0,a:1}),a.a=wo(a.a)),a}function mx(d){return d.charAt(0)==="r"?fx(d):rx(d)}class Pu{constructor(a){if(a instanceof Pu)return a;const l=typeof a;let h;l==="object"?h=og(a):l==="string"&&(h=J1(a)||dx(a)||mx(a)),this._rgb=h,this._valid=!!h}get valid(){return this._valid}get rgb(){var a=d0(this._rgb);return a&&(a.a=Ta(a.a)),a}set rgb(a){this._rgb=og(a)}rgbString(){return this._valid?px(this._rgb):void 0}hexString(){return this._valid?ex(this._rgb):void 0}hslString(){return this._valid?ux(this._rgb):void 0}mix(a,l){if(a){const h=this.rgb,p=a.rgb;let v;const C=l===v?.5:l,k=2*C-1,T=h.a-p.a,E=((k*T===-1?k:(k+T)/(1+k*T))+1)/2;v=1-E,h.r=255&E*h.r+v*p.r+.5,h.g=255&E*h.g+v*p.g+.5,h.b=255&E*h.b+v*p.b+.5,h.a=C*h.a+(1-C)*p.a,this.rgb=h}return this}interpolate(a,l){return a&&(this._rgb=gx(this._rgb,a._rgb,l)),this}clone(){return new Pu(this.rgb)}alpha(a){return this._rgb.a=wo(a),this}clearer(a){const l=this._rgb;return l.a*=1-a,this}greyscale(){const a=this._rgb,l=ju(a.r*.3+a.g*.59+a.b*.11);return a.r=a.g=a.b=l,this}opaquer(a){const l=this._rgb;return l.a*=1+a,this}negate(){const a=this._rgb;return a.r=255-a.r,a.g=255-a.g,a.b=255-a.b,this}lighten(a){return Gd(this._rgb,2,a),this}darken(a){return Gd(this._rgb,2,-a),this}saturate(a){return Gd(this._rgb,1,a),this}desaturate(a){return Gd(this._rgb,1,-a),this}rotate(a){return lx(this._rgb,a),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function _a(){}const vx=(()=>{let d=0;return()=>d++})();function It(d){return d==null}function vn(d){if(Array.isArray&&Array.isArray(d))return!0;const a=Object.prototype.toString.call(d);return a.slice(0,7)==="[object"&&a.slice(-6)==="Array]"}function Ft(d){return d!==null&&Object.prototype.toString.call(d)==="[object Object]"}function Mn(d){return(typeof d=="number"||d instanceof Number)&&isFinite(+d)}function qi(d,a){return Mn(d)?d:a}function At(d,a){return typeof d>"u"?a:d}const bx=(d,a)=>typeof d=="string"&&d.endsWith("%")?parseFloat(d)/100:+d/a,h0=(d,a)=>typeof d=="string"&&d.endsWith("%")?parseFloat(d)/100*a:+d;function on(d,a,l){if(d&&typeof d.call=="function")return d.apply(l,a)}function Xt(d,a,l,h){let p,v,C;if(vn(d))for(v=d.length,p=0;p<v;p++)a.call(l,d[p],p);else if(Ft(d))for(C=Object.keys(d),v=C.length,p=0;p<v;p++)a.call(l,d[C[p]],C[p])}function bh(d,a){let l,h,p,v;if(!d||!a||d.length!==a.length)return!1;for(l=0,h=d.length;l<h;++l)if(p=d[l],v=a[l],p.datasetIndex!==v.datasetIndex||p.index!==v.index)return!1;return!0}function yh(d){if(vn(d))return d.map(yh);if(Ft(d)){const a=Object.create(null),l=Object.keys(d),h=l.length;let p=0;for(;p<h;++p)a[l[p]]=yh(d[l[p]]);return a}return d}function f0(d){return["__proto__","prototype","constructor"].indexOf(d)===-1}function yx(d,a,l,h){if(!f0(d))return;const p=a[d],v=l[d];Ft(p)&&Ft(v)?Bu(p,v,h):a[d]=yh(v)}function Bu(d,a,l){const h=vn(a)?a:[a],p=h.length;if(!Ft(d))return d;l=l||{};const v=l.merger||yx;let C;for(let k=0;k<p;++k){if(C=h[k],!Ft(C))continue;const T=Object.keys(C);for(let E=0,A=T.length;E<A;++E)v(T[E],d,C,l)}return d}function Mu(d,a){return Bu(d,a,{merger:xx})}function xx(d,a,l){if(!f0(d))return;const h=a[d],p=l[d];Ft(h)&&Ft(p)?Mu(h,p):Object.prototype.hasOwnProperty.call(a,d)||(a[d]=yh(p))}const rg={"":d=>d,x:d=>d.x,y:d=>d.y};function Cx(d){const a=d.split("."),l=[];let h="";for(const p of a)h+=p,h.endsWith("\\")?h=h.slice(0,-1)+".":(l.push(h),h="");return l}function wx(d){const a=Cx(d);return l=>{for(const h of a){if(h==="")break;l=l&&l[h]}return l}}function _o(d,a){return(rg[a]||(rg[a]=wx(a)))(d)}function fp(d){return d.charAt(0).toUpperCase()+d.slice(1)}const Ru=d=>typeof d<"u",ko=d=>typeof d=="function",lg=(d,a)=>{if(d.size!==a.size)return!1;for(const l of d)if(!a.has(l))return!1;return!0};function _x(d){return d.type==="mouseup"||d.type==="click"||d.type==="contextmenu"}const hn=Math.PI,dn=2*hn,kx=dn+hn,xh=Number.POSITIVE_INFINITY,Sx=hn/180,zn=hn/2,er=hn/4,ug=hn*2/3,yo=Math.log10,ea=Math.sign;function Au(d,a,l){return Math.abs(d-a)<l}function cg(d){const a=Math.round(d);d=Au(d,a,d/1e3)?a:d;const l=Math.pow(10,Math.floor(yo(d))),h=d/l;return(h<=1?1:h<=2?2:h<=5?5:10)*l}function Tx(d){const a=[],l=Math.sqrt(d);let h;for(h=1;h<l;h++)d%h===0&&(a.push(h),a.push(d/h));return l===(l|0)&&a.push(l),a.sort((p,v)=>p-v).pop(),a}function Dx(d){return typeof d=="symbol"||typeof d=="object"&&d!==null&&!(Symbol.toPrimitive in d||"toString"in d||"valueOf"in d)}function dl(d){return!Dx(d)&&!isNaN(parseFloat(d))&&isFinite(d)}function Ex(d,a){const l=Math.round(d);return l-a<=d&&l+a>=d}function p0(d,a,l){let h,p,v;for(h=0,p=d.length;h<p;h++)v=d[h][l],isNaN(v)||(a.min=Math.min(a.min,v),a.max=Math.max(a.max,v))}function Cs(d){return d*(hn/180)}function pp(d){return d*(180/hn)}function dg(d){if(!Mn(d))return;let a=1,l=0;for(;Math.round(d*a)/a!==d;)a*=10,l++;return l}function g0(d,a){const l=a.x-d.x,h=a.y-d.y,p=Math.sqrt(l*l+h*h);let v=Math.atan2(h,l);return v<-.5*hn&&(v+=dn),{angle:v,distance:p}}function qf(d,a){return Math.sqrt(Math.pow(a.x-d.x,2)+Math.pow(a.y-d.y,2))}function Mx(d,a){return(d-a+kx)%dn-hn}function Yi(d){return(d%dn+dn)%dn}function Nu(d,a,l,h){const p=Yi(d),v=Yi(a),C=Yi(l),k=Yi(v-p),T=Yi(C-p),E=Yi(p-v),A=Yi(p-C);return p===v||p===C||h&&v===C||k>T&&E<A}function ui(d,a,l){return Math.max(a,Math.min(l,d))}function Ax(d){return ui(d,-32768,32767)}function Ea(d,a,l,h=1e-6){return d>=Math.min(a,l)-h&&d<=Math.max(a,l)+h}function gp(d,a,l){l=l||(C=>d[C]<a);let h=d.length-1,p=0,v;for(;h-p>1;)v=p+h>>1,l(v)?p=v:h=v;return{lo:p,hi:h}}const Ma=(d,a,l,h)=>gp(d,l,h?p=>{const v=d[p][a];return v<l||v===l&&d[p+1][a]===l}:p=>d[p][a]<l),Ix=(d,a,l)=>gp(d,l,h=>d[h][a]>=l);function Fx(d,a,l){let h=0,p=d.length;for(;h<p&&d[h]<a;)h++;for(;p>h&&d[p-1]>l;)p--;return h>0||p<d.length?d.slice(h,p):d}const m0=["push","pop","shift","splice","unshift"];function Lx(d,a){if(d._chartjs){d._chartjs.listeners.push(a);return}Object.defineProperty(d,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),m0.forEach(l=>{const h="_onData"+fp(l),p=d[l];Object.defineProperty(d,l,{configurable:!0,enumerable:!1,value(...v){const C=p.apply(this,v);return d._chartjs.listeners.forEach(k=>{typeof k[h]=="function"&&k[h](...v)}),C}})})}function hg(d,a){const l=d._chartjs;if(!l)return;const h=l.listeners,p=h.indexOf(a);p!==-1&&h.splice(p,1),!(h.length>0)&&(m0.forEach(v=>{delete d[v]}),delete d._chartjs)}function v0(d){const a=new Set(d);return a.size===d.length?d:Array.from(a)}const b0=function(){return typeof window>"u"?function(d){return d()}:window.requestAnimationFrame}();function y0(d,a){let l=[],h=!1;return function(...p){l=p,h||(h=!0,b0.call(window,()=>{h=!1,d.apply(a,l)}))}}function Ox(d,a){let l;return function(...h){return a?(clearTimeout(l),l=setTimeout(d,a,h)):d.apply(this,h),a}}const mp=d=>d==="start"?"left":d==="end"?"right":"center",xi=(d,a,l)=>d==="start"?a:d==="end"?l:(a+l)/2,Px=(d,a,l,h)=>d===(h?"left":"right")?l:d==="center"?(a+l)/2:a;function x0(d,a,l){const h=a.length;let p=0,v=h;if(d._sorted){const{iScale:C,vScale:k,_parsed:T}=d,E=d.dataset&&d.dataset.options?d.dataset.options.spanGaps:null,A=C.axis,{min:O,max:R,minDefined:j,maxDefined:X}=C.getUserBounds();if(j){if(p=Math.min(Ma(T,A,O).lo,l?h:Ma(a,A,C.getPixelForValue(O)).lo),E){const ne=T.slice(0,p+1).reverse().findIndex(ie=>!It(ie[k.axis]));p-=Math.max(0,ne)}p=ui(p,0,h-1)}if(X){let ne=Math.max(Ma(T,C.axis,R,!0).hi+1,l?0:Ma(a,A,C.getPixelForValue(R),!0).hi+1);if(E){const ie=T.slice(ne-1).findIndex(oe=>!It(oe[k.axis]));ne+=Math.max(0,ie)}v=ui(ne,p,h)-p}else v=h-p}return{start:p,count:v}}function C0(d){const{xScale:a,yScale:l,_scaleRanges:h}=d,p={xmin:a.min,xmax:a.max,ymin:l.min,ymax:l.max};if(!h)return d._scaleRanges=p,!0;const v=h.xmin!==a.min||h.xmax!==a.max||h.ymin!==l.min||h.ymax!==l.max;return Object.assign(h,p),v}const Xd=d=>d===0||d===1,fg=(d,a,l)=>-(Math.pow(2,10*(d-=1))*Math.sin((d-a)*dn/l)),pg=(d,a,l)=>Math.pow(2,-10*d)*Math.sin((d-a)*dn/l)+1,Iu={linear:d=>d,easeInQuad:d=>d*d,easeOutQuad:d=>-d*(d-2),easeInOutQuad:d=>(d/=.5)<1?.5*d*d:-.5*(--d*(d-2)-1),easeInCubic:d=>d*d*d,easeOutCubic:d=>(d-=1)*d*d+1,easeInOutCubic:d=>(d/=.5)<1?.5*d*d*d:.5*((d-=2)*d*d+2),easeInQuart:d=>d*d*d*d,easeOutQuart:d=>-((d-=1)*d*d*d-1),easeInOutQuart:d=>(d/=.5)<1?.5*d*d*d*d:-.5*((d-=2)*d*d*d-2),easeInQuint:d=>d*d*d*d*d,easeOutQuint:d=>(d-=1)*d*d*d*d+1,easeInOutQuint:d=>(d/=.5)<1?.5*d*d*d*d*d:.5*((d-=2)*d*d*d*d+2),easeInSine:d=>-Math.cos(d*zn)+1,easeOutSine:d=>Math.sin(d*zn),easeInOutSine:d=>-.5*(Math.cos(hn*d)-1),easeInExpo:d=>d===0?0:Math.pow(2,10*(d-1)),easeOutExpo:d=>d===1?1:-Math.pow(2,-10*d)+1,easeInOutExpo:d=>Xd(d)?d:d<.5?.5*Math.pow(2,10*(d*2-1)):.5*(-Math.pow(2,-10*(d*2-1))+2),easeInCirc:d=>d>=1?d:-(Math.sqrt(1-d*d)-1),easeOutCirc:d=>Math.sqrt(1-(d-=1)*d),easeInOutCirc:d=>(d/=.5)<1?-.5*(Math.sqrt(1-d*d)-1):.5*(Math.sqrt(1-(d-=2)*d)+1),easeInElastic:d=>Xd(d)?d:fg(d,.075,.3),easeOutElastic:d=>Xd(d)?d:pg(d,.075,.3),easeInOutElastic(d){return Xd(d)?d:d<.5?.5*fg(d*2,.1125,.45):.5+.5*pg(d*2-1,.1125,.45)},easeInBack(d){return d*d*((1.70158+1)*d-1.70158)},easeOutBack(d){return(d-=1)*d*((1.70158+1)*d+1.70158)+1},easeInOutBack(d){let a=1.70158;return(d/=.5)<1?.5*(d*d*(((a*=1.525)+1)*d-a)):.5*((d-=2)*d*(((a*=1.525)+1)*d+a)+2)},easeInBounce:d=>1-Iu.easeOutBounce(1-d),easeOutBounce(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375},easeInOutBounce:d=>d<.5?Iu.easeInBounce(d*2)*.5:Iu.easeOutBounce(d*2-1)*.5+.5};function vp(d){if(d&&typeof d=="object"){const a=d.toString();return a==="[object CanvasPattern]"||a==="[object CanvasGradient]"}return!1}function gg(d){return vp(d)?d:new Pu(d)}function Df(d){return vp(d)?d:new Pu(d).saturate(.5).darken(.1).hexString()}const Bx=["x","y","borderWidth","radius","tension"],Rx=["color","borderColor","backgroundColor"];function Nx(d){d.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),d.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:a=>a!=="onProgress"&&a!=="onComplete"&&a!=="fn"}),d.set("animations",{colors:{type:"color",properties:Rx},numbers:{type:"number",properties:Bx}}),d.describe("animations",{_fallback:"animation"}),d.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:a=>a|0}}}})}function zx(d){d.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mg=new Map;function Hx(d,a){a=a||{};const l=d+JSON.stringify(a);let h=mg.get(l);return h||(h=new Intl.NumberFormat(d,a),mg.set(l,h)),h}function Uu(d,a,l){return Hx(a,l).format(d)}const w0={values(d){return vn(d)?d:""+d},numeric(d,a,l){if(d===0)return"0";const h=this.chart.options.locale;let p,v=d;if(l.length>1){const E=Math.max(Math.abs(l[0].value),Math.abs(l[l.length-1].value));(E<1e-4||E>1e15)&&(p="scientific"),v=Vx(d,l)}const C=yo(Math.abs(v)),k=isNaN(C)?1:Math.max(Math.min(-1*Math.floor(C),20),0),T={notation:p,minimumFractionDigits:k,maximumFractionDigits:k};return Object.assign(T,this.options.ticks.format),Uu(d,h,T)},logarithmic(d,a,l){if(d===0)return"0";const h=l[a].significand||d/Math.pow(10,Math.floor(yo(d)));return[1,2,3,5,10,15].includes(h)||a>.8*l.length?w0.numeric.call(this,d,a,l):""}};function Vx(d,a){let l=a.length>3?a[2].value-a[1].value:a[1].value-a[0].value;return Math.abs(l)>=1&&d!==Math.floor(d)&&(l=d-Math.floor(d)),l}var Eh={formatters:w0};function Wx(d){d.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(a,l)=>l.lineWidth,tickColor:(a,l)=>l.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Eh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),d.route("scale.ticks","color","","color"),d.route("scale.grid","color","","borderColor"),d.route("scale.border","color","","borderColor"),d.route("scale.title","color","","color"),d.describe("scale",{_fallback:!1,_scriptable:a=>!a.startsWith("before")&&!a.startsWith("after")&&a!=="callback"&&a!=="parser",_indexable:a=>a!=="borderDash"&&a!=="tickBorderDash"&&a!=="dash"}),d.describe("scales",{_fallback:"scale"}),d.describe("scale.ticks",{_scriptable:a=>a!=="backdropPadding"&&a!=="callback",_indexable:a=>a!=="backdropPadding"})}const cr=Object.create(null),Yf=Object.create(null);function Fu(d,a){if(!a)return d;const l=a.split(".");for(let h=0,p=l.length;h<p;++h){const v=l[h];d=d[v]||(d[v]=Object.create(null))}return d}function Ef(d,a,l){return typeof a=="string"?Bu(Fu(d,a),l):Bu(Fu(d,""),a)}class jx{constructor(a,l){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=h=>h.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(h,p)=>Df(p.backgroundColor),this.hoverBorderColor=(h,p)=>Df(p.borderColor),this.hoverColor=(h,p)=>Df(p.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(a),this.apply(l)}set(a,l){return Ef(this,a,l)}get(a){return Fu(this,a)}describe(a,l){return Ef(Yf,a,l)}override(a,l){return Ef(cr,a,l)}route(a,l,h,p){const v=Fu(this,a),C=Fu(this,h),k="_"+l;Object.defineProperties(v,{[k]:{value:v[l],writable:!0},[l]:{enumerable:!0,get(){const T=this[k],E=C[p];return Ft(T)?Object.assign({},E,T):At(T,E)},set(T){this[k]=T}}})}apply(a){a.forEach(l=>l(this))}}var bn=new jx({_scriptable:d=>!d.startsWith("on"),_indexable:d=>d!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Nx,zx,Wx]);function Ux(d){return!d||It(d.size)||It(d.family)?null:(d.style?d.style+" ":"")+(d.weight?d.weight+" ":"")+d.size+"px "+d.family}function Ch(d,a,l,h,p){let v=a[p];return v||(v=a[p]=d.measureText(p).width,l.push(p)),v>h&&(h=v),h}function $x(d,a,l,h){h=h||{};let p=h.data=h.data||{},v=h.garbageCollect=h.garbageCollect||[];h.font!==a&&(p=h.data={},v=h.garbageCollect=[],h.font=a),d.save(),d.font=a;let C=0;const k=l.length;let T,E,A,O,R;for(T=0;T<k;T++)if(O=l[T],O!=null&&!vn(O))C=Ch(d,p,v,C,O);else if(vn(O))for(E=0,A=O.length;E<A;E++)R=O[E],R!=null&&!vn(R)&&(C=Ch(d,p,v,C,R));d.restore();const j=v.length/2;if(j>l.length){for(T=0;T<j;T++)delete p[v[T]];v.splice(0,j)}return C}function tr(d,a,l){const h=d.currentDevicePixelRatio,p=l!==0?Math.max(l/2,.5):0;return Math.round((a-p)*h)/h+p}function vg(d,a){!a&&!d||(a=a||d.getContext("2d"),a.save(),a.resetTransform(),a.clearRect(0,0,d.width,d.height),a.restore())}function Gf(d,a,l,h){_0(d,a,l,h,null)}function _0(d,a,l,h,p){let v,C,k,T,E,A,O,R;const j=a.pointStyle,X=a.rotation,ne=a.radius;let ie=(X||0)*Sx;if(j&&typeof j=="object"&&(v=j.toString(),v==="[object HTMLImageElement]"||v==="[object HTMLCanvasElement]")){d.save(),d.translate(l,h),d.rotate(ie),d.drawImage(j,-j.width/2,-j.height/2,j.width,j.height),d.restore();return}if(!(isNaN(ne)||ne<=0)){switch(d.beginPath(),j){default:p?d.ellipse(l,h,p/2,ne,0,0,dn):d.arc(l,h,ne,0,dn),d.closePath();break;case"triangle":A=p?p/2:ne,d.moveTo(l+Math.sin(ie)*A,h-Math.cos(ie)*ne),ie+=ug,d.lineTo(l+Math.sin(ie)*A,h-Math.cos(ie)*ne),ie+=ug,d.lineTo(l+Math.sin(ie)*A,h-Math.cos(ie)*ne),d.closePath();break;case"rectRounded":E=ne*.516,T=ne-E,C=Math.cos(ie+er)*T,O=Math.cos(ie+er)*(p?p/2-E:T),k=Math.sin(ie+er)*T,R=Math.sin(ie+er)*(p?p/2-E:T),d.arc(l-O,h-k,E,ie-hn,ie-zn),d.arc(l+R,h-C,E,ie-zn,ie),d.arc(l+O,h+k,E,ie,ie+zn),d.arc(l-R,h+C,E,ie+zn,ie+hn),d.closePath();break;case"rect":if(!X){T=Math.SQRT1_2*ne,A=p?p/2:T,d.rect(l-A,h-T,2*A,2*T);break}ie+=er;case"rectRot":O=Math.cos(ie)*(p?p/2:ne),C=Math.cos(ie)*ne,k=Math.sin(ie)*ne,R=Math.sin(ie)*(p?p/2:ne),d.moveTo(l-O,h-k),d.lineTo(l+R,h-C),d.lineTo(l+O,h+k),d.lineTo(l-R,h+C),d.closePath();break;case"crossRot":ie+=er;case"cross":O=Math.cos(ie)*(p?p/2:ne),C=Math.cos(ie)*ne,k=Math.sin(ie)*ne,R=Math.sin(ie)*(p?p/2:ne),d.moveTo(l-O,h-k),d.lineTo(l+O,h+k),d.moveTo(l+R,h-C),d.lineTo(l-R,h+C);break;case"star":O=Math.cos(ie)*(p?p/2:ne),C=Math.cos(ie)*ne,k=Math.sin(ie)*ne,R=Math.sin(ie)*(p?p/2:ne),d.moveTo(l-O,h-k),d.lineTo(l+O,h+k),d.moveTo(l+R,h-C),d.lineTo(l-R,h+C),ie+=er,O=Math.cos(ie)*(p?p/2:ne),C=Math.cos(ie)*ne,k=Math.sin(ie)*ne,R=Math.sin(ie)*(p?p/2:ne),d.moveTo(l-O,h-k),d.lineTo(l+O,h+k),d.moveTo(l+R,h-C),d.lineTo(l-R,h+C);break;case"line":C=p?p/2:Math.cos(ie)*ne,k=Math.sin(ie)*ne,d.moveTo(l-C,h-k),d.lineTo(l+C,h+k);break;case"dash":d.moveTo(l,h),d.lineTo(l+Math.cos(ie)*(p?p/2:ne),h+Math.sin(ie)*ne);break;case!1:d.closePath();break}d.fill(),a.borderWidth>0&&d.stroke()}}function Aa(d,a,l){return l=l||.5,!a||d&&d.x>a.left-l&&d.x<a.right+l&&d.y>a.top-l&&d.y<a.bottom+l}function Mh(d,a){d.save(),d.beginPath(),d.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),d.clip()}function Ah(d){d.restore()}function qx(d,a,l,h,p){if(!a)return d.lineTo(l.x,l.y);if(p==="middle"){const v=(a.x+l.x)/2;d.lineTo(v,a.y),d.lineTo(v,l.y)}else p==="after"!=!!h?d.lineTo(a.x,l.y):d.lineTo(l.x,a.y);d.lineTo(l.x,l.y)}function Yx(d,a,l,h){if(!a)return d.lineTo(l.x,l.y);d.bezierCurveTo(h?a.cp1x:a.cp2x,h?a.cp1y:a.cp2y,h?l.cp2x:l.cp1x,h?l.cp2y:l.cp1y,l.x,l.y)}function Gx(d,a){a.translation&&d.translate(a.translation[0],a.translation[1]),It(a.rotation)||d.rotate(a.rotation),a.color&&(d.fillStyle=a.color),a.textAlign&&(d.textAlign=a.textAlign),a.textBaseline&&(d.textBaseline=a.textBaseline)}function Xx(d,a,l,h,p){if(p.strikethrough||p.underline){const v=d.measureText(h),C=a-v.actualBoundingBoxLeft,k=a+v.actualBoundingBoxRight,T=l-v.actualBoundingBoxAscent,E=l+v.actualBoundingBoxDescent,A=p.strikethrough?(T+E)/2:E;d.strokeStyle=d.fillStyle,d.beginPath(),d.lineWidth=p.decorationWidth||2,d.moveTo(C,A),d.lineTo(k,A),d.stroke()}}function Kx(d,a){const l=d.fillStyle;d.fillStyle=a.color,d.fillRect(a.left,a.top,a.width,a.height),d.fillStyle=l}function dr(d,a,l,h,p,v={}){const C=vn(a)?a:[a],k=v.strokeWidth>0&&v.strokeColor!=="";let T,E;for(d.save(),d.font=p.string,Gx(d,v),T=0;T<C.length;++T)E=C[T],v.backdrop&&Kx(d,v.backdrop),k&&(v.strokeColor&&(d.strokeStyle=v.strokeColor),It(v.strokeWidth)||(d.lineWidth=v.strokeWidth),d.strokeText(E,l,h,v.maxWidth)),d.fillText(E,l,h,v.maxWidth),Xx(d,l,h,E,v),h+=Number(p.lineHeight);d.restore()}function zu(d,a){const{x:l,y:h,w:p,h:v,radius:C}=a;d.arc(l+C.topLeft,h+C.topLeft,C.topLeft,1.5*hn,hn,!0),d.lineTo(l,h+v-C.bottomLeft),d.arc(l+C.bottomLeft,h+v-C.bottomLeft,C.bottomLeft,hn,zn,!0),d.lineTo(l+p-C.bottomRight,h+v),d.arc(l+p-C.bottomRight,h+v-C.bottomRight,C.bottomRight,zn,0,!0),d.lineTo(l+p,h+C.topRight),d.arc(l+p-C.topRight,h+C.topRight,C.topRight,0,-zn,!0),d.lineTo(l+C.topLeft,h)}const Zx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Jx=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qx(d,a){const l=(""+d).match(Zx);if(!l||l[1]==="normal")return a*1.2;switch(d=+l[2],l[3]){case"px":return d;case"%":d/=100;break}return a*d}const eC=d=>+d||0;function bp(d,a){const l={},h=Ft(a),p=h?Object.keys(a):a,v=Ft(d)?h?C=>At(d[C],d[a[C]]):C=>d[C]:()=>d;for(const C of p)l[C]=eC(v(C));return l}function k0(d){return bp(d,{top:"y",right:"x",bottom:"y",left:"x"})}function lr(d){return bp(d,["topLeft","topRight","bottomLeft","bottomRight"])}function wi(d){const a=k0(d);return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function ei(d,a){d=d||{},a=a||bn.font;let l=At(d.size,a.size);typeof l=="string"&&(l=parseInt(l,10));let h=At(d.style,a.style);h&&!(""+h).match(Jx)&&(console.warn('Invalid font style specified: "'+h+'"'),h=void 0);const p={family:At(d.family,a.family),lineHeight:Qx(At(d.lineHeight,a.lineHeight),l),size:l,style:h,weight:At(d.weight,a.weight),string:""};return p.string=Ux(p),p}function ku(d,a,l,h){let p,v,C;for(p=0,v=d.length;p<v;++p)if(C=d[p],C!==void 0&&C!==void 0)return C}function tC(d,a,l){const{min:h,max:p}=d,v=h0(a,(p-h)/2),C=(k,T)=>l&&k===0?0:k+T;return{min:C(h,-Math.abs(v)),max:C(p,v)}}function So(d,a){return Object.assign(Object.create(d),a)}function yp(d,a=[""],l,h,p=()=>d[0]){const v=l||d;typeof h>"u"&&(h=E0("_fallback",d));const C={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:d,_rootScopes:v,_fallback:h,_getTarget:p,override:k=>yp([k,...d],a,v,h)};return new Proxy(C,{deleteProperty(k,T){return delete k[T],delete k._keys,delete d[0][T],!0},get(k,T){return T0(k,T,()=>uC(T,a,d,k))},getOwnPropertyDescriptor(k,T){return Reflect.getOwnPropertyDescriptor(k._scopes[0],T)},getPrototypeOf(){return Reflect.getPrototypeOf(d[0])},has(k,T){return yg(k).includes(T)},ownKeys(k){return yg(k)},set(k,T,E){const A=k._storage||(k._storage=p());return k[T]=A[T]=E,delete k._keys,!0}})}function hl(d,a,l,h){const p={_cacheable:!1,_proxy:d,_context:a,_subProxy:l,_stack:new Set,_descriptors:S0(d,h),setContext:v=>hl(d,v,l,h),override:v=>hl(d.override(v),a,l,h)};return new Proxy(p,{deleteProperty(v,C){return delete v[C],delete d[C],!0},get(v,C,k){return T0(v,C,()=>iC(v,C,k))},getOwnPropertyDescriptor(v,C){return v._descriptors.allKeys?Reflect.has(d,C)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(d,C)},getPrototypeOf(){return Reflect.getPrototypeOf(d)},has(v,C){return Reflect.has(d,C)},ownKeys(){return Reflect.ownKeys(d)},set(v,C,k){return d[C]=k,delete v[C],!0}})}function S0(d,a={scriptable:!0,indexable:!0}){const{_scriptable:l=a.scriptable,_indexable:h=a.indexable,_allKeys:p=a.allKeys}=d;return{allKeys:p,scriptable:l,indexable:h,isScriptable:ko(l)?l:()=>l,isIndexable:ko(h)?h:()=>h}}const nC=(d,a)=>d?d+fp(a):a,xp=(d,a)=>Ft(a)&&d!=="adapters"&&(Object.getPrototypeOf(a)===null||a.constructor===Object);function T0(d,a,l){if(Object.prototype.hasOwnProperty.call(d,a)||a==="constructor")return d[a];const h=l();return d[a]=h,h}function iC(d,a,l){const{_proxy:h,_context:p,_subProxy:v,_descriptors:C}=d;let k=h[a];return ko(k)&&C.isScriptable(a)&&(k=sC(a,k,d,l)),vn(k)&&k.length&&(k=aC(a,k,d,C.isIndexable)),xp(a,k)&&(k=hl(k,p,v&&v[a],C)),k}function sC(d,a,l,h){const{_proxy:p,_context:v,_subProxy:C,_stack:k}=l;if(k.has(d))throw new Error("Recursion detected: "+Array.from(k).join("->")+"->"+d);k.add(d);let T=a(v,C||h);return k.delete(d),xp(d,T)&&(T=Cp(p._scopes,p,d,T)),T}function aC(d,a,l,h){const{_proxy:p,_context:v,_subProxy:C,_descriptors:k}=l;if(typeof v.index<"u"&&h(d))return a[v.index%a.length];if(Ft(a[0])){const T=a,E=p._scopes.filter(A=>A!==T);a=[];for(const A of T){const O=Cp(E,p,d,A);a.push(hl(O,v,C&&C[d],k))}}return a}function D0(d,a,l){return ko(d)?d(a,l):d}const oC=(d,a)=>d===!0?a:typeof d=="string"?_o(a,d):void 0;function rC(d,a,l,h,p){for(const v of a){const C=oC(l,v);if(C){d.add(C);const k=D0(C._fallback,l,p);if(typeof k<"u"&&k!==l&&k!==h)return k}else if(C===!1&&typeof h<"u"&&l!==h)return null}return!1}function Cp(d,a,l,h){const p=a._rootScopes,v=D0(a._fallback,l,h),C=[...d,...p],k=new Set;k.add(h);let T=bg(k,C,l,v||l,h);return T===null||typeof v<"u"&&v!==l&&(T=bg(k,C,v,T,h),T===null)?!1:yp(Array.from(k),[""],p,v,()=>lC(a,l,h))}function bg(d,a,l,h,p){for(;l;)l=rC(d,a,l,h,p);return l}function lC(d,a,l){const h=d._getTarget();a in h||(h[a]={});const p=h[a];return vn(p)&&Ft(l)?l:p||{}}function uC(d,a,l,h){let p;for(const v of a)if(p=E0(nC(v,d),l),typeof p<"u")return xp(d,p)?Cp(l,h,d,p):p}function E0(d,a){for(const l of a){if(!l)continue;const h=l[d];if(typeof h<"u")return h}}function yg(d){let a=d._keys;return a||(a=d._keys=cC(d._scopes)),a}function cC(d){const a=new Set;for(const l of d)for(const h of Object.keys(l).filter(p=>!p.startsWith("_")))a.add(h);return Array.from(a)}function M0(d,a,l,h){const{iScale:p}=d,{key:v="r"}=this._parsing,C=new Array(h);let k,T,E,A;for(k=0,T=h;k<T;++k)E=k+l,A=a[E],C[k]={r:p.parse(_o(A,v),E)};return C}const dC=Number.EPSILON||1e-14,fl=(d,a)=>a<d.length&&!d[a].skip&&d[a],A0=d=>d==="x"?"y":"x";function hC(d,a,l,h){const p=d.skip?a:d,v=a,C=l.skip?a:l,k=qf(v,p),T=qf(C,v);let E=k/(k+T),A=T/(k+T);E=isNaN(E)?0:E,A=isNaN(A)?0:A;const O=h*E,R=h*A;return{previous:{x:v.x-O*(C.x-p.x),y:v.y-O*(C.y-p.y)},next:{x:v.x+R*(C.x-p.x),y:v.y+R*(C.y-p.y)}}}function fC(d,a,l){const h=d.length;let p,v,C,k,T,E=fl(d,0);for(let A=0;A<h-1;++A)if(T=E,E=fl(d,A+1),!(!T||!E)){if(Au(a[A],0,dC)){l[A]=l[A+1]=0;continue}p=l[A]/a[A],v=l[A+1]/a[A],k=Math.pow(p,2)+Math.pow(v,2),!(k<=9)&&(C=3/Math.sqrt(k),l[A]=p*C*a[A],l[A+1]=v*C*a[A])}}function pC(d,a,l="x"){const h=A0(l),p=d.length;let v,C,k,T=fl(d,0);for(let E=0;E<p;++E){if(C=k,k=T,T=fl(d,E+1),!k)continue;const A=k[l],O=k[h];C&&(v=(A-C[l])/3,k[`cp1${l}`]=A-v,k[`cp1${h}`]=O-v*a[E]),T&&(v=(T[l]-A)/3,k[`cp2${l}`]=A+v,k[`cp2${h}`]=O+v*a[E])}}function gC(d,a="x"){const l=A0(a),h=d.length,p=Array(h).fill(0),v=Array(h);let C,k,T,E=fl(d,0);for(C=0;C<h;++C)if(k=T,T=E,E=fl(d,C+1),!!T){if(E){const A=E[a]-T[a];p[C]=A!==0?(E[l]-T[l])/A:0}v[C]=k?E?ea(p[C-1])!==ea(p[C])?0:(p[C-1]+p[C])/2:p[C-1]:p[C]}fC(d,p,v),pC(d,v,a)}function Kd(d,a,l){return Math.max(Math.min(d,l),a)}function mC(d,a){let l,h,p,v,C,k=Aa(d[0],a);for(l=0,h=d.length;l<h;++l)C=v,v=k,k=l<h-1&&Aa(d[l+1],a),v&&(p=d[l],C&&(p.cp1x=Kd(p.cp1x,a.left,a.right),p.cp1y=Kd(p.cp1y,a.top,a.bottom)),k&&(p.cp2x=Kd(p.cp2x,a.left,a.right),p.cp2y=Kd(p.cp2y,a.top,a.bottom)))}function vC(d,a,l,h,p){let v,C,k,T;if(a.spanGaps&&(d=d.filter(E=>!E.skip)),a.cubicInterpolationMode==="monotone")gC(d,p);else{let E=h?d[d.length-1]:d[0];for(v=0,C=d.length;v<C;++v)k=d[v],T=hC(E,k,d[Math.min(v+1,C-(h?0:1))%C],a.tension),k.cp1x=T.previous.x,k.cp1y=T.previous.y,k.cp2x=T.next.x,k.cp2y=T.next.y,E=k}a.capBezierPoints&&mC(d,l)}function wp(){return typeof window<"u"&&typeof document<"u"}function _p(d){let a=d.parentNode;return a&&a.toString()==="[object ShadowRoot]"&&(a=a.host),a}function wh(d,a,l){let h;return typeof d=="string"?(h=parseInt(d,10),d.indexOf("%")!==-1&&(h=h/100*a.parentNode[l])):h=d,h}const Ih=d=>d.ownerDocument.defaultView.getComputedStyle(d,null);function bC(d,a){return Ih(d).getPropertyValue(a)}const yC=["top","right","bottom","left"];function ur(d,a,l){const h={};l=l?"-"+l:"";for(let p=0;p<4;p++){const v=yC[p];h[v]=parseFloat(d[a+"-"+v+l])||0}return h.width=h.left+h.right,h.height=h.top+h.bottom,h}const xC=(d,a,l)=>(d>0||a>0)&&(!l||!l.shadowRoot);function CC(d,a){const l=d.touches,h=l&&l.length?l[0]:d,{offsetX:p,offsetY:v}=h;let C=!1,k,T;if(xC(p,v,d.target))k=p,T=v;else{const E=a.getBoundingClientRect();k=h.clientX-E.left,T=h.clientY-E.top,C=!0}return{x:k,y:T,box:C}}function sr(d,a){if("native"in d)return d;const{canvas:l,currentDevicePixelRatio:h}=a,p=Ih(l),v=p.boxSizing==="border-box",C=ur(p,"padding"),k=ur(p,"border","width"),{x:T,y:E,box:A}=CC(d,l),O=C.left+(A&&k.left),R=C.top+(A&&k.top);let{width:j,height:X}=a;return v&&(j-=C.width+k.width,X-=C.height+k.height),{x:Math.round((T-O)/j*l.width/h),y:Math.round((E-R)/X*l.height/h)}}function wC(d,a,l){let h,p;if(a===void 0||l===void 0){const v=d&&_p(d);if(!v)a=d.clientWidth,l=d.clientHeight;else{const C=v.getBoundingClientRect(),k=Ih(v),T=ur(k,"border","width"),E=ur(k,"padding");a=C.width-E.width-T.width,l=C.height-E.height-T.height,h=wh(k.maxWidth,v,"clientWidth"),p=wh(k.maxHeight,v,"clientHeight")}}return{width:a,height:l,maxWidth:h||xh,maxHeight:p||xh}}const Zd=d=>Math.round(d*10)/10;function _C(d,a,l,h){const p=Ih(d),v=ur(p,"margin"),C=wh(p.maxWidth,d,"clientWidth")||xh,k=wh(p.maxHeight,d,"clientHeight")||xh,T=wC(d,a,l);let{width:E,height:A}=T;if(p.boxSizing==="content-box"){const R=ur(p,"border","width"),j=ur(p,"padding");E-=j.width+R.width,A-=j.height+R.height}return E=Math.max(0,E-v.width),A=Math.max(0,h?E/h:A-v.height),E=Zd(Math.min(E,C,T.maxWidth)),A=Zd(Math.min(A,k,T.maxHeight)),E&&!A&&(A=Zd(E/2)),(a!==void 0||l!==void 0)&&h&&T.height&&A>T.height&&(A=T.height,E=Zd(Math.floor(A*h))),{width:E,height:A}}function xg(d,a,l){const h=a||1,p=Math.floor(d.height*h),v=Math.floor(d.width*h);d.height=Math.floor(d.height),d.width=Math.floor(d.width);const C=d.canvas;return C.style&&(l||!C.style.height&&!C.style.width)&&(C.style.height=`${d.height}px`,C.style.width=`${d.width}px`),d.currentDevicePixelRatio!==h||C.height!==p||C.width!==v?(d.currentDevicePixelRatio=h,C.height=p,C.width=v,d.ctx.setTransform(h,0,0,h,0,0),!0):!1}const kC=function(){let d=!1;try{const a={get passive(){return d=!0,!1}};wp()&&(window.addEventListener("test",null,a),window.removeEventListener("test",null,a))}catch{}return d}();function Cg(d,a){const l=bC(d,a),h=l&&l.match(/^(\d+)(\.\d+)?px$/);return h?+h[1]:void 0}function ar(d,a,l,h){return{x:d.x+l*(a.x-d.x),y:d.y+l*(a.y-d.y)}}function SC(d,a,l,h){return{x:d.x+l*(a.x-d.x),y:h==="middle"?l<.5?d.y:a.y:h==="after"?l<1?d.y:a.y:l>0?a.y:d.y}}function TC(d,a,l,h){const p={x:d.cp2x,y:d.cp2y},v={x:a.cp1x,y:a.cp1y},C=ar(d,p,l),k=ar(p,v,l),T=ar(v,a,l),E=ar(C,k,l),A=ar(k,T,l);return ar(E,A,l)}const DC=function(d,a){return{x(l){return d+d+a-l},setWidth(l){a=l},textAlign(l){return l==="center"?l:l==="right"?"left":"right"},xPlus(l,h){return l-h},leftForLtr(l,h){return l-h}}},EC=function(){return{x(d){return d},setWidth(d){},textAlign(d){return d},xPlus(d,a){return d+a},leftForLtr(d,a){return d}}};function cl(d,a,l){return d?DC(a,l):EC()}function I0(d,a){let l,h;(a==="ltr"||a==="rtl")&&(l=d.canvas.style,h=[l.getPropertyValue("direction"),l.getPropertyPriority("direction")],l.setProperty("direction",a,"important"),d.prevTextDirection=h)}function F0(d,a){a!==void 0&&(delete d.prevTextDirection,d.canvas.style.setProperty("direction",a[0],a[1]))}function L0(d){return d==="angle"?{between:Nu,compare:Mx,normalize:Yi}:{between:Ea,compare:(a,l)=>a-l,normalize:a=>a}}function wg({start:d,end:a,count:l,loop:h,style:p}){return{start:d%l,end:a%l,loop:h&&(a-d+1)%l===0,style:p}}function MC(d,a,l){const{property:h,start:p,end:v}=l,{between:C,normalize:k}=L0(h),T=a.length;let{start:E,end:A,loop:O}=d,R,j;if(O){for(E+=T,A+=T,R=0,j=T;R<j&&C(k(a[E%T][h]),p,v);++R)E--,A--;E%=T,A%=T}return A<E&&(A+=T),{start:E,end:A,loop:O,style:d.style}}function O0(d,a,l){if(!l)return[d];const{property:h,start:p,end:v}=l,C=a.length,{compare:k,between:T,normalize:E}=L0(h),{start:A,end:O,loop:R,style:j}=MC(d,a,l),X=[];let ne=!1,ie=null,oe,ee,le;const Z=()=>T(p,le,oe)&&k(p,le)!==0,ae=()=>k(v,oe)===0||T(v,le,oe),ke=()=>ne||Z(),be=()=>!ne||ae();for(let pe=A,Le=A;pe<=O;++pe)ee=a[pe%C],!ee.skip&&(oe=E(ee[h]),oe!==le&&(ne=T(oe,p,v),ie===null&&ke()&&(ie=k(oe,p)===0?pe:Le),ie!==null&&be()&&(X.push(wg({start:ie,end:pe,loop:R,count:C,style:j})),ie=null),Le=pe,le=oe));return ie!==null&&X.push(wg({start:ie,end:O,loop:R,count:C,style:j})),X}function P0(d,a){const l=[],h=d.segments;for(let p=0;p<h.length;p++){const v=O0(h[p],d.points,a);v.length&&l.push(...v)}return l}function AC(d,a,l,h){let p=0,v=a-1;if(l&&!h)for(;p<a&&!d[p].skip;)p++;for(;p<a&&d[p].skip;)p++;for(p%=a,l&&(v+=p);v>p&&d[v%a].skip;)v--;return v%=a,{start:p,end:v}}function IC(d,a,l,h){const p=d.length,v=[];let C=a,k=d[a],T;for(T=a+1;T<=l;++T){const E=d[T%p];E.skip||E.stop?k.skip||(h=!1,v.push({start:a%p,end:(T-1)%p,loop:h}),a=C=E.stop?T:null):(C=T,k.skip&&(a=T)),k=E}return C!==null&&v.push({start:a%p,end:C%p,loop:h}),v}function FC(d,a){const l=d.points,h=d.options.spanGaps,p=l.length;if(!p)return[];const v=!!d._loop,{start:C,end:k}=AC(l,p,v,h);if(h===!0)return _g(d,[{start:C,end:k,loop:v}],l,a);const T=k<C?k+p:k,E=!!d._fullLoop&&C===0&&k===p-1;return _g(d,IC(l,C,T,E),l,a)}function _g(d,a,l,h){return!h||!h.setContext||!l?a:LC(d,a,l,h)}function LC(d,a,l,h){const p=d._chart.getContext(),v=kg(d.options),{_datasetIndex:C,options:{spanGaps:k}}=d,T=l.length,E=[];let A=v,O=a[0].start,R=O;function j(X,ne,ie,oe){const ee=k?-1:1;if(X!==ne){for(X+=T;l[X%T].skip;)X-=ee;for(;l[ne%T].skip;)ne+=ee;X%T!==ne%T&&(E.push({start:X%T,end:ne%T,loop:ie,style:oe}),A=oe,O=ne%T)}}for(const X of a){O=k?O:X.start;let ne=l[O%T],ie;for(R=O+1;R<=X.end;R++){const oe=l[R%T];ie=kg(h.setContext(So(p,{type:"segment",p0:ne,p1:oe,p0DataIndex:(R-1)%T,p1DataIndex:R%T,datasetIndex:C}))),OC(ie,A)&&j(O,R-1,X.loop,A),ne=oe,A=ie}O<R-1&&j(O,R-1,X.loop,A)}return E}function kg(d){return{backgroundColor:d.backgroundColor,borderCapStyle:d.borderCapStyle,borderDash:d.borderDash,borderDashOffset:d.borderDashOffset,borderJoinStyle:d.borderJoinStyle,borderWidth:d.borderWidth,borderColor:d.borderColor}}function OC(d,a){if(!a)return!1;const l=[],h=function(p,v){return vp(v)?(l.includes(v)||l.push(v),l.indexOf(v)):v};return JSON.stringify(d,h)!==JSON.stringify(a,h)}function Jd(d,a,l){return d.options.clip?d[l]:a[l]}function PC(d,a){const{xScale:l,yScale:h}=d;return l&&h?{left:Jd(l,a,"left"),right:Jd(l,a,"right"),top:Jd(h,a,"top"),bottom:Jd(h,a,"bottom")}:a}function B0(d,a){const l=a._clip;if(l.disabled)return!1;const h=PC(a,d.chartArea);return{left:l.left===!1?0:h.left-(l.left===!0?0:l.left),right:l.right===!1?d.width:h.right+(l.right===!0?0:l.right),top:l.top===!1?0:h.top-(l.top===!0?0:l.top),bottom:l.bottom===!1?d.height:h.bottom+(l.bottom===!0?0:l.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class BC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(a,l,h,p){const v=l.listeners[p],C=l.duration;v.forEach(k=>k({chart:a,initial:l.initial,numSteps:C,currentStep:Math.min(h-l.start,C)}))}_refresh(){this._request||(this._running=!0,this._request=b0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(a=Date.now()){let l=0;this._charts.forEach((h,p)=>{if(!h.running||!h.items.length)return;const v=h.items;let C=v.length-1,k=!1,T;for(;C>=0;--C)T=v[C],T._active?(T._total>h.duration&&(h.duration=T._total),T.tick(a),k=!0):(v[C]=v[v.length-1],v.pop());k&&(p.draw(),this._notify(p,h,a,"progress")),v.length||(h.running=!1,this._notify(p,h,a,"complete"),h.initial=!1),l+=v.length}),this._lastDate=a,l===0&&(this._running=!1)}_getAnims(a){const l=this._charts;let h=l.get(a);return h||(h={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},l.set(a,h)),h}listen(a,l,h){this._getAnims(a).listeners[l].push(h)}add(a,l){!l||!l.length||this._getAnims(a).items.push(...l)}has(a){return this._getAnims(a).items.length>0}start(a){const l=this._charts.get(a);l&&(l.running=!0,l.start=Date.now(),l.duration=l.items.reduce((h,p)=>Math.max(h,p._duration),0),this._refresh())}running(a){if(!this._running)return!1;const l=this._charts.get(a);return!(!l||!l.running||!l.items.length)}stop(a){const l=this._charts.get(a);if(!l||!l.items.length)return;const h=l.items;let p=h.length-1;for(;p>=0;--p)h[p].cancel();l.items=[],this._notify(a,l,Date.now(),"complete")}remove(a){return this._charts.delete(a)}}var ka=new BC;const Sg="transparent",RC={boolean(d,a,l){return l>.5?a:d},color(d,a,l){const h=gg(d||Sg),p=h.valid&&gg(a||Sg);return p&&p.valid?p.mix(h,l).hexString():a},number(d,a,l){return d+(a-d)*l}};class NC{constructor(a,l,h,p){const v=l[h];p=ku([a.to,p,v,a.from]);const C=ku([a.from,v,p]);this._active=!0,this._fn=a.fn||RC[a.type||typeof C],this._easing=Iu[a.easing]||Iu.linear,this._start=Math.floor(Date.now()+(a.delay||0)),this._duration=this._total=Math.floor(a.duration),this._loop=!!a.loop,this._target=l,this._prop=h,this._from=C,this._to=p,this._promises=void 0}active(){return this._active}update(a,l,h){if(this._active){this._notify(!1);const p=this._target[this._prop],v=h-this._start,C=this._duration-v;this._start=h,this._duration=Math.floor(Math.max(C,a.duration)),this._total+=v,this._loop=!!a.loop,this._to=ku([a.to,l,p,a.from]),this._from=ku([a.from,p,l])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(a){const l=a-this._start,h=this._duration,p=this._prop,v=this._from,C=this._loop,k=this._to;let T;if(this._active=v!==k&&(C||l<h),!this._active){this._target[p]=k,this._notify(!0);return}if(l<0){this._target[p]=v;return}T=l/h%2,T=C&&T>1?2-T:T,T=this._easing(Math.min(1,Math.max(0,T))),this._target[p]=this._fn(v,k,T)}wait(){const a=this._promises||(this._promises=[]);return new Promise((l,h)=>{a.push({res:l,rej:h})})}_notify(a){const l=a?"res":"rej",h=this._promises||[];for(let p=0;p<h.length;p++)h[p][l]()}}class R0{constructor(a,l){this._chart=a,this._properties=new Map,this.configure(l)}configure(a){if(!Ft(a))return;const l=Object.keys(bn.animation),h=this._properties;Object.getOwnPropertyNames(a).forEach(p=>{const v=a[p];if(!Ft(v))return;const C={};for(const k of l)C[k]=v[k];(vn(v.properties)&&v.properties||[p]).forEach(k=>{(k===p||!h.has(k))&&h.set(k,C)})})}_animateOptions(a,l){const h=l.options,p=HC(a,h);if(!p)return[];const v=this._createAnimations(p,h);return h.$shared&&zC(a.options.$animations,h).then(()=>{a.options=h},()=>{}),v}_createAnimations(a,l){const h=this._properties,p=[],v=a.$animations||(a.$animations={}),C=Object.keys(l),k=Date.now();let T;for(T=C.length-1;T>=0;--T){const E=C[T];if(E.charAt(0)==="$")continue;if(E==="options"){p.push(...this._animateOptions(a,l));continue}const A=l[E];let O=v[E];const R=h.get(E);if(O)if(R&&O.active()){O.update(R,A,k);continue}else O.cancel();if(!R||!R.duration){a[E]=A;continue}v[E]=O=new NC(R,a,E,A),p.push(O)}return p}update(a,l){if(this._properties.size===0){Object.assign(a,l);return}const h=this._createAnimations(a,l);if(h.length)return ka.add(this._chart,h),!0}}function zC(d,a){const l=[],h=Object.keys(a);for(let p=0;p<h.length;p++){const v=d[h[p]];v&&v.active()&&l.push(v.wait())}return Promise.all(l)}function HC(d,a){if(!a)return;let l=d.options;if(!l){d.options=a;return}return l.$shared&&(d.options=l=Object.assign({},l,{$shared:!1,$animations:{}})),l}function Tg(d,a){const l=d&&d.options||{},h=l.reverse,p=l.min===void 0?a:0,v=l.max===void 0?a:0;return{start:h?v:p,end:h?p:v}}function VC(d,a,l){if(l===!1)return!1;const h=Tg(d,l),p=Tg(a,l);return{top:p.end,right:h.end,bottom:p.start,left:h.start}}function WC(d){let a,l,h,p;return Ft(d)?(a=d.top,l=d.right,h=d.bottom,p=d.left):a=l=h=p=d,{top:a,right:l,bottom:h,left:p,disabled:d===!1}}function N0(d,a){const l=[],h=d._getSortedDatasetMetas(a);let p,v;for(p=0,v=h.length;p<v;++p)l.push(h[p].index);return l}function Dg(d,a,l,h={}){const p=d.keys,v=h.mode==="single";let C,k,T,E;if(a===null)return;let A=!1;for(C=0,k=p.length;C<k;++C){if(T=+p[C],T===l){if(A=!0,h.all)continue;break}E=d.values[T],Mn(E)&&(v||a===0||ea(a)===ea(E))&&(a+=E)}return!A&&!h.all?0:a}function jC(d,a){const{iScale:l,vScale:h}=a,p=l.axis==="x"?"x":"y",v=h.axis==="x"?"x":"y",C=Object.keys(d),k=new Array(C.length);let T,E,A;for(T=0,E=C.length;T<E;++T)A=C[T],k[T]={[p]:A,[v]:d[A]};return k}function Mf(d,a){const l=d&&d.options.stacked;return l||l===void 0&&a.stack!==void 0}function UC(d,a,l){return`${d.id}.${a.id}.${l.stack||l.type}`}function $C(d){const{min:a,max:l,minDefined:h,maxDefined:p}=d.getUserBounds();return{min:h?a:Number.NEGATIVE_INFINITY,max:p?l:Number.POSITIVE_INFINITY}}function qC(d,a,l){const h=d[a]||(d[a]={});return h[l]||(h[l]={})}function Eg(d,a,l,h){for(const p of a.getMatchingVisibleMetas(h).reverse()){const v=d[p.index];if(l&&v>0||!l&&v<0)return p.index}return null}function Mg(d,a){const{chart:l,_cachedMeta:h}=d,p=l._stacks||(l._stacks={}),{iScale:v,vScale:C,index:k}=h,T=v.axis,E=C.axis,A=UC(v,C,h),O=a.length;let R;for(let j=0;j<O;++j){const X=a[j],{[T]:ne,[E]:ie}=X,oe=X._stacks||(X._stacks={});R=oe[E]=qC(p,A,ne),R[k]=ie,R._top=Eg(R,C,!0,h.type),R._bottom=Eg(R,C,!1,h.type);const ee=R._visualValues||(R._visualValues={});ee[k]=ie}}function Af(d,a){const l=d.scales;return Object.keys(l).filter(h=>l[h].axis===a).shift()}function YC(d,a){return So(d,{active:!1,dataset:void 0,datasetIndex:a,index:a,mode:"default",type:"dataset"})}function GC(d,a,l){return So(d,{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:l,index:a,mode:"default",type:"data"})}function pu(d,a){const l=d.controller.index,h=d.vScale&&d.vScale.axis;if(h){a=a||d._parsed;for(const p of a){const v=p._stacks;if(!v||v[h]===void 0||v[h][l]===void 0)return;delete v[h][l],v[h]._visualValues!==void 0&&v[h]._visualValues[l]!==void 0&&delete v[h]._visualValues[l]}}}const If=d=>d==="reset"||d==="none",Ag=(d,a)=>a?d:Object.assign({},d),XC=(d,a,l)=>d&&!a.hidden&&a._stacked&&{keys:N0(l,!0),values:null};class ws{constructor(a,l){this.chart=a,this._ctx=a.ctx,this.index=l,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const a=this._cachedMeta;this.configure(),this.linkScales(),a._stacked=Mf(a.vScale,a),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(a){this.index!==a&&pu(this._cachedMeta),this.index=a}linkScales(){const a=this.chart,l=this._cachedMeta,h=this.getDataset(),p=(O,R,j,X)=>O==="x"?R:O==="r"?X:j,v=l.xAxisID=At(h.xAxisID,Af(a,"x")),C=l.yAxisID=At(h.yAxisID,Af(a,"y")),k=l.rAxisID=At(h.rAxisID,Af(a,"r")),T=l.indexAxis,E=l.iAxisID=p(T,v,C,k),A=l.vAxisID=p(T,C,v,k);l.xScale=this.getScaleForId(v),l.yScale=this.getScaleForId(C),l.rScale=this.getScaleForId(k),l.iScale=this.getScaleForId(E),l.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(a){return this.chart.scales[a]}_getOtherScale(a){const l=this._cachedMeta;return a===l.iScale?l.vScale:l.iScale}reset(){this._update("reset")}_destroy(){const a=this._cachedMeta;this._data&&hg(this._data,this),a._stacked&&pu(a)}_dataCheck(){const a=this.getDataset(),l=a.data||(a.data=[]),h=this._data;if(Ft(l)){const p=this._cachedMeta;this._data=jC(l,p)}else if(h!==l){if(h){hg(h,this);const p=this._cachedMeta;pu(p),p._parsed=[]}l&&Object.isExtensible(l)&&Lx(l,this),this._syncList=[],this._data=l}}addElements(){const a=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(a.dataset=new this.datasetElementType)}buildOrUpdateElements(a){const l=this._cachedMeta,h=this.getDataset();let p=!1;this._dataCheck();const v=l._stacked;l._stacked=Mf(l.vScale,l),l.stack!==h.stack&&(p=!0,pu(l),l.stack=h.stack),this._resyncElements(a),(p||v!==l._stacked)&&(Mg(this,l._parsed),l._stacked=Mf(l.vScale,l))}configure(){const a=this.chart.config,l=a.datasetScopeKeys(this._type),h=a.getOptionScopes(this.getDataset(),l,!0);this.options=a.createResolver(h,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(a,l){const{_cachedMeta:h,_data:p}=this,{iScale:v,_stacked:C}=h,k=v.axis;let T=a===0&&l===p.length?!0:h._sorted,E=a>0&&h._parsed[a-1],A,O,R;if(this._parsing===!1)h._parsed=p,h._sorted=!0,R=p;else{vn(p[a])?R=this.parseArrayData(h,p,a,l):Ft(p[a])?R=this.parseObjectData(h,p,a,l):R=this.parsePrimitiveData(h,p,a,l);const j=()=>O[k]===null||E&&O[k]<E[k];for(A=0;A<l;++A)h._parsed[A+a]=O=R[A],T&&(j()&&(T=!1),E=O);h._sorted=T}C&&Mg(this,R)}parsePrimitiveData(a,l,h,p){const{iScale:v,vScale:C}=a,k=v.axis,T=C.axis,E=v.getLabels(),A=v===C,O=new Array(p);let R,j,X;for(R=0,j=p;R<j;++R)X=R+h,O[R]={[k]:A||v.parse(E[X],X),[T]:C.parse(l[X],X)};return O}parseArrayData(a,l,h,p){const{xScale:v,yScale:C}=a,k=new Array(p);let T,E,A,O;for(T=0,E=p;T<E;++T)A=T+h,O=l[A],k[T]={x:v.parse(O[0],A),y:C.parse(O[1],A)};return k}parseObjectData(a,l,h,p){const{xScale:v,yScale:C}=a,{xAxisKey:k="x",yAxisKey:T="y"}=this._parsing,E=new Array(p);let A,O,R,j;for(A=0,O=p;A<O;++A)R=A+h,j=l[R],E[A]={x:v.parse(_o(j,k),R),y:C.parse(_o(j,T),R)};return E}getParsed(a){return this._cachedMeta._parsed[a]}getDataElement(a){return this._cachedMeta.data[a]}applyStack(a,l,h){const p=this.chart,v=this._cachedMeta,C=l[a.axis],k={keys:N0(p,!0),values:l._stacks[a.axis]._visualValues};return Dg(k,C,v.index,{mode:h})}updateRangeFromParsed(a,l,h,p){const v=h[l.axis];let C=v===null?NaN:v;const k=p&&h._stacks[l.axis];p&&k&&(p.values=k,C=Dg(p,v,this._cachedMeta.index)),a.min=Math.min(a.min,C),a.max=Math.max(a.max,C)}getMinMax(a,l){const h=this._cachedMeta,p=h._parsed,v=h._sorted&&a===h.iScale,C=p.length,k=this._getOtherScale(a),T=XC(l,h,this.chart),E={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:O}=$C(k);let R,j;function X(){j=p[R];const ne=j[k.axis];return!Mn(j[a.axis])||A>ne||O<ne}for(R=0;R<C&&!(!X()&&(this.updateRangeFromParsed(E,a,j,T),v));++R);if(v){for(R=C-1;R>=0;--R)if(!X()){this.updateRangeFromParsed(E,a,j,T);break}}return E}getAllParsedValues(a){const l=this._cachedMeta._parsed,h=[];let p,v,C;for(p=0,v=l.length;p<v;++p)C=l[p][a.axis],Mn(C)&&h.push(C);return h}getMaxOverflow(){return!1}getLabelAndValue(a){const l=this._cachedMeta,h=l.iScale,p=l.vScale,v=this.getParsed(a);return{label:h?""+h.getLabelForValue(v[h.axis]):"",value:p?""+p.getLabelForValue(v[p.axis]):""}}_update(a){const l=this._cachedMeta;this.update(a||"default"),l._clip=WC(At(this.options.clip,VC(l.xScale,l.yScale,this.getMaxOverflow())))}update(a){}draw(){const a=this._ctx,l=this.chart,h=this._cachedMeta,p=h.data||[],v=l.chartArea,C=[],k=this._drawStart||0,T=this._drawCount||p.length-k,E=this.options.drawActiveElementsOnTop;let A;for(h.dataset&&h.dataset.draw(a,v,k,T),A=k;A<k+T;++A){const O=p[A];O.hidden||(O.active&&E?C.push(O):O.draw(a,v))}for(A=0;A<C.length;++A)C[A].draw(a,v)}getStyle(a,l){const h=l?"active":"default";return a===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(h):this.resolveDataElementOptions(a||0,h)}getContext(a,l,h){const p=this.getDataset();let v;if(a>=0&&a<this._cachedMeta.data.length){const C=this._cachedMeta.data[a];v=C.$context||(C.$context=GC(this.getContext(),a,C)),v.parsed=this.getParsed(a),v.raw=p.data[a],v.index=v.dataIndex=a}else v=this.$context||(this.$context=YC(this.chart.getContext(),this.index)),v.dataset=p,v.index=v.datasetIndex=this.index;return v.active=!!l,v.mode=h,v}resolveDatasetElementOptions(a){return this._resolveElementOptions(this.datasetElementType.id,a)}resolveDataElementOptions(a,l){return this._resolveElementOptions(this.dataElementType.id,l,a)}_resolveElementOptions(a,l="default",h){const p=l==="active",v=this._cachedDataOpts,C=a+"-"+l,k=v[C],T=this.enableOptionSharing&&Ru(h);if(k)return Ag(k,T);const E=this.chart.config,A=E.datasetElementScopeKeys(this._type,a),O=p?[`${a}Hover`,"hover",a,""]:[a,""],R=E.getOptionScopes(this.getDataset(),A),j=Object.keys(bn.elements[a]),X=()=>this.getContext(h,p,l),ne=E.resolveNamedOptions(R,j,X,O);return ne.$shared&&(ne.$shared=T,v[C]=Object.freeze(Ag(ne,T))),ne}_resolveAnimations(a,l,h){const p=this.chart,v=this._cachedDataOpts,C=`animation-${l}`,k=v[C];if(k)return k;let T;if(p.options.animation!==!1){const A=this.chart.config,O=A.datasetAnimationScopeKeys(this._type,l),R=A.getOptionScopes(this.getDataset(),O);T=A.createResolver(R,this.getContext(a,h,l))}const E=new R0(p,T&&T.animations);return T&&T._cacheable&&(v[C]=Object.freeze(E)),E}getSharedOptions(a){if(a.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},a))}includeOptions(a,l){return!l||If(a)||this.chart._animationsDisabled}_getSharedOptions(a,l){const h=this.resolveDataElementOptions(a,l),p=this._sharedOptions,v=this.getSharedOptions(h),C=this.includeOptions(l,v)||v!==p;return this.updateSharedOptions(v,l,h),{sharedOptions:v,includeOptions:C}}updateElement(a,l,h,p){If(p)?Object.assign(a,h):this._resolveAnimations(l,p).update(a,h)}updateSharedOptions(a,l,h){a&&!If(l)&&this._resolveAnimations(void 0,l).update(a,h)}_setStyle(a,l,h,p){a.active=p;const v=this.getStyle(l,p);this._resolveAnimations(l,h,p).update(a,{options:!p&&this.getSharedOptions(v)||v})}removeHoverStyle(a,l,h){this._setStyle(a,h,"active",!1)}setHoverStyle(a,l,h){this._setStyle(a,h,"active",!0)}_removeDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!1)}_setDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!0)}_resyncElements(a){const l=this._data,h=this._cachedMeta.data;for(const[k,T,E]of this._syncList)this[k](T,E);this._syncList=[];const p=h.length,v=l.length,C=Math.min(v,p);C&&this.parse(0,C),v>p?this._insertElements(p,v-p,a):v<p&&this._removeElements(v,p-v)}_insertElements(a,l,h=!0){const p=this._cachedMeta,v=p.data,C=a+l;let k;const T=E=>{for(E.length+=l,k=E.length-1;k>=C;k--)E[k]=E[k-l]};for(T(v),k=a;k<C;++k)v[k]=new this.dataElementType;this._parsing&&T(p._parsed),this.parse(a,l),h&&this.updateElements(v,a,l,"reset")}updateElements(a,l,h,p){}_removeElements(a,l){const h=this._cachedMeta;if(this._parsing){const p=h._parsed.splice(a,l);h._stacked&&pu(h,p)}h.data.splice(a,l)}_sync(a){if(this._parsing)this._syncList.push(a);else{const[l,h,p]=a;this[l](h,p)}this.chart._dataChanges.push([this.index,...a])}_onDataPush(){const a=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-a,a])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(a,l){l&&this._sync(["_removeElements",a,l]);const h=arguments.length-2;h&&this._sync(["_insertElements",a,h])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Fe(ws,"defaults",{}),Fe(ws,"datasetElementType",null),Fe(ws,"dataElementType",null);function KC(d,a){if(!d._cache.$bar){const l=d.getMatchingVisibleMetas(a);let h=[];for(let p=0,v=l.length;p<v;p++)h=h.concat(l[p].controller.getAllParsedValues(d));d._cache.$bar=v0(h.sort((p,v)=>p-v))}return d._cache.$bar}function ZC(d){const a=d.iScale,l=KC(a,d.type);let h=a._length,p,v,C,k;const T=()=>{C===32767||C===-32768||(Ru(k)&&(h=Math.min(h,Math.abs(C-k)||h)),k=C)};for(p=0,v=l.length;p<v;++p)C=a.getPixelForValue(l[p]),T();for(k=void 0,p=0,v=a.ticks.length;p<v;++p)C=a.getPixelForTick(p),T();return h}function JC(d,a,l,h){const p=l.barThickness;let v,C;return It(p)?(v=a.min*l.categoryPercentage,C=l.barPercentage):(v=p*h,C=1),{chunk:v/h,ratio:C,start:a.pixels[d]-v/2}}function QC(d,a,l,h){const p=a.pixels,v=p[d];let C=d>0?p[d-1]:null,k=d<p.length-1?p[d+1]:null;const T=l.categoryPercentage;C===null&&(C=v-(k===null?a.end-a.start:k-v)),k===null&&(k=v+v-C);const E=v-(v-Math.min(C,k))/2*T;return{chunk:Math.abs(k-C)/2*T/h,ratio:l.barPercentage,start:E}}function ew(d,a,l,h){const p=l.parse(d[0],h),v=l.parse(d[1],h),C=Math.min(p,v),k=Math.max(p,v);let T=C,E=k;Math.abs(C)>Math.abs(k)&&(T=k,E=C),a[l.axis]=E,a._custom={barStart:T,barEnd:E,start:p,end:v,min:C,max:k}}function z0(d,a,l,h){return vn(d)?ew(d,a,l,h):a[l.axis]=l.parse(d,h),a}function Ig(d,a,l,h){const p=d.iScale,v=d.vScale,C=p.getLabels(),k=p===v,T=[];let E,A,O,R;for(E=l,A=l+h;E<A;++E)R=a[E],O={},O[p.axis]=k||p.parse(C[E],E),T.push(z0(R,O,v,E));return T}function Ff(d){return d&&d.barStart!==void 0&&d.barEnd!==void 0}function tw(d,a,l){return d!==0?ea(d):(a.isHorizontal()?1:-1)*(a.min>=l?1:-1)}function nw(d){let a,l,h,p,v;return d.horizontal?(a=d.base>d.x,l="left",h="right"):(a=d.base<d.y,l="bottom",h="top"),a?(p="end",v="start"):(p="start",v="end"),{start:l,end:h,reverse:a,top:p,bottom:v}}function iw(d,a,l,h){let p=a.borderSkipped;const v={};if(!p){d.borderSkipped=v;return}if(p===!0){d.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:C,end:k,reverse:T,top:E,bottom:A}=nw(d);p==="middle"&&l&&(d.enableBorderRadius=!0,(l._top||0)===h?p=E:(l._bottom||0)===h?p=A:(v[Fg(A,C,k,T)]=!0,p=E)),v[Fg(p,C,k,T)]=!0,d.borderSkipped=v}function Fg(d,a,l,h){return h?(d=sw(d,a,l),d=Lg(d,l,a)):d=Lg(d,a,l),d}function sw(d,a,l){return d===a?l:d===l?a:d}function Lg(d,a,l){return d==="start"?a:d==="end"?l:d}function aw(d,{inflateAmount:a},l){d.inflateAmount=a==="auto"?l===1?.33:0:a}class lh extends ws{parsePrimitiveData(a,l,h,p){return Ig(a,l,h,p)}parseArrayData(a,l,h,p){return Ig(a,l,h,p)}parseObjectData(a,l,h,p){const{iScale:v,vScale:C}=a,{xAxisKey:k="x",yAxisKey:T="y"}=this._parsing,E=v.axis==="x"?k:T,A=C.axis==="x"?k:T,O=[];let R,j,X,ne;for(R=h,j=h+p;R<j;++R)ne=l[R],X={},X[v.axis]=v.parse(_o(ne,E),R),O.push(z0(_o(ne,A),X,C,R));return O}updateRangeFromParsed(a,l,h,p){super.updateRangeFromParsed(a,l,h,p);const v=h._custom;v&&l===this._cachedMeta.vScale&&(a.min=Math.min(a.min,v.min),a.max=Math.max(a.max,v.max))}getMaxOverflow(){return 0}getLabelAndValue(a){const l=this._cachedMeta,{iScale:h,vScale:p}=l,v=this.getParsed(a),C=v._custom,k=Ff(C)?"["+C.start+", "+C.end+"]":""+p.getLabelForValue(v[p.axis]);return{label:""+h.getLabelForValue(v[h.axis]),value:k}}initialize(){this.enableOptionSharing=!0,super.initialize();const a=this._cachedMeta;a.stack=this.getDataset().stack}update(a){const l=this._cachedMeta;this.updateElements(l.data,0,l.data.length,a)}updateElements(a,l,h,p){const v=p==="reset",{index:C,_cachedMeta:{vScale:k}}=this,T=k.getBasePixel(),E=k.isHorizontal(),A=this._getRuler(),{sharedOptions:O,includeOptions:R}=this._getSharedOptions(l,p);for(let j=l;j<l+h;j++){const X=this.getParsed(j),ne=v||It(X[k.axis])?{base:T,head:T}:this._calculateBarValuePixels(j),ie=this._calculateBarIndexPixels(j,A),oe=(X._stacks||{})[k.axis],ee={horizontal:E,base:ne.base,enableBorderRadius:!oe||Ff(X._custom)||C===oe._top||C===oe._bottom,x:E?ne.head:ie.center,y:E?ie.center:ne.head,height:E?ie.size:Math.abs(ne.size),width:E?Math.abs(ne.size):ie.size};R&&(ee.options=O||this.resolveDataElementOptions(j,a[j].active?"active":p));const le=ee.options||a[j].options;iw(ee,le,oe,C),aw(ee,le,A.ratio),this.updateElement(a[j],j,ee,p)}}_getStacks(a,l){const{iScale:h}=this._cachedMeta,p=h.getMatchingVisibleMetas(this._type).filter(A=>A.controller.options.grouped),v=h.options.stacked,C=[],k=this._cachedMeta.controller.getParsed(l),T=k&&k[h.axis],E=A=>{const O=A._parsed.find(j=>j[h.axis]===T),R=O&&O[A.vScale.axis];if(It(R)||isNaN(R))return!0};for(const A of p)if(!(l!==void 0&&E(A))&&((v===!1||C.indexOf(A.stack)===-1||v===void 0&&A.stack===void 0)&&C.push(A.stack),A.index===a))break;return C.length||C.push(void 0),C}_getStackCount(a){return this._getStacks(void 0,a).length}_getStackIndex(a,l,h){const p=this._getStacks(a,h),v=l!==void 0?p.indexOf(l):-1;return v===-1?p.length-1:v}_getRuler(){const a=this.options,l=this._cachedMeta,h=l.iScale,p=[];let v,C;for(v=0,C=l.data.length;v<C;++v)p.push(h.getPixelForValue(this.getParsed(v)[h.axis],v));const k=a.barThickness;return{min:k||ZC(l),pixels:p,start:h._startPixel,end:h._endPixel,stackCount:this._getStackCount(),scale:h,grouped:a.grouped,ratio:k?1:a.categoryPercentage*a.barPercentage}}_calculateBarValuePixels(a){const{_cachedMeta:{vScale:l,_stacked:h,index:p},options:{base:v,minBarLength:C}}=this,k=v||0,T=this.getParsed(a),E=T._custom,A=Ff(E);let O=T[l.axis],R=0,j=h?this.applyStack(l,T,h):O,X,ne;j!==O&&(R=j-O,j=O),A&&(O=E.barStart,j=E.barEnd-E.barStart,O!==0&&ea(O)!==ea(E.barEnd)&&(R=0),R+=O);const ie=!It(v)&&!A?v:R;let oe=l.getPixelForValue(ie);if(this.chart.getDataVisibility(a)?X=l.getPixelForValue(R+j):X=oe,ne=X-oe,Math.abs(ne)<C){ne=tw(ne,l,k)*C,O===k&&(oe-=ne/2);const ee=l.getPixelForDecimal(0),le=l.getPixelForDecimal(1),Z=Math.min(ee,le),ae=Math.max(ee,le);oe=Math.max(Math.min(oe,ae),Z),X=oe+ne,h&&!A&&(T._stacks[l.axis]._visualValues[p]=l.getValueForPixel(X)-l.getValueForPixel(oe))}if(oe===l.getPixelForValue(k)){const ee=ea(ne)*l.getLineWidthForValue(k)/2;oe+=ee,ne-=ee}return{size:ne,base:oe,head:X,center:X+ne/2}}_calculateBarIndexPixels(a,l){const h=l.scale,p=this.options,v=p.skipNull,C=At(p.maxBarThickness,1/0);let k,T;if(l.grouped){const E=v?this._getStackCount(a):l.stackCount,A=p.barThickness==="flex"?QC(a,l,p,E):JC(a,l,p,E),O=this._getStackIndex(this.index,this._cachedMeta.stack,v?a:void 0);k=A.start+A.chunk*O+A.chunk/2,T=Math.min(C,A.chunk*A.ratio)}else k=h.getPixelForValue(this.getParsed(a)[h.axis],a),T=Math.min(C,l.min*l.ratio);return{base:k-T/2,head:k+T/2,center:k,size:T}}draw(){const a=this._cachedMeta,l=a.vScale,h=a.data,p=h.length;let v=0;for(;v<p;++v)this.getParsed(v)[l.axis]!==null&&!h[v].hidden&&h[v].draw(this._ctx)}}Fe(lh,"id","bar"),Fe(lh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Fe(lh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class uh extends ws{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(a,l,h,p){const v=super.parsePrimitiveData(a,l,h,p);for(let C=0;C<v.length;C++)v[C]._custom=this.resolveDataElementOptions(C+h).radius;return v}parseArrayData(a,l,h,p){const v=super.parseArrayData(a,l,h,p);for(let C=0;C<v.length;C++){const k=l[h+C];v[C]._custom=At(k[2],this.resolveDataElementOptions(C+h).radius)}return v}parseObjectData(a,l,h,p){const v=super.parseObjectData(a,l,h,p);for(let C=0;C<v.length;C++){const k=l[h+C];v[C]._custom=At(k&&k.r&&+k.r,this.resolveDataElementOptions(C+h).radius)}return v}getMaxOverflow(){const a=this._cachedMeta.data;let l=0;for(let h=a.length-1;h>=0;--h)l=Math.max(l,a[h].size(this.resolveDataElementOptions(h))/2);return l>0&&l}getLabelAndValue(a){const l=this._cachedMeta,h=this.chart.data.labels||[],{xScale:p,yScale:v}=l,C=this.getParsed(a),k=p.getLabelForValue(C.x),T=v.getLabelForValue(C.y),E=C._custom;return{label:h[a]||"",value:"("+k+", "+T+(E?", "+E:"")+")"}}update(a){const l=this._cachedMeta.data;this.updateElements(l,0,l.length,a)}updateElements(a,l,h,p){const v=p==="reset",{iScale:C,vScale:k}=this._cachedMeta,{sharedOptions:T,includeOptions:E}=this._getSharedOptions(l,p),A=C.axis,O=k.axis;for(let R=l;R<l+h;R++){const j=a[R],X=!v&&this.getParsed(R),ne={},ie=ne[A]=v?C.getPixelForDecimal(.5):C.getPixelForValue(X[A]),oe=ne[O]=v?k.getBasePixel():k.getPixelForValue(X[O]);ne.skip=isNaN(ie)||isNaN(oe),E&&(ne.options=T||this.resolveDataElementOptions(R,j.active?"active":p),v&&(ne.options.radius=0)),this.updateElement(j,R,ne,p)}}resolveDataElementOptions(a,l){const h=this.getParsed(a);let p=super.resolveDataElementOptions(a,l);p.$shared&&(p=Object.assign({},p,{$shared:!1}));const v=p.radius;return l!=="active"&&(p.radius=0),p.radius+=At(h&&h._custom,v),p}}Fe(uh,"id","bubble"),Fe(uh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Fe(uh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function ow(d,a,l){let h=1,p=1,v=0,C=0;if(a<dn){const k=d,T=k+a,E=Math.cos(k),A=Math.sin(k),O=Math.cos(T),R=Math.sin(T),j=(le,Z,ae)=>Nu(le,k,T,!0)?1:Math.max(Z,Z*l,ae,ae*l),X=(le,Z,ae)=>Nu(le,k,T,!0)?-1:Math.min(Z,Z*l,ae,ae*l),ne=j(0,E,O),ie=j(zn,A,R),oe=X(hn,E,O),ee=X(hn+zn,A,R);h=(ne-oe)/2,p=(ie-ee)/2,v=-(ne+oe)/2,C=-(ie+ee)/2}return{ratioX:h,ratioY:p,offsetX:v,offsetY:C}}class rr extends ws{constructor(a,l){super(a,l),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(a,l){const h=this.getDataset().data,p=this._cachedMeta;if(this._parsing===!1)p._parsed=h;else{let v=T=>+h[T];if(Ft(h[a])){const{key:T="value"}=this._parsing;v=E=>+_o(h[E],T)}let C,k;for(C=a,k=a+l;C<k;++C)p._parsed[C]=v(C)}}_getRotation(){return Cs(this.options.rotation-90)}_getCircumference(){return Cs(this.options.circumference)}_getRotationExtents(){let a=dn,l=-dn;for(let h=0;h<this.chart.data.datasets.length;++h)if(this.chart.isDatasetVisible(h)&&this.chart.getDatasetMeta(h).type===this._type){const p=this.chart.getDatasetMeta(h).controller,v=p._getRotation(),C=p._getCircumference();a=Math.min(a,v),l=Math.max(l,v+C)}return{rotation:a,circumference:l-a}}update(a){const l=this.chart,{chartArea:h}=l,p=this._cachedMeta,v=p.data,C=this.getMaxBorderWidth()+this.getMaxOffset(v)+this.options.spacing,k=Math.max((Math.min(h.width,h.height)-C)/2,0),T=Math.min(bx(this.options.cutout,k),1),E=this._getRingWeight(this.index),{circumference:A,rotation:O}=this._getRotationExtents(),{ratioX:R,ratioY:j,offsetX:X,offsetY:ne}=ow(O,A,T),ie=(h.width-C)/R,oe=(h.height-C)/j,ee=Math.max(Math.min(ie,oe)/2,0),le=h0(this.options.radius,ee),Z=Math.max(le*T,0),ae=(le-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=X*le,this.offsetY=ne*le,p.total=this.calculateTotal(),this.outerRadius=le-ae*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ae*E,0),this.updateElements(v,0,v.length,a)}_circumference(a,l){const h=this.options,p=this._cachedMeta,v=this._getCircumference();return l&&h.animation.animateRotate||!this.chart.getDataVisibility(a)||p._parsed[a]===null||p.data[a].hidden?0:this.calculateCircumference(p._parsed[a]*v/dn)}updateElements(a,l,h,p){const v=p==="reset",C=this.chart,k=C.chartArea,E=C.options.animation,A=(k.left+k.right)/2,O=(k.top+k.bottom)/2,R=v&&E.animateScale,j=R?0:this.innerRadius,X=R?0:this.outerRadius,{sharedOptions:ne,includeOptions:ie}=this._getSharedOptions(l,p);let oe=this._getRotation(),ee;for(ee=0;ee<l;++ee)oe+=this._circumference(ee,v);for(ee=l;ee<l+h;++ee){const le=this._circumference(ee,v),Z=a[ee],ae={x:A+this.offsetX,y:O+this.offsetY,startAngle:oe,endAngle:oe+le,circumference:le,outerRadius:X,innerRadius:j};ie&&(ae.options=ne||this.resolveDataElementOptions(ee,Z.active?"active":p)),oe+=le,this.updateElement(Z,ee,ae,p)}}calculateTotal(){const a=this._cachedMeta,l=a.data;let h=0,p;for(p=0;p<l.length;p++){const v=a._parsed[p];v!==null&&!isNaN(v)&&this.chart.getDataVisibility(p)&&!l[p].hidden&&(h+=Math.abs(v))}return h}calculateCircumference(a){const l=this._cachedMeta.total;return l>0&&!isNaN(a)?dn*(Math.abs(a)/l):0}getLabelAndValue(a){const l=this._cachedMeta,h=this.chart,p=h.data.labels||[],v=Uu(l._parsed[a],h.options.locale);return{label:p[a]||"",value:v}}getMaxBorderWidth(a){let l=0;const h=this.chart;let p,v,C,k,T;if(!a){for(p=0,v=h.data.datasets.length;p<v;++p)if(h.isDatasetVisible(p)){C=h.getDatasetMeta(p),a=C.data,k=C.controller;break}}if(!a)return 0;for(p=0,v=a.length;p<v;++p)T=k.resolveDataElementOptions(p),T.borderAlign!=="inner"&&(l=Math.max(l,T.borderWidth||0,T.hoverBorderWidth||0));return l}getMaxOffset(a){let l=0;for(let h=0,p=a.length;h<p;++h){const v=this.resolveDataElementOptions(h);l=Math.max(l,v.offset||0,v.hoverOffset||0)}return l}_getRingWeightOffset(a){let l=0;for(let h=0;h<a;++h)this.chart.isDatasetVisible(h)&&(l+=this._getRingWeight(h));return l}_getRingWeight(a){return Math.max(At(this.chart.data.datasets[a].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Fe(rr,"id","doughnut"),Fe(rr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Fe(rr,"descriptors",{_scriptable:a=>a!=="spacing",_indexable:a=>a!=="spacing"&&!a.startsWith("borderDash")&&!a.startsWith("hoverBorderDash")}),Fe(rr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const l=a.data;if(l.labels.length&&l.datasets.length){const{labels:{pointStyle:h,color:p}}=a.legend.options;return l.labels.map((v,C)=>{const T=a.getDatasetMeta(0).controller.getStyle(C);return{text:v,fillStyle:T.backgroundColor,strokeStyle:T.borderColor,fontColor:p,lineWidth:T.borderWidth,pointStyle:h,hidden:!a.getDataVisibility(C),index:C}})}return[]}},onClick(a,l,h){h.chart.toggleDataVisibility(l.index),h.chart.update()}}}});class ch extends ws{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(a){const l=this._cachedMeta,{dataset:h,data:p=[],_dataset:v}=l,C=this.chart._animationsDisabled;let{start:k,count:T}=x0(l,p,C);this._drawStart=k,this._drawCount=T,C0(l)&&(k=0,T=p.length),h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!v._decimated,h.points=p;const E=this.resolveDatasetElementOptions(a);this.options.showLine||(E.borderWidth=0),E.segment=this.options.segment,this.updateElement(h,void 0,{animated:!C,options:E},a),this.updateElements(p,k,T,a)}updateElements(a,l,h,p){const v=p==="reset",{iScale:C,vScale:k,_stacked:T,_dataset:E}=this._cachedMeta,{sharedOptions:A,includeOptions:O}=this._getSharedOptions(l,p),R=C.axis,j=k.axis,{spanGaps:X,segment:ne}=this.options,ie=dl(X)?X:Number.POSITIVE_INFINITY,oe=this.chart._animationsDisabled||v||p==="none",ee=l+h,le=a.length;let Z=l>0&&this.getParsed(l-1);for(let ae=0;ae<le;++ae){const ke=a[ae],be=oe?ke:{};if(ae<l||ae>=ee){be.skip=!0;continue}const pe=this.getParsed(ae),Le=It(pe[j]),Ke=be[R]=C.getPixelForValue(pe[R],ae),Ee=be[j]=v||Le?k.getBasePixel():k.getPixelForValue(T?this.applyStack(k,pe,T):pe[j],ae);be.skip=isNaN(Ke)||isNaN(Ee)||Le,be.stop=ae>0&&Math.abs(pe[R]-Z[R])>ie,ne&&(be.parsed=pe,be.raw=E.data[ae]),O&&(be.options=A||this.resolveDataElementOptions(ae,ke.active?"active":p)),oe||this.updateElement(ke,ae,be,p),Z=pe}}getMaxOverflow(){const a=this._cachedMeta,l=a.dataset,h=l.options&&l.options.borderWidth||0,p=a.data||[];if(!p.length)return h;const v=p[0].size(this.resolveDataElementOptions(0)),C=p[p.length-1].size(this.resolveDataElementOptions(p.length-1));return Math.max(h,v,C)/2}draw(){const a=this._cachedMeta;a.dataset.updateControlPoints(this.chart.chartArea,a.iScale.axis),super.draw()}}Fe(ch,"id","line"),Fe(ch,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Fe(ch,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Lu extends ws{constructor(a,l){super(a,l),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(a){const l=this._cachedMeta,h=this.chart,p=h.data.labels||[],v=Uu(l._parsed[a].r,h.options.locale);return{label:p[a]||"",value:v}}parseObjectData(a,l,h,p){return M0.bind(this)(a,l,h,p)}update(a){const l=this._cachedMeta.data;this._updateRadius(),this.updateElements(l,0,l.length,a)}getMinMax(){const a=this._cachedMeta,l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return a.data.forEach((h,p)=>{const v=this.getParsed(p).r;!isNaN(v)&&this.chart.getDataVisibility(p)&&(v<l.min&&(l.min=v),v>l.max&&(l.max=v))}),l}_updateRadius(){const a=this.chart,l=a.chartArea,h=a.options,p=Math.min(l.right-l.left,l.bottom-l.top),v=Math.max(p/2,0),C=Math.max(h.cutoutPercentage?v/100*h.cutoutPercentage:1,0),k=(v-C)/a.getVisibleDatasetCount();this.outerRadius=v-k*this.index,this.innerRadius=this.outerRadius-k}updateElements(a,l,h,p){const v=p==="reset",C=this.chart,T=C.options.animation,E=this._cachedMeta.rScale,A=E.xCenter,O=E.yCenter,R=E.getIndexAngle(0)-.5*hn;let j=R,X;const ne=360/this.countVisibleElements();for(X=0;X<l;++X)j+=this._computeAngle(X,p,ne);for(X=l;X<l+h;X++){const ie=a[X];let oe=j,ee=j+this._computeAngle(X,p,ne),le=C.getDataVisibility(X)?E.getDistanceFromCenterForValue(this.getParsed(X).r):0;j=ee,v&&(T.animateScale&&(le=0),T.animateRotate&&(oe=ee=R));const Z={x:A,y:O,innerRadius:0,outerRadius:le,startAngle:oe,endAngle:ee,options:this.resolveDataElementOptions(X,ie.active?"active":p)};this.updateElement(ie,X,Z,p)}}countVisibleElements(){const a=this._cachedMeta;let l=0;return a.data.forEach((h,p)=>{!isNaN(this.getParsed(p).r)&&this.chart.getDataVisibility(p)&&l++}),l}_computeAngle(a,l,h){return this.chart.getDataVisibility(a)?Cs(this.resolveDataElementOptions(a,l).angle||h):0}}Fe(Lu,"id","polarArea"),Fe(Lu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Fe(Lu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const l=a.data;if(l.labels.length&&l.datasets.length){const{labels:{pointStyle:h,color:p}}=a.legend.options;return l.labels.map((v,C)=>{const T=a.getDatasetMeta(0).controller.getStyle(C);return{text:v,fillStyle:T.backgroundColor,strokeStyle:T.borderColor,fontColor:p,lineWidth:T.borderWidth,pointStyle:h,hidden:!a.getDataVisibility(C),index:C}})}return[]}},onClick(a,l,h){h.chart.toggleDataVisibility(l.index),h.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Xf extends rr{}Fe(Xf,"id","pie"),Fe(Xf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class dh extends ws{getLabelAndValue(a){const l=this._cachedMeta.vScale,h=this.getParsed(a);return{label:l.getLabels()[a],value:""+l.getLabelForValue(h[l.axis])}}parseObjectData(a,l,h,p){return M0.bind(this)(a,l,h,p)}update(a){const l=this._cachedMeta,h=l.dataset,p=l.data||[],v=l.iScale.getLabels();if(h.points=p,a!=="resize"){const C=this.resolveDatasetElementOptions(a);this.options.showLine||(C.borderWidth=0);const k={_loop:!0,_fullLoop:v.length===p.length,options:C};this.updateElement(h,void 0,k,a)}this.updateElements(p,0,p.length,a)}updateElements(a,l,h,p){const v=this._cachedMeta.rScale,C=p==="reset";for(let k=l;k<l+h;k++){const T=a[k],E=this.resolveDataElementOptions(k,T.active?"active":p),A=v.getPointPositionForValue(k,this.getParsed(k).r),O=C?v.xCenter:A.x,R=C?v.yCenter:A.y,j={x:O,y:R,angle:A.angle,skip:isNaN(O)||isNaN(R),options:E};this.updateElement(T,k,j,p)}}}Fe(dh,"id","radar"),Fe(dh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Fe(dh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class hh extends ws{getLabelAndValue(a){const l=this._cachedMeta,h=this.chart.data.labels||[],{xScale:p,yScale:v}=l,C=this.getParsed(a),k=p.getLabelForValue(C.x),T=v.getLabelForValue(C.y);return{label:h[a]||"",value:"("+k+", "+T+")"}}update(a){const l=this._cachedMeta,{data:h=[]}=l,p=this.chart._animationsDisabled;let{start:v,count:C}=x0(l,h,p);if(this._drawStart=v,this._drawCount=C,C0(l)&&(v=0,C=h.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:k,_dataset:T}=l;k._chart=this.chart,k._datasetIndex=this.index,k._decimated=!!T._decimated,k.points=h;const E=this.resolveDatasetElementOptions(a);E.segment=this.options.segment,this.updateElement(k,void 0,{animated:!p,options:E},a)}else this.datasetElementType&&(delete l.dataset,this.datasetElementType=!1);this.updateElements(h,v,C,a)}addElements(){const{showLine:a}=this.options;!this.datasetElementType&&a&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(a,l,h,p){const v=p==="reset",{iScale:C,vScale:k,_stacked:T,_dataset:E}=this._cachedMeta,A=this.resolveDataElementOptions(l,p),O=this.getSharedOptions(A),R=this.includeOptions(p,O),j=C.axis,X=k.axis,{spanGaps:ne,segment:ie}=this.options,oe=dl(ne)?ne:Number.POSITIVE_INFINITY,ee=this.chart._animationsDisabled||v||p==="none";let le=l>0&&this.getParsed(l-1);for(let Z=l;Z<l+h;++Z){const ae=a[Z],ke=this.getParsed(Z),be=ee?ae:{},pe=It(ke[X]),Le=be[j]=C.getPixelForValue(ke[j],Z),Ke=be[X]=v||pe?k.getBasePixel():k.getPixelForValue(T?this.applyStack(k,ke,T):ke[X],Z);be.skip=isNaN(Le)||isNaN(Ke)||pe,be.stop=Z>0&&Math.abs(ke[j]-le[j])>oe,ie&&(be.parsed=ke,be.raw=E.data[Z]),R&&(be.options=O||this.resolveDataElementOptions(Z,ae.active?"active":p)),ee||this.updateElement(ae,Z,be,p),le=ke}this.updateSharedOptions(O,p,A)}getMaxOverflow(){const a=this._cachedMeta,l=a.data||[];if(!this.options.showLine){let k=0;for(let T=l.length-1;T>=0;--T)k=Math.max(k,l[T].size(this.resolveDataElementOptions(T))/2);return k>0&&k}const h=a.dataset,p=h.options&&h.options.borderWidth||0;if(!l.length)return p;const v=l[0].size(this.resolveDataElementOptions(0)),C=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(p,v,C)/2}}Fe(hh,"id","scatter"),Fe(hh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Fe(hh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var rw=Object.freeze({__proto__:null,BarController:lh,BubbleController:uh,DoughnutController:rr,LineController:ch,PieController:Xf,PolarAreaController:Lu,RadarController:dh,ScatterController:hh});function nr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kp{constructor(a){Fe(this,"options");this.options=a||{}}static override(a){Object.assign(kp.prototype,a)}init(){}formats(){return nr()}parse(){return nr()}format(){return nr()}add(){return nr()}diff(){return nr()}startOf(){return nr()}endOf(){return nr()}}var H0={_date:kp};function lw(d,a,l,h){const{controller:p,data:v,_sorted:C}=d,k=p._cachedMeta.iScale,T=d.dataset&&d.dataset.options?d.dataset.options.spanGaps:null;if(k&&a===k.axis&&a!=="r"&&C&&v.length){const E=k._reversePixels?Ix:Ma;if(h){if(p._sharedOptions){const A=v[0],O=typeof A.getRange=="function"&&A.getRange(a);if(O){const R=E(v,a,l-O),j=E(v,a,l+O);return{lo:R.lo,hi:j.hi}}}}else{const A=E(v,a,l);if(T){const{vScale:O}=p._cachedMeta,{_parsed:R}=d,j=R.slice(0,A.lo+1).reverse().findIndex(ne=>!It(ne[O.axis]));A.lo-=Math.max(0,j);const X=R.slice(A.hi).findIndex(ne=>!It(ne[O.axis]));A.hi+=Math.max(0,X)}return A}}return{lo:0,hi:v.length-1}}function Fh(d,a,l,h,p){const v=d.getSortedVisibleDatasetMetas(),C=l[a];for(let k=0,T=v.length;k<T;++k){const{index:E,data:A}=v[k],{lo:O,hi:R}=lw(v[k],a,C,p);for(let j=O;j<=R;++j){const X=A[j];X.skip||h(X,E,j)}}}function uw(d){const a=d.indexOf("x")!==-1,l=d.indexOf("y")!==-1;return function(h,p){const v=a?Math.abs(h.x-p.x):0,C=l?Math.abs(h.y-p.y):0;return Math.sqrt(Math.pow(v,2)+Math.pow(C,2))}}function Lf(d,a,l,h,p){const v=[];return!p&&!d.isPointInArea(a)||Fh(d,l,a,function(k,T,E){!p&&!Aa(k,d.chartArea,0)||k.inRange(a.x,a.y,h)&&v.push({element:k,datasetIndex:T,index:E})},!0),v}function cw(d,a,l,h){let p=[];function v(C,k,T){const{startAngle:E,endAngle:A}=C.getProps(["startAngle","endAngle"],h),{angle:O}=g0(C,{x:a.x,y:a.y});Nu(O,E,A)&&p.push({element:C,datasetIndex:k,index:T})}return Fh(d,l,a,v),p}function dw(d,a,l,h,p,v){let C=[];const k=uw(l);let T=Number.POSITIVE_INFINITY;function E(A,O,R){const j=A.inRange(a.x,a.y,p);if(h&&!j)return;const X=A.getCenterPoint(p);if(!(!!v||d.isPointInArea(X))&&!j)return;const ie=k(a,X);ie<T?(C=[{element:A,datasetIndex:O,index:R}],T=ie):ie===T&&C.push({element:A,datasetIndex:O,index:R})}return Fh(d,l,a,E),C}function Of(d,a,l,h,p,v){return!v&&!d.isPointInArea(a)?[]:l==="r"&&!h?cw(d,a,l,p):dw(d,a,l,h,p,v)}function Og(d,a,l,h,p){const v=[],C=l==="x"?"inXRange":"inYRange";let k=!1;return Fh(d,l,a,(T,E,A)=>{T[C]&&T[C](a[l],p)&&(v.push({element:T,datasetIndex:E,index:A}),k=k||T.inRange(a.x,a.y,p))}),h&&!k?[]:v}var hw={modes:{index(d,a,l,h){const p=sr(a,d),v=l.axis||"x",C=l.includeInvisible||!1,k=l.intersect?Lf(d,p,v,h,C):Of(d,p,v,!1,h,C),T=[];return k.length?(d.getSortedVisibleDatasetMetas().forEach(E=>{const A=k[0].index,O=E.data[A];O&&!O.skip&&T.push({element:O,datasetIndex:E.index,index:A})}),T):[]},dataset(d,a,l,h){const p=sr(a,d),v=l.axis||"xy",C=l.includeInvisible||!1;let k=l.intersect?Lf(d,p,v,h,C):Of(d,p,v,!1,h,C);if(k.length>0){const T=k[0].datasetIndex,E=d.getDatasetMeta(T).data;k=[];for(let A=0;A<E.length;++A)k.push({element:E[A],datasetIndex:T,index:A})}return k},point(d,a,l,h){const p=sr(a,d),v=l.axis||"xy",C=l.includeInvisible||!1;return Lf(d,p,v,h,C)},nearest(d,a,l,h){const p=sr(a,d),v=l.axis||"xy",C=l.includeInvisible||!1;return Of(d,p,v,l.intersect,h,C)},x(d,a,l,h){const p=sr(a,d);return Og(d,p,"x",l.intersect,h)},y(d,a,l,h){const p=sr(a,d);return Og(d,p,"y",l.intersect,h)}}};const V0=["left","top","right","bottom"];function gu(d,a){return d.filter(l=>l.pos===a)}function Pg(d,a){return d.filter(l=>V0.indexOf(l.pos)===-1&&l.box.axis===a)}function mu(d,a){return d.sort((l,h)=>{const p=a?h:l,v=a?l:h;return p.weight===v.weight?p.index-v.index:p.weight-v.weight})}function fw(d){const a=[];let l,h,p,v,C,k;for(l=0,h=(d||[]).length;l<h;++l)p=d[l],{position:v,options:{stack:C,stackWeight:k=1}}=p,a.push({index:l,box:p,pos:v,horizontal:p.isHorizontal(),weight:p.weight,stack:C&&v+C,stackWeight:k});return a}function pw(d){const a={};for(const l of d){const{stack:h,pos:p,stackWeight:v}=l;if(!h||!V0.includes(p))continue;const C=a[h]||(a[h]={count:0,placed:0,weight:0,size:0});C.count++,C.weight+=v}return a}function gw(d,a){const l=pw(d),{vBoxMaxWidth:h,hBoxMaxHeight:p}=a;let v,C,k;for(v=0,C=d.length;v<C;++v){k=d[v];const{fullSize:T}=k.box,E=l[k.stack],A=E&&k.stackWeight/E.weight;k.horizontal?(k.width=A?A*h:T&&a.availableWidth,k.height=p):(k.width=h,k.height=A?A*p:T&&a.availableHeight)}return l}function mw(d){const a=fw(d),l=mu(a.filter(E=>E.box.fullSize),!0),h=mu(gu(a,"left"),!0),p=mu(gu(a,"right")),v=mu(gu(a,"top"),!0),C=mu(gu(a,"bottom")),k=Pg(a,"x"),T=Pg(a,"y");return{fullSize:l,leftAndTop:h.concat(v),rightAndBottom:p.concat(T).concat(C).concat(k),chartArea:gu(a,"chartArea"),vertical:h.concat(p).concat(T),horizontal:v.concat(C).concat(k)}}function Bg(d,a,l,h){return Math.max(d[l],a[l])+Math.max(d[h],a[h])}function W0(d,a){d.top=Math.max(d.top,a.top),d.left=Math.max(d.left,a.left),d.bottom=Math.max(d.bottom,a.bottom),d.right=Math.max(d.right,a.right)}function vw(d,a,l,h){const{pos:p,box:v}=l,C=d.maxPadding;if(!Ft(p)){l.size&&(d[p]-=l.size);const O=h[l.stack]||{size:0,count:1};O.size=Math.max(O.size,l.horizontal?v.height:v.width),l.size=O.size/O.count,d[p]+=l.size}v.getPadding&&W0(C,v.getPadding());const k=Math.max(0,a.outerWidth-Bg(C,d,"left","right")),T=Math.max(0,a.outerHeight-Bg(C,d,"top","bottom")),E=k!==d.w,A=T!==d.h;return d.w=k,d.h=T,l.horizontal?{same:E,other:A}:{same:A,other:E}}function bw(d){const a=d.maxPadding;function l(h){const p=Math.max(a[h]-d[h],0);return d[h]+=p,p}d.y+=l("top"),d.x+=l("left"),l("right"),l("bottom")}function yw(d,a){const l=a.maxPadding;function h(p){const v={left:0,top:0,right:0,bottom:0};return p.forEach(C=>{v[C]=Math.max(a[C],l[C])}),v}return h(d?["left","right"]:["top","bottom"])}function Su(d,a,l,h){const p=[];let v,C,k,T,E,A;for(v=0,C=d.length,E=0;v<C;++v){k=d[v],T=k.box,T.update(k.width||a.w,k.height||a.h,yw(k.horizontal,a));const{same:O,other:R}=vw(a,l,k,h);E|=O&&p.length,A=A||R,T.fullSize||p.push(k)}return E&&Su(p,a,l,h)||A}function Qd(d,a,l,h,p){d.top=l,d.left=a,d.right=a+h,d.bottom=l+p,d.width=h,d.height=p}function Rg(d,a,l,h){const p=l.padding;let{x:v,y:C}=a;for(const k of d){const T=k.box,E=h[k.stack]||{placed:0,weight:1},A=k.stackWeight/E.weight||1;if(k.horizontal){const O=a.w*A,R=E.size||T.height;Ru(E.start)&&(C=E.start),T.fullSize?Qd(T,p.left,C,l.outerWidth-p.right-p.left,R):Qd(T,a.left+E.placed,C,O,R),E.start=C,E.placed+=O,C=T.bottom}else{const O=a.h*A,R=E.size||T.width;Ru(E.start)&&(v=E.start),T.fullSize?Qd(T,v,p.top,R,l.outerHeight-p.bottom-p.top):Qd(T,v,a.top+E.placed,R,O),E.start=v,E.placed+=O,v=T.right}}a.x=v,a.y=C}var Ci={addBox(d,a){d.boxes||(d.boxes=[]),a.fullSize=a.fullSize||!1,a.position=a.position||"top",a.weight=a.weight||0,a._layers=a._layers||function(){return[{z:0,draw(l){a.draw(l)}}]},d.boxes.push(a)},removeBox(d,a){const l=d.boxes?d.boxes.indexOf(a):-1;l!==-1&&d.boxes.splice(l,1)},configure(d,a,l){a.fullSize=l.fullSize,a.position=l.position,a.weight=l.weight},update(d,a,l,h){if(!d)return;const p=wi(d.options.layout.padding),v=Math.max(a-p.width,0),C=Math.max(l-p.height,0),k=mw(d.boxes),T=k.vertical,E=k.horizontal;Xt(d.boxes,ne=>{typeof ne.beforeLayout=="function"&&ne.beforeLayout()});const A=T.reduce((ne,ie)=>ie.box.options&&ie.box.options.display===!1?ne:ne+1,0)||1,O=Object.freeze({outerWidth:a,outerHeight:l,padding:p,availableWidth:v,availableHeight:C,vBoxMaxWidth:v/2/A,hBoxMaxHeight:C/2}),R=Object.assign({},p);W0(R,wi(h));const j=Object.assign({maxPadding:R,w:v,h:C,x:p.left,y:p.top},p),X=gw(T.concat(E),O);Su(k.fullSize,j,O,X),Su(T,j,O,X),Su(E,j,O,X)&&Su(T,j,O,X),bw(j),Rg(k.leftAndTop,j,O,X),j.x+=j.w,j.y+=j.h,Rg(k.rightAndBottom,j,O,X),d.chartArea={left:j.left,top:j.top,right:j.left+j.w,bottom:j.top+j.h,height:j.h,width:j.w},Xt(k.chartArea,ne=>{const ie=ne.box;Object.assign(ie,d.chartArea),ie.update(j.w,j.h,{left:0,top:0,right:0,bottom:0})})}};class j0{acquireContext(a,l){}releaseContext(a){return!1}addEventListener(a,l,h){}removeEventListener(a,l,h){}getDevicePixelRatio(){return 1}getMaximumSize(a,l,h,p){return l=Math.max(0,l||a.width),h=h||a.height,{width:l,height:Math.max(0,p?Math.floor(l/p):h)}}isAttached(a){return!0}updateConfig(a){}}class xw extends j0{acquireContext(a){return a&&a.getContext&&a.getContext("2d")||null}updateConfig(a){a.options.animation=!1}}const fh="$chartjs",Cw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ng=d=>d===null||d==="";function ww(d,a){const l=d.style,h=d.getAttribute("height"),p=d.getAttribute("width");if(d[fh]={initial:{height:h,width:p,style:{display:l.display,height:l.height,width:l.width}}},l.display=l.display||"block",l.boxSizing=l.boxSizing||"border-box",Ng(p)){const v=Cg(d,"width");v!==void 0&&(d.width=v)}if(Ng(h))if(d.style.height==="")d.height=d.width/(a||2);else{const v=Cg(d,"height");v!==void 0&&(d.height=v)}return d}const U0=kC?{passive:!0}:!1;function _w(d,a,l){d&&d.addEventListener(a,l,U0)}function kw(d,a,l){d&&d.canvas&&d.canvas.removeEventListener(a,l,U0)}function Sw(d,a){const l=Cw[d.type]||d.type,{x:h,y:p}=sr(d,a);return{type:l,chart:a,native:d,x:h!==void 0?h:null,y:p!==void 0?p:null}}function _h(d,a){for(const l of d)if(l===a||l.contains(a))return!0}function Tw(d,a,l){const h=d.canvas,p=new MutationObserver(v=>{let C=!1;for(const k of v)C=C||_h(k.addedNodes,h),C=C&&!_h(k.removedNodes,h);C&&l()});return p.observe(document,{childList:!0,subtree:!0}),p}function Dw(d,a,l){const h=d.canvas,p=new MutationObserver(v=>{let C=!1;for(const k of v)C=C||_h(k.removedNodes,h),C=C&&!_h(k.addedNodes,h);C&&l()});return p.observe(document,{childList:!0,subtree:!0}),p}const Hu=new Map;let zg=0;function $0(){const d=window.devicePixelRatio;d!==zg&&(zg=d,Hu.forEach((a,l)=>{l.currentDevicePixelRatio!==d&&a()}))}function Ew(d,a){Hu.size||window.addEventListener("resize",$0),Hu.set(d,a)}function Mw(d){Hu.delete(d),Hu.size||window.removeEventListener("resize",$0)}function Aw(d,a,l){const h=d.canvas,p=h&&_p(h);if(!p)return;const v=y0((k,T)=>{const E=p.clientWidth;l(k,T),E<p.clientWidth&&l()},window),C=new ResizeObserver(k=>{const T=k[0],E=T.contentRect.width,A=T.contentRect.height;E===0&&A===0||v(E,A)});return C.observe(p),Ew(d,v),C}function Pf(d,a,l){l&&l.disconnect(),a==="resize"&&Mw(d)}function Iw(d,a,l){const h=d.canvas,p=y0(v=>{d.ctx!==null&&l(Sw(v,d))},d);return _w(h,a,p),p}class Fw extends j0{acquireContext(a,l){const h=a&&a.getContext&&a.getContext("2d");return h&&h.canvas===a?(ww(a,l),h):null}releaseContext(a){const l=a.canvas;if(!l[fh])return!1;const h=l[fh].initial;["height","width"].forEach(v=>{const C=h[v];It(C)?l.removeAttribute(v):l.setAttribute(v,C)});const p=h.style||{};return Object.keys(p).forEach(v=>{l.style[v]=p[v]}),l.width=l.width,delete l[fh],!0}addEventListener(a,l,h){this.removeEventListener(a,l);const p=a.$proxies||(a.$proxies={}),C={attach:Tw,detach:Dw,resize:Aw}[l]||Iw;p[l]=C(a,l,h)}removeEventListener(a,l){const h=a.$proxies||(a.$proxies={}),p=h[l];if(!p)return;({attach:Pf,detach:Pf,resize:Pf}[l]||kw)(a,l,p),h[l]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(a,l,h,p){return _C(a,l,h,p)}isAttached(a){const l=a&&_p(a);return!!(l&&l.isConnected)}}function Lw(d){return!wp()||typeof OffscreenCanvas<"u"&&d instanceof OffscreenCanvas?xw:Fw}var rh;let Ia=(rh=class{constructor(){Fe(this,"x");Fe(this,"y");Fe(this,"active",!1);Fe(this,"options");Fe(this,"$animations")}tooltipPosition(a){const{x:l,y:h}=this.getProps(["x","y"],a);return{x:l,y:h}}hasValue(){return dl(this.x)&&dl(this.y)}getProps(a,l){const h=this.$animations;if(!l||!h)return this;const p={};return a.forEach(v=>{p[v]=h[v]&&h[v].active()?h[v]._to:this[v]}),p}},Fe(rh,"defaults",{}),Fe(rh,"defaultRoutes"),rh);function Ow(d,a){const l=d.options.ticks,h=Pw(d),p=Math.min(l.maxTicksLimit||h,h),v=l.major.enabled?Rw(a):[],C=v.length,k=v[0],T=v[C-1],E=[];if(C>p)return Nw(a,E,v,C/p),E;const A=Bw(v,a,p);if(C>0){let O,R;const j=C>1?Math.round((T-k)/(C-1)):null;for(eh(a,E,A,It(j)?0:k-j,k),O=0,R=C-1;O<R;O++)eh(a,E,A,v[O],v[O+1]);return eh(a,E,A,T,It(j)?a.length:T+j),E}return eh(a,E,A),E}function Pw(d){const a=d.options.offset,l=d._tickSize(),h=d._length/l+(a?0:1),p=d._maxLength/l;return Math.floor(Math.min(h,p))}function Bw(d,a,l){const h=zw(d),p=a.length/l;if(!h)return Math.max(p,1);const v=Tx(h);for(let C=0,k=v.length-1;C<k;C++){const T=v[C];if(T>p)return T}return Math.max(p,1)}function Rw(d){const a=[];let l,h;for(l=0,h=d.length;l<h;l++)d[l].major&&a.push(l);return a}function Nw(d,a,l,h){let p=0,v=l[0],C;for(h=Math.ceil(h),C=0;C<d.length;C++)C===v&&(a.push(d[C]),p++,v=l[p*h])}function eh(d,a,l,h,p){const v=At(h,0),C=Math.min(At(p,d.length),d.length);let k=0,T,E,A;for(l=Math.ceil(l),p&&(T=p-h,l=T/Math.floor(T/l)),A=v;A<0;)k++,A=Math.round(v+k*l);for(E=Math.max(v,0);E<C;E++)E===A&&(a.push(d[E]),k++,A=Math.round(v+k*l))}function zw(d){const a=d.length;let l,h;if(a<2)return!1;for(h=d[0],l=1;l<a;++l)if(d[l]-d[l-1]!==h)return!1;return h}const Hw=d=>d==="left"?"right":d==="right"?"left":d,Hg=(d,a,l)=>a==="top"||a==="left"?d[a]+l:d[a]-l,Vg=(d,a)=>Math.min(a||d,d);function Wg(d,a){const l=[],h=d.length/a,p=d.length;let v=0;for(;v<p;v+=h)l.push(d[Math.floor(v)]);return l}function Vw(d,a,l){const h=d.ticks.length,p=Math.min(a,h-1),v=d._startPixel,C=d._endPixel,k=1e-6;let T=d.getPixelForTick(p),E;if(!(l&&(h===1?E=Math.max(T-v,C-T):a===0?E=(d.getPixelForTick(1)-T)/2:E=(T-d.getPixelForTick(p-1))/2,T+=p<a?E:-E,T<v-k||T>C+k)))return T}function Ww(d,a){Xt(d,l=>{const h=l.gc,p=h.length/2;let v;if(p>a){for(v=0;v<p;++v)delete l.data[h[v]];h.splice(0,p)}})}function vu(d){return d.drawTicks?d.tickLength:0}function jg(d,a){if(!d.display)return 0;const l=ei(d.font,a),h=wi(d.padding);return(vn(d.text)?d.text.length:1)*l.lineHeight+h.height}function jw(d,a){return So(d,{scale:a,type:"scale"})}function Uw(d,a,l){return So(d,{tick:l,index:a,type:"tick"})}function $w(d,a,l){let h=mp(d);return(l&&a!=="right"||!l&&a==="right")&&(h=Hw(h)),h}function qw(d,a,l,h){const{top:p,left:v,bottom:C,right:k,chart:T}=d,{chartArea:E,scales:A}=T;let O=0,R,j,X;const ne=C-p,ie=k-v;if(d.isHorizontal()){if(j=xi(h,v,k),Ft(l)){const oe=Object.keys(l)[0],ee=l[oe];X=A[oe].getPixelForValue(ee)+ne-a}else l==="center"?X=(E.bottom+E.top)/2+ne-a:X=Hg(d,l,a);R=k-v}else{if(Ft(l)){const oe=Object.keys(l)[0],ee=l[oe];j=A[oe].getPixelForValue(ee)-ie+a}else l==="center"?j=(E.left+E.right)/2-ie+a:j=Hg(d,l,a);X=xi(h,C,p),O=l==="left"?-zn:zn}return{titleX:j,titleY:X,maxWidth:R,rotation:O}}class hr extends Ia{constructor(a){super(),this.id=a.id,this.type=a.type,this.options=void 0,this.ctx=a.ctx,this.chart=a.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(a){this.options=a.setContext(this.getContext()),this.axis=a.axis,this._userMin=this.parse(a.min),this._userMax=this.parse(a.max),this._suggestedMin=this.parse(a.suggestedMin),this._suggestedMax=this.parse(a.suggestedMax)}parse(a,l){return a}getUserBounds(){let{_userMin:a,_userMax:l,_suggestedMin:h,_suggestedMax:p}=this;return a=qi(a,Number.POSITIVE_INFINITY),l=qi(l,Number.NEGATIVE_INFINITY),h=qi(h,Number.POSITIVE_INFINITY),p=qi(p,Number.NEGATIVE_INFINITY),{min:qi(a,h),max:qi(l,p),minDefined:Mn(a),maxDefined:Mn(l)}}getMinMax(a){let{min:l,max:h,minDefined:p,maxDefined:v}=this.getUserBounds(),C;if(p&&v)return{min:l,max:h};const k=this.getMatchingVisibleMetas();for(let T=0,E=k.length;T<E;++T)C=k[T].controller.getMinMax(this,a),p||(l=Math.min(l,C.min)),v||(h=Math.max(h,C.max));return l=v&&l>h?h:l,h=p&&l>h?l:h,{min:qi(l,qi(h,l)),max:qi(h,qi(l,h))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]}getLabelItems(a=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(a))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){on(this.options.beforeUpdate,[this])}update(a,l,h){const{beginAtZero:p,grace:v,ticks:C}=this.options,k=C.sampleSize;this.beforeUpdate(),this.maxWidth=a,this.maxHeight=l,this._margins=h=Object.assign({left:0,right:0,top:0,bottom:0},h),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+h.left+h.right:this.height+h.top+h.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tC(this,v,p),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const T=k<this.ticks.length;this._convertTicksToLabels(T?Wg(this.ticks,k):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),C.display&&(C.autoSkip||C.source==="auto")&&(this.ticks=Ow(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),T&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let a=this.options.reverse,l,h;this.isHorizontal()?(l=this.left,h=this.right):(l=this.top,h=this.bottom,a=!a),this._startPixel=l,this._endPixel=h,this._reversePixels=a,this._length=h-l,this._alignToPixels=this.options.alignToPixels}afterUpdate(){on(this.options.afterUpdate,[this])}beforeSetDimensions(){on(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){on(this.options.afterSetDimensions,[this])}_callHooks(a){this.chart.notifyPlugins(a,this.getContext()),on(this.options[a],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){on(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(a){const l=this.options.ticks;let h,p,v;for(h=0,p=a.length;h<p;h++)v=a[h],v.label=on(l.callback,[v.value,h,a],this)}afterTickToLabelConversion(){on(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){on(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const a=this.options,l=a.ticks,h=Vg(this.ticks.length,a.ticks.maxTicksLimit),p=l.minRotation||0,v=l.maxRotation;let C=p,k,T,E;if(!this._isVisible()||!l.display||p>=v||h<=1||!this.isHorizontal()){this.labelRotation=p;return}const A=this._getLabelSizes(),O=A.widest.width,R=A.highest.height,j=ui(this.chart.width-O,0,this.maxWidth);k=a.offset?this.maxWidth/h:j/(h-1),O+6>k&&(k=j/(h-(a.offset?.5:1)),T=this.maxHeight-vu(a.grid)-l.padding-jg(a.title,this.chart.options.font),E=Math.sqrt(O*O+R*R),C=pp(Math.min(Math.asin(ui((A.highest.height+6)/k,-1,1)),Math.asin(ui(T/E,-1,1))-Math.asin(ui(R/E,-1,1)))),C=Math.max(p,Math.min(v,C))),this.labelRotation=C}afterCalculateLabelRotation(){on(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){on(this.options.beforeFit,[this])}fit(){const a={width:0,height:0},{chart:l,options:{ticks:h,title:p,grid:v}}=this,C=this._isVisible(),k=this.isHorizontal();if(C){const T=jg(p,l.options.font);if(k?(a.width=this.maxWidth,a.height=vu(v)+T):(a.height=this.maxHeight,a.width=vu(v)+T),h.display&&this.ticks.length){const{first:E,last:A,widest:O,highest:R}=this._getLabelSizes(),j=h.padding*2,X=Cs(this.labelRotation),ne=Math.cos(X),ie=Math.sin(X);if(k){const oe=h.mirror?0:ie*O.width+ne*R.height;a.height=Math.min(this.maxHeight,a.height+oe+j)}else{const oe=h.mirror?0:ne*O.width+ie*R.height;a.width=Math.min(this.maxWidth,a.width+oe+j)}this._calculatePadding(E,A,ie,ne)}}this._handleMargins(),k?(this.width=this._length=l.width-this._margins.left-this._margins.right,this.height=a.height):(this.width=a.width,this.height=this._length=l.height-this._margins.top-this._margins.bottom)}_calculatePadding(a,l,h,p){const{ticks:{align:v,padding:C},position:k}=this.options,T=this.labelRotation!==0,E=k!=="top"&&this.axis==="x";if(this.isHorizontal()){const A=this.getPixelForTick(0)-this.left,O=this.right-this.getPixelForTick(this.ticks.length-1);let R=0,j=0;T?E?(R=p*a.width,j=h*l.height):(R=h*a.height,j=p*l.width):v==="start"?j=l.width:v==="end"?R=a.width:v!=="inner"&&(R=a.width/2,j=l.width/2),this.paddingLeft=Math.max((R-A+C)*this.width/(this.width-A),0),this.paddingRight=Math.max((j-O+C)*this.width/(this.width-O),0)}else{let A=l.height/2,O=a.height/2;v==="start"?(A=0,O=a.height):v==="end"&&(A=l.height,O=0),this.paddingTop=A+C,this.paddingBottom=O+C}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){on(this.options.afterFit,[this])}isHorizontal(){const{axis:a,position:l}=this.options;return l==="top"||l==="bottom"||a==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(a){this.beforeTickToLabelConversion(),this.generateTickLabels(a);let l,h;for(l=0,h=a.length;l<h;l++)It(a[l].label)&&(a.splice(l,1),h--,l--);this.afterTickToLabelConversion()}_getLabelSizes(){let a=this._labelSizes;if(!a){const l=this.options.ticks.sampleSize;let h=this.ticks;l<h.length&&(h=Wg(h,l)),this._labelSizes=a=this._computeLabelSizes(h,h.length,this.options.ticks.maxTicksLimit)}return a}_computeLabelSizes(a,l,h){const{ctx:p,_longestTextCache:v}=this,C=[],k=[],T=Math.floor(l/Vg(l,h));let E=0,A=0,O,R,j,X,ne,ie,oe,ee,le,Z,ae;for(O=0;O<l;O+=T){if(X=a[O].label,ne=this._resolveTickFontOptions(O),p.font=ie=ne.string,oe=v[ie]=v[ie]||{data:{},gc:[]},ee=ne.lineHeight,le=Z=0,!It(X)&&!vn(X))le=Ch(p,oe.data,oe.gc,le,X),Z=ee;else if(vn(X))for(R=0,j=X.length;R<j;++R)ae=X[R],!It(ae)&&!vn(ae)&&(le=Ch(p,oe.data,oe.gc,le,ae),Z+=ee);C.push(le),k.push(Z),E=Math.max(le,E),A=Math.max(Z,A)}Ww(v,l);const ke=C.indexOf(E),be=k.indexOf(A),pe=Le=>({width:C[Le]||0,height:k[Le]||0});return{first:pe(0),last:pe(l-1),widest:pe(ke),highest:pe(be),widths:C,heights:k}}getLabelForValue(a){return a}getPixelForValue(a,l){return NaN}getValueForPixel(a){}getPixelForTick(a){const l=this.ticks;return a<0||a>l.length-1?null:this.getPixelForValue(l[a].value)}getPixelForDecimal(a){this._reversePixels&&(a=1-a);const l=this._startPixel+a*this._length;return Ax(this._alignToPixels?tr(this.chart,l,0):l)}getDecimalForPixel(a){const l=(a-this._startPixel)/this._length;return this._reversePixels?1-l:l}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:a,max:l}=this;return a<0&&l<0?l:a>0&&l>0?a:0}getContext(a){const l=this.ticks||[];if(a>=0&&a<l.length){const h=l[a];return h.$context||(h.$context=Uw(this.getContext(),a,h))}return this.$context||(this.$context=jw(this.chart.getContext(),this))}_tickSize(){const a=this.options.ticks,l=Cs(this.labelRotation),h=Math.abs(Math.cos(l)),p=Math.abs(Math.sin(l)),v=this._getLabelSizes(),C=a.autoSkipPadding||0,k=v?v.widest.width+C:0,T=v?v.highest.height+C:0;return this.isHorizontal()?T*h>k*p?k/h:T/p:T*p<k*h?T/h:k/p}_isVisible(){const a=this.options.display;return a!=="auto"?!!a:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(a){const l=this.axis,h=this.chart,p=this.options,{grid:v,position:C,border:k}=p,T=v.offset,E=this.isHorizontal(),O=this.ticks.length+(T?1:0),R=vu(v),j=[],X=k.setContext(this.getContext()),ne=X.display?X.width:0,ie=ne/2,oe=function(Ve){return tr(h,Ve,ne)};let ee,le,Z,ae,ke,be,pe,Le,Ke,Ee,Ae,je;if(C==="top")ee=oe(this.bottom),be=this.bottom-R,Le=ee-ie,Ee=oe(a.top)+ie,je=a.bottom;else if(C==="bottom")ee=oe(this.top),Ee=a.top,je=oe(a.bottom)-ie,be=ee+ie,Le=this.top+R;else if(C==="left")ee=oe(this.right),ke=this.right-R,pe=ee-ie,Ke=oe(a.left)+ie,Ae=a.right;else if(C==="right")ee=oe(this.left),Ke=a.left,Ae=oe(a.right)-ie,ke=ee+ie,pe=this.left+R;else if(l==="x"){if(C==="center")ee=oe((a.top+a.bottom)/2+.5);else if(Ft(C)){const Ve=Object.keys(C)[0],Re=C[Ve];ee=oe(this.chart.scales[Ve].getPixelForValue(Re))}Ee=a.top,je=a.bottom,be=ee+ie,Le=be+R}else if(l==="y"){if(C==="center")ee=oe((a.left+a.right)/2);else if(Ft(C)){const Ve=Object.keys(C)[0],Re=C[Ve];ee=oe(this.chart.scales[Ve].getPixelForValue(Re))}ke=ee-ie,pe=ke-R,Ke=a.left,Ae=a.right}const ct=At(p.ticks.maxTicksLimit,O),ce=Math.max(1,Math.ceil(O/ct));for(le=0;le<O;le+=ce){const Ve=this.getContext(le),Re=v.setContext(Ve),tt=k.setContext(Ve),mt=Re.lineWidth,Pt=Re.color,Kn=tt.dash||[],ue=tt.dashOffset,$=Re.tickWidth,Oe=Re.tickColor,wt=Re.tickBorderDash||[],ht=Re.tickBorderDashOffset;Z=Vw(this,le,T),Z!==void 0&&(ae=tr(h,Z,mt),E?ke=pe=Ke=Ae=ae:be=Le=Ee=je=ae,j.push({tx1:ke,ty1:be,tx2:pe,ty2:Le,x1:Ke,y1:Ee,x2:Ae,y2:je,width:mt,color:Pt,borderDash:Kn,borderDashOffset:ue,tickWidth:$,tickColor:Oe,tickBorderDash:wt,tickBorderDashOffset:ht}))}return this._ticksLength=O,this._borderValue=ee,j}_computeLabelItems(a){const l=this.axis,h=this.options,{position:p,ticks:v}=h,C=this.isHorizontal(),k=this.ticks,{align:T,crossAlign:E,padding:A,mirror:O}=v,R=vu(h.grid),j=R+A,X=O?-A:j,ne=-Cs(this.labelRotation),ie=[];let oe,ee,le,Z,ae,ke,be,pe,Le,Ke,Ee,Ae,je="middle";if(p==="top")ke=this.bottom-X,be=this._getXAxisLabelAlignment();else if(p==="bottom")ke=this.top+X,be=this._getXAxisLabelAlignment();else if(p==="left"){const ce=this._getYAxisLabelAlignment(R);be=ce.textAlign,ae=ce.x}else if(p==="right"){const ce=this._getYAxisLabelAlignment(R);be=ce.textAlign,ae=ce.x}else if(l==="x"){if(p==="center")ke=(a.top+a.bottom)/2+j;else if(Ft(p)){const ce=Object.keys(p)[0],Ve=p[ce];ke=this.chart.scales[ce].getPixelForValue(Ve)+j}be=this._getXAxisLabelAlignment()}else if(l==="y"){if(p==="center")ae=(a.left+a.right)/2-j;else if(Ft(p)){const ce=Object.keys(p)[0],Ve=p[ce];ae=this.chart.scales[ce].getPixelForValue(Ve)}be=this._getYAxisLabelAlignment(R).textAlign}l==="y"&&(T==="start"?je="top":T==="end"&&(je="bottom"));const ct=this._getLabelSizes();for(oe=0,ee=k.length;oe<ee;++oe){le=k[oe],Z=le.label;const ce=v.setContext(this.getContext(oe));pe=this.getPixelForTick(oe)+v.labelOffset,Le=this._resolveTickFontOptions(oe),Ke=Le.lineHeight,Ee=vn(Z)?Z.length:1;const Ve=Ee/2,Re=ce.color,tt=ce.textStrokeColor,mt=ce.textStrokeWidth;let Pt=be;C?(ae=pe,be==="inner"&&(oe===ee-1?Pt=this.options.reverse?"left":"right":oe===0?Pt=this.options.reverse?"right":"left":Pt="center"),p==="top"?E==="near"||ne!==0?Ae=-Ee*Ke+Ke/2:E==="center"?Ae=-ct.highest.height/2-Ve*Ke+Ke:Ae=-ct.highest.height+Ke/2:E==="near"||ne!==0?Ae=Ke/2:E==="center"?Ae=ct.highest.height/2-Ve*Ke:Ae=ct.highest.height-Ee*Ke,O&&(Ae*=-1),ne!==0&&!ce.showLabelBackdrop&&(ae+=Ke/2*Math.sin(ne))):(ke=pe,Ae=(1-Ee)*Ke/2);let Kn;if(ce.showLabelBackdrop){const ue=wi(ce.backdropPadding),$=ct.heights[oe],Oe=ct.widths[oe];let wt=Ae-ue.top,ht=0-ue.left;switch(je){case"middle":wt-=$/2;break;case"bottom":wt-=$;break}switch(be){case"center":ht-=Oe/2;break;case"right":ht-=Oe;break;case"inner":oe===ee-1?ht-=Oe:oe>0&&(ht-=Oe/2);break}Kn={left:ht,top:wt,width:Oe+ue.width,height:$+ue.height,color:ce.backdropColor}}ie.push({label:Z,font:Le,textOffset:Ae,options:{rotation:ne,color:Re,strokeColor:tt,strokeWidth:mt,textAlign:Pt,textBaseline:je,translation:[ae,ke],backdrop:Kn}})}return ie}_getXAxisLabelAlignment(){const{position:a,ticks:l}=this.options;if(-Cs(this.labelRotation))return a==="top"?"left":"right";let p="center";return l.align==="start"?p="left":l.align==="end"?p="right":l.align==="inner"&&(p="inner"),p}_getYAxisLabelAlignment(a){const{position:l,ticks:{crossAlign:h,mirror:p,padding:v}}=this.options,C=this._getLabelSizes(),k=a+v,T=C.widest.width;let E,A;return l==="left"?p?(A=this.right+v,h==="near"?E="left":h==="center"?(E="center",A+=T/2):(E="right",A+=T)):(A=this.right-k,h==="near"?E="right":h==="center"?(E="center",A-=T/2):(E="left",A=this.left)):l==="right"?p?(A=this.left+v,h==="near"?E="right":h==="center"?(E="center",A-=T/2):(E="left",A-=T)):(A=this.left+k,h==="near"?E="left":h==="center"?(E="center",A+=T/2):(E="right",A=this.right)):E="right",{textAlign:E,x:A}}_computeLabelArea(){if(this.options.ticks.mirror)return;const a=this.chart,l=this.options.position;if(l==="left"||l==="right")return{top:0,left:this.left,bottom:a.height,right:this.right};if(l==="top"||l==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:a.width}}drawBackground(){const{ctx:a,options:{backgroundColor:l},left:h,top:p,width:v,height:C}=this;l&&(a.save(),a.fillStyle=l,a.fillRect(h,p,v,C),a.restore())}getLineWidthForValue(a){const l=this.options.grid;if(!this._isVisible()||!l.display)return 0;const p=this.ticks.findIndex(v=>v.value===a);return p>=0?l.setContext(this.getContext(p)).lineWidth:0}drawGrid(a){const l=this.options.grid,h=this.ctx,p=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(a));let v,C;const k=(T,E,A)=>{!A.width||!A.color||(h.save(),h.lineWidth=A.width,h.strokeStyle=A.color,h.setLineDash(A.borderDash||[]),h.lineDashOffset=A.borderDashOffset,h.beginPath(),h.moveTo(T.x,T.y),h.lineTo(E.x,E.y),h.stroke(),h.restore())};if(l.display)for(v=0,C=p.length;v<C;++v){const T=p[v];l.drawOnChartArea&&k({x:T.x1,y:T.y1},{x:T.x2,y:T.y2},T),l.drawTicks&&k({x:T.tx1,y:T.ty1},{x:T.tx2,y:T.ty2},{color:T.tickColor,width:T.tickWidth,borderDash:T.tickBorderDash,borderDashOffset:T.tickBorderDashOffset})}}drawBorder(){const{chart:a,ctx:l,options:{border:h,grid:p}}=this,v=h.setContext(this.getContext()),C=h.display?v.width:0;if(!C)return;const k=p.setContext(this.getContext(0)).lineWidth,T=this._borderValue;let E,A,O,R;this.isHorizontal()?(E=tr(a,this.left,C)-C/2,A=tr(a,this.right,k)+k/2,O=R=T):(O=tr(a,this.top,C)-C/2,R=tr(a,this.bottom,k)+k/2,E=A=T),l.save(),l.lineWidth=v.width,l.strokeStyle=v.color,l.beginPath(),l.moveTo(E,O),l.lineTo(A,R),l.stroke(),l.restore()}drawLabels(a){if(!this.options.ticks.display)return;const h=this.ctx,p=this._computeLabelArea();p&&Mh(h,p);const v=this.getLabelItems(a);for(const C of v){const k=C.options,T=C.font,E=C.label,A=C.textOffset;dr(h,E,0,A,T,k)}p&&Ah(h)}drawTitle(){const{ctx:a,options:{position:l,title:h,reverse:p}}=this;if(!h.display)return;const v=ei(h.font),C=wi(h.padding),k=h.align;let T=v.lineHeight/2;l==="bottom"||l==="center"||Ft(l)?(T+=C.bottom,vn(h.text)&&(T+=v.lineHeight*(h.text.length-1))):T+=C.top;const{titleX:E,titleY:A,maxWidth:O,rotation:R}=qw(this,T,l,k);dr(a,h.text,0,0,v,{color:h.color,maxWidth:O,rotation:R,textAlign:$w(k,l,p),textBaseline:"middle",translation:[E,A]})}draw(a){this._isVisible()&&(this.drawBackground(),this.drawGrid(a),this.drawBorder(),this.drawTitle(),this.drawLabels(a))}_layers(){const a=this.options,l=a.ticks&&a.ticks.z||0,h=At(a.grid&&a.grid.z,-1),p=At(a.border&&a.border.z,0);return!this._isVisible()||this.draw!==hr.prototype.draw?[{z:l,draw:v=>{this.draw(v)}}]:[{z:h,draw:v=>{this.drawBackground(),this.drawGrid(v),this.drawTitle()}},{z:p,draw:()=>{this.drawBorder()}},{z:l,draw:v=>{this.drawLabels(v)}}]}getMatchingVisibleMetas(a){const l=this.chart.getSortedVisibleDatasetMetas(),h=this.axis+"AxisID",p=[];let v,C;for(v=0,C=l.length;v<C;++v){const k=l[v];k[h]===this.id&&(!a||k.type===a)&&p.push(k)}return p}_resolveTickFontOptions(a){const l=this.options.ticks.setContext(this.getContext(a));return ei(l.font)}_maxDigits(){const a=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/a}}class th{constructor(a,l,h){this.type=a,this.scope=l,this.override=h,this.items=Object.create(null)}isForType(a){return Object.prototype.isPrototypeOf.call(this.type.prototype,a.prototype)}register(a){const l=Object.getPrototypeOf(a);let h;Xw(l)&&(h=this.register(l));const p=this.items,v=a.id,C=this.scope+"."+v;if(!v)throw new Error("class does not have id: "+a);return v in p||(p[v]=a,Yw(a,C,h),this.override&&bn.override(a.id,a.overrides)),C}get(a){return this.items[a]}unregister(a){const l=this.items,h=a.id,p=this.scope;h in l&&delete l[h],p&&h in bn[p]&&(delete bn[p][h],this.override&&delete cr[h])}}function Yw(d,a,l){const h=Bu(Object.create(null),[l?bn.get(l):{},bn.get(a),d.defaults]);bn.set(a,h),d.defaultRoutes&&Gw(a,d.defaultRoutes),d.descriptors&&bn.describe(a,d.descriptors)}function Gw(d,a){Object.keys(a).forEach(l=>{const h=l.split("."),p=h.pop(),v=[d].concat(h).join("."),C=a[l].split("."),k=C.pop(),T=C.join(".");bn.route(v,p,T,k)})}function Xw(d){return"id"in d&&"defaults"in d}class Kw{constructor(){this.controllers=new th(ws,"datasets",!0),this.elements=new th(Ia,"elements"),this.plugins=new th(Object,"plugins"),this.scales=new th(hr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...a){this._each("register",a)}remove(...a){this._each("unregister",a)}addControllers(...a){this._each("register",a,this.controllers)}addElements(...a){this._each("register",a,this.elements)}addPlugins(...a){this._each("register",a,this.plugins)}addScales(...a){this._each("register",a,this.scales)}getController(a){return this._get(a,this.controllers,"controller")}getElement(a){return this._get(a,this.elements,"element")}getPlugin(a){return this._get(a,this.plugins,"plugin")}getScale(a){return this._get(a,this.scales,"scale")}removeControllers(...a){this._each("unregister",a,this.controllers)}removeElements(...a){this._each("unregister",a,this.elements)}removePlugins(...a){this._each("unregister",a,this.plugins)}removeScales(...a){this._each("unregister",a,this.scales)}_each(a,l,h){[...l].forEach(p=>{const v=h||this._getRegistryForType(p);h||v.isForType(p)||v===this.plugins&&p.id?this._exec(a,v,p):Xt(p,C=>{const k=h||this._getRegistryForType(C);this._exec(a,k,C)})})}_exec(a,l,h){const p=fp(a);on(h["before"+p],[],h),l[a](h),on(h["after"+p],[],h)}_getRegistryForType(a){for(let l=0;l<this._typedRegistries.length;l++){const h=this._typedRegistries[l];if(h.isForType(a))return h}return this.plugins}_get(a,l,h){const p=l.get(a);if(p===void 0)throw new Error('"'+a+'" is not a registered '+h+".");return p}}var Zs=new Kw;class Zw{constructor(){this._init=[]}notify(a,l,h,p){l==="beforeInit"&&(this._init=this._createDescriptors(a,!0),this._notify(this._init,a,"install"));const v=p?this._descriptors(a).filter(p):this._descriptors(a),C=this._notify(v,a,l,h);return l==="afterDestroy"&&(this._notify(v,a,"stop"),this._notify(this._init,a,"uninstall")),C}_notify(a,l,h,p){p=p||{};for(const v of a){const C=v.plugin,k=C[h],T=[l,p,v.options];if(on(k,T,C)===!1&&p.cancelable)return!1}return!0}invalidate(){It(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(a){if(this._cache)return this._cache;const l=this._cache=this._createDescriptors(a);return this._notifyStateChanges(a),l}_createDescriptors(a,l){const h=a&&a.config,p=At(h.options&&h.options.plugins,{}),v=Jw(h);return p===!1&&!l?[]:e_(a,v,p,l)}_notifyStateChanges(a){const l=this._oldCache||[],h=this._cache,p=(v,C)=>v.filter(k=>!C.some(T=>k.plugin.id===T.plugin.id));this._notify(p(l,h),a,"stop"),this._notify(p(h,l),a,"start")}}function Jw(d){const a={},l=[],h=Object.keys(Zs.plugins.items);for(let v=0;v<h.length;v++)l.push(Zs.getPlugin(h[v]));const p=d.plugins||[];for(let v=0;v<p.length;v++){const C=p[v];l.indexOf(C)===-1&&(l.push(C),a[C.id]=!0)}return{plugins:l,localIds:a}}function Qw(d,a){return!a&&d===!1?null:d===!0?{}:d}function e_(d,{plugins:a,localIds:l},h,p){const v=[],C=d.getContext();for(const k of a){const T=k.id,E=Qw(h[T],p);E!==null&&v.push({plugin:k,options:t_(d.config,{plugin:k,local:l[T]},E,C)})}return v}function t_(d,{plugin:a,local:l},h,p){const v=d.pluginScopeKeys(a),C=d.getOptionScopes(h,v);return l&&a.defaults&&C.push(a.defaults),d.createResolver(C,p,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Kf(d,a){const l=bn.datasets[d]||{};return((a.datasets||{})[d]||{}).indexAxis||a.indexAxis||l.indexAxis||"x"}function n_(d,a){let l=d;return d==="_index_"?l=a:d==="_value_"&&(l=a==="x"?"y":"x"),l}function i_(d,a){return d===a?"_index_":"_value_"}function Ug(d){if(d==="x"||d==="y"||d==="r")return d}function s_(d){if(d==="top"||d==="bottom")return"x";if(d==="left"||d==="right")return"y"}function Zf(d,...a){if(Ug(d))return d;for(const l of a){const h=l.axis||s_(l.position)||d.length>1&&Ug(d[0].toLowerCase());if(h)return h}throw new Error(`Cannot determine type of '${d}' axis. Please provide 'axis' or 'position' option.`)}function $g(d,a,l){if(l[a+"AxisID"]===d)return{axis:a}}function a_(d,a){if(a.data&&a.data.datasets){const l=a.data.datasets.filter(h=>h.xAxisID===d||h.yAxisID===d);if(l.length)return $g(d,"x",l[0])||$g(d,"y",l[0])}return{}}function o_(d,a){const l=cr[d.type]||{scales:{}},h=a.scales||{},p=Kf(d.type,a),v=Object.create(null);return Object.keys(h).forEach(C=>{const k=h[C];if(!Ft(k))return console.error(`Invalid scale configuration for scale: ${C}`);if(k._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${C}`);const T=Zf(C,k,a_(C,d),bn.scales[k.type]),E=i_(T,p),A=l.scales||{};v[C]=Mu(Object.create(null),[{axis:T},k,A[T],A[E]])}),d.data.datasets.forEach(C=>{const k=C.type||d.type,T=C.indexAxis||Kf(k,a),A=(cr[k]||{}).scales||{};Object.keys(A).forEach(O=>{const R=n_(O,T),j=C[R+"AxisID"]||R;v[j]=v[j]||Object.create(null),Mu(v[j],[{axis:R},h[j],A[O]])})}),Object.keys(v).forEach(C=>{const k=v[C];Mu(k,[bn.scales[k.type],bn.scale])}),v}function q0(d){const a=d.options||(d.options={});a.plugins=At(a.plugins,{}),a.scales=o_(d,a)}function Y0(d){return d=d||{},d.datasets=d.datasets||[],d.labels=d.labels||[],d}function r_(d){return d=d||{},d.data=Y0(d.data),q0(d),d}const qg=new Map,G0=new Set;function nh(d,a){let l=qg.get(d);return l||(l=a(),qg.set(d,l),G0.add(l)),l}const bu=(d,a,l)=>{const h=_o(a,l);h!==void 0&&d.add(h)};class l_{constructor(a){this._config=r_(a),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(a){this._config.type=a}get data(){return this._config.data}set data(a){this._config.data=Y0(a)}get options(){return this._config.options}set options(a){this._config.options=a}get plugins(){return this._config.plugins}update(){const a=this._config;this.clearCache(),q0(a)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(a){return nh(a,()=>[[`datasets.${a}`,""]])}datasetAnimationScopeKeys(a,l){return nh(`${a}.transition.${l}`,()=>[[`datasets.${a}.transitions.${l}`,`transitions.${l}`],[`datasets.${a}`,""]])}datasetElementScopeKeys(a,l){return nh(`${a}-${l}`,()=>[[`datasets.${a}.elements.${l}`,`datasets.${a}`,`elements.${l}`,""]])}pluginScopeKeys(a){const l=a.id,h=this.type;return nh(`${h}-plugin-${l}`,()=>[[`plugins.${l}`,...a.additionalOptionScopes||[]]])}_cachedScopes(a,l){const h=this._scopeCache;let p=h.get(a);return(!p||l)&&(p=new Map,h.set(a,p)),p}getOptionScopes(a,l,h){const{options:p,type:v}=this,C=this._cachedScopes(a,h),k=C.get(l);if(k)return k;const T=new Set;l.forEach(A=>{a&&(T.add(a),A.forEach(O=>bu(T,a,O))),A.forEach(O=>bu(T,p,O)),A.forEach(O=>bu(T,cr[v]||{},O)),A.forEach(O=>bu(T,bn,O)),A.forEach(O=>bu(T,Yf,O))});const E=Array.from(T);return E.length===0&&E.push(Object.create(null)),G0.has(l)&&C.set(l,E),E}chartOptionScopes(){const{options:a,type:l}=this;return[a,cr[l]||{},bn.datasets[l]||{},{type:l},bn,Yf]}resolveNamedOptions(a,l,h,p=[""]){const v={$shared:!0},{resolver:C,subPrefixes:k}=Yg(this._resolverCache,a,p);let T=C;if(c_(C,l)){v.$shared=!1,h=ko(h)?h():h;const E=this.createResolver(a,h,k);T=hl(C,h,E)}for(const E of l)v[E]=T[E];return v}createResolver(a,l,h=[""],p){const{resolver:v}=Yg(this._resolverCache,a,h);return Ft(l)?hl(v,l,void 0,p):v}}function Yg(d,a,l){let h=d.get(a);h||(h=new Map,d.set(a,h));const p=l.join();let v=h.get(p);return v||(v={resolver:yp(a,l),subPrefixes:l.filter(k=>!k.toLowerCase().includes("hover"))},h.set(p,v)),v}const u_=d=>Ft(d)&&Object.getOwnPropertyNames(d).some(a=>ko(d[a]));function c_(d,a){const{isScriptable:l,isIndexable:h}=S0(d);for(const p of a){const v=l(p),C=h(p),k=(C||v)&&d[p];if(v&&(ko(k)||u_(k))||C&&vn(k))return!0}return!1}var d_="4.4.9";const h_=["top","bottom","left","right","chartArea"];function Gg(d,a){return d==="top"||d==="bottom"||h_.indexOf(d)===-1&&a==="x"}function Xg(d,a){return function(l,h){return l[d]===h[d]?l[a]-h[a]:l[d]-h[d]}}function Kg(d){const a=d.chart,l=a.options.animation;a.notifyPlugins("afterRender"),on(l&&l.onComplete,[d],a)}function f_(d){const a=d.chart,l=a.options.animation;on(l&&l.onProgress,[d],a)}function X0(d){return wp()&&typeof d=="string"?d=document.getElementById(d):d&&d.length&&(d=d[0]),d&&d.canvas&&(d=d.canvas),d}const ph={},Zg=d=>{const a=X0(d);return Object.values(ph).filter(l=>l.canvas===a).pop()};function p_(d,a,l){const h=Object.keys(d);for(const p of h){const v=+p;if(v>=a){const C=d[p];delete d[p],(l>0||v>a)&&(d[v+l]=C)}}}function g_(d,a,l,h){return!l||d.type==="mouseout"?null:h?a:d}class Da{static register(...a){Zs.add(...a),Jg()}static unregister(...a){Zs.remove(...a),Jg()}constructor(a,l){const h=this.config=new l_(l),p=X0(a),v=Zg(p);if(v)throw new Error("Canvas is already in use. Chart with ID '"+v.id+"' must be destroyed before the canvas with ID '"+v.canvas.id+"' can be reused.");const C=h.createResolver(h.chartOptionScopes(),this.getContext());this.platform=new(h.platform||Lw(p)),this.platform.updateConfig(h);const k=this.platform.acquireContext(p,C.aspectRatio),T=k&&k.canvas,E=T&&T.height,A=T&&T.width;if(this.id=vx(),this.ctx=k,this.canvas=T,this.width=A,this.height=E,this._options=C,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Zw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ox(O=>this.update(O),C.resizeDelay||0),this._dataChanges=[],ph[this.id]=this,!k||!T){console.error("Failed to create chart: can't acquire context from the given item");return}ka.listen(this,"complete",Kg),ka.listen(this,"progress",f_),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:a,maintainAspectRatio:l},width:h,height:p,_aspectRatio:v}=this;return It(a)?l&&v?v:p?h/p:null:a}get data(){return this.config.data}set data(a){this.config.data=a}get options(){return this._options}set options(a){this.config.options=a}get registry(){return Zs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vg(this.canvas,this.ctx),this}stop(){return ka.stop(this),this}resize(a,l){ka.running(this)?this._resizeBeforeDraw={width:a,height:l}:this._resize(a,l)}_resize(a,l){const h=this.options,p=this.canvas,v=h.maintainAspectRatio&&this.aspectRatio,C=this.platform.getMaximumSize(p,a,l,v),k=h.devicePixelRatio||this.platform.getDevicePixelRatio(),T=this.width?"resize":"attach";this.width=C.width,this.height=C.height,this._aspectRatio=this.aspectRatio,xg(this,k,!0)&&(this.notifyPlugins("resize",{size:C}),on(h.onResize,[this,C],this),this.attached&&this._doResize(T)&&this.render())}ensureScalesHaveIDs(){const l=this.options.scales||{};Xt(l,(h,p)=>{h.id=p})}buildOrUpdateScales(){const a=this.options,l=a.scales,h=this.scales,p=Object.keys(h).reduce((C,k)=>(C[k]=!1,C),{});let v=[];l&&(v=v.concat(Object.keys(l).map(C=>{const k=l[C],T=Zf(C,k),E=T==="r",A=T==="x";return{options:k,dposition:E?"chartArea":A?"bottom":"left",dtype:E?"radialLinear":A?"category":"linear"}}))),Xt(v,C=>{const k=C.options,T=k.id,E=Zf(T,k),A=At(k.type,C.dtype);(k.position===void 0||Gg(k.position,E)!==Gg(C.dposition))&&(k.position=C.dposition),p[T]=!0;let O=null;if(T in h&&h[T].type===A)O=h[T];else{const R=Zs.getScale(A);O=new R({id:T,type:A,ctx:this.ctx,chart:this}),h[O.id]=O}O.init(k,a)}),Xt(p,(C,k)=>{C||delete h[k]}),Xt(h,C=>{Ci.configure(this,C,C.options),Ci.addBox(this,C)})}_updateMetasets(){const a=this._metasets,l=this.data.datasets.length,h=a.length;if(a.sort((p,v)=>p.index-v.index),h>l){for(let p=l;p<h;++p)this._destroyDatasetMeta(p);a.splice(l,h-l)}this._sortedMetasets=a.slice(0).sort(Xg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:a,data:{datasets:l}}=this;a.length>l.length&&delete this._stacks,a.forEach((h,p)=>{l.filter(v=>v===h._dataset).length===0&&this._destroyDatasetMeta(p)})}buildOrUpdateControllers(){const a=[],l=this.data.datasets;let h,p;for(this._removeUnreferencedMetasets(),h=0,p=l.length;h<p;h++){const v=l[h];let C=this.getDatasetMeta(h);const k=v.type||this.config.type;if(C.type&&C.type!==k&&(this._destroyDatasetMeta(h),C=this.getDatasetMeta(h)),C.type=k,C.indexAxis=v.indexAxis||Kf(k,this.options),C.order=v.order||0,C.index=h,C.label=""+v.label,C.visible=this.isDatasetVisible(h),C.controller)C.controller.updateIndex(h),C.controller.linkScales();else{const T=Zs.getController(k),{datasetElementType:E,dataElementType:A}=bn.datasets[k];Object.assign(T,{dataElementType:Zs.getElement(A),datasetElementType:E&&Zs.getElement(E)}),C.controller=new T(this,h),a.push(C.controller)}}return this._updateMetasets(),a}_resetElements(){Xt(this.data.datasets,(a,l)=>{this.getDatasetMeta(l).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(a){const l=this.config;l.update();const h=this._options=l.createResolver(l.chartOptionScopes(),this.getContext()),p=this._animationsDisabled=!h.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:a,cancelable:!0})===!1)return;const v=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let C=0;for(let E=0,A=this.data.datasets.length;E<A;E++){const{controller:O}=this.getDatasetMeta(E),R=!p&&v.indexOf(O)===-1;O.buildOrUpdateElements(R),C=Math.max(+O.getMaxOverflow(),C)}C=this._minPadding=h.layout.autoPadding?C:0,this._updateLayout(C),p||Xt(v,E=>{E.reset()}),this._updateDatasets(a),this.notifyPlugins("afterUpdate",{mode:a}),this._layers.sort(Xg("z","_idx"));const{_active:k,_lastEvent:T}=this;T?this._eventHandler(T,!0):k.length&&this._updateHoverStyles(k,k,!0),this.render()}_updateScales(){Xt(this.scales,a=>{Ci.removeBox(this,a)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const a=this.options,l=new Set(Object.keys(this._listeners)),h=new Set(a.events);(!lg(l,h)||!!this._responsiveListeners!==a.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:a}=this,l=this._getUniformDataChanges()||[];for(const{method:h,start:p,count:v}of l){const C=h==="_removeElements"?-v:v;p_(a,p,C)}}_getUniformDataChanges(){const a=this._dataChanges;if(!a||!a.length)return;this._dataChanges=[];const l=this.data.datasets.length,h=v=>new Set(a.filter(C=>C[0]===v).map((C,k)=>k+","+C.splice(1).join(","))),p=h(0);for(let v=1;v<l;v++)if(!lg(p,h(v)))return;return Array.from(p).map(v=>v.split(",")).map(v=>({method:v[1],start:+v[2],count:+v[3]}))}_updateLayout(a){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ci.update(this,this.width,this.height,a);const l=this.chartArea,h=l.width<=0||l.height<=0;this._layers=[],Xt(this.boxes,p=>{h&&p.position==="chartArea"||(p.configure&&p.configure(),this._layers.push(...p._layers()))},this),this._layers.forEach((p,v)=>{p._idx=v}),this.notifyPlugins("afterLayout")}_updateDatasets(a){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:a,cancelable:!0})!==!1){for(let l=0,h=this.data.datasets.length;l<h;++l)this.getDatasetMeta(l).controller.configure();for(let l=0,h=this.data.datasets.length;l<h;++l)this._updateDataset(l,ko(a)?a({datasetIndex:l}):a);this.notifyPlugins("afterDatasetsUpdate",{mode:a})}}_updateDataset(a,l){const h=this.getDatasetMeta(a),p={meta:h,index:a,mode:l,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",p)!==!1&&(h.controller._update(l),p.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",p))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ka.has(this)?this.attached&&!ka.running(this)&&ka.start(this):(this.draw(),Kg({chart:this})))}draw(){let a;if(this._resizeBeforeDraw){const{width:h,height:p}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(h,p)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const l=this._layers;for(a=0;a<l.length&&l[a].z<=0;++a)l[a].draw(this.chartArea);for(this._drawDatasets();a<l.length;++a)l[a].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(a){const l=this._sortedMetasets,h=[];let p,v;for(p=0,v=l.length;p<v;++p){const C=l[p];(!a||C.visible)&&h.push(C)}return h}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const a=this.getSortedVisibleDatasetMetas();for(let l=a.length-1;l>=0;--l)this._drawDataset(a[l]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(a){const l=this.ctx,h={meta:a,index:a.index,cancelable:!0},p=B0(this,a);this.notifyPlugins("beforeDatasetDraw",h)!==!1&&(p&&Mh(l,p),a.controller.draw(),p&&Ah(l),h.cancelable=!1,this.notifyPlugins("afterDatasetDraw",h))}isPointInArea(a){return Aa(a,this.chartArea,this._minPadding)}getElementsAtEventForMode(a,l,h,p){const v=hw.modes[l];return typeof v=="function"?v(this,a,h,p):[]}getDatasetMeta(a){const l=this.data.datasets[a],h=this._metasets;let p=h.filter(v=>v&&v._dataset===l).pop();return p||(p={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:l&&l.order||0,index:a,_dataset:l,_parsed:[],_sorted:!1},h.push(p)),p}getContext(){return this.$context||(this.$context=So(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(a){const l=this.data.datasets[a];if(!l)return!1;const h=this.getDatasetMeta(a);return typeof h.hidden=="boolean"?!h.hidden:!l.hidden}setDatasetVisibility(a,l){const h=this.getDatasetMeta(a);h.hidden=!l}toggleDataVisibility(a){this._hiddenIndices[a]=!this._hiddenIndices[a]}getDataVisibility(a){return!this._hiddenIndices[a]}_updateVisibility(a,l,h){const p=h?"show":"hide",v=this.getDatasetMeta(a),C=v.controller._resolveAnimations(void 0,p);Ru(l)?(v.data[l].hidden=!h,this.update()):(this.setDatasetVisibility(a,h),C.update(v,{visible:h}),this.update(k=>k.datasetIndex===a?p:void 0))}hide(a,l){this._updateVisibility(a,l,!1)}show(a,l){this._updateVisibility(a,l,!0)}_destroyDatasetMeta(a){const l=this._metasets[a];l&&l.controller&&l.controller._destroy(),delete this._metasets[a]}_stop(){let a,l;for(this.stop(),ka.remove(this),a=0,l=this.data.datasets.length;a<l;++a)this._destroyDatasetMeta(a)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:a,ctx:l}=this;this._stop(),this.config.clearCache(),a&&(this.unbindEvents(),vg(a,l),this.platform.releaseContext(l),this.canvas=null,this.ctx=null),delete ph[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...a){return this.canvas.toDataURL(...a)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const a=this._listeners,l=this.platform,h=(v,C)=>{l.addEventListener(this,v,C),a[v]=C},p=(v,C,k)=>{v.offsetX=C,v.offsetY=k,this._eventHandler(v)};Xt(this.options.events,v=>h(v,p))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const a=this._responsiveListeners,l=this.platform,h=(T,E)=>{l.addEventListener(this,T,E),a[T]=E},p=(T,E)=>{a[T]&&(l.removeEventListener(this,T,E),delete a[T])},v=(T,E)=>{this.canvas&&this.resize(T,E)};let C;const k=()=>{p("attach",k),this.attached=!0,this.resize(),h("resize",v),h("detach",C)};C=()=>{this.attached=!1,p("resize",v),this._stop(),this._resize(0,0),h("attach",k)},l.isAttached(this.canvas)?k():C()}unbindEvents(){Xt(this._listeners,(a,l)=>{this.platform.removeEventListener(this,l,a)}),this._listeners={},Xt(this._responsiveListeners,(a,l)=>{this.platform.removeEventListener(this,l,a)}),this._responsiveListeners=void 0}updateHoverStyle(a,l,h){const p=h?"set":"remove";let v,C,k,T;for(l==="dataset"&&(v=this.getDatasetMeta(a[0].datasetIndex),v.controller["_"+p+"DatasetHoverStyle"]()),k=0,T=a.length;k<T;++k){C=a[k];const E=C&&this.getDatasetMeta(C.datasetIndex).controller;E&&E[p+"HoverStyle"](C.element,C.datasetIndex,C.index)}}getActiveElements(){return this._active||[]}setActiveElements(a){const l=this._active||[],h=a.map(({datasetIndex:v,index:C})=>{const k=this.getDatasetMeta(v);if(!k)throw new Error("No dataset found at index "+v);return{datasetIndex:v,element:k.data[C],index:C}});!bh(h,l)&&(this._active=h,this._lastEvent=null,this._updateHoverStyles(h,l))}notifyPlugins(a,l,h){return this._plugins.notify(this,a,l,h)}isPluginEnabled(a){return this._plugins._cache.filter(l=>l.plugin.id===a).length===1}_updateHoverStyles(a,l,h){const p=this.options.hover,v=(T,E)=>T.filter(A=>!E.some(O=>A.datasetIndex===O.datasetIndex&&A.index===O.index)),C=v(l,a),k=h?a:v(a,l);C.length&&this.updateHoverStyle(C,p.mode,!1),k.length&&p.mode&&this.updateHoverStyle(k,p.mode,!0)}_eventHandler(a,l){const h={event:a,replay:l,cancelable:!0,inChartArea:this.isPointInArea(a)},p=C=>(C.options.events||this.options.events).includes(a.native.type);if(this.notifyPlugins("beforeEvent",h,p)===!1)return;const v=this._handleEvent(a,l,h.inChartArea);return h.cancelable=!1,this.notifyPlugins("afterEvent",h,p),(v||h.changed)&&this.render(),this}_handleEvent(a,l,h){const{_active:p=[],options:v}=this,C=l,k=this._getActiveElements(a,p,h,C),T=_x(a),E=g_(a,this._lastEvent,h,T);h&&(this._lastEvent=null,on(v.onHover,[a,k,this],this),T&&on(v.onClick,[a,k,this],this));const A=!bh(k,p);return(A||l)&&(this._active=k,this._updateHoverStyles(k,p,l)),this._lastEvent=E,A}_getActiveElements(a,l,h,p){if(a.type==="mouseout")return[];if(!h)return l;const v=this.options.hover;return this.getElementsAtEventForMode(a,v.mode,v,p)}}Fe(Da,"defaults",bn),Fe(Da,"instances",ph),Fe(Da,"overrides",cr),Fe(Da,"registry",Zs),Fe(Da,"version",d_),Fe(Da,"getChart",Zg);function Jg(){return Xt(Da.instances,d=>d._plugins.invalidate())}function m_(d,a,l){const{startAngle:h,pixelMargin:p,x:v,y:C,outerRadius:k,innerRadius:T}=a;let E=p/k;d.beginPath(),d.arc(v,C,k,h-E,l+E),T>p?(E=p/T,d.arc(v,C,T,l+E,h-E,!0)):d.arc(v,C,p,l+zn,h-zn),d.closePath(),d.clip()}function v_(d){return bp(d,["outerStart","outerEnd","innerStart","innerEnd"])}function b_(d,a,l,h){const p=v_(d.options.borderRadius),v=(l-a)/2,C=Math.min(v,h*a/2),k=T=>{const E=(l-Math.min(v,T))*h/2;return ui(T,0,Math.min(v,E))};return{outerStart:k(p.outerStart),outerEnd:k(p.outerEnd),innerStart:ui(p.innerStart,0,C),innerEnd:ui(p.innerEnd,0,C)}}function ll(d,a,l,h){return{x:l+d*Math.cos(a),y:h+d*Math.sin(a)}}function kh(d,a,l,h,p,v){const{x:C,y:k,startAngle:T,pixelMargin:E,innerRadius:A}=a,O=Math.max(a.outerRadius+h+l-E,0),R=A>0?A+h+l+E:0;let j=0;const X=p-T;if(h){const ce=A>0?A-h:0,Ve=O>0?O-h:0,Re=(ce+Ve)/2,tt=Re!==0?X*Re/(Re+h):X;j=(X-tt)/2}const ne=Math.max(.001,X*O-l/hn)/O,ie=(X-ne)/2,oe=T+ie+j,ee=p-ie-j,{outerStart:le,outerEnd:Z,innerStart:ae,innerEnd:ke}=b_(a,R,O,ee-oe),be=O-le,pe=O-Z,Le=oe+le/be,Ke=ee-Z/pe,Ee=R+ae,Ae=R+ke,je=oe+ae/Ee,ct=ee-ke/Ae;if(d.beginPath(),v){const ce=(Le+Ke)/2;if(d.arc(C,k,O,Le,ce),d.arc(C,k,O,ce,Ke),Z>0){const mt=ll(pe,Ke,C,k);d.arc(mt.x,mt.y,Z,Ke,ee+zn)}const Ve=ll(Ae,ee,C,k);if(d.lineTo(Ve.x,Ve.y),ke>0){const mt=ll(Ae,ct,C,k);d.arc(mt.x,mt.y,ke,ee+zn,ct+Math.PI)}const Re=(ee-ke/R+(oe+ae/R))/2;if(d.arc(C,k,R,ee-ke/R,Re,!0),d.arc(C,k,R,Re,oe+ae/R,!0),ae>0){const mt=ll(Ee,je,C,k);d.arc(mt.x,mt.y,ae,je+Math.PI,oe-zn)}const tt=ll(be,oe,C,k);if(d.lineTo(tt.x,tt.y),le>0){const mt=ll(be,Le,C,k);d.arc(mt.x,mt.y,le,oe-zn,Le)}}else{d.moveTo(C,k);const ce=Math.cos(Le)*O+C,Ve=Math.sin(Le)*O+k;d.lineTo(ce,Ve);const Re=Math.cos(Ke)*O+C,tt=Math.sin(Ke)*O+k;d.lineTo(Re,tt)}d.closePath()}function y_(d,a,l,h,p){const{fullCircles:v,startAngle:C,circumference:k}=a;let T=a.endAngle;if(v){kh(d,a,l,h,T,p);for(let E=0;E<v;++E)d.fill();isNaN(k)||(T=C+(k%dn||dn))}return kh(d,a,l,h,T,p),d.fill(),T}function x_(d,a,l,h,p){const{fullCircles:v,startAngle:C,circumference:k,options:T}=a,{borderWidth:E,borderJoinStyle:A,borderDash:O,borderDashOffset:R}=T,j=T.borderAlign==="inner";if(!E)return;d.setLineDash(O||[]),d.lineDashOffset=R,j?(d.lineWidth=E*2,d.lineJoin=A||"round"):(d.lineWidth=E,d.lineJoin=A||"bevel");let X=a.endAngle;if(v){kh(d,a,l,h,X,p);for(let ne=0;ne<v;++ne)d.stroke();isNaN(k)||(X=C+(k%dn||dn))}j&&m_(d,a,X),v||(kh(d,a,l,h,X,p),d.stroke())}class Tu extends Ia{constructor(l){super();Fe(this,"circumference");Fe(this,"endAngle");Fe(this,"fullCircles");Fe(this,"innerRadius");Fe(this,"outerRadius");Fe(this,"pixelMargin");Fe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,l&&Object.assign(this,l)}inRange(l,h,p){const v=this.getProps(["x","y"],p),{angle:C,distance:k}=g0(v,{x:l,y:h}),{startAngle:T,endAngle:E,innerRadius:A,outerRadius:O,circumference:R}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],p),j=(this.options.spacing+this.options.borderWidth)/2,X=At(R,E-T),ne=Nu(C,T,E)&&T!==E,ie=X>=dn||ne,oe=Ea(k,A+j,O+j);return ie&&oe}getCenterPoint(l){const{x:h,y:p,startAngle:v,endAngle:C,innerRadius:k,outerRadius:T}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],l),{offset:E,spacing:A}=this.options,O=(v+C)/2,R=(k+T+A+E)/2;return{x:h+Math.cos(O)*R,y:p+Math.sin(O)*R}}tooltipPosition(l){return this.getCenterPoint(l)}draw(l){const{options:h,circumference:p}=this,v=(h.offset||0)/4,C=(h.spacing||0)/2,k=h.circular;if(this.pixelMargin=h.borderAlign==="inner"?.33:0,this.fullCircles=p>dn?Math.floor(p/dn):0,p===0||this.innerRadius<0||this.outerRadius<0)return;l.save();const T=(this.startAngle+this.endAngle)/2;l.translate(Math.cos(T)*v,Math.sin(T)*v);const E=1-Math.sin(Math.min(hn,p||0)),A=v*E;l.fillStyle=h.backgroundColor,l.strokeStyle=h.borderColor,y_(l,this,A,C,k),x_(l,this,A,C,k),l.restore()}}Fe(Tu,"id","arc"),Fe(Tu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Fe(Tu,"defaultRoutes",{backgroundColor:"backgroundColor"}),Fe(Tu,"descriptors",{_scriptable:!0,_indexable:l=>l!=="borderDash"});function K0(d,a,l=a){d.lineCap=At(l.borderCapStyle,a.borderCapStyle),d.setLineDash(At(l.borderDash,a.borderDash)),d.lineDashOffset=At(l.borderDashOffset,a.borderDashOffset),d.lineJoin=At(l.borderJoinStyle,a.borderJoinStyle),d.lineWidth=At(l.borderWidth,a.borderWidth),d.strokeStyle=At(l.borderColor,a.borderColor)}function C_(d,a,l){d.lineTo(l.x,l.y)}function w_(d){return d.stepped?qx:d.tension||d.cubicInterpolationMode==="monotone"?Yx:C_}function Z0(d,a,l={}){const h=d.length,{start:p=0,end:v=h-1}=l,{start:C,end:k}=a,T=Math.max(p,C),E=Math.min(v,k),A=p<C&&v<C||p>k&&v>k;return{count:h,start:T,loop:a.loop,ilen:E<T&&!A?h+E-T:E-T}}function __(d,a,l,h){const{points:p,options:v}=a,{count:C,start:k,loop:T,ilen:E}=Z0(p,l,h),A=w_(v);let{move:O=!0,reverse:R}=h||{},j,X,ne;for(j=0;j<=E;++j)X=p[(k+(R?E-j:j))%C],!X.skip&&(O?(d.moveTo(X.x,X.y),O=!1):A(d,ne,X,R,v.stepped),ne=X);return T&&(X=p[(k+(R?E:0))%C],A(d,ne,X,R,v.stepped)),!!T}function k_(d,a,l,h){const p=a.points,{count:v,start:C,ilen:k}=Z0(p,l,h),{move:T=!0,reverse:E}=h||{};let A=0,O=0,R,j,X,ne,ie,oe;const ee=Z=>(C+(E?k-Z:Z))%v,le=()=>{ne!==ie&&(d.lineTo(A,ie),d.lineTo(A,ne),d.lineTo(A,oe))};for(T&&(j=p[ee(0)],d.moveTo(j.x,j.y)),R=0;R<=k;++R){if(j=p[ee(R)],j.skip)continue;const Z=j.x,ae=j.y,ke=Z|0;ke===X?(ae<ne?ne=ae:ae>ie&&(ie=ae),A=(O*A+Z)/++O):(le(),d.lineTo(Z,ae),X=ke,O=0,ne=ie=ae),oe=ae}le()}function Jf(d){const a=d.options,l=a.borderDash&&a.borderDash.length;return!d._decimated&&!d._loop&&!a.tension&&a.cubicInterpolationMode!=="monotone"&&!a.stepped&&!l?k_:__}function S_(d){return d.stepped?SC:d.tension||d.cubicInterpolationMode==="monotone"?TC:ar}function T_(d,a,l,h){let p=a._path;p||(p=a._path=new Path2D,a.path(p,l,h)&&p.closePath()),K0(d,a.options),d.stroke(p)}function D_(d,a,l,h){const{segments:p,options:v}=a,C=Jf(a);for(const k of p)K0(d,v,k.style),d.beginPath(),C(d,a,k,{start:l,end:l+h-1})&&d.closePath(),d.stroke()}const E_=typeof Path2D=="function";function M_(d,a,l,h){E_&&!a.options.segment?T_(d,a,l,h):D_(d,a,l,h)}class xo extends Ia{constructor(a){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,a&&Object.assign(this,a)}updateControlPoints(a,l){const h=this.options;if((h.tension||h.cubicInterpolationMode==="monotone")&&!h.stepped&&!this._pointsUpdated){const p=h.spanGaps?this._loop:this._fullLoop;vC(this._points,h,a,p,l),this._pointsUpdated=!0}}set points(a){this._points=a,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=FC(this,this.options.segment))}first(){const a=this.segments,l=this.points;return a.length&&l[a[0].start]}last(){const a=this.segments,l=this.points,h=a.length;return h&&l[a[h-1].end]}interpolate(a,l){const h=this.options,p=a[l],v=this.points,C=P0(this,{property:l,start:p,end:p});if(!C.length)return;const k=[],T=S_(h);let E,A;for(E=0,A=C.length;E<A;++E){const{start:O,end:R}=C[E],j=v[O],X=v[R];if(j===X){k.push(j);continue}const ne=Math.abs((p-j[l])/(X[l]-j[l])),ie=T(j,X,ne,h.stepped);ie[l]=a[l],k.push(ie)}return k.length===1?k[0]:k}pathSegment(a,l,h){return Jf(this)(a,this,l,h)}path(a,l,h){const p=this.segments,v=Jf(this);let C=this._loop;l=l||0,h=h||this.points.length-l;for(const k of p)C&=v(a,this,k,{start:l,end:l+h-1});return!!C}draw(a,l,h,p){const v=this.options||{};(this.points||[]).length&&v.borderWidth&&(a.save(),M_(a,this,h,p),a.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Fe(xo,"id","line"),Fe(xo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Fe(xo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Fe(xo,"descriptors",{_scriptable:!0,_indexable:a=>a!=="borderDash"&&a!=="fill"});function Qg(d,a,l,h){const p=d.options,{[l]:v}=d.getProps([l],h);return Math.abs(a-v)<p.radius+p.hitRadius}class gh extends Ia{constructor(l){super();Fe(this,"parsed");Fe(this,"skip");Fe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,l&&Object.assign(this,l)}inRange(l,h,p){const v=this.options,{x:C,y:k}=this.getProps(["x","y"],p);return Math.pow(l-C,2)+Math.pow(h-k,2)<Math.pow(v.hitRadius+v.radius,2)}inXRange(l,h){return Qg(this,l,"x",h)}inYRange(l,h){return Qg(this,l,"y",h)}getCenterPoint(l){const{x:h,y:p}=this.getProps(["x","y"],l);return{x:h,y:p}}size(l){l=l||this.options||{};let h=l.radius||0;h=Math.max(h,h&&l.hoverRadius||0);const p=h&&l.borderWidth||0;return(h+p)*2}draw(l,h){const p=this.options;this.skip||p.radius<.1||!Aa(this,h,this.size(p)/2)||(l.strokeStyle=p.borderColor,l.lineWidth=p.borderWidth,l.fillStyle=p.backgroundColor,Gf(l,p,this.x,this.y))}getRange(){const l=this.options||{};return l.radius+l.hitRadius}}Fe(gh,"id","point"),Fe(gh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Fe(gh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function J0(d,a){const{x:l,y:h,base:p,width:v,height:C}=d.getProps(["x","y","base","width","height"],a);let k,T,E,A,O;return d.horizontal?(O=C/2,k=Math.min(l,p),T=Math.max(l,p),E=h-O,A=h+O):(O=v/2,k=l-O,T=l+O,E=Math.min(h,p),A=Math.max(h,p)),{left:k,top:E,right:T,bottom:A}}function Co(d,a,l,h){return d?0:ui(a,l,h)}function A_(d,a,l){const h=d.options.borderWidth,p=d.borderSkipped,v=k0(h);return{t:Co(p.top,v.top,0,l),r:Co(p.right,v.right,0,a),b:Co(p.bottom,v.bottom,0,l),l:Co(p.left,v.left,0,a)}}function I_(d,a,l){const{enableBorderRadius:h}=d.getProps(["enableBorderRadius"]),p=d.options.borderRadius,v=lr(p),C=Math.min(a,l),k=d.borderSkipped,T=h||Ft(p);return{topLeft:Co(!T||k.top||k.left,v.topLeft,0,C),topRight:Co(!T||k.top||k.right,v.topRight,0,C),bottomLeft:Co(!T||k.bottom||k.left,v.bottomLeft,0,C),bottomRight:Co(!T||k.bottom||k.right,v.bottomRight,0,C)}}function F_(d){const a=J0(d),l=a.right-a.left,h=a.bottom-a.top,p=A_(d,l/2,h/2),v=I_(d,l/2,h/2);return{outer:{x:a.left,y:a.top,w:l,h,radius:v},inner:{x:a.left+p.l,y:a.top+p.t,w:l-p.l-p.r,h:h-p.t-p.b,radius:{topLeft:Math.max(0,v.topLeft-Math.max(p.t,p.l)),topRight:Math.max(0,v.topRight-Math.max(p.t,p.r)),bottomLeft:Math.max(0,v.bottomLeft-Math.max(p.b,p.l)),bottomRight:Math.max(0,v.bottomRight-Math.max(p.b,p.r))}}}}function Bf(d,a,l,h){const p=a===null,v=l===null,k=d&&!(p&&v)&&J0(d,h);return k&&(p||Ea(a,k.left,k.right))&&(v||Ea(l,k.top,k.bottom))}function L_(d){return d.topLeft||d.topRight||d.bottomLeft||d.bottomRight}function O_(d,a){d.rect(a.x,a.y,a.w,a.h)}function Rf(d,a,l={}){const h=d.x!==l.x?-a:0,p=d.y!==l.y?-a:0,v=(d.x+d.w!==l.x+l.w?a:0)-h,C=(d.y+d.h!==l.y+l.h?a:0)-p;return{x:d.x+h,y:d.y+p,w:d.w+v,h:d.h+C,radius:d.radius}}class mh extends Ia{constructor(a){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,a&&Object.assign(this,a)}draw(a){const{inflateAmount:l,options:{borderColor:h,backgroundColor:p}}=this,{inner:v,outer:C}=F_(this),k=L_(C.radius)?zu:O_;a.save(),(C.w!==v.w||C.h!==v.h)&&(a.beginPath(),k(a,Rf(C,l,v)),a.clip(),k(a,Rf(v,-l,C)),a.fillStyle=h,a.fill("evenodd")),a.beginPath(),k(a,Rf(v,l)),a.fillStyle=p,a.fill(),a.restore()}inRange(a,l,h){return Bf(this,a,l,h)}inXRange(a,l){return Bf(this,a,null,l)}inYRange(a,l){return Bf(this,null,a,l)}getCenterPoint(a){const{x:l,y:h,base:p,horizontal:v}=this.getProps(["x","y","base","horizontal"],a);return{x:v?(l+p)/2:l,y:v?h:(h+p)/2}}getRange(a){return a==="x"?this.width/2:this.height/2}}Fe(mh,"id","bar"),Fe(mh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Fe(mh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var P_=Object.freeze({__proto__:null,ArcElement:Tu,BarElement:mh,LineElement:xo,PointElement:gh});const Qf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],em=Qf.map(d=>d.replace("rgb(","rgba(").replace(")",", 0.5)"));function Q0(d){return Qf[d%Qf.length]}function ev(d){return em[d%em.length]}function B_(d,a){return d.borderColor=Q0(a),d.backgroundColor=ev(a),++a}function R_(d,a){return d.backgroundColor=d.data.map(()=>Q0(a++)),a}function N_(d,a){return d.backgroundColor=d.data.map(()=>ev(a++)),a}function z_(d){let a=0;return(l,h)=>{const p=d.getDatasetMeta(h).controller;p instanceof rr?a=R_(l,a):p instanceof Lu?a=N_(l,a):p&&(a=B_(l,a))}}function tm(d){let a;for(a in d)if(d[a].borderColor||d[a].backgroundColor)return!0;return!1}function H_(d){return d&&(d.borderColor||d.backgroundColor)}function V_(){return bn.borderColor!=="rgba(0,0,0,0.1)"||bn.backgroundColor!=="rgba(0,0,0,0.1)"}var W_={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(d,a,l){if(!l.enabled)return;const{data:{datasets:h},options:p}=d.config,{elements:v}=p,C=tm(h)||H_(p)||v&&tm(v)||V_();if(!l.forceOverride&&C)return;const k=z_(d);h.forEach(k)}};function j_(d,a,l,h,p){const v=p.samples||h;if(v>=l)return d.slice(a,a+l);const C=[],k=(l-2)/(v-2);let T=0;const E=a+l-1;let A=a,O,R,j,X,ne;for(C[T++]=d[A],O=0;O<v-2;O++){let ie=0,oe=0,ee;const le=Math.floor((O+1)*k)+1+a,Z=Math.min(Math.floor((O+2)*k)+1,l)+a,ae=Z-le;for(ee=le;ee<Z;ee++)ie+=d[ee].x,oe+=d[ee].y;ie/=ae,oe/=ae;const ke=Math.floor(O*k)+1+a,be=Math.min(Math.floor((O+1)*k)+1,l)+a,{x:pe,y:Le}=d[A];for(j=X=-1,ee=ke;ee<be;ee++)X=.5*Math.abs((pe-ie)*(d[ee].y-Le)-(pe-d[ee].x)*(oe-Le)),X>j&&(j=X,R=d[ee],ne=ee);C[T++]=R,A=ne}return C[T++]=d[E],C}function U_(d,a,l,h){let p=0,v=0,C,k,T,E,A,O,R,j,X,ne;const ie=[],oe=a+l-1,ee=d[a].x,Z=d[oe].x-ee;for(C=a;C<a+l;++C){k=d[C],T=(k.x-ee)/Z*h,E=k.y;const ae=T|0;if(ae===A)E<X?(X=E,O=C):E>ne&&(ne=E,R=C),p=(v*p+k.x)/++v;else{const ke=C-1;if(!It(O)&&!It(R)){const be=Math.min(O,R),pe=Math.max(O,R);be!==j&&be!==ke&&ie.push({...d[be],x:p}),pe!==j&&pe!==ke&&ie.push({...d[pe],x:p})}C>0&&ke!==j&&ie.push(d[ke]),ie.push(k),A=ae,v=0,X=ne=E,O=R=j=C}}return ie}function tv(d){if(d._decimated){const a=d._data;delete d._decimated,delete d._data,Object.defineProperty(d,"data",{configurable:!0,enumerable:!0,writable:!0,value:a})}}function nm(d){d.data.datasets.forEach(a=>{tv(a)})}function $_(d,a){const l=a.length;let h=0,p;const{iScale:v}=d,{min:C,max:k,minDefined:T,maxDefined:E}=v.getUserBounds();return T&&(h=ui(Ma(a,v.axis,C).lo,0,l-1)),E?p=ui(Ma(a,v.axis,k).hi+1,h,l)-h:p=l-h,{start:h,count:p}}var q_={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(d,a,l)=>{if(!l.enabled){nm(d);return}const h=d.width;d.data.datasets.forEach((p,v)=>{const{_data:C,indexAxis:k}=p,T=d.getDatasetMeta(v),E=C||p.data;if(ku([k,d.options.indexAxis])==="y"||!T.controller.supportsDecimation)return;const A=d.scales[T.xAxisID];if(A.type!=="linear"&&A.type!=="time"||d.options.parsing)return;let{start:O,count:R}=$_(T,E);const j=l.threshold||4*h;if(R<=j){tv(p);return}It(C)&&(p._data=E,delete p.data,Object.defineProperty(p,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(ne){this._data=ne}}));let X;switch(l.algorithm){case"lttb":X=j_(E,O,R,h,l);break;case"min-max":X=U_(E,O,R,h);break;default:throw new Error(`Unsupported decimation algorithm '${l.algorithm}'`)}p._decimated=X})},destroy(d){nm(d)}};function Y_(d,a,l){const h=d.segments,p=d.points,v=a.points,C=[];for(const k of h){let{start:T,end:E}=k;E=Sp(T,E,p);const A=ep(l,p[T],p[E],k.loop);if(!a.segments){C.push({source:k,target:A,start:p[T],end:p[E]});continue}const O=P0(a,A);for(const R of O){const j=ep(l,v[R.start],v[R.end],R.loop),X=O0(k,p,j);for(const ne of X)C.push({source:ne,target:R,start:{[l]:im(A,j,"start",Math.max)},end:{[l]:im(A,j,"end",Math.min)}})}}return C}function ep(d,a,l,h){if(h)return;let p=a[d],v=l[d];return d==="angle"&&(p=Yi(p),v=Yi(v)),{property:d,start:p,end:v}}function G_(d,a){const{x:l=null,y:h=null}=d||{},p=a.points,v=[];return a.segments.forEach(({start:C,end:k})=>{k=Sp(C,k,p);const T=p[C],E=p[k];h!==null?(v.push({x:T.x,y:h}),v.push({x:E.x,y:h})):l!==null&&(v.push({x:l,y:T.y}),v.push({x:l,y:E.y}))}),v}function Sp(d,a,l){for(;a>d;a--){const h=l[a];if(!isNaN(h.x)&&!isNaN(h.y))break}return a}function im(d,a,l,h){return d&&a?h(d[l],a[l]):d?d[l]:a?a[l]:0}function nv(d,a){let l=[],h=!1;return vn(d)?(h=!0,l=d):l=G_(d,a),l.length?new xo({points:l,options:{tension:0},_loop:h,_fullLoop:h}):null}function sm(d){return d&&d.fill!==!1}function X_(d,a,l){let p=d[a].fill;const v=[a];let C;if(!l)return p;for(;p!==!1&&v.indexOf(p)===-1;){if(!Mn(p))return p;if(C=d[p],!C)return!1;if(C.visible)return p;v.push(p),p=C.fill}return!1}function K_(d,a,l){const h=ek(d);if(Ft(h))return isNaN(h.value)?!1:h;let p=parseFloat(h);return Mn(p)&&Math.floor(p)===p?Z_(h[0],a,p,l):["origin","start","end","stack","shape"].indexOf(h)>=0&&h}function Z_(d,a,l,h){return(d==="-"||d==="+")&&(l=a+l),l===a||l<0||l>=h?!1:l}function J_(d,a){let l=null;return d==="start"?l=a.bottom:d==="end"?l=a.top:Ft(d)?l=a.getPixelForValue(d.value):a.getBasePixel&&(l=a.getBasePixel()),l}function Q_(d,a,l){let h;return d==="start"?h=l:d==="end"?h=a.options.reverse?a.min:a.max:Ft(d)?h=d.value:h=a.getBaseValue(),h}function ek(d){const a=d.options,l=a.fill;let h=At(l&&l.target,l);return h===void 0&&(h=!!a.backgroundColor),h===!1||h===null?!1:h===!0?"origin":h}function tk(d){const{scale:a,index:l,line:h}=d,p=[],v=h.segments,C=h.points,k=nk(a,l);k.push(nv({x:null,y:a.bottom},h));for(let T=0;T<v.length;T++){const E=v[T];for(let A=E.start;A<=E.end;A++)ik(p,C[A],k)}return new xo({points:p,options:{}})}function nk(d,a){const l=[],h=d.getMatchingVisibleMetas("line");for(let p=0;p<h.length;p++){const v=h[p];if(v.index===a)break;v.hidden||l.unshift(v.dataset)}return l}function ik(d,a,l){const h=[];for(let p=0;p<l.length;p++){const v=l[p],{first:C,last:k,point:T}=sk(v,a,"x");if(!(!T||C&&k)){if(C)h.unshift(T);else if(d.push(T),!k)break}}d.push(...h)}function sk(d,a,l){const h=d.interpolate(a,l);if(!h)return{};const p=h[l],v=d.segments,C=d.points;let k=!1,T=!1;for(let E=0;E<v.length;E++){const A=v[E],O=C[A.start][l],R=C[A.end][l];if(Ea(p,O,R)){k=p===O,T=p===R;break}}return{first:k,last:T,point:h}}class iv{constructor(a){this.x=a.x,this.y=a.y,this.radius=a.radius}pathSegment(a,l,h){const{x:p,y:v,radius:C}=this;return l=l||{start:0,end:dn},a.arc(p,v,C,l.end,l.start,!0),!h.bounds}interpolate(a){const{x:l,y:h,radius:p}=this,v=a.angle;return{x:l+Math.cos(v)*p,y:h+Math.sin(v)*p,angle:v}}}function ak(d){const{chart:a,fill:l,line:h}=d;if(Mn(l))return ok(a,l);if(l==="stack")return tk(d);if(l==="shape")return!0;const p=rk(d);return p instanceof iv?p:nv(p,h)}function ok(d,a){const l=d.getDatasetMeta(a);return l&&d.isDatasetVisible(a)?l.dataset:null}function rk(d){return(d.scale||{}).getPointPositionForValue?uk(d):lk(d)}function lk(d){const{scale:a={},fill:l}=d,h=J_(l,a);if(Mn(h)){const p=a.isHorizontal();return{x:p?h:null,y:p?null:h}}return null}function uk(d){const{scale:a,fill:l}=d,h=a.options,p=a.getLabels().length,v=h.reverse?a.max:a.min,C=Q_(l,a,v),k=[];if(h.grid.circular){const T=a.getPointPositionForValue(0,v);return new iv({x:T.x,y:T.y,radius:a.getDistanceFromCenterForValue(C)})}for(let T=0;T<p;++T)k.push(a.getPointPositionForValue(T,C));return k}function Nf(d,a,l){const h=ak(a),{chart:p,index:v,line:C,scale:k,axis:T}=a,E=C.options,A=E.fill,O=E.backgroundColor,{above:R=O,below:j=O}=A||{},X=p.getDatasetMeta(v),ne=B0(p,X);h&&C.points.length&&(Mh(d,l),ck(d,{line:C,target:h,above:R,below:j,area:l,scale:k,axis:T,clip:ne}),Ah(d))}function ck(d,a){const{line:l,target:h,above:p,below:v,area:C,scale:k,clip:T}=a,E=l._loop?"angle":a.axis;d.save(),E==="x"&&v!==p&&(am(d,h,C.top),om(d,{line:l,target:h,color:p,scale:k,property:E,clip:T}),d.restore(),d.save(),am(d,h,C.bottom)),om(d,{line:l,target:h,color:v,scale:k,property:E,clip:T}),d.restore()}function am(d,a,l){const{segments:h,points:p}=a;let v=!0,C=!1;d.beginPath();for(const k of h){const{start:T,end:E}=k,A=p[T],O=p[Sp(T,E,p)];v?(d.moveTo(A.x,A.y),v=!1):(d.lineTo(A.x,l),d.lineTo(A.x,A.y)),C=!!a.pathSegment(d,k,{move:C}),C?d.closePath():d.lineTo(O.x,l)}d.lineTo(a.first().x,l),d.closePath(),d.clip()}function om(d,a){const{line:l,target:h,property:p,color:v,scale:C,clip:k}=a,T=Y_(l,h,p);for(const{source:E,target:A,start:O,end:R}of T){const{style:{backgroundColor:j=v}={}}=E,X=h!==!0;d.save(),d.fillStyle=j,dk(d,C,k,X&&ep(p,O,R)),d.beginPath();const ne=!!l.pathSegment(d,E);let ie;if(X){ne?d.closePath():rm(d,h,R,p);const oe=!!h.pathSegment(d,A,{move:ne,reverse:!0});ie=ne&&oe,ie||rm(d,h,O,p)}d.closePath(),d.fill(ie?"evenodd":"nonzero"),d.restore()}}function dk(d,a,l,h){const p=a.chart.chartArea,{property:v,start:C,end:k}=h||{};if(v==="x"||v==="y"){let T,E,A,O;v==="x"?(T=C,E=p.top,A=k,O=p.bottom):(T=p.left,E=C,A=p.right,O=k),d.beginPath(),l&&(T=Math.max(T,l.left),A=Math.min(A,l.right),E=Math.max(E,l.top),O=Math.min(O,l.bottom)),d.rect(T,E,A-T,O-E),d.clip()}}function rm(d,a,l,h){const p=a.interpolate(l,h);p&&d.lineTo(p.x,p.y)}var hk={id:"filler",afterDatasetsUpdate(d,a,l){const h=(d.data.datasets||[]).length,p=[];let v,C,k,T;for(C=0;C<h;++C)v=d.getDatasetMeta(C),k=v.dataset,T=null,k&&k.options&&k instanceof xo&&(T={visible:d.isDatasetVisible(C),index:C,fill:K_(k,C,h),chart:d,axis:v.controller.options.indexAxis,scale:v.vScale,line:k}),v.$filler=T,p.push(T);for(C=0;C<h;++C)T=p[C],!(!T||T.fill===!1)&&(T.fill=X_(p,C,l.propagate))},beforeDraw(d,a,l){const h=l.drawTime==="beforeDraw",p=d.getSortedVisibleDatasetMetas(),v=d.chartArea;for(let C=p.length-1;C>=0;--C){const k=p[C].$filler;k&&(k.line.updateControlPoints(v,k.axis),h&&k.fill&&Nf(d.ctx,k,v))}},beforeDatasetsDraw(d,a,l){if(l.drawTime!=="beforeDatasetsDraw")return;const h=d.getSortedVisibleDatasetMetas();for(let p=h.length-1;p>=0;--p){const v=h[p].$filler;sm(v)&&Nf(d.ctx,v,d.chartArea)}},beforeDatasetDraw(d,a,l){const h=a.meta.$filler;!sm(h)||l.drawTime!=="beforeDatasetDraw"||Nf(d.ctx,h,d.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const lm=(d,a)=>{let{boxHeight:l=a,boxWidth:h=a}=d;return d.usePointStyle&&(l=Math.min(l,a),h=d.pointStyleWidth||Math.min(h,a)),{boxWidth:h,boxHeight:l,itemHeight:Math.max(a,l)}},fk=(d,a)=>d!==null&&a!==null&&d.datasetIndex===a.datasetIndex&&d.index===a.index;class um extends Ia{constructor(a){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,l,h){this.maxWidth=a,this.maxHeight=l,this._margins=h,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const a=this.options.labels||{};let l=on(a.generateLabels,[this.chart],this)||[];a.filter&&(l=l.filter(h=>a.filter(h,this.chart.data))),a.sort&&(l=l.sort((h,p)=>a.sort(h,p,this.chart.data))),this.options.reverse&&l.reverse(),this.legendItems=l}fit(){const{options:a,ctx:l}=this;if(!a.display){this.width=this.height=0;return}const h=a.labels,p=ei(h.font),v=p.size,C=this._computeTitleHeight(),{boxWidth:k,itemHeight:T}=lm(h,v);let E,A;l.font=p.string,this.isHorizontal()?(E=this.maxWidth,A=this._fitRows(C,v,k,T)+10):(A=this.maxHeight,E=this._fitCols(C,p,k,T)+10),this.width=Math.min(E,a.maxWidth||this.maxWidth),this.height=Math.min(A,a.maxHeight||this.maxHeight)}_fitRows(a,l,h,p){const{ctx:v,maxWidth:C,options:{labels:{padding:k}}}=this,T=this.legendHitBoxes=[],E=this.lineWidths=[0],A=p+k;let O=a;v.textAlign="left",v.textBaseline="middle";let R=-1,j=-A;return this.legendItems.forEach((X,ne)=>{const ie=h+l/2+v.measureText(X.text).width;(ne===0||E[E.length-1]+ie+2*k>C)&&(O+=A,E[E.length-(ne>0?0:1)]=0,j+=A,R++),T[ne]={left:0,top:j,row:R,width:ie,height:p},E[E.length-1]+=ie+k}),O}_fitCols(a,l,h,p){const{ctx:v,maxHeight:C,options:{labels:{padding:k}}}=this,T=this.legendHitBoxes=[],E=this.columnSizes=[],A=C-a;let O=k,R=0,j=0,X=0,ne=0;return this.legendItems.forEach((ie,oe)=>{const{itemWidth:ee,itemHeight:le}=pk(h,l,v,ie,p);oe>0&&j+le+2*k>A&&(O+=R+k,E.push({width:R,height:j}),X+=R+k,ne++,R=j=0),T[oe]={left:X,top:j,col:ne,width:ee,height:le},R=Math.max(R,ee),j+=le+k}),O+=R,E.push({width:R,height:j}),O}adjustHitBoxes(){if(!this.options.display)return;const a=this._computeTitleHeight(),{legendHitBoxes:l,options:{align:h,labels:{padding:p},rtl:v}}=this,C=cl(v,this.left,this.width);if(this.isHorizontal()){let k=0,T=xi(h,this.left+p,this.right-this.lineWidths[k]);for(const E of l)k!==E.row&&(k=E.row,T=xi(h,this.left+p,this.right-this.lineWidths[k])),E.top+=this.top+a+p,E.left=C.leftForLtr(C.x(T),E.width),T+=E.width+p}else{let k=0,T=xi(h,this.top+a+p,this.bottom-this.columnSizes[k].height);for(const E of l)E.col!==k&&(k=E.col,T=xi(h,this.top+a+p,this.bottom-this.columnSizes[k].height)),E.top=T,E.left+=this.left+p,E.left=C.leftForLtr(C.x(E.left),E.width),T+=E.height+p}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const a=this.ctx;Mh(a,this),this._draw(),Ah(a)}}_draw(){const{options:a,columnSizes:l,lineWidths:h,ctx:p}=this,{align:v,labels:C}=a,k=bn.color,T=cl(a.rtl,this.left,this.width),E=ei(C.font),{padding:A}=C,O=E.size,R=O/2;let j;this.drawTitle(),p.textAlign=T.textAlign("left"),p.textBaseline="middle",p.lineWidth=.5,p.font=E.string;const{boxWidth:X,boxHeight:ne,itemHeight:ie}=lm(C,O),oe=function(ke,be,pe){if(isNaN(X)||X<=0||isNaN(ne)||ne<0)return;p.save();const Le=At(pe.lineWidth,1);if(p.fillStyle=At(pe.fillStyle,k),p.lineCap=At(pe.lineCap,"butt"),p.lineDashOffset=At(pe.lineDashOffset,0),p.lineJoin=At(pe.lineJoin,"miter"),p.lineWidth=Le,p.strokeStyle=At(pe.strokeStyle,k),p.setLineDash(At(pe.lineDash,[])),C.usePointStyle){const Ke={radius:ne*Math.SQRT2/2,pointStyle:pe.pointStyle,rotation:pe.rotation,borderWidth:Le},Ee=T.xPlus(ke,X/2),Ae=be+R;_0(p,Ke,Ee,Ae,C.pointStyleWidth&&X)}else{const Ke=be+Math.max((O-ne)/2,0),Ee=T.leftForLtr(ke,X),Ae=lr(pe.borderRadius);p.beginPath(),Object.values(Ae).some(je=>je!==0)?zu(p,{x:Ee,y:Ke,w:X,h:ne,radius:Ae}):p.rect(Ee,Ke,X,ne),p.fill(),Le!==0&&p.stroke()}p.restore()},ee=function(ke,be,pe){dr(p,pe.text,ke,be+ie/2,E,{strikethrough:pe.hidden,textAlign:T.textAlign(pe.textAlign)})},le=this.isHorizontal(),Z=this._computeTitleHeight();le?j={x:xi(v,this.left+A,this.right-h[0]),y:this.top+A+Z,line:0}:j={x:this.left+A,y:xi(v,this.top+Z+A,this.bottom-l[0].height),line:0},I0(this.ctx,a.textDirection);const ae=ie+A;this.legendItems.forEach((ke,be)=>{p.strokeStyle=ke.fontColor,p.fillStyle=ke.fontColor;const pe=p.measureText(ke.text).width,Le=T.textAlign(ke.textAlign||(ke.textAlign=C.textAlign)),Ke=X+R+pe;let Ee=j.x,Ae=j.y;T.setWidth(this.width),le?be>0&&Ee+Ke+A>this.right&&(Ae=j.y+=ae,j.line++,Ee=j.x=xi(v,this.left+A,this.right-h[j.line])):be>0&&Ae+ae>this.bottom&&(Ee=j.x=Ee+l[j.line].width+A,j.line++,Ae=j.y=xi(v,this.top+Z+A,this.bottom-l[j.line].height));const je=T.x(Ee);if(oe(je,Ae,ke),Ee=Px(Le,Ee+X+R,le?Ee+Ke:this.right,a.rtl),ee(T.x(Ee),Ae,ke),le)j.x+=Ke+A;else if(typeof ke.text!="string"){const ct=E.lineHeight;j.y+=sv(ke,ct)+A}else j.y+=ae}),F0(this.ctx,a.textDirection)}drawTitle(){const a=this.options,l=a.title,h=ei(l.font),p=wi(l.padding);if(!l.display)return;const v=cl(a.rtl,this.left,this.width),C=this.ctx,k=l.position,T=h.size/2,E=p.top+T;let A,O=this.left,R=this.width;if(this.isHorizontal())R=Math.max(...this.lineWidths),A=this.top+E,O=xi(a.align,O,this.right-R);else{const X=this.columnSizes.reduce((ne,ie)=>Math.max(ne,ie.height),0);A=E+xi(a.align,this.top,this.bottom-X-a.labels.padding-this._computeTitleHeight())}const j=xi(k,O,O+R);C.textAlign=v.textAlign(mp(k)),C.textBaseline="middle",C.strokeStyle=l.color,C.fillStyle=l.color,C.font=h.string,dr(C,l.text,j,A,h)}_computeTitleHeight(){const a=this.options.title,l=ei(a.font),h=wi(a.padding);return a.display?l.lineHeight+h.height:0}_getLegendItemAt(a,l){let h,p,v;if(Ea(a,this.left,this.right)&&Ea(l,this.top,this.bottom)){for(v=this.legendHitBoxes,h=0;h<v.length;++h)if(p=v[h],Ea(a,p.left,p.left+p.width)&&Ea(l,p.top,p.top+p.height))return this.legendItems[h]}return null}handleEvent(a){const l=this.options;if(!vk(a.type,l))return;const h=this._getLegendItemAt(a.x,a.y);if(a.type==="mousemove"||a.type==="mouseout"){const p=this._hoveredItem,v=fk(p,h);p&&!v&&on(l.onLeave,[a,p,this],this),this._hoveredItem=h,h&&!v&&on(l.onHover,[a,h,this],this)}else h&&on(l.onClick,[a,h,this],this)}}function pk(d,a,l,h,p){const v=gk(h,d,a,l),C=mk(p,h,a.lineHeight);return{itemWidth:v,itemHeight:C}}function gk(d,a,l,h){let p=d.text;return p&&typeof p!="string"&&(p=p.reduce((v,C)=>v.length>C.length?v:C)),a+l.size/2+h.measureText(p).width}function mk(d,a,l){let h=d;return typeof a.text!="string"&&(h=sv(a,l)),h}function sv(d,a){const l=d.text?d.text.length:0;return a*l}function vk(d,a){return!!((d==="mousemove"||d==="mouseout")&&(a.onHover||a.onLeave)||a.onClick&&(d==="click"||d==="mouseup"))}var bk={id:"legend",_element:um,start(d,a,l){const h=d.legend=new um({ctx:d.ctx,options:l,chart:d});Ci.configure(d,h,l),Ci.addBox(d,h)},stop(d){Ci.removeBox(d,d.legend),delete d.legend},beforeUpdate(d,a,l){const h=d.legend;Ci.configure(d,h,l),h.options=l},afterUpdate(d){const a=d.legend;a.buildLabels(),a.adjustHitBoxes()},afterEvent(d,a){a.replay||d.legend.handleEvent(a.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(d,a,l){const h=a.datasetIndex,p=l.chart;p.isDatasetVisible(h)?(p.hide(h),a.hidden=!0):(p.show(h),a.hidden=!1)},onHover:null,onLeave:null,labels:{color:d=>d.chart.options.color,boxWidth:40,padding:10,generateLabels(d){const a=d.data.datasets,{labels:{usePointStyle:l,pointStyle:h,textAlign:p,color:v,useBorderRadius:C,borderRadius:k}}=d.legend.options;return d._getSortedDatasetMetas().map(T=>{const E=T.controller.getStyle(l?0:void 0),A=wi(E.borderWidth);return{text:a[T.index].label,fillStyle:E.backgroundColor,fontColor:v,hidden:!T.visible,lineCap:E.borderCapStyle,lineDash:E.borderDash,lineDashOffset:E.borderDashOffset,lineJoin:E.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:E.borderColor,pointStyle:h||E.pointStyle,rotation:E.rotation,textAlign:p||E.textAlign,borderRadius:C&&(k||E.borderRadius),datasetIndex:T.index}},this)}},title:{color:d=>d.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:d=>!d.startsWith("on"),labels:{_scriptable:d=>!["generateLabels","filter","sort"].includes(d)}}};class Tp extends Ia{constructor(a){super(),this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,l){const h=this.options;if(this.left=0,this.top=0,!h.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=a,this.height=this.bottom=l;const p=vn(h.text)?h.text.length:1;this._padding=wi(h.padding);const v=p*ei(h.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=v:this.width=v}isHorizontal(){const a=this.options.position;return a==="top"||a==="bottom"}_drawArgs(a){const{top:l,left:h,bottom:p,right:v,options:C}=this,k=C.align;let T=0,E,A,O;return this.isHorizontal()?(A=xi(k,h,v),O=l+a,E=v-h):(C.position==="left"?(A=h+a,O=xi(k,p,l),T=hn*-.5):(A=v-a,O=xi(k,l,p),T=hn*.5),E=p-l),{titleX:A,titleY:O,maxWidth:E,rotation:T}}draw(){const a=this.ctx,l=this.options;if(!l.display)return;const h=ei(l.font),v=h.lineHeight/2+this._padding.top,{titleX:C,titleY:k,maxWidth:T,rotation:E}=this._drawArgs(v);dr(a,l.text,0,0,h,{color:l.color,maxWidth:T,rotation:E,textAlign:mp(l.align),textBaseline:"middle",translation:[C,k]})}}function yk(d,a){const l=new Tp({ctx:d.ctx,options:a,chart:d});Ci.configure(d,l,a),Ci.addBox(d,l),d.titleBlock=l}var xk={id:"title",_element:Tp,start(d,a,l){yk(d,l)},stop(d){const a=d.titleBlock;Ci.removeBox(d,a),delete d.titleBlock},beforeUpdate(d,a,l){const h=d.titleBlock;Ci.configure(d,h,l),h.options=l},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ih=new WeakMap;var Ck={id:"subtitle",start(d,a,l){const h=new Tp({ctx:d.ctx,options:l,chart:d});Ci.configure(d,h,l),Ci.addBox(d,h),ih.set(d,h)},stop(d){Ci.removeBox(d,ih.get(d)),ih.delete(d)},beforeUpdate(d,a,l){const h=ih.get(d);Ci.configure(d,h,l),h.options=l},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Du={average(d){if(!d.length)return!1;let a,l,h=new Set,p=0,v=0;for(a=0,l=d.length;a<l;++a){const k=d[a].element;if(k&&k.hasValue()){const T=k.tooltipPosition();h.add(T.x),p+=T.y,++v}}return v===0||h.size===0?!1:{x:[...h].reduce((k,T)=>k+T)/h.size,y:p/v}},nearest(d,a){if(!d.length)return!1;let l=a.x,h=a.y,p=Number.POSITIVE_INFINITY,v,C,k;for(v=0,C=d.length;v<C;++v){const T=d[v].element;if(T&&T.hasValue()){const E=T.getCenterPoint(),A=qf(a,E);A<p&&(p=A,k=T)}}if(k){const T=k.tooltipPosition();l=T.x,h=T.y}return{x:l,y:h}}};function Ks(d,a){return a&&(vn(a)?Array.prototype.push.apply(d,a):d.push(a)),d}function Sa(d){return(typeof d=="string"||d instanceof String)&&d.indexOf(`
`)>-1?d.split(`
`):d}function wk(d,a){const{element:l,datasetIndex:h,index:p}=a,v=d.getDatasetMeta(h).controller,{label:C,value:k}=v.getLabelAndValue(p);return{chart:d,label:C,parsed:v.getParsed(p),raw:d.data.datasets[h].data[p],formattedValue:k,dataset:v.getDataset(),dataIndex:p,datasetIndex:h,element:l}}function cm(d,a){const l=d.chart.ctx,{body:h,footer:p,title:v}=d,{boxWidth:C,boxHeight:k}=a,T=ei(a.bodyFont),E=ei(a.titleFont),A=ei(a.footerFont),O=v.length,R=p.length,j=h.length,X=wi(a.padding);let ne=X.height,ie=0,oe=h.reduce((Z,ae)=>Z+ae.before.length+ae.lines.length+ae.after.length,0);if(oe+=d.beforeBody.length+d.afterBody.length,O&&(ne+=O*E.lineHeight+(O-1)*a.titleSpacing+a.titleMarginBottom),oe){const Z=a.displayColors?Math.max(k,T.lineHeight):T.lineHeight;ne+=j*Z+(oe-j)*T.lineHeight+(oe-1)*a.bodySpacing}R&&(ne+=a.footerMarginTop+R*A.lineHeight+(R-1)*a.footerSpacing);let ee=0;const le=function(Z){ie=Math.max(ie,l.measureText(Z).width+ee)};return l.save(),l.font=E.string,Xt(d.title,le),l.font=T.string,Xt(d.beforeBody.concat(d.afterBody),le),ee=a.displayColors?C+2+a.boxPadding:0,Xt(h,Z=>{Xt(Z.before,le),Xt(Z.lines,le),Xt(Z.after,le)}),ee=0,l.font=A.string,Xt(d.footer,le),l.restore(),ie+=X.width,{width:ie,height:ne}}function _k(d,a){const{y:l,height:h}=a;return l<h/2?"top":l>d.height-h/2?"bottom":"center"}function kk(d,a,l,h){const{x:p,width:v}=h,C=l.caretSize+l.caretPadding;if(d==="left"&&p+v+C>a.width||d==="right"&&p-v-C<0)return!0}function Sk(d,a,l,h){const{x:p,width:v}=l,{width:C,chartArea:{left:k,right:T}}=d;let E="center";return h==="center"?E=p<=(k+T)/2?"left":"right":p<=v/2?E="left":p>=C-v/2&&(E="right"),kk(E,d,a,l)&&(E="center"),E}function dm(d,a,l){const h=l.yAlign||a.yAlign||_k(d,l);return{xAlign:l.xAlign||a.xAlign||Sk(d,a,l,h),yAlign:h}}function Tk(d,a){let{x:l,width:h}=d;return a==="right"?l-=h:a==="center"&&(l-=h/2),l}function Dk(d,a,l){let{y:h,height:p}=d;return a==="top"?h+=l:a==="bottom"?h-=p+l:h-=p/2,h}function hm(d,a,l,h){const{caretSize:p,caretPadding:v,cornerRadius:C}=d,{xAlign:k,yAlign:T}=l,E=p+v,{topLeft:A,topRight:O,bottomLeft:R,bottomRight:j}=lr(C);let X=Tk(a,k);const ne=Dk(a,T,E);return T==="center"?k==="left"?X+=E:k==="right"&&(X-=E):k==="left"?X-=Math.max(A,R)+p:k==="right"&&(X+=Math.max(O,j)+p),{x:ui(X,0,h.width-a.width),y:ui(ne,0,h.height-a.height)}}function sh(d,a,l){const h=wi(l.padding);return a==="center"?d.x+d.width/2:a==="right"?d.x+d.width-h.right:d.x+h.left}function fm(d){return Ks([],Sa(d))}function Ek(d,a,l){return So(d,{tooltip:a,tooltipItems:l,type:"tooltip"})}function pm(d,a){const l=a&&a.dataset&&a.dataset.tooltip&&a.dataset.tooltip.callbacks;return l?d.override(l):d}const av={beforeTitle:_a,title(d){if(d.length>0){const a=d[0],l=a.chart.data.labels,h=l?l.length:0;if(this&&this.options&&this.options.mode==="dataset")return a.dataset.label||"";if(a.label)return a.label;if(h>0&&a.dataIndex<h)return l[a.dataIndex]}return""},afterTitle:_a,beforeBody:_a,beforeLabel:_a,label(d){if(this&&this.options&&this.options.mode==="dataset")return d.label+": "+d.formattedValue||d.formattedValue;let a=d.dataset.label||"";a&&(a+=": ");const l=d.formattedValue;return It(l)||(a+=l),a},labelColor(d){const l=d.chart.getDatasetMeta(d.datasetIndex).controller.getStyle(d.dataIndex);return{borderColor:l.borderColor,backgroundColor:l.backgroundColor,borderWidth:l.borderWidth,borderDash:l.borderDash,borderDashOffset:l.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(d){const l=d.chart.getDatasetMeta(d.datasetIndex).controller.getStyle(d.dataIndex);return{pointStyle:l.pointStyle,rotation:l.rotation}},afterLabel:_a,afterBody:_a,beforeFooter:_a,footer:_a,afterFooter:_a};function Pi(d,a,l,h){const p=d[a].call(l,h);return typeof p>"u"?av[a].call(l,h):p}class tp extends Ia{constructor(a){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=a.chart,this.options=a.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(a){this.options=a,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const a=this._cachedAnimations;if(a)return a;const l=this.chart,h=this.options.setContext(this.getContext()),p=h.enabled&&l.options.animation&&h.animations,v=new R0(this.chart,p);return p._cacheable&&(this._cachedAnimations=Object.freeze(v)),v}getContext(){return this.$context||(this.$context=Ek(this.chart.getContext(),this,this._tooltipItems))}getTitle(a,l){const{callbacks:h}=l,p=Pi(h,"beforeTitle",this,a),v=Pi(h,"title",this,a),C=Pi(h,"afterTitle",this,a);let k=[];return k=Ks(k,Sa(p)),k=Ks(k,Sa(v)),k=Ks(k,Sa(C)),k}getBeforeBody(a,l){return fm(Pi(l.callbacks,"beforeBody",this,a))}getBody(a,l){const{callbacks:h}=l,p=[];return Xt(a,v=>{const C={before:[],lines:[],after:[]},k=pm(h,v);Ks(C.before,Sa(Pi(k,"beforeLabel",this,v))),Ks(C.lines,Pi(k,"label",this,v)),Ks(C.after,Sa(Pi(k,"afterLabel",this,v))),p.push(C)}),p}getAfterBody(a,l){return fm(Pi(l.callbacks,"afterBody",this,a))}getFooter(a,l){const{callbacks:h}=l,p=Pi(h,"beforeFooter",this,a),v=Pi(h,"footer",this,a),C=Pi(h,"afterFooter",this,a);let k=[];return k=Ks(k,Sa(p)),k=Ks(k,Sa(v)),k=Ks(k,Sa(C)),k}_createItems(a){const l=this._active,h=this.chart.data,p=[],v=[],C=[];let k=[],T,E;for(T=0,E=l.length;T<E;++T)k.push(wk(this.chart,l[T]));return a.filter&&(k=k.filter((A,O,R)=>a.filter(A,O,R,h))),a.itemSort&&(k=k.sort((A,O)=>a.itemSort(A,O,h))),Xt(k,A=>{const O=pm(a.callbacks,A);p.push(Pi(O,"labelColor",this,A)),v.push(Pi(O,"labelPointStyle",this,A)),C.push(Pi(O,"labelTextColor",this,A))}),this.labelColors=p,this.labelPointStyles=v,this.labelTextColors=C,this.dataPoints=k,k}update(a,l){const h=this.options.setContext(this.getContext()),p=this._active;let v,C=[];if(!p.length)this.opacity!==0&&(v={opacity:0});else{const k=Du[h.position].call(this,p,this._eventPosition);C=this._createItems(h),this.title=this.getTitle(C,h),this.beforeBody=this.getBeforeBody(C,h),this.body=this.getBody(C,h),this.afterBody=this.getAfterBody(C,h),this.footer=this.getFooter(C,h);const T=this._size=cm(this,h),E=Object.assign({},k,T),A=dm(this.chart,h,E),O=hm(h,E,A,this.chart);this.xAlign=A.xAlign,this.yAlign=A.yAlign,v={opacity:1,x:O.x,y:O.y,width:T.width,height:T.height,caretX:k.x,caretY:k.y}}this._tooltipItems=C,this.$context=void 0,v&&this._resolveAnimations().update(this,v),a&&h.external&&h.external.call(this,{chart:this.chart,tooltip:this,replay:l})}drawCaret(a,l,h,p){const v=this.getCaretPosition(a,h,p);l.lineTo(v.x1,v.y1),l.lineTo(v.x2,v.y2),l.lineTo(v.x3,v.y3)}getCaretPosition(a,l,h){const{xAlign:p,yAlign:v}=this,{caretSize:C,cornerRadius:k}=h,{topLeft:T,topRight:E,bottomLeft:A,bottomRight:O}=lr(k),{x:R,y:j}=a,{width:X,height:ne}=l;let ie,oe,ee,le,Z,ae;return v==="center"?(Z=j+ne/2,p==="left"?(ie=R,oe=ie-C,le=Z+C,ae=Z-C):(ie=R+X,oe=ie+C,le=Z-C,ae=Z+C),ee=ie):(p==="left"?oe=R+Math.max(T,A)+C:p==="right"?oe=R+X-Math.max(E,O)-C:oe=this.caretX,v==="top"?(le=j,Z=le-C,ie=oe-C,ee=oe+C):(le=j+ne,Z=le+C,ie=oe+C,ee=oe-C),ae=le),{x1:ie,x2:oe,x3:ee,y1:le,y2:Z,y3:ae}}drawTitle(a,l,h){const p=this.title,v=p.length;let C,k,T;if(v){const E=cl(h.rtl,this.x,this.width);for(a.x=sh(this,h.titleAlign,h),l.textAlign=E.textAlign(h.titleAlign),l.textBaseline="middle",C=ei(h.titleFont),k=h.titleSpacing,l.fillStyle=h.titleColor,l.font=C.string,T=0;T<v;++T)l.fillText(p[T],E.x(a.x),a.y+C.lineHeight/2),a.y+=C.lineHeight+k,T+1===v&&(a.y+=h.titleMarginBottom-k)}}_drawColorBox(a,l,h,p,v){const C=this.labelColors[h],k=this.labelPointStyles[h],{boxHeight:T,boxWidth:E}=v,A=ei(v.bodyFont),O=sh(this,"left",v),R=p.x(O),j=T<A.lineHeight?(A.lineHeight-T)/2:0,X=l.y+j;if(v.usePointStyle){const ne={radius:Math.min(E,T)/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:1},ie=p.leftForLtr(R,E)+E/2,oe=X+T/2;a.strokeStyle=v.multiKeyBackground,a.fillStyle=v.multiKeyBackground,Gf(a,ne,ie,oe),a.strokeStyle=C.borderColor,a.fillStyle=C.backgroundColor,Gf(a,ne,ie,oe)}else{a.lineWidth=Ft(C.borderWidth)?Math.max(...Object.values(C.borderWidth)):C.borderWidth||1,a.strokeStyle=C.borderColor,a.setLineDash(C.borderDash||[]),a.lineDashOffset=C.borderDashOffset||0;const ne=p.leftForLtr(R,E),ie=p.leftForLtr(p.xPlus(R,1),E-2),oe=lr(C.borderRadius);Object.values(oe).some(ee=>ee!==0)?(a.beginPath(),a.fillStyle=v.multiKeyBackground,zu(a,{x:ne,y:X,w:E,h:T,radius:oe}),a.fill(),a.stroke(),a.fillStyle=C.backgroundColor,a.beginPath(),zu(a,{x:ie,y:X+1,w:E-2,h:T-2,radius:oe}),a.fill()):(a.fillStyle=v.multiKeyBackground,a.fillRect(ne,X,E,T),a.strokeRect(ne,X,E,T),a.fillStyle=C.backgroundColor,a.fillRect(ie,X+1,E-2,T-2))}a.fillStyle=this.labelTextColors[h]}drawBody(a,l,h){const{body:p}=this,{bodySpacing:v,bodyAlign:C,displayColors:k,boxHeight:T,boxWidth:E,boxPadding:A}=h,O=ei(h.bodyFont);let R=O.lineHeight,j=0;const X=cl(h.rtl,this.x,this.width),ne=function(pe){l.fillText(pe,X.x(a.x+j),a.y+R/2),a.y+=R+v},ie=X.textAlign(C);let oe,ee,le,Z,ae,ke,be;for(l.textAlign=C,l.textBaseline="middle",l.font=O.string,a.x=sh(this,ie,h),l.fillStyle=h.bodyColor,Xt(this.beforeBody,ne),j=k&&ie!=="right"?C==="center"?E/2+A:E+2+A:0,Z=0,ke=p.length;Z<ke;++Z){for(oe=p[Z],ee=this.labelTextColors[Z],l.fillStyle=ee,Xt(oe.before,ne),le=oe.lines,k&&le.length&&(this._drawColorBox(l,a,Z,X,h),R=Math.max(O.lineHeight,T)),ae=0,be=le.length;ae<be;++ae)ne(le[ae]),R=O.lineHeight;Xt(oe.after,ne)}j=0,R=O.lineHeight,Xt(this.afterBody,ne),a.y-=v}drawFooter(a,l,h){const p=this.footer,v=p.length;let C,k;if(v){const T=cl(h.rtl,this.x,this.width);for(a.x=sh(this,h.footerAlign,h),a.y+=h.footerMarginTop,l.textAlign=T.textAlign(h.footerAlign),l.textBaseline="middle",C=ei(h.footerFont),l.fillStyle=h.footerColor,l.font=C.string,k=0;k<v;++k)l.fillText(p[k],T.x(a.x),a.y+C.lineHeight/2),a.y+=C.lineHeight+h.footerSpacing}}drawBackground(a,l,h,p){const{xAlign:v,yAlign:C}=this,{x:k,y:T}=a,{width:E,height:A}=h,{topLeft:O,topRight:R,bottomLeft:j,bottomRight:X}=lr(p.cornerRadius);l.fillStyle=p.backgroundColor,l.strokeStyle=p.borderColor,l.lineWidth=p.borderWidth,l.beginPath(),l.moveTo(k+O,T),C==="top"&&this.drawCaret(a,l,h,p),l.lineTo(k+E-R,T),l.quadraticCurveTo(k+E,T,k+E,T+R),C==="center"&&v==="right"&&this.drawCaret(a,l,h,p),l.lineTo(k+E,T+A-X),l.quadraticCurveTo(k+E,T+A,k+E-X,T+A),C==="bottom"&&this.drawCaret(a,l,h,p),l.lineTo(k+j,T+A),l.quadraticCurveTo(k,T+A,k,T+A-j),C==="center"&&v==="left"&&this.drawCaret(a,l,h,p),l.lineTo(k,T+O),l.quadraticCurveTo(k,T,k+O,T),l.closePath(),l.fill(),p.borderWidth>0&&l.stroke()}_updateAnimationTarget(a){const l=this.chart,h=this.$animations,p=h&&h.x,v=h&&h.y;if(p||v){const C=Du[a.position].call(this,this._active,this._eventPosition);if(!C)return;const k=this._size=cm(this,a),T=Object.assign({},C,this._size),E=dm(l,a,T),A=hm(a,T,E,l);(p._to!==A.x||v._to!==A.y)&&(this.xAlign=E.xAlign,this.yAlign=E.yAlign,this.width=k.width,this.height=k.height,this.caretX=C.x,this.caretY=C.y,this._resolveAnimations().update(this,A))}}_willRender(){return!!this.opacity}draw(a){const l=this.options.setContext(this.getContext());let h=this.opacity;if(!h)return;this._updateAnimationTarget(l);const p={width:this.width,height:this.height},v={x:this.x,y:this.y};h=Math.abs(h)<.001?0:h;const C=wi(l.padding),k=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;l.enabled&&k&&(a.save(),a.globalAlpha=h,this.drawBackground(v,a,p,l),I0(a,l.textDirection),v.y+=C.top,this.drawTitle(v,a,l),this.drawBody(v,a,l),this.drawFooter(v,a,l),F0(a,l.textDirection),a.restore())}getActiveElements(){return this._active||[]}setActiveElements(a,l){const h=this._active,p=a.map(({datasetIndex:k,index:T})=>{const E=this.chart.getDatasetMeta(k);if(!E)throw new Error("Cannot find a dataset at index "+k);return{datasetIndex:k,element:E.data[T],index:T}}),v=!bh(h,p),C=this._positionChanged(p,l);(v||C)&&(this._active=p,this._eventPosition=l,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(a,l,h=!0){if(l&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const p=this.options,v=this._active||[],C=this._getActiveElements(a,v,l,h),k=this._positionChanged(C,a),T=l||!bh(C,v)||k;return T&&(this._active=C,(p.enabled||p.external)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0,l))),T}_getActiveElements(a,l,h,p){const v=this.options;if(a.type==="mouseout")return[];if(!p)return l.filter(k=>this.chart.data.datasets[k.datasetIndex]&&this.chart.getDatasetMeta(k.datasetIndex).controller.getParsed(k.index)!==void 0);const C=this.chart.getElementsAtEventForMode(a,v.mode,v,h);return v.reverse&&C.reverse(),C}_positionChanged(a,l){const{caretX:h,caretY:p,options:v}=this,C=Du[v.position].call(this,a,l);return C!==!1&&(h!==C.x||p!==C.y)}}Fe(tp,"positioners",Du);var Mk={id:"tooltip",_element:tp,positioners:Du,afterInit(d,a,l){l&&(d.tooltip=new tp({chart:d,options:l}))},beforeUpdate(d,a,l){d.tooltip&&d.tooltip.initialize(l)},reset(d,a,l){d.tooltip&&d.tooltip.initialize(l)},afterDraw(d){const a=d.tooltip;if(a&&a._willRender()){const l={tooltip:a};if(d.notifyPlugins("beforeTooltipDraw",{...l,cancelable:!0})===!1)return;a.draw(d.ctx),d.notifyPlugins("afterTooltipDraw",l)}},afterEvent(d,a){if(d.tooltip){const l=a.replay;d.tooltip.handleEvent(a.event,l,a.inChartArea)&&(a.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(d,a)=>a.bodyFont.size,boxWidth:(d,a)=>a.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:av},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:d=>d!=="filter"&&d!=="itemSort"&&d!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Ak=Object.freeze({__proto__:null,Colors:W_,Decimation:q_,Filler:hk,Legend:bk,SubTitle:Ck,Title:xk,Tooltip:Mk});const Ik=(d,a,l,h)=>(typeof a=="string"?(l=d.push(a)-1,h.unshift({index:l,label:a})):isNaN(a)&&(l=null),l);function Fk(d,a,l,h){const p=d.indexOf(a);if(p===-1)return Ik(d,a,l,h);const v=d.lastIndexOf(a);return p!==v?l:p}const Lk=(d,a)=>d===null?null:ui(Math.round(d),0,a);function gm(d){const a=this.getLabels();return d>=0&&d<a.length?a[d]:d}class np extends hr{constructor(a){super(a),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(a){const l=this._addedLabels;if(l.length){const h=this.getLabels();for(const{index:p,label:v}of l)h[p]===v&&h.splice(p,1);this._addedLabels=[]}super.init(a)}parse(a,l){if(It(a))return null;const h=this.getLabels();return l=isFinite(l)&&h[l]===a?l:Fk(h,a,At(l,a),this._addedLabels),Lk(l,h.length-1)}determineDataLimits(){const{minDefined:a,maxDefined:l}=this.getUserBounds();let{min:h,max:p}=this.getMinMax(!0);this.options.bounds==="ticks"&&(a||(h=0),l||(p=this.getLabels().length-1)),this.min=h,this.max=p}buildTicks(){const a=this.min,l=this.max,h=this.options.offset,p=[];let v=this.getLabels();v=a===0&&l===v.length-1?v:v.slice(a,l+1),this._valueRange=Math.max(v.length-(h?0:1),1),this._startValue=this.min-(h?.5:0);for(let C=a;C<=l;C++)p.push({value:C});return p}getLabelForValue(a){return gm.call(this,a)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(a){return typeof a!="number"&&(a=this.parse(a)),a===null?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getPixelForTick(a){const l=this.ticks;return a<0||a>l.length-1?null:this.getPixelForValue(l[a].value)}getValueForPixel(a){return Math.round(this._startValue+this.getDecimalForPixel(a)*this._valueRange)}getBasePixel(){return this.bottom}}Fe(np,"id","category"),Fe(np,"defaults",{ticks:{callback:gm}});function Ok(d,a){const l=[],{bounds:p,step:v,min:C,max:k,precision:T,count:E,maxTicks:A,maxDigits:O,includeBounds:R}=d,j=v||1,X=A-1,{min:ne,max:ie}=a,oe=!It(C),ee=!It(k),le=!It(E),Z=(ie-ne)/(O+1);let ae=cg((ie-ne)/X/j)*j,ke,be,pe,Le;if(ae<1e-14&&!oe&&!ee)return[{value:ne},{value:ie}];Le=Math.ceil(ie/ae)-Math.floor(ne/ae),Le>X&&(ae=cg(Le*ae/X/j)*j),It(T)||(ke=Math.pow(10,T),ae=Math.ceil(ae*ke)/ke),p==="ticks"?(be=Math.floor(ne/ae)*ae,pe=Math.ceil(ie/ae)*ae):(be=ne,pe=ie),oe&&ee&&v&&Ex((k-C)/v,ae/1e3)?(Le=Math.round(Math.min((k-C)/ae,A)),ae=(k-C)/Le,be=C,pe=k):le?(be=oe?C:be,pe=ee?k:pe,Le=E-1,ae=(pe-be)/Le):(Le=(pe-be)/ae,Au(Le,Math.round(Le),ae/1e3)?Le=Math.round(Le):Le=Math.ceil(Le));const Ke=Math.max(dg(ae),dg(be));ke=Math.pow(10,It(T)?Ke:T),be=Math.round(be*ke)/ke,pe=Math.round(pe*ke)/ke;let Ee=0;for(oe&&(R&&be!==C?(l.push({value:C}),be<C&&Ee++,Au(Math.round((be+Ee*ae)*ke)/ke,C,mm(C,Z,d))&&Ee++):be<C&&Ee++);Ee<Le;++Ee){const Ae=Math.round((be+Ee*ae)*ke)/ke;if(ee&&Ae>k)break;l.push({value:Ae})}return ee&&R&&pe!==k?l.length&&Au(l[l.length-1].value,k,mm(k,Z,d))?l[l.length-1].value=k:l.push({value:k}):(!ee||pe===k)&&l.push({value:pe}),l}function mm(d,a,{horizontal:l,minRotation:h}){const p=Cs(h),v=(l?Math.sin(p):Math.cos(p))||.001,C=.75*a*(""+d).length;return Math.min(a/v,C)}class Sh extends hr{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(a,l){return It(a)||(typeof a=="number"||a instanceof Number)&&!isFinite(+a)?null:+a}handleTickRangeOptions(){const{beginAtZero:a}=this.options,{minDefined:l,maxDefined:h}=this.getUserBounds();let{min:p,max:v}=this;const C=T=>p=l?p:T,k=T=>v=h?v:T;if(a){const T=ea(p),E=ea(v);T<0&&E<0?k(0):T>0&&E>0&&C(0)}if(p===v){let T=v===0?1:Math.abs(v*.05);k(v+T),a||C(p-T)}this.min=p,this.max=v}getTickLimit(){const a=this.options.ticks;let{maxTicksLimit:l,stepSize:h}=a,p;return h?(p=Math.ceil(this.max/h)-Math.floor(this.min/h)+1,p>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${h} would result generating up to ${p} ticks. Limiting to 1000.`),p=1e3)):(p=this.computeTickLimit(),l=l||11),l&&(p=Math.min(l,p)),p}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const a=this.options,l=a.ticks;let h=this.getTickLimit();h=Math.max(2,h);const p={maxTicks:h,bounds:a.bounds,min:a.min,max:a.max,precision:l.precision,step:l.stepSize,count:l.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:l.minRotation||0,includeBounds:l.includeBounds!==!1},v=this._range||this,C=Ok(p,v);return a.bounds==="ticks"&&p0(C,this,"value"),a.reverse?(C.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),C}configure(){const a=this.ticks;let l=this.min,h=this.max;if(super.configure(),this.options.offset&&a.length){const p=(h-l)/Math.max(a.length-1,1)/2;l-=p,h+=p}this._startValue=l,this._endValue=h,this._valueRange=h-l}getLabelForValue(a){return Uu(a,this.chart.options.locale,this.options.ticks.format)}}class ip extends Sh{determineDataLimits(){const{min:a,max:l}=this.getMinMax(!0);this.min=Mn(a)?a:0,this.max=Mn(l)?l:1,this.handleTickRangeOptions()}computeTickLimit(){const a=this.isHorizontal(),l=a?this.width:this.height,h=Cs(this.options.ticks.minRotation),p=(a?Math.sin(h):Math.cos(h))||.001,v=this._resolveTickFontOptions(0);return Math.ceil(l/Math.min(40,v.lineHeight/p))}getPixelForValue(a){return a===null?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getValueForPixel(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange}}Fe(ip,"id","linear"),Fe(ip,"defaults",{ticks:{callback:Eh.formatters.numeric}});const Vu=d=>Math.floor(yo(d)),ir=(d,a)=>Math.pow(10,Vu(d)+a);function vm(d){return d/Math.pow(10,Vu(d))===1}function bm(d,a,l){const h=Math.pow(10,l),p=Math.floor(d/h);return Math.ceil(a/h)-p}function Pk(d,a){const l=a-d;let h=Vu(l);for(;bm(d,a,h)>10;)h++;for(;bm(d,a,h)<10;)h--;return Math.min(h,Vu(d))}function Bk(d,{min:a,max:l}){a=qi(d.min,a);const h=[],p=Vu(a);let v=Pk(a,l),C=v<0?Math.pow(10,Math.abs(v)):1;const k=Math.pow(10,v),T=p>v?Math.pow(10,p):0,E=Math.round((a-T)*C)/C,A=Math.floor((a-T)/k/10)*k*10;let O=Math.floor((E-A)/Math.pow(10,v)),R=qi(d.min,Math.round((T+A+O*Math.pow(10,v))*C)/C);for(;R<l;)h.push({value:R,major:vm(R),significand:O}),O>=10?O=O<15?15:20:O++,O>=20&&(v++,O=2,C=v>=0?1:C),R=Math.round((T+A+O*Math.pow(10,v))*C)/C;const j=qi(d.max,R);return h.push({value:j,major:vm(j),significand:O}),h}class sp extends hr{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(a,l){const h=Sh.prototype.parse.apply(this,[a,l]);if(h===0){this._zero=!0;return}return Mn(h)&&h>0?h:null}determineDataLimits(){const{min:a,max:l}=this.getMinMax(!0);this.min=Mn(a)?Math.max(0,a):null,this.max=Mn(l)?Math.max(0,l):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Mn(this._userMin)&&(this.min=a===ir(this.min,0)?ir(this.min,-1):ir(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:a,maxDefined:l}=this.getUserBounds();let h=this.min,p=this.max;const v=k=>h=a?h:k,C=k=>p=l?p:k;h===p&&(h<=0?(v(1),C(10)):(v(ir(h,-1)),C(ir(p,1)))),h<=0&&v(ir(p,-1)),p<=0&&C(ir(h,1)),this.min=h,this.max=p}buildTicks(){const a=this.options,l={min:this._userMin,max:this._userMax},h=Bk(l,this);return a.bounds==="ticks"&&p0(h,this,"value"),a.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}getLabelForValue(a){return a===void 0?"0":Uu(a,this.chart.options.locale,this.options.ticks.format)}configure(){const a=this.min;super.configure(),this._startValue=yo(a),this._valueRange=yo(this.max)-yo(a)}getPixelForValue(a){return(a===void 0||a===0)&&(a=this.min),a===null||isNaN(a)?NaN:this.getPixelForDecimal(a===this.min?0:(yo(a)-this._startValue)/this._valueRange)}getValueForPixel(a){const l=this.getDecimalForPixel(a);return Math.pow(10,this._startValue+l*this._valueRange)}}Fe(sp,"id","logarithmic"),Fe(sp,"defaults",{ticks:{callback:Eh.formatters.logarithmic,major:{enabled:!0}}});function ap(d){const a=d.ticks;if(a.display&&d.display){const l=wi(a.backdropPadding);return At(a.font&&a.font.size,bn.font.size)+l.height}return 0}function Rk(d,a,l){return l=vn(l)?l:[l],{w:$x(d,a.string,l),h:l.length*a.lineHeight}}function ym(d,a,l,h,p){return d===h||d===p?{start:a-l/2,end:a+l/2}:d<h||d>p?{start:a-l,end:a}:{start:a,end:a+l}}function Nk(d){const a={l:d.left+d._padding.left,r:d.right-d._padding.right,t:d.top+d._padding.top,b:d.bottom-d._padding.bottom},l=Object.assign({},a),h=[],p=[],v=d._pointLabels.length,C=d.options.pointLabels,k=C.centerPointLabels?hn/v:0;for(let T=0;T<v;T++){const E=C.setContext(d.getPointLabelContext(T));p[T]=E.padding;const A=d.getPointPosition(T,d.drawingArea+p[T],k),O=ei(E.font),R=Rk(d.ctx,O,d._pointLabels[T]);h[T]=R;const j=Yi(d.getIndexAngle(T)+k),X=Math.round(pp(j)),ne=ym(X,A.x,R.w,0,180),ie=ym(X,A.y,R.h,90,270);zk(l,a,j,ne,ie)}d.setCenterPoint(a.l-l.l,l.r-a.r,a.t-l.t,l.b-a.b),d._pointLabelItems=Wk(d,h,p)}function zk(d,a,l,h,p){const v=Math.abs(Math.sin(l)),C=Math.abs(Math.cos(l));let k=0,T=0;h.start<a.l?(k=(a.l-h.start)/v,d.l=Math.min(d.l,a.l-k)):h.end>a.r&&(k=(h.end-a.r)/v,d.r=Math.max(d.r,a.r+k)),p.start<a.t?(T=(a.t-p.start)/C,d.t=Math.min(d.t,a.t-T)):p.end>a.b&&(T=(p.end-a.b)/C,d.b=Math.max(d.b,a.b+T))}function Hk(d,a,l){const h=d.drawingArea,{extra:p,additionalAngle:v,padding:C,size:k}=l,T=d.getPointPosition(a,h+p+C,v),E=Math.round(pp(Yi(T.angle+zn))),A=$k(T.y,k.h,E),O=jk(E),R=Uk(T.x,k.w,O);return{visible:!0,x:T.x,y:A,textAlign:O,left:R,top:A,right:R+k.w,bottom:A+k.h}}function Vk(d,a){if(!a)return!0;const{left:l,top:h,right:p,bottom:v}=d;return!(Aa({x:l,y:h},a)||Aa({x:l,y:v},a)||Aa({x:p,y:h},a)||Aa({x:p,y:v},a))}function Wk(d,a,l){const h=[],p=d._pointLabels.length,v=d.options,{centerPointLabels:C,display:k}=v.pointLabels,T={extra:ap(v)/2,additionalAngle:C?hn/p:0};let E;for(let A=0;A<p;A++){T.padding=l[A],T.size=a[A];const O=Hk(d,A,T);h.push(O),k==="auto"&&(O.visible=Vk(O,E),O.visible&&(E=O))}return h}function jk(d){return d===0||d===180?"center":d<180?"left":"right"}function Uk(d,a,l){return l==="right"?d-=a:l==="center"&&(d-=a/2),d}function $k(d,a,l){return l===90||l===270?d-=a/2:(l>270||l<90)&&(d-=a),d}function qk(d,a,l){const{left:h,top:p,right:v,bottom:C}=l,{backdropColor:k}=a;if(!It(k)){const T=lr(a.borderRadius),E=wi(a.backdropPadding);d.fillStyle=k;const A=h-E.left,O=p-E.top,R=v-h+E.width,j=C-p+E.height;Object.values(T).some(X=>X!==0)?(d.beginPath(),zu(d,{x:A,y:O,w:R,h:j,radius:T}),d.fill()):d.fillRect(A,O,R,j)}}function Yk(d,a){const{ctx:l,options:{pointLabels:h}}=d;for(let p=a-1;p>=0;p--){const v=d._pointLabelItems[p];if(!v.visible)continue;const C=h.setContext(d.getPointLabelContext(p));qk(l,C,v);const k=ei(C.font),{x:T,y:E,textAlign:A}=v;dr(l,d._pointLabels[p],T,E+k.lineHeight/2,k,{color:C.color,textAlign:A,textBaseline:"middle"})}}function ov(d,a,l,h){const{ctx:p}=d;if(l)p.arc(d.xCenter,d.yCenter,a,0,dn);else{let v=d.getPointPosition(0,a);p.moveTo(v.x,v.y);for(let C=1;C<h;C++)v=d.getPointPosition(C,a),p.lineTo(v.x,v.y)}}function Gk(d,a,l,h,p){const v=d.ctx,C=a.circular,{color:k,lineWidth:T}=a;!C&&!h||!k||!T||l<0||(v.save(),v.strokeStyle=k,v.lineWidth=T,v.setLineDash(p.dash||[]),v.lineDashOffset=p.dashOffset,v.beginPath(),ov(d,l,C,h),v.closePath(),v.stroke(),v.restore())}function Xk(d,a,l){return So(d,{label:l,index:a,type:"pointLabel"})}class Eu extends Sh{constructor(a){super(a),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const a=this._padding=wi(ap(this.options)/2),l=this.width=this.maxWidth-a.width,h=this.height=this.maxHeight-a.height;this.xCenter=Math.floor(this.left+l/2+a.left),this.yCenter=Math.floor(this.top+h/2+a.top),this.drawingArea=Math.floor(Math.min(l,h)/2)}determineDataLimits(){const{min:a,max:l}=this.getMinMax(!1);this.min=Mn(a)&&!isNaN(a)?a:0,this.max=Mn(l)&&!isNaN(l)?l:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ap(this.options))}generateTickLabels(a){Sh.prototype.generateTickLabels.call(this,a),this._pointLabels=this.getLabels().map((l,h)=>{const p=on(this.options.pointLabels.callback,[l,h],this);return p||p===0?p:""}).filter((l,h)=>this.chart.getDataVisibility(h))}fit(){const a=this.options;a.display&&a.pointLabels.display?Nk(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(a,l,h,p){this.xCenter+=Math.floor((a-l)/2),this.yCenter+=Math.floor((h-p)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(a,l,h,p))}getIndexAngle(a){const l=dn/(this._pointLabels.length||1),h=this.options.startAngle||0;return Yi(a*l+Cs(h))}getDistanceFromCenterForValue(a){if(It(a))return NaN;const l=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-a)*l:(a-this.min)*l}getValueForDistanceFromCenter(a){if(It(a))return NaN;const l=a/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-l:this.min+l}getPointLabelContext(a){const l=this._pointLabels||[];if(a>=0&&a<l.length){const h=l[a];return Xk(this.getContext(),a,h)}}getPointPosition(a,l,h=0){const p=this.getIndexAngle(a)-zn+h;return{x:Math.cos(p)*l+this.xCenter,y:Math.sin(p)*l+this.yCenter,angle:p}}getPointPositionForValue(a,l){return this.getPointPosition(a,this.getDistanceFromCenterForValue(l))}getBasePosition(a){return this.getPointPositionForValue(a||0,this.getBaseValue())}getPointLabelPosition(a){const{left:l,top:h,right:p,bottom:v}=this._pointLabelItems[a];return{left:l,top:h,right:p,bottom:v}}drawBackground(){const{backgroundColor:a,grid:{circular:l}}=this.options;if(a){const h=this.ctx;h.save(),h.beginPath(),ov(this,this.getDistanceFromCenterForValue(this._endValue),l,this._pointLabels.length),h.closePath(),h.fillStyle=a,h.fill(),h.restore()}}drawGrid(){const a=this.ctx,l=this.options,{angleLines:h,grid:p,border:v}=l,C=this._pointLabels.length;let k,T,E;if(l.pointLabels.display&&Yk(this,C),p.display&&this.ticks.forEach((A,O)=>{if(O!==0||O===0&&this.min<0){T=this.getDistanceFromCenterForValue(A.value);const R=this.getContext(O),j=p.setContext(R),X=v.setContext(R);Gk(this,j,T,C,X)}}),h.display){for(a.save(),k=C-1;k>=0;k--){const A=h.setContext(this.getPointLabelContext(k)),{color:O,lineWidth:R}=A;!R||!O||(a.lineWidth=R,a.strokeStyle=O,a.setLineDash(A.borderDash),a.lineDashOffset=A.borderDashOffset,T=this.getDistanceFromCenterForValue(l.reverse?this.min:this.max),E=this.getPointPosition(k,T),a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(E.x,E.y),a.stroke())}a.restore()}}drawBorder(){}drawLabels(){const a=this.ctx,l=this.options,h=l.ticks;if(!h.display)return;const p=this.getIndexAngle(0);let v,C;a.save(),a.translate(this.xCenter,this.yCenter),a.rotate(p),a.textAlign="center",a.textBaseline="middle",this.ticks.forEach((k,T)=>{if(T===0&&this.min>=0&&!l.reverse)return;const E=h.setContext(this.getContext(T)),A=ei(E.font);if(v=this.getDistanceFromCenterForValue(this.ticks[T].value),E.showLabelBackdrop){a.font=A.string,C=a.measureText(k.label).width,a.fillStyle=E.backdropColor;const O=wi(E.backdropPadding);a.fillRect(-C/2-O.left,-v-A.size/2-O.top,C+O.width,A.size+O.height)}dr(a,k.label,0,-v,A,{color:E.color,strokeColor:E.textStrokeColor,strokeWidth:E.textStrokeWidth})}),a.restore()}drawTitle(){}}Fe(Eu,"id","radialLinear"),Fe(Eu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Eh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(a){return a},padding:5,centerPointLabels:!1}}),Fe(Eu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Fe(Eu,"descriptors",{angleLines:{_fallback:"grid"}});const Lh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bi=Object.keys(Lh);function xm(d,a){return d-a}function Cm(d,a){if(It(a))return null;const l=d._adapter,{parser:h,round:p,isoWeekday:v}=d._parseOpts;let C=a;return typeof h=="function"&&(C=h(C)),Mn(C)||(C=typeof h=="string"?l.parse(C,h):l.parse(C)),C===null?null:(p&&(C=p==="week"&&(dl(v)||v===!0)?l.startOf(C,"isoWeek",v):l.startOf(C,p)),+C)}function wm(d,a,l,h){const p=Bi.length;for(let v=Bi.indexOf(d);v<p-1;++v){const C=Lh[Bi[v]],k=C.steps?C.steps:Number.MAX_SAFE_INTEGER;if(C.common&&Math.ceil((l-a)/(k*C.size))<=h)return Bi[v]}return Bi[p-1]}function Kk(d,a,l,h,p){for(let v=Bi.length-1;v>=Bi.indexOf(l);v--){const C=Bi[v];if(Lh[C].common&&d._adapter.diff(p,h,C)>=a-1)return C}return Bi[l?Bi.indexOf(l):0]}function Zk(d){for(let a=Bi.indexOf(d)+1,l=Bi.length;a<l;++a)if(Lh[Bi[a]].common)return Bi[a]}function _m(d,a,l){if(!l)d[a]=!0;else if(l.length){const{lo:h,hi:p}=gp(l,a),v=l[h]>=a?l[h]:l[p];d[v]=!0}}function Jk(d,a,l,h){const p=d._adapter,v=+p.startOf(a[0].value,h),C=a[a.length-1].value;let k,T;for(k=v;k<=C;k=+p.add(k,1,h))T=l[k],T>=0&&(a[T].major=!0);return a}function km(d,a,l){const h=[],p={},v=a.length;let C,k;for(C=0;C<v;++C)k=a[C],p[k]=C,h.push({value:k,major:!1});return v===0||!l?h:Jk(d,h,p,l)}class Wu extends hr{constructor(a){super(a),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(a,l={}){const h=a.time||(a.time={}),p=this._adapter=new H0._date(a.adapters.date);p.init(l),Mu(h.displayFormats,p.formats()),this._parseOpts={parser:h.parser,round:h.round,isoWeekday:h.isoWeekday},super.init(a),this._normalized=l.normalized}parse(a,l){return a===void 0?null:Cm(this,a)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const a=this.options,l=this._adapter,h=a.time.unit||"day";let{min:p,max:v,minDefined:C,maxDefined:k}=this.getUserBounds();function T(E){!C&&!isNaN(E.min)&&(p=Math.min(p,E.min)),!k&&!isNaN(E.max)&&(v=Math.max(v,E.max))}(!C||!k)&&(T(this._getLabelBounds()),(a.bounds!=="ticks"||a.ticks.source!=="labels")&&T(this.getMinMax(!1))),p=Mn(p)&&!isNaN(p)?p:+l.startOf(Date.now(),h),v=Mn(v)&&!isNaN(v)?v:+l.endOf(Date.now(),h)+1,this.min=Math.min(p,v-1),this.max=Math.max(p+1,v)}_getLabelBounds(){const a=this.getLabelTimestamps();let l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;return a.length&&(l=a[0],h=a[a.length-1]),{min:l,max:h}}buildTicks(){const a=this.options,l=a.time,h=a.ticks,p=h.source==="labels"?this.getLabelTimestamps():this._generate();a.bounds==="ticks"&&p.length&&(this.min=this._userMin||p[0],this.max=this._userMax||p[p.length-1]);const v=this.min,C=this.max,k=Fx(p,v,C);return this._unit=l.unit||(h.autoSkip?wm(l.minUnit,this.min,this.max,this._getLabelCapacity(v)):Kk(this,k.length,l.minUnit,this.min,this.max)),this._majorUnit=!h.major.enabled||this._unit==="year"?void 0:Zk(this._unit),this.initOffsets(p),a.reverse&&k.reverse(),km(this,k,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(a=>+a.value))}initOffsets(a=[]){let l=0,h=0,p,v;this.options.offset&&a.length&&(p=this.getDecimalForValue(a[0]),a.length===1?l=1-p:l=(this.getDecimalForValue(a[1])-p)/2,v=this.getDecimalForValue(a[a.length-1]),a.length===1?h=v:h=(v-this.getDecimalForValue(a[a.length-2]))/2);const C=a.length<3?.5:.25;l=ui(l,0,C),h=ui(h,0,C),this._offsets={start:l,end:h,factor:1/(l+1+h)}}_generate(){const a=this._adapter,l=this.min,h=this.max,p=this.options,v=p.time,C=v.unit||wm(v.minUnit,l,h,this._getLabelCapacity(l)),k=At(p.ticks.stepSize,1),T=C==="week"?v.isoWeekday:!1,E=dl(T)||T===!0,A={};let O=l,R,j;if(E&&(O=+a.startOf(O,"isoWeek",T)),O=+a.startOf(O,E?"day":C),a.diff(h,l,C)>1e5*k)throw new Error(l+" and "+h+" are too far apart with stepSize of "+k+" "+C);const X=p.ticks.source==="data"&&this.getDataTimestamps();for(R=O,j=0;R<h;R=+a.add(R,k,C),j++)_m(A,R,X);return(R===h||p.bounds==="ticks"||j===1)&&_m(A,R,X),Object.keys(A).sort(xm).map(ne=>+ne)}getLabelForValue(a){const l=this._adapter,h=this.options.time;return h.tooltipFormat?l.format(a,h.tooltipFormat):l.format(a,h.displayFormats.datetime)}format(a,l){const p=this.options.time.displayFormats,v=this._unit,C=l||p[v];return this._adapter.format(a,C)}_tickFormatFunction(a,l,h,p){const v=this.options,C=v.ticks.callback;if(C)return on(C,[a,l,h],this);const k=v.time.displayFormats,T=this._unit,E=this._majorUnit,A=T&&k[T],O=E&&k[E],R=h[l],j=E&&O&&R&&R.major;return this._adapter.format(a,p||(j?O:A))}generateTickLabels(a){let l,h,p;for(l=0,h=a.length;l<h;++l)p=a[l],p.label=this._tickFormatFunction(p.value,l,a)}getDecimalForValue(a){return a===null?NaN:(a-this.min)/(this.max-this.min)}getPixelForValue(a){const l=this._offsets,h=this.getDecimalForValue(a);return this.getPixelForDecimal((l.start+h)*l.factor)}getValueForPixel(a){const l=this._offsets,h=this.getDecimalForPixel(a)/l.factor-l.end;return this.min+h*(this.max-this.min)}_getLabelSize(a){const l=this.options.ticks,h=this.ctx.measureText(a).width,p=Cs(this.isHorizontal()?l.maxRotation:l.minRotation),v=Math.cos(p),C=Math.sin(p),k=this._resolveTickFontOptions(0).size;return{w:h*v+k*C,h:h*C+k*v}}_getLabelCapacity(a){const l=this.options.time,h=l.displayFormats,p=h[l.unit]||h.millisecond,v=this._tickFormatFunction(a,0,km(this,[a],this._majorUnit),p),C=this._getLabelSize(v),k=Math.floor(this.isHorizontal()?this.width/C.w:this.height/C.h)-1;return k>0?k:1}getDataTimestamps(){let a=this._cache.data||[],l,h;if(a.length)return a;const p=this.getMatchingVisibleMetas();if(this._normalized&&p.length)return this._cache.data=p[0].controller.getAllParsedValues(this);for(l=0,h=p.length;l<h;++l)a=a.concat(p[l].controller.getAllParsedValues(this));return this._cache.data=this.normalize(a)}getLabelTimestamps(){const a=this._cache.labels||[];let l,h;if(a.length)return a;const p=this.getLabels();for(l=0,h=p.length;l<h;++l)a.push(Cm(this,p[l]));return this._cache.labels=this._normalized?a:this.normalize(a)}normalize(a){return v0(a.sort(xm))}}Fe(Wu,"id","time"),Fe(Wu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ah(d,a,l){let h=0,p=d.length-1,v,C,k,T;l?(a>=d[h].pos&&a<=d[p].pos&&({lo:h,hi:p}=Ma(d,"pos",a)),{pos:v,time:k}=d[h],{pos:C,time:T}=d[p]):(a>=d[h].time&&a<=d[p].time&&({lo:h,hi:p}=Ma(d,"time",a)),{time:v,pos:k}=d[h],{time:C,pos:T}=d[p]);const E=C-v;return E?k+(T-k)*(a-v)/E:k}class op extends Wu{constructor(a){super(a),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const a=this._getTimestampsForTable(),l=this._table=this.buildLookupTable(a);this._minPos=ah(l,this.min),this._tableRange=ah(l,this.max)-this._minPos,super.initOffsets(a)}buildLookupTable(a){const{min:l,max:h}=this,p=[],v=[];let C,k,T,E,A;for(C=0,k=a.length;C<k;++C)E=a[C],E>=l&&E<=h&&p.push(E);if(p.length<2)return[{time:l,pos:0},{time:h,pos:1}];for(C=0,k=p.length;C<k;++C)A=p[C+1],T=p[C-1],E=p[C],Math.round((A+T)/2)!==E&&v.push({time:E,pos:C/(k-1)});return v}_generate(){const a=this.min,l=this.max;let h=super.getDataTimestamps();return(!h.includes(a)||!h.length)&&h.splice(0,0,a),(!h.includes(l)||h.length===1)&&h.push(l),h.sort((p,v)=>p-v)}_getTimestampsForTable(){let a=this._cache.all||[];if(a.length)return a;const l=this.getDataTimestamps(),h=this.getLabelTimestamps();return l.length&&h.length?a=this.normalize(l.concat(h)):a=l.length?l:h,a=this._cache.all=a,a}getDecimalForValue(a){return(ah(this._table,a)-this._minPos)/this._tableRange}getValueForPixel(a){const l=this._offsets,h=this.getDecimalForPixel(a)/l.factor-l.end;return ah(this._table,h*this._tableRange+this._minPos,!0)}}Fe(op,"id","timeseries"),Fe(op,"defaults",Wu.defaults);var Qk=Object.freeze({__proto__:null,CategoryScale:np,LinearScale:ip,LogarithmicScale:sp,RadialLinearScale:Eu,TimeScale:Wu,TimeSeriesScale:op});const eS=[rw,P_,Ak,Qk],rv=6048e5,tS=864e5,$u=6e4,qu=36e5,nS=1e3,Sm=Symbol.for("constructDateFrom");function An(d,a){return typeof d=="function"?d(a):d&&typeof d=="object"&&Sm in d?d[Sm](a):d instanceof Date?new d.constructor(a):new Date(a)}function Et(d,a){return An(a||d,d)}function Oh(d,a,l){const h=Et(d,l==null?void 0:l.in);return isNaN(a)?An((l==null?void 0:l.in)||d,NaN):(a&&h.setDate(h.getDate()+a),h)}function Dp(d,a,l){const h=Et(d,l==null?void 0:l.in);if(isNaN(a))return An(d,NaN);if(!a)return h;const p=h.getDate(),v=An(d,h.getTime());v.setMonth(h.getMonth()+a+1,0);const C=v.getDate();return p>=C?v:(h.setFullYear(v.getFullYear(),v.getMonth(),p),h)}function Ep(d,a,l){return An(d,+Et(d)+a)}function iS(d,a,l){return Ep(d,a*qu)}let sS={};function fr(){return sS}function ta(d,a){var k,T,E,A;const l=fr(),h=(a==null?void 0:a.weekStartsOn)??((T=(k=a==null?void 0:a.locale)==null?void 0:k.options)==null?void 0:T.weekStartsOn)??l.weekStartsOn??((A=(E=l.locale)==null?void 0:E.options)==null?void 0:A.weekStartsOn)??0,p=Et(d,a==null?void 0:a.in),v=p.getDay(),C=(v<h?7:0)+v-h;return p.setDate(p.getDate()-C),p.setHours(0,0,0,0),p}function pl(d,a){return ta(d,{...a,weekStartsOn:1})}function lv(d,a){const l=Et(d,a==null?void 0:a.in),h=l.getFullYear(),p=An(l,0);p.setFullYear(h+1,0,4),p.setHours(0,0,0,0);const v=pl(p),C=An(l,0);C.setFullYear(h,0,4),C.setHours(0,0,0,0);const k=pl(C);return l.getTime()>=v.getTime()?h+1:l.getTime()>=k.getTime()?h:h-1}function Th(d){const a=Et(d),l=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return l.setUTCFullYear(a.getFullYear()),+d-+l}function pr(d,...a){const l=An.bind(null,a.find(h=>typeof h=="object"));return a.map(l)}function rp(d,a){const l=Et(d,a==null?void 0:a.in);return l.setHours(0,0,0,0),l}function uv(d,a,l){const[h,p]=pr(l==null?void 0:l.in,d,a),v=rp(h),C=rp(p),k=+v-Th(v),T=+C-Th(C);return Math.round((k-T)/tS)}function aS(d,a){const l=lv(d,a),h=An(d,0);return h.setFullYear(l,0,4),h.setHours(0,0,0,0),pl(h)}function oS(d,a,l){const h=Et(d,l==null?void 0:l.in);return h.setTime(h.getTime()+a*$u),h}function rS(d,a,l){return Dp(d,a*3,l)}function lS(d,a,l){return Ep(d,a*1e3)}function uS(d,a,l){return Oh(d,a*7,l)}function cS(d,a,l){return Dp(d,a*12,l)}function Ou(d,a){const l=+Et(d)-+Et(a);return l<0?-1:l>0?1:l}function dS(d){return d instanceof Date||typeof d=="object"&&Object.prototype.toString.call(d)==="[object Date]"}function cv(d){return!(!dS(d)&&typeof d!="number"||isNaN(+Et(d)))}function hS(d,a,l){const[h,p]=pr(l==null?void 0:l.in,d,a),v=h.getFullYear()-p.getFullYear(),C=h.getMonth()-p.getMonth();return v*12+C}function fS(d,a,l){const[h,p]=pr(l==null?void 0:l.in,d,a);return h.getFullYear()-p.getFullYear()}function dv(d,a,l){const[h,p]=pr(l==null?void 0:l.in,d,a),v=Tm(h,p),C=Math.abs(uv(h,p));h.setDate(h.getDate()-v*C);const k=+(Tm(h,p)===-v),T=v*(C-k);return T===0?0:T}function Tm(d,a){const l=d.getFullYear()-a.getFullYear()||d.getMonth()-a.getMonth()||d.getDate()-a.getDate()||d.getHours()-a.getHours()||d.getMinutes()-a.getMinutes()||d.getSeconds()-a.getSeconds()||d.getMilliseconds()-a.getMilliseconds();return l<0?-1:l>0?1:l}function Yu(d){return a=>{const h=(d?Math[d]:Math.trunc)(a);return h===0?0:h}}function pS(d,a,l){const[h,p]=pr(l==null?void 0:l.in,d,a),v=(+h-+p)/qu;return Yu(l==null?void 0:l.roundingMethod)(v)}function Mp(d,a){return+Et(d)-+Et(a)}function gS(d,a,l){const h=Mp(d,a)/$u;return Yu(l==null?void 0:l.roundingMethod)(h)}function hv(d,a){const l=Et(d,a==null?void 0:a.in);return l.setHours(23,59,59,999),l}function fv(d,a){const l=Et(d,a==null?void 0:a.in),h=l.getMonth();return l.setFullYear(l.getFullYear(),h+1,0),l.setHours(23,59,59,999),l}function mS(d,a){const l=Et(d,a==null?void 0:a.in);return+hv(l,a)==+fv(l,a)}function pv(d,a,l){const[h,p,v]=pr(l==null?void 0:l.in,d,d,a),C=Ou(p,v),k=Math.abs(hS(p,v));if(k<1)return 0;p.getMonth()===1&&p.getDate()>27&&p.setDate(30),p.setMonth(p.getMonth()-C*k);let T=Ou(p,v)===-C;mS(h)&&k===1&&Ou(h,v)===1&&(T=!1);const E=C*(k-+T);return E===0?0:E}function vS(d,a,l){const h=pv(d,a,l)/3;return Yu(l==null?void 0:l.roundingMethod)(h)}function bS(d,a,l){const h=Mp(d,a)/1e3;return Yu(l==null?void 0:l.roundingMethod)(h)}function yS(d,a,l){const h=dv(d,a,l)/7;return Yu(l==null?void 0:l.roundingMethod)(h)}function xS(d,a,l){const[h,p]=pr(l==null?void 0:l.in,d,a),v=Ou(h,p),C=Math.abs(fS(h,p));h.setFullYear(1584),p.setFullYear(1584);const k=Ou(h,p)===-v,T=v*(C-+k);return T===0?0:T}function CS(d,a){const l=Et(d,a==null?void 0:a.in),h=l.getMonth(),p=h-h%3;return l.setMonth(p,1),l.setHours(0,0,0,0),l}function wS(d,a){const l=Et(d,a==null?void 0:a.in);return l.setDate(1),l.setHours(0,0,0,0),l}function _S(d,a){const l=Et(d,a==null?void 0:a.in),h=l.getFullYear();return l.setFullYear(h+1,0,0),l.setHours(23,59,59,999),l}function gv(d,a){const l=Et(d,a==null?void 0:a.in);return l.setFullYear(l.getFullYear(),0,1),l.setHours(0,0,0,0),l}function kS(d,a){const l=Et(d,a==null?void 0:a.in);return l.setMinutes(59,59,999),l}function SS(d,a){var k,T;const l=fr(),h=l.weekStartsOn??((T=(k=l.locale)==null?void 0:k.options)==null?void 0:T.weekStartsOn)??0,p=Et(d,a==null?void 0:a.in),v=p.getDay(),C=(v<h?-7:0)+6-(v-h);return p.setDate(p.getDate()+C),p.setHours(23,59,59,999),p}function TS(d,a){const l=Et(d,a==null?void 0:a.in);return l.setSeconds(59,999),l}function DS(d,a){const l=Et(d,a==null?void 0:a.in),h=l.getMonth(),p=h-h%3+3;return l.setMonth(p,0),l.setHours(23,59,59,999),l}function ES(d,a){const l=Et(d,a==null?void 0:a.in);return l.setMilliseconds(999),l}const MS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AS=(d,a,l)=>{let h;const p=MS[d];return typeof p=="string"?h=p:a===1?h=p.one:h=p.other.replace("{{count}}",a.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+h:h+" ago":h};function zf(d){return(a={})=>{const l=a.width?String(a.width):d.defaultWidth;return d.formats[l]||d.formats[d.defaultWidth]}}const IS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OS={date:zf({formats:IS,defaultWidth:"full"}),time:zf({formats:FS,defaultWidth:"full"}),dateTime:zf({formats:LS,defaultWidth:"full"})},PS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BS=(d,a,l,h)=>PS[d];function yu(d){return(a,l)=>{const h=l!=null&&l.context?String(l.context):"standalone";let p;if(h==="formatting"&&d.formattingValues){const C=d.defaultFormattingWidth||d.defaultWidth,k=l!=null&&l.width?String(l.width):C;p=d.formattingValues[k]||d.formattingValues[C]}else{const C=d.defaultWidth,k=l!=null&&l.width?String(l.width):d.defaultWidth;p=d.values[k]||d.values[C]}const v=d.argumentCallback?d.argumentCallback(a):a;return p[v]}}const RS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jS=(d,a)=>{const l=Number(d),h=l%100;if(h>20||h<10)switch(h%10){case 1:return l+"st";case 2:return l+"nd";case 3:return l+"rd"}return l+"th"},US={ordinalNumber:jS,era:yu({values:RS,defaultWidth:"wide"}),quarter:yu({values:NS,defaultWidth:"wide",argumentCallback:d=>d-1}),month:yu({values:zS,defaultWidth:"wide"}),day:yu({values:HS,defaultWidth:"wide"}),dayPeriod:yu({values:VS,defaultWidth:"wide",formattingValues:WS,defaultFormattingWidth:"wide"})};function xu(d){return(a,l={})=>{const h=l.width,p=h&&d.matchPatterns[h]||d.matchPatterns[d.defaultMatchWidth],v=a.match(p);if(!v)return null;const C=v[0],k=h&&d.parsePatterns[h]||d.parsePatterns[d.defaultParseWidth],T=Array.isArray(k)?qS(k,O=>O.test(C)):$S(k,O=>O.test(C));let E;E=d.valueCallback?d.valueCallback(T):T,E=l.valueCallback?l.valueCallback(E):E;const A=a.slice(C.length);return{value:E,rest:A}}}function $S(d,a){for(const l in d)if(Object.prototype.hasOwnProperty.call(d,l)&&a(d[l]))return l}function qS(d,a){for(let l=0;l<d.length;l++)if(a(d[l]))return l}function YS(d){return(a,l={})=>{const h=a.match(d.matchPattern);if(!h)return null;const p=h[0],v=a.match(d.parsePattern);if(!v)return null;let C=d.valueCallback?d.valueCallback(v[0]):v[0];C=l.valueCallback?l.valueCallback(C):C;const k=a.slice(p.length);return{value:C,rest:k}}}const GS=/^(\d+)(th|st|nd|rd)?/i,XS=/\d+/i,KS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZS={any:[/^b/i,/^(a|c)/i]},JS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QS={any:[/1/i,/2/i,/3/i,/4/i]},e4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},t4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},i4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},s4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},a4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},o4={ordinalNumber:YS({matchPattern:GS,parsePattern:XS,valueCallback:d=>parseInt(d,10)}),era:xu({matchPatterns:KS,defaultMatchWidth:"wide",parsePatterns:ZS,defaultParseWidth:"any"}),quarter:xu({matchPatterns:JS,defaultMatchWidth:"wide",parsePatterns:QS,defaultParseWidth:"any",valueCallback:d=>d+1}),month:xu({matchPatterns:e4,defaultMatchWidth:"wide",parsePatterns:t4,defaultParseWidth:"any"}),day:xu({matchPatterns:n4,defaultMatchWidth:"wide",parsePatterns:i4,defaultParseWidth:"any"}),dayPeriod:xu({matchPatterns:s4,defaultMatchWidth:"any",parsePatterns:a4,defaultParseWidth:"any"})},mv={code:"en-US",formatDistance:AS,formatLong:OS,formatRelative:BS,localize:US,match:o4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function r4(d,a){const l=Et(d,a==null?void 0:a.in);return uv(l,gv(l))+1}function vv(d,a){const l=Et(d,a==null?void 0:a.in),h=+pl(l)-+aS(l);return Math.round(h/rv)+1}function Ap(d,a){var A,O,R,j;const l=Et(d,a==null?void 0:a.in),h=l.getFullYear(),p=fr(),v=(a==null?void 0:a.firstWeekContainsDate)??((O=(A=a==null?void 0:a.locale)==null?void 0:A.options)==null?void 0:O.firstWeekContainsDate)??p.firstWeekContainsDate??((j=(R=p.locale)==null?void 0:R.options)==null?void 0:j.firstWeekContainsDate)??1,C=An((a==null?void 0:a.in)||d,0);C.setFullYear(h+1,0,v),C.setHours(0,0,0,0);const k=ta(C,a),T=An((a==null?void 0:a.in)||d,0);T.setFullYear(h,0,v),T.setHours(0,0,0,0);const E=ta(T,a);return+l>=+k?h+1:+l>=+E?h:h-1}function l4(d,a){var k,T,E,A;const l=fr(),h=(a==null?void 0:a.firstWeekContainsDate)??((T=(k=a==null?void 0:a.locale)==null?void 0:k.options)==null?void 0:T.firstWeekContainsDate)??l.firstWeekContainsDate??((A=(E=l.locale)==null?void 0:E.options)==null?void 0:A.firstWeekContainsDate)??1,p=Ap(d,a),v=An((a==null?void 0:a.in)||d,0);return v.setFullYear(p,0,h),v.setHours(0,0,0,0),ta(v,a)}function bv(d,a){const l=Et(d,a==null?void 0:a.in),h=+ta(l,a)-+l4(l,a);return Math.round(h/rv)+1}function Gt(d,a){const l=d<0?"-":"",h=Math.abs(d).toString().padStart(a,"0");return l+h}const vo={y(d,a){const l=d.getFullYear(),h=l>0?l:1-l;return Gt(a==="yy"?h%100:h,a.length)},M(d,a){const l=d.getMonth();return a==="M"?String(l+1):Gt(l+1,2)},d(d,a){return Gt(d.getDate(),a.length)},a(d,a){const l=d.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return l.toUpperCase();case"aaa":return l;case"aaaaa":return l[0];case"aaaa":default:return l==="am"?"a.m.":"p.m."}},h(d,a){return Gt(d.getHours()%12||12,a.length)},H(d,a){return Gt(d.getHours(),a.length)},m(d,a){return Gt(d.getMinutes(),a.length)},s(d,a){return Gt(d.getSeconds(),a.length)},S(d,a){const l=a.length,h=d.getMilliseconds(),p=Math.trunc(h*Math.pow(10,l-3));return Gt(p,a.length)}},ul={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dm={G:function(d,a,l){const h=d.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return l.era(h,{width:"abbreviated"});case"GGGGG":return l.era(h,{width:"narrow"});case"GGGG":default:return l.era(h,{width:"wide"})}},y:function(d,a,l){if(a==="yo"){const h=d.getFullYear(),p=h>0?h:1-h;return l.ordinalNumber(p,{unit:"year"})}return vo.y(d,a)},Y:function(d,a,l,h){const p=Ap(d,h),v=p>0?p:1-p;if(a==="YY"){const C=v%100;return Gt(C,2)}return a==="Yo"?l.ordinalNumber(v,{unit:"year"}):Gt(v,a.length)},R:function(d,a){const l=lv(d);return Gt(l,a.length)},u:function(d,a){const l=d.getFullYear();return Gt(l,a.length)},Q:function(d,a,l){const h=Math.ceil((d.getMonth()+1)/3);switch(a){case"Q":return String(h);case"QQ":return Gt(h,2);case"Qo":return l.ordinalNumber(h,{unit:"quarter"});case"QQQ":return l.quarter(h,{width:"abbreviated",context:"formatting"});case"QQQQQ":return l.quarter(h,{width:"narrow",context:"formatting"});case"QQQQ":default:return l.quarter(h,{width:"wide",context:"formatting"})}},q:function(d,a,l){const h=Math.ceil((d.getMonth()+1)/3);switch(a){case"q":return String(h);case"qq":return Gt(h,2);case"qo":return l.ordinalNumber(h,{unit:"quarter"});case"qqq":return l.quarter(h,{width:"abbreviated",context:"standalone"});case"qqqqq":return l.quarter(h,{width:"narrow",context:"standalone"});case"qqqq":default:return l.quarter(h,{width:"wide",context:"standalone"})}},M:function(d,a,l){const h=d.getMonth();switch(a){case"M":case"MM":return vo.M(d,a);case"Mo":return l.ordinalNumber(h+1,{unit:"month"});case"MMM":return l.month(h,{width:"abbreviated",context:"formatting"});case"MMMMM":return l.month(h,{width:"narrow",context:"formatting"});case"MMMM":default:return l.month(h,{width:"wide",context:"formatting"})}},L:function(d,a,l){const h=d.getMonth();switch(a){case"L":return String(h+1);case"LL":return Gt(h+1,2);case"Lo":return l.ordinalNumber(h+1,{unit:"month"});case"LLL":return l.month(h,{width:"abbreviated",context:"standalone"});case"LLLLL":return l.month(h,{width:"narrow",context:"standalone"});case"LLLL":default:return l.month(h,{width:"wide",context:"standalone"})}},w:function(d,a,l,h){const p=bv(d,h);return a==="wo"?l.ordinalNumber(p,{unit:"week"}):Gt(p,a.length)},I:function(d,a,l){const h=vv(d);return a==="Io"?l.ordinalNumber(h,{unit:"week"}):Gt(h,a.length)},d:function(d,a,l){return a==="do"?l.ordinalNumber(d.getDate(),{unit:"date"}):vo.d(d,a)},D:function(d,a,l){const h=r4(d);return a==="Do"?l.ordinalNumber(h,{unit:"dayOfYear"}):Gt(h,a.length)},E:function(d,a,l){const h=d.getDay();switch(a){case"E":case"EE":case"EEE":return l.day(h,{width:"abbreviated",context:"formatting"});case"EEEEE":return l.day(h,{width:"narrow",context:"formatting"});case"EEEEEE":return l.day(h,{width:"short",context:"formatting"});case"EEEE":default:return l.day(h,{width:"wide",context:"formatting"})}},e:function(d,a,l,h){const p=d.getDay(),v=(p-h.weekStartsOn+8)%7||7;switch(a){case"e":return String(v);case"ee":return Gt(v,2);case"eo":return l.ordinalNumber(v,{unit:"day"});case"eee":return l.day(p,{width:"abbreviated",context:"formatting"});case"eeeee":return l.day(p,{width:"narrow",context:"formatting"});case"eeeeee":return l.day(p,{width:"short",context:"formatting"});case"eeee":default:return l.day(p,{width:"wide",context:"formatting"})}},c:function(d,a,l,h){const p=d.getDay(),v=(p-h.weekStartsOn+8)%7||7;switch(a){case"c":return String(v);case"cc":return Gt(v,a.length);case"co":return l.ordinalNumber(v,{unit:"day"});case"ccc":return l.day(p,{width:"abbreviated",context:"standalone"});case"ccccc":return l.day(p,{width:"narrow",context:"standalone"});case"cccccc":return l.day(p,{width:"short",context:"standalone"});case"cccc":default:return l.day(p,{width:"wide",context:"standalone"})}},i:function(d,a,l){const h=d.getDay(),p=h===0?7:h;switch(a){case"i":return String(p);case"ii":return Gt(p,a.length);case"io":return l.ordinalNumber(p,{unit:"day"});case"iii":return l.day(h,{width:"abbreviated",context:"formatting"});case"iiiii":return l.day(h,{width:"narrow",context:"formatting"});case"iiiiii":return l.day(h,{width:"short",context:"formatting"});case"iiii":default:return l.day(h,{width:"wide",context:"formatting"})}},a:function(d,a,l){const p=d.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return l.dayPeriod(p,{width:"abbreviated",context:"formatting"});case"aaa":return l.dayPeriod(p,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return l.dayPeriod(p,{width:"narrow",context:"formatting"});case"aaaa":default:return l.dayPeriod(p,{width:"wide",context:"formatting"})}},b:function(d,a,l){const h=d.getHours();let p;switch(h===12?p=ul.noon:h===0?p=ul.midnight:p=h/12>=1?"pm":"am",a){case"b":case"bb":return l.dayPeriod(p,{width:"abbreviated",context:"formatting"});case"bbb":return l.dayPeriod(p,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return l.dayPeriod(p,{width:"narrow",context:"formatting"});case"bbbb":default:return l.dayPeriod(p,{width:"wide",context:"formatting"})}},B:function(d,a,l){const h=d.getHours();let p;switch(h>=17?p=ul.evening:h>=12?p=ul.afternoon:h>=4?p=ul.morning:p=ul.night,a){case"B":case"BB":case"BBB":return l.dayPeriod(p,{width:"abbreviated",context:"formatting"});case"BBBBB":return l.dayPeriod(p,{width:"narrow",context:"formatting"});case"BBBB":default:return l.dayPeriod(p,{width:"wide",context:"formatting"})}},h:function(d,a,l){if(a==="ho"){let h=d.getHours()%12;return h===0&&(h=12),l.ordinalNumber(h,{unit:"hour"})}return vo.h(d,a)},H:function(d,a,l){return a==="Ho"?l.ordinalNumber(d.getHours(),{unit:"hour"}):vo.H(d,a)},K:function(d,a,l){const h=d.getHours()%12;return a==="Ko"?l.ordinalNumber(h,{unit:"hour"}):Gt(h,a.length)},k:function(d,a,l){let h=d.getHours();return h===0&&(h=24),a==="ko"?l.ordinalNumber(h,{unit:"hour"}):Gt(h,a.length)},m:function(d,a,l){return a==="mo"?l.ordinalNumber(d.getMinutes(),{unit:"minute"}):vo.m(d,a)},s:function(d,a,l){return a==="so"?l.ordinalNumber(d.getSeconds(),{unit:"second"}):vo.s(d,a)},S:function(d,a){return vo.S(d,a)},X:function(d,a,l){const h=d.getTimezoneOffset();if(h===0)return"Z";switch(a){case"X":return Mm(h);case"XXXX":case"XX":return or(h);case"XXXXX":case"XXX":default:return or(h,":")}},x:function(d,a,l){const h=d.getTimezoneOffset();switch(a){case"x":return Mm(h);case"xxxx":case"xx":return or(h);case"xxxxx":case"xxx":default:return or(h,":")}},O:function(d,a,l){const h=d.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Em(h,":");case"OOOO":default:return"GMT"+or(h,":")}},z:function(d,a,l){const h=d.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Em(h,":");case"zzzz":default:return"GMT"+or(h,":")}},t:function(d,a,l){const h=Math.trunc(+d/1e3);return Gt(h,a.length)},T:function(d,a,l){return Gt(+d,a.length)}};function Em(d,a=""){const l=d>0?"-":"+",h=Math.abs(d),p=Math.trunc(h/60),v=h%60;return v===0?l+String(p):l+String(p)+a+Gt(v,2)}function Mm(d,a){return d%60===0?(d>0?"-":"+")+Gt(Math.abs(d)/60,2):or(d,a)}function or(d,a=""){const l=d>0?"-":"+",h=Math.abs(d),p=Gt(Math.trunc(h/60),2),v=Gt(h%60,2);return l+p+a+v}const Am=(d,a)=>{switch(d){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},yv=(d,a)=>{switch(d){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},u4=(d,a)=>{const l=d.match(/(P+)(p+)?/)||[],h=l[1],p=l[2];if(!p)return Am(d,a);let v;switch(h){case"P":v=a.dateTime({width:"short"});break;case"PP":v=a.dateTime({width:"medium"});break;case"PPP":v=a.dateTime({width:"long"});break;case"PPPP":default:v=a.dateTime({width:"full"});break}return v.replace("{{date}}",Am(h,a)).replace("{{time}}",yv(p,a))},lp={p:yv,P:u4},c4=/^D+$/,d4=/^Y+$/,h4=["D","DD","YY","YYYY"];function xv(d){return c4.test(d)}function Cv(d){return d4.test(d)}function up(d,a,l){const h=f4(d,a,l);if(console.warn(h),h4.includes(d))throw new RangeError(h)}function f4(d,a,l){const h=d[0]==="Y"?"years":"days of the month";return`Use \`${d.toLowerCase()}\` instead of \`${d}\` (in \`${a}\`) for formatting ${h} to the input \`${l}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const p4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m4=/^'([^]*?)'?$/,v4=/''/g,b4=/[a-zA-Z]/;function y4(d,a,l){var A,O,R,j,X,ne,ie,oe;const h=fr(),p=(l==null?void 0:l.locale)??h.locale??mv,v=(l==null?void 0:l.firstWeekContainsDate)??((O=(A=l==null?void 0:l.locale)==null?void 0:A.options)==null?void 0:O.firstWeekContainsDate)??h.firstWeekContainsDate??((j=(R=h.locale)==null?void 0:R.options)==null?void 0:j.firstWeekContainsDate)??1,C=(l==null?void 0:l.weekStartsOn)??((ne=(X=l==null?void 0:l.locale)==null?void 0:X.options)==null?void 0:ne.weekStartsOn)??h.weekStartsOn??((oe=(ie=h.locale)==null?void 0:ie.options)==null?void 0:oe.weekStartsOn)??0,k=Et(d,l==null?void 0:l.in);if(!cv(k))throw new RangeError("Invalid time value");let T=a.match(g4).map(ee=>{const le=ee[0];if(le==="p"||le==="P"){const Z=lp[le];return Z(ee,p.formatLong)}return ee}).join("").match(p4).map(ee=>{if(ee==="''")return{isToken:!1,value:"'"};const le=ee[0];if(le==="'")return{isToken:!1,value:x4(ee)};if(Dm[le])return{isToken:!0,value:ee};if(le.match(b4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");return{isToken:!1,value:ee}});p.localize.preprocessor&&(T=p.localize.preprocessor(k,T));const E={firstWeekContainsDate:v,weekStartsOn:C,locale:p};return T.map(ee=>{if(!ee.isToken)return ee.value;const le=ee.value;(!(l!=null&&l.useAdditionalWeekYearTokens)&&Cv(le)||!(l!=null&&l.useAdditionalDayOfYearTokens)&&xv(le))&&up(le,a,String(d));const Z=Dm[le[0]];return Z(k,le,p.localize,E)}).join("")}function x4(d){const a=d.match(m4);return a?a[1].replace(v4,"'"):d}function C4(){return Object.assign({},fr())}function w4(d,a){const l=Et(d,a==null?void 0:a.in).getDay();return l===0?7:l}function _4(d,a){const l=k4(a)?new a(0):An(a,0);return l.setFullYear(d.getFullYear(),d.getMonth(),d.getDate()),l.setHours(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()),l}function k4(d){var a;return typeof d=="function"&&((a=d.prototype)==null?void 0:a.constructor)===d}const S4=10;class wv{constructor(){Fe(this,"subPriority",0)}validate(a,l){return!0}}class T4 extends wv{constructor(a,l,h,p,v){super(),this.value=a,this.validateValue=l,this.setValue=h,this.priority=p,v&&(this.subPriority=v)}validate(a,l){return this.validateValue(a,this.value,l)}set(a,l,h){return this.setValue(a,l,this.value,h)}}class D4 extends wv{constructor(l,h){super();Fe(this,"priority",S4);Fe(this,"subPriority",-1);this.context=l||(p=>An(h,p))}set(l,h){return h.timestampIsSet?l:An(l,_4(l,this.context))}}class jt{run(a,l,h,p){const v=this.parse(a,l,h,p);return v?{setter:new T4(v.value,this.validate,this.set,this.priority,this.subPriority),rest:v.rest}:null}validate(a,l,h){return!0}}class E4 extends jt{constructor(){super(...arguments);Fe(this,"priority",140);Fe(this,"incompatibleTokens",["R","u","t","T"])}parse(l,h,p){switch(h){case"G":case"GG":case"GGG":return p.era(l,{width:"abbreviated"})||p.era(l,{width:"narrow"});case"GGGGG":return p.era(l,{width:"narrow"});case"GGGG":default:return p.era(l,{width:"wide"})||p.era(l,{width:"abbreviated"})||p.era(l,{width:"narrow"})}}set(l,h,p){return h.era=p,l.setFullYear(p,0,1),l.setHours(0,0,0,0),l}}const Hn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Js={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Vn(d,a){return d&&{value:a(d.value),rest:d.rest}}function _n(d,a){const l=a.match(d);return l?{value:parseInt(l[0],10),rest:a.slice(l[0].length)}:null}function Qs(d,a){const l=a.match(d);if(!l)return null;if(l[0]==="Z")return{value:0,rest:a.slice(1)};const h=l[1]==="+"?1:-1,p=l[2]?parseInt(l[2],10):0,v=l[3]?parseInt(l[3],10):0,C=l[5]?parseInt(l[5],10):0;return{value:h*(p*qu+v*$u+C*nS),rest:a.slice(l[0].length)}}function _v(d){return _n(Hn.anyDigitsSigned,d)}function In(d,a){switch(d){case 1:return _n(Hn.singleDigit,a);case 2:return _n(Hn.twoDigits,a);case 3:return _n(Hn.threeDigits,a);case 4:return _n(Hn.fourDigits,a);default:return _n(new RegExp("^\\d{1,"+d+"}"),a)}}function Dh(d,a){switch(d){case 1:return _n(Hn.singleDigitSigned,a);case 2:return _n(Hn.twoDigitsSigned,a);case 3:return _n(Hn.threeDigitsSigned,a);case 4:return _n(Hn.fourDigitsSigned,a);default:return _n(new RegExp("^-?\\d{1,"+d+"}"),a)}}function Ip(d){switch(d){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function kv(d,a){const l=a>0,h=l?a:1-a;let p;if(h<=50)p=d||100;else{const v=h+50,C=Math.trunc(v/100)*100,k=d>=v%100;p=d+C-(k?100:0)}return l?p:1-p}function Sv(d){return d%400===0||d%4===0&&d%100!==0}class M4 extends jt{constructor(){super(...arguments);Fe(this,"priority",130);Fe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(l,h,p){const v=C=>({year:C,isTwoDigitYear:h==="yy"});switch(h){case"y":return Vn(In(4,l),v);case"yo":return Vn(p.ordinalNumber(l,{unit:"year"}),v);default:return Vn(In(h.length,l),v)}}validate(l,h){return h.isTwoDigitYear||h.year>0}set(l,h,p){const v=l.getFullYear();if(p.isTwoDigitYear){const k=kv(p.year,v);return l.setFullYear(k,0,1),l.setHours(0,0,0,0),l}const C=!("era"in h)||h.era===1?p.year:1-p.year;return l.setFullYear(C,0,1),l.setHours(0,0,0,0),l}}class A4 extends jt{constructor(){super(...arguments);Fe(this,"priority",130);Fe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(l,h,p){const v=C=>({year:C,isTwoDigitYear:h==="YY"});switch(h){case"Y":return Vn(In(4,l),v);case"Yo":return Vn(p.ordinalNumber(l,{unit:"year"}),v);default:return Vn(In(h.length,l),v)}}validate(l,h){return h.isTwoDigitYear||h.year>0}set(l,h,p,v){const C=Ap(l,v);if(p.isTwoDigitYear){const T=kv(p.year,C);return l.setFullYear(T,0,v.firstWeekContainsDate),l.setHours(0,0,0,0),ta(l,v)}const k=!("era"in h)||h.era===1?p.year:1-p.year;return l.setFullYear(k,0,v.firstWeekContainsDate),l.setHours(0,0,0,0),ta(l,v)}}class I4 extends jt{constructor(){super(...arguments);Fe(this,"priority",130);Fe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(l,h){return Dh(h==="R"?4:h.length,l)}set(l,h,p){const v=An(l,0);return v.setFullYear(p,0,4),v.setHours(0,0,0,0),pl(v)}}class F4 extends jt{constructor(){super(...arguments);Fe(this,"priority",130);Fe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(l,h){return Dh(h==="u"?4:h.length,l)}set(l,h,p){return l.setFullYear(p,0,1),l.setHours(0,0,0,0),l}}class L4 extends jt{constructor(){super(...arguments);Fe(this,"priority",120);Fe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(l,h,p){switch(h){case"Q":case"QQ":return In(h.length,l);case"Qo":return p.ordinalNumber(l,{unit:"quarter"});case"QQQ":return p.quarter(l,{width:"abbreviated",context:"formatting"})||p.quarter(l,{width:"narrow",context:"formatting"});case"QQQQQ":return p.quarter(l,{width:"narrow",context:"formatting"});case"QQQQ":default:return p.quarter(l,{width:"wide",context:"formatting"})||p.quarter(l,{width:"abbreviated",context:"formatting"})||p.quarter(l,{width:"narrow",context:"formatting"})}}validate(l,h){return h>=1&&h<=4}set(l,h,p){return l.setMonth((p-1)*3,1),l.setHours(0,0,0,0),l}}class O4 extends jt{constructor(){super(...arguments);Fe(this,"priority",120);Fe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(l,h,p){switch(h){case"q":case"qq":return In(h.length,l);case"qo":return p.ordinalNumber(l,{unit:"quarter"});case"qqq":return p.quarter(l,{width:"abbreviated",context:"standalone"})||p.quarter(l,{width:"narrow",context:"standalone"});case"qqqqq":return p.quarter(l,{width:"narrow",context:"standalone"});case"qqqq":default:return p.quarter(l,{width:"wide",context:"standalone"})||p.quarter(l,{width:"abbreviated",context:"standalone"})||p.quarter(l,{width:"narrow",context:"standalone"})}}validate(l,h){return h>=1&&h<=4}set(l,h,p){return l.setMonth((p-1)*3,1),l.setHours(0,0,0,0),l}}class P4 extends jt{constructor(){super(...arguments);Fe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Fe(this,"priority",110)}parse(l,h,p){const v=C=>C-1;switch(h){case"M":return Vn(_n(Hn.month,l),v);case"MM":return Vn(In(2,l),v);case"Mo":return Vn(p.ordinalNumber(l,{unit:"month"}),v);case"MMM":return p.month(l,{width:"abbreviated",context:"formatting"})||p.month(l,{width:"narrow",context:"formatting"});case"MMMMM":return p.month(l,{width:"narrow",context:"formatting"});case"MMMM":default:return p.month(l,{width:"wide",context:"formatting"})||p.month(l,{width:"abbreviated",context:"formatting"})||p.month(l,{width:"narrow",context:"formatting"})}}validate(l,h){return h>=0&&h<=11}set(l,h,p){return l.setMonth(p,1),l.setHours(0,0,0,0),l}}class B4 extends jt{constructor(){super(...arguments);Fe(this,"priority",110);Fe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(l,h,p){const v=C=>C-1;switch(h){case"L":return Vn(_n(Hn.month,l),v);case"LL":return Vn(In(2,l),v);case"Lo":return Vn(p.ordinalNumber(l,{unit:"month"}),v);case"LLL":return p.month(l,{width:"abbreviated",context:"standalone"})||p.month(l,{width:"narrow",context:"standalone"});case"LLLLL":return p.month(l,{width:"narrow",context:"standalone"});case"LLLL":default:return p.month(l,{width:"wide",context:"standalone"})||p.month(l,{width:"abbreviated",context:"standalone"})||p.month(l,{width:"narrow",context:"standalone"})}}validate(l,h){return h>=0&&h<=11}set(l,h,p){return l.setMonth(p,1),l.setHours(0,0,0,0),l}}function R4(d,a,l){const h=Et(d,l==null?void 0:l.in),p=bv(h,l)-a;return h.setDate(h.getDate()-p*7),Et(h,l==null?void 0:l.in)}class N4 extends jt{constructor(){super(...arguments);Fe(this,"priority",100);Fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(l,h,p){switch(h){case"w":return _n(Hn.week,l);case"wo":return p.ordinalNumber(l,{unit:"week"});default:return In(h.length,l)}}validate(l,h){return h>=1&&h<=53}set(l,h,p,v){return ta(R4(l,p,v),v)}}function z4(d,a,l){const h=Et(d,l==null?void 0:l.in),p=vv(h,l)-a;return h.setDate(h.getDate()-p*7),h}class H4 extends jt{constructor(){super(...arguments);Fe(this,"priority",100);Fe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(l,h,p){switch(h){case"I":return _n(Hn.week,l);case"Io":return p.ordinalNumber(l,{unit:"week"});default:return In(h.length,l)}}validate(l,h){return h>=1&&h<=53}set(l,h,p){return pl(z4(l,p))}}const V4=[31,28,31,30,31,30,31,31,30,31,30,31],W4=[31,29,31,30,31,30,31,31,30,31,30,31];class j4 extends jt{constructor(){super(...arguments);Fe(this,"priority",90);Fe(this,"subPriority",1);Fe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(l,h,p){switch(h){case"d":return _n(Hn.date,l);case"do":return p.ordinalNumber(l,{unit:"date"});default:return In(h.length,l)}}validate(l,h){const p=l.getFullYear(),v=Sv(p),C=l.getMonth();return v?h>=1&&h<=W4[C]:h>=1&&h<=V4[C]}set(l,h,p){return l.setDate(p),l.setHours(0,0,0,0),l}}class U4 extends jt{constructor(){super(...arguments);Fe(this,"priority",90);Fe(this,"subpriority",1);Fe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(l,h,p){switch(h){case"D":case"DD":return _n(Hn.dayOfYear,l);case"Do":return p.ordinalNumber(l,{unit:"date"});default:return In(h.length,l)}}validate(l,h){const p=l.getFullYear();return Sv(p)?h>=1&&h<=366:h>=1&&h<=365}set(l,h,p){return l.setMonth(0,p),l.setHours(0,0,0,0),l}}function Fp(d,a,l){var O,R,j,X;const h=fr(),p=(l==null?void 0:l.weekStartsOn)??((R=(O=l==null?void 0:l.locale)==null?void 0:O.options)==null?void 0:R.weekStartsOn)??h.weekStartsOn??((X=(j=h.locale)==null?void 0:j.options)==null?void 0:X.weekStartsOn)??0,v=Et(d,l==null?void 0:l.in),C=v.getDay(),T=(a%7+7)%7,E=7-p,A=a<0||a>6?a-(C+E)%7:(T+E)%7-(C+E)%7;return Oh(v,A,l)}class $4 extends jt{constructor(){super(...arguments);Fe(this,"priority",90);Fe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(l,h,p){switch(h){case"E":case"EE":case"EEE":return p.day(l,{width:"abbreviated",context:"formatting"})||p.day(l,{width:"short",context:"formatting"})||p.day(l,{width:"narrow",context:"formatting"});case"EEEEE":return p.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return p.day(l,{width:"short",context:"formatting"})||p.day(l,{width:"narrow",context:"formatting"});case"EEEE":default:return p.day(l,{width:"wide",context:"formatting"})||p.day(l,{width:"abbreviated",context:"formatting"})||p.day(l,{width:"short",context:"formatting"})||p.day(l,{width:"narrow",context:"formatting"})}}validate(l,h){return h>=0&&h<=6}set(l,h,p,v){return l=Fp(l,p,v),l.setHours(0,0,0,0),l}}class q4 extends jt{constructor(){super(...arguments);Fe(this,"priority",90);Fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(l,h,p,v){const C=k=>{const T=Math.floor((k-1)/7)*7;return(k+v.weekStartsOn+6)%7+T};switch(h){case"e":case"ee":return Vn(In(h.length,l),C);case"eo":return Vn(p.ordinalNumber(l,{unit:"day"}),C);case"eee":return p.day(l,{width:"abbreviated",context:"formatting"})||p.day(l,{width:"short",context:"formatting"})||p.day(l,{width:"narrow",context:"formatting"});case"eeeee":return p.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return p.day(l,{width:"short",context:"formatting"})||p.day(l,{width:"narrow",context:"formatting"});case"eeee":default:return p.day(l,{width:"wide",context:"formatting"})||p.day(l,{width:"abbreviated",context:"formatting"})||p.day(l,{width:"short",context:"formatting"})||p.day(l,{width:"narrow",context:"formatting"})}}validate(l,h){return h>=0&&h<=6}set(l,h,p,v){return l=Fp(l,p,v),l.setHours(0,0,0,0),l}}class Y4 extends jt{constructor(){super(...arguments);Fe(this,"priority",90);Fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(l,h,p,v){const C=k=>{const T=Math.floor((k-1)/7)*7;return(k+v.weekStartsOn+6)%7+T};switch(h){case"c":case"cc":return Vn(In(h.length,l),C);case"co":return Vn(p.ordinalNumber(l,{unit:"day"}),C);case"ccc":return p.day(l,{width:"abbreviated",context:"standalone"})||p.day(l,{width:"short",context:"standalone"})||p.day(l,{width:"narrow",context:"standalone"});case"ccccc":return p.day(l,{width:"narrow",context:"standalone"});case"cccccc":return p.day(l,{width:"short",context:"standalone"})||p.day(l,{width:"narrow",context:"standalone"});case"cccc":default:return p.day(l,{width:"wide",context:"standalone"})||p.day(l,{width:"abbreviated",context:"standalone"})||p.day(l,{width:"short",context:"standalone"})||p.day(l,{width:"narrow",context:"standalone"})}}validate(l,h){return h>=0&&h<=6}set(l,h,p,v){return l=Fp(l,p,v),l.setHours(0,0,0,0),l}}function G4(d,a,l){const h=Et(d,l==null?void 0:l.in),p=w4(h,l),v=a-p;return Oh(h,v,l)}class X4 extends jt{constructor(){super(...arguments);Fe(this,"priority",90);Fe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(l,h,p){const v=C=>C===0?7:C;switch(h){case"i":case"ii":return In(h.length,l);case"io":return p.ordinalNumber(l,{unit:"day"});case"iii":return Vn(p.day(l,{width:"abbreviated",context:"formatting"})||p.day(l,{width:"short",context:"formatting"})||p.day(l,{width:"narrow",context:"formatting"}),v);case"iiiii":return Vn(p.day(l,{width:"narrow",context:"formatting"}),v);case"iiiiii":return Vn(p.day(l,{width:"short",context:"formatting"})||p.day(l,{width:"narrow",context:"formatting"}),v);case"iiii":default:return Vn(p.day(l,{width:"wide",context:"formatting"})||p.day(l,{width:"abbreviated",context:"formatting"})||p.day(l,{width:"short",context:"formatting"})||p.day(l,{width:"narrow",context:"formatting"}),v)}}validate(l,h){return h>=1&&h<=7}set(l,h,p){return l=G4(l,p),l.setHours(0,0,0,0),l}}class K4 extends jt{constructor(){super(...arguments);Fe(this,"priority",80);Fe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(l,h,p){switch(h){case"a":case"aa":case"aaa":return p.dayPeriod(l,{width:"abbreviated",context:"formatting"})||p.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaaa":return p.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return p.dayPeriod(l,{width:"wide",context:"formatting"})||p.dayPeriod(l,{width:"abbreviated",context:"formatting"})||p.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,h,p){return l.setHours(Ip(p),0,0,0),l}}class Z4 extends jt{constructor(){super(...arguments);Fe(this,"priority",80);Fe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(l,h,p){switch(h){case"b":case"bb":case"bbb":return p.dayPeriod(l,{width:"abbreviated",context:"formatting"})||p.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbbb":return p.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return p.dayPeriod(l,{width:"wide",context:"formatting"})||p.dayPeriod(l,{width:"abbreviated",context:"formatting"})||p.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,h,p){return l.setHours(Ip(p),0,0,0),l}}class J4 extends jt{constructor(){super(...arguments);Fe(this,"priority",80);Fe(this,"incompatibleTokens",["a","b","t","T"])}parse(l,h,p){switch(h){case"B":case"BB":case"BBB":return p.dayPeriod(l,{width:"abbreviated",context:"formatting"})||p.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBBB":return p.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return p.dayPeriod(l,{width:"wide",context:"formatting"})||p.dayPeriod(l,{width:"abbreviated",context:"formatting"})||p.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,h,p){return l.setHours(Ip(p),0,0,0),l}}class Q4 extends jt{constructor(){super(...arguments);Fe(this,"priority",70);Fe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(l,h,p){switch(h){case"h":return _n(Hn.hour12h,l);case"ho":return p.ordinalNumber(l,{unit:"hour"});default:return In(h.length,l)}}validate(l,h){return h>=1&&h<=12}set(l,h,p){const v=l.getHours()>=12;return v&&p<12?l.setHours(p+12,0,0,0):!v&&p===12?l.setHours(0,0,0,0):l.setHours(p,0,0,0),l}}class eT extends jt{constructor(){super(...arguments);Fe(this,"priority",70);Fe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(l,h,p){switch(h){case"H":return _n(Hn.hour23h,l);case"Ho":return p.ordinalNumber(l,{unit:"hour"});default:return In(h.length,l)}}validate(l,h){return h>=0&&h<=23}set(l,h,p){return l.setHours(p,0,0,0),l}}class tT extends jt{constructor(){super(...arguments);Fe(this,"priority",70);Fe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(l,h,p){switch(h){case"K":return _n(Hn.hour11h,l);case"Ko":return p.ordinalNumber(l,{unit:"hour"});default:return In(h.length,l)}}validate(l,h){return h>=0&&h<=11}set(l,h,p){return l.getHours()>=12&&p<12?l.setHours(p+12,0,0,0):l.setHours(p,0,0,0),l}}class nT extends jt{constructor(){super(...arguments);Fe(this,"priority",70);Fe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(l,h,p){switch(h){case"k":return _n(Hn.hour24h,l);case"ko":return p.ordinalNumber(l,{unit:"hour"});default:return In(h.length,l)}}validate(l,h){return h>=1&&h<=24}set(l,h,p){const v=p<=24?p%24:p;return l.setHours(v,0,0,0),l}}class iT extends jt{constructor(){super(...arguments);Fe(this,"priority",60);Fe(this,"incompatibleTokens",["t","T"])}parse(l,h,p){switch(h){case"m":return _n(Hn.minute,l);case"mo":return p.ordinalNumber(l,{unit:"minute"});default:return In(h.length,l)}}validate(l,h){return h>=0&&h<=59}set(l,h,p){return l.setMinutes(p,0,0),l}}class sT extends jt{constructor(){super(...arguments);Fe(this,"priority",50);Fe(this,"incompatibleTokens",["t","T"])}parse(l,h,p){switch(h){case"s":return _n(Hn.second,l);case"so":return p.ordinalNumber(l,{unit:"second"});default:return In(h.length,l)}}validate(l,h){return h>=0&&h<=59}set(l,h,p){return l.setSeconds(p,0),l}}class aT extends jt{constructor(){super(...arguments);Fe(this,"priority",30);Fe(this,"incompatibleTokens",["t","T"])}parse(l,h){const p=v=>Math.trunc(v*Math.pow(10,-h.length+3));return Vn(In(h.length,l),p)}set(l,h,p){return l.setMilliseconds(p),l}}class oT extends jt{constructor(){super(...arguments);Fe(this,"priority",10);Fe(this,"incompatibleTokens",["t","T","x"])}parse(l,h){switch(h){case"X":return Qs(Js.basicOptionalMinutes,l);case"XX":return Qs(Js.basic,l);case"XXXX":return Qs(Js.basicOptionalSeconds,l);case"XXXXX":return Qs(Js.extendedOptionalSeconds,l);case"XXX":default:return Qs(Js.extended,l)}}set(l,h,p){return h.timestampIsSet?l:An(l,l.getTime()-Th(l)-p)}}class rT extends jt{constructor(){super(...arguments);Fe(this,"priority",10);Fe(this,"incompatibleTokens",["t","T","X"])}parse(l,h){switch(h){case"x":return Qs(Js.basicOptionalMinutes,l);case"xx":return Qs(Js.basic,l);case"xxxx":return Qs(Js.basicOptionalSeconds,l);case"xxxxx":return Qs(Js.extendedOptionalSeconds,l);case"xxx":default:return Qs(Js.extended,l)}}set(l,h,p){return h.timestampIsSet?l:An(l,l.getTime()-Th(l)-p)}}class lT extends jt{constructor(){super(...arguments);Fe(this,"priority",40);Fe(this,"incompatibleTokens","*")}parse(l){return _v(l)}set(l,h,p){return[An(l,p*1e3),{timestampIsSet:!0}]}}class uT extends jt{constructor(){super(...arguments);Fe(this,"priority",20);Fe(this,"incompatibleTokens","*")}parse(l){return _v(l)}set(l,h,p){return[An(l,p),{timestampIsSet:!0}]}}const cT={G:new E4,y:new M4,Y:new A4,R:new I4,u:new F4,Q:new L4,q:new O4,M:new P4,L:new B4,w:new N4,I:new H4,d:new j4,D:new U4,E:new $4,e:new q4,c:new Y4,i:new X4,a:new K4,b:new Z4,B:new J4,h:new Q4,H:new eT,K:new tT,k:new nT,m:new iT,s:new sT,S:new aT,X:new oT,x:new rT,t:new lT,T:new uT},dT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fT=/^'([^]*?)'?$/,pT=/''/g,gT=/\S/,mT=/[a-zA-Z]/;function vT(d,a,l,h){var ie,oe,ee,le,Z,ae,ke,be;const p=()=>An((h==null?void 0:h.in)||l,NaN),v=C4(),C=(h==null?void 0:h.locale)??v.locale??mv,k=(h==null?void 0:h.firstWeekContainsDate)??((oe=(ie=h==null?void 0:h.locale)==null?void 0:ie.options)==null?void 0:oe.firstWeekContainsDate)??v.firstWeekContainsDate??((le=(ee=v.locale)==null?void 0:ee.options)==null?void 0:le.firstWeekContainsDate)??1,T=(h==null?void 0:h.weekStartsOn)??((ae=(Z=h==null?void 0:h.locale)==null?void 0:Z.options)==null?void 0:ae.weekStartsOn)??v.weekStartsOn??((be=(ke=v.locale)==null?void 0:ke.options)==null?void 0:be.weekStartsOn)??0;if(!a)return d?p():Et(l,h==null?void 0:h.in);const E={firstWeekContainsDate:k,weekStartsOn:T,locale:C},A=[new D4(h==null?void 0:h.in,l)],O=a.match(hT).map(pe=>{const Le=pe[0];if(Le in lp){const Ke=lp[Le];return Ke(pe,C.formatLong)}return pe}).join("").match(dT),R=[];for(let pe of O){!(h!=null&&h.useAdditionalWeekYearTokens)&&Cv(pe)&&up(pe,a,d),!(h!=null&&h.useAdditionalDayOfYearTokens)&&xv(pe)&&up(pe,a,d);const Le=pe[0],Ke=cT[Le];if(Ke){const{incompatibleTokens:Ee}=Ke;if(Array.isArray(Ee)){const je=R.find(ct=>Ee.includes(ct.token)||ct.token===Le);if(je)throw new RangeError(`The format string mustn't contain \`${je.fullToken}\` and \`${pe}\` at the same time`)}else if(Ke.incompatibleTokens==="*"&&R.length>0)throw new RangeError(`The format string mustn't contain \`${pe}\` and any other token at the same time`);R.push({token:Le,fullToken:pe});const Ae=Ke.run(d,pe,C.match,E);if(!Ae)return p();A.push(Ae.setter),d=Ae.rest}else{if(Le.match(mT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Le+"`");if(pe==="''"?pe="'":Le==="'"&&(pe=bT(pe)),d.indexOf(pe)===0)d=d.slice(pe.length);else return p()}}if(d.length>0&&gT.test(d))return p();const j=A.map(pe=>pe.priority).sort((pe,Le)=>Le-pe).filter((pe,Le,Ke)=>Ke.indexOf(pe)===Le).map(pe=>A.filter(Le=>Le.priority===pe).sort((Le,Ke)=>Ke.subPriority-Le.subPriority)).map(pe=>pe[0]);let X=Et(l,h==null?void 0:h.in);if(isNaN(+X))return p();const ne={};for(const pe of j){if(!pe.validate(X,E))return p();const Le=pe.set(X,ne,E);Array.isArray(Le)?(X=Le[0],Object.assign(ne,Le[1])):X=Le}return X}function bT(d){return d.match(fT)[1].replace(pT,"'")}function yT(d,a){const l=Et(d,a==null?void 0:a.in);return l.setMinutes(0,0,0),l}function xT(d,a){const l=Et(d,a==null?void 0:a.in);return l.setSeconds(0,0),l}function CT(d,a){const l=Et(d,a==null?void 0:a.in);return l.setMilliseconds(0),l}function wT(d,a){const l=()=>An(a==null?void 0:a.in,NaN),h=(a==null?void 0:a.additionalDigits)??2,p=TT(d);let v;if(p.date){const E=DT(p.date,h);v=ET(E.restDateString,E.year)}if(!v||isNaN(+v))return l();const C=+v;let k=0,T;if(p.time&&(k=MT(p.time),isNaN(k)))return l();if(p.timezone){if(T=AT(p.timezone),isNaN(T))return l()}else{const E=new Date(C+k),A=Et(0,a==null?void 0:a.in);return A.setFullYear(E.getUTCFullYear(),E.getUTCMonth(),E.getUTCDate()),A.setHours(E.getUTCHours(),E.getUTCMinutes(),E.getUTCSeconds(),E.getUTCMilliseconds()),A}return Et(C+k+T,a==null?void 0:a.in)}const oh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_T=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kT=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ST=/^([+-])(\d{2})(?::?(\d{2}))?$/;function TT(d){const a={},l=d.split(oh.dateTimeDelimiter);let h;if(l.length>2)return a;if(/:/.test(l[0])?h=l[0]:(a.date=l[0],h=l[1],oh.timeZoneDelimiter.test(a.date)&&(a.date=d.split(oh.timeZoneDelimiter)[0],h=d.substr(a.date.length,d.length))),h){const p=oh.timezone.exec(h);p?(a.time=h.replace(p[1],""),a.timezone=p[1]):a.time=h}return a}function DT(d,a){const l=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),h=d.match(l);if(!h)return{year:NaN,restDateString:""};const p=h[1]?parseInt(h[1]):null,v=h[2]?parseInt(h[2]):null;return{year:v===null?p:v*100,restDateString:d.slice((h[1]||h[2]).length)}}function ET(d,a){if(a===null)return new Date(NaN);const l=d.match(_T);if(!l)return new Date(NaN);const h=!!l[4],p=Cu(l[1]),v=Cu(l[2])-1,C=Cu(l[3]),k=Cu(l[4]),T=Cu(l[5])-1;if(h)return PT(a,k,T)?IT(a,k,T):new Date(NaN);{const E=new Date(0);return!LT(a,v,C)||!OT(a,p)?new Date(NaN):(E.setUTCFullYear(a,v,Math.max(p,C)),E)}}function Cu(d){return d?parseInt(d):1}function MT(d){const a=d.match(kT);if(!a)return NaN;const l=Hf(a[1]),h=Hf(a[2]),p=Hf(a[3]);return BT(l,h,p)?l*qu+h*$u+p*1e3:NaN}function Hf(d){return d&&parseFloat(d.replace(",","."))||0}function AT(d){if(d==="Z")return 0;const a=d.match(ST);if(!a)return 0;const l=a[1]==="+"?-1:1,h=parseInt(a[2]),p=a[3]&&parseInt(a[3])||0;return RT(h,p)?l*(h*qu+p*$u):NaN}function IT(d,a,l){const h=new Date(0);h.setUTCFullYear(d,0,4);const p=h.getUTCDay()||7,v=(a-1)*7+l+1-p;return h.setUTCDate(h.getUTCDate()+v),h}const FT=[31,null,31,30,31,30,31,31,30,31,30,31];function Tv(d){return d%400===0||d%4===0&&d%100!==0}function LT(d,a,l){return a>=0&&a<=11&&l>=1&&l<=(FT[a]||(Tv(d)?29:28))}function OT(d,a){return a>=1&&a<=(Tv(d)?366:365)}function PT(d,a,l){return a>=1&&a<=53&&l>=0&&l<=6}function BT(d,a,l){return d===24?a===0&&l===0:l>=0&&l<60&&a>=0&&a<60&&d>=0&&d<25}function RT(d,a){return a>=0&&a<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const NT={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};H0._date.override({_id:"date-fns",formats:function(){return NT},parse:function(d,a){if(d===null||typeof d>"u")return null;const l=typeof d;return l==="number"||d instanceof Date?d=Et(d):l==="string"&&(typeof a=="string"?d=vT(d,a,new Date,this.options):d=wT(d,this.options)),cv(d)?d.getTime():null},format:function(d,a){return y4(d,a,this.options)},add:function(d,a,l){switch(l){case"millisecond":return Ep(d,a);case"second":return lS(d,a);case"minute":return oS(d,a);case"hour":return iS(d,a);case"day":return Oh(d,a);case"week":return uS(d,a);case"month":return Dp(d,a);case"quarter":return rS(d,a);case"year":return cS(d,a);default:return d}},diff:function(d,a,l){switch(l){case"millisecond":return Mp(d,a);case"second":return bS(d,a);case"minute":return gS(d,a);case"hour":return pS(d,a);case"day":return dv(d,a);case"week":return yS(d,a);case"month":return pv(d,a);case"quarter":return vS(d,a);case"year":return xS(d,a);default:return 0}},startOf:function(d,a,l){switch(a){case"second":return CT(d);case"minute":return xT(d);case"hour":return yT(d);case"day":return rp(d);case"week":return ta(d);case"isoWeek":return ta(d,{weekStartsOn:+l});case"month":return wS(d);case"quarter":return CS(d);case"year":return gv(d);default:return d}},endOf:function(d,a){switch(a){case"second":return ES(d);case"minute":return TS(d);case"hour":return kS(d);case"day":return hv(d);case"week":return SS(d);case"month":return fv(d);case"quarter":return DS(d);case"year":return _S(d);default:return d}}});var vh={exports:{}},zT=vh.exports,Im;function Gi(){return Im||(Im=1,function(d,a){(function(l,h){d.exports=h()})(zT,function(){var l=navigator.userAgent,h=navigator.platform,p=/gecko\/\d/i.test(l),v=/MSIE \d/.test(l),C=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(l),k=/Edge\/(\d+)/.exec(l),T=v||C||k,E=T&&(v?document.documentMode||6:+(k||C)[1]),A=!k&&/WebKit\//.test(l),O=A&&/Qt\/\d+\.\d+/.test(l),R=!k&&/Chrome\/(\d+)/.exec(l),j=R&&+R[1],X=/Opera\//.test(l),ne=/Apple Computer/.test(navigator.vendor),ie=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(l),oe=/PhantomJS/.test(l),ee=ne&&(/Mobile\/\w+/.test(l)||navigator.maxTouchPoints>2),le=/Android/.test(l),Z=ee||le||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(l),ae=ee||/Mac/.test(h),ke=/\bCrOS\b/.test(l),be=/win/i.test(h),pe=X&&l.match(/Version\/(\d*\.\d*)/);pe&&(pe=Number(pe[1])),pe&&pe>=15&&(X=!1,A=!0);var Le=ae&&(O||X&&(pe==null||pe<12.11)),Ke=p||T&&E>=9;function Ee(u){return new RegExp("(^|\\s)"+u+"(?:$|\\s)\\s*")}var Ae=function(u,g){var x=u.className,y=Ee(g).exec(x);if(y){var _=x.slice(y.index+y[0].length);u.className=x.slice(0,y.index)+(_?y[1]+_:"")}};function je(u){for(var g=u.childNodes.length;g>0;--g)u.removeChild(u.firstChild);return u}function ct(u,g){return je(u).appendChild(g)}function ce(u,g,x,y){var _=document.createElement(u);if(x&&(_.className=x),y&&(_.style.cssText=y),typeof g=="string")_.appendChild(document.createTextNode(g));else if(g)for(var M=0;M<g.length;++M)_.appendChild(g[M]);return _}function Ve(u,g,x,y){var _=ce(u,g,x,y);return _.setAttribute("role","presentation"),_}var Re;document.createRange?Re=function(u,g,x,y){var _=document.createRange();return _.setEnd(y||u,x),_.setStart(u,g),_}:Re=function(u,g,x){var y=document.body.createTextRange();try{y.moveToElementText(u.parentNode)}catch{return y}return y.collapse(!0),y.moveEnd("character",x),y.moveStart("character",g),y};function tt(u,g){if(g.nodeType==3&&(g=g.parentNode),u.contains)return u.contains(g);do if(g.nodeType==11&&(g=g.host),g==u)return!0;while(g=g.parentNode)}function mt(u){var g=u.ownerDocument||u,x;try{x=u.activeElement}catch{x=g.body||null}for(;x&&x.shadowRoot&&x.shadowRoot.activeElement;)x=x.shadowRoot.activeElement;return x}function Pt(u,g){var x=u.className;Ee(g).test(x)||(u.className+=(x?" ":"")+g)}function Kn(u,g){for(var x=u.split(" "),y=0;y<x.length;y++)x[y]&&!Ee(x[y]).test(g)&&(g+=" "+x[y]);return g}var ue=function(u){u.select()};ee?ue=function(u){u.selectionStart=0,u.selectionEnd=u.value.length}:T&&(ue=function(u){try{u.select()}catch{}});function $(u){return u.display.wrapper.ownerDocument}function Oe(u){return wt(u.display.wrapper)}function wt(u){return u.getRootNode?u.getRootNode():u.ownerDocument}function ht(u){return $(u).defaultView}function Ut(u){var g=Array.prototype.slice.call(arguments,1);return function(){return u.apply(null,g)}}function Qt(u,g,x){g||(g={});for(var y in u)u.hasOwnProperty(y)&&(x!==!1||!g.hasOwnProperty(y))&&(g[y]=u[y]);return g}function zt(u,g,x,y,_){g==null&&(g=u.search(/[^\s\u00a0]/),g==-1&&(g=u.length));for(var M=y||0,F=_||0;;){var B=u.indexOf("	",M);if(B<0||B>=g)return F+(g-M);F+=B-M,F+=x-F%x,M=B+1}}var $t=function(){this.id=null,this.f=null,this.time=0,this.handler=Ut(this.onTimeout,this)};$t.prototype.onTimeout=function(u){u.id=0,u.time<=+new Date?u.f():setTimeout(u.handler,u.time-+new Date)},$t.prototype.set=function(u,g){this.f=g;var x=+new Date+u;(!this.id||x<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,u),this.time=x)};function Mt(u,g){for(var x=0;x<u.length;++x)if(u[x]==g)return x;return-1}var Lt=50,en={toString:function(){return"CodeMirror.Pass"}},rn={scroll:!1},lt={origin:"*mouse"},Fn={origin:"+move"};function Ln(u,g,x){for(var y=0,_=0;;){var M=u.indexOf("	",y);M==-1&&(M=u.length);var F=M-y;if(M==u.length||_+F>=g)return y+Math.min(F,g-_);if(_+=M-y,_+=x-_%x,y=M+1,_>=g)return y}}var ln=[""];function _i(u){for(;ln.length<=u;)ln.push(ot(ln)+" ");return ln[u]}function ot(u){return u[u.length-1]}function sn(u,g){for(var x=[],y=0;y<u.length;y++)x[y]=g(u[y],y);return x}function ci(u,g,x){for(var y=0,_=x(g);y<u.length&&x(u[y])<=_;)y++;u.splice(y,0,g)}function _s(){}function Te(u,g){var x;return Object.create?x=Object.create(u):(_s.prototype=u,x=new _s),g&&Qt(g,x),x}var De=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function me(u){return/\w/.test(u)||u>""&&(u.toUpperCase()!=u.toLowerCase()||De.test(u))}function Y(u,g){return g?g.source.indexOf("\\w")>-1&&me(u)?!0:g.test(u):me(u)}function U(u){for(var g in u)if(u.hasOwnProperty(g)&&u[g])return!1;return!0}var he=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function L(u){return u.charCodeAt(0)>=768&&he.test(u)}function H(u,g,x){for(;(x<0?g>0:g<u.length)&&L(u.charAt(g));)g+=x;return g}function Q(u,g,x){for(var y=g>x?-1:1;;){if(g==x)return g;var _=(g+x)/2,M=y<0?Math.ceil(_):Math.floor(_);if(M==g)return u(M)?g:x;u(M)?x=M:g=M+y}}function te(u,g,x,y){if(!u)return y(g,x,"ltr",0);for(var _=!1,M=0;M<u.length;++M){var F=u[M];(F.from<x&&F.to>g||g==x&&F.to==g)&&(y(Math.max(F.from,g),Math.min(F.to,x),F.level==1?"rtl":"ltr",M),_=!0)}_||y(g,x,"ltr")}var de=null;function xe(u,g,x){var y;de=null;for(var _=0;_<u.length;++_){var M=u[_];if(M.from<g&&M.to>g)return _;M.to==g&&(M.from!=M.to&&x=="before"?y=_:de=_),M.from==g&&(M.from!=M.to&&x!="before"?y=_:de=_)}return y??de}var fe=function(){var u="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",g="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function x(W){return W<=247?u.charAt(W):1424<=W&&W<=1524?"R":1536<=W&&W<=1785?g.charAt(W-1536):1774<=W&&W<=2220?"r":8192<=W&&W<=8203?"w":W==8204?"b":"L"}var y=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,_=/[stwN]/,M=/[LRr]/,F=/[Lb1n]/,B=/[1n]/;function N(W,J,se){this.level=W,this.from=J,this.to=se}return function(W,J){var se=J=="ltr"?"L":"R";if(W.length==0||J=="ltr"&&!y.test(W))return!1;for(var Ce=W.length,ge=[],Pe=0;Pe<Ce;++Pe)ge.push(x(W.charCodeAt(Pe)));for(var We=0,$e=se;We<Ce;++We){var Ge=ge[We];Ge=="m"?ge[We]=$e:$e=Ge}for(var Je=0,Xe=se;Je<Ce;++Je){var it=ge[Je];it=="1"&&Xe=="r"?ge[Je]="n":M.test(it)&&(Xe=it,it=="r"&&(ge[Je]="R"))}for(var ft=1,dt=ge[0];ft<Ce-1;++ft){var Dt=ge[ft];Dt=="+"&&dt=="1"&&ge[ft+1]=="1"?ge[ft]="1":Dt==","&&dt==ge[ft+1]&&(dt=="1"||dt=="n")&&(ge[ft]=dt),dt=Dt}for(var Vt=0;Vt<Ce;++Vt){var Bn=ge[Vt];if(Bn==",")ge[Vt]="N";else if(Bn=="%"){var nn=void 0;for(nn=Vt+1;nn<Ce&&ge[nn]=="%";++nn);for(var yi=Vt&&ge[Vt-1]=="!"||nn<Ce&&ge[nn]=="1"?"1":"N",oi=Vt;oi<nn;++oi)ge[oi]=yi;Vt=nn-1}}for(var xn=0,ri=se;xn<Ce;++xn){var qn=ge[xn];ri=="L"&&qn=="1"?ge[xn]="L":M.test(qn)&&(ri=qn)}for(var Cn=0;Cn<Ce;++Cn)if(_.test(ge[Cn])){var wn=void 0;for(wn=Cn+1;wn<Ce&&_.test(ge[wn]);++wn);for(var an=(Cn?ge[Cn-1]:se)=="L",vi=(wn<Ce?ge[wn]:se)=="L",ya=an==vi?an?"L":"R":se,qs=Cn;qs<wn;++qs)ge[qs]=ya;Cn=wn-1}for(var Yn=[],as,En=0;En<Ce;)if(F.test(ge[En])){var du=En;for(++En;En<Ce&&F.test(ge[En]);++En);Yn.push(new N(0,du,En))}else{var os=En,xa=Yn.length,Ys=J=="rtl"?1:0;for(++En;En<Ce&&ge[En]!="L";++En);for(var Qn=os;Qn<En;)if(B.test(ge[Qn])){os<Qn&&(Yn.splice(xa,0,new N(1,os,Qn)),xa+=Ys);var Ca=Qn;for(++Qn;Qn<En&&B.test(ge[Qn]);++Qn);Yn.splice(xa,0,new N(2,Ca,Qn)),xa+=Ys,os=Qn}else++Qn;os<En&&Yn.splice(xa,0,new N(1,os,En))}return J=="ltr"&&(Yn[0].level==1&&(as=W.match(/^\s+/))&&(Yn[0].from=as[0].length,Yn.unshift(new N(0,0,as[0].length))),ot(Yn).level==1&&(as=W.match(/\s+$/))&&(ot(Yn).to-=as[0].length,Yn.push(new N(0,Ce-as[0].length,Ce)))),J=="rtl"?Yn.reverse():Yn}}();function re(u,g){var x=u.order;return x==null&&(x=u.order=fe(u.text,g)),x}var we=[],ve=function(u,g,x){if(u.addEventListener)u.addEventListener(g,x,!1);else if(u.attachEvent)u.attachEvent("on"+g,x);else{var y=u._handlers||(u._handlers={});y[g]=(y[g]||we).concat(x)}};function Ye(u,g){return u._handlers&&u._handlers[g]||we}function nt(u,g,x){if(u.removeEventListener)u.removeEventListener(g,x,!1);else if(u.detachEvent)u.detachEvent("on"+g,x);else{var y=u._handlers,_=y&&y[g];if(_){var M=Mt(_,x);M>-1&&(y[g]=_.slice(0,M).concat(_.slice(M+1)))}}}function Qe(u,g){var x=Ye(u,g);if(x.length)for(var y=Array.prototype.slice.call(arguments,2),_=0;_<x.length;++_)x[_].apply(null,y)}function qe(u,g,x){return typeof g=="string"&&(g={type:g,preventDefault:function(){this.defaultPrevented=!0}}),Qe(u,x||g.type,u,g),Ht(g)||g.codemirrorIgnore}function vt(u){var g=u._handlers&&u._handlers.cursorActivity;if(g)for(var x=u.curOp.cursorActivityHandlers||(u.curOp.cursorActivityHandlers=[]),y=0;y<g.length;++y)Mt(x,g[y])==-1&&x.push(g[y])}function bt(u,g){return Ye(u,g).length>0}function xt(u){u.prototype.on=function(g,x){ve(this,g,x)},u.prototype.off=function(g,x){nt(this,g,x)}}function gt(u){u.preventDefault?u.preventDefault():u.returnValue=!1}function Nt(u){u.stopPropagation?u.stopPropagation():u.cancelBubble=!0}function Ht(u){return u.defaultPrevented!=null?u.defaultPrevented:u.returnValue==!1}function un(u){gt(u),Nt(u)}function Zn(u){return u.target||u.srcElement}function kn(u){var g=u.which;return g==null&&(u.button&1?g=1:u.button&2?g=3:u.button&4&&(g=2)),ae&&u.ctrlKey&&g==1&&(g=3),g}var ks=function(){if(T&&E<9)return!1;var u=ce("div");return"draggable"in u||"dragDrop"in u}(),Ss;function To(u){if(Ss==null){var g=ce("span","​");ct(u,ce("span",[g,document.createTextNode("x")])),u.firstChild.offsetHeight!=0&&(Ss=g.offsetWidth<=1&&g.offsetHeight>2&&!(T&&E<8))}var x=Ss?ce("span","​"):ce("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return x.setAttribute("cm-text",""),x}var Do;function Eo(u){if(Do!=null)return Do;var g=ct(u,document.createTextNode("AخA")),x=Re(g,0,1).getBoundingClientRect(),y=Re(g,1,2).getBoundingClientRect();return je(u),!x||x.left==x.right?!1:Do=y.right-x.right<3}var Mo=`

b`.split(/\n/).length!=3?function(u){for(var g=0,x=[],y=u.length;g<=y;){var _=u.indexOf(`
`,g);_==-1&&(_=u.length);var M=u.slice(g,u.charAt(_-1)=="\r"?_-1:_),F=M.indexOf("\r");F!=-1?(x.push(M.slice(0,F)),g+=F+1):(x.push(M),g=_+1)}return x}:function(u){return u.split(/\r\n?|\n/)},gl=window.getSelection?function(u){try{return u.selectionStart!=u.selectionEnd}catch{return!1}}:function(u){var g;try{g=u.ownerDocument.selection.createRange()}catch{}return!g||g.parentElement()!=u?!1:g.compareEndPoints("StartToEnd",g)!=0},On=function(){var u=ce("div");return"oncopy"in u?!0:(u.setAttribute("oncopy","return;"),typeof u.oncopy=="function")}(),Ri=null;function Ni(u){if(Ri!=null)return Ri;var g=ct(u,ce("span","x")),x=g.getBoundingClientRect(),y=Re(g,0,1).getBoundingClientRect();return Ri=Math.abs(x.left-y.left)>1}var ki={},di={};function Ts(u,g){arguments.length>2&&(g.dependencies=Array.prototype.slice.call(arguments,2)),ki[u]=g}function Ao(u,g){di[u]=g}function zi(u){if(typeof u=="string"&&di.hasOwnProperty(u))u=di[u];else if(u&&typeof u.name=="string"&&di.hasOwnProperty(u.name)){var g=di[u.name];typeof g=="string"&&(g={name:g}),u=Te(g,u),u.name=g.name}else{if(typeof u=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(u))return zi("application/xml");if(typeof u=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(u))return zi("application/json")}return typeof u=="string"?{name:u}:u||{name:"null"}}function na(u,g){g=zi(g);var x=ki[g.name];if(!x)return na(u,"text/plain");var y=x(u,g);if(ia.hasOwnProperty(g.name)){var _=ia[g.name];for(var M in _)_.hasOwnProperty(M)&&(y.hasOwnProperty(M)&&(y["_"+M]=y[M]),y[M]=_[M])}if(y.name=g.name,g.helperType&&(y.helperType=g.helperType),g.modeProps)for(var F in g.modeProps)y[F]=g.modeProps[F];return y}var ia={};function Ph(u,g){var x=ia.hasOwnProperty(u)?ia[u]:ia[u]={};Qt(g,x)}function Hi(u,g){if(g===!0)return g;if(u.copyState)return u.copyState(g);var x={};for(var y in g){var _=g[y];_ instanceof Array&&(_=_.concat([])),x[y]=_}return x}function Ds(u,g){for(var x;u.innerMode&&(x=u.innerMode(g),!(!x||x.mode==u));)g=x.state,u=x.mode;return x||{mode:u,state:g}}function gr(u,g,x){return u.startState?u.startState(g,x):!0}var fn=function(u,g,x){this.pos=this.start=0,this.string=u,this.tabSize=g||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=x};fn.prototype.eol=function(){return this.pos>=this.string.length},fn.prototype.sol=function(){return this.pos==this.lineStart},fn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},fn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},fn.prototype.eat=function(u){var g=this.string.charAt(this.pos),x;if(typeof u=="string"?x=g==u:x=g&&(u.test?u.test(g):u(g)),x)return++this.pos,g},fn.prototype.eatWhile=function(u){for(var g=this.pos;this.eat(u););return this.pos>g},fn.prototype.eatSpace=function(){for(var u=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>u},fn.prototype.skipToEnd=function(){this.pos=this.string.length},fn.prototype.skipTo=function(u){var g=this.string.indexOf(u,this.pos);if(g>-1)return this.pos=g,!0},fn.prototype.backUp=function(u){this.pos-=u},fn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=zt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?zt(this.string,this.lineStart,this.tabSize):0)},fn.prototype.indentation=function(){return zt(this.string,null,this.tabSize)-(this.lineStart?zt(this.string,this.lineStart,this.tabSize):0)},fn.prototype.match=function(u,g,x){if(typeof u=="string"){var y=function(F){return x?F.toLowerCase():F},_=this.string.substr(this.pos,u.length);if(y(_)==y(u))return g!==!1&&(this.pos+=u.length),!0}else{var M=this.string.slice(this.pos).match(u);return M&&M.index>0?null:(M&&g!==!1&&(this.pos+=M[0].length),M)}},fn.prototype.current=function(){return this.string.slice(this.start,this.pos)},fn.prototype.hideFirstChars=function(u,g){this.lineStart+=u;try{return g()}finally{this.lineStart-=u}},fn.prototype.lookAhead=function(u){var g=this.lineOracle;return g&&g.lookAhead(u)},fn.prototype.baseToken=function(){var u=this.lineOracle;return u&&u.baseToken(this.pos)};function ut(u,g){if(g-=u.first,g<0||g>=u.size)throw new Error("There is no line "+(g+u.first)+" in the document.");for(var x=u;!x.lines;)for(var y=0;;++y){var _=x.children[y],M=_.chunkSize();if(g<M){x=_;break}g-=M}return x.lines[g]}function Es(u,g,x){var y=[],_=g.line;return u.iter(g.line,x.line+1,function(M){var F=M.text;_==x.line&&(F=F.slice(0,x.ch)),_==g.line&&(F=F.slice(g.ch)),y.push(F),++_}),y}function sa(u,g,x){var y=[];return u.iter(g,x,function(_){y.push(_.text)}),y}function Mi(u,g){var x=g-u.height;if(x)for(var y=u;y;y=y.parent)y.height+=x}function Bt(u){if(u.parent==null)return null;for(var g=u.parent,x=Mt(g.lines,u),y=g.parent;y;g=y,y=y.parent)for(var _=0;y.children[_]!=g;++_)x+=y.children[_].chunkSize();return x+g.first}function Ms(u,g){var x=u.first;e:do{for(var y=0;y<u.children.length;++y){var _=u.children[y],M=_.height;if(g<M){u=_;continue e}g-=M,x+=_.chunkSize()}return x}while(!u.lines);for(var F=0;F<u.lines.length;++F){var B=u.lines[F],N=B.height;if(g<N)break;g-=N}return x+F}function Fa(u,g){return g>=u.first&&g<u.first+u.size}function mr(u,g){return String(u.lineNumberFormatter(g+u.firstLineNumber))}function Ue(u,g,x){if(x===void 0&&(x=null),!(this instanceof Ue))return new Ue(u,g,x);this.line=u,this.ch=g,this.sticky=x}function Ct(u,g){return u.line-g.line||u.ch-g.ch}function ml(u,g){return u.sticky==g.sticky&&Ct(u,g)==0}function aa(u){return Ue(u.line,u.ch)}function La(u,g){return Ct(u,g)<0?g:u}function Oa(u,g){return Ct(u,g)<0?u:g}function vl(u,g){return Math.max(u.first,Math.min(g,u.first+u.size-1))}function yt(u,g){if(g.line<u.first)return Ue(u.first,0);var x=u.first+u.size-1;return g.line>x?Ue(x,ut(u,x).text.length):Gu(g,ut(u,g.line).text.length)}function Gu(u,g){var x=u.ch;return x==null||x>g?Ue(u.line,g):x<0?Ue(u.line,0):u}function bl(u,g){for(var x=[],y=0;y<g.length;y++)x[y]=yt(u,g[y]);return x}var Io=function(u,g){this.state=u,this.lookAhead=g},Ai=function(u,g,x,y){this.state=g,this.doc=u,this.line=x,this.maxLookAhead=y||0,this.baseTokens=null,this.baseTokenPos=1};Ai.prototype.lookAhead=function(u){var g=this.doc.getLine(this.line+u);return g!=null&&u>this.maxLookAhead&&(this.maxLookAhead=u),g},Ai.prototype.baseToken=function(u){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=u;)this.baseTokenPos+=2;var g=this.baseTokens[this.baseTokenPos+1];return{type:g&&g.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-u}},Ai.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ai.fromSaved=function(u,g,x){return g instanceof Io?new Ai(u,Hi(u.mode,g.state),x,g.lookAhead):new Ai(u,Hi(u.mode,g),x)},Ai.prototype.save=function(u){var g=u!==!1?Hi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Io(g,this.maxLookAhead):g};function yl(u,g,x,y){var _=[u.state.modeGen],M={};Ba(u,g.text,u.doc.mode,x,function(W,J){return _.push(W,J)},M,y);for(var F=x.state,B=function(W){x.baseTokens=_;var J=u.state.overlays[W],se=1,Ce=0;x.state=!0,Ba(u,g.text,J.mode,x,function(ge,Pe){for(var We=se;Ce<ge;){var $e=_[se];$e>ge&&_.splice(se,1,ge,_[se+1],$e),se+=2,Ce=Math.min(ge,$e)}if(Pe)if(J.opaque)_.splice(We,se-We,ge,"overlay "+Pe),se=We+2;else for(;We<se;We+=2){var Ge=_[We+1];_[We+1]=(Ge?Ge+" ":"")+"overlay "+Pe}},M),x.state=F,x.baseTokens=null,x.baseTokenPos=1},N=0;N<u.state.overlays.length;++N)B(N);return{styles:_,classes:M.bgClass||M.textClass?M:null}}function xl(u,g,x){if(!g.styles||g.styles[0]!=u.state.modeGen){var y=Pa(u,Bt(g)),_=g.text.length>u.options.maxHighlightLength&&Hi(u.doc.mode,y.state),M=yl(u,g,y);_&&(y.state=_),g.stateAfter=y.save(!_),g.styles=M.styles,M.classes?g.styleClasses=M.classes:g.styleClasses&&(g.styleClasses=null),x===u.doc.highlightFrontier&&(u.doc.modeFrontier=Math.max(u.doc.modeFrontier,++u.doc.highlightFrontier))}return g.styles}function Pa(u,g,x){var y=u.doc,_=u.display;if(!y.mode.startState)return new Ai(y,!0,g);var M=Zu(u,g,x),F=M>y.first&&ut(y,M-1).stateAfter,B=F?Ai.fromSaved(y,F,M):new Ai(y,gr(y.mode),M);return y.iter(M,g,function(N){vr(u,N.text,B);var W=B.line;N.stateAfter=W==g-1||W%5==0||W>=_.viewFrom&&W<_.viewTo?B.save():null,B.nextLine()}),x&&(y.modeFrontier=B.line),B}function vr(u,g,x,y){var _=u.doc.mode,M=new fn(g,u.options.tabSize,x);for(M.start=M.pos=y||0,g==""&&Cl(_,x.state);!M.eol();)hi(_,M,x.state),M.start=M.pos}function Cl(u,g){if(u.blankLine)return u.blankLine(g);if(u.innerMode){var x=Ds(u,g);if(x.mode.blankLine)return x.mode.blankLine(x.state)}}function hi(u,g,x,y){for(var _=0;_<10;_++){y&&(y[0]=Ds(u,x).mode);var M=u.token(g,x);if(g.pos>g.start)return M}throw new Error("Mode "+u.name+" failed to advance stream.")}var Xu=function(u,g,x){this.start=u.start,this.end=u.pos,this.string=u.current(),this.type=g||null,this.state=x};function br(u,g,x,y){var _=u.doc,M=_.mode,F;g=yt(_,g);var B=ut(_,g.line),N=Pa(u,g.line,x),W=new fn(B.text,u.options.tabSize,N),J;for(y&&(J=[]);(y||W.pos<g.ch)&&!W.eol();)W.start=W.pos,F=hi(M,W,N.state),y&&J.push(new Xu(W,F,Hi(_.mode,N.state)));return y?J:new Xu(W,F,N.state)}function Ku(u,g){if(u)for(;;){var x=u.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!x)break;u=u.slice(0,x.index)+u.slice(x.index+x[0].length);var y=x[1]?"bgClass":"textClass";g[y]==null?g[y]=x[2]:new RegExp("(?:^|\\s)"+x[2]+"(?:$|\\s)").test(g[y])||(g[y]+=" "+x[2])}return u}function Ba(u,g,x,y,_,M,F){var B=x.flattenSpans;B==null&&(B=u.options.flattenSpans);var N=0,W=null,J=new fn(g,u.options.tabSize,y),se,Ce=u.options.addModeClass&&[null];for(g==""&&Ku(Cl(x,y.state),M);!J.eol();){if(J.pos>u.options.maxHighlightLength?(B=!1,F&&vr(u,g,y,J.pos),J.pos=g.length,se=null):se=Ku(hi(x,J,y.state,Ce),M),Ce){var ge=Ce[0].name;ge&&(se="m-"+(se?ge+" "+se:ge))}if(!B||W!=se){for(;N<J.start;)N=Math.min(J.start,N+5e3),_(N,W);W=se}J.start=J.pos}for(;N<J.pos;){var Pe=Math.min(J.pos,N+5e3);_(Pe,W),N=Pe}}function Zu(u,g,x){for(var y,_,M=u.doc,F=x?-1:g-(u.doc.mode.innerMode?1e3:100),B=g;B>F;--B){if(B<=M.first)return M.first;var N=ut(M,B-1),W=N.stateAfter;if(W&&(!x||B+(W instanceof Io?W.lookAhead:0)<=M.modeFrontier))return B;var J=zt(N.text,null,u.options.tabSize);(_==null||y>J)&&(_=B-1,y=J)}return _}function Ju(u,g){if(u.modeFrontier=Math.min(u.modeFrontier,g),!(u.highlightFrontier<g-10)){for(var x=u.first,y=g-1;y>x;y--){var _=ut(u,y).stateAfter;if(_&&(!(_ instanceof Io)||y+_.lookAhead<g)){x=y+1;break}}u.highlightFrontier=Math.min(u.highlightFrontier,x)}}var wl=!1,Xi=!1;function Qu(){wl=!0}function ec(){Xi=!0}function Fo(u,g,x){this.marker=u,this.from=g,this.to=x}function Ra(u,g){if(u)for(var x=0;x<u.length;++x){var y=u[x];if(y.marker==g)return y}}function tc(u,g){for(var x,y=0;y<u.length;++y)u[y]!=g&&(x||(x=[])).push(u[y]);return x}function nc(u,g,x){var y=x&&window.WeakSet&&(x.markedSpans||(x.markedSpans=new WeakSet));y&&u.markedSpans&&y.has(u.markedSpans)?u.markedSpans.push(g):(u.markedSpans=u.markedSpans?u.markedSpans.concat([g]):[g],y&&y.add(u.markedSpans)),g.marker.attachLine(u)}function ic(u,g,x){var y;if(u)for(var _=0;_<u.length;++_){var M=u[_],F=M.marker,B=M.from==null||(F.inclusiveLeft?M.from<=g:M.from<g);if(B||M.from==g&&F.type=="bookmark"&&(!x||!M.marker.insertLeft)){var N=M.to==null||(F.inclusiveRight?M.to>=g:M.to>g);(y||(y=[])).push(new Fo(F,M.from,N?null:M.to))}}return y}function sc(u,g,x){var y;if(u)for(var _=0;_<u.length;++_){var M=u[_],F=M.marker,B=M.to==null||(F.inclusiveRight?M.to>=g:M.to>g);if(B||M.from==g&&F.type=="bookmark"&&(!x||M.marker.insertLeft)){var N=M.from==null||(F.inclusiveLeft?M.from<=g:M.from<g);(y||(y=[])).push(new Fo(F,N?null:M.from-g,M.to==null?null:M.to-g))}}return y}function _l(u,g){if(g.full)return null;var x=Fa(u,g.from.line)&&ut(u,g.from.line).markedSpans,y=Fa(u,g.to.line)&&ut(u,g.to.line).markedSpans;if(!x&&!y)return null;var _=g.from.ch,M=g.to.ch,F=Ct(g.from,g.to)==0,B=ic(x,_,F),N=sc(y,M,F),W=g.text.length==1,J=ot(g.text).length+(W?_:0);if(B)for(var se=0;se<B.length;++se){var Ce=B[se];if(Ce.to==null){var ge=Ra(N,Ce.marker);ge?W&&(Ce.to=ge.to==null?null:ge.to+J):Ce.to=_}}if(N)for(var Pe=0;Pe<N.length;++Pe){var We=N[Pe];if(We.to!=null&&(We.to+=J),We.from==null){var $e=Ra(B,We.marker);$e||(We.from=J,W&&(B||(B=[])).push(We))}else We.from+=J,W&&(B||(B=[])).push(We)}B&&(B=kl(B)),N&&N!=B&&(N=kl(N));var Ge=[B];if(!W){var Je=g.text.length-2,Xe;if(Je>0&&B)for(var it=0;it<B.length;++it)B[it].to==null&&(Xe||(Xe=[])).push(new Fo(B[it].marker,null,null));for(var ft=0;ft<Je;++ft)Ge.push(Xe);Ge.push(N)}return Ge}function kl(u){for(var g=0;g<u.length;++g){var x=u[g];x.from!=null&&x.from==x.to&&x.marker.clearWhenEmpty!==!1&&u.splice(g--,1)}return u.length?u:null}function yr(u,g,x){var y=null;if(u.iter(g.line,x.line+1,function(ge){if(ge.markedSpans)for(var Pe=0;Pe<ge.markedSpans.length;++Pe){var We=ge.markedSpans[Pe].marker;We.readOnly&&(!y||Mt(y,We)==-1)&&(y||(y=[])).push(We)}}),!y)return null;for(var _=[{from:g,to:x}],M=0;M<y.length;++M)for(var F=y[M],B=F.find(0),N=0;N<_.length;++N){var W=_[N];if(!(Ct(W.to,B.from)<0||Ct(W.from,B.to)>0)){var J=[N,1],se=Ct(W.from,B.from),Ce=Ct(W.to,B.to);(se<0||!F.inclusiveLeft&&!se)&&J.push({from:W.from,to:B.from}),(Ce>0||!F.inclusiveRight&&!Ce)&&J.push({from:B.to,to:W.to}),_.splice.apply(_,J),N+=J.length-3}}return _}function Sl(u){var g=u.markedSpans;if(g){for(var x=0;x<g.length;++x)g[x].marker.detachLine(u);u.markedSpans=null}}function ac(u,g){if(g){for(var x=0;x<g.length;++x)g[x].marker.attachLine(u);u.markedSpans=g}}function xr(u){return u.inclusiveLeft?-1:0}function Cr(u){return u.inclusiveRight?1:0}function Tl(u,g){var x=u.lines.length-g.lines.length;if(x!=0)return x;var y=u.find(),_=g.find(),M=Ct(y.from,_.from)||xr(u)-xr(g);if(M)return-M;var F=Ct(y.to,_.to)||Cr(u)-Cr(g);return F||g.id-u.id}function oc(u,g){var x=Xi&&u.markedSpans,y;if(x)for(var _=void 0,M=0;M<x.length;++M)_=x[M],_.marker.collapsed&&(g?_.from:_.to)==null&&(!y||Tl(y,_.marker)<0)&&(y=_.marker);return y}function rc(u){return oc(u,!0)}function us(u){return oc(u,!1)}function Bh(u,g){var x=Xi&&u.markedSpans,y;if(x)for(var _=0;_<x.length;++_){var M=x[_];M.marker.collapsed&&(M.from==null||M.from<g)&&(M.to==null||M.to>g)&&(!y||Tl(y,M.marker)<0)&&(y=M.marker)}return y}function rt(u,g,x,y,_){var M=ut(u,g),F=Xi&&M.markedSpans;if(F)for(var B=0;B<F.length;++B){var N=F[B];if(N.marker.collapsed){var W=N.marker.find(0),J=Ct(W.from,x)||xr(N.marker)-xr(_),se=Ct(W.to,y)||Cr(N.marker)-Cr(_);if(!(J>=0&&se<=0||J<=0&&se>=0)&&(J<=0&&(N.marker.inclusiveRight&&_.inclusiveLeft?Ct(W.to,x)>=0:Ct(W.to,x)>0)||J>=0&&(N.marker.inclusiveRight&&_.inclusiveLeft?Ct(W.from,y)<=0:Ct(W.from,y)<0)))return!0}}}function tn(u){for(var g;g=rc(u);)u=g.find(-1,!0).line;return u}function cs(u){for(var g;g=us(u);)u=g.find(1,!0).line;return u}function Na(u){for(var g,x;g=us(u);)u=g.find(1,!0).line,(x||(x=[])).push(u);return x}function As(u,g){var x=ut(u,g),y=tn(x);return x==y?g:Bt(y)}function Is(u,g){if(g>u.lastLine())return g;var x=ut(u,g),y;if(!Si(u,x))return g;for(;y=us(x);)x=y.find(1,!0).line;return Bt(x)+1}function Si(u,g){var x=Xi&&g.markedSpans;if(x){for(var y=void 0,_=0;_<x.length;++_)if(y=x[_],!!y.marker.collapsed){if(y.from==null)return!0;if(!y.marker.widgetNode&&y.from==0&&y.marker.inclusiveLeft&&wr(u,g,y))return!0}}}function wr(u,g,x){if(x.to==null){var y=x.marker.find(1,!0);return wr(u,y.line,Ra(y.line.markedSpans,x.marker))}if(x.marker.inclusiveRight&&x.to==g.text.length)return!0;for(var _=void 0,M=0;M<g.markedSpans.length;++M)if(_=g.markedSpans[M],_.marker.collapsed&&!_.marker.widgetNode&&_.from==x.to&&(_.to==null||_.to!=x.from)&&(_.marker.inclusiveLeft||x.marker.inclusiveRight)&&wr(u,g,_))return!0}function Ki(u){u=tn(u);for(var g=0,x=u.parent,y=0;y<x.lines.length;++y){var _=x.lines[y];if(_==u)break;g+=_.height}for(var M=x.parent;M;x=M,M=x.parent)for(var F=0;F<M.children.length;++F){var B=M.children[F];if(B==x)break;g+=B.height}return g}function Lo(u){if(u.height==0)return 0;for(var g=u.text.length,x,y=u;x=rc(y);){var _=x.find(0,!0);y=_.from.line,g+=_.from.ch-_.to.ch}for(y=u;x=us(y);){var M=x.find(0,!0);g-=y.text.length-M.from.ch,y=M.to.line,g+=y.text.length-M.to.ch}return g}function Dl(u){var g=u.display,x=u.doc;g.maxLine=ut(x,x.first),g.maxLineLength=Lo(g.maxLine),g.maxLineChanged=!0,x.iter(function(y){var _=Lo(y);_>g.maxLineLength&&(g.maxLineLength=_,g.maxLine=y)})}var za=function(u,g,x){this.text=u,ac(this,g),this.height=x?x(this):1};za.prototype.lineNo=function(){return Bt(this)},xt(za);function El(u,g,x,y){u.text=g,u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null),u.order!=null&&(u.order=null),Sl(u),ac(u,x);var _=y?y(u):1;_!=u.height&&Mi(u,_)}function Fs(u){u.parent=null,Sl(u)}var lc={},Rh={};function uc(u,g){if(!u||/^\s*$/.test(u))return null;var x=g.addModeClass?Rh:lc;return x[u]||(x[u]=u.replace(/\S+/g,"cm-$&"))}function ti(u,g){var x=Ve("span",null,null,A?"padding-right: .1px":null),y={pre:Ve("pre",[x],"CodeMirror-line"),content:x,col:0,pos:0,cm:u,trailingSpace:!1,splitSpaces:u.getOption("lineWrapping")};g.measure={};for(var _=0;_<=(g.rest?g.rest.length:0);_++){var M=_?g.rest[_-1]:g.line,F=void 0;y.pos=0,y.addToken=cc,Eo(u.display.measure)&&(F=re(M,u.doc.direction))&&(y.addToken=ds(y.addToken,F)),y.map=[];var B=g!=u.display.externalMeasured&&Bt(M);Nh(M,y,xl(u,M,B)),M.styleClasses&&(M.styleClasses.bgClass&&(y.bgClass=Kn(M.styleClasses.bgClass,y.bgClass||"")),M.styleClasses.textClass&&(y.textClass=Kn(M.styleClasses.textClass,y.textClass||""))),y.map.length==0&&y.map.push(0,0,y.content.appendChild(To(u.display.measure))),_==0?(g.measure.map=y.map,g.measure.cache={}):((g.measure.maps||(g.measure.maps=[])).push(y.map),(g.measure.caches||(g.measure.caches=[])).push({}))}if(A){var N=y.content.lastChild;(/\bcm-tab\b/.test(N.className)||N.querySelector&&N.querySelector(".cm-tab"))&&(y.content.className="cm-tab-wrap-hack")}return Qe(u,"renderLine",u,g.line,y.pre),y.pre.className&&(y.textClass=Kn(y.pre.className,y.textClass||"")),y}function q(u){var g=ce("span","•","cm-invalidchar");return g.title="\\u"+u.charCodeAt(0).toString(16),g.setAttribute("aria-label",g.title),g}function cc(u,g,x,y,_,M,F){if(g){var B=u.splitSpaces?Oo(g,u.trailingSpace):g,N=u.cm.state.specialChars,W=!1,J;if(!N.test(g))u.col+=g.length,J=document.createTextNode(B),u.map.push(u.pos,u.pos+g.length,J),T&&E<9&&(W=!0),u.pos+=g.length;else{J=document.createDocumentFragment();for(var se=0;;){N.lastIndex=se;var Ce=N.exec(g),ge=Ce?Ce.index-se:g.length-se;if(ge){var Pe=document.createTextNode(B.slice(se,se+ge));T&&E<9?J.appendChild(ce("span",[Pe])):J.appendChild(Pe),u.map.push(u.pos,u.pos+ge,Pe),u.col+=ge,u.pos+=ge}if(!Ce)break;se+=ge+1;var We=void 0;if(Ce[0]=="	"){var $e=u.cm.options.tabSize,Ge=$e-u.col%$e;We=J.appendChild(ce("span",_i(Ge),"cm-tab")),We.setAttribute("role","presentation"),We.setAttribute("cm-text","	"),u.col+=Ge}else Ce[0]=="\r"||Ce[0]==`
`?(We=J.appendChild(ce("span",Ce[0]=="\r"?"␍":"␤","cm-invalidchar")),We.setAttribute("cm-text",Ce[0]),u.col+=1):(We=u.cm.options.specialCharPlaceholder(Ce[0]),We.setAttribute("cm-text",Ce[0]),T&&E<9?J.appendChild(ce("span",[We])):J.appendChild(We),u.col+=1);u.map.push(u.pos,u.pos+1,We),u.pos++}}if(u.trailingSpace=B.charCodeAt(g.length-1)==32,x||y||_||W||M||F){var Je=x||"";y&&(Je+=y),_&&(Je+=_);var Xe=ce("span",[J],Je,M);if(F)for(var it in F)F.hasOwnProperty(it)&&it!="style"&&it!="class"&&Xe.setAttribute(it,F[it]);return u.content.appendChild(Xe)}u.content.appendChild(J)}}function Oo(u,g){if(u.length>1&&!/  /.test(u))return u;for(var x=g,y="",_=0;_<u.length;_++){var M=u.charAt(_);M==" "&&x&&(_==u.length-1||u.charCodeAt(_+1)==32)&&(M=" "),y+=M,x=M==" "}return y}function ds(u,g){return function(x,y,_,M,F,B,N){_=_?_+" cm-force-border":"cm-force-border";for(var W=x.pos,J=W+y.length;;){for(var se=void 0,Ce=0;Ce<g.length&&(se=g[Ce],!(se.to>W&&se.from<=W));Ce++);if(se.to>=J)return u(x,y,_,M,F,B,N);u(x,y.slice(0,se.to-W),_,M,null,B,N),M=null,y=y.slice(se.to-W),W=se.to}}}function dc(u,g,x,y){var _=!y&&x.widgetNode;_&&u.map.push(u.pos,u.pos+g,_),!y&&u.cm.display.input.needsContentAttribute&&(_||(_=u.content.appendChild(document.createElement("span"))),_.setAttribute("cm-marker",x.id)),_&&(u.cm.display.input.setUneditable(_),u.content.appendChild(_)),u.pos+=g,u.trailingSpace=!1}function Nh(u,g,x){var y=u.markedSpans,_=u.text,M=0;if(!y){for(var F=1;F<x.length;F+=2)g.addToken(g,_.slice(M,M=x[F]),uc(x[F+1],g.cm.options));return}for(var B=_.length,N=0,W=1,J="",se,Ce,ge=0,Pe,We,$e,Ge,Je;;){if(ge==N){Pe=We=$e=Ce="",Je=null,Ge=null,ge=1/0;for(var Xe=[],it=void 0,ft=0;ft<y.length;++ft){var dt=y[ft],Dt=dt.marker;if(Dt.type=="bookmark"&&dt.from==N&&Dt.widgetNode)Xe.push(Dt);else if(dt.from<=N&&(dt.to==null||dt.to>N||Dt.collapsed&&dt.to==N&&dt.from==N)){if(dt.to!=null&&dt.to!=N&&ge>dt.to&&(ge=dt.to,We=""),Dt.className&&(Pe+=" "+Dt.className),Dt.css&&(Ce=(Ce?Ce+";":"")+Dt.css),Dt.startStyle&&dt.from==N&&($e+=" "+Dt.startStyle),Dt.endStyle&&dt.to==ge&&(it||(it=[])).push(Dt.endStyle,dt.to),Dt.title&&((Je||(Je={})).title=Dt.title),Dt.attributes)for(var Vt in Dt.attributes)(Je||(Je={}))[Vt]=Dt.attributes[Vt];Dt.collapsed&&(!Ge||Tl(Ge.marker,Dt)<0)&&(Ge=dt)}else dt.from>N&&ge>dt.from&&(ge=dt.from)}if(it)for(var Bn=0;Bn<it.length;Bn+=2)it[Bn+1]==ge&&(We+=" "+it[Bn]);if(!Ge||Ge.from==N)for(var nn=0;nn<Xe.length;++nn)dc(g,0,Xe[nn]);if(Ge&&(Ge.from||0)==N){if(dc(g,(Ge.to==null?B+1:Ge.to)-N,Ge.marker,Ge.from==null),Ge.to==null)return;Ge.to==N&&(Ge=!1)}}if(N>=B)break;for(var yi=Math.min(B,ge);;){if(J){var oi=N+J.length;if(!Ge){var xn=oi>yi?J.slice(0,yi-N):J;g.addToken(g,xn,se?se+Pe:Pe,$e,N+xn.length==ge?We:"",Ce,Je)}if(oi>=yi){J=J.slice(yi-N),N=yi;break}N=oi,$e=""}J=_.slice(M,M=x[W++]),se=uc(x[W++],g.cm.options)}}}function Zi(u,g,x){this.line=g,this.rest=Na(g),this.size=this.rest?Bt(ot(this.rest))-x+1:1,this.node=this.text=null,this.hidden=Si(u,g)}function _r(u,g,x){for(var y=[],_,M=g;M<x;M=_){var F=new Zi(u.doc,ut(u.doc,M),M);_=M+F.size,y.push(F)}return y}var Ha=null;function zh(u){Ha?Ha.ops.push(u):u.ownsGroup=Ha={ops:[u],delayedCallbacks:[]}}function Hh(u){var g=u.delayedCallbacks,x=0;do{for(;x<g.length;x++)g[x].call(null);for(var y=0;y<u.ops.length;y++){var _=u.ops[y];if(_.cursorActivityHandlers)for(;_.cursorActivityCalled<_.cursorActivityHandlers.length;)_.cursorActivityHandlers[_.cursorActivityCalled++].call(null,_.cm)}}while(x<g.length)}function Vh(u,g){var x=u.ownsGroup;if(x)try{Hh(x)}finally{Ha=null,g(x)}}var Va=null;function Pn(u,g){var x=Ye(u,g);if(x.length){var y=Array.prototype.slice.call(arguments,2),_;Ha?_=Ha.delayedCallbacks:Va?_=Va:(_=Va=[],setTimeout(Wh,0));for(var M=function(B){_.push(function(){return x[B].apply(null,y)})},F=0;F<x.length;++F)M(F)}}function Wh(){var u=Va;Va=null;for(var g=0;g<u.length;++g)u[g]()}function hc(u,g,x,y){for(var _=0;_<g.changes.length;_++){var M=g.changes[_];M=="text"?jh(u,g):M=="gutter"?pc(u,g,x,y):M=="class"?Ml(u,g):M=="widget"&&gc(u,g,y)}g.changes=null}function Po(u){return u.node==u.text&&(u.node=ce("div",null,null,"position: relative"),u.text.parentNode&&u.text.parentNode.replaceChild(u.node,u.text),u.node.appendChild(u.text),T&&E<8&&(u.node.style.zIndex=2)),u.node}function fc(u,g){var x=g.bgClass?g.bgClass+" "+(g.line.bgClass||""):g.line.bgClass;if(x&&(x+=" CodeMirror-linebackground"),g.background)x?g.background.className=x:(g.background.parentNode.removeChild(g.background),g.background=null);else if(x){var y=Po(g);g.background=y.insertBefore(ce("div",null,x),y.firstChild),u.display.input.setUneditable(g.background)}}function kr(u,g){var x=u.display.externalMeasured;return x&&x.line==g.line?(u.display.externalMeasured=null,g.measure=x.measure,x.built):ti(u,g)}function jh(u,g){var x=g.text.className,y=kr(u,g);g.text==g.node&&(g.node=y.pre),g.text.parentNode.replaceChild(y.pre,g.text),g.text=y.pre,y.bgClass!=g.bgClass||y.textClass!=g.textClass?(g.bgClass=y.bgClass,g.textClass=y.textClass,Ml(u,g)):x&&(g.text.className=x)}function Ml(u,g){fc(u,g),g.line.wrapClass?Po(g).className=g.line.wrapClass:g.node!=g.text&&(g.node.className="");var x=g.textClass?g.textClass+" "+(g.line.textClass||""):g.line.textClass;g.text.className=x||""}function pc(u,g,x,y){if(g.gutter&&(g.node.removeChild(g.gutter),g.gutter=null),g.gutterBackground&&(g.node.removeChild(g.gutterBackground),g.gutterBackground=null),g.line.gutterClass){var _=Po(g);g.gutterBackground=ce("div",null,"CodeMirror-gutter-background "+g.line.gutterClass,"left: "+(u.options.fixedGutter?y.fixedPos:-y.gutterTotalWidth)+"px; width: "+y.gutterTotalWidth+"px"),u.display.input.setUneditable(g.gutterBackground),_.insertBefore(g.gutterBackground,g.text)}var M=g.line.gutterMarkers;if(u.options.lineNumbers||M){var F=Po(g),B=g.gutter=ce("div",null,"CodeMirror-gutter-wrapper","left: "+(u.options.fixedGutter?y.fixedPos:-y.gutterTotalWidth)+"px");if(B.setAttribute("aria-hidden","true"),u.display.input.setUneditable(B),F.insertBefore(B,g.text),g.line.gutterClass&&(B.className+=" "+g.line.gutterClass),u.options.lineNumbers&&(!M||!M["CodeMirror-linenumbers"])&&(g.lineNumber=B.appendChild(ce("div",mr(u.options,x),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+y.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+u.display.lineNumInnerWidth+"px"))),M)for(var N=0;N<u.display.gutterSpecs.length;++N){var W=u.display.gutterSpecs[N].className,J=M.hasOwnProperty(W)&&M[W];J&&B.appendChild(ce("div",[J],"CodeMirror-gutter-elt","left: "+y.gutterLeft[W]+"px; width: "+y.gutterWidth[W]+"px"))}}}function gc(u,g,x){g.alignable&&(g.alignable=null);for(var y=Ee("CodeMirror-linewidget"),_=g.node.firstChild,M=void 0;_;_=M)M=_.nextSibling,y.test(_.className)&&g.node.removeChild(_);vc(u,g,x)}function mc(u,g,x,y){var _=kr(u,g);return g.text=g.node=_.pre,_.bgClass&&(g.bgClass=_.bgClass),_.textClass&&(g.textClass=_.textClass),Ml(u,g),pc(u,g,x,y),vc(u,g,y),g.node}function vc(u,g,x){if(Al(u,g.line,g,x,!0),g.rest)for(var y=0;y<g.rest.length;y++)Al(u,g.rest[y],g,x,!1)}function Al(u,g,x,y,_){if(g.widgets)for(var M=Po(x),F=0,B=g.widgets;F<B.length;++F){var N=B[F],W=ce("div",[N.node],"CodeMirror-linewidget"+(N.className?" "+N.className:""));N.handleMouseEvents||W.setAttribute("cm-ignore-events","true"),Ji(N,W,x,y),u.display.input.setUneditable(W),_&&N.above?M.insertBefore(W,x.gutter||x.text):M.appendChild(W),Pn(N,"redraw")}}function Ji(u,g,x,y){if(u.noHScroll){(x.alignable||(x.alignable=[])).push(g);var _=y.wrapperWidth;g.style.left=y.fixedPos+"px",u.coverGutter||(_-=y.gutterTotalWidth,g.style.paddingLeft=y.gutterTotalWidth+"px"),g.style.width=_+"px"}u.coverGutter&&(g.style.zIndex=5,g.style.position="relative",u.noHScroll||(g.style.marginLeft=-y.gutterTotalWidth+"px"))}function oa(u){if(u.height!=null)return u.height;var g=u.doc.cm;if(!g)return 0;if(!tt(document.body,u.node)){var x="position: relative;";u.coverGutter&&(x+="margin-left: -"+g.display.gutters.offsetWidth+"px;"),u.noHScroll&&(x+="width: "+g.display.wrapper.clientWidth+"px;"),ct(g.display.measure,ce("div",[u.node],null,x))}return u.height=u.node.parentNode.offsetHeight}function hs(u,g){for(var x=Zn(g);x!=u.wrapper;x=x.parentNode)if(!x||x.nodeType==1&&x.getAttribute("cm-ignore-events")=="true"||x.parentNode==u.sizer&&x!=u.mover)return!0}function Wa(u){return u.lineSpace.offsetTop}function Ls(u){return u.mover.offsetHeight-u.lineSpace.offsetHeight}function bc(u){if(u.cachedPaddingH)return u.cachedPaddingH;var g=ct(u.measure,ce("pre","x","CodeMirror-line-like")),x=window.getComputedStyle?window.getComputedStyle(g):g.currentStyle,y={left:parseInt(x.paddingLeft),right:parseInt(x.paddingRight)};return!isNaN(y.left)&&!isNaN(y.right)&&(u.cachedPaddingH=y),y}function fi(u){return Lt-u.display.nativeBarWidth}function ra(u){return u.display.scroller.clientWidth-fi(u)-u.display.barWidth}function Os(u){return u.display.scroller.clientHeight-fi(u)-u.display.barHeight}function Uh(u,g,x){var y=u.options.lineWrapping,_=y&&ra(u);if(!g.measure.heights||y&&g.measure.width!=_){var M=g.measure.heights=[];if(y){g.measure.width=_;for(var F=g.text.firstChild.getClientRects(),B=0;B<F.length-1;B++){var N=F[B],W=F[B+1];Math.abs(N.bottom-W.bottom)>2&&M.push((N.bottom+W.top)/2-x.top)}}M.push(x.bottom-x.top)}}function yc(u,g,x){if(u.line==g)return{map:u.measure.map,cache:u.measure.cache};if(u.rest){for(var y=0;y<u.rest.length;y++)if(u.rest[y]==g)return{map:u.measure.maps[y],cache:u.measure.caches[y]};for(var _=0;_<u.rest.length;_++)if(Bt(u.rest[_])>x)return{map:u.measure.maps[_],cache:u.measure.caches[_],before:!0}}}function xc(u,g){g=tn(g);var x=Bt(g),y=u.display.externalMeasured=new Zi(u.doc,g,x);y.lineN=x;var _=y.built=ti(u,y);return y.text=_.pre,ct(u.display.lineMeasure,_.pre),y}function Il(u,g,x,y){return Qi(u,ja(u,g),x,y)}function Fl(u,g){if(g>=u.display.viewFrom&&g<u.display.viewTo)return u.display.view[qt(u,g)];var x=u.display.externalMeasured;if(x&&g>=x.lineN&&g<x.lineN+x.size)return x}function ja(u,g){var x=Bt(g),y=Fl(u,x);y&&!y.text?y=null:y&&y.changes&&(hc(u,y,x,Ua(u)),u.curOp.forceUpdate=!0),y||(y=xc(u,g));var _=yc(y,g,x);return{line:g,view:y,rect:null,map:_.map,cache:_.cache,before:_.before,hasHeights:!1}}function Qi(u,g,x,y,_){g.before&&(x=-1);var M=x+(y||""),F;return g.cache.hasOwnProperty(M)?F=g.cache[M]:(g.rect||(g.rect=g.view.text.getBoundingClientRect()),g.hasHeights||(Uh(u,g.view,g.rect),g.hasHeights=!0),F=$h(u,g,x,y),F.bogus||(g.cache[M]=F)),{left:F.left,right:F.right,top:_?F.rtop:F.top,bottom:_?F.rbottom:F.bottom}}var Cc={left:0,right:0,top:0,bottom:0};function wc(u,g,x){for(var y,_,M,F,B,N,W=0;W<u.length;W+=3)if(B=u[W],N=u[W+1],g<B?(_=0,M=1,F="left"):g<N?(_=g-B,M=_+1):(W==u.length-3||g==N&&u[W+3]>g)&&(M=N-B,_=M-1,g>=N&&(F="right")),_!=null){if(y=u[W+2],B==N&&x==(y.insertLeft?"left":"right")&&(F=x),x=="left"&&_==0)for(;W&&u[W-2]==u[W-3]&&u[W-1].insertLeft;)y=u[(W-=3)+2],F="left";if(x=="right"&&_==N-B)for(;W<u.length-3&&u[W+3]==u[W+4]&&!u[W+5].insertLeft;)y=u[(W+=3)+2],F="right";break}return{node:y,start:_,end:M,collapse:F,coverStart:B,coverEnd:N}}function _c(u,g){var x=Cc;if(g=="left")for(var y=0;y<u.length&&(x=u[y]).left==x.right;y++);else for(var _=u.length-1;_>=0&&(x=u[_]).left==x.right;_--);return x}function $h(u,g,x,y){var _=wc(g.map,x,y),M=_.node,F=_.start,B=_.end,N=_.collapse,W;if(M.nodeType==3){for(var J=0;J<4;J++){for(;F&&L(g.line.text.charAt(_.coverStart+F));)--F;for(;_.coverStart+B<_.coverEnd&&L(g.line.text.charAt(_.coverStart+B));)++B;if(T&&E<9&&F==0&&B==_.coverEnd-_.coverStart?W=M.parentNode.getBoundingClientRect():W=_c(Re(M,F,B).getClientRects(),y),W.left||W.right||F==0)break;B=F,F=F-1,N="right"}T&&E<11&&(W=Ll(u.display.measure,W))}else{F>0&&(N=y="right");var se;u.options.lineWrapping&&(se=M.getClientRects()).length>1?W=se[y=="right"?se.length-1:0]:W=M.getBoundingClientRect()}if(T&&E<9&&!F&&(!W||!W.left&&!W.right)){var Ce=M.parentNode.getClientRects()[0];Ce?W={left:Ce.left,right:Ce.left+Wi(u.display),top:Ce.top,bottom:Ce.bottom}:W=Cc}for(var ge=W.top-g.rect.top,Pe=W.bottom-g.rect.top,We=(ge+Pe)/2,$e=g.view.measure.heights,Ge=0;Ge<$e.length-1&&!(We<$e[Ge]);Ge++);var Je=Ge?$e[Ge-1]:0,Xe=$e[Ge],it={left:(N=="right"?W.right:W.left)-g.rect.left,right:(N=="left"?W.left:W.right)-g.rect.left,top:Je,bottom:Xe};return!W.left&&!W.right&&(it.bogus=!0),u.options.singleCursorHeightPerLine||(it.rtop=ge,it.rbottom=Pe),it}function Ll(u,g){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ni(u))return g;var x=screen.logicalXDPI/screen.deviceXDPI,y=screen.logicalYDPI/screen.deviceYDPI;return{left:g.left*x,right:g.right*x,top:g.top*y,bottom:g.bottom*y}}function kc(u){if(u.measure&&(u.measure.cache={},u.measure.heights=null,u.rest))for(var g=0;g<u.rest.length;g++)u.measure.caches[g]={}}function Sc(u){u.display.externalMeasure=null,je(u.display.lineMeasure);for(var g=0;g<u.display.view.length;g++)kc(u.display.view[g])}function Bo(u){Sc(u),u.display.cachedCharWidth=u.display.cachedTextHeight=u.display.cachedPaddingH=null,u.options.lineWrapping||(u.display.maxLineChanged=!0),u.display.lineNumChars=null}function Tc(u){return R&&le?-(u.body.getBoundingClientRect().left-parseInt(getComputedStyle(u.body).marginLeft)):u.defaultView.pageXOffset||(u.documentElement||u.body).scrollLeft}function Dc(u){return R&&le?-(u.body.getBoundingClientRect().top-parseInt(getComputedStyle(u.body).marginTop)):u.defaultView.pageYOffset||(u.documentElement||u.body).scrollTop}function Ol(u){var g=tn(u),x=g.widgets,y=0;if(x)for(var _=0;_<x.length;++_)x[_].above&&(y+=oa(x[_]));return y}function Sr(u,g,x,y,_){if(!_){var M=Ol(g);x.top+=M,x.bottom+=M}if(y=="line")return x;y||(y="local");var F=Ki(g);if(y=="local"?F+=Wa(u.display):F-=u.display.viewOffset,y=="page"||y=="window"){var B=u.display.lineSpace.getBoundingClientRect();F+=B.top+(y=="window"?0:Dc($(u)));var N=B.left+(y=="window"?0:Tc($(u)));x.left+=N,x.right+=N}return x.top+=F,x.bottom+=F,x}function Ec(u,g,x){if(x=="div")return g;var y=g.left,_=g.top;if(x=="page")y-=Tc($(u)),_-=Dc($(u));else if(x=="local"||!x){var M=u.display.sizer.getBoundingClientRect();y+=M.left,_+=M.top}var F=u.display.lineSpace.getBoundingClientRect();return{left:y-F.left,top:_-F.top}}function es(u,g,x,y,_){return y||(y=ut(u.doc,g.line)),Sr(u,y,Il(u,y,g.ch,_),x)}function Vi(u,g,x,y,_,M){y=y||ut(u.doc,g.line),_||(_=ja(u,y));function F(Pe,We){var $e=Qi(u,_,Pe,We?"right":"left",M);return We?$e.left=$e.right:$e.right=$e.left,Sr(u,y,$e,x)}var B=re(y,u.doc.direction),N=g.ch,W=g.sticky;if(N>=y.text.length?(N=y.text.length,W="before"):N<=0&&(N=0,W="after"),!B)return F(W=="before"?N-1:N,W=="before");function J(Pe,We,$e){var Ge=B[We],Je=Ge.level==1;return F($e?Pe-1:Pe,Je!=$e)}var se=xe(B,N,W),Ce=de,ge=J(N,se,W=="before");return Ce!=null&&(ge.other=J(N,Ce,W!="before")),ge}function Mc(u,g){var x=0;g=yt(u.doc,g),u.options.lineWrapping||(x=Wi(u.display)*g.ch);var y=ut(u.doc,g.line),_=Ki(y)+Wa(u.display);return{left:x,right:x,top:_,bottom:_+y.height}}function Pl(u,g,x,y,_){var M=Ue(u,g,x);return M.xRel=_,y&&(M.outside=y),M}function Bl(u,g,x){var y=u.doc;if(x+=u.display.viewOffset,x<0)return Pl(y.first,0,null,-1,-1);var _=Ms(y,x),M=y.first+y.size-1;if(_>M)return Pl(y.first+y.size-1,ut(y,M).text.length,null,1,1);g<0&&(g=0);for(var F=ut(y,_);;){var B=qh(u,F,_,g,x),N=Bh(F,B.ch+(B.xRel>0||B.outside>0?1:0));if(!N)return B;var W=N.find(1);if(W.line==_)return W;F=ut(y,_=W.line)}}function Ac(u,g,x,y){y-=Ol(g);var _=g.text.length,M=Q(function(F){return Qi(u,x,F-1).bottom<=y},_,0);return _=Q(function(F){return Qi(u,x,F).top>y},M,_),{begin:M,end:_}}function Ic(u,g,x,y){x||(x=ja(u,g));var _=Sr(u,g,Qi(u,x,y),"line").top;return Ac(u,g,x,_)}function Rl(u,g,x,y){return u.bottom<=x?!1:u.top>x?!0:(y?u.left:u.right)>g}function qh(u,g,x,y,_){_-=Ki(g);var M=ja(u,g),F=Ol(g),B=0,N=g.text.length,W=!0,J=re(g,u.doc.direction);if(J){var se=(u.options.lineWrapping?Tr:Wn)(u,g,x,M,J,y,_);W=se.level!=1,B=W?se.from:se.to-1,N=W?se.to:se.from-1}var Ce=null,ge=null,Pe=Q(function(ft){var dt=Qi(u,M,ft);return dt.top+=F,dt.bottom+=F,Rl(dt,y,_,!1)?(dt.top<=_&&dt.left<=y&&(Ce=ft,ge=dt),!0):!1},B,N),We,$e,Ge=!1;if(ge){var Je=y-ge.left<ge.right-y,Xe=Je==W;Pe=Ce+(Xe?0:1),$e=Xe?"after":"before",We=Je?ge.left:ge.right}else{!W&&(Pe==N||Pe==B)&&Pe++,$e=Pe==0?"after":Pe==g.text.length?"before":Qi(u,M,Pe-(W?1:0)).bottom+F<=_==W?"after":"before";var it=Vi(u,Ue(x,Pe,$e),"line",g,M);We=it.left,Ge=_<it.top?-1:_>=it.bottom?1:0}return Pe=H(g.text,Pe,1),Pl(x,Pe,$e,Ge,y-We)}function Wn(u,g,x,y,_,M,F){var B=Q(function(se){var Ce=_[se],ge=Ce.level!=1;return Rl(Vi(u,Ue(x,ge?Ce.to:Ce.from,ge?"before":"after"),"line",g,y),M,F,!0)},0,_.length-1),N=_[B];if(B>0){var W=N.level!=1,J=Vi(u,Ue(x,W?N.from:N.to,W?"after":"before"),"line",g,y);Rl(J,M,F,!0)&&J.top>F&&(N=_[B-1])}return N}function Tr(u,g,x,y,_,M,F){var B=Ac(u,g,y,F),N=B.begin,W=B.end;/\s/.test(g.text.charAt(W-1))&&W--;for(var J=null,se=null,Ce=0;Ce<_.length;Ce++){var ge=_[Ce];if(!(ge.from>=W||ge.to<=N)){var Pe=ge.level!=1,We=Qi(u,y,Pe?Math.min(W,ge.to)-1:Math.max(N,ge.from)).right,$e=We<M?M-We+1e9:We-M;(!J||se>$e)&&(J=ge,se=$e)}}return J||(J=_[_.length-1]),J.from<N&&(J={from:N,to:J.to,level:J.level}),J.to>W&&(J={from:J.from,to:W,level:J.level}),J}var ts;function Jn(u){if(u.cachedTextHeight!=null)return u.cachedTextHeight;if(ts==null){ts=ce("pre",null,"CodeMirror-line-like");for(var g=0;g<49;++g)ts.appendChild(document.createTextNode("x")),ts.appendChild(ce("br"));ts.appendChild(document.createTextNode("x"))}ct(u.measure,ts);var x=ts.offsetHeight/50;return x>3&&(u.cachedTextHeight=x),je(u.measure),x||1}function Wi(u){if(u.cachedCharWidth!=null)return u.cachedCharWidth;var g=ce("span","xxxxxxxxxx"),x=ce("pre",[g],"CodeMirror-line-like");ct(u.measure,x);var y=g.getBoundingClientRect(),_=(y.right-y.left)/10;return _>2&&(u.cachedCharWidth=_),_||10}function Ua(u){for(var g=u.display,x={},y={},_=g.gutters.clientLeft,M=g.gutters.firstChild,F=0;M;M=M.nextSibling,++F){var B=u.display.gutterSpecs[F].className;x[B]=M.offsetLeft+M.clientLeft+_,y[B]=M.clientWidth}return{fixedPos:Ps(g),gutterTotalWidth:g.gutters.offsetWidth,gutterLeft:x,gutterWidth:y,wrapperWidth:g.wrapper.clientWidth}}function Ps(u){return u.scroller.getBoundingClientRect().left-u.sizer.getBoundingClientRect().left}function Dr(u){var g=Jn(u.display),x=u.options.lineWrapping,y=x&&Math.max(5,u.display.scroller.clientWidth/Wi(u.display)-3);return function(_){if(Si(u.doc,_))return 0;var M=0;if(_.widgets)for(var F=0;F<_.widgets.length;F++)_.widgets[F].height&&(M+=_.widgets[F].height);return x?M+(Math.ceil(_.text.length/y)||1)*g:M+g}}function Nl(u){var g=u.doc,x=Dr(u);g.iter(function(y){var _=x(y);_!=y.height&&Mi(y,_)})}function Bs(u,g,x,y){var _=u.display;if(!x&&Zn(g).getAttribute("cm-not-content")=="true")return null;var M,F,B=_.lineSpace.getBoundingClientRect();try{M=g.clientX-B.left,F=g.clientY-B.top}catch{return null}var N=Bl(u,M,F),W;if(y&&N.xRel>0&&(W=ut(u.doc,N.line).text).length==N.ch){var J=zt(W,W.length,u.options.tabSize)-W.length;N=Ue(N.line,Math.max(0,Math.round((M-bc(u.display).left)/Wi(u.display))-J))}return N}function qt(u,g){if(g>=u.display.viewTo||(g-=u.display.viewFrom,g<0))return null;for(var x=u.display.view,y=0;y<x.length;y++)if(g-=x[y].size,g<0)return y}function jn(u,g,x,y){g==null&&(g=u.doc.first),x==null&&(x=u.doc.first+u.doc.size),y||(y=0);var _=u.display;if(y&&x<_.viewTo&&(_.updateLineNumbers==null||_.updateLineNumbers>g)&&(_.updateLineNumbers=g),u.curOp.viewChanged=!0,g>=_.viewTo)Xi&&As(u.doc,g)<_.viewTo&&ni(u);else if(x<=_.viewFrom)Xi&&Is(u.doc,x+y)>_.viewFrom?ni(u):(_.viewFrom+=y,_.viewTo+=y);else if(g<=_.viewFrom&&x>=_.viewTo)ni(u);else if(g<=_.viewFrom){var M=pi(u,x,x+y,1);M?(_.view=_.view.slice(M.index),_.viewFrom=M.lineN,_.viewTo+=y):ni(u)}else if(x>=_.viewTo){var F=pi(u,g,g,-1);F?(_.view=_.view.slice(0,F.index),_.viewTo=F.lineN):ni(u)}else{var B=pi(u,g,g,-1),N=pi(u,x,x+y,1);B&&N?(_.view=_.view.slice(0,B.index).concat(_r(u,B.lineN,N.lineN)).concat(_.view.slice(N.index)),_.viewTo+=y):ni(u)}var W=_.externalMeasured;W&&(x<W.lineN?W.lineN+=y:g<W.lineN+W.size&&(_.externalMeasured=null))}function Rs(u,g,x){u.curOp.viewChanged=!0;var y=u.display,_=u.display.externalMeasured;if(_&&g>=_.lineN&&g<_.lineN+_.size&&(y.externalMeasured=null),!(g<y.viewFrom||g>=y.viewTo)){var M=y.view[qt(u,g)];if(M.node!=null){var F=M.changes||(M.changes=[]);Mt(F,x)==-1&&F.push(x)}}}function ni(u){u.display.viewFrom=u.display.viewTo=u.doc.first,u.display.view=[],u.display.viewOffset=0}function pi(u,g,x,y){var _=qt(u,g),M,F=u.display.view;if(!Xi||x==u.doc.first+u.doc.size)return{index:_,lineN:x};for(var B=u.display.viewFrom,N=0;N<_;N++)B+=F[N].size;if(B!=g){if(y>0){if(_==F.length-1)return null;M=B+F[_].size-g,_++}else M=B-g;g+=M,x+=M}for(;As(u.doc,x)!=x;){if(_==(y<0?0:F.length-1))return null;x+=y*F[_-(y<0?1:0)].size,_+=y}return{index:_,lineN:x}}function Ti(u,g,x){var y=u.display,_=y.view;_.length==0||g>=y.viewTo||x<=y.viewFrom?(y.view=_r(u,g,x),y.viewFrom=g):(y.viewFrom>g?y.view=_r(u,g,y.viewFrom).concat(y.view):y.viewFrom<g&&(y.view=y.view.slice(qt(u,g))),y.viewFrom=g,y.viewTo<x?y.view=y.view.concat(_r(u,y.viewTo,x)):y.viewTo>x&&(y.view=y.view.slice(0,qt(u,x)))),y.viewTo=x}function zl(u){for(var g=u.display.view,x=0,y=0;y<g.length;y++){var _=g[y];!_.hidden&&(!_.node||_.changes)&&++x}return x}function $a(u){u.display.input.showSelection(u.display.input.prepareSelection())}function Fc(u,g){g===void 0&&(g=!0);var x=u.doc,y={},_=y.cursors=document.createDocumentFragment(),M=y.selection=document.createDocumentFragment(),F=u.options.$customCursor;F&&(g=!0);for(var B=0;B<x.sel.ranges.length;B++)if(!(!g&&B==x.sel.primIndex)){var N=x.sel.ranges[B];if(!(N.from().line>=u.display.viewTo||N.to().line<u.display.viewFrom)){var W=N.empty();if(F){var J=F(u,N);J&&la(u,J,_)}else(W||u.options.showCursorWhenSelecting)&&la(u,N.head,_);W||Hl(u,N,M)}}return y}function la(u,g,x){var y=Vi(u,g,"div",null,null,!u.options.singleCursorHeightPerLine),_=x.appendChild(ce("div"," ","CodeMirror-cursor"));if(_.style.left=y.left+"px",_.style.top=y.top+"px",_.style.height=Math.max(0,y.bottom-y.top)*u.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(u.getWrapperElement().className)){var M=es(u,g,"div",null,null),F=M.right-M.left;_.style.width=(F>0?F:u.defaultCharWidth())+"px"}if(y.other){var B=x.appendChild(ce("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));B.style.display="",B.style.left=y.other.left+"px",B.style.top=y.other.top+"px",B.style.height=(y.other.bottom-y.other.top)*.85+"px"}}function Er(u,g){return u.top-g.top||u.left-g.left}function Hl(u,g,x){var y=u.display,_=u.doc,M=document.createDocumentFragment(),F=bc(u.display),B=F.left,N=Math.max(y.sizerWidth,ra(u)-y.sizer.offsetLeft)-F.right,W=_.direction=="ltr";function J(Xe,it,ft,dt){it<0&&(it=0),it=Math.round(it),dt=Math.round(dt),M.appendChild(ce("div",null,"CodeMirror-selected","position: absolute; left: "+Xe+`px;
                             top: `+it+"px; width: "+(ft??N-Xe)+`px;
                             height: `+(dt-it)+"px"))}function se(Xe,it,ft){var dt=ut(_,Xe),Dt=dt.text.length,Vt,Bn;function nn(xn,ri){return es(u,Ue(Xe,xn),"div",dt,ri)}function yi(xn,ri,qn){var Cn=Ic(u,dt,null,xn),wn=ri=="ltr"==(qn=="after")?"left":"right",an=qn=="after"?Cn.begin:Cn.end-(/\s/.test(dt.text.charAt(Cn.end-1))?2:1);return nn(an,wn)[wn]}var oi=re(dt,_.direction);return te(oi,it||0,ft??Dt,function(xn,ri,qn,Cn){var wn=qn=="ltr",an=nn(xn,wn?"left":"right"),vi=nn(ri-1,wn?"right":"left"),ya=it==null&&xn==0,qs=ft==null&&ri==Dt,Yn=Cn==0,as=!oi||Cn==oi.length-1;if(vi.top-an.top<=3){var En=(W?ya:qs)&&Yn,du=(W?qs:ya)&&as,os=En?B:(wn?an:vi).left,xa=du?N:(wn?vi:an).right;J(os,an.top,xa-os,an.bottom)}else{var Ys,Qn,Ca,hu;wn?(Ys=W&&ya&&Yn?B:an.left,Qn=W?N:yi(xn,qn,"before"),Ca=W?B:yi(ri,qn,"after"),hu=W&&qs&&as?N:vi.right):(Ys=W?yi(xn,qn,"before"):B,Qn=!W&&ya&&Yn?N:an.right,Ca=!W&&qs&&as?B:vi.left,hu=W?yi(ri,qn,"after"):N),J(Ys,an.top,Qn-Ys,an.bottom),an.bottom<vi.top&&J(B,an.bottom,null,vi.top),J(Ca,vi.top,hu-Ca,vi.bottom)}(!Vt||Er(an,Vt)<0)&&(Vt=an),Er(vi,Vt)<0&&(Vt=vi),(!Bn||Er(an,Bn)<0)&&(Bn=an),Er(vi,Bn)<0&&(Bn=vi)}),{start:Vt,end:Bn}}var Ce=g.from(),ge=g.to();if(Ce.line==ge.line)se(Ce.line,Ce.ch,ge.ch);else{var Pe=ut(_,Ce.line),We=ut(_,ge.line),$e=tn(Pe)==tn(We),Ge=se(Ce.line,Ce.ch,$e?Pe.text.length+1:null).end,Je=se(ge.line,$e?0:null,ge.ch).start;$e&&(Ge.top<Je.top-2?(J(Ge.right,Ge.top,null,Ge.bottom),J(B,Je.top,Je.left,Je.bottom)):J(Ge.right,Ge.top,Je.left-Ge.right,Ge.bottom)),Ge.bottom<Je.top&&J(B,Ge.bottom,null,Je.top)}x.appendChild(M)}function Mr(u){if(u.state.focused){var g=u.display;clearInterval(g.blinker);var x=!0;g.cursorDiv.style.visibility="",u.options.cursorBlinkRate>0?g.blinker=setInterval(function(){u.hasFocus()||ns(u),g.cursorDiv.style.visibility=(x=!x)?"":"hidden"},u.options.cursorBlinkRate):u.options.cursorBlinkRate<0&&(g.cursorDiv.style.visibility="hidden")}}function ua(u){u.hasFocus()||(u.display.input.focus(),u.state.focused||fs(u))}function ca(u){u.state.delayingBlurEvent=!0,setTimeout(function(){u.state.delayingBlurEvent&&(u.state.delayingBlurEvent=!1,u.state.focused&&ns(u))},100)}function fs(u,g){u.state.delayingBlurEvent&&!u.state.draggingText&&(u.state.delayingBlurEvent=!1),u.options.readOnly!="nocursor"&&(u.state.focused||(Qe(u,"focus",u,g),u.state.focused=!0,Pt(u.display.wrapper,"CodeMirror-focused"),!u.curOp&&u.display.selForContextMenu!=u.doc.sel&&(u.display.input.reset(),A&&setTimeout(function(){return u.display.input.reset(!0)},20)),u.display.input.receivedFocus()),Mr(u))}function ns(u,g){u.state.delayingBlurEvent||(u.state.focused&&(Qe(u,"blur",u,g),u.state.focused=!1,Ae(u.display.wrapper,"CodeMirror-focused")),clearInterval(u.display.blinker),setTimeout(function(){u.state.focused||(u.display.shift=!1)},150))}function ji(u){for(var g=u.display,x=g.lineDiv.offsetTop,y=Math.max(0,g.scroller.getBoundingClientRect().top),_=g.lineDiv.getBoundingClientRect().top,M=0,F=0;F<g.view.length;F++){var B=g.view[F],N=u.options.lineWrapping,W=void 0,J=0;if(!B.hidden){if(_+=B.line.height,T&&E<8){var se=B.node.offsetTop+B.node.offsetHeight;W=se-x,x=se}else{var Ce=B.node.getBoundingClientRect();W=Ce.bottom-Ce.top,!N&&B.text.firstChild&&(J=B.text.firstChild.getBoundingClientRect().right-Ce.left-1)}var ge=B.line.height-W;if((ge>.005||ge<-.005)&&(_<y&&(M-=ge),Mi(B.line,W),qa(B.line),B.rest))for(var Pe=0;Pe<B.rest.length;Pe++)qa(B.rest[Pe]);if(J>u.display.sizerWidth){var We=Math.ceil(J/Wi(u.display));We>u.display.maxLineLength&&(u.display.maxLineLength=We,u.display.maxLine=B.line,u.display.maxLineChanged=!0)}}}Math.abs(M)>2&&(g.scroller.scrollTop+=M)}function qa(u){if(u.widgets)for(var g=0;g<u.widgets.length;++g){var x=u.widgets[g],y=x.node.parentNode;y&&(x.height=y.offsetHeight)}}function Ns(u,g,x){var y=x&&x.top!=null?Math.max(0,x.top):u.scroller.scrollTop;y=Math.floor(y-Wa(u));var _=x&&x.bottom!=null?x.bottom:y+u.wrapper.clientHeight,M=Ms(g,y),F=Ms(g,_);if(x&&x.ensure){var B=x.ensure.from.line,N=x.ensure.to.line;B<M?(M=B,F=Ms(g,Ki(ut(g,B))+u.wrapper.clientHeight)):Math.min(N,g.lastLine())>=F&&(M=Ms(g,Ki(ut(g,N))-u.wrapper.clientHeight),F=N)}return{from:M,to:Math.max(F,M+1)}}function Ii(u,g){if(!qe(u,"scrollCursorIntoView")){var x=u.display,y=x.sizer.getBoundingClientRect(),_=null,M=x.wrapper.ownerDocument;if(g.top+y.top<0?_=!0:g.bottom+y.top>(M.defaultView.innerHeight||M.documentElement.clientHeight)&&(_=!1),_!=null&&!oe){var F=ce("div","​",null,`position: absolute;
                         top: `+(g.top-x.viewOffset-Wa(u.display))+`px;
                         height: `+(g.bottom-g.top+fi(u)+x.barHeight)+`px;
                         left: `+g.left+"px; width: "+Math.max(2,g.right-g.left)+"px;");u.display.lineSpace.appendChild(F),F.scrollIntoView(_),u.display.lineSpace.removeChild(F)}}}function is(u,g,x,y){y==null&&(y=0);var _;!u.options.lineWrapping&&g==x&&(x=g.sticky=="before"?Ue(g.line,g.ch+1,"before"):g,g=g.ch?Ue(g.line,g.sticky=="before"?g.ch-1:g.ch,"after"):g);for(var M=0;M<5;M++){var F=!1,B=Vi(u,g),N=!x||x==g?B:Vi(u,x);_={left:Math.min(B.left,N.left),top:Math.min(B.top,N.top)-y,right:Math.max(B.left,N.left),bottom:Math.max(B.bottom,N.bottom)+y};var W=Ar(u,_),J=u.doc.scrollTop,se=u.doc.scrollLeft;if(W.scrollTop!=null&&(da(u,W.scrollTop),Math.abs(u.doc.scrollTop-J)>1&&(F=!0)),W.scrollLeft!=null&&(ss(u,W.scrollLeft),Math.abs(u.doc.scrollLeft-se)>1&&(F=!0)),!F)break}return _}function Lc(u,g){var x=Ar(u,g);x.scrollTop!=null&&da(u,x.scrollTop),x.scrollLeft!=null&&ss(u,x.scrollLeft)}function Ar(u,g){var x=u.display,y=Jn(u.display);g.top<0&&(g.top=0);var _=u.curOp&&u.curOp.scrollTop!=null?u.curOp.scrollTop:x.scroller.scrollTop,M=Os(u),F={};g.bottom-g.top>M&&(g.bottom=g.top+M);var B=u.doc.height+Ls(x),N=g.top<y,W=g.bottom>B-y;if(g.top<_)F.scrollTop=N?0:g.top;else if(g.bottom>_+M){var J=Math.min(g.top,(W?B:g.bottom)-M);J!=_&&(F.scrollTop=J)}var se=u.options.fixedGutter?0:x.gutters.offsetWidth,Ce=u.curOp&&u.curOp.scrollLeft!=null?u.curOp.scrollLeft:x.scroller.scrollLeft-se,ge=ra(u)-x.gutters.offsetWidth,Pe=g.right-g.left>ge;return Pe&&(g.right=g.left+ge),g.left<10?F.scrollLeft=0:g.left<Ce?F.scrollLeft=Math.max(0,g.left+se-(Pe?0:10)):g.right>ge+Ce-3&&(F.scrollLeft=g.right+(Pe?0:10)-ge),F}function Ya(u,g){g!=null&&(Ir(u),u.curOp.scrollTop=(u.curOp.scrollTop==null?u.doc.scrollTop:u.curOp.scrollTop)+g)}function ps(u){Ir(u);var g=u.getCursor();u.curOp.scrollToPos={from:g,to:g,margin:u.options.cursorScrollMargin}}function gi(u,g,x){(g!=null||x!=null)&&Ir(u),g!=null&&(u.curOp.scrollLeft=g),x!=null&&(u.curOp.scrollTop=x)}function zs(u,g){Ir(u),u.curOp.scrollToPos=g}function Ir(u){var g=u.curOp.scrollToPos;if(g){u.curOp.scrollToPos=null;var x=Mc(u,g.from),y=Mc(u,g.to);Oc(u,x,y,g.margin)}}function Oc(u,g,x,y){var _=Ar(u,{left:Math.min(g.left,x.left),top:Math.min(g.top,x.top)-y,right:Math.max(g.right,x.right),bottom:Math.max(g.bottom,x.bottom)+y});gi(u,_.scrollLeft,_.scrollTop)}function da(u,g){Math.abs(u.doc.scrollTop-g)<2||(p||Or(u,{top:g}),Fr(u,g,!0),p&&Or(u),Dn(u,100))}function Fr(u,g,x){g=Math.max(0,Math.min(u.display.scroller.scrollHeight-u.display.scroller.clientHeight,g)),!(u.display.scroller.scrollTop==g&&!x)&&(u.doc.scrollTop=g,u.display.scrollbars.setScrollTop(g),u.display.scroller.scrollTop!=g&&(u.display.scroller.scrollTop=g))}function ss(u,g,x,y){g=Math.max(0,Math.min(g,u.display.scroller.scrollWidth-u.display.scroller.clientWidth)),!((x?g==u.doc.scrollLeft:Math.abs(u.doc.scrollLeft-g)<2)&&!y)&&(u.doc.scrollLeft=g,Rc(u),u.display.scroller.scrollLeft!=g&&(u.display.scroller.scrollLeft=g),u.display.scrollbars.setScrollLeft(g))}function Ga(u){var g=u.display,x=g.gutters.offsetWidth,y=Math.round(u.doc.height+Ls(u.display));return{clientHeight:g.scroller.clientHeight,viewHeight:g.wrapper.clientHeight,scrollWidth:g.scroller.scrollWidth,clientWidth:g.scroller.clientWidth,viewWidth:g.wrapper.clientWidth,barLeft:u.options.fixedGutter?x:0,docHeight:y,scrollHeight:y+fi(u)+g.barHeight,nativeBarWidth:g.nativeBarWidth,gutterWidth:x}}var Di=function(u,g,x){this.cm=x;var y=this.vert=ce("div",[ce("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),_=this.horiz=ce("div",[ce("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");y.tabIndex=_.tabIndex=-1,u(y),u(_),ve(y,"scroll",function(){y.clientHeight&&g(y.scrollTop,"vertical")}),ve(_,"scroll",function(){_.clientWidth&&g(_.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,T&&E<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Di.prototype.update=function(u){var g=u.scrollWidth>u.clientWidth+1,x=u.scrollHeight>u.clientHeight+1,y=u.nativeBarWidth;if(x){this.vert.style.display="block",this.vert.style.bottom=g?y+"px":"0";var _=u.viewHeight-(g?y:0);this.vert.firstChild.style.height=Math.max(0,u.scrollHeight-u.clientHeight+_)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(g){this.horiz.style.display="block",this.horiz.style.right=x?y+"px":"0",this.horiz.style.left=u.barLeft+"px";var M=u.viewWidth-u.barLeft-(x?y:0);this.horiz.firstChild.style.width=Math.max(0,u.scrollWidth-u.clientWidth+M)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&u.clientHeight>0&&(y==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:x?y:0,bottom:g?y:0}},Di.prototype.setScrollLeft=function(u){this.horiz.scrollLeft!=u&&(this.horiz.scrollLeft=u),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Di.prototype.setScrollTop=function(u){this.vert.scrollTop!=u&&(this.vert.scrollTop=u),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Di.prototype.zeroWidthHack=function(){var u=ae&&!ie?"12px":"18px";this.horiz.style.height=this.vert.style.width=u,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new $t,this.disableVert=new $t},Di.prototype.enableZeroWidthBar=function(u,g,x){u.style.visibility="";function y(){var _=u.getBoundingClientRect(),M=x=="vert"?document.elementFromPoint(_.right-1,(_.top+_.bottom)/2):document.elementFromPoint((_.right+_.left)/2,_.bottom-1);M!=u?u.style.visibility="hidden":g.set(1e3,y)}g.set(1e3,y)},Di.prototype.clear=function(){var u=this.horiz.parentNode;u.removeChild(this.horiz),u.removeChild(this.vert)};var Xa=function(){};Xa.prototype.update=function(){return{bottom:0,right:0}},Xa.prototype.setScrollLeft=function(){},Xa.prototype.setScrollTop=function(){},Xa.prototype.clear=function(){};function ha(u,g){g||(g=Ga(u));var x=u.display.barWidth,y=u.display.barHeight;Vl(u,g);for(var _=0;_<4&&x!=u.display.barWidth||y!=u.display.barHeight;_++)x!=u.display.barWidth&&u.options.lineWrapping&&ji(u),Vl(u,Ga(u)),x=u.display.barWidth,y=u.display.barHeight}function Vl(u,g){var x=u.display,y=x.scrollbars.update(g);x.sizer.style.paddingRight=(x.barWidth=y.right)+"px",x.sizer.style.paddingBottom=(x.barHeight=y.bottom)+"px",x.heightForcer.style.borderBottom=y.bottom+"px solid transparent",y.right&&y.bottom?(x.scrollbarFiller.style.display="block",x.scrollbarFiller.style.height=y.bottom+"px",x.scrollbarFiller.style.width=y.right+"px"):x.scrollbarFiller.style.display="",y.bottom&&u.options.coverGutterNextToScrollbar&&u.options.fixedGutter?(x.gutterFiller.style.display="block",x.gutterFiller.style.height=y.bottom+"px",x.gutterFiller.style.width=g.gutterWidth+"px"):x.gutterFiller.style.display=""}var Wl={native:Di,null:Xa};function jl(u){u.display.scrollbars&&(u.display.scrollbars.clear(),u.display.scrollbars.addClass&&Ae(u.display.wrapper,u.display.scrollbars.addClass)),u.display.scrollbars=new Wl[u.options.scrollbarStyle](function(g){u.display.wrapper.insertBefore(g,u.display.scrollbarFiller),ve(g,"mousedown",function(){u.state.focused&&setTimeout(function(){return u.display.input.focus()},0)}),g.setAttribute("cm-not-content","true")},function(g,x){x=="horizontal"?ss(u,g):da(u,g)},u),u.display.scrollbars.addClass&&Pt(u.display.wrapper,u.display.scrollbars.addClass)}var Ul=0;function Un(u){u.curOp={cm:u,viewChanged:!1,startHeight:u.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ul,markArrays:null},zh(u.curOp)}function ii(u){var g=u.curOp;g&&Vh(g,function(x){for(var y=0;y<x.ops.length;y++)x.ops[y].cm.curOp=null;yn(x)})}function yn(u){for(var g=u.ops,x=0;x<g.length;x++)Hs(g[x]);for(var y=0;y<g.length;y++)Ka(g[y]);for(var _=0;_<g.length;_++)Vs(g[_]);for(var M=0;M<g.length;M++)Za(g[M]);for(var F=0;F<g.length;F++)Ro(g[F])}function Hs(u){var g=u.cm,x=g.display;Ja(g),u.updateMaxLine&&Dl(g),u.mustUpdate=u.viewChanged||u.forceUpdate||u.scrollTop!=null||u.scrollToPos&&(u.scrollToPos.from.line<x.viewFrom||u.scrollToPos.to.line>=x.viewTo)||x.maxLineChanged&&g.options.lineWrapping,u.update=u.mustUpdate&&new No(g,u.mustUpdate&&{top:u.scrollTop,ensure:u.scrollToPos},u.forceUpdate)}function Ka(u){u.updatedDisplay=u.mustUpdate&&Lr(u.cm,u.update)}function Vs(u){var g=u.cm,x=g.display;u.updatedDisplay&&ji(g),u.barMeasure=Ga(g),x.maxLineChanged&&!g.options.lineWrapping&&(u.adjustWidthTo=Il(g,x.maxLine,x.maxLine.text.length).left+3,g.display.sizerWidth=u.adjustWidthTo,u.barMeasure.scrollWidth=Math.max(x.scroller.clientWidth,x.sizer.offsetLeft+u.adjustWidthTo+fi(g)+g.display.barWidth),u.maxScrollLeft=Math.max(0,x.sizer.offsetLeft+u.adjustWidthTo-ra(g))),(u.updatedDisplay||u.selectionChanged)&&(u.preparedSelection=x.input.prepareSelection())}function Za(u){var g=u.cm;u.adjustWidthTo!=null&&(g.display.sizer.style.minWidth=u.adjustWidthTo+"px",u.maxScrollLeft<g.doc.scrollLeft&&ss(g,Math.min(g.display.scroller.scrollLeft,u.maxScrollLeft),!0),g.display.maxLineChanged=!1);var x=u.focus&&u.focus==mt(Oe(g));u.preparedSelection&&g.display.input.showSelection(u.preparedSelection,x),(u.updatedDisplay||u.startHeight!=g.doc.height)&&ha(g,u.barMeasure),u.updatedDisplay&&zo(g,u.barMeasure),u.selectionChanged&&Mr(g),g.state.focused&&u.updateInput&&g.display.input.reset(u.typing),x&&ua(u.cm)}function Ro(u){var g=u.cm,x=g.display,y=g.doc;if(u.updatedDisplay&&ql(g,u.update),x.wheelStartX!=null&&(u.scrollTop!=null||u.scrollLeft!=null||u.scrollToPos)&&(x.wheelStartX=x.wheelStartY=null),u.scrollTop!=null&&Fr(g,u.scrollTop,u.forceScroll),u.scrollLeft!=null&&ss(g,u.scrollLeft,!0,!0),u.scrollToPos){var _=is(g,yt(y,u.scrollToPos.from),yt(y,u.scrollToPos.to),u.scrollToPos.margin);Ii(g,_)}var M=u.maybeHiddenMarkers,F=u.maybeUnhiddenMarkers;if(M)for(var B=0;B<M.length;++B)M[B].lines.length||Qe(M[B],"hide");if(F)for(var N=0;N<F.length;++N)F[N].lines.length&&Qe(F[N],"unhide");x.wrapper.offsetHeight&&(y.scrollTop=g.display.scroller.scrollTop),u.changeObjs&&Qe(g,"changes",g,u.changeObjs),u.update&&u.update.finish()}function mi(u,g){if(u.curOp)return g();Un(u);try{return g()}finally{ii(u)}}function Sn(u,g){return function(){if(u.curOp)return g.apply(u,arguments);Un(u);try{return g.apply(u,arguments)}finally{ii(u)}}}function pn(u){return function(){if(this.curOp)return u.apply(this,arguments);Un(this);try{return u.apply(this,arguments)}finally{ii(this)}}}function Tn(u){return function(){var g=this.cm;if(!g||g.curOp)return u.apply(this,arguments);Un(g);try{return u.apply(this,arguments)}finally{ii(g)}}}function Dn(u,g){u.doc.highlightFrontier<u.display.viewTo&&u.state.highlight.set(g,Ut($l,u))}function $l(u){var g=u.doc;if(!(g.highlightFrontier>=u.display.viewTo)){var x=+new Date+u.options.workTime,y=Pa(u,g.highlightFrontier),_=[];g.iter(y.line,Math.min(g.first+g.size,u.display.viewTo+500),function(M){if(y.line>=u.display.viewFrom){var F=M.styles,B=M.text.length>u.options.maxHighlightLength?Hi(g.mode,y.state):null,N=yl(u,M,y,!0);B&&(y.state=B),M.styles=N.styles;var W=M.styleClasses,J=N.classes;J?M.styleClasses=J:W&&(M.styleClasses=null);for(var se=!F||F.length!=M.styles.length||W!=J&&(!W||!J||W.bgClass!=J.bgClass||W.textClass!=J.textClass),Ce=0;!se&&Ce<F.length;++Ce)se=F[Ce]!=M.styles[Ce];se&&_.push(y.line),M.stateAfter=y.save(),y.nextLine()}else M.text.length<=u.options.maxHighlightLength&&vr(u,M.text,y),M.stateAfter=y.line%5==0?y.save():null,y.nextLine();if(+new Date>x)return Dn(u,u.options.workDelay),!0}),g.highlightFrontier=y.line,g.modeFrontier=Math.max(g.modeFrontier,y.line),_.length&&mi(u,function(){for(var M=0;M<_.length;M++)Rs(u,_[M],"text")})}}var No=function(u,g,x){var y=u.display;this.viewport=g,this.visible=Ns(y,u.doc,g),this.editorIsHidden=!y.wrapper.offsetWidth,this.wrapperHeight=y.wrapper.clientHeight,this.wrapperWidth=y.wrapper.clientWidth,this.oldDisplayWidth=ra(u),this.force=x,this.dims=Ua(u),this.events=[]};No.prototype.signal=function(u,g){bt(u,g)&&this.events.push(arguments)},No.prototype.finish=function(){for(var u=0;u<this.events.length;u++)Qe.apply(null,this.events[u])};function Ja(u){var g=u.display;!g.scrollbarsClipped&&g.scroller.offsetWidth&&(g.nativeBarWidth=g.scroller.offsetWidth-g.scroller.clientWidth,g.heightForcer.style.height=fi(u)+"px",g.sizer.style.marginBottom=-g.nativeBarWidth+"px",g.sizer.style.borderRightWidth=fi(u)+"px",g.scrollbarsClipped=!0)}function Pc(u){if(u.hasFocus())return null;var g=mt(Oe(u));if(!g||!tt(u.display.lineDiv,g))return null;var x={activeElt:g};if(window.getSelection){var y=ht(u).getSelection();y.anchorNode&&y.extend&&tt(u.display.lineDiv,y.anchorNode)&&(x.anchorNode=y.anchorNode,x.anchorOffset=y.anchorOffset,x.focusNode=y.focusNode,x.focusOffset=y.focusOffset)}return x}function Bc(u){if(!(!u||!u.activeElt||u.activeElt==mt(wt(u.activeElt)))&&(u.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(u.activeElt.nodeName)&&u.anchorNode&&tt(document.body,u.anchorNode)&&tt(document.body,u.focusNode))){var g=u.activeElt.ownerDocument,x=g.defaultView.getSelection(),y=g.createRange();y.setEnd(u.anchorNode,u.anchorOffset),y.collapse(!1),x.removeAllRanges(),x.addRange(y),x.extend(u.focusNode,u.focusOffset)}}function Lr(u,g){var x=u.display,y=u.doc;if(g.editorIsHidden)return ni(u),!1;if(!g.force&&g.visible.from>=x.viewFrom&&g.visible.to<=x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo)&&x.renderedView==x.view&&zl(u)==0)return!1;Nc(u)&&(ni(u),g.dims=Ua(u));var _=y.first+y.size,M=Math.max(g.visible.from-u.options.viewportMargin,y.first),F=Math.min(_,g.visible.to+u.options.viewportMargin);x.viewFrom<M&&M-x.viewFrom<20&&(M=Math.max(y.first,x.viewFrom)),x.viewTo>F&&x.viewTo-F<20&&(F=Math.min(_,x.viewTo)),Xi&&(M=As(u.doc,M),F=Is(u.doc,F));var B=M!=x.viewFrom||F!=x.viewTo||x.lastWrapHeight!=g.wrapperHeight||x.lastWrapWidth!=g.wrapperWidth;Ti(u,M,F),x.viewOffset=Ki(ut(u.doc,x.viewFrom)),u.display.mover.style.top=x.viewOffset+"px";var N=zl(u);if(!B&&N==0&&!g.force&&x.renderedView==x.view&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo))return!1;var W=Pc(u);return N>4&&(x.lineDiv.style.display="none"),Ui(u,x.updateLineNumbers,g.dims),N>4&&(x.lineDiv.style.display=""),x.renderedView=x.view,Bc(W),je(x.cursorDiv),je(x.selectionDiv),x.gutters.style.height=x.sizer.style.minHeight=0,B&&(x.lastWrapHeight=g.wrapperHeight,x.lastWrapWidth=g.wrapperWidth,Dn(u,400)),x.updateLineNumbers=null,!0}function ql(u,g){for(var x=g.viewport,y=!0;;y=!1){if(!y||!u.options.lineWrapping||g.oldDisplayWidth==ra(u)){if(x&&x.top!=null&&(x={top:Math.min(u.doc.height+Ls(u.display)-Os(u),x.top)}),g.visible=Ns(u.display,u.doc,x),g.visible.from>=u.display.viewFrom&&g.visible.to<=u.display.viewTo)break}else y&&(g.visible=Ns(u.display,u.doc,x));if(!Lr(u,g))break;ji(u);var _=Ga(u);$a(u),ha(u,_),zo(u,_),g.force=!1}g.signal(u,"update",u),(u.display.viewFrom!=u.display.reportedViewFrom||u.display.viewTo!=u.display.reportedViewTo)&&(g.signal(u,"viewportChange",u,u.display.viewFrom,u.display.viewTo),u.display.reportedViewFrom=u.display.viewFrom,u.display.reportedViewTo=u.display.viewTo)}function Or(u,g){var x=new No(u,g);if(Lr(u,x)){ji(u),ql(u,x);var y=Ga(u);$a(u),ha(u,y),zo(u,y),x.finish()}}function Ui(u,g,x){var y=u.display,_=u.options.lineNumbers,M=y.lineDiv,F=M.firstChild;function B(Pe){var We=Pe.nextSibling;return A&&ae&&u.display.currentWheelTarget==Pe?Pe.style.display="none":Pe.parentNode.removeChild(Pe),We}for(var N=y.view,W=y.viewFrom,J=0;J<N.length;J++){var se=N[J];if(!se.hidden)if(!se.node||se.node.parentNode!=M){var Ce=mc(u,se,W,x);M.insertBefore(Ce,F)}else{for(;F!=se.node;)F=B(F);var ge=_&&g!=null&&g<=W&&se.lineNumber;se.changes&&(Mt(se.changes,"gutter")>-1&&(ge=!1),hc(u,se,W,x)),ge&&(je(se.lineNumber),se.lineNumber.appendChild(document.createTextNode(mr(u.options,W)))),F=se.node.nextSibling}W+=se.size}for(;F;)F=B(F)}function Qa(u){var g=u.gutters.offsetWidth;u.sizer.style.marginLeft=g+"px",Pn(u,"gutterChanged",u)}function zo(u,g){u.display.sizer.style.minHeight=g.docHeight+"px",u.display.heightForcer.style.top=g.docHeight+"px",u.display.gutters.style.height=g.docHeight+u.display.barHeight+fi(u)+"px"}function Rc(u){var g=u.display,x=g.view;if(!(!g.alignWidgets&&(!g.gutters.firstChild||!u.options.fixedGutter))){for(var y=Ps(g)-g.scroller.scrollLeft+u.doc.scrollLeft,_=g.gutters.offsetWidth,M=y+"px",F=0;F<x.length;F++)if(!x[F].hidden){u.options.fixedGutter&&(x[F].gutter&&(x[F].gutter.style.left=M),x[F].gutterBackground&&(x[F].gutterBackground.style.left=M));var B=x[F].alignable;if(B)for(var N=0;N<B.length;N++)B[N].style.left=M}u.options.fixedGutter&&(g.gutters.style.left=y+_+"px")}}function Nc(u){if(!u.options.lineNumbers)return!1;var g=u.doc,x=mr(u.options,g.first+g.size-1),y=u.display;if(x.length!=y.lineNumChars){var _=y.measure.appendChild(ce("div",[ce("div",x)],"CodeMirror-linenumber CodeMirror-gutter-elt")),M=_.firstChild.offsetWidth,F=_.offsetWidth-M;return y.lineGutter.style.width="",y.lineNumInnerWidth=Math.max(M,y.lineGutter.offsetWidth-F)+1,y.lineNumWidth=y.lineNumInnerWidth+F,y.lineNumChars=y.lineNumInnerWidth?x.length:-1,y.lineGutter.style.width=y.lineNumWidth+"px",Qa(u.display),!0}return!1}function Pr(u,g){for(var x=[],y=!1,_=0;_<u.length;_++){var M=u[_],F=null;if(typeof M!="string"&&(F=M.style,M=M.className),M=="CodeMirror-linenumbers")if(g)y=!0;else continue;x.push({className:M,style:F})}return g&&!y&&x.push({className:"CodeMirror-linenumbers",style:null}),x}function zc(u){var g=u.gutters,x=u.gutterSpecs;je(g),u.lineGutter=null;for(var y=0;y<x.length;++y){var _=x[y],M=_.className,F=_.style,B=g.appendChild(ce("div",null,"CodeMirror-gutter "+M));F&&(B.style.cssText=F),M=="CodeMirror-linenumbers"&&(u.lineGutter=B,B.style.width=(u.lineNumWidth||1)+"px")}g.style.display=x.length?"":"none",Qa(u)}function Ho(u){zc(u.display),jn(u),Rc(u)}function Yh(u,g,x,y){var _=this;this.input=x,_.scrollbarFiller=ce("div",null,"CodeMirror-scrollbar-filler"),_.scrollbarFiller.setAttribute("cm-not-content","true"),_.gutterFiller=ce("div",null,"CodeMirror-gutter-filler"),_.gutterFiller.setAttribute("cm-not-content","true"),_.lineDiv=Ve("div",null,"CodeMirror-code"),_.selectionDiv=ce("div",null,null,"position: relative; z-index: 1"),_.cursorDiv=ce("div",null,"CodeMirror-cursors"),_.measure=ce("div",null,"CodeMirror-measure"),_.lineMeasure=ce("div",null,"CodeMirror-measure"),_.lineSpace=Ve("div",[_.measure,_.lineMeasure,_.selectionDiv,_.cursorDiv,_.lineDiv],null,"position: relative; outline: none");var M=Ve("div",[_.lineSpace],"CodeMirror-lines");_.mover=ce("div",[M],null,"position: relative"),_.sizer=ce("div",[_.mover],"CodeMirror-sizer"),_.sizerWidth=null,_.heightForcer=ce("div",null,null,"position: absolute; height: "+Lt+"px; width: 1px;"),_.gutters=ce("div",null,"CodeMirror-gutters"),_.lineGutter=null,_.scroller=ce("div",[_.sizer,_.heightForcer,_.gutters],"CodeMirror-scroll"),_.scroller.setAttribute("tabIndex","-1"),_.wrapper=ce("div",[_.scrollbarFiller,_.gutterFiller,_.scroller],"CodeMirror"),R&&j>=105&&(_.wrapper.style.clipPath="inset(0px)"),_.wrapper.setAttribute("translate","no"),T&&E<8&&(_.gutters.style.zIndex=-1,_.scroller.style.paddingRight=0),!A&&!(p&&Z)&&(_.scroller.draggable=!0),u&&(u.appendChild?u.appendChild(_.wrapper):u(_.wrapper)),_.viewFrom=_.viewTo=g.first,_.reportedViewFrom=_.reportedViewTo=g.first,_.view=[],_.renderedView=null,_.externalMeasured=null,_.viewOffset=0,_.lastWrapHeight=_.lastWrapWidth=0,_.updateLineNumbers=null,_.nativeBarWidth=_.barHeight=_.barWidth=0,_.scrollbarsClipped=!1,_.lineNumWidth=_.lineNumInnerWidth=_.lineNumChars=null,_.alignWidgets=!1,_.cachedCharWidth=_.cachedTextHeight=_.cachedPaddingH=null,_.maxLine=null,_.maxLineLength=0,_.maxLineChanged=!1,_.wheelDX=_.wheelDY=_.wheelStartX=_.wheelStartY=null,_.shift=!1,_.selForContextMenu=null,_.activeTouch=null,_.gutterSpecs=Pr(y.gutters,y.lineNumbers),zc(_),x.init(_)}var Br=0,gs=null;T?gs=-.53:p?gs=15:R?gs=-.7:ne&&(gs=-1/3);function Hc(u){var g=u.wheelDeltaX,x=u.wheelDeltaY;return g==null&&u.detail&&u.axis==u.HORIZONTAL_AXIS&&(g=u.detail),x==null&&u.detail&&u.axis==u.VERTICAL_AXIS?x=u.detail:x==null&&(x=u.wheelDelta),{x:g,y:x}}function Vc(u){var g=Hc(u);return g.x*=gs,g.y*=gs,g}function Wc(u,g){R&&j==102&&(u.display.chromeScrollHack==null?u.display.sizer.style.pointerEvents="none":clearTimeout(u.display.chromeScrollHack),u.display.chromeScrollHack=setTimeout(function(){u.display.chromeScrollHack=null,u.display.sizer.style.pointerEvents=""},100));var x=Hc(g),y=x.x,_=x.y,M=gs;g.deltaMode===0&&(y=g.deltaX,_=g.deltaY,M=1);var F=u.display,B=F.scroller,N=B.scrollWidth>B.clientWidth,W=B.scrollHeight>B.clientHeight;if(y&&N||_&&W){if(_&&ae&&A){e:for(var J=g.target,se=F.view;J!=B;J=J.parentNode)for(var Ce=0;Ce<se.length;Ce++)if(se[Ce].node==J){u.display.currentWheelTarget=J;break e}}if(y&&!p&&!X&&M!=null){_&&W&&da(u,Math.max(0,B.scrollTop+_*M)),ss(u,Math.max(0,B.scrollLeft+y*M)),(!_||_&&W)&&gt(g),F.wheelStartX=null;return}if(_&&M!=null){var ge=_*M,Pe=u.doc.scrollTop,We=Pe+F.wrapper.clientHeight;ge<0?Pe=Math.max(0,Pe+ge-50):We=Math.min(u.doc.height,We+ge+50),Or(u,{top:Pe,bottom:We})}Br<20&&g.deltaMode!==0&&(F.wheelStartX==null?(F.wheelStartX=B.scrollLeft,F.wheelStartY=B.scrollTop,F.wheelDX=y,F.wheelDY=_,setTimeout(function(){if(F.wheelStartX!=null){var $e=B.scrollLeft-F.wheelStartX,Ge=B.scrollTop-F.wheelStartY,Je=Ge&&F.wheelDY&&Ge/F.wheelDY||$e&&F.wheelDX&&$e/F.wheelDX;F.wheelStartX=F.wheelStartY=null,Je&&(gs=(gs*Br+Je)/(Br+1),++Br)}},200)):(F.wheelDX+=y,F.wheelDY+=_))}}var Ei=function(u,g){this.ranges=u,this.primIndex=g};Ei.prototype.primary=function(){return this.ranges[this.primIndex]},Ei.prototype.equals=function(u){if(u==this)return!0;if(u.primIndex!=this.primIndex||u.ranges.length!=this.ranges.length)return!1;for(var g=0;g<this.ranges.length;g++){var x=this.ranges[g],y=u.ranges[g];if(!ml(x.anchor,y.anchor)||!ml(x.head,y.head))return!1}return!0},Ei.prototype.deepCopy=function(){for(var u=[],g=0;g<this.ranges.length;g++)u[g]=new Ot(aa(this.ranges[g].anchor),aa(this.ranges[g].head));return new Ei(u,this.primIndex)},Ei.prototype.somethingSelected=function(){for(var u=0;u<this.ranges.length;u++)if(!this.ranges[u].empty())return!0;return!1},Ei.prototype.contains=function(u,g){g||(g=u);for(var x=0;x<this.ranges.length;x++){var y=this.ranges[x];if(Ct(g,y.from())>=0&&Ct(u,y.to())<=0)return x}return-1};var Ot=function(u,g){this.anchor=u,this.head=g};Ot.prototype.from=function(){return Oa(this.anchor,this.head)},Ot.prototype.to=function(){return La(this.anchor,this.head)},Ot.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function $i(u,g,x){var y=u&&u.options.selectionsMayTouch,_=g[x];g.sort(function(Ce,ge){return Ct(Ce.from(),ge.from())}),x=Mt(g,_);for(var M=1;M<g.length;M++){var F=g[M],B=g[M-1],N=Ct(B.to(),F.from());if(y&&!F.empty()?N>0:N>=0){var W=Oa(B.from(),F.from()),J=La(B.to(),F.to()),se=B.empty()?F.from()==F.head:B.from()==B.head;M<=x&&--x,g.splice(--M,2,new Ot(se?J:W,se?W:J))}}return new Ei(g,x)}function Ws(u,g){return new Ei([new Ot(u,g||u)],0)}function js(u){return u.text?Ue(u.from.line+u.text.length-1,ot(u.text).length+(u.text.length==1?u.from.ch:0)):u.to}function Rr(u,g){if(Ct(u,g.from)<0)return u;if(Ct(u,g.to)<=0)return js(g);var x=u.line+g.text.length-(g.to.line-g.from.line)-1,y=u.ch;return u.line==g.to.line&&(y+=js(g).ch-g.to.ch),Ue(x,y)}function Vo(u,g){for(var x=[],y=0;y<u.sel.ranges.length;y++){var _=u.sel.ranges[y];x.push(new Ot(Rr(_.anchor,g),Rr(_.head,g)))}return $i(u.cm,x,u.sel.primIndex)}function Ze(u,g,x){return u.line==g.line?Ue(x.line,u.ch-g.ch+x.ch):Ue(x.line+(u.line-g.line),u.ch)}function si(u,g,x){for(var y=[],_=Ue(u.first,0),M=_,F=0;F<g.length;F++){var B=g[F],N=Ze(B.from,_,M),W=Ze(js(B),_,M);if(_=B.to,M=W,x=="around"){var J=u.sel.ranges[F],se=Ct(J.head,J.anchor)<0;y[F]=new Ot(se?W:N,se?N:W)}else y[F]=new Ot(N,N)}return new Ei(y,u.sel.primIndex)}function Yl(u){u.doc.mode=na(u.options,u.doc.modeOption),fa(u)}function fa(u){u.doc.iter(function(g){g.stateAfter&&(g.stateAfter=null),g.styles&&(g.styles=null)}),u.doc.modeFrontier=u.doc.highlightFrontier=u.doc.first,Dn(u,100),u.state.modeGen++,u.curOp&&jn(u)}function Gl(u,g){return g.from.ch==0&&g.to.ch==0&&ot(g.text)==""&&(!u.cm||u.cm.options.wholeLineUpdateBefore)}function Nr(u,g,x,y){function _(Je){return x?x[Je]:null}function M(Je,Xe,it){El(Je,Xe,it,y),Pn(Je,"change",Je,g)}function F(Je,Xe){for(var it=[],ft=Je;ft<Xe;++ft)it.push(new za(W[ft],_(ft),y));return it}var B=g.from,N=g.to,W=g.text,J=ut(u,B.line),se=ut(u,N.line),Ce=ot(W),ge=_(W.length-1),Pe=N.line-B.line;if(g.full)u.insert(0,F(0,W.length)),u.remove(W.length,u.size-W.length);else if(Gl(u,g)){var We=F(0,W.length-1);M(se,se.text,ge),Pe&&u.remove(B.line,Pe),We.length&&u.insert(B.line,We)}else if(J==se)if(W.length==1)M(J,J.text.slice(0,B.ch)+Ce+J.text.slice(N.ch),ge);else{var $e=F(1,W.length-1);$e.push(new za(Ce+J.text.slice(N.ch),ge,y)),M(J,J.text.slice(0,B.ch)+W[0],_(0)),u.insert(B.line+1,$e)}else if(W.length==1)M(J,J.text.slice(0,B.ch)+W[0]+se.text.slice(N.ch),_(0)),u.remove(B.line+1,Pe);else{M(J,J.text.slice(0,B.ch)+W[0],_(0)),M(se,Ce+se.text.slice(N.ch),ge);var Ge=F(1,W.length-1);Pe>1&&u.remove(B.line+1,Pe-1),u.insert(B.line+1,Ge)}Pn(u,"change",u,g)}function Us(u,g,x){function y(_,M,F){if(_.linked)for(var B=0;B<_.linked.length;++B){var N=_.linked[B];if(N.doc!=M){var W=F&&N.sharedHist;x&&!W||(g(N.doc,W),y(N.doc,_,W))}}}y(u,null,!0)}function jc(u,g){if(g.cm)throw new Error("This document is already in use.");u.doc=g,g.cm=u,Nl(u),Yl(u),Uc(u),u.options.direction=g.direction,u.options.lineWrapping||Dl(u),u.options.mode=g.modeOption,jn(u)}function Uc(u){(u.doc.direction=="rtl"?Pt:Ae)(u.display.lineDiv,"CodeMirror-rtl")}function Gh(u){mi(u,function(){Uc(u),jn(u)})}function zr(u){this.done=[],this.undone=[],this.undoDepth=u?u.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=u?u.maxGeneration:1}function eo(u,g){var x={from:aa(g.from),to:js(g),text:Es(u,g.from,g.to)};return Zl(u,x,g.from.line,g.to.line+1),Us(u,function(y){return Zl(y,x,g.from.line,g.to.line+1)},!0),x}function Xl(u){for(;u.length;){var g=ot(u);if(g.ranges)u.pop();else break}}function Xh(u,g){if(g)return Xl(u.done),ot(u.done);if(u.done.length&&!ot(u.done).ranges)return ot(u.done);if(u.done.length>1&&!u.done[u.done.length-2].ranges)return u.done.pop(),ot(u.done)}function Kl(u,g,x,y){var _=u.history;_.undone.length=0;var M=+new Date,F,B;if((_.lastOp==y||_.lastOrigin==g.origin&&g.origin&&(g.origin.charAt(0)=="+"&&_.lastModTime>M-(u.cm?u.cm.options.historyEventDelay:500)||g.origin.charAt(0)=="*"))&&(F=Xh(_,_.lastOp==y)))B=ot(F.changes),Ct(g.from,g.to)==0&&Ct(g.from,B.to)==0?B.to=js(g):F.changes.push(eo(u,g));else{var N=ot(_.done);for((!N||!N.ranges)&&Hr(u.sel,_.done),F={changes:[eo(u,g)],generation:_.generation},_.done.push(F);_.done.length>_.undoDepth;)_.done.shift(),_.done[0].ranges||_.done.shift()}_.done.push(x),_.generation=++_.maxGeneration,_.lastModTime=_.lastSelTime=M,_.lastOp=_.lastSelOp=y,_.lastOrigin=_.lastSelOrigin=g.origin,B||Qe(u,"historyAdded")}function Kh(u,g,x,y){var _=g.charAt(0);return _=="*"||_=="+"&&x.ranges.length==y.ranges.length&&x.somethingSelected()==y.somethingSelected()&&new Date-u.history.lastSelTime<=(u.cm?u.cm.options.historyEventDelay:500)}function $c(u,g,x,y){var _=u.history,M=y&&y.origin;x==_.lastSelOp||M&&_.lastSelOrigin==M&&(_.lastModTime==_.lastSelTime&&_.lastOrigin==M||Kh(u,M,ot(_.done),g))?_.done[_.done.length-1]=g:Hr(g,_.done),_.lastSelTime=+new Date,_.lastSelOrigin=M,_.lastSelOp=x,y&&y.clearRedo!==!1&&Xl(_.undone)}function Hr(u,g){var x=ot(g);x&&x.ranges&&x.equals(u)||g.push(u)}function Zl(u,g,x,y){var _=g["spans_"+u.id],M=0;u.iter(Math.max(u.first,x),Math.min(u.first+u.size,y),function(F){F.markedSpans&&((_||(_=g["spans_"+u.id]={}))[M]=F.markedSpans),++M})}function Zh(u){if(!u)return null;for(var g,x=0;x<u.length;++x)u[x].marker.explicitlyCleared?g||(g=u.slice(0,x)):g&&g.push(u[x]);return g?g.length?g:null:u}function qc(u,g){var x=g["spans_"+u.id];if(!x)return null;for(var y=[],_=0;_<g.text.length;++_)y.push(Zh(x[_]));return y}function Yc(u,g){var x=qc(u,g),y=_l(u,g);if(!x)return y;if(!y)return x;for(var _=0;_<x.length;++_){var M=x[_],F=y[_];if(M&&F)e:for(var B=0;B<F.length;++B){for(var N=F[B],W=0;W<M.length;++W)if(M[W].marker==N.marker)continue e;M.push(N)}else F&&(x[_]=F)}return x}function pa(u,g,x){for(var y=[],_=0;_<u.length;++_){var M=u[_];if(M.ranges){y.push(x?Ei.prototype.deepCopy.call(M):M);continue}var F=M.changes,B=[];y.push({changes:B});for(var N=0;N<F.length;++N){var W=F[N],J=void 0;if(B.push({from:W.from,to:W.to,text:W.text}),g)for(var se in W)(J=se.match(/^spans_(\d+)$/))&&Mt(g,Number(J[1]))>-1&&(ot(B)[se]=W[se],delete W[se])}}return y}function Jl(u,g,x,y){if(y){var _=u.anchor;if(x){var M=Ct(g,_)<0;M!=Ct(x,_)<0?(_=g,g=x):M!=Ct(g,x)<0&&(g=x)}return new Ot(_,g)}else return new Ot(x||g,g)}function Wo(u,g,x,y,_){_==null&&(_=u.cm&&(u.cm.display.shift||u.extend)),$n(u,new Ei([Jl(u.sel.primary(),g,x,_)],0),y)}function Gc(u,g,x){for(var y=[],_=u.cm&&(u.cm.display.shift||u.extend),M=0;M<u.sel.ranges.length;M++)y[M]=Jl(u.sel.ranges[M],g[M],null,_);var F=$i(u.cm,y,u.sel.primIndex);$n(u,F,x)}function Vr(u,g,x,y){var _=u.sel.ranges.slice(0);_[g]=x,$n(u,$i(u.cm,_,u.sel.primIndex),y)}function Xc(u,g,x,y){$n(u,Ws(g,x),y)}function Kc(u,g,x){var y={ranges:g.ranges,update:function(_){this.ranges=[];for(var M=0;M<_.length;M++)this.ranges[M]=new Ot(yt(u,_[M].anchor),yt(u,_[M].head))},origin:x&&x.origin};return Qe(u,"beforeSelectionChange",u,y),u.cm&&Qe(u.cm,"beforeSelectionChange",u.cm,y),y.ranges!=g.ranges?$i(u.cm,y.ranges,y.ranges.length-1):g}function Zc(u,g,x){var y=u.history.done,_=ot(y);_&&_.ranges?(y[y.length-1]=g,Wr(u,g,x)):$n(u,g,x)}function $n(u,g,x){Wr(u,g,x),$c(u,u.sel,u.cm?u.cm.curOp.id:NaN,x)}function Wr(u,g,x){(bt(u,"beforeSelectionChange")||u.cm&&bt(u.cm,"beforeSelectionChange"))&&(g=Kc(u,g,x));var y=x&&x.bias||(Ct(g.primary().head,u.sel.primary().head)<0?-1:1);Ql(u,Jc(u,g,y,!0)),!(x&&x.scroll===!1)&&u.cm&&u.cm.getOption("readOnly")!="nocursor"&&ps(u.cm)}function Ql(u,g){g.equals(u.sel)||(u.sel=g,u.cm&&(u.cm.curOp.updateInput=1,u.cm.curOp.selectionChanged=!0,vt(u.cm)),Pn(u,"cursorActivity",u))}function ga(u){Ql(u,Jc(u,u.sel,null,!1))}function Jc(u,g,x,y){for(var _,M=0;M<g.ranges.length;M++){var F=g.ranges[M],B=g.ranges.length==u.sel.ranges.length&&u.sel.ranges[M],N=jr(u,F.anchor,B&&B.anchor,x,y),W=F.head==F.anchor?N:jr(u,F.head,B&&B.head,x,y);(_||N!=F.anchor||W!=F.head)&&(_||(_=g.ranges.slice(0,M)),_[M]=new Ot(N,W))}return _?$i(u.cm,_,g.primIndex):g}function to(u,g,x,y,_){var M=ut(u,g.line);if(M.markedSpans)for(var F=0;F<M.markedSpans.length;++F){var B=M.markedSpans[F],N=B.marker,W="selectLeft"in N?!N.selectLeft:N.inclusiveLeft,J="selectRight"in N?!N.selectRight:N.inclusiveRight;if((B.from==null||(W?B.from<=g.ch:B.from<g.ch))&&(B.to==null||(J?B.to>=g.ch:B.to>g.ch))){if(_&&(Qe(N,"beforeCursorEnter"),N.explicitlyCleared))if(M.markedSpans){--F;continue}else break;if(!N.atomic)continue;if(x){var se=N.find(y<0?1:-1),Ce=void 0;if((y<0?J:W)&&(se=Qc(u,se,-y,se&&se.line==g.line?M:null)),se&&se.line==g.line&&(Ce=Ct(se,x))&&(y<0?Ce<0:Ce>0))return to(u,se,g,y,_)}var ge=N.find(y<0?-1:1);return(y<0?W:J)&&(ge=Qc(u,ge,y,ge.line==g.line?M:null)),ge?to(u,ge,g,y,_):null}}return g}function jr(u,g,x,y,_){var M=y||1,F=to(u,g,x,M,_)||!_&&to(u,g,x,M,!0)||to(u,g,x,-M,_)||!_&&to(u,g,x,-M,!0);return F||(u.cantEdit=!0,Ue(u.first,0))}function Qc(u,g,x,y){return x<0&&g.ch==0?g.line>u.first?yt(u,Ue(g.line-1)):null:x>0&&g.ch==(y||ut(u,g.line)).text.length?g.line<u.first+u.size-1?Ue(g.line+1,0):null:new Ue(g.line,g.ch+x)}function ed(u){u.setSelection(Ue(u.firstLine(),0),Ue(u.lastLine()),rn)}function td(u,g,x){var y={canceled:!1,from:g.from,to:g.to,text:g.text,origin:g.origin,cancel:function(){return y.canceled=!0}};return x&&(y.update=function(_,M,F,B){_&&(y.from=yt(u,_)),M&&(y.to=yt(u,M)),F&&(y.text=F),B!==void 0&&(y.origin=B)}),Qe(u,"beforeChange",u,y),u.cm&&Qe(u.cm,"beforeChange",u.cm,y),y.canceled?(u.cm&&(u.cm.curOp.updateInput=2),null):{from:y.from,to:y.to,text:y.text,origin:y.origin}}function ma(u,g,x){if(u.cm){if(!u.cm.curOp)return Sn(u.cm,ma)(u,g,x);if(u.cm.state.suppressEdits)return}if(!((bt(u,"beforeChange")||u.cm&&bt(u.cm,"beforeChange"))&&(g=td(u,g,!0),!g))){var y=wl&&!x&&yr(u,g.from,g.to);if(y)for(var _=y.length-1;_>=0;--_)nd(u,{from:y[_].from,to:y[_].to,text:_?[""]:g.text,origin:g.origin});else nd(u,g)}}function nd(u,g){if(!(g.text.length==1&&g.text[0]==""&&Ct(g.from,g.to)==0)){var x=Vo(u,g);Kl(u,g,x,u.cm?u.cm.curOp.id:NaN),jo(u,g,x,_l(u,g));var y=[];Us(u,function(_,M){!M&&Mt(y,_.history)==-1&&(tu(_.history,g),y.push(_.history)),jo(_,g,null,_l(_,g))})}}function no(u,g,x){var y=u.cm&&u.cm.state.suppressEdits;if(!(y&&!x)){for(var _=u.history,M,F=u.sel,B=g=="undo"?_.done:_.undone,N=g=="undo"?_.undone:_.done,W=0;W<B.length&&(M=B[W],!(x?M.ranges&&!M.equals(u.sel):!M.ranges));W++);if(W!=B.length){for(_.lastOrigin=_.lastSelOrigin=null;;)if(M=B.pop(),M.ranges){if(Hr(M,N),x&&!M.equals(u.sel)){$n(u,M,{clearRedo:!1});return}F=M}else if(y){B.push(M);return}else break;var J=[];Hr(F,N),N.push({changes:J,generation:_.generation}),_.generation=M.generation||++_.maxGeneration;for(var se=bt(u,"beforeChange")||u.cm&&bt(u.cm,"beforeChange"),Ce=function(We){var $e=M.changes[We];if($e.origin=g,se&&!td(u,$e,!1))return B.length=0,{};J.push(eo(u,$e));var Ge=We?Vo(u,$e):ot(B);jo(u,$e,Ge,Yc(u,$e)),!We&&u.cm&&u.cm.scrollIntoView({from:$e.from,to:js($e)});var Je=[];Us(u,function(Xe,it){!it&&Mt(Je,Xe.history)==-1&&(tu(Xe.history,$e),Je.push(Xe.history)),jo(Xe,$e,null,Yc(Xe,$e))})},ge=M.changes.length-1;ge>=0;--ge){var Pe=Ce(ge);if(Pe)return Pe.v}}}}function id(u,g){if(g!=0&&(u.first+=g,u.sel=new Ei(sn(u.sel.ranges,function(_){return new Ot(Ue(_.anchor.line+g,_.anchor.ch),Ue(_.head.line+g,_.head.ch))}),u.sel.primIndex),u.cm)){jn(u.cm,u.first,u.first-g,g);for(var x=u.cm.display,y=x.viewFrom;y<x.viewTo;y++)Rs(u.cm,y,"gutter")}}function jo(u,g,x,y){if(u.cm&&!u.cm.curOp)return Sn(u.cm,jo)(u,g,x,y);if(g.to.line<u.first){id(u,g.text.length-1-(g.to.line-g.from.line));return}if(!(g.from.line>u.lastLine())){if(g.from.line<u.first){var _=g.text.length-1-(u.first-g.from.line);id(u,_),g={from:Ue(u.first,0),to:Ue(g.to.line+_,g.to.ch),text:[ot(g.text)],origin:g.origin}}var M=u.lastLine();g.to.line>M&&(g={from:g.from,to:Ue(M,ut(u,M).text.length),text:[g.text[0]],origin:g.origin}),g.removed=Es(u,g.from,g.to),x||(x=Vo(u,g)),u.cm?sd(u.cm,g,y):Nr(u,g,y),Wr(u,x,rn),u.cantEdit&&jr(u,Ue(u.firstLine(),0))&&(u.cantEdit=!1)}}function sd(u,g,x){var y=u.doc,_=u.display,M=g.from,F=g.to,B=!1,N=M.line;u.options.lineWrapping||(N=Bt(tn(ut(y,M.line))),y.iter(N,F.line+1,function(ge){if(ge==_.maxLine)return B=!0,!0})),y.sel.contains(g.from,g.to)>-1&&vt(u),Nr(y,g,x,Dr(u)),u.options.lineWrapping||(y.iter(N,M.line+g.text.length,function(ge){var Pe=Lo(ge);Pe>_.maxLineLength&&(_.maxLine=ge,_.maxLineLength=Pe,_.maxLineChanged=!0,B=!1)}),B&&(u.curOp.updateMaxLine=!0)),Ju(y,M.line),Dn(u,400);var W=g.text.length-(F.line-M.line)-1;g.full?jn(u):M.line==F.line&&g.text.length==1&&!Gl(u.doc,g)?Rs(u,M.line,"text"):jn(u,M.line,F.line+1,W);var J=bt(u,"changes"),se=bt(u,"change");if(se||J){var Ce={from:M,to:F,text:g.text,removed:g.removed,origin:g.origin};se&&Pn(u,"change",u,Ce),J&&(u.curOp.changeObjs||(u.curOp.changeObjs=[])).push(Ce)}u.display.selForContextMenu=null}function io(u,g,x,y,_){var M;y||(y=x),Ct(y,x)<0&&(M=[y,x],x=M[0],y=M[1]),typeof g=="string"&&(g=u.splitLines(g)),ma(u,{from:x,to:y,text:g,origin:_})}function eu(u,g,x,y){x<u.line?u.line+=y:g<u.line&&(u.line=g,u.ch=0)}function ad(u,g,x,y){for(var _=0;_<u.length;++_){var M=u[_],F=!0;if(M.ranges){M.copied||(M=u[_]=M.deepCopy(),M.copied=!0);for(var B=0;B<M.ranges.length;B++)eu(M.ranges[B].anchor,g,x,y),eu(M.ranges[B].head,g,x,y);continue}for(var N=0;N<M.changes.length;++N){var W=M.changes[N];if(x<W.from.line)W.from=Ue(W.from.line+y,W.from.ch),W.to=Ue(W.to.line+y,W.to.ch);else if(g<=W.to.line){F=!1;break}}F||(u.splice(0,_+1),_=0)}}function tu(u,g){var x=g.from.line,y=g.to.line,_=g.text.length-(y-x)-1;ad(u.done,x,y,_),ad(u.undone,x,y,_)}function Uo(u,g,x,y){var _=g,M=g;return typeof g=="number"?M=ut(u,vl(u,g)):_=Bt(g),_==null?null:(y(M,_)&&u.cm&&Rs(u.cm,_,x),M)}function so(u){this.lines=u,this.parent=null;for(var g=0,x=0;x<u.length;++x)u[x].parent=this,g+=u[x].height;this.height=g}so.prototype={chunkSize:function(){return this.lines.length},removeInner:function(u,g){for(var x=u,y=u+g;x<y;++x){var _=this.lines[x];this.height-=_.height,Fs(_),Pn(_,"delete")}this.lines.splice(u,g)},collapse:function(u){u.push.apply(u,this.lines)},insertInner:function(u,g,x){this.height+=x,this.lines=this.lines.slice(0,u).concat(g).concat(this.lines.slice(u));for(var y=0;y<g.length;++y)g[y].parent=this},iterN:function(u,g,x){for(var y=u+g;u<y;++u)if(x(this.lines[u]))return!0}};function $o(u){this.children=u;for(var g=0,x=0,y=0;y<u.length;++y){var _=u[y];g+=_.chunkSize(),x+=_.height,_.parent=this}this.size=g,this.height=x,this.parent=null}$o.prototype={chunkSize:function(){return this.size},removeInner:function(u,g){this.size-=g;for(var x=0;x<this.children.length;++x){var y=this.children[x],_=y.chunkSize();if(u<_){var M=Math.min(g,_-u),F=y.height;if(y.removeInner(u,M),this.height-=F-y.height,_==M&&(this.children.splice(x--,1),y.parent=null),(g-=M)==0)break;u=0}else u-=_}if(this.size-g<25&&(this.children.length>1||!(this.children[0]instanceof so))){var B=[];this.collapse(B),this.children=[new so(B)],this.children[0].parent=this}},collapse:function(u){for(var g=0;g<this.children.length;++g)this.children[g].collapse(u)},insertInner:function(u,g,x){this.size+=g.length,this.height+=x;for(var y=0;y<this.children.length;++y){var _=this.children[y],M=_.chunkSize();if(u<=M){if(_.insertInner(u,g,x),_.lines&&_.lines.length>50){for(var F=_.lines.length%25+25,B=F;B<_.lines.length;){var N=new so(_.lines.slice(B,B+=25));_.height-=N.height,this.children.splice(++y,0,N),N.parent=this}_.lines=_.lines.slice(0,F),this.maybeSpill()}break}u-=M}},maybeSpill:function(){if(!(this.children.length<=10)){var u=this;do{var g=u.children.splice(u.children.length-5,5),x=new $o(g);if(u.parent){u.size-=x.size,u.height-=x.height;var _=Mt(u.parent.children,u);u.parent.children.splice(_+1,0,x)}else{var y=new $o(u.children);y.parent=u,u.children=[y,x],u=y}x.parent=u.parent}while(u.children.length>10);u.parent.maybeSpill()}},iterN:function(u,g,x){for(var y=0;y<this.children.length;++y){var _=this.children[y],M=_.chunkSize();if(u<M){var F=Math.min(g,M-u);if(_.iterN(u,F,x))return!0;if((g-=F)==0)break;u=0}else u-=M}}};var ao=function(u,g,x){if(x)for(var y in x)x.hasOwnProperty(y)&&(this[y]=x[y]);this.doc=u,this.node=g};ao.prototype.clear=function(){var u=this.doc.cm,g=this.line.widgets,x=this.line,y=Bt(x);if(!(y==null||!g)){for(var _=0;_<g.length;++_)g[_]==this&&g.splice(_--,1);g.length||(x.widgets=null);var M=oa(this);Mi(x,Math.max(0,x.height-M)),u&&(mi(u,function(){od(u,x,-M),Rs(u,y,"widget")}),Pn(u,"lineWidgetCleared",u,this,y))}},ao.prototype.changed=function(){var u=this,g=this.height,x=this.doc.cm,y=this.line;this.height=null;var _=oa(this)-g;_&&(Si(this.doc,y)||Mi(y,y.height+_),x&&mi(x,function(){x.curOp.forceUpdate=!0,od(x,y,_),Pn(x,"lineWidgetChanged",x,u,Bt(y))}))},xt(ao);function od(u,g,x){Ki(g)<(u.curOp&&u.curOp.scrollTop||u.doc.scrollTop)&&Ya(u,x)}function rd(u,g,x,y){var _=new ao(u,x,y),M=u.cm;return M&&_.noHScroll&&(M.display.alignWidgets=!0),Uo(u,g,"widget",function(F){var B=F.widgets||(F.widgets=[]);if(_.insertAt==null?B.push(_):B.splice(Math.min(B.length,Math.max(0,_.insertAt)),0,_),_.line=F,M&&!Si(u,F)){var N=Ki(F)<u.scrollTop;Mi(F,F.height+oa(_)),N&&Ya(M,_.height),M.curOp.forceUpdate=!0}return!0}),M&&Pn(M,"lineWidgetAdded",M,_,typeof g=="number"?g:Bt(g)),_}var ld=0,ms=function(u,g){this.lines=[],this.type=g,this.doc=u,this.id=++ld};ms.prototype.clear=function(){if(!this.explicitlyCleared){var u=this.doc.cm,g=u&&!u.curOp;if(g&&Un(u),bt(this,"clear")){var x=this.find();x&&Pn(this,"clear",x.from,x.to)}for(var y=null,_=null,M=0;M<this.lines.length;++M){var F=this.lines[M],B=Ra(F.markedSpans,this);u&&!this.collapsed?Rs(u,Bt(F),"text"):u&&(B.to!=null&&(_=Bt(F)),B.from!=null&&(y=Bt(F))),F.markedSpans=tc(F.markedSpans,B),B.from==null&&this.collapsed&&!Si(this.doc,F)&&u&&Mi(F,Jn(u.display))}if(u&&this.collapsed&&!u.options.lineWrapping)for(var N=0;N<this.lines.length;++N){var W=tn(this.lines[N]),J=Lo(W);J>u.display.maxLineLength&&(u.display.maxLine=W,u.display.maxLineLength=J,u.display.maxLineChanged=!0)}y!=null&&u&&this.collapsed&&jn(u,y,_+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,u&&ga(u.doc)),u&&Pn(u,"markerCleared",u,this,y,_),g&&ii(u),this.parent&&this.parent.clear()}},ms.prototype.find=function(u,g){u==null&&this.type=="bookmark"&&(u=1);for(var x,y,_=0;_<this.lines.length;++_){var M=this.lines[_],F=Ra(M.markedSpans,this);if(F.from!=null&&(x=Ue(g?M:Bt(M),F.from),u==-1))return x;if(F.to!=null&&(y=Ue(g?M:Bt(M),F.to),u==1))return y}return x&&{from:x,to:y}},ms.prototype.changed=function(){var u=this,g=this.find(-1,!0),x=this,y=this.doc.cm;!g||!y||mi(y,function(){var _=g.line,M=Bt(g.line),F=Fl(y,M);if(F&&(kc(F),y.curOp.selectionChanged=y.curOp.forceUpdate=!0),y.curOp.updateMaxLine=!0,!Si(x.doc,_)&&x.height!=null){var B=x.height;x.height=null;var N=oa(x)-B;N&&Mi(_,_.height+N)}Pn(y,"markerChanged",y,u)})},ms.prototype.attachLine=function(u){if(!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(!g.maybeHiddenMarkers||Mt(g.maybeHiddenMarkers,this)==-1)&&(g.maybeUnhiddenMarkers||(g.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(u)},ms.prototype.detachLine=function(u){if(this.lines.splice(Mt(this.lines,u),1),!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(g.maybeHiddenMarkers||(g.maybeHiddenMarkers=[])).push(this)}},xt(ms);function oo(u,g,x,y,_){if(y&&y.shared)return Jh(u,g,x,y,_);if(u.cm&&!u.cm.curOp)return Sn(u.cm,oo)(u,g,x,y,_);var M=new ms(u,_),F=Ct(g,x);if(y&&Qt(y,M,!1),F>0||F==0&&M.clearWhenEmpty!==!1)return M;if(M.replacedWith&&(M.collapsed=!0,M.widgetNode=Ve("span",[M.replacedWith],"CodeMirror-widget"),y.handleMouseEvents||M.widgetNode.setAttribute("cm-ignore-events","true"),y.insertLeft&&(M.widgetNode.insertLeft=!0)),M.collapsed){if(rt(u,g.line,g,x,M)||g.line!=x.line&&rt(u,x.line,g,x,M))throw new Error("Inserting collapsed marker partially overlapping an existing one");ec()}M.addToHistory&&Kl(u,{from:g,to:x,origin:"markText"},u.sel,NaN);var B=g.line,N=u.cm,W;if(u.iter(B,x.line+1,function(se){N&&M.collapsed&&!N.options.lineWrapping&&tn(se)==N.display.maxLine&&(W=!0),M.collapsed&&B!=g.line&&Mi(se,0),nc(se,new Fo(M,B==g.line?g.ch:null,B==x.line?x.ch:null),u.cm&&u.cm.curOp),++B}),M.collapsed&&u.iter(g.line,x.line+1,function(se){Si(u,se)&&Mi(se,0)}),M.clearOnEnter&&ve(M,"beforeCursorEnter",function(){return M.clear()}),M.readOnly&&(Qu(),(u.history.done.length||u.history.undone.length)&&u.clearHistory()),M.collapsed&&(M.id=++ld,M.atomic=!0),N){if(W&&(N.curOp.updateMaxLine=!0),M.collapsed)jn(N,g.line,x.line+1);else if(M.className||M.startStyle||M.endStyle||M.css||M.attributes||M.title)for(var J=g.line;J<=x.line;J++)Rs(N,J,"text");M.atomic&&ga(N.doc),Pn(N,"markerAdded",N,M)}return M}var ro=function(u,g){this.markers=u,this.primary=g;for(var x=0;x<u.length;++x)u[x].parent=this};ro.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var u=0;u<this.markers.length;++u)this.markers[u].clear();Pn(this,"clear")}},ro.prototype.find=function(u,g){return this.primary.find(u,g)},xt(ro);function Jh(u,g,x,y,_){y=Qt(y),y.shared=!1;var M=[oo(u,g,x,y,_)],F=M[0],B=y.widgetNode;return Us(u,function(N){B&&(y.widgetNode=B.cloneNode(!0)),M.push(oo(N,yt(N,g),yt(N,x),y,_));for(var W=0;W<N.linked.length;++W)if(N.linked[W].isParent)return;F=ot(M)}),new ro(M,F)}function nu(u){return u.findMarks(Ue(u.first,0),u.clipPos(Ue(u.lastLine())),function(g){return g.parent})}function Qh(u,g){for(var x=0;x<g.length;x++){var y=g[x],_=y.find(),M=u.clipPos(_.from),F=u.clipPos(_.to);if(Ct(M,F)){var B=oo(u,M,F,y.primary,y.primary.type);y.markers.push(B),B.parent=y}}}function ud(u){for(var g=function(y){var _=u[y],M=[_.primary.doc];Us(_.primary.doc,function(N){return M.push(N)});for(var F=0;F<_.markers.length;F++){var B=_.markers[F];Mt(M,B.doc)==-1&&(B.parent=null,_.markers.splice(F--,1))}},x=0;x<u.length;x++)g(x)}var ef=0,ai=function(u,g,x,y,_){if(!(this instanceof ai))return new ai(u,g,x,y,_);x==null&&(x=0),$o.call(this,[new so([new za("",null)])]),this.first=x,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=x;var M=Ue(x,0);this.sel=Ws(M),this.history=new zr(null),this.id=++ef,this.modeOption=g,this.lineSep=y,this.direction=_=="rtl"?"rtl":"ltr",this.extend=!1,typeof u=="string"&&(u=this.splitLines(u)),Nr(this,{from:M,to:M,text:u}),$n(this,Ws(M),rn)};ai.prototype=Te($o.prototype,{constructor:ai,iter:function(u,g,x){x?this.iterN(u-this.first,g-u,x):this.iterN(this.first,this.first+this.size,u)},insert:function(u,g){for(var x=0,y=0;y<g.length;++y)x+=g[y].height;this.insertInner(u-this.first,g,x)},remove:function(u,g){this.removeInner(u-this.first,g)},getValue:function(u){var g=sa(this,this.first,this.first+this.size);return u===!1?g:g.join(u||this.lineSeparator())},setValue:Tn(function(u){var g=Ue(this.first,0),x=this.first+this.size-1;ma(this,{from:g,to:Ue(x,ut(this,x).text.length),text:this.splitLines(u),origin:"setValue",full:!0},!0),this.cm&&gi(this.cm,0,0),$n(this,Ws(g),rn)}),replaceRange:function(u,g,x,y){g=yt(this,g),x=x?yt(this,x):g,io(this,u,g,x,y)},getRange:function(u,g,x){var y=Es(this,yt(this,u),yt(this,g));return x===!1?y:x===""?y.join(""):y.join(x||this.lineSeparator())},getLine:function(u){var g=this.getLineHandle(u);return g&&g.text},getLineHandle:function(u){if(Fa(this,u))return ut(this,u)},getLineNumber:function(u){return Bt(u)},getLineHandleVisualStart:function(u){return typeof u=="number"&&(u=ut(this,u)),tn(u)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(u){return yt(this,u)},getCursor:function(u){var g=this.sel.primary(),x;return u==null||u=="head"?x=g.head:u=="anchor"?x=g.anchor:u=="end"||u=="to"||u===!1?x=g.to():x=g.from(),x},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Tn(function(u,g,x){Xc(this,yt(this,typeof u=="number"?Ue(u,g||0):u),null,x)}),setSelection:Tn(function(u,g,x){Xc(this,yt(this,u),yt(this,g||u),x)}),extendSelection:Tn(function(u,g,x){Wo(this,yt(this,u),g&&yt(this,g),x)}),extendSelections:Tn(function(u,g){Gc(this,bl(this,u),g)}),extendSelectionsBy:Tn(function(u,g){var x=sn(this.sel.ranges,u);Gc(this,bl(this,x),g)}),setSelections:Tn(function(u,g,x){if(u.length){for(var y=[],_=0;_<u.length;_++)y[_]=new Ot(yt(this,u[_].anchor),yt(this,u[_].head||u[_].anchor));g==null&&(g=Math.min(u.length-1,this.sel.primIndex)),$n(this,$i(this.cm,y,g),x)}}),addSelection:Tn(function(u,g,x){var y=this.sel.ranges.slice(0);y.push(new Ot(yt(this,u),yt(this,g||u))),$n(this,$i(this.cm,y,y.length-1),x)}),getSelection:function(u){for(var g=this.sel.ranges,x,y=0;y<g.length;y++){var _=Es(this,g[y].from(),g[y].to());x=x?x.concat(_):_}return u===!1?x:x.join(u||this.lineSeparator())},getSelections:function(u){for(var g=[],x=this.sel.ranges,y=0;y<x.length;y++){var _=Es(this,x[y].from(),x[y].to());u!==!1&&(_=_.join(u||this.lineSeparator())),g[y]=_}return g},replaceSelection:function(u,g,x){for(var y=[],_=0;_<this.sel.ranges.length;_++)y[_]=u;this.replaceSelections(y,g,x||"+input")},replaceSelections:Tn(function(u,g,x){for(var y=[],_=this.sel,M=0;M<_.ranges.length;M++){var F=_.ranges[M];y[M]={from:F.from(),to:F.to(),text:this.splitLines(u[M]),origin:x}}for(var B=g&&g!="end"&&si(this,y,g),N=y.length-1;N>=0;N--)ma(this,y[N]);B?Zc(this,B):this.cm&&ps(this.cm)}),undo:Tn(function(){no(this,"undo")}),redo:Tn(function(){no(this,"redo")}),undoSelection:Tn(function(){no(this,"undo",!0)}),redoSelection:Tn(function(){no(this,"redo",!0)}),setExtending:function(u){this.extend=u},getExtending:function(){return this.extend},historySize:function(){for(var u=this.history,g=0,x=0,y=0;y<u.done.length;y++)u.done[y].ranges||++g;for(var _=0;_<u.undone.length;_++)u.undone[_].ranges||++x;return{undo:g,redo:x}},clearHistory:function(){var u=this;this.history=new zr(this.history),Us(this,function(g){return g.history=u.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(u){return u&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(u){return this.history.generation==(u||this.cleanGeneration)},getHistory:function(){return{done:pa(this.history.done),undone:pa(this.history.undone)}},setHistory:function(u){var g=this.history=new zr(this.history);g.done=pa(u.done.slice(0),null,!0),g.undone=pa(u.undone.slice(0),null,!0)},setGutterMarker:Tn(function(u,g,x){return Uo(this,u,"gutter",function(y){var _=y.gutterMarkers||(y.gutterMarkers={});return _[g]=x,!x&&U(_)&&(y.gutterMarkers=null),!0})}),clearGutter:Tn(function(u){var g=this;this.iter(function(x){x.gutterMarkers&&x.gutterMarkers[u]&&Uo(g,x,"gutter",function(){return x.gutterMarkers[u]=null,U(x.gutterMarkers)&&(x.gutterMarkers=null),!0})})}),lineInfo:function(u){var g;if(typeof u=="number"){if(!Fa(this,u)||(g=u,u=ut(this,u),!u))return null}else if(g=Bt(u),g==null)return null;return{line:g,handle:u,text:u.text,gutterMarkers:u.gutterMarkers,textClass:u.textClass,bgClass:u.bgClass,wrapClass:u.wrapClass,widgets:u.widgets}},addLineClass:Tn(function(u,g,x){return Uo(this,u,g=="gutter"?"gutter":"class",function(y){var _=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass";if(!y[_])y[_]=x;else{if(Ee(x).test(y[_]))return!1;y[_]+=" "+x}return!0})}),removeLineClass:Tn(function(u,g,x){return Uo(this,u,g=="gutter"?"gutter":"class",function(y){var _=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass",M=y[_];if(M)if(x==null)y[_]=null;else{var F=M.match(Ee(x));if(!F)return!1;var B=F.index+F[0].length;y[_]=M.slice(0,F.index)+(!F.index||B==M.length?"":" ")+M.slice(B)||null}else return!1;return!0})}),addLineWidget:Tn(function(u,g,x){return rd(this,u,g,x)}),removeLineWidget:function(u){u.clear()},markText:function(u,g,x){return oo(this,yt(this,u),yt(this,g),x,x&&x.type||"range")},setBookmark:function(u,g){var x={replacedWith:g&&(g.nodeType==null?g.widget:g),insertLeft:g&&g.insertLeft,clearWhenEmpty:!1,shared:g&&g.shared,handleMouseEvents:g&&g.handleMouseEvents};return u=yt(this,u),oo(this,u,u,x,"bookmark")},findMarksAt:function(u){u=yt(this,u);var g=[],x=ut(this,u.line).markedSpans;if(x)for(var y=0;y<x.length;++y){var _=x[y];(_.from==null||_.from<=u.ch)&&(_.to==null||_.to>=u.ch)&&g.push(_.marker.parent||_.marker)}return g},findMarks:function(u,g,x){u=yt(this,u),g=yt(this,g);var y=[],_=u.line;return this.iter(u.line,g.line+1,function(M){var F=M.markedSpans;if(F)for(var B=0;B<F.length;B++){var N=F[B];!(N.to!=null&&_==u.line&&u.ch>=N.to||N.from==null&&_!=u.line||N.from!=null&&_==g.line&&N.from>=g.ch)&&(!x||x(N.marker))&&y.push(N.marker.parent||N.marker)}++_}),y},getAllMarks:function(){var u=[];return this.iter(function(g){var x=g.markedSpans;if(x)for(var y=0;y<x.length;++y)x[y].from!=null&&u.push(x[y].marker)}),u},posFromIndex:function(u){var g,x=this.first,y=this.lineSeparator().length;return this.iter(function(_){var M=_.text.length+y;if(M>u)return g=u,!0;u-=M,++x}),yt(this,Ue(x,g))},indexFromPos:function(u){u=yt(this,u);var g=u.ch;if(u.line<this.first||u.ch<0)return 0;var x=this.lineSeparator().length;return this.iter(this.first,u.line,function(y){g+=y.text.length+x}),g},copy:function(u){var g=new ai(sa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return g.scrollTop=this.scrollTop,g.scrollLeft=this.scrollLeft,g.sel=this.sel,g.extend=!1,u&&(g.history.undoDepth=this.history.undoDepth,g.setHistory(this.getHistory())),g},linkedDoc:function(u){u||(u={});var g=this.first,x=this.first+this.size;u.from!=null&&u.from>g&&(g=u.from),u.to!=null&&u.to<x&&(x=u.to);var y=new ai(sa(this,g,x),u.mode||this.modeOption,g,this.lineSep,this.direction);return u.sharedHist&&(y.history=this.history),(this.linked||(this.linked=[])).push({doc:y,sharedHist:u.sharedHist}),y.linked=[{doc:this,isParent:!0,sharedHist:u.sharedHist}],Qh(y,nu(this)),y},unlinkDoc:function(u){if(u instanceof Kt&&(u=u.doc),this.linked)for(var g=0;g<this.linked.length;++g){var x=this.linked[g];if(x.doc==u){this.linked.splice(g,1),u.unlinkDoc(this),ud(nu(this));break}}if(u.history==this.history){var y=[u.id];Us(u,function(_){return y.push(_.id)},!0),u.history=new zr(null),u.history.done=pa(this.history.done,y),u.history.undone=pa(this.history.undone,y)}},iterLinkedDocs:function(u){Us(this,u)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(u){return this.lineSep?u.split(this.lineSep):Mo(u)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Tn(function(u){u!="rtl"&&(u="ltr"),u!=this.direction&&(this.direction=u,this.iter(function(g){return g.order=null}),this.cm&&Gh(this.cm))})}),ai.prototype.eachLine=ai.prototype.iter;var cd=0;function dd(u){var g=this;if(fd(g),!(qe(g,u)||hs(g.display,u))){gt(u),T&&(cd=+new Date);var x=Bs(g,u,!0),y=u.dataTransfer.files;if(!(!x||g.isReadOnly()))if(y&&y.length&&window.FileReader&&window.File)for(var _=y.length,M=Array(_),F=0,B=function(){++F==_&&Sn(g,function(){x=yt(g.doc,x);var ge={from:x,to:x,text:g.doc.splitLines(M.filter(function(Pe){return Pe!=null}).join(g.doc.lineSeparator())),origin:"paste"};ma(g.doc,ge),Zc(g.doc,Ws(yt(g.doc,x),yt(g.doc,js(ge))))})()},N=function(ge,Pe){if(g.options.allowDropFileTypes&&Mt(g.options.allowDropFileTypes,ge.type)==-1){B();return}var We=new FileReader;We.onerror=function(){return B()},We.onload=function(){var $e=We.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test($e)){B();return}M[Pe]=$e,B()},We.readAsText(ge)},W=0;W<y.length;W++)N(y[W],W);else{if(g.state.draggingText&&g.doc.sel.contains(x)>-1){g.state.draggingText(u),setTimeout(function(){return g.display.input.focus()},20);return}try{var J=u.dataTransfer.getData("Text");if(J){var se;if(g.state.draggingText&&!g.state.draggingText.copy&&(se=g.listSelections()),Wr(g.doc,Ws(x,x)),se)for(var Ce=0;Ce<se.length;++Ce)io(g.doc,"",se[Ce].anchor,se[Ce].head,"drag");g.replaceSelection(J,"around","paste"),g.display.input.focus()}}catch{}}}}function tf(u,g){if(T&&(!u.state.draggingText||+new Date-cd<100)){un(g);return}if(!(qe(u,g)||hs(u.display,g))&&(g.dataTransfer.setData("Text",u.getSelection()),g.dataTransfer.effectAllowed="copyMove",g.dataTransfer.setDragImage&&!ne)){var x=ce("img",null,null,"position: fixed; left: 0; top: 0;");x.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",X&&(x.width=x.height=1,u.display.wrapper.appendChild(x),x._top=x.offsetTop),g.dataTransfer.setDragImage(x,0,0),X&&x.parentNode.removeChild(x)}}function hd(u,g){var x=Bs(u,g);if(x){var y=document.createDocumentFragment();la(u,x,y),u.display.dragCursor||(u.display.dragCursor=ce("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),u.display.lineSpace.insertBefore(u.display.dragCursor,u.display.cursorDiv)),ct(u.display.dragCursor,y)}}function fd(u){u.display.dragCursor&&(u.display.lineSpace.removeChild(u.display.dragCursor),u.display.dragCursor=null)}function iu(u){if(document.getElementsByClassName){for(var g=document.getElementsByClassName("CodeMirror"),x=[],y=0;y<g.length;y++){var _=g[y].CodeMirror;_&&x.push(_)}x.length&&x[0].operation(function(){for(var M=0;M<x.length;M++)u(x[M])})}}var pd=!1;function gd(){pd||(nf(),pd=!0)}function nf(){var u;ve(window,"resize",function(){u==null&&(u=setTimeout(function(){u=null,iu(md)},100))}),ve(window,"blur",function(){return iu(ns)})}function md(u){var g=u.display;g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.scrollbarsClipped=!1,u.setSize()}for(var $s={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},lo=0;lo<10;lo++)$s[lo+48]=$s[lo+96]=String(lo);for(var Ur=65;Ur<=90;Ur++)$s[Ur]=String.fromCharCode(Ur);for(var uo=1;uo<=12;uo++)$s[uo+111]=$s[uo+63235]="F"+uo;var vs={};vs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},vs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},vs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},vs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},vs.default=ae?vs.macDefault:vs.pcDefault;function vd(u){var g=u.split(/-(?!$)/);u=g[g.length-1];for(var x,y,_,M,F=0;F<g.length-1;F++){var B=g[F];if(/^(cmd|meta|m)$/i.test(B))M=!0;else if(/^a(lt)?$/i.test(B))x=!0;else if(/^(c|ctrl|control)$/i.test(B))y=!0;else if(/^s(hift)?$/i.test(B))_=!0;else throw new Error("Unrecognized modifier name: "+B)}return x&&(u="Alt-"+u),y&&(u="Ctrl-"+u),M&&(u="Cmd-"+u),_&&(u="Shift-"+u),u}function sf(u){var g={};for(var x in u)if(u.hasOwnProperty(x)){var y=u[x];if(/^(name|fallthrough|(de|at)tach)$/.test(x))continue;if(y=="..."){delete u[x];continue}for(var _=sn(x.split(" "),vd),M=0;M<_.length;M++){var F=void 0,B=void 0;M==_.length-1?(B=_.join(" "),F=y):(B=_.slice(0,M+1).join(" "),F="...");var N=g[B];if(!N)g[B]=F;else if(N!=F)throw new Error("Inconsistent bindings for "+B)}delete u[x]}for(var W in g)u[W]=g[W];return u}function va(u,g,x,y){g=$r(g);var _=g.call?g.call(u,y):g[u];if(_===!1)return"nothing";if(_==="...")return"multi";if(_!=null&&x(_))return"handled";if(g.fallthrough){if(Object.prototype.toString.call(g.fallthrough)!="[object Array]")return va(u,g.fallthrough,x,y);for(var M=0;M<g.fallthrough.length;M++){var F=va(u,g.fallthrough[M],x,y);if(F)return F}}}function bd(u){var g=typeof u=="string"?u:$s[u.keyCode];return g=="Ctrl"||g=="Alt"||g=="Shift"||g=="Mod"}function qo(u,g,x){var y=u;return g.altKey&&y!="Alt"&&(u="Alt-"+u),(Le?g.metaKey:g.ctrlKey)&&y!="Ctrl"&&(u="Ctrl-"+u),(Le?g.ctrlKey:g.metaKey)&&y!="Mod"&&(u="Cmd-"+u),!x&&g.shiftKey&&y!="Shift"&&(u="Shift-"+u),u}function yd(u,g){if(X&&u.keyCode==34&&u.char)return!1;var x=$s[u.keyCode];return x==null||u.altGraphKey?!1:(u.keyCode==3&&u.code&&(x=u.code),qo(x,u,g))}function $r(u){return typeof u=="string"?vs[u]:u}function co(u,g){for(var x=u.doc.sel.ranges,y=[],_=0;_<x.length;_++){for(var M=g(x[_]);y.length&&Ct(M.from,ot(y).to)<=0;){var F=y.pop();if(Ct(F.from,M.from)<0){M.from=F.from;break}}y.push(M)}mi(u,function(){for(var B=y.length-1;B>=0;B--)io(u.doc,"",y[B].from,y[B].to,"+delete");ps(u)})}function qr(u,g,x){var y=H(u.text,g+x,x);return y<0||y>u.text.length?null:y}function su(u,g,x){var y=qr(u,g.ch,x);return y==null?null:new Ue(g.line,y,x<0?"after":"before")}function Yo(u,g,x,y,_){if(u){g.doc.direction=="rtl"&&(_=-_);var M=re(x,g.doc.direction);if(M){var F=_<0?ot(M):M[0],B=_<0==(F.level==1),N=B?"after":"before",W;if(F.level>0||g.doc.direction=="rtl"){var J=ja(g,x);W=_<0?x.text.length-1:0;var se=Qi(g,J,W).top;W=Q(function(Ce){return Qi(g,J,Ce).top==se},_<0==(F.level==1)?F.from:F.to-1,W),N=="before"&&(W=qr(x,W,1))}else W=_<0?F.to:F.from;return new Ue(y,W,N)}}return new Ue(y,_<0?x.text.length:0,_<0?"before":"after")}function af(u,g,x,y){var _=re(g,u.doc.direction);if(!_)return su(g,x,y);x.ch>=g.text.length?(x.ch=g.text.length,x.sticky="before"):x.ch<=0&&(x.ch=0,x.sticky="after");var M=xe(_,x.ch,x.sticky),F=_[M];if(u.doc.direction=="ltr"&&F.level%2==0&&(y>0?F.to>x.ch:F.from<x.ch))return su(g,x,y);var B=function(Ge,Je){return qr(g,Ge instanceof Ue?Ge.ch:Ge,Je)},N,W=function(Ge){return u.options.lineWrapping?(N=N||ja(u,g),Ic(u,g,N,Ge)):{begin:0,end:g.text.length}},J=W(x.sticky=="before"?B(x,-1):x.ch);if(u.doc.direction=="rtl"||F.level==1){var se=F.level==1==y<0,Ce=B(x,se?1:-1);if(Ce!=null&&(se?Ce<=F.to&&Ce<=J.end:Ce>=F.from&&Ce>=J.begin)){var ge=se?"before":"after";return new Ue(x.line,Ce,ge)}}var Pe=function(Ge,Je,Xe){for(var it=function(Vt,Bn){return Bn?new Ue(x.line,B(Vt,1),"before"):new Ue(x.line,Vt,"after")};Ge>=0&&Ge<_.length;Ge+=Je){var ft=_[Ge],dt=Je>0==(ft.level!=1),Dt=dt?Xe.begin:B(Xe.end,-1);if(ft.from<=Dt&&Dt<ft.to||(Dt=dt?ft.from:B(ft.to,-1),Xe.begin<=Dt&&Dt<Xe.end))return it(Dt,dt)}},We=Pe(M+y,y,J);if(We)return We;var $e=y>0?J.end:B(J.begin,-1);return $e!=null&&!(y>0&&$e==g.text.length)&&(We=Pe(y>0?0:_.length-1,y,W($e)),We)?We:null}var Go={selectAll:ed,singleSelection:function(u){return u.setSelection(u.getCursor("anchor"),u.getCursor("head"),rn)},killLine:function(u){return co(u,function(g){if(g.empty()){var x=ut(u.doc,g.head.line).text.length;return g.head.ch==x&&g.head.line<u.lastLine()?{from:g.head,to:Ue(g.head.line+1,0)}:{from:g.head,to:Ue(g.head.line,x)}}else return{from:g.from(),to:g.to()}})},deleteLine:function(u){return co(u,function(g){return{from:Ue(g.from().line,0),to:yt(u.doc,Ue(g.to().line+1,0))}})},delLineLeft:function(u){return co(u,function(g){return{from:Ue(g.from().line,0),to:g.from()}})},delWrappedLineLeft:function(u){return co(u,function(g){var x=u.charCoords(g.head,"div").top+5,y=u.coordsChar({left:0,top:x},"div");return{from:y,to:g.from()}})},delWrappedLineRight:function(u){return co(u,function(g){var x=u.charCoords(g.head,"div").top+5,y=u.coordsChar({left:u.display.lineDiv.offsetWidth+100,top:x},"div");return{from:g.from(),to:y}})},undo:function(u){return u.undo()},redo:function(u){return u.redo()},undoSelection:function(u){return u.undoSelection()},redoSelection:function(u){return u.redoSelection()},goDocStart:function(u){return u.extendSelection(Ue(u.firstLine(),0))},goDocEnd:function(u){return u.extendSelection(Ue(u.lastLine()))},goLineStart:function(u){return u.extendSelectionsBy(function(g){return au(u,g.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(u){return u.extendSelectionsBy(function(g){return ou(u,g.head)},{origin:"+move",bias:1})},goLineEnd:function(u){return u.extendSelectionsBy(function(g){return of(u,g.head.line)},{origin:"+move",bias:-1})},goLineRight:function(u){return u.extendSelectionsBy(function(g){var x=u.cursorCoords(g.head,"div").top+5;return u.coordsChar({left:u.display.lineDiv.offsetWidth+100,top:x},"div")},Fn)},goLineLeft:function(u){return u.extendSelectionsBy(function(g){var x=u.cursorCoords(g.head,"div").top+5;return u.coordsChar({left:0,top:x},"div")},Fn)},goLineLeftSmart:function(u){return u.extendSelectionsBy(function(g){var x=u.cursorCoords(g.head,"div").top+5,y=u.coordsChar({left:0,top:x},"div");return y.ch<u.getLine(y.line).search(/\S/)?ou(u,g.head):y},Fn)},goLineUp:function(u){return u.moveV(-1,"line")},goLineDown:function(u){return u.moveV(1,"line")},goPageUp:function(u){return u.moveV(-1,"page")},goPageDown:function(u){return u.moveV(1,"page")},goCharLeft:function(u){return u.moveH(-1,"char")},goCharRight:function(u){return u.moveH(1,"char")},goColumnLeft:function(u){return u.moveH(-1,"column")},goColumnRight:function(u){return u.moveH(1,"column")},goWordLeft:function(u){return u.moveH(-1,"word")},goGroupRight:function(u){return u.moveH(1,"group")},goGroupLeft:function(u){return u.moveH(-1,"group")},goWordRight:function(u){return u.moveH(1,"word")},delCharBefore:function(u){return u.deleteH(-1,"codepoint")},delCharAfter:function(u){return u.deleteH(1,"char")},delWordBefore:function(u){return u.deleteH(-1,"word")},delWordAfter:function(u){return u.deleteH(1,"word")},delGroupBefore:function(u){return u.deleteH(-1,"group")},delGroupAfter:function(u){return u.deleteH(1,"group")},indentAuto:function(u){return u.indentSelection("smart")},indentMore:function(u){return u.indentSelection("add")},indentLess:function(u){return u.indentSelection("subtract")},insertTab:function(u){return u.replaceSelection("	")},insertSoftTab:function(u){for(var g=[],x=u.listSelections(),y=u.options.tabSize,_=0;_<x.length;_++){var M=x[_].from(),F=zt(u.getLine(M.line),M.ch,y);g.push(_i(y-F%y))}u.replaceSelections(g)},defaultTab:function(u){u.somethingSelected()?u.indentSelection("add"):u.execCommand("insertTab")},transposeChars:function(u){return mi(u,function(){for(var g=u.listSelections(),x=[],y=0;y<g.length;y++)if(g[y].empty()){var _=g[y].head,M=ut(u.doc,_.line).text;if(M){if(_.ch==M.length&&(_=new Ue(_.line,_.ch-1)),_.ch>0)_=new Ue(_.line,_.ch+1),u.replaceRange(M.charAt(_.ch-1)+M.charAt(_.ch-2),Ue(_.line,_.ch-2),_,"+transpose");else if(_.line>u.doc.first){var F=ut(u.doc,_.line-1).text;F&&(_=new Ue(_.line,1),u.replaceRange(M.charAt(0)+u.doc.lineSeparator()+F.charAt(F.length-1),Ue(_.line-1,F.length-1),_,"+transpose"))}}x.push(new Ot(_,_))}u.setSelections(x)})},newlineAndIndent:function(u){return mi(u,function(){for(var g=u.listSelections(),x=g.length-1;x>=0;x--)u.replaceRange(u.doc.lineSeparator(),g[x].anchor,g[x].head,"+input");g=u.listSelections();for(var y=0;y<g.length;y++)u.indentLine(g[y].from().line,null,!0);ps(u)})},openLine:function(u){return u.replaceSelection(`
`,"start")},toggleOverwrite:function(u){return u.toggleOverwrite()}};function au(u,g){var x=ut(u.doc,g),y=tn(x);return y!=x&&(g=Bt(y)),Yo(!0,u,y,g,1)}function of(u,g){var x=ut(u.doc,g),y=cs(x);return y!=x&&(g=Bt(y)),Yo(!0,u,x,g,-1)}function ou(u,g){var x=au(u,g.line),y=ut(u.doc,x.line),_=re(y,u.doc.direction);if(!_||_[0].level==0){var M=Math.max(x.ch,y.text.search(/\S/)),F=g.line==x.line&&g.ch<=M&&g.ch;return Ue(x.line,F?0:M,x.sticky)}return x}function Yr(u,g,x){if(typeof g=="string"&&(g=Go[g],!g))return!1;u.display.input.ensurePolled();var y=u.display.shift,_=!1;try{u.isReadOnly()&&(u.state.suppressEdits=!0),x&&(u.display.shift=!1),_=g(u)!=en}finally{u.display.shift=y,u.state.suppressEdits=!1}return _}function xd(u,g,x){for(var y=0;y<u.state.keyMaps.length;y++){var _=va(g,u.state.keyMaps[y],x,u);if(_)return _}return u.options.extraKeys&&va(g,u.options.extraKeys,x,u)||va(g,u.options.keyMap,x,u)}var Cd=new $t;function ho(u,g,x,y){var _=u.state.keySeq;if(_){if(bd(g))return"handled";if(/\'$/.test(g)?u.state.keySeq=null:Cd.set(50,function(){u.state.keySeq==_&&(u.state.keySeq=null,u.display.input.reset())}),wd(u,_+" "+g,x,y))return!0}return wd(u,g,x,y)}function wd(u,g,x,y){var _=xd(u,g,y);return _=="multi"&&(u.state.keySeq=g),_=="handled"&&Pn(u,"keyHandled",u,g,x),(_=="handled"||_=="multi")&&(gt(x),Mr(u)),!!_}function _d(u,g){var x=yd(g,!0);return x?g.shiftKey&&!u.state.keySeq?ho(u,"Shift-"+x,g,function(y){return Yr(u,y,!0)})||ho(u,x,g,function(y){if(typeof y=="string"?/^go[A-Z]/.test(y):y.motion)return Yr(u,y)}):ho(u,x,g,function(y){return Yr(u,y)}):!1}function rf(u,g,x){return ho(u,"'"+x+"'",g,function(y){return Yr(u,y,!0)})}var Gr=null;function kd(u){var g=this;if(!(u.target&&u.target!=g.display.input.getField())&&(g.curOp.focus=mt(Oe(g)),!qe(g,u))){T&&E<11&&u.keyCode==27&&(u.returnValue=!1);var x=u.keyCode;g.display.shift=x==16||u.shiftKey;var y=_d(g,u);X&&(Gr=y?x:null,!y&&x==88&&!On&&(ae?u.metaKey:u.ctrlKey)&&g.replaceSelection("",null,"cut")),p&&!ae&&!y&&x==46&&u.shiftKey&&!u.ctrlKey&&document.execCommand&&document.execCommand("cut"),x==18&&!/\bCodeMirror-crosshair\b/.test(g.display.lineDiv.className)&&Sd(g)}}function Sd(u){var g=u.display.lineDiv;Pt(g,"CodeMirror-crosshair");function x(y){(y.keyCode==18||!y.altKey)&&(Ae(g,"CodeMirror-crosshair"),nt(document,"keyup",x),nt(document,"mouseover",x))}ve(document,"keyup",x),ve(document,"mouseover",x)}function Td(u){u.keyCode==16&&(this.doc.sel.shift=!1),qe(this,u)}function ru(u){var g=this;if(!(u.target&&u.target!=g.display.input.getField())&&!(hs(g.display,u)||qe(g,u)||u.ctrlKey&&!u.altKey||ae&&u.metaKey)){var x=u.keyCode,y=u.charCode;if(X&&x==Gr){Gr=null,gt(u);return}if(!(X&&(!u.which||u.which<10)&&_d(g,u))){var _=String.fromCharCode(y??x);_!="\b"&&(rf(g,u,_)||g.display.input.onKeyPress(u))}}}var lf=400,Xr=function(u,g,x){this.time=u,this.pos=g,this.button=x};Xr.prototype.compare=function(u,g,x){return this.time+lf>u&&Ct(g,this.pos)==0&&x==this.button};var Xo,fo;function uf(u,g){var x=+new Date;return fo&&fo.compare(x,u,g)?(Xo=fo=null,"triple"):Xo&&Xo.compare(x,u,g)?(fo=new Xr(x,u,g),Xo=null,"double"):(Xo=new Xr(x,u,g),fo=null,"single")}function Kr(u){var g=this,x=g.display;if(!(qe(g,u)||x.activeTouch&&x.input.supportsTouch())){if(x.input.ensurePolled(),x.shift=u.shiftKey,hs(x,u)){A||(x.scroller.draggable=!1,setTimeout(function(){return x.scroller.draggable=!0},100));return}if(!Zr(g,u)){var y=Bs(g,u),_=kn(u),M=y?uf(y,_):"single";ht(g).focus(),_==1&&g.state.selectingText&&g.state.selectingText(u),!(y&&cf(g,_,y,M,u))&&(_==1?y?Dd(g,y,M,u):Zn(u)==x.scroller&&gt(u):_==2?(y&&Wo(g.doc,y),setTimeout(function(){return x.input.focus()},20)):_==3&&(Ke?g.display.input.onContextMenu(u):ca(g)))}}}function cf(u,g,x,y,_){var M="Click";return y=="double"?M="Double"+M:y=="triple"&&(M="Triple"+M),M=(g==1?"Left":g==2?"Middle":"Right")+M,ho(u,qo(M,_),_,function(F){if(typeof F=="string"&&(F=Go[F]),!F)return!1;var B=!1;try{u.isReadOnly()&&(u.state.suppressEdits=!0),B=F(u,x)!=en}finally{u.state.suppressEdits=!1}return B})}function df(u,g,x){var y=u.getOption("configureMouse"),_=y?y(u,g,x):{};if(_.unit==null){var M=ke?x.shiftKey&&x.metaKey:x.altKey;_.unit=M?"rectangle":g=="single"?"char":g=="double"?"word":"line"}return(_.extend==null||u.doc.extend)&&(_.extend=u.doc.extend||x.shiftKey),_.addNew==null&&(_.addNew=ae?x.metaKey:x.ctrlKey),_.moveOnDrag==null&&(_.moveOnDrag=!(ae?x.altKey:x.ctrlKey)),_}function Dd(u,g,x,y){T?setTimeout(Ut(ua,u),0):u.curOp.focus=mt(Oe(u));var _=df(u,x,y),M=u.doc.sel,F;u.options.dragDrop&&ks&&!u.isReadOnly()&&x=="single"&&(F=M.contains(g))>-1&&(Ct((F=M.ranges[F]).from(),g)<0||g.xRel>0)&&(Ct(F.to(),g)>0||g.xRel<0)?hf(u,y,g,_):ff(u,y,g,_)}function hf(u,g,x,y){var _=u.display,M=!1,F=Sn(u,function(W){A&&(_.scroller.draggable=!1),u.state.draggingText=!1,u.state.delayingBlurEvent&&(u.hasFocus()?u.state.delayingBlurEvent=!1:ca(u)),nt(_.wrapper.ownerDocument,"mouseup",F),nt(_.wrapper.ownerDocument,"mousemove",B),nt(_.scroller,"dragstart",N),nt(_.scroller,"drop",F),M||(gt(W),y.addNew||Wo(u.doc,x,null,null,y.extend),A&&!ne||T&&E==9?setTimeout(function(){_.wrapper.ownerDocument.body.focus({preventScroll:!0}),_.input.focus()},20):_.input.focus())}),B=function(W){M=M||Math.abs(g.clientX-W.clientX)+Math.abs(g.clientY-W.clientY)>=10},N=function(){return M=!0};A&&(_.scroller.draggable=!0),u.state.draggingText=F,F.copy=!y.moveOnDrag,ve(_.wrapper.ownerDocument,"mouseup",F),ve(_.wrapper.ownerDocument,"mousemove",B),ve(_.scroller,"dragstart",N),ve(_.scroller,"drop",F),u.state.delayingBlurEvent=!0,setTimeout(function(){return _.input.focus()},20),_.scroller.dragDrop&&_.scroller.dragDrop()}function lu(u,g,x){if(x=="char")return new Ot(g,g);if(x=="word")return u.findWordAt(g);if(x=="line")return new Ot(Ue(g.line,0),yt(u.doc,Ue(g.line+1,0)));var y=x(u,g);return new Ot(y.from,y.to)}function ff(u,g,x,y){T&&ca(u);var _=u.display,M=u.doc;gt(g);var F,B,N=M.sel,W=N.ranges;if(y.addNew&&!y.extend?(B=M.sel.contains(x),B>-1?F=W[B]:F=new Ot(x,x)):(F=M.sel.primary(),B=M.sel.primIndex),y.unit=="rectangle")y.addNew||(F=new Ot(x,x)),x=Bs(u,g,!0,!0),B=-1;else{var J=lu(u,x,y.unit);y.extend?F=Jl(F,J.anchor,J.head,y.extend):F=J}y.addNew?B==-1?(B=W.length,$n(M,$i(u,W.concat([F]),B),{scroll:!1,origin:"*mouse"})):W.length>1&&W[B].empty()&&y.unit=="char"&&!y.extend?($n(M,$i(u,W.slice(0,B).concat(W.slice(B+1)),0),{scroll:!1,origin:"*mouse"}),N=M.sel):Vr(M,B,F,lt):(B=0,$n(M,new Ei([F],0),lt),N=M.sel);var se=x;function Ce(Xe){if(Ct(se,Xe)!=0)if(se=Xe,y.unit=="rectangle"){for(var it=[],ft=u.options.tabSize,dt=zt(ut(M,x.line).text,x.ch,ft),Dt=zt(ut(M,Xe.line).text,Xe.ch,ft),Vt=Math.min(dt,Dt),Bn=Math.max(dt,Dt),nn=Math.min(x.line,Xe.line),yi=Math.min(u.lastLine(),Math.max(x.line,Xe.line));nn<=yi;nn++){var oi=ut(M,nn).text,xn=Ln(oi,Vt,ft);Vt==Bn?it.push(new Ot(Ue(nn,xn),Ue(nn,xn))):oi.length>xn&&it.push(new Ot(Ue(nn,xn),Ue(nn,Ln(oi,Bn,ft))))}it.length||it.push(new Ot(x,x)),$n(M,$i(u,N.ranges.slice(0,B).concat(it),B),{origin:"*mouse",scroll:!1}),u.scrollIntoView(Xe)}else{var ri=F,qn=lu(u,Xe,y.unit),Cn=ri.anchor,wn;Ct(qn.anchor,Cn)>0?(wn=qn.head,Cn=Oa(ri.from(),qn.anchor)):(wn=qn.anchor,Cn=La(ri.to(),qn.head));var an=N.ranges.slice(0);an[B]=Ed(u,new Ot(yt(M,Cn),wn)),$n(M,$i(u,an,B),lt)}}var ge=_.wrapper.getBoundingClientRect(),Pe=0;function We(Xe){var it=++Pe,ft=Bs(u,Xe,!0,y.unit=="rectangle");if(ft)if(Ct(ft,se)!=0){u.curOp.focus=mt(Oe(u)),Ce(ft);var dt=Ns(_,M);(ft.line>=dt.to||ft.line<dt.from)&&setTimeout(Sn(u,function(){Pe==it&&We(Xe)}),150)}else{var Dt=Xe.clientY<ge.top?-20:Xe.clientY>ge.bottom?20:0;Dt&&setTimeout(Sn(u,function(){Pe==it&&(_.scroller.scrollTop+=Dt,We(Xe))}),50)}}function $e(Xe){u.state.selectingText=!1,Pe=1/0,Xe&&(gt(Xe),_.input.focus()),nt(_.wrapper.ownerDocument,"mousemove",Ge),nt(_.wrapper.ownerDocument,"mouseup",Je),M.history.lastSelOrigin=null}var Ge=Sn(u,function(Xe){Xe.buttons===0||!kn(Xe)?$e(Xe):We(Xe)}),Je=Sn(u,$e);u.state.selectingText=Je,ve(_.wrapper.ownerDocument,"mousemove",Ge),ve(_.wrapper.ownerDocument,"mouseup",Je)}function Ed(u,g){var x=g.anchor,y=g.head,_=ut(u.doc,x.line);if(Ct(x,y)==0&&x.sticky==y.sticky)return g;var M=re(_);if(!M)return g;var F=xe(M,x.ch,x.sticky),B=M[F];if(B.from!=x.ch&&B.to!=x.ch)return g;var N=F+(B.from==x.ch==(B.level!=1)?0:1);if(N==0||N==M.length)return g;var W;if(y.line!=x.line)W=(y.line-x.line)*(u.doc.direction=="ltr"?1:-1)>0;else{var J=xe(M,y.ch,y.sticky),se=J-F||(y.ch-x.ch)*(B.level==1?-1:1);J==N-1||J==N?W=se<0:W=se>0}var Ce=M[N+(W?-1:0)],ge=W==(Ce.level==1),Pe=ge?Ce.from:Ce.to,We=ge?"after":"before";return x.ch==Pe&&x.sticky==We?g:new Ot(new Ue(x.line,Pe,We),y)}function Md(u,g,x,y){var _,M;if(g.touches)_=g.touches[0].clientX,M=g.touches[0].clientY;else try{_=g.clientX,M=g.clientY}catch{return!1}if(_>=Math.floor(u.display.gutters.getBoundingClientRect().right))return!1;y&&gt(g);var F=u.display,B=F.lineDiv.getBoundingClientRect();if(M>B.bottom||!bt(u,x))return Ht(g);M-=B.top-F.viewOffset;for(var N=0;N<u.display.gutterSpecs.length;++N){var W=F.gutters.childNodes[N];if(W&&W.getBoundingClientRect().right>=_){var J=Ms(u.doc,M),se=u.display.gutterSpecs[N];return Qe(u,x,u,J,se.className,g),Ht(g)}}}function Zr(u,g){return Md(u,g,"gutterClick",!0)}function Ad(u,g){hs(u.display,g)||Id(u,g)||qe(u,g,"contextmenu")||Ke||u.display.input.onContextMenu(g)}function Id(u,g){return bt(u,"gutterContextMenu")?Md(u,g,"gutterContextMenu",!1):!1}function Fd(u){u.display.wrapper.className=u.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+u.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bo(u)}var ba={toString:function(){return"CodeMirror.Init"}},Ld={},Ko={};function pf(u){var g=u.optionHandlers;function x(y,_,M,F){u.defaults[y]=_,M&&(g[y]=F?function(B,N,W){W!=ba&&M(B,N,W)}:M)}u.defineOption=x,u.Init=ba,x("value","",function(y,_){return y.setValue(_)},!0),x("mode",null,function(y,_){y.doc.modeOption=_,Yl(y)},!0),x("indentUnit",2,Yl,!0),x("indentWithTabs",!1),x("smartIndent",!0),x("tabSize",4,function(y){fa(y),Bo(y),jn(y)},!0),x("lineSeparator",null,function(y,_){if(y.doc.lineSep=_,!!_){var M=[],F=y.doc.first;y.doc.iter(function(N){for(var W=0;;){var J=N.text.indexOf(_,W);if(J==-1)break;W=J+_.length,M.push(Ue(F,J))}F++});for(var B=M.length-1;B>=0;B--)io(y.doc,_,M[B],Ue(M[B].line,M[B].ch+_.length))}}),x("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(y,_,M){y.state.specialChars=new RegExp(_.source+(_.test("	")?"":"|	"),"g"),M!=ba&&y.refresh()}),x("specialCharPlaceholder",q,function(y){return y.refresh()},!0),x("electricChars",!0),x("inputStyle",Z?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),x("spellcheck",!1,function(y,_){return y.getInputField().spellcheck=_},!0),x("autocorrect",!1,function(y,_){return y.getInputField().autocorrect=_},!0),x("autocapitalize",!1,function(y,_){return y.getInputField().autocapitalize=_},!0),x("rtlMoveVisually",!be),x("wholeLineUpdateBefore",!0),x("theme","default",function(y){Fd(y),Ho(y)},!0),x("keyMap","default",function(y,_,M){var F=$r(_),B=M!=ba&&$r(M);B&&B.detach&&B.detach(y,F),F.attach&&F.attach(y,B||null)}),x("extraKeys",null),x("configureMouse",null),x("lineWrapping",!1,gf,!0),x("gutters",[],function(y,_){y.display.gutterSpecs=Pr(_,y.options.lineNumbers),Ho(y)},!0),x("fixedGutter",!0,function(y,_){y.display.gutters.style.left=_?Ps(y.display)+"px":"0",y.refresh()},!0),x("coverGutterNextToScrollbar",!1,function(y){return ha(y)},!0),x("scrollbarStyle","native",function(y){jl(y),ha(y),y.display.scrollbars.setScrollTop(y.doc.scrollTop),y.display.scrollbars.setScrollLeft(y.doc.scrollLeft)},!0),x("lineNumbers",!1,function(y,_){y.display.gutterSpecs=Pr(y.options.gutters,_),Ho(y)},!0),x("firstLineNumber",1,Ho,!0),x("lineNumberFormatter",function(y){return y},Ho,!0),x("showCursorWhenSelecting",!1,$a,!0),x("resetSelectionOnContextMenu",!0),x("lineWiseCopyCut",!0),x("pasteLinesPerSelection",!0),x("selectionsMayTouch",!1),x("readOnly",!1,function(y,_){_=="nocursor"&&(ns(y),y.display.input.blur()),y.display.input.readOnlyChanged(_)}),x("screenReaderLabel",null,function(y,_){_=_===""?null:_,y.display.input.screenReaderLabelChanged(_)}),x("disableInput",!1,function(y,_){_||y.display.input.reset()},!0),x("dragDrop",!0,Od),x("allowDropFileTypes",null),x("cursorBlinkRate",530),x("cursorScrollMargin",0),x("cursorHeight",1,$a,!0),x("singleCursorHeightPerLine",!0,$a,!0),x("workTime",100),x("workDelay",100),x("flattenSpans",!0,fa,!0),x("addModeClass",!1,fa,!0),x("pollInterval",100),x("undoDepth",200,function(y,_){return y.doc.history.undoDepth=_}),x("historyEventDelay",1250),x("viewportMargin",10,function(y){return y.refresh()},!0),x("maxHighlightLength",1e4,fa,!0),x("moveInputWithCursor",!0,function(y,_){_||y.display.input.resetPosition()}),x("tabindex",null,function(y,_){return y.display.input.getField().tabIndex=_||""}),x("autofocus",null),x("direction","ltr",function(y,_){return y.doc.setDirection(_)},!0),x("phrases",null)}function Od(u,g,x){var y=x&&x!=ba;if(!g!=!y){var _=u.display.dragFunctions,M=g?ve:nt;M(u.display.scroller,"dragstart",_.start),M(u.display.scroller,"dragenter",_.enter),M(u.display.scroller,"dragover",_.over),M(u.display.scroller,"dragleave",_.leave),M(u.display.scroller,"drop",_.drop)}}function gf(u){u.options.lineWrapping?(Pt(u.display.wrapper,"CodeMirror-wrap"),u.display.sizer.style.minWidth="",u.display.sizerWidth=null):(Ae(u.display.wrapper,"CodeMirror-wrap"),Dl(u)),Nl(u),jn(u),Bo(u),setTimeout(function(){return ha(u)},100)}function Kt(u,g){var x=this;if(!(this instanceof Kt))return new Kt(u,g);this.options=g=g?Qt(g):{},Qt(Ld,g,!1);var y=g.value;typeof y=="string"?y=new ai(y,g.mode,null,g.lineSeparator,g.direction):g.mode&&(y.modeOption=g.mode),this.doc=y;var _=new Kt.inputStyles[g.inputStyle](this),M=this.display=new Yh(u,y,_,g);M.wrapper.CodeMirror=this,Fd(this),g.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),jl(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new $t,keySeq:null,specialChars:null},g.autofocus&&!Z&&M.input.focus(),T&&E<11&&setTimeout(function(){return x.display.input.reset(!0)},20),mf(this),gd(),Un(this),this.curOp.forceUpdate=!0,jc(this,y),g.autofocus&&!Z||this.hasFocus()?setTimeout(function(){x.hasFocus()&&!x.state.focused&&fs(x)},20):ns(this);for(var F in Ko)Ko.hasOwnProperty(F)&&Ko[F](this,g[F],ba);Nc(this),g.finishInit&&g.finishInit(this);for(var B=0;B<Jr.length;++B)Jr[B](this);ii(this),A&&g.lineWrapping&&getComputedStyle(M.lineDiv).textRendering=="optimizelegibility"&&(M.lineDiv.style.textRendering="auto")}Kt.defaults=Ld,Kt.optionHandlers=Ko;function mf(u){var g=u.display;ve(g.scroller,"mousedown",Sn(u,Kr)),T&&E<11?ve(g.scroller,"dblclick",Sn(u,function(N){if(!qe(u,N)){var W=Bs(u,N);if(!(!W||Zr(u,N)||hs(u.display,N))){gt(N);var J=u.findWordAt(W);Wo(u.doc,J.anchor,J.head)}}})):ve(g.scroller,"dblclick",function(N){return qe(u,N)||gt(N)}),ve(g.scroller,"contextmenu",function(N){return Ad(u,N)}),ve(g.input.getField(),"contextmenu",function(N){g.scroller.contains(N.target)||Ad(u,N)});var x,y={end:0};function _(){g.activeTouch&&(x=setTimeout(function(){return g.activeTouch=null},1e3),y=g.activeTouch,y.end=+new Date)}function M(N){if(N.touches.length!=1)return!1;var W=N.touches[0];return W.radiusX<=1&&W.radiusY<=1}function F(N,W){if(W.left==null)return!0;var J=W.left-N.left,se=W.top-N.top;return J*J+se*se>20*20}ve(g.scroller,"touchstart",function(N){if(!qe(u,N)&&!M(N)&&!Zr(u,N)){g.input.ensurePolled(),clearTimeout(x);var W=+new Date;g.activeTouch={start:W,moved:!1,prev:W-y.end<=300?y:null},N.touches.length==1&&(g.activeTouch.left=N.touches[0].pageX,g.activeTouch.top=N.touches[0].pageY)}}),ve(g.scroller,"touchmove",function(){g.activeTouch&&(g.activeTouch.moved=!0)}),ve(g.scroller,"touchend",function(N){var W=g.activeTouch;if(W&&!hs(g,N)&&W.left!=null&&!W.moved&&new Date-W.start<300){var J=u.coordsChar(g.activeTouch,"page"),se;!W.prev||F(W,W.prev)?se=new Ot(J,J):!W.prev.prev||F(W,W.prev.prev)?se=u.findWordAt(J):se=new Ot(Ue(J.line,0),yt(u.doc,Ue(J.line+1,0))),u.setSelection(se.anchor,se.head),u.focus(),gt(N)}_()}),ve(g.scroller,"touchcancel",_),ve(g.scroller,"scroll",function(){g.scroller.clientHeight&&(da(u,g.scroller.scrollTop),ss(u,g.scroller.scrollLeft,!0),Qe(u,"scroll",u))}),ve(g.scroller,"mousewheel",function(N){return Wc(u,N)}),ve(g.scroller,"DOMMouseScroll",function(N){return Wc(u,N)}),ve(g.wrapper,"scroll",function(){return g.wrapper.scrollTop=g.wrapper.scrollLeft=0}),g.dragFunctions={enter:function(N){qe(u,N)||un(N)},over:function(N){qe(u,N)||(hd(u,N),un(N))},start:function(N){return tf(u,N)},drop:Sn(u,dd),leave:function(N){qe(u,N)||fd(u)}};var B=g.input.getField();ve(B,"keyup",function(N){return Td.call(u,N)}),ve(B,"keydown",Sn(u,kd)),ve(B,"keypress",Sn(u,ru)),ve(B,"focus",function(N){return fs(u,N)}),ve(B,"blur",function(N){return ns(u,N)})}var Jr=[];Kt.defineInitHook=function(u){return Jr.push(u)};function Zo(u,g,x,y){var _=u.doc,M;x==null&&(x="add"),x=="smart"&&(_.mode.indent?M=Pa(u,g).state:x="prev");var F=u.options.tabSize,B=ut(_,g),N=zt(B.text,null,F);B.stateAfter&&(B.stateAfter=null);var W=B.text.match(/^\s*/)[0],J;if(!y&&!/\S/.test(B.text))J=0,x="not";else if(x=="smart"&&(J=_.mode.indent(M,B.text.slice(W.length),B.text),J==en||J>150)){if(!y)return;x="prev"}x=="prev"?g>_.first?J=zt(ut(_,g-1).text,null,F):J=0:x=="add"?J=N+u.options.indentUnit:x=="subtract"?J=N-u.options.indentUnit:typeof x=="number"&&(J=N+x),J=Math.max(0,J);var se="",Ce=0;if(u.options.indentWithTabs)for(var ge=Math.floor(J/F);ge;--ge)Ce+=F,se+="	";if(Ce<J&&(se+=_i(J-Ce)),se!=W)return io(_,se,Ue(g,0),Ue(g,W.length),"+input"),B.stateAfter=null,!0;for(var Pe=0;Pe<_.sel.ranges.length;Pe++){var We=_.sel.ranges[Pe];if(We.head.line==g&&We.head.ch<W.length){var $e=Ue(g,W.length);Vr(_,Pe,new Ot($e,$e));break}}}var Fi=null;function Qr(u){Fi=u}function el(u,g,x,y,_){var M=u.doc;u.display.shift=!1,y||(y=M.sel);var F=+new Date-200,B=_=="paste"||u.state.pasteIncoming>F,N=Mo(g),W=null;if(B&&y.ranges.length>1)if(Fi&&Fi.text.join(`
`)==g){if(y.ranges.length%Fi.text.length==0){W=[];for(var J=0;J<Fi.text.length;J++)W.push(M.splitLines(Fi.text[J]))}}else N.length==y.ranges.length&&u.options.pasteLinesPerSelection&&(W=sn(N,function(Ge){return[Ge]}));for(var se=u.curOp.updateInput,Ce=y.ranges.length-1;Ce>=0;Ce--){var ge=y.ranges[Ce],Pe=ge.from(),We=ge.to();ge.empty()&&(x&&x>0?Pe=Ue(Pe.line,Pe.ch-x):u.state.overwrite&&!B?We=Ue(We.line,Math.min(ut(M,We.line).text.length,We.ch+ot(N).length)):B&&Fi&&Fi.lineWise&&Fi.text.join(`
`)==N.join(`
`)&&(Pe=We=Ue(Pe.line,0)));var $e={from:Pe,to:We,text:W?W[Ce%W.length]:N,origin:_||(B?"paste":u.state.cutIncoming>F?"cut":"+input")};ma(u.doc,$e),Pn(u,"inputRead",u,$e)}g&&!B&&uu(u,g),ps(u),u.curOp.updateInput<2&&(u.curOp.updateInput=se),u.curOp.typing=!0,u.state.pasteIncoming=u.state.cutIncoming=-1}function Pd(u,g){var x=u.clipboardData&&u.clipboardData.getData("Text");if(x)return u.preventDefault(),!g.isReadOnly()&&!g.options.disableInput&&g.hasFocus()&&mi(g,function(){return el(g,x,0,null,"paste")}),!0}function uu(u,g){if(!(!u.options.electricChars||!u.options.smartIndent))for(var x=u.doc.sel,y=x.ranges.length-1;y>=0;y--){var _=x.ranges[y];if(!(_.head.ch>100||y&&x.ranges[y-1].head.line==_.head.line)){var M=u.getModeAt(_.head),F=!1;if(M.electricChars){for(var B=0;B<M.electricChars.length;B++)if(g.indexOf(M.electricChars.charAt(B))>-1){F=Zo(u,_.head.line,"smart");break}}else M.electricInput&&M.electricInput.test(ut(u.doc,_.head.line).text.slice(0,_.head.ch))&&(F=Zo(u,_.head.line,"smart"));F&&Pn(u,"electricInput",u,_.head.line)}}}function Bd(u){for(var g=[],x=[],y=0;y<u.doc.sel.ranges.length;y++){var _=u.doc.sel.ranges[y].head.line,M={anchor:Ue(_,0),head:Ue(_+1,0)};x.push(M),g.push(u.getRange(M.anchor,M.head))}return{text:g,ranges:x}}function tl(u,g,x,y){u.setAttribute("autocorrect",x?"on":"off"),u.setAttribute("autocapitalize",y?"on":"off"),u.setAttribute("spellcheck",!!g)}function Rd(){var u=ce("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),g=ce("div",[u],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return A?u.style.width="1000px":u.setAttribute("wrap","off"),ee&&(u.style.border="1px solid black"),g}function Nd(u){var g=u.optionHandlers,x=u.helpers={};u.prototype={constructor:u,focus:function(){ht(this).focus(),this.display.input.focus()},setOption:function(y,_){var M=this.options,F=M[y];M[y]==_&&y!="mode"||(M[y]=_,g.hasOwnProperty(y)&&Sn(this,g[y])(this,_,F),Qe(this,"optionChange",this,y))},getOption:function(y){return this.options[y]},getDoc:function(){return this.doc},addKeyMap:function(y,_){this.state.keyMaps[_?"push":"unshift"]($r(y))},removeKeyMap:function(y){for(var _=this.state.keyMaps,M=0;M<_.length;++M)if(_[M]==y||_[M].name==y)return _.splice(M,1),!0},addOverlay:pn(function(y,_){var M=y.token?y:u.getMode(this.options,y);if(M.startState)throw new Error("Overlays may not be stateful.");ci(this.state.overlays,{mode:M,modeSpec:y,opaque:_&&_.opaque,priority:_&&_.priority||0},function(F){return F.priority}),this.state.modeGen++,jn(this)}),removeOverlay:pn(function(y){for(var _=this.state.overlays,M=0;M<_.length;++M){var F=_[M].modeSpec;if(F==y||typeof y=="string"&&F.name==y){_.splice(M,1),this.state.modeGen++,jn(this);return}}}),indentLine:pn(function(y,_,M){typeof _!="string"&&typeof _!="number"&&(_==null?_=this.options.smartIndent?"smart":"prev":_=_?"add":"subtract"),Fa(this.doc,y)&&Zo(this,y,_,M)}),indentSelection:pn(function(y){for(var _=this.doc.sel.ranges,M=-1,F=0;F<_.length;F++){var B=_[F];if(B.empty())B.head.line>M&&(Zo(this,B.head.line,y,!0),M=B.head.line,F==this.doc.sel.primIndex&&ps(this));else{var N=B.from(),W=B.to(),J=Math.max(M,N.line);M=Math.min(this.lastLine(),W.line-(W.ch?0:1))+1;for(var se=J;se<M;++se)Zo(this,se,y);var Ce=this.doc.sel.ranges;N.ch==0&&_.length==Ce.length&&Ce[F].from().ch>0&&Vr(this.doc,F,new Ot(N,Ce[F].to()),rn)}}}),getTokenAt:function(y,_){return br(this,y,_)},getLineTokens:function(y,_){return br(this,Ue(y),_,!0)},getTokenTypeAt:function(y){y=yt(this.doc,y);var _=xl(this,ut(this.doc,y.line)),M=0,F=(_.length-1)/2,B=y.ch,N;if(B==0)N=_[2];else for(;;){var W=M+F>>1;if((W?_[W*2-1]:0)>=B)F=W;else if(_[W*2+1]<B)M=W+1;else{N=_[W*2+2];break}}var J=N?N.indexOf("overlay "):-1;return J<0?N:J==0?null:N.slice(0,J-1)},getModeAt:function(y){var _=this.doc.mode;return _.innerMode?u.innerMode(_,this.getTokenAt(y).state).mode:_},getHelper:function(y,_){return this.getHelpers(y,_)[0]},getHelpers:function(y,_){var M=[];if(!x.hasOwnProperty(_))return M;var F=x[_],B=this.getModeAt(y);if(typeof B[_]=="string")F[B[_]]&&M.push(F[B[_]]);else if(B[_])for(var N=0;N<B[_].length;N++){var W=F[B[_][N]];W&&M.push(W)}else B.helperType&&F[B.helperType]?M.push(F[B.helperType]):F[B.name]&&M.push(F[B.name]);for(var J=0;J<F._global.length;J++){var se=F._global[J];se.pred(B,this)&&Mt(M,se.val)==-1&&M.push(se.val)}return M},getStateAfter:function(y,_){var M=this.doc;return y=vl(M,y??M.first+M.size-1),Pa(this,y+1,_).state},cursorCoords:function(y,_){var M,F=this.doc.sel.primary();return y==null?M=F.head:typeof y=="object"?M=yt(this.doc,y):M=y?F.from():F.to(),Vi(this,M,_||"page")},charCoords:function(y,_){return es(this,yt(this.doc,y),_||"page")},coordsChar:function(y,_){return y=Ec(this,y,_||"page"),Bl(this,y.left,y.top)},lineAtHeight:function(y,_){return y=Ec(this,{top:y,left:0},_||"page").top,Ms(this.doc,y+this.display.viewOffset)},heightAtLine:function(y,_,M){var F=!1,B;if(typeof y=="number"){var N=this.doc.first+this.doc.size-1;y<this.doc.first?y=this.doc.first:y>N&&(y=N,F=!0),B=ut(this.doc,y)}else B=y;return Sr(this,B,{top:0,left:0},_||"page",M||F).top+(F?this.doc.height-Ki(B):0)},defaultTextHeight:function(){return Jn(this.display)},defaultCharWidth:function(){return Wi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(y,_,M,F,B){var N=this.display;y=Vi(this,yt(this.doc,y));var W=y.bottom,J=y.left;if(_.style.position="absolute",_.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(_),N.sizer.appendChild(_),F=="over")W=y.top;else if(F=="above"||F=="near"){var se=Math.max(N.wrapper.clientHeight,this.doc.height),Ce=Math.max(N.sizer.clientWidth,N.lineSpace.clientWidth);(F=="above"||y.bottom+_.offsetHeight>se)&&y.top>_.offsetHeight?W=y.top-_.offsetHeight:y.bottom+_.offsetHeight<=se&&(W=y.bottom),J+_.offsetWidth>Ce&&(J=Ce-_.offsetWidth)}_.style.top=W+"px",_.style.left=_.style.right="",B=="right"?(J=N.sizer.clientWidth-_.offsetWidth,_.style.right="0px"):(B=="left"?J=0:B=="middle"&&(J=(N.sizer.clientWidth-_.offsetWidth)/2),_.style.left=J+"px"),M&&Lc(this,{left:J,top:W,right:J+_.offsetWidth,bottom:W+_.offsetHeight})},triggerOnKeyDown:pn(kd),triggerOnKeyPress:pn(ru),triggerOnKeyUp:Td,triggerOnMouseDown:pn(Kr),execCommand:function(y){if(Go.hasOwnProperty(y))return Go[y].call(null,this)},triggerElectric:pn(function(y){uu(this,y)}),findPosH:function(y,_,M,F){var B=1;_<0&&(B=-1,_=-_);for(var N=yt(this.doc,y),W=0;W<_&&(N=cu(this.doc,N,B,M,F),!N.hitSide);++W);return N},moveH:pn(function(y,_){var M=this;this.extendSelectionsBy(function(F){return M.display.shift||M.doc.extend||F.empty()?cu(M.doc,F.head,y,_,M.options.rtlMoveVisually):y<0?F.from():F.to()},Fn)}),deleteH:pn(function(y,_){var M=this.doc.sel,F=this.doc;M.somethingSelected()?F.replaceSelection("",null,"+delete"):co(this,function(B){var N=cu(F,B.head,y,_,!1);return y<0?{from:N,to:B.head}:{from:B.head,to:N}})}),findPosV:function(y,_,M,F){var B=1,N=F;_<0&&(B=-1,_=-_);for(var W=yt(this.doc,y),J=0;J<_;++J){var se=Vi(this,W,"div");if(N==null?N=se.left:se.left=N,W=nl(this,se,B,M),W.hitSide)break}return W},moveV:pn(function(y,_){var M=this,F=this.doc,B=[],N=!this.display.shift&&!F.extend&&F.sel.somethingSelected();if(F.extendSelectionsBy(function(J){if(N)return y<0?J.from():J.to();var se=Vi(M,J.head,"div");J.goalColumn!=null&&(se.left=J.goalColumn),B.push(se.left);var Ce=nl(M,se,y,_);return _=="page"&&J==F.sel.primary()&&Ya(M,es(M,Ce,"div").top-se.top),Ce},Fn),B.length)for(var W=0;W<F.sel.ranges.length;W++)F.sel.ranges[W].goalColumn=B[W]}),findWordAt:function(y){var _=this.doc,M=ut(_,y.line).text,F=y.ch,B=y.ch;if(M){var N=this.getHelper(y,"wordChars");(y.sticky=="before"||B==M.length)&&F?--F:++B;for(var W=M.charAt(F),J=Y(W,N)?function(se){return Y(se,N)}:/\s/.test(W)?function(se){return/\s/.test(se)}:function(se){return!/\s/.test(se)&&!Y(se)};F>0&&J(M.charAt(F-1));)--F;for(;B<M.length&&J(M.charAt(B));)++B}return new Ot(Ue(y.line,F),Ue(y.line,B))},toggleOverwrite:function(y){y!=null&&y==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Pt(this.display.cursorDiv,"CodeMirror-overwrite"):Ae(this.display.cursorDiv,"CodeMirror-overwrite"),Qe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==mt(Oe(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:pn(function(y,_){gi(this,y,_)}),getScrollInfo:function(){var y=this.display.scroller;return{left:y.scrollLeft,top:y.scrollTop,height:y.scrollHeight-fi(this)-this.display.barHeight,width:y.scrollWidth-fi(this)-this.display.barWidth,clientHeight:Os(this),clientWidth:ra(this)}},scrollIntoView:pn(function(y,_){y==null?(y={from:this.doc.sel.primary().head,to:null},_==null&&(_=this.options.cursorScrollMargin)):typeof y=="number"?y={from:Ue(y,0),to:null}:y.from==null&&(y={from:y,to:null}),y.to||(y.to=y.from),y.margin=_||0,y.from.line!=null?zs(this,y):Oc(this,y.from,y.to,y.margin)}),setSize:pn(function(y,_){var M=this,F=function(N){return typeof N=="number"||/^\d+$/.test(String(N))?N+"px":N};y!=null&&(this.display.wrapper.style.width=F(y)),_!=null&&(this.display.wrapper.style.height=F(_)),this.options.lineWrapping&&Sc(this);var B=this.display.viewFrom;this.doc.iter(B,this.display.viewTo,function(N){if(N.widgets){for(var W=0;W<N.widgets.length;W++)if(N.widgets[W].noHScroll){Rs(M,B,"widget");break}}++B}),this.curOp.forceUpdate=!0,Qe(this,"refresh",this)}),operation:function(y){return mi(this,y)},startOperation:function(){return Un(this)},endOperation:function(){return ii(this)},refresh:pn(function(){var y=this.display.cachedTextHeight;jn(this),this.curOp.forceUpdate=!0,Bo(this),gi(this,this.doc.scrollLeft,this.doc.scrollTop),Qa(this.display),(y==null||Math.abs(y-Jn(this.display))>.5||this.options.lineWrapping)&&Nl(this),Qe(this,"refresh",this)}),swapDoc:pn(function(y){var _=this.doc;return _.cm=null,this.state.selectingText&&this.state.selectingText(),jc(this,y),Bo(this),this.display.input.reset(),gi(this,y.scrollLeft,y.scrollTop),this.curOp.forceScroll=!0,Pn(this,"swapDoc",this,_),_}),phrase:function(y){var _=this.options.phrases;return _&&Object.prototype.hasOwnProperty.call(_,y)?_[y]:y},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xt(u),u.registerHelper=function(y,_,M){x.hasOwnProperty(y)||(x[y]=u[y]={_global:[]}),x[y][_]=M},u.registerGlobalHelper=function(y,_,M,F){u.registerHelper(y,_,F),x[y]._global.push({pred:M,val:F})}}function cu(u,g,x,y,_){var M=g,F=x,B=ut(u,g.line),N=_&&u.direction=="rtl"?-x:x;function W(){var Je=g.line+N;return Je<u.first||Je>=u.first+u.size?!1:(g=new Ue(Je,g.ch,g.sticky),B=ut(u,Je))}function J(Je){var Xe;if(y=="codepoint"){var it=B.text.charCodeAt(g.ch+(x>0?0:-1));if(isNaN(it))Xe=null;else{var ft=x>0?it>=55296&&it<56320:it>=56320&&it<57343;Xe=new Ue(g.line,Math.max(0,Math.min(B.text.length,g.ch+x*(ft?2:1))),-x)}}else _?Xe=af(u.cm,B,g,x):Xe=su(B,g,x);if(Xe==null)if(!Je&&W())g=Yo(_,u.cm,B,g.line,N);else return!1;else g=Xe;return!0}if(y=="char"||y=="codepoint")J();else if(y=="column")J(!0);else if(y=="word"||y=="group")for(var se=null,Ce=y=="group",ge=u.cm&&u.cm.getHelper(g,"wordChars"),Pe=!0;!(x<0&&!J(!Pe));Pe=!1){var We=B.text.charAt(g.ch)||`
`,$e=Y(We,ge)?"w":Ce&&We==`
`?"n":!Ce||/\s/.test(We)?null:"p";if(Ce&&!Pe&&!$e&&($e="s"),se&&se!=$e){x<0&&(x=1,J(),g.sticky="after");break}if($e&&(se=$e),x>0&&!J(!Pe))break}var Ge=jr(u,g,M,F,!0);return ml(M,Ge)&&(Ge.hitSide=!0),Ge}function nl(u,g,x,y){var _=u.doc,M=g.left,F;if(y=="page"){var B=Math.min(u.display.wrapper.clientHeight,ht(u).innerHeight||_(u).documentElement.clientHeight),N=Math.max(B-.5*Jn(u.display),3);F=(x>0?g.bottom:g.top)+x*N}else y=="line"&&(F=x>0?g.bottom+3:g.top-3);for(var W;W=Bl(u,M,F),!!W.outside;){if(x<0?F<=0:F>=_.height){W.hitSide=!0;break}F+=x*5}return W}var Rt=function(u){this.cm=u,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new $t,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Rt.prototype.init=function(u){var g=this,x=this,y=x.cm,_=x.div=u.lineDiv;_.contentEditable=!0,tl(_,y.options.spellcheck,y.options.autocorrect,y.options.autocapitalize);function M(B){for(var N=B.target;N;N=N.parentNode){if(N==_)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(N.className))break}return!1}ve(_,"paste",function(B){!M(B)||qe(y,B)||Pd(B,y)||E<=11&&setTimeout(Sn(y,function(){return g.updateFromDOM()}),20)}),ve(_,"compositionstart",function(B){g.composing={data:B.data,done:!1}}),ve(_,"compositionupdate",function(B){g.composing||(g.composing={data:B.data,done:!1})}),ve(_,"compositionend",function(B){g.composing&&(B.data!=g.composing.data&&g.readFromDOMSoon(),g.composing.done=!0)}),ve(_,"touchstart",function(){return x.forceCompositionEnd()}),ve(_,"input",function(){g.composing||g.readFromDOMSoon()});function F(B){if(!(!M(B)||qe(y,B))){if(y.somethingSelected())Qr({lineWise:!1,text:y.getSelections()}),B.type=="cut"&&y.replaceSelection("",null,"cut");else if(y.options.lineWiseCopyCut){var N=Bd(y);Qr({lineWise:!0,text:N.text}),B.type=="cut"&&y.operation(function(){y.setSelections(N.ranges,0,rn),y.replaceSelection("",null,"cut")})}else return;if(B.clipboardData){B.clipboardData.clearData();var W=Fi.text.join(`
`);if(B.clipboardData.setData("Text",W),B.clipboardData.getData("Text")==W){B.preventDefault();return}}var J=Rd(),se=J.firstChild;tl(se),y.display.lineSpace.insertBefore(J,y.display.lineSpace.firstChild),se.value=Fi.text.join(`
`);var Ce=mt(wt(_));ue(se),setTimeout(function(){y.display.lineSpace.removeChild(J),Ce.focus(),Ce==_&&x.showPrimarySelection()},50)}}ve(_,"copy",F),ve(_,"cut",F)},Rt.prototype.screenReaderLabelChanged=function(u){u?this.div.setAttribute("aria-label",u):this.div.removeAttribute("aria-label")},Rt.prototype.prepareSelection=function(){var u=Fc(this.cm,!1);return u.focus=mt(wt(this.div))==this.div,u},Rt.prototype.showSelection=function(u,g){!u||!this.cm.display.view.length||((u.focus||g)&&this.showPrimarySelection(),this.showMultipleSelections(u))},Rt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Rt.prototype.showPrimarySelection=function(){var u=this.getSelection(),g=this.cm,x=g.doc.sel.primary(),y=x.from(),_=x.to();if(g.display.viewTo==g.display.viewFrom||y.line>=g.display.viewTo||_.line<g.display.viewFrom){u.removeAllRanges();return}var M=il(g,u.anchorNode,u.anchorOffset),F=il(g,u.focusNode,u.focusOffset);if(!(M&&!M.bad&&F&&!F.bad&&Ct(Oa(M,F),y)==0&&Ct(La(M,F),_)==0)){var B=g.display.view,N=y.line>=g.display.viewFrom&&zd(g,y)||{node:B[0].measure.map[2],offset:0},W=_.line<g.display.viewTo&&zd(g,_);if(!W){var J=B[B.length-1].measure,se=J.maps?J.maps[J.maps.length-1]:J.map;W={node:se[se.length-1],offset:se[se.length-2]-se[se.length-3]}}if(!N||!W){u.removeAllRanges();return}var Ce=u.rangeCount&&u.getRangeAt(0),ge;try{ge=Re(N.node,N.offset,W.offset,W.node)}catch{}ge&&(!p&&g.state.focused?(u.collapse(N.node,N.offset),ge.collapsed||(u.removeAllRanges(),u.addRange(ge))):(u.removeAllRanges(),u.addRange(ge)),Ce&&u.anchorNode==null?u.addRange(Ce):p&&this.startGracePeriod()),this.rememberSelection()}},Rt.prototype.startGracePeriod=function(){var u=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){u.gracePeriod=!1,u.selectionChanged()&&u.cm.operation(function(){return u.cm.curOp.selectionChanged=!0})},20)},Rt.prototype.showMultipleSelections=function(u){ct(this.cm.display.cursorDiv,u.cursors),ct(this.cm.display.selectionDiv,u.selection)},Rt.prototype.rememberSelection=function(){var u=this.getSelection();this.lastAnchorNode=u.anchorNode,this.lastAnchorOffset=u.anchorOffset,this.lastFocusNode=u.focusNode,this.lastFocusOffset=u.focusOffset},Rt.prototype.selectionInEditor=function(){var u=this.getSelection();if(!u.rangeCount)return!1;var g=u.getRangeAt(0).commonAncestorContainer;return tt(this.div,g)},Rt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||mt(wt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Rt.prototype.blur=function(){this.div.blur()},Rt.prototype.getField=function(){return this.div},Rt.prototype.supportsTouch=function(){return!0},Rt.prototype.receivedFocus=function(){var u=this,g=this;this.selectionInEditor()?setTimeout(function(){return u.pollSelection()},20):mi(this.cm,function(){return g.cm.curOp.selectionChanged=!0});function x(){g.cm.state.focused&&(g.pollSelection(),g.polling.set(g.cm.options.pollInterval,x))}this.polling.set(this.cm.options.pollInterval,x)},Rt.prototype.selectionChanged=function(){var u=this.getSelection();return u.anchorNode!=this.lastAnchorNode||u.anchorOffset!=this.lastAnchorOffset||u.focusNode!=this.lastFocusNode||u.focusOffset!=this.lastFocusOffset},Rt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var u=this.getSelection(),g=this.cm;if(le&&R&&this.cm.display.gutterSpecs.length&&vf(u.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var x=il(g,u.anchorNode,u.anchorOffset),y=il(g,u.focusNode,u.focusOffset);x&&y&&mi(g,function(){$n(g.doc,Ws(x,y),rn),(x.bad||y.bad)&&(g.curOp.selectionChanged=!0)})}}},Rt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var u=this.cm,g=u.display,x=u.doc.sel.primary(),y=x.from(),_=x.to();if(y.ch==0&&y.line>u.firstLine()&&(y=Ue(y.line-1,ut(u.doc,y.line-1).length)),_.ch==ut(u.doc,_.line).text.length&&_.line<u.lastLine()&&(_=Ue(_.line+1,0)),y.line<g.viewFrom||_.line>g.viewTo-1)return!1;var M,F,B;y.line==g.viewFrom||(M=qt(u,y.line))==0?(F=Bt(g.view[0].line),B=g.view[0].node):(F=Bt(g.view[M].line),B=g.view[M-1].node.nextSibling);var N=qt(u,_.line),W,J;if(N==g.view.length-1?(W=g.viewTo-1,J=g.lineDiv.lastChild):(W=Bt(g.view[N+1].line)-1,J=g.view[N+1].node.previousSibling),!B)return!1;for(var se=u.doc.splitLines(Hd(u,B,J,F,W)),Ce=Es(u.doc,Ue(F,0),Ue(W,ut(u.doc,W).text.length));se.length>1&&Ce.length>1;)if(ot(se)==ot(Ce))se.pop(),Ce.pop(),W--;else if(se[0]==Ce[0])se.shift(),Ce.shift(),F++;else break;for(var ge=0,Pe=0,We=se[0],$e=Ce[0],Ge=Math.min(We.length,$e.length);ge<Ge&&We.charCodeAt(ge)==$e.charCodeAt(ge);)++ge;for(var Je=ot(se),Xe=ot(Ce),it=Math.min(Je.length-(se.length==1?ge:0),Xe.length-(Ce.length==1?ge:0));Pe<it&&Je.charCodeAt(Je.length-Pe-1)==Xe.charCodeAt(Xe.length-Pe-1);)++Pe;if(se.length==1&&Ce.length==1&&F==y.line)for(;ge&&ge>y.ch&&Je.charCodeAt(Je.length-Pe-1)==Xe.charCodeAt(Xe.length-Pe-1);)ge--,Pe++;se[se.length-1]=Je.slice(0,Je.length-Pe).replace(/^\u200b+/,""),se[0]=se[0].slice(ge).replace(/\u200b+$/,"");var ft=Ue(F,ge),dt=Ue(W,Ce.length?ot(Ce).length-Pe:0);if(se.length>1||se[0]||Ct(ft,dt))return io(u.doc,se,ft,dt,"+input"),!0},Rt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Rt.prototype.reset=function(){this.forceCompositionEnd()},Rt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Rt.prototype.readFromDOMSoon=function(){var u=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(u.readDOMTimeout=null,u.composing)if(u.composing.done)u.composing=null;else return;u.updateFromDOM()},80))},Rt.prototype.updateFromDOM=function(){var u=this;(this.cm.isReadOnly()||!this.pollContent())&&mi(this.cm,function(){return jn(u.cm)})},Rt.prototype.setUneditable=function(u){u.contentEditable="false"},Rt.prototype.onKeyPress=function(u){u.charCode==0||this.composing||(u.preventDefault(),this.cm.isReadOnly()||Sn(this.cm,el)(this.cm,String.fromCharCode(u.charCode==null?u.keyCode:u.charCode),0))},Rt.prototype.readOnlyChanged=function(u){this.div.contentEditable=String(u!="nocursor")},Rt.prototype.onContextMenu=function(){},Rt.prototype.resetPosition=function(){},Rt.prototype.needsContentAttribute=!0;function zd(u,g){var x=Fl(u,g.line);if(!x||x.hidden)return null;var y=ut(u.doc,g.line),_=yc(x,y,g.line),M=re(y,u.doc.direction),F="left";if(M){var B=xe(M,g.ch);F=B%2?"right":"left"}var N=wc(_.map,g.ch,F);return N.offset=N.collapse=="right"?N.end:N.start,N}function vf(u){for(var g=u;g;g=g.parentNode)if(/CodeMirror-gutter-wrapper/.test(g.className))return!0;return!1}function po(u,g){return g&&(u.bad=!0),u}function Hd(u,g,x,y,_){var M="",F=!1,B=u.doc.lineSeparator(),N=!1;function W(ge){return function(Pe){return Pe.id==ge}}function J(){F&&(M+=B,N&&(M+=B),F=N=!1)}function se(ge){ge&&(J(),M+=ge)}function Ce(ge){if(ge.nodeType==1){var Pe=ge.getAttribute("cm-text");if(Pe){se(Pe);return}var We=ge.getAttribute("cm-marker"),$e;if(We){var Ge=u.findMarks(Ue(y,0),Ue(_+1,0),W(+We));Ge.length&&($e=Ge[0].find(0))&&se(Es(u.doc,$e.from,$e.to).join(B));return}if(ge.getAttribute("contenteditable")=="false")return;var Je=/^(pre|div|p|li|table|br)$/i.test(ge.nodeName);if(!/^br$/i.test(ge.nodeName)&&ge.textContent.length==0)return;Je&&J();for(var Xe=0;Xe<ge.childNodes.length;Xe++)Ce(ge.childNodes[Xe]);/^(pre|p)$/i.test(ge.nodeName)&&(N=!0),Je&&(F=!0)}else ge.nodeType==3&&se(ge.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ce(g),g!=x;)g=g.nextSibling,N=!1;return M}function il(u,g,x){var y;if(g==u.display.lineDiv){if(y=u.display.lineDiv.childNodes[x],!y)return po(u.clipPos(Ue(u.display.viewTo-1)),!0);g=null,x=0}else for(y=g;;y=y.parentNode){if(!y||y==u.display.lineDiv)return null;if(y.parentNode&&y.parentNode==u.display.lineDiv)break}for(var _=0;_<u.display.view.length;_++){var M=u.display.view[_];if(M.node==y)return Vd(M,g,x)}}function Vd(u,g,x){var y=u.text.firstChild,_=!1;if(!g||!tt(y,g))return po(Ue(Bt(u.line),0),!0);if(g==y&&(_=!0,g=y.childNodes[x],x=0,!g)){var M=u.rest?ot(u.rest):u.line;return po(Ue(Bt(M),M.text.length),_)}var F=g.nodeType==3?g:null,B=g;for(!F&&g.childNodes.length==1&&g.firstChild.nodeType==3&&(F=g.firstChild,x&&(x=F.nodeValue.length));B.parentNode!=y;)B=B.parentNode;var N=u.measure,W=N.maps;function J($e,Ge,Je){for(var Xe=-1;Xe<(W?W.length:0);Xe++)for(var it=Xe<0?N.map:W[Xe],ft=0;ft<it.length;ft+=3){var dt=it[ft+2];if(dt==$e||dt==Ge){var Dt=Bt(Xe<0?u.line:u.rest[Xe]),Vt=it[ft]+Je;return(Je<0||dt!=$e)&&(Vt=it[ft+(Je?1:0)]),Ue(Dt,Vt)}}}var se=J(F,B,x);if(se)return po(se,_);for(var Ce=B.nextSibling,ge=F?F.nodeValue.length-x:0;Ce;Ce=Ce.nextSibling){if(se=J(Ce,Ce.firstChild,0),se)return po(Ue(se.line,se.ch-ge),_);ge+=Ce.textContent.length}for(var Pe=B.previousSibling,We=x;Pe;Pe=Pe.previousSibling){if(se=J(Pe,Pe.firstChild,-1),se)return po(Ue(se.line,se.ch+We),_);We+=Pe.textContent.length}}var gn=function(u){this.cm=u,this.prevInput="",this.pollingFast=!1,this.polling=new $t,this.hasSelection=!1,this.composing=null,this.resetting=!1};gn.prototype.init=function(u){var g=this,x=this,y=this.cm;this.createField(u);var _=this.textarea;u.wrapper.insertBefore(this.wrapper,u.wrapper.firstChild),ee&&(_.style.width="0px"),ve(_,"input",function(){T&&E>=9&&g.hasSelection&&(g.hasSelection=null),x.poll()}),ve(_,"paste",function(F){qe(y,F)||Pd(F,y)||(y.state.pasteIncoming=+new Date,x.fastPoll())});function M(F){if(!qe(y,F)){if(y.somethingSelected())Qr({lineWise:!1,text:y.getSelections()});else if(y.options.lineWiseCopyCut){var B=Bd(y);Qr({lineWise:!0,text:B.text}),F.type=="cut"?y.setSelections(B.ranges,null,rn):(x.prevInput="",_.value=B.text.join(`
`),ue(_))}else return;F.type=="cut"&&(y.state.cutIncoming=+new Date)}}ve(_,"cut",M),ve(_,"copy",M),ve(u.scroller,"paste",function(F){if(!(hs(u,F)||qe(y,F))){if(!_.dispatchEvent){y.state.pasteIncoming=+new Date,x.focus();return}var B=new Event("paste");B.clipboardData=F.clipboardData,_.dispatchEvent(B)}}),ve(u.lineSpace,"selectstart",function(F){hs(u,F)||gt(F)}),ve(_,"compositionstart",function(){var F=y.getCursor("from");x.composing&&x.composing.range.clear(),x.composing={start:F,range:y.markText(F,y.getCursor("to"),{className:"CodeMirror-composing"})}}),ve(_,"compositionend",function(){x.composing&&(x.poll(),x.composing.range.clear(),x.composing=null)})},gn.prototype.createField=function(u){this.wrapper=Rd(),this.textarea=this.wrapper.firstChild;var g=this.cm.options;tl(this.textarea,g.spellcheck,g.autocorrect,g.autocapitalize)},gn.prototype.screenReaderLabelChanged=function(u){u?this.textarea.setAttribute("aria-label",u):this.textarea.removeAttribute("aria-label")},gn.prototype.prepareSelection=function(){var u=this.cm,g=u.display,x=u.doc,y=Fc(u);if(u.options.moveInputWithCursor){var _=Vi(u,x.sel.primary().head,"div"),M=g.wrapper.getBoundingClientRect(),F=g.lineDiv.getBoundingClientRect();y.teTop=Math.max(0,Math.min(g.wrapper.clientHeight-10,_.top+F.top-M.top)),y.teLeft=Math.max(0,Math.min(g.wrapper.clientWidth-10,_.left+F.left-M.left))}return y},gn.prototype.showSelection=function(u){var g=this.cm,x=g.display;ct(x.cursorDiv,u.cursors),ct(x.selectionDiv,u.selection),u.teTop!=null&&(this.wrapper.style.top=u.teTop+"px",this.wrapper.style.left=u.teLeft+"px")},gn.prototype.reset=function(u){if(!(this.contextMenuPending||this.composing&&u)){var g=this.cm;if(this.resetting=!0,g.somethingSelected()){this.prevInput="";var x=g.getSelection();this.textarea.value=x,g.state.focused&&ue(this.textarea),T&&E>=9&&(this.hasSelection=x)}else u||(this.prevInput=this.textarea.value="",T&&E>=9&&(this.hasSelection=null));this.resetting=!1}},gn.prototype.getField=function(){return this.textarea},gn.prototype.supportsTouch=function(){return!1},gn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!Z||mt(wt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},gn.prototype.blur=function(){this.textarea.blur()},gn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},gn.prototype.receivedFocus=function(){this.slowPoll()},gn.prototype.slowPoll=function(){var u=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){u.poll(),u.cm.state.focused&&u.slowPoll()})},gn.prototype.fastPoll=function(){var u=!1,g=this;g.pollingFast=!0;function x(){var y=g.poll();!y&&!u?(u=!0,g.polling.set(60,x)):(g.pollingFast=!1,g.slowPoll())}g.polling.set(20,x)},gn.prototype.poll=function(){var u=this,g=this.cm,x=this.textarea,y=this.prevInput;if(this.contextMenuPending||this.resetting||!g.state.focused||gl(x)&&!y&&!this.composing||g.isReadOnly()||g.options.disableInput||g.state.keySeq)return!1;var _=x.value;if(_==y&&!g.somethingSelected())return!1;if(T&&E>=9&&this.hasSelection===_||ae&&/[\uf700-\uf7ff]/.test(_))return g.display.input.reset(),!1;if(g.doc.sel==g.display.selForContextMenu){var M=_.charCodeAt(0);if(M==8203&&!y&&(y="​"),M==8666)return this.reset(),this.cm.execCommand("undo")}for(var F=0,B=Math.min(y.length,_.length);F<B&&y.charCodeAt(F)==_.charCodeAt(F);)++F;return mi(g,function(){el(g,_.slice(F),y.length-F,null,u.composing?"*compose":null),_.length>1e3||_.indexOf(`
`)>-1?x.value=u.prevInput="":u.prevInput=_,u.composing&&(u.composing.range.clear(),u.composing.range=g.markText(u.composing.start,g.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},gn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},gn.prototype.onKeyPress=function(){T&&E>=9&&(this.hasSelection=null),this.fastPoll()},gn.prototype.onContextMenu=function(u){var g=this,x=g.cm,y=x.display,_=g.textarea;g.contextMenuPending&&g.contextMenuPending();var M=Bs(x,u),F=y.scroller.scrollTop;if(!M||X)return;var B=x.options.resetSelectionOnContextMenu;B&&x.doc.sel.contains(M)==-1&&Sn(x,$n)(x.doc,Ws(M),rn);var N=_.style.cssText,W=g.wrapper.style.cssText,J=g.wrapper.offsetParent.getBoundingClientRect();g.wrapper.style.cssText="position: static",_.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(u.clientY-J.top-5)+"px; left: "+(u.clientX-J.left-5)+`px;
      z-index: 1000; background: `+(T?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var se;A&&(se=_.ownerDocument.defaultView.scrollY),y.input.focus(),A&&_.ownerDocument.defaultView.scrollTo(null,se),y.input.reset(),x.somethingSelected()||(_.value=g.prevInput=" "),g.contextMenuPending=ge,y.selForContextMenu=x.doc.sel,clearTimeout(y.detectingSelectAll);function Ce(){if(_.selectionStart!=null){var We=x.somethingSelected(),$e="​"+(We?_.value:"");_.value="⇚",_.value=$e,g.prevInput=We?"":"​",_.selectionStart=1,_.selectionEnd=$e.length,y.selForContextMenu=x.doc.sel}}function ge(){if(g.contextMenuPending==ge&&(g.contextMenuPending=!1,g.wrapper.style.cssText=W,_.style.cssText=N,T&&E<9&&y.scrollbars.setScrollTop(y.scroller.scrollTop=F),_.selectionStart!=null)){(!T||T&&E<9)&&Ce();var We=0,$e=function(){y.selForContextMenu==x.doc.sel&&_.selectionStart==0&&_.selectionEnd>0&&g.prevInput=="​"?Sn(x,ed)(x):We++<10?y.detectingSelectAll=setTimeout($e,500):(y.selForContextMenu=null,y.input.reset())};y.detectingSelectAll=setTimeout($e,200)}}if(T&&E>=9&&Ce(),Ke){un(u);var Pe=function(){nt(window,"mouseup",Pe),setTimeout(ge,20)};ve(window,"mouseup",Pe)}else setTimeout(ge,50)},gn.prototype.readOnlyChanged=function(u){u||this.reset(),this.textarea.disabled=u=="nocursor",this.textarea.readOnly=!!u},gn.prototype.setUneditable=function(){},gn.prototype.needsContentAttribute=!1;function Wd(u,g){if(g=g?Qt(g):{},g.value=u.value,!g.tabindex&&u.tabIndex&&(g.tabindex=u.tabIndex),!g.placeholder&&u.placeholder&&(g.placeholder=u.placeholder),g.autofocus==null){var x=mt(wt(u));g.autofocus=x==u||u.getAttribute("autofocus")!=null&&x==document.body}function y(){u.value=B.getValue()}var _;if(u.form&&(ve(u.form,"submit",y),!g.leaveSubmitMethodAlone)){var M=u.form;_=M.submit;try{var F=M.submit=function(){y(),M.submit=_,M.submit(),M.submit=F}}catch{}}g.finishInit=function(N){N.save=y,N.getTextArea=function(){return u},N.toTextArea=function(){N.toTextArea=isNaN,y(),u.parentNode.removeChild(N.getWrapperElement()),u.style.display="",u.form&&(nt(u.form,"submit",y),!g.leaveSubmitMethodAlone&&typeof u.form.submit=="function"&&(u.form.submit=_))}},u.style.display="none";var B=Kt(function(N){return u.parentNode.insertBefore(N,u.nextSibling)},g);return B}function bf(u){u.off=nt,u.on=ve,u.wheelEventPixels=Vc,u.Doc=ai,u.splitLines=Mo,u.countColumn=zt,u.findColumn=Ln,u.isWordChar=me,u.Pass=en,u.signal=Qe,u.Line=za,u.changeEnd=js,u.scrollbarModel=Wl,u.Pos=Ue,u.cmpPos=Ct,u.modes=ki,u.mimeModes=di,u.resolveMode=zi,u.getMode=na,u.modeExtensions=ia,u.extendMode=Ph,u.copyState=Hi,u.startState=gr,u.innerMode=Ds,u.commands=Go,u.keyMap=vs,u.keyName=yd,u.isModifierKey=bd,u.lookupKey=va,u.normalizeKeyMap=sf,u.StringStream=fn,u.SharedTextMarker=ro,u.TextMarker=ms,u.LineWidget=ao,u.e_preventDefault=gt,u.e_stopPropagation=Nt,u.e_stop=un,u.addClass=Pt,u.contains=tt,u.rmClass=Ae,u.keyNames=$s}pf(Kt),Nd(Kt);var jd="iter insert remove copy getEditor constructor".split(" ");for(var sl in ai.prototype)ai.prototype.hasOwnProperty(sl)&&Mt(jd,sl)<0&&(Kt.prototype[sl]=function(u){return function(){return u.apply(this.doc,arguments)}}(ai.prototype[sl]));return xt(ai),Kt.inputStyles={textarea:gn,contenteditable:Rt},Kt.defineMode=function(u){!Kt.defaults.mode&&u!="null"&&(Kt.defaults.mode=u),Ts.apply(this,arguments)},Kt.defineMIME=Ao,Kt.defineMode("null",function(){return{token:function(u){return u.skipToEnd()}}}),Kt.defineMIME("text/plain","null"),Kt.defineExtension=function(u,g){Kt.prototype[u]=g},Kt.defineDocExtension=function(u,g){ai.prototype[u]=g},Kt.fromTextArea=Wd,bf(Kt),Kt.version="5.65.19",Kt})}(vh)),vh.exports}var Fm={exports:{}},Lm;function HT(){return Lm||(Lm=1,function(d,a){(function(l){l(Gi())})(function(l){var h=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,p=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,v=/[*+-]\s/;l.commands.newlineAndIndentContinueMarkdownList=function(k){if(k.getOption("disableInput"))return l.Pass;for(var T=k.listSelections(),E=[],A=0;A<T.length;A++){var O=T[A].head,R=k.getStateAfter(O.line),j=l.innerMode(k.getMode(),R);if(j.mode.name!=="markdown"&&j.mode.helperType!=="markdown"){k.execCommand("newlineAndIndent");return}else R=j.state;var X=R.list!==!1,ne=R.quote!==0,ie=k.getLine(O.line),oe=h.exec(ie),ee=/^\s*$/.test(ie.slice(0,O.ch));if(!T[A].empty()||!X&&!ne||!oe||ee){k.execCommand("newlineAndIndent");return}if(p.test(ie)){var le=ne&&/>\s*$/.test(ie),Z=!/>\s*$/.test(ie);(le||Z)&&k.replaceRange("",{line:O.line,ch:0},{line:O.line,ch:O.ch+1}),E[A]=`
`}else{var ae=oe[1],ke=oe[5],be=!(v.test(oe[2])||oe[2].indexOf(">")>=0),pe=be?parseInt(oe[3],10)+1+oe[4]:oe[2].replace("x"," ");E[A]=`
`+ae+pe+ke,be&&C(k,O)}}k.replaceSelections(E)};function C(k,T){var E=T.line,A=0,O=0,R=h.exec(k.getLine(E)),j=R[1];do{A+=1;var X=E+A,ne=k.getLine(X),ie=h.exec(ne);if(ie){var oe=ie[1],ee=parseInt(R[3],10)+A-O,le=parseInt(ie[3],10),Z=le;if(j===oe&&!isNaN(le))ee===le&&(Z=le+1),ee>le&&(Z=ee+1),k.replaceRange(ne.replace(h,oe+Z+ie[4]+ie[5]),{line:X,ch:0},{line:X,ch:ne.length});else{if(j.length>oe.length||j.length<oe.length&&A===1)return;O+=1}}}while(ie)}})}()),Fm.exports}var Om={},Pm;function VT(){if(Pm)return Om;Pm=1;var d=Gi();return d.commands.tabAndIndentMarkdownList=function(a){var l=a.listSelections(),h=l[0].head,p=a.getStateAfter(h.line),v=p.list!==!1;if(v){a.execCommand("indentMore");return}if(a.options.indentWithTabs)a.execCommand("insertTab");else{var C=Array(a.options.tabSize+1).join(" ");a.replaceSelection(C)}},d.commands.shiftTabAndUnindentMarkdownList=function(a){var l=a.listSelections(),h=l[0].head,p=a.getStateAfter(h.line),v=p.list!==!1;if(v){a.execCommand("indentLess");return}if(a.options.indentWithTabs)a.execCommand("insertTab");else{var C=Array(a.options.tabSize+1).join(" ");a.replaceSelection(C)}},Om}var Bm={exports:{}},Rm;function WT(){return Rm||(Rm=1,function(d,a){(function(l){l(Gi())})(function(l){l.defineOption("fullScreen",!1,function(v,C,k){k==l.Init&&(k=!1),!k!=!C&&(C?h(v):p(v))});function h(v){var C=v.getWrapperElement();v.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:C.style.width,height:C.style.height},C.style.width="",C.style.height="auto",C.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",v.refresh()}function p(v){var C=v.getWrapperElement();C.className=C.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var k=v.state.fullScreenRestore;C.style.width=k.width,C.style.height=k.height,window.scrollTo(k.scrollLeft,k.scrollTop),v.refresh()}})}()),Bm.exports}var Nm={exports:{}},zm={exports:{}},Hm;function Dv(){return Hm||(Hm=1,function(d,a){(function(l){l(Gi())})(function(l){var h={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},p={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};l.defineMode("xml",function(v,C){var k=v.indentUnit,T={},E=C.htmlMode?h:p;for(var A in E)T[A]=E[A];for(var A in C)T[A]=C[A];var O,R;function j(ce,Ve){function Re(Pt){return Ve.tokenize=Pt,Pt(ce,Ve)}var tt=ce.next();if(tt=="<")return ce.eat("!")?ce.eat("[")?ce.match("CDATA[")?Re(ie("atom","]]>")):null:ce.match("--")?Re(ie("comment","-->")):ce.match("DOCTYPE",!0,!0)?(ce.eatWhile(/[\w\._\-]/),Re(oe(1))):null:ce.eat("?")?(ce.eatWhile(/[\w\._\-]/),Ve.tokenize=ie("meta","?>"),"meta"):(O=ce.eat("/")?"closeTag":"openTag",Ve.tokenize=X,"tag bracket");if(tt=="&"){var mt;return ce.eat("#")?ce.eat("x")?mt=ce.eatWhile(/[a-fA-F\d]/)&&ce.eat(";"):mt=ce.eatWhile(/[\d]/)&&ce.eat(";"):mt=ce.eatWhile(/[\w\.\-:]/)&&ce.eat(";"),mt?"atom":"error"}else return ce.eatWhile(/[^&<]/),null}j.isInText=!0;function X(ce,Ve){var Re=ce.next();if(Re==">"||Re=="/"&&ce.eat(">"))return Ve.tokenize=j,O=Re==">"?"endTag":"selfcloseTag","tag bracket";if(Re=="=")return O="equals",null;if(Re=="<"){Ve.tokenize=j,Ve.state=ke,Ve.tagName=Ve.tagStart=null;var tt=Ve.tokenize(ce,Ve);return tt?tt+" tag error":"tag error"}else return/[\'\"]/.test(Re)?(Ve.tokenize=ne(Re),Ve.stringStartCol=ce.column(),Ve.tokenize(ce,Ve)):(ce.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function ne(ce){var Ve=function(Re,tt){for(;!Re.eol();)if(Re.next()==ce){tt.tokenize=X;break}return"string"};return Ve.isInAttribute=!0,Ve}function ie(ce,Ve){return function(Re,tt){for(;!Re.eol();){if(Re.match(Ve)){tt.tokenize=j;break}Re.next()}return ce}}function oe(ce){return function(Ve,Re){for(var tt;(tt=Ve.next())!=null;){if(tt=="<")return Re.tokenize=oe(ce+1),Re.tokenize(Ve,Re);if(tt==">")if(ce==1){Re.tokenize=j;break}else return Re.tokenize=oe(ce-1),Re.tokenize(Ve,Re)}return"meta"}}function ee(ce){return ce&&ce.toLowerCase()}function le(ce,Ve,Re){this.prev=ce.context,this.tagName=Ve||"",this.indent=ce.indented,this.startOfLine=Re,(T.doNotIndent.hasOwnProperty(Ve)||ce.context&&ce.context.noIndent)&&(this.noIndent=!0)}function Z(ce){ce.context&&(ce.context=ce.context.prev)}function ae(ce,Ve){for(var Re;;){if(!ce.context||(Re=ce.context.tagName,!T.contextGrabbers.hasOwnProperty(ee(Re))||!T.contextGrabbers[ee(Re)].hasOwnProperty(ee(Ve))))return;Z(ce)}}function ke(ce,Ve,Re){return ce=="openTag"?(Re.tagStart=Ve.column(),be):ce=="closeTag"?pe:ke}function be(ce,Ve,Re){return ce=="word"?(Re.tagName=Ve.current(),R="tag",Ee):T.allowMissingTagName&&ce=="endTag"?(R="tag bracket",Ee(ce,Ve,Re)):(R="error",be)}function pe(ce,Ve,Re){if(ce=="word"){var tt=Ve.current();return Re.context&&Re.context.tagName!=tt&&T.implicitlyClosed.hasOwnProperty(ee(Re.context.tagName))&&Z(Re),Re.context&&Re.context.tagName==tt||T.matchClosing===!1?(R="tag",Le):(R="tag error",Ke)}else return T.allowMissingTagName&&ce=="endTag"?(R="tag bracket",Le(ce,Ve,Re)):(R="error",Ke)}function Le(ce,Ve,Re){return ce!="endTag"?(R="error",Le):(Z(Re),ke)}function Ke(ce,Ve,Re){return R="error",Le(ce,Ve,Re)}function Ee(ce,Ve,Re){if(ce=="word")return R="attribute",Ae;if(ce=="endTag"||ce=="selfcloseTag"){var tt=Re.tagName,mt=Re.tagStart;return Re.tagName=Re.tagStart=null,ce=="selfcloseTag"||T.autoSelfClosers.hasOwnProperty(ee(tt))?ae(Re,tt):(ae(Re,tt),Re.context=new le(Re,tt,mt==Re.indented)),ke}return R="error",Ee}function Ae(ce,Ve,Re){return ce=="equals"?je:(T.allowMissing||(R="error"),Ee(ce,Ve,Re))}function je(ce,Ve,Re){return ce=="string"?ct:ce=="word"&&T.allowUnquoted?(R="string",Ee):(R="error",Ee(ce,Ve,Re))}function ct(ce,Ve,Re){return ce=="string"?ct:Ee(ce,Ve,Re)}return{startState:function(ce){var Ve={tokenize:j,state:ke,indented:ce||0,tagName:null,tagStart:null,context:null};return ce!=null&&(Ve.baseIndent=ce),Ve},token:function(ce,Ve){if(!Ve.tagName&&ce.sol()&&(Ve.indented=ce.indentation()),ce.eatSpace())return null;O=null;var Re=Ve.tokenize(ce,Ve);return(Re||O)&&Re!="comment"&&(R=null,Ve.state=Ve.state(O||Re,ce,Ve),R&&(Re=R=="error"?Re+" error":R)),Re},indent:function(ce,Ve,Re){var tt=ce.context;if(ce.tokenize.isInAttribute)return ce.tagStart==ce.indented?ce.stringStartCol+1:ce.indented+k;if(tt&&tt.noIndent)return l.Pass;if(ce.tokenize!=X&&ce.tokenize!=j)return Re?Re.match(/^(\s*)/)[0].length:0;if(ce.tagName)return T.multilineTagIndentPastTag!==!1?ce.tagStart+ce.tagName.length+2:ce.tagStart+k*(T.multilineTagIndentFactor||1);if(T.alignCDATA&&/<!\[CDATA\[/.test(Ve))return 0;var mt=Ve&&/^<(\/)?([\w_:\.-]*)/.exec(Ve);if(mt&&mt[1])for(;tt;)if(tt.tagName==mt[2]){tt=tt.prev;break}else if(T.implicitlyClosed.hasOwnProperty(ee(tt.tagName)))tt=tt.prev;else break;else if(mt)for(;tt;){var Pt=T.contextGrabbers[ee(tt.tagName)];if(Pt&&Pt.hasOwnProperty(ee(mt[2])))tt=tt.prev;else break}for(;tt&&tt.prev&&!tt.startOfLine;)tt=tt.prev;return tt?tt.indent+k:ce.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:T.htmlMode?"html":"xml",helperType:T.htmlMode?"html":"xml",skipAttribute:function(ce){ce.state==je&&(ce.state=Ee)},xmlCurrentTag:function(ce){return ce.tagName?{name:ce.tagName,close:ce.type=="closeTag"}:null},xmlCurrentContext:function(ce){for(var Ve=[],Re=ce.context;Re;Re=Re.prev)Ve.push(Re.tagName);return Ve.reverse()}}}),l.defineMIME("text/xml","xml"),l.defineMIME("application/xml","xml"),l.mimeModes.hasOwnProperty("text/html")||l.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),zm.exports}var Vm={exports:{}},Wm;function jT(){return Wm||(Wm=1,function(d,a){(function(l){l(Gi())})(function(l){l.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var h=0;h<l.modeInfo.length;h++){var p=l.modeInfo[h];p.mimes&&(p.mime=p.mimes[0])}l.findModeByMIME=function(v){v=v.toLowerCase();for(var C=0;C<l.modeInfo.length;C++){var k=l.modeInfo[C];if(k.mime==v)return k;if(k.mimes){for(var T=0;T<k.mimes.length;T++)if(k.mimes[T]==v)return k}}if(/\+xml$/.test(v))return l.findModeByMIME("application/xml");if(/\+json$/.test(v))return l.findModeByMIME("application/json")},l.findModeByExtension=function(v){v=v.toLowerCase();for(var C=0;C<l.modeInfo.length;C++){var k=l.modeInfo[C];if(k.ext){for(var T=0;T<k.ext.length;T++)if(k.ext[T]==v)return k}}},l.findModeByFileName=function(v){for(var C=0;C<l.modeInfo.length;C++){var k=l.modeInfo[C];if(k.file&&k.file.test(v))return k}var T=v.lastIndexOf("."),E=T>-1&&v.substring(T+1,v.length);if(E)return l.findModeByExtension(E)},l.findModeByName=function(v){v=v.toLowerCase();for(var C=0;C<l.modeInfo.length;C++){var k=l.modeInfo[C];if(k.name.toLowerCase()==v)return k;if(k.alias){for(var T=0;T<k.alias.length;T++)if(k.alias[T].toLowerCase()==v)return k}}}})}()),Vm.exports}var jm;function Ev(){return jm||(jm=1,function(d,a){(function(l){l(Gi(),Dv(),jT())})(function(l){l.defineMode("markdown",function(h,p){var v=l.getMode(h,"text/html"),C=v.name=="null";function k(ue){if(l.findModeByName){var $=l.findModeByName(ue);$&&(ue=$.mime||$.mimes[0])}var Oe=l.getMode(h,ue);return Oe.name=="null"?null:Oe}p.highlightFormatting===void 0&&(p.highlightFormatting=!1),p.maxBlockquoteDepth===void 0&&(p.maxBlockquoteDepth=0),p.taskLists===void 0&&(p.taskLists=!1),p.strikethrough===void 0&&(p.strikethrough=!1),p.emoji===void 0&&(p.emoji=!1),p.fencedCodeBlockHighlighting===void 0&&(p.fencedCodeBlockHighlighting=!0),p.fencedCodeBlockDefaultMode===void 0&&(p.fencedCodeBlockDefaultMode="text/plain"),p.xml===void 0&&(p.xml=!0),p.tokenTypeOverrides===void 0&&(p.tokenTypeOverrides={});var T={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var E in T)T.hasOwnProperty(E)&&p.tokenTypeOverrides[E]&&(T[E]=p.tokenTypeOverrides[E]);var A=/^([*\-_])(?:\s*\1){2,}\s*$/,O=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,R=/^\[(x| )\](?=\s)/i,j=p.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,X=/^ {0,3}(?:\={1,}|-{2,})\s*$/,ne=/^[^#!\[\]*_\\<>` "'(~:]+/,ie=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,oe=/^\s*\[[^\]]+?\]:.*$/,ee=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,le="    ";function Z(ue,$,Oe){return $.f=$.inline=Oe,Oe(ue,$)}function ae(ue,$,Oe){return $.f=$.block=Oe,Oe(ue,$)}function ke(ue){return!ue||!/\S/.test(ue.string)}function be(ue){if(ue.linkTitle=!1,ue.linkHref=!1,ue.linkText=!1,ue.em=!1,ue.strong=!1,ue.strikethrough=!1,ue.quote=0,ue.indentedCode=!1,ue.f==Le){var $=C;if(!$){var Oe=l.innerMode(v,ue.htmlState);$=Oe.mode.name=="xml"&&Oe.state.tagStart===null&&!Oe.state.context&&Oe.state.tokenize.isInText}$&&(ue.f=je,ue.block=pe,ue.htmlState=null)}return ue.trailingSpace=0,ue.trailingSpaceNewLine=!1,ue.prevLine=ue.thisLine,ue.thisLine={stream:null},null}function pe(ue,$){var Oe=ue.column()===$.indentation,wt=ke($.prevLine.stream),ht=$.indentedCode,Ut=$.prevLine.hr,Qt=$.list!==!1,zt=($.listStack[$.listStack.length-1]||0)+3;$.indentedCode=!1;var $t=$.indentation;if($.indentationDiff===null&&($.indentationDiff=$.indentation,Qt)){for($.list=null;$t<$.listStack[$.listStack.length-1];)$.listStack.pop(),$.listStack.length?$.indentation=$.listStack[$.listStack.length-1]:$.list=!1;$.list!==!1&&($.indentationDiff=$t-$.listStack[$.listStack.length-1])}var Mt=!wt&&!Ut&&!$.prevLine.header&&(!Qt||!ht)&&!$.prevLine.fencedCodeEnd,Lt=($.list===!1||Ut||wt)&&$.indentation<=zt&&ue.match(A),en=null;if($.indentationDiff>=4&&(ht||$.prevLine.fencedCodeEnd||$.prevLine.header||wt))return ue.skipToEnd(),$.indentedCode=!0,T.code;if(ue.eatSpace())return null;if(Oe&&$.indentation<=zt&&(en=ue.match(j))&&en[1].length<=6)return $.quote=0,$.header=en[1].length,$.thisLine.header=!0,p.highlightFormatting&&($.formatting="header"),$.f=$.inline,Ee($);if($.indentation<=zt&&ue.eat(">"))return $.quote=Oe?1:$.quote+1,p.highlightFormatting&&($.formatting="quote"),ue.eatSpace(),Ee($);if(!Lt&&!$.setext&&Oe&&$.indentation<=zt&&(en=ue.match(O))){var rn=en[1]?"ol":"ul";return $.indentation=$t+ue.current().length,$.list=!0,$.quote=0,$.listStack.push($.indentation),$.em=!1,$.strong=!1,$.code=!1,$.strikethrough=!1,p.taskLists&&ue.match(R,!1)&&($.taskList=!0),$.f=$.inline,p.highlightFormatting&&($.formatting=["list","list-"+rn]),Ee($)}else{if(Oe&&$.indentation<=zt&&(en=ue.match(ie,!0)))return $.quote=0,$.fencedEndRE=new RegExp(en[1]+"+ *$"),$.localMode=p.fencedCodeBlockHighlighting&&k(en[2]||p.fencedCodeBlockDefaultMode),$.localMode&&($.localState=l.startState($.localMode)),$.f=$.block=Ke,p.highlightFormatting&&($.formatting="code-block"),$.code=-1,Ee($);if($.setext||(!Mt||!Qt)&&!$.quote&&$.list===!1&&!$.code&&!Lt&&!oe.test(ue.string)&&(en=ue.lookAhead(1))&&(en=en.match(X)))return $.setext?($.header=$.setext,$.setext=0,ue.skipToEnd(),p.highlightFormatting&&($.formatting="header")):($.header=en[0].charAt(0)=="="?1:2,$.setext=$.header),$.thisLine.header=!0,$.f=$.inline,Ee($);if(Lt)return ue.skipToEnd(),$.hr=!0,$.thisLine.hr=!0,T.hr;if(ue.peek()==="[")return Z(ue,$,tt)}return Z(ue,$,$.inline)}function Le(ue,$){var Oe=v.token(ue,$.htmlState);if(!C){var wt=l.innerMode(v,$.htmlState);(wt.mode.name=="xml"&&wt.state.tagStart===null&&!wt.state.context&&wt.state.tokenize.isInText||$.md_inside&&ue.current().indexOf(">")>-1)&&($.f=je,$.block=pe,$.htmlState=null)}return Oe}function Ke(ue,$){var Oe=$.listStack[$.listStack.length-1]||0,wt=$.indentation<Oe,ht=Oe+3;if($.fencedEndRE&&$.indentation<=ht&&(wt||ue.match($.fencedEndRE))){p.highlightFormatting&&($.formatting="code-block");var Ut;return wt||(Ut=Ee($)),$.localMode=$.localState=null,$.block=pe,$.f=je,$.fencedEndRE=null,$.code=0,$.thisLine.fencedCodeEnd=!0,wt?ae(ue,$,$.block):Ut}else return $.localMode?$.localMode.token(ue,$.localState):(ue.skipToEnd(),T.code)}function Ee(ue){var $=[];if(ue.formatting){$.push(T.formatting),typeof ue.formatting=="string"&&(ue.formatting=[ue.formatting]);for(var Oe=0;Oe<ue.formatting.length;Oe++)$.push(T.formatting+"-"+ue.formatting[Oe]),ue.formatting[Oe]==="header"&&$.push(T.formatting+"-"+ue.formatting[Oe]+"-"+ue.header),ue.formatting[Oe]==="quote"&&(!p.maxBlockquoteDepth||p.maxBlockquoteDepth>=ue.quote?$.push(T.formatting+"-"+ue.formatting[Oe]+"-"+ue.quote):$.push("error"))}if(ue.taskOpen)return $.push("meta"),$.length?$.join(" "):null;if(ue.taskClosed)return $.push("property"),$.length?$.join(" "):null;if(ue.linkHref?$.push(T.linkHref,"url"):(ue.strong&&$.push(T.strong),ue.em&&$.push(T.em),ue.strikethrough&&$.push(T.strikethrough),ue.emoji&&$.push(T.emoji),ue.linkText&&$.push(T.linkText),ue.code&&$.push(T.code),ue.image&&$.push(T.image),ue.imageAltText&&$.push(T.imageAltText,"link"),ue.imageMarker&&$.push(T.imageMarker)),ue.header&&$.push(T.header,T.header+"-"+ue.header),ue.quote&&($.push(T.quote),!p.maxBlockquoteDepth||p.maxBlockquoteDepth>=ue.quote?$.push(T.quote+"-"+ue.quote):$.push(T.quote+"-"+p.maxBlockquoteDepth)),ue.list!==!1){var wt=(ue.listStack.length-1)%3;wt?wt===1?$.push(T.list2):$.push(T.list3):$.push(T.list1)}return ue.trailingSpaceNewLine?$.push("trailing-space-new-line"):ue.trailingSpace&&$.push("trailing-space-"+(ue.trailingSpace%2?"a":"b")),$.length?$.join(" "):null}function Ae(ue,$){if(ue.match(ne,!0))return Ee($)}function je(ue,$){var Oe=$.text(ue,$);if(typeof Oe<"u")return Oe;if($.list)return $.list=null,Ee($);if($.taskList){var wt=ue.match(R,!0)[1]===" ";return wt?$.taskOpen=!0:$.taskClosed=!0,p.highlightFormatting&&($.formatting="task"),$.taskList=!1,Ee($)}if($.taskOpen=!1,$.taskClosed=!1,$.header&&ue.match(/^#+$/,!0))return p.highlightFormatting&&($.formatting="header"),Ee($);var ht=ue.next();if($.linkTitle){$.linkTitle=!1;var Ut=ht;ht==="("&&(Ut=")"),Ut=(Ut+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Qt="^\\s*(?:[^"+Ut+"\\\\]+|\\\\\\\\|\\\\.)"+Ut;if(ue.match(new RegExp(Qt),!0))return T.linkHref}if(ht==="`"){var zt=$.formatting;p.highlightFormatting&&($.formatting="code"),ue.eatWhile("`");var $t=ue.current().length;if($.code==0&&(!$.quote||$t==1))return $.code=$t,Ee($);if($t==$.code){var Mt=Ee($);return $.code=0,Mt}else return $.formatting=zt,Ee($)}else if($.code)return Ee($);if(ht==="\\"&&(ue.next(),p.highlightFormatting)){var Lt=Ee($),en=T.formatting+"-escape";return Lt?Lt+" "+en:en}if(ht==="!"&&ue.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return $.imageMarker=!0,$.image=!0,p.highlightFormatting&&($.formatting="image"),Ee($);if(ht==="["&&$.imageMarker&&ue.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return $.imageMarker=!1,$.imageAltText=!0,p.highlightFormatting&&($.formatting="image"),Ee($);if(ht==="]"&&$.imageAltText){p.highlightFormatting&&($.formatting="image");var Lt=Ee($);return $.imageAltText=!1,$.image=!1,$.inline=$.f=ce,Lt}if(ht==="["&&!$.image)return $.linkText&&ue.match(/^.*?\]/)||($.linkText=!0,p.highlightFormatting&&($.formatting="link")),Ee($);if(ht==="]"&&$.linkText){p.highlightFormatting&&($.formatting="link");var Lt=Ee($);return $.linkText=!1,$.inline=$.f=ue.match(/\(.*?\)| ?\[.*?\]/,!1)?ce:je,Lt}if(ht==="<"&&ue.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){$.f=$.inline=ct,p.highlightFormatting&&($.formatting="link");var Lt=Ee($);return Lt?Lt+=" ":Lt="",Lt+T.linkInline}if(ht==="<"&&ue.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){$.f=$.inline=ct,p.highlightFormatting&&($.formatting="link");var Lt=Ee($);return Lt?Lt+=" ":Lt="",Lt+T.linkEmail}if(p.xml&&ht==="<"&&ue.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var rn=ue.string.indexOf(">",ue.pos);if(rn!=-1){var lt=ue.string.substring(ue.start,rn);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(lt)&&($.md_inside=!0)}return ue.backUp(1),$.htmlState=l.startState(v),ae(ue,$,Le)}if(p.xml&&ht==="<"&&ue.match(/^\/\w*?>/))return $.md_inside=!1,"tag";if(ht==="*"||ht==="_"){for(var Fn=1,Ln=ue.pos==1?" ":ue.string.charAt(ue.pos-2);Fn<3&&ue.eat(ht);)Fn++;var ln=ue.peek()||" ",_i=!/\s/.test(ln)&&(!ee.test(ln)||/\s/.test(Ln)||ee.test(Ln)),ot=!/\s/.test(Ln)&&(!ee.test(Ln)||/\s/.test(ln)||ee.test(ln)),sn=null,ci=null;if(Fn%2&&(!$.em&&_i&&(ht==="*"||!ot||ee.test(Ln))?sn=!0:$.em==ht&&ot&&(ht==="*"||!_i||ee.test(ln))&&(sn=!1)),Fn>1&&(!$.strong&&_i&&(ht==="*"||!ot||ee.test(Ln))?ci=!0:$.strong==ht&&ot&&(ht==="*"||!_i||ee.test(ln))&&(ci=!1)),ci!=null||sn!=null){p.highlightFormatting&&($.formatting=sn==null?"strong":ci==null?"em":"strong em"),sn===!0&&($.em=ht),ci===!0&&($.strong=ht);var Mt=Ee($);return sn===!1&&($.em=!1),ci===!1&&($.strong=!1),Mt}}else if(ht===" "&&(ue.eat("*")||ue.eat("_"))){if(ue.peek()===" ")return Ee($);ue.backUp(1)}if(p.strikethrough){if(ht==="~"&&ue.eatWhile(ht)){if($.strikethrough){p.highlightFormatting&&($.formatting="strikethrough");var Mt=Ee($);return $.strikethrough=!1,Mt}else if(ue.match(/^[^\s]/,!1))return $.strikethrough=!0,p.highlightFormatting&&($.formatting="strikethrough"),Ee($)}else if(ht===" "&&ue.match("~~",!0)){if(ue.peek()===" ")return Ee($);ue.backUp(2)}}if(p.emoji&&ht===":"&&ue.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){$.emoji=!0,p.highlightFormatting&&($.formatting="emoji");var _s=Ee($);return $.emoji=!1,_s}return ht===" "&&(ue.match(/^ +$/,!1)?$.trailingSpace++:$.trailingSpace&&($.trailingSpaceNewLine=!0)),Ee($)}function ct(ue,$){var Oe=ue.next();if(Oe===">"){$.f=$.inline=je,p.highlightFormatting&&($.formatting="link");var wt=Ee($);return wt?wt+=" ":wt="",wt+T.linkInline}return ue.match(/^[^>]+/,!0),T.linkInline}function ce(ue,$){if(ue.eatSpace())return null;var Oe=ue.next();return Oe==="("||Oe==="["?($.f=$.inline=Re(Oe==="("?")":"]"),p.highlightFormatting&&($.formatting="link-string"),$.linkHref=!0,Ee($)):"error"}var Ve={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Re(ue){return function($,Oe){var wt=$.next();if(wt===ue){Oe.f=Oe.inline=je,p.highlightFormatting&&(Oe.formatting="link-string");var ht=Ee(Oe);return Oe.linkHref=!1,ht}return $.match(Ve[ue]),Oe.linkHref=!0,Ee(Oe)}}function tt(ue,$){return ue.match(/^([^\]\\]|\\.)*\]:/,!1)?($.f=mt,ue.next(),p.highlightFormatting&&($.formatting="link"),$.linkText=!0,Ee($)):Z(ue,$,je)}function mt(ue,$){if(ue.match("]:",!0)){$.f=$.inline=Pt,p.highlightFormatting&&($.formatting="link");var Oe=Ee($);return $.linkText=!1,Oe}return ue.match(/^([^\]\\]|\\.)+/,!0),T.linkText}function Pt(ue,$){return ue.eatSpace()?null:(ue.match(/^[^\s]+/,!0),ue.peek()===void 0?$.linkTitle=!0:ue.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),$.f=$.inline=je,T.linkHref+" url")}var Kn={startState:function(){return{f:pe,prevLine:{stream:null},thisLine:{stream:null},block:pe,htmlState:null,indentation:0,inline:je,text:Ae,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ue){return{f:ue.f,prevLine:ue.prevLine,thisLine:ue.thisLine,block:ue.block,htmlState:ue.htmlState&&l.copyState(v,ue.htmlState),indentation:ue.indentation,localMode:ue.localMode,localState:ue.localMode?l.copyState(ue.localMode,ue.localState):null,inline:ue.inline,text:ue.text,formatting:!1,linkText:ue.linkText,linkTitle:ue.linkTitle,linkHref:ue.linkHref,code:ue.code,em:ue.em,strong:ue.strong,strikethrough:ue.strikethrough,emoji:ue.emoji,header:ue.header,setext:ue.setext,hr:ue.hr,taskList:ue.taskList,list:ue.list,listStack:ue.listStack.slice(0),quote:ue.quote,indentedCode:ue.indentedCode,trailingSpace:ue.trailingSpace,trailingSpaceNewLine:ue.trailingSpaceNewLine,md_inside:ue.md_inside,fencedEndRE:ue.fencedEndRE}},token:function(ue,$){if($.formatting=!1,ue!=$.thisLine.stream){if($.header=0,$.hr=!1,ue.match(/^\s*$/,!0))return be($),null;if($.prevLine=$.thisLine,$.thisLine={stream:ue},$.taskList=!1,$.trailingSpace=0,$.trailingSpaceNewLine=!1,!$.localState&&($.f=$.block,$.f!=Le)){var Oe=ue.match(/^\s*/,!0)[0].replace(/\t/g,le).length;if($.indentation=Oe,$.indentationDiff=null,Oe>0)return null}}return $.f(ue,$)},innerMode:function(ue){return ue.block==Le?{state:ue.htmlState,mode:v}:ue.localState?{state:ue.localState,mode:ue.localMode}:{state:ue,mode:Kn}},indent:function(ue,$,Oe){return ue.block==Le&&v.indent?v.indent(ue.htmlState,$,Oe):ue.localState&&ue.localMode.indent?ue.localMode.indent(ue.localState,$,Oe):l.Pass},blankLine:be,getType:Ee,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Kn},"xml"),l.defineMIME("text/markdown","markdown"),l.defineMIME("text/x-markdown","markdown")})}()),Nm.exports}var Um={exports:{}},$m;function Mv(){return $m||($m=1,function(d,a){(function(l){l(Gi())})(function(l){l.overlayMode=function(h,p,v){return{startState:function(){return{base:l.startState(h),overlay:l.startState(p),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(C){return{base:l.copyState(h,C.base),overlay:l.copyState(p,C.overlay),basePos:C.basePos,baseCur:null,overlayPos:C.overlayPos,overlayCur:null}},token:function(C,k){return(C!=k.streamSeen||Math.min(k.basePos,k.overlayPos)<C.start)&&(k.streamSeen=C,k.basePos=k.overlayPos=C.start),C.start==k.basePos&&(k.baseCur=h.token(C,k.base),k.basePos=C.pos),C.start==k.overlayPos&&(C.pos=C.start,k.overlayCur=p.token(C,k.overlay),k.overlayPos=C.pos),C.pos=Math.min(k.basePos,k.overlayPos),k.overlayCur==null?k.baseCur:k.baseCur!=null&&k.overlay.combineTokens||v&&k.overlay.combineTokens==null?k.baseCur+" "+k.overlayCur:k.overlayCur},indent:h.indent&&function(C,k,T){return h.indent(C.base,k,T)},electricChars:h.electricChars,innerMode:function(C){return{state:C.base,mode:h}},blankLine:function(C){var k,T;return h.blankLine&&(k=h.blankLine(C.base)),p.blankLine&&(T=p.blankLine(C.overlay)),T==null?k:v&&k!=null?k+" "+T:T}}}})}()),Um.exports}var qm={exports:{}},Ym;function UT(){return Ym||(Ym=1,function(d,a){(function(l){l(Gi())})(function(l){l.defineOption("placeholder","",function(E,A,O){var R=O&&O!=l.Init;if(A&&!R)E.on("blur",C),E.on("change",k),E.on("swapDoc",k),l.on(E.getInputField(),"compositionupdate",E.state.placeholderCompose=function(){v(E)}),k(E);else if(!A&&R){E.off("blur",C),E.off("change",k),E.off("swapDoc",k),l.off(E.getInputField(),"compositionupdate",E.state.placeholderCompose),h(E);var j=E.getWrapperElement();j.className=j.className.replace(" CodeMirror-empty","")}A&&!E.hasFocus()&&C(E)});function h(E){E.state.placeholder&&(E.state.placeholder.parentNode.removeChild(E.state.placeholder),E.state.placeholder=null)}function p(E){h(E);var A=E.state.placeholder=document.createElement("pre");A.style.cssText="height: 0; overflow: visible",A.style.direction=E.getOption("direction"),A.className="CodeMirror-placeholder CodeMirror-line-like";var O=E.getOption("placeholder");typeof O=="string"&&(O=document.createTextNode(O)),A.appendChild(O),E.display.lineSpace.insertBefore(A,E.display.lineSpace.firstChild)}function v(E){setTimeout(function(){var A=!1;if(E.lineCount()==1){var O=E.getInputField();A=O.nodeName=="TEXTAREA"?!E.getLine(0).length:!/[^\u200b]/.test(O.querySelector(".CodeMirror-line").textContent)}A?p(E):h(E)},20)}function C(E){T(E)&&p(E)}function k(E){var A=E.getWrapperElement(),O=T(E);A.className=A.className.replace(" CodeMirror-empty","")+(O?" CodeMirror-empty":""),O?p(E):h(E)}function T(E){return E.lineCount()===1&&E.getLine(0)===""}})}()),qm.exports}var Gm={exports:{}},Xm;function $T(){return Xm||(Xm=1,function(d,a){(function(l){l(Gi())})(function(l){l.defineOption("autoRefresh",!1,function(v,C){v.state.autoRefresh&&(p(v,v.state.autoRefresh),v.state.autoRefresh=null),C&&v.display.wrapper.offsetHeight==0&&h(v,v.state.autoRefresh={delay:C.delay||250})});function h(v,C){function k(){v.display.wrapper.offsetHeight?(p(v,C),v.display.lastWrapHeight!=v.display.wrapper.clientHeight&&v.refresh()):C.timeout=setTimeout(k,C.delay)}C.timeout=setTimeout(k,C.delay),C.hurry=function(){clearTimeout(C.timeout),C.timeout=setTimeout(k,50)},l.on(window,"mouseup",C.hurry),l.on(window,"keyup",C.hurry)}function p(v,C){clearTimeout(C.timeout),l.off(window,"mouseup",C.hurry),l.off(window,"keyup",C.hurry)}})}()),Gm.exports}var Km={exports:{}},Zm;function qT(){return Zm||(Zm=1,function(d,a){(function(l){l(Gi())})(function(l){l.defineOption("styleSelectedText",!1,function(R,j,X){var ne=X&&X!=l.Init;j&&!ne?(R.state.markedSelection=[],R.state.markedSelectionStyle=typeof j=="string"?j:"CodeMirror-selectedtext",A(R),R.on("cursorActivity",h),R.on("change",p)):!j&&ne&&(R.off("cursorActivity",h),R.off("change",p),E(R),R.state.markedSelection=R.state.markedSelectionStyle=null)});function h(R){R.state.markedSelection&&R.operation(function(){O(R)})}function p(R){R.state.markedSelection&&R.state.markedSelection.length&&R.operation(function(){E(R)})}var v=8,C=l.Pos,k=l.cmpPos;function T(R,j,X,ne){if(k(j,X)!=0)for(var ie=R.state.markedSelection,oe=R.state.markedSelectionStyle,ee=j.line;;){var le=ee==j.line?j:C(ee,0),Z=ee+v,ae=Z>=X.line,ke=ae?X:C(Z,0),be=R.markText(le,ke,{className:oe});if(ne==null?ie.push(be):ie.splice(ne++,0,be),ae)break;ee=Z}}function E(R){for(var j=R.state.markedSelection,X=0;X<j.length;++X)j[X].clear();j.length=0}function A(R){E(R);for(var j=R.listSelections(),X=0;X<j.length;X++)T(R,j[X].from(),j[X].to())}function O(R){if(!R.somethingSelected())return E(R);if(R.listSelections().length>1)return A(R);var j=R.getCursor("start"),X=R.getCursor("end"),ne=R.state.markedSelection;if(!ne.length)return T(R,j,X);var ie=ne[0].find(),oe=ne[ne.length-1].find();if(!ie||!oe||X.line-j.line<=v||k(j,oe.to)>=0||k(X,ie.from)<=0)return A(R);for(;k(j,ie.from)>0;)ne.shift().clear(),ie=ne[0].find();for(k(j,ie.from)<0&&(ie.to.line-j.line<v?(ne.shift().clear(),T(R,j,ie.to,0)):T(R,j,ie.from,0));k(X,oe.to)<0;)ne.pop().clear(),oe=ne[ne.length-1].find();k(X,oe.to)>0&&(X.line-oe.from.line<v?(ne.pop().clear(),T(R,oe.from,X)):T(R,oe.to,X))}})}()),Km.exports}var Jm={exports:{}},Qm;function YT(){return Qm||(Qm=1,function(d,a){(function(l){l(Gi())})(function(l){var h=l.Pos;function p(ee){var le=ee.flags;return le??(ee.ignoreCase?"i":"")+(ee.global?"g":"")+(ee.multiline?"m":"")}function v(ee,le){for(var Z=p(ee),ae=Z,ke=0;ke<le.length;ke++)ae.indexOf(le.charAt(ke))==-1&&(ae+=le.charAt(ke));return Z==ae?ee:new RegExp(ee.source,ae)}function C(ee){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(ee.source)}function k(ee,le,Z){le=v(le,"g");for(var ae=Z.line,ke=Z.ch,be=ee.lastLine();ae<=be;ae++,ke=0){le.lastIndex=ke;var pe=ee.getLine(ae),Le=le.exec(pe);if(Le)return{from:h(ae,Le.index),to:h(ae,Le.index+Le[0].length),match:Le}}}function T(ee,le,Z){if(!C(le))return k(ee,le,Z);le=v(le,"gm");for(var ae,ke=1,be=Z.line,pe=ee.lastLine();be<=pe;){for(var Le=0;Le<ke&&!(be>pe);Le++){var Ke=ee.getLine(be++);ae=ae==null?Ke:ae+`
`+Ke}ke=ke*2,le.lastIndex=Z.ch;var Ee=le.exec(ae);if(Ee){var Ae=ae.slice(0,Ee.index).split(`
`),je=Ee[0].split(`
`),ct=Z.line+Ae.length-1,ce=Ae[Ae.length-1].length;return{from:h(ct,ce),to:h(ct+je.length-1,je.length==1?ce+je[0].length:je[je.length-1].length),match:Ee}}}}function E(ee,le,Z){for(var ae,ke=0;ke<=ee.length;){le.lastIndex=ke;var be=le.exec(ee);if(!be)break;var pe=be.index+be[0].length;if(pe>ee.length-Z)break;(!ae||pe>ae.index+ae[0].length)&&(ae=be),ke=be.index+1}return ae}function A(ee,le,Z){le=v(le,"g");for(var ae=Z.line,ke=Z.ch,be=ee.firstLine();ae>=be;ae--,ke=-1){var pe=ee.getLine(ae),Le=E(pe,le,ke<0?0:pe.length-ke);if(Le)return{from:h(ae,Le.index),to:h(ae,Le.index+Le[0].length),match:Le}}}function O(ee,le,Z){if(!C(le))return A(ee,le,Z);le=v(le,"gm");for(var ae,ke=1,be=ee.getLine(Z.line).length-Z.ch,pe=Z.line,Le=ee.firstLine();pe>=Le;){for(var Ke=0;Ke<ke&&pe>=Le;Ke++){var Ee=ee.getLine(pe--);ae=ae==null?Ee:Ee+`
`+ae}ke*=2;var Ae=E(ae,le,be);if(Ae){var je=ae.slice(0,Ae.index).split(`
`),ct=Ae[0].split(`
`),ce=pe+je.length,Ve=je[je.length-1].length;return{from:h(ce,Ve),to:h(ce+ct.length-1,ct.length==1?Ve+ct[0].length:ct[ct.length-1].length),match:Ae}}}}var R,j;String.prototype.normalize?(R=function(ee){return ee.normalize("NFD").toLowerCase()},j=function(ee){return ee.normalize("NFD")}):(R=function(ee){return ee.toLowerCase()},j=function(ee){return ee});function X(ee,le,Z,ae){if(ee.length==le.length)return Z;for(var ke=0,be=Z+Math.max(0,ee.length-le.length);;){if(ke==be)return ke;var pe=ke+be>>1,Le=ae(ee.slice(0,pe)).length;if(Le==Z)return pe;Le>Z?be=pe:ke=pe+1}}function ne(ee,le,Z,ae){if(!le.length)return null;var ke=ae?R:j,be=ke(le).split(/\r|\n\r?/);e:for(var pe=Z.line,Le=Z.ch,Ke=ee.lastLine()+1-be.length;pe<=Ke;pe++,Le=0){var Ee=ee.getLine(pe).slice(Le),Ae=ke(Ee);if(be.length==1){var je=Ae.indexOf(be[0]);if(je==-1)continue e;var Z=X(Ee,Ae,je,ke)+Le;return{from:h(pe,X(Ee,Ae,je,ke)+Le),to:h(pe,X(Ee,Ae,je+be[0].length,ke)+Le)}}else{var ct=Ae.length-be[0].length;if(Ae.slice(ct)!=be[0])continue e;for(var ce=1;ce<be.length-1;ce++)if(ke(ee.getLine(pe+ce))!=be[ce])continue e;var Ve=ee.getLine(pe+be.length-1),Re=ke(Ve),tt=be[be.length-1];if(Re.slice(0,tt.length)!=tt)continue e;return{from:h(pe,X(Ee,Ae,ct,ke)+Le),to:h(pe+be.length-1,X(Ve,Re,tt.length,ke))}}}}function ie(ee,le,Z,ae){if(!le.length)return null;var ke=ae?R:j,be=ke(le).split(/\r|\n\r?/);e:for(var pe=Z.line,Le=Z.ch,Ke=ee.firstLine()-1+be.length;pe>=Ke;pe--,Le=-1){var Ee=ee.getLine(pe);Le>-1&&(Ee=Ee.slice(0,Le));var Ae=ke(Ee);if(be.length==1){var je=Ae.lastIndexOf(be[0]);if(je==-1)continue e;return{from:h(pe,X(Ee,Ae,je,ke)),to:h(pe,X(Ee,Ae,je+be[0].length,ke))}}else{var ct=be[be.length-1];if(Ae.slice(0,ct.length)!=ct)continue e;for(var ce=1,Z=pe-be.length+1;ce<be.length-1;ce++)if(ke(ee.getLine(Z+ce))!=be[ce])continue e;var Ve=ee.getLine(pe+1-be.length),Re=ke(Ve);if(Re.slice(Re.length-be[0].length)!=be[0])continue e;return{from:h(pe+1-be.length,X(Ve,Re,Ve.length-be[0].length,ke)),to:h(pe,X(Ee,Ae,ct.length,ke))}}}}function oe(ee,le,Z,ae){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=ee,Z=Z?ee.clipPos(Z):h(0,0),this.pos={from:Z,to:Z};var ke;typeof ae=="object"?ke=ae.caseFold:(ke=ae,ae=null),typeof le=="string"?(ke==null&&(ke=!1),this.matches=function(be,pe){return(be?ie:ne)(ee,le,pe,ke)}):(le=v(le,"gm"),!ae||ae.multiline!==!1?this.matches=function(be,pe){return(be?O:T)(ee,le,pe)}:this.matches=function(be,pe){return(be?A:k)(ee,le,pe)})}oe.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(ee){var le=this.doc.clipPos(ee?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(le=h(le.line,le.ch),ee?(le.ch--,le.ch<0&&(le.line--,le.ch=(this.doc.getLine(le.line)||"").length)):(le.ch++,le.ch>(this.doc.getLine(le.line)||"").length&&(le.ch=0,le.line++)),l.cmpPos(le,this.doc.clipPos(le))!=0))return this.atOccurrence=!1;var Z=this.matches(ee,le);if(this.afterEmptyMatch=Z&&l.cmpPos(Z.from,Z.to)==0,Z)return this.pos=Z,this.atOccurrence=!0,this.pos.match||!0;var ae=h(ee?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:ae,to:ae},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(ee,le){if(this.atOccurrence){var Z=l.splitLines(ee);this.doc.replaceRange(Z,this.pos.from,this.pos.to,le),this.pos.to=h(this.pos.from.line+Z.length-1,Z[Z.length-1].length+(Z.length==1?this.pos.from.ch:0))}}},l.defineExtension("getSearchCursor",function(ee,le,Z){return new oe(this.doc,ee,le,Z)}),l.defineDocExtension("getSearchCursor",function(ee,le,Z){return new oe(this,ee,le,Z)}),l.defineExtension("selectMatches",function(ee,le){for(var Z=[],ae=this.getSearchCursor(ee,this.getCursor("from"),le);ae.findNext()&&!(l.cmpPos(ae.to(),this.getCursor("to"))>0);)Z.push({anchor:ae.from(),head:ae.to()});Z.length&&this.setSelections(Z,0)})})}()),Jm.exports}var e0={exports:{}},t0;function GT(){return t0||(t0=1,function(d,a){(function(l){l(Gi(),Ev(),Mv())})(function(l){var h=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;l.defineMode("gfm",function(p,v){var C=0;function k(O){return O.code=!1,null}var T={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(O){return{code:O.code,codeBlock:O.codeBlock,ateSpace:O.ateSpace}},token:function(O,R){if(R.combineTokens=null,R.codeBlock)return O.match(/^```+/)?(R.codeBlock=!1,null):(O.skipToEnd(),null);if(O.sol()&&(R.code=!1),O.sol()&&O.match(/^```+/))return O.skipToEnd(),R.codeBlock=!0,null;if(O.peek()==="`"){O.next();var j=O.pos;O.eatWhile("`");var X=1+O.pos-j;return R.code?X===C&&(R.code=!1):(C=X,R.code=!0),null}else if(R.code)return O.next(),null;if(O.eatSpace())return R.ateSpace=!0,null;if((O.sol()||R.ateSpace)&&(R.ateSpace=!1,v.gitHubSpice!==!1)){if(O.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return R.combineTokens=!0,"link";if(O.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return R.combineTokens=!0,"link"}return O.match(h)&&O.string.slice(O.start-2,O.start)!="]("&&(O.start==0||/\W/.test(O.string.charAt(O.start-1)))?(R.combineTokens=!0,"link"):(O.next(),null)},blankLine:k},E={taskLists:!0,strikethrough:!0,emoji:!0};for(var A in v)E[A]=v[A];return E.name="markdown",l.overlayMode(l.getMode(p,E),T)},"markdown"),l.defineMIME("text/x-gfm","gfm")})}()),e0.exports}var Vf={exports:{}};const XT={},KT=Object.freeze(Object.defineProperty({__proto__:null,default:XT},Symbol.toStringTag,{value:"Module"})),ZT=N1(KT);var n0;function JT(){return n0||(n0=1,function(d){var a;(function(){a=function(l,h,p,v){v=v||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=v.flags||{},this.memoized={},this.loaded=!1;var C=this,k,T,E,A,O;if(l)if(C.dictionary=l,h&&p)ie();else if(typeof window<"u"&&(window.chrome||window.browser)){var R=window.chrome&&window.chrome.runtime?window.chrome.runtime:browser.runtime;v.dictionaryPath?k=v.dictionaryPath:k="typo/dictionaries",h||j(R.getURL(k+"/"+l+"/"+l+".aff"),X),p||j(R.getURL(k+"/"+l+"/"+l+".dic"),ne)}else v.dictionaryPath?k=v.dictionaryPath:typeof __dirname<"u"?k=__dirname+"/dictionaries":k="./dictionaries",h||j(k+"/"+l+"/"+l+".aff",X),p||j(k+"/"+l+"/"+l+".dic",ne);function j(oe,ee){var le=C._readFile(oe,null,v==null?void 0:v.asyncLoad);v!=null&&v.asyncLoad?le.then(function(Z){ee(Z)}):ee(le)}function X(oe){h=oe,p&&ie()}function ne(oe){p=oe,h&&ie()}function ie(){for(C.rules=C._parseAFF(h),C.compoundRuleCodes={},T=0,A=C.compoundRules.length;T<A;T++){var oe=C.compoundRules[T];for(E=0,O=oe.length;E<O;E++)C.compoundRuleCodes[oe[E]]=[]}"ONLYINCOMPOUND"in C.flags&&(C.compoundRuleCodes[C.flags.ONLYINCOMPOUND]=[]),C.dictionaryTable=C._parseDIC(p);for(T in C.compoundRuleCodes)C.compoundRuleCodes[T].length===0&&delete C.compoundRuleCodes[T];for(T=0,A=C.compoundRules.length;T<A;T++){var ee=C.compoundRules[T],le="";for(E=0,O=ee.length;E<O;E++){var Z=ee[E];Z in C.compoundRuleCodes?le+="("+C.compoundRuleCodes[Z].join("|")+")":le+=Z}C.compoundRules[T]=new RegExp("^"+le+"$","i")}C.loaded=!0,v!=null&&v.asyncLoad&&(v!=null&&v.loadedCallback)&&v.loadedCallback(C)}return this},a.prototype={load:function(l){for(var h in l)l.hasOwnProperty(h)&&(this[h]=l[h]);return this},_readFile:function(l,h,p){var v;if(h=h||"utf8",typeof XMLHttpRequest<"u"){var C=new XMLHttpRequest;if(C.open("GET",l,!!p),(v=C.overrideMimeType)===null||v===void 0||v.call(C,"text/plain; charset="+h),p){var k=new Promise(function(E,A){C.onload=function(){C.status===200?E(C.responseText):A(C.statusText)},C.onerror=function(){A(C.statusText)}});return C.send(null),k}else return C.send(null),C.responseText}else if(typeof B1<"u"){var T=ZT;try{if(T.existsSync(l))return T.readFileSync(l,h);console.log("Path "+l+" does not exist.")}catch(E){console.log(E)}return""}return""},_parseAFF:function(l){var h={},p,v,C,k,T,E,A,O,R=l.split(/\r?\n/);for(T=0,A=R.length;T<A;T++)if(p=this._removeAffixComments(R[T]),p=p.trim(),!!p){var j=p.split(/\s+/),X=j[0];if(X==="PFX"||X==="SFX"){var ne=j[1],ie=j[2];C=parseInt(j[3],10);var oe=[];for(E=T+1,O=T+1+C;E<O;E++){v=R[E],k=v.split(/\s+/);var ee=k[2],le=k[3].split("/"),Z=le[0];Z==="0"&&(Z="");var ae=this.parseRuleCodes(le[1]),ke=k[4],be={add:Z};ae.length>0&&(be.continuationClasses=ae),ke!=="."&&(X==="SFX"?be.match=new RegExp(ke+"$"):be.match=new RegExp("^"+ke)),ee!="0"&&(X==="SFX"?be.remove=new RegExp(ee+"$"):be.remove=ee),oe.push(be)}h[ne]={type:X,combineable:ie==="Y",entries:oe},T+=C}else if(X==="COMPOUNDRULE"){for(C=parseInt(j[1],10),E=T+1,O=T+1+C;E<O;E++)p=R[E],k=p.split(/\s+/),this.compoundRules.push(k[1]);T+=C}else X==="REP"?(k=p.split(/\s+/),k.length===3&&this.replacementTable.push([k[1],k[2]])):this.flags[X]=j[1]}return h},_removeAffixComments:function(l){return l.match(/^\s*#/)?"":l},_parseDIC:function(l){l=this._removeDicComments(l);var h=l.split(/\r?\n/),p={};function v(Ee,Ae){p.hasOwnProperty(Ee)||(p[Ee]=null),Ae.length>0&&(p[Ee]===null&&(p[Ee]=[]),p[Ee].push(Ae))}for(var C=1,k=h.length;C<k;C++){var T=h[C];if(T){var E=T.split("/",2),A=E[0];if(E.length>1){var O=this.parseRuleCodes(E[1]);(!("NEEDAFFIX"in this.flags)||O.indexOf(this.flags.NEEDAFFIX)===-1)&&v(A,O);for(var R=0,j=O.length;R<j;R++){var X=O[R],ne=this.rules[X];if(ne)for(var ie=this._applyRule(A,ne),oe=0,ee=ie.length;oe<ee;oe++){var le=ie[oe];if(v(le,[]),ne.combineable)for(var Z=R+1;Z<j;Z++){var ae=O[Z],ke=this.rules[ae];if(ke&&ke.combineable&&ne.type!=ke.type)for(var be=this._applyRule(le,ke),pe=0,Le=be.length;pe<Le;pe++){var Ke=be[pe];v(Ke,[])}}}X in this.compoundRuleCodes&&this.compoundRuleCodes[X].push(A)}}else v(A.trim(),[])}}return p},_removeDicComments:function(l){return l=l.replace(/^\t.*$/mg,""),l},parseRuleCodes:function(l){if(l)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var h=[],p=0,v=l.length;p<v;p+=2)h.push(l.substr(p,2));return h}else return this.flags.FLAG==="num"?l.split(","):this.flags.FLAG==="UTF-8"?Array.from(l):l.split("");else return l.split("");else return[]},_applyRule:function(l,h){for(var p=h.entries,v=[],C=0,k=p.length;C<k;C++){var T=p[C];if(!T.match||l.match(T.match)){var E=l;if(T.remove&&(E=E.replace(T.remove,"")),h.type==="SFX"?E=E+T.add:E=T.add+E,v.push(E),"continuationClasses"in T)for(var A=0,O=T.continuationClasses.length;A<O;A++){var R=this.rules[T.continuationClasses[A]];R&&(v=v.concat(this._applyRule(E,R)))}}}return v},check:function(l){if(!this.loaded)throw"Dictionary not loaded.";if(!l)return!1;var h=l.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(h))return!0;if(h.toUpperCase()===h){var p=h[0]+h.substring(1).toLowerCase();if(this.hasFlag(p,"KEEPCASE"))return!1;if(this.checkExact(p)||this.checkExact(h.toLowerCase()))return!0}var v=h[0].toLowerCase()+h.substring(1);if(v!==h){if(this.hasFlag(v,"KEEPCASE"))return!1;if(this.checkExact(v))return!0}return!1},checkExact:function(l){if(!this.loaded)throw"Dictionary not loaded.";var h=this.dictionaryTable[l],p,v;if(typeof h>"u"){if("COMPOUNDMIN"in this.flags&&l.length>=this.flags.COMPOUNDMIN){for(p=0,v=this.compoundRules.length;p<v;p++)if(l.match(this.compoundRules[p]))return!0}}else{if(h===null)return!0;if(typeof h=="object"){for(p=0,v=h.length;p<v;p++)if(!this.hasFlag(l,"ONLYINCOMPOUND",h[p]))return!0}}return!1},hasFlag:function(l,h,p){if(!this.loaded)throw"Dictionary not loaded.";return!!(h in this.flags&&(typeof p>"u"&&(p=Array.prototype.concat.apply([],this.dictionaryTable[l])),p&&p.indexOf(this.flags[h])!==-1))},alphabet:"",suggest:function(l,h){if(!this.loaded)throw"Dictionary not loaded.";if(h=h||5,this.memoized.hasOwnProperty(l)){var p=this.memoized[l].limit;if(h<=p||this.memoized[l].suggestions.length<p)return this.memoized[l].suggestions.slice(0,h)}if(this.check(l))return[];for(var v=0,C=this.replacementTable.length;v<C;v++){var k=this.replacementTable[v];if(l.indexOf(k[0])!==-1){var T=l.replace(k[0],k[1]);if(this.check(T))return[T]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var E=this.alphabet.split("");E.sort();for(var A={},v=0;v<E.length;v++)A[E[v]]=!0;this.alphabet="";for(var v in A)this.alphabet+=v}var O=this;function R(X,ne){var ie={},oe,ee,le,Z,ae=O.alphabet.length;for(var ke in X)for(oe=0,le=ke.length+1;oe<le;oe++){var be=[ke.substring(0,oe),ke.substring(oe)];if(be[1]&&(Z=be[0]+be[1].substring(1),(!ne||O.check(Z))&&(Z in ie?ie[Z]+=1:ie[Z]=1)),be[1].length>1&&be[1][1]!==be[1][0]&&(Z=be[0]+be[1][1]+be[1][0]+be[1].substring(2),(!ne||O.check(Z))&&(Z in ie?ie[Z]+=1:ie[Z]=1)),be[1]){var pe=be[1].substring(0,1).toUpperCase()===be[1].substring(0,1)?"uppercase":"lowercase";for(ee=0;ee<ae;ee++){var Le=O.alphabet[ee];pe==="uppercase"&&(Le=Le.toUpperCase()),Le!=be[1].substring(0,1)&&(Z=be[0]+Le+be[1].substring(1),(!ne||O.check(Z))&&(Z in ie?ie[Z]+=1:ie[Z]=1))}}if(be[1])for(ee=0;ee<ae;ee++){var pe=be[0].substring(-1).toUpperCase()===be[0].substring(-1)&&be[1].substring(0,1).toUpperCase()===be[1].substring(0,1)?"uppercase":"lowercase",Le=O.alphabet[ee];pe==="uppercase"&&(Le=Le.toUpperCase()),Z=be[0]+Le+be[1],(!ne||O.check(Z))&&(Z in ie?ie[Z]+=1:ie[Z]=1)}}return ie}function j(X){var ne,ie=R((ne={},ne[X]=!0,ne)),oe=R(ie,!0),ee=oe;for(var le in ie)O.check(le)&&(le in ee?ee[le]+=ie[le]:ee[le]=ie[le]);var Z,ae=[];for(Z in ee)ee.hasOwnProperty(Z)&&ae.push([Z,ee[Z]]);function ke(Ke,Ee){var Ae=Ke[1],je=Ee[1];return Ae<je?-1:Ae>je?1:Ee[0].localeCompare(Ke[0])}ae.sort(ke).reverse();var be=[],pe="lowercase";X.toUpperCase()===X?pe="uppercase":X.substr(0,1).toUpperCase()+X.substr(1).toLowerCase()===X&&(pe="capitalized");var Le=h;for(Z=0;Z<Math.min(Le,ae.length);Z++)pe==="uppercase"?ae[Z][0]=ae[Z][0].toUpperCase():pe==="capitalized"&&(ae[Z][0]=ae[Z][0].substr(0,1).toUpperCase()+ae[Z][0].substr(1)),!O.hasFlag(ae[Z][0],"NOSUGGEST")&&be.indexOf(ae[Z][0])===-1?be.push(ae[Z][0]):Le++;return be}return this.memoized[l]={suggestions:j(l),limit:h},this.memoized[l].suggestions}}})(),d.exports=a}(Vf)),Vf.exports}var Wf,i0;function QT(){if(i0)return Wf;i0=1;var d=JT();function a(l){if(l=l||{},typeof l.codeMirrorInstance!="function"||typeof l.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),l.codeMirrorInstance.defineMode("spell-checker",function(h){if(!a.aff_loading){a.aff_loading=!0;var p=new XMLHttpRequest;p.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),p.onload=function(){p.readyState===4&&p.status===200&&(a.aff_data=p.responseText,a.num_loaded++,a.num_loaded==2&&(a.typo=new d("en_US",a.aff_data,a.dic_data,{platform:"any"})))},p.send(null)}if(!a.dic_loading){a.dic_loading=!0;var v=new XMLHttpRequest;v.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),v.onload=function(){v.readyState===4&&v.status===200&&(a.dic_data=v.responseText,a.num_loaded++,a.num_loaded==2&&(a.typo=new d("en_US",a.aff_data,a.dic_data,{platform:"any"})))},v.send(null)}var C='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',k={token:function(E){var A=E.peek(),O="";if(C.includes(A))return E.next(),null;for(;(A=E.peek())!=null&&!C.includes(A);)O+=A,E.next();return a.typo&&!a.typo.check(O)?"spell-error":null}},T=l.codeMirrorInstance.getMode(h,h.backdrop||"text/plain");return l.codeMirrorInstance.overlayMode(T,k,!0)})}return a.num_loaded=0,a.aff_loading=!1,a.dic_loading=!1,a.aff_data="",a.dic_data="",a.typo,Wf=a,Wf}var jf={},s0;function eD(){return s0||(s0=1,function(d){function a(Te,De){for(var me=0;me<De.length;me++){var Y=De[me];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(Te,T(Y.key),Y)}}function l(Te,De,me){return me&&a(Te,me),Object.defineProperty(Te,"prototype",{writable:!1}),Te}function h(){return h=Object.assign?Object.assign.bind():function(Te){for(var De=1;De<arguments.length;De++){var me=arguments[De];for(var Y in me)Object.prototype.hasOwnProperty.call(me,Y)&&(Te[Y]=me[Y])}return Te},h.apply(this,arguments)}function p(Te,De){if(Te){if(typeof Te=="string")return v(Te,De);var me=Object.prototype.toString.call(Te).slice(8,-1);if(me==="Object"&&Te.constructor&&(me=Te.constructor.name),me==="Map"||me==="Set")return Array.from(Te);if(me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me))return v(Te,De)}}function v(Te,De){(De==null||De>Te.length)&&(De=Te.length);for(var me=0,Y=new Array(De);me<De;me++)Y[me]=Te[me];return Y}function C(Te,De){var me=typeof Symbol<"u"&&Te[Symbol.iterator]||Te["@@iterator"];if(me)return(me=me.call(Te)).next.bind(me);if(Array.isArray(Te)||(me=p(Te))||De){me&&(Te=me);var Y=0;return function(){return Y>=Te.length?{done:!0}:{done:!1,value:Te[Y++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(Te,De){if(typeof Te!="object"||Te===null)return Te;var me=Te[Symbol.toPrimitive];if(me!==void 0){var Y=me.call(Te,De);if(typeof Y!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Te)}function T(Te){var De=k(Te,"string");return typeof De=="symbol"?De:String(De)}function E(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}d.defaults=E();function A(Te){d.defaults=Te}var O=/[&<>"']/,R=new RegExp(O.source,"g"),j=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,X=new RegExp(j.source,"g"),ne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ie=function(De){return ne[De]};function oe(Te,De){if(De){if(O.test(Te))return Te.replace(R,ie)}else if(j.test(Te))return Te.replace(X,ie);return Te}var ee=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function le(Te){return Te.replace(ee,function(De,me){return me=me.toLowerCase(),me==="colon"?":":me.charAt(0)==="#"?me.charAt(1)==="x"?String.fromCharCode(parseInt(me.substring(2),16)):String.fromCharCode(+me.substring(1)):""})}var Z=/(^|[^\[])\^/g;function ae(Te,De){Te=typeof Te=="string"?Te:Te.source,De=De||"";var me={replace:function(U,he){return he=he.source||he,he=he.replace(Z,"$1"),Te=Te.replace(U,he),me},getRegex:function(){return new RegExp(Te,De)}};return me}var ke=/[^\w:]/g,be=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function pe(Te,De,me){if(Te){var Y;try{Y=decodeURIComponent(le(me)).replace(ke,"").toLowerCase()}catch{return null}if(Y.indexOf("javascript:")===0||Y.indexOf("vbscript:")===0||Y.indexOf("data:")===0)return null}De&&!be.test(me)&&(me=je(De,me));try{me=encodeURI(me).replace(/%25/g,"%")}catch{return null}return me}var Le={},Ke=/^[^:]+:\/*[^/]*$/,Ee=/^([^:]+:)[\s\S]*$/,Ae=/^([^:]+:\/*[^/]*)[\s\S]*$/;function je(Te,De){Le[" "+Te]||(Ke.test(Te)?Le[" "+Te]=Te+"/":Le[" "+Te]=Ve(Te,"/",!0)),Te=Le[" "+Te];var me=Te.indexOf(":")===-1;return De.substring(0,2)==="//"?me?De:Te.replace(Ee,"$1")+De:De.charAt(0)==="/"?me?De:Te.replace(Ae,"$1")+De:Te+De}var ct={exec:function(){}};function ce(Te,De){var me=Te.replace(/\|/g,function(he,L,H){for(var Q=!1,te=L;--te>=0&&H[te]==="\\";)Q=!Q;return Q?"|":" |"}),Y=me.split(/ \|/),U=0;if(Y[0].trim()||Y.shift(),Y.length>0&&!Y[Y.length-1].trim()&&Y.pop(),Y.length>De)Y.splice(De);else for(;Y.length<De;)Y.push("");for(;U<Y.length;U++)Y[U]=Y[U].trim().replace(/\\\|/g,"|");return Y}function Ve(Te,De,me){var Y=Te.length;if(Y===0)return"";for(var U=0;U<Y;){var he=Te.charAt(Y-U-1);if(he===De&&!me)U++;else if(he!==De&&me)U++;else break}return Te.slice(0,Y-U)}function Re(Te,De){if(Te.indexOf(De[1])===-1)return-1;for(var me=Te.length,Y=0,U=0;U<me;U++)if(Te[U]==="\\")U++;else if(Te[U]===De[0])Y++;else if(Te[U]===De[1]&&(Y--,Y<0))return U;return-1}function tt(Te){Te&&Te.sanitize&&!Te.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function mt(Te,De){if(De<1)return"";for(var me="";De>1;)De&1&&(me+=Te),De>>=1,Te+=Te;return me+Te}function Pt(Te,De,me,Y){var U=De.href,he=De.title?oe(De.title):null,L=Te[1].replace(/\\([\[\]])/g,"$1");if(Te[0].charAt(0)!=="!"){Y.state.inLink=!0;var H={type:"link",raw:me,href:U,title:he,text:L,tokens:Y.inlineTokens(L)};return Y.state.inLink=!1,H}return{type:"image",raw:me,href:U,title:he,text:oe(L)}}function Kn(Te,De){var me=Te.match(/^(\s+)(?:```)/);if(me===null)return De;var Y=me[1];return De.split(`
`).map(function(U){var he=U.match(/^\s+/);if(he===null)return U;var L=he[0];return L.length>=Y.length?U.slice(Y.length):U}).join(`
`)}var ue=function(){function Te(me){this.options=me||d.defaults}var De=Te.prototype;return De.space=function(Y){var U=this.rules.block.newline.exec(Y);if(U&&U[0].length>0)return{type:"space",raw:U[0]}},De.code=function(Y){var U=this.rules.block.code.exec(Y);if(U){var he=U[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:U[0],codeBlockStyle:"indented",text:this.options.pedantic?he:Ve(he,`
`)}}},De.fences=function(Y){var U=this.rules.block.fences.exec(Y);if(U){var he=U[0],L=Kn(he,U[3]||"");return{type:"code",raw:he,lang:U[2]?U[2].trim().replace(this.rules.inline._escapes,"$1"):U[2],text:L}}},De.heading=function(Y){var U=this.rules.block.heading.exec(Y);if(U){var he=U[2].trim();if(/#$/.test(he)){var L=Ve(he,"#");(this.options.pedantic||!L||/ $/.test(L))&&(he=L.trim())}return{type:"heading",raw:U[0],depth:U[1].length,text:he,tokens:this.lexer.inline(he)}}},De.hr=function(Y){var U=this.rules.block.hr.exec(Y);if(U)return{type:"hr",raw:U[0]}},De.blockquote=function(Y){var U=this.rules.block.blockquote.exec(Y);if(U){var he=U[0].replace(/^ *>[ \t]?/gm,""),L=this.lexer.state.top;this.lexer.state.top=!0;var H=this.lexer.blockTokens(he);return this.lexer.state.top=L,{type:"blockquote",raw:U[0],tokens:H,text:he}}},De.list=function(Y){var U=this.rules.block.list.exec(Y);if(U){var he,L,H,Q,te,de,xe,fe,re,we,ve,Ye,nt=U[1].trim(),Qe=nt.length>1,qe={type:"list",raw:"",ordered:Qe,start:Qe?+nt.slice(0,-1):"",loose:!1,items:[]};nt=Qe?"\\d{1,9}\\"+nt.slice(-1):"\\"+nt,this.options.pedantic&&(nt=Qe?nt:"[*+-]");for(var vt=new RegExp("^( {0,3}"+nt+")((?:[	 ][^\\n]*)?(?:\\n|$))");Y&&(Ye=!1,!(!(U=vt.exec(Y))||this.rules.block.hr.test(Y)));){if(he=U[0],Y=Y.substring(he.length),fe=U[2].split(`
`,1)[0].replace(/^\t+/,function(kn){return" ".repeat(3*kn.length)}),re=Y.split(`
`,1)[0],this.options.pedantic?(Q=2,ve=fe.trimLeft()):(Q=U[2].search(/[^ ]/),Q=Q>4?1:Q,ve=fe.slice(Q),Q+=U[1].length),de=!1,!fe&&/^ *$/.test(re)&&(he+=re+`
`,Y=Y.substring(re.length+1),Ye=!0),!Ye)for(var bt=new RegExp("^ {0,"+Math.min(3,Q-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),xt=new RegExp("^ {0,"+Math.min(3,Q-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),gt=new RegExp("^ {0,"+Math.min(3,Q-1)+"}(?:```|~~~)"),Nt=new RegExp("^ {0,"+Math.min(3,Q-1)+"}#");Y&&(we=Y.split(`
`,1)[0],re=we,this.options.pedantic&&(re=re.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(gt.test(re)||Nt.test(re)||bt.test(re)||xt.test(Y)));){if(re.search(/[^ ]/)>=Q||!re.trim())ve+=`
`+re.slice(Q);else{if(de||fe.search(/[^ ]/)>=4||gt.test(fe)||Nt.test(fe)||xt.test(fe))break;ve+=`
`+re}!de&&!re.trim()&&(de=!0),he+=we+`
`,Y=Y.substring(we.length+1),fe=re.slice(Q)}qe.loose||(xe?qe.loose=!0:/\n *\n *$/.test(he)&&(xe=!0)),this.options.gfm&&(L=/^\[[ xX]\] /.exec(ve),L&&(H=L[0]!=="[ ] ",ve=ve.replace(/^\[[ xX]\] +/,""))),qe.items.push({type:"list_item",raw:he,task:!!L,checked:H,loose:!1,text:ve}),qe.raw+=he}qe.items[qe.items.length-1].raw=he.trimRight(),qe.items[qe.items.length-1].text=ve.trimRight(),qe.raw=qe.raw.trimRight();var Ht=qe.items.length;for(te=0;te<Ht;te++)if(this.lexer.state.top=!1,qe.items[te].tokens=this.lexer.blockTokens(qe.items[te].text,[]),!qe.loose){var un=qe.items[te].tokens.filter(function(kn){return kn.type==="space"}),Zn=un.length>0&&un.some(function(kn){return/\n.*\n/.test(kn.raw)});qe.loose=Zn}if(qe.loose)for(te=0;te<Ht;te++)qe.items[te].loose=!0;return qe}},De.html=function(Y){var U=this.rules.block.html.exec(Y);if(U){var he={type:"html",raw:U[0],pre:!this.options.sanitizer&&(U[1]==="pre"||U[1]==="script"||U[1]==="style"),text:U[0]};if(this.options.sanitize){var L=this.options.sanitizer?this.options.sanitizer(U[0]):oe(U[0]);he.type="paragraph",he.text=L,he.tokens=this.lexer.inline(L)}return he}},De.def=function(Y){var U=this.rules.block.def.exec(Y);if(U){var he=U[1].toLowerCase().replace(/\s+/g," "),L=U[2]?U[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",H=U[3]?U[3].substring(1,U[3].length-1).replace(this.rules.inline._escapes,"$1"):U[3];return{type:"def",tag:he,raw:U[0],href:L,title:H}}},De.table=function(Y){var U=this.rules.block.table.exec(Y);if(U){var he={type:"table",header:ce(U[1]).map(function(xe){return{text:xe}}),align:U[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:U[3]&&U[3].trim()?U[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(he.header.length===he.align.length){he.raw=U[0];var L=he.align.length,H,Q,te,de;for(H=0;H<L;H++)/^ *-+: *$/.test(he.align[H])?he.align[H]="right":/^ *:-+: *$/.test(he.align[H])?he.align[H]="center":/^ *:-+ *$/.test(he.align[H])?he.align[H]="left":he.align[H]=null;for(L=he.rows.length,H=0;H<L;H++)he.rows[H]=ce(he.rows[H],he.header.length).map(function(xe){return{text:xe}});for(L=he.header.length,Q=0;Q<L;Q++)he.header[Q].tokens=this.lexer.inline(he.header[Q].text);for(L=he.rows.length,Q=0;Q<L;Q++)for(de=he.rows[Q],te=0;te<de.length;te++)de[te].tokens=this.lexer.inline(de[te].text);return he}}},De.lheading=function(Y){var U=this.rules.block.lheading.exec(Y);if(U)return{type:"heading",raw:U[0],depth:U[2].charAt(0)==="="?1:2,text:U[1],tokens:this.lexer.inline(U[1])}},De.paragraph=function(Y){var U=this.rules.block.paragraph.exec(Y);if(U){var he=U[1].charAt(U[1].length-1)===`
`?U[1].slice(0,-1):U[1];return{type:"paragraph",raw:U[0],text:he,tokens:this.lexer.inline(he)}}},De.text=function(Y){var U=this.rules.block.text.exec(Y);if(U)return{type:"text",raw:U[0],text:U[0],tokens:this.lexer.inline(U[0])}},De.escape=function(Y){var U=this.rules.inline.escape.exec(Y);if(U)return{type:"escape",raw:U[0],text:oe(U[1])}},De.tag=function(Y){var U=this.rules.inline.tag.exec(Y);if(U)return!this.lexer.state.inLink&&/^<a /i.test(U[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(U[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(U[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(U[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:U[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(U[0]):oe(U[0]):U[0]}},De.link=function(Y){var U=this.rules.inline.link.exec(Y);if(U){var he=U[2].trim();if(!this.options.pedantic&&/^</.test(he)){if(!/>$/.test(he))return;var L=Ve(he.slice(0,-1),"\\");if((he.length-L.length)%2===0)return}else{var H=Re(U[2],"()");if(H>-1){var Q=U[0].indexOf("!")===0?5:4,te=Q+U[1].length+H;U[2]=U[2].substring(0,H),U[0]=U[0].substring(0,te).trim(),U[3]=""}}var de=U[2],xe="";if(this.options.pedantic){var fe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(de);fe&&(de=fe[1],xe=fe[3])}else xe=U[3]?U[3].slice(1,-1):"";return de=de.trim(),/^</.test(de)&&(this.options.pedantic&&!/>$/.test(he)?de=de.slice(1):de=de.slice(1,-1)),Pt(U,{href:de&&de.replace(this.rules.inline._escapes,"$1"),title:xe&&xe.replace(this.rules.inline._escapes,"$1")},U[0],this.lexer)}},De.reflink=function(Y,U){var he;if((he=this.rules.inline.reflink.exec(Y))||(he=this.rules.inline.nolink.exec(Y))){var L=(he[2]||he[1]).replace(/\s+/g," ");if(L=U[L.toLowerCase()],!L){var H=he[0].charAt(0);return{type:"text",raw:H,text:H}}return Pt(he,L,he[0],this.lexer)}},De.emStrong=function(Y,U,he){he===void 0&&(he="");var L=this.rules.inline.emStrong.lDelim.exec(Y);if(L&&!(L[3]&&he.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var H=L[1]||L[2]||"";if(!H||H&&(he===""||this.rules.inline.punctuation.exec(he))){var Q=L[0].length-1,te,de,xe=Q,fe=0,re=L[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(re.lastIndex=0,U=U.slice(-1*Y.length+Q);(L=re.exec(U))!=null;)if(te=L[1]||L[2]||L[3]||L[4]||L[5]||L[6],!!te){if(de=te.length,L[3]||L[4]){xe+=de;continue}else if((L[5]||L[6])&&Q%3&&!((Q+de)%3)){fe+=de;continue}if(xe-=de,!(xe>0)){de=Math.min(de,de+xe+fe);var we=Y.slice(0,Q+L.index+(L[0].length-te.length)+de);if(Math.min(Q,de)%2){var ve=we.slice(1,-1);return{type:"em",raw:we,text:ve,tokens:this.lexer.inlineTokens(ve)}}var Ye=we.slice(2,-2);return{type:"strong",raw:we,text:Ye,tokens:this.lexer.inlineTokens(Ye)}}}}}},De.codespan=function(Y){var U=this.rules.inline.code.exec(Y);if(U){var he=U[2].replace(/\n/g," "),L=/[^ ]/.test(he),H=/^ /.test(he)&&/ $/.test(he);return L&&H&&(he=he.substring(1,he.length-1)),he=oe(he,!0),{type:"codespan",raw:U[0],text:he}}},De.br=function(Y){var U=this.rules.inline.br.exec(Y);if(U)return{type:"br",raw:U[0]}},De.del=function(Y){var U=this.rules.inline.del.exec(Y);if(U)return{type:"del",raw:U[0],text:U[2],tokens:this.lexer.inlineTokens(U[2])}},De.autolink=function(Y,U){var he=this.rules.inline.autolink.exec(Y);if(he){var L,H;return he[2]==="@"?(L=oe(this.options.mangle?U(he[1]):he[1]),H="mailto:"+L):(L=oe(he[1]),H=L),{type:"link",raw:he[0],text:L,href:H,tokens:[{type:"text",raw:L,text:L}]}}},De.url=function(Y,U){var he;if(he=this.rules.inline.url.exec(Y)){var L,H;if(he[2]==="@")L=oe(this.options.mangle?U(he[0]):he[0]),H="mailto:"+L;else{var Q;do Q=he[0],he[0]=this.rules.inline._backpedal.exec(he[0])[0];while(Q!==he[0]);L=oe(he[0]),he[1]==="www."?H="http://"+he[0]:H=he[0]}return{type:"link",raw:he[0],text:L,href:H,tokens:[{type:"text",raw:L,text:L}]}}},De.inlineText=function(Y,U){var he=this.rules.inline.text.exec(Y);if(he){var L;return this.lexer.state.inRawBlock?L=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(he[0]):oe(he[0]):he[0]:L=oe(this.options.smartypants?U(he[0]):he[0]),{type:"text",raw:he[0],text:L}}},Te}(),$={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ct,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};$._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,$._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,$.def=ae($.def).replace("label",$._label).replace("title",$._title).getRegex(),$.bullet=/(?:[*+-]|\d{1,9}[.)])/,$.listItemStart=ae(/^( *)(bull) */).replace("bull",$.bullet).getRegex(),$.list=ae($.list).replace(/bull/g,$.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+$.def.source+")").getRegex(),$._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,$.html=ae($.html,"i").replace("comment",$._comment).replace("tag",$._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$.paragraph=ae($._paragraph).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex(),$.blockquote=ae($.blockquote).replace("paragraph",$.paragraph).getRegex(),$.normal=h({},$),$.gfm=h({},$.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),$.gfm.table=ae($.gfm.table).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex(),$.gfm.paragraph=ae($._paragraph).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",$.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex(),$.pedantic=h({},$.normal,{html:ae(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ct,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ae($.normal._paragraph).replace("hr",$.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",$.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Oe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ct,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ct,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Oe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Oe.punctuation=ae(Oe.punctuation).replace(/punctuation/g,Oe._punctuation).getRegex(),Oe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Oe.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Oe._comment=ae($._comment).replace("(?:-->|$)","-->").getRegex(),Oe.emStrong.lDelim=ae(Oe.emStrong.lDelim).replace(/punct/g,Oe._punctuation).getRegex(),Oe.emStrong.rDelimAst=ae(Oe.emStrong.rDelimAst,"g").replace(/punct/g,Oe._punctuation).getRegex(),Oe.emStrong.rDelimUnd=ae(Oe.emStrong.rDelimUnd,"g").replace(/punct/g,Oe._punctuation).getRegex(),Oe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Oe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Oe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Oe.autolink=ae(Oe.autolink).replace("scheme",Oe._scheme).replace("email",Oe._email).getRegex(),Oe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Oe.tag=ae(Oe.tag).replace("comment",Oe._comment).replace("attribute",Oe._attribute).getRegex(),Oe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Oe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Oe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Oe.link=ae(Oe.link).replace("label",Oe._label).replace("href",Oe._href).replace("title",Oe._title).getRegex(),Oe.reflink=ae(Oe.reflink).replace("label",Oe._label).replace("ref",$._label).getRegex(),Oe.nolink=ae(Oe.nolink).replace("ref",$._label).getRegex(),Oe.reflinkSearch=ae(Oe.reflinkSearch,"g").replace("reflink",Oe.reflink).replace("nolink",Oe.nolink).getRegex(),Oe.normal=h({},Oe),Oe.pedantic=h({},Oe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ae(/^!?\[(label)\]\((.*?)\)/).replace("label",Oe._label).getRegex(),reflink:ae(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Oe._label).getRegex()}),Oe.gfm=h({},Oe.normal,{escape:ae(Oe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Oe.gfm.url=ae(Oe.gfm.url,"i").replace("email",Oe.gfm._extended_email).getRegex(),Oe.breaks=h({},Oe.gfm,{br:ae(Oe.br).replace("{2,}","*").getRegex(),text:ae(Oe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function wt(Te){return Te.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ht(Te){var De="",me,Y,U=Te.length;for(me=0;me<U;me++)Y=Te.charCodeAt(me),Math.random()>.5&&(Y="x"+Y.toString(16)),De+="&#"+Y+";";return De}var Ut=function(){function Te(me){this.tokens=[],this.tokens.links=Object.create(null),this.options=me||d.defaults,this.options.tokenizer=this.options.tokenizer||new ue,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var Y={block:$.normal,inline:Oe.normal};this.options.pedantic?(Y.block=$.pedantic,Y.inline=Oe.pedantic):this.options.gfm&&(Y.block=$.gfm,this.options.breaks?Y.inline=Oe.breaks:Y.inline=Oe.gfm),this.tokenizer.rules=Y}Te.lex=function(Y,U){var he=new Te(U);return he.lex(Y)},Te.lexInline=function(Y,U){var he=new Te(U);return he.inlineTokens(Y)};var De=Te.prototype;return De.lex=function(Y){Y=Y.replace(/\r\n|\r/g,`
`),this.blockTokens(Y,this.tokens);for(var U;U=this.inlineQueue.shift();)this.inlineTokens(U.src,U.tokens);return this.tokens},De.blockTokens=function(Y,U){var he=this;U===void 0&&(U=[]),this.options.pedantic?Y=Y.replace(/\t/g,"    ").replace(/^ +$/gm,""):Y=Y.replace(/^( *)(\t+)/gm,function(xe,fe,re){return fe+"    ".repeat(re.length)});for(var L,H,Q,te;Y;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(xe){return(L=xe.call({lexer:he},Y,U))?(Y=Y.substring(L.raw.length),U.push(L),!0):!1}))){if(L=this.tokenizer.space(Y)){Y=Y.substring(L.raw.length),L.raw.length===1&&U.length>0?U[U.length-1].raw+=`
`:U.push(L);continue}if(L=this.tokenizer.code(Y)){Y=Y.substring(L.raw.length),H=U[U.length-1],H&&(H.type==="paragraph"||H.type==="text")?(H.raw+=`
`+L.raw,H.text+=`
`+L.text,this.inlineQueue[this.inlineQueue.length-1].src=H.text):U.push(L);continue}if(L=this.tokenizer.fences(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.heading(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.hr(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.blockquote(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.list(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.html(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.def(Y)){Y=Y.substring(L.raw.length),H=U[U.length-1],H&&(H.type==="paragraph"||H.type==="text")?(H.raw+=`
`+L.raw,H.text+=`
`+L.raw,this.inlineQueue[this.inlineQueue.length-1].src=H.text):this.tokens.links[L.tag]||(this.tokens.links[L.tag]={href:L.href,title:L.title});continue}if(L=this.tokenizer.table(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.lheading(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(Q=Y,this.options.extensions&&this.options.extensions.startBlock&&function(){var xe=1/0,fe=Y.slice(1),re=void 0;he.options.extensions.startBlock.forEach(function(we){re=we.call({lexer:this},fe),typeof re=="number"&&re>=0&&(xe=Math.min(xe,re))}),xe<1/0&&xe>=0&&(Q=Y.substring(0,xe+1))}(),this.state.top&&(L=this.tokenizer.paragraph(Q))){H=U[U.length-1],te&&H.type==="paragraph"?(H.raw+=`
`+L.raw,H.text+=`
`+L.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=H.text):U.push(L),te=Q.length!==Y.length,Y=Y.substring(L.raw.length);continue}if(L=this.tokenizer.text(Y)){Y=Y.substring(L.raw.length),H=U[U.length-1],H&&H.type==="text"?(H.raw+=`
`+L.raw,H.text+=`
`+L.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=H.text):U.push(L);continue}if(Y){var de="Infinite loop on byte: "+Y.charCodeAt(0);if(this.options.silent){console.error(de);break}else throw new Error(de)}}return this.state.top=!0,U},De.inline=function(Y,U){return U===void 0&&(U=[]),this.inlineQueue.push({src:Y,tokens:U}),U},De.inlineTokens=function(Y,U){var he=this;U===void 0&&(U=[]);var L,H,Q,te=Y,de,xe,fe;if(this.tokens.links){var re=Object.keys(this.tokens.links);if(re.length>0)for(;(de=this.tokenizer.rules.inline.reflinkSearch.exec(te))!=null;)re.includes(de[0].slice(de[0].lastIndexOf("[")+1,-1))&&(te=te.slice(0,de.index)+"["+mt("a",de[0].length-2)+"]"+te.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(de=this.tokenizer.rules.inline.blockSkip.exec(te))!=null;)te=te.slice(0,de.index)+"["+mt("a",de[0].length-2)+"]"+te.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(de=this.tokenizer.rules.inline.escapedEmSt.exec(te))!=null;)te=te.slice(0,de.index+de[0].length-2)+"++"+te.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;Y;)if(xe||(fe=""),xe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ve){return(L=ve.call({lexer:he},Y,U))?(Y=Y.substring(L.raw.length),U.push(L),!0):!1}))){if(L=this.tokenizer.escape(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.tag(Y)){Y=Y.substring(L.raw.length),H=U[U.length-1],H&&L.type==="text"&&H.type==="text"?(H.raw+=L.raw,H.text+=L.text):U.push(L);continue}if(L=this.tokenizer.link(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.reflink(Y,this.tokens.links)){Y=Y.substring(L.raw.length),H=U[U.length-1],H&&L.type==="text"&&H.type==="text"?(H.raw+=L.raw,H.text+=L.text):U.push(L);continue}if(L=this.tokenizer.emStrong(Y,te,fe)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.codespan(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.br(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.del(Y)){Y=Y.substring(L.raw.length),U.push(L);continue}if(L=this.tokenizer.autolink(Y,ht)){Y=Y.substring(L.raw.length),U.push(L);continue}if(!this.state.inLink&&(L=this.tokenizer.url(Y,ht))){Y=Y.substring(L.raw.length),U.push(L);continue}if(Q=Y,this.options.extensions&&this.options.extensions.startInline&&function(){var ve=1/0,Ye=Y.slice(1),nt=void 0;he.options.extensions.startInline.forEach(function(Qe){nt=Qe.call({lexer:this},Ye),typeof nt=="number"&&nt>=0&&(ve=Math.min(ve,nt))}),ve<1/0&&ve>=0&&(Q=Y.substring(0,ve+1))}(),L=this.tokenizer.inlineText(Q,wt)){Y=Y.substring(L.raw.length),L.raw.slice(-1)!=="_"&&(fe=L.raw.slice(-1)),xe=!0,H=U[U.length-1],H&&H.type==="text"?(H.raw+=L.raw,H.text+=L.text):U.push(L);continue}if(Y){var we="Infinite loop on byte: "+Y.charCodeAt(0);if(this.options.silent){console.error(we);break}else throw new Error(we)}}return U},l(Te,null,[{key:"rules",get:function(){return{block:$,inline:Oe}}}]),Te}(),Qt=function(){function Te(me){this.options=me||d.defaults}var De=Te.prototype;return De.code=function(Y,U,he){var L=(U||"").match(/\S*/)[0];if(this.options.highlight){var H=this.options.highlight(Y,L);H!=null&&H!==Y&&(he=!0,Y=H)}return Y=Y.replace(/\n$/,"")+`
`,L?'<pre><code class="'+this.options.langPrefix+oe(L)+'">'+(he?Y:oe(Y,!0))+`</code></pre>
`:"<pre><code>"+(he?Y:oe(Y,!0))+`</code></pre>
`},De.blockquote=function(Y){return`<blockquote>
`+Y+`</blockquote>
`},De.html=function(Y){return Y},De.heading=function(Y,U,he,L){if(this.options.headerIds){var H=this.options.headerPrefix+L.slug(he);return"<h"+U+' id="'+H+'">'+Y+"</h"+U+`>
`}return"<h"+U+">"+Y+"</h"+U+`>
`},De.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},De.list=function(Y,U,he){var L=U?"ol":"ul",H=U&&he!==1?' start="'+he+'"':"";return"<"+L+H+`>
`+Y+"</"+L+`>
`},De.listitem=function(Y){return"<li>"+Y+`</li>
`},De.checkbox=function(Y){return"<input "+(Y?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},De.paragraph=function(Y){return"<p>"+Y+`</p>
`},De.table=function(Y,U){return U&&(U="<tbody>"+U+"</tbody>"),`<table>
<thead>
`+Y+`</thead>
`+U+`</table>
`},De.tablerow=function(Y){return`<tr>
`+Y+`</tr>
`},De.tablecell=function(Y,U){var he=U.header?"th":"td",L=U.align?"<"+he+' align="'+U.align+'">':"<"+he+">";return L+Y+("</"+he+`>
`)},De.strong=function(Y){return"<strong>"+Y+"</strong>"},De.em=function(Y){return"<em>"+Y+"</em>"},De.codespan=function(Y){return"<code>"+Y+"</code>"},De.br=function(){return this.options.xhtml?"<br/>":"<br>"},De.del=function(Y){return"<del>"+Y+"</del>"},De.link=function(Y,U,he){if(Y=pe(this.options.sanitize,this.options.baseUrl,Y),Y===null)return he;var L='<a href="'+Y+'"';return U&&(L+=' title="'+U+'"'),L+=">"+he+"</a>",L},De.image=function(Y,U,he){if(Y=pe(this.options.sanitize,this.options.baseUrl,Y),Y===null)return he;var L='<img src="'+Y+'" alt="'+he+'"';return U&&(L+=' title="'+U+'"'),L+=this.options.xhtml?"/>":">",L},De.text=function(Y){return Y},Te}(),zt=function(){function Te(){}var De=Te.prototype;return De.strong=function(Y){return Y},De.em=function(Y){return Y},De.codespan=function(Y){return Y},De.del=function(Y){return Y},De.html=function(Y){return Y},De.text=function(Y){return Y},De.link=function(Y,U,he){return""+he},De.image=function(Y,U,he){return""+he},De.br=function(){return""},Te}(),$t=function(){function Te(){this.seen={}}var De=Te.prototype;return De.serialize=function(Y){return Y.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},De.getNextSafeSlug=function(Y,U){var he=Y,L=0;if(this.seen.hasOwnProperty(he)){L=this.seen[Y];do L++,he=Y+"-"+L;while(this.seen.hasOwnProperty(he))}return U||(this.seen[Y]=L,this.seen[he]=0),he},De.slug=function(Y,U){U===void 0&&(U={});var he=this.serialize(Y);return this.getNextSafeSlug(he,U.dryrun)},Te}(),Mt=function(){function Te(me){this.options=me||d.defaults,this.options.renderer=this.options.renderer||new Qt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new zt,this.slugger=new $t}Te.parse=function(Y,U){var he=new Te(U);return he.parse(Y)},Te.parseInline=function(Y,U){var he=new Te(U);return he.parseInline(Y)};var De=Te.prototype;return De.parse=function(Y,U){U===void 0&&(U=!0);var he="",L,H,Q,te,de,xe,fe,re,we,ve,Ye,nt,Qe,qe,vt,bt,xt,gt,Nt,Ht=Y.length;for(L=0;L<Ht;L++){if(ve=Y[L],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ve.type]&&(Nt=this.options.extensions.renderers[ve.type].call({parser:this},ve),Nt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ve.type))){he+=Nt||"";continue}switch(ve.type){case"space":continue;case"hr":{he+=this.renderer.hr();continue}case"heading":{he+=this.renderer.heading(this.parseInline(ve.tokens),ve.depth,le(this.parseInline(ve.tokens,this.textRenderer)),this.slugger);continue}case"code":{he+=this.renderer.code(ve.text,ve.lang,ve.escaped);continue}case"table":{for(re="",fe="",te=ve.header.length,H=0;H<te;H++)fe+=this.renderer.tablecell(this.parseInline(ve.header[H].tokens),{header:!0,align:ve.align[H]});for(re+=this.renderer.tablerow(fe),we="",te=ve.rows.length,H=0;H<te;H++){for(xe=ve.rows[H],fe="",de=xe.length,Q=0;Q<de;Q++)fe+=this.renderer.tablecell(this.parseInline(xe[Q].tokens),{header:!1,align:ve.align[Q]});we+=this.renderer.tablerow(fe)}he+=this.renderer.table(re,we);continue}case"blockquote":{we=this.parse(ve.tokens),he+=this.renderer.blockquote(we);continue}case"list":{for(Ye=ve.ordered,nt=ve.start,Qe=ve.loose,te=ve.items.length,we="",H=0;H<te;H++)vt=ve.items[H],bt=vt.checked,xt=vt.task,qe="",vt.task&&(gt=this.renderer.checkbox(bt),Qe?vt.tokens.length>0&&vt.tokens[0].type==="paragraph"?(vt.tokens[0].text=gt+" "+vt.tokens[0].text,vt.tokens[0].tokens&&vt.tokens[0].tokens.length>0&&vt.tokens[0].tokens[0].type==="text"&&(vt.tokens[0].tokens[0].text=gt+" "+vt.tokens[0].tokens[0].text)):vt.tokens.unshift({type:"text",text:gt}):qe+=gt),qe+=this.parse(vt.tokens,Qe),we+=this.renderer.listitem(qe,xt,bt);he+=this.renderer.list(we,Ye,nt);continue}case"html":{he+=this.renderer.html(ve.text);continue}case"paragraph":{he+=this.renderer.paragraph(this.parseInline(ve.tokens));continue}case"text":{for(we=ve.tokens?this.parseInline(ve.tokens):ve.text;L+1<Ht&&Y[L+1].type==="text";)ve=Y[++L],we+=`
`+(ve.tokens?this.parseInline(ve.tokens):ve.text);he+=U?this.renderer.paragraph(we):we;continue}default:{var un='Token with "'+ve.type+'" type was not found.';if(this.options.silent){console.error(un);return}else throw new Error(un)}}}return he},De.parseInline=function(Y,U){U=U||this.renderer;var he="",L,H,Q,te=Y.length;for(L=0;L<te;L++){if(H=Y[L],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[H.type]&&(Q=this.options.extensions.renderers[H.type].call({parser:this},H),Q!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(H.type))){he+=Q||"";continue}switch(H.type){case"escape":{he+=U.text(H.text);break}case"html":{he+=U.html(H.text);break}case"link":{he+=U.link(H.href,H.title,this.parseInline(H.tokens,U));break}case"image":{he+=U.image(H.href,H.title,H.text);break}case"strong":{he+=U.strong(this.parseInline(H.tokens,U));break}case"em":{he+=U.em(this.parseInline(H.tokens,U));break}case"codespan":{he+=U.codespan(H.text);break}case"br":{he+=U.br();break}case"del":{he+=U.del(this.parseInline(H.tokens,U));break}case"text":{he+=U.text(H.text);break}default:{var de='Token with "'+H.type+'" type was not found.';if(this.options.silent){console.error(de);return}else throw new Error(de)}}}return he},Te}(),Lt=function(){function Te(me){this.options=me||d.defaults}var De=Te.prototype;return De.preprocess=function(Y){return Y},De.postprocess=function(Y){return Y},Te}();Lt.passThroughHooks=new Set(["preprocess","postprocess"]);function en(Te,De,me){return function(Y){if(Y.message+=`
Please report this to https://github.com/markedjs/marked.`,Te){var U="<p>An error occurred:</p><pre>"+oe(Y.message+"",!0)+"</pre>";if(De)return Promise.resolve(U);if(me){me(null,U);return}return U}if(De)return Promise.reject(Y);if(me){me(Y);return}throw Y}}function rn(Te,De){return function(me,Y,U){typeof Y=="function"&&(U=Y,Y=null);var he=h({},Y);Y=h({},lt.defaults,he);var L=en(Y.silent,Y.async,U);if(typeof me>"u"||me===null)return L(new Error("marked(): input parameter is undefined or null"));if(typeof me!="string")return L(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(me)+", string expected"));if(tt(Y),Y.hooks&&(Y.hooks.options=Y),U){var H=Y.highlight,Q;try{Y.hooks&&(me=Y.hooks.preprocess(me)),Q=Te(me,Y)}catch(re){return L(re)}var te=function(we){var ve;if(!we)try{Y.walkTokens&&lt.walkTokens(Q,Y.walkTokens),ve=De(Q,Y),Y.hooks&&(ve=Y.hooks.postprocess(ve))}catch(Ye){we=Ye}return Y.highlight=H,we?L(we):U(null,ve)};if(!H||H.length<3||(delete Y.highlight,!Q.length))return te();var de=0;lt.walkTokens(Q,function(re){re.type==="code"&&(de++,setTimeout(function(){H(re.text,re.lang,function(we,ve){if(we)return te(we);ve!=null&&ve!==re.text&&(re.text=ve,re.escaped=!0),de--,de===0&&te()})},0))}),de===0&&te();return}if(Y.async)return Promise.resolve(Y.hooks?Y.hooks.preprocess(me):me).then(function(re){return Te(re,Y)}).then(function(re){return Y.walkTokens?Promise.all(lt.walkTokens(re,Y.walkTokens)).then(function(){return re}):re}).then(function(re){return De(re,Y)}).then(function(re){return Y.hooks?Y.hooks.postprocess(re):re}).catch(L);try{Y.hooks&&(me=Y.hooks.preprocess(me));var xe=Te(me,Y);Y.walkTokens&&lt.walkTokens(xe,Y.walkTokens);var fe=De(xe,Y);return Y.hooks&&(fe=Y.hooks.postprocess(fe)),fe}catch(re){return L(re)}}}function lt(Te,De,me){return rn(Ut.lex,Mt.parse)(Te,De,me)}lt.options=lt.setOptions=function(Te){return lt.defaults=h({},lt.defaults,Te),A(lt.defaults),lt},lt.getDefaults=E,lt.defaults=d.defaults,lt.use=function(){for(var Te=lt.defaults.extensions||{renderers:{},childTokens:{}},De=arguments.length,me=new Array(De),Y=0;Y<De;Y++)me[Y]=arguments[Y];me.forEach(function(U){var he=h({},U);if(he.async=lt.defaults.async||he.async||!1,U.extensions&&(U.extensions.forEach(function(H){if(!H.name)throw new Error("extension name required");if(H.renderer){var Q=Te.renderers[H.name];Q?Te.renderers[H.name]=function(){for(var te=arguments.length,de=new Array(te),xe=0;xe<te;xe++)de[xe]=arguments[xe];var fe=H.renderer.apply(this,de);return fe===!1&&(fe=Q.apply(this,de)),fe}:Te.renderers[H.name]=H.renderer}if(H.tokenizer){if(!H.level||H.level!=="block"&&H.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Te[H.level]?Te[H.level].unshift(H.tokenizer):Te[H.level]=[H.tokenizer],H.start&&(H.level==="block"?Te.startBlock?Te.startBlock.push(H.start):Te.startBlock=[H.start]:H.level==="inline"&&(Te.startInline?Te.startInline.push(H.start):Te.startInline=[H.start]))}H.childTokens&&(Te.childTokens[H.name]=H.childTokens)}),he.extensions=Te),U.renderer&&function(){var H=lt.defaults.renderer||new Qt,Q=function(xe){var fe=H[xe];H[xe]=function(){for(var re=arguments.length,we=new Array(re),ve=0;ve<re;ve++)we[ve]=arguments[ve];var Ye=U.renderer[xe].apply(H,we);return Ye===!1&&(Ye=fe.apply(H,we)),Ye}};for(var te in U.renderer)Q(te);he.renderer=H}(),U.tokenizer&&function(){var H=lt.defaults.tokenizer||new ue,Q=function(xe){var fe=H[xe];H[xe]=function(){for(var re=arguments.length,we=new Array(re),ve=0;ve<re;ve++)we[ve]=arguments[ve];var Ye=U.tokenizer[xe].apply(H,we);return Ye===!1&&(Ye=fe.apply(H,we)),Ye}};for(var te in U.tokenizer)Q(te);he.tokenizer=H}(),U.hooks&&function(){var H=lt.defaults.hooks||new Lt,Q=function(xe){var fe=H[xe];Lt.passThroughHooks.has(xe)?H[xe]=function(re){if(lt.defaults.async)return Promise.resolve(U.hooks[xe].call(H,re)).then(function(ve){return fe.call(H,ve)});var we=U.hooks[xe].call(H,re);return fe.call(H,we)}:H[xe]=function(){for(var re=arguments.length,we=new Array(re),ve=0;ve<re;ve++)we[ve]=arguments[ve];var Ye=U.hooks[xe].apply(H,we);return Ye===!1&&(Ye=fe.apply(H,we)),Ye}};for(var te in U.hooks)Q(te);he.hooks=H}(),U.walkTokens){var L=lt.defaults.walkTokens;he.walkTokens=function(H){var Q=[];return Q.push(U.walkTokens.call(this,H)),L&&(Q=Q.concat(L.call(this,H))),Q}}lt.setOptions(he)})},lt.walkTokens=function(Te,De){for(var me=[],Y=function(){var H=he.value;switch(me=me.concat(De.call(lt,H)),H.type){case"table":{for(var Q=C(H.header),te;!(te=Q()).done;){var de=te.value;me=me.concat(lt.walkTokens(de.tokens,De))}for(var xe=C(H.rows),fe;!(fe=xe()).done;)for(var re=fe.value,we=C(re),ve;!(ve=we()).done;){var Ye=ve.value;me=me.concat(lt.walkTokens(Ye.tokens,De))}break}case"list":{me=me.concat(lt.walkTokens(H.items,De));break}default:lt.defaults.extensions&&lt.defaults.extensions.childTokens&&lt.defaults.extensions.childTokens[H.type]?lt.defaults.extensions.childTokens[H.type].forEach(function(nt){me=me.concat(lt.walkTokens(H[nt],De))}):H.tokens&&(me=me.concat(lt.walkTokens(H.tokens,De)))}},U=C(Te),he;!(he=U()).done;)Y();return me},lt.parseInline=rn(Ut.lexInline,Mt.parseInline),lt.Parser=Mt,lt.parser=Mt.parse,lt.Renderer=Qt,lt.TextRenderer=zt,lt.Lexer=Ut,lt.lexer=Ut.lex,lt.Tokenizer=ue,lt.Slugger=$t,lt.Hooks=Lt,lt.parse=lt;var Fn=lt.options,Ln=lt.setOptions,ln=lt.use,_i=lt.walkTokens,ot=lt.parseInline,sn=lt,ci=Mt.parse,_s=Ut.lex;d.Hooks=Lt,d.Lexer=Ut,d.Parser=Mt,d.Renderer=Qt,d.Slugger=$t,d.TextRenderer=zt,d.Tokenizer=ue,d.getDefaults=E,d.lexer=_s,d.marked=lt,d.options=Fn,d.parse=sn,d.parseInline=ot,d.parser=ci,d.setOptions=Ln,d.use=ln,d.walkTokens=_i}(jf)),jf}var Uf,a0;function tD(){if(a0)return Uf;a0=1;var d=Gi();HT(),VT(),WT(),Ev(),Mv(),UT(),$T(),qT(),YT(),GT(),Dv();var a=QT(),l=eD().marked,h=/Mac/.test(navigator.platform),p=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),v={toggleBold:le,toggleItalic:Z,drawLink:mt,toggleHeadingSmaller:pe,toggleHeadingBigger:Le,drawImage:Pt,toggleBlockquote:be,toggleOrderedList:Re,toggleUnorderedList:Ve,toggleCodeBlock:ke,togglePreview:zt,toggleStrikethrough:ae,toggleHeading1:Ke,toggleHeading2:Ee,toggleHeading3:Ae,toggleHeading4:je,toggleHeading5:ct,toggleHeading6:ce,cleanBlock:tt,drawTable:Oe,drawHorizontalRule:wt,undo:ht,redo:Ut,toggleSideBySide:Qt,toggleFullScreen:ee},C={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},k=function(L){for(var H in v)if(v[H]===L)return H;return null},T=function(){var L=!1;return function(H){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(H)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(H.substr(0,4)))&&(L=!0)}(navigator.userAgent||navigator.vendor||window.opera),L};function E(L){for(var H;(H=p.exec(L))!==null;){var Q=H[0];if(Q.indexOf("target=")===-1){var te=Q.replace(/>$/,' target="_blank">');L=L.replace(Q,te)}}return L}function A(L){for(var H=new DOMParser,Q=H.parseFromString(L,"text/html"),te=Q.getElementsByTagName("li"),de=0;de<te.length;de++)for(var xe=te[de],fe=0;fe<xe.children.length;fe++){var re=xe.children[fe];re instanceof HTMLInputElement&&re.type==="checkbox"&&(xe.style.marginLeft="-1.5em",xe.style.listStyleType="none")}return Q.documentElement.innerHTML}function O(L){return h?L=L.replace("Ctrl","Cmd"):L=L.replace("Cmd","Ctrl"),L}function R(L,H,Q,te){var de=j(L,!1,H,Q,"button",te);de.classList.add("easymde-dropdown"),de.onclick=function(){de.focus()};var xe=document.createElement("div");xe.className="easymde-dropdown-content";for(var fe=0;fe<L.children.length;fe++){var re=L.children[fe],we;typeof re=="string"&&re in sn?we=j(sn[re],!0,H,Q,"button",te):we=j(re,!0,H,Q,"button",te),we.addEventListener("click",function(ve){ve.stopPropagation()},!1),xe.appendChild(we)}return de.appendChild(xe),de}function j(L,H,Q,te,de,xe){L=L||{};var fe=document.createElement(de);if(L.attributes)for(var re in L.attributes)Object.prototype.hasOwnProperty.call(L.attributes,re)&&fe.setAttribute(re,L.attributes[re]);var we=xe.options.toolbarButtonClassPrefix?xe.options.toolbarButtonClassPrefix+"-":"";fe.className=we+L.name,fe.setAttribute("type",de),Q=Q??!0,L.text&&(fe.innerText=L.text),L.name&&L.name in te&&(v[L.name]=L.action),L.title&&Q&&(fe.title=ne(L.title,L.action,te),h&&(fe.title=fe.title.replace("Ctrl","⌘"),fe.title=fe.title.replace("Alt","⌥"))),L.title&&fe.setAttribute("aria-label",L.title),L.noDisable&&fe.classList.add("no-disable"),L.noMobile&&fe.classList.add("no-mobile");var ve=[];typeof L.className<"u"&&(ve=L.className.split(" "));for(var Ye=[],nt=0;nt<ve.length;nt++){var Qe=ve[nt];Qe.match(/^fa([srlb]|(-[\w-]*)|$)/)?Ye.push(Qe):fe.classList.add(Qe)}if(fe.tabIndex=-1,Ye.length>0){for(var qe=document.createElement("i"),vt=0;vt<Ye.length;vt++){var bt=Ye[vt];qe.classList.add(bt)}fe.appendChild(qe)}return typeof L.icon<"u"&&(fe.innerHTML=L.icon),L.action&&H&&(typeof L.action=="function"?fe.onclick=function(xt){xt.preventDefault(),L.action(xe)}:typeof L.action=="string"&&(fe.onclick=function(xt){xt.preventDefault(),window.open(L.action,"_blank")})),fe}function X(){var L=document.createElement("i");return L.className="separator",L.innerHTML="|",L}function ne(L,H,Q){var te,de=L;return H&&(te=k(H),Q[te]&&(de+=" ("+O(Q[te])+")")),de}function ie(L,H){H=H||L.getCursor("start");var Q=L.getTokenAt(H);if(!Q.type)return{};for(var te=Q.type.split(" "),de={},xe,fe,re=0;re<te.length;re++)xe=te[re],xe==="strong"?de.bold=!0:xe==="variable-2"?(fe=L.getLine(H.line),/^\s*\d+\.\s/.test(fe)?de["ordered-list"]=!0:de["unordered-list"]=!0):xe==="atom"?de.quote=!0:xe==="em"?de.italic=!0:xe==="quote"?de.quote=!0:xe==="strikethrough"?de.strikethrough=!0:xe==="comment"?de.code=!0:xe==="link"&&!de.image?de.link=!0:xe==="image"?de.image=!0:xe.match(/^header(-[1-6])?$/)&&(de[xe.replace("header","heading")]=!0);return de}var oe="";function ee(L){var H=L.codemirror;H.setOption("fullScreen",!H.getOption("fullScreen")),H.getOption("fullScreen")?(oe=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=oe;var Q=H.getWrapperElement(),te=Q.nextSibling;if(te.classList.contains("editor-preview-active-side"))if(L.options.sideBySideFullscreen===!1){var de=Q.parentNode;H.getOption("fullScreen")?de.classList.remove("sided--no-fullscreen"):de.classList.add("sided--no-fullscreen")}else Qt(L);if(L.options.onToggleFullScreen&&L.options.onToggleFullScreen(H.getOption("fullScreen")||!1),typeof L.options.maxHeight<"u"&&(H.getOption("fullScreen")?(H.getScrollerElement().style.removeProperty("height"),te.style.removeProperty("height")):(H.getScrollerElement().style.height=L.options.maxHeight,L.setPreviewMaxHeight())),L.toolbar_div.classList.toggle("fullscreen"),L.toolbarElements&&L.toolbarElements.fullscreen){var xe=L.toolbarElements.fullscreen;xe.classList.toggle("active")}}function le(L){rn(L,"bold",L.options.blockStyles.bold)}function Z(L){rn(L,"italic",L.options.blockStyles.italic)}function ae(L){rn(L,"strikethrough","~~")}function ke(L){var H=L.options.blockStyles.code;function Q(On){if(typeof On!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof On+": "+On;return On.styles&&On.styles[2]&&On.styles[2].indexOf("formatting-code-block")!==-1}function te(On){return On.state.base.base||On.state.base}function de(On,Ri,Ni,ki,di){Ni=Ni||On.getLineHandle(Ri),ki=ki||On.getTokenAt({line:Ri,ch:1}),di=di||!!Ni.text&&On.getTokenAt({line:Ri,ch:Ni.text.length-1});var Ts=ki.type?ki.type.split(" "):[];return di&&te(di).indentedCode?"indented":Ts.indexOf("comment")===-1?!1:te(ki).fencedChars||te(di).fencedChars||Q(Ni)?"fenced":"single"}function xe(On,Ri,Ni,ki){var di=Ri.line+1,Ts=Ni.line+1,Ao=Ri.line!==Ni.line,zi=ki+`
`,na=`
`+ki;Ao&&Ts++,Ao&&Ni.ch===0&&(na=ki+`
`,Ts--),$t(On,!1,[zi,na]),On.setSelection({line:di,ch:0},{line:Ts,ch:0})}var fe=L.codemirror,re=fe.getCursor("start"),we=fe.getCursor("end"),ve=fe.getTokenAt({line:re.line,ch:re.ch||1}),Ye=fe.getLineHandle(re.line),nt=de(fe,re.line,Ye,ve),Qe,qe,vt;if(nt==="single"){var bt=Ye.text.slice(0,re.ch).replace("`",""),xt=Ye.text.slice(re.ch).replace("`","");fe.replaceRange(bt+xt,{line:re.line,ch:0},{line:re.line,ch:99999999999999}),re.ch--,re!==we&&we.ch--,fe.setSelection(re,we),fe.focus()}else if(nt==="fenced")if(re.line!==we.line||re.ch!==we.ch){for(Qe=re.line;Qe>=0&&(Ye=fe.getLineHandle(Qe),!Q(Ye));Qe--);var gt=fe.getTokenAt({line:Qe,ch:1}),Nt=te(gt).fencedChars,Ht,un,Zn,kn;Q(fe.getLineHandle(re.line))?(Ht="",un=re.line):Q(fe.getLineHandle(re.line-1))?(Ht="",un=re.line-1):(Ht=Nt+`
`,un=re.line),Q(fe.getLineHandle(we.line))?(Zn="",kn=we.line,we.ch===0&&(kn+=1)):we.ch!==0&&Q(fe.getLineHandle(we.line+1))?(Zn="",kn=we.line+1):(Zn=Nt+`
`,kn=we.line+1),we.ch===0&&(kn-=1),fe.operation(function(){fe.replaceRange(Zn,{line:kn,ch:0},{line:kn+(Zn?0:1),ch:0}),fe.replaceRange(Ht,{line:un,ch:0},{line:un+(Ht?0:1),ch:0})}),fe.setSelection({line:un+(Ht?1:0),ch:0},{line:kn+(Ht?1:-1),ch:0}),fe.focus()}else{var ks=re.line;if(Q(fe.getLineHandle(re.line))&&(de(fe,re.line+1)==="fenced"?(Qe=re.line,ks=re.line+1):(qe=re.line,ks=re.line-1)),Qe===void 0)for(Qe=ks;Qe>=0&&(Ye=fe.getLineHandle(Qe),!Q(Ye));Qe--);if(qe===void 0)for(vt=fe.lineCount(),qe=ks;qe<vt&&(Ye=fe.getLineHandle(qe),!Q(Ye));qe++);fe.operation(function(){fe.replaceRange("",{line:Qe,ch:0},{line:Qe+1,ch:0}),fe.replaceRange("",{line:qe-1,ch:0},{line:qe,ch:0})}),fe.focus()}else if(nt==="indented"){if(re.line!==we.line||re.ch!==we.ch)Qe=re.line,qe=we.line,we.ch===0&&qe--;else{for(Qe=re.line;Qe>=0;Qe--)if(Ye=fe.getLineHandle(Qe),!Ye.text.match(/^\s*$/)&&de(fe,Qe,Ye)!=="indented"){Qe+=1;break}for(vt=fe.lineCount(),qe=re.line;qe<vt;qe++)if(Ye=fe.getLineHandle(qe),!Ye.text.match(/^\s*$/)&&de(fe,qe,Ye)!=="indented"){qe-=1;break}}var Ss=fe.getLineHandle(qe+1),To=Ss&&fe.getTokenAt({line:qe+1,ch:Ss.text.length-1}),Do=To&&te(To).indentedCode;Do&&fe.replaceRange(`
`,{line:qe+1,ch:0});for(var Eo=Qe;Eo<=qe;Eo++)fe.indentLine(Eo,"subtract");fe.focus()}else{var Mo=re.line===we.line&&re.ch===we.ch&&re.ch===0,gl=re.line!==we.line;Mo||gl?xe(fe,re,we,H):$t(fe,!1,["`","`"])}}function be(L){Lt(L.codemirror,"quote")}function pe(L){Mt(L.codemirror,"smaller")}function Le(L){Mt(L.codemirror,"bigger")}function Ke(L){Mt(L.codemirror,void 0,1)}function Ee(L){Mt(L.codemirror,void 0,2)}function Ae(L){Mt(L.codemirror,void 0,3)}function je(L){Mt(L.codemirror,void 0,4)}function ct(L){Mt(L.codemirror,void 0,5)}function ce(L){Mt(L.codemirror,void 0,6)}function Ve(L){var H=L.codemirror,Q="*";["-","+","*"].includes(L.options.unorderedListStyle)&&(Q=L.options.unorderedListStyle),Lt(H,"unordered-list",Q)}function Re(L){Lt(L.codemirror,"ordered-list")}function tt(L){lt(L.codemirror)}function mt(L){var H=L.options,Q="https://";if(H.promptURLs){var te=prompt(H.promptTexts.link,Q);if(!te)return!1;Q=Kn(te)}en(L,"link",H.insertTexts.link,Q)}function Pt(L){var H=L.options,Q="https://";if(H.promptURLs){var te=prompt(H.promptTexts.image,Q);if(!te)return!1;Q=Kn(te)}en(L,"image",H.insertTexts.image,Q)}function Kn(L){return encodeURI(L).replace(/([\\()])/g,"\\$1")}function ue(L){L.openBrowseFileWindow()}function $(L,H){var Q=L.codemirror,te=ie(Q),de=L.options,xe=H.substr(H.lastIndexOf("/")+1),fe=xe.substring(xe.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(fe))$t(Q,te.image,de.insertTexts.uploadedImage,H);else{var re=de.insertTexts.link;re[0]="["+xe,$t(Q,te.link,re,H)}L.updateStatusBar("upload-image",L.options.imageTexts.sbOnUploaded.replace("#image_name#",xe)),setTimeout(function(){L.updateStatusBar("upload-image",L.options.imageTexts.sbInit)},1e3)}function Oe(L){var H=L.codemirror,Q=ie(H),te=L.options;$t(H,Q.table,te.insertTexts.table)}function wt(L){var H=L.codemirror,Q=ie(H),te=L.options;$t(H,Q.image,te.insertTexts.horizontalRule)}function ht(L){var H=L.codemirror;H.undo(),H.focus()}function Ut(L){var H=L.codemirror;H.redo(),H.focus()}function Qt(L){var H=L.codemirror,Q=H.getWrapperElement(),te=Q.nextSibling,de=L.toolbarElements&&L.toolbarElements["side-by-side"],xe=!1,fe=Q.parentNode;te.classList.contains("editor-preview-active-side")?(L.options.sideBySideFullscreen===!1&&fe.classList.remove("sided--no-fullscreen"),te.classList.remove("editor-preview-active-side"),de&&de.classList.remove("active"),Q.classList.remove("CodeMirror-sided")):(setTimeout(function(){H.getOption("fullScreen")||(L.options.sideBySideFullscreen===!1?fe.classList.add("sided--no-fullscreen"):ee(L)),te.classList.add("editor-preview-active-side")},1),de&&de.classList.add("active"),Q.classList.add("CodeMirror-sided"),xe=!0);var re=Q.lastChild;if(re.classList.contains("editor-preview-active")){re.classList.remove("editor-preview-active");var we=L.toolbarElements.preview,ve=L.toolbar_div;we.classList.remove("active"),ve.classList.remove("disabled-for-preview")}var Ye=function(){var Qe=L.options.previewRender(L.value(),te);Qe!=null&&(te.innerHTML=Qe)};if(H.sideBySideRenderingFunction||(H.sideBySideRenderingFunction=Ye),xe){var nt=L.options.previewRender(L.value(),te);nt!=null&&(te.innerHTML=nt),H.on("update",H.sideBySideRenderingFunction)}else H.off("update",H.sideBySideRenderingFunction);H.refresh()}function zt(L){var H=L.codemirror,Q=H.getWrapperElement(),te=L.toolbar_div,de=L.options.toolbar?L.toolbarElements.preview:!1,xe=Q.lastChild,fe=H.getWrapperElement().nextSibling;if(fe.classList.contains("editor-preview-active-side")&&Qt(L),!xe||!xe.classList.contains("editor-preview-full")){if(xe=document.createElement("div"),xe.className="editor-preview-full",L.options.previewClass)if(Array.isArray(L.options.previewClass))for(var re=0;re<L.options.previewClass.length;re++)xe.classList.add(L.options.previewClass[re]);else typeof L.options.previewClass=="string"&&xe.classList.add(L.options.previewClass);Q.appendChild(xe)}xe.classList.contains("editor-preview-active")?(xe.classList.remove("editor-preview-active"),de&&(de.classList.remove("active"),te.classList.remove("disabled-for-preview"))):(setTimeout(function(){xe.classList.add("editor-preview-active")},1),de&&(de.classList.add("active"),te.classList.add("disabled-for-preview")));var we=L.options.previewRender(L.value(),xe);we!==null&&(xe.innerHTML=we)}function $t(L,H,Q,te){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var de,xe=Q[0],fe=Q[1],re={},we={};Object.assign(re,L.getCursor("start")),Object.assign(we,L.getCursor("end")),te&&(xe=xe.replace("#url#",te),fe=fe.replace("#url#",te)),H?(de=L.getLine(re.line),xe=de.slice(0,re.ch),fe=de.slice(re.ch),L.replaceRange(xe+fe,{line:re.line,ch:0})):(de=L.getSelection(),L.replaceSelection(xe+de+fe),re.ch+=xe.length,re!==we&&(we.ch+=xe.length)),L.setSelection(re,we),L.focus()}}function Mt(L,H,Q){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var te=L.getCursor("start"),de=L.getCursor("end"),xe=te.line;xe<=de.line;xe++)(function(fe){var re=L.getLine(fe),we=re.search(/[^#]/);H!==void 0?we<=0?H=="bigger"?re="###### "+re:re="# "+re:we==6&&H=="smaller"?re=re.substr(7):we==1&&H=="bigger"?re=re.substr(2):H=="bigger"?re=re.substr(1):re="#"+re:we<=0?re="#".repeat(Q)+" "+re:we==Q?re=re.substr(we+1):re="#".repeat(Q)+" "+re.substr(we+1),L.replaceRange(re,{line:fe,ch:0},{line:fe,ch:99999999999999})})(xe);L.focus()}}function Lt(L,H,Q){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var te=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,de=/^\s*/,xe=ie(L),fe=L.getCursor("start"),re=L.getCursor("end"),we={quote:/^(\s*)>\s+/,"unordered-list":te,"ordered-list":te},ve=function(vt,bt){var xt={quote:">","unordered-list":Q,"ordered-list":"%%i."};return xt[vt].replace("%%i",bt)},Ye=function(vt,bt){var xt={quote:">","unordered-list":"\\"+Q,"ordered-list":"\\d+."},gt=new RegExp(xt[vt]);return bt&&gt.test(bt)},nt=function(vt,bt,xt){var gt=te.exec(bt),Nt=ve(vt,Qe);return gt!==null?(Ye(vt,gt[2])&&(Nt=""),bt=gt[1]+Nt+gt[3]+bt.replace(de,"").replace(we[vt],"$1")):xt==!1&&(bt=Nt+" "+bt),bt},Qe=1,qe=fe.line;qe<=re.line;qe++)(function(vt){var bt=L.getLine(vt);xe[H]?bt=bt.replace(we[H],"$1"):(H=="unordered-list"&&(bt=nt("ordered-list",bt,!0)),bt=nt(H,bt,!1),Qe+=1),L.replaceRange(bt,{line:vt,ch:0},{line:vt,ch:99999999999999})})(qe);L.focus()}}function en(L,H,Q,te){if(!(!L.codemirror||L.isPreviewActive())){var de=L.codemirror,xe=ie(de),fe=xe[H];if(!fe){$t(de,fe,Q,te);return}var re=de.getCursor("start"),we=de.getCursor("end"),ve=de.getLine(re.line),Ye=ve.slice(0,re.ch),nt=ve.slice(re.ch);H=="link"?Ye=Ye.replace(/(.*)[^!]\[/,"$1"):H=="image"&&(Ye=Ye.replace(/(.*)!\[$/,"$1")),nt=nt.replace(/]\(.*?\)/,""),de.replaceRange(Ye+nt,{line:re.line,ch:0},{line:re.line,ch:99999999999999}),re.ch-=Q[0].length,re!==we&&(we.ch-=Q[0].length),de.setSelection(re,we),de.focus()}}function rn(L,H,Q,te){if(!(!L.codemirror||L.isPreviewActive())){te=typeof te>"u"?Q:te;var de=L.codemirror,xe=ie(de),fe,re=Q,we=te,ve=de.getCursor("start"),Ye=de.getCursor("end");xe[H]?(fe=de.getLine(ve.line),re=fe.slice(0,ve.ch),we=fe.slice(ve.ch),H=="bold"?(re=re.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),we=we.replace(/(\*\*|__)/,"")):H=="italic"?(re=re.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),we=we.replace(/(\*|_)/,"")):H=="strikethrough"&&(re=re.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),we=we.replace(/(\*\*|~~)/,"")),de.replaceRange(re+we,{line:ve.line,ch:0},{line:ve.line,ch:99999999999999}),H=="bold"||H=="strikethrough"?(ve.ch-=2,ve!==Ye&&(Ye.ch-=2)):H=="italic"&&(ve.ch-=1,ve!==Ye&&(Ye.ch-=1))):(fe=de.getSelection(),H=="bold"?(fe=fe.split("**").join(""),fe=fe.split("__").join("")):H=="italic"?(fe=fe.split("*").join(""),fe=fe.split("_").join("")):H=="strikethrough"&&(fe=fe.split("~~").join("")),de.replaceSelection(re+fe+we),ve.ch+=Q.length,Ye.ch=ve.ch+fe.length),de.setSelection(ve,Ye),de.focus()}}function lt(L){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var H=L.getCursor("start"),Q=L.getCursor("end"),te,de=H.line;de<=Q.line;de++)te=L.getLine(de),te=te.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),L.replaceRange(te,{line:de,ch:0},{line:de,ch:99999999999999})}function Fn(L,H){if(Math.abs(L)<1024)return""+L+H[0];var Q=0;do L/=1024,++Q;while(Math.abs(L)>=1024&&Q<H.length);return""+L.toFixed(1)+H[Q]}function Ln(L,H){for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(H[Q]instanceof Array?L[Q]=H[Q].concat(L[Q]instanceof Array?L[Q]:[]):H[Q]!==null&&typeof H[Q]=="object"&&H[Q].constructor===Object?L[Q]=Ln(L[Q]||{},H[Q]):L[Q]=H[Q]);return L}function ln(L){for(var H=1;H<arguments.length;H++)L=Ln(L,arguments[H]);return L}function _i(L){var H=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,Q=L.match(H),te=0;if(Q===null)return te;for(var de=0;de<Q.length;de++)Q[de].charCodeAt(0)>=19968?te+=Q[de].length:te+=1;return te}var ot={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},sn={bold:{name:"bold",action:le,className:ot.bold,title:"Bold",default:!0},italic:{name:"italic",action:Z,className:ot.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:ae,className:ot.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:pe,className:ot.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:pe,className:ot["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Le,className:ot["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Ke,className:ot["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Ee,className:ot["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:Ae,className:ot["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:ke,className:ot.code,title:"Code"},quote:{name:"quote",action:be,className:ot.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:Ve,className:ot["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Re,className:ot["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:tt,className:ot["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:mt,className:ot.link,title:"Create Link",default:!0},image:{name:"image",action:Pt,className:ot.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:ue,className:ot["upload-image"],title:"Import an image"},table:{name:"table",action:Oe,className:ot.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:wt,className:ot["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:zt,className:ot.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:Qt,className:ot["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:ee,className:ot.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:ot.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:ht,className:ot.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:Ut,className:ot.redo,noDisable:!0,title:"Redo"}},ci={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},_s={link:"URL for the link:",image:"URL of the image:"},Te={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},De={bold:"**",code:"```",italic:"*"},me={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},Y={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function U(L){L=L||{},L.parent=this;var H=!0;if(L.autoDownloadFontAwesome===!1&&(H=!1),L.autoDownloadFontAwesome!==!0)for(var Q=document.styleSheets,te=0;te<Q.length;te++)Q[te].href&&Q[te].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(H=!1);if(H){var de=document.createElement("link");de.rel="stylesheet",de.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(de)}if(L.element)this.element=L.element;else if(L.element===null){console.log("EasyMDE: Error. No element was found.");return}if(L.toolbar===void 0){L.toolbar=[];for(var xe in sn)Object.prototype.hasOwnProperty.call(sn,xe)&&(xe.indexOf("separator-")!=-1&&L.toolbar.push("|"),(sn[xe].default===!0||L.showIcons&&L.showIcons.constructor===Array&&L.showIcons.indexOf(xe)!=-1)&&L.toolbar.push(xe))}if(Object.prototype.hasOwnProperty.call(L,"previewClass")||(L.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(L,"status")||(L.status=["autosave","lines","words","cursor"],L.uploadImage&&L.status.unshift("upload-image")),L.previewRender||(L.previewRender=function(re){return this.parent.markdown(re)}),L.parsingConfig=ln({highlightFormatting:!0},L.parsingConfig||{}),L.insertTexts=ln({},ci,L.insertTexts||{}),L.promptTexts=ln({},_s,L.promptTexts||{}),L.blockStyles=ln({},De,L.blockStyles||{}),L.autosave!=null&&(L.autosave.timeFormat=ln({},Te,L.autosave.timeFormat||{})),L.iconClassMap=ln({},ot,L.iconClassMap||{}),L.shortcuts=ln({},C,L.shortcuts||{}),L.maxHeight=L.maxHeight||void 0,L.direction=L.direction||"ltr",typeof L.maxHeight<"u"?L.minHeight=L.maxHeight:L.minHeight=L.minHeight||"300px",L.errorCallback=L.errorCallback||function(re){alert(re)},L.uploadImage=L.uploadImage||!1,L.imageMaxSize=L.imageMaxSize||2097152,L.imageAccept=L.imageAccept||"image/png, image/jpeg, image/gif, image/avif",L.imageTexts=ln({},me,L.imageTexts||{}),L.errorMessages=ln({},Y,L.errorMessages||{}),L.imagePathAbsolute=L.imagePathAbsolute||!1,L.imageCSRFName=L.imageCSRFName||"csrfmiddlewaretoken",L.imageCSRFHeader=L.imageCSRFHeader||!1,L.imageInputName=L.imageInputName||"image",L.autosave!=null&&L.autosave.unique_id!=null&&L.autosave.unique_id!=""&&(L.autosave.uniqueId=L.autosave.unique_id),L.overlayMode&&L.overlayMode.combine===void 0&&(L.overlayMode.combine=!0),this.options=L,this.render(),L.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(L.initialValue),L.uploadImage){var fe=this;this.codemirror.on("dragenter",function(re,we){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbOnDragEnter),we.stopPropagation(),we.preventDefault()}),this.codemirror.on("dragend",function(re,we){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbInit),we.stopPropagation(),we.preventDefault()}),this.codemirror.on("dragleave",function(re,we){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbInit),we.stopPropagation(),we.preventDefault()}),this.codemirror.on("dragover",function(re,we){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbOnDragEnter),we.stopPropagation(),we.preventDefault()}),this.codemirror.on("drop",function(re,we){we.stopPropagation(),we.preventDefault(),L.imageUploadFunction?fe.uploadImagesUsingCustomFunction(L.imageUploadFunction,we.dataTransfer.files):fe.uploadImages(we.dataTransfer.files)}),this.codemirror.on("paste",function(re,we){L.imageUploadFunction?fe.uploadImagesUsingCustomFunction(L.imageUploadFunction,we.clipboardData.files):fe.uploadImages(we.clipboardData.files)})}}U.prototype.uploadImages=function(L,H,Q){if(L.length!==0){for(var te=[],de=0;de<L.length;de++)te.push(L[de].name),this.uploadImage(L[de],H,Q);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",te.join(", ")))}},U.prototype.uploadImagesUsingCustomFunction=function(L,H){if(H.length!==0){for(var Q=[],te=0;te<H.length;te++)Q.push(H[te].name),this.uploadImageUsingCustomFunction(L,H[te]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",Q.join(", ")))}},U.prototype.updateStatusBar=function(L,H){if(this.gui.statusbar){var Q=this.gui.statusbar.getElementsByClassName(L);Q.length===1?this.gui.statusbar.getElementsByClassName(L)[0].textContent=H:Q.length===0?console.log("EasyMDE: status bar item "+L+" was not found."):console.log("EasyMDE: Several status bar items named "+L+" was found.")}},U.prototype.markdown=function(L){if(l){var H;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?H=this.options.renderingConfig.markedOptions:H={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?H.breaks=!1:H.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var Q=this.options.renderingConfig.hljs||window.hljs;Q&&(H.highlight=function(de,xe){return xe&&Q.getLanguage(xe)?Q.highlight(xe,de).value:Q.highlightAuto(de).value})}l.use(H);var te=l.parse(L);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(te=this.options.renderingConfig.sanitizerFunction.call(this,te)),te=E(te),te=A(te),te}},U.prototype.render=function(L){if(L||(L=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===L)return;this.element=L;var H=this.options,Q=this,te={};for(var de in H.shortcuts)H.shortcuts[de]!==null&&v[de]!==null&&function(xt){te[O(H.shortcuts[xt])]=function(){var gt=v[xt];typeof gt=="function"?gt(Q):typeof gt=="string"&&window.open(gt,"_blank")}}(de);te.Enter="newlineAndIndentContinueMarkdownList",te.Tab="tabAndIndentMarkdownList",te["Shift-Tab"]="shiftTabAndUnindentMarkdownList",te.Esc=function(xt){xt.getOption("fullScreen")&&ee(Q)},this.documentOnKeyDown=function(xt){xt=xt||window.event,xt.keyCode==27&&Q.codemirror.getOption("fullScreen")&&ee(Q)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var xe,fe;H.overlayMode?(d.defineMode("overlay-mode",function(xt){return d.overlayMode(d.getMode(xt,H.spellChecker!==!1?"spell-checker":"gfm"),H.overlayMode.mode,H.overlayMode.combine)}),xe="overlay-mode",fe=H.parsingConfig,fe.gitHubSpice=!1):(xe=H.parsingConfig,xe.name="gfm",xe.gitHubSpice=!1),H.spellChecker!==!1&&(xe="spell-checker",fe=H.parsingConfig,fe.name="gfm",fe.gitHubSpice=!1,typeof H.spellChecker=="function"?H.spellChecker({codeMirrorInstance:d}):a({codeMirrorInstance:d}));function re(xt,gt,Nt){return{addNew:!1}}if(this.codemirror=d.fromTextArea(L,{mode:xe,backdrop:fe,theme:H.theme!=null?H.theme:"easymde",tabSize:H.tabSize!=null?H.tabSize:2,indentUnit:H.tabSize!=null?H.tabSize:2,indentWithTabs:H.indentWithTabs!==!1,lineNumbers:H.lineNumbers===!0,autofocus:H.autofocus===!0,extraKeys:te,direction:H.direction,lineWrapping:H.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:H.placeholder||L.getAttribute("placeholder")||"",styleSelectedText:H.styleSelectedText!=null?H.styleSelectedText:!T(),scrollbarStyle:H.scrollbarStyle!=null?H.scrollbarStyle:"native",configureMouse:re,inputStyle:H.inputStyle!=null?H.inputStyle:T()?"contenteditable":"textarea",spellcheck:H.nativeSpellcheck!=null?H.nativeSpellcheck:!0,autoRefresh:H.autoRefresh!=null?H.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=H.minHeight,typeof H.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=H.maxHeight),H.forceSync===!0){var we=this.codemirror;we.on("change",function(){we.save()})}this.gui={};var ve=document.createElement("div");ve.classList.add("EasyMDEContainer"),ve.setAttribute("role","application");var Ye=this.codemirror.getWrapperElement();Ye.parentNode.insertBefore(ve,Ye),ve.appendChild(Ye),H.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),H.status!==!1&&(this.gui.statusbar=this.createStatusbar()),H.autosave!=null&&H.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(Q._autosave_timeout),Q._autosave_timeout=setTimeout(function(){Q.autosave()},Q.options.autosave.submit_delay||Q.options.autosave.delay||1e3)}));function nt(xt,gt){var Nt,Ht=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return xt<Ht?Nt=gt+"px":Nt=gt/xt*100+"%",Nt}var Qe=this;function qe(xt,gt){var Nt=new URL(gt.url,document.baseURI).href;xt.setAttribute("data-img-src",Nt),xt.setAttribute("style","--bg-image:url("+Nt+");--width:"+gt.naturalWidth+"px;--height:"+nt(gt.naturalWidth,gt.naturalHeight)),Qe.codemirror.setSize()}function vt(){H.previewImagesInEditor&&ve.querySelectorAll(".cm-image-marker").forEach(function(xt){var gt=xt.parentElement;if(gt.innerText.match(/^!\[.*?\]\(.*\)/g)&&!gt.hasAttribute("data-img-src")){var Nt=gt.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),Nt&&Nt.length>=2){var Ht=Nt[1];if(H.imagesPreviewHandler){var un=H.imagesPreviewHandler(Nt[1]);typeof un=="string"&&(Ht=un)}if(window.EMDEimagesCache[Ht])qe(gt,window.EMDEimagesCache[Ht]);else{window.EMDEimagesCache[Ht]={};var Zn=document.createElement("img");Zn.onload=function(){window.EMDEimagesCache[Ht]={naturalWidth:Zn.naturalWidth,naturalHeight:Zn.naturalHeight,url:Ht},qe(gt,window.EMDEimagesCache[Ht])},Zn.src=Ht}}}})}this.codemirror.on("update",function(){vt()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(H.autofocus===!0||L.autofocus)&&this.codemirror.focus();var bt=this.codemirror;setTimeout((function(){bt.refresh()}).bind(bt),0)},U.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function he(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return U.prototype.autosave=function(){if(he()){var L=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(L.element.form!=null&&L.element.form!=null&&L.element.form.addEventListener("submit",function(){clearTimeout(L.autosaveTimeoutId),L.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+L.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var H=L.value();H!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,H):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var Q=document.getElementById("autosaved");if(Q!=null&&Q!=null&&Q!=""){var te=new Date,de=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(te),xe=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;Q.innerHTML=xe+de}}else console.log("EasyMDE: localStorage not available, cannot autosave")},U.prototype.clearAutosavedValue=function(){if(he()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},U.prototype.openBrowseFileWindow=function(L,H){var Q=this,te=this.gui.toolbar.getElementsByClassName("imageInput")[0];te.click();function de(xe){Q.options.imageUploadFunction?Q.uploadImagesUsingCustomFunction(Q.options.imageUploadFunction,xe.target.files):Q.uploadImages(xe.target.files,L,H),te.removeEventListener("change",de)}te.addEventListener("change",de)},U.prototype.uploadImage=function(L,H,Q){var te=this;H=H||function(ve){$(te,ve)};function de(we){te.updateStatusBar("upload-image",we),setTimeout(function(){te.updateStatusBar("upload-image",te.options.imageTexts.sbInit)},1e4),Q&&typeof Q=="function"&&Q(we),te.options.errorCallback(we)}function xe(we){var ve=te.options.imageTexts.sizeUnits.split(",");return we.replace("#image_name#",L.name).replace("#image_size#",Fn(L.size,ve)).replace("#image_max_size#",Fn(te.options.imageMaxSize,ve))}if(L.size>this.options.imageMaxSize){de(xe(this.options.errorMessages.fileTooLarge));return}var fe=new FormData;fe.append("image",L),te.options.imageCSRFToken&&!te.options.imageCSRFHeader&&fe.append(te.options.imageCSRFName,te.options.imageCSRFToken);var re=new XMLHttpRequest;re.upload.onprogress=function(we){if(we.lengthComputable){var ve=""+Math.round(we.loaded*100/we.total);te.updateStatusBar("upload-image",te.options.imageTexts.sbProgress.replace("#file_name#",L.name).replace("#progress#",ve))}},re.open("POST",this.options.imageUploadEndpoint),te.options.imageCSRFToken&&te.options.imageCSRFHeader&&re.setRequestHeader(te.options.imageCSRFName,te.options.imageCSRFToken),re.onload=function(){try{var we=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),de(xe(te.options.errorMessages.importError));return}this.status===200&&we&&!we.error&&we.data&&we.data.filePath?H((te.options.imagePathAbsolute?"":window.location.origin+"/")+we.data.filePath):we.error&&we.error in te.options.errorMessages?de(xe(te.options.errorMessages[we.error])):we.error?de(xe(we.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),de(xe(te.options.errorMessages.importError)))},re.onerror=function(we){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+we.target.status+" ("+we.target.statusText+")"),de(te.options.errorMessages.importError)},re.send(fe)},U.prototype.uploadImageUsingCustomFunction=function(L,H){var Q=this;function te(fe){$(Q,fe)}function de(fe){var re=xe(fe);Q.updateStatusBar("upload-image",re),setTimeout(function(){Q.updateStatusBar("upload-image",Q.options.imageTexts.sbInit)},1e4),Q.options.errorCallback(re)}function xe(fe){var re=Q.options.imageTexts.sizeUnits.split(",");return fe.replace("#image_name#",H.name).replace("#image_size#",Fn(H.size,re)).replace("#image_max_size#",Fn(Q.options.imageMaxSize,re))}L.apply(this,[H,te,de])},U.prototype.setPreviewMaxHeight=function(){var L=this.codemirror,H=L.getWrapperElement(),Q=H.nextSibling,te=parseInt(window.getComputedStyle(H).paddingTop),de=parseInt(window.getComputedStyle(H).borderTopWidth),xe=parseInt(this.options.maxHeight),fe=xe+te*2+de*2,re=fe.toString()+"px";Q.style.height=re},U.prototype.createSideBySide=function(){var L=this.codemirror,H=L.getWrapperElement(),Q=H.nextSibling;if(!Q||!Q.classList.contains("editor-preview-side")){if(Q=document.createElement("div"),Q.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var te=0;te<this.options.previewClass.length;te++)Q.classList.add(this.options.previewClass[te]);else typeof this.options.previewClass=="string"&&Q.classList.add(this.options.previewClass);H.parentNode.insertBefore(Q,H.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return Q;var de=!1,xe=!1;return L.on("scroll",function(fe){if(de){de=!1;return}xe=!0;var re=fe.getScrollInfo().height-fe.getScrollInfo().clientHeight,we=parseFloat(fe.getScrollInfo().top)/re,ve=(Q.scrollHeight-Q.clientHeight)*we;Q.scrollTop=ve}),Q.onscroll=function(){if(xe){xe=!1;return}de=!0;var fe=Q.scrollHeight-Q.clientHeight,re=parseFloat(Q.scrollTop)/fe,we=(L.getScrollInfo().height-L.getScrollInfo().clientHeight)*re;L.scrollTo(0,we)},Q},U.prototype.createToolbar=function(L){if(L=L||this.options.toolbar,!(!L||L.length===0)){var H;for(H=0;H<L.length;H++)sn[L[H]]!=null&&(L[H]=sn[L[H]]);var Q=document.createElement("div");Q.className="editor-toolbar",Q.setAttribute("role","toolbar");var te=this,de={};for(te.toolbar=L,H=0;H<L.length;H++)if(!(L[H].name=="guide"&&te.options.toolbarGuideIcon===!1)&&!(te.options.hideIcons&&te.options.hideIcons.indexOf(L[H].name)!=-1)&&!((L[H].name=="fullscreen"||L[H].name=="side-by-side")&&T())){if(L[H]==="|"){for(var xe=!1,fe=H+1;fe<L.length;fe++)L[fe]!=="|"&&(!te.options.hideIcons||te.options.hideIcons.indexOf(L[fe].name)==-1)&&(xe=!0);if(!xe)continue}(function(ve){var Ye;if(ve==="|"?Ye=X():ve.children?Ye=R(ve,te.options.toolbarTips,te.options.shortcuts,te):Ye=j(ve,!0,te.options.toolbarTips,te.options.shortcuts,"button",te),de[ve.name||ve]=Ye,Q.appendChild(Ye),ve.name==="upload-image"){var nt=document.createElement("input");nt.className="imageInput",nt.type="file",nt.multiple=!0,nt.name=te.options.imageInputName,nt.accept=te.options.imageAccept,nt.style.display="none",nt.style.opacity=0,Q.appendChild(nt)}})(L[H])}te.toolbar_div=Q,te.toolbarElements=de;var re=this.codemirror;re.on("cursorActivity",function(){var ve=ie(re);for(var Ye in de)(function(nt){var Qe=de[nt];ve[nt]?Qe.classList.add("active"):nt!="fullscreen"&&nt!="side-by-side"&&Qe.classList.remove("active")})(Ye)});var we=re.getWrapperElement();return we.parentNode.insertBefore(Q,we),Q}},U.prototype.createStatusbar=function(L){L=L||this.options.status;var H=this.options,Q=this.codemirror;if(!(!L||L.length===0)){var te=[],de,xe,fe,re;for(de=0;de<L.length;de++)if(xe=void 0,fe=void 0,re=void 0,typeof L[de]=="object")te.push({className:L[de].className,defaultValue:L[de].defaultValue,onUpdate:L[de].onUpdate,onActivity:L[de].onActivity});else{var we=L[de];we==="words"?(re=function(qe){qe.innerHTML=_i(Q.getValue())},xe=function(qe){qe.innerHTML=_i(Q.getValue())}):we==="lines"?(re=function(qe){qe.innerHTML=Q.lineCount()},xe=function(qe){qe.innerHTML=Q.lineCount()}):we==="cursor"?(re=function(qe){qe.innerHTML="1:1"},fe=function(qe){var vt=Q.getCursor(),bt=vt.line+1,xt=vt.ch+1;qe.innerHTML=bt+":"+xt}):we==="autosave"?re=function(qe){H.autosave!=null&&H.autosave.enabled===!0&&qe.setAttribute("id","autosaved")}:we==="upload-image"&&(re=function(qe){qe.innerHTML=H.imageTexts.sbInit}),te.push({className:we,defaultValue:re,onUpdate:xe,onActivity:fe})}var ve=document.createElement("div");for(ve.className="editor-statusbar",de=0;de<te.length;de++){var Ye=te[de],nt=document.createElement("span");nt.className=Ye.className,typeof Ye.defaultValue=="function"&&Ye.defaultValue(nt),typeof Ye.onUpdate=="function"&&this.codemirror.on("update",function(qe,vt){return function(){vt.onUpdate(qe)}}(nt,Ye)),typeof Ye.onActivity=="function"&&this.codemirror.on("cursorActivity",function(qe,vt){return function(){vt.onActivity(qe)}}(nt,Ye)),ve.appendChild(nt)}var Qe=this.codemirror.getWrapperElement();return Qe.parentNode.insertBefore(ve,Qe.nextSibling),ve}},U.prototype.value=function(L){var H=this.codemirror;if(L===void 0)return H.getValue();if(H.getDoc().setValue(L),this.isPreviewActive()){var Q=H.getWrapperElement(),te=Q.lastChild,de=this.options.previewRender(L,te);de!==null&&(te.innerHTML=de)}return this},U.toggleBold=le,U.toggleItalic=Z,U.toggleStrikethrough=ae,U.toggleBlockquote=be,U.toggleHeadingSmaller=pe,U.toggleHeadingBigger=Le,U.toggleHeading1=Ke,U.toggleHeading2=Ee,U.toggleHeading3=Ae,U.toggleHeading4=je,U.toggleHeading5=ct,U.toggleHeading6=ce,U.toggleCodeBlock=ke,U.toggleUnorderedList=Ve,U.toggleOrderedList=Re,U.cleanBlock=tt,U.drawLink=mt,U.drawImage=Pt,U.drawUploadedImage=ue,U.drawTable=Oe,U.drawHorizontalRule=wt,U.undo=ht,U.redo=Ut,U.togglePreview=zt,U.toggleSideBySide=Qt,U.toggleFullScreen=ee,U.prototype.toggleBold=function(){le(this)},U.prototype.toggleItalic=function(){Z(this)},U.prototype.toggleStrikethrough=function(){ae(this)},U.prototype.toggleBlockquote=function(){be(this)},U.prototype.toggleHeadingSmaller=function(){pe(this)},U.prototype.toggleHeadingBigger=function(){Le(this)},U.prototype.toggleHeading1=function(){Ke(this)},U.prototype.toggleHeading2=function(){Ee(this)},U.prototype.toggleHeading3=function(){Ae(this)},U.prototype.toggleHeading4=function(){je(this)},U.prototype.toggleHeading5=function(){ct(this)},U.prototype.toggleHeading6=function(){ce(this)},U.prototype.toggleCodeBlock=function(){ke(this)},U.prototype.toggleUnorderedList=function(){Ve(this)},U.prototype.toggleOrderedList=function(){Re(this)},U.prototype.cleanBlock=function(){tt(this)},U.prototype.drawLink=function(){mt(this)},U.prototype.drawImage=function(){Pt(this)},U.prototype.drawUploadedImage=function(){ue(this)},U.prototype.drawTable=function(){Oe(this)},U.prototype.drawHorizontalRule=function(){wt(this)},U.prototype.undo=function(){ht(this)},U.prototype.redo=function(){Ut(this)},U.prototype.togglePreview=function(){zt(this)},U.prototype.toggleSideBySide=function(){Qt(this)},U.prototype.toggleFullScreen=function(){ee(this)},U.prototype.isPreviewActive=function(){var L=this.codemirror,H=L.getWrapperElement(),Q=H.lastChild;return Q.classList.contains("editor-preview-active")},U.prototype.isSideBySideActive=function(){var L=this.codemirror,H=L.getWrapperElement(),Q=H.nextSibling;return Q.classList.contains("editor-preview-active-side")},U.prototype.isFullscreenActive=function(){var L=this.codemirror;return L.getOption("fullScreen")},U.prototype.getState=function(){var L=this.codemirror;return ie(L)},U.prototype.toTextArea=function(){var L=this.codemirror,H=L.getWrapperElement(),Q=H.parentNode;Q&&(this.gui.toolbar&&Q.removeChild(this.gui.toolbar),this.gui.statusbar&&Q.removeChild(this.gui.statusbar),this.gui.sideBySide&&Q.removeChild(this.gui.sideBySide)),Q.parentNode.insertBefore(H,Q),Q.remove(),L.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},Uf=U,Uf}var nD=tD();const Av=R1(nD);window.Dropzone=et;Da.register(...eS);window.Chart=Da;window.EasyMDE=Av;window.editors={};document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".easymde").forEach(function(d){const a=new Av({element:d,minHeight:"200px",maxHeight:"200px",status:!1,spellChecker:!1});d.id&&(editors[d.id]=a)})});window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};
//# sourceMappingURL=app-C1ixkH5B.js.map
