(function(){function _(a){return a&&a.__esModule?a.default:a}function A(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function T(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function R(a,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}function U(a,n,e){return n&&R(a.prototype,n),e&&R(a,e),a}function L(a){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},L(a)}function M(a,n){return M=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e},M(a,n)}function q(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),n&&M(a,n)}function N(a,n){return!n||((e=n)&&e.constructor===Symbol?"symbol":typeof e)!="object"&&typeof n!="function"?A(a):n;var e}var I;function Q(a){return Array.isArray(a)||{}.toString.call(a)=="[object Object]"}function P(a){return!a||typeof a!="object"&&typeof a!="function"}I=function a(){var n=[].slice.call(arguments),e=!1;typeof n[0]=="boolean"&&(e=n.shift());var i=n[0];if(P(i))throw new Error("extendee must be an object");for(var t=n.slice(1),r=t.length,o=0;o<r;o++){var s=t[o];for(var l in s)if(Object.prototype.hasOwnProperty.call(s,l)){var u=s[l];if(e&&Q(u)){var d=Array.isArray(u)?[]:{};i[l]=a(!0,Object.prototype.hasOwnProperty.call(i,l)&&!P(i[l])?i[l]:d,u)}else i[l]=u}}return i};var O=function(){function a(){T(this,a)}return U(a,[{key:"on",value:function(n,e){return this._callbacks=this._callbacks||{},this._callbacks[n]||(this._callbacks[n]=[]),this._callbacks[n].push(e),this}},{key:"emit",value:function(n){for(var e=arguments.length,i=new Array(e>1?e-1:0),t=1;t<e;t++)i[t-1]=arguments[t];this._callbacks=this._callbacks||{};var r=this._callbacks[n],o=!0,s=!1,l=void 0;if(r)try{for(var u,d=r[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var p=u.value;p.apply(this,i)}}catch(c){s=!0,l=c}finally{try{o||d.return==null||d.return()}finally{if(s)throw l}}return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+n,{args:i})),this}},{key:"makeEvent",value:function(n,e){var i={bubbles:!0,cancelable:!0,detail:e};if(typeof window.CustomEvent=="function")return new CustomEvent(n,i);var t=document.createEvent("CustomEvent");return t.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),t}},{key:"off",value:function(n,e){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var i=this._callbacks[n];if(!i)return this;if(arguments.length===1)return delete this._callbacks[n],this;for(var t=0;t<i.length;t++){var r=i[t];if(r===e){i.splice(t,1);break}}return this}}]),a}(),W={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(a,n,e){if(e)return{dzuuid:e.file.upload.uuid,dzchunkindex:e.index,dztotalfilesize:e.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:e.file.upload.totalChunkCount,dzchunkbyteoffset:e.index*this.options.chunkSize}},accept:function(a,n){return n()},chunksUploaded:function(a,n){n()},binaryBody:!1,fallback:function(){var a;this.element.className="".concat(this.element.className," dz-browser-not-supported");var n=!0,e=!1,i=void 0;try{for(var t,r=this.element.getElementsByTagName("div")[Symbol.iterator]();!(n=(t=r.next()).done);n=!0){var o=t.value;if(/(^| )dz-message($| )/.test(o.className)){a=o,o.className="dz-message";break}}}catch(l){e=!0,i=l}finally{try{n||r.return==null||r.return()}finally{if(e)throw i}}a||(a=v.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(a));var s=a.getElementsByTagName("span")[0];return s&&(s.textContent!=null?s.textContent=this.options.dictFallbackMessage:s.innerText!=null&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(a,n,e,i){var t={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height},r=a.width/a.height;n==null&&e==null?(n=t.srcWidth,e=t.srcHeight):n==null?n=e*r:e==null&&(e=n/r);var o=(n=Math.min(n,t.srcWidth))/(e=Math.min(e,t.srcHeight));if(t.srcWidth>n||t.srcHeight>e)if(i==="crop")r>o?(t.srcHeight=a.height,t.srcWidth=t.srcHeight*o):(t.srcWidth=a.width,t.srcHeight=t.srcWidth/o);else{if(i!=="contain")throw new Error("Unknown resizeMethod '".concat(i,"'"));r>o?e=n/r:n=e*r}return t.srcX=(a.width-t.srcWidth)/2,t.srcY=(a.height-t.srcHeight)/2,t.trgWidth=n,t.trgHeight=e,t},transformFile:function(a,n){return(this.options.resizeWidth||this.options.resizeHeight)&&a.type.match(/image.*/)?this.resizeImage(a,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,n):n(a)},previewTemplate:_('<div class="dz-file-preview dz-preview"> <div class="dz-image"><img data-dz-thumbnail=""></div> <div class="dz-details"> <div class="dz-size"><span data-dz-size=""></span></div> <div class="dz-filename"><span data-dz-name=""></span></div> </div> <div class="dz-progress"> <span class="dz-upload" data-dz-uploadprogress=""></span> </div> <div class="dz-error-message"><span data-dz-errormessage=""></span></div> <div class="dz-success-mark"> <svg width="54" height="54" fill="#fff"><path d="m10.207 29.793 4.086-4.086a1 1 0 0 1 1.414 0l5.586 5.586a1 1 0 0 0 1.414 0l15.586-15.586a1 1 0 0 1 1.414 0l4.086 4.086a1 1 0 0 1 0 1.414L22.707 42.293a1 1 0 0 1-1.414 0L10.207 31.207a1 1 0 0 1 0-1.414Z"/></svg> </div> <div class="dz-error-mark"> <svg width="54" height="54" fill="#fff"><path d="m26.293 20.293-7.086-7.086a1 1 0 0 0-1.414 0l-4.586 4.586a1 1 0 0 0 0 1.414l7.086 7.086a1 1 0 0 1 0 1.414l-7.086 7.086a1 1 0 0 0 0 1.414l4.586 4.586a1 1 0 0 0 1.414 0l7.086-7.086a1 1 0 0 1 1.414 0l7.086 7.086a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7.086-7.086a1 1 0 0 1 0-1.414l7.086-7.086a1 1 0 0 0 0-1.414l-4.586-4.586a1 1 0 0 0-1.414 0l-7.086 7.086a1 1 0 0 1-1.414 0Z"/></svg> </div> </div>'),drop:function(a){return this.element.classList.remove("dz-drag-hover")},dragstart:function(a){},dragend:function(a){return this.element.classList.remove("dz-drag-hover")},dragenter:function(a){return this.element.classList.add("dz-drag-hover")},dragover:function(a){return this.element.classList.add("dz-drag-hover")},dragleave:function(a){return this.element.classList.remove("dz-drag-hover")},paste:function(a){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(a){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){var n=this;a.previewElement=v.createElement(this.options.previewTemplate.trim()),a.previewTemplate=a.previewElement,this.previewsContainer.appendChild(a.previewElement);var e=!0,i=!1,t=void 0;try{for(var r,o=a.previewElement.querySelectorAll("[data-dz-name]")[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.textContent=a.name}}catch(k){i=!0,t=k}finally{try{e||o.return==null||o.return()}finally{if(i)throw t}}var l=!0,u=!1,d=void 0;try{for(var p,c=a.previewElement.querySelectorAll("[data-dz-size]")[Symbol.iterator]();!(l=(p=c.next()).done);l=!0)(s=p.value).innerHTML=this.filesize(a.size)}catch(k){u=!0,d=k}finally{try{l||c.return==null||c.return()}finally{if(u)throw d}}this.options.addRemoveLinks&&(a._removeLink=v.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),a.previewElement.appendChild(a._removeLink));var h=function(k){var z=n;if(k.preventDefault(),k.stopPropagation(),a.status===v.UPLOADING)return v.confirm(n.options.dictCancelUploadConfirmation,function(){return z.removeFile(a)});var C=n;return n.options.dictRemoveFileConfirmation?v.confirm(n.options.dictRemoveFileConfirmation,function(){return C.removeFile(a)}):n.removeFile(a)},m=!0,f=!1,y=void 0;try{for(var w,F=a.previewElement.querySelectorAll("[data-dz-remove]")[Symbol.iterator]();!(m=(w=F.next()).done);m=!0)w.value.addEventListener("click",h)}catch(k){f=!0,y=k}finally{try{m||F.return==null||F.return()}finally{if(f)throw y}}}},removedfile:function(a){return a.previewElement!=null&&a.previewElement.parentNode!=null&&a.previewElement.parentNode.removeChild(a.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(a,n){if(a.previewElement){a.previewElement.classList.remove("dz-file-preview");var e=!0,i=!1,t=void 0;try{for(var r,o=a.previewElement.querySelectorAll("[data-dz-thumbnail]")[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.alt=a.name,s.src=n}}catch(l){i=!0,t=l}finally{try{e||o.return==null||o.return()}finally{if(i)throw t}}return setTimeout(function(){return a.previewElement.classList.add("dz-image-preview")},1)}},error:function(a,n){if(a.previewElement){a.previewElement.classList.add("dz-error"),typeof n!="string"&&n.error&&(n=n.error);var e=!0,i=!1,t=void 0;try{for(var r,o=a.previewElement.querySelectorAll("[data-dz-errormessage]")[Symbol.iterator]();!(e=(r=o.next()).done);e=!0)r.value.textContent=n}catch(s){i=!0,t=s}finally{try{e||o.return==null||o.return()}finally{if(i)throw t}}}},errormultiple:function(){},processing:function(a){if(a.previewElement&&(a.previewElement.classList.add("dz-processing"),a._removeLink))return a._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(a,n,e){var i=!0,t=!1,r=void 0;if(a.previewElement)try{for(var o,s=a.previewElement.querySelectorAll("[data-dz-uploadprogress]")[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;l.nodeName==="PROGRESS"?l.value=n:l.style.width="".concat(n,"%")}}catch(u){t=!0,r=u}finally{try{i||s.return==null||s.return()}finally{if(t)throw r}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(a){if(a.previewElement)return a.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(a){return this.emit("error",a,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(a){if(a._removeLink&&(a._removeLink.innerHTML=this.options.dictRemoveFile),a.previewElement)return a.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},v=function(a){function n(e,i){var t,r,o,s;if(T(this,n),(t=N(this,(r=n,L(r)).call(this))).element=e,t.clickableElements=[],t.listeners=[],t.files=[],typeof t.element=="string"&&(t.element=document.querySelector(t.element)),!t.element||t.element.nodeType==null)throw new Error("Invalid dropzone element.");if(t.element.dropzone)throw new Error("Dropzone already attached.");n.instances.push(A(t)),t.element.dropzone=A(t);var l=(s=n.optionsForElement(t.element))!=null?s:{};if(t.options=_(I)(!0,{},W,l,i??{}),t.options.previewTemplate=t.options.previewTemplate.replace(/\n*/g,""),t.options.forceFallback||!n.isBrowserSupported())return N(t,t.options.fallback.call(A(t)));if(t.options.url==null&&(t.options.url=t.element.getAttribute("action")),!t.options.url)throw new Error("No URL provided.");if(t.options.acceptedFiles&&t.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(t.options.uploadMultiple&&t.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(t.options.binaryBody&&t.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");return t.options.acceptedMimeTypes&&(t.options.acceptedFiles=t.options.acceptedMimeTypes,delete t.options.acceptedMimeTypes),t.options.renameFilename!=null&&(t.options.renameFile=function(u){return t.options.renameFilename.call(A(t),u.name,u)}),typeof t.options.method=="string"&&(t.options.method=t.options.method.toUpperCase()),(o=t.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),t.options.previewsContainer!==!1&&(t.options.previewsContainer?t.previewsContainer=n.getElement(t.options.previewsContainer,"previewsContainer"):t.previewsContainer=t.element),t.options.clickable&&(t.options.clickable===!0?t.clickableElements=[t.element]:t.clickableElements=n.getElements(t.options.clickable,"clickable")),t.init(),t}return q(n,a),U(n,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(i){return i.status===e}).map(function(i){return i})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(n.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(n.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(n.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===n.UPLOADING||e.status===n.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var e=this,i=this,t=this,r=this,o=this,s=this,l=this,u=this,d=this,p=this,c=this;if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){var h=this,m=function(){var g=h;h.hiddenFileInput&&h.hiddenFileInput.parentNode.removeChild(h.hiddenFileInput),h.hiddenFileInput=document.createElement("input"),h.hiddenFileInput.setAttribute("type","file"),(h.options.maxFiles===null||h.options.maxFiles>1)&&h.hiddenFileInput.setAttribute("multiple","multiple"),h.hiddenFileInput.className="dz-hidden-input",h.options.acceptedFiles!==null&&h.hiddenFileInput.setAttribute("accept",h.options.acceptedFiles),h.options.capture!==null&&h.hiddenFileInput.setAttribute("capture",h.options.capture),h.hiddenFileInput.setAttribute("tabindex","-1"),h.hiddenFileInput.style.visibility="hidden",h.hiddenFileInput.style.position="absolute",h.hiddenFileInput.style.top="0",h.hiddenFileInput.style.left="0",h.hiddenFileInput.style.height="0",h.hiddenFileInput.style.width="0",n.getElement(h.options.hiddenInputContainer,"hiddenInputContainer").appendChild(h.hiddenFileInput),h.hiddenFileInput.addEventListener("change",function(){var b=g.hiddenFileInput.files,E=!0,S=!1,x=void 0;if(b.length)try{for(var H,D=b[Symbol.iterator]();!(E=(H=D.next()).done);E=!0){var X=H.value;g.addFile(X)}}catch(K){S=!0,x=K}finally{try{E||D.return==null||D.return()}finally{if(S)throw x}}g.emit("addedfiles",b),m()})};m()}this.URL=window.URL!==null?window.URL:window.webkitURL;var f=!0,y=!1,w=void 0;try{for(var F,k=this.events[Symbol.iterator]();!(f=(F=k.next()).done);f=!0){var z=F.value;this.on(z,this.options[z])}}catch(g){y=!0,w=g}finally{try{f||k.return==null||k.return()}finally{if(y)throw w}}this.on("uploadprogress",function(){return e.updateTotalUploadProgress()}),this.on("removedfile",function(){return i.updateTotalUploadProgress()}),this.on("canceled",function(g){return t.emit("complete",g)}),this.on("complete",function(g){var b=r;if(r.getAddedFiles().length===0&&r.getUploadingFiles().length===0&&r.getQueuedFiles().length===0)return setTimeout(function(){return b.emit("queuecomplete")},0)});var C=function(g){if(function(b){if(b.dataTransfer.types){for(var E=0;E<b.dataTransfer.types.length;E++)if(b.dataTransfer.types[E]==="Files")return!0}return!1}(g))return g.stopPropagation(),g.preventDefault?g.preventDefault():g.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(g){return o.emit("dragstart",g)},dragenter:function(g){return C(g),s.emit("dragenter",g)},dragover:function(g){var b;try{b=g.dataTransfer.effectAllowed}catch{}return g.dataTransfer.dropEffect=b==="move"||b==="linkMove"?"move":"copy",C(g),l.emit("dragover",g)},dragleave:function(g){return u.emit("dragleave",g)},drop:function(g){return C(g),d.drop(g)},dragend:function(g){return p.emit("dragend",g)}}}],this.clickableElements.forEach(function(g){var b=c;return c.listeners.push({element:g,events:{click:function(E){return(g!==b.element||E.target===b.element||n.elementInside(E.target,b.element.querySelector(".dz-message")))&&b.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,i=0,t=0;if(this.getActiveFiles().length){var r=!0,o=!1,s=void 0;try{for(var l,u=this.getActiveFiles()[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var d=l.value;i+=d.upload.bytesSent,t+=d.upload.total}}catch(p){o=!0,s=p}finally{try{r||u.return==null||u.return()}finally{if(o)throw s}}e=100*i/t}else e=100;return this.emit("totaluploadprogress",e,t,i)}},{key:"_getParamName",value:function(e){return typeof this.options.paramName=="function"?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return typeof this.options.renameFile!="function"?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,i;if(e=this.getExistingFallback())return e;var t='<div class="dz-fallback">';this.options.dictFallbackText&&(t+="<p>".concat(this.options.dictFallbackText,"</p>")),t+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var r=n.createElement(t);return this.element.tagName!=="FORM"?(i=n.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(r):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),i??r}},{key:"getExistingFallback",value:function(){var e=function(d){var p=!0,c=!1,h=void 0;try{for(var m,f=d[Symbol.iterator]();!(p=(m=f.next()).done);p=!0){var y=m.value;if(/(^| )fallback($| )/.test(y.className))return y}}catch(w){c=!0,h=w}finally{try{p||f.return==null||f.return()}finally{if(c)throw h}}},i=!0,t=!1,r=void 0;try{for(var o,s=["div","form"][Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l,u=o.value;if(l=e(this.element.getElementsByTagName(u)))return l}}catch(d){t=!0,r=d}finally{try{i||s.return==null||s.return()}finally{if(t)throw r}}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(e){return function(){var i=[];for(var t in e.events){var r=e.events[t];i.push(e.element.addEventListener(t,r,!1))}return i}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(e){return function(){var i=[];for(var t in e.events){var r=e.events[t];i.push(e.element.removeEventListener(t,r,!1))}return i}()})}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach(function(i){return i.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(i){return e.cancelUpload(i)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var i=0,t="b";if(e>0){for(var r=["tb","gb","mb","kb","b"],o=0;o<r.length;o++){var s=r[o];if(e>=Math.pow(this.options.filesizeBase,4-o)/10){i=e/Math.pow(this.options.filesizeBase,4-o),t=s;break}}i=Math.round(10*i)/10}return"<strong>".concat(i,"</strong> ").concat(this.options.dictFileSizeUnits[t])}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var i=[],t=0;t<e.dataTransfer.files.length;t++)i[t]=e.dataTransfer.files[t];if(i.length){var r=e.dataTransfer.items;r&&r.length&&r[0].webkitGetAsEntry!=null?this._addFilesFromItems(r):this.handleFiles(i)}this.emit("addedfiles",i)}}},{key:"paste",value:function(e){if(i=e!=null?e.clipboardData:void 0,t=function(o){return o.items},(i!=null?t(i):void 0)!=null){var i,t;this.emit("paste",e);var r=e.clipboardData.items;return r.length?this._addFilesFromItems(r):void 0}}},{key:"handleFiles",value:function(e){var i=!0,t=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;this.addFile(l)}}catch(u){t=!0,r=u}finally{try{i||s.return==null||s.return()}finally{if(t)throw r}}}},{key:"_addFilesFromItems",value:function(e){var i=this;return function(){var t=[],r=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var d,p=l.value;p.webkitGetAsEntry!=null&&(d=p.webkitGetAsEntry())?d.isFile?t.push(i.addFile(p.getAsFile())):d.isDirectory?t.push(i._addFilesFromDirectory(d,d.name)):t.push(void 0):p.getAsFile!=null&&(p.kind==null||p.kind==="file")?t.push(i.addFile(p.getAsFile())):t.push(void 0)}}catch(c){o=!0,s=c}finally{try{r||u.return==null||u.return()}finally{if(o)throw s}}return t}()}},{key:"_addFilesFromDirectory",value:function(e,i){var t=this,r=e.createReader(),o=function(l){return u=console,d="log",p=function(c){return c.log(l)},u!=null&&typeof u[d]=="function"?p(u,d):void 0;var u,d,p},s=function(){var l=t;return r.readEntries(function(u){if(u.length>0){var d=!0,p=!1,c=void 0;try{for(var h,m=u[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var f=h.value,y=l;f.isFile?f.file(function(w){if(!y.options.ignoreHiddenFiles||w.name.substring(0,1)!==".")return w.fullPath="".concat(i,"/").concat(w.name),y.addFile(w)}):f.isDirectory&&l._addFilesFromDirectory(f,"".concat(i,"/").concat(f.name))}}catch(w){p=!0,c=w}finally{try{d||m.return==null||m.return()}finally{if(p)throw c}}s()}return null},o)};return s()}},{key:"accept",value:function(e,i){this.options.maxFilesize&&e.size>1048576*this.options.maxFilesize?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(e,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,i):i(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var i=this;e.upload={uuid:n.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=n.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){t?(e.accepted=!1,i._errorProcessing([e],t)):(e.accepted=!0,i.options.autoQueue&&i.enqueueFile(e)),i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){var i=!0,t=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;this.enqueueFile(l)}}catch(u){t=!0,r=u}finally{try{i||s.return==null||s.return()}finally{if(t)throw r}}return null}},{key:"enqueueFile",value:function(e){if(e.status!==n.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");var i=this;if(e.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return i.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1048576*this.options.maxThumbnailFilesize){var i=this;return this._thumbnailQueue.push(e),setTimeout(function(){return i._processThumbnailQueue()},0)}}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&this._thumbnailQueue.length!==0){this._processingThumbnail=!0;var i=this._thumbnailQueue.shift();return this.createThumbnail(i,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(t){return e.emit("thumbnail",i,t),e._processingThumbnail=!1,e._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===n.UPLOADING&&this.cancelUpload(e),this.files=j(this.files,e),this.emit("removedfile",e),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){e==null&&(e=!1);var i=!0,t=!1,r=void 0;try{for(var o,s=this.files.slice()[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;(l.status!==n.UPLOADING||e)&&this.removeFile(l)}}catch(u){t=!0,r=u}finally{try{i||s.return==null||s.return()}finally{if(t)throw r}}return null}},{key:"resizeImage",value:function(e,i,t,r,o){var s=this;return this.createThumbnail(e,i,t,r,!0,function(l,u){if(u==null)return o(e);var d=s.options.resizeMimeType;d==null&&(d=e.type);var p=u.toDataURL(d,s.options.resizeQuality);return d!=="image/jpeg"&&d!=="image/jpg"||(p=B.restore(e.dataURL,p)),o(n.dataURItoBlob(p))})}},{key:"createThumbnail",value:function(e,i,t,r,o,s){var l=this,u=new FileReader;u.onload=function(){e.dataURL=u.result,e.type!=="image/svg+xml"?l.createThumbnailFromUrl(e,i,t,r,o,s):s!=null&&s(u.result)},u.readAsDataURL(e)}},{key:"displayExistingFile",value:function(e,i,t,r,o){var s=o===void 0||o;if(this.emit("addedfile",e),this.emit("complete",e),s){var l=this;e.dataURL=i,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,function(u){l.emit("thumbnail",e,u),t&&t()},r)}else this.emit("thumbnail",e,i),t&&t()}},{key:"createThumbnailFromUrl",value:function(e,i,t,r,o,s,l){var u=this,d=document.createElement("img");return l&&(d.crossOrigin=l),o=getComputedStyle(document.body).imageOrientation!="from-image"&&o,d.onload=function(){var p=u,c=function(h){return h(1)};return typeof EXIF<"u"&&EXIF!==null&&o&&(c=function(h){return EXIF.getData(d,function(){return h(EXIF.getTag(this,"Orientation"))})}),c(function(h){e.width=d.width,e.height=d.height;var m=p.options.resize.call(p,e,i,t,r),f=document.createElement("canvas"),y=f.getContext("2d");switch(f.width=m.trgWidth,f.height=m.trgHeight,h>4&&(f.width=m.trgHeight,f.height=m.trgWidth),h){case 2:y.translate(f.width,0),y.scale(-1,1);break;case 3:y.translate(f.width,f.height),y.rotate(Math.PI);break;case 4:y.translate(0,f.height),y.scale(1,-1);break;case 5:y.rotate(.5*Math.PI),y.scale(1,-1);break;case 6:y.rotate(.5*Math.PI),y.translate(0,-f.width);break;case 7:y.rotate(.5*Math.PI),y.translate(f.height,-f.width),y.scale(-1,1);break;case 8:y.rotate(-.5*Math.PI),y.translate(-f.height,0)}G(y,d,m.srcX!=null?m.srcX:0,m.srcY!=null?m.srcY:0,m.srcWidth,m.srcHeight,m.trgX!=null?m.trgX:0,m.trgY!=null?m.trgY:0,m.trgWidth,m.trgHeight);var w=f.toDataURL("image/png");if(s!=null)return s(w,f)})},s!=null&&(d.onerror=s),d.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i;if(!(i>=e)){var r=this.getQueuedFiles();if(r.length>0){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,e-i));for(;t<e;){if(!r.length)return;this.processFile(r.shift()),t++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var i=!0,t=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;l.processing=!0,l.status=n.UPLOADING,this.emit("processing",l)}}catch(u){t=!0,r=u}finally{try{i||s.return==null||s.return()}finally{if(t)throw r}}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter(function(i){return i.xhr===e}).map(function(i){return i})}},{key:"cancelUpload",value:function(e){if(e.status===n.UPLOADING){var i=this._getFilesWithXhr(e.xhr),t=!0,r=!1,o=void 0;try{for(var s,l=i[Symbol.iterator]();!(t=(s=l.next()).done);t=!0)(m=s.value).status=n.CANCELED}catch(f){r=!0,o=f}finally{try{t||l.return==null||l.return()}finally{if(r)throw o}}e.xhr!==void 0&&e.xhr.abort();var u=!0,d=!1,p=void 0;try{for(var c,h=i[Symbol.iterator]();!(u=(c=h.next()).done);u=!0){var m=c.value;this.emit("canceled",m)}}catch(f){d=!0,p=f}finally{try{u||h.return==null||h.return()}finally{if(d)throw p}}this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else e.status!==n.ADDED&&e.status!==n.QUEUED||(e.status=n.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){for(var i=arguments.length,t=new Array(i>1?i-1:0),r=1;r<i;r++)t[r-1]=arguments[r];return typeof e=="function"?e.apply(this,t):e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var i=this;this._transformFiles(e,function(t){if(i.options.chunking){var r=t[0];e[0].upload.chunked=i.options.chunking&&(i.options.forceChunking||r.size>i.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(r.size/i.options.chunkSize)}if(e[0].upload.chunked){var o=i,s=i,l=e[0];r=t[0],l.upload.chunks=[];var u=function(){for(var c=0;l.upload.chunks[c]!==void 0;)c++;if(!(c>=l.upload.totalChunkCount)){var h=c*o.options.chunkSize,m=Math.min(h+o.options.chunkSize,r.size),f={name:o._getParamName(0),data:r.webkitSlice?r.webkitSlice(h,m):r.slice(h,m),filename:l.upload.filename,chunkIndex:c};l.upload.chunks[c]={file:l,index:c,dataBlock:f,status:n.UPLOADING,progress:0,retries:0},o._uploadData(e,[f])}};if(l.upload.finishedChunkUpload=function(c,h){var m=s,f=!0;c.status=n.SUCCESS,c.dataBlock=null,c.response=c.xhr.responseText,c.responseHeaders=c.xhr.getAllResponseHeaders(),c.xhr=null;for(var y=0;y<l.upload.totalChunkCount;y++){if(l.upload.chunks[y]===void 0)return u();l.upload.chunks[y].status!==n.SUCCESS&&(f=!1)}f&&s.options.chunksUploaded(l,function(){m._finished(e,h,null)})},i.options.parallelChunkUploads)for(var d=0;d<l.upload.totalChunkCount;d++)u();else u()}else{var p=[];for(d=0;d<e.length;d++)p[d]={name:i._getParamName(d),data:t[d],filename:e[d].upload.filename};i._uploadData(e,p)}})}},{key:"_getChunk",value:function(e,i){for(var t=0;t<e.upload.totalChunkCount;t++)if(e.upload.chunks[t]!==void 0&&e.upload.chunks[t].xhr===i)return e.upload.chunks[t]}},{key:"_uploadData",value:function(e,i){var t=this,r=this,o=this,s=this,l=new XMLHttpRequest,u=!0,d=!1,p=void 0;try{for(var c=e[Symbol.iterator]();!(u=(E=c.next()).done);u=!0)(F=E.value).xhr=l}catch(x){d=!0,p=x}finally{try{u||c.return==null||c.return()}finally{if(d)throw p}}e[0].upload.chunked&&(e[0].upload.chunks[i[0].chunkIndex].xhr=l);var h=this.resolveOption(this.options.method,e,i),m=this.resolveOption(this.options.url,e,i);l.open(h,m,!0),this.resolveOption(this.options.timeout,e)&&(l.timeout=this.resolveOption(this.options.timeout,e)),l.withCredentials=!!this.options.withCredentials,l.onload=function(x){t._finishedUploading(e,l,x)},l.ontimeout=function(){r._handleUploadError(e,l,"Request timedout after ".concat(r.options.timeout/1e3," seconds"))},l.onerror=function(){o._handleUploadError(e,l)},(l.upload!=null?l.upload:l).onprogress=function(x){return s._updateFilesUploadProgress(e,l,x)};var f=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};for(var y in this.options.binaryBody&&(f["Content-Type"]=e[0].type),this.options.headers&&_(I)(f,this.options.headers),f){var w=f[y];w&&l.setRequestHeader(y,w)}if(this.options.binaryBody){u=!0,d=!1,p=void 0;try{for(c=e[Symbol.iterator]();!(u=(E=c.next()).done);u=!0){var F=E.value;this.emit("sending",F,l)}}catch(x){d=!0,p=x}finally{try{u||c.return==null||c.return()}finally{if(d)throw p}}this.options.uploadMultiple&&this.emit("sendingmultiple",e,l),this.submitRequest(l,null,e)}else{var k=new FormData;if(this.options.params){var z=this.options.params;for(var C in typeof z=="function"&&(z=z.call(this,e,l,e[0].upload.chunked?this._getChunk(e[0],l):null)),z){var g=z[C];if(Array.isArray(g))for(var b=0;b<g.length;b++)k.append(C,g[b]);else k.append(C,g)}}u=!0,d=!1,p=void 0;try{var E;for(c=e[Symbol.iterator]();!(u=(E=c.next()).done);u=!0)F=E.value,this.emit("sending",F,l,k)}catch(x){d=!0,p=x}finally{try{u||c.return==null||c.return()}finally{if(d)throw p}}for(this.options.uploadMultiple&&this.emit("sendingmultiple",e,l,k),this._addFormElementData(k),b=0;b<i.length;b++){var S=i[b];k.append(S.name,S.data,S.filename)}this.submitRequest(l,k,e)}}},{key:"_transformFiles",value:function(e,i){for(var t=this,r=function(u){t.options.transformFile.call(t,e[u],function(d){o[u]=d,++s===e.length&&i(o)})},o=[],s=0,l=0;l<e.length;l++)r(l)}},{key:"_addFormElementData",value:function(e){var i=!0,t=!1,r=void 0;if(this.element.tagName==="FORM")try{for(var o=this.element.querySelectorAll("input, textarea, select, button")[Symbol.iterator]();!(i=(d=o.next()).done);i=!0){var s=d.value,l=s.getAttribute("name"),u=s.getAttribute("type");if(u&&(u=u.toLowerCase()),l!=null)if(s.tagName==="SELECT"&&s.hasAttribute("multiple")){i=!0,t=!1,r=void 0;try{var d;for(o=s.options[Symbol.iterator]();!(i=(d=o.next()).done);i=!0){var p=d.value;p.selected&&e.append(l,p.value)}}catch(c){t=!0,r=c}finally{try{i||o.return==null||o.return()}finally{if(t)throw r}}}else(!u||u!=="checkbox"&&u!=="radio"||s.checked)&&e.append(l,s.value)}}catch(c){t=!0,r=c}finally{try{i||o.return==null||o.return()}finally{if(t)throw r}}}},{key:"_updateFilesUploadProgress",value:function(e,i,t){var r=!0,o=!1,s=void 0;if(e[0].upload.chunked){c=e[0];var l=this._getChunk(c,i);t?(l.progress=100*t.loaded/t.total,l.total=t.total,l.bytesSent=t.loaded):(l.progress=100,l.bytesSent=l.total),c.upload.progress=0,c.upload.total=0,c.upload.bytesSent=0;for(var u=0;u<c.upload.totalChunkCount;u++)c.upload.chunks[u]&&c.upload.chunks[u].progress!==void 0&&(c.upload.progress+=c.upload.chunks[u].progress,c.upload.total+=c.upload.chunks[u].total,c.upload.bytesSent+=c.upload.chunks[u].bytesSent);c.upload.progress=c.upload.progress/c.upload.totalChunkCount,this.emit("uploadprogress",c,c.upload.progress,c.upload.bytesSent)}else try{for(var d,p=e[Symbol.iterator]();!(r=(d=p.next()).done);r=!0){var c;(c=d.value).upload.total&&c.upload.bytesSent&&c.upload.bytesSent==c.upload.total||(t?(c.upload.progress=100*t.loaded/t.total,c.upload.total=t.total,c.upload.bytesSent=t.loaded):(c.upload.progress=100,c.upload.bytesSent=c.upload.total),this.emit("uploadprogress",c,c.upload.progress,c.upload.bytesSent))}}catch(h){o=!0,s=h}finally{try{r||p.return==null||p.return()}finally{if(o)throw s}}}},{key:"_finishedUploading",value:function(e,i,t){var r;if(e[0].status!==n.CANCELED&&i.readyState===4){if(i.responseType!=="arraybuffer"&&i.responseType!=="blob"&&(r=i.responseText,i.getResponseHeader("content-type")&&~i.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(o){t=o,r="Invalid JSON response from server."}this._updateFilesUploadProgress(e,i),200<=i.status&&i.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],i),r):this._finished(e,r,t):this._handleUploadError(e,i,r)}}},{key:"_handleUploadError",value:function(e,i,t){if(e[0].status!==n.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var r=this._getChunk(e[0],i);if(r.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[r.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,t||this.options.dictResponseError.replace("{{statusCode}}",i.status),i)}}},{key:"submitRequest",value:function(e,i,t){if(e.readyState==1)if(this.options.binaryBody)if(t[0].upload.chunked){var r=this._getChunk(t[0],e);e.send(r.dataBlock.data)}else e.send(t[0]);else e.send(i);else console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.")}},{key:"_finished",value:function(e,i,t){var r=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var d=l.value;d.status=n.SUCCESS,this.emit("success",d,i,t),this.emit("complete",d)}}catch(p){o=!0,s=p}finally{try{r||u.return==null||u.return()}finally{if(o)throw s}}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,i,t),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,i,t){var r=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var d=l.value;d.status=n.ERROR,this.emit("error",d,i,t),this.emit("complete",d)}}catch(p){o=!0,s=p}finally{try{r||u.return==null||u.return()}finally{if(o)throw s}}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,i,t),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=O,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=16*Math.random()|0;return(e==="x"?i:3&i|8).toString(16)})}}]),n}(O);v.initClass(),v.options={},v.optionsForElement=function(a){return a.getAttribute("id")?v.options[Y(a.getAttribute("id"))]:void 0},v.instances=[],v.forElement=function(a){if(typeof a=="string"&&(a=document.querySelector(a)),(a!=null?a.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return a.dropzone},v.discover=function(){var a;if(document.querySelectorAll)a=document.querySelectorAll(".dropzone");else{a=[];var n=function(e){return function(){var i=[],t=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var u=s.value;/(^| )dropzone($| )/.test(u.className)?i.push(a.push(u)):i.push(void 0)}}catch(d){r=!0,o=d}finally{try{t||l.return==null||l.return()}finally{if(r)throw o}}return i}()};n(document.getElementsByTagName("div")),n(document.getElementsByTagName("form"))}return function(){var e=[],i=!0,t=!1,r=void 0;try{for(var o,s=a[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;v.optionsForElement(l)!==!1?e.push(new v(l)):e.push(void 0)}}catch(u){t=!0,r=u}finally{try{i||s.return==null||s.return()}finally{if(t)throw r}}return e}()},v.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],v.isBrowserSupported=function(){var a=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){v.blacklistedBrowsers!==void 0&&(v.blockedBrowsers=v.blacklistedBrowsers);var n=!0,e=!1,i=void 0;try{for(var t,r=v.blockedBrowsers[Symbol.iterator]();!(n=(t=r.next()).done);n=!0)t.value.test(navigator.userAgent)&&(a=!1)}catch(o){e=!0,i=o}finally{try{n||r.return==null||r.return()}finally{if(e)throw i}}}else a=!1;else a=!1;return a},v.dataURItoBlob=function(a){for(var n=atob(a.split(",")[1]),e=a.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(n.length),t=new Uint8Array(i),r=0,o=n.length,s=0<=o;s?r<=o:r>=o;s?r++:r--)t[r]=n.charCodeAt(r);return new Blob([i],{type:e})};var j=function(a,n){return a.filter(function(e){return e!==n}).map(function(e){return e})},Y=function(a){return a.replace(/[\-_](\w)/g,function(n){return n.charAt(1).toUpperCase()})};v.createElement=function(a){var n=document.createElement("div");return n.innerHTML=a,n.childNodes[0]},v.elementInside=function(a,n){if(a===n)return!0;for(;a=a.parentNode;)if(a===n)return!0;return!1},v.getElement=function(a,n){var e;if(typeof a=="string"?e=document.querySelector(a):a.nodeType!=null&&(e=a),e==null)throw new Error("Invalid `".concat(n,"` option provided. Please provide a CSS selector or a plain HTML element."));return e},v.getElements=function(a,n){var e,i;if(a instanceof Array){i=[];try{var t=!0,r=!1,o=void 0;try{for(var s=a[Symbol.iterator]();!(t=(l=s.next()).done);t=!0)e=l.value,i.push(this.getElement(e,n))}catch(u){r=!0,o=u}finally{try{t||s.return==null||s.return()}finally{if(r)throw o}}}catch{i=null}}else if(typeof a=="string"){i=[],t=!0,r=!1,o=void 0;try{var l;for(s=document.querySelectorAll(a)[Symbol.iterator]();!(t=(l=s.next()).done);t=!0)e=l.value,i.push(e)}catch(u){r=!0,o=u}finally{try{t||s.return==null||s.return()}finally{if(r)throw o}}}else a.nodeType!=null&&(i=[a]);if(i==null||!i.length)throw new Error("Invalid `".concat(n,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return i},v.confirm=function(a,n,e){return window.confirm(a)?n():e!=null?e():void 0},v.isValidFile=function(a,n){if(!n)return!0;n=n.split(",");var e=a.type,i=e.replace(/\/.*$/,""),t=!0,r=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var u=s.value;if((u=u.trim()).charAt(0)==="."){if(a.name.toLowerCase().indexOf(u.toLowerCase(),a.name.length-u.length)!==-1)return!0}else if(/\/\*$/.test(u)){if(i===u.replace(/\/.*$/,""))return!0}else if(e===u)return!0}}catch(d){r=!0,o=d}finally{try{t||l.return==null||l.return()}finally{if(r)throw o}}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(a){return this.each(function(){return new v(this,a)})}),v.ADDED="added",v.QUEUED="queued",v.ACCEPTED=v.QUEUED,v.UPLOADING="uploading",v.PROCESSING=v.UPLOADING,v.CANCELED="canceled",v.ERROR="error",v.SUCCESS="success";var G=function(a,n,e,i,t,r,o,s,l,u){var d=function(p){p.naturalWidth;var c=p.naturalHeight,h=document.createElement("canvas");h.width=1,h.height=c;var m=h.getContext("2d");m.drawImage(p,0,0);for(var f=m.getImageData(1,0,1,c).data,y=0,w=c,F=c;F>y;)f[4*(F-1)+3]===0?w=F:y=F,F=w+y>>1;var k=F/c;return k===0?1:k}(n);return a.drawImage(n,e,i,t,r,o,s,l,u/d)},B=function(){function a(){T(this,a)}return U(a,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(n){for(var e="",i=void 0,t=void 0,r="",o=void 0,s=void 0,l=void 0,u="",d=0;o=(i=n[d++])>>2,s=(3&i)<<4|(t=n[d++])>>4,l=(15&t)<<2|(r=n[d++])>>6,u=63&r,isNaN(t)?l=u=64:isNaN(r)&&(u=64),e=e+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(u),i=t=r="",o=s=l=u="",d<n.length;);return e}},{key:"restore",value:function(n,e){if(!n.match("data:image/jpeg;base64,"))return e;var i=this.decode64(n.replace("data:image/jpeg;base64,","")),t=this.slice2Segments(i),r=this.exifManipulation(e,t);return"data:image/jpeg;base64,".concat(this.encode64(r))}},{key:"exifManipulation",value:function(n,e){var i=this.getExifArray(e),t=this.insertExif(n,i);return new Uint8Array(t)}},{key:"getExifArray",value:function(n){for(var e=void 0,i=0;i<n.length;){if((e=n[i])[0]===255&e[1]===225)return e;i++}return[]}},{key:"insertExif",value:function(n,e){var i=n.replace("data:image/jpeg;base64,",""),t=this.decode64(i),r=t.indexOf(255,3),o=t.slice(0,r),s=t.slice(r),l=o;return l=(l=l.concat(e)).concat(s)}},{key:"slice2Segments",value:function(n){for(var e=0,i=[];!(n[e]===255&n[e+1]===218);){if(n[e]===255&n[e+1]===216)e+=2;else{var t=e+(256*n[e+2]+n[e+3])+2,r=n.slice(e,t);i.push(r),e=t}if(e>n.length)break}return i}},{key:"decode64",value:function(n){var e=void 0,i=void 0,t="",r=void 0,o=void 0,s="",l=0,u=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(n)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");e=this.KEY_STR.indexOf(n.charAt(l++))<<2|(r=this.KEY_STR.indexOf(n.charAt(l++)))>>4,i=(15&r)<<4|(o=this.KEY_STR.indexOf(n.charAt(l++)))>>2,t=(3&o)<<6|(s=this.KEY_STR.indexOf(n.charAt(l++))),u.push(e),o!==64&&u.push(i),s!==64&&u.push(t),e=i=t="",r=o=s="",l<n.length;);return u}}]),a}();B.initClass(),window.Dropzone=v})();
//# sourceMappingURL=dropzone-min-BWGTgUkI.js.map
