var j_=Object.defineProperty;var U_=(u,a,r)=>a in u?j_(u,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[a]=r;var re=(u,a,r)=>U_(u,typeof a!="symbol"?a+"":a,r);function q_(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function Y_(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var a=u.default;if(typeof a=="function"){var r=function c(){return this instanceof c?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(u).forEach(function(c){var f=Object.getOwnPropertyDescriptor(u,c);Object.defineProperty(r,c,f.get?f:{enumerable:!0,get:function(){return u[c]}})}),r}var rm={},om;function G_(){if(om)return rm;om=1;/*!
	 ███╗   ███╗███████╗████████╗██████╗  ██████╗     ██╗   ██╗██╗
	 ████╗ ████║██╔════╝╚══██╔══╝██╔══██╗██╔═══██╗    ██║   ██║██║
	 ██╔████╔██║█████╗     ██║   ██████╔╝██║   ██║    ██║   ██║██║
	 ██║╚██╔╝██║██╔══╝     ██║   ██╔══██╗██║   ██║    ██║   ██║██║
	 ██║ ╚═╝ ██║███████╗   ██║   ██║  ██║╚██████╔╝    ╚██████╔╝██║
	 ╚═╝     ╚═╝╚══════╝   ╚═╝   ╚═╝  ╚═╝ ╚═════╝      ╚═════╝ ╚═╝                                                             

	 * Metro UI v5.1.2 Components Library  (https://metroui.org.ua)
	 * Build: 08.05.2025, 14:02:00
	 * Copyright 2012-2025 by Serhii Pimenov
	 * Licensed under MIT
	 */(()=>{var Kt,Ci,wi,Ms;var u=Object.defineProperty,a=(t,o)=>{for(var p in o)u(t,p,{get:o[p],enumerable:!0})},r=t=>!isNaN(t),c="YYYY-MM-DDTHH:mm:ss.sss",f="Invalid date",g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,b=/(%[a-z])/gi,C="%Y-%m-%dT%H:%M:%S.%Q%t",S={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},T={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},A={ms:"ms",s:"second",m:"minute",h:"hour",D:"day",W:"week",M:"month",Y:"year"},O=(t="")=>{throw new Error("This argument is required!")},N=(t,o=!0)=>{try{return o?typeof t<"u":typeof t<"u"&&t!==null}catch{return!1}},$=t=>typeof t>"u"||t===null,q=function(t,o,p){let e=""+t;return p&&e.length>=p?e:Array(p+1-e.length).join(o)+e},Q={months:"Січень_Лютий_Березень_Квітень_Травень_Червень_Липень_Серпень_Вересень_Жовтень_Листопад_Грудень".split("_"),monthsParental:"Січня_Лютого_Березеня_Квітня_Травня_Червня_Липня_Серпня_Вересня_Жовтня_Листопада_Грудня".split("_"),monthsShort:"Січ_Лют_Бер_Кві_Тра_Чер_Лип_Сер_Вер_Жов_Лис_Гру".split("_"),weekdays:"Неділя_Понеділок_Вівторок_Середа_Четвер_П'ятниця_Субота".split("_"),weekdaysShort:"Нед_Пон_Вів_Сер_Чет_Птн_Суб".split("_"),weekdaysMin:"Нд_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),weekStart:1},te={months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_Mär_Apr_Mai_Jun_Jul_Aug_Sep_Okt_Nov_Dez".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"Son_Mon_Die_Mit_Don_Fre_Sam".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekStart:1},J=(Kt=class{constructor(){let o=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(o))),this.locale="en",this.weekStart=Kt.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,!r(this.value.getTime()))throw new Error(f)}static isDatetime(o){return o instanceof Kt}static now(o=!1){return K()[o?"val":"time"]()}static parse(o=O()){return K(Date.parse(o))}static setLocale(o=O(),p=O()){Kt.locales[o]=p}static getLocale(o="en"){return N(Kt.locales[o],!1)?Kt.locales[o]:Kt.locales.en}static align(o,p){let e=K(o),i,l;switch(p){case A.s:i=e.ms(0);break;case A.m:i=Kt.align(e,A.s)[A.s](0);break;case A.h:i=Kt.align(e,A.m)[A.m](0);break;case A.D:i=Kt.align(e,A.h)[A.h](0);break;case A.M:i=Kt.align(e,A.D)[A.D](1);break;case A.Y:i=Kt.align(e,A.M)[A.M](0);break;case A.W:{l=e.weekDay(),i=Kt.align(o,A.D).addDay(-l);break}default:i=e}return i}static alignEnd(o,p){let e=K(o),i,l;switch(p){case A.ms:i=e.ms(999);break;case A.s:i=Kt.alignEnd(e,A.ms);break;case A.m:i=Kt.alignEnd(e,A.s)[A.s](59);break;case A.h:i=Kt.alignEnd(e,A.m)[A.m](59);break;case A.D:i=Kt.alignEnd(e,A.h)[A.h](23);break;case A.M:i=Kt.alignEnd(e,A.D)[A.D](1).add(1,A.M).add(-1,A.D);break;case A.Y:i=Kt.alignEnd(e,A.D)[A.M](11)[A.D](31);break;case A.W:{l=e.weekDay(),i=Kt.alignEnd(e,"day").addDay(6-l);break}default:i=o}return i}immutable(o){return this.mutable=!($(o)||o),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(o,p){return this.locale=p||N(Kt.locales[o],!1)?o:"en",this.weekStart=Kt.getLocale(this.locale).weekStart,this}clone(){let o=K(this.value);return o.locale=this.locale,o.weekStart=this.weekStart,o.mutable=this.mutable,o}align(o){return this.mutable?(this.value=Kt.align(this,o).val(),this):this.clone().immutable(!1).align(o).immutable(!this.mutable)}alignEnd(o){return this.mutable?(this.value=Kt.alignEnd(this,o).val(),this):this.clone().immutable(!1).alignEnd(o).immutable(!this.mutable)}val(o){return typeof o>"u"||o===null?this.value:this.mutable?(this.value=typeof o=="string"?Date.parse(o):typeof o=="number"?new Date(o):o,this):K(o)}year2(){return+(""+this.year()).substring(-2)}_set(o,p){let e="set"+(this.utcMode&&o!=="t"?"UTC":"")+T[o];if(this.mutable)return this.value[e](p),this;let i=this.clone();return i.value[e](p),i}_get(o){let p="get"+(this.utcMode&&o!=="t"?"UTC":"")+T[o];return this.value[p]()}_work(o,p){return!arguments.length||typeof p>"u"||p===null?this._get(o):this._set(o,p)}ms(o){return this._work("ms",o)}second(o){return this._work("s",o)}minute(o){return this._work("m",o)}hour(o){return this._work("h",o)}day(o){return this._work("D",o)}month(o){return this._work("M",o)}year(o){return this._work("Y",o)}time(o){return this._work("t",o)}weekDay(o){if(!arguments.length||$(o))return this.utcMode?this.value.getUTCDay():this.value.getDay();let p=this.weekDay(),e=o-p;return this.day(this.day()+e),this}get(o){return typeof this[o]!="function"?this:this[o]()}set(o,p){return typeof this[o]!="function"?this:this[o](p)}add(o,p){switch(p){case A.h:return this.time(this.time()+o*60*60*1e3);case A.m:return this.time(this.time()+o*60*1e3);case A.s:return this.time(this.time()+o*1e3);case A.ms:return this.time(this.time()+o);case A.D:return this.day(this.day()+o);case A.W:return this.day(this.day()+o*7);case A.M:return this.month(this.month()+o);case A.Y:return this.year(this.year()+o)}}addHour(o){return this.add(o,A.h)}addMinute(o){return this.add(o,A.m)}addSecond(o){return this.add(o,A.s)}addMs(o){return this.add(o,A.ms)}addDay(o){return this.add(o,A.D)}addWeek(o){return this.add(o,A.W)}addMonth(o){return this.add(o,A.M)}addYear(o){return this.add(o,A.Y)}format(o,p){let e=o||c,i=Kt.getLocale(p||this.locale),l=this.year(),h=this.year2(),v=this.month(),x=this.day(),w=this.weekDay(),D=this.hour(),M=this.minute(),I=this.second(),B=this.ms(),Y={YY:h,YYYY:l,M:v+1,MM:q(v+1,0,2),MMM:i.monthsShort[v],MMMM:i.months[v],D:x,DD:q(x,0,2),d:w,dd:i.weekdaysMin[w],ddd:i.weekdaysShort[w],dddd:i.weekdays[w],H:D,HH:q(D,0,2),m:M,mm:q(M,0,2),s:I,ss:q(I,0,2),sss:q(B,0,3)};return e.replace(g,(X,ie)=>ie||Y[X])}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}},re(Kt,"locales",{en:S,ua:Q,de:te}),Kt),K=(...t)=>t&&t[0]instanceof J?t[0]:new J(...t),le=J.prototype.format,se={buddhist(){return this.year()+543},format(t,o){t=t||c;let p={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()},e=t.replace(/(\[[^\]]+])|B{4}|B{2}/g,(i,l)=>l||p[i]);return le.bind(this)(e,o)}};Object.assign(J.prototype,se);var ae=(t,o)=>{let p=t instanceof J?t.clone().align("month"):K(t),e=o===0||o?o:t.weekStart,i=e?p.isoWeekDay():p.weekDay(),l=J.getLocale(p.locale),h=K(),v,x=(D,M)=>{if(M===0)return D;let I=D[0];return D.slice(1).concat([I])},w={month:l.months[p.month()],days:[],weekstart:o?1:0,weekdays:x(l.weekdaysMin,e),today:h.format("YYYY-MM-DD"),weekends:[],week:[]};for(p.addDay(e?-i+1:-i),v=0;v<42;v++)w.days.push(p.format("YYYY-MM-DD")),p.add(1,"day");for(w.weekends=w.days.filter(function(D,M){return e===0?[0,6,7,13,14,20,21,27,28,34,35,41].includes(M):[5,6,12,13,19,20,26,27,33,34,40,41].includes(M)}),p=h.clone(),i=e?p.isoWeekDay():p.weekDay(),p.addDay(e?-i+1:-i),v=0;v<7;v++)w.week.push(p.format("YYYY-MM-DD")),p.add(1,"day");return w};Object.assign(J.prototype,{calendar(t){return ae(this,t)}});var ke=J.prototype.format;Object.assign(J.prototype,{century(){return Math.ceil(this.year()/100)},format(t,o){t=t||c;let p={C:this.century()},e=t.replace(/(\[[^\]]+])|C/g,(i,l)=>l||p[i]);return ke.bind(this)(e,o)}}),Object.assign(J.prototype,{same(t){return this.time()===K(t).time()},compare(t,o,p="="){let e=K(t),i=K(this.value),l,h;switch(p=p||"=",["<",">",">=","<=","=","!="].includes(p)===!1&&(p="="),o=(o||"ms").toLowerCase(),l=i.align(o).time(),h=e.align(o).time(),p){case"<":return l<h;case">":return l>h;case"<=":return l<=h;case">=":return l>=h;case"=":return l===h;case"!=":return l!==h}},between(t,o){return this.younger(t)&&this.older(o)},older(t,o){return this.compare(t,o,"<")},olderOrEqual(t,o){return this.compare(t,o,"<=")},younger(t,o){return this.compare(t,o,">")},youngerOrEqual(t,o){return this.compare(t,o,">=")},equal(t,o){return this.compare(t,o,"=")},notEqual(t,o){return this.compare(t,o,"!=")},diff(t){let o=K(t),p=Math.abs(this.time()-o.time()),e=Math.abs(this.month()-o.month()+12*(this.year()-o.year()));return{ms:p,second:Math.ceil(p/1e3),minute:Math.ceil(p/(1e3*60)),hour:Math.ceil(p/(1e3*60*60)),day:Math.ceil(p/(1e3*60*60*24)),month:e,year:Math.floor(e/12)}},distance(t,o){return this.diff(t)[o]}}),Object.assign(J.prototype,{isLeapYear(){let t=this.year();return t%4===0&&t%100!==0||t%400===0}}),Object.assign(J.prototype,{dayOfYear(){let t=[0,31,59,90,120,151,181,212,243,273,304,334],o=this.month(),p=this.day();return t[o]+p+(o>1&&this.isLeapYear()?1:0)}}),Object.assign(J.prototype,{daysInMonth(){return K(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear(){return this.isLeapYear()?366:365},daysInYearMap(){let t=[],o=K(this.value);o.month(0).day(1);for(let p=0;p<12;p++)o.add(1,"month").add(-1,"day"),t.push(o.day()),o.day(1).add(1,"month");return t},daysInYearObj(t,o){let p=this.daysInYearMap(),e={},i=J.getLocale(t||this.locale);return p.forEach((l,h)=>e[i[o?"monthsShort":"months"][h]]=l),e}}),Object.assign(J.prototype,{decade(){return Math.floor(this.year()/10)*10},decadeStart(){let t=this.decade();return(this.mutable?this:this.clone()).year(t).month(0).day(1)},decadeEnd(){let t=this.decade()+9;return(this.mutable?this:this.clone()).year(t).month(11).day(31)},decadeOfMonth(){let t=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,o=this.day();return o<=t?1:o<=t*2?2:3}}),Object.assign(J,{from(t,o,p){let e,i,l,h,v,x,w,D,M,I,B,Y,X,ie,Fe,Ve,He,ze,De,Oe=function(kt,Ot){return kt.map(function(Fi){return Fi.toLowerCase()}).indexOf(Ot.toLowerCase())},Me=function(kt){let Ot=-1,Fi=J.getLocale(p||"en");return $(kt)?-1:(Ot=Oe(Fi.months,kt),Ot===-1&&typeof Fi.monthsParental<"u"&&(Ot=Oe(Fi.monthsParental,kt)),Ot===-1&&(kt=kt.substr(0,3),Ot=Oe(Fi.monthsShort,kt)),Ot===-1?-1:Ot+1)},Ie=function(kt){let Ot={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]},Fi=-1,mn,Si;for(let Pn=0;Pn<Ot[kt].length;Pn++)if(mn=Ot[kt][Pn],Si=l.indexOf(mn),Si!==-1){Fi=Si;break}return Fi};if(!o)return K();if(e=t.replace(/[\/,.:\s]/g,"-"),i=o.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),l=i.split("-"),h=e.split("-"),e.replace(/-/g,"").trim()==="")throw new Error(f);return v=Ie("month"),x=Ie("day"),w=Ie("year"),D=Ie("hour"),M=Ie("minute"),I=Ie("second"),B=Ie("ms"),v>-1&&h[v]?isNaN(parseInt(h[v]))?(h[v]=Me(h[v]),h[v]===-1&&(v=-1)):(De=parseInt(h[v]),(De<1||De>12)&&(v=-1)):v=-1,Y=w>-1&&h[w]?h[w]:0,X=v>-1&&h[v]?h[v]:1,ie=x>-1&&h[x]?h[x]:1,Fe=D>-1&&h[D]?h[D]:0,Ve=M>-1&&h[M]?h[M]:0,He=I>-1&&h[I]?h[I]:0,ze=B>-1&&h[B]?h[B]:0,K(Y,X-1,ie,Fe,Ve,He,ze)}});var ye=J.prototype.format;Object.assign(J.prototype,{ampm(t){let o=this.hour()<12?"AM":"PM";return t?o.toLowerCase():o},hour12:function(t,o){let p=t;return arguments.length===0?this.hour()%12:(o=o||"am",o.toLowerCase()==="pm"&&(p+=12),this.hour(p))},format:function(t,o){let p,e,i=this.hour12();return t=t||c,p={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:i,hh:q(i,0,2)},e=t.replace(/(\[[^\]]+])|a|A|h{1,2}/g,(l,h)=>h||p[l]),ye.bind(this)(e,o)}});var be=J.prototype.format,Te=J.align,Ke=J.alignEnd;Object.assign(J,{align(t,o){let p=K(t),e,i;switch(o){case"isoWeek":i=p.isoWeekDay(),e=Te(p,"day").addDay(-i+1);break;default:e=Te.apply(void 0,[p,o])}return e},alignEnd(t,o){let p=K(t),e,i;switch(o){case"isoWeek":i=p.isoWeekDay(),e=Ke(p,"day").addDay(7-i);break;default:e=Ke.apply(void 0,[p,o])}return e}}),Object.assign(J.prototype,{isoWeekDay(t){let o=(this.weekDay()+6)%7+1;return!arguments.length||$(t)?o:this.addDay(t-o)},format(t,o){t=t||c;let p={I:this.isoWeekDay()},e=t.replace(/(\[[^\]]+])|I{1,2}/g,(i,l)=>l||p[i]);return be.bind(this)(e,o)}}),Object.assign(J,{max(){return[].slice.call(arguments).map(t=>K(t)).sort((t,o)=>o.time()-t.time())[0]}}),Object.assign(J.prototype,{max(){return J.max.apply(this,[this].concat([].slice.call(arguments)))}}),Object.assign(J,{min(){return[].slice.call(arguments).map(t=>K(t)).sort((t,o)=>t.time()-o.time())[0]}}),Object.assign(J.prototype,{min(){return J.min.apply(this,[this].concat([].slice.call(arguments)))}});var Le=J.align,Ge=J.alignEnd,st=J.prototype.add;Object.assign(J,{align(t,o){let p=K(t),e;switch(o){case"quarter":e=J.align(p,"day").day(1).month(p.quarter()*3-3);break;default:e=Le.apply(this,[p,o])}return e},alignEnd(t,o){let p=K(t),e;switch(o){case"quarter":e=J.align(p,"quarter").add(3,"month").add(-1,"ms");break;default:e=Ge.apply(this,[p,o])}return e}}),Object.assign(J.prototype,{quarter(){let t=this.month();return t<=2?1:t<=5?2:t<=8?3:4},add(t,o){return o==="quarter"?this.month(this.month()+t*3):st.bind(this)(t,o)},addQuarter(t){return this.add(t,"quarter")}}),Object.assign(J,{sort(t,o){let p,e,i={};switch(typeof o=="string"||typeof o!="object"||$(o)?(i.format=c,i.dir=o&&o.toUpperCase()==="DESC"?"DESC":"ASC",i.returnAs="datetime"):(i.format=o.format||c,i.dir=(o.dir||"ASC").toUpperCase(),i.returnAs=o.format?"string":o.returnAs||"datetime"),e=t.map(l=>K(l)).sort((l,h)=>l.valueOf()-h.valueOf()),i.dir==="DESC"&&e.reverse(),i.returnAs){case"string":p=e.map(l=>l.format(i.format));break;case"date":p=e.map(l=>l.val());break;default:p=e}return p}});var ut=J.prototype.format;Object.assign(J.prototype,{utcOffset(){return this.value.getTimezoneOffset()},timezone(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format(t,o){t=t||c;let p={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()},e=t.replace(/(\[[^\]]+])|Z{1,3}|z/g,(i,l)=>l||p[i]);return ut.bind(this)(e,o)}});var de=J.prototype.format;Object.assign(J.prototype,{weekNumber(t){let o,p,e,i,l,h;return t=+t||0,e=K(this.year(),0,1),i=e.weekDay()-t,i=i>=0?i:i+7,l=Math.floor((this.time()-e.time()-(this.utcOffset()-e.utcOffset())*6e4)/864e5)+1,i<4?(h=Math.floor((l+i-1)/7)+1,h>52&&(o=K(this.year()+1,0,1),p=o.weekDay()-t,p=p>=0?p:p+7,h=p<4?1:53)):h=Math.floor((l+i-1)/7),h},isoWeekNumber(){return this.weekNumber(1)},weeksInYear(t){return K(this.value).month(11).day(31).weekNumber(t)},format:function(t,o){let p,e,i=this.weekNumber(),l=this.isoWeekNumber();return t=t||c,p={W:i,WW:q(i,0,2),WWW:l,WWWW:q(l,0,2)},e=t.replace(/(\[[^\]]+])|W{1,4}/g,(h,v)=>v||p[h]),de.bind(this)(e,o)}}),Object.assign(J.prototype,{strftime(t,o){let p=t||C,e=J.getLocale(o||this.locale),i=this.year(),l=this.year2(),h=this.month(),v=this.day(),x=this.weekDay(),w=this.hour(),D=this.hour12(),M=this.minute(),I=this.second(),B=this.ms(),Y=this.time(),X=q(v,0,2),ie=q(h+1,0,2),Fe=q(w,0,2),Ve=q(D,0,2),He=q(M,0,2),ze=q(I,0,2),De=q(B,0,3),Oe=this,Me=function(){return K(Oe.value).day(Oe.day()-(Oe.weekDay()+6)%7+3)},Ie={"%a":e.weekdaysShort[x],"%A":e.weekdays[x],"%b":e.monthsShort[h],"%h":e.monthsShort[h],"%B":e.months[h],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":X,"%D":[X,ie,i].join("/"),"%e":v,"%F":[i,ie,X].join("-"),"%G":Me().year(),"%g":(""+Me().year()).slice(2),"%H":Fe,"%I":Ve,"%j":q(this.dayOfYear(),0,3),"%k":Fe,"%l":Ve,"%m":ie,"%n":h+1,"%M":He,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(Y/1e3),"%S":ze,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":x,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":l,"%Y":i,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[Ve,He,ze].join(":")+" "+this.ampm(),"%R":[Fe,He].join(":"),"%T":[Fe,He,ze].join(":"),"%Q":De,"%q":B,"%t":this.timezone()};return p.replace(b,kt=>Ie[kt]===0||Ie[kt]?Ie[kt]:kt)}}),Object.assign(J,{isToday(t){let o=K(t).align("day"),p=K().align("day");return o.time()===p.time()}}),Object.assign(J.prototype,{isToday(){return J.isToday(this)},today(){let t=K();return this.mutable?this.val(t.val()):t}}),Object.assign(J,{isTomorrow(t){let o=K(t).align("day"),p=K().align("day").add(1,"day");return o.time()===p.time()}}),Object.assign(J.prototype,{isTomorrow(){return J.isTomorrow(this)},tomorrow(){return this.mutable?this.add(1,"day"):this.clone().immutable(!1).add(1,"day").immutable(!this.mutable)}}),Object.assign(J.prototype,{toDateString(){return this.value.toDateString()},toISOString(){return this.value.toISOString()},toJSON(){return this.value.toJSON()},toGMTString(){return this.value.toGMTString()},toLocaleDateString(){return this.value.toLocaleDateString()},toLocaleString(){return this.value.toLocaleString()},toLocaleTimeString(){return this.value.toLocaleTimeString()},toTimeString(){return this.value.toTimeString()},toUTCString(){return this.value.toUTCString()},toDate(){return new Date(this.value)}}),Object.assign(J,{timestamp(){return new Date().getTime()/1e3}}),Object.assign(J.prototype,{unix(t){let o;return!arguments.length||$(t)?Math.floor(this.valueOf()/1e3):(o=t*1e3,this.mutable?this.time(o):K(this.value).time(o))},timestamp(){return this.unix()}}),Object.assign(J,{isYesterday(t){let o=K(t).align("day"),p=K().align("day").add(-1,"day");return o.time()===p.time()}}),Object.assign(J.prototype,{isYesterday(){return J.isYesterday(this)},yesterday(){return this.mutable?this.add(-1,"day"):this.clone().immutable(!1).add(-1,"day").immutable(!this.mutable)}});var Be=t=>{let o,p=Math.floor(t/1e3),e=Math.floor(p/60),i=Math.floor(e/60),l=Math.floor(i/24),h=Math.floor(l/30),v=Math.floor(h/12);return v>=1&&(o=`${v} year`),h>=1&&v<1&&(o=`${h} mon`),l>=1&&l<=30&&(o=`${l} days`),i&&i<24&&(o=`${i} hour`),e&&e>=40&&e<60&&(o="less a hour"),e&&e<40&&(o=`${e} min`),p&&p>=30&&p<60&&(o=`${p} sec`),p<30&&(o="few sec"),o};Object.assign(J,{timeLapse(t){let o=K(t),p=K(),e=p-o;return Be(e)}}),Object.assign(J.prototype,{timeLapse(){let t=K()-+this;return Be(t)}});var Pe={parseTime(t){if(!isNaN(t))return Math.abs(+t);let o=/([0-9]+d)|([0-9]{1,2}h)|([0-9]{1,2}m)|([0-9]{1,2}s)/gm;return t.match(o).reduce((p,e)=>{let i;return e.includes("d")?i=1e3*60*60*24*parseInt(e):e.includes("h")?i=1e3*60*60*parseInt(e):e.includes("m")?i=1e3*60*parseInt(e):e.includes("s")&&(i=1e3*parseInt(e)),p+i},0)}};Object.assign(J,Pe),Object.assign(J.prototype,{moon(){let t=["new-moon","waxing-crescent","first-quarter","waxing-gibbous","full-moon","waning-gibbous","last-quarter","waning-crescent"];return(()=>{let o=this.year(),p=this.month(),e=this.day(),i,l,h,v=i=l=h=0;return p<3&&(o--,p+=12),++p,v=365.25*o,i=30.6*p,l=v+i+e-694039.09,l/=29.5305882,h=parseInt(l),l-=h,h=Math.round(l*8),h>=8&&(h=0),{phase:h,name:t[h]}})()}});var Qe="3.2.3",gt="02.05.2025, 13:28:35",Ht=()=>{console.info(`%c Datetime %c v${Qe} %c ${gt} `,"color: #ffffff; font-weight: bold; background: #003152","color: white; background: darkgreen","color: white; background: #0080fe;")};J.info=Ht,J.correctDate=t=>K(t).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),globalThis.Datetime=J,globalThis.datetime=K,(()=>{let t=["january","february","march","april","may","june","july","august","september","october","november","december"],o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],p=J.getLocale;J.getLocale=function(e="en"){let i=e;if(!Metro)return p.call(this,e);Metro.locales[i]||(i="en");let l=Metro.locales[i],h=t.map((M,I)=>l[M]),v=t.map((M,I)=>l[`${M}_short`]),x=o.map((M,I)=>l[M]),w=o.map((M,I)=>l[`${M}_short`]),D=o.map((M,I)=>l[`${M}_short_2`]);return{months:h,monthsShort:v,weekdays:x,weekdaysShort:w,weekdaysMin:D,weekStart:l.weekStart}}})();var Qi=Object.defineProperty,ce=(t,o)=>{for(var p in o)Qi(t,p,{get:o[p],enumerable:!0})},V={};ce(V,{append:()=>yl,camelCase:()=>ge,capitalize:()=>Se,chars:()=>z,count:()=>Ue,countChars:()=>tt,countSubstr:()=>vt,countUniqueChars:()=>je,countUniqueWords:()=>wt,countWords:()=>xt,dashedName:()=>U,decapitalize:()=>W,endsWith:()=>Hn,escapeHtml:()=>jt,first:()=>Ha,includes:()=>ml,insert:()=>To,isAlpha:()=>zt,isAlphaDigit:()=>Ns,isBlank:()=>Eo,isDigit:()=>Va,isEmpty:()=>$e,isLower:()=>bt,isString:()=>Io,isUpper:()=>Ao,kebab:()=>fe,last:()=>$a,lower:()=>L,lpad:()=>ca,ltrim:()=>bs,matches:()=>bl,nvl:()=>Cl,pad:()=>Bs,prepend:()=>_l,prune:()=>Ls,repeat:()=>Os,reverse:()=>ee,rpad:()=>nc,rtrim:()=>Lr,shorten:()=>rc,shuffle:()=>he,slice:()=>ln,snake:()=>Ce,split:()=>gl,sprintf:()=>Rs,startsWith:()=>Mo,strip:()=>Wa,stripBoom:()=>xl,stripTags:()=>Pr,stripTagsAll:()=>Or,substring:()=>ss,swap:()=>ue,title:()=>xe,trim:()=>rt,truncate:()=>En,truncateWithAlign:()=>yn,unescapeHtml:()=>oa,unique:()=>la,uniqueWords:()=>Ir,upper:()=>ve,vsprintf:()=>$n,words:()=>we,wrap:()=>vl,wrapTag:()=>Fo});var Ee="\\d",_t="\\s\\uFEFF\\xA0",lt="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",Zt="\\u2000-\\u206F",ti="\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7",Vt="\\u2700-\\u27BF",Rt="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",St="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",Pt=new RegExp("^["+_t+"]+"),ii=new RegExp("["+_t+"]+$"),gi=new RegExp("^"+Ee+"+$"),ct=/[<>&"'`]/g,ji=/(<([^>]+)>)/ig,Ui=new RegExp("(?:["+St+"]["+lt+"]*)?(?:["+Rt+"]["+lt+"]*)+|(?:["+St+"]["+lt+"]*)+(?!["+Rt+"])|["+Ee+"]+|["+Vt+"]|[^"+ti+Zt+_t+"]+","g"),ni=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,Tn=new RegExp("^(?:["+Rt+St+"]["+lt+"]*)+$"),at=new RegExp("^((?:["+Rt+St+"]["+lt+"]*)|["+Ee+"])+$"),oi=/^[\x01-\xFF]*$/,dt=(t,o="")=>!t&&typeof t!="number"&&typeof t!="boolean"?o:typeof t=="string"?t:Array.isArray(t)?t.join(""):JSON.stringify(t),vs=(t,o)=>typeof t>"u"||t===null?o:t,we=(t,o,p)=>{let e;return o?o instanceof RegExp?e=o:e=new RegExp(o,vs(p,"")):e=oi.test(t)?ni:Ui,vs(dt(t).match(e),[])},Se=(t,o=!1)=>{let p=dt(t),e=p.substring(1);return p.substring(0,1).toUpperCase()+(o?e.toLowerCase():e)},ge=t=>we(dt(t)).map((o,p)=>p===0?o.toLowerCase():Se(o)).join(""),U=t=>we(dt(t)).map(o=>o.toLowerCase()).join("-"),W=t=>{let o=dt(t);return o.substring(0,1).toLowerCase()+o.substr(1)},fe=(t,o="-")=>we(dt(t)).map(p=>p.toLowerCase()).join(o),L=t=>dt(t).toLowerCase(),z=(t,o=[])=>dt(t).split("").filter(p=>!o.includes(p)),ee=(t,o)=>z(dt(t),o).reverse().join(""),oe=(t=[])=>{let o=[...t],p=o.length,e,i;for(;p!==0;)i=Math.floor(Math.random()*p),p-=1,e=o[p],o[p]=o[i],o[i]=e;return o},he=t=>oe(dt(t).split("")).join(""),Ce=t=>we(dt(t)).map(o=>o.toLowerCase()).join("_"),pe=(t,o)=>{let p=o.toLowerCase(),e=o.toUpperCase();return t+(o===p?e:p)},ue=t=>dt(t).split("").reduce(pe,""),xe=(t,o,p="")=>{let e=dt(t),i=oi.test(e)?ni:Ui,l=Array.isArray(o)?o:typeof o!="string"?[]:o.split(p);return t.replace(i,(h,v)=>v&&l.includes(e[v-1])?L(h):Se(h))},ve=t=>dt(t).toUpperCase(),Ue=t=>dt(t).length,et=(t=[])=>{let o=[...t];for(let p=0;p<o.length;++p)for(let e=p+1;e<o.length;++e)o[p]===o[e]&&o.splice(e--,1);return o},tt=(t,o)=>z(t,o).length,je=(t,o)=>et(z(t,o)).length,vt=(t,o="")=>{let p=dt(t),e=dt(o);return p===""||e===""?0:p.split(e).length-1},xt=(t,o,p)=>we(t,o,p).length,wt=(t,o,p)=>et(we(t,o,p)).length,mt={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function Wt(t){return mt[t]}var jt=t=>dt(t).replace(ct,Wt),vi={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},en=Object.keys(vi);function qi(t,o){return t.replace(vi[o],o)}var oa=t=>en.reduce(qi,dt(t)),la=(t,o)=>et(z(t,o)).join(""),Ir=(t,o,p)=>et(we(t,o,p)).join(""),ss=(t,o,p)=>dt(t).substring(o,p),Ha=(t,o=0)=>ss(dt(t),0,o),$a=(t,o=0)=>{let p=dt(t);return p?ss(p,p.length-o):""},fl="\uFEFF",bi=(t,o,p=9007199254740991)=>t<o?o:t>p?p:t,on=t=>t===1/0?9007199254740991:t===-1/0?-9007199254740991:~~t,En=(t,o=0,p="...")=>{let e=dt(t),i=o?bi(on(o),0,9007199254740991):e.length;return ss(e,0,i)+(e.length===i?"":p)},yn=(t,o=0,p="...")=>{let e=En(t,o,"");return e.slice(t,e.lastIndexOf(" "))+p},ln=(t,o=1)=>{let p=dt(t),e=[],i=Math.round(p.length/o);for(let l=0;l<o;l++)e.push(ss(p,l*i,i));return e},Ls=(t,o=0,p="")=>{let e=dt(t),i=o?bi(on(o),0,9007199254740991):e.length,l=0,h=oi.test(e)?ni:Ui;return e.replace(h,(v,x)=>{let w=x+v.length;w<=i-p.length&&(l=w)}),e.substring(0,l)+p},Os=(t,o=0)=>{let p=dt(t),e=o?bi(on(o),0,9007199254740991):p.length,i=p;if(o===0)return"";for(let l=0;l<e-1;l++)p+=i;return p},Ps=(t,o=0)=>{let p=t.length,e=o-p;return Os(t,e+1).substring(0,o)},ua=(t,o="",p=0,e=!1)=>{let i=dt(t),l=p?bi(on(p),0,9007199254740991):i.length,h=o.length,v=l-i.length,x=v;if(v<=0||h===0)return i;let w=Ps(o,x);return e?w+i:i+w},ca=(t,o=" ",p=0)=>ua(t,o,p,!0),nc=(t,o=" ",p=0)=>ua(t,o,p,!1),Bs=(t,o="",p=0)=>{let e=dt(t),i=p?bi(on(p),0,9007199254740991):e.length,l=o.length,h=i-e.length,v=on(h/2),x=h%2;return h<=0||l===0?e:Ps(o,v)+e+Ps(o,v+x)},To=(t,o="",p=0)=>{let e=dt(t);return e.substring(0,p)+o+e.substring(p)},sc=Array.prototype.reduce,ki=Array.prototype.reduceRight,rt=(t,o)=>bs(Lr(t,o),o),bs=(t,o)=>{let p=dt(t);if(!o)return p.replace(Pt,"");if(o===""||p==="")return p;typeof o!="string"&&(o="");let e=!0;return sc.call(p,(i,l)=>e&&o.includes(l)?i:(e=!1,i+l),"")},Lr=(t,o)=>{let p=dt(t);if(!o)return p.replace(ii,"");if(o===""||p==="")return p;typeof o!="string"&&(o="");let e=!0;return ki.call(p,(i,l)=>e&&o.includes(l)?i:(e=!1,l+i),"")},Hn=(t,o,p)=>dt(t).endsWith(o,p),zt=t=>Tn.test(dt(t)),Ns=t=>at.test(dt(t)),Va=t=>gi.test(dt(t)),Eo=(t,o=!0)=>o?dt(t).length===0:rt(t).length===0,$e=t=>rt(t).length===0,bt=t=>L(t)===t,Ao=t=>ve(t)===t,Mo=(t,o,p)=>dt(t).startsWith(o,p),Or=t=>dt(t).replace(ji,""),Pr=(t,o=[])=>{let p=dt(t),e=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return p.replace(e,(i,l)=>o.includes(l)?i:"")},_n={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function Ct(t,o){let p=1,e=t.length,i,l="",h,v,x,w,D,M;for(let I=0;I<e;I++)if(typeof t[I]=="string")l+=t[I];else if(typeof t[I]=="object"){if(h=t[I],h.keys){i=o[p];for(let B=0;B<h.keys.length;B++){if(typeof i>"u")throw new Error(Rs('[sprintf] Cannot access property "%s" of undefined value "%s"',h.keys[B],h.keys[B-1]));i=i[h.keys[B]]}}else h.param_no?i=o[h.param_no]:i=o[p++];if(_n.not_type.test(h.type)&&_n.not_primitive.test(h.type)&&i instanceof Function&&(i=i()),_n.numeric_arg.test(h.type)&&typeof i!="number"&&isNaN(i))throw new TypeError(Rs("[sprintf] expecting number but found %T"));switch(_n.number.test(h.type)&&(D=i>=0),h.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,h.width?parseInt(h.width):0);break;case"e":i=h.precision?parseFloat(i).toExponential(h.precision):parseFloat(i).toExponential();break;case"f":i=h.precision?parseFloat(i).toFixed(h.precision):parseFloat(i);break;case"g":i=h.precision?String(Number(i.toPrecision(h.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=h.precision?i.substring(0,h.precision):i;break;case"t":i=String(!!i),i=h.precision?i.substring(0,h.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=h.precision?i.substring(0,h.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=h.precision?i.substring(0,h.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase();break}_n.json.test(h.type)?l+=i:(_n.number.test(h.type)&&(!D||h.sign)?(M=D?"+":"-",i=i.toString().replace(_n.sign,"")):M="",x=h.pad_char?h.pad_char==="0"?"0":h.pad_char.charAt(1):" ",w=h.width-(M+i).length,v=h.width&&w>0?x.repeat(w):"",l+=h.align?M+i+v:x==="0"?M+v+i:v+M+i)}return l}var pl=Object.create(null);function ac(t){if(pl[t])return pl[t];let o=t,p,e=[],i=0;for(;o;){if((p=_n.text.exec(o))!==null)e.push(p[0]);else if((p=_n.modulo.exec(o))!==null)e.push("%");else if((p=_n.placeholder.exec(o))!==null){if(p[2]){i|=1;let l=[],h=p[2],v=[];if((v=_n.key.exec(h))!==null)for(l.push(v[1]);(h=h.substring(v[0].length))!=="";)if((v=_n.key_access.exec(h))!==null)l.push(v[1]);else if((v=_n.index_access.exec(h))!==null)l.push(v[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");p[2]=l}else i|=2;if(i===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");e.push({placeholder:p[0],param_no:p[1],keys:p[2],sign:p[3],pad_char:p[4],align:p[5],width:p[6],precision:p[7],type:p[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");o=o.substring(p[0].length)}return pl[t]=e}var Rs=t=>Ct(ac(t),arguments),$n=(t,o)=>Rs.apply(null,[t].concat(o||[])),ml=(t,o,p)=>dt(t).includes(o,p),gl=(t,o=void 0,p=void 0,e=!0)=>dt(t).split(o,p).map(i=>e?i.trim():i).filter(i=>e?!$e(i):!0),Wa=(t,o=null,p="")=>{let e=dt(t),i;return o?(i=new RegExp(o,"g"),e.replace(i,p)):e},Fo=(t,o="div",p={})=>{let e=dt(t),i=Object.keys(p).map(l=>`${l}="${p[l]}"`).join(" ");return i&&(i=" "+i),`<${o}${i}>${e}</${o}>`},vl=(t,o="",p="")=>o+dt(t)+p,Io=t=>typeof t=="string",bl=(t,o,p="")=>{let e=dt(t),i;if(!(o instanceof RegExp)){if(i=o?rt(dt(o)):"",!i)return!1;o=new RegExp(i,p)}return o.test(e)},yl=(t,o="",p=1)=>dt(t)+Os(o,p),_l=(t,o="",p=1)=>Os(o,p)+dt(t),xl=t=>{let o=dt(t);return o===""?o:o[0]===fl?o.substring(1):o},rc=(t,o=5,p="...")=>t&&`${t.substring(0,o)}${p}${t.substring(t.length-o)}`,Th=t=>typeof t>"u"||t===null,Cl=(t,...o)=>{if(!Th(t))return t;if(o.length===0)throw new Error("nvl: No default value provided");for(let p of o)if(typeof p<"u"&&p!==null)return p},In=class{constructor(t="",{mutable:o=!0}={}){this.value=t.toString(),this.mutable=o}[Symbol.toPrimitive](t){return t==="number"?+this.value:this.value}get[Symbol.toStringTag](){return"Str"}val(t){return typeof t>"u"||t===null?this.value:(this.value=t.toString(),this)}get length(){return this.value.length}immutable(t=!0){this.mutable=!t}toString(){return Array.isArray(this.value)?this.value.join(""):this.value}_result(t){return this.mutable?(this.value=t,this):oc(t)}camelCase(){return this._result(ge(this.value))}capitalize(t){return this._result(Se(this.value,t))}chars(t){return this._result(z(this.value,t))}count(){return Ue(this.value)}countChars(t){return tt(this.value,t)}countUniqueChars(t){return je(this.value,t)}countSubstr(t){return vt(this.value,t)}countWords(t,o){return tt(this.value,t)}countUniqueWords(t,o){return je(this.value,t)}dashedName(){return this._result(U(this.value))}decapitalize(){return this._result(W(this.value))}endsWith(t,o){return Hn(this.value,t,o)}escapeHtml(){return this._result(jt(this.value))}first(){return this._result(Ha(this.value))}includes(t,o){return ml(this.value,t,o)}insert(t,o){return this._result(To(this.value,t,o))}isAlpha(){return zt(this.value)}isAlphaDigit(){return Ns(this.value)}isBlank(t){return Eo(this.value,t)}isDigit(){return Va(this.value)}isEmpty(){return $e(this.value)}isLower(){return bt(this.value)}static isString(t){return Io(t)}isUpper(){return Ao(this.value)}kebab(t){return this._result(fe(this.value,t))}last(t){return this._result($a(this.value,t))}lower(){return this._result(L(this.value))}matches(t,o){return bl(this.value,t,o)}pad(t,o){return this._result(Bs(this.value,t,o))}lpad(t,o){return this._result(ca(this.value,t,o))}rpad(t,o){return this._result(nc(this.value,t,o))}prune(t,o){return this._result(Ls(this.value,t,o))}repeat(t){return this._result(Os(this.value,t))}append(t,o){return this._result(yl(this.value,t,o))}prepend(t,o){return this._result(_l(this.value,t,o))}reverse(t){return this._result(ee(this.value,t))}shuffle(){return this._result(he(this.value))}slice(t){return this._result(ln(this.value,t))}snake(){return this._result(Ce(this.value))}split(t,o,p){return this._result(gl(this.value,t,o,p))}sprintf(...t){return this._result(Rs(this.value,...t))}vsprintf(...t){return this._result($n(this.value,...t))}startsWith(t,o){return Mo(this.value,t,o)}stripBoom(){return this._result(xl(this.value))}stripTags(t){return this._result(Pr(this.value,t))}stripTagsAll(){return this._result(Or(this.value))}strip(t,o){return this._result(Wa(this.value,t,o))}substring(t,o){return this._result(ss(this.value,t,o))}swap(){return this._result(ue(this.value))}title(t,o){return this._result(xe(this.value,t,o))}trim(t){return this._result(rt(this.value,t))}ltrim(t){return this._result(bs(this.value,t))}rtrim(t){return this._result(Lr(this.value,t))}truncate(t,o){return this._result(En(this.value,t,o))}truncateWithAlign(t,o){return this._result(yn(this.value,t,o))}unescapeHtml(){return this._result(oa(this.value))}unique(t){return this._result(la(this.value,t))}uniqueWords(t,o){return this._result(Ir(this.value,t,o))}upper(){return this._result(ve(this.value))}words(t,o){return we(this.value,t,o)}wrap(t,o){return this._result(vl(this.value,t,o))}wrapTag(t){return this._result(Fo(this.value,t))}shorten(t,o){return this._result(rc(this.value,t,o))}nvl(...t){return this._result(Cl(this.value,...t))}};Object.assign(In,V);var oc=(t,o=!0)=>new In(t,{mutable:o}),Eh="0.10.1",Lo="02.05.2025, 18:43:00",Br=()=>{console.info(`%c String %c v${Eh} %c ${Lo} `,"color: #000000; font-weight: bold; background: #fff200","color: white; background: darkgreen","color: white; background: #0080fe;")};In.info=Br,globalThis.Str=In,globalThis.str=oc;var Ah=["opacity","zIndex"];function Mh(){return null}function Fh(t){return typeof t=="string"||typeof t=="boolean"||typeof t=="number"}function ja(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function wl(t){let o=getComputedStyle(t);return!ja(t)||+o.opacity==0||t.hidden||o.visibility==="hidden"}function ot(t){return t==null}function un(t){return t.replace(/-([a-z])/g,function(o,p){return p.toUpperCase()})}function as(t){let o;return!t||Object.prototype.toString.call(t)!=="[object Object]"?!1:(o=t.prototype!==void 0,o?o.constructor&&typeof o.constructor=="function":!0)}function da(t){for(let o in t)if(Hs(t,o))return!1;return!0}function ys(t){return t instanceof Object&&"length"in t}function rs(t,o){return o=o||" ",t.split(o).map(function(p){return(""+p).trim()}).filter(function(p){return p!==""})}function zs(t,o){return o||(o=[0,""]),t=String(t),o[0]=parseFloat(t),o[1]=t.match(/[\d.\-+]*\s*(.*)/)[1]||"",o}function kl(t,o){let p=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn|fr|lh|cqw|cqh|cqi|cqb|cqmin|cqmax|q)?$/.exec(t);return typeof p[1]<"u"?p[1]:o}function Sl(t,o,p){o=un(o),["scrollLeft","scrollTop"].indexOf(o)>-1?t[o]=parseInt(p):t.style[o]=isNaN(p)||Ah.indexOf(""+o)>-1?p:p+"px"}function Nr(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType}function Ih(t){try{return JSON.parse(t)}catch{return t}}function lc(t,o,p){let e;return ot(p)&&t.nodeType===1&&(e="data-"+o.replace(/[A-Z]/g,"-$&").toLowerCase(),p=t.getAttribute(e),typeof p=="string"?(p=Ih(p),Vn.set(t,o,p)):p=void 0),p}function An(t){return typeof t!="string"?void 0:t.replace(/-/g,"").toLowerCase()}function Hs(t,o){return Object.prototype.hasOwnProperty.call(t,o)}function uc(t){let o=t||globalThis.location.hostname;return o==="localhost"||o==="127.0.0.1"||o==="[::1]"||o===""||o.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)!==null}function Dl(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function cc(t){let o=t||globalThis.location.hostname;return/(^localhost)|(^127\.)|(^192\.168\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2\d\.)|(^172\.3[0-1]\.)|(^::1$)|(^[fF][cCdD])/.test(o)}var yi=Element.prototype.matches,j=(t,o)=>new j.init(t,o);j.version="1.4.1",j.build_time="02.05.2025, 12:55:14",j.info=()=>console.info(`%c Dom %c v${j.version} %c ${j.build_time} `,"color: white; font-weight: bold; background: #fd6a02","color: white; background: darkgreen","color: white; background: #0080fe;"),j.fn=j.prototype=Object.create(Array.prototype),j.prototype.constructor=j,j.prototype.uid="",j.extend=j.fn.extend=function(){let t,o,p=arguments[0]||{},e=1,i=arguments.length;for(typeof p!="object"&&typeof p!="function"&&(p={}),e===i&&(p=this,e--);e<i;e++)if((t=arguments[e])!=null)for(o in t)Hs(t,o)&&(p[o]=t[o]);return p},j.assign=function(){let t,o,p=arguments[0]||{},e=1,i=arguments.length;for(typeof p!="object"&&typeof p!="function"&&(p={}),e===i&&(p=this,e--);e<i;e++)if((t=arguments[e])!=null)for(o in t)Hs(t,o)&&t[o]!==void 0&&(p[o]=t[o]);return p},function(t){try{let v=new Blob([`
            var fakeIdToId = {};
            onmessage = function (event) {
                var data = event.data,
                    name = data.name,
                    fakeId = data.fakeId,
                    time;
                if(data.hasOwnProperty('time')) {
                    time = data.time;
                }
                switch (name) {
                    case 'setInterval':
                        fakeIdToId[fakeId] = setInterval(function () {
                            postMessage({fakeId: fakeId});
                        }, time);
                        break;
                    case 'clearInterval':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearInterval(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                    case 'setTimeout':
                        fakeIdToId[fakeId] = setTimeout(function () {
                            postMessage({fakeId: fakeId});
                            if (fakeIdToId.hasOwnProperty (fakeId)) {
                                delete fakeIdToId[fakeId];
                            }
                        }, time);
                        break;
                    case 'clearTimeout':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearTimeout(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                }
            }
        `]);t=window.URL.createObjectURL(v)}catch{}let o,p={},e=0,i=2147483647,l="";function h(){do e===i?e=0:e++;while(p.hasOwnProperty(e));return e}if(!(typeof Worker>"u"))try{o=new Worker(t),window.setInterval=function(v,x){let w=h();return p[w]={callback:v,parameters:Array.prototype.slice.call(arguments,2)},o.postMessage({name:"setInterval",fakeId:w,time:x}),w},window.clearInterval=function(v){p.hasOwnProperty(v)&&(delete p[v],o.postMessage({name:"clearInterval",fakeId:v}))},window.setTimeout=function(v,x){let w=h();return p[w]={callback:v,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},o.postMessage({name:"setTimeout",fakeId:w,time:x}),w},window.clearTimeout=function(v){p.hasOwnProperty(v)&&(delete p[v],o.postMessage({name:"clearTimeout",fakeId:v}))},window.setImmediate=function(v){return setTimeout(v,0)},window.clearImmediate=function(v){clearTimeout(v)},o.onmessage=function(v){let x=v.data,w=x.fakeId,D,M,I;if(p.hasOwnProperty(w)&&(D=p[w],I=D.callback,M=D.parameters,D.hasOwnProperty("isTimeout")&&D.isTimeout&&delete p[w]),typeof I=="string")try{I=new Function(I)}catch(B){console.error(l+"Error parsing callback code string: ",B)}typeof I=="function"&&I.apply(window,M)},o.onerror=function(v){console.error(v)}}catch{console.log("Can't create worker for Intervals, use standard functions.")}}(),j.fn.extend({index:function(t){let o,p=-1;return this.length===0||(ot(t)?o=this[0]:t instanceof j&&t.length>0?o=t[0]:typeof t=="string"?o=j(t)[0]:o=void 0,ot(o))||o&&o.parentNode&&j.each(o.parentNode.children,function(e){this===o&&(p=e)}),p},indexOf:function(t){let o,p=-1;return this.length===0||(ot(t)?o=this[0]:t instanceof j&&t.length>0?o=t[0]:typeof t=="string"?o=j(t)[0]:o=void 0,ot(o))||this.each(function(e){this===o&&(p=e)}),p},get:function(t){return t===void 0?this.items():t<0?this[t+this.length]:this[t]},eq:function(t){return!ot(t)&&this.length>0?j.extend(j(this.get(t)),{_prevObj:this}):this},is:function(t){let o=!1;return this.length===0?!1:t instanceof j?this.same(t):(t===":selected"?this.each(function(){this.selected&&(o=!0)}):t===":checked"?this.each(function(){this.checked&&(o=!0)}):t===":visible"?this.each(function(){ja(this)&&(o=!0)}):t===":hidden"?this.each(function(){let p=getComputedStyle(this);(this.getAttribute("type")==="hidden"||this.hidden||p.display==="none"||p.visibility==="hidden"||parseInt(p.opacity)===0)&&(o=!0)}):typeof t=="string"&&[":selected"].indexOf(t)===-1?this.each(function(){yi.call(this,t)&&(o=!0)}):ys(t)?this.each(function(){let p=this;j.each(t,function(){p===this&&(o=!0)})}):typeof t=="object"&&t.nodeType===1&&this.each(function(){this===t&&(o=!0)}),o)},same:function(t){let o=!0;return t instanceof j||(t=j(t)),this.length!==t.length?!1:(this.each(function(){t.items().indexOf(this)===-1&&(o=!1)}),o)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){let t=this.filter(function(o,p){return p%2===0});return j.extend(t,{_prevObj:this})},even:function(){let t=this.filter(function(o,p){return p%2!==0});return j.extend(t,{_prevObj:this})},filter:function(t){if(typeof t=="string"){let o=t;t=function(p){return yi.call(p,o)}}return j.extend(j.merge(j(),[].filter.call(this,t)),{_prevObj:this})},find:function(t){let o=[],p;return t instanceof j?t:(this.length===0?p=this:(this.each(function(){let e=this;typeof e.querySelectorAll>"u"||(o=o.concat([].slice.call(e.querySelectorAll(t))))}),p=j.merge(j(),o)),j.extend(p,{_prevObj:this}))},contains:function(t){return this.find(t).length>0},children:function(t){let o,p=[];return t instanceof j?t:(this.each(function(){let e=this;for(o=0;o<e.children.length;o++)e.children[o].nodeType===1&&p.push(e.children[o])}),p=t?p.filter(function(e){return yi.call(e,t)}):p,j.extend(j.merge(j(),p),{_prevObj:this}))},parent:function(t){let o=[];if(this.length!==0)return t instanceof j?t:(this.each(function(){this.parentNode&&o.indexOf(this.parentNode)===-1&&o.push(this.parentNode)}),o=t?o.filter(function(p){return yi.call(p,t)}):o,j.extend(j.merge(j(),o),{_prevObj:this}))},parents:function(t){let o=[];if(this.length!==0)return t instanceof j?t:(this.each(function(){let p=this.parentNode;for(;p;)p.nodeType===1&&o.indexOf(p)===-1&&(ot(t)||yi.call(p,t))&&o.push(p),p=p.parentNode}),j.extend(j.merge(j(),o),{_prevObj:this}))},siblings:function(t){let o=[];if(this.length!==0)return t instanceof j?t:(this.each(function(){let p=this;p.parentNode&&j.each(p.parentNode.children,function(){p!==this&&o.push(this)})}),t&&(o=o.filter(function(p){return yi.call(p,t)})),j.extend(j.merge(j(),o),{_prevObj:this}))},_siblingAll:function(t,o){let p=[];if(this.length!==0)return o instanceof j?o:(this.each(function(){let e=this;for(;e&&(e=e[t],!!e);)p.push(e)}),o&&(p=p.filter(function(e){return yi.call(e,o)})),j.extend(j.merge(j(),p),{_prevObj:this}))},_sibling:function(t,o){let p=[];if(this.length!==0)return o instanceof j?o:(this.each(function(){let e=this[t];e&&e.nodeType===1&&p.push(e)}),o&&(p=p.filter(function(e){return yi.call(e,o)})),j.extend(j.merge(j(),p),{_prevObj:this}))},prev:function(t){return this._sibling("previousElementSibling",t)},next:function(t){return this._sibling("nextElementSibling",t)},prevAll:function(t){return this._siblingAll("previousElementSibling",t)},nextAll:function(t){return this._siblingAll("nextElementSibling",t)},closest:function(t){let o=[];if(this.length!==0)return t instanceof j?t:t?(this.each(function(){let p=this;for(;p&&p;){if(yi.call(p,t)){o.push(p);return}p=p.parentElement}}),j.extend(j.merge(j(),o.reverse()),{_prevObj:this})):this.parent(t)},has:function(t){let o=[];if(this.length!==0)return this.each(function(){j(this).children(t).length>0&&o.push(this)}),j.extend(j.merge(j(),o),{_prevObj:this})},back:function(t){let o;if(t===!0)for(o=this._prevObj;o&&o._prevObj;)o=o._prevObj;else o=this._prevObj?this._prevObj:this;return o}});function os(t,o=document.body){let p=document.createElement("script");if(p.type="text/javascript",ot(t))return j(p);let e=j(t)[0];return e.src?p.src=e.src:p.textContent=e.innerText,e.type&&(p.type=e.type),e.async&&(p.async=e.async),o.appendChild(p),e.parentNode&&e.parentNode.removeChild(e),p}j.extend({script:function(t,o){if(!ot(t))if(t instanceof j&&(t=t[0]),t.tagName&&t.tagName==="SCRIPT")os(t,o);else{let p=j(t).find("script");j.each(p,function(){os(this,o)})}},loadScript:function(t,o=document.body,p){let e=document.createElement("script");e.type="text/javascript",e.src=t,e.onload=p,o.appendChild(e)}}),j.fn.extend({script:function(t){return this.each(function(){j.script(this,t)})}}),j.fn.extend({_prop:function(t,o){return arguments.length===1?this.length===0?void 0:this[0][t]:(ot(o)&&(o=""),this.each(function(){let p=this;p[t]=o,t==="innerHTML"&&j.script(p,p)}))},prop:function(t,o){return arguments.length===1?this._prop(t):this._prop(t,typeof o>"u"?"":o)},val:function(t){return ot(t)?this.length===0?void 0:this[0].value:this.each(function(){let o=j(this);typeof this.value<"u"?this.value=t:o.html(t)})},html:function(t){let o=this,p=[];return arguments.length===0?this._prop("innerHTML"):(t instanceof j?t.each(function(){p.push(j(this).outerHTML())}):p.push(t),o._prop("innerHTML",p.join(`
`)),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(t){return arguments.length===0?this._prop("textContent"):this._prop("textContent",typeof t>"u"?"":t)},innerText:function(t){return arguments.length===0?this._prop("innerText"):this._prop("innerText",typeof t>"u"?"":t)},empty:function(){return this.each(function(){typeof this.innerHTML<"u"&&(this.innerHTML="")})},clear:function(){return this.empty()}}),j.each=function(t,o){let p=0;if(ys(t))[].forEach.call(t,function(e,i){o.apply(e,[i,e])});else for(let e in t)Hs(t,e)&&o.apply(t[e],[e,t[e],p++]);return t},j.fn.extend({each:function(t){return j.each(this,t)}});var $s=function(t){this.expando="DATASET:UID:"+t.toUpperCase(),$s.uid++};$s.uid=-1,$s.prototype={cache:function(t){let o=t[this.expando];return o||(o={},Nr(t)&&(t.nodeType?t[this.expando]=o:Object.defineProperty(t,this.expando,{value:o,configurable:!0}))),o},set:function(t,o,p){let e,i=this.cache(t);if(typeof o=="string")i[un(o)]=p;else for(e in o)Hs(o,e)&&(i[un(e)]=o[e]);return i},get:function(t,o){return o===void 0?this.cache(t):t[this.expando]&&t[this.expando][un(o)]},access:function(t,o,p){return o===void 0||o&&typeof o=="string"&&p===void 0?this.get(t,o):(this.set(t,o,p),p!==void 0?p:o)},remove:function(t,o){let p,e=t[this.expando];if(e!==void 0){if(o!==void 0)for(Array.isArray(o)?o=o.map(un):(o=un(o),o=o in e?[o]:o.match(/[^\x20\t\r\n\f]+/g)||[]),p=o.length;p--;)delete e[o[p]];return(o===void 0||da(e))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando]),!0}},hasData:function(t){let o=t[this.expando];return o!==void 0&&!da(o)}};var Vn=new $s("dom");j.extend({hasData:function(t){return Vn.hasData(t)},data:function(t,o,p){return Vn.access(t,o,p)},removeData:function(t,o){return Vn.remove(t,o)},dataSet:function(t){if(ot(t))return Vn;if(["INTERNAL","DOM"].indexOf(t.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new $s(t)}}),j.fn.extend({data:function(t,o){let p,e,i,l,h,v;if(this.length!==0){if(e=this[0],arguments.length===0){if(this.length&&(i=Vn.get(e),e.nodeType===1))for(l=e.attributes,v=l.length;v--;)l[v]&&(h=l[v].name,h.indexOf("data-")===0&&(h=un(h.slice(5)),lc(e,h,i[h])));return i}return arguments.length===1?(p=Vn.get(e,t),p===void 0&&e.nodeType===1&&e.hasAttribute("data-"+t)&&(p=e.getAttribute("data-"+t)),p):this.each(function(){Vn.set(this,t,o)})}},removeData:function(t){return this.each(function(){Vn.remove(this,t)})},origin:function(t,o,p){if(this.length===0)return this;if(ot(t)&&ot(o))return j.data(this[0]);if(ot(o)){let e=j.data(this[0],"origin-"+t);return ot(e)?p:e}return this.data("origin-"+t,o),this}}),j.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:uc(),isLocalhost:uc,touchable:Dl(),isPrivateAddress:cc,uniqueId:function(t){let o=new Date().getTime();return ot(t)&&(t="m4q"),(t!==""?t+"-":"")+"xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(p){let e=(o+Math.random()*16)%16|0;return o=Math.floor(o/16),(p==="x"?e:e&3|8).toString(16)})},toArray:function(t){let o,p=[];for(o=0;o<t.length;o++)p.push(t[o]);return p},import:function(t){let o=[];return this.each(t,function(){o.push(this)}),this.merge(j(),o)},merge:function(t,o){let p=+o.length,e=0,i=t.length;for(;e<p;e++)t[i++]=o[e];return t.length=i,t},type:function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)]$/,"$1").toLowerCase()},isSelector:function(t){if(typeof t!="string")return!1;try{return document.querySelector(t),!0}catch{return!1}},remove:function(t){return j(t).remove()},isPlainObject:as,isEmptyObject:da,isArrayLike:ys,acceptData:Nr,not:ot,parseUnit:zs,getUnit:kl,unit:zs,isVisible:ja,isHidden:wl,matches:function(t,o){return yi.call(t,o)},random:function(t,o){return arguments.length===1&&ys(t)?t[Math.floor(Math.random()*t.length)]:Math.floor(Math.random()*(o-t+1)+t)},hasProp:Hs,dark:globalThis.matchMedia&&globalThis.matchMedia("(prefers-color-scheme: dark)").matches,serializeToArray:function(t){let o=j(t)[0];if(!o||o.nodeName!=="FORM"){console.warn("Element is not a HTMLFromElement");return}let p,e,i=[];for(p=o.elements.length-1;p>=0;p=p-1)if(o.elements[p].name!=="")switch(o.elements[p].nodeName){case"INPUT":switch(o.elements[p].type){case"checkbox":case"radio":o.elements[p].checked&&i.push(o.elements[p].name+"="+encodeURIComponent(o.elements[p].value));break;case"file":break;default:i.push(o.elements[p].name+"="+encodeURIComponent(o.elements[p].value))}break;case"TEXTAREA":i.push(o.elements[p].name+"="+encodeURIComponent(o.elements[p].value));break;case"SELECT":switch(o.elements[p].type){case"select-one":i.push(o.elements[p].name+"="+encodeURIComponent(o.elements[p].value));break;case"select-multiple":for(e=o.elements[p].options.length-1;e>=0;e=e-1)o.elements[p].options[e].selected&&i.push(o.elements[p].name+"="+encodeURIComponent(o.elements[p].options[e].value));break}break;case"BUTTON":switch(o.elements[p].type){case"reset":case"submit":case"button":i.push(o.elements[p].name+"="+encodeURIComponent(o.elements[p].value));break}break}return i},serialize:function(t){return j.serializeToArray(t).join("&")},viewport:function(){let t=window,o=document,p=o.documentElement,e=o.getElementsByTagName("body")[0],i=t.innerWidth||p.clientWidth||e.clientWidth,l=t.innerHeight||p.clientHeight||e.clientHeight;return{width:i,height:l}}}),j.fn.extend({items:function(){return j.toArray(this)}});var Ua=Event.prototype.stopPropagation,Lh=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,Ua.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,Lh.apply(this,arguments)},Event.prototype.stop=function(t){return t?this.stopImmediatePropagation():this.stopPropagation()},j.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(t){let o,p=-1,e,i;if(this.events.length>0){for(o=0;o<this.events.length;o++)if(this.events[o].handler===null){p=o;break}}return e={element:t.el,event:t.event,handler:t.handler,selector:t.selector,ns:t.ns,id:t.id,options:t.options},p===-1?(this.events.push(e),i=this.events.length-1):(this.events[p]=e,i=p),i},getEventHandler:function(t){if(this.events[t]!==void 0&&this.events[t]!==null)return this.events[t]=null,this.events[t].handler},off:function(){return j.each(this.events,function(){this.element.removeEventListener(this.event,this.handler,!0)}),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(t,o,p="before"){return j.each(rs(t),function(){this.eventHooks[un(p+"-"+this)]=o}),this},removeEventHook:function(t,o="before"){return j.each(rs(t),function(){delete this.eventHooks[un(o+"-"+this)]}),this},removeEventHooks:function(t){let o=this;return ot(t)?this.eventHooks={}:j.each(rs(t),function(){delete o.eventHooks[un("before-"+this)],delete o.eventHooks[un("after-"+this)]}),this}}),j.fn.extend({on:function(t,o,p,e){if(this.length!==0)return typeof o=="function"&&(e=p,p=o,o=void 0),as(e)||(e={}),this.each(function(){let i=this;j.each(rs(t),function(){let l,h=this,v=h.split("."),x=An(v[0]),w=e.ns?e.ns:v[1],D,M;j.eventUID++,l=function(I){let B=I.target,Y=j.eventHooks[un("before-"+x)],X=j.eventHooks[un("after-"+x)];if(typeof Y=="function"&&Y.call(B,I),!o)p.call(i,I);else for(;B&&B!==i;){if(yi.call(B,o)&&(p.call(B,I),I.isPropagationStopped)){I.stopImmediatePropagation();break}B=B.parentNode}typeof X=="function"&&X.call(B,I),e.once&&(D=+j(i).origin("event-"+I.type+(o?":"+o:"")+(w?":"+w:"")),isNaN(D)||j.events.splice(D,1))},Object.defineProperty(l,"name",{value:p.name&&p.name!==""?p.name:"func_event_"+x+"_"+j.eventUID}),M=x+(o?":"+o:"")+(w?":"+w:""),i.addEventListener(x,l,da(e)?!1:e),D=j.setEventHandler({el:i,event:x,handler:l,selector:o,ns:w,id:j.eventUID,options:da(e)?!1:e}),j(i).origin("event-"+M,D)})})},one:function(t,o,p,e){return as(e)||(e={}),e.once=!0,this.on.apply(this,[t,o,p,e])},off:function(t,o,p){return as(o)&&(p=o,o=null),as(p)||(p={}),ot(t)||t.toLowerCase()==="all"?this.each(function(){let e=this;j.each(j.events,function(){let i=this;i.element===e&&(e.removeEventListener(i.event,i.handler,i.options),i.handler=null,j(e).origin("event-"+name+(i.selector?":"+i.selector:"")+(i.ns?":"+i.ns:""),null))})}):this.each(function(){let e=this;j.each(rs(t),function(){let i=this.split("."),l=An(i[0]),h=p.ns?p.ns:i[1],v,x;v="event-"+l+(o?":"+o:"")+(h?":"+h:""),x=j(e).origin(v),x!==void 0&&j.events[x].handler&&(e.removeEventListener(l,j.events[x].handler,j.events[x].options),j.events[x].handler=null),j(e).origin(v,null)})})},trigger:function(t,o){return this.fire(t,o)},fire:function(t,o){let p,e;if(this.length!==0)return p=An(t),["focus","blur"].indexOf(p)>-1?(this[0][p](),this):(e=new CustomEvent(p,{bubbles:!0,cancelable:!0,detail:o}),this.each(function(){this.dispatchEvent(e)}))}}),"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach(function(t){j.fn[t]=function(o,p,e){return arguments.length>0?this.on(t,o,p,e):this.fire(t)}}),j.fn.extend({hover:function(t,o){return this.mouseenter(t).mouseleave(o||t)}}),j.ready=function(t,o){document.addEventListener("DOMContentLoaded",t,o||!1)},j.load=function(t){return j(window).on("load",t)},j.unload=function(t){return j(window).on("unload",t)},j.fn.extend({unload:function(t){return this.length===0||this[0].self!==window?void 0:j.unload(t)}}),j.beforeunload=function(t){return typeof t=="string"?j(window).on("beforeunload",function(o){return o.returnValue=t,t}):j(window).on("beforeunload",t)},j.fn.extend({beforeunload:function(t){return this.length===0||this[0].self!==window?void 0:j.beforeunload(t)}}),j.fn.extend({ready:function(t){if(this.length&&this[0]===document&&typeof t=="function")return j.ready(t)}}),j.ajax=function(t){return new Promise(function(o,p){let e=new XMLHttpRequest,i=(t.method||"GET").toUpperCase(),l=[],h=ot(t.async)?!0:t.async,v=t.url,x,w=function(I,B){typeof I=="function"&&I.apply(null,B)},D=function(I){return["GET","JSON"].indexOf(I)!==-1},M=function(I){let B=[];return j.each(I,function(Y,X){let ie=Fh(X)?X:JSON.stringify(X);B.push(Y+"="+ie)}),B.join("&")};if(t.data instanceof HTMLFormElement){let I=t.data.getAttribute("action").trim(),B=t.data.getAttribute("method").trim();ot(v)&&I&&(v=I),B&&(i=B.toUpperCase())}if(t.timeout&&(e.timeout=t.timeout),t.withCredentials&&(e.withCredentials=t.withCredentials),t.data instanceof HTMLFormElement)x=j.serialize(t.data);else if(t.data instanceof HTMLElement&&t.data.getAttribute("type")&&t.data.getAttribute("type").toLowerCase()==="file"){let I=t.data.getAttribute("name");x=new FormData;for(let B=0;B<t.data.files.length;B++)x.append(I,t.data.files[B])}else as(t.data)?x=M(t.data):t.data instanceof FormData||typeof t.data=="string"?x=t.data:(x=new FormData,x.append("_data",JSON.stringify(t.data)));D(i)&&(v+=typeof x=="string"?"?"+x:da(x)?"":"?"+JSON.stringify(x)),e.open(i,v,h,t.user,t.password),t.headers&&j.each(t.headers,function(I,B){e.setRequestHeader(I,B),l.push(I)}),D(i)||l.indexOf("Content-type")===-1&&t.contentType!==!1&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(x),e.addEventListener("load",function(I){if(e.readyState===4&&e.status<300){let B=t.returnValue&&t.returnValue==="xhr"?e:e.response;if(t.parseJson)try{B=JSON.parse(B)}catch{B={}}w(o,[B]),w(t.onSuccess,[I,e])}else w(p,[e]),w(t.onFail,[I,e]);w(t.onLoad,[I,e])}),j.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],function(){let I=un("on-"+(this==="readystatechange"?"state":this));e.addEventListener(I,function(B){w(t[I],[B,e])})})})},["GET","POST","PUT","PATCH","DELETE","JSON"].forEach(function(t){j[t.toLowerCase()]=function(o,p,e){let i={method:t==="JSON"?"GET":t,url:o,data:p,parseJson:t==="JSON"};return j.ajax(j.extend({},i,e))}}),j.fn.extend({load:function(t,o,p){let e=this;return this.length&&this[0].self===window?j.load(t):j.get(t,o,p).then(function(i){e.each(function(){this.innerHTML=i})})}}),j.fn.extend({style:function(t,o){let p;function e(i,l,h){return["scrollLeft","scrollTop"].indexOf(l)>-1?j(i)[l]():getComputedStyle(i,h)[l]}if(!(typeof t=="string"&&this.length===0)){if(this.length===0)return this;if(p=this[0],ot(t)||t==="all")return getComputedStyle(p,o);{let i={},l=t.split(", ").map(function(h){return(""+h).trim()});return l.length===1?e(p,l[0],o):(j.each(l,function(){let h=this;i[this]=e(p,h,o)}),i)}}},removeStyleProperty:function(t){if(ot(t)||this.length===0)return this;let o=t.split(", ").map(function(p){return(""+p).trim()});return this.each(function(){let p=this;j.each(o,function(){p.style.removeProperty(this)})})},removeStyle:function(t){if(!t)return this;let o=rs(t,", ");return this.each(function(){let p=this;j.each(o,function(){p.style[this]=""})})},css:function(t,o){return t=t||"all",typeof t=="string"&&ot(o)?this.style(t):this.each(function(){let p=this;typeof t=="object"?j.each(t,function(e,i){Sl(p,e,i)}):typeof t=="string"&&Sl(p,t,o)})},cssVar:function(t,o){return ot(t)?this:ot(o)?getComputedStyle(this[0]).getPropertyValue("--"+t):this.each(function(){this.style.setProperty("--"+t,o)})}}),j.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(t){return this.hasClass(t)},hasClass:function(t){let o=!1,p=t.split(" ").filter(function(e){return(""+e).trim()!==""});return ot(t)?!1:(this.each(function(){let e=this;j.each(p,function(){!o&&e.classList&&e.classList.contains(this)&&(o=!0)})}),o)},clearClasses:function(){return this.each(function(){this.className=""})},cls:function(t=!1){return this.length===0?void 0:t?this[0].className.split(" "):this[0].className},removeClassBy:function(t){return this.each(function(){let o=j(this),p=o.cls(!0);j.each(p,function(){let e=this;e.indexOf(t)>-1&&o.removeClass(e)})})},classNames:function(){let t=Array.prototype.slice.call(arguments,0),o=[];return j.each(t,function(p,e){typeof e=="string"?o.push(e):as(e)?j.each(e,function(i,l){l&&o.push(i)}):Mh()}),this.each(function(){this.className+=" "+o.join(" ")})}}),["add","remove","toggle"].forEach(function(t){j.fn[t+"Class"]=function(o){let p=o?Array.isArray(o)?o:o.split(" ").filter(function(e){return!!e}):[];return p.length?this.each(function(){let e=this;typeof e.classList<"u"?j.each(p,function(i,l){e.classList[t](l)}):e.className+=p.join(" ")}):this}}),j.parseHTML=function(t){let o,p,e=[],i,l,h=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof t!="string")return[];if(t=t.trim(),i=document.implementation.createHTMLDocument(""),o=i.createElement("base"),o.href=document.location.href,i.head.appendChild(o),l=i.body,p=h.exec(t),p)e.push(document.createElement(p[1]));else{l.innerHTML=t;for(let v=0;v<l.childNodes.length;v++)e.push(l.childNodes[v])}return e},j.fn.extend({_size:function(t,o){if(this.length!==0){if(ot(o)){let p=this[0];if(t==="height")return p===window?window.innerHeight:p===document?p.body.clientHeight:parseInt(getComputedStyle(p).height);if(t==="width")return p===window?window.innerWidth:p===document?p.body.clientWidth:parseInt(getComputedStyle(p).width)}return this.each(function(){let p=this;p===window||p===document||(p.style[t]=isNaN(o)?o:o+"px")})}},height:function(t){return this._size("height",t)},width:function(t){return this._size("width",t)},_sizeOut:function(t,o){let p,e,i,l;if(this.length!==0)return!ot(o)&&typeof o!="boolean"?this.each(function(){let h=this;if(h===window||h===document)return;let v,x=getComputedStyle(h),w=t==="width"?parseInt(x["border-left-width"])+parseInt(x["border-right-width"]):parseInt(x["border-top-width"])+parseInt(x["border-bottom-width"]),D=t==="width"?parseInt(x["padding-left"])+parseInt(x["padding-right"]):parseInt(x["padding-top"])+parseInt(x["padding-bottom"]);v=j(this)[t](o)[t]()-w-D,h.style[t]=v+"px"}):(p=this[0],e=p[t==="width"?"offsetWidth":"offsetHeight"],i=getComputedStyle(p),l=e+parseInt(i[t==="width"?"margin-left":"margin-top"])+parseInt(i[t==="width"?"margin-right":"margin-bottom"]),o===!0?l:e)},outerWidth:function(t){return this._sizeOut("width",t)},outerHeight:function(t){return this._sizeOut("height",t)},padding:function(t){if(this.length===0)return;let o=getComputedStyle(this[0],t);return{top:parseInt(o["padding-top"]),right:parseInt(o["padding-right"]),bottom:parseInt(o["padding-bottom"]),left:parseInt(o["padding-left"])}},margin:function(t){if(this.length===0)return;let o=getComputedStyle(this[0],t);return{top:parseInt(o["margin-top"]),right:parseInt(o["margin-right"]),bottom:parseInt(o["margin-bottom"]),left:parseInt(o["margin-left"])}},border:function(t){if(this.length===0)return;let o=getComputedStyle(this[0],t);return{top:parseInt(o["border-top-width"]),right:parseInt(o["border-right-width"]),bottom:parseInt(o["border-bottom-width"]),left:parseInt(o["border-left-width"])}}}),j.fn.extend({offset:function(t){let o;return ot(t)?this.length===0?void 0:(o=this[0].getBoundingClientRect(),{top:o.top+scrollY,left:o.left+scrollX}):this.each(function(){let p=j(this),e=t.top,i=t.left,l=getComputedStyle(this).position,h=p.offset();l==="static"&&p.css("position","relative"),["absolute","fixed"].indexOf(l)===-1&&(e=e-h.top,i=i-h.left),p.css({top:e,left:i})})},position:function(t=!1){let o=0,p=0,e,i;if(this.length!==0)return e=this[0],i=getComputedStyle(e),t&&(o=parseInt(i["margin-left"]),p=parseInt(i["margin-top"])),{left:e.offsetLeft-o,top:e.offsetTop-p}},left:function(t,o){if(this.length!==0)return ot(t)?this.position(o).left:typeof t=="boolean"?(o=t,this.position(o).left):this.each(function(){j(this).css({left:t})})},top:function(t,o){if(this.length!==0)return ot(t)?this.position(o).top:typeof t=="boolean"?(o=t,this.position(o).top):this.each(function(){j(this).css({top:t})})},rect:function(){return this.length===0?void 0:this[0].getBoundingClientRect()},pos:function(){if(this.length===0)return;let t=this[0];return{top:parseInt(t.style("top")),left:parseInt(t.style("left"))}}}),j.fn.extend({attr:function(t,o){let p={};if(!(this.length===0&&arguments.length===0))return this.length&&arguments.length===0?(j.each(this[0].attributes,function(){p[this.nodeName]=this.nodeValue}),p):arguments.length===1&&typeof t=="string"?this.length&&this[0].nodeType===1&&this[0].hasAttribute(t)?this[0].getAttribute(t):void 0:this.each(function(){let e=this;as(t)?j.each(t,function(i,l){e.setAttribute(i,l)}):e.setAttribute(t,o)})},removeAttr:function(t){let o;return ot(t)?this.each(function(){let p=this;j.each(this.attributes,function(){p.removeAttribute(this)})}):(o=typeof t=="string"?t.split(",").map(function(p){return p.trim()}):t,this.each(function(){let p=this;j.each(o,function(){p.hasAttribute(this)&&p.removeAttribute(this)})}))},toggleAttr:function(t,o){return this.each(function(){let p=this;ot(o)?p.removeAttribute(t):p.setAttribute(t,o)})},id:function(t){return typeof t>"u"?this.length===1?j(this[0]).attr("id"):this.map(o=>j(o).attr("id")):this.each(function(){j(this).attr("id",t)})},title:function(t){return typeof t>"u"?this.length?j(this[0]).attr("title"):void 0:this.each(function(){j(this).attr("title",t)})},href:function(t){return typeof t>"u"?this.length&&this[0].tagName==="A"?this[0].href:void 0:this.each(function(){this.tagName==="A"&&(this.href=t)})},name:function(t){return typeof t>"u"?this.length&&this[0].name?this[0].name:void 0:this.each(function(){this.name&&(this.name=t)})},src:function(t){return typeof t>"u"?this.length&&this[0].src?this[0].src:void 0:this.each(function(){this.src&&(this.src=t)})}}),j.extend({meta:function(t){return ot(t)?j("meta"):j("meta[name='$name']".replace("$name",t))},metaBy:function(t){return ot(t)?j("meta"):j("meta[$name]".replace("$name",t))},doctype:function(){return j("doctype")},html:function(){return j("html")},head:function(){return j("html").find("head")},body:function(){return j("body")},document:function(){return j(document)},window:function(){return j(window)},charset:function(t){if(t){let o=j("meta[charset]");o.length>0&&o.attr("charset",t)}return document.characterSet},lang:function(t){if(t){let o=j("html");o.length>0&&o.attr("lang",t)}return document.documentElement.lang},title:function(t){if(typeof t>"u")return document.title;document.title=t}}),j.extend({bind:(t,o)=>t.bind(o)}),function(t){t.forEach(function(o){["append","prepend"].forEach(function(p){Hs(o,p)||Object.defineProperty(o,p,{configurable:!0,enumerable:!0,writable:!0,value:function(){let e=Array.prototype.slice.call(arguments),i=document.createDocumentFragment();e.forEach(function(l){let h=l instanceof Node;i.appendChild(h?l:document.createTextNode(String(l)))}),p==="prepend"?this.insertBefore(i,this.firstChild):this.appendChild(i)}})})})}([Element.prototype,Document.prototype,DocumentFragment.prototype]);var _s=function(t){let o;return typeof t=="string"?o=j.isSelector(t)?j(t):j.parseHTML(t):t instanceof HTMLElement?o=[t]:ys(t)&&(o=t),o};j.fn.extend({appendText:function(t){return this.each(function(o,p){p.innerHTML+=t})},prependText:function(t){return this.each(function(o,p){p.innerHTML=t+p.innerHTML})},append:function(t){let o=_s(t);return this.each(function(p,e){j.each(o,function(){if(e===this)return;let i=p===0?this:this.cloneNode(!0);i.tagName&&i.tagName==="SCRIPT"?j.script(i,e):e.append(i)})})},appendTo:function(t){let o=_s(t);return this.each(function(){let p=this;j.each(o,function(e,i){p!==this&&i.append(e===0?p:p.cloneNode(!0))})})},prepend:function(t){let o=_s(t);return this.each(function(p,e){j.each(o,function(){if(e===this)return;let i=p===0?this:this.cloneNode(!0);j.script(i),i.tagName&&i.tagName!=="SCRIPT"&&e.prepend(i)})})},prependTo:function(t){let o=_s(t);return this.each(function(){let p=this;j.each(o,function(e,i){p!==this&&j(i).prepend(e===0?p:p.cloneNode(!0))})})},insertBefore:function(t){let o=_s(t);return this.each(function(){let p=this;j.each(o,function(e){if(p===this)return;let i=this.parentNode;i&&i.insertBefore(e===0?p:p.cloneNode(!0),this)})})},insertAfter:function(t){let o=_s(t);return this.each(function(){let p=this;j.each(o,function(e,i){if(p===this)return;let l=this.parentNode;l&&l.insertBefore(e===0?p:p.cloneNode(!0),i.nextSibling)})})},after:function(t){return this.each(function(){let o=this;typeof t=="string"?o.insertAdjacentHTML("afterend",t):j(t).insertAfter(o)})},before:function(t){return this.each(function(){let o=this;typeof t=="string"?o.insertAdjacentHTML("beforebegin",t):j(t).insertBefore(o)})},clone:function(t,o){let p=[];return ot(t)&&(t=!1),ot(o)&&(o=!1),this.each(function(){let e=this.cloneNode(t),i=j(e),l;o&&j.hasData(this)&&(l=j(this).data(),j.each(l,function(h,v){i.data(h,v)})),p.push(e)}),j.merge(j(),p)},import:function(t){let o=[];return ot(t)&&(t=!1),this.each(function(){o.push(document.importNode(this,t))}),j.merge(j(),o)},adopt:function(){let t=[];return this.each(function(){t.push(document.adoptNode(this))}),j.merge(j(),t)},remove:function(t){let o=0,p,e,i=[];if(this.length!==0){for(e=t?this.filter(function(l){return yi.call(l,t)}):this.items();(p=e[o])!=null;o++)p.parentNode&&(i.push(p.parentNode.removeChild(p)),j.removeData(p));return j.merge(j(),i)}},wrap:function(t){if(this.length===0)return;let o=j(_s(t));if(!o.length)return;let p=[];return this.each(function(){let e,i;for(i=o.clone(!0,!0),i.insertBefore(this),e=i;e.children().length;)e=e.children().eq(0);e.append(this),p.push(i)}),j(p)},wrapAll:function(t){let o,p,e;if(this.length!==0&&(o=j(_s(t)),!!o.length)){for(p=o.clone(!0,!0),p.insertBefore(this[0]),e=p;e.children().length;)e=e.children().eq(0);return this.each(function(){e.append(this)}),p}},wrapInner:function(t){if(this.length===0)return;let o=j(_s(t));if(!o.length)return;let p=[];return this.each(function(){let e=j(this),i=e.html(),l=o.clone(!0,!0);e.html(l.html(i)),p.push(l)}),j(p)}}),j.extend({animation:{duration:1e3,ease:"linear",elements:{}}}),typeof window.setupAnimation=="object"&&j.each(window.setupAnimation,function(t,o){typeof j.animation[t]<"u"&&!ot(o)&&(j.animation[t]=o)});var Oh=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],Ph=["opacity","zIndex"],dc=["opacity","volume"],hc=["scrollLeft","scrollTop"],Bh=["opacity","volume"];function fc(t){return t instanceof HTMLElement||t instanceof SVGElement}function Nh(t,o){let p=/^(\*=|\+=|-=)/.exec(t);if(!p)return t;let e=kl(t)||0,i=parseFloat(o),l=parseFloat(t.replace(p[0],""));switch(p[0][0]){case"+":return i+l+e;case"-":return i-l+e;case"*":return i*l+e;case"/":return i/l+e}}function Rh(t,o,p){return typeof t[o]<"u"?hc.indexOf(o)>-1?o==="scrollLeft"?t===window?scrollX:t.scrollLeft:t===window?scrollY:t.scrollTop:t[o]||0:t.style[o]||getComputedStyle(t,p)[o]}function pc(t,o,p,e,i){ot(i)&&(i=!1),o=un(o),i&&(p=parseInt(p)),fc(t)?typeof t[o]<"u"?t[o]=p:t.style[o]=o==="transform"||o.toLowerCase().indexOf("color")>-1?p:p+e:t[o]=p}function zh(t,o,p){j.each(o,function(e,i){pc(t,e,i[0]+i[2]*p,i[3],i[4])})}function Tl(t){if(!fc(t))return{};let o=t.style.transform||"",p=/(\w+)\(([^)]*)\)/g,e={},i;for(;i=p.exec(o);)e[i[1]]=i[2];return e}function qa(t){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t||"#000000").slice(1).map(function(o){return parseInt(o,16)})}function Ya(t,o){return getComputedStyle(t)[o].replace(/[^\d.,]/g,"").split(",").map(function(p){return parseInt(p)})}function Hh(t,o,p){let e=[],i=Tl(t);j.each(o,function(l,h){let v=h[0],x=h[1],w=h[2],D=h[3];l=""+l,(l.indexOf("rotate")>-1||l.indexOf("skew")>-1)&&D===""&&(D="deg"),l.indexOf("scale")>-1&&(D=""),l.indexOf("translate")>-1&&D===""&&(D="px"),D==="turn"?e.push(l+"("+x*p+D+")"):e.push(l+"("+(v+w*p)+D+")")}),j.each(i,function(l,h){o[l]===void 0&&e.push(l+"("+h+")")}),t.style.transform=e.join(" ")}function $h(t,o,p){j.each(o,function(e,i){let l,h=[0,0,0],v;for(l=0;l<3;l++)h[l]=Math.floor(i[0][l]+i[2][l]*p);v="rgb("+h.join(",")+")",t.style[e]=v})}function mc(t){let o=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return t[0]==="#"&&t.length===4?"#"+t.replace(o,function(p,e,i,l){return e+e+i+i+l+l}):t[0]==="#"?t:"#"+t}function Ga(t,o,p){zh(t,o.props,p),Hh(t,o.transform,p),$h(t,o.color,p)}function Pi(t,o,p){let e={props:{},transform:{},color:{}},i,l,h,v,x,w,D=Tl(t);return ot(p)&&(p="normal"),j.each(o,function(M,I){let B=Oh.indexOf(""+M)>-1,Y=Ph.indexOf(""+M)>-1,X=(""+M).toLowerCase().indexOf("color")>-1;if(Array.isArray(I)&&I.length===1&&(I=I[0]),Array.isArray(I)?(l=X?qa(mc(I[0])):zs(I[0]),h=X?qa(mc(I[1])):zs(I[1])):(B?l=D[M]||M==="scale"?1:0:X?l=Ya(t,M):l=Rh(t,M,void 0),l=X?l:zs(l),h=X?qa(I):zs(Nh(I,Array.isArray(l)?l[0]:l))),Bh.indexOf(""+M)>-1&&l[0]===h[0]&&(l[0]=h[0]>0?0:1),p==="reverse"&&(w=l,l=h,h=w),x=t instanceof HTMLElement&&h[1]===""&&!Y&&!B?"px":h[1],X)for(v=[0,0,0],i=0;i<3;i++)v[i]=h[i]-l[i];else v=h[0]-l[0];B?e.transform[M]=[l[0],h[0],v,x]:X?e.color[M]=[l,h,v,x]:e.props[M]=[l[0],h[0],v,x,dc.indexOf(""+M)===-1]}),e}function gc(t,o,p){return Math.min(Math.max(t,o),p)}var Wn={linear:function(){return function(t){return t}}};Wn.default=Wn.linear;var ha={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){let o,p=4;for(;t<((o=Math.pow(2,--p))-1)/11;);return 1/Math.pow(4,3-p)-7.5625*Math.pow((o*3-2)/22-t,2)}},Elastic:function(t,o){ot(t)&&(t=1),ot(o)&&(o=.5);let p=gc(t,1,10),e=gc(o,.1,2);return function(i){return i===0||i===1?i:-p*Math.pow(2,10*(i-1))*Math.sin((i-1-e/(Math.PI*2)*Math.asin(1/p))*(Math.PI*2)/e)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach(function(t,o){ha[t]=function(){return function(p){return Math.pow(p,o+2)}}}),Object.keys(ha).forEach(function(t){let o=ha[t];Wn["easeIn"+t]=o,Wn["easeOut"+t]=function(p,e){return function(i){return 1-o(p,e)(1-i)}},Wn["easeInOut"+t]=function(p,e){return function(i){return i<.5?o(p,e)(i*2)/2:1-o(p,e)(i*-2+2)/2}}});var Vh={id:null,el:null,draw:{},dur:j.animation.duration,ease:j.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function Oo(t){return new Promise(function(o){let p=this,e=j.assign({},Vh,{dur:j.animation.duration,ease:j.animation.ease},t),i=e.id,l=e.el,h=e.draw,v=e.dur,x=e.ease,w=e.loop,D=e.onStart,M=e.onFrame,I=e.onDone,B=e.pause,Y=e.dir,X=e.defer,ie={},Fe="linear",Ve=[],He=Wn.linear,ze,De=Y==="alternate"?"normal":Y,Oe=!1,Me=i||+(performance.now()*Math.pow(10,14));if(ot(l))throw new Error("Unknown element!");if(typeof l=="string"&&(l=document.querySelector(l)),typeof h!="function"&&typeof h!="object")throw new Error("Unknown draw object. Must be a function or object!");v===0&&(v=1),Y==="alternate"&&typeof w=="number"&&(w*=2),typeof x=="string"?(ze=/\(([^)]+)\)/.exec(x),Fe=x.split("(")[0],Ve=ze?ze[1].split(",").map(function(Fi){return parseFloat(Fi)}):[],He=Wn[Fe]||Wn.linear):typeof x=="function"?He=x:He=Wn.linear,j.animation.elements[Me]={element:l,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};let Ie=function(){typeof h=="object"&&(ie=Pi(l,h,De)),typeof D=="function"&&D.apply(l),j.animation.elements[Me].loop+=1,j.animation.elements[Me].started=performance.now(),j.animation.elements[Me].duration=v,j.animation.elements[Me].id=requestAnimationFrame(Ot)},kt=function(){cancelAnimationFrame(j.animation.elements[Me].id),delete j.animation.elements[i],typeof I=="function"&&I.apply(l),o(p)},Ot=function(Fi){let mn,Si,{stop:Pn,pause:ps,started:Vi}=j.animation.elements[Me];if(j.animation.elements[Me].paused&&(Vi=Fi-j.animation.elements[Me].t*v,j.animation.elements[Me].started=Vi),Si=((Fi-Vi)/v).toFixed(4),Si>1&&(Si=1),Si<0&&(Si=0),mn=He.apply(null,Ve)(Si),j.animation.elements[Me].t=Si,j.animation.elements[Me].p=mn,ps){j.animation.elements[Me].id=requestAnimationFrame(Ot);return}if(Pn>0){Pn===2&&(typeof h=="function"?h.bind(l)(1,1):Ga(l,ie,1)),kt();return}typeof h=="function"?h.bind(l)(Si,mn):Ga(l,ie,mn),typeof M=="function"&&M.apply(l,[Si,mn]),Si<=1&&(j.animation.elements[Me].id=requestAnimationFrame(Ot)),Si>=1&&(w?(Y==="alternate"&&(De=De==="normal"?"reverse":"normal"),typeof w=="boolean"?setTimeout(function(){Ie()},B):w>j.animation.elements[Me].loop?setTimeout(function(){Ie()},B):kt()):Y==="alternate"&&!Oe?(De=De==="normal"?"reverse":"normal",Oe=!0,Ie()):kt())};X>0?setTimeout(function(){Ie()},X):Ie()})}function Ka(t,o){let p=j.animation.elements[t];typeof p>"u"||(ot(o)&&(o=!0),p.stop=o===!0?2:1,typeof p.onStop=="function"&&p.onStop.apply(p.element))}function El(t,o){j.each(j.animation.elements,function(p,e){o?typeof o=="string"?yi.call(e.element,o)&&Ka(p,t):o.length?j.each(o,function(){e.element===this&&Ka(p,t)}):o instanceof Element&&e.element===o&&Ka(p,t):Ka(p,t)})}function fa(t){let o=j.animation.elements[t];typeof o>"u"||(o.pause=1,o.paused=performance.now(),typeof o.onPause=="function"&&o.onPause.apply(o.element))}function Wh(t){j.each(j.animation.elements,function(o,p){t?typeof t=="string"?yi.call(p.element,t)&&fa(o):t.length?j.each(t,function(){p.element===this&&fa(o)}):t instanceof Element&&p.element===t&&fa(o):fa(o)})}function Xa(t){let o=j.animation.elements[t];typeof o>"u"||(o.pause=0,o.paused=0,typeof o.onResume=="function"&&o.onResume.apply(o.element))}function vc(t){j.each(j.animation.elements,function(o,p){t?typeof t=="string"?yi.call(p.element,t)&&Xa(o):t.length?j.each(t,function(){p.element===this&&Xa(o)}):t instanceof Element&&p.element===t&&Xa(o):Xa(o)})}var bc={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};function yc(t,o){let p=j.extend({},bc,o);if(typeof p.loop!="boolean"&&p.loop--,!Array.isArray(t))return console.warn("Chain array is not defined!"),!1;let e=function(i,l){return i.then(function(){return typeof p.onChainItem=="function"&&p.onChainItem(l),Oo(l).then(function(){typeof p.onChainItemComplete=="function"&&p.onChainItemComplete(l)})})};t.reduce(e,Promise.resolve()).then(function(){typeof p.onChainComplete=="function"&&p.onChainComplete(),p.loop&&yc(t,p)})}j.easing={},j.extend(j.easing,Wn),j.extend({animate:function(t){let o,p,e,i,l;return arguments.length>1?(o=j(arguments[0])[0],p=arguments[1],e=arguments[2]||j.animation.duration,i=arguments[3]||j.animation.ease,l=arguments[4],typeof e=="function"&&(l=e,i=j.animation.ease,e=j.animation.duration),typeof i=="function"&&(l=i,i=j.animation.ease),Oo({el:o,draw:p,dur:e,ease:i,onDone:l})):Oo(t)},chain:yc,stop:Ka,stopAll:El,resume:Xa,resumeAll:vc,pause:fa,pauseAll:Wh}),j.fn.extend({animate:function(t){let o=this,p,e,i,l,h=t,v;return v=!Array.isArray(t)&&(arguments.length>1||arguments.length===1&&typeof arguments[0].draw>"u"),v?(p=arguments[0],e=arguments[1]||j.animation.duration,i=arguments[2]||j.animation.ease,l=arguments[3],typeof e=="function"&&(l=e,e=j.animation.duration,i=j.animation.ease),typeof i=="function"&&(l=i,i=j.animation.ease),this.each(function(){return j.animate({el:this,draw:p,dur:e,ease:i,onDone:l})})):Array.isArray(t)?(j.each(t,function(){let x=this;o.each(function(){x.el=this,j.animate(x)})}),this):this.each(function(){h.el=this,j.animate(h)})},chain:function(t,o){return this.each(function(){let p=this;j.each(t,function(){this.el=p}),j.chain(t,o)})},stop:function(t){return this.each(function(){let o=this;j.each(j.animation.elements,function(p,e){e.element===o&&Ka(p,t)})})},pause:function(){return this.each(function(){let t=this;j.each(j.animation.elements,function(o,p){p.element===t&&fa(o)})})},resume:function(){return this.each(function(){let t=this;j.each(j.animation.elements,function(o,p){p.element===t&&Xa(o)})})}}),j.extend({hidden:function(t,o,p){return t=j(t)[0],typeof o=="string"&&(o=o.toLowerCase()==="true"),typeof o=="function"&&(p=o,o=!t.hidden),t.hidden=o,typeof p=="function"&&(j.bind(p,t),p.call(t,arguments)),this},hide:function(t,o){let p=j(t);t=p[0];let e=t.style.display,i=getComputedStyle(t,null).display;return p.origin("display",{inline:e,css:i}),t.style.display="none",typeof o=="function"&&(j.bind(o,t),o.call(t,arguments)),this},show:function(t,o){let p=j(t).origin("display");if(t=j(t)[0],t.style.display="",p){let e=p.inline||"",i=p.css||"";e&&e!=="none"?t.style.display=e:i==="none"&&(t.style.display="block")}else t.style.display="block";return parseInt(t.style.opacity)===0&&(t.style.opacity="1"),typeof o=="function"&&(j.bind(o,t),o.call(t,arguments)),this},visible:function(t,o,p){return o===void 0&&(o=!0),t.style.visibility=o?"visible":"hidden",typeof p=="function"&&(j.bind(p,t),p.call(t,arguments)),this},toggle:function(t,o){let p=getComputedStyle(t,null).display!=="none"?"hide":"show";return j[p](t,o)}}),j.fn.extend({hide:function(){let t;return j.each(arguments,function(){typeof this=="function"&&(t=this)}),this.each(function(){j.hide(this,t)})},show:function(){let t;return j.each(arguments,function(){typeof this=="function"&&(t=this)}),this.each(function(){j.show(this,t)})},visible:function(t,o){return this.each(function(){j.visible(this,t,o)})},toggle:function(t){return this.each(function(){j.toggle(this,t)})},hidden:function(t,o){return this.each(function(){j.hidden(this,t,o)})}}),j.extend({fx:{off:!1}}),j.fn.extend({fadeIn:function(t,o,p){return this.each(function(){let e=this,i=j(e),l=!(!ja(e)||ja(e)&&+i.style("opacity")==0);if(ot(t)&&ot(o)&&ot(p)?(p=null,t=j.animation.duration):typeof t=="function"&&(p=t,t=j.animation.duration),typeof o=="function"&&(p=o,o=j.animation.ease),j.fx.off&&(t=0),l)return typeof p=="function"&&j.bind(p,this)(),this;let h=i.origin("display",void 0,"block");return e.style.opacity="0",e.style.display=h,j.animate({el:e,draw:{opacity:1},dur:t,ease:o,onDone:function(){typeof p=="function"&&j.bind(p,this)()}})})},fadeOut:function(t,o,p){return this.each(function(){let e=this,i=j(e);return ot(t)&&ot(o)&&ot(p)?(p=null,t=j.animation.duration):typeof t=="function"&&(p=t,t=j.animation.duration),typeof o=="function"&&(p=o,o=j.animation.ease),i.origin("display",i.style("display")),ja(e)?j.animate({el:e,draw:{opacity:0},dur:t,ease:o,onDone:function(){this.style.display="none",typeof p=="function"&&j.bind(p,this)()}}):(typeof p=="function"&&j.bind(p,this)(),this)})},slideUp:function(t,o,p){return this.each(function(){let e=this,i=j(e),l;if(i.height()!==0)return ot(t)&&ot(o)&&ot(p)?(p=null,t=j.animation.duration):typeof t=="function"&&(p=t,t=j.animation.duration),typeof o=="function"&&(p=o,o=j.animation.ease),l=i.height(),i.origin("height",l),i.origin("display",j(e).style("display")),i.css({overflow:"hidden"}),j.animate({el:e,draw:{height:0},dur:t,ease:o,onDone:function(){i.hide().removeStyleProperty("overflow, height"),typeof p=="function"&&j.bind(p,this)()}})})},slideDown:function(t,o,p){return this.each(function(){let e=this,i=j(e),l,h;return ot(t)&&ot(o)&&ot(p)?(p=null,t=j.animation.duration):typeof t=="function"&&(p=t,t=j.animation.duration),typeof o=="function"&&(p=o,o=j.animation.ease),i.show().visible(!1),l=+i.origin("height",void 0,i.height()),parseInt(l)===0&&(l=e.scrollHeight),h=i.origin("display",i.style("display"),"block"),i.height(0).visible(!0),i.css({overflow:"hidden",display:h==="none"?"block":h}),j.animate({el:e,draw:{height:l},dur:t,ease:o,onDone:function(){j(e).removeStyleProperty("overflow, height, visibility"),typeof p=="function"&&j.bind(p,this)()}})})},moveTo:function(t,o,p,e,i){let l={top:o,left:t};return typeof p=="function"&&(i=p,p=j.animation.duration,e=j.animation.ease),typeof e=="function"&&(i=e,e=j.animation.ease),this.each(function(){j.animate({el:this,draw:l,dur:p,ease:e,onDone:i})})},centerTo:function(t,o,p,e,i){return typeof p=="function"&&(i=p,p=j.animation.duration,e=j.animation.ease),typeof e=="function"&&(i=e,e=j.animation.ease),this.each(function(){let l={left:t-this.clientWidth/2,top:o-this.clientHeight/2};j.animate({el:this,draw:l,dur:p,ease:e,onDone:i})})},colorTo:function(t,o,p,e){let i={color:t};return typeof o=="function"&&(e=o,o=j.animation.duration,p=j.animation.ease),typeof p=="function"&&(e=p,p=j.animation.ease),this.each(function(){j.animate({el:this,draw:i,dur:o,ease:p,onDone:e})})},backgroundTo:function(t,o,p,e){let i={backgroundColor:t};return typeof o=="function"&&(e=o,o=j.animation.duration,p=j.animation.ease),typeof p=="function"&&(e=p,p=j.animation.ease),this.each(function(){j.animate({el:this,draw:i,dur:o,ease:p,onDone:e})})},zoomIn:function(t,o,p){let e={scale:[0,1]};return typeof t=="function"&&(p=t,t=j.animation.duration,o=j.animation.ease),typeof o=="function"&&(p=o,o=j.animation.ease),this.each(function(){j.animate({el:this,draw:e,dur:t,ease:o,onDone:p})})},zoomOut:function(t=1e3,o="linear",p=()=>{}){return typeof t=="function"&&(p=t,t=j.animation.duration,o=j.animation.ease),typeof o=="function"&&(p=o,o=j.animation.ease),this.each(function(){j.animate({el:this,draw:{scale:0},dur:t,ease:o,onDone:p})})}}),j.extend({scrollTop:function(t){if(ot(t))return window.scrollY;window.scrollTo(window.scrollX,t)},scrollLeft:function(t){if(ot(t))return window.scrollX;window.scrollTo(t,window.scrollY)},scrollTo:function(t,o){window.scrollTo(t,o)},scrollToElement:function(t){j(t).scrollTo()}}),j.fn.extend({scrollTop:function(t){return ot(t)?this.length===0?void 0:this[0]===window?scrollY:this[0].scrollTop:this.each(function(){this.scrollTop=t})},scrollLeft:function(t){return ot(t)?this.length===0?void 0:this[0]===window?scrollX:this[0].scrollLeft:this.each(function(){this.scrollLeft=t})},scrollTo:function(t=!1){if(this.length===0)return this;let o=this[0].getBoundingClientRect(),p=o.left+(t?0:window.scrollX),e=o.top+(t?0:window.scrollY);return window.scrollTo(p,e),this}}),j.init=function(t,o){let p,e=this;if(typeof t=="string"&&(t=t.trim()),this.uid=j.uniqueId(),!t)return this;if(typeof t=="function")return j.ready(t);if(t instanceof Element)return this.push(t),this;if(t instanceof j)return j.each(t,function(){e.push(this)}),this;if(t==="window"&&(t=window),t==="document"&&(t=document),t==="body"&&(t=document.body),t==="html"&&(t=document.documentElement),t==="doctype"&&(t=document.doctype),t&&(t.nodeType||t.self===window))return this.push(t),this;if(ys(t))return j.each(t,function(){j(this).each(function(){e.push(this)})}),this;if(typeof t!="string"&&t.self&&t.self!==window)return this;if(t==="#"||t===".")return console.error("Selector can't be # or ."),this;if(t[0]==="@")j("[data-role]").each(function(){rs(j(this).attr("data-role"),",").indexOf(t.slice(1))>-1&&e.push(this)});else if(p=j.parseHTML(t),p.length===1&&p[0].nodeType===3)try{[].push.apply(this,document.querySelectorAll(t))}catch{}else j.merge(this,p);return o!==void 0&&(o instanceof j?this.each(function(){j(o).append(e)}):o instanceof HTMLElement?j(o).append(e):as(o)&&j.each(this,function(){for(let i in o)Hs(o,i)&&this.setAttribute(i,o[i])})),this},j.init.prototype=j.fn,globalThis.$=j,globalThis.Dom=j;var Ja={};a(Ja,{EVENTS:()=>Vs,info:()=>Ll,useClickOutside:()=>xs,useCompose:()=>Po,useCookie:()=>Al,useCurry:()=>_c,useDebounce:()=>ls,useEvent:()=>Ml,useId:()=>Cc,useInterval:()=>Il,useMediaQuery:()=>Za,useMemo:()=>us,usePipe:()=>wc,useQueue:()=>kc,useState:()=>Sc,useThrottle:()=>Dc,useToggle:()=>Rr});function xs(t,o){if(!t)return{attach:()=>{},detach:()=>{}};let p=e=>{t.contains(e.target)||o()};return{attach:()=>document.addEventListener("click",p),detach:()=>document.removeEventListener("click",p)}}function Po(...t){if(!t.every(o=>typeof o=="function"))throw new Error("useCompose: все аргументы должны быть функциями");switch(t.length){case 0:return o=>o;case 1:return t[0];case 2:{let[o,p]=t;return(...e)=>o(p(...e))}default:return function(...o){let p=t[t.length-1](...o);for(let e=t.length-2;e>=0;e--)p=t[e](p);return p}}}function Al(t){function o(){let i=document.cookie.match(new RegExp(`(?:^|; )${t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")}=([^;]*)`));return i?decodeURIComponent(i[1]):null}function p(i,l={}){l={path:"/",...l},document.cookie=`${t}=${encodeURIComponent(i)}; ${Object.keys(l).map(h=>`${h}=${l[h]}`).join("; ")}`}function e(){p("",{"max-age":-1})}return{get:o,set:p,delete:e}}function _c(t){if(typeof t!="function")throw new Error("useCurry: первый аргумент должен быть функцией");return function o(...p){return p.length>=t.length?t.apply(this,p):function(...e){return o.apply(this,p.concat(e))}}}function ls(t,o,p={}){if(typeof t!="function")throw new Error("useDebounce: первый аргумент должен быть функцией");if(o<0)throw new Error("useDebounce: время ожидания должно быть положительным числом");let e=null,i;function l(...h){let v=this,x=p.immediate&&!e;return e!==null&&clearTimeout(e),e=setTimeout(()=>{e=null,p.immediate||(i=t.apply(v,h))},o),x&&(i=t.apply(v,h)),i}return l.cancel=function(){e!==null&&(clearTimeout(e),e=null)},l}var Vs=(t=>(t.LOAD="load",t.VIEWPORT="viewport",t.ATTRIBUTE="attribute",t.CHILDREN="children",t.DATA="data",t))(Vs||{}),Ml=({event:t,root:o,target:p,effect:e})=>{let i=typeof p=="string"?document.querySelector(p):p;if(typeof e!="function")throw Error("Side effect must be a function!");if(!i)throw Error("Please specify a target element!");switch(t){case"load":{new MutationObserver((l,h)=>{let v=document.querySelector(p);v!==null&&(e(v),h.disconnect())}).observe(document.body,{childList:!0,subtree:!0});break}case"viewport":{let l={root:o instanceof HTMLElement?o:typeof o=="string"?document.querySelector(o):null,rootMargin:"0px",threshold:.5};new IntersectionObserver((h,v)=>{for(let x of h)x.isIntersecting&&e(i)},l).observe(i);break}case"attribute":{new MutationObserver(l=>{for(let h of l)h.target===i&&h.type==="attributes"&&e(i,h.attributeName,i.getAttribute(h.attributeName))}).observe(i,{attributes:!0});break}case"children":{new MutationObserver(l=>{for(let h of l)h.target===i&&h.type==="childList"&&e(i,h.addedNodes,h.removedNodes)}).observe(i,{childList:!0,subtree:!0});break}case"data":{new MutationObserver(l=>{for(let h of l)h.target===i&&h.type==="characterData"&&e(i,i.textContent)}).observe(i,{characterData:!0});break}default:i instanceof HTMLElement&&i.addEventListener(t,l=>{e(i,l)})}},Fl=new Map,xc=0;function jh(t){return t.replace(/[^a-zA-Z0-9_-]/g,"_")}function Cc(t,o={}){let p=t??Symbol("id-key"),{divider:e="-",prefix:i="id",forceNew:l=!1}=o;if(!l&&Fl.has(p))return Fl.get(p);let h=typeof document<"u",v=1e3,x=0,w=()=>{let M;return t instanceof HTMLElement?M=t.tagName.toLowerCase():typeof t=="object"&&t!==null?M="object":t!==void 0?M=jh(String(t)):M="generic",`${i}${e}${M}${e}${xc++}`},D=w();if(h)for(;document.getElementById(D);){if(x++>v)throw new Error("useId: не удалось сгенерировать уникальный ID после многочисленных попыток");D=w()}return Fl.set(p,D),D}function Il(t,o){let p=null;function e(){p||(p=window.setInterval(()=>t(),o))}function i(){p&&(window.clearInterval(p),p=null)}return{start:e,stop:i}}function Za(t){let o=window.matchMedia(t);function p(){return o.matches}let e=p();function i(){e=p()}return o.addEventListener("change",i),e}var us=(t,o={})=>{let p=new Map,{maxSize:e}=o,i=(...l)=>{let h=JSON.stringify(l);if(p.has(h))return p.get(h);let v=t(...l);if(e&&p.size>=e){let x=p.keys().next().value;p.delete(x)}return p.set(h,v),v};return i.clearCache=()=>(p.clear(),!0),i};function wc(...t){if(!t.every(o=>typeof o=="function"))throw new Error("usePipe: все аргументы должны быть функциями");switch(t.length){case 0:return o=>o;case 1:return t[0];case 2:{let[o,p]=t;return(...e)=>p(o(...e))}default:return function(...o){let p=t[0](...o);for(let e=1;e<t.length;e++)p=t[e](p);return p}}}function kc(){let t=[];return{enqueue:o=>(t.push(o),t.length),dequeue:()=>t.shift(),peek:()=>t[0]||null,size:()=>t.length,isEmpty:()=>t.length===0,clear:()=>{t.length=0}}}var pa=[],Uh=-1,qh=class{constructor(t){this.index=t}valueOf(){return pa[this.index].value}toString(){let t=pa[this.index].value;return String(t)}[Symbol.toPrimitive](t){let o=pa[this.index].value;return t==="number"&&typeof o=="number"?o:t==="string"?String(o):o}},Sc=(t,o)=>{let p=Uh++;return pa[p]||(pa[p]={value:t}),[new qh(p),e=>{let i=pa[p].value,l=typeof e=="function"?e(i):e;pa[p].value=l,typeof o=="function"&&o(l,i)}]};function Dc(t,o,p={}){if(typeof t!="function")throw new Error("useThrottle: первый аргумент должен быть функцией");if(o<0)throw new Error("useThrottle: время ожидания должно быть положительным числом");let e=null,i=null,l=null,h,v=null,{leading:x=!0,trailing:w=!0}=p;function D(){h=t.apply(l,i),i=l=null,v=Date.now()}function M(...I){let B=Date.now();!v&&!x&&(v=B);let Y=o-(B-v);return i=I,l=this,Y<=0||Y>o?(e&&(clearTimeout(e),e=null),D()):!e&&w&&(e=setTimeout(()=>{e=null,w&&i&&D()},Y)),h}return M.cancel=function(){e&&(clearTimeout(e),e=null),i=l=null,v=null},M}function Rr(t=!1){let o=t;return{get:()=>o,toggle:()=>(o=!o,o),set:p=>(o=p,o)}}var Tc="0.13.0",Ec="07.03.2025, 15:05:04",Ll=()=>{console.info(`%c Hooks %c v${Tc} %c ${Ec} `,"color: #ffffff; font-weight: bold; background: #5c2c05","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Hooks=Ja;var Bo=Object.defineProperty,Ac=(t,o)=>{for(var p in o)Bo(t,p,{get:o[p],enumerable:!0})},zr={};Ac(zr,{Primitives:()=>Mc,add:()=>Ei,brighten:()=>Yi,cmyk2rgb:()=>jr,cmyk2websafe:()=>Nl,colorDefaultProps:()=>Cs,colorToString:()=>zo,colorType:()=>qn,colorTypes:()=>Yt,create:()=>ga,createColor:()=>js,createColorScheme:()=>or,darken:()=>Gs,desaturate:()=>cn,equal:()=>Ro,expand:()=>Us,expandHexColor:()=>Bi,grayscale:()=>Ys,hex2hsv:()=>Kh,hex2rgb:()=>ws,hex2websafe:()=>Ur,hsl2hsv:()=>ba,hsl2websafe:()=>ar,hsv2hex:()=>Gh,hsv2hsl:()=>sr,hsv2rgb:()=>Yn,hsv2websafe:()=>Bl,hueShift:()=>Ic,isCMYK:()=>qs,isColor:()=>kn,isDark:()=>cs,isHEX:()=>Wr,isHSL:()=>ir,isHSLA:()=>Un,isHSV:()=>tr,isLight:()=>Vr,isRGB:()=>nr,isRGBA:()=>ds,lighten:()=>xa,mix:()=>sn,multiply:()=>Rl,parse:()=>Ca,parseColor:()=>Kn,random:()=>Xh,randomColor:()=>zl,rgb2cmyk:()=>Pl,rgb2hex:()=>va,rgb2hsv:()=>Ln,rgb2websafe:()=>Gn,rgba2websafe:()=>Fc,saturate:()=>rr,shade:()=>Lc,spin:()=>Ti,test:()=>No,toCMYK:()=>qr,toColor:()=>tn,toHEX:()=>nn,toHSL:()=>Ss,toHSLA:()=>_a,toHSV:()=>ya,toRGB:()=>si,toRGBA:()=>Mn,websafe:()=>ks});var qt=class{constructor(t=0,o=0,p=0){this.h=t,this.s=o,this.v=p}toString(){return"hsv("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.v*100)+"%"].join(", ")+")"}},Hr=class{constructor(t=0,o=0,p=0){this.h=t,this.s=(""+o).includes("%")?parseInt(o)/100:o,this.l=(""+p).includes("%")?parseInt(p)/100:p}toString(){return"hsl("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%"].join(", ")+")"}},Qa=class{constructor(t=0,o=0,p=0,e=0){this.h=t,this.s=(""+o).includes("%")?parseInt(o)/100:o,this.l=(""+p).includes("%")?parseInt(p)/100:p,this.a=e}toString(){return"hsla("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%",parseFloat(this.a).toFixed(2)].join(", ")+")"}},xn=class{constructor(t=0,o=0,p=0){this.r=t,this.g=o,this.b=p}toString(){return`rgb(${this.r},${this.g},${this.b})`}},ma=class{constructor(t=0,o=0,p=0,e=0){this.r=t,this.g=o,this.b=p,this.a=e}toString(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}},$r=class{constructor(t=0,o=0,p=0,e=0){this.c=t,this.m=o,this.y=p,this.k=e}toString(){return`cmyk(${this.c},${this.m},${this.y},${this.k})`}},Ws={aliceBlue:"#f0f8ff",antiqueWhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedAlmond:"#ffebcd",blue:"#0000ff",blueViolet:"#8a2be2",brown:"#a52a2a",burlyWood:"#deb887",cadetBlue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerBlue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkBlue:"#00008b",darkCyan:"#008b8b",darkGoldenRod:"#b8860b",darkGray:"#a9a9a9",darkGreen:"#006400",darkKhaki:"#bdb76b",darkMagenta:"#8b008b",darkOliveGreen:"#556b2f",darkOrange:"#ff8c00",darkOrchid:"#9932cc",darkRed:"#8b0000",darkSalmon:"#e9967a",darkSeaGreen:"#8fbc8f",darkSlateBlue:"#483d8b",darkSlateGray:"#2f4f4f",darkTurquoise:"#00ced1",darkViolet:"#9400d3",deepPink:"#ff1493",deepSkyBlue:"#00bfff",dimGray:"#696969",dodgerBlue:"#1e90ff",fireBrick:"#b22222",floralWhite:"#fffaf0",forestGreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostWhite:"#F8F8FF",gold:"#ffd700",goldenRod:"#daa520",gray:"#808080",green:"#008000",greenYellow:"#adff2f",honeyDew:"#f0fff0",hotPink:"#ff69b4",indianRed:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderBlush:"#fff0f5",lawnGreen:"#7cfc00",lemonChiffon:"#fffacd",lightBlue:"#add8e6",lightCoral:"#f08080",lightCyan:"#e0ffff",lightGoldenRodYellow:"#fafad2",lightGray:"#d3d3d3",lightGreen:"#90ee90",lightPink:"#ffb6c1",lightSalmon:"#ffa07a",lightSeaGreen:"#20b2aa",lightSkyBlue:"#87cefa",lightSlateGray:"#778899",lightSteelBlue:"#b0c4de",lightYellow:"#ffffe0",lime:"#00ff00",limeGreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumAquaMarine:"#66cdaa",mediumBlue:"#0000cd",mediumOrchid:"#ba55d3",mediumPurple:"#9370db",mediumSeaGreen:"#3cb371",mediumSlateBlue:"#7b68ee",mediumSpringGreen:"#00fa9a",mediumTurquoise:"#48d1cc",mediumVioletRed:"#c71585",midnightBlue:"#191970",mintCream:"#f5fffa",mistyRose:"#ffe4e1",moccasin:"#ffe4b5",navajoWhite:"#ffdead",navy:"#000080",oldLace:"#fdd5e6",olive:"#808000",oliveDrab:"#6b8e23",orange:"#ffa500",orangeRed:"#ff4500",orchid:"#da70d6",paleGoldenRod:"#eee8aa",paleGreen:"#98fb98",paleTurquoise:"#afeeee",paleVioletRed:"#db7093",papayaWhip:"#ffefd5",peachPuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderBlue:"#b0e0e6",purple:"#800080",rebeccaPurple:"#663399",red:"#ff0000",rosyBrown:"#bc8f8f",royalBlue:"#4169e1",saddleBrown:"#8b4513",salmon:"#fa8072",sandyBrown:"#f4a460",seaGreen:"#2e8b57",seaShell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyBlue:"#87ceeb",slateBlue:"#6a5acd",slateGray:"#708090",snow:"#fffafa",springGreen:"#00ff7f",steelBlue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whiteSmoke:"#f5f5f5",yellow:"#ffff00",yellowGreen:"#9acd32"},Ol={lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},Yh={color:function(t,o=Ws,p=void 0){return o[t]!==void 0?o[t]:p},palette:function(t=Ws){return Object.keys(t)},colors:function(t=Ws){return Object.values(t)}},Mc={HSV:qt,HSL:Hr,HSLA:Qa,RGB:xn,RGBA:ma,CMYK:$r},Yt={HEX:"hex",RGB:"rgb",RGBA:"rgba",HSV:"hsv",HSL:"hsl",HSLA:"hsla",CMYK:"cmyk",UNKNOWN:"unknown"},Cs={angle:30,algorithm:1,step:.1,distance:5,tint1:.8,tint2:.4,shade1:.6,shade2:.3,alpha:1,baseLight:"#ffffff",baseDark:"self"};function er(t,o){let p;switch(o){case"hex":p=t.map(function(e){return nn(e)});break;case"rgb":p=t.map(function(e){return si(e)});break;case"rgba":p=t.map(function(e){return Mn(e,opt.alpha)});break;case"hsl":p=t.map(function(e){return Ss(e)});break;case"hsla":p=t.map(function(e){return _a(e,opt.alpha)});break;case"cmyk":p=t.map(function(e){return qr(e)});break;default:p=t}return p}function jn(t,o,p){return Math.max(o,Math.min(t,p))}function Cn(t,o,p){return t<o?o:t>p?p:t}function wn(t,o){for(t+=o;t>=360;)t-=360;for(;t<0;)t+=360;return t}var No=t=>{let o=x=>/^#([A-Fa-f0-9]{3}){1,2}$/.test(x),p=x=>/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(x),e=x=>/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(x),i=x=>/^hsv\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(x),l=x=>/^hsl\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(x),h=x=>/^hsla\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(x),v=x=>/^cmyk\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(x);return o(t)||p(t)||i(t)||h(t)||h(t)||e(t)||l(t)||v(t)},js=(t="hex",o="#000000")=>{let p;return typeof o=="string"&&(p=Kn(o)),kn(p)||(p="#000000"),tn(p,t.toLowerCase())},ga=js,Bi=function(t){if(kn(t)&&typeof t!="string")return t;if(typeof t!="string")throw new Error("Value is not a string!");if(t[0]==="#"&&t.length===4){let o=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return"#"+t.replace(o,(p,e,i,l)=>e+e+i+i+l+l)}return t[0]==="#"?t:"#"+t},Us=Bi,cs=t=>{if(t=Kn(t),!kn(t))return;let o=si(t);return(o.r*299+o.g*587+o.b*114)/1e3<128},Vr=t=>!cs(t),tr=t=>Kn(t)instanceof qt,ir=t=>Kn(t)instanceof Hr,Un=t=>Kn(t)instanceof Qa,nr=t=>Kn(t)instanceof xn,ds=t=>Kn(t)instanceof ma,qs=t=>Kn(t)instanceof $r,Wr=t=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t),kn=t=>t?typeof t=="string"?No(t):Wr(t)||nr(t)||ds(t)||tr(t)||ir(t)||Un(t)||qs(t):!1,qn=t=>Wr(t)?Yt.HEX:nr(t)?Yt.RGB:ds(t)?Yt.RGBA:tr(t)?Yt.HSV:ir(t)?Yt.HSL:Un(t)?Yt.HSLA:qs(t)?Yt.CMYK:Yt.UNKNOWN,Ro=(t,o)=>!kn(t)||!kn(o)?!1:nn(t)===nn(o),zo=t=>t.toString(),ws=t=>{let o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Bi(t)),p=[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)];return o?new xn(...p):null},va=t=>"#"+((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).slice(1),Ln=t=>{let o=new qt,p,e,i,l=t.r/255,h=t.g/255,v=t.b/255,x=Math.max(l,h,v),w=Math.min(l,h,v),D=x-w;return i=x,x===0?e=0:e=1-w/x,x===w?p=0:x===l&&h>=v?p=60*((h-v)/D):x===l&&h<v?p=60*((h-v)/D)+360:x===h?p=60*((v-l)/D)+120:x===v?p=60*((l-h)/D)+240:p=0,o.h=p,o.s=e,o.v=i,o},Yn=t=>{let o,p,e,i=t.h,l=t.s*100,h=t.v*100,v=Math.floor(i/60),x=(100-l)*h/100,w=(h-x)*(i%60/60),D=x+w,M=h-w;switch(v){case 0:o=h,p=D,e=x;break;case 1:o=M,p=h,e=x;break;case 2:o=x,p=h,e=D;break;case 3:o=x,p=M,e=h;break;case 4:o=D,p=x,e=h;break;case 5:o=h,p=x,e=M;break}return new xn(Math.round(o*255/100),Math.round(p*255/100),Math.round(e*255/100))},Gh=t=>va(Yn(t)),Kh=t=>Ln(ws(t)),Pl=t=>{let o=new $r,p=t.r/255,e=t.g/255,i=t.b/255;return o.k=Math.min(1-p,1-e,1-i),o.c=1-o.k===0?0:(1-p-o.k)/(1-o.k),o.m=1-o.k===0?0:(1-e-o.k)/(1-o.k),o.y=1-o.k===0?0:(1-i-o.k)/(1-o.k),o.c=Math.round(o.c*100),o.m=Math.round(o.m*100),o.y=Math.round(o.y*100),o.k=Math.round(o.k*100),o},jr=t=>{let o=Math.floor(255*(1-t.c/100)*(1-t.k/100)),p=Math.ceil(255*(1-t.m/100)*(1-t.k/100)),e=Math.ceil(255*(1-t.y/100)*(1-t.k/100));return new xn(o,p,e)},sr=t=>{let o,p,e,i;return o=parseInt(t.h),e=(2-t.s)*t.v,p=t.s*t.v,e===0?p=0:(i=e<=1?e:2-e,i===0?p=0:p/=i),e/=2,Number.isNaN(p)&&(p=0),Number.isNaN(e)&&(e=0),new Hr(o,p,e)},ba=t=>{let o,p,e,i;return o=t.h,i=t.l*2,p=t.s*(i<=1?i:2-i),e=(i+p)/2,i+p===0?p=0:p=2*p/(i+p),new qt(o,p,e)},Gn=t=>new xn(Math.round(t.r/51)*51,Math.round(t.g/51)*51,Math.round(t.b/51)*51),Fc=t=>{let o=Gn(t);return new ma(o.r,o.g,o.b,t.a)},Ur=t=>va(Gn(ws(t))),Bl=t=>Ln(Gn(si(t))),ar=t=>sr(Ln(Gn(si(t)))),Nl=t=>Pl(Gn(jr(t))),ks=t=>Wr(t)?Ur(t):nr(t)?Gn(t):ds(t)?Fc(t):tr(t)?Bl(t):ir(t)?ar(t):qs(t)?Nl(t):t,tn=(t,o="rgb",p=1)=>{let e;switch(o.toLowerCase()){case"hex":e=nn(t);break;case"rgb":e=si(t);break;case"rgba":e=Mn(t,p);break;case"hsl":e=Ss(t);break;case"hsla":e=_a(t,p);break;case"hsv":e=ya(t);break;case"cmyk":e=qr(t);break;default:e=t}return e},nn=t=>typeof t=="string"&&t[0]==="#"?Bi(t):va(si(Ca(t))),si=t=>{if(nr(t))return t;if(ds(t))return new xn(t.r,t.g,t.b);if(tr(t))return Yn(t);if(ir(t)||Un(t))return Yn(ba(t));if(Wr(t))return ws(t);if(qs(t))return jr(t);throw new Error("Unknown color format!")},Mn=(t,o=1)=>{if(ds(t))return o&&(t.a=o),t;let p=si(t);return new ma(p.r,p.g,p.b,typeof t.a<"u"?t.a:o)},ya=t=>Ln(si(t)),Ss=t=>sr(Ln(si(t))),_a=(t,o=1)=>{if(Un(t))return o&&(t.a=o),t;let p=sr(Ln(si(t)));return p.a=typeof t.a<"u"?t.a:o,new Qa(p.h,p.s,p.l,p.a)},qr=t=>Pl(si(t)),Ys=t=>{let o=si(t),p=qn(t).toLowerCase(),e=Math.round(o.r*.2125+o.g*.7154+o.b*.0721),i=new xn(e,e,e);return tn(i,p)},Gs=(t,o=10)=>xa(t,-1*Math.abs(o)),xa=(t,o=10)=>{let p,e,i=o>0,l=function(h,v){let x,w,D,M=h.slice(1),I=parseInt(M,16);return x=(I>>16)+v,x>255?x=255:x<0&&(x=0),D=(I>>8&255)+v,D>255?D=255:D<0&&(D=0),w=(I&255)+v,w>255?w=255:w<0&&(w=0),"#"+(w|D<<8|x<<16).toString(16)};p=qn(t).toLowerCase(),p===Yt.RGBA&&t.a;do e=l(nn(t),o),i?o--:o++;while(e.length<7);return tn(e,p)},Ic=(t,o,p=1)=>{let e=ya(t),i=qn(t).toLowerCase(),l=e.h;for(l+=o;l>=360;)l-=360;for(;l<0;)l+=360;return e.h=l,tn(e,i,p)},sn=(t,o,p)=>{p=p===0?0:p||50;let e=new xn(0,0,0),i=si(t),l=si(o),h=p/100;return e.r=Math.round((l.r-i.r)*h+i.r),e.g=Math.round((l.g-i.g)*h+i.g),e.b=Math.round((l.b-i.b)*h+i.b),nn(e)},Rl=(t,o)=>{let p=si(t),e=si(o),i=new xn;return p.b=Math.floor(p.b*e.b/255),p.g=Math.floor(p.g*e.g/255),p.r=Math.floor(p.r*e.r/255),nn(i)},Lc=(t,o)=>{if(!kn(t))throw new Error(t+" is not a valid color value!");o/=100;let p=qn(t).toLowerCase(),e=si(t),i=o<0?0:255,l=o<0?o*-1:o,h,v,x,w;return h=Math.round((i-e.r)*l)+e.r,v=Math.round((i-e.g)*l)+e.g,x=Math.round((i-e.b)*l)+e.b,(p===Yt.RGBA||p===Yt.HSLA)&&(w=t.a),tn(new xn(h,v,x),p,w)},rr=(t,o)=>{let p,e,i;if(!kn(t))throw new Error(t+" is not a valid color value!");return p=Ss(t),p.s+=o/100,p.s=jn(0,1,p.s),e=qn(t).toLowerCase(),(e===Yt.RGBA||e===Yt.HSLA)&&(i=t.a),tn(p,e,i)},cn=(t,o)=>{let p,e,i;if(!kn(t))throw new Error(t+" is not a valid color value!");return p=Ss(t),p.s-=o/100,p.s=jn(p.s),e=qn(t).toLowerCase(),(e===Yt.RGBA||e===Yt.HSLA)&&(i=t.a),tn(p,e,i)},Ti=(t,o)=>{let p,e,i,l;if(!kn(t))throw new Error(t+" is not a valid color value!");return p=Ss(t),l=(p.h+o)%360,p.h=l<0?360+l:l,e=qn(t).toLowerCase(),(e===Yt.RGBA||e===Yt.HSLA)&&(i=t.a),tn(p,e,i)},Yi=(t,o)=>{let p,e,i;if(!kn(t))throw new Error(t+" is not a valid color value!");return p=si(t),p.r=Math.max(0,Math.min(255,p.r-Math.round(255*-(o/100)))),p.g=Math.max(0,Math.min(255,p.g-Math.round(255*-(o/100)))),p.b=Math.max(0,Math.min(255,p.b-Math.round(255*-(o/100)))),e=qn(t).toLowerCase(),(e===Yt.RGBA||e===Yt.HSLA)&&(i=t.a),tn(p,e,i)},Ei=(t,o,p)=>{let e=Ca(t),i=Ca(o),l=Mn(e,void 0),h=Mn(i,void 0),v=new ma;return(""+p).toLowerCase(),v.r=Math.round((l.r+h.r)/2),v.g=Math.round((l.g+h.g)/2),v.b=Math.round((l.b+h.b)/2),v.a=Math.round((l.a+h.a)/2),tn(v,p,v.a)},or=(t,o,p=Yt.HEX,e)=>{let i=Object.assign({},Cs,e),l,h=[],v,x,w,D,M;if(v=ya(t),tr(v)===!1)return console.warn("The value is a not supported color format!"),!1;switch(w=v.h,D=v.s,M=v.v,o){case"monochromatic":case"mono":{if(i.algorithm===1)x=Yn(v),x.r=Cn(Math.round(x.r+(255-x.r)*i.tint1),0,255),x.g=Cn(Math.round(x.g+(255-x.g)*i.tint1),0,255),x.b=Cn(Math.round(x.b+(255-x.b)*i.tint1),0,255),h.push(Ln(x)),x=Yn(v),x.r=Cn(Math.round(x.r+(255-x.r)*i.tint2),0,255),x.g=Cn(Math.round(x.g+(255-x.g)*i.tint2),0,255),x.b=Cn(Math.round(x.b+(255-x.b)*i.tint2),0,255),h.push(Ln(x)),h.push(v),x=Yn(v),x.r=Cn(Math.round(x.r*i.shade1),0,255),x.g=Cn(Math.round(x.g*i.shade1),0,255),x.b=Cn(Math.round(x.b*i.shade1),0,255),h.push(Ln(x)),x=Yn(v),x.r=Cn(Math.round(x.r*i.shade2),0,255),x.g=Cn(Math.round(x.g*i.shade2),0,255),x.b=Cn(Math.round(x.b*i.shade2),0,255),h.push(Ln(x));else if(i.algorithm===2)for(h.push(v),l=1;l<=i.distance;l++)M=jn(M-i.step,0,1),D=jn(D-i.step,0,1),h.push({h:w,s:D,v:M});else if(i.algorithm===3)for(h.push(v),l=1;l<=i.distance;l++)M=jn(M-i.step,0,1),h.push({h:w,s:D,v:M});else M=jn(v.v+i.step*2,0,1),h.push({h:w,s:D,v:M}),M=jn(v.v+i.step,0,1),h.push({h:w,s:D,v:M}),h.push(v),D=v.s,M=v.v,M=jn(v.v-i.step,0,1),h.push({h:w,s:D,v:M}),M=jn(v.v-i.step*2,0,1),h.push({h:w,s:D,v:M});break}case"complementary":case"complement":case"comp":{h.push(v),w=wn(v.h,180),h.push(new qt(w,D,M));break}case"double-complementary":case"double-complement":case"double":{h.push(v),w=wn(w,180),h.push(new qt(w,D,M)),w=wn(w,i.angle),h.push(new qt(w,D,M)),w=wn(w,180),h.push(new qt(w,D,M));break}case"analogous":case"analog":{w=wn(w,i.angle),h.push(new qt(w,D,M)),h.push(v),w=wn(v.h,0-i.angle),h.push(new qt(w,D,M));break}case"triadic":case"triad":{for(h.push(v),l=1;l<3;l++)w=wn(w,120),h.push(new qt(w,D,M));break}case"tetradic":case"tetra":{h.push(v),w=wn(v.h,180),h.push(new qt(w,D,M)),w=wn(v.h,-1*i.angle),h.push(new qt(w,D,M)),w=wn(w,180),h.push(new qt(w,D,M));break}case"square":{for(h.push(v),l=1;l<4;l++)w=wn(w,90),h.push(new qt(w,D,M));break}case"split-complementary":case"split-complement":case"split":{w=wn(w,180-i.angle),h.push(new qt(w,D,M)),h.push(v),w=wn(v.h,180+i.angle),h.push(new qt(w,D,M));break}case"material":{var I=i.baseLight,B=i.baseDark==="self"||!i.baseDark?Rl(t,t):i.baseDark;h.push({50:sn(I,t,10),100:sn(I,t,30),200:sn(I,t,50),300:sn(I,t,70),400:sn(I,t,85),500:sn(I,t,100),600:sn(B,t,92),700:sn(B,t,83),800:sn(B,t,74),900:sn(B,t,65),A100:xa(rr(sn(B,t,15),80),65),A200:xa(rr(sn(B,t,15),80),55),A400:xa(rr(sn(I,t,100),55),10),A700:xa(rr(sn(B,t,83),65),10)});break}default:console.error("Unknown scheme name")}return o==="material"?h[0]:er(h,p)},Kn=function(t){let o=(""+t).toLowerCase();typeof Ws[o]<"u"&&(o=Ws[o]),typeof Ol[o]<"u"&&(o=Ol[o]);let p=o.replace(/[^\d.,%]/g,"").split(",").map(e=>isNaN(e)?e:+e);return o[0]==="#"?Bi(o):o.includes("rgba")?new ma(p[0],p[1],p[2],p[3]):o.includes("rgb")?new xn(p[0],p[1],p[2]):o.includes("cmyk")?new $r(p[0],p[1],p[2],p[3]):o.includes("hsv")?new qt(p[0],p[1],p[2]):o.includes("hsla")?new Qa(p[0],p[1],p[2],p[3]):o.includes("hsl")?new Hr(p[0],p[1],p[2]):o},Ca=Kn,zl=(t="hex",o=1)=>{let p=(v,x)=>Math.floor(v+Math.random()*(x+1-v)),e,i,l,h;return i=p(0,255),l=p(0,255),h=p(0,255),e="#"+((1<<24)+(i<<16)+(l<<8)+h).toString(16).slice(1),t==="hex"?e:tn(e,t,o)},Xh=zl,Oc=class{_setValue(t){t||(t="#000000"),typeof t=="string"&&(t=Kn(t)),t&&kn(t)?this._value=t:this._value=void 0}_setOptions(t){this._options=Object.assign({},Cs,t)}constructor(t="#000000",o=null){this._setValue(t),this._setOptions(o)}get options(){return this._options}set options(t){this._setOptions(t)}get value(){return this._value?this._value:void 0}set value(t){this._setValue(t)}toRGB(){if(this._value)return this._value=si(this._value),this}get rgb(){return this._value?si(this._value):void 0}toRGBA(t){if(this._value)return ds(this._value)?t&&(this._value=Mn(this._value,t)):this._value=Mn(this._value,t||Cs.alpha),this}get rgba(){return this._value?ds(this._value)?this._value:Mn(this._value,this._options.alpha):void 0}toHEX(){if(this._value)return this._value=nn(this._value),this}get hex(){return this._value?nn(this._value):void 0}toHSV(){if(this._value)return this._value=ya(this._value),this}get hsv(){return this._value?ya(this._value):void 0}toHSL(){if(this._value)return this._value=Ss(this._value),this}get hsl(){return this._value?Ss(this._value):void 0}toHSLA(t){if(this._value)return Un(this._value)?t&&(this._value=_a(this._value,t)):this._value=_a(this._value,t),this}get hsla(){return this._value?Un(this._value)?this._value:_a(this._value,this._options.alpha):void 0}toCMYK(){if(this._value)return this._value=qr(this._value),this}get cmyk(){return this._value?qr(this._value):void 0}toWebsafe(){if(this._value)return this._value=ks(this._value),this}get websafe(){return this._value?ks(this._value):void 0}toString(){return this._value?zo(this._value):void 0}darken(t=10){if(this._value)return this._value=Gs(this._value,t),this}lighten(t=10){if(this._value)return this._value=xa(this._value,t),this}isDark(){return this._value?cs(this._value):void 0}isLight(){return this._value?Vr(this._value):void 0}hueShift(t){if(this._value)return this._value=Ic(this._value,t),this}grayscale(){if(!(!this._value||this.type===Yt.UNKNOWN))return this._value=Ys(this._value,(""+this.type).toLowerCase()),this}get type(){return qn(this._value)}getScheme(t,o,p){return this._value?or(this._value,t,o,p):void 0}equal(t){return Ro(this._value,t)}random(t,o){this._value=zl(t,o)}channel(t,o){let p=this.type;return["red","green","blue"].includes(t)&&(this.toRGB(),this._value[["red","green","blue"].indexOf(t)]=o,this["to"+p]()),t==="alpha"&&this._value.a&&(this._value.a=o),["hue","saturation","value"].includes(t)&&(this.toHSV(),this._value[["hue","saturation","value"].indexOf(t)]=o,this["to"+p]()),["lightness"].includes(t)&&(this.toHSL(),this._value[2]=o,this["to"+p]()),["cyan","magenta","yellow","black"].includes(t)&&(this.toCMYK(),this._value[["cyan","magenta","yellow","black"].indexOf(t)]=o,this["to"+p]()),this}add(t){this._setValue(Ei(this._value,t))}mix(t,o){this._setValue(sn(this._value,t,o))}multiply(t){this._setValue(Rl(this._value,t))}shade(t){this._setValue(Lc(this._value,t))}saturate(t){this._setValue(rr(this._value,t))}desaturate(t){this._setValue(cn(this._value,t))}spin(t){this._setValue(Ti(this._value,t))}brighten(t){this._setValue(Yi(this._value,t))}},Hl={...Mc},Pc="1.0.4",$l="11.08.2024, 23:47:03",Jh=()=>{console.info(`%c Farbe %c v${Pc} %c ${$l} `,"color: #ffffff; font-weight: bold; background: #ff00ff","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Farbe=Oc,globalThis.farbe=t=>new Oc(t),globalThis.Farbe.Routines=zr,globalThis.Farbe.Palette=Yh,globalThis.Farbe.StandardColors=Ws,globalThis.Farbe.MetroColors=Ol,globalThis.Farbe.Primitives=Hl,globalThis.Farbe.info=Jh;var Vl=Object.defineProperty,Wl=(t,o)=>{for(var p in o)Vl(t,p,{get:o[p],enumerable:!0})};function jl(t){return t.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}function Bc(t=[]){return Array.isArray(t)?t.join(" "):t.toString()}var Ul=["opacity","zIndex","order","zoom"];function ql(t={}){return typeof t=="string"?t:Object.keys(t).map(o=>{let p=jl(o),e=t[o];return!Ul.includes(p)&&!isNaN(e)&&(e+="px"),`${p}: ${e}`}).join(";")}var Yr=["accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inert","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","popover","spellcheck","style","tabindex","title","translate","writingsuggestions"],Zh=t=>{let o,p,e=[],i,l,h=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof t=="string"){if(t=t.trim(),i=document.implementation.createHTMLDocument(""),o=i.createElement("base"),o.href=document.location.href,i.head.appendChild(o),l=i.body,p=h.exec(t),p)return document.createElement(p[1]);l.innerHTML=t;for(let v=0;v<l.childNodes.length;v++)e.push(l.childNodes[v]);return e[0]}},Ho=["onauxclick","onbeforeinput","onbeforematch","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"],Xn=class{constructor(t={}){this.options=t,this.tag="div"}selfAttributes(){return[]}get attributes(){return this.getAttributes().join(" ")}getAttributes(){let t=[],o=["hidden","disabled","required","readonly","selected","open","multiply","default"],p=["className","style","data","tag","events"];for(let e in this.options)if(!p.includes(e)){if(o.includes(e)&&this.options[e]===!0){t.push(e);continue}(this.selfAttributes().includes(e)&&!t.includes(e)||Yr.includes(e))&&t.push(`${e}="${this.options[e]}"`)}return this.classes&&t.push(`class="${this.classes}"`),this.styles&&t.push(`style="${this.styles}"`),this.dataSet&&t.push(this.dataSet),this.aria&&t.push(this.aria),t}draw(){return this.template()}get dataSet(){let{data:t={}}=this.options,o=[];for(let p in t)o.push(`data-${jl(p)}="${t[p]}"`);return o.join(" ")}get aria(){let{aria:t={}}=this.options,o=[];for(let p in t)o.push(`aria-${p.toLowerCase()}="${t[p]}"`);return o.join(" ")}get events(){let{events:t={},control:o=!0}=this.options,p=[];for(let e in t)o&&!Ho.includes(e)&&console.info(`Event ${e} for element ${this.tag} not specified in HTML specification`),p.push(`${e.toLowerCase()}="${t[e]}"`);return p.join(" ")}get classes(){return Bc(this.options.class)}get styles(){return ql(this.options.style)}template(){return""}toString(){return this.draw()}toElement(){return Zh(this.draw())}},$o=t=>{if(Array.isArray(t))return t.map($o).join(`
`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(t.draw)return t.draw();throw new Error("Unknown element! "+t)},Xe=class extends Xn{constructor(...t){let o={},p=[];for(let e of t)typeof e=="object"&&!(e instanceof Xn)?o=e:p.push(e);super(o),this.children=p}template(t){let o=this.options.tag?this.options.tag:this.tag;return`
            <${o} ${this.attributes} ${this.events}>${t}</${o}>
        `}draw(){return this.template(this.children.map($o).join(""))}},Gi=class extends Xn{constructor(t={}){super(t),this.options=t}template(){return`
            <${this.options.tag?this.options.tag:this.tag} ${this.attributes} ${this.events}/>
        `}},Fn=(t=[],o=document.body,p={})=>{let e,i,{clear:l=!0,where:h="beforeend"}=p;i=typeof o=="string"?document.querySelector(o):o,i instanceof HTMLElement||(i=document.body),l&&(i.innerHTML=""),Array.isArray(t)||(t=[t]),e=t.map($o).join(""),i.insertAdjacentHTML(h,e)},Lt=(t="",o)=>{let p=document.createElement("style");return o!==void 0&&p.setAttribute("media",o),p.appendChild(document.createTextNode(t)),document.head.appendChild(p),p},On=t=>Lt(t).sheet,Ds=(t,o,p)=>{t.insertRule(o+"{"+p+"}")},Ks=(t,o)=>{if(typeof t=="string"){Lt(t,o);return}let p=On(o);for(let e in t)Ds(p,e,ql(t[e]))},Nc=async(t,o)=>{let p=await fetch(t,o),e,i;if(!p.ok)throw new Error("HTTP error: "+p.status);e=await p.text(),i=document.createElement("style"),i.appendChild(document.createTextNode(e)),document.body.appendChild(i)},Yl=async(t,o)=>{let p=await fetch(t,o),e,i;if(!p.ok)throw new Error("HTTP error: "+p.status);e=await p.text(),i=document.createElement("script"),i.appendChild(document.createTextNode(e)),document.body.appendChild(i)},Rc=async(t,o={},p=!1)=>{let e,i,l=()=>{},h;if(p!==!1&&(h=`html::key::${t}`,i=localStorage.getItem(h)),!i){if(e=await fetch(t,o),!e.ok)throw new Error("HTTP error: "+e.status);i=await e.text(),p!==!1&&localStorage.setItem(h,i)}return(0,eval)(`result = ${i}`),typeof l=="function"?l():l},Qh=t=>localStorage.removeItem(`html::key::${t}`),lr={};Wl(lr,{Abbr:()=>Xr,Address:()=>Zl,Anchor:()=>qo,Area:()=>pr,Article:()=>Jl,Aside:()=>Jr,AudioTag:()=>Ql,Base:()=>Gl,Bdi:()=>Sa,Bdo:()=>ad,Blockquote:()=>od,Body:()=>jo,Bold:()=>eu,Br:()=>Yc,Button:()=>ld,Canvas:()=>tu,Caption:()=>iu,Cite:()=>au,Code:()=>no,Col:()=>nu,Colgroup:()=>dd,Data:()=>il,Dd:()=>Xo,Details:()=>md,Dfn:()=>vd,Dialog:()=>Ji,Div:()=>ru,Dl:()=>Go,Dt:()=>Ko,Em:()=>yd,Embed:()=>Zo,Fieldset:()=>uu,FigCaption:()=>kd,Figure:()=>Cd,Footer:()=>ka,Form:()=>cu,Frame:()=>fu,Frameset:()=>hu,Head:()=>Vo,Header:()=>hr,Heading:()=>Uo,Hr:()=>Kl,Html:()=>ur,IFrame:()=>Sd,Img:()=>Uc,Input:()=>Gr,Ins:()=>Dd,Ital:()=>Jo,Kbd:()=>Td,Label:()=>yr,Legend:()=>xd,Link:()=>$c,List:()=>_r,ListItem:()=>el,Main:()=>hn,Map:()=>fr,Mark:()=>tl,Meta:()=>_i,Nav:()=>wa,NoEmbed:()=>vr,NoFrames:()=>pu,NoScript:()=>Id,Option:()=>Da,OptionGroup:()=>bu,Output:()=>lo,Paragraph:()=>li,Picture:()=>Zs,Pre:()=>Ld,Quoted:()=>xr,Rp:()=>Es,Rt:()=>Ta,Ruby:()=>an,Script:()=>E,Section:()=>Kr,Select:()=>vu,Slot:()=>nl,Small:()=>P,Source:()=>H,Span:()=>Wc,Strike:()=>_,Strong:()=>lu,Sub:()=>ne,Summary:()=>ao,Sup:()=>me,Table:()=>ud,TableCell:()=>su,TableRow:()=>hs,TableSection:()=>Jn,Template:()=>xi,Textarea:()=>Ne,Time:()=>qe,Title:()=>Ni,Track:()=>Ye,Var:()=>ft,VideoTag:()=>Dt,Wbr:()=>Ai,a:()=>dr,abbr:()=>Qc,address:()=>sd,anchor:()=>Zc,area:()=>Qr,article:()=>ed,aside:()=>id,audio:()=>af,b:()=>Js,base:()=>Hc,bdi:()=>eo,bdo:()=>rd,blockquote:()=>rf,body:()=>Vc,br:()=>tf,button:()=>dn,canvas:()=>of,caption:()=>cd,cite:()=>fd,code:()=>gr,col:()=>uf,colgroup:()=>cf,data:()=>As,dd:()=>pd,details:()=>gd,dfn:()=>ro,dialog:()=>Cr,div:()=>bd,dl:()=>hf,dt:()=>so,em:()=>ou,embed:()=>oo,fieldset:()=>vf,figcaption:()=>yf,figure:()=>wd,footer:()=>nd,form:()=>du,frame:()=>br,frameset:()=>_f,h1:()=>Gc,h2:()=>Xl,h3:()=>Kc,h4:()=>nf,h5:()=>Xc,h6:()=>Ki,head:()=>Xs,header:()=>sf,hr:()=>cr,html:()=>zc,i:()=>_d,iframe:()=>xf,img:()=>ef,input:()=>qc,ins:()=>ai,ital:()=>pf,kbd:()=>mu,label:()=>Zn,legend:()=>bf,li:()=>Md,link:()=>Wo,main:()=>fn,map:()=>Zr,mark:()=>Fd,meta:()=>pn,nav:()=>td,noembed:()=>gf,noframes:()=>Qo,noscript:()=>gu,ol:()=>Ad,optgroup:()=>Cf,option:()=>wf,output:()=>kf,p:()=>Sf,picture:()=>Ea,pre:()=>Df,q:()=>d,quoted:()=>m,rp:()=>Ri,rt:()=>fs,ruby:()=>Xi,s:()=>k,script:()=>F,section:()=>Jc,select:()=>$t,slot:()=>Kv,small:()=>R,source:()=>Z,span:()=>jc,strike:()=>y,strong:()=>mf,sub:()=>_e,summary:()=>ff,sup:()=>Ae,table:()=>lf,tbody:()=>to,td:()=>hd,template:()=>ui,textarea:()=>We,tfoot:()=>io,th:()=>mr,thead:()=>Yo,time:()=>Je,title:()=>Mi,tr:()=>df,track:()=>it,ul:()=>Ed,variable:()=>ht,video:()=>Gt,wbr:()=>ri});var ur=class extends Xe{constructor(){super(...arguments);re(this,"tag","html")}selfAttributes(){return["lang"]}},zc=(...t)=>new ur(...t),Vo=class extends Xe{constructor(){super(...arguments);re(this,"tag","head")}},Xs=(...t)=>new Vo(...t),Gl=class extends Gi{constructor(){super(...arguments);re(this,"tag","base")}selfAttributes(){return["href","target"]}},Hc=t=>new Gl(t),$c=class extends Gi{constructor(){super(...arguments);re(this,"tag","link")}selfAttributes(){return["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","blocking","color","disabled","fetchpriority"]}},Wo=t=>new $c(t),jo=class extends Xe{constructor(){super(...arguments);re(this,"tag","body")}},Vc=(...t)=>new jo(...t),Wc=class extends Xe{constructor(){super(...arguments);re(this,"tag","span")}},jc=(...t)=>new Wc(...t),Uc=class extends Gi{constructor(){super(...arguments);re(this,"tag","img")}selfAttributes(){return["align","alt","border","height","hspace","ismap","longdesc","lowsrc","src","vspace","width","usemap"]}},ef=(t="",o="",p={})=>new Uc({...p,src:t,alt:o}),Gr=class extends Gi{constructor(){super(...arguments);re(this,"tag","input")}selfAttributes(){return["accept","align","alt","autocomplete","autofocus","border","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","list","max","maxlength","min","multiple","name","pattern","placeholder","size","src","step","type","value"]}},qc=(t={})=>new Gr(t),Yc=class extends Gi{constructor(){super(...arguments);re(this,"tag","br")}selfAttributes(){return["clear"]}},tf=t=>new Yc(t),Kl=class extends Gi{constructor(){super(...arguments);re(this,"tag","hr")}},cr=t=>new Kl(t),Uo=class extends Xe{constructor(t="h1",...o){super(...o),this.tag=t}},Ts=(t="h1",...o)=>new Uo(t,...o),Gc=(...t)=>Ts("h1",...t),Xl=(...t)=>Ts("h2",...t),Kc=(...t)=>Ts("h3",...t),nf=(...t)=>Ts("h4",...t),Xc=(...t)=>Ts("h5",...t),Ki=(...t)=>Ts("h6",...t),Kr=class extends Xe{constructor(){super(...arguments);re(this,"tag","section")}},Jc=(...t)=>new Kr(...t),qo=class extends Xe{constructor(){super(...arguments);re(this,"tag","a")}selfAttributes(){return["coords","download","hreflang","name","rel","rev","shape","target","type","href"]}},Zc=(...t)=>new qo(...t),dr=(...t)=>new qo(...t),Xr=class extends Xe{constructor(){super(...arguments);re(this,"tag","abbr")}},Qc=(...t)=>new Xr(...t),Jl=class extends Xe{constructor(){super(...arguments);re(this,"tag","article")}},ed=(...t)=>new Jl(...t),wa=class extends Xe{constructor(){super(...arguments);re(this,"tag","nav")}},td=(...t)=>new wa(...t),Jr=class extends Xe{constructor(){super(...arguments);re(this,"tag","aside")}},id=(...t)=>new Jr(...t),hr=class extends Xe{constructor(){super(...arguments);re(this,"tag","header")}},sf=(...t)=>new hr(...t),ka=class extends Xe{constructor(){super(...arguments);re(this,"tag","footer")}},nd=(...t)=>new ka(...t),Zl=class extends Xe{constructor(){super(...arguments);re(this,"tag","address")}},sd=(...t)=>new Zl(...t),fr=class extends Xe{constructor(){super(...arguments);re(this,"tag","map")}selfAttributes(){return["name"]}},Zr=(...t)=>new fr(...t),pr=class extends Gi{constructor(){super(...arguments);re(this,"tag","area")}selfAttributes(){return["alt","coords","hreflang","nohref","shape","target","type","href"]}},Qr=(t={})=>new pr(t),Ql=class extends Xe{constructor(){super(...arguments);re(this,"tag","audio")}selfAttributes(){return["autoplay","controls","loop","preload","src"]}},af=(...t)=>new Ql(...t),eu=class extends Xe{constructor(){super(...arguments);re(this,"tag","b")}},Js=(...t)=>new eu(...t),Sa=class extends Xe{constructor(){super(...arguments);re(this,"tag","bdi")}},eo=(...t)=>new Sa(...t),ad=class extends Xe{constructor(){super(...arguments);re(this,"tag","bdo")}},rd=(...t)=>new ad(...t),od=class extends Xe{constructor(){super(...arguments);re(this,"tag","blockquote")}selfAttributes(){return["cite"]}},rf=(...t)=>new od(...t),ld=class extends Xe{constructor(){super(...arguments);re(this,"tag","button")}selfAttributes(){return["autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"]}},dn=(...t)=>new ld(...t),tu=class extends Xe{constructor(){super(...arguments);re(this,"tag","canvas")}selfAttributes(){return["width","height"]}},of=(...t)=>new tu(...t),ud=class extends Xe{constructor(){super(...arguments);re(this,"tag","table")}selfAttributes(){return["align","background","bgcolor","border","bordercolor","cellpadding","cellspacing","cols","frame","height","rules","summary","width"]}},lf=(...t)=>new ud(...t),iu=class extends Xe{constructor(){super(...arguments);re(this,"tag","caption")}selfAttributes(){return["align","valign"]}},cd=(...t)=>new iu(...t),nu=class extends Gi{constructor(){super(...arguments);re(this,"tag","col")}selfAttributes(){return["align","valign","char","charoff","span","width"]}},uf=t=>new nu(t),dd=class extends Gi{constructor(){super(...arguments);re(this,"tag","colgroup")}selfAttributes(){return["align","valign","char","charoff","span","width"]}},cf=t=>new dd(t),Jn=class extends Xe{constructor(t="tbody",...o){super(...o),this.tag=t}selfAttributes(){return["align","valign","char","charoff","bgcolor"]}},to=(...t)=>new Jn("tbody",...t),Yo=(...t)=>new Jn("thead",...t),io=(...t)=>new Jn("tfoot",...t),hs=class extends Xe{constructor(){super(...arguments);re(this,"tag","tr")}selfAttributes(){return["align","bgcolor","bordercolor","char","charoff","valign"]}},df=(...t)=>new hs(...t),su=class extends Xe{constructor(t="td",...o){super(...o),this.tag=t}selfAttributes(){return["abbr","align","axis","background","bgcolor","bordercolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]}},mr=(...t)=>new su("th",...t),hd=(...t)=>new su("td",...t),au=class extends Xe{constructor(){super(...arguments);re(this,"tag","cite")}},fd=(...t)=>new au(...t),no=class extends Xe{constructor(){super(...arguments);re(this,"tag","code")}},gr=(...t)=>new no(...t),Go=class extends Xe{constructor(){super(...arguments);re(this,"tag","dl")}},Ko=class extends Xe{constructor(){super(...arguments);re(this,"tag","dt")}},Xo=class extends Xe{constructor(){super(...arguments);re(this,"tag","dd")}},hf=(...t)=>new Go(...t),so=(...t)=>new Ko(...t),pd=(...t)=>new Xo(...t),md=class extends Xe{constructor(){super(...arguments);re(this,"tag","details")}},gd=(...t)=>new md(...t),ao=class extends Xe{constructor(){super(...arguments);re(this,"tag","summary")}},ff=(...t)=>new ao(...t),vd=class extends Xe{constructor(){super(...arguments);re(this,"tag","dfn")}},ro=(...t)=>new vd(...t),ru=class extends Xe{constructor(){super(...arguments);re(this,"tag","div")}selfAttributes(){return["align","title"]}},bd=(...t)=>new ru(...t),yd=class extends Xe{constructor(){super(...arguments);re(this,"tag","em")}},ou=(...t)=>new yd(...t),Jo=class extends Xe{constructor(){super(...arguments);re(this,"tag","i")}},pf=(...t)=>new Jo(...t),_d=(...t)=>new Jo(...t),lu=class extends Xe{constructor(){super(...arguments);re(this,"tag","strong")}},mf=(...t)=>new lu(...t),Zo=class extends Xe{constructor(){super(...arguments);re(this,"tag","embed")}selfAttributes(){return["align","height","hspace","pluginspace","src","type","vspace","width"]}},oo=(...t)=>new Zo(...t),vr=class extends Xe{constructor(){super(...arguments);re(this,"tag","noembed")}},gf=(...t)=>new vr(...t),uu=class extends Xe{constructor(){super(...arguments);re(this,"tag","fieldset")}selfAttributes(){return["form","title"]}},vf=(...t)=>new uu(...t),xd=class extends Xe{constructor(){super(...arguments);re(this,"tag","legend")}selfAttributes(){return["align","title"]}},bf=(...t)=>new xd(...t),Cd=class extends Xe{constructor(){super(...arguments);re(this,"tag","figure")}},wd=(...t)=>new Cd(...t),kd=class extends Xe{constructor(){super(...arguments);re(this,"tag","figcaption")}},yf=(...t)=>new kd(...t),cu=class extends Xe{constructor(){super(...arguments);re(this,"tag","form")}selfAttributes(){return["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"]}},du=(...t)=>new cu(...t),hu=class extends Xe{constructor(){super(...arguments);re(this,"tag","frameset")}selfAttributes(){return["border","bordercolor","cols","frameborder","framespacing","rows"]}},_f=(...t)=>new hu(...t),fu=class extends Gi{constructor(){super(...arguments);re(this,"tag","frame")}selfAttributes(){return["bordercolor","frameborder","noresize","name","src","scrolling"]}},br=(t={})=>new fu(t),pu=class extends Xe{constructor(){super(...arguments);re(this,"tag","noframes")}},Qo=(...t)=>new pu(...t),Sd=class extends Xe{constructor(){super(...arguments);re(this,"tag","iframe")}selfAttributes(){return["align","allowtransparency","frameborder","height","hspace","marginheight","marginwidth","name","sandbox","scrolling","seamless","src","srcdoc","vspace","width"]}},xf=(...t)=>new Sd(...t),Dd=class extends Xe{constructor(){super(...arguments);re(this,"tag","ins")}selfAttributes(){return["cite","datetime"]}},ai=(...t)=>new Dd(...t),Td=class extends Xe{constructor(){super(...arguments);re(this,"tag","kbd")}},mu=(...t)=>new Td(...t),yr=class extends Xe{constructor(){super(...arguments);re(this,"tag","label")}selfAttributes(){return["for"]}},Zn=(...t)=>new yr(...t),_r=class extends Xe{constructor(t="ul",...o){super(...o),this.tag=t}selfAttributes(){return this.tag==="ul"?["type"]:["type","reserved","start"]}},el=class extends Xe{constructor(){super(...arguments);re(this,"tag","li")}selfAttributes(){return["type","value"]}},Ed=(...t)=>new _r("ul",...t),Ad=(...t)=>new _r("ol",...t),Md=(...t)=>new el(...t),tl=class extends Xe{constructor(){super(...arguments);re(this,"tag","mark")}},Fd=(...t)=>new tl(...t),Id=class extends Xe{constructor(){super(...arguments);re(this,"tag","noscript")}},gu=(...t)=>new Id(...t),vu=class extends Xe{constructor(){super(...arguments);re(this,"tag","select")}selfAttributes(){return["autofocus","form","name","size"]}},$t=(...t)=>new vu(...t),bu=class extends Xe{constructor(){super(...arguments);re(this,"tag","optgroup")}selfAttributes(){return["label"]}},Cf=(...t)=>new bu(...t),Da=class extends Xe{constructor(){super(...arguments);re(this,"tag","option")}selfAttributes(){return["label","value"]}},wf=(...t)=>new Da(...t),lo=class extends Xe{constructor(){super(...arguments);re(this,"tag","output")}selfAttributes(){return["for","form","name"]}},kf=(...t)=>new lo(...t),li=class extends Xe{constructor(){super(...arguments);re(this,"tag","p")}selfAttributes(){return["align"]}},Sf=(...t)=>new li(...t),Ld=class extends Xe{constructor(){super(...arguments);re(this,"tag","pre")}},Df=(...t)=>new Ld(...t),xr=class extends Xe{constructor(){super(...arguments);re(this,"tag","q")}selfAttributes(){return["cite"]}},d=(...t)=>new xr(...t),m=(...t)=>new xr(...t),_=class extends Xe{constructor(){super(...arguments);re(this,"tag","strike")}},y=(...t)=>new _(...t),k=(...t)=>new _(...t),E=class extends Xe{constructor(){super(...arguments);re(this,"tag","script")}selfAttributes(){return["async","defer","language","src","type"]}},F=(...t)=>new E(...t),P=class extends Xe{constructor(){super(...arguments);re(this,"tag","small")}},R=(...t)=>new P(...t),H=class extends Gi{constructor(){super(...arguments);re(this,"tag","source")}selfAttributes(){return["media","src","type"]}},Z=(t={})=>new H(t),ne=class extends Xe{constructor(){super(...arguments);re(this,"tag","sub")}},_e=(...t)=>new ne(...t),me=class extends Xe{constructor(){super(...arguments);re(this,"tag","sup")}},Ae=(...t)=>new me(...t),Ne=class extends Xe{constructor(){super(...arguments);re(this,"tag","textarea")}selfAttributes(){return["autofocus","cols","form","maxlength","name","placeholder","rows","wrap"]}},We=(...t)=>new Ne(...t),qe=class extends Xe{constructor(){super(...arguments);re(this,"tag","time")}selfAttributes(){return["datetime","pubdate"]}},Je=(...t)=>new qe(...t),Ye=class extends Gi{constructor(){super(...arguments);re(this,"tag","track")}selfAttributes(){return["kind","src","srclang","label"]}},it=(t={})=>new Ye(t),ft=class extends Xe{constructor(){super(...arguments);re(this,"tag","var")}},ht=(...t)=>new ft(...t),Dt=class extends Xe{constructor(){super(...arguments);re(this,"tag","video")}selfAttributes(){return["autoplay","controls","height","loop","loop","poster","preload","src","width"]}},Gt=(...t)=>new Dt(...t),Ai=class extends Gi{constructor(){super(...arguments);re(this,"tag","wbr")}},ri=t=>new Ai(t),hn=class extends Xe{constructor(){super(...arguments);re(this,"tag","main")}},fn=(...t)=>new hn(...t),_i=class extends Gi{constructor(){super(...arguments);re(this,"tag","meta")}selfAttributes(){return["content","name","http-equiv","charset"]}},pn=t=>new _i(t),Ni=class extends Xe{constructor(){super(...arguments);re(this,"tag","title")}},Mi=t=>new Ni(t),xi=class extends Xe{constructor(){super(...arguments);re(this,"tag","template")}selfAttributes(){return["shadowrootmode","shadowrootdelegatesfocus","shadowrootclonable","shadowrootserializable"]}},ui=(...t)=>new xi(...t),an=class extends Xe{constructor(){super(...arguments);re(this,"tag","ruby")}},Ta=class extends Gi{constructor(){super(...arguments);re(this,"tag","rt")}},Es=class extends Gi{constructor(){super(...arguments);re(this,"tag","rp")}},Xi=(...t)=>new an(...t),fs=t=>new Ta(t),Ri=t=>new Es(t),il=class extends Xe{constructor(){super(...arguments);re(this,"tag","data")}},As=(...t)=>new il(...t),Zs=class extends Xe{constructor(){super(...arguments);re(this,"tag","picture")}},Ea=(...t)=>new Zs(...t),Ji=class extends Xe{constructor(){super(...arguments);re(this,"tag","dialog")}selfAttributes(){return["open"]}},Cr=(...t)=>new Ji(...t),nl=class extends Xe{constructor(){super(...arguments);re(this,"tag","slot")}selfAttributes(){return["name"]}},Kv=(...t)=>new nl(...t),Tf={},Xv="0.14.2",Jv="04.05.2025, 17:56:44",Zv=()=>{console.info(`%c Html.js %c v${Xv} %c ${Jv} `,"color: #ffffff; font-weight: bold; background: #708238","color: white; background: darkgreen","color: white; background: #0080fe;")},Qv=(t=globalThis)=>{for(let o in lr)globalThis[o]&&(Tf[o]=globalThis[o]),t[o]=lr[o]},eb=(t=globalThis)=>{for(let o in Tf)t[o]=Tf[o]},tb={...lr,extract:Qv,restore:eb};globalThis.HTML={addStyle:Ks,addCssRule:Ds,cssLoader:Nc,jsLoader:Yl,viewLoader:Rc,clearViewStorageHolder:Qh,createStyleElement:Lt,createStyleSheet:On,render:Fn,...tb,info:Zv};var Wp={};a(Wp,{americanExpress:()=>Ry,array:()=>Jb,base64:()=>qb,between:()=>Vb,bigint:()=>_b,boolean:()=>Xb,bytes:()=>jy,color:()=>ky,compose:()=>cb,contains:()=>e_,creditCard:()=>Py,date:()=>Cb,digits:()=>Xy,diners:()=>Hy,discover:()=>zy,domain:()=>hy,email:()=>Ob,endsWith:()=>mb,equal:()=>a_,finite:()=>jb,float:()=>Zy,func:()=>kb,great:()=>u_,greatOrEqual:()=>f_,hexColor:()=>Sy,hslColor:()=>Ty,imei:()=>ey,info:()=>b_,integer:()=>Db,ip:()=>oy,ipv4:()=>ly,ipv6:()=>uy,jcb:()=>$y,length:()=>ty,less:()=>d_,lessOrEqual:()=>m_,mastercard:()=>Ny,max:()=>Ib,maxLength:()=>ny,min:()=>Mb,minLength:()=>iy,notNull:()=>qy,notNumber:()=>Gb,number:()=>Rb,object:()=>Hb,parse:()=>Ef,pattern:()=>Gy,pipe:()=>lb,required:()=>Bb,rgbColor:()=>Dy,safeInteger:()=>Eb,safeParse:()=>rb,similar:()=>o_,startsWith:()=>fb,string:()=>Af,symbol:()=>bb,type:()=>n_,unionPay:()=>Vy,unknown:()=>gb,url:()=>my,visa:()=>By});var ib=Object.defineProperty,jp=Object.getOwnPropertySymbols,nb=Object.prototype.hasOwnProperty,sb=Object.prototype.propertyIsEnumerable,Up=(t,o,p)=>o in t?ib(t,o,{enumerable:!0,configurable:!0,writable:!0,value:p}):t[o]=p,ab=(t,o)=>{for(var p in o||(o={}))nb.call(o,p)&&Up(t,p,o[p]);if(jp)for(var p of jp(o))sb.call(o,p)&&Up(t,p,o[p]);return t},pt=class extends Error{constructor(t="",o=null,p){super(t),this.message=t,this.name=o,this.value=p}},Ef=(t,o)=>{let p;if(!t)throw new Error("Schema object required for parse data!");if(typeof t=="function"){if(p=t.apply(null,[o]),p instanceof pt)throw p}else for(let e in t){let i=o[e],l=t[e];if(!l)throw new pt(`Guard not defined for field ${e} in input data!`,"general",o);if(!o.hasOwnProperty(e))throw new pt(`Field ${e} doesn't exists in input data!`,"general",o);if(typeof l=="function"){if(console.log(l.name),p=l.apply(null,[i]),p instanceof pt)throw p}else Ef(l,i)}return o},rb=(t,o)=>{let p;if(!t)throw new Error("Schema object required for parse data!");if(typeof t=="function"){if(p=t.apply(null,[o]),p instanceof pt)return{ok:!1,error:p}}else for(let e in t){let i=o[e],l=t[e];if(l)if(typeof l=="function"){if(p=l.apply(null,[o]),p instanceof pt)return{ok:!1,error:p}}else Ef(l,i)}return{ok:!0,output:o}},ob=(...t)=>o=>t.reduce((p,e)=>e(p),o),lb=ob,ub=(...t)=>o=>t.reduceRight((p,e)=>e(p),o),cb=ub,db="VAL must be a string",Af=(t=db)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"?o:new pt(p,"string",o)},uo=t=>typeof t<"u"&&t!==null,hb="VAL must starts with START_VAL",fb=(t,o=hb)=>{if(!uo(t))throw new Error("START_VALUE not defined!");return function(p){let e=o.replace(/VAL/g,p).replace(/START_VAL/g,t);return typeof p=="string"&&p.startsWith(t)?p:new pt(e,"startsWith",p)}},pb="VAL must end with END_VAL",mb=(t,o=pb)=>{if(!uo(t))throw new Error("END_VALUE not defined!");return function(p){let e=o.replace(/VAL/g,p).replace(/END_VAL/g,t);return typeof p=="string"&&p.endsWith(t)?p:new pt(e,"endsWith",p)}},gb=()=>function(t){return t},vb="A symbol is required",bb=(t=vb)=>function(o){return typeof o=="symbol"?o:new pt(t,"symbol",o)},yb="VAL must be a bigint",_b=(t=yb)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="bigint"?o:new pt(p,"bigint",o)},xb="VAL must be valid date object or date string",Cb=(t=xb)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="object"&&o.getTime||typeof o=="string"&&!isNaN(Date.parse(o))?o:new pt(p,"date",o)},wb="The value must be a function",kb=(t=wb)=>function(o){return typeof o=="function"?o:new pt(t,"function",o)},Sb="VAL must be an integer",Db=(t=Sb)=>function(o){let p=t.replace(/VAL/g,o);return Number.isInteger(o)?o:new pt(p,"integer",o)},Tb="VAL must be an safe integer",Eb=(t=Tb)=>function(o){let p=t.replace(/VAL/g,o);return Number.isSafeInteger(o)?o:new pt(p,"safeInteger",o)},Ab="VAL must be a great then MIN_VALUE",Mb=(t,o=Ab)=>{if(!uo(t))throw new Error("MIN_VALUE not defined!");return function(p){let e=o.replace(/VAL/g,p).replace(/MIN_VALUE/g,t),i=+p;return!isNaN(i)&&i>=+t?p:new pt(e,"minValue",p)}},Fb="VAL must be a less then MAX_VALUE",Ib=(t,o=Fb)=>{if(!uo(t))throw new Error("MAX_VALUE not defined!");return function(p){let e=o.replace(/VAL/g,p).replace(/MAX_VALUE/g,t),i=+p;return!isNaN(i)&&i<=+t?p:new pt(e,"maxValue",p)}},Lb="VAL must be a string in valid email format",Ob=(t=Lb)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)?o:new pt(p,"email",o)},Pb="Any value required",Bb=(t=Pb)=>function(o){let p=t.replace(/VAL/g,o);return typeof o<"u"&&o!==null&&o!==""?o:new pt(p,"required",o)},Nb="VAL must be a number",Rb=(t=Nb)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="number"&&!isNaN(+o)?o:new pt(p,"number",o)},zb="VAL must be an object",Hb=(t,o=zb)=>{if(typeof t!="object")throw new pt(o.replace(/VAL/g,t),"object",t);return ab({},t)},$b="VAL must be between MIN_VAL and MAX_VAL",Vb=(t,o,p=$b)=>{if(!uo(t))throw new Error("MIN_VALUE not defined!");if(!uo(o))throw new Error("MAX_VALUE not defined!");return function(e){let i=p.replace(/VAL/g,e).replace(/MIN_VAL/g,t).replace(/MAX_VAL/g,o),l=+e;return!isNaN(l)&&e>=+t&&e<=+o?e:new pt(i,"between",e)}},Wb="VAL must be a finite number",jb=(t=Wb)=>function(o){let p=t.replace(/VAL/g,o);return Number.isFinite(o)?o:new pt(p,"finite",o)},Ub="VAL must be a string in valid base 64 format",qb=(t=Ub)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(o)?o:new pt(p,"base64",o)},Yb="VAL can`t be a number",Gb=(t=Yb)=>function(o){let p=t.replace(/VAL/g,o);return isNaN(o)?o:new pt(p,"notNumber",o)},Kb="VAL must be a boolean",Xb=(t=Kb)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="boolean"?o:new pt(p,"boolean",o)},qp="VAL must be an array of TYPE",Jb=(t,o=qp)=>(!t&&!o&&(t=Af(),o=qp),typeof t=="string"&&(o=t,t=Af()),function(p){let e=o.replace(/VAL/g,p).replace(/TYPE/g,t.name);if(!Array.isArray(p))return new pt(e,"array",p);for(let i of p)if(t(i)instanceof pt)return new pt(e,"array",p);return p}),Zb="VAL must be a valid EMEI",Qb=t=>{let o=i=>{let l=0;for(;i>0;)l=l+i%10,i=parseInt(""+i/10,10);return l},p=(""+t).length;if(p!==15)return!1;let e=0;for(let i=p;i>=1;i--){let l=t%10;i%2===0&&(l=2*l),e+=o(l),t=parseInt(""+t/10,10)}return e%10===0},ey=(t=Zb)=>function(o){let p=t.replace(/VAL/g,o);return Qb(o)?o:new pt(p,"emei",o)},Mf="VAL must be a string or array with length N",ty=(t,o=Mf)=>function(p){let e=o.replace(/VAL/g,p).replace(/N/g,t);return(typeof p=="string"||Array.isArray(p))&&p.length===+t?p:new pt(e,"length",p)},iy=(t,o=Mf)=>function(p){let e=o.replace(/VAL/g,p).replace(/N/g,t);return(typeof p=="string"||Array.isArray(p))&&p.length>=+t?p:new pt(e,"minLength",p)},ny=(t,o=Mf)=>function(p){let e=o.replace(/VAL/g,p).replace(/N/g,t);return(typeof p=="string"||Array.isArray(p))&&p.length<=+t?p:new pt(e,"maxLength",p)},sy="VAL must be a valid ip address ipv4 or ipv6",ay="VAL must be a valid ipv4 address",ry="VAL must be a valid ipv6 address",Yp=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Gp=/^[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}$/,oy=(t=sy)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&(Yp.test(o)||Gp.test(o))?o:new pt(p,"ip",o)},ly=(t=ay)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&Yp.test(o)?o:new pt(p,"ipv4",o)},uy=(t=ry)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&Gp.test(o)?o:new pt(p,"ipv6",o)},cy="VAL must be a valid domain name, xn--* for internationalized names",dy=/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/,hy=(t=cy)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&dy.test(o)?o:new pt(p,"domain",o)},fy="VAL must be a valid url",py=/^(?:(?:(?:https?|ftp|wss?):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,my=(t=fy)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&py.test(o)?o:new pt(p,"url",o)},gy="VAL must be a valid color in HEX, RGB(A), or HSL(A) format",vy="VAL must be a valid HEX color",by="VAL must be a valid RGB(a) color",yy="VAL must be a valid HSL(A) color",_y=/^#(?:[\da-f]{3}){1,2}$|^#(?:[\da-f]{4}){1,2}$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,xy=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,Cy=/^rgba?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^rgba?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,wy=/^hsla?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^hsla?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,ky=(t=gy)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&_y.test(o)?o:new pt(p,"color",o)},Sy=(t=vy)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&xy.test(o)?o:new pt(p,"hexColor",o)},Dy=(t=by)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&Cy.test(o)?o:new pt(p,"rgbColor",o)},Ty=(t=yy)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&wy.test(o)?o:new pt(p,"hslColor",o)},Kp=/^4\d{12}(?:\d{3,6})?$/u,Xp=/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,Jp=/^3[47]\d{13}$/u,Zp=/^6(?:011|5\d{2})\d{12,15}$/u,Qp=/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,em=/^(?:2131|1800|35\d{3})\d{11}$/u,tm=/^(?:6[27]\d{14,17}|81\d{14,17})$/u,im="VAL must be a valid CC number (visa, mastercard, american express, discover, diners club, jcb, or union pay)",Ey="VAL must be a valid Visa card number",Ay="VAL must be a valid Mastercard card number",My="VAL must be a valid American Express card number",Fy="VAL must be a valid DISCOVER card number",Iy="VAL must be a valid DINERS CLUB card number",Ly="VAL must be a valid JCB card number",Oy="VAL must be a valid Union Pay card number",Py=(t=im)=>function(o){let p=t.replace(/VAL/g,o);return typeof o=="string"&&(Kp.test(o)||Xp.test(o)||Jp.test(o)||Zp.test(o)||Qp.test(o)||em.test(o)||tm.test(o))?o:new pt(p,"creditCard",o)},co=(t,o,p=im)=>function(e){let i=p.replace(/VAL/g,e);return typeof e=="string"&&o.test(e)?e:new pt(i,t,e)},By=(t=Ey)=>co("visa",Kp,t),Ny=(t=Ay)=>co("mastercard",Xp,t),Ry=(t=My)=>co("american express",Jp,t),zy=(t=Fy)=>co("discover",Zp,t),Hy=(t=Iy)=>co("diners club",Qp,t),$y=(t=Ly)=>co("jcb card",em,t),Vy=(t=Oy)=>co("union pay",tm,t),Wy="The length of string must be VAL bytes",jy=(t,o=Wy)=>function(p){let e=o.replace(/VAL/g,p);return typeof p=="string"&&new TextEncoder().encode(p).length===t?p:new pt(e,"bytes",p)},Uy="VAL can`t be null or undefined.",qy=(t=Uy)=>function(o){let p=t.replace(/VAL/g,o);return uo(o)?o:new pt(p,"notNull",o)},Yy="The value must match the pattern",Gy=(t,o=Yy)=>function(p){let e=o.replace(/VAL/g,p);return(typeof t=="string"?new RegExp(t,"g"):t).test(""+p)?p:new pt(e,"pattern",p)},Ky="VAL must contains only digits",Xy=(t=Ky)=>function(o){let p=t.replace(/VAL/g,o);return/^\d+$/g.test(""+o)?o:new pt(p,"digits",o)},Jy="VAL must be a float",Zy=(t=Jy)=>function(o){let p=t.replace(/VAL/g,o);return!isNaN(o)&&+n%1!==0||/^\d*\.\d+$/.test(o)?o:new pt(p,"float",o)},Qy="VAL must must contains OBJ",e_=(t,o=Qy)=>function(p){let e=o.replace(/VAL/g,p).replace(/OBJ/g,t);return p.includes(t)?p:new pt(e,"contains",p)},t_="A VAL must have type TYPE";function i_(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)]$/,"$1").toLowerCase()}var n_=(t="string",o=t_)=>function(p){let e=o.replace(/VAL/g,p).replace(/TYPE/g,t);return t===i_(p)?p:new pt(e,"type",p)},s_="VAL must be an equal to VALUE",a_=(t,o=s_)=>function(p){let e=o.replace(/VAL/g,p).replace(/VALUE/g,t);return p===t?p:new pt(e,"equal",p)},r_="VAL must be a similar to VALUE",o_=(t,o=r_)=>function(p){let e=o.replace(/VAL/g,p).replace(/VALUE/g,t);return p==t?p:new pt(e,"similar",p)},l_="VAL must be a great then VALUE",u_=(t,o=l_)=>function(p){let e=o.replace(/VAL/g,p).replace(/VALUE/g,t);return p>t?p:new pt(e,"great",p)},c_="VAL must be a less then VALUE",d_=(t,o=c_)=>function(p){let e=o.replace(/VAL/g,p).replace(/VALUE/g,t);return p<t?p:new pt(e,"less",p)},h_="VAL must be a great or equal to VALUE",f_=(t,o=h_)=>function(p){let e=o.replace(/VAL/g,p).replace(/VALUE/g,t);return p>=t?p:new pt(e,"greatOrEqual",p)},p_="VAL must be a less or equal to VALUE",m_=(t,o=p_)=>function(p){let e=o.replace(/VAL/g,p).replace(/VALUE/g,t);return p<=t?p:new pt(e,"lessOrEqual",p)},g_="0.7.2",v_="02.05.2025, 18:52:42",b_=()=>{console.info(`%c Guardian %c v${g_} %c ${v_} `,"color: pink; font-weight: bold; background: #2b1700","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.G=Wp;var nt=(Ci=class{static log(o,p,e){if(o>Ci.DEBUG_LEVEL)return;let i={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},l;switch(o){case Ci.DEBUG_LEVELS.ERROR:l="error";break;case Ci.DEBUG_LEVELS.WARN:l="warn";break;case Ci.DEBUG_LEVELS.INFO:l="info";break;case Ci.DEBUG_LEVELS.DEBUG:l="debug";break;case Ci.DEBUG_LEVELS.TRACE:l="trace";break;default:return}console.group(`%c Model: ${p}`,i[l]),e!==void 0&&console.log("%c Data:",i.data,e),console.groupEnd()}static error(o,p){Ci.log(Ci.DEBUG_LEVELS.ERROR,o,p)}static warn(o,p){Ci.log(Ci.DEBUG_LEVELS.WARN,o,p)}static info(o,p){Ci.log(Ci.DEBUG_LEVELS.INFO,o,p)}static debug(o,p){Ci.log(Ci.DEBUG_LEVELS.DEBUG,o,p)}static trace(o,p){Ci.log(Ci.DEBUG_LEVELS.TRACE,o,p)}},re(Ci,"DEBUG_LEVELS",{NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5}),re(Ci,"DEBUG_LEVEL",Ci.DEBUG_LEVELS.NONE),Ci),y_="0.4.0",__="08.03.2025, 01:01:34",nm=class{constructor(t={}){if(nt.DEBUG_LEVEL=t.debug?4:0,nt.debug("[Router] Init Router"),this.routes={},this.fallbackRoute=t.fallback||"/",this.maxRedirects=t.maxRedirects||5,this.redirectCount=0,this.basePath=t.base||"",this.middleware=[],this.beforeEachHooks=[],this.afterEachHooks=[],this.cache=new Map,this.cacheLimit=t.cacheLimit??50,this.touchStartX=0,this.enableSwipeNavigation=t.enableSwipeNavigation||!1,this.current=null,this.redirects={},this.useHash=t.useHash||!1,this.events={beforeNavigate:[],afterNavigate:[],routeNotFound:[],error:[]},this.plugins=[],this.enableSwipeNavigation&&this.initSwipeNavigation(),t.routes){nt.debug("[Router] Registering routes");for(let[o,p]of Object.entries(t.routes))this.addRoute(o,p)}t.plugins&&Array.isArray(t.plugins)&&(nt.debug("[Router] Registering plugins"),t.plugins.forEach(o=>{Array.isArray(o)?this.usePlugin(o[0],o[1]||{}):this.usePlugin(o)})),nt.debug("[Router] Subscribing to unhandledrejection event"),window.addEventListener("unhandledrejection",this.handleError.bind(this)),nt.debug("[Router] Router Initialized")}on(t,o){return nt.debug(`[Router] Subscribing to event ${t}`),this.events[t]&&this.events[t].push(o),this}emit(t,...o){if(nt.debug(`[Router] Emitting event ${t}`),this.events[t])for(let p of this.events[t]){let e=p(...o);if(t==="beforeNavigate"&&e===!1)return!1}return!0}initSwipeNavigation(){nt.debug("[Router] Initializing swipe navigation"),nt.debug("[Router] Adding touchstart event listener"),document.addEventListener("touchstart",t=>{this.touchStartX=t.touches[0].clientX},{passive:!0}),nt.debug("[Router] Adding touchend event listener"),document.addEventListener("touchend",t=>{let o=t.changedTouches[0].clientX,p=this.touchStartX-o;Math.abs(p)>100&&(p>0?(nt.debug("[Router] Swiping right (forward)"),window.history.forward()):(nt.debug("[Router] Swiping left (backward)"),window.history.back()))},{passive:!0})}handleError(t){nt.error("[Router] Error during navigation:",t),this.emit("error",t),this.routes["/error"]?this.navigateTo("/error",!0):this.navigateTo(this.fallbackRoute,!0)}sanitizePath(t){nt.debug("[Router] Sanitizing path:",t);try{if(!t)return"/";let o=new URL(t,window.location.origin),p=decodeURIComponent(o.pathname);return p=p.replace(/[<>'"`;(){}]/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/([^/])\/{2,}/g,"$1/").replace(/\/+/g,"/").replace(/(.+)\/$/,"$1").replace(/\.+/g,".").split("/").filter(e=>e!==".."&&e!==".").join("/"),p.startsWith("/")||(p="/"+p),this.isBlockedPath(p)?"/":(nt.debug("[Router] Sanitized path:",p),p)}catch(o){return nt.error("[Router] Error sanitizing path:",o),"/"}}isBlockedPath(t){return nt.debug("[Router] Checking if path is blocked:",t),[/^\/(api|admin|wp-admin|wp-content|wp-includes)/i,/\.(php|asp|aspx|jsp|cgi|config|env|git|sql|htaccess)$/i,/\/(.+\/)*\.{2,}\//,/javascript:/i,/data:/i,/vbscript:/i,/file:/i].some(o=>o.test(t))}test(t){nt.debug("[Router] Testing path:",t);let o=t,p=this.sanitizePath(t),e={original:o,sanitized:p,isBlocked:this.isBlockedPath(p),isModified:o!==p};return nt.debug(`[Router] test result for path ${t}:`,e),e}beforeEach(t){return nt.debug("[Router] Adding beforeEach hook"),this.beforeEachHooks.push(t),this}afterEach(t){return nt.debug("[Router] Adding afterEach hook"),this.afterEachHooks.push(t),this}use(t){return nt.debug("[Router] Adding middleware"),this.middleware.push(t),this}addRedirect(t,o){return nt.debug("[Router] Adding redirect from",t,"to",o),this.redirects[t]?!1:(this.redirects[t]=o,this)}addRoute(t,o){return nt.debug("[Router] Adding route",t),this.routes[t]=o,this}addNestedRoute(t,o,p){nt.debug(`[Router] Adding nested route ${o} to ${t}`);let e=`${t}${o}`.replace(/\/\//g,"/");return this.addRoute(e,p),this}addLazyRoute(t,o){return nt.debug("[Router] Adding lazy-loaded route",t),this.addRoute(t,async p=>{try{let e=await o();return(e.default||e)(p)}catch(e){throw e}}),this}addLazyNestedRoute(t,o,p){nt.debug("[Router] Adding lazy-loaded nested route",o,"to",t);let e=`${t}${o}`.replace(/\/\//g,"/");return this.addLazyRoute(e,p),this}addFallbackRoute(t){return nt.debug("[Router] Adding fallback route",t),this.fallbackRoute=t,this}add404Route(t){return nt.debug("[Router] Adding 404 route",t),this.routes["/404"]=t,this}addErrorRoute(t){return nt.debug("[Router] Adding error route",t),this.routes["/error"]=t,this}addProtectedRoute(t,o,p,e="/login"){return nt.debug("[Router] Adding protected route",t),this.addRoute(t,async i=>{if(await p(i))return nt.debug("[Router] Guard function passed, executing callback"),o(i);nt.debug("[Router] Guard function failed, redirecting to",e),await this.navigateTo(e,!0)}),this}removeRoute(t){return nt.debug("[Router] Removing route",t),this.routes[t]&&delete this.routes[t],this}updateRoute(t,o){return nt.debug("[Router] Updating route",t),this.routes[t]&&(this.routes[t]=o),this}getRoutes(){return nt.debug("[Router] Getting registered routes"),this.routes}async navigate(t){if(nt.debug("[Router] Navigating to",t),this.redirectCount>this.maxRedirects){nt.error("[Router] Maximum redirect limit reached, redirecting to",this.fallbackRoute),console.error("Maximum redirect limit reached"),this.redirectCount=0,this.emit("error",new Error("Maximum redirect limit reached")),await this.navigateTo("/error",!0);return}this.redirectCount++;let o=this.matchRoute(this.sanitizePath(t));if(o)try{if(nt.debug("[Router] Route matched:",o),this.emit("beforeNavigate",o)===!1){nt.debug("[Router] Navigation cancelled by beforeNavigate hook");return}if(this.redirects[o.path]){nt.debug("[Router] Redirecting to",this.redirects[o.path]),await this.navigateTo(this.redirects[o.path],!0);return}this.redirectCount++;for(let p of this.middleware)nt.debug("[Router] Executing middleware"),await p(o);for(let p of this.beforeEachHooks)nt.debug("[Router] Executing beforeEach hook"),await p(o);nt.debug("[Router] Executing route callback"),await o.callback(o.params);for(let p of this.afterEachHooks)nt.debug("[Router] Executing afterEach hook"),await p(o);this.current=o,this.emit("afterNavigate",o),nt.debug("[Router] Navigation completed")}catch(p){nt.error("[Router] Error during navigation:",p),console.error("Navigation error:",p),this.emit("error",p),this.routes["/error"]&&this.routes["/error"](p)}else nt.warn("[Router] Route not found:",t),this.redirectCount=0,this.emit("routeNotFound",t),this.routes["/404"]&&this.routes["/404"]()}async navigateTo(t,o=!1){nt.debug(`[Router] Navigating to ${t} ${o?"with replace state":""}`),this.redirectCount=0;let p=new URL(t,window.location.origin);o?(nt.debug("[Router] Replacing state with",p),window.history.replaceState({},"",p)):(nt.debug("[Router] Pushing state with",p),window.history.pushState({},"",p)),nt.debug("[Router] Navigating to",p),await this.navigate(p.pathname)}matchRoute(t){if(nt.debug("[Router] Matching route for",t),this.cache.has(t))return this.cache.get(t);nt.debug("[Router] Route not found in cache, performing match");let o=this._performMatch(t);if(this.cache.size>=this.cacheLimit){nt.debug("[Router] Cache limit reached, removing oldest entry");let p=this.cache.keys().next().value;this.cache.delete(p)}return nt.debug("[Router] Caching result for",t),this.cache.set(t,o),o}_performMatch(t){let[o,p]=t.split("?"),e=new URLSearchParams(p),i=Object.fromEntries(e);for(let l in this.routes){let h=[],v=l.replace(/:([^\/]+)/g,(w,D)=>(h.push(D),"([^/]+)")),x=t.match(new RegExp(`^${v}$`));if(x){let w=x.slice(1).reduce((D,M,I)=>(D[h[I]]=M,D),{});return{path:t,pattern:v,callback:this.routes[l],params:w,query:i}}}return null}clearCache(){nt.debug("[Router] Clearing cache"),this.cache.clear()}resetRedirectCount(){nt.debug("[Router] Resetting redirect count"),this.redirectCount=0}getFullPath(t){return nt.debug("[Router] Getting full path for",t),this.useHash?`#${t}`:t}getPathFromLocation(){return nt.debug("[Router] Getting path from location"),this.useHash?window.location.hash.slice(1)||"/":window.location.pathname}listen(){return nt.debug("[Router] Starting to listen for navigation events"),this._handleNavigation=()=>{this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(t=>{})},this._handleLinkClick=t=>{if(t.target.tagName==="A"){let o=t.target.getAttribute("href");if(o&&(this.useHash&&o.startsWith("#")||!this.useHash&&t.target.href.startsWith(window.location.origin))){t.preventDefault();let p=this.useHash?o.slice(1):t.target.pathname;this.redirectCount=0,this.navigateTo(p).then(e=>{})}}},nt.debug("[Router] Listening for navigation events"),window.addEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),nt.debug("[Router] Listening for link clicks"),document.addEventListener("click",this._handleLinkClick),this._initPlugins(),this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(t=>{}),this}_initPlugins(){nt.debug("[Router] Init plugins"),this.plugins.forEach(({plugin:t,options:o})=>{typeof t.onInit=="function"&&t.onInit(this,o)})}usePlugin(t,o={}){if(!t)return this;if(nt.debug("[Router] Using plugin",t),typeof t=="object"&&typeof t.install=="function")nt.debug("[Router] Installing plugin",t),t.install(this,o);else if(typeof t=="function")nt.debug("[Router] Executing plugin",t),t(this,o);else return nt.warn("Invalid plugin format. Plugin must be an object with install method or a function."),this;return nt.debug("[Router] Add plugin to store",t),this.plugins.push({plugin:t,options:o}),nt.debug("[Router] Plugin initialized"),this}destroy(){nt.debug("[Router] Destroying router"),this.plugins.forEach(({plugin:t,options:o})=>{nt.debug("[Router] Destroying plugin",t),typeof t.onDestroy=="function"&&t.onDestroy(this,o)}),nt.debug("[Router] Removing event listeners"),window.removeEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),document.removeEventListener("click",this._handleLinkClick),window.removeEventListener("unhandledrejection",this.handleError),this._handleNavigation=null,this._handleLinkClick=null,this.routes={},this.plugins=[],this.cache.clear(),nt.debug("[Router] Router destroyed")}};nm.info=()=>{console.info(`%c Router %c v${y_} %c ${__} `,"color: #ffffff; font-weight: bold; background: #ed1cab","color: white; background: darkgreen","color: white; background: #0080fe;")};var x_=nm,C_=x_;globalThis.Router=C_;var w_=class{constructor(){this.events=new Map}on(t,o){return this.events.has(t)||this.events.set(t,new Set),this.events.get(t).add(o),()=>this.off(t,o)}off(t,o){this.events.has(t)&&this.events.get(t).delete(o)}emit(t,o){this.events.has(t)&&this.events.get(t).forEach(p=>{try{p(o)}catch(e){console.error(`Error when performing an event handler ${t}:`,e)}})}},Ff=w_,k_=`
    <style>
        #model-devtools-panel  { 
            position: fixed;
            bottom: 0;
            right: 0;
            width: 300px;
            height: 400px;
            background: #242424;
            color: #fff;
            border: 1px solid #333;
            z-index: 9999;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .devtools-section {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
            }
            
            h3 {
                margin: 0;
                font-size: 14px;
                border-bottom: 1px solid #333;
                padding-bottom: 4px;
            }
        }
        
        #model-dev-tools-toggle-button {
            position: fixed;
            bottom: 10px;
            right: 10px;
            z-index: 9998;
            height: 36px;
            width: 36px;
            background: #444;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }        

        #model-devtools-time-travel-dialog {
            position: fixed;
            bottom: 0;
            right: 304px;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 4px;
            height: 400px;
            width: 300px;
            z-index: 10000;
            color: #fff;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .time-travel-items {
                padding: 4px; 
                height: calc(100% - 35px); 
                overflow: auto;
                position: relative;
            }
            
            .time-travel-item {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
                
                button {
                    margin-top: 8px;
                    background: dodgerblue;
                }
            }
        }
        
        #model-devtools-panel, #model-devtools-time-travel-dialog {
            button {
                height: 20px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                font-size: 12px;
                border-radius: 4px;
                border: 1px solid #444;
                background: #333;
                color: #fff;
                cursor: pointer;
                
                @media (hover: hover) {
                    &:hover {
                        background: #444;
                    }
                }

                @media (hover: none) {
                    &:hover {
                        background: #444;
                    }
                }
            }        
        }
        
        .dev-tools-header {
            padding: 8px; 
            border-bottom: 1px solid #333; 
            display: flex; 
            justify-content: space-between;
        }
    </style>
`,S_=k_,D_=class{constructor(t,o={}){this.model=t,this.options={enabled:!0,timeTravel:!0,maxSnapshots:50,...o},this.history=[],this.currentIndex=-1,this.initializeDevTools()}initializeDevTools(){window.__MODEL_DEVTOOLS__=this,this.createDevToolsPanel(),this.setupModelListeners()}createDevToolsPanel(){let t=document.createElement("div");t.id="model-devtools-panel",t.style.cssText="display: none;";let o=document.createElement("div");o.innerHTML=`
            ${S_}
            <div class="dev-tools-header">
                <span>🛠 Model DevTools</span>
                <div>
                    <button id="devtools-time-travel" title="Time Travel">⏱</button>
                    <button id="devtools-close" title="Close">×</button>
                </div>
            </div>
        `;let p=document.createElement("div");p.style.cssText=`
            padding: 8px;
            height: calc(100% - 35px);
            overflow: auto;
        `,p.id="model-devtools-content",t.appendChild(o),t.appendChild(p),document.body.appendChild(t),this.createToggleButton(),document.getElementById("devtools-close").onclick=()=>this.togglePanel(),document.getElementById("devtools-time-travel").onclick=()=>this.showTimeTravelDialog()}showTimeTravelDialog(){let t=document.getElementById("model-devtools-time-travel-dialog");t||(t=document.createElement("div"),t.id="model-devtools-time-travel-dialog");let o=[...this.history].reverse().map((p,e)=>`
            <div class="time-travel-item">
                <div>Time: ${new Date(p.timestamp).toLocaleTimeString()}</div>
                <div>Type: ${p.type}</div>
                <div>Property: ${p.property||p.event||p.path||""}</div>
                <div>Value: ${p.type==="computed-update"?p.newValue:typeof p.oldValue<"u"&&typeof p.newValue<"u"?`${JSON.stringify(p.oldValue)} -> ${JSON.stringify(p.newValue)}`:JSON.stringify(p.newValue||p.value||"")}</div>
                <button style="display: none" onclick="window.__MODEL_DEVTOOLS__.timeTravel(${this.history.length-1-e})">Apply this state</button>
            </div>
        `).join("");t.innerHTML=`
            <div class="dev-tools-header">
                <span>⏱ Time Travel</span>
                <div>
                    <button style="margin-left: auto;" onclick="window.__MODEL_DEVTOOLS__.clearTimeTravel()">CLear</button>
                    <button onclick="this.parentElement.parentElement.parentElement.remove()">×</button>                
                </div>
            </div>
            <div class="time-travel-items">${o||"Nothing to show!"}</div>
        `,document.body.appendChild(t)}createToggleButton(){let t=document.createElement("button");t.id="model-dev-tools-toggle-button",t.textContent="🛠",t.title="Model DevTools",t.onclick=()=>this.togglePanel(),document.body.appendChild(t)}setupModelListeners(){this.model.store.on("change",t=>{this.logChange({type:"data-change",path:t.path,oldValue:t.oldValue,newValue:t.newValue,timestamp:Date.now()})}),this.model.store.on("*",(t,o)=>{t!=="change"&&t!=="compute"&&t!=="arrayChange"&&this.logChange({type:"store-event",event:t,data:o,timestamp:Date.now()})}),this.model.on("*",(t,o)=>{t!=="change"&&t!=="compute"&&this.logChange({type:"model-event",event:t,data:o,timestamp:Date.now()})}),this.model.store.on("compute",t=>{this.logChange({type:"computed-update",property:t.key,dependencies:Array.from(t.dependencies),newValue:t.value,timestamp:Date.now()})}),this.model.store.on("arrayChange",t=>{this.logChange({type:"array-operation",path:t.path,method:t.method,args:t.args,oldValue:t.oldValue,newValue:t.newValue,timestamp:Date.now()})})}logChange(t){this.options.enabled&&(this.options.timeTravel&&this.saveSnapshot(t),this.updateDisplay())}saveSnapshot(t){let o={...t,state:JSON.parse(JSON.stringify(this.model.data)),computed:this.getComputedValues()};this.history=this.history.slice(0,this.currentIndex+1),this.history.push(o),this.currentIndex++,this.history.length>this.options.maxSnapshots&&(this.history.shift(),this.currentIndex--)}updateDisplay(){let t=document.getElementById("model-devtools-content");if(!t)return;let o=l=>{if(l===void 0)return"undefined";if(l===null)return"null";try{return Array.isArray(l)?`Array(${l.length}) ${JSON.stringify(l,null,2)}`:JSON.stringify(l,null,2)}catch{return String(l)}},p=this.getRecentChanges(),e="";for(let l of p){let h;try{let v={...l,timestamp:new Date(l.timestamp).toLocaleTimeString()};h=JSON.stringify(v,null,2)}catch(v){h=`Error formatting change: ${v.message}`}e+=`
            <div style="border-bottom: 1px solid #444; padding-bottom: 8px; overflow-x: auto">
                <pre>${h}</pre>
            </div>
`}let i=this.getComputedValues();t.innerHTML=`
        <div class="devtools-section">
            <h3>Current State:</h3>
            <pre>${o(this.model.data)}</pre>
        </div>
        <div class="devtools-section">
            <h3>Computed Values:</h3>
            <pre>${o(i)}</pre>
        </div>
        <div class="devtools-section">
            <h3>DOM Dependencies:</h3>
            <pre>${this.formatDOMDependencies()}</pre>
        </div>
        <div class="devtools-section">
            <h3>Recent Changes:</h3>
            ${e}
        </div>
    `,document.getElementById("model-devtools-time-travel-dialog")&&this.showTimeTravelDialog()}formatDOMDependencies(){try{let t={};return this.model.dom.domDependencies.forEach((o,p)=>{t[p]=Array.from(o).map(e=>({type:e.type,element:e.element.tagName}))}),JSON.stringify(t,null,2)}catch(t){return`Error formatting DOM dependencies: ${t.message}`}}getComputedValues(){if(!this.model.computed)return{};if(typeof this.model.computed.all=="function")return this.model.computed.all();if(this.model.computed.keys&&Array.isArray(this.model.computed.keys)){let o={};for(let p of this.model.computed.keys)o[p]=this.model.computed.getValue(p);return o}let t={};for(let o in this.model.data)this.model.computed&&typeof this.model.computed[o]<"u"&&(t[o]=this.model.data[o]);return t}getRecentChanges(){return this.history.slice(-5).reverse()}togglePanel(){let t=document.getElementById("model-devtools-panel");t&&(t.style.display=t.style.display==="none"?"block":"none"),t.style.display==="none"&&document.getElementById("model-devtools-time-travel-dialog").remove()}inspect(t){return this.model.store.get(t)}timeTravel(t){this.options.timeTravel}clearTimeTravel(){this.history=[],this.currentIndex=-1,this.showTimeTravelDialog()}startPerfMonitoring(){this.perfMetrics={updates:0,computations:0,domUpdates:0,startTime:Date.now()},this.model.store.on("change",()=>{this.perfMetrics.updates++}),this.model.store.on("compute",()=>{this.perfMetrics.computations++})}getPerfReport(){let t=(Date.now()-this.perfMetrics.startTime)/1e3;return{totalUpdates:this.perfMetrics.updates,updatesPerSecond:this.perfMetrics.updates/t,computationsPerSecond:this.perfMetrics.computations/t,domUpdatesPerSecond:this.perfMetrics.domUpdates/t}}},T_=D_,E_=class{constructor(){this.middlewares=[]}use(t){if(typeof t!="function"){console.error("MIDDLEWARE should be a function!");return}this.middlewares.push(t)}async process(t){let o=-1,p=async()=>{o++,o<this.middlewares.length&&await this.middlewares[o](t,p)};return await p(),t}},A_=E_,Re=(wi=class{static log(o,p,e){if(o>wi.DEBUG_LEVEL)return;let i={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},l;switch(o){case wi.DEBUG_LEVELS.ERROR:l="error";break;case wi.DEBUG_LEVELS.WARN:l="warn";break;case wi.DEBUG_LEVELS.INFO:l="info";break;case wi.DEBUG_LEVELS.DEBUG:l="debug";break;case wi.DEBUG_LEVELS.TRACE:l="trace";break;default:return}console.group(`%c Model: ${p}`,i[l]),e!==void 0&&console.log("%c Data:",i.data,e),console.groupEnd()}static error(o,p){wi.log(wi.DEBUG_LEVELS.ERROR,o,p)}static warn(o,p){wi.log(wi.DEBUG_LEVELS.WARN,o,p)}static info(o,p){wi.log(wi.DEBUG_LEVELS.INFO,o,p)}static debug(o,p){wi.log(wi.DEBUG_LEVELS.DEBUG,o,p)}static trace(o,p){wi.log(wi.DEBUG_LEVELS.TRACE,o,p)}},re(wi,"DEBUG_LEVELS",{NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5}),re(wi,"DEBUG_LEVEL",wi.DEBUG_LEVELS.NONE),wi),M_=class extends Ff{constructor(t={},o){Re.DEBUG_LEVEL=o.options.debug?4:0,Re.debug("Model: Init ReactiveStore"),super(),this.model=o,Re.DEBUG_LEVEL=this.model.options.debug?4:0,Re.debug("Model: Init ReactiveStore"),this.state=this.createReactiveProxy(t),this.watchers=new Map,this.previousState=JSON.parse(JSON.stringify(t)),Re.debug("Model: Init MiddlewareManager"),this.middleware=new A_,Re.debug("Model: MiddlewareManager initialized"),Re.debug("Model: ReactiveStore initialized")}use(t){Re.debug("Model: Registering middleware:",t),this.middleware.use(t)}createReactiveProxy(t,o=""){return Re.debug(`Model: Creating reactive object with path ${o} for`,t),Array.isArray(t)?this.createArrayProxy(t,o):new Proxy(t,{get:(p,e)=>{if(typeof e=="symbol")return p[e];let i=p[e],l=o?`${o}.${e}`:e;return i&&typeof i=="object"?this.createReactiveProxy(i,l):i},set:async(p,e,i)=>{var x,w;if(typeof e=="symbol")return p[e]=i,!0;let l=o?`${o}.${e}`:e,h=p[e];if(h===i)return!0;if((x=this.validators)!=null&&x.has(`${l}`)&&!this.validators.get(`${l}`)(i))return!1;(w=this.formatters)!=null&&w.has(`${l}`)&&(i=this.formatters.get(`${l}`)(i)),i&&typeof i=="object"&&(i=this.createReactiveProxy(i,l));let v={prop:e,oldValue:h,newValue:i,preventDefault:!1};return await this.middleware.process(v),v.preventDefault||(p[e]=i,this.emit("change",{path:l,oldValue:h,newValue:i}),this.watchers.has(l)&&this.watchers.get(l).forEach(D=>{D(i,h)})),!0},deleteProperty:(p,e)=>{if(typeof e=="symbol")return delete p[e];let i=o?`${o}.${e}`:e,l=p[e],h=delete p[e];return h&&(this.emit("delete",{path:i,oldValue:l}),this.watchers.has(i)&&this.watchers.get(i).forEach(v=>{v(void 0,l)})),h}})}createArrayProxy(t,o){return Re.debug(`Model: Creating reactive array with path ${o} for`,t),new Proxy(t,{get:(p,e)=>{if(typeof e=="symbol")return p[e];let i=p[e];return typeof i=="function"&&["push","pop","shift","unshift","splice","sort","reverse"].includes(e)?(...l)=>{let h=[...p],v=p[e].apply(p,l),x={prop:o,oldValue:h,newValue:p,method:e,args:l,preventDefault:!1};return this.middleware.process(x).then(()=>{x.preventDefault||(this.emit("arrayChange",{path:o,method:e,args:l,oldValue:h,newValue:p}),this.emit("change",{path:o,oldValue:h,newValue:p,method:e,args:l}),this.watchers.has(o)&&this.watchers.get(o).forEach(w=>{w(p,h)}))}),v}:typeof e!="symbol"&&!isNaN(Number(e))&&i&&typeof i=="object"?this.createReactiveProxy(i,`${o}[${e}]`):i},set:async(p,e,i)=>{var x,w;if(typeof e=="symbol")return p[e]=i,!0;let l=o?`${o}.${e}`:e,h=p[e];if(h===i)return!0;if((x=this.validators)!=null&&x.has(l)&&!this.validators.get(l)(i))return!1;(w=this.formatters)!=null&&w.has(l)&&(i=this.formatters.get(l)(i)),p[e]=i,i&&typeof i=="object"&&(i=this.createReactiveProxy(i,`${o}[${e}]`));let v={prop:e,oldValue:h,newValue:i,preventDefault:!1};return await this.middleware.process(v),v.preventDefault||(p[e]=i,this.middleware.process(v).then(()=>{v.preventDefault||(this.emit("arrayChange",{path:l,method:null,args:null,oldValue:h,newValue:i}),this.emit("change",{path:l,oldValue:h,newValue:i,arrayIndex:Number(e)}),this.watchers.has(l)&&this.watchers.get(l).forEach(D=>{D(i,h)}))})),!0}})}applyArrayMethod(t,o,...p){Re.debug(`Model: Applying array method ${o} to path ${t} with args`,p);let e=this.get(t);if(!Array.isArray(e))return console.error(`Путь ${t} не является массивом!`),!1;let i=[...e],l=e[o].apply(e,p);return this.emit("arrayChange",{path:t,method:o,args:p,oldValue:i,newValue:[...e]}),this.emit("change",{path:t,oldValue:i,newValue:[...e]}),this.watchers.has(t)&&this.watchers.get(t).forEach(h=>{h([...e],i)}),l}applyArrayChanges(t,o){Re.debug(`Model: Applying custom array changes to path ${t} with callback`,o);let p=this.get(t);if(!Array.isArray(p))return console.error(`The path ${t} is not an array!`),!1;let e=[...p],i=o(p);return this.emit("arrayChange",{path:t,method:"custom",args:null,oldValue:e,newValue:[...p]}),this.emit("change",{path:t,oldValue:e,newValue:[...p]}),this.watchers.has(t)&&this.watchers.get(t).forEach(l=>{l([...p],e)}),i}detectArrayChanges(t,o=[]){Re.debug("Model: Detecting changes between arrays");let p={added:[],removed:[],moved:[]};for(let e=0;e<t.length;e++){let i=t[e],l=o.findIndex(h=>JSON.stringify(h)===JSON.stringify(i));l===-1?p.added.push({index:e,item:i}):l!==e&&p.moved.push({oldIndex:l,newIndex:e,item:i})}for(let e=0;e<o.length;e++){let i=o[e];t.findIndex(l=>JSON.stringify(l)===JSON.stringify(i))===-1&&p.removed.push({index:e,item:i})}return Re.debug("Model: Detected changes:",p),p}watch(t,o){return Re.debug(`Model: Watching path ${t} with callback`,o),this.watchers.has(t)||this.watchers.set(t,new Set),this.watchers.get(t).add(o),()=>{this.watchers.has(t)&&this.watchers.get(t).delete(o)}}get(t){if(Re.debug(`Model: Getting value at path ${t}`),!t)return this.state;let o=t.split("."),p=this.state;for(let e of o){if(p==null)return;p=p[e]}return p}set(t,o){Re.debug(`Model: Setting value at path ${t} to`,o);let p=t.split("."),e=this.state;for(let i=0;i<p.length-1;i++)e[p[i]]===void 0&&(e[p[i]]={}),e=e[p[i]];return e[p[p.length-1]]=o,o}batch(t){Re.debug("Model: Batch updating state with",t),this.previousState=JSON.parse(JSON.stringify(this.state)),typeof t=="function"?t(this.state):typeof t=="object"&&Object.entries(t).forEach(([o,p])=>{this.set(o,p)}),this.emit("batchComplete",{previousState:this.previousState,currentState:this.state})}getState(){return Re.debug("Model: Getting entire state"),this.state}getPreviousState(){return Re.debug("Model: Getting previous state"),this.previousState}toJSON(){return Re.debug("Model: Converting state to JSON"),JSON.stringify(this.state)}fromJSON(t){Re.debug("Model: Restoring state from JSON",t);let o=JSON.parse(t);this.previousState=JSON.parse(JSON.stringify(this.state)),Object.keys(this.state).forEach(p=>{delete this.state[p]}),Object.entries(o).forEach(([p,e])=>{this.state[p]=e}),this.emit("restore",{previousState:this.previousState,currentState:this.state})}addValidator(t,o){Re.debug(`Model: Adding validator for path ${t}`),this.validators||(this.validators=new Map),this.validators.set(t,o)}addFormatter(t,o){Re.debug(`Model: Adding formatter for path ${t}`),this.formatters||(this.formatters=new Map),this.formatters.set(t,o)}isValidPath(t){Re.debug(`Model: Validating path ${t}`);try{return this.get(t)!==void 0}catch(o){return Re.error(`Model: Error validating path ${t}:`,o),!1}}destroy(){this.state=null,this.watchers.clear(),this.previousState=null,Re.debug("Model: ReactiveStore destroyed")}},F_=class{constructor(t,o){Re.DEBUG_LEVEL=o.options.debug?4:0,Re.debug("Model: Init LoopManager"),this.domManager=t,this.model=o,this.loops=new Map,this.loopsIn=[],Re.debug("Model: LoopManager initialized")}parseLoops(t){Re.debug("Parsing loops with data-for...");let o=t.querySelectorAll("[data-for]");Re.debug("Found elements with data-for:",o.length),o.forEach(e=>{let i=e.getAttribute("data-for").trim(),l=i.match(/^\s*(\w+)(?:\s*,\s*(\w+))?\s+in\s+(\w+(?:\.\w+)*)\s*$/);if(!l){console.error("Invalid expression format data-for:",i);return}let[h,v,x,w]=l,D=this.model.store.get(w);if(!Array.isArray(D)){console.error(`The value in the ${w} path is not an array:`,D);return}let M=e.cloneNode(!0);this.loops.set(e,{template:M,itemName:v,indexName:x,arrayPath:w,parentNode:e.parentNode}),this.domManager.registerDomDependency(w,e,{type:"loop",arrayPath:w}),this.updateLoop(e)}),Re.debug("Parsing loops with data-in...");let p=t.querySelectorAll("[data-in]");Re.debug("Found elements with data-in:",p.length),p.forEach(e=>{let i=e.getAttribute("data-in"),l=i.match(/^\s*(\w+)\s+in\s+(\S+)\s*$/);if(!l){console.error(`Invalid data-in syntax: ${i}`);return}let[h,v,x]=l,w=e.innerHTML,D=e.parentNode,M=document.createComment(`data-in: ${i}`);e.style.display="none",D.insertBefore(M,e),this.loopsIn.push({type:"in",originalElement:e,template:w,placeholder:M,objectPath:x,keyVar:v,elements:[]});let I=this.model.store.get(x);I&&typeof I=="object"&&!Array.isArray(I)&&this.updateInLoop(this.loopsIn[this.loopsIn.length-1],I)})}updateInLoop(t,o){t.elements.forEach(p=>p.remove()),t.elements=[],!(!o||typeof o!="object"||Array.isArray(o))&&Object.keys(o).forEach(p=>{Re.debug(`Updating loop for key: ${p}`);let e=t.originalElement.cloneNode(!0);e.removeAttribute("data-in"),e.style.display="";let i={[t.keyVar]:p};e.innerHTML=this.processTemplate(t.template,o,p,i),t.placeholder.parentNode.insertBefore(e,t.placeholder.nextSibling),t.elements.push(e),this.domManager.bindDOM(e)})}processTemplate(t,o,p,e){return Re.debug("Processing template:",t),Re.debug("	 With data:",o),Re.debug(`	 For key: ${p}`),Re.debug("	 With context:",e),t.replace(/\{\{\s*([^}]+)\s*\}\}/g,(i,l)=>{l=l.trim();let h=Object.keys(e)[0];if(l===h)return p;Re.debug(`Template: Processing path: ${l}`);let v=new RegExp(`(\\w+)\\[${h}\\]`),x=l.match(v);if(x){x[1];let D=o;if(D&&typeof D=="object")return D[p]!==void 0?D[p]:""}let w=this.model.store.get(l);return w!==void 0?w:""})}updateLoops(t,o){Re.debug("Updating data-for loops for ${path}",this.loops),this.loops.forEach((p,e)=>{p.arrayPath===t&&this.updateLoop(e)}),Re.debug(`Updating data-in loops for ${t}`,this.loopsIn),this.loopsIn.forEach(p=>{if(p.type==="in"&&(p.objectPath===t||t.startsWith(p.objectPath+"."))){let e=this.model.store.get(p.objectPath);e&&typeof e=="object"&&this.updateInLoop(p,e)}})}updateLoop(t){Re.debug("Updating loop for element:",t);let o=this.loops.get(t)||this.loopsIn.find(x=>x.originalElement===t)[0];if(!o){console.error("Информация о цикле не найдена для элемента");return}let{template:p,itemName:e,indexName:i,arrayPath:l,parentNode:h}=o,v=this.model.store.get(l);if(!Array.isArray(v)){console.error("Значение не является массивом:",v);return}h.querySelectorAll(`[data-generated-for="${l}"]`).forEach(x=>x.remove()),v.forEach((x,w)=>{let D=p.cloneNode(!0);D.style.display="",D.removeAttribute("data-for"),D.setAttribute("data-generated-for",l),D.setAttribute("data-item-index",""+w),Re.debug(`Creating new loop element for ${l} at index ${w}`),this.domManager.processTemplateNode(D,{[e]:x,[i||"index"]:w}),Re.debug("Insert new node",D),h.insertBefore(D,t)}),t.style.display="none"}updateLoopPart(t,o,p,e){let i=this.loops.get(t);if(!i)return;let{template:l,itemName:h,indexName:v,parentNode:x}=i,w=this.model.store.get(o);if(!Array.isArray(w))return;let D=Array.from(x.querySelectorAll(`[data-generated-for="${o}"]`));if(e===void 0||D.length!==w.length)return this.updateLoop(t);let M=D[e];if(M){let I=l.cloneNode(!0);for(this.domManager.processTemplateNode(I,{[h]:w[e],[v||"index"]:e});M.firstChild;)M.removeChild(M.firstChild);for(;I.firstChild;)M.appendChild(I.firstChild);Array.from(I.attributes).forEach(B=>{M.setAttribute(B.name,B.value)})}}getLoops(){return{for:this.loops,in:this.loopsIn}}destroy(){this.loops.clear(),this.loopsIn=[],Re.debug("Model: LoopManager destroyed")}},yu=class{static evaluateExpression(t,o){try{if(t.startsWith("{{")&&t.endsWith("}}")){let p=t.substring(2,t.length-2).trim();return this.getValueFromContext(o,p)}return this.parseExpression(t,o)}catch(p){return console.error("Ошибка при вычислении выражения:",p),!1}}static getValueFromContext(t,o){return o?o.split(".").reduce((p,e)=>{let i=e.match(/^([^\[]+)(?:\[(\d+)\])?$/);if(i){let[l,h,v]=i,x=p==null?void 0:p[h];return v!==void 0&&Array.isArray(x)?x[parseInt(v,10)]:x}return p==null?void 0:p[e]},t):t}static parseExpression(t,o){t=t.trim();let p=t.match(/(.+?)\s*\?\s*(.+?)\s*:\s*(.+)/);if(p){let[i,l,h,v]=p;return this.parseExpression(l,o)?this.parseExpression(h,o):this.parseExpression(v,o)}if(t.includes("&&"))return t.split("&&").every(i=>this.parseExpression(i.trim(),o));if(t.includes("||"))return t.split("||").some(i=>this.parseExpression(i.trim(),o));let e=t.match(/(.+?)\s*(===|==|!==|!=|>=|<=|>|<)\s*(.+)/);if(e){let[i,l,h,v]=e,x=this.parseExpression(l.trim(),o),w=this.parseExpression(v.trim(),o);switch(h){case"==":return x==w;case"===":return x===w;case"!=":return x!=w;case"!==":return x!==w;case">":return x>w;case"<":return x<w;case">=":return x>=w;case"<=":return x<=w}}if(t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"'))return t.substring(1,t.length-1);if(/^-?\d+(\.\d+)?$/.test(t))return parseFloat(t);if(t==="true")return!0;if(t==="false")return!1;if(t==="null")return null;if(t!=="undefined")return this.getValueFromContext(o,t)}static extractVariables(t){let o=[],p=t.replace(/'[^']*'/g,"''").replace(/"[^"]*"/g,'""').match(/[a-zA-Z_][a-zA-Z0-9_]*(\.([a-zA-Z_][a-zA-Z0-9_]*))*(\[\d+\])*/g);return p&&p.forEach(e=>{let i=e.split(".")[0].split("[")[0].trim();["true","false","null","undefined"].includes(i)||o.includes(i)||o.push(i)}),o}},I_=class{constructor(t,o){Re.DEBUG_LEVEL=o.options.debug?4:0,Re.debug("ConditionalManager: Init ConditionalManager"),this.dom=t,this.model=o,this.dependencies=new Map,this.conditionalGroups=[],this.subscribe(),Re.debug("ConditionalManager: ConditionalManager initialized")}subscribe(){Re.debug("ConditionalManager: Subscribe to store changes"),this.model.store.on("change",t=>{this.getGroupsByPath(t.path).forEach(o=>{this.updateConditionalGroup(o)})})}getGroupsByPath(t){if(!t)return[];let o=new Set;return this.conditionalGroups.forEach(p=>{p.some(e=>e.expression?e.expression.includes(t)||t.startsWith(this.extractBasePath(e.expression)):!1)&&o.add(p)}),Array.from(o)}extractBasePath(t){let o=t.match(/[a-zA-Z_][a-zA-Z0-9_]*/g);return o?o[0]:""}parseConditionals(t){Re.debug("ConditionalManager: Parse conditionals (data-if, data-else-if, data-else)...");let o=t.querySelectorAll("[data-if],[data-else-if],[data-else]"),p=[],e=[];o.forEach(i=>{i.hasAttribute("data-if")?(Re.debug("ConditionalManager: Found data-if in element:",i),p.length&&e.push(p),p=[{element:i,type:"if",expression:i.getAttribute("data-if")}]):i.hasAttribute("data-else-if")?(Re.debug("ConditionalManager: Found data-else-if in element:",i),p.length&&this.isAdjacentNode(p[p.length-1].element,i)?p.push({element:i,type:"else-if",expression:i.getAttribute("data-else-if")}):(p.length&&e.push(p),p=[{element:i,type:"if",expression:i.getAttribute("data-else-if")}])):i.hasAttribute("data-else")&&(Re.debug("ConditionalManager: Found data-else in element:",i),p.length&&this.isAdjacentNode(p[p.length-1].element,i)?(p.push({element:i,type:"else",expression:null}),e.push(p),p=[]):Re.warn("data-else without previous data-if or data-else-if",i))}),p.length&&e.push(p),this.conditionalGroups=e,e.forEach(i=>this.updateConditionalGroup(i)),this.setupDependencies(o)}isAdjacentNode(t,o){let p=t.nextSibling;for(;p;){if(p===o)return!0;if(p.nodeType===1&&!this.isWhitespaceNode(p))return!1;p=p.nextSibling}return!1}isWhitespaceNode(t){return t.nodeType===3&&t.textContent.trim()===""}updateConditionalGroup(t){let o=this.model&&this.model.store?{...this.model.store.getState()}:this.model&&this.model.data?this.model.data:{},p=!1;for(let e of t)e.type==="if"||e.type==="else-if"?!p&&yu.evaluateExpression(e.expression,o)?(e.element.style.display="",p=!0):e.element.style.display="none":e.type==="else"&&(e.element.style.display=p?"none":"")}updateConditional(t,o){let p=this.findGroupForElement(t);if(p)this.updateConditionalGroup(p);else{let e=this.model&&this.model.store?{...this.model.store.getState()}:this.model&&this.model.data?this.model.data:{},i=yu.evaluateExpression(o,e);t.style.display=i?"":"none"}}findGroupForElement(t){for(let o of this.conditionalGroups||[])if(o.some(p=>p.element===t))return o;return null}setupDependencies(t){this.dependencies=new Map,t.forEach(o=>{let p;if(o.hasAttribute("data-if"))p=o.getAttribute("data-if");else if(o.hasAttribute("data-else-if"))p=o.getAttribute("data-else-if");else return;yu.extractVariables(p).forEach(e=>{this.dependencies.has(e)||this.dependencies.set(e,[]),this.dependencies.get(e).push({element:o,expression:p,type:o.hasAttribute("data-if")?"if":"else-if"})})})}getDependenciesByPath(t){let o=[];return this.dependencies.forEach((p,e)=>{(e===t||t.startsWith(e+"."))&&o.push(...p)}),o}destroy(){this.dependencies.clear(),this.conditionalGroups=[],Re.debug("ConditionalManager: Destroyed")}},L_=class{constructor(t,o){this.domManager=t,this.model=o,Re.DEBUG_LEVEL=this.model.options.debug?4:0,Re.debug("AttributeManager: Init AttributeManager")}parseAttributesBind(t){Re.debug("AttributeManager: Parsing attributes bind with data-bind...");let o=t.querySelectorAll("[data-bind]");Re.debug("AttributeManager: Found elements with data-bind:",o.length),o.forEach(p=>{Re.debug("AttributeManager: Parsing element with data-bind:",p);let e=p.getAttribute("data-bind");try{let i=JSON.parse(e.replace(/'/g,'"'));for(let[l,h]of Object.entries(i)){let v=yu.extractVariables(h);Re.debug(`AttributeManager: Found variables for ${l}:`,v),v.forEach(x=>{this.domManager.registerDomDependency(x,p,{type:"attribute",attribute:l,expression:h})}),this.updateAttributes(p,l,h)}}catch(i){console.error("An error of analysis of attachments:",i)}})}updateAttributes(t,o,p){let e={...this.model.store.getState()},i;if(p.startsWith("{{")&&p.endsWith("}}")){let h=p.substring(2,p.length-2).trim();i=this.model.store.get(h)}else i=yu.evaluateExpression(p,e);let l=t.getAttribute(o);String(i)!==l&&(i===!1||i===null||i===void 0?t.removeAttribute(o):i===!0?t.setAttribute(o,""):t.setAttribute(o,String(i)),Re.debug(`AttributeManager: Updated attribute ${o} with value:`,i))}parseAttributes(t){Re.debug("AttributeManager: Parsing attributes with colon...");let o=t.querySelectorAll("*");for(let p of o){let e=p.attributes;for(let i=0;i<e.length;i++){let l=e[i];if(l.name.startsWith(":")){Re.debug("AttributeManager: Found attribute:",l);let h=l.name.substring(1),v=l.value;this.updateElementAttribute(p,h,v),this.domManager.registerDomDependency(v,p,{type:"attribute",attribute:h,expression:v}),p.removeAttribute(l.name)}}}}updateElementAttribute(t,o,p){let e=""+this.model.store.get(p);e===void 0||e==="undefined"||(Re.debug(`AttributeManager: Updating attribute ${o} with ${e}`),o==="class"?t.className=e:o==="disabled"||o==="checked"||o==="selected"||o==="readonly"?e?t.setAttribute(o,""):t.removeAttribute(o):t.setAttribute(o,e))}update(t,o,p){Re.debug("AttributeManager: Updating element:",t),Re.debug(`	 Attribute: ${o} for:`,p),this.updateAttributes(t,o,p),this.updateElementAttribute(t,o,p)}},O_=class{constructor(t,o){Re.DEBUG_LEVEL=o.options.debug?4:0,Re.debug("EventManager: Init EventManager"),this.domManager=t,this.model=o,this.eventHandlers=new Map,Re.debug("EventManager: EventManager initialized")}parseEvents(t){Re.debug("EventManager: Parsing events with @...");let o=t.querySelectorAll("*");[t,...Array.from(o)].forEach(p=>{Array.from(p.attributes||[]).forEach(e=>{if(e.name.startsWith("@")){Re.debug(`EventManager: Found attribute with "@" ${e.name} in`,p);let i=e.name.substring(1),l=e.value.trim();this.bindEventHandler(p,i,l),p.removeAttribute(e.name)}})})}bindEventHandler(t,o,p){Re.debug(`EventManager: Binding event handler with expression ${p} for ${o} on`,t);let e=l=>{try{let h={$model:this.model,$event:l,$data:this.model.data,$dom:this.domManager},v=p.match(/(\w+)\((.*)\)/);if(v){let x=v[1],w=v[2],D=(I,B)=>I.split(".").reduce((Y,X)=>Y&&Y[X]!==void 0?Y[X]:void 0,B),M=D(x,this.model);if(M||(M=D(x,window)),typeof M=="function"){let I=[];w.trim()&&(I=w.split(",").map(B=>(B=B.trim(),B.startsWith('"')&&B.endsWith('"')||B.startsWith("'")&&B.endsWith("'")?B.slice(1,-1):isNaN(B)?B==="$event"?(Re.debug("EventManager: Requested Event",l),l):B==="$model"?(Re.debug("EventManager: Requested Model",this.model),this.model):B==="$data"?(Re.debug("EventManager: Requested Model Context",this.model.data),this.model.data):B==="$dom"?(Re.debug("EventManager: Requested DOMManager",this.domManager),this.domManager):this.model.store.get(B):Number(B)))),M.apply(h,I)}else console.warn(`EventManager: The method '${x}' not found in a model or global space!`)}else this.model.options.useSimpleExpressions?new Function(`return ${p}`).apply(this.model.data):console.warn(`EventManager: Unknown format of the event handler: '${p}'`)}catch(h){console.error(`EventManager: Error when performing an event processor '${o}': ${h.message}`)}};this.eventHandlers.has(t)||this.eventHandlers.set(t,new Map);let i=this.eventHandlers.get(t);i.has(o)&&t.removeEventListener(o,i.get(o)),i.set(o,e),t.addEventListener(o,e)}removeEventHandler(t,o){if(Re.debug(`EventManager: Removing event handler for ${o} on`,t),this.eventHandlers.has(t)){let p=this.eventHandlers.get(t);if(p.has(o)){let e=p.get(o);t.removeEventListener(o,e),p.delete(o),p.size===0&&this.eventHandlers.delete(t)}}}updateEvents(t){Re.debug("EventManager: Updating events for",t),Array.from(t.attributes||[]).forEach(o=>{if(o.name.startsWith("@")){let p=o.name.substring(1),e=o.value.trim();this.bindEventHandler(t,p,e),t.removeAttribute(o.name)}})}destroy(){Re.debug("EventManager: Destroying EventManager"),this.eventHandlers.forEach((t,o)=>{t.forEach((p,e)=>{Re.debug(`EventManager: Removing event handler for ${e} on`,o),o.removeEventListener(e,p)})}),this.eventHandlers.clear(),Re.debug("EventManager: Destroyed")}},P_=class{constructor(t){Re.DEBUG_LEVEL=t.options.debug?4:0,Re.debug("DOMManager: Init DOMManager"),this.model=t,this.elements=[],this.inputs=[],this.domDependencies=new Map,this.virtualDom=new Map,this.loopManager=new F_(this,t),this.conditionalManager=new I_(this,t),this.attributeManager=new L_(this,t),this.eventManager=new O_(this,t),Re.debug("DOMManager: DOMManager initialized")}registerDomDependency(t,o,p){this.domDependencies.has(t)||this.domDependencies.set(t,new Set),this.domDependencies.get(t).add({element:o,...p})}processTemplateNode(t,o){if(Re.debug("DOMManager: processTemplateNode",{node:t,context:o}),t.nodeType===Node.TEXT_NODE){let p=t.textContent,e=t.textContent.replace(/\{\{\s*([^}]+)\s*\}\}/g,(i,l)=>{l=l.trim();let h=o?((v,x)=>x.split(".").reduce((w,D)=>w?w[D]:void 0,v))(o,l):void 0;return h===void 0&&(h=this.model.store.get(l)),h!==void 0?h:""});p!==e&&(Re.debug(`DOMManager: updated node text from ${p} to ${e}`),t.textContent=e)}else t.nodeType===Node.ELEMENT_NODE&&Array.from(t.childNodes).forEach(p=>{this.processTemplateNode(p,o)})}parse(t){Re.debug("DOMManager: parse from",t);let o=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null),p,e=/\{\{\s*([^}]+)\s*\}\}/g;for(;p=o.nextNode();){let l,h=p.textContent,v=h;for(e.lastIndex=0;(l=e.exec(h))!==null;){Re.debug(`DOMManager: parse match found for ${h}`,l);let x=l[1].trim();this.registerDomDependency(x,p,{type:"template",template:v}),this.elements.push({node:p,propName:x,template:v})}Re.debug("DOMManager: update virtual DOM set",{node:p,text:p.textContent}),this.virtualDom.set(p,p.textContent)}Re.debug("DOMManager: Find inputs with data-model directive...");let i=t.querySelectorAll("[data-model]");Re.debug("DOMManager: Found inputs with data-model:",i.length),i.forEach(l=>{let h=l.getAttribute("data-model");Re.debug("DOMManager: Register handler for:",{input:l,property:h});let v=x=>{let w=l.type==="checkbox"||l.type==="radio"?x.target.checked:x.target.value;this.model.store.set(h,w)};l.__modelInputHandler=v,l.addEventListener("input",v),this.inputs.push({element:l,property:h})})}setInputValue(t,o){t.type==="checkbox"||t.type==="radio"?t.checked=!!o:t.value=o}updateInputs(t,o){Re.debug("DOMManager: updateInputs",{propName:t,value:o}),this.inputs.forEach(p=>{p.property===t&&(Re.debug("DOMManager: update input",{item:p,value:o}),this.setInputValue(p.element,o))})}updateAllDOM(){Re.debug("DOMManager: updateAllDOM"),this.elements.forEach(t=>{let o=t.template;o=o.replace(/\{\{\s*([^}]+)\s*\}\}/g,(p,e)=>(e=e.trim(),this.model.store.get(e))),t.node.textContent=o,Re.debug("DOMManager: updated node",{element:t,newContent:o})}),Re.debug("DOMManager: update inputs"),this.inputs.forEach(t=>{Re.debug("DOMManager: update input",{item:t});let o=this.model.store.get(t.property);this.setInputValue(t.element,o),Re.debug("DOMManager: updated input",{item:t,value:o})})}updateDOM(t,o){if(Re.debug(`DOMManager: update DOM for ${t} with ${o}`),!t){console.warn("Path is undefined in updateDOM");return}let p=o&&typeof o=="object"&&"method"in o;p&&(t=o.path||t);let e=new Set;this.domDependencies.has(t)&&this.domDependencies.get(t).forEach(v=>e.add(v));let i=t.split("."),l="";for(let v=0;v<i.length;v++)l=l?`${l}.${i[v]}`:i[v],this.domDependencies.has(l)&&this.domDependencies.get(l).forEach(x=>e.add(x));if(this.conditionalManager.getDependenciesByPath(t).forEach(v=>{v.type==="if"&&this.conditionalManager.updateConditional(v.element,v.expression)}),this.domDependencies.forEach((v,x)=>{(x.startsWith(`${t}.`)||x.startsWith(`${t}[`))&&v.forEach(w=>e.add(w))}),(Array.isArray(o)||p||typeof o=="object")&&this.loopManager.updateLoops(t,o),e.size===0)return;let h={template:[],conditional:[],loop:[],attribute:[]};e.forEach(v=>{v&&v.type&&h[v.type].push(v)}),h.template.forEach(v=>this.updateTemplateNode(v.element,v.template)),h.conditional.forEach(v=>this.conditionalManager.updateConditional(v.element,v.expression)),h.attribute.forEach(v=>this.attributeManager.update(v.element,v.attribute,v.expression)),h.loop.forEach(v=>this.loopManager.updateLoopPart(v.element,v.arrayPath,o,v.index))}updateTemplateNode(t,o){let p=o.replace(/\{\{\s*([^}]+)\s*\}\}/g,(e,i)=>(i=i.trim(),this.model.store.get(i)));this.virtualDom.get(t)!==p&&(t.textContent=p,this.virtualDom.set(t,p))}isPathDependency(t,o){return o===t||o.startsWith(`${t}.`)||o.startsWith(`${t}[`)}getDependentPaths(t){let o=[];return this.domDependencies.forEach((p,e)=>{this.isPathDependency(t,e)&&o.push(e)}),o}bindDOM(t){Re.debug("DOMManager: bind DOM from",t),this.loopManager.parseLoops(t),this.conditionalManager.parseConditionals(t),this.attributeManager.parseAttributesBind(t),this.attributeManager.parseAttributes(t),this.eventManager.parseEvents(t),this.parse(t),this.updateAllDOM(),Re.debug("DOMManager: binding completed")}destroy(){this.inputs.forEach(({element:t})=>{t.__modelInputHandler&&(t.removeEventListener("input",t.__modelInputHandler),delete t.__modelInputHandler)}),this.elements=[],this.inputs=[],this.domDependencies.clear(),this.virtualDom.clear(),this.loopManager.destroy(),this.conditionalManager.destroy(),this.eventManager.destroy(),Re.debug("DOMManager: destroyed")}},B_=class{constructor(t,o={}){Re.DEBUG_LEVEL=t.options.debug?4:0,Re.debug("Model: Init ComputedProps:",o),this.model=t,this.computed=o,this.store=t.store,this.asyncCache=new Map,this.init().then(()=>{Object.getOwnPropertyNames(this.computed).forEach(p=>{if(typeof this.computed[p].getter=="function")try{let e=this.computed[p].getter.call(this.store.getState());Re.debug(`Initializing computed property ${p}:`,e)}catch(e){console.error(`Error initializing computed property ${p}:`,e)}}),Re.debug("Model: ComputedProps initialized")})}async init(){let t=[];for(let o in this.computed){let p=this.evaluate(o);t.push(p),Object.defineProperty(this.model.data,o,{get:()=>{let e=this.computed[o];return e.isAsync?this.asyncCache.get(o):e.value},enumerable:!0,configurable:!0})}await Promise.all(t);for(let o in this.computed){let p=this.computed[o].isAsync?this.asyncCache.get(o):this.computed[o].value;this.model.dom.updateDOM(o,p),this.model.dom.updateInputs(o,p)}return!0}async evaluate(t,o=!1){let p=this.computed[t],e=new Set,i=new Proxy(this.store.getState(),{get:(h,v)=>{e.add(v);let x=h[v];return x&&typeof x=="object"?new Proxy(x,{get:(w,D)=>(e.add(`${v}.${D}`),w[D])}):x}}),l=p.getter.constructor.name==="AsyncFunction";p.isAsync=l;try{let h=await p.getter.call(i);return p.dependencies=[...e],l?this.asyncCache.set(t,h):p.value=h,this.store.emit("compute",{key:t,value:h,dependencies:e,isAsync:l}),h}catch(h){throw console.error(`Error evaluating computed property "${t}":`,h),h}}async update(t){let o=[];for(let p in this.computed){let e=(async()=>{let i=await this.evaluate(p);this.model.dom.updateDOM(p,i),this.model.dom.updateInputs(p,i)})();o.push(e)}await Promise.all(o)}all(){return Object.fromEntries(Object.entries(this.computed).map(([t,o])=>[t,o.value]))}},N_=class Mu extends Ff{constructor(o,p={}){Re.DEBUG_LEVEL=o.model.options.debug?4:0,Re.debug("Model: Init StateManager:",p),super(),this.store=o,this.options=Object.assign({id:"model"},p),Re.debug("Model: StateManager initialized")}static isStorageAvailable(){try{let o="__test__";return localStorage.setItem(o,o),localStorage.removeItem(o),!0}catch{return!1}}saveState(){if(!Mu.isStorageAvailable())return console.warn("localStorage is not available"),null;let o={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};try{return localStorage.setItem(this.options.id,JSON.stringify(o)),this.emit("saveState",o),o}catch(p){return console.error("Error saving state:",p),this.emit("saveStateError",p),null}}restoreState(){if(!Mu.isStorageAvailable())return console.warn("localStorage is not available"),null;try{let o=localStorage.getItem(this.options.id);if(o){let p=JSON.parse(o);return Object.assign(this.store.state,p.data),this.emit("restoreState",p),p}}catch(o){this.emit("restoreStateError",o)}}createSnapshot(){if(!Mu.isStorageAvailable())return console.warn("localStorage is not available"),null;let o={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};return this.emit("createSnapshot",o),o}restoreSnapshot(o){return Mu.isStorageAvailable()?o?(Object.assign(this.store.state,o.data),this.emit("restoreSnapshot",o),o):null:(console.warn("localStorage is not available"),null)}enableAutoSave(o=5e3){this.autoSaveInterval=setInterval(()=>{this.saveState()},o)}disableAutoSave(){clearInterval(this.autoSaveInterval)}},R_={id:"model",useSimpleExpressions:!0,debug:!1},z_=(Ms=class extends Ff{constructor(o={},p={}){super(),this.options=Object.assign({},R_,p),Re.DEBUG_LEVEL=this.options.debug?4:0,Re.debug("Model: Creating a model with data:",o),Re.debug("Model: Configuration options:",p),this.computed={};for(let e in o)typeof o[e]=="function"&&(Re.debug(`Model: Registration calculated property "${e}"`),this.computed[e]={getter:o[e],value:null,dependencies:[]},delete o[e]);this.store=new M_(o,this),this.data=this.store.state,this.dom=new P_(this),this.computedProps=new B_(this,this.computed),this.stateManager=new N_(this.store),this.subscribe(),Re.debug("Model: The model was created successfully!")}subscribe(){Re.debug("Model: Subscribing to store changes"),this.store.on("change",o=>{this.dom.updateDOM(o.path,o.newValue),this.dom.updateInputs(o.path,o.newValue),this.computedProps.update(o.path).then(()=>{}),this.emit("change",o)}),this.store.on("compute",o=>this.emit("compute",o)),this.store.on("arrayChange",o=>this.emit("arrayChange",o)),this.store.on("batchComplete",o=>this.emit("batchComplete",o)),Re.debug("Model: Subscribing to state manager events"),this.stateManager.on("saveState",o=>this.emit("saveState",o)),this.stateManager.on("saveStateError",o=>this.emit("saveStateError",o)),this.stateManager.on("restoreState",o=>this.emit("restoreState",o)),this.stateManager.on("restoreStateError",o=>this.emit("restoreStateError",o)),this.stateManager.on("createSnapshot",o=>this.emit("createSnapshot",o)),this.stateManager.on("restoreSnapshot",o=>this.emit("restoreSnapshot",o))}addValidator(o,p){this.store.addValidator(o,p)}addFormatter(o,p){this.store.addFormatter(o,p)}use(o){this.store.use(o)}watch(o,p){this.store.watch(o,p)}batch(o){return this.store.batch(o)}diffArrays(o,p){return this.store.detectArrayChanges(o,p)}diff(){}validate(){let o=[],p=[];for(let e in this.computed){let i=new Set,l=this._checkCyclicDependencies(e,i);l&&o.push({type:"CYCLIC_DEPENDENCY",property:e,message:`Cyclic dependence is found: ${l.join(" -> ")}`})}return this.dom.domDependencies.forEach((e,i)=>{this.store.isValidPath(i)||p.push({type:"INVALID_PATH",path:i,message:`Property ${i} used in the template, but does not exist in the model`})}),{errors:o,warnings:p}}_checkCyclicDependencies(o,p,e=[]){if(p.has(o))return[...e,o];p.add(o),e.push(o);let i=this.computed[o];if(!i||!i.dependencies)return null;for(let l of i.dependencies)if(l in this.computed){let h=this._checkCyclicDependencies(l,new Set(p),[...e]);if(h)return h}return null}validatePath(o){return this.store.isValidPath(o)}init(o){Re.debug("Model: Initializing DOM bindings");let p=typeof o=="string"?document.querySelector(o):o;return p||(p=document.body),Re.debug(`Model: Model initialized in ${o??"body"}`),Re.debug("Model: Binding DOM"),this.dom.bindDOM(p),this.emit("init"),Re.debug("Model: Initialization complete!"),this}runDevTools(o={}){return new T_(this,o)}save(){return this.stateManager.saveState()}restore(){return this.stateManager.restoreState()}snapshot(o){return o?this.stateManager.restoreSnapshot(s):this.stateManager.createSnapshot()}autoSave(o){o?this.stateManager.enableAutoSave(o):this.stateManager.disableAutoSave()}static registerPlugin(o,p){if(Ms.plugins.has(o))throw new Error(`Plugin ${o} already registered`);Ms.plugins.set(o,p),this.emit("pluginRegistered",o)}usePlugin(o,p={}){let e=Ms.plugins.get(o);return e||console.error(`Plugin ${o} not found`),new e(this,p),this}static removePlugin(o){Ms.plugins.has(o)&&(Ms.plugins.delete(o),this.emit("pluginUnregistered",o))}destroy(){this.dom.destroy(),this.store.destroy(),this.emit("destroy")}},re(Ms,"plugins",new Map),Ms),sm=z_,H_="0.17.1",$_="02.05.2025, 15:21:51";sm.info=()=>{console.info(`%c Model %c v${H_} %c ${$_} `,"color: white; font-weight: bold; background: #0080fe","color: white; background: darkgreen","color: white; background: #0080fe;")};var V_=sm;globalThis.Model=V_,(t=>{globalThis.__version__="5.1.2",globalThis.__build_time__="08.05.2025, 14:02:00";let o=t.meta("metro:init").attr("content"),p=t.meta("metro:cloak").attr("content"),e=t.meta("metro:cloak_duration").attr("content"),i=t.meta("metro:blur").attr("content"),l=t.meta("metro:smooth").attr("content"),h=t.meta("metro:theme").attr("content"),v=t.meta("metro:info").attr("content"),x=t.meta("metro:jquery").attr("content"),w=t.meta("metro:debug").attr("content");globalThis.METRO_INIT=o?JSON.parse(o):!0,h!==void 0&&t("html").addClass(h==="auto"?t.dark?"dark-side":"":h==="dark"?"dark-side":"light-side"),globalThis.METRO_BLUR_IMAGE=i?JSON.parse(i):!1,globalThis.jquery_present=typeof globalThis.jQuery<"u",globalThis.METRO_JQUERY=x?JSON.parse(x):!0,globalThis.useJQuery=globalThis.jquery_present&&globalThis.METRO_JQUERY,globalThis.METRO_SHOW_INFO=v?JSON.parse(v):!0,globalThis.METRO_DEBUG=w?JSON.parse(w):!1,globalThis.METRO_CLOAK_REMOVE=p?`${p}`.toLowerCase():"fade",globalThis.METRO_CLOAK_DURATION=e?Number.parseInt(e):300,globalThis.METRO_SMOOTH_SCROLL=l?JSON.parse(l):!0,globalThis.METRO_DATE_FORMAT="DD.MM.YYYY",globalThis.METRO_TIME_FORMAT="HH:mm:ss",globalThis.METRO_DATETIME_FORMAT="DD.MM.YYYY HH:mm:ss",globalThis.METRO_TIMEOUT=3e3,globalThis.METRO_MEDIA=[]})(Dom);var Od="ontouchstart"in window,W_={controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:Od?"touchstart":"mousedown",stop:Od?"touchend":"mouseup",move:Od?"touchmove":"mousemove",enter:Od?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",LD:"(min-width: 640px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)",XXXL:"(min-width: 2000px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452,XXXL:2e3},media_mode:{FS:"fs",XS:"xs",SM:"sm",LD:"ld",MD:"md",LG:"lg",XL:"xl",XXL:"xxl",XXXL:"xxxl"},media_modes:["fs","xs","sm","ld","md","lg","xl","xxl","xxxl"],actions:{NONE:0,REMOVE:1,HIDE:2,MINIMIZE:3,MAXIMIZE:4,CLOSE:5,RESTORE:6,SHOW:7},theme:{LIGHT:"light",DARK:"dark"}};(t=>{if(typeof Dom>"u")throw new Error("Metro UI requires Dom library!");if(!("MutationObserver"in window))throw new Error("Metro UI requires MutationObserver!");let o="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,p=i=>typeof i!="string"?void 0:i.replace(/-/g,"").toLowerCase(),e={version:"5.1.2",build_time:"08.05.2025, 14:02:00",buildNumber:0,isTouchable:o,fullScreenEnabled:document.fullscreenEnabled,sheet:null,hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},info:()=>{typeof globalThis.METRO_SHOW_INFO<"u"&&e.welcome()},welcome:()=>{console.info(`%c METRO UI %c v${e.version} %c ${e.build_time} `,"color: pink; font-weight: bold; background: #800000","color: white; background: darkgreen","color: white; background: #0080fe;"),globalThis.$&&t.info&&t.info(),globalThis.Hooks&&Hooks.info&&Hooks.info(),globalThis.HTML&&HTML.info&&HTML.info(),globalThis.Farbe&&Farbe.info&&Farbe.info(),globalThis.Datetime&&Datetime.info&&Datetime.info(),globalThis.Str&&Str.info&&Str.info(),globalThis.G&&G.info&&G.info(),globalThis.Router&&Router.info&&Router.info(),globalThis.Model&&Model.info&&Model.info()},aboutDlg:()=>{alert(`Metro UI - v${e.version}`)},observe:()=>{let i={childList:!0,attributes:!0,subtree:!0},l=h=>{h.map(v=>{if(v.type==="attributes"&&v.attributeName!=="data-role")if(v.attributeName==="data-hotkey")e.initHotkeys([v.target],!0);else{let x=t(v.target),w=x.data("metroComponent"),D=v.attributeName,M=x.attr(D),I=v.oldValue;w!==void 0&&(x.fire("attr-change",{attr:D,newValue:M,oldValue:I,__this:x[0]}),t.each(w,function(){let B=e.getPlugin(x,this);B&&typeof B.changeAttribute=="function"&&B.changeAttribute(D,M,I)}))}else if(v.type==="childList"&&v.addedNodes.length>0){let x=[],w=[],D,M,I=v.addedNodes;if(I.length){for(let B of t(I).find("[data-hotkey]"))w.push(t(B));for(let B=0;B<I.length;B++)M=I[B],D=t(M),D.attr("data-role")!==void 0&&x.push(M),t.each(D.find("[data-role]"),function(){x.indexOf(this)===-1&&x.push(this)});x.length&&e.initWidgets(x,"observe"),w.length&&e.initHotkeys(w)}}})};new MutationObserver(l).observe(t("html")[0],i)},init:()=>{let i=t("[data-role]"),l=t("[data-hotkey]"),h=t("html");if(e.i18n.load(h.attr("lang")),e.info(),o===!0&&h.addClass("touchable-device"),e.sheet=e.utils.newCssSheet(),e.utils.addCssRule(e.sheet,"*, *::before, *::after","box-sizing: border-box;"),globalThis.METRO_MEDIA=[],t.each(e.media_queries,(v,x)=>{e.utils.media(x)&&globalThis.METRO_MEDIA.push(e.media_mode[v])}),e.observe(),e.initHotkeys(l),e.initWidgets(i,"init"),globalThis.METRO_CLOAK_REMOVE!=="fade"?(t(".m4-cloak").removeClass("m4-cloak"),t(".cloak").removeClass("cloak"),t(globalThis).fire("metro-initiated")):t(".m4-cloak, .cloak").animate({draw:{opacity:[0,1]},dur:300,onDone:()=>{t(".m4-cloak").removeClass("m4-cloak"),t(".cloak").removeClass("cloak"),t(globalThis).fire("metro-initiated")}}),t(document).on("click","[data-copy-to-clipboard]",function(){let v=t(this).attr("data-copy-to-clipboard");e.utils.copy2clipboard(v),e.toast&&e.toast.create(`Data ${v} copied to clipboard!`)}),METRO_SMOOTH_SCROLL){let v=document.querySelectorAll('a.smooth-scroll[href^="#"]');for(let x of v)x.addEventListener("click",w=>{w.preventDefault();let D=x.getAttribute("href");document.querySelector(D).scrollIntoView({behavior:"smooth",block:"start"})})}},initHotkeys:(i,l)=>{t.each(i,function(){let h=t(this),v=h.attr("data-hotkey")?h.attr("data-hotkey").toLowerCase():!1,x=h.attr("data-hotkey-func")?h.attr("data-hotkey-func"):!1;v!==!1&&(h.data("hotKeyBonded")===!0&&l!==!0||(e.hotkeys[v]=[this,x],h.data("hotKeyBonded",!0),h.fire("hot-key-bonded",{__this:h[0],hotkey:v,fn:x})))})},initWidgets:i=>{t.each(i,function(){let l=t(this);this.hasAttribute("data-role")&&l.attr("data-role").split(/\s*,\s*/).map(h=>{let v=e.utils.$(),x=p(h);if(v.fn[x]!==void 0&&l.attr(`data-role-${x}`)===void 0)try{v.fn[x].call(l),l.attr(`data-role-${x}`,!0);let w=l.data("metroComponent");w===void 0?w=[x]:w.push(x),l.data("metroComponent",w),l.fire("create",{__this:l[0],name:x}),t(document).fire("component-create",{element:l[0],name:x})}catch(w){throw console.error(`Error creating component ${h} for `,l[0]),w}})}),e.i18n.updateUI()},plugin:(i,l)=>{let h=p(i),v=x=>{x.fn[h]=function(w){return this.each(function(){x.data(this,h,Object.create(l).init(w,this))})}};v(Dom),globalThis.useJQuery&&v(globalThis.jQuery)},pluginExists:i=>typeof(globalThis.useJQuery?globalThis.jQuery:Dom).fn[p(i)]=="function",destroyPlugin:(i,l)=>{let h=t(i),v=p(l),x=e.getPlugin(h,v);if(typeof x>"u"){console.warn(`Component ${l} can not be destroyed: the element is not a Metro UI component.`);return}if(typeof x.destroy!="function"){console.warn(`Component ${l} can not be destroyed: method destroy not found.`);return}x.destroy();let w=h.data("metroComponent");e.utils.arrayDelete(w,v),h.data("metroComponent",w),t.removeData(h[0],v),h.removeAttr(`data-role-${v}`)},destroyPluginAll:i=>{let l=t(i),h=l.data("metroComponent");h!==void 0&&h.length>0&&t.each(h,function(){e.destroyPlugin(l[0],this)})},noop:()=>{},noop_true:()=>!0,noop_false:()=>!1,noop_arg:i=>i,requestFullScreen:i=>{i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullScreen?i.webkitRequestFullScreen():i.msRequestFullscreen?i.msRequestFullscreen():i.requestFullscreen().catch(l=>{console.warn(`Error attempting to enable full-screen mode: ${l.message} ${l.name}`)})},exitFullScreen:()=>{document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch(i=>{console.warn(`Error attempting to disable full-screen mode: ${i.message} ${i.name}`)})},inFullScreen:()=>(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)!==void 0,$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,get$el:i=>e.$()(t(i)[0]),get$elements:i=>e.$()(t(i)),getPlugin:(i,l)=>{let h=p(l),v=e.get$el(i);return v.length?v.data(h):void 0},getPlugins:i=>{let l=e.get$el(i),h=l.data("metroComponent");return h===void 0?[]:h.map(v=>{let x=p(v);return l.data(x)})},makePlugin:(i,l,h)=>{let v=p(l),x=e.get$elements(i);return x.length&&typeof x[v]=="function"?x[v](h):void 0},Component:(i,l)=>{let h=p(i),v=e.utils,x=t.extend({name:h},{_super:function(w,D,M,I){this.elem=w,this.element=t(w),this.options=t.extend({},M,D),this.component=this.elem,this.locale="en",this.strings={},this._setOptionsFromDOM(),this._runtime(),this._setLocale(),I&&typeof I=="object"&&t.each(I,(B,Y)=>{this[B]=Y}),this._createExec()},_setOptionsFromDOM:function(){let w=this.element,D=this.options;t.each(w.data(),(M,I)=>{if(M in D)try{D[M]=JSON.parse(I)}catch{D[M]=I}})},_runtime:function(){let w=this.element,D,M=(w.attr("data-role")||"").toArray(",").map(I=>p(I)).filter(I=>I.trim()!=="");w.attr(`data-role-${this.name}`)||(w.attr(`data-role-${this.name}`,!0),M.indexOf(this.name)===-1&&(M.push(this.name),w.attr("data-role",M.join(","))),D=w.data("metroComponent"),D===void 0?D=[this.name]:D.push(this.name),w.data("metroComponent",D))},_createExec:function(){let w=this.options[`${this.name}Deferred`];w?setTimeout(()=>{this._create()},w):this._create()},_fireEvent:function(w,D,M,I,B=null){let Y=this.element,X=this.options,ie=str(w).camelCase().capitalize(!1).value,Fe=t.extend({},D,{__this:Y[0]});return M&&(console.warn(M),console.warn(`Event: on${ie}`),console.warn("Data: ",D),console.warn("Element: ",Y[0])),I!==!0&&Y.fire(ie.toLowerCase(),D),v.exec(X[`on${ie}`],Object.values(Fe),B||Y[0])},_fireEvents:function(w,D,M,I,B){let Y=this;if(arguments.length===0)return;if(arguments.length===1)return t.each(w,function(){Y._fireEvent(this.name,this.data,this.log,this.noFire,B)}),v.objectLength(w);if(!Array.isArray(w)&&typeof w!="string")return;let X=Array.isArray(w)?w:w.toArray(",");t.each(X,function(){Y._fireEvent(this,D,M,I,B)})},_setLocale:function(){let w=this.element.closest("[lang]");w.length>0?this.locale=w.attr("lang"):this.locale=t("html").attr("lang")||"en",this.strings=t.extend({},e.locales.en,e.locales[this.locale])},getComponent:function(){return this.component},getComponentName:function(){return this.name}},l);return e.plugin(h,x),x},fetch:{status:i=>i.ok?Promise.resolve(i):Promise.reject(new Error(i.statusText)),json:i=>i.json(),text:i=>i.text(),form:i=>i.formData(),blob:i=>i.blob(),buffer:i=>i.arrayBuffer()},i18n:{language:"en",load(i="en"){e.i18n.language=e.locales[i]?i:"en",e.locale=e.locales[e.i18n.language]},add(i,l){e.locales[i]=l},get(i,l){return e.locales[l]&&e.locales[l][i]?e.locales[l][i]:""},updateUI(i,l){let h=l||t.html().attr("lang")||"en",v=i||document;if(e.locales[h]){e.i18n.load(h),t.html().attr("lang",h);for(let x of v.querySelectorAll("[data-i18n]")){let w=x.getAttribute("data-i18n");x.innerHTML=e.i18n.get(w,h)}}},extend(i){t.each(i,(l,h)=>{e.locales[l]=Object.assign({},e.locales[l],h)})}}};return Object.assign(e,W_),t(globalThis).on(e.events.resize,()=>{globalThis.METRO_MEDIA=[],t.each(e.media_queries,(i,l)=>{e.utils.media(l)&&globalThis.METRO_MEDIA.push(e.media_mode[i])})}),globalThis.Metro=e,globalThis.METRO_INIT===!0&&t(()=>{e.init()}),e})(Dom),Metro.i18n.add("en",{weekStart:0,january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",january_short:"Jan",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dec",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday_short:"Sun",monday_short:"Mon",tuesday_short:"Tue",wednesday_short:"Wed",thursday_short:"Thu",friday_short:"Fri",saturday_short:"Sat",sunday_short_2:"Su",monday_short_2:"Mo",tuesday_short_2:"Tu",wednesday_short_2:"We",thursday_short_2:"Th",friday_short_2:"Fr",saturday_short_2:"Sa",label_ok:"OK",label_cancel:"Cancel",label_done:"Done",label_today:"Today",label_now:"Now",label_clear:"Clear",label_help:"Help",label_yes:"Yes",label_no:"No",label_random:"Random",label_save:"Save",label_reset:"Reset",label_submit:"Submit",label_add_user_color:"Add to swatches",label_send:"Send",label_accept:"Accept",label_cookies_title:"This site uses cookies",label_cookies_text:"This website uses cookies to ensure you get the best experience on our website.",label_choose_file:"Choose file(s)",label_drop_file:"Click or drop file(s) here",label_files_selected:"{n} file(s) selected",label_days:"days",label_hours:"hours",label_minutes:"min",label_seconds:"sec",label_month:"mon",label_months:"mon's",label_day:"day",label_year:"year",label_years:"years",label_rows_count:"Show:",label_search:"Search:",label_table_info:"Showing $1 to $2 of $3 entries",label_prev:"Prev",label_next:"Next",label_all:"All",label_inspector:"Inspector",label_goto_page:"Goto",label_enter_page:"Enter page...",label_empty:"Nothing to show",label_user_colors:"User Colors",label_tiles:"Tiles",label_list:"List",label_load_more:"Load more",label_buy:"Buy",label_buy_now:"Buy now",label_buy_today:"Buy today",label_download:"Download",label_search_results:"Search results",label_add:"Add",label_edit:"Edit",label_delete:"Delete",label_new:"New",label_sell:"Sell",label_details:"Details",label_sorting:"Sorting",label_finish:"Finish",label_on:"on",label_off:"off",label_rename_tab:"Rename tab",label_close_tab:"Close tab",label_close_other_tabs:"Close other tabs",label_close_tabs_left:"Close tabs left",label_close_tabs_right:"Close tabs right",label_close_all_tabs:"Close all tabs",label_close_inactive_tabs:"Close inactive tabs",label_clear_input:"Clear input",label_reveal_password:"Reveal password",label_hide_password:"Hide password",label_generate_random:"Generate random value",label_search_input:"Search for the entered value",label_note:"Note",label_tip:"Tip",label_info:"Info",label_warning:"Warning",label_question:"Question",label_error:"Error",label_success:"Success",label_caution:"Caution",label_alert:"Alert",label_bug:"Bug",label_fuck:"Fuck",label_important:"Important",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("uk",{weekStart:1,january:"Січень",february:"Лютий",march:"Березень",april:"Квітень",may:"Травень",june:"Червень",july:"Липень",august:"Серпень",september:"Вересень",october:"Жовтень",november:"Листопад",december:"Грудень",january_short:"Січ",february_short:"Лют",march_short:"Бер",april_short:"Кві",may_short:"Тра",june_short:"Чер",july_short:"Лип",august_short:"Сер",september_short:"Вер",october_short:"Жов",november_short:"Лис",december_short:"Гру",sunday:"Неділя",monday:"Понеділок",tuesday:"Вівторок",wednesday:"Середа",thursday:"Четвер",friday:"П'ятниця",saturday:"Субота",sunday_short:"Нед",monday_short:"Пон",tuesday_short:"Вів",wednesday_short:"Сер",thursday_short:"Чет",friday_short:"Птн",saturday_short:"Суб",sunday_short_2:"Нд",monday_short_2:"Пн",tuesday_short_2:"Вт",wednesday_short_2:"Ср",thursday_short_2:"Чт",friday_short_2:"Пт",saturday_short_2:"Сб",label_ok:"OK",label_cancel:"Відміна",label_done:"Виконано",label_today:"Сьогодні",label_now:"Зараз",label_clear:"Очистити",label_help:"Допомога",label_yes:"Так",label_no:"Ні",label_random:"Випадково",label_save:"Зберігти",label_reset:"Скинути",label_submit:"Відправити",label_add_user_color:"Додати до зразків",label_send:"Відправити",label_accept:"Прийняти",label_cookies_title:"Цей сайт використовує файли cookie",label_cookies_text:"Цей веб-сайт використовує файли cookie, щоб забезпечити вам найкращий досвід використання нашого веб-сайту.",label_choose_file:"Виберіть файл(и)",label_drop_file:"Натисніть або перетягніть файл(и) сюди",label_files_selected:"Вибрано {n} файл(ів)",label_days:"дні",label_hours:"год",label_minutes:"хвил",label_seconds:"сек",label_month:"міс",label_months:"місяці",label_day:"день",label_year:"рік",label_years:"років",label_rows_count:"Показати:",label_search:"Пошук:",label_table_info:"Відображено з $1 по $2 із $3 записів",label_prev:"Попередній",label_next:"Наступний",label_all:"Усі",label_inspector:"Інспектор",label_goto_page:"Перейти",label_enter_page:"Введіть сторінку...",label_empty:"Нічого показати",label_user_colors:"Кольори користувача",label_tiles:"Плитка",label_list:"Список",label_load_more:"Показати ще",label_buy:"Купити",label_buy_now:"Купити зараз",label_buy_today:"Купити сьогодні",label_download:"Завантажити",label_search_results:"Результати пошуку",label_add:"Додати",label_edit:"Редагувати",label_delete:"Видалити",label_new:"Нове",label_sell:"Продати",label_details:"Подробиці",label_sorting:"Сортування",label_finish:"Фініш",label_on:"увм",label_off:"вим",label_rename_tab:"Перейменувати вкладку",label_close_tab:"Закрити вкладку",label_close_other_tabs:"Закрити інші вкладки",label_close_tabs_left:"Закрити вкладки ліворуч",label_close_tabs_right:"Закрити вкладки праворуч",label_close_all_tabs:"Закрийте всі вкладки",label_close_inactive_tabs:"Закрити неактивні вкладки",label_clear_input:"Очистити введення",label_reveal_password:"Відкрити пароль",label_hide_password:"Приховати пароль",label_generate_random:"Генерувати випадковe значення",label_search_input:"Шукати введене значення",label_note:"Примітка",label_tip:"Підказка",label_info:"Інформація",label_warning:"Увага",label_question:"Питання",label_error:"Помилка",label_success:"Успіх",label_caution:"Обережно",label_alert:"Попередження",label_bug:"Помилка",label_fuck:"Бля",label_important:"Важливо",label_shit:"От лайно",label_air:"Пуффф...",label_select_all:"Вибрати усі",label_select_more:"Виберіть...",label_select:"Вибрати",label_filter:"Фільтр",label_collapse:"Згорнути"}),Metro.i18n.add("pt",{weekStart:0,january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",january_short:"Jan",february_short:"Fev",march_short:"Mar",april_short:"Abr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Set",october_short:"Out",november_short:"Nov",december_short:"Dez",sunday:"Domingo",monday:"Segunda-feira",tuesday:"Terça-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"Sábado",sunday_short:"Dom",monday_short:"Seg",tuesday_short:"Ter",wednesday_short:"Qua",thursday_short:"Qui",friday_short:"Sex",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"S",tuesday_short_2:"T",wednesday_short_2:"Q",thursday_short_2:"Q",friday_short_2:"S",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Concluído",label_today:"Hoje",label_now:"Agora",label_clear:"Limpar",label_help:"Ajuda",label_yes:"Sim",label_no:"Não",label_random:"Aleatório",label_save:"Salvar",label_reset:"Redefinir",label_submit:"Enviar",label_add_user_color:"Adicionar aos tons",label_send:"Enviar",label_accept:"Aceitar",label_cookies_title:"Este site usa cookies",label_cookies_text:"Este site utiliza cookies para garantir a melhor experiência em nosso site.",label_choose_file:"Escolher arquivo(s)",label_drop_file:"Clique ou solte o(s) arquivo(s) aqui",label_files_selected:"{n} arquivo(s) selecionado(s)",label_days:"dias",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mês",label_months:"meses",label_day:"dia",label_year:"ano",label_years:"anos",label_rows_count:"Mostrar:",label_search:"Pesquisar:",label_table_info:"Mostrando $1 a $2 de $3 entradas",label_prev:"Anterior",label_next:"Próximo",label_all:"Todos",label_inspector:"Inspetor",label_goto_page:"Ir para",label_enter_page:"Digite a página...",label_empty:"Nada para mostrar",label_user_colors:"Cores do usuário",label_tiles:"Blocos",label_list:"Lista",label_load_more:"Carregar mais",label_buy:"Comprar",label_buy_now:"Comprar agora",label_buy_today:"Comprar hoje",label_download:"Baixar",label_search_results:"Resultados da pesquisa",label_add:"Adicionar",label_edit:"Editar",label_delete:"Excluir",label_new:"Novo",label_sell:"Vender",label_details:"Detalhes",label_sorting:"Ordenação",label_finish:"Finish",label_on:"ligado",label_off:"desligado",label_rename_tab:"Renomear aba",label_close_tab:"Fechar aba",label_close_other_tabs:"Fechar outras abas",label_close_tabs_left:"Fechar abas à esquerda",label_close_tabs_right:"Fechar abas à direita",label_close_all_tabs:"Fechar todas as abas",label_close_inactive_tabs:"Fechar abas inativas",label_clear_input:"Limpar entrada",label_reveal_password:"Mostrar senha",label_hide_password:"Ocultar senha",label_generate_random:"Gerar valor aleatório",label_search_input:"Pesquisar o valor inserido",label_note:"Nota",label_tip:"Dica",label_info:"Informação",label_warning:"Aviso",label_question:"Pergunta",label_error:"Erro",label_success:"Sucesso",label_caution:"Cuidado",label_alert:"Alerta",label_bug:"Erro",label_fuck:"Droga",label_important:"Importante",label_shit:"Merda",label_air:"Ar",label_select_all:"Selecionar tudo",label_select_more:"Selecionar...",label_select:"Selecionar",label_filter:"Filtrar",label_collapse:"Recolher"}),Metro.i18n.add("pt-BR",{weekStart:0,january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",january_short:"Jan",february_short:"Fev",march_short:"Mar",april_short:"Abr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Set",october_short:"Out",november_short:"Nov",december_short:"Dez",sunday:"Domingo",monday:"Segunda",tuesday:"Terça",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"Sábado",sunday_short:"Dom",monday_short:"Seg",tuesday_short:"Ter",wednesday_short:"Qua",thursday_short:"Qui",friday_short:"Sex",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"S",tuesday_short_2:"T",wednesday_short_2:"Q",thursday_short_2:"Q",friday_short_2:"S",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Pronto",label_today:"Hoje",label_now:"Agora",label_clear:"Limpar",label_help:"Ajuda",label_yes:"Sim",label_no:"Não",label_random:"Aleatório",label_save:"Salvar",label_reset:"Resetar",label_submit:"Enviar",label_add_user_color:"Adicionar às amostras",label_send:"Enviar",label_accept:"Aceitar",label_cookies_title:"Este site usa cookis",label_cookies_text:"Este site utiliza cookies para garantir que você tenha a melhor experiência.",label_choose_file:"Escolher arquivo(s)",label_drop_file:"Clique ou solte arquivo(s) aqui",label_files_selected:"{n} arquivo(s) selecionado(s)",label_days:"dias",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mês",label_months:"meses",label_day:"dia",label_year:"ano",label_years:"anos",label_rows_count:"Exibir:",label_search:"Pesquisar:",label_table_info:"Exibindo de $1 até $2 de um total de $3 registros",label_prev:"Anterior",label_next:"Próximo",label_all:"Todos",label_inspector:"Inspetor",label_goto_page:"Ir para",label_enter_page:"Digite a página...",label_empty:"Nada para exibir",label_user_colors:"Cores do usuário",label_tiles:"Blocos",label_list:"Lista",label_load_more:"Carregar mais",label_buy:"Comprar",label_buy_now:"Comprar agora",label_buy_today:"Comprar hoje",label_download:"Download",label_search_results:"Pesquisar resultados",label_add:"Adicionar",label_edit:"Editar",label_delete:"Excluir",label_new:"Novo",label_sell:"Vender",label_details:"Detalhes",label_sorting:"Ordenar",label_finish:"Finish",label_on:"lig",label_off:"deslig",label_rename_tab:"Renomear aba",label_close_tab:"Fechar aba",label_close_other_tabs:"Fechar outras abas",label_close_tabs_left:"Fechar abas a esquerda",label_close_tabs_right:"Fechar abas a direita",label_close_all_tabs:"Fechar todas as abas",label_close_inactive_tabs:"Fechar abas inativas",label_clear_input:"Limpar",label_reveal_password:"Mostrar senha",label_hide_password:"Ocultar senha",label_generate_random:"Gerar valor aleatório",label_search_input:"Pesquisar pelo valor",label_note:"Nota",label_tip:"Dica",label_info:"Informação",label_warning:"Aviso",label_question:"Questão",label_error:"Erro",label_success:"Sucesso",label_caution:"Cuidado",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falha catastrótico",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("es",{weekStart:0,january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",january_short:"Ene",february_short:"Feb",march_short:"Mar",april_short:"Abr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mié",thursday_short:"Jue",friday_short:"Vie",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"X",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Hecho",label_today:"Hoy",label_now:"Ahora",label_clear:"Limpiar",label_help:"Ayuda",label_yes:"Sí",label_no:"No",label_random:"Aleatorio",label_save:"Guardar",label_reset:"Restablecer",label_submit:"Enviar",label_add_user_color:"Añadir a colores",label_send:"Enviar",label_accept:"Aceptar",label_cookies_title:"Este sitio utiliza cookies",label_cookies_text:"Este sitio web utiliza cookies para garantizar que obtenga la mejor experiencia en nuestro sitio web.",label_choose_file:"Seleccionar archivo(s)",label_drop_file:"Haga clic o suelte archivo(s) aquí",label_files_selected:"{n} archivo(s) seleccionado(s)",label_days:"días",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mes",label_months:"meses",label_day:"día",label_year:"año",label_years:"años",label_rows_count:"Mostrar:",label_search:"Buscar:",label_table_info:"Mostrando $1 a $2 de $3 entradas",label_prev:"Anterior",label_next:"Siguiente",label_all:"Todo",label_inspector:"Inspector",label_goto_page:"Ir a",label_enter_page:"Introducir página...",label_empty:"Nada que mostrar",label_user_colors:"Colores de usuario",label_tiles:"Cuadrículas",label_list:"Lista",label_load_more:"Cargar más",label_buy:"Comprar",label_buy_now:"Comprar ahora",label_buy_today:"Comprar hoy",label_download:"Descargar",label_search_results:"Resultados de búsqueda",label_add:"Añadir",label_edit:"Editar",label_delete:"Eliminar",label_new:"Nuevo",label_sell:"Vender",label_details:"Detalles",label_sorting:"Ordenar",label_finish:"Finish",label_on:"encendido",label_off:"apagado",label_rename_tab:"Renombrar pestaña",label_close_tab:"Cerrar pestaña",label_close_other_tabs:"Cerrar otras pestañas",label_close_tabs_left:"Cerrar pestañas a la izquierda",label_close_tabs_right:"Cerrar pestañas a la derecha",label_close_all_tabs:"Cerrar todas las pestañas",label_close_inactive_tabs:"Cerrar pestañas inactivas",label_clear_input:"Limpiar entrada",label_reveal_password:"Mostrar contraseña",label_hide_password:"Ocultar contraseña",label_generate_random:"Generar valor aleatorio",label_search_input:"Buscar el valor ingresado",label_note:"Nota",label_tip:"Consejo",label_info:"Información",label_warning:"Advertencia",label_question:"Pregunta",label_error:"Error",label_success:"Éxito",label_caution:"Precaución",label_alert:"Alerta",label_bug:"Error",label_fuck:"Maldición",label_important:"Importante",label_shit:"Mierda",label_air:"Aire",label_select_all:"Seleccionar todo",label_select_more:"Seleccionar...",label_select:"Seleccionar",label_filter:"Filtrar",label_collapse:"Colapsar"}),Metro.i18n.add("es-ES",{weekStart:0,january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",january_short:"Ene",february_short:"Feb",march_short:"Mar",april_short:"Abr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mié",thursday_short:"Jue",friday_short:"Vie",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Listo",label_today:"Hoy",label_now:"Ahora",label_clear:"Limpiar",label_help:"Ayuda",label_yes:"Sí",label_no:"No",label_random:"Aleatorio",label_save:"Guardar",label_reset:"Restablecer",label_submit:"Enviar",label_add_user_color:"Agregar a la paleta",label_send:"Enviar",label_accept:"Aceptar",label_cookies_title:"Este sitio usa cookies",label_cookies_text:"Este sitio utiliza cookies para garantizar que tengas la mejor experiencia.",label_choose_file:"Elegir archivo(s)",label_drop_file:"Haz clic o suelta archivo(s) aquí",label_files_selected:"{n} archivo(s) seleccionado(s)",label_days:"días",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mes",label_months:"meses",label_day:"día",label_year:"año",label_years:"años",label_rows_count:"Mostrar:",label_search:"Buscar:",label_table_info:"Mostrando de $1 a $2 de un total de $3 registros",label_prev:"Anterior",label_next:"Siguiente",label_all:"Todos",label_inspector:"Inspector",label_goto_page:"Ir a la página",label_enter_page:"Escribe la página...",label_empty:"Nada para mostrar",label_user_colors:"Colores del usuario",label_tiles:"Cuadrículas",label_list:"Lista",label_load_more:"Cargar más",label_buy:"Comprar",label_buy_now:"Comprar ahora",label_buy_today:"Comprar hoy",label_download:"Descargar",label_search_results:"Buscar resultados",label_add:"Agregar",label_edit:"Editar",label_delete:"Eliminar",label_new:"Nuevo",label_sell:"Vender",label_details:"Detalles",label_sorting:"Ordenar",label_finish:"Finish",label_on:"encendido",label_off:"apagado",label_rename_tab:"Renombrar pestaña",label_close_tab:"Cerrar pestaña",label_close_other_tabs:"Cerrar otras pestañas",label_close_tabs_left:"Cerrar pestañas a la izquierda",label_close_tabs_right:"Cerrar pestañas a la derecha",label_close_all_tabs:"Cerrar todas las pestañas",label_close_inactive_tabs:"Cerrar pestañas inactivas",label_clear_input:"Limpiar",label_reveal_password:"Mostrar contraseña",label_hide_password:"Ocultar contraseña",label_generate_random:"Generar valor aleatorio",label_search_input:"Buscar por valor",label_note:"Nota",label_tip:"Consejo",label_info:"Información",label_warning:"Advertencia",label_question:"Pregunta",label_error:"Error",label_success:"Éxito",label_caution:"Precaución",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falla catastrófica",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("de",{weekStart:1,january:"Januar",february:"Februar",march:"März",april:"April",may:"Mai",june:"Juni",july:"Juli",august:"August",september:"September",october:"Oktober",november:"November",december:"Dezember",january_short:"Jan",february_short:"Feb",march_short:"Mär",april_short:"Apr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Okt",november_short:"Nov",december_short:"Dez",sunday:"Sonntag",monday:"Montag",tuesday:"Dienstag",wednesday:"Mittwoch",thursday:"Donnerstag",friday:"Freitag",saturday:"Samstag",sunday_short:"So",monday_short:"Mo",tuesday_short:"Di",wednesday_short:"Mi",thursday_short:"Do",friday_short:"Fr",saturday_short:"Sa",sunday_short_2:"S",monday_short_2:"M",tuesday_short_2:"D",wednesday_short_2:"M",thursday_short_2:"D",friday_short_2:"F",saturday_short_2:"S",label_ok:"OK",label_cancel:"Abbrechen",label_done:"Fertig",label_today:"Heute",label_now:"Jetzt",label_clear:"Löschen",label_help:"Hilfe",label_yes:"Ja",label_no:"Nein",label_random:"Zufällig",label_save:"Speichern",label_reset:"Zurücksetzen",label_submit:"Absenden",label_add_user_color:"Zu den Farben hinzufügen",label_send:"Senden",label_accept:"Akzeptieren",label_cookies_title:"Diese Seite verwendet Cookies",label_cookies_text:"Diese Website verwendet Cookies, um sicherzustellen, dass Sie die beste Erfahrung auf unserer Website machen.",label_choose_file:"Datei(en) auswählen",label_drop_file:"Klicken oder Datei(en) hier ablegen",label_files_selected:"{n} Datei(en) ausgewählt",label_days:"Tage",label_hours:"Stunden",label_minutes:"Min",label_seconds:"Sek",label_month:"Monat",label_months:"Monate",label_day:"Tag",label_year:"Jahr",label_years:"Jahre",label_rows_count:"Anzeigen:",label_search:"Suchen:",label_table_info:"Zeige $1 bis $2 von $3 Einträgen",label_prev:"Zurück",label_next:"Weiter",label_all:"Alle",label_inspector:"Inspektor",label_goto_page:"Gehe zu",label_enter_page:"Seite eingeben...",label_empty:"Nichts zu zeigen",label_user_colors:"Benutzerfarben",label_tiles:"Kacheln",label_list:"Liste",label_load_more:"Mehr laden",label_buy:"Kaufen",label_buy_now:"Jetzt kaufen",label_buy_today:"Heute kaufen",label_download:"Herunterladen",label_search_results:"Suchergebnisse",label_add:"Hinzufügen",label_edit:"Bearbeiten",label_delete:"Löschen",label_new:"Neu",label_sell:"Verkaufen",label_details:"Details",label_sorting:"Sortierung",label_finish:"Finish",label_on:"an",label_off:"aus",label_rename_tab:"Tab umbenennen",label_close_tab:"Tab schließen",label_close_other_tabs:"Andere Tabs schließen",label_close_tabs_left:"Tabs links schließen",label_close_tabs_right:"Tabs rechts schließen",label_close_all_tabs:"Alle Tabs schließen",label_close_inactive_tabs:"Inaktive Tabs schließen",label_clear_input:"Eingabe löschen",label_reveal_password:"Passwort anzeigen",label_hide_password:"Passwort verbergen",label_generate_random:"Zufälligen Wert generieren",label_search_input:"Nach eingegebenem Wert suchen",label_note:"Notiz",label_tip:"Tipp",label_info:"Info",label_warning:"Warnung",label_question:"Frage",label_error:"Fehler",label_success:"Erfolg",label_caution:"Vorsicht",label_alert:"Alarm",label_bug:"Fehler",label_fuck:"Mist",label_important:"Wichtig",label_shit:"Scheiße",label_air:"Luft",label_select_all:"Alles auswählen",label_select_more:"Mehr auswählen...",label_select:"Auswählen",label_filter:"Filter",label_collapse:"Einklappen"}),Metro.i18n.add("fr",{weekStart:1,january:"Janvier",february:"Février",march:"Mars",april:"Avril",may:"Mai",june:"Juin",july:"Juillet",august:"Août",september:"Septembre",october:"Octobre",november:"Novembre",december:"Décembre",january_short:"Jan",february_short:"Fév",march_short:"Mar",april_short:"Avr",may_short:"Mai",june_short:"Juin",july_short:"Juil",august_short:"Aoû",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Déc",sunday:"Dimanche",monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sunday_short:"Dim",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mer",thursday_short:"Jeu",friday_short:"Ven",saturday_short:"Sam",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Annuler",label_done:"Terminé",label_today:"Aujourd'hui",label_now:"Maintenant",label_clear:"Effacer",label_help:"Aide",label_yes:"Oui",label_no:"Non",label_random:"Aléatoire",label_save:"Enregistrer",label_reset:"Réinitialiser",label_submit:"Soumettre",label_add_user_color:"Ajouter aux couleurs",label_send:"Envoyer",label_accept:"Accepter",label_cookies_title:"Ce site utilise des cookies",label_cookies_text:"Ce site utilise des cookies pour vous garantir la meilleure expérience sur notre site.",label_choose_file:"Choisir le(s) fichier(s)",label_drop_file:"Cliquez ou déposez le(s) fichier(s) ici",label_files_selected:"{n} fichier(s) sélectionné(s)",label_days:"jours",label_hours:"heures",label_minutes:"min",label_seconds:"sec",label_month:"mois",label_months:"mois",label_day:"jour",label_year:"année",label_years:"années",label_rows_count:"Afficher :",label_search:"Rechercher :",label_table_info:"Affichage de $1 à $2 sur $3 entrées",label_prev:"Préc",label_next:"Suiv",label_all:"Tout",label_inspector:"Inspecteur",label_goto_page:"Aller à",label_enter_page:"Entrer la page...",label_empty:"Rien à afficher",label_user_colors:"Couleurs utilisateur",label_tiles:"Tuiles",label_list:"Liste",label_load_more:"Charger plus",label_buy:"Acheter",label_buy_now:"Acheter maintenant",label_buy_today:"Acheter aujourd'hui",label_download:"Télécharger",label_search_results:"Résultats de recherche",label_add:"Ajouter",label_edit:"Modifier",label_delete:"Supprimer",label_new:"Nouveau",label_sell:"Vendre",label_details:"Détails",label_sorting:"Tri",label_finish:"Finish",label_on:"activé",label_off:"désactivé",label_rename_tab:"Renommer l'onglet",label_close_tab:"Fermer l'onglet",label_close_other_tabs:"Fermer les autres onglets",label_close_tabs_left:"Fermer les onglets à gauche",label_close_tabs_right:"Fermer les onglets à droite",label_close_all_tabs:"Fermer tous les onglets",label_close_inactive_tabs:"Fermer les onglets inactifs",label_clear_input:"Effacer l'entrée",label_reveal_password:"Afficher le mot de passe",label_hide_password:"Masquer le mot de passe",label_generate_random:"Générer une valeur aléatoire",label_search_input:"Rechercher la valeur saisie",label_note:"Note",label_tip:"Astuce",label_info:"Info",label_warning:"Avertissement",label_question:"Question",label_error:"Erreur",label_success:"Succès",label_caution:"Prudence",label_alert:"Alerte",label_bug:"Bug",label_fuck:"Merde",label_important:"Important",label_shit:"Fichu",label_air:"Air",label_select_all:"Tout sélectionner",label_select_more:"Sélectionner...",label_select:"Sélectionner",label_filter:"Filtrer",label_collapse:"Réduire"}),Metro.i18n.add("it",{weekStart:1,january:"Gennaio",february:"Febbraio",march:"Marzo",april:"Aprile",may:"Maggio",june:"Giugno",july:"Luglio",august:"Agosto",september:"Settembre",october:"Ottobre",november:"Novembre",december:"Dicembre",january_short:"Gen",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"Mag",june_short:"Giu",july_short:"Lug",august_short:"Ago",september_short:"Set",october_short:"Ott",november_short:"Nov",december_short:"Dic",sunday:"Domenica",monday:"Lunedì",tuesday:"Martedì",wednesday:"Mercoledì",thursday:"Giovedì",friday:"Venerdì",saturday:"Sabato",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mer",thursday_short:"Gio",friday_short:"Ven",saturday_short:"Sab",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"G",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Annulla",label_done:"Fatto",label_today:"Oggi",label_now:"Adesso",label_clear:"Cancella",label_help:"Aiuto",label_yes:"Sì",label_no:"No",label_random:"Casuale",label_save:"Salva",label_reset:"Reimposta",label_submit:"Invia",label_add_user_color:"Aggiungi ai colori",label_send:"Invia",label_accept:"Accetta",label_cookies_title:"Questo sito utilizza i cookie",label_cookies_text:"Questo sito utilizza i cookie per garantire la migliore esperienza sul nostro sito.",label_choose_file:"Scegli file",label_drop_file:"Clicca o trascina qui il file",label_files_selected:"{n} file selezionati",label_days:"giorni",label_hours:"ore",label_minutes:"min",label_seconds:"sec",label_month:"mese",label_months:"mesi",label_day:"giorno",label_year:"anno",label_years:"anni",label_rows_count:"Mostra:",label_search:"Cerca:",label_table_info:"Mostra da $1 a $2 di $3 elementi",label_prev:"Prec",label_next:"Succ",label_all:"Tutti",label_inspector:"Ispettore",label_goto_page:"Vai a",label_enter_page:"Inserisci pagina...",label_empty:"Niente da mostrare",label_user_colors:"Colori utente",label_tiles:"Piastrelle",label_list:"Lista",label_load_more:"Carica altro",label_buy:"Compra",label_buy_now:"Compra ora",label_buy_today:"Compra oggi",label_download:"Scarica",label_search_results:"Risultati di ricerca",label_add:"Aggiungi",label_edit:"Modifica",label_delete:"Elimina",label_new:"Nuovo",label_sell:"Vendi",label_details:"Dettagli",label_sorting:"Ordinamento",label_finish:"Finish",label_on:"acceso",label_off:"spento",label_rename_tab:"Rinomina scheda",label_close_tab:"Chiudi scheda",label_close_other_tabs:"Chiudi altre schede",label_close_tabs_left:"Chiudi schede a sinistra",label_close_tabs_right:"Chiudi schede a destra",label_close_all_tabs:"Chiudi tutte le schede",label_close_inactive_tabs:"Chiudi schede inattive",label_clear_input:"Cancella input",label_reveal_password:"Mostra password",label_hide_password:"Nascondi password",label_generate_random:"Genera valore casuale",label_search_input:"Cerca il valore inserito",label_note:"Nota",label_tip:"Suggerimento",label_info:"Info",label_warning:"Avviso",label_question:"Domanda",label_error:"Errore",label_success:"Successo",label_caution:"Attenzione",label_alert:"Allarme",label_bug:"Bug",label_fuck:"Cavolo",label_important:"Importante",label_shit:"Accidenti",label_air:"Aria",label_select_all:"Seleziona tutto",label_select_more:"Seleziona...",label_select:"Seleziona",label_filter:"Filtro",label_collapse:"Riduci"}),Metro.i18n.add("zh",{weekStart:0,january:"一月",february:"二月",march:"三月",april:"四月",may:"五月",june:"六月",july:"七月",august:"八月",september:"九月",october:"十月",november:"十一月",december:"十二月",january_short:"1月",february_short:"2月",march_short:"3月",april_short:"4月",may_short:"5月",june_short:"6月",july_short:"7月",august_short:"8月",september_short:"9月",october_short:"10月",november_short:"11月",december_short:"12月",sunday:"星期日",monday:"星期一",tuesday:"星期二",wednesday:"星期三",thursday:"星期四",friday:"星期五",saturday:"星期六",sunday_short:"日",monday_short:"一",tuesday_short:"二",wednesday_short:"三",thursday_short:"四",friday_short:"五",saturday_short:"六",sunday_short_2:"日",monday_short_2:"一",tuesday_short_2:"二",wednesday_short_2:"三",thursday_short_2:"四",friday_short_2:"五",saturday_short_2:"六",label_ok:"确定",label_cancel:"取消",label_done:"完成",label_today:"今天",label_now:"现在",label_clear:"清除",label_help:"帮助",label_yes:"是",label_no:"否",label_random:"随机",label_save:"保存",label_reset:"重置",label_submit:"提交",label_add_user_color:"添加到颜色",label_send:"发送",label_accept:"接受",label_cookies_title:"本网站使用Cookies",label_cookies_text:"本网站使用Cookies以确保您在我们的网站上获得最佳体验。",label_choose_file:"选择文件",label_drop_file:"点击或拖放文件到此处",label_files_selected:"已选择 {n} 个文件",label_days:"天",label_hours:"小时",label_minutes:"分钟",label_seconds:"秒",label_month:"月",label_months:"月",label_day:"天",label_year:"年",label_years:"年",label_rows_count:"显示：",label_search:"搜索：",label_table_info:"显示 $1 到 $2，共 $3 条记录",label_prev:"上一页",label_next:"下一页",label_all:"全部",label_inspector:"检查器",label_goto_page:"跳转到",label_enter_page:"输入页码...",label_empty:"没有内容显示",label_user_colors:"用户颜色",label_tiles:"网格",label_list:"列表",label_load_more:"加载更多",label_buy:"购买",label_buy_now:"立即购买",label_buy_today:"今天购买",label_download:"下载",label_search_results:"搜索结果",label_add:"添加",label_edit:"编辑",label_delete:"删除",label_new:"新建",label_sell:"出售",label_details:"详情",label_sorting:"排序",label_finish:"Finish",label_on:"开",label_off:"关",label_rename_tab:"重命名标签",label_close_tab:"关闭标签",label_close_other_tabs:"关闭其他标签",label_close_tabs_left:"关闭左侧标签",label_close_tabs_right:"关闭右侧标签",label_close_all_tabs:"关闭所有标签",label_close_inactive_tabs:"关闭未激活的标签",label_clear_input:"清除输入",label_reveal_password:"显示密码",label_hide_password:"隐藏密码",label_generate_random:"生成随机值",label_search_input:"搜索输入的值",label_note:"备注",label_tip:"提示",label_info:"信息",label_warning:"警告",label_question:"问题",label_error:"错误",label_success:"成功",label_caution:"注意",label_alert:"警报",label_bug:"错误",label_fuck:"糟糕",label_important:"重要",label_shit:"糟糕",label_air:"空气",label_select_all:"全选",label_select_more:"选择更多...",label_select:"选择",label_filter:"过滤",label_collapse:"折叠"}),Metro.i18n.add("hi",{weekStart:0,january:"जनवरी",february:"फरवरी",march:"मार्च",april:"अप्रैल",may:"मई",june:"जून",july:"जुलाई",august:"अगस्त",september:"सितंबर",october:"अक्टूबर",november:"नवंबर",december:"दिसंबर",january_short:"जन",february_short:"फर",march_short:"मार्च",april_short:"अप्रै",may_short:"मई",june_short:"जून",july_short:"जुल",august_short:"अग",september_short:"सित",october_short:"अक्टू",november_short:"नव",december_short:"दिस",sunday:"रविवार",monday:"सोमवार",tuesday:"मंगलवार",wednesday:"बुधवार",thursday:"गुरुवार",friday:"शुक्रवार",saturday:"शनिवार",sunday_short:"रवि",monday_short:"सोम",tuesday_short:"मंगल",wednesday_short:"बुध",thursday_short:"गुरु",friday_short:"शुक्र",saturday_short:"शनि",sunday_short_2:"र",monday_short_2:"सो",tuesday_short_2:"मं",wednesday_short_2:"बु",thursday_short_2:"गु",friday_short_2:"शु",saturday_short_2:"श",label_ok:"ठीक है",label_cancel:"रद्द करें",label_done:"समाप्त",label_today:"आज",label_now:"अभी",label_clear:"साफ करें",label_help:"मदद",label_yes:"हाँ",label_no:"नहीं",label_random:"यादृच्छिक",label_save:"सहेजें",label_reset:"रीसेट करें",label_submit:"जमा करें",label_add_user_color:"रंगों में जोड़ें",label_send:"भेजें",label_accept:"स्वीकार करें",label_cookies_title:"यह साइट कुकीज़ का उपयोग करती है",label_cookies_text:"यह वेबसाइट यह सुनिश्चित करने के लिए कुकीज़ का उपयोग करती है कि आपको हमारी वेबसाइट पर सबसे अच्छा अनुभव मिले।",label_choose_file:"फ़ाइलें चुनें",label_drop_file:"यहां क्लिक करें या फ़ाइलें छोड़ें",label_files_selected:"{n} फ़ाइलें चुनी गईं",label_days:"दिन",label_hours:"घंटे",label_minutes:"मिनट",label_seconds:"सेकंड",label_month:"महीना",label_months:"महीने",label_day:"दिन",label_year:"साल",label_years:"साल",label_rows_count:"दिखाएं:",label_search:"खोजें:",label_table_info:"$1 से $2 तक $3 प्रविष्टियां दिखा रहा है",label_prev:"पिछला",label_next:"अगला",label_all:"सभी",label_inspector:"निरीक्षक",label_goto_page:"पृष्ठ पर जाएं",label_enter_page:"पृष्ठ दर्ज करें...",label_empty:"दिखाने के लिए कुछ नहीं",label_user_colors:"उपयोगकर्ता रंग",label_tiles:"टाइल्स",label_list:"सूची",label_load_more:"और लोड करें",label_buy:"खरीदें",label_buy_now:"अभी खरीदें",label_buy_today:"आज खरीदें",label_download:"डाउनलोड करें",label_search_results:"खोज परिणाम",label_add:"जोड़ें",label_edit:"संपादित करें",label_delete:"हटाएं",label_new:"नया",label_sell:"बेचें",label_details:"विवरण",label_sorting:"छंटाई",label_finish:"Finish",label_on:"चालू",label_off:"बंद",label_rename_tab:"टैब का नाम बदलें",label_close_tab:"टैब बंद करें",label_close_other_tabs:"अन्य टैब बंद करें",label_close_tabs_left:"बाएं टैब बंद करें",label_close_tabs_right:"दाएं टैब बंद करें",label_close_all_tabs:"सभी टैब बंद करें",label_close_inactive_tabs:"निष्क्रिय टैब बंद करें",label_clear_input:"इनपुट साफ करें",label_reveal_password:"पासवर्ड दिखाएं",label_hide_password:"पासवर्ड छिपाएं",label_generate_random:"यादृच्छिक मान उत्पन्न करें",label_search_input:"दर्ज किए गए मान को खोजें",label_note:"नोट",label_tip:"सुझाव",label_info:"जानकारी",label_warning:"चेतावनी",label_question:"प्रश्न",label_error:"त्रुटि",label_success:"सफलता",label_caution:"सावधानी",label_alert:"चेतावनी",label_bug:"बग",label_fuck:"धत्त",label_important:"महत्वपूर्ण",label_shit:"बकवास",label_air:"हवा",label_select_all:"सभी का चयन करें",label_select_more:"चुनें...",label_select:"चुनें",label_filter:"फ़िल्टर",label_collapse:"संकुचित करें"}),Metro.i18n.add("pl",{weekStart:1,january:"Styczeń",february:"Luty",march:"Marzec",april:"Kwiecień",may:"Maj",june:"Czerwiec",july:"Lipiec",august:"Sierpień",september:"Wrzesień",october:"Październik",november:"Listopad",december:"Grudzień",january_short:"Sty",february_short:"Lut",march_short:"Mar",april_short:"Kwi",may_short:"Maj",june_short:"Cze",july_short:"Lip",august_short:"Sie",september_short:"Wrz",october_short:"Paź",november_short:"Lis",december_short:"Gru",sunday:"Niedziela",monday:"Poniedziałek",tuesday:"Wtorek",wednesday:"Środa",thursday:"Czwartek",friday:"Piątek",saturday:"Sobota",sunday_short:"Nd",monday_short:"Pn",tuesday_short:"Wt",wednesday_short:"Śr",thursday_short:"Czw",friday_short:"Pt",saturday_short:"Sob",sunday_short_2:"N",monday_short_2:"P",tuesday_short_2:"W",wednesday_short_2:"Ś",thursday_short_2:"C",friday_short_2:"P",saturday_short_2:"S",label_ok:"OK",label_cancel:"Anuluj",label_done:"Gotowe",label_today:"Dzisiaj",label_now:"Teraz",label_clear:"Wyczyść",label_help:"Pomoc",label_yes:"Tak",label_no:"Nie",label_random:"Losowy",label_save:"Zapisz",label_reset:"Resetuj",label_submit:"Wyślij",label_add_user_color:"Dodaj do kolorów",label_send:"Wyślij",label_accept:"Akceptuj",label_cookies_title:"Ta strona używa plików cookie",label_cookies_text:"Ta strona używa plików cookie, aby zapewnić najlepsze doświadczenie na naszej stronie.",label_choose_file:"Wybierz plik(i)",label_drop_file:"Kliknij lub upuść plik(i) tutaj",label_files_selected:"Wybrano {n} plik(ów)",label_days:"dni",label_hours:"godziny",label_minutes:"minuty",label_seconds:"sekundy",label_month:"miesiąc",label_months:"miesiące",label_day:"dzień",label_year:"rok",label_years:"lata",label_rows_count:"Pokaż:",label_search:"Szukaj:",label_table_info:"Wyświetlanie od $1 do $2 z $3 wpisów",label_prev:"Poprzedni",label_next:"Następny",label_all:"Wszystko",label_inspector:"Inspektor",label_goto_page:"Idź do",label_enter_page:"Wpisz stronę...",label_empty:"Brak danych do wyświetlenia",label_user_colors:"Kolory użytkownika",label_tiles:"Kafelki",label_list:"Lista",label_load_more:"Załaduj więcej",label_buy:"Kup",label_buy_now:"Kup teraz",label_buy_today:"Kup dzisiaj",label_download:"Pobierz",label_search_results:"Wyniki wyszukiwania",label_add:"Dodaj",label_edit:"Edytuj",label_delete:"Usuń",label_new:"Nowy",label_sell:"Sprzedaj",label_details:"Szczegóły",label_sorting:"Sortowanie",label_finish:"Finish",label_on:"włączony",label_off:"wyłączony",label_rename_tab:"Zmień nazwę karty",label_close_tab:"Zamknij kartę",label_close_other_tabs:"Zamknij inne karty",label_close_tabs_left:"Zamknij karty po lewej",label_close_tabs_right:"Zamknij karty po prawej",label_close_all_tabs:"Zamknij wszystkie karty",label_close_inactive_tabs:"Zamknij nieaktywne karty",label_clear_input:"Wyczyść pole",label_reveal_password:"Pokaż hasło",label_hide_password:"Ukryj hasło",label_generate_random:"Wygeneruj losową wartość",label_search_input:"Szukaj wprowadzonej wartości",label_note:"Notatka",label_tip:"Wskazówka",label_info:"Informacja",label_warning:"Ostrzeżenie",label_question:"Pytanie",label_error:"Błąd",label_success:"Sukces",label_caution:"Uwaga",label_alert:"Alarm",label_bug:"Błąd",label_fuck:"Cholera",label_important:"Ważne",label_shit:"Kurka",label_air:"Powietrze",label_select_all:"Zaznacz wszystko",label_select_more:"Wybierz...",label_select:"Wybierz",label_filter:"Filtruj",label_collapse:"Zwiń"}),typeof Array.prototype.shuffle!="function"&&(Array.prototype.shuffle=function(){let t=this.length,o,p;for(;t!==0;)p=Math.floor(Math.random()*t),t-=1,o=this[t],this[t]=this[p],this[p]=o;return this}),typeof Array.prototype.clone!="function"&&(Array.prototype.clone=function(){return this.slice(0)}),typeof Array.prototype.unique!="function"&&(Array.prototype.unique=function(){let t=this.concat();for(let o=0;o<t.length;++o)for(let p=o+1;p<t.length;++p)t[o]===t[p]&&t.splice(p--,1);return t}),typeof Array.prototype.pack!="function"&&(Array.prototype.pack=function(){return this.filter(t=>t!=null&&`${t}`.trim()!=="")}),Number.prototype.format=function(t,o,p,e){let i=`\\d(?=(\\d{${o||3}})+${t>0?"\\D":"$"})`,l=this.toFixed(Math.max(0,~~t));return(e?l.replace(".",e):l).replace(new RegExp(i,"g"),`$&${p||","}`)},String.prototype.toArray=function(t=",",o="string",p="",e="en",i=!1){let l=`${this}`.split(t).map(h=>{let v;switch(o){case"int":case"integer":v=Number.isNaN(h)?h.trim():Number.parseInt(h);break;case"number":case"float":v=Number.isNaN(h)?h:Number.parseFloat(h);break;case"date":v=p?Datetime.from(h,p,e):datetime(h);break;case"boolean":{switch(h){case!0:case"true":case 1:case"1":case"on":case"yes":case"+":v=!0;break;default:v=!1}break}default:v=h.trim()}return v});return i?l.pack():l},((t,o)=>{t.utils={elementId:p=>`${p}-${new Date().getTime()}${o.random(1,1e3)}`,secondsToTime:p=>{let e=Math.floor(p%31536e3/86400),i=Math.floor(p%31536e3%86400/3600),l=Math.floor(p%31536e3%86400%3600/60),h=Math.round(p%31536e3%86400%3600%60);return{d:e,h:i,m:l,s:h}},secondsToFormattedString:p=>{let e=Number.parseInt(p,10),i=Math.floor(e/3600),l=Math.floor((e-i*3600)/60),h=e-i*3600-l*60;return[Str.lpad(i,"0",2),Str.lpad(l,"0",2),Str.lpad(h,"0",2)].join(":")},func:p=>new Function("a",p),exec:function(p,e,i){let l;if(p==null)return!1;let h=this.isFunc(p);h===!1&&(h=this.func(p));try{l=h.apply(i,e)}catch(v){if(l=null,globalThis.METRO_THROWS===!0)throw v}return l},embedUrl:p=>{let e=p;return e.indexOf("youtu.be")!==-1&&(e=`https://www.youtube.com/embed/${p.split("/").pop()}`),`<div class='embed-container'><iframe src='${e}'></iframe></div>`},isVisible:function(p){let e=o(p)[0];return this.getStyleOne(e,"display")!=="none"&&this.getStyleOne(e,"visibility")!=="hidden"&&e.offsetParent!==null},isUrl:p=>/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:?\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(p),isTag:p=>/^<\/?[\w\s="\/.':;#-\/?]+>/gi.test(p),isEmbedObject:p=>{let e=["iframe","object","embed","video"],i=!1;return o.each(e,function(){(typeof p=="string"&&p.toLowerCase()===this||p.nodeType!==void 0&&p.tagName.toLowerCase()===this)&&(i=!0)}),i},isVideoUrl:p=>/youtu\.be|youtube|twitch|vimeo/gi.test(p),isDate:function(p,e,i="en-US"){let l;if(this.isDateObject(p))return!0;try{return l=e?Datetime.from(p,e,i):datetime(p),Datetime.isDatetime(l)}catch{return!1}},isDateObject:p=>typeof p=="object"&&p.getMonth!==void 0,isInt:p=>!Number.isNaN(p)&&+p%1===0,isFloat:p=>!Number.isNaN(p)&&+p%1!==0||/^\d*\.\d+$/.test(p),isFunc:function(p){return this.isType(p,"function")},isObject:function(p){return this.isType(p,"object")},isObject2:p=>typeof p=="object"&&!Array.isArray(p),isType:function(p,e="undefined"){if(!this.isValue(p))return!1;if(typeof p===e||`${e}`.toLowerCase()==="tag"&&this.isTag(p)||`${e}`.toLowerCase()==="url"&&this.isUrl(p)||`${e}`.toLowerCase()==="array"&&Array.isArray(p))return p;if(e!=="string"&&this.isTag(p)||this.isUrl(p))return!1;if(typeof window[p]===e)return window[p];if(typeof p=="string"&&p.indexOf(".")===-1||typeof p=="string"&&/[/\s([]+/gm.test(p)||typeof p=="number"&&e.toLowerCase()!=="number")return!1;let i=p.split("."),l,h=window;for(l=0;l<i.length;l++)h=h[i[l]];return typeof h===e?h:!1},$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,isMetroObject:(p,e)=>{let i=o(p),l=t.getPlugin(p,e);return i.length===0?(console.warn(`${e} ${p} not found!`),!1):l===void 0?(console.warn(`Element not contain role ${e}! Please add attribute data-role="${e}" to element ${p}`),!1):!0},isJQuery:p=>typeof globalThis.jQuery<"u"&&p instanceof globalThis.jQuery,isDom:p=>typeof Dom<"u"&&p instanceof Dom,isQ:function(p){return this.isJQuery(p)||this.isDom(p)},isOutsider:function(p){let e=o(p),i=e.clone();i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),e.parent().append(i);let l=this.inViewport(i[0]);return i.remove(),!l},inViewport:function(p){let e=this.rect(p);return e.top>=0&&e.left>=0&&e.bottom<=(globalThis.innerHeight||document.documentElement.clientHeight)&&e.right<=(globalThis.innerWidth||document.documentElement.clientWidth)},viewportOutByWidth:function(p){let e=this.rect(p),i=globalThis.innerWidth||document.documentElement.clientWidth;return e.right>i},viewportOutByHeight:function(p){let e=this.rect(p),i=globalThis.innerHeight||document.documentElement.clientHeight;return e.bottom>i},viewportOut:function(p){return this.viewportOutByWidth(p)||this.viewportOutByHeight(p)},rect:p=>p.getBoundingClientRect(),getCursorPosition:function(p,e){let i=this.rect(p);return{x:this.pageXY(e).x-i.left-globalThis.scrollX,y:this.pageXY(e).y-i.top-globalThis.scrollY}},getCursorPositionX:function(p,e){return this.getCursorPosition(p,e).x},getCursorPositionY:function(p,e){return this.getCursorPosition(p,e).y},objectLength:p=>Object.keys(p).length,percent:(p,e,i)=>{if(p===0)return 0;let l=e*100/p;return i===!0?Math.round(l):Math.round(l*100)/100},objectShift:p=>{let e=0;return o.each(p,i=>{(e===0||e>i)&&(e=i)}),delete p[e],p},objectDelete:(p,e)=>{e in p&&delete p[e]},arrayDeleteByMultipleKeys:(p,e)=>{for(let i of e)delete p[i];return p.filter(i=>i!==void 0)},arrayDelete:(p,e)=>{let i=p.indexOf(e);i>-1&&p.splice(i,1)},arrayDeleteByKey:(p,e)=>{p.splice(e,1)},nvl:(p,e)=>p??e,objectClone:p=>{let e={};for(let i in p)o.hasProp(p,i)&&(e[i]=p[i]);return e},github:async function(p,e){let i=await fetch(`https://api.github.com/repos/${p}`);if(!i.ok)return;let l=await i.json();this.exec(e,[l])},pageHeight:()=>{let p=document.body,e=document.documentElement;return Math.max(p.scrollHeight,p.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},cleanPreCode:p=>{let e=Array.prototype.slice.call(document.querySelectorAll(p),0);for(let i of e){let l=i.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(l)){i.textContent=l;continue}let h,v="",x=/^[\t ]+/gm,w,D=1e3;for(;h=x.exec(l);)w=h[0].length,w<D&&(D=w,v=h[0]);D!==1e3&&(i.textContent=l.replace(new RegExp(`^${v}`,"gm"),"").trim())}},coords:p=>{let e=o(p)[0].getBoundingClientRect();return{top:e.top+globalThis.pageYOffset,left:e.left+globalThis.pageXOffset}},positionXY:function(p,e,i){switch(e){case"client":return this.clientXY(p,i);case"screen":return this.screenXY(p,i);case"page":return this.pageXY(p,i);default:return{x:0,y:0}}},clientXY:(p,e="touches")=>({x:p[e]?p[e][0].clientX:p.clientX,y:p[e]?p[e][0].clientY:p.clientY}),screenXY:(p,e="touches")=>({x:p[e]?p[e][0].screenX:p.screenX,y:p[e]?p[e][0].screenY:p.screenY}),pageXY:(p,e="touches")=>({x:p[e]?p[e][0].pageX:p.pageX,y:p[e]?p[e][0].pageY:p.pageY}),isRightMouse:p=>"which"in p?p.which===3:"button"in p?p.button===2:void 0,hiddenElementSize:(p,e=!1)=>{let i=o(p).clone(!0);i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),o("body").append(i);let l=i.outerWidth(e),h=i.outerHeight(e);return i.remove(),{width:l,height:h}},getStyle:p=>{let e=o(p)[0];return globalThis.getComputedStyle(e)},getStyleOne:function(p,e){return this.getStyle(p).getPropertyValue(e)},getInlineStyles:p=>{let e,i,l={},h=o(p)[0];for(e=0,i=h.style.length;e<i;e++){let v=h.style[e];l[v]=h.style[v]}return l},encodeURI:p=>encodeURI(p).replace(/%5B/g,"[").replace(/%5D/g,"]"),updateURIParameter:(p,e,i)=>{let l=new RegExp(`([?&])${e}=.*?(&|$)`,"i"),h=p.indexOf("?")!==-1?"&":"?";return p.match(l)?p.replace(l,`$1${e}=${i}$2`):`${p+h+e}=${i}`},getURIParameter:(p=globalThis.location.href,e="")=>{let i=e.replace(/[\[\]]/g,"\\$&"),l=new RegExp(`[?&]${i}(=([^&#]*)|&|#|$)`).exec(p);return l?l[2]?decodeURIComponent(l[2].replace(/\+/g," ")):"":null},getLocales:()=>Object.keys(t.locales),addLocale:p=>{t.locales=o.extend({},t.locales,p)},aspectRatioH:(p,e)=>{if(e==="16/9")return p*9/16;if(e==="21/9")return p*9/21;if(e==="4/3")return p*3/4},aspectRatioW:(p,e)=>{if(e==="16/9")return p*16/9;if(e==="21/9")return p*21/9;if(e==="4/3")return p*4/3},valueInObject:(p,e)=>Object.values(p).indexOf(e)>-1,keyInObject:(p,e)=>Object.keys(p).indexOf(e)>-1,inObject:(p,e,i)=>p[e]!==void 0&&p[e]===i,newCssSheet:p=>{let e=document.createElement("style");return p!==void 0&&e.setAttribute("media",p),e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet},addCssRule:(p,e,i,l)=>{p.insertRule(`${e}{${i}}`,l)},media:p=>globalThis.matchMedia(p).matches,mediaModes:()=>globalThis.METRO_MEDIA,mediaExist:p=>globalThis.METRO_MEDIA.indexOf(p)>-1,inMedia:p=>globalThis.METRO_MEDIA.indexOf(p)>-1&&globalThis.METRO_MEDIA.indexOf(p)===globalThis.METRO_MEDIA.length-1,isValue:p=>p!=null&&p!=="",isNull:p=>p==null,isNegative:p=>Number.parseFloat(p)<0,isPositive:p=>Number.parseFloat(p)>0,isZero:p=>Number.parseFloat(p.toFixed(2))===0,between:(p,e,i,l)=>l===!0?p>=e&&p<=i:p>e&&p<i,parseMoney:p=>Number(Number.parseFloat(p.replace(/[^0-9-.]/g,""))),parseCard:p=>p.replace(/[^0-9]/g,""),parsePhone:p=>(void 0).parseCard(p),parseNumber:(p,e,i)=>p.replace(new RegExp(`\\${e}`,"g"),"").replace(new RegExp(`\\${i}`,"g"),"."),nearest:(p,e,i)=>{let l=p/e;return l=Math[i===!0?"floor":"ceil"](l)*e,l},bool:p=>{let e;switch(p){case!0:case"true":case 1:case"1":case"on":case"yes":case"+":e=!0;break;default:e=!1}return e},decCount:p=>p%1===0?0:p.toString().split(".")[1].length,classNames:(...p)=>{let e=[];for(let i of p)if(i)if(typeof i=="string")e.push(i);else if(t.utils.isObject(i))for(let l in i)i[l]&&e.push(l);else t.utils.nothing();return e.join(" ")},join:(...p)=>{let e=p.pop(),i=[];for(let l of p)l&&i.push(t.utils.isObject(l)?Object.values(l)[0]:l);return i.join(e)},copy2clipboard:(p,e)=>{navigator.clipboard.writeText(p).then(()=>{t.utils.exec(e,[p])})},getCssVar:p=>{let e=document.documentElement;return getComputedStyle(e).getPropertyValue(p)},scrollTo:(p,e)=>{(typeof p=="string"?o(p)[0]:p).scrollIntoView({...e,behavior:"smooth",block:"start"})}}})(Metro,Dom),((t,o)=>{let p={duration:300,ease:"linear"};t.Effects={switchIn:e=>{o(e).hide().css({left:0,top:0}).show()},switchOut:e=>{o(e).hide()},switch:function(e,i){this.switchOut(e),this.switchIn(i)},slideUpIn:(e,i)=>{let l=o(e),h=l.parent().outerHeight(!0),v=o.extend({},p,i);l.css({top:h,left:0,zIndex:2}).animate({draw:{top:0,opacity:1},dur:v.duration,ease:v.ease})},slideUpOut:(e,i)=>{let l=o(e),h=l.parent().outerHeight(!0),v=o.extend({},p,i);l.css({zIndex:1}).animate({draw:{top:-h,opacity:0},dur:v.duration,ease:v.ease})},slideUp:function(e,i,l){this.slideUpOut(e,l),this.slideUpIn(i,l)},slideDownIn:(e,i)=>{let l=o(e),h=l.parent().outerHeight(!0),v=o.extend({},p,i);l.css({left:0,top:-h,zIndex:2}).animate({draw:{top:0,opacity:1},dur:v.duration,ease:v.ease})},slideDownOut:(e,i)=>{let l=o(e),h=l.parent().outerHeight(!0),v=o.extend({},p,i);l.css({zIndex:1}).animate({draw:{top:h,opacity:0},dur:v.duration,ease:v.ease})},slideDown:function(e,i,l){this.slideDownOut(e,l),this.slideDownIn(i,l)},slideLeftIn:(e,i)=>{let l=o(e),h=l.parent().outerWidth(!0),v=o.extend({},p,i);l.css({left:h,zIndex:2}).animate({draw:{left:0,opacity:1},dur:v.duration,ease:v.ease})},slideLeftOut:(e,i)=>{let l=o(e),h=l.parent().outerWidth(!0),v=o.extend({},p,i);l.css({zIndex:1}).animate({draw:{left:-h,opacity:0},dur:v.duration,ease:v.ease})},slideLeft:function(e,i,l){this.slideLeftOut(e,l),this.slideLeftIn(i,l)},slideRightIn:(e,i)=>{let l=o(e),h=l.parent().outerWidth(!0),v=o.extend({},p,i);l.css({left:-h,zIndex:2}).animate({draw:{left:0,opacity:1},dur:v.duration,ease:v.ease})},slideRightOut:(e,i)=>{let l=o(e),h=l.parent().outerWidth(!0),v=o.extend({},p,i);l.css({zIndex:1}).animate({draw:{left:h,opacity:0},dur:v.duration,ease:v.ease})},slideRight:function(e,i,l){this.slideRightOut(e,l),this.slideRightIn(i,l)},fadeIn:(e,i)=>{let l=o.extend({},p,i);o(e).css({top:0,left:0,opacity:0}).animate({draw:{opacity:1},dur:l.duration,ease:l.ease})},fadeOut:(e,i)=>{let l=o.extend({},p,i);o(e).animate({draw:{opacity:0},dur:l.duration,ease:l.ease})},fade:function(e,i,l){this.fadeOut(e,l),this.fadeIn(i,l)},zoomIn:(e,i)=>{let l=o.extend({},p,i);o(e).css({top:0,left:0,opacity:0,transform:"scale(3)",zIndex:2}).animate({draw:{scale:1,opacity:1},dur:l.duration,ease:l.ease})},zoomOut:(e,i)=>{let l=o.extend({},p,i);o(e).css({zIndex:1}).animate({draw:{scale:3,opacity:0},dur:l.duration,ease:l.ease})},zoom:function(e,i,l){this.zoomOut(e,l),this.zoomIn(i,l)},swirlIn:(e,i)=>{let l=o.extend({},p,i);o(e).css({top:0,left:0,opacity:0,transform:"scale(3) rotate(180deg)",zIndex:2}).animate({draw:{scale:1,rotate:0,opacity:1},dur:l.duration,ease:l.ease})},swirlOut:(e,i)=>{let l=o.extend({},p,i);o(e).css({zIndex:1}).animate({draw:{scale:3,rotate:"180deg",opacity:0},dur:l.duration,ease:l.ease})},swirl:function(e,i,l){this.swirlOut(e,l),this.swirlIn(i,l)}}})(Metro,Dom),((t,o)=>{let p={accordionDeferred:0,showMarker:!0,material:!1,duration:100,oneFrame:!0,showActive:!0,clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:t.noop,onFrameBeforeOpen:t.noop_true,onFrameClose:t.noop,onFrameBeforeClose:t.noop_true,onAccordionCreate:t.noop};t.accordionSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroAccordionSetup<"u"&&t.accordionSetup(globalThis.metroAccordionSetup),t.Component("accordion",{init:function(e,i){return this._super(i,e,p),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:e})},_createStructure:function(){let e=this,i=this.element,l=this.options,h=i.children(".frame"),v=i.children(".frame.active"),x;i.id()||i.id(Hooks.useId("accordion")),i.addClass("accordion").addClass(l.clsAccordion),h.addClass(l.clsFrame).each(function(){let w=o(this),D=w.children(".heading"),M=w.children(".content"),I=Hooks.useId("accordion-heading"),B=Hooks.useId("accordion-content");D.attr({id:I,role:"button","aria-expanded":w.hasClass("active")?"true":"false","aria-controls":B,tabindex:"0"}),M.attr({id:B,role:"region","aria-labelledby":I}),D.addClass(l.clsHeading),M.addClass(l.clsContent)}),l.showMarker===!0&&i.addClass("marker-on"),l.material===!0&&i.addClass("material"),v.length===0?x=h[0]:x=v[0],this._hideAll(),l.showActive===!0&&(l.oneFrame===!0?this._openFrame(x):o.each(v,function(){e._openFrame(this)}))},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.children(".frame.active");i.on("keydown",".heading",function(v){let x=o(this),w=x.parent();if(x.closest(".accordion")[0]!==i[0])return!1;if((v.keyCode===13||v.keyCode===32)&&(v.preventDefault(),w.hasClass("active")?h.length===1&&l.oneFrame||e._closeFrame(w):e._openFrame(w)),v.keyCode===38||v.keyCode===40){v.preventDefault();let D=i.children(".frame"),M=D.index(w),I;v.keyCode===38?I=(M-1+D.length)%D.length:I=(M+1)%D.length,D.eq(I).children(".heading").focus()}}),i.on(t.events.click,".heading",function(){let v=o(this),x=v.parent();if(v.closest(".accordion")[0]!==i[0])return!1;x.hasClass("active")?h.length===1&&l.oneFrame||e._closeFrame(x):e._openFrame(x)})},_openFrame:function(e){let i=this.element,l=this.options,h=o(e);if(t.utils.exec(l.onFrameBeforeOpen,[h[0]],i[0])===!1)return!1;l.oneFrame===!0&&this._closeAll(h[0]),h.addClass("active").addClass(l.clsActiveFrame),h.children(".heading").addClass(l.clsActiveFrameHeading),h.children(".content").addClass(l.clsActiveFrameContent).slideDown(l.duration),this._fireEvent("frameOpen",{frame:h[0]})},_closeFrame:function(e){let i=this.element,l=this.options,h=o(e);h.hasClass("active")&&t.utils.exec(l.onFrameBeforeClose,[h[0]],i[0])!==!1&&(h.removeClass("active").removeClass(l.clsActiveFrame),h.children(".heading").removeClass(l.clsActiveFrameHeading),h.children(".content").removeClass(l.clsActiveFrameContent).slideUp(l.duration),this._fireEvent("frameClose",{frame:h[0]}))},_closeAll:function(e){let i=this,l=this.element.children(".frame");o.each(l,function(){e!==this&&i._closeFrame(this)})},_hideAll:function(){let e=this.element.children(".frame");o.each(e,function(){o(this).children(".content").hide()})},_openAll:function(){let e=this,i=this.element.children(".frame");o.each(i,function(){e._openFrame(this)})},open:function(e){let i=this.element.children(".frame").eq(e);this._openFrame(i)},close:function(e){let i=this.element.children(".frame").eq(e);this._closeFrame(i)},toggle:function(e){let i=this.element.children(".frame").eq(e);i.hasClass("active")?this._closeFrame(i):this._openFrame(i)},getActive:function(){let e=this.element.children(".frame"),i=[];return e.each(function(l){o(this).hasClass("active")&&i.push(l)}),i},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;return e.off(t.events.click,".heading"),e}})})(Metro,Dom),((t,o)=>{let p={onClick:t.noop,onActionClick:t.noop,onActionButtonCreate:t.noop};t.actionButtonSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroActionButtonSetup<"u"&&t.actionButtonSetup(globalThis.metroActionButtonSetup),t.Component("action-button",{init:function(e,i){return this._super(i,e,p,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("action-button-create")},_createStructure:function(){let e=this.element,i=e.find(".actions li, .actions button");e.addClass("action-button"),e.cssVar("num-actions",i.length),i.length>8&&e.cssVar("action-shift",`${60+(i.length-8)*6}px`),i.each(function(l){o(this).cssVar("action-index",l).addClass("sub-action")}),e.children("button").addClass("main-action")},_createEvents:function(){let e=this,i=this.element;i.on(t.events.click,".actions li, .actions button",function(l){e._fireEvent("action-click",{action:this})}),i.on(t.events.click,".main-action",function(l){l.preventDefault(),l.stopPropagation(),o(this).toggleClass("active")})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}}),o(document).on("click",e=>{o("[data-role-actionbutton]").each((i,l)=>{o(l).children("button").removeClass("active")})})})(Metro,Dom),((t,o)=>{let p={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,title:"",content:"",customButtons:null,actionsAlign:"right",defaultActions:!0,defaultActionButtons:"ok,cancel,help",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"auto",height:"auto",closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onOk:t.noop,onCancel:t.noop,onHelp:t.noop,onShow:t.noop,onHide:t.noop,onOpen:t.noop,onClose:t.noop,onDialogCreate:t.noop};t.dialogSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroDialogSetup<"u"&&t.dialogSetup(globalThis.metroDialogSetup),t.Component("dialog",{_counter:0,init:function(e,i){return this._super(i,e,p,{interval:null,overlay:null,id:t.utils.elementId("dialog")}),this},_create:function(){this._build()},_build:function(){let e=this.element,i=this.options,l=this.strings,h=o("body"),v;if(e.addClass("dialog"),i.title!==""&&this.setTitle(i.title),i.content!==""&&this.setContent(i.content),i.defaultActions===!0||i.customButtons){let w=e.find(".dialog-actions"),D;if(w.length===0&&(w=o("<div>").addClass("dialog-actions").addClass(`text-${i.actionsAlign}`).appendTo(e)),i.defaultActions===!0&&e.find(".dialog-actions > *").length===0)for(let I of i.defaultActionButtons.toArray(","))D=o("<button>").addClass(I!=="help"?".js-dialog-close":"").addClass(i.clsDefaultAction).html(l[`label_${I}`]),D.appendTo(w),I==="ok"&&D.on(t.events.click,()=>{t.utils.exec(i.onOk,[e])}),I==="help"&&D.on(t.events.click,()=>{t.utils.exec(i.onHelp,[e])}),I==="cancel"&&D.on(t.events.click,()=>{t.utils.exec(i.onCancel,[e])});let M=t.utils.isObject(i.customButtons);Array.isArray(M)&&o.each(M,function(){D=o("<button>").addClass("button").addClass(this.cls).html(this.text),this.onclick&&D.on(t.events.click,()=>{t.utils.exec(this.onclick,[e])}),D.appendTo(w)})}i.overlay===!0&&(v=this._overlay(),this.overlay=v),i.closeAction===!0&&e.on(t.events.click,".js-dialog-close",()=>{this.close()});let x=e.find("closer");x.length===0&&(x=o("<span>").addClass("closer js-dialog-close"),x.appendTo(e)),i.closeButton!==!0&&x.hide(),e.css({height:i.height,visibility:"hidden",top:"100%"}),i.width!=="auto"&&e.css({width:i.width}),e.addClass(i.clsDialog),e.find(".dialog-title").addClass(i.clsTitle),e.find(".dialog-content").addClass(i.clsContent),e.find(".dialog-actions").addClass(i.clsAction),e.appendTo(h),i.show&&this.open(),o(globalThis).on(t.events.resize,()=>{this.setPosition()},{ns:this.id}),this._fireEvent("dialog-create",{element:e})},_overlay:function(){let e=this.options,i=o("<div>");return i.addClass("overlay").addClass(e.clsOverlay),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(e.overlayColor),e.overlayAlpha)}),i},hide:function(e){let i=this.element,l=this.options,h=0;l.onHide!==t.noop&&(h=500,this._fireEvent("hide")),setTimeout(()=>{t.utils.exec(e,null,i[0]),i.css({visibility:"hidden",top:"100%"})},h)},show:function(e){let i=this.element;this.setPosition(),i.css({visibility:"visible"}),this._fireEvent("show"),t.utils.exec(e,null,i[0])},setPosition:function(){let e=this.element,i=this.options,l,h;i.toTop!==!0&&i.toBottom!==!0?(l=(o(globalThis).height()-e.outerHeight())/2,l<0&&(l=0),h="auto"):(i.toTop===!0&&(l=0,h="auto"),i.toTop!==!0&&i.toBottom===!0&&(h=0,l="auto")),e.css({top:l,bottom:h,left:(o(globalThis).width()-e.outerWidth())/2})},setContent:function(e){let i=this.element,l=i.find(".dialog-content");l.length===0&&(l=o("<div>").addClass("dialog-content"),l.appendTo(i)),t.utils.isQ(e)?e.appendTo(l):t.utils.isFunc(e)?l.html(t.utils.exec(e)):l.html(e)},setTitle:function(e){let i=this.element,l=i.find(".dialog-title");l.length===0&&(l=o("<div>").addClass("dialog-title"),l.appendTo(i)),l.html(e)},close:function(){let e=this.element,i=this.options;t.utils.bool(i.leaveOverlayOnClose)||o("body").find(".overlay").remove(),this.hide(()=>{e.data("open",!1),this._fireEvent("close"),i.removeOnClose===!0&&e.remove()})},open:function(){let e=this.element,i=this.options;i.overlay===!0&&o(".overlay").length===0&&(this.overlay.appendTo(o("body")),i.overlayClickClose===!0&&this.overlay.on(t.events.click,()=>{this.close()})),this.show(()=>{this._fireEvent("open"),e.data("open",!0),Number.parseInt(i.autoHide)>0&&setTimeout(()=>{this.close()},Number.parseInt(i.autoHide))})},toggle:function(){this.element.data("open")?this.close():this.open()},isOpen:function(){return this.element.data("open")===!0},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off(t.events.click,".js-dialog-close"),e.find(".button").off(t.events.click),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}}),t.dialog={isDialog:e=>t.utils.isMetroObject(e,"dialog"),open:function(e,i,l){if(!this.isDialog(e))return!1;let h=t.getPlugin(e,"dialog");l&&h.setTitle(l),i&&h.setContent(i),h.open()},close:function(e){if(!this.isDialog(e))return!1;t.getPlugin(o(e)[0],"dialog").close()},toggle:function(e){if(!this.isDialog(e))return!1;t.getPlugin(o(e)[0],"dialog").toggle()},isOpen:function(e){if(!this.isDialog(e))return!1;t.getPlugin(o(e)[0],"dialog").isOpen()},remove:function(e){if(!this.isDialog(e))return!1;let i=t.getPlugin(o(e)[0],"dialog");i.options.removeOnClose=!0,i.close()},create:e=>{let i=o("<div>").appendTo(o("body")),l=o.extend({},{show:!0,closeAction:!0,removeOnClose:!0},e||{});return l._runtime=!0,t.makePlugin(i,"dialog",l)}}})(Metro,Dom),((t,o)=>{let p={activityDeferred:0,type:"ring",style:"",size:64,radius:20,onActivityCreate:t.noop};t.activitySetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroActivitySetup<"u"&&t.activitySetup(globalThis.metroActivitySetup),t.Component("activity",{init:function(e,i){return this._super(i,e,p),this},_create:function(){let e=this.element,i=this.options,l,h;e.html("").addClass(i.style==="dark"?"dark-side":i.style==="color"?"color-style":"").addClass(`activity-${i.type}`);function v(){for(l=0;l<5;l++)o("<div/>").addClass("circle").appendTo(e)}function x(){for(l=0;l<4;l++)o("<div/>").addClass("square").appendTo(e)}function w(){o("<div/>").addClass("cycle").appendTo(e)}function D(){for(l=0;l<5;l++)h=o("<div/>").addClass("wrap").appendTo(e),o("<div/>").addClass("circle").appendTo(h)}function M(){o(`
                    <svg class="circular">
                        <circle class="path" 
                                cx="${i.size/2}" 
                                cy="${i.size/2}" 
                                r="${i.radius}" 
                                fill="none" 
                                stroke-width="2" 
                                stroke-miterlimit="10"
                        />
                    </svg>
                `).appendTo(e)}function I(){for(l=0;l<3;l++)o("<span/>").addClass("electron").appendTo(e)}function B(){for(l=0;l<6;l++)o("<span/>").addClass("bar").appendTo(e)}switch(i.type){case"metro":v();break;case"square":x();break;case"cycle":w();break;case"simple":M();break;case"atom":I();break;case"bars":B();break;default:D()}this._fireEvent("activity-create",{element:e})},changeAttribute:e=>{},destroy:function(){return this.element}}),t.activity={open:(e={})=>{let i=e,l=`<div data-role="activity" data-type="${i.type?i.type:"cycle"}" data-style="${i.style?i.style:"color"}"></div>`,h=i.text?`<div class="text-center">${i.text}</div>`:"";return t.dialog.create({content:l+h,defaultActions:!1,clsContent:"d-flex flex-column flex-center bg-transparent no-shadow w-auto",clsDialog:"no-border no-shadow bg-transparent global-dialog",autoHide:i.autoHide?i.autoHide:0,overlayClickClose:i.overlayClickClose===!0,overlayColor:i.overlayColor?i.overlayColor:"#000000",overlayAlpha:i.overlayAlpha?i.overlayAlpha:.5,clsOverlay:"global-overlay"})},close:e=>{t.dialog.close(e)}}})(Metro,Dom),((t,o)=>{let p={adblockDeferred:0,checkInterval:1e3,fireOnce:!0,checkStop:10,localhost:!1,onAlert:t.noop,onFishingStart:t.noop,onFishingDone:t.noop};t.adblockSetup=i=>{p=o.extend({},p,i)},typeof globalThis.metroAdblockSetup<"u"&&t.adblockSetup(globalThis.metroAdblockSetup);let e={bite:()=>{o("<div>").addClass("adblock-bite adsense google-adsense dblclick advert topad top_ads topAds textads sponsoredtextlink_container show_ads right-banner rekl mpu module-ad mid_ad mediaget horizontal_ad headerAd contentAd brand-link bottombanner bottom_ad_block block_ad bannertop banner-right banner-body b-banner b-article-aside__banner b-advert adwrapper adverts advertisment advertisement:not(body) advertise advert_list adtable adsense adpic adlist adleft adinfo adi adholder adframe addiv ad_text ad_space ad_right ad_links ad_body ad_block ad_Right adTitle adText".split(" ").shuffle().join(" ")).css({position:"fixed",height:1,width:1,overflow:"hidden",visibility:"visible",top:0,left:0}).append(o("<a href='https://dblclick.net'>").html("dblclick.net")).appendTo("body"),e.options.adblockDeferred?setTimeout(()=>{e.fishing()},e.options.adblockDeferred):e.fishing()},fishing:()=>{let i=e.options,l=typeof i.fireOnce=="number"?i.fireOnce:0,h=i.checkStop,v=!1,x=()=>{let w=o(".adsense.google-adsense.dblclick.advert.adblock-bite"),D=w.find("a"),M=()=>{clearInterval(v),t.utils.exec(i.onFishingDone),o(globalThis).fire("fishing-done"),w.remove()};if(!i.localhost&&o.localhost){M();return}!w.length||!D.length||w.css("display").indexOf("none")>-1||D.css("display").indexOf("none")>-1?(t.utils.exec(e.options.onAlert),o(globalThis).fire("adblock-alert"),e.options.fireOnce===!0?M():(l--,l===0&&M())):h!==!1&&(h--,h===0&&M())};t.utils.exec(i.onFishingStart),o(globalThis).fire("fishing-start"),v=setInterval(()=>{x()},e.options.checkInterval),x()}};t.Adblock=e,o(()=>{e.options=o.extend({},p),o(globalThis).on("metro-initiated",()=>{e.bite()})})})(Metro,Dom),((t,o)=>{let p={icon:null,showNumbers:!1,showMoon:!0,showDay:!0,showDigitalClock:!0,timeFormat:24,onAnalogClockCreate:t.noop};t.analogClockSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroAnalogClockSetup<"u"&&t.analogClockSetup(globalThis.metroAnalogClockSetup),t.Component("analog-clock",{init:function(e,i){return this._super(i,e,p,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("analog-clock-create")},_createStructure:function(){let e=this.element,i=this.options,l=datetime();e.addClass("analog-clock"),i.showNumbers&&e.addClass("show-numbers");for(let h=1;h<=12;h++)e.append(`<label class="dash" style="--i: ${h}"><span>${i.showNumbers?h:"|"}</span></label>`);for(let h=1;h<=90;h++)h%5!==0&&e.append(`<label class="secondary-dash" style="--i2: ${h}"><span>|</span></label>`);e.append(`
                <div class="hands">
                    <div class="hour"></div>                
                    <div class="minute"></div>                
                    <div class="second"></div>                
                </div>
                  
            `),e.append(`
                <div class="day-month">
                    <div class="day-month-inner">
                        <div class="day">${l.format("DD",this.locale)}</div>
                        <div class="month">${l.format("MMM",this.locale)}</div>                    
                    </div>
                    <div class="week-day">${l.format("dddd",this.locale)}</div>
                </div>
            `),i.showDay===!1&&e.find(".day-month").hide(),e.append(`
                <div class="digital-clock">
                    <div class="dc-hour">${l.format(i.timeFormat===24?"HH":"hh",this.locale)}</div>
                    <div class="dc-minute">${l.format("mm",this.locale)}</div>
                    <div class="dc-second">${l.format("ss",this.locale)}</div>
                </div>
            `),i.showDigitalClock===!1&&e.find(".digital-clock").hide(),i.icon&&e.append(`<div class="icon">${i.icon}</div>`),i.showMoon===!0&&e.append('<div class="moon"></div>'),this._updateTime(),setInterval(()=>{e.toggleClass("tick")},500)},_createEvents:()=>{},_updateTime:function(){let e=this.element,i=this.options,l=e.find(".second"),h=e.find(".minute"),v=e.find(".hour"),x=e.find(".dc-second"),w=e.find(".dc-minute"),D=e.find(".dc-hour"),M=e.find(".day"),I=e.find(".month"),B=e.find(".moon"),Y=()=>{let X=datetime(),ie=X.second()/60*360,Fe=X.minute()/60*360,Ve=X.hour12()/12*360,He=X.format("DD",this.locale),ze=X.format("MMM",this.locale),De=X.moon();l[0].style.transform=`rotate(${ie}deg)`,h[0].style.transform=`rotate(${Fe}deg)`,v[0].style.transform=`rotate(${Ve}deg)`,M.html(He),I.html(ze),B.removeClass("").addClass(`${De.name}`),D[0].innerHTML=X.format(i.timeFormat===24?"HH":"hh",this.locale),w[0].innerHTML=X.format("mm",this.locale),x[0].innerHTML=X.format("ss",this.locale)};Y(),setInterval(Y,1e3)},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,checkHamburgerColor:!1,onMenuOpen:t.noop,onMenuClose:t.noop,onBeforeMenuOpen:t.noop,onBeforeMenuClose:t.noop,onMenuCollapse:t.noop,onMenuExpand:t.noop,onAppBarCreate:t.noop};t.appBarSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroAppBarSetup<"u"&&t.appBarSetup(globalThis.metroAppBarSetup),t.Component("app-bar",{init:function(e,i){return this._super(i,e,p,{id:null}),this},_create:function(){let e=this.element;this.id=e.attr("id")||Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l,h;if(t.utils.getStyleOne(e,"background-color"),e.addClass("app-bar").attr("role","navigation"),l=e.find(".hamburger"),l.length===0){l=o("<button>").attr("type","button").addClass("hamburger menu-down").attr("aria-label","Toggle menu").attr("aria-expanded","false").attr("aria-controls",`app-bar-menu-${this.id}`);for(let v=0;v<3;v++)o("<span>").addClass("line").appendTo(l)}e.prepend(l),h=e.find(".app-bar-menu"),h.length>0&&(h.attr("id",`app-bar-menu-${this.id}`),h.attr("role","menubar")),h.length===0?l.css("display","none"):(h.find("li").attr("role","menuitem"),h.find("li a").attr("tabindex","0"),h.find("li:has(ul)").attr("aria-haspopup","true"),h.find("li ul").attr("role","menu").attr("aria-hidden","true")),l.css("display")==="block"?(h.hide().addClass("collapsed"),l.removeClass("hidden")):l.addClass("hidden"),(i.expand===!0||t.utils.isValue(i.expandPoint)&&t.utils.mediaExist(i.expandPoint))&&(e.addClass("app-bar-expand"),l.addClass("hidden")),i.checkHamburgerColor},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.find(".app-bar-menu"),v=i.find(".hamburger");i.on(t.events.click,".hamburger",()=>{h.length!==0&&(h.hasClass("collapsed")?e.open():e.close())}),v.on("keydown",x=>{(x.keyCode===13||x.keyCode===32)&&(x.preventDefault(),v.trigger("click"))}),h.find("li a").on("keydown",function(x){(x.keyCode===13||x.keyCode===32)&&(x.preventDefault(),o(this).trigger("click")),x.keyCode===27&&(x.preventDefault(),e.close(),v.focus())}),o(globalThis).on(t.events.resize,()=>{if(l.expand!==!0&&(t.utils.isValue(l.expandPoint)&&t.utils.mediaExist(l.expandPoint)?(i.addClass("app-bar-expand"),e._fireEvent("menu-expand")):(i.removeClass("app-bar-expand"),e._fireEvent("menu-collapse"))),h.length===0){v.addClass("hidden");return}h.removeClass("opened").removeClass("collapsed"),v.css("display")!=="block"?(v.addClass("hidden"),h.show()):(v.removeClass("hidden"),v.hasClass("active")?h.removeClass("collapsed").addClass("opened"):h.addClass("collapsed").removeClass("opened"))},{ns:this.id})},close:function(){let e=this.element,i=this.options,l=e.find(".app-bar-menu"),h=e.find(".hamburger");this._fireEvent("before-menu-close",{menu:l[0]}),h.attr("aria-expanded","false"),l.find("ul").attr("aria-hidden","true"),l.slideUp(i.duration,()=>{l.addClass("collapsed").removeClass("opened"),h.removeClass("active"),this._fireEvent("menu-close",{menu:l[0]})})},open:function(){let e=this.element,i=this.options,l=e.find(".app-bar-menu"),h=e.find(".hamburger");this._fireEvent("before-menu-open",{menu:l[0]}),h.attr("aria-expanded","true"),l.find("ul").attr("aria-hidden","false"),l.slideDown(i.duration,()=>{l.removeClass("collapsed").addClass("opened"),h.addClass("active"),this._fireEvent("menu-open",{menu:l[0]})})},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off(t.events.click,".hamburger"),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let p={audioVolume:.5,audioSrc:"",onAudioStart:t.noop,onAudioEnd:t.noop,onAudioButtonCreate:t.noop};t.audioButtonSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroAudioButtonSetup<"u"&&t.audioButtonSetup(globalThis.metroAudioButtonSetup),t.Component("audio-button",{init:function(e,i){return this._super(i,e,p,{audio:null,canPlay:null,id:null,playing:!1}),this},_create:function(){let e=this.element;this.id=Hooks.useId(e),this._createStructure(),this._createEvents(),this._fireEvent("audioButtonCreate",{element:e})},_createStructure:function(){let e=this.options;this.audio=new Audio(e.audioSrc),this.audio.volume=e.audioVolume},_createEvents:function(){let e=this.element,i=this.options,l=this.audio;l.addEventListener("loadeddata",()=>{this.canPlay=!0}),l.addEventListener("ended",()=>{this.playing=!1,this._fireEvent("audioEnd",{src:i.audioSrc,audio:l})}),e.on(t.events.click,()=>{this.play()},{ns:this.id})},play:function(e){let i=this.element,l=this.options,h=this.audio;if(this.playing){this.stop();return}l.audioSrc!==""&&this.audio.duration&&this.canPlay&&(this.playing=!0,this._fireEvent("audioStart",{src:l.audioSrc,audio:h}),h.pause(),h.currentTime=0,h.play(),t.utils.exec(e,[h],i[0]))},stop:function(e){let i=this.element,l=this.options,h=this.audio;this.playing=!1,h.pause(),h.currentTime=0,this._fireEvent("audioEnd",{src:l.audioSrc,audio:h}),t.utils.exec(e,[h],i[0])},changeAttribute:function(e){let i=this.element,l=this.options,h=this.audio,v=()=>{let w=i.attr("data-audio-src");w&&w.trim()!==""&&(l.audioSrc=w,h.src=w)},x=()=>{let w=Number.parseFloat(i.attr("data-audio-volume"));Number.isNaN(w)||(l.audioVolume=w,h.volume=w)};e==="data-audio-src"&&v(),e==="data-audio-volume"&&x()},destroy:function(){let e=this.element;e.off(t.events.click,{ns:this.id}),e.remove()}}),t.playSound=e=>{let i=typeof e=="string"?e:e.audioSrc,l=e!=null&&e.audioVolume?e.audioVolume:.5;if(!i)return;let h=new Audio(i);h.volume=Number.parseFloat(l),h.addEventListener("loadeddata",function(){e!=null&&e.onAudioStart&&t.utils.exec(e.onAudioStart,[i],this),this.play()}),h.addEventListener("ended",function(){e!=null&&e.onAudioEnd&&t.utils.exec(e.onAudioEnd,[null],this)})}})(Metro,Dom),((t,o)=>{let p={sliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:t.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:t.position.TOP,hintMask:"$1",vertical:!1,target:null,returnType:"value",size:0,label:null,clsSlider:"",clsBackside:"",clsComplete:"",clsBuffer:"",clsMarker:"",clsHint:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:t.noop,onStop:t.noop,onMove:t.noop,onSliderClick:t.noop,onChange:t.noop,onChangeValue:t.noop,onChangeBuffer:t.noop,onFocus:t.noop,onBlur:t.noop,onSliderCreate:t.noop};t.sliderSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroSliderSetup<"u"&&t.sliderSetup(globalThis.metroSliderSetup),t.Component("slider",{init:function(e,i){return this._super(i,e,p,{slider:null,value:0,percent:0,pixel:0,buffer:0,keyInterval:!1,id:t.utils.elementId("slider")}),this},_create:function(){let e=this.element,i=this.options;this._createSlider(),this._createEvents(),this.buff(i.buffer),this.val(i.value),this._fireEvent("slider-create",{element:e})},_createSlider:function(){let e=this.element,i=this.options,l=o("<div>").addClass("backside").addClass(i.clsBackside),h=o("<div>").addClass("complete").addClass(i.clsComplete),v=o("<div>").addClass("buffer").addClass(i.clsBuffer),x=o("<button>").attr("type","button").addClass("marker").addClass(i.clsMarker),w=o("<div>").addClass("hint").addClass(`${i.hintPosition}-side`).addClass(i.clsHint),D,M=e.wrap("<div>").addClass("slider").addClass(e[0].className).addClass(i.clsSlider);if(i.size>0&&(i.vertical===!0?M.outerHeight(i.size):M.outerWidth(i.size)),i.vertical===!0&&M.addClass("vertical-slider"),i.hintAlways===!0&&w.css({display:"block"}).addClass("permanent-hint"),i.label){let I=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(M);if(e.id())I.attr("for",e.id());else{let B=Hooks.useId(e[0]);I.attr("for",B),e.attr("id",B)}}if(l.appendTo(M),h.appendTo(M),v.appendTo(M),x.appendTo(M),w.appendTo(x),i.showMinMax===!0){let I=o("<div>").addClass("slider-min-max").addClass(i.clsMinMax);o("<span>").addClass("slider-text-min").addClass(i.clsMin).html(i.min).appendTo(I),o("<span>").addClass("slider-text-max").addClass(i.clsMax).html(i.max).appendTo(I),i.minMaxPosition===t.position.TOP?I.insertBefore(M):I.insertAfter(M)}if(e[0].className="",i.copyInlineStyles===!0)for(D=0;D<e[0].style.length;D++)M.css(e[0].style[D],e.css(e[0].style[D]));e.is(":disabled")?this.disable():this.enable(),this.slider=M},_createEvents:function(){let e=this.slider,i=this.options,l=e.find(".marker"),h=e.find(".hint");l.on(t.events.startAll,()=>{i.hint===!0&&i.hintAlways!==!0&&h.fadeIn(300),o(document).on(t.events.moveAll,v=>{v.cancelable&&v.preventDefault(),this._move(v),this._fireEvent("move",{val:this.value,percent:this.percent})},{ns:this.id,passive:!1}),o(document).on(t.events.stopAll,()=>{o(document).off(t.events.moveAll,{ns:this.id}),o(document).off(t.events.stopAll,{ns:this.id}),i.hintAlways!==!0&&h.fadeOut(300),this._fireEvent("stop",{val:this.value,percent:this.percent})},{ns:this.id}),this._fireEvent("start",{val:this.value,percent:this.percent})}),l.on(t.events.focus,()=>{this._fireEvent("focus",{val:this.value,percent:this.percent})}),l.on(t.events.blur,()=>{this._fireEvent("blur",{val:this.value,percent:this.percent})}),l.on(t.events.keydown,v=>{let x=v.keyCode?v.keyCode:v.which;if([37,38,39,40].indexOf(x)===-1)return;let w=i.accuracy===0?1:i.accuracy;this.keyInterval||(this.keyInterval=setInterval(()=>{let D=this.value;(v.keyCode===37||v.keyCode===40)&&(D-w<i.min?D=i.min:D-=w),(v.keyCode===38||v.keyCode===39)&&(D+w>i.max?D=i.max:D+=w),this.value=this._correct(D),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},100),v.preventDefault())}),l.on(t.events.keyup,()=>{clearInterval(this.keyInterval),this.keyInterval=!1}),e.on(t.events.click,v=>{this._move(v),this._fireEvent("slider-click",{val:this.value,percent:this.percent}),this._fireEvent("stop",{val:this.value,percent:this.percent})}),o(globalThis).on(t.events.resize,()=>{this.val(this.value),this.buff(this.buffer)},{ns:this.id})},_convert:function(e,i){let l=this.slider,h=this.options,v=(h.vertical===!0?l.outerHeight():l.outerWidth())-l.find(".marker").outerWidth();switch(i){case"pix2prc":return e*100/v;case"pix2val":return this._convert(e,"pix2prc")*((h.max-h.min)/100)+h.min;case"val2prc":return(e-h.min)/((h.max-h.min)/100);case"prc2pix":return e/(100/v);case"val2pix":return this._convert(this._convert(e,"val2prc"),"prc2pix")}return 0},_correct:function(e){let i=e,l=this.options.accuracy,h=this.options.min,v=this.options.max;return l===0||Number.isNaN(l)?i:(i=Math.round(e/l)*l,i<h&&(i=h),i>v&&(i=v),i.toFixed(t.utils.decCount(l)))},_move:function(e){let i=this.slider,l=this.options,h=i.offset(),v=i.find(".marker").outerWidth(),x=l.vertical===!0?i.outerHeight():i.outerWidth(),w=0,D=x-v,M=l.vertical===!0?t.utils.pageXY(e).y-h.top:t.utils.pageXY(e).x-h.left,I=l.vertical===!0?x-M-v/2:M-v/2;I<w||I>D||(this.value=this._correct(this._convert(I,"pix2val")),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw())},_hint:function(){let e=this.options,i=this.slider.find(".hint"),l=+this.value||0,h=+this.percent||0;e.roundValue&&(l=(t.utils.isValue(l)?+l:0).toFixed(t.utils.decCount(e.accuracy)),h=(t.utils.isValue(h)?+h:0).toFixed(t.utils.decCount(e.accuracy))),i.text(e.hintMask.replace("$1",l).replace("$2",h))},_value:function(){let e=this.element,i=this.options,l=i.returnType==="value"?this.value:this.percent,h=this.percent,v=this.buffer;if(i.roundValue&&(l=(t.utils.isValue(l)?+l:0).toFixed(t.utils.decCount(i.accuracy)),h=(t.utils.isValue(h)?+h:0).toFixed(t.utils.decCount(i.accuracy)),v=(t.utils.isValue(v)?+v:0).toFixed(t.utils.decCount(i.accuracy))),e[0].tagName==="INPUT"&&e.val(l),i.target!==null){let x=o(i.target);x.length!==0&&o.each(x,function(){let w=o(this);this.tagName==="INPUT"?w.val(l):w.text(l),w.trigger("change")})}this._fireEvent("change-value",{val:l}),this._fireEvent("change",{val:l,percent:h,buffer:v})},_marker:function(){let e=this.slider,i=this.options,l=e.find(".marker"),h=e.find(".complete"),v=i.vertical===!0?e.outerHeight():e.outerWidth(),x=Number.parseInt(t.utils.getStyleOne(l,"width")),w=t.utils.isVisible(e);w&&l.css({"margin-top":0,"margin-left":0}),i.vertical===!0?(w?l.css("top",v-this.pixel):(l.css("top",`${100-this.percent}%`),l.css("margin-top",x/2)),h.css("height",`${this.percent}%`)):(w?l.css("left",this.pixel):(l.css("left",`${this.percent}%`),l.css("margin-left",this.percent===0?0:-1*x/2)),h.css("width",`${this.percent}%`))},_redraw:function(){this._marker(),this._value(),this._hint()},_buffer:function(){let e=this.element,i=this.options,l=this.slider.find(".buffer");i.vertical===!0?l.css("height",`${this.buffer}%`):l.css("width",`${this.buffer}%`),this._fireEvent("change-buffer",{val:this.buffer}),this._fireEvent("change",{val:e.val(),percent:this.percent,buffer:this.buffer})},val:function(e){let i=this.options;if(e===void 0||Number.isNaN(e))return this.value;let l=Number.parseFloat(e);l<i.min&&(l=i.min),l>i.max&&(l=i.max),this.value=this._correct(l),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},buff:function(e){let i=this.slider.find(".buffer");if(e===void 0||Number.isNaN(e))return this.buffer;if(i.length===0)return!1;let l=Number.parseFloat(e);l>100&&(l=100),l<0&&(l=0),this.buffer=l,this._buffer()},changeValue:function(){let e=this.element,i=this.options,l=e.attr("data-value");l<i.min&&(l=i.min),l>i.max&&(l=i.max),this.val(l)},changeBuffer:function(){let e=this.element,i=Number.parseInt(e.attr("data-buffer"));i<0&&(i=0),i>100&&(i=100),this.buff(i)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break;case"disabled":this.toggleState();break}},destroy:function(){let e=this.options,i=this.slider,l=i.find(".marker");l.off(t.events.startAll),l.off(t.events.focus),l.off(t.events.blur),l.off(t.events.keydown),l.off(t.events.keyup),i.off(t.events.click),o(globalThis).off(t.events.resize,{ns:this.id}),e.label&&i.prev("label").remove(),i.remove()}})})(Metro,Dom),((t,o)=>{let p={audioDeferred:0,playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:"🔁",stopIcon:"⏹",playIcon:"▶",pauseIcon:"⏸",muteIcon:"🔇",volumeLowIcon:"🔈",volumeMediumIcon:"🔉",volumeHighIcon:"🔊",playlistIcon:"📃",nextIcon:"→",prevIcon:"←",firstIcon:"⇤",lastIcon:"⇥",forwardIcon:"⇉",backwardIcon:"⇇",shuffleIcon:"🔀",randomIcon:"🎲",onPlay:t.noop,onPause:t.noop,onStop:t.noop,onEnd:t.noop,onMetadata:t.noop,onTime:t.noop,onAudioPlayerCreate:t.noop};t.audioPlayerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroAudioPlayerSetup<"u"&&t.audioPlayerSetup(globalThis.metroAudioPlayerSetup),t.Component("audio-player",{init:function(e,i){return this._super(i,e,p,{preloader:null,player:null,audio:i,stream:null,volume:null,volumeBackup:0,muted:!1}),this},_create:function(){let e=this.element,i=this.options;this._createPlayer(),this._createEvents(),i.autoplay===!0&&this.play(),this._fireEvent("audio-player-create",{element:e,player:this.player})},_createPlayer:function(){let e=this.element,i=this.options,l=this.audio,h=e.wrap("<div>").addClass(`media-player audio-player ${e[0].className}`);o.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){e.removeAttr(this)}),e.attr("preload","auto"),l.volume=i.volume,i.src!==null&&this._setSource(i.src),e[0].className="",this.player=h,this._createControls()},_setSource:function(e){let i=this.element;i.find("source").remove(),i.removeAttr("src"),Array.isArray(e)?o.each(e,function(){this.src!==void 0&&o("<source>").attr("src",this.src).attr("type",this.type!==void 0?this.type:"").appendTo(i)}):i.attr("src",e)},_createControls:function(){let e=this.element,i=this.options,l=this.elem,h=o("<div>").addClass("controls").addClass(i.clsControls).insertAfter(e),v=o("<div>").addClass("stream").appendTo(h),x=o("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(v),w=o("<div>").addClass("load-audio").appendTo(v),D=o("<div>").addClass("volume").appendTo(h),M=o("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(D),I=o("<div>").addClass("info-box").appendTo(h);i.showInfo!==!0&&I.hide(),w.activity({type:"metro",style:"color"}),w.hide(0),this.preloader=w,t.makePlugin(x,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:()=>{l.paused||l.pause()},onStop:Y=>{l.seekable.length>0&&(l.currentTime=(this.duration*Y/100).toFixed(0)),l.paused&&l.currentTime>0&&l.play()}}),this.stream=x,i.showStream!==!0&&v.hide(),t.makePlugin(M,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:i.volume*100,onChangeValue:Y=>{l.volume=Y/100}}),this.volume=M,i.showVolume!==!0&&D.hide();let B;i.showLoop===!0&&(B=o("<button>").attr("type","button").addClass("button square loop").html(i.loopIcon).appendTo(h),B.addClass("active"),e.attr("loop","loop")),i.showPlay===!0&&o("<button>").attr("type","button").addClass("button square play").html(i.playIcon).appendTo(h),i.showStop===!0&&o("<button>").attr("type","button").addClass("button square stop").html(i.stopIcon).appendTo(h),i.showMute===!0&&o("<button>").attr("type","button").addClass("button square mute").html(i.muteIcon).appendTo(h),this._setVolume(),i.muted&&(this.volumeBackup=l.volume,t.getPlugin(this.volume,"slider").val(0),l.volume=0),I.html("00:00 / 00:00")},_createEvents:function(){let e=this.element,i=this.options,l=this.elem,h=this.player;e.on("loadstart",()=>{this.preloader.fadeIn()}),e.on("loadedmetadata",()=>{this.duration=l.duration.toFixed(0),this._setInfo(0,this.duration),t.utils.exec(i.onMetadata,[l,h],e[0])}),e.on("canplay",()=>{this._setBuffer(),this.preloader.fadeOut()}),e.on("progress",()=>{this._setBuffer()}),e.on("timeupdate",()=>{let v=Math.round(l.currentTime*100/this.duration);this._setInfo(l.currentTime,this.duration),t.getPlugin(this.stream,"slider").val(v),t.utils.exec(i.onTime,[l.currentTime,this.duration,l,h],e[0])}),e.on("waiting",()=>{this.preloader.fadeIn()}),e.on("loadeddata",()=>{}),e.on("play",()=>{h.find(".play").html(i.pauseIcon),t.utils.exec(i.onPlay,[l,h],e[0])}),e.on("pause",()=>{h.find(".play").html(i.playIcon),t.utils.exec(i.onPause,[l,h],e[0])}),e.on("stop",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onStop,[l,h],e[0])}),e.on("ended",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onEnd,[l,h],e[0])}),e.on("volumechange",()=>{this._setVolume()}),h.on(t.events.click,".play",()=>{l.paused?this.play():this.pause()}),h.on(t.events.click,".stop",()=>{this.stop()}),h.on(t.events.click,".mute",()=>{this._toggleMute()}),h.on(t.events.click,".loop",()=>{this._toggleLoop()})},_toggleLoop:function(){let e=this.player.find(".loop");e.length!==0&&(e.toggleClass("active"),e.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.audio.volume=this.volumeBackup:(this.volumeBackup=this.audio.volume,this.audio.volume=0),t.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(e,i){this.player.find(".info-box").html(`${t.utils.secondsToFormattedString(Math.round(e))} / ${t.utils.secondsToFormattedString(Math.round(i))}`)},_setBuffer:function(){let e=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;t.getPlugin(this.stream,"slider").buff(e)},_setVolume:function(){let e=this.audio,i=this.player,l=this.options,h=i.find(".mute"),v=e.volume*100;v>1&&v<30?h.html(l.volumeLowIcon):v>=30&&v<60?h.html(l.volumeMediumIcon):v>=60&&v<=100?h.html(l.volumeHighIcon):h.html(l.muteIcon)},play:function(e){e!==void 0&&this._setSource(e),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0,t.getPlugin(this.stream,"slider").val(0)},setVolume:function(e){if(e===void 0)return this.audio.volume;let i=e>1?e/100:e;this.audio.volume=e,t.getPlugin(this.volume,"slider").val(i*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){let e=JSON.parse(this.element.attr("data-src"));this.play(e)},changeVolume:function(){let e=this.element.attr("data-volume");this.setVolume(e)},changeAttribute:function(e){switch(e){case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){let e=this.element,i=this.player;return e.off("all"),i.off("all"),t.getPlugin(this.stream,"slider").destroy(),t.getPlugin(this.volume,"slider").destroy(),e}})})(Metro,Dom),((t,o)=>{let p={type:"success",size:16,onBullCreate:t.noop};t.bullSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroBullSetup<"u"&&t.bullSetup(globalThis.metroBullSetup),t.Component("bull",{init:function(e,i){return this._super(i,e,p,{}),this},_create:function(){this._createStructure(),this._fireEvent("bull-create")},_createStructure:function(){let e=this.element,i=this.options,l;switch(i.type.toLowerCase()){case"default":l=`<svg width="${i.size}" height="${i.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"success":l=`<svg width="${i.size}" height="${i.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"pending":l=`<svg width="${i.size}" height="${i.size}" aria-label="currently running" fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="ani-spin"><path fill="none" stroke="#DBAB0A" stroke-width="2" d="M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z" opacity=".5"></path><path fill="#DBAB0A" fill-rule="evenodd" d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z" clip-rule="evenodd"></path><path fill="#DBAB0A" d="M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"></path></svg>`;break;case"fail":l=`<svg width="${i.size}" height="${i.size}" aria-label="failed" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#e5534b" d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>`;break;case"warning":l=`<svg width="${i.size}" height="${i.size}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill="#ff4d00" d="M246.312928,5.62892705 C252.927596,9.40873724 258.409564,14.8907053 262.189374,21.5053731 L444.667042,340.84129 C456.358134,361.300701 449.250007,387.363834 428.790595,399.054926 C422.34376,402.738832 415.04715,404.676552 407.622001,404.676552 L42.6666667,404.676552 C19.1025173,404.676552 7.10542736e-15,385.574034 7.10542736e-15,362.009885 C7.10542736e-15,354.584736 1.93772021,347.288125 5.62162594,340.84129 L188.099293,21.5053731 C199.790385,1.04596203 225.853517,-6.06216498 246.312928,5.62892705 Z M224,272 C208.761905,272 197.333333,283.264 197.333333,298.282667 C197.333333,313.984 208.415584,325.248 224,325.248 C239.238095,325.248 250.666667,313.984 250.666667,298.624 C250.666667,283.264 239.238095,272 224,272 Z M245.333333,106.666667 L202.666667,106.666667 L202.666667,234.666667 L245.333333,234.666667 L245.333333,106.666667 Z" id="Combined-Shape"></path></svg>`;break;case"bulb":l=`<svg width="${i.size}" height="${i.size}" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#ffde21" d="M213.333333,85.3333333 C284.025781,85.3333333 341.333333,142.640885 341.333333,213.333333 C341.333333,260.711239 315.5928,302.077122 277.333732,324.208982 L277.333333,405.333333 L256,426.666667 L234.666667,426.666667 C234.666667,438.448741 225.115408,448 213.333333,448 C201.551259,448 192,438.448741 192,426.666667 L192,426.666667 L170.666667,426.666667 L149.333333,405.333333 L149.332954,324.208993 C111.073876,302.077136 85.3333333,260.711248 85.3333333,213.333333 C85.3333333,142.640885 142.640885,85.3333333 213.333333,85.3333333 Z M234.667665,339.563386 C227.72957,340.727434 220.602209,341.333333 213.333333,341.333333 C206.064458,341.333333 198.937097,340.727434 191.999002,339.563386 L192,384 L234.666667,384 L234.667665,339.563386 Z M96.4250122,307.614237 L119.052429,330.241654 L73.7975952,375.496488 L51.1701782,352.869071 L96.4250122,307.614237 Z M330.241654,307.614237 L375.496488,352.869071 L352.869071,375.496488 L307.614237,330.241654 L330.241654,307.614237 Z M426.666667,197.333333 L426.666667,229.333333 L362.666667,229.333333 L362.666667,197.333333 L426.666667,197.333333 Z M64,197.333333 L64,229.333333 L7.10542736e-15,229.333333 L7.10542736e-15,197.333333 L64,197.333333 Z M352.869071,51.1701782 L375.496488,73.7975952 L330.241654,119.052429 L307.614237,96.4250122 L352.869071,51.1701782 Z M73.7975952,51.1701782 L119.052429,96.4250122 L96.4250122,119.052429 L51.1701782,73.7975952 L73.7975952,51.1701782 Z M229.333333,-1.0658141e-14 L229.333333,64 L197.333333,64 L197.333333,-1.0658141e-14 L229.333333,-1.0658141e-14 Z" id="Combined-Shape"></path></svg>`;break}e.clear().html(l)},changeAttribute:function(e,i){e==="data-type"&&this._createStructure()},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={buttongroupDeferred:0,targets:"button",clsActive:"",requiredButton:!1,mode:t.groupMode.ONE,onButtonClick:t.noop,onButtonGroupCreate:t.noop};t.buttonGroupSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroButtonGroupSetup<"u"&&t.buttonGroupSetup(globalThis.metroButtonGroupSetup),t.Component("button-group",{init:function(e,i){return this._super(i,e,p,{active:null,id:t.utils.elementId("button-group")}),this},_create:function(){let e=this.element;this._createGroup(),this._createEvents(),this._fireEvent("button-group-create",{element:e})},_createGroup:function(){let e=this.element,i=this.options;e.addClass("button-group");let l=e.find(i.targets),h=e.find(".active");i.mode===t.groupMode.ONE&&h.length===0&&i.requiredButton===!0&&o(l[0]).addClass("active"),i.mode===t.groupMode.ONE&&h.length>1&&(l.removeClass("active").removeClass(i.clsActive),o(l[0]).addClass("active")),e.find(".active").addClass("js-active").addClass(i.clsActive)},_createEvents:function(){let e=this,i=this.element,l=this.options;i.on(t.events.click,l.targets,function(){let h=o(this);e._fireEvent("button-click",{button:this}),!(l.mode===t.groupMode.ONE&&h.hasClass("active"))&&(l.mode===t.groupMode.ONE?(i.find(l.targets).removeClass(l.clsActive).removeClass("active js-active"),h.addClass("active").addClass(l.clsActive).addClass("js-active")):h.toggleClass("active").toggleClass(l.clsActive).toggleClass("js-active"))})},changeAttribute:e=>{},destroy:function(){let e=this.element,i=this.options;e.off(t.events.click,i.targets),e.remove()}})})(Metro,Dom),((t,o)=>{let p={spinnerDeferred:0,label:"",step:1,plusIcon:"+",minusIcon:"-",buttonsPosition:"default",defaultValue:0,minValue:null,maxValue:null,fixed:0,repeatThreshold:2e3,hideCursor:!1,clsSpinner:"",clsSpinnerInput:"",clsSpinnerButton:"",clsSpinnerButtonPlus:"",clsSpinnerButtonMinus:"",clsLabel:"",onBeforeChange:t.noop_true,onChange:t.noop,onPlusClick:t.noop,onMinusClick:t.noop,onArrowUp:t.noop,onArrowDown:t.noop,onButtonClick:t.noop,onArrowClick:t.noop,onSpinnerCreate:t.noop};t.spinnerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroSpinnerSetup<"u"&&t.spinnerSetup(globalThis.metroSpinnerSetup),t.Component("spinner",{init:function(e,i){return this._super(i,e,p,{repeat_timer:!1}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("spinner-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l=o("<div>").addClass("spinner").addClass(`buttons-${i.buttonsPosition}`).addClass(e[0].className).addClass(i.clsSpinner),h=o("<button>").attr("type","button").addClass("button spinner-button spinner-button-plus").addClass(`${i.clsSpinnerButton} ${i.clsSpinnerButtonPlus}`).html(i.plusIcon),v=o("<button>").attr("type","button").addClass("button spinner-button spinner-button-minus").addClass(`${i.clsSpinnerButton} ${i.clsSpinnerButtonMinus}`).html(i.minusIcon),x=e.val().trim();if(t.utils.isValue(x)||e.val(0),e[0].className="",l.insertBefore(e),e.appendTo(l).addClass(i.clsSpinnerInput),e.addClass("metro-input"),h.appendTo(l),v.appendTo(l),i.hideCursor===!0&&l.addClass("hide-cursor"),i.label){let w=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(l);if(e.attr("id"))w.attr("for",e.attr("id"));else{let D=Hooks.useId(e[0]);w.attr("for",D),e.attr("id",D)}e.attr("dir")==="rtl"&&w.addClass("rtl")}i.disabled===!0||e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let e=this.element,i=this.options,l=e.closest(".spinner"),h,v=x=>{let w=[x?"plus-click":"minus-click",x?"arrow-up":"arrow-down","button-click","arrow-click"],D=+e.val(),M=+e.val(),I=+i.step;x?M+=I:M-=I,this._setValue(M.toFixed(i.fixed),!0),this._fireEvents(w,{curr:D,val:M,elementVal:e.val(),button:x?"plus":"minus"})};l.on(t.events.startAll,".spinner-button",function(x){let w=o(this).hasClass("spinner-button-plus");h=setInterval(()=>{v(w)},100)},{passive:!0}),l.on(t.events.stopAll,".spinner-button",x=>{clearInterval(h)},{passive:!0}),l.on(t.events.click,".spinner-button",function(x){let w=o(this).hasClass("spinner-button-plus");v(w)},{passive:!0}),l.on(t.events.click,x=>{o(".focused").removeClass("focused"),l.addClass("focused"),x.preventDefault(),x.stopPropagation()})},_setValue:function(e=0,i=!1){let l=this.element,h=this.options;if(t.utils.exec(h.onBeforeChange,[e],l[0])!==!0)return;let v=+e;v>Number(h.maxValue)&&(v=Number(h.maxValue)),v<Number(h.minValue)&&(v=Number(h.minValue)),l.val(e),this._fireEvent("change",{val:e},!1,!0),i===!0&&l.fire("change",{val:e})},val:function(e){let i=this.element,l=this.options;if(!t.utils.isValue(e))return i.val();this._setValue(e.toFixed(l.fixed),!0)},toDefault:function(){let e=this.options,i=t.utils.isValue(e.defaultValue)?Number(e.defaultValue):0;this._setValue(i.toFixed(e.fixed),!0),this._fireEvent("change",{val:i})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){let i=this.element,l=()=>{let h=i.attr("value").trim();t.utils.isValue(h)&&this._setValue(Number(h),!1)};switch(e){case"disabled":this.toggleState();break;case"value":l();break}},destroy:function(){let e=this.element,i=this.options,l=e.closest(".spinner"),h=l.find(".spinner-button");l.off(t.events.click),h.off(t.events.start),h.off(t.events.stop),e.off(t.events.keydown),l.off(t.events.keyup),i.label&&l.prev("label").remove(),l.remove()}}),o(document).on(t.events.click,()=>{o(".spinner").removeClass("focused")})})(Metro,Dom),((t,o)=>{let p={weekStart:null,static:!1,readonly:!1,showGhost:!1,events:null,startContent:"days",showTime:!1,initialTime:null,initialHours:null,initialMinutes:null,labelTimeHours:null,labelTimeMinutes:null,animationContent:!0,animationSpeed:10,calendarDeferred:0,dayBorder:!1,excludeDay:null,prevMonthIcon:"⯇",nextMonthIcon:"⯈",prevYearIcon:"⯇",nextYearIcon:"⯈",compact:!1,wide:!1,widePoint:null,pickerMode:!1,show:null,outside:!0,buttons:"",yearsBefore:100,yearsAfter:100,headerFormat:"dddd, MMM DD",showHeader:!0,showFooter:!0,showWeekNumber:!1,isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,weekNumberClick:!1,multiSelect:!1,special:null,format:METRO_DATE_FORMAT,inputFormat:null,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",clsEventCounter:"",clsWeekend:"",clsCurrentWeek:"",clsCalendarTime:"",clsTime:"",clsTimeHours:"",clsTimeMinutes:"",clsTimeButton:"",clsTimeButtonPlus:"",clsTimeButtonMinus:"",clsSpecial:"",clsEvents:"",clsEvent:"",onCancel:t.noop,onToday:t.noop,onClear:t.noop,onDone:t.noop,onDayClick:t.noop,onDrawDay:t.noop,onDrawMonth:t.noop,onDrawYear:t.noop,onWeekDayClick:t.noop,onWeekNumberClick:t.noop,onMonthChange:t.noop,onYearChange:t.noop,onTimeChange:t.noop,onHoursChange:t.noop,onMinutesChange:t.noop,onCalendarCreate:t.noop};t.calendarSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroCalendarSetup<"u"&&t.calendarSetup(globalThis.metroCalendarSetup),t.Component("calendar",{init:function(e,i){let l=datetime(),h=this._correctDate(datetime());return this._super(i,e,p,{today:h,show:h,current:{year:h.year(),month:h.month(),day:h.day()},preset:[],selected:[],exclude:[],special:[],excludeDay:[],events:[],min:null,max:null,minYear:null,maxYear:null,id:t.utils.elementId("calendar"),time:[l.hour(),l.minute()],content:"days",yearDistance:11,yearGroupStart:h.year()}),this},_create:function(){let e=this.element,i=this.options;this.content=i.startContent,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,e.html("").addClass(`calendar ${i.compact===!0?"compact":""}`).addClass(i.clsCalendar),t.utils.isValue(i.initialTime)&&(this.time=i.initialTime.split(":")),t.utils.isValue(i.initialHours)&&t.utils.between(i.initialHours,0,23,!0)&&(this.time[0]=Number.parseInt(i.initialHours)),t.utils.isValue(i.initialMinutes)&&t.utils.between(i.initialMinutes,0,59,!0)&&(this.time[1]=Number.parseInt(i.initialMinutes)),i.dayBorder===!0&&e.addClass("day-border"),t.utils.isValue(i.excludeDay)&&(this.excludeDay=`${i.excludeDay}`.toArray(",","int")),t.utils.isValue(i.preset)&&this._dates2array(i.preset,"selected"),t.utils.isValue(i.exclude)&&this._dates2array(i.exclude,"exclude"),t.utils.isValue(i.special)&&this._dates2array(i.special,"special"),t.utils.isValue(i.events)&&this._dates2array(i.events,"events"),this.min=i.minDate?(i.inputFormat?Datetime.from(i.minDate,i.inputFormat):datetime(i.minDate)).align("day"):null,this.max=i.maxDate?(i.inputFormat?Datetime.from(i.maxDate,i.inputFormat):datetime(i.maxDate)).align("day"):null,i.show&&(this.show=(i.show?i.inputFormat?Datetime.from(i.show,i.inputFormat):datetime(i.show):datetime()).align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()}),this._drawCalendar(),this._createEvents(),(i.wide===!0||!t.utils.isNull(i.widePoint)&&t.utils.mediaExist(i.widePoint))&&e.addClass("calendar-wide"),i.ripple===!0&&t.utils.isFunc(e.ripple)!==!1&&e.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:this.options.rippleColor});let l=e.id();l&&t.storage.getItem(`METRO:CALENDAR:${l}:COLLAPSED`,e.hasClass("calendar-collapsed"))&&e.addClass("calendar-collapsed"),this._fireEvent("calendar-create")},_dates2array:function(e,i){let l=this,h=this.options;if(t.utils.isNull(e))return;let v=typeof e=="string"?e.toArray():Array.isArray(e)?e:[];o.each(v,function(){let x;try{x=l._correctDate(h.inputFormat?Datetime.from(this,h.inputFormat):datetime(this)).format("YYYY-MM-DD")}catch{return}l[i].push(x)})},_correctDate:e=>datetime(e).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),_createEvents:function(){let e=this,i=this.element,l=this.options;o(globalThis).on(t.events.resize,()=>{l.wide!==!0&&(!t.utils.isNull(l.widePoint)&&t.utils.mediaExist(l.widePoint)?i.addClass("calendar-wide"):i.removeClass("calendar-wide"))},{ns:this.id}),i.on(t.events.click,".button-collapse",()=>{let h=i.id();i.toggleClass("calendar-collapsed"),h&&t.storage.setItem(`METRO:CALENDAR:${h}:COLLAPSED`,i.hasClass("calendar-collapsed"))}),i.on(t.events.click,".prev-year-group, .next-year-group",function(){l.static||(o(this).hasClass("prev-year-group")?e.yearGroupStart-=e.yearDistance:e.yearGroupStart+=e.yearDistance,e._drawContent())}),i.on(t.events.click,".prev-month, .next-month, .prev-year, .next-year",function(){let h,v=o(this);l.static||v.hasClass("prev-month")&&(h=datetime(e.current.year,e.current.month-1,1).useLocale(e.locale,!0),h.year()<e.minYear)||v.hasClass("next-month")&&(h=datetime(e.current.year,e.current.month+1,1).useLocale(e.locale,!0),h.year()>e.maxYear)||v.hasClass("prev-year")&&(h=datetime(e.current.year-1,e.current.month,1).useLocale(e.locale,!0),h.year()<e.minYear)||v.hasClass("next-year")&&(h=datetime(e.current.year+1,e.current.month,1).useLocale(e.locale,!0),h.year()>e.maxYear)||(e.current={year:h.year(),month:h.month(),day:h.day()},setTimeout(()=>{e._drawContent(),(v.hasClass("prev-month")||v.hasClass("next-month"))&&e._fireEvent("month-change",{current:e.current}),(v.hasClass("prev-year")||v.hasClass("next-year"))&&e._fireEvent("year-change",{current:e.current})},l.ripple?300:1))}),i.on(t.events.click,".button-today",()=>{e.toDay(),e._fireEvent("today",{today:e.today.val(),time:e.time})}),i.on(t.events.click,".button-clear",()=>{let h=datetime();e.selected=[],e.time=[h.hour(),h.minute()],e.yearGroupStart=h.year(),e._drawContent(),e._fireEvent("clear")}),i.on(t.events.click,".button-cancel",()=>{e._drawContent(),e._fireEvent("cancel")}),i.on(t.events.click,".button-done",()=>{e._drawContent(),e._fireEvent("done",{selected:e.selected,time:e.time})}),l.weekDayClick===!0&&i.on(t.events.click,".week-days .week-day",function(h){let v,x,w=[];if(l.static||l.readonly)return;let D=o(this);v=D.index();for(let M=0;M<7;M++)w.push(v),v+=l.showWeekNumber?8:7;l.multiSelect===!0&&(x=i.find(".day").filter(M=>{let I=o(M);return w.indexOf(I.index())>-1&&!I.hasClass("outside disabled excluded")}),o.each(x,function(){let M=o(this),I=M.data("day");e.selected.indexOf(I)===-1?(e.selected.push(I),M.addClass("selected").addClass(l.clsSelected)):(M.removeClass("selected").removeClass(l.clsSelected),t.utils.arrayDelete(e.selected,I))})),e._fireEvent("week-day-click",{selected:e.selected,day:D[0]}),h.preventDefault(),h.stopPropagation()}),l.weekNumberClick&&i.on(t.events.click,".week-number",function(h){let v,x=o(this),w=x.text(),D=x.index();w!=="#"&&(l.static||l.readonly||(l.multiSelect===!0&&(v=i.find(".day").filter(M=>{let I=o(M),B=I.index();return t.utils.between(B,D,D+8,!1)&&!I.hasClass("outside disabled excluded")}),o.each(v,function(){let M=o(this),I=M.data("day");e.selected.indexOf(I)===-1?(e.selected.push(I),M.addClass("selected").addClass(l.clsSelected)):(M.removeClass("selected").removeClass(l.clsSelected),t.utils.arrayDelete(e.selected,I))})),e._fireEvent("week-number-click",{selected:e.selected,num:w,numElement:x[0]}),h.preventDefault(),h.stopPropagation()))}),i.on(t.events.click,".day",function(h){let v=o(this),x,w;if(!(l.static||l.readonly)){if(w=v.data("day"),x=e.selected.indexOf(w),v.hasClass("outside")){w=datetime(w),e.current={year:w.year(),month:w.month(),day:w.day()},e._drawContent(),e._fireEvent("month-change",{current:e.current});return}v.hasClass("disabled")||(l.pickerMode===!0?(e.selected=[w],e.today=datetime(w),e.current.year=e.today.year(),e.current.month=e.today.month(),e.current.day=e.today.day(),e._drawHeader(),e._drawContent()):x===-1?(l.multiSelect===!1&&(i.find(".day").removeClass("selected").removeClass(l.clsSelected),e.selected=[]),e.selected.push(w),v.addClass("selected").addClass(l.clsSelected)):(v.removeClass("selected").removeClass(l.clsSelected),t.utils.arrayDelete(e.selected,w))),e._fireEvent("day-click",{selected:e.selected,day:v[0],time:e.time}),h.preventDefault(),h.stopPropagation()}}),i.on(t.events.click,".curr-month, .header-day",h=>{e.content="months",e._drawContent(),h.preventDefault(),h.stopPropagation()}),i.on(t.events.click,".month",function(h){e.current.month=Number.parseInt(o(this).attr("data-month")),e.content="days",e._drawContent(),e._fireEvent("month-change",{current:e.current}),h.preventDefault(),h.stopPropagation()}),i.on(t.events.click,".curr-year, .header-year",h=>{e.content!=="years"&&(e.content="years",e._drawContent(),h.preventDefault(),h.stopPropagation())}),i.on(t.events.click,".year",function(h){e.current.year=Number.parseInt(o(this).attr("data-year")),e.yearGroupStart=e.current.year,e.content="months",e._drawContent(),e._fireEvent("year-change",{current:e.current}),h.preventDefault(),h.stopPropagation()})},_drawHeader:function(){let e=this.element,i=this.options,l=e.find(".calendar-header");l.length===0&&(l=o("<div>").addClass("calendar-header").addClass(i.clsCalendarHeader).appendTo(e)),l.html(""),o("<div>").addClass("header-year").html(this.today.year()).appendTo(l),o("<div>").addClass("header-day").html(this.today.format(i.headerFormat,this.locale)).appendTo(l);let h=o("<div>").addClass("header-actions").appendTo(l);o("<button>").addClass("square small button-collapse").html(`
                <svg aria-hidden="true" class="caret toggle-collapsed" width="16" height="16" viewBox="0 0 24 24">
                    <path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path>
                </svg>
            `).attr("title",this.strings.label_collapse).appendTo(h),i.showHeader===!1&&l.hide()},_drawFooter:function(){let e=this.element,i=this.options,l=this.strings,h=e.find(".calendar-footer");i.buttons&&(h.length===0&&(h=o("<div>").addClass("calendar-footer").addClass(i.clsCalendarFooter).appendTo(e)),h.html(""),o.each(i.buttons.toArray(","),function(){let v=o("<button>").attr("type","button").addClass(`button button-${this} ${i[`cls${Str.capitalize(this)}Button`]}`).html(l[`label_${this}`]).appendTo(h);(this==="cancel"||this==="done")&&v.addClass("js-dialog-close")}),i.showFooter===!1&&h.hide())},_drawTime:function(){let e=this,i=this.element,l=this.options,h=this.strings,v=i.find(".calendar-content"),x=o("<div>").addClass("calendar-time").addClass(l.clsCalendarTime).appendTo(v),w,D,M,I,B=`${this.time[0]}`,Y=`${this.time[1]}`,X=function(ie){let Fe=Number.parseInt(ie);o(this).attr("data-time-part")==="hours"?(e.time[0]=Fe,e._fireEvent("hours-change",{time:e.time,hours:Fe})):(e.time[1]=Fe,e._fireEvent("minutes-change",{time:e.time,minutes:Fe})),e._fireEvent("time-change",{time:e.time})};x.append(w=o("<div>").addClass("calendar-time__inner")),w.append(I=o("<div>").addClass("calendar-time__inner-row")),I.append(o("<div>").addClass("calendar-time__inner-cell").append(o("<span>").html(str(h.label_hours).capitalize()))),I.append(o("<div>").addClass("calendar-time__inner-cell").append(o("<span>").html(str(h.label_minutes).capitalize()))),x.append(w=o("<div>").addClass("calendar-time__inner spinners").addClass(l.clsTime)),w.append(D=o(`<input type='text' data-cls-spinner-input='${l.clsTimeHours}' data-time-part='hours' data-buttons-position='right' data-min-value='0' data-max-value='23'>`).addClass("hours").addClass(l.compact?"input-small":"input-normal")),w.append(M=o(`<input type='text' data-cls-spinner-input='${l.clsTimeMinutes}' data-time-part='minutes' data-buttons-position='right' data-min-value='0' data-max-value='59'>`).addClass("minutes").addClass(l.compact?"input-small":"input-normal")),B=Str.lpad(B,"0",2),Y=Str.lpad(Y,"0",2),D.val(B),M.val(Y),t.makePlugin(w.find("input[type=text]"),"spinner",{onChange:X,clsSpinnerButton:l.clsTimeButton,clsSpinnerButtonPlus:l.clsTimeButtonPlus,clsSpinnerButtonMinus:l.clsTimeButtonMinus}),l.showTime===!1&&x.hide()},_drawContentDays:function(){let e=this,i=this.element,l=this.options,h=this.strings,v=i.find(".calendar-content"),x,w=datetime(this.current.year,this.current.month,this.current.day).useLocale(this.locale,!0).calendar(t.utils.isValue(l.weekStart)?l.weekStart:h.weekStart),D=this.show.format("YYYY-MM-DD"),M=datetime();v.length===0&&(v=o("<div>").addClass("calendar-content").addClass(l.clsCalendarContent).appendTo(i)),l.showWeekNumber&&v.addClass("-week-numbers"),v.empty();let I=o("<div>").addClass("calendar-toolbar").appendTo(v);o("<span>").addClass("prev-month").html(l.prevMonthIcon).appendTo(I),o("<span>").addClass("curr-month").html(Datetime.getLocale(this.locale).months[this.current.month]).appendTo(I),o("<span>").addClass("next-month").html(l.nextMonthIcon).appendTo(I),o("<span>").addClass("prev-year").html(l.prevYearIcon).appendTo(I),o("<span>").addClass("curr-year").html(this.current.year).appendTo(I),o("<span>").addClass("next-year").html(l.nextYearIcon).appendTo(I),x=o("<div>").addClass("week-days").appendTo(v),l.showWeekNumber&&o("<span>").addClass("week-number").html("#").appendTo(x),o.each(w.weekdays,function(){o("<span>").addClass("week-day").html(this).appendTo(x)});let B=o("<div>").addClass("days").appendTo(v);o.each(w.days,function(Y){let X=`${this}`,ie=e._correctDate(X),Fe=ie.month()!==e.current.month;l.showWeekNumber&&Y%7===0&&o("<span>").addClass("week-number").html(`<span class="week-number-content">${ie.weekNumber(l.weekStart)}</span>`).appendTo(B);let Ve=ie.day(),He=ie.format("YYYY-MM-DD"),ze=o("<span>").addClass("day").html(`<span class="day-content">${Ve}</span>`).appendTo(B);if(ze.attr("data-day",He),X===D&&ze.addClass("showed"),Fe&&(ze.addClass("outside"),l.outside||ze.empty()),X===w.today&&ze.addClass("today"),l.showGhost&&ie.day()===M.day()&&ze.addClass("coincidental"),e.special.length?e.special.indexOf(X)===-1?ze.addClass("disabled excluded").addClass(l.clsExcluded):ze.addClass(l.clsSpecial):(e.selected.includes(X)&&ze.addClass("selected").addClass(l.clsSelected),e.exclude.includes(X)&&ze.addClass("disabled excluded").addClass(l.clsExcluded),e.min&&ie.older(e.min)&&ze.addClass("disabled excluded").addClass(l.clsExcluded),e.max&&ie.younger(e.max)&&ze.addClass("disabled excluded").addClass(l.clsExcluded)),w.weekends.indexOf(X)!==-1&&ze.addClass(l.clsWeekend),w.week.indexOf(X)!==-1&&ze.addClass(l.clsCurrentWeek),e.events.length){let De=o("<div>").addClass("events").addClass(l.clsEvents).appendTo(ze);o.each(e.events,function(){if(this===X){let Oe=o("<div>").addClass("event").addClass(l.clsEvent).appendTo(De);l.clsEvent||Oe.css({backgroundColor:Farbe.Routines.randomColor()})}})}l.animationContent&&ze.addClass("to-animate"),e._fireEvent("draw-day",{date:ie.val(),day:ie.day(),month:ie.month(),year:ie.year(),cell:ze[0]})}),this._drawTime(),this._animateContent(".day")},_drawContentMonths:function(){let e=this.element,i=this.elem,l=this.options,h=this.locale,v=e.find(".calendar-content"),x,w,D=datetime().year(),M=datetime().month();v.length===0&&(v=o("<div>").addClass("calendar-content").addClass(l.clsCalendarContent).appendTo(e)),v.clear();let I=o("<div>").addClass("calendar-toolbar").appendTo(v);o("<span>").addClass("prev-year").html(l.prevYearIcon).appendTo(I),o("<span>").addClass("curr-year").html(this.current.year).appendTo(I),o("<span>").addClass("next-year").html(l.nextYearIcon).appendTo(I),v.append(x=o("<div>").addClass("months"));let B=0;for(let Y of Datetime.getLocale(h).months)x.append(w=o("<div>").attr("data-month",B).addClass("month").addClass(B===M&&this.current.year===D?"today":"").html(Y)),l.animationContent&&w.addClass("to-animate"),this._fireEvent("draw-month",{month:B,year:this.current.year,cell:w[0]}),B++;t.i18n.updateUI(i,h),this._animateContent(".months .month")},_drawContentYears:function(){let e=this.element,i=this.options,l=e.find(".calendar-content"),h,v;l.length===0&&(l=o("<div>").addClass("calendar-content").addClass(i.clsCalendarContent).appendTo(e)),l.clear();let x=o("<div>").addClass("calendar-toolbar").appendTo(l);o("<span>").addClass("prev-year-group").html(i.prevYearIcon).appendTo(x),o("<span>").addClass("curr-year").html(`${this.yearGroupStart} - ${this.yearGroupStart+this.yearDistance}`).appendTo(x),o("<span>").addClass("next-year-group").html(i.nextYearIcon).appendTo(x),l.append(h=o("<div>").addClass("years"));for(let w=this.yearGroupStart;w<=this.yearGroupStart+this.yearDistance;w++)h.append(v=o("<div>").attr("data-year",w).addClass("year").addClass(w===this.current.year?"today":"").html(w)),i.animationContent&&v.addClass("to-animate"),(w<i.minYear||w>i.maxYear)&&v.addClass("disabled"),this._fireEvent("draw-year",{year:w,cell:v[0]});this._animateContent(".years .year")},_drawContent:function(){switch(this.content){case"years":this._drawContentYears();break;case"months":this._drawContentMonths();break;default:this._drawContentDays()}t.i18n.updateUI(this.elem,this.locale)},_drawCalendar:function(){let e=this.elem;setTimeout(()=>{this.element.html(""),this._drawHeader(),this._drawContent(),this._drawFooter(),t.i18n.updateUI(e,this.locale)},0)},_animateContent:function(e,i="to-animate"){let l=this.element,h=this.options;l.find(".calendar-content").find(e).each(function(v){let x=o(this);setTimeout(()=>{x.removeClass(i)},h.animationSpeed*v)})},getTime:function(e=!1){let i=Str.lpad(this.time[0],"0",2),l=Str.lpad(this.time[1],"0",2);return e?`${i}:${l}`:this.time},setTime:function(e){Array.isArray(e)?this.time=e:this.time=e.split(":"),this._drawCalendar()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},clearSelected:function(){this.selected=[],this._drawContent()},toDay:function(){let e=datetime();this.today=datetime().align("day"),this.current={year:this.today.year(),month:this.today.month(),day:this.today.day()},this.time=[e.hour(),e.minute()],this.yearGroupStart=this.today.year(),this.content="days",this._drawHeader(),this._drawContent()},setExclude:function(e){let i=this.element,l=this.options;t.utils.isNull(e)&&t.utils.isNull(i.attr("data-exclude"))||(l.exclude=e||i.attr("data-exclude"),this._dates2array(l.exclude,"exclude"),this._drawContent())},setPreset:function(e){let i=this.element,l=this.options;t.utils.isNull(e)&&t.utils.isNull(i.attr("data-preset"))||(l.preset=e||i.attr("data-preset"),this._dates2array(l.preset,"selected"),this._drawContent())},setSpecial:function(e){let i=this.element,l=this.options;t.utils.isNull(e)&&t.utils.isNull(i.attr("data-special"))||(l.special=e||i.attr("data-special"),this._dates2array(l.exclude,"special"),this._drawContent())},showDate:function(e){return this.setShow(e)},setShow:function(e){let i=this.element,l=this.options,h=i.attr("data-show");!e&&!h||(l.show=e||h,l.show?typeof l.show=="string"&&l.inputFormat?this.show=Datetime.from(l.show,l.inputFormat):this.show=datetime(l.show):this.show=datetime(),this.show=this.show.align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()},this._drawContent())},setMinDate:function(e){let i=this.element,l=this.options,h=i.attr("data-min-date");!e&&!h||(l.minDate=e||h,this.min=l.minDate?(l.inputFormat?Datetime.from(l.minDate,l.inputFormat):datetime(l.minDate)).align("day"):null,this._drawContent())},setMaxDate:function(e){let i=this.element,l=this.options,h=i.attr("data-max-date");l.maxDate=e||h,this.max=l.maxDate?(l.inputFormat?Datetime.from(l.maxDate,l.inputFormat):datetime(l.maxDate)).align("day"):null,this._drawContent()},changeAttribute:function(e){switch(e){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-special":this.setSpecial();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate();break}},destroy:function(){let e=this.element,i=this.options;e.off(t.events.click,".prev-month, .next-month, .prev-year, .next-year"),e.off(t.events.click,".button.today"),e.off(t.events.click,".button.clear"),e.off(t.events.click,".button.cancel"),e.off(t.events.click,".button.done"),e.off(t.events.click,".week-days .day"),e.off(t.events.click,".days-row .day"),e.off(t.events.click,".curr-month"),e.off(t.events.click,".calendar-months li"),e.off(t.events.click,".curr-year"),e.off(t.events.click,".calendar-years li"),e.off(t.events.click),i.ripple===!0&&e.data("ripple").destroy(),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}}),o(document).on(t.events.click,()=>{o(".calendar .calendar-years").each(function(){o(this).removeClass("open")}),o(".calendar .calendar-months").each(function(){o(this).removeClass("open")})}),t.defaults.Calendar=p})(Metro,Dom),((t,o)=>{let p={label:"",value:"",calendarPickerDeferred:0,nullValue:!0,useNow:!1,prepend:"",dialogMode:!1,dialogPoint:640,dialogOverlay:!0,overlayColor:"#000000",overlayAlpha:.5,size:"100%",format:METRO_DATE_FORMAT,inputFormat:null,clearButton:!1,calendarButtonIcon:"📅",clearButtonIcon:"❌",copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsInput:"",clsPrepend:"",clsLabel:"",onDayClick:t.noop,onCalendarPickerCreate:t.noop,onCalendarShow:t.noop,onCalendarHide:t.noop,onChange:t.noop,onPickerChange:t.noop,onMonthChange:t.noop,onYearChange:t.noop};t.calendarPickerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroCalendarPickerSetup<"u"&&t.calendarPickerSetup(globalThis.metroCalendarPickerSetup),t.Component("calendar-picker",{init:function(e,i){let l=datetime();return this._super(i,e,o.extend({},t.defaults.Calendar,{},p),{value:null,value_date:null,calendar:null,overlay:null,id:t.utils.elementId("calendar-picker"),time:[l.hour(),l.minute()]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("calendar-picker-create",{element:this.element})},_correctTime:e=>{let i=Str.lpad(e[0],"0",2),l=Str.lpad(e[1],"0",2);return`${i}:${l}`},_createStructure:function(){var Ve;let e=this.element,i=this.options,l=this.locale,h=o("<div>").addClass(`input ${e[0].className} calendar-picker`),v=o("<div>").addClass("button-group"),x,w=o("<div>"),D,M,I,B,Y,X=o("body");e.attr("type","text"),e.attr("autocomplete","off"),e.attr("readonly",!0),t.utils.isValue(i.initialTime)&&(this.time=i.initialTime.trim().split(":")),t.utils.isValue(i.initialHours)&&(this.time[0]=Number.parseInt(i.initialHours)),t.utils.isValue(i.initialMinutes)&&(this.time[1]=Number.parseInt(i.initialMinutes)),D=`${i.value}`.trim()!==""?i.value:e.val().trim();let ie=D||"";t.utils.isValue(D)?(M=D.split(" "),this.value=(i.inputFormat?Datetime.from(M[0],i.inputFormat,l):datetime(M[0])).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),M[1]&&(this.time=M[1].trim().split(":"))):i.useNow&&(this.value=datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),this.time=[this.value.hour(),this.value.minute()]),Y=!D&&i.nullValue===!0?"":datetime(this.value).format(i.format,l),i.showTime&&this.time&&Y&&(Y+=` ${this._correctTime(this.time)}`),e.val(Y),h.insertBefore(e),e.appendTo(h),v.appendTo(h),w.appendTo(i.dialogMode?X:h),(Ve=this.time)!=null&&Ve.length&&(I=this.time[0],typeof this.time[1]<"u"&&(B=this.time[1]));let Fe=i.initialTime;if(i.initialHours&&(I=i.initialHours),i.initialHours&&(B=i.initialMinutes),t.makePlugin(w,"calendar",{showTime:i.showTime,initialTime:Fe,initialHours:I,initialMinutes:B,clsCalendarTime:i.clsCalendarTime,clsTime:i.clsTime,clsTimeHours:i.clsTimeHours,clsTimeMinutes:i.clsTimeMinutes,clsTimeButton:i.clsTimeButton,clsTimeButtonPlus:i.clsTimeButtonPlus,clsTimeButtonMinus:i.clsTimeButtonMinus,wide:i.wide,widePoint:i.widePoint,format:i.format,inputFormat:i.inputFormat,pickerMode:!0,show:ie,preset:ie,weekStart:i.weekStart,outside:i.outside,buttons:!1,headerFormat:i.headerFormat,clsCalendar:[i.clsCalendar,"calendar-for-picker",i.dialogMode?"dialog-mode":""].join(" "),clsCalendarHeader:i.clsCalendarHeader,clsCalendarContent:i.clsCalendarContent,clsCalendarFooter:"d-none",clsCalendarMonths:i.clsCalendarMonths,clsCalendarYears:i.clsCalendarYears,clsToday:i.clsToday,clsSelected:i.clsSelected,clsExcluded:i.clsExcluded,ripple:i.ripple,rippleColor:i.rippleColor,exclude:i.exclude,minDate:i.minDate,maxDate:i.maxDate,yearsBefore:i.yearsBefore,yearsAfter:i.yearsAfter,special:i.special,events:i.events,showHeader:!1,showFooter:!1,multiSelect:!1,showWeekNumber:i.showWeekNumber,onDayClick:(He,ze,De,Oe)=>{let Me=datetime(He[0]).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),Ie;this._removeOverlay(),this.value=Me,this.time=De,Ie=Me.format(i.format,l),i.showTime&&(Ie+=` ${this._correctTime(De)}`),e.val(Ie),e.trigger("change"),w.removeClass("open open-up"),w.hide(),this._fireEvent("change",{val:this.value.val(),time:this.time}),this._fireEvent("day-click",{sel:He,day:ze,time:De,el:Oe}),this._fireEvent("picker-change",{val:this.value.val(),time:this.time})},onTimeChange:He=>{let ze;this.time=He,this.value||(this.value=datetime()),ze=this.value.format(i.format,this.locale),i.showTime&&(ze+=` ${this._correctTime(He)}`),e.val(ze),this._fireEvent("change",{val:this.value.val(),time:this.time}),this._fireEvent("picker-change",{val:this.value.val(),time:this.time})},onMonthChange:i.onMonthChange,onYearChange:i.onYearChange}),this.calendar=w,i.clearButton===!0&&(x=o("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon),x.appendTo(v)),o("<button>").addClass("button input-calendar-button").attr("tabindex",-1).attr("type","button").html(i.calendarButtonIcon).appendTo(v),i.prepend!==""&&o("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(h),e.attr("dir")==="rtl"&&h.addClass("rtl"),String(i.size).indexOf("%")>-1?h.css({width:i.size}):h.css({width:`${Number.parseInt(i.size)}px`}),e[0].className="",i.copyInlineStyles===!0&&o.each(t.utils.getInlineStyles(e),(He,ze)=>{h.css(He,ze)}),h.addClass(i.clsPicker),e.addClass(i.clsInput),i.dialogOverlay===!0&&(this.overlay=this._overlay()),i.dialogMode===!0?h.addClass("dialog-mode"):t.utils.media(`(max-width: ${i.dialogPoint}px)`)&&(h.addClass("dialog-mode"),this.calendar.addClass("dialog-mode")),i.label){let He=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(h);if(e.attr("id"))He.attr("for",e.attr("id"));else{let ze=Hooks.useId(e[0]);He.attr("for",ze),e.attr("id",ze)}e.attr("dir")==="rtl"&&He.addClass("rtl")}e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let e=this.element,i=this.options,l=e.parent(),h=l.find(".input-clear-button"),v=this.calendar,x=t.getPlugin(v[0],"calendar"),w=this.calendar;o(globalThis).on(t.events.resize,()=>{i.dialogMode!==!0&&(t.utils.media(`(max-width: ${i.dialogPoint}px)`)?(l.addClass("dialog-mode"),w.appendTo("body").addClass("dialog-mode")):(l.removeClass("dialog-mode"),w.appendTo(l).removeClass("dialog-mode")))},{ns:this.id}),h.length>0&&h.on(t.events.click,D=>{e.val("").trigger("change").blur(),this.value=null,D.preventDefault(),D.stopPropagation()}),l.on(t.events.click,"button, input",D=>{let M=this.value?this.value:datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),I=M.format("YYYY/MM/DD");M.align("day"),v.hasClass("open")===!1&&v.hasClass("open-up")===!1?(o(".calendar-picker .calendar").removeClass("open open-up").hide(),x.setPreset([I]),x.setShow(M),l.hasClass("dialog-mode")&&this.overlay.appendTo(o("body")),v.addClass("open"),i.openMode==="auto"?(t.utils.inViewport(v[0])||v.addClass("open-up"),t.utils.inViewport(v[0])||v.removeClass("open-up")):i.openMode==="up"&&v.addClass("open-up"),this._fireEvent("calendar-show",{calendar:v})):(this._removeOverlay(),v.removeClass("open open-up"),this._fireEvent("calendar-hide",{calendar:v})),D.preventDefault(),D.stopPropagation()}),e.on(t.events.blur,()=>{l.removeClass("focused")}),e.on(t.events.focus,()=>{l.addClass("focused")}),e.on(t.events.change,()=>{t.utils.exec(i.onChange,[this.value.val()],e[0])}),l.on(t.events.click,D=>{D.preventDefault(),D.stopPropagation()})},_overlay:function(){let e=this.options,i=o("<div>");return i.addClass("overlay for-calendar-picker").addClass(e.clsOverlay),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(e.overlayColor,e.overlayAlpha)}),i},_removeOverlay:()=>{o("body").find(".overlay.for-calendar-picker").remove()},clear:function(){this.value=datetime(),this.time=[datetime().hour(),datetime().minute()],this.element.val("")},val:function(e,i){let l=this.element,h=this.options,v;if(arguments.length===0||t.utils.isNull(e))return{date:this.value.val(),time:this.time};if(e==="")return this.clear();i&&(h.inputFormat=i);let x=e.split(" ");this.value=h.inputFormat?Datetime.from(x[0],h.inputFormat,this.locale):datetime(x[0]),x[1]&&(this.time=x[1].trim().split(":")),this.value.align("day"),t.getPlugin(this.calendar,"calendar").setTime(this.time),v=this.value.format(h.format),h.showTime&&this.time&&v&&(v+=` ${this._correctTime(this.time)}`),l.val(v),l.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},getTime:function(e=!1){let i=Str.lpad(this.time[0],"0",2),l=Str.lpad(this.time[1],"0",2);return e?`${i}:${l}`:this.time},changeAttribute:function(e,i){let l=t.getPlugin(this.calendar[0],"calendar");switch(e){case"value":this.val(i);break;case"disabled":this.toggleState();break;case"data-special":l.setSpecial(i);break;case"data-exclude":l.setExclude(i);break;case"data-min-date":l.setMinDate(i);break;case"data-max-date":l.setMaxDate(i);break;case"data-value":this.val(i);break}},destroy:function(){let e=this.element,i=this.options,l=e.parent(),h=l.find(".input-clear-button");o(globalThis).off(t.events.resize,{ns:this.id}),h.off(t.events.click),l.off(t.events.click,"button, input"),e.off(t.events.blur),e.off(t.events.focus),e.off(t.events.change),t.getPlugin(this.calendar,"calendar").destroy(),i.label&&l.prev("label").remove(),l.remove()}}),o(document).on(t.events.click,".overlay.for-calendar-picker",function(){o(this).remove(),o(".calendar-for-picker.open").removeClass("open open-up")}),o(document).on(t.events.click,()=>{o(".calendar-picker .calendar").removeClass("open open-up")})})(Metro,Dom),((t,o)=>{let p=["slide","slide-v","fade","switch","zoom","swirl"],e={carouselDeferred:0,autoStart:!1,width:"100%",height:"16/9",effect:p[0],effectFunc:"linear",direction:"left",duration:300,period:5e3,stopOnMouse:!0,controls:!0,controlsOnMouse:!1,controlsOutside:!1,controlPrev:"&larr;",controlNext:"&rarr;",bullets:!0,bulletsStyle:"square",bulletsSize:"default",bulletsPosition:"default",clsCarousel:"",clsSlides:"",clsSlide:"",clsControls:"",clsControlNext:"",clsControlPrev:"",clsBullets:"",clsBullet:"",clsBulletOn:"",clsThumbOn:"",onStop:t.noop,onStart:t.noop,onPlay:t.noop,onSlideClick:t.noop,onBulletClick:t.noop,onThumbClick:t.noop,onMouseEnter:t.noop,onMouseLeave:t.noop,onNextClick:t.noop,onPrevClick:t.noop,onSlideShow:t.noop,onSlideHide:t.noop,onCarouselCreate:t.noop};t.carouselSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroCarouselSetup<"u"&&t.carouselSetup(globalThis.metroCarouselSetup),t.Component("carousel",{init:function(i,l){return this._super(l,i,e,{height:0,width:0,slides:[],current:null,currentIndex:null,dir:"left",interval:!1,isAnimate:!1,id:t.utils.elementId("carousel")}),this},_create:function(){let i=this.element,l=this.options,h=i.find(".slide"),v=i.find(".slides");this.dir=this.options.direction,i.addClass("carousel").addClass(l.clsCarousel),i.css({maxWidth:l.width}),l.controlsOutside===!0&&i.addClass("controls-outside"),v.length===0&&(v=o("<div>").addClass("slides").appendTo(i),h.appendTo(v)),h.addClass(l.clsSlides),h.length>0&&(this._createSlides(),this._createControls(),this._createBullets(),this._createEvents(),this._resize(),l.controlsOnMouse===!0&&(i.find("[class*=carousel-switch]").fadeOut(0),i.find(".carousel-bullets").fadeOut(0)),l.autoStart===!0?this._start():this._fireEvent("slide-show",{current:this.slides[this.currentIndex][0],prev:void 0})),this._fireEvent("carousel-create",{element:i})},_start:function(){let i=this,l=this.element,h=this.options,v=h.period,x=this.slides[this.currentIndex];x.data("period")!==void 0&&(v=x.data("period")),!(this.slides.length<=1)&&(this.interval===!1&&(this.interval=setTimeout(function(){let w=h.direction==="left"?"next":"prior";i._slideTo(w,!0)},v)),this._fireEvent("start",{element:l}))},_stop:function(){clearInterval(this.interval),this.interval=!1},_resize:function(){let i=this.element,l=this.options,h=i.outerWidth(),v,x=[];["16/9","21/9","4/3"].indexOf(l.height)>-1?v=t.utils.aspectRatioH(h,l.height):String(l.height).indexOf("@")>-1?(x=l.height.substring(1).toArray("|"),o.each(x,function(){let w=this.toArray(",");globalThis.matchMedia(w[0]).matches&&(["16/9","21/9","4/3"].indexOf(w[1])>-1?v=t.utils.aspectRatioH(h,w[1]):v=Number.parseInt(w[1]))})):v=Number.parseInt(l.height),i.css({height:v})},_createSlides:function(){let i=this,l=this.element,h=this.options,v=l.find(".slide");o.each(v,function(x){let w=o(this);if(w.data("cover")!==void 0&&w.css({backgroundImage:`url(${w.data("cover")})`}),x!==0)switch(h.effect){case"switch":case"slide":w.css("left","100%");break;case"slide-v":w.css("top","100%");break;case"fade":case"zoom":case"swirl":w.css("opacity","0");break}else w.addClass("active-slide");w.addClass(h.clsSlide),i.slides.push(w)}),this.currentIndex=0,this.current=this.slides[this.currentIndex]},_createControls:function(){let i=this.element,l=this.options,h,v;l.controls!==!1&&(h=o("<span>").addClass("carousel-switch-next").addClass(l.clsControls).addClass(l.clsControlNext).html("<div></div>"),v=o("<span>").addClass("carousel-switch-prev").addClass(l.clsControls).addClass(l.clsControlPrev).html("<div></div>"),l.controlNext&&h.children("div").html(l.controlNext),l.controlPrev&&v.children("div").html(l.controlPrev),h.appendTo(i),v.appendTo(i))},_createBullets:function(){let i=this.element,l=this.options,h,v;if(l.bullets!==!1){for(h=o("<div>").addClass("carousel-bullets").addClass(`${l.bulletsSize}-size`).addClass(`bullet-style-${l.bulletsStyle}`).addClass(l.clsBullets),l.bulletsPosition==="default"||l.bulletsPosition==="center"?h.addClass("flex-justify-center"):l.bulletsPosition==="left"?h.addClass("flex-justify-start"):h.addClass("flex-justify-end"),v=0;v<this.slides.length;v++){let x=o("<span>").addClass("carousel-bullet").addClass(l.clsBullet).data("slide",v);v===0&&x.addClass("bullet-on").addClass(l.clsBulletOn),x.appendTo(h)}h.appendTo(i)}},_createEvents:function(){let i=this,l=this.element,h=this.options;l.on(t.events.click,".carousel-bullet",function(){let v=o(this);i.isAnimate===!1&&(i._slideToSlide(v.data("slide")),i._fireEvent("bullet-click",{bullet:v}))}),l.on(t.events.click,".carousel-switch-next",function(){i.isAnimate===!1&&(i._slideTo("next",!1),i._fireEvent("next-click",{button:this}))}),l.on(t.events.click,".carousel-switch-prev",function(){i.isAnimate===!1&&(i._slideTo("prev",!1),i._fireEvent("prev-click",{button:this}))}),h.stopOnMouse===!0&&h.autoStart===!0&&(l.on(t.events.enter,()=>{i._stop(),i._fireEvent("mouse-enter",{element:l},!1,!0)}),l.on(t.events.leave,()=>{i._start(),i._fireEvent("mouse-leave",{element:l},!1,!0)})),h.controlsOnMouse===!0&&(l.on(t.events.enter,()=>{l.find("[class*=carousel-switch]").fadeIn(),l.find(".carousel-bullets").fadeIn()}),l.on(t.events.leave,()=>{l.find("[class*=carousel-switch]").fadeOut(),l.find(".carousel-bullets").fadeOut()})),l.on(t.events.click,".slide",function(){let v=o(this);i._fireEvent("slide-click",{slide:v})}),o(globalThis).on(t.events.resize,()=>{i._resize()},{ns:this.id})},_slideToSlide:function(i){let l=this.element,h=this.options;if(this.slides[i]===void 0||this.currentIndex===i)return;let v=i>this.currentIndex?"next":"prev",x=this.slides[this.currentIndex],w=this.slides[i];this.currentIndex=i,this._effect(x,w,h.effect,v),l.find(".carousel-bullet").removeClass("bullet-on").removeClass(h.clsBulletOn),l.find(`.carousel-bullet:nth-child(${this.currentIndex+1})`).addClass("bullet-on").addClass(h.clsBulletOn)},_slideTo:function(i="next",l=!1){let h=this.element,v=this.options,x=this.slides[this.currentIndex];i==="next"?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1));let w=this.slides[this.currentIndex];this._effect(x,w,v.effect,i,l),h.find(".carousel-bullet").removeClass("bullet-on").removeClass(v.clsBulletOn),h.find(`.carousel-bullet:nth-child(${this.currentIndex+1})`).addClass("bullet-on").addClass(v.clsBulletOn)},_effect:function(i,l,h,v,x){let w=this,D=this.options,M=D.duration,I,B=D.effectFunc,Y=D.period,X=(ie,Fe,Ve,He)=>{t.Effects[ie](Fe[0],Ve[0],He)};l.data("duration")!==void 0&&(M=l.data("duration")),l.data("effectFunc")!==void 0&&(B=l.data("effectFunc")),h==="switch"&&(M=0),i.stop(!0),l.stop(!0),this.isAnimate=!0,setTimeout(()=>{w.isAnimate=!1},M+100),h==="slide"?I=v==="next"?"slideLeft":"slideRight":h==="slide-v"?I=v==="next"?"slideUp":"slideDown":I=h,p.includes(h)||(I="switch"),X(I,i,l,{duration:M,ease:B}),i.removeClass("active-slide"),l.addClass("active-slide"),setTimeout(()=>{w._fireEvent("slide-show",{current:l[0],prev:i[0]})},M),setTimeout(()=>{w._fireEvent("slide-hide",{current:i[0],next:l[0]})},M),x===!0&&(l.data("period")!==void 0&&(Y=l.data("period")),this.interval=setTimeout(function(){let ie=D.direction==="left"?"next":"prior";w._slideTo(ie,!0)},Y))},toSlide:function(i){this._slideToSlide(i)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},stop:function(){clearInterval(this.interval),this._fireEvent("stop")},play:function(){this._start(),this._fireEvent("play")},setEffect:function(i){let l=this.element,h=this.options,v=l.find(".slide");p.includes(i)&&(h.effect=i,v.removeStyleProperty("transform").css({top:0,left:0}))},changeAttribute:function(i,l){i==="data-effect"&&this.setEffect(l)},destroy:function(){let i=this.element,l=this.options;return i.off(t.events.click,".carousel-bullet"),i.off(t.events.click,".carousel-switch-next"),i.off(t.events.click,".carousel-switch-prev"),l.stopOnMouse===!0&&l.autoStart===!0&&(i.off(t.events.enter),i.off(t.events.leave)),l.controlsOnMouse===!0&&(i.off(t.events.enter),i.off(t.events.leave)),i.off(t.events.click,".slide"),o(globalThis).off(t.events.resize,{ns:this.id}),i}})})(Metro,Dom),((t,o)=>{let p={charmsDeferred:0,position:"right",opacity:1,clsCharms:"",onCharmCreate:t.noop,onOpen:t.noop,onClose:t.noop,onToggle:t.noop};t.charmsSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroCharmsSetup<"u"&&t.charmsSetup(globalThis.metroCharmsSetup),t.Component("charms",{init:function(e,i){return this._super(i,e,p,{origin:{background:""}}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("charm-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options;e.addClass("charms").addClass(`${i.position}-side`).addClass(i.clsCharms),this.origin.background=e.css("background-color"),e.css({backgroundColor:Farbe.Routines.toRGBA(t.utils.getStyleOne(e,"background-color"),i.opacity)})},_createEvents:()=>{},open:function(){this.element.addClass("open"),this._fireEvent("open")},close:function(){this.element.removeClass("open"),this._fireEvent("close")},toggle:function(){this.element.hasClass("open")===!0?this.close():this.open(),this._fireEvent("toggle")},opacity:function(e){let i=this.element,l=this.options;if(e===void 0)return l.opacity;let h=Math.abs(Number.parseFloat(e));h<0||h>1||(l.opacity=h,i.css({backgroundColor:Farbe.Routines.toRGBA(t.utils.getStyleOne(i,"background-color"),h)}))},changeOpacity:function(){let e=this.element;this.opacity(e.attr("data-opacity"))},changeAttribute:function(e){switch(e){case"data-opacity":this.changeOpacity();break}},destroy:function(){return this.element}}),t.charms={check:e=>t.utils.isMetroObject(e,"charms")===!1?(console.warn("Element is not a charms component"),!1):!0,isOpen:function(e){if(this.check(e)!==!1)return o(e).hasClass("open")},open:function(e){this.check(e)!==!1&&t.getPlugin(e,"charms").open()},close:function(e){this.check(e)!==!1&&t.getPlugin(e,"charms").close()},toggle:function(e){this.check(e)!==!1&&t.getPlugin(e,"charms").toggle()},closeAll:()=>{o("[data-role*=charms]").each(function(){t.getPlugin(this,"charms").close()})},opacity:function(e,i){this.check(e)!==!1&&t.getPlugin(e,"charms").opacity(i)}}})(Metro,Dom),((t,o)=>{let p="[data-role-dropmenu], [data-role-dropdown]",e='<svg class="dropdown-caret" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',i={dropdownDeferred:0,dropFilter:null,toggleElement:null,align:"left",noClose:!1,duration:50,openMode:"auto",openFunc:"show",closeFunc:"hide",height:"auto",onDrop:t.noop,onUp:t.noop,onDropdownCreate:t.noop};t.dropdownSetup=l=>{i=o.extend({},i,l)},typeof globalThis.metroDropdownSetup<"u"&&t.dropdownSetup(globalThis.metroDropdownSetup),t.Component("dropdown",{init:function(l,h){return this._super(h,l,i,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){let l=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:l}),l.hasClass("open")&&(l.removeClass("open"),setTimeout(()=>{this.open(!0)},0))},_toggle:function(){let l=this.element,h=l.siblings(".menu-toggle, .dropdown-toggle, a");if(h.length===0&&(h=l.prev(),h.length===0))throw new Error("Menu toggle not found");return h[0]},_createStructure:function(){let l=this.element,h=this.options,v=l.parents("[data-role-dropdown]").length,x;h.openMode==="up"&&l.addClass("drop-up"),x=h.toggleElement?o(h.toggleElement):o(this._toggle()),x.length&&x.append(e),this.displayOrigin=t.utils.getStyleOne(l,"display"),h.height!=="auto"&&l.css({height:h.height,"overflow-y":"auto"}),l.css("display","none"),this.toggle=x,this.level=v},_createEvents:function(){let l=this.element,h=this.options,v=this.toggle,x=l.parent();v.on(t.events.click,w=>{if(o(".active-container").removeClass("active-container"),l.css("display")!=="none"&&!l.hasClass("keep-open"))this.close(!0,l);else{if(o(p).each((D,M)=>{!l.parents("[data-role-dropdown]").is(M)&&!o(M).hasClass("keep-open")&&o(M).css("display")!=="none"&&(t.utils.isValue(h.dropFilter)?o(M).closest(h.dropFilter).length>0&&this.close(!0,M):this.close(!0,M))}),l.hasClass("horizontal")){l.css({visibility:"hidden",display:"block"});let D=0;o.each(l.children("li"),function(){D+=o(this).outerWidth(!0)}),l.css({visibility:"visible",display:"none"}),l.css("width",D+2)}this.open(!1,l),x.addClass("active-container")}w.preventDefault(),w.stopPropagation()}),h.noClose===!0&&l.addClass("keep-open").on(t.events.click,w=>{w.preventDefault(),w.stopPropagation()}),o(l).find("li.disabled a").on(t.events.click,w=>{w.preventDefault()})},_close:function(l,h){let v=o(l),x=t.getPlugin(v,"dropdown"),w=x.toggle,D=x.options,M=D.closeFunc;w.removeClass("active-toggle").removeClass("active-control"),x.element.parent().removeClass("active-container"),h&&(M="hide"),v[M](h?0:D.duration,()=>{x._fireEvent("close"),x._fireEvent("up"),D.openMode==="auto"&&x.element.removeClass("drop-up drop-as-dialog")}),this.isOpen=!1},_open:function(l,h){let v=t.getPlugin(l,"dropdown"),x=v.options,w=x.openFunc;v.toggle.addClass("active-toggle").addClass("active-control"),v.element.parent().addClass("active-container"),v.element[w](h?0:x.duration,function(){let D=o(this),M=t.utils.viewportOutByWidth(this),I=t.utils.viewportOutByHeight(this);x.openMode==="auto"&&(I&&D.addClass("drop-up"),M&&D.addClass("place-right"),t.utils.viewportOut(this)&&D.removeClass("drop-up place-right").addClass("drop-as-dialog")),v._fireEvent("open"),v._fireEvent("drop")}),this.isOpen=!0},close:function(l,h){this._close(h||this.element,l)},open:function(l,h){this._open(h||this.element,l)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:(l,h)=>{},destroy:function(){this.toggle.off(t.events.click)}}),o(document).on(t.events.click,()=>{o(p).each(function(){let l=o(this);if(l.hasClass("keep-open")||l.hasClass("stay-open")||l.hasClass("ignore-document-click"))return;let h=t.getPlugin(l,"dropdown"),v=t.getPlugin(l,"dropmenu");h&&h.close(),v&&v.close()})})})(Metro,Dom),((t,o)=>{let p={id:"",label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"❌",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"",filter:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,openMode:"auto",showGroupName:!1,shortTag:!0,source:null,sourceMethod:"GET",sourceType:"json",filterSource:null,filterThreshold:500,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemAction:"",clsLabel:"",clsGroupName:"",clsFilterInput:"",onClear:t.noop,onChange:t.noop,onUp:t.noop,onDrop:t.noop,onItemSelect:t.noop,onItemDeselect:t.noop,onSelectCreate:t.noop,onData:e=>e};t.selectSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroSelectSetup<"u"&&t.selectSetup(globalThis.metroSelectSetup),t.Component("select",{init:function(e,i){return this._super(i,e,p,{list:null,placeholder:null,observer:null}),this},_create:function(){let e=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:e})},_setPlaceholder:function(){let e=this.element,i=this.options,l=e.siblings(".select-input");i.usePlaceholder===!0&&(!t.utils.isValue(e.val())||`${e.val()}`==`${i.emptyValue}`)&&l.html(i.placeholder||this.strings.label_select_more)},_addTag:function(e,i){let l=this.element,h=this.options,v,x=l.closest(".select"),w=`<span class='title'>${e}</span>`,D=o("<div>").addClass("tag").addClass(h.shortTag?"short-tag":"").addClass(h.clsSelectedItem).html(w).data("option",i);return o("<span>").addClass("action unselect-option").addClass(h.clsSelectedItemAction).html("&times;").appendTo(D),x.hasClass("input-large")?v="large":x.hasClass("input-small")&&(v="small"),D.addClass(v),D},_addOption:function(e,i,l,h,v){let x=o(e),w,D,M=this.element,I=this.options,B=t.utils.isValue(x.attr("data-template"))?x.attr("data-template").replace("$1",e.text):e.text,Y=x.attr("data-display");w=o("<li>").addClass(I.clsOption).data("option",e).attr("data-text",e.text).attr("data-value",e.value?e.value:""),D=o("<a>").html(B);let X=x.attr("data-icon");if(X&&D.prepend(o("<span>").addClass("icon").html(X)),Y&&(w.attr("data-display",Y),B=Y),w.addClass(e.className),w.data("group",v),x.is(":disabled")&&w.addClass("disabled"),x.is(":selected")){let ie="";I.showGroupName&&v&&(ie=`&nbsp;<span class='selected-item__group-name ${I.clsGroupName}'>${v}</span>`),h?(w.addClass("d-none"),l.append(this._addTag(D.html()+ie,w))):(B=D.html()+ie,M.val(e.value),l.html(B),M.fire("change",{val:e.value}),w.addClass("active"))}w.append(D).appendTo(i)},_addOptionGroup:function(e,i,l,h){let v=this,x=this.options,w=o(e);o("<li>").html(e.label).addClass("group-title").addClass(x.clsOptionGroup).appendTo(i),o.each(w.children(),function(){v._addOption(this,i,l,h,e.label)})},_createOptions:function(){let e=this,i=this.element,l=this.options,h=i.parent().find("ul").empty(),v=i.find("option[selected]").length>0,x=i[0].multiple,w=i.siblings(".select-input");i.siblings(".select-input").empty(),l.addEmptyValue===!0&&i.prepend(o(`<option ${v?"":"selected"} value='${l.emptyValue}' class='d-none'></option>`)),o.each(i.children(),function(){this.tagName==="OPTION"?e._addOption(this,h,w,x,null):this.tagName==="OPTGROUP"&&e._addOptionGroup(this,h,w,x)})},_createSelect:async function(){let e=this.element,i=this.options,l=e.wrap("<label>"),h=e[0].multiple,v=Hooks.useId(l[0]),x=o("<div>").addClass("button-group"),w,D,M=t.utils.elementId("select-focus-trigger"),I=o("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",M);this.placeholder=o("<span>").addClass("placeholder").html(i.placeholder),l.attr("id",i.id?i.id:v).attr("for",M),l[0].className=t.utils.classNames(e[0].className,`input-${i.size}`,"select",i.clsSelect),o("<span>").addClass("dropdown-toggle").appendTo(l),h&&l.addClass("multiple"),x.appendTo(l),I.appendTo(l);let B=o("<div>").addClass("select-input").addClass(i.clsSelectInput).attr("name",`__${v}__`);w=o("<div>").addClass("drop-container").addClass(i.clsDropContainer),i.dropFullSize===!1?i.dropWidth&&w.css({width:+i.dropWidth}):l.addClass("drop-full-size"),D=o("<div>").appendTo(w);let Y=o("<ul>").addClass("option-list").addClass(i.clsDropList).css({"max-height":i.dropHeight});if(o(`<input type='text' data-role='input' data-clear-button-icon="${i.clearButtonIcon}">`).attr("placeholder",i.filterPlaceholder||`${this.strings.label_filter}...`).appendTo(D).addClass(i.clsFilterInput),l.append(B),l.append(w),w.append(D),i.filter!==!0&&D.hide(),w.append(Y),i.source&&await this.fetch(i.source,{method:i.sourceMethod||"GET",headers:{"Content-Type":`application/${i.sourceType||"json"}`}}),this._createOptions(),this._setPlaceholder(),this._createDroppable(w),this.list=Y,i.clearButton===!0&&!e[0].readOnly?o("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).appendTo(x):x.addClass("d-none"),i.prepend!==""&&!h&&o("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(l),i.append!==""&&!h&&o("<div>").html(i.append).addClass("append").addClass(i.clsAppend).appendTo(l),e.attr("dir")==="rtl"&&l.addClass("rtl").attr("dir","rtl"),i.label){let X=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(l);e.attr("id")?X.attr("for",e.attr("id")):X.attr("for",M),e.attr("dir")==="rtl"&&X.addClass("rtl")}e.is(":disabled")?this.disable():this.enable(),this.observer=new MutationObserver(this._updateSelect.bind(this)),this.observer.observe(e[0],{childList:!0,subtree:!0})},_createDroppable:function(e){let i=this.options,l=e.find("input"),h=this.element.closest(".select"),v=e.siblings(".dropdown-caret"),x=e.find("ul");t.makePlugin(e,"dropdown",{dropFilter:".select",duration:i.duration,toggleElement:[h],openMode:i.openMode,onDrop:()=>{let w;v.addClass("active-toggle");let D=o(".select .drop-container");o.each(D,function(){let M=o(this);if(M.is(e))return;let I=t.getPlugin(M,"dropdown");I!=null&&I.close&&I.close()}),l.val("").trigger(t.events.keyup),w=x.find("li.active").length>0?o(x.find("li.active")[0]):void 0,w!==void 0&&(x[0].scrollTop=w.position().top-(x.height()-w.height())/2),this._fireEvent("drop",{list:x[0]})},onUp:()=>{v.removeClass("active-toggle"),this._fireEvent("up",{list:x[0]})}})},_updateSelect:function(e){for(let i of e)i.type==="childList"&&(i.addedNodes.length||i.removedNodes.length)&&this._createOptions()},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.closest(".select"),v=h.find(".drop-container"),x=i.siblings(".select-input"),w=v.find("input"),D=v.find("ul"),M=h.find(".input-clear-button"),I=h.find(".select-focus-trigger");I.on("focus",()=>{h.addClass("focused")}),I.on("blur",()=>{h.removeClass("focused")}),M.on(t.events.click,Y=>{i.val(l.emptyValue),i[0].multiple&&D.find("li").removeClass("d-none"),x.clear(),e._setPlaceholder(),Y.preventDefault(),Y.stopPropagation(),e._fireEvent("clear"),e._fireEvent("change",{selected:e.getSelected()})}),i.on(t.events.change,()=>{e._setPlaceholder()}),h.on(t.events.click,()=>{o(".focused").removeClass("focused"),h.addClass("focused")}),x.on(t.events.click,()=>{o(".focused").removeClass("focused"),h.addClass("focused")}),D.on(t.events.click,"li",function(Y){if(o(this).hasClass("group-title")){Y.preventDefault(),Y.stopPropagation();return}let X=o(this),ie=X.attr("data-display"),Fe=X.data("value"),Ve=X.data("group"),He=ie||X.children("a").html(),ze=X.data("option"),De=i.find("option");l.showGroupName&&Ve&&(He+=`&nbsp;<span class='selected-item__group-name ${l.clsGroupName}'>${Ve}</span>`),i[0].multiple?(X.addClass("d-none"),x.append(e._addTag(He,X))):(D.find("li.active").removeClass("active").removeClass(l.clsOptionActive),X.addClass("active").addClass(l.clsOptionActive),x.html(He),t.getPlugin(v,"dropdown").close()),o.each(De,function(){this===ze&&(this.selected=!0)}),e._fireEvent("item-select",{val:Fe,option:ze,leaf:X[0]});let Oe=e.getSelected();e._fireEvent("change",{selected:Oe})}),x.on("click",".tag .action",function(Y){let X=o(this).closest(".tag"),ie=X.data("option"),Fe=ie.data("option");ie.removeClass("d-none"),o.each(i.find("option"),function(){this===Fe&&(this.selected=!1)}),X.remove(),e._fireEvent("item-deselect",{option:Fe});let Ve=e.getSelected();e._fireEvent("change",{selected:Ve}),Y.preventDefault(),Y.stopPropagation()});let B=Hooks.useDebounce(async Y=>{let X=this.options,ie=this.list,Fe=Y.target.value.toLowerCase(),Ve=`${X.filterSource}${Fe}`;if(X.filterSource)await this.fetch(Ve,{method:X.sourceMethod||"GET",headers:{"Content-Type":`application/${X.sourceType||"json"}`}},!0);else{let He=ie.find("li"),ze,De,Oe;for(ze=0;ze<He.length;ze++)o(He[ze]).hasClass("group-title")||(De=He[ze].getElementsByTagName("a")[0],Oe=De.innerHTML||De.innerText,Oe.toLowerCase().includes(Fe)?He[ze].style.display="":He[ze].style.display="none")}},l.filterThreshold);w.on(t.events.keyup,B.bind(this)),w.on(t.events.click,Y=>{Y.preventDefault(),Y.stopPropagation()}),v.on(t.events.click,Y=>{Y.preventDefault(),Y.stopPropagation()})},_clearOptions:function(){this.element.clear(),this.list.clear()},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(e){let i=this.element,l=i.find("option"),h=i.closest(".select");o.each(l,function(){this.selected=t.utils.isNull(e)?!1:this.defaultSelected}),this.list.find("li").remove(),h.find(".select-input").html(""),this._createOptions();let v=this.getSelected();this._fireEvent("change",{selected:v})},getSelected:function(){let e=this.element,i=[];return e.find("option").each(function(){this.selected&&i.push(this.value)}),i},val:function(e){let i=this,l=this.element,h=this.options,v=l.siblings(".select-input"),x=l.find("option"),w=this.list.find("li"),D=[],M=!!l.attr("multiple"),I,B,Y,X,ie,Fe;if(t.utils.isNull(e))return o.each(x,function(){this.selected&&D.push(this.value)}),M?D:D[0];o.each(x,function(){this.selected=!1}),w.removeClass("active").removeClass(h.clsOptionActive),v.html("");let Ve=Array.isArray(e)?e:[e];o.each(Ve,function(){for(B=0;B<x.length;B++)if(I=x[B],Y=t.utils.isValue(I.getAttribute("data-template"))?I.getAttribute("data-template").replace("$1",I.text):I.text,`${I.value}`==`${this}`){I.selected=!0;break}for(B=0;B<w.length;B++)if(X=o(w[B]),Fe=X.data("group"),ie=X.attr("data-value"),`${ie}`==`${this}`){h.showGroupName&&Fe&&(Y+=`&nbsp;<span class='selected-item__group-name'>${Fe}</span>`),M?(X.addClass("d-none"),v.append(i._addTag(Y,X))):(X.addClass("active").addClass(h.clsOptionActive),v.html(Y));break}});let He=this.getSelected();this._fireEvent("change",{selected:He})},options:function(e,i,l){return this.data(e,i,l)},data:function(e,i,l){let h=this.element,v,x,w=l||",";return typeof i=="string"?x=i.toArray(w).map(D=>Number.isNaN(D)?D:+D):Array.isArray(i)?x=i.slice().map(D=>Number.isNaN(D)?D:+D):x=[],this.observer.disconnect(),h.empty(),typeof e=="string"?h.html(e):t.utils.isObject2(e)&&o.each(e,(D,M)=>{if(t.utils.isObject2(M))v=o("<optgroup label=''>").attr("label",D).appendTo(h),o.each(M,(I,B)=>{let Y=o("<option>").attr("value",I).text(B).appendTo(v);x.indexOf(+I)>-1&&Y.prop("selected",!0)});else{let I=o("<option>").attr("value",D).text(M).appendTo(h);x.indexOf(D)>-1&&I.prop("selected",!0)}}),this._createOptions(),this.observer.observe(h[0],{childList:!0,subtree:!0}),this},addOption:function(e,i,l){let h=this.element,v=o("<option>").attr("value",e).text(i||e);return h.append(v),l&&(h[0].multiple||h.find("option").prop("selected",!1),v.prop("selected",!0)),this},addOptions:function(e){let i=this;return e?(this.observer.disconnect(),Array.isArray(e)?o.each(e,function(){t.utils.isObject2(this)?i.addOption(this.val,this.title,this.selected):i.addOption(this)}):t.utils.isObject2(e)&&o.each(e,(l,h)=>{i.addOption(l,h)}),this._createOptions(),this.observer.observe(element[0],{childList:!0,subtree:!0}),this):this},removeOption:function(e){return this.element.find("option").each(function(){let i=o(this);`${i.attr("value")}`=="${val}"&&i.remove()}),this._createOptions(),this},removeOptions:function(e){let i=this.element.find("option");return!e||!Array.isArray(e)?this:(i.each(function(){let l=o(this),h=l.attr("value");e.indexOf(h)>-1&&l.remove()}),this._createOptions(),this)},fetch:async function(e,i,l=!1){let h=this.element,v=this.options,x=Object.assign({method:"GET",headers:{"Content-Type":`application/${v.sourceType}`}},i),w=await fetch(e,x);if(w.ok===!1)return;l&&this._clearOptions();let D=v.sourceType==="json"?await w.json():await w.text();D=t.utils.exec(v.onData,[D],h[0]),o.each(D,function(){let M=o("<option>").attr("value",this.value).html(this.text);this.icon&&M.attr("data-icon",this.icon),M.appendTo(h)})},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){let e=this.element,i=this.options,l=e.closest(".select"),h=l.find(".drop-container"),v=e.siblings(".select-input"),x=h.find("input"),w=h.find("ul"),D=l.find(".input-clear-button");l.off(t.events.click),l.off(t.events.click,".input-clear-button"),v.off(t.events.click),x.off(t.events.blur),x.off(t.events.focus),w.off(t.events.click,"li"),x.off(t.events.keyup),h.off(t.events.click),D.off(t.events.click),h.data("dropdown").destroy(),i.label&&l.prev("label").remove(),l.remove()}}),o(document).on(t.events.click,()=>{o(".select").removeClass("focused")},{ns:"blur-select-elements"})})(Metro,Dom),((t,o)=>{let p={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",searchButton:!1,clearButton:!0,revealButton:!0,randomButton:!1,clearButtonIcon:"❌",revealButtonIcon:"👀",searchButtonIcon:"🔍",randomButtonIcon:"🎲",customButtons:[],searchButtonClick:"submit",randomSymbols:"0123456789;abcdefghijklmnopqrstuvwxyz;ABCDEFGHIJKLMNOPQRSTUVWXYZ;<>!?@#$%^&*()_+",randomLength:12,prependOptions:"",prependOptionsSep:",",appendOptions:"",appendOptionsSep:",",badge:null,clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsRandomButton:"",clsLabel:"",onAutocompleteSelect:t.noop,onHistoryChange:t.noop,onHistoryUp:t.noop,onHistoryDown:t.noop,onClearClick:t.noop,onRevealClick:t.noop,onSearchButtonClick:t.noop,onEnterClick:t.noop,onInputCreate:t.noop};t.inputSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroInputSetup<"u"&&t.inputSetup(globalThis.metroInputSetup),t.Component("input",{init:function(e,i){return this._super(i,e,p,{history:[],historyIndex:-1,autocomplete:[],prependOptionsList:null,appendOptionsList:null}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){let e=this,i=this.element,l=this.options,h=i.wrap("<div>").addClass(`input ${i[0].className}`),v,x,w,D,M;t.utils.isValue(l.historyPreset)&&(o.each(l.historyPreset.toArray(l.historyDivider),function(){e.history.push(this)}),e.historyIndex=e.history.length-1),i.attr("type")===void 0&&i.attr("type","text"),v=o("<div>").addClass("button-group").appendTo(h),t.utils.isValue(i.val().trim())||i.val(l.defaultValue),l.clearButton===!0&&!i[0].readOnly&&(x=o("<button>").addClass("button input-clear-button").addClass(l.clsClearButton).attr("tabindex",-1).attr("type","button").html(l.clearButtonIcon).attr("title",this.strings.label_clear_input),x.appendTo(v)),i.attr("type")==="password"&&l.revealButton===!0&&(w=o("<button>").addClass("button input-reveal-button").addClass(l.clsRevealButton).attr("tabindex",-1).attr("type","button").html(l.revealButtonIcon).attr("title",this.strings.label_reveal_password),w.appendTo(v)),l.searchButton===!0&&(D=o("<button>").addClass("button input-search-button").addClass(l.clsSearchButton).attr("tabindex",-1).attr("type",l.searchButtonClick==="submit"?"submit":"button").html(l.searchButtonIcon).attr("title",this.strings.label_search_input),D.appendTo(v)),l.randomButton===!0&&(M=o("<button>").addClass("button input-random-button").addClass(l.clsRandomButton).attr("tabindex",-1).attr("type","button").html(l.randomButtonIcon).attr("title",this.strings.label_generate_random),M.appendTo(v));let I,B;if(l.prepend&&o("<div>").html(l.prepend).addClass("prepend").addClass(l.clsPrepend).appendTo(h),l.prependOptions){I=o("<div>").addClass("prepend-options").appendTo(h),B=o("<select data-role='select'>").addClass("options-list"),I.append(B);for(let X of l.prependOptions.toArray(l.prependOptionsSep))o("<option>").attr("value",X).html(X).appendTo(B);this.prependOptionsList=B}if(l.append&&o("<div>").html(l.append).addClass("append").addClass(l.clsAppend).appendTo(h),l.appendOptions){I=o("<div>").addClass("append-options").appendTo(h),B=o("<select data-role='select'>").addClass("options-list"),I.append(B);for(let X of l.appendOptions.toArray(l.appendOptionsSep))o("<option>").attr("value",X).html(X).appendTo(B);this.appendOptionsList=B}let Y=t.utils.isObject(l.customButtons);if(Array.isArray(Y)&&o.each(Y,function(){let X=o("<button>");X.addClass("button input-custom-button").addClass(l.clsCustomButton).addClass(this.cls).attr("tabindex",-1).attr("type","button").html(this.text),this.attr&&typeof this.attr=="object"&&o.each(this.attr,(ie,Fe)=>{X.attr(Str.dashedName(ie),Fe)}),this.onclick&&X.on("click",()=>{this.onclick.apply(X,[i.valueOf(),i])}),X.appendTo(v)}),t.utils.isValue(i.attr("data-exclaim"))&&h.attr("data-exclaim",i.attr("data-exclaim")),i.attr("dir")==="rtl"&&h.addClass("rtl").attr("dir","rtl"),i[0].className="",h.addClass(l.clsComponent),i.addClass(l.clsInput),l.size!=="default"&&h.css({width:l.size}),(!t.utils.isNull(l.autocomplete)||!t.utils.isNull(l.autocompleteUrl))&&o("<div>").addClass("autocomplete-list").css({maxHeight:l.autocompleteListHeight,display:"none"}).appendTo(h),t.utils.isValue(l.autocomplete)){let X=t.utils.isObject(l.autocomplete);X!==!1?this.autocomplete=X:this.autocomplete=l.autocomplete.toArray(l.autocompleteDivider)}if(t.utils.isValue(l.autocompleteUrl)&&fetch(l.autocompleteUrl,{method:l.autocompleteUrlMethod}).then(X=>X.text()).then(X=>{let ie=[];try{ie=JSON.parse(X),l.autocompleteUrlKey&&(ie=ie[l.autocompleteUrlKey])}catch{ie=X.split(`
`)}e.autocomplete=e.autocomplete.concat(ie)}),l.label){let X=o("<label>").addClass("label-for-input").addClass(l.clsLabel).html(l.label).insertBefore(h);if(i.attr("id"))X.attr("for",i.attr("id"));else{let ie=Hooks.useId(i[0]);i.id(ie),X.attr("for",ie)}i.attr("dir")==="rtl"&&X.addClass("rtl")}l.badge&&h.append(o("<div>").addClass("badge").html(l.badge)),i.is(":disabled")?this.disable():this.enable(),this.component=h},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.closest(".input"),v=h.find(".autocomplete-list");h.on(t.events.click,".input-clear-button",()=>{let x=i.val();i.val(t.utils.isValue(l.defaultValue)?l.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),v.length>0&&v.css({display:"none"}),e._fireEvent("clear-click",{prev:x})}),h.on(t.events.click,".input-reveal-button",()=>{i.attr("type")==="password"?i.attr("type","text"):i.attr("type","password"),e._fireEvent("reveal-click",{val:i.val()})}),h.on(t.events.click,".input-search-button",function(){l.searchButtonClick!=="submit"?(console.log("Search button clicked"),e._fireEvent("search-button-click",{val:e.val(),button:this})):this.form&&this.form.submit()}),h.on(t.events.click,".input-random-button",()=>{let x=e._generateRandomValue();i.val(x).fire("change").fire("keyup").focus(),e._fireEvent("random-click",{val:x})}),i.on(t.events.keyup,x=>{let w=i.val().trim();l.history&&x.keyCode===t.keyCode.ENTER&&w!==""&&(i.val(""),e.history.push(w),e.historyIndex=e.history.length-1,e._fireEvent("history-change",{val:w,history:e.history,historyIndex:e.historyIndex}),l.preventSubmit===!0&&x.preventDefault()),l.history&&x.keyCode===t.keyCode.UP_ARROW&&(e.historyIndex--,e.historyIndex>=0?(i.val(""),i.val(e.history[e.historyIndex]),e._fireEvent("history-down",{val:i.val(),history:e.history,historyIndex:e.historyIndex})):e.historyIndex=0,x.preventDefault()),l.history&&x.keyCode===t.keyCode.DOWN_ARROW&&(e.historyIndex++,e.historyIndex<e.history.length?(i.val(""),i.val(e.history[e.historyIndex]),e._fireEvent("history-up",{val:i.val(),history:e.history,historyIndex:e.historyIndex})):e.historyIndex=e.history.length-1,x.preventDefault())}),i.on(t.events.keydown,x=>{x.keyCode===t.keyCode.ENTER&&e._fireEvent("enter-click",{val:i.val()})}),i.on(t.events.blur,()=>{h.removeClass("focused")}),i.on(t.events.focus,()=>{h.addClass("focused")}),i.on(t.events.input,function(){let x=this.value.toLowerCase();e._drawAutocompleteList(x)}),h.on(t.events.click,".autocomplete-list .item",function(){let x=o(this).attr("data-autocomplete-value");i.val(x),v.css({display:"none"}),i.trigger("change"),e._fireEvent("autocomplete-select",{value:x})})},_generateRandomValue:function(){let e=this.options,i=e.randomSymbols.split(";"),l=Math.round(e.randomLength/i.length),h=[];for(let v of i){let x=v.split(""),w=x.length;for(let D=0;D<l;D++)h.push(x[Math.floor(Math.random()*w)])}return h.shuffle().join("")},_drawAutocompleteList:function(e){let i=this,l=this.element.closest(".input").find(".autocomplete-list");if(l.length===0)return;l.html("");let h=this.autocomplete.filter(v=>v.toLowerCase().indexOf(e)>-1);l.css({display:h.length>0?"block":"none"}),o.each(h,function(){let v=this.toLowerCase().indexOf(e),x,w=o("<div>").addClass("item").attr("data-autocomplete-value",this);v===0?x=`<strong>${this.substring(0,e.length)}</strong>${this.substring(e.length)}`:x=`${this.substring(0,v)}<strong>${this.substring(v,e.length)}</strong>${this.substring(v+e.length)}`,w.html(x).appendTo(l),i._fireEvent("draw-autocomplete-item",{item:w})})},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(e){this.historyIndex=e>=this.history.length?this.history.length-1:e},setHistory:function(e,i){let l=this,h=this.options;if(!e)return;typeof e!="string"&&!Array.isArray(e)&&(console.error("History must be a string or an array!"),console.dir(e));let v=typeof e=="string"?e.toArray(h.historyDivider):e;i===!0?o.each(v,function(){l.history.push(this)}):this.history=e,this.historyIndex=this.history.length-1},clear:function(){this.element.val("")},toDefault:function(){this.element.val(t.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(e){let i=t.utils.isObject(e);i!==!1?this.autocomplete=i:typeof e=="string"&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},val:function(e,i=";"){let l=this.element,h=this.options;if(!t.utils.isValue(e)){let M=l.val();return h.prependOptions&&(M=this.prependOptionsList.val()+M),h.appendOptions&&(M=M+this.appendOptionsList.val()),M}let v=e.split(i),x="",w="";h.prependOptions&&(x=v.shift(),t.getPlugin(this.prependOptionsList,"select").val(x),console.log(x)),h.appendOptions&&(w=v.pop(),t.getPlugin(this.appendOptionsList,"select").val(w));let D=v.join("");l.val(D)},prependOptionsVal:function(e){this.options.prependOptions&&(t.utils.isValue(e)||this.prependOptionsList.val(),this.prependOptionsList.val(e))},appendOptionsVal:function(e){if(this.options.appendOptions){if(!t.utils.isValue(e))return this.appendOptionsList.val();this.appendOptionsList.val(e)}},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break}},destroy:function(){let e=this.element,i=this.options,l=e.parent(),h=l.find(".input-clear-button"),v=l.find(".input-reveal-button"),x=l.find(".input-custom-button");h.length>0&&h.off(t.events.click),v.length>0&&(v.off(t.events.start),v.off(t.events.stop)),x.length>0&&h.off(t.events.click),e.off(t.events.blur),e.off(t.events.focus),i.label&&l.prev("label").remove(),l.remove()}}),o(document).on(t.events.click,()=>{o(".input .autocomplete-list").hide()})})(Metro,Dom),((t,o)=>{let p={chatDeferred:0,inputTimeFormat:null,timeFormat:"D MMM hh:mm A",name:"John Doe",avatar:"<span>👦</span>",welcome:null,welcomeAvatar:"<span>👽</span>",title:null,width:"100%",height:"auto",messages:null,sendButtonTitle:"",sendButtonIcon:"",readonly:!1,clsChat:"",clsName:"",clsTime:"",clsInput:"",clsSendButton:"",clsMessageLeft:"default",clsMessageRight:"default",onMessage:t.noop,onSend:t.noop,onSendButtonClick:t.noop,onChatCreate:t.noop};t.chatSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroChatSetup<"u"&&t.chatSetup(globalThis.metroChatSetup),t.Component("chat",{init:function(e,i){return this._super(i,e,p,{input:null,classes:"primary secondary success alert warning yellow info dark light".split(" "),lastMessage:null}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("chat-create",{element:e})},_createStructure:function(){let e=this,i=this.element,l=this.options,h=[{html:`${l.sendButtonTitle||this.strings.label_send}${l.sendButtonIcon}`,cls:`${l.clsSendButton} js-chat-send-button`,onclick:l.onSendButtonClick}];i.addClass("chat").addClass(l.clsChat),i.css({width:l.width,height:l.height}),t.utils.isValue(l.title)&&o("<div>").addClass("title").html(l.title).appendTo(i),o("<div>").addClass("messages").appendTo(i);let v=o("<div>").addClass("message-input").appendTo(i),x=o("<input type='text'>").addClass("chat-input");x.appendTo(v),setTimeout(()=>{t.makePlugin(x[0],"input",{customButtons:h,clsInput:l.clsInput})}),l.welcome&&this.add({text:l.welcome,time:datetime(),position:"left",name:"Chat Bot",avatar:l.welcomeAvatar}),t.utils.isValue(l.messages)&&typeof l.messages=="string"&&(l.messages=t.utils.isObject(l.messages)),!t.utils.isNull(l.messages)&&typeof l.messages=="object"&&t.utils.objectLength(l.messages)>0&&o.each(l.messages,function(){e.add(this)}),i.find(".message-input")[l.readonly?"addClass":"removeClass"]("disabled")},_createEvents:function(){let e=this.element,i=this.options,l=()=>{let h=e.find(".chat-input input"),v=`${h.val()}`;if(v.trim()==="")return!1;let x={id:t.utils.elementId("chat-message"),name:i.name,avatar:i.avatar,text:v,position:"right",time:datetime()};this.add(x),h.val(""),this._fireEvent("send",{msg:x}),h.focus()};e.on(t.events.click,".js-chat-send-button",()=>{l()}),e.on(t.events.keyup,".chat-input > input",h=>{h.keyCode===t.keyCode.ENTER&&l()})},add:function(e){let i=this.element,l=this.options,h=this.locale,v,x,w,D,M,I=i.find(".messages"),B=l.inputTimeFormat?Datetime.from(e.time,l.inputTimeFormat,h):datetime(e.time);if(v=o("<div>").addClass("message").addClass(e.position).appendTo(I),w=o("<div>").addClass("message-item").appendTo(v),t.utils.isUrl(e.avatar)||e.avatar.includes("data:image"))D=o("<img>").attr("src",e.avatar).attr("alt",e.avatar).addClass("message-avatar").appendTo(w);else if(e.avatar){let X=o(e.avatar);X.length?D=X.addClass("message-avatar").appendTo(w):D=o("<span>").addClass("message-avatar").html(e.avatar).appendTo(w)}M=o("<div>").addClass("message-text").append(o("<div>").addClass("message-text-inner").html(Str.escapeHtml(e.text))).appendTo(w);let Y=o("<div>").addClass("message-time").addClass(l.clsTime).text(B.format(l.timeFormat)).appendTo(M);return x=o("<div>").addClass("message-sender").addClass(l.clsName).text(e.name).appendTo(M),t.utils.isValue(e.id)&&v.attr("id",e.id),e.position==="left"&&t.utils.isValue(l.clsMessageLeft)&&M.addClass(l.clsMessageLeft),e.position==="right"&&t.utils.isValue(l.clsMessageRight)&&M.addClass(l.clsMessageRight),this.lastMessage&&this.lastMessage.position===e.position&&(M.addClass("--next"),D.visible(!1),x.hide()),this._fireEvent("message",{msg:e,el:{message:v,sender:x,time:Y,item:w,avatar:D,text:M}}),I.animate({draw:{scrollTop:I[0].scrollHeight},dur:1e3}),this.lastMessage=e,this},addMessages:function(e){let i=this,l=e;return t.utils.isValue(l)&&typeof l=="string"&&(l=t.utils.isObject(l)),typeof l=="object"&&t.utils.objectLength(l)>0&&o.each(l,function(){i.add(this)}),this},delMessage:function(e){return this.element.find(".messages").find(`#${e}`).remove(),this},updMessage:function(e){let i=this.element.find(".messages").find(`#${e.id}`),l=this.options,h=this.locale;if(i.length===0)return this;let v=l.inputTimeFormat?Datetime.from(e.time,l.inputTimeFormat,h):datetime(e.time);return i.find(".message-text-inner").html(e.text),i.find(".message-time").html(v.format(l.timeFormat)),this},clear:function(){this.element.find(".messages").html(""),this.lastMessage=null},toggleReadonly:function(e){let i=this.element,l=this.options;l.readonly=typeof e>"u"?!l.readonly:e,i.find(".message-input")[l.readonly?"addClass":"removeClass"]("disabled")},changeAttribute:function(e){switch(e){case"data-readonly":this.toggleReadonly();break}},destroy:function(){let e=this.element,i=e.find(".js-chat-send-button"),l=e.find("input[type=text]");return i.off(t.events.click),l.off(t.events.keyup),e}}),t.defaults.Chat=p})(Metro,Dom),((t,o)=>{globalThis.CHECKBOX_STATE={CHECKED:1,UNCHECKED:-1,INDETERMINATE:0};let p={checkboxDeferred:0,state:CHECKBOX_STATE.UNCHECKED,threeState:!1,prepend:"",append:"",caption:"",clsCheckbox:"",clsCaption:"",clsPrepend:"",clsAppend:"",onCheckboxCreate:t.noop};t.metroCheckboxSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroCheckboxSetup<"u"&&t.metroCheckboxSetup(globalThis.metroCheckboxSetup),t.Component("checkbox",{init:function(e,i){return this._super(i,e,p,{origin:{className:""},state:CHECKBOX_STATE.UNCHECKED}),this},_create:function(){let e=this.options;(e.threeState===!1&&e.state===0||e.state==="indeterminate")&&(e.state=CHECKBOX_STATE.UNCHECKED),e.state===CHECKBOX_STATE.UNCHECKED||e.state==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:e.state===0||e.state==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(e=!0){let i=this.element;i[0].indeterminate=e,i.attr("data-indeterminate",e)},_createStructure:function(){let e=this.element,i=this.options,l=e.wrap("<label>").addClass("checkbox").addClass(i.clsCheckbox);e.attr("type","checkbox"),i.prepend&&l.prepend(o("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),(i.append||i.caption)&&l.append(o("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.caption?i.caption:i.append)),e.attr("readonly")!==void 0&&e.on("click",h=>{h.preventDefault()}),this.elem.checked&&this.state!==CHECKBOX_STATE.INDETERMINATE&&(this.state=!0),this._drawState()},_drawState:function(){let e=this.elem;this._indeterminate(!1),e.checked=this.state!==CHECKBOX_STATE.UNCHECKED,this.state===CHECKBOX_STATE.INDETERMINATE&&this._indeterminate(!0)},_createEvents:function(){let e=this.element,i=this.options;e.on("click",()=>{this.state++,this.state===0&&i.threeState===!1&&(this.state=1),this.state===2&&(this.state=-1),this._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},indeterminate:function(){this.setCheckState(CHECKBOX_STATE.INDETERMINATE)},setCheckState:function(e){return e===-1||e==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:e===0||e==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._drawState(),this},getCheckState:function(e=!1){if(!e)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},toggle:function(){this.state++,this.state===2&&(this.state=-1),this._drawState()},changeAttribute:(e,i)=>{let l=function(h){this.toggle(h)};switch(e){case"data-state":l(i);break}},destroy:function(){let e=this.element;e.off("click"),e.parent().remove()}})})(Metro,Dom),((t,o)=>{let p={clockDeferred:0,show:"row",showTime:!0,showDate:!0,dateFormat:"DD.MM.YYYY",timeFormat:"HH:mm",divider:"&nbsp;&nbsp;",twoLines:!1,onTick:t.noop,onSecond:t.noop,onClockCreate:t.noop};t.clockSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroClockSetup<"u"&&t.clockSetup(globalThis.metroClockSetup),t.Component("clock",{init:function(e,i){return this._super(i,e,p,{_clockInterval:null}),this},_create:function(){let e=this.element,i=this.options;e.addClass("clock"),i.show==="column"&&e.addClass("show-column"),this._fireEvent("clock-create",{element:e}),this._tick(),this._clockInterval=setInterval(()=>{this._tick()},500),this._secondInterval=setInterval(()=>{this._second()},1e3)},_second:function(){let e=new Date;this._fireEvent("second",{timestamp:e})},_tick:function(){let e=this.element,i=this.options,l=datetime(),h="",v=l.format(i.dateFormat),x=l.format(i.timeFormat);i.showTime&&(h=`<span class="clock-time">${x}</span>`),i.showDate&&(h+=`<span class="clock-date">${v}</span>`),e.html(h),this._fireEvent("tick",{timestamp:l})},changeAttribute:function(e,i){switch(e){case"data-date-format":this.options.dateFormat=i;break;case"data-time-format":this.options.timeFormat=i;break;case"data-show-date":this.options.showDate=JSON.parse(i);break;case"data-show-time":this.options.showTime=JSON.parse(i);break;case"data-divider":this.options.divider=i;break;case"data-two-lines":this.options.twoLines=JSON.parse(i);break}this._tick()},destroy:function(){clearInterval(this._clockInterval),this._clockInterval=null,this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={collapseDeferred:0,collapsed:!1,toggleElement:!1,duration:100,onExpand:t.noop,onCollapse:t.noop,onCollapseCreate:t.noop};t.collapseSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroCollapseSetup<"u"&&t.collapseSetup(globalThis.metroCollapseSetup),t.Component("collapse",{init:function(e,i){return this._super(i,e,p,{toggle:null}),this},_create:function(){let e=this.element,i=this.options,l=i.toggleElement!==!1?o(i.toggleElement):e.siblings(".collapse-toggle").length>0?e.siblings(".collapse-toggle"):e.siblings("a:nth-child(1)");(i.collapsed===!0||e.attr("collapsed")===!0)&&e.hide(0),l.on(t.events.click,h=>{e.css("display")!=="none"&&!e.hasClass("keep-open")?this._close(e):this._open(e),["INPUT"].indexOf(h.target.tagName)===-1&&h.preventDefault(),h.stopPropagation()}),this.toggle=l,this._fireEvent("collapse-create",{element:e})},_close:function(e,i){let l=o(e);if(l.data("collapsed"))return;let h=t.getPlugin(l[0],"collapse"),v=h.options,x=i?"show":"slideUp",w=i?0:v.duration;this.toggle.removeClass("active-toggle"),l[x](w,()=>{e.trigger("onCollapse",null,e),e.data("collapsed",!0),e.addClass("collapsed"),h._fireEvent("collapse")})},_open:function(e,i){let l=o(e);if(!l.data("collapsed"))return;let h=t.getPlugin(l[0],"collapse"),v=h.options,x=i?"show":"slideDown",w=i?0:v.duration;this.toggle.addClass("active-toggle"),l[x](w,()=>{e.trigger("onExpand",null,e),e.data("collapsed",!1),e.removeClass("collapsed"),h._fireEvent("expand")})},collapse:function(e){this._close(this.element,e)},expand:function(e){this._open(this.element,e)},close:function(e){this._close(this.element,e)},open:function(e){this._open(this.element,e)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){let e=this.element;e.attr("collapsed")===!0||e.data("collapsed")===!0?this.collapse():this.expand()},changeAttribute:function(e){switch(e){case"collapsed":case"data-collapsed":this.toggleState();break}},destroy:function(){return this.toggle.off(t.events.click),this.element}})})(Metro,Dom),((t,o)=>{let p={radioDeferred:0,prepend:"",append:"",caption:"",clsRadio:"",clsCaption:"",clsPrepend:"",clsAppend:"",onRadioCreate:t.noop};t.metroRadioSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroRadioSetup<"u"&&t.metroRadioSetup(globalThis.metroRadioSetup),t.Component("radio",{init:function(e,i){return this._super(i,e,p,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("radio-create")},_createStructure:function(){let e=this.element,i=this.options,l=e.wrap("<label>").addClass("radio").addClass(i.clsCheckbox);e.attr("type","radio"),i.prepend&&l.prepend(o("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),i.append&&l.append(o("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.append)),e.attr("readonly")&&e.on("click",h=>{h.preventDefault()}),this.elem.checked&&(this.state=!0),this._drawState()},_drawState:()=>{},_createEvents:function(){this.element.on("click",()=>{this._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},setCheckState:function(e=!0){return this.elem.checked=e,this._drawState(),this},getCheckState:function(e=!1){let i=this.elem.checked;if(!e)return i;switch(this.state){case!1:return"unchecked";case!0:return"checked"}},toggle:function(){this.elem.checked=!this.elem.checked,this._drawState()},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off("click"),e.parent().remove()}})})(Metro,Dom),((t,o)=>{let p="hex, rgb, rgba, hsl, hsla, hsv, cmyk",e={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",userColors:null,returnValueType:"hex",returnAsString:!0,showValues:p,showAsString:null,showUserColors:!0,controller:null,addUserColorTitle:null,userColorsTitle:null,hslMode:"percent",showAlphaChannel:!0,inputThreshold:300,initColor:null,readonlyInput:!1,clsSelector:"",clsSwatches:"",clsSwatch:"",clsValue:"",clsLabel:"",clsInput:"",clsUserColorButton:"",clsUserColors:"",clsUserColorsTitle:"",clsUserColor:"",onSelectColor:t.noop,onColorSelectorCreate:t.noop};t.colorSelectorSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroColorSelectorSetup<"u"&&t.colorSelectorSetup(globalThis.metroColorSelectorSetup),t.Component("color-selector",{init:function(i,l){return this._super(l,i,e,{id:t.utils.elementId("color-selector"),defaultSwatches:[],showValues:[],userColors:[],showAsString:[],hue:0,saturation:0,lightness:1,alpha:1,hsl:null,hsla:null,hsv:null,rgb:null,rgba:null,cmyk:null,hex:null,inputInterval:null,controller:null}),this},_create:function(){let i=this.options;t.utils.isValue(i.defaultSwatches)&&(this.defaultSwatches=i.defaultSwatches.toArray(",").map(l=>l.toUpperCase())),t.utils.isValue(i.showValues)&&(this.showValues=i.showValues.toArray(",")),t.utils.isValue(i.userColors)&&(this.userColors=i.userColors.toArray(",").map(l=>l.toUpperCase())),t.utils.isValue(i.showAsString)&&(this.showAsString=i.showAsString.toArray(",")),this._createStructure(),this._createEvents(),this._setColorValues(),this._fireEvent("color-selector-create")},_createStructure:function(){let i=this,l=this.element,h=this.options,v=this.strings,x,w,D,M,I;l.addClass("color-selector").addClass(h.clsSelector);let B=o("<div>").addClass("color-box");l.append(B),x=o("<div>").addClass("row"),B.append(x);let Y=o("<div>").addClass("default-swatches").addClass(h.clsSwatches);x.append(Y),o.each(this.defaultSwatches,function(){Y.append(o("<button>").attr("data-color",this).attr("type","button").addClass("swatch").addClass(h.clsSwatch).css("background-color",this))}),x=o("<div>").addClass("row"),B.append(x),w=o("<div>").addClass("color-map"),x.append(w);let X=o("<button>").attr("type","button").addClass("cursor color-cursor dragging");w.append(X);let ie=o("<canvas>").addClass("color-canvas");w.append(ie),w=o("<div>").addClass("hue-map"),x.append(w);let Fe=o("<button>").attr("type","button").addClass("cursor hue-cursor dragging");w.append(Fe);let Ve=o("<canvas>").addClass("hue-canvas");w.append(Ve),w=o("<div>").addClass("alpha-map"),x.append(w);let He=o("<button>").attr("type","button").addClass("cursor alpha-cursor dragging");w.append(He);let ze=o("<canvas>").addClass("alpha-canvas");w.append(ze),x=o("<div>").addClass("row color-values-block"),B.append(x),D=o("<div>").addClass("color-value-hex"),x.append(D),D.append(o("<input type='radio' name='returnType' value='hex' checked>").addClass("check-color-value-hex")),I=o("<div>").addClass("color-block as-string color-hex"),D.append(I),I.append(o("<input type='text' data-prepend='HEX:'>").addClass("input-small value-hex")),D=o("<div>").addClass("color-value-rgb"),x.append(D),D.append(o("<input type='radio' name='returnType' value='rgb'>").addClass("check-color-value-rgb")),I=o("<div>").addClass("color-block color-rgb"),D.append(I),I.append(o("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),I.append(o("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),I.append(o("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),I=o("<div>").addClass("color-block as-string color-rgb"),D.append(I),I.append(o("<input type='text' data-prepend='RGB:'>").addClass("input-small value-rgb")),this.showAsString.indexOf("rgb")>-1?D.find(".value-r,.value-g,.value-b").parent().hide():D.find(".value-rgb").parent().hide(),D=o("<div>").addClass("color-value-rgba"),x.append(D),D.append(o("<input type='radio' name='returnType' value='rgba'>").addClass("check-color-value-rgba")),I=o("<div>").addClass("color-block color-rgba"),D.append(I),I.append(o("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),I.append(o("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),I.append(o("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),I.append(o("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),I=o("<div>").addClass("color-block as-string color-rgba"),D.append(I),I.append(o("<input type='text' data-prepend='RGBA:'>").addClass("input-small value-rgba")),this.showAsString.indexOf("rgba")>-1?D.find(".value-r,.value-g,.value-b,.value-a").parent().hide():D.find(".value-rgba").parent().hide(),D=o("<div>").addClass("color-value-hsl"),x.append(D),D.append(o("<input type='radio' name='returnType' value='hsl'>").addClass("check-color-value-hsl")),I=o("<div>").addClass("color-block color-hsl"),D.append(I),I.append(o("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),I.append(o("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),I.append(o("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),I=o("<div>").addClass("color-block as-string color-hsl"),D.append(I),I.append(o("<input type='text' data-prepend='HSL:'>").addClass("input-small value-hsl")),this.showAsString.indexOf("hsl")>-1?D.find(".value-h,.value-s,.value-l").parent().hide():D.find(".value-hsl").parent().hide(),D=o("<div>").addClass("color-value-hsla"),x.append(D),D.append(o("<input type='radio' name='returnType' value='hsla'>").addClass("check-color-value-hsla")),I=o("<div>").addClass("color-block color-hsla"),D.append(I),I.append(o("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),I.append(o("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),I.append(o("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),I.append(o("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),I=o("<div>").addClass("color-block as-string color-hsla"),D.append(I),I.append(o("<input type='text' data-prepend='HSLA:'>").addClass("input-small value-hsla")),this.showAsString.indexOf("hsla")>-1?D.find(".value-h,.value-s,.value-l,.value-a").parent().hide():D.find(".value-hsla").parent().hide(),D=o("<div>").addClass("color-value-hsv"),x.append(D),D.append(o("<input type='radio' name='returnType' value='hsv'>").addClass("check-color-value-hsl")),I=o("<div>").addClass("color-block color-hsv"),D.append(I),I.append(o("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),I.append(o("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),I.append(o("<input type='text' data-prepend='V:'>").addClass("input-small value-v")),I=o("<div>").addClass("color-block as-string color-hsv"),D.append(I),I.append(o("<input type='text' data-prepend='HSV:'>").addClass("input-small value-hsv")),this.showAsString.indexOf("hsv")>-1?D.find(".value-h,.value-s,.value-v").parent().hide():D.find(".value-hsv").parent().hide(),D=o("<div>").addClass("color-value-cmyk"),x.append(D),D.append(o("<input type='radio' name='returnType' value='cmyk'>").addClass("check-color-value-cmyk")),I=o("<div>").addClass("color-block color-cmyk"),D.append(I),I.append(o("<input type='text' data-prepend='C:'>").addClass("input-small value-c")),I.append(o("<input type='text' data-prepend='M:'>").addClass("input-small value-m")),I.append(o("<input type='text' data-prepend='Y:'>").addClass("input-small value-y")),I.append(o("<input type='text' data-prepend='K:'>").addClass("input-small value-k")),I=o("<div>").addClass("color-block as-string color-cmyk"),D.append(I),I.append(o("<input type='text' data-prepend='CMYK:'>").addClass("input-small value-cmyk")),this.showAsString.indexOf("cmyk")>-1?D.find(".value-s,.value-m,.value-y,.value-k").parent().hide():D.find(".value-cmyk").parent().hide(),x=o("<div>").addClass("row user-colors-css-container"),B.append(x),x.append(o("<div>").addClass("user-colors-title").addClass(h.clsUserColorsTitle).html(h.userColorsTitle||v.label_user_colors)),x.append(o("<div>").addClass("user-colors").addClass(h.clsUserColors));let De=o("<div>").addClass("user-colors-actions");x.append(De),De.append(o("<button>").addClass("button add-button").addClass(h.clsUserColorButton).html(`<span class='user-swatch'></span><span>${h.addUserColorTitle||v.label_add_user_color}</span>`)),M=B.find("input[type=text]"),t.makePlugin(M,"input",{clearButton:!1,clsPrepend:h.clsLabel,clsComponent:h.clsInput}),M.addClass(h.clsValue),h.readonlyInput&&M.attr("readonly",!0);let Oe=B.find("input[type=radio]").each(function(){o(this).attr("name",`${i.id}-returnType`)});Oe.each(function(){o(this).val()===h.returnValueType&&(this.checked=!0)}),t.makePlugin(Oe,"radio"),o.each(p.toArray(","),function(){i.showValues.indexOf(this)===-1&&l.find(`.color-value-${this}`).hide()}),h.showUserColors||l.find(".user-colors-css-container").hide(),h.showAlphaChannel||(l.addClass("no-alpha-channel"),o.each(["rgba","hsla"],function(){l.find(`.color-value-${this}`).hide()})),this._fillUserColors(),this.hueCanvas=Ve,this.hueCursor=Fe,this.shadeCanvas=ie,this.shadeCursor=X,this.alphaCanvas=ze,this.alphaCursor=He,this._createShadeCanvas(),this._createHueCanvas(),this._createAlphaCanvas(),this._setColorValues(),this._updateCursorsColor(),h.initColor&&Farbe.Routines.isColor(h.initColor)&&this._colorToPos(typeof h.initColor=="string"?Farbe.Routines.parse(h.initColor):h.initColor),this.controller=h.controller?o(h.controller):null},_createShadeCanvas:function(i="#f00"){let l=this.shadeCanvas[0],h=l.getContext("2d");h.clearRect(0,0,l.width,l.height),h.clearRect(0,0,l.width,l.height),h.fillStyle=i,h.fillRect(0,0,l.width,l.height);let v=h.createLinearGradient(0,0,l.width,0);v.addColorStop(0,"#fff"),v.addColorStop(1,"transparent"),h.fillStyle=v,h.fillRect(0,0,l.width,l.height);let x=h.createLinearGradient(0,0,0,l.height);x.addColorStop(0,"transparent"),x.addColorStop(1,"#000"),h.fillStyle=x,h.fillRect(0,0,l.width,l.height)},_createHueCanvas:function(){let i=this.hueCanvas[0],l=i.getContext("2d"),h=l.createLinearGradient(0,0,0,i.height);h.addColorStop(0,"hsl(0,100%,50%)"),h.addColorStop(.17,"hsl(298.8, 100%, 50%)"),h.addColorStop(.33,"hsl(241.2, 100%, 50%)"),h.addColorStop(.5,"hsl(180, 100%, 50%)"),h.addColorStop(.67,"hsl(118.8, 100%, 50%)"),h.addColorStop(.83,"hsl(61.2,100%,50%)"),h.addColorStop(1,"hsl(360,100%,50%)"),l.clearRect(0,0,i.width,i.height),l.fillStyle=h,l.fillRect(0,0,i.width,i.height)},_createAlphaCanvas:function(){let i=this.alphaCanvas[0],l=i.getContext("2d"),h=l.createLinearGradient(0,0,0,i.height),v=new Farbe.Primitives.HSLA(this.hue,1,.5,1).toString();h.addColorStop(0,v),h.addColorStop(1,"rgba(0,0,0,0)"),l.clearRect(0,0,i.width,i.height),l.fillStyle=h,l.fillRect(0,0,i.width,i.height)},_updateHueCursor:function(i){this.hueCursor.css({top:i})},_updateAlphaCursor:function(i){this.alphaCursor.css({top:i})},_getHueColor:function(i){let l=this.hueCanvas,h=l.offset(),v=l.height(),x,w;x=i-h.top,x>v&&(x=v),x<0&&(x=0),w=360-360*(x/v),w===360&&(w=0);let D=`hsl(${w}, 100%, 50%)`;this.hue=w,this._createShadeCanvas(D),this._createAlphaCanvas(),this._updateHueCursor(x),this._updateCursorsColor(),this._setColorValues()},_getAlphaValue:function(i){let l=this.alphaCanvas,h=l.offset(),v=l.height(),x;x=i-h.top,x>v&&(x=v),x<0&&(x=0);let w=1-x/v;this.alpha=w.toFixed(2),this._updateAlphaCursor(x),this._updateCursorsColor(),this._setColorValues()},_getShadeColor:function(i,l){let h=this.shadeCanvas,v=h.offset(),x=h.width(),w=h.height(),D=i-v.left,M=l-v.top;D>x&&(D=x),D<0&&(D=0),M>w&&(M=w),M<0&&(M=.1);let I=D/x*100,B=1-M/w*100/100,Y=I/100,X=B/2*(2-Y),ie=B*Y/(1-Math.abs(2*X-1));Number.isNaN(X)&&(X=0),Number.isNaN(ie)&&(ie=0),this.lightness=X,this.saturation=ie,this._updateShadeCursor(D,M),this._updateCursorsColor(),this._setColorValues()},_updateCursorsColor:function(){this.shadeCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness))}),this.hueCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,1,.5))}),this.alphaCursor.css({backgroundColor:Farbe.Routines.toRGBA(new Farbe.Primitives.HSL(this.hue,1,.5),this.alpha).toString()})},_updateShadeCursor:function(i,l){this.shadeCursor.css({top:l,left:i})},_colorToPos:function(i){let l=this.shadeCanvas[0].getBoundingClientRect(),h=this.hueCanvas[0].getBoundingClientRect(),v=this.alphaCanvas[0].getBoundingClientRect(),x=Farbe.Routines.toHSL(i),w=Farbe.Routines.toHSLA(i),D=Farbe.Routines.toHSV(i),M=l.width*D.s,I=l.height*(1-D.v),B=h.height-x.h/360*h.height,Y=(1-w.a)*v.height;this.hue=x.h,this.saturation=x.s,this.lightness=x.l,this.alpha=w.a,this._updateHueCursor(B),this._updateShadeCursor(M,I),this._updateAlphaCursor(Y),this._updateCursorsColor(),this._createShadeCanvas(`hsl(${this.hue}, 100%, 50%)`),this._createAlphaCanvas(),this._setColorValues()},_setColorValues:function(){let i=this.element,l=this.options,h=new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness),v=new Farbe.Primitives.HSLA(this.hue,this.saturation,this.lightness,this.alpha),x=Farbe.Routines.toRGB(h),w=Farbe.Routines.toRGBA(x,this.alpha),D=Farbe.Routines.toHSV(h),M=Farbe.Routines.toCMYK(h),I=Farbe.Routines.toHEX(h),B=this.controller,Y=l.hslMode==="percent";this.hsl=h,this.hsla=v,this.hsv=D,this.rgb=x,this.rgba=w,this.hex=I,this.cmyk=M,i.find(".color-value-hex .value-hex input").val(I),i.find(".color-value-rgb .value-r input").val(x.r),i.find(".color-value-rgb .value-g input").val(x.g),i.find(".color-value-rgb .value-b input").val(x.b),i.find(".color-value-rgb .value-rgb input").val(x.toString()),i.find(".color-value-rgba .value-r input").val(w.r),i.find(".color-value-rgba .value-g input").val(w.g),i.find(".color-value-rgba .value-b input").val(w.b),i.find(".color-value-rgba .value-a input").val(w.a),i.find(".color-value-rgba .value-rgba input").val(w.toString()),i.find(".color-value-hsl .value-h input").val(h.h.toFixed(0)),i.find(".color-value-hsl .value-s input").val(Y?`${Math.round(h.s*100)}%`:h.s.toFixed(4)),i.find(".color-value-hsl .value-l input").val(Y?`${Math.round(h.l*100)}%`:h.l.toFixed(4)),i.find(".color-value-hsl .value-hsl input").val(h.toString()),i.find(".color-value-hsla .value-h input").val(v.h.toFixed(0)),i.find(".color-value-hsla .value-s input").val(Y?`${Math.round(v.s*100)}%`:h.s.toFixed(4)),i.find(".color-value-hsla .value-l input").val(Y?`${Math.round(v.l*100)}%`:h.l.toFixed(4)),i.find(".color-value-hsla .value-a input").val(v.a),i.find(".color-value-hsla .value-hsla input").val(v.toString()),i.find(".color-value-hsv .value-h input").val(D.h.toFixed(0)),i.find(".color-value-hsv .value-s input").val(Y?`${Math.round(D.s*100)}%`:D.s.toFixed(4)),i.find(".color-value-hsv .value-v input").val(Y?`${Math.round(D.v*100)}%`:D.v.toFixed(4)),i.find(".color-value-hsv .value-hsv input").val(D.toString()),i.find(".color-value-cmyk .value-c input").val(M.c.toFixed(0)),i.find(".color-value-cmyk .value-m input").val(M.m.toFixed(0)),i.find(".color-value-cmyk .value-y input").val(M.y.toFixed(0)),i.find(".color-value-cmyk .value-k input").val(M.k.toFixed(0)),i.find(".color-value-cmyk .value-cmyk input").val(M.toString()),i.find(".user-colors-actions .user-swatch").css({backgroundColor:I});let X=this.getVal();B!=null&&B.length&&B.val(X),this._fireEvent("select-color",{color:X,primitive:{hsl:this.hsl,hsla:this.hsla,rgb:this.rgb,rgba:this.rgba,hsv:this.hsv,cmyk:this.cmyk,hex:this.hex}})},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_createEvents:function(){let i=this,l=this.element,h=this.options,v=l.find(".hue-map"),x=l.find(".alpha-map"),w=l.find(".color-map"),D=this.controller,M=l.find(".color-values-block input[type=text]"),I=B=>{let Y=o(B.target),X=Y.closest(".color-block"),ie,Fe,Ve;X.hasClass("color-hex")?ie="hex":X.hasClass("color-rgb")?ie="rgb":X.hasClass("color-rgba")?ie="rgba":X.hasClass("color-hsl")?ie="hsl":X.hasClass("color-hsla")?ie="hsla":X.hasClass("color-hsv")?ie="hsv":X.hasClass("color-cmyk")&&(ie="cmyk"),X.hasClass("as-string")?Fe=Y.val():(Ve=[],o.each(X.find("input"),function(){Ve.push(this.value)}),Fe=`${ie}(${Ve.join(", ")})`),Fe&&Farbe.Routines.isColor(Fe)&&i.val(Fe)};if(I=Hooks.useDebounce(I,h.inputThreshold),M.on(t.events.inputchange,I),D==null?void 0:D.length){let B=Hooks.useDebounce(()=>{let Y=D.val();Y&&Farbe.Routines.isColor(Y)&&i.val(Y)},h.inputThreshold);D.on(t.events.inputchange,B)}x.on(t.events.startAll,B=>{["hsla","rgba"].includes(h.returnValueType),i._getAlphaValue(t.utils.pageXY(B).y),o(document).on(t.events.moveAll,Y=>{Y.preventDefault(),i._getAlphaValue(t.utils.pageXY(Y).y)},{ns:i.id}),o(document).on(t.events.stopAll,()=>{o(document).off(t.events.moveAll,{ns:i.id}),o(document).off(t.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),v.on(t.events.startAll,B=>{i._getHueColor(t.utils.pageXY(B).y),o(document).on(t.events.moveAll,Y=>{Y.preventDefault(),i._getHueColor(t.utils.pageXY(Y).y)},{ns:i.id,passive:!1}),o(document).on(t.events.stopAll,()=>{o(document).off(t.events.moveAll,{ns:i.id}),o(document).off(t.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),w.on(t.events.startAll,B=>{i._getShadeColor(t.utils.pageXY(B).x,t.utils.pageXY(B).y),o(document).on(t.events.moveAll,Y=>{Y.preventDefault(),i._getShadeColor(t.utils.pageXY(Y).x,t.utils.pageXY(Y).y)},{ns:i.id,passive:!1}),o(document).on(t.events.stopAll,()=>{o(document).off(t.events.moveAll,{ns:i.id}),o(document).off(t.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),l.on("click",".swatch",function(){i._colorToPos(o(this).attr("data-color"))}),l.on("click",".add-button",()=>{let B=Farbe.Routines.toHEX(new Farbe.Primitives.HSL(i.hue,i.saturation,i.lightness)).toUpperCase();i.userColors.includes(B)||(i.userColors.push(B),l.find(".user-colors").append(o("<button>").attr("data-color",B).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:B})))}),l.find("input[type=radio]").on("click",function(){h.returnValueType=o(this).val(),i._setColorValues()})},getVal:function(){let i=this.options,l;switch(i.returnValueType.toLowerCase()){case"rgb":l=this.rgb;break;case"rgba":l=this.rgba;break;case"hsl":l=this.hsl;break;case"hsla":l=this.hsla;break;case"hsv":l=this.hsv;break;case"cmyk":l=this.cmyk;break;default:l=this.hex}return i.returnAsString?l.toString():l},val:function(i){if(typeof i>"u")return this.getVal();let l=Farbe.Routines.parse(i);this._colorToPos(l)},user:function(i){if(!t.utils.isValue(i))return this.userColors;!Array.isArray(i)&&typeof i!="string"||(typeof i=="string"?this.userColors=i.toArray(",").map(l=>l.toUpperCase()):this.userColors=i.map(l=>l.toUpperCase()),this._fillUserColors())},_fillUserColors:function(){let i=this.element.find(".user-colors-css").clear();o.each(this.userColors,function(){i.append(o("<button>").attr("data-color",this).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:this}))})},changeAttribute:function(i,l){let h=this.options;i==="data-return-value-type"&&(h.returnValueType=l),i==="data-return-as-string"&&(h.returnValueType=t.utils.bool(l))},destroy:function(){this.element.remove()}}),t.defaults.ColorSelector=e})(Metro,Dom),((t,o)=>{let p={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",duration:100,prepend:"",append:"",label:"",clearButton:!1,clearButtonIcon:"❌",pickerButtonIcon:"🎨",defaultValue:"rgba(0, 0, 0, 0)",openMode:"auto",resultType:"hex",inputThreshold:500,onColorSelected:t.noop,onColorPickerCreate:t.noop};t.colorPickerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroColorPickerSetup<"u"&&t.colorPickerSetup(globalThis.metroColorPickerSetup),t.Component("color-picker",{init:function(e,i){return this._super(i,e,o.extend({},t.defaults.ColorSelector,{showUserColors:!1,showValues:""},p),{value:null,picker:null,colorSelector:null,colorSelectorBox:null,colorExample:null,inputInterval:null,isOpen:!1}),this},_create:function(){let e=this.element,i=this.options,l=e.val();if(!t.pluginExists("color-selector"))throw new Error("Color selector component required!");this.value=Farbe.Routines.isColor(l)?l:Farbe.Routines.isColor(i.defaultValue)?i.defaultValue:"rgba(0,0,0,0)",this._createStructure(),this._createEvents(),this._fireEvent("color-picker-create")},_createStructure:function(){let e=this.element,i=this.options,l=e.wrap(o("<div>").addClass("color-picker").addClass(e[0].className)),h,v=o("<div>").addClass("color-example-box").insertBefore(e);h=o("<div>").addClass("buttons").appendTo(l),h.append(o("<button>").addClass("button color-picker-button").attr("tabindex",-1).attr("type","button").html(i.pickerButtonIcon)),i.clearButton===!0&&!e[0].readOnly&&h.append(o("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon)),t.utils.isValue(i.prepend)&&l.prepend(o("<div>").addClass("prepend").addClass(i.clsPrepend).html(i.prepend)),t.utils.isValue(i.append)&&l.append(o("<div>").html(i.append).addClass("append").addClass(i.clsAppend));let x=o("<div>").addClass("color-selector-box").appendTo(l),w=o("<div>").appendTo(x);if(this.picker=l,this.colorExample=v,this.colorSelector=w,this.colorSelectorBox=x,t.makePlugin(w,"color-selector",{defaultSwatches:i.defaultSwatches,returnValueType:i.resultType,returnAsString:!0,showUserColors:!1,showValues:"",controller:e,showAlphaChannel:!0,inputThreshold:i.inputThreshold,initColor:this.value,readonlyInput:i.readonlyInput,onSelectColor:D=>{this.colorExample.css({backgroundColor:D})},onColorSelectorCreate:i.onColorSelectorCreate}),t.makePlugin(x,"dropdown",{dropFilter:".color-picker",duration:i.duration,toggleElement:[l],checkDropUp:!0,onDrop:()=>{t.getPlugin(w,"color-selector").val(this.value)}}),e[0].className="",i.label){let D=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(l);if(e.attr("id"))D.attr("for",e.attr("id"));else{let M=Hooks.useId(e[0]);D.attr("for",M),e.attr("id",M)}e.attr("dir")==="rtl"&&D.addClass("rtl")}this._setColor()},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_setColor:function(){let e=this.colorExample,i=this.value;(this.value.indexOf("cmyk")!==-1||this.value.indexOf("hsv")!==-1)&&(i=Farbe.Routines.toHEX(this.value)),console.log(i),e.css({backgroundColor:i})},_createEvents:function(){let e=this,i=this.element,l=this.options,h=this.picker,v=this.colorSelector,x=this.colorSelector;h.on(t.events.click,".input-clear-button",w=>{w.preventDefault(),w.stopPropagation(),i.val(l.defaultValue).trigger("change"),t.getPlugin(v,"color-selector").val(l.defaultValue)}),i.on(t.events.inputchange,function(){e.value=this.value,e._setColor()}),x.on(t.events.click,w=>{w.stopPropagation()})},val:function(e){if(typeof e>"u")return this.value;Farbe.Routines.isColor(e)&&(this.value=e,this.element.val(e).trigger("change"),this._setColor())},destroy:function(){let e=this.element,i=this.options,l=e.parent();i.label&&l.prev("label").remove(),l.remove()}}),o(document).on(t.events.click,()=>{o(".color-picker").removeClass("open")})})(Metro,Dom),((t,o)=>{t.contextMenu=(p=[],e=document)=>{function i(l){let h=o("<ul>").addClass("d-menu context-menu").css("display","none");for(let v of l)if(v.type==="divider")h.append(o("<li>").addClass("divider"));else{let x=o("<li>").appendTo(h),w=o("<a>").appendTo(x);if(v.icon&&w.append(o("<span>").addClass("icon").html(v.icon)),w.append(o("<span>").addClass("caption").html(v.text)),w.href(v.href||"#"),v.onclick&&w.on("click",D=>{t.utils.exec(v.onclick,[D,v])}),v.attributes)for(let[D,M]of Object.entries(v.attributes))w.attr(D,M);if(v.disabled&&w.prop("disabled",!0),v.items){let D=i(v.items);x.children("a").addClass("dropdown-toggle"),x.append(D),t.makePlugin(D,"dropdown",{})}}return h[0]}e.context_menu=i(p),e.nodeType===1?e.append(e.context_menu):o("body").append(e.context_menu),e.oncontextmenu=function(l){l.preventDefault(),l.stopPropagation(),o(".context-menu").hide(),this.context_menu.style.left=`${l.pageX}px`,this.context_menu.style.top=`${l.pageY}px`,this.context_menu.style.display="block"}},o(document).on("click",()=>{o(".context-menu").hide()})})(Metro,Dom),((t,o)=>{let p={path:"/",expires:null,maxAge:null,domain:null,secure:!1,samesite:null};t.cookieSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroCookieSetup<"u"&&t.cookieSetup(globalThis.metroCookieSetup),t.cookie={getCookies:()=>{let e=document.cookie.toArray(";"),i={};return o.each(e,function(){let l=this.split("=");i[l[0]]=l[1]}),i},getCookie:e=>{let i=`${encodeURIComponent(e)}=`,l=document.cookie.toArray(";"),h,v;for(h=0;h<l.length;h++){for(v=l[h];v.charAt(0)===" ";)v=v.substring(1,v.length);if(v.indexOf(i)===0)return decodeURIComponent(v.substring(i.length,v.length))}return null},setCookie:(e,i,l)=>{let h,v=encodeURIComponent(e),x=encodeURIComponent(i),w,D=[];l&&typeof l!="object"?(h=new Date,h.setTime(h.getTime()+Number.parseInt(l)),w=o.extend({},p,{expires:h.toUTCString()})):w=o.extend({},p,l),o.each(w,(M,I)=>{M!=="secure"&&I&&D.push(`${Str.dashedName(M)}=${I}`),M==="secure"&&I===!0&&D.push("secure")}),document.cookie=`${v}=${x}; ${D.join("; ")}`},delCookie:function(e){this.setCookie(e,!1,{maxAge:-1})}}})(Metro,Dom),((t,o)=>{let p={name:"cookies_accepted",templateUrl:null,title:"",message:"",duration:"30days",clsContainer:"",clsMessage:"",clsButtons:"",clsAcceptButton:"",clsCancelButton:"",onAccept:t.noop,onDecline:t.noop};t.cookieDisclaimer={init:function(e){let i=t.cookie;this.options=o.extend({},p,e),this.disclaimer=o("<div>"),!i.getCookie(this.options.name)&&(this.locale=o("html").attr("lang")||"en",this.strings=o.extend({},t.locales.en,t.locales[this.locale]),this.options.templateUrl?fetch(this.options.templateUrl).then(t.fetch.text).then(l=>{this.create(l)}):this.create())},create:function(e){let i=t.cookie,l=this.options,h=this.disclaimer;h.addClass("cookie-disclaimer").addClass(l.clsContainer),e?h.append(e):h.html(o("<div class='disclaimer-message'>").addClass(l.clsMessage).html(`
                                <div class="disclaimer-title">${l.title||this.strings.label_cookies_title}</div>
                                <div class="disclaimer-text">${l.message||this.strings.label_cookies_text}</div>
                            `));let v=o("<div>").addClass("disclaimer-actions").addClass(l.clsButtons).append(o("<button>").addClass("button cookie-accept-button").addClass(l.clsAcceptButton).html(this.strings.label_accept)).append(o("<button>").addClass("button cookie-cancel-button").addClass(l.clsCancelButton).html(this.strings.label_cancel));v.appendTo(h),l.customButtons&&o.each(l.customButtons,function(){let x=o("<button>").addClass("button cookie-custom-button").addClass(this.cls).html(this.text);x.on("click",()=>{t.utils.exec(this.onclick)}),x.appendTo(v)}),h.appendTo(o("body")),h.on(t.events.click,".cookie-accept-button",()=>{let x=0,w=`${l.duration}`.toArray(" ");o.each(w,function(){let D=`${this}`;D.includes("day")?x+=Number.parseInt(D)*24*60*60*1e3:D.includes("hour")?x+=Number.parseInt(D)*60*60*1e3:D.includes("min")?x+=Number.parseInt(D)*60*1e3:D.includes("sec")?x+=Number.parseInt(D)*1e3:x+=Number.parseInt(D)}),i.setCookie(l.name,!0,x),t.utils.exec(l.onAccept),h.remove()}),h.on(t.events.click,".cookie-cancel-button",()=>{t.utils.exec(l.onDecline),h.remove()})}}})(Metro,Dom),((t,o)=>{let p={countdownDeferred:0,stopOnBlur:!0,animate:"none",ease:"linear",duration:600,inputFormat:null,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,fontSize:24,clsCountdown:"",clsPart:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onAlarm:t.noop,onTick:t.noop,onZero:t.noop,onBlink:t.noop,onCountdownCreate:t.noop};t.countdownSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroCountdownSetup<"u"&&t.countdownSetup(globalThis.metroCountdownSetup),t.Component("countdown",{init:function(e,i){return this._super(i,e,p,{breakpoint:new Date().getTime(),blinkInterval:null,tickInterval:null,zeroDaysFired:!1,zeroHoursFired:!1,zeroMinutesFired:!1,zeroSecondsFired:!1,fontSize:0,current:{d:0,h:0,m:0,s:0},inactiveTab:!1,id:t.utils.elementId("countdown"),duration:600}),this},_create:function(){let e=this.options;this.duration=+e.duration<=0||+e.duration>=1e3?1e3:+e.duration,this._build(),this._createEvents()},_setBreakpoint:function(){let e=this.options,i=864e5,l=36e5,h=6e4,v=1e3;this.breakpoint=datetime().time(),e.date&&(this.breakpoint=(e.inputFormat?Datetime.from(e.date,e.inputFormat):datetime(e.date)).time()),Number.parseInt(e.days)>0&&(this.breakpoint+=Number.parseInt(e.days)*i),Number.parseInt(e.hours)>0&&(this.breakpoint+=Number.parseInt(e.hours)*l),Number.parseInt(e.minutes)>0&&(this.breakpoint+=Number.parseInt(e.minutes)*h),Number.parseInt(e.seconds)>0&&(this.breakpoint+=Number.parseInt(e.seconds)*v)},_build:function(){let e=this.element,i=this.options,l=["days","hours","minutes","seconds"],h=24*60*60*1e3,v=datetime().time(),x=this.strings;e.attr("id")||e.attr("id",t.utils.elementId("countdown")),e.addClass("countdown").addClass(`animate-${i.animate}`).addClass(i.clsCountdown),e.css("font-size",i.fontSize),this._setBreakpoint();let w=Math.round((this.breakpoint-v)/h);o.each(l,function(){let M=o("<div>").addClass(`part ${this}`).addClass(i.clsPart).attr("data-label",x[`label_${this}`]).appendTo(e);if(this==="days"&&M.addClass(i.clsDays),this==="hours"&&M.addClass(i.clsHours),this==="minutes"&&M.addClass(i.clsMinutes),this==="seconds"&&M.addClass(i.clsSeconds),o("<div>").addClass("digit").appendTo(M),o("<div>").addClass("digit").appendTo(M),this==="days"&&w>=100)for(let I=0;I<Math.floor(w/100)-2;I++)o("<div>").addClass("digit").appendTo(M)});let D=e.find(".digit");D.append(o("<span class='digit-placeholder'>").html("0")),D.append(o("<span class='digit-value'>").html("0")),this._fireEvent("countdown-create",{element:e}),i.start===!0?this.start():this.tick(),this.fontSize=Number.parseInt(e.css("font-size"))},_createEvents:function(){o(document).on("visibilitychange",()=>{document.hidden?this.pause():this.resume()},{ns:this.id})},blink:function(){this.element.toggleClass("blink"),this._fireEvent("blink",{time:this.current})},tick:function(){let e=this.element,i=this.options,l=24*60*60,h=60*60,v=60,x=1,w,D=datetime().time(),M,I,B,Y,X=e.find(".days"),ie=e.find(".hours"),Fe=e.find(".minutes"),Ve=e.find(".seconds");if(w=Math.floor((this.breakpoint-D)/1e3),w<=-1){this.stop(),e.addClass(i.clsAlarm),this._fireEvent("alarm",{time:D});return}M=Math.floor(w/l),w-=M*l,this.current.d!==M&&(this.current.d=M,this.draw("days",M)),M===0&&this.zeroDaysFired===!1&&(this.zeroDaysFired=!0,X.addClass(i.clsZero),this._fireEvent("zero",{part:"days",value:X})),I=Math.floor(w/h),w-=I*h,this.current.h!==I&&(this.current.h=I,this.draw("hours",I)),M===0&&I===0&&this.zeroHoursFired===!1&&(this.zeroHoursFired=!0,ie.addClass(i.clsZero),this._fireEvent("zero",{part:"hours",value:ie})),B=Math.floor(w/v),w-=B*v,this.current.m!==B&&(this.current.m=B,this.draw("minutes",B)),M===0&&I===0&&B===0&&this.zeroMinutesFired===!1&&(this.zeroMinutesFired=!0,Fe.addClass(i.clsZero),this._fireEvent("zero",{part:"minutes",value:Fe})),Y=Math.floor(w/x),this.current.s!==Y&&(this.current.s=Y,this.draw("seconds",Y)),M===0&&I===0&&B===0&&Y===0&&this.zeroSecondsFired===!1&&(this.zeroSecondsFired=!0,Ve.addClass(i.clsZero),this._fireEvent("zero",{part:"seconds",value:Ve})),this._fireEvent("tick",{days:M,hours:I,minutes:B,seconds:Y})},draw:function(e,i){let l=this.element,h=this.options,v,x,w,D,M,I,B,Y=this.duration,X=this.fontSize||Number.parseInt(getComputedStyle(l[0]).getPropertyValue("font-size")),ie=(ze,De)=>{let Oe=ze.height();ze.siblings(".-old-digit").remove();let Me=ze.clone().appendTo(ze.parent());Me.css({top:`${-1*Oe}px`}),ze.addClass("-old-digit").animate({draw:{top:Oe,opacity:0},dur:Y,ease:h.ease,onDone:function(){o(this).remove()}}),Me.html(De).animate({draw:{top:0,opacity:[0,1]},dur:Y,ease:h.ease})},Fe=(ze,De)=>{ze.siblings(".-old-digit").remove();let Oe=ze.clone().appendTo(ze.parent());Oe.css({opacity:0}),ze.addClass("-old-digit").animate({draw:{opacity:0},dur:Y/2,ease:h.ease,onDone:function(){o(this).remove()}}),Oe.html(De).animate({draw:{opacity:1},dur:Y/2,ease:h.ease})},Ve=(ze,De)=>{let Oe=l.height(),Me=X;ze.siblings(".-old-digit").remove();let Ie=ze.clone().appendTo(ze.parent());Ie.css({top:0,left:0,opacity:1}),ze.addClass("-old-digit").animate({draw:{top:Oe,opacity:0,fontSize:0},dur:Y,ease:h.ease,onDone:function(){o(this).remove()}}),Ie.html(De).animate({draw:{top:0,opacity:1,fontSize:[0,Me]},dur:Y,ease:h.ease})},He=`${i}`;for(He.length===1&&(He=`0${i}`),I=He.length,v=l.find(`.${e} .digit:not(.-old-digit)`),x=v.length,l.find(".-old-digit").remove(),B=0;B<I;B++)if(M=v.eq(x-1).find(".digit-value"),w=Math.floor(Number.parseInt(i)/10**B)%10,D=Number.parseInt(M.text()),x--,D!==w)switch(`${h.animate}`.toLowerCase()){case"slide":ie(M,w);break;case"fade":Fe(M,w);break;case"zoom":Ve(M,w);break;default:M.html(w)}},start:function(){let e=this.element;e.data("paused")!==!1&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.data("paused",!1),this._setBreakpoint(),this.tick(),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3))},stop:function(){let e=this.element;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.data("paused",!0),e.find(".digit").html("0"),this.current={d:0,h:0,m:0,s:0}},pause:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data("paused",!0)},resume:function(){this.element.data("paused",!1),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3)},reset:function(){let e=this.element,i=this.options;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.find(".part").removeClass(i.clsZero);let l=e.find(".digit").clear();l.append(o("<span class='digit-placeholder'>").html("0")),l.append(o("<span class='digit-value'>").html("0")),this._setBreakpoint(),e.data("paused",!1),this.tick(),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3)},resetWith:function(e){let i=this.element,l=this.options;if(typeof e=="string")i.attr("data-date",e),l.date=e;else if(typeof e=="object"){let h=["days","hours","minutes","seconds"];o.each(h,(v,x)=>{t.utils.isValue(e[x])&&(i.attr(`data-${x}`,e[x]),l[x]=e[x])})}this.reset()},togglePlay:function(){this.element.attr("data-pause")===!0?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getBreakpoint:function(e){return e===!0?new Date(this.breakpoint):this.breakpoint},getLeft:function(){let e=new Date().getTime(),i=Math.floor(this.breakpoint-e);return{days:Math.round(i/864e5),hours:Math.round(i/36e5),minutes:Math.round(i/6e4),seconds:Math.round(i/1e3)}},changeAttribute:function(e,i){switch(e){case"data-pause":this.togglePlay();break;case"data-duration":this.duration=+i<=0||+i>=1e3?600:+i;break}},destroy:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),o(document).off("visibilitychange",{ns:this.id}),this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={startOnViewport:!1,counterDeferred:0,duration:2e3,value:0,from:0,timeout:0,delimiter:",",prefix:"",suffix:"",size:16,onStart:t.noop,onStop:t.noop,onTick:t.noop,onCounterCreate:t.noop};t.counterSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroCounterSetup<"u"&&t.counterSetup(globalThis.metroCounterSetup),t.Component("counter",{init:function(e,i){return this._super(i,e,p,{numbers:[],html:o(i).html(),started:!1,id:t.utils.elementId("counter")}),this},_create:function(){this._createStruct(),this._createEvents(),this._fireEvent("counter-create")},_createStruct:function(){let e=this.element;this.elem,this.options,this.elem.value=0,e.css("font-size",this.options.size)},_createEvents:function(){this.options.startOnViewport&&Hooks.useEvent({effect:()=>{this.start()},target:this.elem,event:Hooks.EVENTS.VIEWPORT})},start:function(e,i){let l=this,h=this.elem,v=this.options;t.utils.isValue(i)&&(v.from=+i),t.utils.isValue(e)&&(v.value=+e),this.started=!0;let x=v.from,w=v.value;this._fireEvent("start"),o.animate({el:h,draw:{value:[x,w]},defer:v.timeout,dur:v.duration,onFrame:function(){l._fireEvent("tick",{value:this.value}),this.innerHTML=v.prefix+Number(this.value).format(0,0,v.delimiter)+v.suffix},onDone:()=>{l._fireEvent("stop")}})},reset:function(){this.started=!1,this.element.html(this.html)},changeAttribute:function(e,i){let l=this.options;e==="data-value"&&(l.value=+i),e==="data-from"&&(l.from=+i)},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={cubeDeferred:0,rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:"arrow",cellClick:!1,autoRestart:5e3,clsCube:"",clsCell:"",clsSide:"",clsSideLeft:"",clsSideRight:"",clsSideTop:"",clsSideLeftCell:"",clsSideRightCell:"",clsSideTopCell:"",clsAxis:"",clsAxisX:"",clsAxisY:"",clsAxisZ:"",custom:t.noop,onTick:t.noop,onCubeCreate:t.noop};t.cubeSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroCubeSetup<"u"&&t.cubeSetup(globalThis.metroCubeSetup),t.cubeDefaultRules=[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],t.Component("cube",{init:function(e,i){return this._super(i,e,p,{id:t.utils.elementId("cube"),rules:null,interval:!1,ruleInterval:!1,running:!1,intervals:[]}),this},_create:function(){let e=this.element,i=this.options;i.rules===null?this.rules=t.cubeDefaultRules:this._parseRules(i.rules),this._createCube(),this._createEvents(),this._fireEvent("cube-create",{element:e})},_parseRules:function(e){if(e==null)return!1;if(t.utils.isObject(e))return this.rules=t.utils.isObject(e),!0;try{return this.rules=JSON.parse(e),!0}catch{return console.warn("Unknown or empty rules for cell flashing!"),!1}},_createCube:function(){let e=this.element,i=this.options,l=["left","right","top"],h=t.utils.elementId("cube"),v=i.cells**2;e.addClass("cube").addClass(i.clsCube),e.attr("id")||e.attr("id",h),this.id=e.attr("id"),this._createCssForFlashColor(),this._createCssForCellSize(),o.each(l,function(){let D;D=o("<div>").addClass(`side ${this}-side`).addClass(i.clsSide).appendTo(e),this==="left"&&D.addClass(i.clsSideLeft),this==="right"&&D.addClass(i.clsSideRight),this==="top"&&D.addClass(i.clsSideTop);for(let M=0;M<v;M++){let I=o("<div>").addClass("cube-cell").addClass(`cell-id-${M+1}`).addClass(i.clsCell);I.data("id",M+1).data("side",this),I.appendTo(D),i.numbers===!0&&I.html(M+1)}});let x=e.find(".cube-cell");i.color!==null&&(Farbe.Routines.isColor(i.color)?x.css({backgroundColor:i.color,borderColor:i.color}):x.addClass(i.color));let w=["x","y","z"];o.each(w,function(){let D=o("<div>").addClass(`axis ${i.axisStyle}`).addClass(`axis-${this}`).addClass(i.clsAxis);this==="x"&&D.addClass(i.clsAxisX),this==="y"&&D.addClass(i.clsAxisY),this==="z"&&D.addClass(i.clsAxisZ),D.appendTo(e)}),i.showAxis===!1&&e.find(".axis").hide(),this._run()},_run:function(){let e=this.element,i=this.options,l=0;clearInterval(this.interval),e.find(".cube-cell").removeClass("light"),i.custom!==t.noop?t.utils.exec(i.custom,[e]):(e.find(".cube-cell").removeClass("light"),this._start(),l=t.utils.isObject(this.rules)?t.utils.objectLength(this.rules):0,this.interval=setInterval(()=>{this._start()},l*i.flashInterval))},_createCssForCellSize:function(){let e=this.element,i=this.options,l=t.sheet;if(i.margin===8&&i.cells===4)return;let h=Number.parseInt(t.utils.getStyleOne(e,"width")),v=Math.ceil((h/2-i.margin*i.cells*2)/i.cells);t.utils.addCssRule(l,`#${e.attr("id")} .side .cube-cell`,`width: ${v}px!important; height: ${v}px!important; margin: ${i.margin}px!important;`)},_createCssForFlashColor:function(){let e=this.element,i=this.options,l=t.sheet,h,v,x=[],w=[],D;if(i.flashColor!==null){for(h=`0 0 10px ${Farbe.Routines.toRGBA(Farbe.Routines.parse(i.flashColor),1)}`,v=`0 0 10px ${Farbe.Routines.toRGBA(Farbe.Routines.parse(i.flashColor),i.attenuation)}`,D=0;D<3;D++)x.push(h),w.push(v);t.utils.addCssRule(l,`@keyframes pulsar-cell-${e.attr("id")}`,`0%, 100% { box-shadow: ${x.join(",")}} 50% { box-shadow: ${w.join(",")} }`),t.utils.addCssRule(l,`#${e.attr("id")} .side .cube-cell.light`,`animation: pulsar-cell-${e.attr("id")} 2.5s 0s ease-out infinite; background-color: ${i.flashColor}!important; border-color: ${i.flashColor}!important;`)}},_createEvents:function(){let e=this.element,i=this.options;o(globalThis).on(t.events.blur,()=>{i.stopOnBlur===!0&&this.running===!0&&this._stop()},{ns:e.attr("id")}),o(globalThis).on(t.events.focus,()=>{i.stopOnBlur===!0&&this.running===!1&&this._start()},{ns:e.attr("id")}),e.on(t.events.click,".cube-cell",function(){i.cellClick===!0&&o(this).toggleClass("light")})},_start:function(){this.element.find(".cube-cell").removeClass("light"),this.running=!0,o.each(this.rules,(e,i)=>{this._execRule(e,i)})},_stop:function(){this.running=!1,clearInterval(this.interval),o.each(this.intervals,function(){clearInterval(this)})},_tick:function(e,i){let l=this.options,h=i||l.flashInterval*e,v=setTimeout(()=>{this._fireEvent("tick",{index:e}),clearInterval(v),t.utils.arrayDelete(this.intervals,v)},h);this.intervals.push(v)},_toggle:function(e,i,l,h){let v=h||this.options.flashInterval*l,x=setTimeout(()=>{e[i==="on"?"addClass":"removeClass"]("light"),clearInterval(x),t.utils.arrayDelete(this.intervals,x)},v);this.intervals.push(x)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(e,i){let l=this.element,h=this.options,v=this.rules;if(!(v==null||v[e]===void 0)){clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),l.find(".cube-cell").removeClass("light");for(let x=0;x<=e;x++)this._execRule(x,v[x],i);t.utils.isInt(h.autoRestart)&&h.autoRestart>0&&(this.ruleInterval=setTimeout(()=>{this._run()},h.autoRestart))}},_execRule:function(e,i,l){let h=this,v=this.element,x=["left","right","top"];this._tick(e,l),o.each(x,function(){var I,B;let w=`.${this}-side`,D=(I=i.on)!=null&&I[this]?i.on[this]:!1,M=(B=i.off)!=null&&B[this]?i.off[this]:!1;D!==!1&&o.each(D,function(){let Y=v.find(`${w} .cell-id-${this}`);h._toggle(Y,"on",e,l)}),M!==!1&&o.each(M,function(){let Y=v.find(`${w} .cell-id-${this}`);h._toggle(Y,"off",e,l)})})},rule:function(e){if(e===void 0)return this.rules;this._parseRules(e)===!0&&(this.options.rules=e,this.stop(),this.element.find(".cube-cell").removeClass("light"),this._run())},axis:function(e){let i=e?"show":"hide";this.element.find(".axis")[i]()},changeRules:function(){let e=this.element,i=this.options,l=e.attr("data-rules");this._parseRules(l)===!0&&(this.stop(),e.find(".cube-cell").removeClass("light"),i.rules=l,this._run())},changeAxisVisibility:function(){let e=this.element,i=JSON.parse(e.attr("data-show-axis"))===!0?"show":"hide";e.find(".axis")[i]()},changeAxisStyle:function(){let e=this.element,i=e.attr("data-axis-style");e.find(".axis").removeClass("arrow line no-style").addClass(i)},changeAttribute:function(e){switch(e){case"data-rules":this.changeRules();break;case"data-show-axis":this.changeAxisVisibility();break;case"data-axis-style":this.changeAxisStyle();break}},destroy:function(){let e=this.element;return clearInterval(this.interval),this.interval=null,o(globalThis).off(t.events.blur,{ns:e.attr("id")}),o(globalThis).off(t.events.focus,{ns:e.attr("id")}),e.off(t.events.click,".cube-cell"),e}})})(Metro,Dom),((t,o)=>{let p={customCheckboxDeferred:0,stateOn:"✓",stateOff:"✗",captionOn:"",captionOff:"",captionPosition:"right",clsCustomCheckbox:"",clsIcon:"",clsIconOn:"",clsIconOff:"",clsCaption:"",clsCaptionOn:"",clsCaptionOff:"",onCustomCheckboxCreate:t.noop};t.customCheckboxSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroCustomCheckboxSetup<"u"&&t.customCheckboxSetup(globalThis.metroCustomCheckboxSetup),t.Component("custom-checkbox",{init:function(e,i){return this._super(i,e,p),this},_create:function(){let e=this.element,i=this.options,l=e.wrap(o("<label>").addClass("custom-checkbox").addClass(i.clsCustomCheckbox)),h=o("<span>").addClass("icon").addClass(i.clsIcon).appendTo(l);if(e.attr("type","checkbox"),e.attr("readonly")&&e.on("click",v=>{v.preventDefault()}),i.stateOn&&o("<span>").addClass("state-on").addClass(i.clsIconOn).html(i.stateOn).appendTo(h),i.stateOff&&o("<span>").addClass("state-off").addClass(i.clsIconOff).html(i.stateOff).appendTo(h),i.captionOn||i.captionOff){let v=o("<span>").addClass("caption").addClass(i.clsCaption).appendTo(l);i.captionOn&&o("<span>").addClass("caption-state-on").addClass(i.clsCaptionOn).html(i.captionOn).appendTo(v),i.captionOff&&o("<span>").addClass("caption-state-off").addClass(i.clsCaptionOff).html(i.captionOff).appendTo(v)}i.captionPosition==="left"&&l.addClass("caption-left"),e[0].className="",e.is(":disabled")?this.disable():this.enable(),this._fireEvent("customCheckbox-create")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(e){let i=this.element;return t.utils.isValue(e)?i.prop("checked",e===1):i.prop("checked",!t.utils.bool(i.prop("checked"))),this},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break}},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let p={label:"",datepickerDeferred:0,gmt:0,format:"YYYY-MM-DD",inputFormat:null,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,defaultYearDistance:100,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsMonth:"",clsDay:"",clsYear:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"✓",cancelButtonIcon:"𐄂",onSet:t.noop,onOpen:t.noop,onClose:t.noop,onScroll:t.noop,onDatePickerCreate:t.noop};t.datePickerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroDatePickerSetup<"u"&&t.datePickerSetup(globalThis.metroDatePickerSetup),t.Component("date-picker",{init:function(e,i){return this._super(i,e,p,{picker:null,isOpen:!1,value:datetime(),listTimer:{day:null,month:null,year:null}}),this},_create:function(){let e=this.element,i=this.options,l=this.locale,h=datetime();i.distance<1&&(i.distance=1),t.utils.isValue(e.val())&&(i.value=e.val()),t.utils.isValue(i.value)&&(this.value=i.inputFormat?Datetime.from(i.value,i.inputFormat,l):datetime(i.value)),i.minYear===null&&(i.minYear=h.year()-i.defaultYearDistance),i.maxYear===null&&(i.maxYear=h.year()+i.defaultYearDistance),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("datepicker-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l=this.locale,h,v,x,w,D,M,I,B;if(t.utils.elementId("datepicker"),h=o("<div>").addClass(`wheel-picker date-picker ${e[0].className}`).addClass(i.clsPicker),h.attr("id")||h.attr("id",Hooks.useId(e[0])),h.insertBefore(e),e.appendTo(h),i.label){let ie=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(h);e.attr("id")&&ie.attr("for",e.attr("id")),e.attr("dir")==="rtl"&&ie.addClass("rtl")}I=o("<div>").addClass("date-wrapper").appendTo(h),i.month===!0&&(v=o("<div>").addClass("month").addClass(i.clsPart).addClass(i.clsMonth).appendTo(I)),i.day===!0&&(x=o("<div>").addClass("day").addClass(i.clsPart).addClass(i.clsDay).appendTo(I)),i.year===!0&&(w=o("<div>").addClass("year").addClass(i.clsPart).addClass(i.clsYear).appendTo(I));let Y=o("<div>").addClass("select-wrapper").appendTo(h);if(B=o("<div>").addClass("select-block").appendTo(Y),i.month===!0){for(v=o("<ul>").addClass("sel-month").appendTo(B),D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(v);for(D=0;D<12;D++){let ie=Datetime.getLocale(l).months[D];o("<li>").addClass(`js-month-${D} js-month-real-${ie.toLowerCase()}`).html(ie).data("value",D).appendTo(v)}for(D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(v)}if(i.day===!0){for(x=o("<ul>").addClass("sel-day").appendTo(B),D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(x);for(D=0;D<31;D++)o("<li>").addClass(`js-day-${D} js-day-real-${D+1}`).html(D+1).data("value",D+1).appendTo(x);for(D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(x)}if(i.year===!0){for(w=o("<ul>").addClass("sel-year").appendTo(B),D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(w);for(D=i.minYear,M=0;D<=i.maxYear;D++,M++)o("<li>").addClass(`js-year-${M} js-year-real-${D}`).html(D).data("value",D).appendTo(w);for(D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(w)}B.height((i.distance*2+1)*40);let X=o("<div>").addClass("action-block").appendTo(Y);if(o("<button>").attr("type","button").addClass("button action-today").addClass(i.clsButton).addClass(i.clsTodayButton).html(`<span class="caption">${this.strings.label_today}</span>`).appendTo(X),o("<button>").attr("type","button").addClass("button action-ok").addClass(i.clsButton).addClass(i.clsOkButton).html(`<span class="icon">${i.okButtonIcon}</span>`).appendTo(X),o("<button>").attr("type","button").addClass("button action-cancel").addClass(i.clsButton).addClass(i.clsCancelButton).html(`<span class="icon">${i.cancelButtonIcon}</span>`).appendTo(X),e[0].className="",i.copyInlineStyles===!0)for(D=0;D<e[0].style.length;D++)h.css(e[0].style[D],e.css(e[0].style[D]));e.prop("disabled")&&h.addClass("disabled"),this.picker=h},_createEvents:function(){let e=this,i=this.options,l=this.picker;l.on("touchstart",".select-block ul",function(v){if(v.changedTouches)return;let x=t.utils.pageXY(v).y;o(document).on("touchmove",w=>{this.scrollTop-=i.scrollSpeed*(x>t.utils.pageXY(w).y?-1:1),x=t.utils.pageXY(w).y},{ns:l.attr("id")}),o(document).on("touchend",()=>{o(document).off(t.events.move,{ns:l.attr("id")}),o(document).off(t.events.stop,{ns:l.attr("id")})},{ns:l.attr("id")})}),l.on(t.events.click,v=>{e.isOpen===!1&&e.open(),v.stopPropagation()}),l.on(t.events.click,".action-ok",v=>{let x=l.find(".sel-month li.active"),w=l.find(".sel-day li.active"),D=l.find(".sel-year li.active"),M=x.length===0?e.value.value.getMonth():x.data("value"),I=w.length===0?e.value.value.getDate():w.data("value"),B=D.length===0?e.value.value.getFullYear():D.data("value");e.value=datetime(B,M,I),e._set(),e.close(),v.preventDefault(),v.stopPropagation()}),l.on(t.events.click,".action-cancel",v=>{e.close(),v.preventDefault(),v.stopPropagation()});let h=150;o.each(["month","day","year"],function(){let v=l.find(`.sel-${this}`),x=Hooks.useDebounce(w=>{e.listTimer[this]=null;let D=Math.round(Math.ceil(v.scrollTop())/40),M=v.find(`.js-${this}-${D}`),I=M.position().top-i.distance*40;v.find(".active").removeClass("active"),v[0].scrollTop=I,M.addClass("active"),t.utils.exec(i.onScroll,[M,v,l],v[0])},h);v.on("scroll",x)}),l.on(t.events.click,"ul li",function(v){let x=o(this),w=x.closest("ul"),D=x.position().top-i.distance*40;w.find(".active").removeClass("active"),o.animate({el:w[0],draw:{scrollTop:D},dur:300}),w[0].scrollTop=D,x.addClass("active"),t.utils.exec(i.onScroll,[x,w,l],w[0])}),l.on(t.events.click,".action-today",v=>{let x=datetime(),w=x.month(),D=x.day(),M=x.year();l.find(`.sel-month li.js-month-${w}`).click(),l.find(`.sel-day li.js-day-real-${D}`).click(),l.find(`.sel-year li.js-year-real-${M}`).click(),v.preventDefault(),v.stopPropagation()})},_correct:function(){let e=this.value.month(),i=this.value.day(),l=this.value.year();this.value=datetime(l,e,i)},_set:function(){let e=this.element,i=this.options,l=this.picker,h=Datetime.getLocale(this.locale).months[this.value.month()],v=this.value.day(),x=this.value.year();i.month===!0&&l.find(".month").html(h),i.day===!0&&l.find(".day").html(v),i.year===!0&&l.find(".year").html(x),e.val(this.value.format(i.format,this.locale)).trigger("change"),this._fireEvent("set",{value:this.value.val(),elementValue:e.val(),picker:l})},open:function(){let e=this.options,i=this.picker,l=this.value.month(),h=this.value.day()-1,v=this.value.year(),x=i.find(".select-wrapper");if(o.each(o(".date-picker"),function(){o(this).find("input").each(function(){t.getPlugin(this,"datepicker").close()})}),x.show(0),i.find("li").removeClass("active"),e.openMode==="auto"?(t.utils.inViewport(x[0])||x.parent().addClass("drop-up-select"),t.utils.inViewport(x[0])||(x.parent().removeClass("drop-up-select"),x.parent().addClass("drop-as-dialog"))):e.openMode==="dialog"?x.parent().addClass("drop-as-dialog"):e.openMode==="up"&&x.parent().addClass("drop-up-select"),e.month===!0){let w=i.find(".sel-month");w.scrollTop(0).animate({draw:{scrollTop:w.find(`li.js-month-${l}`).addClass("active").position().top-40*e.distance},dur:100})}if(e.day===!0){let w=i.find(".sel-day");w.scrollTop(0).animate({draw:{scrollTop:w.find(`li.js-day-${h}`).addClass("active").position().top-40*e.distance},dur:100})}if(e.year===!0){let w=i.find(".sel-year");w.scrollTop(0).animate({draw:{scrollTop:w.find(`li.js-year-real-${v}`).addClass("active").position().top-40*e.distance},dur:100})}this.isOpen=!0,this._fireEvent("open",{value:this.value.val(),picker:i})},close:function(){let e=this.picker,i=this.options;e.find(".select-wrapper").hide(0),i.openMode==="auto"&&e.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{value:this.value.val(),picker:e})},val:function(e){let i=this.options;if(!t.utils.isValue(e))return this.element.val();this.value=i.inputFormat?Datetime.from(e,i.inputFormat,this.locale):datetime(e),this._set()},date:function(e,i){if(e===void 0)return this.value.val();try{this.value=Datetime.from(e,i,this.locale),this._set()}catch{return!1}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,i){switch(e){case"disabled":this.toggleState();break;case"data-value":this.val(i);break;case"data-format":this.options.format=i,this._set();break}},destroy:function(){let e=this.element,i=this.picker;return o.each(["moth","day","year"],function(){i.find(`.sel-${this}`).off("scroll")}),i.off(t.events.start,".select-block ul"),i.off(t.events.click),i.off(t.events.click,".action-ok"),i.off(t.events.click,".action-cancel"),e}}),o(document).on(t.events.click,()=>{o.each(o(".date-picker"),function(){o(this).find("input").each(function(){t.getPlugin(this,"datepicker").close()})})})})(Metro,Dom),((t,o)=>{let p={note:`
    <svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8.75 3.5V2C8.75 1.59 8.41 1.25 8 1.25C7.59 1.25 7.25 1.59 7.25 2V3.56C7.5 3.53 7.73 3.5 8 3.5H8.75Z"/>
        <path d="M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H16C16.27 3.5 16.5 3.53 16.75 3.56Z"/>
        <path d="M16.75 3.56V5C16.75 5.41 16.41 5.75 16 5.75C15.59 5.75 15.25 5.41 15.25 5V3.5H8.75V5C8.75 5.41 8.41 5.75 8 5.75C7.59 5.75 7.25 5.41 7.25 5V3.56C4.3 3.83 3 5.73 3 8.5V17C3 20 4.5 22 8 22H16C19.5 22 21 20 21 17V8.5C21 5.73 19.7 3.83 16.75 3.56ZM12 16.75H8C7.59 16.75 7.25 16.41 7.25 16C7.25 15.59 7.59 15.25 8 15.25H12C12.41 15.25 12.75 15.59 12.75 16C12.75 16.41 12.41 16.75 12 16.75ZM16 11.75H8C7.59 11.75 7.25 11.41 7.25 11C7.25 10.59 7.59 10.25 8 10.25H16C16.41 10.25 16.75 10.59 16.75 11C16.75 11.41 16.41 11.75 16 11.75Z"/>
    </svg>
    `,info:`
    <svg width="800px" height="800px" viewBox="-160 0 512 512" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"/>
    </svg>
    `,warning:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 294.995 294.995" xml:space="preserve">
        <path d="M291.874,248.279L165.605,26.526c-4.007-7.037-10.776-11.26-18.107-11.26s-14.101,4.202-18.107,11.239L3.121,248.238 c-3.979,6.989-4.164,15.013-0.493,21.326c3.67,6.313,10.663,10.165,18.705,10.165h252.329c8.042,0,15.035-3.852,18.705-10.165 C296.038,263.251,295.854,255.268,291.874,248.279z M146.665,86.229c9.665,0,17.5,7.835,17.5,17.5v63c0,9.665-7.835,17.5-17.5,17.5 c-9.665,0-17.5-7.835-17.5-17.5v-63C129.165,94.064,137,86.229,146.665,86.229z M147.498,204.005c9.665,0,17.5,7.835,17.5,17.5 c0,9.665-7.835,17.5-17.5,17.5c-9.665,0-17.5-7.835-17.5-17.5C129.998,211.84,137.833,204.005,147.498,204.005z"/>
    </svg>
    `,caution:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"  xml:space="preserve">
        <path class="st0" d="M387.317,0.005H284.666h-57.332h-102.65L0,124.688v102.67v57.294v102.67l124.684,124.674h102.65h57.332
            h102.651L512,387.321v-102.67v-57.294v-102.67L387.317,0.005z M255.45,411.299c-19.082,0-34.53-15.467-34.53-34.549
            c0-19.053,15.447-34.52,34.53-34.52c19.082,0,34.53,15.467,34.53,34.52C289.98,395.832,274.532,411.299,255.45,411.299z
             M283.414,278.692c0,15.448-12.516,27.964-27.964,27.964c-15.458,0-27.964-12.516-27.964-27.964l-6.566-135.368
            c0-19.072,15.447-34.54,34.53-34.54c19.082,0,34.53,15.467,34.53,34.54L283.414,278.692z"/>
    </svg>
    `,tip:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 256 256" xml:space="preserve">
        <path d="M216.2,92.5c-5.2-5.3-13.8-5.4-19-0.1L157.8,134l-0.3,0.3c-25.5,0.1-46.2,16.8-46.2,37.3h-5.8c0-23.6,23.1-42.8,51.6-43.1
            l-0.1-19.4c0,0-0.1-85.4-0.1-85.5c-0.7-5.8-5.6-10.3-11.7-10.3c-6.5,0-11.7,5.3-11.7,11.7c0,0.2,0,72.9,0,72.9l-5.2,0.2l-0.1-81.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8v81h-5.6l0.1-63.6c0-6.5-5.3-11.7-11.8-11.7S75.7,28,75.7,34.4V98h-5.2l0.1-34.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8c0,108.4,0,108.4,0,111c0,13.2,6.8,24.4,16.2,28.1v48.4h0.2v0.4l81.2-0.4v-51.1
            c2.5-0.9,5.1-2,7.6-3.3c15.4-7.9,26.1-20.3,29.5-32.5c2.9-4.3,36.8-56.2,36.8-56.2C221.4,103.7,220.6,96.9,216.2,92.5z"/>
    </svg>  
    `,success:`
        <svg width="800px" height="800px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path d="M24,2A22,22,0,1,0,46,24,21.9,21.9,0,0,0,24,2ZM35.4,18.4l-14,14a1.9,1.9,0,0,1-2.8,0l-5.9-5.9a2.2,2.2,0,0,1-.4-2.7,2,2,0,0,1,3.1-.2L20,28.2,32.6,15.6a2,2,0,0,1,2.8,2.8Z"/>
        </svg>    
    `},e={directive:"note",showIcon:!0,title:"default",style:1,onDirectiveCreate:t.noop};t.directiveSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroDirectiveSetup<"u"&&t.directiveSetup(globalThis.metroDirectiveSetup),t.Component("directive",{init:function(i,l){return this._super(l,i,e,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("directive-create")},_createStructure:function(){let i=this.element,l=this.options,h=i.wrap("<div>").addClass("directive").addClass(`directive-style-${l.style}`).addClass(`directive-${l.directive}`),v=o("<div>").addClass("directive-title").html(l.title==="default"?this.strings[`label_${l.directive.toLowerCase()}`].toUpperCase():l.title);l.showIcon&&v.prepend(o("<span>").addClass("icon").html(p[l.directive])),h.prepend(v),this.component=h},_createEvents:()=>{},changeAttribute:(i,l)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={donutDeferred:0,size:100,hole:.8,value:0,background:"transparent",color:"",stroke:"#d1d8e7",fill:"#49649f",fontSize:0,total:100,cap:"%",showText:!0,showValue:!1,animate:0,onChange:t.noop,onDrawValue:e=>e,onDonutCreate:t.noop};t.donutSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroDonutSetup<"u"&&t.donutSetup(globalThis.metroDonutSetup),t.Component("donut",{init:function(e,i){return this._super(i,e,p,{value:0,animation_change_interval:null}),this},_create:function(){let e=this.element,i=this.options;e.addClass("donut"),this._setElementSize(),this._draw(),this._addEvents(),this.val(i.value),this._fireEvent("donut-create",{element:e})},_setElementSize:function(){let e=this.element,i=this.options,l=i.size;e.css({width:l,background:i.background}),e.css({height:e.width()})},_draw:function(){let e=this.element,i=this.options,l="",h=e.width()/2,v=h*(1-(1-i.hole)/2),x=h*(1-i.hole),w=`rotate(-90 ${h},${h})`,D=i.fontSize===0?v*i.hole*.6:i.fontSize;l+="<svg>",l+=`   <circle class='donut-back' r='${v}px' cx='${h}px' cy='${h}px' transform='${w}' fill='none' stroke='${i.stroke}' stroke-width='${x}'/>`,l+=`   <circle class='donut-fill' r='${v}px' cx='${h}px' cy='${h}px' transform='${w}' fill='none' stroke='${i.fill}' stroke-width='${x}'/>`,i.showText===!0&&(l+=`   <text class='donut-title' x='${h}px' y='${h}px' dy='${D/3}px' text-anchor='middle' fill='${i.color!==""?i.color:i.fill}' font-size='${D}px'></text>`),l+="</svg>",e.html(l)},_addEvents:function(){o(globalThis).on("resize",()=>{this._setElementSize(),this._draw(),this.val(this.value)})},_setValue:function(e){let i=this.element,l=this.options,h=i.find(".donut-fill"),v=i.find(".donut-title"),x=i.width()/2*(1-(1-l.hole)/2),w=Math.round(2*Math.PI*x),D=l.showValue?e:t.utils.percent(l.total,e,!0),M=Math.round(+e*w/l.total),I=h.attr("stroke-dasharray");typeof I>"u"?I=0:I=+I.split(" ")[0];let B=M-I;h.animate({draw:function(Y,X){o(this).attr("stroke-dasharray",`${I+B*X} ${w}`)},dur:l.animate}),v.html(t.utils.exec(l.onDrawValue,[D+l.cap]))},val:function(e){let i=this.options;if(e===void 0)return this.value;if(Number.parseInt(e)<0||Number.parseInt(e)>i.total)return!1;this._setValue(e),this.value=e,this._fireEvent("change",{value:this.value})},setColor:function(e){let i=["background","fill","stroke","color"];return o.each(e,(l,h)=>{i.indexOf(l)!==-1&&(this.options[l]=h)}),this._draw(),this.val(this.value),this},changeValue:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(e,i){switch(e){case"data-value":this.changeValue();break;case"data-background":this.setColor({background:i});break;case"data-fill":this.setColor({fill:i});break;case"data-stroke":this.setColor({stroke:i});break;case"data-color":this.setColor({color:i});break}},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let p={height:"auto",multiSelect:!1,moveRightIcon:"&rsaquo;",moveRightAllIcon:"&raquo;",moveLeftIcon:"&lsaquo;",moveLeftAllIcon:"&laquo;",clsBox:"",clsMoveButton:"",clsMoveRightButton:"",clsMoveRightAllButton:"",clsMoveLeftButton:"",clsMoveLeftAllButton:"",clsListLeft:"",clsListRight:"",onDoubleSelectBoxCreate:t.noop};t.doubleSelectBoxSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroDoubleSelectBoxSetup<"u"&&t.doubleSelectBoxSetup(globalThis.metroDoubleSelectBoxSetup),t.Component("double-select-box",{init:function(e,i){return this._super(i,e,p,{select1:null,select2:null,list1:null,list2:null}),this},_create:function(){if(this.element.children("select").length!==2)throw new Error("Component DoubleSelectBox required two select elements!");this._createStructure(),this._createEvents(),this._fireEvent("double-select-box-create")},_drawList:function(){this.list1.clear(),this.select1.find("option").each((e,i)=>{let l=o(i),h=l.attr("data-icon"),v=l.attr("data-template")?l.attr("data-template").replace(/\$1/g,l.text()):l.text();h&&(v=o("<span>").addClass("icon").append(h).outerHTML()+v),this.list1.append(o("<li>").html(v).attr("data-value",i.value).data("option",i))}),this.list2.clear(),this.select2.find("option").each((e,i)=>{let l=o(i),h=l.attr("data-icon"),v=l.attr("data-template")?l.attr("data-template").replace(/\$1/g,l.text()):l.text();h&&(v=o("<span>").addClass("icon").append(h).outerHTML()+v),this.list2.append(o("<li>").html(v).attr("data-value",i.value).data("option",i))})},_createStructure:function(){let e=this.element,i=this.options,l=e.children("select"),h=l.eq(0),v=l.eq(1),x=o("<div>").addClass("controls").insertBefore(v);e.addClass("double-select-box").addClass(i.clsBox).css({height:i.height}),l.prop("multiple",!0),x.append(o([o("<button>").attr("type","button").addClass("button square small --move-right").addClass(i.clsMoveButton).addClass(i.clsMoveRightButton).html(`<span class="icon">${i.moveRightIcon}</span>`),o("<button>").attr("type","button").addClass("button square small --move-right-all").addClass(i.clsMoveButton).addClass(i.clsMoveRightAllButton).html(`<span class="icon">${i.moveRightAllIcon}</span>`),o("<button>").attr("type","button").addClass("button square small --move-left-all").addClass(i.clsMoveButton).addClass(i.clsMoveLeftAllButton).html(`<span class="icon">${i.moveLeftAllIcon}</span>`),o("<button>").attr("type","button").addClass("button square small --move-left").addClass(i.clsMoveButton).addClass(i.clsMoveLeftButton).html(`<span class="icon">${i.moveLeftIcon}</span>`)]));let w=o("<ul>").addClass("--list1").addClass(i.clsListLeft).insertBefore(h),D=o("<ul>").addClass("--list2").addClass(i.clsListRight).insertBefore(v);this.select1=h,this.select2=v,this.list1=w,this.list2=D,this._drawList()},_moveItems:(e,i)=>{o.each(e,function(){let l=o(this),h=l.data("option");o(h).appendTo(i[0]),l.removeClass("active").appendTo(i[1])})},_move:function(e,i){i==="selected"?e==="ltr"?this._moveItems(this.list1.find("li.active"),[this.select2,this.list2]):this._moveItems(this.list2.find("li.active"),[this.select1,this.list1]):e==="ltr"?this._moveItems(this.list1.find("li"),[this.select2,this.list2]):this._moveItems(this.list2.find("li"),[this.select1,this.list1])},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.find("li");h.on("click",function(){let v=o(this);l.multiSelect===!1&&(e.list1.find("li").removeClass("active"),e.list2.find("li").removeClass("active")),v.addClass("active")}),h.on("dblclick",function(){let v=o(this),x=v.parent().hasClass("--list1")?"ltr":"rtl";e.list1.find("li").removeClass("active"),e.list2.find("li").removeClass("active"),v.addClass("active"),e._move(x,"selected")}),i.on("click","button",function(){let v=o(this);if(v.hasClass("--move-right"))e._move("ltr","selected");else if(v.hasClass("--move-right-all"))e._move("ltr","all");else if(v.hasClass("--move-left"))e._move("rtl","selected");else if(v.hasClass("--move-left-all"))e._move("rtl","all");else throw new Error("Pressed unregistered button!")})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={doubleSliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:t.position.BOTTOM,valueMin:null,valueMax:null,hint:!1,hintAlways:!1,hintPositionMin:t.position.TOP,hintPositionMax:t.position.TOP,hintMaskMin:"$1",hintMaskMax:"$1",target:null,size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsMarker:"",clsMarkerMin:"",clsMarkerMax:"",clsHint:"",clsHintMin:"",clsHintMax:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:t.noop,onStop:t.noop,onMove:t.noop,onChange:t.noop,onChangeValue:t.noop,onFocus:t.noop,onBlur:t.noop,onDoubleSliderCreate:t.noop};t.doubleSliderSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroDoubleSliderSetup<"u"&&t.doubleSliderSetup(globalThis.metroDoubleSliderSetup),t.Component("double-slider",{init:function(e,i){return this._super(i,e,p,{slider:null,valueMin:null,valueMax:null,keyInterval:!1,id:t.utils.elementId("slider")}),this},_create:function(){let e=this.element,i=this.options;this.valueMin=t.utils.isValue(i.valueMin)?+i.valueMin:+i.min,this.valueMax=t.utils.isValue(i.valueMax)?+i.valueMax:+i.max,this._createSlider(),this._createEvents(),this.val(this.valueMin,this.valueMax),this._fireEvent("double-slider-create",{element:e})},_createSlider:function(){let e=this.element,i=this.options,l=o("<div>").addClass("slider-wrapper"),h=o("<div>").addClass("slider").addClass(i.clsSlider).addClass(this.elem.className),v=o("<div>").addClass("backside").addClass(i.clsBackside),x=o("<div>").addClass("complete").addClass(i.clsComplete),w=o("<button>").attr("type","button").addClass("marker marker-min").addClass(i.clsMarker).addClass(i.clsMarkerMin),D=o("<button>").attr("type","button").addClass("marker marker-max").addClass(i.clsMarker).addClass(i.clsMarkerMax),M=o("<div>").addClass("hint hint-min").addClass(`${i.hintPositionMin}-side`).addClass(i.clsHint).addClass(i.clsHintMin),I=o("<div>").addClass("hint hint-max").addClass(`${i.hintPositionMax}-side`).addClass(i.clsHint).addClass(i.clsHintMax),B;if(i.size>0&&h.outerWidth(i.size),h.insertBefore(e),e.appendTo(h),l.insertBefore(h),h.appendTo(l),v.appendTo(h),x.appendTo(h),w.appendTo(h),D.appendTo(h),M.appendTo(w),I.appendTo(D),i.hintAlways===!0&&o([M,I]).css({display:"block"}).addClass("permanent-hint"),i.showMinMax===!0){let Y=o("<div>").addClass("slider-min-max").addClass(i.clsMinMax);o("<span>").addClass("slider-text-min").addClass(i.clsMin).html(`${i.min}`).appendTo(Y),o("<span>").addClass("slider-text-max").addClass(i.clsMax).html(`${i.max}`).appendTo(Y),i.minMaxPosition===t.position.TOP?Y.insertBefore(h):Y.insertAfter(h)}if(e[0].className="",i.copyInlineStyles===!0)for(B=0;B<e[0].style.length;B++)h.css(e[0].style[B],e.css(e[0].style[B]));e.is(":disabled")?this.disable():this.enable(),this.slider=h},_createEvents:function(){let e=this,i=this.slider,l=this.options,h=i.find(".marker");h.on(t.events.startAll,function(){let v=o(this),x=v.find(".hint");v.addClass("active"),l.hint===!0&&l.hintAlways!==!0&&x.fadeIn(300),o(document).on(t.events.moveAll,w=>{e._move(w),e._fireEvent("move",{min:e.valueMin,max:e.valueMax})},{ns:e.id}),o(document).on(t.events.stopAll,()=>{i.find(".marker").removeClass("active"),o(document).off(t.events.moveAll,{ns:e.id}),o(document).off(t.events.stopAll,{ns:e.id}),l.hintAlways!==!0&&x.fadeOut(300),e._fireEvent("stop",{min:e.valueMin,max:e.valueMax})},{ns:e.id}),e._fireEvent("start",{min:e.valueMin,max:e.valueMax})}),h.on(t.events.focus,()=>{e._fireEvent("focus",{min:e.valueMin,max:e.valueMax})}),h.on(t.events.blur,()=>{e._fireEvent("blur",{min:e.valueMin,max:e.valueMax})}),o(globalThis).on(t.events.resize,()=>{e.val(e.valueMin,e.valueMax)},{ns:e.id})},_convert:function(e,i){let l=this.slider,h=this.options,v=l.outerWidth()-l.find(".marker").outerWidth();switch(i){case"pix2prc":return e*100/v;case"pix2val":return this._convert(e,"pix2prc")*((h.max-h.min)/100)+h.min;case"val2prc":return(e-h.min)/((h.max-h.min)/100);case"prc2pix":return e/(100/v);case"val2pix":return this._convert(this._convert(e,"val2prc"),"prc2pix")}return 0},_correct:function(e){let i=e,l=this.options.accuracy,h=this.options.min,v=this.options.max,x=w=>w%1===0?0:w.toString().split(".")[1].length;return l===0||Number.isNaN(l)?i:(i=Math.round(e/l)*l,i<h&&(i=h),i>v&&(i=v),i.toFixed(x(l)))},_move:function(e){let i=this.slider.find(".marker.active").hasClass("marker-min"),l=this.slider,h=l.offset(),v=l.find(".marker").outerWidth(),x=l.find(".marker-min"),w=l.find(".marker-max"),D=l.outerWidth(),M,I,B=t.utils.pageXY(e).x-h.left-v/2;i?(M=0,I=Number.parseInt(w.css("left"))-v):(M=Number.parseInt(x.css("left"))+v,I=D-v),!(B<M||B>I)&&(this[i?"valueMin":"valueMax"]=this._correct(this._convert(B,"pix2val")),this._redraw())},_hint:function(){let e=this,i=this.options;this.slider.find(".hint").each(function(){let l=o(this),h=l.hasClass("hint-min"),v=h?i.hintMaskMin:i.hintMaskMax,x=+(h?e.valueMin:e.valueMax)||0;l.text(v.replace("$1",x.toFixed(t.utils.decCount(i.accuracy))))})},_value:function(){let e=this.element,i=this.options,l=+this.valueMin||0,h=+this.valueMax||0,v;if(i.roundValue&&(l=l.toFixed(t.utils.decCount(i.accuracy)),h=h.toFixed(t.utils.decCount(i.accuracy))),v=[l,h].join(", "),e[0].tagName==="INPUT"&&e.val(v),i.target!==null){let x=o(i.target);x.length!==0&&o.each(x,function(){let w=o(this);this.tagName==="INPUT"?w.val(v):w.text(v),w.trigger("change")})}this._fireEvent("change-value",{val:v}),this._fireEvent("change",{val:v})},_marker:function(){let e=this.slider,i=e.find(".marker-min"),l=e.find(".marker-max"),h=e.find(".complete"),v=Number.parseInt(t.utils.getStyleOne(i,"width")),x=t.utils.isVisible(e);x&&o([i,l]).css({"margin-top":0,"margin-left":0}),x?(i.css("left",this._convert(this.valueMin,"val2pix")),l.css("left",this._convert(this.valueMax,"val2pix"))):(i.css({left:`${this._convert(this.valueMin,"val2prc")}%`,"margin-top":this._convert(this.valueMin,"val2prc")===0?0:-1*v/2}),l.css({left:`${this._convert(this.valueMax,"val2prc")}%`,"margin-top":this._convert(this.valueMax,"val2prc")===0?0:-1*v/2})),h.css({left:this._convert(this.valueMin,"val2pix"),width:this._convert(this.valueMax,"val2pix")-this._convert(this.valueMin,"val2pix")})},_redraw:function(){this._marker(),this._value(),this._hint()},val:function(e,i){let l=this.options;if(!t.utils.isValue(e)&&!t.utils.isValue(i))return[this.valueMin,this.valueMax];let h=e,v=i;typeof h<"u"&&h<l.min&&(h=l.min),typeof v<"u"&&v<l.min&&(v=l.min),typeof h<"u"&&h>l.max&&(h=l.max),typeof v<"u"&&v>l.max&&(v=l.max),typeof h<"u"&&(this.valueMin=this._correct(h)),typeof v<"u"&&(this.valueMax=this._correct(v)),this._redraw()},changeValue:function(){let e=this.element,i=+e.attr("data-value-min"),l=+e.attr("data-value-max");this.val(i,l)},disable:function(){let e=this.element;e.data("disabled",!0),e.parent().addClass("disabled")},enable:function(){let e=this.element;e.data("disabled",!1),e.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"data-value-min":this.changeValue();break;case"data-value-max":this.changeValue();break;case"disabled":this.toggleState();break}},destroy:function(){let e=this.element,i=this.slider,l=i.find(".marker");l.off(t.events.startAll),l.off(t.events.focus),l.off(t.events.blur),l.off(t.events.keydown),l.off(t.events.keyup),i.off(t.events.click),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let p={dragItemsDeferred:0,target:null,dragItem:"li",dragMarker:".drag-item-marker",drawDragMarker:!1,clsDragItemAvatar:"",clsDragItem:"",canDrag:!0,onDragStartItem:t.noop,onDragMoveItem:t.noop,onDragDropItem:t.noop,onTarget:t.noop,onTargetIn:t.noop,onTargetOut:t.noop,onDragItemsCreate:t.noop};t.dragItemsSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroDragItemsSetup<"u"&&t.dragItemsSetup(globalThis.metroDragItemsSetup),t.Component("drag-items",{init:function(e,i){return this._super(i,e,p,{id:t.utils.elementId("dragItems"),canDrag:!1}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("drag-items-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options;e.addClass("drag-items-target"),i.drawDragMarker===!0&&e.find(i.dragItem).each(function(){o("<span>").addClass("drag-item-marker").appendTo(this)}),i.canDrag?this.on():this.off()},_createEvents:function(){let e=this.element,i=this.options,l=o.document(),h=o.body(),v,x={top:0,left:0},w,D,M=(I,B,Y)=>{let X=t.utils.pageXY(I).x,ie=t.utils.pageXY(I).y,Fe=ie-x.top,Ve=X-x.left;B.css({top:Fe,left:Ve});let He=document.elementsFromPoint(X,ie).filter(De=>o(De).hasClass("drag-items-target"));if(He.length===0)return;this._fireEvent("target",{target:He});let ze=document.elementsFromPoint(X,ie).filter(De=>{let Oe=o(De);return o.matches(De,i.dragItem)&&!Oe.hasClass("dragged-item-avatar")})[0];if(!t.utils.isValue(ze))Y.appendTo(He);else{let De=o(ze),Oe=De.offset(),Me=ie-Oe.top,Ie=X-Oe.left,kt,Ot={w:De.width(),h:De.height()};Ie<Ot.w/3&&(Me<Ot.h/2||Me>Ot.h/2)?kt="left":Ie>Ot.w*2/3&&(Me<Ot.h/2||Me>Ot.h/2)?kt="right":Ie>Ot.w/3&&Ie<Ot.w*2/3&&Me>Ot.h/2?kt="bottom":kt="top",De.hasClass("dragged-item")||(kt==="top"||kt==="left"?Y.insertBefore(De):Y.insertAfter(De))}};e.on(t.events.startAll,i.drawDragMarker?i.dragMarker:i.dragItem,I=>{let B=o(I.target).closest(i.dragItem);if(t.utils.isRightMouse(I)||this.canDrag!==!0)return;B.addClass("dragged-item").addClass(i.clsDragItem);let Y=o("<div>").addClass("dragged-item-avatar").addClass(i.clsDragItemAvatar);v=B.offset(),w=B.width(),D=B.height(),x.top=t.utils.pageXY(I).y-v.top,x.left=t.utils.pageXY(I).x-v.left,Y.css({top:v.top,left:v.left,width:w,height:D}).appendTo(h),this._fireEvent("drag-start-item",{dragItem:B[0],avatar:Y[0]}),l.on(t.events.moveAll,X=>{M(X,Y,B),this._fireEvent("drag-move-item",{dragItem:B[0],avatar:Y[0]}),X.preventDefault()},{ns:this.id,passive:!1}),l.on(t.events.stopAll,()=>{this._fireEvent("drag-drop-item",{dragItem:B[0],avatar:Y[0]}),B.removeClass("dragged-item").removeClass(i.clsDragItem),Y.remove(),l.off(t.events.moveAll,{ns:this.id}),l.off(t.events.stopAll,{ns:this.id})},{ns:this.id}),i.drawDragMarker&&(I.preventDefault(),I.stopPropagation())})},on:function(){this.canDrag=!0,this.element.find(".drag-item-marker").show()},off:function(){this.canDrag=!1,this.element.find(".drag-item-marker").hide()},toggle:function(){this.canDrag=this.canDrag?this.off():this.on()},changeAttribute:function(e){let i=this.element,l=this.options;e==="data-can-drag"&&(l.canDtag=JSON.parse(i.attr("data-can-drag")),l.canDtag?this.on():this.off())},destroy:function(){let e=this.element,i=this.options;return e.off(t.events.startAll,i.drawDragMarker?i.dragMarker:i.dragItem),e}})})(Metro,Dom),((t,o)=>{let p={dragContext:null,draggableDeferred:0,dragElement:"self",dragArea:"parent",timeout:0,boundaryRestriction:!0,onCanDrag:t.noop_true,onDragStart:t.noop,onDragStop:t.noop,onDragMove:t.noop,onDraggableCreate:t.noop};t.draggableSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroDraggableSetup<"u"&&t.draggableSetup(globalThis.metroDraggableSetup),t.Component("draggable",{init:function(e,i){return this._super(i,e,p,{drag:!1,move:!1,backup:{cursor:"default",zIndex:"0"},dragArea:null,dragElement:null,id:t.utils.elementId("draggable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("draggable-create",{element:this.element})},_createStructure:function(){let e=this.element,i=this.options,l=e.offset(),h=i.dragElement!=="self"?e.find(i.dragElement):e;e.data("canDrag",!0),this.dragElement=h,h[0].ondragstart=()=>!1,e.css("position","absolute"),(i.dragArea==="document"||i.dragArea==="window")&&(i.dragArea="body"),setTimeout(()=>{this.dragArea=i.dragArea==="parent"?e.parent():o(i.dragArea),this.dragArea.css("position")==="static"&&this.dragArea.css("position","relative"),i.dragArea!=="parent"&&(e.appendTo(this.dragArea),e.css({top:l.top,left:l.left}))}),e.attr("id")||e.attr("id",t.utils.elementId("draggable"))},_createEvents:function(){let e=this.element,i=this.options,l={x:0,y:0};this.dragElement.on(t.events.startAll,h=>{let v=e.position(),x=t.utils.pageXY(h).x-v.left,w=t.utils.pageXY(h).y-v.top,D=M=>{let I=t.utils.pageXY(M).y-w,B=t.utils.pageXY(M).x-x;i.boundaryRestriction&&(I<0&&(I=0),B<0&&(B=0),I>this.dragArea.outerHeight()-e.outerHeight()&&(I=this.dragArea.outerHeight()-e.outerHeight()),B>this.dragArea.outerWidth()-e.outerWidth()&&(B=this.dragArea.outerWidth()-e.outerWidth())),l.y=I,l.x=B,e.css({left:B,top:I}),this._fireEvent("drag-move",{position:l,context:i.dragContext})};e.data("canDrag")===!1||t.utils.exec(i.onCanDrag,[e])!==!0||t.isTouchable===!1&&h.which!==1||(this.drag=!0,e.addClass("draggable"),this._fireEvent("drag-start",{position:l,context:i.dragContext}),o(document).on(t.events.moveAll,D,{ns:this.id,passive:!1}),o(document).on(t.events.stopAll,()=>{e.removeClass("draggable"),o(document).off(t.events.moveAll,{ns:this.id}),o(document).off(t.events.stopAll,{ns:this.id}),this.drag=!1,this.move=!1,this._fireEvent("drag-stop",{position:l,context:i.dragContext})},{ns:this.id}))})},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;return this.dragElement.off(t.events.startAll),e}})})(Metro,Dom),((t,o)=>{let p={enabled:!0,logErrors:!1,delimiterStart:"{{",delimiterEnd:"}}",context:null,processChild:!0};t.evalSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroEvalSetup<"u"&&t.evalSetup(globalThis.metroEvalSetup),t.Component("eval",{init:function(e,i){return this._super(i,e,p,{origContent:null}),this},_create:function(){let e=this.element;this.origContent=e.html(),this.options.enabled&&(this.options.processChild?this._processNodeAndChildren(e[0]):e.text(this.eval(e.text())))},_processNodeAndChildren:function(e){if(e.nodeType===3){e.textContent=this.eval(e.textContent);return}for(let i=0;i<e.childNodes.length;i++)this._processNodeAndChildren(e.childNodes[i])},eval:function(e){let i=this.options;if(!i.enabled)return e;let l=new RegExp(`${this._escapeRegExp(i.delimiterStart||"{{")}(.*?)${this._escapeRegExp(i.delimiterEnd||"}}")}`,"gs");return e.replace(l,(h,v)=>{try{return new Function(`return ${v}`).call(i.context)}catch(x){return i.logErrors&&console.error("Metro UI Eval error:",x,"in code:",v),h}})},_escapeRegExp:e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),reset:function(){this.origContent&&this.element.html(this.origContent)},destroy:function(){return this.reset(),this._super()}}),t.evalText=(e,i)=>{let l={options:o.extend({},p,i)};return t.Component("eval").prototype.eval.call(l,e)}})(Metro,Dom),((t,o)=>{let p={init:function(){return this},options:{csvDelimiter:"	",csvNewLine:`\r
`,includeHeader:!0},setup:function(e){return this.options=o.extend({},this.options,e),this},base64:e=>globalThis.btoa(unescape(encodeURIComponent(e))),b64toBlob:(e,i="",l=512)=>{let h=globalThis.atob(e),v=[],x;for(x=0;x<h.length;x+=l){let w=h.slice(x,x+l),D=new Array(w.length);for(let I=0;I<w.length;I=I+1)D[I]=w.charCodeAt(I);let M=new globalThis.Uint8Array(D);v.push(M)}return new Blob(v,{type:i})},tableToCSV:function(e,i,l){let h,v,x,w="",D,M;h=o.extend({},this.options,l);let I=o(e)[0];if(t.utils.bool(h.includeHeader)){x=I.querySelectorAll("thead")[0];for(let B=0;B<x.rows.length;B++){D=x.rows[B];for(let Y=0;Y<D.cells.length;Y++)M=D.cells[Y],w+=(Y?h.csvDelimiter:"")+M.textContent.trim();w+=h.csvNewLine}}v=I.querySelectorAll("tbody")[0];for(let B=0;B<v.rows.length;B++){D=v.rows[B];for(let Y=0;Y<D.cells.length;Y++)M=D.cells[Y],w+=(Y?h.csvDelimiter:"")+M.textContent.trim();w+=h.csvNewLine}return t.utils.isValue(i)?this.createDownload(this.base64(`\uFEFF${w}`),"application/csv",i):w},createDownload:function(e,i,l){let h=document.createElement("a");h.style.display="none",document.body.appendChild(h);let v=this.b64toBlob(e,i),x=globalThis.URL.createObjectURL(v);return h.href=x,h.download=l||t.utils.elementId("download"),h.click(),globalThis.URL.revokeObjectURL(x),document.body.removeChild(h),!0},arrayToCsv:function(e,i,l){let h,v="",x,w;for(h=o.extend({},this.options,l),x=0;x<e.length;x++)w=e[x],typeof w!="object"?v+=w+h.csvNewLine:(o.each(w,(D,M)=>{v+=(D?h.csvDelimiter:"")+M.toString()}),v+=h.csvNewLine);return t.utils.isValue(i)?this.createDownload(this.base64(`\uFEFF${v}`),"application/csv",i):v}};t.export=p.init()})(Metro,Dom),((t,o)=>{let p={fileDeferred:0,label:"",mode:"input",buttonTitle:"",filesSelectedTitle:"",dropTitle:"",dropIcon:"📥",clearButtonIcon:"❌",prepend:"",clsComponent:"",clsPrepend:"",clsButton:"",clsCaption:"",clsLabel:"",onSelect:t.noop,onFileCreate:t.noop};t.fileSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroFileSetup<"u"&&t.fileSetup(globalThis.metroFileSetup),t.Component("file",{init:function(e,i){return this._super(i,e,p),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("file-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l=e.wrap("<div>").addClass((i.mode==="input"?" file ":i.mode==="button"?" file-button ":" drop-zone ")+e[0].className).addClass(i.clsComponent),h=o("<span>").addClass("caption").addClass(i.clsCaption),v=o("<span>").addClass("files").addClass(i.clsCaption),x,w;if(i.mode.includes("drop")?(x=o("<span>").addClass("icon").html(i.dropIcon).appendTo(l),h.html(i.dropTitle||this.strings.label_drop_file).insertAfter(x),v.html((i.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)).insertAfter(h),w=o("<button>").addClass("button clear-button square").html(i.clearButtonIcon).appendTo(l)):(h.insertBefore(e),w=o("<button>").addClass("button select-files-button").attr("tabindex",-1).html(i.buttonTitle||this.strings.label_choose_file),w.appendTo(l),w.addClass(i.clsButton),l.hasClass("input-small")&&w.addClass("small"),e.attr("dir")==="rtl"&&l.addClass("rtl"),i.prepend!==""&&o("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(l)),e[0].className="",i.label){let D=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(l);if(e.attr("id"))D.attr("for",e.attr("id"));else{let M=Hooks.useId(e[0]);D.attr("for",M),e.attr("id",M)}e.attr("dir")==="rtl"&&D.addClass("rtl")}e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.closest("label"),v=h.find(".caption"),x=h.find(".files"),w=i.closest("form");w.length&&w.on("reset",()=>{e.clear()}),h.on(t.events.click,".select-files-button",()=>{i[0].click()}),h.on(t.events.click,".clear-button",()=>{e.clear()}),i.on(t.events.change,function(){let D=[],M,I=Array.from(this.files);for(let B of I)D.push(B.name);l.mode==="input"?(M=D.join(", "),v.html(M),v.attr("title",M)):I.html((l.filesSelectedTitle||e.strings.label_files_selected).replace("{n}",i[0].files.length)),e._fireEvent("select",{files:this.files})}),i.on(t.events.focus,()=>{h.addClass("focused")}),i.on(t.events.blur,()=>{h.removeClass("focused")}),l.mode!=="input"&&(h.on("drag dragstart dragend dragover dragenter dragleave drop",D=>{D.preventDefault()}),h.on("dragenter dragover",()=>{h.addClass("drop-on")}),h.on("dragleave",()=>{h.removeClass("drop-on")}),h.on("drop",D=>{i[0].files=D.dataTransfer.files,x.html((l.filesSelectedTitle||e.strings.label_files_selected).replace("{n}",i[0].files.length)),h.removeClass("drop-on"),i.trigger("change")}))},clear:function(){let e=this.element,i=this.options;i.mode==="input"?e.siblings(".caption").html(""):e.siblings(".files").html((i.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)),e[0].value="",e.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleDir:function(){this.element.attr("dir")==="rtl"?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break;case"dir":this.toggleDir();break}},destroy:function(){let e=this.element,i=this.options,l=e.parent();e.off(t.events.change),l.off(t.events.click,"button"),i.label&&l.prev("label").remove(),l.remove()}})})(Metro,Dom),((t,o)=>{let p={min:0,max:100,value:0,size:0,labelMin:"",labelMax:"",label:"",suffix:"",values:10,segments:10,startAngle:235,range:250,theme:"",onGaugeCreate:t.noop};t.gaugeSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroGaugeSetup<"u"&&t.gaugeSetup(globalThis.metroGaugeSetup),t.Component("gauge",{init:function(e,i){return this._super(i,e,p,{}),this},_create:function(){let e=this.element,i=this.options;e[0].style.setProperty("--analog-gauge-segments",`${i.segments}`),e[0].style.setProperty("--analog-gauge-start-angle",`${i.startAngle}deg`),e[0].style.setProperty("--analog-gauge-range",`${i.range}deg`),this.options.range=Number.parseFloat(getComputedStyle(e[0]).getPropertyValue("--analog-gauge-range")),this.options.start=Number.parseFloat(getComputedStyle(e[0]).getPropertyValue("--analog-gauge-start-angle")),this.options.defaultMark=90,this.options.defaultNeedle=270,this.options.minDegree=this.options.start-this.options.defaultNeedle,this._createStructure(),this._createEvents(),this.update(),this._fireEvent("gauge-create")},_generateMarks:function(){let e=this.options,i=`${e.values}`.trim();if(i==="")return"";let l=i.toArray(","),h=[],v;l.length===1?(h=Array.from({length:+i},(w,D)=>Math.round(e.min+D*(e.max-e.min)/(+i-1||1))),v=Number.parseInt(i)):(h=[...l],v=l.length);let x=e.range/(v-1||1);return`
                <ul class="value-marks">
                  ${h.map((w,D)=>`<li style="--_d:${e.start-e.defaultMark+D*x}deg" class="mark">${w}</li>`).join("")}
                </ul>
            `},_createStructure:function(){let e=this.element,i=this.options;e.addClass("analog-gauge"),i.size&&e.css({width:i.size,height:i.size}),e.html(`
                <div class="gauge"></div>
                ${this._generateMarks()} 
                <div class="needle"></div> 
                <div class="value">${i.value}</div> 
                <div class="label">${i.label}</div> 
                <div class="label-min">${i.labelMin}</div> 
                <div class="label-max">${i.labelMax}</div> 
            `),i.theme&&e.addClass(`theme-${i.theme}`)},_createEvents:()=>{},val:function(e){if(typeof e>"u")return this.options.value;this.options.value=e,this.update()},update:function(){let e=this.element,i=this.elem,l=this.options,h=(Math.max(l.min,Math.min(l.max,l.value))-l.min)/(l.max-l.min),v=l.minDegree+h*l.range;i.style.setProperty("--analog-gauge-value",`${h*l.range}deg`),i.style.setProperty("--_d",`${v}deg`),e.find(".value").html(l.value+l.suffix)},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={gradientType:"linear",gradientShape:"",gradientPosition:"",gradientSize:"",gradientColors:"#000, #fff",gradientRepeat:!1,onGradientBoxCreate:t.noop};t.gradientBoxSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroGradientBoxSetup<"u"&&t.gradientBoxSetup(globalThis.metroGradientBoxSetup),t.Component("gradient-box",{init:function(e,i){return this._super(i,e,p,{colors:[],shape:"",size:"",position:"",type:"linear",func:"linear-gradient",repeat:!1}),this},_create:function(){let e=this.options;this.colors=e.gradientColors.toArray(","),this.type=e.gradientType.toLowerCase(),this.shape=e.gradientShape.toLowerCase(),this.size=e.gradientSize.toLowerCase(),this.repeat=e.gradientRepeat,this.func=`${(this.repeat?"repeating-":"")+this.type}-gradient`,this.type==="linear"?e.gradientPosition?(this.position=Number.isNaN(e.gradientPosition)===!1?`${e.gradientPosition}deg`:e.gradientPosition,this.position.indexOf("deg")===-1&&this.position.indexOf("to ")===-1&&(this.position=`to ${this.position}`)):this.position="to bottom":(this.position=e.gradientPosition.toLowerCase(),this.position&&this.position.indexOf("at ")===-1&&(this.position=`at ${this.position}`)),this._createStructure(),this._setGradient(),this._fireEvent("gradient-box-create")},_createStructure:function(){this.element.addClass("gradient-box")},_setGradient:function(){let e=this.element,i=[];this.type==="radial"&&this.shape&&i.push(this.shape),this.type==="radial"&&this.size&&i.push(this.size),this.position;let l=`${this.func}(${i.length?`${i.join(" ")}, `:""}${this.colors.join(", ")})`;e.css({background:l})},changeAttribute:function(e,i){if(e.indexOf("data-gradient-")!==-1){switch(e){case"data-gradient-type":this.type=i,this.func=`${i.toLowerCase()}-gradient`;break;case"data-gradient-colors-css":this.colors=i?i.toArray(","):["#fff","#000"];break;case"data-gradient-shape":this.shape=i.toLowerCase();break;case"data-gradient-size":this.size=i.toLowerCase();break;case"data-gradient-position":this.position=i.toLowerCase();break;case"data-gradient-repeat":this.repeat=t.utils.bool(i);break}this._setGradient()}},destroy:function(){return this.element}})})(Metro,Dom),(t=>{t.md5=o=>{function p(Bt,Et){return Bt<<Et|Bt>>>32-Et}function e(Bt,Et){let Ft,ci,Nt;Ft=Bt&2147483648,ci=Et&2147483648;let Xt=Bt&1073741824,vn=Et&1073741824;return Nt=(Bt&1073741823)+(Et&1073741823),Xt&vn?Nt^2147483648^Ft^ci:Xt|vn?Nt&1073741824?Nt^3221225472^Ft^ci:Nt^1073741824^Ft^ci:Nt^Ft^ci}function i(Bt,Et,Ft){return Bt&Et|~Bt&Ft}function l(Bt,Et,Ft){return Bt&Ft|Et&~Ft}function h(Bt,Et,Ft){return Bt^Et^Ft}function v(Bt,Et,Ft){return Et^(Bt|~Ft)}function x(Bt,Et,Ft,ci,Nt,Xt,vn){let Zi=e(Bt,e(e(i(Et,Ft,ci),Nt),vn));return e(p(Zi,Xt),Et)}function w(Bt,Et,Ft,ci,Nt,Xt,vn){let Zi=e(Bt,e(e(l(Et,Ft,ci),Nt),vn));return e(p(Zi,Xt),Et)}function D(Bt,Et,Ft,ci,Nt,Xt,vn){let Zi=e(Bt,e(e(h(Et,Ft,ci),Nt),vn));return e(p(Zi,Xt),Et)}function M(Bt,Et,Ft,ci,Nt,Xt,vn){let Zi=e(Bt,e(e(v(Et,Ft,ci),Nt),vn));return e(p(Zi,Xt),Et)}function I(Bt){let Et,Ft=Bt.length,ci=Ft+8,Nt=((ci-ci%64)/64+1)*16,Xt=Array(Nt-1),vn=0,Zi=0;for(;Zi<Ft;)Et=(Zi-Zi%4)/4,vn=Zi%4*8,Xt[Et]=Xt[Et]|Bt.charCodeAt(Zi)<<vn,Zi++;return Et=(Zi-Zi%4)/4,vn=Zi%4*8,Xt[Et]=Xt[Et]|128<<vn,Xt[Nt-2]=Ft<<3,Xt[Nt-1]=Ft>>>29,Xt}function B(Bt){let Et="",Ft="",ci,Nt;for(Nt=0;Nt<=3;Nt++)ci=Bt>>>Nt*8&255,Ft=`0${ci.toString(16)}`,Et=Et+Ft.substr(Ft.length-2,2);return Et}function Y(Bt){let Et=Bt.replace(/\r\n/g,`
`),Ft="";for(let ci=0;ci<Et.length;ci++){let Nt=Et.charCodeAt(ci);Nt<128?Ft+=String.fromCharCode(Nt):Nt>127&&Nt<2048?(Ft+=String.fromCharCode(Nt>>6|192),Ft+=String.fromCharCode(Nt&63|128)):(Ft+=String.fromCharCode(Nt>>12|224),Ft+=String.fromCharCode(Nt>>6&63|128),Ft+=String.fromCharCode(Nt&63|128))}return Ft}let X=[],ie,Fe,Ve,He,ze,De,Oe,Me,Ie,kt=7,Ot=12,Fi=17,mn=22,Si=5,Pn=9,ps=14,Vi=20,ms=4,Qn=11,gn=16,Qs=23,es=6,Bn=10,Aa=15,yt=21,_u=Y(o);for(X=I(_u),De=1732584193,Oe=4023233417,Me=2562383102,Ie=271733878,ie=0;ie<X.length;ie+=16)Fe=De,Ve=Oe,He=Me,ze=Ie,De=x(De,Oe,Me,Ie,X[ie],kt,3614090360),Ie=x(Ie,De,Oe,Me,X[ie+1],Ot,3905402710),Me=x(Me,Ie,De,Oe,X[ie+2],Fi,606105819),Oe=x(Oe,Me,Ie,De,X[ie+3],mn,3250441966),De=x(De,Oe,Me,Ie,X[ie+4],kt,4118548399),Ie=x(Ie,De,Oe,Me,X[ie+5],Ot,1200080426),Me=x(Me,Ie,De,Oe,X[ie+6],Fi,2821735955),Oe=x(Oe,Me,Ie,De,X[ie+7],mn,4249261313),De=x(De,Oe,Me,Ie,X[ie+8],kt,1770035416),Ie=x(Ie,De,Oe,Me,X[ie+9],Ot,2336552879),Me=x(Me,Ie,De,Oe,X[ie+10],Fi,4294925233),Oe=x(Oe,Me,Ie,De,X[ie+11],mn,2304563134),De=x(De,Oe,Me,Ie,X[ie+12],kt,1804603682),Ie=x(Ie,De,Oe,Me,X[ie+13],Ot,4254626195),Me=x(Me,Ie,De,Oe,X[ie+14],Fi,2792965006),Oe=x(Oe,Me,Ie,De,X[ie+15],mn,1236535329),De=w(De,Oe,Me,Ie,X[ie+1],Si,4129170786),Ie=w(Ie,De,Oe,Me,X[ie+6],Pn,3225465664),Me=w(Me,Ie,De,Oe,X[ie+11],ps,643717713),Oe=w(Oe,Me,Ie,De,X[ie],Vi,3921069994),De=w(De,Oe,Me,Ie,X[ie+5],Si,3593408605),Ie=w(Ie,De,Oe,Me,X[ie+10],Pn,38016083),Me=w(Me,Ie,De,Oe,X[ie+15],ps,3634488961),Oe=w(Oe,Me,Ie,De,X[ie+4],Vi,3889429448),De=w(De,Oe,Me,Ie,X[ie+9],Si,568446438),Ie=w(Ie,De,Oe,Me,X[ie+14],Pn,3275163606),Me=w(Me,Ie,De,Oe,X[ie+3],ps,4107603335),Oe=w(Oe,Me,Ie,De,X[ie+8],Vi,1163531501),De=w(De,Oe,Me,Ie,X[ie+13],Si,2850285829),Ie=w(Ie,De,Oe,Me,X[ie+2],Pn,4243563512),Me=w(Me,Ie,De,Oe,X[ie+7],ps,1735328473),Oe=w(Oe,Me,Ie,De,X[ie+12],Vi,2368359562),De=D(De,Oe,Me,Ie,X[ie+5],ms,4294588738),Ie=D(Ie,De,Oe,Me,X[ie+8],Qn,2272392833),Me=D(Me,Ie,De,Oe,X[ie+11],gn,1839030562),Oe=D(Oe,Me,Ie,De,X[ie+14],Qs,4259657740),De=D(De,Oe,Me,Ie,X[ie+1],ms,2763975236),Ie=D(Ie,De,Oe,Me,X[ie+4],Qn,1272893353),Me=D(Me,Ie,De,Oe,X[ie+7],gn,4139469664),Oe=D(Oe,Me,Ie,De,X[ie+10],Qs,3200236656),De=D(De,Oe,Me,Ie,X[ie+13],ms,681279174),Ie=D(Ie,De,Oe,Me,X[ie],Qn,3936430074),Me=D(Me,Ie,De,Oe,X[ie+3],gn,3572445317),Oe=D(Oe,Me,Ie,De,X[ie+6],Qs,76029189),De=D(De,Oe,Me,Ie,X[ie+9],ms,3654602809),Ie=D(Ie,De,Oe,Me,X[ie+12],Qn,3873151461),Me=D(Me,Ie,De,Oe,X[ie+15],gn,530742520),Oe=D(Oe,Me,Ie,De,X[ie+2],Qs,3299628645),De=M(De,Oe,Me,Ie,X[ie],es,4096336452),Ie=M(Ie,De,Oe,Me,X[ie+7],Bn,1126891415),Me=M(Me,Ie,De,Oe,X[ie+14],Aa,2878612391),Oe=M(Oe,Me,Ie,De,X[ie+5],yt,4237533241),De=M(De,Oe,Me,Ie,X[ie+12],es,1700485571),Ie=M(Ie,De,Oe,Me,X[ie+3],Bn,2399980690),Me=M(Me,Ie,De,Oe,X[ie+10],Aa,4293915773),Oe=M(Oe,Me,Ie,De,X[ie+1],yt,2240044497),De=M(De,Oe,Me,Ie,X[ie+8],es,1873313359),Ie=M(Ie,De,Oe,Me,X[ie+15],Bn,4264355552),Me=M(Me,Ie,De,Oe,X[ie+6],Aa,2734768916),Oe=M(Oe,Me,Ie,De,X[ie+13],yt,1309151649),De=M(De,Oe,Me,Ie,X[ie+4],es,4149444226),Ie=M(Ie,De,Oe,Me,X[ie+11],Bn,3174756917),Me=M(Me,Ie,De,Oe,X[ie+2],Aa,718787259),Oe=M(Oe,Me,Ie,De,X[ie+9],yt,3951481745),De=e(De,Fe),Oe=e(Oe,Ve),Me=e(Me,He),Ie=e(Ie,ze);return(B(De)+B(Oe)+B(Me)+B(Ie)).toLowerCase()}})(Metro,Dom),((t,o)=>{let p={gravatarDeferred:0,email:"",size:80,default:"mp",onGravatarCreate:t.noop};t.gravatarSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroGravatarSetup<"u"&&t.gravatarSetup(globalThis.metroGravatarSetup),t.Component("gravatar",{init:function(e,i){return this._super(i,e,p),this},_create:function(){let e=this.element;this.get(),this._fireEvent("gravatar-create",{element:e})},getImage:function(e,i,l,h){let v=o("<img>").attr("alt",e);return v.attr("src",this.getImageSrc(e,i)),h===!0?v:v[0]},getImageSrc:(e,i=80,l="404")=>e===void 0||e.trim()===""?"":`https://www.gravatar.com/avatar/${t.md5(e.toLowerCase().trim())}?size=${i}&d=${t.utils.encodeURI(l)}`,get:function(){let e=this.element,i=this.options,l=e[0].tagName==="IMG"?e:e.find("img");if(l.length!==0)return l.attr("src",this.getImageSrc(i.email,i.size,i.default)),this},resize:function(e){this.options.size=e!==void 0?e:this.element.attr("data-size"),this.get()},email:function(e){this.options.email=e!==void 0?e:this.element.attr("data-email"),this.get()},changeAttribute:function(e){switch(e){case"data-size":this.resize();break;case"data-email":this.email();break}},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let p={hintDeferred:0,hintHide:5e3,clsHint:"",hintText:"",hintPosition:t.position.TOP,hintOffset:4,onHintShow:t.noop,onHintHide:t.noop,onHintCreate:t.noop};t.hintSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroHintSetup<"u"&&t.hintSetup(globalThis.metroHintSetup),t.Component("hint",{init:function(e,i){return this._super(i,e,p,{hint:null,hint_size:{width:0,height:0},id:t.utils.elementId("hint")}),this},_create:function(){this._createEvents(),this._fireEvent("hint-create",{element:this.element})},_createEvents:function(){let e=this.element,i=this.options,l=!1;e.on(t.events.enter,()=>{l=!0,setTimeout(()=>{l&&(this.createHint(),+i.hintHide>0&&setTimeout(()=>{this.removeHint()},i.hintHide))},i.hintDeferred)}),e.on(t.events.leave,()=>{l=!1,this.removeHint()}),o(globalThis).on(`${t.events.scroll} ${t.events.resize}`,()=>{this.hint!==null&&this.setPosition()},{ns:this.id})},createHint:function(){let e=this.elem,i=this.element,l=this.options,h=o("<div>").addClass("hint").addClass(l.clsHint).html(l.hintText);if(this.hint=h,this.hint_size=t.utils.hiddenElementSize(h),o(".hint:not(.permanent-hint)").remove(),e.tagName==="TD"||e.tagName==="TH"){let v=o("<div/>").css("display","inline-block").html(i.html());i.html(v),this.element=v}this.setPosition(),h.appendTo(o("body")),this._fireEvent("hint-show",{hint:h[0]})},setPosition:function(){let e=this.hint,i=this.hint_size,l=this.options,h=this.element;l.hintPosition===t.position.BOTTOM?(e.addClass("bottom"),e.css({top:h.offset().top-o(globalThis).scrollTop()+h.outerHeight()+l.hintOffset,left:h.offset().left+h.outerWidth()/2-i.width/2-o(globalThis).scrollLeft()})):l.hintPosition===t.position.RIGHT?(e.addClass("right"),e.css({top:h.offset().top+h.outerHeight()/2-i.height/2-o(globalThis).scrollTop(),left:h.offset().left+h.outerWidth()-o(globalThis).scrollLeft()+l.hintOffset})):l.hintPosition===t.position.LEFT?(e.addClass("left"),e.css({top:h.offset().top+h.outerHeight()/2-i.height/2-o(globalThis).scrollTop(),left:h.offset().left-i.width-o(globalThis).scrollLeft()-l.hintOffset})):(e.addClass("top"),e.css({top:h.offset().top-o(globalThis).scrollTop()-i.height-l.hintOffset,left:h.offset().left-o(globalThis).scrollLeft()+h.outerWidth()/2-i.width/2}))},removeHint:function(){let e=this.hint,i=this.options.onHintHide===t.noop?0:300;e!==null&&(this._fireEvent("hint-hide",{hint:e[0]}),setTimeout(()=>{e.hide(0,()=>{e.remove(),this.hint=null})},i))},changeText:function(){this.options.hintText=this.element.attr("data-hint-text")},changeAttribute:function(e){e==="data-hint-text"&&this.changeText()},destroy:function(){let e=this.element;this.removeHint(),e.off(`${t.events.enter}-hint`),e.off(`${t.events.leave}-hint`),o(globalThis).off(`${t.events.scroll}-hint`)}})})(Metro,Dom),((t,o)=>{let p={specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",91:"meta",92:"meta",93:"meta",224:"meta"},shiftNums:{"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},shiftNumsInverse:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],pendingKey:null,pendingTimeout:1e3,pendingTimer:null,normalizeKey:l=>{if(l.includes(" "))return l.split(" ").map(p.normalizeKey).join(" ");if(!l.includes("+"))return l;let h=l.split("+"),v=h.pop(),x=h.filter(w=>["alt","ctrl","meta","shift"].includes(w));return x.sort((w,D)=>{let M={alt:1,ctrl:2,meta:3,shift:4};return M[w]-M[D]}),x.length?`${x.join("+")}+${v}`:v},getKey:l=>{let h,v=l.keyCode,x=String.fromCharCode(v).toLowerCase();[91,92,93,224].includes(v)?h="meta":v===18?h="alt":v===17?h="ctrl":v===16?h="shift":l.shiftKey?h=p.shiftNums[x]?p.shiftNums[x]:x:h=p.specialKeys[v]===void 0?x:p.specialKeys[v];let w=p.getModifier(l);return["alt","ctrl","meta","shift"].includes(h)&&w.includes(h)?w.join("+"):w.length?`${w.join("+")}+${h}`:h},getModifier:l=>{let h=[];return l.altKey&&h.push("alt"),l.ctrlKey&&h.push("ctrl"),l.metaKey&&h.push("meta"),l.shiftKey&&h.push("shift"),h},createChordKey:(l,h)=>`${l} ${h}`,isPartOfChordKey:l=>Object.keys(t.hotkeys).some(h=>h.split(" ")[0]===l),executeHotkeyAction:(l,h)=>{let v=o(l[0]),x=l[1],w=`${v.attr("href")}`.trim();return h.repeat&&!v.attr("data-repeat")?!1:(h.preventDefault(),x?t.utils.exec(x):v.is("a")&&w&&w.length>0&&w.trim()!=="#"?globalThis.location.href=w:v[0].click(),!0)},clearPending:()=>{clearTimeout(p.pendingTimer),p.pendingKey=null},setPending:l=>{p.pendingKey=l,clearTimeout(p.pendingTimer),p.pendingTimer=setTimeout(p.clearPending,p.pendingTimeout)}};function e(l){let h=p.getKey(l),v=p.normalizeKey(h);if(p.pendingKey!==null){let x=p.createChordKey(p.pendingKey,v);for(let w in t.hotkeys)if(p.normalizeKey(w)===x&&p.executeHotkeyAction(t.hotkeys[w],l)){p.clearPending();return}}Object.keys(t.hotkeys).some(x=>{let w=x.split(" ");return w.length>1&&p.normalizeKey(w[0])===v})&&p.setPending(v);for(let x in t.hotkeys)if(!x.includes(" ")&&p.normalizeKey(x)===v){p.executeHotkeyAction(t.hotkeys[x],l);return}}function i(l,h){let v=p.normalizeKey(l);return this.each(function(){let x=o(this);if(x.is("input, textarea")||x.attr("contenteditable")==="true"){let w=(D,M)=>{t.utils.exec(h,[D,M,l],x[0])};x.on(`${t.events.keydown}.hotkey-data-${l}`,D=>{let M=p.getKey(D),I=p.normalizeKey(M);if(p.pendingKey!==null){let B=p.createChordKey(p.pendingKey,I);if(v===B){p.clearPending(),D.preventDefault(),w(D,M);return}}if(v.includes(" ")){let B=v.split(" ");if(I===p.normalizeKey(B[0])){p.setPending(I);return}}v===I&&(D.preventDefault(),w(D,M))})}else{let w=D=>D.repeat&&!x.attr("data-repeat")?!1:(D.preventDefault(),p.executeHotkeyAction(v,D),!0);t.hotkeys||(t.hotkeys={}),t.hotkeys[l]=[x,w],x.attr("data-hotkey",l)}})}o.fn.hotkey=i,globalThis.METRO_JQUERY&&globalThis.jquery_present&&(globalThis.jQuery.fn.hotkey=i),o(document).on(`${t.events.keydown}.hotkey-data`,e)})(Metro,Dom),((t,o)=>{let p={onHoverBoxCreate:t.noop};t.hoverBoxSetup=e=>{p=o.extend({},p,e)},typeof window.metroHoverBoxSetup<"u"&&t.hoverBoxSetup(window.metroHoverBoxSetup),t.Component("hoverbox",{init:function(e,i){return this._super(i,e,p,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("hover-box-create")},_createStructure:function(){let e=this.element;e.addClass("hover-box"),e.cssVar("size",`${e.height()/2}px`)},_createEvents:function(){let e=this.element;e.on(t.events.move,i=>{let l=e[0].getBoundingClientRect(),h=i.pageX-(l.left+window.scrollX),v=i.pageY-(l.top+window.scrollY);e.cssVar("x",`${Math.round(h)}px`).cssVar("y",`${Math.round(v)}px`)})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={htmlContainerDeferred:0,method:"get",htmlSource:null,requestData:null,requestOptions:null,insertMode:"default",onHtmlLoad:t.noop,onHtmlLoadFail:t.noop,onHtmlLoadDone:t.noop,onHtmlContainerCreate:t.noop};t.htmlContainerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroHtmlContainerSetup<"u"&&t.htmlContainerSetup(globalThis.metroHtmlContainerSetup),t.Component("html-container",{init:function(e,i){return this._super(i,e,p,{data:null,opt:{},htmlSource:""}),this},_create:function(){let e=this.element,i=this.options;typeof i.requestData=="string"&&(i.requestData=JSON.parse(i.requestData)),t.utils.isObject(i.requestData)&&(this.data=t.utils.isObject(i.requestData)),typeof i.requestOptions=="string"&&(i.requestOptions=JSON.parse(i.requestOptions)),t.utils.isObject(i.requestOptions)&&(this.opt=t.utils.isObject(i.requestOptions)),i.method=i.method.toUpperCase(),t.utils.isValue(i.htmlSource)&&(this.htmlSource=i.htmlSource,this._load()),this._fireEvent("html-container-create",{element:e})},_load:function(){let e=this.element,i=this.options,l={method:i.method};this.data&&(l.body=this.data),this.opt&&(l.headers=this.opt),fetch(this.htmlSource,l).then(t.fetch.status).then(t.fetch.text).then(h=>{let v=o(h);switch(v.length===0&&(v=o("<div>").html(h)),i.insertMode.toLowerCase()){case"prepend":e.prepend(v);break;case"append":e.append(v);break;case"replace":v.insertBefore(e).script(),e.remove();break;default:e.html(v)}this._fireEvent("html-load",{data:h,source:i.htmlSource,requestData:this.data,requestOptions:this.opt})}).catch(h=>{this._fireEvent("html-load-fail",{error:h})})},load:function(e,i,l){e&&(this.htmlSource=e),i&&(this.data=t.utils.isObject(i)),l&&(this.opt=t.utils.isObject(l)),this._load()},changeAttribute:function(e){let i=this.element,l=this.options,h=()=>{let w=i.attr("data-html-source");t.utils.isNull(w)||(w.trim()===""&&i.html(""),l.htmlSource=w,this._load())},v=()=>{let w=i.attr("data-insert-mode");t.utils.isValue(w)&&(l.insertMode=w)},x=()=>{let w=i.attr("data-request-data");this.load(l.htmlSource,w)};switch(e){case"data-html-source":h();break;case"data-insert-mode":v();break;case"data-request-data":x();break}},destroy:()=>{}})})(Metro,Dom),((t,o)=>{let p={image:null,size:"cover",repeat:!1,color:"transparent",attachment:"scroll",origin:"border",onImageBoxCreate:t.noop};t.imageBoxSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroImageBoxSetup<"u"&&t.imageBoxSetup(globalThis.metroImageBoxSetup),t.Component("image-box",{init:function(e,i){return this._super(i,e,p,{}),this},_create:function(){this._createStructure(),this._fireEvent("image-box-create")},_createStructure:function(){this.element.addClass("image-box"),this._drawImage()},_drawImage:function(){let e=this.element,i=this.options,l=new Image,h;e.attr("data-original")||e.attr("data-original",i.image),e.css({backgroundImage:`url(${i.image})`,backgroundSize:i.size,backgroundRepeat:i.repeat?"repeat":"no-repeat",backgroundColor:i.color,backgroundAttachment:i.attachment,backgroundOrigin:i.origin}),l.src=i.image,l.onload=function(){h=this.height>=this.width,e.removeClass("image-box__portrait image-box__landscape").addClass(`image-box__${h?"portrait":"landscape"}`)}},changeAttribute:function(e,i){let l=e.replace("data-","");["image","size","repeat","color","attachment","origin"].indexOf(l)>-1&&(this.options[l]=i,this._drawImage())},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let p={imageCompareDeferred:0,width:"100%",height:"auto",onSliderMove:t.noop,onImageCompareCreate:t.noop};t.imageCompareSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroImageCompareSetup<"u"&&t.imageCompareSetup(globalThis.metroImageCompareSetup),t.Component("image-compare",{init:function(e,i){return this._super(i,e,p,{id:t.utils.elementId("image-compare")}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-compare-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l,h;switch(t.utils.isValue(e.attr("id"))||e.attr("id",t.utils.elementId("image-compare")),e.addClass("image-compare").css({width:i.width}),l=e.width(),i.height){case"16/9":h=t.utils.aspectRatioH(l,i.height);break;case"21/9":h=t.utils.aspectRatioH(l,i.height);break;case"4/3":h=t.utils.aspectRatioH(l,i.height);break;case"auto":h=t.utils.aspectRatioH(l,"16/9");break;default:h=i.height}e.css({height:h});let v=o("<div>").addClass("image-container").appendTo(e),x=o("<div>").addClass("image-container-overlay").appendTo(e).css({width:l/2}),w=o("<div>").addClass("image-slider").appendTo(e);w.css({top:h/2-w.height()/2,left:l/2-w.width()/2});let D=e.find("img");o.each(D,function(M){let I=o("<div>").addClass("image-wrapper");I.css({width:l,height:h,backgroundImage:`url(${this.src})`}),I.appendTo(M===0?v:x)})},_createEvents:function(){let e=this.element,i=this.options,l=e.find(".image-container-overlay"),h=e.find(".image-slider");h.on(t.events.startAll,()=>{let v=e.width();o(document).on(t.events.moveAll,x=>{let w=t.utils.getCursorPositionX(e[0],x);w<0&&(w=0),w>v&&(w=v),l.css({width:w});let D=w-h.width()/2;h.css({left:D}),this._fireEvent("slider-move",{x:w,l:D})},{ns:this.id}),o(document).on(t.events.stopAll,()=>{o(document).off(t.events.moveAll,{ns:this.id}),o(document).off(t.events.stopAll,{ns:this.id})},{ns:this.id})}),o(globalThis).on(t.events.resize,()=>{let v=e.width(),x;if(i.width==="100%"){switch(i.height){case"16/9":x=t.utils.aspectRatioH(v,i.height);break;case"21/9":x=t.utils.aspectRatioH(v,i.height);break;case"4/3":x=t.utils.aspectRatioH(v,i.height);break;case"auto":x=t.utils.aspectRatioH(v,"16/9");break;default:x=i.height}e.css({height:x}),o.each(e.find(".image-wrapper"),function(){o(this).css({width:v,height:x})}),e.find(".image-container-overlay").css({width:v/2}),h.css({top:x/2-h.height()/2,left:v/2-h.width()/2})}},{ns:this.id})},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off(t.events.start),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let p={useBackground:!1,backgroundSize:"cover",backgroundPosition:"top left",clsImageGrid:"",clsImageGridItem:"",clsImageGridImage:"",onItemClick:t.noop,onDrawItem:t.noop,onImageGridCreate:t.noop};t.imageGridSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroImageGridSetup<"u"&&t.imageGridSetup(globalThis.metroImageGridSetup),t.Component("image-grid",{init:function(e,i){return this._super(i,e,p,{items:[]}),this},_create:function(){this.items=this.element.children("img"),this._createStructure(),this._createEvents(),this._fireEvent("image-grid-create")},_createStructure:function(){let e=this.element,i=this.options;e.addClass("image-grid").addClass(i.clsImageGrid),this._createItems()},_createEvents:function(){let e=this;this.element.on(t.events.click,".image-grid__item",function(){e._fireEvent("item-click",{item:this})})},_createItems:function(){let e=this,i=this.element,l=this.options,h=this.items;i.clear(),h.each(function(){let v=o(this),x=this.src,w=o("<div>").addClass("image-grid__item").addClass(l.clsImageGridItem).appendTo(i),D=new Image;D.src=x,D.onload=function(){let M=this.height>=this.width;w.addClass(M?"image-grid__item-portrait":"image-grid__item-landscape"),v.addClass(l.clsImageGridImage).appendTo(w),l.useBackground&&(w.css({background:`url(${x})`,backgroundRepeat:"no-repeat",backgroundSize:l.backgroundSize,backgroundPosition:l.backgroundPosition}).attr("data-original",v.attr("data-original")||x).attr("data-title",v.attr("alt")||v.attr("data-title")||""),v.visible(!1)),e._fireEvent("draw-item",{item:w[0],image:v[0]})}})},changeAttribute:function(e,i){let l=this.options;e==="data-use-background"&&(l.useBackground=t.utils.bool(i),this._createItems()),e==="data-background-size"&&(l.backgroundSize=i,this._createItems()),e==="data-background-position"&&(l.backgroundPosition=i,this._createItems())},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={imageMagnifierDeferred:0,width:"100%",height:"auto",lensSize:100,lensType:"square",magnifierZoom:2,magnifierMode:"glass",magnifierZoomElement:null,clsMagnifier:"",clsLens:"",clsZoom:"",onMagnifierMove:t.noop,onImageMagnifierCreate:t.noop};t.imageMagnifierSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroImageMagnifierSetup<"u"&&t.imageMagnifierSetup(globalThis.metroImageMagnifierSetup),t.Component("image-magnifier",{init:function(e,i){return this._super(i,e,p,{zoomElement:null,id:t.utils.elementId("image-magnifier")}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-magnifier-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l,h,v,x=e.find("img");if(x.length===0)throw new Error("Image not defined");switch(t.utils.isValue(e.attr("id"))||e.attr("id",t.utils.elementId("image-magnifier")),e.addClass("image-magnifier").css({width:i.width}).addClass(i.clsMagnifier),h=e.width(),i.height){case"16/9":v=t.utils.aspectRatioH(h,i.height);break;case"21/9":v=t.utils.aspectRatioH(h,i.height);break;case"4/3":v=t.utils.aspectRatioH(h,i.height);break;case"auto":v=t.utils.aspectRatioH(h,"16/9");break;default:v=i.height}e.css({height:v});let w=h/2-i.lensSize/2,D=v/2-i.lensSize/2;if(i.magnifierMode==="glass")l=o("<div>").addClass("image-magnifier-glass").appendTo(e),l.css({width:i.lensSize,height:i.lensSize,borderRadius:i.lensType!=="circle"?0:"50%",top:D,left:w,backgroundImage:`url(${x[0].src})`,backgroundRepeat:"no-repeat",backgroundPosition:`-${w*i.magnifierZoom-i.lensSize/4+4}px -${D*i.magnifierZoom-i.lensSize/4+4}px`,backgroundSize:`${x[0].width*i.magnifierZoom}px ${x[0].height*i.magnifierZoom}px`}).addClass(i.clsLens);else{l=o("<div>").addClass("image-magnifier-glass").appendTo(e),l.css({width:i.lensSize,height:i.lensSize,borderRadius:0,borderWidth:1,top:D,left:w}).addClass(i.clsLens),!t.utils.isValue(i.magnifierZoomElement)||o(i.magnifierZoomElement).length===0?this.zoomElement=o("<div>").insertAfter(e):this.zoomElement=o(i.magnifierZoomElement);let M=l[0].offsetWidth*i.magnifierZoom,I=l[0].offsetHeight*i.magnifierZoom,B=M/i.lensSize,Y=I/i.lensSize;this.zoomElement.css({width:M,height:I,backgroundImage:`url(${x[0].src})`,backgroundRepeat:"no-repeat",backgroundPosition:`-${w*B}px -${D*Y}px`,backgroundSize:`${x[0].width*B}px ${x[0].height*Y}px`}).addClass(i.clsZoom)}},_createEvents:function(){let e=this.element,i=this.options,l=e.find(".image-magnifier-glass"),h=l[0].offsetWidth/2,v=e.find("img")[0],x=this.zoomElement,w,D;o(globalThis).on(t.events.resize,()=>{let I=e.width()/2-i.lensSize/2,B=e.height()/2-i.lensSize/2;i.magnifierMode==="glass"&&l.css({backgroundPosition:`-${I*i.magnifierZoom-i.lensSize/4+4}px -${B*i.magnifierZoom-i.lensSize/4+4}px`,backgroundSize:`${v.width*i.magnifierZoom}px ${v.height*i.magnifierZoom}px`})},{ns:this.id}),i.magnifierMode!=="glass"&&(w=x[0].offsetWidth/h/2,D=x[0].offsetHeight/h/2,x.css({backgroundSize:`${v.width*w}px ${v.height*D}px`}));let M=I=>{let B,Y,X=Number.parseInt(i.magnifierZoom);i.magnifierMode==="glass"?(B=I.x,Y=I.y,B>v.width-h/X&&(B=v.width-h/X),B<h/X&&(B=h/X),Y>v.height-h/X&&(Y=v.height-h/X),Y<h/X&&(Y=h/X),l.css({top:Y-h,left:B-h,backgroundPosition:`-${B*X-h+4}px -${Y*X-h+4}px`})):(B=I.x-h,Y=I.y-h,B>v.width-h*2&&(B=v.width-h*2),B<0&&(B=0),Y>v.height-h*2&&(Y=v.height-h*2),Y<0&&(Y=0),l.css({top:Y,left:B}),x.css({backgroundPosition:`-${B*w}px -${Y*D}px`}))};e.on(t.events.move,I=>{let B=t.utils.getCursorPosition(v,I);M(B),this._fireEvent("magnifier-move",{pos:B,glass:l[0],zoomElement:x?x[0]:void 0}),I.preventDefault()}),e.on(t.events.leave,()=>{let I=e.width()/2-i.lensSize/2,B=e.height()/2-i.lensSize/2;l.animate({draw:{top:B,left:I}}),M({x:I+i.lensSize/2,y:B+i.lensSize/2})})},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off(t.events.move),e.off(t.events.leave),e.remove()}})})(Metro,Dom),((t,o)=>{let p={size:"100x100",width:null,height:null,color:"#f8f8f8",textColor:"#292929",font:"12px sans-serif",text:"",showText:!0,onImagePlaceholderCreate:t.noop};t.imagePlaceholderSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroImagePlaceholderSetup<"u"&&t.imagePlaceholderSetup(globalThis.metroImagePlaceholderSetup),t.Component("image-placeholder",{init:function(e,i){return this._super(i,e,p,{width:0,height:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("image-placeholder-create")},_createStructure:function(){let e=this.element,i=this.options,l=i.size.toArray("x");this.width=i.width?i.width:l[0],this.height=i.height?i.height:l[1],e.attr("src",this._createPlaceholder())},_createEvents:()=>{},_createPlaceholder:function(){let e=this.options,i=document.createElement("canvas"),l=i.getContext("2d"),h=this.width,v=this.height;return i.width=Number.parseInt(h),i.height=Number.parseInt(v),l.clearRect(0,0,h,v),l.fillStyle=e.color,l.fillRect(0,0,h,v),l.fillStyle=e.textColor,l.font=e.font,l.translate(h/2,v/2),l.textAlign="center",l.textBaseline="middle",e.showText&&l.fillText(e.text?e.text:`${h} × ${v}`,0,0),i.toDataURL()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={infoboxDeferred:0,type:"",width:480,height:"auto",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,autoHide:0,removeOnClose:!1,closeButton:!0,clsBox:"",clsBoxContent:"",clsOverlay:"",onOpen:t.noop,onClose:t.noop,onInfoBoxCreate:t.noop};t.infoBoxSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroInfoBoxSetup<"u"&&t.infoBoxSetup(globalThis.metroInfoBoxSetup),t.Component("info-box",{init:function(e,i){return this._super(i,e,p,{overlay:null,id:t.utils.elementId("info-box")}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("info-box-create",{element:e})},_overlay:function(){let e=this.options,i=o("<div>");return i.addClass("overlay").addClass(e.clsOverlay),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(e.overlayColor),e.overlayAlpha)}),i},_createStructure:function(){let e=this.element,i=this.options,l;i.overlay===!0&&(this.overlay=this._overlay()),e.addClass("info-box").addClass(i.type).addClass(i.clsBox),l=e.find("closer"),l.length===0&&(l=o("<span>").addClass("button square closer"),l.appendTo(e)),i.closeButton!==!0&&l.hide();let h=e.find(".info-box-content");h.length>0&&h.addClass(i.clsBoxContent),e.css({width:i.width,height:i.height,visibility:"hidden",top:"100%",left:(o(globalThis).width()-e.outerWidth())/2}),e.appendTo(o("body"))},_createEvents:function(){let e=this.element;e.on(t.events.click,".closer",()=>{this.close()}),e.on(t.events.click,".js-dialog-close",()=>{this.close()}),o(globalThis).on(t.events.resize,()=>{this.reposition()},{ns:this.id})},_setPosition:function(){let e=this.element;e.css({top:(o(globalThis).height()-e.outerHeight())/2,left:(o(globalThis).width()-e.outerWidth())/2})},reposition:function(){this._setPosition()},setContent:function(e){let i=this.element.find(".info-box-content");i.length!==0&&(i.html(e),this.reposition())},setType:function(e){this.element.removeClass("success info alert warning").addClass(e)},open:function(){let e=this.element,i=this.options;i.overlay===!0&&o(".overlay").length===0&&(this.overlay.appendTo(o("body")),i.overlayClickClose===!0&&this.overlay.on(t.events.click,()=>{this.close()})),this._setPosition(),e.css({visibility:"visible"}),this._fireEvent("open"),e.data("open",!0),Number.parseInt(i.autoHide)>0&&setTimeout(()=>{this.close()},Number.parseInt(i.autoHide))},close:function(){let e=this.element,i=this.options;i.overlay===!0&&o("body").find(".overlay").remove(),e.css({visibility:"hidden",top:"100%"}),this._fireEvent("close"),e.data("open",!1),i.removeOnClose===!0&&(this.destroy(),e.remove())},isOpen:function(){return this.element.data("open")===!0},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off("all"),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}}),t.infobox={isInfoBox:e=>t.utils.isMetroObject(e,"infobox"),open:function(e,i,l){if(!this.isInfoBox(e))return!1;let h=t.getPlugin(e,"infobox");i!==void 0&&h.setContent(i),l!==void 0&&h.setType(l),h.open()},close:function(e){if(!this.isInfoBox(e))return!1;t.getPlugin(e,"infobox").close()},setContent:function(e,i=""){if(!this.isInfoBox(e))return!1;let l=t.getPlugin(e,"infobox");l.setContent(i),l.reposition()},setType:function(e,i){if(!this.isInfoBox(e))return!1;let l=t.getPlugin(e,"infobox");l.setType(i),l.reposition()},isOpen:function(e){return this.isInfoBox(e)?t.getPlugin(e,"infobox").isOpen():!1},create:(e,i,l,h)=>{let v=t.utils.$(),x,w=i!==void 0?i:"",D=v("<div>").appendTo(v("body"));v("<div>").addClass("info-box-content").appendTo(D);let M=v.extend({},{removeOnClose:!0,type:w},l!==void 0?l:{});return M._runtime=!0,D.infobox(M),x=t.getPlugin(D,"infobox"),x.setContent(e),h!==!1&&x.open(),D}}})(Metro,Dom),((t,o)=>{let p={maskPattern:".",mask:null,maskPlaceholder:"_",maskEditableStart:0,thresholdInterval:300,onChar:t.noop,onInputMaskCreate:t.noop};t.inputMaskSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroInputMaskSetup<"u"&&t.inputMaskSetup(globalThis.metroInputMaskSetup),t.Component("input-mask",{init:function(e,i){return this._super(i,e,p,{pattern:null,mask:"",maskArray:[],placeholder:"",length:0,thresholdTimer:null,id:t.utils.elementId("input-mask")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("input-mask-create")},_createStructure:function(){let e=this.options;if(!e.mask)throw new Error("You must provide a pattern for masked input.");if(typeof e.maskPlaceholder!="string"||e.maskPlaceholder.length>1)throw new Error("Mask placeholder should be a single character or an empty string.");this.placeholder=e.maskPlaceholder,this.mask=`${e.mask}`,this.maskArray=this.mask.split(""),this.pattern=new RegExp(`^${e.maskPattern}+$`),this.length=this.mask.length,this._showValue()},_createEvents:function(){let e=this,i=this.element,l=this.options,h=l.maskEditableStart,v=this.id,x=B=>B<h?(M(h),!1):!0,w=B=>B<e.mask.length&&e.mask.charAt(B)===e.placeholder,D=B=>{let Y,X=e.maskArray;for(Y=B;Y<=X.length;Y++)if(X[Y]===e.placeholder)return Y;return B},M=B=>{e.elem.setSelectionRange(B,B)},I=()=>{clearInterval(e.thresholdTimer),e.thresholdTimer=null};i.on("change",function(){this.value===""&&(this.value=e.mask,M(h))},{ns:v}),i.on("focus click",function(){x(this.selectionStart),M(D(this.selectionStart))},{ns:v}),i.on("keydown",function(B){let Y=this.selectionStart,X=this.value,ie=B.code,Fe=B.key;if(ie==="ArrowRight"||ie==="End")return!0;Y>=e.length&&["Backspace","Home","ArrowLeft","ArrowUp"].indexOf(ie)===-1?B.preventDefault():ie==="Home"||ie==="ArrowUp"?(B.preventDefault(),M(h)):ie==="ArrowLeft"?Y-1<h&&B.preventDefault():ie==="Backspace"?(B.preventDefault(),Y-1>=h&&(w(Y-1)&&this.value.charAt(Y-1)!==e.placeholder&&(this.value=X.substr(0,Y-1)+e.placeholder+X.substr(Y)),M(Y-1))):ie==="Space"?(B.preventDefault(),M(Y+1)):e.pattern.test(Fe)?(B.preventDefault(),w(Y)&&(this.value=X.substr(0,Y)+(l.onChar===t.noop?Fe:t.utils.exec(l.onChar,[Fe],this))+X.substr(Y+1),M(D(Y+1)))):B.preventDefault()},{ns:v}),i.on("keyup",function(){I(),e.thresholdTimer=setInterval(()=>{I(),M(D(this.selectionStart))},l.thresholdInterval)},{ns:v})},_showValue:function(){let e=this.elem,i=new Array(this.length),l;e.value?(l=e.value,o.each(this.maskArray,(h,v)=>{l[h]!==v&&!this.pattern.test(l[h])?i[h]=this.placeholder:i[h]=l[h]}),this.elem.value=i.join("")):e.value=this.mask},destroy:function(){let e=this.element,i=this.id;return e.off("change",{ns:i}),e.off("focus",{ns:i}),e.off("click",{ns:i}),e.off("keydown",{ns:i}),e.off("keyup",{ns:i}),e}})})(Metro,Dom),((t,o)=>{let p={materialInputDeferred:0,label:"",informer:"",icon:"",permanentLabel:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"❌",revealButtonIcon:"👀",searchButtonIcon:"🔍",customButtons:[],searchButtonClick:"submit",clsComponent:"",clsInput:"",clsLabel:"",clsInformer:"",clsIcon:"",clsLine:"",onInputCreate:t.noop};t.materialInputSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroMaterialInputSetup<"u"&&t.materialInputSetup(globalThis.metroMaterialInputSetup),t.Component("material-input",{init:function(e,i){return this._super(i,e,p,{history:[],historyIndex:-1}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l,h;e[0].className="",e.attr("autocomplete","nope"),e.attr("type")===void 0&&e.attr("type","text"),l=e.wrap("<div>").addClass(`input-material ${e[0].className}`),h=o("<div>").addClass("buttons").appendTo(l),i.label&&o("<span>").html(i.label).addClass("label").addClass(i.clsLabel).insertAfter(e),t.utils.isValue(i.informer)&&o("<span>").html(i.informer).addClass("informer").addClass(i.clsInformer).insertAfter(e),t.utils.isValue(i.icon)&&(l.addClass("with-icon"),o("<span>").html(i.icon).addClass("icon").addClass(i.clsIcon).insertAfter(e)),i.clearButton===!0&&!e[0].readOnly&&o("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).appendTo(h),e.attr("type")==="password"&&i.revealButton===!0&&o("<button>").addClass("button input-reveal-button").addClass(i.clsRevealButton).attr("tabindex",-1).attr("type","button").html(i.revealButtonIcon).appendTo(h),i.searchButton===!0&&o("<button>").addClass("button input-search-button").addClass(i.clsSearchButton).attr("tabindex",-1).attr("type",i.searchButtonClick==="submit"?"submit":"button").html(i.searchButtonIcon).appendTo(h);let v=t.utils.isObject(i.customButtons);Array.isArray(v)&&o.each(v,function(){let x=o("<button>");x.addClass("button input-custom-button").addClass(i.clsCustomButton).addClass(this.cls).attr("tabindex",-1).attr("type","button").html(this.text),this.attr&&typeof this.attr=="object"&&o.each(this.attr,(w,D)=>{x.attr(Str.dashedName(w),D)}),this.onclick&&x.on("click",()=>{this.onclick.apply(x,[e.valueOf(),e])}),x.appendTo(h)}),l.append(o("<hr>").addClass(i.clsLine)),i.permanentLabel===!0&&l.addClass("permanent-label"),l.addClass(i.clsComponent),e.addClass(i.clsInput),e.is(":disabled")?this.disable():this.enable(),this.component=l},_createEvents:function(){let e=this,i=this.options,l=this.element;this.component.on(t.events.click,".input-clear-button",()=>{let h=l.val();l.val("").fire("clear").fire("change").fire("keyup").focus(),e._fireEvent("clear-click",{prev:h})}),this.component.on(t.events.click,".input-reveal-button",()=>{l.attr("type")==="password"?l.attr("type","text"):l.attr("type","password"),e._fireEvent("reveal-click",{val:l.val()})}),this.component.on(t.events.click,".input-search-button",function(){i.searchButtonClick!=="submit"?e._fireEvent("search-button-click",{val:l.val(),button:this}):this.form&&this.form.submit()}),l.on(t.events.keydown,h=>{h.keyCode===t.keyCode.ENTER&&e._fireEvent("enter-click",{val:l.val()})})},clear:function(){this.element.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let p={keypadDeferred:0,label:"",keySize:36,keys:"1, 2, 3, 4, 5, 6, 7, 8, 9, 0",exceptKeys:"",keySeparator:"",trimSeparator:!1,keyDelimiter:",",copyInlineStyles:!1,target:null,keyLength:0,shuffle:!1,shuffleCount:3,serviceButtons:!0,showValue:!0,open:!1,useElementSizeForKeys:!1,openMode:"auto",clsKeypad:"",clsInput:"",clsKeys:"",clsKey:"",clsServiceKey:"",clsBackspace:"",clsClear:"",clsLabel:"",onChange:t.noop,onClear:t.noop,onBackspace:t.noop,onShuffle:t.noop,onKey:t.noop,onKeypadCreate:t.noop};t.keypadSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroKeypadSetup<"u"&&t.keypadSetup(globalThis.metroKeypadSetup),t.Component("keypad",{init:function(e,i){return this._super(i,e,p,{value:i.tagName==="INPUT"?i.value:i.innerText,positions:["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],keypad:null,keys:[],keys_to_work:[],exceptKeys:[]}),this},_create:function(){let e=this.element,i=this.options;this.options.position="bottom-left",this.keys=i.keys.toArray(i.keyDelimiter),this.keys_to_work=this.keys,this.exceptKeys=i.exceptKeys.toArray(i.keyDelimiter),this._createKeypad(),i.shuffle===!0&&this.shuffle(),this._createKeys(),this._createEvents(),this._fireEvent("keypad-create",{element:e})},_createKeypad:function(){let e=this.element,i=this.options,l,h=e.wrap("<div>").addClass("input keypad").addClass(e[0].className).addClass(i.clsKeypad);if(e.attr("type")===void 0&&e.attr("type","text"),e.attr("readonly",!0),l=o("<div>").addClass("keys").addClass(i.clsKeys),l.appendTo(h),this._setKeysPosition(),i.open===!0&&l.addClass("open keep-open"),e[0].className="",i.copyInlineStyles===!0){let x=0,w=e[0].style.length;for(;x<w;x++)h.css(e[0].style[x],e.css(e[0].style[x]))}e.addClass(i.clsInput),h.addClass(i.clsKeypad),e.on(t.events.blur,()=>{h.removeClass("focused")}),e.on(t.events.focus,()=>{h.addClass("focused")});let v=o("<div>").addClass("button-group").appendTo(h);if(o("<button>").addClass("button input-kbd-button").addClass(i.clsKbdButton).attr("tabindex",-1).attr("type","button").html("⌨").appendTo(v),i.label){let x=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(h);if(e.attr("id"))x.attr("for",e.attr("id"));else{let w=Hooks.useId(e[0]);e.id(w),x.attr("for",w)}e.attr("dir")==="rtl"&&x.addClass("rtl")}i.disabled===!0||e.is(":disabled")?this.disable():this.enable(),this.keypad=h},_setKeysPosition:function(){let e=this.element,i=this.options;e.parent().find(".keys").removeClass(this.positions.join(" ")).addClass(i.position)},_createKeys:function(){let e=this.element,i=this.options,l=e.parent(),h,v=l.find(".keys"),x=Math.round(Math.sqrt(this.keys.length+2)),w=i.keySize,D;if(v.html(""),o.each(this.keys_to_work,function(){h=o("<span>").addClass("key").addClass(i.clsKey).html(this),h.data("key",this),h.css({width:i.keySize,height:i.keySize,lineHeight:i.keySize-4}).appendTo(v)}),i.serviceButtons===!0){let M=["&larr;","&times;"];o.each(M,function(){h=o("<span>").addClass("key service-key").addClass(i.clsKey).addClass(i.clsServiceKey).html(this),this==="&larr;"&&h.addClass(i.clsBackspace),this==="&times;"&&h.addClass(i.clsClear),h.data("key",this),h.css({width:i.keySize,height:i.keySize,lineHeight:i.keySize-4}).appendTo(v)})}i.useElementSizeForKeys===!0?v.outerWidth(e.outerWidth()):(D=x*(w+2)-6,v.outerWidth(D))},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.parent(),v=h.find(".keys");v.on(t.events.click,".key",function(x){let w=o(this),D=w.data("key"),M;if(w.data("key")!=="&larr;"&&w.data("key")!=="&times;"){if(l.keyLength>0&&`${e.value}`.length===l.keyLength)return!1;e.exceptKeys.indexOf(D)===-1&&(e.value=e.value+(e.value!==""?l.keySeparator:"")+D),l.shuffle===!0&&(e.shuffle(),e._createKeys()),l.dynamicPosition===!0&&(l.position=e.positions[o.random(0,e.positions.length-1)],e._setKeysPosition()),e._fireEvent("key",{key:w.data("key"),val:e.value})}else w.data("key")==="&times;"&&(e.value="",e._fireEvent("clear")),w.data("key")==="&larr;"&&(M=l.keySeparator&&e.value[e.value.length-1]!==l.keySeparator?2:1,e.value=e.value.substring(0,e.value.length-M),e._fireEvent("backspace",{val:e.value}));l.showValue===!0&&(i[0].tagName==="INPUT"?i.val(e.value):i.text(e.value)),e._fireEvent("change",{val:e.val}),x.preventDefault(),x.stopPropagation()}),h.on(t.events.click,x=>{l.open!==!0&&(v.hasClass("open")===!0?v.removeClass("open").removeClass("top-left"):(v.addClass("open"),l.openMode==="auto"?t.utils.inViewport(v[0])===!1&&v.addClass("top-left"):l.openMode==="up"&&v.addClass("top-left")),x.preventDefault(),x.stopPropagation())}),l.target!==null&&i.on(t.events.change,()=>{let x=o(l.target);x.length!==0&&(x[0].tagName==="INPUT"?x.val(e.value):x.text(e.value))})},shuffle:function(){let e=this.options;for(let i=0;i<e.shuffleCount;i++)this.keys_to_work=this.keys_to_work.shuffle();this._fireEvent("shuffle",{keysToWork:this.keys_to_work,keys:this.keys})},shuffleKeys:function(e=3){for(let i=0;i<e;i++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(e){let i=this.element,l=this.options;return typeof e>"u"?l.trimSeparator?this.value.replace(new RegExp(l.keySeparator,"g")):this.value:(this.value=`${e}`,i[0].tagName==="INPUT"?i.val(e):i.text(e),this)},open:function(){let e=this.element,i=this.options,l=e.parent().find(".keys");l.addClass("open"),i.openMode==="auto"?t.utils.inViewport(l[0])===!1&&l.addClass("top-left"):i.openMode==="up"&&l.addClass("top-left")},close:function(){this.element.parent().find(".keys").removeClass("open").removeClass("top-left")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setPosition:function(e){let i=e!==void 0?e:this.element.attr("data-position");this.positions.indexOf(i)!==-1&&(this.options.position=i,this._setKeysPosition())},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break;case"data-position":this.setPosition();break}},destroy:function(){let e=this.element,i=this.options,l=this.keypad,h=l.find(".keys");l.off(t.events.click),h.off(t.events.click,".key"),e.off(t.events.change),i.label&&l.prev("label").remove(),l.remove()}}),o(document).on(t.events.click,()=>{let e=o(".keypad .keys");o.each(e,function(){o(this).hasClass("keep-open")||o(this).removeClass("open")})})})(Metro,Dom),((t,o)=>{let p={loop:!0,source:"img",iconClose:"❌",iconPrev:"🡐",iconNext:"🡒",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:t.noop,onLightboxCreate:t.noop};t.lightboxSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroLightboxSetup<"u"&&t.lightboxSetup(globalThis.metroLightboxSetup),t.Component("lightbox",{init:function(e,i){return this._super(i,e,p,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){let e=this.options;e.source||(e.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){let e=this.options,i;i=o(".lightbox-overlay"),i.length===0&&(i=o("<div>").addClass("lightbox-overlay").appendTo("body").hide());let l=o("<div>").addClass("lightbox").addClass(e.clsLightbox).appendTo("body").hide();o("<span>").addClass("lightbox__prev").addClass(e.clsPrev).html(e.iconPrev).appendTo(l),o("<span>").addClass("lightbox__next").addClass(e.clsNext).html(e.iconNext).appendTo(l),o("<span>").addClass("lightbox__closer").addClass(e.clsClose).html(e.iconClose).appendTo(l),o("<div>").addClass("lightbox__image").addClass(e.clsImageContainer).appendTo(l),this.component=l[0],this.lightbox=l,this.overlay=i},_createEvents:function(){let e=this,i=this.element,l=this.options,h=o(this.component);i.on(t.events.click,l.source,function(){e.open(this)}),h.on(t.events.click,".lightbox__closer",()=>{e.close()}),h.on(t.events.click,".lightbox__prev",()=>{e.prev()}),h.on(t.events.click,".lightbox__next",()=>{e.next()})},_setupItems:function(){let e=this.element,i=this.options,l=e.find(i.source);l.length!==0&&(this.items=l)},_goto:function(e){let i=this,l=this.options,h=o(e),v=o("<img>"),x,w=this.lightbox.find(".lightbox__image");w.find(".lightbox__image-wrapper").remove();let D=o("<div>").addClass("lightbox__image-wrapper").addClass(l.clsImageWrapper).attr("data-title",h.attr("alt")||h.attr("data-title")||"").appendTo(w),M=o("<div>").appendTo(D);t.makePlugin(M,"activity",{type:"cycle",style:"color"}),this.current=e,(e.tagName==="IMG"||e.tagName==="DIV")&&(x=h.attr("data-original")||h.attr("src"),v.attr("src",x),v[0].onload=function(){let I=this.height>this.width;v.addClass(I?"lightbox__image-portrait":"lightbox__image-landscape").addClass(l.clsImage),v.attr("alt",h.attr("alt")),v.appendTo(D),M.remove(),i._fireEvent("draw-image",{image:v[0],item:D[0]})})},_index:function(e){let i=-1;return this.items.each(function(l){this===e&&(i=l)}),i},next:function(){let e,i=this.current;if(e=this._index(i),e+1>=this.items.length)if(this.options.loop)e=-1;else return;this._goto(this.items[e+1])},prev:function(){let e,i=this.current;if(e=this._index(i),e-1<0)if(this.options.loop)e=this.items.length;else return;this._goto(this.items[e-1])},open:function(e){return this._setupItems(),this._goto(e),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={listDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationShortMode:!0,thousandSeparator:",",decimalSeparator:",",itemTag:"li",defaultTemplateTag:"div",sortClass:null,sortDir:"asc",sortInitial:!0,filterClass:null,filter:null,filterString:"",filters:null,source:null,showItemsSteps:!1,showSearch:!1,showListInfo:!1,showPagination:!1,showActivity:!0,muteList:!0,items:-1,itemsSteps:"all, 10,25,50,100",itemsAllTitle:"Show all",listItemsCountTitle:"Show entries:",listSearchTitle:"Search:",listInfoTitle:"Showing $1 to $2 of $3 entries",paginationPrevTitle:"Prev",paginationNextTitle:"Next",activityType:"cycle",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,searchThreshold:500,clsComponent:"",clsList:"",clsListItem:"",clsListTop:"",clsItemsCount:"",clsSearch:"",clsListBottom:"",clsListInfo:"",clsListPagination:"",clsPagination:"",clsTemplateTag:"",onDraw:t.noop,onDrawItem:t.noop,onSortStart:t.noop,onSortStop:t.noop,onSortItemSwitch:t.noop,onSearch:t.noop,onRowsCountChange:t.noop,onDataLoad:t.noop,onDataLoaded:t.noop,onDataLoadError:t.noop,onFilterItemAccepted:t.noop,onFilterItemDeclined:t.noop,onListCreate:t.noop};t.listSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroListSetup<"u"&&t.listSetup(globalThis.metroListSetup),t.Component("list",{init:function(e,i){return this._super(i,e,p,{currentPage:1,pagesCount:1,filterString:"",data:null,activity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,filterIndex:null,filtersIndexes:[],itemTemplate:null,sort:{dir:"asc",colIndex:0},header:null,items:[]}),this},_create:function(){let e=this.options;e.source?(this._fireEvent("data-load",{source:e.source}),fetch(e.source).then(t.fetch.status).then(t.fetch.json).then(i=>{this._fireEvent("data-loaded",{source:e.source,data:i}),this._build(i)}).catch(i=>{this._fireEvent("data-load-error",{source:e.source,error:i})})):this._build()},_build:function(e){t.utils.isValue(e)?this._createItemsFromJSON(e):this._createItemsFromHTML(),this._createStructure(),this._createEvents(),this._fireEvent("list-create")},_createItemsFromHTML:function(){let e=this,i=this.element,l=this.options,h=`${l.clsTemplateTag}`.toArray(",");this.items=[],o.each(i.children(l.itemTag),function(){let v=o(this).children("*");h.length&&(h.length===1?v.addClass(h[0]):v.each((x,w)=>{o(w).addClass(h[x]?h[x]:h[h.length-1])})),e.items.push(this)})},_createItemsFromJSON:function(e){let i=this,l=this.options,h=`${l.clsTemplateTag}`.toArray(",");this.items=[],t.utils.isValue(e.template)&&(this.itemTemplate=e.template),t.utils.isValue(e.header)&&(this.header=e.header),t.utils.isValue(e.data)&&o.each(e.data,function(){let v="",x=document.createElement(l.itemTag),w=i.itemTemplate,D;if(t.utils.isValue(w))v=t.template(w,this,{beginToken:l.templateBeginToken,endToken:l.templateEndToken});else for(let M in this)v+=`<${l.defaultTemplateTag}>${this[M]}</${l.defaultTemplateTag}>`;x.innerHTML=v,D=o(x).children("*"),h.length&&(h.length===1?D.addClass(h[0]):D.each((M,I)=>{o(I).addClass(h[M]?h[M]:h[h.length-1])})),i.items.push(x)})},_createTopBlock:function(){let e=this.element,i=this.options,l=o("<div>").addClass("list-top").addClass(i.clsListTop).insertBefore(e),h,v;h=t.utils.isValue(this.wrapperSearch)?this.wrapperSearch:o("<div>").addClass("list-search-block").addClass(i.clsSearch).appendTo(l);let x=o("<input>").attr("type","text").appendTo(h);t.makePlugin(x,"input",{prepend:i.listSearchTitle}),i.showSearch!==!0&&h.hide(),v=t.utils.isValue(this.wrapperRows)?this.wrapperRows:o("<div>").addClass("list-rows-block").addClass(i.clsItemsCount).appendTo(l);let w=o("<select>").appendTo(v);return o.each(i.itemsSteps.toArray(),function(){let D=o("<option>").attr("value",this==="all"?-1:this).text(this==="all"?i.itemsAllTitle:this).appendTo(w);+this==+i.items&&D.attr("selected","selected")}),w.select({filter:!1,prepend:i.listItemsCountTitle,onChange:D=>{+D!=+i.items&&(i.items=Number.parseInt(D),this.currentPage=1,this._draw(),this._fireEvent("rows-count-change",{val:D}))}}),i.showItemsSteps!==!0&&v.hide(),l},_createBottomBlock:function(){let e=this.element,i=this.options,l=o("<div>").addClass("list-bottom").addClass(i.clsListBottom).insertAfter(e),h,v;return h=o("<div>").addClass("list-info").addClass(i.clsListInfo).appendTo(l),i.showListInfo!==!0&&h.hide(),v=o("<div>").addClass("list-pagination").addClass(i.clsListPagination).appendTo(l),i.showPagination!==!0&&v.hide(),l},_createStructure:function(){let e=this,i=this.element,l=this.options,h,v=o(l.searchWrapper),x=o(l.infoWrapper),w=o(l.rowsWrapper),D=o(l.paginationWrapper);v.length>0&&(this.wrapperSearch=v),x.length>0&&(this.wrapperInfo=x),w.length>0&&(this.wrapperRows=w),D.length>0&&(this.wrapperPagination=D),i.parent().hasClass("list-component")?h=i.parent():(h=o("<div>").addClass("list-component").insertBefore(i),i.appendTo(h)),h.addClass(l.clsComponent),this.activity=o("<div>").addClass("list-progress").appendTo(h),o("<div>").activity({type:l.activityType,style:l.activityStyle}).appendTo(this.activity),l.showActivity!==!0&&this.activity.css({visibility:"hidden"}),i.addClass(l.clsList),this._createTopBlock(),this._createBottomBlock(),t.utils.isValue(l.filterString)&&(this.filterString=l.filterString);let M;t.utils.isValue(l.filter)&&(M=t.utils.isFunc(l.filter),M===!1&&(M=t.utils.func(l.filter)),e.filterIndex=e.addFilter(M)),t.utils.isValue(l.filters)&&typeof l.filters=="string"&&o.each(l.filters.toArray(),function(){M=t.utils.isFunc(this),M!==!1&&e.filtersIndexes.push(e.addFilter(M))}),this.currentPage=1,l.sortInitial!==!1?this.sorting(l.sortClass,l.sortDir,!0):this.draw()},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.parent(),v=h.find(".list-search-block input"),x,w=function(){e.filterString=this.value.trim().toLowerCase(),e.filterString[e.filterString.length-1]!==":"&&(e.currentPage=1,e._draw())};w=Hooks.useDebounce(w,l.searchThreshold),v.on(t.events.inputchange,w),t.utils.isValue(this.wrapperSearch)&&(x=this.wrapperSearch.find("input"),x.length>0&&x.on(t.events.inputchange,w));function D(M){let I=o(M),B=I.parent();B.hasClass("active")||(B.hasClass("service")?I.data("page")==="prev"?(e.currentPage--,e.currentPage===0&&(e.currentPage=1)):(e.currentPage++,e.currentPage>e.pagesCount&&(e.currentPage=e.pagesCount)):e.currentPage=I.data("page"),e._draw())}h.on(t.events.click,".pagination .page-link",function(){D(this)}),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.on(t.events.click,".pagination .page-link",function(){D(this)})},_info:function(e,i,l){let h=this.element,v=this.options,x=h.parent(),w=t.utils.isValue(this.wrapperInfo)?this.wrapperInfo:x.find(".list-info"),D,M=i,I=e,B=l;w.length!==0&&(M>l&&(M=l),this.items.length===0&&(I=M=B=0),D=v.listInfoTitle,D=D.replace("$1",I),D=D.replace("$2",M),D=D.replace("$3",B),w.html(D))},_paging:function(e){let i=this.element,l=this.options,h=i.parent();this.pagesCount=Math.ceil(e/l.items),t.pagination({length:e,rows:l.items,current:this.currentPage,target:t.utils.isValue(this.wrapperPagination)?this.wrapperPagination:h.find(".list-pagination"),claPagination:l.clsPagination,prevTitle:l.paginationPrevTitle,nextTitle:l.paginationNextTitle,distance:l.paginationShortMode===!0?l.paginationDistance:0})},_filter:function(){let e=this.options,i,l,h,v,x,w;return t.utils.isValue(this.filterString)||this.filters.length>0?(i=this.items.filter(D=>{if(h="",t.utils.isValue(e.filterClass)){if(v=D.getElementsByClassName(e.filterClass),v.length>0)for(l=0;l<v.length;l++)h+=v[l].textContent}else h=D.textContent;if(x=h.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),w=t.utils.isValue(this.filterString)?x.indexOf(this.filterString)>-1:!0,w===!0&&this.filters.length>0){for(l=0;l<this.filters.length;l++)if(t.utils.exec(this.filters[l],[D])!==!0){w=!1;break}}return w?this._fireEvent("filter-item-accepted",{item:D}):this._fireEvent("filter-item-declined",{item:D}),w}),this._fireEvent("search",{search:this.filterString,items:i})):i=this.items,i},_draw:function(e){let i=this.element,l=this.options,h,v=l.items===-1?0:l.items*(this.currentPage-1),x=l.items===-1?this.items.length-1:v+l.items-1,w;for(w=this._filter(),i.children(l.itemTag).remove(),h=v;h<=x;h++)t.utils.isValue(w[h])&&o(w[h]).addClass(l.clsListItem).appendTo(i),this._fireEvent("draw-item",{item:w[h]});this._info(v+1,x+1,w.length),this._paging(w.length),this.activity.hide(),this._fireEvent("draw"),e&&t.utils.exec(e,[i],i[0])},_getItemContent:function(e){let i=this.locale,l=this.options,h=o(e),v,x,w,D,M=t.utils.isValue(h.data("formatMask"))?h.data("formatMask"):null;if(t.utils.isValue(l.sortClass)){if(w="",x=o(e).find(`.${l.sortClass}`),x.length>0)for(v=0;v<x.length;v++)w+=x[v].textContent;D=x.length>0?x[0].getAttribute("data-format"):""}else w=e.textContent,D=e.getAttribute("data-format");if(w=`${w}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),t.utils.isValue(D))switch(["number","int","integer","float","money"].indexOf(D)!==-1&&(l.thousandSeparator!==","||l.decimalSeparator!==".")&&(w=t.utils.parseNumber(w,l.thousandSeparator,l.decimalSeparator)),D){case"date":w=M?Datetime.from(w,M,i):datetime(w);break;case"number":w=Number(w);break;case"int":case"integer":w=Number.parseInt(w);break;case"float":w=Number.parseFloat(w);break;case"money":w=t.utils.parseMoney(w);break;case"card":w=t.utils.parseCard(w);break;case"phone":w=t.utils.parsePhone(w);break}return w},deleteItem:function(e){let i,l=[],h,v=t.utils.isFunc(e);for(i=0;i<this.items.length;i++)h=this.items[i],v?t.utils.exec(e,[h])&&l.push(i):h.textContent.includes(e)&&l.push(i);return this.items=t.utils.arrayDeleteByMultipleKeys(this.items,l),this},draw:function(){return this._draw()},sorting:function(e,i,l){let h=this.options;return t.utils.isValue(e)&&(h.sortClass=e),t.utils.isValue(i)&&["asc","desc"].indexOf(i)>-1&&(h.sortDir=i),this._fireEvent("sort-start",{items:this.items}),this.items.sort((v,x)=>{let w=this._getItemContent(v),D=this._getItemContent(x),M=0;return w<D&&(M=h.sortDir==="asc"?-1:1),w>D&&(M=h.sortDir==="asc"?1:-1),M!==0&&this._fireEvent("sort-item-switch",{a:v,b:x,result:M}),M}),this._fireEvent("sort-stop",{items:this.items}),l===!0&&this._draw(),this},filter:function(e){this.filterString=e.trim().toLowerCase(),this.currentPage=1,this._draw()},setData:function(e){let i=this,l=this.element,h=this.options;if(t.utils.isValue(e)!==!0)return;i._createItemsFromJSON(e),l.html(""),t.utils.isValue(h.filterString)&&(i.filterString=h.filterString);let v;t.utils.isValue(h.filter)&&(v=t.utils.isFunc(h.filter),v===!1&&(v=t.utils.func(h.filter)),i.filterIndex=i.addFilter(v)),t.utils.isValue(h.filters)&&typeof h.filters=="string"&&o.each(h.filters.toArray(),function(){v=t.utils.isFunc(this),v!==!1&&i.filtersIndexes.push(i.addFilter(v))}),i.currentPage=1,i.sorting(h.sortClass,h.sortDir,!0)},loadData:function(e){let i=this.options;t.utils.isValue(e)===!0&&(i.source=e,this._fireEvent("data-load",{source:i.source}),fetch(i.source).then(t.fetch.status).then(t.fetch.json).then(l=>{this._fireEvent("data-loaded",{source:i.source,data:l}),this.setData(l)}).catch(l=>{this._fireEvent("data-load-error",{source:i.source,error:l})}))},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}this._draw()}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}this._draw()}},first:function(){this.items.length!==0&&(this.currentPage=1,this._draw())},last:function(){this.items.length!==0&&(this.currentPage=this.pagesCount,this._draw())},page:function(e){let i=Number.parseInt(e);i<=0&&(i=1),i>this.pagesCount&&(i=this.pagesCount),this.currentPage=i,this._draw()},addFilter:function(e,i){let l=t.utils.isFunc(e);if(l!==!1)return this.filters.push(l),i===!0&&(this.currentPage=1,this.draw()),this.filters.length-1},removeFilter:function(e,i){return t.utils.arrayDeleteByKey(this.filters,e),i===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){this.filters=[],e===!0&&(this.currentPage=1,this.draw())},getFilters:function(){return this.filters},getFilterIndex:function(){return this.filterIndex},getFiltersIndexes:function(){return this.filtersIndexes},changeAttribute:function(e){let i=this.element,l=this.options,h=()=>{let w=i.attr("data-sort-dir");t.utils.isValue(w)&&(l.sortDir=w,this.sorting(l.sortClass,l.sortDir,!0))},v=()=>{let w=i.attr("data-sort-source");t.utils.isValue(w)&&(l.sortClass=w,this.sorting(l.sortClass,l.sortDir,!0))},x=()=>{let w=i.attr("data-filter-string");t.utils.isValue(w)&&(l.filterString=w,this.filter(l.filterString))};switch(e){case"data-sort-dir":h();break;case"data-sort-source":v();break;case"data-filter-string":x();break}},destroy:function(){let e=this.element,i=e.parent(),l=i.find(".list-search-block input"),h;return l.off(t.events.inputchange),t.utils.isValue(this.wrapperSearch)&&(h=this.wrapperSearch.find("input"),h.length>0&&h.off(t.events.inputchange)),i.off(t.events.click,".pagination .page-link"),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.off(t.events.click,".pagination .page-link"),e}})})(Metro,Dom),((t,o)=>{let p=`
    <svg width="800px" height="800px" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
        <path class="a" d="M39.5,15.5h-9a2,2,0,0,1-2-2v-9h-18a2,2,0,0,0-2,2v35a2,2,0,0,0,2,2h27a2,2,0,0,0,2-2Z"/>
        <line class="a" x1="28.5" y1="4.5" x2="39.5" y2="15.5"/>
    </svg>`,e='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',i={listviewDeferred:0,selectable:!1,duration:100,view:t.listView.LIST,selectCurrent:!0,defaultIcon:p,onNodeInsert:t.noop,onNodeDelete:t.noop,onNodeClean:t.noop,onCollapseNode:t.noop,onExpandNode:t.noop,onGroupNodeClick:t.noop,onNodeClick:t.noop,onNodeDblclick:t.noop,onListViewCreate:t.noop};t.listViewSetup=l=>{i=o.extend({},i,l)},typeof globalThis.metroListViewSetup<"u"&&t.listViewSetup(globalThis.metroListViewSetup),t.Component("listview",{init:function(l,h){return this._super(h,l,i),this},_create:function(){let l=this.element;this._createStructure(),this._createEvents(),this._fireEvent("listview-create",{element:l})},_createIcon:l=>o("<div>").addClass("icon").html(l),_createCaption:(l="")=>o("<div>").addClass("caption").html(l),_createContent:(l="")=>o("<div>").addClass("content").html(l),_createDesc:(l="")=>o("<div>").addClass("desc").html(l),_createDate:(l="")=>o("<div>").addClass("date").html(l),_createToggle:()=>o("<span>").addClass("node-toggle").html(e),_createNode:function(l){let h=this.options,v=o("<li>");return v.append(o("<input type='checkbox' data-role='checkbox'>").data("node",v)),v.append(this._createIcon(l.icon??h.defaultIcon)),v.append(this._createCaption(l.caption)),v.append(this._createDesc(l.desc)),v.append(this._createDate(l.date)),v.append(this._createContent(l.content)),v},_createStructure:function(){let l=this,h=this.element,v=this.options,x=h.find("li");h.addClass("listview"),h.find("ul").addClass("listview"),v.selectable&&h.addClass("selectable"),o.each(x,function(w){let D=o(this),M=D.html(),I=`Item_${w+1}`;D.children("ul").length>0?(D.prepend(l._createCaption(D.data("caption")??I)),D.addClass("node-group"),D.append(l._createToggle()),D.data("collapsed")!==!0&&D.addClass("expanded")):(D.clear().addClass("node"),D.append(o("<input type='checkbox' data-role='checkbox'>").data("node",D)),D.append(l._createIcon(D.data("icon")??v.defaultIcon)),D.append(l._createCaption(D.data("caption")??I)),D.append(l._createDesc(D.data("desc"))),D.append(l._createDate(D.data("date"))),D.append(l._createContent(M)))}),v.selectable&&h.addClass("selectable"),this.view(v.view)},_createEvents:function(){let l=this,h=this.element,v=this.options;h.on(t.events.dblclick,".node",function(){let x=o(this);l._fireEvent("node-dblclick",{node:x})}),h.on(t.events.click,".node",function(){let x=o(this),w=o(this).attr("href");if(w){globalThis.location.href=w;return}let D=x.hasClass("current");h.find(".node").removeClass("current"),D||x.addClass("current"),v.selectCurrent===!0&&(h.find(".node").removeClass("current-select"),D||x.addClass("current-select")),l._fireEvent("node-click",{node:x})}),h.on(t.events.click,".node-toggle",function(){let x=o(this).closest("li");l.toggleNode(x)}),h.on(t.events.click,".node-group > .caption",function(){let x=o(this).closest("li");h.find(".node-group").removeClass("current-group"),x.addClass("current-group"),l._fireEvent("group-node-click",{node:x})}),h.on(t.events.dblclick,".node-group > .caption",function(){let x=o(this).closest("li");l.toggleNode(x),l._fireEvent("node-dbl-click",{node:x})})},view:function(l){let h=this.element,v=this.options;if(l===void 0)return v.view;v.view=l,o.each(t.listView,(x,w)=>{h.removeClass(`view-${w}`),h.find("ul").removeClass(`view-${w}`)}),h.addClass(`view-${v.view}`),h.find("ul").addClass(`view-${v.view}`)},toggleNode:function(l){let h=this.options,v=o(l);if(!v.hasClass("node-group"))return;v.toggleClass("expanded");let x=v.hasClass("expanded")!==!0?"slideUp":"slideDown";this._fireEvent("collapse-node",{node:v}),v.children("ul")[x](h.duration)},toggleSelectable:function(){let l=this.element,h=this.options;h.selectable=!h.selectable;let v=h.selectable===!0?"addClass":"removeClass";console.log(v),l[v]("selectable"),l.find("ul")[v]("selectable")},add:function(l,h=null){let v=this.element,x=this.options,w,D,M;if(h===null)w=v;else{if(M=o(h),!M.hasClass("node-group"))return;w=M.children("ul"),w.length===0&&(w=o("<ul>").addClass("listview").addClass(`view-${x.view}`).appendTo(M),D=this._createToggle(),D.appendTo(M),M.addClass("expanded"))}let I=this._createNode(l);I.addClass("node").appendTo(w);let B=o("<input type='checkbox'>");return B.data("node",I),I.prepend(B),t.makePlugin(B,"checkbox",{}),this._fireEvent("node-insert",{newNode:I,parentNode:h,list:w}),I},addGroup:function(l){let h=this.element,v=this.options;l.icon&&delete l.icon;let x=this._createNode(l);return x.addClass("node-group").appendTo(h),x.append(this._createToggle()),x.addClass("expanded"),x.append(o("<ul>").addClass("listview").addClass(`view-${v.view}`)),this._fireEvent("node-insert",{newNode:x,parentNode:null,list:h}),x},insertBefore:function(l,h){let v=o(h);if(!v.length)return;let x=this._createNode(l);x.addClass("node").insertBefore(v);let w=x.closest(".node"),D=x.closest("ul");return this._fireEvent("node-insert",{newNode:x,parentNode:w,list:D}),x},insertAfter:function(l,h){let v=o(h);if(!v.length)return;let x=this._createNode(l);x.addClass("node").insertAfter(v);let w=x.closest(".node"),D=x.closest("ul");return this._fireEvent("node-insert",{newNode:x,parentNode:w,list:D}),x},del:function(l){let h=this.element,v=o(l);if(!v.length)return;let x=v.closest("ul"),w=x.closest("li");v.remove(),x.children().length===0&&!x.is(h)&&(x.remove(),w.removeClass("expanded"),w.children(".node-toggle").remove()),this._fireEvent("node-delete",{node:v})},clean:function(l){let h=o(l);h.length&&(h.children("ul").remove(),h.removeClass("expanded"),h.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:h}))},getSelected:function(){let l=this.element,h=[];return o.each(l.find(":checked"),function(){let v=o(this);h.push(v.closest(".node")[0])}),h},clearSelected:function(){this.element.find(":checked").prop("checked",!1),this.element.trigger("change")},selectAll:function(l=!0){this.element.find(".checkbox input").prop("checked",l),this.element.trigger("change")},selectByAttribute:function(l,h,v=!0){this.element.find(`li[${l}="${h}"] > .checkbox input`).prop("checked",v),this.element.trigger("change")},changeAttribute:function(l){let h=this.element,v=this.options,x=()=>{let D=`view-${h.attr("data-view")}`;this.view(D)},w=()=>{v.selectable=JSON.parse(h.attr("data-selectable"))===!0,this.toggleSelectable()};switch(l){case"data-view":x();break;case"data-selectable":w();break}},destroy:function(){let l=this.element;l.off(t.events.click,".node"),l.off(t.events.click,".node-toggle"),l.off(t.events.click,".node-group > .caption"),l.off(t.events.dblclick,".node-group > .caption"),l.remove()}})})(Metro,Dom),((t,o)=>{let p={items:null,loop:!0,height:"auto",width:"100%",duration:1e4,direction:"left",ease:"linear",mode:"default",accentPause:2e3,firstPause:1e3,stopOnHover:!0,splitBy:`
`,clsMarquee:"",clsMarqueeItem:"",onMarqueeItem:t.noop,onMarqueeItemComplete:t.noop,onMarqueeComplete:t.noop,onMarqueeCreate:t.noop};t.marqueeSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroMarqueeSetup<"u"&&t.marqueeSetup(globalThis.metroMarqueeSetup),t.Component("marquee",{init:function(e,i){return this._super(i,e,p,{origin:null,items:[],running:!1,current:-1,chain:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("marquee-create")},_createStructure:function(){let e=this.element,i=this.options;e.addClass("marquee").addClass(i.clsMarquee),e.css({height:i.height,width:i.width});let l=e.html().split(i.splitBy).map(v=>v.trim()).filter(v=>v.length),h=t.utils.isObject(i.items)||[];this.origin=[...l,...h],this.setItems(this.origin,!0),this.items.length&&(this.current=0,this.createChain(),console.log(this.chain),this.start())},setItems:function(e,i=!0){let l=this.element,h=this.options,v=h.direction.toLowerCase();if(i&&(this.items.length=0),l.clear(),this.items=e.map(x=>o("<div>").html(x).addClass("marquee__item").addClass(h.clsMarqueeItem).appendTo(l)[0]),o(this.items).addClass(v==="left"||v==="right"?"moveLeftRight":"moveUpDown"),h.height==="auto"){let x=0;o(this.items).each(function(){let w=+o(this).outerHeight(!0);w>x&&(x=w)}),l.height(x)}return this},setItem:function(e,i){let l=o(this.items[e]),h,v=this.options,x=this.element;if(l.length)return l.html(i),h=l.outerHeight(!0),v.height==="auto"&&x.height()<h&&x.height(h),this},addItem:function(e,i=-1){let l=this.element,h=this.options,v,x=o(e),w,D;return v=x.length?x:o("<div>").html(e),i<0?l.append(v):(w=this.items[i],w?v.insertBefore(w):l.append(v)),D=v.outerHeight(!0),h.height==="auto"&&l.height()<D&&l.height(D),this},createChain:function(){let e=this.element,i=this.options,l=20,h=i.direction,v=i.ease,x=+i.duration,w=0,D=e[0].getBoundingClientRect();if(this.chain.length=0,i.mode==="default")for(let M of this.items){let I=o(M),B=M.getBoundingClientRect();(D.width-B.width)/2;let Y;I.attr("data-direction")&&(h=I.attr("data-direction")),I.attr("data-duration")&&(x=+I.attr("data-duration")),I.attr("data-ease")?v=I.attr("data-ease"):v=i.ease,["left","right"].indexOf(h)>-1?Y={left:h==="left"?[D.width,-B.width-l]:[-B.width-l,D.width]}:Y={top:h==="up"?[D.height,-B.height-l]:[-B.height-l,D.height]},this.chain.push({el:I[0],draw:Y,dur:x,ease:v,defer:w===0?+i.firstPause:0}),w++}else for(let M of this.items){let I=o(M),B=M.getBoundingClientRect(),Y=(D.width-B.width)/2,X=(D.height-B.height)/2,ie,Fe;x=i.duration/2,I.attr("data-direction")&&(h=I.attr("data-direction").toLowerCase()),I.attr("data-duration")&&(x=+I.attr("data-duration")/2);let Ve=v?v.split(" "):["linear"];I.attr("data-ease")&&(Ve=I.attr("data-ease").split(" ")),["left","right"].includes(h)?(ie={left:h==="left"?[D.width,Y]:[-B.width-l,Y]},Fe={left:h==="left"?[Y,-B.width-l]:[Y,D.width+l]}):(ie={top:h==="up"?[D.height,X]:[-B.height-l,X]},Fe={top:h==="up"?[X,-B.height-l]:[X,D.height+l]}),this.chain.push({el:I[0],draw:ie,dur:x,ease:Ve[0]||"linear",defer:w===0?+i.firstPause:0}),this.chain.push({el:I[0],draw:Fe,dur:x,ease:Ve[1]?Ve[1]:Ve[0]?Ve[0]:"linear",defer:+i.accentPause}),w++}},_createEvents:function(){let e=this.element,i=this.options;e.on(t.events.enter,()=>{i.stopOnHover&&o.pauseAll(this.items)}),e.on(t.events.leave,()=>{i.stopOnHover&&o.resumeAll(this.items)});let l=Hooks.useDebounce(h=>{this.stop(),this.setItems(this.items,!0),this.createChain(),this.start()},1e3);o(window).on(t.events.resize,l)},start:function(){let e=this.options;return this.running=!0,o.chain(this.chain,{loop:e.loop,onChainItem:t.utils.isFunc(e.onMarqueeItem),onChainItemComplete:t.utils.isFunc(e.onMarqueeItemComplete),onChainComplete:t.utils.isFunc(e.onMarqueeComplete)}),this},stop:function(){return this.running=!1,o.stopAll(!1),this},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={masterDeferred:0,effect:"slide",effectFunc:"linear",duration:200,controlPrev:"←",controlNext:"→",controlTitle:"Master, page $1 of $2",backgroundImage:"",clsMaster:"",clsControls:"",clsControlPrev:"",clsControlNext:"",clsControlTitle:"",clsPages:"",clsPage:"",onBeforePage:t.noop_true,onBeforeNext:t.noop_true,onBeforePrev:t.noop_true,onNextPage:t.noop,onPrevPage:t.noop,onMasterCreate:t.noop};t.masterSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroMasterSetup<"u"&&t.masterSetup(globalThis.metroMasterSetup),t.Component("master",{init:function(e,i){return this._super(i,e,p,{pages:[],currentIndex:0,isAnimate:!1,id:t.utils.elementId("master")}),this},_create:function(){let e=this.element,i=this.options;e.addClass("master").addClass(i.clsMaster),e.css({backgroundImage:`url(${i.backgroundImage})`}),this._createControls(),this._createPages(),this._createEvents(),this._fireEvent("master-create",{element:e})},_createControls:function(){let e=this.element,i=this.options,l=["top","bottom"],h,v,x=e.find(".page");v=String(i.controlTitle).replace("$1","1"),v=String(v).replace("$2",x.length),o.each(l,function(){h=o("<div>").addClass(`controls controls-${this}`).addClass(i.clsControls).appendTo(e),o("<span>").addClass("prev").addClass(i.clsControlPrev).html(i.controlPrev).appendTo(h),o("<span>").addClass("next").addClass(i.clsControlNext).html(i.controlNext).appendTo(h),o("<span>").addClass("title").addClass(i.clsControlTitle).html(v).appendTo(h)}),this._enableControl("prev",!1)},_enableControl:function(e,i){let l=this.element.find(`.controls .${e}`);i===!0?l.removeClass("disabled"):l.addClass("disabled")},_setTitle:function(){let e=this.element.find(".controls .title"),i=this.options.controlTitle.replace("$1",this.currentIndex+1);i=i.replace("$2",String(this.pages.length)),e.html(i)},_createPages:function(){let e=this,i=this.element,l=this.options,h=i.find(".pages"),v=i.find(".page");h.length===0&&(h=o("<div>").addClass("pages").appendTo(i)),h.addClass(l.clsPages),o.each(v,function(){let x=o(this);x.data("cover")?i.css({backgroundImage:`url(${x.data("cover")})`}):i.css({backgroundImage:`url(${l.backgroundImage})`}),x.css({left:"100%"}),x.addClass(l.clsPage).hide(0),e.pages.push(x)}),v.appendTo(h),this.currentIndex=0,this.pages[this.currentIndex]!==void 0&&(this.pages[this.currentIndex].data("cover")!==void 0&&i.css({backgroundImage:`url(${this.pages[this.currentIndex].data("cover")})`}),this.pages[this.currentIndex].css("left","0").show(0),setTimeout(()=>{h.css({height:e.pages[0].outerHeight(!0)+2})},0))},_createEvents:function(){let e=this.element,i=this.options;e.on(t.events.click,".controls .prev",()=>{this.isAnimate!==!0&&t.utils.exec(i.onBeforePrev,[this.currentIndex,this.pages[this.currentIndex],e])===!0&&t.utils.exec(i.onBeforePage,["prev",this.currentIndex,this.pages[this.currentIndex],e])===!0&&this.prev()}),e.on(t.events.click,".controls .next",()=>{this.isAnimate!==!0&&t.utils.exec(i.onBeforeNext,[this.currentIndex,this.pages[this.currentIndex],e])===!0&&t.utils.exec(i.onBeforePage,["next",this.currentIndex,this.pages[this.currentIndex],e])===!0&&this.next()}),o(globalThis).on(t.events.resize,()=>{e.find(".pages").height(this.pages[this.currentIndex].outerHeight(!0)+2)},{ns:this.id})},_slideToPage:function(e){if(this.pages[e]===void 0||this.currentIndex===e)return;let i=e>this.currentIndex?"next":"prev",l=this.pages[this.currentIndex],h=this.pages[e];this.currentIndex=e,this._effect(l,h,i)},_slideTo:function(e){let i=e.toLowerCase()==="next",l=this.pages[this.currentIndex];if(i){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}let h=this.pages[this.currentIndex];this._fireEvent(i?"next-page":"prev-page",{current:l,next:h,forward:i}),this._effect(l,h,e)},_effect:function(e,i,l){let h=this,v=this.element,x=this.options,w=v.width(),D=v.find(".pages");this._setTitle(),this.currentIndex===this.pages.length-1?this._enableControl("next",!1):this._enableControl("next",!0),this.currentIndex===0?this._enableControl("prev",!1):this._enableControl("prev",!0),setTimeout(()=>{h.isAnimate=!0,D.animate({draw:{height:i.outerHeight(!0)+2},onDone:()=>{M()}})},0),D.css("overflow","hidden");function M(){i.data("cover")!==void 0?v.css({backgroundImage:`url(${i.data("cover")})`}):v.css({backgroundImage:`url(${x.backgroundImage})`}),D.css("overflow","initial"),h.isAnimate=!1}function I(){e.stop(!0).animate({draw:{left:l==="next"?-w:w},dur:x.duration,ease:x.effectFunc,onDone:()=>{e.hide(0)}}),i.stop(!0).css({left:l==="next"?w:-w}).show(0).animate({draw:{left:0},dur:x.duration,ease:x.effectFunc,onDone:()=>{M()}})}function B(){e.hide(),i.css({top:0,left:0,opacity:0}).show(()=>{M()})}function Y(){e.fadeOut(x.duration),i.css({top:0,left:0,opacity:0}).fadeIn(x.duration,"linear",()=>{M()})}switch(x.effect){case"fade":Y();break;case"switch":B();break;default:I()}},toPage:function(e){this._slideToPage(e)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},changeEffect:function(){this.options.effect=this.element.attr("data-effect")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr("data-effect-func")},changeEffectDuration:function(){this.options.duration=this.element.attr("data-duration")},changeAttribute:function(e){switch(e){case"data-effect":this.changeEffect();break;case"data-effect-func":this.changeEffectFunc();break;case"data-duration":this.changeEffectDuration();break}},destroy:function(){let e=this.element;e.off(t.events.click,".controls .prev"),e.off(t.events.click,".controls .next"),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let p={navViewDeferred:0,expandPoint:null,toggle:null,animate:!0,activeState:!0,initialView:"expand",onMenuItemClick:t.noop,onPaneClose:t.noop,onBeforePaneClose:t.noop,onPaneOpen:t.noop,onBeforePaneOpen:t.noop,onNavviewCreate:t.noop};t.navViewSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroNavViewSetup<"u"&&t.navViewSetup(globalThis.metroNavViewSetup),t.Component("nav-view",{init:function(e,i){return this._super(i,e,p,{pane:null,content:null,paneToggle:null,id:null,menuScrollDistance:0,menuScrollStep:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("navview-create")},_calcMenuHeight:function(){let e=this.element,i=0,l=e.children(".navview-pane");if(l.length===0)return;let h=l.children(".navview-menu-container");h.length!==0&&(o.each(h.prevAll(),function(){i+=o(this).outerHeight(!0)}),o.each(h.nextAll(),function(){i+=o(this).outerHeight(!0)}),h.css({height:`calc(100% - ${i}px)`}),this.menuScrollStep=48,this.menuScrollDistance=t.utils.nearest(h[0].scrollHeight-h.height(),48))},_recalc:function(){setTimeout(()=>{this._calcMenuHeight()},200)},_createStructure:function(){let e=this.element,i=this.options,l;e.addClass("navview"),e.attr("id")===void 0?(this.id=t.utils.elementId("navview"),e.attr("id",this.id)):this.id=e.attr("id"),i.initialView!=="compact"&&t.utils.mediaExist(i.expandPoint)?e.addClass("expanded"):e.addClass("compacted handmade"),t.storage.getItem("navview:compacted")===!0&&(e.removeClass("expanded"),e.addClass("compacted handmade"));let h=e.children(".navview-pane"),v=e.children(".navview-content"),x=o(i.toggle);l=h.children(".navview-menu"),l.length&&(l.prevAll().reverse().wrapAll(o("<div>").addClass("navview-container")),l.wrap(o("<div>").addClass("navview-menu-container")),l.find("a").each(function(){let w=o(this),D=w.children(".icon"),M=w.children(".caption");D.length||w.prepend(o("<span>").addClass("icon").html(M.text()[0]))})),this.pane=h.length>0?h:null,this.content=v.length>0?v:null,this.paneToggle=x.length>0?x:null,i.animate&&e.addClass("animate-panes"),this._recalc()},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.find(".navview-menu-container"),v=h.children(".navview-menu");h.on("mousewheel",x=>{let w=i.find(".navview-pane").width(),D=x.deltaY>0?-1:1,M=e.menuScrollStep,I=e.menuScrollDistance,B=Number.parseInt(v.css("top"));if(w>50)return!1;D===-1&&Math.abs(B)<=I&&v.css("top",Number.parseInt(v.css("top"))+M*D),D===1&&B<=-M&&v.css("top",Number.parseInt(v.css("top"))+M*D)},{passive:!0}),i.on(t.events.click,".pull-button",function(){e._pullClick(this,"pull")}),i.on(t.events.click,".holder",function(){e._pullClick(this,"holder")}),i.on(t.events.click,".navview-menu li",function(){l.activeState===!0&&(i.find(".navview-menu li.active").removeClass("active"),o(this).toggleClass("active"))}),i.on(t.events.click,".navview-menu li > a",function(){e._fireEvent("menu-item-click",{item:this})}),this.paneToggle!==null&&this.paneToggle.on(t.events.click,()=>{}),v.find("a").on(t.events.enter,function(){if(!i.hasClass("compacted"))return;let x=o(this),w=t.utils.rect(this);x.children(".caption").css({position:"fixed",top:w.top,left:w.left+h.width(),borderRadius:4,paddingLeft:10,boxShadow:"0 0 5px 0 var(--shadow-color)"})}),v.find("a").on(t.events.leave,function(){if(!i.hasClass("compacted"))return;let x=o(this).children(".caption");x[0].style=""}),o(globalThis).on(t.events.resize,()=>{this._recalc(),i.hasClass("handmade")||(t.utils.isValue(l.expandPoint)&&t.utils.mediaExist(l.expandPoint)?(i.removeClass("compacted"),i.addClass("expanded")):(i.removeClass("expanded"),i.addClass("compacted")))},{ns:this.id})},_togglePaneMode:function(e=!1){let i=this.element,l=this.options;i.toggleClass("expanded"),i.toggleClass("compacted"),i.toggleClass("handmade"),i.hasClass("compacted")?(t.storage.setItem("navview:compacted",!0),t.utils.exec(l.onPaneClose,null,this)):(t.storage.setItem("navview:compacted",!1),t.utils.exec(l.onPaneOpen,null,this))},_pullClick:function(e,i){let l,h=o(e);return h!=null&&h.hasClass("holder")&&(l=h.parent().find("input"),setTimeout(()=>{l.focus()},200)),this._togglePaneMode(i==="pull"),this._recalc(),!0},toggle:function(){this._togglePaneMode()},compact:function(){let e=this.element;e.addClass("compacted handmade"),e.removeClass("expanded"),this._recalc()},expand:function(){let e=this.element;e.addClass("expanded"),e.removeClass("compacted handmade"),this._recalc()},state(){return this.element.hasClass("expanded")?"expand":"compact"},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off(t.events.click,".pull-button, .holder"),e.off(t.events.click,".navview-menu li"),e.off(t.events.click,".navview-menu li > a"),this.paneToggle!==null&&this.paneToggle.off(t.events.click),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let p={container:null,width:220,timeout:3e3,duration:200,distance:"max",animation:"linear",clsNotify:"",onClick:t.noop,onClose:t.noop,onShow:t.noop,onAppend:t.noop,onNotifyCreate:t.noop};t.notifySetup=i=>{p=o.extend({},p,i)},typeof globalThis.metroNotifySetup<"u"&&t.notifySetup(globalThis.metroNotifySetup);let e={container:null,options:{},notifies:[],setup:function(i){return this.options=o.extend({},p,i),this},reset:function(){let i={width:220,timeout:3e3,duration:200,distance:"max",animation:"linear"};this.options=o.extend({},p,i)},_createContainer:()=>{let i=o("<div>").addClass("notify-container");return o("body").prepend(i),i},create:function(i,l,h={}){let v=this,x=this.options,w,D,M=t.utils.elementId("notify");if(!i)return!1;w=o("<div>").addClass("notify").addClass(x.clsNotify).attr("id",M),w.css({width:x.width}),l&&(D=o("<div>").addClass("notify-title").html(l),w.prepend(D)),o("<div>").addClass("notify-message").html(i).appendTo(w),h.clsNotify&&w.addClass(h.clsNotify),h.width!==void 0&&w.css({width:h.width}),w.on(t.events.click,function(){t.utils.exec(t.utils.isValue(h.onClick)?h.onClick:x.onClick,null,this),v.kill(o(this).closest(".notify"),t.utils.isValue(h.onClose)?h.onClose:x.onClose)}),e.container===null&&(e.container=e._createContainer()),w.appendTo(e.container),w.hide(()=>{t.utils.exec(t.utils.isValue(h.onAppend)?h.onAppend:x.onAppend,null,w[0]);let I=t.utils.isValue(h.duration)?h.duration:x.duration,B=t.utils.isValue(h.animation)?h.animation:x.animation,Y=t.utils.isValue(h.distance)?h.distance:x.distance;(Y==="max"||Number.isNaN(Y))&&(Y=o(globalThis).height()),w.show().animate({draw:{marginTop:[Y,4],opacity:[0,1]},dur:I,ease:B,onDone:function(){t.utils.exec(x.onNotifyCreate,null,this),h!==void 0&&h.keepOpen===!0||setTimeout(()=>{v.kill(w,t.utils.isValue(h.onClose)?h.onClose:x.onClose)},x.timeout),t.utils.exec(t.utils.isValue(h.onShow)?h.onShow:x.onShow,null,w[0])}})})},kill:function(i,l){i.off(t.events.click),i.zoomOut(300,"linear",()=>{t.utils.exec(l||this.options.onClose,null,i[0]),i.remove()})},killAll:function(){let i=this,l=o(".notify");o.each(l,function(){i.kill(o(this))})}};t.notify=e.setup()})(Metro,Dom),((t,o)=>{let p={tabsDeferred:0,expand:!1,expandPoint:null,type:"default",updateUri:!1,position:"top",align:"left",link:"",clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:t.noop,onTabOpen:t.noop,onTabClose:t.noop,onBeforeTab:t.noop_true,onTabsCreate:t.noop};t.tabsSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroTabsSetup<"u"&&t.tabsSetup(globalThis.metroTabsSetup),t.Component("tabs",{init:function(e,i){return this._super(i,e,p,{_targets:[],id:t.utils.elementId("tabs")}),this},_create:function(){let e=this.element,i=e.find(".active")[0];this._createStructure(),this._createEvents(),this._open(i),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l=e.wrap("<div>").addClass("tabs"),h;l.addClass(`tabs-${i.position}`),e.addClass("tabs-list"),e.addClass(`tabs-${i.type}`),e.addClass(`align-${i.align}`),e.data("expanded",!1);let v=o("<div>").addClass("expand-title");if(l.prepend(v),h=l.find(".hamburger"),h.length===0){h=o("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(l);for(let x=0;x<3;x++)o("<span>").addClass("line").appendTo(h)}l.addClass(i.clsTabs),e.addClass(i.clsTabsList),e.children("li").addClass(i.clsTabsListItem),i.expand===!0?["left","right"].includes(i.position)||l.addClass("tabs-expand"):t.utils.isValue(i.expandPoint)&&t.utils.mediaExist(i.expandPoint)&&!["left","right"].includes(i.position)&&l.addClass("tabs-expand"),["left","right"].includes(i.position)&&l.addClass("tabs-expand")},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.parent();o(globalThis).on(t.events.resize,()=>{["left","right"].includes(l.position)||(l.expand===!0?["left","right"].includes(l.position)||h.addClass("tabs-expand"):t.utils.isValue(l.expandPoint)&&t.utils.mediaExist(l.expandPoint)&&!["left","right"].includes(l.position)?h.hasClass("tabs-expand")||h.addClass("tabs-expand"):h.hasClass("tabs-expand")&&h.removeClass("tabs-expand"))},{ns:this.id}),h.on(t.events.click,".hamburger, .expand-title",()=>{i.data("expanded")===!1?(i.addClass("expand"),i.data("expanded",!0),h.find(".hamburger").addClass("active")):(i.removeClass("expand"),i.data("expanded",!1),h.find(".hamburger").removeClass("active"))}),i.on(t.events.click,"li",function(v){let x=o(this).children("a"),w=x.attr("href").trim(),D=x.parent("li");if(e._fireEvent("tab",{tab:D[0],target:D.children("a").href()}),D.hasClass("active"),i.data("expanded")===!0&&(i.removeClass("expand"),i.data("expanded",!1),h.find(".hamburger").removeClass("active")),t.utils.exec(l.onBeforeTab,[D,i],D[0])!==!0)return!1;w&&(w.startsWith("#")?(e._open(D),v.preventDefault()):globalThis.location.href=w)}),o(globalThis).on("hashchange",()=>{let v,x;l.updateUri&&(v=globalThis.location.hash,x=e._findTabByTarget(v),e._open(o(x)))})},_findTabByTarget:function(e){let i=this.element.find("li"),l;return i.each((h,v)=>{!l&&o(v).children("a").attr("href")===e&&(l=v)}),l},_collectTargets:function(){let e=this,i=this.element.find("li");this._targets=[],o.each(i,function(){let l=o(this);if(l.hasClass("divider"))return;let h=l.find("a").attr("href").trim();h.length>1&&h[0]==="#"&&e._targets.push(h)})},_open:function(e){let i=this.element,l=this.options,h=i.find("li"),v=i.siblings(".expand-title"),x=i.find("li.active");if(h.length===0)return;this._collectTargets();let w=o(typeof e>"u"?h[0]:e),D=w.find("a").attr("href"),M=w.index();D!==void 0&&(h.removeClass("active").removeClass(l.clsTabsListItemActive),w.parent().hasClass("d-menu")?w.parent().parent().addClass("active"):w.addClass("active"),l.link&&o(`[data-link=${l.link}]`).each((I,B)=>{if(B===this.elem)return;let Y=o(B).find("li");Y.length&&Y[M]&&Y[M].click()}),o.each(this._targets,function(){let I=o(this);I.length>0&&I.hide()}),D!=="#"&&D[0]==="#"&&(l.updateUri&&(globalThis.location.hash=D),o(D).show()),v.html(w.find("a").html()),w.addClass(l.clsTabsListItemActive),x.is(w)||(this._fireEvent("tab-open",{tab:w[0],target:w.children("a").attr("href")}),this._fireEvent("tab-close",{tab:x[0],target:x.children("a").attr("href")})))},next:function(){let e=this.element,i;i=e.find("li.active").next("li"),i.length>0&&this._open(i)},prev:function(){let e=this.element,i;i=e.find("li.active").prev("li"),i.length>0&&this._open(i)},openByTarget:function(e){let i=this._findTabByTarget(e);i&&this._open(o(i))},openByIndex:function(e){let i=this.element.find("li");t.utils.isValue(i[e])&&this._open(o(i[e]))},open:function(e=1){let i=this.element.find("li");t.utils.isInt(e)?t.utils.isValue(i[e-1])&&this._open(o(i[e-1])):this._open(o(e))},changeAttribute:()=>{},destroy:function(){let e=this.element,i=e.parent();o(globalThis).off(t.events.resize,{ns:this.id}),i.off(t.events.click,".hamburger, .expand-title"),e.off(t.events.click,"a"),e.remove()}})})(Metro,Dom),((t,o)=>{let p=`<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z"/>
        <path d="M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z"/>
    </svg>`,e=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 9.781v10.667h8.885v1.771h7.115v-1.771h16v-10.667zM8.885 18.661h-1.771v-5.333h-1.781v5.333h-3.552v-7.104h7.104zM14.219 18.661v1.787h-3.552v-8.891h7.115v7.109h-3.563zM30.224 18.661h-1.776v-5.333h-1.781v5.333h-1.781v-5.333h-1.771v5.333h-3.563v-7.104h10.672zM14.219 13.333h1.781v3.557h-1.781z"/>
    </svg>`,i=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M30,10.75H21.251V2H30Z" />
        <path d="M20.374,10.75h-8.75V2h8.75Z" />
        <path d="M10.749,10.75H2V2h8.749Z" />
        <path d="M30,20.375H21.251v-8.75H30Z" />
        <path d="M20.374,20.375h-8.75v-8.75h8.75Z"/>
        <path d="M20.374,30h-8.75V21.25h8.75Z"/>
        <path d="M30,30H21.251V21.25H30Z" />
        <path d="M10.749,30H2V21.25h8.749Z" />
    </svg>`,l=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M28.208,24.409a10.493,10.493,0,0,0-3.959,1.822,23.743,23.743,0,0,1-5.835,2.642,1.632,1.632,0,0,1-.983.55A62.228,62.228,0,0,1,10.984,30c-1.163.009-1.876-.3-2.074-.776a1.573,1.573,0,0,1,.866-2.074,3.759,3.759,0,0,1-.514-.379c-.171-.171-.352-.514-.406-.388-.225.55-.343,1.894-.947,2.5-.83.839-2.4.559-3.328.072-1.019-.541.072-1.813.072-1.813a.73.73,0,0,1-.992-.343,4.847,4.847,0,0,1-.667-2.949,5.374,5.374,0,0,1,1.749-2.895,9.334,9.334,0,0,1,.658-4.4,10.445,10.445,0,0,1,3.165-3.661S6.628,10.747,7.35,8.817c.469-1.262.658-1.253.812-1.308a3.633,3.633,0,0,0,1.452-.857,5.265,5.265,0,0,1,4.41-1.7S15.2,1.4,16.277,2.09a18.349,18.349,0,0,1,1.533,2.886s1.281-.748,1.425-.469a11.334,11.334,0,0,1,.523,6.132,14.01,14.01,0,0,1-2.6,5.411c-.135.225,1.551.938,2.615,3.887.983,2.7.108,4.96.262,5.212.027.045.036.063.036.063s1.127.09,3.391-1.308A8.5,8.5,0,0,1,27.739,22.3a1.081,1.081,0,0,1,.469,2.11Z"/>
    </svg>`,h=`<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.966 22.566c6.609 0 11.966-4.326 11.966-9.661 0-3.308-2.051-6.23-5.204-7.963-1.283-.713-2.291-1.353-3.13-1.885-1.58-1.004-2.555-1.623-3.632-1.623-1.094 0-2.327.783-3.955 1.816a49.78 49.78 0 0 1-2.808 1.692C2.051 6.675 0 9.597 0 12.905c0 5.335 5.357 9.66 11.966 9.66Zm-1.397-17.83a5.885 5.885 0 0 0 .497-2.403c0-.144.201-.186.229-.028.656 2.775-.9 4.15-2.051 4.61-.124.048-.199-.12-.103-.208a5.748 5.748 0 0 0 1.428-1.971Zm2.052-.102a5.795 5.795 0 0 0-.78-2.3v-.015c-.068-.123.086-.263.185-.172 1.956 2.105 1.303 4.055.554 5.037-.082.102-.229-.003-.188-.126a5.837 5.837 0 0 0 .229-2.424Zm1.771-.559a5.708 5.708 0 0 0-1.607-1.801V2.26c-.112-.085-.024-.274.113-.218 2.588 1.084 2.766 3.171 2.452 4.395a.116.116 0 0 1-.048.071.11.11 0 0 1-.153-.026.118.118 0 0 1-.022-.083 5.864 5.864 0 0 0-.735-2.324Zm-5.072.559c-.616.544-1.279.758-2.058.997-.116 0-.194-.078-.155-.18 1.747-.907 2.369-1.645 2.99-2.771 0 0 .155-.117.188.085 0 .303-.348 1.325-.965 1.869Zm4.931 11.205a2.949 2.949 0 0 1-.935 1.549 2.16 2.16 0 0 1-1.282.618 2.167 2.167 0 0 1-1.323-.618 2.95 2.95 0 0 1-.923-1.549.243.243 0 0 1 .064-.197.23.23 0 0 1 .192-.069h3.954a.226.226 0 0 1 .19.07.239.239 0 0 1 .063.196Zm-5.443-2.17a1.85 1.85 0 0 1-2.377-.244 1.969 1.969 0 0 1-.233-2.44c.207-.318.502-.565.846-.711a1.84 1.84 0 0 1 1.089-.11c.365.075.701.26.964.53.264.27.443.616.515.99a1.98 1.98 0 0 1-.108 1.118 1.923 1.923 0 0 1-.696.866Zm8.471.005a1.849 1.849 0 0 1-2.374-.252 1.956 1.956 0 0 1-.546-1.362c0-.383.11-.758.319-1.076.207-.318.502-.566.847-.711a1.84 1.84 0 0 1 1.09-.108c.366.076.702.261.965.533s.44.617.512.993a1.98 1.98 0 0 1-.113 1.118 1.922 1.922 0 0 1-.7.865Z"/>
    </svg>`,v={link:"package-manager",default:"npm",deps:"",package:"",onPackageManagerCreate:t.noop};t.packageManagerSetup=x=>{v=o.extend({},v,x)},typeof globalThis.metroPackageManagerSetup<"u"&&t.packageManagerSetup(globalThis.metroPackageManagerSetup),t.Component("package-manager",{init:function(x,w){return this._super(w,x,v,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("component-create")},_createStructure:function(){let x=this.element,w=this.options,D=new Date().getTime(),M=Hooks.useId(`pm-npm-${D}`),I=Hooks.useId(`pm-pnpm-${D}`),B=Hooks.useId(`pm-yarn-${D}`),Y=Hooks.useId(`pm-bun-${D}`);x.addClass("package-manager"),x.html(`
                <ul data-role="tabs" data-expand="true" data-link="${w.link}">
                    <li class="${w.default==="npm"?"active":""}"><a href="#${M}">${e} npm</a></li>
                    <li class="${w.default==="pnpm"?"active":""}"><a href="#${I}">${i} pnpm</a></li>
                    <li class="${w.default==="yarn"?"active":""}"><a href="#${B}">${l} yarn</a></li>
                    <li class="${w.default==="bun"?"active":""}"><a href="#${Y}">${h} bun</a></li>
                </ul>
                <div>
                    <div class="pm-command" id="${M}">
                        <button class="small square"><span class="icon">${p}</span></button>
                        <code>npm i ${w.deps===""?"":w.deps==="dev"?"-D":""} ${w.package}</code>
                    </div>
                    <div class="pm-command" id="${I}">
                        <button class="small square"><span class="icon">${p}</span></button>
                        <code>pnpm add ${w.deps===""?"":w.deps==="dev"?"-D":"--save-peer"} ${w.package}</code>
                    </div>
                    <div class="pm-command" id="${B}">
                        <button class="small square"><span class="icon">${p}</span></button>
                        <code>yarn add ${w.deps===""?"":w.deps==="dev"?"-D":"-P"} ${w.package}</code>
                    </div>
                    <div class="pm-command" id="${Y}">
                        <button class="small square"><span class="icon">${p}</span></button>
                        <code>bun add ${w.deps===""?"":w.deps==="dev"?"-D":"--peer"} ${w.package}</code>
                    </div>
                </div>
            `)},_createEvents:function(){let x=this.element;this.options,x.on("click",".pm-command button",function(){let w=o(this).parent().find("code").text();t.utils.copy2clipboard(w)})},changeAttribute:(x,w)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={appendButton:!0,tabsPosition:"left",customButtons:null,activateNewTab:!0,defaultNewTabTitle:"New File",defaultNewCanClose:!0,defaultNewTabIcon:"",defaultNewTabImage:"",defaultNewTabPosition:"before",appendActions:null,tabsActions:null,tabActions:null,refControl:!1,onAppendButtonClick:t.noop,onTabCreate:t.noop_arg,onTabActivate:t.noop,onTabDeactivate:t.noop,onTabBeforeClose:t.noop_true,onTabClose:t.noop,onTabRename:t.noop,onTabPropChange:t.noop,onTabOrganized:t.noop};t.pageControlSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroPageControlSetup<"u"&&t.pageControlSetup(globalThis.metroPageControlSetup),t.Component("page-control",{init:function(e,i){return this._super(i,e,p,{newFileIndex:1,invisibleTabsHolderToggle:null,invisibleTabsHolder:null}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("page-control-create")},_createStructure:function(){let e=this.element,i=this.options;this.component=o("<div>").addClass("page-control").insertBefore(e),e.addClass("page-control__tabs").appendTo(this.component),e.addClass(`tabs-position-${i.tabsPosition}`);let l=e.children("li:not(.page-control__tab-custom)"),h=!1;if(l.each((w,D)=>{let M=o(D),I=M.html(),B=M.hasClass("active"),Y=this.createTab({caption:I,icon:M.attr("data-icon"),image:M.attr("data-image"),canClose:M.attr("data-close")!=="false",data:M.attr("data-data"),ref:M.attr("data-ref")});B&&!h&&(h=!0,Y.addClass("active"),this._fireEvent("tab-activate",{tab:Y[0]})),e.append(Y),M.remove()}),!h){let w=this.element.children(".page-control__tab").first();w.addClass("active"),this._fireEvent("tab-activate",{tab:w[0]})}if(i.refControl&&this._updateRefs(),i.appendButton){let w=o("<li>").addClass("page-control__tab__append").html('<span class="toggle">+</span>');if(i.appendActions){let D=t.utils.exec(i.appendActions,null,this);if(!Array.isArray(D))throw"PageControl Error! Prop appendActions must be a function that returns an array.";let M=o("<ul data-role='dropdown' class='d-menu context'>");D.map(I=>M.append(this._renderMenuItem(I))),w.append(M)}e.append(w)}let v=o("<li>").addClass("page-control__tab__service").addClass("invisible-tabs").appendTo(e);v.append(o("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">↧</span>
                    <ul class="d-menu place-right context page-control__invisible_tabs_holder"></ul>
                `)),this.invisibleTabsHolderToggle=v.find(".page-control__tab__service.invisible-tabs > .page-control__service-button"),this.invisibleTabsHolder=t.makePlugin(v.find(".page-control__invisible_tabs_holder"),"dropdown",{onClick:w=>{let D=o(w.target.parentNode);D.hasClass("page-control__tab__closer")?this.closeButtonClick(w):this.activateTab(D[0]),w.preventDefault(),w.stopPropagation()}}),this.invisibleTabsHolderToggle.hide(),this.organizeTabs();let x=o("<li>").addClass("page-control__tab__service").addClass("tabs-menu").appendTo(e);if(x.append(o("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">︙</span>
                    <ul class="d-menu place-right context" data-role="dropdown"></ul>
                `)),!i.tabsActions)x.hide();else{let w=x.find("ul");t.utils.exec(i.tabsActions,null,this).map(D=>w.append(this._renderMenuItem(D)))}},_updateRefs:function(){let e=this.element.find(".page-control__tab"),i=this.element.find(".page-control__tab.active");e.each((l,h)=>o(o(h).data("ref")).hide()),o(i.data("ref")).show()},_createEvents:function(){let e=this,i=this.element,l=this.options;i.on("click",".page-control__tab__closer",this.closeButtonClick.bind(this)),i.on("click",".page-control__tab__menu > li > a",function(h){let v=o(this).attr("data-action"),x=t.getPlugin(o(this).closest("ul"),"dropdown"),w=o(this).closest(".page-control__tab")[0];switch(x.close(),v){case"close":{e.closeTab(w);break}case"close-all":{e.closeAll();break}case"close-other":{e.closeOtherTabs(w);break}case"close-inactive":{e.closeInactiveTabs();break}case"close-left":{e.closeTabsOnTheLeft(w);break}case"close-right":{e.closeTabsOnTheRight(w);break}case"rename":{e.renameTab(w);break}}h.preventDefault(),h.stopPropagation()}),i.on("click",".page-control__tab",function(){o(this).hasClass("active")||e.activateTab(this)}),i.on("click",".page-control__tab__append > span",h=>{h.preventDefault(),h.stopPropagation();let v=e.createTab({caption:`${l.defaultNewTabTitle} ${e.newFileIndex++}`,canClose:l.defaultNewCanClose,icon:l.defaultNewTabIcon,image:l.defaultNewTabImage,data:null});e._fireEvent("tab-append",{tab:v}),e.activateTab(v),e.organizeTabs(),e._fireEvent("append-button-click",{tab:v})}),o(globalThis).on("resize",()=>{this.organizeTabs()})},_renderMenuItem:e=>{let i=o("<li>"),l=o("<a>");return(e.icon||e.image)&&l.append(e.icon?o("<span class='icon'>").addClass(e.icon):o("<img class='icon'>").attr("src",e.image).attr("alt","")),e.title&&l.append(o("<span>").addClass("caption").text(e.title)),l.data("data",e.data),e.onclick&&l.on("click",h=>e.onclick(h)),i.append(l),i},createTab:function({caption:e,icon:i,image:l,canClose:h=!0,hasMenu:v=!0,data:x,ref:w}){let D=this.element,M=this.options,I=o("<li>").addClass("page-control__tab").appendTo(D);if(v&&(I.append(o("<div>").addClass("page-control__tab__menu__holder").html(`
                        <span class="">︙</span>
                        <ul class="d-menu context page-control__tab__menu" data-role="dropdown">
                            <li><a data-action="rename">${this.strings.label_rename_tab}</a></li>
                            <li class="divider"></li>
                            <li><a data-action="close">${this.strings.label_close_tab}</a></li>
                            <li><a data-action="close-other">${this.strings.label_close_other_tabs}</a></li>
                            <li><a data-action="close-left">${this.strings.label_close_tabs_left}</a></li>
                            <li><a data-action="close-right">${this.strings.label_close_tabs_right}</a></li>
                            <li><a data-action="close-all">${this.strings.label_close_all_tabs}</a></li>
                            <li><a data-action="close-inactive">${this.strings.label_close_inactive_tabs}</a></li>
                        </ul>
                    `)),M.tabActions)){let B=I.find("ul"),Y=t.utils.exec(M.tabActions);if(!Array.isArray(Y))throw"PageControl Error! Prop tabActions must be a function that returns an array.";B.append(o("<li class='divider'>")),Y.map(X=>B.append(this._renderMenuItem(X)))}return(i||l)&&I.append(o("<span>").addClass("page-control__tab__icon").html(i?`<span class="${i}">`:`<img src="${l}" alt=""/>`)),I.append(o("<span>").addClass("page-control__tab__caption").html(e)),h&&I.append(o("<span>").addClass("page-control__tab__closer").html("<span>✕</span>")),I.data("data",x),I.data("ref",w),this._fireEvent("tab-create",{tab:I[0]}),D[M.defaultNewTabPosition==="before"?"prepend":"append"](I),I[0]},closeButtonClick:function(e){let i=this.options,l=o(e.target).closest(".page-control__tab"),h=l.closest("ul");i.onTabBeforeClose(l[0])&&(this.closeTab(l[0]),h.hasClass("page-control__invisible_tabs_holder")&&h.children(".page-control__tab").length===0&&(t.getPlugin(this.invisibleTabsHolder,"dropdown").close(),this.invisibleTabsHolderToggle.hide()),e.preventDefault(),e.stopPropagation())},closeTab:function(e,i=!0){let l=o(e);if(l.hasClass("active")){let h=l.prev(".page-control__tab"),v=l.next(".page-control__tab");h.length?this.activateTab(h[0]):v.length?this.activateTab(v[0]):l.parent().hasClass("page-control__invisible_tabs_holder")&&parent.children(".page-control__tab").length===1&&element.children(".page-control__tab").length&&this.activateTab(element.children(".page-control__tab").last()[0])}return this._fireEvent("tab-close",{tab:e}),this.options.refControl&&o(l.data("ref")).remove(),l.remove(),i&&this.organizeTabs(),this},activateTab:function(e){let i=this.element,l=this.options;return i.find(".page-control__tab").each((h,v)=>{let x=o(v);x.hasClass("active")&&(this._fireEvent("tab-deactivate",{tab:v}),x.removeClass("active"))}),o(e).addClass("active"),l.refControl&&this._updateRefs(),this._fireEvent("tab-activate",{tab:e}),o(e).parent().hasClass("page-control__invisible_tabs_holder")&&(i.prepend(e),this.organizeTabs()),this},organizeTabs:function(){let e=this.element,i=this.elem.getBoundingClientRect().width,l=this.invisibleTabsHolder,h=e.find(".page-control__tab__append");l.children(".page-control__tab").each((w,D)=>{let M=o(D);h.length?M.insertBefore(h):M.appendTo(e)});let v=e.children(".page-control__tab"),x=0;for(let w of v){let D=w.getBoundingClientRect();if(x+D.width+50>i){o(w).nextAll(".page-control__tab").appendTo(l),o(w).appendTo(l);break}x+=D.width}l.children().length?this.invisibleTabsHolderToggle.show(function(){o(this).css({display:"flex"})}):this.invisibleTabsHolderToggle.hide(),this._fireEvent("tab-organized",null)},addTab:function({caption:e,icon:i,image:l,canClose:h=!0,hasMenu:v=!0,data:x,ref:w},D="before"){let M=this.options,I=this.createTab({caption:e,icon:i,image:l,canClose:h,hasMenu:v,data:x,ref:w});return M.activateNewTab&&this.activateTab(I),this.element[D==="before"?"prepend":"append"](I),this.organizeTabs(),I},getActiveTab:function(){return this.component.find(".page-control__tab.active")[0]},getActiveTabIndex:function(){return this.component.find(".page-control__tab").index(".active",!1)},getTabByIndex:function(e){return this.component.find(".page-control__tab").get(e)},getTabByTitle:function(e){if(!e)return;let i=this.component.find(".page-control__tab");for(let l of i)if(o(l).find(".caption").text()===e)return l},closeAll:function(){return this.component.find(".page-control__tab").each((e,i)=>{this.closeTab(i,!1)}),this.organizeTabs(),this},closeInactiveTabs:function(){return this.component.find(".page-control__tab").each((e,i)=>{o(i).hasClass("active")||this.closeTab(i,!1)}),this.organizeTabs(),this},closeOtherTabs:function(e){let i=typeof e=="number"?this.getTabByIndex(e):o(e);return this.component.find(".page-control__tab").each((l,h)=>{i[0]!==h&&this.closeTab(h,!1)}),this.activateTab(e),this.organizeTabs(),this},closeTabsOnTheLeft:function(e){let i=this.component.find(".page-control__tab").indexOf(o(e));return this.component.find(".page-control__tab").each((l,h)=>{l<i&&this.closeTab(h,!1)}),this.organizeTabs(),this},closeTabsOnTheRight:function(e){let i=this.component.find(".page-control__tab").indexOf(o(e));return this.component.find(".page-control__tab").each((l,h)=>{l>i&&this.closeTab(h,!1)}),this.organizeTabs(),this},setupTab:function(e,i,l){let h=o(e);switch(i){case"caption":{h.find(".page-control__tab__caption").text(l);break}case"icon":{h.find(".page-control__tab__icon")[0].className=l;break}case"image":{h.find(".page-control__tab__image").attr("src",l);break}case"data":{h.data("data",l);break}case"ref":{h.data("ref",l);break}}this._fireEvent("tab-prop-change",{tab:e}),this.organizeTabs()},renameTab:function(e){let i=o(e).find(".page-control__tab__caption");t.dialog.create({title:this.strings.label_rename_tab,content:`
                    <form style="width: 100%">
                        <input type="text" data-role="input" value="${i.text()}">
                    </form>
                `,defaultActions:!1,customButtons:[{text:this.strings.label_ok,cls:"js-dialog-close info",onclick:l=>{this.setupTab(e,"caption",l.find("input").val())}},{text:this.strings.label_cancel,cls:"js-dialog-close"}]})},changeAttribute:(e,i)=>{},destroy:function(){this.component.remove()}})})(Metro,Dom),((t,o)=>{t.pagination=p=>{let e={length:0,rows:0,current:0,target:"body",clsPagination:"",prevTitle:"",nextTitle:"",distance:5,islandSize:3,shortTrack:10,lang:void 0},i,l,h,v=o.extend({},e,p),x=Number.parseInt(v.distance),w=Number.parseInt(v.shortTrack),D=Number.parseInt(v.islandSize),M=Number.parseInt(v.length),I=Number.parseInt(v.rows),B=Math.ceil(M/I),Y=Number.parseInt(v.current),X=o(v.target).html(""),ie=o("<ul>").addClass("pagination").addClass(v.clsPagination).appendTo(X),Fe=v.lang||X.closest("[lang]").attr("lang")||"en";t.locales[Fe]===void 0&&(Fe="en");let Ve=t.locales[Fe];if(M===0||I===-1)return;let He=(ze,De,Oe)=>{let Me=o("<li>").addClass("page-item").addClass(De),Ie=o("<a>").addClass("page-link").html(ze);return Ie.data("page",Oe),Ie.appendTo(Me),Me};if(l=He(v.prevTitle||Ve.label_prev,"service prev-page","prev"),ie.append(l),ie.append(He(1,Y===1?"active":"",1)),x===0||B<=w)for(i=2;i<B;i++)ie.append(He(i,i===Y?"active":"",i));else if(Y<x){for(i=2;i<=x;i++)ie.append(He(i,i===Y?"active":"",i));B>x&&ie.append(He("...","no-link",null))}else if(Y<=B&&Y>B-x+1)for(B>x&&ie.append(He("...","no-link",null)),i=B-x+1;i<B;i++)ie.append(He(i,i===Y?"active":"",i));else{ie.append(He("...","no-link",null));for(let ze=D;ze>0;ze--)ie.append(He(Y-ze,"",Y-ze));ie.append(He(Y,"active",Y));for(let ze=1;ze<=D;ze++)ie.append(He(Y+ze,"",Y+ze));ie.append(He("...","no-link",null))}return(B>1||Y<B)&&ie.append(He(B,Y===B?"active":"",B)),h=He(v.nextTitle||Ve.label_next,"service next-page","next"),ie.append(h),Y===1&&l.addClass("disabled"),Y===B&&h.addClass("disabled"),M===0&&(ie.addClass("disabled"),ie.children().addClass("disabled")),ie}})(Metro,Dom),((t,o)=>{let p='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',e={panelDeferred:0,id:null,titleCaption:"",titleIcon:"",collapsible:!1,collapsed:!1,collapseDuration:100,width:"auto",height:"auto",draggable:!1,customButtons:null,clsCustomButton:"",clsPanel:"",clsTitle:"",clsTitleCaption:"",clsTitleIcon:"",clsContent:"",clsCollapseToggle:"",onCollapse:t.noop,onExpand:t.noop,onDragStart:t.noop,onDragStop:t.noop,onDragMove:t.noop,onPanelCreate:t.noop};t.panelSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroPanelSetup<"u"&&t.panelSetup(globalThis.metroPanelSetup),t.Component("panel",{init:function(i,l){return this._super(l,i,e),this},_addCustomButtons:function(i){let l=this.element,h=this.options,v=l.closest(".panel").find(".panel-title"),x,w=[];if(w=t.utils.isObject(i),!w){console.warn("Unknown format for custom buttons",i);return}if(v.length===0){console.warn("No place for custom buttons");return}return x=v.find(".custom-buttons"),x.length===0?x=o("<div>").addClass("custom-buttons").appendTo(v):(x.find(".btn-custom").off(t.events.click),x.html("")),o.each(w,function(){let D=o("<span>");D.addClass("button btn-custom").addClass(h.clsCustomButton).addClass(this.cls).attr("tabindex",-1).html(this.html),this.attr&&typeof this.attr=="object"&&o.each(this.attr,(M,I)=>{D.attr(Str.dashedName(M),I)}),D.data("action",this.onclick),x.prepend(D)}),v.on(t.events.click,".btn-custom",function(D){if(t.utils.isRightMouse(D))return;let M=o(this),I=M.data("action");t.utils.exec(I,[M],this)}),this},_create:function(){let i=this.element,l=this.options,h=o("<div>").addClass("panel").addClass(l.clsPanel),v=l.id?l.id:t.utils.elementId("panel"),x=i[0].className,w;if(h.attr("id",v).addClass(x),h.insertBefore(i),i.appendTo(h),i[0].className="",i.addClass("panel-content").addClass(l.clsContent).appendTo(h),l.titleCaption!==""||l.titleIcon!==""||l.collapsible===!0){if(w=o("<div>").addClass("panel-title").addClass(l.clsTitle),l.titleCaption!==""&&o("<span>").addClass("caption").addClass(l.clsTitleCaption).html(l.titleCaption).appendTo(w),l.titleIcon!==""&&o(l.titleIcon).addClass("icon").addClass(l.clsTitleIcon).appendTo(w),l.collapsible===!0){let D=o("<span>").addClass("dropdown-toggle marker-center active-toggle").addClass(l.clsCollapseToggle).appendTo(w);D.append(p),t.makePlugin(i,"collapse",{toggleElement:D,duration:l.collapseDuration,onCollapse:l.onCollapse,onExpand:l.onExpand}),l.collapsed===!0&&this.collapse()}w.appendTo(h)}if(w&&t.utils.isValue(l.customButtons)&&this._addCustomButtons(l.customButtons),l.draggable===!0){let D;w?D=w.find(".caption, .icon"):D=h,t.makePlugin(h,"draggable",{dragContext:h[0],dragElement:D,onDragStart:l.onDragStart,onDragStop:l.onDragStop,onDragMove:l.onDragMove})}l.width!=="auto"&&Number.parseInt(l.width)>=0&&h.outerWidth(Number.parseInt(l.width)),l.height!=="auto"&&Number.parseInt(l.height)>=0&&(h.outerHeight(Number.parseInt(l.height)),i.css({overflow:"auto"})),this.panel=h,this._fireEvent("panel-create",{element:i,panel:h})},customButtons:function(i){return this._addCustomButtons(i)},collapse:function(){let i=this.element;t.utils.isMetroObject(i,"collapse")!==!1&&t.getPlugin(i,"collapse").collapse()},open:function(){this.expand()},close:function(){this.collapse()},expand:function(){let i=this.element;t.utils.isMetroObject(i,"collapse")!==!1&&t.getPlugin(i,"collapse").expand()},changeAttribute:(i,l)=>{},destroy:function(){let i=this.element,l=this.options;return l.collapsible===!0&&t.getPlugin(i,"collapse").destroy(),l.draggable===!0&&t.getPlugin(i,"draggable").destroy(),i}})})(Metro,Dom),((t,o)=>{let p={popoverDeferred:0,popoverText:"",popoverHide:3e3,popoverTimeout:10,popoverOffset:10,popoverTrigger:t.popoverEvents.HOVER,popoverPosition:t.position.TOP,hideOnLeave:!1,closeButton:!0,clsPopover:"",clsPopoverContent:"",onPopoverShow:t.noop,onPopoverHide:t.noop,onPopoverCreate:t.noop};t.popoverSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroPopoverSetup<"u"&&t.popoverSetup(globalThis.metroPopoverSetup),t.Component("popover",{init:function(e,i){return this._super(i,e,p,{popover:null,popovered:!1,size:{width:0,height:0},id:t.utils.elementId("popover")}),this},_create:function(){this._createEvents(),this._fireEvent("popover-create",{element:this.element})},_createEvents:function(){let e=this.element,i=this.options,l;switch(i.popoverTrigger){case t.popoverEvents.CLICK:l=t.events.click;break;case t.popoverEvents.FOCUS:l=t.events.focus;break;default:l=t.events.enter}e.on(l,()=>{this.popover!==null||this.popovered===!0||setTimeout(()=>{this.createPopover(),this._fireEvent("popover-show",{popover:this.popover}),i.popoverHide>0&&setTimeout(()=>{this.removePopover()},i.popoverHide)},i.popoverTimeout)}),i.hideOnLeave===!0&&e.on(t.events.leave,()=>{this.removePopover()}),o(globalThis).on(t.events.scroll,()=>{this.popover!==null&&this.setPosition()},{ns:this.id})},setPosition:function(){let e=this.popover,i=this.size,l=this.options,h=this.element;l.popoverPosition===t.position.BOTTOM?(e.addClass("bottom"),e.css({top:h.offset().top-o(globalThis).scrollTop()+h.outerHeight()+l.popoverOffset,left:h.offset().left+h.outerWidth()/2-i.width/2-o(globalThis).scrollLeft()})):l.popoverPosition===t.position.RIGHT?(e.addClass("right"),e.css({top:h.offset().top+h.outerHeight()/2-i.height/2-o(globalThis).scrollTop(),left:h.offset().left+h.outerWidth()-o(globalThis).scrollLeft()+l.popoverOffset})):l.popoverPosition===t.position.LEFT?(e.addClass("left"),e.css({top:h.offset().top+h.outerHeight()/2-i.height/2-o(globalThis).scrollTop(),left:h.offset().left-i.width-o(globalThis).scrollLeft()-l.popoverOffset})):(e.addClass("top"),e.css({top:h.offset().top-o(globalThis).scrollTop()-i.height-l.popoverOffset,left:h.offset().left+h.outerWidth()/2-i.width/2-o(globalThis).scrollLeft()}))},createPopover:function(){let e=this.elem,i=this.element,l=this.options,h,v,x=t.utils.elementId("popover"),w;if(!this.popovered){switch(h=o("<div>").addClass("popover neb").addClass(l.clsPopover),h.attr("id",x),o("<div>").addClass("popover-content").addClass(l.clsPopoverContent).html(l.popoverText).appendTo(h),l.popoverHide===0&&l.closeButton===!0&&(w=o("<button>").addClass("square small popover-close-button").html("&times;").appendTo(h),w.on(t.events.click,()=>{this.removePopover()})),l.popoverPosition){case t.position.TOP:v="neb-s";break;case t.position.BOTTOM:v="neb-n";break;case t.position.RIGHT:v="neb-w";break;case t.position.LEFT:v="neb-e";break}if(h.addClass(v),l.closeButton!==!0&&h.on(t.events.click,()=>{this.removePopover()}),this.popover=h,this.size=t.utils.hiddenElementSize(h),e.tagName==="TD"||e.tagName==="TH"){let D=o("<div/>").css("display","inline-block").html(i.html());i.html(D),i=D}this.setPosition(),h.appendTo(o("body")),this.popovered=!0,this._fireEvent("popover-create",{popover:h})}},removePopover:function(){let e=this.options.onPopoverHide===t.noop?0:300,i=this.popover;this.popovered&&(this._fireEvent("popover-hide",{popover:i}),setTimeout(()=>{i.hide(0,()=>{i.remove(),this.popover=null,this.popovered=!1})},e))},show:function(){let e=this.options;this.popovered!==!0&&setTimeout(()=>{this.createPopover(),this._fireEvent("popover-show",{popover:this.popover}),e.popoverHide>0&&setTimeout(()=>{this.removePopover()},e.popoverHide)},e.popoverTimeout)},hide:function(){this.removePopover()},changeAttribute:function(e){let i=this.element,l=this.options,h=()=>{l.popoverText=i.attr("data-popover-text"),this.popover&&(this.popover.find(".popover-content").html(l.popoverText),this.setPosition())},v=()=>{l.popoverPosition=i.attr("data-popover-position"),this.setPosition()};switch(e){case"data-popover-text":h();break;case"data-popover-position":v();break}},destroy:function(){let e=this.element,i=this.options,l;switch(i.popoverTrigger){case t.popoverEvents.CLICK:l=t.events.click;break;case t.popoverEvents.FOCUS:l=t.events.focus;break;default:l=t.events.enter}return e.off(l),i.hideOnLeave===!0&&e.off(t.events.leave),o(globalThis).off(t.events.scroll,{ns:this.id}),e}})})(Metro,Dom),((t,o)=>{let p={progressDeferred:0,showValue:!1,showLabel:!1,label:"Progress:",value:0,buffer:0,type:"bar",small:!1,segmentSize:10,clsProgress:"",clsBack:"",clsBar:"",clsBuffer:"",clsValue:"",clsLabel:"",clsData:"",onValueChange:t.noop,onBufferChange:t.noop,onComplete:t.noop,onBuffered:t.noop,onProgressCreate:t.noop};t.progressSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroProgressSetup<"u"&&t.progressSetup(globalThis.metroProgressSetup),t.Component("progress",{init:function(e,i){return this._super(i,e,p,{value:0,buffer:0}),this},_create:function(){let e=this.element,i=this.elem,l=this.options;typeof l.type=="string"&&(l.type=l.type.toLowerCase()),e.html("").addClass("progress"),this.component=e.wrap("<div>").addClass("progress-component").addClass(l.clsProgress);function h(){i.innerHTML='<div class="bar"></div>'}function v(){i.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                `}function x(){e.addClass("with-load"),i.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                    <div class="load"></div>
                `}function w(){e.addClass("line")}function D(){e.addClass("segments"),e.append('<div class="bar"></div>');let Y=e.width(),X=Math.ceil(Y/(l.segmentSize||10));for(let ie=0;ie<X;ie++)i.innerHTML+=`<div class="segment" style="width: ${l.segmentSize}px"></div>`}switch(l.type){case"buffer":v();break;case"load":x();break;case"line":w();break;case"segment":D();break;default:h()}l.small===!0&&e.addClass("small"),e.addClass(l.clsBack),e.find(".bar").addClass(l.clsBar),e.find(".buffer").addClass(l.clsBuffer);let M=o("<div>").addClass("progress-data").addClass(l.clsData).insertBefore(e),I=o("<div>").addClass("progress-label").addClass(l.clsLabel).html(l.label).appendTo(M),B=o("<div>").addClass("progress-value").addClass(l.clsLabel).html(l.value).appendTo(M);l.showLabel===!1&&I.hide(),l.showValue===!1&&B.hide(),this.val(l.value),this.buff(l.buffer),this._fireEvent("progress-create",{element:e})},val:function(e){let i=this.element,l=this.component.find(".progress-value");if(e===void 0)return this.value;let h=i.find(".bar");if(h.length===0)return!1;this.value=Number.parseInt(e,10),h.css("width",`${this.value}%`),l.html(`${this.value}%`),this._fireEvent("value-change",{val:this.value}),this.value===100&&this._fireEvent("complete",{val:this.value})},buff:function(e){let i=this.element;if(e===void 0)return this.buffer;let l=i.find(".buffer");if(l.length===0)return!1;this.buffer=Number.parseInt(e,10),l.css("width",`${this.buffer}%`),this._fireEvent("buffer-change",{val:this.buffer}),this.buffer===100&&this._fireEvent("buffered",{val:this.buffer})},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(e){switch(e){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break}},destroy:function(){this.component.remove()}})})(Metro,Dom),((t,o)=>{let p={ratingDeferred:0,label:"",static:!1,title:null,value:0,values:null,message:"",stars:5,onColor:null,offColor:null,roundFunc:"round",half:!0,symbol:"★",clsRating:"",clsTitle:"",clsStars:"",clsResult:"",clsLabel:"",onStarClick:t.noop,onRatingCreate:t.noop};t.ratingSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroRatingSetup<"u"&&t.ratingSetup(globalThis.metroRatingSetup),t.Component("rating",{init:function(e,i){return this._super(i,e,p,{value:0,originValue:0,values:[],rate:0,rating:null}),this},_create:function(){let e=this.element,i=this.options,l;if(Number.isNaN(i.value)?i.value=0:i.value=Number.parseFloat(i.value).toFixed(1),i.values!==null)Array.isArray(i.values)?this.values=i.values:typeof i.values=="string"&&(this.values=i.values.toArray());else for(l=1;l<=i.stars;l++)this.values.push(l);this.originValue=i.value,this.value=i.value>0&&i.roundFunc!=="none"?Math[i.roundFunc](i.value):Math.abs(i.value),this._createRating(),this._createEvents(),this._fireEvent("rating-create",{element:e})},_createRating:function(){let e=this.element,i=this.options,l=t.utils.elementId("rating"),h,v,x,w=t.sheet,D=i.static?Math.floor(this.originValue):this.value,M=e.wrap("<div>").addClass(`rating ${e[0].className}`).addClass(i.clsRating);for(e.val(this.value),M.attr("id",e.id()?`rating--${e.id()}`:l),v=o("<ul>").addClass("stars").addClass(i.clsStars).appendTo(M),h=1;h<=i.stars;h++)x=o("<li>").attr("data-symbol",i.symbol).data("value",this.values[h-1]).appendTo(v),h<=D&&x.addClass("on");if(o("<span>").addClass("result").addClass(i.clsResult).appendTo(M).html(i.message),i.offColor!==null&&(i.offColor.includes("var(")||Farbe.Routines.isColor(i.offColor)),i.onColor!==null&&(i.onColor.includes("var(")||Farbe.Routines.isColor(i.onColor))&&(t.utils.addCssRule(w,`#${l} .stars:hover li`,`color: ${i.onColor};`),t.utils.addCssRule(w,`#${l} .stars li.on`,`color: ${i.onColor};`),t.utils.addCssRule(w,`#${l} .stars li.half::after`,`color: ${i.onColor};`)),i.title!==null){let I=o("<span>").addClass("title").addClass(i.clsTitle).html(i.title);M.prepend(I)}if(i.static===!0&&(M.addClass("static"),i.half===!0)){let I=Math.round(this.originValue%1*10);I>0&&I<=9&&M.find(".stars li.on").last().next("li").addClass(`half half-${I*10}`)}if(e[0].className="",i.label){let I=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(M);if(e.attr("id"))I.attr("for",e.attr("id"));else{let B=Hooks.useId(e[0]);I.attr("for",B),e.attr("id",B)}e.attr("dir")==="rtl"&&I.addClass("rtl")}e.is(":disabled")?this.disable():this.enable(),this.rating=M},_createEvents:function(){let e=this,i=this.element,l=this.options;this.rating.on(t.events.click,".stars li",function(){if(l.static===!0)return;let h=o(this),v=h.data("value");h.addClass("scale"),setTimeout(()=>{h.removeClass("scale")},300),i.val(v).trigger("change"),h.addClass("on"),h.prevAll().addClass("on"),h.nextAll().removeClass("on"),e._fireEvent("star-click",{value:v,star:h[0]})})},val:function(e){let i=this,l=this.element,h=this.options,v=this.rating;if(e===void 0)return this.value;this.value=e>0?Math[h.roundFunc](e):0,l.val(this.value).trigger("change");let x=v.find(".stars li").removeClass("on");return o.each(x,function(){let w=o(this);w.data("value")<=i.value&&w.addClass("on")}),this},msg:function(e){let i=this.rating;if(e!==void 0)return i.find(".result").html(e),this},static:function(e){let i=this.options,l=this.rating;i.static=e,e===!0?l.addClass("static"):l.removeClass("static")},changeAttributeStatic:function(){let e=this.element,i=JSON.parse(e.attr("data-static"))===!0;this.static(i)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,i){switch(e){case"value":case"data-value":this.val(i);break;case"disabled":this.toggleState();break;case"data-message":this.msg(i);break;case"data-static":this.changeAttributeStatic();break}},destroy:function(){let e=this.options,i=this.rating;i.off(t.events.click,".stars li"),e.label&&i.prev("label").remove(),i.remove()}})})(Metro,Dom),((t,o)=>{let p={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,sort:"",limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",sortRules:"",showSearch:!0,showOrder:!0,showRowsCount:!0,template:"",clsBody:"",clsItem:"",clsPagination:"",clsSearchBlock:"",clsOrderBlock:"",clsRowsCountBlock:"",onLoad:e=>e,onDrawRow:t.noop,onDrawCell:t.noop,onDatasetCreate:t.noop};t.remoteDatasetSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroRemoteDatasetSetup<"u"&&t.remoteDatasetSetup(globalThis.metroRemoteDatasetSetup),t.Component("remote-dataset",{init:function(e,i){return this._super(i,e,p,{data:null,total:0}),this},_create:function(){let e=this.options;this.offset=e.offset,this.rowSteps=e.rowsSteps.toArray(","),this.limit=+e.rows,this.url=e.url,this.search="";let[i,l]=e.sort.toArray(":");this.sortField=i,this.sortOrder=l,this.template=t.utils.exec(e.template),this.sortRules=e.sortRules.toArray(",").filter(h=>h).map(h=>h.toArray(":")),this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("dataset-create")},_loadData:async function(e=!1){let i=this.options;if(!this.url)return;let l=`${this.url}?${i.limitKey}=${this.limit}&${i.offsetKey}=${this.offset}`;this.sortField&&(l+=`&${i.sortKey}=${this.sortField}&${i.orderKey}=${this.sortOrder}`),this.search&&(l+=`&${i.searchKey}=${this.search}`);let h=await fetch(l,{method:i.method});h.ok!==!1&&(this.data=t.utils.exec(i.onLoad,[await h.json()],this),this._createEntries(e))},_createStructure:function(){let e=this.element,i=this.options,l=o("<div>").addClass("dataset-entry");e.addClass("remote-dataset"),e.append(l),l.html(`
                <div class="service-block">
                    <div class="search-block ${i.clsSearchBlock} ${i.showSearch?"":"hide-block"}">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                   
                    <div class="order-block ${i.clsOrderBlock} ${this.sortRules.length===0||i.showOrder===!1?"hide-block":""}">
                        <select name="sort-order" data-role="select" data-filter="false">
                            ${this.sortRules.map(h=>`
                                <option value="${h[0]}:${h[1]}" 
                                        ${h[0]===this.sortField&&h[1]===this.sortOrder?"selected":""}
                                        data-icon="${h[3]?h[3]:""}"
                                >
                                    ${h[2]}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                   
                    <div class="count-block ${i.clsRowsCountBlock} ${i.showRowsCount?"":"hide-block"}">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(h=>`
                                <option value="${h}" ${+h===this.rowsCount?"selected":""}>
                                    ${h}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                </div>
                <div class="dataset-body"></div>
            `),this.body=l.find(".dataset-body").addClass(i.clsBody),this.loadMore=o("<div>").addClass("dataset-load-more"),this.loadMore.html(`
                <button class="button large cycle link load-more-button">
                    <span class="icon">⟳</span>
                    ${this.strings.label_load_more}
                </button>
            `).appendTo(e),this.pagination=o("<div>").addClass("dataset-pagination"),e.append(this.pagination)},_createEvents:function(){let e=this,i=this.element,l=this.options;i.on("click",".page-link",function(){let v=o(this).parent();if(v.hasClass("service")){v.hasClass("prev-page")?(e.offset-=e.limit,e.offset<0&&(e.offset=0)):e.offset+=e.limit,e._loadData().then(()=>{});return}e.offset=o(this).data("page")*e.limit-e.limit,e._loadData().then(()=>{})});let h=Hooks.useDebounce(()=>{let v=i.find("input[name=search]").val().trim();if(v===""){this.search="",this.url=l.url,this._loadData().then(()=>{});return}v.length<3||(this.search=v,this.url=l.searchUrl,this._loadData().then(()=>{}))},300);i.on(t.events.inputchange,"input[name=search]",h),i.on("change","select[name=rows-count]",function(){e.limit=+o(this).val(),e.offset=0,e._loadData().then(()=>{})}),i.on("change","select[name=sort-order]",function(){let[v,x]=o(this).val().split(":");e.url=l.url,e.sortField=v,e.sortOrder=x,e.offset=0,e._loadData().then(()=>{})}),i.on("click",".load-more-button",()=>{e.offset+=e.limit,e._loadData(!0).then(()=>{})})},_createEntries:function(e=!1){let i=this.options;if(!this.data)return;let l=t.utils.isValue(this.data[i.totalKey]);this.entries=this.data[i.dataKey],this.total=this.data[i.totalKey],e===!1&&this.body.clear(),this.entries.forEach((h,v)=>{let x=o("<div>").addClass("dataset-item").addClass(i.clsItem).addClass(v%2===0?"even":"odd"),w=t.utils.exec(i.template,[h],h);x.html(w).appendTo(this.body)}),l&&!i.shortPagination?t.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:i.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},setup:e=>{},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,fields:"",sortableFields:"",colSize:"",sort:"",sortOrder:"asc",captions:null,limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",clsTable:"",clsPagination:"",onLoad:e=>e,onDrawRow:t.noop,onDrawCell:t.noop,onDrawHeadCell:t.noop,onTableCreate:t.noop};t.remoteTableSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroRemoteTableSetup<"u"&&t.remoteTableSetup(globalThis.metroRemoteTableSetup),t.Component("remote-table",{init:function(e,i){return this._super(i,e,p,{data:null,total:0}),this},_create:function(){let e=this.options;this.offset=e.offset,this.fields=e.fields.toArray(","),this.captions=e.captions?e.captions.toArray(","):null,this.rowSteps=e.rowsSteps.toArray(","),this.colSize=e.colSize.toArray(","),this.limit=+e.rows,this.url=e.url,this.search="",this.sortField=e.sort,this.sortOrder=e.sortOrder,this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("table-create")},_loadData:async function(){let e=this.options;if(!this.url)return;let i=`${this.url}?${e.limitKey}=${this.limit}&${e.offsetKey}=${this.offset}`;this.sortField&&(i+=`&${e.sortKey}=${this.sortField}&${e.orderKey}=${this.sortOrder}`),this.search&&(i+=`&${e.searchKey}=${this.search}`);let l=await fetch(i,{method:e.method});l.ok!==!1&&(this.data=t.utils.exec(e.onLoad,[await l.json()],this),this._createEntries())},_createStructure:function(){let e=this.element,i=this.options,l=o("<div>").addClass("table-entry");e.addClass("table-component remote-table"),e.append(l),l.html(`
                <div class="search-block row">
                    <div class="cell-sm-10">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                    <div class="cell-sm-2">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(h=>`<option value="${h}" ${+h===this.rowsCount?"selected":""}>${h}</option>`).join("")}
                        </select>
                    </div>
                </div>
                <table class="table ${i.clsTable}">
                    <caption>${i.caption}</caption>
                    <thead></thead>
                    <tbody></tbody>
                </table>
            `),this.header=l.find("thead"),this.body=l.find("tbody"),this.pagination=o("<div>").addClass("table-pagination"),e.append(this.pagination)},_createEvents:function(){let e=this,i=this.element,l=this.options;i.on("click",".page-link",function(){let v=o(this).parent();if(v.hasClass("service")){v.hasClass("prev-page")?(e.offset-=e.limit,e.offset<0&&(e.offset=0)):e.offset+=e.limit,e._loadData().then(()=>{});return}e.offset=o(this).data("page")*e.limit-e.limit,e._loadData().then(()=>{})});let h=Hooks.useDebounce(()=>{let v=i.find("input[name=search]").val().trim();if(v===""){this.search="",this.url=l.url,this._loadData().then(()=>{});return}v.length<3||(this.search=v,this.url=l.searchUrl,this._loadData().then(()=>{}))},300);i.on(t.events.inputchange,"input[name=search]",h),i.on("change","select[name=rows-count]",function(){e.limit=+o(this).val(),e.offset=0,e._loadData().then(()=>{})}),i.on("click",".sortable-column",function(){let v=o(this).attr("data-field");e.sortField===v?e.sortOrder=e.sortOrder==="asc"?"desc":"asc":(e.sortField=v,e.sortOrder="asc"),e._loadData().then(()=>{})})},_createEntries:function(){var v;let e=this.options;if(!this.data)return;let i=t.utils.isValue(this.data[e.totalKey]);this.entries=this.data[e.dataKey],this.total=this.data[e.totalKey],this.header.clear(),this.body.clear();let l=o("<tr>").addClass("table-header").appendTo(this.header),h=0;for(let x of Object.keys(this.entries[0])){if(this.fields.length&&!this.fields.includes(x))continue;let w=this.captions?this.captions[h]:x,D=o("<th>").html(w).attr("data-field",x);(v=e.sortableFields)!=null&&v.includes(x)&&(D.addClass("sortable-column"),this.sortField===x&&D.addClass(`sort-${this.sortOrder}`)),D.appendTo(l).addClass(`head-cell-${x}`),this.colSize[h]&&D.css("width",this.colSize[h]),t.utils.exec(e.onDrawHeadCell,[D[0],w,x,h,e.sortableFields.includes(x),this.sortField===x,this.sortOrder],this),h++}this.entries.forEach((x,w)=>{let D=o("<tr>").addClass("table-row");this.body.append(D),t.utils.exec(e.onDrawRow,[D,x,w],this);let M=0;for(let I in x){if(this.fields.length&&!this.fields.includes(I))continue;let B=o("<td>").attr("data-label",this.captions?this.captions[M]:I).addClass(`data-cell-${I}`).html(x[I]);D.append(B),t.utils.exec(e.onDrawCell,[B[0],x[I],I,x,w],this),M++}}),i&&!e.shortPagination?t.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:e.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={resizableDeferred:0,canResize:!0,resizeElement:".resize-element",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,preserveRatio:!1,onResizeStart:t.noop,onResizeStop:t.noop,onResize:t.noop,onResizableCreate:t.noop};t.resizableSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroResizableSetup<"u"&&t.resizableSetup(globalThis.metroResizableSetup),t.Component("resizable",{init:function(e,i){return this._super(i,e,p,{resizer:null,id:t.utils.elementId("resizable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("resizable-create")},_createStructure:function(){let e=this.element,i=this.options;e.data("canResize",!0),e.addClass("resizable-element"),t.utils.isValue(i.resizeElement)&&e.find(i.resizeElement).length>0?this.resizer=e.find(i.resizeElement):this.resizer=o("<span>").addClass("resize-element").appendTo(e),e.data("canResize",i.canResize)},_createEvents:function(){let e=this.element,i=this.options;this.resizer.on(t.events.start,l=>{if(e.data("canResize")===!1)return;let h=t.utils.pageXY(l),v=Number.parseInt(e.outerWidth()),x=Number.parseInt(e.outerHeight()),w={width:v,height:x};e.addClass("stop-pointer"),this._fireEvent("resize-start",{size:w}),o(document).on(t.events.move,D=>{let M=t.utils.pageXY(D),I={width:v+M.x-h.x,height:x+M.y-h.y};if(i.maxWidth>0&&I.width>i.maxWidth||i.minWidth>0&&I.width<i.minWidth||i.maxHeight>0&&I.height>i.maxHeight||i.minHeight>0&&I.height<i.minHeight)return!0;e.css(I),this._fireEvent("resize",{size:I})},{ns:this.id}),o(document).on(t.events.stop,()=>{e.removeClass("stop-pointer"),o(document).off(t.events.move,{ns:this.id}),o(document).off(t.events.stop,{ns:this.id});let D={width:Number.parseInt(e.outerWidth()),height:Number.parseInt(e.outerHeight())};this._fireEvent("resize-stop",{size:D})},{ns:this.id}),l.preventDefault(),l.stopPropagation()})},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(e){let i=this.element,l=this.options,h=()=>{l.canResize=JSON.parse(i.attr("data-can-resize"))===!0};switch(e){case"data-can-resize":h();break}},destroy:function(){return this.resizer.off(t.events.start),this.element}})})(Metro,Dom),((t,o)=>{let p={resizerDeferred:0,onMediaPoint:t.noop,onMediaPointEnter:t.noop,onMediaPointLeave:t.noop,onWindowResize:t.noop,onElementResize:t.noop,onResizerCreate:t.noop};t.resizerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroResizerSetup<"u"&&t.resizerSetup(globalThis.metroResizerSetup),t.Component("resizer",{init:function(e,i){return this._super(i,e,p,{size:{width:0,height:0},media:globalThis.METRO_MEDIA,id:t.utils.elementId("resizer")}),this},_create:function(){let e=this.element;this.size={width:e.width(),height:e.height()},this._createStructure(),this._createEvents(),this._fireEvent("resizer-create",{element:e})},_createStructure:()=>{},_createEvents:function(){let e=this.element,i=o.window();i.on("resize",()=>{let l=i.width(),h=i.height(),v=e.width(),x=e.height(),w=this.size,D;this._fireEvent("window-resize",{width:l,height:h,media:globalThis.METRO_MEDIA}),(this.size.width!==v||this.size.height!==x)&&(this.size={width:v,height:x},this._fireEvent("element-resize",{width:v,height:x,oldSize:w,media:globalThis.METRO_MEDIA})),this.media.length!==globalThis.METRO_MEDIA.length&&(this.media.length>globalThis.METRO_MEDIA.length?(D=this.media.filter(M=>!globalThis.METRO_MEDIA.includes(M)),this._fireEvent("media-point-leave",{point:D,media:globalThis.METRO_MEDIA})):(D=globalThis.METRO_MEDIA.filter(M=>!this.media.includes(M)),this._fireEvent("media-point-enter",{point:D,media:globalThis.METRO_MEDIA})),this.media=globalThis.METRO_MEDIA,this._fireEvent("media-point",{point:D,media:globalThis.METRO_MEDIA}))},{ns:this.id})},changeAttribute:()=>{},destroy:function(){o(globalThis).off("resize",{ns:this.id})}})})(Metro,Dom),((t,o)=>{let p={ribbonMenuDeferred:0,onStatic:t.noop,onBeforeTab:t.noop_true,onTab:t.noop,onRibbonMenuCreate:t.noop};t.ribbonMenuSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroRibbonMenuSetup<"u"&&t.ribbonMenuSetup(globalThis.metroRibbonMenuSetup),t.Component("ribbon-menu",{init:function(e,i){return this._super(i,e,p),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("ribbon-menu-create",{element:e})},_createStructure:function(){let e=this.element;e.addClass("ribbon-menu");let i=e.find(".ribbon-toggle-group");o.each(i,function(){let v=o(this);v.buttongroup({clsActive:"active"});let x=0,w=v.find(".ribbon-icon-button");o.each(w,function(){let D=o(this).outerWidth(!0);D>x&&(x=D)}),v.css("width",x*Math.ceil(w.length/3)+4)}),e.find(".section").addClass("non-active");let l=e.find(".tabs-holder li:not(.static)"),h=e.find(".tabs-holder li.active");h.length>0?this.open(o(h[0])):l.length>0&&this.open(o(l[0])),setTimeout(()=>{o(window).trigger("resize")})},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.find(".content-holder").get(0);i.on(t.events.click,".tabs-holder li a",function(v){let x=o(this),w=o(this).parent("li");w.hasClass("static")?l.onStatic===t.noop&&x.attr("href")!==void 0?document.location.href=x.attr("href"):e._fireEvent("static",{tab:w[0]}):t.utils.exec(l.onBeforeTab,[w[0]],i[0])===!0&&e.open(w[0]),o(window).trigger("resize"),v.preventDefault()}),window.addEventListener("resize",()=>{h.clientWidth<h.scrollWidth?o(h).addClass("scrollable"):o(h).removeClass("scrollable")})},open:function(e){let i=this.element,l=o(e),h=i.find(".tabs-holder li"),v=i.find(".content-holder .section"),x=l.children("a").attr("href"),w=x!=="#"?i.find(x):null;v.addClass("non-active"),h.removeClass("active"),l.addClass("active"),v.removeClass("active"),w&&w.addClass("active").removeClass("non-active"),this._fireEvent("tab",{tab:l[0]})},changeAttribute:()=>{},destroy:function(){let e=this.element;return e.off(t.events.click,".tabs-holder li a"),e}})})(Metro,Dom),((t,o)=>{let p={rippleDeferred:0,rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:t.noop};t.rippleSetup=i=>{p=o.extend({},p,i)},typeof globalThis.metroRippleSetup<"u"&&t.rippleSetup(globalThis.metroRippleSetup);let e=(i,l="#fff",h=.4,v=!1)=>{let x=o(i),w=t.utils.rect(x[0]),D,M;if(x.length===0)return;x.css("position")==="static"&&x.css("position","relative"),x.css({overflow:"hidden"}),o(".ripple").remove();let I=Math.max(x.outerWidth(),x.outerHeight()),B=o("<span class='ripple'></span>").css({width:I,height:I});x.prepend(B),v?(D=v.pageX-x.offset().left-B.width()/2,M=v.pageY-x.offset().top-B.height()/2):(D=w.width/2-B.width()/2,M=w.height/2-B.height()/2),B.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(l),h),width:I,height:I,top:`${M}px`,left:`${D}px`}).addClass("rippleEffect"),setTimeout(()=>{B.remove()},400)};t.Component("ripple",{init:function(i,l){return this._super(l,i,p),this},_create:function(){let i=this.element,l=this.options,h=l.rippleTarget==="default"?null:l.rippleTarget;i.on(t.events.click,h,function(v){e(this,l.rippleColor,l.rippleAlpha,v)}),this._fireEvent("riopple-create",{element:i})},changeAttribute:function(i){let l=this.element,h=this.options;function v(){let w=l.attr("data-ripple-color");Farbe.Routines.isColor(w)&&(h.rippleColor=w)}function x(){let w=+l.attr("data-ripple-alpha");Number.isNaN(w)||(h.rippleColor=w)}switch(i){case"data-ripple-color":v();break;case"data-ripple-alpha":x();break}},destroy:function(){let i=this.element,l=this.options,h=l.rippleTarget==="default"?null:l.rippleTarget;i.off(t.events.click,h)}}),t.ripple=e})(Metro,Dom),((t,o)=>{let p={menuScrollbar:!1,sidebarDeferred:0,position:"left",shift:null,staticShift:null,toggle:null,duration:300,static:null,closeOutside:!0,onOpen:t.noop,onClose:t.noop,onToggle:t.noop,onStaticSet:t.noop,onStaticLoss:t.noop,onSidebarCreate:t.noop};t.sidebarSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroSidebarSetup<"u"&&t.sidebarSetup(globalThis.metroSidebarSetup),t.Component("sidebar",{init:function(e,i){return this._super(i,e,p,{toggle_element:null,id:t.utils.elementId("sidebar")}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),o(globalThis).resize(),this._checkStatic(),this._fireEvent("sidebar-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l=e.find(".sidebar-header"),h=t.sheet,v=e.find(".sidebar-menu"),x=e.outerWidth();e.addClass("sidebar").addClass(`on-${i.position}`),i.menuScrollbar===!1&&v.addClass("hide-scroll"),i.toggle!==null&&o(i.toggle).length>0&&(this.toggle_element=o(i.toggle)),l.length>0&&l.data("image")&&l.css({backgroundImage:`url(${l.data("image")})`}),i.static!==null&&i.staticShift!==null&&(i.position==="left"?t.utils.addCssRule(h,`@media screen and ${t.media_queries[i.static.toUpperCase()]}`,`${i.staticShift}{margin-left: ${x}px; width: calc(100% - ${x}px);}`):t.utils.addCssRule(h,`@media screen and ${t.media_queries[i.static.toUpperCase()]}`,`${i.staticShift}{margin-right: ${x}px; width: calc(100% - ${x}px);}`))},_createEvents:function(){let e=this.element,i=this.options,l=this.toggle_element;l!==null?l.on(t.events.click,h=>{this.toggle(),h.stopPropagation()}):i.toggle&&o.document().on("click",i.toggle,h=>{this.toggle(),h.stopPropagation()}),i.static!==null&&t.media_modes.includes(i.static)&&o(globalThis).on(t.events.resize,()=>{this._checkStatic()},{ns:this.id}),e.on(t.events.click,".sidebar-menu .js-sidebar-close",h=>{this.close(),h.stopPropagation()}),e.on(t.events.click,h=>{h.stopPropagation()}),o(document).on(t.events.click,()=>{i.closeOutside===!0&&this.isOpen()&&this.close()})},_checkStatic:function(){let e=this.element,i=this.options;t.utils.mediaExist(i.static)&&!e.hasClass("static")&&(e.addClass("static"),e.data("opened",!1).removeClass("open"),i.shift!==null&&o.each(i.shift.split(","),function(){o(this).animate({draw:{left:0},dur:i.duration})}),this._fireEvent("static-set")),t.utils.mediaExist(i.static)||(e.removeClass("static"),this._fireEvent("static-loss"))},isOpen:function(){return this.element.data("opened")===!0},open:function(){let e=this.element,i=this.options;e.hasClass("static")||(e.data("opened",!0).addClass("open"),i.shift!==null&&o(i.shift).animate({draw:{left:e.outerWidth()},dur:i.duration}),this._fireEvent("open"))},close:function(){let e=this.element,i=this.options;e.hasClass("static")||(e.data("opened",!1).removeClass("open"),i.shift!==null&&o(i.shift).animate({draw:{left:0},dur:i.duration}),this._fireEvent("close"))},toggle:function(){this.isOpen()?this.close():this.open(),this._fireEvent("toggle")},changeAttribute:()=>{},destroy:function(){let e=this.element,i=this.options,l=this.toggle_element;return l!==null&&l.off(t.events.click),i.static!==null&&t.media_modes.includes(i.static)&&o(globalThis).off(t.events.resize,{ns:this.id}),e.off(t.events.click,".js-sidebar-close"),e}}),t.sidebar={isSidebar:e=>t.utils.isMetroObject(e,"sidebar"),open:function(e){this.isSidebar(e)&&t.getPlugin(e,"sidebar").open()},close:function(e){this.isSidebar(e)&&t.getPlugin(e,"sidebar").close()},toggle:function(e){this.isSidebar(e)&&t.getPlugin(e,"sidebar").toggle()},isOpen:function(e){if(this.isSidebar(e))return t.getPlugin(e,"sidebar").isOpen()}}})(Metro,Dom),((t,o)=>{let p={compacted:!1,toggle:null,expandPoint:"fs",onMenuItemClick:t.noop,onCollapse:t.noop,onExpand:t.noop,onSidenavCreate:t.noop};t.sidenavCounterSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroSidenavCounterSetup<"u"&&t.sidenavCounterSetup(globalThis.metroSidenavCounterSetup),t.Component("sidenav-counter",{init:function(e,i){return this._super(i,e,p,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("sidenav-create")},_createStructure:function(){let e=this.element,i=this.options;e.addClass("sidenav-counter"),t.utils.mediaExist(i.expandPoint)&&e.addClass("expanded"),t.storage.getItem("sidenav-counter:compacted")===!0&&(e.removeClass("expanded"),e.addClass("handmade"))},_createEvents:function(){let e=this.element,i=this.options;i.toggle&&o(i.toggle).on("click",()=>{e.toggleClass("expanded"),e.toggleClass("handmade"),t.storage.setItem("sidenav-counter:compacted",!e.hasClass("expanded"))}),o(globalThis).on(t.events.resize,()=>{e.hasClass("handmade")||(t.utils.mediaExist(i.expandPoint)?e.addClass("expanded"):e.removeClass("expanded"))},{ns:this.id})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={sorterDeferred:0,thousandSeparator:",",decimalSeparator:",",sortTarget:null,sortSource:null,sortDir:"asc",sortStart:!0,saveInitial:!0,onSortStart:t.noop,onSortStop:t.noop,onSortItemSwitch:t.noop,onSorterCreate:t.noop};t.sorterSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroSorterSetup<"u"&&t.sorterSetup(globalThis.metroSorterSetup),t.Component("sorter",{init:function(e,i){return this._super(i,e,p,{initial:[]}),this},_create:function(){let e=this.element;this._createStructure(),this._fireEvent("sorter-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options;i.sortTarget===null&&(i.sortTarget=e.children()[0].tagName),this.initial=e.find(i.sortTarget).get(),i.sortStart===!0&&this.sort(i.sortDir)},_getItemContent:function(e){let i=this.options,l,h,v,x;if(t.utils.isValue(i.sortSource)){if(l="",h=e.getElementsByClassName(i.sortSource),h.length>0)for(v=0;v<h.length;v++)l+=h[v].textContent;x=h[0].dataset.format}else l=e.textContent,x=e.dataset.format;if(l=`${l}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),t.utils.isValue(x))switch(["number","int","float","money"].indexOf(x)!==-1&&(i.thousandSeparator!==","||i.decimalSeparator!==".")&&(l=t.utils.parseNumber(l,i.thousandSeparator,i.decimalSeparator)),x){case"date":l=t.utils.isDate(l)?new Date(l):"";break;case"number":l=Number(l);break;case"int":l=Number.parseInt(l);break;case"float":l=Number.parseFloat(l);break;case"money":l=t.utils.parseMoney(l);break;case"card":l=t.utils.parseCard(l);break;case"phone":l=t.utils.parsePhone(l);break}return l},sort:function(e){let i=this.element,l=this.options,h,v=t.utils.elementId("temp"),x;e&&(l.sortDir=e),h=i.find(l.sortTarget).get(),h.length!==0&&(x=o("<div>").attr("id",v).insertBefore(o(i.find(l.sortTarget)[0])),this._fireEvent("sort-start",{items:h}),h.sort((w,D)=>{let M=this._getItemContent(w),I=this._getItemContent(D),B=0;return M<I&&(B=-1),M>I&&(B=1),B!==0&&this._fireEvent("sort-item-switch",{a:w,b:D,result:B}),B}),l.sortDir==="desc"&&h.reverse(),i.find(l.sortTarget).remove(),o.each(h,function(){let w=o(this);w.insertAfter(x),x=w}),o(`#${v}`).remove(),this._fireEvent("sort-stop",{items:h}))},reset:function(){let e=this.element,i=this.options,l=t.utils.elementId("sorter"),h,v=this.initial;v.length!==0&&(h=o("<div>").attr("id",l).insertBefore(o(e.find(i.sortTarget)[0])),e.find(i.sortTarget).remove(),o.each(v,function(){let x=o(this);x.insertAfter(h),h=x}),o(`#${l}`).remove())},changeAttribute:function(e){let i=this.element,l=this.options,h=()=>{let x=i.attr("data-sort-dir").trim();x!==""&&(l.sortDir=x,this.sort())},v=()=>{let x=i.attr("data-sort-content").trim();x!==""&&(l.sortContent=x,this.sort())};switch(e){case"data-sort-dir":h();break;case"data-sort-content":v();break}},destroy:function(){return this.element}}),t.sorter={create:(e,i)=>t.utils.$()(e).sorter(i),isSorter:e=>t.utils.isMetroObject(e,"sorter"),sort:function(e,i="asc"){if(!this.isSorter(e))return!1;t.getPlugin(e,"sorter").sort(i)},reset:function(e){if(!this.isSorter(e))return!1;t.getPlugin(e,"sorter").reset()}}})(Metro,Dom),((t,o)=>{let p={VERTICAL:"vertical",HORIZONTAL:"horizontal"},e=t.storage,i={splitterDeferred:0,split:p.VERTICAL,splitSizes:null,gutterSize:5,gutterStyle:"default",minSizes:null,children:"*",gutterClick:"expand",saveState:!1,noResize:!1,onResizeStart:t.noop,onResizeStop:t.noop,onResizeSplit:t.noop,onResizeWindow:t.noop,onSplitterCreate:t.noop};t.splitterSetup=l=>{i=o.extend({},i,l)},typeof globalThis.metroSplitterSetup<"u"&&t.splitterSetup(globalThis.metroSplitterSetup),t.Component("splitter",{init:function(l,h){return this._super(h,l,i,{storage:t.utils.isValue(e)?e:null,storageKey:"SPLITTER:",id:t.utils.elementId("splitter")}),this},_create:function(){let l=this.element;this._createStructure(),this._createEvents(),this._fireEvent("splitter-create",{element:l})},_createStructure:function(){let l=this.element,h=this.options,v=l.children(h.children).addClass("split-block"),x,w=[],D=h.split===p.HORIZONTAL?"height":"width";for(l.addClass("splitter"),l.addClass(h.split.toLowerCase()===p.VERTICAL?"vertical":"horizontal"),h.gutterStyle!=="default"&&l.addClass(`gutter-style-${h.gutterStyle}`),h.noResize===!0&&l.addClass("static-size"),x=0;x<v.length-1;x++)o("<div>").addClass("gutter").css(D,h.gutterSize).insertAfter(o(v[x]));if(this._setSize(),t.utils.isValue(h.minSizes))if(`${h.minSizes}`.includes(","))for(w=h.minSizes.toArray(),x=0;x<w.length;x++)o(v[x]).data("min-size",w[x]),v[x].style.setProperty(`min-${D}`,`${w[x]}`.includes("%")?w[x]:`${`${w[x]}`.replace("px","")}px`,"important");else o.each(v,function(){this.style.setProperty(`min-${D}`,`${h.minSizes}`.includes("%")?h.minSizes:`${`${h.minSizes}`.replace("px","")}px`,"important")});h.saveState&&this.storage!==null&&this._getSize()},_setSize:function(){let l=this.element,h=this.options,v,x,w=l.children(".split-block"),D=l.width();if(v=l.children(".gutter"),!t.utils.isValue(h.splitSizes))w.css({flexBasis:`calc(${100/w.length}% - ${v.length*h.gutterSize}px)`});else{x=`${h.splitSizes}`.toArray();let M=100,I=0;for(;I<x.length;I++){let B=x[I];B.includes("%")?B=Number.parseInt(B):B=+B*100/D,M-=B,o(w[I]).css({flexBasis:`calc(${B}% - ${v.length*h.gutterSize}px)`})}for(;I<w.length;I++)o(w[I]).css({flexBasis:`calc(${M/(w.length-I)}% - ${v.length*h.gutterSize}px)`})}},_createEvents:function(){let l=this,h=this.element,v=this.options,x=h.children(".gutter");x.on(t.events.startAll,function(w){if(v.noResize===!0)return!1;let D=v.split===p.VERTICAL?h.width():h.height(),M=o(this),I=M.prev(".split-block"),B=M.next(".split-block"),Y=100*(v.split===p.VERTICAL?I.outerWidth(!0):I.outerHeight(!0))/D,X=100*(v.split===p.VERTICAL?B.outerWidth(!0):B.outerHeight(!0))/D,ie=t.utils.getCursorPosition(h[0],w);M.addClass("active"),I.addClass("stop-pointer"),B.addClass("stop-pointer"),l._fireEvent("resize-start",{pos:ie,gutter:M[0],prevBlock:I[0],nextBlock:B[0]}),o(globalThis).on(t.events.moveAll,Fe=>{let Ve=t.utils.getCursorPosition(h[0],Fe),He;v.split===p.VERTICAL?He=Ve.x*100/D-ie.x*100/D:He=Ve.y*100/D-ie.y*100/D,I.css("flex-basis",`calc(${Y+He}% - ${x.length*v.gutterSize}px)`),B.css("flex-basis",`calc(${X-He}% - ${x.length*v.gutterSize}px)`),l._fireEvent("resize-split",{pos:Ve,gutter:M[0],prevBlock:I[0],nextBlock:B[0]})},{ns:l.id}),o(globalThis).on(t.events.stopAll,Fe=>{I.removeClass("stop-pointer"),B.removeClass("stop-pointer"),l._saveSize(),M.removeClass("active"),o(globalThis).off(t.events.moveAll,{ns:l.id}),o(globalThis).off(t.events.stopAll,{ns:l.id});let Ve=t.utils.getCursorPosition(h[0],Fe);l._fireEvent("resize-stop",{pos:Ve,gutter:M[0],prevBlock:I[0],nextBlock:B[0]})},{ns:l.id})},{passive:!0}),o(globalThis).on(t.events.resize,()=>{let w=h.children(".gutter"),D=w.prev(".split-block"),M=w.next(".split-block");l._fireEvent("resize-window",{prevBlock:D[0],nextBlock:M[0]})},{ns:l.id})},_saveSize:function(){let l=this.element,h=this.options,v=this.storage,x=[],w=l.attr("id")||this.id;h.saveState===!0&&v!==null&&(o.each(l.children(".split-block"),function(){let D=o(this);x.push(D.css("flex-basis"))}),v&&v.setItem(this.storageKey+w,x))},_getSize:function(){let l=this.element,h=this.options,v=this.storage,x=[],w=l.attr("id")||this.id;h.saveState===!0&&v!==null&&(x=v.getItem(this.storageKey+w),o.each(l.children(".split-block"),(D,M)=>{let I=o(M);t.utils.isValue(x)&&t.utils.isValue(x[D])&&I.css("flex-basis",x[D])}))},size:function(l){let h=this.options;return t.utils.isValue(l)&&(h.splitSizes=l,this._setSize()),this},changeAttribute:function(l){let h=this,v=this.element;function x(){let w=v.attr("data-split-sizes");h.size(w)}l==="data-split-sizes"&&x()},destroy:function(){let l=this.element;return l.children(".gutter").off(t.events.start),l.remove()}})})(Metro,Dom),((t,o)=>{let p={stepperDeferred:0,view:t.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:"",clsStep:"",clsComplete:"",clsCurrent:"",onStep:t.noop,onStepClick:t.noop,onStepperCreate:t.noop};t.stepperSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroStepperSetup<"u"&&t.stepperSetup(globalThis.metroStepperSetup),t.Component("stepper",{init:function(e,i){return this._super(i,e,p,{current:0}),this},_create:function(){let e=this.element,i=this.options;i.step<=0&&(i.step=1),this._createStepper(),this._createEvents(),this._fireEvent("stepper-create",{element:e})},_createStepper:function(){let e=this.element,i=this.options,l;for(e.addClass("stepper").addClass(i.view).addClass(i.clsStepper),l=1;l<=i.steps;l++)o("<span>").addClass("step").addClass(i.clsStep).data("step",l).html(`<span>${l}</span>`).appendTo(e);this.current=1,this.toStep(i.step)},_createEvents:function(){let e=this,i=this.element,l=this.options;i.on(t.events.click,".step",function(){let h=o(this).data("step");l.stepClick===!0&&(e.toStep(h),e._fireEvent("step-click",{step:h}))})},next:function(){let e=this.element.find(".step");this.current+1>e.length||(this.current++,this.toStep(this.current))},prev:function(){this.current-1!==0&&(this.current--,this.toStep(this.current))},last:function(){let e=this.element;this.toStep(e.find(".step").length)},first:function(){this.toStep(1)},toStep:function(e){let i=this.element,l=this.options,h=o(i.find(".step").get(e-1)),v=this.current;h.length!==0&&(this.current=e,i.find(".step").removeClass("complete current").removeClass(l.clsCurrent).removeClass(l.clsComplete),h.addClass("current").addClass(l.clsCurrent),h.prevAll().addClass("complete").addClass(l.clsComplete),this._fireEvent("step",{step:this.current,prev:v}))},changeAttribute:()=>{},destroy:function(){let e=this.element;e.off(t.events.click,".step"),e.remove()}})})(Metro,Dom),((t,o)=>{let p=e=>new p.init(e);p.prototype={setKey:function(e){this.key=e},getKey:function(){return this.key},setItem:function(e,i){this.storage.setItem(`${this.key}:${e}`,JSON.stringify(i))},getItem:function(e,i,l){let h,v;v=this.storage.getItem(`${this.key}:${e}`);try{h=JSON.parse(v,l)}catch{h=null}return t.utils.nvl(h,i)},getItemPart:function(e,i,l,h){let v,x=this.getItem(e,l,h),w=i.split("->");for(v=0;v<w.length;v++)x=x[w[v]];return x},delItem:function(e){this.storage.removeItem(`${this.key}:${e}`)},size:function(e){let i;switch(e){case"m":case"M":{i=1024*1024;break}case"k":case"K":{i=1024;break}default:i=1}return JSON.stringify(this.storage).length/i}},p.init=function(e){return this.key="",this.storage=e||globalThis.localStorage,this},p.init.prototype=p.prototype,t.storage=p(globalThis.localStorage),t.session=p(globalThis.sessionStorage)})(Metro,Dom),((t,o)=>{let p={streamerDeferred:0,wheel:!0,wheelStep:20,duration:200,defaultClosedIcon:"",defaultOpenIcon:"",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:"",excludeClickClass:"",excludeClass:"",onDataLoad:t.noop,onDataLoaded:t.noop,onDataLoadError:t.noop,onDrawEvent:t.noop,onDrawGlobalEvent:t.noop,onDrawStream:t.noop,onStreamClick:t.noop,onStreamSelect:t.noop,onEventClick:t.noop,onEventSelect:t.noop,onEventsScroll:t.noop,onStreamerCreate:t.noop};t.streamerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroStreamerSetup<"u"&&t.streamerSetup(globalThis.metroStreamerSetup),t.Component("streamer",{init:function(e,i){return this._super(i,e,p,{data:null,scroll:0,scrollDir:"left",events:null}),this},_create:function(){let e=this.element,i=this.options;if(e.addClass("streamer"),e.attr("id")===void 0&&e.attr("id",t.utils.elementId("streamer")),i.source===null&&i.data===null)return!1;o("<div>").addClass("streams").appendTo(e),o("<div>").addClass("events-area").appendTo(e),i.source!==null?(this._fireEvent("data-load",{source:i.source}),this._loadSource()):(this.data=i.data,this.build())},_loadSource:function(){let e=this.options;fetch(e.source).then(t.fetch.status).then(t.fetch.json).then(i=>{this._fireEvent("data-loaded",{source:e.source,data:i}),this.data=i,this.build()}).catch(i=>{this._fireEvent("data-load-error",{source:e.source,error:i})})},build:function(){let e=this,i=this.element,l=this.options,h=this.data,v=i.find(".streams").html(""),x=i.find(".events-area").html(""),w,D=o("<ul>").addClass("streamer-timeline").html("").appendTo(x),M=o("<div>").addClass("streamer-events").appendTo(x),I=o("<div>").addClass("event-group").appendTo(M),B=t.utils.getURIParameter(null,"StreamerIDS");B!==null&&l.encodeLink===!0&&(B=atob(B));let Y=B?B.split("|")[0]:null,X=B?B.split("|")[1].split(","):[];if(h.actions!==void 0){let ps=o("<div>").addClass("streamer-actions").appendTo(v);o.each(h.actions,function(){let Vi=o("<button>").addClass("streamer-action").addClass(this.cls).html(this.html);this.onclick&&Vi.on(t.events.click,()=>{t.utils.exec(this.onclick,[i])}),Vi.appendTo(ps)})}D.html(""),h.timeline===void 0&&(h.timeline={start:"09:00",stop:"18:00",step:20});let ie=new Date,Fe=new Date,Ve=h.timeline.start?h.timeline.start.split(":"):[9,0],He=h.timeline.stop?h.timeline.stop.split(":"):[18,0],ze=h.timeline.step?Number.parseInt(h.timeline.step)*60:1200;ie.setHours(Ve[0]),ie.setMinutes(Ve[1]),ie.setSeconds(0),Fe.setHours(He[0]),Fe.setMinutes(He[1]),Fe.setSeconds(0);let De,Oe,Me,Ie,kt,Ot,Fi,mn,Si,Pn;for(De=ie.getTime()/1e3;De<=Fe.getTime()/1e3;De+=ze)for(Oe=new Date(De*1e3),Me=Oe.getHours(),kt=Oe.getMinutes(),Ie=`${Str.lpad(Me,"0",2)}:${Str.lpad(kt,"0",2)}`,mn=o("<li>").data("time",Ie).addClass(`js-time-point-${Ie.replace(":","-")}`).html(`<em>${Ie}</em>`).appendTo(D),Pn=mn.width()/Number.parseInt(h.timeline.step),w=o("<ul>").addClass("streamer-fake-timeline").html("").appendTo(mn),Ot=0;Ot<Number.parseInt(h.timeline.step);Ot++)Fi=kt+Ot,Ie=`${Str.lpad(Me,"0",2)}:${Str.lpad(Fi,"0",2)}`,Si=o("<li>").data("time",Ie).addClass(`js-fake-time-point-${Ie.replace(":","-")}`).html("|").appendTo(w),Si.css({width:Pn});if(h.streams!==void 0&&o.each(h.streams,function(ps,Vi){let ms=0,Qn=o("<div>").addClass("stream").addClass(this.cls).appendTo(v);Qn.addClass(Vi.cls).data("one",!1).data("data",Vi.data),o("<div>").addClass("stream-title").html(Vi.title).appendTo(Qn),o("<div>").addClass("stream-secondary").html(Vi.secondary).appendTo(Qn),o(Vi.icon).addClass("stream-icon").appendTo(Qn);let gn=Farbe.Routines.toHEX(t.utils.getStyleOne(Qn,"background-color")),Qs=Farbe.Routines.toHEX(t.utils.getStyleOne(Qn,"color")),es=o("<div>").addClass("stream-events").data("background-color",gn).data("text-color",Qs).appendTo(I);if(Vi.events!==void 0){o.each(Vi.events,function(Aa,yt){let _u=yt.row===void 0?1:Number.parseInt(yt.row),Bt,Et=`${ps}:${Aa}`,Ft=yt.custom!==void 0?yt.custom:"",ci=yt.custom_open!==void 0?yt.custom_open:"",Nt=yt.custom_close!==void 0?yt.custom_close:"",Xt;if(yt.skip!==void 0&&t.utils.bool(yt.skip))return;Xt=o("<div>").data("origin",yt).data("sid",Et).data("data",yt.data).data("time",yt.time).data("target",yt.target).addClass("stream-event").addClass(`size-${yt.size}${["half","one-third"].includes(yt.size)?"":"x"}`).addClass(yt.cls).appendTo(es);let vn=D.find(`.js-fake-time-point-${this.time.replace(":","-")}`).offset().left-es.offset().left,Zi=75*(_u-1);if(_u>ms&&(ms=_u),Xt.css({position:"absolute",left:vn,top:Zi}),t.utils.isNull(yt.html)){let Pd=o("<div>").addClass("stream-event-slide").appendTo(Xt),If=o("<div>").addClass("slide-logo").appendTo(Pd),Lf=o("<div>").addClass("slide-data").appendTo(Pd);yt.icon!==void 0&&(t.utils.isTag(yt.icon)?o(yt.icon).addClass("icon").appendTo(If):o("<img>").addClass("icon").attr("src",yt.icon).attr("alt","").appendTo(If)),o("<span>").addClass("time").css({backgroundColor:gn,color:Qs}).html(yt.time).appendTo(If),o("<div>").addClass("title").html(yt.title).appendTo(Lf),o("<div>").addClass("subtitle").html(yt.subtitle).appendTo(Lf),o("<div>").addClass("desc").html(yt.desc).appendTo(Lf),(l.closed===!1&&i.attr("id")===Y&&X.indexOf(Et)!==-1||yt.selected===!0||Number.parseInt(yt.selected)===1)&&Xt.addClass("selected"),l.closed===!0||yt.closed===!0||Number.parseInt(yt.closed)===1?(Bt=yt.closedIcon!==void 0?t.utils.isTag(yt.closedIcon)?yt.closedIcon:`<span>${yt.closedIcon}</span>`:t.utils.isTag(l.defaultClosedIcon)?l.defaultClosedIcon:`<span>${l.defaultClosedIcon}</span>`,o(Bt).addClass("state-icon").addClass(yt.clsClosedIcon).appendTo(Pd),Xt.data("closed",!0).data("target",yt.target),Xt.append(ci)):(Bt=yt.openIcon!==void 0?t.utils.isTag(yt.openIcon)?yt.openIcon:`<span>${yt.openIcon}</span>`:t.utils.isTag(l.defaultOpenIcon)?l.defaultOpenIcon:`<span>${l.defaultOpenIcon}</span>`,o(Bt).addClass("state-icon").addClass(yt.clsOpenIcon).appendTo(Pd),Xt.data("closed",!1),Xt.append(Nt)),Xt.append(Ft)}else Xt.html(yt.html);e._fireEvent("draw-event",{event:Xt[0]})});let Bn=es.find(".stream-event").last();Bn.length>0&&es.outerWidth(Bn[0].offsetLeft+Bn.outerWidth())}es.css({height:75*ms}),i.find(".stream").eq(es.index()).css({height:75*ms}),e._fireEvent("draw-stream",{stream:Qn[0]})}),h.global!==void 0){let ps=M.offset().left;o.each(["before","after"],(Vi,ms)=>{h.global[ms]!==void 0&&o.each(h.global[ms],function(Qn,gn){let Qs=o("<div>").addClass("event-group").addClass(`size-${gn.size}${["half","one-third"].includes(gn.size)?"":"x"}`),es=o("<div>").addClass("stream-events global-stream").appendTo(Qs),Bn=o("<div>").addClass("stream-event").appendTo(es);Bn.addClass("global-event").addClass(gn.cls).data("time",gn.time).data("origin",gn).data("data",gn.data),o("<div>").addClass("event-title").html(gn.title).appendTo(Bn),o("<div>").addClass("event-subtitle").html(gn.subtitle).appendTo(Bn),o("<div>").addClass("event-html").html(gn.html).appendTo(Bn);let Aa,yt=D.find(`.js-fake-time-point-${this.time.replace(":","-")}`);yt.length>0&&(Aa=yt.offset().left-ps),Qs.css({position:"absolute",left:Aa,height:"100%"}).appendTo(M),e._fireEvent("draw-global-event",{event:Bn[0]})})})}i.data("stream",-1),i.find(".events-area").scrollLeft(0),this.events=i.find(".stream-event"),this._createEvents(),l.startFrom!==null&&l.slideToStart===!0&&setTimeout(()=>{e.slideTo(l.startFrom)},l.startSlideSleep),this._fireEvent("streamer-create"),this._fireScroll()},_fireScroll:function(){let e=this.element.find(".events-area"),i=this.scroll;e.length!==0&&(this.scrollDir=this.scroll<e[0].scrollLeft?"left":"right",this.scroll=e[0].scrollLeft,this._fireEvent("events-scroll",{scrollLeft:e[0].scrollLeft,oldScroll:i,scrollDir:this.scrollDir,events:o.toArray(this.events)}))},_createEvents:function(){let e=this,i=this.element,l=this.options;function h(){let x=globalThis.pageYOffset||document.documentElement.scrollTop,w=globalThis.pageXOffset||document.documentElement.scrollLeft;globalThis.onscroll=()=>{globalThis.scrollTo(w,x)}}function v(){globalThis.onscroll=()=>{}}i.off(t.events.click,".stream-event").on(t.events.click,".stream-event",function(x){let w=o(this);if(!(l.excludeClass!==""&&w.hasClass(l.excludeClass))&&!(l.excludeElement!==null&&o(x.target).is(l.excludeElement))){if(l.closed===!1&&w.data("closed")!==!0&&l.eventClick==="select")l.excludeSelectClass!==""&&w.hasClass(l.excludeSelectClass)||l.excludeSelectElement!==null&&o(x.target).is(l.excludeSelectElement)||(w.hasClass("global-event")?l.selectGlobal===!0&&w.toggleClass("selected"):w.toggleClass("selected"),l.changeUri===!0&&e._changeURI(),e._fireEvent("event-select",{event:w[0],selected:w.hasClass("selected")}));else if(!(l.excludeClickClass!==""&&w.hasClass(l.excludeClickClass))&&!(l.excludeClickElement!==null&&o(x.target).is(l.excludeClickElement))&&(e._fireEvent("event-click",{event:w[0]}),l.closed===!0||w.data("closed")===!0)){let D=w.data("target");D&&(globalThis.location.href=D)}}}),i.off(t.events.click,".stream").on(t.events.click,".stream",function(){let x=o(this),w=x.index();l.streamSelect!==!1&&(i.data("stream")===w?(i.find(".stream-event").removeClass("disabled"),i.data("stream",-1)):(i.data("stream",w),i.find(".stream-event").addClass("disabled"),e.enableStream(x),e._fireEvent("stream-select",{stream:x})),e._fireEvent("stream-click",{stream:x}))}),l.wheel===!0&&(i.find(".events-area").off(t.events.mousewheel).on(t.events.mousewheel,function(x){if(x.deltaY===void 0)return;let w=o(this),D=x.deltaY>0?-1:1,M=l.wheelStep,I=w.scrollLeft()-D*M;w.scrollLeft(I)},{passive:!0}),i.find(".events-area").off("mouseenter").on("mouseenter",()=>{h()}),i.find(".events-area").off("mouseleave").on("mouseleave",()=>{v()})),i.find(".events-area").last().off("scroll").on("scroll",()=>{e._fireScroll()}),o.touchable===!0&&i.off(t.events.click,".stream").on(t.events.click,".stream",function(){let x=o(this);x.toggleClass("focused"),o.each(i.find(".stream"),function(){o(this).is(x)||o(this).removeClass("focused")})})},_changeURI:function(){let e=this.getLink();history.pushState({},document.title,e)},slideTo:function(e){let i=this.element,l=this.options,h;e===void 0?h=o(i.find(".streamer-timeline li")[0]):h=o(i.find(`.streamer-timeline .js-time-point-${e.replace(":","-")}`)[0]),i.find(".events-area").animate({draw:{scrollLeft:h[0].offsetLeft-i.find(".streams .stream").outerWidth()},dur:l.duration})},enableStream:function(e){let i=this.element,l=e.index()-1;e.removeClass("disabled").data("streamDisabled",!1),i.find(".stream-events").eq(l).find(".stream-event").removeClass("disabled")},disableStream:function(e){let i=this.element,l=e.index()-1;e.addClass("disabled").data("streamDisabled",!0),i.find(".stream-events").eq(l).find(".stream-event").addClass("disabled")},toggleStream:function(e){e.data("streamDisabled")===!0?this.enableStream(e):this.disableStream(e)},getLink:function(){let e=this.element,i=this.options,l=e.find(".stream-event"),h=[],v,x=globalThis.location.href;return o.each(l,function(){let w=o(this);w.data("sid")===void 0||!w.hasClass("selected")||h.push(w.data("sid"))}),v=`${e.attr("id")}|${h.join(",")}`,i.encodeLink===!0&&(v=btoa(v)),t.utils.updateURIParameter(x,"StreamerIDS",v)},getTimes:function(){let e=this.element.find(".streamer-timeline > li"),i=[];return o.each(e,function(){i.push(o(this).data("time"))}),i},getEvents:function(e,i){let l=this.element,h,v=[];switch(e){case"selected":h=l.find(".stream-event.selected");break;case"non-selected":h=l.find(".stream-event:not(.selected)");break;default:h=l.find(".stream-event")}return o.each(h,function(){let x=o(this);if(i!==!0&&x.parent().hasClass("global-stream"))return;let w=x.data("origin");v.push(w)}),v},source:function(e){let i=this.element;if(e===void 0)return this.options.source;i.attr("data-source",e),this.options.source=e,this.changeSource()},dataSet:function(e){if(e===void 0)return this.options.data;this.options.data=e,this.changeData(e)},getStreamerData:function(){return this.data},toggleEvent:function(e){let i=this.options,l=o(e);l.hasClass("global-event")&&i.selectGlobal!==!0||(l.hasClass("selected")?this.selectEvent(e,!1):this.selectEvent(e,!0))},selectEvent:function(e,i=!0){let l=this.options,h=o(e);h.hasClass("global-event")&&l.selectGlobal!==!0||(i===!0?h.addClass("selected"):h.removeClass("selected"),l.changeUri===!0&&this._changeURI(),this._fireEvent("event-select",{event:h[0],selected:i}))},changeSource:function(){let e=this.element,i=this.options,l=e.attr("data-source");String(l).trim()!==""&&(i.source=l,this._fireEvent("data-load",{source:i.source}),this._loadSource(),this._fireEvent("source-change"))},changeData:function(e){let i=this.element,l=this.options,h=this.data;l.data=typeof e=="object"?e:JSON.parse(i.attr("data-data")),this.data=l.data,this.build(),this._fireEvent("data-change",{oldData:h,newData:l.data})},changeStreamSelectOption:function(){let e=this.element,i=this.options;i.streamSelect=e.attr("data-stream-select").toLowerCase()==="true"},changeAttribute:function(e){switch(e){case"data-source":this.changeSource();break;case"data-data":this.changeData();break;case"data-stream-select":this.changeStreamSelectOption();break}},destroy:function(){let e=this.element;e.off(t.events.click,".stream-event"),e.off(t.events.click,".stream"),e.find(".events-area").off(t.events.mousewheel),e.find(".events-area").last().off("scroll"),e.remove()}})})(Metro,Dom),((t,o)=>{let p={swipeThreshold:32,onSwipe:t.noop,onSwipeRight:t.noop,onSwipeLeft:t.noop,onSwipeUp:t.noop,onSwipeDown:t.noop,onSwipeCreate:t.noop};t.swipeSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroSwipeSetup<"u"&&t.swipeSetup(globalThis.metroSwipeSetup),t.Component("swipe",{init:function(e,i){return this._super(i,e,p,{}),this},_create:function(){this.element.css({userSelect:"none"}),this._createEvents(),this._fireEvent("swipe-create")},_createEvents:function(){let e=this.element,i=this.options;e.on("touchstart mousedown",l=>{let h=t.utils.pageXY(l),v={x:0,y:0};e.on("touchmove mousemove",x=>{let w=t.utils.pageXY(x);v.x=w.x-h.x,v.y=w.y-h.y}),e.on("touchend mouseup",x=>{let w="";(Math.abs(v.x)>i.swipeThreshold||Math.abs(v.y)>i.swipeThreshold)&&(Math.abs(v.x)>Math.abs(v.y)?v.x>0?(w="right",this._fireEvent("swipe-right",{start:h,swipe:v})):(w="left",this._fireEvent("swipe-left",{start:h,swipe:v})):v.y>0?(w="down",this._fireEvent("swipe-down",{start:h,swipe:v})):(w="up",this._fireEvent("swipe-up",{start:h,swipe:v})),this._fireEvent("swipe",{start:h,swipe:v,direction:w})),e.off("touchmove mousemove"),e.off("touchend mouseup")})})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={switchDeferred:0,material:!1,prepend:"",append:"",clsSwitch:"",clsCheck:"",clsCaption:"",onoff:!1,on:"",off:"",showOnOff:!1,onSwitchCreate:t.noop};t.switchSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroSwitchSetup<"u"&&t.switchSetup(globalThis.metroSwitchSetup),t.Component("switch",{init:function(e,i){return this._super(i,e,p,{}),this},_create:function(){let e=this.element,i=this.options,l=this.strings,h=e.wrap("<label>").addClass("switch").addClass(e[0].className).addClass(i.clsSwitch);e.attr("type","checkbox"),e.attr("readonly")&&e.on("click",v=>{v.preventDefault()}),this.component=h,e[0].className="",i.prepend&&h.prepend(o("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),i.append&&h.append(o("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.append)),i.onoff===!0?(e.attr("data-on",i.on||l.label_on),e.attr("data-off",i.off||l.label_off)):(e.removeAttr("data-on"),e.removeAttr("data-off")),i.material===!0&&h.addClass("material"),this._fireEvent("switch-create")},toggle:function(e){let i=this.element;return i.is(":disabled")?this:(t.utils.isValue(e)?i.prop("checked",e===1):i.prop("checked",!t.utils.bool(i.prop("checked"))),this)},changeAttribute:(e,i)=>{},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let p={splitter:",",variance:0,delay:100,blinkDelay:400,deleteDelay:800,loop:!0,cursor:"_",colors:"",onType:t.noop,onTyperCreate:t.noop};t.typerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroTyperSetup<"u"&&t.typerSetup(globalThis.metroTyperSetup),t.Component("typer",{init:function(e,i){return this._super(i,e,p,{original:null,lines:null,text:null,cursor:null,on:!0,interval:null,colors:null,colorIndex:0}),this},_create:function(){let e=this.element,i=this.options;e.addClass("typer"),this.original=e.text(),this.words=this.original.split(i.splitter).pack(),this.colors=i.colors.split(",").pack(),this.cursor=o("<span>").addClass("typer-cursor").html(i.cursor).insertAfter(e),this.interval=setInterval(()=>this._blink(),+i.blinkDelay),this.progress={word:0,char:0,building:!0,looped:0},e.clear(),this.start()},_blink:function(){this.on?(this.cursor[0].style.opacity=0,this.on=!1):(this.cursor[0].style.opacity=1,this.on=!0)},doTyping:function(){let e=this.element,i=this.elem,l=this.options,h,v=this.progress,x=v.word,w=v.char,D=[...this.words[x]].slice(0,w).join(""),M=(2*Math.random()-1)*l.variance+l.delay;this.cursor[0].style.opacity="1",this.on=!0,clearInterval(this.interval),this.interval=setInterval(()=>this._blink(),+l.blinkDelay),e.html(D),v.building?(h=v.char===this.words[x].length,h?v.building=!1:v.char+=1):v.char===0?(v.building=!0,v.word=(v.word+1)%this.words.length,this.colors.length&&(this.colorIndex=(this.colorIndex+1)%this.colors.length,i.style.color=this.colors[this.colorIndex])):v.char-=1,v.word===this.words.length-1&&(v.looped+=1),!v.building&&this.loop<=v.looped&&(this.typing=!1),setTimeout(()=>{this.typing&&this.doTyping()},h?l.deleteDelay:M)},start:function(){this.typing||(this.typing=!0,this.doTyping())},stop:function(){this.typing=!1},destroy:function(){this.element.remove()}})})(Metro,Dom);var am={title:void 0,format:void 0,formatMask:void 0,name:void 0,colspan:null,size:void 0,sortable:!1,sortDir:void 0,clsColumn:void 0,cls:void 0,show:!0,required:!0,field:void 0,fieldType:void 0,validator:void 0,template:void 0,type:"data"};((t,o)=>{let p={caption:"",cardMode:"",useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"🔧",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationIslandSize:3,paginationShortTrack:10,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,source:null,static:!1,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:t.noop,onDrawRow:t.noop,onDrawCell:t.noop,onAppendRow:t.noop,onAppendCell:t.noop,onSortStart:t.noop,onSortStop:t.noop,onSortItemSwitch:t.noop,onSearch:t.noop,onRowsCountChange:t.noop,onDataLoad:t.noop,onDataLoadError:t.noop,onDataLoaded:t.noop,onDataLoadEnd:t.noop,onDataSaveError:t.noop,onFilterRowAccepted:t.noop,onFilterRowDeclined:t.noop,onCheckClick:t.noop,onCheckClickAll:t.noop,onCheckDraw:t.noop,onViewSave:t.noop,onViewGet:t.noop,onViewCreated:t.noop,onTableCreate:t.noop,onSkip:t.noop};t.tableSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroTableSetup<"u"&&t.tableSetup(globalThis.metroTableSetup),t.Component("table",{init:function(e,i){return this._super(i,e,p,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},input_interval:null,searchFields:[],id:t.utils.elementId("table"),sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){let e=this.element,i=this.options,l=t.utils.elementId("table"),h;if(e.id()||(console.warn("To use all table component features, please set an ID for the table element!"),e.id(l)),t.utils.isValue(i.searchFields)&&(this.searchFields=i.searchFields.toArray()),t.utils.isValue(i.head)){let w=i.head;i.head=t.utils.isObject(i.head),i.head||(console.warn(`Head ${w} defined but not exists!`),i.head=null)}if(t.utils.isValue(i.body)){let w=i.body;i.body=t.utils.isObject(i.body),i.body||(console.warn(`Body ${w} defined but not exists!`),i.body=null)}i.static===!0&&(i.showPagination=!1,i.showRowsSteps=!1,i.showSearch=!1,i.showTableInfo=!1,i.showSkip=!1,i.rows=-1);let v=o("<div>").addClass("table-component");v.insertBefore(e),h=o("<div>").addClass("table-container").addClass(i.clsTableContainer).appendTo(v),e.appendTo(h),i.horizontalScroll===!0&&h.addClass("horizontal-scroll"),!t.utils.isNull(i.horizontalScrollStop)&&t.utils.mediaExist(i.horizontalScrollStop)&&h.removeClass("horizontal-scroll"),v.addClass(i.clsComponent),this.activity=o("<div>").addClass("table-progress").appendTo(v);let x=o("<div>").appendTo(this.activity);if(t.makePlugin(x,"activity",{type:i.activityType,style:i.activityStyle}),i.showActivity!==!0&&this.activity.css({visibility:"hidden"}),this.component=v[0],i.source!==null){this._fireEvent("data-load",{source:i.source});let w=t.utils.isObject(i.source);w!==!1&&o.isPlainObject(w)?this._build(w):this.activity.show(()=>{fetch(i.source).then(t.fetch.status).then(t.fetch.json).then(D=>{if(this.activity.hide(),typeof D!="object")throw new Error("Data for table is not a object");this._fireEvent("data-loaded",{source:i.source,data:D}),this._build(D)}).catch(D=>{this.activity.hide(),this._fireEvent("data-load-error",{source:i.source,error:D})})})}else this._build()},_createIndex:function(){let e=this.options.checkColIndex;setImmediate(()=>{this.items.forEach((i,l)=>{this.index[i[e]]=l})})},_build:function(e){let i=this.element,l=this.options,h,v=i.attr("id"),x;l.rows=+l.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(l.head)&&(this.heads=l.head),Array.isArray(l.body)&&(this.items=l.body),t.utils.isValue(e)?this._createItemsFromJSON(e):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=t.utils.objectClone(this.view),x=l.viewSavePath.replace("$1",v),l.viewSaveMode.toLowerCase()==="client"?(h=t.storage.getItem(x),t.utils.isValue(h)&&t.utils.objectLength(h)===t.utils.objectLength(this.view)&&(this.view=h,this._fireEvent("view-get",{source:"client",view:h})),this._final()):fetch(x).then(t.fetch.status).then(t.fetch.json).then(w=>{t.utils.isValue(w)&&t.utils.objectLength(w)===t.utils.objectLength(this.view)&&(this.view=w,this._fireEvent("view-get",{source:"server",view:w})),this._final()}).catch(w=>{this._final(),console.warn(`Warning! Error loading view for table ${i.attr("id")}: ${w}`)})},_final:function(){let e=this.element,i=this.options,l=e.attr("id");t.storage.delItem(i.checkStoreKey.replace("$1",l)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:e})},_service:function(){let e=this.options;this.service=[{...am,title:e.rownumTitle,clsColumn:`rownum-cell ${e.rownum!==!0?"d-none":""}`,cls:`rownum-cell ${e.rownum!==!0?"d-none":""}`,type:"rownum"},{...am,title:e.checkType==="checkbox"?`<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='${e.checkStyle}'>`:"",clsColumn:`check-cell ${e.check!==!0?"d-none":""}`,cls:`check-cell ${e.check!==!0?"d-none":""}`,type:"rowcheck"}]},_createView:function(){let e={};return o.each(this.heads,function(i){t.utils.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),t.utils.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),e[i]={index:i,"index-view":i,show:t.utils.isValue(this.show)?this.show:!0,size:t.utils.isValue(this.size)?this.size:""}}),this._fireEvent("view-created",{view:e}),e},_createInspectorItems:function(e){let i=this,l=this.options,h,v=[],x,w=this.heads;for(e.html(""),h=0;h<w.length;h++)v[h]=null;for(o.each(w,function(D){x=o("<tr>"),x.data("index",D),x.data("index-view",D),o("<td>").html(`<input type='checkbox' data-style='${l.checkStyle}' data-role='checkbox' name='column_show_check[]' value='${D}' ${t.utils.bool(i.view[D].show)?"checked":""}>`).appendTo(x),o("<td>").html(`<div>${this.title}</div>`).appendTo(x),o("<td>").html(`<input type='number' data-role='spinner' name='column_size' value='${i.view[D].size}' data-index='${D}'>`).appendTo(x),o("<td>").html("<button class='button square js-table-inspector-field-up' type='button'>↑</button><button class='button square js-table-inspector-field-down' type='button'>↓</button>").appendTo(x),v[i.view[D]["index-view"]]=x}),h=0;h<w.length;h++)v[h].appendTo(e)},_createInspector:function(){let e=this.options,i=this.strings,l=o("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector");l.attr("for",this.element.attr("id")),o(`<div class='table-inspector-header'>${e.inspectorTitle||i.label_inspector}</div>`).appendTo(l);let h=o("<div>").addClass("table-wrap").appendTo(l),v=o("<table>").addClass("table subcompact"),x=o("<tbody>").appendTo(v);v.appendTo(h),this._createInspectorItems(x);let w=o("<div class='table-inspector-actions'>").appendTo(l);o("<button class='button primary js-table-inspector-save' type='button'>").html(i.label_save).appendTo(w),o("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(i.label_reset).appendTo(w),o("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(i.label_cancel).appendTo(w),l.data("open",!1),this.inspector=l,o("body").append(l),this._createInspectorEvents()},_resetInspector:function(){let e=this.inspector.find("table tbody");this._createInspectorItems(e),this._createInspectorEvents()},_createHeadsFromHTML:function(){let e=this,i=this.element.find("thead");i.length>0&&o.each(i.find("tr > *"),function(){let l=o(this),h,v;if(l.hasClass("rownum-cell")||l.hasClass("check-cell"))return;t.utils.isValue(l.data("sort-dir"))?h=l.data("sort-dir"):l.hasClass("sort-asc")?h="asc":l.hasClass("sort-desc")?h="desc":h=void 0,v=l[0].className.replace("sortable-column",""),v=v.replace("sort-asc",""),v=v.replace("sort-desc",""),v=v.replace("hidden","");let x={type:"data",title:l.html(),name:t.utils.isValue(l.data("name"))?l.data("name"):l.text().replace(" ","_"),sortable:l.hasClass("sortable-column")||t.utils.isValue(l.data("sortable"))&&JSON.parse(l.data("sortable"))===!0,sortDir:h,format:t.utils.isValue(l.data("format"))?l.data("format"):"string",formatMask:t.utils.isValue(l.data("format-mask"))?l.data("format-mask"):null,clsColumn:t.utils.isValue(l.data("cls-column"))?l.data("cls-column"):"",cls:v,colspan:l.attr("colspan"),size:t.utils.isValue(l.data("size"))?l.data("size"):"",show:!(l.hasClass("hidden")||t.utils.isValue(l.data("show"))&&JSON.parse(l.data("show"))===!1),required:t.utils.isValue(l.data("required"))?JSON.parse(l.data("required"))===!0:!1,field:t.utils.isValue(l.data("field"))?l.data("field"):"input",fieldType:t.utils.isValue(l.data("field-type"))?l.data("field-type"):"text",validator:t.utils.isValue(l.data("validator"))?l.data("validator"):null,template:t.utils.isValue(l.data("template"))?l.data("template"):null};e.heads.push(x)})},_createFootsFromHTML:function(){let e=this,i=this.element.find("tfoot");i.length>0&&o.each(i.find("tr > *"),function(){let l=o(this),h={title:l.html(),name:t.utils.isValue(l.data("name"))?l.data("name"):!1,cls:l[0].className,colspan:l.attr("colspan")};e.foots.push(h)})},_createItemsFromHTML:function(){let e=this,i=this.element.find("tbody");i.length>0&&o.each(i.find("tr"),function(){let l=o(this),h=[];o.each(l.children("td"),function(){let v=o(this);h.push(v.html())}),e.items.push(h)}),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(e){let i=this,l=typeof e=="string"?JSON.parse(e):e;l.header!==void 0?i.heads=l.header:this._createHeadsFromHTML(),l.data!==void 0&&o.each(l.data,function(){let h=[];o.each(this,function(){h.push(this)}),i.items.push(h)}),l.footer!==void 0?this.foots=l.footer:this._createFootsFromHTML()},_createTableHeader:function(){let e=this.element,i=this.options,l=e.find("thead"),h,v=[],x,w,D=i.staticView?this._createView():this.view;if(l.length===0&&(l=o("<thead>"),e.prepend(l)),l.clear().addClass(i.clsHead),i.caption&&o("<caption>").html(i.caption).insertBefore(l),this.heads.length===0)return l;for(h=o("<tr>").addClass(i.clsHeadRow).appendTo(l),o.each(this.service,function(){let M=[],I=o("<th>");t.utils.isValue(this.title)&&I.html(this.title),t.utils.isValue(this.size)&&I.css({width:this.size}),t.utils.isValue(this.cls)&&M.push(this.cls),M.push(i.clsHeadCell),I.addClass(M.join(" ")),h.append(I)}),w=this.heads,x=0;x<w.length;x++)v[x]=null;for(o.each(w,function(M){let I=[],B=o("<th>");B.data("index",M),t.utils.isValue(this.title)&&B.html(this.title),t.utils.isValue(this.format)&&B.attr("data-format",this.format),t.utils.isValue(this.formatMask)&&B.attr("data-format-mask",this.formatMask),t.utils.isValue(this.name)&&B.attr("data-name",this.name),t.utils.isValue(this.colspan)&&B.attr("colspan",this.colspan),t.utils.isValue(this.size)&&B.attr("data-size",this.size),t.utils.isValue(this.sortable)&&B.attr("data-sortable",this.sortable),t.utils.isValue(this.sortDir)&&B.attr("data-sort-dir",this.sortDir),t.utils.isValue(this.clsColumn)&&B.attr("data-cls-column",this.clsColumn),t.utils.isValue(this.cls)&&B.attr("data-cls",this.cls),t.utils.isValue(this.show)&&B.attr("data-show",this.show),t.utils.isValue(this.required)&&B.attr("data-required",this.required),t.utils.isValue(this.field)&&B.attr("data-field",this.field),t.utils.isValue(this.fieldType)&&B.attr("data-field-type",this.fieldType),t.utils.isValue(this.validator)&&B.attr("data-validator",this.validator),t.utils.isValue(this.template)&&B.attr("data-template",this.template),t.utils.isValue(D[M].size)&&B.css({width:D[M].size}),this.sortable===!0&&(I.push("sortable-column"),t.utils.isValue(this.sortDir)&&I.push(`sort-${this.sortDir}`)),t.utils.isValue(this.cls)&&o.each(this.cls.toArray(),function(){I.push(this)}),t.utils.bool(D[M].show)===!1&&I.indexOf("hidden")===-1&&I.push("hidden"),I.push(i.clsHeadCell),t.utils.bool(D[M].show)&&t.utils.arrayDelete(I,"hidden"),B.addClass(I.join(" ")),v[D[M]["index-view"]]=B}),x=0;x<w.length;x++)v[x].appendTo(h)},_createTableBody:function(){let e,i,l=this.element;i=l.find("thead"),e=l.find("tbody"),e.length===0&&(e=o("<tbody>").addClass(this.options.clsBody),i.length!==0?e.insertAfter(i):l.append(e)),e.clear()},_createTableFooter:function(){let e=this.element,i=this.options,l=e.find("tfoot"),h;if(l.length===0&&(l=o("<tfoot>").appendTo(e)),l.clear().addClass(i.clsFooter),this.foots.length===0)return;let v=o("<tr>").addClass(i.clsHeadRow).appendTo(l);o.each(this.foots,function(){h=o("<th>").appendTo(v),this.title&&h.html(this.title),this.name&&h.addClass(`foot-column-name-${this.name}`),this.cls&&h.addClass(this.cls),t.utils.isValue(this.colspan)&&h.attr("colspan",this.colspan),h.appendTo(v)})},_createTopBlock:function(){let e=this.element,i=this.options,l=this.strings,h=o("<div>").addClass("table-top").addClass(i.clsTableTop).insertBefore(e.parent()),v,x;v=t.utils.isValue(this.wrapperSearch)?this.wrapperSearch:o("<div>").addClass("table-search-block").addClass(i.clsSearch).appendTo(h),v.addClass(i.clsSearch);let w=o("<input>").attr("type","text").attr("placeholder",i.tableSearchPlaceholder).appendTo(v);t.makePlugin(w,"input",{prepend:i.tableSearchTitle||l.label_search}),i.showSearch!==!0&&v.hide(),x=t.utils.isValue(this.wrapperRows)?this.wrapperRows:o("<div>").addClass("table-rows-block").appendTo(h),x.addClass(i.clsRowsCount);let D=o("<select>").appendTo(x);return o.each(i.rowsSteps.toArray(),function(){let M=Number.parseInt(this),I=o("<option>").attr("value",M).text(M===-1?i.allRecordsTitle||l.label_all:M).appendTo(D);M===Number.parseInt(i.rows)&&I.attr("selected","selected")}),t.makePlugin(D,"select",{filter:!1,prepend:i.tableRowsCountTitle||l.label_rows_count,onChange:M=>{Number.parseInt(M)!==i.rows&&(i.rows=M,this.currentPage=1,this._draw(),this._fireEvent("rows-count-change",{val:M}))}}),i.showInspectorButton&&o("<button>").addClass("button inspector-button").attr("type","button").html(i.inspectorButtonIcon).insertAfter(x),i.showRowsSteps!==!0&&x.hide(),h},_createBottomBlock:function(){let e=this.element,i=this.options,l=this.strings,h=o("<div>").addClass("table-bottom").addClass(i.clsTableBottom).insertAfter(e.parent()),v,x,w;return v=t.utils.isValue(this.wrapperInfo)?this.wrapperInfo:o("<div>").addClass("table-info").appendTo(h),v.addClass(i.clsTableInfo),i.showTableInfo!==!0&&v.hide(),x=t.utils.isValue(this.wrapperPagination)?this.wrapperPagination:o("<div>").addClass("table-pagination").appendTo(h),x.addClass(i.clsTablePagination),i.showPagination!==!0&&x.hide(),w=t.utils.isValue(this.wrapperSkip)?this.wrapperSkip:o("<div>").appendTo(h),w.addClass("table-skip").addClass(i.clsTableSkip),o(`<input type='text' data-role='input' placeholder="${l.label_enter_page}">`).addClass("table-skip-input").addClass(i.clsTableSkipInput).appendTo(w),o("<button>").addClass("button table-skip-button").addClass(i.clsTableSkipButton).html(i.tableSkipTitle||l.label_goto_page).appendTo(w),i.showSkip!==!0&&w.hide(),h},_createStructure:function(){let e=this,i=this.element,l=this.options,h,v=o(l.searchWrapper),x=o(l.infoWrapper),w=o(l.rowsWrapper),D=o(l.paginationWrapper),M=o(l.skipWrapper);v.length>0&&(this.wrapperSearch=v),x.length>0&&(this.wrapperInfo=x),w.length>0&&(this.wrapperRows=w),D.length>0&&(this.wrapperPagination=D),M.length>0&&(this.wrapperSkip=M),i.addClass(l.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();let I=!1;this.heads.length>0&&o.each(this.heads,function(Y){!I&&["asc","desc"].indexOf(this.sortDir)>-1&&(I=!0,e.sort.colIndex=Y,e.sort.dir=this.sortDir)}),I&&(h=i.find("thead th"),this._resetSortClass(h),o(h.get(this.sort.colIndex+e.service.length)).addClass(`sort-${this.sort.dir}`),this.sorting());let B;t.utils.isValue(l.filters)&&typeof l.filters=="string"&&o.each(l.filters.toArray(),function(){B=t.utils.isFunc(this),B!==!1&&e.filtersIndexes.push(e.addFilter(B))}),this.currentPage=1,this._draw()},_resetSortClass:e=>{o(e).removeClass("sort-asc sort-desc")},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.closest(".table-component"),v=h.find(".table-container"),x=h.find(".table-search-block input"),w=l.skipWrapper?o(l.skipWrapper).find(".table-skip-button"):h.find(".table-skip-button"),D=l.skipWrapper?o(l.skipWrapper).find(".table-skip-input"):h.find(".table-skip-input"),M,I=i.attr("id");h.find(".inspector-button").on(t.events.click,()=>{e.toggleInspector()}),w.on(t.events.click,()=>{let X=Number.parseInt(D.val().trim());if(Number.isNaN(X)||X<=0||X>e.pagesCount)return D.val(""),!1;D.val(""),e._fireEvent("skip",{skipTo:X,skipFrom:e.currentPage}),e.page(X)}),o(globalThis).on(t.events.resize,()=>{l.horizontalScroll===!0&&(!t.utils.isNull(l.horizontalScrollStop)&&t.utils.mediaExist(l.horizontalScrollStop)?v.removeClass("horizontal-scroll"):v.addClass("horizontal-scroll"))},{ns:this.id}),i.on(t.events.click,".sortable-column",function(){if(l.muteTable===!0&&i.addClass("disabled"),e.busy)return!1;e.busy=!0;let X=o(this);e.activity.show(()=>{setImmediate(()=>{e.currentPage=1,e.sort.colIndex=X.data("index"),!X.hasClass("sort-asc")&&!X.hasClass("sort-desc")?e.sort.dir=l.sortDir:X.hasClass("sort-asc")?e.sort.dir="desc":e.sort.dir="asc",e._resetSortClass(i.find(".sortable-column")),X.addClass(`sort-${e.sort.dir}`),e.sorting(),e._draw(()=>{e.busy=!1,l.muteTable===!0&&i.removeClass("disabled")})})})}),i.on(t.events.click,".table-service-check input",function(){let X=o(this),ie=X.is(":checked"),Fe=`${X.val()}`,Ve=l.checkStoreKey.replace("$1",I),He=t.storage,ze=He.getItem(Ve);X.attr("type")==="radio"&&(ze=[]),ie?t.utils.isValue(ze)?Array(ze).indexOf(Fe)===-1&&ze.push(Fe):ze=[Fe]:t.utils.isValue(ze)?t.utils.arrayDelete(ze,Fe):ze=[],He.setItem(Ve,ze),e._fireEvent("check-click",{check:this,status:ie,data:ze})}),i.on(t.events.click,".table-service-check-all input",function(){let X=o(this).is(":checked"),ie=l.checkStoreKey.replace("$1",I),Fe=t.storage,Ve=[],He;l.useCurrentSlice===!0?(He=Fe.getItem(ie,[]),X?o.each(e.currentSlice,function(){He.indexOf(`${this[l.checkColIndex]}`)===-1&&He.push(`${this[l.checkColIndex]}`)}):o.each(e.currentSlice,function(){let ze=`${this[l.checkColIndex]}`;He.indexOf(ze)!==-1&&t.utils.arrayDelete(He,ze)}),Ve=He):X?o.each(e.filteredItems,function(){Ve.indexOf(this[l.checkColIndex])===-1&&Ve.push(`${this[l.checkColIndex]}`)}):Ve=[],Fe.setItem(ie,Ve),e._draw(),e._fireEvent("check-click-all",{check:this,status:X,data:Ve})});let B=function(){e.searchString=this.value.trim().toLowerCase(),e.currentPage=1,e._draw()};B=Hooks.useDebounce(B,l.searchThreshold),x.on(t.events.inputchange,B),t.utils.isValue(this.wrapperSearch)&&(M=this.wrapperSearch.find("input"),M.length>0&&M.on(t.events.inputchange,B));function Y(X){let ie=o(X),Fe=ie.parent();e.filteredItems.length!==0&&(Fe.hasClass("active")||(Fe.hasClass("service")?ie.data("page")==="prev"?(e.currentPage--,e.currentPage===0&&(e.currentPage=1)):(e.currentPage++,e.currentPage>e.pagesCount&&(e.currentPage=e.pagesCount)):e.currentPage=ie.data("page"),e._draw()))}h.on(t.events.click,".pagination .page-link",function(){Y(this)}),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.on(t.events.click,".pagination .page-link",function(){Y(this)}),this._createInspectorEvents(),i.on(t.events.click,".js-table-crud-button",()=>{})},_createInspectorEvents:function(){let e=this,i=this.inspector;this._removeInspectorEvents(),i.on(t.events.click,".js-table-inspector-field-up",function(){let l=o(this).closest("tr"),h=l.prev("tr"),v=l.data("index"),x;h.length!==0&&(l.insertBefore(h),l.addClass("flash"),setTimeout(()=>{l.removeClass("flash")},1e3),x=l.index(),l.data("index-view",x),e.view[v]["index-view"]=x,o.each(l.nextAll(),function(){let w=o(this);x++,w.data("index-view",x),e.view[w.data("index")]["index-view"]=x}),e._createTableHeader(),e._draw())}),i.on(t.events.click,".js-table-inspector-field-down",function(){let l=o(this).closest("tr"),h=l.next("tr"),v=l.data("index"),x;h.length!==0&&(l.insertAfter(h),l.addClass("flash"),setTimeout(()=>{l.removeClass("flash")},1e3),x=l.index(),l.data("index-view",x),e.view[v]["index-view"]=x,o.each(l.prevAll(),function(){let w=o(this);x--,w.data("index-view",x),e.view[w.data("index")]["index-view"]=x}),e._createTableHeader(),e._draw())}),i.on(t.events.click,"input[type=checkbox]",function(){let l=o(this),h=l.is(":checked"),v=l.val(),x=["cls","clsColumn"];h?o.each(x,function(){let w=t.utils.isValue(e.heads[v][this])?e.heads[v][this].toArray(" "):[];t.utils.arrayDelete(w,"hidden"),e.heads[v][this]=w.join(" "),e.view[v].show=!0}):o.each(x,function(){let w=t.utils.isValue(e.heads[v][this])?e.heads[v][this].toArray(" "):[];w.indexOf("hidden")===-1&&w.push("hidden"),e.heads[v][this]=w.join(" "),e.view[v].show=!1}),e._createTableHeader(),e._draw()}),i.find("input[type=number]").on(t.events.inputchange,function(){let l=o(this),h=l.attr("data-index"),v=Number.parseInt(l.val());e.view[h].size=v===0?"":v,e._createTableHeader()}),i.on(t.events.click,".js-table-inspector-save",()=>{e._saveTableView(),e.openInspector(!1)}),i.on(t.events.click,".js-table-inspector-cancel",()=>{e.openInspector(!1)}),i.on(t.events.click,".js-table-inspector-reset",()=>{e.resetView()})},_removeInspectorEvents:function(){let e=this.inspector;e.off(t.events.click,".js-table-inspector-field-up"),e.off(t.events.click,".js-table-inspector-field-down"),e.off(t.events.click,"input[type=checkbox]"),e.off(t.events.click,".js-table-inspector-save"),e.off(t.events.click,".js-table-inspector-cancel"),e.off(t.events.click,".js-table-inspector-reset"),e.off(t.events.inputchange,"input[type=number]")},_saveTableView:function(){let e=this.element,i=this.options,l=this.view,h=e.attr("id"),v=i.viewSavePath.replace("$1",h),x=t.storage;if(i.viewSaveMode.toLowerCase()==="client")x.setItem(v,l),this._fireEvent("view-save",{target:"client",path:i.viewSavePath,view:l});else{let w={id:e.attr("id"),view:l};fetch(v,{method:"POST",body:JSON.stringify(w),header:{"Content-type":"application/json;charset=utf-8"}}).then(t.fetch.status).then(t.fetch.text).then(D=>{this._fireEvent("view-save",{target:"server",path:i.viewSavePath,view:l,post_data:w,response:D})}).catch(D=>{this._fireEvent("data-save-error",{source:i.viewSavePath,error:D,post_data:w})})}},_info:function(e,i,l){let h=this.element,v=this.options,x=this.strings,w=h.closest(".table-component"),D=t.utils.isValue(this.wrapperInfo)?this.wrapperInfo:w.find(".table-info"),M,I=e,B=i,Y=l;D.length!==0&&(B>Y&&(B=Y),this.items.length===0&&(I=B=Y=0),M=v.tableInfoTitle||x.label_table_info,M=M.replace("$1",I),M=M.replace("$2",B),M=M.replace("$3",Y),D.html(M))},_paging:function(e){let i=this.element,l=this.options,h=this.strings,v=i.closest(".table-component");this.pagesCount=Math.ceil(e/l.rows),t.pagination({length:e,rows:l.rows,current:this.currentPage,target:t.utils.isValue(this.wrapperPagination)?this.wrapperPagination:v.find(".table-pagination"),claPagination:l.clsPagination,prevTitle:l.paginationPrevTitle||h.label_prev,nextTitle:l.paginationNextTitle||h.label_next,distance:l.paginationDistance,islandSize:l.paginationIslandSize,shortTrack:l.paginationShortTrack})},_filter:function(){let e=this.options,i;return t.utils.isValue(this.searchString)&&this.searchString.length>=e.searchMinLength||this.filters.length>0?i=this.items.filter(l=>{let h="",v,x,w=0;if(this.filters.length>0){for(v=e.filtersOperator.toLowerCase()==="and",x=0;x<this.filters.length;x++)t.utils.isNull(this.filters[x])||(w++,v=e.filtersOperator.toLowerCase()==="and"?v&&t.utils.exec(this.filters[x],[l,this.heads]):v||t.utils.exec(this.filters[x],[l,this.heads]));w===0&&(v=!0)}else v=!0;this.searchFields.length>0?o.each(this.heads,(M,I)=>{this.searchFields.indexOf(I.name)>-1&&(h+=`•${l[M]}`)}):h=l.join("•"),h=h.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase();let D=t.utils.isValue(this.searchString)&&this.searchString.length>=e.searchMinLength?~h.indexOf(this.searchString):!0;return v=v&&D,v?this._fireEvent("filter-row-accepted",{row:l}):this._fireEvent("filter-row-declined",{row:l}),v}):i=this.items,this._fireEvent("search",{search:this.searchString,items:i}),this.filteredItems=i,i},_draw:function(e){let i=this,l=this.element,h=this.options,v=this.strings,x=l.find("tbody"),w,D,M,I,B,Y,X,ie,Fe=Number.parseInt(h.rows)===-1?0:h.rows*(this.currentPage-1),Ve=Number.parseInt(h.rows)===-1?this.items.length-1:Fe+h.rows-1,He,ze=[],De=t.storage.getItem(h.checkStoreKey.replace("$1",l.attr("id"))),Oe=h.staticView?this.viewDefault:this.view;if(x.html(""),!this.heads.length){console.warn(`Heads is not defined for table ID ${l.attr("id")}`);return}if(He=this._filter(),this.currentSlice=He.slice(Fe,Ve+1),ze=[],He.length>0){for(w=Fe;w<=Ve;w++)if(Y=He[w],X=[],!!t.utils.isValue(Y)){for(M=o("<tr>").addClass(h.clsBodyRow),M.data("original",Y),ie=w%2===0,I=o("<td>").attr("data-label","#").attr("aria-label","#").html(w+1),i.service[0].clsColumn!==void 0&&I.addClass(i.service[0].clsColumn),I.appendTo(M),I=o("<td>").attr("data-label","CHK").attr("aria-label","CHK"),h.checkType==="checkbox"?B=o(`<input type='checkbox' data-style='${h.checkStyle}' data-role='checkbox' name='${t.utils.isValue(h.checkName)?h.checkName:"table_row_check"}[]' value='${He[w][h.checkColIndex]}'>`):B=o(`<input type='radio' data-style='${h.checkStyle}' data-role='radio' name='${t.utils.isValue(h.checkName)?h.checkName:"table_row_check"}' value='${He[w][h.checkColIndex]}'>`),t.utils.isValue(De)&&Array.isArray(De)&&De.indexOf(`${He[w][h.checkColIndex]}`)>-1&&(B.prop("checked",!0),ze.push(Y)),B.addClass("table-service-check"),this._fireEvent("check-draw",{check:B}),B.appendTo(I),i.service[1].clsColumn!==void 0&&I.addClass(i.service[1].clsColumn),I.appendTo(M),D=0;D<Y.length;D++)X[D]=null;for(o.each(Y,function(Me){let Ie=this,kt=o("<td>").attr("data-label",i.heads[Me].title).attr("aria-label",i.heads[Me].title);t.utils.isValue(i.heads[Me].template)&&(Ie=i.heads[Me].template.replace(/%VAL%/g,Ie)),kt.html(Ie),kt.addClass(h.clsBodyCell),t.utils.isValue(i.heads[Me].clsColumn)&&kt.addClass(i.heads[Me].clsColumn),t.utils.bool(Oe[Me].show)===!1&&kt.addClass("hidden"),t.utils.bool(Oe[Me].show)&&kt.removeClass("hidden"),kt.data("original",this),X[Oe[Me]["index-view"]]=kt,i._fireEvent("draw-cell",{td:kt,val:Ie,cellIndex:Me,head:i.heads[Me],items:Y}),h.cellWrapper===!0&&(Ie=o("<div>").addClass("data-wrapper").addClass(h.clsCellWrapper).html(kt.html()),kt.html("").append(Ie))}),D=0;D<Y.length;D++)X[D].appendTo(M),i._fireEvent("append-cell",{td:X[D],tr:M,index:D});i._fireEvent("draw-row",{tr:M,view:i.view,heads:i.heads,items:Y}),M.addClass(h.clsRow).addClass(ie?h.clsEvenRow:h.clsOddRow).appendTo(x),i._fireEvent("append-row",{tr:M})}o(this.component).find(".table-service-check-all input").prop("checked",ze.length)}else D=0,o.each(Oe,function(){this.show&&D++}),h.check===!0&&D++,h.rownum===!0&&D++,M=o("<tr>").addClass(h.clsBodyRow).appendTo(x),I=o("<td>").attr("colspan",D).addClass("text-center").html(o("<span>").addClass(h.clsEmptyTableTitle).html(h.emptyTableTitle||v.label_empty)),I.appendTo(M);this._info(Fe+1,Ve+1,He.length),this._paging(He.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),e!==void 0&&t.utils.exec(e,null,l[0])},_getItemContent:function(e){var I,B;let i=this.options,l=this.locale,h,v=e[this.sort.colIndex],x=this.heads[this.sort.colIndex].format,w=!t.utils.isNull(this.heads)&&!t.utils.isNull(this.heads[this.sort.colIndex])&&t.utils.isValue(this.heads[this.sort.colIndex].formatMask)?this.heads[this.sort.colIndex].formatMask:"%Y-%m-%d",D=(I=this.heads)!=null&&I[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:i.thousandSeparator,M=(B=this.heads)!=null&&B[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:i.decimalSeparator;if(h=`${v}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),t.utils.isValue(h)&&t.utils.isValue(x))switch(["number","int","float","money"].indexOf(x)!==-1&&(h=t.utils.parseNumber(h,D,M)),x){case"date":h=w?Datetime.from(h,w,l):datetime(h);break;case"number":h=+h;break;case"int":h=Number.parseInt(h);break;case"float":h=Number.parseFloat(h);break;case"money":h=t.utils.parseMoney(h);break;case"card":h=t.utils.parseCard(h);break;case"phone":h=t.utils.parsePhone(h);break}return h},addItem:function(e,i){if(!Array.isArray(e))return console.warn("Item is not an array and can't be added"),this;this.items.push(e),i!==!1&&this.draw()},addItems:function(e,i){if(!Array.isArray(e))return console.warn("Items is not an array and can't be added"),this;for(let l of e)Array.isArray(l)&&this.items.push(l,!1);this.draw(),i!==!1&&this.draw()},updateItem:function(e,i,l){let h=this.items[this.index[e]],v=null;return t.utils.isNull(h)?(console.warn("Item is undefined for update"),this):(Number.isNaN(i)&&this.heads.forEach((x,w)=>{x.name===i&&(v=w)}),t.utils.isNull(v)?(console.warn(`Item is undefined for update. Field ${i} not found in data structure`),this):(h[v]=l,this.items[this.index[e]]=h,this))},getItem:function(e){return this.items[this.index[e]]},deleteItem:function(e,i){let l,h=[],v=t.utils.isFunc(i);for(l=0;l<this.items.length;l++)v?t.utils.exec(i,[this.items[l][e]])&&h.push(l):this.items[l][e]===i&&h.push(l);return this.items=t.utils.arrayDeleteByMultipleKeys(this.items,h),this},deleteItemByName:function(e,i){let l,h,v=[],x=t.utils.isFunc(i);for(l=0;l<this.heads.length;l++)if(this.heads[l].name===e){h=l;break}for(l=0;l<this.items.length;l++)x?t.utils.exec(i,[this.items[l][h]])&&v.push(l):this.items[l][h]===i&&v.push(l);return this.items=t.utils.arrayDeleteByMultipleKeys(this.items,v),this},draw:function(){return this._draw(),this},sorting:function(e){return t.utils.isValue(e)&&(this.sort.dir=e),this._fireEvent("sort-start",{items:this.items}),this.items.sort((i,l)=>{let h=this._getItemContent(i),v=this._getItemContent(l),x=0;return h<v&&(x=this.sort.dir==="asc"?-1:1),h>v&&(x=this.sort.dir==="asc"?1:-1),x!==0&&this._fireEvent("sort-item-switch",{a:i,b:l,result:x}),x}),this._fireEvent("sort-stop",{items:this.items}),this},search:function(e){return this.searchString=e.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(e){let i=this,l=this.element,h=!1,v;this._createIndex(),e===!0&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&o.each(this.heads,function(x){!h&&["asc","desc"].indexOf(this.sortDir)>-1&&(h=!0,i.sort.colIndex=x,i.sort.dir=this.sortDir)}),h&&(v=l.find(".sortable-column"),this._resetSortClass(v),o(v.get(i.sort.colIndex)).addClass(`sort-${i.sort.dir}`),this.sorting()),i.currentPage=1,i._draw()},setHeads:function(e){return this.heads=e,this},setHeadItem:function(e,i){let l,h;for(l=0;l<this.heads.length;l++)if(this.heads[l].name===e){h=l;break}return this.heads[h]=i,this},setItems:function(e){return this.items=e,this},setData:function(e){let i=this.options;return this.activity.show(()=>{this.items=[],this.heads=[],this.foots=[],Array.isArray(i.head)&&(this.heads=i.head),Array.isArray(i.body)&&(this.items=i.body),this._createItemsFromJSON(e),this._rebuild(!0),this.activity.hide()}),this},loadData:function(e,i=!0){let l=this.element,h=this.options;l.html(""),t.utils.isValue(e)?(h.source=e,this._fireEvent("data-load",{source:h.source}),this.activity.show(()=>{fetch(h.source).then(t.fetch.status).then(t.fetch.json).then(v=>{this.activity.hide(),this.items=[],this.heads=[],this.foots=[],this._fireEvent("data-loaded",{source:h.source,data:v}),Array.isArray(h.head)&&(this.heads=h.head),Array.isArray(h.body)&&(this.items=h.body),this._createItemsFromJSON(v),this._rebuild(i),this._resetInspector(),this._fireEvent("data-load-end",{source:h.source,data:v})}).catch(v=>{this.activity.hide(),this._fireEvent("data-load-error",{source:h.source,error:v})})})):this._rebuild(i)},reload:function(e){this.loadData(this.options.source,e)},clear:function(){return this.items=[],this.draw()},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}return this._draw(),this}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}return this._draw(),this}},first:function(){if(this.items.length!==0)return this.currentPage=1,this._draw(),this},last:function(){if(this.items.length!==0)return this.currentPage=this.pagesCount,this._draw(),this},page:function(e){let i=e;return i<=0&&(i=1),i>this.pagesCount&&(i=this.pagesCount),this.currentPage=i,this._draw(),this},addFilter:function(e,i){let l=null,h,v=t.utils.isFunc(e);if(v!==!1){for(h=0;h<this.filters.length;h++)if(t.utils.isNull(this.filters[h])){l=h,this.filters[h]=v;break}return t.utils.isNull(l)&&(this.filters.push(v),l=this.filters.length-1),i===!0&&(this.currentPage=1,this.draw()),l}},removeFilter:function(e,i){return this.filters[e]=null,i===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){return this.filters=[],e===!0&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){let e=this.element,i=this.options,l=t.storage.getItem(i.checkStoreKey.replace("$1",e.attr("id"))),h=[];return t.utils.isValue(l)?(o.each(this.items,function(){l.indexOf(`${this[i.checkColIndex]}`)!==-1&&h.push(this)}),h):[]},getStoredKeys:function(){let e=this.element,i=this.options;return t.storage.getItem(i.checkStoreKey.replace("$1",e.attr("id")),[])},clearSelected:function(e){let i=this.element,l=this.options;t.storage.setItem(l.checkStoreKey.replace("$1",i.attr("id")),[]),i.find("table-service-check-all input").prop("checked",!1),e===!0&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(e){let i=this.inspector;e?i.show(0,()=>{i.css({top:(o(globalThis).height()-i.outerHeight(!0))/2+pageYOffset,left:(o(globalThis).width()-i.outerWidth(!0))/2+pageXOffset}).data("open",!0)}):i.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(e,i,l,h){let v=t.export,x=this,w=this.options,D=document.createElement("table"),M=o("<thead>").appendTo(D),I=o("<tbody>").appendTo(D),B,Y,X,ie=[],Fe,Ve,He,ze,De;if(typeof v.tableToCSV!="function")return;let Oe=t.utils.isValue(i)?i.toLowerCase():"all-filtered",Me=t.utils.isValue(l)?l:`${element.id()||Hooks.useId()}-export.csv`;for(Ve=o("<tr>"),X=this.heads,Y=0;Y<X.length;Y++)ie[Y]=null;for(o.each(X,function(Ie){t.utils.bool(x.view[Ie].show)!==!1&&(He=o("<th>"),t.utils.isValue(this.title)&&He.html(this.title),ie[x.view[Ie]["index-view"]]=He)}),Y=0;Y<X.length;Y++)t.utils.isValue(ie[Y])&&ie[Y].appendTo(Ve);switch(Ve.appendTo(M),Oe){case"checked":{Fe=this.getSelectedItems(),ze=0,De=Fe.length-1;break}case"view":{Fe=this._filter(),ze=Number.parseInt(w.rows)===-1?0:w.rows*(this.currentPage-1),De=Number.parseInt(w.rows)===-1?Fe.length-1:ze+w.rows-1;break}case"all":{Fe=this.items,ze=0,De=Fe.length-1;break}default:Fe=this._filter(),ze=0,De=Fe.length-1}for(B=ze;B<=De;B++)if(t.utils.isValue(Fe[B])){for(Ve=o("<tr>"),X=Fe[B],Y=0;Y<X.length;Y++)ie[Y]=null;for(o.each(X,function(Ie){t.utils.bool(x.view[Ie].show)!==!1&&(He=o("<td>").html(this),ie[x.view[Ie]["index-view"]]=He)}),Y=0;Y<X.length;Y++)t.utils.isValue(ie[Y])&&ie[Y].appendTo(Ve);Ve.appendTo(I)}v.tableToCSV(D,Me,h),D.remove()},changeAttribute:function(e){let i=this,l=this.element,h=this.options;function v(){h.check=t.utils.bool(l.attr("data-check")),i._service(),i._createTableHeader(),i._draw()}function x(){h.rownum=t.utils.bool(l.attr("data-rownum")),i._service(),i._createTableHeader(),i._draw()}switch(e){case"data-check":v();break;case"data-rownum":x();break}},destroy:function(){let e=this.element,i=e.closest(".table-component"),l=i.find("input"),h=i.find("select");if(l.data("input").destroy(),h.data("select").destroy(),o(globalThis).off(t.events.resize,{ns:this.id}),e.off(t.events.click,".sortable-column"),e.off(t.events.click,".table-service-check input"),e.off(t.events.click,".table-service-check-all input"),l.off(t.events.inputchange),t.utils.isValue(this.wrapperSearch)){let v=this.wrapperSearch.find("input");v.length>0&&v.off(t.events.inputchange)}return i.off(t.events.click,".pagination .page-link"),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.off(t.events.click,".pagination .page-link"),e.off(t.events.click,".js-table-crud-button"),this._removeInspectorEvents(),e}})})(Metro,Dom),((t,o)=>{let p={wheelStep:20,materialTabsDeferred:0,deep:!1,fixedTabs:!1,duration:300,appBar:!1,clsComponent:"",clsTabs:"",clsTab:"",clsTabActive:"",clsMarker:"",onBeforeTabOpen:t.noop_true,onTabOpen:t.noop,onTabsScroll:t.noop,onTabsCreate:t.noop};t.materialTabsSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroMaterialTabsSetup<"u"&&t.materialTabsSetup(globalThis.metroMaterialTabsSetup),t.Component("material-tabs",{init:function(e,i){return this._super(i,e,p,{marker:null,scroll:0,scrollDir:"left"}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l=e.find("li"),h=e.find("li.active"),v=o("<div>").addClass("tabs-material-wrapper").addClass(i.clsComponent).insertBefore(e);i.appBar===!0&&v.addClass("app-bar-present"),i.appBar==="more"&&v.addClass("app-bar-present-more"),e.appendTo(v),e.addClass("tabs-material").addClass(i.clsTabs),l.addClass(i.clsTab),i.deep===!0&&e.addClass("deep"),i.fixedTabs===!0&&e.addClass("fixed-tabs"),this.marker=e.find(".tab-marker"),this.marker.length===0&&(this.marker=o("<span>").addClass("tab-marker").addClass(i.clsMarker).appendTo(e)),this.openTab(h.length===0?l[0]:h[0])},_createEvents:function(){let e=this,i=this.element,l=this.options;i.on(t.events.click,"li",function(h){let v=o(this),x=i.find("li.active"),w=v.index()>x.index(),D=v.children("a").attr("href");if(h.preventDefault(),t.utils.isValue(D)&&D[0]==="#"){if(v.hasClass("active")||v.hasClass("disabled")||t.utils.exec(l.onBeforeTabOpen,[v,D,w],this)===!1)return;e.openTab(v,w)}}),i.on(t.events.scroll,()=>{let h=e.scroll;e.scrollDir=e.scroll<i[0].scrollLeft?"left":"right",e.scroll=i[0].scrollLeft,e._fireEvent("tabs-scroll",{scrollLeft:i[0].scrollLeft,oldScroll:h,scrollDir:e.scrollDir})}),i.on(t.events.mousewheel,function(h){if(h.deltaY===void 0)return;let v=o(this),x=h.deltaY>0?-1:1,w=l.wheelStep,D=v.scrollLeft()-x*w;v.scrollLeft(D)},{passive:!0})},openTab:function(e,i){let l=this.element,h=this.options,v=l.find("li"),x=52,w,D,M,I,B=o(e);o.each(v,function(){let Fe=o(this).find("a").attr("href");t.utils.isValue(Fe)&&Fe[0]==="#"&&Fe.length>1&&o(Fe).hide()});let Y=l.width();M=l.scrollLeft(),D=B.position().left;let X=B.width(),ie=D+X;v.removeClass("active").removeClass(h.clsTabActive),B.addClass("active").addClass(h.clsTabActive),ie+x>Y+M?I=M+x*2:D<M?I=D-x*2:I=M,l.animate({draw:{scrollLeft:I},dur:h.duration}),this.marker.animate({draw:{left:D,width:X},dur:h.duration}),w=B.find("a").attr("href"),t.utils.isValue(w)&&w[0]==="#"&&w.length>1&&o(w).show(),this._fireEvent("tab-open",{tab:B[0],target:w,tab_next:i})},open:function(e){let i=this.element,l=i.find("li"),h=i.find("li.active"),v=l.eq(e-1),x=l.index(v)>l.index(h);this.openTab(v,x)},changeAttribute:()=>{},destroy:function(){let e=this.element;e.off(t.events.click,"li"),e.off(t.events.scroll),e.remove()}})})(Metro,Dom),((t,o)=>{let p={autocomplete:null,autocompleteUnique:!0,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,label:"",size:"normal",tagInputDeferred:0,static:!1,clearButton:!0,clearButtonIcon:"❌",randomColor:!1,maxTags:0,tagSeparator:",",tagTrigger:"Enter, Space, Comma",backspace:!0,clsComponent:"",clsInput:"",clsClearButton:"",clsTag:"",clsTagTitle:"",clsTagAction:"",clsLabel:"",onBeforeTagAdd:t.noop_true,onTagAdd:t.noop,onBeforeTagRemove:t.noop_true,onTagRemove:t.noop,onTag:t.noop,onClear:t.noop,onTagTrigger:t.noop,onTagInputCreate:t.noop};t.tagInputSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroTagInputSetup<"u"&&t.tagInputSetup(globalThis.metroTagInputSetup),t.Component("tag-input",{init:function(e,i){return this._super(i,e,p,{values:[],triggers:[],autocomplete:[]}),this},_create:function(){this.triggers=`${this.options.tagTrigger}`.toArray(","),(this.triggers.includes("Space")||this.triggers.includes("Spacebar"))&&(this.triggers.push(" "),this.triggers.push("Spacebar")),this.triggers.includes("Comma")&&this.triggers.push(","),this._createStructure(),this._createEvents(),this._fireEvent("tag-input-create",{element:this.element})},_createStructure:function(){let e=this,i=this.element,l=this.options,h,v,x=i.val().trim();if(h=i.wrap("<div>").addClass(`tag-input ${i[0].className}`).addClass(l.clsComponent),h.addClass(`input-${l.size}`),i[0].className="",i.addClass("original-input"),o("<input type='text'>").addClass("input-wrapper").addClass(l.clsInput).attr("size",1).appendTo(h),l.clearButton!==!1&&!i[0].readOnly&&(h.addClass("padding-for-clear"),v=o("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(l.clearButtonIcon),v.appendTo(h)),t.utils.isValue(x)&&o.each(x.toArray(l.tagSeparator),function(){e._addTag(this)}),l.label){let w=o("<label>").addClass("label-for-input").addClass(l.clsLabel).html(l.label).insertBefore(h);if(i.attr("id"))w.attr("for",i.attr("id"));else{let D=Hooks.useId(i[0]);w.attr("for",D),i.attr("id",D)}i.attr("dir")==="rtl"&&w.addClass("rtl")}if(i.is(":disabled")?this.disable():this.enable(),(l.static===!0||i.attr("readonly")!==void 0)&&h.addClass("static-mode"),(!t.utils.isNull(l.autocomplete)||!t.utils.isNull(l.autocompleteUrl))&&o("<div>").addClass("autocomplete-list").css({maxHeight:l.autocompleteListHeight,display:"none"}).appendTo(h),t.utils.isValue(l.autocomplete)){let w=t.utils.isObject(l.autocomplete);w!==!1?this.autocomplete=w:this.autocomplete=l.autocomplete.toArray(l.autocompleteDivider)}t.utils.isValue(l.autocompleteUrl)&&fetch(l.autocompleteUrl,{method:l.autocompleteUrlMethod}).then(w=>w.text()).then(w=>{let D=[];try{D=JSON.parse(w),l.autocompleteUrlKey&&(D=D[l.autocompleteUrlKey])}catch{D=w.split(`
`)}e.autocomplete=e.autocomplete.concat(D)})},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.closest(".tag-input"),v=h.find(".input-wrapper"),x=h.find(".autocomplete-list");v.on(t.events.focus,()=>{h.addClass("focused")}),v.on(t.events.blur,()=>{h.removeClass("focused")}),v.on(t.events.inputchange,()=>{v.attr("size",Math.ceil(v.val().length/2)+2)}),v.on(t.events.keydown,w=>{let D=v.val().trim(),M=w.key;if(M==="Enter"&&w.preventDefault(),l.backspace===!0&&M==="Backspace"&&D.length===0){e.values.length>0&&(e.values.splice(-1,1),i.siblings(".tag").last().remove(),i.val(e.values.join(l.tagSeparator)));return}D!==""&&e.triggers.includes(M)&&(e._fireEvent("tag-trigger",{key:M}),v.val(""),e._addTag(D),v.attr("size",1))}),v.on(t.events.keyup,w=>{let D=v.val(),M=w.key;e.triggers.includes(M)&&D[D.length-1]===M&&v.val(D.slice(0,-1))}),h.on(t.events.click,".tag .action",function(){let w=o(this).closest(".tag");e._delTag(w)}),h.on(t.events.click,()=>{v.focus()}),h.on(t.events.click,".input-clear-button",()=>{let w=i.val();e.clear(),e._fireEvent("clear",{val:w})}),v.on(t.events.input,function(){let w=this.value.toLowerCase();e._drawAutocompleteList(w)}),h.on(t.events.click,".autocomplete-list .item",function(){let w=o(this).attr("data-autocomplete-value");v.val(""),e._addTag(w),v.attr("size",1),x.css({display:"none"}),e._fireEvent("autocomplete-select",{value:w})})},_drawAutocompleteList:function(e){let i=this,l=this.element,h=this.options,v=l.closest(".tag-input"),x=v.find(".input-wrapper"),w=v.find(".autocomplete-list");if(w.length===0)return;w.html("");let D=this.autocomplete.filter(M=>M.toLowerCase().indexOf(e)>-1);w.css({display:D.length>0?"block":"none",left:x.position().left}),o.each(D,function(){if(h.autocompleteUnique&&i.values.indexOf(this)!==-1)return;let M=this.toLowerCase().indexOf(e),I,B=o("<div>").addClass("item").attr("data-autocomplete-value",this);M===0?I=`<strong>${this.substring(0,e.length)}</strong>${this.substring(e.length)}`:I=`${this.substring(0,M)}<strong>${this.substring(M,e.length)}</strong>${this.substring(M+e.length)}`,B.html(I).appendTo(w),i._fireEvent("draw-autocomplete-item",{item:B})})},_addTag:function(e){let i=this.element,l=this.options,h=i.closest(".tag-input"),v=h.find(".input-wrapper"),x,w,D;if(h.hasClass("input-large")?D="large":h.hasClass("input-small")&&(D="small"),l.maxTags>0&&this.values.length===l.maxTags||`${e}`.trim()===""||!t.utils.exec(l.onBeforeTagAdd,[e,this.values],i[0]))return;x=o("<span>").addClass("tag").addClass(D).addClass(l.clsTag).insertBefore(v),x.data("value",e),(l.static||h.hasClass("static-mode")||i.readonly||i.disabled||h.hasClass("disabled"))&&x.addClass("static");let M=o("<span>").addClass("title").addClass(l.clsTagTitle).html(e);if(w=o("<span>").addClass("action").addClass(l.clsTagAction).html("&times;"),M.appendTo(x),w.appendTo(x),l.randomColor===!0){let I=Object.values(Object.assign({},Farbe.StandardColors,Farbe.MetroColors)),B=I[o.random(0,I.length-1)],Y=Farbe.Routines.darken(B,15),X=Farbe.Routines.isDark(B)?"#ffffff":"#000000";x.css({backgroundColor:B,color:X}),w.css({backgroundColor:Y,color:X})}this.values.push(e),i.val(this.values.join(l.tagSeparator)),this._fireEvent("tag-add",{tag:x[0],val:e,values:this.values}),this._fireEvent("tag",{tag:x[0],val:e,values:this.values})},_delTag:function(e){let i=this.element,l=this.options,h=e.data("value");t.utils.exec(l.onBeforeTagRemove,[e,h,this.values],i[0])&&(t.utils.arrayDelete(this.values,h),i.val(this.values.join(l.tagSeparator)),this._fireEvent("tag-remove",{tag:e[0],val:h,values:this.values}),this._fireEvent("tag",{tag:e[0],val:h,values:this.values}),e.remove())},tags:function(){return this.values},val:function(e){let i=this,l=this.element,h=this.options,v=l.closest(".tag-input"),x=[];return t.utils.isValue(e)?(this.values=[],v.find(".tag").remove(),typeof e=="string"?x=`${e}`.toArray(h.tagSeparator):Array.isArray(e)&&(x=e),o.each(x,function(){i._addTag(this)}),this):this.tags()},append:function(e){let i=this,l=this.options,h=this.values;return typeof e=="string"?h=`${e}`.toArray(l.tagSeparator):Array.isArray(e)&&(h=e),o.each(h,function(){i._addTag(this)}),this},clear:function(){let e=this.element,i=e.closest(".tag-input");return this.values=[],e.val("").trigger("change"),i.find(".tag").remove(),this},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleStatic:function(e){let i=this.element.closest(".tag-input"),l;t.utils.isValue(e)?l=t.utils.bool(e):l=!i.hasClass("static-mode"),l?i.addClass("static-mode"):i.removeClass("static-mode")},setAutocompleteList:function(e){let i=t.utils.isObject(e);i!==!1?this.autocomplete=i:typeof e=="string"&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},changeAttribute:function(e){let i=this.element,l=this.options,h=()=>{let v=i.attr("value").trim();this.clear(),t.utils.isValue(v)&&this.val(v.toArray(l.tagSeparator))};switch(e){case"value":h();break;case"disabled":this.toggleState();break;case"static":this.toggleStatic();break}},destroy:function(){let e=this.element,i=this.options,l=e.closest(".tag-input"),h=l.find(".input-wrapper");h.off(t.events.focus),h.off(t.events.blur),h.off(t.events.keydown),l.off(t.events.click,".tag .action"),l.off(t.events.click),i.label&&l.prev("label").remove(),l.remove()}}),o(document).on(t.events.click,()=>{o(".tag-input .autocomplete-list").hide()})})(Metro,Dom),((t,o)=>{let p={onTaskClick:t.noop,onMyObjectCreate:t.noop};t.taskBarSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroTaskBarSetup<"u"&&t.taskBarSetup(globalThis.metroTaskBarSetup),t.Component("task-bar",{init:function(e,i){return this._super(i,e,p,{tasks:[],systemTray:[],widgets:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("task-bar-create")},_createStructure:function(){let e=this.element;this.options,e.addClass("task-bar"),e.append(o("<div>").addClass("widgets")),e.append(o("<div>").addClass("tasks")),e.append(o("<div>").addClass("system-tray"))},_createEvents:function(){let e=this,i=this.element;i.on(t.events.click,".task",function(){let l=e.tasks[o(this).index()];for(let h of e.tasks)h.active=!1;l.active=!0,e._renderTasks(),e._fireEvent("task-click",{task:l,element:l.ref})}),i.on(t.events.click,".system-tray-item",function(){let l=e.systemTray[o(this).index()];e._fireEvent("system-tray-click",{item:l})}),i.on(t.events.click,".widget",function(){let l=e.widgets[o(this).index()];e._fireEvent("widget-click",{item:l})})},_renderTasks:function(){let e=this.element;this.options;let i=e.find(".tasks").clear();for(let l of this.tasks){let h=o("<div>").addClass("task").attr("title",l.title).html(l.icon);l.active&&h.addClass("active"),i.append(h)}},_renderSystemTray:function(){let e=this.element.find(".system-tray").clear();for(let i of this.systemTray)e.append(o(i).addClass("system-tray-item"))},_renderWidgets:function(){let e=this.element.find(".widgets").clear();for(let i of this.widgets)e.append(o(i).addClass("widget"))},addTask:function(e,i=!1){if(i)for(let l of this.tasks)l.active=!1;this.tasks.push({...e,active:i}),this._renderTasks()},removeTask:function(e){this.tasks=this.tasks.filter(i=>i.ref!==e),this._renderTasks()},activateTask:function(e){let i=this.tasks.filter(h=>h.ref===e);if(i.length===0)return;let l=i[0];for(let h of this.tasks)h.active=!1;l.active=!0,this._renderTasks()},addToSystemTray:function(e){this.systemTray.push(e),this._renderSystemTray()},addWidget:function(e){this.widgets.push(e),this._renderWidgets()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p=(i,l,h)=>{let v,x="<%(.+?)%>",w=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,D=`with(obj) { var r=[];
`,M=0,I,B,Y=(X,ie)=>(ie?D+=X.match(w)?`${X}
`:`r.push(${X});
`:D+=X!==""?`r.push("${X.replace(/"/g,'\\"')}");
`:"",Y);for(t.utils.isValue(h)&&(o.hasProp(h,"beginToken")&&(x=x.replace("<%",h.beginToken)),o.hasProp(h,"endToken")&&(x=x.replace("%>",h.endToken))),v=new RegExp(x,"g"),B=v.exec(i);B;)Y(i.slice(M,B.index))(B[1],!0),M=B.index+B[0].length,B=v.exec(i);Y(i.substring(M,i.length-M)),D=`${D}return r.join(""); }`.replace(/[\r\t\n]/g," ");try{I=new Function("obj",D).apply(l,[l])}catch(X){console.error(`'${X.message}'`,` in 

Code:
`,D,`
`)}return I},e={templateData:null,onTemplateCompile:t.noop,onTemplateCreate:t.noop};t.templateSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroTemplateSetup<"u"&&t.templateSetup(globalThis.metroTemplateSetup),t.Component("template",{init:function(i,l){return this._super(l,i,e,{template:null,data:{}}),this},_compile:function(){let i=this.element,l=this.template.replace(/(&lt;%)/gm,"<%").replace(/(%&gt;)/gm,"%>").replace(/(&lt;)/gm,"<").replace(/(&gt;)/gm,">"),h=p(l,this.data);i.html(h),this._fireEvent("template-compile",{template:l,compiled:h,element:i})},_create:function(){let i=this.element,l=this.options;this.template=i.html(),this.data=t.utils.isObject(l.templateData)||{},this._compile(),this._fireEvent("template-create",{element:i})},buildWith:function(i){let l=t.utils.isObject(i);l&&(this.data=l,this._compile())},changeAttribute:function(i,l){i==="data-template-data"&&(this.options.templateData=l,this.data=t.utils.isObject(l)||{},this._compile())},destroy:function(){return this.element}}),t.template=p})(Metro,Dom),((t,o)=>{let p={label:"",textareaDeferred:0,charsCounter:null,charsCounterTemplate:"$1",defaultValue:"",prepend:"",append:"",clearButton:!0,clearButtonIcon:"❌",autoSize:!0,maxHeight:0,clsPrepend:"",clsAppend:"",clsComponent:"",clsTextarea:"",clsLabel:"",onChange:t.noop,onTextareaCreate:t.noop};t.textareaSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroTextareaSetup<"u"&&t.textareaSetup(globalThis.metroTextareaSetup),t.Component("textarea",{init:function(e,i){return this._super(i,e,p),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("textarea-create",{element:e})},_createStructure:function(){let e=this.element,i=this.elem,l=this.options,h=o("<div>").addClass(`textarea ${e[0].className}`),v=o("<textarea>").addClass("fake-textarea"),x;if(h.insertBefore(e),e.appendTo(h),v.appendTo(h),l.clearButton!==!1&&!e[0].readOnly&&(x=o("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(l.clearButtonIcon),x.appendTo(h)),e.attr("dir")==="rtl"&&h.addClass("rtl").attr("dir","rtl"),l.prepend!==""&&o("<div>").html(l.prepend).addClass("prepend").addClass(l.clsPrepend).appendTo(h),l.append!==""){let w=o("<div>").html(l.append);w.addClass("append").addClass(l.clsAppend).appendTo(h),x.css({right:w.outerWidth()+4})}if(i.className="",t.utils.isValue(l.defaultValue)&&e.val().trim()===""&&e.val(l.defaultValue),h.addClass(l.clsComponent),e.addClass(l.clsTextarea),l.label){let w=o("<label>").addClass("label-for-input").addClass(l.clsLabel).html(l.label).insertBefore(h);if(e.attr("id"))w.attr("for",e.attr("id"));else{let D=Hooks.useId(e[0]);w.attr("for",D),e.attr("id",D)}e.attr("dir")==="rtl"&&w.addClass("rtl")}e.is(":disabled")?this.disable():this.enable(),v.val(e.val()),l.autoSize===!0&&(h.addClass("autosize no-scroll-vertical"),setTimeout(()=>{this.resize()},100)),this.component=h},_createEvents:function(){let e=this,i=this.element,l=this.options,h=i.closest(".textarea"),v=h.find(".fake-textarea"),x=o(l.charsCounter);h.on(t.events.click,".input-clear-button",w=>{i.val(t.utils.isValue(l.defaultValue)?l.defaultValue:"").trigger("change").trigger("keyup").focus(),w.preventDefault(),w.stopPropagation()}),l.autoSize&&i.on(`${t.events.inputchange} ${t.events.keyup}`,function(){v.val(this.value),e.resize()}),i.on(t.events.blur,()=>{h.removeClass("focused")}),i.on(t.events.focus,()=>{h.addClass("focused")}),i.on(t.events.keyup,()=>{t.utils.isValue(l.charsCounter)&&x.length>0&&(x[0].tagName==="INPUT"?x.val(e.length()):x.html(l.charsCounterTemplate.replace("$1",e.length()))),e._fireEvent("change",{val:i.val(),length:e.length()})})},resize:function(){let e=this.element,i=this.options,l=e.closest(".textarea"),h=l.find(".fake-textarea"),v=h[0].scrollHeight;if(i.maxHeight&&v>=i.maxHeight){l.removeClass("no-scroll-vertical");return}i.maxHeight&&v<i.maxHeight&&l.addClass("no-scroll-vertical"),h[0].style.cssText="height:auto;",h[0].style.cssText=`height:${h[0].scrollHeight}px`,e[0].style.cssText=`height:${h[0].scrollHeight}px`},clear:function(){this.element.val("").trigger("change").trigger("keyup").focus()},toDefault:function(){this.element.val(t.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"").trigger("change").trigger("keyup").focus()},length:function(){return this.elem.value.split("").length},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break}},destroy:function(){let e=this.element,i=this.options;e.closest(".textarea").off(t.events.click,".input-clear-button"),i.autoSize&&e.off(`${t.events.inputchange} ${t.events.keyup}`),e.off(t.events.blur),e.off(t.events.focus),e.off(t.events.keyup),i.label&&this.component.prev("label").remove(),this.component.remove()}})})(Metro,Dom),((t,o)=>{let p={state:t.theme.LIGHT,target:"html",saveState:!0,saveStateKey:"THEME:SWITCHER",clsDark:"",darkSymbol:"🌙",lightSymbol:"🌞",mode:"switch",onThemeSwitcherCreate:t.noop,onChangeTheme:t.noop};t.themeSwitcherSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroThemeSwitcherSetup<"u"&&t.themeSwitcherSetup(globalThis.metroThemeSwitcherSetup),t.Component("theme-switcher",{init:function(e,i){return this._super(i,e,p,{container:null,state:null,target:null}),this.state=this.options.state,this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("theme-switcher-create")},_createStructure:function(){let e=this.element,i=this.options,l="light";i.saveState&&(l=t.storage.getItem(i.saveStateKey,!1)),e.attr("data-light-symbol",i.lightSymbol),e.attr("data-dark-symbol",i.darkSymbol),t.makePlugin(e,"switch"),this.container=e.wrap(o("<label>").addClass("theme-switcher")),this.container.addClass(`mode-${i.mode}`),this.target=o(i.target),this.target.length===0&&(this.target=o("html")),this._setState(i.saveState?l:i.state===t.theme.DARK),this._updateState()},_createEvents:function(){this.container.on("click",()=>{this._updateState()}),this._observeClass()},_observeClass:function(){new MutationObserver(e=>{for(let i of e)i.type==="attributes"&&i.attributeName==="class"&&(this.elem.checked=this.target[0].classList.contains("dark-side"))}).observe(this.target[0],{attributes:!0,attributeFilter:["class"]})},_setState:function(e=!1){this.elem.checked=e},_updateState:function(){let e=o.meta("metro:theme").length>0,i=this.options,l=this.elem,h=this.target;e||(l.checked?h.addClass("dark-side").addClass(this.options.clsDark):h.removeClass("dark-side").addClass(this.options.clsDark),i.saveState&&t.storage.setItem(i.saveStateKey,l.checked),this._fireEvent("change-theme",{state:l.checked}))},val:function(e){if(typeof e>"u")return this.elem.checked?t.theme.DARK:t.theme.LIGHT;this._setState(typeof e=="boolean"?e:e===t.theme.DARK),this._updateState()},changeAttribute:function(e,i){e==="data-target"&&(this.target=o(i),this._updateState())},destroy:function(){this.container.remove()}})})(Metro,Dom),((t,o)=>{let p=["slide-up","slide-down","slide-left","slide-right","fade","zoom","swirl","switch"],e={tileDeferred:0,size:"medium",cover:"",coverPosition:"center",effect:"",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onTileClick:t.noop,onTileCreate:t.noop};t.tileSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroTileSetup<"u"&&t.tileSetup(globalThis.metroTileSetup),t.Component("tile",{init:function(i,l){return this._super(l,i,e,{effectInterval:!1,images:[],slides:[],currentSlide:-1,unload:!1}),this},_create:function(){let i=this.element;this._createTile(),this._createEvents(),this._fireEvent("tile-create",{element:i})},_createTile:function(){function i(D,M,I){setTimeout(()=>{D.fadeOut(500,()=>{D.css("background-image",`url(${M})`),D.fadeIn()})},I*300)}let l=this,h=this.element,v=this.options,x=h.find(".slide"),w=h.find(".slide-front, .slide-back");if(h.addClass(`tile-${v.size}`),v.effect.indexOf("hover-")>-1&&(h.addClass(`effect-${v.effect}`),o.each(w,function(){let D=o(this);D.data("cover")!==void 0&&l._setCover(D,D.data("cover"),D.data("cover-position"))})),p.includes(v.effect)&&x.length>1&&(o.each(x,function(D){let M=o(this);l.slides.push(this),M.data("cover")!==void 0&&l._setCover(M,M.data("cover"),M.data("cover-position")),D>0&&(["slide-up","slide-down"].indexOf(v.effect)>-1&&M.css("top","100%"),["slide-left","slide-right"].indexOf(v.effect)>-1&&M.css("left","100%"),["fade","zoom","swirl","switch"].indexOf(v.effect)>-1&&M.css("opacity",0))}),this.currentSlide=0,this._runEffects()),v.cover!==""&&this._setCover(h,v.cover),v.effect==="image-set"){h.addClass("image-set"),o.each(h.children("img"),function(){l.images.push(this),o(this).remove()});let D=this.images.slice();for(let I=0;I<5;I++){let B=o.random(0,D.length-1),Y=o("<div>").addClass(`img -js-img-${I}`).css("background-image",`url(${D[B].src})`);h.prepend(Y),D.splice(B,1)}let M=[0,1,4,3,2];setInterval(()=>{let I=l.images.slice(),B=Farbe.Routines.randomColor();h.css("background-color",B);for(let Y=0;Y<M.length;Y++){let X=o.random(0,I.length-1),ie=h.find(`.-js-img-${M[Y]}`);i(ie,I[X].src,Y),I.splice(X,1)}M=M.reverse()},5e3)}},_runEffects:function(){let i=this.options;this.effectInterval===!1&&(this.effectInterval=setInterval(()=>{let l,h;l=o(this.slides[this.currentSlide]),this.currentSlide++,this.currentSlide===this.slides.length&&(this.currentSlide=0),h=this.slides[this.currentSlide],p.includes(i.effect)&&t.Effects[Str.camelCase(i.effect)](o(l)[0],o(h)[0],{duration:i.effectDuration})},i.effectInterval))},_stopEffects:function(){o.clearInterval(this.effectInterval),this.effectInterval=!1},_setCover:function(i,l,h){i.css({backgroundImage:`url(${l})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:h||this.options.coverPosition})},_createEvents:function(){let i=this,l=this.element,h=this.options;l.on(t.events.startAll,function(v){let x=o(this),w={w:l.width(),h:l.height()},D=t.utils.pageXY(v).x-x.offset().left,M=t.utils.pageXY(v).y-x.offset().top,I;t.utils.isRightMouse(v)===!1&&(D<w.w*1/3&&(M<w.h*1/2||M>w.h*1/2)?I="left":D>w.w*2/3&&(M<w.h*1/2||M>w.h*1/2)?I="right":D>w.w*1/3&&D<w.w*2/3&&M>w.h/2?I="bottom":I="top",h.canTransform===!0&&x.addClass(`transform-${I}`),h.target!==null&&setTimeout(()=>{document.location.href=h.target},100),i._fireEvent("tile-click",{side:I}))}),l.on([t.events.stopAll,t.events.leave].join(" "),function(){o(this).removeClass("transform-left").removeClass("transform-right").removeClass("transform-top").removeClass("transform-bottom")})},changeAttribute:()=>{},destroy:function(){let i=this.element;i.off(t.events.startAll),i.off([t.events.stopAll,t.events.leave].join(" ")),i.remove()}})})(Metro,Dom),((t,o)=>{let p={label:"",timepickerDeferred:0,hoursStep:1,minutesStep:1,secondsStep:1,value:null,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsHours:"",clsMinutes:"",clsSeconds:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"✓",cancelButtonIcon:"𐄂",onSet:t.noop,onOpen:t.noop,onClose:t.noop,onScroll:t.noop,onTimePickerCreate:t.noop};t.timePickerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroTimePickerSetup<"u"&&t.timePickerSetup(globalThis.metroTimePickerSetup),t.Component("time-picker",{init:function(e,i){return this._super(i,e,p,{picker:null,isOpen:!1,value:[],listTimer:{hours:null,minutes:null,seconds:null},id:t.utils.elementId("time-picker")}),this},_create:function(){let e=this.element,i=this.options,l;for(i.distance<1&&(i.distance=1),i.hoursStep<1&&(i.hoursStep=1),i.hoursStep>23&&(i.hoursStep=23),i.minutesStep<1&&(i.minutesStep=1),i.minutesStep>59&&(i.minutesStep=59),i.secondsStep<1&&(i.secondsStep=1),i.secondsStep>59&&(i.secondsStep=59),e.val()===""&&!t.utils.isValue(i.value)&&(i.value=datetime().format("HH:mm:ss")),this.value=(e.val()!==""?e.val():`${i.value}`).toArray(":"),l=0;l<3;l++)this.value[l]===void 0||this.value[l]===null?this.value[l]=0:this.value[l]=Number.parseInt(this.value[l]);this._normalizeValue(),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("time-picker-create",{element:e})},_normalizeValue:function(){let e=this.options;e.hoursStep>1&&(this.value[0]=t.utils.nearest(this.value[0],e.hoursStep,!0)),e.minutesStep>1&&(this.value[1]=t.utils.nearest(this.value[1],e.minutesStep,!0)),e.minutesStep>1&&(this.value[2]=t.utils.nearest(this.value[2],e.secondsStep,!0))},_createStructure:function(){let e=this.element,i=this.options,l=this.strings,h,v,x,w,D,M,I,B=Hooks.useId(e[0]);if(h=o("<div>").addClass(`wheel-picker time-picker ${e[0].className}`).addClass(i.clsPicker),h.attr("id")||h.attr("id",B),h.insertBefore(e),e.attr("readonly",!0).appendTo(h),i.label){let ie=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(h);e.attr("id")&&ie.attr("for",e.attr("id")),e.attr("dir")==="rtl"&&ie.addClass("rtl")}M=o("<div>").addClass("time-wrapper").appendTo(h),i.hours===!0&&(v=o("<div>").attr("data-title",l.label_hours).addClass("hours").addClass(i.clsPart).addClass(i.clsHours).appendTo(M)),i.minutes===!0&&(x=o("<div>").attr("data-title",l.label_minutes).addClass("minutes").addClass(i.clsPart).addClass(i.clsMinutes).appendTo(M)),i.seconds===!0&&(w=o("<div>").attr("data-title",l.label_seconds).addClass("seconds").addClass(i.clsPart).addClass(i.clsSeconds).appendTo(M));let Y=o("<div>").addClass("select-wrapper").appendTo(h);if(I=o("<div>").addClass("select-block").appendTo(Y),i.hours===!0){for(v=o("<ul>").addClass("sel-hours").appendTo(I),D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(v);for(D=0;D<24;D=D+i.hoursStep)o("<li>").addClass(`js-hours-${D}`).html(Str.lpad(D,"0",2)).data("value",D).appendTo(v);for(D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(v)}if(i.minutes===!0){for(x=o("<ul>").addClass("sel-minutes").appendTo(I),D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(x);for(D=0;D<60;D=D+i.minutesStep)o("<li>").addClass(`js-minutes-${D}`).html(Str.lpad(D,"0",2)).data("value",D).appendTo(x);for(D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(x)}if(i.seconds===!0){for(w=o("<ul>").addClass("sel-seconds").appendTo(I),D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(w);for(D=0;D<60;D=D+i.secondsStep)o("<li>").addClass(`js-seconds-${D}`).html(Str.lpad(D,"0",2)).data("value",D).appendTo(w);for(D=0;D<i.distance;D++)o("<li>").html("&nbsp;").data("value",-1).appendTo(w)}I.height((i.distance*2+1)*40);let X=o("<div>").addClass("action-block").appendTo(Y);if(o("<button>").attr("type","button").addClass("button action-now").addClass(i.clsButton).addClass(i.clsTodayButton).html(`<span class="caption">${this.strings.label_now}</span>`).appendTo(X),o("<button>").attr("type","button").addClass("button action-ok").addClass(i.clsButton).addClass(i.clsOkButton).html(`<span class="icon">${i.okButtonIcon}</span>`).appendTo(X),o("<button>").attr("type","button").addClass("button action-cancel").addClass(i.clsButton).addClass(i.clsCancelButton).html(`<span class="icon">${i.cancelButtonIcon}</span>`).appendTo(X),e[0].className="",i.copyInlineStyles===!0)for(D=0;D<e[0].style.length;D++)h.css(e[0].style[D],e.css(e[0].style[D]));i.showLabels===!0&&h.addClass("show-labels"),e.prop("disabled")&&h.addClass("disabled"),this.picker=h},_createEvents:function(){let e=this,i=this.options,l=this.picker;l.on("touchstart",".select-block ul",function(v){if(v.changedTouches)return;let x=t.utils.pageXY(v).y;o(document).on("touchmove",w=>{this.scrollTop-=i.scrollSpeed*(x>t.utils.pageXY(w).y?-1:1),x=t.utils.pageXY(w).y},{ns:e.id}),o(document).on("touchend",()=>{o(document).off(t.events.move,{ns:e.id}),o(document).off(t.events.stop,{ns:e.id})},{ns:e.id})}),l.on(t.events.click,v=>{e.isOpen===!1&&e.open(),v.stopPropagation()}),l.on(t.events.click,".action-ok",v=>{let x=l.find(".sel-hours li.active"),w=l.find(".sel-minutes li.active"),D=l.find(".sel-seconds li.active"),M=x.length===0?0:x.data("value"),I=w.length===0?0:w.data("value"),B=D.length===0?0:D.data("value");e.value=[M,I,B],e._normalizeValue(),e._set(),e.close(),v.stopPropagation()}),l.on(t.events.click,".action-cancel",v=>{e.close(),v.stopPropagation()});let h=150;o.each(["hours","minutes","seconds"],function(){let v=l.find(`.sel-${this}`),x=Hooks.useDebounce(w=>{let D;e.listTimer[this]=null,D=Math.round(Math.ceil(v.scrollTop())/40),this==="hours"&&i.hoursStep&&(D*=Number.parseInt(i.hoursStep)),this==="minutes"&&i.minutesStep&&(D*=Number.parseInt(i.minutesStep)),this==="seconds"&&i.secondsStep&&(D*=Number.parseInt(i.secondsStep));let M=v.find(`.js-${this}-${D}`),I=M.position().top-i.distance*40;v.find(".active").removeClass("active"),v[0].scrollTop=I,M.addClass("active"),t.utils.exec(i.onScroll,[M,v,l],v[0])},h);v.on("scroll",x)}),l.on(t.events.click,"ul li",function(v){let x=o(this),w=x.closest("ul"),D=x.position().top-i.distance*40;w.find(".active").removeClass("active"),o.animate({el:w[0],draw:{scrollTop:D},dur:300}),w[0].scrollTop=D,x.addClass("active"),t.utils.exec(i.onScroll,[x,w,l],w[0])}),l.on(t.events.click,".action-now",v=>{let x=datetime(),w=x.hour(),D=x.minute(),M=x.second();l.find(`.sel-hours li.js-hours-${w}`).click(),l.find(`.sel-minutes li.js-minutes-${D}`).click(),l.find(`.sel-seconds li.js-seconds-${M}`).click(),v.preventDefault(),v.stopPropagation()})},_set:function(){let e=this.element,i=this.options,l=this.picker,h="00",v="00",x="00";i.hours===!0&&(h=Number.parseInt(this.value[0]),l.find(".hours").html(Str.lpad(h,"0",2))),i.minutes===!0&&(v=Number.parseInt(this.value[1]),l.find(".minutes").html(Str.lpad(v,"0",2))),i.seconds===!0&&(x=Number.parseInt(this.value[2]),l.find(".seconds").html(Str.lpad(x,"0",2))),e.val([h,v,x].join(":")).trigger("change"),this._fireEvent("set",{val:this.value,elementVal:e.val()})},open:function(){let e=this.options,i=this.picker,l,h,v,x,w,D,M=i.find("li"),I=i.find(".select-wrapper"),B,Y,X;o.each(o(".time-picker"),function(){o(this).find("input").each(function(){t.getPlugin(this,"timepicker").close()})}),I.show(0),M.removeClass("active"),e.openMode==="auto"?(t.utils.inViewport(I[0])||I.parent().addClass("drop-up-select"),t.utils.inViewport(I[0])||(I.parent().removeClass("drop-up-select"),I.parent().addClass("drop-as-dialog"))):e.openMode==="dialog"?I.parent().addClass("drop-as-dialog"):e.openMode==="up"&&I.parent().addClass("drop-up-select");let ie=(Fe,Ve)=>{Fe.scrollTop(0).animate({draw:{scrollTop:Ve.position().top-e.distance*40+Fe.scrollTop()},dur:100})};e.hours===!0&&(l=Number.parseInt(this.value[0]),x=i.find(".sel-hours"),B=x.find(`li.js-hours-${l}`).addClass("active"),ie(x,B)),e.minutes===!0&&(h=Number.parseInt(this.value[1]),w=i.find(".sel-minutes"),Y=w.find(`li.js-minutes-${h}`).addClass("active"),ie(w,Y)),e.seconds===!0&&(v=Number.parseInt(this.value[2]),D=i.find(".sel-seconds"),X=D.find(`li.js-seconds-${v}`).addClass("active"),ie(D,X)),this.isOpen=!0,this._fireEvent("open",{val:this.value})},close:function(){let e=this.picker,i=this.options;e.find(".select-wrapper").hide(0),i.openMode==="auto"&&e.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{val:this.value})},_convert:e=>{let i;return Array.isArray(e)?i=e:typeof e.getMonth=="function"?i=[e.getHours(),e.getMinutes(),e.getSeconds()]:t.utils.isObject(e)?i=[e.h,e.m,e.s]:i=e.toArray(":"),i},val:function(e){if(e===void 0)return this.element.val();this.value=this._convert(e),this._normalizeValue(),this._set()},time:function(e){if(e===void 0)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(e),this._normalizeValue(),this._set()},date:function(e){if(e===void 0||typeof e.getMonth!="function")return datetime().hour(this.value[0]).minute(this.value[1]).second(this.value[2]).ms(0).val();this.value=this._convert(e),this._normalizeValue(),this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,i){switch(e){case"data-value":this.val(i);break;case"disabled":this.toggleState();break}},destroy:function(){let e=this.element,i=this.picker;o.each(["hours","minutes","seconds"],function(){i.find(`.sel-${this}`).off("scroll")}),i.off(t.events.start,".select-block ul"),i.off(t.events.click),i.off(t.events.click,".action-ok"),i.off(t.events.click,".action-cancel"),e.remove()}}),o(document).on(t.events.click,()=>{o.each(o(".time-picker"),function(){o(this).find("input").each(function(){t.getPlugin(this,"timepicker").close()})})})})(Metro,Dom),((t,o)=>{t.TOAST_POSITION={TOP:"top",BOTTOM:"bottom",CENTER:"center"};let p={callback:t.noop,timeout:3e3,distance:20,position:t.TOAST_POSITION.BOTTOM,clsToast:""};t.toastSetup=i=>{p=o.extend({},p,i)},typeof globalThis.metroToastSetup<"u"&&t.toastSetup(globalThis.metroToastSetup);let e={create:(i,l)=>{let h,v,x;typeof l=="function"&&(x=Object.assign({},p,{callback:l})),h=o.extend({},p,x),v=o("<div>").addClass("toast").html(i).appendTo(o("body"));let w=v.outerWidth();h.position==="top"?v.addClass("show-top").css({top:h.distance}):h.position==="center"?v.addClass("show-center"):v.css({bottom:h.distance}),v.css({left:"50%","margin-left":-(w/2)}).addClass(h.clsToast).fadeIn(200,()=>{setTimeout(()=>{e.remove(v,h.callback)},h.timeout)})},remove:(i,l)=>{i.length&&i.fadeOut(200,()=>{i.remove(),t.utils.exec(l,null,i[0])})}};t.toast=e,t.createToast=e.create})(Metro,Dom),((t,o)=>{let p={textToTokenize:"",spaceSymbol:"",spaceClass:"space",tokenClass:"",splitter:"",tokenElement:"span",useTokenSymbol:!0,useTokenIndex:!0,clsTokenizer:"",clsToken:"",clsTokenOdd:"",clsTokenEven:"",onTokenCreate:t.noop,onTokenize:t.noop,onTokenizerCreate:t.noop};t.tokenizerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroTokenizerSetup<"u"&&t.tokenizerSetup(globalThis.metroTokenizerSetup),t.Component("tokenizer",{init:function(e,i){return this._super(i,e,p,{originalText:""}),this},_create:function(){let e=this.element,i=this.options;this.originalText=i.textToTokenize?i.textToTokenize.trim():e.text().trim().replace(/[\r\n\t]/gi,"").replace(/\s\s+/g," "),this._createStructure(),this._fireEvent("tokenizer-create")},_tokenize:function(){let e=this,i=this.element,l=this.options,h=0,v,x;i.clear().attr("aria-label",this.originalText),o.each(this.originalText.split(l.splitter),function(w){let D=this===" ",M;M=o(`<${l.tokenElement}>`).html(D?l.spaceSymbol:this).attr("aria-hidden",!0).addClass(D?l.spaceClass:"").addClass(D&&l.useTokenSymbol?"":`ts-${this.replace(" ","_")}`).addClass(D&&l.useTokenIndex?"":`ti-${w+1}`).addClass(l.tokenClass?l.tokenClass:"").addClass(D?"":l.clsToken),D||(h++,M.addClass(h%2===0?"te-even":"te-odd"),M.addClass(h%2===0?l.clsTokenEven:l.clsTokenOdd)),l.prepend&&(x=o.isSelector(l.prepend)?o(l.prepend):o("<span>").html(l.prepend),M.prepend(x)),l.append&&(v=o.isSelector(l.append)?o(l.append):o("<span>").html(l.append),M.append(v)),i.append(M),e._fireEvent("token-create",{token:M[0]})}),e._fireEvent("tokenize",{tokens:i.children().items(),originalText:this.originalText})},_createStructure:function(){let e=this.element,i=this.options;e.addClass(i.clsTokenizer),this._tokenize()},tokenize:function(e){this.originalText=e,this._tokenize()},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={treeviewDeferred:0,showChildCount:!1,duration:100,hideActionsOnLeave:!0,recheckTimeout:100,leaves:[],onNodeClick:t.noop,onNodeDblClick:t.noop,onNodeDelete:t.noop,onNodeInsert:t.noop,onNodeClean:t.noop,onCheckClick:t.noop,onRadioClick:t.noop,onExpandNode:t.noop,onCollapseNode:t.noop,onTreeViewCreate:t.noop};t.treeViewSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroTreeViewSetup<"u"&&t.treeViewSetup(globalThis.metroTreeViewSetup),t.Component("tree-view",{init:function(e,i){return this._super(i,e,p),this},_create:function(){let e=this,i=this.element;this._createTree(),this._createEvents(),o.each(i.find("input"),function(){o(this).is(":checked")&&e._recheck(this)}),this._fireEvent("tree-view-create",{element:i})},_createIcon:e=>{let i=t.utils.isTag(e)?o(e):o("<img src='' alt=''>").attr("src",e),l=o("<span>").addClass("icon");return l.html(i.outerHTML()),l},_createCaption:(e,i)=>{let l=o("<span>").addClass("caption").html(e);return i&&(t.utils.isObject(i)?l.css(i):typeof i=="string"&&(l[0].style.cssText=i)),l},_createToggle:()=>o("<span>").addClass("node-toggle"),_createNode:function(e,i){let l=this.options,h=i||o("<li>"),v=o("<a>");if(h.prepend(v),(e.link||e.href)&&v.attr("href",e.link||e.href),e.caption&&v.prepend(this._createCaption(e.caption,e.style)),e.icon&&v.prepend(this._createIcon(e.icon)),e.html&&v.append(e.html),e.attributes&&o.type(e.attributes)==="object")for(let x in e.attributes)v.attr(x,e.attributes[x]);if(e.style&&(typeof e.style=="string"?v[0].style.cssText=e.style:o.type(e.style)==="object"&&v.css(e.style)),e.badge){let[x,w]=e.badge.split(":");v.append(o("<span>").addClass("badge").addClass(w).html(x))}if(e.badges&&o.each(typeof e.badges=="string"?e.badges.toArray(","):Array.isArray(e.badges)?e.badges:[],(x,w)=>{let[D,M]=w.split(":");v.append(o("<span>").addClass("badge").addClass(M).html(D))}),e.secondary){let[x,w]=e.secondary.split(":");v.append(o("<span>").addClass("secondary-text").addClass(w).html(x))}if(e.actions){let x=o("<div class='dropdown-button'>").addClass("actions-holder");o("<span class='actions-list-trigger'>").text("⋮").appendTo(x);let w=o("<ul data-role='dropmenu' class='d-menu actions-list'>").appendTo(x);h.append(x);for(let D of e.actions)if(D.type&&D.type==="divider")o("<li>").addClass("divider").appendTo(w);else{let M=D.icon?o(D.icon).addClass("icon").outerHTML():"",I=`<span class="caption">${D.caption}</span>`,B=o(`<li><a href="#">${M} ${I}</a></li>`).appendTo(w);D.cls&&B.addClass(D.cls),B.find("a").on("click",function(){t.utils.exec(D.onclick,[B[0]],this)})}w.on(t.events.leave,D=>{l.hideActionsOnLeave&&t.getPlugin(w,"dropmenu").close()})}return e.current&&h.addClass("current"),e.type==="node"&&(h.addClass("tree-node"),h.append(o("<span>").addClass("node-toggle")),h.append(o("<ul>"))),h.children("ul").length&&(h.addClass("tree-node"),h.append(o("<span>").addClass("node-toggle")),t.utils.bool(e.collapsed)!==!0?h.addClass("expanded"):h.children("ul").hide()),h},_createCheckNode:function(e,i){let l=i||o("<li>");if(l.append(`
                <input data-role="${e.type}" type="${e.type??"checkbox"}" name="${e.name}" value="${e.value??""}" ${e.checked?"checked":""} data-append="${e.caption}"/>
            `),e.icon&&l.find("label").prepend(this._createIcon(e.icon)),e.attributes&&o.type(e.attributes)==="object")for(let h in e.attributes)l.attr(h,e.attributes[h]);if(e.secondary){let[h,v]=e.secondary.split(":");l.find("label").append(o("<span>").addClass("secondary-text").addClass(v).html(h))}return l},_createInputNode:(e,i)=>{let l=i||o("<li>");if(l.append(`
                <input data-role="${e.type}" type="${e.type??"text"}" name="${e.name}" value="${e.value??""}" data-prepend="${e.caption??""}" placeholder="${e.placeholder??""}"/>
            `),e.secondary){let[h,v]=e.secondary.split(":");l.find("label").append(o("<span>").addClass("secondary-text").addClass(v).html(h))}return l},_createTree:function(){let e=this.element,i=this.options,l=e.find("li[data-caption]");if(e.addClass("treeview"),o.each(l,(h,v)=>{let x=o(v);x.data("type")==="checkbox"||x.data("type")==="radio"?this._createCheckNode({caption:x.data("caption"),icon:x.data("icon"),type:x.data("type"),name:x.data("name"),attributes:x.data("attributes"),value:x.data("value"),checked:x.data("checked")==="true",secondary:x.data("secondary")},x):x.data("type")==="input"?this._createInputNode({caption:x.data("caption"),type:x.data("type"),name:x.data("name"),attributes:x.data("attributes"),value:x.data("value"),secondary:x.data("secondary"),placeholder:x.data("placeholder")},x):this._createNode({caption:x.data("caption"),icon:x.data("icon"),html:x.data("html"),attributes:x.data("attributes"),badge:x.data("badge"),badges:x.data("badges"),actions:x.data("actions"),type:x.data("type"),collapsed:x.data("collapsed"),link:x.data("link"),href:x.data("href"),secondary:x.data("secondary"),style:x.data("style")},x)}),i.leaves){let h=t.utils.isObject(i.leaves);h&&this.fillTree(h)}this._recheckTree()},_createEvents:function(){let e=this,i=this.element;i.on(t.events.click,".node-toggle",function(l){let h=o(this).parent();e.toggleNode(h),l.preventDefault()}),i.on(t.events.click,"a",function(l){let h=o(this).parent();e.current(h),e._fireEvent("node-click",{node:h[0]}),l.preventDefault()}),i.on(t.events.dblclick,"a",function(l){let h=o(this).closest("li"),v=h.children(".node-toggle"),x=h.children("ul");(v.length>0||x.length>0)&&e.toggleNode(h),e._fireEvent("node-dbl-click",{node:h[0]}),l.preventDefault()}),i.on(t.events.click,"input[type=radio]",function(){let l=o(this),h=l.is(":checked"),v=l.closest("li");e.current(v),e._fireEvent("radio-click",{checked:h,check:l[0],node:v[0]})}),i.on(t.events.click,"input[type=checkbox]",function(){let l=o(this),h=l.is(":checked"),v=l.closest("li");e._recheck(l),e._fireEvent("check-click",{checked:h,check:l[0],node:v[0]})})},_recheck:function(e){let i=o(e),l=i.is(":checked"),h=i.closest("li");this.current(h);let v=i.closest("li").find("ul input[type=checkbox]");v.attr("data-indeterminate",!1),v.prop("indeterminate",!1),v.prop("checked",l),v.trigger("change"),this._recheckTree()},_recheckTree:function(e){setTimeout(()=>{let i=this.element.find("input[type=checkbox]").reverse();o.each(i.reverse(),function(){let l=o(this),h=l.closest("li").children("ul").find("input[type=checkbox]").length,v=l.closest("li").children("ul").find("input[type=checkbox]").filter(x=>x.checked).length;h>0&&v===0&&(l.attr("data-indeterminate",!1),l.prop("indeterminate",!1),l.prop("checked",!1),l.trigger("change")),v===0?(l.attr("data-indeterminate",!1),l.prop("indeterminate",!1)):v>0&&h>v?(l.attr("data-indeterminate",!0),l.prop("indeterminate",!0)):h===v&&(l.attr("data-indeterminate",!1),l.prop("indeterminate",!1),l.prop("checked",!0),l.trigger("change"))})},e??this.options.recheckTimeout)},current:function(e){let i=this.element;if(!e)return i.find(".current");i.find(".current").removeClass("current"),e.addClass("current")},toggleNode:function(e){let i=o(e),l=this.options,h=!i.data("collapsed");i.toggleClass("expanded"),i.data("collapsed",h);let v=h===!0?"slideUp":"slideDown";h?this._fireEvent("collapse-node",{node:i[0]}):this._fireEvent("expand-node",{node:i[0]}),i.children("ul")[v](l.duration)},addTo:function(e,i){let l=this.element,h,v,x,w;return e?(w=o(e),h=w.children("ul"),h.length===0&&(h=o("<ul>").appendTo(w),x=this._createToggle(),x.appendTo(w),w.addClass("expanded")),w==null||w.addClass("tree-node")):h=l,i.type==="checkbox"||i.type==="radio"?v=this._createCheckNode(i):i.type==="input"?v=this._createInputNode(i):v=this._createNode(i),v.appendTo(h),this._fireEvent("node-insert",{node:v[0],parent:w?w[0]:null}),this._recheckTree(),v},insertBefore:function(e,i){let l=this._createNode(i);if(!e)return this.addTo(void 0,i);let h=o(e);return l.insertBefore(h),this._fireEvent("node-insert",{node:l[0],parent:h?h[0]:null}),l},insertAfter:function(e,i){let l=this._createNode(i);if(!e)return this.addTo(void 0,i);let h=o(e);return l.insertAfter(h),this._fireEvent("node-insert",{node:l[0],parent:h[0]}),l},del:function(e){let i=this.element,l=o(e),h=l.closest("ul"),v=h.closest("li");this._fireEvent("node-delete",{node:l[0]}),l.remove(),h.children().length===0&&!h.is(i)&&(h.remove(),v.removeClass("expanded"),v.children(".node-toggle").remove()),this._recheckTree()},clean:function(e){let i=o(e);i.children("ul").remove(),i.removeClass("expanded"),i.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:i[0]})},collapseNode(e){let i=this.options,l=o(e);l.removeClass("expanded"),l.data("collapsed",!0),l.children("ul").slideUp(i.duration),this._fireEvent("collapse-node",{node:l[0]})},expandNode(e){let i=this.options,l=o(e);l.hasClass("tree-node")&&(l.addClass("expanded"),l.data("collapsed",!1),l.children("ul").slideDown(i.duration),this._fireEvent("expand-node",{node:l[0]}))},collapseAll(){let e=this.element,i=this.options;e.find(".expanded").each((l,h)=>{let v=o(h),x=!v.data("collapsed");v.toggleClass("expanded"),v.data("collapsed",x);let w=x===!0?"slideUp":"slideDown";x?this._fireEvent("collapse-node",{node:v[0]}):this._fireEvent("expand-node",{node:v[0]}),v.children("ul")[w](i.duration)}),this._fireEvent("collapse-all")},expandAll(){let e=this.element,i=this.options;e.find(".tree-node:not(.expanded)").each((l,h)=>{let v=o(h),x=!v.data("collapsed");v.toggleClass("expanded"),v.data("collapsed",x);let w=x===!0?"slideUp":"slideDown";x?this._fireEvent("collapse-node",{node:v[0]}):this._fireEvent("expand-node",{node:v[0]}),v.children("ul")[w](i.duration)}),this._fireEvent("expand-all")},fillTree:function(e,i){for(let l of e){let h=this.addTo(i,{...l,type:l.items?"node":"item"});l.items&&this.fillTree(l.items,h)}},changeAttribute:function(e,i){e==="data-recheck-timeout"&&(this.options.recheckTimeout=i??100)},destroy:function(){let e=this.element;e.off(t.events.click,".node-toggle"),e.off(t.events.click,"li > .caption"),e.off(t.events.dblclick,"li > .caption"),e.off(t.events.click,"input[type=radio]"),e.off(t.events.click,"input[type=checkbox]"),e.remove()}})})(Metro,Dom),((t,o)=>{let p={required:i=>G.safeParse(G.required(),i).ok,length:(i,l)=>G.safeParse(G.length(+l),i).ok,minlength:(i,l)=>G.safeParse(G.minLength(+l),i).ok,maxlength:(i,l)=>G.safeParse(G.maxLength(+l),i).ok,min:(i,l)=>G.safeParse(G.minValue(+l),+i).ok,max:(i,l)=>G.safeParse(G.maxValue(+l),+i).ok,email:i=>G.safeParse(G.email(),i).ok,domain:i=>G.safeParse(G.domain(),i).ok,url:i=>G.safeParse(G.url(),i).ok,date:(i,l,h)=>{try{return l?Datetime.from(i,l,h):datetime(i),!0}catch{return!1}},number:i=>G.safeParse(G.number(),+i).ok,integer:i=>G.safeParse(G.integer(),+i).ok,safeInteger:i=>G.safeParse(G.safeInteger(),+i).ok,float:i=>G.safeParse(G.float(),+i).ok,digits:i=>G.safeParse(G.digits(),i).ok,hexcolor:i=>G.safeParse(G.hexColor(),i).ok,color:i=>t.utils.isValue(i)?Farbe.Palette.color(i,Farbe.StandardColors)||Farbe.Routines.isColor(i):!1,pattern:(i,l)=>G.safeParse(G.pattern(l),i).ok,compare:(i,l)=>i==l,not:(i,l)=>i!=l,notequals:(i,l)=>i!==l,equals:(i,l)=>i===l,custom:(i,l)=>t.utils.isFunc(l)===!1?!1:t.utils.exec(l,[i]),is_control:i=>i.attr("data-role"),reset_state:i=>{let l=o(i);p.is_control(l)?l.parent().removeClass("invalid valid"):l.removeClass("invalid valid")},set_valid_state:i=>{let l=o(i);p.is_control(l)?l.parent().addClass("valid"):l.addClass("valid")},set_invalid_state:i=>{let l=o(i);p.is_control(l)?l.parent().addClass("invalid"):l.addClass("invalid")},reset:function(i){let l=this;return o.each(o(i).find("[data-validate]"),function(){l.reset_state(this)}),this},validate:function(i,l,h,v,x){let w=!0,D=o(i),M=D.data("validate")!==void 0?String(D.data("validate")).split(" ").map(ie=>ie.trim()):[],I=[],B=D.closest("form").length>0,Y,X;return M.length===0?!0:(this.reset_state(D),D.attr("type")&&D.attr("type").toLowerCase()==="checkbox"?(M.indexOf("required")===-1?w=!0:w=D.is(":checked"),w===!1&&I.push("required"),l!==void 0&&(l.val+=w?0:1)):D.attr("type")&&D.attr("type").toLowerCase()==="radio"?(Y=D.attr("name"),typeof Y>"u"?w=!0:(X=o(`input[name=${Y.replace("[","\\[").replace("]","\\]")}]:checked`),w=X.length>0),l!==void 0&&(l.val+=w?0:1)):o.each(M,function(){if(w===!1)return;let ie=this.split("="),Fe,Ve,He;Fe=ie[0],ie.shift(),Ve=ie.join("="),["compare","not","equals","notequals"].indexOf(Fe)>-1&&(Ve=B?D[0].form.elements[Ve].value:o(`[name=${Ve}]`).val()),Fe==="date"&&(Ve=D.attr("data-value-format"),He=D.attr("data-value-locale")),t.utils.isFunc(p[Fe])===!1?w=!0:x===!0||Fe==="required"||D.val().trim()!==""?w=p[Fe](D.val(),Ve,He):w=!0,w===!1&&I.push(Fe),l!==void 0&&(l.val+=w?0:1)}),w===!1?(this.set_invalid_state(D),l!==void 0&&l.log.push({input:D[0],name:D.attr("name"),value:D.val(),funcs:M,errors:I}),v!==void 0&&t.utils.exec(v,[D,D.val()],D[0])):(this.set_valid_state(D),h!==void 0&&t.utils.exec(h,[D,D.val()],D[0])),w)}};t.validator=p;let e={validatorDeferred:0,submitTimeout:200,interactiveCheck:!1,clearInvalid:0,requiredMode:!0,useRequiredClass:!0,onBeforeSubmit:t.noop_true,onSubmit:t.noop,onError:t.noop,onValidate:t.noop,onErrorForm:t.noop,onValidateForm:t.noop,onValidatorCreate:t.noop};t.validatorSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroValidatorSetup<"u"&&t.validatorSetup(globalThis.metroValidatorSetup),t.Component("validator",{init:function(i,l){return this._super(l,i,e,{_onsubmit:null,_onreset:null,result:[]}),this},_create:function(){let i=this.element,l=this.options,h=i.find("[data-validate]");i.attr("novalidate","novalidate"),o.each(h,function(){let v=o(this);v.data("validate").indexOf("required")>-1&&l.useRequiredClass===!0&&(p.is_control(v)?v.parent().addClass("required"):v.addClass("required")),l.interactiveCheck===!0&&v.on(t.events.inputchange,function(){p.validate(this,void 0,void 0,void 0,l.requiredMode)})}),this._onsubmit=null,this._onreset=null,i[0].onsubmit!==null&&(this._onsubmit=i[0].onsubmit,i[0].onsubmit=null),i[0].onreset!==null&&(this._onreset=i[0].onreset,i[0].onreset=null),i[0].onsubmit=()=>this._submit(),i[0].onreset=()=>this._reset(),this._fireEvent("validator-create",{element:i})},_reset:function(){p.reset(this.element),this._onreset!==null&&t.utils.exec(this._onreset,null,this.element[0])},_submit:function(){let i=this.element,l=this.options,h=this.elem,v=i.find("[data-validate]"),x=i.find("input[type=submit], button[type=submit]"),w={val:0,log:[]},D=o.serializeToArray(i);return x.length>0&&x.attr("disabled","disabled").addClass("disabled"),o.each(v,function(){p.validate(this,w,l.onValidate,l.onError,l.requiredMode)}),x.removeAttr("disabled").removeClass("disabled"),w.val+=t.utils.exec(l.onBeforeSubmit,[D],this.elem)===!1?1:0,w.val===0?(this._fireEvent("validate-form",{data:D}),setTimeout(()=>{t.utils.exec(l.onSubmit,[D],h),i.fire("formsubmit",{data:D}),this._onsubmit!==null&&t.utils.exec(this._onsubmit,null,h)},l.submitTimeout)):(this._fireEvent("error-form",{log:w.log,data:D}),l.clearInvalid>0&&setTimeout(()=>{o.each(v,function(){let M=o(this);p.is_control(M)?M.parent().removeClass("invalid"):M.removeClass("invalid")})},l.clearInvalid)),w.val===0},changeAttribute:()=>{}})})(Metro,Dom),((t,o)=>{let p={duration:4e3,animationDuration:null,transitionDuration:null,transition:"fade",animation:null,slides:[],shuffle:!1,align:"center",valign:"center",loop:!0,autoplay:!0,mute:!0,cover:!0,preload:!0,timer:!0,overlay:2,color:null,volume:1,onPlay:t.noop,onPause:t.noop,onEnd:t.noop,onWalk:t.noop,onNext:t.noop,onPrev:t.noop,onJump:t.noop,onVegasCreate:t.noop};t.vegasSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroVegasSetup<"u"&&t.vegasSetup(globalThis.metroVegasSetup),t.Component("vegas",{videoCache:{},init:function(e,i){return this.transitions=["fade","fade2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsUp","kenburnsDown","kenburnsRight","kenburnsLeft","kenburnsUpLeft","kenburnsUpRight","kenburnsDownLeft","kenburnsDownRight"],this.support={objectFit:"objectFit"in document.body.style,video:!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)},this._super(i,e,p,{slide:0,slides:null,total:0,noshow:!1,paused:!1,ended:!1,timer:null,overlay:null,first:!0,timeout:!1}),this},_create:function(){let e=this.element,i=this.options;this.slides=t.utils.isObject(i.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!i.autoplay||this.noshow,i.shuffle&&this.slides.shuffle(),i.preload&&this._preload(),this._createStructure(),this._createEvents(),this._fireEvent("vegas-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,l=e[0].tagName==="BODY",h;l||(e.css("height",e.css("height")),h=o('<div class="vegas-wrapper">').css("overflow",e.css("overflow")).css("padding",e.css("padding")),e.css("padding")||h.css("padding-top",e.css("padding-top")).css("padding-bottom",e.css("padding-bottom")).css("padding-left",e.css("padding-left")).css("padding-right",e.css("padding-right")),e.children().appendTo(h),e.clear()),e.addClass("vegas-container"),l||e.append(h),i.timer&&(this.timer=o('<div class="vegas-timer"><div class="vegas-timer-progress">'),e.append(this.timer)),i.overlay&&(this.overlay=o('<div class="vegas-overlay">').addClass(`overlay${typeof i.overlay=="boolean"||Number.isNaN(i.overlay)?2:+i.overlay}`),e.append(this.overlay)),setTimeout(()=>{t.utils.exec(i.onPlay,null,e[0]),this._goto(this.slide)},1)},_createEvents:()=>{},_preload:function(){let e,i;for(i=0;i<this.slides.length;i++){let l=this.slides[i];l.src&&(e=new Image,e.src=this.slides[i].src),l.video&&(Array.isArray(l.video)?this._video(l.video):this._video(l.video.src))}},_slideShow:function(){let e=this.options;this.total>1&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(()=>{this.next()},e.duration))},_timer:function(e){let i=this.options;clearTimeout(this.timeout),this.timer&&(this.timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),!(this.ended||this.paused||this.noshow)&&e&&setTimeout(()=>{this.timer.addClass("vegas-timer-running").find("div").css("transition-duration",`${+i.duration-100}ms`)},100))},_fadeSoundIn:function(e,i){let l=this.options;o.animate({el:e,draw:{volume:+l.volume},dur:i})},_fadeSoundOut:(e,i)=>{o.animate({el:e,draw:{volume:0},dur:i})},_video:function(e){let i,l=e.toString(),h=Array.isArray(e)?e:[e];if(this.videoCache[l])return this.videoCache[l];let v=document.createElement("video");v.preload=!0;for(let x of h)i=document.createElement("source"),i.src=x,v.appendChild(i);return this.videoCache[l]=v,v},_goto:function(e){let i=this,l=this.element,h=this.options,v=e;typeof this.slides[v]>"u"&&(v=0),this.slide=v;let x,w,D,M,I,B=l.children(".vegas-slide"),Y=this.slides[e],X=h.cover,ie,Fe,Ve,He;this.first&&(this.first=!1),X!=="repeat"&&(X===!0?X="cover":X===!1&&(X="contain")),h.transition==="random"?ie=o.random(this.transitions):ie=h.transition?h.transition:this.transitions[0],h.animation==="random"?Fe=o.random(this.animations):Fe=h.animation?h.animation:this.animations[0],h.transitionDuration?h.transitionDuration==="auto"||+h.transitionDuration>+h.duration?Ve=+h.duration:Ve=+h.transitionDuration:Ve=+h.duration,h.animationDuration?h.animationDuration==="auto"||+h.animationDuration>+h.duration?He=+h.duration:He=+h.animationDuration:He=+h.duration,x=o("<div>").addClass("vegas-slide").addClass(`vegas-transition-${ie}`),this.support.video&&Y.video?(D=Array.isArray(Y.video)?this._video(Y.video):this._video(Y.video.src),D.loop=Y.video.loop?Y.video.loop:h.loop,D.muted=Y.video.mute?Y.video.mute:h.mute,D.muted?D.pause():this._fadeSoundIn(D,Ve),I=o(D).addClass("vegas-video").css("background-color",h.color||"#000000"),this.support.objectFit?I.css("object-position",`${h.align} ${h.valign}`).css("object-fit",X).css("width","100%").css("height","100%"):X==="contain"&&I.css("width","100%").css("height","100%"),x.append(I)):(M=new Image,w=o("<div>").addClass("vegas-slide-inner").css({backgroundImage:`url("${Y.src}")`,backgroundColor:h.color||"#000000",backgroundPosition:`${h.align} ${h.valign}`}),X==="repeat"?w.css("background-repeat","repeat"):w.css("background-size",X),Fe&&w.addClass(`vegas-animation-${Fe}`).css("animation-duration",`${He}ms`),x.append(w)),B.length?B.eq(B.length-1).after(x):l.prepend(x),B.css("transition","all 0ms").each(function(){this.className="vegas-slide",this.tagName==="VIDEO"&&(this.className+=" vegas-video"),ie&&(this.className+=` vegas-transition-${ie}`,this.className+=` vegas-transition-${ie}-in`)}),this._timer(!1);function ze(){i._timer(!0),setTimeout(()=>{B.css("transition",`all ${Ve}ms`).addClass(`vegas-transition-${ie}-out`),B.each(()=>{let De=B.find("video").get(0);De&&(De.volume=1,i._fadeSoundOut(De,Ve))}),x.css("transition",`all ${Ve}ms`).addClass(`vegas-transition-${ie}-in`);for(let De=0;De<B.length-1;De++)B.eq(De).remove();i._fireEvent("walk",{slide:i.current(!0)}),i._slideShow()},100)}D?(D.readyState===4&&(D.currentTime=0),D.play(),ze()):(M.src=Y.src,M.complete?ze():M.onload=ze)},_end:function(){this.ended=this.options.autoplay,this._timer(!1),this._fireEvent("end",{slide:this.current(!0)})},play:function(){this.paused&&(this._fireEvent("play",{slide:this.current(!0)}),this.paused=!1,this.next())},pause:function(){this._timer(!1),this.paused=!0,this._fireEvent("pause",{slide:this.current(!0)})},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(e){return e?{slide:this.slide,data:this.slides[this.slide]}:this.slide},jump:function(e){if(e<=0||e>this.slides.length||e===this.slide+1)return this;this.slide=e-1,this._fireEvent("jump",{slide:this.current(!0)}),this._goto(this.slide)},next:function(){let e=this.options;if(this.slide++,this.slide>=this.slides.length){if(!e.loop)return this._end();this.slide=0}this._fireEvent("next",{slide:this.current(!0)}),this._goto(this.slide)},prev:function(){let e=this.options;if(this.slide--,this.slide<0){if(!e.loop)return this.slide++,this._end();this.slide=this.slides.length-1}this._fireEvent("prev",{slide:this.current(!0)}),this._goto(this.slide)},changeAttribute:function(e){let i=this.element,l=this.options,h=Str.camelCase(e.replace("data-",""));h==="slides"?(l.slides=i.attr("data-slides"),this.slides=t.utils.isObject(l.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!this.options.autoplay||this.noshow):typeof p[h]<"u"&&(l[h]=JSON.parse(i.attr(e)))},destroy:function(){let e=this.element,i=this.options;clearTimeout(this.timeout),e.removeClass("vegas-container"),e.find("> .vegas-slide").remove(),e.find("> .vegas-wrapper").children().appendTo(e),e.find("> .vegas-wrapper").remove(),i.timer&&this.timer.remove(),i.overlay&&this.overlay.remove(),e.remove()}})})(Metro,Dom),((t,o)=>{let p={videoDeferred:0,src:null,poster:"",logo:"",logoHeight:32,logoWidth:"auto",logoTarget:"",volume:.5,loop:!1,autoplay:!1,fullScreenMode:t.fullScreenMode.DESKTOP,aspectRatio:t.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:"🔁",stopIcon:"⏹",playIcon:"▶",pauseIcon:"⏸",muteIcon:"🔇",volumeLowIcon:"🔈",volumeMediumIcon:"🔉",volumeHighIcon:"🔊",screenMoreIcon:"⬜",screenLessIcon:"⬚",onPlay:t.noop,onPause:t.noop,onStop:t.noop,onEnd:t.noop,onMetadata:t.noop,onTime:t.noop,onVideoPlayerCreate:t.noop};t.videoPlayerSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroVideoPlayerSetup<"u"&&t.videoPlayerSetup(globalThis.metroVideoPlayerSetup),t.Component("video-player",{init:function(e,i){return this._super(i,e,p,{fullscreen:!1,preloader:null,player:null,video:i,stream:null,volume:null,volumeBackup:0,muted:!1,fullScreenInterval:!1,isPlaying:!1,id:t.utils.elementId("video-player")}),this},_create:function(){let e=this.element,i=this.options;t.fullScreenEnabled===!1&&(i.fullScreenMode=t.fullScreenMode.WINDOW),this._createPlayer(),this._createControls(),this._createEvents(),this._setAspectRatio(),i.autoplay===!0&&this.play(),this._fireEvent("video-player-create",{element:e,player:this.player})},_createPlayer:function(){let e=this.element,i=this.options,l=this.video,h=o("<div>").addClass(`media-player video-player ${e[0].className}`),v=o("<div>").addClass("preloader").appendTo(h),x=o("<a>").attr("href",i.logoTarget).addClass("logo").appendTo(h);h.insertBefore(e),e.appendTo(h),o.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){e.removeAttr(this)}),e.attr("preload","auto"),i.poster!==""&&e.attr("poster",i.poster),l.volume=i.volume,v.activity({type:"cycle",style:"color"}),v.hide(),this.preloader=v,i.logo!==""&&o("<img>").css({height:i.logoHeight,width:i.logoWidth}).attr("src",i.logo).appendTo(x),i.src!==null&&this._setSource(i.src),e[0].className="",this.player=h},_setSource:function(e){let i=this.element;i.find("source").remove(),i.removeAttr("src"),Array.isArray(e)?o.each(e,function(){this.src!==void 0&&o("<source>").attr("src",this.src).attr("type",this.type!==void 0?this.type:"").appendTo(i)}):i.attr("src",e)},_createControls:function(){let e=this.element,i=this.options,l=this.elem,h=o("<div>").addClass("controls").addClass(i.clsControls).insertAfter(e),v=o("<div>").addClass("stream").appendTo(h),x=o("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(v),w=o("<div>").addClass("volume").appendTo(h),D=o("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(w),M=o("<div>").addClass("info-box").appendTo(h);i.showInfo!==!0&&M.hide(),t.makePlugin(x,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:()=>{l.paused||l.pause()},onStop:B=>{l.seekable.length>0&&(l.currentTime=(this.duration*B/100).toFixed(0)),l.paused&&l.currentTime>0&&l.play()}}),this.stream=x,i.showStream!==!0&&v.hide(),t.makePlugin(D,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:i.volume*100,onChangeValue:B=>{l.volume=B/100}}),this.volume=D,i.showVolume!==!0&&w.hide();let I;i.showLoop===!0&&(I=o("<button>").attr("type","button").addClass("button square loop").html(i.loopIcon).appendTo(h)),i.showPlay===!0&&o("<button>").attr("type","button").addClass("button square play").html(i.playIcon).appendTo(h),i.showStop===!0&&o("<button>").attr("type","button").addClass("button square stop").html(i.stopIcon).appendTo(h),i.showMute===!0&&o("<button>").attr("type","button").addClass("button square mute").html(i.muteIcon).appendTo(h),i.showFull===!0&&o("<button>").attr("type","button").addClass("button square full").html(i.screenMoreIcon).appendTo(h),i.loop===!0&&(I.addClass("active"),e.attr("loop","loop")),this._setVolume(),i.muted&&(this.volumeBackup=l.volume,t.getPlugin(this.volume,"slider").val(0),l.volume=0),M.html("00:00 / 00:00")},_createEvents:function(){let e=this.element,i=this.options,l=this.elem,h=this.player;e.on("loadstart",()=>{this.preloader.show()}),e.on("loadedmetadata",()=>{this.duration=l.duration.toFixed(0),this._setInfo(0,this.duration),t.utils.exec(i.onMetadata,[l,h],e[0])}),e.on("canplay",()=>{this._setBuffer(),this.preloader.hide()}),e.on("progress",()=>{this._setBuffer()}),e.on("timeupdate",()=>{let v=Math.round(l.currentTime*100/this.duration);this._setInfo(l.currentTime,this.duration),t.getPlugin(this.stream,"slider").val(v),t.utils.exec(i.onTime,[l.currentTime,this.duration,l,h],e[0])}),e.on("waiting",()=>{this.preloader.show()}),e.on("loadeddata",()=>{}),e.on("play",()=>{h.find(".play").html(i.pauseIcon),t.utils.exec(i.onPlay,[l,h],e[0]),this._onMouse()}),e.on("pause",()=>{h.find(".play").html(i.playIcon),t.utils.exec(i.onPause,[l,h],e[0]),this._offMouse()}),e.on("stop",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onStop,[l,h],e[0]),this._offMouse()}),e.on("ended",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onEnd,[l,h],e[0]),this._offMouse()}),e.on("volumechange",()=>{this._setVolume()}),h.on(t.events.click,".play",()=>{l.paused?this.play():this.pause()}),h.on(t.events.click,".stop",()=>{this.stop()}),h.on(t.events.click,".mute",()=>{this._toggleMute()}),h.on(t.events.click,".loop",()=>{this._toggleLoop()}),h.on(t.events.click,".full",()=>{this.fullscreen=!this.fullscreen,h.find(".full").html(this.fullscreen===!0?i.screenLessIcon:i.screenMoreIcon),i.fullScreenMode===t.fullScreenMode.WINDOW?this.fullscreen===!0?h.addClass("full-screen"):h.removeClass("full-screen"):this.fullscreen===!0?(t.requestFullScreen(l),this.fullScreenInterval===!1&&(this.fullScreenInterval=setInterval(()=>{t.inFullScreen()===!1&&(this.fullscreen=!1,clearInterval(this.fullScreenInterval),this.fullScreenInterval=!1,h.find(".full").html(i.screenMoreIcon))},1e3))):t.exitFullScreen()}),o(globalThis).on(t.events.keyup,v=>{this.fullscreen&&v.keyCode===27&&h.find(".full").click()},{ns:this.id}),o(globalThis).on(t.events.resize,()=>{this._setAspectRatio()},{ns:this.id})},_onMouse:function(){let e=this.options,i=this.player;i.on(t.events.enter,()=>{let l=i.find(".controls");e.controlsHide>0&&l.style("display")==="none"&&l.stop(!0).fadeIn(500,()=>{l.css("display","flex")})}),i.on(t.events.leave,()=>{let l=i.find(".controls");e.controlsHide>0&&Number.parseInt(l.style("opacity"))===1&&setTimeout(()=>{l.stop(!0).fadeOut(500)},e.controlsHide)})},_offMouse:function(){let e=this.player,i=this.options,l=e.find(".controls");e.off(t.events.enter),e.off(t.events.leave),i.controlsHide>0&&l.style("display")==="none"&&l.stop(!0).fadeIn(500,()=>{l.css("display","flex")})},_toggleLoop:function(){let e=this.player.find(".loop");e.length!==0&&(e.toggleClass("active"),e.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.video.volume=this.volumeBackup:(this.volumeBackup=this.video.volume,this.video.volume=0),t.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(e,i){this.player.find(".info-box").html(`${t.utils.secondsToFormattedString(Math.round(e))} / ${t.utils.secondsToFormattedString(Math.round(i))}`)},_setBuffer:function(){let e=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;t.getPlugin(this.stream,"slider").buff(e)},_setVolume:function(){let e=this.video,i=this.player,l=this.options,h=i.find(".mute"),v=e.volume*100;v>1&&v<30?h.html(l.volumeLowIcon):v>=30&&v<60?h.html(l.volumeMediumIcon):v>=60&&v<=100?h.html(l.volumeHighIcon):h.html(l.muteIcon)},_setAspectRatio:function(){let e=this.player,i=this.options,l=e.outerWidth(),h;switch(i.aspectRatio){case t.aspectRatio.SD:h=t.utils.aspectRatioH(l,"4/3");break;case t.aspectRatio.CINEMA:h=t.utils.aspectRatioH(l,"21/9");break;default:h=t.utils.aspectRatioH(l,"16/9")}e.outerHeight(h)},aspectRatio:function(e){this.options.aspectRatio=e,this._setAspectRatio()},play:function(e){e&&this._setSource(e),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&(this.isPlaying=!0,this.video.play())},pause:function(){this.isPlaying=!1,this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,t.getPlugin(this.stream,"slider").val(0),this._offMouse()},setVolume:function(e){if(typeof e>"u")return this.video.volume;let i=Number.parseFloat(e);i>1&&(i/=100),this.video.volume=i,t.getPlugin(this.volume[0],"slider").val(e*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr("data-aspect-ratio"),this._setAspectRatio()},changeSource:function(){let e=JSON.parse(this.element.attr("data-src"));this.play(e)},changeVolume:function(){let e=this.element.attr("data-volume");this.setVolume(e)},changeAttribute:function(e){switch(e){case"data-aspect-ratio":this.changeAspectRatio();break;case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){let e=this.element,i=this.player;return t.getPlugin(this.stream,"slider").destroy(),t.getPlugin(this.volume,"slider").destroy(),e.off("loadstart"),e.off("loadedmetadata"),e.off("canplay"),e.off("progress"),e.off("timeupdate"),e.off("waiting"),e.off("loadeddata"),e.off("play"),e.off("pause"),e.off("stop"),e.off("ended"),e.off("volumechange"),i.off(t.events.click,".play"),i.off(t.events.click,".stop"),i.off(t.events.click,".mute"),i.off(t.events.click,".loop"),i.off(t.events.click,".full"),o(globalThis).off(t.events.keyup,{ns:this.id}),o(globalThis).off(t.events.resize,{ns:this.id}),e}})})(Metro,Dom),((t,o)=>{let p={onViewport:t.noop,onViewportEnter:t.noop,onViewportLeave:t.noop,onViewportCheckCreate:t.noop};t.viewportCheckSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroViewportCheckSetup<"u"&&t.viewportCheckSetup(globalThis.metroViewportCheckSetup),t.Component("viewport-check",{init:function(e,i){return this._super(i,e,p,{inViewport:!1,id:t.utils.elementId("viewport-check")}),this},_create:function(){this.inViewport=t.utils.inViewport(this.elem),this._createEvents(),this._fireEvent("viewport-check-create")},_createEvents:function(){let e=this.elem;o(globalThis).on(t.events.scroll,()=>{let i=this.inViewport;this.inViewport=t.utils.inViewport(e),i!==this.inViewport&&(this.inViewport?this._fireEvent("viewport-enter"):this._fireEvent("viewport-leave")),this._fireEvent("viewport",{state:this.inViewport})},{ns:this.id})},state:function(){return this.inViewport},destroy:function(){return o(globalThis).off(t.events.scroll,{ns:this.id}),this.element}})})(Metro,Dom),((t,o)=>{let p={_runtime:!1,windowDeferred:0,hidden:!1,width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,draggable:!0,dragElement:".window-caption .title",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:null,resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",closeAction:t.actions.HIDE,customButtons:null,status:"",canClose:!0,canMaximize:!0,canMinimize:!0,clsCustomButton:"",clsCaption:"",clsContent:"",clsWindow:"",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,onDragStart:t.noop,onDragStop:t.noop,onDragMove:t.noop,onWindowClick:t.noop,onCaptionClick:t.noop,onCaptionDblClick:t.noop,onCloseClick:t.noop,onMaxClick:t.noop,onMinClick:t.noop,onResizeStart:t.noop,onResizeStop:t.noop,onResize:t.noop,onWindowCreate:t.noop,onShow:t.noop,onWindowDestroy:t.noop,onCanClose:t.noop_true,onMinimize:t.noop,onMaximize:t.noop,onClose:t.noop};t.windowSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroWindowSetup<"u"&&t.windowSetup(globalThis.metroWindowSetup),t.Component("window",{init:function(e,i){return this._super(i,e,p,{win:null,overlay:null,position:{top:0,left:0},hidden:!1,content:null}),this},_create:function(){let e=this.element,i=this.options,l,h,v=i.dragArea==="parent"?e.parent():o(i.dragArea),x;i.modal===!0&&(i.btnMax=!1,i.btnMin=!1,i.resizable=!1),t.utils.isNull(i.content)||(t.utils.isUrl(i.content)&&t.utils.isVideoUrl(i.content)?(i.content=t.utils.embedUrl(i.content),e.css({height:"100%"})):!t.utils.isQ(i.content)&&t.utils.isFunc(i.content)&&(i.content=t.utils.exec(i.content)),x=o(i.content),x.length===0?e.appendText(i.content):e.append(x)),i.content=e,i._runtime===!0&&this._runtime(e,"window"),l=this._window(i),l.addClass("no-visible"),v.append(l),i.overlay===!0&&(h=this._overlay(),h.appendTo(l.parent()),this.overlay=h),this.win=l,this._fireEvent("window-create",{win:this.win[0],element:e}),setTimeout(()=>{this._setPosition(),i.hidden!==!0&&this.win.removeClass("no-visible"),this._fireEvent("show",{win:this.win[0],element:e})},100)},_setPosition:function(){let e=this.options,i=this.win,l=e.dragArea==="parent"?i.parent():o(e.dragArea),h=l.height()/2-i[0].offsetHeight/2,v=l.width()/2-i[0].offsetWidth/2,x,w,D,M;if(e.place!=="auto"){switch(e.place.toLowerCase()){case"top-left":x=0,w=0,D="auto",M="auto";break;case"top-center":x=0,w=v,D="auto",M="auto";break;case"top-right":x=0,D=0,w="auto",M="auto";break;case"right-center":x=h,D=0,w="auto",M="auto";break;case"bottom-right":M=0,D=0,w="auto",x="auto";break;case"bottom-center":M=0,w=v,D="auto",x="auto";break;case"bottom-left":M=0,w=0,D="auto",x="auto";break;case"left-center":x=h,w=0,D="auto",M="auto";break;default:x=h,w=v,M="auto",D="auto"}i.css({top:x,left:w,bottom:M,right:D})}},_window:function(e){let i,l,h,v,x,w,D,M,I,B,Y=e.width,X=e.height;if(i=o("<div>").addClass("window"),e.modal===!0&&i.addClass("modal"),l=o("<div>").addClass("window-caption"),h=o("<div>").addClass("window-content"),i.append(l),i.append(h),(e.status||e.resizable)&&(B=o("<div>").addClass("window-status").html(e.status),i.append(B)),e.shadow===!0&&i.addClass("shadowed"),t.utils.isValue(e.icon)&&(v=o("<span>").addClass("icon").html(e.icon),v.appendTo(l)),o("<span>").addClass("title").html(t.utils.isValue(e.title)?e.title:"&nbsp;").appendTo(l),t.utils.isNull(e.content)||(t.utils.isQ(e.content)?e.content.appendTo(h):h.html(e.content)),x=o("<div>").addClass("buttons"),x.appendTo(l),e.btnMax===!0&&(M=o("<span>").addClass("button small square btn-max sys-button"),M.appendTo(x)),e.btnMin===!0&&(D=o("<span>").addClass("button small square btn-min sys-button"),D.appendTo(x)),e.btnClose===!0&&(w=o("<span>").addClass("button small square btn-close sys-button"),w.appendTo(x)),e.customButtons){let ie=t.utils.isObject(e.customButtons);ie&&o.each(ie,function(){let Fe=o("<span>");Fe.addClass("button btn-custom").addClass(e.clsCustomButton).addClass(this.cls).attr("tabindex",-1).html(this.html),this.attr&&typeof this.attr=="object"&&o.each(this.attr,(Ve,He)=>{Fe.attr(Str.dashedName(Ve),He)}),Fe.data("action",this.onclick),x.prepend(Fe)})}return l.on(t.events.click,".btn-custom",function(ie){if(t.utils.isRightMouse(ie))return;let Fe=o(this),Ve=Fe.data("action");t.utils.exec(Ve,[Fe],this)}),i.attr("id",e.id===void 0?t.utils.elementId("window"):e.id),i.on(t.events.startAll,".window-caption",ie=>{this._fireEvent("caption-click",{win:i[0],e:ie})}),i.on(t.events.dblclick,".window-caption",ie=>{this.maximize(ie)}),l.on(t.events.click,".btn-max, .btn-min, .btn-close",ie=>{if(t.utils.isRightMouse(ie))return;let Fe=o(ie.target);Fe.hasClass("btn-max")&&e.canMaximize&&this.maximize(ie),Fe.hasClass("btn-min")&&e.canMinimize&&this.minimize(ie),Fe.hasClass("btn-close")&&e.canClose&&this.close(ie)}),i.on(t.events.click,ie=>{this._fireEvent("window-click",{win:i[0],e:ie})}),e.draggable===!0&&t.makePlugin(i,"draggable",{dragContext:i[0],dragElement:l,dragArea:e.dragArea,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onDragMove:e.onDragMove}),i.addClass(e.clsWindow),l.addClass(e.clsCaption),h.addClass(e.clsContent),e.minWidth===0&&(e.minWidth=34,o.each(x.children(".btn-custom"),function(){e.minWidth+=t.utils.hiddenElementSize(this).width}),e.btnMax&&(e.minWidth+=34),e.btnMin&&(e.minWidth+=34),e.btnClose&&(e.minWidth+=34)),e.minWidth>0&&!Number.isNaN(e.width)&&e.width<e.minWidth&&(Y=e.minWidth),e.minHeight>0&&!Number.isNaN(e.height)&&e.height>e.minHeight&&(X=e.minHeight),e.resizable&&(I=o("<span>").addClass("resize-element"),I.appendTo(i),i.addClass("resizable"),t.makePlugin(i,"resizable",{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,resizeElement:".resize-element",onResizeStart:e.onResizeStart,onResizeStop:e.onResizeStop,onResize:e.onResize})),i.css({width:Y,height:X,position:e.position,top:e.top,left:e.left}),i},_overlay:function(){let e=this.options,i=o("<div>");return i.addClass("overlay"),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(e.overlayColor),e.overlayAlpha)}),i},width:function(e){let i=this.win;return t.utils.isValue(e)?(i.css("width",Number.parseInt(e)),this):i.width()},height:function(e){let i=this.win;return t.utils.isValue(e)?(i.css("height",Number.parseInt(e)),this):i.height()},maximize:function(e){var v;let i=this.win,l=this.options,h=o(e.target);l.btnMax&&(i.removeClass("minimized"),i.toggleClass("maximized")),(v=h.hasClass)!=null&&v.call(h,"title")?this._fireEvent("caption-dbl-click",{win:i[0]}):this._fireEvent("max-click",{win:i[0]}),this._fireEvent("maximize",{win:i[0]})},minimize:function(){let e=this.win;this.options.btnMin&&(e.removeClass("maximized"),e.toggleClass("minimized")),this._fireEvent("min-click",{win:e[0]}),this._fireEvent("minimize",{win:e[0]})},close:function(){let e=this.win,i=this.options;if(t.utils.exec(i.onCanClose,[e])===!1)return!1;let l=0;i.onClose!==t.noop&&(l=500),this._fireEvent("close",{win:e[0]}),setTimeout(()=>{i.modal===!0&&e.siblings(".overlay").remove(),this._fireEvent("close-click",{win:e[0]}),i.closeAction===t.actions.REMOVE?(this._fireEvent("window-destroy",{win:e[0]}),e.remove()):this.hide()},l)},hide:function(){let e=this.win;e.css({display:"none"}),this._fireEvent("hide",{win:e[0]})},show:function(){let e=this.win;e.removeClass("no-visible").css({display:"flex"}),this._fireEvent("show",{win:e[0]})},toggle:function(){this.win.css("display")==="none"||this.win.hasClass("no-visible")?this.show():this.hide()},isOpen:function(){return this.win.hasClass("no-visible")},min:function(e){e?this.win.addClass("minimized"):this.win.removeClass("minimized")},max:function(e){e?this.win.addClass("maximized"):this.win.removeClass("maximized")},changeClass:function(e){let i=this.element,l=this.win,h=this.options;e==="data-cls-window"&&(l[0].className=`window ${h.resizable?" resizable ":" "}${i.attr("data-cls-window")}`),e==="data-cls-caption"&&(l.find(".window-caption")[0].className=`window-caption ${i.attr("data-cls-caption")}`),e==="data-cls-content"&&(l.find(".window-content")[0].className=`window-content ${i.attr("data-cls-content")}`)},toggleShadow:function(){let e=this.element,i=this.win;JSON.parse(e.attr("data-shadow"))===!0?i.addClass("win-shadow"):i.removeClass("win-shadow")},setContent:function(e){let i=this.element,l=this.win,h=t.utils.isValue(e)?e:i.attr("data-content"),v;!t.utils.isQ(h)&&t.utils.isFunc(h)?v=t.utils.exec(h):t.utils.isQ(h)?v=h.html():v=h,l.find(".window-content").html(v)},setTitle:function(e){let i=this.element,l=this.win,h=t.utils.isValue(e)?e:i.attr("data-title");l.find(".window-caption .title").html(h)},setIcon:function(e){let i=this.element,l=this.win,h=t.utils.isValue(e)?e:i.attr("data-icon");l.find(".window-caption .icon").html(h)},getIcon:function(){return this.win.find(".window-caption .icon").html()},getTitle:function(){return this.win.find(".window-caption .title").html()},toggleDraggable:function(e){let i=this.win,l=t.utils.bool(e),h=t.getPlugin(i,"draggable");l===!0?h.on():h.off()},toggleResizable:function(e){let i=this.win,l=t.utils.bool(e),h=t.getPlugin(i,"resizable");l===!0?(h.on(),i.find(".resize-element").removeClass("resize-element-disabled")):(h.off(),i.find(".resize-element").addClass("resize-element-disabled"))},changePlace:function(e){let i=this.element,l=this.win,h=t.utils.isValue(e)?e:i.attr("data-place");l.addClass(h)},pos:function(e,i){return this.win.css({top:e,left:i}),this},top:function(e){return this.win.css({top:e}),this},left:function(e){return this.win.css({left:e}),this},changeAttribute:function(e,i){let l=function(x,w){let D=this.win,M;if(x==="data-top"){if(M=Number.parseInt(w),!Number.isNaN(M))return;D.css("top",M)}if(x==="data-left"){if(M=Number.parseInt(w),!Number.isNaN(M))return;D.css("left",M)}},h=function(x,w){let D=this.win,M=D.find(".btn-close"),I=D.find(".btn-min"),B=D.find(".btn-max"),Y=t.utils.bool(w)?"show":"hide";switch(x){case"data-btn-close":M[Y]();break;case"data-btn-min":I[Y]();break;case"data-btn-max":B[Y]();break}},v=function(x,w){let D=this.win;x==="data-width"&&D.css("width",+w),x==="data-height"&&D.css("height",+w)};switch(e){case"data-btn-close":case"data-btn-min":case"data-btn-max":h(e,i);break;case"data-width":case"data-height":v(e,i);break;case"data-cls-window":case"data-cls-caption":case"data-cls-content":this.changeClass(e);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable(i);break;case"data-resizable":this.toggleResizable(i);break;case"data-top":case"data-left":l(e,i);break;case"data-place":this.changePlace();break}},destroy:function(){return this.element}}),t.window={isWindow:e=>t.utils.isMetroObject(e,"window"),min:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").min(i)},max:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").max(i)},show:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").show()},hide:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").hide()},toggle:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").toggle()},isOpen:function(e){return this.isWindow(e)?t.getPlugin(e,"window").isOpen():!1},close:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").close()},pos:function(e,i,l){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").pos(i,l)},top:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").top(i)},left:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").left(i)},width:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").width(i)},height:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").height(i)},create:(e,i)=>{let l=o("<div>").appendTo(o(i||"body")),h=o.extend({_runtime:!0},e||{});return t.makePlugin(l,"window",h),t.getPlugin(l,"window").win}}})(Metro,Dom),((t,o)=>{let p={wizardDeferred:0,start:1,finish:0,iconHelp:"💡",iconPrev:"←",iconNext:"→",iconFinish:"✔",buttonMode:"cycle",buttonOutline:!0,duration:300,clsWizard:"",clsActions:"",clsHelp:"",clsPrev:"",clsNext:"",clsFinish:"",onPage:t.noop,onNextPage:t.noop,onPrevPage:t.noop,onFirstPage:t.noop,onLastPage:t.noop,onFinishPage:t.noop,onHelpClick:t.noop,onPrevClick:t.noop,onNextClick:t.noop,onFinishClick:t.noop,onBeforePrev:t.noop_true,onBeforeNext:t.noop_true,onWizardCreate:t.noop};t.wizardSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroWizardSetup<"u"&&t.wizardSetup(globalThis.metroWizardSetup),t.Component("wizard",{init:function(e,i){return this._super(i,e,p,{id:t.utils.elementId("wizard")}),this},_create:function(){let e=this.element;this._createWizard(),this._createEvents(),this._fireEvent("wizard-create",{element:e})},_createWizard:function(){let e=this.element,i=this.options;e.addClass("wizard").addClass(i.view).addClass(i.clsWizard);let l=o("<div>").addClass("action-bar").addClass(i.clsActions).appendTo(e),h=i.buttonMode==="button"?"":i.buttonMode;i.buttonOutline===!0&&(h+=" outline"),i.iconHelp!==!1&&o("<button>").attr("type","button").addClass("button wizard-btn-help").addClass(h).addClass(i.clsHelp).html(i.iconHelp).appendTo(l),i.iconPrev!==!1&&o("<button>").attr("type","button").addClass("button wizard-btn-prev").addClass(h).addClass(i.clsPrev).html(i.iconPrev).appendTo(l),i.iconNext!==!1&&o("<button>").attr("type","button").addClass("button wizard-btn-next").addClass(h).addClass(i.clsNext).html(i.iconNext).appendTo(l),i.iconFinish!==!1&&o("<button>").attr("type","button").addClass("button wizard-btn-finish").addClass(h).addClass(i.clsFinish).html(i.iconFinish).appendTo(l),this.toPage(i.start),this._setHeight()},_setHeight:function(){let e=this.element,i=e.children("section"),l=0;i.children(".page-content").css("max-height","none"),o.each(i,function(){let h=o(this).height();l<Number.parseInt(h)&&(l=h)}),e.height(l)},_createEvents:function(){let e=this,i=this.element;i.on(t.events.click,".wizard-btn-help",()=>{let l=i.children("section").get(e.current-1);e._fireEvent("help-click",{index:e.current,page:l})}),i.on(t.events.click,".wizard-btn-prev",()=>{e.prev();let l=i.children("section").get(e.current-1);e._fireEvent("prev-click",{index:e.current,page:l})}),i.on(t.events.click,".wizard-btn-next",()=>{e.next();let l=i.children("section").get(e.current-1);e._fireEvent("next-click",{index:e.current,page:l})}),i.on(t.events.click,".wizard-btn-finish",()=>{let l=i.children("section").get(e.current-1);e._fireEvent("finish-click",{index:e.current,page:l})}),i.on(t.events.click,".complete",function(){let l=o(this).index()+1;e.toPage(l)}),o(globalThis).on(t.events.resize,()=>{e._setHeight()},{ns:this.id})},next:function(){let e=this.element,i=this.options,l=e.children("section"),h=o(e.children("section").get(this.current-1));this.current+1>l.length||t.utils.exec(i.onBeforeNext,[this.current,h,e])===!1||(this.current++,this.toPage(this.current),h=o(e.children("section").get(this.current-1)),this._fireEvent("next-page",{index:this.current,page:h[0]}))},prev:function(){let e=this.element,i=this.options,l=o(e.children("section").get(this.current-1));this.current-1===0||t.utils.exec(i.onBeforePrev,[this.current,l,e])===!1||(this.current--,this.toPage(this.current),l=o(e.children("section").get(this.current-1)),this._fireEvent("prev-page",{index:this.current,page:l[0]}))},last:function(){let e=this.element;this.toPage(e.children("section").length);let i=o(e.children("section").get(this.current-1));this._fireEvent("last-page",{index:this.current,page:i[0]})},first:function(){let e=this.element;this.toPage(1);let i=o(e.children("section").get(0));this._fireEvent("first-page",{index:this.current,page:i[0]})},toPage:function(e){let i=this.element,l=this.options,h=o(i.children("section").get(e-1)),v=i.children("section"),x=i.find(".action-bar");if(h.length===0)return;let w=i.find(".wizard-btn-finish").addClass("disabled"),D=i.find(".wizard-btn-next").addClass("disabled"),M=i.find(".wizard-btn-prev").addClass("disabled");this.current=e,i.children("section").removeClass("complete current").removeClass(l.clsCurrent).removeClass(l.clsComplete),h.addClass("current").addClass(l.clsCurrent),h.prevAll().addClass("complete").addClass(l.clsComplete);let I=i.children("section.complete").length===0?0:Number.parseInt(t.utils.getStyleOne(i.children("section.complete")[0],"border-left-width"));x.animate({draw:{left:i.children("section.complete").length*I+41},dur:l.duration}),(this.current===v.length||l.finish>0&&this.current>=l.finish)&&w.removeClass("disabled"),Number.parseInt(l.finish)>0&&this.current===Number.parseInt(l.finish)&&this._fireEvent("finish-page",{index:this.current,page:h[0]}),this.current<v.length&&D.removeClass("disabled"),this.current>1&&M.removeClass("disabled"),this._fireEvent("page",{index:this.current,page:h[0]})},changeAttribute:()=>{},destroy:function(){let e=this.element;e.off(t.events.click,".wizard-btn-help"),e.off(t.events.click,".wizard-btn-prev"),e.off(t.events.click,".wizard-btn-next"),e.off(t.events.click,".wizard-btn-finish"),e.off(t.events.click,".complete"),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let p={buttons:"next, prev, finish, cancel, help",startPage:1,height:300,labelNext:"",labelPrev:"",labelHelp:"",labelFinish:"",labelCancel:"",iconNext:"",iconPrev:"",iconHelp:"",iconFinish:"",iconCancel:"",clsWizard:"",clsPage:"",clsActions:"",clsActionHelp:"",clsActionPrev:"",clsActionNext:"",clsActionFinish:"",clsActionCancel:"",onBeforePage:t.noop_true,onPage:t.noop,onNext:t.noop,onPrev:t.noop,onFinish:t.noop,onCancel:t.noop,onHelp:t.noop,onMyObjectCreate:t.noop};t.wizardClassicSetup=e=>{p=o.extend({},p,e)},typeof window.metroWizardClassicSetup<"u"&&t.wizardClassicSetup(window.metroWizardClassicSetup),t.Component("wizard-classic",{init:function(e,i){return this._super(i,e,p,{currentPage:0}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("wizard-create")},_createStructure:function(){var v;let e=this.element,i=this.options;e.addClass(`wizard-classic ${i.clsWizard}`).css({height:i.height});let l=o("<div>").addClass("wizard-pages").appendTo(e),h=o("<div>").addClass("wizard-actions").appendTo(e);for(let x of i.buttons.toArray(",")){let w=o("<button>").addClass("wizard-action").attr("data-wizard-action",x).html(`${i[`icon${str(x).capitalize()}`]?i[`icon${str(x).capitalize()}`]:""} ${i[`label${str(x).capitalize()}`]||this.strings[`label_${x}`]}`).appendTo(h);x==="next"?w.addClass(`wizard-next ${i.clsActionNext}`):x==="prev"?w.addClass(`wizard-prev ${i.clsActionPrev}`):x==="finish"?w.addClass(`wizard-finish ${i.clsActionFinish}`):x==="cancel"?w.addClass(`wizard-cancel ${i.clsActionCancel}`):x==="help"&&w.addClass(`wizard-help ${i.clsActionHelp}`)}this.pages=e.find(".page").addClass(i.clsPage),this.pages.appendTo(l),this.pages[i.startPage-1]===void 0&&(i.startPage=0),this.currentPage=i.startPage-1,(v=this.pages[this.currentPage])==null||v.classList.add("active"),this._refreshButtons()},_createEvents:function(){let e=this.element,i=this.options;e.on("click",".wizard-action",l=>{let h=o(l.target).closest("button").attr("data-wizard-action");if(h==="next"){if(t.utils.exec(i.onBeforePage,[this.currentPage,this.pages[this.currentPage]])===!1)return!1;this.next(),this._fireEvent("next")}else if(h==="prev"){if(t.utils.exec(i.onBeforePage,[this.currentPage,this.pages[this.currentPage]])===!1)return!1;this.prev(),this._fireEvent("prev")}else h==="finish"?this._fireEvent("finish"):h==="cancel"?this._fireEvent("cancel"):h==="help"&&this._fireEvent("help")})},_refreshButtons:function(){let e=this.element;this.options;let i=this.pages,l=e.find(".wizard-action");l.each((h,v)=>{o(v).removeClass("disabled")}),this.currentPage===0&&l.filter(".wizard-prev").addClass("disabled"),this.currentPage===i.length-1&&(l.filter(".wizard-next").addClass("disabled"),l.filter(".wizard-finish").removeClass("disabled")),this.currentPage>=0&&this.currentPage<i.length-1&&l.filter(".wizard-finish").addClass("disabled"),this.currentPage>0&&l.filter(".wizard-prev").removeClass("disabled")},next:function(){let e=this.element;this.options;let i=e.find(".page");this.currentPage<i.length-1&&(o(i[this.currentPage]).addClass("out"),setTimeout(l=>{o(i[l]).removeClass("active")},300,this.currentPage),this.currentPage++,o(i[this.currentPage]).addClass("active")),this._refreshButtons()},prev:function(){let e=this.element;this.options;let i=e.find(".page");this.currentPage>0&&(o(i[this.currentPage]).removeClass("active"),this.currentPage--,o(i[this.currentPage]).removeClass("out").addClass("active")),this._refreshButtons()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p={onStateChange:t.noop,onWorkingTreeCreate:t.noop};t.workingTreeSetup=e=>{p=o.extend({},p,e)},typeof globalThis.metroWorkingTreeSetup<"u"&&t.workingTreeSetup(globalThis.metroWorkingTreeSetup),t.Component("working-tree",{init(e,i){return this._super(i,e,p,{}),this},_create(){this._createStructure(),this._createEvents(),this._fireEvent("tree-create")},addNode({id:e,title:i="",value:l="",items:h=[]}={}){let v=this.element,x=(e||Hooks.useId(`working-tree-node-${v.children().length}`)).replace(/:/gi,""),w=`
                <li id="${x}">
                    <div class="bull"></div>
                    <div class="node">
                        <div class="title">${i}</div>
                        <div class="value">${l}</div>
                    </div>
                    <ul class="leaves">
                        ${h.map(D=>`<li><div class="title">${D.title}</div><div class="value">${D.value}</div> </li>`).join(`
`)}                    
                    </ul>
                </li>
            `;return this.element.append(w),x},setState(e,i="pending"){let l=this.element.find(`#${e}`).clearClasses().addClass(`work-${i}`);return l.find(".bull").html(`<span data-role="bull" data-type="${i}"></span>`),this._fireEvent("state-change",{id:e,state:i,node:l}),this},_createStructure(){this.element.addClass("working-tree")},_createEvents(){},changeAttribute(e,i){},destroy(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let p="[data-role-dropmenu], [data-role-dropdown]",e='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',i={height:"auto",align:"left",onMenuCreate:t.noop};t.dropMenuSetup=l=>{i=o.extend({},i,l)},typeof globalThis.metroDropMenuSetup<"u"&&t.dropMenuSetup(globalThis.metroDropMenuSetup),t.Component("dropmenu",{init:function(l,h){return this._super(h,l,i,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("menu-create")},_toggle:function(){let l=this.element,h=l.siblings(".menu-toggle, .dropdown-toggle, a");if(h.length===0&&(h=l.prev(),h.length===0))throw new Error("Menu toggle not found");return h[0]},_createStructure:function(){let l=this.element,h=this.options;this.level=l.parents("[data-role-dropmenu]").length,this.toggle=o(this._toggle()).append(e),this.displayOrigin=l.css("display"),this.element.addClass("drop-menu").css("z-index",`calc(var(--z-index-fixed) + ${this.level})!important`).hide(),h.height!=="auto"&&l.css("max-height",h.height)},_createEvents:function(){let l=this.element;this.toggle.on("click",h=>{o(p).each((v,x)=>{let w=o(x),D=l.parents("[data-role-dropmenu]").is(x);if(x===l[0]||D||w.hasClass("keep-open")||w.hasClass("stay-open")||w.hasClass("ignore-document-click"))return;let M=t.getPlugin(x,"dropdown"),I=t.getPlugin(x,"dropmenu");M&&M.close(),I&&I.close()}),this.isOpen===!1?this.open():this.close(),h.preventDefault(),h.stopPropagation()})},close:function(){this.isOpen!==!1&&(this.toggle.removeClass("active-toggle"),this.element.hide(),this.isOpen=!1)},open:function(){let l=this.element,h=this.options,v=t.utils.rect(this.toggle[0]),x=l.parents("[data-role-dropmenu]").length;if(l.show().visible(!1),x===0){l.css({top:v.bottom,left:v.left});let w=t.utils.viewportOutByWidth(l[0]),D=t.utils.viewportOutByHeight(l[0]);(h.align==="right"||w)&&(l.css({left:v.right-l.width()}),h.align!=="right"&&t.utils.viewportOutByWidth(l[0])&&l.css({left:v.left})),D&&(l.css({top:v.top-l.height()}),t.utils.viewportOutByHeight(l[0])&&l.css({top:v.bottom}))}else{l.css({top:v.top,left:v.right});let w=t.utils.viewportOutByWidth(l[0]);(h.align==="right"||w)&&(l.css({left:v.left-l.width()}),h.align!=="right"&&t.utils.viewportOutByWidth(l[0])&&l.css({left:v.right}))}this.toggle.addClass("active-toggle"),this.isOpen=!0,l.visible(!0)},changeAttribute:(l,h)=>{},destroy:function(){this.element.remove()}}),o(document).on("click",()=>{o(p).each((l,h)=>{let v=o(h);if(v.hasClass("keep-open")||v.hasClass("stay-open")||v.hasClass("ignore-document-click"))return;let x=t.getPlugin(h,"dropdown"),w=t.getPlugin(h,"dropmenu");x&&x.close(),w&&w.close()})})})(Metro,Dom)})();//!node.hasClass("expanded");
/*! Bundled license information:

	@olton/datetime/dist/datetime.js:
	  (*!
	   * Datetime v3.2.3.
	   * Build time: 02.05.2025, 13:28:35
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *
	   * Build time: 02.05.2025 13:28:35
	   *)

	@olton/string/dist/string.js:
	  (*!
	   * String v0.10.1 (@olton/string)
	   * Copyright 2025 by Serhii Pimenov
	   * Built: 02.05.2025, 18:43:00
	   * Licensed under MIT
	   *)

	@olton/dom/dist/dom.js:
	  (*!
	   * DOM - Work with HTML elements (@olton/dom, https://metroui.org.ua)
	   * Version: 1.4.1
	   * Build date: 02.05.2025, 12:55:14
	   * Copyright 2012-2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/hooks/dist/hooks.js:
	  (*!
	   * Hooks v0.13.0 (@olton/hooks)
	   * Copyright 2025 by Serhii Pimenov <serhii@pimenov.com.ua>
	   * Built: 07.03.2025, 15:05:04
	   * Licensed under MIT
	   *)

	@olton/farbe/dist/farbe.js:
	  (*!
	   * Farbe v1.0.7. Color Routines for JavaScript.
	   * Build: 04.05.2025, 17:08:14
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/html/dist/html.js:
	  (*!
	   * Html.js v0.14.2
	   * Description: Creating HTML Elements with JavaScript
	   * Build: 04.05.2025, 17:56:44
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/guardian/dist/guardian.js:
	  (*!
	   * Guardian v0.7.2. Data guard and validation library.
	   * Copyright 2025 Serhii Pimenov
	   * Licensed under MIT
	   * Build time: 02.05.2025 18:52:42
	   *)

	@olton/router/dist/router.js:
	  (*!
	   * Router v0.4.0 (Router ror SPA)
	   * Build: 08.03.2025, 01:01:34
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/model/dist/model.js:
	  (*!
	   * Model v0.17.1
	   * Build: 02.05.2025, 15:21:51
	   * Copyright 2012-2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)
	*/return rm}G_();var lm=g0;function g0(){var u=[].slice.call(arguments),a=!1;typeof u[0]=="boolean"&&(a=u.shift());var r=u[0];if(um(r))throw new Error("extendee must be an object");for(var c=u.slice(1),f=c.length,g=0;g<f;g++){var b=c[g];for(var C in b)if(Object.prototype.hasOwnProperty.call(b,C)){var S=b[C];if(a&&K_(S)){var T=Array.isArray(S)?[]:{};r[C]=g0(!0,Object.prototype.hasOwnProperty.call(r,C)&&!um(r[C])?r[C]:T,S)}else r[C]=S}}return r}function K_(u){return Array.isArray(u)||{}.toString.call(u)=="[object Object]"}function um(u){return!u||typeof u!="object"&&typeof u!="function"}function X_(u){return u&&u.__esModule?u.default:u}class cm{on(a,r){return this._callbacks=this._callbacks||{},this._callbacks[a]||(this._callbacks[a]=[]),this._callbacks[a].push(r),this}emit(a,...r){this._callbacks=this._callbacks||{};let c=this._callbacks[a];if(c)for(let f of c)f.apply(this,r);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+a,{args:r})),this}makeEvent(a,r){let c={bubbles:!0,cancelable:!0,detail:r};if(typeof window.CustomEvent=="function")return new CustomEvent(a,c);var f=document.createEvent("CustomEvent");return f.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),f}off(a,r){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let c=this._callbacks[a];if(!c)return this;if(arguments.length===1)return delete this._callbacks[a],this;for(let f=0;f<c.length;f++)if(c[f]===r){c.splice(f,1);break}return this}}var v0={};v0=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let J_={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(u,a,r){if(r)return{dzuuid:r.file.upload.uuid,dzchunkindex:r.index,dztotalfilesize:r.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:r.file.upload.totalChunkCount,dzchunkbyteoffset:r.index*this.options.chunkSize}},accept(u,a){return a()},chunksUploaded:function(u,a){a()},binaryBody:!1,fallback(){let u;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let r of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(r.className)){u=r,r.className="dz-message";break}u||(u=Ze.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(u));let a=u.getElementsByTagName("span")[0];return a&&(a.textContent!=null?a.textContent=this.options.dictFallbackMessage:a.innerText!=null&&(a.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(u,a,r,c){let f={srcX:0,srcY:0,srcWidth:u.width,srcHeight:u.height},g=u.width/u.height;a==null&&r==null?(a=f.srcWidth,r=f.srcHeight):a==null?a=r*g:r==null&&(r=a/g),a=Math.min(a,f.srcWidth),r=Math.min(r,f.srcHeight);let b=a/r;if(f.srcWidth>a||f.srcHeight>r)if(c==="crop")g>b?(f.srcHeight=u.height,f.srcWidth=f.srcHeight*b):(f.srcWidth=u.width,f.srcHeight=f.srcWidth/b);else if(c==="contain")g>b?r=a/g:a=r*g;else throw new Error(`Unknown resizeMethod '${c}'`);return f.srcX=(u.width-f.srcWidth)/2,f.srcY=(u.height-f.srcHeight)/2,f.trgWidth=a,f.trgHeight=r,f},transformFile(u,a){return(this.options.resizeWidth||this.options.resizeHeight)&&u.type.match(/image.*/)?this.resizeImage(u,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,a):a(u)},previewTemplate:X_(v0),drop(u){return this.element.classList.remove("dz-drag-hover")},dragstart(u){},dragend(u){return this.element.classList.remove("dz-drag-hover")},dragenter(u){return this.element.classList.add("dz-drag-hover")},dragover(u){return this.element.classList.add("dz-drag-hover")},dragleave(u){return this.element.classList.remove("dz-drag-hover")},paste(u){},reset(){return this.element.classList.remove("dz-started")},addedfile(u){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){u.previewElement=Ze.createElement(this.options.previewTemplate.trim()),u.previewTemplate=u.previewElement,this.previewsContainer.appendChild(u.previewElement);for(var a of u.previewElement.querySelectorAll("[data-dz-name]"))a.textContent=u.name;for(a of u.previewElement.querySelectorAll("[data-dz-size]"))a.innerHTML=this.filesize(u.size);this.options.addRemoveLinks&&(u._removeLink=Ze.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),u.previewElement.appendChild(u._removeLink));let r=c=>(c.preventDefault(),c.stopPropagation(),u.status===Ze.UPLOADING?Ze.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(u)):this.options.dictRemoveFileConfirmation?Ze.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(u)):this.removeFile(u));for(let c of u.previewElement.querySelectorAll("[data-dz-remove]"))c.addEventListener("click",r)}},removedfile(u){return u.previewElement!=null&&u.previewElement.parentNode!=null&&u.previewElement.parentNode.removeChild(u.previewElement),this._updateMaxFilesReachedClass()},thumbnail(u,a){if(u.previewElement){u.previewElement.classList.remove("dz-file-preview");for(let r of u.previewElement.querySelectorAll("[data-dz-thumbnail]"))r.alt=u.name,r.src=a;return setTimeout(()=>u.previewElement.classList.add("dz-image-preview"),1)}},error(u,a){if(u.previewElement){u.previewElement.classList.add("dz-error"),typeof a!="string"&&a.error&&(a=a.error);for(let r of u.previewElement.querySelectorAll("[data-dz-errormessage]"))r.textContent=a}},errormultiple(){},processing(u){if(u.previewElement&&(u.previewElement.classList.add("dz-processing"),u._removeLink))return u._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(u,a,r){if(u.previewElement)for(let c of u.previewElement.querySelectorAll("[data-dz-uploadprogress]"))c.nodeName==="PROGRESS"?c.value=a:c.style.width=`${a}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(u){if(u.previewElement)return u.previewElement.classList.add("dz-success")},successmultiple(){},canceled(u){return this.emit("error",u,this.options.dictUploadCanceled)},canceledmultiple(){},complete(u){if(u._removeLink&&(u._removeLink.innerHTML=this.options.dictRemoveFile),u.previewElement)return u.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var Z_=J_;class Ze extends cm{static initClass(){this.prototype.Emitter=cm,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(a=>a.accepted).map(a=>a)}getRejectedFiles(){return this.files.filter(a=>!a.accepted).map(a=>a)}getFilesWithStatus(a){return this.files.filter(r=>r.status===a).map(r=>r)}getQueuedFiles(){return this.getFilesWithStatus(Ze.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(Ze.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(Ze.ADDED)}getActiveFiles(){return this.files.filter(a=>a.status===Ze.UPLOADING||a.status===Ze.QUEUED).map(a=>a)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(Ze.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let c=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",Ze.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:f}=this.hiddenFileInput;if(f.length)for(let g of f)this.addFile(g);this.emit("addedfiles",f),c()})};c()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let c of this.events)this.on(c,this.options[c]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",c=>this.emit("complete",c)),this.on("complete",c=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const a=function(c){if(c.dataTransfer.types){for(var f=0;f<c.dataTransfer.types.length;f++)if(c.dataTransfer.types[f]==="Files")return!0}return!1};let r=function(c){if(a(c))return c.stopPropagation(),c.preventDefault?c.preventDefault():c.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:c=>this.emit("dragstart",c),dragenter:c=>(r(c),this.emit("dragenter",c)),dragover:c=>{let f;try{f=c.dataTransfer.effectAllowed}catch{}return c.dataTransfer.dropEffect=f==="move"||f==="linkMove"?"move":"copy",r(c),this.emit("dragover",c)},dragleave:c=>this.emit("dragleave",c),drop:c=>(r(c),this.drop(c)),dragend:c=>this.emit("dragend",c)}}],this.clickableElements.forEach(c=>this.listeners.push({element:c,events:{click:f=>((c!==this.element||f.target===this.element||Ze.elementInside(f.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,Ze.instances.splice(Ze.instances.indexOf(this),1)}updateTotalUploadProgress(){let a,r=0,c=0;if(this.getActiveFiles().length){for(let g of this.getActiveFiles())r+=g.upload.bytesSent,c+=g.upload.total;a=100*r/c}else a=100;return this.emit("totaluploadprogress",a,c,r)}_getParamName(a){return typeof this.options.paramName=="function"?this.options.paramName(a):`${this.options.paramName}${this.options.uploadMultiple?`[${a}]`:""}`}_renameFile(a){return typeof this.options.renameFile!="function"?a.name:this.options.renameFile(a)}getFallbackForm(){let a,r;if(a=this.getExistingFallback())return a;let c='<div class="dz-fallback">';this.options.dictFallbackText&&(c+=`<p>${this.options.dictFallbackText}</p>`),c+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let f=Ze.createElement(c);return this.element.tagName!=="FORM"?(r=Ze.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),r.appendChild(f)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),r??f}getExistingFallback(){let a=function(c){for(let f of c)if(/(^| )fallback($| )/.test(f.className))return f};for(let c of["div","form"]){var r;if(r=a(this.element.getElementsByTagName(c)))return r}}setupEventListeners(){return this.listeners.map(a=>(()=>{let r=[];for(let c in a.events){let f=a.events[c];r.push(a.element.addEventListener(c,f,!1))}return r})())}removeEventListeners(){return this.listeners.map(a=>(()=>{let r=[];for(let c in a.events){let f=a.events[c];r.push(a.element.removeEventListener(c,f,!1))}return r})())}disable(){return this.clickableElements.forEach(a=>a.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(a=>this.cancelUpload(a))}enable(){return delete this.disabled,this.clickableElements.forEach(a=>a.classList.add("dz-clickable")),this.setupEventListeners()}filesize(a){let r=0,c="b";if(a>0){let f=["tb","gb","mb","kb","b"];for(let g=0;g<f.length;g++){let b=f[g],C=Math.pow(this.options.filesizeBase,4-g)/10;if(a>=C){r=a/Math.pow(this.options.filesizeBase,4-g),c=b;break}}r=Math.round(10*r)/10}return`<strong>${r}</strong> ${this.options.dictFileSizeUnits[c]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(a){if(!a.dataTransfer)return;this.emit("drop",a);let r=[];for(let c=0;c<a.dataTransfer.files.length;c++)r[c]=a.dataTransfer.files[c];if(r.length){let{items:c}=a.dataTransfer;c&&c.length&&c[0].webkitGetAsEntry!=null?this._addFilesFromItems(c):this.handleFiles(r)}this.emit("addedfiles",r)}paste(a){if(n1(a!=null?a.clipboardData:void 0,c=>c.items)==null)return;this.emit("paste",a);let{items:r}=a.clipboardData;if(r.length)return this._addFilesFromItems(r)}handleFiles(a){for(let r of a)this.addFile(r)}_addFilesFromItems(a){return(()=>{let r=[];for(let f of a){var c;f.webkitGetAsEntry!=null&&(c=f.webkitGetAsEntry())?c.isFile?r.push(this.addFile(f.getAsFile())):c.isDirectory?r.push(this._addFilesFromDirectory(c,c.name)):r.push(void 0):f.getAsFile!=null&&(f.kind==null||f.kind==="file")?r.push(this.addFile(f.getAsFile())):r.push(void 0)}return r})()}_addFilesFromDirectory(a,r){let c=a.createReader(),f=b=>s1(console,"log",C=>C.log(b));var g=()=>c.readEntries(b=>{if(b.length>0){for(let C of b)C.isFile?C.file(S=>{if(!(this.options.ignoreHiddenFiles&&S.name.substring(0,1)==="."))return S.fullPath=`${r}/${S.name}`,this.addFile(S)}):C.isDirectory&&this._addFilesFromDirectory(C,`${r}/${C.name}`);g()}return null},f);return g()}accept(a,r){this.options.maxFilesize&&a.size>this.options.maxFilesize*1048576?r(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):Ze.isValidFile(a,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(r(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,r):r(this.options.dictInvalidFileType)}addFile(a){a.upload={uuid:Ze.uuidv4(),progress:0,total:a.size,bytesSent:0,filename:this._renameFile(a)},this.files.push(a),a.status=Ze.ADDED,this.emit("addedfile",a),this._enqueueThumbnail(a),this.accept(a,r=>{r?(a.accepted=!1,this._errorProcessing([a],r)):(a.accepted=!0,this.options.autoQueue&&this.enqueueFile(a)),this._updateMaxFilesReachedClass()})}enqueueFiles(a){for(let r of a)this.enqueueFile(r);return null}enqueueFile(a){if(a.status===Ze.ADDED&&a.accepted===!0){if(a.status=Ze.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(a){if(this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(a),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let a=this._thumbnailQueue.shift();return this.createThumbnail(a,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,r=>(this.emit("thumbnail",a,r),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(a){if(a.status===Ze.UPLOADING&&this.cancelUpload(a),this.files=Q_(this.files,a),this.emit("removedfile",a),this.files.length===0)return this.emit("reset")}removeAllFiles(a){a==null&&(a=!1);for(let r of this.files.slice())(r.status!==Ze.UPLOADING||a)&&this.removeFile(r);return null}resizeImage(a,r,c,f,g){return this.createThumbnail(a,r,c,f,!0,(b,C)=>{if(C==null)return g(a);{let{resizeMimeType:S}=this.options;S==null&&(S=a.type);let T=C.toDataURL(S,this.options.resizeQuality);return(S==="image/jpeg"||S==="image/jpg")&&(T=b0.restore(a.dataURL,T)),g(Ze.dataURItoBlob(T))}})}createThumbnail(a,r,c,f,g,b){let C=new FileReader;C.onload=()=>{if(a.dataURL=C.result,a.type==="image/svg+xml"){b!=null&&b(C.result);return}this.createThumbnailFromUrl(a,r,c,f,g,b)},C.readAsDataURL(a)}displayExistingFile(a,r,c,f,g=!0){if(this.emit("addedfile",a),this.emit("complete",a),!g)this.emit("thumbnail",a,r),c&&c();else{let b=C=>{this.emit("thumbnail",a,C),c&&c()};a.dataURL=r,this.createThumbnailFromUrl(a,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,b,f)}}createThumbnailFromUrl(a,r,c,f,g,b,C){let S=document.createElement("img");return C&&(S.crossOrigin=C),g=getComputedStyle(document.body).imageOrientation=="from-image"?!1:g,S.onload=()=>{let T=A=>A(1);return typeof EXIF<"u"&&EXIF!==null&&g&&(T=A=>EXIF.getData(S,function(){return A(EXIF.getTag(this,"Orientation"))})),T(A=>{a.width=S.width,a.height=S.height;let O=this.options.resize.call(this,a,r,c,f),N=document.createElement("canvas"),$=N.getContext("2d");switch(N.width=O.trgWidth,N.height=O.trgHeight,A>4&&(N.width=O.trgHeight,N.height=O.trgWidth),A){case 2:$.translate(N.width,0),$.scale(-1,1);break;case 3:$.translate(N.width,N.height),$.rotate(Math.PI);break;case 4:$.translate(0,N.height),$.scale(1,-1);break;case 5:$.rotate(.5*Math.PI),$.scale(1,-1);break;case 6:$.rotate(.5*Math.PI),$.translate(0,-N.width);break;case 7:$.rotate(.5*Math.PI),$.translate(N.height,-N.width),$.scale(-1,1);break;case 8:$.rotate(-.5*Math.PI),$.translate(-N.height,0);break}i1($,S,O.srcX!=null?O.srcX:0,O.srcY!=null?O.srcY:0,O.srcWidth,O.srcHeight,O.trgX!=null?O.trgX:0,O.trgY!=null?O.trgY:0,O.trgWidth,O.trgHeight);let q=N.toDataURL("image/png");if(b!=null)return b(q,N)})},b!=null&&(S.onerror=b),S.src=a.dataURL}processQueue(){let{parallelUploads:a}=this.options,r=this.getUploadingFiles().length,c=r;if(r>=a)return;let f=this.getQueuedFiles();if(f.length>0){if(this.options.uploadMultiple)return this.processFiles(f.slice(0,a-r));for(;c<a;){if(!f.length)return;this.processFile(f.shift()),c++}}}processFile(a){return this.processFiles([a])}processFiles(a){for(let r of a)r.processing=!0,r.status=Ze.UPLOADING,this.emit("processing",r);return this.options.uploadMultiple&&this.emit("processingmultiple",a),this.uploadFiles(a)}_getFilesWithXhr(a){return this.files.filter(r=>r.xhr===a).map(r=>r)}cancelUpload(a){if(a.status===Ze.UPLOADING){let r=this._getFilesWithXhr(a.xhr);for(let c of r)c.status=Ze.CANCELED;typeof a.xhr<"u"&&a.xhr.abort();for(let c of r)this.emit("canceled",c);this.options.uploadMultiple&&this.emit("canceledmultiple",r)}else(a.status===Ze.ADDED||a.status===Ze.QUEUED)&&(a.status=Ze.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(a,...r){return typeof a=="function"?a.apply(this,r):a}uploadFile(a){return this.uploadFiles([a])}uploadFiles(a){this._transformFiles(a,r=>{if(this.options.chunking){let c=r[0];a[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||c.size>this.options.chunkSize),a[0].upload.totalChunkCount=Math.ceil(c.size/this.options.chunkSize)}if(a[0].upload.chunked){let c=a[0],f=r[0];c.upload.chunks=[];let g=()=>{let b=0;for(;c.upload.chunks[b]!==void 0;)b++;if(b>=c.upload.totalChunkCount)return;let C=b*this.options.chunkSize,S=Math.min(C+this.options.chunkSize,f.size),T={name:this._getParamName(0),data:f.webkitSlice?f.webkitSlice(C,S):f.slice(C,S),filename:c.upload.filename,chunkIndex:b};c.upload.chunks[b]={file:c,index:b,dataBlock:T,status:Ze.UPLOADING,progress:0,retries:0},this._uploadData(a,[T])};if(c.upload.finishedChunkUpload=(b,C)=>{let S=!0;b.status=Ze.SUCCESS,b.dataBlock=null,b.response=b.xhr.responseText,b.responseHeaders=b.xhr.getAllResponseHeaders(),b.xhr=null;for(let T=0;T<c.upload.totalChunkCount;T++){if(c.upload.chunks[T]===void 0)return g();c.upload.chunks[T].status!==Ze.SUCCESS&&(S=!1)}S&&this.options.chunksUploaded(c,()=>{this._finished(a,C,null)})},this.options.parallelChunkUploads)for(let b=0;b<c.upload.totalChunkCount;b++)g();else g()}else{let c=[];for(let f=0;f<a.length;f++)c[f]={name:this._getParamName(f),data:r[f],filename:a[f].upload.filename};this._uploadData(a,c)}})}_getChunk(a,r){for(let c=0;c<a.upload.totalChunkCount;c++)if(a.upload.chunks[c]!==void 0&&a.upload.chunks[c].xhr===r)return a.upload.chunks[c]}_uploadData(a,r){let c=new XMLHttpRequest;for(let T of a)T.xhr=c;a[0].upload.chunked&&(a[0].upload.chunks[r[0].chunkIndex].xhr=c);let f=this.resolveOption(this.options.method,a,r),g=this.resolveOption(this.options.url,a,r);c.open(f,g,!0),this.resolveOption(this.options.timeout,a)&&(c.timeout=this.resolveOption(this.options.timeout,a)),c.withCredentials=!!this.options.withCredentials,c.onload=T=>{this._finishedUploading(a,c,T)},c.ontimeout=()=>{this._handleUploadError(a,c,`Request timedout after ${this.options.timeout/1e3} seconds`)},c.onerror=()=>{this._handleUploadError(a,c)};let C=c.upload!=null?c.upload:c;C.onprogress=T=>this._updateFilesUploadProgress(a,c,T);let S=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(S["Content-Type"]=a[0].type),this.options.headers&&lm(S,this.options.headers);for(let T in S){let A=S[T];A&&c.setRequestHeader(T,A)}if(this.options.binaryBody){for(let T of a)this.emit("sending",T,c);this.options.uploadMultiple&&this.emit("sendingmultiple",a,c),this.submitRequest(c,null,a)}else{let T=new FormData;if(this.options.params){let A=this.options.params;typeof A=="function"&&(A=A.call(this,a,c,a[0].upload.chunked?this._getChunk(a[0],c):null));for(let O in A){let N=A[O];if(Array.isArray(N))for(let $=0;$<N.length;$++)T.append(O,N[$]);else T.append(O,N)}}for(let A of a)this.emit("sending",A,c,T);this.options.uploadMultiple&&this.emit("sendingmultiple",a,c,T),this._addFormElementData(T);for(let A=0;A<r.length;A++){let O=r[A];T.append(O.name,O.data,O.filename)}this.submitRequest(c,T,a)}}_transformFiles(a,r){let c=[],f=0;for(let g=0;g<a.length;g++)this.options.transformFile.call(this,a[g],b=>{c[g]=b,++f===a.length&&r(c)})}_addFormElementData(a){if(this.element.tagName==="FORM")for(let r of this.element.querySelectorAll("input, textarea, select, button")){let c=r.getAttribute("name"),f=r.getAttribute("type");if(f&&(f=f.toLowerCase()),!(typeof c>"u"||c===null))if(r.tagName==="SELECT"&&r.hasAttribute("multiple"))for(let g of r.options)g.selected&&a.append(c,g.value);else(!f||f!=="checkbox"&&f!=="radio"||r.checked)&&a.append(c,r.value)}}_updateFilesUploadProgress(a,r,c){if(a[0].upload.chunked){let f=a[0],g=this._getChunk(f,r);c?(g.progress=100*c.loaded/c.total,g.total=c.total,g.bytesSent=c.loaded):(g.progress=100,g.bytesSent=g.total),f.upload.progress=0,f.upload.total=0,f.upload.bytesSent=0;for(let b=0;b<f.upload.totalChunkCount;b++)f.upload.chunks[b]&&typeof f.upload.chunks[b].progress<"u"&&(f.upload.progress+=f.upload.chunks[b].progress,f.upload.total+=f.upload.chunks[b].total,f.upload.bytesSent+=f.upload.chunks[b].bytesSent);f.upload.progress=f.upload.progress/f.upload.totalChunkCount,this.emit("uploadprogress",f,f.upload.progress,f.upload.bytesSent)}else for(let f of a)f.upload.total&&f.upload.bytesSent&&f.upload.bytesSent==f.upload.total||(c?(f.upload.progress=100*c.loaded/c.total,f.upload.total=c.total,f.upload.bytesSent=c.loaded):(f.upload.progress=100,f.upload.bytesSent=f.upload.total),this.emit("uploadprogress",f,f.upload.progress,f.upload.bytesSent))}_finishedUploading(a,r,c){let f;if(a[0].status!==Ze.CANCELED&&r.readyState===4){if(r.responseType!=="arraybuffer"&&r.responseType!=="blob"&&(f=r.responseText,r.getResponseHeader("content-type")&&~r.getResponseHeader("content-type").indexOf("application/json")))try{f=JSON.parse(f)}catch(g){c=g,f="Invalid JSON response from server."}this._updateFilesUploadProgress(a,r),200<=r.status&&r.status<300?a[0].upload.chunked?a[0].upload.finishedChunkUpload(this._getChunk(a[0],r),f):this._finished(a,f,c):this._handleUploadError(a,r,f)}}_handleUploadError(a,r,c){if(a[0].status!==Ze.CANCELED){if(a[0].upload.chunked&&this.options.retryChunks){let f=this._getChunk(a[0],r);if(f.retries++<this.options.retryChunksLimit){this._uploadData(a,[f.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(a,c||this.options.dictResponseError.replace("{{statusCode}}",r.status),r)}}submitRequest(a,r,c){if(a.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(c[0].upload.chunked){const f=this._getChunk(c[0],a);a.send(f.dataBlock.data)}else a.send(c[0]);else a.send(r)}_finished(a,r,c){for(let f of a)f.status=Ze.SUCCESS,this.emit("success",f,r,c),this.emit("complete",f);if(this.options.uploadMultiple&&(this.emit("successmultiple",a,r,c),this.emit("completemultiple",a)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(a,r,c){for(let f of a)f.status=Ze.ERROR,this.emit("error",f,r,c),this.emit("complete",f);if(this.options.uploadMultiple&&(this.emit("errormultiple",a,r,c),this.emit("completemultiple",a)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){let r=Math.random()*16|0;return(a==="x"?r:r&3|8).toString(16)})}constructor(a,r){super();let c,f;if(this.element=a,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");Ze.instances.push(this),this.element.dropzone=this;let g=(f=Ze.optionsForElement(this.element))!=null?f:{};if(this.options=lm(!0,{},Z_,g,r??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!Ze.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=b=>this.options.renameFilename.call(this,b.name,b)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(c=this.getExistingFallback())&&c.parentNode&&c.parentNode.removeChild(c),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=Ze.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=Ze.getElements(this.options.clickable,"clickable")),this.init()}}Ze.initClass();Ze.options={};Ze.optionsForElement=function(u){if(u.getAttribute("id"))return Ze.options[e1(u.getAttribute("id"))]};Ze.instances=[];Ze.forElement=function(u){if(typeof u=="string"&&(u=document.querySelector(u)),(u!=null?u.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return u.dropzone};Ze.discover=function(){let u;if(document.querySelectorAll)u=document.querySelectorAll(".dropzone");else{u=[];let a=r=>(()=>{let c=[];for(let f of r)/(^| )dropzone($| )/.test(f.className)?c.push(u.push(f)):c.push(void 0);return c})();a(document.getElementsByTagName("div")),a(document.getElementsByTagName("form"))}return(()=>{let a=[];for(let r of u)Ze.optionsForElement(r)!==!1?a.push(new Ze(r)):a.push(void 0);return a})()};Ze.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Ze.isBrowserSupported=function(){let u=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))u=!1;else{Ze.blacklistedBrowsers!==void 0&&(Ze.blockedBrowsers=Ze.blacklistedBrowsers);for(let a of Ze.blockedBrowsers)if(a.test(navigator.userAgent)){u=!1;continue}}else u=!1;return u};Ze.dataURItoBlob=function(u){let a=atob(u.split(",")[1]),r=u.split(",")[0].split(":")[1].split(";")[0],c=new ArrayBuffer(a.length),f=new Uint8Array(c);for(let g=0,b=a.length,C=0<=b;C?g<=b:g>=b;C?g++:g--)f[g]=a.charCodeAt(g);return new Blob([c],{type:r})};const Q_=(u,a)=>u.filter(r=>r!==a).map(r=>r),e1=u=>u.replace(/[\-_](\w)/g,a=>a.charAt(1).toUpperCase());Ze.createElement=function(u){let a=document.createElement("div");return a.innerHTML=u,a.childNodes[0]};Ze.elementInside=function(u,a){if(u===a)return!0;for(;u=u.parentNode;)if(u===a)return!0;return!1};Ze.getElement=function(u,a){let r;if(typeof u=="string"?r=document.querySelector(u):u.nodeType!=null&&(r=u),r==null)throw new Error(`Invalid \`${a}\` option provided. Please provide a CSS selector or a plain HTML element.`);return r};Ze.getElements=function(u,a){let r,c;if(u instanceof Array){c=[];try{for(r of u)c.push(this.getElement(r,a))}catch{c=null}}else if(typeof u=="string"){c=[];for(r of document.querySelectorAll(u))c.push(r)}else u.nodeType!=null&&(c=[u]);if(c==null||!c.length)throw new Error(`Invalid \`${a}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return c};Ze.confirm=function(u,a,r){if(window.confirm(u))return a();if(r!=null)return r()};Ze.isValidFile=function(u,a){if(!a)return!0;a=a.split(",");let r=u.type,c=r.replace(/\/.*$/,"");for(let f of a)if(f=f.trim(),f.charAt(0)==="."){if(u.name.toLowerCase().indexOf(f.toLowerCase(),u.name.length-f.length)!==-1)return!0}else if(/\/\*$/.test(f)){if(c===f.replace(/\/.*$/,""))return!0}else if(r===f)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(u){return this.each(function(){return new Ze(this,u)})});Ze.ADDED="added";Ze.QUEUED="queued";Ze.ACCEPTED=Ze.QUEUED;Ze.UPLOADING="uploading";Ze.PROCESSING=Ze.UPLOADING;Ze.CANCELED="canceled";Ze.ERROR="error";Ze.SUCCESS="success";let t1=function(u){u.naturalWidth;let a=u.naturalHeight,r=document.createElement("canvas");r.width=1,r.height=a;let c=r.getContext("2d");c.drawImage(u,0,0);let{data:f}=c.getImageData(1,0,1,a),g=0,b=a,C=a;for(;C>g;)f[(C-1)*4+3]===0?b=C:g=C,C=b+g>>1;let S=C/a;return S===0?1:S};var i1=function(u,a,r,c,f,g,b,C,S,T){let A=t1(a);return u.drawImage(a,r,c,f,g,b,C,S,T/A)};class b0{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(a){let r="",c,f,g="",b,C,S,T="",A=0;for(;c=a[A++],f=a[A++],g=a[A++],b=c>>2,C=(c&3)<<4|f>>4,S=(f&15)<<2|g>>6,T=g&63,isNaN(f)?S=T=64:isNaN(g)&&(T=64),r=r+this.KEY_STR.charAt(b)+this.KEY_STR.charAt(C)+this.KEY_STR.charAt(S)+this.KEY_STR.charAt(T),c=f=g="",b=C=S=T="",A<a.length;);return r}static restore(a,r){if(!a.match("data:image/jpeg;base64,"))return r;let c=this.decode64(a.replace("data:image/jpeg;base64,","")),f=this.slice2Segments(c),g=this.exifManipulation(r,f);return`data:image/jpeg;base64,${this.encode64(g)}`}static exifManipulation(a,r){let c=this.getExifArray(r),f=this.insertExif(a,c);return new Uint8Array(f)}static getExifArray(a){let r,c=0;for(;c<a.length;){if(r=a[c],r[0]===255&r[1]===225)return r;c++}return[]}static insertExif(a,r){let c=a.replace("data:image/jpeg;base64,",""),f=this.decode64(c),g=f.indexOf(255,3),b=f.slice(0,g),C=f.slice(g),S=b;return S=S.concat(r),S=S.concat(C),S}static slice2Segments(a){let r=0,c=[];for(;;){var f;if(a[r]===255&a[r+1]===218)break;if(a[r]===255&a[r+1]===216)r+=2;else{f=a[r+2]*256+a[r+3];let g=r+f+2,b=a.slice(r,g);c.push(b),r=g}if(r>a.length)break}return c}static decode64(a){let r,c,f="",g,b,C,S="",T=0,A=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(a)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");g=this.KEY_STR.indexOf(a.charAt(T++)),b=this.KEY_STR.indexOf(a.charAt(T++)),C=this.KEY_STR.indexOf(a.charAt(T++)),S=this.KEY_STR.indexOf(a.charAt(T++)),r=g<<2|b>>4,c=(b&15)<<4|C>>2,f=(C&3)<<6|S,A.push(r),C!==64&&A.push(c),S!==64&&A.push(f),r=c=f="",g=b=C=S="",T<a.length;);return A}}b0.initClass();function n1(u,a){return typeof u<"u"&&u!==null?a(u):void 0}function s1(u,a,r){if(typeof u<"u"&&u!==null&&typeof u[a]=="function")return r(u,a)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Zu(u){return u+.5|0}const kr=(u,a,r)=>Math.max(Math.min(u,r),a);function Fu(u){return kr(Zu(u*2.55),0,255)}function Er(u){return kr(Zu(u*255),0,255)}function La(u){return kr(Zu(u/2.55)/100,0,1)}function dm(u){return kr(Zu(u*100),0,100)}const gs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ep=[..."0123456789ABCDEF"],a1=u=>ep[u&15],r1=u=>ep[(u&240)>>4]+ep[u&15],Bd=u=>(u&240)>>4===(u&15),o1=u=>Bd(u.r)&&Bd(u.g)&&Bd(u.b)&&Bd(u.a);function l1(u){var a=u.length,r;return u[0]==="#"&&(a===4||a===5?r={r:255&gs[u[1]]*17,g:255&gs[u[2]]*17,b:255&gs[u[3]]*17,a:a===5?gs[u[4]]*17:255}:(a===7||a===9)&&(r={r:gs[u[1]]<<4|gs[u[2]],g:gs[u[3]]<<4|gs[u[4]],b:gs[u[5]]<<4|gs[u[6]],a:a===9?gs[u[7]]<<4|gs[u[8]]:255})),r}const u1=(u,a)=>u<255?a(u):"";function c1(u){var a=o1(u)?a1:r1;return u?"#"+a(u.r)+a(u.g)+a(u.b)+u1(u.a,a):void 0}const d1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function y0(u,a,r){const c=a*Math.min(r,1-r),f=(g,b=(g+u/30)%12)=>r-c*Math.max(Math.min(b-3,9-b,1),-1);return[f(0),f(8),f(4)]}function h1(u,a,r){const c=(f,g=(f+u/60)%6)=>r-r*a*Math.max(Math.min(g,4-g,1),0);return[c(5),c(3),c(1)]}function f1(u,a,r){const c=y0(u,1,.5);let f;for(a+r>1&&(f=1/(a+r),a*=f,r*=f),f=0;f<3;f++)c[f]*=1-a-r,c[f]+=a;return c}function p1(u,a,r,c,f){return u===f?(a-r)/c+(a<r?6:0):a===f?(r-u)/c+2:(u-a)/c+4}function _p(u){const r=u.r/255,c=u.g/255,f=u.b/255,g=Math.max(r,c,f),b=Math.min(r,c,f),C=(g+b)/2;let S,T,A;return g!==b&&(A=g-b,T=C>.5?A/(2-g-b):A/(g+b),S=p1(r,c,f,A,g),S=S*60+.5),[S|0,T||0,C]}function xp(u,a,r,c){return(Array.isArray(a)?u(a[0],a[1],a[2]):u(a,r,c)).map(Er)}function Cp(u,a,r){return xp(y0,u,a,r)}function m1(u,a,r){return xp(f1,u,a,r)}function g1(u,a,r){return xp(h1,u,a,r)}function _0(u){return(u%360+360)%360}function v1(u){const a=d1.exec(u);let r=255,c;if(!a)return;a[5]!==c&&(r=a[6]?Fu(+a[5]):Er(+a[5]));const f=_0(+a[2]),g=+a[3]/100,b=+a[4]/100;return a[1]==="hwb"?c=m1(f,g,b):a[1]==="hsv"?c=g1(f,g,b):c=Cp(f,g,b),{r:c[0],g:c[1],b:c[2],a:r}}function b1(u,a){var r=_p(u);r[0]=_0(r[0]+a),r=Cp(r),u.r=r[0],u.g=r[1],u.b=r[2]}function y1(u){if(!u)return;const a=_p(u),r=a[0],c=dm(a[1]),f=dm(a[2]);return u.a<255?`hsla(${r}, ${c}%, ${f}%, ${La(u.a)})`:`hsl(${r}, ${c}%, ${f}%)`}const hm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _1(){const u={},a=Object.keys(fm),r=Object.keys(hm);let c,f,g,b,C;for(c=0;c<a.length;c++){for(b=C=a[c],f=0;f<r.length;f++)g=r[f],C=C.replace(g,hm[g]);g=parseInt(fm[b],16),u[C]=[g>>16&255,g>>8&255,g&255]}return u}let Nd;function x1(u){Nd||(Nd=_1(),Nd.transparent=[0,0,0,0]);const a=Nd[u.toLowerCase()];return a&&{r:a[0],g:a[1],b:a[2],a:a.length===4?a[3]:255}}const C1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function w1(u){const a=C1.exec(u);let r=255,c,f,g;if(a){if(a[7]!==c){const b=+a[7];r=a[8]?Fu(b):kr(b*255,0,255)}return c=+a[1],f=+a[3],g=+a[5],c=255&(a[2]?Fu(c):kr(c,0,255)),f=255&(a[4]?Fu(f):kr(f,0,255)),g=255&(a[6]?Fu(g):kr(g,0,255)),{r:c,g:f,b:g,a:r}}}function k1(u){return u&&(u.a<255?`rgba(${u.r}, ${u.g}, ${u.b}, ${La(u.a)})`:`rgb(${u.r}, ${u.g}, ${u.b})`)}const Of=u=>u<=.0031308?u*12.92:Math.pow(u,1/2.4)*1.055-.055,sl=u=>u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4);function S1(u,a,r){const c=sl(La(u.r)),f=sl(La(u.g)),g=sl(La(u.b));return{r:Er(Of(c+r*(sl(La(a.r))-c))),g:Er(Of(f+r*(sl(La(a.g))-f))),b:Er(Of(g+r*(sl(La(a.b))-g))),a:u.a+r*(a.a-u.a)}}function Rd(u,a,r){if(u){let c=_p(u);c[a]=Math.max(0,Math.min(c[a]+c[a]*r,a===0?360:1)),c=Cp(c),u.r=c[0],u.g=c[1],u.b=c[2]}}function x0(u,a){return u&&Object.assign(a||{},u)}function pm(u){var a={r:0,g:0,b:0,a:255};return Array.isArray(u)?u.length>=3&&(a={r:u[0],g:u[1],b:u[2],a:255},u.length>3&&(a.a=Er(u[3]))):(a=x0(u,{r:0,g:0,b:0,a:1}),a.a=Er(a.a)),a}function D1(u){return u.charAt(0)==="r"?w1(u):v1(u)}class Uu{constructor(a){if(a instanceof Uu)return a;const r=typeof a;let c;r==="object"?c=pm(a):r==="string"&&(c=l1(a)||x1(a)||D1(a)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var a=x0(this._rgb);return a&&(a.a=La(a.a)),a}set rgb(a){this._rgb=pm(a)}rgbString(){return this._valid?k1(this._rgb):void 0}hexString(){return this._valid?c1(this._rgb):void 0}hslString(){return this._valid?y1(this._rgb):void 0}mix(a,r){if(a){const c=this.rgb,f=a.rgb;let g;const b=r===g?.5:r,C=2*b-1,S=c.a-f.a,T=((C*S===-1?C:(C+S)/(1+C*S))+1)/2;g=1-T,c.r=255&T*c.r+g*f.r+.5,c.g=255&T*c.g+g*f.g+.5,c.b=255&T*c.b+g*f.b+.5,c.a=b*c.a+(1-b)*f.a,this.rgb=c}return this}interpolate(a,r){return a&&(this._rgb=S1(this._rgb,a._rgb,r)),this}clone(){return new Uu(this.rgb)}alpha(a){return this._rgb.a=Er(a),this}clearer(a){const r=this._rgb;return r.a*=1-a,this}greyscale(){const a=this._rgb,r=Zu(a.r*.3+a.g*.59+a.b*.11);return a.r=a.g=a.b=r,this}opaquer(a){const r=this._rgb;return r.a*=1+a,this}negate(){const a=this._rgb;return a.r=255-a.r,a.g=255-a.g,a.b=255-a.b,this}lighten(a){return Rd(this._rgb,2,a),this}darken(a){return Rd(this._rgb,2,-a),this}saturate(a){return Rd(this._rgb,1,a),this}desaturate(a){return Rd(this._rgb,1,-a),this}rotate(a){return b1(this._rgb,a),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ma(){}const T1=(()=>{let u=0;return()=>u++})();function Mt(u){return u==null}function hi(u){if(Array.isArray&&Array.isArray(u))return!0;const a=Object.prototype.toString.call(u);return a.slice(0,7)==="[object"&&a.slice(-6)==="Array]"}function It(u){return u!==null&&Object.prototype.toString.call(u)==="[object Object]"}function Ii(u){return(typeof u=="number"||u instanceof Number)&&isFinite(+u)}function ts(u,a){return Ii(u)?u:a}function At(u,a){return typeof u>"u"?a:u}const E1=(u,a)=>typeof u=="string"&&u.endsWith("%")?parseFloat(u)/100:+u/a,C0=(u,a)=>typeof u=="string"&&u.endsWith("%")?parseFloat(u)/100*a:+u;function ei(u,a,r){if(u&&typeof u.call=="function")return u.apply(r,a)}function Jt(u,a,r,c){let f,g,b;if(hi(u))for(g=u.length,f=0;f<g;f++)a.call(r,u[f],f);else if(It(u))for(b=Object.keys(u),g=b.length,f=0;f<g;f++)a.call(r,u[b[f]],b[f])}function ch(u,a){let r,c,f,g;if(!u||!a||u.length!==a.length)return!1;for(r=0,c=u.length;r<c;++r)if(f=u[r],g=a[r],f.datasetIndex!==g.datasetIndex||f.index!==g.index)return!1;return!0}function dh(u){if(hi(u))return u.map(dh);if(It(u)){const a=Object.create(null),r=Object.keys(u),c=r.length;let f=0;for(;f<c;++f)a[r[f]]=dh(u[r[f]]);return a}return u}function w0(u){return["__proto__","prototype","constructor"].indexOf(u)===-1}function A1(u,a,r,c){if(!w0(u))return;const f=a[u],g=r[u];It(f)&&It(g)?aa(f,g,c):a[u]=dh(g)}function aa(u,a,r){const c=hi(a)?a:[a],f=c.length;if(!It(u))return u;r=r||{};const g=r.merger||A1;let b;for(let C=0;C<f;++C){if(b=c[C],!It(b))continue;const S=Object.keys(b);for(let T=0,A=S.length;T<A;++T)g(S[T],u,b,r)}return u}function Pu(u,a){return aa(u,a,{merger:M1})}function M1(u,a,r){if(!w0(u))return;const c=a[u],f=r[u];It(c)&&It(f)?Pu(c,f):Object.prototype.hasOwnProperty.call(a,u)||(a[u]=dh(f))}const mm={"":u=>u,x:u=>u.x,y:u=>u.y};function F1(u){const a=u.split("."),r=[];let c="";for(const f of a)c+=f,c.endsWith("\\")?c=c.slice(0,-1)+".":(r.push(c),c="");return r}function I1(u){const a=F1(u);return r=>{for(const c of a){if(c==="")break;r=r&&r[c]}return r}}function Ar(u,a){return(mm[a]||(mm[a]=I1(a)))(u)}function wp(u){return u.charAt(0).toUpperCase()+u.slice(1)}const qu=u=>typeof u<"u",Mr=u=>typeof u=="function",gm=(u,a)=>{if(u.size!==a.size)return!1;for(const r of u)if(!a.has(r))return!1;return!0};function L1(u){return u.type==="mouseup"||u.type==="click"||u.type==="contextmenu"}const mi=Math.PI,fi=2*mi,O1=fi+mi,hh=Number.POSITIVE_INFINITY,P1=mi/180,zi=mi/2,ho=mi/4,vm=mi*2/3,Sr=Math.log10,sa=Math.sign;function Bu(u,a,r){return Math.abs(u-a)<r}function bm(u){const a=Math.round(u);u=Bu(u,a,u/1e3)?a:u;const r=Math.pow(10,Math.floor(Sr(u))),c=u/r;return(c<=1?1:c<=2?2:c<=5?5:10)*r}function B1(u){const a=[],r=Math.sqrt(u);let c;for(c=1;c<r;c++)u%c===0&&(a.push(c),a.push(u/c));return r===(r|0)&&a.push(r),a.sort((f,g)=>f-g).pop(),a}function N1(u){return typeof u=="symbol"||typeof u=="object"&&u!==null&&!(Symbol.toPrimitive in u||"toString"in u||"valueOf"in u)}function ul(u){return!N1(u)&&!isNaN(parseFloat(u))&&isFinite(u)}function R1(u,a){const r=Math.round(u);return r-a<=u&&r+a>=u}function k0(u,a,r){let c,f,g;for(c=0,f=u.length;c<f;c++)g=u[c][r],isNaN(g)||(a.min=Math.min(a.min,g),a.max=Math.max(a.max,g))}function Fs(u){return u*(mi/180)}function kp(u){return u*(180/mi)}function ym(u){if(!Ii(u))return;let a=1,r=0;for(;Math.round(u*a)/a!==u;)a*=10,r++;return r}function S0(u,a){const r=a.x-u.x,c=a.y-u.y,f=Math.sqrt(r*r+c*c);let g=Math.atan2(c,r);return g<-.5*mi&&(g+=fi),{angle:g,distance:f}}function tp(u,a){return Math.sqrt(Math.pow(a.x-u.x,2)+Math.pow(a.y-u.y,2))}function z1(u,a){return(u-a+O1)%fi-mi}function is(u){return(u%fi+fi)%fi}function Yu(u,a,r,c){const f=is(u),g=is(a),b=is(r),C=is(g-f),S=is(b-f),T=is(f-g),A=is(f-b);return f===g||f===b||c&&g===b||C>S&&T<A}function rn(u,a,r){return Math.max(a,Math.min(r,u))}function H1(u){return rn(u,-32768,32767)}function Pa(u,a,r,c=1e-6){return u>=Math.min(a,r)-c&&u<=Math.max(a,r)+c}function Sp(u,a,r){r=r||(b=>u[b]<a);let c=u.length-1,f=0,g;for(;c-f>1;)g=f+c>>1,r(g)?f=g:c=g;return{lo:f,hi:c}}const Ba=(u,a,r,c)=>Sp(u,r,c?f=>{const g=u[f][a];return g<r||g===r&&u[f+1][a]===r}:f=>u[f][a]<r),$1=(u,a,r)=>Sp(u,r,c=>u[c][a]>=r);function V1(u,a,r){let c=0,f=u.length;for(;c<f&&u[c]<a;)c++;for(;f>c&&u[f-1]>r;)f--;return c>0||f<u.length?u.slice(c,f):u}const D0=["push","pop","shift","splice","unshift"];function W1(u,a){if(u._chartjs){u._chartjs.listeners.push(a);return}Object.defineProperty(u,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),D0.forEach(r=>{const c="_onData"+wp(r),f=u[r];Object.defineProperty(u,r,{configurable:!0,enumerable:!1,value(...g){const b=f.apply(this,g);return u._chartjs.listeners.forEach(C=>{typeof C[c]=="function"&&C[c](...g)}),b}})})}function _m(u,a){const r=u._chartjs;if(!r)return;const c=r.listeners,f=c.indexOf(a);f!==-1&&c.splice(f,1),!(c.length>0)&&(D0.forEach(g=>{delete u[g]}),delete u._chartjs)}function T0(u){const a=new Set(u);return a.size===u.length?u:Array.from(a)}const E0=function(){return typeof window>"u"?function(u){return u()}:window.requestAnimationFrame}();function A0(u,a){let r=[],c=!1;return function(...f){r=f,c||(c=!0,E0.call(window,()=>{c=!1,u.apply(a,r)}))}}function j1(u,a){let r;return function(...c){return a?(clearTimeout(r),r=setTimeout(u,a,c)):u.apply(this,c),a}}const Dp=u=>u==="start"?"left":u==="end"?"right":"center",Sn=(u,a,r)=>u==="start"?a:u==="end"?r:(a+r)/2,U1=(u,a,r,c)=>u===(c?"left":"right")?r:u==="center"?(a+r)/2:a;function M0(u,a,r){const c=a.length;let f=0,g=c;if(u._sorted){const{iScale:b,vScale:C,_parsed:S}=u,T=u.dataset&&u.dataset.options?u.dataset.options.spanGaps:null,A=b.axis,{min:O,max:N,minDefined:$,maxDefined:q}=b.getUserBounds();if($){if(f=Math.min(Ba(S,A,O).lo,r?c:Ba(a,A,b.getPixelForValue(O)).lo),T){const Q=S.slice(0,f+1).reverse().findIndex(te=>!Mt(te[C.axis]));f-=Math.max(0,Q)}f=rn(f,0,c-1)}if(q){let Q=Math.max(Ba(S,b.axis,N,!0).hi+1,r?0:Ba(a,A,b.getPixelForValue(N),!0).hi+1);if(T){const te=S.slice(Q-1).findIndex(J=>!Mt(J[C.axis]));Q+=Math.max(0,te)}g=rn(Q,f,c)-f}else g=c-f}return{start:f,count:g}}function F0(u){const{xScale:a,yScale:r,_scaleRanges:c}=u,f={xmin:a.min,xmax:a.max,ymin:r.min,ymax:r.max};if(!c)return u._scaleRanges=f,!0;const g=c.xmin!==a.min||c.xmax!==a.max||c.ymin!==r.min||c.ymax!==r.max;return Object.assign(c,f),g}const zd=u=>u===0||u===1,xm=(u,a,r)=>-(Math.pow(2,10*(u-=1))*Math.sin((u-a)*fi/r)),Cm=(u,a,r)=>Math.pow(2,-10*u)*Math.sin((u-a)*fi/r)+1,Nu={linear:u=>u,easeInQuad:u=>u*u,easeOutQuad:u=>-u*(u-2),easeInOutQuad:u=>(u/=.5)<1?.5*u*u:-.5*(--u*(u-2)-1),easeInCubic:u=>u*u*u,easeOutCubic:u=>(u-=1)*u*u+1,easeInOutCubic:u=>(u/=.5)<1?.5*u*u*u:.5*((u-=2)*u*u+2),easeInQuart:u=>u*u*u*u,easeOutQuart:u=>-((u-=1)*u*u*u-1),easeInOutQuart:u=>(u/=.5)<1?.5*u*u*u*u:-.5*((u-=2)*u*u*u-2),easeInQuint:u=>u*u*u*u*u,easeOutQuint:u=>(u-=1)*u*u*u*u+1,easeInOutQuint:u=>(u/=.5)<1?.5*u*u*u*u*u:.5*((u-=2)*u*u*u*u+2),easeInSine:u=>-Math.cos(u*zi)+1,easeOutSine:u=>Math.sin(u*zi),easeInOutSine:u=>-.5*(Math.cos(mi*u)-1),easeInExpo:u=>u===0?0:Math.pow(2,10*(u-1)),easeOutExpo:u=>u===1?1:-Math.pow(2,-10*u)+1,easeInOutExpo:u=>zd(u)?u:u<.5?.5*Math.pow(2,10*(u*2-1)):.5*(-Math.pow(2,-10*(u*2-1))+2),easeInCirc:u=>u>=1?u:-(Math.sqrt(1-u*u)-1),easeOutCirc:u=>Math.sqrt(1-(u-=1)*u),easeInOutCirc:u=>(u/=.5)<1?-.5*(Math.sqrt(1-u*u)-1):.5*(Math.sqrt(1-(u-=2)*u)+1),easeInElastic:u=>zd(u)?u:xm(u,.075,.3),easeOutElastic:u=>zd(u)?u:Cm(u,.075,.3),easeInOutElastic(u){return zd(u)?u:u<.5?.5*xm(u*2,.1125,.45):.5+.5*Cm(u*2-1,.1125,.45)},easeInBack(u){return u*u*((1.70158+1)*u-1.70158)},easeOutBack(u){return(u-=1)*u*((1.70158+1)*u+1.70158)+1},easeInOutBack(u){let a=1.70158;return(u/=.5)<1?.5*(u*u*(((a*=1.525)+1)*u-a)):.5*((u-=2)*u*(((a*=1.525)+1)*u+a)+2)},easeInBounce:u=>1-Nu.easeOutBounce(1-u),easeOutBounce(u){return u<1/2.75?7.5625*u*u:u<2/2.75?7.5625*(u-=1.5/2.75)*u+.75:u<2.5/2.75?7.5625*(u-=2.25/2.75)*u+.9375:7.5625*(u-=2.625/2.75)*u+.984375},easeInOutBounce:u=>u<.5?Nu.easeInBounce(u*2)*.5:Nu.easeOutBounce(u*2-1)*.5+.5};function Tp(u){if(u&&typeof u=="object"){const a=u.toString();return a==="[object CanvasPattern]"||a==="[object CanvasGradient]"}return!1}function wm(u){return Tp(u)?u:new Uu(u)}function Pf(u){return Tp(u)?u:new Uu(u).saturate(.5).darken(.1).hexString()}const q1=["x","y","borderWidth","radius","tension"],Y1=["color","borderColor","backgroundColor"];function G1(u){u.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),u.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:a=>a!=="onProgress"&&a!=="onComplete"&&a!=="fn"}),u.set("animations",{colors:{type:"color",properties:Y1},numbers:{type:"number",properties:q1}}),u.describe("animations",{_fallback:"animation"}),u.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:a=>a|0}}}})}function K1(u){u.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const km=new Map;function X1(u,a){a=a||{};const r=u+JSON.stringify(a);let c=km.get(r);return c||(c=new Intl.NumberFormat(u,a),km.set(r,c)),c}function Qu(u,a,r){return X1(a,r).format(u)}const I0={values(u){return hi(u)?u:""+u},numeric(u,a,r){if(u===0)return"0";const c=this.chart.options.locale;let f,g=u;if(r.length>1){const T=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(T<1e-4||T>1e15)&&(f="scientific"),g=J1(u,r)}const b=Sr(Math.abs(g)),C=isNaN(b)?1:Math.max(Math.min(-1*Math.floor(b),20),0),S={notation:f,minimumFractionDigits:C,maximumFractionDigits:C};return Object.assign(S,this.options.ticks.format),Qu(u,c,S)},logarithmic(u,a,r){if(u===0)return"0";const c=r[a].significand||u/Math.pow(10,Math.floor(Sr(u)));return[1,2,3,5,10,15].includes(c)||a>.8*r.length?I0.numeric.call(this,u,a,r):""}};function J1(u,a){let r=a.length>3?a[2].value-a[1].value:a[1].value-a[0].value;return Math.abs(r)>=1&&u!==Math.floor(u)&&(r=u-Math.floor(u)),r}var _h={formatters:I0};function Z1(u){u.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(a,r)=>r.lineWidth,tickColor:(a,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_h.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),u.route("scale.ticks","color","","color"),u.route("scale.grid","color","","borderColor"),u.route("scale.border","color","","borderColor"),u.route("scale.title","color","","color"),u.describe("scale",{_fallback:!1,_scriptable:a=>!a.startsWith("before")&&!a.startsWith("after")&&a!=="callback"&&a!=="parser",_indexable:a=>a!=="borderDash"&&a!=="tickBorderDash"&&a!=="dash"}),u.describe("scales",{_fallback:"scale"}),u.describe("scale.ticks",{_scriptable:a=>a!=="backdropPadding"&&a!=="callback",_indexable:a=>a!=="backdropPadding"})}const Co=Object.create(null),ip=Object.create(null);function Ru(u,a){if(!a)return u;const r=a.split(".");for(let c=0,f=r.length;c<f;++c){const g=r[c];u=u[g]||(u[g]=Object.create(null))}return u}function Bf(u,a,r){return typeof a=="string"?aa(Ru(u,a),r):aa(Ru(u,""),a)}class Q1{constructor(a,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=c=>c.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(c,f)=>Pf(f.backgroundColor),this.hoverBorderColor=(c,f)=>Pf(f.borderColor),this.hoverColor=(c,f)=>Pf(f.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(a),this.apply(r)}set(a,r){return Bf(this,a,r)}get(a){return Ru(this,a)}describe(a,r){return Bf(ip,a,r)}override(a,r){return Bf(Co,a,r)}route(a,r,c,f){const g=Ru(this,a),b=Ru(this,c),C="_"+r;Object.defineProperties(g,{[C]:{value:g[r],writable:!0},[r]:{enumerable:!0,get(){const S=this[C],T=b[f];return It(S)?Object.assign({},T,S):At(S,T)},set(S){this[C]=S}}})}apply(a){a.forEach(r=>r(this))}}var pi=new Q1({_scriptable:u=>!u.startsWith("on"),_indexable:u=>u!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[G1,K1,Z1]);function ex(u){return!u||Mt(u.size)||Mt(u.family)?null:(u.style?u.style+" ":"")+(u.weight?u.weight+" ":"")+u.size+"px "+u.family}function fh(u,a,r,c,f){let g=a[f];return g||(g=a[f]=u.measureText(f).width,r.push(f)),g>c&&(c=g),c}function tx(u,a,r,c){c=c||{};let f=c.data=c.data||{},g=c.garbageCollect=c.garbageCollect||[];c.font!==a&&(f=c.data={},g=c.garbageCollect=[],c.font=a),u.save(),u.font=a;let b=0;const C=r.length;let S,T,A,O,N;for(S=0;S<C;S++)if(O=r[S],O!=null&&!hi(O))b=fh(u,f,g,b,O);else if(hi(O))for(T=0,A=O.length;T<A;T++)N=O[T],N!=null&&!hi(N)&&(b=fh(u,f,g,b,N));u.restore();const $=g.length/2;if($>r.length){for(S=0;S<$;S++)delete f[g[S]];g.splice(0,$)}return b}function fo(u,a,r){const c=u.currentDevicePixelRatio,f=r!==0?Math.max(r/2,.5):0;return Math.round((a-f)*c)/c+f}function Sm(u,a){!a&&!u||(a=a||u.getContext("2d"),a.save(),a.resetTransform(),a.clearRect(0,0,u.width,u.height),a.restore())}function np(u,a,r,c){L0(u,a,r,c,null)}function L0(u,a,r,c,f){let g,b,C,S,T,A,O,N;const $=a.pointStyle,q=a.rotation,Q=a.radius;let te=(q||0)*P1;if($&&typeof $=="object"&&(g=$.toString(),g==="[object HTMLImageElement]"||g==="[object HTMLCanvasElement]")){u.save(),u.translate(r,c),u.rotate(te),u.drawImage($,-$.width/2,-$.height/2,$.width,$.height),u.restore();return}if(!(isNaN(Q)||Q<=0)){switch(u.beginPath(),$){default:f?u.ellipse(r,c,f/2,Q,0,0,fi):u.arc(r,c,Q,0,fi),u.closePath();break;case"triangle":A=f?f/2:Q,u.moveTo(r+Math.sin(te)*A,c-Math.cos(te)*Q),te+=vm,u.lineTo(r+Math.sin(te)*A,c-Math.cos(te)*Q),te+=vm,u.lineTo(r+Math.sin(te)*A,c-Math.cos(te)*Q),u.closePath();break;case"rectRounded":T=Q*.516,S=Q-T,b=Math.cos(te+ho)*S,O=Math.cos(te+ho)*(f?f/2-T:S),C=Math.sin(te+ho)*S,N=Math.sin(te+ho)*(f?f/2-T:S),u.arc(r-O,c-C,T,te-mi,te-zi),u.arc(r+N,c-b,T,te-zi,te),u.arc(r+O,c+C,T,te,te+zi),u.arc(r-N,c+b,T,te+zi,te+mi),u.closePath();break;case"rect":if(!q){S=Math.SQRT1_2*Q,A=f?f/2:S,u.rect(r-A,c-S,2*A,2*S);break}te+=ho;case"rectRot":O=Math.cos(te)*(f?f/2:Q),b=Math.cos(te)*Q,C=Math.sin(te)*Q,N=Math.sin(te)*(f?f/2:Q),u.moveTo(r-O,c-C),u.lineTo(r+N,c-b),u.lineTo(r+O,c+C),u.lineTo(r-N,c+b),u.closePath();break;case"crossRot":te+=ho;case"cross":O=Math.cos(te)*(f?f/2:Q),b=Math.cos(te)*Q,C=Math.sin(te)*Q,N=Math.sin(te)*(f?f/2:Q),u.moveTo(r-O,c-C),u.lineTo(r+O,c+C),u.moveTo(r+N,c-b),u.lineTo(r-N,c+b);break;case"star":O=Math.cos(te)*(f?f/2:Q),b=Math.cos(te)*Q,C=Math.sin(te)*Q,N=Math.sin(te)*(f?f/2:Q),u.moveTo(r-O,c-C),u.lineTo(r+O,c+C),u.moveTo(r+N,c-b),u.lineTo(r-N,c+b),te+=ho,O=Math.cos(te)*(f?f/2:Q),b=Math.cos(te)*Q,C=Math.sin(te)*Q,N=Math.sin(te)*(f?f/2:Q),u.moveTo(r-O,c-C),u.lineTo(r+O,c+C),u.moveTo(r+N,c-b),u.lineTo(r-N,c+b);break;case"line":b=f?f/2:Math.cos(te)*Q,C=Math.sin(te)*Q,u.moveTo(r-b,c-C),u.lineTo(r+b,c+C);break;case"dash":u.moveTo(r,c),u.lineTo(r+Math.cos(te)*(f?f/2:Q),c+Math.sin(te)*Q);break;case!1:u.closePath();break}u.fill(),a.borderWidth>0&&u.stroke()}}function Na(u,a,r){return r=r||.5,!a||u&&u.x>a.left-r&&u.x<a.right+r&&u.y>a.top-r&&u.y<a.bottom+r}function xh(u,a){u.save(),u.beginPath(),u.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),u.clip()}function Ch(u){u.restore()}function ix(u,a,r,c,f){if(!a)return u.lineTo(r.x,r.y);if(f==="middle"){const g=(a.x+r.x)/2;u.lineTo(g,a.y),u.lineTo(g,r.y)}else f==="after"!=!!c?u.lineTo(a.x,r.y):u.lineTo(r.x,a.y);u.lineTo(r.x,r.y)}function nx(u,a,r,c){if(!a)return u.lineTo(r.x,r.y);u.bezierCurveTo(c?a.cp1x:a.cp2x,c?a.cp1y:a.cp2y,c?r.cp2x:r.cp1x,c?r.cp2y:r.cp1y,r.x,r.y)}function sx(u,a){a.translation&&u.translate(a.translation[0],a.translation[1]),Mt(a.rotation)||u.rotate(a.rotation),a.color&&(u.fillStyle=a.color),a.textAlign&&(u.textAlign=a.textAlign),a.textBaseline&&(u.textBaseline=a.textBaseline)}function ax(u,a,r,c,f){if(f.strikethrough||f.underline){const g=u.measureText(c),b=a-g.actualBoundingBoxLeft,C=a+g.actualBoundingBoxRight,S=r-g.actualBoundingBoxAscent,T=r+g.actualBoundingBoxDescent,A=f.strikethrough?(S+T)/2:T;u.strokeStyle=u.fillStyle,u.beginPath(),u.lineWidth=f.decorationWidth||2,u.moveTo(b,A),u.lineTo(C,A),u.stroke()}}function rx(u,a){const r=u.fillStyle;u.fillStyle=a.color,u.fillRect(a.left,a.top,a.width,a.height),u.fillStyle=r}function wo(u,a,r,c,f,g={}){const b=hi(a)?a:[a],C=g.strokeWidth>0&&g.strokeColor!=="";let S,T;for(u.save(),u.font=f.string,sx(u,g),S=0;S<b.length;++S)T=b[S],g.backdrop&&rx(u,g.backdrop),C&&(g.strokeColor&&(u.strokeStyle=g.strokeColor),Mt(g.strokeWidth)||(u.lineWidth=g.strokeWidth),u.strokeText(T,r,c,g.maxWidth)),u.fillText(T,r,c,g.maxWidth),ax(u,r,c,T,g),c+=Number(f.lineHeight);u.restore()}function Gu(u,a){const{x:r,y:c,w:f,h:g,radius:b}=a;u.arc(r+b.topLeft,c+b.topLeft,b.topLeft,1.5*mi,mi,!0),u.lineTo(r,c+g-b.bottomLeft),u.arc(r+b.bottomLeft,c+g-b.bottomLeft,b.bottomLeft,mi,zi,!0),u.lineTo(r+f-b.bottomRight,c+g),u.arc(r+f-b.bottomRight,c+g-b.bottomRight,b.bottomRight,zi,0,!0),u.lineTo(r+f,c+b.topRight),u.arc(r+f-b.topRight,c+b.topRight,b.topRight,0,-zi,!0),u.lineTo(r+b.topLeft,c)}const ox=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lx=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ux(u,a){const r=(""+u).match(ox);if(!r||r[1]==="normal")return a*1.2;switch(u=+r[2],r[3]){case"px":return u;case"%":u/=100;break}return a*u}const cx=u=>+u||0;function Ep(u,a){const r={},c=It(a),f=c?Object.keys(a):a,g=It(u)?c?b=>At(u[b],u[a[b]]):b=>u[b]:()=>u;for(const b of f)r[b]=cx(g(b));return r}function O0(u){return Ep(u,{top:"y",right:"x",bottom:"y",left:"x"})}function _o(u){return Ep(u,["topLeft","topRight","bottomLeft","bottomRight"])}function bn(u){const a=O0(u);return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function Wi(u,a){u=u||{},a=a||pi.font;let r=At(u.size,a.size);typeof r=="string"&&(r=parseInt(r,10));let c=At(u.style,a.style);c&&!(""+c).match(lx)&&(console.warn('Invalid font style specified: "'+c+'"'),c=void 0);const f={family:At(u.family,a.family),lineHeight:ux(At(u.lineHeight,a.lineHeight),r),size:r,style:c,weight:At(u.weight,a.weight),string:""};return f.string=ex(f),f}function di(u,a,r,c){let f,g,b;for(f=0,g=u.length;f<g;++f)if(b=u[f],b!==void 0&&(a!==void 0&&typeof b=="function"&&(b=b(a)),r!==void 0&&hi(b)&&(b=b[r%b.length]),b!==void 0))return b}function dx(u,a,r){const{min:c,max:f}=u,g=C0(a,(f-c)/2),b=(C,S)=>r&&C===0?0:C+S;return{min:b(c,-Math.abs(g)),max:b(f,g)}}function Fr(u,a){return Object.assign(Object.create(u),a)}function Ap(u,a=[""],r,c,f=()=>u[0]){const g=r||u;typeof c>"u"&&(c=R0("_fallback",u));const b={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:u,_rootScopes:g,_fallback:c,_getTarget:f,override:C=>Ap([C,...u],a,g,c)};return new Proxy(b,{deleteProperty(C,S){return delete C[S],delete C._keys,delete u[0][S],!0},get(C,S){return B0(C,S,()=>yx(S,a,u,C))},getOwnPropertyDescriptor(C,S){return Reflect.getOwnPropertyDescriptor(C._scopes[0],S)},getPrototypeOf(){return Reflect.getPrototypeOf(u[0])},has(C,S){return Tm(C).includes(S)},ownKeys(C){return Tm(C)},set(C,S,T){const A=C._storage||(C._storage=f());return C[S]=A[S]=T,delete C._keys,!0}})}function cl(u,a,r,c){const f={_cacheable:!1,_proxy:u,_context:a,_subProxy:r,_stack:new Set,_descriptors:P0(u,c),setContext:g=>cl(u,g,r,c),override:g=>cl(u.override(g),a,r,c)};return new Proxy(f,{deleteProperty(g,b){return delete g[b],delete u[b],!0},get(g,b,C){return B0(g,b,()=>fx(g,b,C))},getOwnPropertyDescriptor(g,b){return g._descriptors.allKeys?Reflect.has(u,b)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(u,b)},getPrototypeOf(){return Reflect.getPrototypeOf(u)},has(g,b){return Reflect.has(u,b)},ownKeys(){return Reflect.ownKeys(u)},set(g,b,C){return u[b]=C,delete g[b],!0}})}function P0(u,a={scriptable:!0,indexable:!0}){const{_scriptable:r=a.scriptable,_indexable:c=a.indexable,_allKeys:f=a.allKeys}=u;return{allKeys:f,scriptable:r,indexable:c,isScriptable:Mr(r)?r:()=>r,isIndexable:Mr(c)?c:()=>c}}const hx=(u,a)=>u?u+wp(a):a,Mp=(u,a)=>It(a)&&u!=="adapters"&&(Object.getPrototypeOf(a)===null||a.constructor===Object);function B0(u,a,r){if(Object.prototype.hasOwnProperty.call(u,a)||a==="constructor")return u[a];const c=r();return u[a]=c,c}function fx(u,a,r){const{_proxy:c,_context:f,_subProxy:g,_descriptors:b}=u;let C=c[a];return Mr(C)&&b.isScriptable(a)&&(C=px(a,C,u,r)),hi(C)&&C.length&&(C=mx(a,C,u,b.isIndexable)),Mp(a,C)&&(C=cl(C,f,g&&g[a],b)),C}function px(u,a,r,c){const{_proxy:f,_context:g,_subProxy:b,_stack:C}=r;if(C.has(u))throw new Error("Recursion detected: "+Array.from(C).join("->")+"->"+u);C.add(u);let S=a(g,b||c);return C.delete(u),Mp(u,S)&&(S=Fp(f._scopes,f,u,S)),S}function mx(u,a,r,c){const{_proxy:f,_context:g,_subProxy:b,_descriptors:C}=r;if(typeof g.index<"u"&&c(u))return a[g.index%a.length];if(It(a[0])){const S=a,T=f._scopes.filter(A=>A!==S);a=[];for(const A of S){const O=Fp(T,f,u,A);a.push(cl(O,g,b&&b[u],C))}}return a}function N0(u,a,r){return Mr(u)?u(a,r):u}const gx=(u,a)=>u===!0?a:typeof u=="string"?Ar(a,u):void 0;function vx(u,a,r,c,f){for(const g of a){const b=gx(r,g);if(b){u.add(b);const C=N0(b._fallback,r,f);if(typeof C<"u"&&C!==r&&C!==c)return C}else if(b===!1&&typeof c<"u"&&r!==c)return null}return!1}function Fp(u,a,r,c){const f=a._rootScopes,g=N0(a._fallback,r,c),b=[...u,...f],C=new Set;C.add(c);let S=Dm(C,b,r,g||r,c);return S===null||typeof g<"u"&&g!==r&&(S=Dm(C,b,g,S,c),S===null)?!1:Ap(Array.from(C),[""],f,g,()=>bx(a,r,c))}function Dm(u,a,r,c,f){for(;r;)r=vx(u,a,r,c,f);return r}function bx(u,a,r){const c=u._getTarget();a in c||(c[a]={});const f=c[a];return hi(f)&&It(r)?r:f||{}}function yx(u,a,r,c){let f;for(const g of a)if(f=R0(hx(g,u),r),typeof f<"u")return Mp(u,f)?Fp(r,c,u,f):f}function R0(u,a){for(const r of a){if(!r)continue;const c=r[u];if(typeof c<"u")return c}}function Tm(u){let a=u._keys;return a||(a=u._keys=_x(u._scopes)),a}function _x(u){const a=new Set;for(const r of u)for(const c of Object.keys(r).filter(f=>!f.startsWith("_")))a.add(c);return Array.from(a)}function z0(u,a,r,c){const{iScale:f}=u,{key:g="r"}=this._parsing,b=new Array(c);let C,S,T,A;for(C=0,S=c;C<S;++C)T=C+r,A=a[T],b[C]={r:f.parse(Ar(A,g),T)};return b}const xx=Number.EPSILON||1e-14,dl=(u,a)=>a<u.length&&!u[a].skip&&u[a],H0=u=>u==="x"?"y":"x";function Cx(u,a,r,c){const f=u.skip?a:u,g=a,b=r.skip?a:r,C=tp(g,f),S=tp(b,g);let T=C/(C+S),A=S/(C+S);T=isNaN(T)?0:T,A=isNaN(A)?0:A;const O=c*T,N=c*A;return{previous:{x:g.x-O*(b.x-f.x),y:g.y-O*(b.y-f.y)},next:{x:g.x+N*(b.x-f.x),y:g.y+N*(b.y-f.y)}}}function wx(u,a,r){const c=u.length;let f,g,b,C,S,T=dl(u,0);for(let A=0;A<c-1;++A)if(S=T,T=dl(u,A+1),!(!S||!T)){if(Bu(a[A],0,xx)){r[A]=r[A+1]=0;continue}f=r[A]/a[A],g=r[A+1]/a[A],C=Math.pow(f,2)+Math.pow(g,2),!(C<=9)&&(b=3/Math.sqrt(C),r[A]=f*b*a[A],r[A+1]=g*b*a[A])}}function kx(u,a,r="x"){const c=H0(r),f=u.length;let g,b,C,S=dl(u,0);for(let T=0;T<f;++T){if(b=C,C=S,S=dl(u,T+1),!C)continue;const A=C[r],O=C[c];b&&(g=(A-b[r])/3,C[`cp1${r}`]=A-g,C[`cp1${c}`]=O-g*a[T]),S&&(g=(S[r]-A)/3,C[`cp2${r}`]=A+g,C[`cp2${c}`]=O+g*a[T])}}function Sx(u,a="x"){const r=H0(a),c=u.length,f=Array(c).fill(0),g=Array(c);let b,C,S,T=dl(u,0);for(b=0;b<c;++b)if(C=S,S=T,T=dl(u,b+1),!!S){if(T){const A=T[a]-S[a];f[b]=A!==0?(T[r]-S[r])/A:0}g[b]=C?T?sa(f[b-1])!==sa(f[b])?0:(f[b-1]+f[b])/2:f[b-1]:f[b]}wx(u,f,g),kx(u,g,a)}function Hd(u,a,r){return Math.max(Math.min(u,r),a)}function Dx(u,a){let r,c,f,g,b,C=Na(u[0],a);for(r=0,c=u.length;r<c;++r)b=g,g=C,C=r<c-1&&Na(u[r+1],a),g&&(f=u[r],b&&(f.cp1x=Hd(f.cp1x,a.left,a.right),f.cp1y=Hd(f.cp1y,a.top,a.bottom)),C&&(f.cp2x=Hd(f.cp2x,a.left,a.right),f.cp2y=Hd(f.cp2y,a.top,a.bottom)))}function Tx(u,a,r,c,f){let g,b,C,S;if(a.spanGaps&&(u=u.filter(T=>!T.skip)),a.cubicInterpolationMode==="monotone")Sx(u,f);else{let T=c?u[u.length-1]:u[0];for(g=0,b=u.length;g<b;++g)C=u[g],S=Cx(T,C,u[Math.min(g+1,b-(c?0:1))%b],a.tension),C.cp1x=S.previous.x,C.cp1y=S.previous.y,C.cp2x=S.next.x,C.cp2y=S.next.y,T=C}a.capBezierPoints&&Dx(u,r)}function Ip(){return typeof window<"u"&&typeof document<"u"}function Lp(u){let a=u.parentNode;return a&&a.toString()==="[object ShadowRoot]"&&(a=a.host),a}function ph(u,a,r){let c;return typeof u=="string"?(c=parseInt(u,10),u.indexOf("%")!==-1&&(c=c/100*a.parentNode[r])):c=u,c}const wh=u=>u.ownerDocument.defaultView.getComputedStyle(u,null);function Ex(u,a){return wh(u).getPropertyValue(a)}const Ax=["top","right","bottom","left"];function xo(u,a,r){const c={};r=r?"-"+r:"";for(let f=0;f<4;f++){const g=Ax[f];c[g]=parseFloat(u[a+"-"+g+r])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}const Mx=(u,a,r)=>(u>0||a>0)&&(!r||!r.shadowRoot);function Fx(u,a){const r=u.touches,c=r&&r.length?r[0]:u,{offsetX:f,offsetY:g}=c;let b=!1,C,S;if(Mx(f,g,u.target))C=f,S=g;else{const T=a.getBoundingClientRect();C=c.clientX-T.left,S=c.clientY-T.top,b=!0}return{x:C,y:S,box:b}}function go(u,a){if("native"in u)return u;const{canvas:r,currentDevicePixelRatio:c}=a,f=wh(r),g=f.boxSizing==="border-box",b=xo(f,"padding"),C=xo(f,"border","width"),{x:S,y:T,box:A}=Fx(u,r),O=b.left+(A&&C.left),N=b.top+(A&&C.top);let{width:$,height:q}=a;return g&&($-=b.width+C.width,q-=b.height+C.height),{x:Math.round((S-O)/$*r.width/c),y:Math.round((T-N)/q*r.height/c)}}function Ix(u,a,r){let c,f;if(a===void 0||r===void 0){const g=u&&Lp(u);if(!g)a=u.clientWidth,r=u.clientHeight;else{const b=g.getBoundingClientRect(),C=wh(g),S=xo(C,"border","width"),T=xo(C,"padding");a=b.width-T.width-S.width,r=b.height-T.height-S.height,c=ph(C.maxWidth,g,"clientWidth"),f=ph(C.maxHeight,g,"clientHeight")}}return{width:a,height:r,maxWidth:c||hh,maxHeight:f||hh}}const $d=u=>Math.round(u*10)/10;function Lx(u,a,r,c){const f=wh(u),g=xo(f,"margin"),b=ph(f.maxWidth,u,"clientWidth")||hh,C=ph(f.maxHeight,u,"clientHeight")||hh,S=Ix(u,a,r);let{width:T,height:A}=S;if(f.boxSizing==="content-box"){const N=xo(f,"border","width"),$=xo(f,"padding");T-=$.width+N.width,A-=$.height+N.height}return T=Math.max(0,T-g.width),A=Math.max(0,c?T/c:A-g.height),T=$d(Math.min(T,b,S.maxWidth)),A=$d(Math.min(A,C,S.maxHeight)),T&&!A&&(A=$d(T/2)),(a!==void 0||r!==void 0)&&c&&S.height&&A>S.height&&(A=S.height,T=$d(Math.floor(A*c))),{width:T,height:A}}function Em(u,a,r){const c=a||1,f=Math.floor(u.height*c),g=Math.floor(u.width*c);u.height=Math.floor(u.height),u.width=Math.floor(u.width);const b=u.canvas;return b.style&&(r||!b.style.height&&!b.style.width)&&(b.style.height=`${u.height}px`,b.style.width=`${u.width}px`),u.currentDevicePixelRatio!==c||b.height!==f||b.width!==g?(u.currentDevicePixelRatio=c,b.height=f,b.width=g,u.ctx.setTransform(c,0,0,c,0,0),!0):!1}const Ox=function(){let u=!1;try{const a={get passive(){return u=!0,!1}};Ip()&&(window.addEventListener("test",null,a),window.removeEventListener("test",null,a))}catch{}return u}();function Am(u,a){const r=Ex(u,a),c=r&&r.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function vo(u,a,r,c){return{x:u.x+r*(a.x-u.x),y:u.y+r*(a.y-u.y)}}function Px(u,a,r,c){return{x:u.x+r*(a.x-u.x),y:c==="middle"?r<.5?u.y:a.y:c==="after"?r<1?u.y:a.y:r>0?a.y:u.y}}function Bx(u,a,r,c){const f={x:u.cp2x,y:u.cp2y},g={x:a.cp1x,y:a.cp1y},b=vo(u,f,r),C=vo(f,g,r),S=vo(g,a,r),T=vo(b,C,r),A=vo(C,S,r);return vo(T,A,r)}const Nx=function(u,a){return{x(r){return u+u+a-r},setWidth(r){a=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,c){return r-c},leftForLtr(r,c){return r-c}}},Rx=function(){return{x(u){return u},setWidth(u){},textAlign(u){return u},xPlus(u,a){return u+a},leftForLtr(u,a){return u}}};function ll(u,a,r){return u?Nx(a,r):Rx()}function $0(u,a){let r,c;(a==="ltr"||a==="rtl")&&(r=u.canvas.style,c=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",a,"important"),u.prevTextDirection=c)}function V0(u,a){a!==void 0&&(delete u.prevTextDirection,u.canvas.style.setProperty("direction",a[0],a[1]))}function W0(u){return u==="angle"?{between:Yu,compare:z1,normalize:is}:{between:Pa,compare:(a,r)=>a-r,normalize:a=>a}}function Mm({start:u,end:a,count:r,loop:c,style:f}){return{start:u%r,end:a%r,loop:c&&(a-u+1)%r===0,style:f}}function zx(u,a,r){const{property:c,start:f,end:g}=r,{between:b,normalize:C}=W0(c),S=a.length;let{start:T,end:A,loop:O}=u,N,$;if(O){for(T+=S,A+=S,N=0,$=S;N<$&&b(C(a[T%S][c]),f,g);++N)T--,A--;T%=S,A%=S}return A<T&&(A+=S),{start:T,end:A,loop:O,style:u.style}}function j0(u,a,r){if(!r)return[u];const{property:c,start:f,end:g}=r,b=a.length,{compare:C,between:S,normalize:T}=W0(c),{start:A,end:O,loop:N,style:$}=zx(u,a,r),q=[];let Q=!1,te=null,J,K,le;const se=()=>S(f,le,J)&&C(f,le)!==0,ae=()=>C(g,J)===0||S(g,le,J),ke=()=>Q||se(),ye=()=>!Q||ae();for(let be=A,Te=A;be<=O;++be)K=a[be%b],!K.skip&&(J=T(K[c]),J!==le&&(Q=S(J,f,g),te===null&&ke()&&(te=C(J,f)===0?be:Te),te!==null&&ye()&&(q.push(Mm({start:te,end:be,loop:N,count:b,style:$})),te=null),Te=be,le=J));return te!==null&&q.push(Mm({start:te,end:O,loop:N,count:b,style:$})),q}function U0(u,a){const r=[],c=u.segments;for(let f=0;f<c.length;f++){const g=j0(c[f],u.points,a);g.length&&r.push(...g)}return r}function Hx(u,a,r,c){let f=0,g=a-1;if(r&&!c)for(;f<a&&!u[f].skip;)f++;for(;f<a&&u[f].skip;)f++;for(f%=a,r&&(g+=f);g>f&&u[g%a].skip;)g--;return g%=a,{start:f,end:g}}function $x(u,a,r,c){const f=u.length,g=[];let b=a,C=u[a],S;for(S=a+1;S<=r;++S){const T=u[S%f];T.skip||T.stop?C.skip||(c=!1,g.push({start:a%f,end:(S-1)%f,loop:c}),a=b=T.stop?S:null):(b=S,C.skip&&(a=S)),C=T}return b!==null&&g.push({start:a%f,end:b%f,loop:c}),g}function Vx(u,a){const r=u.points,c=u.options.spanGaps,f=r.length;if(!f)return[];const g=!!u._loop,{start:b,end:C}=Hx(r,f,g,c);if(c===!0)return Fm(u,[{start:b,end:C,loop:g}],r,a);const S=C<b?C+f:C,T=!!u._fullLoop&&b===0&&C===f-1;return Fm(u,$x(r,b,S,T),r,a)}function Fm(u,a,r,c){return!c||!c.setContext||!r?a:Wx(u,a,r,c)}function Wx(u,a,r,c){const f=u._chart.getContext(),g=Im(u.options),{_datasetIndex:b,options:{spanGaps:C}}=u,S=r.length,T=[];let A=g,O=a[0].start,N=O;function $(q,Q,te,J){const K=C?-1:1;if(q!==Q){for(q+=S;r[q%S].skip;)q-=K;for(;r[Q%S].skip;)Q+=K;q%S!==Q%S&&(T.push({start:q%S,end:Q%S,loop:te,style:J}),A=J,O=Q%S)}}for(const q of a){O=C?O:q.start;let Q=r[O%S],te;for(N=O+1;N<=q.end;N++){const J=r[N%S];te=Im(c.setContext(Fr(f,{type:"segment",p0:Q,p1:J,p0DataIndex:(N-1)%S,p1DataIndex:N%S,datasetIndex:b}))),jx(te,A)&&$(O,N-1,q.loop,A),Q=J,A=te}O<N-1&&$(O,N-1,q.loop,A)}return T}function Im(u){return{backgroundColor:u.backgroundColor,borderCapStyle:u.borderCapStyle,borderDash:u.borderDash,borderDashOffset:u.borderDashOffset,borderJoinStyle:u.borderJoinStyle,borderWidth:u.borderWidth,borderColor:u.borderColor}}function jx(u,a){if(!a)return!1;const r=[],c=function(f,g){return Tp(g)?(r.includes(g)||r.push(g),r.indexOf(g)):g};return JSON.stringify(u,c)!==JSON.stringify(a,c)}function Vd(u,a,r){return u.options.clip?u[r]:a[r]}function Ux(u,a){const{xScale:r,yScale:c}=u;return r&&c?{left:Vd(r,a,"left"),right:Vd(r,a,"right"),top:Vd(c,a,"top"),bottom:Vd(c,a,"bottom")}:a}function q0(u,a){const r=a._clip;if(r.disabled)return!1;const c=Ux(a,u.chartArea);return{left:r.left===!1?0:c.left-(r.left===!0?0:r.left),right:r.right===!1?u.width:c.right+(r.right===!0?0:r.right),top:r.top===!1?0:c.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?u.height:c.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class qx{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(a,r,c,f){const g=r.listeners[f],b=r.duration;g.forEach(C=>C({chart:a,initial:r.initial,numSteps:b,currentStep:Math.min(c-r.start,b)}))}_refresh(){this._request||(this._running=!0,this._request=E0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(a=Date.now()){let r=0;this._charts.forEach((c,f)=>{if(!c.running||!c.items.length)return;const g=c.items;let b=g.length-1,C=!1,S;for(;b>=0;--b)S=g[b],S._active?(S._total>c.duration&&(c.duration=S._total),S.tick(a),C=!0):(g[b]=g[g.length-1],g.pop());C&&(f.draw(),this._notify(f,c,a,"progress")),g.length||(c.running=!1,this._notify(f,c,a,"complete"),c.initial=!1),r+=g.length}),this._lastDate=a,r===0&&(this._running=!1)}_getAnims(a){const r=this._charts;let c=r.get(a);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(a,c)),c}listen(a,r,c){this._getAnims(a).listeners[r].push(c)}add(a,r){!r||!r.length||this._getAnims(a).items.push(...r)}has(a){return this._getAnims(a).items.length>0}start(a){const r=this._charts.get(a);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((c,f)=>Math.max(c,f._duration),0),this._refresh())}running(a){if(!this._running)return!1;const r=this._charts.get(a);return!(!r||!r.running||!r.items.length)}stop(a){const r=this._charts.get(a);if(!r||!r.items.length)return;const c=r.items;let f=c.length-1;for(;f>=0;--f)c[f].cancel();r.items=[],this._notify(a,r,Date.now(),"complete")}remove(a){return this._charts.delete(a)}}var Fa=new qx;const Lm="transparent",Yx={boolean(u,a,r){return r>.5?a:u},color(u,a,r){const c=wm(u||Lm),f=c.valid&&wm(a||Lm);return f&&f.valid?f.mix(c,r).hexString():a},number(u,a,r){return u+(a-u)*r}};class Gx{constructor(a,r,c,f){const g=r[c];f=di([a.to,f,g,a.from]);const b=di([a.from,g,f]);this._active=!0,this._fn=a.fn||Yx[a.type||typeof b],this._easing=Nu[a.easing]||Nu.linear,this._start=Math.floor(Date.now()+(a.delay||0)),this._duration=this._total=Math.floor(a.duration),this._loop=!!a.loop,this._target=r,this._prop=c,this._from=b,this._to=f,this._promises=void 0}active(){return this._active}update(a,r,c){if(this._active){this._notify(!1);const f=this._target[this._prop],g=c-this._start,b=this._duration-g;this._start=c,this._duration=Math.floor(Math.max(b,a.duration)),this._total+=g,this._loop=!!a.loop,this._to=di([a.to,r,f,a.from]),this._from=di([a.from,f,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(a){const r=a-this._start,c=this._duration,f=this._prop,g=this._from,b=this._loop,C=this._to;let S;if(this._active=g!==C&&(b||r<c),!this._active){this._target[f]=C,this._notify(!0);return}if(r<0){this._target[f]=g;return}S=r/c%2,S=b&&S>1?2-S:S,S=this._easing(Math.min(1,Math.max(0,S))),this._target[f]=this._fn(g,C,S)}wait(){const a=this._promises||(this._promises=[]);return new Promise((r,c)=>{a.push({res:r,rej:c})})}_notify(a){const r=a?"res":"rej",c=this._promises||[];for(let f=0;f<c.length;f++)c[f][r]()}}class Y0{constructor(a,r){this._chart=a,this._properties=new Map,this.configure(r)}configure(a){if(!It(a))return;const r=Object.keys(pi.animation),c=this._properties;Object.getOwnPropertyNames(a).forEach(f=>{const g=a[f];if(!It(g))return;const b={};for(const C of r)b[C]=g[C];(hi(g.properties)&&g.properties||[f]).forEach(C=>{(C===f||!c.has(C))&&c.set(C,b)})})}_animateOptions(a,r){const c=r.options,f=Xx(a,c);if(!f)return[];const g=this._createAnimations(f,c);return c.$shared&&Kx(a.options.$animations,c).then(()=>{a.options=c},()=>{}),g}_createAnimations(a,r){const c=this._properties,f=[],g=a.$animations||(a.$animations={}),b=Object.keys(r),C=Date.now();let S;for(S=b.length-1;S>=0;--S){const T=b[S];if(T.charAt(0)==="$")continue;if(T==="options"){f.push(...this._animateOptions(a,r));continue}const A=r[T];let O=g[T];const N=c.get(T);if(O)if(N&&O.active()){O.update(N,A,C);continue}else O.cancel();if(!N||!N.duration){a[T]=A;continue}g[T]=O=new Gx(N,a,T,A),f.push(O)}return f}update(a,r){if(this._properties.size===0){Object.assign(a,r);return}const c=this._createAnimations(a,r);if(c.length)return Fa.add(this._chart,c),!0}}function Kx(u,a){const r=[],c=Object.keys(a);for(let f=0;f<c.length;f++){const g=u[c[f]];g&&g.active()&&r.push(g.wait())}return Promise.all(r)}function Xx(u,a){if(!a)return;let r=u.options;if(!r){u.options=a;return}return r.$shared&&(u.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Om(u,a){const r=u&&u.options||{},c=r.reverse,f=r.min===void 0?a:0,g=r.max===void 0?a:0;return{start:c?g:f,end:c?f:g}}function Jx(u,a,r){if(r===!1)return!1;const c=Om(u,r),f=Om(a,r);return{top:f.end,right:c.end,bottom:f.start,left:c.start}}function Zx(u){let a,r,c,f;return It(u)?(a=u.top,r=u.right,c=u.bottom,f=u.left):a=r=c=f=u,{top:a,right:r,bottom:c,left:f,disabled:u===!1}}function G0(u,a){const r=[],c=u._getSortedDatasetMetas(a);let f,g;for(f=0,g=c.length;f<g;++f)r.push(c[f].index);return r}function Pm(u,a,r,c={}){const f=u.keys,g=c.mode==="single";let b,C,S,T;if(a===null)return;let A=!1;for(b=0,C=f.length;b<C;++b){if(S=+f[b],S===r){if(A=!0,c.all)continue;break}T=u.values[S],Ii(T)&&(g||a===0||sa(a)===sa(T))&&(a+=T)}return!A&&!c.all?0:a}function Qx(u,a){const{iScale:r,vScale:c}=a,f=r.axis==="x"?"x":"y",g=c.axis==="x"?"x":"y",b=Object.keys(u),C=new Array(b.length);let S,T,A;for(S=0,T=b.length;S<T;++S)A=b[S],C[S]={[f]:A,[g]:u[A]};return C}function Nf(u,a){const r=u&&u.options.stacked;return r||r===void 0&&a.stack!==void 0}function eC(u,a,r){return`${u.id}.${a.id}.${r.stack||r.type}`}function tC(u){const{min:a,max:r,minDefined:c,maxDefined:f}=u.getUserBounds();return{min:c?a:Number.NEGATIVE_INFINITY,max:f?r:Number.POSITIVE_INFINITY}}function iC(u,a,r){const c=u[a]||(u[a]={});return c[r]||(c[r]={})}function Bm(u,a,r,c){for(const f of a.getMatchingVisibleMetas(c).reverse()){const g=u[f.index];if(r&&g>0||!r&&g<0)return f.index}return null}function Nm(u,a){const{chart:r,_cachedMeta:c}=u,f=r._stacks||(r._stacks={}),{iScale:g,vScale:b,index:C}=c,S=g.axis,T=b.axis,A=eC(g,b,c),O=a.length;let N;for(let $=0;$<O;++$){const q=a[$],{[S]:Q,[T]:te}=q,J=q._stacks||(q._stacks={});N=J[T]=iC(f,A,Q),N[C]=te,N._top=Bm(N,b,!0,c.type),N._bottom=Bm(N,b,!1,c.type);const K=N._visualValues||(N._visualValues={});K[C]=te}}function Rf(u,a){const r=u.scales;return Object.keys(r).filter(c=>r[c].axis===a).shift()}function nC(u,a){return Fr(u,{active:!1,dataset:void 0,datasetIndex:a,index:a,mode:"default",type:"dataset"})}function sC(u,a,r){return Fr(u,{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:r,index:a,mode:"default",type:"data"})}function xu(u,a){const r=u.controller.index,c=u.vScale&&u.vScale.axis;if(c){a=a||u._parsed;for(const f of a){const g=f._stacks;if(!g||g[c]===void 0||g[c][r]===void 0)return;delete g[c][r],g[c]._visualValues!==void 0&&g[c]._visualValues[r]!==void 0&&delete g[c]._visualValues[r]}}}const zf=u=>u==="reset"||u==="none",Rm=(u,a)=>a?u:Object.assign({},u),aC=(u,a,r)=>u&&!a.hidden&&a._stacked&&{keys:G0(r,!0),values:null};class Is{constructor(a,r){this.chart=a,this._ctx=a.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const a=this._cachedMeta;this.configure(),this.linkScales(),a._stacked=Nf(a.vScale,a),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(a){this.index!==a&&xu(this._cachedMeta),this.index=a}linkScales(){const a=this.chart,r=this._cachedMeta,c=this.getDataset(),f=(O,N,$,q)=>O==="x"?N:O==="r"?q:$,g=r.xAxisID=At(c.xAxisID,Rf(a,"x")),b=r.yAxisID=At(c.yAxisID,Rf(a,"y")),C=r.rAxisID=At(c.rAxisID,Rf(a,"r")),S=r.indexAxis,T=r.iAxisID=f(S,g,b,C),A=r.vAxisID=f(S,b,g,C);r.xScale=this.getScaleForId(g),r.yScale=this.getScaleForId(b),r.rScale=this.getScaleForId(C),r.iScale=this.getScaleForId(T),r.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(a){return this.chart.scales[a]}_getOtherScale(a){const r=this._cachedMeta;return a===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const a=this._cachedMeta;this._data&&_m(this._data,this),a._stacked&&xu(a)}_dataCheck(){const a=this.getDataset(),r=a.data||(a.data=[]),c=this._data;if(It(r)){const f=this._cachedMeta;this._data=Qx(r,f)}else if(c!==r){if(c){_m(c,this);const f=this._cachedMeta;xu(f),f._parsed=[]}r&&Object.isExtensible(r)&&W1(r,this),this._syncList=[],this._data=r}}addElements(){const a=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(a.dataset=new this.datasetElementType)}buildOrUpdateElements(a){const r=this._cachedMeta,c=this.getDataset();let f=!1;this._dataCheck();const g=r._stacked;r._stacked=Nf(r.vScale,r),r.stack!==c.stack&&(f=!0,xu(r),r.stack=c.stack),this._resyncElements(a),(f||g!==r._stacked)&&(Nm(this,r._parsed),r._stacked=Nf(r.vScale,r))}configure(){const a=this.chart.config,r=a.datasetScopeKeys(this._type),c=a.getOptionScopes(this.getDataset(),r,!0);this.options=a.createResolver(c,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(a,r){const{_cachedMeta:c,_data:f}=this,{iScale:g,_stacked:b}=c,C=g.axis;let S=a===0&&r===f.length?!0:c._sorted,T=a>0&&c._parsed[a-1],A,O,N;if(this._parsing===!1)c._parsed=f,c._sorted=!0,N=f;else{hi(f[a])?N=this.parseArrayData(c,f,a,r):It(f[a])?N=this.parseObjectData(c,f,a,r):N=this.parsePrimitiveData(c,f,a,r);const $=()=>O[C]===null||T&&O[C]<T[C];for(A=0;A<r;++A)c._parsed[A+a]=O=N[A],S&&($()&&(S=!1),T=O);c._sorted=S}b&&Nm(this,N)}parsePrimitiveData(a,r,c,f){const{iScale:g,vScale:b}=a,C=g.axis,S=b.axis,T=g.getLabels(),A=g===b,O=new Array(f);let N,$,q;for(N=0,$=f;N<$;++N)q=N+c,O[N]={[C]:A||g.parse(T[q],q),[S]:b.parse(r[q],q)};return O}parseArrayData(a,r,c,f){const{xScale:g,yScale:b}=a,C=new Array(f);let S,T,A,O;for(S=0,T=f;S<T;++S)A=S+c,O=r[A],C[S]={x:g.parse(O[0],A),y:b.parse(O[1],A)};return C}parseObjectData(a,r,c,f){const{xScale:g,yScale:b}=a,{xAxisKey:C="x",yAxisKey:S="y"}=this._parsing,T=new Array(f);let A,O,N,$;for(A=0,O=f;A<O;++A)N=A+c,$=r[N],T[A]={x:g.parse(Ar($,C),N),y:b.parse(Ar($,S),N)};return T}getParsed(a){return this._cachedMeta._parsed[a]}getDataElement(a){return this._cachedMeta.data[a]}applyStack(a,r,c){const f=this.chart,g=this._cachedMeta,b=r[a.axis],C={keys:G0(f,!0),values:r._stacks[a.axis]._visualValues};return Pm(C,b,g.index,{mode:c})}updateRangeFromParsed(a,r,c,f){const g=c[r.axis];let b=g===null?NaN:g;const C=f&&c._stacks[r.axis];f&&C&&(f.values=C,b=Pm(f,g,this._cachedMeta.index)),a.min=Math.min(a.min,b),a.max=Math.max(a.max,b)}getMinMax(a,r){const c=this._cachedMeta,f=c._parsed,g=c._sorted&&a===c.iScale,b=f.length,C=this._getOtherScale(a),S=aC(r,c,this.chart),T={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:O}=tC(C);let N,$;function q(){$=f[N];const Q=$[C.axis];return!Ii($[a.axis])||A>Q||O<Q}for(N=0;N<b&&!(!q()&&(this.updateRangeFromParsed(T,a,$,S),g));++N);if(g){for(N=b-1;N>=0;--N)if(!q()){this.updateRangeFromParsed(T,a,$,S);break}}return T}getAllParsedValues(a){const r=this._cachedMeta._parsed,c=[];let f,g,b;for(f=0,g=r.length;f<g;++f)b=r[f][a.axis],Ii(b)&&c.push(b);return c}getMaxOverflow(){return!1}getLabelAndValue(a){const r=this._cachedMeta,c=r.iScale,f=r.vScale,g=this.getParsed(a);return{label:c?""+c.getLabelForValue(g[c.axis]):"",value:f?""+f.getLabelForValue(g[f.axis]):""}}_update(a){const r=this._cachedMeta;this.update(a||"default"),r._clip=Zx(At(this.options.clip,Jx(r.xScale,r.yScale,this.getMaxOverflow())))}update(a){}draw(){const a=this._ctx,r=this.chart,c=this._cachedMeta,f=c.data||[],g=r.chartArea,b=[],C=this._drawStart||0,S=this._drawCount||f.length-C,T=this.options.drawActiveElementsOnTop;let A;for(c.dataset&&c.dataset.draw(a,g,C,S),A=C;A<C+S;++A){const O=f[A];O.hidden||(O.active&&T?b.push(O):O.draw(a,g))}for(A=0;A<b.length;++A)b[A].draw(a,g)}getStyle(a,r){const c=r?"active":"default";return a===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(c):this.resolveDataElementOptions(a||0,c)}getContext(a,r,c){const f=this.getDataset();let g;if(a>=0&&a<this._cachedMeta.data.length){const b=this._cachedMeta.data[a];g=b.$context||(b.$context=sC(this.getContext(),a,b)),g.parsed=this.getParsed(a),g.raw=f.data[a],g.index=g.dataIndex=a}else g=this.$context||(this.$context=nC(this.chart.getContext(),this.index)),g.dataset=f,g.index=g.datasetIndex=this.index;return g.active=!!r,g.mode=c,g}resolveDatasetElementOptions(a){return this._resolveElementOptions(this.datasetElementType.id,a)}resolveDataElementOptions(a,r){return this._resolveElementOptions(this.dataElementType.id,r,a)}_resolveElementOptions(a,r="default",c){const f=r==="active",g=this._cachedDataOpts,b=a+"-"+r,C=g[b],S=this.enableOptionSharing&&qu(c);if(C)return Rm(C,S);const T=this.chart.config,A=T.datasetElementScopeKeys(this._type,a),O=f?[`${a}Hover`,"hover",a,""]:[a,""],N=T.getOptionScopes(this.getDataset(),A),$=Object.keys(pi.elements[a]),q=()=>this.getContext(c,f,r),Q=T.resolveNamedOptions(N,$,q,O);return Q.$shared&&(Q.$shared=S,g[b]=Object.freeze(Rm(Q,S))),Q}_resolveAnimations(a,r,c){const f=this.chart,g=this._cachedDataOpts,b=`animation-${r}`,C=g[b];if(C)return C;let S;if(f.options.animation!==!1){const A=this.chart.config,O=A.datasetAnimationScopeKeys(this._type,r),N=A.getOptionScopes(this.getDataset(),O);S=A.createResolver(N,this.getContext(a,c,r))}const T=new Y0(f,S&&S.animations);return S&&S._cacheable&&(g[b]=Object.freeze(T)),T}getSharedOptions(a){if(a.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},a))}includeOptions(a,r){return!r||zf(a)||this.chart._animationsDisabled}_getSharedOptions(a,r){const c=this.resolveDataElementOptions(a,r),f=this._sharedOptions,g=this.getSharedOptions(c),b=this.includeOptions(r,g)||g!==f;return this.updateSharedOptions(g,r,c),{sharedOptions:g,includeOptions:b}}updateElement(a,r,c,f){zf(f)?Object.assign(a,c):this._resolveAnimations(r,f).update(a,c)}updateSharedOptions(a,r,c){a&&!zf(r)&&this._resolveAnimations(void 0,r).update(a,c)}_setStyle(a,r,c,f){a.active=f;const g=this.getStyle(r,f);this._resolveAnimations(r,c,f).update(a,{options:!f&&this.getSharedOptions(g)||g})}removeHoverStyle(a,r,c){this._setStyle(a,c,"active",!1)}setHoverStyle(a,r,c){this._setStyle(a,c,"active",!0)}_removeDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!1)}_setDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!0)}_resyncElements(a){const r=this._data,c=this._cachedMeta.data;for(const[C,S,T]of this._syncList)this[C](S,T);this._syncList=[];const f=c.length,g=r.length,b=Math.min(g,f);b&&this.parse(0,b),g>f?this._insertElements(f,g-f,a):g<f&&this._removeElements(g,f-g)}_insertElements(a,r,c=!0){const f=this._cachedMeta,g=f.data,b=a+r;let C;const S=T=>{for(T.length+=r,C=T.length-1;C>=b;C--)T[C]=T[C-r]};for(S(g),C=a;C<b;++C)g[C]=new this.dataElementType;this._parsing&&S(f._parsed),this.parse(a,r),c&&this.updateElements(g,a,r,"reset")}updateElements(a,r,c,f){}_removeElements(a,r){const c=this._cachedMeta;if(this._parsing){const f=c._parsed.splice(a,r);c._stacked&&xu(c,f)}c.data.splice(a,r)}_sync(a){if(this._parsing)this._syncList.push(a);else{const[r,c,f]=a;this[r](c,f)}this.chart._dataChanges.push([this.index,...a])}_onDataPush(){const a=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-a,a])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(a,r){r&&this._sync(["_removeElements",a,r]);const c=arguments.length-2;c&&this._sync(["_insertElements",a,c])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}re(Is,"defaults",{}),re(Is,"datasetElementType",null),re(Is,"dataElementType",null);function rC(u,a){if(!u._cache.$bar){const r=u.getMatchingVisibleMetas(a);let c=[];for(let f=0,g=r.length;f<g;f++)c=c.concat(r[f].controller.getAllParsedValues(u));u._cache.$bar=T0(c.sort((f,g)=>f-g))}return u._cache.$bar}function oC(u){const a=u.iScale,r=rC(a,u.type);let c=a._length,f,g,b,C;const S=()=>{b===32767||b===-32768||(qu(C)&&(c=Math.min(c,Math.abs(b-C)||c)),C=b)};for(f=0,g=r.length;f<g;++f)b=a.getPixelForValue(r[f]),S();for(C=void 0,f=0,g=a.ticks.length;f<g;++f)b=a.getPixelForTick(f),S();return c}function lC(u,a,r,c){const f=r.barThickness;let g,b;return Mt(f)?(g=a.min*r.categoryPercentage,b=r.barPercentage):(g=f*c,b=1),{chunk:g/c,ratio:b,start:a.pixels[u]-g/2}}function uC(u,a,r,c){const f=a.pixels,g=f[u];let b=u>0?f[u-1]:null,C=u<f.length-1?f[u+1]:null;const S=r.categoryPercentage;b===null&&(b=g-(C===null?a.end-a.start:C-g)),C===null&&(C=g+g-b);const T=g-(g-Math.min(b,C))/2*S;return{chunk:Math.abs(C-b)/2*S/c,ratio:r.barPercentage,start:T}}function cC(u,a,r,c){const f=r.parse(u[0],c),g=r.parse(u[1],c),b=Math.min(f,g),C=Math.max(f,g);let S=b,T=C;Math.abs(b)>Math.abs(C)&&(S=C,T=b),a[r.axis]=T,a._custom={barStart:S,barEnd:T,start:f,end:g,min:b,max:C}}function K0(u,a,r,c){return hi(u)?cC(u,a,r,c):a[r.axis]=r.parse(u,c),a}function zm(u,a,r,c){const f=u.iScale,g=u.vScale,b=f.getLabels(),C=f===g,S=[];let T,A,O,N;for(T=r,A=r+c;T<A;++T)N=a[T],O={},O[f.axis]=C||f.parse(b[T],T),S.push(K0(N,O,g,T));return S}function Hf(u){return u&&u.barStart!==void 0&&u.barEnd!==void 0}function dC(u,a,r){return u!==0?sa(u):(a.isHorizontal()?1:-1)*(a.min>=r?1:-1)}function hC(u){let a,r,c,f,g;return u.horizontal?(a=u.base>u.x,r="left",c="right"):(a=u.base<u.y,r="bottom",c="top"),a?(f="end",g="start"):(f="start",g="end"),{start:r,end:c,reverse:a,top:f,bottom:g}}function fC(u,a,r,c){let f=a.borderSkipped;const g={};if(!f){u.borderSkipped=g;return}if(f===!0){u.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:b,end:C,reverse:S,top:T,bottom:A}=hC(u);f==="middle"&&r&&(u.enableBorderRadius=!0,(r._top||0)===c?f=T:(r._bottom||0)===c?f=A:(g[Hm(A,b,C,S)]=!0,f=T)),g[Hm(f,b,C,S)]=!0,u.borderSkipped=g}function Hm(u,a,r,c){return c?(u=pC(u,a,r),u=$m(u,r,a)):u=$m(u,a,r),u}function pC(u,a,r){return u===a?r:u===r?a:u}function $m(u,a,r){return u==="start"?a:u==="end"?r:u}function mC(u,{inflateAmount:a},r){u.inflateAmount=a==="auto"?r===1?.33:0:a}class ih extends Is{parsePrimitiveData(a,r,c,f){return zm(a,r,c,f)}parseArrayData(a,r,c,f){return zm(a,r,c,f)}parseObjectData(a,r,c,f){const{iScale:g,vScale:b}=a,{xAxisKey:C="x",yAxisKey:S="y"}=this._parsing,T=g.axis==="x"?C:S,A=b.axis==="x"?C:S,O=[];let N,$,q,Q;for(N=c,$=c+f;N<$;++N)Q=r[N],q={},q[g.axis]=g.parse(Ar(Q,T),N),O.push(K0(Ar(Q,A),q,b,N));return O}updateRangeFromParsed(a,r,c,f){super.updateRangeFromParsed(a,r,c,f);const g=c._custom;g&&r===this._cachedMeta.vScale&&(a.min=Math.min(a.min,g.min),a.max=Math.max(a.max,g.max))}getMaxOverflow(){return 0}getLabelAndValue(a){const r=this._cachedMeta,{iScale:c,vScale:f}=r,g=this.getParsed(a),b=g._custom,C=Hf(b)?"["+b.start+", "+b.end+"]":""+f.getLabelForValue(g[f.axis]);return{label:""+c.getLabelForValue(g[c.axis]),value:C}}initialize(){this.enableOptionSharing=!0,super.initialize();const a=this._cachedMeta;a.stack=this.getDataset().stack}update(a){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,a)}updateElements(a,r,c,f){const g=f==="reset",{index:b,_cachedMeta:{vScale:C}}=this,S=C.getBasePixel(),T=C.isHorizontal(),A=this._getRuler(),{sharedOptions:O,includeOptions:N}=this._getSharedOptions(r,f);for(let $=r;$<r+c;$++){const q=this.getParsed($),Q=g||Mt(q[C.axis])?{base:S,head:S}:this._calculateBarValuePixels($),te=this._calculateBarIndexPixels($,A),J=(q._stacks||{})[C.axis],K={horizontal:T,base:Q.base,enableBorderRadius:!J||Hf(q._custom)||b===J._top||b===J._bottom,x:T?Q.head:te.center,y:T?te.center:Q.head,height:T?te.size:Math.abs(Q.size),width:T?Math.abs(Q.size):te.size};N&&(K.options=O||this.resolveDataElementOptions($,a[$].active?"active":f));const le=K.options||a[$].options;fC(K,le,J,b),mC(K,le,A.ratio),this.updateElement(a[$],$,K,f)}}_getStacks(a,r){const{iScale:c}=this._cachedMeta,f=c.getMatchingVisibleMetas(this._type).filter(A=>A.controller.options.grouped),g=c.options.stacked,b=[],C=this._cachedMeta.controller.getParsed(r),S=C&&C[c.axis],T=A=>{const O=A._parsed.find($=>$[c.axis]===S),N=O&&O[A.vScale.axis];if(Mt(N)||isNaN(N))return!0};for(const A of f)if(!(r!==void 0&&T(A))&&((g===!1||b.indexOf(A.stack)===-1||g===void 0&&A.stack===void 0)&&b.push(A.stack),A.index===a))break;return b.length||b.push(void 0),b}_getStackCount(a){return this._getStacks(void 0,a).length}_getStackIndex(a,r,c){const f=this._getStacks(a,c),g=r!==void 0?f.indexOf(r):-1;return g===-1?f.length-1:g}_getRuler(){const a=this.options,r=this._cachedMeta,c=r.iScale,f=[];let g,b;for(g=0,b=r.data.length;g<b;++g)f.push(c.getPixelForValue(this.getParsed(g)[c.axis],g));const C=a.barThickness;return{min:C||oC(r),pixels:f,start:c._startPixel,end:c._endPixel,stackCount:this._getStackCount(),scale:c,grouped:a.grouped,ratio:C?1:a.categoryPercentage*a.barPercentage}}_calculateBarValuePixels(a){const{_cachedMeta:{vScale:r,_stacked:c,index:f},options:{base:g,minBarLength:b}}=this,C=g||0,S=this.getParsed(a),T=S._custom,A=Hf(T);let O=S[r.axis],N=0,$=c?this.applyStack(r,S,c):O,q,Q;$!==O&&(N=$-O,$=O),A&&(O=T.barStart,$=T.barEnd-T.barStart,O!==0&&sa(O)!==sa(T.barEnd)&&(N=0),N+=O);const te=!Mt(g)&&!A?g:N;let J=r.getPixelForValue(te);if(this.chart.getDataVisibility(a)?q=r.getPixelForValue(N+$):q=J,Q=q-J,Math.abs(Q)<b){Q=dC(Q,r,C)*b,O===C&&(J-=Q/2);const K=r.getPixelForDecimal(0),le=r.getPixelForDecimal(1),se=Math.min(K,le),ae=Math.max(K,le);J=Math.max(Math.min(J,ae),se),q=J+Q,c&&!A&&(S._stacks[r.axis]._visualValues[f]=r.getValueForPixel(q)-r.getValueForPixel(J))}if(J===r.getPixelForValue(C)){const K=sa(Q)*r.getLineWidthForValue(C)/2;J+=K,Q-=K}return{size:Q,base:J,head:q,center:q+Q/2}}_calculateBarIndexPixels(a,r){const c=r.scale,f=this.options,g=f.skipNull,b=At(f.maxBarThickness,1/0);let C,S;if(r.grouped){const T=g?this._getStackCount(a):r.stackCount,A=f.barThickness==="flex"?uC(a,r,f,T):lC(a,r,f,T),O=this._getStackIndex(this.index,this._cachedMeta.stack,g?a:void 0);C=A.start+A.chunk*O+A.chunk/2,S=Math.min(b,A.chunk*A.ratio)}else C=c.getPixelForValue(this.getParsed(a)[c.axis],a),S=Math.min(b,r.min*r.ratio);return{base:C-S/2,head:C+S/2,center:C,size:S}}draw(){const a=this._cachedMeta,r=a.vScale,c=a.data,f=c.length;let g=0;for(;g<f;++g)this.getParsed(g)[r.axis]!==null&&!c[g].hidden&&c[g].draw(this._ctx)}}re(ih,"id","bar"),re(ih,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),re(ih,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class nh extends Is{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(a,r,c,f){const g=super.parsePrimitiveData(a,r,c,f);for(let b=0;b<g.length;b++)g[b]._custom=this.resolveDataElementOptions(b+c).radius;return g}parseArrayData(a,r,c,f){const g=super.parseArrayData(a,r,c,f);for(let b=0;b<g.length;b++){const C=r[c+b];g[b]._custom=At(C[2],this.resolveDataElementOptions(b+c).radius)}return g}parseObjectData(a,r,c,f){const g=super.parseObjectData(a,r,c,f);for(let b=0;b<g.length;b++){const C=r[c+b];g[b]._custom=At(C&&C.r&&+C.r,this.resolveDataElementOptions(b+c).radius)}return g}getMaxOverflow(){const a=this._cachedMeta.data;let r=0;for(let c=a.length-1;c>=0;--c)r=Math.max(r,a[c].size(this.resolveDataElementOptions(c))/2);return r>0&&r}getLabelAndValue(a){const r=this._cachedMeta,c=this.chart.data.labels||[],{xScale:f,yScale:g}=r,b=this.getParsed(a),C=f.getLabelForValue(b.x),S=g.getLabelForValue(b.y),T=b._custom;return{label:c[a]||"",value:"("+C+", "+S+(T?", "+T:"")+")"}}update(a){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,a)}updateElements(a,r,c,f){const g=f==="reset",{iScale:b,vScale:C}=this._cachedMeta,{sharedOptions:S,includeOptions:T}=this._getSharedOptions(r,f),A=b.axis,O=C.axis;for(let N=r;N<r+c;N++){const $=a[N],q=!g&&this.getParsed(N),Q={},te=Q[A]=g?b.getPixelForDecimal(.5):b.getPixelForValue(q[A]),J=Q[O]=g?C.getBasePixel():C.getPixelForValue(q[O]);Q.skip=isNaN(te)||isNaN(J),T&&(Q.options=S||this.resolveDataElementOptions(N,$.active?"active":f),g&&(Q.options.radius=0)),this.updateElement($,N,Q,f)}}resolveDataElementOptions(a,r){const c=this.getParsed(a);let f=super.resolveDataElementOptions(a,r);f.$shared&&(f=Object.assign({},f,{$shared:!1}));const g=f.radius;return r!=="active"&&(f.radius=0),f.radius+=At(c&&c._custom,g),f}}re(nh,"id","bubble"),re(nh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),re(nh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function gC(u,a,r){let c=1,f=1,g=0,b=0;if(a<fi){const C=u,S=C+a,T=Math.cos(C),A=Math.sin(C),O=Math.cos(S),N=Math.sin(S),$=(le,se,ae)=>Yu(le,C,S,!0)?1:Math.max(se,se*r,ae,ae*r),q=(le,se,ae)=>Yu(le,C,S,!0)?-1:Math.min(se,se*r,ae,ae*r),Q=$(0,T,O),te=$(zi,A,N),J=q(mi,T,O),K=q(mi+zi,A,N);c=(Q-J)/2,f=(te-K)/2,g=-(Q+J)/2,b=-(te+K)/2}return{ratioX:c,ratioY:f,offsetX:g,offsetY:b}}class yo extends Is{constructor(a,r){super(a,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(a,r){const c=this.getDataset().data,f=this._cachedMeta;if(this._parsing===!1)f._parsed=c;else{let g=S=>+c[S];if(It(c[a])){const{key:S="value"}=this._parsing;g=T=>+Ar(c[T],S)}let b,C;for(b=a,C=a+r;b<C;++b)f._parsed[b]=g(b)}}_getRotation(){return Fs(this.options.rotation-90)}_getCircumference(){return Fs(this.options.circumference)}_getRotationExtents(){let a=fi,r=-fi;for(let c=0;c<this.chart.data.datasets.length;++c)if(this.chart.isDatasetVisible(c)&&this.chart.getDatasetMeta(c).type===this._type){const f=this.chart.getDatasetMeta(c).controller,g=f._getRotation(),b=f._getCircumference();a=Math.min(a,g),r=Math.max(r,g+b)}return{rotation:a,circumference:r-a}}update(a){const r=this.chart,{chartArea:c}=r,f=this._cachedMeta,g=f.data,b=this.getMaxBorderWidth()+this.getMaxOffset(g)+this.options.spacing,C=Math.max((Math.min(c.width,c.height)-b)/2,0),S=Math.min(E1(this.options.cutout,C),1),T=this._getRingWeight(this.index),{circumference:A,rotation:O}=this._getRotationExtents(),{ratioX:N,ratioY:$,offsetX:q,offsetY:Q}=gC(O,A,S),te=(c.width-b)/N,J=(c.height-b)/$,K=Math.max(Math.min(te,J)/2,0),le=C0(this.options.radius,K),se=Math.max(le*S,0),ae=(le-se)/this._getVisibleDatasetWeightTotal();this.offsetX=q*le,this.offsetY=Q*le,f.total=this.calculateTotal(),this.outerRadius=le-ae*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ae*T,0),this.updateElements(g,0,g.length,a)}_circumference(a,r){const c=this.options,f=this._cachedMeta,g=this._getCircumference();return r&&c.animation.animateRotate||!this.chart.getDataVisibility(a)||f._parsed[a]===null||f.data[a].hidden?0:this.calculateCircumference(f._parsed[a]*g/fi)}updateElements(a,r,c,f){const g=f==="reset",b=this.chart,C=b.chartArea,T=b.options.animation,A=(C.left+C.right)/2,O=(C.top+C.bottom)/2,N=g&&T.animateScale,$=N?0:this.innerRadius,q=N?0:this.outerRadius,{sharedOptions:Q,includeOptions:te}=this._getSharedOptions(r,f);let J=this._getRotation(),K;for(K=0;K<r;++K)J+=this._circumference(K,g);for(K=r;K<r+c;++K){const le=this._circumference(K,g),se=a[K],ae={x:A+this.offsetX,y:O+this.offsetY,startAngle:J,endAngle:J+le,circumference:le,outerRadius:q,innerRadius:$};te&&(ae.options=Q||this.resolveDataElementOptions(K,se.active?"active":f)),J+=le,this.updateElement(se,K,ae,f)}}calculateTotal(){const a=this._cachedMeta,r=a.data;let c=0,f;for(f=0;f<r.length;f++){const g=a._parsed[f];g!==null&&!isNaN(g)&&this.chart.getDataVisibility(f)&&!r[f].hidden&&(c+=Math.abs(g))}return c}calculateCircumference(a){const r=this._cachedMeta.total;return r>0&&!isNaN(a)?fi*(Math.abs(a)/r):0}getLabelAndValue(a){const r=this._cachedMeta,c=this.chart,f=c.data.labels||[],g=Qu(r._parsed[a],c.options.locale);return{label:f[a]||"",value:g}}getMaxBorderWidth(a){let r=0;const c=this.chart;let f,g,b,C,S;if(!a){for(f=0,g=c.data.datasets.length;f<g;++f)if(c.isDatasetVisible(f)){b=c.getDatasetMeta(f),a=b.data,C=b.controller;break}}if(!a)return 0;for(f=0,g=a.length;f<g;++f)S=C.resolveDataElementOptions(f),S.borderAlign!=="inner"&&(r=Math.max(r,S.borderWidth||0,S.hoverBorderWidth||0));return r}getMaxOffset(a){let r=0;for(let c=0,f=a.length;c<f;++c){const g=this.resolveDataElementOptions(c);r=Math.max(r,g.offset||0,g.hoverOffset||0)}return r}_getRingWeightOffset(a){let r=0;for(let c=0;c<a;++c)this.chart.isDatasetVisible(c)&&(r+=this._getRingWeight(c));return r}_getRingWeight(a){return Math.max(At(this.chart.data.datasets[a].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}re(yo,"id","doughnut"),re(yo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),re(yo,"descriptors",{_scriptable:a=>a!=="spacing",_indexable:a=>a!=="spacing"&&!a.startsWith("borderDash")&&!a.startsWith("hoverBorderDash")}),re(yo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const r=a.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:c,color:f}}=a.legend.options;return r.labels.map((g,b)=>{const S=a.getDatasetMeta(0).controller.getStyle(b);return{text:g,fillStyle:S.backgroundColor,strokeStyle:S.borderColor,fontColor:f,lineWidth:S.borderWidth,pointStyle:c,hidden:!a.getDataVisibility(b),index:b}})}return[]}},onClick(a,r,c){c.chart.toggleDataVisibility(r.index),c.chart.update()}}}});class sh extends Is{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(a){const r=this._cachedMeta,{dataset:c,data:f=[],_dataset:g}=r,b=this.chart._animationsDisabled;let{start:C,count:S}=M0(r,f,b);this._drawStart=C,this._drawCount=S,F0(r)&&(C=0,S=f.length),c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!g._decimated,c.points=f;const T=this.resolveDatasetElementOptions(a);this.options.showLine||(T.borderWidth=0),T.segment=this.options.segment,this.updateElement(c,void 0,{animated:!b,options:T},a),this.updateElements(f,C,S,a)}updateElements(a,r,c,f){const g=f==="reset",{iScale:b,vScale:C,_stacked:S,_dataset:T}=this._cachedMeta,{sharedOptions:A,includeOptions:O}=this._getSharedOptions(r,f),N=b.axis,$=C.axis,{spanGaps:q,segment:Q}=this.options,te=ul(q)?q:Number.POSITIVE_INFINITY,J=this.chart._animationsDisabled||g||f==="none",K=r+c,le=a.length;let se=r>0&&this.getParsed(r-1);for(let ae=0;ae<le;++ae){const ke=a[ae],ye=J?ke:{};if(ae<r||ae>=K){ye.skip=!0;continue}const be=this.getParsed(ae),Te=Mt(be[$]),Ke=ye[N]=b.getPixelForValue(be[N],ae),Le=ye[$]=g||Te?C.getBasePixel():C.getPixelForValue(S?this.applyStack(C,be,S):be[$],ae);ye.skip=isNaN(Ke)||isNaN(Le)||Te,ye.stop=ae>0&&Math.abs(be[N]-se[N])>te,Q&&(ye.parsed=be,ye.raw=T.data[ae]),O&&(ye.options=A||this.resolveDataElementOptions(ae,ke.active?"active":f)),J||this.updateElement(ke,ae,ye,f),se=be}}getMaxOverflow(){const a=this._cachedMeta,r=a.dataset,c=r.options&&r.options.borderWidth||0,f=a.data||[];if(!f.length)return c;const g=f[0].size(this.resolveDataElementOptions(0)),b=f[f.length-1].size(this.resolveDataElementOptions(f.length-1));return Math.max(c,g,b)/2}draw(){const a=this._cachedMeta;a.dataset.updateControlPoints(this.chart.chartArea,a.iScale.axis),super.draw()}}re(sh,"id","line"),re(sh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),re(sh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class zu extends Is{constructor(a,r){super(a,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(a){const r=this._cachedMeta,c=this.chart,f=c.data.labels||[],g=Qu(r._parsed[a].r,c.options.locale);return{label:f[a]||"",value:g}}parseObjectData(a,r,c,f){return z0.bind(this)(a,r,c,f)}update(a){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,a)}getMinMax(){const a=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return a.data.forEach((c,f)=>{const g=this.getParsed(f).r;!isNaN(g)&&this.chart.getDataVisibility(f)&&(g<r.min&&(r.min=g),g>r.max&&(r.max=g))}),r}_updateRadius(){const a=this.chart,r=a.chartArea,c=a.options,f=Math.min(r.right-r.left,r.bottom-r.top),g=Math.max(f/2,0),b=Math.max(c.cutoutPercentage?g/100*c.cutoutPercentage:1,0),C=(g-b)/a.getVisibleDatasetCount();this.outerRadius=g-C*this.index,this.innerRadius=this.outerRadius-C}updateElements(a,r,c,f){const g=f==="reset",b=this.chart,S=b.options.animation,T=this._cachedMeta.rScale,A=T.xCenter,O=T.yCenter,N=T.getIndexAngle(0)-.5*mi;let $=N,q;const Q=360/this.countVisibleElements();for(q=0;q<r;++q)$+=this._computeAngle(q,f,Q);for(q=r;q<r+c;q++){const te=a[q];let J=$,K=$+this._computeAngle(q,f,Q),le=b.getDataVisibility(q)?T.getDistanceFromCenterForValue(this.getParsed(q).r):0;$=K,g&&(S.animateScale&&(le=0),S.animateRotate&&(J=K=N));const se={x:A,y:O,innerRadius:0,outerRadius:le,startAngle:J,endAngle:K,options:this.resolveDataElementOptions(q,te.active?"active":f)};this.updateElement(te,q,se,f)}}countVisibleElements(){const a=this._cachedMeta;let r=0;return a.data.forEach((c,f)=>{!isNaN(this.getParsed(f).r)&&this.chart.getDataVisibility(f)&&r++}),r}_computeAngle(a,r,c){return this.chart.getDataVisibility(a)?Fs(this.resolveDataElementOptions(a,r).angle||c):0}}re(zu,"id","polarArea"),re(zu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),re(zu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const r=a.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:c,color:f}}=a.legend.options;return r.labels.map((g,b)=>{const S=a.getDatasetMeta(0).controller.getStyle(b);return{text:g,fillStyle:S.backgroundColor,strokeStyle:S.borderColor,fontColor:f,lineWidth:S.borderWidth,pointStyle:c,hidden:!a.getDataVisibility(b),index:b}})}return[]}},onClick(a,r,c){c.chart.toggleDataVisibility(r.index),c.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class sp extends yo{}re(sp,"id","pie"),re(sp,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class ah extends Is{getLabelAndValue(a){const r=this._cachedMeta.vScale,c=this.getParsed(a);return{label:r.getLabels()[a],value:""+r.getLabelForValue(c[r.axis])}}parseObjectData(a,r,c,f){return z0.bind(this)(a,r,c,f)}update(a){const r=this._cachedMeta,c=r.dataset,f=r.data||[],g=r.iScale.getLabels();if(c.points=f,a!=="resize"){const b=this.resolveDatasetElementOptions(a);this.options.showLine||(b.borderWidth=0);const C={_loop:!0,_fullLoop:g.length===f.length,options:b};this.updateElement(c,void 0,C,a)}this.updateElements(f,0,f.length,a)}updateElements(a,r,c,f){const g=this._cachedMeta.rScale,b=f==="reset";for(let C=r;C<r+c;C++){const S=a[C],T=this.resolveDataElementOptions(C,S.active?"active":f),A=g.getPointPositionForValue(C,this.getParsed(C).r),O=b?g.xCenter:A.x,N=b?g.yCenter:A.y,$={x:O,y:N,angle:A.angle,skip:isNaN(O)||isNaN(N),options:T};this.updateElement(S,C,$,f)}}}re(ah,"id","radar"),re(ah,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),re(ah,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class rh extends Is{getLabelAndValue(a){const r=this._cachedMeta,c=this.chart.data.labels||[],{xScale:f,yScale:g}=r,b=this.getParsed(a),C=f.getLabelForValue(b.x),S=g.getLabelForValue(b.y);return{label:c[a]||"",value:"("+C+", "+S+")"}}update(a){const r=this._cachedMeta,{data:c=[]}=r,f=this.chart._animationsDisabled;let{start:g,count:b}=M0(r,c,f);if(this._drawStart=g,this._drawCount=b,F0(r)&&(g=0,b=c.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:C,_dataset:S}=r;C._chart=this.chart,C._datasetIndex=this.index,C._decimated=!!S._decimated,C.points=c;const T=this.resolveDatasetElementOptions(a);T.segment=this.options.segment,this.updateElement(C,void 0,{animated:!f,options:T},a)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(c,g,b,a)}addElements(){const{showLine:a}=this.options;!this.datasetElementType&&a&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(a,r,c,f){const g=f==="reset",{iScale:b,vScale:C,_stacked:S,_dataset:T}=this._cachedMeta,A=this.resolveDataElementOptions(r,f),O=this.getSharedOptions(A),N=this.includeOptions(f,O),$=b.axis,q=C.axis,{spanGaps:Q,segment:te}=this.options,J=ul(Q)?Q:Number.POSITIVE_INFINITY,K=this.chart._animationsDisabled||g||f==="none";let le=r>0&&this.getParsed(r-1);for(let se=r;se<r+c;++se){const ae=a[se],ke=this.getParsed(se),ye=K?ae:{},be=Mt(ke[q]),Te=ye[$]=b.getPixelForValue(ke[$],se),Ke=ye[q]=g||be?C.getBasePixel():C.getPixelForValue(S?this.applyStack(C,ke,S):ke[q],se);ye.skip=isNaN(Te)||isNaN(Ke)||be,ye.stop=se>0&&Math.abs(ke[$]-le[$])>J,te&&(ye.parsed=ke,ye.raw=T.data[se]),N&&(ye.options=O||this.resolveDataElementOptions(se,ae.active?"active":f)),K||this.updateElement(ae,se,ye,f),le=ke}this.updateSharedOptions(O,f,A)}getMaxOverflow(){const a=this._cachedMeta,r=a.data||[];if(!this.options.showLine){let C=0;for(let S=r.length-1;S>=0;--S)C=Math.max(C,r[S].size(this.resolveDataElementOptions(S))/2);return C>0&&C}const c=a.dataset,f=c.options&&c.options.borderWidth||0;if(!r.length)return f;const g=r[0].size(this.resolveDataElementOptions(0)),b=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(f,g,b)/2}}re(rh,"id","scatter"),re(rh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),re(rh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var vC=Object.freeze({__proto__:null,BarController:ih,BubbleController:nh,DoughnutController:yo,LineController:sh,PieController:sp,PolarAreaController:zu,RadarController:ah,ScatterController:rh});function po(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Op{constructor(a){re(this,"options");this.options=a||{}}static override(a){Object.assign(Op.prototype,a)}init(){}formats(){return po()}parse(){return po()}format(){return po()}add(){return po()}diff(){return po()}startOf(){return po()}endOf(){return po()}}var X0={_date:Op};function bC(u,a,r,c){const{controller:f,data:g,_sorted:b}=u,C=f._cachedMeta.iScale,S=u.dataset&&u.dataset.options?u.dataset.options.spanGaps:null;if(C&&a===C.axis&&a!=="r"&&b&&g.length){const T=C._reversePixels?$1:Ba;if(c){if(f._sharedOptions){const A=g[0],O=typeof A.getRange=="function"&&A.getRange(a);if(O){const N=T(g,a,r-O),$=T(g,a,r+O);return{lo:N.lo,hi:$.hi}}}}else{const A=T(g,a,r);if(S){const{vScale:O}=f._cachedMeta,{_parsed:N}=u,$=N.slice(0,A.lo+1).reverse().findIndex(Q=>!Mt(Q[O.axis]));A.lo-=Math.max(0,$);const q=N.slice(A.hi).findIndex(Q=>!Mt(Q[O.axis]));A.hi+=Math.max(0,q)}return A}}return{lo:0,hi:g.length-1}}function kh(u,a,r,c,f){const g=u.getSortedVisibleDatasetMetas(),b=r[a];for(let C=0,S=g.length;C<S;++C){const{index:T,data:A}=g[C],{lo:O,hi:N}=bC(g[C],a,b,f);for(let $=O;$<=N;++$){const q=A[$];q.skip||c(q,T,$)}}}function yC(u){const a=u.indexOf("x")!==-1,r=u.indexOf("y")!==-1;return function(c,f){const g=a?Math.abs(c.x-f.x):0,b=r?Math.abs(c.y-f.y):0;return Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}}function $f(u,a,r,c,f){const g=[];return!f&&!u.isPointInArea(a)||kh(u,r,a,function(C,S,T){!f&&!Na(C,u.chartArea,0)||C.inRange(a.x,a.y,c)&&g.push({element:C,datasetIndex:S,index:T})},!0),g}function _C(u,a,r,c){let f=[];function g(b,C,S){const{startAngle:T,endAngle:A}=b.getProps(["startAngle","endAngle"],c),{angle:O}=S0(b,{x:a.x,y:a.y});Yu(O,T,A)&&f.push({element:b,datasetIndex:C,index:S})}return kh(u,r,a,g),f}function xC(u,a,r,c,f,g){let b=[];const C=yC(r);let S=Number.POSITIVE_INFINITY;function T(A,O,N){const $=A.inRange(a.x,a.y,f);if(c&&!$)return;const q=A.getCenterPoint(f);if(!(!!g||u.isPointInArea(q))&&!$)return;const te=C(a,q);te<S?(b=[{element:A,datasetIndex:O,index:N}],S=te):te===S&&b.push({element:A,datasetIndex:O,index:N})}return kh(u,r,a,T),b}function Vf(u,a,r,c,f,g){return!g&&!u.isPointInArea(a)?[]:r==="r"&&!c?_C(u,a,r,f):xC(u,a,r,c,f,g)}function Vm(u,a,r,c,f){const g=[],b=r==="x"?"inXRange":"inYRange";let C=!1;return kh(u,r,a,(S,T,A)=>{S[b]&&S[b](a[r],f)&&(g.push({element:S,datasetIndex:T,index:A}),C=C||S.inRange(a.x,a.y,f))}),c&&!C?[]:g}var CC={modes:{index(u,a,r,c){const f=go(a,u),g=r.axis||"x",b=r.includeInvisible||!1,C=r.intersect?$f(u,f,g,c,b):Vf(u,f,g,!1,c,b),S=[];return C.length?(u.getSortedVisibleDatasetMetas().forEach(T=>{const A=C[0].index,O=T.data[A];O&&!O.skip&&S.push({element:O,datasetIndex:T.index,index:A})}),S):[]},dataset(u,a,r,c){const f=go(a,u),g=r.axis||"xy",b=r.includeInvisible||!1;let C=r.intersect?$f(u,f,g,c,b):Vf(u,f,g,!1,c,b);if(C.length>0){const S=C[0].datasetIndex,T=u.getDatasetMeta(S).data;C=[];for(let A=0;A<T.length;++A)C.push({element:T[A],datasetIndex:S,index:A})}return C},point(u,a,r,c){const f=go(a,u),g=r.axis||"xy",b=r.includeInvisible||!1;return $f(u,f,g,c,b)},nearest(u,a,r,c){const f=go(a,u),g=r.axis||"xy",b=r.includeInvisible||!1;return Vf(u,f,g,r.intersect,c,b)},x(u,a,r,c){const f=go(a,u);return Vm(u,f,"x",r.intersect,c)},y(u,a,r,c){const f=go(a,u);return Vm(u,f,"y",r.intersect,c)}}};const J0=["left","top","right","bottom"];function Cu(u,a){return u.filter(r=>r.pos===a)}function Wm(u,a){return u.filter(r=>J0.indexOf(r.pos)===-1&&r.box.axis===a)}function wu(u,a){return u.sort((r,c)=>{const f=a?c:r,g=a?r:c;return f.weight===g.weight?f.index-g.index:f.weight-g.weight})}function wC(u){const a=[];let r,c,f,g,b,C;for(r=0,c=(u||[]).length;r<c;++r)f=u[r],{position:g,options:{stack:b,stackWeight:C=1}}=f,a.push({index:r,box:f,pos:g,horizontal:f.isHorizontal(),weight:f.weight,stack:b&&g+b,stackWeight:C});return a}function kC(u){const a={};for(const r of u){const{stack:c,pos:f,stackWeight:g}=r;if(!c||!J0.includes(f))continue;const b=a[c]||(a[c]={count:0,placed:0,weight:0,size:0});b.count++,b.weight+=g}return a}function SC(u,a){const r=kC(u),{vBoxMaxWidth:c,hBoxMaxHeight:f}=a;let g,b,C;for(g=0,b=u.length;g<b;++g){C=u[g];const{fullSize:S}=C.box,T=r[C.stack],A=T&&C.stackWeight/T.weight;C.horizontal?(C.width=A?A*c:S&&a.availableWidth,C.height=f):(C.width=c,C.height=A?A*f:S&&a.availableHeight)}return r}function DC(u){const a=wC(u),r=wu(a.filter(T=>T.box.fullSize),!0),c=wu(Cu(a,"left"),!0),f=wu(Cu(a,"right")),g=wu(Cu(a,"top"),!0),b=wu(Cu(a,"bottom")),C=Wm(a,"x"),S=Wm(a,"y");return{fullSize:r,leftAndTop:c.concat(g),rightAndBottom:f.concat(S).concat(b).concat(C),chartArea:Cu(a,"chartArea"),vertical:c.concat(f).concat(S),horizontal:g.concat(b).concat(C)}}function jm(u,a,r,c){return Math.max(u[r],a[r])+Math.max(u[c],a[c])}function Z0(u,a){u.top=Math.max(u.top,a.top),u.left=Math.max(u.left,a.left),u.bottom=Math.max(u.bottom,a.bottom),u.right=Math.max(u.right,a.right)}function TC(u,a,r,c){const{pos:f,box:g}=r,b=u.maxPadding;if(!It(f)){r.size&&(u[f]-=r.size);const O=c[r.stack]||{size:0,count:1};O.size=Math.max(O.size,r.horizontal?g.height:g.width),r.size=O.size/O.count,u[f]+=r.size}g.getPadding&&Z0(b,g.getPadding());const C=Math.max(0,a.outerWidth-jm(b,u,"left","right")),S=Math.max(0,a.outerHeight-jm(b,u,"top","bottom")),T=C!==u.w,A=S!==u.h;return u.w=C,u.h=S,r.horizontal?{same:T,other:A}:{same:A,other:T}}function EC(u){const a=u.maxPadding;function r(c){const f=Math.max(a[c]-u[c],0);return u[c]+=f,f}u.y+=r("top"),u.x+=r("left"),r("right"),r("bottom")}function AC(u,a){const r=a.maxPadding;function c(f){const g={left:0,top:0,right:0,bottom:0};return f.forEach(b=>{g[b]=Math.max(a[b],r[b])}),g}return c(u?["left","right"]:["top","bottom"])}function Iu(u,a,r,c){const f=[];let g,b,C,S,T,A;for(g=0,b=u.length,T=0;g<b;++g){C=u[g],S=C.box,S.update(C.width||a.w,C.height||a.h,AC(C.horizontal,a));const{same:O,other:N}=TC(a,r,C,c);T|=O&&f.length,A=A||N,S.fullSize||f.push(C)}return T&&Iu(f,a,r,c)||A}function Wd(u,a,r,c,f){u.top=r,u.left=a,u.right=a+c,u.bottom=r+f,u.width=c,u.height=f}function Um(u,a,r,c){const f=r.padding;let{x:g,y:b}=a;for(const C of u){const S=C.box,T=c[C.stack]||{placed:0,weight:1},A=C.stackWeight/T.weight||1;if(C.horizontal){const O=a.w*A,N=T.size||S.height;qu(T.start)&&(b=T.start),S.fullSize?Wd(S,f.left,b,r.outerWidth-f.right-f.left,N):Wd(S,a.left+T.placed,b,O,N),T.start=b,T.placed+=O,b=S.bottom}else{const O=a.h*A,N=T.size||S.width;qu(T.start)&&(g=T.start),S.fullSize?Wd(S,g,f.top,N,r.outerHeight-f.bottom-f.top):Wd(S,g,a.top+T.placed,N,O),T.start=g,T.placed+=O,g=S.right}}a.x=g,a.y=b}var Dn={addBox(u,a){u.boxes||(u.boxes=[]),a.fullSize=a.fullSize||!1,a.position=a.position||"top",a.weight=a.weight||0,a._layers=a._layers||function(){return[{z:0,draw(r){a.draw(r)}}]},u.boxes.push(a)},removeBox(u,a){const r=u.boxes?u.boxes.indexOf(a):-1;r!==-1&&u.boxes.splice(r,1)},configure(u,a,r){a.fullSize=r.fullSize,a.position=r.position,a.weight=r.weight},update(u,a,r,c){if(!u)return;const f=bn(u.options.layout.padding),g=Math.max(a-f.width,0),b=Math.max(r-f.height,0),C=DC(u.boxes),S=C.vertical,T=C.horizontal;Jt(u.boxes,Q=>{typeof Q.beforeLayout=="function"&&Q.beforeLayout()});const A=S.reduce((Q,te)=>te.box.options&&te.box.options.display===!1?Q:Q+1,0)||1,O=Object.freeze({outerWidth:a,outerHeight:r,padding:f,availableWidth:g,availableHeight:b,vBoxMaxWidth:g/2/A,hBoxMaxHeight:b/2}),N=Object.assign({},f);Z0(N,bn(c));const $=Object.assign({maxPadding:N,w:g,h:b,x:f.left,y:f.top},f),q=SC(S.concat(T),O);Iu(C.fullSize,$,O,q),Iu(S,$,O,q),Iu(T,$,O,q)&&Iu(S,$,O,q),EC($),Um(C.leftAndTop,$,O,q),$.x+=$.w,$.y+=$.h,Um(C.rightAndBottom,$,O,q),u.chartArea={left:$.left,top:$.top,right:$.left+$.w,bottom:$.top+$.h,height:$.h,width:$.w},Jt(C.chartArea,Q=>{const te=Q.box;Object.assign(te,u.chartArea),te.update($.w,$.h,{left:0,top:0,right:0,bottom:0})})}};class Q0{acquireContext(a,r){}releaseContext(a){return!1}addEventListener(a,r,c){}removeEventListener(a,r,c){}getDevicePixelRatio(){return 1}getMaximumSize(a,r,c,f){return r=Math.max(0,r||a.width),c=c||a.height,{width:r,height:Math.max(0,f?Math.floor(r/f):c)}}isAttached(a){return!0}updateConfig(a){}}class MC extends Q0{acquireContext(a){return a&&a.getContext&&a.getContext("2d")||null}updateConfig(a){a.options.animation=!1}}const oh="$chartjs",FC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qm=u=>u===null||u==="";function IC(u,a){const r=u.style,c=u.getAttribute("height"),f=u.getAttribute("width");if(u[oh]={initial:{height:c,width:f,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",qm(f)){const g=Am(u,"width");g!==void 0&&(u.width=g)}if(qm(c))if(u.style.height==="")u.height=u.width/(a||2);else{const g=Am(u,"height");g!==void 0&&(u.height=g)}return u}const ev=Ox?{passive:!0}:!1;function LC(u,a,r){u&&u.addEventListener(a,r,ev)}function OC(u,a,r){u&&u.canvas&&u.canvas.removeEventListener(a,r,ev)}function PC(u,a){const r=FC[u.type]||u.type,{x:c,y:f}=go(u,a);return{type:r,chart:a,native:u,x:c!==void 0?c:null,y:f!==void 0?f:null}}function mh(u,a){for(const r of u)if(r===a||r.contains(a))return!0}function BC(u,a,r){const c=u.canvas,f=new MutationObserver(g=>{let b=!1;for(const C of g)b=b||mh(C.addedNodes,c),b=b&&!mh(C.removedNodes,c);b&&r()});return f.observe(document,{childList:!0,subtree:!0}),f}function NC(u,a,r){const c=u.canvas,f=new MutationObserver(g=>{let b=!1;for(const C of g)b=b||mh(C.removedNodes,c),b=b&&!mh(C.addedNodes,c);b&&r()});return f.observe(document,{childList:!0,subtree:!0}),f}const Ku=new Map;let Ym=0;function tv(){const u=window.devicePixelRatio;u!==Ym&&(Ym=u,Ku.forEach((a,r)=>{r.currentDevicePixelRatio!==u&&a()}))}function RC(u,a){Ku.size||window.addEventListener("resize",tv),Ku.set(u,a)}function zC(u){Ku.delete(u),Ku.size||window.removeEventListener("resize",tv)}function HC(u,a,r){const c=u.canvas,f=c&&Lp(c);if(!f)return;const g=A0((C,S)=>{const T=f.clientWidth;r(C,S),T<f.clientWidth&&r()},window),b=new ResizeObserver(C=>{const S=C[0],T=S.contentRect.width,A=S.contentRect.height;T===0&&A===0||g(T,A)});return b.observe(f),RC(u,g),b}function Wf(u,a,r){r&&r.disconnect(),a==="resize"&&zC(u)}function $C(u,a,r){const c=u.canvas,f=A0(g=>{u.ctx!==null&&r(PC(g,u))},u);return LC(c,a,f),f}class VC extends Q0{acquireContext(a,r){const c=a&&a.getContext&&a.getContext("2d");return c&&c.canvas===a?(IC(a,r),c):null}releaseContext(a){const r=a.canvas;if(!r[oh])return!1;const c=r[oh].initial;["height","width"].forEach(g=>{const b=c[g];Mt(b)?r.removeAttribute(g):r.setAttribute(g,b)});const f=c.style||{};return Object.keys(f).forEach(g=>{r.style[g]=f[g]}),r.width=r.width,delete r[oh],!0}addEventListener(a,r,c){this.removeEventListener(a,r);const f=a.$proxies||(a.$proxies={}),b={attach:BC,detach:NC,resize:HC}[r]||$C;f[r]=b(a,r,c)}removeEventListener(a,r){const c=a.$proxies||(a.$proxies={}),f=c[r];if(!f)return;({attach:Wf,detach:Wf,resize:Wf}[r]||OC)(a,r,f),c[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(a,r,c,f){return Lx(a,r,c,f)}isAttached(a){const r=a&&Lp(a);return!!(r&&r.isConnected)}}function WC(u){return!Ip()||typeof OffscreenCanvas<"u"&&u instanceof OffscreenCanvas?MC:VC}var th;let za=(th=class{constructor(){re(this,"x");re(this,"y");re(this,"active",!1);re(this,"options");re(this,"$animations")}tooltipPosition(a){const{x:r,y:c}=this.getProps(["x","y"],a);return{x:r,y:c}}hasValue(){return ul(this.x)&&ul(this.y)}getProps(a,r){const c=this.$animations;if(!r||!c)return this;const f={};return a.forEach(g=>{f[g]=c[g]&&c[g].active()?c[g]._to:this[g]}),f}},re(th,"defaults",{}),re(th,"defaultRoutes"),th);function jC(u,a){const r=u.options.ticks,c=UC(u),f=Math.min(r.maxTicksLimit||c,c),g=r.major.enabled?YC(a):[],b=g.length,C=g[0],S=g[b-1],T=[];if(b>f)return GC(a,T,g,b/f),T;const A=qC(g,a,f);if(b>0){let O,N;const $=b>1?Math.round((S-C)/(b-1)):null;for(jd(a,T,A,Mt($)?0:C-$,C),O=0,N=b-1;O<N;O++)jd(a,T,A,g[O],g[O+1]);return jd(a,T,A,S,Mt($)?a.length:S+$),T}return jd(a,T,A),T}function UC(u){const a=u.options.offset,r=u._tickSize(),c=u._length/r+(a?0:1),f=u._maxLength/r;return Math.floor(Math.min(c,f))}function qC(u,a,r){const c=KC(u),f=a.length/r;if(!c)return Math.max(f,1);const g=B1(c);for(let b=0,C=g.length-1;b<C;b++){const S=g[b];if(S>f)return S}return Math.max(f,1)}function YC(u){const a=[];let r,c;for(r=0,c=u.length;r<c;r++)u[r].major&&a.push(r);return a}function GC(u,a,r,c){let f=0,g=r[0],b;for(c=Math.ceil(c),b=0;b<u.length;b++)b===g&&(a.push(u[b]),f++,g=r[f*c])}function jd(u,a,r,c,f){const g=At(c,0),b=Math.min(At(f,u.length),u.length);let C=0,S,T,A;for(r=Math.ceil(r),f&&(S=f-c,r=S/Math.floor(S/r)),A=g;A<0;)C++,A=Math.round(g+C*r);for(T=Math.max(g,0);T<b;T++)T===A&&(a.push(u[T]),C++,A=Math.round(g+C*r))}function KC(u){const a=u.length;let r,c;if(a<2)return!1;for(c=u[0],r=1;r<a;++r)if(u[r]-u[r-1]!==c)return!1;return c}const XC=u=>u==="left"?"right":u==="right"?"left":u,Gm=(u,a,r)=>a==="top"||a==="left"?u[a]+r:u[a]-r,Km=(u,a)=>Math.min(a||u,u);function Xm(u,a){const r=[],c=u.length/a,f=u.length;let g=0;for(;g<f;g+=c)r.push(u[Math.floor(g)]);return r}function JC(u,a,r){const c=u.ticks.length,f=Math.min(a,c-1),g=u._startPixel,b=u._endPixel,C=1e-6;let S=u.getPixelForTick(f),T;if(!(r&&(c===1?T=Math.max(S-g,b-S):a===0?T=(u.getPixelForTick(1)-S)/2:T=(S-u.getPixelForTick(f-1))/2,S+=f<a?T:-T,S<g-C||S>b+C)))return S}function ZC(u,a){Jt(u,r=>{const c=r.gc,f=c.length/2;let g;if(f>a){for(g=0;g<f;++g)delete r.data[c[g]];c.splice(0,f)}})}function ku(u){return u.drawTicks?u.tickLength:0}function Jm(u,a){if(!u.display)return 0;const r=Wi(u.font,a),c=bn(u.padding);return(hi(u.text)?u.text.length:1)*r.lineHeight+c.height}function QC(u,a){return Fr(u,{scale:a,type:"scale"})}function ew(u,a,r){return Fr(u,{tick:r,index:a,type:"tick"})}function tw(u,a,r){let c=Dp(u);return(r&&a!=="right"||!r&&a==="right")&&(c=XC(c)),c}function iw(u,a,r,c){const{top:f,left:g,bottom:b,right:C,chart:S}=u,{chartArea:T,scales:A}=S;let O=0,N,$,q;const Q=b-f,te=C-g;if(u.isHorizontal()){if($=Sn(c,g,C),It(r)){const J=Object.keys(r)[0],K=r[J];q=A[J].getPixelForValue(K)+Q-a}else r==="center"?q=(T.bottom+T.top)/2+Q-a:q=Gm(u,r,a);N=C-g}else{if(It(r)){const J=Object.keys(r)[0],K=r[J];$=A[J].getPixelForValue(K)-te+a}else r==="center"?$=(T.left+T.right)/2-te+a:$=Gm(u,r,a);q=Sn(c,b,f),O=r==="left"?-zi:zi}return{titleX:$,titleY:q,maxWidth:N,rotation:O}}class ko extends za{constructor(a){super(),this.id=a.id,this.type=a.type,this.options=void 0,this.ctx=a.ctx,this.chart=a.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(a){this.options=a.setContext(this.getContext()),this.axis=a.axis,this._userMin=this.parse(a.min),this._userMax=this.parse(a.max),this._suggestedMin=this.parse(a.suggestedMin),this._suggestedMax=this.parse(a.suggestedMax)}parse(a,r){return a}getUserBounds(){let{_userMin:a,_userMax:r,_suggestedMin:c,_suggestedMax:f}=this;return a=ts(a,Number.POSITIVE_INFINITY),r=ts(r,Number.NEGATIVE_INFINITY),c=ts(c,Number.POSITIVE_INFINITY),f=ts(f,Number.NEGATIVE_INFINITY),{min:ts(a,c),max:ts(r,f),minDefined:Ii(a),maxDefined:Ii(r)}}getMinMax(a){let{min:r,max:c,minDefined:f,maxDefined:g}=this.getUserBounds(),b;if(f&&g)return{min:r,max:c};const C=this.getMatchingVisibleMetas();for(let S=0,T=C.length;S<T;++S)b=C[S].controller.getMinMax(this,a),f||(r=Math.min(r,b.min)),g||(c=Math.max(c,b.max));return r=g&&r>c?c:r,c=f&&r>c?r:c,{min:ts(r,ts(c,r)),max:ts(c,ts(r,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]}getLabelItems(a=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(a))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ei(this.options.beforeUpdate,[this])}update(a,r,c){const{beginAtZero:f,grace:g,ticks:b}=this.options,C=b.sampleSize;this.beforeUpdate(),this.maxWidth=a,this.maxHeight=r,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=dx(this,g,f),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const S=C<this.ticks.length;this._convertTicksToLabels(S?Xm(this.ticks,C):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),b.display&&(b.autoSkip||b.source==="auto")&&(this.ticks=jC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),S&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let a=this.options.reverse,r,c;this.isHorizontal()?(r=this.left,c=this.right):(r=this.top,c=this.bottom,a=!a),this._startPixel=r,this._endPixel=c,this._reversePixels=a,this._length=c-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ei(this.options.afterUpdate,[this])}beforeSetDimensions(){ei(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ei(this.options.afterSetDimensions,[this])}_callHooks(a){this.chart.notifyPlugins(a,this.getContext()),ei(this.options[a],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ei(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(a){const r=this.options.ticks;let c,f,g;for(c=0,f=a.length;c<f;c++)g=a[c],g.label=ei(r.callback,[g.value,c,a],this)}afterTickToLabelConversion(){ei(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ei(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const a=this.options,r=a.ticks,c=Km(this.ticks.length,a.ticks.maxTicksLimit),f=r.minRotation||0,g=r.maxRotation;let b=f,C,S,T;if(!this._isVisible()||!r.display||f>=g||c<=1||!this.isHorizontal()){this.labelRotation=f;return}const A=this._getLabelSizes(),O=A.widest.width,N=A.highest.height,$=rn(this.chart.width-O,0,this.maxWidth);C=a.offset?this.maxWidth/c:$/(c-1),O+6>C&&(C=$/(c-(a.offset?.5:1)),S=this.maxHeight-ku(a.grid)-r.padding-Jm(a.title,this.chart.options.font),T=Math.sqrt(O*O+N*N),b=kp(Math.min(Math.asin(rn((A.highest.height+6)/C,-1,1)),Math.asin(rn(S/T,-1,1))-Math.asin(rn(N/T,-1,1)))),b=Math.max(f,Math.min(g,b))),this.labelRotation=b}afterCalculateLabelRotation(){ei(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ei(this.options.beforeFit,[this])}fit(){const a={width:0,height:0},{chart:r,options:{ticks:c,title:f,grid:g}}=this,b=this._isVisible(),C=this.isHorizontal();if(b){const S=Jm(f,r.options.font);if(C?(a.width=this.maxWidth,a.height=ku(g)+S):(a.height=this.maxHeight,a.width=ku(g)+S),c.display&&this.ticks.length){const{first:T,last:A,widest:O,highest:N}=this._getLabelSizes(),$=c.padding*2,q=Fs(this.labelRotation),Q=Math.cos(q),te=Math.sin(q);if(C){const J=c.mirror?0:te*O.width+Q*N.height;a.height=Math.min(this.maxHeight,a.height+J+$)}else{const J=c.mirror?0:Q*O.width+te*N.height;a.width=Math.min(this.maxWidth,a.width+J+$)}this._calculatePadding(T,A,te,Q)}}this._handleMargins(),C?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=a.height):(this.width=a.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(a,r,c,f){const{ticks:{align:g,padding:b},position:C}=this.options,S=this.labelRotation!==0,T=C!=="top"&&this.axis==="x";if(this.isHorizontal()){const A=this.getPixelForTick(0)-this.left,O=this.right-this.getPixelForTick(this.ticks.length-1);let N=0,$=0;S?T?(N=f*a.width,$=c*r.height):(N=c*a.height,$=f*r.width):g==="start"?$=r.width:g==="end"?N=a.width:g!=="inner"&&(N=a.width/2,$=r.width/2),this.paddingLeft=Math.max((N-A+b)*this.width/(this.width-A),0),this.paddingRight=Math.max(($-O+b)*this.width/(this.width-O),0)}else{let A=r.height/2,O=a.height/2;g==="start"?(A=0,O=a.height):g==="end"&&(A=r.height,O=0),this.paddingTop=A+b,this.paddingBottom=O+b}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ei(this.options.afterFit,[this])}isHorizontal(){const{axis:a,position:r}=this.options;return r==="top"||r==="bottom"||a==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(a){this.beforeTickToLabelConversion(),this.generateTickLabels(a);let r,c;for(r=0,c=a.length;r<c;r++)Mt(a[r].label)&&(a.splice(r,1),c--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let a=this._labelSizes;if(!a){const r=this.options.ticks.sampleSize;let c=this.ticks;r<c.length&&(c=Xm(c,r)),this._labelSizes=a=this._computeLabelSizes(c,c.length,this.options.ticks.maxTicksLimit)}return a}_computeLabelSizes(a,r,c){const{ctx:f,_longestTextCache:g}=this,b=[],C=[],S=Math.floor(r/Km(r,c));let T=0,A=0,O,N,$,q,Q,te,J,K,le,se,ae;for(O=0;O<r;O+=S){if(q=a[O].label,Q=this._resolveTickFontOptions(O),f.font=te=Q.string,J=g[te]=g[te]||{data:{},gc:[]},K=Q.lineHeight,le=se=0,!Mt(q)&&!hi(q))le=fh(f,J.data,J.gc,le,q),se=K;else if(hi(q))for(N=0,$=q.length;N<$;++N)ae=q[N],!Mt(ae)&&!hi(ae)&&(le=fh(f,J.data,J.gc,le,ae),se+=K);b.push(le),C.push(se),T=Math.max(le,T),A=Math.max(se,A)}ZC(g,r);const ke=b.indexOf(T),ye=C.indexOf(A),be=Te=>({width:b[Te]||0,height:C[Te]||0});return{first:be(0),last:be(r-1),widest:be(ke),highest:be(ye),widths:b,heights:C}}getLabelForValue(a){return a}getPixelForValue(a,r){return NaN}getValueForPixel(a){}getPixelForTick(a){const r=this.ticks;return a<0||a>r.length-1?null:this.getPixelForValue(r[a].value)}getPixelForDecimal(a){this._reversePixels&&(a=1-a);const r=this._startPixel+a*this._length;return H1(this._alignToPixels?fo(this.chart,r,0):r)}getDecimalForPixel(a){const r=(a-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:a,max:r}=this;return a<0&&r<0?r:a>0&&r>0?a:0}getContext(a){const r=this.ticks||[];if(a>=0&&a<r.length){const c=r[a];return c.$context||(c.$context=ew(this.getContext(),a,c))}return this.$context||(this.$context=QC(this.chart.getContext(),this))}_tickSize(){const a=this.options.ticks,r=Fs(this.labelRotation),c=Math.abs(Math.cos(r)),f=Math.abs(Math.sin(r)),g=this._getLabelSizes(),b=a.autoSkipPadding||0,C=g?g.widest.width+b:0,S=g?g.highest.height+b:0;return this.isHorizontal()?S*c>C*f?C/c:S/f:S*f<C*c?S/c:C/f}_isVisible(){const a=this.options.display;return a!=="auto"?!!a:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(a){const r=this.axis,c=this.chart,f=this.options,{grid:g,position:b,border:C}=f,S=g.offset,T=this.isHorizontal(),O=this.ticks.length+(S?1:0),N=ku(g),$=[],q=C.setContext(this.getContext()),Q=q.display?q.width:0,te=Q/2,J=function(Be){return fo(c,Be,Q)};let K,le,se,ae,ke,ye,be,Te,Ke,Le,Ge,st;if(b==="top")K=J(this.bottom),ye=this.bottom-N,Te=K-te,Le=J(a.top)+te,st=a.bottom;else if(b==="bottom")K=J(this.top),Le=a.top,st=J(a.bottom)-te,ye=K+te,Te=this.top+N;else if(b==="left")K=J(this.right),ke=this.right-N,be=K-te,Ke=J(a.left)+te,Ge=a.right;else if(b==="right")K=J(this.left),Ke=a.left,Ge=J(a.right)-te,ke=K+te,be=this.left+N;else if(r==="x"){if(b==="center")K=J((a.top+a.bottom)/2+.5);else if(It(b)){const Be=Object.keys(b)[0],Pe=b[Be];K=J(this.chart.scales[Be].getPixelForValue(Pe))}Le=a.top,st=a.bottom,ye=K+te,Te=ye+N}else if(r==="y"){if(b==="center")K=J((a.left+a.right)/2);else if(It(b)){const Be=Object.keys(b)[0],Pe=b[Be];K=J(this.chart.scales[Be].getPixelForValue(Pe))}ke=K-te,be=ke-N,Ke=a.left,Ge=a.right}const ut=At(f.ticks.maxTicksLimit,O),de=Math.max(1,Math.ceil(O/ut));for(le=0;le<O;le+=de){const Be=this.getContext(le),Pe=g.setContext(Be),Qe=C.setContext(Be),gt=Pe.lineWidth,Ht=Pe.color,Qi=Qe.dash||[],ce=Qe.dashOffset,V=Pe.tickWidth,Ee=Pe.tickColor,_t=Pe.tickBorderDash||[],lt=Pe.tickBorderDashOffset;se=JC(this,le,S),se!==void 0&&(ae=fo(c,se,gt),T?ke=be=Ke=Ge=ae:ye=Te=Le=st=ae,$.push({tx1:ke,ty1:ye,tx2:be,ty2:Te,x1:Ke,y1:Le,x2:Ge,y2:st,width:gt,color:Ht,borderDash:Qi,borderDashOffset:ce,tickWidth:V,tickColor:Ee,tickBorderDash:_t,tickBorderDashOffset:lt}))}return this._ticksLength=O,this._borderValue=K,$}_computeLabelItems(a){const r=this.axis,c=this.options,{position:f,ticks:g}=c,b=this.isHorizontal(),C=this.ticks,{align:S,crossAlign:T,padding:A,mirror:O}=g,N=ku(c.grid),$=N+A,q=O?-A:$,Q=-Fs(this.labelRotation),te=[];let J,K,le,se,ae,ke,ye,be,Te,Ke,Le,Ge,st="middle";if(f==="top")ke=this.bottom-q,ye=this._getXAxisLabelAlignment();else if(f==="bottom")ke=this.top+q,ye=this._getXAxisLabelAlignment();else if(f==="left"){const de=this._getYAxisLabelAlignment(N);ye=de.textAlign,ae=de.x}else if(f==="right"){const de=this._getYAxisLabelAlignment(N);ye=de.textAlign,ae=de.x}else if(r==="x"){if(f==="center")ke=(a.top+a.bottom)/2+$;else if(It(f)){const de=Object.keys(f)[0],Be=f[de];ke=this.chart.scales[de].getPixelForValue(Be)+$}ye=this._getXAxisLabelAlignment()}else if(r==="y"){if(f==="center")ae=(a.left+a.right)/2-$;else if(It(f)){const de=Object.keys(f)[0],Be=f[de];ae=this.chart.scales[de].getPixelForValue(Be)}ye=this._getYAxisLabelAlignment(N).textAlign}r==="y"&&(S==="start"?st="top":S==="end"&&(st="bottom"));const ut=this._getLabelSizes();for(J=0,K=C.length;J<K;++J){le=C[J],se=le.label;const de=g.setContext(this.getContext(J));be=this.getPixelForTick(J)+g.labelOffset,Te=this._resolveTickFontOptions(J),Ke=Te.lineHeight,Le=hi(se)?se.length:1;const Be=Le/2,Pe=de.color,Qe=de.textStrokeColor,gt=de.textStrokeWidth;let Ht=ye;b?(ae=be,ye==="inner"&&(J===K-1?Ht=this.options.reverse?"left":"right":J===0?Ht=this.options.reverse?"right":"left":Ht="center"),f==="top"?T==="near"||Q!==0?Ge=-Le*Ke+Ke/2:T==="center"?Ge=-ut.highest.height/2-Be*Ke+Ke:Ge=-ut.highest.height+Ke/2:T==="near"||Q!==0?Ge=Ke/2:T==="center"?Ge=ut.highest.height/2-Be*Ke:Ge=ut.highest.height-Le*Ke,O&&(Ge*=-1),Q!==0&&!de.showLabelBackdrop&&(ae+=Ke/2*Math.sin(Q))):(ke=be,Ge=(1-Le)*Ke/2);let Qi;if(de.showLabelBackdrop){const ce=bn(de.backdropPadding),V=ut.heights[J],Ee=ut.widths[J];let _t=Ge-ce.top,lt=0-ce.left;switch(st){case"middle":_t-=V/2;break;case"bottom":_t-=V;break}switch(ye){case"center":lt-=Ee/2;break;case"right":lt-=Ee;break;case"inner":J===K-1?lt-=Ee:J>0&&(lt-=Ee/2);break}Qi={left:lt,top:_t,width:Ee+ce.width,height:V+ce.height,color:de.backdropColor}}te.push({label:se,font:Te,textOffset:Ge,options:{rotation:Q,color:Pe,strokeColor:Qe,strokeWidth:gt,textAlign:Ht,textBaseline:st,translation:[ae,ke],backdrop:Qi}})}return te}_getXAxisLabelAlignment(){const{position:a,ticks:r}=this.options;if(-Fs(this.labelRotation))return a==="top"?"left":"right";let f="center";return r.align==="start"?f="left":r.align==="end"?f="right":r.align==="inner"&&(f="inner"),f}_getYAxisLabelAlignment(a){const{position:r,ticks:{crossAlign:c,mirror:f,padding:g}}=this.options,b=this._getLabelSizes(),C=a+g,S=b.widest.width;let T,A;return r==="left"?f?(A=this.right+g,c==="near"?T="left":c==="center"?(T="center",A+=S/2):(T="right",A+=S)):(A=this.right-C,c==="near"?T="right":c==="center"?(T="center",A-=S/2):(T="left",A=this.left)):r==="right"?f?(A=this.left+g,c==="near"?T="right":c==="center"?(T="center",A-=S/2):(T="left",A-=S)):(A=this.left+C,c==="near"?T="left":c==="center"?(T="center",A+=S/2):(T="right",A=this.right)):T="right",{textAlign:T,x:A}}_computeLabelArea(){if(this.options.ticks.mirror)return;const a=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:a.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:a.width}}drawBackground(){const{ctx:a,options:{backgroundColor:r},left:c,top:f,width:g,height:b}=this;r&&(a.save(),a.fillStyle=r,a.fillRect(c,f,g,b),a.restore())}getLineWidthForValue(a){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const f=this.ticks.findIndex(g=>g.value===a);return f>=0?r.setContext(this.getContext(f)).lineWidth:0}drawGrid(a){const r=this.options.grid,c=this.ctx,f=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(a));let g,b;const C=(S,T,A)=>{!A.width||!A.color||(c.save(),c.lineWidth=A.width,c.strokeStyle=A.color,c.setLineDash(A.borderDash||[]),c.lineDashOffset=A.borderDashOffset,c.beginPath(),c.moveTo(S.x,S.y),c.lineTo(T.x,T.y),c.stroke(),c.restore())};if(r.display)for(g=0,b=f.length;g<b;++g){const S=f[g];r.drawOnChartArea&&C({x:S.x1,y:S.y1},{x:S.x2,y:S.y2},S),r.drawTicks&&C({x:S.tx1,y:S.ty1},{x:S.tx2,y:S.ty2},{color:S.tickColor,width:S.tickWidth,borderDash:S.tickBorderDash,borderDashOffset:S.tickBorderDashOffset})}}drawBorder(){const{chart:a,ctx:r,options:{border:c,grid:f}}=this,g=c.setContext(this.getContext()),b=c.display?g.width:0;if(!b)return;const C=f.setContext(this.getContext(0)).lineWidth,S=this._borderValue;let T,A,O,N;this.isHorizontal()?(T=fo(a,this.left,b)-b/2,A=fo(a,this.right,C)+C/2,O=N=S):(O=fo(a,this.top,b)-b/2,N=fo(a,this.bottom,C)+C/2,T=A=S),r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.beginPath(),r.moveTo(T,O),r.lineTo(A,N),r.stroke(),r.restore()}drawLabels(a){if(!this.options.ticks.display)return;const c=this.ctx,f=this._computeLabelArea();f&&xh(c,f);const g=this.getLabelItems(a);for(const b of g){const C=b.options,S=b.font,T=b.label,A=b.textOffset;wo(c,T,0,A,S,C)}f&&Ch(c)}drawTitle(){const{ctx:a,options:{position:r,title:c,reverse:f}}=this;if(!c.display)return;const g=Wi(c.font),b=bn(c.padding),C=c.align;let S=g.lineHeight/2;r==="bottom"||r==="center"||It(r)?(S+=b.bottom,hi(c.text)&&(S+=g.lineHeight*(c.text.length-1))):S+=b.top;const{titleX:T,titleY:A,maxWidth:O,rotation:N}=iw(this,S,r,C);wo(a,c.text,0,0,g,{color:c.color,maxWidth:O,rotation:N,textAlign:tw(C,r,f),textBaseline:"middle",translation:[T,A]})}draw(a){this._isVisible()&&(this.drawBackground(),this.drawGrid(a),this.drawBorder(),this.drawTitle(),this.drawLabels(a))}_layers(){const a=this.options,r=a.ticks&&a.ticks.z||0,c=At(a.grid&&a.grid.z,-1),f=At(a.border&&a.border.z,0);return!this._isVisible()||this.draw!==ko.prototype.draw?[{z:r,draw:g=>{this.draw(g)}}]:[{z:c,draw:g=>{this.drawBackground(),this.drawGrid(g),this.drawTitle()}},{z:f,draw:()=>{this.drawBorder()}},{z:r,draw:g=>{this.drawLabels(g)}}]}getMatchingVisibleMetas(a){const r=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",f=[];let g,b;for(g=0,b=r.length;g<b;++g){const C=r[g];C[c]===this.id&&(!a||C.type===a)&&f.push(C)}return f}_resolveTickFontOptions(a){const r=this.options.ticks.setContext(this.getContext(a));return Wi(r.font)}_maxDigits(){const a=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/a}}class Ud{constructor(a,r,c){this.type=a,this.scope=r,this.override=c,this.items=Object.create(null)}isForType(a){return Object.prototype.isPrototypeOf.call(this.type.prototype,a.prototype)}register(a){const r=Object.getPrototypeOf(a);let c;aw(r)&&(c=this.register(r));const f=this.items,g=a.id,b=this.scope+"."+g;if(!g)throw new Error("class does not have id: "+a);return g in f||(f[g]=a,nw(a,b,c),this.override&&pi.override(a.id,a.overrides)),b}get(a){return this.items[a]}unregister(a){const r=this.items,c=a.id,f=this.scope;c in r&&delete r[c],f&&c in pi[f]&&(delete pi[f][c],this.override&&delete Co[c])}}function nw(u,a,r){const c=aa(Object.create(null),[r?pi.get(r):{},pi.get(a),u.defaults]);pi.set(a,c),u.defaultRoutes&&sw(a,u.defaultRoutes),u.descriptors&&pi.describe(a,u.descriptors)}function sw(u,a){Object.keys(a).forEach(r=>{const c=r.split("."),f=c.pop(),g=[u].concat(c).join("."),b=a[r].split("."),C=b.pop(),S=b.join(".");pi.route(g,f,S,C)})}function aw(u){return"id"in u&&"defaults"in u}class rw{constructor(){this.controllers=new Ud(Is,"datasets",!0),this.elements=new Ud(za,"elements"),this.plugins=new Ud(Object,"plugins"),this.scales=new Ud(ko,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...a){this._each("register",a)}remove(...a){this._each("unregister",a)}addControllers(...a){this._each("register",a,this.controllers)}addElements(...a){this._each("register",a,this.elements)}addPlugins(...a){this._each("register",a,this.plugins)}addScales(...a){this._each("register",a,this.scales)}getController(a){return this._get(a,this.controllers,"controller")}getElement(a){return this._get(a,this.elements,"element")}getPlugin(a){return this._get(a,this.plugins,"plugin")}getScale(a){return this._get(a,this.scales,"scale")}removeControllers(...a){this._each("unregister",a,this.controllers)}removeElements(...a){this._each("unregister",a,this.elements)}removePlugins(...a){this._each("unregister",a,this.plugins)}removeScales(...a){this._each("unregister",a,this.scales)}_each(a,r,c){[...r].forEach(f=>{const g=c||this._getRegistryForType(f);c||g.isForType(f)||g===this.plugins&&f.id?this._exec(a,g,f):Jt(f,b=>{const C=c||this._getRegistryForType(b);this._exec(a,C,b)})})}_exec(a,r,c){const f=wp(a);ei(c["before"+f],[],c),r[a](c),ei(c["after"+f],[],c)}_getRegistryForType(a){for(let r=0;r<this._typedRegistries.length;r++){const c=this._typedRegistries[r];if(c.isForType(a))return c}return this.plugins}_get(a,r,c){const f=r.get(a);if(f===void 0)throw new Error('"'+a+'" is not a registered '+c+".");return f}}var ta=new rw;class ow{constructor(){this._init=[]}notify(a,r,c,f){r==="beforeInit"&&(this._init=this._createDescriptors(a,!0),this._notify(this._init,a,"install"));const g=f?this._descriptors(a).filter(f):this._descriptors(a),b=this._notify(g,a,r,c);return r==="afterDestroy"&&(this._notify(g,a,"stop"),this._notify(this._init,a,"uninstall")),b}_notify(a,r,c,f){f=f||{};for(const g of a){const b=g.plugin,C=b[c],S=[r,f,g.options];if(ei(C,S,b)===!1&&f.cancelable)return!1}return!0}invalidate(){Mt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(a){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(a);return this._notifyStateChanges(a),r}_createDescriptors(a,r){const c=a&&a.config,f=At(c.options&&c.options.plugins,{}),g=lw(c);return f===!1&&!r?[]:cw(a,g,f,r)}_notifyStateChanges(a){const r=this._oldCache||[],c=this._cache,f=(g,b)=>g.filter(C=>!b.some(S=>C.plugin.id===S.plugin.id));this._notify(f(r,c),a,"stop"),this._notify(f(c,r),a,"start")}}function lw(u){const a={},r=[],c=Object.keys(ta.plugins.items);for(let g=0;g<c.length;g++)r.push(ta.getPlugin(c[g]));const f=u.plugins||[];for(let g=0;g<f.length;g++){const b=f[g];r.indexOf(b)===-1&&(r.push(b),a[b.id]=!0)}return{plugins:r,localIds:a}}function uw(u,a){return!a&&u===!1?null:u===!0?{}:u}function cw(u,{plugins:a,localIds:r},c,f){const g=[],b=u.getContext();for(const C of a){const S=C.id,T=uw(c[S],f);T!==null&&g.push({plugin:C,options:dw(u.config,{plugin:C,local:r[S]},T,b)})}return g}function dw(u,{plugin:a,local:r},c,f){const g=u.pluginScopeKeys(a),b=u.getOptionScopes(c,g);return r&&a.defaults&&b.push(a.defaults),u.createResolver(b,f,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ap(u,a){const r=pi.datasets[u]||{};return((a.datasets||{})[u]||{}).indexAxis||a.indexAxis||r.indexAxis||"x"}function hw(u,a){let r=u;return u==="_index_"?r=a:u==="_value_"&&(r=a==="x"?"y":"x"),r}function fw(u,a){return u===a?"_index_":"_value_"}function Zm(u){if(u==="x"||u==="y"||u==="r")return u}function pw(u){if(u==="top"||u==="bottom")return"x";if(u==="left"||u==="right")return"y"}function rp(u,...a){if(Zm(u))return u;for(const r of a){const c=r.axis||pw(r.position)||u.length>1&&Zm(u[0].toLowerCase());if(c)return c}throw new Error(`Cannot determine type of '${u}' axis. Please provide 'axis' or 'position' option.`)}function Qm(u,a,r){if(r[a+"AxisID"]===u)return{axis:a}}function mw(u,a){if(a.data&&a.data.datasets){const r=a.data.datasets.filter(c=>c.xAxisID===u||c.yAxisID===u);if(r.length)return Qm(u,"x",r[0])||Qm(u,"y",r[0])}return{}}function gw(u,a){const r=Co[u.type]||{scales:{}},c=a.scales||{},f=ap(u.type,a),g=Object.create(null);return Object.keys(c).forEach(b=>{const C=c[b];if(!It(C))return console.error(`Invalid scale configuration for scale: ${b}`);if(C._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${b}`);const S=rp(b,C,mw(b,u),pi.scales[C.type]),T=fw(S,f),A=r.scales||{};g[b]=Pu(Object.create(null),[{axis:S},C,A[S],A[T]])}),u.data.datasets.forEach(b=>{const C=b.type||u.type,S=b.indexAxis||ap(C,a),A=(Co[C]||{}).scales||{};Object.keys(A).forEach(O=>{const N=hw(O,S),$=b[N+"AxisID"]||N;g[$]=g[$]||Object.create(null),Pu(g[$],[{axis:N},c[$],A[O]])})}),Object.keys(g).forEach(b=>{const C=g[b];Pu(C,[pi.scales[C.type],pi.scale])}),g}function iv(u){const a=u.options||(u.options={});a.plugins=At(a.plugins,{}),a.scales=gw(u,a)}function nv(u){return u=u||{},u.datasets=u.datasets||[],u.labels=u.labels||[],u}function vw(u){return u=u||{},u.data=nv(u.data),iv(u),u}const eg=new Map,sv=new Set;function qd(u,a){let r=eg.get(u);return r||(r=a(),eg.set(u,r),sv.add(r)),r}const Su=(u,a,r)=>{const c=Ar(a,r);c!==void 0&&u.add(c)};class bw{constructor(a){this._config=vw(a),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(a){this._config.type=a}get data(){return this._config.data}set data(a){this._config.data=nv(a)}get options(){return this._config.options}set options(a){this._config.options=a}get plugins(){return this._config.plugins}update(){const a=this._config;this.clearCache(),iv(a)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(a){return qd(a,()=>[[`datasets.${a}`,""]])}datasetAnimationScopeKeys(a,r){return qd(`${a}.transition.${r}`,()=>[[`datasets.${a}.transitions.${r}`,`transitions.${r}`],[`datasets.${a}`,""]])}datasetElementScopeKeys(a,r){return qd(`${a}-${r}`,()=>[[`datasets.${a}.elements.${r}`,`datasets.${a}`,`elements.${r}`,""]])}pluginScopeKeys(a){const r=a.id,c=this.type;return qd(`${c}-plugin-${r}`,()=>[[`plugins.${r}`,...a.additionalOptionScopes||[]]])}_cachedScopes(a,r){const c=this._scopeCache;let f=c.get(a);return(!f||r)&&(f=new Map,c.set(a,f)),f}getOptionScopes(a,r,c){const{options:f,type:g}=this,b=this._cachedScopes(a,c),C=b.get(r);if(C)return C;const S=new Set;r.forEach(A=>{a&&(S.add(a),A.forEach(O=>Su(S,a,O))),A.forEach(O=>Su(S,f,O)),A.forEach(O=>Su(S,Co[g]||{},O)),A.forEach(O=>Su(S,pi,O)),A.forEach(O=>Su(S,ip,O))});const T=Array.from(S);return T.length===0&&T.push(Object.create(null)),sv.has(r)&&b.set(r,T),T}chartOptionScopes(){const{options:a,type:r}=this;return[a,Co[r]||{},pi.datasets[r]||{},{type:r},pi,ip]}resolveNamedOptions(a,r,c,f=[""]){const g={$shared:!0},{resolver:b,subPrefixes:C}=tg(this._resolverCache,a,f);let S=b;if(_w(b,r)){g.$shared=!1,c=Mr(c)?c():c;const T=this.createResolver(a,c,C);S=cl(b,c,T)}for(const T of r)g[T]=S[T];return g}createResolver(a,r,c=[""],f){const{resolver:g}=tg(this._resolverCache,a,c);return It(r)?cl(g,r,void 0,f):g}}function tg(u,a,r){let c=u.get(a);c||(c=new Map,u.set(a,c));const f=r.join();let g=c.get(f);return g||(g={resolver:Ap(a,r),subPrefixes:r.filter(C=>!C.toLowerCase().includes("hover"))},c.set(f,g)),g}const yw=u=>It(u)&&Object.getOwnPropertyNames(u).some(a=>Mr(u[a]));function _w(u,a){const{isScriptable:r,isIndexable:c}=P0(u);for(const f of a){const g=r(f),b=c(f),C=(b||g)&&u[f];if(g&&(Mr(C)||yw(C))||b&&hi(C))return!0}return!1}var xw="4.4.9";const Cw=["top","bottom","left","right","chartArea"];function ig(u,a){return u==="top"||u==="bottom"||Cw.indexOf(u)===-1&&a==="x"}function ng(u,a){return function(r,c){return r[u]===c[u]?r[a]-c[a]:r[u]-c[u]}}function sg(u){const a=u.chart,r=a.options.animation;a.notifyPlugins("afterRender"),ei(r&&r.onComplete,[u],a)}function ww(u){const a=u.chart,r=a.options.animation;ei(r&&r.onProgress,[u],a)}function av(u){return Ip()&&typeof u=="string"?u=document.getElementById(u):u&&u.length&&(u=u[0]),u&&u.canvas&&(u=u.canvas),u}const lh={},ag=u=>{const a=av(u);return Object.values(lh).filter(r=>r.canvas===a).pop()};function kw(u,a,r){const c=Object.keys(u);for(const f of c){const g=+f;if(g>=a){const b=u[f];delete u[f],(r>0||g>a)&&(u[g+r]=b)}}}function Sw(u,a,r,c){return!r||u.type==="mouseout"?null:c?a:u}class Oa{static register(...a){ta.add(...a),rg()}static unregister(...a){ta.remove(...a),rg()}constructor(a,r){const c=this.config=new bw(r),f=av(a),g=ag(f);if(g)throw new Error("Canvas is already in use. Chart with ID '"+g.id+"' must be destroyed before the canvas with ID '"+g.canvas.id+"' can be reused.");const b=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||WC(f)),this.platform.updateConfig(c);const C=this.platform.acquireContext(f,b.aspectRatio),S=C&&C.canvas,T=S&&S.height,A=S&&S.width;if(this.id=T1(),this.ctx=C,this.canvas=S,this.width=A,this.height=T,this._options=b,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ow,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=j1(O=>this.update(O),b.resizeDelay||0),this._dataChanges=[],lh[this.id]=this,!C||!S){console.error("Failed to create chart: can't acquire context from the given item");return}Fa.listen(this,"complete",sg),Fa.listen(this,"progress",ww),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:a,maintainAspectRatio:r},width:c,height:f,_aspectRatio:g}=this;return Mt(a)?r&&g?g:f?c/f:null:a}get data(){return this.config.data}set data(a){this.config.data=a}get options(){return this._options}set options(a){this.config.options=a}get registry(){return ta}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Em(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Sm(this.canvas,this.ctx),this}stop(){return Fa.stop(this),this}resize(a,r){Fa.running(this)?this._resizeBeforeDraw={width:a,height:r}:this._resize(a,r)}_resize(a,r){const c=this.options,f=this.canvas,g=c.maintainAspectRatio&&this.aspectRatio,b=this.platform.getMaximumSize(f,a,r,g),C=c.devicePixelRatio||this.platform.getDevicePixelRatio(),S=this.width?"resize":"attach";this.width=b.width,this.height=b.height,this._aspectRatio=this.aspectRatio,Em(this,C,!0)&&(this.notifyPlugins("resize",{size:b}),ei(c.onResize,[this,b],this),this.attached&&this._doResize(S)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Jt(r,(c,f)=>{c.id=f})}buildOrUpdateScales(){const a=this.options,r=a.scales,c=this.scales,f=Object.keys(c).reduce((b,C)=>(b[C]=!1,b),{});let g=[];r&&(g=g.concat(Object.keys(r).map(b=>{const C=r[b],S=rp(b,C),T=S==="r",A=S==="x";return{options:C,dposition:T?"chartArea":A?"bottom":"left",dtype:T?"radialLinear":A?"category":"linear"}}))),Jt(g,b=>{const C=b.options,S=C.id,T=rp(S,C),A=At(C.type,b.dtype);(C.position===void 0||ig(C.position,T)!==ig(b.dposition))&&(C.position=b.dposition),f[S]=!0;let O=null;if(S in c&&c[S].type===A)O=c[S];else{const N=ta.getScale(A);O=new N({id:S,type:A,ctx:this.ctx,chart:this}),c[O.id]=O}O.init(C,a)}),Jt(f,(b,C)=>{b||delete c[C]}),Jt(c,b=>{Dn.configure(this,b,b.options),Dn.addBox(this,b)})}_updateMetasets(){const a=this._metasets,r=this.data.datasets.length,c=a.length;if(a.sort((f,g)=>f.index-g.index),c>r){for(let f=r;f<c;++f)this._destroyDatasetMeta(f);a.splice(r,c-r)}this._sortedMetasets=a.slice(0).sort(ng("order","index"))}_removeUnreferencedMetasets(){const{_metasets:a,data:{datasets:r}}=this;a.length>r.length&&delete this._stacks,a.forEach((c,f)=>{r.filter(g=>g===c._dataset).length===0&&this._destroyDatasetMeta(f)})}buildOrUpdateControllers(){const a=[],r=this.data.datasets;let c,f;for(this._removeUnreferencedMetasets(),c=0,f=r.length;c<f;c++){const g=r[c];let b=this.getDatasetMeta(c);const C=g.type||this.config.type;if(b.type&&b.type!==C&&(this._destroyDatasetMeta(c),b=this.getDatasetMeta(c)),b.type=C,b.indexAxis=g.indexAxis||ap(C,this.options),b.order=g.order||0,b.index=c,b.label=""+g.label,b.visible=this.isDatasetVisible(c),b.controller)b.controller.updateIndex(c),b.controller.linkScales();else{const S=ta.getController(C),{datasetElementType:T,dataElementType:A}=pi.datasets[C];Object.assign(S,{dataElementType:ta.getElement(A),datasetElementType:T&&ta.getElement(T)}),b.controller=new S(this,c),a.push(b.controller)}}return this._updateMetasets(),a}_resetElements(){Jt(this.data.datasets,(a,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(a){const r=this.config;r.update();const c=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),f=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:a,cancelable:!0})===!1)return;const g=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let b=0;for(let T=0,A=this.data.datasets.length;T<A;T++){const{controller:O}=this.getDatasetMeta(T),N=!f&&g.indexOf(O)===-1;O.buildOrUpdateElements(N),b=Math.max(+O.getMaxOverflow(),b)}b=this._minPadding=c.layout.autoPadding?b:0,this._updateLayout(b),f||Jt(g,T=>{T.reset()}),this._updateDatasets(a),this.notifyPlugins("afterUpdate",{mode:a}),this._layers.sort(ng("z","_idx"));const{_active:C,_lastEvent:S}=this;S?this._eventHandler(S,!0):C.length&&this._updateHoverStyles(C,C,!0),this.render()}_updateScales(){Jt(this.scales,a=>{Dn.removeBox(this,a)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const a=this.options,r=new Set(Object.keys(this._listeners)),c=new Set(a.events);(!gm(r,c)||!!this._responsiveListeners!==a.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:a}=this,r=this._getUniformDataChanges()||[];for(const{method:c,start:f,count:g}of r){const b=c==="_removeElements"?-g:g;kw(a,f,b)}}_getUniformDataChanges(){const a=this._dataChanges;if(!a||!a.length)return;this._dataChanges=[];const r=this.data.datasets.length,c=g=>new Set(a.filter(b=>b[0]===g).map((b,C)=>C+","+b.splice(1).join(","))),f=c(0);for(let g=1;g<r;g++)if(!gm(f,c(g)))return;return Array.from(f).map(g=>g.split(",")).map(g=>({method:g[1],start:+g[2],count:+g[3]}))}_updateLayout(a){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dn.update(this,this.width,this.height,a);const r=this.chartArea,c=r.width<=0||r.height<=0;this._layers=[],Jt(this.boxes,f=>{c&&f.position==="chartArea"||(f.configure&&f.configure(),this._layers.push(...f._layers()))},this),this._layers.forEach((f,g)=>{f._idx=g}),this.notifyPlugins("afterLayout")}_updateDatasets(a){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:a,cancelable:!0})!==!1){for(let r=0,c=this.data.datasets.length;r<c;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,c=this.data.datasets.length;r<c;++r)this._updateDataset(r,Mr(a)?a({datasetIndex:r}):a);this.notifyPlugins("afterDatasetsUpdate",{mode:a})}}_updateDataset(a,r){const c=this.getDatasetMeta(a),f={meta:c,index:a,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",f)!==!1&&(c.controller._update(r),f.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",f))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fa.has(this)?this.attached&&!Fa.running(this)&&Fa.start(this):(this.draw(),sg({chart:this})))}draw(){let a;if(this._resizeBeforeDraw){const{width:c,height:f}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(c,f)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(a=0;a<r.length&&r[a].z<=0;++a)r[a].draw(this.chartArea);for(this._drawDatasets();a<r.length;++a)r[a].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(a){const r=this._sortedMetasets,c=[];let f,g;for(f=0,g=r.length;f<g;++f){const b=r[f];(!a||b.visible)&&c.push(b)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const a=this.getSortedVisibleDatasetMetas();for(let r=a.length-1;r>=0;--r)this._drawDataset(a[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(a){const r=this.ctx,c={meta:a,index:a.index,cancelable:!0},f=q0(this,a);this.notifyPlugins("beforeDatasetDraw",c)!==!1&&(f&&xh(r,f),a.controller.draw(),f&&Ch(r),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(a){return Na(a,this.chartArea,this._minPadding)}getElementsAtEventForMode(a,r,c,f){const g=CC.modes[r];return typeof g=="function"?g(this,a,c,f):[]}getDatasetMeta(a){const r=this.data.datasets[a],c=this._metasets;let f=c.filter(g=>g&&g._dataset===r).pop();return f||(f={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:a,_dataset:r,_parsed:[],_sorted:!1},c.push(f)),f}getContext(){return this.$context||(this.$context=Fr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(a){const r=this.data.datasets[a];if(!r)return!1;const c=this.getDatasetMeta(a);return typeof c.hidden=="boolean"?!c.hidden:!r.hidden}setDatasetVisibility(a,r){const c=this.getDatasetMeta(a);c.hidden=!r}toggleDataVisibility(a){this._hiddenIndices[a]=!this._hiddenIndices[a]}getDataVisibility(a){return!this._hiddenIndices[a]}_updateVisibility(a,r,c){const f=c?"show":"hide",g=this.getDatasetMeta(a),b=g.controller._resolveAnimations(void 0,f);qu(r)?(g.data[r].hidden=!c,this.update()):(this.setDatasetVisibility(a,c),b.update(g,{visible:c}),this.update(C=>C.datasetIndex===a?f:void 0))}hide(a,r){this._updateVisibility(a,r,!1)}show(a,r){this._updateVisibility(a,r,!0)}_destroyDatasetMeta(a){const r=this._metasets[a];r&&r.controller&&r.controller._destroy(),delete this._metasets[a]}_stop(){let a,r;for(this.stop(),Fa.remove(this),a=0,r=this.data.datasets.length;a<r;++a)this._destroyDatasetMeta(a)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:a,ctx:r}=this;this._stop(),this.config.clearCache(),a&&(this.unbindEvents(),Sm(a,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete lh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...a){return this.canvas.toDataURL(...a)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const a=this._listeners,r=this.platform,c=(g,b)=>{r.addEventListener(this,g,b),a[g]=b},f=(g,b,C)=>{g.offsetX=b,g.offsetY=C,this._eventHandler(g)};Jt(this.options.events,g=>c(g,f))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const a=this._responsiveListeners,r=this.platform,c=(S,T)=>{r.addEventListener(this,S,T),a[S]=T},f=(S,T)=>{a[S]&&(r.removeEventListener(this,S,T),delete a[S])},g=(S,T)=>{this.canvas&&this.resize(S,T)};let b;const C=()=>{f("attach",C),this.attached=!0,this.resize(),c("resize",g),c("detach",b)};b=()=>{this.attached=!1,f("resize",g),this._stop(),this._resize(0,0),c("attach",C)},r.isAttached(this.canvas)?C():b()}unbindEvents(){Jt(this._listeners,(a,r)=>{this.platform.removeEventListener(this,r,a)}),this._listeners={},Jt(this._responsiveListeners,(a,r)=>{this.platform.removeEventListener(this,r,a)}),this._responsiveListeners=void 0}updateHoverStyle(a,r,c){const f=c?"set":"remove";let g,b,C,S;for(r==="dataset"&&(g=this.getDatasetMeta(a[0].datasetIndex),g.controller["_"+f+"DatasetHoverStyle"]()),C=0,S=a.length;C<S;++C){b=a[C];const T=b&&this.getDatasetMeta(b.datasetIndex).controller;T&&T[f+"HoverStyle"](b.element,b.datasetIndex,b.index)}}getActiveElements(){return this._active||[]}setActiveElements(a){const r=this._active||[],c=a.map(({datasetIndex:g,index:b})=>{const C=this.getDatasetMeta(g);if(!C)throw new Error("No dataset found at index "+g);return{datasetIndex:g,element:C.data[b],index:b}});!ch(c,r)&&(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,r))}notifyPlugins(a,r,c){return this._plugins.notify(this,a,r,c)}isPluginEnabled(a){return this._plugins._cache.filter(r=>r.plugin.id===a).length===1}_updateHoverStyles(a,r,c){const f=this.options.hover,g=(S,T)=>S.filter(A=>!T.some(O=>A.datasetIndex===O.datasetIndex&&A.index===O.index)),b=g(r,a),C=c?a:g(a,r);b.length&&this.updateHoverStyle(b,f.mode,!1),C.length&&f.mode&&this.updateHoverStyle(C,f.mode,!0)}_eventHandler(a,r){const c={event:a,replay:r,cancelable:!0,inChartArea:this.isPointInArea(a)},f=b=>(b.options.events||this.options.events).includes(a.native.type);if(this.notifyPlugins("beforeEvent",c,f)===!1)return;const g=this._handleEvent(a,r,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,f),(g||c.changed)&&this.render(),this}_handleEvent(a,r,c){const{_active:f=[],options:g}=this,b=r,C=this._getActiveElements(a,f,c,b),S=L1(a),T=Sw(a,this._lastEvent,c,S);c&&(this._lastEvent=null,ei(g.onHover,[a,C,this],this),S&&ei(g.onClick,[a,C,this],this));const A=!ch(C,f);return(A||r)&&(this._active=C,this._updateHoverStyles(C,f,r)),this._lastEvent=T,A}_getActiveElements(a,r,c,f){if(a.type==="mouseout")return[];if(!c)return r;const g=this.options.hover;return this.getElementsAtEventForMode(a,g.mode,g,f)}}re(Oa,"defaults",pi),re(Oa,"instances",lh),re(Oa,"overrides",Co),re(Oa,"registry",ta),re(Oa,"version",xw),re(Oa,"getChart",ag);function rg(){return Jt(Oa.instances,u=>u._plugins.invalidate())}function Dw(u,a,r){const{startAngle:c,pixelMargin:f,x:g,y:b,outerRadius:C,innerRadius:S}=a;let T=f/C;u.beginPath(),u.arc(g,b,C,c-T,r+T),S>f?(T=f/S,u.arc(g,b,S,r+T,c-T,!0)):u.arc(g,b,f,r+zi,c-zi),u.closePath(),u.clip()}function Tw(u){return Ep(u,["outerStart","outerEnd","innerStart","innerEnd"])}function Ew(u,a,r,c){const f=Tw(u.options.borderRadius),g=(r-a)/2,b=Math.min(g,c*a/2),C=S=>{const T=(r-Math.min(g,S))*c/2;return rn(S,0,Math.min(g,T))};return{outerStart:C(f.outerStart),outerEnd:C(f.outerEnd),innerStart:rn(f.innerStart,0,b),innerEnd:rn(f.innerEnd,0,b)}}function al(u,a,r,c){return{x:r+u*Math.cos(a),y:c+u*Math.sin(a)}}function gh(u,a,r,c,f,g){const{x:b,y:C,startAngle:S,pixelMargin:T,innerRadius:A}=a,O=Math.max(a.outerRadius+c+r-T,0),N=A>0?A+c+r+T:0;let $=0;const q=f-S;if(c){const de=A>0?A-c:0,Be=O>0?O-c:0,Pe=(de+Be)/2,Qe=Pe!==0?q*Pe/(Pe+c):q;$=(q-Qe)/2}const Q=Math.max(.001,q*O-r/mi)/O,te=(q-Q)/2,J=S+te+$,K=f-te-$,{outerStart:le,outerEnd:se,innerStart:ae,innerEnd:ke}=Ew(a,N,O,K-J),ye=O-le,be=O-se,Te=J+le/ye,Ke=K-se/be,Le=N+ae,Ge=N+ke,st=J+ae/Le,ut=K-ke/Ge;if(u.beginPath(),g){const de=(Te+Ke)/2;if(u.arc(b,C,O,Te,de),u.arc(b,C,O,de,Ke),se>0){const gt=al(be,Ke,b,C);u.arc(gt.x,gt.y,se,Ke,K+zi)}const Be=al(Ge,K,b,C);if(u.lineTo(Be.x,Be.y),ke>0){const gt=al(Ge,ut,b,C);u.arc(gt.x,gt.y,ke,K+zi,ut+Math.PI)}const Pe=(K-ke/N+(J+ae/N))/2;if(u.arc(b,C,N,K-ke/N,Pe,!0),u.arc(b,C,N,Pe,J+ae/N,!0),ae>0){const gt=al(Le,st,b,C);u.arc(gt.x,gt.y,ae,st+Math.PI,J-zi)}const Qe=al(ye,J,b,C);if(u.lineTo(Qe.x,Qe.y),le>0){const gt=al(ye,Te,b,C);u.arc(gt.x,gt.y,le,J-zi,Te)}}else{u.moveTo(b,C);const de=Math.cos(Te)*O+b,Be=Math.sin(Te)*O+C;u.lineTo(de,Be);const Pe=Math.cos(Ke)*O+b,Qe=Math.sin(Ke)*O+C;u.lineTo(Pe,Qe)}u.closePath()}function Aw(u,a,r,c,f){const{fullCircles:g,startAngle:b,circumference:C}=a;let S=a.endAngle;if(g){gh(u,a,r,c,S,f);for(let T=0;T<g;++T)u.fill();isNaN(C)||(S=b+(C%fi||fi))}return gh(u,a,r,c,S,f),u.fill(),S}function Mw(u,a,r,c,f){const{fullCircles:g,startAngle:b,circumference:C,options:S}=a,{borderWidth:T,borderJoinStyle:A,borderDash:O,borderDashOffset:N}=S,$=S.borderAlign==="inner";if(!T)return;u.setLineDash(O||[]),u.lineDashOffset=N,$?(u.lineWidth=T*2,u.lineJoin=A||"round"):(u.lineWidth=T,u.lineJoin=A||"bevel");let q=a.endAngle;if(g){gh(u,a,r,c,q,f);for(let Q=0;Q<g;++Q)u.stroke();isNaN(C)||(q=b+(C%fi||fi))}$&&Dw(u,a,q),g||(gh(u,a,r,c,q,f),u.stroke())}class ol extends za{constructor(r){super();re(this,"circumference");re(this,"endAngle");re(this,"fullCircles");re(this,"innerRadius");re(this,"outerRadius");re(this,"pixelMargin");re(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,c,f){const g=this.getProps(["x","y"],f),{angle:b,distance:C}=S0(g,{x:r,y:c}),{startAngle:S,endAngle:T,innerRadius:A,outerRadius:O,circumference:N}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],f),$=(this.options.spacing+this.options.borderWidth)/2,q=At(N,T-S),Q=Yu(b,S,T)&&S!==T,te=q>=fi||Q,J=Pa(C,A+$,O+$);return te&&J}getCenterPoint(r){const{x:c,y:f,startAngle:g,endAngle:b,innerRadius:C,outerRadius:S}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:T,spacing:A}=this.options,O=(g+b)/2,N=(C+S+A+T)/2;return{x:c+Math.cos(O)*N,y:f+Math.sin(O)*N}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:c,circumference:f}=this,g=(c.offset||0)/4,b=(c.spacing||0)/2,C=c.circular;if(this.pixelMargin=c.borderAlign==="inner"?.33:0,this.fullCircles=f>fi?Math.floor(f/fi):0,f===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const S=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(S)*g,Math.sin(S)*g);const T=1-Math.sin(Math.min(mi,f||0)),A=g*T;r.fillStyle=c.backgroundColor,r.strokeStyle=c.borderColor,Aw(r,this,A,b,C),Mw(r,this,A,b,C),r.restore()}}re(ol,"id","arc"),re(ol,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),re(ol,"defaultRoutes",{backgroundColor:"backgroundColor"}),re(ol,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function rv(u,a,r=a){u.lineCap=At(r.borderCapStyle,a.borderCapStyle),u.setLineDash(At(r.borderDash,a.borderDash)),u.lineDashOffset=At(r.borderDashOffset,a.borderDashOffset),u.lineJoin=At(r.borderJoinStyle,a.borderJoinStyle),u.lineWidth=At(r.borderWidth,a.borderWidth),u.strokeStyle=At(r.borderColor,a.borderColor)}function Fw(u,a,r){u.lineTo(r.x,r.y)}function Iw(u){return u.stepped?ix:u.tension||u.cubicInterpolationMode==="monotone"?nx:Fw}function ov(u,a,r={}){const c=u.length,{start:f=0,end:g=c-1}=r,{start:b,end:C}=a,S=Math.max(f,b),T=Math.min(g,C),A=f<b&&g<b||f>C&&g>C;return{count:c,start:S,loop:a.loop,ilen:T<S&&!A?c+T-S:T-S}}function Lw(u,a,r,c){const{points:f,options:g}=a,{count:b,start:C,loop:S,ilen:T}=ov(f,r,c),A=Iw(g);let{move:O=!0,reverse:N}=c||{},$,q,Q;for($=0;$<=T;++$)q=f[(C+(N?T-$:$))%b],!q.skip&&(O?(u.moveTo(q.x,q.y),O=!1):A(u,Q,q,N,g.stepped),Q=q);return S&&(q=f[(C+(N?T:0))%b],A(u,Q,q,N,g.stepped)),!!S}function Ow(u,a,r,c){const f=a.points,{count:g,start:b,ilen:C}=ov(f,r,c),{move:S=!0,reverse:T}=c||{};let A=0,O=0,N,$,q,Q,te,J;const K=se=>(b+(T?C-se:se))%g,le=()=>{Q!==te&&(u.lineTo(A,te),u.lineTo(A,Q),u.lineTo(A,J))};for(S&&($=f[K(0)],u.moveTo($.x,$.y)),N=0;N<=C;++N){if($=f[K(N)],$.skip)continue;const se=$.x,ae=$.y,ke=se|0;ke===q?(ae<Q?Q=ae:ae>te&&(te=ae),A=(O*A+se)/++O):(le(),u.lineTo(se,ae),q=ke,O=0,Q=te=ae),J=ae}le()}function op(u){const a=u.options,r=a.borderDash&&a.borderDash.length;return!u._decimated&&!u._loop&&!a.tension&&a.cubicInterpolationMode!=="monotone"&&!a.stepped&&!r?Ow:Lw}function Pw(u){return u.stepped?Px:u.tension||u.cubicInterpolationMode==="monotone"?Bx:vo}function Bw(u,a,r,c){let f=a._path;f||(f=a._path=new Path2D,a.path(f,r,c)&&f.closePath()),rv(u,a.options),u.stroke(f)}function Nw(u,a,r,c){const{segments:f,options:g}=a,b=op(a);for(const C of f)rv(u,g,C.style),u.beginPath(),b(u,a,C,{start:r,end:r+c-1})&&u.closePath(),u.stroke()}const Rw=typeof Path2D=="function";function zw(u,a,r,c){Rw&&!a.options.segment?Bw(u,a,r,c):Nw(u,a,r,c)}class Dr extends za{constructor(a){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,a&&Object.assign(this,a)}updateControlPoints(a,r){const c=this.options;if((c.tension||c.cubicInterpolationMode==="monotone")&&!c.stepped&&!this._pointsUpdated){const f=c.spanGaps?this._loop:this._fullLoop;Tx(this._points,c,a,f,r),this._pointsUpdated=!0}}set points(a){this._points=a,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Vx(this,this.options.segment))}first(){const a=this.segments,r=this.points;return a.length&&r[a[0].start]}last(){const a=this.segments,r=this.points,c=a.length;return c&&r[a[c-1].end]}interpolate(a,r){const c=this.options,f=a[r],g=this.points,b=U0(this,{property:r,start:f,end:f});if(!b.length)return;const C=[],S=Pw(c);let T,A;for(T=0,A=b.length;T<A;++T){const{start:O,end:N}=b[T],$=g[O],q=g[N];if($===q){C.push($);continue}const Q=Math.abs((f-$[r])/(q[r]-$[r])),te=S($,q,Q,c.stepped);te[r]=a[r],C.push(te)}return C.length===1?C[0]:C}pathSegment(a,r,c){return op(this)(a,this,r,c)}path(a,r,c){const f=this.segments,g=op(this);let b=this._loop;r=r||0,c=c||this.points.length-r;for(const C of f)b&=g(a,this,C,{start:r,end:r+c-1});return!!b}draw(a,r,c,f){const g=this.options||{};(this.points||[]).length&&g.borderWidth&&(a.save(),zw(a,this,c,f),a.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}re(Dr,"id","line"),re(Dr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),re(Dr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),re(Dr,"descriptors",{_scriptable:!0,_indexable:a=>a!=="borderDash"&&a!=="fill"});function og(u,a,r,c){const f=u.options,{[r]:g}=u.getProps([r],c);return Math.abs(a-g)<f.radius+f.hitRadius}class Hu extends za{constructor(r){super();re(this,"parsed");re(this,"skip");re(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,c,f){const g=this.options,{x:b,y:C}=this.getProps(["x","y"],f);return Math.pow(r-b,2)+Math.pow(c-C,2)<Math.pow(g.hitRadius+g.radius,2)}inXRange(r,c){return og(this,r,"x",c)}inYRange(r,c){return og(this,r,"y",c)}getCenterPoint(r){const{x:c,y:f}=this.getProps(["x","y"],r);return{x:c,y:f}}size(r){r=r||this.options||{};let c=r.radius||0;c=Math.max(c,c&&r.hoverRadius||0);const f=c&&r.borderWidth||0;return(c+f)*2}draw(r,c){const f=this.options;this.skip||f.radius<.1||!Na(this,c,this.size(f)/2)||(r.strokeStyle=f.borderColor,r.lineWidth=f.borderWidth,r.fillStyle=f.backgroundColor,np(r,f,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}re(Hu,"id","point"),re(Hu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),re(Hu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function lv(u,a){const{x:r,y:c,base:f,width:g,height:b}=u.getProps(["x","y","base","width","height"],a);let C,S,T,A,O;return u.horizontal?(O=b/2,C=Math.min(r,f),S=Math.max(r,f),T=c-O,A=c+O):(O=g/2,C=r-O,S=r+O,T=Math.min(c,f),A=Math.max(c,f)),{left:C,top:T,right:S,bottom:A}}function Tr(u,a,r,c){return u?0:rn(a,r,c)}function Hw(u,a,r){const c=u.options.borderWidth,f=u.borderSkipped,g=O0(c);return{t:Tr(f.top,g.top,0,r),r:Tr(f.right,g.right,0,a),b:Tr(f.bottom,g.bottom,0,r),l:Tr(f.left,g.left,0,a)}}function $w(u,a,r){const{enableBorderRadius:c}=u.getProps(["enableBorderRadius"]),f=u.options.borderRadius,g=_o(f),b=Math.min(a,r),C=u.borderSkipped,S=c||It(f);return{topLeft:Tr(!S||C.top||C.left,g.topLeft,0,b),topRight:Tr(!S||C.top||C.right,g.topRight,0,b),bottomLeft:Tr(!S||C.bottom||C.left,g.bottomLeft,0,b),bottomRight:Tr(!S||C.bottom||C.right,g.bottomRight,0,b)}}function Vw(u){const a=lv(u),r=a.right-a.left,c=a.bottom-a.top,f=Hw(u,r/2,c/2),g=$w(u,r/2,c/2);return{outer:{x:a.left,y:a.top,w:r,h:c,radius:g},inner:{x:a.left+f.l,y:a.top+f.t,w:r-f.l-f.r,h:c-f.t-f.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(f.t,f.l)),topRight:Math.max(0,g.topRight-Math.max(f.t,f.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(f.b,f.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(f.b,f.r))}}}}function jf(u,a,r,c){const f=a===null,g=r===null,C=u&&!(f&&g)&&lv(u,c);return C&&(f||Pa(a,C.left,C.right))&&(g||Pa(r,C.top,C.bottom))}function Ww(u){return u.topLeft||u.topRight||u.bottomLeft||u.bottomRight}function jw(u,a){u.rect(a.x,a.y,a.w,a.h)}function Uf(u,a,r={}){const c=u.x!==r.x?-a:0,f=u.y!==r.y?-a:0,g=(u.x+u.w!==r.x+r.w?a:0)-c,b=(u.y+u.h!==r.y+r.h?a:0)-f;return{x:u.x+c,y:u.y+f,w:u.w+g,h:u.h+b,radius:u.radius}}class $u extends za{constructor(a){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,a&&Object.assign(this,a)}draw(a){const{inflateAmount:r,options:{borderColor:c,backgroundColor:f}}=this,{inner:g,outer:b}=Vw(this),C=Ww(b.radius)?Gu:jw;a.save(),(b.w!==g.w||b.h!==g.h)&&(a.beginPath(),C(a,Uf(b,r,g)),a.clip(),C(a,Uf(g,-r,b)),a.fillStyle=c,a.fill("evenodd")),a.beginPath(),C(a,Uf(g,r)),a.fillStyle=f,a.fill(),a.restore()}inRange(a,r,c){return jf(this,a,r,c)}inXRange(a,r){return jf(this,a,null,r)}inYRange(a,r){return jf(this,null,a,r)}getCenterPoint(a){const{x:r,y:c,base:f,horizontal:g}=this.getProps(["x","y","base","horizontal"],a);return{x:g?(r+f)/2:r,y:g?c:(c+f)/2}}getRange(a){return a==="x"?this.width/2:this.height/2}}re($u,"id","bar"),re($u,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),re($u,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Uw=Object.freeze({__proto__:null,ArcElement:ol,BarElement:$u,LineElement:Dr,PointElement:Hu});const lp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lg=lp.map(u=>u.replace("rgb(","rgba(").replace(")",", 0.5)"));function uv(u){return lp[u%lp.length]}function cv(u){return lg[u%lg.length]}function qw(u,a){return u.borderColor=uv(a),u.backgroundColor=cv(a),++a}function Yw(u,a){return u.backgroundColor=u.data.map(()=>uv(a++)),a}function Gw(u,a){return u.backgroundColor=u.data.map(()=>cv(a++)),a}function Kw(u){let a=0;return(r,c)=>{const f=u.getDatasetMeta(c).controller;f instanceof yo?a=Yw(r,a):f instanceof zu?a=Gw(r,a):f&&(a=qw(r,a))}}function ug(u){let a;for(a in u)if(u[a].borderColor||u[a].backgroundColor)return!0;return!1}function Xw(u){return u&&(u.borderColor||u.backgroundColor)}function Jw(){return pi.borderColor!=="rgba(0,0,0,0.1)"||pi.backgroundColor!=="rgba(0,0,0,0.1)"}var Zw={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(u,a,r){if(!r.enabled)return;const{data:{datasets:c},options:f}=u.config,{elements:g}=f,b=ug(c)||Xw(f)||g&&ug(g)||Jw();if(!r.forceOverride&&b)return;const C=Kw(u);c.forEach(C)}};function Qw(u,a,r,c,f){const g=f.samples||c;if(g>=r)return u.slice(a,a+r);const b=[],C=(r-2)/(g-2);let S=0;const T=a+r-1;let A=a,O,N,$,q,Q;for(b[S++]=u[A],O=0;O<g-2;O++){let te=0,J=0,K;const le=Math.floor((O+1)*C)+1+a,se=Math.min(Math.floor((O+2)*C)+1,r)+a,ae=se-le;for(K=le;K<se;K++)te+=u[K].x,J+=u[K].y;te/=ae,J/=ae;const ke=Math.floor(O*C)+1+a,ye=Math.min(Math.floor((O+1)*C)+1,r)+a,{x:be,y:Te}=u[A];for($=q=-1,K=ke;K<ye;K++)q=.5*Math.abs((be-te)*(u[K].y-Te)-(be-u[K].x)*(J-Te)),q>$&&($=q,N=u[K],Q=K);b[S++]=N,A=Q}return b[S++]=u[T],b}function ek(u,a,r,c){let f=0,g=0,b,C,S,T,A,O,N,$,q,Q;const te=[],J=a+r-1,K=u[a].x,se=u[J].x-K;for(b=a;b<a+r;++b){C=u[b],S=(C.x-K)/se*c,T=C.y;const ae=S|0;if(ae===A)T<q?(q=T,O=b):T>Q&&(Q=T,N=b),f=(g*f+C.x)/++g;else{const ke=b-1;if(!Mt(O)&&!Mt(N)){const ye=Math.min(O,N),be=Math.max(O,N);ye!==$&&ye!==ke&&te.push({...u[ye],x:f}),be!==$&&be!==ke&&te.push({...u[be],x:f})}b>0&&ke!==$&&te.push(u[ke]),te.push(C),A=ae,g=0,q=Q=T,O=N=$=b}}return te}function dv(u){if(u._decimated){const a=u._data;delete u._decimated,delete u._data,Object.defineProperty(u,"data",{configurable:!0,enumerable:!0,writable:!0,value:a})}}function cg(u){u.data.datasets.forEach(a=>{dv(a)})}function tk(u,a){const r=a.length;let c=0,f;const{iScale:g}=u,{min:b,max:C,minDefined:S,maxDefined:T}=g.getUserBounds();return S&&(c=rn(Ba(a,g.axis,b).lo,0,r-1)),T?f=rn(Ba(a,g.axis,C).hi+1,c,r)-c:f=r-c,{start:c,count:f}}var ik={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(u,a,r)=>{if(!r.enabled){cg(u);return}const c=u.width;u.data.datasets.forEach((f,g)=>{const{_data:b,indexAxis:C}=f,S=u.getDatasetMeta(g),T=b||f.data;if(di([C,u.options.indexAxis])==="y"||!S.controller.supportsDecimation)return;const A=u.scales[S.xAxisID];if(A.type!=="linear"&&A.type!=="time"||u.options.parsing)return;let{start:O,count:N}=tk(S,T);const $=r.threshold||4*c;if(N<=$){dv(f);return}Mt(b)&&(f._data=T,delete f.data,Object.defineProperty(f,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Q){this._data=Q}}));let q;switch(r.algorithm){case"lttb":q=Qw(T,O,N,c,r);break;case"min-max":q=ek(T,O,N,c);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}f._decimated=q})},destroy(u){cg(u)}};function nk(u,a,r){const c=u.segments,f=u.points,g=a.points,b=[];for(const C of c){let{start:S,end:T}=C;T=Pp(S,T,f);const A=up(r,f[S],f[T],C.loop);if(!a.segments){b.push({source:C,target:A,start:f[S],end:f[T]});continue}const O=U0(a,A);for(const N of O){const $=up(r,g[N.start],g[N.end],N.loop),q=j0(C,f,$);for(const Q of q)b.push({source:Q,target:N,start:{[r]:dg(A,$,"start",Math.max)},end:{[r]:dg(A,$,"end",Math.min)}})}}return b}function up(u,a,r,c){if(c)return;let f=a[u],g=r[u];return u==="angle"&&(f=is(f),g=is(g)),{property:u,start:f,end:g}}function sk(u,a){const{x:r=null,y:c=null}=u||{},f=a.points,g=[];return a.segments.forEach(({start:b,end:C})=>{C=Pp(b,C,f);const S=f[b],T=f[C];c!==null?(g.push({x:S.x,y:c}),g.push({x:T.x,y:c})):r!==null&&(g.push({x:r,y:S.y}),g.push({x:r,y:T.y}))}),g}function Pp(u,a,r){for(;a>u;a--){const c=r[a];if(!isNaN(c.x)&&!isNaN(c.y))break}return a}function dg(u,a,r,c){return u&&a?c(u[r],a[r]):u?u[r]:a?a[r]:0}function hv(u,a){let r=[],c=!1;return hi(u)?(c=!0,r=u):r=sk(u,a),r.length?new Dr({points:r,options:{tension:0},_loop:c,_fullLoop:c}):null}function hg(u){return u&&u.fill!==!1}function ak(u,a,r){let f=u[a].fill;const g=[a];let b;if(!r)return f;for(;f!==!1&&g.indexOf(f)===-1;){if(!Ii(f))return f;if(b=u[f],!b)return!1;if(b.visible)return f;g.push(f),f=b.fill}return!1}function rk(u,a,r){const c=ck(u);if(It(c))return isNaN(c.value)?!1:c;let f=parseFloat(c);return Ii(f)&&Math.floor(f)===f?ok(c[0],a,f,r):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function ok(u,a,r,c){return(u==="-"||u==="+")&&(r=a+r),r===a||r<0||r>=c?!1:r}function lk(u,a){let r=null;return u==="start"?r=a.bottom:u==="end"?r=a.top:It(u)?r=a.getPixelForValue(u.value):a.getBasePixel&&(r=a.getBasePixel()),r}function uk(u,a,r){let c;return u==="start"?c=r:u==="end"?c=a.options.reverse?a.min:a.max:It(u)?c=u.value:c=a.getBaseValue(),c}function ck(u){const a=u.options,r=a.fill;let c=At(r&&r.target,r);return c===void 0&&(c=!!a.backgroundColor),c===!1||c===null?!1:c===!0?"origin":c}function dk(u){const{scale:a,index:r,line:c}=u,f=[],g=c.segments,b=c.points,C=hk(a,r);C.push(hv({x:null,y:a.bottom},c));for(let S=0;S<g.length;S++){const T=g[S];for(let A=T.start;A<=T.end;A++)fk(f,b[A],C)}return new Dr({points:f,options:{}})}function hk(u,a){const r=[],c=u.getMatchingVisibleMetas("line");for(let f=0;f<c.length;f++){const g=c[f];if(g.index===a)break;g.hidden||r.unshift(g.dataset)}return r}function fk(u,a,r){const c=[];for(let f=0;f<r.length;f++){const g=r[f],{first:b,last:C,point:S}=pk(g,a,"x");if(!(!S||b&&C)){if(b)c.unshift(S);else if(u.push(S),!C)break}}u.push(...c)}function pk(u,a,r){const c=u.interpolate(a,r);if(!c)return{};const f=c[r],g=u.segments,b=u.points;let C=!1,S=!1;for(let T=0;T<g.length;T++){const A=g[T],O=b[A.start][r],N=b[A.end][r];if(Pa(f,O,N)){C=f===O,S=f===N;break}}return{first:C,last:S,point:c}}class fv{constructor(a){this.x=a.x,this.y=a.y,this.radius=a.radius}pathSegment(a,r,c){const{x:f,y:g,radius:b}=this;return r=r||{start:0,end:fi},a.arc(f,g,b,r.end,r.start,!0),!c.bounds}interpolate(a){const{x:r,y:c,radius:f}=this,g=a.angle;return{x:r+Math.cos(g)*f,y:c+Math.sin(g)*f,angle:g}}}function mk(u){const{chart:a,fill:r,line:c}=u;if(Ii(r))return gk(a,r);if(r==="stack")return dk(u);if(r==="shape")return!0;const f=vk(u);return f instanceof fv?f:hv(f,c)}function gk(u,a){const r=u.getDatasetMeta(a);return r&&u.isDatasetVisible(a)?r.dataset:null}function vk(u){return(u.scale||{}).getPointPositionForValue?yk(u):bk(u)}function bk(u){const{scale:a={},fill:r}=u,c=lk(r,a);if(Ii(c)){const f=a.isHorizontal();return{x:f?c:null,y:f?null:c}}return null}function yk(u){const{scale:a,fill:r}=u,c=a.options,f=a.getLabels().length,g=c.reverse?a.max:a.min,b=uk(r,a,g),C=[];if(c.grid.circular){const S=a.getPointPositionForValue(0,g);return new fv({x:S.x,y:S.y,radius:a.getDistanceFromCenterForValue(b)})}for(let S=0;S<f;++S)C.push(a.getPointPositionForValue(S,b));return C}function qf(u,a,r){const c=mk(a),{chart:f,index:g,line:b,scale:C,axis:S}=a,T=b.options,A=T.fill,O=T.backgroundColor,{above:N=O,below:$=O}=A||{},q=f.getDatasetMeta(g),Q=q0(f,q);c&&b.points.length&&(xh(u,r),_k(u,{line:b,target:c,above:N,below:$,area:r,scale:C,axis:S,clip:Q}),Ch(u))}function _k(u,a){const{line:r,target:c,above:f,below:g,area:b,scale:C,clip:S}=a,T=r._loop?"angle":a.axis;u.save(),T==="x"&&g!==f&&(fg(u,c,b.top),pg(u,{line:r,target:c,color:f,scale:C,property:T,clip:S}),u.restore(),u.save(),fg(u,c,b.bottom)),pg(u,{line:r,target:c,color:g,scale:C,property:T,clip:S}),u.restore()}function fg(u,a,r){const{segments:c,points:f}=a;let g=!0,b=!1;u.beginPath();for(const C of c){const{start:S,end:T}=C,A=f[S],O=f[Pp(S,T,f)];g?(u.moveTo(A.x,A.y),g=!1):(u.lineTo(A.x,r),u.lineTo(A.x,A.y)),b=!!a.pathSegment(u,C,{move:b}),b?u.closePath():u.lineTo(O.x,r)}u.lineTo(a.first().x,r),u.closePath(),u.clip()}function pg(u,a){const{line:r,target:c,property:f,color:g,scale:b,clip:C}=a,S=nk(r,c,f);for(const{source:T,target:A,start:O,end:N}of S){const{style:{backgroundColor:$=g}={}}=T,q=c!==!0;u.save(),u.fillStyle=$,xk(u,b,C,q&&up(f,O,N)),u.beginPath();const Q=!!r.pathSegment(u,T);let te;if(q){Q?u.closePath():mg(u,c,N,f);const J=!!c.pathSegment(u,A,{move:Q,reverse:!0});te=Q&&J,te||mg(u,c,O,f)}u.closePath(),u.fill(te?"evenodd":"nonzero"),u.restore()}}function xk(u,a,r,c){const f=a.chart.chartArea,{property:g,start:b,end:C}=c||{};if(g==="x"||g==="y"){let S,T,A,O;g==="x"?(S=b,T=f.top,A=C,O=f.bottom):(S=f.left,T=b,A=f.right,O=C),u.beginPath(),r&&(S=Math.max(S,r.left),A=Math.min(A,r.right),T=Math.max(T,r.top),O=Math.min(O,r.bottom)),u.rect(S,T,A-S,O-T),u.clip()}}function mg(u,a,r,c){const f=a.interpolate(r,c);f&&u.lineTo(f.x,f.y)}var Ck={id:"filler",afterDatasetsUpdate(u,a,r){const c=(u.data.datasets||[]).length,f=[];let g,b,C,S;for(b=0;b<c;++b)g=u.getDatasetMeta(b),C=g.dataset,S=null,C&&C.options&&C instanceof Dr&&(S={visible:u.isDatasetVisible(b),index:b,fill:rk(C,b,c),chart:u,axis:g.controller.options.indexAxis,scale:g.vScale,line:C}),g.$filler=S,f.push(S);for(b=0;b<c;++b)S=f[b],!(!S||S.fill===!1)&&(S.fill=ak(f,b,r.propagate))},beforeDraw(u,a,r){const c=r.drawTime==="beforeDraw",f=u.getSortedVisibleDatasetMetas(),g=u.chartArea;for(let b=f.length-1;b>=0;--b){const C=f[b].$filler;C&&(C.line.updateControlPoints(g,C.axis),c&&C.fill&&qf(u.ctx,C,g))}},beforeDatasetsDraw(u,a,r){if(r.drawTime!=="beforeDatasetsDraw")return;const c=u.getSortedVisibleDatasetMetas();for(let f=c.length-1;f>=0;--f){const g=c[f].$filler;hg(g)&&qf(u.ctx,g,u.chartArea)}},beforeDatasetDraw(u,a,r){const c=a.meta.$filler;!hg(c)||r.drawTime!=="beforeDatasetDraw"||qf(u.ctx,c,u.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const gg=(u,a)=>{let{boxHeight:r=a,boxWidth:c=a}=u;return u.usePointStyle&&(r=Math.min(r,a),c=u.pointStyleWidth||Math.min(c,a)),{boxWidth:c,boxHeight:r,itemHeight:Math.max(a,r)}},wk=(u,a)=>u!==null&&a!==null&&u.datasetIndex===a.datasetIndex&&u.index===a.index;class vg extends za{constructor(a){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,r,c){this.maxWidth=a,this.maxHeight=r,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const a=this.options.labels||{};let r=ei(a.generateLabels,[this.chart],this)||[];a.filter&&(r=r.filter(c=>a.filter(c,this.chart.data))),a.sort&&(r=r.sort((c,f)=>a.sort(c,f,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:a,ctx:r}=this;if(!a.display){this.width=this.height=0;return}const c=a.labels,f=Wi(c.font),g=f.size,b=this._computeTitleHeight(),{boxWidth:C,itemHeight:S}=gg(c,g);let T,A;r.font=f.string,this.isHorizontal()?(T=this.maxWidth,A=this._fitRows(b,g,C,S)+10):(A=this.maxHeight,T=this._fitCols(b,f,C,S)+10),this.width=Math.min(T,a.maxWidth||this.maxWidth),this.height=Math.min(A,a.maxHeight||this.maxHeight)}_fitRows(a,r,c,f){const{ctx:g,maxWidth:b,options:{labels:{padding:C}}}=this,S=this.legendHitBoxes=[],T=this.lineWidths=[0],A=f+C;let O=a;g.textAlign="left",g.textBaseline="middle";let N=-1,$=-A;return this.legendItems.forEach((q,Q)=>{const te=c+r/2+g.measureText(q.text).width;(Q===0||T[T.length-1]+te+2*C>b)&&(O+=A,T[T.length-(Q>0?0:1)]=0,$+=A,N++),S[Q]={left:0,top:$,row:N,width:te,height:f},T[T.length-1]+=te+C}),O}_fitCols(a,r,c,f){const{ctx:g,maxHeight:b,options:{labels:{padding:C}}}=this,S=this.legendHitBoxes=[],T=this.columnSizes=[],A=b-a;let O=C,N=0,$=0,q=0,Q=0;return this.legendItems.forEach((te,J)=>{const{itemWidth:K,itemHeight:le}=kk(c,r,g,te,f);J>0&&$+le+2*C>A&&(O+=N+C,T.push({width:N,height:$}),q+=N+C,Q++,N=$=0),S[J]={left:q,top:$,col:Q,width:K,height:le},N=Math.max(N,K),$+=le+C}),O+=N,T.push({width:N,height:$}),O}adjustHitBoxes(){if(!this.options.display)return;const a=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:c,labels:{padding:f},rtl:g}}=this,b=ll(g,this.left,this.width);if(this.isHorizontal()){let C=0,S=Sn(c,this.left+f,this.right-this.lineWidths[C]);for(const T of r)C!==T.row&&(C=T.row,S=Sn(c,this.left+f,this.right-this.lineWidths[C])),T.top+=this.top+a+f,T.left=b.leftForLtr(b.x(S),T.width),S+=T.width+f}else{let C=0,S=Sn(c,this.top+a+f,this.bottom-this.columnSizes[C].height);for(const T of r)T.col!==C&&(C=T.col,S=Sn(c,this.top+a+f,this.bottom-this.columnSizes[C].height)),T.top=S,T.left+=this.left+f,T.left=b.leftForLtr(b.x(T.left),T.width),S+=T.height+f}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const a=this.ctx;xh(a,this),this._draw(),Ch(a)}}_draw(){const{options:a,columnSizes:r,lineWidths:c,ctx:f}=this,{align:g,labels:b}=a,C=pi.color,S=ll(a.rtl,this.left,this.width),T=Wi(b.font),{padding:A}=b,O=T.size,N=O/2;let $;this.drawTitle(),f.textAlign=S.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.font=T.string;const{boxWidth:q,boxHeight:Q,itemHeight:te}=gg(b,O),J=function(ke,ye,be){if(isNaN(q)||q<=0||isNaN(Q)||Q<0)return;f.save();const Te=At(be.lineWidth,1);if(f.fillStyle=At(be.fillStyle,C),f.lineCap=At(be.lineCap,"butt"),f.lineDashOffset=At(be.lineDashOffset,0),f.lineJoin=At(be.lineJoin,"miter"),f.lineWidth=Te,f.strokeStyle=At(be.strokeStyle,C),f.setLineDash(At(be.lineDash,[])),b.usePointStyle){const Ke={radius:Q*Math.SQRT2/2,pointStyle:be.pointStyle,rotation:be.rotation,borderWidth:Te},Le=S.xPlus(ke,q/2),Ge=ye+N;L0(f,Ke,Le,Ge,b.pointStyleWidth&&q)}else{const Ke=ye+Math.max((O-Q)/2,0),Le=S.leftForLtr(ke,q),Ge=_o(be.borderRadius);f.beginPath(),Object.values(Ge).some(st=>st!==0)?Gu(f,{x:Le,y:Ke,w:q,h:Q,radius:Ge}):f.rect(Le,Ke,q,Q),f.fill(),Te!==0&&f.stroke()}f.restore()},K=function(ke,ye,be){wo(f,be.text,ke,ye+te/2,T,{strikethrough:be.hidden,textAlign:S.textAlign(be.textAlign)})},le=this.isHorizontal(),se=this._computeTitleHeight();le?$={x:Sn(g,this.left+A,this.right-c[0]),y:this.top+A+se,line:0}:$={x:this.left+A,y:Sn(g,this.top+se+A,this.bottom-r[0].height),line:0},$0(this.ctx,a.textDirection);const ae=te+A;this.legendItems.forEach((ke,ye)=>{f.strokeStyle=ke.fontColor,f.fillStyle=ke.fontColor;const be=f.measureText(ke.text).width,Te=S.textAlign(ke.textAlign||(ke.textAlign=b.textAlign)),Ke=q+N+be;let Le=$.x,Ge=$.y;S.setWidth(this.width),le?ye>0&&Le+Ke+A>this.right&&(Ge=$.y+=ae,$.line++,Le=$.x=Sn(g,this.left+A,this.right-c[$.line])):ye>0&&Ge+ae>this.bottom&&(Le=$.x=Le+r[$.line].width+A,$.line++,Ge=$.y=Sn(g,this.top+se+A,this.bottom-r[$.line].height));const st=S.x(Le);if(J(st,Ge,ke),Le=U1(Te,Le+q+N,le?Le+Ke:this.right,a.rtl),K(S.x(Le),Ge,ke),le)$.x+=Ke+A;else if(typeof ke.text!="string"){const ut=T.lineHeight;$.y+=pv(ke,ut)+A}else $.y+=ae}),V0(this.ctx,a.textDirection)}drawTitle(){const a=this.options,r=a.title,c=Wi(r.font),f=bn(r.padding);if(!r.display)return;const g=ll(a.rtl,this.left,this.width),b=this.ctx,C=r.position,S=c.size/2,T=f.top+S;let A,O=this.left,N=this.width;if(this.isHorizontal())N=Math.max(...this.lineWidths),A=this.top+T,O=Sn(a.align,O,this.right-N);else{const q=this.columnSizes.reduce((Q,te)=>Math.max(Q,te.height),0);A=T+Sn(a.align,this.top,this.bottom-q-a.labels.padding-this._computeTitleHeight())}const $=Sn(C,O,O+N);b.textAlign=g.textAlign(Dp(C)),b.textBaseline="middle",b.strokeStyle=r.color,b.fillStyle=r.color,b.font=c.string,wo(b,r.text,$,A,c)}_computeTitleHeight(){const a=this.options.title,r=Wi(a.font),c=bn(a.padding);return a.display?r.lineHeight+c.height:0}_getLegendItemAt(a,r){let c,f,g;if(Pa(a,this.left,this.right)&&Pa(r,this.top,this.bottom)){for(g=this.legendHitBoxes,c=0;c<g.length;++c)if(f=g[c],Pa(a,f.left,f.left+f.width)&&Pa(r,f.top,f.top+f.height))return this.legendItems[c]}return null}handleEvent(a){const r=this.options;if(!Tk(a.type,r))return;const c=this._getLegendItemAt(a.x,a.y);if(a.type==="mousemove"||a.type==="mouseout"){const f=this._hoveredItem,g=wk(f,c);f&&!g&&ei(r.onLeave,[a,f,this],this),this._hoveredItem=c,c&&!g&&ei(r.onHover,[a,c,this],this)}else c&&ei(r.onClick,[a,c,this],this)}}function kk(u,a,r,c,f){const g=Sk(c,u,a,r),b=Dk(f,c,a.lineHeight);return{itemWidth:g,itemHeight:b}}function Sk(u,a,r,c){let f=u.text;return f&&typeof f!="string"&&(f=f.reduce((g,b)=>g.length>b.length?g:b)),a+r.size/2+c.measureText(f).width}function Dk(u,a,r){let c=u;return typeof a.text!="string"&&(c=pv(a,r)),c}function pv(u,a){const r=u.text?u.text.length:0;return a*r}function Tk(u,a){return!!((u==="mousemove"||u==="mouseout")&&(a.onHover||a.onLeave)||a.onClick&&(u==="click"||u==="mouseup"))}var Ek={id:"legend",_element:vg,start(u,a,r){const c=u.legend=new vg({ctx:u.ctx,options:r,chart:u});Dn.configure(u,c,r),Dn.addBox(u,c)},stop(u){Dn.removeBox(u,u.legend),delete u.legend},beforeUpdate(u,a,r){const c=u.legend;Dn.configure(u,c,r),c.options=r},afterUpdate(u){const a=u.legend;a.buildLabels(),a.adjustHitBoxes()},afterEvent(u,a){a.replay||u.legend.handleEvent(a.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(u,a,r){const c=a.datasetIndex,f=r.chart;f.isDatasetVisible(c)?(f.hide(c),a.hidden=!0):(f.show(c),a.hidden=!1)},onHover:null,onLeave:null,labels:{color:u=>u.chart.options.color,boxWidth:40,padding:10,generateLabels(u){const a=u.data.datasets,{labels:{usePointStyle:r,pointStyle:c,textAlign:f,color:g,useBorderRadius:b,borderRadius:C}}=u.legend.options;return u._getSortedDatasetMetas().map(S=>{const T=S.controller.getStyle(r?0:void 0),A=bn(T.borderWidth);return{text:a[S.index].label,fillStyle:T.backgroundColor,fontColor:g,hidden:!S.visible,lineCap:T.borderCapStyle,lineDash:T.borderDash,lineDashOffset:T.borderDashOffset,lineJoin:T.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:T.borderColor,pointStyle:c||T.pointStyle,rotation:T.rotation,textAlign:f||T.textAlign,borderRadius:b&&(C||T.borderRadius),datasetIndex:S.index}},this)}},title:{color:u=>u.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:u=>!u.startsWith("on"),labels:{_scriptable:u=>!["generateLabels","filter","sort"].includes(u)}}};class Bp extends za{constructor(a){super(),this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,r){const c=this.options;if(this.left=0,this.top=0,!c.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=a,this.height=this.bottom=r;const f=hi(c.text)?c.text.length:1;this._padding=bn(c.padding);const g=f*Wi(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=g:this.width=g}isHorizontal(){const a=this.options.position;return a==="top"||a==="bottom"}_drawArgs(a){const{top:r,left:c,bottom:f,right:g,options:b}=this,C=b.align;let S=0,T,A,O;return this.isHorizontal()?(A=Sn(C,c,g),O=r+a,T=g-c):(b.position==="left"?(A=c+a,O=Sn(C,f,r),S=mi*-.5):(A=g-a,O=Sn(C,r,f),S=mi*.5),T=f-r),{titleX:A,titleY:O,maxWidth:T,rotation:S}}draw(){const a=this.ctx,r=this.options;if(!r.display)return;const c=Wi(r.font),g=c.lineHeight/2+this._padding.top,{titleX:b,titleY:C,maxWidth:S,rotation:T}=this._drawArgs(g);wo(a,r.text,0,0,c,{color:r.color,maxWidth:S,rotation:T,textAlign:Dp(r.align),textBaseline:"middle",translation:[b,C]})}}function Ak(u,a){const r=new Bp({ctx:u.ctx,options:a,chart:u});Dn.configure(u,r,a),Dn.addBox(u,r),u.titleBlock=r}var Mk={id:"title",_element:Bp,start(u,a,r){Ak(u,r)},stop(u){const a=u.titleBlock;Dn.removeBox(u,a),delete u.titleBlock},beforeUpdate(u,a,r){const c=u.titleBlock;Dn.configure(u,c,r),c.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yd=new WeakMap;var Fk={id:"subtitle",start(u,a,r){const c=new Bp({ctx:u.ctx,options:r,chart:u});Dn.configure(u,c,r),Dn.addBox(u,c),Yd.set(u,c)},stop(u){Dn.removeBox(u,Yd.get(u)),Yd.delete(u)},beforeUpdate(u,a,r){const c=Yd.get(u);Dn.configure(u,c,r),c.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Lu={average(u){if(!u.length)return!1;let a,r,c=new Set,f=0,g=0;for(a=0,r=u.length;a<r;++a){const C=u[a].element;if(C&&C.hasValue()){const S=C.tooltipPosition();c.add(S.x),f+=S.y,++g}}return g===0||c.size===0?!1:{x:[...c].reduce((C,S)=>C+S)/c.size,y:f/g}},nearest(u,a){if(!u.length)return!1;let r=a.x,c=a.y,f=Number.POSITIVE_INFINITY,g,b,C;for(g=0,b=u.length;g<b;++g){const S=u[g].element;if(S&&S.hasValue()){const T=S.getCenterPoint(),A=tp(a,T);A<f&&(f=A,C=S)}}if(C){const S=C.tooltipPosition();r=S.x,c=S.y}return{x:r,y:c}}};function ea(u,a){return a&&(hi(a)?Array.prototype.push.apply(u,a):u.push(a)),u}function Ia(u){return(typeof u=="string"||u instanceof String)&&u.indexOf(`
`)>-1?u.split(`
`):u}function Ik(u,a){const{element:r,datasetIndex:c,index:f}=a,g=u.getDatasetMeta(c).controller,{label:b,value:C}=g.getLabelAndValue(f);return{chart:u,label:b,parsed:g.getParsed(f),raw:u.data.datasets[c].data[f],formattedValue:C,dataset:g.getDataset(),dataIndex:f,datasetIndex:c,element:r}}function bg(u,a){const r=u.chart.ctx,{body:c,footer:f,title:g}=u,{boxWidth:b,boxHeight:C}=a,S=Wi(a.bodyFont),T=Wi(a.titleFont),A=Wi(a.footerFont),O=g.length,N=f.length,$=c.length,q=bn(a.padding);let Q=q.height,te=0,J=c.reduce((se,ae)=>se+ae.before.length+ae.lines.length+ae.after.length,0);if(J+=u.beforeBody.length+u.afterBody.length,O&&(Q+=O*T.lineHeight+(O-1)*a.titleSpacing+a.titleMarginBottom),J){const se=a.displayColors?Math.max(C,S.lineHeight):S.lineHeight;Q+=$*se+(J-$)*S.lineHeight+(J-1)*a.bodySpacing}N&&(Q+=a.footerMarginTop+N*A.lineHeight+(N-1)*a.footerSpacing);let K=0;const le=function(se){te=Math.max(te,r.measureText(se).width+K)};return r.save(),r.font=T.string,Jt(u.title,le),r.font=S.string,Jt(u.beforeBody.concat(u.afterBody),le),K=a.displayColors?b+2+a.boxPadding:0,Jt(c,se=>{Jt(se.before,le),Jt(se.lines,le),Jt(se.after,le)}),K=0,r.font=A.string,Jt(u.footer,le),r.restore(),te+=q.width,{width:te,height:Q}}function Lk(u,a){const{y:r,height:c}=a;return r<c/2?"top":r>u.height-c/2?"bottom":"center"}function Ok(u,a,r,c){const{x:f,width:g}=c,b=r.caretSize+r.caretPadding;if(u==="left"&&f+g+b>a.width||u==="right"&&f-g-b<0)return!0}function Pk(u,a,r,c){const{x:f,width:g}=r,{width:b,chartArea:{left:C,right:S}}=u;let T="center";return c==="center"?T=f<=(C+S)/2?"left":"right":f<=g/2?T="left":f>=b-g/2&&(T="right"),Ok(T,u,a,r)&&(T="center"),T}function yg(u,a,r){const c=r.yAlign||a.yAlign||Lk(u,r);return{xAlign:r.xAlign||a.xAlign||Pk(u,a,r,c),yAlign:c}}function Bk(u,a){let{x:r,width:c}=u;return a==="right"?r-=c:a==="center"&&(r-=c/2),r}function Nk(u,a,r){let{y:c,height:f}=u;return a==="top"?c+=r:a==="bottom"?c-=f+r:c-=f/2,c}function _g(u,a,r,c){const{caretSize:f,caretPadding:g,cornerRadius:b}=u,{xAlign:C,yAlign:S}=r,T=f+g,{topLeft:A,topRight:O,bottomLeft:N,bottomRight:$}=_o(b);let q=Bk(a,C);const Q=Nk(a,S,T);return S==="center"?C==="left"?q+=T:C==="right"&&(q-=T):C==="left"?q-=Math.max(A,N)+f:C==="right"&&(q+=Math.max(O,$)+f),{x:rn(q,0,c.width-a.width),y:rn(Q,0,c.height-a.height)}}function Gd(u,a,r){const c=bn(r.padding);return a==="center"?u.x+u.width/2:a==="right"?u.x+u.width-c.right:u.x+c.left}function xg(u){return ea([],Ia(u))}function Rk(u,a,r){return Fr(u,{tooltip:a,tooltipItems:r,type:"tooltip"})}function Cg(u,a){const r=a&&a.dataset&&a.dataset.tooltip&&a.dataset.tooltip.callbacks;return r?u.override(r):u}const mv={beforeTitle:Ma,title(u){if(u.length>0){const a=u[0],r=a.chart.data.labels,c=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return a.dataset.label||"";if(a.label)return a.label;if(c>0&&a.dataIndex<c)return r[a.dataIndex]}return""},afterTitle:Ma,beforeBody:Ma,beforeLabel:Ma,label(u){if(this&&this.options&&this.options.mode==="dataset")return u.label+": "+u.formattedValue||u.formattedValue;let a=u.dataset.label||"";a&&(a+=": ");const r=u.formattedValue;return Mt(r)||(a+=r),a},labelColor(u){const r=u.chart.getDatasetMeta(u.datasetIndex).controller.getStyle(u.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(u){const r=u.chart.getDatasetMeta(u.datasetIndex).controller.getStyle(u.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ma,afterBody:Ma,beforeFooter:Ma,footer:Ma,afterFooter:Ma};function Nn(u,a,r,c){const f=u[a].call(r,c);return typeof f>"u"?mv[a].call(r,c):f}class cp extends za{constructor(a){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=a.chart,this.options=a.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(a){this.options=a,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const a=this._cachedAnimations;if(a)return a;const r=this.chart,c=this.options.setContext(this.getContext()),f=c.enabled&&r.options.animation&&c.animations,g=new Y0(this.chart,f);return f._cacheable&&(this._cachedAnimations=Object.freeze(g)),g}getContext(){return this.$context||(this.$context=Rk(this.chart.getContext(),this,this._tooltipItems))}getTitle(a,r){const{callbacks:c}=r,f=Nn(c,"beforeTitle",this,a),g=Nn(c,"title",this,a),b=Nn(c,"afterTitle",this,a);let C=[];return C=ea(C,Ia(f)),C=ea(C,Ia(g)),C=ea(C,Ia(b)),C}getBeforeBody(a,r){return xg(Nn(r.callbacks,"beforeBody",this,a))}getBody(a,r){const{callbacks:c}=r,f=[];return Jt(a,g=>{const b={before:[],lines:[],after:[]},C=Cg(c,g);ea(b.before,Ia(Nn(C,"beforeLabel",this,g))),ea(b.lines,Nn(C,"label",this,g)),ea(b.after,Ia(Nn(C,"afterLabel",this,g))),f.push(b)}),f}getAfterBody(a,r){return xg(Nn(r.callbacks,"afterBody",this,a))}getFooter(a,r){const{callbacks:c}=r,f=Nn(c,"beforeFooter",this,a),g=Nn(c,"footer",this,a),b=Nn(c,"afterFooter",this,a);let C=[];return C=ea(C,Ia(f)),C=ea(C,Ia(g)),C=ea(C,Ia(b)),C}_createItems(a){const r=this._active,c=this.chart.data,f=[],g=[],b=[];let C=[],S,T;for(S=0,T=r.length;S<T;++S)C.push(Ik(this.chart,r[S]));return a.filter&&(C=C.filter((A,O,N)=>a.filter(A,O,N,c))),a.itemSort&&(C=C.sort((A,O)=>a.itemSort(A,O,c))),Jt(C,A=>{const O=Cg(a.callbacks,A);f.push(Nn(O,"labelColor",this,A)),g.push(Nn(O,"labelPointStyle",this,A)),b.push(Nn(O,"labelTextColor",this,A))}),this.labelColors=f,this.labelPointStyles=g,this.labelTextColors=b,this.dataPoints=C,C}update(a,r){const c=this.options.setContext(this.getContext()),f=this._active;let g,b=[];if(!f.length)this.opacity!==0&&(g={opacity:0});else{const C=Lu[c.position].call(this,f,this._eventPosition);b=this._createItems(c),this.title=this.getTitle(b,c),this.beforeBody=this.getBeforeBody(b,c),this.body=this.getBody(b,c),this.afterBody=this.getAfterBody(b,c),this.footer=this.getFooter(b,c);const S=this._size=bg(this,c),T=Object.assign({},C,S),A=yg(this.chart,c,T),O=_g(c,T,A,this.chart);this.xAlign=A.xAlign,this.yAlign=A.yAlign,g={opacity:1,x:O.x,y:O.y,width:S.width,height:S.height,caretX:C.x,caretY:C.y}}this._tooltipItems=b,this.$context=void 0,g&&this._resolveAnimations().update(this,g),a&&c.external&&c.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(a,r,c,f){const g=this.getCaretPosition(a,c,f);r.lineTo(g.x1,g.y1),r.lineTo(g.x2,g.y2),r.lineTo(g.x3,g.y3)}getCaretPosition(a,r,c){const{xAlign:f,yAlign:g}=this,{caretSize:b,cornerRadius:C}=c,{topLeft:S,topRight:T,bottomLeft:A,bottomRight:O}=_o(C),{x:N,y:$}=a,{width:q,height:Q}=r;let te,J,K,le,se,ae;return g==="center"?(se=$+Q/2,f==="left"?(te=N,J=te-b,le=se+b,ae=se-b):(te=N+q,J=te+b,le=se-b,ae=se+b),K=te):(f==="left"?J=N+Math.max(S,A)+b:f==="right"?J=N+q-Math.max(T,O)-b:J=this.caretX,g==="top"?(le=$,se=le-b,te=J-b,K=J+b):(le=$+Q,se=le+b,te=J+b,K=J-b),ae=le),{x1:te,x2:J,x3:K,y1:le,y2:se,y3:ae}}drawTitle(a,r,c){const f=this.title,g=f.length;let b,C,S;if(g){const T=ll(c.rtl,this.x,this.width);for(a.x=Gd(this,c.titleAlign,c),r.textAlign=T.textAlign(c.titleAlign),r.textBaseline="middle",b=Wi(c.titleFont),C=c.titleSpacing,r.fillStyle=c.titleColor,r.font=b.string,S=0;S<g;++S)r.fillText(f[S],T.x(a.x),a.y+b.lineHeight/2),a.y+=b.lineHeight+C,S+1===g&&(a.y+=c.titleMarginBottom-C)}}_drawColorBox(a,r,c,f,g){const b=this.labelColors[c],C=this.labelPointStyles[c],{boxHeight:S,boxWidth:T}=g,A=Wi(g.bodyFont),O=Gd(this,"left",g),N=f.x(O),$=S<A.lineHeight?(A.lineHeight-S)/2:0,q=r.y+$;if(g.usePointStyle){const Q={radius:Math.min(T,S)/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:1},te=f.leftForLtr(N,T)+T/2,J=q+S/2;a.strokeStyle=g.multiKeyBackground,a.fillStyle=g.multiKeyBackground,np(a,Q,te,J),a.strokeStyle=b.borderColor,a.fillStyle=b.backgroundColor,np(a,Q,te,J)}else{a.lineWidth=It(b.borderWidth)?Math.max(...Object.values(b.borderWidth)):b.borderWidth||1,a.strokeStyle=b.borderColor,a.setLineDash(b.borderDash||[]),a.lineDashOffset=b.borderDashOffset||0;const Q=f.leftForLtr(N,T),te=f.leftForLtr(f.xPlus(N,1),T-2),J=_o(b.borderRadius);Object.values(J).some(K=>K!==0)?(a.beginPath(),a.fillStyle=g.multiKeyBackground,Gu(a,{x:Q,y:q,w:T,h:S,radius:J}),a.fill(),a.stroke(),a.fillStyle=b.backgroundColor,a.beginPath(),Gu(a,{x:te,y:q+1,w:T-2,h:S-2,radius:J}),a.fill()):(a.fillStyle=g.multiKeyBackground,a.fillRect(Q,q,T,S),a.strokeRect(Q,q,T,S),a.fillStyle=b.backgroundColor,a.fillRect(te,q+1,T-2,S-2))}a.fillStyle=this.labelTextColors[c]}drawBody(a,r,c){const{body:f}=this,{bodySpacing:g,bodyAlign:b,displayColors:C,boxHeight:S,boxWidth:T,boxPadding:A}=c,O=Wi(c.bodyFont);let N=O.lineHeight,$=0;const q=ll(c.rtl,this.x,this.width),Q=function(be){r.fillText(be,q.x(a.x+$),a.y+N/2),a.y+=N+g},te=q.textAlign(b);let J,K,le,se,ae,ke,ye;for(r.textAlign=b,r.textBaseline="middle",r.font=O.string,a.x=Gd(this,te,c),r.fillStyle=c.bodyColor,Jt(this.beforeBody,Q),$=C&&te!=="right"?b==="center"?T/2+A:T+2+A:0,se=0,ke=f.length;se<ke;++se){for(J=f[se],K=this.labelTextColors[se],r.fillStyle=K,Jt(J.before,Q),le=J.lines,C&&le.length&&(this._drawColorBox(r,a,se,q,c),N=Math.max(O.lineHeight,S)),ae=0,ye=le.length;ae<ye;++ae)Q(le[ae]),N=O.lineHeight;Jt(J.after,Q)}$=0,N=O.lineHeight,Jt(this.afterBody,Q),a.y-=g}drawFooter(a,r,c){const f=this.footer,g=f.length;let b,C;if(g){const S=ll(c.rtl,this.x,this.width);for(a.x=Gd(this,c.footerAlign,c),a.y+=c.footerMarginTop,r.textAlign=S.textAlign(c.footerAlign),r.textBaseline="middle",b=Wi(c.footerFont),r.fillStyle=c.footerColor,r.font=b.string,C=0;C<g;++C)r.fillText(f[C],S.x(a.x),a.y+b.lineHeight/2),a.y+=b.lineHeight+c.footerSpacing}}drawBackground(a,r,c,f){const{xAlign:g,yAlign:b}=this,{x:C,y:S}=a,{width:T,height:A}=c,{topLeft:O,topRight:N,bottomLeft:$,bottomRight:q}=_o(f.cornerRadius);r.fillStyle=f.backgroundColor,r.strokeStyle=f.borderColor,r.lineWidth=f.borderWidth,r.beginPath(),r.moveTo(C+O,S),b==="top"&&this.drawCaret(a,r,c,f),r.lineTo(C+T-N,S),r.quadraticCurveTo(C+T,S,C+T,S+N),b==="center"&&g==="right"&&this.drawCaret(a,r,c,f),r.lineTo(C+T,S+A-q),r.quadraticCurveTo(C+T,S+A,C+T-q,S+A),b==="bottom"&&this.drawCaret(a,r,c,f),r.lineTo(C+$,S+A),r.quadraticCurveTo(C,S+A,C,S+A-$),b==="center"&&g==="left"&&this.drawCaret(a,r,c,f),r.lineTo(C,S+O),r.quadraticCurveTo(C,S,C+O,S),r.closePath(),r.fill(),f.borderWidth>0&&r.stroke()}_updateAnimationTarget(a){const r=this.chart,c=this.$animations,f=c&&c.x,g=c&&c.y;if(f||g){const b=Lu[a.position].call(this,this._active,this._eventPosition);if(!b)return;const C=this._size=bg(this,a),S=Object.assign({},b,this._size),T=yg(r,a,S),A=_g(a,S,T,r);(f._to!==A.x||g._to!==A.y)&&(this.xAlign=T.xAlign,this.yAlign=T.yAlign,this.width=C.width,this.height=C.height,this.caretX=b.x,this.caretY=b.y,this._resolveAnimations().update(this,A))}}_willRender(){return!!this.opacity}draw(a){const r=this.options.setContext(this.getContext());let c=this.opacity;if(!c)return;this._updateAnimationTarget(r);const f={width:this.width,height:this.height},g={x:this.x,y:this.y};c=Math.abs(c)<.001?0:c;const b=bn(r.padding),C=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&C&&(a.save(),a.globalAlpha=c,this.drawBackground(g,a,f,r),$0(a,r.textDirection),g.y+=b.top,this.drawTitle(g,a,r),this.drawBody(g,a,r),this.drawFooter(g,a,r),V0(a,r.textDirection),a.restore())}getActiveElements(){return this._active||[]}setActiveElements(a,r){const c=this._active,f=a.map(({datasetIndex:C,index:S})=>{const T=this.chart.getDatasetMeta(C);if(!T)throw new Error("Cannot find a dataset at index "+C);return{datasetIndex:C,element:T.data[S],index:S}}),g=!ch(c,f),b=this._positionChanged(f,r);(g||b)&&(this._active=f,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(a,r,c=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const f=this.options,g=this._active||[],b=this._getActiveElements(a,g,r,c),C=this._positionChanged(b,a),S=r||!ch(b,g)||C;return S&&(this._active=b,(f.enabled||f.external)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0,r))),S}_getActiveElements(a,r,c,f){const g=this.options;if(a.type==="mouseout")return[];if(!f)return r.filter(C=>this.chart.data.datasets[C.datasetIndex]&&this.chart.getDatasetMeta(C.datasetIndex).controller.getParsed(C.index)!==void 0);const b=this.chart.getElementsAtEventForMode(a,g.mode,g,c);return g.reverse&&b.reverse(),b}_positionChanged(a,r){const{caretX:c,caretY:f,options:g}=this,b=Lu[g.position].call(this,a,r);return b!==!1&&(c!==b.x||f!==b.y)}}re(cp,"positioners",Lu);var zk={id:"tooltip",_element:cp,positioners:Lu,afterInit(u,a,r){r&&(u.tooltip=new cp({chart:u,options:r}))},beforeUpdate(u,a,r){u.tooltip&&u.tooltip.initialize(r)},reset(u,a,r){u.tooltip&&u.tooltip.initialize(r)},afterDraw(u){const a=u.tooltip;if(a&&a._willRender()){const r={tooltip:a};if(u.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;a.draw(u.ctx),u.notifyPlugins("afterTooltipDraw",r)}},afterEvent(u,a){if(u.tooltip){const r=a.replay;u.tooltip.handleEvent(a.event,r,a.inChartArea)&&(a.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(u,a)=>a.bodyFont.size,boxWidth:(u,a)=>a.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:u=>u!=="filter"&&u!=="itemSort"&&u!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Hk=Object.freeze({__proto__:null,Colors:Zw,Decimation:ik,Filler:Ck,Legend:Ek,SubTitle:Fk,Title:Mk,Tooltip:zk});const $k=(u,a,r,c)=>(typeof a=="string"?(r=u.push(a)-1,c.unshift({index:r,label:a})):isNaN(a)&&(r=null),r);function Vk(u,a,r,c){const f=u.indexOf(a);if(f===-1)return $k(u,a,r,c);const g=u.lastIndexOf(a);return f!==g?r:f}const Wk=(u,a)=>u===null?null:rn(Math.round(u),0,a);function wg(u){const a=this.getLabels();return u>=0&&u<a.length?a[u]:u}class dp extends ko{constructor(a){super(a),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(a){const r=this._addedLabels;if(r.length){const c=this.getLabels();for(const{index:f,label:g}of r)c[f]===g&&c.splice(f,1);this._addedLabels=[]}super.init(a)}parse(a,r){if(Mt(a))return null;const c=this.getLabels();return r=isFinite(r)&&c[r]===a?r:Vk(c,a,At(r,a),this._addedLabels),Wk(r,c.length-1)}determineDataLimits(){const{minDefined:a,maxDefined:r}=this.getUserBounds();let{min:c,max:f}=this.getMinMax(!0);this.options.bounds==="ticks"&&(a||(c=0),r||(f=this.getLabels().length-1)),this.min=c,this.max=f}buildTicks(){const a=this.min,r=this.max,c=this.options.offset,f=[];let g=this.getLabels();g=a===0&&r===g.length-1?g:g.slice(a,r+1),this._valueRange=Math.max(g.length-(c?0:1),1),this._startValue=this.min-(c?.5:0);for(let b=a;b<=r;b++)f.push({value:b});return f}getLabelForValue(a){return wg.call(this,a)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(a){return typeof a!="number"&&(a=this.parse(a)),a===null?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getPixelForTick(a){const r=this.ticks;return a<0||a>r.length-1?null:this.getPixelForValue(r[a].value)}getValueForPixel(a){return Math.round(this._startValue+this.getDecimalForPixel(a)*this._valueRange)}getBasePixel(){return this.bottom}}re(dp,"id","category"),re(dp,"defaults",{ticks:{callback:wg}});function jk(u,a){const r=[],{bounds:f,step:g,min:b,max:C,precision:S,count:T,maxTicks:A,maxDigits:O,includeBounds:N}=u,$=g||1,q=A-1,{min:Q,max:te}=a,J=!Mt(b),K=!Mt(C),le=!Mt(T),se=(te-Q)/(O+1);let ae=bm((te-Q)/q/$)*$,ke,ye,be,Te;if(ae<1e-14&&!J&&!K)return[{value:Q},{value:te}];Te=Math.ceil(te/ae)-Math.floor(Q/ae),Te>q&&(ae=bm(Te*ae/q/$)*$),Mt(S)||(ke=Math.pow(10,S),ae=Math.ceil(ae*ke)/ke),f==="ticks"?(ye=Math.floor(Q/ae)*ae,be=Math.ceil(te/ae)*ae):(ye=Q,be=te),J&&K&&g&&R1((C-b)/g,ae/1e3)?(Te=Math.round(Math.min((C-b)/ae,A)),ae=(C-b)/Te,ye=b,be=C):le?(ye=J?b:ye,be=K?C:be,Te=T-1,ae=(be-ye)/Te):(Te=(be-ye)/ae,Bu(Te,Math.round(Te),ae/1e3)?Te=Math.round(Te):Te=Math.ceil(Te));const Ke=Math.max(ym(ae),ym(ye));ke=Math.pow(10,Mt(S)?Ke:S),ye=Math.round(ye*ke)/ke,be=Math.round(be*ke)/ke;let Le=0;for(J&&(N&&ye!==b?(r.push({value:b}),ye<b&&Le++,Bu(Math.round((ye+Le*ae)*ke)/ke,b,kg(b,se,u))&&Le++):ye<b&&Le++);Le<Te;++Le){const Ge=Math.round((ye+Le*ae)*ke)/ke;if(K&&Ge>C)break;r.push({value:Ge})}return K&&N&&be!==C?r.length&&Bu(r[r.length-1].value,C,kg(C,se,u))?r[r.length-1].value=C:r.push({value:C}):(!K||be===C)&&r.push({value:be}),r}function kg(u,a,{horizontal:r,minRotation:c}){const f=Fs(c),g=(r?Math.sin(f):Math.cos(f))||.001,b=.75*a*(""+u).length;return Math.min(a/g,b)}class vh extends ko{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(a,r){return Mt(a)||(typeof a=="number"||a instanceof Number)&&!isFinite(+a)?null:+a}handleTickRangeOptions(){const{beginAtZero:a}=this.options,{minDefined:r,maxDefined:c}=this.getUserBounds();let{min:f,max:g}=this;const b=S=>f=r?f:S,C=S=>g=c?g:S;if(a){const S=sa(f),T=sa(g);S<0&&T<0?C(0):S>0&&T>0&&b(0)}if(f===g){let S=g===0?1:Math.abs(g*.05);C(g+S),a||b(f-S)}this.min=f,this.max=g}getTickLimit(){const a=this.options.ticks;let{maxTicksLimit:r,stepSize:c}=a,f;return c?(f=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,f>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${f} ticks. Limiting to 1000.`),f=1e3)):(f=this.computeTickLimit(),r=r||11),r&&(f=Math.min(r,f)),f}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const a=this.options,r=a.ticks;let c=this.getTickLimit();c=Math.max(2,c);const f={maxTicks:c,bounds:a.bounds,min:a.min,max:a.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},g=this._range||this,b=jk(f,g);return a.bounds==="ticks"&&k0(b,this,"value"),a.reverse?(b.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),b}configure(){const a=this.ticks;let r=this.min,c=this.max;if(super.configure(),this.options.offset&&a.length){const f=(c-r)/Math.max(a.length-1,1)/2;r-=f,c+=f}this._startValue=r,this._endValue=c,this._valueRange=c-r}getLabelForValue(a){return Qu(a,this.chart.options.locale,this.options.ticks.format)}}class hp extends vh{determineDataLimits(){const{min:a,max:r}=this.getMinMax(!0);this.min=Ii(a)?a:0,this.max=Ii(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const a=this.isHorizontal(),r=a?this.width:this.height,c=Fs(this.options.ticks.minRotation),f=(a?Math.sin(c):Math.cos(c))||.001,g=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,g.lineHeight/f))}getPixelForValue(a){return a===null?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getValueForPixel(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange}}re(hp,"id","linear"),re(hp,"defaults",{ticks:{callback:_h.formatters.numeric}});const Xu=u=>Math.floor(Sr(u)),mo=(u,a)=>Math.pow(10,Xu(u)+a);function Sg(u){return u/Math.pow(10,Xu(u))===1}function Dg(u,a,r){const c=Math.pow(10,r),f=Math.floor(u/c);return Math.ceil(a/c)-f}function Uk(u,a){const r=a-u;let c=Xu(r);for(;Dg(u,a,c)>10;)c++;for(;Dg(u,a,c)<10;)c--;return Math.min(c,Xu(u))}function qk(u,{min:a,max:r}){a=ts(u.min,a);const c=[],f=Xu(a);let g=Uk(a,r),b=g<0?Math.pow(10,Math.abs(g)):1;const C=Math.pow(10,g),S=f>g?Math.pow(10,f):0,T=Math.round((a-S)*b)/b,A=Math.floor((a-S)/C/10)*C*10;let O=Math.floor((T-A)/Math.pow(10,g)),N=ts(u.min,Math.round((S+A+O*Math.pow(10,g))*b)/b);for(;N<r;)c.push({value:N,major:Sg(N),significand:O}),O>=10?O=O<15?15:20:O++,O>=20&&(g++,O=2,b=g>=0?1:b),N=Math.round((S+A+O*Math.pow(10,g))*b)/b;const $=ts(u.max,N);return c.push({value:$,major:Sg($),significand:O}),c}class fp extends ko{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(a,r){const c=vh.prototype.parse.apply(this,[a,r]);if(c===0){this._zero=!0;return}return Ii(c)&&c>0?c:null}determineDataLimits(){const{min:a,max:r}=this.getMinMax(!0);this.min=Ii(a)?Math.max(0,a):null,this.max=Ii(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ii(this._userMin)&&(this.min=a===mo(this.min,0)?mo(this.min,-1):mo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:a,maxDefined:r}=this.getUserBounds();let c=this.min,f=this.max;const g=C=>c=a?c:C,b=C=>f=r?f:C;c===f&&(c<=0?(g(1),b(10)):(g(mo(c,-1)),b(mo(f,1)))),c<=0&&g(mo(f,-1)),f<=0&&b(mo(c,1)),this.min=c,this.max=f}buildTicks(){const a=this.options,r={min:this._userMin,max:this._userMax},c=qk(r,this);return a.bounds==="ticks"&&k0(c,this,"value"),a.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(a){return a===void 0?"0":Qu(a,this.chart.options.locale,this.options.ticks.format)}configure(){const a=this.min;super.configure(),this._startValue=Sr(a),this._valueRange=Sr(this.max)-Sr(a)}getPixelForValue(a){return(a===void 0||a===0)&&(a=this.min),a===null||isNaN(a)?NaN:this.getPixelForDecimal(a===this.min?0:(Sr(a)-this._startValue)/this._valueRange)}getValueForPixel(a){const r=this.getDecimalForPixel(a);return Math.pow(10,this._startValue+r*this._valueRange)}}re(fp,"id","logarithmic"),re(fp,"defaults",{ticks:{callback:_h.formatters.logarithmic,major:{enabled:!0}}});function pp(u){const a=u.ticks;if(a.display&&u.display){const r=bn(a.backdropPadding);return At(a.font&&a.font.size,pi.font.size)+r.height}return 0}function Yk(u,a,r){return r=hi(r)?r:[r],{w:tx(u,a.string,r),h:r.length*a.lineHeight}}function Tg(u,a,r,c,f){return u===c||u===f?{start:a-r/2,end:a+r/2}:u<c||u>f?{start:a-r,end:a}:{start:a,end:a+r}}function Gk(u){const a={l:u.left+u._padding.left,r:u.right-u._padding.right,t:u.top+u._padding.top,b:u.bottom-u._padding.bottom},r=Object.assign({},a),c=[],f=[],g=u._pointLabels.length,b=u.options.pointLabels,C=b.centerPointLabels?mi/g:0;for(let S=0;S<g;S++){const T=b.setContext(u.getPointLabelContext(S));f[S]=T.padding;const A=u.getPointPosition(S,u.drawingArea+f[S],C),O=Wi(T.font),N=Yk(u.ctx,O,u._pointLabels[S]);c[S]=N;const $=is(u.getIndexAngle(S)+C),q=Math.round(kp($)),Q=Tg(q,A.x,N.w,0,180),te=Tg(q,A.y,N.h,90,270);Kk(r,a,$,Q,te)}u.setCenterPoint(a.l-r.l,r.r-a.r,a.t-r.t,r.b-a.b),u._pointLabelItems=Zk(u,c,f)}function Kk(u,a,r,c,f){const g=Math.abs(Math.sin(r)),b=Math.abs(Math.cos(r));let C=0,S=0;c.start<a.l?(C=(a.l-c.start)/g,u.l=Math.min(u.l,a.l-C)):c.end>a.r&&(C=(c.end-a.r)/g,u.r=Math.max(u.r,a.r+C)),f.start<a.t?(S=(a.t-f.start)/b,u.t=Math.min(u.t,a.t-S)):f.end>a.b&&(S=(f.end-a.b)/b,u.b=Math.max(u.b,a.b+S))}function Xk(u,a,r){const c=u.drawingArea,{extra:f,additionalAngle:g,padding:b,size:C}=r,S=u.getPointPosition(a,c+f+b,g),T=Math.round(kp(is(S.angle+zi))),A=t4(S.y,C.h,T),O=Qk(T),N=e4(S.x,C.w,O);return{visible:!0,x:S.x,y:A,textAlign:O,left:N,top:A,right:N+C.w,bottom:A+C.h}}function Jk(u,a){if(!a)return!0;const{left:r,top:c,right:f,bottom:g}=u;return!(Na({x:r,y:c},a)||Na({x:r,y:g},a)||Na({x:f,y:c},a)||Na({x:f,y:g},a))}function Zk(u,a,r){const c=[],f=u._pointLabels.length,g=u.options,{centerPointLabels:b,display:C}=g.pointLabels,S={extra:pp(g)/2,additionalAngle:b?mi/f:0};let T;for(let A=0;A<f;A++){S.padding=r[A],S.size=a[A];const O=Xk(u,A,S);c.push(O),C==="auto"&&(O.visible=Jk(O,T),O.visible&&(T=O))}return c}function Qk(u){return u===0||u===180?"center":u<180?"left":"right"}function e4(u,a,r){return r==="right"?u-=a:r==="center"&&(u-=a/2),u}function t4(u,a,r){return r===90||r===270?u-=a/2:(r>270||r<90)&&(u-=a),u}function i4(u,a,r){const{left:c,top:f,right:g,bottom:b}=r,{backdropColor:C}=a;if(!Mt(C)){const S=_o(a.borderRadius),T=bn(a.backdropPadding);u.fillStyle=C;const A=c-T.left,O=f-T.top,N=g-c+T.width,$=b-f+T.height;Object.values(S).some(q=>q!==0)?(u.beginPath(),Gu(u,{x:A,y:O,w:N,h:$,radius:S}),u.fill()):u.fillRect(A,O,N,$)}}function n4(u,a){const{ctx:r,options:{pointLabels:c}}=u;for(let f=a-1;f>=0;f--){const g=u._pointLabelItems[f];if(!g.visible)continue;const b=c.setContext(u.getPointLabelContext(f));i4(r,b,g);const C=Wi(b.font),{x:S,y:T,textAlign:A}=g;wo(r,u._pointLabels[f],S,T+C.lineHeight/2,C,{color:b.color,textAlign:A,textBaseline:"middle"})}}function gv(u,a,r,c){const{ctx:f}=u;if(r)f.arc(u.xCenter,u.yCenter,a,0,fi);else{let g=u.getPointPosition(0,a);f.moveTo(g.x,g.y);for(let b=1;b<c;b++)g=u.getPointPosition(b,a),f.lineTo(g.x,g.y)}}function s4(u,a,r,c,f){const g=u.ctx,b=a.circular,{color:C,lineWidth:S}=a;!b&&!c||!C||!S||r<0||(g.save(),g.strokeStyle=C,g.lineWidth=S,g.setLineDash(f.dash||[]),g.lineDashOffset=f.dashOffset,g.beginPath(),gv(u,r,b,c),g.closePath(),g.stroke(),g.restore())}function a4(u,a,r){return Fr(u,{label:r,index:a,type:"pointLabel"})}class Ou extends vh{constructor(a){super(a),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const a=this._padding=bn(pp(this.options)/2),r=this.width=this.maxWidth-a.width,c=this.height=this.maxHeight-a.height;this.xCenter=Math.floor(this.left+r/2+a.left),this.yCenter=Math.floor(this.top+c/2+a.top),this.drawingArea=Math.floor(Math.min(r,c)/2)}determineDataLimits(){const{min:a,max:r}=this.getMinMax(!1);this.min=Ii(a)&&!isNaN(a)?a:0,this.max=Ii(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pp(this.options))}generateTickLabels(a){vh.prototype.generateTickLabels.call(this,a),this._pointLabels=this.getLabels().map((r,c)=>{const f=ei(this.options.pointLabels.callback,[r,c],this);return f||f===0?f:""}).filter((r,c)=>this.chart.getDataVisibility(c))}fit(){const a=this.options;a.display&&a.pointLabels.display?Gk(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(a,r,c,f){this.xCenter+=Math.floor((a-r)/2),this.yCenter+=Math.floor((c-f)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(a,r,c,f))}getIndexAngle(a){const r=fi/(this._pointLabels.length||1),c=this.options.startAngle||0;return is(a*r+Fs(c))}getDistanceFromCenterForValue(a){if(Mt(a))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-a)*r:(a-this.min)*r}getValueForDistanceFromCenter(a){if(Mt(a))return NaN;const r=a/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(a){const r=this._pointLabels||[];if(a>=0&&a<r.length){const c=r[a];return a4(this.getContext(),a,c)}}getPointPosition(a,r,c=0){const f=this.getIndexAngle(a)-zi+c;return{x:Math.cos(f)*r+this.xCenter,y:Math.sin(f)*r+this.yCenter,angle:f}}getPointPositionForValue(a,r){return this.getPointPosition(a,this.getDistanceFromCenterForValue(r))}getBasePosition(a){return this.getPointPositionForValue(a||0,this.getBaseValue())}getPointLabelPosition(a){const{left:r,top:c,right:f,bottom:g}=this._pointLabelItems[a];return{left:r,top:c,right:f,bottom:g}}drawBackground(){const{backgroundColor:a,grid:{circular:r}}=this.options;if(a){const c=this.ctx;c.save(),c.beginPath(),gv(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),c.closePath(),c.fillStyle=a,c.fill(),c.restore()}}drawGrid(){const a=this.ctx,r=this.options,{angleLines:c,grid:f,border:g}=r,b=this._pointLabels.length;let C,S,T;if(r.pointLabels.display&&n4(this,b),f.display&&this.ticks.forEach((A,O)=>{if(O!==0||O===0&&this.min<0){S=this.getDistanceFromCenterForValue(A.value);const N=this.getContext(O),$=f.setContext(N),q=g.setContext(N);s4(this,$,S,b,q)}}),c.display){for(a.save(),C=b-1;C>=0;C--){const A=c.setContext(this.getPointLabelContext(C)),{color:O,lineWidth:N}=A;!N||!O||(a.lineWidth=N,a.strokeStyle=O,a.setLineDash(A.borderDash),a.lineDashOffset=A.borderDashOffset,S=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),T=this.getPointPosition(C,S),a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(T.x,T.y),a.stroke())}a.restore()}}drawBorder(){}drawLabels(){const a=this.ctx,r=this.options,c=r.ticks;if(!c.display)return;const f=this.getIndexAngle(0);let g,b;a.save(),a.translate(this.xCenter,this.yCenter),a.rotate(f),a.textAlign="center",a.textBaseline="middle",this.ticks.forEach((C,S)=>{if(S===0&&this.min>=0&&!r.reverse)return;const T=c.setContext(this.getContext(S)),A=Wi(T.font);if(g=this.getDistanceFromCenterForValue(this.ticks[S].value),T.showLabelBackdrop){a.font=A.string,b=a.measureText(C.label).width,a.fillStyle=T.backdropColor;const O=bn(T.backdropPadding);a.fillRect(-b/2-O.left,-g-A.size/2-O.top,b+O.width,A.size+O.height)}wo(a,C.label,0,-g,A,{color:T.color,strokeColor:T.textStrokeColor,strokeWidth:T.textStrokeWidth})}),a.restore()}drawTitle(){}}re(Ou,"id","radialLinear"),re(Ou,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_h.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(a){return a},padding:5,centerPointLabels:!1}}),re(Ou,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),re(Ou,"descriptors",{angleLines:{_fallback:"grid"}});const Sh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zn=Object.keys(Sh);function Eg(u,a){return u-a}function Ag(u,a){if(Mt(a))return null;const r=u._adapter,{parser:c,round:f,isoWeekday:g}=u._parseOpts;let b=a;return typeof c=="function"&&(b=c(b)),Ii(b)||(b=typeof c=="string"?r.parse(b,c):r.parse(b)),b===null?null:(f&&(b=f==="week"&&(ul(g)||g===!0)?r.startOf(b,"isoWeek",g):r.startOf(b,f)),+b)}function Mg(u,a,r,c){const f=zn.length;for(let g=zn.indexOf(u);g<f-1;++g){const b=Sh[zn[g]],C=b.steps?b.steps:Number.MAX_SAFE_INTEGER;if(b.common&&Math.ceil((r-a)/(C*b.size))<=c)return zn[g]}return zn[f-1]}function r4(u,a,r,c,f){for(let g=zn.length-1;g>=zn.indexOf(r);g--){const b=zn[g];if(Sh[b].common&&u._adapter.diff(f,c,b)>=a-1)return b}return zn[r?zn.indexOf(r):0]}function o4(u){for(let a=zn.indexOf(u)+1,r=zn.length;a<r;++a)if(Sh[zn[a]].common)return zn[a]}function Fg(u,a,r){if(!r)u[a]=!0;else if(r.length){const{lo:c,hi:f}=Sp(r,a),g=r[c]>=a?r[c]:r[f];u[g]=!0}}function l4(u,a,r,c){const f=u._adapter,g=+f.startOf(a[0].value,c),b=a[a.length-1].value;let C,S;for(C=g;C<=b;C=+f.add(C,1,c))S=r[C],S>=0&&(a[S].major=!0);return a}function Ig(u,a,r){const c=[],f={},g=a.length;let b,C;for(b=0;b<g;++b)C=a[b],f[C]=b,c.push({value:C,major:!1});return g===0||!r?c:l4(u,c,f,r)}class Ju extends ko{constructor(a){super(a),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(a,r={}){const c=a.time||(a.time={}),f=this._adapter=new X0._date(a.adapters.date);f.init(r),Pu(c.displayFormats,f.formats()),this._parseOpts={parser:c.parser,round:c.round,isoWeekday:c.isoWeekday},super.init(a),this._normalized=r.normalized}parse(a,r){return a===void 0?null:Ag(this,a)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const a=this.options,r=this._adapter,c=a.time.unit||"day";let{min:f,max:g,minDefined:b,maxDefined:C}=this.getUserBounds();function S(T){!b&&!isNaN(T.min)&&(f=Math.min(f,T.min)),!C&&!isNaN(T.max)&&(g=Math.max(g,T.max))}(!b||!C)&&(S(this._getLabelBounds()),(a.bounds!=="ticks"||a.ticks.source!=="labels")&&S(this.getMinMax(!1))),f=Ii(f)&&!isNaN(f)?f:+r.startOf(Date.now(),c),g=Ii(g)&&!isNaN(g)?g:+r.endOf(Date.now(),c)+1,this.min=Math.min(f,g-1),this.max=Math.max(f+1,g)}_getLabelBounds(){const a=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;return a.length&&(r=a[0],c=a[a.length-1]),{min:r,max:c}}buildTicks(){const a=this.options,r=a.time,c=a.ticks,f=c.source==="labels"?this.getLabelTimestamps():this._generate();a.bounds==="ticks"&&f.length&&(this.min=this._userMin||f[0],this.max=this._userMax||f[f.length-1]);const g=this.min,b=this.max,C=V1(f,g,b);return this._unit=r.unit||(c.autoSkip?Mg(r.minUnit,this.min,this.max,this._getLabelCapacity(g)):r4(this,C.length,r.minUnit,this.min,this.max)),this._majorUnit=!c.major.enabled||this._unit==="year"?void 0:o4(this._unit),this.initOffsets(f),a.reverse&&C.reverse(),Ig(this,C,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(a=>+a.value))}initOffsets(a=[]){let r=0,c=0,f,g;this.options.offset&&a.length&&(f=this.getDecimalForValue(a[0]),a.length===1?r=1-f:r=(this.getDecimalForValue(a[1])-f)/2,g=this.getDecimalForValue(a[a.length-1]),a.length===1?c=g:c=(g-this.getDecimalForValue(a[a.length-2]))/2);const b=a.length<3?.5:.25;r=rn(r,0,b),c=rn(c,0,b),this._offsets={start:r,end:c,factor:1/(r+1+c)}}_generate(){const a=this._adapter,r=this.min,c=this.max,f=this.options,g=f.time,b=g.unit||Mg(g.minUnit,r,c,this._getLabelCapacity(r)),C=At(f.ticks.stepSize,1),S=b==="week"?g.isoWeekday:!1,T=ul(S)||S===!0,A={};let O=r,N,$;if(T&&(O=+a.startOf(O,"isoWeek",S)),O=+a.startOf(O,T?"day":b),a.diff(c,r,b)>1e5*C)throw new Error(r+" and "+c+" are too far apart with stepSize of "+C+" "+b);const q=f.ticks.source==="data"&&this.getDataTimestamps();for(N=O,$=0;N<c;N=+a.add(N,C,b),$++)Fg(A,N,q);return(N===c||f.bounds==="ticks"||$===1)&&Fg(A,N,q),Object.keys(A).sort(Eg).map(Q=>+Q)}getLabelForValue(a){const r=this._adapter,c=this.options.time;return c.tooltipFormat?r.format(a,c.tooltipFormat):r.format(a,c.displayFormats.datetime)}format(a,r){const f=this.options.time.displayFormats,g=this._unit,b=r||f[g];return this._adapter.format(a,b)}_tickFormatFunction(a,r,c,f){const g=this.options,b=g.ticks.callback;if(b)return ei(b,[a,r,c],this);const C=g.time.displayFormats,S=this._unit,T=this._majorUnit,A=S&&C[S],O=T&&C[T],N=c[r],$=T&&O&&N&&N.major;return this._adapter.format(a,f||($?O:A))}generateTickLabels(a){let r,c,f;for(r=0,c=a.length;r<c;++r)f=a[r],f.label=this._tickFormatFunction(f.value,r,a)}getDecimalForValue(a){return a===null?NaN:(a-this.min)/(this.max-this.min)}getPixelForValue(a){const r=this._offsets,c=this.getDecimalForValue(a);return this.getPixelForDecimal((r.start+c)*r.factor)}getValueForPixel(a){const r=this._offsets,c=this.getDecimalForPixel(a)/r.factor-r.end;return this.min+c*(this.max-this.min)}_getLabelSize(a){const r=this.options.ticks,c=this.ctx.measureText(a).width,f=Fs(this.isHorizontal()?r.maxRotation:r.minRotation),g=Math.cos(f),b=Math.sin(f),C=this._resolveTickFontOptions(0).size;return{w:c*g+C*b,h:c*b+C*g}}_getLabelCapacity(a){const r=this.options.time,c=r.displayFormats,f=c[r.unit]||c.millisecond,g=this._tickFormatFunction(a,0,Ig(this,[a],this._majorUnit),f),b=this._getLabelSize(g),C=Math.floor(this.isHorizontal()?this.width/b.w:this.height/b.h)-1;return C>0?C:1}getDataTimestamps(){let a=this._cache.data||[],r,c;if(a.length)return a;const f=this.getMatchingVisibleMetas();if(this._normalized&&f.length)return this._cache.data=f[0].controller.getAllParsedValues(this);for(r=0,c=f.length;r<c;++r)a=a.concat(f[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(a)}getLabelTimestamps(){const a=this._cache.labels||[];let r,c;if(a.length)return a;const f=this.getLabels();for(r=0,c=f.length;r<c;++r)a.push(Ag(this,f[r]));return this._cache.labels=this._normalized?a:this.normalize(a)}normalize(a){return T0(a.sort(Eg))}}re(Ju,"id","time"),re(Ju,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Kd(u,a,r){let c=0,f=u.length-1,g,b,C,S;r?(a>=u[c].pos&&a<=u[f].pos&&({lo:c,hi:f}=Ba(u,"pos",a)),{pos:g,time:C}=u[c],{pos:b,time:S}=u[f]):(a>=u[c].time&&a<=u[f].time&&({lo:c,hi:f}=Ba(u,"time",a)),{time:g,pos:C}=u[c],{time:b,pos:S}=u[f]);const T=b-g;return T?C+(S-C)*(a-g)/T:C}class mp extends Ju{constructor(a){super(a),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const a=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(a);this._minPos=Kd(r,this.min),this._tableRange=Kd(r,this.max)-this._minPos,super.initOffsets(a)}buildLookupTable(a){const{min:r,max:c}=this,f=[],g=[];let b,C,S,T,A;for(b=0,C=a.length;b<C;++b)T=a[b],T>=r&&T<=c&&f.push(T);if(f.length<2)return[{time:r,pos:0},{time:c,pos:1}];for(b=0,C=f.length;b<C;++b)A=f[b+1],S=f[b-1],T=f[b],Math.round((A+S)/2)!==T&&g.push({time:T,pos:b/(C-1)});return g}_generate(){const a=this.min,r=this.max;let c=super.getDataTimestamps();return(!c.includes(a)||!c.length)&&c.splice(0,0,a),(!c.includes(r)||c.length===1)&&c.push(r),c.sort((f,g)=>f-g)}_getTimestampsForTable(){let a=this._cache.all||[];if(a.length)return a;const r=this.getDataTimestamps(),c=this.getLabelTimestamps();return r.length&&c.length?a=this.normalize(r.concat(c)):a=r.length?r:c,a=this._cache.all=a,a}getDecimalForValue(a){return(Kd(this._table,a)-this._minPos)/this._tableRange}getValueForPixel(a){const r=this._offsets,c=this.getDecimalForPixel(a)/r.factor-r.end;return Kd(this._table,c*this._tableRange+this._minPos,!0)}}re(mp,"id","timeseries"),re(mp,"defaults",Ju.defaults);var u4=Object.freeze({__proto__:null,CategoryScale:dp,LinearScale:hp,LogarithmicScale:fp,RadialLinearScale:Ou,TimeScale:Ju,TimeSeriesScale:mp});const c4=[vC,Uw,Hk,u4],vv=6048e5,d4=864e5,ec=6e4,tc=36e5,h4=1e3,Lg=Symbol.for("constructDateFrom");function Li(u,a){return typeof u=="function"?u(a):u&&typeof u=="object"&&Lg in u?u[Lg](a):u instanceof Date?new u.constructor(a):new Date(a)}function Tt(u,a){return Li(a||u,u)}function Dh(u,a,r){const c=Tt(u,r==null?void 0:r.in);return isNaN(a)?Li((r==null?void 0:r.in)||u,NaN):(a&&c.setDate(c.getDate()+a),c)}function Np(u,a,r){const c=Tt(u,r==null?void 0:r.in);if(isNaN(a))return Li(u,NaN);if(!a)return c;const f=c.getDate(),g=Li(u,c.getTime());g.setMonth(c.getMonth()+a+1,0);const b=g.getDate();return f>=b?g:(c.setFullYear(g.getFullYear(),g.getMonth(),f),c)}function Rp(u,a,r){return Li(u,+Tt(u)+a)}function f4(u,a,r){return Rp(u,a*tc)}let p4={};function So(){return p4}function ra(u,a){var C,S,T,A;const r=So(),c=(a==null?void 0:a.weekStartsOn)??((S=(C=a==null?void 0:a.locale)==null?void 0:C.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((A=(T=r.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)??0,f=Tt(u,a==null?void 0:a.in),g=f.getDay(),b=(g<c?7:0)+g-c;return f.setDate(f.getDate()-b),f.setHours(0,0,0,0),f}function hl(u,a){return ra(u,{...a,weekStartsOn:1})}function bv(u,a){const r=Tt(u,a==null?void 0:a.in),c=r.getFullYear(),f=Li(r,0);f.setFullYear(c+1,0,4),f.setHours(0,0,0,0);const g=hl(f),b=Li(r,0);b.setFullYear(c,0,4),b.setHours(0,0,0,0);const C=hl(b);return r.getTime()>=g.getTime()?c+1:r.getTime()>=C.getTime()?c:c-1}function bh(u){const a=Tt(u),r=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return r.setUTCFullYear(a.getFullYear()),+u-+r}function Do(u,...a){const r=Li.bind(null,a.find(c=>typeof c=="object"));return a.map(r)}function gp(u,a){const r=Tt(u,a==null?void 0:a.in);return r.setHours(0,0,0,0),r}function yv(u,a,r){const[c,f]=Do(r==null?void 0:r.in,u,a),g=gp(c),b=gp(f),C=+g-bh(g),S=+b-bh(b);return Math.round((C-S)/d4)}function m4(u,a){const r=bv(u,a),c=Li(u,0);return c.setFullYear(r,0,4),c.setHours(0,0,0,0),hl(c)}function g4(u,a,r){const c=Tt(u,r==null?void 0:r.in);return c.setTime(c.getTime()+a*ec),c}function v4(u,a,r){return Np(u,a*3,r)}function b4(u,a,r){return Rp(u,a*1e3)}function y4(u,a,r){return Dh(u,a*7,r)}function _4(u,a,r){return Np(u,a*12,r)}function Vu(u,a){const r=+Tt(u)-+Tt(a);return r<0?-1:r>0?1:r}function x4(u){return u instanceof Date||typeof u=="object"&&Object.prototype.toString.call(u)==="[object Date]"}function _v(u){return!(!x4(u)&&typeof u!="number"||isNaN(+Tt(u)))}function C4(u,a,r){const[c,f]=Do(r==null?void 0:r.in,u,a),g=c.getFullYear()-f.getFullYear(),b=c.getMonth()-f.getMonth();return g*12+b}function w4(u,a,r){const[c,f]=Do(r==null?void 0:r.in,u,a);return c.getFullYear()-f.getFullYear()}function xv(u,a,r){const[c,f]=Do(r==null?void 0:r.in,u,a),g=Og(c,f),b=Math.abs(yv(c,f));c.setDate(c.getDate()-g*b);const C=+(Og(c,f)===-g),S=g*(b-C);return S===0?0:S}function Og(u,a){const r=u.getFullYear()-a.getFullYear()||u.getMonth()-a.getMonth()||u.getDate()-a.getDate()||u.getHours()-a.getHours()||u.getMinutes()-a.getMinutes()||u.getSeconds()-a.getSeconds()||u.getMilliseconds()-a.getMilliseconds();return r<0?-1:r>0?1:r}function ic(u){return a=>{const c=(u?Math[u]:Math.trunc)(a);return c===0?0:c}}function k4(u,a,r){const[c,f]=Do(r==null?void 0:r.in,u,a),g=(+c-+f)/tc;return ic(r==null?void 0:r.roundingMethod)(g)}function zp(u,a){return+Tt(u)-+Tt(a)}function S4(u,a,r){const c=zp(u,a)/ec;return ic(r==null?void 0:r.roundingMethod)(c)}function Cv(u,a){const r=Tt(u,a==null?void 0:a.in);return r.setHours(23,59,59,999),r}function wv(u,a){const r=Tt(u,a==null?void 0:a.in),c=r.getMonth();return r.setFullYear(r.getFullYear(),c+1,0),r.setHours(23,59,59,999),r}function D4(u,a){const r=Tt(u,a==null?void 0:a.in);return+Cv(r,a)==+wv(r,a)}function kv(u,a,r){const[c,f,g]=Do(r==null?void 0:r.in,u,u,a),b=Vu(f,g),C=Math.abs(C4(f,g));if(C<1)return 0;f.getMonth()===1&&f.getDate()>27&&f.setDate(30),f.setMonth(f.getMonth()-b*C);let S=Vu(f,g)===-b;D4(c)&&C===1&&Vu(c,g)===1&&(S=!1);const T=b*(C-+S);return T===0?0:T}function T4(u,a,r){const c=kv(u,a,r)/3;return ic(r==null?void 0:r.roundingMethod)(c)}function E4(u,a,r){const c=zp(u,a)/1e3;return ic(r==null?void 0:r.roundingMethod)(c)}function A4(u,a,r){const c=xv(u,a,r)/7;return ic(r==null?void 0:r.roundingMethod)(c)}function M4(u,a,r){const[c,f]=Do(r==null?void 0:r.in,u,a),g=Vu(c,f),b=Math.abs(w4(c,f));c.setFullYear(1584),f.setFullYear(1584);const C=Vu(c,f)===-g,S=g*(b-+C);return S===0?0:S}function F4(u,a){const r=Tt(u,a==null?void 0:a.in),c=r.getMonth(),f=c-c%3;return r.setMonth(f,1),r.setHours(0,0,0,0),r}function I4(u,a){const r=Tt(u,a==null?void 0:a.in);return r.setDate(1),r.setHours(0,0,0,0),r}function L4(u,a){const r=Tt(u,a==null?void 0:a.in),c=r.getFullYear();return r.setFullYear(c+1,0,0),r.setHours(23,59,59,999),r}function Sv(u,a){const r=Tt(u,a==null?void 0:a.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function O4(u,a){const r=Tt(u,a==null?void 0:a.in);return r.setMinutes(59,59,999),r}function P4(u,a){var C,S;const r=So(),c=r.weekStartsOn??((S=(C=r.locale)==null?void 0:C.options)==null?void 0:S.weekStartsOn)??0,f=Tt(u,a==null?void 0:a.in),g=f.getDay(),b=(g<c?-7:0)+6-(g-c);return f.setDate(f.getDate()+b),f.setHours(23,59,59,999),f}function B4(u,a){const r=Tt(u,a==null?void 0:a.in);return r.setSeconds(59,999),r}function N4(u,a){const r=Tt(u,a==null?void 0:a.in),c=r.getMonth(),f=c-c%3+3;return r.setMonth(f,0),r.setHours(23,59,59,999),r}function R4(u,a){const r=Tt(u,a==null?void 0:a.in);return r.setMilliseconds(999),r}const z4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H4=(u,a,r)=>{let c;const f=z4[u];return typeof f=="string"?c=f:a===1?c=f.one:c=f.other.replace("{{count}}",a.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+c:c+" ago":c};function Yf(u){return(a={})=>{const r=a.width?String(a.width):u.defaultWidth;return u.formats[r]||u.formats[u.defaultWidth]}}const $4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},V4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j4={date:Yf({formats:$4,defaultWidth:"full"}),time:Yf({formats:V4,defaultWidth:"full"}),dateTime:Yf({formats:W4,defaultWidth:"full"})},U4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q4=(u,a,r,c)=>U4[u];function Du(u){return(a,r)=>{const c=r!=null&&r.context?String(r.context):"standalone";let f;if(c==="formatting"&&u.formattingValues){const b=u.defaultFormattingWidth||u.defaultWidth,C=r!=null&&r.width?String(r.width):b;f=u.formattingValues[C]||u.formattingValues[b]}else{const b=u.defaultWidth,C=r!=null&&r.width?String(r.width):u.defaultWidth;f=u.values[C]||u.values[b]}const g=u.argumentCallback?u.argumentCallback(a):a;return f[g]}}const Y4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},K4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q4=(u,a)=>{const r=Number(u),c=r%100;if(c>20||c<10)switch(c%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},eS={ordinalNumber:Q4,era:Du({values:Y4,defaultWidth:"wide"}),quarter:Du({values:G4,defaultWidth:"wide",argumentCallback:u=>u-1}),month:Du({values:K4,defaultWidth:"wide"}),day:Du({values:X4,defaultWidth:"wide"}),dayPeriod:Du({values:J4,defaultWidth:"wide",formattingValues:Z4,defaultFormattingWidth:"wide"})};function Tu(u){return(a,r={})=>{const c=r.width,f=c&&u.matchPatterns[c]||u.matchPatterns[u.defaultMatchWidth],g=a.match(f);if(!g)return null;const b=g[0],C=c&&u.parsePatterns[c]||u.parsePatterns[u.defaultParseWidth],S=Array.isArray(C)?iS(C,O=>O.test(b)):tS(C,O=>O.test(b));let T;T=u.valueCallback?u.valueCallback(S):S,T=r.valueCallback?r.valueCallback(T):T;const A=a.slice(b.length);return{value:T,rest:A}}}function tS(u,a){for(const r in u)if(Object.prototype.hasOwnProperty.call(u,r)&&a(u[r]))return r}function iS(u,a){for(let r=0;r<u.length;r++)if(a(u[r]))return r}function nS(u){return(a,r={})=>{const c=a.match(u.matchPattern);if(!c)return null;const f=c[0],g=a.match(u.parsePattern);if(!g)return null;let b=u.valueCallback?u.valueCallback(g[0]):g[0];b=r.valueCallback?r.valueCallback(b):b;const C=a.slice(f.length);return{value:b,rest:C}}}const sS=/^(\d+)(th|st|nd|rd)?/i,aS=/\d+/i,rS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oS={any:[/^b/i,/^(a|c)/i]},lS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uS={any:[/1/i,/2/i,/3/i,/4/i]},cS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gS={ordinalNumber:nS({matchPattern:sS,parsePattern:aS,valueCallback:u=>parseInt(u,10)}),era:Tu({matchPatterns:rS,defaultMatchWidth:"wide",parsePatterns:oS,defaultParseWidth:"any"}),quarter:Tu({matchPatterns:lS,defaultMatchWidth:"wide",parsePatterns:uS,defaultParseWidth:"any",valueCallback:u=>u+1}),month:Tu({matchPatterns:cS,defaultMatchWidth:"wide",parsePatterns:dS,defaultParseWidth:"any"}),day:Tu({matchPatterns:hS,defaultMatchWidth:"wide",parsePatterns:fS,defaultParseWidth:"any"}),dayPeriod:Tu({matchPatterns:pS,defaultMatchWidth:"any",parsePatterns:mS,defaultParseWidth:"any"})},Dv={code:"en-US",formatDistance:H4,formatLong:j4,formatRelative:q4,localize:eS,match:gS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vS(u,a){const r=Tt(u,a==null?void 0:a.in);return yv(r,Sv(r))+1}function Tv(u,a){const r=Tt(u,a==null?void 0:a.in),c=+hl(r)-+m4(r);return Math.round(c/vv)+1}function Hp(u,a){var A,O,N,$;const r=Tt(u,a==null?void 0:a.in),c=r.getFullYear(),f=So(),g=(a==null?void 0:a.firstWeekContainsDate)??((O=(A=a==null?void 0:a.locale)==null?void 0:A.options)==null?void 0:O.firstWeekContainsDate)??f.firstWeekContainsDate??(($=(N=f.locale)==null?void 0:N.options)==null?void 0:$.firstWeekContainsDate)??1,b=Li((a==null?void 0:a.in)||u,0);b.setFullYear(c+1,0,g),b.setHours(0,0,0,0);const C=ra(b,a),S=Li((a==null?void 0:a.in)||u,0);S.setFullYear(c,0,g),S.setHours(0,0,0,0);const T=ra(S,a);return+r>=+C?c+1:+r>=+T?c:c-1}function bS(u,a){var C,S,T,A;const r=So(),c=(a==null?void 0:a.firstWeekContainsDate)??((S=(C=a==null?void 0:a.locale)==null?void 0:C.options)==null?void 0:S.firstWeekContainsDate)??r.firstWeekContainsDate??((A=(T=r.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)??1,f=Hp(u,a),g=Li((a==null?void 0:a.in)||u,0);return g.setFullYear(f,0,c),g.setHours(0,0,0,0),ra(g,a)}function Ev(u,a){const r=Tt(u,a==null?void 0:a.in),c=+ra(r,a)-+bS(r,a);return Math.round(c/vv)+1}function Qt(u,a){const r=u<0?"-":"",c=Math.abs(u).toString().padStart(a,"0");return r+c}const wr={y(u,a){const r=u.getFullYear(),c=r>0?r:1-r;return Qt(a==="yy"?c%100:c,a.length)},M(u,a){const r=u.getMonth();return a==="M"?String(r+1):Qt(r+1,2)},d(u,a){return Qt(u.getDate(),a.length)},a(u,a){const r=u.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(u,a){return Qt(u.getHours()%12||12,a.length)},H(u,a){return Qt(u.getHours(),a.length)},m(u,a){return Qt(u.getMinutes(),a.length)},s(u,a){return Qt(u.getSeconds(),a.length)},S(u,a){const r=a.length,c=u.getMilliseconds(),f=Math.trunc(c*Math.pow(10,r-3));return Qt(f,a.length)}},rl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pg={G:function(u,a,r){const c=u.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return r.era(c,{width:"abbreviated"});case"GGGGG":return r.era(c,{width:"narrow"});case"GGGG":default:return r.era(c,{width:"wide"})}},y:function(u,a,r){if(a==="yo"){const c=u.getFullYear(),f=c>0?c:1-c;return r.ordinalNumber(f,{unit:"year"})}return wr.y(u,a)},Y:function(u,a,r,c){const f=Hp(u,c),g=f>0?f:1-f;if(a==="YY"){const b=g%100;return Qt(b,2)}return a==="Yo"?r.ordinalNumber(g,{unit:"year"}):Qt(g,a.length)},R:function(u,a){const r=bv(u);return Qt(r,a.length)},u:function(u,a){const r=u.getFullYear();return Qt(r,a.length)},Q:function(u,a,r){const c=Math.ceil((u.getMonth()+1)/3);switch(a){case"Q":return String(c);case"QQ":return Qt(c,2);case"Qo":return r.ordinalNumber(c,{unit:"quarter"});case"QQQ":return r.quarter(c,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(c,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(c,{width:"wide",context:"formatting"})}},q:function(u,a,r){const c=Math.ceil((u.getMonth()+1)/3);switch(a){case"q":return String(c);case"qq":return Qt(c,2);case"qo":return r.ordinalNumber(c,{unit:"quarter"});case"qqq":return r.quarter(c,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(c,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(c,{width:"wide",context:"standalone"})}},M:function(u,a,r){const c=u.getMonth();switch(a){case"M":case"MM":return wr.M(u,a);case"Mo":return r.ordinalNumber(c+1,{unit:"month"});case"MMM":return r.month(c,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(c,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(c,{width:"wide",context:"formatting"})}},L:function(u,a,r){const c=u.getMonth();switch(a){case"L":return String(c+1);case"LL":return Qt(c+1,2);case"Lo":return r.ordinalNumber(c+1,{unit:"month"});case"LLL":return r.month(c,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(c,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(c,{width:"wide",context:"standalone"})}},w:function(u,a,r,c){const f=Ev(u,c);return a==="wo"?r.ordinalNumber(f,{unit:"week"}):Qt(f,a.length)},I:function(u,a,r){const c=Tv(u);return a==="Io"?r.ordinalNumber(c,{unit:"week"}):Qt(c,a.length)},d:function(u,a,r){return a==="do"?r.ordinalNumber(u.getDate(),{unit:"date"}):wr.d(u,a)},D:function(u,a,r){const c=vS(u);return a==="Do"?r.ordinalNumber(c,{unit:"dayOfYear"}):Qt(c,a.length)},E:function(u,a,r){const c=u.getDay();switch(a){case"E":case"EE":case"EEE":return r.day(c,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(c,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(c,{width:"short",context:"formatting"});case"EEEE":default:return r.day(c,{width:"wide",context:"formatting"})}},e:function(u,a,r,c){const f=u.getDay(),g=(f-c.weekStartsOn+8)%7||7;switch(a){case"e":return String(g);case"ee":return Qt(g,2);case"eo":return r.ordinalNumber(g,{unit:"day"});case"eee":return r.day(f,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(f,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(f,{width:"short",context:"formatting"});case"eeee":default:return r.day(f,{width:"wide",context:"formatting"})}},c:function(u,a,r,c){const f=u.getDay(),g=(f-c.weekStartsOn+8)%7||7;switch(a){case"c":return String(g);case"cc":return Qt(g,a.length);case"co":return r.ordinalNumber(g,{unit:"day"});case"ccc":return r.day(f,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(f,{width:"narrow",context:"standalone"});case"cccccc":return r.day(f,{width:"short",context:"standalone"});case"cccc":default:return r.day(f,{width:"wide",context:"standalone"})}},i:function(u,a,r){const c=u.getDay(),f=c===0?7:c;switch(a){case"i":return String(f);case"ii":return Qt(f,a.length);case"io":return r.ordinalNumber(f,{unit:"day"});case"iii":return r.day(c,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(c,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(c,{width:"short",context:"formatting"});case"iiii":default:return r.day(c,{width:"wide",context:"formatting"})}},a:function(u,a,r){const f=u.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(f,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(f,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(f,{width:"wide",context:"formatting"})}},b:function(u,a,r){const c=u.getHours();let f;switch(c===12?f=rl.noon:c===0?f=rl.midnight:f=c/12>=1?"pm":"am",a){case"b":case"bb":return r.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(f,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(f,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(f,{width:"wide",context:"formatting"})}},B:function(u,a,r){const c=u.getHours();let f;switch(c>=17?f=rl.evening:c>=12?f=rl.afternoon:c>=4?f=rl.morning:f=rl.night,a){case"B":case"BB":case"BBB":return r.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(f,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(f,{width:"wide",context:"formatting"})}},h:function(u,a,r){if(a==="ho"){let c=u.getHours()%12;return c===0&&(c=12),r.ordinalNumber(c,{unit:"hour"})}return wr.h(u,a)},H:function(u,a,r){return a==="Ho"?r.ordinalNumber(u.getHours(),{unit:"hour"}):wr.H(u,a)},K:function(u,a,r){const c=u.getHours()%12;return a==="Ko"?r.ordinalNumber(c,{unit:"hour"}):Qt(c,a.length)},k:function(u,a,r){let c=u.getHours();return c===0&&(c=24),a==="ko"?r.ordinalNumber(c,{unit:"hour"}):Qt(c,a.length)},m:function(u,a,r){return a==="mo"?r.ordinalNumber(u.getMinutes(),{unit:"minute"}):wr.m(u,a)},s:function(u,a,r){return a==="so"?r.ordinalNumber(u.getSeconds(),{unit:"second"}):wr.s(u,a)},S:function(u,a){return wr.S(u,a)},X:function(u,a,r){const c=u.getTimezoneOffset();if(c===0)return"Z";switch(a){case"X":return Ng(c);case"XXXX":case"XX":return bo(c);case"XXXXX":case"XXX":default:return bo(c,":")}},x:function(u,a,r){const c=u.getTimezoneOffset();switch(a){case"x":return Ng(c);case"xxxx":case"xx":return bo(c);case"xxxxx":case"xxx":default:return bo(c,":")}},O:function(u,a,r){const c=u.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Bg(c,":");case"OOOO":default:return"GMT"+bo(c,":")}},z:function(u,a,r){const c=u.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Bg(c,":");case"zzzz":default:return"GMT"+bo(c,":")}},t:function(u,a,r){const c=Math.trunc(+u/1e3);return Qt(c,a.length)},T:function(u,a,r){return Qt(+u,a.length)}};function Bg(u,a=""){const r=u>0?"-":"+",c=Math.abs(u),f=Math.trunc(c/60),g=c%60;return g===0?r+String(f):r+String(f)+a+Qt(g,2)}function Ng(u,a){return u%60===0?(u>0?"-":"+")+Qt(Math.abs(u)/60,2):bo(u,a)}function bo(u,a=""){const r=u>0?"-":"+",c=Math.abs(u),f=Qt(Math.trunc(c/60),2),g=Qt(c%60,2);return r+f+a+g}const Rg=(u,a)=>{switch(u){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Av=(u,a)=>{switch(u){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},yS=(u,a)=>{const r=u.match(/(P+)(p+)?/)||[],c=r[1],f=r[2];if(!f)return Rg(u,a);let g;switch(c){case"P":g=a.dateTime({width:"short"});break;case"PP":g=a.dateTime({width:"medium"});break;case"PPP":g=a.dateTime({width:"long"});break;case"PPPP":default:g=a.dateTime({width:"full"});break}return g.replace("{{date}}",Rg(c,a)).replace("{{time}}",Av(f,a))},vp={p:Av,P:yS},_S=/^D+$/,xS=/^Y+$/,CS=["D","DD","YY","YYYY"];function Mv(u){return _S.test(u)}function Fv(u){return xS.test(u)}function bp(u,a,r){const c=wS(u,a,r);if(console.warn(c),CS.includes(u))throw new RangeError(c)}function wS(u,a,r){const c=u[0]==="Y"?"years":"days of the month";return`Use \`${u.toLowerCase()}\` instead of \`${u}\` (in \`${a}\`) for formatting ${c} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DS=/^'([^]*?)'?$/,TS=/''/g,ES=/[a-zA-Z]/;function AS(u,a,r){var A,O,N,$,q,Q,te,J;const c=So(),f=(r==null?void 0:r.locale)??c.locale??Dv,g=(r==null?void 0:r.firstWeekContainsDate)??((O=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:O.firstWeekContainsDate)??c.firstWeekContainsDate??(($=(N=c.locale)==null?void 0:N.options)==null?void 0:$.firstWeekContainsDate)??1,b=(r==null?void 0:r.weekStartsOn)??((Q=(q=r==null?void 0:r.locale)==null?void 0:q.options)==null?void 0:Q.weekStartsOn)??c.weekStartsOn??((J=(te=c.locale)==null?void 0:te.options)==null?void 0:J.weekStartsOn)??0,C=Tt(u,r==null?void 0:r.in);if(!_v(C))throw new RangeError("Invalid time value");let S=a.match(SS).map(K=>{const le=K[0];if(le==="p"||le==="P"){const se=vp[le];return se(K,f.formatLong)}return K}).join("").match(kS).map(K=>{if(K==="''")return{isToken:!1,value:"'"};const le=K[0];if(le==="'")return{isToken:!1,value:MS(K)};if(Pg[le])return{isToken:!0,value:K};if(le.match(ES))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");return{isToken:!1,value:K}});f.localize.preprocessor&&(S=f.localize.preprocessor(C,S));const T={firstWeekContainsDate:g,weekStartsOn:b,locale:f};return S.map(K=>{if(!K.isToken)return K.value;const le=K.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Fv(le)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Mv(le))&&bp(le,a,String(u));const se=Pg[le[0]];return se(C,le,f.localize,T)}).join("")}function MS(u){const a=u.match(DS);return a?a[1].replace(TS,"'"):u}function FS(){return Object.assign({},So())}function IS(u,a){const r=Tt(u,a==null?void 0:a.in).getDay();return r===0?7:r}function LS(u,a){const r=OS(a)?new a(0):Li(a,0);return r.setFullYear(u.getFullYear(),u.getMonth(),u.getDate()),r.setHours(u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds()),r}function OS(u){var a;return typeof u=="function"&&((a=u.prototype)==null?void 0:a.constructor)===u}const PS=10;class Iv{constructor(){re(this,"subPriority",0)}validate(a,r){return!0}}class BS extends Iv{constructor(a,r,c,f,g){super(),this.value=a,this.validateValue=r,this.setValue=c,this.priority=f,g&&(this.subPriority=g)}validate(a,r){return this.validateValue(a,this.value,r)}set(a,r,c){return this.setValue(a,r,this.value,c)}}class NS extends Iv{constructor(r,c){super();re(this,"priority",PS);re(this,"subPriority",-1);this.context=r||(f=>Li(c,f))}set(r,c){return c.timestampIsSet?r:Li(r,LS(r,this.context))}}class Ut{run(a,r,c,f){const g=this.parse(a,r,c,f);return g?{setter:new BS(g.value,this.validate,this.set,this.priority,this.subPriority),rest:g.rest}:null}validate(a,r,c){return!0}}class RS extends Ut{constructor(){super(...arguments);re(this,"priority",140);re(this,"incompatibleTokens",["R","u","t","T"])}parse(r,c,f){switch(c){case"G":case"GG":case"GGG":return f.era(r,{width:"abbreviated"})||f.era(r,{width:"narrow"});case"GGGGG":return f.era(r,{width:"narrow"});case"GGGG":default:return f.era(r,{width:"wide"})||f.era(r,{width:"abbreviated"})||f.era(r,{width:"narrow"})}}set(r,c,f){return c.era=f,r.setFullYear(f,0,1),r.setHours(0,0,0,0),r}}const Hi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ia={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function $i(u,a){return u&&{value:a(u.value),rest:u.rest}}function Di(u,a){const r=a.match(u);return r?{value:parseInt(r[0],10),rest:a.slice(r[0].length)}:null}function na(u,a){const r=a.match(u);if(!r)return null;if(r[0]==="Z")return{value:0,rest:a.slice(1)};const c=r[1]==="+"?1:-1,f=r[2]?parseInt(r[2],10):0,g=r[3]?parseInt(r[3],10):0,b=r[5]?parseInt(r[5],10):0;return{value:c*(f*tc+g*ec+b*h4),rest:a.slice(r[0].length)}}function Lv(u){return Di(Hi.anyDigitsSigned,u)}function Oi(u,a){switch(u){case 1:return Di(Hi.singleDigit,a);case 2:return Di(Hi.twoDigits,a);case 3:return Di(Hi.threeDigits,a);case 4:return Di(Hi.fourDigits,a);default:return Di(new RegExp("^\\d{1,"+u+"}"),a)}}function yh(u,a){switch(u){case 1:return Di(Hi.singleDigitSigned,a);case 2:return Di(Hi.twoDigitsSigned,a);case 3:return Di(Hi.threeDigitsSigned,a);case 4:return Di(Hi.fourDigitsSigned,a);default:return Di(new RegExp("^-?\\d{1,"+u+"}"),a)}}function $p(u){switch(u){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ov(u,a){const r=a>0,c=r?a:1-a;let f;if(c<=50)f=u||100;else{const g=c+50,b=Math.trunc(g/100)*100,C=u>=g%100;f=u+b-(C?100:0)}return r?f:1-f}function Pv(u){return u%400===0||u%4===0&&u%100!==0}class zS extends Ut{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,c,f){const g=b=>({year:b,isTwoDigitYear:c==="yy"});switch(c){case"y":return $i(Oi(4,r),g);case"yo":return $i(f.ordinalNumber(r,{unit:"year"}),g);default:return $i(Oi(c.length,r),g)}}validate(r,c){return c.isTwoDigitYear||c.year>0}set(r,c,f){const g=r.getFullYear();if(f.isTwoDigitYear){const C=Ov(f.year,g);return r.setFullYear(C,0,1),r.setHours(0,0,0,0),r}const b=!("era"in c)||c.era===1?f.year:1-f.year;return r.setFullYear(b,0,1),r.setHours(0,0,0,0),r}}class HS extends Ut{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,c,f){const g=b=>({year:b,isTwoDigitYear:c==="YY"});switch(c){case"Y":return $i(Oi(4,r),g);case"Yo":return $i(f.ordinalNumber(r,{unit:"year"}),g);default:return $i(Oi(c.length,r),g)}}validate(r,c){return c.isTwoDigitYear||c.year>0}set(r,c,f,g){const b=Hp(r,g);if(f.isTwoDigitYear){const S=Ov(f.year,b);return r.setFullYear(S,0,g.firstWeekContainsDate),r.setHours(0,0,0,0),ra(r,g)}const C=!("era"in c)||c.era===1?f.year:1-f.year;return r.setFullYear(C,0,g.firstWeekContainsDate),r.setHours(0,0,0,0),ra(r,g)}}class $S extends Ut{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,c){return yh(c==="R"?4:c.length,r)}set(r,c,f){const g=Li(r,0);return g.setFullYear(f,0,4),g.setHours(0,0,0,0),hl(g)}}class VS extends Ut{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,c){return yh(c==="u"?4:c.length,r)}set(r,c,f){return r.setFullYear(f,0,1),r.setHours(0,0,0,0),r}}class WS extends Ut{constructor(){super(...arguments);re(this,"priority",120);re(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,c,f){switch(c){case"Q":case"QQ":return Oi(c.length,r);case"Qo":return f.ordinalNumber(r,{unit:"quarter"});case"QQQ":return f.quarter(r,{width:"abbreviated",context:"formatting"})||f.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return f.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return f.quarter(r,{width:"wide",context:"formatting"})||f.quarter(r,{width:"abbreviated",context:"formatting"})||f.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,c){return c>=1&&c<=4}set(r,c,f){return r.setMonth((f-1)*3,1),r.setHours(0,0,0,0),r}}class jS extends Ut{constructor(){super(...arguments);re(this,"priority",120);re(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,c,f){switch(c){case"q":case"qq":return Oi(c.length,r);case"qo":return f.ordinalNumber(r,{unit:"quarter"});case"qqq":return f.quarter(r,{width:"abbreviated",context:"standalone"})||f.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return f.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return f.quarter(r,{width:"wide",context:"standalone"})||f.quarter(r,{width:"abbreviated",context:"standalone"})||f.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,c){return c>=1&&c<=4}set(r,c,f){return r.setMonth((f-1)*3,1),r.setHours(0,0,0,0),r}}class US extends Ut{constructor(){super(...arguments);re(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);re(this,"priority",110)}parse(r,c,f){const g=b=>b-1;switch(c){case"M":return $i(Di(Hi.month,r),g);case"MM":return $i(Oi(2,r),g);case"Mo":return $i(f.ordinalNumber(r,{unit:"month"}),g);case"MMM":return f.month(r,{width:"abbreviated",context:"formatting"})||f.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return f.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return f.month(r,{width:"wide",context:"formatting"})||f.month(r,{width:"abbreviated",context:"formatting"})||f.month(r,{width:"narrow",context:"formatting"})}}validate(r,c){return c>=0&&c<=11}set(r,c,f){return r.setMonth(f,1),r.setHours(0,0,0,0),r}}class qS extends Ut{constructor(){super(...arguments);re(this,"priority",110);re(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,c,f){const g=b=>b-1;switch(c){case"L":return $i(Di(Hi.month,r),g);case"LL":return $i(Oi(2,r),g);case"Lo":return $i(f.ordinalNumber(r,{unit:"month"}),g);case"LLL":return f.month(r,{width:"abbreviated",context:"standalone"})||f.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return f.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return f.month(r,{width:"wide",context:"standalone"})||f.month(r,{width:"abbreviated",context:"standalone"})||f.month(r,{width:"narrow",context:"standalone"})}}validate(r,c){return c>=0&&c<=11}set(r,c,f){return r.setMonth(f,1),r.setHours(0,0,0,0),r}}function YS(u,a,r){const c=Tt(u,r==null?void 0:r.in),f=Ev(c,r)-a;return c.setDate(c.getDate()-f*7),Tt(c,r==null?void 0:r.in)}class GS extends Ut{constructor(){super(...arguments);re(this,"priority",100);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,c,f){switch(c){case"w":return Di(Hi.week,r);case"wo":return f.ordinalNumber(r,{unit:"week"});default:return Oi(c.length,r)}}validate(r,c){return c>=1&&c<=53}set(r,c,f,g){return ra(YS(r,f,g),g)}}function KS(u,a,r){const c=Tt(u,r==null?void 0:r.in),f=Tv(c,r)-a;return c.setDate(c.getDate()-f*7),c}class XS extends Ut{constructor(){super(...arguments);re(this,"priority",100);re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,c,f){switch(c){case"I":return Di(Hi.week,r);case"Io":return f.ordinalNumber(r,{unit:"week"});default:return Oi(c.length,r)}}validate(r,c){return c>=1&&c<=53}set(r,c,f){return hl(KS(r,f))}}const JS=[31,28,31,30,31,30,31,31,30,31,30,31],ZS=[31,29,31,30,31,30,31,31,30,31,30,31];class QS extends Ut{constructor(){super(...arguments);re(this,"priority",90);re(this,"subPriority",1);re(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,c,f){switch(c){case"d":return Di(Hi.date,r);case"do":return f.ordinalNumber(r,{unit:"date"});default:return Oi(c.length,r)}}validate(r,c){const f=r.getFullYear(),g=Pv(f),b=r.getMonth();return g?c>=1&&c<=ZS[b]:c>=1&&c<=JS[b]}set(r,c,f){return r.setDate(f),r.setHours(0,0,0,0),r}}class e2 extends Ut{constructor(){super(...arguments);re(this,"priority",90);re(this,"subpriority",1);re(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,c,f){switch(c){case"D":case"DD":return Di(Hi.dayOfYear,r);case"Do":return f.ordinalNumber(r,{unit:"date"});default:return Oi(c.length,r)}}validate(r,c){const f=r.getFullYear();return Pv(f)?c>=1&&c<=366:c>=1&&c<=365}set(r,c,f){return r.setMonth(0,f),r.setHours(0,0,0,0),r}}function Vp(u,a,r){var O,N,$,q;const c=So(),f=(r==null?void 0:r.weekStartsOn)??((N=(O=r==null?void 0:r.locale)==null?void 0:O.options)==null?void 0:N.weekStartsOn)??c.weekStartsOn??((q=($=c.locale)==null?void 0:$.options)==null?void 0:q.weekStartsOn)??0,g=Tt(u,r==null?void 0:r.in),b=g.getDay(),S=(a%7+7)%7,T=7-f,A=a<0||a>6?a-(b+T)%7:(S+T)%7-(b+T)%7;return Dh(g,A,r)}class t2 extends Ut{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,c,f){switch(c){case"E":case"EE":case"EEE":return f.day(r,{width:"abbreviated",context:"formatting"})||f.day(r,{width:"short",context:"formatting"})||f.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return f.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return f.day(r,{width:"short",context:"formatting"})||f.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return f.day(r,{width:"wide",context:"formatting"})||f.day(r,{width:"abbreviated",context:"formatting"})||f.day(r,{width:"short",context:"formatting"})||f.day(r,{width:"narrow",context:"formatting"})}}validate(r,c){return c>=0&&c<=6}set(r,c,f,g){return r=Vp(r,f,g),r.setHours(0,0,0,0),r}}class i2 extends Ut{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,c,f,g){const b=C=>{const S=Math.floor((C-1)/7)*7;return(C+g.weekStartsOn+6)%7+S};switch(c){case"e":case"ee":return $i(Oi(c.length,r),b);case"eo":return $i(f.ordinalNumber(r,{unit:"day"}),b);case"eee":return f.day(r,{width:"abbreviated",context:"formatting"})||f.day(r,{width:"short",context:"formatting"})||f.day(r,{width:"narrow",context:"formatting"});case"eeeee":return f.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return f.day(r,{width:"short",context:"formatting"})||f.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return f.day(r,{width:"wide",context:"formatting"})||f.day(r,{width:"abbreviated",context:"formatting"})||f.day(r,{width:"short",context:"formatting"})||f.day(r,{width:"narrow",context:"formatting"})}}validate(r,c){return c>=0&&c<=6}set(r,c,f,g){return r=Vp(r,f,g),r.setHours(0,0,0,0),r}}class n2 extends Ut{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,c,f,g){const b=C=>{const S=Math.floor((C-1)/7)*7;return(C+g.weekStartsOn+6)%7+S};switch(c){case"c":case"cc":return $i(Oi(c.length,r),b);case"co":return $i(f.ordinalNumber(r,{unit:"day"}),b);case"ccc":return f.day(r,{width:"abbreviated",context:"standalone"})||f.day(r,{width:"short",context:"standalone"})||f.day(r,{width:"narrow",context:"standalone"});case"ccccc":return f.day(r,{width:"narrow",context:"standalone"});case"cccccc":return f.day(r,{width:"short",context:"standalone"})||f.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return f.day(r,{width:"wide",context:"standalone"})||f.day(r,{width:"abbreviated",context:"standalone"})||f.day(r,{width:"short",context:"standalone"})||f.day(r,{width:"narrow",context:"standalone"})}}validate(r,c){return c>=0&&c<=6}set(r,c,f,g){return r=Vp(r,f,g),r.setHours(0,0,0,0),r}}function s2(u,a,r){const c=Tt(u,r==null?void 0:r.in),f=IS(c,r),g=a-f;return Dh(c,g,r)}class a2 extends Ut{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,c,f){const g=b=>b===0?7:b;switch(c){case"i":case"ii":return Oi(c.length,r);case"io":return f.ordinalNumber(r,{unit:"day"});case"iii":return $i(f.day(r,{width:"abbreviated",context:"formatting"})||f.day(r,{width:"short",context:"formatting"})||f.day(r,{width:"narrow",context:"formatting"}),g);case"iiiii":return $i(f.day(r,{width:"narrow",context:"formatting"}),g);case"iiiiii":return $i(f.day(r,{width:"short",context:"formatting"})||f.day(r,{width:"narrow",context:"formatting"}),g);case"iiii":default:return $i(f.day(r,{width:"wide",context:"formatting"})||f.day(r,{width:"abbreviated",context:"formatting"})||f.day(r,{width:"short",context:"formatting"})||f.day(r,{width:"narrow",context:"formatting"}),g)}}validate(r,c){return c>=1&&c<=7}set(r,c,f){return r=s2(r,f),r.setHours(0,0,0,0),r}}class r2 extends Ut{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,c,f){switch(c){case"a":case"aa":case"aaa":return f.dayPeriod(r,{width:"abbreviated",context:"formatting"})||f.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return f.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return f.dayPeriod(r,{width:"wide",context:"formatting"})||f.dayPeriod(r,{width:"abbreviated",context:"formatting"})||f.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,c,f){return r.setHours($p(f),0,0,0),r}}class o2 extends Ut{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,c,f){switch(c){case"b":case"bb":case"bbb":return f.dayPeriod(r,{width:"abbreviated",context:"formatting"})||f.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return f.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return f.dayPeriod(r,{width:"wide",context:"formatting"})||f.dayPeriod(r,{width:"abbreviated",context:"formatting"})||f.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,c,f){return r.setHours($p(f),0,0,0),r}}class l2 extends Ut{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["a","b","t","T"])}parse(r,c,f){switch(c){case"B":case"BB":case"BBB":return f.dayPeriod(r,{width:"abbreviated",context:"formatting"})||f.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return f.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return f.dayPeriod(r,{width:"wide",context:"formatting"})||f.dayPeriod(r,{width:"abbreviated",context:"formatting"})||f.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,c,f){return r.setHours($p(f),0,0,0),r}}class u2 extends Ut{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,c,f){switch(c){case"h":return Di(Hi.hour12h,r);case"ho":return f.ordinalNumber(r,{unit:"hour"});default:return Oi(c.length,r)}}validate(r,c){return c>=1&&c<=12}set(r,c,f){const g=r.getHours()>=12;return g&&f<12?r.setHours(f+12,0,0,0):!g&&f===12?r.setHours(0,0,0,0):r.setHours(f,0,0,0),r}}class c2 extends Ut{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,c,f){switch(c){case"H":return Di(Hi.hour23h,r);case"Ho":return f.ordinalNumber(r,{unit:"hour"});default:return Oi(c.length,r)}}validate(r,c){return c>=0&&c<=23}set(r,c,f){return r.setHours(f,0,0,0),r}}class d2 extends Ut{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,c,f){switch(c){case"K":return Di(Hi.hour11h,r);case"Ko":return f.ordinalNumber(r,{unit:"hour"});default:return Oi(c.length,r)}}validate(r,c){return c>=0&&c<=11}set(r,c,f){return r.getHours()>=12&&f<12?r.setHours(f+12,0,0,0):r.setHours(f,0,0,0),r}}class h2 extends Ut{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,c,f){switch(c){case"k":return Di(Hi.hour24h,r);case"ko":return f.ordinalNumber(r,{unit:"hour"});default:return Oi(c.length,r)}}validate(r,c){return c>=1&&c<=24}set(r,c,f){const g=f<=24?f%24:f;return r.setHours(g,0,0,0),r}}class f2 extends Ut{constructor(){super(...arguments);re(this,"priority",60);re(this,"incompatibleTokens",["t","T"])}parse(r,c,f){switch(c){case"m":return Di(Hi.minute,r);case"mo":return f.ordinalNumber(r,{unit:"minute"});default:return Oi(c.length,r)}}validate(r,c){return c>=0&&c<=59}set(r,c,f){return r.setMinutes(f,0,0),r}}class p2 extends Ut{constructor(){super(...arguments);re(this,"priority",50);re(this,"incompatibleTokens",["t","T"])}parse(r,c,f){switch(c){case"s":return Di(Hi.second,r);case"so":return f.ordinalNumber(r,{unit:"second"});default:return Oi(c.length,r)}}validate(r,c){return c>=0&&c<=59}set(r,c,f){return r.setSeconds(f,0),r}}class m2 extends Ut{constructor(){super(...arguments);re(this,"priority",30);re(this,"incompatibleTokens",["t","T"])}parse(r,c){const f=g=>Math.trunc(g*Math.pow(10,-c.length+3));return $i(Oi(c.length,r),f)}set(r,c,f){return r.setMilliseconds(f),r}}class g2 extends Ut{constructor(){super(...arguments);re(this,"priority",10);re(this,"incompatibleTokens",["t","T","x"])}parse(r,c){switch(c){case"X":return na(ia.basicOptionalMinutes,r);case"XX":return na(ia.basic,r);case"XXXX":return na(ia.basicOptionalSeconds,r);case"XXXXX":return na(ia.extendedOptionalSeconds,r);case"XXX":default:return na(ia.extended,r)}}set(r,c,f){return c.timestampIsSet?r:Li(r,r.getTime()-bh(r)-f)}}class v2 extends Ut{constructor(){super(...arguments);re(this,"priority",10);re(this,"incompatibleTokens",["t","T","X"])}parse(r,c){switch(c){case"x":return na(ia.basicOptionalMinutes,r);case"xx":return na(ia.basic,r);case"xxxx":return na(ia.basicOptionalSeconds,r);case"xxxxx":return na(ia.extendedOptionalSeconds,r);case"xxx":default:return na(ia.extended,r)}}set(r,c,f){return c.timestampIsSet?r:Li(r,r.getTime()-bh(r)-f)}}class b2 extends Ut{constructor(){super(...arguments);re(this,"priority",40);re(this,"incompatibleTokens","*")}parse(r){return Lv(r)}set(r,c,f){return[Li(r,f*1e3),{timestampIsSet:!0}]}}class y2 extends Ut{constructor(){super(...arguments);re(this,"priority",20);re(this,"incompatibleTokens","*")}parse(r){return Lv(r)}set(r,c,f){return[Li(r,f),{timestampIsSet:!0}]}}const _2={G:new RS,y:new zS,Y:new HS,R:new $S,u:new VS,Q:new WS,q:new jS,M:new US,L:new qS,w:new GS,I:new XS,d:new QS,D:new e2,E:new t2,e:new i2,c:new n2,i:new a2,a:new r2,b:new o2,B:new l2,h:new u2,H:new c2,K:new d2,k:new h2,m:new f2,s:new p2,S:new m2,X:new g2,x:new v2,t:new b2,T:new y2},x2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w2=/^'([^]*?)'?$/,k2=/''/g,S2=/\S/,D2=/[a-zA-Z]/;function T2(u,a,r,c){var te,J,K,le,se,ae,ke,ye;const f=()=>Li((c==null?void 0:c.in)||r,NaN),g=FS(),b=(c==null?void 0:c.locale)??g.locale??Dv,C=(c==null?void 0:c.firstWeekContainsDate)??((J=(te=c==null?void 0:c.locale)==null?void 0:te.options)==null?void 0:J.firstWeekContainsDate)??g.firstWeekContainsDate??((le=(K=g.locale)==null?void 0:K.options)==null?void 0:le.firstWeekContainsDate)??1,S=(c==null?void 0:c.weekStartsOn)??((ae=(se=c==null?void 0:c.locale)==null?void 0:se.options)==null?void 0:ae.weekStartsOn)??g.weekStartsOn??((ye=(ke=g.locale)==null?void 0:ke.options)==null?void 0:ye.weekStartsOn)??0;if(!a)return u?f():Tt(r,c==null?void 0:c.in);const T={firstWeekContainsDate:C,weekStartsOn:S,locale:b},A=[new NS(c==null?void 0:c.in,r)],O=a.match(C2).map(be=>{const Te=be[0];if(Te in vp){const Ke=vp[Te];return Ke(be,b.formatLong)}return be}).join("").match(x2),N=[];for(let be of O){!(c!=null&&c.useAdditionalWeekYearTokens)&&Fv(be)&&bp(be,a,u),!(c!=null&&c.useAdditionalDayOfYearTokens)&&Mv(be)&&bp(be,a,u);const Te=be[0],Ke=_2[Te];if(Ke){const{incompatibleTokens:Le}=Ke;if(Array.isArray(Le)){const st=N.find(ut=>Le.includes(ut.token)||ut.token===Te);if(st)throw new RangeError(`The format string mustn't contain \`${st.fullToken}\` and \`${be}\` at the same time`)}else if(Ke.incompatibleTokens==="*"&&N.length>0)throw new RangeError(`The format string mustn't contain \`${be}\` and any other token at the same time`);N.push({token:Te,fullToken:be});const Ge=Ke.run(u,be,b.match,T);if(!Ge)return f();A.push(Ge.setter),u=Ge.rest}else{if(Te.match(D2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Te+"`");if(be==="''"?be="'":Te==="'"&&(be=E2(be)),u.indexOf(be)===0)u=u.slice(be.length);else return f()}}if(u.length>0&&S2.test(u))return f();const $=A.map(be=>be.priority).sort((be,Te)=>Te-be).filter((be,Te,Ke)=>Ke.indexOf(be)===Te).map(be=>A.filter(Te=>Te.priority===be).sort((Te,Ke)=>Ke.subPriority-Te.subPriority)).map(be=>be[0]);let q=Tt(r,c==null?void 0:c.in);if(isNaN(+q))return f();const Q={};for(const be of $){if(!be.validate(q,T))return f();const Te=be.set(q,Q,T);Array.isArray(Te)?(q=Te[0],Object.assign(Q,Te[1])):q=Te}return q}function E2(u){return u.match(w2)[1].replace(k2,"'")}function A2(u,a){const r=Tt(u,a==null?void 0:a.in);return r.setMinutes(0,0,0),r}function M2(u,a){const r=Tt(u,a==null?void 0:a.in);return r.setSeconds(0,0),r}function F2(u,a){const r=Tt(u,a==null?void 0:a.in);return r.setMilliseconds(0),r}function I2(u,a){const r=()=>Li(a==null?void 0:a.in,NaN),c=(a==null?void 0:a.additionalDigits)??2,f=B2(u);let g;if(f.date){const T=N2(f.date,c);g=R2(T.restDateString,T.year)}if(!g||isNaN(+g))return r();const b=+g;let C=0,S;if(f.time&&(C=z2(f.time),isNaN(C)))return r();if(f.timezone){if(S=H2(f.timezone),isNaN(S))return r()}else{const T=new Date(b+C),A=Tt(0,a==null?void 0:a.in);return A.setFullYear(T.getUTCFullYear(),T.getUTCMonth(),T.getUTCDate()),A.setHours(T.getUTCHours(),T.getUTCMinutes(),T.getUTCSeconds(),T.getUTCMilliseconds()),A}return Tt(b+C+S,a==null?void 0:a.in)}const Xd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},L2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,O2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,P2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function B2(u){const a={},r=u.split(Xd.dateTimeDelimiter);let c;if(r.length>2)return a;if(/:/.test(r[0])?c=r[0]:(a.date=r[0],c=r[1],Xd.timeZoneDelimiter.test(a.date)&&(a.date=u.split(Xd.timeZoneDelimiter)[0],c=u.substr(a.date.length,u.length))),c){const f=Xd.timezone.exec(c);f?(a.time=c.replace(f[1],""),a.timezone=f[1]):a.time=c}return a}function N2(u,a){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),c=u.match(r);if(!c)return{year:NaN,restDateString:""};const f=c[1]?parseInt(c[1]):null,g=c[2]?parseInt(c[2]):null;return{year:g===null?f:g*100,restDateString:u.slice((c[1]||c[2]).length)}}function R2(u,a){if(a===null)return new Date(NaN);const r=u.match(L2);if(!r)return new Date(NaN);const c=!!r[4],f=Eu(r[1]),g=Eu(r[2])-1,b=Eu(r[3]),C=Eu(r[4]),S=Eu(r[5])-1;if(c)return U2(a,C,S)?$2(a,C,S):new Date(NaN);{const T=new Date(0);return!W2(a,g,b)||!j2(a,f)?new Date(NaN):(T.setUTCFullYear(a,g,Math.max(f,b)),T)}}function Eu(u){return u?parseInt(u):1}function z2(u){const a=u.match(O2);if(!a)return NaN;const r=Gf(a[1]),c=Gf(a[2]),f=Gf(a[3]);return q2(r,c,f)?r*tc+c*ec+f*1e3:NaN}function Gf(u){return u&&parseFloat(u.replace(",","."))||0}function H2(u){if(u==="Z")return 0;const a=u.match(P2);if(!a)return 0;const r=a[1]==="+"?-1:1,c=parseInt(a[2]),f=a[3]&&parseInt(a[3])||0;return Y2(c,f)?r*(c*tc+f*ec):NaN}function $2(u,a,r){const c=new Date(0);c.setUTCFullYear(u,0,4);const f=c.getUTCDay()||7,g=(a-1)*7+r+1-f;return c.setUTCDate(c.getUTCDate()+g),c}const V2=[31,null,31,30,31,30,31,31,30,31,30,31];function Bv(u){return u%400===0||u%4===0&&u%100!==0}function W2(u,a,r){return a>=0&&a<=11&&r>=1&&r<=(V2[a]||(Bv(u)?29:28))}function j2(u,a){return a>=1&&a<=(Bv(u)?366:365)}function U2(u,a,r){return a>=1&&a<=53&&r>=0&&r<=6}function q2(u,a,r){return u===24?a===0&&r===0:r>=0&&r<60&&a>=0&&a<60&&u>=0&&u<25}function Y2(u,a){return a>=0&&a<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const G2={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};X0._date.override({_id:"date-fns",formats:function(){return G2},parse:function(u,a){if(u===null||typeof u>"u")return null;const r=typeof u;return r==="number"||u instanceof Date?u=Tt(u):r==="string"&&(typeof a=="string"?u=T2(u,a,new Date,this.options):u=I2(u,this.options)),_v(u)?u.getTime():null},format:function(u,a){return AS(u,a,this.options)},add:function(u,a,r){switch(r){case"millisecond":return Rp(u,a);case"second":return b4(u,a);case"minute":return g4(u,a);case"hour":return f4(u,a);case"day":return Dh(u,a);case"week":return y4(u,a);case"month":return Np(u,a);case"quarter":return v4(u,a);case"year":return _4(u,a);default:return u}},diff:function(u,a,r){switch(r){case"millisecond":return zp(u,a);case"second":return E4(u,a);case"minute":return S4(u,a);case"hour":return k4(u,a);case"day":return xv(u,a);case"week":return A4(u,a);case"month":return kv(u,a);case"quarter":return T4(u,a);case"year":return M4(u,a);default:return 0}},startOf:function(u,a,r){switch(a){case"second":return F2(u);case"minute":return M2(u);case"hour":return A2(u);case"day":return gp(u);case"week":return ra(u);case"isoWeek":return ra(u,{weekStartsOn:+r});case"month":return I4(u);case"quarter":return F4(u);case"year":return Sv(u);default:return u}},endOf:function(u,a){switch(a){case"second":return R4(u);case"minute":return B4(u);case"hour":return O4(u);case"day":return Cv(u);case"week":return P4(u);case"month":return wv(u);case"quarter":return N4(u);case"year":return L4(u);default:return u}}});/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var zg=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var u=window.screen;if(u)return(u.deviceXDPI||1)/(u.logicalXDPI||1)}return 1}(),Wu={toTextLines:function(u){var a=[],r;for(u=[].concat(u);u.length;)r=u.pop(),typeof r=="string"?a.unshift.apply(a,r.split(`
`)):Array.isArray(r)?u.push.apply(u,r):Mt(u)||a.unshift(""+r);return a},textSize:function(u,a,r){var c=[].concat(a),f=c.length,g=u.font,b=0,C;for(u.font=r.string,C=0;C<f;++C)b=Math.max(u.measureText(c[C]).width,b);return u.font=g,{height:f*r.lineHeight,width:b}},bound:function(u,a,r){return Math.max(u,Math.min(a,r))},arrayDiff:function(u,a){var r=u.slice(),c=[],f,g,b,C;for(f=0,b=a.length;f<b;++f)C=a[f],g=r.indexOf(C),g===-1?c.push([C,1]):r.splice(g,1);for(f=0,b=r.length;f<b;++f)c.push([r[f],-1]);return c},rasterize:function(u){return Math.round(u*zg)/zg}};function Kf(u,a){var r=a.x,c=a.y;if(r===null)return{x:0,y:-1};if(c===null)return{x:1,y:0};var f=u.x-r,g=u.y-c,b=Math.sqrt(f*f+g*g);return{x:b?f/b:0,y:b?g/b:-1}}function K2(u,a,r,c,f){switch(f){case"center":r=c=0;break;case"bottom":r=0,c=1;break;case"right":r=1,c=0;break;case"left":r=-1,c=0;break;case"top":r=0,c=-1;break;case"start":r=-r,c=-c;break;case"end":break;default:f*=Math.PI/180,r=Math.cos(f),c=Math.sin(f);break}return{x:u,y:a,vx:r,vy:c}}var X2=0,Nv=1,Rv=2,zv=4,Hv=8;function Jd(u,a,r){var c=X2;return u<r.left?c|=Nv:u>r.right&&(c|=Rv),a<r.top?c|=Hv:a>r.bottom&&(c|=zv),c}function J2(u,a){for(var r=u.x0,c=u.y0,f=u.x1,g=u.y1,b=Jd(r,c,a),C=Jd(f,g,a),S,T,A;!(!(b|C)||b&C);)S=b||C,S&Hv?(T=r+(f-r)*(a.top-c)/(g-c),A=a.top):S&zv?(T=r+(f-r)*(a.bottom-c)/(g-c),A=a.bottom):S&Rv?(A=c+(g-c)*(a.right-r)/(f-r),T=a.right):S&Nv&&(A=c+(g-c)*(a.left-r)/(f-r),T=a.left),S===b?(r=T,c=A,b=Jd(r,c,a)):(f=T,g=A,C=Jd(f,g,a));return{x0:r,x1:f,y0:c,y1:g}}function Zd(u,a){var r=a.anchor,c=u,f,g;return a.clamp&&(c=J2(c,a.area)),r==="start"?(f=c.x0,g=c.y0):r==="end"?(f=c.x1,g=c.y1):(f=(c.x0+c.x1)/2,g=(c.y0+c.y1)/2),K2(f,g,u.vx,u.vy,a.align)}var Qd={arc:function(u,a){var r=(u.startAngle+u.endAngle)/2,c=Math.cos(r),f=Math.sin(r),g=u.innerRadius,b=u.outerRadius;return Zd({x0:u.x+c*g,y0:u.y+f*g,x1:u.x+c*b,y1:u.y+f*b,vx:c,vy:f},a)},point:function(u,a){var r=Kf(u,a.origin),c=r.x*u.options.radius,f=r.y*u.options.radius;return Zd({x0:u.x-c,y0:u.y-f,x1:u.x+c,y1:u.y+f,vx:r.x,vy:r.y},a)},bar:function(u,a){var r=Kf(u,a.origin),c=u.x,f=u.y,g=0,b=0;return u.horizontal?(c=Math.min(u.x,u.base),g=Math.abs(u.base-u.x)):(f=Math.min(u.y,u.base),b=Math.abs(u.base-u.y)),Zd({x0:c,y0:f+b,x1:c+g,y1:f,vx:r.x,vy:r.y},a)},fallback:function(u,a){var r=Kf(u,a.origin);return Zd({x0:u.x,y0:u.y,x1:u.x+(u.width||0),y1:u.y+(u.height||0),vx:r.x,vy:r.y},a)}},Ra=Wu.rasterize;function Z2(u){var a=u.borderWidth||0,r=u.padding,c=u.size.height,f=u.size.width,g=-f/2,b=-c/2;return{frame:{x:g-r.left-a,y:b-r.top-a,w:f+r.width+a*2,h:c+r.height+a*2},text:{x:g,y:b,w:f,h:c}}}function Q2(u,a){var r=a.chart.getDatasetMeta(a.datasetIndex).vScale;if(!r)return null;if(r.xCenter!==void 0&&r.yCenter!==void 0)return{x:r.xCenter,y:r.yCenter};var c=r.getBasePixel();return u.horizontal?{x:c,y:null}:{x:null,y:c}}function eD(u){return u instanceof ol?Qd.arc:u instanceof Hu?Qd.point:u instanceof $u?Qd.bar:Qd.fallback}function tD(u,a,r,c,f,g){var b=Math.PI/2;if(g){var C=Math.min(g,f/2,c/2),S=a+C,T=r+C,A=a+c-C,O=r+f-C;u.moveTo(a,T),S<A&&T<O?(u.arc(S,T,C,-Math.PI,-b),u.arc(A,T,C,-b,0),u.arc(A,O,C,0,b),u.arc(S,O,C,b,Math.PI)):S<A?(u.moveTo(S,r),u.arc(A,T,C,-b,b),u.arc(S,T,C,b,Math.PI+b)):T<O?(u.arc(S,T,C,-Math.PI,0),u.arc(S,O,C,0,Math.PI)):u.arc(S,T,C,-Math.PI,Math.PI),u.closePath(),u.moveTo(a,r)}else u.rect(a,r,c,f)}function iD(u,a,r){var c=r.backgroundColor,f=r.borderColor,g=r.borderWidth;!c&&(!f||!g)||(u.beginPath(),tD(u,Ra(a.x)+g/2,Ra(a.y)+g/2,Ra(a.w)-g,Ra(a.h)-g,r.borderRadius),u.closePath(),c&&(u.fillStyle=c,u.fill()),f&&g&&(u.strokeStyle=f,u.lineWidth=g,u.lineJoin="miter",u.stroke()))}function nD(u,a,r){var c=r.lineHeight,f=u.w,g=u.x,b=u.y+c/2;return a==="center"?g+=f/2:(a==="end"||a==="right")&&(g+=f),{h:c,w:f,x:g,y:b}}function sD(u,a,r){var c=u.shadowBlur,f=r.stroked,g=Ra(r.x),b=Ra(r.y),C=Ra(r.w);f&&u.strokeText(a,g,b,C),r.filled&&(c&&f&&(u.shadowBlur=0),u.fillText(a,g,b,C),c&&f&&(u.shadowBlur=c))}function aD(u,a,r,c){var f=c.textAlign,g=c.color,b=!!g,C=c.font,S=a.length,T=c.textStrokeColor,A=c.textStrokeWidth,O=T&&A,N;if(!(!S||!b&&!O))for(r=nD(r,f,C),u.font=C.string,u.textAlign=f,u.textBaseline="middle",u.shadowBlur=c.textShadowBlur,u.shadowColor=c.textShadowColor,b&&(u.fillStyle=g),O&&(u.lineJoin="round",u.lineWidth=A,u.strokeStyle=T),N=0,S=a.length;N<S;++N)sD(u,a[N],{stroked:O,filled:b,w:r.w,x:r.x,y:r.y+r.h*N})}var $v=function(u,a,r,c){var f=this;f._config=u,f._index=c,f._model=null,f._rects=null,f._ctx=a,f._el=r};aa($v.prototype,{_modelize:function(u,a,r,c){var f=this,g=f._index,b=Wi(di([r.font,{}],c,g)),C=di([r.color,pi.color],c,g);return{align:di([r.align,"center"],c,g),anchor:di([r.anchor,"center"],c,g),area:c.chart.chartArea,backgroundColor:di([r.backgroundColor,null],c,g),borderColor:di([r.borderColor,null],c,g),borderRadius:di([r.borderRadius,0],c,g),borderWidth:di([r.borderWidth,0],c,g),clamp:di([r.clamp,!1],c,g),clip:di([r.clip,!1],c,g),color:C,display:u,font:b,lines:a,offset:di([r.offset,4],c,g),opacity:di([r.opacity,1],c,g),origin:Q2(f._el,c),padding:bn(di([r.padding,4],c,g)),positioner:eD(f._el),rotation:di([r.rotation,0],c,g)*(Math.PI/180),size:Wu.textSize(f._ctx,a,b),textAlign:di([r.textAlign,"start"],c,g),textShadowBlur:di([r.textShadowBlur,0],c,g),textShadowColor:di([r.textShadowColor,C],c,g),textStrokeColor:di([r.textStrokeColor,C],c,g),textStrokeWidth:di([r.textStrokeWidth,0],c,g)}},update:function(u){var a=this,r=null,c=null,f=a._index,g=a._config,b,C,S,T=di([g.display,!0],u,f);T&&(b=u.dataset.data[f],C=At(ei(g.formatter,[b,u]),b),S=Mt(C)?[]:Wu.toTextLines(C),S.length&&(r=a._modelize(T,S,g,u),c=Z2(r))),a._model=r,a._rects=c},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(u,a){var r=this,c=u.ctx,f=r._model,g=r._rects,b;this.visible()&&(c.save(),f.clip&&(b=f.area,c.beginPath(),c.rect(b.left,b.top,b.right-b.left,b.bottom-b.top),c.clip()),c.globalAlpha=Wu.bound(0,f.opacity,1),c.translate(Ra(a.x),Ra(a.y)),c.rotate(f.rotation),iD(c,g.frame,f),aD(c,f.lines,g.text,f),c.restore())}});var rD=Number.MIN_SAFE_INTEGER||-9007199254740991,oD=Number.MAX_SAFE_INTEGER||9007199254740991;function Au(u,a,r){var c=Math.cos(r),f=Math.sin(r),g=a.x,b=a.y;return{x:g+c*(u.x-g)-f*(u.y-b),y:b+f*(u.x-g)+c*(u.y-b)}}function Hg(u,a){var r=oD,c=rD,f=a.origin,g,b,C,S,T;for(g=0;g<u.length;++g)b=u[g],C=b.x-f.x,S=b.y-f.y,T=a.vx*C+a.vy*S,r=Math.min(r,T),c=Math.max(c,T);return{min:r,max:c}}function eh(u,a){var r=a.x-u.x,c=a.y-u.y,f=Math.sqrt(r*r+c*c);return{vx:(a.x-u.x)/f,vy:(a.y-u.y)/f,origin:u,ln:f}}var Vv=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};aa(Vv.prototype,{center:function(){var u=this._rect;return{x:u.x+u.w/2,y:u.y+u.h/2}},update:function(u,a,r){this._rotation=r,this._rect={x:a.x+u.x,y:a.y+u.y,w:a.w,h:a.h}},contains:function(u){var a=this,r=1,c=a._rect;return u=Au(u,a.center(),-a._rotation),!(u.x<c.x-r||u.y<c.y-r||u.x>c.x+c.w+r*2||u.y>c.y+c.h+r*2)},intersects:function(u){var a=this._points(),r=u._points(),c=[eh(a[0],a[1]),eh(a[0],a[3])],f,g,b;for(this._rotation!==u._rotation&&c.push(eh(r[0],r[1]),eh(r[0],r[3])),f=0;f<c.length;++f)if(g=Hg(a,c[f]),b=Hg(r,c[f]),g.max<b.min||b.max<g.min)return!1;return!0},_points:function(){var u=this,a=u._rect,r=u._rotation,c=u.center();return[Au({x:a.x,y:a.y},c,r),Au({x:a.x+a.w,y:a.y},c,r),Au({x:a.x+a.w,y:a.y+a.h},c,r),Au({x:a.x,y:a.y+a.h},c,r)]}});function Wv(u,a,r){var c=a.positioner(u,a),f=c.vx,g=c.vy;if(!f&&!g)return{x:c.x,y:c.y};var b=r.w,C=r.h,S=a.rotation,T=Math.abs(b/2*Math.cos(S))+Math.abs(C/2*Math.sin(S)),A=Math.abs(b/2*Math.sin(S))+Math.abs(C/2*Math.cos(S)),O=1/Math.max(Math.abs(f),Math.abs(g));return T*=f*O,A*=g*O,T+=a.offset*f,A+=a.offset*g,{x:c.x+T,y:c.y+A}}function lD(u,a){var r,c,f,g;for(r=u.length-1;r>=0;--r)for(f=u[r].$layout,c=r-1;c>=0&&f._visible;--c)g=u[c].$layout,g._visible&&f._box.intersects(g._box)&&a(f,g);return u}function uD(u){var a,r,c,f,g,b,C;for(a=0,r=u.length;a<r;++a)c=u[a],f=c.$layout,f._visible&&(C=new Proxy(c._el,{get:(S,T)=>S.getProps([T],!0)[T]}),g=c.geometry(),b=Wv(C,c.model(),g),f._box.update(b,g,c.rotation()));return lD(u,function(S,T){var A=S._hidable,O=T._hidable;A&&O||O?T._visible=!1:A&&(S._visible=!1)})}var ju={prepare:function(u){var a=[],r,c,f,g,b;for(r=0,f=u.length;r<f;++r)for(c=0,g=u[r].length;c<g;++c)b=u[r][c],a.push(b),b.$layout={_box:new Vv,_hidable:!1,_visible:!0,_set:r,_idx:b._index};return a.sort(function(C,S){var T=C.$layout,A=S.$layout;return T._idx===A._idx?A._set-T._set:A._idx-T._idx}),this.update(a),a},update:function(u){var a=!1,r,c,f,g,b;for(r=0,c=u.length;r<c;++r)f=u[r],g=f.model(),b=f.$layout,b._hidable=g&&g.display==="auto",b._visible=f.visible(),a|=b._hidable;a&&uD(u)},lookup:function(u,a){var r,c;for(r=u.length-1;r>=0;--r)if(c=u[r].$layout,c&&c._visible&&c._box.contains(a))return u[r];return null},draw:function(u,a){var r,c,f,g,b,C;for(r=0,c=a.length;r<c;++r)f=a[r],g=f.$layout,g._visible&&(b=f.geometry(),C=Wv(f._el,f.model(),b),g._box.update(C,b,f.rotation()),f.draw(u,C))}},cD=function(u){if(Mt(u))return null;var a=u,r,c,f;if(It(u))if(!Mt(u.label))a=u.label;else if(!Mt(u.r))a=u.r;else for(a="",r=Object.keys(u),f=0,c=r.length;f<c;++f)a+=(f!==0?", ":"")+r[f]+": "+u[r[f]];return""+a},dD={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:cD,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Rn="$datalabels",jv="$default";function hD(u,a){var r=u.datalabels,c={},f=[],g,b;return r===!1?null:(r===!0&&(r={}),a=aa({},[a,r]),g=a.labels||{},b=Object.keys(g),delete a.labels,b.length?b.forEach(function(C){g[C]&&f.push(aa({},[a,g[C],{_key:C}]))}):f.push(a),c=f.reduce(function(C,S){return Jt(S.listeners||{},function(T,A){C[A]=C[A]||{},C[A][S._key||jv]=T}),delete S.listeners,C},{}),{labels:f,listeners:c})}function yp(u,a,r,c){if(a){var f=r.$context,g=r.$groups,b;a[g._set]&&(b=a[g._set][g._key],b&&ei(b,[f,c])===!0&&(u[Rn]._dirty=!0,r.update(f)))}}function fD(u,a,r,c,f){var g,b;!r&&!c||(r?c?r!==c&&(b=g=!0):b=!0:g=!0,b&&yp(u,a.leave,r,f),g&&yp(u,a.enter,c,f))}function pD(u,a){var r=u[Rn],c=r._listeners,f,g;if(!(!c.enter&&!c.leave)){if(a.type==="mousemove")g=ju.lookup(r._labels,a);else if(a.type!=="mouseout")return;f=r._hovered,r._hovered=g,fD(u,c,f,g,a)}}function mD(u,a){var r=u[Rn],c=r._listeners.click,f=c&&ju.lookup(r._labels,a);f&&yp(u,c,f,a)}var gD={id:"datalabels",defaults:dD,beforeInit:function(u){u[Rn]={_actives:[]}},beforeUpdate:function(u){var a=u[Rn];a._listened=!1,a._listeners={},a._datasets=[],a._labels=[]},afterDatasetUpdate:function(u,a,r){var c=a.index,f=u[Rn],g=f._datasets[c]=[],b=u.isDatasetVisible(c),C=u.data.datasets[c],S=hD(C,r),T=a.meta.data||[],A=u.ctx,O,N,$,q,Q,te,J,K;for(A.save(),O=0,$=T.length;O<$;++O)if(J=T[O],J[Rn]=[],b&&J&&u.getDataVisibility(O)&&!J.skip)for(N=0,q=S.labels.length;N<q;++N)Q=S.labels[N],te=Q._key,K=new $v(Q,A,J,O),K.$groups={_set:c,_key:te||jv},K.$context={active:!1,chart:u,dataIndex:O,dataset:C,datasetIndex:c},K.update(K.$context),J[Rn].push(K),g.push(K);A.restore(),aa(f._listeners,S.listeners,{merger:function(le,se,ae){se[le]=se[le]||{},se[le][a.index]=ae[le],f._listened=!0}})},afterUpdate:function(u){u[Rn]._labels=ju.prepare(u[Rn]._datasets)},afterDatasetsDraw:function(u){ju.draw(u,u[Rn]._labels)},beforeEvent:function(u,a){if(u[Rn]._listened){var r=a.event;switch(r.type){case"mousemove":case"mouseout":pD(u,r);break;case"click":mD(u,r);break}}},afterEvent:function(u){var a=u[Rn],r=a._actives,c=a._actives=u.getActiveElements(),f=Wu.arrayDiff(r,c),g,b,C,S,T,A,O;for(g=0,b=f.length;g<b;++g)if(T=f[g],T[1])for(O=T[0].element[Rn]||[],C=0,S=O.length;C<S;++C)A=O[C],A.$context.active=T[1]===1,A.update(A.$context);(a._dirty||f.length)&&(ju.update(a._labels),u.render()),delete a._dirty}},uh={exports:{}},vD=uh.exports,$g;function ns(){return $g||($g=1,function(u,a){(function(r,c){u.exports=c()})(vD,function(){var r=navigator.userAgent,c=navigator.platform,f=/gecko\/\d/i.test(r),g=/MSIE \d/.test(r),b=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),C=/Edge\/(\d+)/.exec(r),S=g||b||C,T=S&&(g?document.documentMode||6:+(C||b)[1]),A=!C&&/WebKit\//.test(r),O=A&&/Qt\/\d+\.\d+/.test(r),N=!C&&/Chrome\/(\d+)/.exec(r),$=N&&+N[1],q=/Opera\//.test(r),Q=/Apple Computer/.test(navigator.vendor),te=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),J=/PhantomJS/.test(r),K=Q&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),le=/Android/.test(r),se=K||le||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),ae=K||/Mac/.test(c),ke=/\bCrOS\b/.test(r),ye=/win/i.test(c),be=q&&r.match(/Version\/(\d*\.\d*)/);be&&(be=Number(be[1])),be&&be>=15&&(q=!1,A=!0);var Te=ae&&(O||q&&(be==null||be<12.11)),Ke=f||S&&T>=9;function Le(d){return new RegExp("(^|\\s)"+d+"(?:$|\\s)\\s*")}var Ge=function(d,m){var _=d.className,y=Le(m).exec(_);if(y){var k=_.slice(y.index+y[0].length);d.className=_.slice(0,y.index)+(k?y[1]+k:"")}};function st(d){for(var m=d.childNodes.length;m>0;--m)d.removeChild(d.firstChild);return d}function ut(d,m){return st(d).appendChild(m)}function de(d,m,_,y){var k=document.createElement(d);if(_&&(k.className=_),y&&(k.style.cssText=y),typeof m=="string")k.appendChild(document.createTextNode(m));else if(m)for(var E=0;E<m.length;++E)k.appendChild(m[E]);return k}function Be(d,m,_,y){var k=de(d,m,_,y);return k.setAttribute("role","presentation"),k}var Pe;document.createRange?Pe=function(d,m,_,y){var k=document.createRange();return k.setEnd(y||d,_),k.setStart(d,m),k}:Pe=function(d,m,_){var y=document.body.createTextRange();try{y.moveToElementText(d.parentNode)}catch{return y}return y.collapse(!0),y.moveEnd("character",_),y.moveStart("character",m),y};function Qe(d,m){if(m.nodeType==3&&(m=m.parentNode),d.contains)return d.contains(m);do if(m.nodeType==11&&(m=m.host),m==d)return!0;while(m=m.parentNode)}function gt(d){var m=d.ownerDocument||d,_;try{_=d.activeElement}catch{_=m.body||null}for(;_&&_.shadowRoot&&_.shadowRoot.activeElement;)_=_.shadowRoot.activeElement;return _}function Ht(d,m){var _=d.className;Le(m).test(_)||(d.className+=(_?" ":"")+m)}function Qi(d,m){for(var _=d.split(" "),y=0;y<_.length;y++)_[y]&&!Le(_[y]).test(m)&&(m+=" "+_[y]);return m}var ce=function(d){d.select()};K?ce=function(d){d.selectionStart=0,d.selectionEnd=d.value.length}:S&&(ce=function(d){try{d.select()}catch{}});function V(d){return d.display.wrapper.ownerDocument}function Ee(d){return _t(d.display.wrapper)}function _t(d){return d.getRootNode?d.getRootNode():d.ownerDocument}function lt(d){return V(d).defaultView}function Zt(d){var m=Array.prototype.slice.call(arguments,1);return function(){return d.apply(null,m)}}function ti(d,m,_){m||(m={});for(var y in d)d.hasOwnProperty(y)&&(_!==!1||!m.hasOwnProperty(y))&&(m[y]=d[y]);return m}function Vt(d,m,_,y,k){m==null&&(m=d.search(/[^\s\u00a0]/),m==-1&&(m=d.length));for(var E=y||0,F=k||0;;){var P=d.indexOf("	",E);if(P<0||P>=m)return F+(m-E);F+=P-E,F+=_-F%_,E=P+1}}var Rt=function(){this.id=null,this.f=null,this.time=0,this.handler=Zt(this.onTimeout,this)};Rt.prototype.onTimeout=function(d){d.id=0,d.time<=+new Date?d.f():setTimeout(d.handler,d.time-+new Date)},Rt.prototype.set=function(d,m){this.f=m;var _=+new Date+d;(!this.id||_<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,d),this.time=_)};function St(d,m){for(var _=0;_<d.length;++_)if(d[_]==m)return _;return-1}var Pt=50,ii={toString:function(){return"CodeMirror.Pass"}},gi={scroll:!1},ct={origin:"*mouse"},ji={origin:"+move"};function Ui(d,m,_){for(var y=0,k=0;;){var E=d.indexOf("	",y);E==-1&&(E=d.length);var F=E-y;if(E==d.length||k+F>=m)return y+Math.min(F,m-k);if(k+=E-y,k+=_-k%_,y=E+1,k>=m)return y}}var ni=[""];function Tn(d){for(;ni.length<=d;)ni.push(at(ni)+" ");return ni[d]}function at(d){return d[d.length-1]}function oi(d,m){for(var _=[],y=0;y<d.length;y++)_[y]=m(d[y],y);return _}function dt(d,m,_){for(var y=0,k=_(m);y<d.length&&_(d[y])<=k;)y++;d.splice(y,0,m)}function vs(){}function we(d,m){var _;return Object.create?_=Object.create(d):(vs.prototype=d,_=new vs),m&&ti(m,_),_}var Se=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ge(d){return/\w/.test(d)||d>""&&(d.toUpperCase()!=d.toLowerCase()||Se.test(d))}function U(d,m){return m?m.source.indexOf("\\w")>-1&&ge(d)?!0:m.test(d):ge(d)}function W(d){for(var m in d)if(d.hasOwnProperty(m)&&d[m])return!1;return!0}var fe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function L(d){return d.charCodeAt(0)>=768&&fe.test(d)}function z(d,m,_){for(;(_<0?m>0:m<d.length)&&L(d.charAt(m));)m+=_;return m}function ee(d,m,_){for(var y=m>_?-1:1;;){if(m==_)return m;var k=(m+_)/2,E=y<0?Math.ceil(k):Math.floor(k);if(E==m)return d(E)?m:_;d(E)?_=E:m=E+y}}function oe(d,m,_,y){if(!d)return y(m,_,"ltr",0);for(var k=!1,E=0;E<d.length;++E){var F=d[E];(F.from<_&&F.to>m||m==_&&F.to==m)&&(y(Math.max(F.from,m),Math.min(F.to,_),F.level==1?"rtl":"ltr",E),k=!0)}k||y(m,_,"ltr")}var he=null;function Ce(d,m,_){var y;he=null;for(var k=0;k<d.length;++k){var E=d[k];if(E.from<m&&E.to>m)return k;E.to==m&&(E.from!=E.to&&_=="before"?y=k:he=k),E.from==m&&(E.from!=E.to&&_!="before"?y=k:he=k)}return y??he}var pe=function(){var d="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",m="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function _(H){return H<=247?d.charAt(H):1424<=H&&H<=1524?"R":1536<=H&&H<=1785?m.charAt(H-1536):1774<=H&&H<=2220?"r":8192<=H&&H<=8203?"w":H==8204?"b":"L"}var y=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,k=/[stwN]/,E=/[LRr]/,F=/[Lb1n]/,P=/[1n]/;function R(H,Z,ne){this.level=H,this.from=Z,this.to=ne}return function(H,Z){var ne=Z=="ltr"?"L":"R";if(H.length==0||Z=="ltr"&&!y.test(H))return!1;for(var _e=H.length,me=[],Ae=0;Ae<_e;++Ae)me.push(_(H.charCodeAt(Ae)));for(var Ne=0,We=ne;Ne<_e;++Ne){var qe=me[Ne];qe=="m"?me[Ne]=We:We=qe}for(var Je=0,Ye=ne;Je<_e;++Je){var it=me[Je];it=="1"&&Ye=="r"?me[Je]="n":E.test(it)&&(Ye=it,it=="r"&&(me[Je]="R"))}for(var ft=1,ht=me[0];ft<_e-1;++ft){var Dt=me[ft];Dt=="+"&&ht=="1"&&me[ft+1]=="1"?me[ft]="1":Dt==","&&ht==me[ft+1]&&(ht=="1"||ht=="n")&&(me[ft]=ht),ht=Dt}for(var Gt=0;Gt<_e;++Gt){var Ai=me[Gt];if(Ai==",")me[Gt]="N";else if(Ai=="%"){var ri=void 0;for(ri=Gt+1;ri<_e&&me[ri]=="%";++ri);for(var hn=Gt&&me[Gt-1]=="!"||ri<_e&&me[ri]=="1"?"1":"N",fn=Gt;fn<ri;++fn)me[fn]=hn;Gt=ri-1}}for(var _i=0,pn=ne;_i<_e;++_i){var Ni=me[_i];pn=="L"&&Ni=="1"?me[_i]="L":E.test(Ni)&&(pn=Ni)}for(var Mi=0;Mi<_e;++Mi)if(k.test(me[Mi])){var xi=void 0;for(xi=Mi+1;xi<_e&&k.test(me[xi]);++xi);for(var ui=(Mi?me[Mi-1]:ne)=="L",an=(xi<_e?me[xi]:ne)=="L",Ta=ui==an?ui?"L":"R":ne,Es=Mi;Es<xi;++Es)me[Es]=Ta;Mi=xi-1}for(var Xi=[],fs,Ri=0;Ri<_e;)if(F.test(me[Ri])){var il=Ri;for(++Ri;Ri<_e&&F.test(me[Ri]);++Ri);Xi.push(new R(0,il,Ri))}else{var As=Ri,Zs=Xi.length,Ea=Z=="rtl"?1:0;for(++Ri;Ri<_e&&me[Ri]!="L";++Ri);for(var Ji=As;Ji<Ri;)if(P.test(me[Ji])){As<Ji&&(Xi.splice(Zs,0,new R(1,As,Ji)),Zs+=Ea);var Cr=Ji;for(++Ji;Ji<Ri&&P.test(me[Ji]);++Ji);Xi.splice(Zs,0,new R(2,Cr,Ji)),Zs+=Ea,As=Ji}else++Ji;As<Ri&&Xi.splice(Zs,0,new R(1,As,Ri))}return Z=="ltr"&&(Xi[0].level==1&&(fs=H.match(/^\s+/))&&(Xi[0].from=fs[0].length,Xi.unshift(new R(0,0,fs[0].length))),at(Xi).level==1&&(fs=H.match(/\s+$/))&&(at(Xi).to-=fs[0].length,Xi.push(new R(0,_e-fs[0].length,_e)))),Z=="rtl"?Xi.reverse():Xi}}();function ue(d,m){var _=d.order;return _==null&&(_=d.order=pe(d.text,m)),_}var xe=[],ve=function(d,m,_){if(d.addEventListener)d.addEventListener(m,_,!1);else if(d.attachEvent)d.attachEvent("on"+m,_);else{var y=d._handlers||(d._handlers={});y[m]=(y[m]||xe).concat(_)}};function Ue(d,m){return d._handlers&&d._handlers[m]||xe}function et(d,m,_){if(d.removeEventListener)d.removeEventListener(m,_,!1);else if(d.detachEvent)d.detachEvent("on"+m,_);else{var y=d._handlers,k=y&&y[m];if(k){var E=St(k,_);E>-1&&(y[m]=k.slice(0,E).concat(k.slice(E+1)))}}}function tt(d,m){var _=Ue(d,m);if(_.length)for(var y=Array.prototype.slice.call(arguments,2),k=0;k<_.length;++k)_[k].apply(null,y)}function je(d,m,_){return typeof m=="string"&&(m={type:m,preventDefault:function(){this.defaultPrevented=!0}}),tt(d,_||m.type,d,m),jt(m)||m.codemirrorIgnore}function vt(d){var m=d._handlers&&d._handlers.cursorActivity;if(m)for(var _=d.curOp.cursorActivityHandlers||(d.curOp.cursorActivityHandlers=[]),y=0;y<m.length;++y)St(_,m[y])==-1&&_.push(m[y])}function xt(d,m){return Ue(d,m).length>0}function wt(d){d.prototype.on=function(m,_){ve(this,m,_)},d.prototype.off=function(m,_){et(this,m,_)}}function mt(d){d.preventDefault?d.preventDefault():d.returnValue=!1}function Wt(d){d.stopPropagation?d.stopPropagation():d.cancelBubble=!0}function jt(d){return d.defaultPrevented!=null?d.defaultPrevented:d.returnValue==!1}function vi(d){mt(d),Wt(d)}function en(d){return d.target||d.srcElement}function qi(d){var m=d.which;return m==null&&(d.button&1?m=1:d.button&2?m=3:d.button&4&&(m=2)),ae&&d.ctrlKey&&m==1&&(m=3),m}var oa=function(){if(S&&T<9)return!1;var d=de("div");return"draggable"in d||"dragDrop"in d}(),la;function Ir(d){if(la==null){var m=de("span","​");ut(d,de("span",[m,document.createTextNode("x")])),d.firstChild.offsetHeight!=0&&(la=m.offsetWidth<=1&&m.offsetHeight>2&&!(S&&T<8))}var _=la?de("span","​"):de("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return _.setAttribute("cm-text",""),_}var ss;function Ha(d){if(ss!=null)return ss;var m=ut(d,document.createTextNode("AخA")),_=Pe(m,0,1).getBoundingClientRect(),y=Pe(m,1,2).getBoundingClientRect();return st(d),!_||_.left==_.right?!1:ss=y.right-_.right<3}var $a=`

b`.split(/\n/).length!=3?function(d){for(var m=0,_=[],y=d.length;m<=y;){var k=d.indexOf(`
`,m);k==-1&&(k=d.length);var E=d.slice(m,d.charAt(k-1)=="\r"?k-1:k),F=E.indexOf("\r");F!=-1?(_.push(E.slice(0,F)),m+=F+1):(_.push(E),m=k+1)}return _}:function(d){return d.split(/\r\n?|\n/)},fl=window.getSelection?function(d){try{return d.selectionStart!=d.selectionEnd}catch{return!1}}:function(d){var m;try{m=d.ownerDocument.selection.createRange()}catch{}return!m||m.parentElement()!=d?!1:m.compareEndPoints("StartToEnd",m)!=0},bi=function(){var d=de("div");return"oncopy"in d?!0:(d.setAttribute("oncopy","return;"),typeof d.oncopy=="function")}(),on=null;function En(d){if(on!=null)return on;var m=ut(d,de("span","x")),_=m.getBoundingClientRect(),y=Pe(m,0,1).getBoundingClientRect();return on=Math.abs(_.left-y.left)>1}var yn={},ln={};function Ls(d,m){arguments.length>2&&(m.dependencies=Array.prototype.slice.call(arguments,2)),yn[d]=m}function Os(d,m){ln[d]=m}function Ps(d){if(typeof d=="string"&&ln.hasOwnProperty(d))d=ln[d];else if(d&&typeof d.name=="string"&&ln.hasOwnProperty(d.name)){var m=ln[d.name];typeof m=="string"&&(m={name:m}),d=we(m,d),d.name=m.name}else{if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(d))return Ps("application/xml");if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(d))return Ps("application/json")}return typeof d=="string"?{name:d}:d||{name:"null"}}function ua(d,m){m=Ps(m);var _=yn[m.name];if(!_)return ua(d,"text/plain");var y=_(d,m);if(ca.hasOwnProperty(m.name)){var k=ca[m.name];for(var E in k)k.hasOwnProperty(E)&&(y.hasOwnProperty(E)&&(y["_"+E]=y[E]),y[E]=k[E])}if(y.name=m.name,m.helperType&&(y.helperType=m.helperType),m.modeProps)for(var F in m.modeProps)y[F]=m.modeProps[F];return y}var ca={};function nc(d,m){var _=ca.hasOwnProperty(d)?ca[d]:ca[d]={};ti(m,_)}function Bs(d,m){if(m===!0)return m;if(d.copyState)return d.copyState(m);var _={};for(var y in m){var k=m[y];k instanceof Array&&(k=k.concat([])),_[y]=k}return _}function To(d,m){for(var _;d.innerMode&&(_=d.innerMode(m),!(!_||_.mode==d));)m=_.state,d=_.mode;return _||{mode:d,state:m}}function sc(d,m,_){return d.startState?d.startState(m,_):!0}var ki=function(d,m,_){this.pos=this.start=0,this.string=d,this.tabSize=m||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=_};ki.prototype.eol=function(){return this.pos>=this.string.length},ki.prototype.sol=function(){return this.pos==this.lineStart},ki.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ki.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ki.prototype.eat=function(d){var m=this.string.charAt(this.pos),_;if(typeof d=="string"?_=m==d:_=m&&(d.test?d.test(m):d(m)),_)return++this.pos,m},ki.prototype.eatWhile=function(d){for(var m=this.pos;this.eat(d););return this.pos>m},ki.prototype.eatSpace=function(){for(var d=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>d},ki.prototype.skipToEnd=function(){this.pos=this.string.length},ki.prototype.skipTo=function(d){var m=this.string.indexOf(d,this.pos);if(m>-1)return this.pos=m,!0},ki.prototype.backUp=function(d){this.pos-=d},ki.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Vt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Vt(this.string,this.lineStart,this.tabSize):0)},ki.prototype.indentation=function(){return Vt(this.string,null,this.tabSize)-(this.lineStart?Vt(this.string,this.lineStart,this.tabSize):0)},ki.prototype.match=function(d,m,_){if(typeof d=="string"){var y=function(F){return _?F.toLowerCase():F},k=this.string.substr(this.pos,d.length);if(y(k)==y(d))return m!==!1&&(this.pos+=d.length),!0}else{var E=this.string.slice(this.pos).match(d);return E&&E.index>0?null:(E&&m!==!1&&(this.pos+=E[0].length),E)}},ki.prototype.current=function(){return this.string.slice(this.start,this.pos)},ki.prototype.hideFirstChars=function(d,m){this.lineStart+=d;try{return m()}finally{this.lineStart-=d}},ki.prototype.lookAhead=function(d){var m=this.lineOracle;return m&&m.lookAhead(d)},ki.prototype.baseToken=function(){var d=this.lineOracle;return d&&d.baseToken(this.pos)};function rt(d,m){if(m-=d.first,m<0||m>=d.size)throw new Error("There is no line "+(m+d.first)+" in the document.");for(var _=d;!_.lines;)for(var y=0;;++y){var k=_.children[y],E=k.chunkSize();if(m<E){_=k;break}m-=E}return _.lines[m]}function bs(d,m,_){var y=[],k=m.line;return d.iter(m.line,_.line+1,function(E){var F=E.text;k==_.line&&(F=F.slice(0,_.ch)),k==m.line&&(F=F.slice(m.ch)),y.push(F),++k}),y}function Lr(d,m,_){var y=[];return d.iter(m,_,function(k){y.push(k.text)}),y}function Hn(d,m){var _=m-d.height;if(_)for(var y=d;y;y=y.parent)y.height+=_}function zt(d){if(d.parent==null)return null;for(var m=d.parent,_=St(m.lines,d),y=m.parent;y;m=y,y=y.parent)for(var k=0;y.children[k]!=m;++k)_+=y.children[k].chunkSize();return _+m.first}function Ns(d,m){var _=d.first;e:do{for(var y=0;y<d.children.length;++y){var k=d.children[y],E=k.height;if(m<E){d=k;continue e}m-=E,_+=k.chunkSize()}return _}while(!d.lines);for(var F=0;F<d.lines.length;++F){var P=d.lines[F],R=P.height;if(m<R)break;m-=R}return _+F}function Va(d,m){return m>=d.first&&m<d.first+d.size}function Eo(d,m){return String(d.lineNumberFormatter(m+d.firstLineNumber))}function $e(d,m,_){if(_===void 0&&(_=null),!(this instanceof $e))return new $e(d,m,_);this.line=d,this.ch=m,this.sticky=_}function bt(d,m){return d.line-m.line||d.ch-m.ch}function Ao(d,m){return d.sticky==m.sticky&&bt(d,m)==0}function Mo(d){return $e(d.line,d.ch)}function Or(d,m){return bt(d,m)<0?m:d}function Pr(d,m){return bt(d,m)<0?d:m}function _n(d,m){return Math.max(d.first,Math.min(m,d.first+d.size-1))}function Ct(d,m){if(m.line<d.first)return $e(d.first,0);var _=d.first+d.size-1;return m.line>_?$e(_,rt(d,_).text.length):pl(m,rt(d,m.line).text.length)}function pl(d,m){var _=d.ch;return _==null||_>m?$e(d.line,m):_<0?$e(d.line,0):d}function ac(d,m){for(var _=[],y=0;y<m.length;y++)_[y]=Ct(d,m[y]);return _}var Rs=function(d,m){this.state=d,this.lookAhead=m},$n=function(d,m,_,y){this.state=m,this.doc=d,this.line=_,this.maxLookAhead=y||0,this.baseTokens=null,this.baseTokenPos=1};$n.prototype.lookAhead=function(d){var m=this.doc.getLine(this.line+d);return m!=null&&d>this.maxLookAhead&&(this.maxLookAhead=d),m},$n.prototype.baseToken=function(d){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=d;)this.baseTokenPos+=2;var m=this.baseTokens[this.baseTokenPos+1];return{type:m&&m.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-d}},$n.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},$n.fromSaved=function(d,m,_){return m instanceof Rs?new $n(d,Bs(d.mode,m.state),_,m.lookAhead):new $n(d,Bs(d.mode,m),_)},$n.prototype.save=function(d){var m=d!==!1?Bs(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Rs(m,this.maxLookAhead):m};function ml(d,m,_,y){var k=[d.state.modeGen],E={};xl(d,m.text,d.doc.mode,_,function(H,Z){return k.push(H,Z)},E,y);for(var F=_.state,P=function(H){_.baseTokens=k;var Z=d.state.overlays[H],ne=1,_e=0;_.state=!0,xl(d,m.text,Z.mode,_,function(me,Ae){for(var Ne=ne;_e<me;){var We=k[ne];We>me&&k.splice(ne,1,me,k[ne+1],We),ne+=2,_e=Math.min(me,We)}if(Ae)if(Z.opaque)k.splice(Ne,ne-Ne,me,"overlay "+Ae),ne=Ne+2;else for(;Ne<ne;Ne+=2){var qe=k[Ne+1];k[Ne+1]=(qe?qe+" ":"")+"overlay "+Ae}},E),_.state=F,_.baseTokens=null,_.baseTokenPos=1},R=0;R<d.state.overlays.length;++R)P(R);return{styles:k,classes:E.bgClass||E.textClass?E:null}}function gl(d,m,_){if(!m.styles||m.styles[0]!=d.state.modeGen){var y=Wa(d,zt(m)),k=m.text.length>d.options.maxHighlightLength&&Bs(d.doc.mode,y.state),E=ml(d,m,y);k&&(y.state=k),m.stateAfter=y.save(!k),m.styles=E.styles,E.classes?m.styleClasses=E.classes:m.styleClasses&&(m.styleClasses=null),_===d.doc.highlightFrontier&&(d.doc.modeFrontier=Math.max(d.doc.modeFrontier,++d.doc.highlightFrontier))}return m.styles}function Wa(d,m,_){var y=d.doc,k=d.display;if(!y.mode.startState)return new $n(y,!0,m);var E=rc(d,m,_),F=E>y.first&&rt(y,E-1).stateAfter,P=F?$n.fromSaved(y,F,E):new $n(y,sc(y.mode),E);return y.iter(E,m,function(R){Fo(d,R.text,P);var H=P.line;R.stateAfter=H==m-1||H%5==0||H>=k.viewFrom&&H<k.viewTo?P.save():null,P.nextLine()}),_&&(y.modeFrontier=P.line),P}function Fo(d,m,_,y){var k=d.doc.mode,E=new ki(m,d.options.tabSize,_);for(E.start=E.pos=y||0,m==""&&vl(k,_.state);!E.eol();)Io(k,E,_.state),E.start=E.pos}function vl(d,m){if(d.blankLine)return d.blankLine(m);if(d.innerMode){var _=To(d,m);if(_.mode.blankLine)return _.mode.blankLine(_.state)}}function Io(d,m,_,y){for(var k=0;k<10;k++){y&&(y[0]=To(d,_).mode);var E=d.token(m,_);if(m.pos>m.start)return E}throw new Error("Mode "+d.name+" failed to advance stream.")}var bl=function(d,m,_){this.start=d.start,this.end=d.pos,this.string=d.current(),this.type=m||null,this.state=_};function yl(d,m,_,y){var k=d.doc,E=k.mode,F;m=Ct(k,m);var P=rt(k,m.line),R=Wa(d,m.line,_),H=new ki(P.text,d.options.tabSize,R),Z;for(y&&(Z=[]);(y||H.pos<m.ch)&&!H.eol();)H.start=H.pos,F=Io(E,H,R.state),y&&Z.push(new bl(H,F,Bs(k.mode,R.state)));return y?Z:new bl(H,F,R.state)}function _l(d,m){if(d)for(;;){var _=d.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!_)break;d=d.slice(0,_.index)+d.slice(_.index+_[0].length);var y=_[1]?"bgClass":"textClass";m[y]==null?m[y]=_[2]:new RegExp("(?:^|\\s)"+_[2]+"(?:$|\\s)").test(m[y])||(m[y]+=" "+_[2])}return d}function xl(d,m,_,y,k,E,F){var P=_.flattenSpans;P==null&&(P=d.options.flattenSpans);var R=0,H=null,Z=new ki(m,d.options.tabSize,y),ne,_e=d.options.addModeClass&&[null];for(m==""&&_l(vl(_,y.state),E);!Z.eol();){if(Z.pos>d.options.maxHighlightLength?(P=!1,F&&Fo(d,m,y,Z.pos),Z.pos=m.length,ne=null):ne=_l(Io(_,Z,y.state,_e),E),_e){var me=_e[0].name;me&&(ne="m-"+(ne?me+" "+ne:me))}if(!P||H!=ne){for(;R<Z.start;)R=Math.min(Z.start,R+5e3),k(R,H);H=ne}Z.start=Z.pos}for(;R<Z.pos;){var Ae=Math.min(Z.pos,R+5e3);k(Ae,H),R=Ae}}function rc(d,m,_){for(var y,k,E=d.doc,F=_?-1:m-(d.doc.mode.innerMode?1e3:100),P=m;P>F;--P){if(P<=E.first)return E.first;var R=rt(E,P-1),H=R.stateAfter;if(H&&(!_||P+(H instanceof Rs?H.lookAhead:0)<=E.modeFrontier))return P;var Z=Vt(R.text,null,d.options.tabSize);(k==null||y>Z)&&(k=P-1,y=Z)}return k}function Th(d,m){if(d.modeFrontier=Math.min(d.modeFrontier,m),!(d.highlightFrontier<m-10)){for(var _=d.first,y=m-1;y>_;y--){var k=rt(d,y).stateAfter;if(k&&(!(k instanceof Rs)||y+k.lookAhead<m)){_=y+1;break}}d.highlightFrontier=Math.min(d.highlightFrontier,_)}}var Cl=!1,In=!1;function oc(){Cl=!0}function Eh(){In=!0}function Lo(d,m,_){this.marker=d,this.from=m,this.to=_}function Br(d,m){if(d)for(var _=0;_<d.length;++_){var y=d[_];if(y.marker==m)return y}}function Ah(d,m){for(var _,y=0;y<d.length;++y)d[y]!=m&&(_||(_=[])).push(d[y]);return _}function Mh(d,m,_){var y=_&&window.WeakSet&&(_.markedSpans||(_.markedSpans=new WeakSet));y&&d.markedSpans&&y.has(d.markedSpans)?d.markedSpans.push(m):(d.markedSpans=d.markedSpans?d.markedSpans.concat([m]):[m],y&&y.add(d.markedSpans)),m.marker.attachLine(d)}function Fh(d,m,_){var y;if(d)for(var k=0;k<d.length;++k){var E=d[k],F=E.marker,P=E.from==null||(F.inclusiveLeft?E.from<=m:E.from<m);if(P||E.from==m&&F.type=="bookmark"&&(!_||!E.marker.insertLeft)){var R=E.to==null||(F.inclusiveRight?E.to>=m:E.to>m);(y||(y=[])).push(new Lo(F,E.from,R?null:E.to))}}return y}function ja(d,m,_){var y;if(d)for(var k=0;k<d.length;++k){var E=d[k],F=E.marker,P=E.to==null||(F.inclusiveRight?E.to>=m:E.to>m);if(P||E.from==m&&F.type=="bookmark"&&(!_||E.marker.insertLeft)){var R=E.from==null||(F.inclusiveLeft?E.from<=m:E.from<m);(y||(y=[])).push(new Lo(F,R?null:E.from-m,E.to==null?null:E.to-m))}}return y}function wl(d,m){if(m.full)return null;var _=Va(d,m.from.line)&&rt(d,m.from.line).markedSpans,y=Va(d,m.to.line)&&rt(d,m.to.line).markedSpans;if(!_&&!y)return null;var k=m.from.ch,E=m.to.ch,F=bt(m.from,m.to)==0,P=Fh(_,k,F),R=ja(y,E,F),H=m.text.length==1,Z=at(m.text).length+(H?k:0);if(P)for(var ne=0;ne<P.length;++ne){var _e=P[ne];if(_e.to==null){var me=Br(R,_e.marker);me?H&&(_e.to=me.to==null?null:me.to+Z):_e.to=k}}if(R)for(var Ae=0;Ae<R.length;++Ae){var Ne=R[Ae];if(Ne.to!=null&&(Ne.to+=Z),Ne.from==null){var We=Br(P,Ne.marker);We||(Ne.from=Z,H&&(P||(P=[])).push(Ne))}else Ne.from+=Z,H&&(P||(P=[])).push(Ne)}P&&(P=ot(P)),R&&R!=P&&(R=ot(R));var qe=[P];if(!H){var Je=m.text.length-2,Ye;if(Je>0&&P)for(var it=0;it<P.length;++it)P[it].to==null&&(Ye||(Ye=[])).push(new Lo(P[it].marker,null,null));for(var ft=0;ft<Je;++ft)qe.push(Ye);qe.push(R)}return qe}function ot(d){for(var m=0;m<d.length;++m){var _=d[m];_.from!=null&&_.from==_.to&&_.marker.clearWhenEmpty!==!1&&d.splice(m--,1)}return d.length?d:null}function un(d,m,_){var y=null;if(d.iter(m.line,_.line+1,function(me){if(me.markedSpans)for(var Ae=0;Ae<me.markedSpans.length;++Ae){var Ne=me.markedSpans[Ae].marker;Ne.readOnly&&(!y||St(y,Ne)==-1)&&(y||(y=[])).push(Ne)}}),!y)return null;for(var k=[{from:m,to:_}],E=0;E<y.length;++E)for(var F=y[E],P=F.find(0),R=0;R<k.length;++R){var H=k[R];if(!(bt(H.to,P.from)<0||bt(H.from,P.to)>0)){var Z=[R,1],ne=bt(H.from,P.from),_e=bt(H.to,P.to);(ne<0||!F.inclusiveLeft&&!ne)&&Z.push({from:H.from,to:P.from}),(_e>0||!F.inclusiveRight&&!_e)&&Z.push({from:P.to,to:H.to}),k.splice.apply(k,Z),R+=Z.length-3}}return k}function as(d){var m=d.markedSpans;if(m){for(var _=0;_<m.length;++_)m[_].marker.detachLine(d);d.markedSpans=null}}function da(d,m){if(m){for(var _=0;_<m.length;++_)m[_].marker.attachLine(d);d.markedSpans=m}}function ys(d){return d.inclusiveLeft?-1:0}function rs(d){return d.inclusiveRight?1:0}function zs(d,m){var _=d.lines.length-m.lines.length;if(_!=0)return _;var y=d.find(),k=m.find(),E=bt(y.from,k.from)||ys(d)-ys(m);if(E)return-E;var F=bt(y.to,k.to)||rs(d)-rs(m);return F||m.id-d.id}function kl(d,m){var _=In&&d.markedSpans,y;if(_)for(var k=void 0,E=0;E<_.length;++E)k=_[E],k.marker.collapsed&&(m?k.from:k.to)==null&&(!y||zs(y,k.marker)<0)&&(y=k.marker);return y}function Sl(d){return kl(d,!0)}function Nr(d){return kl(d,!1)}function Ih(d,m){var _=In&&d.markedSpans,y;if(_)for(var k=0;k<_.length;++k){var E=_[k];E.marker.collapsed&&(E.from==null||E.from<m)&&(E.to==null||E.to>m)&&(!y||zs(y,E.marker)<0)&&(y=E.marker)}return y}function lc(d,m,_,y,k){var E=rt(d,m),F=In&&E.markedSpans;if(F)for(var P=0;P<F.length;++P){var R=F[P];if(R.marker.collapsed){var H=R.marker.find(0),Z=bt(H.from,_)||ys(R.marker)-ys(k),ne=bt(H.to,y)||rs(R.marker)-rs(k);if(!(Z>=0&&ne<=0||Z<=0&&ne>=0)&&(Z<=0&&(R.marker.inclusiveRight&&k.inclusiveLeft?bt(H.to,_)>=0:bt(H.to,_)>0)||Z>=0&&(R.marker.inclusiveRight&&k.inclusiveLeft?bt(H.from,y)<=0:bt(H.from,y)<0)))return!0}}}function An(d){for(var m;m=Sl(d);)d=m.find(-1,!0).line;return d}function Hs(d){for(var m;m=Nr(d);)d=m.find(1,!0).line;return d}function uc(d){for(var m,_;m=Nr(d);)d=m.find(1,!0).line,(_||(_=[])).push(d);return _}function Dl(d,m){var _=rt(d,m),y=An(_);return _==y?m:zt(y)}function cc(d,m){if(m>d.lastLine())return m;var _=rt(d,m),y;if(!yi(d,_))return m;for(;y=Nr(_);)_=y.find(1,!0).line;return zt(_)+1}function yi(d,m){var _=In&&m.markedSpans;if(_){for(var y=void 0,k=0;k<_.length;++k)if(y=_[k],!!y.marker.collapsed){if(y.from==null)return!0;if(!y.marker.widgetNode&&y.from==0&&y.marker.inclusiveLeft&&j(d,m,y))return!0}}}function j(d,m,_){if(_.to==null){var y=_.marker.find(1,!0);return j(d,y.line,Br(y.line.markedSpans,_.marker))}if(_.marker.inclusiveRight&&_.to==m.text.length)return!0;for(var k=void 0,E=0;E<m.markedSpans.length;++E)if(k=m.markedSpans[E],k.marker.collapsed&&!k.marker.widgetNode&&k.from==_.to&&(k.to==null||k.to!=_.from)&&(k.marker.inclusiveLeft||_.marker.inclusiveRight)&&j(d,m,k))return!0}function os(d){d=An(d);for(var m=0,_=d.parent,y=0;y<_.lines.length;++y){var k=_.lines[y];if(k==d)break;m+=k.height}for(var E=_.parent;E;_=E,E=_.parent)for(var F=0;F<E.children.length;++F){var P=E.children[F];if(P==_)break;m+=P.height}return m}function $s(d){if(d.height==0)return 0;for(var m=d.text.length,_,y=d;_=Sl(y);){var k=_.find(0,!0);y=k.from.line,m+=k.from.ch-k.to.ch}for(y=d;_=Nr(y);){var E=_.find(0,!0);m-=y.text.length-E.from.ch,y=E.to.line,m+=y.text.length-E.to.ch}return m}function Vn(d){var m=d.display,_=d.doc;m.maxLine=rt(_,_.first),m.maxLineLength=$s(m.maxLine),m.maxLineChanged=!0,_.iter(function(y){var k=$s(y);k>m.maxLineLength&&(m.maxLineLength=k,m.maxLine=y)})}var Ua=function(d,m,_){this.text=d,da(this,m),this.height=_?_(this):1};Ua.prototype.lineNo=function(){return zt(this)},wt(Ua);function Lh(d,m,_,y){d.text=m,d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null),d.order!=null&&(d.order=null),as(d),da(d,_);var k=y?y(d):1;k!=d.height&&Hn(d,k)}function _s(d){d.parent=null,as(d)}var Oh={},Ph={};function dc(d,m){if(!d||/^\s*$/.test(d))return null;var _=m.addModeClass?Ph:Oh;return _[d]||(_[d]=d.replace(/\S+/g,"cm-$&"))}function hc(d,m){var _=Be("span",null,null,A?"padding-right: .1px":null),y={pre:Be("pre",[_],"CodeMirror-line"),content:_,col:0,pos:0,cm:d,trailingSpace:!1,splitSpaces:d.getOption("lineWrapping")};m.measure={};for(var k=0;k<=(m.rest?m.rest.length:0);k++){var E=k?m.rest[k-1]:m.line,F=void 0;y.pos=0,y.addToken=fc,Ha(d.display.measure)&&(F=ue(E,d.doc.direction))&&(y.addToken=Rh(y.addToken,F)),y.map=[];var P=m!=d.display.externalMeasured&&zt(E);zh(E,y,gl(d,E,P)),E.styleClasses&&(E.styleClasses.bgClass&&(y.bgClass=Qi(E.styleClasses.bgClass,y.bgClass||"")),E.styleClasses.textClass&&(y.textClass=Qi(E.styleClasses.textClass,y.textClass||""))),y.map.length==0&&y.map.push(0,0,y.content.appendChild(Ir(d.display.measure))),k==0?(m.measure.map=y.map,m.measure.cache={}):((m.measure.maps||(m.measure.maps=[])).push(y.map),(m.measure.caches||(m.measure.caches=[])).push({}))}if(A){var R=y.content.lastChild;(/\bcm-tab\b/.test(R.className)||R.querySelector&&R.querySelector(".cm-tab"))&&(y.content.className="cm-tab-wrap-hack")}return tt(d,"renderLine",d,m.line,y.pre),y.pre.className&&(y.textClass=Qi(y.pre.className,y.textClass||"")),y}function Bh(d){var m=de("span","•","cm-invalidchar");return m.title="\\u"+d.charCodeAt(0).toString(16),m.setAttribute("aria-label",m.title),m}function fc(d,m,_,y,k,E,F){if(m){var P=d.splitSpaces?Nh(m,d.trailingSpace):m,R=d.cm.state.specialChars,H=!1,Z;if(!R.test(m))d.col+=m.length,Z=document.createTextNode(P),d.map.push(d.pos,d.pos+m.length,Z),S&&T<9&&(H=!0),d.pos+=m.length;else{Z=document.createDocumentFragment();for(var ne=0;;){R.lastIndex=ne;var _e=R.exec(m),me=_e?_e.index-ne:m.length-ne;if(me){var Ae=document.createTextNode(P.slice(ne,ne+me));S&&T<9?Z.appendChild(de("span",[Ae])):Z.appendChild(Ae),d.map.push(d.pos,d.pos+me,Ae),d.col+=me,d.pos+=me}if(!_e)break;ne+=me+1;var Ne=void 0;if(_e[0]=="	"){var We=d.cm.options.tabSize,qe=We-d.col%We;Ne=Z.appendChild(de("span",Tn(qe),"cm-tab")),Ne.setAttribute("role","presentation"),Ne.setAttribute("cm-text","	"),d.col+=qe}else _e[0]=="\r"||_e[0]==`
`?(Ne=Z.appendChild(de("span",_e[0]=="\r"?"␍":"␤","cm-invalidchar")),Ne.setAttribute("cm-text",_e[0]),d.col+=1):(Ne=d.cm.options.specialCharPlaceholder(_e[0]),Ne.setAttribute("cm-text",_e[0]),S&&T<9?Z.appendChild(de("span",[Ne])):Z.appendChild(Ne),d.col+=1);d.map.push(d.pos,d.pos+1,Ne),d.pos++}}if(d.trailingSpace=P.charCodeAt(m.length-1)==32,_||y||k||H||E||F){var Je=_||"";y&&(Je+=y),k&&(Je+=k);var Ye=de("span",[Z],Je,E);if(F)for(var it in F)F.hasOwnProperty(it)&&it!="style"&&it!="class"&&Ye.setAttribute(it,F[it]);return d.content.appendChild(Ye)}d.content.appendChild(Z)}}function Nh(d,m){if(d.length>1&&!/  /.test(d))return d;for(var _=m,y="",k=0;k<d.length;k++){var E=d.charAt(k);E==" "&&_&&(k==d.length-1||d.charCodeAt(k+1)==32)&&(E=" "),y+=E,_=E==" "}return y}function Rh(d,m){return function(_,y,k,E,F,P,R){k=k?k+" cm-force-border":"cm-force-border";for(var H=_.pos,Z=H+y.length;;){for(var ne=void 0,_e=0;_e<m.length&&(ne=m[_e],!(ne.to>H&&ne.from<=H));_e++);if(ne.to>=Z)return d(_,y,k,E,F,P,R);d(_,y.slice(0,ne.to-H),k,E,null,P,R),E=null,y=y.slice(ne.to-H),H=ne.to}}}function pc(d,m,_,y){var k=!y&&_.widgetNode;k&&d.map.push(d.pos,d.pos+m,k),!y&&d.cm.display.input.needsContentAttribute&&(k||(k=d.content.appendChild(document.createElement("span"))),k.setAttribute("cm-marker",_.id)),k&&(d.cm.display.input.setUneditable(k),d.content.appendChild(k)),d.pos+=m,d.trailingSpace=!1}function zh(d,m,_){var y=d.markedSpans,k=d.text,E=0;if(!y){for(var F=1;F<_.length;F+=2)m.addToken(m,k.slice(E,E=_[F]),dc(_[F+1],m.cm.options));return}for(var P=k.length,R=0,H=1,Z="",ne,_e,me=0,Ae,Ne,We,qe,Je;;){if(me==R){Ae=Ne=We=_e="",Je=null,qe=null,me=1/0;for(var Ye=[],it=void 0,ft=0;ft<y.length;++ft){var ht=y[ft],Dt=ht.marker;if(Dt.type=="bookmark"&&ht.from==R&&Dt.widgetNode)Ye.push(Dt);else if(ht.from<=R&&(ht.to==null||ht.to>R||Dt.collapsed&&ht.to==R&&ht.from==R)){if(ht.to!=null&&ht.to!=R&&me>ht.to&&(me=ht.to,Ne=""),Dt.className&&(Ae+=" "+Dt.className),Dt.css&&(_e=(_e?_e+";":"")+Dt.css),Dt.startStyle&&ht.from==R&&(We+=" "+Dt.startStyle),Dt.endStyle&&ht.to==me&&(it||(it=[])).push(Dt.endStyle,ht.to),Dt.title&&((Je||(Je={})).title=Dt.title),Dt.attributes)for(var Gt in Dt.attributes)(Je||(Je={}))[Gt]=Dt.attributes[Gt];Dt.collapsed&&(!qe||zs(qe.marker,Dt)<0)&&(qe=ht)}else ht.from>R&&me>ht.from&&(me=ht.from)}if(it)for(var Ai=0;Ai<it.length;Ai+=2)it[Ai+1]==me&&(Ne+=" "+it[Ai]);if(!qe||qe.from==R)for(var ri=0;ri<Ye.length;++ri)pc(m,0,Ye[ri]);if(qe&&(qe.from||0)==R){if(pc(m,(qe.to==null?P+1:qe.to)-R,qe.marker,qe.from==null),qe.to==null)return;qe.to==R&&(qe=!1)}}if(R>=P)break;for(var hn=Math.min(P,me);;){if(Z){var fn=R+Z.length;if(!qe){var _i=fn>hn?Z.slice(0,hn-R):Z;m.addToken(m,_i,ne?ne+Ae:Ae,We,R+_i.length==me?Ne:"",_e,Je)}if(fn>=hn){Z=Z.slice(hn-R),R=hn;break}R=fn,We=""}Z=k.slice(E,E=_[H++]),ne=dc(_[H++],m.cm.options)}}}function Tl(d,m,_){this.line=m,this.rest=uc(m),this.size=this.rest?zt(at(this.rest))-_+1:1,this.node=this.text=null,this.hidden=yi(d,m)}function qa(d,m,_){for(var y=[],k,E=m;E<_;E=k){var F=new Tl(d.doc,rt(d.doc,E),E);k=E+F.size,y.push(F)}return y}var Ya=null;function Hh(d){Ya?Ya.ops.push(d):d.ownsGroup=Ya={ops:[d],delayedCallbacks:[]}}function $h(d){var m=d.delayedCallbacks,_=0;do{for(;_<m.length;_++)m[_].call(null);for(var y=0;y<d.ops.length;y++){var k=d.ops[y];if(k.cursorActivityHandlers)for(;k.cursorActivityCalled<k.cursorActivityHandlers.length;)k.cursorActivityHandlers[k.cursorActivityCalled++].call(null,k.cm)}}while(_<m.length)}function mc(d,m){var _=d.ownsGroup;if(_)try{$h(_)}finally{Ya=null,m(_)}}var Ga=null;function Pi(d,m){var _=Ue(d,m);if(_.length){var y=Array.prototype.slice.call(arguments,2),k;Ya?k=Ya.delayedCallbacks:Ga?k=Ga:(k=Ga=[],setTimeout(gc,0));for(var E=function(P){k.push(function(){return _[P].apply(null,y)})},F=0;F<_.length;++F)E(F)}}function gc(){var d=Ga;Ga=null;for(var m=0;m<d.length;++m)d[m]()}function Wn(d,m,_,y){for(var k=0;k<m.changes.length;k++){var E=m.changes[k];E=="text"?Ka(d,m):E=="gutter"?fa(d,m,_,y):E=="class"?El(d,m):E=="widget"&&Wh(d,m,y)}m.changes=null}function ha(d){return d.node==d.text&&(d.node=de("div",null,null,"position: relative"),d.text.parentNode&&d.text.parentNode.replaceChild(d.node,d.text),d.node.appendChild(d.text),S&&T<8&&(d.node.style.zIndex=2)),d.node}function Vh(d,m){var _=m.bgClass?m.bgClass+" "+(m.line.bgClass||""):m.line.bgClass;if(_&&(_+=" CodeMirror-linebackground"),m.background)_?m.background.className=_:(m.background.parentNode.removeChild(m.background),m.background=null);else if(_){var y=ha(m);m.background=y.insertBefore(de("div",null,_),y.firstChild),d.display.input.setUneditable(m.background)}}function Oo(d,m){var _=d.display.externalMeasured;return _&&_.line==m.line?(d.display.externalMeasured=null,m.measure=_.measure,_.built):hc(d,m)}function Ka(d,m){var _=m.text.className,y=Oo(d,m);m.text==m.node&&(m.node=y.pre),m.text.parentNode.replaceChild(y.pre,m.text),m.text=y.pre,y.bgClass!=m.bgClass||y.textClass!=m.textClass?(m.bgClass=y.bgClass,m.textClass=y.textClass,El(d,m)):_&&(m.text.className=_)}function El(d,m){Vh(d,m),m.line.wrapClass?ha(m).className=m.line.wrapClass:m.node!=m.text&&(m.node.className="");var _=m.textClass?m.textClass+" "+(m.line.textClass||""):m.line.textClass;m.text.className=_||""}function fa(d,m,_,y){if(m.gutter&&(m.node.removeChild(m.gutter),m.gutter=null),m.gutterBackground&&(m.node.removeChild(m.gutterBackground),m.gutterBackground=null),m.line.gutterClass){var k=ha(m);m.gutterBackground=de("div",null,"CodeMirror-gutter-background "+m.line.gutterClass,"left: "+(d.options.fixedGutter?y.fixedPos:-y.gutterTotalWidth)+"px; width: "+y.gutterTotalWidth+"px"),d.display.input.setUneditable(m.gutterBackground),k.insertBefore(m.gutterBackground,m.text)}var E=m.line.gutterMarkers;if(d.options.lineNumbers||E){var F=ha(m),P=m.gutter=de("div",null,"CodeMirror-gutter-wrapper","left: "+(d.options.fixedGutter?y.fixedPos:-y.gutterTotalWidth)+"px");if(P.setAttribute("aria-hidden","true"),d.display.input.setUneditable(P),F.insertBefore(P,m.text),m.line.gutterClass&&(P.className+=" "+m.line.gutterClass),d.options.lineNumbers&&(!E||!E["CodeMirror-linenumbers"])&&(m.lineNumber=P.appendChild(de("div",Eo(d.options,_),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+y.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+d.display.lineNumInnerWidth+"px"))),E)for(var R=0;R<d.display.gutterSpecs.length;++R){var H=d.display.gutterSpecs[R].className,Z=E.hasOwnProperty(H)&&E[H];Z&&P.appendChild(de("div",[Z],"CodeMirror-gutter-elt","left: "+y.gutterLeft[H]+"px; width: "+y.gutterWidth[H]+"px"))}}}function Wh(d,m,_){m.alignable&&(m.alignable=null);for(var y=Le("CodeMirror-linewidget"),k=m.node.firstChild,E=void 0;k;k=E)E=k.nextSibling,y.test(k.className)&&m.node.removeChild(k);vc(d,m,_)}function Xa(d,m,_,y){var k=Oo(d,m);return m.text=m.node=k.pre,k.bgClass&&(m.bgClass=k.bgClass),k.textClass&&(m.textClass=k.textClass),El(d,m),fa(d,m,_,y),vc(d,m,y),m.node}function vc(d,m,_){if(bc(d,m.line,m,_,!0),m.rest)for(var y=0;y<m.rest.length;y++)bc(d,m.rest[y],m,_,!1)}function bc(d,m,_,y,k){if(m.widgets)for(var E=ha(_),F=0,P=m.widgets;F<P.length;++F){var R=P[F],H=de("div",[R.node],"CodeMirror-linewidget"+(R.className?" "+R.className:""));R.handleMouseEvents||H.setAttribute("cm-ignore-events","true"),yc(R,H,_,y),d.display.input.setUneditable(H),k&&R.above?E.insertBefore(H,_.gutter||_.text):E.appendChild(H),Pi(R,"redraw")}}function yc(d,m,_,y){if(d.noHScroll){(_.alignable||(_.alignable=[])).push(m);var k=y.wrapperWidth;m.style.left=y.fixedPos+"px",d.coverGutter||(k-=y.gutterTotalWidth,m.style.paddingLeft=y.gutterTotalWidth+"px"),m.style.width=k+"px"}d.coverGutter&&(m.style.zIndex=5,m.style.position="relative",d.noHScroll||(m.style.marginLeft=-y.gutterTotalWidth+"px"))}function Ja(d){if(d.height!=null)return d.height;var m=d.doc.cm;if(!m)return 0;if(!Qe(document.body,d.node)){var _="position: relative;";d.coverGutter&&(_+="margin-left: -"+m.display.gutters.offsetWidth+"px;"),d.noHScroll&&(_+="width: "+m.display.wrapper.clientWidth+"px;"),ut(m.display.measure,de("div",[d.node],null,_))}return d.height=d.node.parentNode.offsetHeight}function xs(d,m){for(var _=en(m);_!=d.wrapper;_=_.parentNode)if(!_||_.nodeType==1&&_.getAttribute("cm-ignore-events")=="true"||_.parentNode==d.sizer&&_!=d.mover)return!0}function Po(d){return d.lineSpace.offsetTop}function Al(d){return d.mover.offsetHeight-d.lineSpace.offsetHeight}function _c(d){if(d.cachedPaddingH)return d.cachedPaddingH;var m=ut(d.measure,de("pre","x","CodeMirror-line-like")),_=window.getComputedStyle?window.getComputedStyle(m):m.currentStyle,y={left:parseInt(_.paddingLeft),right:parseInt(_.paddingRight)};return!isNaN(y.left)&&!isNaN(y.right)&&(d.cachedPaddingH=y),y}function ls(d){return Pt-d.display.nativeBarWidth}function Vs(d){return d.display.scroller.clientWidth-ls(d)-d.display.barWidth}function Ml(d){return d.display.scroller.clientHeight-ls(d)-d.display.barHeight}function Fl(d,m,_){var y=d.options.lineWrapping,k=y&&Vs(d);if(!m.measure.heights||y&&m.measure.width!=k){var E=m.measure.heights=[];if(y){m.measure.width=k;for(var F=m.text.firstChild.getClientRects(),P=0;P<F.length-1;P++){var R=F[P],H=F[P+1];Math.abs(R.bottom-H.bottom)>2&&E.push((R.bottom+H.top)/2-_.top)}}E.push(_.bottom-_.top)}}function xc(d,m,_){if(d.line==m)return{map:d.measure.map,cache:d.measure.cache};if(d.rest){for(var y=0;y<d.rest.length;y++)if(d.rest[y]==m)return{map:d.measure.maps[y],cache:d.measure.caches[y]};for(var k=0;k<d.rest.length;k++)if(zt(d.rest[k])>_)return{map:d.measure.maps[k],cache:d.measure.caches[k],before:!0}}}function jh(d,m){m=An(m);var _=zt(m),y=d.display.externalMeasured=new Tl(d.doc,m,_);y.lineN=_;var k=y.built=hc(d,y);return y.text=k.pre,ut(d.display.lineMeasure,k.pre),y}function Cc(d,m,_,y){return us(d,Za(d,m),_,y)}function Il(d,m){if(m>=d.display.viewFrom&&m<d.display.viewTo)return d.display.view[ga(d,m)];var _=d.display.externalMeasured;if(_&&m>=_.lineN&&m<_.lineN+_.size)return _}function Za(d,m){var _=zt(m),y=Il(d,_);y&&!y.text?y=null:y&&y.changes&&(Wn(d,y,_,jn(d)),d.curOp.forceUpdate=!0),y||(y=jh(d,m));var k=xc(y,m,_);return{line:m,view:y,rect:null,map:k.map,cache:k.cache,before:k.before,hasHeights:!1}}function us(d,m,_,y,k){m.before&&(_=-1);var E=_+(y||""),F;return m.cache.hasOwnProperty(E)?F=m.cache[E]:(m.rect||(m.rect=m.view.text.getBoundingClientRect()),m.hasHeights||(Fl(d,m.view,m.rect),m.hasHeights=!0),F=Uh(d,m,_,y),F.bogus||(m.cache[E]=F)),{left:F.left,right:F.right,top:k?F.rtop:F.top,bottom:k?F.rbottom:F.bottom}}var wc={left:0,right:0,top:0,bottom:0};function kc(d,m,_){for(var y,k,E,F,P,R,H=0;H<d.length;H+=3)if(P=d[H],R=d[H+1],m<P?(k=0,E=1,F="left"):m<R?(k=m-P,E=k+1):(H==d.length-3||m==R&&d[H+3]>m)&&(E=R-P,k=E-1,m>=R&&(F="right")),k!=null){if(y=d[H+2],P==R&&_==(y.insertLeft?"left":"right")&&(F=_),_=="left"&&k==0)for(;H&&d[H-2]==d[H-3]&&d[H-1].insertLeft;)y=d[(H-=3)+2],F="left";if(_=="right"&&k==R-P)for(;H<d.length-3&&d[H+3]==d[H+4]&&!d[H+5].insertLeft;)y=d[(H+=3)+2],F="right";break}return{node:y,start:k,end:E,collapse:F,coverStart:P,coverEnd:R}}function pa(d,m){var _=wc;if(m=="left")for(var y=0;y<d.length&&(_=d[y]).left==_.right;y++);else for(var k=d.length-1;k>=0&&(_=d[k]).left==_.right;k--);return _}function Uh(d,m,_,y){var k=kc(m.map,_,y),E=k.node,F=k.start,P=k.end,R=k.collapse,H;if(E.nodeType==3){for(var Z=0;Z<4;Z++){for(;F&&L(m.line.text.charAt(k.coverStart+F));)--F;for(;k.coverStart+P<k.coverEnd&&L(m.line.text.charAt(k.coverStart+P));)++P;if(S&&T<9&&F==0&&P==k.coverEnd-k.coverStart?H=E.parentNode.getBoundingClientRect():H=pa(Pe(E,F,P).getClientRects(),y),H.left||H.right||F==0)break;P=F,F=F-1,R="right"}S&&T<11&&(H=qh(d.display.measure,H))}else{F>0&&(R=y="right");var ne;d.options.lineWrapping&&(ne=E.getClientRects()).length>1?H=ne[y=="right"?ne.length-1:0]:H=E.getBoundingClientRect()}if(S&&T<9&&!F&&(!H||!H.left&&!H.right)){var _e=E.parentNode.getClientRects()[0];_e?H={left:_e.left,right:_e.left+er(d.display),top:_e.top,bottom:_e.bottom}:H=wc}for(var me=H.top-m.rect.top,Ae=H.bottom-m.rect.top,Ne=(me+Ae)/2,We=m.view.measure.heights,qe=0;qe<We.length-1&&!(Ne<We[qe]);qe++);var Je=qe?We[qe-1]:0,Ye=We[qe],it={left:(R=="right"?H.right:H.left)-m.rect.left,right:(R=="left"?H.left:H.right)-m.rect.left,top:Je,bottom:Ye};return!H.left&&!H.right&&(it.bogus=!0),d.options.singleCursorHeightPerLine||(it.rtop=me,it.rbottom=Ae),it}function qh(d,m){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!En(d))return m;var _=screen.logicalXDPI/screen.deviceXDPI,y=screen.logicalYDPI/screen.deviceYDPI;return{left:m.left*_,right:m.right*_,top:m.top*y,bottom:m.bottom*y}}function Sc(d){if(d.measure&&(d.measure.cache={},d.measure.heights=null,d.rest))for(var m=0;m<d.rest.length;m++)d.measure.caches[m]={}}function Dc(d){d.display.externalMeasure=null,st(d.display.lineMeasure);for(var m=0;m<d.display.view.length;m++)Sc(d.display.view[m])}function Rr(d){Dc(d),d.display.cachedCharWidth=d.display.cachedTextHeight=d.display.cachedPaddingH=null,d.options.lineWrapping||(d.display.maxLineChanged=!0),d.display.lineNumChars=null}function Tc(d){return N&&le?-(d.body.getBoundingClientRect().left-parseInt(getComputedStyle(d.body).marginLeft)):d.defaultView.pageXOffset||(d.documentElement||d.body).scrollLeft}function Ec(d){return N&&le?-(d.body.getBoundingClientRect().top-parseInt(getComputedStyle(d.body).marginTop)):d.defaultView.pageYOffset||(d.documentElement||d.body).scrollTop}function Ll(d){var m=An(d),_=m.widgets,y=0;if(_)for(var k=0;k<_.length;++k)_[k].above&&(y+=Ja(_[k]));return y}function Bo(d,m,_,y,k){if(!k){var E=Ll(m);_.top+=E,_.bottom+=E}if(y=="line")return _;y||(y="local");var F=os(m);if(y=="local"?F+=Po(d.display):F-=d.display.viewOffset,y=="page"||y=="window"){var P=d.display.lineSpace.getBoundingClientRect();F+=P.top+(y=="window"?0:Ec(V(d)));var R=P.left+(y=="window"?0:Tc(V(d)));_.left+=R,_.right+=R}return _.top+=F,_.bottom+=F,_}function Ac(d,m,_){if(_=="div")return m;var y=m.left,k=m.top;if(_=="page")y-=Tc(V(d)),k-=Ec(V(d));else if(_=="local"||!_){var E=d.display.sizer.getBoundingClientRect();y+=E.left,k+=E.top}var F=d.display.lineSpace.getBoundingClientRect();return{left:y-F.left,top:k-F.top}}function zr(d,m,_,y,k){return y||(y=rt(d.doc,m.line)),Bo(d,y,Cc(d,y,m.ch,k),_)}function qt(d,m,_,y,k,E){y=y||rt(d.doc,m.line),k||(k=Za(d,y));function F(Ae,Ne){var We=us(d,k,Ae,Ne?"right":"left",E);return Ne?We.left=We.right:We.right=We.left,Bo(d,y,We,_)}var P=ue(y,d.doc.direction),R=m.ch,H=m.sticky;if(R>=y.text.length?(R=y.text.length,H="before"):R<=0&&(R=0,H="after"),!P)return F(H=="before"?R-1:R,H=="before");function Z(Ae,Ne,We){var qe=P[Ne],Je=qe.level==1;return F(We?Ae-1:Ae,Je!=We)}var ne=Ce(P,R,H),_e=he,me=Z(R,ne,H=="before");return _e!=null&&(me.other=Z(R,_e,H!="before")),me}function Hr(d,m){var _=0;m=Ct(d.doc,m),d.options.lineWrapping||(_=er(d.display)*m.ch);var y=rt(d.doc,m.line),k=os(y)+Po(d.display);return{left:_,right:_,top:k,bottom:k+y.height}}function Qa(d,m,_,y,k){var E=$e(d,m,_);return E.xRel=k,y&&(E.outside=y),E}function xn(d,m,_){var y=d.doc;if(_+=d.display.viewOffset,_<0)return Qa(y.first,0,null,-1,-1);var k=Ns(y,_),E=y.first+y.size-1;if(k>E)return Qa(y.first+y.size-1,rt(y,E).text.length,null,1,1);m<0&&(m=0);for(var F=rt(y,k);;){var P=Ol(d,F,k,m,_),R=Ih(F,P.ch+(P.xRel>0||P.outside>0?1:0));if(!R)return P;var H=R.find(1);if(H.line==k)return H;F=rt(y,k=H.line)}}function ma(d,m,_,y){y-=Ll(m);var k=m.text.length,E=ee(function(F){return us(d,_,F-1).bottom<=y},k,0);return k=ee(function(F){return us(d,_,F).top>y},E,k),{begin:E,end:k}}function $r(d,m,_,y){_||(_=Za(d,m));var k=Bo(d,m,us(d,_,y),"line").top;return ma(d,m,_,k)}function Ws(d,m,_,y){return d.bottom<=_?!1:d.top>_?!0:(y?d.left:d.right)>m}function Ol(d,m,_,y,k){k-=os(m);var E=Za(d,m),F=Ll(m),P=0,R=m.text.length,H=!0,Z=ue(m,d.doc.direction);if(Z){var ne=(d.options.lineWrapping?Mc:Yh)(d,m,_,E,Z,y,k);H=ne.level!=1,P=H?ne.from:ne.to-1,R=H?ne.to:ne.from-1}var _e=null,me=null,Ae=ee(function(ft){var ht=us(d,E,ft);return ht.top+=F,ht.bottom+=F,Ws(ht,y,k,!1)?(ht.top<=k&&ht.left<=y&&(_e=ft,me=ht),!0):!1},P,R),Ne,We,qe=!1;if(me){var Je=y-me.left<me.right-y,Ye=Je==H;Ae=_e+(Ye?0:1),We=Ye?"after":"before",Ne=Je?me.left:me.right}else{!H&&(Ae==R||Ae==P)&&Ae++,We=Ae==0?"after":Ae==m.text.length?"before":us(d,E,Ae-(H?1:0)).bottom+F<=k==H?"after":"before";var it=qt(d,$e(_,Ae,We),"line",m,E);Ne=it.left,qe=k<it.top?-1:k>=it.bottom?1:0}return Ae=z(m.text,Ae,1),Qa(_,Ae,We,qe,y-Ne)}function Yh(d,m,_,y,k,E,F){var P=ee(function(ne){var _e=k[ne],me=_e.level!=1;return Ws(qt(d,$e(_,me?_e.to:_e.from,me?"before":"after"),"line",m,y),E,F,!0)},0,k.length-1),R=k[P];if(P>0){var H=R.level!=1,Z=qt(d,$e(_,H?R.from:R.to,H?"after":"before"),"line",m,y);Ws(Z,E,F,!0)&&Z.top>F&&(R=k[P-1])}return R}function Mc(d,m,_,y,k,E,F){var P=ma(d,m,y,F),R=P.begin,H=P.end;/\s/.test(m.text.charAt(H-1))&&H--;for(var Z=null,ne=null,_e=0;_e<k.length;_e++){var me=k[_e];if(!(me.from>=H||me.to<=R)){var Ae=me.level!=1,Ne=us(d,y,Ae?Math.min(H,me.to)-1:Math.max(R,me.from)).right,We=Ne<E?E-Ne+1e9:Ne-E;(!Z||ne>We)&&(Z=me,ne=We)}}return Z||(Z=k[k.length-1]),Z.from<R&&(Z={from:R,to:Z.to,level:Z.level}),Z.to>H&&(Z={from:Z.from,to:H,level:Z.level}),Z}var Yt;function Cs(d){if(d.cachedTextHeight!=null)return d.cachedTextHeight;if(Yt==null){Yt=de("pre",null,"CodeMirror-line-like");for(var m=0;m<49;++m)Yt.appendChild(document.createTextNode("x")),Yt.appendChild(de("br"));Yt.appendChild(document.createTextNode("x"))}ut(d.measure,Yt);var _=Yt.offsetHeight/50;return _>3&&(d.cachedTextHeight=_),st(d.measure),_||1}function er(d){if(d.cachedCharWidth!=null)return d.cachedCharWidth;var m=de("span","xxxxxxxxxx"),_=de("pre",[m],"CodeMirror-line-like");ut(d.measure,_);var y=m.getBoundingClientRect(),k=(y.right-y.left)/10;return k>2&&(d.cachedCharWidth=k),k||10}function jn(d){for(var m=d.display,_={},y={},k=m.gutters.clientLeft,E=m.gutters.firstChild,F=0;E;E=E.nextSibling,++F){var P=d.display.gutterSpecs[F].className;_[P]=E.offsetLeft+E.clientLeft+k,y[P]=E.clientWidth}return{fixedPos:Cn(m),gutterTotalWidth:m.gutters.offsetWidth,gutterLeft:_,gutterWidth:y,wrapperWidth:m.wrapper.clientWidth}}function Cn(d){return d.scroller.getBoundingClientRect().left-d.sizer.getBoundingClientRect().left}function wn(d){var m=Cs(d.display),_=d.options.lineWrapping,y=_&&Math.max(5,d.display.scroller.clientWidth/er(d.display)-3);return function(k){if(yi(d.doc,k))return 0;var E=0;if(k.widgets)for(var F=0;F<k.widgets.length;F++)k.widgets[F].height&&(E+=k.widgets[F].height);return _?E+(Math.ceil(k.text.length/y)||1)*m:E+m}}function No(d){var m=d.doc,_=wn(d);m.iter(function(y){var k=_(y);k!=y.height&&Hn(y,k)})}function js(d,m,_,y){var k=d.display;if(!_&&en(m).getAttribute("cm-not-content")=="true")return null;var E,F,P=k.lineSpace.getBoundingClientRect();try{E=m.clientX-P.left,F=m.clientY-P.top}catch{return null}var R=xn(d,E,F),H;if(y&&R.xRel>0&&(H=rt(d.doc,R.line).text).length==R.ch){var Z=Vt(H,H.length,d.options.tabSize)-H.length;R=$e(R.line,Math.max(0,Math.round((E-_c(d.display).left)/er(d.display))-Z))}return R}function ga(d,m){if(m>=d.display.viewTo||(m-=d.display.viewFrom,m<0))return null;for(var _=d.display.view,y=0;y<_.length;y++)if(m-=_[y].size,m<0)return y}function Bi(d,m,_,y){m==null&&(m=d.doc.first),_==null&&(_=d.doc.first+d.doc.size),y||(y=0);var k=d.display;if(y&&_<k.viewTo&&(k.updateLineNumbers==null||k.updateLineNumbers>m)&&(k.updateLineNumbers=m),d.curOp.viewChanged=!0,m>=k.viewTo)In&&Dl(d.doc,m)<k.viewTo&&cs(d);else if(_<=k.viewFrom)In&&cc(d.doc,_+y)>k.viewFrom?cs(d):(k.viewFrom+=y,k.viewTo+=y);else if(m<=k.viewFrom&&_>=k.viewTo)cs(d);else if(m<=k.viewFrom){var E=Vr(d,_,_+y,1);E?(k.view=k.view.slice(E.index),k.viewFrom=E.lineN,k.viewTo+=y):cs(d)}else if(_>=k.viewTo){var F=Vr(d,m,m,-1);F?(k.view=k.view.slice(0,F.index),k.viewTo=F.lineN):cs(d)}else{var P=Vr(d,m,m,-1),R=Vr(d,_,_+y,1);P&&R?(k.view=k.view.slice(0,P.index).concat(qa(d,P.lineN,R.lineN)).concat(k.view.slice(R.index)),k.viewTo+=y):cs(d)}var H=k.externalMeasured;H&&(_<H.lineN?H.lineN+=y:m<H.lineN+H.size&&(k.externalMeasured=null))}function Us(d,m,_){d.curOp.viewChanged=!0;var y=d.display,k=d.display.externalMeasured;if(k&&m>=k.lineN&&m<k.lineN+k.size&&(y.externalMeasured=null),!(m<y.viewFrom||m>=y.viewTo)){var E=y.view[ga(d,m)];if(E.node!=null){var F=E.changes||(E.changes=[]);St(F,_)==-1&&F.push(_)}}}function cs(d){d.display.viewFrom=d.display.viewTo=d.doc.first,d.display.view=[],d.display.viewOffset=0}function Vr(d,m,_,y){var k=ga(d,m),E,F=d.display.view;if(!In||_==d.doc.first+d.doc.size)return{index:k,lineN:_};for(var P=d.display.viewFrom,R=0;R<k;R++)P+=F[R].size;if(P!=m){if(y>0){if(k==F.length-1)return null;E=P+F[k].size-m,k++}else E=P-m;m+=E,_+=E}for(;Dl(d.doc,_)!=_;){if(k==(y<0?0:F.length-1))return null;_+=y*F[k-(y<0?1:0)].size,k+=y}return{index:k,lineN:_}}function tr(d,m,_){var y=d.display,k=y.view;k.length==0||m>=y.viewTo||_<=y.viewFrom?(y.view=qa(d,m,_),y.viewFrom=m):(y.viewFrom>m?y.view=qa(d,m,y.viewFrom).concat(y.view):y.viewFrom<m&&(y.view=y.view.slice(ga(d,m))),y.viewFrom=m,y.viewTo<_?y.view=y.view.concat(qa(d,y.viewTo,_)):y.viewTo>_&&(y.view=y.view.slice(0,ga(d,_)))),y.viewTo=_}function ir(d){for(var m=d.display.view,_=0,y=0;y<m.length;y++){var k=m[y];!k.hidden&&(!k.node||k.changes)&&++_}return _}function Un(d){d.display.input.showSelection(d.display.input.prepareSelection())}function nr(d,m){m===void 0&&(m=!0);var _=d.doc,y={},k=y.cursors=document.createDocumentFragment(),E=y.selection=document.createDocumentFragment(),F=d.options.$customCursor;F&&(m=!0);for(var P=0;P<_.sel.ranges.length;P++)if(!(!m&&P==_.sel.primIndex)){var R=_.sel.ranges[P];if(!(R.from().line>=d.display.viewTo||R.to().line<d.display.viewFrom)){var H=R.empty();if(F){var Z=F(d,R);Z&&ds(d,Z,k)}else(H||d.options.showCursorWhenSelecting)&&ds(d,R.head,k);H||Wr(d,R,E)}}return y}function ds(d,m,_){var y=qt(d,m,"div",null,null,!d.options.singleCursorHeightPerLine),k=_.appendChild(de("div"," ","CodeMirror-cursor"));if(k.style.left=y.left+"px",k.style.top=y.top+"px",k.style.height=Math.max(0,y.bottom-y.top)*d.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(d.getWrapperElement().className)){var E=zr(d,m,"div",null,null),F=E.right-E.left;k.style.width=(F>0?F:d.defaultCharWidth())+"px"}if(y.other){var P=_.appendChild(de("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));P.style.display="",P.style.left=y.other.left+"px",P.style.top=y.other.top+"px",P.style.height=(y.other.bottom-y.other.top)*.85+"px"}}function qs(d,m){return d.top-m.top||d.left-m.left}function Wr(d,m,_){var y=d.display,k=d.doc,E=document.createDocumentFragment(),F=_c(d.display),P=F.left,R=Math.max(y.sizerWidth,Vs(d)-y.sizer.offsetLeft)-F.right,H=k.direction=="ltr";function Z(Ye,it,ft,ht){it<0&&(it=0),it=Math.round(it),ht=Math.round(ht),E.appendChild(de("div",null,"CodeMirror-selected","position: absolute; left: "+Ye+`px;
                             top: `+it+"px; width: "+(ft??R-Ye)+`px;
                             height: `+(ht-it)+"px"))}function ne(Ye,it,ft){var ht=rt(k,Ye),Dt=ht.text.length,Gt,Ai;function ri(_i,pn){return zr(d,$e(Ye,_i),"div",ht,pn)}function hn(_i,pn,Ni){var Mi=$r(d,ht,null,_i),xi=pn=="ltr"==(Ni=="after")?"left":"right",ui=Ni=="after"?Mi.begin:Mi.end-(/\s/.test(ht.text.charAt(Mi.end-1))?2:1);return ri(ui,xi)[xi]}var fn=ue(ht,k.direction);return oe(fn,it||0,ft??Dt,function(_i,pn,Ni,Mi){var xi=Ni=="ltr",ui=ri(_i,xi?"left":"right"),an=ri(pn-1,xi?"right":"left"),Ta=it==null&&_i==0,Es=ft==null&&pn==Dt,Xi=Mi==0,fs=!fn||Mi==fn.length-1;if(an.top-ui.top<=3){var Ri=(H?Ta:Es)&&Xi,il=(H?Es:Ta)&&fs,As=Ri?P:(xi?ui:an).left,Zs=il?R:(xi?an:ui).right;Z(As,ui.top,Zs-As,ui.bottom)}else{var Ea,Ji,Cr,nl;xi?(Ea=H&&Ta&&Xi?P:ui.left,Ji=H?R:hn(_i,Ni,"before"),Cr=H?P:hn(pn,Ni,"after"),nl=H&&Es&&fs?R:an.right):(Ea=H?hn(_i,Ni,"before"):P,Ji=!H&&Ta&&Xi?R:ui.right,Cr=!H&&Es&&fs?P:an.left,nl=H?hn(pn,Ni,"after"):R),Z(Ea,ui.top,Ji-Ea,ui.bottom),ui.bottom<an.top&&Z(P,ui.bottom,null,an.top),Z(Cr,an.top,nl-Cr,an.bottom)}(!Gt||qs(ui,Gt)<0)&&(Gt=ui),qs(an,Gt)<0&&(Gt=an),(!Ai||qs(ui,Ai)<0)&&(Ai=ui),qs(an,Ai)<0&&(Ai=an)}),{start:Gt,end:Ai}}var _e=m.from(),me=m.to();if(_e.line==me.line)ne(_e.line,_e.ch,me.ch);else{var Ae=rt(k,_e.line),Ne=rt(k,me.line),We=An(Ae)==An(Ne),qe=ne(_e.line,_e.ch,We?Ae.text.length+1:null).end,Je=ne(me.line,We?0:null,me.ch).start;We&&(qe.top<Je.top-2?(Z(qe.right,qe.top,null,qe.bottom),Z(P,Je.top,Je.left,Je.bottom)):Z(qe.right,qe.top,Je.left-qe.right,qe.bottom)),qe.bottom<Je.top&&Z(P,qe.bottom,null,Je.top)}_.appendChild(E)}function kn(d){if(d.state.focused){var m=d.display;clearInterval(m.blinker);var _=!0;m.cursorDiv.style.visibility="",d.options.cursorBlinkRate>0?m.blinker=setInterval(function(){d.hasFocus()||ws(d),m.cursorDiv.style.visibility=(_=!_)?"":"hidden"},d.options.cursorBlinkRate):d.options.cursorBlinkRate<0&&(m.cursorDiv.style.visibility="hidden")}}function qn(d){d.hasFocus()||(d.display.input.focus(),d.state.focused||zo(d))}function Ro(d){d.state.delayingBlurEvent=!0,setTimeout(function(){d.state.delayingBlurEvent&&(d.state.delayingBlurEvent=!1,d.state.focused&&ws(d))},100)}function zo(d,m){d.state.delayingBlurEvent&&!d.state.draggingText&&(d.state.delayingBlurEvent=!1),d.options.readOnly!="nocursor"&&(d.state.focused||(tt(d,"focus",d,m),d.state.focused=!0,Ht(d.display.wrapper,"CodeMirror-focused"),!d.curOp&&d.display.selForContextMenu!=d.doc.sel&&(d.display.input.reset(),A&&setTimeout(function(){return d.display.input.reset(!0)},20)),d.display.input.receivedFocus()),kn(d))}function ws(d,m){d.state.delayingBlurEvent||(d.state.focused&&(tt(d,"blur",d,m),d.state.focused=!1,Ge(d.display.wrapper,"CodeMirror-focused")),clearInterval(d.display.blinker),setTimeout(function(){d.state.focused||(d.display.shift=!1)},150))}function va(d){for(var m=d.display,_=m.lineDiv.offsetTop,y=Math.max(0,m.scroller.getBoundingClientRect().top),k=m.lineDiv.getBoundingClientRect().top,E=0,F=0;F<m.view.length;F++){var P=m.view[F],R=d.options.lineWrapping,H=void 0,Z=0;if(!P.hidden){if(k+=P.line.height,S&&T<8){var ne=P.node.offsetTop+P.node.offsetHeight;H=ne-_,_=ne}else{var _e=P.node.getBoundingClientRect();H=_e.bottom-_e.top,!R&&P.text.firstChild&&(Z=P.text.firstChild.getBoundingClientRect().right-_e.left-1)}var me=P.line.height-H;if((me>.005||me<-.005)&&(k<y&&(E-=me),Hn(P.line,H),Ln(P.line),P.rest))for(var Ae=0;Ae<P.rest.length;Ae++)Ln(P.rest[Ae]);if(Z>d.display.sizerWidth){var Ne=Math.ceil(Z/er(d.display));Ne>d.display.maxLineLength&&(d.display.maxLineLength=Ne,d.display.maxLine=P.line,d.display.maxLineChanged=!0)}}}Math.abs(E)>2&&(m.scroller.scrollTop+=E)}function Ln(d){if(d.widgets)for(var m=0;m<d.widgets.length;++m){var _=d.widgets[m],y=_.node.parentNode;y&&(_.height=y.offsetHeight)}}function Yn(d,m,_){var y=_&&_.top!=null?Math.max(0,_.top):d.scroller.scrollTop;y=Math.floor(y-Po(d));var k=_&&_.bottom!=null?_.bottom:y+d.wrapper.clientHeight,E=Ns(m,y),F=Ns(m,k);if(_&&_.ensure){var P=_.ensure.from.line,R=_.ensure.to.line;P<E?(E=P,F=Ns(m,os(rt(m,P))+d.wrapper.clientHeight)):Math.min(R,m.lastLine())>=F&&(E=Ns(m,os(rt(m,R))-d.wrapper.clientHeight),F=R)}return{from:E,to:Math.max(F,E+1)}}function Gh(d,m){if(!je(d,"scrollCursorIntoView")){var _=d.display,y=_.sizer.getBoundingClientRect(),k=null,E=_.wrapper.ownerDocument;if(m.top+y.top<0?k=!0:m.bottom+y.top>(E.defaultView.innerHeight||E.documentElement.clientHeight)&&(k=!1),k!=null&&!J){var F=de("div","​",null,`position: absolute;
                         top: `+(m.top-_.viewOffset-Po(d.display))+`px;
                         height: `+(m.bottom-m.top+ls(d)+_.barHeight)+`px;
                         left: `+m.left+"px; width: "+Math.max(2,m.right-m.left)+"px;");d.display.lineSpace.appendChild(F),F.scrollIntoView(k),d.display.lineSpace.removeChild(F)}}}function Kh(d,m,_,y){y==null&&(y=0);var k;!d.options.lineWrapping&&m==_&&(_=m.sticky=="before"?$e(m.line,m.ch+1,"before"):m,m=m.ch?$e(m.line,m.sticky=="before"?m.ch-1:m.ch,"after"):m);for(var E=0;E<5;E++){var F=!1,P=qt(d,m),R=!_||_==m?P:qt(d,_);k={left:Math.min(P.left,R.left),top:Math.min(P.top,R.top)-y,right:Math.max(P.left,R.left),bottom:Math.max(P.bottom,R.bottom)+y};var H=jr(d,k),Z=d.doc.scrollTop,ne=d.doc.scrollLeft;if(H.scrollTop!=null&&(ar(d,H.scrollTop),Math.abs(d.doc.scrollTop-Z)>1&&(F=!0)),H.scrollLeft!=null&&(ks(d,H.scrollLeft),Math.abs(d.doc.scrollLeft-ne)>1&&(F=!0)),!F)break}return k}function Pl(d,m){var _=jr(d,m);_.scrollTop!=null&&ar(d,_.scrollTop),_.scrollLeft!=null&&ks(d,_.scrollLeft)}function jr(d,m){var _=d.display,y=Cs(d.display);m.top<0&&(m.top=0);var k=d.curOp&&d.curOp.scrollTop!=null?d.curOp.scrollTop:_.scroller.scrollTop,E=Ml(d),F={};m.bottom-m.top>E&&(m.bottom=m.top+E);var P=d.doc.height+Al(_),R=m.top<y,H=m.bottom>P-y;if(m.top<k)F.scrollTop=R?0:m.top;else if(m.bottom>k+E){var Z=Math.min(m.top,(H?P:m.bottom)-E);Z!=k&&(F.scrollTop=Z)}var ne=d.options.fixedGutter?0:_.gutters.offsetWidth,_e=d.curOp&&d.curOp.scrollLeft!=null?d.curOp.scrollLeft:_.scroller.scrollLeft-ne,me=Vs(d)-_.gutters.offsetWidth,Ae=m.right-m.left>me;return Ae&&(m.right=m.left+me),m.left<10?F.scrollLeft=0:m.left<_e?F.scrollLeft=Math.max(0,m.left+ne-(Ae?0:10)):m.right>me+_e-3&&(F.scrollLeft=m.right+(Ae?0:10)-me),F}function sr(d,m){m!=null&&(Ur(d),d.curOp.scrollTop=(d.curOp.scrollTop==null?d.doc.scrollTop:d.curOp.scrollTop)+m)}function ba(d){Ur(d);var m=d.getCursor();d.curOp.scrollToPos={from:m,to:m,margin:d.options.cursorScrollMargin}}function Gn(d,m,_){(m!=null||_!=null)&&Ur(d),m!=null&&(d.curOp.scrollLeft=m),_!=null&&(d.curOp.scrollTop=_)}function Fc(d,m){Ur(d),d.curOp.scrollToPos=m}function Ur(d){var m=d.curOp.scrollToPos;if(m){d.curOp.scrollToPos=null;var _=Hr(d,m.from),y=Hr(d,m.to);Bl(d,_,y,m.margin)}}function Bl(d,m,_,y){var k=jr(d,{left:Math.min(m.left,_.left),top:Math.min(m.top,_.top)-y,right:Math.max(m.right,_.right),bottom:Math.max(m.bottom,_.bottom)+y});Gn(d,k.scrollLeft,k.scrollTop)}function ar(d,m){Math.abs(d.doc.scrollTop-m)<2||(f||$l(d,{top:m}),Nl(d,m,!0),f&&$l(d),or(d,100))}function Nl(d,m,_){m=Math.max(0,Math.min(d.display.scroller.scrollHeight-d.display.scroller.clientHeight,m)),!(d.display.scroller.scrollTop==m&&!_)&&(d.doc.scrollTop=m,d.display.scrollbars.setScrollTop(m),d.display.scroller.scrollTop!=m&&(d.display.scroller.scrollTop=m))}function ks(d,m,_,y){m=Math.max(0,Math.min(m,d.display.scroller.scrollWidth-d.display.scroller.clientWidth)),!((_?m==d.doc.scrollLeft:Math.abs(d.doc.scrollLeft-m)<2)&&!y)&&(d.doc.scrollLeft=m,jl(d),d.display.scroller.scrollLeft!=m&&(d.display.scroller.scrollLeft=m),d.display.scrollbars.setScrollLeft(m))}function tn(d){var m=d.display,_=m.gutters.offsetWidth,y=Math.round(d.doc.height+Al(d.display));return{clientHeight:m.scroller.clientHeight,viewHeight:m.wrapper.clientHeight,scrollWidth:m.scroller.scrollWidth,clientWidth:m.scroller.clientWidth,viewWidth:m.wrapper.clientWidth,barLeft:d.options.fixedGutter?_:0,docHeight:y,scrollHeight:y+ls(d)+m.barHeight,nativeBarWidth:m.nativeBarWidth,gutterWidth:_}}var nn=function(d,m,_){this.cm=_;var y=this.vert=de("div",[de("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),k=this.horiz=de("div",[de("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");y.tabIndex=k.tabIndex=-1,d(y),d(k),ve(y,"scroll",function(){y.clientHeight&&m(y.scrollTop,"vertical")}),ve(k,"scroll",function(){k.clientWidth&&m(k.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&T<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};nn.prototype.update=function(d){var m=d.scrollWidth>d.clientWidth+1,_=d.scrollHeight>d.clientHeight+1,y=d.nativeBarWidth;if(_){this.vert.style.display="block",this.vert.style.bottom=m?y+"px":"0";var k=d.viewHeight-(m?y:0);this.vert.firstChild.style.height=Math.max(0,d.scrollHeight-d.clientHeight+k)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(m){this.horiz.style.display="block",this.horiz.style.right=_?y+"px":"0",this.horiz.style.left=d.barLeft+"px";var E=d.viewWidth-d.barLeft-(_?y:0);this.horiz.firstChild.style.width=Math.max(0,d.scrollWidth-d.clientWidth+E)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&d.clientHeight>0&&(y==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:_?y:0,bottom:m?y:0}},nn.prototype.setScrollLeft=function(d){this.horiz.scrollLeft!=d&&(this.horiz.scrollLeft=d),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},nn.prototype.setScrollTop=function(d){this.vert.scrollTop!=d&&(this.vert.scrollTop=d),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},nn.prototype.zeroWidthHack=function(){var d=ae&&!te?"12px":"18px";this.horiz.style.height=this.vert.style.width=d,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Rt,this.disableVert=new Rt},nn.prototype.enableZeroWidthBar=function(d,m,_){d.style.visibility="";function y(){var k=d.getBoundingClientRect(),E=_=="vert"?document.elementFromPoint(k.right-1,(k.top+k.bottom)/2):document.elementFromPoint((k.right+k.left)/2,k.bottom-1);E!=d?d.style.visibility="hidden":m.set(1e3,y)}m.set(1e3,y)},nn.prototype.clear=function(){var d=this.horiz.parentNode;d.removeChild(this.horiz),d.removeChild(this.vert)};var si=function(){};si.prototype.update=function(){return{bottom:0,right:0}},si.prototype.setScrollLeft=function(){},si.prototype.setScrollTop=function(){},si.prototype.clear=function(){};function Mn(d,m){m||(m=tn(d));var _=d.display.barWidth,y=d.display.barHeight;ya(d,m);for(var k=0;k<4&&_!=d.display.barWidth||y!=d.display.barHeight;k++)_!=d.display.barWidth&&d.options.lineWrapping&&va(d),ya(d,tn(d)),_=d.display.barWidth,y=d.display.barHeight}function ya(d,m){var _=d.display,y=_.scrollbars.update(m);_.sizer.style.paddingRight=(_.barWidth=y.right)+"px",_.sizer.style.paddingBottom=(_.barHeight=y.bottom)+"px",_.heightForcer.style.borderBottom=y.bottom+"px solid transparent",y.right&&y.bottom?(_.scrollbarFiller.style.display="block",_.scrollbarFiller.style.height=y.bottom+"px",_.scrollbarFiller.style.width=y.right+"px"):_.scrollbarFiller.style.display="",y.bottom&&d.options.coverGutterNextToScrollbar&&d.options.fixedGutter?(_.gutterFiller.style.display="block",_.gutterFiller.style.height=y.bottom+"px",_.gutterFiller.style.width=m.gutterWidth+"px"):_.gutterFiller.style.display=""}var Ss={native:nn,null:si};function _a(d){d.display.scrollbars&&(d.display.scrollbars.clear(),d.display.scrollbars.addClass&&Ge(d.display.wrapper,d.display.scrollbars.addClass)),d.display.scrollbars=new Ss[d.options.scrollbarStyle](function(m){d.display.wrapper.insertBefore(m,d.display.scrollbarFiller),ve(m,"mousedown",function(){d.state.focused&&setTimeout(function(){return d.display.input.focus()},0)}),m.setAttribute("cm-not-content","true")},function(m,_){_=="horizontal"?ks(d,m):ar(d,m)},d),d.display.scrollbars.addClass&&Ht(d.display.wrapper,d.display.scrollbars.addClass)}var qr=0;function Ys(d){d.curOp={cm:d,viewChanged:!1,startHeight:d.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qr,markArrays:null},Hh(d.curOp)}function Gs(d){var m=d.curOp;m&&mc(m,function(_){for(var y=0;y<_.ops.length;y++)_.ops[y].cm.curOp=null;xa(_)})}function xa(d){for(var m=d.ops,_=0;_<m.length;_++)Ic(m[_]);for(var y=0;y<m.length;y++)sn(m[y]);for(var k=0;k<m.length;k++)Rl(m[k]);for(var E=0;E<m.length;E++)Lc(m[E]);for(var F=0;F<m.length;F++)rr(m[F])}function Ic(d){var m=d.cm,_=m.display;zl(m),d.updateMaxLine&&Vn(m),d.mustUpdate=d.viewChanged||d.forceUpdate||d.scrollTop!=null||d.scrollToPos&&(d.scrollToPos.from.line<_.viewFrom||d.scrollToPos.to.line>=_.viewTo)||_.maxLineChanged&&m.options.lineWrapping,d.update=d.mustUpdate&&new Ca(m,d.mustUpdate&&{top:d.scrollTop,ensure:d.scrollToPos},d.forceUpdate)}function sn(d){d.updatedDisplay=d.mustUpdate&&Hl(d.cm,d.update)}function Rl(d){var m=d.cm,_=m.display;d.updatedDisplay&&va(m),d.barMeasure=tn(m),_.maxLineChanged&&!m.options.lineWrapping&&(d.adjustWidthTo=Cc(m,_.maxLine,_.maxLine.text.length).left+3,m.display.sizerWidth=d.adjustWidthTo,d.barMeasure.scrollWidth=Math.max(_.scroller.clientWidth,_.sizer.offsetLeft+d.adjustWidthTo+ls(m)+m.display.barWidth),d.maxScrollLeft=Math.max(0,_.sizer.offsetLeft+d.adjustWidthTo-Vs(m))),(d.updatedDisplay||d.selectionChanged)&&(d.preparedSelection=_.input.prepareSelection())}function Lc(d){var m=d.cm;d.adjustWidthTo!=null&&(m.display.sizer.style.minWidth=d.adjustWidthTo+"px",d.maxScrollLeft<m.doc.scrollLeft&&ks(m,Math.min(m.display.scroller.scrollLeft,d.maxScrollLeft),!0),m.display.maxLineChanged=!1);var _=d.focus&&d.focus==gt(Ee(m));d.preparedSelection&&m.display.input.showSelection(d.preparedSelection,_),(d.updatedDisplay||d.startHeight!=m.doc.height)&&Mn(m,d.barMeasure),d.updatedDisplay&&Wl(m,d.barMeasure),d.selectionChanged&&kn(m),m.state.focused&&d.updateInput&&m.display.input.reset(d.typing),_&&qn(d.cm)}function rr(d){var m=d.cm,_=m.display,y=m.doc;if(d.updatedDisplay&&Pc(m,d.update),_.wheelStartX!=null&&(d.scrollTop!=null||d.scrollLeft!=null||d.scrollToPos)&&(_.wheelStartX=_.wheelStartY=null),d.scrollTop!=null&&Nl(m,d.scrollTop,d.forceScroll),d.scrollLeft!=null&&ks(m,d.scrollLeft,!0,!0),d.scrollToPos){var k=Kh(m,Ct(y,d.scrollToPos.from),Ct(y,d.scrollToPos.to),d.scrollToPos.margin);Gh(m,k)}var E=d.maybeHiddenMarkers,F=d.maybeUnhiddenMarkers;if(E)for(var P=0;P<E.length;++P)E[P].lines.length||tt(E[P],"hide");if(F)for(var R=0;R<F.length;++R)F[R].lines.length&&tt(F[R],"unhide");_.wrapper.offsetHeight&&(y.scrollTop=m.display.scroller.scrollTop),d.changeObjs&&tt(m,"changes",m,d.changeObjs),d.update&&d.update.finish()}function cn(d,m){if(d.curOp)return m();Ys(d);try{return m()}finally{Gs(d)}}function Ti(d,m){return function(){if(d.curOp)return m.apply(d,arguments);Ys(d);try{return m.apply(d,arguments)}finally{Gs(d)}}}function Yi(d){return function(){if(this.curOp)return d.apply(this,arguments);Ys(this);try{return d.apply(this,arguments)}finally{Gs(this)}}}function Ei(d){return function(){var m=this.cm;if(!m||m.curOp)return d.apply(this,arguments);Ys(m);try{return d.apply(this,arguments)}finally{Gs(m)}}}function or(d,m){d.doc.highlightFrontier<d.display.viewTo&&d.state.highlight.set(m,Zt(Kn,d))}function Kn(d){var m=d.doc;if(!(m.highlightFrontier>=d.display.viewTo)){var _=+new Date+d.options.workTime,y=Wa(d,m.highlightFrontier),k=[];m.iter(y.line,Math.min(m.first+m.size,d.display.viewTo+500),function(E){if(y.line>=d.display.viewFrom){var F=E.styles,P=E.text.length>d.options.maxHighlightLength?Bs(m.mode,y.state):null,R=ml(d,E,y,!0);P&&(y.state=P),E.styles=R.styles;var H=E.styleClasses,Z=R.classes;Z?E.styleClasses=Z:H&&(E.styleClasses=null);for(var ne=!F||F.length!=E.styles.length||H!=Z&&(!H||!Z||H.bgClass!=Z.bgClass||H.textClass!=Z.textClass),_e=0;!ne&&_e<F.length;++_e)ne=F[_e]!=E.styles[_e];ne&&k.push(y.line),E.stateAfter=y.save(),y.nextLine()}else E.text.length<=d.options.maxHighlightLength&&Fo(d,E.text,y),E.stateAfter=y.line%5==0?y.save():null,y.nextLine();if(+new Date>_)return or(d,d.options.workDelay),!0}),m.highlightFrontier=y.line,m.modeFrontier=Math.max(m.modeFrontier,y.line),k.length&&cn(d,function(){for(var E=0;E<k.length;E++)Us(d,k[E],"text")})}}var Ca=function(d,m,_){var y=d.display;this.viewport=m,this.visible=Yn(y,d.doc,m),this.editorIsHidden=!y.wrapper.offsetWidth,this.wrapperHeight=y.wrapper.clientHeight,this.wrapperWidth=y.wrapper.clientWidth,this.oldDisplayWidth=Vs(d),this.force=_,this.dims=jn(d),this.events=[]};Ca.prototype.signal=function(d,m){xt(d,m)&&this.events.push(arguments)},Ca.prototype.finish=function(){for(var d=0;d<this.events.length;d++)tt.apply(null,this.events[d])};function zl(d){var m=d.display;!m.scrollbarsClipped&&m.scroller.offsetWidth&&(m.nativeBarWidth=m.scroller.offsetWidth-m.scroller.clientWidth,m.heightForcer.style.height=ls(d)+"px",m.sizer.style.marginBottom=-m.nativeBarWidth+"px",m.sizer.style.borderRightWidth=ls(d)+"px",m.scrollbarsClipped=!0)}function Xh(d){if(d.hasFocus())return null;var m=gt(Ee(d));if(!m||!Qe(d.display.lineDiv,m))return null;var _={activeElt:m};if(window.getSelection){var y=lt(d).getSelection();y.anchorNode&&y.extend&&Qe(d.display.lineDiv,y.anchorNode)&&(_.anchorNode=y.anchorNode,_.anchorOffset=y.anchorOffset,_.focusNode=y.focusNode,_.focusOffset=y.focusOffset)}return _}function Oc(d){if(!(!d||!d.activeElt||d.activeElt==gt(_t(d.activeElt)))&&(d.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(d.activeElt.nodeName)&&d.anchorNode&&Qe(document.body,d.anchorNode)&&Qe(document.body,d.focusNode))){var m=d.activeElt.ownerDocument,_=m.defaultView.getSelection(),y=m.createRange();y.setEnd(d.anchorNode,d.anchorOffset),y.collapse(!1),_.removeAllRanges(),_.addRange(y),_.extend(d.focusNode,d.focusOffset)}}function Hl(d,m){var _=d.display,y=d.doc;if(m.editorIsHidden)return cs(d),!1;if(!m.force&&m.visible.from>=_.viewFrom&&m.visible.to<=_.viewTo&&(_.updateLineNumbers==null||_.updateLineNumbers>=_.viewTo)&&_.renderedView==_.view&&ir(d)==0)return!1;Bc(d)&&(cs(d),m.dims=jn(d));var k=y.first+y.size,E=Math.max(m.visible.from-d.options.viewportMargin,y.first),F=Math.min(k,m.visible.to+d.options.viewportMargin);_.viewFrom<E&&E-_.viewFrom<20&&(E=Math.max(y.first,_.viewFrom)),_.viewTo>F&&_.viewTo-F<20&&(F=Math.min(k,_.viewTo)),In&&(E=Dl(d.doc,E),F=cc(d.doc,F));var P=E!=_.viewFrom||F!=_.viewTo||_.lastWrapHeight!=m.wrapperHeight||_.lastWrapWidth!=m.wrapperWidth;tr(d,E,F),_.viewOffset=os(rt(d.doc,_.viewFrom)),d.display.mover.style.top=_.viewOffset+"px";var R=ir(d);if(!P&&R==0&&!m.force&&_.renderedView==_.view&&(_.updateLineNumbers==null||_.updateLineNumbers>=_.viewTo))return!1;var H=Xh(d);return R>4&&(_.lineDiv.style.display="none"),Jh(d,_.updateLineNumbers,m.dims),R>4&&(_.lineDiv.style.display=""),_.renderedView=_.view,Oc(H),st(_.cursorDiv),st(_.selectionDiv),_.gutters.style.height=_.sizer.style.minHeight=0,P&&(_.lastWrapHeight=m.wrapperHeight,_.lastWrapWidth=m.wrapperWidth,or(d,400)),_.updateLineNumbers=null,!0}function Pc(d,m){for(var _=m.viewport,y=!0;;y=!1){if(!y||!d.options.lineWrapping||m.oldDisplayWidth==Vs(d)){if(_&&_.top!=null&&(_={top:Math.min(d.doc.height+Al(d.display)-Ml(d),_.top)}),m.visible=Yn(d.display,d.doc,_),m.visible.from>=d.display.viewFrom&&m.visible.to<=d.display.viewTo)break}else y&&(m.visible=Yn(d.display,d.doc,_));if(!Hl(d,m))break;va(d);var k=tn(d);Un(d),Mn(d,k),Wl(d,k),m.force=!1}m.signal(d,"update",d),(d.display.viewFrom!=d.display.reportedViewFrom||d.display.viewTo!=d.display.reportedViewTo)&&(m.signal(d,"viewportChange",d,d.display.viewFrom,d.display.viewTo),d.display.reportedViewFrom=d.display.viewFrom,d.display.reportedViewTo=d.display.viewTo)}function $l(d,m){var _=new Ca(d,m);if(Hl(d,_)){va(d),Pc(d,_);var y=tn(d);Un(d),Mn(d,y),Wl(d,y),_.finish()}}function Jh(d,m,_){var y=d.display,k=d.options.lineNumbers,E=y.lineDiv,F=E.firstChild;function P(Ae){var Ne=Ae.nextSibling;return A&&ae&&d.display.currentWheelTarget==Ae?Ae.style.display="none":Ae.parentNode.removeChild(Ae),Ne}for(var R=y.view,H=y.viewFrom,Z=0;Z<R.length;Z++){var ne=R[Z];if(!ne.hidden)if(!ne.node||ne.node.parentNode!=E){var _e=Xa(d,ne,H,_);E.insertBefore(_e,F)}else{for(;F!=ne.node;)F=P(F);var me=k&&m!=null&&m<=H&&ne.lineNumber;ne.changes&&(St(ne.changes,"gutter")>-1&&(me=!1),Wn(d,ne,H,_)),me&&(st(ne.lineNumber),ne.lineNumber.appendChild(document.createTextNode(Eo(d.options,H)))),F=ne.node.nextSibling}H+=ne.size}for(;F;)F=P(F)}function Vl(d){var m=d.gutters.offsetWidth;d.sizer.style.marginLeft=m+"px",Pi(d,"gutterChanged",d)}function Wl(d,m){d.display.sizer.style.minHeight=m.docHeight+"px",d.display.heightForcer.style.top=m.docHeight+"px",d.display.gutters.style.height=m.docHeight+d.display.barHeight+ls(d)+"px"}function jl(d){var m=d.display,_=m.view;if(!(!m.alignWidgets&&(!m.gutters.firstChild||!d.options.fixedGutter))){for(var y=Cn(m)-m.scroller.scrollLeft+d.doc.scrollLeft,k=m.gutters.offsetWidth,E=y+"px",F=0;F<_.length;F++)if(!_[F].hidden){d.options.fixedGutter&&(_[F].gutter&&(_[F].gutter.style.left=E),_[F].gutterBackground&&(_[F].gutterBackground.style.left=E));var P=_[F].alignable;if(P)for(var R=0;R<P.length;R++)P[R].style.left=E}d.options.fixedGutter&&(m.gutters.style.left=y+k+"px")}}function Bc(d){if(!d.options.lineNumbers)return!1;var m=d.doc,_=Eo(d.options,m.first+m.size-1),y=d.display;if(_.length!=y.lineNumChars){var k=y.measure.appendChild(de("div",[de("div",_)],"CodeMirror-linenumber CodeMirror-gutter-elt")),E=k.firstChild.offsetWidth,F=k.offsetWidth-E;return y.lineGutter.style.width="",y.lineNumInnerWidth=Math.max(E,y.lineGutter.offsetWidth-F)+1,y.lineNumWidth=y.lineNumInnerWidth+F,y.lineNumChars=y.lineNumInnerWidth?_.length:-1,y.lineGutter.style.width=y.lineNumWidth+"px",Vl(d.display),!0}return!1}function Ul(d,m){for(var _=[],y=!1,k=0;k<d.length;k++){var E=d[k],F=null;if(typeof E!="string"&&(F=E.style,E=E.className),E=="CodeMirror-linenumbers")if(m)y=!0;else continue;_.push({className:E,style:F})}return m&&!y&&_.push({className:"CodeMirror-linenumbers",style:null}),_}function ql(d){var m=d.gutters,_=d.gutterSpecs;st(m),d.lineGutter=null;for(var y=0;y<_.length;++y){var k=_[y],E=k.className,F=k.style,P=m.appendChild(de("div",null,"CodeMirror-gutter "+E));F&&(P.style.cssText=F),E=="CodeMirror-linenumbers"&&(d.lineGutter=P,P.style.width=(d.lineNumWidth||1)+"px")}m.style.display=_.length?"":"none",Vl(d)}function Yr(d){ql(d.display),Bi(d),jl(d)}function Zh(d,m,_,y){var k=this;this.input=_,k.scrollbarFiller=de("div",null,"CodeMirror-scrollbar-filler"),k.scrollbarFiller.setAttribute("cm-not-content","true"),k.gutterFiller=de("div",null,"CodeMirror-gutter-filler"),k.gutterFiller.setAttribute("cm-not-content","true"),k.lineDiv=Be("div",null,"CodeMirror-code"),k.selectionDiv=de("div",null,null,"position: relative; z-index: 1"),k.cursorDiv=de("div",null,"CodeMirror-cursors"),k.measure=de("div",null,"CodeMirror-measure"),k.lineMeasure=de("div",null,"CodeMirror-measure"),k.lineSpace=Be("div",[k.measure,k.lineMeasure,k.selectionDiv,k.cursorDiv,k.lineDiv],null,"position: relative; outline: none");var E=Be("div",[k.lineSpace],"CodeMirror-lines");k.mover=de("div",[E],null,"position: relative"),k.sizer=de("div",[k.mover],"CodeMirror-sizer"),k.sizerWidth=null,k.heightForcer=de("div",null,null,"position: absolute; height: "+Pt+"px; width: 1px;"),k.gutters=de("div",null,"CodeMirror-gutters"),k.lineGutter=null,k.scroller=de("div",[k.sizer,k.heightForcer,k.gutters],"CodeMirror-scroll"),k.scroller.setAttribute("tabIndex","-1"),k.wrapper=de("div",[k.scrollbarFiller,k.gutterFiller,k.scroller],"CodeMirror"),N&&$>=105&&(k.wrapper.style.clipPath="inset(0px)"),k.wrapper.setAttribute("translate","no"),S&&T<8&&(k.gutters.style.zIndex=-1,k.scroller.style.paddingRight=0),!A&&!(f&&se)&&(k.scroller.draggable=!0),d&&(d.appendChild?d.appendChild(k.wrapper):d(k.wrapper)),k.viewFrom=k.viewTo=m.first,k.reportedViewFrom=k.reportedViewTo=m.first,k.view=[],k.renderedView=null,k.externalMeasured=null,k.viewOffset=0,k.lastWrapHeight=k.lastWrapWidth=0,k.updateLineNumbers=null,k.nativeBarWidth=k.barHeight=k.barWidth=0,k.scrollbarsClipped=!1,k.lineNumWidth=k.lineNumInnerWidth=k.lineNumChars=null,k.alignWidgets=!1,k.cachedCharWidth=k.cachedTextHeight=k.cachedPaddingH=null,k.maxLine=null,k.maxLineLength=0,k.maxLineChanged=!1,k.wheelDX=k.wheelDY=k.wheelStartX=k.wheelStartY=null,k.shift=!1,k.selForContextMenu=null,k.activeTouch=null,k.gutterSpecs=Ul(y.gutters,y.lineNumbers),ql(k),_.init(k)}var Ho=0,Xn=null;S?Xn=-.53:f?Xn=15:N?Xn=-.7:Q&&(Xn=-1/3);function $o(d){var m=d.wheelDeltaX,_=d.wheelDeltaY;return m==null&&d.detail&&d.axis==d.HORIZONTAL_AXIS&&(m=d.detail),_==null&&d.detail&&d.axis==d.VERTICAL_AXIS?_=d.detail:_==null&&(_=d.wheelDelta),{x:m,y:_}}function Xe(d){var m=$o(d);return m.x*=Xn,m.y*=Xn,m}function Gi(d,m){N&&$==102&&(d.display.chromeScrollHack==null?d.display.sizer.style.pointerEvents="none":clearTimeout(d.display.chromeScrollHack),d.display.chromeScrollHack=setTimeout(function(){d.display.chromeScrollHack=null,d.display.sizer.style.pointerEvents=""},100));var _=$o(m),y=_.x,k=_.y,E=Xn;m.deltaMode===0&&(y=m.deltaX,k=m.deltaY,E=1);var F=d.display,P=F.scroller,R=P.scrollWidth>P.clientWidth,H=P.scrollHeight>P.clientHeight;if(y&&R||k&&H){if(k&&ae&&A){e:for(var Z=m.target,ne=F.view;Z!=P;Z=Z.parentNode)for(var _e=0;_e<ne.length;_e++)if(ne[_e].node==Z){d.display.currentWheelTarget=Z;break e}}if(y&&!f&&!q&&E!=null){k&&H&&ar(d,Math.max(0,P.scrollTop+k*E)),ks(d,Math.max(0,P.scrollLeft+y*E)),(!k||k&&H)&&mt(m),F.wheelStartX=null;return}if(k&&E!=null){var me=k*E,Ae=d.doc.scrollTop,Ne=Ae+F.wrapper.clientHeight;me<0?Ae=Math.max(0,Ae+me-50):Ne=Math.min(d.doc.height,Ne+me+50),$l(d,{top:Ae,bottom:Ne})}Ho<20&&m.deltaMode!==0&&(F.wheelStartX==null?(F.wheelStartX=P.scrollLeft,F.wheelStartY=P.scrollTop,F.wheelDX=y,F.wheelDY=k,setTimeout(function(){if(F.wheelStartX!=null){var We=P.scrollLeft-F.wheelStartX,qe=P.scrollTop-F.wheelStartY,Je=qe&&F.wheelDY&&qe/F.wheelDY||We&&F.wheelDX&&We/F.wheelDX;F.wheelStartX=F.wheelStartY=null,Je&&(Xn=(Xn*Ho+Je)/(Ho+1),++Ho)}},200)):(F.wheelDX+=y,F.wheelDY+=k))}}var Fn=function(d,m){this.ranges=d,this.primIndex=m};Fn.prototype.primary=function(){return this.ranges[this.primIndex]},Fn.prototype.equals=function(d){if(d==this)return!0;if(d.primIndex!=this.primIndex||d.ranges.length!=this.ranges.length)return!1;for(var m=0;m<this.ranges.length;m++){var _=this.ranges[m],y=d.ranges[m];if(!Ao(_.anchor,y.anchor)||!Ao(_.head,y.head))return!1}return!0},Fn.prototype.deepCopy=function(){for(var d=[],m=0;m<this.ranges.length;m++)d[m]=new Lt(Mo(this.ranges[m].anchor),Mo(this.ranges[m].head));return new Fn(d,this.primIndex)},Fn.prototype.somethingSelected=function(){for(var d=0;d<this.ranges.length;d++)if(!this.ranges[d].empty())return!0;return!1},Fn.prototype.contains=function(d,m){m||(m=d);for(var _=0;_<this.ranges.length;_++){var y=this.ranges[_];if(bt(m,y.from())>=0&&bt(d,y.to())<=0)return _}return-1};var Lt=function(d,m){this.anchor=d,this.head=m};Lt.prototype.from=function(){return Pr(this.anchor,this.head)},Lt.prototype.to=function(){return Or(this.anchor,this.head)},Lt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function On(d,m,_){var y=d&&d.options.selectionsMayTouch,k=m[_];m.sort(function(_e,me){return bt(_e.from(),me.from())}),_=St(m,k);for(var E=1;E<m.length;E++){var F=m[E],P=m[E-1],R=bt(P.to(),F.from());if(y&&!F.empty()?R>0:R>=0){var H=Pr(P.from(),F.from()),Z=Or(P.to(),F.to()),ne=P.empty()?F.from()==F.head:P.from()==P.head;E<=_&&--_,m.splice(--E,2,new Lt(ne?Z:H,ne?H:Z))}}return new Fn(m,_)}function Ds(d,m){return new Fn([new Lt(d,m||d)],0)}function Ks(d){return d.text?$e(d.from.line+d.text.length-1,at(d.text).length+(d.text.length==1?d.from.ch:0)):d.to}function Nc(d,m){if(bt(d,m.from)<0)return d;if(bt(d,m.to)<=0)return Ks(m);var _=d.line+m.text.length-(m.to.line-m.from.line)-1,y=d.ch;return d.line==m.to.line&&(y+=Ks(m).ch-m.to.ch),$e(_,y)}function Yl(d,m){for(var _=[],y=0;y<d.sel.ranges.length;y++){var k=d.sel.ranges[y];_.push(new Lt(Nc(k.anchor,m),Nc(k.head,m)))}return On(d.cm,_,d.sel.primIndex)}function Rc(d,m,_){return d.line==m.line?$e(_.line,d.ch-m.ch+_.ch):$e(_.line+(d.line-m.line),d.ch)}function Qh(d,m,_){for(var y=[],k=$e(d.first,0),E=k,F=0;F<m.length;F++){var P=m[F],R=Rc(P.from,k,E),H=Rc(Ks(P),k,E);if(k=P.to,E=H,_=="around"){var Z=d.sel.ranges[F],ne=bt(Z.head,Z.anchor)<0;y[F]=new Lt(ne?H:R,ne?R:H)}else y[F]=new Lt(R,R)}return new Fn(y,d.sel.primIndex)}function lr(d){d.doc.mode=ua(d.options,d.doc.modeOption),ur(d)}function ur(d){d.doc.iter(function(m){m.stateAfter&&(m.stateAfter=null),m.styles&&(m.styles=null)}),d.doc.modeFrontier=d.doc.highlightFrontier=d.doc.first,or(d,100),d.state.modeGen++,d.curOp&&Bi(d)}function zc(d,m){return m.from.ch==0&&m.to.ch==0&&at(m.text)==""&&(!d.cm||d.cm.options.wholeLineUpdateBefore)}function Vo(d,m,_,y){function k(Je){return _?_[Je]:null}function E(Je,Ye,it){Lh(Je,Ye,it,y),Pi(Je,"change",Je,m)}function F(Je,Ye){for(var it=[],ft=Je;ft<Ye;++ft)it.push(new Ua(H[ft],k(ft),y));return it}var P=m.from,R=m.to,H=m.text,Z=rt(d,P.line),ne=rt(d,R.line),_e=at(H),me=k(H.length-1),Ae=R.line-P.line;if(m.full)d.insert(0,F(0,H.length)),d.remove(H.length,d.size-H.length);else if(zc(d,m)){var Ne=F(0,H.length-1);E(ne,ne.text,me),Ae&&d.remove(P.line,Ae),Ne.length&&d.insert(P.line,Ne)}else if(Z==ne)if(H.length==1)E(Z,Z.text.slice(0,P.ch)+_e+Z.text.slice(R.ch),me);else{var We=F(1,H.length-1);We.push(new Ua(_e+Z.text.slice(R.ch),me,y)),E(Z,Z.text.slice(0,P.ch)+H[0],k(0)),d.insert(P.line+1,We)}else if(H.length==1)E(Z,Z.text.slice(0,P.ch)+H[0]+ne.text.slice(R.ch),k(0)),d.remove(P.line+1,Ae);else{E(Z,Z.text.slice(0,P.ch)+H[0],k(0)),E(ne,_e+ne.text.slice(R.ch),me);var qe=F(1,H.length-1);Ae>1&&d.remove(P.line+1,Ae-1),d.insert(P.line+1,qe)}Pi(d,"change",d,m)}function Xs(d,m,_){function y(k,E,F){if(k.linked)for(var P=0;P<k.linked.length;++P){var R=k.linked[P];if(R.doc!=E){var H=F&&R.sharedHist;_&&!H||(m(R.doc,H),y(R.doc,k,H))}}}y(d,null,!0)}function Gl(d,m){if(m.cm)throw new Error("This document is already in use.");d.doc=m,m.cm=d,No(d),lr(d),Hc(d),d.options.direction=m.direction,d.options.lineWrapping||Vn(d),d.options.mode=m.modeOption,Bi(d)}function Hc(d){(d.doc.direction=="rtl"?Ht:Ge)(d.display.lineDiv,"CodeMirror-rtl")}function $c(d){cn(d,function(){Hc(d),Bi(d)})}function Wo(d){this.done=[],this.undone=[],this.undoDepth=d?d.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=d?d.maxGeneration:1}function jo(d,m){var _={from:Mo(m.from),to:Ks(m),text:bs(d,m.from,m.to)};return qc(d,_,m.from.line,m.to.line+1),Xs(d,function(y){return qc(y,_,m.from.line,m.to.line+1)},!0),_}function Vc(d){for(;d.length;){var m=at(d);if(m.ranges)d.pop();else break}}function Wc(d,m){if(m)return Vc(d.done),at(d.done);if(d.done.length&&!at(d.done).ranges)return at(d.done);if(d.done.length>1&&!d.done[d.done.length-2].ranges)return d.done.pop(),at(d.done)}function jc(d,m,_,y){var k=d.history;k.undone.length=0;var E=+new Date,F,P;if((k.lastOp==y||k.lastOrigin==m.origin&&m.origin&&(m.origin.charAt(0)=="+"&&k.lastModTime>E-(d.cm?d.cm.options.historyEventDelay:500)||m.origin.charAt(0)=="*"))&&(F=Wc(k,k.lastOp==y)))P=at(F.changes),bt(m.from,m.to)==0&&bt(m.from,P.to)==0?P.to=Ks(m):F.changes.push(jo(d,m));else{var R=at(k.done);for((!R||!R.ranges)&&Gr(d.sel,k.done),F={changes:[jo(d,m)],generation:k.generation},k.done.push(F);k.done.length>k.undoDepth;)k.done.shift(),k.done[0].ranges||k.done.shift()}k.done.push(_),k.generation=++k.maxGeneration,k.lastModTime=k.lastSelTime=E,k.lastOp=k.lastSelOp=y,k.lastOrigin=k.lastSelOrigin=m.origin,P||tt(d,"historyAdded")}function Uc(d,m,_,y){var k=m.charAt(0);return k=="*"||k=="+"&&_.ranges.length==y.ranges.length&&_.somethingSelected()==y.somethingSelected()&&new Date-d.history.lastSelTime<=(d.cm?d.cm.options.historyEventDelay:500)}function ef(d,m,_,y){var k=d.history,E=y&&y.origin;_==k.lastSelOp||E&&k.lastSelOrigin==E&&(k.lastModTime==k.lastSelTime&&k.lastOrigin==E||Uc(d,E,at(k.done),m))?k.done[k.done.length-1]=m:Gr(m,k.done),k.lastSelTime=+new Date,k.lastSelOrigin=E,k.lastSelOp=_,y&&y.clearRedo!==!1&&Vc(k.undone)}function Gr(d,m){var _=at(m);_&&_.ranges&&_.equals(d)||m.push(d)}function qc(d,m,_,y){var k=m["spans_"+d.id],E=0;d.iter(Math.max(d.first,_),Math.min(d.first+d.size,y),function(F){F.markedSpans&&((k||(k=m["spans_"+d.id]={}))[E]=F.markedSpans),++E})}function Yc(d){if(!d)return null;for(var m,_=0;_<d.length;++_)d[_].marker.explicitlyCleared?m||(m=d.slice(0,_)):m&&m.push(d[_]);return m?m.length?m:null:d}function tf(d,m){var _=m["spans_"+d.id];if(!_)return null;for(var y=[],k=0;k<m.text.length;++k)y.push(Yc(_[k]));return y}function Kl(d,m){var _=tf(d,m),y=wl(d,m);if(!_)return y;if(!y)return _;for(var k=0;k<_.length;++k){var E=_[k],F=y[k];if(E&&F)e:for(var P=0;P<F.length;++P){for(var R=F[P],H=0;H<E.length;++H)if(E[H].marker==R.marker)continue e;E.push(R)}else F&&(_[k]=F)}return _}function cr(d,m,_){for(var y=[],k=0;k<d.length;++k){var E=d[k];if(E.ranges){y.push(_?Fn.prototype.deepCopy.call(E):E);continue}var F=E.changes,P=[];y.push({changes:P});for(var R=0;R<F.length;++R){var H=F[R],Z=void 0;if(P.push({from:H.from,to:H.to,text:H.text}),m)for(var ne in H)(Z=ne.match(/^spans_(\d+)$/))&&St(m,Number(Z[1]))>-1&&(at(P)[ne]=H[ne],delete H[ne])}}return y}function Uo(d,m,_,y){if(y){var k=d.anchor;if(_){var E=bt(m,k)<0;E!=bt(_,k)<0?(k=m,m=_):E!=bt(m,_)<0&&(m=_)}return new Lt(k,m)}else return new Lt(_||m,m)}function Ts(d,m,_,y,k){k==null&&(k=d.cm&&(d.cm.display.shift||d.extend)),Ki(d,new Fn([Uo(d.sel.primary(),m,_,k)],0),y)}function Gc(d,m,_){for(var y=[],k=d.cm&&(d.cm.display.shift||d.extend),E=0;E<d.sel.ranges.length;E++)y[E]=Uo(d.sel.ranges[E],m[E],null,k);var F=On(d.cm,y,d.sel.primIndex);Ki(d,F,_)}function Xl(d,m,_,y){var k=d.sel.ranges.slice(0);k[m]=_,Ki(d,On(d.cm,k,d.sel.primIndex),y)}function Kc(d,m,_,y){Ki(d,Ds(m,_),y)}function nf(d,m,_){var y={ranges:m.ranges,update:function(k){this.ranges=[];for(var E=0;E<k.length;E++)this.ranges[E]=new Lt(Ct(d,k[E].anchor),Ct(d,k[E].head))},origin:_&&_.origin};return tt(d,"beforeSelectionChange",d,y),d.cm&&tt(d.cm,"beforeSelectionChange",d.cm,y),y.ranges!=m.ranges?On(d.cm,y.ranges,y.ranges.length-1):m}function Xc(d,m,_){var y=d.history.done,k=at(y);k&&k.ranges?(y[y.length-1]=m,Kr(d,m,_)):Ki(d,m,_)}function Ki(d,m,_){Kr(d,m,_),ef(d,d.sel,d.cm?d.cm.curOp.id:NaN,_)}function Kr(d,m,_){(xt(d,"beforeSelectionChange")||d.cm&&xt(d.cm,"beforeSelectionChange"))&&(m=nf(d,m,_));var y=_&&_.bias||(bt(m.primary().head,d.sel.primary().head)<0?-1:1);Jc(d,Zc(d,m,y,!0)),!(_&&_.scroll===!1)&&d.cm&&d.cm.getOption("readOnly")!="nocursor"&&ba(d.cm)}function Jc(d,m){m.equals(d.sel)||(d.sel=m,d.cm&&(d.cm.curOp.updateInput=1,d.cm.curOp.selectionChanged=!0,vt(d.cm)),Pi(d,"cursorActivity",d))}function qo(d){Jc(d,Zc(d,d.sel,null,!1))}function Zc(d,m,_,y){for(var k,E=0;E<m.ranges.length;E++){var F=m.ranges[E],P=m.ranges.length==d.sel.ranges.length&&d.sel.ranges[E],R=Xr(d,F.anchor,P&&P.anchor,_,y),H=F.head==F.anchor?R:Xr(d,F.head,P&&P.head,_,y);(k||R!=F.anchor||H!=F.head)&&(k||(k=m.ranges.slice(0,E)),k[E]=new Lt(R,H))}return k?On(d.cm,k,m.primIndex):m}function dr(d,m,_,y,k){var E=rt(d,m.line);if(E.markedSpans)for(var F=0;F<E.markedSpans.length;++F){var P=E.markedSpans[F],R=P.marker,H="selectLeft"in R?!R.selectLeft:R.inclusiveLeft,Z="selectRight"in R?!R.selectRight:R.inclusiveRight;if((P.from==null||(H?P.from<=m.ch:P.from<m.ch))&&(P.to==null||(Z?P.to>=m.ch:P.to>m.ch))){if(k&&(tt(R,"beforeCursorEnter"),R.explicitlyCleared))if(E.markedSpans){--F;continue}else break;if(!R.atomic)continue;if(_){var ne=R.find(y<0?1:-1),_e=void 0;if((y<0?Z:H)&&(ne=Qc(d,ne,-y,ne&&ne.line==m.line?E:null)),ne&&ne.line==m.line&&(_e=bt(ne,_))&&(y<0?_e<0:_e>0))return dr(d,ne,m,y,k)}var me=R.find(y<0?-1:1);return(y<0?H:Z)&&(me=Qc(d,me,y,me.line==m.line?E:null)),me?dr(d,me,m,y,k):null}}return m}function Xr(d,m,_,y,k){var E=y||1,F=dr(d,m,_,E,k)||!k&&dr(d,m,_,E,!0)||dr(d,m,_,-E,k)||!k&&dr(d,m,_,-E,!0);return F||(d.cantEdit=!0,$e(d.first,0))}function Qc(d,m,_,y){return _<0&&m.ch==0?m.line>d.first?Ct(d,$e(m.line-1)):null:_>0&&m.ch==(y||rt(d,m.line)).text.length?m.line<d.first+d.size-1?$e(m.line+1,0):null:new $e(m.line,m.ch+_)}function Jl(d){d.setSelection($e(d.firstLine(),0),$e(d.lastLine()),gi)}function ed(d,m,_){var y={canceled:!1,from:m.from,to:m.to,text:m.text,origin:m.origin,cancel:function(){return y.canceled=!0}};return _&&(y.update=function(k,E,F,P){k&&(y.from=Ct(d,k)),E&&(y.to=Ct(d,E)),F&&(y.text=F),P!==void 0&&(y.origin=P)}),tt(d,"beforeChange",d,y),d.cm&&tt(d.cm,"beforeChange",d.cm,y),y.canceled?(d.cm&&(d.cm.curOp.updateInput=2),null):{from:y.from,to:y.to,text:y.text,origin:y.origin}}function wa(d,m,_){if(d.cm){if(!d.cm.curOp)return Ti(d.cm,wa)(d,m,_);if(d.cm.state.suppressEdits)return}if(!((xt(d,"beforeChange")||d.cm&&xt(d.cm,"beforeChange"))&&(m=ed(d,m,!0),!m))){var y=Cl&&!_&&un(d,m.from,m.to);if(y)for(var k=y.length-1;k>=0;--k)td(d,{from:y[k].from,to:y[k].to,text:k?[""]:m.text,origin:m.origin});else td(d,m)}}function td(d,m){if(!(m.text.length==1&&m.text[0]==""&&bt(m.from,m.to)==0)){var _=Yl(d,m);jc(d,m,_,d.cm?d.cm.curOp.id:NaN),hr(d,m,_,wl(d,m));var y=[];Xs(d,function(k,E){!E&&St(y,k.history)==-1&&(sd(k.history,m),y.push(k.history)),hr(k,m,null,wl(k,m))})}}function Jr(d,m,_){var y=d.cm&&d.cm.state.suppressEdits;if(!(y&&!_)){for(var k=d.history,E,F=d.sel,P=m=="undo"?k.done:k.undone,R=m=="undo"?k.undone:k.done,H=0;H<P.length&&(E=P[H],!(_?E.ranges&&!E.equals(d.sel):!E.ranges));H++);if(H!=P.length){for(k.lastOrigin=k.lastSelOrigin=null;;)if(E=P.pop(),E.ranges){if(Gr(E,R),_&&!E.equals(d.sel)){Ki(d,E,{clearRedo:!1});return}F=E}else if(y){P.push(E);return}else break;var Z=[];Gr(F,R),R.push({changes:Z,generation:k.generation}),k.generation=E.generation||++k.maxGeneration;for(var ne=xt(d,"beforeChange")||d.cm&&xt(d.cm,"beforeChange"),_e=function(Ne){var We=E.changes[Ne];if(We.origin=m,ne&&!ed(d,We,!1))return P.length=0,{};Z.push(jo(d,We));var qe=Ne?Yl(d,We):at(P);hr(d,We,qe,Kl(d,We)),!Ne&&d.cm&&d.cm.scrollIntoView({from:We.from,to:Ks(We)});var Je=[];Xs(d,function(Ye,it){!it&&St(Je,Ye.history)==-1&&(sd(Ye.history,We),Je.push(Ye.history)),hr(Ye,We,null,Kl(Ye,We))})},me=E.changes.length-1;me>=0;--me){var Ae=_e(me);if(Ae)return Ae.v}}}}function id(d,m){if(m!=0&&(d.first+=m,d.sel=new Fn(oi(d.sel.ranges,function(k){return new Lt($e(k.anchor.line+m,k.anchor.ch),$e(k.head.line+m,k.head.ch))}),d.sel.primIndex),d.cm)){Bi(d.cm,d.first,d.first-m,m);for(var _=d.cm.display,y=_.viewFrom;y<_.viewTo;y++)Us(d.cm,y,"gutter")}}function hr(d,m,_,y){if(d.cm&&!d.cm.curOp)return Ti(d.cm,hr)(d,m,_,y);if(m.to.line<d.first){id(d,m.text.length-1-(m.to.line-m.from.line));return}if(!(m.from.line>d.lastLine())){if(m.from.line<d.first){var k=m.text.length-1-(d.first-m.from.line);id(d,k),m={from:$e(d.first,0),to:$e(m.to.line+k,m.to.ch),text:[at(m.text)],origin:m.origin}}var E=d.lastLine();m.to.line>E&&(m={from:m.from,to:$e(E,rt(d,E).text.length),text:[m.text[0]],origin:m.origin}),m.removed=bs(d,m.from,m.to),_||(_=Yl(d,m)),d.cm?sf(d.cm,m,y):Vo(d,m,y),Kr(d,_,gi),d.cantEdit&&Xr(d,$e(d.firstLine(),0))&&(d.cantEdit=!1)}}function sf(d,m,_){var y=d.doc,k=d.display,E=m.from,F=m.to,P=!1,R=E.line;d.options.lineWrapping||(R=zt(An(rt(y,E.line))),y.iter(R,F.line+1,function(me){if(me==k.maxLine)return P=!0,!0})),y.sel.contains(m.from,m.to)>-1&&vt(d),Vo(y,m,_,wn(d)),d.options.lineWrapping||(y.iter(R,E.line+m.text.length,function(me){var Ae=$s(me);Ae>k.maxLineLength&&(k.maxLine=me,k.maxLineLength=Ae,k.maxLineChanged=!0,P=!1)}),P&&(d.curOp.updateMaxLine=!0)),Th(y,E.line),or(d,400);var H=m.text.length-(F.line-E.line)-1;m.full?Bi(d):E.line==F.line&&m.text.length==1&&!zc(d.doc,m)?Us(d,E.line,"text"):Bi(d,E.line,F.line+1,H);var Z=xt(d,"changes"),ne=xt(d,"change");if(ne||Z){var _e={from:E,to:F,text:m.text,removed:m.removed,origin:m.origin};ne&&Pi(d,"change",d,_e),Z&&(d.curOp.changeObjs||(d.curOp.changeObjs=[])).push(_e)}d.display.selForContextMenu=null}function ka(d,m,_,y,k){var E;y||(y=_),bt(y,_)<0&&(E=[y,_],_=E[0],y=E[1]),typeof m=="string"&&(m=d.splitLines(m)),wa(d,{from:_,to:y,text:m,origin:k})}function nd(d,m,_,y){_<d.line?d.line+=y:m<d.line&&(d.line=m,d.ch=0)}function Zl(d,m,_,y){for(var k=0;k<d.length;++k){var E=d[k],F=!0;if(E.ranges){E.copied||(E=d[k]=E.deepCopy(),E.copied=!0);for(var P=0;P<E.ranges.length;P++)nd(E.ranges[P].anchor,m,_,y),nd(E.ranges[P].head,m,_,y);continue}for(var R=0;R<E.changes.length;++R){var H=E.changes[R];if(_<H.from.line)H.from=$e(H.from.line+y,H.from.ch),H.to=$e(H.to.line+y,H.to.ch);else if(m<=H.to.line){F=!1;break}}F||(d.splice(0,k+1),k=0)}}function sd(d,m){var _=m.from.line,y=m.to.line,k=m.text.length-(y-_)-1;Zl(d.done,_,y,k),Zl(d.undone,_,y,k)}function fr(d,m,_,y){var k=m,E=m;return typeof m=="number"?E=rt(d,_n(d,m)):k=zt(m),k==null?null:(y(E,k)&&d.cm&&Us(d.cm,k,_),E)}function Zr(d){this.lines=d,this.parent=null;for(var m=0,_=0;_<d.length;++_)d[_].parent=this,m+=d[_].height;this.height=m}Zr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(d,m){for(var _=d,y=d+m;_<y;++_){var k=this.lines[_];this.height-=k.height,_s(k),Pi(k,"delete")}this.lines.splice(d,m)},collapse:function(d){d.push.apply(d,this.lines)},insertInner:function(d,m,_){this.height+=_,this.lines=this.lines.slice(0,d).concat(m).concat(this.lines.slice(d));for(var y=0;y<m.length;++y)m[y].parent=this},iterN:function(d,m,_){for(var y=d+m;d<y;++d)if(_(this.lines[d]))return!0}};function pr(d){this.children=d;for(var m=0,_=0,y=0;y<d.length;++y){var k=d[y];m+=k.chunkSize(),_+=k.height,k.parent=this}this.size=m,this.height=_,this.parent=null}pr.prototype={chunkSize:function(){return this.size},removeInner:function(d,m){this.size-=m;for(var _=0;_<this.children.length;++_){var y=this.children[_],k=y.chunkSize();if(d<k){var E=Math.min(m,k-d),F=y.height;if(y.removeInner(d,E),this.height-=F-y.height,k==E&&(this.children.splice(_--,1),y.parent=null),(m-=E)==0)break;d=0}else d-=k}if(this.size-m<25&&(this.children.length>1||!(this.children[0]instanceof Zr))){var P=[];this.collapse(P),this.children=[new Zr(P)],this.children[0].parent=this}},collapse:function(d){for(var m=0;m<this.children.length;++m)this.children[m].collapse(d)},insertInner:function(d,m,_){this.size+=m.length,this.height+=_;for(var y=0;y<this.children.length;++y){var k=this.children[y],E=k.chunkSize();if(d<=E){if(k.insertInner(d,m,_),k.lines&&k.lines.length>50){for(var F=k.lines.length%25+25,P=F;P<k.lines.length;){var R=new Zr(k.lines.slice(P,P+=25));k.height-=R.height,this.children.splice(++y,0,R),R.parent=this}k.lines=k.lines.slice(0,F),this.maybeSpill()}break}d-=E}},maybeSpill:function(){if(!(this.children.length<=10)){var d=this;do{var m=d.children.splice(d.children.length-5,5),_=new pr(m);if(d.parent){d.size-=_.size,d.height-=_.height;var k=St(d.parent.children,d);d.parent.children.splice(k+1,0,_)}else{var y=new pr(d.children);y.parent=d,d.children=[y,_],d=y}_.parent=d.parent}while(d.children.length>10);d.parent.maybeSpill()}},iterN:function(d,m,_){for(var y=0;y<this.children.length;++y){var k=this.children[y],E=k.chunkSize();if(d<E){var F=Math.min(m,E-d);if(k.iterN(d,F,_))return!0;if((m-=F)==0)break;d=0}else d-=E}}};var Qr=function(d,m,_){if(_)for(var y in _)_.hasOwnProperty(y)&&(this[y]=_[y]);this.doc=d,this.node=m};Qr.prototype.clear=function(){var d=this.doc.cm,m=this.line.widgets,_=this.line,y=zt(_);if(!(y==null||!m)){for(var k=0;k<m.length;++k)m[k]==this&&m.splice(k--,1);m.length||(_.widgets=null);var E=Ja(this);Hn(_,Math.max(0,_.height-E)),d&&(cn(d,function(){Ql(d,_,-E),Us(d,y,"widget")}),Pi(d,"lineWidgetCleared",d,this,y))}},Qr.prototype.changed=function(){var d=this,m=this.height,_=this.doc.cm,y=this.line;this.height=null;var k=Ja(this)-m;k&&(yi(this.doc,y)||Hn(y,y.height+k),_&&cn(_,function(){_.curOp.forceUpdate=!0,Ql(_,y,k),Pi(_,"lineWidgetChanged",_,d,zt(y))}))},wt(Qr);function Ql(d,m,_){os(m)<(d.curOp&&d.curOp.scrollTop||d.doc.scrollTop)&&sr(d,_)}function af(d,m,_,y){var k=new Qr(d,_,y),E=d.cm;return E&&k.noHScroll&&(E.display.alignWidgets=!0),fr(d,m,"widget",function(F){var P=F.widgets||(F.widgets=[]);if(k.insertAt==null?P.push(k):P.splice(Math.min(P.length,Math.max(0,k.insertAt)),0,k),k.line=F,E&&!yi(d,F)){var R=os(F)<d.scrollTop;Hn(F,F.height+Ja(k)),R&&sr(E,k.height),E.curOp.forceUpdate=!0}return!0}),E&&Pi(E,"lineWidgetAdded",E,k,typeof m=="number"?m:zt(m)),k}var eu=0,Js=function(d,m){this.lines=[],this.type=m,this.doc=d,this.id=++eu};Js.prototype.clear=function(){if(!this.explicitlyCleared){var d=this.doc.cm,m=d&&!d.curOp;if(m&&Ys(d),xt(this,"clear")){var _=this.find();_&&Pi(this,"clear",_.from,_.to)}for(var y=null,k=null,E=0;E<this.lines.length;++E){var F=this.lines[E],P=Br(F.markedSpans,this);d&&!this.collapsed?Us(d,zt(F),"text"):d&&(P.to!=null&&(k=zt(F)),P.from!=null&&(y=zt(F))),F.markedSpans=Ah(F.markedSpans,P),P.from==null&&this.collapsed&&!yi(this.doc,F)&&d&&Hn(F,Cs(d.display))}if(d&&this.collapsed&&!d.options.lineWrapping)for(var R=0;R<this.lines.length;++R){var H=An(this.lines[R]),Z=$s(H);Z>d.display.maxLineLength&&(d.display.maxLine=H,d.display.maxLineLength=Z,d.display.maxLineChanged=!0)}y!=null&&d&&this.collapsed&&Bi(d,y,k+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,d&&qo(d.doc)),d&&Pi(d,"markerCleared",d,this,y,k),m&&Gs(d),this.parent&&this.parent.clear()}},Js.prototype.find=function(d,m){d==null&&this.type=="bookmark"&&(d=1);for(var _,y,k=0;k<this.lines.length;++k){var E=this.lines[k],F=Br(E.markedSpans,this);if(F.from!=null&&(_=$e(m?E:zt(E),F.from),d==-1))return _;if(F.to!=null&&(y=$e(m?E:zt(E),F.to),d==1))return y}return _&&{from:_,to:y}},Js.prototype.changed=function(){var d=this,m=this.find(-1,!0),_=this,y=this.doc.cm;!m||!y||cn(y,function(){var k=m.line,E=zt(m.line),F=Il(y,E);if(F&&(Sc(F),y.curOp.selectionChanged=y.curOp.forceUpdate=!0),y.curOp.updateMaxLine=!0,!yi(_.doc,k)&&_.height!=null){var P=_.height;_.height=null;var R=Ja(_)-P;R&&Hn(k,k.height+R)}Pi(y,"markerChanged",y,d)})},Js.prototype.attachLine=function(d){if(!this.lines.length&&this.doc.cm){var m=this.doc.cm.curOp;(!m.maybeHiddenMarkers||St(m.maybeHiddenMarkers,this)==-1)&&(m.maybeUnhiddenMarkers||(m.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(d)},Js.prototype.detachLine=function(d){if(this.lines.splice(St(this.lines,d),1),!this.lines.length&&this.doc.cm){var m=this.doc.cm.curOp;(m.maybeHiddenMarkers||(m.maybeHiddenMarkers=[])).push(this)}},wt(Js);function Sa(d,m,_,y,k){if(y&&y.shared)return ad(d,m,_,y,k);if(d.cm&&!d.cm.curOp)return Ti(d.cm,Sa)(d,m,_,y,k);var E=new Js(d,k),F=bt(m,_);if(y&&ti(y,E,!1),F>0||F==0&&E.clearWhenEmpty!==!1)return E;if(E.replacedWith&&(E.collapsed=!0,E.widgetNode=Be("span",[E.replacedWith],"CodeMirror-widget"),y.handleMouseEvents||E.widgetNode.setAttribute("cm-ignore-events","true"),y.insertLeft&&(E.widgetNode.insertLeft=!0)),E.collapsed){if(lc(d,m.line,m,_,E)||m.line!=_.line&&lc(d,_.line,m,_,E))throw new Error("Inserting collapsed marker partially overlapping an existing one");Eh()}E.addToHistory&&jc(d,{from:m,to:_,origin:"markText"},d.sel,NaN);var P=m.line,R=d.cm,H;if(d.iter(P,_.line+1,function(ne){R&&E.collapsed&&!R.options.lineWrapping&&An(ne)==R.display.maxLine&&(H=!0),E.collapsed&&P!=m.line&&Hn(ne,0),Mh(ne,new Lo(E,P==m.line?m.ch:null,P==_.line?_.ch:null),d.cm&&d.cm.curOp),++P}),E.collapsed&&d.iter(m.line,_.line+1,function(ne){yi(d,ne)&&Hn(ne,0)}),E.clearOnEnter&&ve(E,"beforeCursorEnter",function(){return E.clear()}),E.readOnly&&(oc(),(d.history.done.length||d.history.undone.length)&&d.clearHistory()),E.collapsed&&(E.id=++eu,E.atomic=!0),R){if(H&&(R.curOp.updateMaxLine=!0),E.collapsed)Bi(R,m.line,_.line+1);else if(E.className||E.startStyle||E.endStyle||E.css||E.attributes||E.title)for(var Z=m.line;Z<=_.line;Z++)Us(R,Z,"text");E.atomic&&qo(R.doc),Pi(R,"markerAdded",R,E)}return E}var eo=function(d,m){this.markers=d,this.primary=m;for(var _=0;_<d.length;++_)d[_].parent=this};eo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var d=0;d<this.markers.length;++d)this.markers[d].clear();Pi(this,"clear")}},eo.prototype.find=function(d,m){return this.primary.find(d,m)},wt(eo);function ad(d,m,_,y,k){y=ti(y),y.shared=!1;var E=[Sa(d,m,_,y,k)],F=E[0],P=y.widgetNode;return Xs(d,function(R){P&&(y.widgetNode=P.cloneNode(!0)),E.push(Sa(R,Ct(R,m),Ct(R,_),y,k));for(var H=0;H<R.linked.length;++H)if(R.linked[H].isParent)return;F=at(E)}),new eo(E,F)}function rd(d){return d.findMarks($e(d.first,0),d.clipPos($e(d.lastLine())),function(m){return m.parent})}function od(d,m){for(var _=0;_<m.length;_++){var y=m[_],k=y.find(),E=d.clipPos(k.from),F=d.clipPos(k.to);if(bt(E,F)){var P=Sa(d,E,F,y.primary,y.primary.type);y.markers.push(P),P.parent=y}}}function rf(d){for(var m=function(y){var k=d[y],E=[k.primary.doc];Xs(k.primary.doc,function(R){return E.push(R)});for(var F=0;F<k.markers.length;F++){var P=k.markers[F];St(E,P.doc)==-1&&(P.parent=null,k.markers.splice(F--,1))}},_=0;_<d.length;_++)m(_)}var ld=0,dn=function(d,m,_,y,k){if(!(this instanceof dn))return new dn(d,m,_,y,k);_==null&&(_=0),pr.call(this,[new Zr([new Ua("",null)])]),this.first=_,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=_;var E=$e(_,0);this.sel=Ds(E),this.history=new Wo(null),this.id=++ld,this.modeOption=m,this.lineSep=y,this.direction=k=="rtl"?"rtl":"ltr",this.extend=!1,typeof d=="string"&&(d=this.splitLines(d)),Vo(this,{from:E,to:E,text:d}),Ki(this,Ds(E),gi)};dn.prototype=we(pr.prototype,{constructor:dn,iter:function(d,m,_){_?this.iterN(d-this.first,m-d,_):this.iterN(this.first,this.first+this.size,d)},insert:function(d,m){for(var _=0,y=0;y<m.length;++y)_+=m[y].height;this.insertInner(d-this.first,m,_)},remove:function(d,m){this.removeInner(d-this.first,m)},getValue:function(d){var m=Lr(this,this.first,this.first+this.size);return d===!1?m:m.join(d||this.lineSeparator())},setValue:Ei(function(d){var m=$e(this.first,0),_=this.first+this.size-1;wa(this,{from:m,to:$e(_,rt(this,_).text.length),text:this.splitLines(d),origin:"setValue",full:!0},!0),this.cm&&Gn(this.cm,0,0),Ki(this,Ds(m),gi)}),replaceRange:function(d,m,_,y){m=Ct(this,m),_=_?Ct(this,_):m,ka(this,d,m,_,y)},getRange:function(d,m,_){var y=bs(this,Ct(this,d),Ct(this,m));return _===!1?y:_===""?y.join(""):y.join(_||this.lineSeparator())},getLine:function(d){var m=this.getLineHandle(d);return m&&m.text},getLineHandle:function(d){if(Va(this,d))return rt(this,d)},getLineNumber:function(d){return zt(d)},getLineHandleVisualStart:function(d){return typeof d=="number"&&(d=rt(this,d)),An(d)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(d){return Ct(this,d)},getCursor:function(d){var m=this.sel.primary(),_;return d==null||d=="head"?_=m.head:d=="anchor"?_=m.anchor:d=="end"||d=="to"||d===!1?_=m.to():_=m.from(),_},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ei(function(d,m,_){Kc(this,Ct(this,typeof d=="number"?$e(d,m||0):d),null,_)}),setSelection:Ei(function(d,m,_){Kc(this,Ct(this,d),Ct(this,m||d),_)}),extendSelection:Ei(function(d,m,_){Ts(this,Ct(this,d),m&&Ct(this,m),_)}),extendSelections:Ei(function(d,m){Gc(this,ac(this,d),m)}),extendSelectionsBy:Ei(function(d,m){var _=oi(this.sel.ranges,d);Gc(this,ac(this,_),m)}),setSelections:Ei(function(d,m,_){if(d.length){for(var y=[],k=0;k<d.length;k++)y[k]=new Lt(Ct(this,d[k].anchor),Ct(this,d[k].head||d[k].anchor));m==null&&(m=Math.min(d.length-1,this.sel.primIndex)),Ki(this,On(this.cm,y,m),_)}}),addSelection:Ei(function(d,m,_){var y=this.sel.ranges.slice(0);y.push(new Lt(Ct(this,d),Ct(this,m||d))),Ki(this,On(this.cm,y,y.length-1),_)}),getSelection:function(d){for(var m=this.sel.ranges,_,y=0;y<m.length;y++){var k=bs(this,m[y].from(),m[y].to());_=_?_.concat(k):k}return d===!1?_:_.join(d||this.lineSeparator())},getSelections:function(d){for(var m=[],_=this.sel.ranges,y=0;y<_.length;y++){var k=bs(this,_[y].from(),_[y].to());d!==!1&&(k=k.join(d||this.lineSeparator())),m[y]=k}return m},replaceSelection:function(d,m,_){for(var y=[],k=0;k<this.sel.ranges.length;k++)y[k]=d;this.replaceSelections(y,m,_||"+input")},replaceSelections:Ei(function(d,m,_){for(var y=[],k=this.sel,E=0;E<k.ranges.length;E++){var F=k.ranges[E];y[E]={from:F.from(),to:F.to(),text:this.splitLines(d[E]),origin:_}}for(var P=m&&m!="end"&&Qh(this,y,m),R=y.length-1;R>=0;R--)wa(this,y[R]);P?Xc(this,P):this.cm&&ba(this.cm)}),undo:Ei(function(){Jr(this,"undo")}),redo:Ei(function(){Jr(this,"redo")}),undoSelection:Ei(function(){Jr(this,"undo",!0)}),redoSelection:Ei(function(){Jr(this,"redo",!0)}),setExtending:function(d){this.extend=d},getExtending:function(){return this.extend},historySize:function(){for(var d=this.history,m=0,_=0,y=0;y<d.done.length;y++)d.done[y].ranges||++m;for(var k=0;k<d.undone.length;k++)d.undone[k].ranges||++_;return{undo:m,redo:_}},clearHistory:function(){var d=this;this.history=new Wo(this.history),Xs(this,function(m){return m.history=d.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(d){return d&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(d){return this.history.generation==(d||this.cleanGeneration)},getHistory:function(){return{done:cr(this.history.done),undone:cr(this.history.undone)}},setHistory:function(d){var m=this.history=new Wo(this.history);m.done=cr(d.done.slice(0),null,!0),m.undone=cr(d.undone.slice(0),null,!0)},setGutterMarker:Ei(function(d,m,_){return fr(this,d,"gutter",function(y){var k=y.gutterMarkers||(y.gutterMarkers={});return k[m]=_,!_&&W(k)&&(y.gutterMarkers=null),!0})}),clearGutter:Ei(function(d){var m=this;this.iter(function(_){_.gutterMarkers&&_.gutterMarkers[d]&&fr(m,_,"gutter",function(){return _.gutterMarkers[d]=null,W(_.gutterMarkers)&&(_.gutterMarkers=null),!0})})}),lineInfo:function(d){var m;if(typeof d=="number"){if(!Va(this,d)||(m=d,d=rt(this,d),!d))return null}else if(m=zt(d),m==null)return null;return{line:m,handle:d,text:d.text,gutterMarkers:d.gutterMarkers,textClass:d.textClass,bgClass:d.bgClass,wrapClass:d.wrapClass,widgets:d.widgets}},addLineClass:Ei(function(d,m,_){return fr(this,d,m=="gutter"?"gutter":"class",function(y){var k=m=="text"?"textClass":m=="background"?"bgClass":m=="gutter"?"gutterClass":"wrapClass";if(!y[k])y[k]=_;else{if(Le(_).test(y[k]))return!1;y[k]+=" "+_}return!0})}),removeLineClass:Ei(function(d,m,_){return fr(this,d,m=="gutter"?"gutter":"class",function(y){var k=m=="text"?"textClass":m=="background"?"bgClass":m=="gutter"?"gutterClass":"wrapClass",E=y[k];if(E)if(_==null)y[k]=null;else{var F=E.match(Le(_));if(!F)return!1;var P=F.index+F[0].length;y[k]=E.slice(0,F.index)+(!F.index||P==E.length?"":" ")+E.slice(P)||null}else return!1;return!0})}),addLineWidget:Ei(function(d,m,_){return af(this,d,m,_)}),removeLineWidget:function(d){d.clear()},markText:function(d,m,_){return Sa(this,Ct(this,d),Ct(this,m),_,_&&_.type||"range")},setBookmark:function(d,m){var _={replacedWith:m&&(m.nodeType==null?m.widget:m),insertLeft:m&&m.insertLeft,clearWhenEmpty:!1,shared:m&&m.shared,handleMouseEvents:m&&m.handleMouseEvents};return d=Ct(this,d),Sa(this,d,d,_,"bookmark")},findMarksAt:function(d){d=Ct(this,d);var m=[],_=rt(this,d.line).markedSpans;if(_)for(var y=0;y<_.length;++y){var k=_[y];(k.from==null||k.from<=d.ch)&&(k.to==null||k.to>=d.ch)&&m.push(k.marker.parent||k.marker)}return m},findMarks:function(d,m,_){d=Ct(this,d),m=Ct(this,m);var y=[],k=d.line;return this.iter(d.line,m.line+1,function(E){var F=E.markedSpans;if(F)for(var P=0;P<F.length;P++){var R=F[P];!(R.to!=null&&k==d.line&&d.ch>=R.to||R.from==null&&k!=d.line||R.from!=null&&k==m.line&&R.from>=m.ch)&&(!_||_(R.marker))&&y.push(R.marker.parent||R.marker)}++k}),y},getAllMarks:function(){var d=[];return this.iter(function(m){var _=m.markedSpans;if(_)for(var y=0;y<_.length;++y)_[y].from!=null&&d.push(_[y].marker)}),d},posFromIndex:function(d){var m,_=this.first,y=this.lineSeparator().length;return this.iter(function(k){var E=k.text.length+y;if(E>d)return m=d,!0;d-=E,++_}),Ct(this,$e(_,m))},indexFromPos:function(d){d=Ct(this,d);var m=d.ch;if(d.line<this.first||d.ch<0)return 0;var _=this.lineSeparator().length;return this.iter(this.first,d.line,function(y){m+=y.text.length+_}),m},copy:function(d){var m=new dn(Lr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return m.scrollTop=this.scrollTop,m.scrollLeft=this.scrollLeft,m.sel=this.sel,m.extend=!1,d&&(m.history.undoDepth=this.history.undoDepth,m.setHistory(this.getHistory())),m},linkedDoc:function(d){d||(d={});var m=this.first,_=this.first+this.size;d.from!=null&&d.from>m&&(m=d.from),d.to!=null&&d.to<_&&(_=d.to);var y=new dn(Lr(this,m,_),d.mode||this.modeOption,m,this.lineSep,this.direction);return d.sharedHist&&(y.history=this.history),(this.linked||(this.linked=[])).push({doc:y,sharedHist:d.sharedHist}),y.linked=[{doc:this,isParent:!0,sharedHist:d.sharedHist}],od(y,rd(this)),y},unlinkDoc:function(d){if(d instanceof ai&&(d=d.doc),this.linked)for(var m=0;m<this.linked.length;++m){var _=this.linked[m];if(_.doc==d){this.linked.splice(m,1),d.unlinkDoc(this),rf(rd(this));break}}if(d.history==this.history){var y=[d.id];Xs(d,function(k){return y.push(k.id)},!0),d.history=new Wo(null),d.history.done=cr(this.history.done,y),d.history.undone=cr(this.history.undone,y)}},iterLinkedDocs:function(d){Xs(this,d)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(d){return this.lineSep?d.split(this.lineSep):$a(d)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Ei(function(d){d!="rtl"&&(d="ltr"),d!=this.direction&&(this.direction=d,this.iter(function(m){return m.order=null}),this.cm&&$c(this.cm))})}),dn.prototype.eachLine=dn.prototype.iter;var tu=0;function of(d){var m=this;if(iu(m),!(je(m,d)||xs(m.display,d))){mt(d),S&&(tu=+new Date);var _=js(m,d,!0),y=d.dataTransfer.files;if(!(!_||m.isReadOnly()))if(y&&y.length&&window.FileReader&&window.File)for(var k=y.length,E=Array(k),F=0,P=function(){++F==k&&Ti(m,function(){_=Ct(m.doc,_);var me={from:_,to:_,text:m.doc.splitLines(E.filter(function(Ae){return Ae!=null}).join(m.doc.lineSeparator())),origin:"paste"};wa(m.doc,me),Xc(m.doc,Ds(Ct(m.doc,_),Ct(m.doc,Ks(me))))})()},R=function(me,Ae){if(m.options.allowDropFileTypes&&St(m.options.allowDropFileTypes,me.type)==-1){P();return}var Ne=new FileReader;Ne.onerror=function(){return P()},Ne.onload=function(){var We=Ne.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(We)){P();return}E[Ae]=We,P()},Ne.readAsText(me)},H=0;H<y.length;H++)R(y[H],H);else{if(m.state.draggingText&&m.doc.sel.contains(_)>-1){m.state.draggingText(d),setTimeout(function(){return m.display.input.focus()},20);return}try{var Z=d.dataTransfer.getData("Text");if(Z){var ne;if(m.state.draggingText&&!m.state.draggingText.copy&&(ne=m.listSelections()),Kr(m.doc,Ds(_,_)),ne)for(var _e=0;_e<ne.length;++_e)ka(m.doc,"",ne[_e].anchor,ne[_e].head,"drag");m.replaceSelection(Z,"around","paste"),m.display.input.focus()}}catch{}}}}function ud(d,m){if(S&&(!d.state.draggingText||+new Date-tu<100)){vi(m);return}if(!(je(d,m)||xs(d.display,m))&&(m.dataTransfer.setData("Text",d.getSelection()),m.dataTransfer.effectAllowed="copyMove",m.dataTransfer.setDragImage&&!Q)){var _=de("img",null,null,"position: fixed; left: 0; top: 0;");_.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",q&&(_.width=_.height=1,d.display.wrapper.appendChild(_),_._top=_.offsetTop),m.dataTransfer.setDragImage(_,0,0),q&&_.parentNode.removeChild(_)}}function lf(d,m){var _=js(d,m);if(_){var y=document.createDocumentFragment();ds(d,_,y),d.display.dragCursor||(d.display.dragCursor=de("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),d.display.lineSpace.insertBefore(d.display.dragCursor,d.display.cursorDiv)),ut(d.display.dragCursor,y)}}function iu(d){d.display.dragCursor&&(d.display.lineSpace.removeChild(d.display.dragCursor),d.display.dragCursor=null)}function cd(d){if(document.getElementsByClassName){for(var m=document.getElementsByClassName("CodeMirror"),_=[],y=0;y<m.length;y++){var k=m[y].CodeMirror;k&&_.push(k)}_.length&&_[0].operation(function(){for(var E=0;E<_.length;E++)d(_[E])})}}var nu=!1;function uf(){nu||(dd(),nu=!0)}function dd(){var d;ve(window,"resize",function(){d==null&&(d=setTimeout(function(){d=null,cd(cf)},100))}),ve(window,"blur",function(){return cd(ws)})}function cf(d){var m=d.display;m.cachedCharWidth=m.cachedTextHeight=m.cachedPaddingH=null,m.scrollbarsClipped=!1,d.setSize()}for(var Jn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},to=0;to<10;to++)Jn[to+48]=Jn[to+96]=String(to);for(var Yo=65;Yo<=90;Yo++)Jn[Yo]=String.fromCharCode(Yo);for(var io=1;io<=12;io++)Jn[io+111]=Jn[io+63235]="F"+io;var hs={};hs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},hs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},hs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},hs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},hs.default=ae?hs.macDefault:hs.pcDefault;function df(d){var m=d.split(/-(?!$)/);d=m[m.length-1];for(var _,y,k,E,F=0;F<m.length-1;F++){var P=m[F];if(/^(cmd|meta|m)$/i.test(P))E=!0;else if(/^a(lt)?$/i.test(P))_=!0;else if(/^(c|ctrl|control)$/i.test(P))y=!0;else if(/^s(hift)?$/i.test(P))k=!0;else throw new Error("Unrecognized modifier name: "+P)}return _&&(d="Alt-"+d),y&&(d="Ctrl-"+d),E&&(d="Cmd-"+d),k&&(d="Shift-"+d),d}function su(d){var m={};for(var _ in d)if(d.hasOwnProperty(_)){var y=d[_];if(/^(name|fallthrough|(de|at)tach)$/.test(_))continue;if(y=="..."){delete d[_];continue}for(var k=oi(_.split(" "),df),E=0;E<k.length;E++){var F=void 0,P=void 0;E==k.length-1?(P=k.join(" "),F=y):(P=k.slice(0,E+1).join(" "),F="...");var R=m[P];if(!R)m[P]=F;else if(R!=F)throw new Error("Inconsistent bindings for "+P)}delete d[_]}for(var H in m)d[H]=m[H];return d}function mr(d,m,_,y){m=no(m);var k=m.call?m.call(d,y):m[d];if(k===!1)return"nothing";if(k==="...")return"multi";if(k!=null&&_(k))return"handled";if(m.fallthrough){if(Object.prototype.toString.call(m.fallthrough)!="[object Array]")return mr(d,m.fallthrough,_,y);for(var E=0;E<m.fallthrough.length;E++){var F=mr(d,m.fallthrough[E],_,y);if(F)return F}}}function hd(d){var m=typeof d=="string"?d:Jn[d.keyCode];return m=="Ctrl"||m=="Alt"||m=="Shift"||m=="Mod"}function au(d,m,_){var y=d;return m.altKey&&y!="Alt"&&(d="Alt-"+d),(Te?m.metaKey:m.ctrlKey)&&y!="Ctrl"&&(d="Ctrl-"+d),(Te?m.ctrlKey:m.metaKey)&&y!="Mod"&&(d="Cmd-"+d),!_&&m.shiftKey&&y!="Shift"&&(d="Shift-"+d),d}function fd(d,m){if(q&&d.keyCode==34&&d.char)return!1;var _=Jn[d.keyCode];return _==null||d.altGraphKey?!1:(d.keyCode==3&&d.code&&(_=d.code),au(_,d,m))}function no(d){return typeof d=="string"?hs[d]:d}function gr(d,m){for(var _=d.doc.sel.ranges,y=[],k=0;k<_.length;k++){for(var E=m(_[k]);y.length&&bt(E.from,at(y).to)<=0;){var F=y.pop();if(bt(F.from,E.from)<0){E.from=F.from;break}}y.push(E)}cn(d,function(){for(var P=y.length-1;P>=0;P--)ka(d.doc,"",y[P].from,y[P].to,"+delete");ba(d)})}function Go(d,m,_){var y=z(d.text,m+_,_);return y<0||y>d.text.length?null:y}function Ko(d,m,_){var y=Go(d,m.ch,_);return y==null?null:new $e(m.line,y,_<0?"after":"before")}function Xo(d,m,_,y,k){if(d){m.doc.direction=="rtl"&&(k=-k);var E=ue(_,m.doc.direction);if(E){var F=k<0?at(E):E[0],P=k<0==(F.level==1),R=P?"after":"before",H;if(F.level>0||m.doc.direction=="rtl"){var Z=Za(m,_);H=k<0?_.text.length-1:0;var ne=us(m,Z,H).top;H=ee(function(_e){return us(m,Z,_e).top==ne},k<0==(F.level==1)?F.from:F.to-1,H),R=="before"&&(H=Go(_,H,1))}else H=k<0?F.to:F.from;return new $e(y,H,R)}}return new $e(y,k<0?_.text.length:0,k<0?"before":"after")}function hf(d,m,_,y){var k=ue(m,d.doc.direction);if(!k)return Ko(m,_,y);_.ch>=m.text.length?(_.ch=m.text.length,_.sticky="before"):_.ch<=0&&(_.ch=0,_.sticky="after");var E=Ce(k,_.ch,_.sticky),F=k[E];if(d.doc.direction=="ltr"&&F.level%2==0&&(y>0?F.to>_.ch:F.from<_.ch))return Ko(m,_,y);var P=function(qe,Je){return Go(m,qe instanceof $e?qe.ch:qe,Je)},R,H=function(qe){return d.options.lineWrapping?(R=R||Za(d,m),$r(d,m,R,qe)):{begin:0,end:m.text.length}},Z=H(_.sticky=="before"?P(_,-1):_.ch);if(d.doc.direction=="rtl"||F.level==1){var ne=F.level==1==y<0,_e=P(_,ne?1:-1);if(_e!=null&&(ne?_e<=F.to&&_e<=Z.end:_e>=F.from&&_e>=Z.begin)){var me=ne?"before":"after";return new $e(_.line,_e,me)}}var Ae=function(qe,Je,Ye){for(var it=function(Gt,Ai){return Ai?new $e(_.line,P(Gt,1),"before"):new $e(_.line,Gt,"after")};qe>=0&&qe<k.length;qe+=Je){var ft=k[qe],ht=Je>0==(ft.level!=1),Dt=ht?Ye.begin:P(Ye.end,-1);if(ft.from<=Dt&&Dt<ft.to||(Dt=ht?ft.from:P(ft.to,-1),Ye.begin<=Dt&&Dt<Ye.end))return it(Dt,ht)}},Ne=Ae(E+y,y,Z);if(Ne)return Ne;var We=y>0?Z.end:P(Z.begin,-1);return We!=null&&!(y>0&&We==m.text.length)&&(Ne=Ae(y>0?0:k.length-1,y,H(We)),Ne)?Ne:null}var so={selectAll:Jl,singleSelection:function(d){return d.setSelection(d.getCursor("anchor"),d.getCursor("head"),gi)},killLine:function(d){return gr(d,function(m){if(m.empty()){var _=rt(d.doc,m.head.line).text.length;return m.head.ch==_&&m.head.line<d.lastLine()?{from:m.head,to:$e(m.head.line+1,0)}:{from:m.head,to:$e(m.head.line,_)}}else return{from:m.from(),to:m.to()}})},deleteLine:function(d){return gr(d,function(m){return{from:$e(m.from().line,0),to:Ct(d.doc,$e(m.to().line+1,0))}})},delLineLeft:function(d){return gr(d,function(m){return{from:$e(m.from().line,0),to:m.from()}})},delWrappedLineLeft:function(d){return gr(d,function(m){var _=d.charCoords(m.head,"div").top+5,y=d.coordsChar({left:0,top:_},"div");return{from:y,to:m.from()}})},delWrappedLineRight:function(d){return gr(d,function(m){var _=d.charCoords(m.head,"div").top+5,y=d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:_},"div");return{from:m.from(),to:y}})},undo:function(d){return d.undo()},redo:function(d){return d.redo()},undoSelection:function(d){return d.undoSelection()},redoSelection:function(d){return d.redoSelection()},goDocStart:function(d){return d.extendSelection($e(d.firstLine(),0))},goDocEnd:function(d){return d.extendSelection($e(d.lastLine()))},goLineStart:function(d){return d.extendSelectionsBy(function(m){return pd(d,m.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(d){return d.extendSelectionsBy(function(m){return gd(d,m.head)},{origin:"+move",bias:1})},goLineEnd:function(d){return d.extendSelectionsBy(function(m){return md(d,m.head.line)},{origin:"+move",bias:-1})},goLineRight:function(d){return d.extendSelectionsBy(function(m){var _=d.cursorCoords(m.head,"div").top+5;return d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:_},"div")},ji)},goLineLeft:function(d){return d.extendSelectionsBy(function(m){var _=d.cursorCoords(m.head,"div").top+5;return d.coordsChar({left:0,top:_},"div")},ji)},goLineLeftSmart:function(d){return d.extendSelectionsBy(function(m){var _=d.cursorCoords(m.head,"div").top+5,y=d.coordsChar({left:0,top:_},"div");return y.ch<d.getLine(y.line).search(/\S/)?gd(d,m.head):y},ji)},goLineUp:function(d){return d.moveV(-1,"line")},goLineDown:function(d){return d.moveV(1,"line")},goPageUp:function(d){return d.moveV(-1,"page")},goPageDown:function(d){return d.moveV(1,"page")},goCharLeft:function(d){return d.moveH(-1,"char")},goCharRight:function(d){return d.moveH(1,"char")},goColumnLeft:function(d){return d.moveH(-1,"column")},goColumnRight:function(d){return d.moveH(1,"column")},goWordLeft:function(d){return d.moveH(-1,"word")},goGroupRight:function(d){return d.moveH(1,"group")},goGroupLeft:function(d){return d.moveH(-1,"group")},goWordRight:function(d){return d.moveH(1,"word")},delCharBefore:function(d){return d.deleteH(-1,"codepoint")},delCharAfter:function(d){return d.deleteH(1,"char")},delWordBefore:function(d){return d.deleteH(-1,"word")},delWordAfter:function(d){return d.deleteH(1,"word")},delGroupBefore:function(d){return d.deleteH(-1,"group")},delGroupAfter:function(d){return d.deleteH(1,"group")},indentAuto:function(d){return d.indentSelection("smart")},indentMore:function(d){return d.indentSelection("add")},indentLess:function(d){return d.indentSelection("subtract")},insertTab:function(d){return d.replaceSelection("	")},insertSoftTab:function(d){for(var m=[],_=d.listSelections(),y=d.options.tabSize,k=0;k<_.length;k++){var E=_[k].from(),F=Vt(d.getLine(E.line),E.ch,y);m.push(Tn(y-F%y))}d.replaceSelections(m)},defaultTab:function(d){d.somethingSelected()?d.indentSelection("add"):d.execCommand("insertTab")},transposeChars:function(d){return cn(d,function(){for(var m=d.listSelections(),_=[],y=0;y<m.length;y++)if(m[y].empty()){var k=m[y].head,E=rt(d.doc,k.line).text;if(E){if(k.ch==E.length&&(k=new $e(k.line,k.ch-1)),k.ch>0)k=new $e(k.line,k.ch+1),d.replaceRange(E.charAt(k.ch-1)+E.charAt(k.ch-2),$e(k.line,k.ch-2),k,"+transpose");else if(k.line>d.doc.first){var F=rt(d.doc,k.line-1).text;F&&(k=new $e(k.line,1),d.replaceRange(E.charAt(0)+d.doc.lineSeparator()+F.charAt(F.length-1),$e(k.line-1,F.length-1),k,"+transpose"))}}_.push(new Lt(k,k))}d.setSelections(_)})},newlineAndIndent:function(d){return cn(d,function(){for(var m=d.listSelections(),_=m.length-1;_>=0;_--)d.replaceRange(d.doc.lineSeparator(),m[_].anchor,m[_].head,"+input");m=d.listSelections();for(var y=0;y<m.length;y++)d.indentLine(m[y].from().line,null,!0);ba(d)})},openLine:function(d){return d.replaceSelection(`
`,"start")},toggleOverwrite:function(d){return d.toggleOverwrite()}};function pd(d,m){var _=rt(d.doc,m),y=An(_);return y!=_&&(m=zt(y)),Xo(!0,d,y,m,1)}function md(d,m){var _=rt(d.doc,m),y=Hs(_);return y!=_&&(m=zt(y)),Xo(!0,d,_,m,-1)}function gd(d,m){var _=pd(d,m.line),y=rt(d.doc,_.line),k=ue(y,d.doc.direction);if(!k||k[0].level==0){var E=Math.max(_.ch,y.text.search(/\S/)),F=m.line==_.line&&m.ch<=E&&m.ch;return $e(_.line,F?0:E,_.sticky)}return _}function ao(d,m,_){if(typeof m=="string"&&(m=so[m],!m))return!1;d.display.input.ensurePolled();var y=d.display.shift,k=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),_&&(d.display.shift=!1),k=m(d)!=ii}finally{d.display.shift=y,d.state.suppressEdits=!1}return k}function ff(d,m,_){for(var y=0;y<d.state.keyMaps.length;y++){var k=mr(m,d.state.keyMaps[y],_,d);if(k)return k}return d.options.extraKeys&&mr(m,d.options.extraKeys,_,d)||mr(m,d.options.keyMap,_,d)}var vd=new Rt;function ro(d,m,_,y){var k=d.state.keySeq;if(k){if(hd(m))return"handled";if(/\'$/.test(m)?d.state.keySeq=null:vd.set(50,function(){d.state.keySeq==k&&(d.state.keySeq=null,d.display.input.reset())}),ru(d,k+" "+m,_,y))return!0}return ru(d,m,_,y)}function ru(d,m,_,y){var k=ff(d,m,y);return k=="multi"&&(d.state.keySeq=m),k=="handled"&&Pi(d,"keyHandled",d,m,_),(k=="handled"||k=="multi")&&(mt(_),kn(d)),!!k}function bd(d,m){var _=fd(m,!0);return _?m.shiftKey&&!d.state.keySeq?ro(d,"Shift-"+_,m,function(y){return ao(d,y,!0)})||ro(d,_,m,function(y){if(typeof y=="string"?/^go[A-Z]/.test(y):y.motion)return ao(d,y)}):ro(d,_,m,function(y){return ao(d,y)}):!1}function yd(d,m,_){return ro(d,"'"+_+"'",m,function(y){return ao(d,y,!0)})}var ou=null;function Jo(d){var m=this;if(!(d.target&&d.target!=m.display.input.getField())&&(m.curOp.focus=gt(Ee(m)),!je(m,d))){S&&T<11&&d.keyCode==27&&(d.returnValue=!1);var _=d.keyCode;m.display.shift=_==16||d.shiftKey;var y=bd(m,d);q&&(ou=y?_:null,!y&&_==88&&!bi&&(ae?d.metaKey:d.ctrlKey)&&m.replaceSelection("",null,"cut")),f&&!ae&&!y&&_==46&&d.shiftKey&&!d.ctrlKey&&document.execCommand&&document.execCommand("cut"),_==18&&!/\bCodeMirror-crosshair\b/.test(m.display.lineDiv.className)&&pf(m)}}function pf(d){var m=d.display.lineDiv;Ht(m,"CodeMirror-crosshair");function _(y){(y.keyCode==18||!y.altKey)&&(Ge(m,"CodeMirror-crosshair"),et(document,"keyup",_),et(document,"mouseover",_))}ve(document,"keyup",_),ve(document,"mouseover",_)}function _d(d){d.keyCode==16&&(this.doc.sel.shift=!1),je(this,d)}function lu(d){var m=this;if(!(d.target&&d.target!=m.display.input.getField())&&!(xs(m.display,d)||je(m,d)||d.ctrlKey&&!d.altKey||ae&&d.metaKey)){var _=d.keyCode,y=d.charCode;if(q&&_==ou){ou=null,mt(d);return}if(!(q&&(!d.which||d.which<10)&&bd(m,d))){var k=String.fromCharCode(y??_);k!="\b"&&(yd(m,d,k)||m.display.input.onKeyPress(d))}}}var mf=400,Zo=function(d,m,_){this.time=d,this.pos=m,this.button=_};Zo.prototype.compare=function(d,m,_){return this.time+mf>d&&bt(m,this.pos)==0&&_==this.button};var oo,vr;function gf(d,m){var _=+new Date;return vr&&vr.compare(_,d,m)?(oo=vr=null,"triple"):oo&&oo.compare(_,d,m)?(vr=new Zo(_,d,m),oo=null,"double"):(oo=new Zo(_,d,m),vr=null,"single")}function uu(d){var m=this,_=m.display;if(!(je(m,d)||_.activeTouch&&_.input.supportsTouch())){if(_.input.ensurePolled(),_.shift=d.shiftKey,xs(_,d)){A||(_.scroller.draggable=!1,setTimeout(function(){return _.scroller.draggable=!0},100));return}if(!du(m,d)){var y=js(m,d),k=qi(d),E=y?gf(y,k):"single";lt(m).focus(),k==1&&m.state.selectingText&&m.state.selectingText(d),!(y&&vf(m,k,y,E,d))&&(k==1?y?bf(m,y,E,d):en(d)==_.scroller&&mt(d):k==2?(y&&Ts(m.doc,y),setTimeout(function(){return _.input.focus()},20)):k==3&&(Ke?m.display.input.onContextMenu(d):Ro(m)))}}}function vf(d,m,_,y,k){var E="Click";return y=="double"?E="Double"+E:y=="triple"&&(E="Triple"+E),E=(m==1?"Left":m==2?"Middle":"Right")+E,ro(d,au(E,k),k,function(F){if(typeof F=="string"&&(F=so[F]),!F)return!1;var P=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),P=F(d,_)!=ii}finally{d.state.suppressEdits=!1}return P})}function xd(d,m,_){var y=d.getOption("configureMouse"),k=y?y(d,m,_):{};if(k.unit==null){var E=ke?_.shiftKey&&_.metaKey:_.altKey;k.unit=E?"rectangle":m=="single"?"char":m=="double"?"word":"line"}return(k.extend==null||d.doc.extend)&&(k.extend=d.doc.extend||_.shiftKey),k.addNew==null&&(k.addNew=ae?_.metaKey:_.ctrlKey),k.moveOnDrag==null&&(k.moveOnDrag=!(ae?_.altKey:_.ctrlKey)),k}function bf(d,m,_,y){S?setTimeout(Zt(qn,d),0):d.curOp.focus=gt(Ee(d));var k=xd(d,_,y),E=d.doc.sel,F;d.options.dragDrop&&oa&&!d.isReadOnly()&&_=="single"&&(F=E.contains(m))>-1&&(bt((F=E.ranges[F]).from(),m)<0||m.xRel>0)&&(bt(F.to(),m)>0||m.xRel<0)?Cd(d,y,m,k):kd(d,y,m,k)}function Cd(d,m,_,y){var k=d.display,E=!1,F=Ti(d,function(H){A&&(k.scroller.draggable=!1),d.state.draggingText=!1,d.state.delayingBlurEvent&&(d.hasFocus()?d.state.delayingBlurEvent=!1:Ro(d)),et(k.wrapper.ownerDocument,"mouseup",F),et(k.wrapper.ownerDocument,"mousemove",P),et(k.scroller,"dragstart",R),et(k.scroller,"drop",F),E||(mt(H),y.addNew||Ts(d.doc,_,null,null,y.extend),A&&!Q||S&&T==9?setTimeout(function(){k.wrapper.ownerDocument.body.focus({preventScroll:!0}),k.input.focus()},20):k.input.focus())}),P=function(H){E=E||Math.abs(m.clientX-H.clientX)+Math.abs(m.clientY-H.clientY)>=10},R=function(){return E=!0};A&&(k.scroller.draggable=!0),d.state.draggingText=F,F.copy=!y.moveOnDrag,ve(k.wrapper.ownerDocument,"mouseup",F),ve(k.wrapper.ownerDocument,"mousemove",P),ve(k.scroller,"dragstart",R),ve(k.scroller,"drop",F),d.state.delayingBlurEvent=!0,setTimeout(function(){return k.input.focus()},20),k.scroller.dragDrop&&k.scroller.dragDrop()}function wd(d,m,_){if(_=="char")return new Lt(m,m);if(_=="word")return d.findWordAt(m);if(_=="line")return new Lt($e(m.line,0),Ct(d.doc,$e(m.line+1,0)));var y=_(d,m);return new Lt(y.from,y.to)}function kd(d,m,_,y){S&&Ro(d);var k=d.display,E=d.doc;mt(m);var F,P,R=E.sel,H=R.ranges;if(y.addNew&&!y.extend?(P=E.sel.contains(_),P>-1?F=H[P]:F=new Lt(_,_)):(F=E.sel.primary(),P=E.sel.primIndex),y.unit=="rectangle")y.addNew||(F=new Lt(_,_)),_=js(d,m,!0,!0),P=-1;else{var Z=wd(d,_,y.unit);y.extend?F=Uo(F,Z.anchor,Z.head,y.extend):F=Z}y.addNew?P==-1?(P=H.length,Ki(E,On(d,H.concat([F]),P),{scroll:!1,origin:"*mouse"})):H.length>1&&H[P].empty()&&y.unit=="char"&&!y.extend?(Ki(E,On(d,H.slice(0,P).concat(H.slice(P+1)),0),{scroll:!1,origin:"*mouse"}),R=E.sel):Xl(E,P,F,ct):(P=0,Ki(E,new Fn([F],0),ct),R=E.sel);var ne=_;function _e(Ye){if(bt(ne,Ye)!=0)if(ne=Ye,y.unit=="rectangle"){for(var it=[],ft=d.options.tabSize,ht=Vt(rt(E,_.line).text,_.ch,ft),Dt=Vt(rt(E,Ye.line).text,Ye.ch,ft),Gt=Math.min(ht,Dt),Ai=Math.max(ht,Dt),ri=Math.min(_.line,Ye.line),hn=Math.min(d.lastLine(),Math.max(_.line,Ye.line));ri<=hn;ri++){var fn=rt(E,ri).text,_i=Ui(fn,Gt,ft);Gt==Ai?it.push(new Lt($e(ri,_i),$e(ri,_i))):fn.length>_i&&it.push(new Lt($e(ri,_i),$e(ri,Ui(fn,Ai,ft))))}it.length||it.push(new Lt(_,_)),Ki(E,On(d,R.ranges.slice(0,P).concat(it),P),{origin:"*mouse",scroll:!1}),d.scrollIntoView(Ye)}else{var pn=F,Ni=wd(d,Ye,y.unit),Mi=pn.anchor,xi;bt(Ni.anchor,Mi)>0?(xi=Ni.head,Mi=Pr(pn.from(),Ni.anchor)):(xi=Ni.anchor,Mi=Or(pn.to(),Ni.head));var ui=R.ranges.slice(0);ui[P]=yf(d,new Lt(Ct(E,Mi),xi)),Ki(E,On(d,ui,P),ct)}}var me=k.wrapper.getBoundingClientRect(),Ae=0;function Ne(Ye){var it=++Ae,ft=js(d,Ye,!0,y.unit=="rectangle");if(ft)if(bt(ft,ne)!=0){d.curOp.focus=gt(Ee(d)),_e(ft);var ht=Yn(k,E);(ft.line>=ht.to||ft.line<ht.from)&&setTimeout(Ti(d,function(){Ae==it&&Ne(Ye)}),150)}else{var Dt=Ye.clientY<me.top?-20:Ye.clientY>me.bottom?20:0;Dt&&setTimeout(Ti(d,function(){Ae==it&&(k.scroller.scrollTop+=Dt,Ne(Ye))}),50)}}function We(Ye){d.state.selectingText=!1,Ae=1/0,Ye&&(mt(Ye),k.input.focus()),et(k.wrapper.ownerDocument,"mousemove",qe),et(k.wrapper.ownerDocument,"mouseup",Je),E.history.lastSelOrigin=null}var qe=Ti(d,function(Ye){Ye.buttons===0||!qi(Ye)?We(Ye):Ne(Ye)}),Je=Ti(d,We);d.state.selectingText=Je,ve(k.wrapper.ownerDocument,"mousemove",qe),ve(k.wrapper.ownerDocument,"mouseup",Je)}function yf(d,m){var _=m.anchor,y=m.head,k=rt(d.doc,_.line);if(bt(_,y)==0&&_.sticky==y.sticky)return m;var E=ue(k);if(!E)return m;var F=Ce(E,_.ch,_.sticky),P=E[F];if(P.from!=_.ch&&P.to!=_.ch)return m;var R=F+(P.from==_.ch==(P.level!=1)?0:1);if(R==0||R==E.length)return m;var H;if(y.line!=_.line)H=(y.line-_.line)*(d.doc.direction=="ltr"?1:-1)>0;else{var Z=Ce(E,y.ch,y.sticky),ne=Z-F||(y.ch-_.ch)*(P.level==1?-1:1);Z==R-1||Z==R?H=ne<0:H=ne>0}var _e=E[R+(H?-1:0)],me=H==(_e.level==1),Ae=me?_e.from:_e.to,Ne=me?"after":"before";return _.ch==Ae&&_.sticky==Ne?m:new Lt(new $e(_.line,Ae,Ne),y)}function cu(d,m,_,y){var k,E;if(m.touches)k=m.touches[0].clientX,E=m.touches[0].clientY;else try{k=m.clientX,E=m.clientY}catch{return!1}if(k>=Math.floor(d.display.gutters.getBoundingClientRect().right))return!1;y&&mt(m);var F=d.display,P=F.lineDiv.getBoundingClientRect();if(E>P.bottom||!xt(d,_))return jt(m);E-=P.top-F.viewOffset;for(var R=0;R<d.display.gutterSpecs.length;++R){var H=F.gutters.childNodes[R];if(H&&H.getBoundingClientRect().right>=k){var Z=Ns(d.doc,E),ne=d.display.gutterSpecs[R];return tt(d,_,d,Z,ne.className,m),jt(m)}}}function du(d,m){return cu(d,m,"gutterClick",!0)}function hu(d,m){xs(d.display,m)||_f(d,m)||je(d,m,"contextmenu")||Ke||d.display.input.onContextMenu(m)}function _f(d,m){return xt(d,"gutterContextMenu")?cu(d,m,"gutterContextMenu",!1):!1}function fu(d){d.display.wrapper.className=d.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+d.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Rr(d)}var br={toString:function(){return"CodeMirror.Init"}},pu={},Qo={};function Sd(d){var m=d.optionHandlers;function _(y,k,E,F){d.defaults[y]=k,E&&(m[y]=F?function(P,R,H){H!=br&&E(P,R,H)}:E)}d.defineOption=_,d.Init=br,_("value","",function(y,k){return y.setValue(k)},!0),_("mode",null,function(y,k){y.doc.modeOption=k,lr(y)},!0),_("indentUnit",2,lr,!0),_("indentWithTabs",!1),_("smartIndent",!0),_("tabSize",4,function(y){ur(y),Rr(y),Bi(y)},!0),_("lineSeparator",null,function(y,k){if(y.doc.lineSep=k,!!k){var E=[],F=y.doc.first;y.doc.iter(function(R){for(var H=0;;){var Z=R.text.indexOf(k,H);if(Z==-1)break;H=Z+k.length,E.push($e(F,Z))}F++});for(var P=E.length-1;P>=0;P--)ka(y.doc,k,E[P],$e(E[P].line,E[P].ch+k.length))}}),_("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(y,k,E){y.state.specialChars=new RegExp(k.source+(k.test("	")?"":"|	"),"g"),E!=br&&y.refresh()}),_("specialCharPlaceholder",Bh,function(y){return y.refresh()},!0),_("electricChars",!0),_("inputStyle",se?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),_("spellcheck",!1,function(y,k){return y.getInputField().spellcheck=k},!0),_("autocorrect",!1,function(y,k){return y.getInputField().autocorrect=k},!0),_("autocapitalize",!1,function(y,k){return y.getInputField().autocapitalize=k},!0),_("rtlMoveVisually",!ye),_("wholeLineUpdateBefore",!0),_("theme","default",function(y){fu(y),Yr(y)},!0),_("keyMap","default",function(y,k,E){var F=no(k),P=E!=br&&no(E);P&&P.detach&&P.detach(y,F),F.attach&&F.attach(y,P||null)}),_("extraKeys",null),_("configureMouse",null),_("lineWrapping",!1,Dd,!0),_("gutters",[],function(y,k){y.display.gutterSpecs=Ul(k,y.options.lineNumbers),Yr(y)},!0),_("fixedGutter",!0,function(y,k){y.display.gutters.style.left=k?Cn(y.display)+"px":"0",y.refresh()},!0),_("coverGutterNextToScrollbar",!1,function(y){return Mn(y)},!0),_("scrollbarStyle","native",function(y){_a(y),Mn(y),y.display.scrollbars.setScrollTop(y.doc.scrollTop),y.display.scrollbars.setScrollLeft(y.doc.scrollLeft)},!0),_("lineNumbers",!1,function(y,k){y.display.gutterSpecs=Ul(y.options.gutters,k),Yr(y)},!0),_("firstLineNumber",1,Yr,!0),_("lineNumberFormatter",function(y){return y},Yr,!0),_("showCursorWhenSelecting",!1,Un,!0),_("resetSelectionOnContextMenu",!0),_("lineWiseCopyCut",!0),_("pasteLinesPerSelection",!0),_("selectionsMayTouch",!1),_("readOnly",!1,function(y,k){k=="nocursor"&&(ws(y),y.display.input.blur()),y.display.input.readOnlyChanged(k)}),_("screenReaderLabel",null,function(y,k){k=k===""?null:k,y.display.input.screenReaderLabelChanged(k)}),_("disableInput",!1,function(y,k){k||y.display.input.reset()},!0),_("dragDrop",!0,xf),_("allowDropFileTypes",null),_("cursorBlinkRate",530),_("cursorScrollMargin",0),_("cursorHeight",1,Un,!0),_("singleCursorHeightPerLine",!0,Un,!0),_("workTime",100),_("workDelay",100),_("flattenSpans",!0,ur,!0),_("addModeClass",!1,ur,!0),_("pollInterval",100),_("undoDepth",200,function(y,k){return y.doc.history.undoDepth=k}),_("historyEventDelay",1250),_("viewportMargin",10,function(y){return y.refresh()},!0),_("maxHighlightLength",1e4,ur,!0),_("moveInputWithCursor",!0,function(y,k){k||y.display.input.resetPosition()}),_("tabindex",null,function(y,k){return y.display.input.getField().tabIndex=k||""}),_("autofocus",null),_("direction","ltr",function(y,k){return y.doc.setDirection(k)},!0),_("phrases",null)}function xf(d,m,_){var y=_&&_!=br;if(!m!=!y){var k=d.display.dragFunctions,E=m?ve:et;E(d.display.scroller,"dragstart",k.start),E(d.display.scroller,"dragenter",k.enter),E(d.display.scroller,"dragover",k.over),E(d.display.scroller,"dragleave",k.leave),E(d.display.scroller,"drop",k.drop)}}function Dd(d){d.options.lineWrapping?(Ht(d.display.wrapper,"CodeMirror-wrap"),d.display.sizer.style.minWidth="",d.display.sizerWidth=null):(Ge(d.display.wrapper,"CodeMirror-wrap"),Vn(d)),No(d),Bi(d),Rr(d),setTimeout(function(){return Mn(d)},100)}function ai(d,m){var _=this;if(!(this instanceof ai))return new ai(d,m);this.options=m=m?ti(m):{},ti(pu,m,!1);var y=m.value;typeof y=="string"?y=new dn(y,m.mode,null,m.lineSeparator,m.direction):m.mode&&(y.modeOption=m.mode),this.doc=y;var k=new ai.inputStyles[m.inputStyle](this),E=this.display=new Zh(d,y,k,m);E.wrapper.CodeMirror=this,fu(this),m.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),_a(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Rt,keySeq:null,specialChars:null},m.autofocus&&!se&&E.input.focus(),S&&T<11&&setTimeout(function(){return _.display.input.reset(!0)},20),Td(this),uf(),Ys(this),this.curOp.forceUpdate=!0,Gl(this,y),m.autofocus&&!se||this.hasFocus()?setTimeout(function(){_.hasFocus()&&!_.state.focused&&zo(_)},20):ws(this);for(var F in Qo)Qo.hasOwnProperty(F)&&Qo[F](this,m[F],br);Bc(this),m.finishInit&&m.finishInit(this);for(var P=0;P<mu.length;++P)mu[P](this);Gs(this),A&&m.lineWrapping&&getComputedStyle(E.lineDiv).textRendering=="optimizelegibility"&&(E.lineDiv.style.textRendering="auto")}ai.defaults=pu,ai.optionHandlers=Qo;function Td(d){var m=d.display;ve(m.scroller,"mousedown",Ti(d,uu)),S&&T<11?ve(m.scroller,"dblclick",Ti(d,function(R){if(!je(d,R)){var H=js(d,R);if(!(!H||du(d,R)||xs(d.display,R))){mt(R);var Z=d.findWordAt(H);Ts(d.doc,Z.anchor,Z.head)}}})):ve(m.scroller,"dblclick",function(R){return je(d,R)||mt(R)}),ve(m.scroller,"contextmenu",function(R){return hu(d,R)}),ve(m.input.getField(),"contextmenu",function(R){m.scroller.contains(R.target)||hu(d,R)});var _,y={end:0};function k(){m.activeTouch&&(_=setTimeout(function(){return m.activeTouch=null},1e3),y=m.activeTouch,y.end=+new Date)}function E(R){if(R.touches.length!=1)return!1;var H=R.touches[0];return H.radiusX<=1&&H.radiusY<=1}function F(R,H){if(H.left==null)return!0;var Z=H.left-R.left,ne=H.top-R.top;return Z*Z+ne*ne>20*20}ve(m.scroller,"touchstart",function(R){if(!je(d,R)&&!E(R)&&!du(d,R)){m.input.ensurePolled(),clearTimeout(_);var H=+new Date;m.activeTouch={start:H,moved:!1,prev:H-y.end<=300?y:null},R.touches.length==1&&(m.activeTouch.left=R.touches[0].pageX,m.activeTouch.top=R.touches[0].pageY)}}),ve(m.scroller,"touchmove",function(){m.activeTouch&&(m.activeTouch.moved=!0)}),ve(m.scroller,"touchend",function(R){var H=m.activeTouch;if(H&&!xs(m,R)&&H.left!=null&&!H.moved&&new Date-H.start<300){var Z=d.coordsChar(m.activeTouch,"page"),ne;!H.prev||F(H,H.prev)?ne=new Lt(Z,Z):!H.prev.prev||F(H,H.prev.prev)?ne=d.findWordAt(Z):ne=new Lt($e(Z.line,0),Ct(d.doc,$e(Z.line+1,0))),d.setSelection(ne.anchor,ne.head),d.focus(),mt(R)}k()}),ve(m.scroller,"touchcancel",k),ve(m.scroller,"scroll",function(){m.scroller.clientHeight&&(ar(d,m.scroller.scrollTop),ks(d,m.scroller.scrollLeft,!0),tt(d,"scroll",d))}),ve(m.scroller,"mousewheel",function(R){return Gi(d,R)}),ve(m.scroller,"DOMMouseScroll",function(R){return Gi(d,R)}),ve(m.wrapper,"scroll",function(){return m.wrapper.scrollTop=m.wrapper.scrollLeft=0}),m.dragFunctions={enter:function(R){je(d,R)||vi(R)},over:function(R){je(d,R)||(lf(d,R),vi(R))},start:function(R){return ud(d,R)},drop:Ti(d,of),leave:function(R){je(d,R)||iu(d)}};var P=m.input.getField();ve(P,"keyup",function(R){return _d.call(d,R)}),ve(P,"keydown",Ti(d,Jo)),ve(P,"keypress",Ti(d,lu)),ve(P,"focus",function(R){return zo(d,R)}),ve(P,"blur",function(R){return ws(d,R)})}var mu=[];ai.defineInitHook=function(d){return mu.push(d)};function yr(d,m,_,y){var k=d.doc,E;_==null&&(_="add"),_=="smart"&&(k.mode.indent?E=Wa(d,m).state:_="prev");var F=d.options.tabSize,P=rt(k,m),R=Vt(P.text,null,F);P.stateAfter&&(P.stateAfter=null);var H=P.text.match(/^\s*/)[0],Z;if(!y&&!/\S/.test(P.text))Z=0,_="not";else if(_=="smart"&&(Z=k.mode.indent(E,P.text.slice(H.length),P.text),Z==ii||Z>150)){if(!y)return;_="prev"}_=="prev"?m>k.first?Z=Vt(rt(k,m-1).text,null,F):Z=0:_=="add"?Z=R+d.options.indentUnit:_=="subtract"?Z=R-d.options.indentUnit:typeof _=="number"&&(Z=R+_),Z=Math.max(0,Z);var ne="",_e=0;if(d.options.indentWithTabs)for(var me=Math.floor(Z/F);me;--me)_e+=F,ne+="	";if(_e<Z&&(ne+=Tn(Z-_e)),ne!=H)return ka(k,ne,$e(m,0),$e(m,H.length),"+input"),P.stateAfter=null,!0;for(var Ae=0;Ae<k.sel.ranges.length;Ae++){var Ne=k.sel.ranges[Ae];if(Ne.head.line==m&&Ne.head.ch<H.length){var We=$e(m,H.length);Xl(k,Ae,new Lt(We,We));break}}}var Zn=null;function _r(d){Zn=d}function el(d,m,_,y,k){var E=d.doc;d.display.shift=!1,y||(y=E.sel);var F=+new Date-200,P=k=="paste"||d.state.pasteIncoming>F,R=$a(m),H=null;if(P&&y.ranges.length>1)if(Zn&&Zn.text.join(`
`)==m){if(y.ranges.length%Zn.text.length==0){H=[];for(var Z=0;Z<Zn.text.length;Z++)H.push(E.splitLines(Zn.text[Z]))}}else R.length==y.ranges.length&&d.options.pasteLinesPerSelection&&(H=oi(R,function(qe){return[qe]}));for(var ne=d.curOp.updateInput,_e=y.ranges.length-1;_e>=0;_e--){var me=y.ranges[_e],Ae=me.from(),Ne=me.to();me.empty()&&(_&&_>0?Ae=$e(Ae.line,Ae.ch-_):d.state.overwrite&&!P?Ne=$e(Ne.line,Math.min(rt(E,Ne.line).text.length,Ne.ch+at(R).length)):P&&Zn&&Zn.lineWise&&Zn.text.join(`
`)==R.join(`
`)&&(Ae=Ne=$e(Ae.line,0)));var We={from:Ae,to:Ne,text:H?H[_e%H.length]:R,origin:k||(P?"paste":d.state.cutIncoming>F?"cut":"+input")};wa(d.doc,We),Pi(d,"inputRead",d,We)}m&&!P&&Ad(d,m),ba(d),d.curOp.updateInput<2&&(d.curOp.updateInput=ne),d.curOp.typing=!0,d.state.pasteIncoming=d.state.cutIncoming=-1}function Ed(d,m){var _=d.clipboardData&&d.clipboardData.getData("Text");if(_)return d.preventDefault(),!m.isReadOnly()&&!m.options.disableInput&&m.hasFocus()&&cn(m,function(){return el(m,_,0,null,"paste")}),!0}function Ad(d,m){if(!(!d.options.electricChars||!d.options.smartIndent))for(var _=d.doc.sel,y=_.ranges.length-1;y>=0;y--){var k=_.ranges[y];if(!(k.head.ch>100||y&&_.ranges[y-1].head.line==k.head.line)){var E=d.getModeAt(k.head),F=!1;if(E.electricChars){for(var P=0;P<E.electricChars.length;P++)if(m.indexOf(E.electricChars.charAt(P))>-1){F=yr(d,k.head.line,"smart");break}}else E.electricInput&&E.electricInput.test(rt(d.doc,k.head.line).text.slice(0,k.head.ch))&&(F=yr(d,k.head.line,"smart"));F&&Pi(d,"electricInput",d,k.head.line)}}}function Md(d){for(var m=[],_=[],y=0;y<d.doc.sel.ranges.length;y++){var k=d.doc.sel.ranges[y].head.line,E={anchor:$e(k,0),head:$e(k+1,0)};_.push(E),m.push(d.getRange(E.anchor,E.head))}return{text:m,ranges:_}}function tl(d,m,_,y){d.setAttribute("autocorrect",_?"on":"off"),d.setAttribute("autocapitalize",y?"on":"off"),d.setAttribute("spellcheck",!!m)}function Fd(){var d=de("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),m=de("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return A?d.style.width="1000px":d.setAttribute("wrap","off"),K&&(d.style.border="1px solid black"),m}function Id(d){var m=d.optionHandlers,_=d.helpers={};d.prototype={constructor:d,focus:function(){lt(this).focus(),this.display.input.focus()},setOption:function(y,k){var E=this.options,F=E[y];E[y]==k&&y!="mode"||(E[y]=k,m.hasOwnProperty(y)&&Ti(this,m[y])(this,k,F),tt(this,"optionChange",this,y))},getOption:function(y){return this.options[y]},getDoc:function(){return this.doc},addKeyMap:function(y,k){this.state.keyMaps[k?"push":"unshift"](no(y))},removeKeyMap:function(y){for(var k=this.state.keyMaps,E=0;E<k.length;++E)if(k[E]==y||k[E].name==y)return k.splice(E,1),!0},addOverlay:Yi(function(y,k){var E=y.token?y:d.getMode(this.options,y);if(E.startState)throw new Error("Overlays may not be stateful.");dt(this.state.overlays,{mode:E,modeSpec:y,opaque:k&&k.opaque,priority:k&&k.priority||0},function(F){return F.priority}),this.state.modeGen++,Bi(this)}),removeOverlay:Yi(function(y){for(var k=this.state.overlays,E=0;E<k.length;++E){var F=k[E].modeSpec;if(F==y||typeof y=="string"&&F.name==y){k.splice(E,1),this.state.modeGen++,Bi(this);return}}}),indentLine:Yi(function(y,k,E){typeof k!="string"&&typeof k!="number"&&(k==null?k=this.options.smartIndent?"smart":"prev":k=k?"add":"subtract"),Va(this.doc,y)&&yr(this,y,k,E)}),indentSelection:Yi(function(y){for(var k=this.doc.sel.ranges,E=-1,F=0;F<k.length;F++){var P=k[F];if(P.empty())P.head.line>E&&(yr(this,P.head.line,y,!0),E=P.head.line,F==this.doc.sel.primIndex&&ba(this));else{var R=P.from(),H=P.to(),Z=Math.max(E,R.line);E=Math.min(this.lastLine(),H.line-(H.ch?0:1))+1;for(var ne=Z;ne<E;++ne)yr(this,ne,y);var _e=this.doc.sel.ranges;R.ch==0&&k.length==_e.length&&_e[F].from().ch>0&&Xl(this.doc,F,new Lt(R,_e[F].to()),gi)}}}),getTokenAt:function(y,k){return yl(this,y,k)},getLineTokens:function(y,k){return yl(this,$e(y),k,!0)},getTokenTypeAt:function(y){y=Ct(this.doc,y);var k=gl(this,rt(this.doc,y.line)),E=0,F=(k.length-1)/2,P=y.ch,R;if(P==0)R=k[2];else for(;;){var H=E+F>>1;if((H?k[H*2-1]:0)>=P)F=H;else if(k[H*2+1]<P)E=H+1;else{R=k[H*2+2];break}}var Z=R?R.indexOf("overlay "):-1;return Z<0?R:Z==0?null:R.slice(0,Z-1)},getModeAt:function(y){var k=this.doc.mode;return k.innerMode?d.innerMode(k,this.getTokenAt(y).state).mode:k},getHelper:function(y,k){return this.getHelpers(y,k)[0]},getHelpers:function(y,k){var E=[];if(!_.hasOwnProperty(k))return E;var F=_[k],P=this.getModeAt(y);if(typeof P[k]=="string")F[P[k]]&&E.push(F[P[k]]);else if(P[k])for(var R=0;R<P[k].length;R++){var H=F[P[k][R]];H&&E.push(H)}else P.helperType&&F[P.helperType]?E.push(F[P.helperType]):F[P.name]&&E.push(F[P.name]);for(var Z=0;Z<F._global.length;Z++){var ne=F._global[Z];ne.pred(P,this)&&St(E,ne.val)==-1&&E.push(ne.val)}return E},getStateAfter:function(y,k){var E=this.doc;return y=_n(E,y??E.first+E.size-1),Wa(this,y+1,k).state},cursorCoords:function(y,k){var E,F=this.doc.sel.primary();return y==null?E=F.head:typeof y=="object"?E=Ct(this.doc,y):E=y?F.from():F.to(),qt(this,E,k||"page")},charCoords:function(y,k){return zr(this,Ct(this.doc,y),k||"page")},coordsChar:function(y,k){return y=Ac(this,y,k||"page"),xn(this,y.left,y.top)},lineAtHeight:function(y,k){return y=Ac(this,{top:y,left:0},k||"page").top,Ns(this.doc,y+this.display.viewOffset)},heightAtLine:function(y,k,E){var F=!1,P;if(typeof y=="number"){var R=this.doc.first+this.doc.size-1;y<this.doc.first?y=this.doc.first:y>R&&(y=R,F=!0),P=rt(this.doc,y)}else P=y;return Bo(this,P,{top:0,left:0},k||"page",E||F).top+(F?this.doc.height-os(P):0)},defaultTextHeight:function(){return Cs(this.display)},defaultCharWidth:function(){return er(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(y,k,E,F,P){var R=this.display;y=qt(this,Ct(this.doc,y));var H=y.bottom,Z=y.left;if(k.style.position="absolute",k.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(k),R.sizer.appendChild(k),F=="over")H=y.top;else if(F=="above"||F=="near"){var ne=Math.max(R.wrapper.clientHeight,this.doc.height),_e=Math.max(R.sizer.clientWidth,R.lineSpace.clientWidth);(F=="above"||y.bottom+k.offsetHeight>ne)&&y.top>k.offsetHeight?H=y.top-k.offsetHeight:y.bottom+k.offsetHeight<=ne&&(H=y.bottom),Z+k.offsetWidth>_e&&(Z=_e-k.offsetWidth)}k.style.top=H+"px",k.style.left=k.style.right="",P=="right"?(Z=R.sizer.clientWidth-k.offsetWidth,k.style.right="0px"):(P=="left"?Z=0:P=="middle"&&(Z=(R.sizer.clientWidth-k.offsetWidth)/2),k.style.left=Z+"px"),E&&Pl(this,{left:Z,top:H,right:Z+k.offsetWidth,bottom:H+k.offsetHeight})},triggerOnKeyDown:Yi(Jo),triggerOnKeyPress:Yi(lu),triggerOnKeyUp:_d,triggerOnMouseDown:Yi(uu),execCommand:function(y){if(so.hasOwnProperty(y))return so[y].call(null,this)},triggerElectric:Yi(function(y){Ad(this,y)}),findPosH:function(y,k,E,F){var P=1;k<0&&(P=-1,k=-k);for(var R=Ct(this.doc,y),H=0;H<k&&(R=gu(this.doc,R,P,E,F),!R.hitSide);++H);return R},moveH:Yi(function(y,k){var E=this;this.extendSelectionsBy(function(F){return E.display.shift||E.doc.extend||F.empty()?gu(E.doc,F.head,y,k,E.options.rtlMoveVisually):y<0?F.from():F.to()},ji)}),deleteH:Yi(function(y,k){var E=this.doc.sel,F=this.doc;E.somethingSelected()?F.replaceSelection("",null,"+delete"):gr(this,function(P){var R=gu(F,P.head,y,k,!1);return y<0?{from:R,to:P.head}:{from:P.head,to:R}})}),findPosV:function(y,k,E,F){var P=1,R=F;k<0&&(P=-1,k=-k);for(var H=Ct(this.doc,y),Z=0;Z<k;++Z){var ne=qt(this,H,"div");if(R==null?R=ne.left:ne.left=R,H=vu(this,ne,P,E),H.hitSide)break}return H},moveV:Yi(function(y,k){var E=this,F=this.doc,P=[],R=!this.display.shift&&!F.extend&&F.sel.somethingSelected();if(F.extendSelectionsBy(function(Z){if(R)return y<0?Z.from():Z.to();var ne=qt(E,Z.head,"div");Z.goalColumn!=null&&(ne.left=Z.goalColumn),P.push(ne.left);var _e=vu(E,ne,y,k);return k=="page"&&Z==F.sel.primary()&&sr(E,zr(E,_e,"div").top-ne.top),_e},ji),P.length)for(var H=0;H<F.sel.ranges.length;H++)F.sel.ranges[H].goalColumn=P[H]}),findWordAt:function(y){var k=this.doc,E=rt(k,y.line).text,F=y.ch,P=y.ch;if(E){var R=this.getHelper(y,"wordChars");(y.sticky=="before"||P==E.length)&&F?--F:++P;for(var H=E.charAt(F),Z=U(H,R)?function(ne){return U(ne,R)}:/\s/.test(H)?function(ne){return/\s/.test(ne)}:function(ne){return!/\s/.test(ne)&&!U(ne)};F>0&&Z(E.charAt(F-1));)--F;for(;P<E.length&&Z(E.charAt(P));)++P}return new Lt($e(y.line,F),$e(y.line,P))},toggleOverwrite:function(y){y!=null&&y==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ht(this.display.cursorDiv,"CodeMirror-overwrite"):Ge(this.display.cursorDiv,"CodeMirror-overwrite"),tt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==gt(Ee(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Yi(function(y,k){Gn(this,y,k)}),getScrollInfo:function(){var y=this.display.scroller;return{left:y.scrollLeft,top:y.scrollTop,height:y.scrollHeight-ls(this)-this.display.barHeight,width:y.scrollWidth-ls(this)-this.display.barWidth,clientHeight:Ml(this),clientWidth:Vs(this)}},scrollIntoView:Yi(function(y,k){y==null?(y={from:this.doc.sel.primary().head,to:null},k==null&&(k=this.options.cursorScrollMargin)):typeof y=="number"?y={from:$e(y,0),to:null}:y.from==null&&(y={from:y,to:null}),y.to||(y.to=y.from),y.margin=k||0,y.from.line!=null?Fc(this,y):Bl(this,y.from,y.to,y.margin)}),setSize:Yi(function(y,k){var E=this,F=function(R){return typeof R=="number"||/^\d+$/.test(String(R))?R+"px":R};y!=null&&(this.display.wrapper.style.width=F(y)),k!=null&&(this.display.wrapper.style.height=F(k)),this.options.lineWrapping&&Dc(this);var P=this.display.viewFrom;this.doc.iter(P,this.display.viewTo,function(R){if(R.widgets){for(var H=0;H<R.widgets.length;H++)if(R.widgets[H].noHScroll){Us(E,P,"widget");break}}++P}),this.curOp.forceUpdate=!0,tt(this,"refresh",this)}),operation:function(y){return cn(this,y)},startOperation:function(){return Ys(this)},endOperation:function(){return Gs(this)},refresh:Yi(function(){var y=this.display.cachedTextHeight;Bi(this),this.curOp.forceUpdate=!0,Rr(this),Gn(this,this.doc.scrollLeft,this.doc.scrollTop),Vl(this.display),(y==null||Math.abs(y-Cs(this.display))>.5||this.options.lineWrapping)&&No(this),tt(this,"refresh",this)}),swapDoc:Yi(function(y){var k=this.doc;return k.cm=null,this.state.selectingText&&this.state.selectingText(),Gl(this,y),Rr(this),this.display.input.reset(),Gn(this,y.scrollLeft,y.scrollTop),this.curOp.forceScroll=!0,Pi(this,"swapDoc",this,k),k}),phrase:function(y){var k=this.options.phrases;return k&&Object.prototype.hasOwnProperty.call(k,y)?k[y]:y},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},wt(d),d.registerHelper=function(y,k,E){_.hasOwnProperty(y)||(_[y]=d[y]={_global:[]}),_[y][k]=E},d.registerGlobalHelper=function(y,k,E,F){d.registerHelper(y,k,F),_[y]._global.push({pred:E,val:F})}}function gu(d,m,_,y,k){var E=m,F=_,P=rt(d,m.line),R=k&&d.direction=="rtl"?-_:_;function H(){var Je=m.line+R;return Je<d.first||Je>=d.first+d.size?!1:(m=new $e(Je,m.ch,m.sticky),P=rt(d,Je))}function Z(Je){var Ye;if(y=="codepoint"){var it=P.text.charCodeAt(m.ch+(_>0?0:-1));if(isNaN(it))Ye=null;else{var ft=_>0?it>=55296&&it<56320:it>=56320&&it<57343;Ye=new $e(m.line,Math.max(0,Math.min(P.text.length,m.ch+_*(ft?2:1))),-_)}}else k?Ye=hf(d.cm,P,m,_):Ye=Ko(P,m,_);if(Ye==null)if(!Je&&H())m=Xo(k,d.cm,P,m.line,R);else return!1;else m=Ye;return!0}if(y=="char"||y=="codepoint")Z();else if(y=="column")Z(!0);else if(y=="word"||y=="group")for(var ne=null,_e=y=="group",me=d.cm&&d.cm.getHelper(m,"wordChars"),Ae=!0;!(_<0&&!Z(!Ae));Ae=!1){var Ne=P.text.charAt(m.ch)||`
`,We=U(Ne,me)?"w":_e&&Ne==`
`?"n":!_e||/\s/.test(Ne)?null:"p";if(_e&&!Ae&&!We&&(We="s"),ne&&ne!=We){_<0&&(_=1,Z(),m.sticky="after");break}if(We&&(ne=We),_>0&&!Z(!Ae))break}var qe=Xr(d,m,E,F,!0);return Ao(E,qe)&&(qe.hitSide=!0),qe}function vu(d,m,_,y){var k=d.doc,E=m.left,F;if(y=="page"){var P=Math.min(d.display.wrapper.clientHeight,lt(d).innerHeight||k(d).documentElement.clientHeight),R=Math.max(P-.5*Cs(d.display),3);F=(_>0?m.bottom:m.top)+_*R}else y=="line"&&(F=_>0?m.bottom+3:m.top-3);for(var H;H=xn(d,E,F),!!H.outside;){if(_<0?F<=0:F>=k.height){H.hitSide=!0;break}F+=_*5}return H}var $t=function(d){this.cm=d,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Rt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};$t.prototype.init=function(d){var m=this,_=this,y=_.cm,k=_.div=d.lineDiv;k.contentEditable=!0,tl(k,y.options.spellcheck,y.options.autocorrect,y.options.autocapitalize);function E(P){for(var R=P.target;R;R=R.parentNode){if(R==k)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(R.className))break}return!1}ve(k,"paste",function(P){!E(P)||je(y,P)||Ed(P,y)||T<=11&&setTimeout(Ti(y,function(){return m.updateFromDOM()}),20)}),ve(k,"compositionstart",function(P){m.composing={data:P.data,done:!1}}),ve(k,"compositionupdate",function(P){m.composing||(m.composing={data:P.data,done:!1})}),ve(k,"compositionend",function(P){m.composing&&(P.data!=m.composing.data&&m.readFromDOMSoon(),m.composing.done=!0)}),ve(k,"touchstart",function(){return _.forceCompositionEnd()}),ve(k,"input",function(){m.composing||m.readFromDOMSoon()});function F(P){if(!(!E(P)||je(y,P))){if(y.somethingSelected())_r({lineWise:!1,text:y.getSelections()}),P.type=="cut"&&y.replaceSelection("",null,"cut");else if(y.options.lineWiseCopyCut){var R=Md(y);_r({lineWise:!0,text:R.text}),P.type=="cut"&&y.operation(function(){y.setSelections(R.ranges,0,gi),y.replaceSelection("",null,"cut")})}else return;if(P.clipboardData){P.clipboardData.clearData();var H=Zn.text.join(`
`);if(P.clipboardData.setData("Text",H),P.clipboardData.getData("Text")==H){P.preventDefault();return}}var Z=Fd(),ne=Z.firstChild;tl(ne),y.display.lineSpace.insertBefore(Z,y.display.lineSpace.firstChild),ne.value=Zn.text.join(`
`);var _e=gt(_t(k));ce(ne),setTimeout(function(){y.display.lineSpace.removeChild(Z),_e.focus(),_e==k&&_.showPrimarySelection()},50)}}ve(k,"copy",F),ve(k,"cut",F)},$t.prototype.screenReaderLabelChanged=function(d){d?this.div.setAttribute("aria-label",d):this.div.removeAttribute("aria-label")},$t.prototype.prepareSelection=function(){var d=nr(this.cm,!1);return d.focus=gt(_t(this.div))==this.div,d},$t.prototype.showSelection=function(d,m){!d||!this.cm.display.view.length||((d.focus||m)&&this.showPrimarySelection(),this.showMultipleSelections(d))},$t.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},$t.prototype.showPrimarySelection=function(){var d=this.getSelection(),m=this.cm,_=m.doc.sel.primary(),y=_.from(),k=_.to();if(m.display.viewTo==m.display.viewFrom||y.line>=m.display.viewTo||k.line<m.display.viewFrom){d.removeAllRanges();return}var E=lo(m,d.anchorNode,d.anchorOffset),F=lo(m,d.focusNode,d.focusOffset);if(!(E&&!E.bad&&F&&!F.bad&&bt(Pr(E,F),y)==0&&bt(Or(E,F),k)==0)){var P=m.display.view,R=y.line>=m.display.viewFrom&&bu(m,y)||{node:P[0].measure.map[2],offset:0},H=k.line<m.display.viewTo&&bu(m,k);if(!H){var Z=P[P.length-1].measure,ne=Z.maps?Z.maps[Z.maps.length-1]:Z.map;H={node:ne[ne.length-1],offset:ne[ne.length-2]-ne[ne.length-3]}}if(!R||!H){d.removeAllRanges();return}var _e=d.rangeCount&&d.getRangeAt(0),me;try{me=Pe(R.node,R.offset,H.offset,H.node)}catch{}me&&(!f&&m.state.focused?(d.collapse(R.node,R.offset),me.collapsed||(d.removeAllRanges(),d.addRange(me))):(d.removeAllRanges(),d.addRange(me)),_e&&d.anchorNode==null?d.addRange(_e):f&&this.startGracePeriod()),this.rememberSelection()}},$t.prototype.startGracePeriod=function(){var d=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){d.gracePeriod=!1,d.selectionChanged()&&d.cm.operation(function(){return d.cm.curOp.selectionChanged=!0})},20)},$t.prototype.showMultipleSelections=function(d){ut(this.cm.display.cursorDiv,d.cursors),ut(this.cm.display.selectionDiv,d.selection)},$t.prototype.rememberSelection=function(){var d=this.getSelection();this.lastAnchorNode=d.anchorNode,this.lastAnchorOffset=d.anchorOffset,this.lastFocusNode=d.focusNode,this.lastFocusOffset=d.focusOffset},$t.prototype.selectionInEditor=function(){var d=this.getSelection();if(!d.rangeCount)return!1;var m=d.getRangeAt(0).commonAncestorContainer;return Qe(this.div,m)},$t.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||gt(_t(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},$t.prototype.blur=function(){this.div.blur()},$t.prototype.getField=function(){return this.div},$t.prototype.supportsTouch=function(){return!0},$t.prototype.receivedFocus=function(){var d=this,m=this;this.selectionInEditor()?setTimeout(function(){return d.pollSelection()},20):cn(this.cm,function(){return m.cm.curOp.selectionChanged=!0});function _(){m.cm.state.focused&&(m.pollSelection(),m.polling.set(m.cm.options.pollInterval,_))}this.polling.set(this.cm.options.pollInterval,_)},$t.prototype.selectionChanged=function(){var d=this.getSelection();return d.anchorNode!=this.lastAnchorNode||d.anchorOffset!=this.lastAnchorOffset||d.focusNode!=this.lastFocusNode||d.focusOffset!=this.lastFocusOffset},$t.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var d=this.getSelection(),m=this.cm;if(le&&N&&this.cm.display.gutterSpecs.length&&Cf(d.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var _=lo(m,d.anchorNode,d.anchorOffset),y=lo(m,d.focusNode,d.focusOffset);_&&y&&cn(m,function(){Ki(m.doc,Ds(_,y),gi),(_.bad||y.bad)&&(m.curOp.selectionChanged=!0)})}}},$t.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var d=this.cm,m=d.display,_=d.doc.sel.primary(),y=_.from(),k=_.to();if(y.ch==0&&y.line>d.firstLine()&&(y=$e(y.line-1,rt(d.doc,y.line-1).length)),k.ch==rt(d.doc,k.line).text.length&&k.line<d.lastLine()&&(k=$e(k.line+1,0)),y.line<m.viewFrom||k.line>m.viewTo-1)return!1;var E,F,P;y.line==m.viewFrom||(E=ga(d,y.line))==0?(F=zt(m.view[0].line),P=m.view[0].node):(F=zt(m.view[E].line),P=m.view[E-1].node.nextSibling);var R=ga(d,k.line),H,Z;if(R==m.view.length-1?(H=m.viewTo-1,Z=m.lineDiv.lastChild):(H=zt(m.view[R+1].line)-1,Z=m.view[R+1].node.previousSibling),!P)return!1;for(var ne=d.doc.splitLines(wf(d,P,Z,F,H)),_e=bs(d.doc,$e(F,0),$e(H,rt(d.doc,H).text.length));ne.length>1&&_e.length>1;)if(at(ne)==at(_e))ne.pop(),_e.pop(),H--;else if(ne[0]==_e[0])ne.shift(),_e.shift(),F++;else break;for(var me=0,Ae=0,Ne=ne[0],We=_e[0],qe=Math.min(Ne.length,We.length);me<qe&&Ne.charCodeAt(me)==We.charCodeAt(me);)++me;for(var Je=at(ne),Ye=at(_e),it=Math.min(Je.length-(ne.length==1?me:0),Ye.length-(_e.length==1?me:0));Ae<it&&Je.charCodeAt(Je.length-Ae-1)==Ye.charCodeAt(Ye.length-Ae-1);)++Ae;if(ne.length==1&&_e.length==1&&F==y.line)for(;me&&me>y.ch&&Je.charCodeAt(Je.length-Ae-1)==Ye.charCodeAt(Ye.length-Ae-1);)me--,Ae++;ne[ne.length-1]=Je.slice(0,Je.length-Ae).replace(/^\u200b+/,""),ne[0]=ne[0].slice(me).replace(/\u200b+$/,"");var ft=$e(F,me),ht=$e(H,_e.length?at(_e).length-Ae:0);if(ne.length>1||ne[0]||bt(ft,ht))return ka(d.doc,ne,ft,ht,"+input"),!0},$t.prototype.ensurePolled=function(){this.forceCompositionEnd()},$t.prototype.reset=function(){this.forceCompositionEnd()},$t.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},$t.prototype.readFromDOMSoon=function(){var d=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(d.readDOMTimeout=null,d.composing)if(d.composing.done)d.composing=null;else return;d.updateFromDOM()},80))},$t.prototype.updateFromDOM=function(){var d=this;(this.cm.isReadOnly()||!this.pollContent())&&cn(this.cm,function(){return Bi(d.cm)})},$t.prototype.setUneditable=function(d){d.contentEditable="false"},$t.prototype.onKeyPress=function(d){d.charCode==0||this.composing||(d.preventDefault(),this.cm.isReadOnly()||Ti(this.cm,el)(this.cm,String.fromCharCode(d.charCode==null?d.keyCode:d.charCode),0))},$t.prototype.readOnlyChanged=function(d){this.div.contentEditable=String(d!="nocursor")},$t.prototype.onContextMenu=function(){},$t.prototype.resetPosition=function(){},$t.prototype.needsContentAttribute=!0;function bu(d,m){var _=Il(d,m.line);if(!_||_.hidden)return null;var y=rt(d.doc,m.line),k=xc(_,y,m.line),E=ue(y,d.doc.direction),F="left";if(E){var P=Ce(E,m.ch);F=P%2?"right":"left"}var R=kc(k.map,m.ch,F);return R.offset=R.collapse=="right"?R.end:R.start,R}function Cf(d){for(var m=d;m;m=m.parentNode)if(/CodeMirror-gutter-wrapper/.test(m.className))return!0;return!1}function Da(d,m){return m&&(d.bad=!0),d}function wf(d,m,_,y,k){var E="",F=!1,P=d.doc.lineSeparator(),R=!1;function H(me){return function(Ae){return Ae.id==me}}function Z(){F&&(E+=P,R&&(E+=P),F=R=!1)}function ne(me){me&&(Z(),E+=me)}function _e(me){if(me.nodeType==1){var Ae=me.getAttribute("cm-text");if(Ae){ne(Ae);return}var Ne=me.getAttribute("cm-marker"),We;if(Ne){var qe=d.findMarks($e(y,0),$e(k+1,0),H(+Ne));qe.length&&(We=qe[0].find(0))&&ne(bs(d.doc,We.from,We.to).join(P));return}if(me.getAttribute("contenteditable")=="false")return;var Je=/^(pre|div|p|li|table|br)$/i.test(me.nodeName);if(!/^br$/i.test(me.nodeName)&&me.textContent.length==0)return;Je&&Z();for(var Ye=0;Ye<me.childNodes.length;Ye++)_e(me.childNodes[Ye]);/^(pre|p)$/i.test(me.nodeName)&&(R=!0),Je&&(F=!0)}else me.nodeType==3&&ne(me.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;_e(m),m!=_;)m=m.nextSibling,R=!1;return E}function lo(d,m,_){var y;if(m==d.display.lineDiv){if(y=d.display.lineDiv.childNodes[_],!y)return Da(d.clipPos($e(d.display.viewTo-1)),!0);m=null,_=0}else for(y=m;;y=y.parentNode){if(!y||y==d.display.lineDiv)return null;if(y.parentNode&&y.parentNode==d.display.lineDiv)break}for(var k=0;k<d.display.view.length;k++){var E=d.display.view[k];if(E.node==y)return kf(E,m,_)}}function kf(d,m,_){var y=d.text.firstChild,k=!1;if(!m||!Qe(y,m))return Da($e(zt(d.line),0),!0);if(m==y&&(k=!0,m=y.childNodes[_],_=0,!m)){var E=d.rest?at(d.rest):d.line;return Da($e(zt(E),E.text.length),k)}var F=m.nodeType==3?m:null,P=m;for(!F&&m.childNodes.length==1&&m.firstChild.nodeType==3&&(F=m.firstChild,_&&(_=F.nodeValue.length));P.parentNode!=y;)P=P.parentNode;var R=d.measure,H=R.maps;function Z(We,qe,Je){for(var Ye=-1;Ye<(H?H.length:0);Ye++)for(var it=Ye<0?R.map:H[Ye],ft=0;ft<it.length;ft+=3){var ht=it[ft+2];if(ht==We||ht==qe){var Dt=zt(Ye<0?d.line:d.rest[Ye]),Gt=it[ft]+Je;return(Je<0||ht!=We)&&(Gt=it[ft+(Je?1:0)]),$e(Dt,Gt)}}}var ne=Z(F,P,_);if(ne)return Da(ne,k);for(var _e=P.nextSibling,me=F?F.nodeValue.length-_:0;_e;_e=_e.nextSibling){if(ne=Z(_e,_e.firstChild,0),ne)return Da($e(ne.line,ne.ch-me),k);me+=_e.textContent.length}for(var Ae=P.previousSibling,Ne=_;Ae;Ae=Ae.previousSibling){if(ne=Z(Ae,Ae.firstChild,-1),ne)return Da($e(ne.line,ne.ch+Ne),k);Ne+=Ae.textContent.length}}var li=function(d){this.cm=d,this.prevInput="",this.pollingFast=!1,this.polling=new Rt,this.hasSelection=!1,this.composing=null,this.resetting=!1};li.prototype.init=function(d){var m=this,_=this,y=this.cm;this.createField(d);var k=this.textarea;d.wrapper.insertBefore(this.wrapper,d.wrapper.firstChild),K&&(k.style.width="0px"),ve(k,"input",function(){S&&T>=9&&m.hasSelection&&(m.hasSelection=null),_.poll()}),ve(k,"paste",function(F){je(y,F)||Ed(F,y)||(y.state.pasteIncoming=+new Date,_.fastPoll())});function E(F){if(!je(y,F)){if(y.somethingSelected())_r({lineWise:!1,text:y.getSelections()});else if(y.options.lineWiseCopyCut){var P=Md(y);_r({lineWise:!0,text:P.text}),F.type=="cut"?y.setSelections(P.ranges,null,gi):(_.prevInput="",k.value=P.text.join(`
`),ce(k))}else return;F.type=="cut"&&(y.state.cutIncoming=+new Date)}}ve(k,"cut",E),ve(k,"copy",E),ve(d.scroller,"paste",function(F){if(!(xs(d,F)||je(y,F))){if(!k.dispatchEvent){y.state.pasteIncoming=+new Date,_.focus();return}var P=new Event("paste");P.clipboardData=F.clipboardData,k.dispatchEvent(P)}}),ve(d.lineSpace,"selectstart",function(F){xs(d,F)||mt(F)}),ve(k,"compositionstart",function(){var F=y.getCursor("from");_.composing&&_.composing.range.clear(),_.composing={start:F,range:y.markText(F,y.getCursor("to"),{className:"CodeMirror-composing"})}}),ve(k,"compositionend",function(){_.composing&&(_.poll(),_.composing.range.clear(),_.composing=null)})},li.prototype.createField=function(d){this.wrapper=Fd(),this.textarea=this.wrapper.firstChild;var m=this.cm.options;tl(this.textarea,m.spellcheck,m.autocorrect,m.autocapitalize)},li.prototype.screenReaderLabelChanged=function(d){d?this.textarea.setAttribute("aria-label",d):this.textarea.removeAttribute("aria-label")},li.prototype.prepareSelection=function(){var d=this.cm,m=d.display,_=d.doc,y=nr(d);if(d.options.moveInputWithCursor){var k=qt(d,_.sel.primary().head,"div"),E=m.wrapper.getBoundingClientRect(),F=m.lineDiv.getBoundingClientRect();y.teTop=Math.max(0,Math.min(m.wrapper.clientHeight-10,k.top+F.top-E.top)),y.teLeft=Math.max(0,Math.min(m.wrapper.clientWidth-10,k.left+F.left-E.left))}return y},li.prototype.showSelection=function(d){var m=this.cm,_=m.display;ut(_.cursorDiv,d.cursors),ut(_.selectionDiv,d.selection),d.teTop!=null&&(this.wrapper.style.top=d.teTop+"px",this.wrapper.style.left=d.teLeft+"px")},li.prototype.reset=function(d){if(!(this.contextMenuPending||this.composing&&d)){var m=this.cm;if(this.resetting=!0,m.somethingSelected()){this.prevInput="";var _=m.getSelection();this.textarea.value=_,m.state.focused&&ce(this.textarea),S&&T>=9&&(this.hasSelection=_)}else d||(this.prevInput=this.textarea.value="",S&&T>=9&&(this.hasSelection=null));this.resetting=!1}},li.prototype.getField=function(){return this.textarea},li.prototype.supportsTouch=function(){return!1},li.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!se||gt(_t(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},li.prototype.blur=function(){this.textarea.blur()},li.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},li.prototype.receivedFocus=function(){this.slowPoll()},li.prototype.slowPoll=function(){var d=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){d.poll(),d.cm.state.focused&&d.slowPoll()})},li.prototype.fastPoll=function(){var d=!1,m=this;m.pollingFast=!0;function _(){var y=m.poll();!y&&!d?(d=!0,m.polling.set(60,_)):(m.pollingFast=!1,m.slowPoll())}m.polling.set(20,_)},li.prototype.poll=function(){var d=this,m=this.cm,_=this.textarea,y=this.prevInput;if(this.contextMenuPending||this.resetting||!m.state.focused||fl(_)&&!y&&!this.composing||m.isReadOnly()||m.options.disableInput||m.state.keySeq)return!1;var k=_.value;if(k==y&&!m.somethingSelected())return!1;if(S&&T>=9&&this.hasSelection===k||ae&&/[\uf700-\uf7ff]/.test(k))return m.display.input.reset(),!1;if(m.doc.sel==m.display.selForContextMenu){var E=k.charCodeAt(0);if(E==8203&&!y&&(y="​"),E==8666)return this.reset(),this.cm.execCommand("undo")}for(var F=0,P=Math.min(y.length,k.length);F<P&&y.charCodeAt(F)==k.charCodeAt(F);)++F;return cn(m,function(){el(m,k.slice(F),y.length-F,null,d.composing?"*compose":null),k.length>1e3||k.indexOf(`
`)>-1?_.value=d.prevInput="":d.prevInput=k,d.composing&&(d.composing.range.clear(),d.composing.range=m.markText(d.composing.start,m.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},li.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},li.prototype.onKeyPress=function(){S&&T>=9&&(this.hasSelection=null),this.fastPoll()},li.prototype.onContextMenu=function(d){var m=this,_=m.cm,y=_.display,k=m.textarea;m.contextMenuPending&&m.contextMenuPending();var E=js(_,d),F=y.scroller.scrollTop;if(!E||q)return;var P=_.options.resetSelectionOnContextMenu;P&&_.doc.sel.contains(E)==-1&&Ti(_,Ki)(_.doc,Ds(E),gi);var R=k.style.cssText,H=m.wrapper.style.cssText,Z=m.wrapper.offsetParent.getBoundingClientRect();m.wrapper.style.cssText="position: static",k.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(d.clientY-Z.top-5)+"px; left: "+(d.clientX-Z.left-5)+`px;
      z-index: 1000; background: `+(S?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ne;A&&(ne=k.ownerDocument.defaultView.scrollY),y.input.focus(),A&&k.ownerDocument.defaultView.scrollTo(null,ne),y.input.reset(),_.somethingSelected()||(k.value=m.prevInput=" "),m.contextMenuPending=me,y.selForContextMenu=_.doc.sel,clearTimeout(y.detectingSelectAll);function _e(){if(k.selectionStart!=null){var Ne=_.somethingSelected(),We="​"+(Ne?k.value:"");k.value="⇚",k.value=We,m.prevInput=Ne?"":"​",k.selectionStart=1,k.selectionEnd=We.length,y.selForContextMenu=_.doc.sel}}function me(){if(m.contextMenuPending==me&&(m.contextMenuPending=!1,m.wrapper.style.cssText=H,k.style.cssText=R,S&&T<9&&y.scrollbars.setScrollTop(y.scroller.scrollTop=F),k.selectionStart!=null)){(!S||S&&T<9)&&_e();var Ne=0,We=function(){y.selForContextMenu==_.doc.sel&&k.selectionStart==0&&k.selectionEnd>0&&m.prevInput=="​"?Ti(_,Jl)(_):Ne++<10?y.detectingSelectAll=setTimeout(We,500):(y.selForContextMenu=null,y.input.reset())};y.detectingSelectAll=setTimeout(We,200)}}if(S&&T>=9&&_e(),Ke){vi(d);var Ae=function(){et(window,"mouseup",Ae),setTimeout(me,20)};ve(window,"mouseup",Ae)}else setTimeout(me,50)},li.prototype.readOnlyChanged=function(d){d||this.reset(),this.textarea.disabled=d=="nocursor",this.textarea.readOnly=!!d},li.prototype.setUneditable=function(){},li.prototype.needsContentAttribute=!1;function Sf(d,m){if(m=m?ti(m):{},m.value=d.value,!m.tabindex&&d.tabIndex&&(m.tabindex=d.tabIndex),!m.placeholder&&d.placeholder&&(m.placeholder=d.placeholder),m.autofocus==null){var _=gt(_t(d));m.autofocus=_==d||d.getAttribute("autofocus")!=null&&_==document.body}function y(){d.value=P.getValue()}var k;if(d.form&&(ve(d.form,"submit",y),!m.leaveSubmitMethodAlone)){var E=d.form;k=E.submit;try{var F=E.submit=function(){y(),E.submit=k,E.submit(),E.submit=F}}catch{}}m.finishInit=function(R){R.save=y,R.getTextArea=function(){return d},R.toTextArea=function(){R.toTextArea=isNaN,y(),d.parentNode.removeChild(R.getWrapperElement()),d.style.display="",d.form&&(et(d.form,"submit",y),!m.leaveSubmitMethodAlone&&typeof d.form.submit=="function"&&(d.form.submit=k))}},d.style.display="none";var P=ai(function(R){return d.parentNode.insertBefore(R,d.nextSibling)},m);return P}function Ld(d){d.off=et,d.on=ve,d.wheelEventPixels=Xe,d.Doc=dn,d.splitLines=$a,d.countColumn=Vt,d.findColumn=Ui,d.isWordChar=ge,d.Pass=ii,d.signal=tt,d.Line=Ua,d.changeEnd=Ks,d.scrollbarModel=Ss,d.Pos=$e,d.cmpPos=bt,d.modes=yn,d.mimeModes=ln,d.resolveMode=Ps,d.getMode=ua,d.modeExtensions=ca,d.extendMode=nc,d.copyState=Bs,d.startState=sc,d.innerMode=To,d.commands=so,d.keyMap=hs,d.keyName=fd,d.isModifierKey=hd,d.lookupKey=mr,d.normalizeKeyMap=su,d.StringStream=ki,d.SharedTextMarker=eo,d.TextMarker=Js,d.LineWidget=Qr,d.e_preventDefault=mt,d.e_stopPropagation=Wt,d.e_stop=vi,d.addClass=Ht,d.contains=Qe,d.rmClass=Ge,d.keyNames=Jn}Sd(ai),Id(ai);var Df="iter insert remove copy getEditor constructor".split(" ");for(var xr in dn.prototype)dn.prototype.hasOwnProperty(xr)&&St(Df,xr)<0&&(ai.prototype[xr]=function(d){return function(){return d.apply(this.doc,arguments)}}(dn.prototype[xr]));return wt(dn),ai.inputStyles={textarea:li,contenteditable:$t},ai.defineMode=function(d){!ai.defaults.mode&&d!="null"&&(ai.defaults.mode=d),Ls.apply(this,arguments)},ai.defineMIME=Os,ai.defineMode("null",function(){return{token:function(d){return d.skipToEnd()}}}),ai.defineMIME("text/plain","null"),ai.defineExtension=function(d,m){ai.prototype[d]=m},ai.defineDocExtension=function(d,m){dn.prototype[d]=m},ai.fromTextArea=Sf,Ld(ai),ai.version="5.65.19",ai})}(uh)),uh.exports}var Vg={exports:{}},Wg;function bD(){return Wg||(Wg=1,function(u,a){(function(r){r(ns())})(function(r){var c=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,f=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,g=/[*+-]\s/;r.commands.newlineAndIndentContinueMarkdownList=function(C){if(C.getOption("disableInput"))return r.Pass;for(var S=C.listSelections(),T=[],A=0;A<S.length;A++){var O=S[A].head,N=C.getStateAfter(O.line),$=r.innerMode(C.getMode(),N);if($.mode.name!=="markdown"&&$.mode.helperType!=="markdown"){C.execCommand("newlineAndIndent");return}else N=$.state;var q=N.list!==!1,Q=N.quote!==0,te=C.getLine(O.line),J=c.exec(te),K=/^\s*$/.test(te.slice(0,O.ch));if(!S[A].empty()||!q&&!Q||!J||K){C.execCommand("newlineAndIndent");return}if(f.test(te)){var le=Q&&/>\s*$/.test(te),se=!/>\s*$/.test(te);(le||se)&&C.replaceRange("",{line:O.line,ch:0},{line:O.line,ch:O.ch+1}),T[A]=`
`}else{var ae=J[1],ke=J[5],ye=!(g.test(J[2])||J[2].indexOf(">")>=0),be=ye?parseInt(J[3],10)+1+J[4]:J[2].replace("x"," ");T[A]=`
`+ae+be+ke,ye&&b(C,O)}}C.replaceSelections(T)};function b(C,S){var T=S.line,A=0,O=0,N=c.exec(C.getLine(T)),$=N[1];do{A+=1;var q=T+A,Q=C.getLine(q),te=c.exec(Q);if(te){var J=te[1],K=parseInt(N[3],10)+A-O,le=parseInt(te[3],10),se=le;if($===J&&!isNaN(le))K===le&&(se=le+1),K>le&&(se=K+1),C.replaceRange(Q.replace(c,J+se+te[4]+te[5]),{line:q,ch:0},{line:q,ch:Q.length});else{if($.length>J.length||$.length<J.length&&A===1)return;O+=1}}}while(te)}})}()),Vg.exports}var jg={},Ug;function yD(){if(Ug)return jg;Ug=1;var u=ns();return u.commands.tabAndIndentMarkdownList=function(a){var r=a.listSelections(),c=r[0].head,f=a.getStateAfter(c.line),g=f.list!==!1;if(g){a.execCommand("indentMore");return}if(a.options.indentWithTabs)a.execCommand("insertTab");else{var b=Array(a.options.tabSize+1).join(" ");a.replaceSelection(b)}},u.commands.shiftTabAndUnindentMarkdownList=function(a){var r=a.listSelections(),c=r[0].head,f=a.getStateAfter(c.line),g=f.list!==!1;if(g){a.execCommand("indentLess");return}if(a.options.indentWithTabs)a.execCommand("insertTab");else{var b=Array(a.options.tabSize+1).join(" ");a.replaceSelection(b)}},jg}var qg={exports:{}},Yg;function _D(){return Yg||(Yg=1,function(u,a){(function(r){r(ns())})(function(r){r.defineOption("fullScreen",!1,function(g,b,C){C==r.Init&&(C=!1),!C!=!b&&(b?c(g):f(g))});function c(g){var b=g.getWrapperElement();g.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:b.style.width,height:b.style.height},b.style.width="",b.style.height="auto",b.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",g.refresh()}function f(g){var b=g.getWrapperElement();b.className=b.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var C=g.state.fullScreenRestore;b.style.width=C.width,b.style.height=C.height,window.scrollTo(C.scrollLeft,C.scrollTop),g.refresh()}})}()),qg.exports}var Gg={exports:{}},Kg={exports:{}},Xg;function Uv(){return Xg||(Xg=1,function(u,a){(function(r){r(ns())})(function(r){var c={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},f={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(g,b){var C=g.indentUnit,S={},T=b.htmlMode?c:f;for(var A in T)S[A]=T[A];for(var A in b)S[A]=b[A];var O,N;function $(de,Be){function Pe(Ht){return Be.tokenize=Ht,Ht(de,Be)}var Qe=de.next();if(Qe=="<")return de.eat("!")?de.eat("[")?de.match("CDATA[")?Pe(te("atom","]]>")):null:de.match("--")?Pe(te("comment","-->")):de.match("DOCTYPE",!0,!0)?(de.eatWhile(/[\w\._\-]/),Pe(J(1))):null:de.eat("?")?(de.eatWhile(/[\w\._\-]/),Be.tokenize=te("meta","?>"),"meta"):(O=de.eat("/")?"closeTag":"openTag",Be.tokenize=q,"tag bracket");if(Qe=="&"){var gt;return de.eat("#")?de.eat("x")?gt=de.eatWhile(/[a-fA-F\d]/)&&de.eat(";"):gt=de.eatWhile(/[\d]/)&&de.eat(";"):gt=de.eatWhile(/[\w\.\-:]/)&&de.eat(";"),gt?"atom":"error"}else return de.eatWhile(/[^&<]/),null}$.isInText=!0;function q(de,Be){var Pe=de.next();if(Pe==">"||Pe=="/"&&de.eat(">"))return Be.tokenize=$,O=Pe==">"?"endTag":"selfcloseTag","tag bracket";if(Pe=="=")return O="equals",null;if(Pe=="<"){Be.tokenize=$,Be.state=ke,Be.tagName=Be.tagStart=null;var Qe=Be.tokenize(de,Be);return Qe?Qe+" tag error":"tag error"}else return/[\'\"]/.test(Pe)?(Be.tokenize=Q(Pe),Be.stringStartCol=de.column(),Be.tokenize(de,Be)):(de.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function Q(de){var Be=function(Pe,Qe){for(;!Pe.eol();)if(Pe.next()==de){Qe.tokenize=q;break}return"string"};return Be.isInAttribute=!0,Be}function te(de,Be){return function(Pe,Qe){for(;!Pe.eol();){if(Pe.match(Be)){Qe.tokenize=$;break}Pe.next()}return de}}function J(de){return function(Be,Pe){for(var Qe;(Qe=Be.next())!=null;){if(Qe=="<")return Pe.tokenize=J(de+1),Pe.tokenize(Be,Pe);if(Qe==">")if(de==1){Pe.tokenize=$;break}else return Pe.tokenize=J(de-1),Pe.tokenize(Be,Pe)}return"meta"}}function K(de){return de&&de.toLowerCase()}function le(de,Be,Pe){this.prev=de.context,this.tagName=Be||"",this.indent=de.indented,this.startOfLine=Pe,(S.doNotIndent.hasOwnProperty(Be)||de.context&&de.context.noIndent)&&(this.noIndent=!0)}function se(de){de.context&&(de.context=de.context.prev)}function ae(de,Be){for(var Pe;;){if(!de.context||(Pe=de.context.tagName,!S.contextGrabbers.hasOwnProperty(K(Pe))||!S.contextGrabbers[K(Pe)].hasOwnProperty(K(Be))))return;se(de)}}function ke(de,Be,Pe){return de=="openTag"?(Pe.tagStart=Be.column(),ye):de=="closeTag"?be:ke}function ye(de,Be,Pe){return de=="word"?(Pe.tagName=Be.current(),N="tag",Le):S.allowMissingTagName&&de=="endTag"?(N="tag bracket",Le(de,Be,Pe)):(N="error",ye)}function be(de,Be,Pe){if(de=="word"){var Qe=Be.current();return Pe.context&&Pe.context.tagName!=Qe&&S.implicitlyClosed.hasOwnProperty(K(Pe.context.tagName))&&se(Pe),Pe.context&&Pe.context.tagName==Qe||S.matchClosing===!1?(N="tag",Te):(N="tag error",Ke)}else return S.allowMissingTagName&&de=="endTag"?(N="tag bracket",Te(de,Be,Pe)):(N="error",Ke)}function Te(de,Be,Pe){return de!="endTag"?(N="error",Te):(se(Pe),ke)}function Ke(de,Be,Pe){return N="error",Te(de,Be,Pe)}function Le(de,Be,Pe){if(de=="word")return N="attribute",Ge;if(de=="endTag"||de=="selfcloseTag"){var Qe=Pe.tagName,gt=Pe.tagStart;return Pe.tagName=Pe.tagStart=null,de=="selfcloseTag"||S.autoSelfClosers.hasOwnProperty(K(Qe))?ae(Pe,Qe):(ae(Pe,Qe),Pe.context=new le(Pe,Qe,gt==Pe.indented)),ke}return N="error",Le}function Ge(de,Be,Pe){return de=="equals"?st:(S.allowMissing||(N="error"),Le(de,Be,Pe))}function st(de,Be,Pe){return de=="string"?ut:de=="word"&&S.allowUnquoted?(N="string",Le):(N="error",Le(de,Be,Pe))}function ut(de,Be,Pe){return de=="string"?ut:Le(de,Be,Pe)}return{startState:function(de){var Be={tokenize:$,state:ke,indented:de||0,tagName:null,tagStart:null,context:null};return de!=null&&(Be.baseIndent=de),Be},token:function(de,Be){if(!Be.tagName&&de.sol()&&(Be.indented=de.indentation()),de.eatSpace())return null;O=null;var Pe=Be.tokenize(de,Be);return(Pe||O)&&Pe!="comment"&&(N=null,Be.state=Be.state(O||Pe,de,Be),N&&(Pe=N=="error"?Pe+" error":N)),Pe},indent:function(de,Be,Pe){var Qe=de.context;if(de.tokenize.isInAttribute)return de.tagStart==de.indented?de.stringStartCol+1:de.indented+C;if(Qe&&Qe.noIndent)return r.Pass;if(de.tokenize!=q&&de.tokenize!=$)return Pe?Pe.match(/^(\s*)/)[0].length:0;if(de.tagName)return S.multilineTagIndentPastTag!==!1?de.tagStart+de.tagName.length+2:de.tagStart+C*(S.multilineTagIndentFactor||1);if(S.alignCDATA&&/<!\[CDATA\[/.test(Be))return 0;var gt=Be&&/^<(\/)?([\w_:\.-]*)/.exec(Be);if(gt&&gt[1])for(;Qe;)if(Qe.tagName==gt[2]){Qe=Qe.prev;break}else if(S.implicitlyClosed.hasOwnProperty(K(Qe.tagName)))Qe=Qe.prev;else break;else if(gt)for(;Qe;){var Ht=S.contextGrabbers[K(Qe.tagName)];if(Ht&&Ht.hasOwnProperty(K(gt[2])))Qe=Qe.prev;else break}for(;Qe&&Qe.prev&&!Qe.startOfLine;)Qe=Qe.prev;return Qe?Qe.indent+C:de.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:S.htmlMode?"html":"xml",helperType:S.htmlMode?"html":"xml",skipAttribute:function(de){de.state==st&&(de.state=Le)},xmlCurrentTag:function(de){return de.tagName?{name:de.tagName,close:de.type=="closeTag"}:null},xmlCurrentContext:function(de){for(var Be=[],Pe=de.context;Pe;Pe=Pe.prev)Be.push(Pe.tagName);return Be.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),Kg.exports}var Jg={exports:{}},Zg;function xD(){return Zg||(Zg=1,function(u,a){(function(r){r(ns())})(function(r){r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var c=0;c<r.modeInfo.length;c++){var f=r.modeInfo[c];f.mimes&&(f.mime=f.mimes[0])}r.findModeByMIME=function(g){g=g.toLowerCase();for(var b=0;b<r.modeInfo.length;b++){var C=r.modeInfo[b];if(C.mime==g)return C;if(C.mimes){for(var S=0;S<C.mimes.length;S++)if(C.mimes[S]==g)return C}}if(/\+xml$/.test(g))return r.findModeByMIME("application/xml");if(/\+json$/.test(g))return r.findModeByMIME("application/json")},r.findModeByExtension=function(g){g=g.toLowerCase();for(var b=0;b<r.modeInfo.length;b++){var C=r.modeInfo[b];if(C.ext){for(var S=0;S<C.ext.length;S++)if(C.ext[S]==g)return C}}},r.findModeByFileName=function(g){for(var b=0;b<r.modeInfo.length;b++){var C=r.modeInfo[b];if(C.file&&C.file.test(g))return C}var S=g.lastIndexOf("."),T=S>-1&&g.substring(S+1,g.length);if(T)return r.findModeByExtension(T)},r.findModeByName=function(g){g=g.toLowerCase();for(var b=0;b<r.modeInfo.length;b++){var C=r.modeInfo[b];if(C.name.toLowerCase()==g)return C;if(C.alias){for(var S=0;S<C.alias.length;S++)if(C.alias[S].toLowerCase()==g)return C}}}})}()),Jg.exports}var Qg;function qv(){return Qg||(Qg=1,function(u,a){(function(r){r(ns(),Uv(),xD())})(function(r){r.defineMode("markdown",function(c,f){var g=r.getMode(c,"text/html"),b=g.name=="null";function C(ce){if(r.findModeByName){var V=r.findModeByName(ce);V&&(ce=V.mime||V.mimes[0])}var Ee=r.getMode(c,ce);return Ee.name=="null"?null:Ee}f.highlightFormatting===void 0&&(f.highlightFormatting=!1),f.maxBlockquoteDepth===void 0&&(f.maxBlockquoteDepth=0),f.taskLists===void 0&&(f.taskLists=!1),f.strikethrough===void 0&&(f.strikethrough=!1),f.emoji===void 0&&(f.emoji=!1),f.fencedCodeBlockHighlighting===void 0&&(f.fencedCodeBlockHighlighting=!0),f.fencedCodeBlockDefaultMode===void 0&&(f.fencedCodeBlockDefaultMode="text/plain"),f.xml===void 0&&(f.xml=!0),f.tokenTypeOverrides===void 0&&(f.tokenTypeOverrides={});var S={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var T in S)S.hasOwnProperty(T)&&f.tokenTypeOverrides[T]&&(S[T]=f.tokenTypeOverrides[T]);var A=/^([*\-_])(?:\s*\1){2,}\s*$/,O=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,N=/^\[(x| )\](?=\s)/i,$=f.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,q=/^ {0,3}(?:\={1,}|-{2,})\s*$/,Q=/^[^#!\[\]*_\\<>` "'(~:]+/,te=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,J=/^\s*\[[^\]]+?\]:.*$/,K=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,le="    ";function se(ce,V,Ee){return V.f=V.inline=Ee,Ee(ce,V)}function ae(ce,V,Ee){return V.f=V.block=Ee,Ee(ce,V)}function ke(ce){return!ce||!/\S/.test(ce.string)}function ye(ce){if(ce.linkTitle=!1,ce.linkHref=!1,ce.linkText=!1,ce.em=!1,ce.strong=!1,ce.strikethrough=!1,ce.quote=0,ce.indentedCode=!1,ce.f==Te){var V=b;if(!V){var Ee=r.innerMode(g,ce.htmlState);V=Ee.mode.name=="xml"&&Ee.state.tagStart===null&&!Ee.state.context&&Ee.state.tokenize.isInText}V&&(ce.f=st,ce.block=be,ce.htmlState=null)}return ce.trailingSpace=0,ce.trailingSpaceNewLine=!1,ce.prevLine=ce.thisLine,ce.thisLine={stream:null},null}function be(ce,V){var Ee=ce.column()===V.indentation,_t=ke(V.prevLine.stream),lt=V.indentedCode,Zt=V.prevLine.hr,ti=V.list!==!1,Vt=(V.listStack[V.listStack.length-1]||0)+3;V.indentedCode=!1;var Rt=V.indentation;if(V.indentationDiff===null&&(V.indentationDiff=V.indentation,ti)){for(V.list=null;Rt<V.listStack[V.listStack.length-1];)V.listStack.pop(),V.listStack.length?V.indentation=V.listStack[V.listStack.length-1]:V.list=!1;V.list!==!1&&(V.indentationDiff=Rt-V.listStack[V.listStack.length-1])}var St=!_t&&!Zt&&!V.prevLine.header&&(!ti||!lt)&&!V.prevLine.fencedCodeEnd,Pt=(V.list===!1||Zt||_t)&&V.indentation<=Vt&&ce.match(A),ii=null;if(V.indentationDiff>=4&&(lt||V.prevLine.fencedCodeEnd||V.prevLine.header||_t))return ce.skipToEnd(),V.indentedCode=!0,S.code;if(ce.eatSpace())return null;if(Ee&&V.indentation<=Vt&&(ii=ce.match($))&&ii[1].length<=6)return V.quote=0,V.header=ii[1].length,V.thisLine.header=!0,f.highlightFormatting&&(V.formatting="header"),V.f=V.inline,Le(V);if(V.indentation<=Vt&&ce.eat(">"))return V.quote=Ee?1:V.quote+1,f.highlightFormatting&&(V.formatting="quote"),ce.eatSpace(),Le(V);if(!Pt&&!V.setext&&Ee&&V.indentation<=Vt&&(ii=ce.match(O))){var gi=ii[1]?"ol":"ul";return V.indentation=Rt+ce.current().length,V.list=!0,V.quote=0,V.listStack.push(V.indentation),V.em=!1,V.strong=!1,V.code=!1,V.strikethrough=!1,f.taskLists&&ce.match(N,!1)&&(V.taskList=!0),V.f=V.inline,f.highlightFormatting&&(V.formatting=["list","list-"+gi]),Le(V)}else{if(Ee&&V.indentation<=Vt&&(ii=ce.match(te,!0)))return V.quote=0,V.fencedEndRE=new RegExp(ii[1]+"+ *$"),V.localMode=f.fencedCodeBlockHighlighting&&C(ii[2]||f.fencedCodeBlockDefaultMode),V.localMode&&(V.localState=r.startState(V.localMode)),V.f=V.block=Ke,f.highlightFormatting&&(V.formatting="code-block"),V.code=-1,Le(V);if(V.setext||(!St||!ti)&&!V.quote&&V.list===!1&&!V.code&&!Pt&&!J.test(ce.string)&&(ii=ce.lookAhead(1))&&(ii=ii.match(q)))return V.setext?(V.header=V.setext,V.setext=0,ce.skipToEnd(),f.highlightFormatting&&(V.formatting="header")):(V.header=ii[0].charAt(0)=="="?1:2,V.setext=V.header),V.thisLine.header=!0,V.f=V.inline,Le(V);if(Pt)return ce.skipToEnd(),V.hr=!0,V.thisLine.hr=!0,S.hr;if(ce.peek()==="[")return se(ce,V,Qe)}return se(ce,V,V.inline)}function Te(ce,V){var Ee=g.token(ce,V.htmlState);if(!b){var _t=r.innerMode(g,V.htmlState);(_t.mode.name=="xml"&&_t.state.tagStart===null&&!_t.state.context&&_t.state.tokenize.isInText||V.md_inside&&ce.current().indexOf(">")>-1)&&(V.f=st,V.block=be,V.htmlState=null)}return Ee}function Ke(ce,V){var Ee=V.listStack[V.listStack.length-1]||0,_t=V.indentation<Ee,lt=Ee+3;if(V.fencedEndRE&&V.indentation<=lt&&(_t||ce.match(V.fencedEndRE))){f.highlightFormatting&&(V.formatting="code-block");var Zt;return _t||(Zt=Le(V)),V.localMode=V.localState=null,V.block=be,V.f=st,V.fencedEndRE=null,V.code=0,V.thisLine.fencedCodeEnd=!0,_t?ae(ce,V,V.block):Zt}else return V.localMode?V.localMode.token(ce,V.localState):(ce.skipToEnd(),S.code)}function Le(ce){var V=[];if(ce.formatting){V.push(S.formatting),typeof ce.formatting=="string"&&(ce.formatting=[ce.formatting]);for(var Ee=0;Ee<ce.formatting.length;Ee++)V.push(S.formatting+"-"+ce.formatting[Ee]),ce.formatting[Ee]==="header"&&V.push(S.formatting+"-"+ce.formatting[Ee]+"-"+ce.header),ce.formatting[Ee]==="quote"&&(!f.maxBlockquoteDepth||f.maxBlockquoteDepth>=ce.quote?V.push(S.formatting+"-"+ce.formatting[Ee]+"-"+ce.quote):V.push("error"))}if(ce.taskOpen)return V.push("meta"),V.length?V.join(" "):null;if(ce.taskClosed)return V.push("property"),V.length?V.join(" "):null;if(ce.linkHref?V.push(S.linkHref,"url"):(ce.strong&&V.push(S.strong),ce.em&&V.push(S.em),ce.strikethrough&&V.push(S.strikethrough),ce.emoji&&V.push(S.emoji),ce.linkText&&V.push(S.linkText),ce.code&&V.push(S.code),ce.image&&V.push(S.image),ce.imageAltText&&V.push(S.imageAltText,"link"),ce.imageMarker&&V.push(S.imageMarker)),ce.header&&V.push(S.header,S.header+"-"+ce.header),ce.quote&&(V.push(S.quote),!f.maxBlockquoteDepth||f.maxBlockquoteDepth>=ce.quote?V.push(S.quote+"-"+ce.quote):V.push(S.quote+"-"+f.maxBlockquoteDepth)),ce.list!==!1){var _t=(ce.listStack.length-1)%3;_t?_t===1?V.push(S.list2):V.push(S.list3):V.push(S.list1)}return ce.trailingSpaceNewLine?V.push("trailing-space-new-line"):ce.trailingSpace&&V.push("trailing-space-"+(ce.trailingSpace%2?"a":"b")),V.length?V.join(" "):null}function Ge(ce,V){if(ce.match(Q,!0))return Le(V)}function st(ce,V){var Ee=V.text(ce,V);if(typeof Ee<"u")return Ee;if(V.list)return V.list=null,Le(V);if(V.taskList){var _t=ce.match(N,!0)[1]===" ";return _t?V.taskOpen=!0:V.taskClosed=!0,f.highlightFormatting&&(V.formatting="task"),V.taskList=!1,Le(V)}if(V.taskOpen=!1,V.taskClosed=!1,V.header&&ce.match(/^#+$/,!0))return f.highlightFormatting&&(V.formatting="header"),Le(V);var lt=ce.next();if(V.linkTitle){V.linkTitle=!1;var Zt=lt;lt==="("&&(Zt=")"),Zt=(Zt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var ti="^\\s*(?:[^"+Zt+"\\\\]+|\\\\\\\\|\\\\.)"+Zt;if(ce.match(new RegExp(ti),!0))return S.linkHref}if(lt==="`"){var Vt=V.formatting;f.highlightFormatting&&(V.formatting="code"),ce.eatWhile("`");var Rt=ce.current().length;if(V.code==0&&(!V.quote||Rt==1))return V.code=Rt,Le(V);if(Rt==V.code){var St=Le(V);return V.code=0,St}else return V.formatting=Vt,Le(V)}else if(V.code)return Le(V);if(lt==="\\"&&(ce.next(),f.highlightFormatting)){var Pt=Le(V),ii=S.formatting+"-escape";return Pt?Pt+" "+ii:ii}if(lt==="!"&&ce.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return V.imageMarker=!0,V.image=!0,f.highlightFormatting&&(V.formatting="image"),Le(V);if(lt==="["&&V.imageMarker&&ce.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return V.imageMarker=!1,V.imageAltText=!0,f.highlightFormatting&&(V.formatting="image"),Le(V);if(lt==="]"&&V.imageAltText){f.highlightFormatting&&(V.formatting="image");var Pt=Le(V);return V.imageAltText=!1,V.image=!1,V.inline=V.f=de,Pt}if(lt==="["&&!V.image)return V.linkText&&ce.match(/^.*?\]/)||(V.linkText=!0,f.highlightFormatting&&(V.formatting="link")),Le(V);if(lt==="]"&&V.linkText){f.highlightFormatting&&(V.formatting="link");var Pt=Le(V);return V.linkText=!1,V.inline=V.f=ce.match(/\(.*?\)| ?\[.*?\]/,!1)?de:st,Pt}if(lt==="<"&&ce.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){V.f=V.inline=ut,f.highlightFormatting&&(V.formatting="link");var Pt=Le(V);return Pt?Pt+=" ":Pt="",Pt+S.linkInline}if(lt==="<"&&ce.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){V.f=V.inline=ut,f.highlightFormatting&&(V.formatting="link");var Pt=Le(V);return Pt?Pt+=" ":Pt="",Pt+S.linkEmail}if(f.xml&&lt==="<"&&ce.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var gi=ce.string.indexOf(">",ce.pos);if(gi!=-1){var ct=ce.string.substring(ce.start,gi);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(ct)&&(V.md_inside=!0)}return ce.backUp(1),V.htmlState=r.startState(g),ae(ce,V,Te)}if(f.xml&&lt==="<"&&ce.match(/^\/\w*?>/))return V.md_inside=!1,"tag";if(lt==="*"||lt==="_"){for(var ji=1,Ui=ce.pos==1?" ":ce.string.charAt(ce.pos-2);ji<3&&ce.eat(lt);)ji++;var ni=ce.peek()||" ",Tn=!/\s/.test(ni)&&(!K.test(ni)||/\s/.test(Ui)||K.test(Ui)),at=!/\s/.test(Ui)&&(!K.test(Ui)||/\s/.test(ni)||K.test(ni)),oi=null,dt=null;if(ji%2&&(!V.em&&Tn&&(lt==="*"||!at||K.test(Ui))?oi=!0:V.em==lt&&at&&(lt==="*"||!Tn||K.test(ni))&&(oi=!1)),ji>1&&(!V.strong&&Tn&&(lt==="*"||!at||K.test(Ui))?dt=!0:V.strong==lt&&at&&(lt==="*"||!Tn||K.test(ni))&&(dt=!1)),dt!=null||oi!=null){f.highlightFormatting&&(V.formatting=oi==null?"strong":dt==null?"em":"strong em"),oi===!0&&(V.em=lt),dt===!0&&(V.strong=lt);var St=Le(V);return oi===!1&&(V.em=!1),dt===!1&&(V.strong=!1),St}}else if(lt===" "&&(ce.eat("*")||ce.eat("_"))){if(ce.peek()===" ")return Le(V);ce.backUp(1)}if(f.strikethrough){if(lt==="~"&&ce.eatWhile(lt)){if(V.strikethrough){f.highlightFormatting&&(V.formatting="strikethrough");var St=Le(V);return V.strikethrough=!1,St}else if(ce.match(/^[^\s]/,!1))return V.strikethrough=!0,f.highlightFormatting&&(V.formatting="strikethrough"),Le(V)}else if(lt===" "&&ce.match("~~",!0)){if(ce.peek()===" ")return Le(V);ce.backUp(2)}}if(f.emoji&&lt===":"&&ce.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){V.emoji=!0,f.highlightFormatting&&(V.formatting="emoji");var vs=Le(V);return V.emoji=!1,vs}return lt===" "&&(ce.match(/^ +$/,!1)?V.trailingSpace++:V.trailingSpace&&(V.trailingSpaceNewLine=!0)),Le(V)}function ut(ce,V){var Ee=ce.next();if(Ee===">"){V.f=V.inline=st,f.highlightFormatting&&(V.formatting="link");var _t=Le(V);return _t?_t+=" ":_t="",_t+S.linkInline}return ce.match(/^[^>]+/,!0),S.linkInline}function de(ce,V){if(ce.eatSpace())return null;var Ee=ce.next();return Ee==="("||Ee==="["?(V.f=V.inline=Pe(Ee==="("?")":"]"),f.highlightFormatting&&(V.formatting="link-string"),V.linkHref=!0,Le(V)):"error"}var Be={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Pe(ce){return function(V,Ee){var _t=V.next();if(_t===ce){Ee.f=Ee.inline=st,f.highlightFormatting&&(Ee.formatting="link-string");var lt=Le(Ee);return Ee.linkHref=!1,lt}return V.match(Be[ce]),Ee.linkHref=!0,Le(Ee)}}function Qe(ce,V){return ce.match(/^([^\]\\]|\\.)*\]:/,!1)?(V.f=gt,ce.next(),f.highlightFormatting&&(V.formatting="link"),V.linkText=!0,Le(V)):se(ce,V,st)}function gt(ce,V){if(ce.match("]:",!0)){V.f=V.inline=Ht,f.highlightFormatting&&(V.formatting="link");var Ee=Le(V);return V.linkText=!1,Ee}return ce.match(/^([^\]\\]|\\.)+/,!0),S.linkText}function Ht(ce,V){return ce.eatSpace()?null:(ce.match(/^[^\s]+/,!0),ce.peek()===void 0?V.linkTitle=!0:ce.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),V.f=V.inline=st,S.linkHref+" url")}var Qi={startState:function(){return{f:be,prevLine:{stream:null},thisLine:{stream:null},block:be,htmlState:null,indentation:0,inline:st,text:Ge,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ce){return{f:ce.f,prevLine:ce.prevLine,thisLine:ce.thisLine,block:ce.block,htmlState:ce.htmlState&&r.copyState(g,ce.htmlState),indentation:ce.indentation,localMode:ce.localMode,localState:ce.localMode?r.copyState(ce.localMode,ce.localState):null,inline:ce.inline,text:ce.text,formatting:!1,linkText:ce.linkText,linkTitle:ce.linkTitle,linkHref:ce.linkHref,code:ce.code,em:ce.em,strong:ce.strong,strikethrough:ce.strikethrough,emoji:ce.emoji,header:ce.header,setext:ce.setext,hr:ce.hr,taskList:ce.taskList,list:ce.list,listStack:ce.listStack.slice(0),quote:ce.quote,indentedCode:ce.indentedCode,trailingSpace:ce.trailingSpace,trailingSpaceNewLine:ce.trailingSpaceNewLine,md_inside:ce.md_inside,fencedEndRE:ce.fencedEndRE}},token:function(ce,V){if(V.formatting=!1,ce!=V.thisLine.stream){if(V.header=0,V.hr=!1,ce.match(/^\s*$/,!0))return ye(V),null;if(V.prevLine=V.thisLine,V.thisLine={stream:ce},V.taskList=!1,V.trailingSpace=0,V.trailingSpaceNewLine=!1,!V.localState&&(V.f=V.block,V.f!=Te)){var Ee=ce.match(/^\s*/,!0)[0].replace(/\t/g,le).length;if(V.indentation=Ee,V.indentationDiff=null,Ee>0)return null}}return V.f(ce,V)},innerMode:function(ce){return ce.block==Te?{state:ce.htmlState,mode:g}:ce.localState?{state:ce.localState,mode:ce.localMode}:{state:ce,mode:Qi}},indent:function(ce,V,Ee){return ce.block==Te&&g.indent?g.indent(ce.htmlState,V,Ee):ce.localState&&ce.localMode.indent?ce.localMode.indent(ce.localState,V,Ee):r.Pass},blankLine:ye,getType:Le,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Qi},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})}()),Gg.exports}var e0={exports:{}},t0;function Yv(){return t0||(t0=1,function(u,a){(function(r){r(ns())})(function(r){r.overlayMode=function(c,f,g){return{startState:function(){return{base:r.startState(c),overlay:r.startState(f),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(b){return{base:r.copyState(c,b.base),overlay:r.copyState(f,b.overlay),basePos:b.basePos,baseCur:null,overlayPos:b.overlayPos,overlayCur:null}},token:function(b,C){return(b!=C.streamSeen||Math.min(C.basePos,C.overlayPos)<b.start)&&(C.streamSeen=b,C.basePos=C.overlayPos=b.start),b.start==C.basePos&&(C.baseCur=c.token(b,C.base),C.basePos=b.pos),b.start==C.overlayPos&&(b.pos=b.start,C.overlayCur=f.token(b,C.overlay),C.overlayPos=b.pos),b.pos=Math.min(C.basePos,C.overlayPos),C.overlayCur==null?C.baseCur:C.baseCur!=null&&C.overlay.combineTokens||g&&C.overlay.combineTokens==null?C.baseCur+" "+C.overlayCur:C.overlayCur},indent:c.indent&&function(b,C,S){return c.indent(b.base,C,S)},electricChars:c.electricChars,innerMode:function(b){return{state:b.base,mode:c}},blankLine:function(b){var C,S;return c.blankLine&&(C=c.blankLine(b.base)),f.blankLine&&(S=f.blankLine(b.overlay)),S==null?C:g&&C!=null?C+" "+S:S}}}})}()),e0.exports}var i0={exports:{}},n0;function CD(){return n0||(n0=1,function(u,a){(function(r){r(ns())})(function(r){r.defineOption("placeholder","",function(T,A,O){var N=O&&O!=r.Init;if(A&&!N)T.on("blur",b),T.on("change",C),T.on("swapDoc",C),r.on(T.getInputField(),"compositionupdate",T.state.placeholderCompose=function(){g(T)}),C(T);else if(!A&&N){T.off("blur",b),T.off("change",C),T.off("swapDoc",C),r.off(T.getInputField(),"compositionupdate",T.state.placeholderCompose),c(T);var $=T.getWrapperElement();$.className=$.className.replace(" CodeMirror-empty","")}A&&!T.hasFocus()&&b(T)});function c(T){T.state.placeholder&&(T.state.placeholder.parentNode.removeChild(T.state.placeholder),T.state.placeholder=null)}function f(T){c(T);var A=T.state.placeholder=document.createElement("pre");A.style.cssText="height: 0; overflow: visible",A.style.direction=T.getOption("direction"),A.className="CodeMirror-placeholder CodeMirror-line-like";var O=T.getOption("placeholder");typeof O=="string"&&(O=document.createTextNode(O)),A.appendChild(O),T.display.lineSpace.insertBefore(A,T.display.lineSpace.firstChild)}function g(T){setTimeout(function(){var A=!1;if(T.lineCount()==1){var O=T.getInputField();A=O.nodeName=="TEXTAREA"?!T.getLine(0).length:!/[^\u200b]/.test(O.querySelector(".CodeMirror-line").textContent)}A?f(T):c(T)},20)}function b(T){S(T)&&f(T)}function C(T){var A=T.getWrapperElement(),O=S(T);A.className=A.className.replace(" CodeMirror-empty","")+(O?" CodeMirror-empty":""),O?f(T):c(T)}function S(T){return T.lineCount()===1&&T.getLine(0)===""}})}()),i0.exports}var s0={exports:{}},a0;function wD(){return a0||(a0=1,function(u,a){(function(r){r(ns())})(function(r){r.defineOption("autoRefresh",!1,function(g,b){g.state.autoRefresh&&(f(g,g.state.autoRefresh),g.state.autoRefresh=null),b&&g.display.wrapper.offsetHeight==0&&c(g,g.state.autoRefresh={delay:b.delay||250})});function c(g,b){function C(){g.display.wrapper.offsetHeight?(f(g,b),g.display.lastWrapHeight!=g.display.wrapper.clientHeight&&g.refresh()):b.timeout=setTimeout(C,b.delay)}b.timeout=setTimeout(C,b.delay),b.hurry=function(){clearTimeout(b.timeout),b.timeout=setTimeout(C,50)},r.on(window,"mouseup",b.hurry),r.on(window,"keyup",b.hurry)}function f(g,b){clearTimeout(b.timeout),r.off(window,"mouseup",b.hurry),r.off(window,"keyup",b.hurry)}})}()),s0.exports}var r0={exports:{}},o0;function kD(){return o0||(o0=1,function(u,a){(function(r){r(ns())})(function(r){r.defineOption("styleSelectedText",!1,function(N,$,q){var Q=q&&q!=r.Init;$&&!Q?(N.state.markedSelection=[],N.state.markedSelectionStyle=typeof $=="string"?$:"CodeMirror-selectedtext",A(N),N.on("cursorActivity",c),N.on("change",f)):!$&&Q&&(N.off("cursorActivity",c),N.off("change",f),T(N),N.state.markedSelection=N.state.markedSelectionStyle=null)});function c(N){N.state.markedSelection&&N.operation(function(){O(N)})}function f(N){N.state.markedSelection&&N.state.markedSelection.length&&N.operation(function(){T(N)})}var g=8,b=r.Pos,C=r.cmpPos;function S(N,$,q,Q){if(C($,q)!=0)for(var te=N.state.markedSelection,J=N.state.markedSelectionStyle,K=$.line;;){var le=K==$.line?$:b(K,0),se=K+g,ae=se>=q.line,ke=ae?q:b(se,0),ye=N.markText(le,ke,{className:J});if(Q==null?te.push(ye):te.splice(Q++,0,ye),ae)break;K=se}}function T(N){for(var $=N.state.markedSelection,q=0;q<$.length;++q)$[q].clear();$.length=0}function A(N){T(N);for(var $=N.listSelections(),q=0;q<$.length;q++)S(N,$[q].from(),$[q].to())}function O(N){if(!N.somethingSelected())return T(N);if(N.listSelections().length>1)return A(N);var $=N.getCursor("start"),q=N.getCursor("end"),Q=N.state.markedSelection;if(!Q.length)return S(N,$,q);var te=Q[0].find(),J=Q[Q.length-1].find();if(!te||!J||q.line-$.line<=g||C($,J.to)>=0||C(q,te.from)<=0)return A(N);for(;C($,te.from)>0;)Q.shift().clear(),te=Q[0].find();for(C($,te.from)<0&&(te.to.line-$.line<g?(Q.shift().clear(),S(N,$,te.to,0)):S(N,$,te.from,0));C(q,J.to)<0;)Q.pop().clear(),J=Q[Q.length-1].find();C(q,J.to)>0&&(q.line-J.from.line<g?(Q.pop().clear(),S(N,J.from,q)):S(N,J.to,q))}})}()),r0.exports}var l0={exports:{}},u0;function SD(){return u0||(u0=1,function(u,a){(function(r){r(ns())})(function(r){var c=r.Pos;function f(K){var le=K.flags;return le??(K.ignoreCase?"i":"")+(K.global?"g":"")+(K.multiline?"m":"")}function g(K,le){for(var se=f(K),ae=se,ke=0;ke<le.length;ke++)ae.indexOf(le.charAt(ke))==-1&&(ae+=le.charAt(ke));return se==ae?K:new RegExp(K.source,ae)}function b(K){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(K.source)}function C(K,le,se){le=g(le,"g");for(var ae=se.line,ke=se.ch,ye=K.lastLine();ae<=ye;ae++,ke=0){le.lastIndex=ke;var be=K.getLine(ae),Te=le.exec(be);if(Te)return{from:c(ae,Te.index),to:c(ae,Te.index+Te[0].length),match:Te}}}function S(K,le,se){if(!b(le))return C(K,le,se);le=g(le,"gm");for(var ae,ke=1,ye=se.line,be=K.lastLine();ye<=be;){for(var Te=0;Te<ke&&!(ye>be);Te++){var Ke=K.getLine(ye++);ae=ae==null?Ke:ae+`
`+Ke}ke=ke*2,le.lastIndex=se.ch;var Le=le.exec(ae);if(Le){var Ge=ae.slice(0,Le.index).split(`
`),st=Le[0].split(`
`),ut=se.line+Ge.length-1,de=Ge[Ge.length-1].length;return{from:c(ut,de),to:c(ut+st.length-1,st.length==1?de+st[0].length:st[st.length-1].length),match:Le}}}}function T(K,le,se){for(var ae,ke=0;ke<=K.length;){le.lastIndex=ke;var ye=le.exec(K);if(!ye)break;var be=ye.index+ye[0].length;if(be>K.length-se)break;(!ae||be>ae.index+ae[0].length)&&(ae=ye),ke=ye.index+1}return ae}function A(K,le,se){le=g(le,"g");for(var ae=se.line,ke=se.ch,ye=K.firstLine();ae>=ye;ae--,ke=-1){var be=K.getLine(ae),Te=T(be,le,ke<0?0:be.length-ke);if(Te)return{from:c(ae,Te.index),to:c(ae,Te.index+Te[0].length),match:Te}}}function O(K,le,se){if(!b(le))return A(K,le,se);le=g(le,"gm");for(var ae,ke=1,ye=K.getLine(se.line).length-se.ch,be=se.line,Te=K.firstLine();be>=Te;){for(var Ke=0;Ke<ke&&be>=Te;Ke++){var Le=K.getLine(be--);ae=ae==null?Le:Le+`
`+ae}ke*=2;var Ge=T(ae,le,ye);if(Ge){var st=ae.slice(0,Ge.index).split(`
`),ut=Ge[0].split(`
`),de=be+st.length,Be=st[st.length-1].length;return{from:c(de,Be),to:c(de+ut.length-1,ut.length==1?Be+ut[0].length:ut[ut.length-1].length),match:Ge}}}}var N,$;String.prototype.normalize?(N=function(K){return K.normalize("NFD").toLowerCase()},$=function(K){return K.normalize("NFD")}):(N=function(K){return K.toLowerCase()},$=function(K){return K});function q(K,le,se,ae){if(K.length==le.length)return se;for(var ke=0,ye=se+Math.max(0,K.length-le.length);;){if(ke==ye)return ke;var be=ke+ye>>1,Te=ae(K.slice(0,be)).length;if(Te==se)return be;Te>se?ye=be:ke=be+1}}function Q(K,le,se,ae){if(!le.length)return null;var ke=ae?N:$,ye=ke(le).split(/\r|\n\r?/);e:for(var be=se.line,Te=se.ch,Ke=K.lastLine()+1-ye.length;be<=Ke;be++,Te=0){var Le=K.getLine(be).slice(Te),Ge=ke(Le);if(ye.length==1){var st=Ge.indexOf(ye[0]);if(st==-1)continue e;var se=q(Le,Ge,st,ke)+Te;return{from:c(be,q(Le,Ge,st,ke)+Te),to:c(be,q(Le,Ge,st+ye[0].length,ke)+Te)}}else{var ut=Ge.length-ye[0].length;if(Ge.slice(ut)!=ye[0])continue e;for(var de=1;de<ye.length-1;de++)if(ke(K.getLine(be+de))!=ye[de])continue e;var Be=K.getLine(be+ye.length-1),Pe=ke(Be),Qe=ye[ye.length-1];if(Pe.slice(0,Qe.length)!=Qe)continue e;return{from:c(be,q(Le,Ge,ut,ke)+Te),to:c(be+ye.length-1,q(Be,Pe,Qe.length,ke))}}}}function te(K,le,se,ae){if(!le.length)return null;var ke=ae?N:$,ye=ke(le).split(/\r|\n\r?/);e:for(var be=se.line,Te=se.ch,Ke=K.firstLine()-1+ye.length;be>=Ke;be--,Te=-1){var Le=K.getLine(be);Te>-1&&(Le=Le.slice(0,Te));var Ge=ke(Le);if(ye.length==1){var st=Ge.lastIndexOf(ye[0]);if(st==-1)continue e;return{from:c(be,q(Le,Ge,st,ke)),to:c(be,q(Le,Ge,st+ye[0].length,ke))}}else{var ut=ye[ye.length-1];if(Ge.slice(0,ut.length)!=ut)continue e;for(var de=1,se=be-ye.length+1;de<ye.length-1;de++)if(ke(K.getLine(se+de))!=ye[de])continue e;var Be=K.getLine(be+1-ye.length),Pe=ke(Be);if(Pe.slice(Pe.length-ye[0].length)!=ye[0])continue e;return{from:c(be+1-ye.length,q(Be,Pe,Be.length-ye[0].length,ke)),to:c(be,q(Le,Ge,ut.length,ke))}}}}function J(K,le,se,ae){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=K,se=se?K.clipPos(se):c(0,0),this.pos={from:se,to:se};var ke;typeof ae=="object"?ke=ae.caseFold:(ke=ae,ae=null),typeof le=="string"?(ke==null&&(ke=!1),this.matches=function(ye,be){return(ye?te:Q)(K,le,be,ke)}):(le=g(le,"gm"),!ae||ae.multiline!==!1?this.matches=function(ye,be){return(ye?O:S)(K,le,be)}:this.matches=function(ye,be){return(ye?A:C)(K,le,be)})}J.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(K){var le=this.doc.clipPos(K?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(le=c(le.line,le.ch),K?(le.ch--,le.ch<0&&(le.line--,le.ch=(this.doc.getLine(le.line)||"").length)):(le.ch++,le.ch>(this.doc.getLine(le.line)||"").length&&(le.ch=0,le.line++)),r.cmpPos(le,this.doc.clipPos(le))!=0))return this.atOccurrence=!1;var se=this.matches(K,le);if(this.afterEmptyMatch=se&&r.cmpPos(se.from,se.to)==0,se)return this.pos=se,this.atOccurrence=!0,this.pos.match||!0;var ae=c(K?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:ae,to:ae},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(K,le){if(this.atOccurrence){var se=r.splitLines(K);this.doc.replaceRange(se,this.pos.from,this.pos.to,le),this.pos.to=c(this.pos.from.line+se.length-1,se[se.length-1].length+(se.length==1?this.pos.from.ch:0))}}},r.defineExtension("getSearchCursor",function(K,le,se){return new J(this.doc,K,le,se)}),r.defineDocExtension("getSearchCursor",function(K,le,se){return new J(this,K,le,se)}),r.defineExtension("selectMatches",function(K,le){for(var se=[],ae=this.getSearchCursor(K,this.getCursor("from"),le);ae.findNext()&&!(r.cmpPos(ae.to(),this.getCursor("to"))>0);)se.push({anchor:ae.from(),head:ae.to()});se.length&&this.setSelections(se,0)})})}()),l0.exports}var c0={exports:{}},d0;function DD(){return d0||(d0=1,function(u,a){(function(r){r(ns(),qv(),Yv())})(function(r){var c=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;r.defineMode("gfm",function(f,g){var b=0;function C(O){return O.code=!1,null}var S={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(O){return{code:O.code,codeBlock:O.codeBlock,ateSpace:O.ateSpace}},token:function(O,N){if(N.combineTokens=null,N.codeBlock)return O.match(/^```+/)?(N.codeBlock=!1,null):(O.skipToEnd(),null);if(O.sol()&&(N.code=!1),O.sol()&&O.match(/^```+/))return O.skipToEnd(),N.codeBlock=!0,null;if(O.peek()==="`"){O.next();var $=O.pos;O.eatWhile("`");var q=1+O.pos-$;return N.code?q===b&&(N.code=!1):(b=q,N.code=!0),null}else if(N.code)return O.next(),null;if(O.eatSpace())return N.ateSpace=!0,null;if((O.sol()||N.ateSpace)&&(N.ateSpace=!1,g.gitHubSpice!==!1)){if(O.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return N.combineTokens=!0,"link";if(O.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return N.combineTokens=!0,"link"}return O.match(c)&&O.string.slice(O.start-2,O.start)!="]("&&(O.start==0||/\W/.test(O.string.charAt(O.start-1)))?(N.combineTokens=!0,"link"):(O.next(),null)},blankLine:C},T={taskLists:!0,strikethrough:!0,emoji:!0};for(var A in g)T[A]=g[A];return T.name="markdown",r.overlayMode(r.getMode(f,T),S)},"markdown"),r.defineMIME("text/x-gfm","gfm")})}()),c0.exports}function TD(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xf={exports:{}};const ED={},AD=Object.freeze(Object.defineProperty({__proto__:null,default:ED},Symbol.toStringTag,{value:"Module"})),MD=Y_(AD);var h0;function FD(){return h0||(h0=1,function(u){var a;(function(){a=function(r,c,f,g){g=g||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=g.flags||{},this.memoized={},this.loaded=!1;var b=this,C,S,T,A,O;if(r)if(b.dictionary=r,c&&f)te();else if(typeof window<"u"&&(window.chrome||window.browser)){var N=window.chrome&&window.chrome.runtime?window.chrome.runtime:browser.runtime;g.dictionaryPath?C=g.dictionaryPath:C="typo/dictionaries",c||$(N.getURL(C+"/"+r+"/"+r+".aff"),q),f||$(N.getURL(C+"/"+r+"/"+r+".dic"),Q)}else g.dictionaryPath?C=g.dictionaryPath:typeof __dirname<"u"?C=__dirname+"/dictionaries":C="./dictionaries",c||$(C+"/"+r+"/"+r+".aff",q),f||$(C+"/"+r+"/"+r+".dic",Q);function $(J,K){var le=b._readFile(J,null,g==null?void 0:g.asyncLoad);g!=null&&g.asyncLoad?le.then(function(se){K(se)}):K(le)}function q(J){c=J,f&&te()}function Q(J){f=J,c&&te()}function te(){for(b.rules=b._parseAFF(c),b.compoundRuleCodes={},S=0,A=b.compoundRules.length;S<A;S++){var J=b.compoundRules[S];for(T=0,O=J.length;T<O;T++)b.compoundRuleCodes[J[T]]=[]}"ONLYINCOMPOUND"in b.flags&&(b.compoundRuleCodes[b.flags.ONLYINCOMPOUND]=[]),b.dictionaryTable=b._parseDIC(f);for(S in b.compoundRuleCodes)b.compoundRuleCodes[S].length===0&&delete b.compoundRuleCodes[S];for(S=0,A=b.compoundRules.length;S<A;S++){var K=b.compoundRules[S],le="";for(T=0,O=K.length;T<O;T++){var se=K[T];se in b.compoundRuleCodes?le+="("+b.compoundRuleCodes[se].join("|")+")":le+=se}b.compoundRules[S]=new RegExp("^"+le+"$","i")}b.loaded=!0,g!=null&&g.asyncLoad&&(g!=null&&g.loadedCallback)&&g.loadedCallback(b)}return this},a.prototype={load:function(r){for(var c in r)r.hasOwnProperty(c)&&(this[c]=r[c]);return this},_readFile:function(r,c,f){var g;if(c=c||"utf8",typeof XMLHttpRequest<"u"){var b=new XMLHttpRequest;if(b.open("GET",r,!!f),(g=b.overrideMimeType)===null||g===void 0||g.call(b,"text/plain; charset="+c),f){var C=new Promise(function(T,A){b.onload=function(){b.status===200?T(b.responseText):A(b.statusText)},b.onerror=function(){A(b.statusText)}});return b.send(null),C}else return b.send(null),b.responseText}else if(typeof TD<"u"){var S=MD;try{if(S.existsSync(r))return S.readFileSync(r,c);console.log("Path "+r+" does not exist.")}catch(T){console.log(T)}return""}return""},_parseAFF:function(r){var c={},f,g,b,C,S,T,A,O,N=r.split(/\r?\n/);for(S=0,A=N.length;S<A;S++)if(f=this._removeAffixComments(N[S]),f=f.trim(),!!f){var $=f.split(/\s+/),q=$[0];if(q==="PFX"||q==="SFX"){var Q=$[1],te=$[2];b=parseInt($[3],10);var J=[];for(T=S+1,O=S+1+b;T<O;T++){g=N[T],C=g.split(/\s+/);var K=C[2],le=C[3].split("/"),se=le[0];se==="0"&&(se="");var ae=this.parseRuleCodes(le[1]),ke=C[4],ye={add:se};ae.length>0&&(ye.continuationClasses=ae),ke!=="."&&(q==="SFX"?ye.match=new RegExp(ke+"$"):ye.match=new RegExp("^"+ke)),K!="0"&&(q==="SFX"?ye.remove=new RegExp(K+"$"):ye.remove=K),J.push(ye)}c[Q]={type:q,combineable:te==="Y",entries:J},S+=b}else if(q==="COMPOUNDRULE"){for(b=parseInt($[1],10),T=S+1,O=S+1+b;T<O;T++)f=N[T],C=f.split(/\s+/),this.compoundRules.push(C[1]);S+=b}else q==="REP"?(C=f.split(/\s+/),C.length===3&&this.replacementTable.push([C[1],C[2]])):this.flags[q]=$[1]}return c},_removeAffixComments:function(r){return r.match(/^\s*#/)?"":r},_parseDIC:function(r){r=this._removeDicComments(r);var c=r.split(/\r?\n/),f={};function g(Le,Ge){f.hasOwnProperty(Le)||(f[Le]=null),Ge.length>0&&(f[Le]===null&&(f[Le]=[]),f[Le].push(Ge))}for(var b=1,C=c.length;b<C;b++){var S=c[b];if(S){var T=S.split("/",2),A=T[0];if(T.length>1){var O=this.parseRuleCodes(T[1]);(!("NEEDAFFIX"in this.flags)||O.indexOf(this.flags.NEEDAFFIX)===-1)&&g(A,O);for(var N=0,$=O.length;N<$;N++){var q=O[N],Q=this.rules[q];if(Q)for(var te=this._applyRule(A,Q),J=0,K=te.length;J<K;J++){var le=te[J];if(g(le,[]),Q.combineable)for(var se=N+1;se<$;se++){var ae=O[se],ke=this.rules[ae];if(ke&&ke.combineable&&Q.type!=ke.type)for(var ye=this._applyRule(le,ke),be=0,Te=ye.length;be<Te;be++){var Ke=ye[be];g(Ke,[])}}}q in this.compoundRuleCodes&&this.compoundRuleCodes[q].push(A)}}else g(A.trim(),[])}}return f},_removeDicComments:function(r){return r=r.replace(/^\t.*$/mg,""),r},parseRuleCodes:function(r){if(r)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var c=[],f=0,g=r.length;f<g;f+=2)c.push(r.substr(f,2));return c}else return this.flags.FLAG==="num"?r.split(","):this.flags.FLAG==="UTF-8"?Array.from(r):r.split("");else return r.split("");else return[]},_applyRule:function(r,c){for(var f=c.entries,g=[],b=0,C=f.length;b<C;b++){var S=f[b];if(!S.match||r.match(S.match)){var T=r;if(S.remove&&(T=T.replace(S.remove,"")),c.type==="SFX"?T=T+S.add:T=S.add+T,g.push(T),"continuationClasses"in S)for(var A=0,O=S.continuationClasses.length;A<O;A++){var N=this.rules[S.continuationClasses[A]];N&&(g=g.concat(this._applyRule(T,N)))}}}return g},check:function(r){if(!this.loaded)throw"Dictionary not loaded.";if(!r)return!1;var c=r.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(c))return!0;if(c.toUpperCase()===c){var f=c[0]+c.substring(1).toLowerCase();if(this.hasFlag(f,"KEEPCASE"))return!1;if(this.checkExact(f)||this.checkExact(c.toLowerCase()))return!0}var g=c[0].toLowerCase()+c.substring(1);if(g!==c){if(this.hasFlag(g,"KEEPCASE"))return!1;if(this.checkExact(g))return!0}return!1},checkExact:function(r){if(!this.loaded)throw"Dictionary not loaded.";var c=this.dictionaryTable[r],f,g;if(typeof c>"u"){if("COMPOUNDMIN"in this.flags&&r.length>=this.flags.COMPOUNDMIN){for(f=0,g=this.compoundRules.length;f<g;f++)if(r.match(this.compoundRules[f]))return!0}}else{if(c===null)return!0;if(typeof c=="object"){for(f=0,g=c.length;f<g;f++)if(!this.hasFlag(r,"ONLYINCOMPOUND",c[f]))return!0}}return!1},hasFlag:function(r,c,f){if(!this.loaded)throw"Dictionary not loaded.";return!!(c in this.flags&&(typeof f>"u"&&(f=Array.prototype.concat.apply([],this.dictionaryTable[r])),f&&f.indexOf(this.flags[c])!==-1))},alphabet:"",suggest:function(r,c){if(!this.loaded)throw"Dictionary not loaded.";if(c=c||5,this.memoized.hasOwnProperty(r)){var f=this.memoized[r].limit;if(c<=f||this.memoized[r].suggestions.length<f)return this.memoized[r].suggestions.slice(0,c)}if(this.check(r))return[];for(var g=0,b=this.replacementTable.length;g<b;g++){var C=this.replacementTable[g];if(r.indexOf(C[0])!==-1){var S=r.replace(C[0],C[1]);if(this.check(S))return[S]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var T=this.alphabet.split("");T.sort();for(var A={},g=0;g<T.length;g++)A[T[g]]=!0;this.alphabet="";for(var g in A)this.alphabet+=g}var O=this;function N(q,Q){var te={},J,K,le,se,ae=O.alphabet.length;for(var ke in q)for(J=0,le=ke.length+1;J<le;J++){var ye=[ke.substring(0,J),ke.substring(J)];if(ye[1]&&(se=ye[0]+ye[1].substring(1),(!Q||O.check(se))&&(se in te?te[se]+=1:te[se]=1)),ye[1].length>1&&ye[1][1]!==ye[1][0]&&(se=ye[0]+ye[1][1]+ye[1][0]+ye[1].substring(2),(!Q||O.check(se))&&(se in te?te[se]+=1:te[se]=1)),ye[1]){var be=ye[1].substring(0,1).toUpperCase()===ye[1].substring(0,1)?"uppercase":"lowercase";for(K=0;K<ae;K++){var Te=O.alphabet[K];be==="uppercase"&&(Te=Te.toUpperCase()),Te!=ye[1].substring(0,1)&&(se=ye[0]+Te+ye[1].substring(1),(!Q||O.check(se))&&(se in te?te[se]+=1:te[se]=1))}}if(ye[1])for(K=0;K<ae;K++){var be=ye[0].substring(-1).toUpperCase()===ye[0].substring(-1)&&ye[1].substring(0,1).toUpperCase()===ye[1].substring(0,1)?"uppercase":"lowercase",Te=O.alphabet[K];be==="uppercase"&&(Te=Te.toUpperCase()),se=ye[0]+Te+ye[1],(!Q||O.check(se))&&(se in te?te[se]+=1:te[se]=1)}}return te}function $(q){var Q,te=N((Q={},Q[q]=!0,Q)),J=N(te,!0),K=J;for(var le in te)O.check(le)&&(le in K?K[le]+=te[le]:K[le]=te[le]);var se,ae=[];for(se in K)K.hasOwnProperty(se)&&ae.push([se,K[se]]);function ke(Ke,Le){var Ge=Ke[1],st=Le[1];return Ge<st?-1:Ge>st?1:Le[0].localeCompare(Ke[0])}ae.sort(ke).reverse();var ye=[],be="lowercase";q.toUpperCase()===q?be="uppercase":q.substr(0,1).toUpperCase()+q.substr(1).toLowerCase()===q&&(be="capitalized");var Te=c;for(se=0;se<Math.min(Te,ae.length);se++)be==="uppercase"?ae[se][0]=ae[se][0].toUpperCase():be==="capitalized"&&(ae[se][0]=ae[se][0].substr(0,1).toUpperCase()+ae[se][0].substr(1)),!O.hasFlag(ae[se][0],"NOSUGGEST")&&ye.indexOf(ae[se][0])===-1?ye.push(ae[se][0]):Te++;return ye}return this.memoized[r]={suggestions:$(r),limit:c},this.memoized[r].suggestions}}})(),u.exports=a}(Xf)),Xf.exports}var Jf,f0;function ID(){if(f0)return Jf;f0=1;var u=FD();function a(r){if(r=r||{},typeof r.codeMirrorInstance!="function"||typeof r.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),r.codeMirrorInstance.defineMode("spell-checker",function(c){if(!a.aff_loading){a.aff_loading=!0;var f=new XMLHttpRequest;f.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),f.onload=function(){f.readyState===4&&f.status===200&&(a.aff_data=f.responseText,a.num_loaded++,a.num_loaded==2&&(a.typo=new u("en_US",a.aff_data,a.dic_data,{platform:"any"})))},f.send(null)}if(!a.dic_loading){a.dic_loading=!0;var g=new XMLHttpRequest;g.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),g.onload=function(){g.readyState===4&&g.status===200&&(a.dic_data=g.responseText,a.num_loaded++,a.num_loaded==2&&(a.typo=new u("en_US",a.aff_data,a.dic_data,{platform:"any"})))},g.send(null)}var b='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',C={token:function(T){var A=T.peek(),O="";if(b.includes(A))return T.next(),null;for(;(A=T.peek())!=null&&!b.includes(A);)O+=A,T.next();return a.typo&&!a.typo.check(O)?"spell-error":null}},S=r.codeMirrorInstance.getMode(c,c.backdrop||"text/plain");return r.codeMirrorInstance.overlayMode(S,C,!0)})}return a.num_loaded=0,a.aff_loading=!1,a.dic_loading=!1,a.aff_data="",a.dic_data="",a.typo,Jf=a,Jf}var Zf={},p0;function LD(){return p0||(p0=1,function(u){function a(we,Se){for(var ge=0;ge<Se.length;ge++){var U=Se[ge];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(we,S(U.key),U)}}function r(we,Se,ge){return ge&&a(we,ge),Object.defineProperty(we,"prototype",{writable:!1}),we}function c(){return c=Object.assign?Object.assign.bind():function(we){for(var Se=1;Se<arguments.length;Se++){var ge=arguments[Se];for(var U in ge)Object.prototype.hasOwnProperty.call(ge,U)&&(we[U]=ge[U])}return we},c.apply(this,arguments)}function f(we,Se){if(we){if(typeof we=="string")return g(we,Se);var ge=Object.prototype.toString.call(we).slice(8,-1);if(ge==="Object"&&we.constructor&&(ge=we.constructor.name),ge==="Map"||ge==="Set")return Array.from(we);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return g(we,Se)}}function g(we,Se){(Se==null||Se>we.length)&&(Se=we.length);for(var ge=0,U=new Array(Se);ge<Se;ge++)U[ge]=we[ge];return U}function b(we,Se){var ge=typeof Symbol<"u"&&we[Symbol.iterator]||we["@@iterator"];if(ge)return(ge=ge.call(we)).next.bind(ge);if(Array.isArray(we)||(ge=f(we))||Se){ge&&(we=ge);var U=0;return function(){return U>=we.length?{done:!0}:{done:!1,value:we[U++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(we,Se){if(typeof we!="object"||we===null)return we;var ge=we[Symbol.toPrimitive];if(ge!==void 0){var U=ge.call(we,Se);if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(we)}function S(we){var Se=C(we,"string");return typeof Se=="symbol"?Se:String(Se)}function T(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}u.defaults=T();function A(we){u.defaults=we}var O=/[&<>"']/,N=new RegExp(O.source,"g"),$=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,q=new RegExp($.source,"g"),Q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},te=function(Se){return Q[Se]};function J(we,Se){if(Se){if(O.test(we))return we.replace(N,te)}else if($.test(we))return we.replace(q,te);return we}var K=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function le(we){return we.replace(K,function(Se,ge){return ge=ge.toLowerCase(),ge==="colon"?":":ge.charAt(0)==="#"?ge.charAt(1)==="x"?String.fromCharCode(parseInt(ge.substring(2),16)):String.fromCharCode(+ge.substring(1)):""})}var se=/(^|[^\[])\^/g;function ae(we,Se){we=typeof we=="string"?we:we.source,Se=Se||"";var ge={replace:function(W,fe){return fe=fe.source||fe,fe=fe.replace(se,"$1"),we=we.replace(W,fe),ge},getRegex:function(){return new RegExp(we,Se)}};return ge}var ke=/[^\w:]/g,ye=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function be(we,Se,ge){if(we){var U;try{U=decodeURIComponent(le(ge)).replace(ke,"").toLowerCase()}catch{return null}if(U.indexOf("javascript:")===0||U.indexOf("vbscript:")===0||U.indexOf("data:")===0)return null}Se&&!ye.test(ge)&&(ge=st(Se,ge));try{ge=encodeURI(ge).replace(/%25/g,"%")}catch{return null}return ge}var Te={},Ke=/^[^:]+:\/*[^/]*$/,Le=/^([^:]+:)[\s\S]*$/,Ge=/^([^:]+:\/*[^/]*)[\s\S]*$/;function st(we,Se){Te[" "+we]||(Ke.test(we)?Te[" "+we]=we+"/":Te[" "+we]=Be(we,"/",!0)),we=Te[" "+we];var ge=we.indexOf(":")===-1;return Se.substring(0,2)==="//"?ge?Se:we.replace(Le,"$1")+Se:Se.charAt(0)==="/"?ge?Se:we.replace(Ge,"$1")+Se:we+Se}var ut={exec:function(){}};function de(we,Se){var ge=we.replace(/\|/g,function(fe,L,z){for(var ee=!1,oe=L;--oe>=0&&z[oe]==="\\";)ee=!ee;return ee?"|":" |"}),U=ge.split(/ \|/),W=0;if(U[0].trim()||U.shift(),U.length>0&&!U[U.length-1].trim()&&U.pop(),U.length>Se)U.splice(Se);else for(;U.length<Se;)U.push("");for(;W<U.length;W++)U[W]=U[W].trim().replace(/\\\|/g,"|");return U}function Be(we,Se,ge){var U=we.length;if(U===0)return"";for(var W=0;W<U;){var fe=we.charAt(U-W-1);if(fe===Se&&!ge)W++;else if(fe!==Se&&ge)W++;else break}return we.slice(0,U-W)}function Pe(we,Se){if(we.indexOf(Se[1])===-1)return-1;for(var ge=we.length,U=0,W=0;W<ge;W++)if(we[W]==="\\")W++;else if(we[W]===Se[0])U++;else if(we[W]===Se[1]&&(U--,U<0))return W;return-1}function Qe(we){we&&we.sanitize&&!we.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function gt(we,Se){if(Se<1)return"";for(var ge="";Se>1;)Se&1&&(ge+=we),Se>>=1,we+=we;return ge+we}function Ht(we,Se,ge,U){var W=Se.href,fe=Se.title?J(Se.title):null,L=we[1].replace(/\\([\[\]])/g,"$1");if(we[0].charAt(0)!=="!"){U.state.inLink=!0;var z={type:"link",raw:ge,href:W,title:fe,text:L,tokens:U.inlineTokens(L)};return U.state.inLink=!1,z}return{type:"image",raw:ge,href:W,title:fe,text:J(L)}}function Qi(we,Se){var ge=we.match(/^(\s+)(?:```)/);if(ge===null)return Se;var U=ge[1];return Se.split(`
`).map(function(W){var fe=W.match(/^\s+/);if(fe===null)return W;var L=fe[0];return L.length>=U.length?W.slice(U.length):W}).join(`
`)}var ce=function(){function we(ge){this.options=ge||u.defaults}var Se=we.prototype;return Se.space=function(U){var W=this.rules.block.newline.exec(U);if(W&&W[0].length>0)return{type:"space",raw:W[0]}},Se.code=function(U){var W=this.rules.block.code.exec(U);if(W){var fe=W[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:W[0],codeBlockStyle:"indented",text:this.options.pedantic?fe:Be(fe,`
`)}}},Se.fences=function(U){var W=this.rules.block.fences.exec(U);if(W){var fe=W[0],L=Qi(fe,W[3]||"");return{type:"code",raw:fe,lang:W[2]?W[2].trim().replace(this.rules.inline._escapes,"$1"):W[2],text:L}}},Se.heading=function(U){var W=this.rules.block.heading.exec(U);if(W){var fe=W[2].trim();if(/#$/.test(fe)){var L=Be(fe,"#");(this.options.pedantic||!L||/ $/.test(L))&&(fe=L.trim())}return{type:"heading",raw:W[0],depth:W[1].length,text:fe,tokens:this.lexer.inline(fe)}}},Se.hr=function(U){var W=this.rules.block.hr.exec(U);if(W)return{type:"hr",raw:W[0]}},Se.blockquote=function(U){var W=this.rules.block.blockquote.exec(U);if(W){var fe=W[0].replace(/^ *>[ \t]?/gm,""),L=this.lexer.state.top;this.lexer.state.top=!0;var z=this.lexer.blockTokens(fe);return this.lexer.state.top=L,{type:"blockquote",raw:W[0],tokens:z,text:fe}}},Se.list=function(U){var W=this.rules.block.list.exec(U);if(W){var fe,L,z,ee,oe,he,Ce,pe,ue,xe,ve,Ue,et=W[1].trim(),tt=et.length>1,je={type:"list",raw:"",ordered:tt,start:tt?+et.slice(0,-1):"",loose:!1,items:[]};et=tt?"\\d{1,9}\\"+et.slice(-1):"\\"+et,this.options.pedantic&&(et=tt?et:"[*+-]");for(var vt=new RegExp("^( {0,3}"+et+")((?:[	 ][^\\n]*)?(?:\\n|$))");U&&(Ue=!1,!(!(W=vt.exec(U))||this.rules.block.hr.test(U)));){if(fe=W[0],U=U.substring(fe.length),pe=W[2].split(`
`,1)[0].replace(/^\t+/,function(qi){return" ".repeat(3*qi.length)}),ue=U.split(`
`,1)[0],this.options.pedantic?(ee=2,ve=pe.trimLeft()):(ee=W[2].search(/[^ ]/),ee=ee>4?1:ee,ve=pe.slice(ee),ee+=W[1].length),he=!1,!pe&&/^ *$/.test(ue)&&(fe+=ue+`
`,U=U.substring(ue.length+1),Ue=!0),!Ue)for(var xt=new RegExp("^ {0,"+Math.min(3,ee-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),wt=new RegExp("^ {0,"+Math.min(3,ee-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),mt=new RegExp("^ {0,"+Math.min(3,ee-1)+"}(?:```|~~~)"),Wt=new RegExp("^ {0,"+Math.min(3,ee-1)+"}#");U&&(xe=U.split(`
`,1)[0],ue=xe,this.options.pedantic&&(ue=ue.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(mt.test(ue)||Wt.test(ue)||xt.test(ue)||wt.test(U)));){if(ue.search(/[^ ]/)>=ee||!ue.trim())ve+=`
`+ue.slice(ee);else{if(he||pe.search(/[^ ]/)>=4||mt.test(pe)||Wt.test(pe)||wt.test(pe))break;ve+=`
`+ue}!he&&!ue.trim()&&(he=!0),fe+=xe+`
`,U=U.substring(xe.length+1),pe=ue.slice(ee)}je.loose||(Ce?je.loose=!0:/\n *\n *$/.test(fe)&&(Ce=!0)),this.options.gfm&&(L=/^\[[ xX]\] /.exec(ve),L&&(z=L[0]!=="[ ] ",ve=ve.replace(/^\[[ xX]\] +/,""))),je.items.push({type:"list_item",raw:fe,task:!!L,checked:z,loose:!1,text:ve}),je.raw+=fe}je.items[je.items.length-1].raw=fe.trimRight(),je.items[je.items.length-1].text=ve.trimRight(),je.raw=je.raw.trimRight();var jt=je.items.length;for(oe=0;oe<jt;oe++)if(this.lexer.state.top=!1,je.items[oe].tokens=this.lexer.blockTokens(je.items[oe].text,[]),!je.loose){var vi=je.items[oe].tokens.filter(function(qi){return qi.type==="space"}),en=vi.length>0&&vi.some(function(qi){return/\n.*\n/.test(qi.raw)});je.loose=en}if(je.loose)for(oe=0;oe<jt;oe++)je.items[oe].loose=!0;return je}},Se.html=function(U){var W=this.rules.block.html.exec(U);if(W){var fe={type:"html",raw:W[0],pre:!this.options.sanitizer&&(W[1]==="pre"||W[1]==="script"||W[1]==="style"),text:W[0]};if(this.options.sanitize){var L=this.options.sanitizer?this.options.sanitizer(W[0]):J(W[0]);fe.type="paragraph",fe.text=L,fe.tokens=this.lexer.inline(L)}return fe}},Se.def=function(U){var W=this.rules.block.def.exec(U);if(W){var fe=W[1].toLowerCase().replace(/\s+/g," "),L=W[2]?W[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",z=W[3]?W[3].substring(1,W[3].length-1).replace(this.rules.inline._escapes,"$1"):W[3];return{type:"def",tag:fe,raw:W[0],href:L,title:z}}},Se.table=function(U){var W=this.rules.block.table.exec(U);if(W){var fe={type:"table",header:de(W[1]).map(function(Ce){return{text:Ce}}),align:W[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:W[3]&&W[3].trim()?W[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(fe.header.length===fe.align.length){fe.raw=W[0];var L=fe.align.length,z,ee,oe,he;for(z=0;z<L;z++)/^ *-+: *$/.test(fe.align[z])?fe.align[z]="right":/^ *:-+: *$/.test(fe.align[z])?fe.align[z]="center":/^ *:-+ *$/.test(fe.align[z])?fe.align[z]="left":fe.align[z]=null;for(L=fe.rows.length,z=0;z<L;z++)fe.rows[z]=de(fe.rows[z],fe.header.length).map(function(Ce){return{text:Ce}});for(L=fe.header.length,ee=0;ee<L;ee++)fe.header[ee].tokens=this.lexer.inline(fe.header[ee].text);for(L=fe.rows.length,ee=0;ee<L;ee++)for(he=fe.rows[ee],oe=0;oe<he.length;oe++)he[oe].tokens=this.lexer.inline(he[oe].text);return fe}}},Se.lheading=function(U){var W=this.rules.block.lheading.exec(U);if(W)return{type:"heading",raw:W[0],depth:W[2].charAt(0)==="="?1:2,text:W[1],tokens:this.lexer.inline(W[1])}},Se.paragraph=function(U){var W=this.rules.block.paragraph.exec(U);if(W){var fe=W[1].charAt(W[1].length-1)===`
`?W[1].slice(0,-1):W[1];return{type:"paragraph",raw:W[0],text:fe,tokens:this.lexer.inline(fe)}}},Se.text=function(U){var W=this.rules.block.text.exec(U);if(W)return{type:"text",raw:W[0],text:W[0],tokens:this.lexer.inline(W[0])}},Se.escape=function(U){var W=this.rules.inline.escape.exec(U);if(W)return{type:"escape",raw:W[0],text:J(W[1])}},Se.tag=function(U){var W=this.rules.inline.tag.exec(U);if(W)return!this.lexer.state.inLink&&/^<a /i.test(W[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(W[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(W[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(W[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:W[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(W[0]):J(W[0]):W[0]}},Se.link=function(U){var W=this.rules.inline.link.exec(U);if(W){var fe=W[2].trim();if(!this.options.pedantic&&/^</.test(fe)){if(!/>$/.test(fe))return;var L=Be(fe.slice(0,-1),"\\");if((fe.length-L.length)%2===0)return}else{var z=Pe(W[2],"()");if(z>-1){var ee=W[0].indexOf("!")===0?5:4,oe=ee+W[1].length+z;W[2]=W[2].substring(0,z),W[0]=W[0].substring(0,oe).trim(),W[3]=""}}var he=W[2],Ce="";if(this.options.pedantic){var pe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(he);pe&&(he=pe[1],Ce=pe[3])}else Ce=W[3]?W[3].slice(1,-1):"";return he=he.trim(),/^</.test(he)&&(this.options.pedantic&&!/>$/.test(fe)?he=he.slice(1):he=he.slice(1,-1)),Ht(W,{href:he&&he.replace(this.rules.inline._escapes,"$1"),title:Ce&&Ce.replace(this.rules.inline._escapes,"$1")},W[0],this.lexer)}},Se.reflink=function(U,W){var fe;if((fe=this.rules.inline.reflink.exec(U))||(fe=this.rules.inline.nolink.exec(U))){var L=(fe[2]||fe[1]).replace(/\s+/g," ");if(L=W[L.toLowerCase()],!L){var z=fe[0].charAt(0);return{type:"text",raw:z,text:z}}return Ht(fe,L,fe[0],this.lexer)}},Se.emStrong=function(U,W,fe){fe===void 0&&(fe="");var L=this.rules.inline.emStrong.lDelim.exec(U);if(L&&!(L[3]&&fe.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var z=L[1]||L[2]||"";if(!z||z&&(fe===""||this.rules.inline.punctuation.exec(fe))){var ee=L[0].length-1,oe,he,Ce=ee,pe=0,ue=L[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ue.lastIndex=0,W=W.slice(-1*U.length+ee);(L=ue.exec(W))!=null;)if(oe=L[1]||L[2]||L[3]||L[4]||L[5]||L[6],!!oe){if(he=oe.length,L[3]||L[4]){Ce+=he;continue}else if((L[5]||L[6])&&ee%3&&!((ee+he)%3)){pe+=he;continue}if(Ce-=he,!(Ce>0)){he=Math.min(he,he+Ce+pe);var xe=U.slice(0,ee+L.index+(L[0].length-oe.length)+he);if(Math.min(ee,he)%2){var ve=xe.slice(1,-1);return{type:"em",raw:xe,text:ve,tokens:this.lexer.inlineTokens(ve)}}var Ue=xe.slice(2,-2);return{type:"strong",raw:xe,text:Ue,tokens:this.lexer.inlineTokens(Ue)}}}}}},Se.codespan=function(U){var W=this.rules.inline.code.exec(U);if(W){var fe=W[2].replace(/\n/g," "),L=/[^ ]/.test(fe),z=/^ /.test(fe)&&/ $/.test(fe);return L&&z&&(fe=fe.substring(1,fe.length-1)),fe=J(fe,!0),{type:"codespan",raw:W[0],text:fe}}},Se.br=function(U){var W=this.rules.inline.br.exec(U);if(W)return{type:"br",raw:W[0]}},Se.del=function(U){var W=this.rules.inline.del.exec(U);if(W)return{type:"del",raw:W[0],text:W[2],tokens:this.lexer.inlineTokens(W[2])}},Se.autolink=function(U,W){var fe=this.rules.inline.autolink.exec(U);if(fe){var L,z;return fe[2]==="@"?(L=J(this.options.mangle?W(fe[1]):fe[1]),z="mailto:"+L):(L=J(fe[1]),z=L),{type:"link",raw:fe[0],text:L,href:z,tokens:[{type:"text",raw:L,text:L}]}}},Se.url=function(U,W){var fe;if(fe=this.rules.inline.url.exec(U)){var L,z;if(fe[2]==="@")L=J(this.options.mangle?W(fe[0]):fe[0]),z="mailto:"+L;else{var ee;do ee=fe[0],fe[0]=this.rules.inline._backpedal.exec(fe[0])[0];while(ee!==fe[0]);L=J(fe[0]),fe[1]==="www."?z="http://"+fe[0]:z=fe[0]}return{type:"link",raw:fe[0],text:L,href:z,tokens:[{type:"text",raw:L,text:L}]}}},Se.inlineText=function(U,W){var fe=this.rules.inline.text.exec(U);if(fe){var L;return this.lexer.state.inRawBlock?L=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(fe[0]):J(fe[0]):fe[0]:L=J(this.options.smartypants?W(fe[0]):fe[0]),{type:"text",raw:fe[0],text:L}}},we}(),V={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ut,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};V._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,V._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,V.def=ae(V.def).replace("label",V._label).replace("title",V._title).getRegex(),V.bullet=/(?:[*+-]|\d{1,9}[.)])/,V.listItemStart=ae(/^( *)(bull) */).replace("bull",V.bullet).getRegex(),V.list=ae(V.list).replace(/bull/g,V.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+V.def.source+")").getRegex(),V._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",V._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,V.html=ae(V.html,"i").replace("comment",V._comment).replace("tag",V._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),V.paragraph=ae(V._paragraph).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V._tag).getRegex(),V.blockquote=ae(V.blockquote).replace("paragraph",V.paragraph).getRegex(),V.normal=c({},V),V.gfm=c({},V.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),V.gfm.table=ae(V.gfm.table).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V._tag).getRegex(),V.gfm.paragraph=ae(V._paragraph).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",V.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V._tag).getRegex(),V.pedantic=c({},V.normal,{html:ae(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",V._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ut,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ae(V.normal._paragraph).replace("hr",V.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",V.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Ee={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ut,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ut,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Ee._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ee.punctuation=ae(Ee.punctuation).replace(/punctuation/g,Ee._punctuation).getRegex(),Ee.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ee.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Ee._comment=ae(V._comment).replace("(?:-->|$)","-->").getRegex(),Ee.emStrong.lDelim=ae(Ee.emStrong.lDelim).replace(/punct/g,Ee._punctuation).getRegex(),Ee.emStrong.rDelimAst=ae(Ee.emStrong.rDelimAst,"g").replace(/punct/g,Ee._punctuation).getRegex(),Ee.emStrong.rDelimUnd=ae(Ee.emStrong.rDelimUnd,"g").replace(/punct/g,Ee._punctuation).getRegex(),Ee._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ee._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ee._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ee.autolink=ae(Ee.autolink).replace("scheme",Ee._scheme).replace("email",Ee._email).getRegex(),Ee._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ee.tag=ae(Ee.tag).replace("comment",Ee._comment).replace("attribute",Ee._attribute).getRegex(),Ee._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ee._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ee._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ee.link=ae(Ee.link).replace("label",Ee._label).replace("href",Ee._href).replace("title",Ee._title).getRegex(),Ee.reflink=ae(Ee.reflink).replace("label",Ee._label).replace("ref",V._label).getRegex(),Ee.nolink=ae(Ee.nolink).replace("ref",V._label).getRegex(),Ee.reflinkSearch=ae(Ee.reflinkSearch,"g").replace("reflink",Ee.reflink).replace("nolink",Ee.nolink).getRegex(),Ee.normal=c({},Ee),Ee.pedantic=c({},Ee.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ae(/^!?\[(label)\]\((.*?)\)/).replace("label",Ee._label).getRegex(),reflink:ae(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ee._label).getRegex()}),Ee.gfm=c({},Ee.normal,{escape:ae(Ee.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ee.gfm.url=ae(Ee.gfm.url,"i").replace("email",Ee.gfm._extended_email).getRegex(),Ee.breaks=c({},Ee.gfm,{br:ae(Ee.br).replace("{2,}","*").getRegex(),text:ae(Ee.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function _t(we){return we.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function lt(we){var Se="",ge,U,W=we.length;for(ge=0;ge<W;ge++)U=we.charCodeAt(ge),Math.random()>.5&&(U="x"+U.toString(16)),Se+="&#"+U+";";return Se}var Zt=function(){function we(ge){this.tokens=[],this.tokens.links=Object.create(null),this.options=ge||u.defaults,this.options.tokenizer=this.options.tokenizer||new ce,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var U={block:V.normal,inline:Ee.normal};this.options.pedantic?(U.block=V.pedantic,U.inline=Ee.pedantic):this.options.gfm&&(U.block=V.gfm,this.options.breaks?U.inline=Ee.breaks:U.inline=Ee.gfm),this.tokenizer.rules=U}we.lex=function(U,W){var fe=new we(W);return fe.lex(U)},we.lexInline=function(U,W){var fe=new we(W);return fe.inlineTokens(U)};var Se=we.prototype;return Se.lex=function(U){U=U.replace(/\r\n|\r/g,`
`),this.blockTokens(U,this.tokens);for(var W;W=this.inlineQueue.shift();)this.inlineTokens(W.src,W.tokens);return this.tokens},Se.blockTokens=function(U,W){var fe=this;W===void 0&&(W=[]),this.options.pedantic?U=U.replace(/\t/g,"    ").replace(/^ +$/gm,""):U=U.replace(/^( *)(\t+)/gm,function(Ce,pe,ue){return pe+"    ".repeat(ue.length)});for(var L,z,ee,oe;U;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ce){return(L=Ce.call({lexer:fe},U,W))?(U=U.substring(L.raw.length),W.push(L),!0):!1}))){if(L=this.tokenizer.space(U)){U=U.substring(L.raw.length),L.raw.length===1&&W.length>0?W[W.length-1].raw+=`
`:W.push(L);continue}if(L=this.tokenizer.code(U)){U=U.substring(L.raw.length),z=W[W.length-1],z&&(z.type==="paragraph"||z.type==="text")?(z.raw+=`
`+L.raw,z.text+=`
`+L.text,this.inlineQueue[this.inlineQueue.length-1].src=z.text):W.push(L);continue}if(L=this.tokenizer.fences(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.heading(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.hr(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.blockquote(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.list(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.html(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.def(U)){U=U.substring(L.raw.length),z=W[W.length-1],z&&(z.type==="paragraph"||z.type==="text")?(z.raw+=`
`+L.raw,z.text+=`
`+L.raw,this.inlineQueue[this.inlineQueue.length-1].src=z.text):this.tokens.links[L.tag]||(this.tokens.links[L.tag]={href:L.href,title:L.title});continue}if(L=this.tokenizer.table(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.lheading(U)){U=U.substring(L.raw.length),W.push(L);continue}if(ee=U,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ce=1/0,pe=U.slice(1),ue=void 0;fe.options.extensions.startBlock.forEach(function(xe){ue=xe.call({lexer:this},pe),typeof ue=="number"&&ue>=0&&(Ce=Math.min(Ce,ue))}),Ce<1/0&&Ce>=0&&(ee=U.substring(0,Ce+1))}(),this.state.top&&(L=this.tokenizer.paragraph(ee))){z=W[W.length-1],oe&&z.type==="paragraph"?(z.raw+=`
`+L.raw,z.text+=`
`+L.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=z.text):W.push(L),oe=ee.length!==U.length,U=U.substring(L.raw.length);continue}if(L=this.tokenizer.text(U)){U=U.substring(L.raw.length),z=W[W.length-1],z&&z.type==="text"?(z.raw+=`
`+L.raw,z.text+=`
`+L.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=z.text):W.push(L);continue}if(U){var he="Infinite loop on byte: "+U.charCodeAt(0);if(this.options.silent){console.error(he);break}else throw new Error(he)}}return this.state.top=!0,W},Se.inline=function(U,W){return W===void 0&&(W=[]),this.inlineQueue.push({src:U,tokens:W}),W},Se.inlineTokens=function(U,W){var fe=this;W===void 0&&(W=[]);var L,z,ee,oe=U,he,Ce,pe;if(this.tokens.links){var ue=Object.keys(this.tokens.links);if(ue.length>0)for(;(he=this.tokenizer.rules.inline.reflinkSearch.exec(oe))!=null;)ue.includes(he[0].slice(he[0].lastIndexOf("[")+1,-1))&&(oe=oe.slice(0,he.index)+"["+gt("a",he[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(he=this.tokenizer.rules.inline.blockSkip.exec(oe))!=null;)oe=oe.slice(0,he.index)+"["+gt("a",he[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(he=this.tokenizer.rules.inline.escapedEmSt.exec(oe))!=null;)oe=oe.slice(0,he.index+he[0].length-2)+"++"+oe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;U;)if(Ce||(pe=""),Ce=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ve){return(L=ve.call({lexer:fe},U,W))?(U=U.substring(L.raw.length),W.push(L),!0):!1}))){if(L=this.tokenizer.escape(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.tag(U)){U=U.substring(L.raw.length),z=W[W.length-1],z&&L.type==="text"&&z.type==="text"?(z.raw+=L.raw,z.text+=L.text):W.push(L);continue}if(L=this.tokenizer.link(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.reflink(U,this.tokens.links)){U=U.substring(L.raw.length),z=W[W.length-1],z&&L.type==="text"&&z.type==="text"?(z.raw+=L.raw,z.text+=L.text):W.push(L);continue}if(L=this.tokenizer.emStrong(U,oe,pe)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.codespan(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.br(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.del(U)){U=U.substring(L.raw.length),W.push(L);continue}if(L=this.tokenizer.autolink(U,lt)){U=U.substring(L.raw.length),W.push(L);continue}if(!this.state.inLink&&(L=this.tokenizer.url(U,lt))){U=U.substring(L.raw.length),W.push(L);continue}if(ee=U,this.options.extensions&&this.options.extensions.startInline&&function(){var ve=1/0,Ue=U.slice(1),et=void 0;fe.options.extensions.startInline.forEach(function(tt){et=tt.call({lexer:this},Ue),typeof et=="number"&&et>=0&&(ve=Math.min(ve,et))}),ve<1/0&&ve>=0&&(ee=U.substring(0,ve+1))}(),L=this.tokenizer.inlineText(ee,_t)){U=U.substring(L.raw.length),L.raw.slice(-1)!=="_"&&(pe=L.raw.slice(-1)),Ce=!0,z=W[W.length-1],z&&z.type==="text"?(z.raw+=L.raw,z.text+=L.text):W.push(L);continue}if(U){var xe="Infinite loop on byte: "+U.charCodeAt(0);if(this.options.silent){console.error(xe);break}else throw new Error(xe)}}return W},r(we,null,[{key:"rules",get:function(){return{block:V,inline:Ee}}}]),we}(),ti=function(){function we(ge){this.options=ge||u.defaults}var Se=we.prototype;return Se.code=function(U,W,fe){var L=(W||"").match(/\S*/)[0];if(this.options.highlight){var z=this.options.highlight(U,L);z!=null&&z!==U&&(fe=!0,U=z)}return U=U.replace(/\n$/,"")+`
`,L?'<pre><code class="'+this.options.langPrefix+J(L)+'">'+(fe?U:J(U,!0))+`</code></pre>
`:"<pre><code>"+(fe?U:J(U,!0))+`</code></pre>
`},Se.blockquote=function(U){return`<blockquote>
`+U+`</blockquote>
`},Se.html=function(U){return U},Se.heading=function(U,W,fe,L){if(this.options.headerIds){var z=this.options.headerPrefix+L.slug(fe);return"<h"+W+' id="'+z+'">'+U+"</h"+W+`>
`}return"<h"+W+">"+U+"</h"+W+`>
`},Se.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Se.list=function(U,W,fe){var L=W?"ol":"ul",z=W&&fe!==1?' start="'+fe+'"':"";return"<"+L+z+`>
`+U+"</"+L+`>
`},Se.listitem=function(U){return"<li>"+U+`</li>
`},Se.checkbox=function(U){return"<input "+(U?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Se.paragraph=function(U){return"<p>"+U+`</p>
`},Se.table=function(U,W){return W&&(W="<tbody>"+W+"</tbody>"),`<table>
<thead>
`+U+`</thead>
`+W+`</table>
`},Se.tablerow=function(U){return`<tr>
`+U+`</tr>
`},Se.tablecell=function(U,W){var fe=W.header?"th":"td",L=W.align?"<"+fe+' align="'+W.align+'">':"<"+fe+">";return L+U+("</"+fe+`>
`)},Se.strong=function(U){return"<strong>"+U+"</strong>"},Se.em=function(U){return"<em>"+U+"</em>"},Se.codespan=function(U){return"<code>"+U+"</code>"},Se.br=function(){return this.options.xhtml?"<br/>":"<br>"},Se.del=function(U){return"<del>"+U+"</del>"},Se.link=function(U,W,fe){if(U=be(this.options.sanitize,this.options.baseUrl,U),U===null)return fe;var L='<a href="'+U+'"';return W&&(L+=' title="'+W+'"'),L+=">"+fe+"</a>",L},Se.image=function(U,W,fe){if(U=be(this.options.sanitize,this.options.baseUrl,U),U===null)return fe;var L='<img src="'+U+'" alt="'+fe+'"';return W&&(L+=' title="'+W+'"'),L+=this.options.xhtml?"/>":">",L},Se.text=function(U){return U},we}(),Vt=function(){function we(){}var Se=we.prototype;return Se.strong=function(U){return U},Se.em=function(U){return U},Se.codespan=function(U){return U},Se.del=function(U){return U},Se.html=function(U){return U},Se.text=function(U){return U},Se.link=function(U,W,fe){return""+fe},Se.image=function(U,W,fe){return""+fe},Se.br=function(){return""},we}(),Rt=function(){function we(){this.seen={}}var Se=we.prototype;return Se.serialize=function(U){return U.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Se.getNextSafeSlug=function(U,W){var fe=U,L=0;if(this.seen.hasOwnProperty(fe)){L=this.seen[U];do L++,fe=U+"-"+L;while(this.seen.hasOwnProperty(fe))}return W||(this.seen[U]=L,this.seen[fe]=0),fe},Se.slug=function(U,W){W===void 0&&(W={});var fe=this.serialize(U);return this.getNextSafeSlug(fe,W.dryrun)},we}(),St=function(){function we(ge){this.options=ge||u.defaults,this.options.renderer=this.options.renderer||new ti,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Vt,this.slugger=new Rt}we.parse=function(U,W){var fe=new we(W);return fe.parse(U)},we.parseInline=function(U,W){var fe=new we(W);return fe.parseInline(U)};var Se=we.prototype;return Se.parse=function(U,W){W===void 0&&(W=!0);var fe="",L,z,ee,oe,he,Ce,pe,ue,xe,ve,Ue,et,tt,je,vt,xt,wt,mt,Wt,jt=U.length;for(L=0;L<jt;L++){if(ve=U[L],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ve.type]&&(Wt=this.options.extensions.renderers[ve.type].call({parser:this},ve),Wt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ve.type))){fe+=Wt||"";continue}switch(ve.type){case"space":continue;case"hr":{fe+=this.renderer.hr();continue}case"heading":{fe+=this.renderer.heading(this.parseInline(ve.tokens),ve.depth,le(this.parseInline(ve.tokens,this.textRenderer)),this.slugger);continue}case"code":{fe+=this.renderer.code(ve.text,ve.lang,ve.escaped);continue}case"table":{for(ue="",pe="",oe=ve.header.length,z=0;z<oe;z++)pe+=this.renderer.tablecell(this.parseInline(ve.header[z].tokens),{header:!0,align:ve.align[z]});for(ue+=this.renderer.tablerow(pe),xe="",oe=ve.rows.length,z=0;z<oe;z++){for(Ce=ve.rows[z],pe="",he=Ce.length,ee=0;ee<he;ee++)pe+=this.renderer.tablecell(this.parseInline(Ce[ee].tokens),{header:!1,align:ve.align[ee]});xe+=this.renderer.tablerow(pe)}fe+=this.renderer.table(ue,xe);continue}case"blockquote":{xe=this.parse(ve.tokens),fe+=this.renderer.blockquote(xe);continue}case"list":{for(Ue=ve.ordered,et=ve.start,tt=ve.loose,oe=ve.items.length,xe="",z=0;z<oe;z++)vt=ve.items[z],xt=vt.checked,wt=vt.task,je="",vt.task&&(mt=this.renderer.checkbox(xt),tt?vt.tokens.length>0&&vt.tokens[0].type==="paragraph"?(vt.tokens[0].text=mt+" "+vt.tokens[0].text,vt.tokens[0].tokens&&vt.tokens[0].tokens.length>0&&vt.tokens[0].tokens[0].type==="text"&&(vt.tokens[0].tokens[0].text=mt+" "+vt.tokens[0].tokens[0].text)):vt.tokens.unshift({type:"text",text:mt}):je+=mt),je+=this.parse(vt.tokens,tt),xe+=this.renderer.listitem(je,wt,xt);fe+=this.renderer.list(xe,Ue,et);continue}case"html":{fe+=this.renderer.html(ve.text);continue}case"paragraph":{fe+=this.renderer.paragraph(this.parseInline(ve.tokens));continue}case"text":{for(xe=ve.tokens?this.parseInline(ve.tokens):ve.text;L+1<jt&&U[L+1].type==="text";)ve=U[++L],xe+=`
`+(ve.tokens?this.parseInline(ve.tokens):ve.text);fe+=W?this.renderer.paragraph(xe):xe;continue}default:{var vi='Token with "'+ve.type+'" type was not found.';if(this.options.silent){console.error(vi);return}else throw new Error(vi)}}}return fe},Se.parseInline=function(U,W){W=W||this.renderer;var fe="",L,z,ee,oe=U.length;for(L=0;L<oe;L++){if(z=U[L],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[z.type]&&(ee=this.options.extensions.renderers[z.type].call({parser:this},z),ee!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(z.type))){fe+=ee||"";continue}switch(z.type){case"escape":{fe+=W.text(z.text);break}case"html":{fe+=W.html(z.text);break}case"link":{fe+=W.link(z.href,z.title,this.parseInline(z.tokens,W));break}case"image":{fe+=W.image(z.href,z.title,z.text);break}case"strong":{fe+=W.strong(this.parseInline(z.tokens,W));break}case"em":{fe+=W.em(this.parseInline(z.tokens,W));break}case"codespan":{fe+=W.codespan(z.text);break}case"br":{fe+=W.br();break}case"del":{fe+=W.del(this.parseInline(z.tokens,W));break}case"text":{fe+=W.text(z.text);break}default:{var he='Token with "'+z.type+'" type was not found.';if(this.options.silent){console.error(he);return}else throw new Error(he)}}}return fe},we}(),Pt=function(){function we(ge){this.options=ge||u.defaults}var Se=we.prototype;return Se.preprocess=function(U){return U},Se.postprocess=function(U){return U},we}();Pt.passThroughHooks=new Set(["preprocess","postprocess"]);function ii(we,Se,ge){return function(U){if(U.message+=`
Please report this to https://github.com/markedjs/marked.`,we){var W="<p>An error occurred:</p><pre>"+J(U.message+"",!0)+"</pre>";if(Se)return Promise.resolve(W);if(ge){ge(null,W);return}return W}if(Se)return Promise.reject(U);if(ge){ge(U);return}throw U}}function gi(we,Se){return function(ge,U,W){typeof U=="function"&&(W=U,U=null);var fe=c({},U);U=c({},ct.defaults,fe);var L=ii(U.silent,U.async,W);if(typeof ge>"u"||ge===null)return L(new Error("marked(): input parameter is undefined or null"));if(typeof ge!="string")return L(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ge)+", string expected"));if(Qe(U),U.hooks&&(U.hooks.options=U),W){var z=U.highlight,ee;try{U.hooks&&(ge=U.hooks.preprocess(ge)),ee=we(ge,U)}catch(ue){return L(ue)}var oe=function(xe){var ve;if(!xe)try{U.walkTokens&&ct.walkTokens(ee,U.walkTokens),ve=Se(ee,U),U.hooks&&(ve=U.hooks.postprocess(ve))}catch(Ue){xe=Ue}return U.highlight=z,xe?L(xe):W(null,ve)};if(!z||z.length<3||(delete U.highlight,!ee.length))return oe();var he=0;ct.walkTokens(ee,function(ue){ue.type==="code"&&(he++,setTimeout(function(){z(ue.text,ue.lang,function(xe,ve){if(xe)return oe(xe);ve!=null&&ve!==ue.text&&(ue.text=ve,ue.escaped=!0),he--,he===0&&oe()})},0))}),he===0&&oe();return}if(U.async)return Promise.resolve(U.hooks?U.hooks.preprocess(ge):ge).then(function(ue){return we(ue,U)}).then(function(ue){return U.walkTokens?Promise.all(ct.walkTokens(ue,U.walkTokens)).then(function(){return ue}):ue}).then(function(ue){return Se(ue,U)}).then(function(ue){return U.hooks?U.hooks.postprocess(ue):ue}).catch(L);try{U.hooks&&(ge=U.hooks.preprocess(ge));var Ce=we(ge,U);U.walkTokens&&ct.walkTokens(Ce,U.walkTokens);var pe=Se(Ce,U);return U.hooks&&(pe=U.hooks.postprocess(pe)),pe}catch(ue){return L(ue)}}}function ct(we,Se,ge){return gi(Zt.lex,St.parse)(we,Se,ge)}ct.options=ct.setOptions=function(we){return ct.defaults=c({},ct.defaults,we),A(ct.defaults),ct},ct.getDefaults=T,ct.defaults=u.defaults,ct.use=function(){for(var we=ct.defaults.extensions||{renderers:{},childTokens:{}},Se=arguments.length,ge=new Array(Se),U=0;U<Se;U++)ge[U]=arguments[U];ge.forEach(function(W){var fe=c({},W);if(fe.async=ct.defaults.async||fe.async||!1,W.extensions&&(W.extensions.forEach(function(z){if(!z.name)throw new Error("extension name required");if(z.renderer){var ee=we.renderers[z.name];ee?we.renderers[z.name]=function(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];var pe=z.renderer.apply(this,he);return pe===!1&&(pe=ee.apply(this,he)),pe}:we.renderers[z.name]=z.renderer}if(z.tokenizer){if(!z.level||z.level!=="block"&&z.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");we[z.level]?we[z.level].unshift(z.tokenizer):we[z.level]=[z.tokenizer],z.start&&(z.level==="block"?we.startBlock?we.startBlock.push(z.start):we.startBlock=[z.start]:z.level==="inline"&&(we.startInline?we.startInline.push(z.start):we.startInline=[z.start]))}z.childTokens&&(we.childTokens[z.name]=z.childTokens)}),fe.extensions=we),W.renderer&&function(){var z=ct.defaults.renderer||new ti,ee=function(Ce){var pe=z[Ce];z[Ce]=function(){for(var ue=arguments.length,xe=new Array(ue),ve=0;ve<ue;ve++)xe[ve]=arguments[ve];var Ue=W.renderer[Ce].apply(z,xe);return Ue===!1&&(Ue=pe.apply(z,xe)),Ue}};for(var oe in W.renderer)ee(oe);fe.renderer=z}(),W.tokenizer&&function(){var z=ct.defaults.tokenizer||new ce,ee=function(Ce){var pe=z[Ce];z[Ce]=function(){for(var ue=arguments.length,xe=new Array(ue),ve=0;ve<ue;ve++)xe[ve]=arguments[ve];var Ue=W.tokenizer[Ce].apply(z,xe);return Ue===!1&&(Ue=pe.apply(z,xe)),Ue}};for(var oe in W.tokenizer)ee(oe);fe.tokenizer=z}(),W.hooks&&function(){var z=ct.defaults.hooks||new Pt,ee=function(Ce){var pe=z[Ce];Pt.passThroughHooks.has(Ce)?z[Ce]=function(ue){if(ct.defaults.async)return Promise.resolve(W.hooks[Ce].call(z,ue)).then(function(ve){return pe.call(z,ve)});var xe=W.hooks[Ce].call(z,ue);return pe.call(z,xe)}:z[Ce]=function(){for(var ue=arguments.length,xe=new Array(ue),ve=0;ve<ue;ve++)xe[ve]=arguments[ve];var Ue=W.hooks[Ce].apply(z,xe);return Ue===!1&&(Ue=pe.apply(z,xe)),Ue}};for(var oe in W.hooks)ee(oe);fe.hooks=z}(),W.walkTokens){var L=ct.defaults.walkTokens;fe.walkTokens=function(z){var ee=[];return ee.push(W.walkTokens.call(this,z)),L&&(ee=ee.concat(L.call(this,z))),ee}}ct.setOptions(fe)})},ct.walkTokens=function(we,Se){for(var ge=[],U=function(){var z=fe.value;switch(ge=ge.concat(Se.call(ct,z)),z.type){case"table":{for(var ee=b(z.header),oe;!(oe=ee()).done;){var he=oe.value;ge=ge.concat(ct.walkTokens(he.tokens,Se))}for(var Ce=b(z.rows),pe;!(pe=Ce()).done;)for(var ue=pe.value,xe=b(ue),ve;!(ve=xe()).done;){var Ue=ve.value;ge=ge.concat(ct.walkTokens(Ue.tokens,Se))}break}case"list":{ge=ge.concat(ct.walkTokens(z.items,Se));break}default:ct.defaults.extensions&&ct.defaults.extensions.childTokens&&ct.defaults.extensions.childTokens[z.type]?ct.defaults.extensions.childTokens[z.type].forEach(function(et){ge=ge.concat(ct.walkTokens(z[et],Se))}):z.tokens&&(ge=ge.concat(ct.walkTokens(z.tokens,Se)))}},W=b(we),fe;!(fe=W()).done;)U();return ge},ct.parseInline=gi(Zt.lexInline,St.parseInline),ct.Parser=St,ct.parser=St.parse,ct.Renderer=ti,ct.TextRenderer=Vt,ct.Lexer=Zt,ct.lexer=Zt.lex,ct.Tokenizer=ce,ct.Slugger=Rt,ct.Hooks=Pt,ct.parse=ct;var ji=ct.options,Ui=ct.setOptions,ni=ct.use,Tn=ct.walkTokens,at=ct.parseInline,oi=ct,dt=St.parse,vs=Zt.lex;u.Hooks=Pt,u.Lexer=Zt,u.Parser=St,u.Renderer=ti,u.Slugger=Rt,u.TextRenderer=Vt,u.Tokenizer=ce,u.getDefaults=T,u.lexer=vs,u.marked=ct,u.options=ji,u.parse=oi,u.parseInline=at,u.parser=dt,u.setOptions=Ui,u.use=ni,u.walkTokens=Tn}(Zf)),Zf}var Qf,m0;function OD(){if(m0)return Qf;m0=1;var u=ns();bD(),yD(),_D(),qv(),Yv(),CD(),wD(),kD(),SD(),DD(),Uv();var a=ID(),r=LD().marked,c=/Mac/.test(navigator.platform),f=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),g={toggleBold:le,toggleItalic:se,drawLink:gt,toggleHeadingSmaller:be,toggleHeadingBigger:Te,drawImage:Ht,toggleBlockquote:ye,toggleOrderedList:Pe,toggleUnorderedList:Be,toggleCodeBlock:ke,togglePreview:Vt,toggleStrikethrough:ae,toggleHeading1:Ke,toggleHeading2:Le,toggleHeading3:Ge,toggleHeading4:st,toggleHeading5:ut,toggleHeading6:de,cleanBlock:Qe,drawTable:Ee,drawHorizontalRule:_t,undo:lt,redo:Zt,toggleSideBySide:ti,toggleFullScreen:K},b={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},C=function(L){for(var z in g)if(g[z]===L)return z;return null},S=function(){var L=!1;return function(z){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(z)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(z.substr(0,4)))&&(L=!0)}(navigator.userAgent||navigator.vendor||window.opera),L};function T(L){for(var z;(z=f.exec(L))!==null;){var ee=z[0];if(ee.indexOf("target=")===-1){var oe=ee.replace(/>$/,' target="_blank">');L=L.replace(ee,oe)}}return L}function A(L){for(var z=new DOMParser,ee=z.parseFromString(L,"text/html"),oe=ee.getElementsByTagName("li"),he=0;he<oe.length;he++)for(var Ce=oe[he],pe=0;pe<Ce.children.length;pe++){var ue=Ce.children[pe];ue instanceof HTMLInputElement&&ue.type==="checkbox"&&(Ce.style.marginLeft="-1.5em",Ce.style.listStyleType="none")}return ee.documentElement.innerHTML}function O(L){return c?L=L.replace("Ctrl","Cmd"):L=L.replace("Cmd","Ctrl"),L}function N(L,z,ee,oe){var he=$(L,!1,z,ee,"button",oe);he.classList.add("easymde-dropdown"),he.onclick=function(){he.focus()};var Ce=document.createElement("div");Ce.className="easymde-dropdown-content";for(var pe=0;pe<L.children.length;pe++){var ue=L.children[pe],xe;typeof ue=="string"&&ue in oi?xe=$(oi[ue],!0,z,ee,"button",oe):xe=$(ue,!0,z,ee,"button",oe),xe.addEventListener("click",function(ve){ve.stopPropagation()},!1),Ce.appendChild(xe)}return he.appendChild(Ce),he}function $(L,z,ee,oe,he,Ce){L=L||{};var pe=document.createElement(he);if(L.attributes)for(var ue in L.attributes)Object.prototype.hasOwnProperty.call(L.attributes,ue)&&pe.setAttribute(ue,L.attributes[ue]);var xe=Ce.options.toolbarButtonClassPrefix?Ce.options.toolbarButtonClassPrefix+"-":"";pe.className=xe+L.name,pe.setAttribute("type",he),ee=ee??!0,L.text&&(pe.innerText=L.text),L.name&&L.name in oe&&(g[L.name]=L.action),L.title&&ee&&(pe.title=Q(L.title,L.action,oe),c&&(pe.title=pe.title.replace("Ctrl","⌘"),pe.title=pe.title.replace("Alt","⌥"))),L.title&&pe.setAttribute("aria-label",L.title),L.noDisable&&pe.classList.add("no-disable"),L.noMobile&&pe.classList.add("no-mobile");var ve=[];typeof L.className<"u"&&(ve=L.className.split(" "));for(var Ue=[],et=0;et<ve.length;et++){var tt=ve[et];tt.match(/^fa([srlb]|(-[\w-]*)|$)/)?Ue.push(tt):pe.classList.add(tt)}if(pe.tabIndex=-1,Ue.length>0){for(var je=document.createElement("i"),vt=0;vt<Ue.length;vt++){var xt=Ue[vt];je.classList.add(xt)}pe.appendChild(je)}return typeof L.icon<"u"&&(pe.innerHTML=L.icon),L.action&&z&&(typeof L.action=="function"?pe.onclick=function(wt){wt.preventDefault(),L.action(Ce)}:typeof L.action=="string"&&(pe.onclick=function(wt){wt.preventDefault(),window.open(L.action,"_blank")})),pe}function q(){var L=document.createElement("i");return L.className="separator",L.innerHTML="|",L}function Q(L,z,ee){var oe,he=L;return z&&(oe=C(z),ee[oe]&&(he+=" ("+O(ee[oe])+")")),he}function te(L,z){z=z||L.getCursor("start");var ee=L.getTokenAt(z);if(!ee.type)return{};for(var oe=ee.type.split(" "),he={},Ce,pe,ue=0;ue<oe.length;ue++)Ce=oe[ue],Ce==="strong"?he.bold=!0:Ce==="variable-2"?(pe=L.getLine(z.line),/^\s*\d+\.\s/.test(pe)?he["ordered-list"]=!0:he["unordered-list"]=!0):Ce==="atom"?he.quote=!0:Ce==="em"?he.italic=!0:Ce==="quote"?he.quote=!0:Ce==="strikethrough"?he.strikethrough=!0:Ce==="comment"?he.code=!0:Ce==="link"&&!he.image?he.link=!0:Ce==="image"?he.image=!0:Ce.match(/^header(-[1-6])?$/)&&(he[Ce.replace("header","heading")]=!0);return he}var J="";function K(L){var z=L.codemirror;z.setOption("fullScreen",!z.getOption("fullScreen")),z.getOption("fullScreen")?(J=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=J;var ee=z.getWrapperElement(),oe=ee.nextSibling;if(oe.classList.contains("editor-preview-active-side"))if(L.options.sideBySideFullscreen===!1){var he=ee.parentNode;z.getOption("fullScreen")?he.classList.remove("sided--no-fullscreen"):he.classList.add("sided--no-fullscreen")}else ti(L);if(L.options.onToggleFullScreen&&L.options.onToggleFullScreen(z.getOption("fullScreen")||!1),typeof L.options.maxHeight<"u"&&(z.getOption("fullScreen")?(z.getScrollerElement().style.removeProperty("height"),oe.style.removeProperty("height")):(z.getScrollerElement().style.height=L.options.maxHeight,L.setPreviewMaxHeight())),L.toolbar_div.classList.toggle("fullscreen"),L.toolbarElements&&L.toolbarElements.fullscreen){var Ce=L.toolbarElements.fullscreen;Ce.classList.toggle("active")}}function le(L){gi(L,"bold",L.options.blockStyles.bold)}function se(L){gi(L,"italic",L.options.blockStyles.italic)}function ae(L){gi(L,"strikethrough","~~")}function ke(L){var z=L.options.blockStyles.code;function ee(bi){if(typeof bi!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof bi+": "+bi;return bi.styles&&bi.styles[2]&&bi.styles[2].indexOf("formatting-code-block")!==-1}function oe(bi){return bi.state.base.base||bi.state.base}function he(bi,on,En,yn,ln){En=En||bi.getLineHandle(on),yn=yn||bi.getTokenAt({line:on,ch:1}),ln=ln||!!En.text&&bi.getTokenAt({line:on,ch:En.text.length-1});var Ls=yn.type?yn.type.split(" "):[];return ln&&oe(ln).indentedCode?"indented":Ls.indexOf("comment")===-1?!1:oe(yn).fencedChars||oe(ln).fencedChars||ee(En)?"fenced":"single"}function Ce(bi,on,En,yn){var ln=on.line+1,Ls=En.line+1,Os=on.line!==En.line,Ps=yn+`
`,ua=`
`+yn;Os&&Ls++,Os&&En.ch===0&&(ua=yn+`
`,Ls--),Rt(bi,!1,[Ps,ua]),bi.setSelection({line:ln,ch:0},{line:Ls,ch:0})}var pe=L.codemirror,ue=pe.getCursor("start"),xe=pe.getCursor("end"),ve=pe.getTokenAt({line:ue.line,ch:ue.ch||1}),Ue=pe.getLineHandle(ue.line),et=he(pe,ue.line,Ue,ve),tt,je,vt;if(et==="single"){var xt=Ue.text.slice(0,ue.ch).replace("`",""),wt=Ue.text.slice(ue.ch).replace("`","");pe.replaceRange(xt+wt,{line:ue.line,ch:0},{line:ue.line,ch:99999999999999}),ue.ch--,ue!==xe&&xe.ch--,pe.setSelection(ue,xe),pe.focus()}else if(et==="fenced")if(ue.line!==xe.line||ue.ch!==xe.ch){for(tt=ue.line;tt>=0&&(Ue=pe.getLineHandle(tt),!ee(Ue));tt--);var mt=pe.getTokenAt({line:tt,ch:1}),Wt=oe(mt).fencedChars,jt,vi,en,qi;ee(pe.getLineHandle(ue.line))?(jt="",vi=ue.line):ee(pe.getLineHandle(ue.line-1))?(jt="",vi=ue.line-1):(jt=Wt+`
`,vi=ue.line),ee(pe.getLineHandle(xe.line))?(en="",qi=xe.line,xe.ch===0&&(qi+=1)):xe.ch!==0&&ee(pe.getLineHandle(xe.line+1))?(en="",qi=xe.line+1):(en=Wt+`
`,qi=xe.line+1),xe.ch===0&&(qi-=1),pe.operation(function(){pe.replaceRange(en,{line:qi,ch:0},{line:qi+(en?0:1),ch:0}),pe.replaceRange(jt,{line:vi,ch:0},{line:vi+(jt?0:1),ch:0})}),pe.setSelection({line:vi+(jt?1:0),ch:0},{line:qi+(jt?1:-1),ch:0}),pe.focus()}else{var oa=ue.line;if(ee(pe.getLineHandle(ue.line))&&(he(pe,ue.line+1)==="fenced"?(tt=ue.line,oa=ue.line+1):(je=ue.line,oa=ue.line-1)),tt===void 0)for(tt=oa;tt>=0&&(Ue=pe.getLineHandle(tt),!ee(Ue));tt--);if(je===void 0)for(vt=pe.lineCount(),je=oa;je<vt&&(Ue=pe.getLineHandle(je),!ee(Ue));je++);pe.operation(function(){pe.replaceRange("",{line:tt,ch:0},{line:tt+1,ch:0}),pe.replaceRange("",{line:je-1,ch:0},{line:je,ch:0})}),pe.focus()}else if(et==="indented"){if(ue.line!==xe.line||ue.ch!==xe.ch)tt=ue.line,je=xe.line,xe.ch===0&&je--;else{for(tt=ue.line;tt>=0;tt--)if(Ue=pe.getLineHandle(tt),!Ue.text.match(/^\s*$/)&&he(pe,tt,Ue)!=="indented"){tt+=1;break}for(vt=pe.lineCount(),je=ue.line;je<vt;je++)if(Ue=pe.getLineHandle(je),!Ue.text.match(/^\s*$/)&&he(pe,je,Ue)!=="indented"){je-=1;break}}var la=pe.getLineHandle(je+1),Ir=la&&pe.getTokenAt({line:je+1,ch:la.text.length-1}),ss=Ir&&oe(Ir).indentedCode;ss&&pe.replaceRange(`
`,{line:je+1,ch:0});for(var Ha=tt;Ha<=je;Ha++)pe.indentLine(Ha,"subtract");pe.focus()}else{var $a=ue.line===xe.line&&ue.ch===xe.ch&&ue.ch===0,fl=ue.line!==xe.line;$a||fl?Ce(pe,ue,xe,z):Rt(pe,!1,["`","`"])}}function ye(L){Pt(L.codemirror,"quote")}function be(L){St(L.codemirror,"smaller")}function Te(L){St(L.codemirror,"bigger")}function Ke(L){St(L.codemirror,void 0,1)}function Le(L){St(L.codemirror,void 0,2)}function Ge(L){St(L.codemirror,void 0,3)}function st(L){St(L.codemirror,void 0,4)}function ut(L){St(L.codemirror,void 0,5)}function de(L){St(L.codemirror,void 0,6)}function Be(L){var z=L.codemirror,ee="*";["-","+","*"].includes(L.options.unorderedListStyle)&&(ee=L.options.unorderedListStyle),Pt(z,"unordered-list",ee)}function Pe(L){Pt(L.codemirror,"ordered-list")}function Qe(L){ct(L.codemirror)}function gt(L){var z=L.options,ee="https://";if(z.promptURLs){var oe=prompt(z.promptTexts.link,ee);if(!oe)return!1;ee=Qi(oe)}ii(L,"link",z.insertTexts.link,ee)}function Ht(L){var z=L.options,ee="https://";if(z.promptURLs){var oe=prompt(z.promptTexts.image,ee);if(!oe)return!1;ee=Qi(oe)}ii(L,"image",z.insertTexts.image,ee)}function Qi(L){return encodeURI(L).replace(/([\\()])/g,"\\$1")}function ce(L){L.openBrowseFileWindow()}function V(L,z){var ee=L.codemirror,oe=te(ee),he=L.options,Ce=z.substr(z.lastIndexOf("/")+1),pe=Ce.substring(Ce.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(pe))Rt(ee,oe.image,he.insertTexts.uploadedImage,z);else{var ue=he.insertTexts.link;ue[0]="["+Ce,Rt(ee,oe.link,ue,z)}L.updateStatusBar("upload-image",L.options.imageTexts.sbOnUploaded.replace("#image_name#",Ce)),setTimeout(function(){L.updateStatusBar("upload-image",L.options.imageTexts.sbInit)},1e3)}function Ee(L){var z=L.codemirror,ee=te(z),oe=L.options;Rt(z,ee.table,oe.insertTexts.table)}function _t(L){var z=L.codemirror,ee=te(z),oe=L.options;Rt(z,ee.image,oe.insertTexts.horizontalRule)}function lt(L){var z=L.codemirror;z.undo(),z.focus()}function Zt(L){var z=L.codemirror;z.redo(),z.focus()}function ti(L){var z=L.codemirror,ee=z.getWrapperElement(),oe=ee.nextSibling,he=L.toolbarElements&&L.toolbarElements["side-by-side"],Ce=!1,pe=ee.parentNode;oe.classList.contains("editor-preview-active-side")?(L.options.sideBySideFullscreen===!1&&pe.classList.remove("sided--no-fullscreen"),oe.classList.remove("editor-preview-active-side"),he&&he.classList.remove("active"),ee.classList.remove("CodeMirror-sided")):(setTimeout(function(){z.getOption("fullScreen")||(L.options.sideBySideFullscreen===!1?pe.classList.add("sided--no-fullscreen"):K(L)),oe.classList.add("editor-preview-active-side")},1),he&&he.classList.add("active"),ee.classList.add("CodeMirror-sided"),Ce=!0);var ue=ee.lastChild;if(ue.classList.contains("editor-preview-active")){ue.classList.remove("editor-preview-active");var xe=L.toolbarElements.preview,ve=L.toolbar_div;xe.classList.remove("active"),ve.classList.remove("disabled-for-preview")}var Ue=function(){var tt=L.options.previewRender(L.value(),oe);tt!=null&&(oe.innerHTML=tt)};if(z.sideBySideRenderingFunction||(z.sideBySideRenderingFunction=Ue),Ce){var et=L.options.previewRender(L.value(),oe);et!=null&&(oe.innerHTML=et),z.on("update",z.sideBySideRenderingFunction)}else z.off("update",z.sideBySideRenderingFunction);z.refresh()}function Vt(L){var z=L.codemirror,ee=z.getWrapperElement(),oe=L.toolbar_div,he=L.options.toolbar?L.toolbarElements.preview:!1,Ce=ee.lastChild,pe=z.getWrapperElement().nextSibling;if(pe.classList.contains("editor-preview-active-side")&&ti(L),!Ce||!Ce.classList.contains("editor-preview-full")){if(Ce=document.createElement("div"),Ce.className="editor-preview-full",L.options.previewClass)if(Array.isArray(L.options.previewClass))for(var ue=0;ue<L.options.previewClass.length;ue++)Ce.classList.add(L.options.previewClass[ue]);else typeof L.options.previewClass=="string"&&Ce.classList.add(L.options.previewClass);ee.appendChild(Ce)}Ce.classList.contains("editor-preview-active")?(Ce.classList.remove("editor-preview-active"),he&&(he.classList.remove("active"),oe.classList.remove("disabled-for-preview"))):(setTimeout(function(){Ce.classList.add("editor-preview-active")},1),he&&(he.classList.add("active"),oe.classList.add("disabled-for-preview")));var xe=L.options.previewRender(L.value(),Ce);xe!==null&&(Ce.innerHTML=xe)}function Rt(L,z,ee,oe){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var he,Ce=ee[0],pe=ee[1],ue={},xe={};Object.assign(ue,L.getCursor("start")),Object.assign(xe,L.getCursor("end")),oe&&(Ce=Ce.replace("#url#",oe),pe=pe.replace("#url#",oe)),z?(he=L.getLine(ue.line),Ce=he.slice(0,ue.ch),pe=he.slice(ue.ch),L.replaceRange(Ce+pe,{line:ue.line,ch:0})):(he=L.getSelection(),L.replaceSelection(Ce+he+pe),ue.ch+=Ce.length,ue!==xe&&(xe.ch+=Ce.length)),L.setSelection(ue,xe),L.focus()}}function St(L,z,ee){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var oe=L.getCursor("start"),he=L.getCursor("end"),Ce=oe.line;Ce<=he.line;Ce++)(function(pe){var ue=L.getLine(pe),xe=ue.search(/[^#]/);z!==void 0?xe<=0?z=="bigger"?ue="###### "+ue:ue="# "+ue:xe==6&&z=="smaller"?ue=ue.substr(7):xe==1&&z=="bigger"?ue=ue.substr(2):z=="bigger"?ue=ue.substr(1):ue="#"+ue:xe<=0?ue="#".repeat(ee)+" "+ue:xe==ee?ue=ue.substr(xe+1):ue="#".repeat(ee)+" "+ue.substr(xe+1),L.replaceRange(ue,{line:pe,ch:0},{line:pe,ch:99999999999999})})(Ce);L.focus()}}function Pt(L,z,ee){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var oe=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,he=/^\s*/,Ce=te(L),pe=L.getCursor("start"),ue=L.getCursor("end"),xe={quote:/^(\s*)>\s+/,"unordered-list":oe,"ordered-list":oe},ve=function(vt,xt){var wt={quote:">","unordered-list":ee,"ordered-list":"%%i."};return wt[vt].replace("%%i",xt)},Ue=function(vt,xt){var wt={quote:">","unordered-list":"\\"+ee,"ordered-list":"\\d+."},mt=new RegExp(wt[vt]);return xt&&mt.test(xt)},et=function(vt,xt,wt){var mt=oe.exec(xt),Wt=ve(vt,tt);return mt!==null?(Ue(vt,mt[2])&&(Wt=""),xt=mt[1]+Wt+mt[3]+xt.replace(he,"").replace(xe[vt],"$1")):wt==!1&&(xt=Wt+" "+xt),xt},tt=1,je=pe.line;je<=ue.line;je++)(function(vt){var xt=L.getLine(vt);Ce[z]?xt=xt.replace(xe[z],"$1"):(z=="unordered-list"&&(xt=et("ordered-list",xt,!0)),xt=et(z,xt,!1),tt+=1),L.replaceRange(xt,{line:vt,ch:0},{line:vt,ch:99999999999999})})(je);L.focus()}}function ii(L,z,ee,oe){if(!(!L.codemirror||L.isPreviewActive())){var he=L.codemirror,Ce=te(he),pe=Ce[z];if(!pe){Rt(he,pe,ee,oe);return}var ue=he.getCursor("start"),xe=he.getCursor("end"),ve=he.getLine(ue.line),Ue=ve.slice(0,ue.ch),et=ve.slice(ue.ch);z=="link"?Ue=Ue.replace(/(.*)[^!]\[/,"$1"):z=="image"&&(Ue=Ue.replace(/(.*)!\[$/,"$1")),et=et.replace(/]\(.*?\)/,""),he.replaceRange(Ue+et,{line:ue.line,ch:0},{line:ue.line,ch:99999999999999}),ue.ch-=ee[0].length,ue!==xe&&(xe.ch-=ee[0].length),he.setSelection(ue,xe),he.focus()}}function gi(L,z,ee,oe){if(!(!L.codemirror||L.isPreviewActive())){oe=typeof oe>"u"?ee:oe;var he=L.codemirror,Ce=te(he),pe,ue=ee,xe=oe,ve=he.getCursor("start"),Ue=he.getCursor("end");Ce[z]?(pe=he.getLine(ve.line),ue=pe.slice(0,ve.ch),xe=pe.slice(ve.ch),z=="bold"?(ue=ue.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),xe=xe.replace(/(\*\*|__)/,"")):z=="italic"?(ue=ue.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),xe=xe.replace(/(\*|_)/,"")):z=="strikethrough"&&(ue=ue.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),xe=xe.replace(/(\*\*|~~)/,"")),he.replaceRange(ue+xe,{line:ve.line,ch:0},{line:ve.line,ch:99999999999999}),z=="bold"||z=="strikethrough"?(ve.ch-=2,ve!==Ue&&(Ue.ch-=2)):z=="italic"&&(ve.ch-=1,ve!==Ue&&(Ue.ch-=1))):(pe=he.getSelection(),z=="bold"?(pe=pe.split("**").join(""),pe=pe.split("__").join("")):z=="italic"?(pe=pe.split("*").join(""),pe=pe.split("_").join("")):z=="strikethrough"&&(pe=pe.split("~~").join("")),he.replaceSelection(ue+pe+xe),ve.ch+=ee.length,Ue.ch=ve.ch+pe.length),he.setSelection(ve,Ue),he.focus()}}function ct(L){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var z=L.getCursor("start"),ee=L.getCursor("end"),oe,he=z.line;he<=ee.line;he++)oe=L.getLine(he),oe=oe.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),L.replaceRange(oe,{line:he,ch:0},{line:he,ch:99999999999999})}function ji(L,z){if(Math.abs(L)<1024)return""+L+z[0];var ee=0;do L/=1024,++ee;while(Math.abs(L)>=1024&&ee<z.length);return""+L.toFixed(1)+z[ee]}function Ui(L,z){for(var ee in z)Object.prototype.hasOwnProperty.call(z,ee)&&(z[ee]instanceof Array?L[ee]=z[ee].concat(L[ee]instanceof Array?L[ee]:[]):z[ee]!==null&&typeof z[ee]=="object"&&z[ee].constructor===Object?L[ee]=Ui(L[ee]||{},z[ee]):L[ee]=z[ee]);return L}function ni(L){for(var z=1;z<arguments.length;z++)L=Ui(L,arguments[z]);return L}function Tn(L){var z=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,ee=L.match(z),oe=0;if(ee===null)return oe;for(var he=0;he<ee.length;he++)ee[he].charCodeAt(0)>=19968?oe+=ee[he].length:oe+=1;return oe}var at={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},oi={bold:{name:"bold",action:le,className:at.bold,title:"Bold",default:!0},italic:{name:"italic",action:se,className:at.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:ae,className:at.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:be,className:at.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:be,className:at["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Te,className:at["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Ke,className:at["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Le,className:at["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:Ge,className:at["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:ke,className:at.code,title:"Code"},quote:{name:"quote",action:ye,className:at.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:Be,className:at["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Pe,className:at["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:Qe,className:at["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:gt,className:at.link,title:"Create Link",default:!0},image:{name:"image",action:Ht,className:at.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:ce,className:at["upload-image"],title:"Import an image"},table:{name:"table",action:Ee,className:at.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:_t,className:at["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Vt,className:at.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:ti,className:at["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:K,className:at.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:at.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:lt,className:at.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:Zt,className:at.redo,noDisable:!0,title:"Redo"}},dt={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},vs={link:"URL for the link:",image:"URL of the image:"},we={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},Se={bold:"**",code:"```",italic:"*"},ge={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},U={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function W(L){L=L||{},L.parent=this;var z=!0;if(L.autoDownloadFontAwesome===!1&&(z=!1),L.autoDownloadFontAwesome!==!0)for(var ee=document.styleSheets,oe=0;oe<ee.length;oe++)ee[oe].href&&ee[oe].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(z=!1);if(z){var he=document.createElement("link");he.rel="stylesheet",he.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(he)}if(L.element)this.element=L.element;else if(L.element===null){console.log("EasyMDE: Error. No element was found.");return}if(L.toolbar===void 0){L.toolbar=[];for(var Ce in oi)Object.prototype.hasOwnProperty.call(oi,Ce)&&(Ce.indexOf("separator-")!=-1&&L.toolbar.push("|"),(oi[Ce].default===!0||L.showIcons&&L.showIcons.constructor===Array&&L.showIcons.indexOf(Ce)!=-1)&&L.toolbar.push(Ce))}if(Object.prototype.hasOwnProperty.call(L,"previewClass")||(L.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(L,"status")||(L.status=["autosave","lines","words","cursor"],L.uploadImage&&L.status.unshift("upload-image")),L.previewRender||(L.previewRender=function(ue){return this.parent.markdown(ue)}),L.parsingConfig=ni({highlightFormatting:!0},L.parsingConfig||{}),L.insertTexts=ni({},dt,L.insertTexts||{}),L.promptTexts=ni({},vs,L.promptTexts||{}),L.blockStyles=ni({},Se,L.blockStyles||{}),L.autosave!=null&&(L.autosave.timeFormat=ni({},we,L.autosave.timeFormat||{})),L.iconClassMap=ni({},at,L.iconClassMap||{}),L.shortcuts=ni({},b,L.shortcuts||{}),L.maxHeight=L.maxHeight||void 0,L.direction=L.direction||"ltr",typeof L.maxHeight<"u"?L.minHeight=L.maxHeight:L.minHeight=L.minHeight||"300px",L.errorCallback=L.errorCallback||function(ue){alert(ue)},L.uploadImage=L.uploadImage||!1,L.imageMaxSize=L.imageMaxSize||2097152,L.imageAccept=L.imageAccept||"image/png, image/jpeg, image/gif, image/avif",L.imageTexts=ni({},ge,L.imageTexts||{}),L.errorMessages=ni({},U,L.errorMessages||{}),L.imagePathAbsolute=L.imagePathAbsolute||!1,L.imageCSRFName=L.imageCSRFName||"csrfmiddlewaretoken",L.imageCSRFHeader=L.imageCSRFHeader||!1,L.imageInputName=L.imageInputName||"image",L.autosave!=null&&L.autosave.unique_id!=null&&L.autosave.unique_id!=""&&(L.autosave.uniqueId=L.autosave.unique_id),L.overlayMode&&L.overlayMode.combine===void 0&&(L.overlayMode.combine=!0),this.options=L,this.render(),L.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(L.initialValue),L.uploadImage){var pe=this;this.codemirror.on("dragenter",function(ue,xe){pe.updateStatusBar("upload-image",pe.options.imageTexts.sbOnDragEnter),xe.stopPropagation(),xe.preventDefault()}),this.codemirror.on("dragend",function(ue,xe){pe.updateStatusBar("upload-image",pe.options.imageTexts.sbInit),xe.stopPropagation(),xe.preventDefault()}),this.codemirror.on("dragleave",function(ue,xe){pe.updateStatusBar("upload-image",pe.options.imageTexts.sbInit),xe.stopPropagation(),xe.preventDefault()}),this.codemirror.on("dragover",function(ue,xe){pe.updateStatusBar("upload-image",pe.options.imageTexts.sbOnDragEnter),xe.stopPropagation(),xe.preventDefault()}),this.codemirror.on("drop",function(ue,xe){xe.stopPropagation(),xe.preventDefault(),L.imageUploadFunction?pe.uploadImagesUsingCustomFunction(L.imageUploadFunction,xe.dataTransfer.files):pe.uploadImages(xe.dataTransfer.files)}),this.codemirror.on("paste",function(ue,xe){L.imageUploadFunction?pe.uploadImagesUsingCustomFunction(L.imageUploadFunction,xe.clipboardData.files):pe.uploadImages(xe.clipboardData.files)})}}W.prototype.uploadImages=function(L,z,ee){if(L.length!==0){for(var oe=[],he=0;he<L.length;he++)oe.push(L[he].name),this.uploadImage(L[he],z,ee);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",oe.join(", ")))}},W.prototype.uploadImagesUsingCustomFunction=function(L,z){if(z.length!==0){for(var ee=[],oe=0;oe<z.length;oe++)ee.push(z[oe].name),this.uploadImageUsingCustomFunction(L,z[oe]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",ee.join(", ")))}},W.prototype.updateStatusBar=function(L,z){if(this.gui.statusbar){var ee=this.gui.statusbar.getElementsByClassName(L);ee.length===1?this.gui.statusbar.getElementsByClassName(L)[0].textContent=z:ee.length===0?console.log("EasyMDE: status bar item "+L+" was not found."):console.log("EasyMDE: Several status bar items named "+L+" was found.")}},W.prototype.markdown=function(L){if(r){var z;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?z=this.options.renderingConfig.markedOptions:z={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?z.breaks=!1:z.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var ee=this.options.renderingConfig.hljs||window.hljs;ee&&(z.highlight=function(he,Ce){return Ce&&ee.getLanguage(Ce)?ee.highlight(Ce,he).value:ee.highlightAuto(he).value})}r.use(z);var oe=r.parse(L);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(oe=this.options.renderingConfig.sanitizerFunction.call(this,oe)),oe=T(oe),oe=A(oe),oe}},W.prototype.render=function(L){if(L||(L=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===L)return;this.element=L;var z=this.options,ee=this,oe={};for(var he in z.shortcuts)z.shortcuts[he]!==null&&g[he]!==null&&function(wt){oe[O(z.shortcuts[wt])]=function(){var mt=g[wt];typeof mt=="function"?mt(ee):typeof mt=="string"&&window.open(mt,"_blank")}}(he);oe.Enter="newlineAndIndentContinueMarkdownList",oe.Tab="tabAndIndentMarkdownList",oe["Shift-Tab"]="shiftTabAndUnindentMarkdownList",oe.Esc=function(wt){wt.getOption("fullScreen")&&K(ee)},this.documentOnKeyDown=function(wt){wt=wt||window.event,wt.keyCode==27&&ee.codemirror.getOption("fullScreen")&&K(ee)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var Ce,pe;z.overlayMode?(u.defineMode("overlay-mode",function(wt){return u.overlayMode(u.getMode(wt,z.spellChecker!==!1?"spell-checker":"gfm"),z.overlayMode.mode,z.overlayMode.combine)}),Ce="overlay-mode",pe=z.parsingConfig,pe.gitHubSpice=!1):(Ce=z.parsingConfig,Ce.name="gfm",Ce.gitHubSpice=!1),z.spellChecker!==!1&&(Ce="spell-checker",pe=z.parsingConfig,pe.name="gfm",pe.gitHubSpice=!1,typeof z.spellChecker=="function"?z.spellChecker({codeMirrorInstance:u}):a({codeMirrorInstance:u}));function ue(wt,mt,Wt){return{addNew:!1}}if(this.codemirror=u.fromTextArea(L,{mode:Ce,backdrop:pe,theme:z.theme!=null?z.theme:"easymde",tabSize:z.tabSize!=null?z.tabSize:2,indentUnit:z.tabSize!=null?z.tabSize:2,indentWithTabs:z.indentWithTabs!==!1,lineNumbers:z.lineNumbers===!0,autofocus:z.autofocus===!0,extraKeys:oe,direction:z.direction,lineWrapping:z.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:z.placeholder||L.getAttribute("placeholder")||"",styleSelectedText:z.styleSelectedText!=null?z.styleSelectedText:!S(),scrollbarStyle:z.scrollbarStyle!=null?z.scrollbarStyle:"native",configureMouse:ue,inputStyle:z.inputStyle!=null?z.inputStyle:S()?"contenteditable":"textarea",spellcheck:z.nativeSpellcheck!=null?z.nativeSpellcheck:!0,autoRefresh:z.autoRefresh!=null?z.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=z.minHeight,typeof z.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=z.maxHeight),z.forceSync===!0){var xe=this.codemirror;xe.on("change",function(){xe.save()})}this.gui={};var ve=document.createElement("div");ve.classList.add("EasyMDEContainer"),ve.setAttribute("role","application");var Ue=this.codemirror.getWrapperElement();Ue.parentNode.insertBefore(ve,Ue),ve.appendChild(Ue),z.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),z.status!==!1&&(this.gui.statusbar=this.createStatusbar()),z.autosave!=null&&z.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(ee._autosave_timeout),ee._autosave_timeout=setTimeout(function(){ee.autosave()},ee.options.autosave.submit_delay||ee.options.autosave.delay||1e3)}));function et(wt,mt){var Wt,jt=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return wt<jt?Wt=mt+"px":Wt=mt/wt*100+"%",Wt}var tt=this;function je(wt,mt){var Wt=new URL(mt.url,document.baseURI).href;wt.setAttribute("data-img-src",Wt),wt.setAttribute("style","--bg-image:url("+Wt+");--width:"+mt.naturalWidth+"px;--height:"+et(mt.naturalWidth,mt.naturalHeight)),tt.codemirror.setSize()}function vt(){z.previewImagesInEditor&&ve.querySelectorAll(".cm-image-marker").forEach(function(wt){var mt=wt.parentElement;if(mt.innerText.match(/^!\[.*?\]\(.*\)/g)&&!mt.hasAttribute("data-img-src")){var Wt=mt.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),Wt&&Wt.length>=2){var jt=Wt[1];if(z.imagesPreviewHandler){var vi=z.imagesPreviewHandler(Wt[1]);typeof vi=="string"&&(jt=vi)}if(window.EMDEimagesCache[jt])je(mt,window.EMDEimagesCache[jt]);else{window.EMDEimagesCache[jt]={};var en=document.createElement("img");en.onload=function(){window.EMDEimagesCache[jt]={naturalWidth:en.naturalWidth,naturalHeight:en.naturalHeight,url:jt},je(mt,window.EMDEimagesCache[jt])},en.src=jt}}}})}this.codemirror.on("update",function(){vt()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(z.autofocus===!0||L.autofocus)&&this.codemirror.focus();var xt=this.codemirror;setTimeout((function(){xt.refresh()}).bind(xt),0)},W.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function fe(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return W.prototype.autosave=function(){if(fe()){var L=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(L.element.form!=null&&L.element.form!=null&&L.element.form.addEventListener("submit",function(){clearTimeout(L.autosaveTimeoutId),L.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+L.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var z=L.value();z!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,z):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var ee=document.getElementById("autosaved");if(ee!=null&&ee!=null&&ee!=""){var oe=new Date,he=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(oe),Ce=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;ee.innerHTML=Ce+he}}else console.log("EasyMDE: localStorage not available, cannot autosave")},W.prototype.clearAutosavedValue=function(){if(fe()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},W.prototype.openBrowseFileWindow=function(L,z){var ee=this,oe=this.gui.toolbar.getElementsByClassName("imageInput")[0];oe.click();function he(Ce){ee.options.imageUploadFunction?ee.uploadImagesUsingCustomFunction(ee.options.imageUploadFunction,Ce.target.files):ee.uploadImages(Ce.target.files,L,z),oe.removeEventListener("change",he)}oe.addEventListener("change",he)},W.prototype.uploadImage=function(L,z,ee){var oe=this;z=z||function(ve){V(oe,ve)};function he(xe){oe.updateStatusBar("upload-image",xe),setTimeout(function(){oe.updateStatusBar("upload-image",oe.options.imageTexts.sbInit)},1e4),ee&&typeof ee=="function"&&ee(xe),oe.options.errorCallback(xe)}function Ce(xe){var ve=oe.options.imageTexts.sizeUnits.split(",");return xe.replace("#image_name#",L.name).replace("#image_size#",ji(L.size,ve)).replace("#image_max_size#",ji(oe.options.imageMaxSize,ve))}if(L.size>this.options.imageMaxSize){he(Ce(this.options.errorMessages.fileTooLarge));return}var pe=new FormData;pe.append("image",L),oe.options.imageCSRFToken&&!oe.options.imageCSRFHeader&&pe.append(oe.options.imageCSRFName,oe.options.imageCSRFToken);var ue=new XMLHttpRequest;ue.upload.onprogress=function(xe){if(xe.lengthComputable){var ve=""+Math.round(xe.loaded*100/xe.total);oe.updateStatusBar("upload-image",oe.options.imageTexts.sbProgress.replace("#file_name#",L.name).replace("#progress#",ve))}},ue.open("POST",this.options.imageUploadEndpoint),oe.options.imageCSRFToken&&oe.options.imageCSRFHeader&&ue.setRequestHeader(oe.options.imageCSRFName,oe.options.imageCSRFToken),ue.onload=function(){try{var xe=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),he(Ce(oe.options.errorMessages.importError));return}this.status===200&&xe&&!xe.error&&xe.data&&xe.data.filePath?z((oe.options.imagePathAbsolute?"":window.location.origin+"/")+xe.data.filePath):xe.error&&xe.error in oe.options.errorMessages?he(Ce(oe.options.errorMessages[xe.error])):xe.error?he(Ce(xe.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),he(Ce(oe.options.errorMessages.importError)))},ue.onerror=function(xe){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+xe.target.status+" ("+xe.target.statusText+")"),he(oe.options.errorMessages.importError)},ue.send(pe)},W.prototype.uploadImageUsingCustomFunction=function(L,z){var ee=this;function oe(pe){V(ee,pe)}function he(pe){var ue=Ce(pe);ee.updateStatusBar("upload-image",ue),setTimeout(function(){ee.updateStatusBar("upload-image",ee.options.imageTexts.sbInit)},1e4),ee.options.errorCallback(ue)}function Ce(pe){var ue=ee.options.imageTexts.sizeUnits.split(",");return pe.replace("#image_name#",z.name).replace("#image_size#",ji(z.size,ue)).replace("#image_max_size#",ji(ee.options.imageMaxSize,ue))}L.apply(this,[z,oe,he])},W.prototype.setPreviewMaxHeight=function(){var L=this.codemirror,z=L.getWrapperElement(),ee=z.nextSibling,oe=parseInt(window.getComputedStyle(z).paddingTop),he=parseInt(window.getComputedStyle(z).borderTopWidth),Ce=parseInt(this.options.maxHeight),pe=Ce+oe*2+he*2,ue=pe.toString()+"px";ee.style.height=ue},W.prototype.createSideBySide=function(){var L=this.codemirror,z=L.getWrapperElement(),ee=z.nextSibling;if(!ee||!ee.classList.contains("editor-preview-side")){if(ee=document.createElement("div"),ee.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var oe=0;oe<this.options.previewClass.length;oe++)ee.classList.add(this.options.previewClass[oe]);else typeof this.options.previewClass=="string"&&ee.classList.add(this.options.previewClass);z.parentNode.insertBefore(ee,z.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return ee;var he=!1,Ce=!1;return L.on("scroll",function(pe){if(he){he=!1;return}Ce=!0;var ue=pe.getScrollInfo().height-pe.getScrollInfo().clientHeight,xe=parseFloat(pe.getScrollInfo().top)/ue,ve=(ee.scrollHeight-ee.clientHeight)*xe;ee.scrollTop=ve}),ee.onscroll=function(){if(Ce){Ce=!1;return}he=!0;var pe=ee.scrollHeight-ee.clientHeight,ue=parseFloat(ee.scrollTop)/pe,xe=(L.getScrollInfo().height-L.getScrollInfo().clientHeight)*ue;L.scrollTo(0,xe)},ee},W.prototype.createToolbar=function(L){if(L=L||this.options.toolbar,!(!L||L.length===0)){var z;for(z=0;z<L.length;z++)oi[L[z]]!=null&&(L[z]=oi[L[z]]);var ee=document.createElement("div");ee.className="editor-toolbar",ee.setAttribute("role","toolbar");var oe=this,he={};for(oe.toolbar=L,z=0;z<L.length;z++)if(!(L[z].name=="guide"&&oe.options.toolbarGuideIcon===!1)&&!(oe.options.hideIcons&&oe.options.hideIcons.indexOf(L[z].name)!=-1)&&!((L[z].name=="fullscreen"||L[z].name=="side-by-side")&&S())){if(L[z]==="|"){for(var Ce=!1,pe=z+1;pe<L.length;pe++)L[pe]!=="|"&&(!oe.options.hideIcons||oe.options.hideIcons.indexOf(L[pe].name)==-1)&&(Ce=!0);if(!Ce)continue}(function(ve){var Ue;if(ve==="|"?Ue=q():ve.children?Ue=N(ve,oe.options.toolbarTips,oe.options.shortcuts,oe):Ue=$(ve,!0,oe.options.toolbarTips,oe.options.shortcuts,"button",oe),he[ve.name||ve]=Ue,ee.appendChild(Ue),ve.name==="upload-image"){var et=document.createElement("input");et.className="imageInput",et.type="file",et.multiple=!0,et.name=oe.options.imageInputName,et.accept=oe.options.imageAccept,et.style.display="none",et.style.opacity=0,ee.appendChild(et)}})(L[z])}oe.toolbar_div=ee,oe.toolbarElements=he;var ue=this.codemirror;ue.on("cursorActivity",function(){var ve=te(ue);for(var Ue in he)(function(et){var tt=he[et];ve[et]?tt.classList.add("active"):et!="fullscreen"&&et!="side-by-side"&&tt.classList.remove("active")})(Ue)});var xe=ue.getWrapperElement();return xe.parentNode.insertBefore(ee,xe),ee}},W.prototype.createStatusbar=function(L){L=L||this.options.status;var z=this.options,ee=this.codemirror;if(!(!L||L.length===0)){var oe=[],he,Ce,pe,ue;for(he=0;he<L.length;he++)if(Ce=void 0,pe=void 0,ue=void 0,typeof L[he]=="object")oe.push({className:L[he].className,defaultValue:L[he].defaultValue,onUpdate:L[he].onUpdate,onActivity:L[he].onActivity});else{var xe=L[he];xe==="words"?(ue=function(je){je.innerHTML=Tn(ee.getValue())},Ce=function(je){je.innerHTML=Tn(ee.getValue())}):xe==="lines"?(ue=function(je){je.innerHTML=ee.lineCount()},Ce=function(je){je.innerHTML=ee.lineCount()}):xe==="cursor"?(ue=function(je){je.innerHTML="1:1"},pe=function(je){var vt=ee.getCursor(),xt=vt.line+1,wt=vt.ch+1;je.innerHTML=xt+":"+wt}):xe==="autosave"?ue=function(je){z.autosave!=null&&z.autosave.enabled===!0&&je.setAttribute("id","autosaved")}:xe==="upload-image"&&(ue=function(je){je.innerHTML=z.imageTexts.sbInit}),oe.push({className:xe,defaultValue:ue,onUpdate:Ce,onActivity:pe})}var ve=document.createElement("div");for(ve.className="editor-statusbar",he=0;he<oe.length;he++){var Ue=oe[he],et=document.createElement("span");et.className=Ue.className,typeof Ue.defaultValue=="function"&&Ue.defaultValue(et),typeof Ue.onUpdate=="function"&&this.codemirror.on("update",function(je,vt){return function(){vt.onUpdate(je)}}(et,Ue)),typeof Ue.onActivity=="function"&&this.codemirror.on("cursorActivity",function(je,vt){return function(){vt.onActivity(je)}}(et,Ue)),ve.appendChild(et)}var tt=this.codemirror.getWrapperElement();return tt.parentNode.insertBefore(ve,tt.nextSibling),ve}},W.prototype.value=function(L){var z=this.codemirror;if(L===void 0)return z.getValue();if(z.getDoc().setValue(L),this.isPreviewActive()){var ee=z.getWrapperElement(),oe=ee.lastChild,he=this.options.previewRender(L,oe);he!==null&&(oe.innerHTML=he)}return this},W.toggleBold=le,W.toggleItalic=se,W.toggleStrikethrough=ae,W.toggleBlockquote=ye,W.toggleHeadingSmaller=be,W.toggleHeadingBigger=Te,W.toggleHeading1=Ke,W.toggleHeading2=Le,W.toggleHeading3=Ge,W.toggleHeading4=st,W.toggleHeading5=ut,W.toggleHeading6=de,W.toggleCodeBlock=ke,W.toggleUnorderedList=Be,W.toggleOrderedList=Pe,W.cleanBlock=Qe,W.drawLink=gt,W.drawImage=Ht,W.drawUploadedImage=ce,W.drawTable=Ee,W.drawHorizontalRule=_t,W.undo=lt,W.redo=Zt,W.togglePreview=Vt,W.toggleSideBySide=ti,W.toggleFullScreen=K,W.prototype.toggleBold=function(){le(this)},W.prototype.toggleItalic=function(){se(this)},W.prototype.toggleStrikethrough=function(){ae(this)},W.prototype.toggleBlockquote=function(){ye(this)},W.prototype.toggleHeadingSmaller=function(){be(this)},W.prototype.toggleHeadingBigger=function(){Te(this)},W.prototype.toggleHeading1=function(){Ke(this)},W.prototype.toggleHeading2=function(){Le(this)},W.prototype.toggleHeading3=function(){Ge(this)},W.prototype.toggleHeading4=function(){st(this)},W.prototype.toggleHeading5=function(){ut(this)},W.prototype.toggleHeading6=function(){de(this)},W.prototype.toggleCodeBlock=function(){ke(this)},W.prototype.toggleUnorderedList=function(){Be(this)},W.prototype.toggleOrderedList=function(){Pe(this)},W.prototype.cleanBlock=function(){Qe(this)},W.prototype.drawLink=function(){gt(this)},W.prototype.drawImage=function(){Ht(this)},W.prototype.drawUploadedImage=function(){ce(this)},W.prototype.drawTable=function(){Ee(this)},W.prototype.drawHorizontalRule=function(){_t(this)},W.prototype.undo=function(){lt(this)},W.prototype.redo=function(){Zt(this)},W.prototype.togglePreview=function(){Vt(this)},W.prototype.toggleSideBySide=function(){ti(this)},W.prototype.toggleFullScreen=function(){K(this)},W.prototype.isPreviewActive=function(){var L=this.codemirror,z=L.getWrapperElement(),ee=z.lastChild;return ee.classList.contains("editor-preview-active")},W.prototype.isSideBySideActive=function(){var L=this.codemirror,z=L.getWrapperElement(),ee=z.nextSibling;return ee.classList.contains("editor-preview-active-side")},W.prototype.isFullscreenActive=function(){var L=this.codemirror;return L.getOption("fullScreen")},W.prototype.getState=function(){var L=this.codemirror;return te(L)},W.prototype.toTextArea=function(){var L=this.codemirror,z=L.getWrapperElement(),ee=z.parentNode;ee&&(this.gui.toolbar&&ee.removeChild(this.gui.toolbar),this.gui.statusbar&&ee.removeChild(this.gui.statusbar),this.gui.sideBySide&&ee.removeChild(this.gui.sideBySide)),ee.parentNode.insertBefore(z,ee),ee.remove(),L.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},Qf=W,Qf}var PD=OD();const Gv=q_(PD);window.Dropzone=Ze;Oa.register(...c4,gD);window.Chart=Oa;window.EasyMDE=Gv;window.editors={};document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".easymde").forEach(function(u){const a=new Gv({element:u,minHeight:"200px",maxHeight:"200px",status:!1,spellChecker:!1,toggleFullscreen:!1,sideBySideFullscreen:!1});u.id&&(editors[u.id]=a)})});window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};
//# sourceMappingURL=app-CBLttgUZ.js.map
