var j_=Object.defineProperty;var U_=(l,s,a)=>s in l?j_(l,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[s]=a;var ae=(l,s,a)=>U_(l,typeof s!="symbol"?s+"":s,a);function q_(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Y_(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var s=l.default;if(typeof s=="function"){var a=function u(){return this instanceof u?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(l).forEach(function(u){var h=Object.getOwnPropertyDescriptor(l,u);Object.defineProperty(a,u,h.get?h:{enumerable:!0,get:function(){return l[u]}})}),a}var am={},om;function G_(){if(om)return am;om=1;/*!
	 ███╗   ███╗███████╗████████╗██████╗  ██████╗     ██╗   ██╗██╗
	 ████╗ ████║██╔════╝╚══██╔══╝██╔══██╗██╔═══██╗    ██║   ██║██║
	 ██╔████╔██║█████╗     ██║   ██████╔╝██║   ██║    ██║   ██║██║
	 ██║╚██╔╝██║██╔══╝     ██║   ██╔══██╗██║   ██║    ██║   ██║██║
	 ██║ ╚═╝ ██║███████╗   ██║   ██║  ██║╚██████╔╝    ╚██████╔╝██║
	 ╚═╝     ╚═╝╚══════╝   ╚═╝   ╚═╝  ╚═╝ ╚═════╝      ╚═════╝ ╚═╝                                                             

	 * Metro UI v5.1.6 Components Library  (https://metroui.org.ua)
	 * Build: 05.06.2025, 18:50:01
	 * Copyright 2012-2025 by Serhii Pimenov
	 * Licensed under MIT
	 */(()=>{var Yt,Cn,wn;var l=Object.defineProperty,s=(t,o)=>{for(var f in o)l(t,f,{get:o[f],enumerable:!0})},a=t=>!isNaN(t),u="YYYY-MM-DDTHH:mm:ss.sss",h="Invalid date",m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,v=/(%[a-z])/gi,w="%Y-%m-%dT%H:%M:%S.%Q%t",S={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},D={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},A={ms:"ms",s:"second",m:"minute",h:"hour",D:"day",W:"week",M:"month",Y:"year"},O=(t="")=>{throw new Error("This argument is required!")},N=(t,o=!0)=>{try{return o?typeof t<"u":typeof t<"u"&&t!==null}catch{return!1}},V=t=>typeof t>"u"||t===null,Y=function(t,o,f){let e=""+t;return f&&e.length>=f?e:Array(f+1-e.length).join(o)+e},$={months:"Січень_Лютий_Березень_Квітень_Травень_Червень_Липень_Серпень_Вересень_Жовтень_Листопад_Грудень".split("_"),monthsParental:"Січня_Лютого_Березеня_Квітня_Травня_Червня_Липня_Серпня_Вересня_Жовтня_Листопада_Грудня".split("_"),monthsShort:"Січ_Лют_Бер_Кві_Тра_Чер_Лип_Сер_Вер_Жов_Лис_Гру".split("_"),weekdays:"Неділя_Понеділок_Вівторок_Середа_Четвер_П'ятниця_Субота".split("_"),weekdaysShort:"Нед_Пон_Вів_Сер_Чет_Птн_Суб".split("_"),weekdaysMin:"Нд_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),weekStart:1},te={months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_Mär_Apr_Mai_Jun_Jul_Aug_Sep_Okt_Nov_Dez".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"Son_Mon_Die_Mit_Don_Fre_Sam".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekStart:1},X=(Yt=class{constructor(){const o=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(o))),this.locale="en",this.weekStart=Yt.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,!a(this.value.getTime()))throw new Error(h)}static isDatetime(o){return o instanceof Yt}static now(o=!1){return K()[o?"val":"time"]()}static parse(o=O()){return K(Date.parse(o))}static setLocale(o=O(),f=O()){Yt.locales[o]=f}static getLocale(o="en"){return N(Yt.locales[o],!1)?Yt.locales[o]:Yt.locales.en}static align(o,f){let e=K(o),i,r;switch(f){case A.s:i=e.ms(0);break;case A.m:i=Yt.align(e,A.s)[A.s](0);break;case A.h:i=Yt.align(e,A.m)[A.m](0);break;case A.D:i=Yt.align(e,A.h)[A.h](0);break;case A.M:i=Yt.align(e,A.D)[A.D](1);break;case A.Y:i=Yt.align(e,A.M)[A.M](0);break;case A.W:{r=e.weekDay(),i=Yt.align(o,A.D).addDay(-r);break}default:i=e}return i}static alignEnd(o,f){let e=K(o),i,r;switch(f){case A.ms:i=e.ms(999);break;case A.s:i=Yt.alignEnd(e,A.ms);break;case A.m:i=Yt.alignEnd(e,A.s)[A.s](59);break;case A.h:i=Yt.alignEnd(e,A.m)[A.m](59);break;case A.D:i=Yt.alignEnd(e,A.h)[A.h](23);break;case A.M:i=Yt.alignEnd(e,A.D)[A.D](1).add(1,A.M).add(-1,A.D);break;case A.Y:i=Yt.alignEnd(e,A.D)[A.M](11)[A.D](31);break;case A.W:{r=e.weekDay(),i=Yt.alignEnd(e,"day").addDay(6-r);break}default:i=o}return i}immutable(o){return this.mutable=!(V(o)||o),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(o,f){return this.locale=f||N(Yt.locales[o],!1)?o:"en",this.weekStart=Yt.getLocale(this.locale).weekStart,this}clone(){const o=K(this.value);return o.locale=this.locale,o.weekStart=this.weekStart,o.mutable=this.mutable,o}align(o){return this.mutable?(this.value=Yt.align(this,o).val(),this):this.clone().immutable(!1).align(o).immutable(!this.mutable)}alignEnd(o){return this.mutable?(this.value=Yt.alignEnd(this,o).val(),this):this.clone().immutable(!1).alignEnd(o).immutable(!this.mutable)}val(o){return typeof o>"u"||o===null?this.value:this.mutable?(this.value=typeof o=="string"?Date.parse(o):typeof o=="number"?new Date(o):o,this):K(o)}year2(){return+(""+this.year()).slice(-2)}_set(o,f){const e="set"+(this.utcMode&&o!=="t"?"UTC":"")+D[o];if(this.mutable)return this.value[e](f),this;const i=this.clone();return i.value[e](f),i}_get(o){const f="get"+(this.utcMode&&o!=="t"?"UTC":"")+D[o];return this.value[f]()}_work(o,f){return!arguments.length||typeof f>"u"||f===null?this._get(o):this._set(o,f)}ms(o){return this._work("ms",o)}second(o){return this._work("s",o)}minute(o){return this._work("m",o)}hour(o){return this._work("h",o)}day(o){return this._work("D",o)}month(o){return this._work("M",o)}year(o){return this._work("Y",o)}time(o){return this._work("t",o)}weekDay(o){if(!arguments.length||V(o))return this.utcMode?this.value.getUTCDay():this.value.getDay();const f=this.weekDay(),e=o-f;return this.day(this.day()+e),this}get(o){return typeof this[o]!="function"?this:this[o]()}set(o,f){return typeof this[o]!="function"?this:this[o](f)}add(o,f){switch(f){case A.h:return this.time(this.time()+o*60*60*1e3);case A.m:return this.time(this.time()+o*60*1e3);case A.s:return this.time(this.time()+o*1e3);case A.ms:return this.time(this.time()+o);case A.D:return this.day(this.day()+o);case A.W:return this.day(this.day()+o*7);case A.M:return this.month(this.month()+o);case A.Y:return this.year(this.year()+o)}}addHour(o){return this.add(o,A.h)}addMinute(o){return this.add(o,A.m)}addSecond(o){return this.add(o,A.s)}addMs(o){return this.add(o,A.ms)}addDay(o){return this.add(o,A.D)}addWeek(o){return this.add(o,A.W)}addMonth(o){return this.add(o,A.M)}addYear(o){return this.add(o,A.Y)}format(o,f){const e=o||u,i=Yt.getLocale(f||this.locale),r=this.year(),d=this.year2(),g=this.month(),_=this.day(),C=this.weekDay(),k=this.hour(),E=this.minute(),I=this.second(),B=this.ms(),q={YY:d,YYYY:r,M:g+1,MM:Y(g+1,0,2),MMM:i.monthsShort[g],MMMM:i.months[g],D:_,DD:Y(_,0,2),d:C,dd:i.weekdaysMin[C],ddd:i.weekdaysShort[C],dddd:i.weekdays[C],H:k,HH:Y(k,0,2),m:E,mm:Y(E,0,2),s:I,ss:Y(I,0,2),sss:Y(B,0,3)};return e.replace(m,(Z,Q)=>Q||q[Z])}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}},ae(Yt,"locales",{en:S,ua:$,de:te}),Yt),K=(...t)=>t&&t[0]instanceof X?t[0]:new X(...t),re=X.prototype.format,ie={buddhist(){return this.year()+543},format(t,o){t=t||u;const f={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()};let e=t.replace(/(\[[^\]]+])|B{4}|B{2}/g,(i,r)=>r||f[i]);return re.bind(this)(e,o)}};Object.assign(X.prototype,ie);var se=(t,o)=>{let f=t instanceof X?t.clone().align("month"):K(t),e=o===0||o?o:t.weekStart,i=e?f.isoWeekDay():f.weekDay(),r=X.getLocale(f.locale),d=K(),g;const _=(k,E)=>{if(E===0)return k;let I=k[0];return k.slice(1).concat([I])},C={month:r.months[f.month()],days:[],weekstart:o?1:0,weekdays:_(r.weekdaysMin,e),today:d.format("YYYY-MM-DD"),weekends:[],week:[]};for(f.addDay(e?-i+1:-i),g=0;g<42;g++)C.days.push(f.format("YYYY-MM-DD")),f.add(1,"day");for(C.weekends=C.days.filter(function(k,E){return e===0?[0,6,7,13,14,20,21,27,28,34,35,41].includes(E):[5,6,12,13,19,20,26,27,33,34,40,41].includes(E)}),f=d.clone(),i=e?f.isoWeekDay():f.weekDay(),f.addDay(e?-i+1:-i),g=0;g<7;g++)C.week.push(f.format("YYYY-MM-DD")),f.add(1,"day");return C};Object.assign(X.prototype,{calendar(t){return se(this,t)}});var ke=X.prototype.format;Object.assign(X.prototype,{century(){return Math.ceil(this.year()/100)},format(t,o){t=t||u;const f={C:this.century()};let e=t.replace(/(\[[^\]]+])|C/g,(i,r)=>r||f[i]);return ke.bind(this)(e,o)}}),Object.assign(X.prototype,{same(t){return this.time()===K(t).time()},compare(t,o,f="="){const e=K(t),i=K(this.value);let r,d;switch(f=f||"=",["<",">",">=","<=","=","!="].includes(f)===!1&&(f="="),o=(o||"ms").toLowerCase(),r=i.align(o).time(),d=e.align(o).time(),f){case"<":return r<d;case">":return r>d;case"<=":return r<=d;case">=":return r>=d;case"=":return r===d;case"!=":return r!==d}},between(t,o){return this.younger(t)&&this.older(o)},older(t,o){return this.compare(t,o,"<")},olderOrEqual(t,o){return this.compare(t,o,"<=")},younger(t,o){return this.compare(t,o,">")},youngerOrEqual(t,o){return this.compare(t,o,">=")},equal(t,o){return this.compare(t,o,"=")},notEqual(t,o){return this.compare(t,o,"!=")},diff(t){const o=K(t),f=Math.abs(this.time()-o.time()),e=Math.abs(this.month()-o.month()+12*(this.year()-o.year()));return{ms:f,second:Math.ceil(f/1e3),minute:Math.ceil(f/(1e3*60)),hour:Math.ceil(f/(1e3*60*60)),day:Math.ceil(f/(1e3*60*60*24)),month:e,year:Math.floor(e/12)}},distance(t,o){return this.diff(t)[o]}}),Object.assign(X.prototype,{isLeapYear(){const t=this.year();return t%4===0&&t%100!==0||t%400===0}}),Object.assign(X.prototype,{dayOfYear(){const t=[0,31,59,90,120,151,181,212,243,273,304,334],o=this.month(),f=this.day();return t[o]+f+(o>1&&this.isLeapYear()?1:0)}}),Object.assign(X.prototype,{daysInMonth(){return K(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear(){return this.isLeapYear()?366:365},daysInYearMap(){const t=[],o=K(this.value);o.month(0).day(1);for(let f=0;f<12;f++)o.add(1,"month").add(-1,"day"),t.push(o.day()),o.day(1).add(1,"month");return t},daysInYearObj(t,o){const f=this.daysInYearMap(),e={},i=X.getLocale(t||this.locale);return f.forEach((r,d)=>e[i[o?"monthsShort":"months"][d]]=r),e}}),Object.assign(X.prototype,{decade(){return Math.floor(this.year()/10)*10},decadeStart(){const t=this.decade();return(this.mutable?this:this.clone()).year(t).month(0).day(1)},decadeEnd(){const t=this.decade()+9;return(this.mutable?this:this.clone()).year(t).month(11).day(31)},decadeOfMonth(){const t=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,o=this.day();return o<=t?1:o<=t*2?2:3}}),Object.assign(X,{from(t,o,f){let e,i,r,d,g,_,C,k,E,I,B,q,Z,Q,De,He,Me,Be,we;const Ie=function(wt,xt){return wt.map(function(In){return In.toLowerCase()}).indexOf(xt.toLowerCase())},Oe=function(wt){let xt=-1;const In=X.getLocale(f||"en");return V(wt)?-1:(xt=Ie(In.months,wt),xt===-1&&typeof In.monthsParental<"u"&&(xt=Ie(In.monthsParental,wt)),xt===-1&&(wt=wt.substr(0,3),xt=Ie(In.monthsShort,wt)),xt===-1?-1:xt+1)},Fe=function(wt){const xt={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]};let In=-1,vi,kn;for(let Wi=0;Wi<xt[wt].length;Wi++)if(vi=xt[wt][Wi],kn=r.indexOf(vi),kn!==-1){In=kn;break}return In};if(!o)return K();if(e=t.replace(/[\/,.:\s]/g,"-"),i=o.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),r=i.split("-"),d=e.split("-"),e.replace(/-/g,"").trim()==="")throw new Error(h);return g=Fe("month"),_=Fe("day"),C=Fe("year"),k=Fe("hour"),E=Fe("minute"),I=Fe("second"),B=Fe("ms"),g>-1&&d[g]?isNaN(parseInt(d[g]))?(d[g]=Oe(d[g]),d[g]===-1&&(g=-1)):(we=parseInt(d[g]),(we<1||we>12)&&(g=-1)):g=-1,q=C>-1&&d[C]?d[C]:0,Z=g>-1&&d[g]?d[g]:1,Q=_>-1&&d[_]?d[_]:1,De=k>-1&&d[k]?d[k]:0,He=E>-1&&d[E]?d[E]:0,Me=I>-1&&d[I]?d[I]:0,Be=B>-1&&d[B]?d[B]:0,K(q,Z-1,Q,De,He,Me,Be)}});var be=X.prototype.format;Object.assign(X.prototype,{ampm(t){let o=this.hour()<12?"AM":"PM";return t?o.toLowerCase():o},hour12:function(t,o){let f=t;return arguments.length===0?this.hour()%12:(o=o||"am",o.toLowerCase()==="pm"&&(f+=12),this.hour(f))},format:function(t,o){let f,e,i=this.hour12();return t=t||u,f={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:i,hh:Y(i,0,2)},e=t.replace(/(\[[^\]]+])|a|A|h{1,2}/g,(r,d)=>d||f[r]),be.bind(this)(e,o)}});var ve=X.prototype.format,Te=X.align,Ke=X.alignEnd;Object.assign(X,{align(t,o){let f=K(t),e,i;switch(o){case"isoWeek":i=f.isoWeekDay(),e=Te(f,"day").addDay(-i+1);break;default:e=Te.apply(void 0,[f,o])}return e},alignEnd(t,o){let f=K(t),e,i;switch(o){case"isoWeek":i=f.isoWeekDay(),e=Ke(f,"day").addDay(7-i);break;default:e=Ke.apply(void 0,[f,o])}return e}}),Object.assign(X.prototype,{isoWeekDay(t){let o=(this.weekDay()+6)%7+1;return!arguments.length||V(t)?o:this.addDay(t-o)},format(t,o){t=t||u;const f={I:this.isoWeekDay()};let e=t.replace(/(\[[^\]]+])|I{1,2}/g,(i,r)=>r||f[i]);return ve.bind(this)(e,o)}}),Object.assign(X,{max(){return[].slice.call(arguments).map(o=>K(o)).sort((o,f)=>f.time()-o.time())[0]}}),Object.assign(X.prototype,{max(){return X.max.apply(this,[this].concat([].slice.call(arguments)))}}),Object.assign(X,{min(){return[].slice.call(arguments).map(o=>K(o)).sort((o,f)=>o.time()-f.time())[0]}}),Object.assign(X.prototype,{min(){return X.min.apply(this,[this].concat([].slice.call(arguments)))}});var Le=X.align,Ge=X.alignEnd,it=X.prototype.add;Object.assign(X,{align(t,o){let f=K(t),e;switch(o){case"quarter":e=X.align(f,"day").day(1).month(f.quarter()*3-3);break;default:e=Le.apply(this,[f,o])}return e},alignEnd(t,o){let f=K(t),e;switch(o){case"quarter":e=X.align(f,"quarter").add(3,"month").add(-1,"ms");break;default:e=Ge.apply(this,[f,o])}return e}}),Object.assign(X.prototype,{quarter(){const t=this.month();return t<=2?1:t<=5?2:t<=8?3:4},add(t,o){return o==="quarter"?this.month(this.month()+t*3):it.bind(this)(t,o)},addQuarter(t){return this.add(t,"quarter")}}),Object.assign(X,{sort(t,o){let f,e;const i={};switch(typeof o=="string"||typeof o!="object"||V(o)?(i.format=u,i.dir=o&&o.toUpperCase()==="DESC"?"DESC":"ASC",i.returnAs="datetime"):(i.format=o.format||u,i.dir=(o.dir||"ASC").toUpperCase(),i.returnAs=o.format?"string":o.returnAs||"datetime"),e=t.map(r=>K(r)).sort((r,d)=>r.valueOf()-d.valueOf()),i.dir==="DESC"&&e.reverse(),i.returnAs){case"string":f=e.map(r=>r.format(i.format));break;case"date":f=e.map(r=>r.val());break;default:f=e}return f}});var rt=X.prototype.format;Object.assign(X.prototype,{utcOffset(){return this.value.getTimezoneOffset()},timezone(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format(t,o){t=t||u;const f={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()};let e=t.replace(/(\[[^\]]+])|Z{1,3}|z/g,(i,r)=>r||f[i]);return rt.bind(this)(e,o)}});var ce=X.prototype.format;Object.assign(X.prototype,{weekNumber(t=0){let o,f,e,i,r,d;return e=K(this.year(),0,1),i=e.weekDay()-t,i=i>=0?i:i+7,r=Math.floor((this.time()-e.time()-(this.utcOffset()-e.utcOffset())*6e4)/864e5)+1,i<4?(d=Math.floor((r+i-1)/7)+1,d>52&&(o=K(this.year()+1,0,1),f=o.weekDay()-t,f=f>=0?f:f+7,d=f<4?1:53)):(d=Math.floor((r+i-1)/7),d===0&&(d=K(this.year()-1,11,31).weekNumber(t),t===1&&r<=7-i&&(d=1))),d},isoWeekNumber(){const t=new Date(this.time());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);const o=new Date(t.getFullYear(),0,4);return o.setDate(o.getDate()+3-(o.getDay()+6)%7),1+Math.round(((t.getTime()-o.getTime())/864e5-3+(o.getDay()+6)%7)/7)},weeksInYear(t=0){const f=K(this.value).month(11).day(31),e=f.weekNumber(t);return e===1&&f.weekDay()===t?f.add(-1,"day").weekNumber(t):e},format:function(t,o){let f,e,i=this.weekNumber(),r=this.isoWeekNumber();return t=t||u,f={W:i,WW:Y(i,0,2),WWW:r,WWWW:Y(r,0,2)},e=t.replace(/(\[[^\]]+])|W{1,4}/g,(d,g)=>g||f[d]),ce.bind(this)(e,o)}}),Object.assign(X.prototype,{strftime(t,o){const f=t||w,e=X.getLocale(o||this.locale),i=this.year(),r=this.year2(),d=this.month(),g=this.day(),_=this.weekDay(),C=this.hour(),k=this.hour12(),E=this.minute(),I=this.second(),B=this.ms(),q=this.time(),Z=Y(g,0,2),Q=Y(d+1,0,2),De=Y(C,0,2),He=Y(k,0,2),Me=Y(E,0,2),Be=Y(I,0,2),we=Y(B,0,3),Ie=this,Oe=function(){return K(Ie.value).day(Ie.day()-(Ie.weekDay()+6)%7+3)},Fe={"%a":e.weekdaysShort[_],"%A":e.weekdays[_],"%b":e.monthsShort[d],"%h":e.monthsShort[d],"%B":e.months[d],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":Z,"%D":[Z,Q,i].join("/"),"%e":g,"%F":[i,Q,Z].join("-"),"%G":Oe().year(),"%g":(""+Oe().year()).slice(2),"%H":De,"%I":He,"%j":Y(this.dayOfYear(),0,3),"%k":De,"%l":He,"%m":Q,"%n":d+1,"%M":Me,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(q/1e3),"%S":Be,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":_,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":r,"%Y":i,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[He,Me,Be].join(":")+" "+this.ampm(),"%R":[De,Me].join(":"),"%T":[De,Me,Be].join(":"),"%Q":we,"%q":B,"%t":this.timezone()};return f.replace(v,wt=>Fe[wt]===0||Fe[wt]?Fe[wt]:wt)}}),Object.assign(X,{isToday(t){const o=K(t).align("day"),f=K().align("day");return o.time()===f.time()}}),Object.assign(X.prototype,{isToday(){return X.isToday(this)},today(){const t=K();return this.mutable?this.val(t.val()):t}}),Object.assign(X,{isTomorrow(t){const o=K(t).align("day"),f=K().align("day").add(1,"day");return o.time()===f.time()}}),Object.assign(X.prototype,{isTomorrow(){return X.isTomorrow(this)},tomorrow(){return this.mutable?this.add(1,"day"):this.clone().immutable(!1).add(1,"day").immutable(!this.mutable)}}),Object.assign(X.prototype,{toDateString(){return this.value.toDateString()},toISOString(){return this.value.toISOString()},toJSON(){return this.value.toJSON()},toGMTString(){return this.value.toGMTString()},toLocaleDateString(){return this.value.toLocaleDateString()},toLocaleString(){return this.value.toLocaleString()},toLocaleTimeString(){return this.value.toLocaleTimeString()},toTimeString(){return this.value.toTimeString()},toUTCString(){return this.value.toUTCString()},toDate(){return new Date(this.value)}}),Object.assign(X,{timestamp(){return new Date().getTime()/1e3}}),Object.assign(X.prototype,{unix(t){let o;return!arguments.length||V(t)?Math.floor(this.valueOf()/1e3):(o=t*1e3,this.mutable?this.time(o):K(this.value).time(o))},timestamp(){return this.unix()}}),Object.assign(X,{isYesterday(t){const o=K(t).align("day"),f=K().align("day").add(-1,"day");return o.time()===f.time()}}),Object.assign(X.prototype,{isYesterday(){return X.isYesterday(this)},yesterday(){return this.mutable?this.add(-1,"day"):this.clone().immutable(!1).add(-1,"day").immutable(!this.mutable)}});var Ne=t=>{let o,f=Math.floor(t/1e3),e=Math.floor(f/60),i=Math.floor(e/60),r=Math.floor(i/24),d=Math.floor(r/30),g=Math.floor(d/12);return g>=1&&(o=`${g} year`),d>=1&&g<1&&(o=`${d} mon`),r>=1&&r<=30&&(o=`${r} days`),i&&i<24&&(o=`${i} hour`),e&&e>=40&&e<60&&(o="less a hour"),e&&e<40&&(o=`${e} min`),f&&f>=30&&f<60&&(o=`${f} sec`),f<30&&(o="few sec"),o};Object.assign(X,{timeLapse(t){let o=K(t),f=K(),e=f-o;return Ne(e)}}),Object.assign(X.prototype,{timeLapse(){let t=K()-+this;return Ne(t)}});var Pe={parseTime(t){if(!isNaN(t))return Math.abs(+t);const o=/([0-9]+d)|([0-9]{1,2}h)|([0-9]{1,2}m)|([0-9]{1,2}s)/gm;return t.match(o).reduce((e,i)=>{let r;return i.includes("d")?r=1e3*60*60*24*parseInt(i):i.includes("h")?r=1e3*60*60*parseInt(i):i.includes("m")?r=1e3*60*parseInt(i):i.includes("s")&&(r=1e3*parseInt(i)),e+r},0)}};Object.assign(X,Pe),Object.assign(X.prototype,{moon(){const t=["new-moon","waxing-crescent","first-quarter","waxing-gibbous","full-moon","waning-gibbous","last-quarter","waning-crescent"];return(()=>{let f=this.year(),e=this.month(),i=this.day(),r,d,g,_=r=d=g=0;return e<3&&(f--,e+=12),++e,_=365.25*f,r=30.6*e,d=_+r+i-694039.09,d/=29.5305882,g=parseInt(d),d-=g,g=Math.round(d*8),g>=8&&(g=0),{phase:g,name:t[g]}})()}});var Qe="3.2.5",mt="18.05.2025, 14:46:05",zt=()=>{console.info(`%c Datetime %c v${Qe} %c ${mt} `,"color: #ffffff; font-weight: bold; background: #003152","color: white; background: darkgreen","color: white; background: #0080fe;")};X.info=zt,X.correctDate=t=>K(t).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),globalThis.Datetime=X,globalThis.datetime=K,(()=>{const t=["january","february","march","april","may","june","july","august","september","october","november","december"],o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],f=X.getLocale;X.getLocale=function(e="en"){let i=e;if(!Metro)return f.call(this,e);Metro.locales[i]||(i="en");const r=Metro.locales[i],d=t.map((E,I)=>r[E]),g=t.map((E,I)=>r[`${E}_short`]),_=o.map((E,I)=>r[E]),C=o.map((E,I)=>r[`${E}_short`]),k=o.map((E,I)=>r[`${E}_short_2`]);return{months:d,monthsShort:g,weekdays:_,weekdaysShort:C,weekdaysMin:k,weekStart:r.weekStart}}})();var ei=Object.defineProperty,ue=(t,o)=>{for(var f in o)ei(t,f,{get:o[f],enumerable:!0})},W={};ue(W,{append:()=>pl,camelCase:()=>me,capitalize:()=>Se,chars:()=>z,count:()=>Ue,countChars:()=>et,countSubstr:()=>gt,countUniqueChars:()=>je,countUniqueWords:()=>Ct,countWords:()=>yt,dashedName:()=>U,decapitalize:()=>j,endsWith:()=>Gi,escapeHtml:()=>jt,first:()=>Va,includes:()=>cl,insert:()=>Cr,isAlpha:()=>Rt,isAlphaDigit:()=>zs,isBlank:()=>wr,isDigit:()=>Wa,isEmpty:()=>Ve,isLower:()=>vt,isString:()=>Dr,isUpper:()=>xr,kebab:()=>he,last:()=>Ma,lower:()=>L,lpad:()=>fa,ltrim:()=>gs,matches:()=>fl,nvl:()=>vl,pad:()=>Rs,prepend:()=>ml,prune:()=>Ps,repeat:()=>Bs,reverse:()=>ee,rpad:()=>rc,rtrim:()=>Ao,shorten:()=>cc,shuffle:()=>de,slice:()=>ri,snake:()=>Ce,split:()=>dl,sprintf:()=>Hs,startsWith:()=>kr,strip:()=>ja,stripBoom:()=>gl,stripTags:()=>Io,stripTagsAll:()=>Fo,substring:()=>os,swap:()=>le,title:()=>_e,trim:()=>at,truncate:()=>Ai,truncateWithAlign:()=>_i,unescapeHtml:()=>ca,unique:()=>da,uniqueWords:()=>Eo,upper:()=>ge,vsprintf:()=>Ki,words:()=>xe,wrap:()=>hl,wrapTag:()=>Sr});var Ee="\\d",bt="\\s\\uFEFF\\xA0",ot="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",Kt="\\u2000-\\u206F",Qt="\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7",Mt="\\u2700-\\u27BF",Nt="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",kt="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",Pt=new RegExp("^["+bt+"]+"),$t=new RegExp("["+bt+"]+$"),pn=new RegExp("^"+Ee+"+$"),lt=/[<>&"'`]/g,qn=/(<([^>]+)>)/ig,Yn=new RegExp("(?:["+kt+"]["+ot+"]*)?(?:["+Nt+"]["+ot+"]*)+|(?:["+kt+"]["+ot+"]*)+(?!["+Nt+"])|["+Ee+"]+|["+Mt+"]|[^"+Qt+Kt+bt+"]+","g"),en=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,Ei=new RegExp("^(?:["+Nt+kt+"]["+ot+"]*)+$"),st=new RegExp("^((?:["+Nt+kt+"]["+ot+"]*)|["+Ee+"])+$"),on=/^[\x01-\xFF]*$/,ut=(t,o="")=>!t&&typeof t!="number"&&typeof t!="boolean"?o:typeof t=="string"?t:Array.isArray(t)?t.join(""):JSON.stringify(t),ms=(t,o)=>typeof t>"u"||t===null?o:t,xe=(t,o,f)=>{let e;return o?o instanceof RegExp?e=o:e=new RegExp(o,ms(f,"")):e=on.test(t)?en:Yn,ms(ut(t).match(e),[])},Se=(t,o=!1)=>{let f=ut(t),e=f.substring(1);return f.substring(0,1).toUpperCase()+(o?e.toLowerCase():e)},me=t=>xe(ut(t)).map((o,f)=>f===0?o.toLowerCase():Se(o)).join(""),U=t=>xe(ut(t)).map(o=>o.toLowerCase()).join("-"),j=t=>{let o=ut(t);return o.substring(0,1).toLowerCase()+o.substr(1)},he=(t,o="-")=>xe(ut(t)).map(f=>f.toLowerCase()).join(o),L=t=>ut(t).toLowerCase(),z=(t,o=[])=>ut(t).split("").filter(f=>!o.includes(f)),ee=(t,o)=>z(ut(t),o).reverse().join(""),oe=(t=[])=>{let o=[...t],f=o.length,e,i;for(;f!==0;)i=Math.floor(Math.random()*f),f-=1,e=o[f],o[f]=o[i],o[i]=e;return o},de=t=>oe(ut(t).split("")).join(""),Ce=t=>xe(ut(t)).map(o=>o.toLowerCase()).join("_"),fe=(t,o)=>{let f=o.toLowerCase(),e=o.toUpperCase();return t+(o===f?e:f)},le=t=>ut(t).split("").reduce(fe,""),_e=(t,o,f="")=>{let e=ut(t),i=on.test(e)?en:Yn,r=Array.isArray(o)?o:typeof o!="string"?[]:o.split(f);return t.replace(i,(d,g)=>g&&r.includes(e[g-1])?L(d):Se(d))},ge=t=>ut(t).toUpperCase(),Ue=t=>ut(t).length,$e=(t=[])=>{let o=[...t];for(let f=0;f<o.length;++f)for(let e=f+1;e<o.length;++e)o[f]===o[e]&&o.splice(e--,1);return o},et=(t,o)=>z(t,o).length,je=(t,o)=>$e(z(t,o)).length,gt=(t,o="")=>{let f=ut(t),e=ut(o);return f===""||e===""?0:f.split(e).length-1},yt=(t,o,f)=>xe(t,o,f).length,Ct=(t,o,f)=>$e(xe(t,o,f)).length,pt={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function Wt(t){return pt[t]}var jt=t=>ut(t).replace(lt,Wt),mn={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},ti=Object.keys(mn);function Gn(t,o){return t.replace(mn[o],o)}var ca=t=>ti.reduce(Gn,ut(t)),da=(t,o)=>$e(z(t,o)).join(""),Eo=(t,o,f)=>$e(xe(t,o,f)).join(""),os=(t,o,f)=>ut(t).substring(o,f),Va=(t,o=0)=>os(ut(t),0,o),Ma=(t,o=0)=>{let f=ut(t);return f?os(f,f.length-o):""},ll="\uFEFF",gn=(t,o,f=9007199254740991)=>t<o?o:t>f?f:t,oi=t=>t===1/0?9007199254740991:t===-1/0?-9007199254740991:~~t,Ai=(t,o=0,f="...")=>{let e=ut(t),i=o?gn(oi(o),0,9007199254740991):e.length;return os(e,0,i)+(e.length===i?"":f)},_i=(t,o=0,f="...")=>{let e=Ai(t,o,"");return e.slice(t,e.lastIndexOf(" "))+f},ri=(t,o=1)=>{let f=ut(t),e=[],i=Math.round(f.length/o);for(let r=0;r<o;r++)e.push(os(f,r*i,i));return e},Ps=(t,o=0,f="")=>{let e=ut(t),i=o?gn(oi(o),0,9007199254740991):e.length,r=0,d=on.test(e)?en:Yn;return e.replace(d,(g,_)=>{let C=_+g.length;C<=i-f.length&&(r=C)}),e.substring(0,r)+f},Bs=(t,o=0)=>{let f=ut(t),e=o?gn(oi(o),0,9007199254740991):f.length,i=f;if(o===0)return"";for(let r=0;r<e-1;r++)f+=i;return f},Ns=(t,o=0)=>{let f=t.length,e=o-f;return Bs(t,e+1).substring(0,o)},ha=(t,o="",f=0,e=!1)=>{let i=ut(t),r=f?gn(oi(f),0,9007199254740991):i.length,d=o.length,g=r-i.length,_=g;if(g<=0||d===0)return i;let C=Ns(o,_);return e?C+i:i+C},fa=(t,o=" ",f=0)=>ha(t,o,f,!0),rc=(t,o=" ",f=0)=>ha(t,o,f,!1),Rs=(t,o="",f=0)=>{let e=ut(t),i=f?gn(oi(f),0,9007199254740991):e.length,r=o.length,d=i-e.length,g=oi(d/2),_=d%2;return d<=0||r===0?e:Ns(o,g)+e+Ns(o,g+_)},Cr=(t,o="",f=0)=>{let e=ut(t);return e.substring(0,f)+o+e.substring(f)},lc=Array.prototype.reduce,xn=Array.prototype.reduceRight,at=(t,o)=>gs(Ao(t,o),o),gs=(t,o)=>{let f=ut(t);if(!o)return f.replace(Pt,"");if(o===""||f==="")return f;typeof o!="string"&&(o="");let e=!0;return lc.call(f,(i,r)=>e&&o.includes(r)?i:(e=!1,i+r),"")},Ao=(t,o)=>{let f=ut(t);if(!o)return f.replace($t,"");if(o===""||f==="")return f;typeof o!="string"&&(o="");let e=!0;return xn.call(f,(i,r)=>e&&o.includes(r)?i:(e=!1,r+i),"")},Gi=(t,o,f)=>ut(t).endsWith(o,f),Rt=t=>Ei.test(ut(t)),zs=t=>st.test(ut(t)),Wa=t=>pn.test(ut(t)),wr=(t,o=!0)=>o?ut(t).length===0:at(t).length===0,Ve=t=>at(t).length===0,vt=t=>L(t)===t,xr=t=>ge(t)===t,kr=(t,o,f)=>ut(t).startsWith(o,f),Fo=t=>ut(t).replace(qn,""),Io=(t,o=[])=>{let f=ut(t),e=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return f.replace(e,(i,r)=>o.includes(r)?i:"")},Ci={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function _t(t,o){let f=1,e=t.length,i,r="",d,g,_,C,k,E;for(let I=0;I<e;I++)if(typeof t[I]=="string")r+=t[I];else if(typeof t[I]=="object"){if(d=t[I],d.keys){i=o[f];for(let B=0;B<d.keys.length;B++){if(typeof i>"u")throw new Error(Hs('[sprintf] Cannot access property "%s" of undefined value "%s"',d.keys[B],d.keys[B-1]));i=i[d.keys[B]]}}else d.param_no?i=o[d.param_no]:i=o[f++];if(Ci.not_type.test(d.type)&&Ci.not_primitive.test(d.type)&&i instanceof Function&&(i=i()),Ci.numeric_arg.test(d.type)&&typeof i!="number"&&isNaN(i))throw new TypeError(Hs("[sprintf] expecting number but found %T"));switch(Ci.number.test(d.type)&&(k=i>=0),d.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,d.width?parseInt(d.width):0);break;case"e":i=d.precision?parseFloat(i).toExponential(d.precision):parseFloat(i).toExponential();break;case"f":i=d.precision?parseFloat(i).toFixed(d.precision):parseFloat(i);break;case"g":i=d.precision?String(Number(i.toPrecision(d.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=d.precision?i.substring(0,d.precision):i;break;case"t":i=String(!!i),i=d.precision?i.substring(0,d.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=d.precision?i.substring(0,d.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=d.precision?i.substring(0,d.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase();break}Ci.json.test(d.type)?r+=i:(Ci.number.test(d.type)&&(!k||d.sign)?(E=k?"+":"-",i=i.toString().replace(Ci.sign,"")):E="",_=d.pad_char?d.pad_char==="0"?"0":d.pad_char.charAt(1):" ",C=d.width-(E+i).length,g=d.width&&C>0?_.repeat(C):"",r+=d.align?E+i+g:_==="0"?E+g+i:g+E+i)}return r}var ul=Object.create(null);function uc(t){if(ul[t])return ul[t];let o=t,f,e=[],i=0;for(;o;){if((f=Ci.text.exec(o))!==null)e.push(f[0]);else if((f=Ci.modulo.exec(o))!==null)e.push("%");else if((f=Ci.placeholder.exec(o))!==null){if(f[2]){i|=1;let r=[],d=f[2],g=[];if((g=Ci.key.exec(d))!==null)for(r.push(g[1]);(d=d.substring(g[0].length))!=="";)if((g=Ci.key_access.exec(d))!==null)r.push(g[1]);else if((g=Ci.index_access.exec(d))!==null)r.push(g[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");f[2]=r}else i|=2;if(i===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");e.push({placeholder:f[0],param_no:f[1],keys:f[2],sign:f[3],pad_char:f[4],align:f[5],width:f[6],precision:f[7],type:f[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");o=o.substring(f[0].length)}return ul[t]=e}var Hs=t=>_t(uc(t),arguments),Ki=(t,o)=>Hs.apply(null,[t].concat(o||[])),cl=(t,o,f)=>ut(t).includes(o,f),dl=(t,o=void 0,f=void 0,e=!0)=>ut(t).split(o,f).map(i=>e?i.trim():i).filter(i=>e?!Ve(i):!0),ja=(t,o=null,f="")=>{let e=ut(t),i;return o?(i=new RegExp(o,"g"),e.replace(i,f)):e},Sr=(t,o="div",f={})=>{let e=ut(t),i=Object.keys(f).map(r=>`${r}="${f[r]}"`).join(" ");return i&&(i=" "+i),`<${o}${i}>${e}</${o}>`},hl=(t,o="",f="")=>o+ut(t)+f,Dr=t=>typeof t=="string",fl=(t,o,f="")=>{let e=ut(t),i;if(!(o instanceof RegExp)){if(i=o?at(ut(o)):"",!i)return!1;o=new RegExp(i,f)}return o.test(e)},pl=(t,o="",f=1)=>ut(t)+Bs(o,f),ml=(t,o="",f=1)=>Bs(o,f)+ut(t),gl=t=>{let o=ut(t);return o===""?o:o[0]===ll?o.substring(1):o},cc=(t,o=5,f="...")=>t&&`${t.substring(0,o)}${f}${t.substring(t.length-o)}`,Th=t=>typeof t>"u"||t===null,vl=(t,...o)=>{if(!Th(t))return t;if(o.length===0)throw new Error("nvl: No default value provided");for(let f of o)if(typeof f<"u"&&f!==null)return f},Oi=class{constructor(t="",{mutable:o=!0}={}){this.value=t.toString(),this.mutable=o}[Symbol.toPrimitive](t){return t==="number"?+this.value:this.value}get[Symbol.toStringTag](){return"Str"}val(t){return typeof t>"u"||t===null?this.value:(this.value=t.toString(),this)}get length(){return this.value.length}immutable(t=!0){this.mutable=!t}toString(){return Array.isArray(this.value)?this.value.join(""):this.value}_result(t){return this.mutable?(this.value=t,this):dc(t)}camelCase(){return this._result(me(this.value))}capitalize(t){return this._result(Se(this.value,t))}chars(t){return this._result(z(this.value,t))}count(){return Ue(this.value)}countChars(t){return et(this.value,t)}countUniqueChars(t){return je(this.value,t)}countSubstr(t){return gt(this.value,t)}countWords(t,o){return et(this.value,t)}countUniqueWords(t,o){return je(this.value,t)}dashedName(){return this._result(U(this.value))}decapitalize(){return this._result(j(this.value))}endsWith(t,o){return Gi(this.value,t,o)}escapeHtml(){return this._result(jt(this.value))}first(){return this._result(Va(this.value))}includes(t,o){return cl(this.value,t,o)}insert(t,o){return this._result(Cr(this.value,t,o))}isAlpha(){return Rt(this.value)}isAlphaDigit(){return zs(this.value)}isBlank(t){return wr(this.value,t)}isDigit(){return Wa(this.value)}isEmpty(){return Ve(this.value)}isLower(){return vt(this.value)}static isString(t){return Dr(t)}isUpper(){return xr(this.value)}kebab(t){return this._result(he(this.value,t))}last(t){return this._result(Ma(this.value,t))}lower(){return this._result(L(this.value))}matches(t,o){return fl(this.value,t,o)}pad(t,o){return this._result(Rs(this.value,t,o))}lpad(t,o){return this._result(fa(this.value,t,o))}rpad(t,o){return this._result(rc(this.value,t,o))}prune(t,o){return this._result(Ps(this.value,t,o))}repeat(t){return this._result(Bs(this.value,t))}append(t,o){return this._result(pl(this.value,t,o))}prepend(t,o){return this._result(ml(this.value,t,o))}reverse(t){return this._result(ee(this.value,t))}shuffle(){return this._result(de(this.value))}slice(t){return this._result(ri(this.value,t))}snake(){return this._result(Ce(this.value))}split(t,o,f){return this._result(dl(this.value,t,o,f))}sprintf(...t){return this._result(Hs(this.value,...t))}vsprintf(...t){return this._result(Ki(this.value,...t))}startsWith(t,o){return kr(this.value,t,o)}stripBoom(){return this._result(gl(this.value))}stripTags(t){return this._result(Io(this.value,t))}stripTagsAll(){return this._result(Fo(this.value))}strip(t,o){return this._result(ja(this.value,t,o))}substring(t,o){return this._result(os(this.value,t,o))}swap(){return this._result(le(this.value))}title(t,o){return this._result(_e(this.value,t,o))}trim(t){return this._result(at(this.value,t))}ltrim(t){return this._result(gs(this.value,t))}rtrim(t){return this._result(Ao(this.value,t))}truncate(t,o){return this._result(Ai(this.value,t,o))}truncateWithAlign(t,o){return this._result(_i(this.value,t,o))}unescapeHtml(){return this._result(ca(this.value))}unique(t){return this._result(da(this.value,t))}uniqueWords(t,o){return this._result(Eo(this.value,t,o))}upper(){return this._result(ge(this.value))}words(t,o){return xe(this.value,t,o)}wrap(t,o){return this._result(hl(this.value,t,o))}wrapTag(t){return this._result(Sr(this.value,t))}shorten(t,o){return this._result(cc(this.value,t,o))}nvl(...t){return this._result(vl(this.value,...t))}};Object.assign(Oi,W);var dc=(t,o=!0)=>new Oi(t,{mutable:o}),Eh="0.10.2",Tr="18.05.2025, 14:39:06",Lo=()=>{console.info(`%c String %c v${Eh} %c ${Tr} `,"color: #000000; font-weight: bold; background: #fff200","color: white; background: darkgreen","color: white; background: #0080fe;")};Oi.info=Lo,globalThis.Str=Oi,globalThis.str=dc;var Ah=["opacity","zIndex"];function Fh(t){return typeof t=="string"||typeof t=="boolean"||typeof t=="number"}function Ua(t){const o=getComputedStyle(t),f=!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),e=o.visibility!=="hidden"&&o.display!=="none"&&o.opacity!=="0"&&t.style.display!=="none";return f&&e}function Ih(t){const o=getComputedStyle(t);return!Ua(t)||+o.opacity==0||t.hidden||o.visibility==="hidden"}function ft(t){return t==null}function Kn(t){return t.replace(/-([a-z])/g,function(o,f){return f.toUpperCase()})}function Lh(t){return t.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}function Vs(t){let o;return!t||Object.prototype.toString.call(t)!=="[object Object]"?!1:(o=t.prototype!==void 0,o?o.constructor&&typeof o.constructor=="function":!0)}function Ms(t){for(const o in t)if(bs(t,o))return!1;return!0}function vs(t){return t instanceof Object&&"length"in t}function rs(t,o){return o=o||" ",t.split(o).map(function(f){return(""+f).trim()}).filter(function(f){return f!==""})}function Ws(t,o){return o||(o=[0,""]),t=String(t),o[0]=parseFloat(t),o[1]=t.match(/[\d.\-+]*\s*(.*)/)[1]||"",o}function bl(t,o){const f=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn|fr|lh|cqw|cqh|cqi|cqb|cqmin|cqmax|q)?$/.exec(t);return typeof f[1]<"u"?f[1]:o}function yl(t,o,f){o=Kn(o),["scrollLeft","scrollTop"].indexOf(o)>-1?t[o]=parseInt(f):t.style[o]=isNaN(f)||Ah.indexOf(""+o)>-1?f:parseInt(f)===0?0:f+"px"}function Oo(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType}function _l(t){return typeof t!="string"?void 0:t.replace(/-/g,"").toLowerCase()}function bs(t,o){return Object.prototype.hasOwnProperty.call(t,o)}function Pi(t){const o=t||globalThis.location.hostname;return o==="localhost"||o==="127.0.0.1"||o==="[::1]"||o===""||o.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)!==null}function Oh(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function Ph(t){const o=t||globalThis.location.hostname;return/(^localhost)|(^127\.)|(^192\.168\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2\d\.)|(^172\.3[0-1]\.)|(^::1$)|(^[fF][cCdD])/.test(o)}function Cl(t){try{return JSON.parse(t)}catch{return t}}var ni=Element.prototype.matches,M=(t,o)=>new M.init(t,o);M.version="1.5.1",M.build_time="18.05.2025, 14:45:23",M.info=()=>console.info(`%c Dom %c v${M.version} %c ${M.build_time} `,"color: white; font-weight: bold; background: #fd6a02","color: white; background: darkgreen","color: white; background: #0080fe;"),M.fn=M.prototype=Object.create(Array.prototype),M.prototype.constructor=M,M.prototype.uid="",M.extend=M.fn.extend=function(){let t,o,f=arguments[0]||{},e=1,i=arguments.length;for(typeof f!="object"&&typeof f!="function"&&(f={}),e===i&&(f=this,e--);e<i;e++)if((t=arguments[e])!=null)for(o in t)bs(t,o)&&(f[o]=t[o]);return f},M.assign=function(){let t,o,f=arguments[0]||{},e=1,i=arguments.length;for(typeof f!="object"&&typeof f!="function"&&(f={}),e===i&&(f=this,e--);e<i;e++)if((t=arguments[e])!=null)for(o in t)bs(t,o)&&t[o]!==void 0&&(f[o]=t[o]);return f},function(t){try{const g=new Blob([`
            var fakeIdToId = {};
            onmessage = function (event) {
                var data = event.data,
                    name = data.name,
                    fakeId = data.fakeId,
                    time;
                if(data.hasOwnProperty('time')) {
                    time = data.time;
                }
                switch (name) {
                    case 'setInterval':
                        fakeIdToId[fakeId] = setInterval(function () {
                            postMessage({fakeId: fakeId});
                        }, time);
                        break;
                    case 'clearInterval':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearInterval(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                    case 'setTimeout':
                        fakeIdToId[fakeId] = setTimeout(function () {
                            postMessage({fakeId: fakeId});
                            if (fakeIdToId.hasOwnProperty (fakeId)) {
                                delete fakeIdToId[fakeId];
                            }
                        }, time);
                        break;
                    case 'clearTimeout':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearTimeout(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                }
            }
        `]);t=window.URL.createObjectURL(g)}catch{}let o,f={},e=0,i=2147483647,r="";function d(){do e===i?e=0:e++;while(f.hasOwnProperty(e));return e}if(!(typeof Worker>"u"))try{o=new Worker(t),window.setInterval=function(g,_){const C=d();return f[C]={callback:g,parameters:Array.prototype.slice.call(arguments,2)},o.postMessage({name:"setInterval",fakeId:C,time:_}),C},window.clearInterval=function(g){f.hasOwnProperty(g)&&(delete f[g],o.postMessage({name:"clearInterval",fakeId:g}))},window.setTimeout=function(g,_){const C=d();return f[C]={callback:g,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},o.postMessage({name:"setTimeout",fakeId:C,time:_}),C},window.clearTimeout=function(g){f.hasOwnProperty(g)&&(delete f[g],o.postMessage({name:"clearTimeout",fakeId:g}))},window.setImmediate=function(g){return setTimeout(g,0)},window.clearImmediate=function(g){clearTimeout(g)},o.onmessage=function(g){let _=g.data,C=_.fakeId,k,E,I;if(f.hasOwnProperty(C)&&(k=f[C],I=k.callback,E=k.parameters,k.hasOwnProperty("isTimeout")&&k.isTimeout&&delete f[C]),typeof I=="string")try{I=new Function(I)}catch(B){console.error(r+"Error parsing callback code string: ",B)}typeof I=="function"&&I.apply(window,E)},o.onerror=function(g){console.error(g)}}catch{console.log("Can't create worker for Intervals, use standard functions.")}}(),M.fn.extend({_getDefaultElement(t){let o;return ft(t)?o=this[0]:t instanceof HTMLElement?o=t:t instanceof M&&t.length>0?o=t[0]:typeof t=="string"?o=M(t)[0]:o=void 0,o},index:function(t){let o,f=-1;return this.length===0||(o=this._getDefaultElement(t),!o)||o&&o.parentNode&&M.each(o.parentNode.children,function(e){this===o&&(f=e)}),f},indexOf:function(t){let o,f=-1;return this.length===0||(o=this._getDefaultElement(t),!o)||this.each(function(e){this===o&&(f=e)}),f},get:function(t){return t===void 0?this:t<0?this[t+this.length]:t>this.length-1?void 0:this[t]},eq:function(t){return ft(t)?this:this.length>0?M.extend(M(this.get(t)),{_prevObj:this}):this},is:function(t){let o=!1;return this.length===0?!1:t instanceof M?this.same(t):(t===":selected"?this.each(function(){this.selected&&(o=!0)}):t===":checked"?this.each(function(){this.checked&&(o=!0)}):t===":visible"?(o=!1,this.each(function(){Ua(this)&&(o=!0)})):t===":hidden"?this.each(function(){const f=getComputedStyle(this);(this.getAttribute("type")==="hidden"||this.hidden||f.display==="none"||f.visibility==="hidden"||parseInt(f.opacity)===0)&&(o=!0)}):typeof t=="string"&&[":selected"].indexOf(t)===-1?this.each(function(){ni.call(this,t)&&(o=!0)}):vs(t)?this.each(function(){const f=this;M.each(t,function(){f===this&&(o=!0)})}):typeof t=="object"&&t.nodeType===1&&this.each(function(){this===t&&(o=!0)}),o)},same:function(t){let o=!0;return t instanceof M||(t=M(t)),this.length!==t.length?!1:(this.each(function(){t.items().indexOf(this)===-1&&(o=!1)}),o)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){const t=this.filter(function(o,f){return(f+1)%2!==0});return M.extend(t,{_prevObj:this})},even:function(){const t=this.filter(function(o,f){return(f+1)%2===0});return M.extend(t,{_prevObj:this})},filter:function(t){if(typeof t=="string"){const o=t;t=function(f){return ni.call(f,o)}}return M.extend(M.merge(M(),[].filter.call(this,t)),{_prevObj:this})},find:function(t){let o=[],f;return t instanceof M?t:(this.length===0?f=this:(this.each(function(){const e=this;typeof e.querySelectorAll>"u"||(o=o.concat([].slice.call(e.querySelectorAll(t))))}),f=M.merge(M(),o)),M.extend(f,{_prevObj:this}))},contains:function(t){return this.find(t).length>0},children:function(t){let o,f=[];return t instanceof M?t:(this.each(function(){const e=this;for(o=0;o<e.children.length;o++)e.children[o].nodeType===1&&f.push(e.children[o])}),f=t?f.filter(function(e){return ni.call(e,t)}):f,M.extend(M.merge(M(),f),{_prevObj:this}))},parent:function(t){let o=[];if(this.length!==0)return t instanceof M?t:(this.each(function(){this.parentNode&&o.indexOf(this.parentNode)===-1&&o.push(this.parentNode)}),o=t?o.filter(function(f){return ni.call(f,t)}):o,o.length?M.extend(M.merge(M(),o),{_prevObj:this}):void 0)},parents:function(t){let o=[];if(this.length!==0)return t instanceof M?t:(this.each(function(){let f=this.parentNode;for(;f;)f.nodeType===1&&o.indexOf(f)===-1&&(ft(t)||ni.call(f,t))&&o.push(f),f=f.parentNode}),M.extend(M.merge(M(),o),{_prevObj:this}))},siblings:function(t){let o=[];if(this.length!==0)return t instanceof M?t:(this.each(function(){const f=this;f.parentNode&&M.each(f.parentNode.children,function(){f!==this&&o.push(this)})}),t&&(o=o.filter(function(f){return ni.call(f,t)})),M.extend(M.merge(M(),o),{_prevObj:this}))},_siblingAll:function(t,o){let f=[];if(this.length!==0)return o instanceof M?o:(this.each(function(){let e=this;for(;e&&(e=e[t],!!e);)f.push(e)}),o&&(f=f.filter(function(e){return ni.call(e,o)})),M.extend(M.merge(M(),f),{_prevObj:this}))},_sibling:function(t,o){let f=[];if(this.length!==0)return o instanceof M?o:(this.each(function(){const e=this[t];e&&e.nodeType===1&&f.push(e)}),o&&(f=f.filter(function(e){return ni.call(e,o)})),M.extend(M.merge(M(),f),{_prevObj:this}))},prev:function(t){return this._sibling("previousElementSibling",t)},next:function(t){return this._sibling("nextElementSibling",t)},prevAll:function(t){return this._siblingAll("previousElementSibling",t)},nextAll:function(t){return this._siblingAll("nextElementSibling",t)},closest:function(t){let o=[];if(this.length===0)return;if(!t)return this.parent();let f=this[0];for(;f;){if(ni.call(f,t)){o.push(f);break}f=f.parentElement}return M.extend(M.merge(M(),o.reverse()),{_prevObj:this})},has:function(t){let o=[];if(this.length!==0)return this.each(function(){M(this).children(t).length>0&&o.push(this)}),M.extend(M.merge(M(),o),{_prevObj:this})},back:function(t){let o;if(t===!0)for(o=this._prevObj;o&&o._prevObj;)o=o._prevObj;else o=this._prevObj?this._prevObj:this;return o}});function Er(t,o=document.body){const f=document.createElement("script");if(f.type="text/javascript",ft(t))return M(f);const e=M(t)[0];return e.src?f.src=e.src:f.textContent=e.innerText,e.type&&(f.type=e.type),e.async&&(f.async=e.async),o.appendChild(f),e.parentNode&&e.parentNode.removeChild(e),f}M.extend({script:function(t,o){if(!ft(t))if(t instanceof M&&(t=t[0]),t.tagName&&t.tagName==="SCRIPT")Er(t,o);else{const f=M(t).find("script");M.each(f,function(){Er(this,o)})}},loadScript:function(t,o=document.body,f){const e=document.createElement("script");e.type="text/javascript",e.src=t,e.onload=f,o.appendChild(e)}}),M.fn.extend({script:function(t){return this.each(function(){M.script(this,t)})}}),M.fn.extend({_prop:function(t,o){return arguments.length===1?this.length===0?void 0:this[0][t]:(ft(o)&&(o=""),this.each(function(){const f=this;f[t]=o,t==="innerHTML"&&M.script(f,f)}))},prop:function(t,o){return arguments.length===1?this._prop(t):this._prop(t,typeof o>"u"?"":o)},val:function(t){return ft(t)?this.length===0?void 0:this[0].value:this.each(function(){const o=M(this);typeof this.value<"u"?this.value=t:o.html(t)})},html:function(t){const o=this,f=[];return arguments.length===0?this._prop("innerHTML"):(t instanceof M?t.each(function(){f.push(M(this).outerHTML())}):f.push(t),o._prop("innerHTML",f.join(`
`)),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(t){return arguments.length===0?this._prop("textContent"):this._prop("textContent",typeof t>"u"?"":t)},innerText:function(t){return arguments.length===0?this._prop("innerText"):this._prop("innerText",typeof t>"u"?"":t)},empty:function(){return this.each(function(){typeof this.innerHTML<"u"&&(this.innerHTML=""),typeof this.value<"u"&&(this.value="")})},clear:function(){return this.empty()}}),M.each=function(t,o){let f=0;if(typeof t!="object"&&(t=[]),vs(t))[].forEach.call(t,function(e,i){o.apply(e,[i,e])});else for(const e in t)bs(t,e)&&o.apply(t[e],[e,t[e],f++]);return t},M.fn.extend({each:function(t){return M.each(this,t)}});var Fi=function(t){this.expando="DATASET:UID:"+t.toUpperCase(),Fi.uid++};Fi.uid=-1,Fi.prototype={cache:function(t){let o=t[this.expando];return o||(o={},Oo(t)&&(t.nodeType?t[this.expando]=o:Object.defineProperty(t,this.expando,{value:o,configurable:!0}))),o},set:function(t,o,f){let e,i=this.cache(t);if(typeof o=="string")i[Kn(o)]=f;else for(e in o)bs(o,e)&&(i[Kn(e)]=o[e]);return i},get:function(t,o){let f=o===void 0?this.cache(t):t[this.expando]&&t[this.expando][Kn(o)];if(o)return f!==void 0?f:t.getAttribute&&t.getAttribute("data-"+Lh(o))||void 0;f={...t[this.expando]};for(const e of t.attributes)if(e.name.startsWith("data-")){const i=e.name.slice(5);f[Kn(i)]=e.value}return Ms(f)?void 0:f},access:function(t,o,f){return o===void 0||o&&typeof o=="string"&&f===void 0?this.get(t,o):(this.set(t,o,f),f!==void 0?f:o)},remove:function(t,o){let f=t[this.expando];if(f!==void 0){if(o!==void 0){const e=Array.isArray(o)?o:[o];for(const i of e)delete f[Kn(i)],t.removeAttribute&&t.removeAttribute("data-"+i)}return(o===void 0||Ms(f))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando]),!0}},hasData:function(t){const o=t[this.expando];return o!==void 0&&!Ms(o)}};var Xi=new Fi("dom");M.extend({hasData:function(t){return Xi.hasData(t)},data:function(t,o,f){return Xi.access(t,o,f)},removeData:function(t,o){return Xi.remove(t,o)},dataSet:function(t){if(ft(t))return Xi;if(["INTERNAL","DOM"].indexOf(t.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new Fi(t)}}),M.fn.extend({data:function(t,o){let f,e,i;if(this.length!==0){if(e=this[0],arguments.length===0){if(e&&(i=Xi.get(e),e.nodeType===1)){for(const r of e.attributes)if(r.name.startsWith("data-")){const d=r.name.slice(5);i[Kn(d)]=r.value}}return i}return arguments.length===1&&(typeof t=="string"||Array.isArray(t))?(f=Xi.get(e,t),Cl(f)):this.each(function(){Xi.set(this,t,o)})}},removeData:function(t){return typeof t>"u"?this:this.each(function(){const o=Array.isArray(t)?t:t.split(" ").map(f=>f.trim()).filter(f=>f!=="");for(const f of o)Xi.remove(this,f)})},origin:function(t,o,f){if(this.length===0)return this;if(ft(t)&&ft(o))return M.data(this[0]);if(ft(o)){const e=M.data(this[0],"origin-"+t);return ft(e)?f:e}return this.data("origin-"+t,o),this}}),M.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:Pi(),isLocalhost:Pi,touchable:Oh(),isPrivateAddress:Ph,hashCode:function(t){let o=0,f,e;if(t.length===0)return o;for(f=0;f<t.length;f++)e=t.charCodeAt(f),o=(o<<5)-o+e,o|=0;return o},uniqueId:function(t="salt"){let o;return typeof t=="function"?o=t.name:typeof t=="string"&&t?o=t:typeof t=="string"&&t.length===0?o="salt":o=t.toString(),"dom-"+M.hashCode(o)},toArray:function(t){let o,f=[];for(o=0;o<t.length;o++)f.push(t[o]);return f},import:function(t){const o=[];return this.each(t,function(){o.push(this)}),this.merge(M(),o)},merge:function(t,o){let f=+o.length,e=0,i=t.length;for(;e<f;e++)t[i++]=o[e];return t.length=i,t},type:function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)]$/,"$1").toLowerCase()},isSelector:function(t){if(typeof t!="string"||t.length===0||t==="#"||t===".")return!1;try{return document.querySelector(t),!0}catch{return!1}},remove:function(t){return M(t).remove()},isPlainObject:Vs,isEmptyObject:Ms,isArrayLike:vs,acceptData:Oo,not:ft,parseUnit:Ws,getUnit:bl,unit:Ws,isVisible:Ua,isHidden:Ih,matches:function(t,o){return ni.call(t,o)},random:function(t,o){return arguments.length===1&&vs(t)?t[Math.floor(Math.random()*t.length)]:Math.floor(Math.random()*(o-t+1)+t)},hasProp:bs,dark:globalThis.matchMedia&&globalThis.matchMedia("(prefers-color-scheme: dark)").matches,serializeToArray:function(t){const o=M(t)[0];if(!o||o.nodeName!=="FORM"){console.warn("Element is not a HTMLFromElement");return}let f,e,i=[];for(f=o.elements.length-1;f>=0;f=f-1)if(o.elements[f].name!=="")switch(o.elements[f].nodeName){case"INPUT":switch(o.elements[f].type){case"checkbox":case"radio":o.elements[f].checked&&i.push(o.elements[f].name+"="+encodeURIComponent(o.elements[f].value));break;case"file":break;default:i.push(o.elements[f].name+"="+encodeURIComponent(o.elements[f].value))}break;case"TEXTAREA":i.push(o.elements[f].name+"="+encodeURIComponent(o.elements[f].value));break;case"SELECT":switch(o.elements[f].type){case"select-one":i.push(o.elements[f].name+"="+encodeURIComponent(o.elements[f].value));break;case"select-multiple":for(e=o.elements[f].options.length-1;e>=0;e=e-1)o.elements[f].options[e].selected&&i.push(o.elements[f].name+"="+encodeURIComponent(o.elements[f].options[e].value));break}break;case"BUTTON":switch(o.elements[f].type){case"reset":case"submit":case"button":i.push(o.elements[f].name+"="+encodeURIComponent(o.elements[f].value));break}break}return i},serialize:function(t){return M.serializeToArray(t).join("&")},viewport:function(){const t=window,o=document,f=o.documentElement,e=o.getElementsByTagName("body")[0],i=t.innerWidth||f.clientWidth||e.clientWidth,r=t.innerHeight||f.clientHeight||e.clientHeight;return{width:i,height:r}}}),M.fn.extend({items:function(){return M.toArray(this)}});var wl=Event.prototype.stopPropagation,qa=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,wl.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,qa.apply(this,arguments)},Event.prototype.stop=function(t){return t?this.stopImmediatePropagation():this.stopPropagation()},M.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(t){let o,f=-1,e,i;if(this.events.length>0){for(o=0;o<this.events.length;o++)if(this.events[o].handler===null){f=o;break}}return e={element:t.el,event:t.event,handler:t.handler,selector:t.selector,ns:t.ns,id:t.id,options:t.options},f===-1?(this.events.push(e),i=this.events.length-1):(this.events[f]=e,i=f),i},getEventHandler:function(t){if(this.events[t]!==void 0&&this.events[t]!==null)return this.events[t]=null,this.events[t].handler},off:function(){return M.each(this.events,function(){this.element.removeEventListener(this.event,this.handler,!0)}),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(t,o,f="before"){return M.each(rs(t),(e,i)=>{const r=Kn(`${f}-${i}`);this.eventHooks[r]=o}),this},removeEventHook:function(t,o="before"){return M.each(rs(t),(f,e)=>{delete this.eventHooks[Kn(`${o}-${e}`)]}),this},removeEventHooks:function(t){const o=this;return ft(t)?this.eventHooks={}:M.each(rs(t),function(){delete o.eventHooks[Kn("before-"+this)],delete o.eventHooks[Kn("after-"+this)]}),this}}),M.fn.extend({on:function(t,o,f,e){if(this.length!==0)return typeof o=="function"&&(e=f||{},f=o,o=void 0),typeof e!="object"&&(e={}),this.each(function(i,r){M.each(rs(t),(d,g)=>{let _,C=g.split("."),k=_l(C[0]),E=e.ns?e.ns:C[1],I,B;M.eventUID++,_=q=>{let Z=q.target;const Q=M.eventHooks[Kn("before-"+k)],De=M.eventHooks[Kn("after-"+k)];if(typeof Q=="function"&&Q.call(Z,q),!o)f.call(r,q);else for(;Z&&Z!==r;){if(ni.call(Z,o)&&(f.call(Z,q),q.isPropagationStopped)){q.stopImmediatePropagation();break}Z=Z.parentNode}typeof De=="function"&&De.call(Z,q),e.once&&(I=+M(r).origin("event-"+q.type+(o?":"+o:"")+(E?":"+E:"")),isNaN(I)||M.events.splice(I,1))},Object.defineProperty(_,"name",{value:f.name&&f.name!==""?f.name:"func_event_"+k+"_"+M.eventUID}),B=k+(o?":"+o:"")+(E?":"+E:""),r.addEventListener(k,_,Ms(e)?!1:e),I=M.setEventHandler({el:r,event:k,handler:_,selector:o,ns:E,id:M.eventUID,options:Ms(e)?!1:e}),M(r).origin("event-"+B,I)})})},one:function(t,o,f,e={}){return typeof o=="function"&&(e=f||{},f=o,o=void 0),e.once=!0,this.on.apply(this,[t,o,f,e])},off:function(t,o,f){return Vs(o)&&(f=o,o=null),Vs(f)||(f={}),ft(t)||t.toLowerCase()==="all"?this.each(function(){const e=this;M.each(M.events,function(){const i=this;i.element===e&&(e.removeEventListener(i.event,i.handler,i.options),i.handler=null,M(e).origin("event-"+name+(i.selector?":"+i.selector:"")+(i.ns?":"+i.ns:""),null))})}):this.each(function(){const e=this;M.each(rs(t),function(){let i=this.split("."),r=_l(i[0]),d=f.ns?f.ns:i[1],g,_;g="event-"+r+(o?":"+o:"")+(d?":"+d:""),_=M(e).origin(g),_!==void 0&&M.events[_].handler&&(e.removeEventListener(r,M.events[_].handler,M.events[_].options),M.events[_].handler=null),M(e).origin(g,null)})})},trigger:function(t,o){return this.fire(t,o)},fire:function(t,o){let f,e;if(this.length!==0)return f=_l(t),["focus","blur"].indexOf(f)>-1?(this[0][f](),this):(e=new CustomEvent(f,{bubbles:!0,cancelable:!0,detail:o}),this.each(function(){this.dispatchEvent(e)}))}}),"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach(function(t){M.fn[t]=function(o,f,e){return arguments.length>0?this.on(t,o,f,e):this.fire(t)}}),M.fn.extend({hover:function(t,o){return this.mouseenter(t).mouseleave(o||t)}}),M.ready=function(t,o){document.addEventListener("DOMContentLoaded",t,o||!1)},M.load=function(t){return M(window).on("load",t)},M.unload=function(t){return M(window).on("unload",t)},M.fn.extend({unload:function(t){return this.length===0||this[0].self!==window?void 0:M.unload(t)}}),M.beforeunload=function(t){return typeof t=="string"?M(window).on("beforeunload",function(o){return o.returnValue=t,t}):M(window).on("beforeunload",t)},M.fn.extend({beforeunload:function(t){return this.length===0||this[0].self!==window?void 0:M.beforeunload(t)}}),M.fn.extend({ready:function(t){if(this.length&&this[0]===document&&typeof t=="function")return M.ready(t)}}),M.ajax=function(t){return new Promise(function(o,f){const e=new XMLHttpRequest;let i=(t.method||"GET").toUpperCase();const r=[],d=ft(t.async)?!0:t.async;let g=t.url,_;const C=function(I,B){typeof I=="function"&&I.apply(null,B)},k=function(I){return["GET","JSON"].indexOf(I)!==-1},E=function(I){const B=[];return M.each(I,function(q,Z){const Q=Fh(Z)?Z:JSON.stringify(Z);B.push(q+"="+Q)}),B.join("&")};if(t.data instanceof HTMLFormElement){let I=t.data.getAttribute("action").trim(),B=t.data.getAttribute("method").trim();ft(g)&&I&&(g=I),B&&(i=B.toUpperCase())}if(t.timeout&&(e.timeout=t.timeout),t.withCredentials&&(e.withCredentials=t.withCredentials),t.data instanceof HTMLFormElement)_=M.serialize(t.data);else if(t.data instanceof HTMLElement&&t.data.getAttribute("type")&&t.data.getAttribute("type").toLowerCase()==="file"){const I=t.data.getAttribute("name");_=new FormData;for(let B=0;B<t.data.files.length;B++)_.append(I,t.data.files[B])}else Vs(t.data)?_=E(t.data):t.data instanceof FormData||typeof t.data=="string"?_=t.data:(_=new FormData,_.append("_data",JSON.stringify(t.data)));k(i)&&(g+=typeof _=="string"?"?"+_:Ms(_)?"":"?"+JSON.stringify(_)),e.open(i,g,d,t.user,t.password),t.headers&&M.each(t.headers,function(I,B){e.setRequestHeader(I,B),r.push(I)}),k(i)||r.indexOf("Content-type")===-1&&t.contentType!==!1&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(_),e.addEventListener("load",function(I){if(e.readyState===4&&e.status<300){let B=t.returnValue&&t.returnValue==="xhr"?e:e.response;if(t.parseJson)try{B=JSON.parse(B)}catch{B={}}C(o,[B]),C(t.onSuccess,[I,e])}else C(f,[e]),C(t.onFail,[I,e]);C(t.onLoad,[I,e])}),M.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],function(){const I=Kn("on-"+(this==="readystatechange"?"state":this));e.addEventListener(I,function(B){C(t[I],[B,e])})})})},["GET","POST","PUT","PATCH","DELETE","JSON"].forEach(function(t){M[t.toLowerCase()]=function(o,f,e){const i={method:t==="JSON"?"GET":t,url:o,data:f,parseJson:t==="JSON"};return M.ajax(M.extend({},i,e))}}),M.fn.extend({load:function(t,o,f){const e=this;return this.length&&this[0].self===window?M.load(t):M.get(t,o,f).then(function(i){e.each(function(){this.innerHTML=i})})}}),M.fn.extend({style:function(t,o){let f;function e(i,r,d){return["scrollLeft","scrollTop"].includes(r)?M(i)[r]():getComputedStyle(i,d)[r]}if(!(typeof t=="string"&&this.length===0)){if(this.length===0)return this;if(f=this[0],!t||t==="all")return getComputedStyle(f,o);{let i={},r=t.split(", ").map(function(d){return(""+Kn(d)).trim()});return r.length===1?e(f,r[0],o):(M.each(r,function(){const d=this;i[this]=e(f,d,o)}),i)}}},removeStyleProperty:function(t){if(ft(t)||this.length===0)return this;const o=t.split(", ").map(function(f){return(""+f).trim()});return this.each(function(){const f=this;M.each(o,function(){f.style.removeProperty(this)})})},removeStyle:function(t){if(!t)return this;const o=rs(t,", ");return this.each(function(){const f=this;M.each(o,function(){f.style[this]=""})})},css:function(t,o){return t=t||"all",typeof t=="string"&&ft(o)?this.style(t):this.each(function(f,e){typeof t=="object"?M.each(t,function(i,r){yl(e,i,r)}):typeof t=="string"&&yl(e,t,o)})},cssVar:function(t,o){if(!ft(t))return ft(o)?getComputedStyle(this[0]).getPropertyValue("--"+t):this.each(function(){this.style.setProperty("--"+t,o)})}}),M.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(t){return this.hasClass(t)},hasClass:function(t){if(ft(t))return!1;let o=!1;const f=t.split(" ").filter(e=>(""+e).trim()!=="");return this.each(function(){const e=this;M.each(f,function(){!o&&e.classList&&e.classList.contains(this)&&(o=!0)})}),o},clearClasses:function(){return this.each(function(){this.className=""})},cls:function(t=!1){return this.length===0?void 0:t?this[0].className.split(" "):this[0].className},removeClassBy:function(t){return this.each(function(){const o=M(this),f=o.cls(!0);M.each(f,function(){const e=this;e.indexOf(t)>-1&&o.removeClass(e)})})},classNames:function(){const t=Array.prototype.slice.call(arguments,0),o=[];return M.each(t,function(f,e){typeof e=="string"?o.push(e):Vs(e)&&M.each(e,function(i,r){r&&o.push(i)})}),this.each(function(){this.className+=" "+o.join(" ")})}}),["add","remove","toggle"].forEach(function(t){M.fn[t+"Class"]=function(o){const f=o?Array.isArray(o)?o:o.split(" ").filter(function(e){return!!e}):[];return f.length?this.each(function(){const e=this;typeof e.classList<"u"?M.each(f,function(r,d){e.classList[t](d)}):e.className+=f.join(" ")}):this}}),M.parseHTML=function(t){let o,f,e=[],i,r;const d=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof t!="string"||t.trim()==="")return[];if(t=t.trim(),f=d.exec(t),f)e.push(document.createElement(f[1]));else{if(M.isSelector(t)){const g=document.querySelectorAll(t);if(g.length)for(const _ of g)e.push(_);return e.length===0&&e.push(document.createTextNode(t)),e}i=document.implementation.createHTMLDocument(""),o=i.createElement("base"),o.href=document.location.href,i.head.appendChild(o),r=i.body,r.innerHTML=t;for(let g=0;g<r.childNodes.length;g++)e.push(r.childNodes[g].cloneNode(!0))}return e},M.fn.extend({_size:function(t,o){if(this.length!==0){if(ft(o)){const f=this[0];if(t==="height")return f===window?window.innerHeight:f===document?f.body.clientHeight:parseInt(getComputedStyle(f).height);if(t==="width")return f===window?window.innerWidth:f===document?f.body.clientWidth:parseInt(getComputedStyle(f).width)}return this.each(function(){const f=this;f===window||f===document||(f.style[t]=isNaN(o)?o:+o==0?0:o+"px")})}},height:function(t){return this._size("height",t)},width:function(t){return this._size("width",t)},_sizeOut:function(t,o){let f,e,i,r;if(this.length===0)return;if(typeof o=="number")return this.each(function(){const _=this;if(_===window||_===document)return;let C,k=getComputedStyle(_),E=t==="width"?parseInt(k.borderLeftWidth)+parseInt(k.borderRightWidth):parseInt(k.borderTopWidth)+parseInt(k.borderBottomWidth),I=t==="width"?parseInt(k.paddingLeft)+parseInt(k.paddingRight):parseInt(k.paddingTop)+parseInt(k.paddingBottom);C=M(this)[t](o)[t]()-E-I,_.style[t]=C+"px"});const g=o===!0;return f=this[0],e=f[t==="width"?"offsetWidth":"offsetHeight"],i=getComputedStyle(f),r=e+parseInt(i[t==="width"?"marginLeft":"marginTop"])+parseInt(i[t==="width"?"marginRight":"marginBottom"]),g?r:e},outerWidth:function(t){return this._sizeOut("width",t)},outerHeight:function(t){return this._sizeOut("height",t)},padding:function(t){if(this.length===0)return;const o=getComputedStyle(this[0],t);return{top:parseInt(o.paddingTop),right:parseInt(o.paddingRight),bottom:parseInt(o.paddingBottom),left:parseInt(o.paddingLeft)}},margin:function(t){if(this.length===0)return;const o=getComputedStyle(this[0],t);return{top:parseInt(o.marginTop),right:parseInt(o.marginRight),bottom:parseInt(o.marginBottom),left:parseInt(o.marginLeft)}},border:function(t){if(this.length===0)return;const o=getComputedStyle(this[0],t);return{top:parseInt(o.borderTopWidth),right:parseInt(o.borderRightWidth),bottom:parseInt(o.borderBottomWidth),left:parseInt(o.borderLeftWidth)}}}),M.fn.extend({offset:function(t){if(t===void 0){if(this.length===0)return;let o=this[0].getBoundingClientRect();return{top:o.top+(window.scrollY||window.pageYOffset||document.documentElement.scrollTop||0),left:o.left+(window.scrollX||window.pageXOffset||document.documentElement.scrollLeft||0)}}return this.each(function(){let{top:o,left:f}=t,e=M(this),i=getComputedStyle(this).position,r=this.getBoundingClientRect(),d={top:r.top+(window.scrollY||window.pageYOffset||0),left:r.left+(window.scrollX||window.pageXOffset||0)};i==="static"&&e.css("position","relative"),["absolute","fixed"].indexOf(i)===-1&&(o=o-d.top,f=f-d.left),o&&e.css("top",o),f&&e.css("left",f)})},position:function(t=!1){let o=0,f=0,e,i;if(this.length!==0)return e=this[0],i=getComputedStyle(e),t&&(o=parseInt(i.marginLeft),f=parseInt(i.marginTop)),{left:e.offsetLeft-o,top:e.offsetTop-f}},left:function(t,o){if(this.length!==0)return ft(t)?this.position(o).left:typeof t=="boolean"?(o=t,this.position(o).left):this.each(function(){M(this).css({left:t})})},top:function(t,o=!1){if(this.length!==0)return ft(t)?this.position(o).top:typeof t=="boolean"?(o=t,this.position(o).top):this.each(function(){M(this).css({top:t})})},rect:function(){return this.length===0?void 0:this[0].getBoundingClientRect()},pos:function(){if(this.length===0)return;const t=M(this[0]);return{top:parseInt(t.style("top")),left:parseInt(t.style("left"))}}}),M.fn.extend({attr:function(t,o){const f={};if(!(this.length===0&&arguments.length===0))return this.length&&arguments.length===0?(M.each(this[0].attributes,function(){f[this.name]=this.value}),f):arguments.length===1&&typeof t=="string"?this.length&&this[0].nodeType===1&&this[0].hasAttribute(t)?this[0].getAttribute(t):void 0:this.each(function(){const e=this;Vs(t)?M.each(t,function(i,r){e.setAttribute(i,r)}):e.setAttribute(t,o)})},removeAttr:function(t){let o;return t?(o=typeof t=="string"?t.split(",").map(function(f){return f.trim()}):t,this.each(function(){const f=this;M.each(o,function(){f.hasAttribute(this)&&f.removeAttribute(this)})})):this.each(function(f,e){const i=M(e).attr();M.each(i,function(r){e.removeAttribute(r)})})},toggleAttr:function(t,o){return this.each(function(){const f=this;ft(o)?f.removeAttribute(t):f.setAttribute(t,o)})},id:function(t){return typeof t>"u"?this.length===1?M(this[0]).attr("id"):this.map(o=>M(o).attr("id")):this.each(function(){M(this).attr("id",t)})},title:function(t){return typeof t>"u"?this.length?M(this[0]).attr("title"):void 0:this.each(function(){M(this).attr("title",t)})},href:function(t){return typeof t>"u"?this.length&&this[0].tagName==="A"?this[0].href:void 0:this.each(function(){this.tagName==="A"&&(this.href=t)})},name:function(t){return typeof t>"u"?this.length&&this[0].name?this[0].name:void 0:this.each(function(){this.name&&(this.name=t)})},src:function(t){return typeof t>"u"?this.length&&this[0].src?this[0].src:void 0:this.each(function(){this.src&&(this.src=t)})}}),M.extend({meta:function(t){return ft(t)?M("meta"):M("meta[name='$name']".replace("$name",t))},metaBy:function(t){return ft(t)?M("meta"):M("meta[$name]".replace("$name",t))},doctype:function(){return M("doctype")},html:function(){return M("html")},head:function(){return M("html").find("head")},body:function(){return M("body")},document:function(){return M(document)},window:function(){return M(window)},charset:function(t){if(t){const o=M("meta[charset]");o.length>0&&o.attr("charset",t)}return document.characterSet},lang:function(t){if(t){const o=M("html");o.length>0&&o.attr("lang",t)}return document.documentElement.lang},title:function(t){if(typeof t>"u")return document.title;document.title=t}}),M.extend({bind:(t,o)=>t.bind(o)}),function(t){t.forEach(function(o){["append","prepend"].forEach(function(f){bs(o,f)||Object.defineProperty(o,f,{configurable:!0,enumerable:!0,writable:!0,value:function(){const e=Array.prototype.slice.call(arguments),i=document.createDocumentFragment();e.forEach(function(r){const d=r instanceof Node;i.appendChild(d?r:document.createTextNode(String(r)))}),f==="prepend"?this.insertBefore(i,this.firstChild):this.appendChild(i)}})})})}([Element.prototype,Document.prototype,DocumentFragment.prototype]);var ys=function(t){let o;return typeof t=="string"?o=M.isSelector(t)?M(t):M.parseHTML(t):t instanceof HTMLElement?o=[t]:vs(t)&&(o=t),o};M.fn.extend({appendText:function(t){return this.each(function(o,f){f.innerHTML+=t})},prependText:function(t){return this.each(function(o,f){f.innerHTML=t+f.innerHTML})},append:function(t){const o=ys(t);return this.each(function(f,e){M.each(o,function(){if(e===this)return;const i=f===0?this:this.cloneNode(!0);i.tagName&&i.tagName==="SCRIPT"?M.script(i,e):e.append(i)})})},appendTo:function(t){const o=ys(t);return this.each(function(f,e){M.each(o,function(i,r){e!==this&&r.append(i===0?e:e.cloneNode(!0))})})},prepend:function(t){const o=ys(t);return this.each(function(f,e){M.each(o,function(){if(e===this)return;const i=f===0?this:this.cloneNode(!0);M.script(i),i.tagName&&i.tagName!=="SCRIPT"&&e.prepend(i)})})},prependTo:function(t){const o=ys(t);return this.each(function(){const f=this;M.each(o,function(e,i){f!==this&&M(i).prepend(e===0?f:f.cloneNode(!0))})})},insertBefore:function(t){const o=ys(t);return this.each(function(){const f=this;M.each(o,function(e){if(f===this)return;const i=this.parentNode;i&&i.insertBefore(e===0?f:f.cloneNode(!0),this)})})},insertAfter:function(t){const o=ys(t);return this.each(function(){const f=this;M.each(o,function(e,i){if(f===this)return;const r=this.parentNode;r&&r.insertBefore(e===0?f:f.cloneNode(!0),i.nextSibling)})})},after:function(t){return this.each(function(){const o=this;typeof t=="string"?o.insertAdjacentHTML("afterend",t):M(t).insertAfter(o)})},before:function(t){return this.each(function(){const o=this;typeof t=="string"?o.insertAdjacentHTML("beforebegin",t):M(t).insertBefore(o)})},clone:function(t=!1,o=!1){const f=[];return this.each(function(){const e=this.cloneNode(t),i=M(e);let r;o&&M.hasData(this)&&(r=M(this).data(),M.each(r,function(d,g){i.data(d,g)})),f.push(e)}),M.merge(M(),f)},import:function(t){const o=[];return ft(t)&&(t=!1),this.each(function(){o.push(document.importNode(this,t))}),M.merge(M(),o)},adopt:function(){const t=[];return this.each(function(){t.push(document.adoptNode(this))}),M.merge(M(),t)},remove:function(t){let o=0,f,e,i=[];if(this.length!==0){for(e=t?this.filter(function(r){return ni.call(r,t)}):this.items();(f=e[o])!=null;o++)f.parentNode&&(i.push(f.parentNode.removeChild(f)),M.removeData(f));return M.merge(M(),i)}},wrap:function(t){if(this.length===0)return;const o=M(ys(t));if(!o.length)return;const f=[];return this.each(function(){let e,i;for(i=o.clone(!0,!0),i.insertBefore(this),e=i;e.children().length;)e=e.children().eq(0);e.append(this),f.push(i)}),M(f)},wrapAll:function(t){let o,f,e;if(this.length!==0&&(o=M(ys(t)),!!o.length)){for(f=o.clone(!0,!0),f.insertBefore(this[0]),e=f;e.children().length;)e=e.children().eq(0);return this.each(function(){e.append(this)}),f}},wrapInner:function(t){if(this.length===0)return;const o=M(ys(t));if(!o.length)return;const f=[];return this.each(function(){const e=M(this),i=e.html(),r=o.clone(!0,!0);e.html(r.html(i)),f.push(r)}),M(f)}}),M.extend({animation:{duration:1e3,ease:"linear",elements:{}}}),typeof window.setupAnimation=="object"&&M.each(window.setupAnimation,function(t,o){typeof M.animation[t]<"u"&&!ft(o)&&(M.animation[t]=o)});var Bh=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],Nh=["opacity","zIndex"],Rh=["opacity","volume"],hc=["scrollLeft","scrollTop"],fc=["opacity","volume"];function pc(t){return t instanceof HTMLElement||t instanceof SVGElement}function zh(t,o){const f=/^(\*=|\+=|-=)/.exec(t);if(!f)return t;const e=bl(t)||0,i=parseFloat(o),r=parseFloat(t.replace(f[0],""));switch(f[0][0]){case"+":return i+r+e;case"-":return i-r+e;case"*":return i*r+e;case"/":return i/r+e}}function Hh(t,o,f){return typeof t[o]<"u"?hc.indexOf(o)>-1?o==="scrollLeft"?t===window?scrollX:t.scrollLeft:t===window?scrollY:t.scrollTop:t[o]||0:t.style[o]||getComputedStyle(t,f)[o]}function Vh(t,o,f,e,i){ft(i)&&(i=!1),o=Kn(o),i&&(f=parseInt(f)),pc(t)?typeof t[o]<"u"?t[o]=f:t.style[o]=o==="transform"||o.toLowerCase().indexOf("color")>-1?f:f+e:t[o]=f}function mc(t,o,f){M.each(o,function(e,i){Vh(t,e,i[0]+i[2]*f,i[3],i[4])})}function gc(t){if(!pc(t))return{};const o=t.style.transform||"",f=/(\w+)\(([^)]*)\)/g,e={};let i;for(;i=f.exec(o);)e[i[1]]=i[2];return e}function Ar(t){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t||"#000000").slice(1).map(function(f){return parseInt(f,16)})}function Fr(t,o){return getComputedStyle(t)[o].replace(/[^\d.,]/g,"").split(",").map(function(f){return parseInt(f)})}function Ya(t,o,f){const e=[],i=gc(t);M.each(o,function(r,d){let g=d[0],_=d[1],C=d[2],k=d[3];r=""+r,(r.indexOf("rotate")>-1||r.indexOf("skew")>-1)&&k===""&&(k="deg"),r.indexOf("scale")>-1&&(k=""),r.indexOf("translate")>-1&&k===""&&(k="px"),k==="turn"?e.push(r+"("+_*f+k+")"):e.push(r+"("+(g+C*f)+k+")")}),M.each(i,function(r,d){o[r]===void 0&&e.push(r+"("+d+")")}),t.style.transform=e.join(" ")}function Mh(t,o,f){M.each(o,function(e,i){let r,d=[0,0,0],g;for(r=0;r<3;r++)d[r]=Math.floor(i[0][r]+i[2][r]*f);g="rgb("+d.join(",")+")",t.style[e]=g})}function vc(t){const o=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return t[0]==="#"&&t.length===4?"#"+t.replace(o,function(f,e,i,r){return e+e+i+i+r+r}):t[0]==="#"?t:"#"+t}function bc(t,o,f){mc(t,o.props,f),Ya(t,o.transform,f),Mh(t,o.color,f)}function Po(t,o,f){const e={props:{},transform:{},color:{}};let i,r,d,g,_,C;const k=gc(t);return ft(f)&&(f="normal"),M.each(o,function(E,I){const B=Bh.indexOf(""+E)>-1,q=Nh.indexOf(""+E)>-1,Z=(""+E).toLowerCase().indexOf("color")>-1;if(Array.isArray(I)&&I.length===1&&(I=I[0]),Array.isArray(I)?(r=Z?Ar(vc(I[0])):Ws(I[0]),d=Z?Ar(vc(I[1])):Ws(I[1])):(B?r=k[E]||E==="scale"?1:0:Z?r=Fr(t,E):r=Hh(t,E,void 0),r=Z?r:Ws(r),d=Z?Ar(I):Ws(zh(I,Array.isArray(r)?r[0]:r))),fc.indexOf(""+E)>-1&&r[0]===d[0]&&(r[0]=d[0]>0?0:1),f==="reverse"&&(C=r,r=d,d=C),_=t instanceof HTMLElement&&d[1]===""&&!q&&!B?"px":d[1],Z)for(g=[0,0,0],i=0;i<3;i++)g[i]=d[i]-r[i];else g=d[0]-r[0];B?e.transform[E]=[r[0],d[0],g,_]:Z?e.color[E]=[r,d,g,_]:e.props[E]=[r[0],d[0],g,_,Rh.indexOf(""+E)===-1]}),e}function Dn(t,o,f){return Math.min(Math.max(t,o),f)}var ls={linear:function(){return function(t){return t}}};ls.default=ls.linear;var Ir={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){let o,f=4;for(;t<((o=Math.pow(2,--f))-1)/11;);return 1/Math.pow(4,3-f)-7.5625*Math.pow((o*3-2)/22-t,2)}},Elastic:function(t,o){ft(t)&&(t=1),ft(o)&&(o=.5);const f=Dn(t,1,10),e=Dn(o,.1,2);return function(i){return i===0||i===1?i:-f*Math.pow(2,10*(i-1))*Math.sin((i-1-e/(Math.PI*2)*Math.asin(1/f))*(Math.PI*2)/e)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach(function(t,o){Ir[t]=function(){return function(f){return Math.pow(f,o+2)}}}),Object.keys(Ir).forEach(function(t){const o=Ir[t];ls["easeIn"+t]=o,ls["easeOut"+t]=function(f,e){return function(i){return 1-o(f,e)(1-i)}},ls["easeInOut"+t]=function(f,e){return function(i){return i<.5?o(f,e)(i*2)/2:1-o(f,e)(i*-2+2)/2}}});var Bo={id:null,el:null,draw:{},dur:M.animation.duration,ease:M.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function xl(t){return new Promise(function(o){const f=this,e=M.assign({},Bo,{dur:M.animation.duration,ease:M.animation.ease},t);let i=e.id,r=e.el,d=e.draw,g=e.dur,_=e.ease,C=e.loop,k=e.onStart,E=e.onFrame,I=e.onDone,B=e.pause,q=e.dir,Z=e.defer,Q={},De="linear",He=[],Me=ls.linear,Be,we=q==="alternate"?"normal":q,Ie=!1,Oe=i||+(performance.now()*Math.pow(10,14));if(ft(r))throw new Error("Unknown element!");if(typeof r=="string"&&(r=document.querySelector(r)),typeof d!="function"&&typeof d!="object")throw new Error("Unknown draw object. Must be a function or object!");g===0&&(g=1),q==="alternate"&&typeof C=="number"&&(C*=2),typeof _=="string"?(Be=/\(([^)]+)\)/.exec(_),De=_.split("(")[0],He=Be?Be[1].split(",").map(function(In){return parseFloat(In)}):[],Me=ls[De]||ls.linear):typeof _=="function"?Me=_:Me=ls.linear,M.animation.elements[Oe]={element:r,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};const Fe=function(){typeof d=="object"&&(Q=Po(r,d,we)),typeof k=="function"&&k.apply(r),M.animation.elements[Oe].loop+=1,M.animation.elements[Oe].started=performance.now(),M.animation.elements[Oe].duration=g,M.animation.elements[Oe].id=requestAnimationFrame(xt)},wt=function(){cancelAnimationFrame(M.animation.elements[Oe].id),delete M.animation.elements[i],typeof I=="function"&&I.apply(r),o(f)},xt=function(In){let vi,kn,{stop:Wi,pause:fs,started:jn}=M.animation.elements[Oe];if(M.animation.elements[Oe].paused&&(jn=In-M.animation.elements[Oe].t*g,M.animation.elements[Oe].started=jn),kn=((In-jn)/g).toFixed(4),kn>1&&(kn=1),kn<0&&(kn=0),vi=Me.apply(null,He)(kn),M.animation.elements[Oe].t=kn,M.animation.elements[Oe].p=vi,fs){M.animation.elements[Oe].id=requestAnimationFrame(xt);return}if(Wi>0){Wi===2&&(typeof d=="function"?d.bind(r)(1,1):bc(r,Q,1)),wt();return}typeof d=="function"?d.bind(r)(kn,vi):bc(r,Q,vi),typeof E=="function"&&E.apply(r,[kn,vi]),kn<=1&&(M.animation.elements[Oe].id=requestAnimationFrame(xt)),kn>=1&&(C?(q==="alternate"&&(we=we==="normal"?"reverse":"normal"),typeof C=="boolean"?setTimeout(function(){Fe()},B):C>M.animation.elements[Oe].loop?setTimeout(function(){Fe()},B):wt()):q==="alternate"&&!Ie?(we=we==="normal"?"reverse":"normal",Ie=!0,Fe()):wt())};Z>0?setTimeout(function(){Fe()},Z):Fe()})}function pa(t,o){const f=M.animation.elements[t];typeof f>"u"||(ft(o)&&(o=!0),f.stop=o===!0?2:1,typeof f.onStop=="function"&&f.onStop.apply(f.element))}function Wh(t,o){M.each(M.animation.elements,function(f,e){o?typeof o=="string"?ni.call(e.element,o)&&pa(f,t):o.length?M.each(o,function(){e.element===this&&pa(f,t)}):o instanceof Element&&e.element===o&&pa(f,t):pa(f,t)})}function js(t){const o=M.animation.elements[t];typeof o>"u"||(o.pause=1,o.paused=performance.now(),typeof o.onPause=="function"&&o.onPause.apply(o.element))}function yc(t){M.each(M.animation.elements,function(o,f){t?typeof t=="string"?ni.call(f.element,t)&&js(o):t.length?M.each(t,function(){f.element===this&&js(o)}):t instanceof Element&&f.element===t&&js(o):js(o)})}function Ga(t){const o=M.animation.elements[t];typeof o>"u"||(o.pause=0,o.paused=0,typeof o.onResume=="function"&&o.onResume.apply(o.element))}function jh(t){M.each(M.animation.elements,function(o,f){t?typeof t=="string"?ni.call(f.element,t)&&Ga(o):t.length?M.each(t,function(){f.element===this&&Ga(o)}):t instanceof Element&&f.element===t&&Ga(o):Ga(o)})}var _c={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};function kl(t,o){const f=M.extend({},_c,o);if(typeof f.loop!="boolean"&&f.loop--,!Array.isArray(t))return console.warn("Chain array is not defined!"),!1;const e=function(i,r){return i.then(function(){return typeof f.onChainItem=="function"&&f.onChainItem(r),xl(r).then(function(){typeof f.onChainItemComplete=="function"&&f.onChainItemComplete(r)})})};t.reduce(e,Promise.resolve()).then(function(){typeof f.onChainComplete=="function"&&f.onChainComplete(),f.loop&&kl(t,f)})}M.easing={},M.extend(M.easing,ls),M.extend({animate:function(t){let o,f,e,i,r;return arguments.length>1?(o=M(arguments[0])[0],f=arguments[1],e=arguments[2]||M.animation.duration,i=arguments[3]||M.animation.ease,r=arguments[4],typeof e=="function"&&(r=e,i=M.animation.ease,e=M.animation.duration),typeof i=="function"&&(r=i,i=M.animation.ease),xl({el:o,draw:f,dur:e,ease:i,onDone:r})):xl(t)},chain:kl,stop:pa,stopAll:Wh,resume:Ga,resumeAll:jh,pause:js,pauseAll:yc}),M.fn.extend({animate:function(t){const o=this;let f,e,i,r;const d=t;let g;return g=!Array.isArray(t)&&(arguments.length>1||arguments.length===1&&typeof arguments[0].draw>"u"),g?(f=arguments[0],e=arguments[1]||M.animation.duration,i=arguments[2]||M.animation.ease,r=arguments[3],typeof e=="function"&&(r=e,e=M.animation.duration,i=M.animation.ease),typeof i=="function"&&(r=i,i=M.animation.ease),this.each(function(){return M.animate({el:this,draw:f,dur:e,ease:i,onDone:r})})):Array.isArray(t)?(M.each(t,function(){const _=this;o.each(function(){_.el=this,M.animate(_)})}),this):this.each(function(){d.el=this,M.animate(d)})},chain:function(t,o){return this.each(function(){const f=this;M.each(t,function(){this.el=f}),M.chain(t,o)})},stop:function(t){return this.each(function(){const o=this;M.each(M.animation.elements,function(f,e){e.element===o&&pa(f,t)})})},pause:function(){return this.each(function(){const t=this;M.each(M.animation.elements,function(o,f){f.element===t&&js(o)})})},resume:function(){return this.each(function(){const t=this;M.each(M.animation.elements,function(o,f){f.element===t&&Ga(o)})})}}),M.extend({hidden:function(t,o,f){return t=M(t)[0],typeof o>"u"?(t.hidden=!t.hidden,this):(typeof o=="string"&&(o=o.toLowerCase()==="true"),typeof o=="function"&&(f=o,o=!t.hidden),t.hidden=o,typeof f=="function"&&(M.bind(f,t),f.call(t,arguments)),this)},hide:function(t,o){const f=M(t);t=f[0];const e=t.style.display,i=getComputedStyle(t,null).display;return f.origin("display",{inline:e,css:i}),t.style.display="none",typeof o=="function"&&(M.bind(o,t),o.call(t,arguments)),this},show:function(t,o){const e=M(t).origin("display");if(t=M(t)[0],t.style.display="",e){const i=e.inline||"",r=e.css||"";i&&i!=="none"?t.style.display=i:r==="none"&&(t.style.display="block")}else t.style.display="block";return parseInt(t.style.opacity)===0&&(t.style.opacity="1"),typeof o=="function"&&(M.bind(o,t),o.call(t,arguments)),this},visible:function(t,o,f){return o===void 0&&(o=!0),t.style.visibility=o?"visible":"hidden",typeof f=="function"&&(M.bind(f,t),f.call(t,arguments)),this},toggle:function(t,o){const f=getComputedStyle(t,null).display!=="none"?"hide":"show";return M[f](t,o)}}),M.fn.extend({hide:function(){let t;return M.each(arguments,function(){typeof this=="function"&&(t=this)}),this.each(function(){M.hide(this,t)})},show:function(){let t;return M.each(arguments,function(){typeof this=="function"&&(t=this)}),this.each(function(){M.show(this,t)})},visible:function(t,o){return this.each(function(){M.visible(this,t,o)})},toggle:function(t){return this.each(function(){M.toggle(this,t)})},hidden:function(t,o){return this.each(function(){M.hidden(this,t,o)})}}),M.extend({fx:{off:!1}}),M.fn.extend({fadeIn:function(t,o,f){return this.each(function(){const e=this,i=M(e),r=!(!Ua(e)||Ua(e)&&+i.style("opacity")==0);if(ft(t)&&ft(o)&&ft(f)?(f=null,t=M.animation.duration):typeof t=="function"&&(f=t,t=M.animation.duration),typeof o=="function"&&(f=o,o=M.animation.ease),M.fx.off&&(t=0),r)return typeof f=="function"&&M.bind(f,this)(),this;const d=i.origin("display",void 0,"block");return e.style.opacity="0",e.style.display=d,M.animate({el:e,draw:{opacity:1},dur:t,ease:o,onDone:function(){typeof f=="function"&&M.bind(f,this)()}})})},fadeOut:function(t,o,f){return this.each(function(){const e=this,i=M(e);return ft(t)&&ft(o)&&ft(f)?(f=null,t=M.animation.duration):typeof t=="function"&&(f=t,t=M.animation.duration),typeof o=="function"&&(f=o,o=M.animation.ease),i.origin("display",i.style("display")),Ua(e)?M.animate({el:e,draw:{opacity:0},dur:t,ease:o,onDone:function(){this.style.display="none",typeof f=="function"&&M.bind(f,this)()}}):(typeof f=="function"&&M.bind(f,this)(),this)})},slideUp:function(t,o,f){return this.each(function(){const e=this,i=M(e);let r;if(i.height()!==0)return ft(t)&&ft(o)&&ft(f)?(f=null,t=M.animation.duration):typeof t=="function"&&(f=t,t=M.animation.duration),typeof o=="function"&&(f=o,o=M.animation.ease),r=i.height(),i.origin("height",r),i.origin("display",M(e).style("display")),i.css({overflow:"hidden"}),M.animate({el:e,draw:{height:0},dur:t,ease:o,onDone:function(){i.hide().removeStyleProperty("overflow, height"),typeof f=="function"&&M.bind(f,this)()}})})},slideDown:function(t,o,f){return this.each(function(){const e=this,i=M(e);let r,d;return ft(t)&&ft(o)&&ft(f)?(f=null,t=M.animation.duration):typeof t=="function"&&(f=t,t=M.animation.duration),typeof o=="function"&&(f=o,o=M.animation.ease),i.show().visible(!1),r=+i.origin("height",void 0,i.height()),parseInt(r)===0&&(r=e.scrollHeight),d=i.origin("display",i.style("display"),"block"),i.height(0).visible(!0),i.css({overflow:"hidden",display:d==="none"?"block":d}),M.animate({el:e,draw:{height:r},dur:t,ease:o,onDone:function(){M(e).removeStyleProperty("overflow, height, visibility"),typeof f=="function"&&M.bind(f,this)()}})})},moveTo:function(t,o,f,e,i){const r={top:o,left:t};return typeof f=="function"&&(i=f,f=M.animation.duration,e=M.animation.ease),typeof e=="function"&&(i=e,e=M.animation.ease),this.each(function(){M.animate({el:this,draw:r,dur:f,ease:e,onDone:i})})},centerTo:function(t,o,f,e,i){return typeof f=="function"&&(i=f,f=M.animation.duration,e=M.animation.ease),typeof e=="function"&&(i=e,e=M.animation.ease),this.each(function(){const r={left:t-this.clientWidth/2,top:o-this.clientHeight/2};M.animate({el:this,draw:r,dur:f,ease:e,onDone:i})})},colorTo:function(t,o,f,e){const i={color:t};return typeof o=="function"&&(e=o,o=M.animation.duration,f=M.animation.ease),typeof f=="function"&&(e=f,f=M.animation.ease),this.each(function(){M.animate({el:this,draw:i,dur:o,ease:f,onDone:e})})},backgroundTo:function(t,o,f,e){const i={backgroundColor:t};return typeof o=="function"&&(e=o,o=M.animation.duration,f=M.animation.ease),typeof f=="function"&&(e=f,f=M.animation.ease),this.each(function(){M.animate({el:this,draw:i,dur:o,ease:f,onDone:e})})},zoomIn:function(t,o,f){const e={scale:[0,1]};return typeof t=="function"&&(f=t,t=M.animation.duration,o=M.animation.ease),typeof o=="function"&&(f=o,o=M.animation.ease),this.each(function(){M.animate({el:this,draw:e,dur:t,ease:o,onDone:f})})},zoomOut:function(t=1e3,o="linear",f=()=>{}){return typeof t=="function"&&(f=t,t=M.animation.duration,o=M.animation.ease),typeof o=="function"&&(f=o,o=M.animation.ease),this.each(function(){M.animate({el:this,draw:{scale:0},dur:t,ease:o,onDone:f})})}}),M.extend({scrollTop:function(t){if(ft(t))return window.scrollY;window.scrollTo(window.scrollX,t)},scrollLeft:function(t){if(ft(t))return window.scrollX;window.scrollTo(t,window.scrollY)},scrollTo:function(t,o){window.scrollTo(t,o)},scrollToElement:function(t){M(t).scrollTo()}}),M.fn.extend({scrollTop:function(t){return ft(t)?this.length===0?void 0:this[0]===window?scrollY:this[0].scrollTop:this.each(function(){if(this===window){window.scrollTo(window.scrollX,t);return}this.scrollTop=t})},scrollLeft:function(t){return ft(t)?this.length===0?void 0:this[0]===window?scrollX:this[0].scrollLeft:this.each(function(){if(this===window){window.scrollTo(t,window.scrollY);return}this.scrollLeft=t})},scrollTo:function(t=!1){if(this.length===0)return this;const o=this[0].getBoundingClientRect(),f=o.left+(t?0:window.scrollX),e=o.top+(t?0:window.scrollY);return window.scrollTo(f,e),this}}),M.init=function(t,o){let f;const e=this;if(typeof t=="string"&&(t=t.trim()),this.uid=M.uniqueId(),!t)return this;if(typeof t=="function")return M.ready(t);if(t instanceof Element)return this.push(t),this;if(t instanceof M)return M.each(t,function(){e.push(this)}),this;if(t==="window"||t===window)return this.push(window),this;if(t==="document"||t===document)return this.push(document),this;if(t==="body"||t===document.body)return this.push(document.body),this;if(t==="html"||t===document.documentElement)return this.push(document.documentElement),this;if(t==="doctype"||t===document.doctype)return this.push(document.doctype),this;if(t&&t.nodeType)return this.push(t),this;if(vs(t))return M.each(t,function(){M(this).each(function(){e.push(this)})}),this;if(typeof t!="string"&&t.self&&t.self!==window)return this;if(t==="#"||t===".")return this;if(t[0]==="@")M("[data-role]").each(function(){rs(M(this).attr("data-role"),",").indexOf(t.slice(1))>-1&&e.push(this)});else{f=M.parseHTML(t);for(let i=0;i<f.length;i++)f[i].nodeType===1&&this.push(f[i])}return o!==void 0&&(o instanceof M?this.each(function(){M(o).append(e)}):o instanceof HTMLElement?M(o).append(e):Vs(o)&&M.each(this,function(){for(const i in o)bs(o,i)&&this.setAttribute(i,o[i])})),this},M.init.prototype=M.fn,globalThis.$=M,globalThis.Dom=M;var Cc={};s(Cc,{EVENTS:()=>Zi,info:()=>Ac,useClickOutside:()=>No,useCompose:()=>_s,useCookie:()=>Lr,useCurry:()=>Sl,useDebounce:()=>wc,useEvent:()=>ma,useId:()=>qh,useInterval:()=>kc,useMediaQuery:()=>Dl,useMemo:()=>Ka,usePipe:()=>us,useQueue:()=>Sc,useState:()=>Kh,useThrottle:()=>Dc,useToggle:()=>Tc});function No(t,o){if(!t)return{attach:()=>{},detach:()=>{}};const f=r=>{t.contains(r.target)||o()};return{attach:()=>document.addEventListener("click",f),detach:()=>document.removeEventListener("click",f)}}function _s(...t){if(!t.every(o=>typeof o=="function"))throw new Error("useCompose: All arguments should be functions");switch(t.length){case 0:return o=>o;case 1:return t[0];case 2:{const[o,f]=t;return(...e)=>o(f(...e))}default:return function(...f){let e=t[t.length-1](...f);for(let i=t.length-2;i>=0;i--)e=t[i](e);return e}}}function Lr(t){function o(){const i=document.cookie.match(new RegExp(`(?:^|; )${t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")}=([^;]*)`));return i?decodeURIComponent(i[1]):null}function f(i,r={}){r={path:"/",...r},document.cookie=`${t}=${encodeURIComponent(i)}; ${Object.keys(r).map(d=>`${d}=${r[d]}`).join("; ")}`}function e(){f("",{"max-age":-1})}return{get:o,set:f,delete:e}}function Sl(t){if(typeof t!="function")throw new Error("useCurry: первый аргумент должен быть функцией");return function o(...f){return f.length>=t.length?t.apply(this,f):function(...e){return o.apply(this,f.concat(e))}}}function wc(t,o,f={}){if(typeof t!="function")throw new Error("useDebounce: первый аргумент должен быть функцией");if(o<0)throw new Error("useDebounce: время ожидания должно быть положительным числом");let e=null,i;function r(...d){const g=this,_=f.immediate&&!e;return e!==null&&clearTimeout(e),e=setTimeout(()=>{e=null,f.immediate||(i=t.apply(g,d))},o),_&&(i=t.apply(g,d)),i}return r.cancel=function(){e!==null&&(clearTimeout(e),e=null)},r}var Zi=(t=>(t.LOAD="load",t.VIEWPORT="viewport",t.ATTRIBUTE="attribute",t.CHILDREN="children",t.DATA="data",t))(Zi||{}),ma=({event:t,root:o,target:f,effect:e})=>{const i=typeof f=="string"?document.querySelector(f):f;if(typeof e!="function")throw Error("Side effect must be a function!");if(!i)throw Error("Please specify a target element!");switch(t){case"load":{new MutationObserver((d,g)=>{const _=document.querySelector(f);_!==null&&(e(_),g.disconnect())}).observe(document.body,{childList:!0,subtree:!0});break}case"viewport":{const d={root:o instanceof HTMLElement?o:typeof o=="string"?document.querySelector(o):null,rootMargin:"0px",threshold:.5};new IntersectionObserver((_,C)=>{for(const k of _)k.isIntersecting&&e(i)},d).observe(i);break}case"attribute":{new MutationObserver(d=>{for(const g of d)g.target===i&&g.type==="attributes"&&e(i,g.attributeName,i.getAttribute(g.attributeName))}).observe(i,{attributes:!0});break}case"children":{new MutationObserver(d=>{for(const g of d)g.target===i&&g.type==="childList"&&e(i,g.addedNodes,g.removedNodes)}).observe(i,{childList:!0,subtree:!0});break}case"data":{new MutationObserver(d=>{for(const g of d)g.target===i&&g.type==="characterData"&&e(i,i.textContent)}).observe(i,{characterData:!0});break}default:i instanceof HTMLElement&&i.addEventListener(t,r=>{e(i,r)})}},Ro=new Map,Uh=0;function xc(t){return t.replace(/[^a-zA-Z0-9_-]/g,"_")}function qh(t,o={}){const f=t??Symbol("id-key"),{divider:e="-",prefix:i="id",forceNew:r=!1}=o;if(!r&&Ro.has(f))return Ro.get(f);const d=typeof document<"u",g=1e3;let _=0;const C=()=>{let E;return t instanceof HTMLElement?E=t.tagName.toLowerCase():typeof t=="object"&&t!==null?E="object":t!==void 0?E=xc(String(t)):E="generic",`${i}${e}${E}${e}${Uh++}`};let k=C();if(d)for(;document.getElementById(k);){if(_++>g)throw new Error("useId: не удалось сгенерировать уникальный ID после многочисленных попыток");k=C()}return Ro.set(f,k),k}function kc(t,o){let f=null;function e(){f||(f=window.setInterval(()=>t(),o))}function i(){f&&(window.clearInterval(f),f=null)}return{start:e,stop:i}}function Dl(t){const o=window.matchMedia(t);function f(){return o.matches}let e=f();function i(){e=f()}return o.addEventListener("change",i),e}var Ka=(t,o={})=>{const f=new Map,{maxSize:e}=o,i=(...r)=>{const d=JSON.stringify(r);if(f.has(d))return f.get(d);const g=t(...r);if(e&&f.size>=e){const _=f.keys().next().value;typeof _=="string"&&f.delete(_)}return f.set(d,g),g};return i.clearCache=()=>(f.clear(),!0),i};function us(...t){if(!t.every(o=>typeof o=="function"))throw new Error("usePipe: все аргументы должны быть функциями");switch(t.length){case 0:return o=>o;case 1:return t[0];case 2:{const[o,f]=t;return(...e)=>f(o(...e))}default:return function(...f){let e=t[0](...f);for(let i=1;i<t.length;i++)e=t[i](e);return e}}}function Sc(){const t=[];return{enqueue:o=>(t.push(o),t.length),dequeue:()=>t.shift(),peek:()=>t[0]||null,size:()=>t.length,isEmpty:()=>t.length===0,clear:()=>{t.length=0}}}var Us=[],Yh=-1,Gh=class{constructor(t){this.index=t}valueOf(){return Us[this.index].value}toString(){const t=Us[this.index].value;return String(t)}[Symbol.toPrimitive](t){const o=Us[this.index].value;return t==="number"&&typeof o=="number"?o:t==="string"?String(o):o}},Kh=(t,o)=>{const f=Yh++;return Us[f]||(Us[f]={value:t}),[new Gh(f),r=>{const d=Us[f].value,g=typeof r=="function"?r(d):r;Us[f].value=g,typeof o=="function"&&o(g,d)}]};function Dc(t,o,f={}){if(typeof t!="function")throw new Error("useThrottle: первый аргумент должен быть функцией");if(o<0)throw new Error("useThrottle: время ожидания должно быть положительным числом");let e=null,i=null,r=null,d,g=null;const{leading:_=!0,trailing:C=!0}=f;function k(){d=t.apply(r,i),i=r=null,g=Date.now()}function E(...I){const B=Date.now();!g&&!_&&(g=B);const q=o-(B-g);return i=I,r=this,q<=0||q>o?(e&&(clearTimeout(e),e=null),k()):!e&&C&&(e=setTimeout(()=>{e=null,C&&i&&k()},q)),d}return E.cancel=function(){e&&(clearTimeout(e),e=null),i=r=null,g=null},E}function Tc(t=!1){let o=t;return{get:()=>o,toggle:()=>(o=!o,o),set:f=>(o=f,o)}}var zo="0.13.0",Ec="07.03.2025, 23:32:05",Ac=()=>{console.info(`%c Hooks %c v${zo} %c ${Ec} `,"color: #ffffff; font-weight: bold; background: #5c2c05","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Hooks=Cc;var Tl=Object.defineProperty,Or=(t,o)=>{for(var f in o)Tl(t,f,{get:o[f],enumerable:!0})},El={};Or(El,{Primitives:()=>Fc,add:()=>Xn,brighten:()=>Tn,cmyk2rgb:()=>Ll,cmyk2websafe:()=>no,colorDefaultProps:()=>cs,colorToString:()=>Br,colorType:()=>Ni,colorTypes:()=>bn,create:()=>va,createColor:()=>Pr,createColorScheme:()=>En,darken:()=>Ks,desaturate:()=>Bc,equal:()=>Fl,expand:()=>di,expandHexColor:()=>Ji,grayscale:()=>Lc,hex2hsv:()=>Zh,hex2rgb:()=>$a,hex2websafe:()=>Ic,hsl2hsv:()=>Rr,hsl2websafe:()=>Ol,hsv2hex:()=>Nr,hsv2hsl:()=>eo,hsv2rgb:()=>Ds,hsv2websafe:()=>Vo,hueShift:()=>Oc,isCMYK:()=>Ys,isColor:()=>Bi,isDark:()=>ds,isHEX:()=>Gs,isHSL:()=>Qa,isHSLA:()=>qs,isHSV:()=>hs,isLight:()=>ws,isPrimitive:()=>ao,isRGB:()=>xs,isRGBA:()=>ks,lighten:()=>Ii,mix:()=>ii,multiply:()=>Pl,parse:()=>ya,parseColor:()=>$i,random:()=>Jh,randomColor:()=>Bl,rgb2cmyk:()=>Il,rgb2hex:()=>Ss,rgb2hsv:()=>ki,rgb2websafe:()=>Ri,rgba2websafe:()=>to,saturate:()=>so,shade:()=>Pc,spin:()=>hi,test:()=>Al,toCMYK:()=>io,toColor:()=>Mn,toHEX:()=>Si,toHSL:()=>Ts,toHSLA:()=>ba,toHSV:()=>Qi,toRGB:()=>Xt,toRGBA:()=>zi,websafe:()=>zr});var vn=class{constructor(t=0,o=0,f=0){this.h=t,this.s=o,this.v=f}toString(){return"hsv("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.v*100)+"%"].join(",")+")"}},li=class{constructor(t=0,o=0,f=0){this.h=t,this.s=(""+o).includes("%")?parseInt(o)/100:o,this.l=(""+f).includes("%")?parseInt(f)/100:f}toString(){return"hsl("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%"].join(",")+")"}},Xa=class{constructor(t=0,o=0,f=0,e=0){this.h=t,this.s=(""+o).includes("%")?parseInt(o)/100:o,this.l=(""+f).includes("%")?parseInt(f)/100:f,this.a=e}toString(){return"hsla("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%",parseFloat(this.a).toFixed(2)].join(",")+")"}},ui=class{constructor(t=0,o=0,f=0){this.r=t,this.g=o,this.b=f}toString(){return`rgb(${this.r},${this.g},${this.b})`}},Cs=class{constructor(t=0,o=0,f=0,e=0){this.r=t,this.g=o,this.b=f,this.a=e}toString(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}},Za=class{constructor(t=0,o=0,f=0,e=0){this.c=t,this.m=o,this.y=f,this.k=e}toString(){return`cmyk(${this.c},${this.m},${this.y},${this.k})`}},ga={aliceBlue:"#f0f8ff",antiqueWhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedAlmond:"#ffebcd",blue:"#0000ff",blueViolet:"#8a2be2",brown:"#a52a2a",burlyWood:"#deb887",cadetBlue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerBlue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkBlue:"#00008b",darkCyan:"#008b8b",darkGoldenRod:"#b8860b",darkGray:"#a9a9a9",darkGreen:"#006400",darkKhaki:"#bdb76b",darkMagenta:"#8b008b",darkOliveGreen:"#556b2f",darkOrange:"#ff8c00",darkOrchid:"#9932cc",darkRed:"#8b0000",darkSalmon:"#e9967a",darkSeaGreen:"#8fbc8f",darkSlateBlue:"#483d8b",darkSlateGray:"#2f4f4f",darkTurquoise:"#00ced1",darkViolet:"#9400d3",deepPink:"#ff1493",deepSkyBlue:"#00bfff",dimGray:"#696969",dodgerBlue:"#1e90ff",fireBrick:"#b22222",floralWhite:"#fffaf0",forestGreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostWhite:"#F8F8FF",gold:"#ffd700",goldenRod:"#daa520",gray:"#808080",green:"#008000",greenYellow:"#adff2f",honeyDew:"#f0fff0",hotPink:"#ff69b4",indianRed:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderBlush:"#fff0f5",lawnGreen:"#7cfc00",lemonChiffon:"#fffacd",lightBlue:"#add8e6",lightCoral:"#f08080",lightCyan:"#e0ffff",lightGoldenRodYellow:"#fafad2",lightGray:"#d3d3d3",lightGreen:"#90ee90",lightPink:"#ffb6c1",lightSalmon:"#ffa07a",lightSeaGreen:"#20b2aa",lightSkyBlue:"#87cefa",lightSlateGray:"#778899",lightSteelBlue:"#b0c4de",lightYellow:"#ffffe0",lime:"#00ff00",limeGreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumAquaMarine:"#66cdaa",mediumBlue:"#0000cd",mediumOrchid:"#ba55d3",mediumPurple:"#9370db",mediumSeaGreen:"#3cb371",mediumSlateBlue:"#7b68ee",mediumSpringGreen:"#00fa9a",mediumTurquoise:"#48d1cc",mediumVioletRed:"#c71585",midnightBlue:"#191970",mintCream:"#f5fffa",mistyRose:"#ffe4e1",moccasin:"#ffe4b5",navajoWhite:"#ffdead",navy:"#000080",oldLace:"#fdd5e6",olive:"#808000",oliveDrab:"#6b8e23",orange:"#ffa500",orangeRed:"#ff4500",orchid:"#da70d6",paleGoldenRod:"#eee8aa",paleGreen:"#98fb98",paleTurquoise:"#afeeee",paleVioletRed:"#db7093",papayaWhip:"#ffefd5",peachPuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderBlue:"#b0e0e6",purple:"#800080",rebeccaPurple:"#663399",red:"#ff0000",rosyBrown:"#bc8f8f",royalBlue:"#4169e1",saddleBrown:"#8b4513",salmon:"#fa8072",sandyBrown:"#f4a460",seaGreen:"#2e8b57",seaShell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyBlue:"#87ceeb",slateBlue:"#6a5acd",slateGray:"#708090",snow:"#fffafa",springGreen:"#00ff7f",steelBlue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whiteSmoke:"#f5f5f5",yellow:"#ffff00",yellowGreen:"#9acd32"},Ho={lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},Xh={color:function(t,o=ga,f=void 0){return o[t]!==void 0?o[t]:f},palette:function(t=ga){return Object.keys(t)},colors:function(t=ga){return Object.values(t)}},Fc={HSV:vn,HSL:li,HSLA:Xa,RGB:ui,RGBA:Cs,CMYK:Za},bn={HEX:"hex",RGB:"rgb",RGBA:"rgba",HSV:"hsv",HSL:"hsl",HSLA:"hsla",CMYK:"cmyk",UNKNOWN:"unknown"},cs={angle:30,algorithm:1,step:.1,distance:5,tint1:.8,tint2:.4,shade1:.6,shade2:.3,alpha:1,baseLight:"#ffffff",baseDark:"self"};function Ja(t,o){let f;switch(o){case"hex":f=t.map(function(e){return Si(e)});break;case"rgb":f=t.map(function(e){return Xt(e)});break;case"rgba":f=t.map(function(e){return zi(e,opt.alpha)});break;case"hsl":f=t.map(function(e){return Ts(e)});break;case"hsla":f=t.map(function(e){return ba(e,opt.alpha)});break;case"cmyk":f=t.map(function(e){return io(e)});break;default:f=t}return f}function wi(t,o,f){return Math.max(o,Math.min(t,f))}function xi(t,o,f){return t<o?o:t>f?f:t}function ci(t,o){for(t+=o;t>=360;)t-=360;for(;t<0;)t+=360;return t}var Al=t=>{let o=_=>/^#([A-Fa-f0-9]{3}){1,2}$/.test(_),f=_=>/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_),e=_=>/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(_),i=_=>/^hsv\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_),r=_=>/^hsl\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_),d=_=>/^hsla\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(_),g=_=>/^cmyk\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_);return o(t)||f(t)||i(t)||d(t)||d(t)||e(t)||r(t)||g(t)},Pr=(t="hex",o="#000000")=>{let f;return typeof o=="string"&&(f=$i(o)),Bi(f)||(f="#000000"),Mn(f,t.toLowerCase())},va=Pr,Ji=function(t){if(Bi(t)&&typeof t!="string")return t;if(typeof t!="string")throw new Error("Value is not a string!");if(t[0]==="#"&&t.length===4){let o=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return"#"+t.replace(o,(f,e,i,r)=>e+e+i+i+r+r)}return t[0]==="#"?t:"#"+t},di=Ji,ds=t=>{if(t=$i(t),!Bi(t))return;let o=Xt(t);return(o.r*299+o.g*587+o.b*114)/1e3<128},ws=t=>!ds(t),hs=t=>$i(t)instanceof vn,Qa=t=>$i(t)instanceof li,qs=t=>$i(t)instanceof Xa,xs=t=>$i(t)instanceof ui,ks=t=>$i(t)instanceof Cs,Ys=t=>$i(t)instanceof Za,Gs=t=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t),Bi=t=>t?typeof t=="string"?Al(t):Gs(t)||xs(t)||ks(t)||hs(t)||Qa(t)||qs(t)||Ys(t):!1,Ni=t=>Gs(t)?bn.HEX:xs(t)?bn.RGB:ks(t)?bn.RGBA:hs(t)?bn.HSV:Qa(t)?bn.HSL:qs(t)?bn.HSLA:Ys(t)?bn.CMYK:bn.UNKNOWN,Fl=(t,o)=>!Bi(t)||!Bi(o)?!1:Si(t)===Si(o),Br=t=>t.toString(),$a=t=>{let o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Ji(t)),f=[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)];return o?new ui(...f):null},Ss=t=>"#"+((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).slice(1),ki=t=>{let o=new vn,f,e,i,r=t.r/255,d=t.g/255,g=t.b/255,_=Math.max(r,d,g),C=Math.min(r,d,g),k=_-C;return i=_,_===0?e=0:e=1-C/_,_===C?f=0:_===r&&d>=g?f=60*((d-g)/k):_===r&&d<g?f=60*((d-g)/k)+360:_===d?f=60*((g-r)/k)+120:_===g?f=60*((r-d)/k)+240:f=0,o.h=f,o.s=e,o.v=i,o},Ds=t=>{let o,f,e,i=t.h,r=t.s*100,d=t.v*100,g=Math.floor(i/60),_=(100-r)*d/100,C=(d-_)*(i%60/60),k=_+C,E=d-C;switch(g){case 0:o=d,f=k,e=_;break;case 1:o=E,f=d,e=_;break;case 2:o=_,f=d,e=k;break;case 3:o=_,f=E,e=d;break;case 4:o=k,f=_,e=d;break;case 5:o=d,f=_,e=E;break}return new ui(Math.round(o*255/100),Math.round(f*255/100),Math.round(e*255/100))},Nr=t=>Ss(Ds(t)),Zh=t=>ki($a(t)),Il=t=>{let o=new Za,f=t.r/255,e=t.g/255,i=t.b/255;return o.k=Math.min(1-f,1-e,1-i),o.c=1-o.k===0?0:(1-f-o.k)/(1-o.k),o.m=1-o.k===0?0:(1-e-o.k)/(1-o.k),o.y=1-o.k===0?0:(1-i-o.k)/(1-o.k),o.c=Math.round(o.c*100),o.m=Math.round(o.m*100),o.y=Math.round(o.y*100),o.k=Math.round(o.k*100),o},Ll=t=>{let o=Math.floor(255*(1-t.c/100)*(1-t.k/100)),f=Math.ceil(255*(1-t.m/100)*(1-t.k/100)),e=Math.ceil(255*(1-t.y/100)*(1-t.k/100));return new ui(o,f,e)},eo=t=>{let o,f,e,i;return o=parseInt(t.h),e=(2-t.s)*t.v,f=t.s*t.v,e===0?f=0:(i=e<=1?e:2-e,i===0?f=0:f/=i),e/=2,Number.isNaN(f)&&(f=0),Number.isNaN(e)&&(e=0),new li(o,f,e)},Rr=t=>{let o,f,e,i;return o=t.h,i=t.l*2,f=t.s*(i<=1?i:2-i),e=(i+f)/2,i+f===0?f=0:f=2*f/(i+f),new vn(o,f,e)},Ri=t=>new ui(Math.round(t.r/51)*51,Math.round(t.g/51)*51,Math.round(t.b/51)*51),to=t=>{let o=Ri(t);return new Cs(o.r,o.g,o.b,t.a)},Ic=t=>Ss(Ri($a(t))),Vo=t=>ki(Ri(Xt(t))),Ol=t=>eo(ki(Ri(Xt(t)))),no=t=>Il(Ri(Ll(t))),zr=t=>Gs(t)?Ic(t):xs(t)?Ri(t):ks(t)?to(t):hs(t)?Vo(t):Qa(t)?Ol(t):Ys(t)?no(t):t,Mn=(t,o="rgb",f=1)=>{let e;switch(o.toLowerCase()){case"hex":e=Si(t);break;case"rgb":e=Xt(t);break;case"rgba":e=zi(t,f);break;case"hsl":e=Ts(t);break;case"hsla":e=ba(t,f);break;case"hsv":e=Qi(t);break;case"cmyk":e=io(t);break;default:e=t}return e},Si=t=>typeof t=="string"&&t[0]==="#"?Ji(t):Ss(Xt(ya(t))),Xt=t=>{if(xs(t))return t;if(ks(t))return new ui(t.r,t.g,t.b);if(hs(t))return Ds(t);if(Qa(t)||qs(t))return Ds(Rr(t));if(Gs(t))return $a(t);if(Ys(t))return Ll(t);throw new Error("Unknown color format!")},zi=(t,o)=>{if(ks(t))return typeof o<"u"&&(t.a=o),t;let f=Xt(t);return new Cs(f.r,f.g,f.b,typeof t.a<"u"?t.a:o)},Qi=t=>hs(t)?t:ki(Xt(t)),Ts=t=>Qa(t)?t:eo(ki(Xt(t))),ba=(t,o=1)=>{if(qs(t))return o&&(t.a=o),t;let f=eo(ki(Xt(t)));return f.a=typeof t.a<"u"?t.a:o,new Xa(f.h,f.s,f.l,f.a)},io=t=>Ys(t)?t:Il(Xt(t)),Lc=t=>{let o=Xt(t),f=Ni(t).toLowerCase(),e=Math.round(o.r*.2125+o.g*.7154+o.b*.0721),i=new ui(e,e,e);return Mn(i,f)},Ks=(t,o=10)=>Ii(t,-1*Math.abs(o)),Ii=(t,o=10)=>{let f,e,i=o>0,r=function(d,g){let _,C,k,E=d.slice(1),I=parseInt(E,16);return _=(I>>16)+g,_>255?_=255:_<0&&(_=0),k=(I>>8&255)+g,k>255?k=255:k<0&&(k=0),C=(I&255)+g,C>255?C=255:C<0&&(C=0),"#"+(C|k<<8|_<<16).toString(16)};f=Ni(t).toLowerCase(),f===bn.RGBA&&t.a;do e=r(Si(t),o),i?o--:o++;while(e.length<7);return Mn(e,f)},Oc=(t,o,f=1)=>{let e=Qi(t),i=Ni(t).toLowerCase(),r=e.h;for(r+=o;r>=360;)r-=360;for(;r<0;)r+=360;return e.h=r,Mn(e,i,f)},ii=(t,o,f)=>{f=f===0?0:f||50;let e=new ui(0,0,0),i=Xt(t),r=Xt(o),d=f/100;return e.r=Math.round((r.r-i.r)*d+i.r),e.g=Math.round((r.g-i.g)*d+i.g),e.b=Math.round((r.b-i.b)*d+i.b),Si(e)},Pl=(t,o)=>{let f=Xt(t),e=Xt(o),i=new ui;return f.b=Math.floor(f.b*e.b/255),f.g=Math.floor(f.g*e.g/255),f.r=Math.floor(f.r*e.r/255),Si(i)},Pc=(t,o)=>{if(!Bi(t))throw new Error(t+" is not a valid color value!");o/=100;let f=Ni(t).toLowerCase(),e=Xt(t),i=o<0?0:255,r=o<0?o*-1:o,d,g,_,C;return d=Math.round((i-e.r)*r)+e.r,g=Math.round((i-e.g)*r)+e.g,_=Math.round((i-e.b)*r)+e.b,(f===bn.RGBA||f===bn.HSLA)&&(C=t.a),Mn(new ui(d,g,_),f,C)},so=(t,o)=>{let f,e,i;if(!Bi(t))throw new Error(t+" is not a valid color value!");return f=Ts(t),f.s+=o/100,f.s=wi(0,1,f.s),e=Ni(t).toLowerCase(),(e===bn.RGBA||e===bn.HSLA)&&(i=t.a),Mn(f,e,i)},Bc=(t,o)=>{let f,e,i;if(!Bi(t))throw new Error(t+" is not a valid color value!");return f=Ts(t),f.s-=o<1?o:o/100,f.s=wi(f.s,0,1),e=Ni(t).toLowerCase(),(e===bn.RGBA||e===bn.HSLA)&&(i=t.a),Mn(f,e,i)},hi=(t,o)=>{let f,e,i,r;if(!Bi(t))throw new Error(t+" is not a valid color value!");return f=Ts(t),r=f.h+o,r>360?r=r%360:r<0&&(r=360+r%360),f.h=r,e=Ni(t).toLowerCase(),(e===bn.RGBA||e===bn.HSLA)&&(i=t.a),e==="hsl"?f:Mn(f,e,i)},Tn=(t,o)=>{let f,e,i;if(!Bi(t))throw new Error(t+" is not a valid color value!");return f=Xt(t),f.r=Math.max(0,Math.min(255,f.r-Math.round(255*-(o/100)))),f.g=Math.max(0,Math.min(255,f.g-Math.round(255*-(o/100)))),f.b=Math.max(0,Math.min(255,f.b-Math.round(255*-(o/100)))),e=Ni(t).toLowerCase(),(e===bn.RGBA||e===bn.HSLA)&&(i=t.a),Mn(f,e,i)},Xn=(t,o,f)=>{let e=ya(t),i=ya(o),r=zi(e,void 0),d=zi(i,void 0),g=new Cs;return(""+f).toLowerCase(),g.r=Math.round((r.r+d.r)/2),g.g=Math.round((r.g+d.g)/2),g.b=Math.round((r.b+d.b)/2),g.a=Math.round((r.a+d.a)/2),Mn(g,f,g.a)},En=(t,o,f=bn.HEX,e)=>{let i=Object.assign({},cs,e),r,d=[],g,_,C,k,E;if(g=Qi(t),hs(g)===!1)return console.warn("The value is a not supported color format!"),!1;switch(C=g.h,k=g.s,E=g.v,o){case"monochromatic":case"mono":{if(i.algorithm===1)_=Ds(g),_.r=xi(Math.round(_.r+(255-_.r)*i.tint1),0,255),_.g=xi(Math.round(_.g+(255-_.g)*i.tint1),0,255),_.b=xi(Math.round(_.b+(255-_.b)*i.tint1),0,255),d.push(ki(_)),_=Ds(g),_.r=xi(Math.round(_.r+(255-_.r)*i.tint2),0,255),_.g=xi(Math.round(_.g+(255-_.g)*i.tint2),0,255),_.b=xi(Math.round(_.b+(255-_.b)*i.tint2),0,255),d.push(ki(_)),d.push(g),_=Ds(g),_.r=xi(Math.round(_.r*i.shade1),0,255),_.g=xi(Math.round(_.g*i.shade1),0,255),_.b=xi(Math.round(_.b*i.shade1),0,255),d.push(ki(_)),_=Ds(g),_.r=xi(Math.round(_.r*i.shade2),0,255),_.g=xi(Math.round(_.g*i.shade2),0,255),_.b=xi(Math.round(_.b*i.shade2),0,255),d.push(ki(_));else if(i.algorithm===2)for(d.push(g),r=1;r<=i.distance;r++)E=wi(E-i.step,0,1),k=wi(k-i.step,0,1),d.push({h:C,s:k,v:E});else if(i.algorithm===3)for(d.push(g),r=1;r<=i.distance;r++)E=wi(E-i.step,0,1),d.push({h:C,s:k,v:E});else E=wi(g.v+i.step*2,0,1),d.push({h:C,s:k,v:E}),E=wi(g.v+i.step,0,1),d.push({h:C,s:k,v:E}),d.push(g),k=g.s,E=g.v,E=wi(g.v-i.step,0,1),d.push({h:C,s:k,v:E}),E=wi(g.v-i.step*2,0,1),d.push({h:C,s:k,v:E});break}case"complementary":case"complement":case"comp":{d.push(g),C=ci(g.h,180),d.push(new vn(C,k,E));break}case"double-complementary":case"double-complement":case"double":{d.push(g),C=ci(C,180),d.push(new vn(C,k,E)),C=ci(C,i.angle),d.push(new vn(C,k,E)),C=ci(C,180),d.push(new vn(C,k,E));break}case"analogous":case"analog":{C=ci(C,i.angle),d.push(new vn(C,k,E)),d.push(g),C=ci(g.h,0-i.angle),d.push(new vn(C,k,E));break}case"triadic":case"triad":{for(d.push(g),r=1;r<3;r++)C=ci(C,120),d.push(new vn(C,k,E));break}case"tetradic":case"tetra":{d.push(g),C=ci(g.h,180),d.push(new vn(C,k,E)),C=ci(g.h,-1*i.angle),d.push(new vn(C,k,E)),C=ci(C,180),d.push(new vn(C,k,E));break}case"square":{for(d.push(g),r=1;r<4;r++)C=ci(C,90),d.push(new vn(C,k,E));break}case"split-complementary":case"split-complement":case"split":{C=ci(C,180-i.angle),d.push(new vn(C,k,E)),d.push(g),C=ci(g.h,180+i.angle),d.push(new vn(C,k,E));break}case"material":{var I=i.baseLight,B=i.baseDark==="self"||!i.baseDark?Pl(t,t):i.baseDark;d.push({50:ii(I,t,10),100:ii(I,t,30),200:ii(I,t,50),300:ii(I,t,70),400:ii(I,t,85),500:ii(I,t,100),600:ii(B,t,92),700:ii(B,t,83),800:ii(B,t,74),900:ii(B,t,65),A100:Ii(so(ii(B,t,15),80),65),A200:Ii(so(ii(B,t,15),80),55),A400:Ii(so(ii(I,t,100),55),10),A700:Ii(so(ii(B,t,83),65),10)});break}default:console.error("Unknown schema name")}return o==="material"?d[0]:Ja(d,f)},ao=t=>t instanceof vn||t instanceof li||t instanceof Xa||t instanceof ui||t instanceof Cs||t instanceof Za,$i=function(t){if(ao(t))return t;let o=(""+t).toLowerCase();typeof ga[o]<"u"&&(o=ga[o]),typeof Ho[o]<"u"&&(o=Ho[o]);let f=o.replace(/[^\d.,%]/g,"").split(",").map(e=>isNaN(e)?e:+e);return o[0]==="#"?Ji(o):o.includes("rgba")?new Cs(f[0],f[1],f[2],f[3]):o.includes("rgb")?new ui(f[0],f[1],f[2]):o.includes("cmyk")?new Za(f[0],f[1],f[2],f[3]):o.includes("hsv")?new vn(f[0],f[1],f[2]):o.includes("hsla")?new Xa(f[0],f[1],f[2],f[3]):o.includes("hsl")?new li(f[0],f[1],f[2]):o},ya=$i,Bl=(t="hex",o=1)=>{let f=(g,_)=>Math.floor(g+Math.random()*(_+1-g)),e,i,r,d;return i=f(0,255),r=f(0,255),d=f(0,255),e="#"+((1<<24)+(i<<16)+(r<<8)+d).toString(16).slice(1),t==="hex"?e:Mn(e,t,o)},Jh=Bl,Nc=class{_setValue(t){t||(t="#000000"),typeof t=="string"&&(t=$i(t)),t&&Bi(t)?this._value=t:this._value=void 0}_setOptions(t){this._options=Object.assign({},cs,t)}constructor(t="#000000",o=null){this._setValue(t),this._setOptions(o)}get options(){return this._options}set options(t){this._setOptions(t)}get value(){return this._value?this._value:void 0}set value(t){this._setValue(t)}toRGB(){if(this._value)return this._value=Xt(this._value),this}get rgb(){return this._value?Xt(this._value):void 0}toRGBA(t){if(this._value)return ks(this._value)?t&&(this._value=zi(this._value,t)):this._value=zi(this._value,t||cs.alpha),this}get rgba(){return this._value?ks(this._value)?this._value:zi(this._value,this._options.alpha):void 0}toHEX(){if(this._value)return this._value=Si(this._value),this}get hex(){return this._value?Si(this._value):void 0}toHSV(){if(this._value)return this._value=Qi(this._value),this}get hsv(){return this._value?Qi(this._value):void 0}toHSL(){if(this._value)return this._value=Ts(this._value),this}get hsl(){return this._value?Ts(this._value):void 0}toHSLA(t){if(this._value)return qs(this._value)?t&&(this._value=ba(this._value,t)):this._value=ba(this._value,t),this}get hsla(){return this._value?qs(this._value)?this._value:ba(this._value,this._options.alpha):void 0}toCMYK(){if(this._value)return this._value=io(this._value),this}get cmyk(){return this._value?io(this._value):void 0}toWebsafe(){if(this._value)return this._value=zr(this._value),this}get websafe(){return this._value?zr(this._value):void 0}toString(){return this._value?Br(this._value):void 0}darken(t=10){if(this._value)return this._value=Ks(this._value,t),this}lighten(t=10){if(this._value)return this._value=Ii(this._value,t),this}isDark(){return this._value?ds(this._value):void 0}isLight(){return this._value?ws(this._value):void 0}hueShift(t){if(this._value)return this._value=Oc(this._value,t),this}grayscale(){if(!(!this._value||this.type===bn.UNKNOWN))return this._value=Lc(this._value,(""+this.type).toLowerCase()),this}get type(){return Ni(this._value)}getScheme(t,o,f){return this._value?En(this._value,t,o,f):void 0}equal(t){return Fl(this._value,t)}random(t,o){this._value=Bl(t,o)}channel(t,o){let f=`${this.type}`.toUpperCase();if(["red","green","blue"].includes(t)){this.toRGB();let e={red:"r",green:"g",blue:"b"};this._value[e[t]]=o,this[`to${f}`]()}if(t==="alpha"&&this._value.a&&(this._value.a=o),["hue","saturation","value"].includes(t)){this.toHSV();let e={hue:"h",saturation:"s",value:"v"};this._value[e[t]]=o,this[`to${f}`]()}if(["lightness"].includes(t)&&(this.toHSL(),this._value.l=o,this[`to${f}`]()),["cyan","magenta","yellow","black"].includes(t)){this.toCMYK();let e={cyan:"c",magenta:"m",yellow:"y",black:"k"};this._value[e[t]]=o,this[`to${f}`]()}return this}add(t){this._setValue(Xn(this._value,t))}mix(t,o){this._setValue(ii(this._value,t,o))}multiply(t){this._setValue(Pl(this._value,t))}shade(t){this._setValue(Pc(this._value,t))}saturate(t){this._setValue(so(this._value,t))}desaturate(t){this._setValue(Bc(this._value,t))}spin(t){this._setValue(hi(this._value,t))}brighten(t){this._setValue(Tn(this._value,t))}},Nl={...Fc},Rc="1.0.4",Rl="11.08.2024, 23:47:03",Qh=()=>{console.info(`%c Farbe %c v${Rc} %c ${Rl} `,"color: #ffffff; font-weight: bold; background: #ff00ff","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Farbe=Nc,globalThis.farbe=t=>new Nc(t),globalThis.Farbe.Routines=El,globalThis.Farbe.Palette=Xh,globalThis.Farbe.StandardColors=ga,globalThis.Farbe.MetroColors=Ho,globalThis.Farbe.Primitives=Nl,globalThis.Farbe.info=Qh;var zl=Object.defineProperty,Hl=(t,o)=>{for(var f in o)zl(t,f,{get:o[f],enumerable:!0})};function Vl(t){return t.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}function zc(t=[]){return Array.isArray(t)?t.join(" "):t.toString()}var Ml=["opacity","zIndex","order","zoom"];function Wl(t={}){return typeof t=="string"?t:Object.keys(t).map(o=>{let f=Vl(o),e=t[o];return!Ml.includes(f)&&!isNaN(e)&&(e+="px"),`${f}: ${e}`}).join(";")}var Mo=["accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inert","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","popover","spellcheck","style","tabindex","title","translate","writingsuggestions"],$h=t=>{let o,f,e=[],i,r,d=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof t=="string"){if(t=t.trim(),i=document.implementation.createHTMLDocument(""),o=i.createElement("base"),o.href=document.location.href,i.head.appendChild(o),r=i.body,f=d.exec(t),f)return document.createElement(f[1]);r.innerHTML=t;for(let g=0;g<r.childNodes.length;g++)e.push(r.childNodes[g]);return e[0]}},Hr=["onauxclick","onbeforeinput","onbeforematch","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"],Hi=class{constructor(t={}){this.options=t,this.tag="div"}selfAttributes(){return[]}get attributes(){return this.getAttributes().join(" ")}getAttributes(){let t=[],o=["hidden","disabled","required","readonly","selected","open","multiply","default"],f=["className","style","data","tag","events"];for(let e in this.options)if(!f.includes(e)){if(o.includes(e)&&this.options[e]===!0){t.push(e);continue}(this.selfAttributes().includes(e)&&!t.includes(e)||Mo.includes(e))&&t.push(`${e}="${this.options[e]}"`)}return this.classes&&t.push(`class="${this.classes}"`),this.styles&&t.push(`style="${this.styles}"`),this.dataSet&&t.push(this.dataSet),this.aria&&t.push(this.aria),t}draw(){return this.template()}get dataSet(){let{data:t={}}=this.options,o=[];for(let f in t)o.push(`data-${Vl(f)}="${t[f]}"`);return o.join(" ")}get aria(){let{aria:t={}}=this.options,o=[];for(let f in t)o.push(`aria-${f.toLowerCase()}="${t[f]}"`);return o.join(" ")}get events(){let{events:t={},control:o=!0}=this.options,f=[];for(let e in t)o&&!Hr.includes(e)&&console.info(`Event ${e} for element ${this.tag} not specified in HTML specification`),f.push(`${e.toLowerCase()}="${t[e]}"`);return f.join(" ")}get classes(){return zc(this.options.class)}get styles(){return Wl(this.options.style)}template(){return""}toString(){return this.draw()}toElement(){return $h(this.draw())}},Vr=t=>{if(Array.isArray(t))return t.map(Vr).join(`
`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(t.draw)return t.draw();throw new Error("Unknown element! "+t)},Xe=class extends Hi{constructor(...t){let o={},f=[];for(let e of t)typeof e=="object"&&!(e instanceof Hi)?o=e:f.push(e);super(o),this.children=f}template(t){let o=this.options.tag?this.options.tag:this.tag;return`
            <${o} ${this.attributes} ${this.events}>${t}</${o}>
        `}draw(){return this.template(this.children.map(Vr).join(""))}},Wn=class extends Hi{constructor(t={}){super(t),this.options=t}template(){return`
            <${this.options.tag?this.options.tag:this.tag} ${this.attributes} ${this.events}/>
        `}},Li=(t=[],o=document.body,f={})=>{let e,i,{clear:r=!0,where:d="beforeend"}=f;i=typeof o=="string"?document.querySelector(o):o,i instanceof HTMLElement||(i=document.body),r&&(i.innerHTML=""),Array.isArray(t)||(t=[t]),e=t.map(Vr).join(""),i.insertAdjacentHTML(d,e)},Ot=(t="",o)=>{let f=document.createElement("style");return o!==void 0&&f.setAttribute("media",o),f.appendChild(document.createTextNode(t)),document.head.appendChild(f),f},Vi=t=>Ot(t).sheet,Es=(t,o,f)=>{t.insertRule(o+"{"+f+"}")},Xs=(t,o)=>{if(typeof t=="string"){Ot(t,o);return}let f=Vi(o);for(let e in t)Es(f,e,Wl(t[e]))},Hc=async(t,o)=>{let f=await fetch(t,o),e,i;if(!f.ok)throw new Error("HTTP error: "+f.status);e=await f.text(),i=document.createElement("style"),i.appendChild(document.createTextNode(e)),document.body.appendChild(i)},jl=async(t,o)=>{let f=await fetch(t,o),e,i;if(!f.ok)throw new Error("HTTP error: "+f.status);e=await f.text(),i=document.createElement("script"),i.appendChild(document.createTextNode(e)),document.body.appendChild(i)},Wo={};Hl(Wo,{Abbr:()=>Zl,Address:()=>Ca,Anchor:()=>ro,Area:()=>co,Article:()=>Uo,Aside:()=>_a,AudioTag:()=>ho,Base:()=>Mr,Bdi:()=>eu,Bdo:()=>wa,Blockquote:()=>od,Body:()=>jc,Bold:()=>$l,Br:()=>jo,Button:()=>ld,Canvas:()=>ud,Caption:()=>cd,Cite:()=>xa,Code:()=>su,Col:()=>nu,Colgroup:()=>iu,Data:()=>ns,Dd:()=>Yr,Details:()=>fo,Dfn:()=>$o,Dialog:()=>ea,Div:()=>vd,Dl:()=>Qo,Dt:()=>ka,Em:()=>ru,Embed:()=>cu,Fieldset:()=>po,FigCaption:()=>xd,Figure:()=>wd,Footer:()=>uo,Form:()=>Sd,Frame:()=>pu,Frameset:()=>hu,Head:()=>oo,Header:()=>qo,Heading:()=>Yl,Hr:()=>Xc,Html:()=>Vc,IFrame:()=>gu,Img:()=>qc,Input:()=>Gc,Ins:()=>Dd,Ital:()=>lu,Kbd:()=>Td,Label:()=>Ed,Legend:()=>du,Link:()=>ql,List:()=>Sa,ListItem:()=>Mi,Main:()=>An,Map:()=>Ql,Mark:()=>yu,Meta:()=>pi,Nav:()=>Jl,NoEmbed:()=>Gr,NoFrames:()=>mu,NoScript:()=>Zr,Option:()=>wu,OptionGroup:()=>Cu,Output:()=>Da,Paragraph:()=>nr,Picture:()=>Qr,Pre:()=>rn,Quoted:()=>xu,Rp:()=>si,Rt:()=>sn,Ruby:()=>_n,Script:()=>b,Section:()=>Xl,Select:()=>Ld,Slot:()=>Qn,Small:()=>T,Source:()=>P,Span:()=>jr,Strike:()=>c,Strong:()=>_d,Sub:()=>H,Summary:()=>md,Sup:()=>ne,Table:()=>tu,TableCell:()=>ts,TableRow:()=>Zo,TableSection:()=>qr,Template:()=>Nn,Textarea:()=>pe,Time:()=>Re,Title:()=>yn,Track:()=>qe,Var:()=>Ye,VideoTag:()=>dt,Wbr:()=>St,a:()=>$c,abbr:()=>lo,address:()=>sd,anchor:()=>Qc,area:()=>Yo,article:()=>ed,aside:()=>nd,audio:()=>Go,b:()=>af,base:()=>Zs,bdi:()=>Js,bdo:()=>Ko,blockquote:()=>rd,body:()=>Wr,br:()=>Kc,button:()=>of,canvas:()=>fi,caption:()=>lf,cite:()=>hd,code:()=>fd,col:()=>dd,colgroup:()=>uf,data:()=>Rn,dd:()=>ff,details:()=>pd,dfn:()=>pf,dialog:()=>Ta,div:()=>er,dl:()=>au,dt:()=>ou,em:()=>bd,embed:()=>mf,fieldset:()=>gf,figcaption:()=>kd,figure:()=>bf,footer:()=>sf,form:()=>yf,frame:()=>_f,frameset:()=>fu,h1:()=>Gl,h2:()=>Ur,h3:()=>Zc,h4:()=>Kl,h5:()=>Jc,h6:()=>nf,head:()=>Mc,header:()=>id,hr:()=>tf,html:()=>Ul,i:()=>yd,iframe:()=>Kr,img:()=>Yc,input:()=>ef,ins:()=>Cf,ital:()=>uu,kbd:()=>tn,label:()=>vu,legend:()=>vf,li:()=>Ad,link:()=>Wc,main:()=>nn,map:()=>ad,mark:()=>Fd,meta:()=>mi,nav:()=>td,noembed:()=>tr,noframes:()=>mo,noscript:()=>Id,ol:()=>bu,optgroup:()=>Ht,option:()=>wf,output:()=>xf,p:()=>kf,picture:()=>As,pre:()=>Sf,q:()=>Df,quoted:()=>Jr,rp:()=>Jn,rt:()=>$s,ruby:()=>go,s:()=>y,script:()=>x,section:()=>Zn,select:()=>_u,slot:()=>vo,small:()=>F,source:()=>R,span:()=>Uc,strike:()=>p,strong:()=>Cd,sub:()=>J,summary:()=>gd,sup:()=>ye,table:()=>rf,tbody:()=>cf,td:()=>hf,template:()=>Fn,textarea:()=>Ae,tfoot:()=>Xo,th:()=>df,thead:()=>Qs,time:()=>We,title:()=>gi,tr:()=>Jo,track:()=>Ze,ul:()=>Xr,variable:()=>tt,video:()=>ct,wbr:()=>qt});var Vc=class extends Xe{constructor(){super(...arguments);ae(this,"tag","html")}selfAttributes(){return["lang"]}},Ul=(...t)=>new Vc(...t),oo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","head")}},Mc=(...t)=>new oo(...t),Mr=class extends Wn{constructor(){super(...arguments);ae(this,"tag","base")}selfAttributes(){return["href","target"]}},Zs=t=>new Mr(t),ql=class extends Wn{constructor(){super(...arguments);ae(this,"tag","link")}selfAttributes(){return["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","blocking","color","disabled","fetchpriority"]}},Wc=t=>new ql(t),jc=class extends Xe{constructor(){super(...arguments);ae(this,"tag","body")}},Wr=(...t)=>new jc(...t),jr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","span")}},Uc=(...t)=>new jr(...t),qc=class extends Wn{constructor(){super(...arguments);ae(this,"tag","img")}selfAttributes(){return["align","alt","border","height","hspace","ismap","longdesc","lowsrc","src","vspace","width","usemap"]}},Yc=(t="",o="",f={})=>new qc({...f,src:t,alt:o}),Gc=class extends Wn{constructor(){super(...arguments);ae(this,"tag","input")}selfAttributes(){return["accept","align","alt","autocomplete","autofocus","border","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","list","max","maxlength","min","multiple","name","pattern","placeholder","size","src","step","type","value"]}},ef=(t={})=>new Gc(t),jo=class extends Wn{constructor(){super(...arguments);ae(this,"tag","br")}selfAttributes(){return["clear"]}},Kc=t=>new jo(t),Xc=class extends Wn{constructor(){super(...arguments);ae(this,"tag","hr")}},tf=t=>new Xc(t),Yl=class extends Xe{constructor(t="h1",...o){super(...o),this.tag=t}},es=(t="h1",...o)=>new Yl(t,...o),Gl=(...t)=>es("h1",...t),Ur=(...t)=>es("h2",...t),Zc=(...t)=>es("h3",...t),Kl=(...t)=>es("h4",...t),Jc=(...t)=>es("h5",...t),nf=(...t)=>es("h6",...t),Xl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","section")}},Zn=(...t)=>new Xl(...t),ro=class extends Xe{constructor(){super(...arguments);ae(this,"tag","a")}selfAttributes(){return["coords","download","hreflang","name","rel","rev","shape","target","type","href"]}},Qc=(...t)=>new ro(...t),$c=(...t)=>new ro(...t),Zl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","abbr")}},lo=(...t)=>new Zl(...t),Uo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","article")}},ed=(...t)=>new Uo(...t),Jl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","nav")}},td=(...t)=>new Jl(...t),_a=class extends Xe{constructor(){super(...arguments);ae(this,"tag","aside")}},nd=(...t)=>new _a(...t),qo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","header")}},id=(...t)=>new qo(...t),uo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","footer")}},sf=(...t)=>new uo(...t),Ca=class extends Xe{constructor(){super(...arguments);ae(this,"tag","address")}},sd=(...t)=>new Ca(...t),Ql=class extends Xe{constructor(){super(...arguments);ae(this,"tag","map")}selfAttributes(){return["name"]}},ad=(...t)=>new Ql(...t),co=class extends Wn{constructor(){super(...arguments);ae(this,"tag","area")}selfAttributes(){return["alt","coords","hreflang","nohref","shape","target","type","href"]}},Yo=(t={})=>new co(t),ho=class extends Xe{constructor(){super(...arguments);ae(this,"tag","audio")}selfAttributes(){return["autoplay","controls","loop","preload","src"]}},Go=(...t)=>new ho(...t),$l=class extends Xe{constructor(){super(...arguments);ae(this,"tag","b")}},af=(...t)=>new $l(...t),eu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","bdi")}},Js=(...t)=>new eu(...t),wa=class extends Xe{constructor(){super(...arguments);ae(this,"tag","bdo")}},Ko=(...t)=>new wa(...t),od=class extends Xe{constructor(){super(...arguments);ae(this,"tag","blockquote")}selfAttributes(){return["cite"]}},rd=(...t)=>new od(...t),ld=class extends Xe{constructor(){super(...arguments);ae(this,"tag","button")}selfAttributes(){return["autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"]}},of=(...t)=>new ld(...t),ud=class extends Xe{constructor(){super(...arguments);ae(this,"tag","canvas")}selfAttributes(){return["width","height"]}},fi=(...t)=>new ud(...t),tu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","table")}selfAttributes(){return["align","background","bgcolor","border","bordercolor","cellpadding","cellspacing","cols","frame","height","rules","summary","width"]}},rf=(...t)=>new tu(...t),cd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","caption")}selfAttributes(){return["align","valign"]}},lf=(...t)=>new cd(...t),nu=class extends Wn{constructor(){super(...arguments);ae(this,"tag","col")}selfAttributes(){return["align","valign","char","charoff","span","width"]}},dd=t=>new nu(t),iu=class extends Wn{constructor(){super(...arguments);ae(this,"tag","colgroup")}selfAttributes(){return["align","valign","char","charoff","span","width"]}},uf=t=>new iu(t),qr=class extends Xe{constructor(t="tbody",...o){super(...o),this.tag=t}selfAttributes(){return["align","valign","char","charoff","bgcolor"]}},cf=(...t)=>new qr("tbody",...t),Qs=(...t)=>new qr("thead",...t),Xo=(...t)=>new qr("tfoot",...t),Zo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","tr")}selfAttributes(){return["align","bgcolor","bordercolor","char","charoff","valign"]}},Jo=(...t)=>new Zo(...t),ts=class extends Xe{constructor(t="td",...o){super(...o),this.tag=t}selfAttributes(){return["abbr","align","axis","background","bgcolor","bordercolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]}},df=(...t)=>new ts("th",...t),hf=(...t)=>new ts("td",...t),xa=class extends Xe{constructor(){super(...arguments);ae(this,"tag","cite")}},hd=(...t)=>new xa(...t),su=class extends Xe{constructor(){super(...arguments);ae(this,"tag","code")}},fd=(...t)=>new su(...t),Qo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dl")}},ka=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dt")}},Yr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dd")}},au=(...t)=>new Qo(...t),ou=(...t)=>new ka(...t),ff=(...t)=>new Yr(...t),fo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","details")}},pd=(...t)=>new fo(...t),md=class extends Xe{constructor(){super(...arguments);ae(this,"tag","summary")}},gd=(...t)=>new md(...t),$o=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dfn")}},pf=(...t)=>new $o(...t),vd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","div")}selfAttributes(){return["align","title"]}},er=(...t)=>new vd(...t),ru=class extends Xe{constructor(){super(...arguments);ae(this,"tag","em")}},bd=(...t)=>new ru(...t),lu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","i")}},uu=(...t)=>new lu(...t),yd=(...t)=>new lu(...t),_d=class extends Xe{constructor(){super(...arguments);ae(this,"tag","strong")}},Cd=(...t)=>new _d(...t),cu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","embed")}selfAttributes(){return["align","height","hspace","pluginspace","src","type","vspace","width"]}},mf=(...t)=>new cu(...t),Gr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","noembed")}},tr=(...t)=>new Gr(...t),po=class extends Xe{constructor(){super(...arguments);ae(this,"tag","fieldset")}selfAttributes(){return["form","title"]}},gf=(...t)=>new po(...t),du=class extends Xe{constructor(){super(...arguments);ae(this,"tag","legend")}selfAttributes(){return["align","title"]}},vf=(...t)=>new du(...t),wd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","figure")}},bf=(...t)=>new wd(...t),xd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","figcaption")}},kd=(...t)=>new xd(...t),Sd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","form")}selfAttributes(){return["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"]}},yf=(...t)=>new Sd(...t),hu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","frameset")}selfAttributes(){return["border","bordercolor","cols","frameborder","framespacing","rows"]}},fu=(...t)=>new hu(...t),pu=class extends Wn{constructor(){super(...arguments);ae(this,"tag","frame")}selfAttributes(){return["bordercolor","frameborder","noresize","name","src","scrolling"]}},_f=(t={})=>new pu(t),mu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","noframes")}},mo=(...t)=>new mu(...t),gu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","iframe")}selfAttributes(){return["align","allowtransparency","frameborder","height","hspace","marginheight","marginwidth","name","sandbox","scrolling","seamless","src","srcdoc","vspace","width"]}},Kr=(...t)=>new gu(...t),Dd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","ins")}selfAttributes(){return["cite","datetime"]}},Cf=(...t)=>new Dd(...t),Td=class extends Xe{constructor(){super(...arguments);ae(this,"tag","kbd")}},tn=(...t)=>new Td(...t),Ed=class extends Xe{constructor(){super(...arguments);ae(this,"tag","label")}selfAttributes(){return["for"]}},vu=(...t)=>new Ed(...t),Sa=class extends Xe{constructor(t="ul",...o){super(...o),this.tag=t}selfAttributes(){return this.tag==="ul"?["type"]:["type","reserved","start"]}},Mi=class extends Xe{constructor(){super(...arguments);ae(this,"tag","li")}selfAttributes(){return["type","value"]}},Xr=(...t)=>new Sa("ul",...t),bu=(...t)=>new Sa("ol",...t),Ad=(...t)=>new Mi(...t),yu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","mark")}},Fd=(...t)=>new yu(...t),Zr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","noscript")}},Id=(...t)=>new Zr(...t),Ld=class extends Xe{constructor(){super(...arguments);ae(this,"tag","select")}selfAttributes(){return["autofocus","form","name","size"]}},_u=(...t)=>new Ld(...t),Cu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","optgroup")}selfAttributes(){return["label"]}},Ht=(...t)=>new Cu(...t),wu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","option")}selfAttributes(){return["label","value"]}},wf=(...t)=>new wu(...t),Da=class extends Xe{constructor(){super(...arguments);ae(this,"tag","output")}selfAttributes(){return["for","form","name"]}},xf=(...t)=>new Da(...t),nr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","p")}selfAttributes(){return["align"]}},kf=(...t)=>new nr(...t),rn=class extends Xe{constructor(){super(...arguments);ae(this,"tag","pre")}},Sf=(...t)=>new rn(...t),xu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","q")}selfAttributes(){return["cite"]}},Df=(...t)=>new xu(...t),Jr=(...t)=>new xu(...t),c=class extends Xe{constructor(){super(...arguments);ae(this,"tag","strike")}},p=(...t)=>new c(...t),y=(...t)=>new c(...t),b=class extends Xe{constructor(){super(...arguments);ae(this,"tag","script")}selfAttributes(){return["async","defer","language","src","type"]}},x=(...t)=>new b(...t),T=class extends Xe{constructor(){super(...arguments);ae(this,"tag","small")}},F=(...t)=>new T(...t),P=class extends Wn{constructor(){super(...arguments);ae(this,"tag","source")}selfAttributes(){return["media","src","type"]}},R=(t={})=>new P(t),H=class extends Xe{constructor(){super(...arguments);ae(this,"tag","sub")}},J=(...t)=>new H(...t),ne=class extends Xe{constructor(){super(...arguments);ae(this,"tag","sup")}},ye=(...t)=>new ne(...t),pe=class extends Xe{constructor(){super(...arguments);ae(this,"tag","textarea")}selfAttributes(){return["autofocus","cols","form","maxlength","name","placeholder","rows","wrap"]}},Ae=(...t)=>new pe(...t),Re=class extends Xe{constructor(){super(...arguments);ae(this,"tag","time")}selfAttributes(){return["datetime","pubdate"]}},We=(...t)=>new Re(...t),qe=class extends Wn{constructor(){super(...arguments);ae(this,"tag","track")}selfAttributes(){return["kind","src","srclang","label"]}},Ze=(t={})=>new qe(t),Ye=class extends Xe{constructor(){super(...arguments);ae(this,"tag","var")}},tt=(...t)=>new Ye(...t),dt=class extends Xe{constructor(){super(...arguments);ae(this,"tag","video")}selfAttributes(){return["autoplay","controls","height","loop","loop","poster","preload","src","width"]}},ct=(...t)=>new dt(...t),St=class extends Wn{constructor(){super(...arguments);ae(this,"tag","wbr")}},qt=t=>new St(t),An=class extends Xe{constructor(){super(...arguments);ae(this,"tag","main")}},nn=(...t)=>new An(...t),pi=class extends Wn{constructor(){super(...arguments);ae(this,"tag","meta")}selfAttributes(){return["content","name","http-equiv","charset"]}},mi=t=>new pi(t),yn=class extends Xe{constructor(){super(...arguments);ae(this,"tag","title")}},gi=t=>new yn(t),Nn=class extends Xe{constructor(){super(...arguments);ae(this,"tag","template")}selfAttributes(){return["shadowrootmode","shadowrootdelegatesfocus","shadowrootclonable","shadowrootserializable"]}},Fn=(...t)=>new Nn(...t),_n=class extends Xe{constructor(){super(...arguments);ae(this,"tag","ruby")}},sn=class extends Wn{constructor(){super(...arguments);ae(this,"tag","rt")}},si=class extends Wn{constructor(){super(...arguments);ae(this,"tag","rp")}},go=(...t)=>new _n(...t),$s=t=>new sn(t),Jn=t=>new si(t),ns=class extends Xe{constructor(){super(...arguments);ae(this,"tag","data")}},Rn=(...t)=>new ns(...t),Qr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","picture")}},As=(...t)=>new Qr(...t),ea=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dialog")}selfAttributes(){return["open"]}},Ta=(...t)=>new ea(...t),Qn=class extends Xe{constructor(){super(...arguments);ae(this,"tag","slot")}selfAttributes(){return["name"]}},vo=(...t)=>new Qn(...t),ir={},Kv="0.15.1",Xv="18.05.2025, 14:41:46",Zv=()=>{console.info(`%c Html.js %c v${Kv} %c ${Xv} `,"color: #ffffff; font-weight: bold; background: #708238","color: white; background: darkgreen","color: white; background: #0080fe;")},Jv=(t=globalThis)=>{for(let o in Wo)globalThis[o]&&(ir[o]=globalThis[o]),t[o]=Wo[o]},Qv=(t=globalThis)=>{for(let o in ir)t[o]=ir[o]},$v={BaseElement:Hi,Tag:Xe,SingleTag:Wn,...Wo,extract:Jv,restore:Qv},eb={addStyle:Xs,addCssRule:Es,createStyleSheet:Vi,createStyleElement:Ot};globalThis.HTML={cssLoader:Hc,jsLoader:jl,render:Li,...$v,...eb,info:Zv};var Wp={};s(Wp,{americanExpress:()=>Ry,array:()=>Zb,base64:()=>qb,between:()=>Mb,bigint:()=>yb,boolean:()=>Xb,bytes:()=>jy,color:()=>xy,compose:()=>ub,contains:()=>$y,creditCard:()=>Py,date:()=>Cb,digits:()=>Xy,diners:()=>Hy,discover:()=>zy,domain:()=>dy,email:()=>Ob,endsWith:()=>pb,equal:()=>s_,finite:()=>jb,float:()=>Jy,func:()=>xb,great:()=>l_,greatOrEqual:()=>h_,hexColor:()=>ky,hslColor:()=>Dy,imei:()=>$b,info:()=>v_,integer:()=>Sb,ip:()=>oy,ipv4:()=>ry,ipv6:()=>ly,jcb:()=>Vy,length:()=>ey,less:()=>c_,lessOrEqual:()=>p_,mastercard:()=>Ny,max:()=>Ib,maxLength:()=>ny,min:()=>Ab,minLength:()=>ty,notNull:()=>qy,notNumber:()=>Gb,number:()=>Rb,object:()=>Hb,parse:()=>Tf,pattern:()=>Gy,pipe:()=>rb,required:()=>Bb,rgbColor:()=>Sy,safeInteger:()=>Tb,safeParse:()=>ab,similar:()=>o_,startsWith:()=>hb,string:()=>Ef,symbol:()=>vb,type:()=>n_,unionPay:()=>My,unknown:()=>mb,url:()=>py,visa:()=>By});var tb=Object.defineProperty,jp=Object.getOwnPropertySymbols,nb=Object.prototype.hasOwnProperty,ib=Object.prototype.propertyIsEnumerable,Up=(t,o,f)=>o in t?tb(t,o,{enumerable:!0,configurable:!0,writable:!0,value:f}):t[o]=f,sb=(t,o)=>{for(var f in o||(o={}))nb.call(o,f)&&Up(t,f,o[f]);if(jp)for(var f of jp(o))ib.call(o,f)&&Up(t,f,o[f]);return t},ht=class extends Error{constructor(t="",o=null,f){super(t),this.message=t,this.name=o,this.value=f}},Tf=(t,o)=>{let f;if(!t)throw new Error("Schema object required for parse data!");if(typeof t=="function"){if(f=t.apply(null,[o]),f instanceof ht)throw f}else for(let e in t){let i=o[e],r=t[e];if(!r)throw new ht(`Guard not defined for field ${e} in input data!`,"general",o);if(!o.hasOwnProperty(e))throw new ht(`Field ${e} doesn't exists in input data!`,"general",o);if(typeof r=="function"){if(console.log(r.name),f=r.apply(null,[i]),f instanceof ht)throw f}else Tf(r,i)}return o},ab=(t,o)=>{let f;if(!t)throw new Error("Schema object required for parse data!");if(typeof t=="function"){if(f=t.apply(null,[o]),f instanceof ht)return{ok:!1,error:f}}else for(let e in t){let i=o[e],r=t[e];if(r)if(typeof r=="function"){if(f=r.apply(null,[o]),f instanceof ht)return{ok:!1,error:f}}else Tf(r,i)}return{ok:!0,output:o}},ob=(...t)=>o=>t.reduce((f,e)=>e(f),o),rb=ob,lb=(...t)=>o=>t.reduceRight((f,e)=>e(f),o),ub=lb,cb="VAL must be a string",Ef=(t=cb)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"?o:new ht(f,"string",o)},sr=t=>typeof t<"u"&&t!==null,db="VAL must starts with START_VAL",hb=(t,o=db)=>{if(!sr(t))throw new Error("START_VALUE not defined!");return function(f){let e=o.replace(/VAL/g,f).replace(/START_VAL/g,t);return typeof f=="string"&&f.startsWith(t)?f:new ht(e,"startsWith",f)}},fb="VAL must end with END_VAL",pb=(t,o=fb)=>{if(!sr(t))throw new Error("END_VALUE not defined!");return function(f){let e=o.replace(/VAL/g,f).replace(/END_VAL/g,t);return typeof f=="string"&&f.endsWith(t)?f:new ht(e,"endsWith",f)}},mb=()=>function(t){return t},gb="A symbol is required",vb=(t=gb)=>function(o){return typeof o=="symbol"?o:new ht(t,"symbol",o)},bb="VAL must be a bigint",yb=(t=bb)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="bigint"?o:new ht(f,"bigint",o)},_b="VAL must be valid date object or date string",Cb=(t=_b)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="object"&&o.getTime||typeof o=="string"&&!isNaN(Date.parse(o))?o:new ht(f,"date",o)},wb="The value must be a function",xb=(t=wb)=>function(o){return typeof o=="function"?o:new ht(t,"function",o)},kb="VAL must be an integer",Sb=(t=kb)=>function(o){let f=t.replace(/VAL/g,o);return Number.isInteger(o)?o:new ht(f,"integer",o)},Db="VAL must be an safe integer",Tb=(t=Db)=>function(o){let f=t.replace(/VAL/g,o);return Number.isSafeInteger(o)?o:new ht(f,"safeInteger",o)},Eb="VAL must be a great then MIN_VALUE",Ab=(t,o=Eb)=>{if(!sr(t))throw new Error("MIN_VALUE not defined!");return function(f){let e=o.replace(/VAL/g,f).replace(/MIN_VALUE/g,t),i=+f;return!isNaN(i)&&i>=+t?f:new ht(e,"minValue",f)}},Fb="VAL must be a less then MAX_VALUE",Ib=(t,o=Fb)=>{if(!sr(t))throw new Error("MAX_VALUE not defined!");return function(f){let e=o.replace(/VAL/g,f).replace(/MAX_VALUE/g,t),i=+f;return!isNaN(i)&&i<=+t?f:new ht(e,"maxValue",f)}},Lb="VAL must be a string in valid email format",Ob=(t=Lb)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)?o:new ht(f,"email",o)},Pb="Any value required",Bb=(t=Pb)=>function(o){let f=t.replace(/VAL/g,o);return typeof o<"u"&&o!==null&&o!==""?o:new ht(f,"required",o)},Nb="VAL must be a number",Rb=(t=Nb)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="number"&&!isNaN(+o)?o:new ht(f,"number",o)},zb="VAL must be an object",Hb=(t,o=zb)=>{if(typeof t!="object")throw new ht(o.replace(/VAL/g,t),"object",t);return sb({},t)},Vb="VAL must be between MIN_VAL and MAX_VAL",Mb=(t,o,f=Vb)=>{if(!sr(t))throw new Error("MIN_VALUE not defined!");if(!sr(o))throw new Error("MAX_VALUE not defined!");return function(e){let i=f.replace(/VAL/g,e).replace(/MIN_VAL/g,t).replace(/MAX_VAL/g,o),r=+e;return!isNaN(r)&&e>=+t&&e<=+o?e:new ht(i,"between",e)}},Wb="VAL must be a finite number",jb=(t=Wb)=>function(o){let f=t.replace(/VAL/g,o);return Number.isFinite(o)?o:new ht(f,"finite",o)},Ub="VAL must be a string in valid base 64 format",qb=(t=Ub)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(o)?o:new ht(f,"base64",o)},Yb="VAL can`t be a number",Gb=(t=Yb)=>function(o){let f=t.replace(/VAL/g,o);return isNaN(o)?o:new ht(f,"notNumber",o)},Kb="VAL must be a boolean",Xb=(t=Kb)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="boolean"?o:new ht(f,"boolean",o)},qp="VAL must be an array of TYPE",Zb=(t,o=qp)=>(!t&&!o&&(t=Ef(),o=qp),typeof t=="string"&&(o=t,t=Ef()),function(f){let e=o.replace(/VAL/g,f).replace(/TYPE/g,t.name);if(!Array.isArray(f))return new ht(e,"array",f);for(let i of f)if(t(i)instanceof ht)return new ht(e,"array",f);return f}),Jb="VAL must be a valid EMEI",Qb=t=>{let o=i=>{let r=0;for(;i>0;)r=r+i%10,i=parseInt(""+i/10,10);return r},f=(""+t).length;if(f!==15)return!1;let e=0;for(let i=f;i>=1;i--){let r=t%10;i%2===0&&(r=2*r),e+=o(r),t=parseInt(""+t/10,10)}return e%10===0},$b=(t=Jb)=>function(o){let f=t.replace(/VAL/g,o);return Qb(o)?o:new ht(f,"emei",o)},Af="VAL must be a string or array with length N",ey=(t,o=Af)=>function(f){let e=o.replace(/VAL/g,f).replace(/N/g,t);return(typeof f=="string"||Array.isArray(f))&&f.length===+t?f:new ht(e,"length",f)},ty=(t,o=Af)=>function(f){let e=o.replace(/VAL/g,f).replace(/N/g,t);return(typeof f=="string"||Array.isArray(f))&&f.length>=+t?f:new ht(e,"minLength",f)},ny=(t,o=Af)=>function(f){let e=o.replace(/VAL/g,f).replace(/N/g,t);return(typeof f=="string"||Array.isArray(f))&&f.length<=+t?f:new ht(e,"maxLength",f)},iy="VAL must be a valid ip address ipv4 or ipv6",sy="VAL must be a valid ipv4 address",ay="VAL must be a valid ipv6 address",Yp=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Gp=/^[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}$/,oy=(t=iy)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&(Yp.test(o)||Gp.test(o))?o:new ht(f,"ip",o)},ry=(t=sy)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&Yp.test(o)?o:new ht(f,"ipv4",o)},ly=(t=ay)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&Gp.test(o)?o:new ht(f,"ipv6",o)},uy="VAL must be a valid domain name, xn--* for internationalized names",cy=/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/,dy=(t=uy)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&cy.test(o)?o:new ht(f,"domain",o)},hy="VAL must be a valid url",fy=/^(?:(?:(?:https?|ftp|wss?):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,py=(t=hy)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&fy.test(o)?o:new ht(f,"url",o)},my="VAL must be a valid color in HEX, RGB(A), or HSL(A) format",gy="VAL must be a valid HEX color",vy="VAL must be a valid RGB(a) color",by="VAL must be a valid HSL(A) color",yy=/^#(?:[\da-f]{3}){1,2}$|^#(?:[\da-f]{4}){1,2}$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,_y=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,Cy=/^rgba?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^rgba?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,wy=/^hsla?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^hsla?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,xy=(t=my)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&yy.test(o)?o:new ht(f,"color",o)},ky=(t=gy)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&_y.test(o)?o:new ht(f,"hexColor",o)},Sy=(t=vy)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&Cy.test(o)?o:new ht(f,"rgbColor",o)},Dy=(t=by)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&wy.test(o)?o:new ht(f,"hslColor",o)},Kp=/^4\d{12}(?:\d{3,6})?$/u,Xp=/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,Zp=/^3[47]\d{13}$/u,Jp=/^6(?:011|5\d{2})\d{12,15}$/u,Qp=/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,$p=/^(?:2131|1800|35\d{3})\d{11}$/u,em=/^(?:6[27]\d{14,17}|81\d{14,17})$/u,tm="VAL must be a valid CC number (visa, mastercard, american express, discover, diners club, jcb, or union pay)",Ty="VAL must be a valid Visa card number",Ey="VAL must be a valid Mastercard card number",Ay="VAL must be a valid American Express card number",Fy="VAL must be a valid DISCOVER card number",Iy="VAL must be a valid DINERS CLUB card number",Ly="VAL must be a valid JCB card number",Oy="VAL must be a valid Union Pay card number",Py=(t=tm)=>function(o){let f=t.replace(/VAL/g,o);return typeof o=="string"&&(Kp.test(o)||Xp.test(o)||Zp.test(o)||Jp.test(o)||Qp.test(o)||$p.test(o)||em.test(o))?o:new ht(f,"creditCard",o)},ar=(t,o,f=tm)=>function(e){let i=f.replace(/VAL/g,e);return typeof e=="string"&&o.test(e)?e:new ht(i,t,e)},By=(t=Ty)=>ar("visa",Kp,t),Ny=(t=Ey)=>ar("mastercard",Xp,t),Ry=(t=Ay)=>ar("american express",Zp,t),zy=(t=Fy)=>ar("discover",Jp,t),Hy=(t=Iy)=>ar("diners club",Qp,t),Vy=(t=Ly)=>ar("jcb card",$p,t),My=(t=Oy)=>ar("union pay",em,t),Wy="The length of string must be VAL bytes",jy=(t,o=Wy)=>function(f){let e=o.replace(/VAL/g,f);return typeof f=="string"&&new TextEncoder().encode(f).length===t?f:new ht(e,"bytes",f)},Uy="VAL can`t be null or undefined.",qy=(t=Uy)=>function(o){let f=t.replace(/VAL/g,o);return sr(o)?o:new ht(f,"notNull",o)},Yy="The value must match the pattern",Gy=(t,o=Yy)=>function(f){let e=o.replace(/VAL/g,f);return(typeof t=="string"?new RegExp(t,"g"):t).test(""+f)?f:new ht(e,"pattern",f)},Ky="VAL must contains only digits",Xy=(t=Ky)=>function(o){let f=t.replace(/VAL/g,o);return/^\d+$/g.test(""+o)?o:new ht(f,"digits",o)},Zy="VAL must be a float",Jy=(t=Zy)=>function(o){let f=t.replace(/VAL/g,o);return!isNaN(o)&&+n%1!==0||/^\d*\.\d+$/.test(o)?o:new ht(f,"float",o)},Qy="VAL must must contains OBJ",$y=(t,o=Qy)=>function(f){let e=o.replace(/VAL/g,f).replace(/OBJ/g,t);return f.includes(t)?f:new ht(e,"contains",f)},e_="A VAL must have type TYPE";function t_(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)]$/,"$1").toLowerCase()}var n_=(t="string",o=e_)=>function(f){let e=o.replace(/VAL/g,f).replace(/TYPE/g,t);return t===t_(f)?f:new ht(e,"type",f)},i_="VAL must be an equal to VALUE",s_=(t,o=i_)=>function(f){let e=o.replace(/VAL/g,f).replace(/VALUE/g,t);return f===t?f:new ht(e,"equal",f)},a_="VAL must be a similar to VALUE",o_=(t,o=a_)=>function(f){let e=o.replace(/VAL/g,f).replace(/VALUE/g,t);return f==t?f:new ht(e,"similar",f)},r_="VAL must be a great then VALUE",l_=(t,o=r_)=>function(f){let e=o.replace(/VAL/g,f).replace(/VALUE/g,t);return f>t?f:new ht(e,"great",f)},u_="VAL must be a less then VALUE",c_=(t,o=u_)=>function(f){let e=o.replace(/VAL/g,f).replace(/VALUE/g,t);return f<t?f:new ht(e,"less",f)},d_="VAL must be a great or equal to VALUE",h_=(t,o=d_)=>function(f){let e=o.replace(/VAL/g,f).replace(/VALUE/g,t);return f>=t?f:new ht(e,"greatOrEqual",f)},f_="VAL must be a less or equal to VALUE",p_=(t,o=f_)=>function(f){let e=o.replace(/VAL/g,f).replace(/VALUE/g,t);return f<=t?f:new ht(e,"lessOrEqual",f)},m_="0.7.3",g_="18.05.2025, 14:43:24",v_=()=>{console.info(`%c Guardian %c v${m_} %c ${g_} `,"color: pink; font-weight: bold; background: #2b1700","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.G=Wp;var nt=(Cn=class{static log(o,f,e){if(o>Cn.DEBUG_LEVEL)return;let i={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},r;switch(o){case Cn.DEBUG_LEVELS.ERROR:r="error";break;case Cn.DEBUG_LEVELS.WARN:r="warn";break;case Cn.DEBUG_LEVELS.INFO:r="info";break;case Cn.DEBUG_LEVELS.DEBUG:r="debug";break;case Cn.DEBUG_LEVELS.TRACE:r="trace";break;default:return}console.group(`%c Model: ${f}`,i[r]),e!==void 0&&console.log("%c Data:",i.data,e),console.groupEnd()}static error(o,f){Cn.log(Cn.DEBUG_LEVELS.ERROR,o,f)}static warn(o,f){Cn.log(Cn.DEBUG_LEVELS.WARN,o,f)}static info(o,f){Cn.log(Cn.DEBUG_LEVELS.INFO,o,f)}static debug(o,f){Cn.log(Cn.DEBUG_LEVELS.DEBUG,o,f)}static trace(o,f){Cn.log(Cn.DEBUG_LEVELS.TRACE,o,f)}},ae(Cn,"DEBUG_LEVELS",{NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5}),ae(Cn,"DEBUG_LEVEL",Cn.DEBUG_LEVELS.NONE),Cn),b_="0.4.1",y_="18.05.2025, 14:39:57",nm=class{constructor(t={}){if(nt.DEBUG_LEVEL=t.debug?4:0,nt.debug("[Router] Init Router"),this.routes={},this.fallbackRoute=t.fallback||"/",this.maxRedirects=t.maxRedirects||5,this.redirectCount=0,this.basePath=t.base||"",this.middleware=[],this.beforeEachHooks=[],this.afterEachHooks=[],this.cache=new Map,this.cacheLimit=t.cacheLimit??50,this.touchStartX=0,this.enableSwipeNavigation=t.enableSwipeNavigation||!1,this.current=null,this.redirects={},this.useHash=t.useHash||!1,this.events={beforeNavigate:[],afterNavigate:[],routeNotFound:[],error:[]},this.plugins=[],this.enableSwipeNavigation&&this.initSwipeNavigation(),t.routes){nt.debug("[Router] Registering routes");for(let[o,f]of Object.entries(t.routes))this.addRoute(o,f)}t.plugins&&Array.isArray(t.plugins)&&(nt.debug("[Router] Registering plugins"),t.plugins.forEach(o=>{Array.isArray(o)?this.usePlugin(o[0],o[1]||{}):this.usePlugin(o)})),nt.debug("[Router] Subscribing to unhandledrejection event"),window.addEventListener("unhandledrejection",this.handleError.bind(this)),nt.debug("[Router] Router Initialized")}on(t,o){return nt.debug(`[Router] Subscribing to event ${t}`),this.events[t]&&this.events[t].push(o),this}emit(t,...o){if(nt.debug(`[Router] Emitting event ${t}`),this.events[t])for(let f of this.events[t]){let e=f(...o);if(t==="beforeNavigate"&&e===!1)return!1}return!0}initSwipeNavigation(){nt.debug("[Router] Initializing swipe navigation"),nt.debug("[Router] Adding touchstart event listener"),document.addEventListener("touchstart",t=>{this.touchStartX=t.touches[0].clientX},{passive:!0}),nt.debug("[Router] Adding touchend event listener"),document.addEventListener("touchend",t=>{let o=t.changedTouches[0].clientX,f=this.touchStartX-o;Math.abs(f)>100&&(f>0?(nt.debug("[Router] Swiping right (forward)"),window.history.forward()):(nt.debug("[Router] Swiping left (backward)"),window.history.back()))},{passive:!0})}handleError(t){nt.error("[Router] Error during navigation:",t),this.emit("error",t),this.routes["/error"]?this.navigateTo("/error",!0):this.navigateTo(this.fallbackRoute,!0)}sanitizePath(t){nt.debug("[Router] Sanitizing path:",t);try{if(!t)return"/";let o=new URL(t,window.location.origin),f=decodeURIComponent(o.pathname);return f=f.replace(/[<>'"`;(){}]/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/([^/])\/{2,}/g,"$1/").replace(/\/+/g,"/").replace(/(.+)\/$/,"$1").replace(/\.+/g,".").split("/").filter(e=>e!==".."&&e!==".").join("/"),f.startsWith("/")||(f="/"+f),this.isBlockedPath(f)?"/":(nt.debug("[Router] Sanitized path:",f),f)}catch(o){return nt.error("[Router] Error sanitizing path:",o),"/"}}isBlockedPath(t){return nt.debug("[Router] Checking if path is blocked:",t),[/^\/(api|admin|wp-admin|wp-content|wp-includes)/i,/\.(php|asp|aspx|jsp|cgi|config|env|git|sql|htaccess)$/i,/\/(.+\/)*\.{2,}\//,/javascript:/i,/data:/i,/vbscript:/i,/file:/i].some(o=>o.test(t))}test(t){nt.debug("[Router] Testing path:",t);let o=t,f=this.sanitizePath(t),e={original:o,sanitized:f,isBlocked:this.isBlockedPath(f),isModified:o!==f};return nt.debug(`[Router] test result for path ${t}:`,e),e}beforeEach(t){return nt.debug("[Router] Adding beforeEach hook"),this.beforeEachHooks.push(t),this}afterEach(t){return nt.debug("[Router] Adding afterEach hook"),this.afterEachHooks.push(t),this}use(t){return nt.debug("[Router] Adding middleware"),this.middleware.push(t),this}addRedirect(t,o){return nt.debug("[Router] Adding redirect from",t,"to",o),this.redirects[t]?!1:(this.redirects[t]=o,this)}addRoute(t,o){return nt.debug("[Router] Adding route",t),this.routes[t]=o,this}addNestedRoute(t,o,f){nt.debug(`[Router] Adding nested route ${o} to ${t}`);let e=`${t}${o}`.replace(/\/\//g,"/");return this.addRoute(e,f),this}addLazyRoute(t,o){return nt.debug("[Router] Adding lazy-loaded route",t),this.addRoute(t,async f=>{try{let e=await o();return(e.default||e)(f)}catch(e){throw e}}),this}addLazyNestedRoute(t,o,f){nt.debug("[Router] Adding lazy-loaded nested route",o,"to",t);let e=`${t}${o}`.replace(/\/\//g,"/");return this.addLazyRoute(e,f),this}addFallbackRoute(t){return nt.debug("[Router] Adding fallback route",t),this.fallbackRoute=t,this}add404Route(t){return nt.debug("[Router] Adding 404 route",t),this.routes["/404"]=t,this}addErrorRoute(t){return nt.debug("[Router] Adding error route",t),this.routes["/error"]=t,this}addProtectedRoute(t,o,f,e="/login"){return nt.debug("[Router] Adding protected route",t),this.addRoute(t,async i=>{if(await f(i))return nt.debug("[Router] Guard function passed, executing callback"),o(i);nt.debug("[Router] Guard function failed, redirecting to",e),await this.navigateTo(e,!0)}),this}removeRoute(t){return nt.debug("[Router] Removing route",t),this.routes[t]&&delete this.routes[t],this}updateRoute(t,o){return nt.debug("[Router] Updating route",t),this.routes[t]&&(this.routes[t]=o),this}getRoutes(){return nt.debug("[Router] Getting registered routes"),this.routes}async navigate(t){if(nt.debug("[Router] Navigating to",t),this.redirectCount>this.maxRedirects){nt.error("[Router] Maximum redirect limit reached, redirecting to",this.fallbackRoute),console.error("Maximum redirect limit reached"),this.redirectCount=0,this.emit("error",new Error("Maximum redirect limit reached")),await this.navigateTo("/error",!0);return}this.redirectCount++;let o=this.matchRoute(this.sanitizePath(t));if(o)try{if(nt.debug("[Router] Route matched:",o),this.emit("beforeNavigate",o)===!1){nt.debug("[Router] Navigation cancelled by beforeNavigate hook");return}if(this.redirects[o.path]){nt.debug("[Router] Redirecting to",this.redirects[o.path]),await this.navigateTo(this.redirects[o.path],!0);return}this.redirectCount++;for(let f of this.middleware)nt.debug("[Router] Executing middleware"),await f(o);for(let f of this.beforeEachHooks)nt.debug("[Router] Executing beforeEach hook"),await f(o);nt.debug("[Router] Executing route callback"),await o.callback(o.params);for(let f of this.afterEachHooks)nt.debug("[Router] Executing afterEach hook"),await f(o);this.current=o,this.emit("afterNavigate",o),nt.debug("[Router] Navigation completed")}catch(f){nt.error("[Router] Error during navigation:",f),console.error("Navigation error:",f),this.emit("error",f),this.routes["/error"]&&this.routes["/error"](f)}else nt.warn("[Router] Route not found:",t),this.redirectCount=0,this.emit("routeNotFound",t),this.routes["/404"]&&this.routes["/404"]()}async navigateTo(t,o=!1){nt.debug(`[Router] Navigating to ${t} ${o?"with replace state":""}`),this.redirectCount=0;let f=new URL(t,window.location.origin);o?(nt.debug("[Router] Replacing state with",f),window.history.replaceState({},"",f)):(nt.debug("[Router] Pushing state with",f),window.history.pushState({},"",f)),nt.debug("[Router] Navigating to",f),await this.navigate(f.pathname)}matchRoute(t){if(nt.debug("[Router] Matching route for",t),this.cache.has(t))return this.cache.get(t);nt.debug("[Router] Route not found in cache, performing match");let o=this._performMatch(t);if(this.cache.size>=this.cacheLimit){nt.debug("[Router] Cache limit reached, removing oldest entry");let f=this.cache.keys().next().value;this.cache.delete(f)}return nt.debug("[Router] Caching result for",t),this.cache.set(t,o),o}_performMatch(t){let[o,f]=t.split("?"),e=new URLSearchParams(f),i=Object.fromEntries(e);for(let r in this.routes){let d=[],g=r.replace(/:([^\/]+)/g,(C,k)=>(d.push(k),"([^/]+)")),_=t.match(new RegExp(`^${g}$`));if(_){let C=_.slice(1).reduce((k,E,I)=>(k[d[I]]=E,k),{});return{path:t,pattern:g,callback:this.routes[r],params:C,query:i}}}return null}clearCache(){nt.debug("[Router] Clearing cache"),this.cache.clear()}resetRedirectCount(){nt.debug("[Router] Resetting redirect count"),this.redirectCount=0}getFullPath(t){return nt.debug("[Router] Getting full path for",t),this.useHash?`#${t}`:t}getPathFromLocation(){return nt.debug("[Router] Getting path from location"),this.useHash?window.location.hash.slice(1)||"/":window.location.pathname}listen(){return nt.debug("[Router] Starting to listen for navigation events"),this._handleNavigation=()=>{this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(t=>{})},this._handleLinkClick=t=>{if(t.target.tagName==="A"){let o=t.target.getAttribute("href");if(o&&(this.useHash&&o.startsWith("#")||!this.useHash&&t.target.href.startsWith(window.location.origin))){t.preventDefault();let f=this.useHash?o.slice(1):t.target.pathname;this.redirectCount=0,this.navigateTo(f).then(e=>{})}}},nt.debug("[Router] Listening for navigation events"),window.addEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),nt.debug("[Router] Listening for link clicks"),document.addEventListener("click",this._handleLinkClick),this._initPlugins(),this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(t=>{}),this}_initPlugins(){nt.debug("[Router] Init plugins"),this.plugins.forEach(({plugin:t,options:o})=>{typeof t.onInit=="function"&&t.onInit(this,o)})}usePlugin(t,o={}){if(!t)return this;if(nt.debug("[Router] Using plugin",t),typeof t=="object"&&typeof t.install=="function")nt.debug("[Router] Installing plugin",t),t.install(this,o);else if(typeof t=="function")nt.debug("[Router] Executing plugin",t),t(this,o);else return nt.warn("Invalid plugin format. Plugin must be an object with install method or a function."),this;return nt.debug("[Router] Add plugin to store",t),this.plugins.push({plugin:t,options:o}),nt.debug("[Router] Plugin initialized"),this}destroy(){nt.debug("[Router] Destroying router"),this.plugins.forEach(({plugin:t,options:o})=>{nt.debug("[Router] Destroying plugin",t),typeof t.onDestroy=="function"&&t.onDestroy(this,o)}),nt.debug("[Router] Removing event listeners"),window.removeEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),document.removeEventListener("click",this._handleLinkClick),window.removeEventListener("unhandledrejection",this.handleError),this._handleNavigation=null,this._handleLinkClick=null,this.routes={},this.plugins=[],this.cache.clear(),nt.debug("[Router] Router destroyed")}};nm.info=()=>{console.info(`%c Router %c v${b_} %c ${y_} `,"color: #ffffff; font-weight: bold; background: #ed1cab","color: white; background: darkgreen","color: white; background: #0080fe;")};var __=nm,C_=__;globalThis.Router=C_;var w_=class{constructor(){this.events=new Map}on(t,o){return this.events.has(t)||this.events.set(t,new Set),this.events.get(t).add(o),()=>this.off(t,o)}off(t,o){this.events.has(t)&&this.events.get(t).delete(o)}emit(t,o){this.events.has(t)&&this.events.get(t).forEach(f=>{try{f(o)}catch(e){console.error(`Error when performing an event handler ${t}:`,e)}})}},Ff=w_,x_=`
    <style>
        #model-devtools-panel  { 
            position: fixed;
            bottom: 0;
            right: 0;
            width: 300px;
            height: 400px;
            background: #242424;
            color: #fff;
            border: 1px solid #333;
            z-index: 9999;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .devtools-section {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
            }
            
            h3 {
                margin: 0;
                font-size: 14px;
                border-bottom: 1px solid #333;
                padding-bottom: 4px;
            }
        }
        
        #model-dev-tools-toggle-button {
            position: fixed;
            bottom: 10px;
            right: 10px;
            z-index: 9998;
            height: 36px;
            width: 36px;
            background: #444;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }        

        #model-devtools-time-travel-dialog {
            position: fixed;
            bottom: 0;
            right: 304px;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 4px;
            height: 400px;
            width: 300px;
            z-index: 10000;
            color: #fff;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .time-travel-items {
                padding: 4px; 
                height: calc(100% - 35px); 
                overflow: auto;
                position: relative;
            }
            
            .time-travel-item {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
                
                button {
                    margin-top: 8px;
                    background: dodgerblue;
                }
            }
        }
        
        #model-devtools-panel, #model-devtools-time-travel-dialog {
            button {
                height: 20px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                font-size: 12px;
                border-radius: 4px;
                border: 1px solid #444;
                background: #333;
                color: #fff;
                cursor: pointer;
                
                @media (hover: hover) {
                    &:hover {
                        background: #444;
                    }
                }

                @media (hover: none) {
                    &:hover {
                        background: #444;
                    }
                }
            }        
        }
        
        .dev-tools-header {
            padding: 8px; 
            border-bottom: 1px solid #333; 
            display: flex; 
            justify-content: space-between;
        }
    </style>
`,k_=x_,S_=class{constructor(t,o={}){this.model=t,this.options={enabled:!0,timeTravel:!0,maxSnapshots:50,...o},this.history=[],this.currentIndex=-1,this.initializeDevTools()}initializeDevTools(){window.__MODEL_DEVTOOLS__=this,this.createDevToolsPanel(),this.setupModelListeners()}createDevToolsPanel(){const t=document.createElement("div");t.id="model-devtools-panel",t.style.cssText="display: none;";const o=document.createElement("div");o.innerHTML=`
            ${k_}
            <div class="dev-tools-header">
                <span>🛠 Model DevTools</span>
                <div>
                    <button id="devtools-time-travel" title="Time Travel">⏱</button>
                    <button id="devtools-close" title="Close">×</button>
                </div>
            </div>
        `;const f=document.createElement("div");f.style.cssText=`
            padding: 8px;
            height: calc(100% - 35px);
            overflow: auto;
        `,f.id="model-devtools-content",t.appendChild(o),t.appendChild(f),document.body.appendChild(t),this.createToggleButton(),document.getElementById("devtools-close").onclick=()=>this.togglePanel(),document.getElementById("devtools-time-travel").onclick=()=>this.showTimeTravelDialog()}showTimeTravelDialog(){let t=document.getElementById("model-devtools-time-travel-dialog");t||(t=document.createElement("div"),t.id="model-devtools-time-travel-dialog");const o=[...this.history].reverse().map((f,e)=>`
            <div class="time-travel-item">
                <div>Time: ${new Date(f.timestamp).toLocaleTimeString()}</div>
                <div>Type: ${f.type}</div>
                <div>Property: ${f.property||f.event||f.path||""}</div>
                <div>Value: ${f.type==="computed-update"?f.newValue:typeof f.oldValue<"u"&&typeof f.newValue<"u"?`${JSON.stringify(f.oldValue)} -> ${JSON.stringify(f.newValue)}`:JSON.stringify(f.newValue||f.value||"")}</div>
                <button style="display: none" onclick="window.__MODEL_DEVTOOLS__.timeTravel(${this.history.length-1-e})">Apply this state</button>
            </div>
        `).join("");t.innerHTML=`
            <div class="dev-tools-header">
                <span>⏱ Time Travel</span>
                <div>
                    <button style="margin-left: auto;" onclick="window.__MODEL_DEVTOOLS__.clearTimeTravel()">CLear</button>
                    <button onclick="this.parentElement.parentElement.parentElement.remove()">×</button>                
                </div>
            </div>
            <div class="time-travel-items">${o||"Nothing to show!"}</div>
        `,document.body.appendChild(t)}createToggleButton(){const t=document.createElement("button");t.id="model-dev-tools-toggle-button",t.textContent="🛠",t.title="Model DevTools",t.onclick=()=>this.togglePanel(),document.body.appendChild(t)}setupModelListeners(){this.model.store.on("change",t=>{this.logChange({type:"data-change",path:t.path,oldValue:t.oldValue,newValue:t.newValue,timestamp:Date.now()})}),this.model.store.on("*",(t,o)=>{t!=="change"&&t!=="compute"&&t!=="arrayChange"&&this.logChange({type:"store-event",event:t,data:o,timestamp:Date.now()})}),this.model.on("*",(t,o)=>{t!=="change"&&t!=="compute"&&this.logChange({type:"model-event",event:t,data:o,timestamp:Date.now()})}),this.model.store.on("compute",t=>{this.logChange({type:"computed-update",property:t.key,dependencies:Array.from(t.dependencies),newValue:t.value,timestamp:Date.now()})}),this.model.store.on("arrayChange",t=>{this.logChange({type:"array-operation",path:t.path,method:t.method,args:t.args,oldValue:t.oldValue,newValue:t.newValue,timestamp:Date.now()})})}logChange(t){this.options.enabled&&(this.options.timeTravel&&this.saveSnapshot(t),this.updateDisplay())}saveSnapshot(t){const o={...t,state:JSON.parse(JSON.stringify(this.model.data)),computed:this.getComputedValues()};this.history=this.history.slice(0,this.currentIndex+1),this.history.push(o),this.currentIndex++,this.history.length>this.options.maxSnapshots&&(this.history.shift(),this.currentIndex--)}updateDisplay(){const t=document.getElementById("model-devtools-content");if(!t)return;const o=d=>{if(d===void 0)return"undefined";if(d===null)return"null";try{return Array.isArray(d)?`Array(${d.length}) ${JSON.stringify(d,null,2)}`:JSON.stringify(d,null,2)}catch{return String(d)}},f=this.getRecentChanges();let e="";for(const d of f){let g;try{const _={...d,timestamp:new Date(d.timestamp).toLocaleTimeString()};g=JSON.stringify(_,null,2)}catch(_){g=`Error formatting change: ${_.message}`}e+=`
            <div style="border-bottom: 1px solid #444; padding-bottom: 8px; overflow-x: auto">
                <pre>${g}</pre>
            </div>
`}const i=this.getComputedValues();t.innerHTML=`
        <div class="devtools-section">
            <h3>Current State:</h3>
            <pre>${o(this.model.data)}</pre>
        </div>
        <div class="devtools-section">
            <h3>Computed Values:</h3>
            <pre>${o(i)}</pre>
        </div>
        <div class="devtools-section">
            <h3>DOM Dependencies:</h3>
            <pre>${this.formatDOMDependencies()}</pre>
        </div>
        <div class="devtools-section">
            <h3>Recent Changes:</h3>
            ${e}
        </div>
    `,document.getElementById("model-devtools-time-travel-dialog")&&this.showTimeTravelDialog()}formatDOMDependencies(){try{const t={};return this.model.dom.domDependencies.forEach((o,f)=>{t[f]=Array.from(o).map(e=>({type:e.type,element:e.element.tagName}))}),JSON.stringify(t,null,2)}catch(t){return`Error formatting DOM dependencies: ${t.message}`}}getComputedValues(){if(!this.model.computed)return{};if(typeof this.model.computed.all=="function")return this.model.computed.all();if(this.model.computed.keys&&Array.isArray(this.model.computed.keys)){const o={};for(const f of this.model.computed.keys)o[f]=this.model.computed.getValue(f);return o}const t={};for(const o in this.model.data)this.model.computed&&typeof this.model.computed[o]<"u"&&(t[o]=this.model.data[o]);return t}getRecentChanges(){return this.history.slice(-5).reverse()}togglePanel(){const t=document.getElementById("model-devtools-panel");t&&(t.style.display=t.style.display==="none"?"block":"none"),t.style.display==="none"&&document.getElementById("model-devtools-time-travel-dialog").remove()}inspect(t){return this.model.store.get(t)}timeTravel(t){this.options.timeTravel}clearTimeTravel(){this.history=[],this.currentIndex=-1,this.showTimeTravelDialog()}startPerfMonitoring(){this.perfMetrics={updates:0,computations:0,domUpdates:0,startTime:Date.now()},this.model.store.on("change",()=>{this.perfMetrics.updates++}),this.model.store.on("compute",()=>{this.perfMetrics.computations++})}getPerfReport(){const t=(Date.now()-this.perfMetrics.startTime)/1e3;return{totalUpdates:this.perfMetrics.updates,updatesPerSecond:this.perfMetrics.updates/t,computationsPerSecond:this.perfMetrics.computations/t,domUpdatesPerSecond:this.perfMetrics.domUpdates/t}}},D_=S_,T_=class{constructor(){this.middlewares=[]}use(t){if(typeof t!="function"){console.error("MIDDLEWARE should be a function!");return}this.middlewares.push(t)}async process(t){let o=-1;const f=async()=>{o++,o<this.middlewares.length&&await this.middlewares[o](t,f)};return await f(),t}},E_=T_,ze=(wn=class{static log(o,f,e){if(o>wn.DEBUG_LEVEL)return;const i={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"};let r;switch(o){case wn.DEBUG_LEVELS.ERROR:r="error";break;case wn.DEBUG_LEVELS.WARN:r="warn";break;case wn.DEBUG_LEVELS.INFO:r="info";break;case wn.DEBUG_LEVELS.DEBUG:r="debug";break;case wn.DEBUG_LEVELS.TRACE:r="trace";break;default:return}console.group(`%c Model: ${f}`,i[r]),e!==void 0&&console.log("%c Data:",i.data,e),console.groupEnd()}static error(o,f){wn.log(wn.DEBUG_LEVELS.ERROR,o,f)}static warn(o,f){wn.log(wn.DEBUG_LEVELS.WARN,o,f)}static info(o,f){wn.log(wn.DEBUG_LEVELS.INFO,o,f)}static debug(o,f){wn.log(wn.DEBUG_LEVELS.DEBUG,o,f)}static trace(o,f){wn.log(wn.DEBUG_LEVELS.TRACE,o,f)}},ae(wn,"DEBUG_LEVELS",{NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5}),ae(wn,"DEBUG_LEVEL",wn.DEBUG_LEVELS.NONE),wn),A_=class extends Ff{constructor(t={},o){ze.DEBUG_LEVEL=o.options.debug?4:0,ze.debug("Init ReactiveStore"),super(),this.model=o,ze.DEBUG_LEVEL=this.model.options.debug?4:0,ze.debug("Init ReactiveStore"),this.state=this.createReactiveProxy(t),this.watchers=new Map,this.previousState=JSON.parse(JSON.stringify(t)),ze.debug("Init MiddlewareManager"),this.middleware=new E_,ze.debug("MiddlewareManager initialized"),ze.debug("ReactiveStore initialized")}use(t){ze.debug("Registering middleware:",t),this.middleware.use(t)}createReactiveProxy(t,o=""){return ze.debug(`Creating reactive object with path ${o} for`,t),Array.isArray(t)?this.createArrayProxy(t,o):new Proxy(t,{get:(f,e)=>{if(typeof e=="symbol")return f[e];const i=f[e],r=o?`${o}.${e}`:e;return i&&typeof i=="object"?this.createReactiveProxy(i,r):i},set:async(f,e,i)=>{var _,C;if(typeof e=="symbol")return f[e]=i,!0;const r=o?`${o}.${e}`:e,d=f[e];if(d===i)return!0;if((_=this.validators)!=null&&_.has(`${r}`)&&!this.validators.get(`${r}`)(i))return!1;(C=this.formatters)!=null&&C.has(`${r}`)&&(i=this.formatters.get(`${r}`)(i)),i&&typeof i=="object"&&(i=this.createReactiveProxy(i,r));const g={prop:e,oldValue:d,newValue:i,preventDefault:!1};return await this.middleware.process(g),g.preventDefault||(f[e]=i,this.emit("change",{path:r,oldValue:d,newValue:i}),this.watchers.has(r)&&this.watchers.get(r).forEach(k=>{k(i,d)})),!0},deleteProperty:(f,e)=>{if(typeof e=="symbol")return delete f[e];const i=o?`${o}.${e}`:e,r=f[e],d=delete f[e];return d&&(this.emit("delete",{path:i,oldValue:r}),this.watchers.has(i)&&this.watchers.get(i).forEach(g=>{g(void 0,r)})),d}})}createArrayProxy(t,o){return ze.debug(`Creating reactive array with path ${o} for`,t),new Proxy(t,{get:(f,e)=>{if(typeof e=="symbol")return f[e];const i=f[e];return typeof i=="function"&&["push","pop","shift","unshift","splice","sort","reverse"].includes(e)?(...r)=>{const d=[...f],g=f[e].apply(f,r),_={prop:o,oldValue:d,newValue:f,method:e,args:r,preventDefault:!1};return this.middleware.process(_).then(()=>{_.preventDefault||(this.emit("arrayChange",{path:o,method:e,args:r,oldValue:d,newValue:f}),this.emit("change",{path:o,oldValue:d,newValue:f,method:e,args:r}),this.watchers.has(o)&&this.watchers.get(o).forEach(C=>{C(f,d)}))}),g}:typeof e!="symbol"&&!isNaN(Number(e))&&i&&typeof i=="object"?this.createReactiveProxy(i,`${o}[${e}]`):i},set:async(f,e,i)=>{var _,C;if(typeof e=="symbol")return f[e]=i,!0;const r=o?`${o}.${e}`:e,d=f[e];if(d===i)return!0;if((_=this.validators)!=null&&_.has(r)&&!this.validators.get(r)(i))return!1;(C=this.formatters)!=null&&C.has(r)&&(i=this.formatters.get(r)(i)),f[e]=i,i&&typeof i=="object"&&(i=this.createReactiveProxy(i,`${o}[${e}]`));const g={prop:e,oldValue:d,newValue:i,preventDefault:!1};return await this.middleware.process(g),g.preventDefault||(f[e]=i,this.middleware.process(g).then(()=>{g.preventDefault||(this.emit("arrayChange",{path:r,method:null,args:null,oldValue:d,newValue:i}),this.emit("change",{path:r,oldValue:d,newValue:i,arrayIndex:Number(e)}),this.watchers.has(r)&&this.watchers.get(r).forEach(k=>{k(i,d)}))})),!0}})}applyArrayMethod(t,o,...f){ze.debug(`Applying array method ${o} to path ${t} with args`,f);const e=this.get(t);if(!Array.isArray(e))return console.error(`Путь ${t} не является массивом!`),!1;const i=[...e],r=e[o].apply(e,f);return this.emit("arrayChange",{path:t,method:o,args:f,oldValue:i,newValue:[...e]}),this.emit("change",{path:t,oldValue:i,newValue:[...e]}),this.watchers.has(t)&&this.watchers.get(t).forEach(d=>{d([...e],i)}),r}applyArrayChanges(t,o){ze.debug(`Applying custom array changes to path ${t} with callback`,o);const f=this.get(t);if(!Array.isArray(f))return console.error(`The path ${t} is not an array!`),!1;const e=[...f],i=o(f);return this.emit("arrayChange",{path:t,method:"custom",args:null,oldValue:e,newValue:[...f]}),this.emit("change",{path:t,oldValue:e,newValue:[...f]}),this.watchers.has(t)&&this.watchers.get(t).forEach(r=>{r([...f],e)}),i}detectArrayChanges(t,o=[]){ze.debug("Detecting changes between arrays");const f={added:[],removed:[],moved:[]};for(let e=0;e<t.length;e++){const i=t[e],r=o.findIndex(d=>JSON.stringify(d)===JSON.stringify(i));r===-1?f.added.push({index:e,item:i}):r!==e&&f.moved.push({oldIndex:r,newIndex:e,item:i})}for(let e=0;e<o.length;e++){const i=o[e];t.findIndex(d=>JSON.stringify(d)===JSON.stringify(i))===-1&&f.removed.push({index:e,item:i})}return ze.debug("Detected changes:",f),f}watch(t,o){return ze.debug(`Watching path ${t} with callback`,o),this.watchers.has(t)||this.watchers.set(t,new Set),this.watchers.get(t).add(o),()=>{this.watchers.has(t)&&this.watchers.get(t).delete(o)}}get(t){if(ze.debug(`Getting value at path ${t}`),!t)return this.state;const o=t.split(".");let f=this.state;for(const e of o){if(f==null)return;f=f[e]}return f}set(t,o){ze.debug(`Setting value at path ${t} to`,o);const f=t.split(".");let e=this.state;for(let i=0;i<f.length-1;i++)e[f[i]]===void 0&&(e[f[i]]={}),e=e[f[i]];return e[f[f.length-1]]=o,o}batch(t){ze.debug("Batch updating state with",t),this.previousState=JSON.parse(JSON.stringify(this.state)),typeof t=="function"?t(this.state):typeof t=="object"&&Object.entries(t).forEach(([o,f])=>{this.set(o,f)}),this.emit("batchComplete",{previousState:this.previousState,currentState:this.state})}getState(){return ze.debug("Getting entire state"),this.state}getPreviousState(){return ze.debug("Getting previous state"),this.previousState}toJSON(){return ze.debug("Converting state to JSON"),JSON.stringify(this.state)}fromJSON(t){ze.debug("Restoring state from JSON",t);const o=JSON.parse(t);this.previousState=JSON.parse(JSON.stringify(this.state)),Object.keys(this.state).forEach(f=>{delete this.state[f]}),Object.entries(o).forEach(([f,e])=>{this.state[f]=e}),this.emit("restore",{previousState:this.previousState,currentState:this.state})}addValidator(t,o){ze.debug(`Adding validator for path ${t}`),this.validators||(this.validators=new Map),this.validators.set(t,o)}addFormatter(t,o){ze.debug(`Adding formatter for path ${t}`),this.formatters||(this.formatters=new Map),this.formatters.set(t,o)}isValidPath(t){ze.debug(`Validating path ${t}`);try{return this.get(t)!==void 0}catch(o){return ze.error(`Error validating path ${t}:`,o),!1}}destroy(){this.state=null,this.watchers.clear(),this.previousState=null,ze.debug("ReactiveStore destroyed")}},F_=class{constructor(t,o){ze.DEBUG_LEVEL=o.options.debug?4:0,ze.debug("Init LoopManager"),this.domManager=t,this.model=o,this.loops=new Map,this.loopsIn=[],ze.debug("LoopManager initialized")}parseLoops(t){ze.debug("Parsing loops with data-for...");const o=t.querySelectorAll("[data-for]");ze.debug("Found elements with data-for:",o.length),o.forEach(e=>{const i=e.getAttribute("data-for").trim(),r=i.match(/^\s*(\w+)(?:\s*,\s*(\w+))?\s+in\s+(\w+(?:\.\w+)*)\s*$/);if(!r){console.error("Invalid expression format data-for:",i);return}const[d,g,_,C]=r,k=this.model.store.get(C);if(!Array.isArray(k)){console.error(`The value in the ${C} path is not an array:`,k);return}const E=e.cloneNode(!0);this.loops.set(e,{template:E,itemName:g,indexName:_,arrayPath:C,parentNode:e.parentNode}),this.domManager.registerDomDependency(C,e,{type:"loop",arrayPath:C}),this.updateLoop(e)}),ze.debug("Parsing loops with data-in...");const f=t.querySelectorAll("[data-in]");ze.debug("Found elements with data-in:",f.length),f.forEach(e=>{const i=e.getAttribute("data-in"),r=i.match(/^\s*(\w+)\s+in\s+(\S+)\s*$/);if(!r){console.error(`Invalid data-in syntax: ${i}`);return}const[d,g,_]=r,C=e.innerHTML,k=e.parentNode,E=document.createComment(`data-in: ${i}`);e.style.display="none",k.insertBefore(E,e),this.loopsIn.push({type:"in",originalElement:e,template:C,placeholder:E,objectPath:_,keyVar:g,elements:[]});const I=this.model.store.get(_);I&&typeof I=="object"&&!Array.isArray(I)&&this.updateInLoop(this.loopsIn[this.loopsIn.length-1],I)})}updateInLoop(t,o){t.elements.forEach(f=>f.remove()),t.elements=[],!(!o||typeof o!="object"||Array.isArray(o))&&Object.keys(o).forEach(f=>{ze.debug(`Updating loop for key: ${f}`);const e=t.originalElement.cloneNode(!0);e.removeAttribute("data-in"),e.style.display="";const i={[t.keyVar]:f};e.innerHTML=this.processTemplate(t.template,o,f,i),t.placeholder.parentNode.insertBefore(e,t.placeholder.nextSibling),t.elements.push(e),this.domManager.bindDOM(e)})}processTemplate(t,o,f,e){return ze.debug("Processing template:",t),ze.debug("	 With data:",o),ze.debug(`	 For key: ${f}`),ze.debug("	 With context:",e),t.replace(/\{\{\s*([^}]+)\s*\}\}/g,(i,r)=>{r=r.trim();const d=Object.keys(e)[0];if(r===d)return f;ze.debug(`Template: Processing path: ${r}`);const g=new RegExp(`(\\w+)\\[${d}\\]`),_=r.match(g);if(_){_[1];const k=o;if(k&&typeof k=="object")return k[f]!==void 0?k[f]:""}const C=this.model.store.get(r);return C!==void 0?C:""})}updateLoops(t,o){ze.debug("Updating data-for loops for ${path}",this.loops),this.loops.forEach((f,e)=>{f.arrayPath===t&&this.updateLoop(e)}),ze.debug(`Updating data-in loops for ${t}`,this.loopsIn),this.loopsIn.forEach(f=>{if(f.type==="in"&&(f.objectPath===t||t.startsWith(f.objectPath+"."))){const e=this.model.store.get(f.objectPath);e&&typeof e=="object"&&this.updateInLoop(f,e)}})}updateLoop(t){ze.debug("Updating loop for element:",t);const o=this.loops.get(t)||this.loopsIn.find(C=>C.originalElement===t)[0];if(!o){console.error("Информация о цикле не найдена для элемента");return}const{template:f,itemName:e,indexName:i,arrayPath:r,parentNode:d}=o,g=this.model.store.get(r);if(!Array.isArray(g)){console.error("Значение не является массивом:",g);return}d.querySelectorAll(`[data-generated-for="${r}"]`).forEach(C=>C.remove()),g.forEach((C,k)=>{const E=f.cloneNode(!0);E.style.display="",E.removeAttribute("data-for"),E.setAttribute("data-generated-for",r),E.setAttribute("data-item-index",""+k),ze.debug(`Creating new loop element for ${r} at index ${k}`),this.domManager.processTemplateNode(E,{[e]:C,[i||"index"]:k}),ze.debug("Insert new node",E),d.insertBefore(E,t)}),t.style.display="none"}updateLoopPart(t,o,f,e){const i=this.loops.get(t);if(!i)return;const{template:r,itemName:d,indexName:g,parentNode:_}=i,C=this.model.store.get(o);if(!Array.isArray(C))return;const k=Array.from(_.querySelectorAll(`[data-generated-for="${o}"]`));if(e===void 0||k.length!==C.length)return this.updateLoop(t);const E=k[e];if(E){const I=r.cloneNode(!0);for(this.domManager.processTemplateNode(I,{[d]:C[e],[g||"index"]:e});E.firstChild;)E.removeChild(E.firstChild);for(;I.firstChild;)E.appendChild(I.firstChild);Array.from(I.attributes).forEach(B=>{E.setAttribute(B.name,B.value)})}}getLoops(){return{for:this.loops,in:this.loopsIn}}destroy(){this.loops.clear(),this.loopsIn=[],ze.debug("LoopManager destroyed")}},ku=class{static evaluateExpression(t,o){try{if(t.startsWith("{{")&&t.endsWith("}}")){const f=t.substring(2,t.length-2).trim();return this.getValueFromContext(o,f)}return this.parseExpression(t,o)}catch(f){return console.error("Ошибка при вычислении выражения:",f),!1}}static getValueFromContext(t,o){return o?o.split(".").reduce((f,e)=>{const i=e.match(/^([^\[]+)(?:\[(\d+)\])?$/);if(i){const[r,d,g]=i,_=f==null?void 0:f[d];return g!==void 0&&Array.isArray(_)?_[parseInt(g,10)]:_}return f==null?void 0:f[e]},t):t}static parseExpression(t,o){t=t.trim();const f=t.match(/(.+?)\s*\?\s*(.+?)\s*:\s*(.+)/);if(f){const[i,r,d,g]=f;return this.parseExpression(r,o)?this.parseExpression(d,o):this.parseExpression(g,o)}if(t.includes("&&"))return t.split("&&").every(r=>this.parseExpression(r.trim(),o));if(t.includes("||"))return t.split("||").some(r=>this.parseExpression(r.trim(),o));const e=t.match(/(.+?)\s*(===|==|!==|!=|>=|<=|>|<)\s*(.+)/);if(e){const[i,r,d,g]=e,_=this.parseExpression(r.trim(),o),C=this.parseExpression(g.trim(),o);switch(d){case"==":return _==C;case"===":return _===C;case"!=":return _!=C;case"!==":return _!==C;case">":return _>C;case"<":return _<C;case">=":return _>=C;case"<=":return _<=C}}if(t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"'))return t.substring(1,t.length-1);if(/^-?\d+(\.\d+)?$/.test(t))return parseFloat(t);if(t==="true")return!0;if(t==="false")return!1;if(t==="null")return null;if(t!=="undefined")return this.getValueFromContext(o,t)}static extractVariables(t){const o=[],e=t.replace(/'[^']*'/g,"''").replace(/"[^"]*"/g,'""').match(/[a-zA-Z_][a-zA-Z0-9_]*(\.([a-zA-Z_][a-zA-Z0-9_]*))*(\[\d+\])*/g);return e&&e.forEach(i=>{const r=i.split(".")[0].split("[")[0].trim();["true","false","null","undefined"].includes(r)||o.includes(r)||o.push(r)}),o}},I_=class{constructor(t,o){ze.DEBUG_LEVEL=o.options.debug?4:0,ze.debug("ConditionalManager: Init ConditionalManager"),this.dom=t,this.model=o,this.dependencies=new Map,this.conditionalGroups=[],this.subscribe(),ze.debug("ConditionalManager: ConditionalManager initialized")}subscribe(){ze.debug("ConditionalManager: Subscribe to store changes"),this.model.store.on("change",t=>{this.getGroupsByPath(t.path).forEach(f=>{this.updateConditionalGroup(f)})})}getGroupsByPath(t){if(!t)return[];const o=new Set;return this.conditionalGroups.forEach(f=>{f.some(i=>i.expression?i.expression.includes(t)||t.startsWith(this.extractBasePath(i.expression)):!1)&&o.add(f)}),Array.from(o)}extractBasePath(t){const o=t.match(/[a-zA-Z_][a-zA-Z0-9_]*/g);return o?o[0]:""}parseConditionals(t){ze.debug("ConditionalManager: Parse conditionals (data-if, data-else-if, data-else)...");const o=t.querySelectorAll("[data-if],[data-else-if],[data-else]");let f=[];const e=[];o.forEach(i=>{i.hasAttribute("data-if")?(ze.debug("ConditionalManager: Found data-if in element:",i),f.length&&e.push(f),f=[{element:i,type:"if",expression:i.getAttribute("data-if")}]):i.hasAttribute("data-else-if")?(ze.debug("ConditionalManager: Found data-else-if in element:",i),f.length&&this.isAdjacentNode(f[f.length-1].element,i)?f.push({element:i,type:"else-if",expression:i.getAttribute("data-else-if")}):(f.length&&e.push(f),f=[{element:i,type:"if",expression:i.getAttribute("data-else-if")}])):i.hasAttribute("data-else")&&(ze.debug("ConditionalManager: Found data-else in element:",i),f.length&&this.isAdjacentNode(f[f.length-1].element,i)?(f.push({element:i,type:"else",expression:null}),e.push(f),f=[]):ze.warn("data-else without previous data-if or data-else-if",i))}),f.length&&e.push(f),this.conditionalGroups=e,e.forEach(i=>this.updateConditionalGroup(i)),this.setupDependencies(o)}isAdjacentNode(t,o){let f=t.nextSibling;for(;f;){if(f===o)return!0;if(f.nodeType===1&&!this.isWhitespaceNode(f))return!1;f=f.nextSibling}return!1}isWhitespaceNode(t){return t.nodeType===3&&t.textContent.trim()===""}updateConditionalGroup(t){const o=this.model&&this.model.store?{...this.model.store.getState()}:this.model&&this.model.data?this.model.data:{};let f=!1;for(const e of t)e.type==="if"||e.type==="else-if"?!f&&ku.evaluateExpression(e.expression,o)?(e.element.style.display="",f=!0):e.element.style.display="none":e.type==="else"&&(e.element.style.display=f?"none":"")}updateConditional(t,o){const f=this.findGroupForElement(t);if(f)this.updateConditionalGroup(f);else{const e=this.model&&this.model.store?{...this.model.store.getState()}:this.model&&this.model.data?this.model.data:{},i=ku.evaluateExpression(o,e);t.style.display=i?"":"none"}}findGroupForElement(t){for(const o of this.conditionalGroups||[])if(o.some(f=>f.element===t))return o;return null}setupDependencies(t){this.dependencies=new Map,t.forEach(o=>{let f;if(o.hasAttribute("data-if"))f=o.getAttribute("data-if");else if(o.hasAttribute("data-else-if"))f=o.getAttribute("data-else-if");else return;ku.extractVariables(f).forEach(i=>{this.dependencies.has(i)||this.dependencies.set(i,[]),this.dependencies.get(i).push({element:o,expression:f,type:o.hasAttribute("data-if")?"if":"else-if"})})})}getDependenciesByPath(t){const o=[];return this.dependencies.forEach((f,e)=>{(e===t||t.startsWith(e+"."))&&o.push(...f)}),o}destroy(){this.dependencies.clear(),this.conditionalGroups=[],ze.debug("ConditionalManager: Destroyed")}},L_=class{constructor(t,o){this.domManager=t,this.model=o,ze.DEBUG_LEVEL=this.model.options.debug?4:0,ze.debug("AttributeManager: Init AttributeManager")}parseAttributesBind(t){ze.debug("AttributeManager: Parsing attributes bind with data-bind...");const o=t.querySelectorAll("[data-bind]");ze.debug("AttributeManager: Found elements with data-bind:",o.length),o.forEach(f=>{ze.debug("AttributeManager: Parsing element with data-bind:",f);const e=f.getAttribute("data-bind");try{const i=JSON.parse(e.replace(/'/g,'"'));for(const[r,d]of Object.entries(i)){const g=ku.extractVariables(d);ze.debug(`AttributeManager: Found variables for ${r}:`,g),g.forEach(_=>{this.domManager.registerDomDependency(_,f,{type:"attribute",attribute:r,expression:d})}),this.updateAttributes(f,r,d)}}catch(i){console.error("An error of analysis of attachments:",i)}})}updateAttributes(t,o,f){const e={...this.model.store.getState()};let i;if(f.startsWith("{{")&&f.endsWith("}}")){const d=f.substring(2,f.length-2).trim();i=this.model.store.get(d)}else i=ku.evaluateExpression(f,e);const r=t.getAttribute(o);String(i)!==r&&(i===!1||i===null||i===void 0?t.removeAttribute(o):i===!0?t.setAttribute(o,""):t.setAttribute(o,String(i)),ze.debug(`AttributeManager: Updated attribute ${o} with value:`,i))}parseAttributes(t){ze.debug("AttributeManager: Parsing attributes with colon...");const o=t.querySelectorAll("*");for(const f of o){const e=f.attributes;for(let i=0;i<e.length;i++){const r=e[i];if(r.name.startsWith(":")){ze.debug("AttributeManager: Found attribute:",r);const d=r.name.substring(1),g=r.value;this.updateElementAttribute(f,d,g),this.domManager.registerDomDependency(g,f,{type:"attribute",attribute:d,expression:g}),f.removeAttribute(r.name)}}}}updateElementAttribute(t,o,f){const e=""+this.model.store.get(f);e===void 0||e==="undefined"||(ze.debug(`AttributeManager: Updating attribute ${o} with ${e}`),o==="class"?t.className=e:o==="disabled"||o==="checked"||o==="selected"||o==="readonly"?e?t.setAttribute(o,""):t.removeAttribute(o):t.setAttribute(o,e))}update(t,o,f){ze.debug("AttributeManager: Updating element:",t),ze.debug(`	 Attribute: ${o} for:`,f),this.updateAttributes(t,o,f),this.updateElementAttribute(t,o,f)}},O_=class{constructor(t,o){ze.DEBUG_LEVEL=o.options.debug?4:0,ze.debug("EventManager: Init EventManager"),this.domManager=t,this.model=o,this.eventHandlers=new Map,ze.debug("EventManager: EventManager initialized")}parseEvents(t){ze.debug("EventManager: Parsing events with @...");const o=t.querySelectorAll("*");[t,...Array.from(o)].forEach(e=>{Array.from(e.attributes||[]).forEach(r=>{if(r.name.startsWith("@")){ze.debug(`EventManager: Found attribute with "@" ${r.name} in`,e);const d=r.name.substring(1),g=r.value.trim();this.bindEventHandler(e,d,g),e.removeAttribute(r.name)}})})}bindEventHandler(t,o,f){ze.debug(`EventManager: Binding event handler with expression ${f} for ${o} on`,t);const e=r=>{try{const d={$model:this.model,$event:r,$data:this.model.data,$dom:this.domManager},g=f.match(/(\w+)\((.*)\)/);if(g){const _=g[1],C=g[2],k=(I,B)=>I.split(".").reduce((q,Z)=>q&&q[Z]!==void 0?q[Z]:void 0,B);let E=k(_,this.model);if(E||(E=k(_,window)),typeof E=="function"){let I=[];C.trim()&&(I=C.split(",").map(B=>(B=B.trim(),B.startsWith('"')&&B.endsWith('"')||B.startsWith("'")&&B.endsWith("'")?B.slice(1,-1):isNaN(B)?B==="$event"?(ze.debug("EventManager: Requested Event",r),r):B==="$model"?(ze.debug("EventManager: Requested Model",this.model),this.model):B==="$data"?(ze.debug("EventManager: Requested Model Context",this.model.data),this.model.data):B==="$dom"?(ze.debug("EventManager: Requested DOMManager",this.domManager),this.domManager):this.model.store.get(B):Number(B)))),E.apply(d,I)}else console.warn(`EventManager: The method '${_}' not found in a model or global space!`)}else this.model.options.useSimpleExpressions?new Function(`return ${f}`).apply(this.model.data):console.warn(`EventManager: Unknown format of the event handler: '${f}'`)}catch(d){console.error(`EventManager: Error when performing an event processor '${o}': ${d.message}`)}};this.eventHandlers.has(t)||this.eventHandlers.set(t,new Map);const i=this.eventHandlers.get(t);i.has(o)&&t.removeEventListener(o,i.get(o)),i.set(o,e),t.addEventListener(o,e)}removeEventHandler(t,o){if(ze.debug(`EventManager: Removing event handler for ${o} on`,t),this.eventHandlers.has(t)){const f=this.eventHandlers.get(t);if(f.has(o)){const e=f.get(o);t.removeEventListener(o,e),f.delete(o),f.size===0&&this.eventHandlers.delete(t)}}}updateEvents(t){ze.debug("EventManager: Updating events for",t),Array.from(t.attributes||[]).forEach(o=>{if(o.name.startsWith("@")){const f=o.name.substring(1),e=o.value.trim();this.bindEventHandler(t,f,e),t.removeAttribute(o.name)}})}destroy(){ze.debug("EventManager: Destroying EventManager"),this.eventHandlers.forEach((t,o)=>{t.forEach((f,e)=>{ze.debug(`EventManager: Removing event handler for ${e} on`,o),o.removeEventListener(e,f)})}),this.eventHandlers.clear(),ze.debug("EventManager: Destroyed")}},P_=class{constructor(t){ze.DEBUG_LEVEL=t.options.debug?4:0,ze.debug("DOMManager: Init DOMManager"),this.model=t,this.elements=[],this.inputs=[],this.domDependencies=new Map,this.virtualDom=new Map,this.loopManager=new F_(this,t),this.conditionalManager=new I_(this,t),this.attributeManager=new L_(this,t),this.eventManager=new O_(this,t),ze.debug("DOMManager: DOMManager initialized")}registerDomDependency(t,o,f){this.domDependencies.has(t)||this.domDependencies.set(t,new Set),this.domDependencies.get(t).add({element:o,...f})}processTemplateNode(t,o){if(ze.debug("DOMManager: processTemplateNode",{node:t,context:o}),t.nodeType===Node.TEXT_NODE){const f=t.textContent,e=t.textContent.replace(/\{\{\s*([^}]+)\s*\}\}/g,(i,r)=>{r=r.trim();let g=o?((_,C)=>C.split(".").reduce((k,E)=>k?k[E]:void 0,_))(o,r):void 0;return g===void 0&&(g=this.model.store.get(r)),g!==void 0?g:""});f!==e&&(ze.debug(`DOMManager: updated node text from ${f} to ${e}`),t.textContent=e)}else t.nodeType===Node.ELEMENT_NODE&&Array.from(t.childNodes).forEach(f=>{this.processTemplateNode(f,o)})}parse(t){ze.debug("DOMManager: parse from",t);const o=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null);let f;const e=/\{\{\s*([^}]+)\s*\}\}/g;for(;f=o.nextNode();){let r;const d=f.textContent,g=d;for(e.lastIndex=0;(r=e.exec(d))!==null;){ze.debug(`DOMManager: parse match found for ${d}`,r);const _=r[1].trim();this.registerDomDependency(_,f,{type:"template",template:g}),this.elements.push({node:f,propName:_,template:g})}ze.debug("DOMManager: update virtual DOM set",{node:f,text:f.textContent}),this.virtualDom.set(f,f.textContent)}ze.debug("DOMManager: Find inputs with data-model directive...");const i=t.querySelectorAll("[data-model]");ze.debug("DOMManager: Found inputs with data-model:",i.length),i.forEach(r=>{const d=r.getAttribute("data-model");ze.debug("DOMManager: Register handler for:",{input:r,property:d});const g=_=>{const C=r.type==="checkbox"||r.type==="radio"?_.target.checked:_.target.value;this.model.store.set(d,C)};r.__modelInputHandler=g,r.addEventListener("input",g),this.inputs.push({element:r,property:d})})}setInputValue(t,o){t.type==="checkbox"||t.type==="radio"?t.checked=!!o:t.value=o}updateInputs(t,o){ze.debug("DOMManager: updateInputs",{propName:t,value:o}),this.inputs.forEach(f=>{f.property===t&&(ze.debug("DOMManager: update input",{item:f,value:o}),this.setInputValue(f.element,o))})}updateAllDOM(){ze.debug("DOMManager: updateAllDOM"),this.elements.forEach(t=>{let o=t.template;o=o.replace(/\{\{\s*([^}]+)\s*\}\}/g,(f,e)=>(e=e.trim(),this.model.store.get(e))),t.node.textContent=o,ze.debug("DOMManager: updated node",{element:t,newContent:o})}),ze.debug("DOMManager: update inputs"),this.inputs.forEach(t=>{ze.debug("DOMManager: update input",{item:t});const o=this.model.store.get(t.property);this.setInputValue(t.element,o),ze.debug("DOMManager: updated input",{item:t,value:o})})}updateDOM(t,o){if(ze.debug(`DOMManager: update DOM for ${t} with ${o}`),!t){console.warn("Path is undefined in updateDOM");return}const f=o&&typeof o=="object"&&"method"in o;f&&(t=o.path||t);const e=new Set;this.domDependencies.has(t)&&this.domDependencies.get(t).forEach(_=>e.add(_));const i=t.split(".");let r="";for(let _=0;_<i.length;_++)r=r?`${r}.${i[_]}`:i[_],this.domDependencies.has(r)&&this.domDependencies.get(r).forEach(C=>e.add(C));if(this.conditionalManager.getDependenciesByPath(t).forEach(_=>{_.type==="if"&&this.conditionalManager.updateConditional(_.element,_.expression)}),this.domDependencies.forEach((_,C)=>{(C.startsWith(`${t}.`)||C.startsWith(`${t}[`))&&_.forEach(k=>e.add(k))}),(Array.isArray(o)||f||typeof o=="object")&&this.loopManager.updateLoops(t,o),e.size===0)return;const g={template:[],conditional:[],loop:[],attribute:[]};e.forEach(_=>{_&&_.type&&g[_.type].push(_)}),g.template.forEach(_=>this.updateTemplateNode(_.element,_.template)),g.conditional.forEach(_=>this.conditionalManager.updateConditional(_.element,_.expression)),g.attribute.forEach(_=>this.attributeManager.update(_.element,_.attribute,_.expression)),g.loop.forEach(_=>this.loopManager.updateLoopPart(_.element,_.arrayPath,o,_.index))}updateTemplateNode(t,o){const f=o.replace(/\{\{\s*([^}]+)\s*\}\}/g,(e,i)=>(i=i.trim(),this.model.store.get(i)));this.virtualDom.get(t)!==f&&(t.textContent=f,this.virtualDom.set(t,f))}isPathDependency(t,o){return o===t||o.startsWith(`${t}.`)||o.startsWith(`${t}[`)}getDependentPaths(t){const o=[];return this.domDependencies.forEach((f,e)=>{this.isPathDependency(t,e)&&o.push(e)}),o}bindDOM(t){ze.debug("DOMManager: bind DOM from",t),this.loopManager.parseLoops(t),this.conditionalManager.parseConditionals(t),this.attributeManager.parseAttributesBind(t),this.attributeManager.parseAttributes(t),this.eventManager.parseEvents(t),this.parse(t),this.updateAllDOM(),ze.debug("DOMManager: binding completed")}destroy(){this.inputs.forEach(({element:t})=>{t.__modelInputHandler&&(t.removeEventListener("input",t.__modelInputHandler),delete t.__modelInputHandler)}),this.elements=[],this.inputs=[],this.domDependencies.clear(),this.virtualDom.clear(),this.loopManager.destroy(),this.conditionalManager.destroy(),this.eventManager.destroy(),ze.debug("DOMManager: destroyed")}},B_=class{constructor(t,o={}){ze.DEBUG_LEVEL=t.options.debug?4:0,ze.debug("Model: Init ComputedProps:",o),this.model=t,this.computed=o,this.store=t.store,this.asyncCache=new Map,this.init().then(()=>{Object.getOwnPropertyNames(this.computed).forEach(f=>{if(typeof this.computed[f].getter=="function")try{const e=this.computed[f].getter.call(this.store.getState());ze.debug(`Initializing computed property ${f}:`,e)}catch(e){console.error(`Error initializing computed property ${f}:`,e)}}),ze.debug("Model: ComputedProps initialized")})}async init(){const t=[];for(const o in this.computed){const f=this.evaluate(o);t.push(f),Object.defineProperty(this.model.data,o,{get:()=>{const e=this.computed[o];return e.isAsync?this.asyncCache.get(o):e.value},enumerable:!0,configurable:!0})}await Promise.all(t);for(const o in this.computed){const f=this.computed[o].isAsync?this.asyncCache.get(o):this.computed[o].value;this.model.dom.updateDOM(o,f),this.model.dom.updateInputs(o,f)}return!0}async evaluate(t,o=!1){const f=this.computed[t],e=new Set,i=new Proxy(this.store.getState(),{get:(d,g)=>{e.add(g);let _=d[g];return _&&typeof _=="object"?new Proxy(_,{get:(C,k)=>(e.add(`${g}.${k}`),C[k])}):_}}),r=f.getter.constructor.name==="AsyncFunction";f.isAsync=r;try{const d=await f.getter.call(i);return f.dependencies=[...e],r?this.asyncCache.set(t,d):f.value=d,this.store.emit("compute",{key:t,value:d,dependencies:e,isAsync:r}),d}catch(d){throw console.error(`Error evaluating computed property "${t}":`,d),d}}async update(t){const o=[];for(const f in this.computed){const e=(async()=>{const i=await this.evaluate(f);this.model.dom.updateDOM(f,i),this.model.dom.updateInputs(f,i)})();o.push(e)}await Promise.all(o)}all(){return Object.fromEntries(Object.entries(this.computed).map(([t,o])=>[t,o.value]))}},N_=class Pu extends Ff{constructor(o,f={}){ze.DEBUG_LEVEL=o.model.options.debug?4:0,ze.debug("Init StateManager:",f),super(),this.store=o,this.options=Object.assign({id:"model"},f),ze.debug("StateManager initialized")}static isStorageAvailable(){try{const o="__test__";return localStorage.setItem(o,o),localStorage.removeItem(o),!0}catch{return!1}}saveState(){if(!Pu.isStorageAvailable())return console.warn("localStorage is not available"),null;const f={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};try{return localStorage.setItem(this.options.id,JSON.stringify(f)),this.emit("saveState",f),f}catch(e){return console.error("Error saving state:",e),this.emit("saveStateError",e),null}}restoreState(){if(!Pu.isStorageAvailable())return console.warn("localStorage is not available"),null;try{const o=localStorage.getItem(this.options.id);if(o){const f=JSON.parse(o);return Object.assign(this.store.state,f.data),this.emit("restoreState",f),f}}catch(o){this.emit("restoreStateError",o)}}createSnapshot(){if(!Pu.isStorageAvailable())return console.warn("localStorage is not available"),null;const f={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};return this.emit("createSnapshot",f),f}restoreSnapshot(o){return Pu.isStorageAvailable()?o?(Object.assign(this.store.state,o.data),this.emit("restoreSnapshot",o),o):null:(console.warn("localStorage is not available"),null)}enableAutoSave(o=5e3){this.autoSaveInterval=setInterval(()=>{this.saveState()},o)}disableAutoSave(){clearInterval(this.autoSaveInterval)}},R_={id:"model",useSimpleExpressions:!0,debug:!1,plugins:[],validators:[],formatters:[]},z_=class extends Ff{constructor(t={},o={}){super(),this.options={...R_,...o},ze.DEBUG_LEVEL=this.options.debug?4:0,ze.debug("Creating a model with data:",t),ze.debug("Configuration options:",o),this.computed={};for(const f in t)typeof t[f]=="function"&&(ze.debug(`Registration calculated property "${f}"`),this.computed[f]={getter:t[f],value:null,dependencies:[]},delete t[f]);if(this.store=new A_(t,this),this.data=this.store.state,this.dom=new P_(this),this.computedProps=new B_(this,this.computed),this.stateManager=new N_(this.store),this.plugins=new Map,this.options.plugins)for(const f of this.options.plugins){const{name:e,plugin:i,options:r}=f;e&&i&&typeof i=="function"&&this.registerPlugin(e,i,r)}if(this.options.validators)for(const f of this.options.validators){const{path:e,validator:i}=f;e&&i&&typeof i=="function"&&this.addValidator(e,i)}if(this.options.formatters)for(const f of this.options.formatters){const{path:e,formatter:i}=f;e&&i&&typeof i=="function"&&this.addValidator(e,i)}this.subscribe(),ze.debug("The model was created successfully!")}subscribe(){ze.debug("Subscribing to store changes"),this.store.on("change",t=>{this.dom.updateDOM(t.path,t.newValue),this.dom.updateInputs(t.path,t.newValue),this.computedProps.update(t.path).then(()=>{}),this.emit("change",t)}),this.store.on("compute",t=>this.emit("compute",t)),this.store.on("arrayChange",t=>this.emit("arrayChange",t)),this.store.on("batchComplete",t=>this.emit("batchComplete",t)),ze.debug("Subscribing to state manager events"),this.stateManager.on("saveState",t=>this.emit("saveState",t)),this.stateManager.on("saveStateError",t=>this.emit("saveStateError",t)),this.stateManager.on("restoreState",t=>this.emit("restoreState",t)),this.stateManager.on("restoreStateError",t=>this.emit("restoreStateError",t)),this.stateManager.on("createSnapshot",t=>this.emit("createSnapshot",t)),this.stateManager.on("restoreSnapshot",t=>this.emit("restoreSnapshot",t))}addValidator(t,o){this.store.addValidator(t,o)}addFormatter(t,o){this.store.addFormatter(t,o)}use(t){this.store.use(t)}watch(t,o){this.store.watch(t,o)}batch(t){return this.store.batch(t)}diffArrays(t,o){return this.store.detectArrayChanges(t,o)}diff(){}validate(){const t=[],o=[];for(const f in this.computed){const e=new Set,i=this._checkCyclicDependencies(f,e);i&&t.push({type:"CYCLIC_DEPENDENCY",property:f,message:`Cyclic dependence is found: ${i.join(" -> ")}`})}return this.dom.domDependencies.forEach((f,e)=>{this.store.isValidPath(e)||o.push({type:"INVALID_PATH",path:e,message:`Property ${e} used in the template, but does not exist in the model`})}),{errors:t,warnings:o}}_checkCyclicDependencies(t,o,f=[]){if(o.has(t))return[...f,t];o.add(t),f.push(t);const e=this.computed[t];if(!e||!e.dependencies)return null;for(const i of e.dependencies)if(i in this.computed){const r=this._checkCyclicDependencies(i,new Set(o),[...f]);if(r)return r}return null}validatePath(t){return this.store.isValidPath(t)}init(t){ze.debug("Initializing DOM bindings");let o=typeof t=="string"?document.querySelector(t):t;return o||(o=document.body),ze.debug(`Model initialized in ${t??"body"}`),ze.debug("Binding DOM"),this.dom.bindDOM(o),this.emit("init"),ze.debug("Initialization complete!"),this}runDevTools(t={}){return new D_(this,t)}save(){return this.stateManager.saveState()}restore(){return this.stateManager.restoreState()}snapshot(t){return t?this.stateManager.restoreSnapshot(t):this.stateManager.createSnapshot()}autoSave(t){t?this.stateManager.enableAutoSave(t):this.stateManager.disableAutoSave()}registerPlugin(t,o,f={}){if(this.plugins.has(t))throw new Error(`Plugin ${t} already registered`);this.plugins.set(t,new o(this,f))}usePlugin(t,o={}){const f=this.plugins.get(t);return f?(f.run(),this):(console.error(`Plugin ${t} not found`),this)}removePlugin(t){this.plugins.has(t)&&this.plugins.delete(t)}destroy(){this.dom.destroy(),this.store.destroy(),this.emit("destroy")}},im=z_,H_="0.18.1",V_="18.05.2025, 14:40:40";im.info=()=>{console.info(`%c Model %c v${H_} %c ${V_} `,"color: white; font-weight: bold; background: #0080fe","color: white; background: darkgreen","color: white; background: #0080fe;")};var M_=im;globalThis.Model=M_,(t=>{globalThis.__version__="5.1.6",globalThis.__build_time__="05.06.2025, 18:50:01";const o=t.meta("metro:init").attr("content"),f=t.meta("metro:cloak").attr("content"),e=t.meta("metro:cloak_duration").attr("content"),i=t.meta("metro:blur").attr("content"),r=t.meta("metro:smooth").attr("content"),d=t.meta("metro:theme").attr("content"),g=t.meta("metro:info").attr("content"),_=t.meta("metro:jquery").attr("content"),C=t.meta("metro:debug").attr("content");globalThis.METRO_INIT=o?JSON.parse(o):!0,d!==void 0&&t("html").addClass(d==="auto"?t.dark?"dark-side":"":d==="dark"?"dark-side":"light-side"),globalThis.METRO_BLUR_IMAGE=i?JSON.parse(i):!1,globalThis.jquery_present=typeof globalThis.jQuery<"u",globalThis.METRO_JQUERY=_?JSON.parse(_):!0,globalThis.useJQuery=globalThis.jquery_present&&globalThis.METRO_JQUERY,globalThis.METRO_SHOW_INFO=g?JSON.parse(g):!1,globalThis.METRO_DEBUG=C?JSON.parse(C):!1,globalThis.METRO_CLOAK_REMOVE=f?`${f}`.toLowerCase():"fade",globalThis.METRO_CLOAK_DURATION=e?Number.parseInt(e):300,globalThis.METRO_SMOOTH_SCROLL=r?JSON.parse(r):!0,globalThis.METRO_DATE_FORMAT="DD.MM.YYYY",globalThis.METRO_TIME_FORMAT="HH:mm:ss",globalThis.METRO_DATETIME_FORMAT="DD.MM.YYYY HH:mm:ss",globalThis.METRO_TIMEOUT=3e3,globalThis.METRO_MEDIA=[]})(Dom);var Od="ontouchstart"in window,W_={controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:Od?"touchstart":"mousedown",stop:Od?"touchend":"mouseup",move:Od?"touchmove":"mousemove",enter:Od?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",LD:"(min-width: 640px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)",XXXL:"(min-width: 2000px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452,XXXL:2e3},media_mode:{FS:"fs",XS:"xs",SM:"sm",LD:"ld",MD:"md",LG:"lg",XL:"xl",XXL:"xxl",XXXL:"xxxl"},media_modes:["fs","xs","sm","ld","md","lg","xl","xxl","xxxl"],actions:{NONE:0,REMOVE:1,HIDE:2,MINIMIZE:3,MAXIMIZE:4,CLOSE:5,RESTORE:6,SHOW:7},theme:{LIGHT:"light",DARK:"dark"}};(t=>{if(typeof Dom>"u")throw new Error("Metro UI requires Dom library!");if(!("MutationObserver"in window))throw new Error("Metro UI requires MutationObserver!");const o="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,f=i=>typeof i!="string"?void 0:i.replace(/-/g,"").toLowerCase(),e={version:"5.1.6",build_time:"05.06.2025, 18:50:01",buildNumber:0,isTouchable:o,fullScreenEnabled:document.fullscreenEnabled,sheet:null,hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},info:()=>{globalThis.METRO_SHOW_INFO&&e.welcome()},welcome:()=>{console.info(`%c METRO UI %c v${e.version} %c ${e.build_time} `,"color: pink; font-weight: bold; background: #800000","color: white; background: darkgreen","color: white; background: #0080fe;"),globalThis.$&&t.info&&t.info(),globalThis.Hooks&&Hooks.info&&Hooks.info(),globalThis.HTML&&HTML.info&&HTML.info(),globalThis.Farbe&&Farbe.info&&Farbe.info(),globalThis.Datetime&&Datetime.info&&Datetime.info(),globalThis.Str&&Str.info&&Str.info(),globalThis.G&&G.info&&G.info(),globalThis.Router&&Router.info&&Router.info(),globalThis.Model&&Model.info&&Model.info()},aboutDlg:()=>{alert(`Metro UI - v${e.version}`)},observe:()=>{const i={childList:!0,attributes:!0,subtree:!0},r=g=>{g.map(_=>{if(_.type==="attributes"&&_.attributeName!=="data-role")if(_.attributeName==="data-hotkey")e.initHotkeys([_.target],!0);else{const C=t(_.target),k=C.data("metroComponent"),E=_.attributeName,I=C.attr(E),B=_.oldValue;k!==void 0&&(C.fire("attr-change",{attr:E,newValue:I,oldValue:B,__this:C[0]}),t.each(k,function(){const q=e.getPlugin(C,this);q&&typeof q.changeAttribute=="function"&&q.changeAttribute(E,I,B)}))}else if(_.type==="childList"&&_.addedNodes.length>0){const C=[],k=[];let E,I;const B=_.addedNodes;if(B.length){for(const q of t(B).find("[data-hotkey]"))k.push(t(q));for(let q=0;q<B.length;q++)I=B[q],E=t(I),E.attr("data-role")!==void 0&&C.push(I),t.each(E.find("[data-role]"),function(){C.indexOf(this)===-1&&C.push(this)});C.length&&e.initWidgets(C,"observe"),k.length&&e.initHotkeys(k)}}})};new MutationObserver(r).observe(t("html")[0],i)},init:()=>{const i=t("[data-role]"),r=t("[data-hotkey]"),d=t("html");if(e.i18n.load(d.attr("lang")),e.info(),o===!0&&d.addClass("touchable-device"),e.sheet=e.utils.newCssSheet(),e.utils.addCssRule(e.sheet,"*, *::before, *::after","box-sizing: border-box;"),globalThis.METRO_MEDIA=[],t.each(e.media_queries,(g,_)=>{e.utils.media(_)&&globalThis.METRO_MEDIA.push(e.media_mode[g])}),e.observe(),e.initHotkeys(r),e.initWidgets(i,"init"),globalThis.METRO_CLOAK_REMOVE!=="fade"?(t(".m4-cloak").removeClass("m4-cloak"),t(".cloak").removeClass("cloak"),t(globalThis).fire("metro-initiated")):t(".m4-cloak, .cloak").animate({draw:{opacity:[0,1]},dur:300,onDone:()=>{t(".m4-cloak").removeClass("m4-cloak"),t(".cloak").removeClass("cloak"),t(globalThis).fire("metro-initiated")}}),t(document).on("click","[data-copy-to-clipboard]",function(){const g=t(this).attr("data-copy-to-clipboard");e.utils.copy2clipboard(g),e.toast&&e.toast.create(`Data ${g} copied to clipboard!`)}),METRO_SMOOTH_SCROLL){const g=document.querySelectorAll('a.smooth-scroll[href^="#"]');for(const _ of g)_.addEventListener("click",C=>{C.preventDefault();const k=_.getAttribute("href");document.querySelector(k).scrollIntoView({behavior:"smooth",block:"start"})})}},initHotkeys:(i,r)=>{t.each(i,function(){const d=t(this),g=d.attr("data-hotkey")?d.attr("data-hotkey").toLowerCase():!1,_=d.attr("data-hotkey-func")?d.attr("data-hotkey-func"):!1;g!==!1&&(d.data("hotKeyBonded")===!0&&r!==!0||(e.hotkeys[g]=[this,_],d.data("hotKeyBonded",!0),d.fire("hot-key-bonded",{__this:d[0],hotkey:g,fn:_})))})},initWidgets:i=>{t.each(i,function(){const r=t(this);if(!this.hasAttribute("data-role"))return;r.attr("data-role").split(/\s*,\s*/).map(g=>{const _=e.utils.$(),C=f(g);if(_.fn[C]!==void 0&&r.attr(`data-role-${C}`)===void 0)try{_.fn[C].call(r),r.attr(`data-role-${C}`,!0);let k=r.data("metroComponent");k===void 0?k=[C]:k.push(C),r.data("metroComponent",k),r.fire("create",{__this:r[0],name:C}),t(document).fire("component-create",{element:r[0],name:C})}catch(k){throw console.error(`Error creating component ${g} for `,r[0]),k}})}),e.i18n.updateUI()},plugin:(i,r)=>{const d=f(i),g=_=>{_.fn[d]=function(C){return this.each(function(){_.data(this,d,Object.create(r).init(C,this))})}};g(Dom),globalThis.useJQuery&&g(globalThis.jQuery)},pluginExists:i=>typeof(globalThis.useJQuery?globalThis.jQuery:Dom).fn[f(i)]=="function",destroyPlugin:(i,r)=>{const d=t(i),g=f(r),_=e.getPlugin(d,g);if(typeof _>"u"){console.warn(`Component ${r} can not be destroyed: the element is not a Metro UI component.`);return}if(typeof _.destroy!="function"){console.warn(`Component ${r} can not be destroyed: method destroy not found.`);return}_.destroy();const C=d.data("metroComponent");e.utils.arrayDelete(C,g),d.data("metroComponent",C),t.removeData(d[0],g),d.removeAttr(`data-role-${g}`)},destroyPluginAll:i=>{const r=t(i),d=r.data("metroComponent");d!==void 0&&d.length>0&&t.each(d,function(){e.destroyPlugin(r[0],this)})},noop:()=>{},noop_true:()=>!0,noop_false:()=>!1,noop_arg:i=>i,requestFullScreen:i=>{i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullScreen?i.webkitRequestFullScreen():i.msRequestFullscreen?i.msRequestFullscreen():i.requestFullscreen().catch(r=>{console.warn(`Error attempting to enable full-screen mode: ${r.message} ${r.name}`)})},exitFullScreen:()=>{document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch(i=>{console.warn(`Error attempting to disable full-screen mode: ${i.message} ${i.name}`)})},inFullScreen:()=>(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)!==void 0,$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,get$el:i=>e.$()(t(i)[0]),get$elements:i=>e.$()(t(i)),getPlugin:(i,r)=>{const d=f(r),g=e.get$el(i);return g.length?g.data(d):void 0},getPlugins:i=>{const r=e.get$el(i),d=r.data("metroComponent");return d===void 0?[]:d.map(g=>{const _=f(g);return r.data(_)})},makePlugin:(i,r,d)=>{const g=f(r),_=e.get$elements(i);return _.length&&typeof _[g]=="function"?_[g](d):void 0},Component:(i,r)=>{const d=f(i),g=e.utils,_=t.extend({name:d},{_super:function(C,k,E,I){this.elem=C,this.element=t(C),this.options=t.extend({},E,k),this.component=this.elem,this.locale="en",this.strings={},this._setOptionsFromDOM(),this._runtime(),this._setLocale(),I&&typeof I=="object"&&t.each(I,(B,q)=>{this[B]=q}),this._createExec()},_setOptionsFromDOM:function(){const C=this.element,k=this.options;t.each(C.data(),(E,I)=>{if(E in k)try{k[E]=JSON.parse(I)}catch{k[E]=I}})},_runtime:function(){const C=this.element;let k;const E=(C.attr("data-role")||"").toArray(",").map(I=>f(I)).filter(I=>I.trim()!=="");C.attr(`data-role-${this.name}`)||(C.attr(`data-role-${this.name}`,!0),E.indexOf(this.name)===-1&&(E.push(this.name),C.attr("data-role",E.join(","))),k=C.data("metroComponent"),k===void 0?k=[this.name]:k.push(this.name),C.data("metroComponent",k))},_createExec:function(){const C=this.options[`${this.name}Deferred`];C?setTimeout(()=>{this._create()},C):this._create()},_fireEvent:function(C,k,E,I,B=null){const q=this.element,Z=this.options,Q=str(C).camelCase().capitalize(!1).value,De=t.extend({},k,{__this:q[0]});return E&&(console.warn(E),console.warn(`Event: on${Q}`),console.warn("Data: ",k),console.warn("Element: ",q[0])),I!==!0&&q.fire(Q.toLowerCase(),k),g.exec(Z[`on${Q}`],Object.values(De),B||q[0])},_fireEvents:function(C,k,E,I,B){const q=this;if(arguments.length===0)return;if(arguments.length===1)return t.each(C,function(){q._fireEvent(this.name,this.data,this.log,this.noFire,B)}),g.objectLength(C);if(!Array.isArray(C)&&typeof C!="string")return;const Z=Array.isArray(C)?C:C.toArray(",");t.each(Z,function(){q._fireEvent(this,k,E,I,B)})},_setLocale:function(){const C=this.element.closest("[lang]");C.length>0?this.locale=C.attr("lang"):this.locale=t("html").attr("lang")||"en",this.strings=t.extend({},e.locales.en,e.locales[this.locale])},getComponent:function(){return this.component},getComponentName:function(){return this.name}},r);return e.plugin(d,_),_},fetch:{status:i=>i.ok?Promise.resolve(i):Promise.reject(new Error(i.statusText)),json:i=>i.json(),text:i=>i.text(),form:i=>i.formData(),blob:i=>i.blob(),buffer:i=>i.arrayBuffer()},i18n:{language:"en",load(i="en"){e.i18n.language=e.locales[i]?i:"en",e.locale=e.locales[e.i18n.language]},add(i,r){e.locales[i]=r},get(i,r){return e.locales[r]&&e.locales[r][i]?e.locales[r][i]:""},updateUI(i,r){const d=r||t.html().attr("lang")||"en",g=i||document;if(e.locales[d]){e.i18n.load(d),t.html().attr("lang",d);for(const _ of g.querySelectorAll("[data-i18n]")){const C=_.getAttribute("data-i18n");_.innerHTML=e.i18n.get(C,d)}}},extend(i){t.each(i,(r,d)=>{e.locales[r]=Object.assign({},e.locales[r],d)})}}};return Object.assign(e,W_),t(globalThis).on(e.events.resize,()=>{globalThis.METRO_MEDIA=[],t.each(e.media_queries,(i,r)=>{e.utils.media(r)&&globalThis.METRO_MEDIA.push(e.media_mode[i])})}),globalThis.Metro=e,globalThis.METRO_INIT===!0&&t(()=>{e.init()}),e})(Dom),Metro.i18n.add("en",{weekStart:0,january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",january_short:"Jan",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dec",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday_short:"Sun",monday_short:"Mon",tuesday_short:"Tue",wednesday_short:"Wed",thursday_short:"Thu",friday_short:"Fri",saturday_short:"Sat",sunday_short_2:"Su",monday_short_2:"Mo",tuesday_short_2:"Tu",wednesday_short_2:"We",thursday_short_2:"Th",friday_short_2:"Fr",saturday_short_2:"Sa",label_ok:"OK",label_cancel:"Cancel",label_done:"Done",label_today:"Today",label_now:"Now",label_clear:"Clear",label_help:"Help",label_yes:"Yes",label_no:"No",label_random:"Random",label_save:"Save",label_reset:"Reset",label_submit:"Submit",label_add_user_color:"Add to swatches",label_send:"Send",label_accept:"Accept",label_cookies_title:"This site uses cookies",label_cookies_text:"This website uses cookies to ensure you get the best experience on our website.",label_choose_file:"Choose file(s)",label_drop_file:"Click or drop file(s) here",label_files_selected:"{n} file(s) selected",label_days:"days",label_hours:"hours",label_minutes:"min",label_seconds:"sec",label_month:"mon",label_months:"mon's",label_day:"day",label_year:"year",label_years:"years",label_rows_count:"Show:",label_search:"Search:",label_table_info:"Showing $1 to $2 of $3 entries",label_prev:"Prev",label_next:"Next",label_all:"All",label_inspector:"Inspector",label_goto_page:"Goto",label_enter_page:"Enter page...",label_empty:"Nothing to show",label_user_colors:"User Colors",label_tiles:"Tiles",label_list:"List",label_load_more:"Load more",label_buy:"Buy",label_buy_now:"Buy now",label_buy_today:"Buy today",label_download:"Download",label_search_results:"Search results",label_add:"Add",label_edit:"Edit",label_delete:"Delete",label_new:"New",label_sell:"Sell",label_details:"Details",label_sorting:"Sorting",label_finish:"Finish",label_play:"Play",label_pause:"Pause",label_stop:"Stop",label_mute:"Mute",label_loop:"Loop",label_on:"on",label_off:"off",label_rename_tab:"Rename tab",label_close_tab:"Close tab",label_close_other_tabs:"Close other tabs",label_close_tabs_left:"Close tabs left",label_close_tabs_right:"Close tabs right",label_close_all_tabs:"Close all tabs",label_close_inactive_tabs:"Close inactive tabs",label_clear_input:"Clear input",label_reveal_password:"Reveal password",label_hide_password:"Hide password",label_generate_random:"Generate random value",label_search_input:"Search for the entered value",label_note:"Note",label_tip:"Tip",label_info:"Info",label_warning:"Warning",label_question:"Question",label_error:"Error",label_success:"Success",label_caution:"Caution",label_alert:"Alert",label_bug:"Bug",label_fuck:"Fuck",label_important:"Important",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("uk",{weekStart:1,january:"Січень",february:"Лютий",march:"Березень",april:"Квітень",may:"Травень",june:"Червень",july:"Липень",august:"Серпень",september:"Вересень",october:"Жовтень",november:"Листопад",december:"Грудень",january_short:"Січ",february_short:"Лют",march_short:"Бер",april_short:"Кві",may_short:"Тра",june_short:"Чер",july_short:"Лип",august_short:"Сер",september_short:"Вер",october_short:"Жов",november_short:"Лис",december_short:"Гру",sunday:"Неділя",monday:"Понеділок",tuesday:"Вівторок",wednesday:"Середа",thursday:"Четвер",friday:"П'ятниця",saturday:"Субота",sunday_short:"Нед",monday_short:"Пон",tuesday_short:"Вів",wednesday_short:"Сер",thursday_short:"Чет",friday_short:"Птн",saturday_short:"Суб",sunday_short_2:"Нд",monday_short_2:"Пн",tuesday_short_2:"Вт",wednesday_short_2:"Ср",thursday_short_2:"Чт",friday_short_2:"Пт",saturday_short_2:"Сб",label_ok:"OK",label_cancel:"Відміна",label_done:"Виконано",label_today:"Сьогодні",label_now:"Зараз",label_clear:"Очистити",label_help:"Допомога",label_yes:"Так",label_no:"Ні",label_random:"Випадково",label_save:"Зберігти",label_reset:"Скинути",label_submit:"Відправити",label_add_user_color:"Додати до зразків",label_send:"Відправити",label_accept:"Прийняти",label_cookies_title:"Цей сайт використовує файли cookie",label_cookies_text:"Цей веб-сайт використовує файли cookie, щоб забезпечити вам найкращий досвід використання нашого веб-сайту.",label_choose_file:"Виберіть файл(и)",label_drop_file:"Натисніть або перетягніть файл(и) сюди",label_files_selected:"Вибрано {n} файл(ів)",label_days:"дні",label_hours:"год",label_minutes:"хвил",label_seconds:"сек",label_month:"міс",label_months:"місяці",label_day:"день",label_year:"рік",label_years:"років",label_rows_count:"Показати:",label_search:"Пошук:",label_table_info:"Відображено з $1 по $2 із $3 записів",label_prev:"Попередній",label_next:"Наступний",label_all:"Усі",label_inspector:"Інспектор",label_goto_page:"Перейти",label_enter_page:"Введіть сторінку...",label_empty:"Нічого показати",label_user_colors:"Кольори користувача",label_tiles:"Плитка",label_list:"Список",label_load_more:"Показати ще",label_buy:"Купити",label_buy_now:"Купити зараз",label_buy_today:"Купити сьогодні",label_download:"Завантажити",label_search_results:"Результати пошуку",label_add:"Додати",label_edit:"Редагувати",label_delete:"Видалити",label_new:"Нове",label_sell:"Продати",label_details:"Подробиці",label_sorting:"Сортування",label_finish:"Завершити",label_play:"Відтворити",label_pause:"Пауза",label_stop:"Зупинити",label_mute:"Без звуку",label_loop:"Повторювати",label_on:"увм",label_off:"вим",label_rename_tab:"Перейменувати вкладку",label_close_tab:"Закрити вкладку",label_close_other_tabs:"Закрити інші вкладки",label_close_tabs_left:"Закрити вкладки ліворуч",label_close_tabs_right:"Закрити вкладки праворуч",label_close_all_tabs:"Закрийте всі вкладки",label_close_inactive_tabs:"Закрити неактивні вкладки",label_clear_input:"Очистити введення",label_reveal_password:"Відкрити пароль",label_hide_password:"Приховати пароль",label_generate_random:"Генерувати випадковe значення",label_search_input:"Шукати введене значення",label_note:"Примітка",label_tip:"Підказка",label_info:"Інформація",label_warning:"Увага",label_question:"Питання",label_error:"Помилка",label_success:"Успіх",label_caution:"Обережно",label_alert:"Попередження",label_bug:"Помилка",label_fuck:"Бля",label_important:"Важливо",label_shit:"От лайно",label_air:"Пуффф...",label_select_all:"Вибрати усі",label_select_more:"Виберіть...",label_select:"Вибрати",label_filter:"Фільтр",label_collapse:"Згорнути"}),Metro.i18n.add("pt",{weekStart:0,january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",january_short:"Jan",february_short:"Fev",march_short:"Mar",april_short:"Abr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Set",october_short:"Out",november_short:"Nov",december_short:"Dez",sunday:"Domingo",monday:"Segunda-feira",tuesday:"Terça-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"Sábado",sunday_short:"Dom",monday_short:"Seg",tuesday_short:"Ter",wednesday_short:"Qua",thursday_short:"Qui",friday_short:"Sex",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"S",tuesday_short_2:"T",wednesday_short_2:"Q",thursday_short_2:"Q",friday_short_2:"S",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Concluído",label_today:"Hoje",label_now:"Agora",label_clear:"Limpar",label_help:"Ajuda",label_yes:"Sim",label_no:"Não",label_random:"Aleatório",label_save:"Salvar",label_reset:"Redefinir",label_submit:"Enviar",label_add_user_color:"Adicionar aos tons",label_send:"Enviar",label_accept:"Aceitar",label_cookies_title:"Este site usa cookies",label_cookies_text:"Este site utiliza cookies para garantir a melhor experiência em nosso site.",label_choose_file:"Escolher arquivo(s)",label_drop_file:"Clique ou solte o(s) arquivo(s) aqui",label_files_selected:"{n} arquivo(s) selecionado(s)",label_days:"dias",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mês",label_months:"meses",label_day:"dia",label_year:"ano",label_years:"anos",label_rows_count:"Mostrar:",label_search:"Pesquisar:",label_table_info:"Mostrando $1 a $2 de $3 entradas",label_prev:"Anterior",label_next:"Próximo",label_all:"Todos",label_inspector:"Inspetor",label_goto_page:"Ir para",label_enter_page:"Digite a página...",label_empty:"Nada para mostrar",label_user_colors:"Cores do usuário",label_tiles:"Blocos",label_list:"Lista",label_load_more:"Carregar mais",label_buy:"Comprar",label_buy_now:"Comprar agora",label_buy_today:"Comprar hoje",label_download:"Baixar",label_search_results:"Resultados da pesquisa",label_add:"Adicionar",label_edit:"Editar",label_delete:"Excluir",label_new:"Novo",label_sell:"Vender",label_details:"Detalhes",label_sorting:"Ordenação",label_finish:"Finalizar",label_play:"Reproduzir",label_pause:"Pausar",label_stop:"Parar",label_mute:"Silenciar",label_loop:"Repetir",label_on:"lig",label_off:"des",label_rename_tab:"Renomear aba",label_close_tab:"Fechar aba",label_close_other_tabs:"Fechar outras abas",label_close_tabs_left:"Fechar abas à esquerda",label_close_tabs_right:"Fechar abas à direita",label_close_all_tabs:"Fechar todas as abas",label_close_inactive_tabs:"Fechar abas inativas",label_clear_input:"Limpar entrada",label_reveal_password:"Mostrar senha",label_hide_password:"Ocultar senha",label_generate_random:"Gerar valor aleatório",label_search_input:"Pesquisar o valor inserido",label_note:"Nota",label_tip:"Dica",label_info:"Informação",label_warning:"Aviso",label_question:"Pergunta",label_error:"Erro",label_success:"Sucesso",label_caution:"Cuidado",label_alert:"Alerta",label_bug:"Erro",label_fuck:"Droga",label_important:"Importante",label_shit:"Merda",label_air:"Ar",label_select_all:"Selecionar tudo",label_select_more:"Selecionar...",label_select:"Selecionar",label_filter:"Filtrar",label_collapse:"Recolher"}),Metro.i18n.add("pt-BR",{weekStart:0,january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",january_short:"Jan",february_short:"Fev",march_short:"Mar",april_short:"Abr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Set",october_short:"Out",november_short:"Nov",december_short:"Dez",sunday:"Domingo",monday:"Segunda",tuesday:"Terça",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"Sábado",sunday_short:"Dom",monday_short:"Seg",tuesday_short:"Ter",wednesday_short:"Qua",thursday_short:"Qui",friday_short:"Sex",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"S",tuesday_short_2:"T",wednesday_short_2:"Q",thursday_short_2:"Q",friday_short_2:"S",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Pronto",label_today:"Hoje",label_now:"Agora",label_clear:"Limpar",label_help:"Ajuda",label_yes:"Sim",label_no:"Não",label_random:"Aleatório",label_save:"Salvar",label_reset:"Resetar",label_submit:"Enviar",label_add_user_color:"Adicionar às amostras",label_send:"Enviar",label_accept:"Aceitar",label_cookies_title:"Este site usa cookis",label_cookies_text:"Este site utiliza cookies para garantir que você tenha a melhor experiência.",label_choose_file:"Escolher arquivo(s)",label_drop_file:"Clique ou solte arquivo(s) aqui",label_files_selected:"{n} arquivo(s) selecionado(s)",label_days:"dias",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mês",label_months:"meses",label_day:"dia",label_year:"ano",label_years:"anos",label_rows_count:"Exibir:",label_search:"Pesquisar:",label_table_info:"Exibindo de $1 até $2 de um total de $3 registros",label_prev:"Anterior",label_next:"Próximo",label_all:"Todos",label_inspector:"Inspetor",label_goto_page:"Ir para",label_enter_page:"Digite a página...",label_empty:"Nada para exibir",label_user_colors:"Cores do usuário",label_tiles:"Blocos",label_list:"Lista",label_load_more:"Carregar mais",label_buy:"Comprar",label_buy_now:"Comprar agora",label_buy_today:"Comprar hoje",label_download:"Download",label_search_results:"Pesquisar resultados",label_add:"Adicionar",label_edit:"Editar",label_delete:"Excluir",label_new:"Novo",label_sell:"Vender",label_details:"Detalhes",label_sorting:"Ordenar",label_finish:"Finalizar",label_play:"Reproduzir",label_pause:"Pausar",label_stop:"Parar",label_mute:"Silenciar",label_loop:"Repetir",label_on:"lig",label_off:"des",label_rename_tab:"Renomear aba",label_close_tab:"Fechar aba",label_close_other_tabs:"Fechar outras abas",label_close_tabs_left:"Fechar abas a esquerda",label_close_tabs_right:"Fechar abas a direita",label_close_all_tabs:"Fechar todas as abas",label_close_inactive_tabs:"Fechar abas inativas",label_clear_input:"Limpar",label_reveal_password:"Mostrar senha",label_hide_password:"Ocultar senha",label_generate_random:"Gerar valor aleatório",label_search_input:"Pesquisar pelo valor",label_note:"Nota",label_tip:"Dica",label_info:"Informação",label_warning:"Aviso",label_question:"Questão",label_error:"Erro",label_success:"Sucesso",label_caution:"Cuidado",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falha catastrótico",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("es",{weekStart:0,january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",january_short:"Ene",february_short:"Feb",march_short:"Mar",april_short:"Abr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mié",thursday_short:"Jue",friday_short:"Vie",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"X",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Hecho",label_today:"Hoy",label_now:"Ahora",label_clear:"Limpiar",label_help:"Ayuda",label_yes:"Sí",label_no:"No",label_random:"Aleatorio",label_save:"Guardar",label_reset:"Restablecer",label_submit:"Enviar",label_add_user_color:"Añadir a colores",label_send:"Enviar",label_accept:"Aceptar",label_cookies_title:"Este sitio utiliza cookies",label_cookies_text:"Este sitio web utiliza cookies para garantizar que obtenga la mejor experiencia en nuestro sitio web.",label_choose_file:"Seleccionar archivo(s)",label_drop_file:"Haga clic o suelte archivo(s) aquí",label_files_selected:"{n} archivo(s) seleccionado(s)",label_days:"días",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mes",label_months:"meses",label_day:"día",label_year:"año",label_years:"años",label_rows_count:"Mostrar:",label_search:"Buscar:",label_table_info:"Mostrando $1 a $2 de $3 entradas",label_prev:"Anterior",label_next:"Siguiente",label_all:"Todo",label_inspector:"Inspector",label_goto_page:"Ir a",label_enter_page:"Introducir página...",label_empty:"Nada que mostrar",label_user_colors:"Colores de usuario",label_tiles:"Cuadrículas",label_list:"Lista",label_load_more:"Cargar más",label_buy:"Comprar",label_buy_now:"Comprar ahora",label_buy_today:"Comprar hoy",label_download:"Descargar",label_search_results:"Resultados de búsqueda",label_add:"Añadir",label_edit:"Editar",label_delete:"Eliminar",label_new:"Nuevo",label_sell:"Vender",label_details:"Detalles",label_sorting:"Ordenar",label_finish:"Finalizar",label_play:"Reproducir",label_pause:"Pausa",label_stop:"Detener",label_mute:"Silenciar",label_loop:"Repetir",label_on:"enc",label_off:"apa",label_rename_tab:"Renombrar pestaña",label_close_tab:"Cerrar pestaña",label_close_other_tabs:"Cerrar otras pestañas",label_close_tabs_left:"Cerrar pestañas a la izquierda",label_close_tabs_right:"Cerrar pestañas a la derecha",label_close_all_tabs:"Cerrar todas las pestañas",label_close_inactive_tabs:"Cerrar pestañas inactivas",label_clear_input:"Limpiar entrada",label_reveal_password:"Mostrar contraseña",label_hide_password:"Ocultar contraseña",label_generate_random:"Generar valor aleatorio",label_search_input:"Buscar el valor ingresado",label_note:"Nota",label_tip:"Consejo",label_info:"Información",label_warning:"Advertencia",label_question:"Pregunta",label_error:"Error",label_success:"Éxito",label_caution:"Precaución",label_alert:"Alerta",label_bug:"Error",label_fuck:"Maldición",label_important:"Importante",label_shit:"Mierda",label_air:"Aire",label_select_all:"Seleccionar todo",label_select_more:"Seleccionar...",label_select:"Seleccionar",label_filter:"Filtrar",label_collapse:"Colapsar"}),Metro.i18n.add("es-ES",{weekStart:0,january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",january_short:"Ene",february_short:"Feb",march_short:"Mar",april_short:"Abr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mié",thursday_short:"Jue",friday_short:"Vie",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Listo",label_today:"Hoy",label_now:"Ahora",label_clear:"Limpiar",label_help:"Ayuda",label_yes:"Sí",label_no:"No",label_random:"Aleatorio",label_save:"Guardar",label_reset:"Restablecer",label_submit:"Enviar",label_add_user_color:"Agregar a la paleta",label_send:"Enviar",label_accept:"Aceptar",label_cookies_title:"Este sitio usa cookies",label_cookies_text:"Este sitio utiliza cookies para garantizar que tengas la mejor experiencia.",label_choose_file:"Elegir archivo(s)",label_drop_file:"Haz clic o suelta archivo(s) aquí",label_files_selected:"{n} archivo(s) seleccionado(s)",label_days:"días",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mes",label_months:"meses",label_day:"día",label_year:"año",label_years:"años",label_rows_count:"Mostrar:",label_search:"Buscar:",label_table_info:"Mostrando de $1 a $2 de un total de $3 registros",label_prev:"Anterior",label_next:"Siguiente",label_all:"Todos",label_inspector:"Inspector",label_goto_page:"Ir a la página",label_enter_page:"Escribe la página...",label_empty:"Nada para mostrar",label_user_colors:"Colores del usuario",label_tiles:"Cuadrículas",label_list:"Lista",label_load_more:"Cargar más",label_buy:"Comprar",label_buy_now:"Comprar ahora",label_buy_today:"Comprar hoy",label_download:"Descargar",label_search_results:"Buscar resultados",label_add:"Agregar",label_edit:"Editar",label_delete:"Eliminar",label_new:"Nuevo",label_sell:"Vender",label_details:"Detalles",label_sorting:"Ordenar",label_finish:"Finalizar",label_play:"Reproducir",label_pause:"Pausa",label_stop:"Detener",label_mute:"Silenciar",label_loop:"Repetir",label_on:"enc",label_off:"apa",label_rename_tab:"Renombrar pestaña",label_close_tab:"Cerrar pestaña",label_close_other_tabs:"Cerrar otras pestañas",label_close_tabs_left:"Cerrar pestañas a la izquierda",label_close_tabs_right:"Cerrar pestañas a la derecha",label_close_all_tabs:"Cerrar todas las pestañas",label_close_inactive_tabs:"Cerrar pestañas inactivas",label_clear_input:"Limpiar",label_reveal_password:"Mostrar contraseña",label_hide_password:"Ocultar contraseña",label_generate_random:"Generar valor aleatorio",label_search_input:"Buscar por valor",label_note:"Nota",label_tip:"Consejo",label_info:"Información",label_warning:"Advertencia",label_question:"Pregunta",label_error:"Error",label_success:"Éxito",label_caution:"Precaución",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falla catastrófica",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("de",{weekStart:1,january:"Januar",february:"Februar",march:"März",april:"April",may:"Mai",june:"Juni",july:"Juli",august:"August",september:"September",october:"Oktober",november:"November",december:"Dezember",january_short:"Jan",february_short:"Feb",march_short:"Mär",april_short:"Apr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Okt",november_short:"Nov",december_short:"Dez",sunday:"Sonntag",monday:"Montag",tuesday:"Dienstag",wednesday:"Mittwoch",thursday:"Donnerstag",friday:"Freitag",saturday:"Samstag",sunday_short:"So",monday_short:"Mo",tuesday_short:"Di",wednesday_short:"Mi",thursday_short:"Do",friday_short:"Fr",saturday_short:"Sa",sunday_short_2:"S",monday_short_2:"M",tuesday_short_2:"D",wednesday_short_2:"M",thursday_short_2:"D",friday_short_2:"F",saturday_short_2:"S",label_ok:"OK",label_cancel:"Abbrechen",label_done:"Fertig",label_today:"Heute",label_now:"Jetzt",label_clear:"Löschen",label_help:"Hilfe",label_yes:"Ja",label_no:"Nein",label_random:"Zufällig",label_save:"Speichern",label_reset:"Zurücksetzen",label_submit:"Absenden",label_add_user_color:"Zu den Farben hinzufügen",label_send:"Senden",label_accept:"Akzeptieren",label_cookies_title:"Diese Seite verwendet Cookies",label_cookies_text:"Diese Website verwendet Cookies, um sicherzustellen, dass Sie die beste Erfahrung auf unserer Website machen.",label_choose_file:"Datei(en) auswählen",label_drop_file:"Klicken oder Datei(en) hier ablegen",label_files_selected:"{n} Datei(en) ausgewählt",label_days:"Tage",label_hours:"Stunden",label_minutes:"Min",label_seconds:"Sek",label_month:"Monat",label_months:"Monate",label_day:"Tag",label_year:"Jahr",label_years:"Jahre",label_rows_count:"Anzeigen:",label_search:"Suchen:",label_table_info:"Zeige $1 bis $2 von $3 Einträgen",label_prev:"Zurück",label_next:"Weiter",label_all:"Alle",label_inspector:"Inspektor",label_goto_page:"Gehe zu",label_enter_page:"Seite eingeben...",label_empty:"Nichts zu zeigen",label_user_colors:"Benutzerfarben",label_tiles:"Kacheln",label_list:"Liste",label_load_more:"Mehr laden",label_buy:"Kaufen",label_buy_now:"Jetzt kaufen",label_buy_today:"Heute kaufen",label_download:"Herunterladen",label_search_results:"Suchergebnisse",label_add:"Hinzufügen",label_edit:"Bearbeiten",label_delete:"Löschen",label_new:"Neu",label_sell:"Verkaufen",label_details:"Details",label_sorting:"Sortierung",label_finish:"Beenden",label_play:"Abspielen",label_pause:"Pause",label_stop:"Stopp",label_mute:"Stummschalten",label_loop:"Wiederholen",label_on:"an",label_off:"aus",label_rename_tab:"Tab umbenennen",label_close_tab:"Tab schließen",label_close_other_tabs:"Andere Tabs schließen",label_close_tabs_left:"Tabs links schließen",label_close_tabs_right:"Tabs rechts schließen",label_close_all_tabs:"Alle Tabs schließen",label_close_inactive_tabs:"Inaktive Tabs schließen",label_clear_input:"Eingabe löschen",label_reveal_password:"Passwort anzeigen",label_hide_password:"Passwort verbergen",label_generate_random:"Zufälligen Wert generieren",label_search_input:"Nach eingegebenem Wert suchen",label_note:"Notiz",label_tip:"Tipp",label_info:"Info",label_warning:"Warnung",label_question:"Frage",label_error:"Fehler",label_success:"Erfolg",label_caution:"Vorsicht",label_alert:"Alarm",label_bug:"Fehler",label_fuck:"Mist",label_important:"Wichtig",label_shit:"Scheiße",label_air:"Luft",label_select_all:"Alles auswählen",label_select_more:"Mehr auswählen...",label_select:"Auswählen",label_filter:"Filter",label_collapse:"Einklappen"}),Metro.i18n.add("fr",{weekStart:1,january:"Janvier",february:"Février",march:"Mars",april:"Avril",may:"Mai",june:"Juin",july:"Juillet",august:"Août",september:"Septembre",october:"Octobre",november:"Novembre",december:"Décembre",january_short:"Jan",february_short:"Fév",march_short:"Mar",april_short:"Avr",may_short:"Mai",june_short:"Juin",july_short:"Juil",august_short:"Aoû",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Déc",sunday:"Dimanche",monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sunday_short:"Dim",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mer",thursday_short:"Jeu",friday_short:"Ven",saturday_short:"Sam",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Annuler",label_done:"Terminé",label_today:"Aujourd'hui",label_now:"Maintenant",label_clear:"Effacer",label_help:"Aide",label_yes:"Oui",label_no:"Non",label_random:"Aléatoire",label_save:"Enregistrer",label_reset:"Réinitialiser",label_submit:"Soumettre",label_add_user_color:"Ajouter aux couleurs",label_send:"Envoyer",label_accept:"Accepter",label_cookies_title:"Ce site utilise des cookies",label_cookies_text:"Ce site utilise des cookies pour vous garantir la meilleure expérience sur notre site.",label_choose_file:"Choisir le(s) fichier(s)",label_drop_file:"Cliquez ou déposez le(s) fichier(s) ici",label_files_selected:"{n} fichier(s) sélectionné(s)",label_days:"jours",label_hours:"heures",label_minutes:"min",label_seconds:"sec",label_month:"mois",label_months:"mois",label_day:"jour",label_year:"année",label_years:"années",label_rows_count:"Afficher :",label_search:"Rechercher :",label_table_info:"Affichage de $1 à $2 sur $3 entrées",label_prev:"Préc",label_next:"Suiv",label_all:"Tout",label_inspector:"Inspecteur",label_goto_page:"Aller à",label_enter_page:"Entrer la page...",label_empty:"Rien à afficher",label_user_colors:"Couleurs utilisateur",label_tiles:"Tuiles",label_list:"Liste",label_load_more:"Charger plus",label_buy:"Acheter",label_buy_now:"Acheter maintenant",label_buy_today:"Acheter aujourd'hui",label_download:"Télécharger",label_search_results:"Résultats de recherche",label_add:"Ajouter",label_edit:"Modifier",label_delete:"Supprimer",label_new:"Nouveau",label_sell:"Vendre",label_details:"Détails",label_sorting:"Tri",label_finish:"Terminer",label_play:"Lire",label_pause:"Pause",label_stop:"Arrêter",label_mute:"Muet",label_loop:"Boucle",label_on:"act",label_off:"dés",label_rename_tab:"Renommer l'onglet",label_close_tab:"Fermer l'onglet",label_close_other_tabs:"Fermer les autres onglets",label_close_tabs_left:"Fermer les onglets à gauche",label_close_tabs_right:"Fermer les onglets à droite",label_close_all_tabs:"Fermer tous les onglets",label_close_inactive_tabs:"Fermer les onglets inactifs",label_clear_input:"Effacer l'entrée",label_reveal_password:"Afficher le mot de passe",label_hide_password:"Masquer le mot de passe",label_generate_random:"Générer une valeur aléatoire",label_search_input:"Rechercher la valeur saisie",label_note:"Note",label_tip:"Astuce",label_info:"Info",label_warning:"Avertissement",label_question:"Question",label_error:"Erreur",label_success:"Succès",label_caution:"Prudence",label_alert:"Alerte",label_bug:"Bug",label_fuck:"Merde",label_important:"Important",label_shit:"Fichu",label_air:"Air",label_select_all:"Tout sélectionner",label_select_more:"Sélectionner...",label_select:"Sélectionner",label_filter:"Filtrer",label_collapse:"Réduire"}),Metro.i18n.add("it",{weekStart:1,january:"Gennaio",february:"Febbraio",march:"Marzo",april:"Aprile",may:"Maggio",june:"Giugno",july:"Luglio",august:"Agosto",september:"Settembre",october:"Ottobre",november:"Novembre",december:"Dicembre",january_short:"Gen",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"Mag",june_short:"Giu",july_short:"Lug",august_short:"Ago",september_short:"Set",october_short:"Ott",november_short:"Nov",december_short:"Dic",sunday:"Domenica",monday:"Lunedì",tuesday:"Martedì",wednesday:"Mercoledì",thursday:"Giovedì",friday:"Venerdì",saturday:"Sabato",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mer",thursday_short:"Gio",friday_short:"Ven",saturday_short:"Sab",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"G",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Annulla",label_done:"Fatto",label_today:"Oggi",label_now:"Adesso",label_clear:"Cancella",label_help:"Aiuto",label_yes:"Sì",label_no:"No",label_random:"Casuale",label_save:"Salva",label_reset:"Reimposta",label_submit:"Invia",label_add_user_color:"Aggiungi ai colori",label_send:"Invia",label_accept:"Accetta",label_cookies_title:"Questo sito utilizza i cookie",label_cookies_text:"Questo sito utilizza i cookie per garantire la migliore esperienza sul nostro sito.",label_choose_file:"Scegli file",label_drop_file:"Clicca o trascina qui il file",label_files_selected:"{n} file selezionati",label_days:"giorni",label_hours:"ore",label_minutes:"min",label_seconds:"sec",label_month:"mese",label_months:"mesi",label_day:"giorno",label_year:"anno",label_years:"anni",label_rows_count:"Mostra:",label_search:"Cerca:",label_table_info:"Mostra da $1 a $2 di $3 elementi",label_prev:"Prec",label_next:"Succ",label_all:"Tutti",label_inspector:"Ispettore",label_goto_page:"Vai a",label_enter_page:"Inserisci pagina...",label_empty:"Niente da mostrare",label_user_colors:"Colori utente",label_tiles:"Piastrelle",label_list:"Lista",label_load_more:"Carica altro",label_buy:"Compra",label_buy_now:"Compra ora",label_buy_today:"Compra oggi",label_download:"Scarica",label_search_results:"Risultati di ricerca",label_add:"Aggiungi",label_edit:"Modifica",label_delete:"Elimina",label_new:"Nuovo",label_sell:"Vendi",label_details:"Dettagli",label_sorting:"Ordinamento",label_finish:"Termina",label_play:"Riproduci",label_pause:"Pausa",label_stop:"Arresta",label_mute:"Silenzia",label_loop:"Ripeti",label_on:"acc",label_off:"spe",label_rename_tab:"Rinomina scheda",label_close_tab:"Chiudi scheda",label_close_other_tabs:"Chiudi altre schede",label_close_tabs_left:"Chiudi schede a sinistra",label_close_tabs_right:"Chiudi schede a destra",label_close_all_tabs:"Chiudi tutte le schede",label_close_inactive_tabs:"Chiudi schede inattive",label_clear_input:"Cancella input",label_reveal_password:"Mostra password",label_hide_password:"Nascondi password",label_generate_random:"Genera valore casuale",label_search_input:"Cerca il valore inserito",label_note:"Nota",label_tip:"Suggerimento",label_info:"Info",label_warning:"Avviso",label_question:"Domanda",label_error:"Errore",label_success:"Successo",label_caution:"Attenzione",label_alert:"Allarme",label_bug:"Bug",label_fuck:"Cavolo",label_important:"Importante",label_shit:"Accidenti",label_air:"Aria",label_select_all:"Seleziona tutto",label_select_more:"Seleziona...",label_select:"Seleziona",label_filter:"Filtro",label_collapse:"Riduci"}),Metro.i18n.add("zh",{weekStart:0,january:"一月",february:"二月",march:"三月",april:"四月",may:"五月",june:"六月",july:"七月",august:"八月",september:"九月",october:"十月",november:"十一月",december:"十二月",january_short:"1月",february_short:"2月",march_short:"3月",april_short:"4月",may_short:"5月",june_short:"6月",july_short:"7月",august_short:"8月",september_short:"9月",october_short:"10月",november_short:"11月",december_short:"12月",sunday:"星期日",monday:"星期一",tuesday:"星期二",wednesday:"星期三",thursday:"星期四",friday:"星期五",saturday:"星期六",sunday_short:"日",monday_short:"一",tuesday_short:"二",wednesday_short:"三",thursday_short:"四",friday_short:"五",saturday_short:"六",sunday_short_2:"日",monday_short_2:"一",tuesday_short_2:"二",wednesday_short_2:"三",thursday_short_2:"四",friday_short_2:"五",saturday_short_2:"六",label_ok:"确定",label_cancel:"取消",label_done:"完成",label_today:"今天",label_now:"现在",label_clear:"清除",label_help:"帮助",label_yes:"是",label_no:"否",label_random:"随机",label_save:"保存",label_reset:"重置",label_submit:"提交",label_add_user_color:"添加到颜色",label_send:"发送",label_accept:"接受",label_cookies_title:"本网站使用Cookies",label_cookies_text:"本网站使用Cookies以确保您在我们的网站上获得最佳体验。",label_choose_file:"选择文件",label_drop_file:"点击或拖放文件到此处",label_files_selected:"已选择 {n} 个文件",label_days:"天",label_hours:"小时",label_minutes:"分钟",label_seconds:"秒",label_month:"月",label_months:"月",label_day:"天",label_year:"年",label_years:"年",label_rows_count:"显示：",label_search:"搜索：",label_table_info:"显示 $1 到 $2，共 $3 条记录",label_prev:"上一页",label_next:"下一页",label_all:"全部",label_inspector:"检查器",label_goto_page:"跳转到",label_enter_page:"输入页码...",label_empty:"没有内容显示",label_user_colors:"用户颜色",label_tiles:"网格",label_list:"列表",label_load_more:"加载更多",label_buy:"购买",label_buy_now:"立即购买",label_buy_today:"今天购买",label_download:"下载",label_search_results:"搜索结果",label_add:"添加",label_edit:"编辑",label_delete:"删除",label_new:"新建",label_sell:"出售",label_details:"详情",label_sorting:"排序",label_finish:"完成",label_play:"播放",label_pause:"暂停",label_stop:"停止",label_mute:"静音",label_loop:"循环",label_on:"开",label_off:"关",label_rename_tab:"重命名标签",label_close_tab:"关闭标签",label_close_other_tabs:"关闭其他标签",label_close_tabs_left:"关闭左侧标签",label_close_tabs_right:"关闭右侧标签",label_close_all_tabs:"关闭所有标签",label_close_inactive_tabs:"关闭未激活的标签",label_clear_input:"清除输入",label_reveal_password:"显示密码",label_hide_password:"隐藏密码",label_generate_random:"生成随机值",label_search_input:"搜索输入的值",label_note:"备注",label_tip:"提示",label_info:"信息",label_warning:"警告",label_question:"问题",label_error:"错误",label_success:"成功",label_caution:"注意",label_alert:"警报",label_bug:"错误",label_fuck:"糟糕",label_important:"重要",label_shit:"糟糕",label_air:"空气",label_select_all:"全选",label_select_more:"选择更多...",label_select:"选择",label_filter:"过滤",label_collapse:"折叠"}),Metro.i18n.add("hi",{weekStart:0,january:"जनवरी",february:"फरवरी",march:"मार्च",april:"अप्रैल",may:"मई",june:"जून",july:"जुलाई",august:"अगस्त",september:"सितंबर",october:"अक्टूबर",november:"नवंबर",december:"दिसंबर",january_short:"जन",february_short:"फर",march_short:"मार्च",april_short:"अप्रै",may_short:"मई",june_short:"जून",july_short:"जुल",august_short:"अग",september_short:"सित",october_short:"अक्टू",november_short:"नव",december_short:"दिस",sunday:"रविवार",monday:"सोमवार",tuesday:"मंगलवार",wednesday:"बुधवार",thursday:"गुरुवार",friday:"शुक्रवार",saturday:"शनिवार",sunday_short:"रवि",monday_short:"सोम",tuesday_short:"मंगल",wednesday_short:"बुध",thursday_short:"गुरु",friday_short:"शुक्र",saturday_short:"शनि",sunday_short_2:"र",monday_short_2:"सो",tuesday_short_2:"मं",wednesday_short_2:"बु",thursday_short_2:"गु",friday_short_2:"शु",saturday_short_2:"श",label_ok:"ठीक है",label_cancel:"रद्द करें",label_done:"समाप्त",label_today:"आज",label_now:"अभी",label_clear:"साफ करें",label_help:"मदद",label_yes:"हाँ",label_no:"नहीं",label_random:"यादृच्छिक",label_save:"सहेजें",label_reset:"रीसेट करें",label_submit:"जमा करें",label_add_user_color:"रंगों में जोड़ें",label_send:"भेजें",label_accept:"स्वीकार करें",label_cookies_title:"यह साइट कुकीज़ का उपयोग करती है",label_cookies_text:"यह वेबसाइट यह सुनिश्चित करने के लिए कुकीज़ का उपयोग करती है कि आपको हमारी वेबसाइट पर सबसे अच्छा अनुभव मिले।",label_choose_file:"फ़ाइलें चुनें",label_drop_file:"यहां क्लिक करें या फ़ाइलें छोड़ें",label_files_selected:"{n} फ़ाइलें चुनी गईं",label_days:"दिन",label_hours:"घंटे",label_minutes:"मिनट",label_seconds:"सेकंड",label_month:"महीना",label_months:"महीने",label_day:"दिन",label_year:"साल",label_years:"साल",label_rows_count:"दिखाएं:",label_search:"खोजें:",label_table_info:"$1 से $2 तक $3 प्रविष्टियां दिखा रहा है",label_prev:"पिछला",label_next:"अगला",label_all:"सभी",label_inspector:"निरीक्षक",label_goto_page:"पृष्ठ पर जाएं",label_enter_page:"पृष्ठ दर्ज करें...",label_empty:"दिखाने के लिए कुछ नहीं",label_user_colors:"उपयोगकर्ता रंग",label_tiles:"टाइल्स",label_list:"सूची",label_load_more:"और लोड करें",label_buy:"खरीदें",label_buy_now:"अभी खरीदें",label_buy_today:"आज खरीदें",label_download:"डाउनलोड करें",label_search_results:"खोज परिणाम",label_add:"जोड़ें",label_edit:"संपादित करें",label_delete:"हटाएं",label_new:"नया",label_sell:"बेचें",label_details:"विवरण",label_sorting:"छंटाई",label_finish:"समाप्त करें",label_play:"चलाएं",label_pause:"रोकें",label_stop:"बंद करें",label_mute:"म्यूट करें",label_loop:"दोहराएं",label_on:"चालू",label_off:"बंद",label_rename_tab:"टैब का नाम बदलें",label_close_tab:"टैब बंद करें",label_close_other_tabs:"अन्य टैब बंद करें",label_close_tabs_left:"बाएं टैब बंद करें",label_close_tabs_right:"दाएं टैब बंद करें",label_close_all_tabs:"सभी टैब बंद करें",label_close_inactive_tabs:"निष्क्रिय टैब बंद करें",label_clear_input:"इनपुट साफ करें",label_reveal_password:"पासवर्ड दिखाएं",label_hide_password:"पासवर्ड छिपाएं",label_generate_random:"यादृच्छिक मान उत्पन्न करें",label_search_input:"दर्ज किए गए मान को खोजें",label_note:"नोट",label_tip:"सुझाव",label_info:"जानकारी",label_warning:"चेतावनी",label_question:"प्रश्न",label_error:"त्रुटि",label_success:"सफलता",label_caution:"सावधानी",label_alert:"चेतावनी",label_bug:"बग",label_fuck:"धत्त",label_important:"महत्वपूर्ण",label_shit:"बकवास",label_air:"हवा",label_select_all:"सभी का चयन करें",label_select_more:"चुनें...",label_select:"चुनें",label_filter:"फ़िल्टर",label_collapse:"संकुचित करें"}),Metro.i18n.add("pl",{weekStart:1,january:"Styczeń",february:"Luty",march:"Marzec",april:"Kwiecień",may:"Maj",june:"Czerwiec",july:"Lipiec",august:"Sierpień",september:"Wrzesień",october:"Październik",november:"Listopad",december:"Grudzień",january_short:"Sty",february_short:"Lut",march_short:"Mar",april_short:"Kwi",may_short:"Maj",june_short:"Cze",july_short:"Lip",august_short:"Sie",september_short:"Wrz",october_short:"Paź",november_short:"Lis",december_short:"Gru",sunday:"Niedziela",monday:"Poniedziałek",tuesday:"Wtorek",wednesday:"Środa",thursday:"Czwartek",friday:"Piątek",saturday:"Sobota",sunday_short:"Nd",monday_short:"Pn",tuesday_short:"Wt",wednesday_short:"Śr",thursday_short:"Czw",friday_short:"Pt",saturday_short:"Sob",sunday_short_2:"N",monday_short_2:"P",tuesday_short_2:"W",wednesday_short_2:"Ś",thursday_short_2:"C",friday_short_2:"P",saturday_short_2:"S",label_ok:"OK",label_cancel:"Anuluj",label_done:"Gotowe",label_today:"Dzisiaj",label_now:"Teraz",label_clear:"Wyczyść",label_help:"Pomoc",label_yes:"Tak",label_no:"Nie",label_random:"Losowy",label_save:"Zapisz",label_reset:"Resetuj",label_submit:"Wyślij",label_add_user_color:"Dodaj do kolorów",label_send:"Wyślij",label_accept:"Akceptuj",label_cookies_title:"Ta strona używa plików cookie",label_cookies_text:"Ta strona używa plików cookie, aby zapewnić najlepsze doświadczenie na naszej stronie.",label_choose_file:"Wybierz plik(i)",label_drop_file:"Kliknij lub upuść plik(i) tutaj",label_files_selected:"Wybrano {n} plik(ów)",label_days:"dni",label_hours:"godziny",label_minutes:"minuty",label_seconds:"sekundy",label_month:"miesiąc",label_months:"miesiące",label_day:"dzień",label_year:"rok",label_years:"lata",label_rows_count:"Pokaż:",label_search:"Szukaj:",label_table_info:"Wyświetlanie od $1 do $2 z $3 wpisów",label_prev:"Poprzedni",label_next:"Następny",label_all:"Wszystko",label_inspector:"Inspektor",label_goto_page:"Idź do",label_enter_page:"Wpisz stronę...",label_empty:"Brak danych do wyświetlenia",label_user_colors:"Kolory użytkownika",label_tiles:"Kafelki",label_list:"Lista",label_load_more:"Załaduj więcej",label_buy:"Kup",label_buy_now:"Kup teraz",label_buy_today:"Kup dzisiaj",label_download:"Pobierz",label_search_results:"Wyniki wyszukiwania",label_add:"Dodaj",label_edit:"Edytuj",label_delete:"Usuń",label_new:"Nowy",label_sell:"Sprzedaj",label_details:"Szczegóły",label_sorting:"Sortowanie",label_finish:"Zakończ",label_play:"Odtwórz",label_pause:"Pauza",label_stop:"Zatrzymaj",label_mute:"Wycisz",label_loop:"Zapętl",label_on:"włą",label_off:"wył",label_rename_tab:"Zmień nazwę karty",label_close_tab:"Zamknij kartę",label_close_other_tabs:"Zamknij inne karty",label_close_tabs_left:"Zamknij karty po lewej",label_close_tabs_right:"Zamknij karty po prawej",label_close_all_tabs:"Zamknij wszystkie karty",label_close_inactive_tabs:"Zamknij nieaktywne karty",label_clear_input:"Wyczyść pole",label_reveal_password:"Pokaż hasło",label_hide_password:"Ukryj hasło",label_generate_random:"Wygeneruj losową wartość",label_search_input:"Szukaj wprowadzonej wartości",label_note:"Notatka",label_tip:"Wskazówka",label_info:"Informacja",label_warning:"Ostrzeżenie",label_question:"Pytanie",label_error:"Błąd",label_success:"Sukces",label_caution:"Uwaga",label_alert:"Alarm",label_bug:"Błąd",label_fuck:"Cholera",label_important:"Ważne",label_shit:"Kurka",label_air:"Powietrze",label_select_all:"Zaznacz wszystko",label_select_more:"Wybierz...",label_select:"Wybierz",label_filter:"Filtruj",label_collapse:"Zwiń"}),typeof Array.prototype.shuffle!="function"&&(Array.prototype.shuffle=function(){let t=this.length,o,f;for(;t!==0;)f=Math.floor(Math.random()*t),t-=1,o=this[t],this[t]=this[f],this[f]=o;return this}),typeof Array.prototype.clone!="function"&&(Array.prototype.clone=function(){return this.slice(0)}),typeof Array.prototype.unique!="function"&&(Array.prototype.unique=function(){const t=this.concat();for(let o=0;o<t.length;++o)for(let f=o+1;f<t.length;++f)t[o]===t[f]&&t.splice(f--,1);return t}),typeof Array.prototype.pack!="function"&&(Array.prototype.pack=function(){return this.filter(t=>t!=null&&`${t}`.trim()!=="")}),Number.prototype.format=function(t,o,f,e){const i=`\\d(?=(\\d{${o||3}})+${t>0?"\\D":"$"})`,r=this.toFixed(Math.max(0,~~t));return(e?r.replace(".",e):r).replace(new RegExp(i,"g"),`$&${f||","}`)},String.prototype.toArray=function(t=",",o="string",f="",e="en",i=!1){const r=`${this}`.split(t).map(d=>{let g;switch(o){case"int":case"integer":g=Number.isNaN(d)?d.trim():Number.parseInt(d);break;case"number":case"float":g=Number.isNaN(d)?d:Number.parseFloat(d);break;case"date":g=f?Datetime.from(d,f,e):datetime(d);break;case"boolean":{switch(d){case!0:case"true":case 1:case"1":case"on":case"yes":case"+":g=!0;break;default:g=!1}break}default:g=d.trim()}return g});return i?r.pack():r},((t,o)=>{t.utils={elementId:f=>`${f}-${new Date().getTime()}${o.random(1,1e3)}`,secondsToTime:f=>{const e=Math.floor(f%31536e3/86400),i=Math.floor(f%31536e3%86400/3600),r=Math.floor(f%31536e3%86400%3600/60),d=Math.round(f%31536e3%86400%3600%60);return{d:e,h:i,m:r,s:d}},secondsToFormattedString:f=>{const e=Number.parseInt(f,10),i=Math.floor(e/3600),r=Math.floor((e-i*3600)/60),d=e-i*3600-r*60;return[Str.lpad(i,"0",2),Str.lpad(r,"0",2),Str.lpad(d,"0",2)].join(":")},func:f=>new Function("a",f),exec:function(f,e,i){let r;if(f==null)return!1;let d=this.isFunc(f);d===!1&&(d=this.func(f));try{r=d.apply(i,e)}catch(g){if(r=null,globalThis.METRO_THROWS===!0)throw g}return r},embedUrl:f=>{let e=f;return e.indexOf("youtu.be")!==-1&&(e=`https://www.youtube.com/embed/${f.split("/").pop()}`),`<div class='embed-container'><iframe src='${e}'></iframe></div>`},isVisible:function(f){const e=o(f)[0];return this.getStyleOne(e,"display")!=="none"&&this.getStyleOne(e,"visibility")!=="hidden"&&e.offsetParent!==null},isUrl:f=>/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:?\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(f),isTag:f=>/^<\/?[\w\s="\/.':;#-\/?]+>/gi.test(f),isEmbedObject:f=>{const e=["iframe","object","embed","video"];let i=!1;return o.each(e,function(){(typeof f=="string"&&f.toLowerCase()===this||f.nodeType!==void 0&&f.tagName.toLowerCase()===this)&&(i=!0)}),i},isVideoUrl:f=>/youtu\.be|youtube|twitch|vimeo/gi.test(f),isDate:function(f,e,i="en-US"){let r;if(this.isDateObject(f))return!0;try{return r=e?Datetime.from(f,e,i):datetime(f),Datetime.isDatetime(r)}catch{return!1}},isDateObject:f=>typeof f=="object"&&f.getMonth!==void 0,isInt:f=>!Number.isNaN(f)&&+f%1===0,isFloat:f=>!Number.isNaN(f)&&+f%1!==0||/^\d*\.\d+$/.test(f),isFunc:function(f){return this.isType(f,"function")},isObject:function(f){return this.isType(f,"object")},isObject2:f=>typeof f=="object"&&!Array.isArray(f),isType:function(f,e="undefined"){if(!this.isValue(f))return!1;if(typeof f===e||`${e}`.toLowerCase()==="tag"&&this.isTag(f)||`${e}`.toLowerCase()==="url"&&this.isUrl(f)||`${e}`.toLowerCase()==="array"&&Array.isArray(f))return f;if(e!=="string"&&this.isTag(f)||this.isUrl(f))return!1;if(typeof window[f]===e)return window[f];if(typeof f=="string"&&f.indexOf(".")===-1||typeof f=="string"&&/[/\s([]+/gm.test(f)||typeof f=="number"&&e.toLowerCase()!=="number")return!1;const i=f.split(".");let r,d=window;for(r=0;r<i.length;r++)d=d[i[r]];return typeof d===e?d:!1},$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,isMetroObject:(f,e)=>{const i=o(f),r=t.getPlugin(f,e);return i.length===0?(console.warn(`${e} ${f} not found!`),!1):r===void 0?(console.warn(`Element not contain role ${e}! Please add attribute data-role="${e}" to element ${f}`),!1):!0},isJQuery:f=>typeof globalThis.jQuery<"u"&&f instanceof globalThis.jQuery,isDom:f=>typeof Dom<"u"&&f instanceof Dom,isQ:function(f){return this.isJQuery(f)||this.isDom(f)},isOutsider:function(f){const e=o(f),i=e.clone();i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),e.parent().append(i);const r=this.inViewport(i[0]);return i.remove(),!r},inViewport:function(f){const e=this.rect(f);return e.top>=0&&e.left>=0&&e.bottom<=(globalThis.innerHeight||document.documentElement.clientHeight)&&e.right<=(globalThis.innerWidth||document.documentElement.clientWidth)},viewportOutByWidth:function(f){const e=this.rect(f),i=globalThis.innerWidth||document.documentElement.clientWidth;return e.right>i},viewportOutByHeight:function(f){const e=this.rect(f),i=globalThis.innerHeight||document.documentElement.clientHeight;return e.bottom>i},viewportOut:function(f){return this.viewportOutByWidth(f)||this.viewportOutByHeight(f)},rect:f=>f.getBoundingClientRect(),getCursorPosition:function(f,e){const i=this.rect(f);return{x:this.pageXY(e).x-i.left-globalThis.scrollX,y:this.pageXY(e).y-i.top-globalThis.scrollY}},getCursorPositionX:function(f,e){return this.getCursorPosition(f,e).x},getCursorPositionY:function(f,e){return this.getCursorPosition(f,e).y},objectLength:f=>Object.keys(f).length,percent:(f,e,i)=>{if(f===0)return 0;const r=e*100/f;return i===!0?Math.round(r):Math.round(r*100)/100},objectShift:f=>{let e=0;return o.each(f,i=>{(e===0||e>i)&&(e=i)}),delete f[e],f},objectDelete:(f,e)=>{e in f&&delete f[e]},arrayDeleteByMultipleKeys:(f,e)=>{for(const i of e)delete f[i];return f.filter(i=>i!==void 0)},arrayDelete:(f,e)=>{const i=f.indexOf(e);i>-1&&f.splice(i,1)},arrayDeleteByKey:(f,e)=>{f.splice(e,1)},nvl:(f,e)=>f??e,objectClone:f=>{const e={};for(const i in f)o.hasProp(f,i)&&(e[i]=f[i]);return e},github:async function(f,e){const i=await fetch(`https://api.github.com/repos/${f}`);if(!i.ok)return;const r=await i.json();this.exec(e,[r])},pageHeight:()=>{const f=document.body,e=document.documentElement;return Math.max(f.scrollHeight,f.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},cleanPreCode:f=>{const e=Array.prototype.slice.call(document.querySelectorAll(f),0);for(const i of e){const r=i.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(r)){i.textContent=r;continue}let d,g="";const _=/^[\t ]+/gm;let C,k=1e3;for(;d=_.exec(r);)C=d[0].length,C<k&&(k=C,g=d[0]);k!==1e3&&(i.textContent=r.replace(new RegExp(`^${g}`,"gm"),"").trim())}},coords:f=>{const i=o(f)[0].getBoundingClientRect();return{top:i.top+globalThis.pageYOffset,left:i.left+globalThis.pageXOffset}},positionXY:function(f,e,i){switch(e){case"client":return this.clientXY(f,i);case"screen":return this.screenXY(f,i);case"page":return this.pageXY(f,i);default:return{x:0,y:0}}},clientXY:(f,e="touches")=>({x:f[e]?f[e][0].clientX:f.clientX,y:f[e]?f[e][0].clientY:f.clientY}),screenXY:(f,e="touches")=>({x:f[e]?f[e][0].screenX:f.screenX,y:f[e]?f[e][0].screenY:f.screenY}),pageXY:(f,e="touches")=>({x:f[e]?f[e][0].pageX:f.pageX,y:f[e]?f[e][0].pageY:f.pageY}),isRightMouse:f=>"which"in f?f.which===3:"button"in f?f.button===2:void 0,hiddenElementSize:(f,e=!1)=>{const i=o(f).clone(!0);i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),o("body").append(i);const r=i.outerWidth(e),d=i.outerHeight(e);return i.remove(),{width:r,height:d}},getStyle:f=>{const e=o(f)[0];return globalThis.getComputedStyle(e)},getStyleOne:function(f,e){return this.getStyle(f).getPropertyValue(e)},getInlineStyles:f=>{let e,i;const r={},d=o(f)[0];for(e=0,i=d.style.length;e<i;e++){const g=d.style[e];r[g]=d.style[g]}return r},encodeURI:f=>encodeURI(f).replace(/%5B/g,"[").replace(/%5D/g,"]"),updateURIParameter:(f,e,i)=>{const r=new RegExp(`([?&])${e}=.*?(&|$)`,"i"),d=f.indexOf("?")!==-1?"&":"?";return f.match(r)?f.replace(r,`$1${e}=${i}$2`):`${f+d+e}=${i}`},getURIParameter:(f=globalThis.location.href,e="")=>{const i=e.replace(/[\[\]]/g,"\\$&"),d=new RegExp(`[?&]${i}(=([^&#]*)|&|#|$)`).exec(f);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null},getLocales:()=>Object.keys(t.locales),addLocale:f=>{t.locales=o.extend({},t.locales,f)},aspectRatioH:(f,e)=>{if(e==="16/9")return f*9/16;if(e==="21/9")return f*9/21;if(e==="4/3")return f*3/4},aspectRatioW:(f,e)=>{if(e==="16/9")return f*16/9;if(e==="21/9")return f*21/9;if(e==="4/3")return f*4/3},valueInObject:(f,e)=>Object.values(f).indexOf(e)>-1,keyInObject:(f,e)=>Object.keys(f).indexOf(e)>-1,inObject:(f,e,i)=>f[e]!==void 0&&f[e]===i,newCssSheet:f=>{const e=document.createElement("style");return f!==void 0&&e.setAttribute("media",f),e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet},addCssRule:(f,e,i,r)=>{f.insertRule(`${e}{${i}}`,r)},media:f=>globalThis.matchMedia(f).matches,mediaModes:()=>globalThis.METRO_MEDIA,mediaExist:f=>globalThis.METRO_MEDIA.indexOf(f)>-1,inMedia:f=>globalThis.METRO_MEDIA.indexOf(f)>-1&&globalThis.METRO_MEDIA.indexOf(f)===globalThis.METRO_MEDIA.length-1,isValue:f=>f!=null&&f!=="",isNull:f=>f==null,isNegative:f=>Number.parseFloat(f)<0,isPositive:f=>Number.parseFloat(f)>0,isZero:f=>Number.parseFloat(f.toFixed(2))===0,between:(f,e,i,r)=>r===!0?f>=e&&f<=i:f>e&&f<i,parseMoney:f=>Number(Number.parseFloat(f.replace(/[^0-9-.]/g,""))),parseCard:f=>f.replace(/[^0-9]/g,""),parsePhone:f=>(void 0).parseCard(f),parseNumber:(f,e,i)=>f.replace(new RegExp(`\\${e}`,"g"),"").replace(new RegExp(`\\${i}`,"g"),"."),nearest:(f,e,i)=>{let r=f/e;return r=Math[i===!0?"floor":"ceil"](r)*e,r},bool:f=>{let e;switch(f){case!0:case"true":case 1:case"1":case"on":case"yes":case"+":e=!0;break;default:e=!1}return e},decCount:f=>f%1===0?0:f.toString().split(".")[1].length,classNames:(...f)=>{const e=[];for(const i of f)if(i)if(typeof i=="string")e.push(i);else if(t.utils.isObject(i))for(const r in i)i[r]&&e.push(r);else t.utils.nothing();return e.join(" ")},join:(...f)=>{const e=f.pop(),i=[];for(const r of f)r&&i.push(t.utils.isObject(r)?Object.values(r)[0]:r);return i.join(e)},copy2clipboard:(f,e)=>{navigator.clipboard.writeText(f).then(()=>{t.utils.exec(e,[f])})},getCssVar:f=>{const e=document.documentElement;return getComputedStyle(e).getPropertyValue(f)},scrollTo:(f,e)=>{(typeof f=="string"?o(f)[0]:f).scrollIntoView({...e,behavior:"smooth",block:"start"})}}})(Metro,Dom),((t,o)=>{const f={duration:300,ease:"linear"};t.Effects={switchIn:e=>{o(e).hide().css({left:0,top:0}).show()},switchOut:e=>{o(e).hide()},switch:function(e,i){this.switchOut(e),this.switchIn(i)},slideUpIn:(e,i)=>{const r=o(e),d=r.parent().outerHeight(!0),g=o.extend({},f,i);r.css({top:d,left:0,zIndex:2}).animate({draw:{top:0,opacity:1},dur:g.duration,ease:g.ease})},slideUpOut:(e,i)=>{const r=o(e),d=r.parent().outerHeight(!0),g=o.extend({},f,i);r.css({zIndex:1}).animate({draw:{top:-d,opacity:0},dur:g.duration,ease:g.ease})},slideUp:function(e,i,r){this.slideUpOut(e,r),this.slideUpIn(i,r)},slideDownIn:(e,i)=>{const r=o(e),d=r.parent().outerHeight(!0),g=o.extend({},f,i);r.css({left:0,top:-d,zIndex:2}).animate({draw:{top:0,opacity:1},dur:g.duration,ease:g.ease})},slideDownOut:(e,i)=>{const r=o(e),d=r.parent().outerHeight(!0),g=o.extend({},f,i);r.css({zIndex:1}).animate({draw:{top:d,opacity:0},dur:g.duration,ease:g.ease})},slideDown:function(e,i,r){this.slideDownOut(e,r),this.slideDownIn(i,r)},slideLeftIn:(e,i)=>{const r=o(e),d=r.parent().outerWidth(!0),g=o.extend({},f,i);r.css({left:d,zIndex:2}).animate({draw:{left:0,opacity:1},dur:g.duration,ease:g.ease})},slideLeftOut:(e,i)=>{const r=o(e),d=r.parent().outerWidth(!0),g=o.extend({},f,i);r.css({zIndex:1}).animate({draw:{left:-d,opacity:0},dur:g.duration,ease:g.ease})},slideLeft:function(e,i,r){this.slideLeftOut(e,r),this.slideLeftIn(i,r)},slideRightIn:(e,i)=>{const r=o(e),d=r.parent().outerWidth(!0),g=o.extend({},f,i);r.css({left:-d,zIndex:2}).animate({draw:{left:0,opacity:1},dur:g.duration,ease:g.ease})},slideRightOut:(e,i)=>{const r=o(e),d=r.parent().outerWidth(!0),g=o.extend({},f,i);r.css({zIndex:1}).animate({draw:{left:d,opacity:0},dur:g.duration,ease:g.ease})},slideRight:function(e,i,r){this.slideRightOut(e,r),this.slideRightIn(i,r)},fadeIn:(e,i)=>{const r=o.extend({},f,i);o(e).css({top:0,left:0,opacity:0}).animate({draw:{opacity:1},dur:r.duration,ease:r.ease})},fadeOut:(e,i)=>{const r=o.extend({},f,i);o(e).animate({draw:{opacity:0},dur:r.duration,ease:r.ease})},fade:function(e,i,r){this.fadeOut(e,r),this.fadeIn(i,r)},zoomIn:(e,i)=>{const r=o.extend({},f,i);o(e).css({top:0,left:0,opacity:0,transform:"scale(3)",zIndex:2}).animate({draw:{scale:1,opacity:1},dur:r.duration,ease:r.ease})},zoomOut:(e,i)=>{const r=o.extend({},f,i);o(e).css({zIndex:1}).animate({draw:{scale:3,opacity:0},dur:r.duration,ease:r.ease})},zoom:function(e,i,r){this.zoomOut(e,r),this.zoomIn(i,r)},swirlIn:(e,i)=>{const r=o.extend({},f,i);o(e).css({top:0,left:0,opacity:0,transform:"scale(3) rotate(180deg)",zIndex:2}).animate({draw:{scale:1,rotate:0,opacity:1},dur:r.duration,ease:r.ease})},swirlOut:(e,i)=>{const r=o.extend({},f,i);o(e).css({zIndex:1}).animate({draw:{scale:3,rotate:"180deg",opacity:0},dur:r.duration,ease:r.ease})},swirl:function(e,i,r){this.swirlOut(e,r),this.swirlIn(i,r)}}})(Metro,Dom),((t,o)=>{let f={accordionDeferred:0,showMarker:!0,material:!1,duration:100,oneFrame:!0,showActive:!0,clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:t.noop,onFrameBeforeOpen:t.noop_true,onFrameClose:t.noop,onFrameBeforeClose:t.noop_true,onAccordionCreate:t.noop};t.accordionSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroAccordionSetup<"u"&&t.accordionSetup(globalThis.metroAccordionSetup),t.Component("accordion",{init:function(e,i){return this._super(i,e,f),this},_create:function(){const e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:e})},_createStructure:function(){const e=this,i=this.element,r=this.options,d=i.children(".frame"),g=i.children(".frame.active");let _;i.id()||i.id(Hooks.useId("accordion")),i.addClass("accordion").addClass(r.clsAccordion),d.addClass(r.clsFrame).each(function(){const C=o(this),k=C.children(".heading"),E=C.children(".content"),I=Hooks.useId("accordion-heading"),B=Hooks.useId("accordion-content");k.attr({id:I,role:"button","aria-expanded":C.hasClass("active")?"true":"false","aria-controls":B,tabindex:"0"}),E.attr({id:B,role:"region","aria-labelledby":I}),k.addClass(r.clsHeading),E.addClass(r.clsContent)}),r.showMarker===!0&&i.addClass("marker-on"),r.material===!0&&i.addClass("material"),g.length===0?_=d[0]:_=g[0],this._hideAll(),r.showActive===!0&&(r.oneFrame===!0?this._openFrame(_):o.each(g,function(){e._openFrame(this)}))},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.children(".frame.active");i.on("keydown",".heading",function(g){const _=o(this),C=_.parent();if(_.closest(".accordion")[0]!==i[0])return!1;if((g.keyCode===13||g.keyCode===32)&&(g.preventDefault(),C.hasClass("active")?d.length===1&&r.oneFrame||e._closeFrame(C):e._openFrame(C)),g.keyCode===38||g.keyCode===40){g.preventDefault();const k=i.children(".frame"),E=k.index(C);let I;g.keyCode===38?I=(E-1+k.length)%k.length:I=(E+1)%k.length,k.eq(I).children(".heading").focus()}}),i.on(t.events.click,".heading",function(){const g=o(this),_=g.parent();if(g.closest(".accordion")[0]!==i[0])return!1;_.hasClass("active")?d.length===1&&r.oneFrame||e._closeFrame(_):e._openFrame(_)})},_openFrame:function(e){const i=this.element,r=this.options,d=o(e);if(t.utils.exec(r.onFrameBeforeOpen,[d[0]],i[0])===!1)return!1;r.oneFrame===!0&&this._closeAll(d[0]),d.addClass("active").addClass(r.clsActiveFrame),d.children(".heading").addClass(r.clsActiveFrameHeading),d.children(".content").addClass(r.clsActiveFrameContent).slideDown(r.duration),this._fireEvent("frameOpen",{frame:d[0]})},_closeFrame:function(e){const i=this.element,r=this.options,d=o(e);d.hasClass("active")&&t.utils.exec(r.onFrameBeforeClose,[d[0]],i[0])!==!1&&(d.removeClass("active").removeClass(r.clsActiveFrame),d.children(".heading").removeClass(r.clsActiveFrameHeading),d.children(".content").removeClass(r.clsActiveFrameContent).slideUp(r.duration),this._fireEvent("frameClose",{frame:d[0]}))},_closeAll:function(e){const i=this,d=this.element.children(".frame");o.each(d,function(){e!==this&&i._closeFrame(this)})},_hideAll:function(){const i=this.element.children(".frame");o.each(i,function(){o(this).children(".content").hide()})},_openAll:function(){const e=this,r=this.element.children(".frame");o.each(r,function(){e._openFrame(this)})},open:function(e){const i=this.element.children(".frame").eq(e);this._openFrame(i)},close:function(e){const i=this.element.children(".frame").eq(e);this._closeFrame(i)},toggle:function(e){const i=this.element.children(".frame").eq(e);i.hasClass("active")?this._closeFrame(i):this._openFrame(i)},getActive:function(){const i=this.element.children(".frame"),r=[];return i.each(function(d){o(this).hasClass("active")&&r.push(d)}),r},changeAttribute:(e,i)=>{},destroy:function(){const e=this.element;return e.off(t.events.click,".heading"),e}})})(Metro,Dom),((t,o)=>{let f={onClick:t.noop,onActionClick:t.noop,onActionButtonCreate:t.noop};t.actionButtonSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroActionButtonSetup<"u"&&t.actionButtonSetup(globalThis.metroActionButtonSetup),t.Component("action-button",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("action-button-create")},_createStructure:function(){const e=this.element,i=e.find(".actions li, .actions button");e.addClass("action-button"),e.cssVar("num-actions",i.length),i.length>8&&e.cssVar("action-shift",`${60+(i.length-8)*6}px`),i.each(function(r){o(this).cssVar("action-index",r).addClass("sub-action")}),e.children("button").addClass("main-action")},_createEvents:function(){const e=this,i=this.element;i.on(t.events.click,".actions li, .actions button",function(r){e._fireEvent("action-click",{action:this})}),i.on(t.events.click,".main-action",function(r){r.preventDefault(),r.stopPropagation(),o(this).toggleClass("active")})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}}),o(document).on("click",e=>{o("[data-role-actionbutton]").each((i,r)=>{o(r).children("button").removeClass("active")})})})(Metro,Dom),((t,o)=>{let f={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,title:"",content:"",customButtons:null,actionsAlign:"right",defaultActions:!0,defaultActionButtons:"ok,cancel,help",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"auto",height:"auto",closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onOk:t.noop,onCancel:t.noop,onHelp:t.noop,onShow:t.noop,onHide:t.noop,onOpen:t.noop,onClose:t.noop,onDialogCreate:t.noop};t.dialogSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroDialogSetup<"u"&&t.dialogSetup(globalThis.metroDialogSetup),t.Component("dialog",{_counter:0,init:function(e,i){return this._super(i,e,f,{interval:null,overlay:null,id:null}),this},_create:function(){this._build()},_build:function(){const e=this.element,i=this.options,r=this.strings,d=o("body");let g;if(this.id=Hooks.useId(this.elem),e.addClass("dialog"),i.title!==""&&this.setTitle(i.title),i.content!==""&&this.setContent(i.content),i.defaultActions===!0||i.customButtons){let C=e.find(".dialog-actions"),k;if(C.length===0&&(C=o("<div>").addClass("dialog-actions").addClass(`text-${i.actionsAlign}`).appendTo(e)),i.defaultActions===!0&&e.find(".dialog-actions > *").length===0)for(const I of i.defaultActionButtons.toArray(","))k=o("<button>").addClass(I!=="help"?"js-dialog-close":"").addClass(i.clsDefaultAction).html(r[`label_${I}`]),k.appendTo(C),I==="ok"&&k.on(t.events.click,()=>{t.utils.exec(i.onOk,[e])}),I==="help"&&k.on(t.events.click,()=>{t.utils.exec(i.onHelp,[e])}),I==="cancel"&&k.on(t.events.click,()=>{t.utils.exec(i.onCancel,[e])});const E=t.utils.isObject(i.customButtons);Array.isArray(E)&&o.each(E,function(){k=o("<button>").addClass("button").addClass(this.cls).html(this.text),this.onclick&&k.on(t.events.click,()=>{t.utils.exec(this.onclick,[e])}),k.appendTo(C)})}i.overlay===!0&&(g=this._overlay(),this.overlay=g),i.closeAction===!0&&e.on(t.events.click,".js-dialog-close",()=>{this.close()});let _=e.find("closer");_.length===0&&(_=o("<span>").addClass("closer js-dialog-close"),_.appendTo(e)),i.closeButton!==!0&&_.hide(),e.css({height:i.height,visibility:"hidden",top:"100%"}),i.width!=="auto"&&e.css({width:i.width}),e.addClass(i.clsDialog),e.find(".dialog-title").addClass(i.clsTitle),e.find(".dialog-content").addClass(i.clsContent),e.find(".dialog-actions").addClass(i.clsAction),e.appendTo(d),i.show&&this.open(),o(globalThis).on(t.events.resize,()=>{this.setPosition()},{ns:this.id}),this._fireEvent("dialog-create",{element:e})},_overlay:function(){const e=this.options,i=o("<div>");return i.addClass("overlay").addClass(e.clsOverlay),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(e.overlayColor),e.overlayAlpha)}),i},hide:function(e){const i=this.element,r=this.options;let d=0;r.onHide!==t.noop&&(d=500,this._fireEvent("hide")),setTimeout(()=>{t.utils.exec(e,null,i[0]),i.css({visibility:"hidden",top:"100%"})},d)},show:function(e){const i=this.element;this.setPosition(),i.css({visibility:"visible"}),this._fireEvent("show"),t.utils.exec(e,null,i[0])},setPosition:function(){const e=this.element,i=this.options;let r,d;i.toTop!==!0&&i.toBottom!==!0?(r=(o(globalThis).height()-e.outerHeight())/2,r<0&&(r=0),d="auto"):(i.toTop===!0&&(r=0,d="auto"),i.toTop!==!0&&i.toBottom===!0&&(d=0,r="auto")),e.css({top:r,bottom:d,left:(o(globalThis).width()-e.outerWidth())/2})},setContent:function(e){const i=this.element;let r=i.find(".dialog-content");r.length===0&&(r=o("<div>").addClass("dialog-content"),r.appendTo(i)),t.utils.isQ(e)?e.appendTo(r):t.utils.isFunc(e)?r.html(t.utils.exec(e)):r.html(e)},setTitle:function(e){const i=this.element;let r=i.find(".dialog-title");r.length===0&&(r=o("<div>").addClass("dialog-title"),r.appendTo(i)),r.html(e)},close:function(){const e=this.element,i=this.options;t.utils.bool(i.leaveOverlayOnClose)||o("body").find(".overlay").remove(),this.hide(()=>{e.data("open",!1),this._fireEvent("close"),i.removeOnClose===!0&&e.remove()})},open:function(){const e=this.element,i=this.options;i.overlay===!0&&o(".overlay").length===0&&(this.overlay.appendTo(o("body")),i.overlayClickClose===!0&&this.overlay.on(t.events.click,()=>{this.close()})),this.show(()=>{this._fireEvent("open"),e.data("open",!0),Number.parseInt(i.autoHide)>0&&setTimeout(()=>{this.close()},Number.parseInt(i.autoHide))})},toggle:function(){this.element.data("open")?this.close():this.open()},isOpen:function(){return this.element.data("open")===!0},changeAttribute:(e,i)=>{},destroy:function(){const e=this.element;e.off(t.events.click,".js-dialog-close"),e.find(".button").off(t.events.click),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}}),t.dialog={isDialog:e=>t.utils.isMetroObject(e,"dialog"),open:function(e,i,r){if(!this.isDialog(e))return!1;const d=t.getPlugin(e,"dialog");r&&d.setTitle(r),i&&d.setContent(i),d.open()},close:function(e){if(!this.isDialog(e))return!1;t.getPlugin(o(e)[0],"dialog").close()},toggle:function(e){if(!this.isDialog(e))return!1;t.getPlugin(o(e)[0],"dialog").toggle()},isOpen:function(e){if(!this.isDialog(e))return!1;t.getPlugin(o(e)[0],"dialog").isOpen()},remove:function(e){if(!this.isDialog(e))return!1;const i=t.getPlugin(o(e)[0],"dialog");i.options.removeOnClose=!0,i.close()},create:e=>{const i=o("<div>").appendTo(o("body")),r=o.extend({},{show:!0,closeAction:!0,removeOnClose:!0},e||{});return r._runtime=!0,t.makePlugin(i,"dialog",r)}}})(Metro,Dom),((t,o)=>{let f={activityDeferred:0,type:"ring",style:"",size:64,radius:20,onActivityCreate:t.noop};t.activitySetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroActivitySetup<"u"&&t.activitySetup(globalThis.metroActivitySetup),t.Component("activity",{init:function(e,i){return this._super(i,e,f),this},_create:function(){const e=this.element,i=this.options;let r,d;e.html("").addClass(i.style==="dark"?"dark-side":i.style==="color"?"color-style":"").addClass(`activity-${i.type}`);function g(){for(r=0;r<5;r++)o("<div/>").addClass("circle").appendTo(e)}function _(){for(r=0;r<4;r++)o("<div/>").addClass("square").appendTo(e)}function C(){o("<div/>").addClass("cycle").appendTo(e)}function k(){for(r=0;r<5;r++)d=o("<div/>").addClass("wrap").appendTo(e),o("<div/>").addClass("circle").appendTo(d)}function E(){o(`
                    <svg class="circular">
                        <circle class="path" 
                                cx="${i.size/2}" 
                                cy="${i.size/2}" 
                                r="${i.radius}" 
                                fill="none" 
                                stroke-width="2" 
                                stroke-miterlimit="10"
                        />
                    </svg>
                `).appendTo(e)}function I(){for(r=0;r<3;r++)o("<span/>").addClass("electron").appendTo(e)}function B(){for(r=0;r<6;r++)o("<span/>").addClass("bar").appendTo(e)}switch(i.type){case"metro":g();break;case"square":_();break;case"cycle":C();break;case"simple":E();break;case"atom":I();break;case"bars":B();break;default:k()}this._fireEvent("activity-create",{element:e})},changeAttribute:e=>{},destroy:function(){this.element.remove()}}),t.activity={open:(e={})=>{const i=e,r=`<div data-role="activity" data-type="${i.type?i.type:"cycle"}" data-style="${i.style?i.style:"color"}"></div>`,d=i.text?`<div class="text-center">${i.text}</div>`:"";return t.dialog.create({content:r+d,defaultActions:!1,clsContent:"d-flex flex-column flex-center bg-transparent no-shadow w-auto",clsDialog:"no-border no-shadow bg-transparent global-dialog",autoHide:i.autoHide?i.autoHide:0,overlayClickClose:i.overlayClickClose===!0,overlayColor:i.overlayColor?i.overlayColor:"#000000",overlayAlpha:i.overlayAlpha?i.overlayAlpha:.5,clsOverlay:"global-overlay"})},close:e=>{t.dialog.close(e)}}})(Metro,Dom),((t,o)=>{let f={adblockDeferred:0,checkInterval:1e3,fireOnce:!0,checkStop:10,localhost:!1,onAlert:t.noop,onFishingStart:t.noop,onFishingDone:t.noop};t.adblockSetup=i=>{f=o.extend({},f,i)},typeof globalThis.metroAdblockSetup<"u"&&t.adblockSetup(globalThis.metroAdblockSetup);const e={bite:()=>{o("<div>").addClass("adblock-bite adsense google-adsense dblclick advert topad top_ads topAds textads sponsoredtextlink_container show_ads right-banner rekl mpu module-ad mid_ad mediaget horizontal_ad headerAd contentAd brand-link bottombanner bottom_ad_block block_ad bannertop banner-right banner-body b-banner b-article-aside__banner b-advert adwrapper adverts advertisment advertisement:not(body) advertise advert_list adtable adsense adpic adlist adleft adinfo adi adholder adframe addiv ad_text ad_space ad_right ad_links ad_body ad_block ad_Right adTitle adText".split(" ").shuffle().join(" ")).css({position:"fixed",height:1,width:1,overflow:"hidden",visibility:"visible",top:0,left:0}).append(o("<a href='https://dblclick.net'>").html("dblclick.net")).appendTo("body"),e.options.adblockDeferred?setTimeout(()=>{e.fishing()},e.options.adblockDeferred):e.fishing()},fishing:()=>{const i=e.options;let r=typeof i.fireOnce=="number"?i.fireOnce:0,d=i.checkStop,g=!1;const _=()=>{const C=o(".adsense.google-adsense.dblclick.advert.adblock-bite"),k=C.find("a"),E=()=>{clearInterval(g),t.utils.exec(i.onFishingDone),o(globalThis).fire("fishing-done"),C.remove()};if(!i.localhost&&o.localhost){E();return}!C.length||!k.length||C.css("display").indexOf("none")>-1||k.css("display").indexOf("none")>-1?(t.utils.exec(e.options.onAlert),o(globalThis).fire("adblock-alert"),e.options.fireOnce===!0?E():(r--,r===0&&E())):d!==!1&&(d--,d===0&&E())};t.utils.exec(i.onFishingStart),o(globalThis).fire("fishing-start"),g=setInterval(()=>{_()},e.options.checkInterval),_()}};t.Adblock=e,o(()=>{e.options=o.extend({},f),o(globalThis).on("metro-initiated",()=>{e.bite()})})})(Metro,Dom),((t,o)=>{let f={icon:null,showNumbers:!1,showMoon:!0,showDay:!0,showDigitalClock:!0,timeFormat:24,onAnalogClockCreate:t.noop};t.analogClockSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroAnalogClockSetup<"u"&&t.analogClockSetup(globalThis.metroAnalogClockSetup),t.Component("analog-clock",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("analog-clock-create")},_createStructure:function(){const e=this.element,i=this.options,r=datetime();e.addClass("analog-clock"),i.showNumbers&&e.addClass("show-numbers");for(let d=1;d<=12;d++)e.append(`<label class="dash" style="--i: ${d}"><span>${i.showNumbers?d:"|"}</span></label>`);for(let d=1;d<=90;d++)d%5!==0&&e.append(`<label class="secondary-dash" style="--i2: ${d}"><span>|</span></label>`);e.append(`
                <div class="hands">
                    <div class="hour"></div>                
                    <div class="minute"></div>                
                    <div class="second"></div>                
                </div>
                  
            `),e.append(`
                <div class="day-month">
                    <div class="day-month-inner">
                        <div class="day">${r.format("DD",this.locale)}</div>
                        <div class="month">${r.format("MMM",this.locale)}</div>                    
                    </div>
                    <div class="week-day">${r.format("dddd",this.locale)}</div>
                </div>
            `),i.showDay===!1&&e.find(".day-month").hide(),e.append(`
                <div class="digital-clock">
                    <div class="dc-hour">${r.format(i.timeFormat===24?"HH":"hh",this.locale)}</div>
                    <div class="dc-minute">${r.format("mm",this.locale)}</div>
                    <div class="dc-second">${r.format("ss",this.locale)}</div>
                </div>
            `),i.showDigitalClock===!1&&e.find(".digital-clock").hide(),i.icon&&e.append(`<div class="icon">${i.icon}</div>`),i.showMoon===!0&&e.append('<div class="moon"></div>'),this._updateTime(),setInterval(()=>{e.toggleClass("tick")},500)},_createEvents:()=>{},_updateTime:function(){const e=this.element,i=this.options,r=e.find(".second"),d=e.find(".minute"),g=e.find(".hour"),_=e.find(".dc-second"),C=e.find(".dc-minute"),k=e.find(".dc-hour"),E=e.find(".day"),I=e.find(".month"),B=e.find(".moon"),q=()=>{const Z=datetime(),Q=Z.second()/60*360,De=Z.minute()/60*360,He=Z.hour12()/12*360,Me=Z.format("DD",this.locale),Be=Z.format("MMM",this.locale),we=Z.moon();r[0].style.transform=`rotate(${Q}deg)`,d[0].style.transform=`rotate(${De}deg)`,g[0].style.transform=`rotate(${He}deg)`,E.html(Me),I.html(Be),B.removeClass("").addClass(`${we.name}`),k[0].innerHTML=Z.format(i.timeFormat===24?"HH":"hh",this.locale),C[0].innerHTML=Z.format("mm",this.locale),_[0].innerHTML=Z.format("ss",this.locale)};q(),setInterval(q,1e3)},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,checkHamburgerColor:!1,onMenuOpen:t.noop,onMenuClose:t.noop,onBeforeMenuOpen:t.noop,onBeforeMenuClose:t.noop,onMenuCollapse:t.noop,onMenuExpand:t.noop,onAppBarCreate:t.noop};t.appBarSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroAppBarSetup<"u"&&t.appBarSetup(globalThis.metroAppBarSetup),t.Component("app-bar",{init:function(e,i){return this._super(i,e,f,{id:null}),this},_create:function(){const e=this.element;this.id=e.attr("id")||Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options;let r,d;if(t.utils.getStyleOne(e,"background-color"),e.addClass("app-bar").attr("role","navigation"),r=e.find(".hamburger"),r.length===0){r=o("<button>").attr("type","button").addClass("hamburger menu-down").attr("aria-label","Toggle menu").attr("aria-expanded","false").attr("aria-controls",`app-bar-menu-${this.id}`);for(let g=0;g<3;g++)o("<span>").addClass("line").appendTo(r)}e.prepend(r),d=e.find(".app-bar-menu"),d.length>0&&(d.attr("id",`app-bar-menu-${this.id}`),d.attr("role","menubar")),d.length===0?r.css("display","none"):(d.find("li").attr("role","menuitem"),d.find("li a").attr("tabindex","0"),d.find("li:has(ul)").attr("aria-haspopup","true"),d.find("li ul").attr("role","menu").attr("aria-hidden","true")),r.css("display")==="block"?(d.hide().addClass("collapsed"),r.removeClass("hidden")):r.addClass("hidden"),(i.expand===!0||t.utils.isValue(i.expandPoint)&&t.utils.mediaExist(i.expandPoint))&&(e.addClass("app-bar-expand"),r.addClass("hidden")),i.checkHamburgerColor},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.find(".app-bar-menu"),g=i.find(".hamburger");i.on(t.events.click,".hamburger",()=>{if(d.length===0)return;d.hasClass("collapsed")?e.open():e.close()}),g.on("keydown",_=>{(_.keyCode===13||_.keyCode===32)&&(_.preventDefault(),g.trigger("click"))}),d.find("li a").on("keydown",function(_){(_.keyCode===13||_.keyCode===32)&&(_.preventDefault(),o(this).trigger("click")),_.keyCode===27&&(_.preventDefault(),e.close(),g.focus())}),o(globalThis).on(t.events.resize,()=>{if(r.expand!==!0&&(t.utils.isValue(r.expandPoint)&&t.utils.mediaExist(r.expandPoint)?(i.addClass("app-bar-expand"),e._fireEvent("menu-expand")):(i.removeClass("app-bar-expand"),e._fireEvent("menu-collapse"))),d.length===0){g.addClass("hidden");return}d.removeClass("opened").removeClass("collapsed"),g.css("display")!=="block"?(g.addClass("hidden"),d.show()):(g.removeClass("hidden"),g.hasClass("active")?d.removeClass("collapsed").addClass("opened"):d.addClass("collapsed").removeClass("opened"))},{ns:this.id})},close:function(){const e=this.element,i=this.options,r=e.find(".app-bar-menu"),d=e.find(".hamburger");this._fireEvent("before-menu-close",{menu:r[0]}),d.attr("aria-expanded","false"),r.find("ul").attr("aria-hidden","true"),r.slideUp(i.duration,()=>{r.addClass("collapsed").removeClass("opened"),d.removeClass("active"),this._fireEvent("menu-close",{menu:r[0]})})},open:function(){const e=this.element,i=this.options,r=e.find(".app-bar-menu"),d=e.find(".hamburger");this._fireEvent("before-menu-open",{menu:r[0]}),d.attr("aria-expanded","true"),r.find("ul").attr("aria-hidden","false"),r.slideDown(i.duration,()=>{r.removeClass("collapsed").addClass("opened"),d.addClass("active"),this._fireEvent("menu-open",{menu:r[0]})})},changeAttribute:(e,i)=>{},destroy:function(){const e=this.element;e.off(t.events.click,".hamburger"),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let f={audioVolume:.5,audioSrc:"",onAudioStart:t.noop,onAudioEnd:t.noop,onAudioButtonCreate:t.noop};t.audioButtonSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroAudioButtonSetup<"u"&&t.audioButtonSetup(globalThis.metroAudioButtonSetup),t.Component("audio-button",{init:function(e,i){return this._super(i,e,f,{audio:null,canPlay:null,id:null,playing:!1}),this},_create:function(){const e=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("audioButtonCreate",{element:e})},_createStructure:function(){const e=this.options;this.audio=new Audio(e.audioSrc),this.audio.volume=e.audioVolume},_createEvents:function(){const e=this.element,i=this.options,r=this.audio;r.addEventListener("loadeddata",()=>{this.canPlay=!0}),r.addEventListener("ended",()=>{this.playing=!1,this._fireEvent("audioEnd",{src:i.audioSrc,audio:r})}),e.on(t.events.click,()=>{this.play()},{ns:this.id})},play:function(e){const i=this.element,r=this.options,d=this.audio;if(this.playing){this.stop();return}r.audioSrc!==""&&this.audio.duration&&this.canPlay&&(this.playing=!0,this._fireEvent("audioStart",{src:r.audioSrc,audio:d}),d.pause(),d.currentTime=0,d.play(),t.utils.exec(e,[d],i[0]))},stop:function(e){const i=this.element,r=this.options,d=this.audio;this.playing=!1,d.pause(),d.currentTime=0,this._fireEvent("audioEnd",{src:r.audioSrc,audio:d}),t.utils.exec(e,[d],i[0])},changeAttribute:function(e){const i=this.element,r=this.options,d=this.audio,g=()=>{const C=i.attr("data-audio-src");C&&C.trim()!==""&&(r.audioSrc=C,d.src=C)},_=()=>{const C=Number.parseFloat(i.attr("data-audio-volume"));Number.isNaN(C)||(r.audioVolume=C,d.volume=C)};e==="data-audio-src"&&g(),e==="data-audio-volume"&&_()},destroy:function(){const e=this.element;e.off(t.events.click,{ns:this.id}),e.remove()}}),t.playSound=e=>{const i=typeof e=="string"?e:e.audioSrc,r=e!=null&&e.audioVolume?e.audioVolume:.5;if(!i)return;const d=new Audio(i);d.volume=Number.parseFloat(r),d.addEventListener("loadeddata",function(){e!=null&&e.onAudioStart&&t.utils.exec(e.onAudioStart,[i],this),this.play()}),d.addEventListener("ended",function(){e!=null&&e.onAudioEnd&&t.utils.exec(e.onAudioEnd,[null],this)})}})(Metro,Dom),((t,o)=>{let f={sliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:t.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:t.position.TOP,hintMask:"$1",vertical:!1,target:null,returnType:"value",size:0,label:null,hideButton:!1,clsSlider:"",clsBackside:"",clsComplete:"",clsBuffer:"",clsMarker:"",clsHint:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:t.noop,onStop:t.noop,onMove:t.noop,onSliderClick:t.noop,onChange:t.noop,onChangeValue:t.noop,onChangeBuffer:t.noop,onFocus:t.noop,onBlur:t.noop,onSliderCreate:t.noop};t.sliderSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroSliderSetup<"u"&&t.sliderSetup(globalThis.metroSliderSetup),t.Component("slider",{init:function(e,i){return this._super(i,e,f,{slider:null,value:0,percent:0,pixel:0,buffer:0,keyInterval:!1,id:null}),this},_create:function(){const e=this.element,i=this.options;this.id=e.attr("id")||Hooks.useId(this.elem),this._createSlider(),this._createEvents(),this.buff(i.buffer),this.val(i.value),this._fireEvent("slider-create",{element:e})},_createSlider:function(){const e=this.element,i=this.options,r=o("<div>").addClass("backside").addClass(i.clsBackside),d=o("<div>").addClass("complete").addClass(i.clsComplete),g=o("<div>").addClass("buffer").addClass(i.clsBuffer),_=o("<button>").attr("type","button").addClass("marker").addClass(i.clsMarker),C=o("<div>").addClass("hint").addClass(`${i.hintPosition}-side`).addClass(i.clsHint),k=e.wrap("<div>").addClass("slider").addClass(e[0].className).addClass(i.clsSlider);if(i.size>0&&(i.vertical===!0?k.outerHeight(i.size):k.outerWidth(i.size)),i.vertical===!0&&k.addClass("vertical-slider"),i.hintAlways===!0&&C.css({display:"block"}).addClass("permanent-hint"),i.label){const E=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(k);if(e.id())E.attr("for",e.id());else{const I=Hooks.useId(e[0]);E.attr("for",I),e.attr("id",I)}}if(r.appendTo(k),d.appendTo(k),g.appendTo(k),_.appendTo(k),C.appendTo(_),i.hideButton===!0&&k.addClass("hidden-button"),i.showMinMax===!0){const E=o("<div>").addClass("slider-min-max").addClass(i.clsMinMax);o("<span>").addClass("slider-text-min").addClass(i.clsMin).html(i.min).appendTo(E),o("<span>").addClass("slider-text-max").addClass(i.clsMax).html(i.max).appendTo(E),i.minMaxPosition===t.position.TOP?E.insertBefore(k):E.insertAfter(k)}e[0].className="",e.is(":disabled")?this.disable():this.enable(),this.slider=k},_createEvents:function(){const e=this.slider,i=this.options,r=e.find(".marker"),d=e.find(".hint");r.on(t.events.startAll,()=>{i.hint===!0&&i.hintAlways!==!0&&d.fadeIn(300),o(document).on(t.events.moveAll,g=>{g.cancelable&&g.preventDefault(),this._move(g),this._fireEvent("move",{val:this.value,percent:this.percent})},{ns:this.id,passive:!1}),o(document).on(t.events.stopAll,()=>{o(document).off(t.events.moveAll,{ns:this.id}),o(document).off(t.events.stopAll,{ns:this.id}),i.hintAlways!==!0&&d.fadeOut(300),this._fireEvent("stop",{val:this.value,percent:this.percent})},{ns:this.id}),this._fireEvent("start",{val:this.value,percent:this.percent})}),r.on(t.events.focus,()=>{this._fireEvent("focus",{val:this.value,percent:this.percent})}),r.on(t.events.blur,()=>{this._fireEvent("blur",{val:this.value,percent:this.percent})}),r.on(t.events.keydown,g=>{const _=g.keyCode?g.keyCode:g.which;if([37,38,39,40].indexOf(_)===-1)return;const C=i.accuracy===0?1:i.accuracy;this.keyInterval||(this.keyInterval=setInterval(()=>{let k=this.value;(g.keyCode===37||g.keyCode===40)&&(k-C<i.min?k=i.min:k-=C),(g.keyCode===38||g.keyCode===39)&&(k+C>i.max?k=i.max:k+=C),this.value=this._correct(k),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},100),g.preventDefault())}),r.on(t.events.keyup,()=>{clearInterval(this.keyInterval),this.keyInterval=!1}),e.on(t.events.click,g=>{this._move(g),this._fireEvent("slider-click",{val:this.value,percent:this.percent}),this._fireEvent("stop",{val:this.value,percent:this.percent})}),o(globalThis).on(t.events.resize,()=>{this.val(this.value),this.buff(this.buffer)},{ns:this.id})},_convert:function(e,i){const r=this.slider,d=this.options,g=(d.vertical===!0?r.outerHeight():r.outerWidth())-r.find(".marker").outerWidth();switch(i){case"pix2prc":return e*100/g;case"pix2val":return this._convert(e,"pix2prc")*((d.max-d.min)/100)+d.min;case"val2prc":return(e-d.min)/((d.max-d.min)/100);case"prc2pix":return e/(100/g);case"val2pix":return this._convert(this._convert(e,"val2prc"),"prc2pix")}return 0},_correct:function(e){let i=e;const r=this.options.accuracy,d=this.options.min,g=this.options.max;return r===0||Number.isNaN(r)?i:(i=Math.round(e/r)*r,i<d&&(i=d),i>g&&(i=g),i.toFixed(t.utils.decCount(r)))},_move:function(e){const i=this.slider,r=this.options,d=i.offset(),g=i.find(".marker").outerWidth(),_=r.vertical===!0?i.outerHeight():i.outerWidth(),C=0,k=_-g,E=r.vertical===!0?t.utils.pageXY(e).y-d.top:t.utils.pageXY(e).x-d.left,I=r.vertical===!0?_-E-g/2:E-g/2;I<C||I>k||(this.value=this._correct(this._convert(I,"pix2val")),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw())},_hint:function(){const e=this.options,r=this.slider.find(".hint");let d=+this.value||0,g=+this.percent||0;e.roundValue&&(d=(t.utils.isValue(d)?+d:0).toFixed(t.utils.decCount(e.accuracy)),g=(t.utils.isValue(g)?+g:0).toFixed(t.utils.decCount(e.accuracy))),r.text(e.hintMask.replace("$1",d).replace("$2",g))},_value:function(){const e=this.element,i=this.options;let r=i.returnType==="value"?this.value:this.percent,d=this.percent,g=this.buffer;if(i.roundValue&&(r=(t.utils.isValue(r)?+r:0).toFixed(t.utils.decCount(i.accuracy)),d=(t.utils.isValue(d)?+d:0).toFixed(t.utils.decCount(i.accuracy)),g=(t.utils.isValue(g)?+g:0).toFixed(t.utils.decCount(i.accuracy))),e[0].tagName==="INPUT"&&e.val(r),i.target!==null){const _=o(i.target);_.length!==0&&o.each(_,function(){const C=o(this);this.tagName==="INPUT"?C.val(r):C.text(r),C.trigger("change")})}this._fireEvent("change-value",{val:r}),this._fireEvent("change",{val:r,percent:d,buffer:g})},_marker:function(){const e=this.slider,i=this.options,r=e.find(".marker"),d=e.find(".complete"),g=i.vertical===!0?e.outerHeight():e.outerWidth(),_=Number.parseInt(t.utils.getStyleOne(r,"width")),C=t.utils.isVisible(e);C&&r.css({"margin-top":0,"margin-left":0}),i.vertical===!0?(C?r.css("top",g-this.pixel):(r.css("top",`${100-this.percent}%`),r.css("margin-top",_/2)),d.css("height",`${this.percent}%`)):(C?r.css("left",this.pixel):(r.css("left",`${this.percent}%`),r.css("margin-left",this.percent===0?0:-1*_/2)),d.css("width",`${this.percent}%`))},_redraw:function(){this._marker(),this._value(),this._hint()},_buffer:function(){const e=this.element,i=this.options,r=this.slider.find(".buffer");i.vertical===!0?r.css("height",`${this.buffer}%`):r.css("width",`${this.buffer}%`),this._fireEvent("change-buffer",{val:this.buffer}),this._fireEvent("change",{val:e.val(),percent:this.percent,buffer:this.buffer})},val:function(e){const i=this.options;if(e===void 0||Number.isNaN(e))return this.value;let r=Number.parseFloat(e);r<i.min&&(r=i.min),r>i.max&&(r=i.max),this.value=this._correct(r),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},buff:function(e){const r=this.slider.find(".buffer");if(e===void 0||Number.isNaN(e))return this.buffer;if(r.length===0)return!1;let d=Number.parseFloat(e);d>100&&(d=100),d<0&&(d=0),this.buffer=d,this._buffer()},changeValue:function(){const e=this.element,i=this.options;let r=e.attr("data-value");r<i.min&&(r=i.min),r>i.max&&(r=i.max),this.val(r)},changeBuffer:function(){const e=this.element;let i=Number.parseInt(e.attr("data-buffer"));i<0&&(i=0),i>100&&(i=100),this.buff(i)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break;case"disabled":this.toggleState();break}},destroy:function(){const e=this.options,i=this.slider,r=i.find(".marker");r.off(t.events.startAll),r.off(t.events.focus),r.off(t.events.blur),r.off(t.events.keydown),r.off(t.events.keyup),i.off(t.events.click),o(globalThis).off(t.events.resize,{ns:this.id}),e.label&&i.prev("label").remove(),i.remove()}})})(Metro,Dom),((t,o)=>{let f={audioDeferred:0,playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:"⮔",stopIcon:"⏹",playIcon:"▶",pauseIcon:"⏸",muteIcon:"🔇",volumeLowIcon:"🔈",volumeMediumIcon:"🔉",volumeHighIcon:"🔊",playlistIcon:"📃",nextIcon:"→",prevIcon:"←",firstIcon:"⇤",lastIcon:"⇥",forwardIcon:"⇉",backwardIcon:"⇇",shuffleIcon:"🔀",randomIcon:"🎲",onPlay:t.noop,onPause:t.noop,onStop:t.noop,onEnd:t.noop,onMetadata:t.noop,onTime:t.noop,onAudioPlayerCreate:t.noop};t.audioPlayerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroAudioPlayerSetup<"u"&&t.audioPlayerSetup(globalThis.metroAudioPlayerSetup),t.Component("audio-player",{init:function(e,i){return this._super(i,e,f,{player:null,audio:i,stream:null,volume:null,volumeBackup:0,muted:!1}),this},_create:function(){const e=this.element,i=this.options;this._createPlayer(),this._createEvents(),i.autoplay===!0&&this.play(),this._fireEvent("audio-player-create",{element:e,player:this.player})},_createPlayer:function(){const e=this.element,i=this.options,r=this.audio,d=e.wrap("<div>").addClass(`media-player audio-player ${e[0].className}`);o.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){e.removeAttr(this)}),e.attr("preload","auto"),r.volume=i.volume,i.src!==null&&this._setSource(i.src),e[0].className="",this.player=d,this._createControls()},_setSource:function(e){const i=this.element;i.find("source").remove(),i.removeAttr("src"),Array.isArray(e)?o.each(e,function(){this.src!==void 0&&o("<source>").attr("src",this.src).attr("type",this.type!==void 0?this.type:"").appendTo(i)}):i.attr("src",e)},_createControls:function(){const e=this.element,i=this.options,r=this.elem,d=o("<div>").addClass("controls").addClass(i.clsControls).insertAfter(e),g=o("<div>").addClass("stream").appendTo(d),_=o("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(g),C=o("<div>").addClass("volume").appendTo(d),k=o("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(C),E=o("<div>").addClass("info-box").appendTo(d);i.showInfo!==!0&&E.hide(),t.makePlugin(_,"slider",{clsMarker:"bg-dark-cyan",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,hideButton:!0,onStart:()=>{r.paused||r.pause()},onStop:B=>{r.seekable.length>0&&(r.currentTime=(this.duration*B/100).toFixed(0)),r.paused&&r.currentTime>0&&r.play()}}),this.stream=_,i.showStream!==!0&&g.hide(),t.makePlugin(k,"slider",{clsMarker:"bg-dark-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-red",hint:!0,hideButton:!0,value:i.volume*100,onChangeValue:B=>{r.volume=B/100}}),this.volume=k,i.showVolume!==!0&&C.hide();let I;i.showLoop===!0&&(I=o("<button>").attr("type","button").addClass("medium cycle loop").html(i.loopIcon).appendTo(d),I.addClass("active"),e.attr("loop","loop")),i.showPlay===!0&&o("<button>").attr("type","button").addClass("medium cycle play").html(i.playIcon).appendTo(d),i.showStop===!0&&o("<button>").attr("type","button").addClass("medium cycle stop").html(i.stopIcon).appendTo(d),i.showMute===!0&&o("<button>").attr("type","button").addClass("medium cycle mute").html(i.muteIcon).appendTo(d),this._setVolume(),i.muted&&(this.volumeBackup=r.volume,t.getPlugin(this.volume,"slider").val(0),r.volume=0),E.html("00:00 / 00:00")},_createEvents:function(){const e=this.element,i=this.options,r=this.elem,d=this.player;e.on("loadstart",()=>{}),e.on("loadedmetadata",()=>{this.duration=r.duration.toFixed(0),this._setInfo(0,this.duration),t.utils.exec(i.onMetadata,[r,d],e[0])}),e.on("canplay",()=>{this._setBuffer()}),e.on("progress",()=>{this._setBuffer()}),e.on("timeupdate",()=>{const g=Math.round(r.currentTime*100/this.duration);this._setInfo(r.currentTime,this.duration),t.getPlugin(this.stream,"slider").val(g),t.utils.exec(i.onTime,[r.currentTime,this.duration,r,d],e[0])}),e.on("waiting",()=>{}),e.on("loadeddata",()=>{}),e.on("play",()=>{d.find(".play").html(i.pauseIcon),t.utils.exec(i.onPlay,[r,d],e[0])}),e.on("pause",()=>{d.find(".play").html(i.playIcon),t.utils.exec(i.onPause,[r,d],e[0])}),e.on("stop",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onStop,[r,d],e[0])}),e.on("ended",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onEnd,[r,d],e[0])}),e.on("volumechange",()=>{this._setVolume()}),d.on(t.events.click,".play",()=>{r.paused?this.play():this.pause()}),d.on(t.events.click,".stop",()=>{this.stop()}),d.on(t.events.click,".mute",()=>{this._toggleMute()}),d.on(t.events.click,".loop",()=>{this._toggleLoop()})},_toggleLoop:function(){const e=this.player.find(".loop");e.length!==0&&(e.toggleClass("active"),e.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.audio.volume=this.volumeBackup:(this.volumeBackup=this.audio.volume,this.audio.volume=0),t.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(e,i){this.player.find(".info-box").html(`${t.utils.secondsToFormattedString(Math.round(e))} / ${t.utils.secondsToFormattedString(Math.round(i))}`)},_setBuffer:function(){const e=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;t.getPlugin(this.stream,"slider").buff(e)},_setVolume:function(){const e=this.audio,i=this.player,r=this.options,d=i.find(".mute"),g=e.volume*100;g>1&&g<30?d.html(r.volumeLowIcon):g>=30&&g<60?d.html(r.volumeMediumIcon):g>=60&&g<=100?d.html(r.volumeHighIcon):d.html(r.muteIcon)},play:function(e){e!==void 0&&this._setSource(e),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0,t.getPlugin(this.stream,"slider").val(0)},setVolume:function(e){if(e===void 0)return this.audio.volume;const i=e>1?e/100:e;this.audio.volume=e,t.getPlugin(this.volume,"slider").val(i*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){const e=JSON.parse(this.element.attr("data-src"));this.play(e)},changeVolume:function(){const e=this.element.attr("data-volume");this.setVolume(e)},changeAttribute:function(e){switch(e){case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){const e=this.element,i=this.player;return e.off("all"),i.off("all"),t.getPlugin(this.stream,"slider").destroy(),t.getPlugin(this.volume,"slider").destroy(),e}})})(Metro,Dom),((t,o)=>{let f={type:"success",size:16,onBullCreate:t.noop,onBullChange:t.noop};t.bullSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroBullSetup<"u"&&t.bullSetup(globalThis.metroBullSetup),t.Component("bull",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._fireEvent("bull-create")},_createStructure:function(){const e=this.element,i=this.options;let r;switch(i.type.toLowerCase()){case"default":r=`<svg width="${i.size}" height="${i.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"success":r=`<svg width="${i.size}" height="${i.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"pending":r=`<svg width="${i.size}" height="${i.size}" aria-label="currently running" fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="ani-spin"><path fill="none" stroke="#DBAB0A" stroke-width="2" d="M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z" opacity=".5"></path><path fill="#DBAB0A" fill-rule="evenodd" d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z" clip-rule="evenodd"></path><path fill="#DBAB0A" d="M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"></path></svg>`;break;case"fail":r=`<svg width="${i.size}" height="${i.size}" aria-label="failed" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#e5534b" d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>`;break;case"warning":r=`<svg width="${i.size}" height="${i.size}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill="#ff4d00" d="M246.312928,5.62892705 C252.927596,9.40873724 258.409564,14.8907053 262.189374,21.5053731 L444.667042,340.84129 C456.358134,361.300701 449.250007,387.363834 428.790595,399.054926 C422.34376,402.738832 415.04715,404.676552 407.622001,404.676552 L42.6666667,404.676552 C19.1025173,404.676552 7.10542736e-15,385.574034 7.10542736e-15,362.009885 C7.10542736e-15,354.584736 1.93772021,347.288125 5.62162594,340.84129 L188.099293,21.5053731 C199.790385,1.04596203 225.853517,-6.06216498 246.312928,5.62892705 Z M224,272 C208.761905,272 197.333333,283.264 197.333333,298.282667 C197.333333,313.984 208.415584,325.248 224,325.248 C239.238095,325.248 250.666667,313.984 250.666667,298.624 C250.666667,283.264 239.238095,272 224,272 Z M245.333333,106.666667 L202.666667,106.666667 L202.666667,234.666667 L245.333333,234.666667 L245.333333,106.666667 Z" id="Combined-Shape"></path></svg>`;break;case"bulb":r=`<svg width="${i.size}" height="${i.size}" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#ffde21" d="M213.333333,85.3333333 C284.025781,85.3333333 341.333333,142.640885 341.333333,213.333333 C341.333333,260.711239 315.5928,302.077122 277.333732,324.208982 L277.333333,405.333333 L256,426.666667 L234.666667,426.666667 C234.666667,438.448741 225.115408,448 213.333333,448 C201.551259,448 192,438.448741 192,426.666667 L192,426.666667 L170.666667,426.666667 L149.333333,405.333333 L149.332954,324.208993 C111.073876,302.077136 85.3333333,260.711248 85.3333333,213.333333 C85.3333333,142.640885 142.640885,85.3333333 213.333333,85.3333333 Z M234.667665,339.563386 C227.72957,340.727434 220.602209,341.333333 213.333333,341.333333 C206.064458,341.333333 198.937097,340.727434 191.999002,339.563386 L192,384 L234.666667,384 L234.667665,339.563386 Z M96.4250122,307.614237 L119.052429,330.241654 L73.7975952,375.496488 L51.1701782,352.869071 L96.4250122,307.614237 Z M330.241654,307.614237 L375.496488,352.869071 L352.869071,375.496488 L307.614237,330.241654 L330.241654,307.614237 Z M426.666667,197.333333 L426.666667,229.333333 L362.666667,229.333333 L362.666667,197.333333 L426.666667,197.333333 Z M64,197.333333 L64,229.333333 L7.10542736e-15,229.333333 L7.10542736e-15,197.333333 L64,197.333333 Z M352.869071,51.1701782 L375.496488,73.7975952 L330.241654,119.052429 L307.614237,96.4250122 L352.869071,51.1701782 Z M73.7975952,51.1701782 L119.052429,96.4250122 L96.4250122,119.052429 L51.1701782,73.7975952 L73.7975952,51.1701782 Z M229.333333,-1.0658141e-14 L229.333333,64 L197.333333,64 L197.333333,-1.0658141e-14 L229.333333,-1.0658141e-14 Z" id="Combined-Shape"></path></svg>`;break}e.clear().html(r)},setType:function(e="default"){this.element;const i=this.options;e!==i.type&&(i.type=e.toLowerCase(),this._createStructure(),this._fireEvent("bull-change"))},changeAttribute:function(e,i){e==="data-type"&&this._createStructure()},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={buttongroupDeferred:0,targets:"button",clsActive:"",requiredButton:!1,mode:t.groupMode.ONE,onButtonClick:t.noop,onButtonGroupCreate:t.noop};t.buttonGroupSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroButtonGroupSetup<"u"&&t.buttonGroupSetup(globalThis.metroButtonGroupSetup),t.Component("button-group",{init:function(e,i){return this._super(i,e,f,{active:null,id:null}),this},_create:function(){const e=this.element;this.id=Hooks.useId(this.elem),this._createGroup(),this._createEvents(),this._fireEvent("button-group-create",{element:e})},_createGroup:function(){const e=this.element,i=this.options;e.addClass("button-group");const r=e.find(i.targets),d=e.find(".active");i.mode===t.groupMode.ONE&&d.length===0&&i.requiredButton===!0&&o(r[0]).addClass("active"),i.mode===t.groupMode.ONE&&d.length>1&&(r.removeClass("active").removeClass(i.clsActive),o(r[0]).addClass("active")),e.find(".active").addClass("js-active").addClass(i.clsActive)},_createEvents:function(){const e=this,i=this.element,r=this.options;i.on(t.events.click,r.targets,function(){const d=o(this);e._fireEvent("button-click",{button:this}),!(r.mode===t.groupMode.ONE&&d.hasClass("active"))&&(r.mode===t.groupMode.ONE?(i.find(r.targets).removeClass(r.clsActive).removeClass("active js-active"),d.addClass("active").addClass(r.clsActive).addClass("js-active")):d.toggleClass("active").toggleClass(r.clsActive).toggleClass("js-active"))})},changeAttribute:e=>{},destroy:function(){const e=this.element,i=this.options;e.off(t.events.click,i.targets),e.remove()}})})(Metro,Dom),((t,o)=>{let f={spinnerDeferred:0,label:"",step:1,plusIcon:"+",minusIcon:"-",buttonsPosition:"default",defaultValue:0,minValue:null,maxValue:null,fixed:0,repeatThreshold:2e3,hideCursor:!1,clsSpinner:"",clsSpinnerInput:"",clsSpinnerButton:"",clsSpinnerButtonPlus:"",clsSpinnerButtonMinus:"",clsLabel:"",onBeforeChange:t.noop_true,onChange:t.noop,onPlusClick:t.noop,onMinusClick:t.noop,onArrowUp:t.noop,onArrowDown:t.noop,onButtonClick:t.noop,onArrowClick:t.noop,onSpinnerCreate:t.noop};t.spinnerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroSpinnerSetup<"u"&&t.spinnerSetup(globalThis.metroSpinnerSetup),t.Component("spinner",{init:function(e,i){return this._super(i,e,f,{repeat_timer:!1}),this},_create:function(){const e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("spinner-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options,r=o("<div>").addClass("spinner").addClass(`buttons-${i.buttonsPosition}`).addClass(e[0].className).addClass(i.clsSpinner),d=o("<button>").attr("type","button").addClass("button spinner-button spinner-button-plus").addClass(`${i.clsSpinnerButton} ${i.clsSpinnerButtonPlus}`).html(i.plusIcon),g=o("<button>").attr("type","button").addClass("button spinner-button spinner-button-minus").addClass(`${i.clsSpinnerButton} ${i.clsSpinnerButtonMinus}`).html(i.minusIcon),_=e.val().trim();if(t.utils.isValue(_)||e.val(0),e[0].className="",r.insertBefore(e),e.appendTo(r).addClass(i.clsSpinnerInput),e.addClass("metro-input"),d.appendTo(r),g.appendTo(r),i.hideCursor===!0&&r.addClass("hide-cursor"),i.label){const C=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(r);if(e.attr("id"))C.attr("for",e.attr("id"));else{const k=Hooks.useId(e[0]);C.attr("for",k),e.attr("id",k)}e.attr("dir")==="rtl"&&C.addClass("rtl")}i.disabled===!0||e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){const e=this.element,i=this.options,r=e.closest(".spinner");let d;const g=_=>{const C=[_?"plus-click":"minus-click",_?"arrow-up":"arrow-down","button-click","arrow-click"],k=+e.val();let E=+e.val();const I=+i.step;_?E+=I:E-=I,this._setValue(E.toFixed(i.fixed),!0),this._fireEvents(C,{curr:k,val:E,elementVal:e.val(),button:_?"plus":"minus"})};r.on(t.events.startAll,".spinner-button",function(_){const C=o(this).hasClass("spinner-button-plus");d=setInterval(()=>{g(C)},100)},{passive:!0}),r.on(t.events.stopAll,".spinner-button",_=>{clearInterval(d)},{passive:!0}),r.on(t.events.click,".spinner-button",function(_){const C=o(this).hasClass("spinner-button-plus");g(C)},{passive:!0}),r.on(t.events.click,_=>{o(".focused").removeClass("focused"),r.addClass("focused"),_.preventDefault(),_.stopPropagation()})},_setValue:function(e=0,i=!1){const r=this.element,d=this.options;if(t.utils.exec(d.onBeforeChange,[e],r[0])!==!0)return;let g=+e;g>Number(d.maxValue)&&(g=Number(d.maxValue)),g<Number(d.minValue)&&(g=Number(d.minValue)),r.val(e),this._fireEvent("change",{val:e},!1,!0),i===!0&&r.fire("change",{val:e})},val:function(e){const i=this.element,r=this.options;if(!t.utils.isValue(e))return i.val();this._setValue(e.toFixed(r.fixed),!0)},toDefault:function(){const e=this.options,i=t.utils.isValue(e.defaultValue)?Number(e.defaultValue):0;this._setValue(i.toFixed(e.fixed),!0),this._fireEvent("change",{val:i})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){const i=this.element,r=()=>{const d=i.attr("value").trim();t.utils.isValue(d)&&this._setValue(Number(d),!1)};switch(e){case"disabled":this.toggleState();break;case"value":r();break}},destroy:function(){const e=this.element,i=this.options,r=e.closest(".spinner"),d=r.find(".spinner-button");r.off(t.events.click),d.off(t.events.start),d.off(t.events.stop),e.off(t.events.keydown),r.off(t.events.keyup),i.label&&r.prev("label").remove(),r.remove()}}),o(document).on(t.events.click,()=>{o(".spinner").removeClass("focused")})})(Metro,Dom),((t,o)=>{let f={weekStart:null,static:!1,readonly:!1,showGhost:!1,events:null,startContent:"days",showTime:!1,initialTime:null,initialHours:null,initialMinutes:null,labelTimeHours:null,labelTimeMinutes:null,animationContent:!0,animationSpeed:10,calendarDeferred:0,dayBorder:!1,excludeDay:null,prevMonthIcon:"⯇",nextMonthIcon:"⯈",prevYearIcon:"⯇",nextYearIcon:"⯈",compact:!1,wide:!1,widePoint:null,pickerMode:!1,show:null,outside:!0,buttons:"",yearsBefore:100,yearsAfter:100,headerFormat:"dddd, MMM DD",showHeader:!0,showFooter:!0,showWeekNumber:!1,isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,weekNumberClick:!1,multiSelect:!1,special:null,format:METRO_DATE_FORMAT,inputFormat:null,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",clsEventCounter:"",clsWeekend:"",clsCurrentWeek:"",clsCalendarTime:"",clsTime:"",clsTimeHours:"",clsTimeMinutes:"",clsTimeButton:"",clsTimeButtonPlus:"",clsTimeButtonMinus:"",clsSpecial:"",clsEvents:"",clsEvent:"",onCancel:t.noop,onToday:t.noop,onClear:t.noop,onDone:t.noop,onDayClick:t.noop,onDrawDay:t.noop,onDrawMonth:t.noop,onDrawYear:t.noop,onWeekDayClick:t.noop,onWeekNumberClick:t.noop,onMonthChange:t.noop,onYearChange:t.noop,onTimeChange:t.noop,onHoursChange:t.noop,onMinutesChange:t.noop,onCalendarCreate:t.noop};t.calendarSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroCalendarSetup<"u"&&t.calendarSetup(globalThis.metroCalendarSetup),t.Component("calendar",{init:function(e,i){const r=datetime(),d=this._correctDate(datetime());return this._super(i,e,f,{today:d,show:d,current:{year:d.year(),month:d.month(),day:d.day()},preset:[],selected:[],exclude:[],special:[],excludeDay:[],events:[],min:null,max:null,minYear:null,maxYear:null,id:null,time:[r.hour(),r.minute()],content:"days",yearDistance:11,yearGroupStart:d.year()}),this},_create:function(){const e=this.element,i=this.options;this.id=Hooks.useId(this.elem),this.content=i.startContent,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,e.html("").addClass(`calendar ${i.compact===!0?"compact":""}`).addClass(i.clsCalendar),t.utils.isValue(i.initialTime)&&(this.time=i.initialTime.split(":")),t.utils.isValue(i.initialHours)&&t.utils.between(i.initialHours,0,23,!0)&&(this.time[0]=Number.parseInt(i.initialHours)),t.utils.isValue(i.initialMinutes)&&t.utils.between(i.initialMinutes,0,59,!0)&&(this.time[1]=Number.parseInt(i.initialMinutes)),i.dayBorder===!0&&e.addClass("day-border"),t.utils.isValue(i.excludeDay)&&(this.excludeDay=`${i.excludeDay}`.toArray(",","int")),t.utils.isValue(i.preset)&&this._dates2array(i.preset,"selected"),t.utils.isValue(i.exclude)&&this._dates2array(i.exclude,"exclude"),t.utils.isValue(i.special)&&this._dates2array(i.special,"special"),t.utils.isValue(i.events)&&this._dates2array(i.events,"events"),this.min=i.minDate?(i.inputFormat?Datetime.from(i.minDate,i.inputFormat):datetime(i.minDate)).align("day"):null,this.max=i.maxDate?(i.inputFormat?Datetime.from(i.maxDate,i.inputFormat):datetime(i.maxDate)).align("day"):null,i.show&&(this.show=(i.show?i.inputFormat?Datetime.from(i.show,i.inputFormat):datetime(i.show):datetime()).align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()}),this._drawCalendar(),this._createEvents(),(i.wide===!0||!t.utils.isNull(i.widePoint)&&t.utils.mediaExist(i.widePoint))&&e.addClass("calendar-wide"),i.ripple===!0&&t.utils.isFunc(e.ripple)!==!1&&e.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:this.options.rippleColor});const r=e.id();r&&t.storage.getItem(`METRO:CALENDAR:${r}:COLLAPSED`,e.hasClass("calendar-collapsed"))&&e.addClass("calendar-collapsed"),this._fireEvent("calendar-create")},_dates2array:function(e,i){const r=this,d=this.options;if(t.utils.isNull(e))return;const g=typeof e=="string"?e.toArray():Array.isArray(e)?e:[];o.each(g,function(){let _;try{_=r._correctDate(d.inputFormat?Datetime.from(this,d.inputFormat):datetime(this)).format("YYYY-MM-DD")}catch{return}r[i].push(_)})},_correctDate:e=>datetime(e).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),_createEvents:function(){const e=this,i=this.element,r=this.options;o(globalThis).on(t.events.resize,()=>{r.wide!==!0&&(!t.utils.isNull(r.widePoint)&&t.utils.mediaExist(r.widePoint)?i.addClass("calendar-wide"):i.removeClass("calendar-wide"))},{ns:this.id}),i.on(t.events.click,".button-collapse",()=>{const d=i.id();i.toggleClass("calendar-collapsed"),d&&t.storage.setItem(`METRO:CALENDAR:${d}:COLLAPSED`,i.hasClass("calendar-collapsed"))}),i.on(t.events.click,".prev-year-group, .next-year-group",function(){r.static||(o(this).hasClass("prev-year-group")?e.yearGroupStart-=e.yearDistance:e.yearGroupStart+=e.yearDistance,e._drawContent())}),i.on(t.events.click,".prev-month, .next-month, .prev-year, .next-year",function(){let d;const g=o(this);r.static||g.hasClass("prev-month")&&(d=datetime(e.current.year,e.current.month-1,1).useLocale(e.locale,!0),d.year()<e.minYear)||g.hasClass("next-month")&&(d=datetime(e.current.year,e.current.month+1,1).useLocale(e.locale,!0),d.year()>e.maxYear)||g.hasClass("prev-year")&&(d=datetime(e.current.year-1,e.current.month,1).useLocale(e.locale,!0),d.year()<e.minYear)||g.hasClass("next-year")&&(d=datetime(e.current.year+1,e.current.month,1).useLocale(e.locale,!0),d.year()>e.maxYear)||(e.current={year:d.year(),month:d.month(),day:d.day()},setTimeout(()=>{e._drawContent(),(g.hasClass("prev-month")||g.hasClass("next-month"))&&e._fireEvent("month-change",{current:e.current}),(g.hasClass("prev-year")||g.hasClass("next-year"))&&e._fireEvent("year-change",{current:e.current})},r.ripple?300:1))}),i.on(t.events.click,".button-today",()=>{e.toDay(),e._fireEvent("today",{today:e.today.val(),time:e.time})}),i.on(t.events.click,".button-clear",()=>{const d=datetime();e.selected=[],e.time=[d.hour(),d.minute()],e.yearGroupStart=d.year(),e._drawContent(),e._fireEvent("clear")}),i.on(t.events.click,".button-cancel",()=>{e._drawContent(),e._fireEvent("cancel")}),i.on(t.events.click,".button-done",()=>{e._drawContent(),e._fireEvent("done",{selected:e.selected,time:e.time})}),r.weekDayClick===!0&&i.on(t.events.click,".week-days .week-day",function(d){let g,_;const C=[];if(r.static||r.readonly)return;const k=o(this);g=k.index();for(let E=0;E<7;E++)C.push(g),g+=r.showWeekNumber?8:7;r.multiSelect===!0&&(_=i.find(".day").filter(E=>{const I=o(E);return C.indexOf(I.index())>-1&&!I.hasClass("outside disabled excluded")}),o.each(_,function(){const E=o(this),I=E.data("day");e.selected.indexOf(I)===-1?(e.selected.push(I),E.addClass("selected").addClass(r.clsSelected)):(E.removeClass("selected").removeClass(r.clsSelected),t.utils.arrayDelete(e.selected,I))})),e._fireEvent("week-day-click",{selected:e.selected,day:k[0]}),d.preventDefault(),d.stopPropagation()}),r.weekNumberClick&&i.on(t.events.click,".week-number",function(d){let g;const _=o(this),C=_.text(),k=_.index();C!=="#"&&(r.static||r.readonly||(r.multiSelect===!0&&(g=i.find(".day").filter(E=>{const I=o(E),B=I.index();return t.utils.between(B,k,k+8,!1)&&!I.hasClass("outside disabled excluded")}),o.each(g,function(){const E=o(this),I=E.data("day");e.selected.indexOf(I)===-1?(e.selected.push(I),E.addClass("selected").addClass(r.clsSelected)):(E.removeClass("selected").removeClass(r.clsSelected),t.utils.arrayDelete(e.selected,I))})),e._fireEvent("week-number-click",{selected:e.selected,num:C,numElement:_[0]}),d.preventDefault(),d.stopPropagation()))}),i.on(t.events.click,".day",function(d){const g=o(this);let _,C;if(!(r.static||r.readonly)){if(C=g.data("day"),_=e.selected.indexOf(C),g.hasClass("outside")){C=datetime(C),e.current={year:C.year(),month:C.month(),day:C.day()},e._drawContent(),e._fireEvent("month-change",{current:e.current});return}g.hasClass("disabled")||(r.pickerMode===!0?(e.selected=[C],e.today=datetime(C),e.current.year=e.today.year(),e.current.month=e.today.month(),e.current.day=e.today.day(),e._drawHeader(),e._drawContent()):_===-1?(r.multiSelect===!1&&(i.find(".day").removeClass("selected").removeClass(r.clsSelected),e.selected=[]),e.selected.push(C),g.addClass("selected").addClass(r.clsSelected)):(g.removeClass("selected").removeClass(r.clsSelected),t.utils.arrayDelete(e.selected,C))),e._fireEvent("day-click",{selected:e.selected,day:g[0],time:e.time}),d.preventDefault(),d.stopPropagation()}}),i.on(t.events.click,".curr-month, .header-day",d=>{e.content="months",e._drawContent(),d.preventDefault(),d.stopPropagation()}),i.on(t.events.click,".month",function(d){e.current.month=Number.parseInt(o(this).attr("data-month")),e.content="days",e._drawContent(),e._fireEvent("month-change",{current:e.current}),d.preventDefault(),d.stopPropagation()}),i.on(t.events.click,".curr-year, .header-year",d=>{e.content!=="years"&&(e.content="years",e._drawContent(),d.preventDefault(),d.stopPropagation())}),i.on(t.events.click,".year",function(d){e.current.year=Number.parseInt(o(this).attr("data-year")),e.yearGroupStart=e.current.year,e.content="months",e._drawContent(),e._fireEvent("year-change",{current:e.current}),d.preventDefault(),d.stopPropagation()})},_drawHeader:function(){const e=this.element,i=this.options;let r=e.find(".calendar-header");r.length===0&&(r=o("<div>").addClass("calendar-header").addClass(i.clsCalendarHeader).appendTo(e)),r.html(""),o("<div>").addClass("header-year").html(this.today.year()).appendTo(r),o("<div>").addClass("header-day").html(this.today.format(i.headerFormat,this.locale)).appendTo(r);const d=o("<div>").addClass("header-actions").appendTo(r);o("<button>").addClass("square small button-collapse").html(`
                <svg aria-hidden="true" class="caret toggle-collapsed" width="16" height="16" viewBox="0 0 24 24">
                    <path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path>
                </svg>
            `).attr("title",this.strings.label_collapse).appendTo(d),i.showHeader===!1&&r.hide()},_drawFooter:function(){const e=this.element,i=this.options,r=this.strings;let d=e.find(".calendar-footer");i.buttons&&(d.length===0&&(d=o("<div>").addClass("calendar-footer").addClass(i.clsCalendarFooter).appendTo(e)),d.html(""),o.each(i.buttons.toArray(","),function(){const g=o("<button>").attr("type","button").addClass(`button button-${this} ${i[`cls${Str.capitalize(this)}Button`]}`).html(r[`label_${this}`]).appendTo(d);(this==="cancel"||this==="done")&&g.addClass("js-dialog-close")}),i.showFooter===!1&&d.hide())},_drawTime:function(){const e=this,i=this.element,r=this.options,d=this.strings,g=i.find(".calendar-content"),_=o("<div>").addClass("calendar-time").addClass(r.clsCalendarTime).appendTo(g);let C,k,E,I,B=`${this.time[0]}`,q=`${this.time[1]}`;const Z=function(Q){const De=Number.parseInt(Q);o(this).attr("data-time-part")==="hours"?(e.time[0]=De,e._fireEvent("hours-change",{time:e.time,hours:De})):(e.time[1]=De,e._fireEvent("minutes-change",{time:e.time,minutes:De})),e._fireEvent("time-change",{time:e.time})};_.append(C=o("<div>").addClass("calendar-time__inner")),C.append(I=o("<div>").addClass("calendar-time__inner-row")),I.append(o("<div>").addClass("calendar-time__inner-cell").append(o("<span>").html(str(d.label_hours).capitalize()))),I.append(o("<div>").addClass("calendar-time__inner-cell").append(o("<span>").html(str(d.label_minutes).capitalize()))),_.append(C=o("<div>").addClass("calendar-time__inner spinners").addClass(r.clsTime)),C.append(k=o(`<input type='text' data-cls-spinner-input='${r.clsTimeHours}' data-time-part='hours' data-buttons-position='right' data-min-value='0' data-max-value='23'>`).addClass("hours").addClass(r.compact?"input-small":"input-normal")),C.append(E=o(`<input type='text' data-cls-spinner-input='${r.clsTimeMinutes}' data-time-part='minutes' data-buttons-position='right' data-min-value='0' data-max-value='59'>`).addClass("minutes").addClass(r.compact?"input-small":"input-normal")),B=Str.lpad(B,"0",2),q=Str.lpad(q,"0",2),k.val(B),E.val(q),t.makePlugin(C.find("input[type=text]"),"spinner",{onChange:Z,clsSpinnerButton:r.clsTimeButton,clsSpinnerButtonPlus:r.clsTimeButtonPlus,clsSpinnerButtonMinus:r.clsTimeButtonMinus}),r.showTime===!1&&_.hide()},_drawContentDays:function(){const e=this,i=this.element,r=this.options,d=this.strings;let g=i.find(".calendar-content"),_;const C=datetime(this.current.year,this.current.month,this.current.day).useLocale(this.locale,!0).calendar(t.utils.isValue(r.weekStart)?r.weekStart:d.weekStart),k=this.show.format("YYYY-MM-DD"),E=datetime();g.length===0&&(g=o("<div>").addClass("calendar-content").addClass(r.clsCalendarContent).appendTo(i)),r.showWeekNumber&&g.addClass("-week-numbers"),g.empty();const I=o("<div>").addClass("calendar-toolbar").appendTo(g);o("<span>").addClass("prev-month").html(r.prevMonthIcon).appendTo(I),o("<span>").addClass("curr-month").html(Datetime.getLocale(this.locale).months[this.current.month]).appendTo(I),o("<span>").addClass("next-month").html(r.nextMonthIcon).appendTo(I),o("<span>").addClass("prev-year").html(r.prevYearIcon).appendTo(I),o("<span>").addClass("curr-year").html(this.current.year).appendTo(I),o("<span>").addClass("next-year").html(r.nextYearIcon).appendTo(I),_=o("<div>").addClass("week-days").appendTo(g),r.showWeekNumber&&o("<span>").addClass("week-number").html("#").appendTo(_),o.each(C.weekdays,function(){o("<span>").addClass("week-day").html(this).appendTo(_)});const B=o("<div>").addClass("days").appendTo(g);o.each(C.days,function(q){const Z=`${this}`,Q=e._correctDate(Z),De=Q.month()!==e.current.month;r.showWeekNumber&&q%7===0&&o("<span>").addClass("week-number").html(`<span class="week-number-content">${Q.weekNumber(r.weekStart)}</span>`).appendTo(B);const He=Q.day(),Me=Q.format("YYYY-MM-DD"),Be=o("<span>").addClass("day").html(`<span class="day-content">${He}</span>`).appendTo(B);if(Be.attr("data-day",Me),Z===k&&Be.addClass("showed"),De&&(Be.addClass("outside"),r.outside||Be.empty()),Z===C.today&&Be.addClass("today"),r.showGhost&&Q.day()===E.day()&&Be.addClass("coincidental"),e.special.length?e.special.indexOf(Z)===-1?Be.addClass("disabled excluded").addClass(r.clsExcluded):Be.addClass(r.clsSpecial):(e.selected.includes(Z)&&Be.addClass("selected").addClass(r.clsSelected),e.exclude.includes(Z)&&Be.addClass("disabled excluded").addClass(r.clsExcluded),e.min&&Q.older(e.min)&&Be.addClass("disabled excluded").addClass(r.clsExcluded),e.max&&Q.younger(e.max)&&Be.addClass("disabled excluded").addClass(r.clsExcluded)),C.weekends.indexOf(Z)!==-1&&Be.addClass(r.clsWeekend),C.week.indexOf(Z)!==-1&&Be.addClass(r.clsCurrentWeek),e.events.length){const we=o("<div>").addClass("events").addClass(r.clsEvents).appendTo(Be);o.each(e.events,function(){if(this===Z){const Ie=o("<div>").addClass("event").addClass(r.clsEvent).appendTo(we);r.clsEvent||Ie.css({backgroundColor:Farbe.Routines.randomColor()})}})}r.animationContent&&Be.addClass("to-animate"),e._fireEvent("draw-day",{date:Q.val(),day:Q.day(),month:Q.month(),year:Q.year(),cell:Be[0]})}),this._drawTime(),this._animateContent(".day")},_drawContentMonths:function(){const e=this.element,i=this.elem,r=this.options,d=this.locale;let g=e.find(".calendar-content"),_,C;const k=datetime().year(),E=datetime().month();g.length===0&&(g=o("<div>").addClass("calendar-content").addClass(r.clsCalendarContent).appendTo(e)),g.clear();const I=o("<div>").addClass("calendar-toolbar").appendTo(g);o("<span>").addClass("prev-year").html(r.prevYearIcon).appendTo(I),o("<span>").addClass("curr-year").html(this.current.year).appendTo(I),o("<span>").addClass("next-year").html(r.nextYearIcon).appendTo(I),g.append(_=o("<div>").addClass("months"));let B=0;for(const q of Datetime.getLocale(d).months)_.append(C=o("<div>").attr("data-month",B).addClass("month").addClass(B===E&&this.current.year===k?"today":"").html(q)),r.animationContent&&C.addClass("to-animate"),this._fireEvent("draw-month",{month:B,year:this.current.year,cell:C[0]}),B++;t.i18n.updateUI(i,d),this._animateContent(".months .month")},_drawContentYears:function(){const e=this.element,i=this.options;let r=e.find(".calendar-content"),d,g;r.length===0&&(r=o("<div>").addClass("calendar-content").addClass(i.clsCalendarContent).appendTo(e)),r.clear();const _=o("<div>").addClass("calendar-toolbar").appendTo(r);o("<span>").addClass("prev-year-group").html(i.prevYearIcon).appendTo(_),o("<span>").addClass("curr-year").html(`${this.yearGroupStart} - ${this.yearGroupStart+this.yearDistance}`).appendTo(_),o("<span>").addClass("next-year-group").html(i.nextYearIcon).appendTo(_),r.append(d=o("<div>").addClass("years"));for(let C=this.yearGroupStart;C<=this.yearGroupStart+this.yearDistance;C++)d.append(g=o("<div>").attr("data-year",C).addClass("year").addClass(C===this.current.year?"today":"").html(C)),i.animationContent&&g.addClass("to-animate"),(C<i.minYear||C>i.maxYear)&&g.addClass("disabled"),this._fireEvent("draw-year",{year:C,cell:g[0]});this._animateContent(".years .year")},_drawContent:function(){switch(this.content){case"years":this._drawContentYears();break;case"months":this._drawContentMonths();break;default:this._drawContentDays()}t.i18n.updateUI(this.elem,this.locale)},_drawCalendar:function(){const e=this.elem;setTimeout(()=>{this.element.html(""),this._drawHeader(),this._drawContent(),this._drawFooter(),t.i18n.updateUI(e,this.locale)},0)},_animateContent:function(e,i="to-animate"){const r=this.element,d=this.options;r.find(".calendar-content").find(e).each(function(_){const C=o(this);setTimeout(()=>{C.removeClass(i)},d.animationSpeed*_)})},getTime:function(e=!1){const i=Str.lpad(this.time[0],"0",2),r=Str.lpad(this.time[1],"0",2);return e?`${i}:${r}`:this.time},setTime:function(e){Array.isArray(e)?this.time=e:this.time=e.split(":"),this._drawCalendar()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},clearSelected:function(){this.selected=[],this._drawContent()},toDay:function(){const e=datetime();this.today=datetime().align("day"),this.current={year:this.today.year(),month:this.today.month(),day:this.today.day()},this.time=[e.hour(),e.minute()],this.yearGroupStart=this.today.year(),this.content="days",this._drawHeader(),this._drawContent()},setExclude:function(e){const i=this.element,r=this.options;t.utils.isNull(e)&&t.utils.isNull(i.attr("data-exclude"))||(r.exclude=e||i.attr("data-exclude"),this._dates2array(r.exclude,"exclude"),this._drawContent())},setPreset:function(e){const i=this.element,r=this.options;t.utils.isNull(e)&&t.utils.isNull(i.attr("data-preset"))||(r.preset=e||i.attr("data-preset"),this._dates2array(r.preset,"selected"),this._drawContent())},setSpecial:function(e){const i=this.element,r=this.options;t.utils.isNull(e)&&t.utils.isNull(i.attr("data-special"))||(r.special=e||i.attr("data-special"),this._dates2array(r.exclude,"special"),this._drawContent())},showDate:function(e){return this.setShow(e)},setShow:function(e){const i=this.element,r=this.options,d=i.attr("data-show");!e&&!d||(r.show=e||d,r.show?typeof r.show=="string"&&r.inputFormat?this.show=Datetime.from(r.show,r.inputFormat):this.show=datetime(r.show):this.show=datetime(),this.show=this.show.align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()},this._drawContent())},setMinDate:function(e){const i=this.element,r=this.options,d=i.attr("data-min-date");!e&&!d||(r.minDate=e||d,this.min=r.minDate?(r.inputFormat?Datetime.from(r.minDate,r.inputFormat):datetime(r.minDate)).align("day"):null,this._drawContent())},setMaxDate:function(e){const i=this.element,r=this.options,d=i.attr("data-max-date");r.maxDate=e||d,this.max=r.maxDate?(r.inputFormat?Datetime.from(r.maxDate,r.inputFormat):datetime(r.maxDate)).align("day"):null,this._drawContent()},changeAttribute:function(e){switch(e){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-special":this.setSpecial();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate();break}},destroy:function(){const e=this.element,i=this.options;e.off(t.events.click,".prev-month, .next-month, .prev-year, .next-year"),e.off(t.events.click,".button.today"),e.off(t.events.click,".button.clear"),e.off(t.events.click,".button.cancel"),e.off(t.events.click,".button.done"),e.off(t.events.click,".week-days .day"),e.off(t.events.click,".days-row .day"),e.off(t.events.click,".curr-month"),e.off(t.events.click,".calendar-months li"),e.off(t.events.click,".curr-year"),e.off(t.events.click,".calendar-years li"),e.off(t.events.click),i.ripple===!0&&e.data("ripple").destroy(),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}}),o(document).on(t.events.click,()=>{o(".calendar .calendar-years").each(function(){o(this).removeClass("open")}),o(".calendar .calendar-months").each(function(){o(this).removeClass("open")})}),t.defaults.Calendar=f})(Metro,Dom),((t,o)=>{let f={label:"",value:"",calendarPickerDeferred:0,nullValue:!0,useNow:!1,prepend:"",dialogMode:!1,dialogPoint:640,dialogOverlay:!0,overlayColor:"#000000",overlayAlpha:.5,size:"100%",format:METRO_DATE_FORMAT,inputFormat:null,clearButton:!1,calendarButtonIcon:"📅",clearButtonIcon:"❌",prevMonthIcon:"⯇",nextMonthIcon:"⯈",prevYearIcon:"⯇",nextYearIcon:"⯈",copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsInput:"",clsPrepend:"",clsLabel:"",onDayClick:t.noop,onCalendarPickerCreate:t.noop,onCalendarShow:t.noop,onCalendarHide:t.noop,onChange:t.noop,onPickerChange:t.noop,onMonthChange:t.noop,onYearChange:t.noop};t.calendarPickerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroCalendarPickerSetup<"u"&&t.calendarPickerSetup(globalThis.metroCalendarPickerSetup),t.Component("calendar-picker",{init:function(e,i){const r=datetime();return this._super(i,e,o.extend({},t.defaults.Calendar,{},f),{value:null,value_date:null,calendar:null,overlay:null,id:null,time:[r.hour(),r.minute()]}),this},_create:function(){this.id=Hooks.useId(this.element),this._createStructure(),this._createEvents(),this._fireEvent("calendar-picker-create",{element:this.element})},_correctTime:e=>{const i=Str.lpad(e[0],"0",2),r=Str.lpad(e[1],"0",2);return`${i}:${r}`},_createStructure:function(){var Me;const e=this.element,i=this.options,r=this.locale,d=o("<div>").addClass(`input ${e[0].className} calendar-picker`),g=o("<div>").addClass("button-group");let _;const C=o("<div>");let k,E,I,B,q;const Z=o("body");e.attr("type","text"),e.attr("autocomplete","off"),e.attr("readonly",!0),t.utils.isValue(i.initialTime)&&(this.time=i.initialTime.trim().split(":")),t.utils.isValue(i.initialHours)&&(this.time[0]=Number.parseInt(i.initialHours)),t.utils.isValue(i.initialMinutes)&&(this.time[1]=Number.parseInt(i.initialMinutes)),k=`${i.value}`.trim()!==""?i.value:e.val().trim();const Q=k||"";t.utils.isValue(k)?(E=k.split(" "),this.value=(i.inputFormat?Datetime.from(E[0],i.inputFormat,r):datetime(E[0])).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),E[1]&&(this.time=E[1].trim().split(":"))):i.useNow&&(this.value=datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),this.time=[this.value.hour(),this.value.minute()]),q=!k&&i.nullValue===!0?"":datetime(this.value).format(i.format,r),i.showTime&&this.time&&q&&(q+=` ${this._correctTime(this.time)}`),e.val(q),d.insertBefore(e),e.appendTo(d),g.appendTo(d),C.appendTo(i.dialogMode?Z:d),(Me=this.time)!=null&&Me.length&&(I=this.time[0],typeof this.time[1]<"u"&&(B=this.time[1]));const De=i.initialTime;if(i.initialHours&&(I=i.initialHours),i.initialHours&&(B=i.initialMinutes),t.makePlugin(C,"calendar",{showTime:i.showTime,initialTime:De,initialHours:I,initialMinutes:B,clsCalendarTime:i.clsCalendarTime,clsTime:i.clsTime,clsTimeHours:i.clsTimeHours,clsTimeMinutes:i.clsTimeMinutes,clsTimeButton:i.clsTimeButton,clsTimeButtonPlus:i.clsTimeButtonPlus,clsTimeButtonMinus:i.clsTimeButtonMinus,wide:i.wide,widePoint:i.widePoint,format:i.format,inputFormat:i.inputFormat,pickerMode:!0,show:Q,preset:Q,weekStart:i.weekStart,outside:i.outside,buttons:!1,headerFormat:i.headerFormat,prevMonthIcon:i.prevMonthIcon,nextMonthIcon:i.nextMonthIcon,prevYearIcon:i.prevYearIcon,nextYearIcon:i.nextYearIcon,clsCalendar:[i.clsCalendar,"calendar-for-picker",i.dialogMode?"dialog-mode":""].join(" "),clsCalendarHeader:i.clsCalendarHeader,clsCalendarContent:i.clsCalendarContent,clsCalendarFooter:"d-none",clsCalendarMonths:i.clsCalendarMonths,clsCalendarYears:i.clsCalendarYears,clsToday:i.clsToday,clsSelected:i.clsSelected,clsExcluded:i.clsExcluded,ripple:i.ripple,rippleColor:i.rippleColor,exclude:i.exclude,minDate:i.minDate,maxDate:i.maxDate,yearsBefore:i.yearsBefore,yearsAfter:i.yearsAfter,special:i.special,events:i.events,showHeader:!1,showFooter:!1,multiSelect:!1,showWeekNumber:i.showWeekNumber,onDayClick:(Be,we,Ie,Oe)=>{const Fe=datetime(Be[0]).addDay(1).align("day").addMinute(new Date().getTimezoneOffset());let wt;this._removeOverlay(),this.value=Fe,this.time=Ie,wt=Fe.format(i.format,r),i.showTime&&(wt+=` ${this._correctTime(Ie)}`),e.val(wt),e.trigger("change"),C.removeClass("open open-up"),C.hide(),this._fireEvent("change",{val:this.value.val(),time:this.time}),this._fireEvent("day-click",{sel:Be,day:we,time:Ie,el:Oe}),this._fireEvent("picker-change",{val:this.value.val(),time:this.time})},onTimeChange:Be=>{let we;this.time=Be,this.value||(this.value=datetime()),we=this.value.format(i.format,this.locale),i.showTime&&(we+=` ${this._correctTime(Be)}`),e.val(we),this._fireEvent("change",{val:this.value.val(),time:this.time}),this._fireEvent("picker-change",{val:this.value.val(),time:this.time})},onMonthChange:i.onMonthChange,onYearChange:i.onYearChange}),this.calendar=C,i.clearButton===!0&&(_=o("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon),_.appendTo(g)),o("<button>").addClass("button input-calendar-button").attr("tabindex",-1).attr("type","button").html(i.calendarButtonIcon).appendTo(g),i.prepend!==""&&o("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(d),e.attr("dir")==="rtl"&&d.addClass("rtl"),String(i.size).indexOf("%")>-1?d.css({width:i.size}):d.css({width:`${Number.parseInt(i.size)}px`}),e[0].className="",i.copyInlineStyles===!0&&o.each(t.utils.getInlineStyles(e),(Be,we)=>{d.css(Be,we)}),d.addClass(i.clsPicker),e.addClass(i.clsInput),i.dialogOverlay===!0&&(this.overlay=this._overlay()),i.dialogMode===!0?d.addClass("dialog-mode"):t.utils.media(`(max-width: ${i.dialogPoint}px)`)&&(d.addClass("dialog-mode"),this.calendar.addClass("dialog-mode")),i.label){const Be=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(d);if(e.attr("id"))Be.attr("for",e.attr("id"));else{const we=Hooks.useId(e[0]);Be.attr("for",we),e.attr("id",we)}e.attr("dir")==="rtl"&&Be.addClass("rtl")}e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){const e=this.element,i=this.options,r=e.parent(),d=r.find(".input-clear-button"),g=this.calendar,_=t.getPlugin(g[0],"calendar"),C=this.calendar;o(globalThis).on(t.events.resize,()=>{i.dialogMode!==!0&&(t.utils.media(`(max-width: ${i.dialogPoint}px)`)?(r.addClass("dialog-mode"),C.appendTo("body").addClass("dialog-mode")):(r.removeClass("dialog-mode"),C.appendTo(r).removeClass("dialog-mode")))},{ns:this.id}),d.length>0&&d.on(t.events.click,k=>{e.val("").trigger("change").blur(),this.value=null,k.preventDefault(),k.stopPropagation()}),r.on(t.events.click,"button, input",k=>{const E=this.value?this.value:datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),I=E.format("YYYY/MM/DD");E.align("day"),g.hasClass("open")===!1&&g.hasClass("open-up")===!1?(o(".calendar-picker .calendar").removeClass("open open-up").hide(),_.setPreset([I]),_.setShow(E),r.hasClass("dialog-mode")&&this.overlay.appendTo(o("body")),g.addClass("open"),i.openMode==="auto"?(t.utils.inViewport(g[0])||g.addClass("open-up"),t.utils.inViewport(g[0])||g.removeClass("open-up")):i.openMode==="up"&&g.addClass("open-up"),this._fireEvent("calendar-show",{calendar:g})):(this._removeOverlay(),g.removeClass("open open-up"),this._fireEvent("calendar-hide",{calendar:g})),k.preventDefault(),k.stopPropagation()}),e.on(t.events.blur,()=>{r.removeClass("focused")}),e.on(t.events.focus,()=>{r.addClass("focused")}),e.on(t.events.change,()=>{t.utils.exec(i.onChange,[this.value.val()],e[0])}),r.on(t.events.click,k=>{k.preventDefault(),k.stopPropagation()})},_overlay:function(){const e=this.options,i=o("<div>");return i.addClass("overlay for-calendar-picker").addClass(e.clsOverlay),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(e.overlayColor,e.overlayAlpha)}),i},_removeOverlay:()=>{o("body").find(".overlay.for-calendar-picker").remove()},clear:function(){this.value=datetime(),this.time=[datetime().hour(),datetime().minute()],this.element.val("")},val:function(e,i){const r=this.element,d=this.options;let g;if(arguments.length===0||t.utils.isNull(e))return{date:this.value.val(),time:this.time};if(e==="")return this.clear();i&&(d.inputFormat=i);const _=e.split(" ");this.value=d.inputFormat?Datetime.from(_[0],d.inputFormat,this.locale):datetime(_[0]),_[1]&&(this.time=_[1].trim().split(":")),this.value.align("day"),t.getPlugin(this.calendar,"calendar").setTime(this.time),g=this.value.format(d.format),d.showTime&&this.time&&g&&(g+=` ${this._correctTime(this.time)}`),r.val(g),r.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},getTime:function(e=!1){const i=Str.lpad(this.time[0],"0",2),r=Str.lpad(this.time[1],"0",2);return e?`${i}:${r}`:this.time},changeAttribute:function(e,i){const r=t.getPlugin(this.calendar[0],"calendar");switch(e){case"value":this.val(i);break;case"disabled":this.toggleState();break;case"data-special":r.setSpecial(i);break;case"data-exclude":r.setExclude(i);break;case"data-min-date":r.setMinDate(i);break;case"data-max-date":r.setMaxDate(i);break;case"data-value":this.val(i);break}},destroy:function(){const e=this.element,i=this.options,r=e.parent(),d=r.find(".input-clear-button");o(globalThis).off(t.events.resize,{ns:this.id}),d.off(t.events.click),r.off(t.events.click,"button, input"),e.off(t.events.blur),e.off(t.events.focus),e.off(t.events.change),t.getPlugin(this.calendar,"calendar").destroy(),i.label&&r.prev("label").remove(),r.remove()}}),o(document).on(t.events.click,".overlay.for-calendar-picker",function(){o(this).remove(),o(".calendar-for-picker.open").removeClass("open open-up")}),o(document).on(t.events.click,()=>{o(".calendar-picker .calendar").removeClass("open open-up")})})(Metro,Dom),((t,o)=>{const f=["slide","slide-v","fade","switch","zoom","swirl"];let e={carouselDeferred:0,autoStart:!1,width:"100%",height:"16/9",effect:f[0],effectFunc:"linear",direction:"left",duration:300,period:5e3,stopOnMouse:!0,controls:!0,controlsOnMouse:!1,controlsOutside:!1,controlPrev:"&larr;",controlNext:"&rarr;",bullets:!0,bulletsStyle:"square",bulletsSize:"default",bulletsPosition:"default",clsCarousel:"",clsSlides:"",clsSlide:"",clsControls:"",clsControlNext:"",clsControlPrev:"",clsBullets:"",clsBullet:"",clsBulletOn:"",clsThumbOn:"",onStop:t.noop,onStart:t.noop,onPlay:t.noop,onSlideClick:t.noop,onBulletClick:t.noop,onThumbClick:t.noop,onMouseEnter:t.noop,onMouseLeave:t.noop,onNextClick:t.noop,onPrevClick:t.noop,onSlideShow:t.noop,onSlideHide:t.noop,onCarouselCreate:t.noop};t.carouselSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroCarouselSetup<"u"&&t.carouselSetup(globalThis.metroCarouselSetup),t.Component("carousel",{init:function(i,r){return this._super(r,i,e,{height:0,width:0,slides:[],current:null,currentIndex:null,dir:"left",interval:!1,isAnimate:!1,id:null}),this},_create:function(){const i=this.element,r=this.options,d=i.find(".slide");let g=i.find(".slides");this.id=Hooks.useId(this.elem),this.dir=this.options.direction,i.addClass("carousel").addClass(r.clsCarousel),i.css({maxWidth:r.width}),r.controlsOutside===!0&&i.addClass("controls-outside"),g.length===0&&(g=o("<div>").addClass("slides").appendTo(i),d.appendTo(g)),d.addClass(r.clsSlides),d.length>0&&(this._createSlides(),this._createControls(),this._createBullets(),this._createEvents(),this._resize(),r.controlsOnMouse===!0&&(i.find("[class*=carousel-switch]").fadeOut(0),i.find(".carousel-bullets").fadeOut(0)),r.autoStart===!0?this._start():this._fireEvent("slide-show",{current:this.slides[this.currentIndex][0],prev:void 0})),this._fireEvent("carousel-create",{element:i})},_start:function(){const i=this,r=this.element,d=this.options;let g=d.period;const _=this.slides[this.currentIndex];_.data("period")!==void 0&&(g=_.data("period")),!(this.slides.length<=1)&&(this.interval===!1&&(this.interval=setTimeout(function(){const k=d.direction==="left"?"next":"prior";i._slideTo(k,!0)},g)),this._fireEvent("start",{element:r}))},_stop:function(){clearInterval(this.interval),this.interval=!1},_resize:function(){const i=this.element,r=this.options,d=i.outerWidth();let g,_=[];["16/9","21/9","4/3"].indexOf(r.height)>-1?g=t.utils.aspectRatioH(d,r.height):String(r.height).indexOf("@")>-1?(_=r.height.substring(1).toArray("|"),o.each(_,function(){const C=this.toArray(",");globalThis.matchMedia(C[0]).matches&&(["16/9","21/9","4/3"].indexOf(C[1])>-1?g=t.utils.aspectRatioH(d,C[1]):g=Number.parseInt(C[1]))})):g=Number.parseInt(r.height),i.css({height:g})},_createSlides:function(){const i=this,r=this.element,d=this.options,g=r.find(".slide");o.each(g,function(_){const C=o(this);if(C.data("cover")!==void 0&&C.css({backgroundImage:`url(${C.data("cover")})`}),_!==0)switch(d.effect){case"switch":case"slide":C.css("left","100%");break;case"slide-v":C.css("top","100%");break;case"fade":case"zoom":case"swirl":C.css("opacity","0");break}else C.addClass("active-slide");C.addClass(d.clsSlide),i.slides.push(C)}),this.currentIndex=0,this.current=this.slides[this.currentIndex]},_createControls:function(){const i=this.element,r=this.options;let d,g;r.controls!==!1&&(d=o("<span>").addClass("carousel-switch-next").addClass(r.clsControls).addClass(r.clsControlNext).html("<div></div>"),g=o("<span>").addClass("carousel-switch-prev").addClass(r.clsControls).addClass(r.clsControlPrev).html("<div></div>"),r.controlNext&&d.children("div").html(r.controlNext),r.controlPrev&&g.children("div").html(r.controlPrev),d.appendTo(i),g.appendTo(i))},_createBullets:function(){const i=this.element,r=this.options;let d,g;if(r.bullets!==!1){for(d=o("<div>").addClass("carousel-bullets").addClass(`${r.bulletsSize}-size`).addClass(`bullet-style-${r.bulletsStyle}`).addClass(r.clsBullets),r.bulletsPosition==="default"||r.bulletsPosition==="center"?d.addClass("flex-justify-center"):r.bulletsPosition==="left"?d.addClass("flex-justify-start"):d.addClass("flex-justify-end"),g=0;g<this.slides.length;g++){const _=o("<span>").addClass("carousel-bullet").addClass(r.clsBullet).data("slide",g);g===0&&_.addClass("bullet-on").addClass(r.clsBulletOn),_.appendTo(d)}d.appendTo(i)}},_createEvents:function(){const i=this,r=this.element,d=this.options;r.on(t.events.click,".carousel-bullet",function(){const g=o(this);i.isAnimate===!1&&(i._slideToSlide(g.data("slide")),i._fireEvent("bullet-click",{bullet:g}))}),r.on(t.events.click,".carousel-switch-next",function(){i.isAnimate===!1&&(i._slideTo("next",!1),i._fireEvent("next-click",{button:this}))}),r.on(t.events.click,".carousel-switch-prev",function(){i.isAnimate===!1&&(i._slideTo("prev",!1),i._fireEvent("prev-click",{button:this}))}),d.stopOnMouse===!0&&d.autoStart===!0&&(r.on(t.events.enter,()=>{i._stop(),i._fireEvent("mouse-enter",{element:r},!1,!0)}),r.on(t.events.leave,()=>{i._start(),i._fireEvent("mouse-leave",{element:r},!1,!0)})),d.controlsOnMouse===!0&&(r.on(t.events.enter,()=>{r.find("[class*=carousel-switch]").fadeIn(),r.find(".carousel-bullets").fadeIn()}),r.on(t.events.leave,()=>{r.find("[class*=carousel-switch]").fadeOut(),r.find(".carousel-bullets").fadeOut()})),r.on(t.events.click,".slide",function(){const g=o(this);i._fireEvent("slide-click",{slide:g})}),o(globalThis).on(t.events.resize,()=>{i._resize()},{ns:this.id})},_slideToSlide:function(i){const r=this.element,d=this.options;if(this.slides[i]===void 0||this.currentIndex===i)return;const g=i>this.currentIndex?"next":"prev",_=this.slides[this.currentIndex],C=this.slides[i];this.currentIndex=i,this._effect(_,C,d.effect,g),r.find(".carousel-bullet").removeClass("bullet-on").removeClass(d.clsBulletOn),r.find(`.carousel-bullet:nth-child(${this.currentIndex+1})`).addClass("bullet-on").addClass(d.clsBulletOn)},_slideTo:function(i="next",r=!1){const d=this.element,g=this.options,_=this.slides[this.currentIndex];i==="next"?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1));const C=this.slides[this.currentIndex];this._effect(_,C,g.effect,i,r),d.find(".carousel-bullet").removeClass("bullet-on").removeClass(g.clsBulletOn),d.find(`.carousel-bullet:nth-child(${this.currentIndex+1})`).addClass("bullet-on").addClass(g.clsBulletOn)},_effect:function(i,r,d,g,_){const C=this,k=this.options;let E=k.duration,I,B=k.effectFunc,q=k.period;const Z=(Q,De,He,Me)=>{t.Effects[Q](De[0],He[0],Me)};r.data("duration")!==void 0&&(E=r.data("duration")),r.data("effectFunc")!==void 0&&(B=r.data("effectFunc")),d==="switch"&&(E=0),i.stop(!0),r.stop(!0),this.isAnimate=!0,setTimeout(()=>{C.isAnimate=!1},E+100),d==="slide"?I=g==="next"?"slideLeft":"slideRight":d==="slide-v"?I=g==="next"?"slideUp":"slideDown":I=d,f.includes(d)||(I="switch"),Z(I,i,r,{duration:E,ease:B}),i.removeClass("active-slide"),r.addClass("active-slide"),setTimeout(()=>{C._fireEvent("slide-show",{current:r[0],prev:i[0]})},E),setTimeout(()=>{C._fireEvent("slide-hide",{current:i[0],next:r[0]})},E),_===!0&&(r.data("period")!==void 0&&(q=r.data("period")),this.interval=setTimeout(function(){const De=k.direction==="left"?"next":"prior";C._slideTo(De,!0)},q))},toSlide:function(i){this._slideToSlide(i)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},stop:function(){clearInterval(this.interval),this._fireEvent("stop")},play:function(){this._start(),this._fireEvent("play")},setEffect:function(i){const r=this.element,d=this.options,g=r.find(".slide");f.includes(i)&&(d.effect=i,g.removeStyleProperty("transform").css({top:0,left:0}))},changeAttribute:function(i,r){i==="data-effect"&&this.setEffect(r)},destroy:function(){const i=this.element,r=this.options;return i.off(t.events.click,".carousel-bullet"),i.off(t.events.click,".carousel-switch-next"),i.off(t.events.click,".carousel-switch-prev"),r.stopOnMouse===!0&&r.autoStart===!0&&(i.off(t.events.enter),i.off(t.events.leave)),r.controlsOnMouse===!0&&(i.off(t.events.enter),i.off(t.events.leave)),i.off(t.events.click,".slide"),o(globalThis).off(t.events.resize,{ns:this.id}),i}})})(Metro,Dom),((t,o)=>{let f={charmsDeferred:0,position:"right",opacity:1,clsCharms:"",onCharmCreate:t.noop,onOpen:t.noop,onClose:t.noop,onToggle:t.noop};t.charmsSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroCharmsSetup<"u"&&t.charmsSetup(globalThis.metroCharmsSetup),t.Component("charms",{init:function(e,i){return this._super(i,e,f,{origin:{background:""}}),this},_create:function(){const e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("charm-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options;e.addClass("charms").addClass(`${i.position}-side`).addClass(i.clsCharms),this.origin.background=e.css("background-color"),e.css({backgroundColor:Farbe.Routines.toRGBA(t.utils.getStyleOne(e,"background-color"),i.opacity)})},_createEvents:()=>{},open:function(){this.element.addClass("open"),this._fireEvent("open")},close:function(){this.element.removeClass("open"),this._fireEvent("close")},toggle:function(){this.element.hasClass("open")===!0?this.close():this.open(),this._fireEvent("toggle")},opacity:function(e){const i=this.element,r=this.options;if(e===void 0)return r.opacity;const d=Math.abs(Number.parseFloat(e));d<0||d>1||(r.opacity=d,i.css({backgroundColor:Farbe.Routines.toRGBA(t.utils.getStyleOne(i,"background-color"),d)}))},changeOpacity:function(){const e=this.element;this.opacity(e.attr("data-opacity"))},changeAttribute:function(e){switch(e){case"data-opacity":this.changeOpacity();break}},destroy:function(){return this.element}}),t.charms={check:e=>t.utils.isMetroObject(e,"charms")===!1?(console.warn("Element is not a charms component"),!1):!0,isOpen:function(e){if(this.check(e)!==!1)return o(e).hasClass("open")},open:function(e){this.check(e)!==!1&&t.getPlugin(e,"charms").open()},close:function(e){this.check(e)!==!1&&t.getPlugin(e,"charms").close()},toggle:function(e){this.check(e)!==!1&&t.getPlugin(e,"charms").toggle()},closeAll:()=>{o("[data-role*=charms]").each(function(){t.getPlugin(this,"charms").close()})},opacity:function(e,i){this.check(e)!==!1&&t.getPlugin(e,"charms").opacity(i)}}})(Metro,Dom),((t,o)=>{const f="[data-role-dropmenu], [data-role-dropdown]",e='<svg class="dropdown-caret" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>';let i={dropdownDeferred:0,dropFilter:null,toggleElement:null,align:"left",noClose:!1,duration:50,openMode:"auto",openFunc:"show",closeFunc:"hide",height:"auto",onDrop:t.noop,onUp:t.noop,onDropdownCreate:t.noop};t.dropdownSetup=r=>{i=o.extend({},i,r)},typeof globalThis.metroDropdownSetup<"u"&&t.dropdownSetup(globalThis.metroDropdownSetup),t.Component("dropdown",{init:function(r,d){return this._super(d,r,i,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){const r=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:r}),r.hasClass("open")&&(r.removeClass("open"),setTimeout(()=>{this.open(!0)},0))},_toggle:function(){const r=this.element;let d=r.siblings(".menu-toggle, .dropdown-toggle, a");if(d.length===0&&(d=r.prev(),d.length===0))throw new Error("Menu toggle not found");return d[0]},_createStructure:function(){const r=this.element,d=this.options,g=r.parents("[data-role-dropdown]").length;let _;d.openMode==="up"&&r.addClass("drop-up"),_=d.toggleElement?o(d.toggleElement):o(this._toggle()),_.length&&_.append(e),this.displayOrigin=t.utils.getStyleOne(r,"display"),d.height!=="auto"&&r.css({height:d.height,"overflow-y":"auto"}),r.css("display","none"),this.toggle=_,this.level=g},_createEvents:function(){const r=this.element,d=this.options,g=this.toggle,_=r.parent();g.on(t.events.click,C=>{if(o(".active-container").removeClass("active-container"),r.css("display")!=="none"&&!r.hasClass("keep-open"))this.close(!0,r);else{if(o(f).each((k,E)=>{!r.parents("[data-role-dropdown]").is(E)&&!o(E).hasClass("keep-open")&&o(E).css("display")!=="none"&&(t.utils.isValue(d.dropFilter)?o(E).closest(d.dropFilter).length>0&&this.close(!0,E):this.close(!0,E))}),r.hasClass("horizontal")){r.css({visibility:"hidden",display:"block"});let k=0;o.each(r.children("li"),function(){k+=o(this).outerWidth(!0)}),r.css({visibility:"visible",display:"none"}),r.css("width",k+2)}this.open(!1,r),_.addClass("active-container")}C.preventDefault(),C.stopPropagation()}),d.noClose===!0&&r.addClass("keep-open").on(t.events.click,C=>{C.preventDefault(),C.stopPropagation()}),o(r).find("li.disabled a").on(t.events.click,C=>{C.preventDefault()})},_close:function(r,d){const g=o(r),_=t.getPlugin(g,"dropdown"),C=_.toggle,k=_.options;let E=k.closeFunc;C.removeClass("active-toggle").removeClass("active-control"),_.element.parent().removeClass("active-container"),d&&(E="hide"),g[E](d?0:k.duration,()=>{_._fireEvent("close"),_._fireEvent("up"),k.openMode==="auto"&&_.element.removeClass("drop-up drop-as-dialog")}),this.isOpen=!1},_open:function(r,d){const g=t.getPlugin(r,"dropdown"),_=g.options,C=_.openFunc;g.toggle.addClass("active-toggle").addClass("active-control"),g.element.parent().addClass("active-container"),g.element[C](d?0:_.duration,function(){const k=o(this),E=t.utils.viewportOutByWidth(this),I=t.utils.viewportOutByHeight(this);_.openMode==="auto"&&(I&&k.addClass("drop-up"),E&&k.addClass("place-right"),t.utils.viewportOut(this)&&k.removeClass("drop-up place-right").addClass("drop-as-dialog")),g._fireEvent("open"),g._fireEvent("drop")}),this.isOpen=!0},close:function(r,d){this._close(d||this.element,r)},open:function(r,d){this._open(d||this.element,r)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:(r,d)=>{},destroy:function(){this.toggle.off(t.events.click)}}),o(document).on(t.events.click,()=>{o(f).each(function(){const r=o(this);if(r.hasClass("keep-open")||r.hasClass("stay-open")||r.hasClass("ignore-document-click"))return;const d=t.getPlugin(r,"dropdown"),g=t.getPlugin(r,"dropmenu");d&&d.close(),g&&g.close()})})})(Metro,Dom),((t,o)=>{let f={id:"",label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"❌",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"",filter:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,openMode:"auto",showGroupName:!1,shortTag:!0,source:null,sourceMethod:"GET",sourceType:"json",filterSource:null,filterThreshold:500,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemAction:"",clsLabel:"",clsGroupName:"",clsFilterInput:"",onClear:t.noop,onChange:t.noop,onUp:t.noop,onDrop:t.noop,onItemSelect:t.noop,onItemDeselect:t.noop,onSelectCreate:t.noop,onData:e=>e};t.selectSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroSelectSetup<"u"&&t.selectSetup(globalThis.metroSelectSetup),t.Component("select",{init:function(e,i){return this._super(i,e,f,{list:null,placeholder:null,observer:null}),this},_create:function(){const e=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:e})},_setPlaceholder:function(){const e=this.element,i=this.options,r=e.siblings(".select-input");i.usePlaceholder===!0&&(!t.utils.isValue(e.val())||`${e.val()}`==`${i.emptyValue}`)&&r.html(i.placeholder||this.strings.label_select_more)},_addTag:function(e,i){const r=this.element,d=this.options;let g;const _=r.closest(".select"),C=`<span class='title'>${e}</span>`,k=o("<div>").addClass("tag").addClass(d.shortTag?"short-tag":"").addClass(d.clsSelectedItem).html(C).data("option",i);return o("<span>").addClass("action unselect-option").addClass(d.clsSelectedItemAction).html("&times;").appendTo(k),_.hasClass("input-large")?g="large":_.hasClass("input-small")&&(g="small"),k.addClass(g),k},_addOption:function(e,i,r,d,g){const _=o(e);let C,k;const E=this.element,I=this.options;let B=t.utils.isValue(_.attr("data-template"))?_.attr("data-template").replace("$1",e.text):e.text;const q=_.attr("data-display");C=o("<li>").addClass(I.clsOption).data("option",e).attr("data-text",e.text).attr("data-value",e.value?e.value:""),k=o("<a>").html(B);const Z=_.attr("data-icon");if(Z&&k.prepend(o("<span>").addClass("icon").html(Z)),q&&(C.attr("data-display",q),B=q),C.addClass(e.className),C.data("group",g),_.is(":disabled")&&C.addClass("disabled"),_.is(":selected")){let Q="";I.showGroupName&&g&&(Q=`&nbsp;<span class='selected-item__group-name ${I.clsGroupName}'>${g}</span>`),d?(C.addClass("d-none"),r.append(this._addTag(k.html()+Q,C))):(B=k.html()+Q,E.val(e.value),r.html(B),E.fire("change",{val:e.value}),C.addClass("active"))}C.append(k).appendTo(i)},_addOptionGroup:function(e,i,r,d){const g=this,_=this.options,C=o(e);o("<li>").html(e.label).addClass("group-title").addClass(_.clsOptionGroup).appendTo(i),o.each(C.children(),function(){g._addOption(this,i,r,d,e.label)})},_createOptions:function(){const e=this,i=this.element,r=this.options,g=i.parent().find("ul").empty(),_=i.find("option[selected]").length>0,C=i[0].multiple,k=i.siblings(".select-input");i.siblings(".select-input").empty(),r.addEmptyValue===!0&&i.prepend(o(`<option ${_?"":"selected"} value='${r.emptyValue}' class='d-none'></option>`)),o.each(i.children(),function(){this.tagName==="OPTION"?e._addOption(this,g,k,C,null):this.tagName==="OPTGROUP"&&e._addOptionGroup(this,g,k,C)})},_createSelect:async function(){const e=this.element,i=this.options,r=e.wrap("<label>"),d=e[0].multiple,g=Hooks.useId(r[0]),_=o("<div>").addClass("button-group");let C,k;const E=Hooks.useId("select-focus-trigger"),I=o("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",E);this.placeholder=o("<span>").addClass("placeholder").html(i.placeholder),r.attr("id",i.id?i.id:g).attr("for",E),r[0].className=t.utils.classNames(e[0].className,`input-${i.size}`,"select",i.clsSelect),o("<span>").addClass("dropdown-toggle").appendTo(r),d&&r.addClass("multiple"),_.appendTo(r),I.appendTo(r);const q=o("<div>").addClass("select-input").addClass(i.clsSelectInput).attr("name",`__${g}__`);C=o("<div>").addClass("drop-container").addClass(i.clsDropContainer),i.dropFullSize===!1?i.dropWidth&&C.css({width:+i.dropWidth}):r.addClass("drop-full-size"),k=o("<div>").appendTo(C);const Z=o("<ul>").addClass("option-list").addClass(i.clsDropList).css({"max-height":i.dropHeight});if(o(`<input type='text' data-role='input' data-clear-button-icon="${i.clearButtonIcon}">`).attr("placeholder",i.filterPlaceholder||`${this.strings.label_filter}...`).appendTo(k).addClass(i.clsFilterInput),r.append(q),r.append(C),C.append(k),i.filter!==!0&&k.hide(),C.append(Z),i.source&&await this.fetch(i.source,{method:i.sourceMethod||"GET",headers:{"Content-Type":`application/${i.sourceType||"json"}`}}),this._createOptions(),this._setPlaceholder(),this._createDroppable(C),this.list=Z,i.clearButton===!0&&!e[0].readOnly?o("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).appendTo(_):_.addClass("d-none"),i.prepend!==""&&!d&&o("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(r),i.append!==""&&!d&&o("<div>").html(i.append).addClass("append").addClass(i.clsAppend).appendTo(r),e.attr("dir")==="rtl"&&r.addClass("rtl").attr("dir","rtl"),i.label){const De=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(r);e.attr("id")?De.attr("for",e.attr("id")):De.attr("for",E),e.attr("dir")==="rtl"&&De.addClass("rtl")}e.is(":disabled")?this.disable():this.enable(),this.observer=new MutationObserver(this._updateSelect.bind(this)),this.observer.observe(e[0],{childList:!0,subtree:!0})},_createDroppable:function(e){const i=this.options,r=e.find("input"),d=this.element.closest(".select"),g=e.siblings(".dropdown-caret"),_=e.find("ul");t.makePlugin(e,"dropdown",{dropFilter:".select",duration:i.duration,toggleElement:[d],openMode:i.openMode,onDrop:()=>{let C;g.addClass("active-toggle");const k=o(".select .drop-container");o.each(k,function(){const E=o(this);if(E.is(e))return;const I=t.getPlugin(E,"dropdown");I!=null&&I.close&&I.close()}),r.val("").trigger(t.events.keyup),C=_.find("li.active").length>0?o(_.find("li.active")[0]):void 0,C!==void 0&&(_[0].scrollTop=C.position().top-(_.height()-C.height())/2),this._fireEvent("drop",{list:_[0]})},onUp:()=>{g.removeClass("active-toggle"),this._fireEvent("up",{list:_[0]})}})},_updateSelect:function(e){for(const i of e)i.type==="childList"&&(i.addedNodes.length||i.removedNodes.length)&&this._createOptions()},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.closest(".select"),g=d.find(".drop-container"),_=i.siblings(".select-input"),C=g.find("input"),k=g.find("ul"),E=d.find(".input-clear-button"),I=d.find(".select-focus-trigger");I.on("focus",()=>{d.addClass("focused")}),I.on("blur",()=>{d.removeClass("focused")}),E.on(t.events.click,q=>{i.val(r.emptyValue),i[0].multiple&&k.find("li").removeClass("d-none"),_.clear(),e._setPlaceholder(),q.preventDefault(),q.stopPropagation(),e._fireEvent("clear"),e._fireEvent("change",{selected:e.getSelected()})}),i.on(t.events.change,()=>{e._setPlaceholder()}),d.on(t.events.click,()=>{o(".focused").removeClass("focused"),d.addClass("focused")}),_.on(t.events.click,()=>{o(".focused").removeClass("focused"),d.addClass("focused")}),k.on(t.events.click,"li",function(q){if(o(this).hasClass("group-title")){q.preventDefault(),q.stopPropagation();return}const Z=o(this),Q=Z.attr("data-display"),De=Z.data("value"),He=Z.data("group");let Me=Q||Z.children("a").html();const Be=Z.data("option"),we=i.find("option");r.showGroupName&&He&&(Me+=`&nbsp;<span class='selected-item__group-name ${r.clsGroupName}'>${He}</span>`),i[0].multiple?(Z.addClass("d-none"),_.append(e._addTag(Me,Z))):(k.find("li.active").removeClass("active").removeClass(r.clsOptionActive),Z.addClass("active").addClass(r.clsOptionActive),_.html(Me),t.getPlugin(g,"dropdown").close()),o.each(we,function(){this===Be&&(this.selected=!0)}),e._fireEvent("item-select",{val:De,option:Be,leaf:Z[0]});const Ie=e.getSelected();e._fireEvent("change",{selected:Ie})}),_.on("click",".tag .action",function(q){const Z=o(this).closest(".tag"),Q=Z.data("option"),De=Q.data("option");Q.removeClass("d-none"),o.each(i.find("option"),function(){this===De&&(this.selected=!1)}),Z.remove(),e._fireEvent("item-deselect",{option:De});const He=e.getSelected();e._fireEvent("change",{selected:He}),q.preventDefault(),q.stopPropagation()});const B=Hooks.useDebounce(async q=>{const Z=this.options,Q=this.list,De=q.target.value.toLowerCase(),He=`${Z.filterSource}${De}`;if(Z.filterSource)await this.fetch(He,{method:Z.sourceMethod||"GET",headers:{"Content-Type":`application/${Z.sourceType||"json"}`}},!0);else{const Me=Q.find("li");let Be,we,Ie;for(Be=0;Be<Me.length;Be++)o(Me[Be]).hasClass("group-title")||(we=Me[Be].getElementsByTagName("a")[0],Ie=we.innerHTML||we.innerText,Ie.toLowerCase().includes(De)?Me[Be].style.display="":Me[Be].style.display="none")}},r.filterThreshold);C.on(t.events.keyup,B.bind(this)),C.on(t.events.click,q=>{q.preventDefault(),q.stopPropagation()}),g.on(t.events.click,q=>{q.preventDefault(),q.stopPropagation()})},_clearOptions:function(){this.element.clear(),this.list.clear()},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(e){const i=this.element,r=i.find("option"),d=i.closest(".select");o.each(r,function(){this.selected=t.utils.isNull(e)?!1:this.defaultSelected}),this.list.find("li").remove(),d.find(".select-input").html(""),this._createOptions();const g=this.getSelected();this._fireEvent("change",{selected:g})},getSelected:function(){const e=this.element,i=[];return e.find("option").each(function(){this.selected&&i.push(this.value)}),i},val:function(e){const i=this,r=this.element,d=this.options,g=r.siblings(".select-input"),_=r.find("option"),C=this.list.find("li"),k=[],E=!!r.attr("multiple");let I,B,q,Z,Q,De;if(t.utils.isNull(e))return o.each(_,function(){this.selected&&k.push(this.value)}),E?k:k[0];o.each(_,function(){this.selected=!1}),C.removeClass("active").removeClass(d.clsOptionActive),g.html("");const He=Array.isArray(e)?e:[e];o.each(He,function(){for(B=0;B<_.length;B++)if(I=_[B],q=t.utils.isValue(I.getAttribute("data-template"))?I.getAttribute("data-template").replace("$1",I.text):I.text,`${I.value}`==`${this}`){I.selected=!0;break}for(B=0;B<C.length;B++)if(Z=o(C[B]),De=Z.data("group"),Q=Z.attr("data-value"),`${Q}`==`${this}`){d.showGroupName&&De&&(q+=`&nbsp;<span class='selected-item__group-name'>${De}</span>`),E?(Z.addClass("d-none"),g.append(i._addTag(q,Z))):(Z.addClass("active").addClass(d.clsOptionActive),g.html(q));break}});const Me=this.getSelected();this._fireEvent("change",{selected:Me})},options:function(e,i,r){return this.data(e,i,r)},data:function(e,i,r){const d=this.element;let g,_;const C=r||",";return typeof i=="string"?_=i.toArray(C).map(k=>Number.isNaN(k)?k:+k):Array.isArray(i)?_=i.slice().map(k=>Number.isNaN(k)?k:+k):_=[],this.observer.disconnect(),d.empty(),typeof e=="string"?d.html(e):t.utils.isObject2(e)&&o.each(e,(k,E)=>{if(t.utils.isObject2(E))g=o("<optgroup label=''>").attr("label",k).appendTo(d),o.each(E,(I,B)=>{const q=o("<option>").attr("value",I).text(B).appendTo(g);_.indexOf(+I)>-1&&q.prop("selected",!0)});else{const I=o("<option>").attr("value",k).text(E).appendTo(d);_.indexOf(k)>-1&&I.prop("selected",!0)}}),this._createOptions(),this.observer.observe(d[0],{childList:!0,subtree:!0}),this},addOption:function(e,i,r){const d=this.element,g=o("<option>").attr("value",e).text(i||e);return d.append(g),r&&(d[0].multiple||d.find("option").prop("selected",!1),g.prop("selected",!0)),this},addOptions:function(e){const i=this;return e?(this.observer.disconnect(),Array.isArray(e)?o.each(e,function(){t.utils.isObject2(this)?i.addOption(this.val,this.title,this.selected):i.addOption(this)}):t.utils.isObject2(e)&&o.each(e,(r,d)=>{i.addOption(r,d)}),this._createOptions(),this.observer.observe(element[0],{childList:!0,subtree:!0}),this):this},removeOption:function(e){return this.element.find("option").each(function(){const d=o(this);`${d.attr("value")}`=="${val}"&&d.remove()}),this._createOptions(),this},removeOptions:function(e){const r=this.element.find("option");return!e||!Array.isArray(e)?this:(r.each(function(){const d=o(this),g=d.attr("value");e.indexOf(g)>-1&&d.remove()}),this._createOptions(),this)},fetch:async function(e,i,r=!1){const d=this.element,g=this.options,_=Object.assign({method:"GET",headers:{"Content-Type":`application/${g.sourceType}`}},i),C=await fetch(e,_);if(C.ok===!1)return;r&&this._clearOptions();let k=g.sourceType==="json"?await C.json():await C.text();k=t.utils.exec(g.onData,[k],d[0]),o.each(k,function(){const E=o("<option>").attr("value",this.value).html(this.text);this.icon&&E.attr("data-icon",this.icon),E.appendTo(d)})},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){const e=this.element,i=this.options,r=e.closest(".select"),d=r.find(".drop-container"),g=e.siblings(".select-input"),_=d.find("input"),C=d.find("ul"),k=r.find(".input-clear-button");r.off(t.events.click),r.off(t.events.click,".input-clear-button"),g.off(t.events.click),_.off(t.events.blur),_.off(t.events.focus),C.off(t.events.click,"li"),_.off(t.events.keyup),d.off(t.events.click),k.off(t.events.click),d.data("dropdown").destroy(),i.label&&r.prev("label").remove(),r.remove()}}),o(document).on(t.events.click,()=>{o(".select").removeClass("focused")},{ns:"blur-select-elements"})})(Metro,Dom),((t,o)=>{let f={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",searchButton:!1,clearButton:!0,revealButton:!0,randomButton:!1,clearButtonIcon:"❌",revealButtonIcon:"👀",searchButtonIcon:"🔍",randomButtonIcon:"🎲",customButtons:[],searchButtonClick:"submit",randomSymbols:"0123456789;abcdefghijklmnopqrstuvwxyz;ABCDEFGHIJKLMNOPQRSTUVWXYZ;<>!?@#$%^&*()_+",randomLength:12,prependOptions:"",prependOptionsSep:",",appendOptions:"",appendOptionsSep:",",badge:null,clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsRandomButton:"",clsLabel:"",onAutocompleteSelect:t.noop,onHistoryChange:t.noop,onHistoryUp:t.noop,onHistoryDown:t.noop,onClearClick:t.noop,onRevealClick:t.noop,onSearchButtonClick:t.noop,onEnterClick:t.noop,onInputCreate:t.noop};t.inputSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroInputSetup<"u"&&t.inputSetup(globalThis.metroInputSetup),t.Component("input",{init:function(e,i){return this._super(i,e,f,{history:[],historyIndex:-1,autocomplete:[],prependOptionsList:null,appendOptionsList:null}),this},_create:function(){const e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){const e=this,i=this.element,r=this.options,d=i.wrap("<div>").addClass(`input ${i[0].className}`);let g,_,C,k,E;t.utils.isValue(r.historyPreset)&&(o.each(r.historyPreset.toArray(r.historyDivider),function(){e.history.push(this)}),e.historyIndex=e.history.length-1),i.attr("type")===void 0&&i.attr("type","text"),g=o("<div>").addClass("button-group").appendTo(d),t.utils.isValue(i.val().trim())||i.val(r.defaultValue),r.clearButton===!0&&!i[0].readOnly&&(_=o("<button>").addClass("button input-clear-button").addClass(r.clsClearButton).attr("tabindex",-1).attr("type","button").html(r.clearButtonIcon).attr("title",this.strings.label_clear_input),_.appendTo(g)),i.attr("type")==="password"&&r.revealButton===!0&&(C=o("<button>").addClass("button input-reveal-button").addClass(r.clsRevealButton).attr("tabindex",-1).attr("type","button").html(r.revealButtonIcon).attr("title",this.strings.label_reveal_password),C.appendTo(g)),r.searchButton===!0&&(k=o("<button>").addClass("button input-search-button").addClass(r.clsSearchButton).attr("tabindex",-1).attr("type",r.searchButtonClick==="submit"?"submit":"button").html(r.searchButtonIcon).attr("title",this.strings.label_search_input),k.appendTo(g)),r.randomButton===!0&&(E=o("<button>").addClass("button input-random-button").addClass(r.clsRandomButton).attr("tabindex",-1).attr("type","button").html(r.randomButtonIcon).attr("title",this.strings.label_generate_random),E.appendTo(g));let I,B;if(r.prepend&&o("<div>").html(r.prepend).addClass("prepend").addClass(r.clsPrepend).appendTo(d),r.prependOptions){I=o("<div>").addClass("prepend-options").appendTo(d),B=o("<select data-role='select'>").addClass("options-list"),I.append(B);for(const Z of r.prependOptions.toArray(r.prependOptionsSep))o("<option>").attr("value",Z).html(Z).appendTo(B);this.prependOptionsList=B}if(r.append&&o("<div>").html(r.append).addClass("append").addClass(r.clsAppend).appendTo(d),r.appendOptions){I=o("<div>").addClass("append-options").appendTo(d),B=o("<select data-role='select'>").addClass("options-list"),I.append(B);for(const Z of r.appendOptions.toArray(r.appendOptionsSep))o("<option>").attr("value",Z).html(Z).appendTo(B);this.appendOptionsList=B}const q=t.utils.isObject(r.customButtons);if(Array.isArray(q)&&o.each(q,function(){const Z=o("<button>");Z.addClass("button input-custom-button").addClass(r.clsCustomButton).addClass(this.cls).attr("tabindex",-1).attr("type","button").html(this.text),this.attr&&typeof this.attr=="object"&&o.each(this.attr,(Q,De)=>{Z.attr(Str.dashedName(Q),De)}),this.onclick&&Z.on("click",()=>{this.onclick.apply(Z,[i.valueOf(),i])}),Z.appendTo(g)}),t.utils.isValue(i.attr("data-exclaim"))&&d.attr("data-exclaim",i.attr("data-exclaim")),i.attr("dir")==="rtl"&&d.addClass("rtl").attr("dir","rtl"),i[0].className="",d.addClass(r.clsComponent),i.addClass(r.clsInput),r.size!=="default"&&d.css({width:r.size}),(!t.utils.isNull(r.autocomplete)||!t.utils.isNull(r.autocompleteUrl))&&o("<div>").addClass("autocomplete-list").css({maxHeight:r.autocompleteListHeight,display:"none"}).appendTo(d),t.utils.isValue(r.autocomplete)){const Z=t.utils.isObject(r.autocomplete);Z!==!1?this.autocomplete=Z:this.autocomplete=r.autocomplete.toArray(r.autocompleteDivider)}if(t.utils.isValue(r.autocompleteUrl)&&fetch(r.autocompleteUrl,{method:r.autocompleteUrlMethod}).then(Z=>Z.text()).then(Z=>{let Q=[];try{Q=JSON.parse(Z),r.autocompleteUrlKey&&(Q=Q[r.autocompleteUrlKey])}catch{Q=Z.split(`
`)}e.autocomplete=e.autocomplete.concat(Q)}),r.label){const Z=o("<label>").addClass("label-for-input").addClass(r.clsLabel).html(r.label).insertBefore(d);if(i.attr("id"))Z.attr("for",i.attr("id"));else{const Q=Hooks.useId(i[0]);i.id(Q),Z.attr("for",Q)}i.attr("dir")==="rtl"&&Z.addClass("rtl")}r.badge&&d.append(o("<div>").addClass("badge").html(r.badge)),i.is(":disabled")?this.disable():this.enable(),this.component=d},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.closest(".input"),g=d.find(".autocomplete-list");d.on(t.events.click,".input-clear-button",()=>{const _=i.val();i.val(t.utils.isValue(r.defaultValue)?r.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),g.length>0&&g.css({display:"none"}),e._fireEvent("clear-click",{prev:_})}),d.on(t.events.click,".input-reveal-button",()=>{i.attr("type")==="password"?i.attr("type","text"):i.attr("type","password"),e._fireEvent("reveal-click",{val:i.val()})}),d.on(t.events.click,".input-search-button",function(){r.searchButtonClick!=="submit"?(console.log("Search button clicked"),e._fireEvent("search-button-click",{val:e.val(),button:this})):this.form&&this.form.submit()}),d.on(t.events.click,".input-random-button",()=>{const _=e._generateRandomValue();i.val(_).fire("change").fire("keyup").focus(),e._fireEvent("random-click",{val:_})}),i.on(t.events.keyup,_=>{const C=i.val().trim();r.history&&_.keyCode===t.keyCode.ENTER&&C!==""&&(i.val(""),e.history.push(C),e.historyIndex=e.history.length-1,e._fireEvent("history-change",{val:C,history:e.history,historyIndex:e.historyIndex}),r.preventSubmit===!0&&_.preventDefault()),r.history&&_.keyCode===t.keyCode.UP_ARROW&&(e.historyIndex--,e.historyIndex>=0?(i.val(""),i.val(e.history[e.historyIndex]),e._fireEvent("history-down",{val:i.val(),history:e.history,historyIndex:e.historyIndex})):e.historyIndex=0,_.preventDefault()),r.history&&_.keyCode===t.keyCode.DOWN_ARROW&&(e.historyIndex++,e.historyIndex<e.history.length?(i.val(""),i.val(e.history[e.historyIndex]),e._fireEvent("history-up",{val:i.val(),history:e.history,historyIndex:e.historyIndex})):e.historyIndex=e.history.length-1,_.preventDefault())}),i.on(t.events.keydown,_=>{_.keyCode===t.keyCode.ENTER&&e._fireEvent("enter-click",{val:i.val()})}),i.on(t.events.blur,()=>{d.removeClass("focused")}),i.on(t.events.focus,()=>{d.addClass("focused")}),i.on(t.events.input,function(){const _=this.value.toLowerCase();e._drawAutocompleteList(_)}),d.on(t.events.click,".autocomplete-list .item",function(){const _=o(this).attr("data-autocomplete-value");i.val(_),g.css({display:"none"}),i.trigger("change"),e._fireEvent("autocomplete-select",{value:_})})},_generateRandomValue:function(){const e=this.options,i=e.randomSymbols.split(";"),r=Math.round(e.randomLength/i.length),d=[];for(const g of i){const _=g.split(""),C=_.length;for(let k=0;k<r;k++)d.push(_[Math.floor(Math.random()*C)])}return d.shuffle().join("")},_drawAutocompleteList:function(e){const i=this,g=this.element.closest(".input").find(".autocomplete-list");if(g.length===0)return;g.html("");const _=this.autocomplete.filter(C=>C.toLowerCase().indexOf(e)>-1);g.css({display:_.length>0?"block":"none"}),o.each(_,function(){const C=this.toLowerCase().indexOf(e);let k;const E=o("<div>").addClass("item").attr("data-autocomplete-value",this);C===0?k=`<strong>${this.substring(0,e.length)}</strong>${this.substring(e.length)}`:k=`${this.substring(0,C)}<strong>${this.substring(C,e.length)}</strong>${this.substring(C+e.length)}`,E.html(k).appendTo(g),i._fireEvent("draw-autocomplete-item",{item:E})})},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(e){this.historyIndex=e>=this.history.length?this.history.length-1:e},setHistory:function(e,i){const r=this,d=this.options;if(!e)return;typeof e!="string"&&!Array.isArray(e)&&(console.error("History must be a string or an array!"),console.dir(e));const g=typeof e=="string"?e.toArray(d.historyDivider):e;i===!0?o.each(g,function(){r.history.push(this)}):this.history=e,this.historyIndex=this.history.length-1},clear:function(){this.element.val("")},toDefault:function(){this.element.val(t.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(e){const i=t.utils.isObject(e);i!==!1?this.autocomplete=i:typeof e=="string"&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},val:function(e,i=";"){const r=this.element,d=this.options;if(!t.utils.isValue(e)){let E=r.val();return d.prependOptions&&(E=this.prependOptionsList.val()+E),d.appendOptions&&(E=E+this.appendOptionsList.val()),E}const g=e.split(i);let _="",C="";d.prependOptions&&(_=g.shift(),t.getPlugin(this.prependOptionsList,"select").val(_),console.log(_)),d.appendOptions&&(C=g.pop(),t.getPlugin(this.appendOptionsList,"select").val(C));const k=g.join("");r.val(k)},prependOptionsVal:function(e){this.options.prependOptions&&(t.utils.isValue(e)||this.prependOptionsList.val(),this.prependOptionsList.val(e))},appendOptionsVal:function(e){if(this.options.appendOptions){if(!t.utils.isValue(e))return this.appendOptionsList.val();this.appendOptionsList.val(e)}},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break}},destroy:function(){const e=this.element,i=this.options,r=e.parent(),d=r.find(".input-clear-button"),g=r.find(".input-reveal-button"),_=r.find(".input-custom-button");d.length>0&&d.off(t.events.click),g.length>0&&(g.off(t.events.start),g.off(t.events.stop)),_.length>0&&d.off(t.events.click),e.off(t.events.blur),e.off(t.events.focus),i.label&&r.prev("label").remove(),r.remove()}}),o(document).on(t.events.click,()=>{o(".input .autocomplete-list").hide()})})(Metro,Dom),((t,o)=>{let f={chatDeferred:0,inputTimeFormat:null,timeFormat:"D MMM hh:mm A",name:"John Doe",avatar:"<span>👦</span>",welcome:null,welcomeAvatar:"<span>👽</span>",title:null,width:"100%",height:"auto",messages:null,sendButtonTitle:"",sendButtonIcon:"",readonly:!1,clsChat:"",clsName:"",clsTime:"",clsInput:"",clsSendButton:"",clsMessageLeft:"default",clsMessageRight:"default",onMessage:t.noop,onSend:t.noop,onSendButtonClick:t.noop,onChatCreate:t.noop};t.chatSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroChatSetup<"u"&&t.chatSetup(globalThis.metroChatSetup),t.Component("chat",{init:function(e,i){return this._super(i,e,f,{input:null,classes:"primary secondary success alert warning yellow info dark light".split(" "),lastMessage:null}),this},_create:function(){const e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("chat-create",{element:e})},_createStructure:function(){const e=this,i=this.element,r=this.options,d=[{html:`${r.sendButtonTitle||this.strings.label_send}${r.sendButtonIcon}`,cls:`${r.clsSendButton} js-chat-send-button`,onclick:r.onSendButtonClick}];i.addClass("chat").addClass(r.clsChat),i.css({width:r.width,height:r.height}),t.utils.isValue(r.title)&&o("<div>").addClass("title").html(r.title).appendTo(i),o("<div>").addClass("messages").appendTo(i);const _=o("<div>").addClass("message-input").appendTo(i),C=o("<input type='text'>").addClass("chat-input");C.appendTo(_),setTimeout(()=>{t.makePlugin(C[0],"input",{customButtons:d,clsInput:r.clsInput})}),r.welcome&&this.add({text:r.welcome,time:datetime(),position:"left",name:"Chat Bot",avatar:r.welcomeAvatar}),t.utils.isValue(r.messages)&&typeof r.messages=="string"&&(r.messages=t.utils.isObject(r.messages)),!t.utils.isNull(r.messages)&&typeof r.messages=="object"&&t.utils.objectLength(r.messages)>0&&o.each(r.messages,function(){e.add(this)}),i.find(".message-input")[r.readonly?"addClass":"removeClass"]("disabled")},_createEvents:function(){const e=this.element,i=this.options,r=()=>{const d=e.find(".chat-input input"),g=`${d.val()}`;if(g.trim()==="")return!1;const _={id:t.utils.elementId("chat-message"),name:i.name,avatar:i.avatar,text:g,position:"right",time:datetime()};this.add(_),d.val(""),this._fireEvent("send",{msg:_}),d.focus()};e.on(t.events.click,".js-chat-send-button",()=>{r()}),e.on(t.events.keyup,".chat-input > input",d=>{d.keyCode===t.keyCode.ENTER&&r()})},add:function(e){const i=this.element,r=this.options,d=this.locale;let g,_,C,k,E;const I=i.find(".messages"),B=r.inputTimeFormat?Datetime.from(e.time,r.inputTimeFormat,d):datetime(e.time);if(g=o("<div>").addClass("message").addClass(e.position).appendTo(I),C=o("<div>").addClass("message-item").appendTo(g),t.utils.isUrl(e.avatar)||e.avatar.includes("data:image"))k=o("<img>").attr("src",e.avatar).attr("alt",e.avatar).addClass("message-avatar").appendTo(C);else if(e.avatar){const Z=o(e.avatar);Z.length?k=Z.addClass("message-avatar").appendTo(C):k=o("<span>").addClass("message-avatar").html(e.avatar).appendTo(C)}E=o("<div>").addClass("message-text").append(o("<div>").addClass("message-text-inner").html(Str.escapeHtml(e.text))).appendTo(C);const q=o("<div>").addClass("message-time").addClass(r.clsTime).text(B.format(r.timeFormat)).appendTo(E);return _=o("<div>").addClass("message-sender").addClass(r.clsName).text(e.name).appendTo(E),t.utils.isValue(e.id)&&g.attr("id",e.id),e.position==="left"&&t.utils.isValue(r.clsMessageLeft)&&E.addClass(r.clsMessageLeft),e.position==="right"&&t.utils.isValue(r.clsMessageRight)&&E.addClass(r.clsMessageRight),this.lastMessage&&this.lastMessage.position===e.position&&(E.addClass("--next"),k.visible(!1),_.hide()),this._fireEvent("message",{msg:e,el:{message:g,sender:_,time:q,item:C,avatar:k,text:E}}),I.animate({draw:{scrollTop:I[0].scrollHeight},dur:1e3}),this.lastMessage=e,this},addMessages:function(e){const i=this;let r=e;return t.utils.isValue(r)&&typeof r=="string"&&(r=t.utils.isObject(r)),typeof r=="object"&&t.utils.objectLength(r)>0&&o.each(r,function(){i.add(this)}),this},delMessage:function(e){return this.element.find(".messages").find(`#${e}`).remove(),this},updMessage:function(e){const r=this.element.find(".messages").find(`#${e.id}`),d=this.options,g=this.locale;if(r.length===0)return this;const _=d.inputTimeFormat?Datetime.from(e.time,d.inputTimeFormat,g):datetime(e.time);return r.find(".message-text-inner").html(e.text),r.find(".message-time").html(_.format(d.timeFormat)),this},clear:function(){this.element.find(".messages").html(""),this.lastMessage=null},toggleReadonly:function(e){const i=this.element,r=this.options;r.readonly=typeof e>"u"?!r.readonly:e,i.find(".message-input")[r.readonly?"addClass":"removeClass"]("disabled")},changeAttribute:function(e){switch(e){case"data-readonly":this.toggleReadonly();break}},destroy:function(){const e=this.element,i=e.find(".js-chat-send-button"),r=e.find("input[type=text]");return i.off(t.events.click),r.off(t.events.keyup),e}}),t.defaults.Chat=f})(Metro,Dom),((t,o)=>{globalThis.CHECKBOX_STATE={CHECKED:1,UNCHECKED:-1,INDETERMINATE:0};let f={checkboxDeferred:0,state:CHECKBOX_STATE.UNCHECKED,threeState:!1,prepend:"",append:"",caption:"",clsCheckbox:"",clsCaption:"",clsPrepend:"",clsAppend:"",onCheckboxCreate:t.noop};t.metroCheckboxSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroCheckboxSetup<"u"&&t.metroCheckboxSetup(globalThis.metroCheckboxSetup),t.Component("checkbox",{init:function(e,i){return this._super(i,e,f,{origin:{className:""},state:CHECKBOX_STATE.UNCHECKED}),this},_create:function(){const e=this.options;(e.threeState===!1&&e.state===0||e.state==="indeterminate")&&(e.state=CHECKBOX_STATE.UNCHECKED),e.state===CHECKBOX_STATE.UNCHECKED||e.state==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:e.state===0||e.state==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(e=!0){const i=this.element;i[0].indeterminate=e,i.attr("data-indeterminate",e)},_createStructure:function(){const e=this.element,i=this.options,r=e.wrap("<label>").addClass("checkbox").addClass(i.clsCheckbox);e.attr("type","checkbox"),i.prepend&&r.prepend(o("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),(i.append||i.caption)&&r.append(o("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.caption?i.caption:i.append)),e.attr("readonly")!==void 0&&e.on("click",d=>{d.preventDefault()}),this.elem.checked&&this.state!==CHECKBOX_STATE.INDETERMINATE&&(this.state=!0),this._drawState()},_drawState:function(){const e=this.elem;this._indeterminate(!1),e.checked=this.state!==CHECKBOX_STATE.UNCHECKED,this.state===CHECKBOX_STATE.INDETERMINATE&&this._indeterminate(!0)},_createEvents:function(){const e=this.element,i=this.options;e.on("click",()=>{this.state++,this.state===0&&i.threeState===!1&&(this.state=1),this.state===2&&(this.state=-1),this._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},indeterminate:function(){this.setCheckState(CHECKBOX_STATE.INDETERMINATE)},setCheckState:function(e){return e===-1||e==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:e===0||e==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._drawState(),this},getCheckState:function(e=!1){if(!e)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},toggle:function(){this.state++,this.state===2&&(this.state=-1),this._drawState()},changeAttribute:(e,i)=>{const r=function(d){this.toggle(d)};switch(e){case"data-state":r(i);break}},destroy:function(){const e=this.element;e.off("click"),e.parent().remove()}})})(Metro,Dom),((t,o)=>{let f={clockDeferred:0,show:"row",showTime:!0,showDate:!0,dateFormat:"DD.MM.YYYY",timeFormat:"HH:mm",divider:"&nbsp;&nbsp;",twoLines:!1,onTick:t.noop,onSecond:t.noop,onClockCreate:t.noop};t.clockSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroClockSetup<"u"&&t.clockSetup(globalThis.metroClockSetup),t.Component("clock",{init:function(e,i){return this._super(i,e,f,{_clockInterval:null,locale:"en"}),this},_create:function(){const e=this.element,i=this.options,r=e.closest("[lang]");r.length&&(this.locale=r.attr("lang")||"en"),e.addClass("clock"),i.show==="column"&&e.addClass("show-column"),this._fireEvent("clock-create",{element:e}),this._tick(),this._clockInterval=setInterval(()=>{this._tick()},500),this._secondInterval=setInterval(()=>{this._second()},1e3)},_second:function(){const e=new Date;this._fireEvent("second",{timestamp:e})},_tick:function(){const e=this.element,i=this.options,r=datetime();let d="";const g=r.format(i.dateFormat,this.locale),_=r.format(i.timeFormat,this.locale);i.showTime&&(d=`<span class="clock-time">${_}</span>`),i.showDate&&(d+=`<span class="clock-date">${g}</span>`),e.html(d),this._fireEvent("tick",{timestamp:r})},changeAttribute:function(e,i){switch(e){case"data-date-format":this.options.dateFormat=i;break;case"data-time-format":this.options.timeFormat=i;break;case"data-show-date":this.options.showDate=JSON.parse(i);break;case"data-show-time":this.options.showTime=JSON.parse(i);break;case"data-divider":this.options.divider=i;break;case"data-two-lines":this.options.twoLines=JSON.parse(i);break}this._tick()},destroy:function(){clearInterval(this._clockInterval),this._clockInterval=null,this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={collapseDeferred:0,collapsed:!1,toggleElement:!1,duration:100,onExpand:t.noop,onCollapse:t.noop,onCollapseCreate:t.noop};t.collapseSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroCollapseSetup<"u"&&t.collapseSetup(globalThis.metroCollapseSetup),t.Component("collapse",{init:function(e,i){return this._super(i,e,f,{toggle:null}),this},_create:function(){const e=this.element,i=this.options,r=i.toggleElement!==!1?o(i.toggleElement):e.siblings(".collapse-toggle").length>0?e.siblings(".collapse-toggle"):e.siblings("a:nth-child(1)");(i.collapsed===!0||e.attr("collapsed")===!0)&&e.hide(0),r.on(t.events.click,d=>{e.css("display")!=="none"&&!e.hasClass("keep-open")?this._close(e):this._open(e),["INPUT"].indexOf(d.target.tagName)===-1&&d.preventDefault(),d.stopPropagation()}),this.toggle=r,this._fireEvent("collapse-create",{element:e})},_close:function(e,i){const r=o(e);if(r.data("collapsed"))return;const g=t.getPlugin(r[0],"collapse"),_=g.options,C=i?"show":"slideUp",k=i?0:_.duration;this.toggle.removeClass("active-toggle"),r[C](k,()=>{e.trigger("onCollapse",null,e),e.data("collapsed",!0),e.addClass("collapsed"),g._fireEvent("collapse")})},_open:function(e,i){const r=o(e);if(!r.data("collapsed"))return;const g=t.getPlugin(r[0],"collapse"),_=g.options,C=i?"show":"slideDown",k=i?0:_.duration;this.toggle.addClass("active-toggle"),r[C](k,()=>{e.trigger("onExpand",null,e),e.data("collapsed",!1),e.removeClass("collapsed"),g._fireEvent("expand")})},collapse:function(e){this._close(this.element,e)},expand:function(e){this._open(this.element,e)},close:function(e){this._close(this.element,e)},open:function(e){this._open(this.element,e)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){const e=this.element;e.attr("collapsed")===!0||e.data("collapsed")===!0?this.collapse():this.expand()},changeAttribute:function(e){switch(e){case"collapsed":case"data-collapsed":this.toggleState();break}},destroy:function(){return this.toggle.off(t.events.click),this.element}})})(Metro,Dom),((t,o)=>{let f={radioDeferred:0,prepend:"",append:"",caption:"",clsRadio:"",clsCaption:"",clsPrepend:"",clsAppend:"",onRadioCreate:t.noop};t.metroRadioSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroRadioSetup<"u"&&t.metroRadioSetup(globalThis.metroRadioSetup),t.Component("radio",{init:function(e,i){return this._super(i,e,f,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("radio-create")},_createStructure:function(){const e=this.element,i=this.options,r=e.wrap("<label>").addClass("radio").addClass(i.clsCheckbox);e.attr("type","radio"),i.prepend&&r.prepend(o("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),i.append&&r.append(o("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.append)),e.attr("readonly")&&e.on("click",d=>{d.preventDefault()}),this.elem.checked&&(this.state=!0),this._drawState()},_drawState:()=>{},_createEvents:function(){this.element.on("click",()=>{this._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},setCheckState:function(e=!0){return this.elem.checked=e,this._drawState(),this},getCheckState:function(e=!1){const i=this.elem.checked;if(!e)return i;switch(this.state){case!1:return"unchecked";case!0:return"checked"}},toggle:function(){this.elem.checked=!this.elem.checked,this._drawState()},changeAttribute:(e,i)=>{},destroy:function(){const e=this.element;e.off("click"),e.parent().remove()}})})(Metro,Dom),((t,o)=>{const f="hex, rgb, rgba, hsl, hsla, hsv, cmyk";let e={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",userColors:null,returnValueType:"hex",returnAsString:!0,showValues:f,showAsString:null,showUserColors:!0,controller:null,addUserColorTitle:null,userColorsTitle:null,hslMode:"percent",showAlphaChannel:!0,inputThreshold:300,initColor:null,readonlyInput:!1,clsSelector:"",clsSwatches:"",clsSwatch:"",clsValue:"",clsLabel:"",clsInput:"",clsUserColorButton:"",clsUserColors:"",clsUserColorsTitle:"",clsUserColor:"",onSelectColor:t.noop,onColorSelectorCreate:t.noop};t.colorSelectorSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroColorSelectorSetup<"u"&&t.colorSelectorSetup(globalThis.metroColorSelectorSetup),t.Component("color-selector",{init:function(i,r){return this._super(r,i,e,{id:null,defaultSwatches:[],showValues:[],userColors:[],showAsString:[],hue:0,saturation:0,lightness:1,alpha:1,hsl:null,hsla:null,hsv:null,rgb:null,rgba:null,cmyk:null,hex:null,inputInterval:null,controller:null}),this},_create:function(){const i=this.options;this.id=Hooks.useId(this.element),t.utils.isValue(i.defaultSwatches)&&(this.defaultSwatches=i.defaultSwatches.toArray(",").map(r=>r.toUpperCase())),t.utils.isValue(i.showValues)&&(this.showValues=i.showValues.toArray(",")),t.utils.isValue(i.userColors)&&(this.userColors=i.userColors.toArray(",").map(r=>r.toUpperCase())),t.utils.isValue(i.showAsString)&&(this.showAsString=i.showAsString.toArray(",")),this._createStructure(),this._createEvents(),this._setColorValues(),this._fireEvent("color-selector-create")},_createStructure:function(){const i=this,r=this.element,d=this.options,g=this.strings;let _,C,k,E,I;r.addClass("color-selector").addClass(d.clsSelector);const B=o("<div>").addClass("color-box");r.append(B),_=o("<div>").addClass("row"),B.append(_);const q=o("<div>").addClass("default-swatches").addClass(d.clsSwatches);_.append(q),o.each(this.defaultSwatches,function(){q.append(o("<button>").attr("data-color",this).attr("type","button").addClass("swatch").addClass(d.clsSwatch).css("background-color",this))}),_=o("<div>").addClass("row"),B.append(_),C=o("<div>").addClass("color-map"),_.append(C);const Z=o("<button>").attr("type","button").addClass("cursor color-cursor dragging");C.append(Z);const Q=o("<canvas>").addClass("color-canvas");C.append(Q),C=o("<div>").addClass("hue-map"),_.append(C);const De=o("<button>").attr("type","button").addClass("cursor hue-cursor dragging");C.append(De);const He=o("<canvas>").addClass("hue-canvas");C.append(He),C=o("<div>").addClass("alpha-map"),_.append(C);const Me=o("<button>").attr("type","button").addClass("cursor alpha-cursor dragging");C.append(Me);const Be=o("<canvas>").addClass("alpha-canvas");C.append(Be),_=o("<div>").addClass("row color-values-block"),B.append(_),k=o("<div>").addClass("color-value-hex"),_.append(k),k.append(o("<input type='radio' name='returnType' value='hex' checked>").addClass("check-color-value-hex")),I=o("<div>").addClass("color-block as-string color-hex"),k.append(I),I.append(o("<input type='text' data-prepend='HEX:'>").addClass("input-small value-hex")),k=o("<div>").addClass("color-value-rgb"),_.append(k),k.append(o("<input type='radio' name='returnType' value='rgb'>").addClass("check-color-value-rgb")),I=o("<div>").addClass("color-block color-rgb"),k.append(I),I.append(o("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),I.append(o("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),I.append(o("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),I=o("<div>").addClass("color-block as-string color-rgb"),k.append(I),I.append(o("<input type='text' data-prepend='RGB:'>").addClass("input-small value-rgb")),this.showAsString.indexOf("rgb")>-1?k.find(".value-r,.value-g,.value-b").parent().hide():k.find(".value-rgb").parent().hide(),k=o("<div>").addClass("color-value-rgba"),_.append(k),k.append(o("<input type='radio' name='returnType' value='rgba'>").addClass("check-color-value-rgba")),I=o("<div>").addClass("color-block color-rgba"),k.append(I),I.append(o("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),I.append(o("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),I.append(o("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),I.append(o("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),I=o("<div>").addClass("color-block as-string color-rgba"),k.append(I),I.append(o("<input type='text' data-prepend='RGBA:'>").addClass("input-small value-rgba")),this.showAsString.indexOf("rgba")>-1?k.find(".value-r,.value-g,.value-b,.value-a").parent().hide():k.find(".value-rgba").parent().hide(),k=o("<div>").addClass("color-value-hsl"),_.append(k),k.append(o("<input type='radio' name='returnType' value='hsl'>").addClass("check-color-value-hsl")),I=o("<div>").addClass("color-block color-hsl"),k.append(I),I.append(o("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),I.append(o("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),I.append(o("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),I=o("<div>").addClass("color-block as-string color-hsl"),k.append(I),I.append(o("<input type='text' data-prepend='HSL:'>").addClass("input-small value-hsl")),this.showAsString.indexOf("hsl")>-1?k.find(".value-h,.value-s,.value-l").parent().hide():k.find(".value-hsl").parent().hide(),k=o("<div>").addClass("color-value-hsla"),_.append(k),k.append(o("<input type='radio' name='returnType' value='hsla'>").addClass("check-color-value-hsla")),I=o("<div>").addClass("color-block color-hsla"),k.append(I),I.append(o("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),I.append(o("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),I.append(o("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),I.append(o("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),I=o("<div>").addClass("color-block as-string color-hsla"),k.append(I),I.append(o("<input type='text' data-prepend='HSLA:'>").addClass("input-small value-hsla")),this.showAsString.indexOf("hsla")>-1?k.find(".value-h,.value-s,.value-l,.value-a").parent().hide():k.find(".value-hsla").parent().hide(),k=o("<div>").addClass("color-value-hsv"),_.append(k),k.append(o("<input type='radio' name='returnType' value='hsv'>").addClass("check-color-value-hsl")),I=o("<div>").addClass("color-block color-hsv"),k.append(I),I.append(o("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),I.append(o("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),I.append(o("<input type='text' data-prepend='V:'>").addClass("input-small value-v")),I=o("<div>").addClass("color-block as-string color-hsv"),k.append(I),I.append(o("<input type='text' data-prepend='HSV:'>").addClass("input-small value-hsv")),this.showAsString.indexOf("hsv")>-1?k.find(".value-h,.value-s,.value-v").parent().hide():k.find(".value-hsv").parent().hide(),k=o("<div>").addClass("color-value-cmyk"),_.append(k),k.append(o("<input type='radio' name='returnType' value='cmyk'>").addClass("check-color-value-cmyk")),I=o("<div>").addClass("color-block color-cmyk"),k.append(I),I.append(o("<input type='text' data-prepend='C:'>").addClass("input-small value-c")),I.append(o("<input type='text' data-prepend='M:'>").addClass("input-small value-m")),I.append(o("<input type='text' data-prepend='Y:'>").addClass("input-small value-y")),I.append(o("<input type='text' data-prepend='K:'>").addClass("input-small value-k")),I=o("<div>").addClass("color-block as-string color-cmyk"),k.append(I),I.append(o("<input type='text' data-prepend='CMYK:'>").addClass("input-small value-cmyk")),this.showAsString.indexOf("cmyk")>-1?k.find(".value-s,.value-m,.value-y,.value-k").parent().hide():k.find(".value-cmyk").parent().hide(),_=o("<div>").addClass("row user-colors-css-container"),B.append(_),_.append(o("<div>").addClass("user-colors-title").addClass(d.clsUserColorsTitle).html(d.userColorsTitle||g.label_user_colors)),_.append(o("<div>").addClass("user-colors").addClass(d.clsUserColors));const we=o("<div>").addClass("user-colors-actions");_.append(we),we.append(o("<button>").addClass("button add-button").addClass(d.clsUserColorButton).html(`<span class='user-swatch'></span><span>${d.addUserColorTitle||g.label_add_user_color}</span>`)),E=B.find("input[type=text]"),t.makePlugin(E,"input",{clearButton:!1,clsPrepend:d.clsLabel,clsComponent:d.clsInput}),E.addClass(d.clsValue),d.readonlyInput&&E.attr("readonly",!0);const Ie=B.find("input[type=radio]").each(function(){o(this).attr("name",`${i.id}-returnType`)});Ie.each(function(){o(this).val()===d.returnValueType&&(this.checked=!0)}),t.makePlugin(Ie,"radio"),o.each(f.toArray(","),function(){i.showValues.indexOf(this)===-1&&r.find(`.color-value-${this}`).hide()}),d.showUserColors||r.find(".user-colors-css-container").hide(),d.showAlphaChannel||(r.addClass("no-alpha-channel"),o.each(["rgba","hsla"],function(){r.find(`.color-value-${this}`).hide()})),this._fillUserColors(),this.hueCanvas=He,this.hueCursor=De,this.shadeCanvas=Q,this.shadeCursor=Z,this.alphaCanvas=Be,this.alphaCursor=Me,this._createShadeCanvas(),this._createHueCanvas(),this._createAlphaCanvas(),this._setColorValues(),this._updateCursorsColor(),d.initColor&&Farbe.Routines.isColor(d.initColor)&&this._colorToPos(typeof d.initColor=="string"?Farbe.Routines.parse(d.initColor):d.initColor),this.controller=d.controller?o(d.controller):null},_createShadeCanvas:function(i="#f00"){const r=this.shadeCanvas[0],d=r.getContext("2d");d.clearRect(0,0,r.width,r.height),d.clearRect(0,0,r.width,r.height),d.fillStyle=i,d.fillRect(0,0,r.width,r.height);const g=d.createLinearGradient(0,0,r.width,0);g.addColorStop(0,"#fff"),g.addColorStop(1,"transparent"),d.fillStyle=g,d.fillRect(0,0,r.width,r.height);const _=d.createLinearGradient(0,0,0,r.height);_.addColorStop(0,"transparent"),_.addColorStop(1,"#000"),d.fillStyle=_,d.fillRect(0,0,r.width,r.height)},_createHueCanvas:function(){const i=this.hueCanvas[0],r=i.getContext("2d"),d=r.createLinearGradient(0,0,0,i.height);d.addColorStop(0,"hsl(0,100%,50%)"),d.addColorStop(.17,"hsl(298.8, 100%, 50%)"),d.addColorStop(.33,"hsl(241.2, 100%, 50%)"),d.addColorStop(.5,"hsl(180, 100%, 50%)"),d.addColorStop(.67,"hsl(118.8, 100%, 50%)"),d.addColorStop(.83,"hsl(61.2,100%,50%)"),d.addColorStop(1,"hsl(360,100%,50%)"),r.clearRect(0,0,i.width,i.height),r.fillStyle=d,r.fillRect(0,0,i.width,i.height)},_createAlphaCanvas:function(){const i=this.alphaCanvas[0],r=i.getContext("2d"),d=r.createLinearGradient(0,0,0,i.height),g=new Farbe.Primitives.HSLA(this.hue,1,.5,1).toString(),_="rgba(0,0,0,0)";d.addColorStop(0,g),d.addColorStop(1,_),r.clearRect(0,0,i.width,i.height),r.fillStyle=d,r.fillRect(0,0,i.width,i.height)},_updateHueCursor:function(i){this.hueCursor.css({top:i})},_updateAlphaCursor:function(i){this.alphaCursor.css({top:i})},_getHueColor:function(i){const r=this.hueCanvas,d=r.offset(),g=r.height();let _,C;_=i-d.top,_>g&&(_=g),_<0&&(_=0),C=360-360*(_/g),C===360&&(C=0);const E=`hsl(${C}, 100%, 50%)`;this.hue=C,this._createShadeCanvas(E),this._createAlphaCanvas(),this._updateHueCursor(_),this._updateCursorsColor(),this._setColorValues()},_getAlphaValue:function(i){const r=this.alphaCanvas,d=r.offset(),g=r.height();let _;_=i-d.top,_>g&&(_=g),_<0&&(_=0);const C=1-_/g;this.alpha=C.toFixed(2),this._updateAlphaCursor(_),this._updateCursorsColor(),this._setColorValues()},_getShadeColor:function(i,r){const d=this.shadeCanvas,g=d.offset(),_=d.width(),C=d.height();let k=i-g.left,E=r-g.top;k>_&&(k=_),k<0&&(k=0),E>C&&(E=C),E<0&&(E=.1);const I=k/_*100,q=1-E/C*100/100,Z=I/100;let Q=q/2*(2-Z),De=q*Z/(1-Math.abs(2*Q-1));Number.isNaN(Q)&&(Q=0),Number.isNaN(De)&&(De=0),this.lightness=Q,this.saturation=De,this._updateShadeCursor(k,E),this._updateCursorsColor(),this._setColorValues()},_updateCursorsColor:function(){this.shadeCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness))}),this.hueCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,1,.5))}),this.alphaCursor.css({backgroundColor:Farbe.Routines.toRGBA(new Farbe.Primitives.HSL(this.hue,1,.5),this.alpha).toString()})},_updateShadeCursor:function(i,r){this.shadeCursor.css({top:r,left:i})},_colorToPos:function(i){const r=this.shadeCanvas[0].getBoundingClientRect(),d=this.hueCanvas[0].getBoundingClientRect(),g=this.alphaCanvas[0].getBoundingClientRect(),_=Farbe.Routines.toHSL(i),C=Farbe.Routines.toHSLA(i),k=Farbe.Routines.toHSV(i),E=r.width*k.s,I=r.height*(1-k.v),B=d.height-_.h/360*d.height,q=(1-C.a)*g.height;this.hue=_.h,this.saturation=_.s,this.lightness=_.l,this.alpha=C.a,this._updateHueCursor(B),this._updateShadeCursor(E,I),this._updateAlphaCursor(q),this._updateCursorsColor(),this._createShadeCanvas(`hsl(${this.hue}, 100%, 50%)`),this._createAlphaCanvas(),this._setColorValues()},_setColorValues:function(){const i=this.element,r=this.options,d=new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness),g=new Farbe.Primitives.HSLA(this.hue,this.saturation,this.lightness,this.alpha),_=Farbe.Routines.toRGB(d),C=Farbe.Routines.toRGBA(_,this.alpha),k=Farbe.Routines.toHSV(d),E=Farbe.Routines.toCMYK(d),I=Farbe.Routines.toHEX(d),B=this.controller,q=r.hslMode==="percent";this.hsl=d,this.hsla=g,this.hsv=k,this.rgb=_,this.rgba=C,this.hex=I,this.cmyk=E,i.find(".color-value-hex .value-hex input").val(I),i.find(".color-value-rgb .value-r input").val(_.r),i.find(".color-value-rgb .value-g input").val(_.g),i.find(".color-value-rgb .value-b input").val(_.b),i.find(".color-value-rgb .value-rgb input").val(_.toString()),i.find(".color-value-rgba .value-r input").val(C.r),i.find(".color-value-rgba .value-g input").val(C.g),i.find(".color-value-rgba .value-b input").val(C.b),i.find(".color-value-rgba .value-a input").val(C.a),i.find(".color-value-rgba .value-rgba input").val(C.toString()),i.find(".color-value-hsl .value-h input").val(d.h.toFixed(0)),i.find(".color-value-hsl .value-s input").val(q?`${Math.round(d.s*100)}%`:d.s.toFixed(4)),i.find(".color-value-hsl .value-l input").val(q?`${Math.round(d.l*100)}%`:d.l.toFixed(4)),i.find(".color-value-hsl .value-hsl input").val(d.toString()),i.find(".color-value-hsla .value-h input").val(g.h.toFixed(0)),i.find(".color-value-hsla .value-s input").val(q?`${Math.round(g.s*100)}%`:d.s.toFixed(4)),i.find(".color-value-hsla .value-l input").val(q?`${Math.round(g.l*100)}%`:d.l.toFixed(4)),i.find(".color-value-hsla .value-a input").val(g.a),i.find(".color-value-hsla .value-hsla input").val(g.toString()),i.find(".color-value-hsv .value-h input").val(k.h.toFixed(0)),i.find(".color-value-hsv .value-s input").val(q?`${Math.round(k.s*100)}%`:k.s.toFixed(4)),i.find(".color-value-hsv .value-v input").val(q?`${Math.round(k.v*100)}%`:k.v.toFixed(4)),i.find(".color-value-hsv .value-hsv input").val(k.toString()),i.find(".color-value-cmyk .value-c input").val(E.c.toFixed(0)),i.find(".color-value-cmyk .value-m input").val(E.m.toFixed(0)),i.find(".color-value-cmyk .value-y input").val(E.y.toFixed(0)),i.find(".color-value-cmyk .value-k input").val(E.k.toFixed(0)),i.find(".color-value-cmyk .value-cmyk input").val(E.toString()),i.find(".user-colors-actions .user-swatch").css({backgroundColor:I});const Z=this.getVal();B!=null&&B.length&&B.val(Z),this._fireEvent("select-color",{color:Z,primitive:{hsl:this.hsl,hsla:this.hsla,rgb:this.rgb,rgba:this.rgba,hsv:this.hsv,cmyk:this.cmyk,hex:this.hex}})},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_createEvents:function(){const i=this,r=this.element,d=this.options,g=r.find(".hue-map"),_=r.find(".alpha-map"),C=r.find(".color-map"),k=this.controller,E=r.find(".color-values-block input[type=text]");let I=B=>{const q=o(B.target),Z=q.closest(".color-block");let Q,De,He;Z.hasClass("color-hex")?Q="hex":Z.hasClass("color-rgb")?Q="rgb":Z.hasClass("color-rgba")?Q="rgba":Z.hasClass("color-hsl")?Q="hsl":Z.hasClass("color-hsla")?Q="hsla":Z.hasClass("color-hsv")?Q="hsv":Z.hasClass("color-cmyk")&&(Q="cmyk"),Z.hasClass("as-string")?De=q.val():(He=[],o.each(Z.find("input"),function(){He.push(this.value)}),De=`${Q}(${He.join(", ")})`),De&&Farbe.Routines.isColor(De)&&i.val(De)};if(I=Hooks.useDebounce(I,d.inputThreshold),E.on(t.events.inputchange,I),k!=null&&k.length){const B=Hooks.useDebounce(()=>{const q=k.val();q&&Farbe.Routines.isColor(q)&&i.val(q)},d.inputThreshold);k.on(t.events.inputchange,B)}_.on(t.events.startAll,B=>{["hsla","rgba"].includes(d.returnValueType),i._getAlphaValue(t.utils.pageXY(B).y),o(document).on(t.events.moveAll,q=>{q.preventDefault(),i._getAlphaValue(t.utils.pageXY(q).y)},{ns:i.id}),o(document).on(t.events.stopAll,()=>{o(document).off(t.events.moveAll,{ns:i.id}),o(document).off(t.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),g.on(t.events.startAll,B=>{i._getHueColor(t.utils.pageXY(B).y),o(document).on(t.events.moveAll,q=>{q.preventDefault(),i._getHueColor(t.utils.pageXY(q).y)},{ns:i.id,passive:!1}),o(document).on(t.events.stopAll,()=>{o(document).off(t.events.moveAll,{ns:i.id}),o(document).off(t.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),C.on(t.events.startAll,B=>{i._getShadeColor(t.utils.pageXY(B).x,t.utils.pageXY(B).y),o(document).on(t.events.moveAll,q=>{q.preventDefault(),i._getShadeColor(t.utils.pageXY(q).x,t.utils.pageXY(q).y)},{ns:i.id,passive:!1}),o(document).on(t.events.stopAll,()=>{o(document).off(t.events.moveAll,{ns:i.id}),o(document).off(t.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),r.on("click",".swatch",function(){i._colorToPos(o(this).attr("data-color"))}),r.on("click",".add-button",()=>{const B=Farbe.Routines.toHEX(new Farbe.Primitives.HSL(i.hue,i.saturation,i.lightness)).toUpperCase();i.userColors.includes(B)||(i.userColors.push(B),r.find(".user-colors").append(o("<button>").attr("data-color",B).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:B})))}),r.find("input[type=radio]").on("click",function(){d.returnValueType=o(this).val(),i._setColorValues()})},getVal:function(){const i=this.options;let r;switch(i.returnValueType.toLowerCase()){case"rgb":r=this.rgb;break;case"rgba":r=this.rgba;break;case"hsl":r=this.hsl;break;case"hsla":r=this.hsla;break;case"hsv":r=this.hsv;break;case"cmyk":r=this.cmyk;break;default:r=this.hex}return i.returnAsString?r.toString():r},val:function(i){if(typeof i>"u")return this.getVal();const r=Farbe.Routines.parse(i);this._colorToPos(r)},user:function(i){if(!t.utils.isValue(i))return this.userColors;!Array.isArray(i)&&typeof i!="string"||(typeof i=="string"?this.userColors=i.toArray(",").map(r=>r.toUpperCase()):this.userColors=i.map(r=>r.toUpperCase()),this._fillUserColors())},_fillUserColors:function(){const i=this.element.find(".user-colors-css").clear();o.each(this.userColors,function(){i.append(o("<button>").attr("data-color",this).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:this}))})},changeAttribute:function(i,r){const d=this.options;i==="data-return-value-type"&&(d.returnValueType=r),i==="data-return-as-string"&&(d.returnValueType=t.utils.bool(r))},destroy:function(){this.element.remove()}}),t.defaults.ColorSelector=e})(Metro,Dom),((t,o)=>{let f={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",duration:100,prepend:"",append:"",label:"",clearButton:!1,clearButtonIcon:"❌",pickerButtonIcon:"🎨",defaultValue:"rgba(0, 0, 0, 0)",openMode:"auto",resultType:"hex",inputThreshold:500,onColorSelected:t.noop,onColorPickerCreate:t.noop};t.colorPickerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroColorPickerSetup<"u"&&t.colorPickerSetup(globalThis.metroColorPickerSetup),t.Component("color-picker",{init:function(e,i){return this._super(i,e,o.extend({},t.defaults.ColorSelector,{showUserColors:!1,showValues:""},f),{value:null,picker:null,colorSelector:null,colorSelectorBox:null,colorExample:null,inputInterval:null,isOpen:!1}),this},_create:function(){const e=this.element,i=this.options,r=e.val();if(!t.pluginExists("color-selector"))throw new Error("Color selector component required!");this.value=Farbe.Routines.isColor(r)?r:Farbe.Routines.isColor(i.defaultValue)?i.defaultValue:"rgba(0,0,0,0)",this._createStructure(),this._createEvents(),this._fireEvent("color-picker-create")},_createStructure:function(){const e=this.element,i=this.options,r=e.wrap(o("<div>").addClass("color-picker").addClass(e[0].className));let d;const g=o("<div>").addClass("color-example-box").insertBefore(e);d=o("<div>").addClass("buttons").appendTo(r),d.append(o("<button>").addClass("button color-picker-button").attr("tabindex",-1).attr("type","button").html(i.pickerButtonIcon)),i.clearButton===!0&&!e[0].readOnly&&d.append(o("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon)),t.utils.isValue(i.prepend)&&r.prepend(o("<div>").addClass("prepend").addClass(i.clsPrepend).html(i.prepend)),t.utils.isValue(i.append)&&r.append(o("<div>").html(i.append).addClass("append").addClass(i.clsAppend));const _=o("<div>").addClass("color-selector-box").appendTo(r),C=o("<div>").appendTo(_);if(this.picker=r,this.colorExample=g,this.colorSelector=C,this.colorSelectorBox=_,t.makePlugin(C,"color-selector",{defaultSwatches:i.defaultSwatches,returnValueType:i.resultType,returnAsString:!0,showUserColors:!1,showValues:"",controller:e,showAlphaChannel:!0,inputThreshold:i.inputThreshold,initColor:this.value,readonlyInput:i.readonlyInput,onSelectColor:k=>{this.colorExample.css({backgroundColor:k})},onColorSelectorCreate:i.onColorSelectorCreate}),t.makePlugin(_,"dropdown",{dropFilter:".color-picker",duration:i.duration,toggleElement:[r],checkDropUp:!0,onDrop:()=>{t.getPlugin(C,"color-selector").val(this.value)}}),e[0].className="",i.label){const k=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(r);if(e.attr("id"))k.attr("for",e.attr("id"));else{const E=Hooks.useId(e[0]);k.attr("for",E),e.attr("id",E)}e.attr("dir")==="rtl"&&k.addClass("rtl")}this._setColor()},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_setColor:function(){const e=this.colorExample;let i=this.value;(this.value.indexOf("cmyk")!==-1||this.value.indexOf("hsv")!==-1)&&(i=Farbe.Routines.toHEX(this.value)),console.log(i),e.css({backgroundColor:i})},_createEvents:function(){const e=this,i=this.element,r=this.options,d=this.picker,g=this.colorSelector,_=this.colorSelector;d.on(t.events.click,".input-clear-button",C=>{C.preventDefault(),C.stopPropagation(),i.val(r.defaultValue).trigger("change"),t.getPlugin(g,"color-selector").val(r.defaultValue)}),i.on(t.events.inputchange,function(){e.value=this.value,e._setColor()}),_.on(t.events.click,C=>{C.stopPropagation()})},val:function(e){if(typeof e>"u")return this.value;Farbe.Routines.isColor(e)&&(this.value=e,this.element.val(e).trigger("change"),this._setColor())},destroy:function(){const e=this.element,i=this.options,r=e.parent();i.label&&r.prev("label").remove(),r.remove()}}),o(document).on(t.events.click,()=>{o(".color-picker").removeClass("open")})})(Metro,Dom),((t,o)=>{t.contextMenu=(f=[],e=document)=>{function i(r){const d=o("<ul>").addClass("d-menu context-menu").css("display","none");for(const g of r)if(g.type==="divider")d.append(o("<li>").addClass("divider"));else{const _=o("<li>").appendTo(d),C=o("<a>").appendTo(_);if(g.icon&&C.append(o("<span>").addClass("icon").html(g.icon)),C.append(o("<span>").addClass("caption").html(g.text)),C.href(g.href||"#"),g.onclick&&C.on("click",k=>{t.utils.exec(g.onclick,[k,g])}),g.attributes)for(const[k,E]of Object.entries(g.attributes))C.attr(k,E);if(g.disabled&&C.prop("disabled",!0),g.items){const k=i(g.items);_.children("a").addClass("dropdown-toggle"),_.append(k),t.makePlugin(k,"dropdown",{})}}return d[0]}e.context_menu=i(f),e.nodeType===1?e.append(e.context_menu):o("body").append(e.context_menu),e.oncontextmenu=function(r){r.preventDefault(),r.stopPropagation(),o(".context-menu").hide(),this.context_menu.style.left=`${r.pageX}px`,this.context_menu.style.top=`${r.pageY}px`,this.context_menu.style.display="block"}},o(document).on("click",()=>{o(".context-menu").hide()})})(Metro,Dom),((t,o)=>{let f={path:"/",expires:null,maxAge:null,domain:null,secure:!1,samesite:null};t.cookieSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroCookieSetup<"u"&&t.cookieSetup(globalThis.metroCookieSetup),t.cookie={getCookies:()=>{const e=document.cookie.toArray(";"),i={};return o.each(e,function(){const r=this.split("=");i[r[0]]=r[1]}),i},getCookie:e=>{const i=`${encodeURIComponent(e)}=`,r=document.cookie.toArray(";");let d,g;for(d=0;d<r.length;d++){for(g=r[d];g.charAt(0)===" ";)g=g.substring(1,g.length);if(g.indexOf(i)===0)return decodeURIComponent(g.substring(i.length,g.length))}return null},setCookie:(e,i,r)=>{let d;const g=encodeURIComponent(e),_=encodeURIComponent(i);let C;const k=[];r&&typeof r!="object"?(d=new Date,d.setTime(d.getTime()+Number.parseInt(r)),C=o.extend({},f,{expires:d.toUTCString()})):C=o.extend({},f,r),o.each(C,(E,I)=>{E!=="secure"&&I&&k.push(`${Str.dashedName(E)}=${I}`),E==="secure"&&I===!0&&k.push("secure")}),document.cookie=`${g}=${_}; ${k.join("; ")}`},delCookie:function(e){this.setCookie(e,!1,{maxAge:-1})}}})(Metro,Dom),((t,o)=>{const f={name:"cookies_accepted",templateUrl:null,title:"",message:"",duration:"30days",clsContainer:"",clsMessage:"",clsButtons:"",clsAcceptButton:"",clsCancelButton:"",onAccept:t.noop,onDecline:t.noop};t.cookieDisclaimer={init:function(e){const i=t.cookie;this.options=o.extend({},f,e),this.disclaimer=o("<div>"),!i.getCookie(this.options.name)&&(this.locale=o("html").attr("lang")||"en",this.strings=o.extend({},t.locales.en,t.locales[this.locale]),this.options.templateUrl?fetch(this.options.templateUrl).then(t.fetch.text).then(r=>{this.create(r)}):this.create())},create:function(e){const i=t.cookie,r=this.options,d=this.disclaimer;d.addClass("cookie-disclaimer").addClass(r.clsContainer),e?d.append(e):d.html(o("<div class='disclaimer-message'>").addClass(r.clsMessage).html(`
                                <div class="disclaimer-title">${r.title||this.strings.label_cookies_title}</div>
                                <div class="disclaimer-text">${r.message||this.strings.label_cookies_text}</div>
                            `));const g=o("<div>").addClass("disclaimer-actions").addClass(r.clsButtons).append(o("<button>").addClass("button cookie-accept-button").addClass(r.clsAcceptButton).html(this.strings.label_accept)).append(o("<button>").addClass("button cookie-cancel-button").addClass(r.clsCancelButton).html(this.strings.label_cancel));g.appendTo(d),r.customButtons&&o.each(r.customButtons,function(){const _=o("<button>").addClass("button cookie-custom-button").addClass(this.cls).html(this.text);_.on("click",()=>{t.utils.exec(this.onclick)}),_.appendTo(g)}),d.appendTo(o("body")),d.on(t.events.click,".cookie-accept-button",()=>{let _=0;const C=`${r.duration}`.toArray(" ");o.each(C,function(){const k=`${this}`;k.includes("day")?_+=Number.parseInt(k)*24*60*60*1e3:k.includes("hour")?_+=Number.parseInt(k)*60*60*1e3:k.includes("min")?_+=Number.parseInt(k)*60*1e3:k.includes("sec")?_+=Number.parseInt(k)*1e3:_+=Number.parseInt(k)}),i.setCookie(r.name,!0,_),t.utils.exec(r.onAccept),d.remove()}),d.on(t.events.click,".cookie-cancel-button",()=>{t.utils.exec(r.onDecline),d.remove()})}}})(Metro,Dom),((t,o)=>{let f={countdownDeferred:0,stopOnBlur:!0,animate:"none",ease:"linear",duration:600,inputFormat:null,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,fontSize:24,clsCountdown:"",clsPart:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onAlarm:t.noop,onTick:t.noop,onZero:t.noop,onBlink:t.noop,onCountdownCreate:t.noop};t.countdownSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroCountdownSetup<"u"&&t.countdownSetup(globalThis.metroCountdownSetup),t.Component("countdown",{init:function(e,i){return this._super(i,e,f,{breakpoint:new Date().getTime(),blinkInterval:null,tickInterval:null,zeroDaysFired:!1,zeroHoursFired:!1,zeroMinutesFired:!1,zeroSecondsFired:!1,fontSize:0,current:{d:0,h:0,m:0,s:0},inactiveTab:!1,id:null,duration:600}),this},_create:function(){const e=this.options;this.id=Hooks.useId(this.element),this.duration=+e.duration<=0||+e.duration>=1e3?1e3:+e.duration,this._build(),this._createEvents()},_setBreakpoint:function(){const e=this.options,i=864e5,r=36e5,d=6e4,g=1e3;this.breakpoint=datetime().time(),e.date&&(this.breakpoint=(e.inputFormat?Datetime.from(e.date,e.inputFormat):datetime(e.date)).time()),Number.parseInt(e.days)>0&&(this.breakpoint+=Number.parseInt(e.days)*i),Number.parseInt(e.hours)>0&&(this.breakpoint+=Number.parseInt(e.hours)*r),Number.parseInt(e.minutes)>0&&(this.breakpoint+=Number.parseInt(e.minutes)*d),Number.parseInt(e.seconds)>0&&(this.breakpoint+=Number.parseInt(e.seconds)*g)},_build:function(){const e=this.element,i=this.options,r=["days","hours","minutes","seconds"],d=24*60*60*1e3,g=datetime().time(),_=this.strings;e.attr("id")||e.attr("id",this.id),e.addClass("countdown").addClass(`animate-${i.animate}`).addClass(i.clsCountdown),e.css("font-size",i.fontSize),this._setBreakpoint();const C=Math.round((this.breakpoint-g)/d);o.each(r,function(){const E=o("<div>").addClass(`part ${this}`).addClass(i.clsPart).attr("data-label",_[`label_${this}`]).appendTo(e);if(this==="days"&&E.addClass(i.clsDays),this==="hours"&&E.addClass(i.clsHours),this==="minutes"&&E.addClass(i.clsMinutes),this==="seconds"&&E.addClass(i.clsSeconds),o("<div>").addClass("digit").appendTo(E),o("<div>").addClass("digit").appendTo(E),this==="days"&&C>=100)for(let I=0;I<Math.floor(C/100)-2;I++)o("<div>").addClass("digit").appendTo(E)});const k=e.find(".digit");k.append(o("<span class='digit-placeholder'>").html("0")),k.append(o("<span class='digit-value'>").html("0")),this._fireEvent("countdown-create",{element:e}),i.start===!0?this.start():this.tick(),this.fontSize=Number.parseInt(e.css("font-size"))},_createEvents:function(){o(document).on("visibilitychange",()=>{document.hidden?this.pause():this.resume()},{ns:this.id})},blink:function(){this.element.toggleClass("blink"),this._fireEvent("blink",{time:this.current})},tick:function(){const e=this.element,i=this.options,r=24*60*60,d=60*60,g=60,_=1;let C;const k=datetime().time();let E,I,B,q;const Z=e.find(".days"),Q=e.find(".hours"),De=e.find(".minutes"),He=e.find(".seconds");if(C=Math.floor((this.breakpoint-k)/1e3),C<=-1){this.stop(),e.addClass(i.clsAlarm),this._fireEvent("alarm",{time:k});return}E=Math.floor(C/r),C-=E*r,this.current.d!==E&&(this.current.d=E,this.draw("days",E)),E===0&&this.zeroDaysFired===!1&&(this.zeroDaysFired=!0,Z.addClass(i.clsZero),this._fireEvent("zero",{part:"days",value:Z})),I=Math.floor(C/d),C-=I*d,this.current.h!==I&&(this.current.h=I,this.draw("hours",I)),E===0&&I===0&&this.zeroHoursFired===!1&&(this.zeroHoursFired=!0,Q.addClass(i.clsZero),this._fireEvent("zero",{part:"hours",value:Q})),B=Math.floor(C/g),C-=B*g,this.current.m!==B&&(this.current.m=B,this.draw("minutes",B)),E===0&&I===0&&B===0&&this.zeroMinutesFired===!1&&(this.zeroMinutesFired=!0,De.addClass(i.clsZero),this._fireEvent("zero",{part:"minutes",value:De})),q=Math.floor(C/_),this.current.s!==q&&(this.current.s=q,this.draw("seconds",q)),E===0&&I===0&&B===0&&q===0&&this.zeroSecondsFired===!1&&(this.zeroSecondsFired=!0,He.addClass(i.clsZero),this._fireEvent("zero",{part:"seconds",value:He})),this._fireEvent("tick",{days:E,hours:I,minutes:B,seconds:q})},draw:function(e,i){const r=this.element,d=this.options;let g,_,C,k,E,I,B;const q=this.duration,Z=this.fontSize||Number.parseInt(getComputedStyle(r[0]).getPropertyValue("font-size")),Q=(Be,we)=>{const Ie=Be.height();Be.siblings(".-old-digit").remove();const Oe=Be.clone().appendTo(Be.parent());Oe.css({top:`${-1*Ie}px`}),Be.addClass("-old-digit").animate({draw:{top:Ie,opacity:0},dur:q,ease:d.ease,onDone:function(){o(this).remove()}}),Oe.html(we).animate({draw:{top:0,opacity:[0,1]},dur:q,ease:d.ease})},De=(Be,we)=>{Be.siblings(".-old-digit").remove();const Ie=Be.clone().appendTo(Be.parent());Ie.css({opacity:0}),Be.addClass("-old-digit").animate({draw:{opacity:0},dur:q/2,ease:d.ease,onDone:function(){o(this).remove()}}),Ie.html(we).animate({draw:{opacity:1},dur:q/2,ease:d.ease})},He=(Be,we)=>{const Ie=r.height(),Oe=Z;Be.siblings(".-old-digit").remove();const Fe=Be.clone().appendTo(Be.parent());Fe.css({top:0,left:0,opacity:1}),Be.addClass("-old-digit").animate({draw:{top:Ie,opacity:0,fontSize:0},dur:q,ease:d.ease,onDone:function(){o(this).remove()}}),Fe.html(we).animate({draw:{top:0,opacity:1,fontSize:[0,Oe]},dur:q,ease:d.ease})};let Me=`${i}`;for(Me.length===1&&(Me=`0${i}`),I=Me.length,g=r.find(`.${e} .digit:not(.-old-digit)`),_=g.length,r.find(".-old-digit").remove(),B=0;B<I;B++)if(E=g.eq(_-1).find(".digit-value"),C=Math.floor(Number.parseInt(i)/10**B)%10,k=Number.parseInt(E.text()),_--,k!==C)switch(`${d.animate}`.toLowerCase()){case"slide":Q(E,C);break;case"fade":De(E,C);break;case"zoom":He(E,C);break;default:E.html(C)}},start:function(){const e=this.element;e.data("paused")!==!1&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.data("paused",!1),this._setBreakpoint(),this.tick(),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3))},stop:function(){const e=this.element;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.data("paused",!0),e.find(".digit").html("0"),this.current={d:0,h:0,m:0,s:0}},pause:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data("paused",!0)},resume:function(){this.element.data("paused",!1),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3)},reset:function(){const e=this.element,i=this.options;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.find(".part").removeClass(i.clsZero);const r=e.find(".digit").clear();r.append(o("<span class='digit-placeholder'>").html("0")),r.append(o("<span class='digit-value'>").html("0")),this._setBreakpoint(),e.data("paused",!1),this.tick(),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3)},resetWith:function(e){const i=this.element,r=this.options,d=["days","hours","minutes","seconds"];if(this.stop(),typeof e=="string"){i.attr("data-date",e);for(const g of d)r[g]=0;r.date=e}else if(typeof e=="object"){r.date=null;for(const g of d){const _=e[g]!==void 0?e[g]:0;i.attr(`data-${g}`,_),r[g]=_}}this.reset()},togglePlay:function(){this.element.attr("data-pause")===!0?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getBreakpoint:function(e){return e===!0?new Date(this.breakpoint):this.breakpoint},getLeft:function(){const g=new Date().getTime(),_=Math.floor(this.breakpoint-g);return{days:Math.round(_/864e5),hours:Math.round(_/36e5),minutes:Math.round(_/6e4),seconds:Math.round(_/1e3)}},changeAttribute:function(e,i){switch(e){case"data-pause":this.togglePlay();break;case"data-duration":this.duration=+i<=0||+i>=1e3?600:+i;break}},destroy:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),o(document).off("visibilitychange",{ns:this.id}),this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={startOnViewport:!1,counterDeferred:0,duration:2e3,value:0,from:0,timeout:0,delimiter:",",prefix:"",suffix:"",size:16,onStart:t.noop,onStop:t.noop,onTick:t.noop,onCounterCreate:t.noop};t.counterSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroCounterSetup<"u"&&t.counterSetup(globalThis.metroCounterSetup),t.Component("counter",{init:function(e,i){return this._super(i,e,f,{numbers:[],html:o(i).html(),started:!1,id:null}),this},_create:function(){this.id=Hooks.useId(this.element),this._createStruct(),this._createEvents(),this._fireEvent("counter-create")},_createStruct:function(){const e=this.element;this.elem,this.options,this.elem.value=0,e.css("font-size",this.options.size)},_createEvents:function(){this.options.startOnViewport&&Hooks.useEvent({effect:()=>{this.start()},target:this.elem,event:Hooks.EVENTS.VIEWPORT})},start:function(e,i){const r=this,d=this.elem,g=this.options;t.utils.isValue(i)&&(g.from=+i),t.utils.isValue(e)&&(g.value=+e),this.started=!0;const _=g.from,C=g.value;this._fireEvent("start"),o.animate({el:d,draw:{value:[_,C]},defer:g.timeout,dur:g.duration,onFrame:function(){r._fireEvent("tick",{value:this.value}),this.innerHTML=g.prefix+Number(this.value).format(0,0,g.delimiter)+g.suffix},onDone:()=>{r._fireEvent("stop")}})},reset:function(){this.started=!1,this.element.html(this.html)},changeAttribute:function(e,i){const r=this.options;e==="data-value"&&(r.value=+i),e==="data-from"&&(r.from=+i)},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={cubeDeferred:0,rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:"arrow",cellClick:!1,autoRestart:5e3,clsCube:"",clsCell:"",clsSide:"",clsSideLeft:"",clsSideRight:"",clsSideTop:"",clsSideLeftCell:"",clsSideRightCell:"",clsSideTopCell:"",clsAxis:"",clsAxisX:"",clsAxisY:"",clsAxisZ:"",custom:t.noop,onTick:t.noop,onCubeCreate:t.noop};t.cubeSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroCubeSetup<"u"&&t.cubeSetup(globalThis.metroCubeSetup),t.cubeDefaultRules=[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],t.Component("cube",{init:function(e,i){return this._super(i,e,f,{id:null,rules:null,interval:!1,ruleInterval:!1,running:!1,intervals:[]}),this},_create:function(){const e=this.element,i=this.options;i.rules===null?this.rules=t.cubeDefaultRules:this._parseRules(i.rules),this._createCube(),this._createEvents(),this._fireEvent("cube-create",{element:e})},_parseRules:function(e){if(e==null)return!1;if(t.utils.isObject(e))return this.rules=t.utils.isObject(e),!0;try{return this.rules=JSON.parse(e),!0}catch{return console.warn("Unknown or empty rules for cell flashing!"),!1}},_createCube:function(){const e=this.element,i=this.options,r=["left","right","top"],d=i.cells**2;e.addClass("cube").addClass(i.clsCube),e.attr("id")||e.attr("id",Hooks.useId(this.elem)),this.id=e.attr("id"),this._createCssForFlashColor(),this._createCssForCellSize(),o.each(r,function(){let C;C=o("<div>").addClass(`side ${this}-side`).addClass(i.clsSide).appendTo(e),this==="left"&&C.addClass(i.clsSideLeft),this==="right"&&C.addClass(i.clsSideRight),this==="top"&&C.addClass(i.clsSideTop);for(let k=0;k<d;k++){const E=o("<div>").addClass("cube-cell").addClass(`cell-id-${k+1}`).addClass(i.clsCell);E.data("id",k+1).data("side",this),E.appendTo(C),i.numbers===!0&&E.html(k+1)}});const g=e.find(".cube-cell");i.color!==null&&(Farbe.Routines.isColor(i.color)?g.css({backgroundColor:i.color,borderColor:i.color}):g.addClass(i.color));const _=["x","y","z"];o.each(_,function(){const C=o("<div>").addClass(`axis ${i.axisStyle}`).addClass(`axis-${this}`).addClass(i.clsAxis);this==="x"&&C.addClass(i.clsAxisX),this==="y"&&C.addClass(i.clsAxisY),this==="z"&&C.addClass(i.clsAxisZ),C.appendTo(e)}),i.showAxis===!1&&e.find(".axis").hide(),this._run()},_run:function(){const e=this.element,i=this.options;let r=0;clearInterval(this.interval),e.find(".cube-cell").removeClass("light"),i.custom!==t.noop?t.utils.exec(i.custom,[e]):(e.find(".cube-cell").removeClass("light"),this._start(),r=t.utils.isObject(this.rules)?t.utils.objectLength(this.rules):0,this.interval=setInterval(()=>{this._start()},r*i.flashInterval))},_createCssForCellSize:function(){const e=this.element,i=this.options,r=t.sheet;if(i.margin===8&&i.cells===4)return;const d=Number.parseInt(t.utils.getStyleOne(e,"width")),g=Math.ceil((d/2-i.margin*i.cells*2)/i.cells);t.utils.addCssRule(r,`#${e.attr("id")} .side .cube-cell`,`width: ${g}px!important; height: ${g}px!important; margin: ${i.margin}px!important;`)},_createCssForFlashColor:function(){const e=this.element,i=this.options,r=t.sheet;let d,g;const _=[],C=[];let k;if(i.flashColor!==null){for(d=`0 0 10px ${Farbe.Routines.toRGBA(Farbe.Routines.parse(i.flashColor),1)}`,g=`0 0 10px ${Farbe.Routines.toRGBA(Farbe.Routines.parse(i.flashColor),i.attenuation)}`,k=0;k<3;k++)_.push(d),C.push(g);t.utils.addCssRule(r,`@keyframes pulsar-cell-${e.attr("id")}`,`0%, 100% { box-shadow: ${_.join(",")}} 50% { box-shadow: ${C.join(",")} }`),t.utils.addCssRule(r,`#${e.attr("id")} .side .cube-cell.light`,`animation: pulsar-cell-${e.attr("id")} 2.5s 0s ease-out infinite; background-color: ${i.flashColor}!important; border-color: ${i.flashColor}!important;`)}},_createEvents:function(){const e=this.element,i=this.options;o(globalThis).on(t.events.blur,()=>{i.stopOnBlur===!0&&this.running===!0&&this._stop()},{ns:e.attr("id")}),o(globalThis).on(t.events.focus,()=>{i.stopOnBlur===!0&&this.running===!1&&this._start()},{ns:e.attr("id")}),e.on(t.events.click,".cube-cell",function(){i.cellClick===!0&&o(this).toggleClass("light")})},_start:function(){this.element.find(".cube-cell").removeClass("light"),this.running=!0,o.each(this.rules,(i,r)=>{this._execRule(i,r)})},_stop:function(){this.running=!1,clearInterval(this.interval),o.each(this.intervals,function(){clearInterval(this)})},_tick:function(e,i){const r=this.options,d=i||r.flashInterval*e,g=setTimeout(()=>{this._fireEvent("tick",{index:e}),clearInterval(g),t.utils.arrayDelete(this.intervals,g)},d);this.intervals.push(g)},_toggle:function(e,i,r,d){const g=d||this.options.flashInterval*r,_=setTimeout(()=>{e[i==="on"?"addClass":"removeClass"]("light"),clearInterval(_),t.utils.arrayDelete(this.intervals,_)},g);this.intervals.push(_)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(e,i){const r=this.element,d=this.options,g=this.rules;if(!(g==null||g[e]===void 0)){clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),r.find(".cube-cell").removeClass("light");for(let _=0;_<=e;_++)this._execRule(_,g[_],i);t.utils.isInt(d.autoRestart)&&d.autoRestart>0&&(this.ruleInterval=setTimeout(()=>{this._run()},d.autoRestart))}},_execRule:function(e,i,r){const d=this,g=this.element,_=["left","right","top"];this._tick(e,r),o.each(_,function(){var I,B;const C=`.${this}-side`,k=(I=i.on)!=null&&I[this]?i.on[this]:!1,E=(B=i.off)!=null&&B[this]?i.off[this]:!1;k!==!1&&o.each(k,function(){const q=g.find(`${C} .cell-id-${this}`);d._toggle(q,"on",e,r)}),E!==!1&&o.each(E,function(){const q=g.find(`${C} .cell-id-${this}`);d._toggle(q,"off",e,r)})})},rule:function(e){if(e===void 0)return this.rules;this._parseRules(e)===!0&&(this.options.rules=e,this.stop(),this.element.find(".cube-cell").removeClass("light"),this._run())},axis:function(e){const i=e?"show":"hide";this.element.find(".axis")[i]()},changeRules:function(){const e=this.element,i=this.options,r=e.attr("data-rules");this._parseRules(r)===!0&&(this.stop(),e.find(".cube-cell").removeClass("light"),i.rules=r,this._run())},changeAxisVisibility:function(){const e=this.element,r=JSON.parse(e.attr("data-show-axis"))===!0?"show":"hide";e.find(".axis")[r]()},changeAxisStyle:function(){const e=this.element,i=e.attr("data-axis-style");e.find(".axis").removeClass("arrow line no-style").addClass(i)},changeAttribute:function(e){switch(e){case"data-rules":this.changeRules();break;case"data-show-axis":this.changeAxisVisibility();break;case"data-axis-style":this.changeAxisStyle();break}},destroy:function(){const e=this.element;return clearInterval(this.interval),this.interval=null,o(globalThis).off(t.events.blur,{ns:e.attr("id")}),o(globalThis).off(t.events.focus,{ns:e.attr("id")}),e.off(t.events.click,".cube-cell"),e}})})(Metro,Dom),((t,o)=>{let f={customCheckboxDeferred:0,stateOn:"✓",stateOff:"✗",captionOn:"",captionOff:"",captionPosition:"right",clsCustomCheckbox:"",clsIcon:"",clsIconOn:"",clsIconOff:"",clsCaption:"",clsCaptionOn:"",clsCaptionOff:"",onCustomCheckboxCreate:t.noop};t.customCheckboxSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroCustomCheckboxSetup<"u"&&t.customCheckboxSetup(globalThis.metroCustomCheckboxSetup),t.Component("custom-checkbox",{init:function(e,i){return this._super(i,e,f),this},_create:function(){const e=this.element,i=this.options,r=e.wrap(o("<label>").addClass("custom-checkbox").addClass(i.clsCustomCheckbox)),d=o("<span>").addClass("icon").addClass(i.clsIcon).appendTo(r);if(e.attr("type","checkbox"),e.attr("readonly")&&e.on("click",g=>{g.preventDefault()}),i.stateOn&&o("<span>").addClass("state-on").addClass(i.clsIconOn).html(i.stateOn).appendTo(d),i.stateOff&&o("<span>").addClass("state-off").addClass(i.clsIconOff).html(i.stateOff).appendTo(d),i.captionOn||i.captionOff){const g=o("<span>").addClass("caption").addClass(i.clsCaption).appendTo(r);i.captionOn&&o("<span>").addClass("caption-state-on").addClass(i.clsCaptionOn).html(i.captionOn).appendTo(g),i.captionOff&&o("<span>").addClass("caption-state-off").addClass(i.clsCaptionOff).html(i.captionOff).appendTo(g)}i.captionPosition==="left"&&r.addClass("caption-left"),e[0].className="",e.is(":disabled")?this.disable():this.enable(),this._fireEvent("customCheckbox-create")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(e){const i=this.element;return t.utils.isValue(e)?i.prop("checked",e===1):i.prop("checked",!t.utils.bool(i.prop("checked"))),this},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break}},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let f={label:"",datepickerDeferred:0,gmt:0,format:"YYYY-MM-DD",inputFormat:null,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,defaultYearDistance:100,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsMonth:"",clsDay:"",clsYear:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"✓",cancelButtonIcon:"𐄂",onSet:t.noop,onOpen:t.noop,onClose:t.noop,onScroll:t.noop,onDatePickerCreate:t.noop};t.datePickerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroDatePickerSetup<"u"&&t.datePickerSetup(globalThis.metroDatePickerSetup),t.Component("date-picker",{init:function(e,i){return this._super(i,e,f,{picker:null,isOpen:!1,value:datetime(),listTimer:{day:null,month:null,year:null}}),this},_create:function(){const e=this.element,i=this.options,r=this.locale,d=datetime();i.distance<1&&(i.distance=1),t.utils.isValue(e.val())&&(i.value=e.val()),t.utils.isValue(i.value)&&(this.value=i.inputFormat?Datetime.from(i.value,i.inputFormat,r):datetime(i.value)),i.minYear===null&&(i.minYear=d.year()-i.defaultYearDistance),i.maxYear===null&&(i.maxYear=d.year()+i.defaultYearDistance),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("datepicker-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options,r=this.locale;let d,g,_,C,k,E,I,B;if(Hooks.useId(this.elem),d=o("<div>").addClass(`wheel-picker date-picker ${e[0].className}`).addClass(i.clsPicker),d.attr("id")||d.attr("id",Hooks.useId(e[0])),d.insertBefore(e),e.appendTo(d),i.label){const Q=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(d);e.attr("id")&&Q.attr("for",e.attr("id")),e.attr("dir")==="rtl"&&Q.addClass("rtl")}I=o("<div>").addClass("date-wrapper").appendTo(d),i.month===!0&&(g=o("<div>").addClass("month").addClass(i.clsPart).addClass(i.clsMonth).appendTo(I)),i.day===!0&&(_=o("<div>").addClass("day").addClass(i.clsPart).addClass(i.clsDay).appendTo(I)),i.year===!0&&(C=o("<div>").addClass("year").addClass(i.clsPart).addClass(i.clsYear).appendTo(I));const q=o("<div>").addClass("select-wrapper").appendTo(d);if(B=o("<div>").addClass("select-block").appendTo(q),i.month===!0){for(g=o("<ul>").addClass("sel-month").appendTo(B),k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(g);for(k=0;k<12;k++){const Q=Datetime.getLocale(r).months[k];o("<li>").addClass(`js-month-${k} js-month-real-${Q.toLowerCase()}`).html(Q).data("value",k).appendTo(g)}for(k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(g)}if(i.day===!0){for(_=o("<ul>").addClass("sel-day").appendTo(B),k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(_);for(k=0;k<31;k++)o("<li>").addClass(`js-day-${k} js-day-real-${k+1}`).html(k+1).data("value",k+1).appendTo(_);for(k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(_)}if(i.year===!0){for(C=o("<ul>").addClass("sel-year").appendTo(B),k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(C);for(k=i.minYear,E=0;k<=i.maxYear;k++,E++)o("<li>").addClass(`js-year-${E} js-year-real-${k}`).html(k).data("value",k).appendTo(C);for(k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(C)}B.height((i.distance*2+1)*40);const Z=o("<div>").addClass("action-block").appendTo(q);if(o("<button>").attr("type","button").addClass("button action-today").addClass(i.clsButton).addClass(i.clsTodayButton).html(`<span class="caption">${this.strings.label_today}</span>`).appendTo(Z),o("<button>").attr("type","button").addClass("button action-ok").addClass(i.clsButton).addClass(i.clsOkButton).html(`<span class="icon">${i.okButtonIcon}</span>`).appendTo(Z),o("<button>").attr("type","button").addClass("button action-cancel").addClass(i.clsButton).addClass(i.clsCancelButton).html(`<span class="icon">${i.cancelButtonIcon}</span>`).appendTo(Z),e[0].className="",i.copyInlineStyles===!0)for(k=0;k<e[0].style.length;k++)d.css(e[0].style[k],e.css(e[0].style[k]));e.prop("disabled")&&d.addClass("disabled"),this.picker=d},_createEvents:function(){const e=this,i=this.options,r=this.picker;r.on("touchstart",".select-block ul",function(g){if(g.changedTouches)return;let _=t.utils.pageXY(g).y;o(document).on("touchmove",C=>{this.scrollTop-=i.scrollSpeed*(_>t.utils.pageXY(C).y?-1:1),_=t.utils.pageXY(C).y},{ns:r.attr("id")}),o(document).on("touchend",()=>{o(document).off(t.events.move,{ns:r.attr("id")}),o(document).off(t.events.stop,{ns:r.attr("id")})},{ns:r.attr("id")})}),r.on(t.events.click,g=>{e.isOpen===!1&&e.open(),g.stopPropagation()}),r.on(t.events.click,".action-ok",g=>{const _=r.find(".sel-month li.active"),C=r.find(".sel-day li.active"),k=r.find(".sel-year li.active"),E=_.length===0?e.value.value.getMonth():_.data("value"),I=C.length===0?e.value.value.getDate():C.data("value"),B=k.length===0?e.value.value.getFullYear():k.data("value");e.value=datetime(B,E,I),e._set(),e.close(),g.preventDefault(),g.stopPropagation()}),r.on(t.events.click,".action-cancel",g=>{e.close(),g.preventDefault(),g.stopPropagation()});const d=150;o.each(["month","day","year"],function(){const g=r.find(`.sel-${this}`),_=Hooks.useDebounce(C=>{e.listTimer[this]=null;const k=Math.round(Math.ceil(g.scrollTop())/40),E=g.find(`.js-${this}-${k}`),I=E.position().top-i.distance*40;g.find(".active").removeClass("active"),g[0].scrollTop=I,E.addClass("active"),t.utils.exec(i.onScroll,[E,g,r],g[0])},d);g.on("scroll",_)}),r.on(t.events.click,"ul li",function(g){const _=o(this),C=_.closest("ul"),k=_.position().top-i.distance*40;C.find(".active").removeClass("active"),o.animate({el:C[0],draw:{scrollTop:k},dur:300}),C[0].scrollTop=k,_.addClass("active"),t.utils.exec(i.onScroll,[_,C,r],C[0])}),r.on(t.events.click,".action-today",g=>{const _=datetime(),C=_.month(),k=_.day(),E=_.year();r.find(`.sel-month li.js-month-${C}`).click(),r.find(`.sel-day li.js-day-real-${k}`).click(),r.find(`.sel-year li.js-year-real-${E}`).click(),g.preventDefault(),g.stopPropagation()})},_correct:function(){const e=this.value.month(),i=this.value.day(),r=this.value.year();this.value=datetime(r,e,i)},_set:function(){const e=this.element,i=this.options,r=this.picker,d=Datetime.getLocale(this.locale).months[this.value.month()],g=this.value.day(),_=this.value.year();i.month===!0&&r.find(".month").html(d),i.day===!0&&r.find(".day").html(g),i.year===!0&&r.find(".year").html(_),e.val(this.value.format(i.format,this.locale)).trigger("change"),this._fireEvent("set",{value:this.value.val(),elementValue:e.val(),picker:r})},open:function(){const e=this.options,i=this.picker,r=this.value.month(),d=this.value.day()-1,g=this.value.year(),_=i.find(".select-wrapper");if(o.each(o(".date-picker"),function(){o(this).find("input").each(function(){t.getPlugin(this,"datepicker").close()})}),_.show(0),i.find("li").removeClass("active"),e.openMode==="auto"?(t.utils.inViewport(_[0])||_.parent().addClass("drop-up-select"),t.utils.inViewport(_[0])||(_.parent().removeClass("drop-up-select"),_.parent().addClass("drop-as-dialog"))):e.openMode==="dialog"?_.parent().addClass("drop-as-dialog"):e.openMode==="up"&&_.parent().addClass("drop-up-select"),e.month===!0){const C=i.find(".sel-month");C.scrollTop(0).animate({draw:{scrollTop:C.find(`li.js-month-${r}`).addClass("active").position().top-40*e.distance},dur:100})}if(e.day===!0){const C=i.find(".sel-day");C.scrollTop(0).animate({draw:{scrollTop:C.find(`li.js-day-${d}`).addClass("active").position().top-40*e.distance},dur:100})}if(e.year===!0){const C=i.find(".sel-year");C.scrollTop(0).animate({draw:{scrollTop:C.find(`li.js-year-real-${g}`).addClass("active").position().top-40*e.distance},dur:100})}this.isOpen=!0,this._fireEvent("open",{value:this.value.val(),picker:i})},close:function(){const e=this.picker,i=this.options;e.find(".select-wrapper").hide(0),i.openMode==="auto"&&e.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{value:this.value.val(),picker:e})},val:function(e){const i=this.options;if(!t.utils.isValue(e))return this.element.val();this.value=i.inputFormat?Datetime.from(e,i.inputFormat,this.locale):datetime(e),this._set()},date:function(e,i){if(e===void 0)return this.value.val();try{this.value=Datetime.from(e,i,this.locale),this._set()}catch{return!1}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,i){switch(e){case"disabled":this.toggleState();break;case"data-value":this.val(i);break;case"data-format":this.options.format=i,this._set();break}},destroy:function(){const e=this.element,i=this.picker;return o.each(["moth","day","year"],function(){i.find(`.sel-${this}`).off("scroll")}),i.off(t.events.start,".select-block ul"),i.off(t.events.click),i.off(t.events.click,".action-ok"),i.off(t.events.click,".action-cancel"),e}}),o(document).on(t.events.click,()=>{o.each(o(".date-picker"),function(){o(this).find("input").each(function(){t.getPlugin(this,"datepicker").close()})})})})(Metro,Dom),((t,o)=>{const _={note:`
    <svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8.75 3.5V2C8.75 1.59 8.41 1.25 8 1.25C7.59 1.25 7.25 1.59 7.25 2V3.56C7.5 3.53 7.73 3.5 8 3.5H8.75Z"/>
        <path d="M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H16C16.27 3.5 16.5 3.53 16.75 3.56Z"/>
        <path d="M16.75 3.56V5C16.75 5.41 16.41 5.75 16 5.75C15.59 5.75 15.25 5.41 15.25 5V3.5H8.75V5C8.75 5.41 8.41 5.75 8 5.75C7.59 5.75 7.25 5.41 7.25 5V3.56C4.3 3.83 3 5.73 3 8.5V17C3 20 4.5 22 8 22H16C19.5 22 21 20 21 17V8.5C21 5.73 19.7 3.83 16.75 3.56ZM12 16.75H8C7.59 16.75 7.25 16.41 7.25 16C7.25 15.59 7.59 15.25 8 15.25H12C12.41 15.25 12.75 15.59 12.75 16C12.75 16.41 12.41 16.75 12 16.75ZM16 11.75H8C7.59 11.75 7.25 11.41 7.25 11C7.25 10.59 7.59 10.25 8 10.25H16C16.41 10.25 16.75 10.59 16.75 11C16.75 11.41 16.41 11.75 16 11.75Z"/>
    </svg>
    `,info:`
    <svg width="800px" height="800px" viewBox="-160 0 512 512" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"/>
    </svg>
    `,warning:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 294.995 294.995" xml:space="preserve">
        <path d="M291.874,248.279L165.605,26.526c-4.007-7.037-10.776-11.26-18.107-11.26s-14.101,4.202-18.107,11.239L3.121,248.238 c-3.979,6.989-4.164,15.013-0.493,21.326c3.67,6.313,10.663,10.165,18.705,10.165h252.329c8.042,0,15.035-3.852,18.705-10.165 C296.038,263.251,295.854,255.268,291.874,248.279z M146.665,86.229c9.665,0,17.5,7.835,17.5,17.5v63c0,9.665-7.835,17.5-17.5,17.5 c-9.665,0-17.5-7.835-17.5-17.5v-63C129.165,94.064,137,86.229,146.665,86.229z M147.498,204.005c9.665,0,17.5,7.835,17.5,17.5 c0,9.665-7.835,17.5-17.5,17.5c-9.665,0-17.5-7.835-17.5-17.5C129.998,211.84,137.833,204.005,147.498,204.005z"/>
    </svg>
    `,caution:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"  xml:space="preserve">
        <path class="st0" d="M387.317,0.005H284.666h-57.332h-102.65L0,124.688v102.67v57.294v102.67l124.684,124.674h102.65h57.332
            h102.651L512,387.321v-102.67v-57.294v-102.67L387.317,0.005z M255.45,411.299c-19.082,0-34.53-15.467-34.53-34.549
            c0-19.053,15.447-34.52,34.53-34.52c19.082,0,34.53,15.467,34.53,34.52C289.98,395.832,274.532,411.299,255.45,411.299z
             M283.414,278.692c0,15.448-12.516,27.964-27.964,27.964c-15.458,0-27.964-12.516-27.964-27.964l-6.566-135.368
            c0-19.072,15.447-34.54,34.53-34.54c19.082,0,34.53,15.467,34.53,34.54L283.414,278.692z"/>
    </svg>
    `,tip:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 256 256" xml:space="preserve">
        <path d="M216.2,92.5c-5.2-5.3-13.8-5.4-19-0.1L157.8,134l-0.3,0.3c-25.5,0.1-46.2,16.8-46.2,37.3h-5.8c0-23.6,23.1-42.8,51.6-43.1
            l-0.1-19.4c0,0-0.1-85.4-0.1-85.5c-0.7-5.8-5.6-10.3-11.7-10.3c-6.5,0-11.7,5.3-11.7,11.7c0,0.2,0,72.9,0,72.9l-5.2,0.2l-0.1-81.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8v81h-5.6l0.1-63.6c0-6.5-5.3-11.7-11.8-11.7S75.7,28,75.7,34.4V98h-5.2l0.1-34.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8c0,108.4,0,108.4,0,111c0,13.2,6.8,24.4,16.2,28.1v48.4h0.2v0.4l81.2-0.4v-51.1
            c2.5-0.9,5.1-2,7.6-3.3c15.4-7.9,26.1-20.3,29.5-32.5c2.9-4.3,36.8-56.2,36.8-56.2C221.4,103.7,220.6,96.9,216.2,92.5z"/>
    </svg>  
    `,success:`
        <svg width="800px" height="800px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path d="M24,2A22,22,0,1,0,46,24,21.9,21.9,0,0,0,24,2ZM35.4,18.4l-14,14a1.9,1.9,0,0,1-2.8,0l-5.9-5.9a2.2,2.2,0,0,1-.4-2.7,2,2,0,0,1,3.1-.2L20,28.2,32.6,15.6a2,2,0,0,1,2.8,2.8Z"/>
        </svg>    
    `};let C={directive:"note",showIcon:!0,title:"default",style:1,onDirectiveCreate:t.noop};t.directiveSetup=k=>{C=o.extend({},C,k)},typeof globalThis.metroDirectiveSetup<"u"&&t.directiveSetup(globalThis.metroDirectiveSetup),t.Component("directive",{init:function(k,E){return this._super(E,k,C,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("directive-create")},_createStructure:function(){const k=this.element,E=this.options,I=k.wrap("<div>").addClass("directive").addClass(`directive-style-${E.style}`).addClass(`directive-${E.directive}`),B=o("<div>").addClass("directive-title").html(E.title==="default"?this.strings[`label_${E.directive.toLowerCase()}`].toUpperCase():E.title);E.showIcon&&B.prepend(o("<span>").addClass("icon").html(_[E.directive])),I.prepend(B),this.component=I},_createEvents:()=>{},changeAttribute:(k,E)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={donutDeferred:0,size:100,hole:.8,value:0,background:"transparent",color:"",stroke:"#d1d8e7",fill:"#49649f",fontSize:0,total:100,cap:"%",showText:!0,showValue:!1,animate:0,onChange:t.noop,onDrawValue:e=>e,onDonutCreate:t.noop};t.donutSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroDonutSetup<"u"&&t.donutSetup(globalThis.metroDonutSetup),t.Component("donut",{init:function(e,i){return this._super(i,e,f,{value:0,animation_change_interval:null}),this},_create:function(){const e=this.element,i=this.options;e.addClass("donut"),this._setElementSize(),this._draw(),this._addEvents(),this.val(i.value),this._fireEvent("donut-create",{element:e})},_setElementSize:function(){const e=this.element,i=this.options,r=i.size;e.css({width:r,background:i.background}),e.css({height:e.width()})},_draw:function(){const e=this.element,i=this.options;let r="";const d=e.width()/2,g=d*(1-(1-i.hole)/2),_=d*(1-i.hole),C=`rotate(-90 ${d},${d})`,k=i.fontSize===0?g*i.hole*.6:i.fontSize;r+="<svg>",r+=`   <circle class='donut-back' r='${g}px' cx='${d}px' cy='${d}px' transform='${C}' fill='none' stroke='${i.stroke}' stroke-width='${_}'/>`,r+=`   <circle class='donut-fill' r='${g}px' cx='${d}px' cy='${d}px' transform='${C}' fill='none' stroke='${i.fill}' stroke-width='${_}'/>`,i.showText===!0&&(r+=`   <text class='donut-title' x='${d}px' y='${d}px' dy='${k/3}px' text-anchor='middle' fill='${i.color!==""?i.color:i.fill}' font-size='${k}px'></text>`),r+="</svg>",e.html(r)},_addEvents:function(){o(globalThis).on("resize",()=>{this._setElementSize(),this._draw(),this.val(this.value)})},_setValue:function(e){const i=this.element,r=this.options,d=i.find(".donut-fill"),g=i.find(".donut-title"),C=i.width()/2*(1-(1-r.hole)/2),k=Math.round(2*Math.PI*C),E=r.showValue?e:t.utils.percent(r.total,e,!0),I=Math.round(+e*k/r.total);let B=d.attr("stroke-dasharray");typeof B>"u"?B=0:B=+B.split(" ")[0];const q=I-B;d.animate({draw:function(Z,Q){o(this).attr("stroke-dasharray",`${B+q*Q} ${k}`)},dur:r.animate}),g.html(t.utils.exec(r.onDrawValue,[E+r.cap]))},val:function(e){const i=this.options;if(e===void 0)return this.value;if(Number.parseInt(e)<0||Number.parseInt(e)>i.total)return!1;this._setValue(e),this.value=e,this._fireEvent("change",{value:this.value})},setColor:function(e){const i=["background","fill","stroke","color"];return o.each(e,(r,d)=>{i.indexOf(r)!==-1&&(this.options[r]=d)}),this._draw(),this.val(this.value),this},changeValue:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(e,i){switch(e){case"data-value":this.changeValue();break;case"data-background":this.setColor({background:i});break;case"data-fill":this.setColor({fill:i});break;case"data-stroke":this.setColor({stroke:i});break;case"data-color":this.setColor({color:i});break}},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let f={height:"auto",multiSelect:!1,moveRightIcon:"&rsaquo;",moveRightAllIcon:"&raquo;",moveLeftIcon:"&lsaquo;",moveLeftAllIcon:"&laquo;",clsBox:"",clsMoveButton:"",clsMoveRightButton:"",clsMoveRightAllButton:"",clsMoveLeftButton:"",clsMoveLeftAllButton:"",clsListLeft:"",clsListRight:"",onDoubleSelectBoxCreate:t.noop};t.doubleSelectBoxSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroDoubleSelectBoxSetup<"u"&&t.doubleSelectBoxSetup(globalThis.metroDoubleSelectBoxSetup),t.Component("double-select-box",{init:function(e,i){return this._super(i,e,f,{select1:null,select2:null,list1:null,list2:null}),this},_create:function(){if(this.element.children("select").length!==2)throw new Error("Component DoubleSelectBox required two select elements!");this._createStructure(),this._createEvents(),this._fireEvent("double-select-box-create")},_drawList:function(){this.list1.clear(),this.select1.find("option").each((e,i)=>{const r=o(i),d=r.attr("data-icon");let g=r.attr("data-template")?r.attr("data-template").replace(/\$1/g,r.text()):r.text();d&&(g=o("<span>").addClass("icon").append(d).outerHTML()+g),this.list1.append(o("<li>").html(g).attr("data-value",i.value).data("option",i))}),this.list2.clear(),this.select2.find("option").each((e,i)=>{const r=o(i),d=r.attr("data-icon");let g=r.attr("data-template")?r.attr("data-template").replace(/\$1/g,r.text()):r.text();d&&(g=o("<span>").addClass("icon").append(d).outerHTML()+g),this.list2.append(o("<li>").html(g).attr("data-value",i.value).data("option",i))})},_createStructure:function(){const e=this.element,i=this.options,r=e.children("select"),d=r.eq(0),g=r.eq(1),_=o("<div>").addClass("controls").insertBefore(g);e.addClass("double-select-box").addClass(i.clsBox).css({height:i.height}),r.prop("multiple",!0),_.append(o([o("<button>").attr("type","button").addClass("button square small --move-right").addClass(i.clsMoveButton).addClass(i.clsMoveRightButton).html(`<span class="icon">${i.moveRightIcon}</span>`),o("<button>").attr("type","button").addClass("button square small --move-right-all").addClass(i.clsMoveButton).addClass(i.clsMoveRightAllButton).html(`<span class="icon">${i.moveRightAllIcon}</span>`),o("<button>").attr("type","button").addClass("button square small --move-left-all").addClass(i.clsMoveButton).addClass(i.clsMoveLeftAllButton).html(`<span class="icon">${i.moveLeftAllIcon}</span>`),o("<button>").attr("type","button").addClass("button square small --move-left").addClass(i.clsMoveButton).addClass(i.clsMoveLeftButton).html(`<span class="icon">${i.moveLeftIcon}</span>`)]));const C=o("<ul>").addClass("--list1").addClass(i.clsListLeft).insertBefore(d),k=o("<ul>").addClass("--list2").addClass(i.clsListRight).insertBefore(g);this.select1=d,this.select2=g,this.list1=C,this.list2=k,this._drawList()},_moveItems:(e,i)=>{o.each(e,function(){const r=o(this),d=r.data("option");o(d).appendTo(i[0]),r.removeClass("active").appendTo(i[1])})},_move:function(e,i){i==="selected"?e==="ltr"?this._moveItems(this.list1.find("li.active"),[this.select2,this.list2]):this._moveItems(this.list2.find("li.active"),[this.select1,this.list1]):e==="ltr"?this._moveItems(this.list1.find("li"),[this.select2,this.list2]):this._moveItems(this.list2.find("li"),[this.select1,this.list1])},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.find("li");d.on("click",function(){const g=o(this);r.multiSelect===!1&&(e.list1.find("li").removeClass("active"),e.list2.find("li").removeClass("active")),g.addClass("active")}),d.on("dblclick",function(){const g=o(this),_=g.parent().hasClass("--list1")?"ltr":"rtl",C="selected";e.list1.find("li").removeClass("active"),e.list2.find("li").removeClass("active"),g.addClass("active"),e._move(_,C)}),i.on("click","button",function(){const g=o(this);if(g.hasClass("--move-right"))e._move("ltr","selected");else if(g.hasClass("--move-right-all"))e._move("ltr","all");else if(g.hasClass("--move-left"))e._move("rtl","selected");else if(g.hasClass("--move-left-all"))e._move("rtl","all");else throw new Error("Pressed unregistered button!")})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={doubleSliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:t.position.BOTTOM,valueMin:null,valueMax:null,hint:!1,hintAlways:!1,hintPositionMin:t.position.TOP,hintPositionMax:t.position.TOP,hintMaskMin:"$1",hintMaskMax:"$1",target:null,size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsMarker:"",clsMarkerMin:"",clsMarkerMax:"",clsHint:"",clsHintMin:"",clsHintMax:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:t.noop,onStop:t.noop,onMove:t.noop,onChange:t.noop,onChangeValue:t.noop,onFocus:t.noop,onBlur:t.noop,onDoubleSliderCreate:t.noop};t.doubleSliderSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroDoubleSliderSetup<"u"&&t.doubleSliderSetup(globalThis.metroDoubleSliderSetup),t.Component("double-slider",{init:function(e,i){return this._super(i,e,f,{slider:null,valueMin:null,valueMax:null,keyInterval:!1,id:null}),this},_create:function(){const e=this.element,i=this.options;this.id=Hooks.useId(this.elem),this.valueMin=t.utils.isValue(i.valueMin)?+i.valueMin:+i.min,this.valueMax=t.utils.isValue(i.valueMax)?+i.valueMax:+i.max,this._createSlider(),this._createEvents(),this.val(this.valueMin,this.valueMax),this._fireEvent("double-slider-create",{element:e})},_createSlider:function(){const e=this.element,i=this.options,r=o("<div>").addClass("slider-wrapper"),d=o("<div>").addClass("slider").addClass(i.clsSlider).addClass(this.elem.className),g=o("<div>").addClass("backside").addClass(i.clsBackside),_=o("<div>").addClass("complete").addClass(i.clsComplete),C=o("<button>").attr("type","button").addClass("marker marker-min").addClass(i.clsMarker).addClass(i.clsMarkerMin),k=o("<button>").attr("type","button").addClass("marker marker-max").addClass(i.clsMarker).addClass(i.clsMarkerMax),E=o("<div>").addClass("hint hint-min").addClass(`${i.hintPositionMin}-side`).addClass(i.clsHint).addClass(i.clsHintMin),I=o("<div>").addClass("hint hint-max").addClass(`${i.hintPositionMax}-side`).addClass(i.clsHint).addClass(i.clsHintMax);let B;if(i.size>0&&d.outerWidth(i.size),d.insertBefore(e),e.appendTo(d),r.insertBefore(d),d.appendTo(r),g.appendTo(d),_.appendTo(d),C.appendTo(d),k.appendTo(d),E.appendTo(C),I.appendTo(k),i.hintAlways===!0&&o([E,I]).css({display:"block"}).addClass("permanent-hint"),i.showMinMax===!0){const q=o("<div>").addClass("slider-min-max").addClass(i.clsMinMax);o("<span>").addClass("slider-text-min").addClass(i.clsMin).html(`${i.min}`).appendTo(q),o("<span>").addClass("slider-text-max").addClass(i.clsMax).html(`${i.max}`).appendTo(q),i.minMaxPosition===t.position.TOP?q.insertBefore(d):q.insertAfter(d)}if(e[0].className="",i.copyInlineStyles===!0)for(B=0;B<e[0].style.length;B++)d.css(e[0].style[B],e.css(e[0].style[B]));e.is(":disabled")?this.disable():this.enable(),this.slider=d},_createEvents:function(){const e=this,i=this.slider,r=this.options,d=i.find(".marker");d.on(t.events.startAll,function(){const g=o(this),_=g.find(".hint");g.addClass("active"),r.hint===!0&&r.hintAlways!==!0&&_.fadeIn(300),o(document).on(t.events.moveAll,C=>{e._move(C),e._fireEvent("move",{min:e.valueMin,max:e.valueMax})},{ns:e.id}),o(document).on(t.events.stopAll,()=>{i.find(".marker").removeClass("active"),o(document).off(t.events.moveAll,{ns:e.id}),o(document).off(t.events.stopAll,{ns:e.id}),r.hintAlways!==!0&&_.fadeOut(300),e._fireEvent("stop",{min:e.valueMin,max:e.valueMax})},{ns:e.id}),e._fireEvent("start",{min:e.valueMin,max:e.valueMax})}),d.on(t.events.focus,()=>{e._fireEvent("focus",{min:e.valueMin,max:e.valueMax})}),d.on(t.events.blur,()=>{e._fireEvent("blur",{min:e.valueMin,max:e.valueMax})}),o(globalThis).on(t.events.resize,()=>{e.val(e.valueMin,e.valueMax)},{ns:e.id})},_convert:function(e,i){const r=this.slider,d=this.options,g=r.outerWidth()-r.find(".marker").outerWidth();switch(i){case"pix2prc":return e*100/g;case"pix2val":return this._convert(e,"pix2prc")*((d.max-d.min)/100)+d.min;case"val2prc":return(e-d.min)/((d.max-d.min)/100);case"prc2pix":return e/(100/g);case"val2pix":return this._convert(this._convert(e,"val2prc"),"prc2pix")}return 0},_correct:function(e){let i=e;const r=this.options.accuracy,d=this.options.min,g=this.options.max,_=C=>C%1===0?0:C.toString().split(".")[1].length;return r===0||Number.isNaN(r)?i:(i=Math.round(e/r)*r,i<d&&(i=d),i>g&&(i=g),i.toFixed(_(r)))},_move:function(e){const r=this.slider.find(".marker.active").hasClass("marker-min"),d=this.slider,g=d.offset(),_=d.find(".marker").outerWidth(),C=d.find(".marker-min"),k=d.find(".marker-max"),E=d.outerWidth();let I,B;const q=t.utils.pageXY(e).x-g.left-_/2;r?(I=0,B=Number.parseInt(k.css("left"))-_):(I=Number.parseInt(C.css("left"))+_,B=E-_),!(q<I||q>B)&&(this[r?"valueMin":"valueMax"]=this._correct(this._convert(q,"pix2val")),this._redraw())},_hint:function(){const e=this,i=this.options;this.slider.find(".hint").each(function(){const g=o(this),_=g.hasClass("hint-min"),C=_?i.hintMaskMin:i.hintMaskMax,k=+(_?e.valueMin:e.valueMax)||0;g.text(C.replace("$1",k.toFixed(t.utils.decCount(i.accuracy))))})},_value:function(){const e=this.element,i=this.options;let r=+this.valueMin||0,d=+this.valueMax||0,g;if(i.roundValue&&(r=r.toFixed(t.utils.decCount(i.accuracy)),d=d.toFixed(t.utils.decCount(i.accuracy))),g=[r,d].join(", "),e[0].tagName==="INPUT"&&e.val(g),i.target!==null){const _=o(i.target);_.length!==0&&o.each(_,function(){const C=o(this);this.tagName==="INPUT"?C.val(g):C.text(g),C.trigger("change")})}this._fireEvent("change-value",{val:g}),this._fireEvent("change",{val:g})},_marker:function(){const e=this.slider,i=e.find(".marker-min"),r=e.find(".marker-max"),d=e.find(".complete"),g=Number.parseInt(t.utils.getStyleOne(i,"width")),_=t.utils.isVisible(e);_&&o([i,r]).css({"margin-top":0,"margin-left":0}),_?(i.css("left",this._convert(this.valueMin,"val2pix")),r.css("left",this._convert(this.valueMax,"val2pix"))):(i.css({left:`${this._convert(this.valueMin,"val2prc")}%`,"margin-top":this._convert(this.valueMin,"val2prc")===0?0:-1*g/2}),r.css({left:`${this._convert(this.valueMax,"val2prc")}%`,"margin-top":this._convert(this.valueMax,"val2prc")===0?0:-1*g/2})),d.css({left:this._convert(this.valueMin,"val2pix"),width:this._convert(this.valueMax,"val2pix")-this._convert(this.valueMin,"val2pix")})},_redraw:function(){this._marker(),this._value(),this._hint()},val:function(e,i){const r=this.options;if(!t.utils.isValue(e)&&!t.utils.isValue(i))return[this.valueMin,this.valueMax];let d=e,g=i;typeof d<"u"&&d<r.min&&(d=r.min),typeof g<"u"&&g<r.min&&(g=r.min),typeof d<"u"&&d>r.max&&(d=r.max),typeof g<"u"&&g>r.max&&(g=r.max),typeof d<"u"&&(this.valueMin=this._correct(d)),typeof g<"u"&&(this.valueMax=this._correct(g)),this._redraw()},changeValue:function(){const e=this.element,i=+e.attr("data-value-min"),r=+e.attr("data-value-max");this.val(i,r)},disable:function(){const e=this.element;e.data("disabled",!0),e.parent().addClass("disabled")},enable:function(){const e=this.element;e.data("disabled",!1),e.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"data-value-min":this.changeValue();break;case"data-value-max":this.changeValue();break;case"disabled":this.toggleState();break}},destroy:function(){const e=this.element,i=this.slider,r=i.find(".marker");r.off(t.events.startAll),r.off(t.events.focus),r.off(t.events.blur),r.off(t.events.keydown),r.off(t.events.keyup),i.off(t.events.click),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let f={dragItemsDeferred:0,target:null,dragItem:"li",dragMarker:".drag-item-marker",drawDragMarker:!1,clsDragItemAvatar:"",clsDragItem:"",canDrag:!0,onDragStartItem:t.noop,onDragMoveItem:t.noop,onDragDropItem:t.noop,onTarget:t.noop,onTargetIn:t.noop,onTargetOut:t.noop,onDragItemsCreate:t.noop};t.dragItemsSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroDragItemsSetup<"u"&&t.dragItemsSetup(globalThis.metroDragItemsSetup),t.Component("drag-items",{init:function(e,i){return this._super(i,e,f,{id:null,canDrag:!1}),this},_create:function(){const e=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("drag-items-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options;e.id()||e.id(this.id),e.addClass("drag-items-target"),i.drawDragMarker===!0&&e.find(i.dragItem).each(function(){o("<span>").addClass("drag-item-marker").appendTo(this)}),i.canDrag?this.on():this.off()},_createEvents:function(){const e=this.element,i=this.options,r=o.document(),d=o.body();let g;const _={top:0,left:0};let C,k;const E=(I,B,q)=>{const Z=t.utils.pageXY(I).x,Q=t.utils.pageXY(I).y,De=Q-_.top,He=Z-_.left;B.css({top:De,left:He});const Me=document.elementsFromPoint(Z,Q).filter(we=>o(we).hasClass("drag-items-target"));if(Me.length===0)return;this._fireEvent("target",{target:Me});const Be=document.elementsFromPoint(Z,Q).filter(we=>{const Ie=o(we);return o.matches(we,i.dragItem)&&!Ie.hasClass("dragged-item-avatar")})[0];if(!t.utils.isValue(Be))q.appendTo(Me);else{const we=o(Be),Ie=we.offset(),Oe=Q-Ie.top,Fe=Z-Ie.left;let wt;const xt={w:we.width(),h:we.height()};Fe<xt.w/3&&(Oe<xt.h/2||Oe>xt.h/2)?wt="left":Fe>xt.w*2/3&&(Oe<xt.h/2||Oe>xt.h/2)?wt="right":Fe>xt.w/3&&Fe<xt.w*2/3&&Oe>xt.h/2?wt="bottom":wt="top",we.hasClass("dragged-item")||(wt==="top"||wt==="left"?q.insertBefore(we):q.insertAfter(we))}};e.on(t.events.startAll,i.drawDragMarker?i.dragMarker:i.dragItem,I=>{const B=o(I.target).closest(i.dragItem);if(t.utils.isRightMouse(I)||this.canDrag!==!0)return;B.addClass("dragged-item").addClass(i.clsDragItem);const q=o("<div>").addClass("dragged-item-avatar").addClass(i.clsDragItemAvatar);g=B.offset(),C=B.width(),k=B.height(),_.top=t.utils.pageXY(I).y-g.top,_.left=t.utils.pageXY(I).x-g.left,q.css({top:g.top,left:g.left,width:C,height:k}).appendTo(d),this._fireEvent("drag-start-item",{dragItem:B[0],avatar:q[0]}),r.on(t.events.moveAll,Z=>{E(Z,q,B),this._fireEvent("drag-move-item",{dragItem:B[0],avatar:q[0]}),Z.preventDefault()},{ns:this.id,passive:!1}),r.on(t.events.stopAll,()=>{this._fireEvent("drag-drop-item",{dragItem:B[0],avatar:q[0]}),B.removeClass("dragged-item").removeClass(i.clsDragItem),q.remove(),r.off(t.events.moveAll,{ns:this.id}),r.off(t.events.stopAll,{ns:this.id})},{ns:this.id}),i.drawDragMarker&&(I.preventDefault(),I.stopPropagation())})},on:function(){this.canDrag=!0,this.element.find(".drag-item-marker").show()},off:function(){this.canDrag=!1,this.element.find(".drag-item-marker").hide()},toggle:function(){this.canDrag=this.canDrag?this.off():this.on()},changeAttribute:function(e){const i=this.element,r=this.options;e==="data-can-drag"&&(()=>{r.canDtag=JSON.parse(i.attr("data-can-drag")),r.canDtag?this.on():this.off()})()},destroy:function(){const e=this.element,i=this.options;return e.off(t.events.startAll,i.drawDragMarker?i.dragMarker:i.dragItem),e}})})(Metro,Dom),((t,o)=>{let f={dragContext:null,draggableDeferred:0,dragElement:"self",dragArea:"parent",timeout:0,boundaryRestriction:!0,onCanDrag:t.noop_true,onDragStart:t.noop,onDragStop:t.noop,onDragMove:t.noop,onDraggableCreate:t.noop};t.draggableSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroDraggableSetup<"u"&&t.draggableSetup(globalThis.metroDraggableSetup),t.Component("draggable",{init:function(e,i){return this._super(i,e,f,{drag:!1,move:!1,backup:{cursor:"default",zIndex:"0"},dragArea:null,dragElement:null,id:null}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("draggable-create",{element:this.element})},_createStructure:function(){const e=this.element,i=this.options,r=e.offset(),d=i.dragElement!=="self"?e.find(i.dragElement):e;e.data("canDrag",!0),this.dragElement=d,d[0].ondragstart=()=>!1,e.css("position","absolute"),(i.dragArea==="document"||i.dragArea==="window")&&(i.dragArea="body"),setTimeout(()=>{this.dragArea=i.dragArea==="parent"?e.parent():o(i.dragArea),this.dragArea.css("position")==="static"&&this.dragArea.css("position","relative"),i.dragArea!=="parent"&&(e.appendTo(this.dragArea),e.css({top:r.top,left:r.left}))}),e.attr("id")||e.attr("id",Hooks.useId(this.elem))},_createEvents:function(){const e=this.element,i=this.options,r={x:0,y:0};this.dragElement.on(t.events.startAll,d=>{const g=e.position(),_=t.utils.pageXY(d).x-g.left,C=t.utils.pageXY(d).y-g.top,k=E=>{let I=t.utils.pageXY(E).y-C,B=t.utils.pageXY(E).x-_;i.boundaryRestriction&&(I<0&&(I=0),B<0&&(B=0),I>this.dragArea.outerHeight()-e.outerHeight()&&(I=this.dragArea.outerHeight()-e.outerHeight()),B>this.dragArea.outerWidth()-e.outerWidth()&&(B=this.dragArea.outerWidth()-e.outerWidth())),r.y=I,r.x=B,e.css({left:B,top:I}),this._fireEvent("drag-move",{position:r,context:i.dragContext})};e.data("canDrag")===!1||t.utils.exec(i.onCanDrag,[e])!==!0||t.isTouchable===!1&&d.which!==1||(this.drag=!0,e.addClass("draggable"),this._fireEvent("drag-start",{position:r,context:i.dragContext}),o(document).on(t.events.moveAll,k,{ns:this.id,passive:!1}),o(document).on(t.events.stopAll,()=>{e.removeClass("draggable"),o(document).off(t.events.moveAll,{ns:this.id}),o(document).off(t.events.stopAll,{ns:this.id}),this.drag=!1,this.move=!1,this._fireEvent("drag-stop",{position:r,context:i.dragContext})},{ns:this.id}))})},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:(e,i)=>{},destroy:function(){const e=this.element;return this.dragElement.off(t.events.startAll),e}})})(Metro,Dom),((t,o)=>{let f={enabled:!0,logErrors:!1,delimiterStart:"{{",delimiterEnd:"}}",context:null,processChild:!0};t.evalSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroEvalSetup<"u"&&t.evalSetup(globalThis.metroEvalSetup),t.Component("eval",{init:function(e,i){return this._super(i,e,f,{origContent:null}),this},_create:function(){const e=this.element;this.origContent=e.html(),this.options.enabled&&(this.options.processChild?this._processNodeAndChildren(e[0]):e.text(this.eval(e.text())))},_processNodeAndChildren:function(e){if(e.nodeType===3){e.textContent=this.eval(e.textContent);return}for(let i=0;i<e.childNodes.length;i++)this._processNodeAndChildren(e.childNodes[i])},eval:function(e){const i=this.options;if(!i.enabled)return e;const r=new RegExp(`${this._escapeRegExp(i.delimiterStart||"{{")}(.*?)${this._escapeRegExp(i.delimiterEnd||"}}")}`,"gs");return e.replace(r,(d,g)=>{try{return new Function(`return ${g}`).call(i.context)}catch(_){return i.logErrors&&console.error("Metro UI Eval error:",_,"in code:",g),d}})},_escapeRegExp:e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),reset:function(){this.origContent&&this.element.html(this.origContent)},destroy:function(){return this.reset(),this._super()}}),t.evalText=(e,i)=>{const d={options:o.extend({},f,i)};return t.Component("eval").prototype.eval.call(d,e)}})(Metro,Dom),((t,o)=>{const f={init:function(){return this},options:{csvDelimiter:"	",csvNewLine:`\r
`,includeHeader:!0},setup:function(e){return this.options=o.extend({},this.options,e),this},base64:e=>globalThis.btoa(unescape(encodeURIComponent(e))),b64toBlob:(e,i="",r=512)=>{const d=globalThis.atob(e),g=[];let _;for(_=0;_<d.length;_+=r){const C=d.slice(_,_+r),k=new Array(C.length);for(let I=0;I<C.length;I=I+1)k[I]=C.charCodeAt(I);const E=new globalThis.Uint8Array(k);g.push(E)}return new Blob(g,{type:i})},tableToCSV:function(e,i,r){let d,g,_,C="",k,E;d=o.extend({},this.options,r);const I=o(e)[0];if(t.utils.bool(d.includeHeader)){_=I.querySelectorAll("thead")[0];for(let B=0;B<_.rows.length;B++){k=_.rows[B];for(let q=0;q<k.cells.length;q++)E=k.cells[q],C+=(q?d.csvDelimiter:"")+E.textContent.trim();C+=d.csvNewLine}}g=I.querySelectorAll("tbody")[0];for(let B=0;B<g.rows.length;B++){k=g.rows[B];for(let q=0;q<k.cells.length;q++)E=k.cells[q],C+=(q?d.csvDelimiter:"")+E.textContent.trim();C+=d.csvNewLine}return t.utils.isValue(i)?this.createDownload(this.base64(`\uFEFF${C}`),"application/csv",i):C},createDownload:function(e,i,r){const d=document.createElement("a");d.style.display="none",document.body.appendChild(d);const g=this.b64toBlob(e,i),_=globalThis.URL.createObjectURL(g);return d.href=_,d.download=r||Hooks.useId(d),d.click(),globalThis.URL.revokeObjectURL(_),document.body.removeChild(d),!0},arrayToCsv:function(e,i,r){let d,g="",_,C;for(d=o.extend({},this.options,r),_=0;_<e.length;_++)C=e[_],typeof C!="object"?g+=C+d.csvNewLine:(o.each(C,(k,E)=>{g+=(k?d.csvDelimiter:"")+E.toString()}),g+=d.csvNewLine);return t.utils.isValue(i)?this.createDownload(this.base64(`\uFEFF${g}`),"application/csv",i):g}};t.export=f.init()})(Metro,Dom),((t,o)=>{let f={fileDeferred:0,label:"",mode:"input",buttonTitle:"",filesSelectedTitle:"",dropTitle:"",dropIcon:"📥",clearButtonIcon:"❌",prepend:"",clsComponent:"",clsPrepend:"",clsButton:"",clsCaption:"",clsLabel:"",onSelect:t.noop,onFileCreate:t.noop};t.fileSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroFileSetup<"u"&&t.fileSetup(globalThis.metroFileSetup),t.Component("file",{init:function(e,i){return this._super(i,e,f),this},_create:function(){const e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("file-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options,r=e.wrap("<div>").addClass((i.mode==="input"?" file ":i.mode==="button"?" file-button ":" drop-zone ")+e[0].className).addClass(i.clsComponent),d=o("<span>").addClass("caption").addClass(i.clsCaption),g=o("<span>").addClass("files").addClass(i.clsCaption);let _,C;if(i.mode.includes("drop")?(_=o("<span>").addClass("icon").html(i.dropIcon).appendTo(r),d.html(i.dropTitle||this.strings.label_drop_file).insertAfter(_),g.html((i.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)).insertAfter(d),C=o("<button>").addClass("button clear-button square").html(i.clearButtonIcon).appendTo(r)):(d.insertBefore(e),C=o("<button>").attr("type","button").addClass("button select-files-button").attr("tabindex",-1).html(i.buttonTitle||this.strings.label_choose_file),C.appendTo(r),C.addClass(i.clsButton),r.hasClass("input-small")&&C.addClass("small"),e.attr("dir")==="rtl"&&r.addClass("rtl"),i.prepend!==""&&o("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(r)),e[0].className="",i.label){const k=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(r);if(e.attr("id"))k.attr("for",e.attr("id"));else{const E=Hooks.useId(e[0]);k.attr("for",E),e.attr("id",E)}e.attr("dir")==="rtl"&&k.addClass("rtl")}e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.closest(".file, .drop-zone"),g=i.siblings(".caption"),_=i.siblings(".files"),C=i.closest("form");C.length&&C.on("reset",()=>{e.clear()}),d.on(t.events.click,".select-files-button",()=>{i[0].click()}),d.on(t.events.click,".clear-button",()=>{e.clear()}),i.on(t.events.change,function(){const k=[];let E;const I=Array.from(this.files);for(const B of I)k.push(B.name);r.mode==="input"?(E=k.join(", "),g.html(E),g.attr("title",E)):_.html((r.filesSelectedTitle||e.strings.label_files_selected).replace("{n}",i[0].files.length)),e._fireEvent("select",{files:this.files})}),i.on(t.events.focus,()=>{d.addClass("focused")}),i.on(t.events.blur,()=>{d.removeClass("focused")}),r.mode!=="input"&&(d.on(t.events.click,()=>{i[0].click()}),d.on("drag dragstart dragend dragover dragenter dragleave drop",k=>{k.preventDefault()}),d.on("dragenter dragover",()=>{d.addClass("drop-on")}),d.on("dragleave",()=>{d.removeClass("drop-on")}),d.on("drop",k=>{i[0].files=k.dataTransfer.files,_.html((r.filesSelectedTitle||e.strings.label_files_selected).replace("{n}",i[0].files.length)),d.removeClass("drop-on"),i.trigger("change")}))},clear:function(){const e=this.element,i=this.options;i.mode==="input"?e.siblings(".caption").html(""):e.siblings(".files").html((i.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)),e[0].value="",e.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleDir:function(){this.element.attr("dir")==="rtl"?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break;case"dir":this.toggleDir();break}},destroy:function(){const e=this.element,i=this.options,r=e.parent();e.off(t.events.change),r.off(t.events.click,"button"),i.label&&r.prev("label").remove(),r.remove()}})})(Metro,Dom),((t,o)=>{let f={min:0,max:100,value:0,size:0,labelMin:"",labelMax:"",label:"",suffix:"",values:10,segments:10,startAngle:235,range:250,theme:"",onGaugeCreate:t.noop};t.gaugeSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroGaugeSetup<"u"&&t.gaugeSetup(globalThis.metroGaugeSetup),t.Component("gauge",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){const e=this.element,i=this.options;e[0].style.setProperty("--analog-gauge-segments",`${i.segments}`),e[0].style.setProperty("--analog-gauge-start-angle",`${i.startAngle}deg`),e[0].style.setProperty("--analog-gauge-range",`${i.range}deg`),this.options.range=Number.parseFloat(getComputedStyle(e[0]).getPropertyValue("--analog-gauge-range")),this.options.start=Number.parseFloat(getComputedStyle(e[0]).getPropertyValue("--analog-gauge-start-angle")),this.options.defaultMark=90,this.options.defaultNeedle=270,this.options.minDegree=this.options.start-this.options.defaultNeedle,this._createStructure(),this._createEvents(),this.update(),this._fireEvent("gauge-create")},_generateMarks:function(){const e=this.options,i=`${e.values}`.trim();if(i==="")return"";const r=i.toArray(",");let d=[],g;r.length===1?(d=Array.from({length:+i},(C,k)=>Math.round(e.min+k*(e.max-e.min)/(+i-1||1))),g=Number.parseInt(i)):(d=[...r],g=r.length);const _=e.range/(g-1||1);return`
                <ul class="value-marks">
                  ${d.map((C,k)=>`<li style="--_d:${e.start-e.defaultMark+k*_}deg" class="mark">${C}</li>`).join("")}
                </ul>
            `},_createStructure:function(){const e=this.element,i=this.options;e.addClass("analog-gauge"),i.size&&e.css({width:i.size,height:i.size}),e.html(`
                <div class="gauge"></div>
                ${this._generateMarks()} 
                <div class="needle"></div> 
                <div class="value">${i.value}</div> 
                <div class="label">${i.label}</div> 
                <div class="label-min">${i.labelMin}</div> 
                <div class="label-max">${i.labelMax}</div> 
            `),i.theme&&e.addClass(`theme-${i.theme}`)},_createEvents:()=>{},val:function(e){if(typeof e>"u")return this.options.value;this.options.value=e,this.update()},update:function(){const e=this.element,i=this.elem,r=this.options,g=(Math.max(r.min,Math.min(r.max,r.value))-r.min)/(r.max-r.min),_=r.minDegree+g*r.range;i.style.setProperty("--analog-gauge-value",`${g*r.range}deg`),i.style.setProperty("--_d",`${_}deg`),e.find(".value").html(r.value+r.suffix)},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={gradientType:"linear",gradientShape:"",gradientPosition:"",gradientSize:"",gradientColors:"#000, #fff",gradientRepeat:!1,onGradientBoxCreate:t.noop};t.gradientBoxSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroGradientBoxSetup<"u"&&t.gradientBoxSetup(globalThis.metroGradientBoxSetup),t.Component("gradient-box",{init:function(e,i){return this._super(i,e,f,{colors:[],shape:"",size:"",position:"",type:"linear",func:"linear-gradient",repeat:!1}),this},_create:function(){const e=this.options;this.colors=e.gradientColors.toArray(","),this.type=e.gradientType.toLowerCase(),this.shape=e.gradientShape.toLowerCase(),this.size=e.gradientSize.toLowerCase(),this.repeat=e.gradientRepeat,this.func=`${(this.repeat?"repeating-":"")+this.type}-gradient`,this.type==="linear"?e.gradientPosition?(this.position=Number.isNaN(e.gradientPosition)===!1?`${e.gradientPosition}deg`:e.gradientPosition,this.position.indexOf("deg")===-1&&this.position.indexOf("to ")===-1&&(this.position=`to ${this.position}`)):this.position="to bottom":(this.position=e.gradientPosition.toLowerCase(),this.position&&this.position.indexOf("at ")===-1&&(this.position=`at ${this.position}`)),this._createStructure(),this._setGradient(),this._fireEvent("gradient-box-create")},_createStructure:function(){this.element.addClass("gradient-box")},_setGradient:function(){const e=this.element,i=[];this.type==="radial"&&this.shape&&i.push(this.shape),this.type==="radial"&&this.size&&i.push(this.size),this.position;const r=`${this.func}(${i.length?`${i.join(" ")}, `:""}${this.colors.join(", ")})`;e.css({background:r})},changeAttribute:function(e,i){if(e.indexOf("data-gradient-")!==-1){switch(e){case"data-gradient-type":this.type=i,this.func=`${i.toLowerCase()}-gradient`;break;case"data-gradient-colors-css":this.colors=i?i.toArray(","):["#fff","#000"];break;case"data-gradient-shape":this.shape=i.toLowerCase();break;case"data-gradient-size":this.size=i.toLowerCase();break;case"data-gradient-position":this.position=i.toLowerCase();break;case"data-gradient-repeat":this.repeat=t.utils.bool(i);break}this._setGradient()}},destroy:function(){return this.element}})})(Metro,Dom),(t=>{t.md5=o=>{function f(Bt,Et){return Bt<<Et|Bt>>>32-Et}function e(Bt,Et){let It,ln,Vt;It=Bt&2147483648,ln=Et&2147483648;const an=Bt&1073741824,$n=Et&1073741824;return Vt=(Bt&1073741823)+(Et&1073741823),an&$n?Vt^2147483648^It^ln:an|$n?Vt&1073741824?Vt^3221225472^It^ln:Vt^1073741824^It^ln:Vt^It^ln}function i(Bt,Et,It){return Bt&Et|~Bt&It}function r(Bt,Et,It){return Bt&It|Et&~It}function d(Bt,Et,It){return Bt^Et^It}function g(Bt,Et,It){return Et^(Bt|~It)}function _(Bt,Et,It,ln,Vt,an,$n){const ji=e(Bt,e(e(i(Et,It,ln),Vt),$n));return e(f(ji,an),Et)}function C(Bt,Et,It,ln,Vt,an,$n){const ji=e(Bt,e(e(r(Et,It,ln),Vt),$n));return e(f(ji,an),Et)}function k(Bt,Et,It,ln,Vt,an,$n){const ji=e(Bt,e(e(d(Et,It,ln),Vt),$n));return e(f(ji,an),Et)}function E(Bt,Et,It,ln,Vt,an,$n){const ji=e(Bt,e(e(g(Et,It,ln),Vt),$n));return e(f(ji,an),Et)}function I(Bt){let Et;const It=Bt.length,ln=It+8,an=((ln-ln%64)/64+1)*16,$n=Array(an-1);let ji=0,Is=0;for(;Is<It;)Et=(Is-Is%4)/4,ji=Is%4*8,$n[Et]=$n[Et]|Bt.charCodeAt(Is)<<ji,Is++;return Et=(Is-Is%4)/4,ji=Is%4*8,$n[Et]=$n[Et]|128<<ji,$n[an-2]=It<<3,$n[an-1]=It>>>29,$n}function B(Bt){let Et="",It="",ln,Vt;for(Vt=0;Vt<=3;Vt++)ln=Bt>>>Vt*8&255,It=`0${ln.toString(16)}`,Et=Et+It.substr(It.length-2,2);return Et}function q(Bt){const Et=Bt.replace(/\r\n/g,`
`);let It="";for(let ln=0;ln<Et.length;ln++){const Vt=Et.charCodeAt(ln);Vt<128?It+=String.fromCharCode(Vt):Vt>127&&Vt<2048?(It+=String.fromCharCode(Vt>>6|192),It+=String.fromCharCode(Vt&63|128)):(It+=String.fromCharCode(Vt>>12|224),It+=String.fromCharCode(Vt>>6&63|128),It+=String.fromCharCode(Vt&63|128))}return It}let Z=[],Q,De,He,Me,Be,we,Ie,Oe,Fe;const wt=7,xt=12,In=17,vi=22,kn=5,Wi=9,fs=14,jn=20,bo=4,ta=11,Ln=16,na=23,Ea=6,bi=10,Fs=15,Aa=21,Dt=q(o);for(Z=I(Dt),we=1732584193,Ie=4023233417,Oe=2562383102,Fe=271733878,Q=0;Q<Z.length;Q+=16)De=we,He=Ie,Me=Oe,Be=Fe,we=_(we,Ie,Oe,Fe,Z[Q],wt,3614090360),Fe=_(Fe,we,Ie,Oe,Z[Q+1],xt,3905402710),Oe=_(Oe,Fe,we,Ie,Z[Q+2],In,606105819),Ie=_(Ie,Oe,Fe,we,Z[Q+3],vi,3250441966),we=_(we,Ie,Oe,Fe,Z[Q+4],wt,4118548399),Fe=_(Fe,we,Ie,Oe,Z[Q+5],xt,1200080426),Oe=_(Oe,Fe,we,Ie,Z[Q+6],In,2821735955),Ie=_(Ie,Oe,Fe,we,Z[Q+7],vi,4249261313),we=_(we,Ie,Oe,Fe,Z[Q+8],wt,1770035416),Fe=_(Fe,we,Ie,Oe,Z[Q+9],xt,2336552879),Oe=_(Oe,Fe,we,Ie,Z[Q+10],In,4294925233),Ie=_(Ie,Oe,Fe,we,Z[Q+11],vi,2304563134),we=_(we,Ie,Oe,Fe,Z[Q+12],wt,1804603682),Fe=_(Fe,we,Ie,Oe,Z[Q+13],xt,4254626195),Oe=_(Oe,Fe,we,Ie,Z[Q+14],In,2792965006),Ie=_(Ie,Oe,Fe,we,Z[Q+15],vi,1236535329),we=C(we,Ie,Oe,Fe,Z[Q+1],kn,4129170786),Fe=C(Fe,we,Ie,Oe,Z[Q+6],Wi,3225465664),Oe=C(Oe,Fe,we,Ie,Z[Q+11],fs,643717713),Ie=C(Ie,Oe,Fe,we,Z[Q],jn,3921069994),we=C(we,Ie,Oe,Fe,Z[Q+5],kn,3593408605),Fe=C(Fe,we,Ie,Oe,Z[Q+10],Wi,38016083),Oe=C(Oe,Fe,we,Ie,Z[Q+15],fs,3634488961),Ie=C(Ie,Oe,Fe,we,Z[Q+4],jn,3889429448),we=C(we,Ie,Oe,Fe,Z[Q+9],kn,568446438),Fe=C(Fe,we,Ie,Oe,Z[Q+14],Wi,3275163606),Oe=C(Oe,Fe,we,Ie,Z[Q+3],fs,4107603335),Ie=C(Ie,Oe,Fe,we,Z[Q+8],jn,1163531501),we=C(we,Ie,Oe,Fe,Z[Q+13],kn,2850285829),Fe=C(Fe,we,Ie,Oe,Z[Q+2],Wi,4243563512),Oe=C(Oe,Fe,we,Ie,Z[Q+7],fs,1735328473),Ie=C(Ie,Oe,Fe,we,Z[Q+12],jn,2368359562),we=k(we,Ie,Oe,Fe,Z[Q+5],bo,4294588738),Fe=k(Fe,we,Ie,Oe,Z[Q+8],ta,2272392833),Oe=k(Oe,Fe,we,Ie,Z[Q+11],Ln,1839030562),Ie=k(Ie,Oe,Fe,we,Z[Q+14],na,4259657740),we=k(we,Ie,Oe,Fe,Z[Q+1],bo,2763975236),Fe=k(Fe,we,Ie,Oe,Z[Q+4],ta,1272893353),Oe=k(Oe,Fe,we,Ie,Z[Q+7],Ln,4139469664),Ie=k(Ie,Oe,Fe,we,Z[Q+10],na,3200236656),we=k(we,Ie,Oe,Fe,Z[Q+13],bo,681279174),Fe=k(Fe,we,Ie,Oe,Z[Q],ta,3936430074),Oe=k(Oe,Fe,we,Ie,Z[Q+3],Ln,3572445317),Ie=k(Ie,Oe,Fe,we,Z[Q+6],na,76029189),we=k(we,Ie,Oe,Fe,Z[Q+9],bo,3654602809),Fe=k(Fe,we,Ie,Oe,Z[Q+12],ta,3873151461),Oe=k(Oe,Fe,we,Ie,Z[Q+15],Ln,530742520),Ie=k(Ie,Oe,Fe,we,Z[Q+2],na,3299628645),we=E(we,Ie,Oe,Fe,Z[Q],Ea,4096336452),Fe=E(Fe,we,Ie,Oe,Z[Q+7],bi,1126891415),Oe=E(Oe,Fe,we,Ie,Z[Q+14],Fs,2878612391),Ie=E(Ie,Oe,Fe,we,Z[Q+5],Aa,4237533241),we=E(we,Ie,Oe,Fe,Z[Q+12],Ea,1700485571),Fe=E(Fe,we,Ie,Oe,Z[Q+3],bi,2399980690),Oe=E(Oe,Fe,we,Ie,Z[Q+10],Fs,4293915773),Ie=E(Ie,Oe,Fe,we,Z[Q+1],Aa,2240044497),we=E(we,Ie,Oe,Fe,Z[Q+8],Ea,1873313359),Fe=E(Fe,we,Ie,Oe,Z[Q+15],bi,4264355552),Oe=E(Oe,Fe,we,Ie,Z[Q+6],Fs,2734768916),Ie=E(Ie,Oe,Fe,we,Z[Q+13],Aa,1309151649),we=E(we,Ie,Oe,Fe,Z[Q+4],Ea,4149444226),Fe=E(Fe,we,Ie,Oe,Z[Q+11],bi,3174756917),Oe=E(Oe,Fe,we,Ie,Z[Q+2],Fs,718787259),Ie=E(Ie,Oe,Fe,we,Z[Q+9],Aa,3951481745),we=e(we,De),Ie=e(Ie,He),Oe=e(Oe,Me),Fe=e(Fe,Be);return(B(we)+B(Ie)+B(Oe)+B(Fe)).toLowerCase()}})(Metro,Dom),((t,o)=>{let f={gravatarDeferred:0,email:"",size:80,default:"mp",onGravatarCreate:t.noop};t.gravatarSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroGravatarSetup<"u"&&t.gravatarSetup(globalThis.metroGravatarSetup),t.Component("gravatar",{init:function(e,i){return this._super(i,e,f),this},_create:function(){const e=this.element;this.get(),this._fireEvent("gravatar-create",{element:e})},getImage:function(e,i,r,d){const g=o("<img>").attr("alt",e);return g.attr("src",this.getImageSrc(e,i)),d===!0?g:g[0]},getImageSrc:(e,i=80,r="404")=>e===void 0||e.trim()===""?"":`https://www.gravatar.com/avatar/${t.md5(e.toLowerCase().trim())}?size=${i}&d=${t.utils.encodeURI(r)}`,get:function(){const e=this.element,i=this.options,r=e[0].tagName==="IMG"?e:e.find("img");if(r.length!==0)return r.attr("src",this.getImageSrc(i.email,i.size,i.default)),this},resize:function(e){this.options.size=e!==void 0?e:this.element.attr("data-size"),this.get()},email:function(e){this.options.email=e!==void 0?e:this.element.attr("data-email"),this.get()},changeAttribute:function(e){switch(e){case"data-size":this.resize();break;case"data-email":this.email();break}},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let f={hintDeferred:0,hintHide:5e3,clsHint:"",hintText:"",hintPosition:t.position.TOP,hintOffset:4,onHintShow:t.noop,onHintHide:t.noop,onHintCreate:t.noop};t.hintSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroHintSetup<"u"&&t.hintSetup(globalThis.metroHintSetup),t.Component("hint",{init:function(e,i){return this._super(i,e,f,{hint:null,hint_size:{width:0,height:0},id:null}),this},_create:function(){this.id=Hooks.useId(this.element),this._createEvents(),this._fireEvent("hint-create",{element:this.element})},_createEvents:function(){const e=this.element,i=this.options;let r=!1;e.on(t.events.enter,()=>{r=!0,setTimeout(()=>{r&&(this.createHint(),+i.hintHide>0&&setTimeout(()=>{this.removeHint()},i.hintHide))},i.hintDeferred)}),e.on(t.events.leave,()=>{r=!1,this.removeHint()}),o(globalThis).on(`${t.events.scroll} ${t.events.resize}`,()=>{this.hint!==null&&this.setPosition()},{ns:this.id})},createHint:function(){const e=this.elem,i=this.element,r=this.options,d=o("<div>").addClass("hint").addClass(r.clsHint).html(r.hintText);if(this.hint=d,this.hint_size=t.utils.hiddenElementSize(d),o(".hint:not(.permanent-hint)").remove(),e.tagName==="TD"||e.tagName==="TH"){const g=o("<div/>").css("display","inline-block").html(i.html());i.html(g),this.element=g}this.setPosition(),d.appendTo(o("body")),this._fireEvent("hint-show",{hint:d[0]})},setPosition:function(){const e=this.hint,i=this.hint_size,r=this.options,d=this.element;r.hintPosition===t.position.BOTTOM?(e.addClass("bottom"),e.css({top:d.offset().top-o(globalThis).scrollTop()+d.outerHeight()+r.hintOffset,left:d.offset().left+d.outerWidth()/2-i.width/2-o(globalThis).scrollLeft()})):r.hintPosition===t.position.RIGHT?(e.addClass("right"),e.css({top:d.offset().top+d.outerHeight()/2-i.height/2-o(globalThis).scrollTop(),left:d.offset().left+d.outerWidth()-o(globalThis).scrollLeft()+r.hintOffset})):r.hintPosition===t.position.LEFT?(e.addClass("left"),e.css({top:d.offset().top+d.outerHeight()/2-i.height/2-o(globalThis).scrollTop(),left:d.offset().left-i.width-o(globalThis).scrollLeft()-r.hintOffset})):(e.addClass("top"),e.css({top:d.offset().top-o(globalThis).scrollTop()-i.height-r.hintOffset,left:d.offset().left-o(globalThis).scrollLeft()+d.outerWidth()/2-i.width/2}))},removeHint:function(){const e=this.hint,r=this.options.onHintHide===t.noop?0:300;e!==null&&(this._fireEvent("hint-hide",{hint:e[0]}),setTimeout(()=>{e.hide(0,()=>{e.remove(),this.hint=null})},r))},changeText:function(){this.options.hintText=this.element.attr("data-hint-text")},changeAttribute:function(e){e==="data-hint-text"&&this.changeText()},destroy:function(){const e=this.element;this.removeHint(),e.off(`${t.events.enter}-hint`),e.off(`${t.events.leave}-hint`),o(globalThis).off(`${t.events.scroll}-hint`)}})})(Metro,Dom),((t,o)=>{const f={specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",91:"meta",92:"meta",93:"meta",224:"meta"},shiftNums:{"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},shiftNumsInverse:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],pendingKey:null,pendingTimeout:1e3,pendingTimer:null,normalizeKey:r=>{if(r.includes(" "))return r.split(" ").map(f.normalizeKey).join(" ");if(!r.includes("+"))return r;const d=r.split("+"),g=d.pop(),_=d.filter(C=>["alt","ctrl","meta","shift"].includes(C));return _.sort((C,k)=>{const E={alt:1,ctrl:2,meta:3,shift:4};return E[C]-E[k]}),_.length?`${_.join("+")}+${g}`:g},getKey:r=>{let d;const g=r.keyCode,_=String.fromCharCode(g).toLowerCase();[91,92,93,224].includes(g)?d="meta":g===18?d="alt":g===17?d="ctrl":g===16?d="shift":r.shiftKey?d=f.shiftNums[_]?f.shiftNums[_]:_:d=f.specialKeys[g]===void 0?_:f.specialKeys[g];const C=f.getModifier(r);return["alt","ctrl","meta","shift"].includes(d)&&C.includes(d)?C.join("+"):C.length?`${C.join("+")}+${d}`:d},getModifier:r=>{const d=[];return r.altKey&&d.push("alt"),r.ctrlKey&&d.push("ctrl"),r.metaKey&&d.push("meta"),r.shiftKey&&d.push("shift"),d},createChordKey:(r,d)=>`${r} ${d}`,isPartOfChordKey:r=>Object.keys(t.hotkeys).some(d=>d.split(" ")[0]===r),executeHotkeyAction:(r,d)=>{const g=o(r[0]),_=r[1],C=`${g.attr("href")}`.trim();return d.repeat&&!g.attr("data-repeat")?!1:(d.preventDefault(),_?t.utils.exec(_):g.is("a")&&C&&C.length>0&&C.trim()!=="#"?globalThis.location.href=C:g[0].click(),!0)},clearPending:()=>{clearTimeout(f.pendingTimer),f.pendingKey=null},setPending:r=>{f.pendingKey=r,clearTimeout(f.pendingTimer),f.pendingTimer=setTimeout(f.clearPending,f.pendingTimeout)}};function e(r){const d=f.getKey(r),g=f.normalizeKey(d);if(f.pendingKey!==null){const C=f.createChordKey(f.pendingKey,g);for(const k in t.hotkeys)if(f.normalizeKey(k)===C&&f.executeHotkeyAction(t.hotkeys[k],r)){f.clearPending();return}}Object.keys(t.hotkeys).some(C=>{const k=C.split(" ");return k.length>1&&f.normalizeKey(k[0])===g})&&f.setPending(g);for(const C in t.hotkeys)if(!C.includes(" ")&&f.normalizeKey(C)===g){f.executeHotkeyAction(t.hotkeys[C],r);return}}function i(r,d){const g=f.normalizeKey(r);return this.each(function(){const _=o(this);if(_.is("input, textarea")||_.attr("contenteditable")==="true"){const k=(E,I)=>{t.utils.exec(d,[E,I,r],_[0])};_.on(`${t.events.keydown}.hotkey-data-${r}`,E=>{const I=f.getKey(E),B=f.normalizeKey(I);if(f.pendingKey!==null){const q=f.createChordKey(f.pendingKey,B);if(g===q){f.clearPending(),E.preventDefault(),k(E,I);return}}if(g.includes(" ")){const q=g.split(" ");if(B===f.normalizeKey(q[0])){f.setPending(B);return}}g===B&&(E.preventDefault(),k(E,I))})}else{const k=E=>E.repeat&&!_.attr("data-repeat")?!1:(E.preventDefault(),f.executeHotkeyAction(g,E),!0);t.hotkeys||(t.hotkeys={}),t.hotkeys[r]=[_,k],_.attr("data-hotkey",r)}})}o.fn.hotkey=i,globalThis.METRO_JQUERY&&globalThis.jquery_present&&(globalThis.jQuery.fn.hotkey=i),o(document).on(`${t.events.keydown}.hotkey-data`,e)})(Metro,Dom),((t,o)=>{let f={onHoverBoxCreate:t.noop};t.hoverBoxSetup=e=>{f=o.extend({},f,e)},typeof window.metroHoverBoxSetup<"u"&&t.hoverBoxSetup(window.metroHoverBoxSetup),t.Component("hoverbox",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("hover-box-create")},_createStructure:function(){const e=this.element;e.addClass("hover-box"),e.cssVar("size",`${e.height()/2}px`)},_createEvents:function(){const e=this.element;e.on(t.events.move,i=>{const r=e[0].getBoundingClientRect(),d=i.pageX-(r.left+window.scrollX),g=i.pageY-(r.top+window.scrollY);e.cssVar("x",`${Math.round(d)}px`).cssVar("y",`${Math.round(g)}px`)})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={htmlContainerDeferred:0,method:"get",htmlSource:null,requestData:null,requestOptions:null,insertMode:"default",onHtmlLoad:t.noop,onHtmlLoadFail:t.noop,onHtmlLoadDone:t.noop,onHtmlContainerCreate:t.noop};t.htmlContainerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroHtmlContainerSetup<"u"&&t.htmlContainerSetup(globalThis.metroHtmlContainerSetup),t.Component("html-container",{init:function(e,i){return this._super(i,e,f,{data:null,opt:{},htmlSource:""}),this},_create:function(){const e=this.element,i=this.options;typeof i.requestData=="string"&&(i.requestData=JSON.parse(i.requestData)),t.utils.isObject(i.requestData)&&(this.data=t.utils.isObject(i.requestData)),typeof i.requestOptions=="string"&&(i.requestOptions=JSON.parse(i.requestOptions)),t.utils.isObject(i.requestOptions)&&(this.opt=t.utils.isObject(i.requestOptions)),i.method=i.method.toUpperCase(),t.utils.isValue(i.htmlSource)&&(this.htmlSource=i.htmlSource,this._load()),this._fireEvent("html-container-create",{element:e})},_load:function(){const e=this.element,i=this.options,r={method:i.method};this.data&&(r.body=this.data),this.opt&&(r.headers=this.opt),fetch(this.htmlSource,r).then(t.fetch.status).then(t.fetch.text).then(d=>{let g=o(d);switch(g.length===0&&(g=o("<div>").html(d)),i.insertMode.toLowerCase()){case"prepend":e.prepend(g);break;case"append":e.append(g);break;case"replace":g.insertBefore(e).script(),e.remove();break;default:e.html(g)}this._fireEvent("html-load",{data:d,source:i.htmlSource,requestData:this.data,requestOptions:this.opt})}).catch(d=>{this._fireEvent("html-load-fail",{error:d})})},load:function(e,i,r){e&&(this.htmlSource=e),i&&(this.data=t.utils.isObject(i)),r&&(this.opt=t.utils.isObject(r)),this._load()},changeAttribute:function(e){const i=this.element,r=this.options,d=()=>{const C=i.attr("data-html-source");t.utils.isNull(C)||(C.trim()===""&&i.html(""),r.htmlSource=C,this._load())},g=()=>{const C=i.attr("data-insert-mode");t.utils.isValue(C)&&(r.insertMode=C)},_=()=>{const C=i.attr("data-request-data");this.load(r.htmlSource,C)};switch(e){case"data-html-source":d();break;case"data-insert-mode":g();break;case"data-request-data":_();break}},destroy:()=>{}})})(Metro,Dom),((t,o)=>{let f={image:null,size:"cover",repeat:!1,color:"transparent",attachment:"scroll",origin:"border",onImageBoxCreate:t.noop};t.imageBoxSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroImageBoxSetup<"u"&&t.imageBoxSetup(globalThis.metroImageBoxSetup),t.Component("image-box",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._fireEvent("image-box-create")},_createStructure:function(){this.element.addClass("image-box"),this._drawImage()},_drawImage:function(){const e=this.element,i=this.options,r=new Image;let d;e.attr("data-original")||e.attr("data-original",i.image),e.css({backgroundImage:`url(${i.image})`,backgroundSize:i.size,backgroundRepeat:i.repeat?"repeat":"no-repeat",backgroundColor:i.color,backgroundAttachment:i.attachment,backgroundOrigin:i.origin}),r.src=i.image,r.onload=function(){d=this.height>=this.width,e.removeClass("image-box__portrait image-box__landscape").addClass(`image-box__${d?"portrait":"landscape"}`)}},changeAttribute:function(e,i){const r=e.replace("data-","");["image","size","repeat","color","attachment","origin"].indexOf(r)>-1&&(this.options[r]=i,this._drawImage())},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let f={imageCompareDeferred:0,width:"100%",height:"auto",onSliderMove:t.noop,onImageCompareCreate:t.noop};t.imageCompareSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroImageCompareSetup<"u"&&t.imageCompareSetup(globalThis.metroImageCompareSetup),t.Component("image-compare",{init:function(e,i){return this._super(i,e,f,{id:null}),this},_create:function(){const e=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("image-compare-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options;let r,d;switch(t.utils.isValue(e.attr("id"))||e.attr("id",this.id),e.addClass("image-compare").css({width:i.width}),r=e.width(),i.height){case"16/9":d=t.utils.aspectRatioH(r,i.height);break;case"21/9":d=t.utils.aspectRatioH(r,i.height);break;case"4/3":d=t.utils.aspectRatioH(r,i.height);break;case"auto":d=t.utils.aspectRatioH(r,"16/9");break;default:d=i.height}e.css({height:d});const g=o("<div>").addClass("image-container").appendTo(e),_=o("<div>").addClass("image-container-overlay").appendTo(e).css({width:r/2}),C=o("<div>").addClass("image-slider").appendTo(e);C.css({top:d/2-C.height()/2,left:r/2-C.width()/2});const k=e.find("img");o.each(k,function(E){const I=o("<div>").addClass("image-wrapper");I.css({width:r,height:d,backgroundImage:`url(${this.src})`}),I.appendTo(E===0?g:_)})},_createEvents:function(){const e=this.element,i=this.options,r=e.find(".image-container-overlay"),d=e.find(".image-slider");d.on(t.events.startAll,()=>{const g=e.width();o(document).on(t.events.moveAll,_=>{let C=t.utils.getCursorPositionX(e[0],_);C<0&&(C=0),C>g&&(C=g),r.css({width:C});const k=C-d.width()/2;d.css({left:k}),this._fireEvent("slider-move",{x:C,l:k})},{ns:this.id}),o(document).on(t.events.stopAll,()=>{o(document).off(t.events.moveAll,{ns:this.id}),o(document).off(t.events.stopAll,{ns:this.id})},{ns:this.id})}),o(globalThis).on(t.events.resize,()=>{const g=e.width();let _;if(i.width==="100%"){switch(i.height){case"16/9":_=t.utils.aspectRatioH(g,i.height);break;case"21/9":_=t.utils.aspectRatioH(g,i.height);break;case"4/3":_=t.utils.aspectRatioH(g,i.height);break;case"auto":_=t.utils.aspectRatioH(g,"16/9");break;default:_=i.height}e.css({height:_}),o.each(e.find(".image-wrapper"),function(){o(this).css({width:g,height:_})}),e.find(".image-container-overlay").css({width:g/2}),d.css({top:_/2-d.height()/2,left:g/2-d.width()/2})}},{ns:this.id})},changeAttribute:(e,i)=>{},destroy:function(){const e=this.element;e.off(t.events.start),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let f={useBackground:!1,backgroundSize:"cover",backgroundPosition:"top left",clsImageGrid:"",clsImageGridItem:"",clsImageGridImage:"",onItemClick:t.noop,onDrawItem:t.noop,onImageGridCreate:t.noop};t.imageGridSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroImageGridSetup<"u"&&t.imageGridSetup(globalThis.metroImageGridSetup),t.Component("image-grid",{init:function(e,i){return this._super(i,e,f,{items:[]}),this},_create:function(){this.items=this.element.children("img"),this._createStructure(),this._createEvents(),this._fireEvent("image-grid-create")},_createStructure:function(){const e=this.element,i=this.options;e.addClass("image-grid").addClass(i.clsImageGrid),this._createItems()},_createEvents:function(){const e=this;this.element.on(t.events.click,".image-grid__item",function(){e._fireEvent("item-click",{item:this})})},_createItems:function(){const e=this,i=this.element,r=this.options,d=this.items;i.clear(),d.each(function(){const g=o(this),_=this.src,C=o("<div>").addClass("image-grid__item").addClass(r.clsImageGridItem).appendTo(i),k=new Image;k.src=_,k.onload=function(){const E=this.height>=this.width;C.addClass(E?"image-grid__item-portrait":"image-grid__item-landscape"),g.addClass(r.clsImageGridImage).appendTo(C),r.useBackground&&(C.css({background:`url(${_})`,backgroundRepeat:"no-repeat",backgroundSize:r.backgroundSize,backgroundPosition:r.backgroundPosition}).attr("data-original",g.attr("data-original")||_).attr("data-title",g.attr("alt")||g.attr("data-title")||""),g.visible(!1)),e._fireEvent("draw-item",{item:C[0],image:g[0]})}})},changeAttribute:function(e,i){const r=this.options;e==="data-use-background"&&(r.useBackground=t.utils.bool(i),this._createItems()),e==="data-background-size"&&(r.backgroundSize=i,this._createItems()),e==="data-background-position"&&(r.backgroundPosition=i,this._createItems())},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={imageMagnifierDeferred:0,width:"100%",height:"auto",lensSize:100,lensType:"square",magnifierZoom:2,magnifierMode:"glass",magnifierZoomElement:null,clsMagnifier:"",clsLens:"",clsZoom:"",onMagnifierMove:t.noop,onImageMagnifierCreate:t.noop};t.imageMagnifierSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroImageMagnifierSetup<"u"&&t.imageMagnifierSetup(globalThis.metroImageMagnifierSetup),t.Component("image-magnifier",{init:function(e,i){return this._super(i,e,f,{zoomElement:null,id:null}),this},_create:function(){const e=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("image-magnifier-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options;let r,d,g;const _=e.find("img");if(_.length===0)throw new Error("Image not defined");switch(t.utils.isValue(e.attr("id"))||e.attr("id",this.id),e.addClass("image-magnifier").css({width:i.width}).addClass(i.clsMagnifier),d=e.width(),i.height){case"16/9":g=t.utils.aspectRatioH(d,i.height);break;case"21/9":g=t.utils.aspectRatioH(d,i.height);break;case"4/3":g=t.utils.aspectRatioH(d,i.height);break;case"auto":g=t.utils.aspectRatioH(d,"16/9");break;default:g=i.height}e.css({height:g});const C=d/2-i.lensSize/2,k=g/2-i.lensSize/2;if(i.magnifierMode==="glass")r=o("<div>").addClass("image-magnifier-glass").appendTo(e),r.css({width:i.lensSize,height:i.lensSize,borderRadius:i.lensType!=="circle"?0:"50%",top:k,left:C,backgroundImage:`url(${_[0].src})`,backgroundRepeat:"no-repeat",backgroundPosition:`-${C*i.magnifierZoom-i.lensSize/4+4}px -${k*i.magnifierZoom-i.lensSize/4+4}px`,backgroundSize:`${_[0].width*i.magnifierZoom}px ${_[0].height*i.magnifierZoom}px`}).addClass(i.clsLens);else{r=o("<div>").addClass("image-magnifier-glass").appendTo(e),r.css({width:i.lensSize,height:i.lensSize,borderRadius:0,borderWidth:1,top:k,left:C}).addClass(i.clsLens),!t.utils.isValue(i.magnifierZoomElement)||o(i.magnifierZoomElement).length===0?this.zoomElement=o("<div>").insertAfter(e):this.zoomElement=o(i.magnifierZoomElement);const E=r[0].offsetWidth*i.magnifierZoom,I=r[0].offsetHeight*i.magnifierZoom,B=E/i.lensSize,q=I/i.lensSize;this.zoomElement.css({width:E,height:I,backgroundImage:`url(${_[0].src})`,backgroundRepeat:"no-repeat",backgroundPosition:`-${C*B}px -${k*q}px`,backgroundSize:`${_[0].width*B}px ${_[0].height*q}px`}).addClass(i.clsZoom)}},_createEvents:function(){const e=this.element,i=this.options,r=e.find(".image-magnifier-glass"),d=r[0].offsetWidth/2,g=e.find("img")[0],_=this.zoomElement;let C,k;o(globalThis).on(t.events.resize,()=>{const I=e.width()/2-i.lensSize/2,B=e.height()/2-i.lensSize/2;i.magnifierMode==="glass"&&r.css({backgroundPosition:`-${I*i.magnifierZoom-i.lensSize/4+4}px -${B*i.magnifierZoom-i.lensSize/4+4}px`,backgroundSize:`${g.width*i.magnifierZoom}px ${g.height*i.magnifierZoom}px`})},{ns:this.id}),i.magnifierMode!=="glass"&&(C=_[0].offsetWidth/d/2,k=_[0].offsetHeight/d/2,_.css({backgroundSize:`${g.width*C}px ${g.height*k}px`}));const E=I=>{let B,q;const Q=Number.parseInt(i.magnifierZoom);i.magnifierMode==="glass"?(B=I.x,q=I.y,B>g.width-d/Q&&(B=g.width-d/Q),B<d/Q&&(B=d/Q),q>g.height-d/Q&&(q=g.height-d/Q),q<d/Q&&(q=d/Q),r.css({top:q-d,left:B-d,backgroundPosition:`-${B*Q-d+4}px -${q*Q-d+4}px`})):(B=I.x-d,q=I.y-d,B>g.width-d*2&&(B=g.width-d*2),B<0&&(B=0),q>g.height-d*2&&(q=g.height-d*2),q<0&&(q=0),r.css({top:q,left:B}),_.css({backgroundPosition:`-${B*C}px -${q*k}px`}))};e.on(t.events.move,I=>{const B=t.utils.getCursorPosition(g,I);E(B),this._fireEvent("magnifier-move",{pos:B,glass:r[0],zoomElement:_?_[0]:void 0}),I.preventDefault()}),e.on(t.events.leave,()=>{const I=e.width()/2-i.lensSize/2,B=e.height()/2-i.lensSize/2;r.animate({draw:{top:B,left:I}}),E({x:I+i.lensSize/2,y:B+i.lensSize/2})})},changeAttribute:(e,i)=>{},destroy:function(){const e=this.element;e.off(t.events.move),e.off(t.events.leave),e.remove()}})})(Metro,Dom),((t,o)=>{let f={size:"100x100",width:null,height:null,color:"#f8f8f8",textColor:"#292929",font:"12px sans-serif",text:"",showText:!0,onImagePlaceholderCreate:t.noop};t.imagePlaceholderSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroImagePlaceholderSetup<"u"&&t.imagePlaceholderSetup(globalThis.metroImagePlaceholderSetup),t.Component("image-placeholder",{init:function(e,i){return this._super(i,e,f,{width:0,height:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("image-placeholder-create")},_createStructure:function(){const e=this.element,i=this.options,r=i.size.toArray("x");this.width=i.width?i.width:r[0],this.height=i.height?i.height:r[1],e.attr("src",this._createPlaceholder())},_createEvents:()=>{},_createPlaceholder:function(){const e=this.options,i=document.createElement("canvas"),r=i.getContext("2d"),d=this.width,g=this.height;return i.width=Number.parseInt(d),i.height=Number.parseInt(g),r.clearRect(0,0,d,g),r.fillStyle=e.color,r.fillRect(0,0,d,g),r.fillStyle=e.textColor,r.font=e.font,r.translate(d/2,g/2),r.textAlign="center",r.textBaseline="middle",e.showText&&r.fillText(e.text?e.text:`${d} × ${g}`,0,0),i.toDataURL()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={infoboxDeferred:0,type:"",width:480,height:"auto",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,autoHide:0,removeOnClose:!1,closeButton:!0,clsBox:"",clsBoxContent:"",clsOverlay:"",onOpen:t.noop,onClose:t.noop,onInfoBoxCreate:t.noop};t.infoBoxSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroInfoBoxSetup<"u"&&t.infoBoxSetup(globalThis.metroInfoBoxSetup),t.Component("info-box",{init:function(e,i){return this._super(i,e,f,{overlay:null,id:null}),this},_create:function(){const e=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("info-box-create",{element:e})},_overlay:function(){const e=this.options,i=o("<div>");return i.addClass("overlay").addClass(e.clsOverlay),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(e.overlayColor),e.overlayAlpha)}),i},_createStructure:function(){const e=this.element,i=this.options;let r;i.overlay===!0&&(this.overlay=this._overlay()),e.addClass("info-box").addClass(i.type).addClass(i.clsBox),r=e.find("closer"),r.length===0&&(r=o("<span>").addClass("button square closer"),r.appendTo(e)),i.closeButton!==!0&&r.hide();const d=e.find(".info-box-content");d.length>0&&d.addClass(i.clsBoxContent),e.css({width:i.width,height:i.height,visibility:"hidden",top:"100%",left:(o(globalThis).width()-e.outerWidth())/2}),e.appendTo(o("body"))},_createEvents:function(){const e=this.element;e.on(t.events.click,".closer",()=>{this.close()}),e.on(t.events.click,".js-dialog-close",()=>{this.close()}),o(globalThis).on(t.events.resize,()=>{this.reposition()},{ns:this.id})},_setPosition:function(){const e=this.element;e.css({top:(o(globalThis).height()-e.outerHeight())/2,left:(o(globalThis).width()-e.outerWidth())/2})},reposition:function(){this._setPosition()},setContent:function(e){const r=this.element.find(".info-box-content");r.length!==0&&(r.html(e),this.reposition())},setType:function(e){this.element.removeClass("success info alert warning").addClass(e)},open:function(){const e=this.element,i=this.options;i.overlay===!0&&o(".overlay").length===0&&(this.overlay.appendTo(o("body")),i.overlayClickClose===!0&&this.overlay.on(t.events.click,()=>{this.close()})),this._setPosition(),e.css({visibility:"visible"}),this._fireEvent("open"),e.data("open",!0),Number.parseInt(i.autoHide)>0&&setTimeout(()=>{this.close()},Number.parseInt(i.autoHide))},close:function(){const e=this.element,i=this.options;i.overlay===!0&&o("body").find(".overlay").remove(),e.css({visibility:"hidden",top:"100%"}),this._fireEvent("close"),e.data("open",!1),i.removeOnClose===!0&&(this.destroy(),e.remove())},isOpen:function(){return this.element.data("open")===!0},changeAttribute:(e,i)=>{},destroy:function(){const e=this.element;e.off("all"),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}}),t.infobox={isInfoBox:e=>t.utils.isMetroObject(e,"infobox"),open:function(e,i,r){if(!this.isInfoBox(e))return!1;const d=t.getPlugin(e,"infobox");i!==void 0&&d.setContent(i),r!==void 0&&d.setType(r),d.open()},close:function(e){if(!this.isInfoBox(e))return!1;t.getPlugin(e,"infobox").close()},setContent:function(e,i=""){if(!this.isInfoBox(e))return!1;const r=t.getPlugin(e,"infobox");r.setContent(i),r.reposition()},setType:function(e,i){if(!this.isInfoBox(e))return!1;const r=t.getPlugin(e,"infobox");r.setType(i),r.reposition()},isOpen:function(e){return this.isInfoBox(e)?t.getPlugin(e,"infobox").isOpen():!1},create:(e,i,r,d)=>{const g=t.utils.$();let _;const C=i!==void 0?i:"",k=g("<div>").appendTo(g("body"));g("<div>").addClass("info-box-content").appendTo(k);const E=g.extend({},{removeOnClose:!0,type:C},r!==void 0?r:{});return E._runtime=!0,k.infobox(E),_=t.getPlugin(k,"infobox"),_.setContent(e),d!==!1&&_.open(),k}}})(Metro,Dom),((t,o)=>{let f={maskPattern:".",mask:null,maskPlaceholder:"_",maskEditableStart:0,thresholdInterval:300,onChar:t.noop,onInputMaskCreate:t.noop};t.inputMaskSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroInputMaskSetup<"u"&&t.inputMaskSetup(globalThis.metroInputMaskSetup),t.Component("input-mask",{init:function(e,i){return this._super(i,e,f,{pattern:null,mask:"",maskArray:[],placeholder:"",length:0,thresholdTimer:null,id:null}),this},_create:function(){this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("input-mask-create")},_createStructure:function(){const e=this.options;if(!e.mask)throw new Error("You must provide a pattern for masked input.");if(typeof e.maskPlaceholder!="string"||e.maskPlaceholder.length>1)throw new Error("Mask placeholder should be a single character or an empty string.");this.placeholder=e.maskPlaceholder,this.mask=`${e.mask}`,this.maskArray=this.mask.split(""),this.pattern=new RegExp(`^${e.maskPattern}+$`),this.length=this.mask.length,this._showValue()},_createEvents:function(){const e=this,i=this.element,r=this.options,d=r.maskEditableStart,g=this.id,_=B=>B<d?(E(d),!1):!0,C=B=>B<e.mask.length&&e.mask.charAt(B)===e.placeholder,k=B=>{let q;const Z=e.maskArray;for(q=B;q<=Z.length;q++)if(Z[q]===e.placeholder)return q;return B},E=B=>{e.elem.setSelectionRange(B,B)},I=()=>{clearInterval(e.thresholdTimer),e.thresholdTimer=null};i.on("change",function(){this.value===""&&(this.value=e.mask,E(d))},{ns:g}),i.on("focus click",function(){_(this.selectionStart),E(k(this.selectionStart))},{ns:g}),i.on("keydown",function(B){const q=this.selectionStart,Z=this.value,Q=B.code,De=B.key;if(Q==="ArrowRight"||Q==="End")return!0;q>=e.length&&["Backspace","Home","ArrowLeft","ArrowUp"].indexOf(Q)===-1?B.preventDefault():Q==="Home"||Q==="ArrowUp"?(B.preventDefault(),E(d)):Q==="ArrowLeft"?q-1<d&&B.preventDefault():Q==="Backspace"?(B.preventDefault(),q-1>=d&&(C(q-1)&&this.value.charAt(q-1)!==e.placeholder&&(this.value=Z.substr(0,q-1)+e.placeholder+Z.substr(q)),E(q-1))):Q==="Space"?(B.preventDefault(),E(q+1)):e.pattern.test(De)?(B.preventDefault(),C(q)&&(this.value=Z.substr(0,q)+(r.onChar===t.noop?De:t.utils.exec(r.onChar,[De],this))+Z.substr(q+1),E(k(q+1)))):B.preventDefault()},{ns:g}),i.on("keyup",function(){I(),e.thresholdTimer=setInterval(()=>{I(),E(k(this.selectionStart))},r.thresholdInterval)},{ns:g})},_showValue:function(){const e=this.elem,i=new Array(this.length);let r;e.value?(r=e.value,o.each(this.maskArray,(d,g)=>{r[d]!==g&&!this.pattern.test(r[d])?i[d]=this.placeholder:i[d]=r[d]}),this.elem.value=i.join("")):e.value=this.mask},destroy:function(){const e=this.element,i=this.id;return e.off("change",{ns:i}),e.off("focus",{ns:i}),e.off("click",{ns:i}),e.off("keydown",{ns:i}),e.off("keyup",{ns:i}),e}})})(Metro,Dom),((t,o)=>{let f={materialInputDeferred:0,label:"",informer:"",icon:"",permanentLabel:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"❌",revealButtonIcon:"👀",searchButtonIcon:"🔍",customButtons:[],searchButtonClick:"submit",clsComponent:"",clsInput:"",clsLabel:"",clsInformer:"",clsIcon:"",clsLine:"",onInputCreate:t.noop};t.materialInputSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroMaterialInputSetup<"u"&&t.materialInputSetup(globalThis.metroMaterialInputSetup),t.Component("material-input",{init:function(e,i){return this._super(i,e,f,{history:[],historyIndex:-1}),this},_create:function(){const e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options;let r,d;e[0].className="",e.attr("autocomplete","nope"),e.attr("type")===void 0&&e.attr("type","text"),r=e.wrap("<div>").addClass(`input-material ${e[0].className}`),d=o("<div>").addClass("buttons").appendTo(r),i.label&&o("<span>").html(i.label).addClass("label").addClass(i.clsLabel).insertAfter(e),t.utils.isValue(i.informer)&&o("<span>").html(i.informer).addClass("informer").addClass(i.clsInformer).insertAfter(e),t.utils.isValue(i.icon)&&(r.addClass("with-icon"),o("<span>").html(i.icon).addClass("icon").addClass(i.clsIcon).insertAfter(e)),i.clearButton===!0&&!e[0].readOnly&&o("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).appendTo(d),e.attr("type")==="password"&&i.revealButton===!0&&o("<button>").addClass("button input-reveal-button").addClass(i.clsRevealButton).attr("tabindex",-1).attr("type","button").html(i.revealButtonIcon).appendTo(d),i.searchButton===!0&&o("<button>").addClass("button input-search-button").addClass(i.clsSearchButton).attr("tabindex",-1).attr("type",i.searchButtonClick==="submit"?"submit":"button").html(i.searchButtonIcon).appendTo(d);const g=t.utils.isObject(i.customButtons);Array.isArray(g)&&o.each(g,function(){const _=o("<button>");_.addClass("button input-custom-button").addClass(i.clsCustomButton).addClass(this.cls).attr("tabindex",-1).attr("type","button").html(this.text),this.attr&&typeof this.attr=="object"&&o.each(this.attr,(C,k)=>{_.attr(Str.dashedName(C),k)}),this.onclick&&_.on("click",()=>{this.onclick.apply(_,[e.valueOf(),e])}),_.appendTo(d)}),r.append(o("<hr>").addClass(i.clsLine)),i.permanentLabel===!0&&r.addClass("permanent-label"),r.addClass(i.clsComponent),e.addClass(i.clsInput),e.is(":disabled")?this.disable():this.enable(),this.component=r},_createEvents:function(){const e=this,i=this.options,r=this.element;this.component.on(t.events.click,".input-clear-button",()=>{const d=r.val();r.val("").fire("clear").fire("change").fire("keyup").focus(),e._fireEvent("clear-click",{prev:d})}),this.component.on(t.events.click,".input-reveal-button",()=>{r.attr("type")==="password"?r.attr("type","text"):r.attr("type","password"),e._fireEvent("reveal-click",{val:r.val()})}),this.component.on(t.events.click,".input-search-button",function(){i.searchButtonClick!=="submit"?e._fireEvent("search-button-click",{val:r.val(),button:this}):this.form&&this.form.submit()}),r.on(t.events.keydown,d=>{d.keyCode===t.keyCode.ENTER&&e._fireEvent("enter-click",{val:r.val()})})},clear:function(){this.element.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let f={keypadDeferred:0,label:"",keySize:36,keys:"1, 2, 3, 4, 5, 6, 7, 8, 9, 0",exceptKeys:"",keySeparator:"",trimSeparator:!1,keyDelimiter:",",copyInlineStyles:!1,target:null,keyLength:0,shuffle:!1,shuffleCount:3,serviceButtons:!0,showValue:!0,open:!1,useElementSizeForKeys:!1,openMode:"auto",clsKeypad:"",clsInput:"",clsKeys:"",clsKey:"",clsServiceKey:"",clsBackspace:"",clsClear:"",clsLabel:"",onChange:t.noop,onClear:t.noop,onBackspace:t.noop,onShuffle:t.noop,onKey:t.noop,onKeypadCreate:t.noop};t.keypadSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroKeypadSetup<"u"&&t.keypadSetup(globalThis.metroKeypadSetup),t.Component("keypad",{init:function(e,i){return this._super(i,e,f,{value:i.tagName==="INPUT"?i.value:i.innerText,positions:["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],keypad:null,keys:[],keys_to_work:[],exceptKeys:[]}),this},_create:function(){const e=this.element,i=this.options;this.options.position="bottom-left",this.keys=i.keys.toArray(i.keyDelimiter),this.keys_to_work=this.keys,this.exceptKeys=i.exceptKeys.toArray(i.keyDelimiter),this._createKeypad(),i.shuffle===!0&&this.shuffle(),this._createKeys(),this._createEvents(),this._fireEvent("keypad-create",{element:e})},_createKeypad:function(){const e=this.element,i=this.options;let r;const d=e.wrap("<div>").addClass("input keypad").addClass(e[0].className).addClass(i.clsKeypad);if(e.attr("type")===void 0&&e.attr("type","text"),e.attr("readonly",!0),r=o("<div>").addClass("keys").addClass(i.clsKeys),r.appendTo(d),this._setKeysPosition(),i.open===!0&&r.addClass("open keep-open"),e[0].className="",i.copyInlineStyles===!0){let C=0;const k=e[0].style.length;for(;C<k;C++)d.css(e[0].style[C],e.css(e[0].style[C]))}e.addClass(i.clsInput),d.addClass(i.clsKeypad),e.on(t.events.blur,()=>{d.removeClass("focused")}),e.on(t.events.focus,()=>{d.addClass("focused")});const g=o("<div>").addClass("button-group").appendTo(d);if(o("<button>").addClass("button input-kbd-button").addClass(i.clsKbdButton).attr("tabindex",-1).attr("type","button").html("⌨").appendTo(g),i.label){const C=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(d);if(e.attr("id"))C.attr("for",e.attr("id"));else{const k=Hooks.useId(e[0]);e.id(k),C.attr("for",k)}e.attr("dir")==="rtl"&&C.addClass("rtl")}i.disabled===!0||e.is(":disabled")?this.disable():this.enable(),this.keypad=d},_setKeysPosition:function(){const e=this.element,i=this.options;e.parent().find(".keys").removeClass(this.positions.join(" ")).addClass(i.position)},_createKeys:function(){const e=this.element,i=this.options,r=e.parent();let d;const g=r.find(".keys"),_=Math.round(Math.sqrt(this.keys.length+2)),C=i.keySize;let k;if(g.html(""),o.each(this.keys_to_work,function(){d=o("<span>").addClass("key").addClass(i.clsKey).html(this),d.data("key",this),d.css({width:i.keySize,height:i.keySize,lineHeight:i.keySize-4}).appendTo(g)}),i.serviceButtons===!0){const E=["&larr;","&times;"];o.each(E,function(){d=o("<span>").addClass("key service-key").addClass(i.clsKey).addClass(i.clsServiceKey).html(this),this==="&larr;"&&d.addClass(i.clsBackspace),this==="&times;"&&d.addClass(i.clsClear),d.data("key",this),d.css({width:i.keySize,height:i.keySize,lineHeight:i.keySize-4}).appendTo(g)})}i.useElementSizeForKeys===!0?g.outerWidth(e.outerWidth()):(k=_*(C+2)-6,g.outerWidth(k))},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.parent(),g=d.find(".keys");g.on(t.events.click,".key",function(_){const C=o(this),k=C.data("key");let E;if(C.data("key")!=="&larr;"&&C.data("key")!=="&times;"){if(r.keyLength>0&&`${e.value}`.length===r.keyLength)return!1;e.exceptKeys.indexOf(k)===-1&&(e.value=e.value+(e.value!==""?r.keySeparator:"")+k),r.shuffle===!0&&(e.shuffle(),e._createKeys()),r.dynamicPosition===!0&&(r.position=e.positions[o.random(0,e.positions.length-1)],e._setKeysPosition()),e._fireEvent("key",{key:C.data("key"),val:e.value})}else C.data("key")==="&times;"&&(e.value="",e._fireEvent("clear")),C.data("key")==="&larr;"&&(E=r.keySeparator&&e.value[e.value.length-1]!==r.keySeparator?2:1,e.value=e.value.substring(0,e.value.length-E),e._fireEvent("backspace",{val:e.value}));r.showValue===!0&&(i[0].tagName==="INPUT"?i.val(e.value):i.text(e.value)),e._fireEvent("change",{val:e.val}),_.preventDefault(),_.stopPropagation()}),d.on(t.events.click,_=>{r.open!==!0&&(g.hasClass("open")===!0?g.removeClass("open").removeClass("top-left"):(g.addClass("open"),r.openMode==="auto"?t.utils.inViewport(g[0])===!1&&g.addClass("top-left"):r.openMode==="up"&&g.addClass("top-left")),_.preventDefault(),_.stopPropagation())}),r.target!==null&&i.on(t.events.change,()=>{const _=o(r.target);_.length!==0&&(_[0].tagName==="INPUT"?_.val(e.value):_.text(e.value))})},shuffle:function(){const e=this.options;for(let i=0;i<e.shuffleCount;i++)this.keys_to_work=this.keys_to_work.shuffle();this._fireEvent("shuffle",{keysToWork:this.keys_to_work,keys:this.keys})},shuffleKeys:function(e=3){for(let i=0;i<e;i++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(e){const i=this.element,r=this.options;return typeof e>"u"?r.trimSeparator?this.value.replace(new RegExp(r.keySeparator,"g")):this.value:(this.value=`${e}`,i[0].tagName==="INPUT"?i.val(e):i.text(e),this)},open:function(){const e=this.element,i=this.options,d=e.parent().find(".keys");d.addClass("open"),i.openMode==="auto"?t.utils.inViewport(d[0])===!1&&d.addClass("top-left"):i.openMode==="up"&&d.addClass("top-left")},close:function(){this.element.parent().find(".keys").removeClass("open").removeClass("top-left")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setPosition:function(e){const i=e!==void 0?e:this.element.attr("data-position");this.positions.indexOf(i)!==-1&&(this.options.position=i,this._setKeysPosition())},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break;case"data-position":this.setPosition();break}},destroy:function(){const e=this.element,i=this.options,r=this.keypad,d=r.find(".keys");r.off(t.events.click),d.off(t.events.click,".key"),e.off(t.events.change),i.label&&r.prev("label").remove(),r.remove()}}),o(document).on(t.events.click,()=>{const e=o(".keypad .keys");o.each(e,function(){o(this).hasClass("keep-open")||o(this).removeClass("open")})})})(Metro,Dom),((t,o)=>{let f={loop:!0,source:"img",iconClose:"❌",iconPrev:"🡐",iconNext:"🡒",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:t.noop,onLightboxCreate:t.noop};t.lightboxSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroLightboxSetup<"u"&&t.lightboxSetup(globalThis.metroLightboxSetup),t.Component("lightbox",{init:function(e,i){return this._super(i,e,f,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){const e=this.options;e.source||(e.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){const e=this.options;let i;i=o(".lightbox-overlay"),i.length===0&&(i=o("<div>").addClass("lightbox-overlay").appendTo("body").hide());const r=o("<div>").addClass("lightbox").addClass(e.clsLightbox).appendTo("body").hide();o("<span>").addClass("lightbox__prev").addClass(e.clsPrev).html(e.iconPrev).appendTo(r),o("<span>").addClass("lightbox__next").addClass(e.clsNext).html(e.iconNext).appendTo(r),o("<span>").addClass("lightbox__closer").addClass(e.clsClose).html(e.iconClose).appendTo(r),o("<div>").addClass("lightbox__image").addClass(e.clsImageContainer).appendTo(r),this.component=r[0],this.lightbox=r,this.overlay=i},_createEvents:function(){const e=this,i=this.element,r=this.options,d=o(this.component);i.on(t.events.click,r.source,function(){e.open(this)}),d.on(t.events.click,".lightbox__closer",()=>{e.close()}),d.on(t.events.click,".lightbox__prev",()=>{e.prev()}),d.on(t.events.click,".lightbox__next",()=>{e.next()})},_setupItems:function(){const e=this.element,i=this.options,r=e.find(i.source);r.length!==0&&(this.items=r)},_goto:function(e){const i=this,r=this.options,d=o(e),g=o("<img>");let _;const C=this.lightbox.find(".lightbox__image");C.find(".lightbox__image-wrapper").remove();const k=o("<div>").addClass("lightbox__image-wrapper").addClass(r.clsImageWrapper).attr("data-title",d.attr("alt")||d.attr("data-title")||"").appendTo(C),E=o("<div>").appendTo(k);t.makePlugin(E,"activity",{type:"cycle",style:"color"}),this.current=e,(e.tagName==="IMG"||e.tagName==="DIV")&&(_=d.attr("data-original")||d.attr("src"),g.attr("src",_),g[0].onload=function(){const I=this.height>this.width;g.addClass(I?"lightbox__image-portrait":"lightbox__image-landscape").addClass(r.clsImage),g.attr("alt",d.attr("alt")),g.appendTo(k),E.remove(),i._fireEvent("draw-image",{image:g[0],item:k[0]})})},_index:function(e){let i=-1;return this.items.each(function(r){this===e&&(i=r)}),i},next:function(){let e;const i=this.current;if(e=this._index(i),e+1>=this.items.length)if(this.options.loop)e=-1;else return;this._goto(this.items[e+1])},prev:function(){let e;const i=this.current;if(e=this._index(i),e-1<0)if(this.options.loop)e=this.items.length;else return;this._goto(this.items[e-1])},open:function(e){return this._setupItems(),this._goto(e),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={listDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationShortMode:!0,thousandSeparator:",",decimalSeparator:",",itemTag:"li",defaultTemplateTag:"div",sortClass:null,sortDir:"asc",sortInitial:!0,filterClass:null,filter:null,filterString:"",filters:null,source:null,showItemsSteps:!1,showSearch:!1,showListInfo:!1,showPagination:!1,showActivity:!0,muteList:!0,items:-1,itemsSteps:"all, 10,25,50,100",itemsAllTitle:"Show all",listItemsCountTitle:"Show entries:",listSearchTitle:"Search:",listInfoTitle:"Showing $1 to $2 of $3 entries",paginationPrevTitle:"Prev",paginationNextTitle:"Next",activityType:"cycle",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,searchThreshold:500,clsComponent:"",clsList:"",clsListItem:"",clsListTop:"",clsItemsCount:"",clsSearch:"",clsListBottom:"",clsListInfo:"",clsListPagination:"",clsPagination:"",clsTemplateTag:"",onDraw:t.noop,onDrawItem:t.noop,onSortStart:t.noop,onSortStop:t.noop,onSortItemSwitch:t.noop,onSearch:t.noop,onRowsCountChange:t.noop,onDataLoad:t.noop,onDataLoaded:t.noop,onDataLoadError:t.noop,onFilterItemAccepted:t.noop,onFilterItemDeclined:t.noop,onListCreate:t.noop};t.listSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroListSetup<"u"&&t.listSetup(globalThis.metroListSetup),t.Component("list",{init:function(e,i){return this._super(i,e,f,{currentPage:1,pagesCount:1,filterString:"",data:null,activity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,filterIndex:null,filtersIndexes:[],itemTemplate:null,sort:{dir:"asc",colIndex:0},header:null,items:[]}),this},_create:function(){const e=this.options;e.source?(this._fireEvent("data-load",{source:e.source}),fetch(e.source).then(t.fetch.status).then(t.fetch.json).then(i=>{this._fireEvent("data-loaded",{source:e.source,data:i}),this._build(i)}).catch(i=>{this._fireEvent("data-load-error",{source:e.source,error:i})})):this._build()},_build:function(e){t.utils.isValue(e)?this._createItemsFromJSON(e):this._createItemsFromHTML(),this._createStructure(),this._createEvents(),this._fireEvent("list-create")},_createItemsFromHTML:function(){const e=this,i=this.element,r=this.options,d=`${r.clsTemplateTag}`.toArray(",");this.items=[],o.each(i.children(r.itemTag),function(){const g=o(this).children("*");d.length&&(d.length===1?g.addClass(d[0]):g.each((_,C)=>{o(C).addClass(d[_]?d[_]:d[d.length-1])})),e.items.push(this)})},_createItemsFromJSON:function(e){const i=this,r=this.options,d=`${r.clsTemplateTag}`.toArray(",");this.items=[],t.utils.isValue(e.template)&&(this.itemTemplate=e.template),t.utils.isValue(e.header)&&(this.header=e.header),t.utils.isValue(e.data)&&o.each(e.data,function(){let g="";const _=document.createElement(r.itemTag),C=i.itemTemplate;let k;if(t.utils.isValue(C))g=t.template(C,this,{beginToken:r.templateBeginToken,endToken:r.templateEndToken});else for(const E in this)g+=`<${r.defaultTemplateTag}>${this[E]}</${r.defaultTemplateTag}>`;_.innerHTML=g,k=o(_).children("*"),d.length&&(d.length===1?k.addClass(d[0]):k.each((E,I)=>{o(I).addClass(d[E]?d[E]:d[d.length-1])})),i.items.push(_)})},_createTopBlock:function(){const e=this.element,i=this.options,r=o("<div>").addClass("list-top").addClass(i.clsListTop).insertBefore(e);let d,g;d=t.utils.isValue(this.wrapperSearch)?this.wrapperSearch:o("<div>").addClass("list-search-block").addClass(i.clsSearch).appendTo(r);const _=o("<input>").attr("type","text").appendTo(d);t.makePlugin(_,"input",{prepend:i.listSearchTitle}),i.showSearch!==!0&&d.hide(),g=t.utils.isValue(this.wrapperRows)?this.wrapperRows:o("<div>").addClass("list-rows-block").addClass(i.clsItemsCount).appendTo(r);const C=o("<select>").appendTo(g);return o.each(i.itemsSteps.toArray(),function(){const k=o("<option>").attr("value",this==="all"?-1:this).text(this==="all"?i.itemsAllTitle:this).appendTo(C);+this==+i.items&&k.attr("selected","selected")}),C.select({filter:!1,prepend:i.listItemsCountTitle,onChange:k=>{+k!=+i.items&&(i.items=Number.parseInt(k),this.currentPage=1,this._draw(),this._fireEvent("rows-count-change",{val:k}))}}),i.showItemsSteps!==!0&&g.hide(),r},_createBottomBlock:function(){const e=this.element,i=this.options,r=o("<div>").addClass("list-bottom").addClass(i.clsListBottom).insertAfter(e);let d,g;return d=o("<div>").addClass("list-info").addClass(i.clsListInfo).appendTo(r),i.showListInfo!==!0&&d.hide(),g=o("<div>").addClass("list-pagination").addClass(i.clsListPagination).appendTo(r),i.showPagination!==!0&&g.hide(),r},_createStructure:function(){const e=this,i=this.element,r=this.options;let d;const g=o(r.searchWrapper),_=o(r.infoWrapper),C=o(r.rowsWrapper),k=o(r.paginationWrapper);g.length>0&&(this.wrapperSearch=g),_.length>0&&(this.wrapperInfo=_),C.length>0&&(this.wrapperRows=C),k.length>0&&(this.wrapperPagination=k),i.parent().hasClass("list-component")?d=i.parent():(d=o("<div>").addClass("list-component").insertBefore(i),i.appendTo(d)),d.addClass(r.clsComponent),this.activity=o("<div>").addClass("list-progress").appendTo(d),o("<div>").activity({type:r.activityType,style:r.activityStyle}).appendTo(this.activity),r.showActivity!==!0&&this.activity.css({visibility:"hidden"}),i.addClass(r.clsList),this._createTopBlock(),this._createBottomBlock(),t.utils.isValue(r.filterString)&&(this.filterString=r.filterString);let E;t.utils.isValue(r.filter)&&(E=t.utils.isFunc(r.filter),E===!1&&(E=t.utils.func(r.filter)),e.filterIndex=e.addFilter(E)),t.utils.isValue(r.filters)&&typeof r.filters=="string"&&o.each(r.filters.toArray(),function(){E=t.utils.isFunc(this),E!==!1&&e.filtersIndexes.push(e.addFilter(E))}),this.currentPage=1,r.sortInitial!==!1?this.sorting(r.sortClass,r.sortDir,!0):this.draw()},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.parent(),g=d.find(".list-search-block input");let _,C=function(){e.filterString=this.value.trim().toLowerCase(),e.filterString[e.filterString.length-1]!==":"&&(e.currentPage=1,e._draw())};C=Hooks.useDebounce(C,r.searchThreshold),g.on(t.events.inputchange,C),t.utils.isValue(this.wrapperSearch)&&(_=this.wrapperSearch.find("input"),_.length>0&&_.on(t.events.inputchange,C));function k(E){const I=o(E),B=I.parent();B.hasClass("active")||(B.hasClass("service")?I.data("page")==="prev"?(e.currentPage--,e.currentPage===0&&(e.currentPage=1)):(e.currentPage++,e.currentPage>e.pagesCount&&(e.currentPage=e.pagesCount)):e.currentPage=I.data("page"),e._draw())}d.on(t.events.click,".pagination .page-link",function(){k(this)}),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.on(t.events.click,".pagination .page-link",function(){k(this)})},_info:function(e,i,r){const d=this.element,g=this.options,_=d.parent(),C=t.utils.isValue(this.wrapperInfo)?this.wrapperInfo:_.find(".list-info");let k,E=i,I=e,B=r;C.length!==0&&(E>r&&(E=r),this.items.length===0&&(I=E=B=0),k=g.listInfoTitle,k=k.replace("$1",I),k=k.replace("$2",E),k=k.replace("$3",B),C.html(k))},_paging:function(e){const i=this.element,r=this.options,d=i.parent();this.pagesCount=Math.ceil(e/r.items),t.pagination({length:e,rows:r.items,current:this.currentPage,target:t.utils.isValue(this.wrapperPagination)?this.wrapperPagination:d.find(".list-pagination"),claPagination:r.clsPagination,prevTitle:r.paginationPrevTitle,nextTitle:r.paginationNextTitle,distance:r.paginationShortMode===!0?r.paginationDistance:0})},_filter:function(){const e=this.options;let i,r,d,g,_,C;return t.utils.isValue(this.filterString)||this.filters.length>0?(i=this.items.filter(k=>{if(d="",t.utils.isValue(e.filterClass)){if(g=k.getElementsByClassName(e.filterClass),g.length>0)for(r=0;r<g.length;r++)d+=g[r].textContent}else d=k.textContent;if(_=d.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),C=t.utils.isValue(this.filterString)?_.indexOf(this.filterString)>-1:!0,C===!0&&this.filters.length>0){for(r=0;r<this.filters.length;r++)if(t.utils.exec(this.filters[r],[k])!==!0){C=!1;break}}return C?this._fireEvent("filter-item-accepted",{item:k}):this._fireEvent("filter-item-declined",{item:k}),C}),this._fireEvent("search",{search:this.filterString,items:i})):i=this.items,i},_draw:function(e){const i=this.element,r=this.options;let d;const g=r.items===-1?0:r.items*(this.currentPage-1),_=r.items===-1?this.items.length-1:g+r.items-1;let C;for(C=this._filter(),i.children(r.itemTag).remove(),d=g;d<=_;d++)t.utils.isValue(C[d])&&o(C[d]).addClass(r.clsListItem).appendTo(i),this._fireEvent("draw-item",{item:C[d]});this._info(g+1,_+1,C.length),this._paging(C.length),this.activity.hide(),this._fireEvent("draw"),e&&t.utils.exec(e,[i],i[0])},_getItemContent:function(e){const i=this.locale,r=this.options,d=o(e);let g,_,C,k;const E=t.utils.isValue(d.data("formatMask"))?d.data("formatMask"):null;if(t.utils.isValue(r.sortClass)){if(C="",_=o(e).find(`.${r.sortClass}`),_.length>0)for(g=0;g<_.length;g++)C+=_[g].textContent;k=_.length>0?_[0].getAttribute("data-format"):""}else C=e.textContent,k=e.getAttribute("data-format");if(C=`${C}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),t.utils.isValue(k))switch(["number","int","integer","float","money"].indexOf(k)!==-1&&(r.thousandSeparator!==","||r.decimalSeparator!==".")&&(C=t.utils.parseNumber(C,r.thousandSeparator,r.decimalSeparator)),k){case"date":C=E?Datetime.from(C,E,i):datetime(C);break;case"number":C=Number(C);break;case"int":case"integer":C=Number.parseInt(C);break;case"float":C=Number.parseFloat(C);break;case"money":C=t.utils.parseMoney(C);break;case"card":C=t.utils.parseCard(C);break;case"phone":C=t.utils.parsePhone(C);break}return C},deleteItem:function(e){let i;const r=[];let d;const g=t.utils.isFunc(e);for(i=0;i<this.items.length;i++)d=this.items[i],g?t.utils.exec(e,[d])&&r.push(i):d.textContent.includes(e)&&r.push(i);return this.items=t.utils.arrayDeleteByMultipleKeys(this.items,r),this},draw:function(){return this._draw()},sorting:function(e,i,r){const d=this.options;return t.utils.isValue(e)&&(d.sortClass=e),t.utils.isValue(i)&&["asc","desc"].indexOf(i)>-1&&(d.sortDir=i),this._fireEvent("sort-start",{items:this.items}),this.items.sort((g,_)=>{const C=this._getItemContent(g),k=this._getItemContent(_);let E=0;return C<k&&(E=d.sortDir==="asc"?-1:1),C>k&&(E=d.sortDir==="asc"?1:-1),E!==0&&this._fireEvent("sort-item-switch",{a:g,b:_,result:E}),E}),this._fireEvent("sort-stop",{items:this.items}),r===!0&&this._draw(),this},filter:function(e){this.filterString=e.trim().toLowerCase(),this.currentPage=1,this._draw()},setData:function(e){const i=this,r=this.element,d=this.options;if(t.utils.isValue(e)!==!0)return;i._createItemsFromJSON(e),r.html(""),t.utils.isValue(d.filterString)&&(i.filterString=d.filterString);let g;t.utils.isValue(d.filter)&&(g=t.utils.isFunc(d.filter),g===!1&&(g=t.utils.func(d.filter)),i.filterIndex=i.addFilter(g)),t.utils.isValue(d.filters)&&typeof d.filters=="string"&&o.each(d.filters.toArray(),function(){g=t.utils.isFunc(this),g!==!1&&i.filtersIndexes.push(i.addFilter(g))}),i.currentPage=1,i.sorting(d.sortClass,d.sortDir,!0)},loadData:function(e){const i=this.options;t.utils.isValue(e)===!0&&(i.source=e,this._fireEvent("data-load",{source:i.source}),fetch(i.source).then(t.fetch.status).then(t.fetch.json).then(r=>{this._fireEvent("data-loaded",{source:i.source,data:r}),this.setData(r)}).catch(r=>{this._fireEvent("data-load-error",{source:i.source,error:r})}))},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}this._draw()}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}this._draw()}},first:function(){this.items.length!==0&&(this.currentPage=1,this._draw())},last:function(){this.items.length!==0&&(this.currentPage=this.pagesCount,this._draw())},page:function(e){let i=Number.parseInt(e);i<=0&&(i=1),i>this.pagesCount&&(i=this.pagesCount),this.currentPage=i,this._draw()},addFilter:function(e,i){const r=t.utils.isFunc(e);if(r!==!1)return this.filters.push(r),i===!0&&(this.currentPage=1,this.draw()),this.filters.length-1},removeFilter:function(e,i){return t.utils.arrayDeleteByKey(this.filters,e),i===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){this.filters=[],e===!0&&(this.currentPage=1,this.draw())},getFilters:function(){return this.filters},getFilterIndex:function(){return this.filterIndex},getFiltersIndexes:function(){return this.filtersIndexes},changeAttribute:function(e){const i=this.element,r=this.options,d=()=>{const C=i.attr("data-sort-dir");t.utils.isValue(C)&&(r.sortDir=C,this.sorting(r.sortClass,r.sortDir,!0))},g=()=>{const C=i.attr("data-sort-source");t.utils.isValue(C)&&(r.sortClass=C,this.sorting(r.sortClass,r.sortDir,!0))},_=()=>{const C=i.attr("data-filter-string");t.utils.isValue(C)&&(r.filterString=C,this.filter(r.filterString))};switch(e){case"data-sort-dir":d();break;case"data-sort-source":g();break;case"data-filter-string":_();break}},destroy:function(){const e=this.element,i=e.parent(),r=i.find(".list-search-block input");let d;return r.off(t.events.inputchange),t.utils.isValue(this.wrapperSearch)&&(d=this.wrapperSearch.find("input"),d.length>0&&d.off(t.events.inputchange)),i.off(t.events.click,".pagination .page-link"),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.off(t.events.click,".pagination .page-link"),e}})})(Metro,Dom),((t,o)=>{const f=`
    <svg width="800px" height="800px" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
        <path class="a" d="M39.5,15.5h-9a2,2,0,0,1-2-2v-9h-18a2,2,0,0,0-2,2v35a2,2,0,0,0,2,2h27a2,2,0,0,0,2-2Z"/>
        <line class="a" x1="28.5" y1="4.5" x2="39.5" y2="15.5"/>
    </svg>`,e='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>';let i={listviewDeferred:0,selectable:!1,duration:100,view:t.listView.LIST,selectCurrent:!0,defaultIcon:f,onNodeInsert:t.noop,onNodeDelete:t.noop,onNodeClean:t.noop,onCollapseNode:t.noop,onExpandNode:t.noop,onGroupNodeClick:t.noop,onNodeClick:t.noop,onNodeDblclick:t.noop,onListViewCreate:t.noop};t.listViewSetup=r=>{i=o.extend({},i,r)},typeof globalThis.metroListViewSetup<"u"&&t.listViewSetup(globalThis.metroListViewSetup),t.Component("listview",{init:function(r,d){return this._super(d,r,i),this},_create:function(){const r=this.element;this._createStructure(),this._createEvents(),this._fireEvent("listview-create",{element:r})},_createIcon:r=>o("<div>").addClass("icon").html(r),_createCaption:(r="")=>o("<div>").addClass("caption").html(r),_createContent:(r="")=>o("<div>").addClass("content").html(r),_createDesc:(r="")=>o("<div>").addClass("desc").html(r),_createDate:(r="")=>o("<div>").addClass("date").html(r),_createToggle:()=>o("<span>").addClass("node-toggle").html(e),_createNode:function(r){const d=this.options,g=o("<li>");return g.append(o("<input type='checkbox' data-role='checkbox'>").data("node",g)),g.append(this._createIcon(r.icon??d.defaultIcon)),g.append(this._createCaption(r.caption)),g.append(this._createDesc(r.desc)),g.append(this._createDate(r.date)),g.append(this._createContent(r.content)),g},_createStructure:function(){const r=this,d=this.element,g=this.options,_=d.find("li");d.addClass("listview"),d.find("ul").addClass("listview"),g.selectable&&d.addClass("selectable"),o.each(_,function(C){const k=o(this),E=k.html(),I=`Item_${C+1}`;k.children("ul").length>0?(k.prepend(r._createCaption(k.data("caption")??I)),k.addClass("node-group"),k.append(r._createToggle()),k.data("collapsed")!==!0&&k.addClass("expanded")):(k.clear().addClass("node"),k.append(o("<input type='checkbox' data-role='checkbox'>").data("node",k)),k.append(r._createIcon(k.data("icon")??g.defaultIcon)),k.append(r._createCaption(k.data("caption")??I)),k.append(r._createDesc(k.data("desc"))),k.append(r._createDate(k.data("date"))),k.append(r._createContent(E)))}),g.selectable&&d.addClass("selectable"),this.view(g.view)},_createEvents:function(){const r=this,d=this.element,g=this.options;d.on(t.events.dblclick,".node",function(){const _=o(this);r._fireEvent("node-dblclick",{node:_})}),d.on(t.events.click,".node",function(){const _=o(this),C=o(this).attr("href");if(C){globalThis.location.href=C;return}const k=_.hasClass("current");d.find(".node").removeClass("current"),k||_.addClass("current"),g.selectCurrent===!0&&(d.find(".node").removeClass("current-select"),k||_.addClass("current-select")),r._fireEvent("node-click",{node:_})}),d.on(t.events.click,".node-toggle",function(){const _=o(this).closest("li");r.toggleNode(_)}),d.on(t.events.click,".node-group > .caption",function(){const _=o(this).closest("li");d.find(".node-group").removeClass("current-group"),_.addClass("current-group"),r._fireEvent("group-node-click",{node:_})}),d.on(t.events.dblclick,".node-group > .caption",function(){const _=o(this).closest("li");r.toggleNode(_),r._fireEvent("node-dbl-click",{node:_})})},view:function(r){const d=this.element,g=this.options;if(r===void 0)return g.view;g.view=r,o.each(t.listView,(_,C)=>{d.removeClass(`view-${C}`),d.find("ul").removeClass(`view-${C}`)}),d.addClass(`view-${g.view}`),d.find("ul").addClass(`view-${g.view}`)},toggleNode:function(r){const d=this.options,g=o(r);if(!g.hasClass("node-group"))return;g.toggleClass("expanded");const _=g.hasClass("expanded")!==!0?"slideUp":"slideDown";this._fireEvent("collapse-node",{node:g}),g.children("ul")[_](d.duration)},toggleSelectable:function(){const r=this.element,d=this.options;d.selectable=!d.selectable;const g=d.selectable===!0?"addClass":"removeClass";console.log(g),r[g]("selectable"),r.find("ul")[g]("selectable")},add:function(r,d=null){const g=this.element,_=this.options;let C,k,E;if(d===null)C=g;else{if(E=o(d),!E.hasClass("node-group"))return;C=E.children("ul"),C.length===0&&(C=o("<ul>").addClass("listview").addClass(`view-${_.view}`).appendTo(E),k=this._createToggle(),k.appendTo(E),E.addClass("expanded"))}const I=this._createNode(r);I.addClass("node").appendTo(C);const B=o("<input type='checkbox'>");return B.data("node",I),I.prepend(B),t.makePlugin(B,"checkbox",{}),this._fireEvent("node-insert",{newNode:I,parentNode:d,list:C}),I},addGroup:function(r){const d=this.element,g=this.options;r.icon&&delete r.icon;const _=this._createNode(r);return _.addClass("node-group").appendTo(d),_.append(this._createToggle()),_.addClass("expanded"),_.append(o("<ul>").addClass("listview").addClass(`view-${g.view}`)),this._fireEvent("node-insert",{newNode:_,parentNode:null,list:d}),_},insertBefore:function(r,d){const g=o(d);if(!g.length)return;const _=this._createNode(r);_.addClass("node").insertBefore(g);const C=_.closest(".node"),k=_.closest("ul");return this._fireEvent("node-insert",{newNode:_,parentNode:C,list:k}),_},insertAfter:function(r,d){const g=o(d);if(!g.length)return;const _=this._createNode(r);_.addClass("node").insertAfter(g);const C=_.closest(".node"),k=_.closest("ul");return this._fireEvent("node-insert",{newNode:_,parentNode:C,list:k}),_},del:function(r){const d=this.element,g=o(r);if(!g.length)return;const _=g.closest("ul"),C=_.closest("li");g.remove(),_.children().length===0&&!_.is(d)&&(_.remove(),C.removeClass("expanded"),C.children(".node-toggle").remove()),this._fireEvent("node-delete",{node:g})},clean:function(r){const d=o(r);d.length&&(d.children("ul").remove(),d.removeClass("expanded"),d.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:d}))},getSelected:function(){const r=this.element,d=[];return o.each(r.find(":checked"),function(){const g=o(this);d.push(g.closest(".node")[0])}),d},clearSelected:function(){this.element.find(":checked").prop("checked",!1),this.element.trigger("change")},selectAll:function(r=!0){this.element.find(".checkbox input").prop("checked",r),this.element.trigger("change")},selectByAttribute:function(r,d,g=!0){this.element.find(`li[${r}="${d}"] > .checkbox input`).prop("checked",g),this.element.trigger("change")},changeAttribute:function(r){const d=this.element,g=this.options,_=()=>{const k=`view-${d.attr("data-view")}`;this.view(k)},C=()=>{g.selectable=JSON.parse(d.attr("data-selectable"))===!0,this.toggleSelectable()};switch(r){case"data-view":_();break;case"data-selectable":C();break}},destroy:function(){const r=this.element;r.off(t.events.click,".node"),r.off(t.events.click,".node-toggle"),r.off(t.events.click,".node-group > .caption"),r.off(t.events.dblclick,".node-group > .caption"),r.remove()}})})(Metro,Dom),((t,o)=>{let f={items:null,loop:!0,height:"auto",width:"100%",duration:1e4,direction:"left",ease:"linear",mode:"default",accentPause:2e3,firstPause:1e3,stopOnHover:!0,splitBy:`
`,clsMarquee:"",clsMarqueeItem:"",onMarqueeItem:t.noop,onMarqueeItemComplete:t.noop,onMarqueeComplete:t.noop,onMarqueeCreate:t.noop};t.marqueeSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroMarqueeSetup<"u"&&t.marqueeSetup(globalThis.metroMarqueeSetup),t.Component("marquee",{init:function(e,i){return this._super(i,e,f,{origin:null,items:[],running:!1,current:-1,chain:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("marquee-create")},_createStructure:function(){const e=this.element,i=this.options;e.addClass("marquee").addClass(i.clsMarquee),e.css({height:i.height,width:i.width});const r=e.html().split(i.splitBy).map(g=>g.trim()).filter(g=>g.length),d=t.utils.isObject(i.items)||[];this.origin=[...r,...d],this.setItems(this.origin,!0),this.items.length&&(this.current=0,this.createChain(),console.log(this.chain),this.start())},setItems:function(e,i=!0){const r=this.element,d=this.options,g=d.direction.toLowerCase();if(i&&(this.items.length=0),r.clear(),this.items=e.map(_=>o("<div>").html(_).addClass("marquee__item").addClass(d.clsMarqueeItem).appendTo(r)[0]),o(this.items).addClass(g==="left"||g==="right"?"moveLeftRight":"moveUpDown"),d.height==="auto"){let _=0;o(this.items).each(function(){const k=+o(this).outerHeight(!0);k>_&&(_=k)}),r.height(_)}return this},setItem:function(e,i){const r=o(this.items[e]);let d;const g=this.options,_=this.element;if(r.length)return r.html(i),d=r.outerHeight(!0),g.height==="auto"&&_.height()<d&&_.height(d),this},addItem:function(e,i=-1){const r=this.element,d=this.options;let g;const _=o(e);let C,k;return g=_.length?_:o("<div>").html(e),i<0?r.append(g):(C=this.items[i],C?g.insertBefore(C):r.append(g)),k=g.outerHeight(!0),d.height==="auto"&&r.height()<k&&r.height(k),this},createChain:function(){const e=this.element,i=this.options,r=20;let d=i.direction,g=i.ease,_=+i.duration,C=0;const k=e[0].getBoundingClientRect();if(this.chain.length=0,i.mode==="default")for(const E of this.items){const I=o(E),B=E.getBoundingClientRect();(k.width-B.width)/2;let q;I.attr("data-direction")&&(d=I.attr("data-direction")),I.attr("data-duration")&&(_=+I.attr("data-duration")),I.attr("data-ease")?g=I.attr("data-ease"):g=i.ease,["left","right"].indexOf(d)>-1?q={left:d==="left"?[k.width,-B.width-r]:[-B.width-r,k.width]}:q={top:d==="up"?[k.height,-B.height-r]:[-B.height-r,k.height]},this.chain.push({el:I[0],draw:q,dur:_,ease:g,defer:C===0?+i.firstPause:0}),C++}else for(const E of this.items){const I=o(E),B=E.getBoundingClientRect(),q=(k.width-B.width)/2,Z=(k.height-B.height)/2;let Q,De;_=i.duration/2,I.attr("data-direction")&&(d=I.attr("data-direction").toLowerCase()),I.attr("data-duration")&&(_=+I.attr("data-duration")/2);let He=g?g.split(" "):["linear"];I.attr("data-ease")&&(He=I.attr("data-ease").split(" ")),["left","right"].includes(d)?(Q={left:d==="left"?[k.width,q]:[-B.width-r,q]},De={left:d==="left"?[q,-B.width-r]:[q,k.width+r]}):(Q={top:d==="up"?[k.height,Z]:[-B.height-r,Z]},De={top:d==="up"?[Z,-B.height-r]:[Z,k.height+r]}),this.chain.push({el:I[0],draw:Q,dur:_,ease:He[0]||"linear",defer:C===0?+i.firstPause:0}),this.chain.push({el:I[0],draw:De,dur:_,ease:He[1]?He[1]:He[0]?He[0]:"linear",defer:+i.accentPause}),C++}},_createEvents:function(){const e=this.element,i=this.options;e.on(t.events.enter,()=>{i.stopOnHover&&o.pauseAll(this.items)}),e.on(t.events.leave,()=>{i.stopOnHover&&o.resumeAll(this.items)});const r=Hooks.useDebounce(d=>{this.stop(),this.setItems(this.items,!0),this.createChain(),this.start()},1e3);o(window).on(t.events.resize,r)},start:function(){const e=this.options;return this.running=!0,o.chain(this.chain,{loop:e.loop,onChainItem:t.utils.isFunc(e.onMarqueeItem),onChainItemComplete:t.utils.isFunc(e.onMarqueeItemComplete),onChainComplete:t.utils.isFunc(e.onMarqueeComplete)}),this},stop:function(){return this.running=!1,o.stopAll(!1),this},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={masterDeferred:0,effect:"slide",effectFunc:"linear",duration:200,controlPrev:"←",controlNext:"→",controlTitle:"Master, page $1 of $2",backgroundImage:"",clsMaster:"",clsControls:"",clsControlPrev:"",clsControlNext:"",clsControlTitle:"",clsPages:"",clsPage:"",onBeforePage:t.noop_true,onBeforeNext:t.noop_true,onBeforePrev:t.noop_true,onNextPage:t.noop,onPrevPage:t.noop,onMasterCreate:t.noop};t.masterSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroMasterSetup<"u"&&t.masterSetup(globalThis.metroMasterSetup),t.Component("master",{init:function(e,i){return this._super(i,e,f,{pages:[],currentIndex:0,isAnimate:!1,id:null}),this},_create:function(){const e=this.element,i=this.options;this.id=Hooks.useId(this.elem),e.addClass("master").addClass(i.clsMaster),e.css({backgroundImage:`url(${i.backgroundImage})`}),this._createControls(),this._createPages(),this._createEvents(),this._fireEvent("master-create",{element:e})},_createControls:function(){const e=this.element,i=this.options,r=["top","bottom"];let d,g;const _=e.find(".page");g=String(i.controlTitle).replace("$1","1"),g=String(g).replace("$2",_.length),o.each(r,function(){d=o("<div>").addClass(`controls controls-${this}`).addClass(i.clsControls).appendTo(e),o("<span>").addClass("prev").addClass(i.clsControlPrev).html(i.controlPrev).appendTo(d),o("<span>").addClass("next").addClass(i.clsControlNext).html(i.controlNext).appendTo(d),o("<span>").addClass("title").addClass(i.clsControlTitle).html(g).appendTo(d)}),this._enableControl("prev",!1)},_enableControl:function(e,i){const r=this.element.find(`.controls .${e}`);i===!0?r.removeClass("disabled"):r.addClass("disabled")},_setTitle:function(){const e=this.element.find(".controls .title");let i=this.options.controlTitle.replace("$1",this.currentIndex+1);i=i.replace("$2",String(this.pages.length)),e.html(i)},_createPages:function(){const e=this,i=this.element,r=this.options;let d=i.find(".pages");const g=i.find(".page");d.length===0&&(d=o("<div>").addClass("pages").appendTo(i)),d.addClass(r.clsPages),o.each(g,function(){const _=o(this);_.data("cover")?i.css({backgroundImage:`url(${_.data("cover")})`}):i.css({backgroundImage:`url(${r.backgroundImage})`}),_.css({left:"100%"}),_.addClass(r.clsPage).hide(0),e.pages.push(_)}),g.appendTo(d),this.currentIndex=0,this.pages[this.currentIndex]!==void 0&&(this.pages[this.currentIndex].data("cover")!==void 0&&i.css({backgroundImage:`url(${this.pages[this.currentIndex].data("cover")})`}),this.pages[this.currentIndex].css("left","0").show(0),setTimeout(()=>{d.css({height:e.pages[0].outerHeight(!0)+2})},0))},_createEvents:function(){const e=this.element,i=this.options;e.on(t.events.click,".controls .prev",()=>{this.isAnimate!==!0&&t.utils.exec(i.onBeforePrev,[this.currentIndex,this.pages[this.currentIndex],e])===!0&&t.utils.exec(i.onBeforePage,["prev",this.currentIndex,this.pages[this.currentIndex],e])===!0&&this.prev()}),e.on(t.events.click,".controls .next",()=>{this.isAnimate!==!0&&t.utils.exec(i.onBeforeNext,[this.currentIndex,this.pages[this.currentIndex],e])===!0&&t.utils.exec(i.onBeforePage,["next",this.currentIndex,this.pages[this.currentIndex],e])===!0&&this.next()}),o(globalThis).on(t.events.resize,()=>{e.find(".pages").height(this.pages[this.currentIndex].outerHeight(!0)+2)},{ns:this.id})},_slideToPage:function(e){if(this.pages[e]===void 0||this.currentIndex===e)return;const i=e>this.currentIndex?"next":"prev",r=this.pages[this.currentIndex],d=this.pages[e];this.currentIndex=e,this._effect(r,d,i)},_slideTo:function(e){const i=e.toLowerCase()==="next",r=this.pages[this.currentIndex];if(i){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}const d=this.pages[this.currentIndex];this._fireEvent(i?"next-page":"prev-page",{current:r,next:d,forward:i}),this._effect(r,d,e)},_effect:function(e,i,r){const d=this,g=this.element,_=this.options,C=g.width(),k=g.find(".pages");this._setTitle(),this.currentIndex===this.pages.length-1?this._enableControl("next",!1):this._enableControl("next",!0),this.currentIndex===0?this._enableControl("prev",!1):this._enableControl("prev",!0),setTimeout(()=>{d.isAnimate=!0,k.animate({draw:{height:i.outerHeight(!0)+2},onDone:()=>{E()}})},0),k.css("overflow","hidden");function E(){i.data("cover")!==void 0?g.css({backgroundImage:`url(${i.data("cover")})`}):g.css({backgroundImage:`url(${_.backgroundImage})`}),k.css("overflow","initial"),d.isAnimate=!1}function I(){e.stop(!0).animate({draw:{left:r==="next"?-C:C},dur:_.duration,ease:_.effectFunc,onDone:()=>{e.hide(0)}}),i.stop(!0).css({left:r==="next"?C:-C}).show(0).animate({draw:{left:0},dur:_.duration,ease:_.effectFunc,onDone:()=>{E()}})}function B(){e.hide(),i.css({top:0,left:0,opacity:0}).show(()=>{E()})}function q(){e.fadeOut(_.duration),i.css({top:0,left:0,opacity:0}).fadeIn(_.duration,"linear",()=>{E()})}switch(_.effect){case"fade":q();break;case"switch":B();break;default:I()}},toPage:function(e){this._slideToPage(e)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},changeEffect:function(){this.options.effect=this.element.attr("data-effect")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr("data-effect-func")},changeEffectDuration:function(){this.options.duration=this.element.attr("data-duration")},changeAttribute:function(e){switch(e){case"data-effect":this.changeEffect();break;case"data-effect-func":this.changeEffectFunc();break;case"data-duration":this.changeEffectDuration();break}},destroy:function(){const e=this.element;e.off(t.events.click,".controls .prev"),e.off(t.events.click,".controls .next"),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let f={navViewDeferred:0,expandPoint:null,toggle:null,animate:!0,activeState:!0,initialView:"expand",onMenuItemClick:t.noop,onPaneClose:t.noop,onBeforePaneClose:t.noop,onPaneOpen:t.noop,onBeforePaneOpen:t.noop,onNavviewCreate:t.noop};t.navViewSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroNavViewSetup<"u"&&t.navViewSetup(globalThis.metroNavViewSetup),t.Component("nav-view",{init:function(e,i){return this._super(i,e,f,{pane:null,content:null,paneToggle:null,id:null,menuScrollDistance:0,menuScrollStep:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("navview-create")},_calcMenuHeight:function(){const e=this.element;let i=0;const r=e.children(".navview-pane");if(r.length===0)return;const d=r.children(".navview-menu-container");d.length!==0&&(o.each(d.prevAll(),function(){i+=o(this).outerHeight(!0)}),o.each(d.nextAll(),function(){i+=o(this).outerHeight(!0)}),d.css({height:`calc(100% - ${i}px)`}),this.menuScrollStep=48,this.menuScrollDistance=t.utils.nearest(d[0].scrollHeight-d.height(),48))},_recalc:function(){setTimeout(()=>{this._calcMenuHeight()},200)},_createStructure:function(){const e=this.element,i=this.options;let r;e.addClass("navview"),e.attr("id")===void 0&&e.attr("id",Hooks.useId(this.elem)),this.id=e.attr("id"),i.initialView!=="compact"&&t.utils.mediaExist(i.expandPoint)?e.addClass("expanded"):e.addClass("compacted handmade"),t.storage.getItem("navview:compacted")===!0&&(e.removeClass("expanded"),e.addClass("compacted handmade"));const g=e.children(".navview-pane"),_=e.children(".navview-content"),C=o(i.toggle);r=g.children(".navview-menu"),r.length&&(r.prevAll().reverse().wrapAll(o("<div>").addClass("navview-container")),r.wrap(o("<div>").addClass("navview-menu-container")),r.find("a").each(function(){const k=o(this),E=k.children(".icon"),I=k.children(".caption");if(!E.length){const B=(I.text()||"A B").split(" ");k.prepend(o("<span>").addClass("icon icon-replacer").html(`${B[0][0]}${B[1]?B[1][0]:""}`))}})),this.pane=g.length>0?g:null,this.content=_.length>0?_:null,this.paneToggle=C.length>0?C:null,i.animate&&e.addClass("animate-panes"),this._recalc()},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.find(".navview-menu-container"),g=d.children(".navview-menu");d.on("mousewheel",_=>{const C=i.find(".navview-pane").width(),k=_.deltaY>0?-1:1,E=e.menuScrollStep,I=e.menuScrollDistance,B=Number.parseInt(g.css("top"));if(C>50)return!1;k===-1&&Math.abs(B)<=I&&g.css("top",Number.parseInt(g.css("top"))+E*k),k===1&&B<=-E&&g.css("top",Number.parseInt(g.css("top"))+E*k)},{passive:!0}),i.on(t.events.click,".pull-button",function(){e._pullClick(this,"pull")}),i.on(t.events.click,".holder",function(){e._pullClick(this,"holder")}),i.on(t.events.click,".navview-menu li",function(){r.activeState===!0&&(i.find(".navview-menu li.active").removeClass("active"),o(this).toggleClass("active"))}),i.on(t.events.click,".navview-menu li > a",function(){e._fireEvent("menu-item-click",{item:this})}),this.paneToggle!==null&&this.paneToggle.on(t.events.click,()=>{}),g.find("a").on(t.events.enter,function(){if(!i.hasClass("compacted"))return;const _=o(this),C=t.utils.rect(this);_.children(".caption").css({position:"fixed",top:C.top,left:C.left+d.width(),borderRadius:4,paddingLeft:10,boxShadow:"0 0 5px 0 var(--shadow-color)"})}),g.find("a").on(t.events.leave,function(){if(!i.hasClass("compacted"))return;const C=o(this).children(".caption");C[0].style=""}),o(globalThis).on(t.events.resize,()=>{this._recalc(),i.hasClass("handmade")||(t.utils.isValue(r.expandPoint)&&t.utils.mediaExist(r.expandPoint)?(i.removeClass("compacted"),i.addClass("expanded")):(i.removeClass("expanded"),i.addClass("compacted")))},{ns:this.id})},_togglePaneMode:function(e=!1){const i=this.element,r=this.options;i.toggleClass("expanded"),i.toggleClass("compacted"),i.toggleClass("handmade"),i.hasClass("compacted")?(t.storage.setItem("navview:compacted",!0),t.utils.exec(r.onPaneClose,null,this)):(t.storage.setItem("navview:compacted",!1),t.utils.exec(r.onPaneOpen,null,this))},_pullClick:function(e,i){let r;const d=o(e);return d!=null&&d.hasClass("holder")&&(r=d.parent().find("input"),setTimeout(()=>{r.focus()},200)),this._togglePaneMode(i==="pull"),this._recalc(),!0},toggle:function(){this._togglePaneMode()},compact:function(){const e=this.element;e.addClass("compacted handmade"),e.removeClass("expanded"),this._recalc()},expand:function(){const e=this.element;e.addClass("expanded"),e.removeClass("compacted handmade"),this._recalc()},state(){return this.element.hasClass("expanded")?"expand":"compact"},changeAttribute:(e,i)=>{},destroy:function(){const e=this.element;e.off(t.events.click,".pull-button, .holder"),e.off(t.events.click,".navview-menu li"),e.off(t.events.click,".navview-menu li > a"),this.paneToggle!==null&&this.paneToggle.off(t.events.click),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let r={container:null,width:220,timeout:3e3,duration:200,distance:"max",animation:"linear",clsNotify:"",onClick:t.noop,onClose:t.noop,onShow:t.noop,onAppend:t.noop,onNotifyCreate:t.noop};t.notifySetup=g=>{r=o.extend({},r,g)},typeof globalThis.metroNotifySetup<"u"&&t.notifySetup(globalThis.metroNotifySetup);const d={container:null,options:{},notifies:[],setup:function(g){return this.options=o.extend({},r,g),this},reset:function(){const g={width:220,timeout:3e3,duration:200,distance:"max",animation:"linear"};this.options=o.extend({},r,g)},_createContainer:()=>{const g=o("<div>").addClass("notify-container");return o("body").prepend(g),g},create:function(g,_,C={}){const k=this,E=this.options;let I,B;const q=t.utils.elementId("notify");if(!g)return!1;I=o("<div>").addClass("notify").addClass(E.clsNotify).attr("id",q),I.css({width:E.width}),_&&(B=o("<div>").addClass("notify-title").html(_),I.prepend(B)),o("<div>").addClass("notify-message").html(g).appendTo(I),C.clsNotify&&I.addClass(C.clsNotify),C.width!==void 0&&I.css({width:C.width}),I.on(t.events.click,function(){t.utils.exec(t.utils.isValue(C.onClick)?C.onClick:E.onClick,null,this),k.kill(o(this).closest(".notify"),t.utils.isValue(C.onClose)?C.onClose:E.onClose)}),d.container===null&&(d.container=d._createContainer()),I.appendTo(d.container),I.hide(()=>{t.utils.exec(t.utils.isValue(C.onAppend)?C.onAppend:E.onAppend,null,I[0]);const Q=t.utils.isValue(C.duration)?C.duration:E.duration,De=t.utils.isValue(C.animation)?C.animation:E.animation;let He=t.utils.isValue(C.distance)?C.distance:E.distance;(He==="max"||Number.isNaN(He))&&(He=o(globalThis).height()),I.show().animate({draw:{marginTop:[He,4],opacity:[0,1]},dur:Q,ease:De,onDone:function(){t.utils.exec(E.onNotifyCreate,null,this),C!==void 0&&C.keepOpen===!0||setTimeout(()=>{k.kill(I,t.utils.isValue(C.onClose)?C.onClose:E.onClose)},E.timeout),t.utils.exec(t.utils.isValue(C.onShow)?C.onShow:E.onShow,null,I[0])}})})},kill:function(g,_){g.off(t.events.click),g.zoomOut(300,"linear",()=>{t.utils.exec(_||this.options.onClose,null,g[0]),g.remove()})},killAll:function(){const g=this,_=o(".notify");o.each(_,function(){g.kill(o(this))})}};t.notify=d.setup()})(Metro,Dom),((t,o)=>{let f={tabsDeferred:0,expand:!1,expandPoint:null,type:"default",updateUri:!1,position:"top",align:"left",link:"",clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:t.noop,onTabOpen:t.noop,onTabClose:t.noop,onBeforeTab:t.noop_true,onTabsCreate:t.noop};t.tabsSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroTabsSetup<"u"&&t.tabsSetup(globalThis.metroTabsSetup),t.Component("tabs",{init:function(e,i){return this._super(i,e,f,{_targets:[],id:null}),this},_create:function(){const e=this.element,i=e.find(".active")[0];this.id=e.attr("id")||Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._open(i),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options,r=e.wrap("<div>").addClass("tabs");let d;r.addClass(`tabs-${i.position}`),e.addClass("tabs-list"),e.addClass(`tabs-${i.type}`),e.addClass(`align-${i.align}`),e.data("expanded",!1);const g=o("<div>").addClass("expand-title");if(r.prepend(g),d=r.find(".hamburger"),d.length===0){d=o("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(r);for(let _=0;_<3;_++)o("<span>").addClass("line").appendTo(d)}r.addClass(i.clsTabs),e.addClass(i.clsTabsList),e.children("li").addClass(i.clsTabsListItem),i.expand===!0?["left","right"].includes(i.position)||r.addClass("tabs-expand"):t.utils.isValue(i.expandPoint)&&t.utils.mediaExist(i.expandPoint)&&!["left","right"].includes(i.position)&&r.addClass("tabs-expand"),["left","right"].includes(i.position)&&r.addClass("tabs-expand")},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.parent();o(globalThis).on(t.events.resize,()=>{["left","right"].includes(r.position)||(r.expand===!0?["left","right"].includes(r.position)||d.addClass("tabs-expand"):t.utils.isValue(r.expandPoint)&&t.utils.mediaExist(r.expandPoint)&&!["left","right"].includes(r.position)?d.hasClass("tabs-expand")||d.addClass("tabs-expand"):d.hasClass("tabs-expand")&&d.removeClass("tabs-expand"))},{ns:this.id}),d.on(t.events.click,".hamburger, .expand-title",()=>{i.data("expanded")===!1?(i.addClass("expand"),i.data("expanded",!0),d.find(".hamburger").addClass("active")):(i.removeClass("expand"),i.data("expanded",!1),d.find(".hamburger").removeClass("active"))}),i.on(t.events.click,"li",function(g){const _=o(this).children("a"),C=_.attr("href").trim(),k=_.parent("li");if(e._fireEvent("tab",{tab:k[0],target:k.children("a").href()}),k.hasClass("active"),i.data("expanded")===!0&&(i.removeClass("expand"),i.data("expanded",!1),d.find(".hamburger").removeClass("active")),t.utils.exec(r.onBeforeTab,[k,i],k[0])!==!0)return!1;C&&(C.startsWith("#")?(e._open(k),g.preventDefault()):globalThis.location.href=C)}),o(globalThis).on("hashchange",()=>{let g,_;r.updateUri&&(g=globalThis.location.hash,_=e._findTabByTarget(g),e._open(o(_)))})},_findTabByTarget:function(e){const r=this.element.find("li");let d;return r.each((g,_)=>{!d&&o(_).children("a").attr("href")===e&&(d=_)}),d},_collectTargets:function(){const e=this,r=this.element.find("li");this._targets=[],o.each(r,function(){const d=o(this);if(d.hasClass("divider"))return;const g=d.find("a").attr("href").trim();g.length>1&&g[0]==="#"&&e._targets.push(g)})},_open:function(e){const i=this.element,r=this.options,d=i.find("li"),g=i.siblings(".expand-title"),_=i.find("li.active");if(d.length===0)return;this._collectTargets();const C=o(typeof e>"u"?d[0]:e),k=C.find("a").attr("href"),E=C.index();k!==void 0&&(d.removeClass("active").removeClass(r.clsTabsListItemActive),C.parent().hasClass("d-menu")?C.parent().parent().addClass("active"):C.addClass("active"),r.link&&o(`[data-link=${r.link}]`).each((I,B)=>{if(B===this.elem)return;const q=o(B).find("li");q.length&&q[E]&&q[E].click()}),o.each(this._targets,function(){const I=o(this);I.length>0&&I.hide()}),k!=="#"&&k[0]==="#"&&(r.updateUri&&(globalThis.location.hash=k),o(k).show()),g.html(C.find("a").html()),C.addClass(r.clsTabsListItemActive),_.is(C)||(this._fireEvent("tab-open",{tab:C[0],target:C.children("a").attr("href")}),this._fireEvent("tab-close",{tab:_[0],target:_.children("a").attr("href")})))},next:function(){const e=this.element;let i;i=e.find("li.active").next("li"),i.length>0&&this._open(i)},prev:function(){const e=this.element;let i;i=e.find("li.active").prev("li"),i.length>0&&this._open(i)},openByTarget:function(e){const i=this._findTabByTarget(e);i&&this._open(o(i))},openByIndex:function(e){const r=this.element.find("li");t.utils.isValue(r[e])&&this._open(o(r[e]))},open:function(e=1){const r=this.element.find("li");t.utils.isInt(e)?t.utils.isValue(r[e-1])&&this._open(o(r[e-1])):this._open(o(e))},changeAttribute:()=>{},destroy:function(){const e=this.element,i=e.parent();o(globalThis).off(t.events.resize,{ns:this.id}),i.off(t.events.click,".hamburger, .expand-title"),e.off(t.events.click,"a"),e.remove()}})})(Metro,Dom),((t,o)=>{const f=`<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z"/>
        <path d="M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z"/>
    </svg>`,e=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 9.781v10.667h8.885v1.771h7.115v-1.771h16v-10.667zM8.885 18.661h-1.771v-5.333h-1.781v5.333h-3.552v-7.104h7.104zM14.219 18.661v1.787h-3.552v-8.891h7.115v7.109h-3.563zM30.224 18.661h-1.776v-5.333h-1.781v5.333h-1.781v-5.333h-1.771v5.333h-3.563v-7.104h10.672zM14.219 13.333h1.781v3.557h-1.781z"/>
    </svg>`,i=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M30,10.75H21.251V2H30Z" />
        <path d="M20.374,10.75h-8.75V2h8.75Z" />
        <path d="M10.749,10.75H2V2h8.749Z" />
        <path d="M30,20.375H21.251v-8.75H30Z" />
        <path d="M20.374,20.375h-8.75v-8.75h8.75Z"/>
        <path d="M20.374,30h-8.75V21.25h8.75Z"/>
        <path d="M30,30H21.251V21.25H30Z" />
        <path d="M10.749,30H2V21.25h8.749Z" />
    </svg>`,r=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M28.208,24.409a10.493,10.493,0,0,0-3.959,1.822,23.743,23.743,0,0,1-5.835,2.642,1.632,1.632,0,0,1-.983.55A62.228,62.228,0,0,1,10.984,30c-1.163.009-1.876-.3-2.074-.776a1.573,1.573,0,0,1,.866-2.074,3.759,3.759,0,0,1-.514-.379c-.171-.171-.352-.514-.406-.388-.225.55-.343,1.894-.947,2.5-.83.839-2.4.559-3.328.072-1.019-.541.072-1.813.072-1.813a.73.73,0,0,1-.992-.343,4.847,4.847,0,0,1-.667-2.949,5.374,5.374,0,0,1,1.749-2.895,9.334,9.334,0,0,1,.658-4.4,10.445,10.445,0,0,1,3.165-3.661S6.628,10.747,7.35,8.817c.469-1.262.658-1.253.812-1.308a3.633,3.633,0,0,0,1.452-.857,5.265,5.265,0,0,1,4.41-1.7S15.2,1.4,16.277,2.09a18.349,18.349,0,0,1,1.533,2.886s1.281-.748,1.425-.469a11.334,11.334,0,0,1,.523,6.132,14.01,14.01,0,0,1-2.6,5.411c-.135.225,1.551.938,2.615,3.887.983,2.7.108,4.96.262,5.212.027.045.036.063.036.063s1.127.09,3.391-1.308A8.5,8.5,0,0,1,27.739,22.3a1.081,1.081,0,0,1,.469,2.11Z"/>
    </svg>`,d=`<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.966 22.566c6.609 0 11.966-4.326 11.966-9.661 0-3.308-2.051-6.23-5.204-7.963-1.283-.713-2.291-1.353-3.13-1.885-1.58-1.004-2.555-1.623-3.632-1.623-1.094 0-2.327.783-3.955 1.816a49.78 49.78 0 0 1-2.808 1.692C2.051 6.675 0 9.597 0 12.905c0 5.335 5.357 9.66 11.966 9.66Zm-1.397-17.83a5.885 5.885 0 0 0 .497-2.403c0-.144.201-.186.229-.028.656 2.775-.9 4.15-2.051 4.61-.124.048-.199-.12-.103-.208a5.748 5.748 0 0 0 1.428-1.971Zm2.052-.102a5.795 5.795 0 0 0-.78-2.3v-.015c-.068-.123.086-.263.185-.172 1.956 2.105 1.303 4.055.554 5.037-.082.102-.229-.003-.188-.126a5.837 5.837 0 0 0 .229-2.424Zm1.771-.559a5.708 5.708 0 0 0-1.607-1.801V2.26c-.112-.085-.024-.274.113-.218 2.588 1.084 2.766 3.171 2.452 4.395a.116.116 0 0 1-.048.071.11.11 0 0 1-.153-.026.118.118 0 0 1-.022-.083 5.864 5.864 0 0 0-.735-2.324Zm-5.072.559c-.616.544-1.279.758-2.058.997-.116 0-.194-.078-.155-.18 1.747-.907 2.369-1.645 2.99-2.771 0 0 .155-.117.188.085 0 .303-.348 1.325-.965 1.869Zm4.931 11.205a2.949 2.949 0 0 1-.935 1.549 2.16 2.16 0 0 1-1.282.618 2.167 2.167 0 0 1-1.323-.618 2.95 2.95 0 0 1-.923-1.549.243.243 0 0 1 .064-.197.23.23 0 0 1 .192-.069h3.954a.226.226 0 0 1 .19.07.239.239 0 0 1 .063.196Zm-5.443-2.17a1.85 1.85 0 0 1-2.377-.244 1.969 1.969 0 0 1-.233-2.44c.207-.318.502-.565.846-.711a1.84 1.84 0 0 1 1.089-.11c.365.075.701.26.964.53.264.27.443.616.515.99a1.98 1.98 0 0 1-.108 1.118 1.923 1.923 0 0 1-.696.866Zm8.471.005a1.849 1.849 0 0 1-2.374-.252 1.956 1.956 0 0 1-.546-1.362c0-.383.11-.758.319-1.076.207-.318.502-.566.847-.711a1.84 1.84 0 0 1 1.09-.108c.366.076.702.261.965.533s.44.617.512.993a1.98 1.98 0 0 1-.113 1.118 1.922 1.922 0 0 1-.7.865Z"/>
    </svg>`;let g={link:"package-manager",default:"npm",deps:"",package:"",onPackageManagerCreate:t.noop};t.packageManagerSetup=_=>{g=o.extend({},g,_)},typeof globalThis.metroPackageManagerSetup<"u"&&t.packageManagerSetup(globalThis.metroPackageManagerSetup),t.Component("package-manager",{init:function(_,C){return this._super(C,_,g,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("component-create")},_createStructure:function(){const _=this.element,C=this.options,k=new Date().getTime(),E=Hooks.useId(`pm-npm-${k}`),I=Hooks.useId(`pm-pnpm-${k}`),B=Hooks.useId(`pm-yarn-${k}`),q=Hooks.useId(`pm-bun-${k}`);_.addClass("package-manager"),_.html(`
                <ul data-role="tabs" data-expand="true" data-link="${C.link}">
                    <li class="${C.default==="npm"?"active":""}"><a href="#${E}">${e} npm</a></li>
                    <li class="${C.default==="pnpm"?"active":""}"><a href="#${I}">${i} pnpm</a></li>
                    <li class="${C.default==="yarn"?"active":""}"><a href="#${B}">${r} yarn</a></li>
                    <li class="${C.default==="bun"?"active":""}"><a href="#${q}">${d} bun</a></li>
                </ul>
                <div>
                    <div class="pm-command" id="${E}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>npm i ${C.deps===""?"":C.deps==="dev"?"-D":""} ${C.package}</code>
                    </div>
                    <div class="pm-command" id="${I}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>pnpm add ${C.deps===""?"":C.deps==="dev"?"-D":"--save-peer"} ${C.package}</code>
                    </div>
                    <div class="pm-command" id="${B}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>yarn add ${C.deps===""?"":C.deps==="dev"?"-D":"-P"} ${C.package}</code>
                    </div>
                    <div class="pm-command" id="${q}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>bun add ${C.deps===""?"":C.deps==="dev"?"-D":"--peer"} ${C.package}</code>
                    </div>
                </div>
            `)},_createEvents:function(){const _=this.element;this.options,_.on("click",".pm-command button",function(){const C=o(this).parent().find("code").text();t.utils.copy2clipboard(C)})},changeAttribute:(_,C)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={appendButton:!0,tabsPosition:"left",customButtons:null,activateNewTab:!0,defaultNewTabTitle:"New File",defaultNewCanClose:!0,defaultNewTabIcon:"",defaultNewTabImage:"",defaultNewTabPosition:"before",appendActions:null,tabsActions:null,tabActions:null,refControl:!1,onAppendButtonClick:t.noop,onTabCreate:t.noop_arg,onTabActivate:t.noop,onTabDeactivate:t.noop,onTabBeforeClose:t.noop_true,onTabClose:t.noop,onTabRename:t.noop,onTabPropChange:t.noop,onTabOrganized:t.noop};t.pageControlSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroPageControlSetup<"u"&&t.pageControlSetup(globalThis.metroPageControlSetup),t.Component("page-control",{init:function(e,i){return this._super(i,e,f,{newFileIndex:1,invisibleTabsHolderToggle:null,invisibleTabsHolder:null}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("page-control-create")},_createStructure:function(){const e=this.element,i=this.options;this.component=o("<div>").addClass("page-control").insertBefore(e),e.addClass("page-control__tabs").appendTo(this.component),e.addClass(`tabs-position-${i.tabsPosition}`);const r=e.children("li:not(.page-control__tab-custom)");let d=!1;if(r.each((C,k)=>{const E=o(k),I=E.html(),B=E.hasClass("active"),q=this.createTab({caption:I,icon:E.attr("data-icon"),image:E.attr("data-image"),canClose:E.attr("data-close")!=="false",data:E.attr("data-data"),ref:E.attr("data-ref")});B&&!d&&(d=!0,q.addClass("active"),this._fireEvent("tab-activate",{tab:q[0]})),e.append(q),E.remove()}),!d){const C=this.element.children(".page-control__tab").first();C.addClass("active"),this._fireEvent("tab-activate",{tab:C[0]})}if(i.refControl&&this._updateRefs(),i.appendButton){const C=o("<li>").addClass("page-control__tab__append").html('<span class="toggle">+</span>');if(i.appendActions){const k=t.utils.exec(i.appendActions,null,this);if(!Array.isArray(k))throw"PageControl Error! Prop appendActions must be a function that returns an array.";const E=o("<ul data-role='dropdown' class='d-menu context'>");k.map(I=>E.append(this._renderMenuItem(I))),C.append(E)}e.append(C)}const g=o("<li>").addClass("page-control__tab__service").addClass("invisible-tabs").appendTo(e);g.append(o("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">↧</span>
                    <ul class="d-menu place-right context page-control__invisible_tabs_holder"></ul>
                `)),this.invisibleTabsHolderToggle=g.find(".page-control__tab__service.invisible-tabs > .page-control__service-button"),this.invisibleTabsHolder=t.makePlugin(g.find(".page-control__invisible_tabs_holder"),"dropdown",{onClick:C=>{const k=o(C.target.parentNode);k.hasClass("page-control__tab__closer")?this.closeButtonClick(C):this.activateTab(k[0]),C.preventDefault(),C.stopPropagation()}}),this.invisibleTabsHolderToggle.hide(),this.organizeTabs();const _=o("<li>").addClass("page-control__tab__service").addClass("tabs-menu").appendTo(e);if(_.append(o("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">︙</span>
                    <ul class="d-menu place-right context" data-role="dropdown"></ul>
                `)),!i.tabsActions)_.hide();else{const C=_.find("ul");t.utils.exec(i.tabsActions,null,this).map(E=>C.append(this._renderMenuItem(E)))}},_updateRefs:function(){const e=this.element.find(".page-control__tab"),i=this.element.find(".page-control__tab.active");e.each((r,d)=>o(o(d).data("ref")).hide()),o(i.data("ref")).show()},_createEvents:function(){const e=this,i=this.element,r=this.options;i.on("click",".page-control__tab__closer",this.closeButtonClick.bind(this)),i.on("click",".page-control__tab__menu > li > a",function(d){const g=o(this).attr("data-action"),_=t.getPlugin(o(this).closest("ul"),"dropdown"),C=o(this).closest(".page-control__tab")[0];switch(_.close(),g){case"close":{e.closeTab(C);break}case"close-all":{e.closeAll();break}case"close-other":{e.closeOtherTabs(C);break}case"close-inactive":{e.closeInactiveTabs();break}case"close-left":{e.closeTabsOnTheLeft(C);break}case"close-right":{e.closeTabsOnTheRight(C);break}case"rename":{e.renameTab(C);break}}d.preventDefault(),d.stopPropagation()}),i.on("click",".page-control__tab",function(){o(this).hasClass("active")||e.activateTab(this)}),i.on("click",".page-control__tab__append > span",d=>{d.preventDefault(),d.stopPropagation();const g=e.createTab({caption:`${r.defaultNewTabTitle} ${e.newFileIndex++}`,canClose:r.defaultNewCanClose,icon:r.defaultNewTabIcon,image:r.defaultNewTabImage,data:null});e._fireEvent("tab-append",{tab:g}),e.activateTab(g),e.organizeTabs(),e._fireEvent("append-button-click",{tab:g})}),o(globalThis).on("resize",()=>{this.organizeTabs()})},_renderMenuItem:e=>{const i=o("<li>"),r=o("<a>");return(e.icon||e.image)&&r.append(e.icon?o("<span class='icon'>").addClass(e.icon):o("<img class='icon'>").attr("src",e.image).attr("alt","")),e.title&&r.append(o("<span>").addClass("caption").text(e.title)),r.data("data",e.data),e.onclick&&r.on("click",d=>e.onclick(d)),i.append(r),i},createTab:function({caption:e,icon:i,image:r,canClose:d=!0,hasMenu:g=!0,data:_,ref:C}){const k=this.element,E=this.options,I=o("<li>").addClass("page-control__tab").appendTo(k);if(g&&(I.append(o("<div>").addClass("page-control__tab__menu__holder").html(`
                        <span class="">︙</span>
                        <ul class="d-menu context page-control__tab__menu" data-role="dropdown">
                            <li><a data-action="rename">${this.strings.label_rename_tab}</a></li>
                            <li class="divider"></li>
                            <li><a data-action="close">${this.strings.label_close_tab}</a></li>
                            <li><a data-action="close-other">${this.strings.label_close_other_tabs}</a></li>
                            <li><a data-action="close-left">${this.strings.label_close_tabs_left}</a></li>
                            <li><a data-action="close-right">${this.strings.label_close_tabs_right}</a></li>
                            <li><a data-action="close-all">${this.strings.label_close_all_tabs}</a></li>
                            <li><a data-action="close-inactive">${this.strings.label_close_inactive_tabs}</a></li>
                        </ul>
                    `)),E.tabActions)){const B=I.find("ul"),q=t.utils.exec(E.tabActions);if(!Array.isArray(q))throw"PageControl Error! Prop tabActions must be a function that returns an array.";B.append(o("<li class='divider'>")),q.map(Z=>B.append(this._renderMenuItem(Z)))}return(i||r)&&I.append(o("<span>").addClass("page-control__tab__icon").html(i?`<span class="${i}">`:`<img src="${r}" alt=""/>`)),I.append(o("<span>").addClass("page-control__tab__caption").html(e)),d&&I.append(o("<span>").addClass("page-control__tab__closer").html("<span>✕</span>")),I.data("data",_),I.data("ref",C),this._fireEvent("tab-create",{tab:I[0]}),k[E.defaultNewTabPosition==="before"?"prepend":"append"](I),I[0]},closeButtonClick:function(e){const i=this.options,r=o(e.target).closest(".page-control__tab"),d=r.closest("ul");i.onTabBeforeClose(r[0])&&(this.closeTab(r[0]),d.hasClass("page-control__invisible_tabs_holder")&&d.children(".page-control__tab").length===0&&(t.getPlugin(this.invisibleTabsHolder,"dropdown").close(),this.invisibleTabsHolderToggle.hide()),e.preventDefault(),e.stopPropagation())},closeTab:function(e,i=!0){const r=o(e);if(r.hasClass("active")){const d=r.prev(".page-control__tab"),g=r.next(".page-control__tab");d.length?this.activateTab(d[0]):g.length?this.activateTab(g[0]):r.parent().hasClass("page-control__invisible_tabs_holder")&&parent.children(".page-control__tab").length===1&&element.children(".page-control__tab").length&&this.activateTab(element.children(".page-control__tab").last()[0])}return this._fireEvent("tab-close",{tab:e}),this.options.refControl&&o(r.data("ref")).remove(),r.remove(),i&&this.organizeTabs(),this},activateTab:function(e){const i=this.element,r=this.options;return i.find(".page-control__tab").each((d,g)=>{const _=o(g);_.hasClass("active")&&(this._fireEvent("tab-deactivate",{tab:g}),_.removeClass("active"))}),o(e).addClass("active"),r.refControl&&this._updateRefs(),this._fireEvent("tab-activate",{tab:e}),o(e).parent().hasClass("page-control__invisible_tabs_holder")&&(i.prepend(e),this.organizeTabs()),this},organizeTabs:function(){const e=this.element,i=this.elem.getBoundingClientRect().width,r=this.invisibleTabsHolder,d=e.find(".page-control__tab__append");r.children(".page-control__tab").each((C,k)=>{const E=o(k);d.length?E.insertBefore(d):E.appendTo(e)});const g=e.children(".page-control__tab");let _=0;for(const C of g){const k=C.getBoundingClientRect();if(_+k.width+50>i){o(C).nextAll(".page-control__tab").appendTo(r),o(C).appendTo(r);break}_+=k.width}r.children().length?this.invisibleTabsHolderToggle.show(function(){o(this).css({display:"flex"})}):this.invisibleTabsHolderToggle.hide(),this._fireEvent("tab-organized",null)},addTab:function({caption:e,icon:i,image:r,canClose:d=!0,hasMenu:g=!0,data:_,ref:C},k="before"){const E=this.options,I=this.createTab({caption:e,icon:i,image:r,canClose:d,hasMenu:g,data:_,ref:C});return E.activateNewTab&&this.activateTab(I),this.element[k==="before"?"prepend":"append"](I),this.organizeTabs(),I},getActiveTab:function(){return this.component.find(".page-control__tab.active")[0]},getActiveTabIndex:function(){return this.component.find(".page-control__tab").index(".active",!1)},getTabByIndex:function(e){return this.component.find(".page-control__tab").get(e)},getTabByTitle:function(e){if(!e)return;const i=this.component.find(".page-control__tab");for(const r of i)if(o(r).find(".caption").text()===e)return r},closeAll:function(){return this.component.find(".page-control__tab").each((e,i)=>{this.closeTab(i,!1)}),this.organizeTabs(),this},closeInactiveTabs:function(){return this.component.find(".page-control__tab").each((e,i)=>{o(i).hasClass("active")||this.closeTab(i,!1)}),this.organizeTabs(),this},closeOtherTabs:function(e){const i=typeof e=="number"?this.getTabByIndex(e):o(e);return this.component.find(".page-control__tab").each((r,d)=>{i[0]!==d&&this.closeTab(d,!1)}),this.activateTab(e),this.organizeTabs(),this},closeTabsOnTheLeft:function(e){const r=this.component.find(".page-control__tab").indexOf(o(e));return this.component.find(".page-control__tab").each((d,g)=>{d<r&&this.closeTab(g,!1)}),this.organizeTabs(),this},closeTabsOnTheRight:function(e){const r=this.component.find(".page-control__tab").indexOf(o(e));return this.component.find(".page-control__tab").each((d,g)=>{d>r&&this.closeTab(g,!1)}),this.organizeTabs(),this},setupTab:function(e,i,r){const d=o(e);switch(i){case"caption":{d.find(".page-control__tab__caption").text(r);break}case"icon":{d.find(".page-control__tab__icon")[0].className=r;break}case"image":{d.find(".page-control__tab__image").attr("src",r);break}case"data":{d.data("data",r);break}case"ref":{d.data("ref",r);break}}this._fireEvent("tab-prop-change",{tab:e}),this.organizeTabs()},renameTab:function(e){const i=o(e).find(".page-control__tab__caption");t.dialog.create({title:this.strings.label_rename_tab,content:`
                    <form style="width: 100%">
                        <input type="text" data-role="input" value="${i.text()}">
                    </form>
                `,defaultActions:!1,customButtons:[{text:this.strings.label_ok,cls:"js-dialog-close info",onclick:r=>{this.setupTab(e,"caption",r.find("input").val())}},{text:this.strings.label_cancel,cls:"js-dialog-close"}]})},changeAttribute:(e,i)=>{},destroy:function(){this.component.remove()}})})(Metro,Dom),((t,o)=>{t.pagination=f=>{const e={length:0,rows:0,current:0,target:"body",clsPagination:"",prevTitle:"",nextTitle:"",distance:5,islandSize:3,shortTrack:10,lang:void 0};let i,r,d;const g=o.extend({},e,f),_=Number.parseInt(g.distance),C=Number.parseInt(g.shortTrack),k=Number.parseInt(g.islandSize),E=Number.parseInt(g.length),I=Number.parseInt(g.rows),B=Math.ceil(E/I),q=Number.parseInt(g.current),Z=o(g.target).html(""),Q=o("<ul>").addClass("pagination").addClass(g.clsPagination).appendTo(Z);let De=g.lang||Z.closest("[lang]").attr("lang")||"en";t.locales[De]===void 0&&(De="en");const He=t.locales[De];if(E===0||I===-1)return;const Me=(Be,we,Ie)=>{const Oe=o("<li>").addClass("page-item").addClass(we),Fe=o("<a>").addClass("page-link").html(Be);return Fe.data("page",Ie),Fe.appendTo(Oe),Oe};if(r=Me(g.prevTitle||He.label_prev,"service prev-page","prev"),Q.append(r),Q.append(Me(1,q===1?"active":"",1)),_===0||B<=C)for(i=2;i<B;i++)Q.append(Me(i,i===q?"active":"",i));else if(q<_){for(i=2;i<=_;i++)Q.append(Me(i,i===q?"active":"",i));B>_&&Q.append(Me("...","no-link",null))}else if(q<=B&&q>B-_+1)for(B>_&&Q.append(Me("...","no-link",null)),i=B-_+1;i<B;i++)Q.append(Me(i,i===q?"active":"",i));else{Q.append(Me("...","no-link",null));for(let Be=k;Be>0;Be--)Q.append(Me(q-Be,"",q-Be));Q.append(Me(q,"active",q));for(let Be=1;Be<=k;Be++)Q.append(Me(q+Be,"",q+Be));Q.append(Me("...","no-link",null))}return(B>1||q<B)&&Q.append(Me(B,q===B?"active":"",B)),d=Me(g.nextTitle||He.label_next,"service next-page","next"),Q.append(d),q===1&&r.addClass("disabled"),q===B&&d.addClass("disabled"),E===0&&(Q.addClass("disabled"),Q.children().addClass("disabled")),Q}})(Metro,Dom),((t,o)=>{const f='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>';let e={panelDeferred:0,id:null,titleCaption:"",titleIcon:"",collapsible:!1,collapsed:!1,collapseDuration:100,width:"auto",height:"auto",draggable:!1,customButtons:null,clsCustomButton:"",clsPanel:"",clsTitle:"",clsTitleCaption:"",clsTitleIcon:"",clsContent:"",clsCollapseToggle:"",onCollapse:t.noop,onExpand:t.noop,onDragStart:t.noop,onDragStop:t.noop,onDragMove:t.noop,onPanelCreate:t.noop};t.panelSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroPanelSetup<"u"&&t.panelSetup(globalThis.metroPanelSetup),t.Component("panel",{init:function(i,r){return this._super(r,i,e),this},_addCustomButtons:function(i){const r=this.element,d=this.options,g=r.closest(".panel").find(".panel-title");let _,C=[];if(C=t.utils.isObject(i),!C){console.warn("Unknown format for custom buttons",i);return}if(g.length===0){console.warn("No place for custom buttons");return}return _=g.find(".custom-buttons"),_.length===0?_=o("<div>").addClass("custom-buttons").appendTo(g):(_.find(".btn-custom").off(t.events.click),_.html("")),o.each(C,function(){const k=o("<span>");k.addClass("button btn-custom").addClass(d.clsCustomButton).addClass(this.cls).attr("tabindex",-1).html(this.html),this.attr&&typeof this.attr=="object"&&o.each(this.attr,(E,I)=>{k.attr(Str.dashedName(E),I)}),k.data("action",this.onclick),_.prepend(k)}),g.on(t.events.click,".btn-custom",function(k){if(t.utils.isRightMouse(k))return;const E=o(this),I=E.data("action");t.utils.exec(I,[E],this)}),this},_create:function(){const i=this.element,r=this.options,d=o("<div>").addClass("panel").addClass(r.clsPanel),g=r.id?r.id:Hooks.useId(this.elem),_=i[0].className;let C;if(d.attr("id",g).addClass(_),d.insertBefore(i),i.appendTo(d),i[0].className="",i.addClass("panel-content").addClass(r.clsContent).appendTo(d),r.titleCaption!==""||r.titleIcon!==""||r.collapsible===!0){if(C=o("<div>").addClass("panel-title").addClass(r.clsTitle),r.titleCaption!==""&&o("<span>").addClass("caption").addClass(r.clsTitleCaption).html(r.titleCaption).appendTo(C),r.titleIcon!==""&&o(r.titleIcon).addClass("icon").addClass(r.clsTitleIcon).appendTo(C),r.collapsible===!0){const k=o("<span>").addClass("dropdown-toggle marker-center active-toggle").addClass(r.clsCollapseToggle).appendTo(C);k.append(f),t.makePlugin(i,"collapse",{toggleElement:k,duration:r.collapseDuration,onCollapse:r.onCollapse,onExpand:r.onExpand}),r.collapsed===!0&&this.collapse()}C.appendTo(d)}if(C&&t.utils.isValue(r.customButtons)&&this._addCustomButtons(r.customButtons),r.draggable===!0){let k;C?k=C.find(".caption, .icon"):k=d,t.makePlugin(d,"draggable",{dragContext:d[0],dragElement:k,onDragStart:r.onDragStart,onDragStop:r.onDragStop,onDragMove:r.onDragMove})}r.width!=="auto"&&Number.parseInt(r.width)>=0&&d.outerWidth(Number.parseInt(r.width)),r.height!=="auto"&&Number.parseInt(r.height)>=0&&(d.outerHeight(Number.parseInt(r.height)),i.css({overflow:"auto"})),this.panel=d,this._fireEvent("panel-create",{element:i,panel:d})},customButtons:function(i){return this._addCustomButtons(i)},collapse:function(){const i=this.element;t.utils.isMetroObject(i,"collapse")!==!1&&t.getPlugin(i,"collapse").collapse()},open:function(){this.expand()},close:function(){this.collapse()},expand:function(){const i=this.element;t.utils.isMetroObject(i,"collapse")!==!1&&t.getPlugin(i,"collapse").expand()},changeAttribute:(i,r)=>{},destroy:function(){const i=this.element,r=this.options;return r.collapsible===!0&&t.getPlugin(i,"collapse").destroy(),r.draggable===!0&&t.getPlugin(i,"draggable").destroy(),i}})})(Metro,Dom),((t,o)=>{let f={popoverDeferred:0,popoverText:"",popoverHide:3e3,popoverTimeout:10,popoverOffset:10,popoverTrigger:t.popoverEvents.HOVER,popoverPosition:t.position.TOP,hideOnLeave:!1,closeButton:!0,clsPopover:"",clsPopoverContent:"",onPopoverShow:t.noop,onPopoverHide:t.noop,onPopoverCreate:t.noop};t.popoverSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroPopoverSetup<"u"&&t.popoverSetup(globalThis.metroPopoverSetup),t.Component("popover",{init:function(e,i){return this._super(i,e,f,{popover:null,popovered:!1,size:{width:0,height:0},id:null}),this},_create:function(){this.id=Hooks.useId(this.elem),this._createEvents(),this._fireEvent("popover-create",{element:this.element})},_createEvents:function(){const e=this.element,i=this.options;let r;switch(i.popoverTrigger){case t.popoverEvents.CLICK:r=t.events.click;break;case t.popoverEvents.FOCUS:r=t.events.focus;break;default:r=t.events.enter}e.on(r,()=>{this.popover!==null||this.popovered===!0||setTimeout(()=>{this.createPopover(),this._fireEvent("popover-show",{popover:this.popover}),i.popoverHide>0&&setTimeout(()=>{this.removePopover()},i.popoverHide)},i.popoverTimeout)}),i.hideOnLeave===!0&&e.on(t.events.leave,()=>{this.removePopover()}),o(globalThis).on(t.events.scroll,()=>{this.popover!==null&&this.setPosition()},{ns:this.id})},setPosition:function(){const e=this.popover,i=this.size,r=this.options,d=this.element;r.popoverPosition===t.position.BOTTOM?(e.addClass("bottom"),e.css({top:d.offset().top-o(globalThis).scrollTop()+d.outerHeight()+r.popoverOffset,left:d.offset().left+d.outerWidth()/2-i.width/2-o(globalThis).scrollLeft()})):r.popoverPosition===t.position.RIGHT?(e.addClass("right"),e.css({top:d.offset().top+d.outerHeight()/2-i.height/2-o(globalThis).scrollTop(),left:d.offset().left+d.outerWidth()-o(globalThis).scrollLeft()+r.popoverOffset})):r.popoverPosition===t.position.LEFT?(e.addClass("left"),e.css({top:d.offset().top+d.outerHeight()/2-i.height/2-o(globalThis).scrollTop(),left:d.offset().left-i.width-o(globalThis).scrollLeft()-r.popoverOffset})):(e.addClass("top"),e.css({top:d.offset().top-o(globalThis).scrollTop()-i.height-r.popoverOffset,left:d.offset().left+d.outerWidth()/2-i.width/2-o(globalThis).scrollLeft()}))},createPopover:function(){const e=this.elem;let i=this.element;const r=this.options;let d,g;const _=this.id;let C;if(!this.popovered){switch(d=o("<div>").addClass("popover neb").addClass(r.clsPopover),d.attr("id",_),o("<div>").addClass("popover-content").addClass(r.clsPopoverContent).html(r.popoverText).appendTo(d),r.popoverHide===0&&r.closeButton===!0&&(C=o("<button>").addClass("square small popover-close-button").html("&times;").appendTo(d),C.on(t.events.click,()=>{this.removePopover()})),r.popoverPosition){case t.position.TOP:g="neb-s";break;case t.position.BOTTOM:g="neb-n";break;case t.position.RIGHT:g="neb-w";break;case t.position.LEFT:g="neb-e";break}if(d.addClass(g),r.closeButton!==!0&&d.on(t.events.click,()=>{this.removePopover()}),this.popover=d,this.size=t.utils.hiddenElementSize(d),e.tagName==="TD"||e.tagName==="TH"){const k=o("<div/>").css("display","inline-block").html(i.html());i.html(k),i=k}this.setPosition(),d.appendTo(o("body")),this.popovered=!0,this._fireEvent("popover-create",{popover:d})}},removePopover:function(){const e=this.options.onPopoverHide===t.noop?0:300,i=this.popover;this.popovered&&(this._fireEvent("popover-hide",{popover:i}),setTimeout(()=>{i.hide(0,()=>{i.remove(),this.popover=null,this.popovered=!1})},e))},show:function(){const e=this.options;this.popovered!==!0&&setTimeout(()=>{this.createPopover(),this._fireEvent("popover-show",{popover:this.popover}),e.popoverHide>0&&setTimeout(()=>{this.removePopover()},e.popoverHide)},e.popoverTimeout)},hide:function(){this.removePopover()},changeAttribute:function(e){const i=this.element,r=this.options,d=()=>{r.popoverText=i.attr("data-popover-text"),this.popover&&(this.popover.find(".popover-content").html(r.popoverText),this.setPosition())},g=()=>{r.popoverPosition=i.attr("data-popover-position"),this.setPosition()};switch(e){case"data-popover-text":d();break;case"data-popover-position":g();break}},destroy:function(){const e=this.element,i=this.options;let r;switch(i.popoverTrigger){case t.popoverEvents.CLICK:r=t.events.click;break;case t.popoverEvents.FOCUS:r=t.events.focus;break;default:r=t.events.enter}return e.off(r),i.hideOnLeave===!0&&e.off(t.events.leave),o(globalThis).off(t.events.scroll,{ns:this.id}),e}})})(Metro,Dom),((t,o)=>{let f={progressDeferred:0,showValue:!1,showLabel:!1,label:"Progress:",value:0,buffer:0,type:"bar",small:!1,segmentSize:10,clsProgress:"",clsBack:"",clsBar:"",clsBuffer:"",clsValue:"",clsLabel:"",clsData:"",onValueChange:t.noop,onBufferChange:t.noop,onComplete:t.noop,onBuffered:t.noop,onProgressCreate:t.noop};t.progressSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroProgressSetup<"u"&&t.progressSetup(globalThis.metroProgressSetup),t.Component("progress",{init:function(e,i){return this._super(i,e,f,{value:0,buffer:0}),this},_create:function(){const e=this.element,i=this.elem,r=this.options;typeof r.type=="string"&&(r.type=r.type.toLowerCase()),e.html("").addClass("progress"),this.component=e.wrap("<div>").addClass("progress-component").addClass(r.clsProgress);function d(){i.innerHTML='<div class="bar"></div>'}function g(){i.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                `}function _(){e.addClass("with-load"),i.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                    <div class="load"></div>
                `}function C(){e.addClass("line")}function k(){e.addClass("segments"),e.append('<div class="bar"></div>');const q=e.width(),Z=Math.ceil(q/(r.segmentSize||10));for(let Q=0;Q<Z;Q++)i.innerHTML+=`<div class="segment" style="width: ${r.segmentSize}px"></div>`}switch(r.type){case"buffer":g();break;case"load":_();break;case"line":C();break;case"segment":k();break;default:d()}r.small===!0&&e.addClass("small"),e.addClass(r.clsBack),e.find(".bar").addClass(r.clsBar),e.find(".buffer").addClass(r.clsBuffer);const E=o("<div>").addClass("progress-data").addClass(r.clsData).insertBefore(e),I=o("<div>").addClass("progress-label").addClass(r.clsLabel).html(r.label).appendTo(E),B=o("<div>").addClass("progress-value").addClass(r.clsLabel).html(r.value).appendTo(E);r.showLabel===!1&&I.hide(),r.showValue===!1&&B.hide(),this.val(r.value),this.buff(r.buffer),this._fireEvent("progress-create",{element:e})},val:function(e){const i=this.element,r=this.component.find(".progress-value");if(e===void 0)return this.value;const d=i.find(".bar");if(d.length===0)return!1;this.value=Number.parseInt(e,10),d.css("width",`${this.value}%`),r.html(`${this.value}%`),this._fireEvent("value-change",{val:this.value}),this.value===100&&this._fireEvent("complete",{val:this.value})},buff:function(e){const i=this.element;if(e===void 0)return this.buffer;const r=i.find(".buffer");if(r.length===0)return!1;this.buffer=Number.parseInt(e,10),r.css("width",`${this.buffer}%`),this._fireEvent("buffer-change",{val:this.buffer}),this.buffer===100&&this._fireEvent("buffered",{val:this.buffer})},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(e){switch(e){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break}},destroy:function(){this.component.remove()}})})(Metro,Dom),((t,o)=>{let f={ratingDeferred:0,label:"",static:!1,title:null,value:0,values:null,message:"",stars:5,onColor:null,offColor:null,roundFunc:"round",half:!0,symbol:"★",clsRating:"",clsTitle:"",clsStars:"",clsResult:"",clsLabel:"",onStarClick:t.noop,onRatingCreate:t.noop};t.ratingSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroRatingSetup<"u"&&t.ratingSetup(globalThis.metroRatingSetup),t.Component("rating",{init:function(e,i){return this._super(i,e,f,{value:0,originValue:0,values:[],rate:0,rating:null}),this},_create:function(){const e=this.element,i=this.options;let r;if(Number.isNaN(i.value)?i.value=0:i.value=Number.parseFloat(i.value).toFixed(1),i.values!==null)Array.isArray(i.values)?this.values=i.values:typeof i.values=="string"&&(this.values=i.values.toArray());else for(r=1;r<=i.stars;r++)this.values.push(r);this.originValue=i.value,this.value=i.value>0&&i.roundFunc!=="none"?Math[i.roundFunc](i.value):Math.abs(i.value),this._createRating(),this._createEvents(),this._fireEvent("rating-create",{element:e})},_createRating:function(){const e=this.element,i=this.options;let r,d,g;const _=t.sheet,C=i.static?Math.floor(this.originValue):this.value,k=e.wrap("<div>").addClass(`rating ${e[0].className}`).addClass(i.clsRating),E=Hooks.useId(k[0]);for(e.val(this.value),k.attr("id",e.id()?`rating--${e.id()}`:E),d=o("<ul>").addClass("stars").addClass(i.clsStars).appendTo(k),r=1;r<=i.stars;r++)g=o("<li>").attr("data-symbol",i.symbol).data("value",this.values[r-1]).appendTo(d),r<=C&&g.addClass("on");if(o("<span>").addClass("result").addClass(i.clsResult).appendTo(k).html(i.message),i.offColor!==null&&(i.offColor.includes("var(")||Farbe.Routines.isColor(i.offColor)),i.onColor!==null&&(i.onColor.includes("var(")||Farbe.Routines.isColor(i.onColor))&&(t.utils.addCssRule(_,`#${E} .stars:hover li`,`color: ${i.onColor};`),t.utils.addCssRule(_,`#${E} .stars li.on`,`color: ${i.onColor};`),t.utils.addCssRule(_,`#${E} .stars li.half::after`,`color: ${i.onColor};`)),i.title!==null){const B=o("<span>").addClass("title").addClass(i.clsTitle).html(i.title);k.prepend(B)}if(i.static===!0&&(k.addClass("static"),i.half===!0)){const B=Math.round(this.originValue%1*10);B>0&&B<=9&&k.find(".stars li.on").last().next("li").addClass(`half half-${B*10}`)}if(e[0].className="",i.label){const B=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(k);if(e.attr("id"))B.attr("for",e.attr("id"));else{const q=Hooks.useId(e[0]);B.attr("for",q),e.attr("id",q)}e.attr("dir")==="rtl"&&B.addClass("rtl")}e.is(":disabled")?this.disable():this.enable(),this.rating=k},_createEvents:function(){const e=this,i=this.element,r=this.options;this.rating.on(t.events.click,".stars li",function(){if(r.static===!0)return;const g=o(this),_=g.data("value");g.addClass("scale"),setTimeout(()=>{g.removeClass("scale")},300),i.val(_).trigger("change"),g.addClass("on"),g.prevAll().addClass("on"),g.nextAll().removeClass("on"),e._fireEvent("star-click",{value:_,star:g[0]})})},val:function(e){const i=this,r=this.element,d=this.options,g=this.rating;if(e===void 0)return this.value;this.value=e>0?Math[d.roundFunc](e):0,r.val(this.value).trigger("change");const _=g.find(".stars li").removeClass("on");return o.each(_,function(){const C=o(this);C.data("value")<=i.value&&C.addClass("on")}),this},msg:function(e){const i=this.rating;if(e!==void 0)return i.find(".result").html(e),this},static:function(e){const i=this.options,r=this.rating;i.static=e,e===!0?r.addClass("static"):r.removeClass("static")},changeAttributeStatic:function(){const e=this.element,i=JSON.parse(e.attr("data-static"))===!0;this.static(i)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,i){switch(e){case"value":case"data-value":this.val(i);break;case"disabled":this.toggleState();break;case"data-message":this.msg(i);break;case"data-static":this.changeAttributeStatic();break}},destroy:function(){const e=this.options,i=this.rating;i.off(t.events.click,".stars li"),e.label&&i.prev("label").remove(),i.remove()}})})(Metro,Dom),((t,o)=>{let f={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,sort:"",limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",sortRules:"",showSearch:!0,showOrder:!0,showRowsCount:!0,template:"",clsBody:"",clsItem:"",clsPagination:"",clsSearchBlock:"",clsOrderBlock:"",clsRowsCountBlock:"",onLoad:e=>e,onDrawRow:t.noop,onDrawCell:t.noop,onDatasetCreate:t.noop};t.remoteDatasetSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroRemoteDatasetSetup<"u"&&t.remoteDatasetSetup(globalThis.metroRemoteDatasetSetup),t.Component("remote-dataset",{init:function(e,i){return this._super(i,e,f,{data:null,total:0}),this},_create:function(){const e=this.options;this.offset=e.offset,this.rowSteps=e.rowsSteps.toArray(","),this.limit=+e.rows,this.url=e.url,this.search="";const[i,r]=e.sort.toArray(":");this.sortField=i,this.sortOrder=r,this.template=t.utils.exec(e.template),this.sortRules=e.sortRules.toArray(",").filter(d=>d).map(d=>d.toArray(":")),this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("dataset-create")},_loadData:async function(e=!1){const i=this.options;if(!this.url)return;let r=`${this.url}?${i.limitKey}=${this.limit}&${i.offsetKey}=${this.offset}`;this.sortField&&(r+=`&${i.sortKey}=${this.sortField}&${i.orderKey}=${this.sortOrder}`),this.search&&(r+=`&${i.searchKey}=${this.search}`);const d=await fetch(r,{method:i.method});d.ok!==!1&&(this.data=t.utils.exec(i.onLoad,[await d.json()],this),this._createEntries(e))},_createStructure:function(){const e=this.element,i=this.options,r=o("<div>").addClass("dataset-entry");e.addClass("remote-dataset"),e.append(r),r.html(`
                <div class="service-block">
                    <div class="search-block ${i.clsSearchBlock} ${i.showSearch?"":"hide-block"}">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                   
                    <div class="order-block ${i.clsOrderBlock} ${this.sortRules.length===0||i.showOrder===!1?"hide-block":""}">
                        <select name="sort-order" data-role="select" data-filter="false">
                            ${this.sortRules.map(d=>`
                                <option value="${d[0]}:${d[1]}" 
                                        ${d[0]===this.sortField&&d[1]===this.sortOrder?"selected":""}
                                        data-icon="${d[3]?d[3]:""}"
                                >
                                    ${d[2]}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                   
                    <div class="count-block ${i.clsRowsCountBlock} ${i.showRowsCount?"":"hide-block"}">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(d=>`
                                <option value="${d}" ${+d===this.rowsCount?"selected":""}>
                                    ${d}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                </div>
                <div class="dataset-body"></div>
            `),this.body=r.find(".dataset-body").addClass(i.clsBody),this.loadMore=o("<div>").addClass("dataset-load-more"),this.loadMore.html(`
                <button class="button large cycle link load-more-button">
                    <span class="icon">⟳</span>
                    ${this.strings.label_load_more}
                </button>
            `).appendTo(e),this.pagination=o("<div>").addClass("dataset-pagination"),e.append(this.pagination)},_createEvents:function(){const e=this,i=this.element,r=this.options;i.on("click",".page-link",function(){const g=o(this).parent();if(g.hasClass("service")){g.hasClass("prev-page")?(e.offset-=e.limit,e.offset<0&&(e.offset=0)):e.offset+=e.limit,e._loadData().then(()=>{});return}e.offset=o(this).data("page")*e.limit-e.limit,e._loadData().then(()=>{})});const d=Hooks.useDebounce(()=>{const g=i.find("input[name=search]").val().trim();if(g===""){this.search="",this.url=r.url,this._loadData().then(()=>{});return}g.length<3||(this.search=g,this.url=r.searchUrl,this._loadData().then(()=>{}))},300);i.on(t.events.inputchange,"input[name=search]",d),i.on("change","select[name=rows-count]",function(){e.limit=+o(this).val(),e.offset=0,e._loadData().then(()=>{})}),i.on("change","select[name=sort-order]",function(){const[g,_]=o(this).val().split(":");e.url=r.url,e.sortField=g,e.sortOrder=_,e.offset=0,e._loadData().then(()=>{})}),i.on("click",".load-more-button",()=>{e.offset+=e.limit,e._loadData(!0).then(()=>{})})},_createEntries:function(e=!1){const i=this.options;if(!this.data)return;const r=t.utils.isValue(this.data[i.totalKey]);this.entries=this.data[i.dataKey],this.total=this.data[i.totalKey],e===!1&&this.body.clear(),this.entries.forEach((d,g)=>{const _=o("<div>").addClass("dataset-item").addClass(i.clsItem).addClass(g%2===0?"even":"odd"),C=t.utils.exec(i.template,[d],d);_.html(C).appendTo(this.body)}),r&&!i.shortPagination?t.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:i.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},setup:e=>{},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,fields:"",sortableFields:"",colSize:"",sort:"",sortOrder:"asc",captions:null,limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",clsTable:"",clsPagination:"",onLoad:e=>e,onDrawRow:t.noop,onDrawCell:t.noop,onDrawHeadCell:t.noop,onTableCreate:t.noop};t.remoteTableSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroRemoteTableSetup<"u"&&t.remoteTableSetup(globalThis.metroRemoteTableSetup),t.Component("remote-table",{init:function(e,i){return this._super(i,e,f,{data:null,total:0}),this},_create:function(){const e=this.options;this.offset=e.offset,this.fields=e.fields.toArray(","),this.captions=e.captions?e.captions.toArray(","):null,this.rowSteps=e.rowsSteps.toArray(","),this.colSize=e.colSize.toArray(","),this.limit=+e.rows,this.url=e.url,this.search="",this.sortField=e.sort,this.sortOrder=e.sortOrder,this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("table-create")},_loadData:async function(){const e=this.options;if(!this.url)return;let i=`${this.url}?${e.limitKey}=${this.limit}&${e.offsetKey}=${this.offset}`;this.sortField&&(i+=`&${e.sortKey}=${this.sortField}&${e.orderKey}=${this.sortOrder}`),this.search&&(i+=`&${e.searchKey}=${this.search}`);const r=await fetch(i,{method:e.method});r.ok!==!1&&(this.data=t.utils.exec(e.onLoad,[await r.json()],this),this._createEntries())},_createStructure:function(){const e=this.element,i=this.options,r=o("<div>").addClass("table-entry");e.addClass("table-component remote-table"),e.append(r),r.html(`
                <div class="search-block row">
                    <div class="cell-sm-10">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                    <div class="cell-sm-2">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(d=>`<option value="${d}" ${+d===this.rowsCount?"selected":""}>${d}</option>`).join("")}
                        </select>
                    </div>
                </div>
                <table class="table ${i.clsTable}">
                    <caption>${i.caption}</caption>
                    <thead></thead>
                    <tbody></tbody>
                </table>
            `),this.header=r.find("thead"),this.body=r.find("tbody"),this.pagination=o("<div>").addClass("table-pagination"),e.append(this.pagination)},_createEvents:function(){const e=this,i=this.element,r=this.options;i.on("click",".page-link",function(){const g=o(this).parent();if(g.hasClass("service")){g.hasClass("prev-page")?(e.offset-=e.limit,e.offset<0&&(e.offset=0)):e.offset+=e.limit,e._loadData().then(()=>{});return}e.offset=o(this).data("page")*e.limit-e.limit,e._loadData().then(()=>{})});const d=Hooks.useDebounce(()=>{const g=i.find("input[name=search]").val().trim();if(g===""){this.search="",this.url=r.url,this._loadData().then(()=>{});return}g.length<3||(this.search=g,this.url=r.searchUrl,this._loadData().then(()=>{}))},300);i.on(t.events.inputchange,"input[name=search]",d),i.on("change","select[name=rows-count]",function(){e.limit=+o(this).val(),e.offset=0,e._loadData().then(()=>{})}),i.on("click",".sortable-column",function(){const g=o(this).attr("data-field");e.sortField===g?e.sortOrder=e.sortOrder==="asc"?"desc":"asc":(e.sortField=g,e.sortOrder="asc"),e._loadData().then(()=>{})})},_createEntries:function(){var g;const e=this.options;if(!this.data)return;const i=t.utils.isValue(this.data[e.totalKey]);this.entries=this.data[e.dataKey],this.total=this.data[e.totalKey],this.header.clear(),this.body.clear();const r=o("<tr>").addClass("table-header").appendTo(this.header);let d=0;for(const _ of Object.keys(this.entries[0])){if(this.fields.length&&!this.fields.includes(_))continue;const C=this.captions?this.captions[d]:_,k=o("<th>").html(C).attr("data-field",_);(g=e.sortableFields)!=null&&g.includes(_)&&(k.addClass("sortable-column"),this.sortField===_&&k.addClass(`sort-${this.sortOrder}`)),k.appendTo(r).addClass(`head-cell-${_}`),this.colSize[d]&&k.css("width",this.colSize[d]),t.utils.exec(e.onDrawHeadCell,[k[0],C,_,d,e.sortableFields.includes(_),this.sortField===_,this.sortOrder],this),d++}this.entries.forEach((_,C)=>{const k=o("<tr>").addClass("table-row");this.body.append(k),t.utils.exec(e.onDrawRow,[k,_,C],this);let E=0;for(const I in _){if(this.fields.length&&!this.fields.includes(I))continue;const B=o("<td>").attr("data-label",this.captions?this.captions[E]:I).addClass(`data-cell-${I}`).html(_[I]);k.append(B),t.utils.exec(e.onDrawCell,[B[0],_[I],I,_,C],this),E++}}),i&&!e.shortPagination?t.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:e.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={resizableDeferred:0,canResize:!0,resizeElement:".resize-element",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,preserveRatio:!1,onResizeStart:t.noop,onResizeStop:t.noop,onResize:t.noop,onResizableCreate:t.noop};t.resizableSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroResizableSetup<"u"&&t.resizableSetup(globalThis.metroResizableSetup),t.Component("resizable",{init:function(e,i){return this._super(i,e,f,{resizer:null,id:null}),this},_create:function(){this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("resizable-create")},_createStructure:function(){const e=this.element,i=this.options;e.data("canResize",!0),e.addClass("resizable-element"),t.utils.isValue(i.resizeElement)&&e.find(i.resizeElement).length>0?this.resizer=e.find(i.resizeElement):this.resizer=o("<span>").addClass("resize-element").appendTo(e),e.data("canResize",i.canResize)},_createEvents:function(){const e=this.element,i=this.options;this.resizer.on(t.events.start,r=>{if(e.data("canResize")===!1)return;const d=t.utils.pageXY(r),g=Number.parseInt(e.outerWidth()),_=Number.parseInt(e.outerHeight()),C={width:g,height:_};e.addClass("stop-pointer"),this._fireEvent("resize-start",{size:C}),o(document).on(t.events.move,k=>{const E=t.utils.pageXY(k),I={width:g+E.x-d.x,height:_+E.y-d.y};if(i.maxWidth>0&&I.width>i.maxWidth||i.minWidth>0&&I.width<i.minWidth||i.maxHeight>0&&I.height>i.maxHeight||i.minHeight>0&&I.height<i.minHeight)return!0;e.css(I),this._fireEvent("resize",{size:I})},{ns:this.id}),o(document).on(t.events.stop,()=>{e.removeClass("stop-pointer"),o(document).off(t.events.move,{ns:this.id}),o(document).off(t.events.stop,{ns:this.id});const k={width:Number.parseInt(e.outerWidth()),height:Number.parseInt(e.outerHeight())};this._fireEvent("resize-stop",{size:k})},{ns:this.id}),r.preventDefault(),r.stopPropagation()})},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(e){const i=this.element,r=this.options,d=()=>{r.canResize=JSON.parse(i.attr("data-can-resize"))===!0};switch(e){case"data-can-resize":d();break}},destroy:function(){return this.resizer.off(t.events.start),this.element}})})(Metro,Dom),((t,o)=>{let f={resizerDeferred:0,onMediaPoint:t.noop,onMediaPointEnter:t.noop,onMediaPointLeave:t.noop,onWindowResize:t.noop,onElementResize:t.noop,onResizerCreate:t.noop};t.resizerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroResizerSetup<"u"&&t.resizerSetup(globalThis.metroResizerSetup),t.Component("resizer",{init:function(e,i){return this._super(i,e,f,{size:{width:0,height:0},media:globalThis.METRO_MEDIA,id:null}),this},_create:function(){const e=this.element;this.id=Hooks.useId(this.elem),this.size={width:e.width(),height:e.height()},this._createStructure(),this._createEvents(),this._fireEvent("resizer-create",{element:e})},_createStructure:()=>{},_createEvents:function(){const e=this.element,i=o.window();i.on("resize",()=>{const r=i.width(),d=i.height(),g=e.width(),_=e.height(),C=this.size;let k;this._fireEvent("window-resize",{width:r,height:d,media:globalThis.METRO_MEDIA}),(this.size.width!==g||this.size.height!==_)&&(this.size={width:g,height:_},this._fireEvent("element-resize",{width:g,height:_,oldSize:C,media:globalThis.METRO_MEDIA})),this.media.length!==globalThis.METRO_MEDIA.length&&(this.media.length>globalThis.METRO_MEDIA.length?(k=this.media.filter(E=>!globalThis.METRO_MEDIA.includes(E)),this._fireEvent("media-point-leave",{point:k,media:globalThis.METRO_MEDIA})):(k=globalThis.METRO_MEDIA.filter(E=>!this.media.includes(E)),this._fireEvent("media-point-enter",{point:k,media:globalThis.METRO_MEDIA})),this.media=globalThis.METRO_MEDIA,this._fireEvent("media-point",{point:k,media:globalThis.METRO_MEDIA}))},{ns:this.id})},changeAttribute:()=>{},destroy:function(){o(globalThis).off("resize",{ns:this.id})}})})(Metro,Dom),((t,o)=>{let f={ribbonMenuDeferred:0,onStatic:t.noop,onBeforeTab:t.noop_true,onTab:t.noop,onRibbonMenuCreate:t.noop};t.ribbonMenuSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroRibbonMenuSetup<"u"&&t.ribbonMenuSetup(globalThis.metroRibbonMenuSetup),t.Component("ribbon-menu",{init:function(e,i){return this._super(i,e,f),this},_create:function(){const e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("ribbon-menu-create",{element:e})},_createStructure:function(){const e=this.element;e.addClass("ribbon-menu");const i=e.find(".ribbon-toggle-group");o.each(i,function(){const g=o(this);g.buttongroup({clsActive:"active"});let _=0;const C=g.find(".ribbon-icon-button");o.each(C,function(){const E=o(this).outerWidth(!0);E>_&&(_=E)}),g.css("width",_*Math.ceil(C.length/3)+4)}),e.find(".section").addClass("non-active");const r=e.find(".tabs-holder li:not(.static)"),d=e.find(".tabs-holder li.active");d.length>0?this.open(o(d[0])):r.length>0&&this.open(o(r[0])),setTimeout(()=>{o(window).trigger("resize")})},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.find(".content-holder").get(0);i.on(t.events.click,".tabs-holder li a",function(g){const _=o(this),C=o(this).parent("li");C.hasClass("static")?r.onStatic===t.noop&&_.attr("href")!==void 0?document.location.href=_.attr("href"):e._fireEvent("static",{tab:C[0]}):t.utils.exec(r.onBeforeTab,[C[0]],i[0])===!0&&e.open(C[0]),o(window).trigger("resize"),g.preventDefault()}),window.addEventListener("resize",()=>{d.clientWidth<d.scrollWidth?o(d).addClass("scrollable"):o(d).removeClass("scrollable")})},open:function(e){const i=this.element,r=o(e),d=i.find(".tabs-holder li"),g=i.find(".content-holder .section"),_=r.children("a").attr("href"),C=_!=="#"?i.find(_):null;g.addClass("non-active"),d.removeClass("active"),r.addClass("active"),g.removeClass("active"),C&&C.addClass("active").removeClass("non-active"),this._fireEvent("tab",{tab:r[0]})},changeAttribute:()=>{},destroy:function(){const e=this.element;e.off(t.events.click,".tabs-holder li a"),e.remove()}})})(Metro,Dom),((t,o)=>{let f={rippleDeferred:0,rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:t.noop};t.rippleSetup=i=>{f=o.extend({},f,i)},typeof globalThis.metroRippleSetup<"u"&&t.rippleSetup(globalThis.metroRippleSetup);const e=(i,r="#fff",d=.4,g=!1)=>{const _=o(i),C=t.utils.rect(_[0]);let k,E;if(_.length===0)return;_.css("position")==="static"&&_.css("position","relative"),_.css({overflow:"hidden"}),o(".ripple").remove();const I=Math.max(_.outerWidth(),_.outerHeight()),B=o("<span class='ripple'></span>").css({width:I,height:I});_.prepend(B),g?(k=g.pageX-_.offset().left-B.width()/2,E=g.pageY-_.offset().top-B.height()/2):(k=C.width/2-B.width()/2,E=C.height/2-B.height()/2),B.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(r),d),width:I,height:I,top:`${E}px`,left:`${k}px`}).addClass("rippleEffect"),setTimeout(()=>{B.remove()},400)};t.Component("ripple",{init:function(i,r){return this._super(r,i,f),this},_create:function(){const i=this.element,r=this.options,d=r.rippleTarget==="default"?null:r.rippleTarget;i.on(t.events.click,d,function(g){e(this,r.rippleColor,r.rippleAlpha,g)}),this._fireEvent("riopple-create",{element:i})},changeAttribute:function(i){const r=this.element,d=this.options;function g(){const C=r.attr("data-ripple-color");Farbe.Routines.isColor(C)&&(d.rippleColor=C)}function _(){const C=+r.attr("data-ripple-alpha");Number.isNaN(C)||(d.rippleColor=C)}switch(i){case"data-ripple-color":g();break;case"data-ripple-alpha":_();break}},destroy:function(){const i=this.element,r=this.options,d=r.rippleTarget==="default"?null:r.rippleTarget;i.off(t.events.click,d)}}),t.ripple=e})(Metro,Dom),((t,o)=>{let f={menuScrollbar:!1,sidebarDeferred:0,position:"left",shift:null,staticShift:null,toggle:null,duration:300,static:null,closeOutside:!0,onOpen:t.noop,onClose:t.noop,onToggle:t.noop,onStaticSet:t.noop,onStaticLoss:t.noop,onSidebarCreate:t.noop};t.sidebarSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroSidebarSetup<"u"&&t.sidebarSetup(globalThis.metroSidebarSetup),t.Component("sidebar",{init:function(e,i){return this._super(i,e,f,{toggle_element:null,id:null}),this},_create:function(){const e=this.element;this.id=e.attr("id")||Hooks.useId(this.elem),this._createStructure(),this._createEvents(),o(globalThis).resize(),this._checkStatic(),this._fireEvent("sidebar-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options,r=e.find(".sidebar-header"),d=t.sheet,g=e.find(".sidebar-menu"),_=e.outerWidth();e.addClass("sidebar").addClass(`on-${i.position}`),i.menuScrollbar===!1&&g.addClass("hide-scroll"),i.toggle!==null&&o(i.toggle).length>0&&(this.toggle_element=o(i.toggle)),r.length>0&&r.data("image")&&r.css({backgroundImage:`url(${r.data("image")})`}),i.static!==null&&i.staticShift!==null&&(i.position==="left"?t.utils.addCssRule(d,`@media screen and ${t.media_queries[i.static.toUpperCase()]}`,`${i.staticShift}{margin-left: ${_}px; width: calc(100% - ${_}px);}`):t.utils.addCssRule(d,`@media screen and ${t.media_queries[i.static.toUpperCase()]}`,`${i.staticShift}{margin-right: ${_}px; width: calc(100% - ${_}px);}`))},_createEvents:function(){const e=this.element,i=this.options,r=this.toggle_element;r!==null?r.on(t.events.click,d=>{this.toggle(),d.stopPropagation()}):i.toggle&&o.document().on("click",i.toggle,d=>{this.toggle(),d.stopPropagation()}),i.static!==null&&t.media_modes.includes(i.static)&&o(globalThis).on(t.events.resize,()=>{this._checkStatic()},{ns:this.id}),e.on(t.events.click,".sidebar-menu .js-sidebar-close",d=>{this.close(),d.stopPropagation()}),e.on(t.events.click,d=>{d.stopPropagation()}),o(document).on(t.events.click,()=>{i.closeOutside===!0&&this.isOpen()&&this.close()})},_checkStatic:function(){const e=this.element,i=this.options;t.utils.mediaExist(i.static)&&!e.hasClass("static")&&(e.addClass("static"),e.data("opened",!1).removeClass("open"),i.shift!==null&&o.each(i.shift.split(","),function(){o(this).animate({draw:{left:0},dur:i.duration})}),this._fireEvent("static-set")),t.utils.mediaExist(i.static)||(e.removeClass("static"),this._fireEvent("static-loss"))},isOpen:function(){return this.element.data("opened")===!0},open:function(){const e=this.element,i=this.options;e.hasClass("static")||(e.data("opened",!0).addClass("open"),i.shift!==null&&o(i.shift).animate({draw:{left:e.outerWidth()},dur:i.duration}),this._fireEvent("open"))},close:function(){const e=this.element,i=this.options;e.hasClass("static")||(e.data("opened",!1).removeClass("open"),i.shift!==null&&o(i.shift).animate({draw:{left:0},dur:i.duration}),this._fireEvent("close"))},toggle:function(){this.isOpen()?this.close():this.open(),this._fireEvent("toggle")},changeAttribute:()=>{},destroy:function(){const e=this.element,i=this.options,r=this.toggle_element;return r!==null&&r.off(t.events.click),i.static!==null&&t.media_modes.includes(i.static)&&o(globalThis).off(t.events.resize,{ns:this.id}),e.off(t.events.click,".js-sidebar-close"),e}}),t.sidebar={isSidebar:e=>t.utils.isMetroObject(e,"sidebar"),open:function(e){this.isSidebar(e)&&t.getPlugin(e,"sidebar").open()},close:function(e){this.isSidebar(e)&&t.getPlugin(e,"sidebar").close()},toggle:function(e){this.isSidebar(e)&&t.getPlugin(e,"sidebar").toggle()},isOpen:function(e){if(this.isSidebar(e))return t.getPlugin(e,"sidebar").isOpen()}}})(Metro,Dom),((t,o)=>{let f={compacted:!1,toggle:null,expandPoint:"fs",onMenuItemClick:t.noop,onCollapse:t.noop,onExpand:t.noop,onSidenavCreate:t.noop};t.sidenavCounterSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroSidenavCounterSetup<"u"&&t.sidenavCounterSetup(globalThis.metroSidenavCounterSetup),t.Component("sidenav-counter",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("sidenav-create")},_createStructure:function(){const e=this.element,i=this.options;e.addClass("sidenav-counter"),t.utils.mediaExist(i.expandPoint)&&e.addClass("expanded"),t.storage.getItem("sidenav-counter:compacted")===!0&&(e.removeClass("expanded"),e.addClass("handmade"))},_createEvents:function(){const e=this.element,i=this.options;i.toggle&&o(i.toggle).on("click",()=>{e.toggleClass("expanded"),e.toggleClass("handmade"),t.storage.setItem("sidenav-counter:compacted",!e.hasClass("expanded"))}),o(globalThis).on(t.events.resize,()=>{e.hasClass("handmade")||(t.utils.mediaExist(i.expandPoint)?e.addClass("expanded"):e.removeClass("expanded"))},{ns:this.id})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={sorterDeferred:0,thousandSeparator:",",decimalSeparator:",",sortTarget:null,sortSource:null,sortDir:"asc",sortStart:!0,saveInitial:!0,onSortStart:t.noop,onSortStop:t.noop,onSortItemSwitch:t.noop,onSorterCreate:t.noop};t.sorterSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroSorterSetup<"u"&&t.sorterSetup(globalThis.metroSorterSetup),t.Component("sorter",{init:function(e,i){return this._super(i,e,f,{initial:[]}),this},_create:function(){const e=this.element;this._createStructure(),this._fireEvent("sorter-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options;i.sortTarget===null&&(i.sortTarget=e.children()[0].tagName),this.initial=e.find(i.sortTarget).get(),i.sortStart===!0&&this.sort(i.sortDir)},_getItemContent:function(e){const i=this.options;let r,d,g,_;if(t.utils.isValue(i.sortSource)){if(r="",d=e.getElementsByClassName(i.sortSource),d.length>0)for(g=0;g<d.length;g++)r+=d[g].textContent;_=d[0].dataset.format}else r=e.textContent,_=e.dataset.format;if(r=`${r}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),t.utils.isValue(_))switch(["number","int","float","money"].indexOf(_)!==-1&&(i.thousandSeparator!==","||i.decimalSeparator!==".")&&(r=t.utils.parseNumber(r,i.thousandSeparator,i.decimalSeparator)),_){case"date":r=t.utils.isDate(r)?new Date(r):"";break;case"number":r=Number(r);break;case"int":r=Number.parseInt(r);break;case"float":r=Number.parseFloat(r);break;case"money":r=t.utils.parseMoney(r);break;case"card":r=t.utils.parseCard(r);break;case"phone":r=t.utils.parsePhone(r);break}return r},sort:function(e){const i=this.element,r=this.options;let d;const g=t.utils.elementId("temp");let _;e&&(r.sortDir=e),d=i.find(r.sortTarget).get(),d.length!==0&&(_=o("<div>").attr("id",g).insertBefore(o(i.find(r.sortTarget)[0])),this._fireEvent("sort-start",{items:d}),d.sort((C,k)=>{const E=this._getItemContent(C),I=this._getItemContent(k);let B=0;return E<I&&(B=-1),E>I&&(B=1),B!==0&&this._fireEvent("sort-item-switch",{a:C,b:k,result:B}),B}),r.sortDir==="desc"&&d.reverse(),i.find(r.sortTarget).remove(),o.each(d,function(){const C=o(this);C.insertAfter(_),_=C}),o(`#${g}`).remove(),this._fireEvent("sort-stop",{items:d}))},reset:function(){const e=this.element,i=this.options,r=t.utils.elementId("sorter");let d;const g=this.initial;g.length!==0&&(d=o("<div>").attr("id",r).insertBefore(o(e.find(i.sortTarget)[0])),e.find(i.sortTarget).remove(),o.each(g,function(){const _=o(this);_.insertAfter(d),d=_}),o(`#${r}`).remove())},changeAttribute:function(e){const i=this.element,r=this.options,d=()=>{const _=i.attr("data-sort-dir").trim();_!==""&&(r.sortDir=_,this.sort())},g=()=>{const _=i.attr("data-sort-content").trim();_!==""&&(r.sortContent=_,this.sort())};switch(e){case"data-sort-dir":d();break;case"data-sort-content":g();break}},destroy:function(){return this.element}}),t.sorter={create:(e,i)=>t.utils.$()(e).sorter(i),isSorter:e=>t.utils.isMetroObject(e,"sorter"),sort:function(e,i="asc"){if(!this.isSorter(e))return!1;t.getPlugin(e,"sorter").sort(i)},reset:function(e){if(!this.isSorter(e))return!1;t.getPlugin(e,"sorter").reset()}}})(Metro,Dom),((t,o)=>{const f={VERTICAL:"vertical",HORIZONTAL:"horizontal"},e=t.storage;let i={splitterDeferred:0,split:f.VERTICAL,splitSizes:null,gutterSize:5,gutterStyle:"default",minSizes:null,children:"*",gutterClick:"expand",saveState:!1,noResize:!1,onResizeStart:t.noop,onResizeStop:t.noop,onResizeSplit:t.noop,onResizeWindow:t.noop,onSplitterCreate:t.noop};t.splitterSetup=r=>{i=o.extend({},i,r)},typeof globalThis.metroSplitterSetup<"u"&&t.splitterSetup(globalThis.metroSplitterSetup),t.Component("splitter",{init:function(r,d){return this._super(d,r,i,{storage:t.utils.isValue(e)?e:null,storageKey:"SPLITTER:",id:null}),this},_create:function(){const r=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("splitter-create",{element:r})},_createStructure:function(){const r=this.element,d=this.options,g=r.children(d.children).addClass("split-block");let _,C=[];const k=d.split===f.HORIZONTAL?"height":"width";for(r.addClass("splitter"),r.addClass(d.split.toLowerCase()===f.VERTICAL?"vertical":"horizontal"),d.gutterStyle!=="default"&&r.addClass(`gutter-style-${d.gutterStyle}`),d.noResize===!0&&r.addClass("static-size"),_=0;_<g.length-1;_++)o("<div>").addClass("gutter").css(k,d.gutterSize).insertAfter(o(g[_]));if(this._setSize(),t.utils.isValue(d.minSizes))if(`${d.minSizes}`.includes(","))for(C=d.minSizes.toArray(),_=0;_<C.length;_++)o(g[_]).data("min-size",C[_]),g[_].style.setProperty(`min-${k}`,`${C[_]}`.includes("%")?C[_]:`${`${C[_]}`.replace("px","")}px`,"important");else o.each(g,function(){this.style.setProperty(`min-${k}`,`${d.minSizes}`.includes("%")?d.minSizes:`${`${d.minSizes}`.replace("px","")}px`,"important")});d.saveState&&this.storage!==null&&this._getSize()},_setSize:function(){const r=this.element,d=this.options;let g,_;const C=r.children(".split-block"),k=r.width();if(g=r.children(".gutter"),!t.utils.isValue(d.splitSizes))C.css({flexBasis:`calc(${100/C.length}% - ${g.length*d.gutterSize}px)`});else{_=`${d.splitSizes}`.toArray();let E=100,I=0;for(;I<_.length;I++){let B=_[I];B.includes("%")?B=Number.parseInt(B):B=+B*100/k,E-=B,o(C[I]).css({flexBasis:`calc(${B}% - ${g.length*d.gutterSize}px)`})}for(;I<C.length;I++)o(C[I]).css({flexBasis:`calc(${E/(C.length-I)}% - ${g.length*d.gutterSize}px)`})}},_createEvents:function(){const r=this,d=this.element,g=this.options,_=d.children(".gutter");_.on(t.events.startAll,function(C){if(g.noResize===!0)return!1;const k=g.split===f.VERTICAL?d.width():d.height(),E=o(this),I=E.prev(".split-block"),B=E.next(".split-block"),q=100*(g.split===f.VERTICAL?I.outerWidth(!0):I.outerHeight(!0))/k,Z=100*(g.split===f.VERTICAL?B.outerWidth(!0):B.outerHeight(!0))/k,Q=t.utils.getCursorPosition(d[0],C);E.addClass("active"),I.addClass("stop-pointer"),B.addClass("stop-pointer"),r._fireEvent("resize-start",{pos:Q,gutter:E[0],prevBlock:I[0],nextBlock:B[0]}),o(globalThis).on(t.events.moveAll,De=>{const He=t.utils.getCursorPosition(d[0],De);let Me;g.split===f.VERTICAL?Me=He.x*100/k-Q.x*100/k:Me=He.y*100/k-Q.y*100/k,I.css("flex-basis",`calc(${q+Me}% - ${_.length*g.gutterSize}px)`),B.css("flex-basis",`calc(${Z-Me}% - ${_.length*g.gutterSize}px)`),r._fireEvent("resize-split",{pos:He,gutter:E[0],prevBlock:I[0],nextBlock:B[0]})},{ns:r.id}),o(globalThis).on(t.events.stopAll,De=>{I.removeClass("stop-pointer"),B.removeClass("stop-pointer"),r._saveSize(),E.removeClass("active"),o(globalThis).off(t.events.moveAll,{ns:r.id}),o(globalThis).off(t.events.stopAll,{ns:r.id});const He=t.utils.getCursorPosition(d[0],De);r._fireEvent("resize-stop",{pos:He,gutter:E[0],prevBlock:I[0],nextBlock:B[0]})},{ns:r.id})},{passive:!0}),o(globalThis).on(t.events.resize,()=>{const C=d.children(".gutter"),k=C.prev(".split-block"),E=C.next(".split-block");r._fireEvent("resize-window",{prevBlock:k[0],nextBlock:E[0]})},{ns:r.id})},_saveSize:function(){const r=this.element,d=this.options,g=this.storage,_=[],C=r.attr("id")||this.id;d.saveState===!0&&g!==null&&(o.each(r.children(".split-block"),function(){const k=o(this);_.push(k.css("flex-basis"))}),g&&g.setItem(this.storageKey+C,_))},_getSize:function(){const r=this.element,d=this.options,g=this.storage;let _=[];const C=r.attr("id")||this.id;d.saveState===!0&&g!==null&&(_=g.getItem(this.storageKey+C),o.each(r.children(".split-block"),(k,E)=>{const I=o(E);t.utils.isValue(_)&&t.utils.isValue(_[k])&&I.css("flex-basis",_[k])}))},size:function(r){const d=this.options;return t.utils.isValue(r)&&(d.splitSizes=r,this._setSize()),this},changeAttribute:function(r){const d=this,g=this.element;function _(){const C=g.attr("data-split-sizes");d.size(C)}r==="data-split-sizes"&&_()},destroy:function(){const r=this.element;return r.children(".gutter").off(t.events.start),r.remove()}})})(Metro,Dom),((t,o)=>{let f={stepperDeferred:0,view:t.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:"",clsStep:"",clsComplete:"",clsCurrent:"",onStep:t.noop,onStepClick:t.noop,onStepperCreate:t.noop};t.stepperSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroStepperSetup<"u"&&t.stepperSetup(globalThis.metroStepperSetup),t.Component("stepper",{init:function(e,i){return this._super(i,e,f,{current:0}),this},_create:function(){const e=this.element,i=this.options;i.step<=0&&(i.step=1),this._createStepper(),this._createEvents(),this._fireEvent("stepper-create",{element:e})},_createStepper:function(){const e=this.element,i=this.options;let r;for(e.addClass("stepper").addClass(i.view).addClass(i.clsStepper),r=1;r<=i.steps;r++)o("<span>").addClass("step").addClass(i.clsStep).data("step",r).html(`<span>${r}</span>`).appendTo(e);this.current=1,this.toStep(i.step)},_createEvents:function(){const e=this,i=this.element,r=this.options;i.on(t.events.click,".step",function(){const d=o(this).data("step");r.stepClick===!0&&(e.toStep(d),e._fireEvent("step-click",{step:d}))})},next:function(){const i=this.element.find(".step");this.current+1>i.length||(this.current++,this.toStep(this.current))},prev:function(){this.current-1!==0&&(this.current--,this.toStep(this.current))},last:function(){const e=this.element;this.toStep(e.find(".step").length)},first:function(){this.toStep(1)},toStep:function(e){const i=this.element,r=this.options,d=o(i.find(".step").get(e-1)),g=this.current;d.length!==0&&(this.current=e,i.find(".step").removeClass("complete current").removeClass(r.clsCurrent).removeClass(r.clsComplete),d.addClass("current").addClass(r.clsCurrent),d.prevAll().addClass("complete").addClass(r.clsComplete),this._fireEvent("step",{step:this.current,prev:g}))},changeAttribute:()=>{},destroy:function(){const e=this.element;e.off(t.events.click,".step"),e.remove()}})})(Metro,Dom),((t,o)=>{const f=e=>new f.init(e);f.prototype={setKey:function(e){this.key=e},getKey:function(){return this.key},setItem:function(e,i){this.storage.setItem(`${this.key}:${e}`,JSON.stringify(i))},getItem:function(e,i,r){let d,g;g=this.storage.getItem(`${this.key}:${e}`);try{d=JSON.parse(g,r)}catch{d=null}return t.utils.nvl(d,i)},getItemPart:function(e,i,r,d){let g,_=this.getItem(e,r,d);const C=i.split("->");for(g=0;g<C.length;g++)_=_[C[g]];return _},delItem:function(e){this.storage.removeItem(`${this.key}:${e}`)},size:function(e){let i;switch(e){case"m":case"M":{i=1024*1024;break}case"k":case"K":{i=1024;break}default:i=1}return JSON.stringify(this.storage).length/i}},f.init=function(e){return this.key="",this.storage=e||globalThis.localStorage,this},f.init.prototype=f.prototype,t.storage=f(globalThis.localStorage),t.session=f(globalThis.sessionStorage)})(Metro,Dom),((t,o)=>{let f={streamerDeferred:0,wheel:!0,wheelStep:20,duration:200,defaultClosedIcon:"",defaultOpenIcon:"",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:"",excludeClickClass:"",excludeClass:"",onDataLoad:t.noop,onDataLoaded:t.noop,onDataLoadError:t.noop,onDrawEvent:t.noop,onDrawGlobalEvent:t.noop,onDrawStream:t.noop,onStreamClick:t.noop,onStreamSelect:t.noop,onEventClick:t.noop,onEventSelect:t.noop,onEventsScroll:t.noop,onStreamerCreate:t.noop};t.streamerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroStreamerSetup<"u"&&t.streamerSetup(globalThis.metroStreamerSetup),t.Component("streamer",{init:function(e,i){return this._super(i,e,f,{data:null,scroll:0,scrollDir:"left",events:null}),this},_create:function(){const e=this.element,i=this.options;if(e.addClass("streamer"),e.attr("id")===void 0&&e.attr("id",Hooks.useId(this.elem)),i.source===null&&i.data===null)return!1;o("<div>").addClass("streams").appendTo(e),o("<div>").addClass("events-area").appendTo(e),i.source!==null?(this._fireEvent("data-load",{source:i.source}),this._loadSource()):(this.data=i.data,this.build())},_loadSource:function(){const e=this.options;fetch(e.source).then(t.fetch.status).then(t.fetch.json).then(i=>{this._fireEvent("data-loaded",{source:e.source,data:i}),this.data=i,this.build()}).catch(i=>{this._fireEvent("data-load-error",{source:e.source,error:i})})},build:function(){const e=this,i=this.element,r=this.options,d=this.data,g=i.find(".streams").html(""),_=i.find(".events-area").html("");let C;const k=o("<ul>").addClass("streamer-timeline").html("").appendTo(_),E=o("<div>").addClass("streamer-events").appendTo(_),I=o("<div>").addClass("event-group").appendTo(E);let B=t.utils.getURIParameter(null,"StreamerIDS");B!==null&&r.encodeLink===!0&&(B=atob(B));const q=B?B.split("|")[0]:null,Z=B?B.split("|")[1].split(","):[];if(d.actions!==void 0){const fs=o("<div>").addClass("streamer-actions").appendTo(g);o.each(d.actions,function(){const jn=o("<button>").addClass("streamer-action").addClass(this.cls).html(this.html);this.onclick&&jn.on(t.events.click,()=>{t.utils.exec(this.onclick,[i])}),jn.appendTo(fs)})}k.html(""),d.timeline===void 0&&(d.timeline={start:"09:00",stop:"18:00",step:20});const Q=new Date,De=new Date,He=d.timeline.start?d.timeline.start.split(":"):[9,0],Me=d.timeline.stop?d.timeline.stop.split(":"):[18,0],Be=d.timeline.step?Number.parseInt(d.timeline.step)*60:1200;Q.setHours(He[0]),Q.setMinutes(He[1]),Q.setSeconds(0),De.setHours(Me[0]),De.setMinutes(Me[1]),De.setSeconds(0);let we,Ie,Oe,Fe,wt,xt,In,vi,kn,Wi;for(we=Q.getTime()/1e3;we<=De.getTime()/1e3;we+=Be)for(Ie=new Date(we*1e3),Oe=Ie.getHours(),wt=Ie.getMinutes(),Fe=`${Str.lpad(Oe,"0",2)}:${Str.lpad(wt,"0",2)}`,vi=o("<li>").data("time",Fe).addClass(`js-time-point-${Fe.replace(":","-")}`).html(`<em>${Fe}</em>`).appendTo(k),Wi=vi.width()/Number.parseInt(d.timeline.step),C=o("<ul>").addClass("streamer-fake-timeline").html("").appendTo(vi),xt=0;xt<Number.parseInt(d.timeline.step);xt++)In=wt+xt,Fe=`${Str.lpad(Oe,"0",2)}:${Str.lpad(In,"0",2)}`,kn=o("<li>").data("time",Fe).addClass(`js-fake-time-point-${Fe.replace(":","-")}`).html("|").appendTo(C),kn.css({width:Wi});if(d.streams!==void 0&&o.each(d.streams,function(fs,jn){let ta=0;const Ln=o("<div>").addClass("stream").addClass(this.cls).appendTo(g);Ln.addClass(jn.cls).data("one",!1).data("data",jn.data),o("<div>").addClass("stream-title").html(jn.title).appendTo(Ln),o("<div>").addClass("stream-secondary").html(jn.secondary).appendTo(Ln),o(jn.icon).addClass("stream-icon").appendTo(Ln);const na=Farbe.Routines.toHEX(t.utils.getStyleOne(Ln,"background-color")),Ea=Farbe.Routines.toHEX(t.utils.getStyleOne(Ln,"color")),bi=o("<div>").addClass("stream-events").data("background-color",na).data("text-color",Ea).appendTo(I);if(jn.events!==void 0){o.each(jn.events,function(Aa,Dt){const Pd=Dt.row===void 0?1:Number.parseInt(Dt.row);let Bt;const Et=`${fs}:${Aa}`,It=Dt.custom!==void 0?Dt.custom:"",ln=Dt.custom_open!==void 0?Dt.custom_open:"",Vt=Dt.custom_close!==void 0?Dt.custom_close:"";let an;if(Dt.skip!==void 0&&t.utils.bool(Dt.skip))return;an=o("<div>").data("origin",Dt).data("sid",Et).data("data",Dt.data).data("time",Dt.time).data("target",Dt.target).addClass("stream-event").addClass(`size-${Dt.size}${["half","one-third"].includes(Dt.size)?"":"x"}`).addClass(Dt.cls).appendTo(bi);const ji=k.find(`.js-fake-time-point-${this.time.replace(":","-")}`).offset().left-bi.offset().left,Is=75*(Pd-1);if(Pd>ta&&(ta=Pd),an.css({position:"absolute",left:ji,top:Is}),t.utils.isNull(Dt.html)){const Bd=o("<div>").addClass("stream-event-slide").appendTo(an),If=o("<div>").addClass("slide-logo").appendTo(Bd),Lf=o("<div>").addClass("slide-data").appendTo(Bd);Dt.icon!==void 0&&(t.utils.isTag(Dt.icon)?o(Dt.icon).addClass("icon").appendTo(If):o("<img>").addClass("icon").attr("src",Dt.icon).attr("alt","").appendTo(If)),o("<span>").addClass("time").css({backgroundColor:na,color:Ea}).html(Dt.time).appendTo(If),o("<div>").addClass("title").html(Dt.title).appendTo(Lf),o("<div>").addClass("subtitle").html(Dt.subtitle).appendTo(Lf),o("<div>").addClass("desc").html(Dt.desc).appendTo(Lf),(r.closed===!1&&i.attr("id")===q&&Z.indexOf(Et)!==-1||Dt.selected===!0||Number.parseInt(Dt.selected)===1)&&an.addClass("selected"),r.closed===!0||Dt.closed===!0||Number.parseInt(Dt.closed)===1?(Bt=Dt.closedIcon!==void 0?t.utils.isTag(Dt.closedIcon)?Dt.closedIcon:`<span>${Dt.closedIcon}</span>`:t.utils.isTag(r.defaultClosedIcon)?r.defaultClosedIcon:`<span>${r.defaultClosedIcon}</span>`,o(Bt).addClass("state-icon").addClass(Dt.clsClosedIcon).appendTo(Bd),an.data("closed",!0).data("target",Dt.target),an.append(ln)):(Bt=Dt.openIcon!==void 0?t.utils.isTag(Dt.openIcon)?Dt.openIcon:`<span>${Dt.openIcon}</span>`:t.utils.isTag(r.defaultOpenIcon)?r.defaultOpenIcon:`<span>${r.defaultOpenIcon}</span>`,o(Bt).addClass("state-icon").addClass(Dt.clsOpenIcon).appendTo(Bd),an.data("closed",!1),an.append(Vt)),an.append(It)}else an.html(Dt.html);e._fireEvent("draw-event",{event:an[0]})});const Fs=bi.find(".stream-event").last();Fs.length>0&&bi.outerWidth(Fs[0].offsetLeft+Fs.outerWidth())}bi.css({height:75*ta}),i.find(".stream").eq(bi.index()).css({height:75*ta}),e._fireEvent("draw-stream",{stream:Ln[0]})}),d.global!==void 0){const fs=E.offset().left;o.each(["before","after"],(jn,bo)=>{d.global[bo]!==void 0&&o.each(d.global[bo],function(ta,Ln){const na=o("<div>").addClass("event-group").addClass(`size-${Ln.size}${["half","one-third"].includes(Ln.size)?"":"x"}`),Ea=o("<div>").addClass("stream-events global-stream").appendTo(na),bi=o("<div>").addClass("stream-event").appendTo(Ea);bi.addClass("global-event").addClass(Ln.cls).data("time",Ln.time).data("origin",Ln).data("data",Ln.data),o("<div>").addClass("event-title").html(Ln.title).appendTo(bi),o("<div>").addClass("event-subtitle").html(Ln.subtitle).appendTo(bi),o("<div>").addClass("event-html").html(Ln.html).appendTo(bi);let Fs;const Aa=k.find(`.js-fake-time-point-${this.time.replace(":","-")}`);Aa.length>0&&(Fs=Aa.offset().left-fs),na.css({position:"absolute",left:Fs,height:"100%"}).appendTo(E),e._fireEvent("draw-global-event",{event:bi[0]})})})}i.data("stream",-1),i.find(".events-area").scrollLeft(0),this.events=i.find(".stream-event"),this._createEvents(),r.startFrom!==null&&r.slideToStart===!0&&setTimeout(()=>{e.slideTo(r.startFrom)},r.startSlideSleep),this._fireEvent("streamer-create"),this._fireScroll()},_fireScroll:function(){const i=this.element.find(".events-area"),r=this.scroll;i.length!==0&&(this.scrollDir=this.scroll<i[0].scrollLeft?"left":"right",this.scroll=i[0].scrollLeft,this._fireEvent("events-scroll",{scrollLeft:i[0].scrollLeft,oldScroll:r,scrollDir:this.scrollDir,events:o.toArray(this.events)}))},_createEvents:function(){const e=this,i=this.element,r=this.options;function d(){const _=globalThis.pageYOffset||document.documentElement.scrollTop,C=globalThis.pageXOffset||document.documentElement.scrollLeft;globalThis.onscroll=()=>{globalThis.scrollTo(C,_)}}function g(){globalThis.onscroll=()=>{}}i.off(t.events.click,".stream-event").on(t.events.click,".stream-event",function(_){const C=o(this);if(!(r.excludeClass!==""&&C.hasClass(r.excludeClass))&&!(r.excludeElement!==null&&o(_.target).is(r.excludeElement))){if(r.closed===!1&&C.data("closed")!==!0&&r.eventClick==="select")r.excludeSelectClass!==""&&C.hasClass(r.excludeSelectClass)||r.excludeSelectElement!==null&&o(_.target).is(r.excludeSelectElement)||(C.hasClass("global-event")?r.selectGlobal===!0&&C.toggleClass("selected"):C.toggleClass("selected"),r.changeUri===!0&&e._changeURI(),e._fireEvent("event-select",{event:C[0],selected:C.hasClass("selected")}));else if(!(r.excludeClickClass!==""&&C.hasClass(r.excludeClickClass))){if(!(r.excludeClickElement!==null&&o(_.target).is(r.excludeClickElement))){if(e._fireEvent("event-click",{event:C[0]}),r.closed===!0||C.data("closed")===!0){const k=C.data("target");k&&(globalThis.location.href=k)}}}}}),i.off(t.events.click,".stream").on(t.events.click,".stream",function(){const _=o(this),C=_.index();r.streamSelect!==!1&&(i.data("stream")===C?(i.find(".stream-event").removeClass("disabled"),i.data("stream",-1)):(i.data("stream",C),i.find(".stream-event").addClass("disabled"),e.enableStream(_),e._fireEvent("stream-select",{stream:_})),e._fireEvent("stream-click",{stream:_}))}),r.wheel===!0&&(i.find(".events-area").off(t.events.mousewheel).on(t.events.mousewheel,function(_){if(_.deltaY===void 0)return;const C=o(this),k=_.deltaY>0?-1:1,E=r.wheelStep,I=C.scrollLeft()-k*E;C.scrollLeft(I)},{passive:!0}),i.find(".events-area").off("mouseenter").on("mouseenter",()=>{d()}),i.find(".events-area").off("mouseleave").on("mouseleave",()=>{g()})),i.find(".events-area").last().off("scroll").on("scroll",()=>{e._fireScroll()}),o.touchable===!0&&i.off(t.events.click,".stream").on(t.events.click,".stream",function(){const _=o(this);_.toggleClass("focused"),o.each(i.find(".stream"),function(){o(this).is(_)||o(this).removeClass("focused")})})},_changeURI:function(){const e=this.getLink();history.pushState({},document.title,e)},slideTo:function(e){const i=this.element,r=this.options;let d;e===void 0?d=o(i.find(".streamer-timeline li")[0]):d=o(i.find(`.streamer-timeline .js-time-point-${e.replace(":","-")}`)[0]),i.find(".events-area").animate({draw:{scrollLeft:d[0].offsetLeft-i.find(".streams .stream").outerWidth()},dur:r.duration})},enableStream:function(e){const i=this.element,r=e.index()-1;e.removeClass("disabled").data("streamDisabled",!1),i.find(".stream-events").eq(r).find(".stream-event").removeClass("disabled")},disableStream:function(e){const i=this.element,r=e.index()-1;e.addClass("disabled").data("streamDisabled",!0),i.find(".stream-events").eq(r).find(".stream-event").addClass("disabled")},toggleStream:function(e){e.data("streamDisabled")===!0?this.enableStream(e):this.disableStream(e)},getLink:function(){const e=this.element,i=this.options,r=e.find(".stream-event"),d=[];let g;const _=globalThis.location.href;return o.each(r,function(){const C=o(this);C.data("sid")===void 0||!C.hasClass("selected")||d.push(C.data("sid"))}),g=`${e.attr("id")}|${d.join(",")}`,i.encodeLink===!0&&(g=btoa(g)),t.utils.updateURIParameter(_,"StreamerIDS",g)},getTimes:function(){const i=this.element.find(".streamer-timeline > li"),r=[];return o.each(i,function(){r.push(o(this).data("time"))}),r},getEvents:function(e,i){const r=this.element;let d;const g=[];switch(e){case"selected":d=r.find(".stream-event.selected");break;case"non-selected":d=r.find(".stream-event:not(.selected)");break;default:d=r.find(".stream-event")}return o.each(d,function(){const _=o(this);if(i!==!0&&_.parent().hasClass("global-stream"))return;const C=_.data("origin");g.push(C)}),g},source:function(e){const i=this.element;if(e===void 0)return this.options.source;i.attr("data-source",e),this.options.source=e,this.changeSource()},dataSet:function(e){if(e===void 0)return this.options.data;this.options.data=e,this.changeData(e)},getStreamerData:function(){return this.data},toggleEvent:function(e){const i=this.options,r=o(e);r.hasClass("global-event")&&i.selectGlobal!==!0||(r.hasClass("selected")?this.selectEvent(e,!1):this.selectEvent(e,!0))},selectEvent:function(e,i=!0){const r=this.options,d=o(e);d.hasClass("global-event")&&r.selectGlobal!==!0||(i===!0?d.addClass("selected"):d.removeClass("selected"),r.changeUri===!0&&this._changeURI(),this._fireEvent("event-select",{event:d[0],selected:i}))},changeSource:function(){const e=this.element,i=this.options,r=e.attr("data-source");String(r).trim()!==""&&(i.source=r,this._fireEvent("data-load",{source:i.source}),this._loadSource(),this._fireEvent("source-change"))},changeData:function(e){const i=this.element,r=this.options,d=this.data;r.data=typeof e=="object"?e:JSON.parse(i.attr("data-data")),this.data=r.data,this.build(),this._fireEvent("data-change",{oldData:d,newData:r.data})},changeStreamSelectOption:function(){const e=this.element,i=this.options;i.streamSelect=e.attr("data-stream-select").toLowerCase()==="true"},changeAttribute:function(e){switch(e){case"data-source":this.changeSource();break;case"data-data":this.changeData();break;case"data-stream-select":this.changeStreamSelectOption();break}},destroy:function(){const e=this.element;e.off(t.events.click,".stream-event"),e.off(t.events.click,".stream"),e.find(".events-area").off(t.events.mousewheel),e.find(".events-area").last().off("scroll"),e.remove()}})})(Metro,Dom),((t,o)=>{let f={swipeThreshold:32,onSwipe:t.noop,onSwipeRight:t.noop,onSwipeLeft:t.noop,onSwipeUp:t.noop,onSwipeDown:t.noop,onSwipeCreate:t.noop};t.swipeSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroSwipeSetup<"u"&&t.swipeSetup(globalThis.metroSwipeSetup),t.Component("swipe",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this.element.css({userSelect:"none"}),this._createEvents(),this._fireEvent("swipe-create")},_createEvents:function(){const e=this.element,i=this.options;e.on("touchstart mousedown",r=>{const d=t.utils.pageXY(r),g={x:0,y:0};e.on("touchmove mousemove",_=>{const C=t.utils.pageXY(_);g.x=C.x-d.x,g.y=C.y-d.y}),e.on("touchend mouseup",_=>{let C="";(Math.abs(g.x)>i.swipeThreshold||Math.abs(g.y)>i.swipeThreshold)&&(Math.abs(g.x)>Math.abs(g.y)?g.x>0?(C="right",this._fireEvent("swipe-right",{start:d,swipe:g})):(C="left",this._fireEvent("swipe-left",{start:d,swipe:g})):g.y>0?(C="down",this._fireEvent("swipe-down",{start:d,swipe:g})):(C="up",this._fireEvent("swipe-up",{start:d,swipe:g})),this._fireEvent("swipe",{start:d,swipe:g,direction:C})),e.off("touchmove mousemove"),e.off("touchend mouseup")})})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={switchDeferred:0,material:!1,prepend:"",append:"",clsSwitch:"",clsCheck:"",clsCaption:"",onoff:!1,on:"",off:"",showOnOff:!1,onSwitchCreate:t.noop};t.switchSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroSwitchSetup<"u"&&t.switchSetup(globalThis.metroSwitchSetup),t.Component("switch",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){const e=this.element,i=this.options,r=this.strings,d=e.wrap("<label>").addClass("switch").addClass(e[0].className).addClass(i.clsSwitch);e.attr("type","checkbox"),e.attr("readonly")&&e.on("click",g=>{g.preventDefault()}),this.component=d,e[0].className="",i.prepend&&d.prepend(o("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),i.append&&d.append(o("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.append)),i.onoff===!0?(e.attr("data-on",i.on||r.label_on),e.attr("data-off",i.off||r.label_off)):(e.removeAttr("data-on"),e.removeAttr("data-off")),i.material===!0&&d.addClass("material"),this._fireEvent("switch-create")},toggle:function(e){const i=this.element;return i.is(":disabled")?this:(t.utils.isValue(e)?i.prop("checked",e===1):i.prop("checked",!t.utils.bool(i.prop("checked"))),this)},changeAttribute:(e,i)=>{},destroy:function(){return this.element}})})(Metro,Dom),((t,o)=>{let f={splitter:",",variance:0,delay:100,blinkDelay:400,deleteDelay:800,loop:!0,cursor:"_",colors:"",onType:t.noop,onTyperCreate:t.noop};t.typerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroTyperSetup<"u"&&t.typerSetup(globalThis.metroTyperSetup),t.Component("typer",{init:function(e,i){return this._super(i,e,f,{original:null,lines:null,text:null,cursor:null,on:!0,interval:null,colors:null,colorIndex:0}),this},_create:function(){const e=this.element,i=this.options;e.addClass("typer"),this.original=e.text(),this.words=this.original.split(i.splitter).pack(),this.colors=i.colors.split(",").pack(),this.cursor=o("<span>").addClass("typer-cursor").html(i.cursor).insertAfter(e),this.interval=setInterval(()=>this._blink(),+i.blinkDelay),this.progress={word:0,char:0,building:!0,looped:0},e.clear(),this.start()},_blink:function(){this.on?(this.cursor[0].style.opacity=0,this.on=!1):(this.cursor[0].style.opacity=1,this.on=!0)},doTyping:function(){const e=this.element,i=this.elem,r=this.options;let d;const g=this.progress,_=g.word,C=g.char,k=[...this.words[_]].slice(0,C).join(""),E=(2*Math.random()-1)*r.variance+r.delay;this.cursor[0].style.opacity="1",this.on=!0,clearInterval(this.interval),this.interval=setInterval(()=>this._blink(),+r.blinkDelay),e.html(k),g.building?(d=g.char===this.words[_].length,d?g.building=!1:g.char+=1):g.char===0?(g.building=!0,g.word=(g.word+1)%this.words.length,this.colors.length&&(this.colorIndex=(this.colorIndex+1)%this.colors.length,i.style.color=this.colors[this.colorIndex])):g.char-=1,g.word===this.words.length-1&&(g.looped+=1),!g.building&&this.loop<=g.looped&&(this.typing=!1),setTimeout(()=>{this.typing&&this.doTyping()},d?r.deleteDelay:E)},start:function(){this.typing||(this.typing=!0,this.doTyping())},stop:function(){this.typing=!1},destroy:function(){this.element.remove()}})})(Metro,Dom);var sm={title:void 0,format:void 0,formatMask:void 0,name:void 0,colspan:null,size:void 0,sortable:!1,sortDir:void 0,clsColumn:void 0,cls:void 0,show:!0,required:!0,field:void 0,fieldType:void 0,validator:void 0,template:void 0,type:"data"};((t,o)=>{let f={caption:"",cardMode:"",useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"🔧",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationIslandSize:3,paginationShortTrack:10,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,source:null,static:!1,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:t.noop,onDrawRow:t.noop,onDrawCell:t.noop,onAppendRow:t.noop,onAppendCell:t.noop,onSortStart:t.noop,onSortStop:t.noop,onSortItemSwitch:t.noop,onSearch:t.noop,onRowsCountChange:t.noop,onDataLoad:t.noop,onDataLoadError:t.noop,onDataLoaded:t.noop,onDataLoadEnd:t.noop,onDataSaveError:t.noop,onFilterRowAccepted:t.noop,onFilterRowDeclined:t.noop,onCheckClick:t.noop,onCheckClickAll:t.noop,onCheckDraw:t.noop,onViewSave:t.noop,onViewGet:t.noop,onViewCreated:t.noop,onTableCreate:t.noop,onSkip:t.noop};t.tableSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroTableSetup<"u"&&t.tableSetup(globalThis.metroTableSetup),t.Component("table",{init:function(e,i){return this._super(i,e,f,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},input_interval:null,searchFields:[],id:null,sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){const e=this.element,i=this.options,r=Hooks.useId(this.elem);let d;if(e.id()||(console.warn("To use all table component features, please set an ID for the table element!"),e.id(r)),t.utils.isValue(i.searchFields)&&(this.searchFields=i.searchFields.toArray()),t.utils.isValue(i.head)){const C=i.head;i.head=t.utils.isObject(i.head),i.head||(console.warn(`Head ${C} defined but not exists!`),i.head=null)}if(t.utils.isValue(i.body)){const C=i.body;i.body=t.utils.isObject(i.body),i.body||(console.warn(`Body ${C} defined but not exists!`),i.body=null)}i.static===!0&&(i.showPagination=!1,i.showRowsSteps=!1,i.showSearch=!1,i.showTableInfo=!1,i.showSkip=!1,i.rows=-1);const g=o("<div>").addClass("table-component");g.insertBefore(e),d=o("<div>").addClass("table-container").addClass(i.clsTableContainer).appendTo(g),e.appendTo(d),i.horizontalScroll===!0&&d.addClass("horizontal-scroll"),!t.utils.isNull(i.horizontalScrollStop)&&t.utils.mediaExist(i.horizontalScrollStop)&&d.removeClass("horizontal-scroll"),g.addClass(i.clsComponent),this.activity=o("<div>").addClass("table-progress").appendTo(g);const _=o("<div>").appendTo(this.activity);if(t.makePlugin(_,"activity",{type:i.activityType,style:i.activityStyle}),i.showActivity!==!0&&this.activity.css({visibility:"hidden"}),this.component=g[0],i.source!==null){this._fireEvent("data-load",{source:i.source});const C=t.utils.isObject(i.source);C!==!1&&o.isPlainObject(C)?this._build(C):this.activity.show(()=>{fetch(i.source).then(t.fetch.status).then(t.fetch.json).then(k=>{if(this.activity.hide(),typeof k!="object")throw new Error("Data for table is not a object");this._fireEvent("data-loaded",{source:i.source,data:k}),this._build(k)}).catch(k=>{this.activity.hide(),this._fireEvent("data-load-error",{source:i.source,error:k})})})}else this._build()},_createIndex:function(){const e=this.options.checkColIndex;setImmediate(()=>{this.items.forEach((i,r)=>{this.index[i[e]]=r})})},_build:function(e){const i=this.element,r=this.options;let d;const g=i.attr("id");let _;r.rows=+r.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(r.head)&&(this.heads=r.head),Array.isArray(r.body)&&(this.items=r.body),t.utils.isValue(e)?this._createItemsFromJSON(e):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=t.utils.objectClone(this.view),_=r.viewSavePath.replace("$1",g),r.viewSaveMode.toLowerCase()==="client"?(d=t.storage.getItem(_),t.utils.isValue(d)&&t.utils.objectLength(d)===t.utils.objectLength(this.view)&&(this.view=d,this._fireEvent("view-get",{source:"client",view:d})),this._final()):fetch(_).then(t.fetch.status).then(t.fetch.json).then(C=>{t.utils.isValue(C)&&t.utils.objectLength(C)===t.utils.objectLength(this.view)&&(this.view=C,this._fireEvent("view-get",{source:"server",view:C})),this._final()}).catch(C=>{this._final(),console.warn(`Warning! Error loading view for table ${i.attr("id")}: ${C}`)})},_final:function(){const e=this.element;this.options,e.attr("id"),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:e})},_service:function(){const e=this.options;this.service=[{...sm,title:e.rownumTitle,clsColumn:`rownum-cell ${e.rownum!==!0?"d-none":""}`,cls:`rownum-cell ${e.rownum!==!0?"d-none":""}`,type:"rownum"},{...sm,title:e.checkType==="checkbox"?`<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='${e.checkStyle}'>`:"",clsColumn:`check-cell ${e.check!==!0?"d-none":""}`,cls:`check-cell ${e.check!==!0?"d-none":""}`,type:"rowcheck"}]},_createView:function(){const e={};return o.each(this.heads,function(i){t.utils.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),t.utils.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),e[i]={index:i,"index-view":i,show:t.utils.isValue(this.show)?this.show:!0,size:t.utils.isValue(this.size)?this.size:""}}),this._fireEvent("view-created",{view:e}),e},_createInspectorItems:function(e){const i=this,r=this.options;let d;const g=[];let _;const C=this.heads;for(e.html(""),d=0;d<C.length;d++)g[d]=null;for(o.each(C,function(k){_=o("<tr>"),_.data("index",k),_.data("index-view",k),o("<td>").html(`<input type='checkbox' data-style='${r.checkStyle}' data-role='checkbox' name='column_show_check[]' value='${k}' ${t.utils.bool(i.view[k].show)?"checked":""}>`).appendTo(_),o("<td>").html(`<div>${this.title}</div>`).appendTo(_),o("<td>").html(`<input type='number' data-role='spinner' name='column_size' value='${i.view[k].size}' data-index='${k}'>`).appendTo(_),o("<td>").html("<button class='button square js-table-inspector-field-up' type='button'>↑</button><button class='button square js-table-inspector-field-down' type='button'>↓</button>").appendTo(_),g[i.view[k]["index-view"]]=_}),d=0;d<C.length;d++)g[d].appendTo(e)},_createInspector:function(){const e=this.options,i=this.strings,r=o("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector");r.attr("for",this.element.attr("id")),o(`<div class='table-inspector-header'>${e.inspectorTitle||i.label_inspector}</div>`).appendTo(r);const d=o("<div>").addClass("table-wrap").appendTo(r),g=o("<table>").addClass("table subcompact"),_=o("<tbody>").appendTo(g);g.appendTo(d),this._createInspectorItems(_);const C=o("<div class='table-inspector-actions'>").appendTo(r);o("<button class='button primary js-table-inspector-save' type='button'>").html(i.label_save).appendTo(C),o("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(i.label_reset).appendTo(C),o("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(i.label_cancel).appendTo(C),r.data("open",!1),this.inspector=r,o("body").append(r),this._createInspectorEvents()},_resetInspector:function(){const i=this.inspector.find("table tbody");this._createInspectorItems(i),this._createInspectorEvents()},_createHeadsFromHTML:function(){const e=this,r=this.element.find("thead");r.length>0&&o.each(r.find("tr > *"),function(){const d=o(this);let g,_;if(d.hasClass("rownum-cell")||d.hasClass("check-cell"))return;t.utils.isValue(d.data("sort-dir"))?g=d.data("sort-dir"):d.hasClass("sort-asc")?g="asc":d.hasClass("sort-desc")?g="desc":g=void 0,_=d[0].className.replace("sortable-column",""),_=_.replace("sort-asc",""),_=_.replace("sort-desc",""),_=_.replace("hidden","");const C={type:"data",title:d.html(),name:t.utils.isValue(d.data("name"))?d.data("name"):d.text().replace(" ","_"),sortable:d.hasClass("sortable-column")||t.utils.isValue(d.data("sortable"))&&JSON.parse(d.data("sortable"))===!0,sortDir:g,format:t.utils.isValue(d.data("format"))?d.data("format"):"string",formatMask:t.utils.isValue(d.data("format-mask"))?d.data("format-mask"):null,clsColumn:t.utils.isValue(d.data("cls-column"))?d.data("cls-column"):"",cls:_,colspan:d.attr("colspan"),size:t.utils.isValue(d.data("size"))?d.data("size"):"",show:!(d.hasClass("hidden")||t.utils.isValue(d.data("show"))&&JSON.parse(d.data("show"))===!1),required:t.utils.isValue(d.data("required"))?JSON.parse(d.data("required"))===!0:!1,field:t.utils.isValue(d.data("field"))?d.data("field"):"input",fieldType:t.utils.isValue(d.data("field-type"))?d.data("field-type"):"text",validator:t.utils.isValue(d.data("validator"))?d.data("validator"):null,template:t.utils.isValue(d.data("template"))?d.data("template"):null};e.heads.push(C)})},_createFootsFromHTML:function(){const e=this,r=this.element.find("tfoot");r.length>0&&o.each(r.find("tr > *"),function(){const d=o(this),g={title:d.html(),name:t.utils.isValue(d.data("name"))?d.data("name"):!1,cls:d[0].className,colspan:d.attr("colspan")};e.foots.push(g)})},_createItemsFromHTML:function(){const e=this,r=this.element.find("tbody");r.length>0&&o.each(r.find("tr"),function(){const d=o(this),g=[];o.each(d.children("td"),function(){const _=o(this);g.push(_.html())}),e.items.push(g)}),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(e){const i=this,r=typeof e=="string"?JSON.parse(e):e;r.header!==void 0?i.heads=r.header:this._createHeadsFromHTML(),r.data!==void 0&&o.each(r.data,function(){const d=[];o.each(this,function(){d.push(this)}),i.items.push(d)}),r.footer!==void 0?this.foots=r.footer:this._createFootsFromHTML()},_createTableHeader:function(){const e=this.element,i=this.options;let r=e.find("thead"),d;const g=[];let _,C;const k=i.staticView?this._createView():this.view;if(r.length===0&&(r=o("<thead>"),e.prepend(r)),r.clear().addClass(i.clsHead),i.caption&&r.prev("caption").length===0&&o("<caption>").html(i.caption).insertBefore(r),this.heads.length===0)return r;for(d=o("<tr>").addClass(i.clsHeadRow).appendTo(r),o.each(this.service,function(){const E=[],I=o("<th>");t.utils.isValue(this.title)&&I.html(this.title),t.utils.isValue(this.size)&&I.css({width:this.size}),t.utils.isValue(this.cls)&&E.push(this.cls),E.push(i.clsHeadCell),I.addClass(E.join(" ")),d.append(I)}),C=this.heads,_=0;_<C.length;_++)g[_]=null;for(o.each(C,function(E){const I=[],B=o("<th>");B.data("index",E),t.utils.isValue(this.title)&&B.html(this.title),t.utils.isValue(this.format)&&B.attr("data-format",this.format),t.utils.isValue(this.formatMask)&&B.attr("data-format-mask",this.formatMask),t.utils.isValue(this.name)&&B.attr("data-name",this.name),t.utils.isValue(this.colspan)&&B.attr("colspan",this.colspan),t.utils.isValue(this.size)&&B.attr("data-size",this.size),t.utils.isValue(this.sortable)&&B.attr("data-sortable",this.sortable),t.utils.isValue(this.sortDir)&&B.attr("data-sort-dir",this.sortDir),t.utils.isValue(this.clsColumn)&&B.attr("data-cls-column",this.clsColumn),t.utils.isValue(this.cls)&&B.attr("data-cls",this.cls),t.utils.isValue(this.show)&&B.attr("data-show",this.show),t.utils.isValue(this.required)&&B.attr("data-required",this.required),t.utils.isValue(this.field)&&B.attr("data-field",this.field),t.utils.isValue(this.fieldType)&&B.attr("data-field-type",this.fieldType),t.utils.isValue(this.validator)&&B.attr("data-validator",this.validator),t.utils.isValue(this.template)&&B.attr("data-template",this.template),t.utils.isValue(k[E].size)&&B.css({width:k[E].size}),this.sortable===!0&&(I.push("sortable-column"),t.utils.isValue(this.sortDir)&&I.push(`sort-${this.sortDir}`)),t.utils.isValue(this.cls)&&o.each(this.cls.toArray(),function(){I.push(this)}),t.utils.bool(k[E].show)===!1&&I.indexOf("hidden")===-1&&I.push("hidden"),I.push(i.clsHeadCell),t.utils.bool(k[E].show)&&t.utils.arrayDelete(I,"hidden"),B.addClass(I.join(" ")),g[k[E]["index-view"]]=B}),_=0;_<C.length;_++)g[_].appendTo(d)},_createTableBody:function(){let e,i;const r=this.element;i=r.find("thead"),e=r.find("tbody"),e.length===0&&(e=o("<tbody>").addClass(this.options.clsBody),i.length!==0?e.insertAfter(i):r.append(e)),e.clear()},_createTableFooter:function(){const e=this.element,i=this.options;let r=e.find("tfoot"),d;if(r.length===0&&(r=o("<tfoot>").appendTo(e)),r.clear().addClass(i.clsFooter),this.foots.length===0)return;const g=o("<tr>").addClass(i.clsHeadRow).appendTo(r);o.each(this.foots,function(){d=o("<th>").appendTo(g),this.title&&d.html(this.title),this.name&&d.addClass(`foot-column-name-${this.name}`),this.cls&&d.addClass(this.cls),t.utils.isValue(this.colspan)&&d.attr("colspan",this.colspan),d.appendTo(g)})},_createTopBlock:function(){const e=this.element,i=this.options,r=this.strings,d=o("<div>").addClass("table-top").addClass(i.clsTableTop).insertBefore(e.parent());let g,_;g=t.utils.isValue(this.wrapperSearch)?this.wrapperSearch:o("<div>").addClass("table-search-block").addClass(i.clsSearch).appendTo(d),g.addClass(i.clsSearch);const C=o("<input>").attr("type","text").attr("placeholder",i.tableSearchPlaceholder).appendTo(g);t.makePlugin(C,"input",{prepend:i.tableSearchTitle||r.label_search}),i.showSearch!==!0&&g.hide(),_=t.utils.isValue(this.wrapperRows)?this.wrapperRows:o("<div>").addClass("table-rows-block").appendTo(d),_.addClass(i.clsRowsCount);const k=o("<select>").appendTo(_);return o.each(i.rowsSteps.toArray(),function(){const E=Number.parseInt(this),I=o("<option>").attr("value",E).text(E===-1?i.allRecordsTitle||r.label_all:E).appendTo(k);E===Number.parseInt(i.rows)&&I.attr("selected","selected")}),t.makePlugin(k,"select",{filter:!1,prepend:i.tableRowsCountTitle||r.label_rows_count,onChange:E=>{Number.parseInt(E)!==i.rows&&(i.rows=E,this.currentPage=1,this._draw(),this._fireEvent("rows-count-change",{val:E}))}}),i.showInspectorButton&&o("<button>").addClass("button inspector-button").attr("type","button").html(i.inspectorButtonIcon).insertAfter(_),i.showRowsSteps!==!0&&_.hide(),d},_createBottomBlock:function(){const e=this.element,i=this.options,r=this.strings,d=o("<div>").addClass("table-bottom").addClass(i.clsTableBottom).insertAfter(e.parent());let g,_,C;return g=t.utils.isValue(this.wrapperInfo)?this.wrapperInfo:o("<div>").addClass("table-info").appendTo(d),g.addClass(i.clsTableInfo),i.showTableInfo!==!0&&g.hide(),_=t.utils.isValue(this.wrapperPagination)?this.wrapperPagination:o("<div>").addClass("table-pagination").appendTo(d),_.addClass(i.clsTablePagination),i.showPagination!==!0&&_.hide(),C=t.utils.isValue(this.wrapperSkip)?this.wrapperSkip:o("<div>").appendTo(d),C.addClass("table-skip").addClass(i.clsTableSkip),o(`<input type='text' data-role='input' placeholder="${r.label_enter_page}">`).addClass("table-skip-input").addClass(i.clsTableSkipInput).appendTo(C),o("<button>").addClass("button table-skip-button").addClass(i.clsTableSkipButton).html(i.tableSkipTitle||r.label_goto_page).appendTo(C),i.showSkip!==!0&&C.hide(),d},_createStructure:function(){const e=this,i=this.element,r=this.options;let d;const g=o(r.searchWrapper),_=o(r.infoWrapper),C=o(r.rowsWrapper),k=o(r.paginationWrapper),E=o(r.skipWrapper);g.length>0&&(this.wrapperSearch=g),_.length>0&&(this.wrapperInfo=_),C.length>0&&(this.wrapperRows=C),k.length>0&&(this.wrapperPagination=k),E.length>0&&(this.wrapperSkip=E),i.addClass(r.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();let I=!1;this.heads.length>0&&o.each(this.heads,function(q){!I&&["asc","desc"].indexOf(this.sortDir)>-1&&(I=!0,e.sort.colIndex=q,e.sort.dir=this.sortDir)}),I&&(d=i.find("thead th"),this._resetSortClass(d),o(d.get(this.sort.colIndex+e.service.length)).addClass(`sort-${this.sort.dir}`),this.sorting());let B;t.utils.isValue(r.filters)&&typeof r.filters=="string"&&o.each(r.filters.toArray(),function(){B=t.utils.isFunc(this),B!==!1&&e.filtersIndexes.push(e.addFilter(B))}),this.currentPage=1,this._draw()},_resetSortClass:e=>{o(e).removeClass("sort-asc sort-desc")},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.closest(".table-component"),g=d.find(".table-container"),_=d.find(".table-search-block input"),C=r.skipWrapper?o(r.skipWrapper).find(".table-skip-button"):d.find(".table-skip-button"),k=r.skipWrapper?o(r.skipWrapper).find(".table-skip-input"):d.find(".table-skip-input");let E;const I=i.attr("id");d.find(".inspector-button").on(t.events.click,()=>{e.toggleInspector()}),C.on(t.events.click,()=>{const Q=Number.parseInt(k.val().trim());if(Number.isNaN(Q)||Q<=0||Q>e.pagesCount)return k.val(""),!1;k.val(""),e._fireEvent("skip",{skipTo:Q,skipFrom:e.currentPage}),e.page(Q)}),o(globalThis).on(t.events.resize,()=>{r.horizontalScroll===!0&&(!t.utils.isNull(r.horizontalScrollStop)&&t.utils.mediaExist(r.horizontalScrollStop)?g.removeClass("horizontal-scroll"):g.addClass("horizontal-scroll"))},{ns:this.id}),i.on(t.events.click,".sortable-column",function(){if(r.muteTable===!0&&i.addClass("disabled"),e.busy)return!1;e.busy=!0;const Q=o(this);e.activity.show(()=>{setImmediate(()=>{e.currentPage=1,e.sort.colIndex=Q.data("index"),!Q.hasClass("sort-asc")&&!Q.hasClass("sort-desc")?e.sort.dir=r.sortDir:Q.hasClass("sort-asc")?e.sort.dir="desc":e.sort.dir="asc",e._resetSortClass(i.find(".sortable-column")),Q.addClass(`sort-${e.sort.dir}`),e.sorting(),e._draw(()=>{e.busy=!1,r.muteTable===!0&&i.removeClass("disabled")})})})}),i.on(t.events.click,".table-service-check",function(){const Q=o(this),De=Q.is(":checked"),He=`${Q.val()}`,Me=r.checkStoreKey.replace("$1",I),Be=t.storage;let we=Be.getItem(Me);Q.attr("type")==="radio"&&(we=[]),De?t.utils.isValue(we)?Array(we).indexOf(He)===-1&&we.push(He):we=[He]:t.utils.isValue(we)?t.utils.arrayDelete(we,He):we=[],Be.setItem(Me,we),e._fireEvent("check-click",{check:this,status:De,data:we})}),i.on(t.events.click,".table-service-check-all",function(){const Q=o(this).is(":checked"),De=r.checkStoreKey.replace("$1",I),He=t.storage;let Me=[],Be;r.useCurrentSlice===!0?(Be=He.getItem(De,[]),Q?o.each(e.currentSlice,function(){Be.indexOf(`${this[r.checkColIndex]}`)===-1&&Be.push(`${this[r.checkColIndex]}`)}):o.each(e.currentSlice,function(){const we=`${this[r.checkColIndex]}`;Be.indexOf(we)!==-1&&t.utils.arrayDelete(Be,we)}),Me=Be):Q?o.each(e.filteredItems,function(){Me.indexOf(this[r.checkColIndex])===-1&&Me.push(`${this[r.checkColIndex]}`)}):Me=[],He.setItem(De,Me),e._draw(),e._fireEvent("check-click-all",{check:this,status:Q,data:Me})});let q=function(){e.searchString=this.value.trim().toLowerCase(),e.currentPage=1,e._draw()};q=Hooks.useDebounce(q,r.searchThreshold),_.on(t.events.inputchange,q),t.utils.isValue(this.wrapperSearch)&&(E=this.wrapperSearch.find("input"),E.length>0&&E.on(t.events.inputchange,q));function Z(Q){const De=o(Q),He=De.parent();e.filteredItems.length!==0&&(He.hasClass("active")||(He.hasClass("service")?De.data("page")==="prev"?(e.currentPage--,e.currentPage===0&&(e.currentPage=1)):(e.currentPage++,e.currentPage>e.pagesCount&&(e.currentPage=e.pagesCount)):e.currentPage=+De.data("page"),e._draw()))}d.on(t.events.click,".pagination .page-link",function(){Z(this)}),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.on(t.events.click,".pagination .page-link",function(){Z(this)}),this._createInspectorEvents(),i.on(t.events.click,".js-table-crud-button",()=>{})},_createInspectorEvents:function(){const e=this,i=this.inspector;this._removeInspectorEvents(),i.on(t.events.click,".js-table-inspector-field-up",function(){const d=o(this).closest("tr"),g=d.prev("tr"),_=d.data("index");let C;g.length!==0&&(d.insertBefore(g),d.addClass("flash"),setTimeout(()=>{d.removeClass("flash")},1e3),C=d.index(),d.data("index-view",C),e.view[_]["index-view"]=C,o.each(d.nextAll(),function(){const k=o(this);C++,k.data("index-view",C),e.view[k.data("index")]["index-view"]=C}),e._createTableHeader(),e._draw())}),i.on(t.events.click,".js-table-inspector-field-down",function(){const d=o(this).closest("tr"),g=d.next("tr"),_=d.data("index");let C;g.length!==0&&(d.insertAfter(g),d.addClass("flash"),setTimeout(()=>{d.removeClass("flash")},1e3),C=d.index(),d.data("index-view",C),e.view[_]["index-view"]=C,o.each(d.prevAll(),function(){const k=o(this);C--,k.data("index-view",C),e.view[k.data("index")]["index-view"]=C}),e._createTableHeader(),e._draw())}),i.on(t.events.click,"input[type=checkbox]",function(){const r=o(this),d=r.is(":checked"),g=r.val(),_=["cls","clsColumn"];d?o.each(_,function(){const C=t.utils.isValue(e.heads[g][this])?e.heads[g][this].toArray(" "):[];t.utils.arrayDelete(C,"hidden"),e.heads[g][this]=C.join(" "),e.view[g].show=!0}):o.each(_,function(){const C=t.utils.isValue(e.heads[g][this])?e.heads[g][this].toArray(" "):[];C.indexOf("hidden")===-1&&C.push("hidden"),e.heads[g][this]=C.join(" "),e.view[g].show=!1}),e._createTableHeader(),e._draw()}),i.find("input[type=number]").on(t.events.inputchange,function(){const r=o(this),d=r.attr("data-index"),g=Number.parseInt(r.val());e.view[d].size=g===0?"":g,e._createTableHeader()}),i.on(t.events.click,".js-table-inspector-save",()=>{e._saveTableView(),e.openInspector(!1)}),i.on(t.events.click,".js-table-inspector-cancel",()=>{e.openInspector(!1)}),i.on(t.events.click,".js-table-inspector-reset",()=>{e.resetView()})},_removeInspectorEvents:function(){const e=this.inspector;e.off(t.events.click,".js-table-inspector-field-up"),e.off(t.events.click,".js-table-inspector-field-down"),e.off(t.events.click,"input[type=checkbox]"),e.off(t.events.click,".js-table-inspector-save"),e.off(t.events.click,".js-table-inspector-cancel"),e.off(t.events.click,".js-table-inspector-reset"),e.off(t.events.inputchange,"input[type=number]")},_saveTableView:function(){const e=this.element,i=this.options,r=this.view,d=e.attr("id"),g=i.viewSavePath.replace("$1",d),_=t.storage;if(i.viewSaveMode.toLowerCase()==="client")_.setItem(g,r),this._fireEvent("view-save",{target:"client",path:i.viewSavePath,view:r});else{const C={id:e.attr("id"),view:r};fetch(g,{method:"POST",body:JSON.stringify(C),header:{"Content-type":"application/json;charset=utf-8"}}).then(t.fetch.status).then(t.fetch.text).then(k=>{this._fireEvent("view-save",{target:"server",path:i.viewSavePath,view:r,post_data:C,response:k})}).catch(k=>{this._fireEvent("data-save-error",{source:i.viewSavePath,error:k,post_data:C})})}},_info:function(e,i,r){const d=this.element,g=this.options,_=this.strings,C=d.closest(".table-component"),k=t.utils.isValue(this.wrapperInfo)?this.wrapperInfo:C.find(".table-info");let E,I=e,B=i,q=r;k.length!==0&&(B>q&&(B=q),this.items.length===0&&(I=B=q=0),E=g.tableInfoTitle||_.label_table_info,E=E.replace("$1",I),E=E.replace("$2",B),E=E.replace("$3",q),k.html(E))},_paging:function(e){const i=this.element,r=this.options,d=this.strings,g=i.closest(".table-component");this.pagesCount=Math.ceil(e/r.rows),t.pagination({length:e,rows:r.rows,current:this.currentPage,target:t.utils.isValue(this.wrapperPagination)?this.wrapperPagination:g.find(".table-pagination"),claPagination:r.clsPagination,prevTitle:r.paginationPrevTitle||d.label_prev,nextTitle:r.paginationNextTitle||d.label_next,distance:r.paginationDistance,islandSize:r.paginationIslandSize,shortTrack:r.paginationShortTrack})},_filter:function(){const e=this.options;let i;return t.utils.isValue(this.searchString)&&this.searchString.length>=e.searchMinLength||this.filters.length>0?i=this.items.filter(r=>{let d="",g,_,C=0;if(this.filters.length>0){for(g=e.filtersOperator.toLowerCase()==="and",_=0;_<this.filters.length;_++)t.utils.isNull(this.filters[_])||(C++,g=e.filtersOperator.toLowerCase()==="and"?g&&t.utils.exec(this.filters[_],[r,this.heads]):g||t.utils.exec(this.filters[_],[r,this.heads]));C===0&&(g=!0)}else g=!0;this.searchFields.length>0?o.each(this.heads,(E,I)=>{this.searchFields.indexOf(I.name)>-1&&(d+=`•${r[E]}`)}):d=r.join("•"),d=d.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase();const k=t.utils.isValue(this.searchString)&&this.searchString.length>=e.searchMinLength?~d.indexOf(this.searchString):!0;return g=g&&k,g?this._fireEvent("filter-row-accepted",{row:r}):this._fireEvent("filter-row-declined",{row:r}),g}):i=this.items,this._fireEvent("search",{search:this.searchString,items:i}),this.filteredItems=i,i},_draw:function(e){const i=this,r=this.element,d=this.options,g=this.strings,_=r.find("tbody");let C,k,E,I,B,q,Z,Q;const De=Number.parseInt(d.rows),He=De===-1?0:De*(+this.currentPage-1),Me=De===-1?this.items.length-1:+He+De-1;let Be,we=[];const Ie=t.storage.getItem(d.checkStoreKey.replace("$1",r.attr("id"))),Oe=d.staticView?this.viewDefault:this.view;if(_.html(""),!this.heads.length){console.warn(`Heads is not defined for table ID ${r.attr("id")}`);return}if(Be=this._filter(),this.currentSlice=Be.slice(He,Me+1),we=[],Be.length>0){for(C=He;C<=Me;C++)if(q=Be[C],Z=[],!!t.utils.isValue(q)){for(E=o("<tr>").addClass(d.clsBodyRow),E.data("original",q),Q=C%2===0,I=o("<td>").attr("data-label","#").attr("aria-label","#").html(C+1),i.service[0].clsColumn!==void 0&&I.addClass(i.service[0].clsColumn),I.appendTo(E),I=o("<td>").attr("data-label","CHK").attr("aria-label","CHK"),d.checkType==="checkbox"?B=o(`<input type='checkbox' data-style='${d.checkStyle}' data-role='checkbox' name='${t.utils.isValue(d.checkName)?d.checkName:"table_row_check"}[]' value='${Be[C][d.checkColIndex]}'>`):B=o(`<input type='radio' data-style='${d.checkStyle}' data-role='radio' name='${t.utils.isValue(d.checkName)?d.checkName:"table_row_check"}' value='${Be[C][d.checkColIndex]}'>`),t.utils.isValue(Ie)&&Array.isArray(Ie)&&Ie.indexOf(`${Be[C][d.checkColIndex]}`)>-1&&(B.prop("checked",!0),we.push(q)),B.addClass("table-service-check"),this._fireEvent("check-draw",{check:B}),B.appendTo(I),i.service[1].clsColumn!==void 0&&I.addClass(i.service[1].clsColumn),I.appendTo(E),k=0;k<q.length;k++)Z[k]=null;for(o.each(q,function(Fe){let wt=this;const xt=o("<td>").attr("data-label",i.heads[Fe].title).attr("aria-label",i.heads[Fe].title);t.utils.isValue(i.heads[Fe].template)&&(wt=i.heads[Fe].template.replace(/%VAL%/g,wt)),xt.html(wt),xt.addClass(d.clsBodyCell),t.utils.isValue(i.heads[Fe].clsColumn)&&xt.addClass(i.heads[Fe].clsColumn),t.utils.bool(Oe[Fe].show)===!1&&xt.addClass("hidden"),t.utils.bool(Oe[Fe].show)&&xt.removeClass("hidden"),xt.data("original",this),Z[Oe[Fe]["index-view"]]=xt,i._fireEvent("draw-cell",{td:xt,val:wt,cellIndex:Fe,head:i.heads[Fe],items:q}),d.cellWrapper===!0&&(wt=o("<div>").addClass("data-wrapper").addClass(d.clsCellWrapper).html(xt.html()),xt.html("").append(wt))}),k=0;k<q.length;k++)Z[k].appendTo(E),i._fireEvent("append-cell",{td:Z[k],tr:E,index:k});i._fireEvent("draw-row",{tr:E,view:i.view,heads:i.heads,items:q}),E.addClass(d.clsRow).addClass(Q?d.clsEvenRow:d.clsOddRow).appendTo(_),i._fireEvent("append-row",{tr:E})}o(this.component).find(".table-service-check-all input").prop("checked",we.length)}else k=0,o.each(Oe,function(){this.show&&k++}),d.check===!0&&k++,d.rownum===!0&&k++,E=o("<tr>").addClass(d.clsBodyRow).appendTo(_),I=o("<td>").attr("colspan",k).addClass("text-center").html(o("<span>").addClass(d.clsEmptyTableTitle).html(d.emptyTableTitle||g.label_empty)),I.appendTo(E);this._info(He+1,Me+1,Be.length),this._paging(Be.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),e!==void 0&&t.utils.exec(e,null,r[0])},_getItemContent:function(e){var I,B;const i=this.options,r=this.locale;let d;const g=e[this.sort.colIndex],_=this.heads[this.sort.colIndex].format,C=!t.utils.isNull(this.heads)&&!t.utils.isNull(this.heads[this.sort.colIndex])&&t.utils.isValue(this.heads[this.sort.colIndex].formatMask)?this.heads[this.sort.colIndex].formatMask:"%Y-%m-%d",k=(I=this.heads)!=null&&I[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:i.thousandSeparator,E=(B=this.heads)!=null&&B[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:i.decimalSeparator;if(d=`${g}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),t.utils.isValue(d)&&t.utils.isValue(_))switch(["number","int","float","money"].indexOf(_)!==-1&&(d=t.utils.parseNumber(d,k,E)),_){case"date":d=C?Datetime.from(d,C,r):datetime(d);break;case"number":d=+d;break;case"int":d=Number.parseInt(d);break;case"float":d=Number.parseFloat(d);break;case"money":d=t.utils.parseMoney(d);break;case"card":d=t.utils.parseCard(d);break;case"phone":d=t.utils.parsePhone(d);break}return d},addItem:function(e,i){if(!Array.isArray(e))return console.warn("Item is not an array and can't be added"),this;this.items.push(e),i!==!1&&this.draw()},addItems:function(e,i){if(!Array.isArray(e))return console.warn("Items is not an array and can't be added"),this;for(const r of e)Array.isArray(r)&&this.items.push(r,!1);this.draw(),i!==!1&&this.draw()},updateItem:function(e,i,r){const d=this.items[this.index[e]];let g=null;return t.utils.isNull(d)?(console.warn("Item is undefined for update"),this):(Number.isNaN(i)&&this.heads.forEach((_,C)=>{_.name===i&&(g=C)}),t.utils.isNull(g)?(console.warn(`Item is undefined for update. Field ${i} not found in data structure`),this):(d[g]=r,this.items[this.index[e]]=d,this))},getItem:function(e){return this.items[this.index[e]]},deleteItem:function(e,i){let r;const d=[],g=t.utils.isFunc(i);for(r=0;r<this.items.length;r++)g?t.utils.exec(i,[this.items[r][e]])&&d.push(r):this.items[r][e]===i&&d.push(r);return this.items=t.utils.arrayDeleteByMultipleKeys(this.items,d),this},deleteItemByName:function(e,i){let r,d;const g=[],_=t.utils.isFunc(i);for(r=0;r<this.heads.length;r++)if(this.heads[r].name===e){d=r;break}for(r=0;r<this.items.length;r++)_?t.utils.exec(i,[this.items[r][d]])&&g.push(r):this.items[r][d]===i&&g.push(r);return this.items=t.utils.arrayDeleteByMultipleKeys(this.items,g),this},draw:function(){return this._draw(),this},sorting:function(e){return t.utils.isValue(e)&&(this.sort.dir=e),this._fireEvent("sort-start",{items:this.items}),this.items.sort((i,r)=>{const d=this._getItemContent(i),g=this._getItemContent(r);let _=0;return d<g&&(_=this.sort.dir==="asc"?-1:1),d>g&&(_=this.sort.dir==="asc"?1:-1),_!==0&&this._fireEvent("sort-item-switch",{a:i,b:r,result:_}),_}),this._fireEvent("sort-stop",{items:this.items}),this},search:function(e){return this.searchString=e.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(e){const i=this,r=this.element;let d=!1,g;this._createIndex(),e===!0&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&o.each(this.heads,function(_){!d&&["asc","desc"].indexOf(this.sortDir)>-1&&(d=!0,i.sort.colIndex=_,i.sort.dir=this.sortDir)}),d&&(g=r.find(".sortable-column"),this._resetSortClass(g),o(g.get(i.sort.colIndex)).addClass(`sort-${i.sort.dir}`),this.sorting()),i.currentPage=1,i._draw()},setHeads:function(e){return this.heads=e,this},setHeadItem:function(e,i){let r,d;for(r=0;r<this.heads.length;r++)if(this.heads[r].name===e){d=r;break}return this.heads[d]=i,this},setItems:function(e){return this.items=e,this},setData:function(e){const i=this.options;return this.activity.show(()=>{this.items=[],this.heads=[],this.foots=[],Array.isArray(i.head)&&(this.heads=i.head),Array.isArray(i.body)&&(this.items=i.body),this._createItemsFromJSON(e),this._rebuild(!0),this.activity.hide()}),this},loadData:function(e,i=!0){const r=this.element,d=this.options;r.html(""),t.utils.isValue(e)?(d.source=e,this._fireEvent("data-load",{source:d.source}),this.activity.show(()=>{fetch(d.source).then(t.fetch.status).then(t.fetch.json).then(g=>{this.activity.hide(),this.items=[],this.heads=[],this.foots=[],this._fireEvent("data-loaded",{source:d.source,data:g}),Array.isArray(d.head)&&(this.heads=d.head),Array.isArray(d.body)&&(this.items=d.body),this._createItemsFromJSON(g),this._rebuild(i),this._resetInspector(),this._fireEvent("data-load-end",{source:d.source,data:g})}).catch(g=>{this.activity.hide(),this._fireEvent("data-load-error",{source:d.source,error:g})})})):this._rebuild(i)},reload:function(e){this.loadData(this.options.source,e)},clear:function(){return this.items=[],this.draw()},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}return this._draw(),this}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}return this._draw(),this}},first:function(){if(this.items.length!==0)return this.currentPage=1,this._draw(),this},last:function(){if(this.items.length!==0)return this.currentPage=this.pagesCount,this._draw(),this},page:function(e){let i=e;return i<=0&&(i=1),i>this.pagesCount&&(i=this.pagesCount),this.currentPage=i,this._draw(),this},addFilter:function(e,i){let r=null,d;const g=t.utils.isFunc(e);if(g!==!1){for(d=0;d<this.filters.length;d++)if(t.utils.isNull(this.filters[d])){r=d,this.filters[d]=g;break}return t.utils.isNull(r)&&(this.filters.push(g),r=this.filters.length-1),i===!0&&(this.currentPage=1,this.draw()),r}},removeFilter:function(e,i){return this.filters[e]=null,i===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){return this.filters=[],e===!0&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){const e=this.element,i=this.options,r=t.storage.getItem(i.checkStoreKey.replace("$1",e.attr("id"))),d=[];return t.utils.isValue(r)?(o.each(this.items,function(){r.indexOf(`${this[i.checkColIndex]}`)!==-1&&d.push(this)}),d):[]},getStoredKeys:function(){const e=this.element,i=this.options;return t.storage.getItem(i.checkStoreKey.replace("$1",e.attr("id")),[])},clearSelected:function(e){const i=this.element,r=this.options;t.storage.setItem(r.checkStoreKey.replace("$1",i.attr("id")),[]),i.find("table-service-check-all input").prop("checked",!1),e===!0&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(e){const i=this.inspector;e?i.show(0,()=>{i.css({top:(o(globalThis).height()-i.outerHeight(!0))/2+pageYOffset,left:(o(globalThis).width()-i.outerWidth(!0))/2+pageXOffset}).data("open",!0)}):i.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(e,i,r,d){const g=t.export,_=this,C=this.options,k=document.createElement("table"),E=o("<thead>").appendTo(k),I=o("<tbody>").appendTo(k);let B,q,Z;const Q=[];let De,He,Me,Be,we;if(typeof g.tableToCSV!="function")return;const Ie=t.utils.isValue(i)?i.toLowerCase():"all-filtered",Oe=t.utils.isValue(r)?r:`${element.id()||Hooks.useId()}-export.csv`;for(He=o("<tr>"),Z=this.heads,q=0;q<Z.length;q++)Q[q]=null;for(o.each(Z,function(Fe){t.utils.bool(_.view[Fe].show)!==!1&&(Me=o("<th>"),t.utils.isValue(this.title)&&Me.html(this.title),Q[_.view[Fe]["index-view"]]=Me)}),q=0;q<Z.length;q++)t.utils.isValue(Q[q])&&Q[q].appendTo(He);switch(He.appendTo(E),Ie){case"checked":{De=this.getSelectedItems(),Be=0,we=De.length-1;break}case"view":{De=this._filter(),Be=Number.parseInt(C.rows)===-1?0:C.rows*(this.currentPage-1),we=Number.parseInt(C.rows)===-1?De.length-1:Be+C.rows-1;break}case"all":{De=this.items,Be=0,we=De.length-1;break}default:De=this._filter(),Be=0,we=De.length-1}for(B=Be;B<=we;B++)if(t.utils.isValue(De[B])){for(He=o("<tr>"),Z=De[B],q=0;q<Z.length;q++)Q[q]=null;for(o.each(Z,function(Fe){t.utils.bool(_.view[Fe].show)!==!1&&(Me=o("<td>").html(this),Q[_.view[Fe]["index-view"]]=Me)}),q=0;q<Z.length;q++)t.utils.isValue(Q[q])&&Q[q].appendTo(He);He.appendTo(I)}g.tableToCSV(k,Oe,d),k.remove()},changeAttribute:function(e){const i=this,r=this.element,d=this.options;function g(){d.check=t.utils.bool(r.attr("data-check")),i._service(),i._createTableHeader(),i._draw()}function _(){d.rownum=t.utils.bool(r.attr("data-rownum")),i._service(),i._createTableHeader(),i._draw()}switch(e){case"data-check":g();break;case"data-rownum":_();break}},destroy:function(){const e=this.element,i=e.closest(".table-component"),r=i.find("input"),d=i.find("select");if(r.data("input").destroy(),d.data("select").destroy(),o(globalThis).off(t.events.resize,{ns:this.id}),e.off(t.events.click,".sortable-column"),e.off(t.events.click,".table-service-check input"),e.off(t.events.click,".table-service-check-all input"),r.off(t.events.inputchange),t.utils.isValue(this.wrapperSearch)){const g=this.wrapperSearch.find("input");g.length>0&&g.off(t.events.inputchange)}i.off(t.events.click,".pagination .page-link"),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.off(t.events.click,".pagination .page-link"),e.off(t.events.click,".js-table-crud-button"),this._removeInspectorEvents(),e.remove()}})})(Metro,Dom),((t,o)=>{let f={wheelStep:20,materialTabsDeferred:0,deep:!1,fixedTabs:!1,duration:300,appBar:!1,clsComponent:"",clsTabs:"",clsTab:"",clsTabActive:"",clsMarker:"",onBeforeTabOpen:t.noop_true,onTabOpen:t.noop,onTabsScroll:t.noop,onTabsCreate:t.noop};t.materialTabsSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroMaterialTabsSetup<"u"&&t.materialTabsSetup(globalThis.metroMaterialTabsSetup),t.Component("material-tabs",{init:function(e,i){return this._super(i,e,f,{marker:null,scroll:0,scrollDir:"left"}),this},_create:function(){const e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options,r=e.find("li"),d=e.find("li.active"),g=o("<div>").addClass("tabs-material-wrapper").addClass(i.clsComponent).insertBefore(e);i.appBar===!0&&g.addClass("app-bar-present"),i.appBar==="more"&&g.addClass("app-bar-present-more"),e.appendTo(g),e.addClass("tabs-material").addClass(i.clsTabs),r.addClass(i.clsTab),i.deep===!0&&e.addClass("deep"),i.fixedTabs===!0&&e.addClass("fixed-tabs"),this.marker=e.find(".tab-marker"),this.marker.length===0&&(this.marker=o("<span>").addClass("tab-marker").addClass(i.clsMarker).appendTo(e)),this.openTab(d.length===0?r[0]:d[0])},_createEvents:function(){const e=this,i=this.element,r=this.options;i.on(t.events.click,"li",function(d){const g=o(this),_=i.find("li.active"),C=g.index()>_.index(),k=g.children("a").attr("href");if(d.preventDefault(),t.utils.isValue(k)&&k[0]==="#"){if(g.hasClass("active")||g.hasClass("disabled")||t.utils.exec(r.onBeforeTabOpen,[g,k,C],this)===!1)return;e.openTab(g,C)}}),i.on(t.events.scroll,()=>{const d=e.scroll;e.scrollDir=e.scroll<i[0].scrollLeft?"left":"right",e.scroll=i[0].scrollLeft,e._fireEvent("tabs-scroll",{scrollLeft:i[0].scrollLeft,oldScroll:d,scrollDir:e.scrollDir})}),i.on(t.events.mousewheel,function(d){if(d.deltaY===void 0)return;const g=o(this),_=d.deltaY>0?-1:1,C=r.wheelStep,k=g.scrollLeft()-_*C;g.scrollLeft(k)},{passive:!0})},openTab:function(e,i){const r=this.element,d=this.options,g=r.find("li"),_=52;let C,k,E,I;const B=o(e);o.each(g,function(){const De=o(this).find("a").attr("href");t.utils.isValue(De)&&De[0]==="#"&&De.length>1&&o(De).hide()});const q=r.width();E=r.scrollLeft(),k=B.position().left;const Z=B.width(),Q=k+Z;g.removeClass("active").removeClass(d.clsTabActive),B.addClass("active").addClass(d.clsTabActive),Q+_>q+E?I=E+_*2:k<E?I=k-_*2:I=E,r.animate({draw:{scrollLeft:I},dur:d.duration}),this.marker.animate({draw:{left:k,width:Z},dur:d.duration}),C=B.find("a").attr("href"),t.utils.isValue(C)&&C[0]==="#"&&C.length>1&&o(C).show(),this._fireEvent("tab-open",{tab:B[0],target:C,tab_next:i})},open:function(e){const i=this.element,r=i.find("li"),d=i.find("li.active"),g=r.eq(e-1),_=r.index(g)>r.index(d);this.openTab(g,_)},changeAttribute:()=>{},destroy:function(){const e=this.element;e.off(t.events.click,"li"),e.off(t.events.scroll),e.remove()}})})(Metro,Dom),((t,o)=>{let f={autocomplete:null,autocompleteUnique:!0,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,label:"",size:"normal",tagInputDeferred:0,static:!1,clearButton:!0,clearButtonIcon:"❌",randomColor:!1,maxTags:0,tagSeparator:",",tagTrigger:"Enter, Space, Comma",backspace:!0,clsComponent:"",clsInput:"",clsClearButton:"",clsTag:"",clsTagTitle:"",clsTagAction:"",clsLabel:"",onBeforeTagAdd:t.noop_true,onTagAdd:t.noop,onBeforeTagRemove:t.noop_true,onTagRemove:t.noop,onTag:t.noop,onClear:t.noop,onTagTrigger:t.noop,onTagInputCreate:t.noop};t.tagInputSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroTagInputSetup<"u"&&t.tagInputSetup(globalThis.metroTagInputSetup),t.Component("tag-input",{init:function(e,i){return this._super(i,e,f,{values:[],triggers:[],autocomplete:[]}),this},_create:function(){this.triggers=`${this.options.tagTrigger}`.toArray(","),(this.triggers.includes("Space")||this.triggers.includes("Spacebar"))&&(this.triggers.push(" "),this.triggers.push("Spacebar")),this.triggers.includes("Comma")&&this.triggers.push(","),this._createStructure(),this._createEvents(),this._fireEvent("tag-input-create",{element:this.element})},_createStructure:function(){const e=this,i=this.element,r=this.options;let d,g;const _=i.val().trim();if(d=i.wrap("<div>").addClass(`tag-input ${i[0].className}`).addClass(r.clsComponent),d.addClass(`input-${r.size}`),i[0].className="",i.addClass("original-input"),o("<input type='text'>").addClass("input-wrapper").addClass(r.clsInput).attr("size",1).appendTo(d),r.clearButton!==!1&&!i[0].readOnly&&(d.addClass("padding-for-clear"),g=o("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(r.clearButtonIcon),g.appendTo(d)),t.utils.isValue(_)&&o.each(_.toArray(r.tagSeparator),function(){e._addTag(this)}),r.label){const k=o("<label>").addClass("label-for-input").addClass(r.clsLabel).html(r.label).insertBefore(d);if(i.attr("id"))k.attr("for",i.attr("id"));else{const E=Hooks.useId(i[0]);k.attr("for",E),i.attr("id",E)}i.attr("dir")==="rtl"&&k.addClass("rtl")}if(i.is(":disabled")?this.disable():this.enable(),(r.static===!0||i.attr("readonly")!==void 0)&&d.addClass("static-mode"),(!t.utils.isNull(r.autocomplete)||!t.utils.isNull(r.autocompleteUrl))&&o("<div>").addClass("autocomplete-list").css({maxHeight:r.autocompleteListHeight,display:"none"}).appendTo(d),t.utils.isValue(r.autocomplete)){const k=t.utils.isObject(r.autocomplete);k!==!1?this.autocomplete=k:this.autocomplete=r.autocomplete.toArray(r.autocompleteDivider)}t.utils.isValue(r.autocompleteUrl)&&fetch(r.autocompleteUrl,{method:r.autocompleteUrlMethod}).then(k=>k.text()).then(k=>{let E=[];try{E=JSON.parse(k),r.autocompleteUrlKey&&(E=E[r.autocompleteUrlKey])}catch{E=k.split(`
`)}e.autocomplete=e.autocomplete.concat(E)})},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.closest(".tag-input"),g=d.find(".input-wrapper"),_=d.find(".autocomplete-list");g.on(t.events.focus,()=>{d.addClass("focused")}),g.on(t.events.blur,()=>{d.removeClass("focused")}),g.on(t.events.inputchange,()=>{g.attr("size",Math.ceil(g.val().length/2)+2)}),g.on(t.events.keydown,C=>{const k=g.val().trim(),E=C.key;if(E==="Enter"&&C.preventDefault(),r.backspace===!0&&E==="Backspace"&&k.length===0){e.values.length>0&&(e.values.splice(-1,1),i.siblings(".tag").last().remove(),i.val(e.values.join(r.tagSeparator)));return}k!==""&&e.triggers.includes(E)&&(e._fireEvent("tag-trigger",{key:E}),g.val(""),e._addTag(k),g.attr("size",1))}),g.on(t.events.keyup,C=>{const k=g.val(),E=C.key;e.triggers.includes(E)&&k[k.length-1]===E&&g.val(k.slice(0,-1))}),d.on(t.events.click,".tag .action",function(){const C=o(this).closest(".tag");e._delTag(C)}),d.on(t.events.click,()=>{g.focus()}),d.on(t.events.click,".input-clear-button",()=>{const C=i.val();e.clear(),e._fireEvent("clear",{val:C})}),g.on(t.events.input,function(){const C=this.value.toLowerCase();e._drawAutocompleteList(C)}),d.on(t.events.click,".autocomplete-list .item",function(){const C=o(this).attr("data-autocomplete-value");g.val(""),e._addTag(C),g.attr("size",1),_.css({display:"none"}),e._fireEvent("autocomplete-select",{value:C})})},_drawAutocompleteList:function(e){const i=this,r=this.element,d=this.options,g=r.closest(".tag-input"),_=g.find(".input-wrapper"),C=g.find(".autocomplete-list");if(C.length===0)return;C.html("");const k=this.autocomplete.filter(E=>E.toLowerCase().indexOf(e)>-1);C.css({display:k.length>0?"block":"none",left:_.position().left}),o.each(k,function(){if(d.autocompleteUnique&&i.values.indexOf(this)!==-1)return;const E=this.toLowerCase().indexOf(e);let I;const B=o("<div>").addClass("item").attr("data-autocomplete-value",this);E===0?I=`<strong>${this.substring(0,e.length)}</strong>${this.substring(e.length)}`:I=`${this.substring(0,E)}<strong>${this.substring(E,e.length)}</strong>${this.substring(E+e.length)}`,B.html(I).appendTo(C),i._fireEvent("draw-autocomplete-item",{item:B})})},_addTag:function(e){const i=this.element,r=this.options,d=i.closest(".tag-input"),g=d.find(".input-wrapper");let _,C,k;if(d.hasClass("input-large")?k="large":d.hasClass("input-small")&&(k="small"),r.maxTags>0&&this.values.length===r.maxTags||`${e}`.trim()===""||!t.utils.exec(r.onBeforeTagAdd,[e,this.values],i[0]))return;_=o("<span>").addClass("tag").addClass(k).addClass(r.clsTag).insertBefore(g),_.data("value",e),(r.static||d.hasClass("static-mode")||i.readonly||i.disabled||d.hasClass("disabled"))&&_.addClass("static");const I=o("<span>").addClass("title").addClass(r.clsTagTitle).html(e);if(C=o("<span>").addClass("action").addClass(r.clsTagAction).html("&times;"),I.appendTo(_),C.appendTo(_),r.randomColor===!0){const B=Object.values(Object.assign({},Farbe.StandardColors,Farbe.MetroColors)),q=B[o.random(0,B.length-1)],Z=Farbe.Routines.darken(q,15),Q=Farbe.Routines.isDark(q)?"#ffffff":"#000000";_.css({backgroundColor:q,color:Q}),C.css({backgroundColor:Z,color:Q})}this.values.push(e),i.val(this.values.join(r.tagSeparator)),this._fireEvent("tag-add",{tag:_[0],val:e,values:this.values}),this._fireEvent("tag",{tag:_[0],val:e,values:this.values})},_delTag:function(e){const i=this.element,r=this.options,d=e.data("value");t.utils.exec(r.onBeforeTagRemove,[e,d,this.values],i[0])&&(t.utils.arrayDelete(this.values,d),i.val(this.values.join(r.tagSeparator)),this._fireEvent("tag-remove",{tag:e[0],val:d,values:this.values}),this._fireEvent("tag",{tag:e[0],val:d,values:this.values}),e.remove())},tags:function(){return this.values},val:function(e){const i=this,r=this.element,d=this.options,g=r.closest(".tag-input");let _=[];return t.utils.isValue(e)?(this.values=[],g.find(".tag").remove(),typeof e=="string"?_=`${e}`.toArray(d.tagSeparator):Array.isArray(e)&&(_=e),o.each(_,function(){i._addTag(this)}),this):this.tags()},append:function(e){const i=this,r=this.options;let d=this.values;return typeof e=="string"?d=`${e}`.toArray(r.tagSeparator):Array.isArray(e)&&(d=e),o.each(d,function(){i._addTag(this)}),this},clear:function(){const e=this.element,i=e.closest(".tag-input");return this.values=[],e.val("").trigger("change"),i.find(".tag").remove(),this},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleStatic:function(e){const i=this.element.closest(".tag-input");let r;t.utils.isValue(e)?r=t.utils.bool(e):r=!i.hasClass("static-mode"),r?i.addClass("static-mode"):i.removeClass("static-mode")},setAutocompleteList:function(e){const i=t.utils.isObject(e);i!==!1?this.autocomplete=i:typeof e=="string"&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},changeAttribute:function(e){const i=this.element,r=this.options,d=()=>{const g=i.attr("value").trim();this.clear(),t.utils.isValue(g)&&this.val(g.toArray(r.tagSeparator))};switch(e){case"value":d();break;case"disabled":this.toggleState();break;case"static":this.toggleStatic();break}},destroy:function(){const e=this.element,i=this.options,r=e.closest(".tag-input"),d=r.find(".input-wrapper");d.off(t.events.focus),d.off(t.events.blur),d.off(t.events.keydown),r.off(t.events.click,".tag .action"),r.off(t.events.click),i.label&&r.prev("label").remove(),r.remove()}}),o(document).on(t.events.click,()=>{o(".tag-input .autocomplete-list").hide()})})(Metro,Dom),((t,o)=>{let f={onTaskClick:t.noop,onMyObjectCreate:t.noop};t.taskBarSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroTaskBarSetup<"u"&&t.taskBarSetup(globalThis.metroTaskBarSetup),t.Component("task-bar",{init:function(e,i){return this._super(i,e,f,{tasks:[],systemTray:[],widgets:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("task-bar-create")},_createStructure:function(){const e=this.element;this.options,e.addClass("task-bar"),e.append(o("<div>").addClass("widgets")),e.append(o("<div>").addClass("tasks")),e.append(o("<div>").addClass("system-tray"))},_createEvents:function(){const e=this,i=this.element;i.on(t.events.click,".task",function(){const r=e.tasks[o(this).index()];for(const d of e.tasks)d.active=!1;r.active=!0,e._renderTasks(),e._fireEvent("task-click",{task:r,element:r.ref})}),i.on(t.events.click,".system-tray-item",function(){const r=e.systemTray[o(this).index()];e._fireEvent("system-tray-click",{item:r})}),i.on(t.events.click,".widget",function(){const r=e.widgets[o(this).index()];e._fireEvent("widget-click",{item:r})})},_renderTasks:function(){const e=this.element;this.options;const i=e.find(".tasks").clear();for(const r of this.tasks){const d=o("<div>").addClass("task").attr("title",r.title).html(r.icon);r.active&&d.addClass("active"),i.append(d)}},_renderSystemTray:function(){const i=this.element.find(".system-tray").clear();for(const r of this.systemTray)i.append(o(r).addClass("system-tray-item"))},_renderWidgets:function(){const i=this.element.find(".widgets").clear();for(const r of this.widgets)i.append(o(r).addClass("widget"))},addTask:function(e,i=!1){if(i)for(const r of this.tasks)r.active=!1;this.tasks.push({...e,active:i}),this._renderTasks()},removeTask:function(e){this.tasks=this.tasks.filter(i=>i.ref!==e),this._renderTasks()},activateTask:function(e){const i=this.tasks.filter(d=>d.ref===e);if(i.length===0)return;const r=i[0];for(const d of this.tasks)d.active=!1;r.active=!0,this._renderTasks()},addToSystemTray:function(e){this.systemTray.push(e),this._renderSystemTray()},addWidget:function(e){this.widgets.push(e),this._renderWidgets()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{const f=(i,r,d)=>{let g,_="<%(.+?)%>";const C=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g;let k=`with(obj) { var r=[];
`,E=0,I,B;const q=(Z,Q)=>(Q?k+=Z.match(C)?`${Z}
`:`r.push(${Z});
`:k+=Z!==""?`r.push("${Z.replace(/"/g,'\\"')}");
`:"",q);for(t.utils.isValue(d)&&(o.hasProp(d,"beginToken")&&(_=_.replace("<%",d.beginToken)),o.hasProp(d,"endToken")&&(_=_.replace("%>",d.endToken))),g=new RegExp(_,"g"),B=g.exec(i);B;)q(i.slice(E,B.index))(B[1],!0),E=B.index+B[0].length,B=g.exec(i);q(i.substring(E,i.length-E)),k=`${k}return r.join(""); }`.replace(/[\r\t\n]/g," ");try{I=new Function("obj",k).apply(r,[r])}catch(Z){console.error(`'${Z.message}'`,` in 

Code:
`,k,`
`)}return I};let e={templateData:null,onTemplateCompile:t.noop,onTemplateCreate:t.noop};t.templateSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroTemplateSetup<"u"&&t.templateSetup(globalThis.metroTemplateSetup),t.Component("template",{init:function(i,r){return this._super(r,i,e,{template:null,data:{}}),this},_compile:function(){const i=this.element,r=this.template.replace(/(&lt;%)/gm,"<%").replace(/(%&gt;)/gm,"%>").replace(/(&lt;)/gm,"<").replace(/(&gt;)/gm,">"),d=f(r,this.data);i.html(d),this._fireEvent("template-compile",{template:r,compiled:d,element:i})},_create:function(){const i=this.element,r=this.options;this.template=i.html(),this.data=t.utils.isObject(r.templateData)||{},this._compile(),this._fireEvent("template-create",{element:i})},buildWith:function(i){const r=t.utils.isObject(i);r&&(this.data=r,this._compile())},changeAttribute:function(i,r){i==="data-template-data"&&(this.options.templateData=r,this.data=t.utils.isObject(r)||{},this._compile())},destroy:function(){return this.element}}),t.template=f})(Metro,Dom),((t,o)=>{let f={label:"",textareaDeferred:0,charsCounter:null,charsCounterTemplate:"$1",defaultValue:"",prepend:"",append:"",clearButton:!0,clearButtonIcon:"❌",autoSize:!0,maxHeight:0,clsPrepend:"",clsAppend:"",clsComponent:"",clsTextarea:"",clsLabel:"",onChange:t.noop,onTextareaCreate:t.noop};t.textareaSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroTextareaSetup<"u"&&t.textareaSetup(globalThis.metroTextareaSetup),t.Component("textarea",{init:function(e,i){return this._super(i,e,f),this},_create:function(){const e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("textarea-create",{element:e})},_createStructure:function(){const e=this.element,i=this.elem,r=this.options,d=o("<div>").addClass(`textarea ${e[0].className}`),g=o("<textarea>").addClass("fake-textarea");let _;if(d.insertBefore(e),e.appendTo(d),g.appendTo(d),r.clearButton!==!1&&!e[0].readOnly&&(_=o("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(r.clearButtonIcon),_.appendTo(d)),e.attr("dir")==="rtl"&&d.addClass("rtl").attr("dir","rtl"),r.prepend!==""&&o("<div>").html(r.prepend).addClass("prepend").addClass(r.clsPrepend).appendTo(d),r.append!==""){const C=o("<div>").html(r.append);C.addClass("append").addClass(r.clsAppend).appendTo(d),_.css({right:C.outerWidth()+4})}if(i.className="",t.utils.isValue(r.defaultValue)&&e.val().trim()===""&&e.val(r.defaultValue),d.addClass(r.clsComponent),e.addClass(r.clsTextarea),r.label){const C=o("<label>").addClass("label-for-input").addClass(r.clsLabel).html(r.label).insertBefore(d);if(e.attr("id"))C.attr("for",e.attr("id"));else{const k=Hooks.useId(e[0]);C.attr("for",k),e.attr("id",k)}e.attr("dir")==="rtl"&&C.addClass("rtl")}e.is(":disabled")?this.disable():this.enable(),g.val(e.val()),r.autoSize===!0&&(d.addClass("autosize no-scroll-vertical"),setTimeout(()=>{this.resize()},100)),this.component=d},_createEvents:function(){const e=this,i=this.element,r=this.options,d=i.closest(".textarea"),g=d.find(".fake-textarea"),_=o(r.charsCounter);d.on(t.events.click,".input-clear-button",C=>{i.val(t.utils.isValue(r.defaultValue)?r.defaultValue:"").trigger("change").trigger("keyup").focus(),C.preventDefault(),C.stopPropagation()}),r.autoSize&&i.on(`${t.events.inputchange} ${t.events.keyup}`,function(){g.val(this.value),e.resize()}),i.on(t.events.blur,()=>{d.removeClass("focused")}),i.on(t.events.focus,()=>{d.addClass("focused")}),i.on(t.events.keyup,()=>{t.utils.isValue(r.charsCounter)&&_.length>0&&(_[0].tagName==="INPUT"?_.val(e.length()):_.html(r.charsCounterTemplate.replace("$1",e.length()))),e._fireEvent("change",{val:i.val(),length:e.length()})})},resize:function(){const e=this.element,i=this.options,r=e.closest(".textarea"),d=r.find(".fake-textarea"),g=d[0].scrollHeight;if(i.maxHeight&&g>=i.maxHeight){r.removeClass("no-scroll-vertical");return}i.maxHeight&&g<i.maxHeight&&r.addClass("no-scroll-vertical"),d[0].style.cssText="height:auto;",d[0].style.cssText=`height:${d[0].scrollHeight}px`,e[0].style.cssText=`height:${d[0].scrollHeight}px`},clear:function(){this.element.val("").trigger("change").trigger("keyup").focus()},toDefault:function(){this.element.val(t.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"").trigger("change").trigger("keyup").focus()},length:function(){return this.elem.value.split("").length},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break}},destroy:function(){const e=this.element,i=this.options;e.closest(".textarea").off(t.events.click,".input-clear-button"),i.autoSize&&e.off(`${t.events.inputchange} ${t.events.keyup}`),e.off(t.events.blur),e.off(t.events.focus),e.off(t.events.keyup),i.label&&this.component.prev("label").remove(),this.component.remove()}})})(Metro,Dom),((t,o)=>{let f={state:t.theme.LIGHT,target:"html",saveState:!0,saveStateKey:"THEME:SWITCHER",clsDark:"",darkSymbol:"🌙",lightSymbol:"🌞",mode:"switch",onThemeSwitcherCreate:t.noop,onChangeTheme:t.noop};t.themeSwitcherSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroThemeSwitcherSetup<"u"&&t.themeSwitcherSetup(globalThis.metroThemeSwitcherSetup),t.Component("theme-switcher",{init:function(e,i){return this._super(i,e,f,{container:null,state:null,target:null}),this.state=this.options.state,this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("theme-switcher-create")},_createStructure:function(){const e=this.element,i=this.options;let r="light";i.saveState&&(r=t.storage.getItem(i.saveStateKey,!1)),e.attr("data-light-symbol",i.lightSymbol),e.attr("data-dark-symbol",i.darkSymbol),t.makePlugin(e,"switch"),this.container=e.wrap(o("<label>").addClass("theme-switcher")),this.container.addClass(`mode-${i.mode}`),this.target=o(i.target),this.target.length===0&&(this.target=o("html")),this._setState(i.saveState?r:i.state===t.theme.DARK),this._updateState()},_createEvents:function(){this.container.on("click",()=>{this._updateState()}),this._observeClass()},_observeClass:function(){new MutationObserver(i=>{for(const r of i)r.type==="attributes"&&r.attributeName==="class"&&(this.elem.checked=this.target[0].classList.contains("dark-side"))}).observe(this.target[0],{attributes:!0,attributeFilter:["class"]})},_setState:function(e=!1){this.elem.checked=e},_updateState:function(){const e=o.meta("metro:theme").length>0,i=this.options,r=this.elem,d=this.target;e||(r.checked?d.addClass("dark-side").addClass(this.options.clsDark):d.removeClass("dark-side").addClass(this.options.clsDark),i.saveState&&t.storage.setItem(i.saveStateKey,r.checked),this._fireEvent("change-theme",{state:r.checked}))},val:function(e){if(typeof e>"u")return this.elem.checked?t.theme.DARK:t.theme.LIGHT;this._setState(typeof e=="boolean"?e:e===t.theme.DARK),this._updateState()},changeAttribute:function(e,i){e==="data-target"&&(this.target=o(i),this._updateState())},destroy:function(){this.container.remove()}})})(Metro,Dom),((t,o)=>{const f=["slide-up","slide-down","slide-left","slide-right","fade","zoom","swirl","switch"];let e={tileDeferred:0,size:"medium",cover:"",coverPosition:"center",effect:"",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onTileClick:t.noop,onTileCreate:t.noop};t.tileSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroTileSetup<"u"&&t.tileSetup(globalThis.metroTileSetup),t.Component("tile",{init:function(i,r){return this._super(r,i,e,{effectInterval:!1,images:[],slides:[],currentSlide:-1,unload:!1}),this},_create:function(){const i=this.element;this._createTile(),this._createEvents(),this._fireEvent("tile-create",{element:i})},_createTile:function(){function i(k,E,I){setTimeout(()=>{k.fadeOut(500,()=>{k.css("background-image",`url(${E})`),k.fadeIn()})},I*300)}const r=this,d=this.element,g=this.options,_=d.find(".slide"),C=d.find(".slide-front, .slide-back");if(d.addClass(`tile-${g.size}`),g.effect.indexOf("hover-")>-1&&(d.addClass(`effect-${g.effect}`),o.each(C,function(){const k=o(this);k.data("cover")!==void 0&&r._setCover(k,k.data("cover"),k.data("cover-position"))})),f.includes(g.effect)&&_.length>1&&(o.each(_,function(k){const E=o(this);r.slides.push(this),E.data("cover")!==void 0&&r._setCover(E,E.data("cover"),E.data("cover-position")),k>0&&(["slide-up","slide-down"].indexOf(g.effect)>-1&&E.css("top","100%"),["slide-left","slide-right"].indexOf(g.effect)>-1&&E.css("left","100%"),["fade","zoom","swirl","switch"].indexOf(g.effect)>-1&&E.css("opacity",0))}),this.currentSlide=0,this._runEffects()),g.cover!==""&&this._setCover(d,g.cover),g.effect==="image-set"){d.addClass("image-set"),o.each(d.children("img"),function(){r.images.push(this),o(this).remove()});const k=this.images.slice();for(let I=0;I<5;I++){const B=o.random(0,k.length-1),q=o("<div>").addClass(`img -js-img-${I}`).css("background-image",`url(${k[B].src})`);d.prepend(q),k.splice(B,1)}let E=[0,1,4,3,2];setInterval(()=>{const I=r.images.slice(),B=Farbe.Routines.randomColor();d.css("background-color",B);for(let q=0;q<E.length;q++){const Z=o.random(0,I.length-1),Q=d.find(`.-js-img-${E[q]}`);i(Q,I[Z].src,q),I.splice(Z,1)}E=E.reverse()},5e3)}},_runEffects:function(){const i=this.options;this.effectInterval===!1&&(this.effectInterval=setInterval(()=>{let r,d;r=o(this.slides[this.currentSlide]),this.currentSlide++,this.currentSlide===this.slides.length&&(this.currentSlide=0),d=this.slides[this.currentSlide],f.includes(i.effect)&&t.Effects[Str.camelCase(i.effect)](o(r)[0],o(d)[0],{duration:i.effectDuration})},i.effectInterval))},_stopEffects:function(){o.clearInterval(this.effectInterval),this.effectInterval=!1},_setCover:function(i,r,d){i.css({backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:d||this.options.coverPosition})},_createEvents:function(){const i=this,r=this.element,d=this.options;r.on(t.events.startAll,function(g){const _=o(this),C={w:r.width(),h:r.height()},k=t.utils.pageXY(g).x-_.offset().left,E=t.utils.pageXY(g).y-_.offset().top;let I;t.utils.isRightMouse(g)===!1&&(k<C.w*1/3&&(E<C.h*1/2||E>C.h*1/2)?I="left":k>C.w*2/3&&(E<C.h*1/2||E>C.h*1/2)?I="right":k>C.w*1/3&&k<C.w*2/3&&E>C.h/2?I="bottom":I="top",d.canTransform===!0&&_.addClass(`transform-${I}`),d.target!==null&&setTimeout(()=>{document.location.href=d.target},100),i._fireEvent("tile-click",{side:I}))}),r.on([t.events.stopAll,t.events.leave].join(" "),function(){o(this).removeClass("transform-left").removeClass("transform-right").removeClass("transform-top").removeClass("transform-bottom")})},changeAttribute:()=>{},destroy:function(){const i=this.element;i.off(t.events.startAll),i.off([t.events.stopAll,t.events.leave].join(" ")),i.remove()}})})(Metro,Dom),((t,o)=>{let f={label:"",timepickerDeferred:0,hoursStep:1,minutesStep:1,secondsStep:1,value:null,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsHours:"",clsMinutes:"",clsSeconds:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"✓",cancelButtonIcon:"𐄂",onSet:t.noop,onOpen:t.noop,onClose:t.noop,onScroll:t.noop,onTimePickerCreate:t.noop};t.timePickerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroTimePickerSetup<"u"&&t.timePickerSetup(globalThis.metroTimePickerSetup),t.Component("time-picker",{init:function(e,i){return this._super(i,e,f,{picker:null,isOpen:!1,value:[],listTimer:{hours:null,minutes:null,seconds:null},id:null}),this},_create:function(){const e=this.element,i=this.options;let r;for(this.id=e.attr("id")||Hooks.useId(this.elem),i.distance<1&&(i.distance=1),i.hoursStep<1&&(i.hoursStep=1),i.hoursStep>23&&(i.hoursStep=23),i.minutesStep<1&&(i.minutesStep=1),i.minutesStep>59&&(i.minutesStep=59),i.secondsStep<1&&(i.secondsStep=1),i.secondsStep>59&&(i.secondsStep=59),e.val()===""&&!t.utils.isValue(i.value)&&(i.value=datetime().format("HH:mm:ss")),this.value=(e.val()!==""?e.val():`${i.value}`).toArray(":"),r=0;r<3;r++)this.value[r]===void 0||this.value[r]===null?this.value[r]=0:this.value[r]=Number.parseInt(this.value[r]);this._normalizeValue(),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("time-picker-create",{element:e})},_normalizeValue:function(){const e=this.options;e.hoursStep>1&&(this.value[0]=t.utils.nearest(this.value[0],e.hoursStep,!0)),e.minutesStep>1&&(this.value[1]=t.utils.nearest(this.value[1],e.minutesStep,!0)),e.minutesStep>1&&(this.value[2]=t.utils.nearest(this.value[2],e.secondsStep,!0))},_createStructure:function(){const e=this.element,i=this.options,r=this.strings;let d,g,_,C,k,E,I;const B=Hooks.useId(e[0]);if(d=o("<div>").addClass(`wheel-picker time-picker ${e[0].className}`).addClass(i.clsPicker),d.attr("id")||d.attr("id",B),d.insertBefore(e),e.attr("readonly",!0).appendTo(d),i.label){const Q=o("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(d);e.attr("id")&&Q.attr("for",e.attr("id")),e.attr("dir")==="rtl"&&Q.addClass("rtl")}E=o("<div>").addClass("time-wrapper").appendTo(d),i.hours===!0&&(g=o("<div>").attr("data-title",r.label_hours).addClass("hours").addClass(i.clsPart).addClass(i.clsHours).appendTo(E)),i.minutes===!0&&(_=o("<div>").attr("data-title",r.label_minutes).addClass("minutes").addClass(i.clsPart).addClass(i.clsMinutes).appendTo(E)),i.seconds===!0&&(C=o("<div>").attr("data-title",r.label_seconds).addClass("seconds").addClass(i.clsPart).addClass(i.clsSeconds).appendTo(E));const q=o("<div>").addClass("select-wrapper").appendTo(d);if(I=o("<div>").addClass("select-block").appendTo(q),i.hours===!0){for(g=o("<ul>").addClass("sel-hours").appendTo(I),k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(g);for(k=0;k<24;k=k+i.hoursStep)o("<li>").addClass(`js-hours-${k}`).html(Str.lpad(k,"0",2)).data("value",k).appendTo(g);for(k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(g)}if(i.minutes===!0){for(_=o("<ul>").addClass("sel-minutes").appendTo(I),k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(_);for(k=0;k<60;k=k+i.minutesStep)o("<li>").addClass(`js-minutes-${k}`).html(Str.lpad(k,"0",2)).data("value",k).appendTo(_);for(k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(_)}if(i.seconds===!0){for(C=o("<ul>").addClass("sel-seconds").appendTo(I),k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(C);for(k=0;k<60;k=k+i.secondsStep)o("<li>").addClass(`js-seconds-${k}`).html(Str.lpad(k,"0",2)).data("value",k).appendTo(C);for(k=0;k<i.distance;k++)o("<li>").html("&nbsp;").data("value",-1).appendTo(C)}I.height((i.distance*2+1)*40);const Z=o("<div>").addClass("action-block").appendTo(q);if(o("<button>").attr("type","button").addClass("button action-now").addClass(i.clsButton).addClass(i.clsTodayButton).html(`<span class="caption">${this.strings.label_now}</span>`).appendTo(Z),o("<button>").attr("type","button").addClass("button action-ok").addClass(i.clsButton).addClass(i.clsOkButton).html(`<span class="icon">${i.okButtonIcon}</span>`).appendTo(Z),o("<button>").attr("type","button").addClass("button action-cancel").addClass(i.clsButton).addClass(i.clsCancelButton).html(`<span class="icon">${i.cancelButtonIcon}</span>`).appendTo(Z),e[0].className="",i.copyInlineStyles===!0)for(k=0;k<e[0].style.length;k++)d.css(e[0].style[k],e.css(e[0].style[k]));i.showLabels===!0&&d.addClass("show-labels"),e.prop("disabled")&&d.addClass("disabled"),this.picker=d},_createEvents:function(){const e=this,i=this.options,r=this.picker;r.on("touchstart",".select-block ul",function(g){if(g.changedTouches)return;let _=t.utils.pageXY(g).y;o(document).on("touchmove",C=>{this.scrollTop-=i.scrollSpeed*(_>t.utils.pageXY(C).y?-1:1),_=t.utils.pageXY(C).y},{ns:e.id}),o(document).on("touchend",()=>{o(document).off(t.events.move,{ns:e.id}),o(document).off(t.events.stop,{ns:e.id})},{ns:e.id})}),r.on(t.events.click,g=>{e.isOpen===!1&&e.open(),g.stopPropagation()}),r.on(t.events.click,".action-ok",g=>{const _=r.find(".sel-hours li.active"),C=r.find(".sel-minutes li.active"),k=r.find(".sel-seconds li.active"),E=_.length===0?0:_.data("value"),I=C.length===0?0:C.data("value"),B=k.length===0?0:k.data("value");e.value=[E,I,B],e._normalizeValue(),e._set(),e.close(),g.stopPropagation()}),r.on(t.events.click,".action-cancel",g=>{e.close(),g.stopPropagation()});const d=150;o.each(["hours","minutes","seconds"],function(){const g=r.find(`.sel-${this}`),_=Hooks.useDebounce(C=>{let k;e.listTimer[this]=null,k=Math.round(Math.ceil(g.scrollTop())/40),this==="hours"&&i.hoursStep&&(k*=Number.parseInt(i.hoursStep)),this==="minutes"&&i.minutesStep&&(k*=Number.parseInt(i.minutesStep)),this==="seconds"&&i.secondsStep&&(k*=Number.parseInt(i.secondsStep));const E=g.find(`.js-${this}-${k}`),I=E.position().top-i.distance*40;g.find(".active").removeClass("active"),g[0].scrollTop=I,E.addClass("active"),t.utils.exec(i.onScroll,[E,g,r],g[0])},d);g.on("scroll",_)}),r.on(t.events.click,"ul li",function(g){const _=o(this),C=_.closest("ul"),k=_.position().top-i.distance*40;C.find(".active").removeClass("active"),o.animate({el:C[0],draw:{scrollTop:k},dur:300}),C[0].scrollTop=k,_.addClass("active"),t.utils.exec(i.onScroll,[_,C,r],C[0])}),r.on(t.events.click,".action-now",g=>{const _=datetime(),C=_.hour(),k=_.minute(),E=_.second();r.find(`.sel-hours li.js-hours-${C}`).click(),r.find(`.sel-minutes li.js-minutes-${k}`).click(),r.find(`.sel-seconds li.js-seconds-${E}`).click(),g.preventDefault(),g.stopPropagation()})},_set:function(){const e=this.element,i=this.options,r=this.picker;let d="00",g="00",_="00";i.hours===!0&&(d=Number.parseInt(this.value[0]),r.find(".hours").html(Str.lpad(d,"0",2))),i.minutes===!0&&(g=Number.parseInt(this.value[1]),r.find(".minutes").html(Str.lpad(g,"0",2))),i.seconds===!0&&(_=Number.parseInt(this.value[2]),r.find(".seconds").html(Str.lpad(_,"0",2))),e.val([d,g,_].join(":")).trigger("change"),this._fireEvent("set",{val:this.value,elementVal:e.val()})},open:function(){const e=this.options,i=this.picker;let r,d,g,_,C,k;const E=i.find("li"),I=i.find(".select-wrapper");let B,q,Z;o.each(o(".time-picker"),function(){o(this).find("input").each(function(){t.getPlugin(this,"timepicker").close()})}),I.show(0),E.removeClass("active"),e.openMode==="auto"?(t.utils.inViewport(I[0])||I.parent().addClass("drop-up-select"),t.utils.inViewport(I[0])||(I.parent().removeClass("drop-up-select"),I.parent().addClass("drop-as-dialog"))):e.openMode==="dialog"?I.parent().addClass("drop-as-dialog"):e.openMode==="up"&&I.parent().addClass("drop-up-select");const Q=(De,He)=>{De.scrollTop(0).animate({draw:{scrollTop:He.position().top-e.distance*40+De.scrollTop()},dur:100})};e.hours===!0&&(r=Number.parseInt(this.value[0]),_=i.find(".sel-hours"),B=_.find(`li.js-hours-${r}`).addClass("active"),Q(_,B)),e.minutes===!0&&(d=Number.parseInt(this.value[1]),C=i.find(".sel-minutes"),q=C.find(`li.js-minutes-${d}`).addClass("active"),Q(C,q)),e.seconds===!0&&(g=Number.parseInt(this.value[2]),k=i.find(".sel-seconds"),Z=k.find(`li.js-seconds-${g}`).addClass("active"),Q(k,Z)),this.isOpen=!0,this._fireEvent("open",{val:this.value})},close:function(){const e=this.picker,i=this.options;e.find(".select-wrapper").hide(0),i.openMode==="auto"&&e.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{val:this.value})},_convert:e=>{let i;return Array.isArray(e)?i=e:typeof e.getMonth=="function"?i=[e.getHours(),e.getMinutes(),e.getSeconds()]:t.utils.isObject(e)?i=[e.h,e.m,e.s]:i=e.toArray(":"),i},val:function(e){if(e===void 0)return this.element.val();this.value=this._convert(e),this._normalizeValue(),this._set()},time:function(e){if(e===void 0)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(e),this._normalizeValue(),this._set()},date:function(e){if(e===void 0||typeof e.getMonth!="function")return datetime().hour(this.value[0]).minute(this.value[1]).second(this.value[2]).ms(0).val();this.value=this._convert(e),this._normalizeValue(),this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,i){switch(e){case"data-value":this.val(i);break;case"disabled":this.toggleState();break}},destroy:function(){const e=this.element,i=this.picker;o.each(["hours","minutes","seconds"],function(){i.find(`.sel-${this}`).off("scroll")}),i.off(t.events.start,".select-block ul"),i.off(t.events.click),i.off(t.events.click,".action-ok"),i.off(t.events.click,".action-cancel"),e.remove()}}),o(document).on(t.events.click,()=>{o.each(o(".time-picker"),function(){o(this).find("input").each(function(){t.getPlugin(this,"timepicker").close()})})})})(Metro,Dom),((t,o)=>{t.TOAST_POSITION={TOP:"top",BOTTOM:"bottom",CENTER:"center"};let r={callback:t.noop,timeout:3e3,distance:20,position:t.TOAST_POSITION.BOTTOM,clsToast:""};t.toastSetup=g=>{r=o.extend({},r,g)},typeof globalThis.metroToastSetup<"u"&&t.toastSetup(globalThis.metroToastSetup);const d={create:(g,_)=>{let C,k,E;typeof _=="function"&&(E=Object.assign({},r,{callback:_})),C=o.extend({},r,E),k=o("<div>").addClass("toast").html(g).appendTo(o("body"));const I=k.outerWidth();C.position==="top"?k.addClass("show-top").css({top:C.distance}):C.position==="center"?k.addClass("show-center"):k.css({bottom:C.distance}),k.css({left:"50%","margin-left":-(I/2)}).addClass(C.clsToast).fadeIn(200,()=>{setTimeout(()=>{d.remove(k,C.callback)},C.timeout)})},remove:(g,_)=>{g.length&&g.fadeOut(200,()=>{g.remove(),t.utils.exec(_,null,g[0])})}};t.toast=d,t.createToast=d.create})(Metro,Dom),((t,o)=>{let f={textToTokenize:"",spaceSymbol:"",spaceClass:"space",tokenClass:"",splitter:"",tokenElement:"span",useTokenSymbol:!0,useTokenIndex:!0,clsTokenizer:"",clsToken:"",clsTokenOdd:"",clsTokenEven:"",onTokenCreate:t.noop,onTokenize:t.noop,onTokenizerCreate:t.noop};t.tokenizerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroTokenizerSetup<"u"&&t.tokenizerSetup(globalThis.metroTokenizerSetup),t.Component("tokenizer",{init:function(e,i){return this._super(i,e,f,{originalText:""}),this},_create:function(){const e=this.element,i=this.options;this.originalText=i.textToTokenize?i.textToTokenize.trim():e.text().trim().replace(/[\r\n\t]/gi,"").replace(/\s\s+/g," "),this._createStructure(),this._fireEvent("tokenizer-create")},_tokenize:function(){const e=this,i=this.element,r=this.options;let d=0,g,_;i.clear().attr("aria-label",this.originalText),o.each(this.originalText.split(r.splitter),function(C){const k=this===" ";let E;E=o(`<${r.tokenElement}>`).html(k?r.spaceSymbol:this).attr("aria-hidden",!0).addClass(k?r.spaceClass:"").addClass(k&&r.useTokenSymbol?"":`ts-${this.replace(" ","_")}`).addClass(k&&r.useTokenIndex?"":`ti-${C+1}`).addClass(r.tokenClass?r.tokenClass:"").addClass(k?"":r.clsToken),k||(d++,E.addClass(d%2===0?"te-even":"te-odd"),E.addClass(d%2===0?r.clsTokenEven:r.clsTokenOdd)),r.prepend&&(_=o.isSelector(r.prepend)?o(r.prepend):o("<span>").html(r.prepend),E.prepend(_)),r.append&&(g=o.isSelector(r.append)?o(r.append):o("<span>").html(r.append),E.append(g)),i.append(E),e._fireEvent("token-create",{token:E[0]})}),e._fireEvent("tokenize",{tokens:i.children().items(),originalText:this.originalText})},_createStructure:function(){const e=this.element,i=this.options;e.addClass(i.clsTokenizer),this._tokenize()},tokenize:function(e){this.originalText=e,this._tokenize()},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={treeviewDeferred:0,showChildCount:!1,duration:100,hideActionsOnLeave:!0,recheckTimeout:100,leaves:[],onNodeClick:t.noop,onNodeDblClick:t.noop,onNodeDelete:t.noop,onNodeInsert:t.noop,onNodeClean:t.noop,onCheckClick:t.noop,onRadioClick:t.noop,onExpandNode:t.noop,onCollapseNode:t.noop,onTreeViewCreate:t.noop};t.treeViewSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroTreeViewSetup<"u"&&t.treeViewSetup(globalThis.metroTreeViewSetup),t.Component("tree-view",{init:function(e,i){return this._super(i,e,f),this},_create:function(){const e=this,i=this.element;this._createTree(),this._createEvents(),o.each(i.find("input"),function(){o(this).is(":checked")&&e._recheck(this)}),this._fireEvent("tree-view-create",{element:i})},_createIcon:e=>{const i=t.utils.isTag(e)?o(e):o("<img src='' alt=''>").attr("src",e),r=o("<span>").addClass("icon");return r.html(i.outerHTML()),r},_createCaption:(e,i)=>{const r=o("<span>").addClass("caption").html(e);return i&&(t.utils.isObject(i)?r.css(i):typeof i=="string"&&(r[0].style.cssText=i)),r},_createToggle:()=>o("<span>").addClass("node-toggle"),_createNode:function(e,i){const r=this.options,d=i||o("<li>"),g=o("<a>");if(d.prepend(g),(e.link||e.href)&&g.attr("href",e.link||e.href),e.caption&&g.prepend(this._createCaption(e.caption,e.style)),e.icon&&g.prepend(this._createIcon(e.icon)),e.html&&g.append(e.html),e.attributes&&o.type(e.attributes)==="object")for(const _ in e.attributes)g.attr(_,e.attributes[_]);if(e.style&&(typeof e.style=="string"?g[0].style.cssText=e.style:o.type(e.style)==="object"&&g.css(e.style)),e.badge){const[_,C]=e.badge.split(":");g.append(o("<span>").addClass("badge").addClass(C).html(_))}if(e.badges&&o.each(typeof e.badges=="string"?e.badges.toArray(","):Array.isArray(e.badges)?e.badges:[],(_,C)=>{const[k,E]=C.split(":");g.append(o("<span>").addClass("badge").addClass(E).html(k))}),e.secondary){const[_,C]=e.secondary.split(":");g.append(o("<span>").addClass("secondary-text").addClass(C).html(_))}if(e.actions){const _=o("<div class='dropdown-button'>").addClass("actions-holder");o("<span class='actions-list-trigger'>").text("⋮").appendTo(_);const C=o("<ul data-role='dropmenu' class='d-menu actions-list'>").appendTo(_);d.append(_);for(const k of e.actions)if(k.type&&k.type==="divider")o("<li>").addClass("divider").appendTo(C);else{const E=k.icon?o(k.icon).addClass("icon").outerHTML():"",I=`<span class="caption">${k.caption}</span>`,B=o(`<li><a href="#">${E} ${I}</a></li>`).appendTo(C);k.cls&&B.addClass(k.cls),B.find("a").on("click",function(){t.utils.exec(k.onclick,[B[0]],this)})}C.on(t.events.leave,k=>{r.hideActionsOnLeave&&t.getPlugin(C,"dropmenu").close()})}return e.current&&d.addClass("current"),e.type==="node"&&(d.addClass("tree-node"),d.append(o("<span>").addClass("node-toggle")),d.append(o("<ul>"))),d.children("ul").length&&(d.addClass("tree-node"),d.append(o("<span>").addClass("node-toggle")),t.utils.bool(e.collapsed)!==!0?d.addClass("expanded"):d.children("ul").hide()),d},_createCheckNode:function(e,i){const r=i||o("<li>");if(r.append(`
                <input data-role="${e.type}" type="${e.type??"checkbox"}" name="${e.name}" value="${e.value??""}" ${e.checked?"checked":""} data-append="${e.caption}"/>
            `),e.icon&&r.find("label").prepend(this._createIcon(e.icon)),e.attributes&&o.type(e.attributes)==="object")for(const d in e.attributes)r.attr(d,e.attributes[d]);if(e.secondary){const[d,g]=e.secondary.split(":");r.find("label").append(o("<span>").addClass("secondary-text").addClass(g).html(d))}return r},_createInputNode:(e,i)=>{const r=i||o("<li>");if(r.append(`
                <input data-role="${e.type}" type="${e.type??"text"}" name="${e.name}" value="${e.value??""}" data-prepend="${e.caption??""}" placeholder="${e.placeholder??""}"/>
            `),e.secondary){const[d,g]=e.secondary.split(":");r.find("label").append(o("<span>").addClass("secondary-text").addClass(g).html(d))}return r},_createTree:function(){const e=this.element,i=this.options,r=e.find("li[data-caption]");if(e.addClass("treeview"),o.each(r,(d,g)=>{const _=o(g);_.data("type")==="checkbox"||_.data("type")==="radio"?this._createCheckNode({caption:_.data("caption"),icon:_.data("icon"),type:_.data("type"),name:_.data("name"),attributes:_.data("attributes"),value:_.data("value"),checked:_.data("checked")==="true",secondary:_.data("secondary")},_):_.data("type")==="input"?this._createInputNode({caption:_.data("caption"),type:_.data("type"),name:_.data("name"),attributes:_.data("attributes"),value:_.data("value"),secondary:_.data("secondary"),placeholder:_.data("placeholder")},_):this._createNode({caption:_.data("caption"),icon:_.data("icon"),html:_.data("html"),attributes:_.data("attributes"),badge:_.data("badge"),badges:_.data("badges"),actions:_.data("actions"),type:_.data("type"),collapsed:_.data("collapsed"),link:_.data("link"),href:_.data("href"),secondary:_.data("secondary"),style:_.data("style")},_)}),i.leaves){const d=t.utils.isObject(i.leaves);d&&this.fillTree(d)}this._recheckTree()},_createEvents:function(){const e=this,i=this.element;i.on(t.events.click,".node-toggle",function(r){const g=o(this).parent();e.toggleNode(g),r.preventDefault()}),i.on(t.events.click,"a",function(r){const d=o(this).parent();e.current(d),e._fireEvent("node-click",{node:d[0]}),r.preventDefault()}),i.on(t.events.dblclick,"a",function(r){const d=o(this).closest("li"),g=d.children(".node-toggle"),_=d.children("ul");(g.length>0||_.length>0)&&e.toggleNode(d),e._fireEvent("node-dbl-click",{node:d[0]}),r.preventDefault()}),i.on(t.events.click,"input[type=radio]",function(){const r=o(this),d=r.is(":checked"),g=r.closest("li");e.current(g),e._fireEvent("radio-click",{checked:d,check:r[0],node:g[0]})}),i.on(t.events.click,"input[type=checkbox]",function(){const r=o(this),d=r.is(":checked"),g=r.closest("li");e._recheck(r),e._fireEvent("check-click",{checked:d,check:r[0],node:g[0]})})},_recheck:function(e){const i=o(e),r=i.is(":checked"),d=i.closest("li");this.current(d);const g=i.closest("li").find("ul input[type=checkbox]");g.attr("data-indeterminate",!1),g.prop("indeterminate",!1),g.prop("checked",r),g.trigger("change"),this._recheckTree()},_recheckTree:function(e){setTimeout(()=>{const r=this.element.find("input[type=checkbox]").reverse();o.each(r.reverse(),function(){const d=o(this),g=d.closest("li").children("ul").find("input[type=checkbox]").length,_=d.closest("li").children("ul").find("input[type=checkbox]").filter(C=>C.checked).length;g>0&&_===0&&(d.attr("data-indeterminate",!1),d.prop("indeterminate",!1),d.prop("checked",!1),d.trigger("change")),_===0?(d.attr("data-indeterminate",!1),d.prop("indeterminate",!1)):_>0&&g>_?(d.attr("data-indeterminate",!0),d.prop("indeterminate",!0)):g===_&&(d.attr("data-indeterminate",!1),d.prop("indeterminate",!1),d.prop("checked",!0),d.trigger("change"))})},e??this.options.recheckTimeout)},current:function(e){const i=this.element;if(!e)return i.find(".current");i.find(".current").removeClass("current"),e.addClass("current")},toggleNode:function(e){const i=o(e),r=this.options,d=!i.data("collapsed");i.toggleClass("expanded"),i.data("collapsed",d);const g=d===!0?"slideUp":"slideDown";d?this._fireEvent("collapse-node",{node:i[0]}):this._fireEvent("expand-node",{node:i[0]}),i.children("ul")[g](r.duration)},addTo:function(e,i){const r=this.element;let d,g,_,C;return e?(C=o(e),d=C.children("ul"),d.length===0&&(d=o("<ul>").appendTo(C),_=this._createToggle(),_.appendTo(C),C.addClass("expanded")),C==null||C.addClass("tree-node")):d=r,i.type==="checkbox"||i.type==="radio"?g=this._createCheckNode(i):i.type==="input"?g=this._createInputNode(i):g=this._createNode(i),g.appendTo(d),this._fireEvent("node-insert",{node:g[0],parent:C?C[0]:null}),this._recheckTree(),g},insertBefore:function(e,i){const r=this._createNode(i);if(!e)return this.addTo(void 0,i);const d=o(e);return r.insertBefore(d),this._fireEvent("node-insert",{node:r[0],parent:d?d[0]:null}),r},insertAfter:function(e,i){const r=this._createNode(i);if(!e)return this.addTo(void 0,i);const d=o(e);return r.insertAfter(d),this._fireEvent("node-insert",{node:r[0],parent:d[0]}),r},del:function(e){const i=this.element,r=o(e),d=r.closest("ul"),g=d.closest("li");this._fireEvent("node-delete",{node:r[0]}),r.remove(),d.children().length===0&&!d.is(i)&&(d.remove(),g.removeClass("expanded"),g.children(".node-toggle").remove()),this._recheckTree()},clean:function(e){const i=o(e);i.children("ul").remove(),i.removeClass("expanded"),i.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:i[0]})},collapseNode(e){const i=this.options,r=o(e);r.removeClass("expanded"),r.data("collapsed",!0),r.children("ul").slideUp(i.duration),this._fireEvent("collapse-node",{node:r[0]})},expandNode(e){const i=this.options,r=o(e);r.hasClass("tree-node")&&(r.addClass("expanded"),r.data("collapsed",!1),r.children("ul").slideDown(i.duration),this._fireEvent("expand-node",{node:r[0]}))},collapseAll(){const e=this.element,i=this.options;e.find(".expanded").each((r,d)=>{const g=o(d),_=!g.data("collapsed");g.toggleClass("expanded"),g.data("collapsed",_);const C=_===!0?"slideUp":"slideDown";_?this._fireEvent("collapse-node",{node:g[0]}):this._fireEvent("expand-node",{node:g[0]}),g.children("ul")[C](i.duration)}),this._fireEvent("collapse-all")},expandAll(){const e=this.element,i=this.options;e.find(".tree-node:not(.expanded)").each((r,d)=>{const g=o(d),_=!g.data("collapsed");g.toggleClass("expanded"),g.data("collapsed",_);const C=_===!0?"slideUp":"slideDown";_?this._fireEvent("collapse-node",{node:g[0]}):this._fireEvent("expand-node",{node:g[0]}),g.children("ul")[C](i.duration)}),this._fireEvent("expand-all")},fillTree:function(e,i){for(const r of e){const d=this.addTo(i,{...r,type:r.items?"node":"item"});r.items&&this.fillTree(r.items,d)}},changeAttribute:function(e,i){e==="data-recheck-timeout"&&(this.options.recheckTimeout=i??100)},destroy:function(){const e=this.element;e.off(t.events.click,".node-toggle"),e.off(t.events.click,"li > .caption"),e.off(t.events.dblclick,"li > .caption"),e.off(t.events.click,"input[type=radio]"),e.off(t.events.click,"input[type=checkbox]"),e.remove()}})})(Metro,Dom),((t,o)=>{const f={required:i=>G.safeParse(G.required(),i).ok,length:(i,r)=>G.safeParse(G.length(+r),i).ok,minlength:(i,r)=>G.safeParse(G.minLength(+r),i).ok,maxlength:(i,r)=>G.safeParse(G.maxLength(+r),i).ok,min:(i,r)=>G.safeParse(G.minValue(+r),+i).ok,max:(i,r)=>G.safeParse(G.maxValue(+r),+i).ok,email:i=>G.safeParse(G.email(),i).ok,domain:i=>G.safeParse(G.domain(),i).ok,url:i=>G.safeParse(G.url(),i).ok,date:(i,r,d)=>{try{return r?Datetime.from(i,r,d):datetime(i),!0}catch{return!1}},number:i=>G.safeParse(G.number(),+i).ok,integer:i=>G.safeParse(G.integer(),+i).ok,safeInteger:i=>G.safeParse(G.safeInteger(),+i).ok,float:i=>G.safeParse(G.float(),+i).ok,digits:i=>G.safeParse(G.digits(),i).ok,hexcolor:i=>G.safeParse(G.hexColor(),i).ok,color:i=>t.utils.isValue(i)?Farbe.Palette.color(i,Farbe.StandardColors)||Farbe.Routines.isColor(i):!1,pattern:(i,r)=>G.safeParse(G.pattern(r),i).ok,compare:(i,r)=>i==r,not:(i,r)=>i!=r,notequals:(i,r)=>i!==r,equals:(i,r)=>i===r,custom:(i,r)=>t.utils.isFunc(r)===!1?!1:t.utils.exec(r,[i]),is_control:i=>i.attr("data-role"),reset_state:i=>{const r=o(i);f.is_control(r)?r.parent().removeClass("invalid valid"):r.removeClass("invalid valid")},set_valid_state:i=>{const r=o(i);f.is_control(r)?r.parent().addClass("valid"):r.addClass("valid")},set_invalid_state:i=>{const r=o(i);f.is_control(r)?r.parent().addClass("invalid"):r.addClass("invalid")},reset:function(i){const r=this;return o.each(o(i).find("[data-validate]"),function(){r.reset_state(this)}),this},validate:function(i,r,d,g,_){let C=!0;const k=o(i),E=k.data("validate")!==void 0?String(k.data("validate")).split(" ").map(Q=>Q.trim()):[],I=[],B=k.closest("form").length>0;let q,Z;return E.length===0?!0:(this.reset_state(k),k.attr("type")&&k.attr("type").toLowerCase()==="checkbox"?(E.indexOf("required")===-1?C=!0:C=k.is(":checked"),C===!1&&I.push("required"),r!==void 0&&(r.val+=C?0:1)):k.attr("type")&&k.attr("type").toLowerCase()==="radio"?(q=k.attr("name"),typeof q>"u"?C=!0:(Z=o(`input[name=${q.replace("[","\\[").replace("]","\\]")}]:checked`),C=Z.length>0),r!==void 0&&(r.val+=C?0:1)):o.each(E,function(){if(C===!1)return;const Q=this.split("=");let De,He,Me;De=Q[0],Q.shift(),He=Q.join("="),["compare","not","equals","notequals"].indexOf(De)>-1&&(He=B?k[0].form.elements[He].value:o(`[name=${He}]`).val()),De==="date"&&(He=k.attr("data-value-format"),Me=k.attr("data-value-locale")),t.utils.isFunc(f[De])===!1?C=!0:_===!0||De==="required"||k.val().trim()!==""?C=f[De](k.val(),He,Me):C=!0,C===!1&&I.push(De),r!==void 0&&(r.val+=C?0:1)}),C===!1?(this.set_invalid_state(k),r!==void 0&&r.log.push({input:k[0],name:k.attr("name"),value:k.val(),funcs:E,errors:I}),g!==void 0&&t.utils.exec(g,[k,k.val()],k[0])):(this.set_valid_state(k),d!==void 0&&t.utils.exec(d,[k,k.val()],k[0])),C)}};t.validator=f;let e={validatorDeferred:0,submitTimeout:200,interactiveCheck:!1,clearInvalid:0,requiredMode:!0,useRequiredClass:!0,onBeforeSubmit:t.noop_true,onSubmit:t.noop,onError:t.noop,onValidate:t.noop,onErrorForm:t.noop,onValidateForm:t.noop,onValidatorCreate:t.noop};t.validatorSetup=i=>{e=o.extend({},e,i)},typeof globalThis.metroValidatorSetup<"u"&&t.validatorSetup(globalThis.metroValidatorSetup),t.Component("validator",{init:function(i,r){return this._super(r,i,e,{_onsubmit:null,_onreset:null,result:[]}),this},_create:function(){const i=this.element,r=this.options,d=i.find("[data-validate]");i.attr("novalidate","novalidate"),o.each(d,function(){const g=o(this);g.data("validate").indexOf("required")>-1&&r.useRequiredClass===!0&&(f.is_control(g)?g.parent().addClass("required"):g.addClass("required")),r.interactiveCheck===!0&&g.on(t.events.inputchange,function(){f.validate(this,void 0,void 0,void 0,r.requiredMode)})}),this._onsubmit=null,this._onreset=null,i[0].onsubmit!==null&&(this._onsubmit=i[0].onsubmit,i[0].onsubmit=null),i[0].onreset!==null&&(this._onreset=i[0].onreset,i[0].onreset=null),i[0].onsubmit=()=>this._submit(),i[0].onreset=()=>this._reset(),this._fireEvent("validator-create",{element:i})},_reset:function(){f.reset(this.element),this._onreset!==null&&t.utils.exec(this._onreset,null,this.element[0])},_submit:function(){const i=this.element,r=this.options,d=this.elem,g=i.find("[data-validate]"),_=i.find("input[type=submit], button[type=submit]"),C={val:0,log:[]},k=o.serializeToArray(i);return _.length>0&&_.attr("disabled","disabled").addClass("disabled"),o.each(g,function(){f.validate(this,C,r.onValidate,r.onError,r.requiredMode)}),_.removeAttr("disabled").removeClass("disabled"),C.val+=t.utils.exec(r.onBeforeSubmit,[k],this.elem)===!1?1:0,C.val===0?(this._fireEvent("validate-form",{data:k}),setTimeout(()=>{t.utils.exec(r.onSubmit,[k],d),i.fire("formsubmit",{data:k}),this._onsubmit!==null&&t.utils.exec(this._onsubmit,null,d)},r.submitTimeout)):(this._fireEvent("error-form",{log:C.log,data:k}),r.clearInvalid>0&&setTimeout(()=>{o.each(g,function(){const E=o(this);f.is_control(E)?E.parent().removeClass("invalid"):E.removeClass("invalid")})},r.clearInvalid)),C.val===0},changeAttribute:()=>{}})})(Metro,Dom),((t,o)=>{let f={duration:4e3,animationDuration:null,transitionDuration:null,transition:"fade",animation:null,slides:[],shuffle:!1,align:"center",valign:"center",loop:!0,autoplay:!0,mute:!0,cover:!0,preload:!0,timer:!0,overlay:2,color:null,volume:1,onPlay:t.noop,onPause:t.noop,onEnd:t.noop,onWalk:t.noop,onNext:t.noop,onPrev:t.noop,onJump:t.noop,onVegasCreate:t.noop};t.vegasSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroVegasSetup<"u"&&t.vegasSetup(globalThis.metroVegasSetup),t.Component("vegas",{videoCache:{},init:function(e,i){return this.transitions=["fade","fade2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsUp","kenburnsDown","kenburnsRight","kenburnsLeft","kenburnsUpLeft","kenburnsUpRight","kenburnsDownLeft","kenburnsDownRight"],this.support={objectFit:"objectFit"in document.body.style,video:!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)},this._super(i,e,f,{slide:0,slides:null,total:0,noshow:!1,paused:!1,ended:!1,timer:null,overlay:null,first:!0,timeout:!1}),this},_create:function(){const e=this.element,i=this.options;this.slides=t.utils.isObject(i.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!i.autoplay||this.noshow,i.shuffle&&this.slides.shuffle(),i.preload&&this._preload(),this._createStructure(),this._createEvents(),this._fireEvent("vegas-create",{element:e})},_createStructure:function(){const e=this.element,i=this.options,r=e[0].tagName==="BODY";let d;r||(e.css("height",e.css("height")),d=o('<div class="vegas-wrapper">').css("overflow",e.css("overflow")).css("padding",e.css("padding")),e.css("padding")||d.css("padding-top",e.css("padding-top")).css("padding-bottom",e.css("padding-bottom")).css("padding-left",e.css("padding-left")).css("padding-right",e.css("padding-right")),e.children().appendTo(d),e.clear()),e.addClass("vegas-container"),r||e.append(d),i.timer&&(this.timer=o('<div class="vegas-timer"><div class="vegas-timer-progress">'),e.append(this.timer)),i.overlay&&(this.overlay=o('<div class="vegas-overlay">').addClass(`overlay${typeof i.overlay=="boolean"||Number.isNaN(i.overlay)?2:+i.overlay}`),e.append(this.overlay)),setTimeout(()=>{t.utils.exec(i.onPlay,null,e[0]),this._goto(this.slide)},1)},_createEvents:()=>{},_preload:function(){let e,i;for(i=0;i<this.slides.length;i++){const r=this.slides[i];r.src&&(e=new Image,e.src=this.slides[i].src),r.video&&(Array.isArray(r.video)?this._video(r.video):this._video(r.video.src))}},_slideShow:function(){const e=this.options;this.total>1&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(()=>{this.next()},e.duration))},_timer:function(e){const i=this.options;clearTimeout(this.timeout),this.timer&&(this.timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),!(this.ended||this.paused||this.noshow)&&e&&setTimeout(()=>{this.timer.addClass("vegas-timer-running").find("div").css("transition-duration",`${+i.duration-100}ms`)},100))},_fadeSoundIn:function(e,i){const r=this.options;o.animate({el:e,draw:{volume:+r.volume},dur:i})},_fadeSoundOut:(e,i)=>{o.animate({el:e,draw:{volume:0},dur:i})},_video:function(e){let i;const r=e.toString(),d=Array.isArray(e)?e:[e];if(this.videoCache[r])return this.videoCache[r];const g=document.createElement("video");g.preload=!0;for(const _ of d)i=document.createElement("source"),i.src=_,g.appendChild(i);return this.videoCache[r]=g,g},_goto:function(e){const i=this,r=this.element,d=this.options;let g=e;typeof this.slides[g]>"u"&&(g=0),this.slide=g;let _,C,k,E,I;const B=r.children(".vegas-slide"),q=this.slides[e];let Z=d.cover,Q,De,He,Me;this.first&&(this.first=!1),Z!=="repeat"&&(Z===!0?Z="cover":Z===!1&&(Z="contain")),d.transition==="random"?Q=o.random(this.transitions):Q=d.transition?d.transition:this.transitions[0],d.animation==="random"?De=o.random(this.animations):De=d.animation?d.animation:this.animations[0],d.transitionDuration?d.transitionDuration==="auto"||+d.transitionDuration>+d.duration?He=+d.duration:He=+d.transitionDuration:He=+d.duration,d.animationDuration?d.animationDuration==="auto"||+d.animationDuration>+d.duration?Me=+d.duration:Me=+d.animationDuration:Me=+d.duration,_=o("<div>").addClass("vegas-slide").addClass(`vegas-transition-${Q}`),this.support.video&&q.video?(k=Array.isArray(q.video)?this._video(q.video):this._video(q.video.src),k.loop=q.video.loop?q.video.loop:d.loop,k.muted=q.video.mute?q.video.mute:d.mute,k.muted?k.pause():this._fadeSoundIn(k,He),I=o(k).addClass("vegas-video").css("background-color",d.color||"#000000"),this.support.objectFit?I.css("object-position",`${d.align} ${d.valign}`).css("object-fit",Z).css("width","100%").css("height","100%"):Z==="contain"&&I.css("width","100%").css("height","100%"),_.append(I)):(E=new Image,C=o("<div>").addClass("vegas-slide-inner").css({backgroundImage:`url("${q.src}")`,backgroundColor:d.color||"#000000",backgroundPosition:`${d.align} ${d.valign}`}),Z==="repeat"?C.css("background-repeat","repeat"):C.css("background-size",Z),De&&C.addClass(`vegas-animation-${De}`).css("animation-duration",`${Me}ms`),_.append(C)),B.length?B.eq(B.length-1).after(_):r.prepend(_),B.css("transition","all 0ms").each(function(){this.className="vegas-slide",this.tagName==="VIDEO"&&(this.className+=" vegas-video"),Q&&(this.className+=` vegas-transition-${Q}`,this.className+=` vegas-transition-${Q}-in`)}),this._timer(!1);function Be(){i._timer(!0),setTimeout(()=>{B.css("transition",`all ${He}ms`).addClass(`vegas-transition-${Q}-out`),B.each(()=>{const we=B.find("video").get(0);we&&(we.volume=1,i._fadeSoundOut(we,He))}),_.css("transition",`all ${He}ms`).addClass(`vegas-transition-${Q}-in`);for(let we=0;we<B.length-1;we++)B.eq(we).remove();i._fireEvent("walk",{slide:i.current(!0)}),i._slideShow()},100)}k?(k.readyState===4&&(k.currentTime=0),k.play(),Be()):(E.src=q.src,E.complete?Be():E.onload=Be)},_end:function(){this.ended=this.options.autoplay,this._timer(!1),this._fireEvent("end",{slide:this.current(!0)})},play:function(){this.paused&&(this._fireEvent("play",{slide:this.current(!0)}),this.paused=!1,this.next())},pause:function(){this._timer(!1),this.paused=!0,this._fireEvent("pause",{slide:this.current(!0)})},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(e){return e?{slide:this.slide,data:this.slides[this.slide]}:this.slide},jump:function(e){if(e<=0||e>this.slides.length||e===this.slide+1)return this;this.slide=e-1,this._fireEvent("jump",{slide:this.current(!0)}),this._goto(this.slide)},next:function(){const e=this.options;if(this.slide++,this.slide>=this.slides.length){if(!e.loop)return this._end();this.slide=0}this._fireEvent("next",{slide:this.current(!0)}),this._goto(this.slide)},prev:function(){const e=this.options;if(this.slide--,this.slide<0){if(!e.loop)return this.slide++,this._end();this.slide=this.slides.length-1}this._fireEvent("prev",{slide:this.current(!0)}),this._goto(this.slide)},changeAttribute:function(e){const i=this.element,r=this.options,d=Str.camelCase(e.replace("data-",""));d==="slides"?(r.slides=i.attr("data-slides"),this.slides=t.utils.isObject(r.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!this.options.autoplay||this.noshow):typeof f[d]<"u"&&(r[d]=JSON.parse(i.attr(e)))},destroy:function(){const e=this.element,i=this.options;clearTimeout(this.timeout),e.removeClass("vegas-container"),e.find("> .vegas-slide").remove(),e.find("> .vegas-wrapper").children().appendTo(e),e.find("> .vegas-wrapper").remove(),i.timer&&this.timer.remove(),i.overlay&&this.overlay.remove(),e.remove()}})})(Metro,Dom),((t,o)=>{let f={videoDeferred:0,src:null,poster:"",logo:"",logoHeight:32,logoWidth:"auto",logoTarget:"",volume:.5,loop:!1,autoplay:!1,fullScreenMode:t.fullScreenMode.DESKTOP,aspectRatio:t.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:"⮔",stopIcon:"⏹",playIcon:"▶",pauseIcon:"⏸",muteIcon:"🔇",volumeLowIcon:"🔈",volumeMediumIcon:"🔉",volumeHighIcon:"🔊",screenMoreIcon:"⬜",screenLessIcon:"▫️",onPlay:t.noop,onPause:t.noop,onStop:t.noop,onEnd:t.noop,onMetadata:t.noop,onTime:t.noop,onVideoPlayerCreate:t.noop};t.videoPlayerSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroVideoPlayerSetup<"u"&&t.videoPlayerSetup(globalThis.metroVideoPlayerSetup),t.Component("video-player",{init:function(e,i){return this._super(i,e,f,{fullscreen:!1,preloader:null,player:null,video:i,stream:null,volume:null,volumeBackup:0,muted:!1,fullScreenInterval:!1,isPlaying:!1,id:null}),this},_create:function(){const e=this.element,i=this.options;this.id=e.attr("id")||Hooks.useId(this.elem),t.fullScreenEnabled===!1&&(i.fullScreenMode=t.fullScreenMode.WINDOW),this._createPlayer(),this._createControls(),this._createEvents(),this._setAspectRatio(),i.autoplay===!0&&this.play(),this._fireEvent("video-player-create",{element:e,player:this.player})},_createPlayer:function(){const e=this.element,i=this.options,r=this.video,d=e.wrap("<div>").addClass(`media-player video-player ${e[0].className}`),g=o("<div>").addClass("preloader").appendTo(d),_=o("<a>").attr("href",i.logoTarget).addClass("logo").appendTo(d);e.wrap("<div>").addClass("video-wrapper"),o.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){e.removeAttr(this)}),e.attr("preload","auto"),i.poster!==""&&e.attr("poster",i.poster),r.volume=i.volume,g.activity({type:"cycle",style:"color"}),g.hide(),this.preloader=g,i.logo!==""&&o("<img>").css({height:i.logoHeight,width:i.logoWidth}).attr("src",i.logo).appendTo(_),i.src!==null&&this._setSource(i.src),e[0].className="",this.player=d},_setSource:function(e){const i=this.element;i.find("source").remove(),i.removeAttr("src"),Array.isArray(e)?o.each(e,function(){this.src!==void 0&&o("<source>").attr("src",this.src).attr("type",this.type!==void 0?this.type:"").appendTo(i)}):i.attr("src",e)},_createControls:function(){const e=this.element,i=this.options,r=this.elem,d=o("<div>").addClass("controls").addClass(i.clsControls).appendTo(this.player),g=o("<div>").addClass("stream").appendTo(d),_=o("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(g),C=o("<div>").addClass("volume").appendTo(d),k=o("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(C),E=o("<div>").addClass("info-box").appendTo(d);i.showInfo!==!0&&E.hide(),t.makePlugin(_,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:()=>{r.paused||r.pause()},onStop:B=>{r.seekable.length>0&&(r.currentTime=(this.duration*B/100).toFixed(0)),r.paused&&r.currentTime>0&&r.play()}}),this.stream=_,i.showStream!==!0&&g.hide(),t.makePlugin(k,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:i.volume*100,onChangeValue:B=>{r.volume=B/100}}),this.volume=k,i.showVolume!==!0&&C.hide();let I;i.showLoop===!0&&(I=o("<button>").attr("type","button").addClass("button square loop").attr("title",this.strings.label_loop).html(i.loopIcon).appendTo(d)),i.showPlay===!0&&o("<button>").attr("type","button").addClass("button square play").attr("title",this.strings.label_play).html(i.playIcon).appendTo(d),i.showStop===!0&&o("<button>").attr("type","button").addClass("button square stop").attr("title",this.strings.label_stop).html(i.stopIcon).appendTo(d),i.showMute===!0&&o("<button>").attr("type","button").addClass("button square mute").attr("title",this.strings.label_mute).html(i.muteIcon).appendTo(d),i.showFull===!0&&o("<button>").attr("type","button").addClass("button square full").html(i.screenMoreIcon).appendTo(d),i.loop===!0&&(I.addClass("active"),e.attr("loop","loop")),this._setVolume(),i.muted&&(this.volumeBackup=r.volume,t.getPlugin(this.volume,"slider").val(0),r.volume=0),E.html("00:00 / 00:00")},_createEvents:function(){const e=this.element,i=this.options,r=this.elem,d=this.player;e.on("loadstart",()=>{this.preloader.show()}),e.on("loadedmetadata",()=>{this.duration=r.duration.toFixed(0),this._setInfo(0,this.duration),t.utils.exec(i.onMetadata,[r,d],e[0])}),e.on("canplay",()=>{this._setBuffer(),this.preloader.hide()}),e.on("progress",()=>{this._setBuffer()}),e.on("timeupdate",()=>{const g=Math.round(r.currentTime*100/this.duration);this._setInfo(r.currentTime,this.duration),t.getPlugin(this.stream,"slider").val(g),t.utils.exec(i.onTime,[r.currentTime,this.duration,r,d],e[0])}),e.on("waiting",()=>{this.preloader.show()}),e.on("loadeddata",()=>{}),e.on("play",()=>{d.find(".play").html(i.pauseIcon),t.utils.exec(i.onPlay,[r,d],e[0])}),e.on("pause",()=>{d.find(".play").html(i.playIcon),t.utils.exec(i.onPause,[r,d],e[0])}),e.on("stop",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onStop,[r,d],e[0])}),e.on("ended",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onEnd,[r,d],e[0])}),e.on("volumechange",()=>{this._setVolume()}),d.on(t.events.click,".play",()=>{r.paused?this.play():this.pause()}),d.on(t.events.click,".stop",()=>{this.stop()}),d.on(t.events.click,".mute",()=>{this._toggleMute()}),d.on(t.events.click,".loop",()=>{this._toggleLoop()}),d.on(t.events.click,".full",()=>{this.fullscreen=!this.fullscreen,d.find(".full").html(this.fullscreen===!0?i.screenLessIcon:i.screenMoreIcon),i.fullScreenMode===t.fullScreenMode.WINDOW?this.fullscreen===!0?d.addClass("full-screen"):d.removeClass("full-screen"):this.fullscreen===!0?(t.requestFullScreen(r),this.fullScreenInterval===!1&&(this.fullScreenInterval=setInterval(()=>{t.inFullScreen()===!1&&(this.fullscreen=!1,clearInterval(this.fullScreenInterval),this.fullScreenInterval=!1,d.find(".full").html(i.screenMoreIcon))},1e3))):t.exitFullScreen()}),o(globalThis).on(t.events.keyup,g=>{this.fullscreen&&g.keyCode===27&&d.find(".full").click()},{ns:this.id}),o(globalThis).on(t.events.resize,()=>{this._setAspectRatio()},{ns:this.id})},_toggleLoop:function(){const e=this.player.find(".loop");e.length!==0&&(e.toggleClass("active"),e.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.video.volume=this.volumeBackup:(this.volumeBackup=this.video.volume,this.video.volume=0),t.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(e,i){this.player.find(".info-box").html(`${t.utils.secondsToFormattedString(Math.round(e))} / ${t.utils.secondsToFormattedString(Math.round(i))}`)},_setBuffer:function(){const e=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;t.getPlugin(this.stream,"slider").buff(e)},_setVolume:function(){const e=this.video,i=this.player,r=this.options,d=i.find(".mute"),g=e.volume*100;g>1&&g<30?d.html(r.volumeLowIcon):g>=30&&g<60?d.html(r.volumeMediumIcon):g>=60&&g<=100?d.html(r.volumeHighIcon):d.html(r.muteIcon)},_setAspectRatio:function(){const e=this.player,i=this.options,r=e.outerWidth();let d;switch(i.aspectRatio){case t.aspectRatio.SD:d=t.utils.aspectRatioH(r,"4/3");break;case t.aspectRatio.CINEMA:d=t.utils.aspectRatioH(r,"21/9");break;default:d=t.utils.aspectRatioH(r,"16/9")}e.outerHeight(d)},aspectRatio:function(e){this.options.aspectRatio=e,this._setAspectRatio()},play:function(e){e&&this._setSource(e),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&(this.isPlaying=!0,this.video.play())},pause:function(){this.isPlaying=!1,this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,t.getPlugin(this.stream,"slider").val(0),this._offMouse()},setVolume:function(e){if(typeof e>"u")return this.video.volume;let i=Number.parseFloat(e);i>1&&(i/=100),this.video.volume=i,t.getPlugin(this.volume[0],"slider").val(e*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr("data-aspect-ratio"),this._setAspectRatio()},changeSource:function(){const e=JSON.parse(this.element.attr("data-src"));this.play(e)},changeVolume:function(){const e=this.element.attr("data-volume");this.setVolume(e)},changeAttribute:function(e){switch(e){case"data-aspect-ratio":this.changeAspectRatio();break;case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){const e=this.element,i=this.player;return t.getPlugin(this.stream,"slider").destroy(),t.getPlugin(this.volume,"slider").destroy(),e.off("loadstart"),e.off("loadedmetadata"),e.off("canplay"),e.off("progress"),e.off("timeupdate"),e.off("waiting"),e.off("loadeddata"),e.off("play"),e.off("pause"),e.off("stop"),e.off("ended"),e.off("volumechange"),i.off(t.events.click,".play"),i.off(t.events.click,".stop"),i.off(t.events.click,".mute"),i.off(t.events.click,".loop"),i.off(t.events.click,".full"),o(globalThis).off(t.events.keyup,{ns:this.id}),o(globalThis).off(t.events.resize,{ns:this.id}),e}})})(Metro,Dom),((t,o)=>{let f={onViewport:t.noop,onViewportEnter:t.noop,onViewportLeave:t.noop,onViewportCheckCreate:t.noop};t.viewportCheckSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroViewportCheckSetup<"u"&&t.viewportCheckSetup(globalThis.metroViewportCheckSetup),t.Component("viewport-check",{init:function(e,i){return this._super(i,e,f,{inViewport:!1,id:null}),this},_create:function(){this.id=this.element.attr("id")||Hooks.useId(this.elem),this.inViewport=t.utils.inViewport(this.elem),this._createEvents(),this._fireEvent("viewport-check-create")},_createEvents:function(){const e=this.elem;o(globalThis).on(t.events.scroll,()=>{const i=this.inViewport;this.inViewport=t.utils.inViewport(e),i!==this.inViewport&&(this.inViewport?this._fireEvent("viewport-enter"):this._fireEvent("viewport-leave")),this._fireEvent("viewport",{state:this.inViewport})},{ns:this.id})},state:function(){return this.inViewport},destroy:function(){return o(globalThis).off(t.events.scroll,{ns:this.id}),this.element}})})(Metro,Dom),((t,o)=>{let f={_runtime:!1,windowDeferred:0,hidden:!1,width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,draggable:!0,dragElement:".window-caption .title",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:null,resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",closeAction:t.actions.HIDE,customButtons:null,status:"",canClose:!0,canMaximize:!0,canMinimize:!0,clsCustomButton:"",clsCaption:"",clsContent:"",clsWindow:"",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,onDragStart:t.noop,onDragStop:t.noop,onDragMove:t.noop,onWindowClick:t.noop,onCaptionClick:t.noop,onCaptionDblClick:t.noop,onCloseClick:t.noop,onMaxClick:t.noop,onMinClick:t.noop,onResizeStart:t.noop,onResizeStop:t.noop,onResize:t.noop,onWindowCreate:t.noop,onShow:t.noop,onWindowDestroy:t.noop,onCanClose:t.noop_true,onMinimize:t.noop,onMaximize:t.noop,onClose:t.noop};t.windowSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroWindowSetup<"u"&&t.windowSetup(globalThis.metroWindowSetup),t.Component("window",{init:function(e,i){return this._super(i,e,f,{win:null,overlay:null,position:{top:0,left:0},hidden:!1,content:null}),this},_create:function(){const e=this.element,i=this.options;let r,d;const g=i.dragArea==="parent"?e.parent():o(i.dragArea);let _;i.modal===!0&&(i.btnMax=!1,i.btnMin=!1,i.resizable=!1),t.utils.isNull(i.content)||(t.utils.isUrl(i.content)&&t.utils.isVideoUrl(i.content)?(i.content=t.utils.embedUrl(i.content),e.css({height:"100%"})):!t.utils.isQ(i.content)&&t.utils.isFunc(i.content)&&(i.content=t.utils.exec(i.content)),_=o(i.content),_.length===0?e.appendText(i.content):e.append(_)),i.content=e,i._runtime===!0&&this._runtime(e,"window"),r=this._window(i),r.addClass("no-visible"),g.append(r),i.overlay===!0&&(d=this._overlay(),d.appendTo(r.parent()),this.overlay=d),this.win=r,this._fireEvent("window-create",{win:this.win[0],element:e}),setTimeout(()=>{this._setPosition(),i.hidden!==!0&&this.win.removeClass("no-visible"),this._fireEvent("show",{win:this.win[0],element:e})},100)},_setPosition:function(){const e=this.options,i=this.win,r=e.dragArea==="parent"?i.parent():o(e.dragArea),d=r.height()/2-i[0].offsetHeight/2,g=r.width()/2-i[0].offsetWidth/2;let _,C,k,E;if(e.place!=="auto"){switch(e.place.toLowerCase()){case"top-left":_=0,C=0,k="auto",E="auto";break;case"top-center":_=0,C=g,k="auto",E="auto";break;case"top-right":_=0,k=0,C="auto",E="auto";break;case"right-center":_=d,k=0,C="auto",E="auto";break;case"bottom-right":E=0,k=0,C="auto",_="auto";break;case"bottom-center":E=0,C=g,k="auto",_="auto";break;case"bottom-left":E=0,C=0,k="auto",_="auto";break;case"left-center":_=d,C=0,k="auto",E="auto";break;default:_=d,C=g,E="auto",k="auto"}i.css({top:_,left:C,bottom:E,right:k})}},_window:function(e){let i,r,d,g,_,C,k,E,I,B,q=e.width,Z=e.height;if(i=o("<div>").addClass("window"),e.modal===!0&&i.addClass("modal"),r=o("<div>").addClass("window-caption"),d=o("<div>").addClass("window-content"),i.append(r),i.append(d),(e.status||e.resizable)&&(B=o("<div>").addClass("window-status").html(e.status),i.append(B)),e.shadow===!0&&i.addClass("shadowed"),t.utils.isValue(e.icon)&&(g=o("<span>").addClass("icon").html(e.icon),g.appendTo(r)),o("<span>").addClass("title").html(t.utils.isValue(e.title)?e.title:"&nbsp;").appendTo(r),t.utils.isNull(e.content)||(t.utils.isQ(e.content)?e.content.appendTo(d):d.html(e.content)),_=o("<div>").addClass("buttons"),_.appendTo(r),e.btnMax===!0&&(E=o("<span>").addClass("button small square btn-max sys-button"),E.appendTo(_)),e.btnMin===!0&&(k=o("<span>").addClass("button small square btn-min sys-button"),k.appendTo(_)),e.btnClose===!0&&(C=o("<span>").addClass("button small square btn-close sys-button"),C.appendTo(_)),e.customButtons){const De=t.utils.isObject(e.customButtons);De&&o.each(De,function(){const He=o("<span>");He.addClass("button btn-custom").addClass(e.clsCustomButton).addClass(this.cls).attr("tabindex",-1).html(this.html),this.attr&&typeof this.attr=="object"&&o.each(this.attr,(Me,Be)=>{He.attr(Str.dashedName(Me),Be)}),He.data("action",this.onclick),_.prepend(He)})}return r.on(t.events.click,".btn-custom",function(De){if(t.utils.isRightMouse(De))return;const He=o(this),Me=He.data("action");t.utils.exec(Me,[He],this)}),i.attr("id",e.id===void 0?Hooks.useId(i[0]):e.id),i.on(t.events.startAll,".window-caption",De=>{this._fireEvent("caption-click",{win:i[0],e:De})}),i.on(t.events.dblclick,".window-caption",De=>{this.maximize(De)}),r.on(t.events.click,".btn-max, .btn-min, .btn-close",De=>{if(t.utils.isRightMouse(De))return;const He=o(De.target);He.hasClass("btn-max")&&e.canMaximize&&this.maximize(De),He.hasClass("btn-min")&&e.canMinimize&&this.minimize(De),He.hasClass("btn-close")&&e.canClose&&this.close(De)}),i.on(t.events.click,De=>{this._fireEvent("window-click",{win:i[0],e:De})}),e.draggable===!0&&t.makePlugin(i,"draggable",{dragContext:i[0],dragElement:r,dragArea:e.dragArea,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onDragMove:e.onDragMove}),i.addClass(e.clsWindow),r.addClass(e.clsCaption),d.addClass(e.clsContent),e.minWidth===0&&(e.minWidth=34,o.each(_.children(".btn-custom"),function(){e.minWidth+=t.utils.hiddenElementSize(this).width}),e.btnMax&&(e.minWidth+=34),e.btnMin&&(e.minWidth+=34),e.btnClose&&(e.minWidth+=34)),e.minWidth>0&&!Number.isNaN(e.width)&&e.width<e.minWidth&&(q=e.minWidth),e.minHeight>0&&!Number.isNaN(e.height)&&e.height>e.minHeight&&(Z=e.minHeight),e.resizable&&(I=o("<span>").addClass("resize-element"),I.appendTo(i),i.addClass("resizable"),t.makePlugin(i,"resizable",{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,resizeElement:".resize-element",onResizeStart:e.onResizeStart,onResizeStop:e.onResizeStop,onResize:e.onResize})),i.css({width:q,height:Z,position:e.position,top:e.top,left:e.left}),i},_overlay:function(){const e=this.options,i=o("<div>");return i.addClass("overlay"),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(e.overlayColor),e.overlayAlpha)}),i},width:function(e){const i=this.win;return t.utils.isValue(e)?(i.css("width",Number.parseInt(e)),this):i.width()},height:function(e){const i=this.win;return t.utils.isValue(e)?(i.css("height",Number.parseInt(e)),this):i.height()},maximize:function(e){var g;const i=this.win,r=this.options,d=o(e.target);r.btnMax&&(i.removeClass("minimized"),i.toggleClass("maximized")),(g=d.hasClass)!=null&&g.call(d,"title")?this._fireEvent("caption-dbl-click",{win:i[0]}):this._fireEvent("max-click",{win:i[0]}),this._fireEvent("maximize",{win:i[0]})},minimize:function(){const e=this.win;this.options.btnMin&&(e.removeClass("maximized"),e.toggleClass("minimized")),this._fireEvent("min-click",{win:e[0]}),this._fireEvent("minimize",{win:e[0]})},close:function(){const e=this.win,i=this.options;if(t.utils.exec(i.onCanClose,[e])===!1)return!1;let r=0;i.onClose!==t.noop&&(r=500),this._fireEvent("close",{win:e[0]}),setTimeout(()=>{i.modal===!0&&e.siblings(".overlay").remove(),this._fireEvent("close-click",{win:e[0]}),i.closeAction===t.actions.REMOVE?(this._fireEvent("window-destroy",{win:e[0]}),e.remove()):this.hide()},r)},hide:function(){const e=this.win;e.css({display:"none"}),this._fireEvent("hide",{win:e[0]})},show:function(){const e=this.win;e.removeClass("no-visible").css({display:"flex"}),this._fireEvent("show",{win:e[0]})},toggle:function(){this.win.css("display")==="none"||this.win.hasClass("no-visible")?this.show():this.hide()},isOpen:function(){return this.win.hasClass("no-visible")},min:function(e){e?this.win.addClass("minimized"):this.win.removeClass("minimized")},max:function(e){e?this.win.addClass("maximized"):this.win.removeClass("maximized")},changeClass:function(e){const i=this.element,r=this.win,d=this.options;e==="data-cls-window"&&(r[0].className=`window ${d.resizable?" resizable ":" "}${i.attr("data-cls-window")}`),e==="data-cls-caption"&&(r.find(".window-caption")[0].className=`window-caption ${i.attr("data-cls-caption")}`),e==="data-cls-content"&&(r.find(".window-content")[0].className=`window-content ${i.attr("data-cls-content")}`)},toggleShadow:function(){const e=this.element,i=this.win;JSON.parse(e.attr("data-shadow"))===!0?i.addClass("win-shadow"):i.removeClass("win-shadow")},setContent:function(e){const i=this.element,r=this.win,d=t.utils.isValue(e)?e:i.attr("data-content");let g;!t.utils.isQ(d)&&t.utils.isFunc(d)?g=t.utils.exec(d):t.utils.isQ(d)?g=d.html():g=d,r.find(".window-content").html(g)},setTitle:function(e){const i=this.element,r=this.win,d=t.utils.isValue(e)?e:i.attr("data-title");r.find(".window-caption .title").html(d)},setIcon:function(e){const i=this.element,r=this.win,d=t.utils.isValue(e)?e:i.attr("data-icon");r.find(".window-caption .icon").html(d)},getIcon:function(){return this.win.find(".window-caption .icon").html()},getTitle:function(){return this.win.find(".window-caption .title").html()},toggleDraggable:function(e){const i=this.win,r=t.utils.bool(e),d=t.getPlugin(i,"draggable");r===!0?d.on():d.off()},toggleResizable:function(e){const i=this.win,r=t.utils.bool(e),d=t.getPlugin(i,"resizable");r===!0?(d.on(),i.find(".resize-element").removeClass("resize-element-disabled")):(d.off(),i.find(".resize-element").addClass("resize-element-disabled"))},changePlace:function(e){const i=this.element,r=this.win,d=t.utils.isValue(e)?e:i.attr("data-place");r.addClass(d)},pos:function(e,i){return this.win.css({top:e,left:i}),this},top:function(e){return this.win.css({top:e}),this},left:function(e){return this.win.css({left:e}),this},changeAttribute:function(e,i){const r=function(_,C){const k=this.win;let E;if(_==="data-top"){if(E=Number.parseInt(C),!Number.isNaN(E))return;k.css("top",E)}if(_==="data-left"){if(E=Number.parseInt(C),!Number.isNaN(E))return;k.css("left",E)}},d=function(_,C){const k=this.win,E=k.find(".btn-close"),I=k.find(".btn-min"),B=k.find(".btn-max"),Z=t.utils.bool(C)?"show":"hide";switch(_){case"data-btn-close":E[Z]();break;case"data-btn-min":I[Z]();break;case"data-btn-max":B[Z]();break}},g=function(_,C){const k=this.win;_==="data-width"&&k.css("width",+C),_==="data-height"&&k.css("height",+C)};switch(e){case"data-btn-close":case"data-btn-min":case"data-btn-max":d(e,i);break;case"data-width":case"data-height":g(e,i);break;case"data-cls-window":case"data-cls-caption":case"data-cls-content":this.changeClass(e);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable(i);break;case"data-resizable":this.toggleResizable(i);break;case"data-top":case"data-left":r(e,i);break;case"data-place":this.changePlace();break}},destroy:function(){return this.element}}),t.window={isWindow:e=>t.utils.isMetroObject(e,"window"),min:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").min(i)},max:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").max(i)},show:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").show()},hide:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").hide()},toggle:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").toggle()},isOpen:function(e){return this.isWindow(e)?t.getPlugin(e,"window").isOpen():!1},close:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").close()},pos:function(e,i,r){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").pos(i,r)},top:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").top(i)},left:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").left(i)},width:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").width(i)},height:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").height(i)},create:(e,i)=>{const r=o("<div>").appendTo(o(i||"body")),d=o.extend({_runtime:!0},e||{});return t.makePlugin(r,"window",d),t.getPlugin(r,"window").win}}})(Metro,Dom),((t,o)=>{let f={wizardDeferred:0,start:1,finish:0,iconHelp:"💡",iconPrev:"←",iconNext:"→",iconFinish:"✔",buttonMode:"cycle",buttonOutline:!0,duration:300,clsWizard:"",clsActions:"",clsHelp:"",clsPrev:"",clsNext:"",clsFinish:"",onPage:t.noop,onNextPage:t.noop,onPrevPage:t.noop,onFirstPage:t.noop,onLastPage:t.noop,onFinishPage:t.noop,onHelpClick:t.noop,onPrevClick:t.noop,onNextClick:t.noop,onFinishClick:t.noop,onBeforePrev:t.noop_true,onBeforeNext:t.noop_true,onWizardCreate:t.noop};t.wizardSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroWizardSetup<"u"&&t.wizardSetup(globalThis.metroWizardSetup),t.Component("wizard",{init:function(e,i){return this._super(i,e,f,{id:null}),this},_create:function(){const e=this.element;this.id=Hooks.useId(this.elem),this._createWizard(),this._createEvents(),this._fireEvent("wizard-create",{element:e})},_createWizard:function(){const e=this.element,i=this.options;e.addClass("wizard").addClass(i.view).addClass(i.clsWizard);const r=o("<div>").addClass("action-bar").addClass(i.clsActions).appendTo(e);let d=i.buttonMode==="button"?"":i.buttonMode;i.buttonOutline===!0&&(d+=" outline"),i.iconHelp!==!1&&o("<button>").attr("type","button").addClass("button wizard-btn-help").addClass(d).addClass(i.clsHelp).html(i.iconHelp).appendTo(r),i.iconPrev!==!1&&o("<button>").attr("type","button").addClass("button wizard-btn-prev").addClass(d).addClass(i.clsPrev).html(i.iconPrev).appendTo(r),i.iconNext!==!1&&o("<button>").attr("type","button").addClass("button wizard-btn-next").addClass(d).addClass(i.clsNext).html(i.iconNext).appendTo(r),i.iconFinish!==!1&&o("<button>").attr("type","button").addClass("button wizard-btn-finish").addClass(d).addClass(i.clsFinish).html(i.iconFinish).appendTo(r),this.toPage(i.start),this._setHeight()},_setHeight:function(){const e=this.element,i=e.children("section");let r=0;i.children(".page-content").css("max-height","none"),o.each(i,function(){const d=o(this).height();r<Number.parseInt(d)&&(r=d)}),e.height(r)},_createEvents:function(){const e=this,i=this.element;i.on(t.events.click,".wizard-btn-help",()=>{const d=i.children("section").get(e.current-1);e._fireEvent("help-click",{index:e.current,page:d})}),i.on(t.events.click,".wizard-btn-prev",()=>{e.prev();const d=i.children("section").get(e.current-1);e._fireEvent("prev-click",{index:e.current,page:d})}),i.on(t.events.click,".wizard-btn-next",()=>{e.next();const d=i.children("section").get(e.current-1);e._fireEvent("next-click",{index:e.current,page:d})}),i.on(t.events.click,".wizard-btn-finish",()=>{const d=i.children("section").get(e.current-1);e._fireEvent("finish-click",{index:e.current,page:d})}),i.on(t.events.click,".complete",function(){const r=o(this).index()+1;e.toPage(r)}),o(globalThis).on(t.events.resize,()=>{e._setHeight()},{ns:this.id})},next:function(){const e=this.element,i=this.options,r=e.children("section");let d=o(e.children("section").get(this.current-1));this.current+1>r.length||t.utils.exec(i.onBeforeNext,[this.current,d,e])===!1||(this.current++,this.toPage(this.current),d=o(e.children("section").get(this.current-1)),this._fireEvent("next-page",{index:this.current,page:d[0]}))},prev:function(){const e=this.element,i=this.options;let r=o(e.children("section").get(this.current-1));this.current-1===0||t.utils.exec(i.onBeforePrev,[this.current,r,e])===!1||(this.current--,this.toPage(this.current),r=o(e.children("section").get(this.current-1)),this._fireEvent("prev-page",{index:this.current,page:r[0]}))},last:function(){const e=this.element;this.toPage(e.children("section").length);const i=o(e.children("section").get(this.current-1));this._fireEvent("last-page",{index:this.current,page:i[0]})},first:function(){const e=this.element;this.toPage(1);const i=o(e.children("section").get(0));this._fireEvent("first-page",{index:this.current,page:i[0]})},toPage:function(e){const i=this.element,r=this.options,d=o(i.children("section").get(e-1)),g=i.children("section"),_=i.find(".action-bar");if(d.length===0)return;const C=i.find(".wizard-btn-finish").addClass("disabled"),k=i.find(".wizard-btn-next").addClass("disabled"),E=i.find(".wizard-btn-prev").addClass("disabled");this.current=e,i.children("section").removeClass("complete current").removeClass(r.clsCurrent).removeClass(r.clsComplete),d.addClass("current").addClass(r.clsCurrent),d.prevAll().addClass("complete").addClass(r.clsComplete);const I=i.children("section.complete").length===0?0:Number.parseInt(t.utils.getStyleOne(i.children("section.complete")[0],"border-left-width"));_.animate({draw:{left:i.children("section.complete").length*I+41},dur:r.duration}),(this.current===g.length||r.finish>0&&this.current>=r.finish)&&C.removeClass("disabled"),Number.parseInt(r.finish)>0&&this.current===Number.parseInt(r.finish)&&this._fireEvent("finish-page",{index:this.current,page:d[0]}),this.current<g.length&&k.removeClass("disabled"),this.current>1&&E.removeClass("disabled"),this._fireEvent("page",{index:this.current,page:d[0]})},changeAttribute:()=>{},destroy:function(){const e=this.element;e.off(t.events.click,".wizard-btn-help"),e.off(t.events.click,".wizard-btn-prev"),e.off(t.events.click,".wizard-btn-next"),e.off(t.events.click,".wizard-btn-finish"),e.off(t.events.click,".complete"),o(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,o)=>{let f={buttons:"next, prev, finish, cancel, help",startPage:1,height:300,labelNext:"",labelPrev:"",labelHelp:"",labelFinish:"",labelCancel:"",iconNext:"",iconPrev:"",iconHelp:"",iconFinish:"",iconCancel:"",clsWizard:"",clsPage:"",clsActions:"",clsActionHelp:"",clsActionPrev:"",clsActionNext:"",clsActionFinish:"",clsActionCancel:"",onBeforePage:t.noop_true,onPage:t.noop,onNext:t.noop,onPrev:t.noop,onFinish:t.noop,onCancel:t.noop,onHelp:t.noop,onMyObjectCreate:t.noop};t.wizardClassicSetup=e=>{f=o.extend({},f,e)},typeof window.metroWizardClassicSetup<"u"&&t.wizardClassicSetup(window.metroWizardClassicSetup),t.Component("wizard-classic",{init:function(e,i){return this._super(i,e,f,{currentPage:0}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("wizard-create")},_createStructure:function(){var g;const e=this.element,i=this.options;e.addClass(`wizard-classic ${i.clsWizard}`).css({height:i.height});const r=o("<div>").addClass("wizard-pages").appendTo(e),d=o("<div>").addClass("wizard-actions").appendTo(e);for(const _ of i.buttons.toArray(",")){const C=o("<button>").addClass("wizard-action").attr("data-wizard-action",_).html(`${i[`icon${str(_).capitalize()}`]?i[`icon${str(_).capitalize()}`]:""} ${i[`label${str(_).capitalize()}`]||this.strings[`label_${_}`]}`).appendTo(d);_==="next"?C.addClass(`wizard-next ${i.clsActionNext}`):_==="prev"?C.addClass(`wizard-prev ${i.clsActionPrev}`):_==="finish"?C.addClass(`wizard-finish ${i.clsActionFinish}`):_==="cancel"?C.addClass(`wizard-cancel ${i.clsActionCancel}`):_==="help"&&C.addClass(`wizard-help ${i.clsActionHelp}`)}this.pages=e.find(".page").addClass(i.clsPage),this.pages.appendTo(r),this.pages[i.startPage-1]===void 0&&(i.startPage=0),this.currentPage=i.startPage-1,(g=this.pages[this.currentPage])==null||g.classList.add("active"),this._refreshButtons()},_createEvents:function(){const e=this.element,i=this.options;e.on("click",".wizard-action",r=>{const d=o(r.target).closest("button").attr("data-wizard-action");if(d==="next"){if(t.utils.exec(i.onBeforePage,[this.currentPage,this.pages[this.currentPage]])===!1)return!1;this.next(),this._fireEvent("next")}else if(d==="prev"){if(t.utils.exec(i.onBeforePage,[this.currentPage,this.pages[this.currentPage]])===!1)return!1;this.prev(),this._fireEvent("prev")}else d==="finish"?this._fireEvent("finish"):d==="cancel"?this._fireEvent("cancel"):d==="help"&&this._fireEvent("help")})},_refreshButtons:function(){const e=this.element;this.options;const i=this.pages,r=e.find(".wizard-action");r.each((d,g)=>{o(g).removeClass("disabled")}),this.currentPage===0&&r.filter(".wizard-prev").addClass("disabled"),this.currentPage===i.length-1&&(r.filter(".wizard-next").addClass("disabled"),r.filter(".wizard-finish").removeClass("disabled")),this.currentPage>=0&&this.currentPage<i.length-1&&r.filter(".wizard-finish").addClass("disabled"),this.currentPage>0&&r.filter(".wizard-prev").removeClass("disabled")},next:function(){const e=this.element;this.options;const i=e.find(".page");this.currentPage<i.length-1&&(o(i[this.currentPage]).addClass("out"),setTimeout(r=>{o(i[r]).removeClass("active")},300,this.currentPage),this.currentPage++,o(i[this.currentPage]).addClass("active")),this._refreshButtons()},prev:function(){const e=this.element;this.options;const i=e.find(".page");this.currentPage>0&&(o(i[this.currentPage]).removeClass("active"),this.currentPage--,o(i[this.currentPage]).removeClass("out").addClass("active")),this._refreshButtons()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,o)=>{let f={onStateChange:t.noop,onWorkingTreeCreate:t.noop};t.workingTreeSetup=e=>{f=o.extend({},f,e)},typeof globalThis.metroWorkingTreeSetup<"u"&&t.workingTreeSetup(globalThis.metroWorkingTreeSetup),t.Component("working-tree",{init(e,i){return this._super(i,e,f,{}),this},_create(){this._createStructure(),this._createEvents(),this._fireEvent("tree-create")},addNode({id:e,title:i="",value:r="",items:d=[]}={}){const g=this.element,_=(e||Hooks.useId(`working-tree-node-${g.children().length}`)).replace(/:/gi,""),C=`
                <li id="${_}">
                    <div class="bull"></div>
                    <div class="node">
                        <div class="title">${i}</div>
                        <div class="value">${r}</div>
                    </div>
                    <ul class="leaves">
                        ${d.map(k=>`<li><div class="title">${k.title}</div><div class="value">${k.value}</div> </li>`).join(`
`)}                    
                    </ul>
                </li>
            `;return this.element.append(C),_},setState(e,i="pending"){const d=this.element.find(`#${e}`).clearClasses().addClass(`work-${i}`);return d.find(".bull").html(`<span data-role="bull" data-type="${i}"></span>`),this._fireEvent("state-change",{id:e,state:i,node:d}),this},_createStructure(){this.element.addClass("working-tree")},_createEvents(){},changeAttribute(e,i){},destroy(){this.element.remove()}})})(Metro,Dom),((t,o)=>{const f="[data-role-dropmenu], [data-role-dropdown]",e='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>';let i={height:"auto",align:"left",onMenuCreate:t.noop};t.dropMenuSetup=r=>{i=o.extend({},i,r)},typeof globalThis.metroDropMenuSetup<"u"&&t.dropMenuSetup(globalThis.metroDropMenuSetup),t.Component("dropmenu",{init:function(r,d){return this._super(d,r,i,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("menu-create")},_toggle:function(){const r=this.element;let d=r.siblings(".menu-toggle, .dropdown-toggle, a");if(d.length===0&&(d=r.prev(),d.length===0))throw new Error("Menu toggle not found");return d[0]},_createStructure:function(){const r=this.element,d=this.options;this.level=r.parents("[data-role-dropmenu]").length,this.toggle=o(this._toggle()).append(e),this.displayOrigin=r.css("display"),this.element.addClass("drop-menu").css("z-index",`calc(var(--z-index-fixed) + ${this.level})!important`).hide(),d.height!=="auto"&&r.css("max-height",d.height)},_createEvents:function(){const r=this.element;this.toggle.on("click",d=>{o(f).each((g,_)=>{const C=o(_),k=r.parents("[data-role-dropmenu]").is(_);if(_===r[0]||k||C.hasClass("keep-open")||C.hasClass("stay-open")||C.hasClass("ignore-document-click"))return;const E=t.getPlugin(_,"dropdown"),I=t.getPlugin(_,"dropmenu");E&&E.close(),I&&I.close()}),this.isOpen===!1?this.open():this.close(),d.preventDefault(),d.stopPropagation()})},close:function(){this.isOpen!==!1&&(this.toggle.removeClass("active-toggle"),this.element.hide(),this.isOpen=!1)},open:function(){const r=this.element,d=this.options,g=t.utils.rect(this.toggle[0]),_=r.parents("[data-role-dropmenu]").length;if(r.show().visible(!1),_===0){r.css({top:g.bottom,left:g.left});const C=t.utils.viewportOutByWidth(r[0]),k=t.utils.viewportOutByHeight(r[0]);(d.align==="right"||C)&&(r.css({left:g.right-r.width()}),d.align!=="right"&&t.utils.viewportOutByWidth(r[0])&&r.css({left:g.left})),k&&(r.css({top:g.top-r.height()}),t.utils.viewportOutByHeight(r[0])&&r.css({top:g.bottom}))}else{r.css({top:g.top,left:g.right});const C=t.utils.viewportOutByWidth(r[0]);(d.align==="right"||C)&&(r.css({left:g.left-r.width()}),d.align!=="right"&&t.utils.viewportOutByWidth(r[0])&&r.css({left:g.right}))}this.toggle.addClass("active-toggle"),this.isOpen=!0,r.visible(!0)},changeAttribute:(r,d)=>{},destroy:function(){this.element.remove()}}),o(document).on("click",()=>{o(f).each((r,d)=>{const g=o(d);if(g.hasClass("keep-open")||g.hasClass("stay-open")||g.hasClass("ignore-document-click"))return;const _=t.getPlugin(d,"dropdown"),C=t.getPlugin(d,"dropmenu");_&&_.close(),C&&C.close()})})})(Metro,Dom)})();//!node.hasClass("expanded");
/*! Bundled license information:

	@olton/datetime/dist/datetime.js:
	  (*!
	   * Datetime v3.2.5.
	   * Build time: 18.05.2025, 14:46:05
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *
	   * Build time: 18.05.2025 14:46:05
	   *)

	@olton/string/dist/string.js:
	  (*!
	   * String v0.10.2 (@olton/string)
	   * Copyright 2025 by Serhii Pimenov
	   * Built: 18.05.2025, 14:39:06
	   * Licensed under MIT
	   *)

	@olton/dom/dist/dom.js:
	  (*!
	   * DOM - Work with HTML elements (@olton/dom, https://metroui.org.ua)
	   * Version: 1.5.1
	   * Build date: 18.05.2025, 14:45:23
	   * Copyright 2012-2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/hooks/dist/hooks.js:
	  (*!
	   * Hooks v0.13.0 (@olton/hooks)
	   * Copyright 2025 by Serhii Pimenov <serhii@pimenov.com.ua>
	   * Built: 07.03.2025, 23:32:05
	   * Licensed under MIT
	   *)

	@olton/farbe/dist/farbe.js:
	  (*!
	   * Farbe v1.0.9. Color Routines for JavaScript.
	   * Build: 18.05.2025, 14:44:28
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/html/dist/html.js:
	  (*!
	   * Html.js v0.15.1
	   * Description: Creating HTML Elements with JavaScript
	   * Build: 18.05.2025, 14:41:46
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/guardian/dist/guardian.js:
	  (*!
	   * Guardian v0.7.3. Data guard and validation library.
	   * Copyright 2025 Serhii Pimenov
	   * Licensed under MIT
	   * Build time: 18.05.2025 14:43:24
	   *)

	@olton/router/dist/router.js:
	  (*!
	   * Router v0.4.1 (Router ror SPA)
	   * Build: 18.05.2025, 14:39:57
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/model/dist/model.js:
	  (*!
	   * Model v0.18.1
	   * Build: 18.05.2025, 14:40:40
	   * Copyright 2012-2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)
	*/return am}G_();var rm=m0;function m0(){var l=[].slice.call(arguments),s=!1;typeof l[0]=="boolean"&&(s=l.shift());var a=l[0];if(lm(a))throw new Error("extendee must be an object");for(var u=l.slice(1),h=u.length,m=0;m<h;m++){var v=u[m];for(var w in v)if(Object.prototype.hasOwnProperty.call(v,w)){var S=v[w];if(s&&K_(S)){var D=Array.isArray(S)?[]:{};a[w]=m0(!0,Object.prototype.hasOwnProperty.call(a,w)&&!lm(a[w])?a[w]:D,S)}else a[w]=S}}return a}function K_(l){return Array.isArray(l)||{}.toString.call(l)=="[object Object]"}function lm(l){return!l||typeof l!="object"&&typeof l!="function"}function X_(l){return l&&l.__esModule?l.default:l}class um{on(s,a){return this._callbacks=this._callbacks||{},this._callbacks[s]||(this._callbacks[s]=[]),this._callbacks[s].push(a),this}emit(s,...a){this._callbacks=this._callbacks||{};let u=this._callbacks[s];if(u)for(let h of u)h.apply(this,a);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+s,{args:a})),this}makeEvent(s,a){let u={bubbles:!0,cancelable:!0,detail:a};if(typeof window.CustomEvent=="function")return new CustomEvent(s,u);var h=document.createEvent("CustomEvent");return h.initCustomEvent(s,u.bubbles,u.cancelable,u.detail),h}off(s,a){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let u=this._callbacks[s];if(!u)return this;if(arguments.length===1)return delete this._callbacks[s],this;for(let h=0;h<u.length;h++)if(u[h]===a){u.splice(h,1);break}return this}}var g0={};g0=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let Z_={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(l,s,a){if(a)return{dzuuid:a.file.upload.uuid,dzchunkindex:a.index,dztotalfilesize:a.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:a.file.upload.totalChunkCount,dzchunkbyteoffset:a.index*this.options.chunkSize}},accept(l,s){return s()},chunksUploaded:function(l,s){s()},binaryBody:!1,fallback(){let l;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let a of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(a.className)){l=a,a.className="dz-message";break}l||(l=Je.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(l));let s=l.getElementsByTagName("span")[0];return s&&(s.textContent!=null?s.textContent=this.options.dictFallbackMessage:s.innerText!=null&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(l,s,a,u){let h={srcX:0,srcY:0,srcWidth:l.width,srcHeight:l.height},m=l.width/l.height;s==null&&a==null?(s=h.srcWidth,a=h.srcHeight):s==null?s=a*m:a==null&&(a=s/m),s=Math.min(s,h.srcWidth),a=Math.min(a,h.srcHeight);let v=s/a;if(h.srcWidth>s||h.srcHeight>a)if(u==="crop")m>v?(h.srcHeight=l.height,h.srcWidth=h.srcHeight*v):(h.srcWidth=l.width,h.srcHeight=h.srcWidth/v);else if(u==="contain")m>v?a=s/m:s=a*m;else throw new Error(`Unknown resizeMethod '${u}'`);return h.srcX=(l.width-h.srcWidth)/2,h.srcY=(l.height-h.srcHeight)/2,h.trgWidth=s,h.trgHeight=a,h},transformFile(l,s){return(this.options.resizeWidth||this.options.resizeHeight)&&l.type.match(/image.*/)?this.resizeImage(l,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,s):s(l)},previewTemplate:X_(g0),drop(l){return this.element.classList.remove("dz-drag-hover")},dragstart(l){},dragend(l){return this.element.classList.remove("dz-drag-hover")},dragenter(l){return this.element.classList.add("dz-drag-hover")},dragover(l){return this.element.classList.add("dz-drag-hover")},dragleave(l){return this.element.classList.remove("dz-drag-hover")},paste(l){},reset(){return this.element.classList.remove("dz-started")},addedfile(l){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){l.previewElement=Je.createElement(this.options.previewTemplate.trim()),l.previewTemplate=l.previewElement,this.previewsContainer.appendChild(l.previewElement);for(var s of l.previewElement.querySelectorAll("[data-dz-name]"))s.textContent=l.name;for(s of l.previewElement.querySelectorAll("[data-dz-size]"))s.innerHTML=this.filesize(l.size);this.options.addRemoveLinks&&(l._removeLink=Je.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),l.previewElement.appendChild(l._removeLink));let a=u=>(u.preventDefault(),u.stopPropagation(),l.status===Je.UPLOADING?Je.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(l)):this.options.dictRemoveFileConfirmation?Je.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(l)):this.removeFile(l));for(let u of l.previewElement.querySelectorAll("[data-dz-remove]"))u.addEventListener("click",a)}},removedfile(l){return l.previewElement!=null&&l.previewElement.parentNode!=null&&l.previewElement.parentNode.removeChild(l.previewElement),this._updateMaxFilesReachedClass()},thumbnail(l,s){if(l.previewElement){l.previewElement.classList.remove("dz-file-preview");for(let a of l.previewElement.querySelectorAll("[data-dz-thumbnail]"))a.alt=l.name,a.src=s;return setTimeout(()=>l.previewElement.classList.add("dz-image-preview"),1)}},error(l,s){if(l.previewElement){l.previewElement.classList.add("dz-error"),typeof s!="string"&&s.error&&(s=s.error);for(let a of l.previewElement.querySelectorAll("[data-dz-errormessage]"))a.textContent=s}},errormultiple(){},processing(l){if(l.previewElement&&(l.previewElement.classList.add("dz-processing"),l._removeLink))return l._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(l,s,a){if(l.previewElement)for(let u of l.previewElement.querySelectorAll("[data-dz-uploadprogress]"))u.nodeName==="PROGRESS"?u.value=s:u.style.width=`${s}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(l){if(l.previewElement)return l.previewElement.classList.add("dz-success")},successmultiple(){},canceled(l){return this.emit("error",l,this.options.dictUploadCanceled)},canceledmultiple(){},complete(l){if(l._removeLink&&(l._removeLink.innerHTML=this.options.dictRemoveFile),l.previewElement)return l.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var J_=Z_;class Je extends um{static initClass(){this.prototype.Emitter=um,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(s=>s.accepted).map(s=>s)}getRejectedFiles(){return this.files.filter(s=>!s.accepted).map(s=>s)}getFilesWithStatus(s){return this.files.filter(a=>a.status===s).map(a=>a)}getQueuedFiles(){return this.getFilesWithStatus(Je.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(Je.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(Je.ADDED)}getActiveFiles(){return this.files.filter(s=>s.status===Je.UPLOADING||s.status===Je.QUEUED).map(s=>s)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(Je.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let u=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",Je.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:h}=this.hiddenFileInput;if(h.length)for(let m of h)this.addFile(m);this.emit("addedfiles",h),u()})};u()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let u of this.events)this.on(u,this.options[u]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",u=>this.emit("complete",u)),this.on("complete",u=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const s=function(u){if(u.dataTransfer.types){for(var h=0;h<u.dataTransfer.types.length;h++)if(u.dataTransfer.types[h]==="Files")return!0}return!1};let a=function(u){if(s(u))return u.stopPropagation(),u.preventDefault?u.preventDefault():u.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:u=>this.emit("dragstart",u),dragenter:u=>(a(u),this.emit("dragenter",u)),dragover:u=>{let h;try{h=u.dataTransfer.effectAllowed}catch{}return u.dataTransfer.dropEffect=h==="move"||h==="linkMove"?"move":"copy",a(u),this.emit("dragover",u)},dragleave:u=>this.emit("dragleave",u),drop:u=>(a(u),this.drop(u)),dragend:u=>this.emit("dragend",u)}}],this.clickableElements.forEach(u=>this.listeners.push({element:u,events:{click:h=>((u!==this.element||h.target===this.element||Je.elementInside(h.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,Je.instances.splice(Je.instances.indexOf(this),1)}updateTotalUploadProgress(){let s,a=0,u=0;if(this.getActiveFiles().length){for(let m of this.getActiveFiles())a+=m.upload.bytesSent,u+=m.upload.total;s=100*a/u}else s=100;return this.emit("totaluploadprogress",s,u,a)}_getParamName(s){return typeof this.options.paramName=="function"?this.options.paramName(s):`${this.options.paramName}${this.options.uploadMultiple?`[${s}]`:""}`}_renameFile(s){return typeof this.options.renameFile!="function"?s.name:this.options.renameFile(s)}getFallbackForm(){let s,a;if(s=this.getExistingFallback())return s;let u='<div class="dz-fallback">';this.options.dictFallbackText&&(u+=`<p>${this.options.dictFallbackText}</p>`),u+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let h=Je.createElement(u);return this.element.tagName!=="FORM"?(a=Je.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),a.appendChild(h)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),a??h}getExistingFallback(){let s=function(u){for(let h of u)if(/(^| )fallback($| )/.test(h.className))return h};for(let u of["div","form"]){var a;if(a=s(this.element.getElementsByTagName(u)))return a}}setupEventListeners(){return this.listeners.map(s=>(()=>{let a=[];for(let u in s.events){let h=s.events[u];a.push(s.element.addEventListener(u,h,!1))}return a})())}removeEventListeners(){return this.listeners.map(s=>(()=>{let a=[];for(let u in s.events){let h=s.events[u];a.push(s.element.removeEventListener(u,h,!1))}return a})())}disable(){return this.clickableElements.forEach(s=>s.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(s=>this.cancelUpload(s))}enable(){return delete this.disabled,this.clickableElements.forEach(s=>s.classList.add("dz-clickable")),this.setupEventListeners()}filesize(s){let a=0,u="b";if(s>0){let h=["tb","gb","mb","kb","b"];for(let m=0;m<h.length;m++){let v=h[m],w=Math.pow(this.options.filesizeBase,4-m)/10;if(s>=w){a=s/Math.pow(this.options.filesizeBase,4-m),u=v;break}}a=Math.round(10*a)/10}return`<strong>${a}</strong> ${this.options.dictFileSizeUnits[u]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(s){if(!s.dataTransfer)return;this.emit("drop",s);let a=[];for(let u=0;u<s.dataTransfer.files.length;u++)a[u]=s.dataTransfer.files[u];if(a.length){let{items:u}=s.dataTransfer;u&&u.length&&u[0].webkitGetAsEntry!=null?this._addFilesFromItems(u):this.handleFiles(a)}this.emit("addedfiles",a)}paste(s){if(n1(s!=null?s.clipboardData:void 0,u=>u.items)==null)return;this.emit("paste",s);let{items:a}=s.clipboardData;if(a.length)return this._addFilesFromItems(a)}handleFiles(s){for(let a of s)this.addFile(a)}_addFilesFromItems(s){return(()=>{let a=[];for(let h of s){var u;h.webkitGetAsEntry!=null&&(u=h.webkitGetAsEntry())?u.isFile?a.push(this.addFile(h.getAsFile())):u.isDirectory?a.push(this._addFilesFromDirectory(u,u.name)):a.push(void 0):h.getAsFile!=null&&(h.kind==null||h.kind==="file")?a.push(this.addFile(h.getAsFile())):a.push(void 0)}return a})()}_addFilesFromDirectory(s,a){let u=s.createReader(),h=v=>i1(console,"log",w=>w.log(v));var m=()=>u.readEntries(v=>{if(v.length>0){for(let w of v)w.isFile?w.file(S=>{if(!(this.options.ignoreHiddenFiles&&S.name.substring(0,1)==="."))return S.fullPath=`${a}/${S.name}`,this.addFile(S)}):w.isDirectory&&this._addFilesFromDirectory(w,`${a}/${w.name}`);m()}return null},h);return m()}accept(s,a){this.options.maxFilesize&&s.size>this.options.maxFilesize*1048576?a(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(s.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):Je.isValidFile(s,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(a(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",s)):this.options.accept.call(this,s,a):a(this.options.dictInvalidFileType)}addFile(s){s.upload={uuid:Je.uuidv4(),progress:0,total:s.size,bytesSent:0,filename:this._renameFile(s)},this.files.push(s),s.status=Je.ADDED,this.emit("addedfile",s),this._enqueueThumbnail(s),this.accept(s,a=>{a?(s.accepted=!1,this._errorProcessing([s],a)):(s.accepted=!0,this.options.autoQueue&&this.enqueueFile(s)),this._updateMaxFilesReachedClass()})}enqueueFiles(s){for(let a of s)this.enqueueFile(a);return null}enqueueFile(s){if(s.status===Je.ADDED&&s.accepted===!0){if(s.status=Je.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(s){if(this.options.createImageThumbnails&&s.type.match(/image.*/)&&s.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(s),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let s=this._thumbnailQueue.shift();return this.createThumbnail(s,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,a=>(this.emit("thumbnail",s,a),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(s){if(s.status===Je.UPLOADING&&this.cancelUpload(s),this.files=Q_(this.files,s),this.emit("removedfile",s),this.files.length===0)return this.emit("reset")}removeAllFiles(s){s==null&&(s=!1);for(let a of this.files.slice())(a.status!==Je.UPLOADING||s)&&this.removeFile(a);return null}resizeImage(s,a,u,h,m){return this.createThumbnail(s,a,u,h,!0,(v,w)=>{if(w==null)return m(s);{let{resizeMimeType:S}=this.options;S==null&&(S=s.type);let D=w.toDataURL(S,this.options.resizeQuality);return(S==="image/jpeg"||S==="image/jpg")&&(D=v0.restore(s.dataURL,D)),m(Je.dataURItoBlob(D))}})}createThumbnail(s,a,u,h,m,v){let w=new FileReader;w.onload=()=>{if(s.dataURL=w.result,s.type==="image/svg+xml"){v!=null&&v(w.result);return}this.createThumbnailFromUrl(s,a,u,h,m,v)},w.readAsDataURL(s)}displayExistingFile(s,a,u,h,m=!0){if(this.emit("addedfile",s),this.emit("complete",s),!m)this.emit("thumbnail",s,a),u&&u();else{let v=w=>{this.emit("thumbnail",s,w),u&&u()};s.dataURL=a,this.createThumbnailFromUrl(s,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,v,h)}}createThumbnailFromUrl(s,a,u,h,m,v,w){let S=document.createElement("img");return w&&(S.crossOrigin=w),m=getComputedStyle(document.body).imageOrientation=="from-image"?!1:m,S.onload=()=>{let D=A=>A(1);return typeof EXIF<"u"&&EXIF!==null&&m&&(D=A=>EXIF.getData(S,function(){return A(EXIF.getTag(this,"Orientation"))})),D(A=>{s.width=S.width,s.height=S.height;let O=this.options.resize.call(this,s,a,u,h),N=document.createElement("canvas"),V=N.getContext("2d");switch(N.width=O.trgWidth,N.height=O.trgHeight,A>4&&(N.width=O.trgHeight,N.height=O.trgWidth),A){case 2:V.translate(N.width,0),V.scale(-1,1);break;case 3:V.translate(N.width,N.height),V.rotate(Math.PI);break;case 4:V.translate(0,N.height),V.scale(1,-1);break;case 5:V.rotate(.5*Math.PI),V.scale(1,-1);break;case 6:V.rotate(.5*Math.PI),V.translate(0,-N.width);break;case 7:V.rotate(.5*Math.PI),V.translate(N.height,-N.width),V.scale(-1,1);break;case 8:V.rotate(-.5*Math.PI),V.translate(-N.height,0);break}t1(V,S,O.srcX!=null?O.srcX:0,O.srcY!=null?O.srcY:0,O.srcWidth,O.srcHeight,O.trgX!=null?O.trgX:0,O.trgY!=null?O.trgY:0,O.trgWidth,O.trgHeight);let Y=N.toDataURL("image/png");if(v!=null)return v(Y,N)})},v!=null&&(S.onerror=v),S.src=s.dataURL}processQueue(){let{parallelUploads:s}=this.options,a=this.getUploadingFiles().length,u=a;if(a>=s)return;let h=this.getQueuedFiles();if(h.length>0){if(this.options.uploadMultiple)return this.processFiles(h.slice(0,s-a));for(;u<s;){if(!h.length)return;this.processFile(h.shift()),u++}}}processFile(s){return this.processFiles([s])}processFiles(s){for(let a of s)a.processing=!0,a.status=Je.UPLOADING,this.emit("processing",a);return this.options.uploadMultiple&&this.emit("processingmultiple",s),this.uploadFiles(s)}_getFilesWithXhr(s){return this.files.filter(a=>a.xhr===s).map(a=>a)}cancelUpload(s){if(s.status===Je.UPLOADING){let a=this._getFilesWithXhr(s.xhr);for(let u of a)u.status=Je.CANCELED;typeof s.xhr<"u"&&s.xhr.abort();for(let u of a)this.emit("canceled",u);this.options.uploadMultiple&&this.emit("canceledmultiple",a)}else(s.status===Je.ADDED||s.status===Je.QUEUED)&&(s.status=Je.CANCELED,this.emit("canceled",s),this.options.uploadMultiple&&this.emit("canceledmultiple",[s]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(s,...a){return typeof s=="function"?s.apply(this,a):s}uploadFile(s){return this.uploadFiles([s])}uploadFiles(s){this._transformFiles(s,a=>{if(this.options.chunking){let u=a[0];s[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||u.size>this.options.chunkSize),s[0].upload.totalChunkCount=Math.ceil(u.size/this.options.chunkSize)}if(s[0].upload.chunked){let u=s[0],h=a[0];u.upload.chunks=[];let m=()=>{let v=0;for(;u.upload.chunks[v]!==void 0;)v++;if(v>=u.upload.totalChunkCount)return;let w=v*this.options.chunkSize,S=Math.min(w+this.options.chunkSize,h.size),D={name:this._getParamName(0),data:h.webkitSlice?h.webkitSlice(w,S):h.slice(w,S),filename:u.upload.filename,chunkIndex:v};u.upload.chunks[v]={file:u,index:v,dataBlock:D,status:Je.UPLOADING,progress:0,retries:0},this._uploadData(s,[D])};if(u.upload.finishedChunkUpload=(v,w)=>{let S=!0;v.status=Je.SUCCESS,v.dataBlock=null,v.response=v.xhr.responseText,v.responseHeaders=v.xhr.getAllResponseHeaders(),v.xhr=null;for(let D=0;D<u.upload.totalChunkCount;D++){if(u.upload.chunks[D]===void 0)return m();u.upload.chunks[D].status!==Je.SUCCESS&&(S=!1)}S&&this.options.chunksUploaded(u,()=>{this._finished(s,w,null)})},this.options.parallelChunkUploads)for(let v=0;v<u.upload.totalChunkCount;v++)m();else m()}else{let u=[];for(let h=0;h<s.length;h++)u[h]={name:this._getParamName(h),data:a[h],filename:s[h].upload.filename};this._uploadData(s,u)}})}_getChunk(s,a){for(let u=0;u<s.upload.totalChunkCount;u++)if(s.upload.chunks[u]!==void 0&&s.upload.chunks[u].xhr===a)return s.upload.chunks[u]}_uploadData(s,a){let u=new XMLHttpRequest;for(let D of s)D.xhr=u;s[0].upload.chunked&&(s[0].upload.chunks[a[0].chunkIndex].xhr=u);let h=this.resolveOption(this.options.method,s,a),m=this.resolveOption(this.options.url,s,a);u.open(h,m,!0),this.resolveOption(this.options.timeout,s)&&(u.timeout=this.resolveOption(this.options.timeout,s)),u.withCredentials=!!this.options.withCredentials,u.onload=D=>{this._finishedUploading(s,u,D)},u.ontimeout=()=>{this._handleUploadError(s,u,`Request timedout after ${this.options.timeout/1e3} seconds`)},u.onerror=()=>{this._handleUploadError(s,u)};let w=u.upload!=null?u.upload:u;w.onprogress=D=>this._updateFilesUploadProgress(s,u,D);let S=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(S["Content-Type"]=s[0].type),this.options.headers&&rm(S,this.options.headers);for(let D in S){let A=S[D];A&&u.setRequestHeader(D,A)}if(this.options.binaryBody){for(let D of s)this.emit("sending",D,u);this.options.uploadMultiple&&this.emit("sendingmultiple",s,u),this.submitRequest(u,null,s)}else{let D=new FormData;if(this.options.params){let A=this.options.params;typeof A=="function"&&(A=A.call(this,s,u,s[0].upload.chunked?this._getChunk(s[0],u):null));for(let O in A){let N=A[O];if(Array.isArray(N))for(let V=0;V<N.length;V++)D.append(O,N[V]);else D.append(O,N)}}for(let A of s)this.emit("sending",A,u,D);this.options.uploadMultiple&&this.emit("sendingmultiple",s,u,D),this._addFormElementData(D);for(let A=0;A<a.length;A++){let O=a[A];D.append(O.name,O.data,O.filename)}this.submitRequest(u,D,s)}}_transformFiles(s,a){let u=[],h=0;for(let m=0;m<s.length;m++)this.options.transformFile.call(this,s[m],v=>{u[m]=v,++h===s.length&&a(u)})}_addFormElementData(s){if(this.element.tagName==="FORM")for(let a of this.element.querySelectorAll("input, textarea, select, button")){let u=a.getAttribute("name"),h=a.getAttribute("type");if(h&&(h=h.toLowerCase()),!(typeof u>"u"||u===null))if(a.tagName==="SELECT"&&a.hasAttribute("multiple"))for(let m of a.options)m.selected&&s.append(u,m.value);else(!h||h!=="checkbox"&&h!=="radio"||a.checked)&&s.append(u,a.value)}}_updateFilesUploadProgress(s,a,u){if(s[0].upload.chunked){let h=s[0],m=this._getChunk(h,a);u?(m.progress=100*u.loaded/u.total,m.total=u.total,m.bytesSent=u.loaded):(m.progress=100,m.bytesSent=m.total),h.upload.progress=0,h.upload.total=0,h.upload.bytesSent=0;for(let v=0;v<h.upload.totalChunkCount;v++)h.upload.chunks[v]&&typeof h.upload.chunks[v].progress<"u"&&(h.upload.progress+=h.upload.chunks[v].progress,h.upload.total+=h.upload.chunks[v].total,h.upload.bytesSent+=h.upload.chunks[v].bytesSent);h.upload.progress=h.upload.progress/h.upload.totalChunkCount,this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent)}else for(let h of s)h.upload.total&&h.upload.bytesSent&&h.upload.bytesSent==h.upload.total||(u?(h.upload.progress=100*u.loaded/u.total,h.upload.total=u.total,h.upload.bytesSent=u.loaded):(h.upload.progress=100,h.upload.bytesSent=h.upload.total),this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent))}_finishedUploading(s,a,u){let h;if(s[0].status!==Je.CANCELED&&a.readyState===4){if(a.responseType!=="arraybuffer"&&a.responseType!=="blob"&&(h=a.responseText,a.getResponseHeader("content-type")&&~a.getResponseHeader("content-type").indexOf("application/json")))try{h=JSON.parse(h)}catch(m){u=m,h="Invalid JSON response from server."}this._updateFilesUploadProgress(s,a),200<=a.status&&a.status<300?s[0].upload.chunked?s[0].upload.finishedChunkUpload(this._getChunk(s[0],a),h):this._finished(s,h,u):this._handleUploadError(s,a,h)}}_handleUploadError(s,a,u){if(s[0].status!==Je.CANCELED){if(s[0].upload.chunked&&this.options.retryChunks){let h=this._getChunk(s[0],a);if(h.retries++<this.options.retryChunksLimit){this._uploadData(s,[h.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(s,u||this.options.dictResponseError.replace("{{statusCode}}",a.status),a)}}submitRequest(s,a,u){if(s.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(u[0].upload.chunked){const h=this._getChunk(u[0],s);s.send(h.dataBlock.data)}else s.send(u[0]);else s.send(a)}_finished(s,a,u){for(let h of s)h.status=Je.SUCCESS,this.emit("success",h,a,u),this.emit("complete",h);if(this.options.uploadMultiple&&(this.emit("successmultiple",s,a,u),this.emit("completemultiple",s)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(s,a,u){for(let h of s)h.status=Je.ERROR,this.emit("error",h,a,u),this.emit("complete",h);if(this.options.uploadMultiple&&(this.emit("errormultiple",s,a,u),this.emit("completemultiple",s)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){let a=Math.random()*16|0;return(s==="x"?a:a&3|8).toString(16)})}constructor(s,a){super();let u,h;if(this.element=s,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");Je.instances.push(this),this.element.dropzone=this;let m=(h=Je.optionsForElement(this.element))!=null?h:{};if(this.options=rm(!0,{},J_,m,a??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!Je.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=v=>this.options.renameFilename.call(this,v.name,v)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(u=this.getExistingFallback())&&u.parentNode&&u.parentNode.removeChild(u),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=Je.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=Je.getElements(this.options.clickable,"clickable")),this.init()}}Je.initClass();Je.options={};Je.optionsForElement=function(l){if(l.getAttribute("id"))return Je.options[$_(l.getAttribute("id"))]};Je.instances=[];Je.forElement=function(l){if(typeof l=="string"&&(l=document.querySelector(l)),(l!=null?l.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return l.dropzone};Je.discover=function(){let l;if(document.querySelectorAll)l=document.querySelectorAll(".dropzone");else{l=[];let s=a=>(()=>{let u=[];for(let h of a)/(^| )dropzone($| )/.test(h.className)?u.push(l.push(h)):u.push(void 0);return u})();s(document.getElementsByTagName("div")),s(document.getElementsByTagName("form"))}return(()=>{let s=[];for(let a of l)Je.optionsForElement(a)!==!1?s.push(new Je(a)):s.push(void 0);return s})()};Je.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Je.isBrowserSupported=function(){let l=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))l=!1;else{Je.blacklistedBrowsers!==void 0&&(Je.blockedBrowsers=Je.blacklistedBrowsers);for(let s of Je.blockedBrowsers)if(s.test(navigator.userAgent)){l=!1;continue}}else l=!1;return l};Je.dataURItoBlob=function(l){let s=atob(l.split(",")[1]),a=l.split(",")[0].split(":")[1].split(";")[0],u=new ArrayBuffer(s.length),h=new Uint8Array(u);for(let m=0,v=s.length,w=0<=v;w?m<=v:m>=v;w?m++:m--)h[m]=s.charCodeAt(m);return new Blob([u],{type:a})};const Q_=(l,s)=>l.filter(a=>a!==s).map(a=>a),$_=l=>l.replace(/[\-_](\w)/g,s=>s.charAt(1).toUpperCase());Je.createElement=function(l){let s=document.createElement("div");return s.innerHTML=l,s.childNodes[0]};Je.elementInside=function(l,s){if(l===s)return!0;for(;l=l.parentNode;)if(l===s)return!0;return!1};Je.getElement=function(l,s){let a;if(typeof l=="string"?a=document.querySelector(l):l.nodeType!=null&&(a=l),a==null)throw new Error(`Invalid \`${s}\` option provided. Please provide a CSS selector or a plain HTML element.`);return a};Je.getElements=function(l,s){let a,u;if(l instanceof Array){u=[];try{for(a of l)u.push(this.getElement(a,s))}catch{u=null}}else if(typeof l=="string"){u=[];for(a of document.querySelectorAll(l))u.push(a)}else l.nodeType!=null&&(u=[l]);if(u==null||!u.length)throw new Error(`Invalid \`${s}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return u};Je.confirm=function(l,s,a){if(window.confirm(l))return s();if(a!=null)return a()};Je.isValidFile=function(l,s){if(!s)return!0;s=s.split(",");let a=l.type,u=a.replace(/\/.*$/,"");for(let h of s)if(h=h.trim(),h.charAt(0)==="."){if(l.name.toLowerCase().indexOf(h.toLowerCase(),l.name.length-h.length)!==-1)return!0}else if(/\/\*$/.test(h)){if(u===h.replace(/\/.*$/,""))return!0}else if(a===h)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(l){return this.each(function(){return new Je(this,l)})});Je.ADDED="added";Je.QUEUED="queued";Je.ACCEPTED=Je.QUEUED;Je.UPLOADING="uploading";Je.PROCESSING=Je.UPLOADING;Je.CANCELED="canceled";Je.ERROR="error";Je.SUCCESS="success";let e1=function(l){l.naturalWidth;let s=l.naturalHeight,a=document.createElement("canvas");a.width=1,a.height=s;let u=a.getContext("2d");u.drawImage(l,0,0);let{data:h}=u.getImageData(1,0,1,s),m=0,v=s,w=s;for(;w>m;)h[(w-1)*4+3]===0?v=w:m=w,w=v+m>>1;let S=w/s;return S===0?1:S};var t1=function(l,s,a,u,h,m,v,w,S,D){let A=e1(s);return l.drawImage(s,a,u,h,m,v,w,S,D/A)};class v0{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(s){let a="",u,h,m="",v,w,S,D="",A=0;for(;u=s[A++],h=s[A++],m=s[A++],v=u>>2,w=(u&3)<<4|h>>4,S=(h&15)<<2|m>>6,D=m&63,isNaN(h)?S=D=64:isNaN(m)&&(D=64),a=a+this.KEY_STR.charAt(v)+this.KEY_STR.charAt(w)+this.KEY_STR.charAt(S)+this.KEY_STR.charAt(D),u=h=m="",v=w=S=D="",A<s.length;);return a}static restore(s,a){if(!s.match("data:image/jpeg;base64,"))return a;let u=this.decode64(s.replace("data:image/jpeg;base64,","")),h=this.slice2Segments(u),m=this.exifManipulation(a,h);return`data:image/jpeg;base64,${this.encode64(m)}`}static exifManipulation(s,a){let u=this.getExifArray(a),h=this.insertExif(s,u);return new Uint8Array(h)}static getExifArray(s){let a,u=0;for(;u<s.length;){if(a=s[u],a[0]===255&a[1]===225)return a;u++}return[]}static insertExif(s,a){let u=s.replace("data:image/jpeg;base64,",""),h=this.decode64(u),m=h.indexOf(255,3),v=h.slice(0,m),w=h.slice(m),S=v;return S=S.concat(a),S=S.concat(w),S}static slice2Segments(s){let a=0,u=[];for(;;){var h;if(s[a]===255&s[a+1]===218)break;if(s[a]===255&s[a+1]===216)a+=2;else{h=s[a+2]*256+s[a+3];let m=a+h+2,v=s.slice(a,m);u.push(v),a=m}if(a>s.length)break}return u}static decode64(s){let a,u,h="",m,v,w,S="",D=0,A=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(s)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),s=s.replace(/[^A-Za-z0-9\+\/\=]/g,"");m=this.KEY_STR.indexOf(s.charAt(D++)),v=this.KEY_STR.indexOf(s.charAt(D++)),w=this.KEY_STR.indexOf(s.charAt(D++)),S=this.KEY_STR.indexOf(s.charAt(D++)),a=m<<2|v>>4,u=(v&15)<<4|w>>2,h=(w&3)<<6|S,A.push(a),w!==64&&A.push(u),S!==64&&A.push(h),a=u=h="",m=v=w=S="",D<s.length;);return A}}v0.initClass();function n1(l,s){return typeof l<"u"&&l!==null?s(l):void 0}function i1(l,s,a){if(typeof l<"u"&&l!==null&&typeof l[s]=="function")return a(l,s)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nc(l){return l+.5|0}const _o=(l,s,a)=>Math.max(Math.min(l,a),s);function Bu(l){return _o(nc(l*2.55),0,255)}function ko(l){return _o(nc(l*255),0,255)}function Oa(l){return _o(nc(l/2.55)/100,0,1)}function cm(l){return _o(nc(l*100),0,100)}const ps={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$f=[..."0123456789ABCDEF"],s1=l=>$f[l&15],a1=l=>$f[(l&240)>>4]+$f[l&15],Nd=l=>(l&240)>>4===(l&15),o1=l=>Nd(l.r)&&Nd(l.g)&&Nd(l.b)&&Nd(l.a);function r1(l){var s=l.length,a;return l[0]==="#"&&(s===4||s===5?a={r:255&ps[l[1]]*17,g:255&ps[l[2]]*17,b:255&ps[l[3]]*17,a:s===5?ps[l[4]]*17:255}:(s===7||s===9)&&(a={r:ps[l[1]]<<4|ps[l[2]],g:ps[l[3]]<<4|ps[l[4]],b:ps[l[5]]<<4|ps[l[6]],a:s===9?ps[l[7]]<<4|ps[l[8]]:255})),a}const l1=(l,s)=>l<255?s(l):"";function u1(l){var s=o1(l)?s1:a1;return l?"#"+s(l.r)+s(l.g)+s(l.b)+l1(l.a,s):void 0}const c1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function b0(l,s,a){const u=s*Math.min(a,1-a),h=(m,v=(m+l/30)%12)=>a-u*Math.max(Math.min(v-3,9-v,1),-1);return[h(0),h(8),h(4)]}function d1(l,s,a){const u=(h,m=(h+l/60)%6)=>a-a*s*Math.max(Math.min(m,4-m,1),0);return[u(5),u(3),u(1)]}function h1(l,s,a){const u=b0(l,1,.5);let h;for(s+a>1&&(h=1/(s+a),s*=h,a*=h),h=0;h<3;h++)u[h]*=1-s-a,u[h]+=s;return u}function f1(l,s,a,u,h){return l===h?(s-a)/u+(s<a?6:0):s===h?(a-l)/u+2:(l-s)/u+4}function yp(l){const a=l.r/255,u=l.g/255,h=l.b/255,m=Math.max(a,u,h),v=Math.min(a,u,h),w=(m+v)/2;let S,D,A;return m!==v&&(A=m-v,D=w>.5?A/(2-m-v):A/(m+v),S=f1(a,u,h,A,m),S=S*60+.5),[S|0,D||0,w]}function _p(l,s,a,u){return(Array.isArray(s)?l(s[0],s[1],s[2]):l(s,a,u)).map(ko)}function Cp(l,s,a){return _p(b0,l,s,a)}function p1(l,s,a){return _p(h1,l,s,a)}function m1(l,s,a){return _p(d1,l,s,a)}function y0(l){return(l%360+360)%360}function g1(l){const s=c1.exec(l);let a=255,u;if(!s)return;s[5]!==u&&(a=s[6]?Bu(+s[5]):ko(+s[5]));const h=y0(+s[2]),m=+s[3]/100,v=+s[4]/100;return s[1]==="hwb"?u=p1(h,m,v):s[1]==="hsv"?u=m1(h,m,v):u=Cp(h,m,v),{r:u[0],g:u[1],b:u[2],a}}function v1(l,s){var a=yp(l);a[0]=y0(a[0]+s),a=Cp(a),l.r=a[0],l.g=a[1],l.b=a[2]}function b1(l){if(!l)return;const s=yp(l),a=s[0],u=cm(s[1]),h=cm(s[2]);return l.a<255?`hsla(${a}, ${u}%, ${h}%, ${Oa(l.a)})`:`hsl(${a}, ${u}%, ${h}%)`}const dm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function y1(){const l={},s=Object.keys(hm),a=Object.keys(dm);let u,h,m,v,w;for(u=0;u<s.length;u++){for(v=w=s[u],h=0;h<a.length;h++)m=a[h],w=w.replace(m,dm[m]);m=parseInt(hm[v],16),l[w]=[m>>16&255,m>>8&255,m&255]}return l}let Rd;function _1(l){Rd||(Rd=y1(),Rd.transparent=[0,0,0,0]);const s=Rd[l.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:s.length===4?s[3]:255}}const C1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function w1(l){const s=C1.exec(l);let a=255,u,h,m;if(s){if(s[7]!==u){const v=+s[7];a=s[8]?Bu(v):_o(v*255,0,255)}return u=+s[1],h=+s[3],m=+s[5],u=255&(s[2]?Bu(u):_o(u,0,255)),h=255&(s[4]?Bu(h):_o(h,0,255)),m=255&(s[6]?Bu(m):_o(m,0,255)),{r:u,g:h,b:m,a}}}function x1(l){return l&&(l.a<255?`rgba(${l.r}, ${l.g}, ${l.b}, ${Oa(l.a)})`:`rgb(${l.r}, ${l.g}, ${l.b})`)}const Of=l=>l<=.0031308?l*12.92:Math.pow(l,1/2.4)*1.055-.055,$r=l=>l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4);function k1(l,s,a){const u=$r(Oa(l.r)),h=$r(Oa(l.g)),m=$r(Oa(l.b));return{r:ko(Of(u+a*($r(Oa(s.r))-u))),g:ko(Of(h+a*($r(Oa(s.g))-h))),b:ko(Of(m+a*($r(Oa(s.b))-m))),a:l.a+a*(s.a-l.a)}}function zd(l,s,a){if(l){let u=yp(l);u[s]=Math.max(0,Math.min(u[s]+u[s]*a,s===0?360:1)),u=Cp(u),l.r=u[0],l.g=u[1],l.b=u[2]}}function _0(l,s){return l&&Object.assign(s||{},l)}function fm(l){var s={r:0,g:0,b:0,a:255};return Array.isArray(l)?l.length>=3&&(s={r:l[0],g:l[1],b:l[2],a:255},l.length>3&&(s.a=ko(l[3]))):(s=_0(l,{r:0,g:0,b:0,a:1}),s.a=ko(s.a)),s}function S1(l){return l.charAt(0)==="r"?w1(l):g1(l)}class Xu{constructor(s){if(s instanceof Xu)return s;const a=typeof s;let u;a==="object"?u=fm(s):a==="string"&&(u=r1(s)||_1(s)||S1(s)),this._rgb=u,this._valid=!!u}get valid(){return this._valid}get rgb(){var s=_0(this._rgb);return s&&(s.a=Oa(s.a)),s}set rgb(s){this._rgb=fm(s)}rgbString(){return this._valid?x1(this._rgb):void 0}hexString(){return this._valid?u1(this._rgb):void 0}hslString(){return this._valid?b1(this._rgb):void 0}mix(s,a){if(s){const u=this.rgb,h=s.rgb;let m;const v=a===m?.5:a,w=2*v-1,S=u.a-h.a,D=((w*S===-1?w:(w+S)/(1+w*S))+1)/2;m=1-D,u.r=255&D*u.r+m*h.r+.5,u.g=255&D*u.g+m*h.g+.5,u.b=255&D*u.b+m*h.b+.5,u.a=v*u.a+(1-v)*h.a,this.rgb=u}return this}interpolate(s,a){return s&&(this._rgb=k1(this._rgb,s._rgb,a)),this}clone(){return new Xu(this.rgb)}alpha(s){return this._rgb.a=ko(s),this}clearer(s){const a=this._rgb;return a.a*=1-s,this}greyscale(){const s=this._rgb,a=nc(s.r*.3+s.g*.59+s.b*.11);return s.r=s.g=s.b=a,this}opaquer(s){const a=this._rgb;return a.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return zd(this._rgb,2,s),this}darken(s){return zd(this._rgb,2,-s),this}saturate(s){return zd(this._rgb,1,s),this}desaturate(s){return zd(this._rgb,1,-s),this}rotate(s){return v1(this._rgb,s),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fa(){}const D1=(()=>{let l=0;return()=>l++})();function Ft(l){return l==null}function cn(l){if(Array.isArray&&Array.isArray(l))return!0;const s=Object.prototype.toString.call(l);return s.slice(0,7)==="[object"&&s.slice(-6)==="Array]"}function Lt(l){return l!==null&&Object.prototype.toString.call(l)==="[object Object]"}function On(l){return(typeof l=="number"||l instanceof Number)&&isFinite(+l)}function is(l,s){return On(l)?l:s}function At(l,s){return typeof l>"u"?s:l}const T1=(l,s)=>typeof l=="string"&&l.endsWith("%")?parseFloat(l)/100:+l/s,C0=(l,s)=>typeof l=="string"&&l.endsWith("%")?parseFloat(l)/100*s:+l;function Jt(l,s,a){if(l&&typeof l.call=="function")return l.apply(a,s)}function Gt(l,s,a,u){let h,m,v;if(cn(l))for(m=l.length,h=0;h<m;h++)s.call(a,l[h],h);else if(Lt(l))for(v=Object.keys(l),m=v.length,h=0;h<m;h++)s.call(a,l[v[h]],v[h])}function ch(l,s){let a,u,h,m;if(!l||!s||l.length!==s.length)return!1;for(a=0,u=l.length;a<u;++a)if(h=l[a],m=s[a],h.datasetIndex!==m.datasetIndex||h.index!==m.index)return!1;return!0}function dh(l){if(cn(l))return l.map(dh);if(Lt(l)){const s=Object.create(null),a=Object.keys(l),u=a.length;let h=0;for(;h<u;++h)s[a[h]]=dh(l[a[h]]);return s}return l}function w0(l){return["__proto__","prototype","constructor"].indexOf(l)===-1}function E1(l,s,a,u){if(!w0(l))return;const h=s[l],m=a[l];Lt(h)&&Lt(m)?la(h,m,u):s[l]=dh(m)}function la(l,s,a){const u=cn(s)?s:[s],h=u.length;if(!Lt(l))return l;a=a||{};const m=a.merger||E1;let v;for(let w=0;w<h;++w){if(v=u[w],!Lt(v))continue;const S=Object.keys(v);for(let D=0,A=S.length;D<A;++D)m(S[D],l,v,a)}return l}function Hu(l,s){return la(l,s,{merger:A1})}function A1(l,s,a){if(!w0(l))return;const u=s[l],h=a[l];Lt(u)&&Lt(h)?Hu(u,h):Object.prototype.hasOwnProperty.call(s,l)||(s[l]=dh(h))}const pm={"":l=>l,x:l=>l.x,y:l=>l.y};function F1(l){const s=l.split("."),a=[];let u="";for(const h of s)u+=h,u.endsWith("\\")?u=u.slice(0,-1)+".":(a.push(u),u="");return a}function I1(l){const s=F1(l);return a=>{for(const u of s){if(u==="")break;a=a&&a[u]}return a}}function So(l,s){return(pm[s]||(pm[s]=I1(s)))(l)}function wp(l){return l.charAt(0).toUpperCase()+l.slice(1)}const Zu=l=>typeof l<"u",Do=l=>typeof l=="function",mm=(l,s)=>{if(l.size!==s.size)return!1;for(const a of l)if(!s.has(a))return!1;return!0};function L1(l){return l.type==="mouseup"||l.type==="click"||l.type==="contextmenu"}const fn=Math.PI,dn=2*fn,O1=dn+fn,hh=Number.POSITIVE_INFINITY,P1=fn/180,zn=fn/2,or=fn/4,gm=fn*2/3,Co=Math.log10,ra=Math.sign;function Vu(l,s,a){return Math.abs(l-s)<a}function vm(l){const s=Math.round(l);l=Vu(l,s,l/1e3)?s:l;const a=Math.pow(10,Math.floor(Co(l))),u=l/a;return(u<=1?1:u<=2?2:u<=5?5:10)*a}function B1(l){const s=[],a=Math.sqrt(l);let u;for(u=1;u<a;u++)l%u===0&&(s.push(u),s.push(l/u));return a===(a|0)&&s.push(a),s.sort((h,m)=>h-m).pop(),s}function N1(l){return typeof l=="symbol"||typeof l=="object"&&l!==null&&!(Symbol.toPrimitive in l||"toString"in l||"valueOf"in l)}function sl(l){return!N1(l)&&!isNaN(parseFloat(l))&&isFinite(l)}function R1(l,s){const a=Math.round(l);return a-s<=l&&a+s>=l}function x0(l,s,a){let u,h,m;for(u=0,h=l.length;u<h;u++)m=l[u][a],isNaN(m)||(s.min=Math.min(s.min,m),s.max=Math.max(s.max,m))}function Ls(l){return l*(fn/180)}function xp(l){return l*(180/fn)}function bm(l){if(!On(l))return;let s=1,a=0;for(;Math.round(l*s)/s!==l;)s*=10,a++;return a}function k0(l,s){const a=s.x-l.x,u=s.y-l.y,h=Math.sqrt(a*a+u*u);let m=Math.atan2(u,a);return m<-.5*fn&&(m+=dn),{angle:m,distance:h}}function ep(l,s){return Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2))}function z1(l,s){return(l-s+O1)%dn-fn}function ss(l){return(l%dn+dn)%dn}function Ju(l,s,a,u){const h=ss(l),m=ss(s),v=ss(a),w=ss(m-h),S=ss(v-h),D=ss(h-m),A=ss(h-v);return h===m||h===v||u&&m===v||w>S&&D<A}function ai(l,s,a){return Math.max(s,Math.min(a,l))}function H1(l){return ai(l,-32768,32767)}function Ba(l,s,a,u=1e-6){return l>=Math.min(s,a)-u&&l<=Math.max(s,a)+u}function kp(l,s,a){a=a||(v=>l[v]<s);let u=l.length-1,h=0,m;for(;u-h>1;)m=h+u>>1,a(m)?h=m:u=m;return{lo:h,hi:u}}const Na=(l,s,a,u)=>kp(l,a,u?h=>{const m=l[h][s];return m<a||m===a&&l[h+1][s]===a}:h=>l[h][s]<a),V1=(l,s,a)=>kp(l,a,u=>l[u][s]>=a);function M1(l,s,a){let u=0,h=l.length;for(;u<h&&l[u]<s;)u++;for(;h>u&&l[h-1]>a;)h--;return u>0||h<l.length?l.slice(u,h):l}const S0=["push","pop","shift","splice","unshift"];function W1(l,s){if(l._chartjs){l._chartjs.listeners.push(s);return}Object.defineProperty(l,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),S0.forEach(a=>{const u="_onData"+wp(a),h=l[a];Object.defineProperty(l,a,{configurable:!0,enumerable:!1,value(...m){const v=h.apply(this,m);return l._chartjs.listeners.forEach(w=>{typeof w[u]=="function"&&w[u](...m)}),v}})})}function ym(l,s){const a=l._chartjs;if(!a)return;const u=a.listeners,h=u.indexOf(s);h!==-1&&u.splice(h,1),!(u.length>0)&&(S0.forEach(m=>{delete l[m]}),delete l._chartjs)}function D0(l){const s=new Set(l);return s.size===l.length?l:Array.from(s)}const T0=function(){return typeof window>"u"?function(l){return l()}:window.requestAnimationFrame}();function E0(l,s){let a=[],u=!1;return function(...h){a=h,u||(u=!0,T0.call(window,()=>{u=!1,l.apply(s,a)}))}}function j1(l,s){let a;return function(...u){return s?(clearTimeout(a),a=setTimeout(l,s,u)):l.apply(this,u),s}}const Sp=l=>l==="start"?"left":l==="end"?"right":"center",Di=(l,s,a)=>l==="start"?s:l==="end"?a:(s+a)/2,U1=(l,s,a,u)=>l===(u?"left":"right")?a:l==="center"?(s+a)/2:s;function A0(l,s,a){const u=s.length;let h=0,m=u;if(l._sorted){const{iScale:v,vScale:w,_parsed:S}=l,D=l.dataset&&l.dataset.options?l.dataset.options.spanGaps:null,A=v.axis,{min:O,max:N,minDefined:V,maxDefined:Y}=v.getUserBounds();if(V){if(h=Math.min(Na(S,A,O).lo,a?u:Na(s,A,v.getPixelForValue(O)).lo),D){const $=S.slice(0,h+1).reverse().findIndex(te=>!Ft(te[w.axis]));h-=Math.max(0,$)}h=ai(h,0,u-1)}if(Y){let $=Math.max(Na(S,v.axis,N,!0).hi+1,a?0:Na(s,A,v.getPixelForValue(N),!0).hi+1);if(D){const te=S.slice($-1).findIndex(X=>!Ft(X[w.axis]));$+=Math.max(0,te)}m=ai($,h,u)-h}else m=u-h}return{start:h,count:m}}function F0(l){const{xScale:s,yScale:a,_scaleRanges:u}=l,h={xmin:s.min,xmax:s.max,ymin:a.min,ymax:a.max};if(!u)return l._scaleRanges=h,!0;const m=u.xmin!==s.min||u.xmax!==s.max||u.ymin!==a.min||u.ymax!==a.max;return Object.assign(u,h),m}const Hd=l=>l===0||l===1,_m=(l,s,a)=>-(Math.pow(2,10*(l-=1))*Math.sin((l-s)*dn/a)),Cm=(l,s,a)=>Math.pow(2,-10*l)*Math.sin((l-s)*dn/a)+1,Mu={linear:l=>l,easeInQuad:l=>l*l,easeOutQuad:l=>-l*(l-2),easeInOutQuad:l=>(l/=.5)<1?.5*l*l:-.5*(--l*(l-2)-1),easeInCubic:l=>l*l*l,easeOutCubic:l=>(l-=1)*l*l+1,easeInOutCubic:l=>(l/=.5)<1?.5*l*l*l:.5*((l-=2)*l*l+2),easeInQuart:l=>l*l*l*l,easeOutQuart:l=>-((l-=1)*l*l*l-1),easeInOutQuart:l=>(l/=.5)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2),easeInQuint:l=>l*l*l*l*l,easeOutQuint:l=>(l-=1)*l*l*l*l+1,easeInOutQuint:l=>(l/=.5)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2),easeInSine:l=>-Math.cos(l*zn)+1,easeOutSine:l=>Math.sin(l*zn),easeInOutSine:l=>-.5*(Math.cos(fn*l)-1),easeInExpo:l=>l===0?0:Math.pow(2,10*(l-1)),easeOutExpo:l=>l===1?1:-Math.pow(2,-10*l)+1,easeInOutExpo:l=>Hd(l)?l:l<.5?.5*Math.pow(2,10*(l*2-1)):.5*(-Math.pow(2,-10*(l*2-1))+2),easeInCirc:l=>l>=1?l:-(Math.sqrt(1-l*l)-1),easeOutCirc:l=>Math.sqrt(1-(l-=1)*l),easeInOutCirc:l=>(l/=.5)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1),easeInElastic:l=>Hd(l)?l:_m(l,.075,.3),easeOutElastic:l=>Hd(l)?l:Cm(l,.075,.3),easeInOutElastic(l){return Hd(l)?l:l<.5?.5*_m(l*2,.1125,.45):.5+.5*Cm(l*2-1,.1125,.45)},easeInBack(l){return l*l*((1.70158+1)*l-1.70158)},easeOutBack(l){return(l-=1)*l*((1.70158+1)*l+1.70158)+1},easeInOutBack(l){let s=1.70158;return(l/=.5)<1?.5*(l*l*(((s*=1.525)+1)*l-s)):.5*((l-=2)*l*(((s*=1.525)+1)*l+s)+2)},easeInBounce:l=>1-Mu.easeOutBounce(1-l),easeOutBounce(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375},easeInOutBounce:l=>l<.5?Mu.easeInBounce(l*2)*.5:Mu.easeOutBounce(l*2-1)*.5+.5};function Dp(l){if(l&&typeof l=="object"){const s=l.toString();return s==="[object CanvasPattern]"||s==="[object CanvasGradient]"}return!1}function wm(l){return Dp(l)?l:new Xu(l)}function Pf(l){return Dp(l)?l:new Xu(l).saturate(.5).darken(.1).hexString()}const q1=["x","y","borderWidth","radius","tension"],Y1=["color","borderColor","backgroundColor"];function G1(l){l.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),l.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>s!=="onProgress"&&s!=="onComplete"&&s!=="fn"}),l.set("animations",{colors:{type:"color",properties:Y1},numbers:{type:"number",properties:q1}}),l.describe("animations",{_fallback:"animation"}),l.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>s|0}}}})}function K1(l){l.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const xm=new Map;function X1(l,s){s=s||{};const a=l+JSON.stringify(s);let u=xm.get(a);return u||(u=new Intl.NumberFormat(l,s),xm.set(a,u)),u}function ic(l,s,a){return X1(s,a).format(l)}const I0={values(l){return cn(l)?l:""+l},numeric(l,s,a){if(l===0)return"0";const u=this.chart.options.locale;let h,m=l;if(a.length>1){const D=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(D<1e-4||D>1e15)&&(h="scientific"),m=Z1(l,a)}const v=Co(Math.abs(m)),w=isNaN(v)?1:Math.max(Math.min(-1*Math.floor(v),20),0),S={notation:h,minimumFractionDigits:w,maximumFractionDigits:w};return Object.assign(S,this.options.ticks.format),ic(l,u,S)},logarithmic(l,s,a){if(l===0)return"0";const u=a[s].significand||l/Math.pow(10,Math.floor(Co(l)));return[1,2,3,5,10,15].includes(u)||s>.8*a.length?I0.numeric.call(this,l,s,a):""}};function Z1(l,s){let a=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(a)>=1&&l!==Math.floor(l)&&(a=l-Math.floor(l)),a}var _h={formatters:I0};function J1(l){l.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,a)=>a.lineWidth,tickColor:(s,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_h.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),l.route("scale.ticks","color","","color"),l.route("scale.grid","color","","borderColor"),l.route("scale.border","color","","borderColor"),l.route("scale.title","color","","color"),l.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&s!=="callback"&&s!=="parser",_indexable:s=>s!=="borderDash"&&s!=="tickBorderDash"&&s!=="dash"}),l.describe("scales",{_fallback:"scale"}),l.describe("scale.ticks",{_scriptable:s=>s!=="backdropPadding"&&s!=="callback",_indexable:s=>s!=="backdropPadding"})}const gr=Object.create(null),tp=Object.create(null);function Wu(l,s){if(!s)return l;const a=s.split(".");for(let u=0,h=a.length;u<h;++u){const m=a[u];l=l[m]||(l[m]=Object.create(null))}return l}function Bf(l,s,a){return typeof s=="string"?la(Wu(l,s),a):la(Wu(l,""),s)}class Q1{constructor(s,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=u=>u.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(u,h)=>Pf(h.backgroundColor),this.hoverBorderColor=(u,h)=>Pf(h.borderColor),this.hoverColor=(u,h)=>Pf(h.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(a)}set(s,a){return Bf(this,s,a)}get(s){return Wu(this,s)}describe(s,a){return Bf(tp,s,a)}override(s,a){return Bf(gr,s,a)}route(s,a,u,h){const m=Wu(this,s),v=Wu(this,u),w="_"+a;Object.defineProperties(m,{[w]:{value:m[a],writable:!0},[a]:{enumerable:!0,get(){const S=this[w],D=v[h];return Lt(S)?Object.assign({},D,S):At(S,D)},set(S){this[w]=S}}})}apply(s){s.forEach(a=>a(this))}}var hn=new Q1({_scriptable:l=>!l.startsWith("on"),_indexable:l=>l!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[G1,K1,J1]);function $1(l){return!l||Ft(l.size)||Ft(l.family)?null:(l.style?l.style+" ":"")+(l.weight?l.weight+" ":"")+l.size+"px "+l.family}function fh(l,s,a,u,h){let m=s[h];return m||(m=s[h]=l.measureText(h).width,a.push(h)),m>u&&(u=m),u}function eC(l,s,a,u){u=u||{};let h=u.data=u.data||{},m=u.garbageCollect=u.garbageCollect||[];u.font!==s&&(h=u.data={},m=u.garbageCollect=[],u.font=s),l.save(),l.font=s;let v=0;const w=a.length;let S,D,A,O,N;for(S=0;S<w;S++)if(O=a[S],O!=null&&!cn(O))v=fh(l,h,m,v,O);else if(cn(O))for(D=0,A=O.length;D<A;D++)N=O[D],N!=null&&!cn(N)&&(v=fh(l,h,m,v,N));l.restore();const V=m.length/2;if(V>a.length){for(S=0;S<V;S++)delete h[m[S]];m.splice(0,V)}return v}function rr(l,s,a){const u=l.currentDevicePixelRatio,h=a!==0?Math.max(a/2,.5):0;return Math.round((s-h)*u)/u+h}function km(l,s){!s&&!l||(s=s||l.getContext("2d"),s.save(),s.resetTransform(),s.clearRect(0,0,l.width,l.height),s.restore())}function np(l,s,a,u){L0(l,s,a,u,null)}function L0(l,s,a,u,h){let m,v,w,S,D,A,O,N;const V=s.pointStyle,Y=s.rotation,$=s.radius;let te=(Y||0)*P1;if(V&&typeof V=="object"&&(m=V.toString(),m==="[object HTMLImageElement]"||m==="[object HTMLCanvasElement]")){l.save(),l.translate(a,u),l.rotate(te),l.drawImage(V,-V.width/2,-V.height/2,V.width,V.height),l.restore();return}if(!(isNaN($)||$<=0)){switch(l.beginPath(),V){default:h?l.ellipse(a,u,h/2,$,0,0,dn):l.arc(a,u,$,0,dn),l.closePath();break;case"triangle":A=h?h/2:$,l.moveTo(a+Math.sin(te)*A,u-Math.cos(te)*$),te+=gm,l.lineTo(a+Math.sin(te)*A,u-Math.cos(te)*$),te+=gm,l.lineTo(a+Math.sin(te)*A,u-Math.cos(te)*$),l.closePath();break;case"rectRounded":D=$*.516,S=$-D,v=Math.cos(te+or)*S,O=Math.cos(te+or)*(h?h/2-D:S),w=Math.sin(te+or)*S,N=Math.sin(te+or)*(h?h/2-D:S),l.arc(a-O,u-w,D,te-fn,te-zn),l.arc(a+N,u-v,D,te-zn,te),l.arc(a+O,u+w,D,te,te+zn),l.arc(a-N,u+v,D,te+zn,te+fn),l.closePath();break;case"rect":if(!Y){S=Math.SQRT1_2*$,A=h?h/2:S,l.rect(a-A,u-S,2*A,2*S);break}te+=or;case"rectRot":O=Math.cos(te)*(h?h/2:$),v=Math.cos(te)*$,w=Math.sin(te)*$,N=Math.sin(te)*(h?h/2:$),l.moveTo(a-O,u-w),l.lineTo(a+N,u-v),l.lineTo(a+O,u+w),l.lineTo(a-N,u+v),l.closePath();break;case"crossRot":te+=or;case"cross":O=Math.cos(te)*(h?h/2:$),v=Math.cos(te)*$,w=Math.sin(te)*$,N=Math.sin(te)*(h?h/2:$),l.moveTo(a-O,u-w),l.lineTo(a+O,u+w),l.moveTo(a+N,u-v),l.lineTo(a-N,u+v);break;case"star":O=Math.cos(te)*(h?h/2:$),v=Math.cos(te)*$,w=Math.sin(te)*$,N=Math.sin(te)*(h?h/2:$),l.moveTo(a-O,u-w),l.lineTo(a+O,u+w),l.moveTo(a+N,u-v),l.lineTo(a-N,u+v),te+=or,O=Math.cos(te)*(h?h/2:$),v=Math.cos(te)*$,w=Math.sin(te)*$,N=Math.sin(te)*(h?h/2:$),l.moveTo(a-O,u-w),l.lineTo(a+O,u+w),l.moveTo(a+N,u-v),l.lineTo(a-N,u+v);break;case"line":v=h?h/2:Math.cos(te)*$,w=Math.sin(te)*$,l.moveTo(a-v,u-w),l.lineTo(a+v,u+w);break;case"dash":l.moveTo(a,u),l.lineTo(a+Math.cos(te)*(h?h/2:$),u+Math.sin(te)*$);break;case!1:l.closePath();break}l.fill(),s.borderWidth>0&&l.stroke()}}function Ra(l,s,a){return a=a||.5,!s||l&&l.x>s.left-a&&l.x<s.right+a&&l.y>s.top-a&&l.y<s.bottom+a}function Ch(l,s){l.save(),l.beginPath(),l.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),l.clip()}function wh(l){l.restore()}function tC(l,s,a,u,h){if(!s)return l.lineTo(a.x,a.y);if(h==="middle"){const m=(s.x+a.x)/2;l.lineTo(m,s.y),l.lineTo(m,a.y)}else h==="after"!=!!u?l.lineTo(s.x,a.y):l.lineTo(a.x,s.y);l.lineTo(a.x,a.y)}function nC(l,s,a,u){if(!s)return l.lineTo(a.x,a.y);l.bezierCurveTo(u?s.cp1x:s.cp2x,u?s.cp1y:s.cp2y,u?a.cp2x:a.cp1x,u?a.cp2y:a.cp1y,a.x,a.y)}function iC(l,s){s.translation&&l.translate(s.translation[0],s.translation[1]),Ft(s.rotation)||l.rotate(s.rotation),s.color&&(l.fillStyle=s.color),s.textAlign&&(l.textAlign=s.textAlign),s.textBaseline&&(l.textBaseline=s.textBaseline)}function sC(l,s,a,u,h){if(h.strikethrough||h.underline){const m=l.measureText(u),v=s-m.actualBoundingBoxLeft,w=s+m.actualBoundingBoxRight,S=a-m.actualBoundingBoxAscent,D=a+m.actualBoundingBoxDescent,A=h.strikethrough?(S+D)/2:D;l.strokeStyle=l.fillStyle,l.beginPath(),l.lineWidth=h.decorationWidth||2,l.moveTo(v,A),l.lineTo(w,A),l.stroke()}}function aC(l,s){const a=l.fillStyle;l.fillStyle=s.color,l.fillRect(s.left,s.top,s.width,s.height),l.fillStyle=a}function vr(l,s,a,u,h,m={}){const v=cn(s)?s:[s],w=m.strokeWidth>0&&m.strokeColor!=="";let S,D;for(l.save(),l.font=h.string,iC(l,m),S=0;S<v.length;++S)D=v[S],m.backdrop&&aC(l,m.backdrop),w&&(m.strokeColor&&(l.strokeStyle=m.strokeColor),Ft(m.strokeWidth)||(l.lineWidth=m.strokeWidth),l.strokeText(D,a,u,m.maxWidth)),l.fillText(D,a,u,m.maxWidth),sC(l,a,u,D,m),u+=Number(h.lineHeight);l.restore()}function Qu(l,s){const{x:a,y:u,w:h,h:m,radius:v}=s;l.arc(a+v.topLeft,u+v.topLeft,v.topLeft,1.5*fn,fn,!0),l.lineTo(a,u+m-v.bottomLeft),l.arc(a+v.bottomLeft,u+m-v.bottomLeft,v.bottomLeft,fn,zn,!0),l.lineTo(a+h-v.bottomRight,u+m),l.arc(a+h-v.bottomRight,u+m-v.bottomRight,v.bottomRight,zn,0,!0),l.lineTo(a+h,u+v.topRight),l.arc(a+h-v.topRight,u+v.topRight,v.topRight,0,-zn,!0),l.lineTo(a+v.topLeft,u)}const oC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lC(l,s){const a=(""+l).match(oC);if(!a||a[1]==="normal")return s*1.2;switch(l=+a[2],a[3]){case"px":return l;case"%":l/=100;break}return s*l}const uC=l=>+l||0;function Tp(l,s){const a={},u=Lt(s),h=u?Object.keys(s):s,m=Lt(l)?u?v=>At(l[v],l[s[v]]):v=>l[v]:()=>l;for(const v of h)a[v]=uC(m(v));return a}function O0(l){return Tp(l,{top:"y",right:"x",bottom:"y",left:"x"})}function pr(l){return Tp(l,["topLeft","topRight","bottomLeft","bottomRight"])}function yi(l){const s=O0(l);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Un(l,s){l=l||{},s=s||hn.font;let a=At(l.size,s.size);typeof a=="string"&&(a=parseInt(a,10));let u=At(l.style,s.style);u&&!(""+u).match(rC)&&(console.warn('Invalid font style specified: "'+u+'"'),u=void 0);const h={family:At(l.family,s.family),lineHeight:lC(At(l.lineHeight,s.lineHeight),a),size:a,style:u,weight:At(l.weight,s.weight),string:""};return h.string=$1(h),h}function un(l,s,a,u){let h,m,v;for(h=0,m=l.length;h<m;++h)if(v=l[h],v!==void 0&&(s!==void 0&&typeof v=="function"&&(v=v(s)),a!==void 0&&cn(v)&&(v=v[a%v.length]),v!==void 0))return v}function cC(l,s,a){const{min:u,max:h}=l,m=C0(s,(h-u)/2),v=(w,S)=>a&&w===0?0:w+S;return{min:v(u,-Math.abs(m)),max:v(h,m)}}function To(l,s){return Object.assign(Object.create(l),s)}function Ep(l,s=[""],a,u,h=()=>l[0]){const m=a||l;typeof u>"u"&&(u=R0("_fallback",l));const v={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:l,_rootScopes:m,_fallback:u,_getTarget:h,override:w=>Ep([w,...l],s,m,u)};return new Proxy(v,{deleteProperty(w,S){return delete w[S],delete w._keys,delete l[0][S],!0},get(w,S){return B0(w,S,()=>bC(S,s,l,w))},getOwnPropertyDescriptor(w,S){return Reflect.getOwnPropertyDescriptor(w._scopes[0],S)},getPrototypeOf(){return Reflect.getPrototypeOf(l[0])},has(w,S){return Dm(w).includes(S)},ownKeys(w){return Dm(w)},set(w,S,D){const A=w._storage||(w._storage=h());return w[S]=A[S]=D,delete w._keys,!0}})}function al(l,s,a,u){const h={_cacheable:!1,_proxy:l,_context:s,_subProxy:a,_stack:new Set,_descriptors:P0(l,u),setContext:m=>al(l,m,a,u),override:m=>al(l.override(m),s,a,u)};return new Proxy(h,{deleteProperty(m,v){return delete m[v],delete l[v],!0},get(m,v,w){return B0(m,v,()=>hC(m,v,w))},getOwnPropertyDescriptor(m,v){return m._descriptors.allKeys?Reflect.has(l,v)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(l,v)},getPrototypeOf(){return Reflect.getPrototypeOf(l)},has(m,v){return Reflect.has(l,v)},ownKeys(){return Reflect.ownKeys(l)},set(m,v,w){return l[v]=w,delete m[v],!0}})}function P0(l,s={scriptable:!0,indexable:!0}){const{_scriptable:a=s.scriptable,_indexable:u=s.indexable,_allKeys:h=s.allKeys}=l;return{allKeys:h,scriptable:a,indexable:u,isScriptable:Do(a)?a:()=>a,isIndexable:Do(u)?u:()=>u}}const dC=(l,s)=>l?l+wp(s):s,Ap=(l,s)=>Lt(s)&&l!=="adapters"&&(Object.getPrototypeOf(s)===null||s.constructor===Object);function B0(l,s,a){if(Object.prototype.hasOwnProperty.call(l,s)||s==="constructor")return l[s];const u=a();return l[s]=u,u}function hC(l,s,a){const{_proxy:u,_context:h,_subProxy:m,_descriptors:v}=l;let w=u[s];return Do(w)&&v.isScriptable(s)&&(w=fC(s,w,l,a)),cn(w)&&w.length&&(w=pC(s,w,l,v.isIndexable)),Ap(s,w)&&(w=al(w,h,m&&m[s],v)),w}function fC(l,s,a,u){const{_proxy:h,_context:m,_subProxy:v,_stack:w}=a;if(w.has(l))throw new Error("Recursion detected: "+Array.from(w).join("->")+"->"+l);w.add(l);let S=s(m,v||u);return w.delete(l),Ap(l,S)&&(S=Fp(h._scopes,h,l,S)),S}function pC(l,s,a,u){const{_proxy:h,_context:m,_subProxy:v,_descriptors:w}=a;if(typeof m.index<"u"&&u(l))return s[m.index%s.length];if(Lt(s[0])){const S=s,D=h._scopes.filter(A=>A!==S);s=[];for(const A of S){const O=Fp(D,h,l,A);s.push(al(O,m,v&&v[l],w))}}return s}function N0(l,s,a){return Do(l)?l(s,a):l}const mC=(l,s)=>l===!0?s:typeof l=="string"?So(s,l):void 0;function gC(l,s,a,u,h){for(const m of s){const v=mC(a,m);if(v){l.add(v);const w=N0(v._fallback,a,h);if(typeof w<"u"&&w!==a&&w!==u)return w}else if(v===!1&&typeof u<"u"&&a!==u)return null}return!1}function Fp(l,s,a,u){const h=s._rootScopes,m=N0(s._fallback,a,u),v=[...l,...h],w=new Set;w.add(u);let S=Sm(w,v,a,m||a,u);return S===null||typeof m<"u"&&m!==a&&(S=Sm(w,v,m,S,u),S===null)?!1:Ep(Array.from(w),[""],h,m,()=>vC(s,a,u))}function Sm(l,s,a,u,h){for(;a;)a=gC(l,s,a,u,h);return a}function vC(l,s,a){const u=l._getTarget();s in u||(u[s]={});const h=u[s];return cn(h)&&Lt(a)?a:h||{}}function bC(l,s,a,u){let h;for(const m of s)if(h=R0(dC(m,l),a),typeof h<"u")return Ap(l,h)?Fp(a,u,l,h):h}function R0(l,s){for(const a of s){if(!a)continue;const u=a[l];if(typeof u<"u")return u}}function Dm(l){let s=l._keys;return s||(s=l._keys=yC(l._scopes)),s}function yC(l){const s=new Set;for(const a of l)for(const u of Object.keys(a).filter(h=>!h.startsWith("_")))s.add(u);return Array.from(s)}function z0(l,s,a,u){const{iScale:h}=l,{key:m="r"}=this._parsing,v=new Array(u);let w,S,D,A;for(w=0,S=u;w<S;++w)D=w+a,A=s[D],v[w]={r:h.parse(So(A,m),D)};return v}const _C=Number.EPSILON||1e-14,ol=(l,s)=>s<l.length&&!l[s].skip&&l[s],H0=l=>l==="x"?"y":"x";function CC(l,s,a,u){const h=l.skip?s:l,m=s,v=a.skip?s:a,w=ep(m,h),S=ep(v,m);let D=w/(w+S),A=S/(w+S);D=isNaN(D)?0:D,A=isNaN(A)?0:A;const O=u*D,N=u*A;return{previous:{x:m.x-O*(v.x-h.x),y:m.y-O*(v.y-h.y)},next:{x:m.x+N*(v.x-h.x),y:m.y+N*(v.y-h.y)}}}function wC(l,s,a){const u=l.length;let h,m,v,w,S,D=ol(l,0);for(let A=0;A<u-1;++A)if(S=D,D=ol(l,A+1),!(!S||!D)){if(Vu(s[A],0,_C)){a[A]=a[A+1]=0;continue}h=a[A]/s[A],m=a[A+1]/s[A],w=Math.pow(h,2)+Math.pow(m,2),!(w<=9)&&(v=3/Math.sqrt(w),a[A]=h*v*s[A],a[A+1]=m*v*s[A])}}function xC(l,s,a="x"){const u=H0(a),h=l.length;let m,v,w,S=ol(l,0);for(let D=0;D<h;++D){if(v=w,w=S,S=ol(l,D+1),!w)continue;const A=w[a],O=w[u];v&&(m=(A-v[a])/3,w[`cp1${a}`]=A-m,w[`cp1${u}`]=O-m*s[D]),S&&(m=(S[a]-A)/3,w[`cp2${a}`]=A+m,w[`cp2${u}`]=O+m*s[D])}}function kC(l,s="x"){const a=H0(s),u=l.length,h=Array(u).fill(0),m=Array(u);let v,w,S,D=ol(l,0);for(v=0;v<u;++v)if(w=S,S=D,D=ol(l,v+1),!!S){if(D){const A=D[s]-S[s];h[v]=A!==0?(D[a]-S[a])/A:0}m[v]=w?D?ra(h[v-1])!==ra(h[v])?0:(h[v-1]+h[v])/2:h[v-1]:h[v]}wC(l,h,m),xC(l,m,s)}function Vd(l,s,a){return Math.max(Math.min(l,a),s)}function SC(l,s){let a,u,h,m,v,w=Ra(l[0],s);for(a=0,u=l.length;a<u;++a)v=m,m=w,w=a<u-1&&Ra(l[a+1],s),m&&(h=l[a],v&&(h.cp1x=Vd(h.cp1x,s.left,s.right),h.cp1y=Vd(h.cp1y,s.top,s.bottom)),w&&(h.cp2x=Vd(h.cp2x,s.left,s.right),h.cp2y=Vd(h.cp2y,s.top,s.bottom)))}function DC(l,s,a,u,h){let m,v,w,S;if(s.spanGaps&&(l=l.filter(D=>!D.skip)),s.cubicInterpolationMode==="monotone")kC(l,h);else{let D=u?l[l.length-1]:l[0];for(m=0,v=l.length;m<v;++m)w=l[m],S=CC(D,w,l[Math.min(m+1,v-(u?0:1))%v],s.tension),w.cp1x=S.previous.x,w.cp1y=S.previous.y,w.cp2x=S.next.x,w.cp2y=S.next.y,D=w}s.capBezierPoints&&SC(l,a)}function Ip(){return typeof window<"u"&&typeof document<"u"}function Lp(l){let s=l.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s}function ph(l,s,a){let u;return typeof l=="string"?(u=parseInt(l,10),l.indexOf("%")!==-1&&(u=u/100*s.parentNode[a])):u=l,u}const xh=l=>l.ownerDocument.defaultView.getComputedStyle(l,null);function TC(l,s){return xh(l).getPropertyValue(s)}const EC=["top","right","bottom","left"];function mr(l,s,a){const u={};a=a?"-"+a:"";for(let h=0;h<4;h++){const m=EC[h];u[m]=parseFloat(l[s+"-"+m+a])||0}return u.width=u.left+u.right,u.height=u.top+u.bottom,u}const AC=(l,s,a)=>(l>0||s>0)&&(!a||!a.shadowRoot);function FC(l,s){const a=l.touches,u=a&&a.length?a[0]:l,{offsetX:h,offsetY:m}=u;let v=!1,w,S;if(AC(h,m,l.target))w=h,S=m;else{const D=s.getBoundingClientRect();w=u.clientX-D.left,S=u.clientY-D.top,v=!0}return{x:w,y:S,box:v}}function cr(l,s){if("native"in l)return l;const{canvas:a,currentDevicePixelRatio:u}=s,h=xh(a),m=h.boxSizing==="border-box",v=mr(h,"padding"),w=mr(h,"border","width"),{x:S,y:D,box:A}=FC(l,a),O=v.left+(A&&w.left),N=v.top+(A&&w.top);let{width:V,height:Y}=s;return m&&(V-=v.width+w.width,Y-=v.height+w.height),{x:Math.round((S-O)/V*a.width/u),y:Math.round((D-N)/Y*a.height/u)}}function IC(l,s,a){let u,h;if(s===void 0||a===void 0){const m=l&&Lp(l);if(!m)s=l.clientWidth,a=l.clientHeight;else{const v=m.getBoundingClientRect(),w=xh(m),S=mr(w,"border","width"),D=mr(w,"padding");s=v.width-D.width-S.width,a=v.height-D.height-S.height,u=ph(w.maxWidth,m,"clientWidth"),h=ph(w.maxHeight,m,"clientHeight")}}return{width:s,height:a,maxWidth:u||hh,maxHeight:h||hh}}const Md=l=>Math.round(l*10)/10;function LC(l,s,a,u){const h=xh(l),m=mr(h,"margin"),v=ph(h.maxWidth,l,"clientWidth")||hh,w=ph(h.maxHeight,l,"clientHeight")||hh,S=IC(l,s,a);let{width:D,height:A}=S;if(h.boxSizing==="content-box"){const N=mr(h,"border","width"),V=mr(h,"padding");D-=V.width+N.width,A-=V.height+N.height}return D=Math.max(0,D-m.width),A=Math.max(0,u?D/u:A-m.height),D=Md(Math.min(D,v,S.maxWidth)),A=Md(Math.min(A,w,S.maxHeight)),D&&!A&&(A=Md(D/2)),(s!==void 0||a!==void 0)&&u&&S.height&&A>S.height&&(A=S.height,D=Md(Math.floor(A*u))),{width:D,height:A}}function Tm(l,s,a){const u=s||1,h=Math.floor(l.height*u),m=Math.floor(l.width*u);l.height=Math.floor(l.height),l.width=Math.floor(l.width);const v=l.canvas;return v.style&&(a||!v.style.height&&!v.style.width)&&(v.style.height=`${l.height}px`,v.style.width=`${l.width}px`),l.currentDevicePixelRatio!==u||v.height!==h||v.width!==m?(l.currentDevicePixelRatio=u,v.height=h,v.width=m,l.ctx.setTransform(u,0,0,u,0,0),!0):!1}const OC=function(){let l=!1;try{const s={get passive(){return l=!0,!1}};Ip()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return l}();function Em(l,s){const a=TC(l,s),u=a&&a.match(/^(\d+)(\.\d+)?px$/);return u?+u[1]:void 0}function dr(l,s,a,u){return{x:l.x+a*(s.x-l.x),y:l.y+a*(s.y-l.y)}}function PC(l,s,a,u){return{x:l.x+a*(s.x-l.x),y:u==="middle"?a<.5?l.y:s.y:u==="after"?a<1?l.y:s.y:a>0?s.y:l.y}}function BC(l,s,a,u){const h={x:l.cp2x,y:l.cp2y},m={x:s.cp1x,y:s.cp1y},v=dr(l,h,a),w=dr(h,m,a),S=dr(m,s,a),D=dr(v,w,a),A=dr(w,S,a);return dr(D,A,a)}const NC=function(l,s){return{x(a){return l+l+s-a},setWidth(a){s=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,u){return a-u},leftForLtr(a,u){return a-u}}},RC=function(){return{x(l){return l},setWidth(l){},textAlign(l){return l},xPlus(l,s){return l+s},leftForLtr(l,s){return l}}};function il(l,s,a){return l?NC(s,a):RC()}function V0(l,s){let a,u;(s==="ltr"||s==="rtl")&&(a=l.canvas.style,u=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",s,"important"),l.prevTextDirection=u)}function M0(l,s){s!==void 0&&(delete l.prevTextDirection,l.canvas.style.setProperty("direction",s[0],s[1]))}function W0(l){return l==="angle"?{between:Ju,compare:z1,normalize:ss}:{between:Ba,compare:(s,a)=>s-a,normalize:s=>s}}function Am({start:l,end:s,count:a,loop:u,style:h}){return{start:l%a,end:s%a,loop:u&&(s-l+1)%a===0,style:h}}function zC(l,s,a){const{property:u,start:h,end:m}=a,{between:v,normalize:w}=W0(u),S=s.length;let{start:D,end:A,loop:O}=l,N,V;if(O){for(D+=S,A+=S,N=0,V=S;N<V&&v(w(s[D%S][u]),h,m);++N)D--,A--;D%=S,A%=S}return A<D&&(A+=S),{start:D,end:A,loop:O,style:l.style}}function j0(l,s,a){if(!a)return[l];const{property:u,start:h,end:m}=a,v=s.length,{compare:w,between:S,normalize:D}=W0(u),{start:A,end:O,loop:N,style:V}=zC(l,s,a),Y=[];let $=!1,te=null,X,K,re;const ie=()=>S(h,re,X)&&w(h,re)!==0,se=()=>w(m,X)===0||S(m,re,X),ke=()=>$||ie(),be=()=>!$||se();for(let ve=A,Te=A;ve<=O;++ve)K=s[ve%v],!K.skip&&(X=D(K[u]),X!==re&&($=S(X,h,m),te===null&&ke()&&(te=w(X,h)===0?ve:Te),te!==null&&be()&&(Y.push(Am({start:te,end:ve,loop:N,count:v,style:V})),te=null),Te=ve,re=X));return te!==null&&Y.push(Am({start:te,end:O,loop:N,count:v,style:V})),Y}function U0(l,s){const a=[],u=l.segments;for(let h=0;h<u.length;h++){const m=j0(u[h],l.points,s);m.length&&a.push(...m)}return a}function HC(l,s,a,u){let h=0,m=s-1;if(a&&!u)for(;h<s&&!l[h].skip;)h++;for(;h<s&&l[h].skip;)h++;for(h%=s,a&&(m+=h);m>h&&l[m%s].skip;)m--;return m%=s,{start:h,end:m}}function VC(l,s,a,u){const h=l.length,m=[];let v=s,w=l[s],S;for(S=s+1;S<=a;++S){const D=l[S%h];D.skip||D.stop?w.skip||(u=!1,m.push({start:s%h,end:(S-1)%h,loop:u}),s=v=D.stop?S:null):(v=S,w.skip&&(s=S)),w=D}return v!==null&&m.push({start:s%h,end:v%h,loop:u}),m}function MC(l,s){const a=l.points,u=l.options.spanGaps,h=a.length;if(!h)return[];const m=!!l._loop,{start:v,end:w}=HC(a,h,m,u);if(u===!0)return Fm(l,[{start:v,end:w,loop:m}],a,s);const S=w<v?w+h:w,D=!!l._fullLoop&&v===0&&w===h-1;return Fm(l,VC(a,v,S,D),a,s)}function Fm(l,s,a,u){return!u||!u.setContext||!a?s:WC(l,s,a,u)}function WC(l,s,a,u){const h=l._chart.getContext(),m=Im(l.options),{_datasetIndex:v,options:{spanGaps:w}}=l,S=a.length,D=[];let A=m,O=s[0].start,N=O;function V(Y,$,te,X){const K=w?-1:1;if(Y!==$){for(Y+=S;a[Y%S].skip;)Y-=K;for(;a[$%S].skip;)$+=K;Y%S!==$%S&&(D.push({start:Y%S,end:$%S,loop:te,style:X}),A=X,O=$%S)}}for(const Y of s){O=w?O:Y.start;let $=a[O%S],te;for(N=O+1;N<=Y.end;N++){const X=a[N%S];te=Im(u.setContext(To(h,{type:"segment",p0:$,p1:X,p0DataIndex:(N-1)%S,p1DataIndex:N%S,datasetIndex:v}))),jC(te,A)&&V(O,N-1,Y.loop,A),$=X,A=te}O<N-1&&V(O,N-1,Y.loop,A)}return D}function Im(l){return{backgroundColor:l.backgroundColor,borderCapStyle:l.borderCapStyle,borderDash:l.borderDash,borderDashOffset:l.borderDashOffset,borderJoinStyle:l.borderJoinStyle,borderWidth:l.borderWidth,borderColor:l.borderColor}}function jC(l,s){if(!s)return!1;const a=[],u=function(h,m){return Dp(m)?(a.includes(m)||a.push(m),a.indexOf(m)):m};return JSON.stringify(l,u)!==JSON.stringify(s,u)}function Wd(l,s,a){return l.options.clip?l[a]:s[a]}function UC(l,s){const{xScale:a,yScale:u}=l;return a&&u?{left:Wd(a,s,"left"),right:Wd(a,s,"right"),top:Wd(u,s,"top"),bottom:Wd(u,s,"bottom")}:s}function q0(l,s){const a=s._clip;if(a.disabled)return!1;const u=UC(s,l.chartArea);return{left:a.left===!1?0:u.left-(a.left===!0?0:a.left),right:a.right===!1?l.width:u.right+(a.right===!0?0:a.right),top:a.top===!1?0:u.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?l.height:u.bottom+(a.bottom===!0?0:a.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class qC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,a,u,h){const m=a.listeners[h],v=a.duration;m.forEach(w=>w({chart:s,initial:a.initial,numSteps:v,currentStep:Math.min(u-a.start,v)}))}_refresh(){this._request||(this._running=!0,this._request=T0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let a=0;this._charts.forEach((u,h)=>{if(!u.running||!u.items.length)return;const m=u.items;let v=m.length-1,w=!1,S;for(;v>=0;--v)S=m[v],S._active?(S._total>u.duration&&(u.duration=S._total),S.tick(s),w=!0):(m[v]=m[m.length-1],m.pop());w&&(h.draw(),this._notify(h,u,s,"progress")),m.length||(u.running=!1,this._notify(h,u,s,"complete"),u.initial=!1),a+=m.length}),this._lastDate=s,a===0&&(this._running=!1)}_getAnims(s){const a=this._charts;let u=a.get(s);return u||(u={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(s,u)),u}listen(s,a,u){this._getAnims(s).listeners[a].push(u)}add(s,a){!a||!a.length||this._getAnims(s).items.push(...a)}has(s){return this._getAnims(s).items.length>0}start(s){const a=this._charts.get(s);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((u,h)=>Math.max(u,h._duration),0),this._refresh())}running(s){if(!this._running)return!1;const a=this._charts.get(s);return!(!a||!a.running||!a.items.length)}stop(s){const a=this._charts.get(s);if(!a||!a.items.length)return;const u=a.items;let h=u.length-1;for(;h>=0;--h)u[h].cancel();a.items=[],this._notify(s,a,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var Ia=new qC;const Lm="transparent",YC={boolean(l,s,a){return a>.5?s:l},color(l,s,a){const u=wm(l||Lm),h=u.valid&&wm(s||Lm);return h&&h.valid?h.mix(u,a).hexString():s},number(l,s,a){return l+(s-l)*a}};class GC{constructor(s,a,u,h){const m=a[u];h=un([s.to,h,m,s.from]);const v=un([s.from,m,h]);this._active=!0,this._fn=s.fn||YC[s.type||typeof v],this._easing=Mu[s.easing]||Mu.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=a,this._prop=u,this._from=v,this._to=h,this._promises=void 0}active(){return this._active}update(s,a,u){if(this._active){this._notify(!1);const h=this._target[this._prop],m=u-this._start,v=this._duration-m;this._start=u,this._duration=Math.floor(Math.max(v,s.duration)),this._total+=m,this._loop=!!s.loop,this._to=un([s.to,a,h,s.from]),this._from=un([s.from,h,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const a=s-this._start,u=this._duration,h=this._prop,m=this._from,v=this._loop,w=this._to;let S;if(this._active=m!==w&&(v||a<u),!this._active){this._target[h]=w,this._notify(!0);return}if(a<0){this._target[h]=m;return}S=a/u%2,S=v&&S>1?2-S:S,S=this._easing(Math.min(1,Math.max(0,S))),this._target[h]=this._fn(m,w,S)}wait(){const s=this._promises||(this._promises=[]);return new Promise((a,u)=>{s.push({res:a,rej:u})})}_notify(s){const a=s?"res":"rej",u=this._promises||[];for(let h=0;h<u.length;h++)u[h][a]()}}class Y0{constructor(s,a){this._chart=s,this._properties=new Map,this.configure(a)}configure(s){if(!Lt(s))return;const a=Object.keys(hn.animation),u=this._properties;Object.getOwnPropertyNames(s).forEach(h=>{const m=s[h];if(!Lt(m))return;const v={};for(const w of a)v[w]=m[w];(cn(m.properties)&&m.properties||[h]).forEach(w=>{(w===h||!u.has(w))&&u.set(w,v)})})}_animateOptions(s,a){const u=a.options,h=XC(s,u);if(!h)return[];const m=this._createAnimations(h,u);return u.$shared&&KC(s.options.$animations,u).then(()=>{s.options=u},()=>{}),m}_createAnimations(s,a){const u=this._properties,h=[],m=s.$animations||(s.$animations={}),v=Object.keys(a),w=Date.now();let S;for(S=v.length-1;S>=0;--S){const D=v[S];if(D.charAt(0)==="$")continue;if(D==="options"){h.push(...this._animateOptions(s,a));continue}const A=a[D];let O=m[D];const N=u.get(D);if(O)if(N&&O.active()){O.update(N,A,w);continue}else O.cancel();if(!N||!N.duration){s[D]=A;continue}m[D]=O=new GC(N,s,D,A),h.push(O)}return h}update(s,a){if(this._properties.size===0){Object.assign(s,a);return}const u=this._createAnimations(s,a);if(u.length)return Ia.add(this._chart,u),!0}}function KC(l,s){const a=[],u=Object.keys(s);for(let h=0;h<u.length;h++){const m=l[u[h]];m&&m.active()&&a.push(m.wait())}return Promise.all(a)}function XC(l,s){if(!s)return;let a=l.options;if(!a){l.options=s;return}return a.$shared&&(l.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function Om(l,s){const a=l&&l.options||{},u=a.reverse,h=a.min===void 0?s:0,m=a.max===void 0?s:0;return{start:u?m:h,end:u?h:m}}function ZC(l,s,a){if(a===!1)return!1;const u=Om(l,a),h=Om(s,a);return{top:h.end,right:u.end,bottom:h.start,left:u.start}}function JC(l){let s,a,u,h;return Lt(l)?(s=l.top,a=l.right,u=l.bottom,h=l.left):s=a=u=h=l,{top:s,right:a,bottom:u,left:h,disabled:l===!1}}function G0(l,s){const a=[],u=l._getSortedDatasetMetas(s);let h,m;for(h=0,m=u.length;h<m;++h)a.push(u[h].index);return a}function Pm(l,s,a,u={}){const h=l.keys,m=u.mode==="single";let v,w,S,D;if(s===null)return;let A=!1;for(v=0,w=h.length;v<w;++v){if(S=+h[v],S===a){if(A=!0,u.all)continue;break}D=l.values[S],On(D)&&(m||s===0||ra(s)===ra(D))&&(s+=D)}return!A&&!u.all?0:s}function QC(l,s){const{iScale:a,vScale:u}=s,h=a.axis==="x"?"x":"y",m=u.axis==="x"?"x":"y",v=Object.keys(l),w=new Array(v.length);let S,D,A;for(S=0,D=v.length;S<D;++S)A=v[S],w[S]={[h]:A,[m]:l[A]};return w}function Nf(l,s){const a=l&&l.options.stacked;return a||a===void 0&&s.stack!==void 0}function $C(l,s,a){return`${l.id}.${s.id}.${a.stack||a.type}`}function ew(l){const{min:s,max:a,minDefined:u,maxDefined:h}=l.getUserBounds();return{min:u?s:Number.NEGATIVE_INFINITY,max:h?a:Number.POSITIVE_INFINITY}}function tw(l,s,a){const u=l[s]||(l[s]={});return u[a]||(u[a]={})}function Bm(l,s,a,u){for(const h of s.getMatchingVisibleMetas(u).reverse()){const m=l[h.index];if(a&&m>0||!a&&m<0)return h.index}return null}function Nm(l,s){const{chart:a,_cachedMeta:u}=l,h=a._stacks||(a._stacks={}),{iScale:m,vScale:v,index:w}=u,S=m.axis,D=v.axis,A=$C(m,v,u),O=s.length;let N;for(let V=0;V<O;++V){const Y=s[V],{[S]:$,[D]:te}=Y,X=Y._stacks||(Y._stacks={});N=X[D]=tw(h,A,$),N[w]=te,N._top=Bm(N,v,!0,u.type),N._bottom=Bm(N,v,!1,u.type);const K=N._visualValues||(N._visualValues={});K[w]=te}}function Rf(l,s){const a=l.scales;return Object.keys(a).filter(u=>a[u].axis===s).shift()}function nw(l,s){return To(l,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}function iw(l,s,a){return To(l,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:a,index:s,mode:"default",type:"data"})}function Su(l,s){const a=l.controller.index,u=l.vScale&&l.vScale.axis;if(u){s=s||l._parsed;for(const h of s){const m=h._stacks;if(!m||m[u]===void 0||m[u][a]===void 0)return;delete m[u][a],m[u]._visualValues!==void 0&&m[u]._visualValues[a]!==void 0&&delete m[u]._visualValues[a]}}}const zf=l=>l==="reset"||l==="none",Rm=(l,s)=>s?l:Object.assign({},l),sw=(l,s,a)=>l&&!s.hidden&&s._stacked&&{keys:G0(a,!0),values:null};class Os{constructor(s,a){this.chart=s,this._ctx=s.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=Nf(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&Su(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,a=this._cachedMeta,u=this.getDataset(),h=(O,N,V,Y)=>O==="x"?N:O==="r"?Y:V,m=a.xAxisID=At(u.xAxisID,Rf(s,"x")),v=a.yAxisID=At(u.yAxisID,Rf(s,"y")),w=a.rAxisID=At(u.rAxisID,Rf(s,"r")),S=a.indexAxis,D=a.iAxisID=h(S,m,v,w),A=a.vAxisID=h(S,v,m,w);a.xScale=this.getScaleForId(m),a.yScale=this.getScaleForId(v),a.rScale=this.getScaleForId(w),a.iScale=this.getScaleForId(D),a.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const a=this._cachedMeta;return s===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&ym(this._data,this),s._stacked&&Su(s)}_dataCheck(){const s=this.getDataset(),a=s.data||(s.data=[]),u=this._data;if(Lt(a)){const h=this._cachedMeta;this._data=QC(a,h)}else if(u!==a){if(u){ym(u,this);const h=this._cachedMeta;Su(h),h._parsed=[]}a&&Object.isExtensible(a)&&W1(a,this),this._syncList=[],this._data=a}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const a=this._cachedMeta,u=this.getDataset();let h=!1;this._dataCheck();const m=a._stacked;a._stacked=Nf(a.vScale,a),a.stack!==u.stack&&(h=!0,Su(a),a.stack=u.stack),this._resyncElements(s),(h||m!==a._stacked)&&(Nm(this,a._parsed),a._stacked=Nf(a.vScale,a))}configure(){const s=this.chart.config,a=s.datasetScopeKeys(this._type),u=s.getOptionScopes(this.getDataset(),a,!0);this.options=s.createResolver(u,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,a){const{_cachedMeta:u,_data:h}=this,{iScale:m,_stacked:v}=u,w=m.axis;let S=s===0&&a===h.length?!0:u._sorted,D=s>0&&u._parsed[s-1],A,O,N;if(this._parsing===!1)u._parsed=h,u._sorted=!0,N=h;else{cn(h[s])?N=this.parseArrayData(u,h,s,a):Lt(h[s])?N=this.parseObjectData(u,h,s,a):N=this.parsePrimitiveData(u,h,s,a);const V=()=>O[w]===null||D&&O[w]<D[w];for(A=0;A<a;++A)u._parsed[A+s]=O=N[A],S&&(V()&&(S=!1),D=O);u._sorted=S}v&&Nm(this,N)}parsePrimitiveData(s,a,u,h){const{iScale:m,vScale:v}=s,w=m.axis,S=v.axis,D=m.getLabels(),A=m===v,O=new Array(h);let N,V,Y;for(N=0,V=h;N<V;++N)Y=N+u,O[N]={[w]:A||m.parse(D[Y],Y),[S]:v.parse(a[Y],Y)};return O}parseArrayData(s,a,u,h){const{xScale:m,yScale:v}=s,w=new Array(h);let S,D,A,O;for(S=0,D=h;S<D;++S)A=S+u,O=a[A],w[S]={x:m.parse(O[0],A),y:v.parse(O[1],A)};return w}parseObjectData(s,a,u,h){const{xScale:m,yScale:v}=s,{xAxisKey:w="x",yAxisKey:S="y"}=this._parsing,D=new Array(h);let A,O,N,V;for(A=0,O=h;A<O;++A)N=A+u,V=a[N],D[A]={x:m.parse(So(V,w),N),y:v.parse(So(V,S),N)};return D}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,a,u){const h=this.chart,m=this._cachedMeta,v=a[s.axis],w={keys:G0(h,!0),values:a._stacks[s.axis]._visualValues};return Pm(w,v,m.index,{mode:u})}updateRangeFromParsed(s,a,u,h){const m=u[a.axis];let v=m===null?NaN:m;const w=h&&u._stacks[a.axis];h&&w&&(h.values=w,v=Pm(h,m,this._cachedMeta.index)),s.min=Math.min(s.min,v),s.max=Math.max(s.max,v)}getMinMax(s,a){const u=this._cachedMeta,h=u._parsed,m=u._sorted&&s===u.iScale,v=h.length,w=this._getOtherScale(s),S=sw(a,u,this.chart),D={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:O}=ew(w);let N,V;function Y(){V=h[N];const $=V[w.axis];return!On(V[s.axis])||A>$||O<$}for(N=0;N<v&&!(!Y()&&(this.updateRangeFromParsed(D,s,V,S),m));++N);if(m){for(N=v-1;N>=0;--N)if(!Y()){this.updateRangeFromParsed(D,s,V,S);break}}return D}getAllParsedValues(s){const a=this._cachedMeta._parsed,u=[];let h,m,v;for(h=0,m=a.length;h<m;++h)v=a[h][s.axis],On(v)&&u.push(v);return u}getMaxOverflow(){return!1}getLabelAndValue(s){const a=this._cachedMeta,u=a.iScale,h=a.vScale,m=this.getParsed(s);return{label:u?""+u.getLabelForValue(m[u.axis]):"",value:h?""+h.getLabelForValue(m[h.axis]):""}}_update(s){const a=this._cachedMeta;this.update(s||"default"),a._clip=JC(At(this.options.clip,ZC(a.xScale,a.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,a=this.chart,u=this._cachedMeta,h=u.data||[],m=a.chartArea,v=[],w=this._drawStart||0,S=this._drawCount||h.length-w,D=this.options.drawActiveElementsOnTop;let A;for(u.dataset&&u.dataset.draw(s,m,w,S),A=w;A<w+S;++A){const O=h[A];O.hidden||(O.active&&D?v.push(O):O.draw(s,m))}for(A=0;A<v.length;++A)v[A].draw(s,m)}getStyle(s,a){const u=a?"active":"default";return s===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(u):this.resolveDataElementOptions(s||0,u)}getContext(s,a,u){const h=this.getDataset();let m;if(s>=0&&s<this._cachedMeta.data.length){const v=this._cachedMeta.data[s];m=v.$context||(v.$context=iw(this.getContext(),s,v)),m.parsed=this.getParsed(s),m.raw=h.data[s],m.index=m.dataIndex=s}else m=this.$context||(this.$context=nw(this.chart.getContext(),this.index)),m.dataset=h,m.index=m.datasetIndex=this.index;return m.active=!!a,m.mode=u,m}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,a){return this._resolveElementOptions(this.dataElementType.id,a,s)}_resolveElementOptions(s,a="default",u){const h=a==="active",m=this._cachedDataOpts,v=s+"-"+a,w=m[v],S=this.enableOptionSharing&&Zu(u);if(w)return Rm(w,S);const D=this.chart.config,A=D.datasetElementScopeKeys(this._type,s),O=h?[`${s}Hover`,"hover",s,""]:[s,""],N=D.getOptionScopes(this.getDataset(),A),V=Object.keys(hn.elements[s]),Y=()=>this.getContext(u,h,a),$=D.resolveNamedOptions(N,V,Y,O);return $.$shared&&($.$shared=S,m[v]=Object.freeze(Rm($,S))),$}_resolveAnimations(s,a,u){const h=this.chart,m=this._cachedDataOpts,v=`animation-${a}`,w=m[v];if(w)return w;let S;if(h.options.animation!==!1){const A=this.chart.config,O=A.datasetAnimationScopeKeys(this._type,a),N=A.getOptionScopes(this.getDataset(),O);S=A.createResolver(N,this.getContext(s,u,a))}const D=new Y0(h,S&&S.animations);return S&&S._cacheable&&(m[v]=Object.freeze(D)),D}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,a){return!a||zf(s)||this.chart._animationsDisabled}_getSharedOptions(s,a){const u=this.resolveDataElementOptions(s,a),h=this._sharedOptions,m=this.getSharedOptions(u),v=this.includeOptions(a,m)||m!==h;return this.updateSharedOptions(m,a,u),{sharedOptions:m,includeOptions:v}}updateElement(s,a,u,h){zf(h)?Object.assign(s,u):this._resolveAnimations(a,h).update(s,u)}updateSharedOptions(s,a,u){s&&!zf(a)&&this._resolveAnimations(void 0,a).update(s,u)}_setStyle(s,a,u,h){s.active=h;const m=this.getStyle(a,h);this._resolveAnimations(a,u,h).update(s,{options:!h&&this.getSharedOptions(m)||m})}removeHoverStyle(s,a,u){this._setStyle(s,u,"active",!1)}setHoverStyle(s,a,u){this._setStyle(s,u,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const a=this._data,u=this._cachedMeta.data;for(const[w,S,D]of this._syncList)this[w](S,D);this._syncList=[];const h=u.length,m=a.length,v=Math.min(m,h);v&&this.parse(0,v),m>h?this._insertElements(h,m-h,s):m<h&&this._removeElements(m,h-m)}_insertElements(s,a,u=!0){const h=this._cachedMeta,m=h.data,v=s+a;let w;const S=D=>{for(D.length+=a,w=D.length-1;w>=v;w--)D[w]=D[w-a]};for(S(m),w=s;w<v;++w)m[w]=new this.dataElementType;this._parsing&&S(h._parsed),this.parse(s,a),u&&this.updateElements(m,s,a,"reset")}updateElements(s,a,u,h){}_removeElements(s,a){const u=this._cachedMeta;if(this._parsing){const h=u._parsed.splice(s,a);u._stacked&&Su(u,h)}u.data.splice(s,a)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[a,u,h]=s;this[a](u,h)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,a){a&&this._sync(["_removeElements",s,a]);const u=arguments.length-2;u&&this._sync(["_insertElements",s,u])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ae(Os,"defaults",{}),ae(Os,"datasetElementType",null),ae(Os,"dataElementType",null);function aw(l,s){if(!l._cache.$bar){const a=l.getMatchingVisibleMetas(s);let u=[];for(let h=0,m=a.length;h<m;h++)u=u.concat(a[h].controller.getAllParsedValues(l));l._cache.$bar=D0(u.sort((h,m)=>h-m))}return l._cache.$bar}function ow(l){const s=l.iScale,a=aw(s,l.type);let u=s._length,h,m,v,w;const S=()=>{v===32767||v===-32768||(Zu(w)&&(u=Math.min(u,Math.abs(v-w)||u)),w=v)};for(h=0,m=a.length;h<m;++h)v=s.getPixelForValue(a[h]),S();for(w=void 0,h=0,m=s.ticks.length;h<m;++h)v=s.getPixelForTick(h),S();return u}function rw(l,s,a,u){const h=a.barThickness;let m,v;return Ft(h)?(m=s.min*a.categoryPercentage,v=a.barPercentage):(m=h*u,v=1),{chunk:m/u,ratio:v,start:s.pixels[l]-m/2}}function lw(l,s,a,u){const h=s.pixels,m=h[l];let v=l>0?h[l-1]:null,w=l<h.length-1?h[l+1]:null;const S=a.categoryPercentage;v===null&&(v=m-(w===null?s.end-s.start:w-m)),w===null&&(w=m+m-v);const D=m-(m-Math.min(v,w))/2*S;return{chunk:Math.abs(w-v)/2*S/u,ratio:a.barPercentage,start:D}}function uw(l,s,a,u){const h=a.parse(l[0],u),m=a.parse(l[1],u),v=Math.min(h,m),w=Math.max(h,m);let S=v,D=w;Math.abs(v)>Math.abs(w)&&(S=w,D=v),s[a.axis]=D,s._custom={barStart:S,barEnd:D,start:h,end:m,min:v,max:w}}function K0(l,s,a,u){return cn(l)?uw(l,s,a,u):s[a.axis]=a.parse(l,u),s}function zm(l,s,a,u){const h=l.iScale,m=l.vScale,v=h.getLabels(),w=h===m,S=[];let D,A,O,N;for(D=a,A=a+u;D<A;++D)N=s[D],O={},O[h.axis]=w||h.parse(v[D],D),S.push(K0(N,O,m,D));return S}function Hf(l){return l&&l.barStart!==void 0&&l.barEnd!==void 0}function cw(l,s,a){return l!==0?ra(l):(s.isHorizontal()?1:-1)*(s.min>=a?1:-1)}function dw(l){let s,a,u,h,m;return l.horizontal?(s=l.base>l.x,a="left",u="right"):(s=l.base<l.y,a="bottom",u="top"),s?(h="end",m="start"):(h="start",m="end"),{start:a,end:u,reverse:s,top:h,bottom:m}}function hw(l,s,a,u){let h=s.borderSkipped;const m={};if(!h){l.borderSkipped=m;return}if(h===!0){l.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:v,end:w,reverse:S,top:D,bottom:A}=dw(l);h==="middle"&&a&&(l.enableBorderRadius=!0,(a._top||0)===u?h=D:(a._bottom||0)===u?h=A:(m[Hm(A,v,w,S)]=!0,h=D)),m[Hm(h,v,w,S)]=!0,l.borderSkipped=m}function Hm(l,s,a,u){return u?(l=fw(l,s,a),l=Vm(l,a,s)):l=Vm(l,s,a),l}function fw(l,s,a){return l===s?a:l===a?s:l}function Vm(l,s,a){return l==="start"?s:l==="end"?a:l}function pw(l,{inflateAmount:s},a){l.inflateAmount=s==="auto"?a===1?.33:0:s}class nh extends Os{parsePrimitiveData(s,a,u,h){return zm(s,a,u,h)}parseArrayData(s,a,u,h){return zm(s,a,u,h)}parseObjectData(s,a,u,h){const{iScale:m,vScale:v}=s,{xAxisKey:w="x",yAxisKey:S="y"}=this._parsing,D=m.axis==="x"?w:S,A=v.axis==="x"?w:S,O=[];let N,V,Y,$;for(N=u,V=u+h;N<V;++N)$=a[N],Y={},Y[m.axis]=m.parse(So($,D),N),O.push(K0(So($,A),Y,v,N));return O}updateRangeFromParsed(s,a,u,h){super.updateRangeFromParsed(s,a,u,h);const m=u._custom;m&&a===this._cachedMeta.vScale&&(s.min=Math.min(s.min,m.min),s.max=Math.max(s.max,m.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const a=this._cachedMeta,{iScale:u,vScale:h}=a,m=this.getParsed(s),v=m._custom,w=Hf(v)?"["+v.start+", "+v.end+"]":""+h.getLabelForValue(m[h.axis]);return{label:""+u.getLabelForValue(m[u.axis]),value:w}}initialize(){this.enableOptionSharing=!0,super.initialize();const s=this._cachedMeta;s.stack=this.getDataset().stack}update(s){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,s)}updateElements(s,a,u,h){const m=h==="reset",{index:v,_cachedMeta:{vScale:w}}=this,S=w.getBasePixel(),D=w.isHorizontal(),A=this._getRuler(),{sharedOptions:O,includeOptions:N}=this._getSharedOptions(a,h);for(let V=a;V<a+u;V++){const Y=this.getParsed(V),$=m||Ft(Y[w.axis])?{base:S,head:S}:this._calculateBarValuePixels(V),te=this._calculateBarIndexPixels(V,A),X=(Y._stacks||{})[w.axis],K={horizontal:D,base:$.base,enableBorderRadius:!X||Hf(Y._custom)||v===X._top||v===X._bottom,x:D?$.head:te.center,y:D?te.center:$.head,height:D?te.size:Math.abs($.size),width:D?Math.abs($.size):te.size};N&&(K.options=O||this.resolveDataElementOptions(V,s[V].active?"active":h));const re=K.options||s[V].options;hw(K,re,X,v),pw(K,re,A.ratio),this.updateElement(s[V],V,K,h)}}_getStacks(s,a){const{iScale:u}=this._cachedMeta,h=u.getMatchingVisibleMetas(this._type).filter(A=>A.controller.options.grouped),m=u.options.stacked,v=[],w=this._cachedMeta.controller.getParsed(a),S=w&&w[u.axis],D=A=>{const O=A._parsed.find(V=>V[u.axis]===S),N=O&&O[A.vScale.axis];if(Ft(N)||isNaN(N))return!0};for(const A of h)if(!(a!==void 0&&D(A))&&((m===!1||v.indexOf(A.stack)===-1||m===void 0&&A.stack===void 0)&&v.push(A.stack),A.index===s))break;return v.length||v.push(void 0),v}_getStackCount(s){return this._getStacks(void 0,s).length}_getStackIndex(s,a,u){const h=this._getStacks(s,u),m=a!==void 0?h.indexOf(a):-1;return m===-1?h.length-1:m}_getRuler(){const s=this.options,a=this._cachedMeta,u=a.iScale,h=[];let m,v;for(m=0,v=a.data.length;m<v;++m)h.push(u.getPixelForValue(this.getParsed(m)[u.axis],m));const w=s.barThickness;return{min:w||ow(a),pixels:h,start:u._startPixel,end:u._endPixel,stackCount:this._getStackCount(),scale:u,grouped:s.grouped,ratio:w?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:a,_stacked:u,index:h},options:{base:m,minBarLength:v}}=this,w=m||0,S=this.getParsed(s),D=S._custom,A=Hf(D);let O=S[a.axis],N=0,V=u?this.applyStack(a,S,u):O,Y,$;V!==O&&(N=V-O,V=O),A&&(O=D.barStart,V=D.barEnd-D.barStart,O!==0&&ra(O)!==ra(D.barEnd)&&(N=0),N+=O);const te=!Ft(m)&&!A?m:N;let X=a.getPixelForValue(te);if(this.chart.getDataVisibility(s)?Y=a.getPixelForValue(N+V):Y=X,$=Y-X,Math.abs($)<v){$=cw($,a,w)*v,O===w&&(X-=$/2);const K=a.getPixelForDecimal(0),re=a.getPixelForDecimal(1),ie=Math.min(K,re),se=Math.max(K,re);X=Math.max(Math.min(X,se),ie),Y=X+$,u&&!A&&(S._stacks[a.axis]._visualValues[h]=a.getValueForPixel(Y)-a.getValueForPixel(X))}if(X===a.getPixelForValue(w)){const K=ra($)*a.getLineWidthForValue(w)/2;X+=K,$-=K}return{size:$,base:X,head:Y,center:Y+$/2}}_calculateBarIndexPixels(s,a){const u=a.scale,h=this.options,m=h.skipNull,v=At(h.maxBarThickness,1/0);let w,S;if(a.grouped){const D=m?this._getStackCount(s):a.stackCount,A=h.barThickness==="flex"?lw(s,a,h,D):rw(s,a,h,D),O=this._getStackIndex(this.index,this._cachedMeta.stack,m?s:void 0);w=A.start+A.chunk*O+A.chunk/2,S=Math.min(v,A.chunk*A.ratio)}else w=u.getPixelForValue(this.getParsed(s)[u.axis],s),S=Math.min(v,a.min*a.ratio);return{base:w-S/2,head:w+S/2,center:w,size:S}}draw(){const s=this._cachedMeta,a=s.vScale,u=s.data,h=u.length;let m=0;for(;m<h;++m)this.getParsed(m)[a.axis]!==null&&!u[m].hidden&&u[m].draw(this._ctx)}}ae(nh,"id","bar"),ae(nh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ae(nh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ih extends Os{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,a,u,h){const m=super.parsePrimitiveData(s,a,u,h);for(let v=0;v<m.length;v++)m[v]._custom=this.resolveDataElementOptions(v+u).radius;return m}parseArrayData(s,a,u,h){const m=super.parseArrayData(s,a,u,h);for(let v=0;v<m.length;v++){const w=a[u+v];m[v]._custom=At(w[2],this.resolveDataElementOptions(v+u).radius)}return m}parseObjectData(s,a,u,h){const m=super.parseObjectData(s,a,u,h);for(let v=0;v<m.length;v++){const w=a[u+v];m[v]._custom=At(w&&w.r&&+w.r,this.resolveDataElementOptions(v+u).radius)}return m}getMaxOverflow(){const s=this._cachedMeta.data;let a=0;for(let u=s.length-1;u>=0;--u)a=Math.max(a,s[u].size(this.resolveDataElementOptions(u))/2);return a>0&&a}getLabelAndValue(s){const a=this._cachedMeta,u=this.chart.data.labels||[],{xScale:h,yScale:m}=a,v=this.getParsed(s),w=h.getLabelForValue(v.x),S=m.getLabelForValue(v.y),D=v._custom;return{label:u[s]||"",value:"("+w+", "+S+(D?", "+D:"")+")"}}update(s){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,s)}updateElements(s,a,u,h){const m=h==="reset",{iScale:v,vScale:w}=this._cachedMeta,{sharedOptions:S,includeOptions:D}=this._getSharedOptions(a,h),A=v.axis,O=w.axis;for(let N=a;N<a+u;N++){const V=s[N],Y=!m&&this.getParsed(N),$={},te=$[A]=m?v.getPixelForDecimal(.5):v.getPixelForValue(Y[A]),X=$[O]=m?w.getBasePixel():w.getPixelForValue(Y[O]);$.skip=isNaN(te)||isNaN(X),D&&($.options=S||this.resolveDataElementOptions(N,V.active?"active":h),m&&($.options.radius=0)),this.updateElement(V,N,$,h)}}resolveDataElementOptions(s,a){const u=this.getParsed(s);let h=super.resolveDataElementOptions(s,a);h.$shared&&(h=Object.assign({},h,{$shared:!1}));const m=h.radius;return a!=="active"&&(h.radius=0),h.radius+=At(u&&u._custom,m),h}}ae(ih,"id","bubble"),ae(ih,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ae(ih,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function mw(l,s,a){let u=1,h=1,m=0,v=0;if(s<dn){const w=l,S=w+s,D=Math.cos(w),A=Math.sin(w),O=Math.cos(S),N=Math.sin(S),V=(re,ie,se)=>Ju(re,w,S,!0)?1:Math.max(ie,ie*a,se,se*a),Y=(re,ie,se)=>Ju(re,w,S,!0)?-1:Math.min(ie,ie*a,se,se*a),$=V(0,D,O),te=V(zn,A,N),X=Y(fn,D,O),K=Y(fn+zn,A,N);u=($-X)/2,h=(te-K)/2,m=-($+X)/2,v=-(te+K)/2}return{ratioX:u,ratioY:h,offsetX:m,offsetY:v}}class fr extends Os{constructor(s,a){super(s,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,a){const u=this.getDataset().data,h=this._cachedMeta;if(this._parsing===!1)h._parsed=u;else{let m=S=>+u[S];if(Lt(u[s])){const{key:S="value"}=this._parsing;m=D=>+So(u[D],S)}let v,w;for(v=s,w=s+a;v<w;++v)h._parsed[v]=m(v)}}_getRotation(){return Ls(this.options.rotation-90)}_getCircumference(){return Ls(this.options.circumference)}_getRotationExtents(){let s=dn,a=-dn;for(let u=0;u<this.chart.data.datasets.length;++u)if(this.chart.isDatasetVisible(u)&&this.chart.getDatasetMeta(u).type===this._type){const h=this.chart.getDatasetMeta(u).controller,m=h._getRotation(),v=h._getCircumference();s=Math.min(s,m),a=Math.max(a,m+v)}return{rotation:s,circumference:a-s}}update(s){const a=this.chart,{chartArea:u}=a,h=this._cachedMeta,m=h.data,v=this.getMaxBorderWidth()+this.getMaxOffset(m)+this.options.spacing,w=Math.max((Math.min(u.width,u.height)-v)/2,0),S=Math.min(T1(this.options.cutout,w),1),D=this._getRingWeight(this.index),{circumference:A,rotation:O}=this._getRotationExtents(),{ratioX:N,ratioY:V,offsetX:Y,offsetY:$}=mw(O,A,S),te=(u.width-v)/N,X=(u.height-v)/V,K=Math.max(Math.min(te,X)/2,0),re=C0(this.options.radius,K),ie=Math.max(re*S,0),se=(re-ie)/this._getVisibleDatasetWeightTotal();this.offsetX=Y*re,this.offsetY=$*re,h.total=this.calculateTotal(),this.outerRadius=re-se*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-se*D,0),this.updateElements(m,0,m.length,s)}_circumference(s,a){const u=this.options,h=this._cachedMeta,m=this._getCircumference();return a&&u.animation.animateRotate||!this.chart.getDataVisibility(s)||h._parsed[s]===null||h.data[s].hidden?0:this.calculateCircumference(h._parsed[s]*m/dn)}updateElements(s,a,u,h){const m=h==="reset",v=this.chart,w=v.chartArea,D=v.options.animation,A=(w.left+w.right)/2,O=(w.top+w.bottom)/2,N=m&&D.animateScale,V=N?0:this.innerRadius,Y=N?0:this.outerRadius,{sharedOptions:$,includeOptions:te}=this._getSharedOptions(a,h);let X=this._getRotation(),K;for(K=0;K<a;++K)X+=this._circumference(K,m);for(K=a;K<a+u;++K){const re=this._circumference(K,m),ie=s[K],se={x:A+this.offsetX,y:O+this.offsetY,startAngle:X,endAngle:X+re,circumference:re,outerRadius:Y,innerRadius:V};te&&(se.options=$||this.resolveDataElementOptions(K,ie.active?"active":h)),X+=re,this.updateElement(ie,K,se,h)}}calculateTotal(){const s=this._cachedMeta,a=s.data;let u=0,h;for(h=0;h<a.length;h++){const m=s._parsed[h];m!==null&&!isNaN(m)&&this.chart.getDataVisibility(h)&&!a[h].hidden&&(u+=Math.abs(m))}return u}calculateCircumference(s){const a=this._cachedMeta.total;return a>0&&!isNaN(s)?dn*(Math.abs(s)/a):0}getLabelAndValue(s){const a=this._cachedMeta,u=this.chart,h=u.data.labels||[],m=ic(a._parsed[s],u.options.locale);return{label:h[s]||"",value:m}}getMaxBorderWidth(s){let a=0;const u=this.chart;let h,m,v,w,S;if(!s){for(h=0,m=u.data.datasets.length;h<m;++h)if(u.isDatasetVisible(h)){v=u.getDatasetMeta(h),s=v.data,w=v.controller;break}}if(!s)return 0;for(h=0,m=s.length;h<m;++h)S=w.resolveDataElementOptions(h),S.borderAlign!=="inner"&&(a=Math.max(a,S.borderWidth||0,S.hoverBorderWidth||0));return a}getMaxOffset(s){let a=0;for(let u=0,h=s.length;u<h;++u){const m=this.resolveDataElementOptions(u);a=Math.max(a,m.offset||0,m.hoverOffset||0)}return a}_getRingWeightOffset(s){let a=0;for(let u=0;u<s;++u)this.chart.isDatasetVisible(u)&&(a+=this._getRingWeight(u));return a}_getRingWeight(s){return Math.max(At(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ae(fr,"id","doughnut"),ae(fr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ae(fr,"descriptors",{_scriptable:s=>s!=="spacing",_indexable:s=>s!=="spacing"&&!s.startsWith("borderDash")&&!s.startsWith("hoverBorderDash")}),ae(fr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const a=s.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:u,color:h}}=s.legend.options;return a.labels.map((m,v)=>{const S=s.getDatasetMeta(0).controller.getStyle(v);return{text:m,fillStyle:S.backgroundColor,strokeStyle:S.borderColor,fontColor:h,lineWidth:S.borderWidth,pointStyle:u,hidden:!s.getDataVisibility(v),index:v}})}return[]}},onClick(s,a,u){u.chart.toggleDataVisibility(a.index),u.chart.update()}}}});class sh extends Os{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const a=this._cachedMeta,{dataset:u,data:h=[],_dataset:m}=a,v=this.chart._animationsDisabled;let{start:w,count:S}=A0(a,h,v);this._drawStart=w,this._drawCount=S,F0(a)&&(w=0,S=h.length),u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!m._decimated,u.points=h;const D=this.resolveDatasetElementOptions(s);this.options.showLine||(D.borderWidth=0),D.segment=this.options.segment,this.updateElement(u,void 0,{animated:!v,options:D},s),this.updateElements(h,w,S,s)}updateElements(s,a,u,h){const m=h==="reset",{iScale:v,vScale:w,_stacked:S,_dataset:D}=this._cachedMeta,{sharedOptions:A,includeOptions:O}=this._getSharedOptions(a,h),N=v.axis,V=w.axis,{spanGaps:Y,segment:$}=this.options,te=sl(Y)?Y:Number.POSITIVE_INFINITY,X=this.chart._animationsDisabled||m||h==="none",K=a+u,re=s.length;let ie=a>0&&this.getParsed(a-1);for(let se=0;se<re;++se){const ke=s[se],be=X?ke:{};if(se<a||se>=K){be.skip=!0;continue}const ve=this.getParsed(se),Te=Ft(ve[V]),Ke=be[N]=v.getPixelForValue(ve[N],se),Le=be[V]=m||Te?w.getBasePixel():w.getPixelForValue(S?this.applyStack(w,ve,S):ve[V],se);be.skip=isNaN(Ke)||isNaN(Le)||Te,be.stop=se>0&&Math.abs(ve[N]-ie[N])>te,$&&(be.parsed=ve,be.raw=D.data[se]),O&&(be.options=A||this.resolveDataElementOptions(se,ke.active?"active":h)),X||this.updateElement(ke,se,be,h),ie=ve}}getMaxOverflow(){const s=this._cachedMeta,a=s.dataset,u=a.options&&a.options.borderWidth||0,h=s.data||[];if(!h.length)return u;const m=h[0].size(this.resolveDataElementOptions(0)),v=h[h.length-1].size(this.resolveDataElementOptions(h.length-1));return Math.max(u,m,v)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}ae(sh,"id","line"),ae(sh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ae(sh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ju extends Os{constructor(s,a){super(s,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const a=this._cachedMeta,u=this.chart,h=u.data.labels||[],m=ic(a._parsed[s].r,u.options.locale);return{label:h[s]||"",value:m}}parseObjectData(s,a,u,h){return z0.bind(this)(s,a,u,h)}update(s){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,s)}getMinMax(){const s=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return s.data.forEach((u,h)=>{const m=this.getParsed(h).r;!isNaN(m)&&this.chart.getDataVisibility(h)&&(m<a.min&&(a.min=m),m>a.max&&(a.max=m))}),a}_updateRadius(){const s=this.chart,a=s.chartArea,u=s.options,h=Math.min(a.right-a.left,a.bottom-a.top),m=Math.max(h/2,0),v=Math.max(u.cutoutPercentage?m/100*u.cutoutPercentage:1,0),w=(m-v)/s.getVisibleDatasetCount();this.outerRadius=m-w*this.index,this.innerRadius=this.outerRadius-w}updateElements(s,a,u,h){const m=h==="reset",v=this.chart,S=v.options.animation,D=this._cachedMeta.rScale,A=D.xCenter,O=D.yCenter,N=D.getIndexAngle(0)-.5*fn;let V=N,Y;const $=360/this.countVisibleElements();for(Y=0;Y<a;++Y)V+=this._computeAngle(Y,h,$);for(Y=a;Y<a+u;Y++){const te=s[Y];let X=V,K=V+this._computeAngle(Y,h,$),re=v.getDataVisibility(Y)?D.getDistanceFromCenterForValue(this.getParsed(Y).r):0;V=K,m&&(S.animateScale&&(re=0),S.animateRotate&&(X=K=N));const ie={x:A,y:O,innerRadius:0,outerRadius:re,startAngle:X,endAngle:K,options:this.resolveDataElementOptions(Y,te.active?"active":h)};this.updateElement(te,Y,ie,h)}}countVisibleElements(){const s=this._cachedMeta;let a=0;return s.data.forEach((u,h)=>{!isNaN(this.getParsed(h).r)&&this.chart.getDataVisibility(h)&&a++}),a}_computeAngle(s,a,u){return this.chart.getDataVisibility(s)?Ls(this.resolveDataElementOptions(s,a).angle||u):0}}ae(ju,"id","polarArea"),ae(ju,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ae(ju,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const a=s.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:u,color:h}}=s.legend.options;return a.labels.map((m,v)=>{const S=s.getDatasetMeta(0).controller.getStyle(v);return{text:m,fillStyle:S.backgroundColor,strokeStyle:S.borderColor,fontColor:h,lineWidth:S.borderWidth,pointStyle:u,hidden:!s.getDataVisibility(v),index:v}})}return[]}},onClick(s,a,u){u.chart.toggleDataVisibility(a.index),u.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ip extends fr{}ae(ip,"id","pie"),ae(ip,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class ah extends Os{getLabelAndValue(s){const a=this._cachedMeta.vScale,u=this.getParsed(s);return{label:a.getLabels()[s],value:""+a.getLabelForValue(u[a.axis])}}parseObjectData(s,a,u,h){return z0.bind(this)(s,a,u,h)}update(s){const a=this._cachedMeta,u=a.dataset,h=a.data||[],m=a.iScale.getLabels();if(u.points=h,s!=="resize"){const v=this.resolveDatasetElementOptions(s);this.options.showLine||(v.borderWidth=0);const w={_loop:!0,_fullLoop:m.length===h.length,options:v};this.updateElement(u,void 0,w,s)}this.updateElements(h,0,h.length,s)}updateElements(s,a,u,h){const m=this._cachedMeta.rScale,v=h==="reset";for(let w=a;w<a+u;w++){const S=s[w],D=this.resolveDataElementOptions(w,S.active?"active":h),A=m.getPointPositionForValue(w,this.getParsed(w).r),O=v?m.xCenter:A.x,N=v?m.yCenter:A.y,V={x:O,y:N,angle:A.angle,skip:isNaN(O)||isNaN(N),options:D};this.updateElement(S,w,V,h)}}}ae(ah,"id","radar"),ae(ah,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ae(ah,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class oh extends Os{getLabelAndValue(s){const a=this._cachedMeta,u=this.chart.data.labels||[],{xScale:h,yScale:m}=a,v=this.getParsed(s),w=h.getLabelForValue(v.x),S=m.getLabelForValue(v.y);return{label:u[s]||"",value:"("+w+", "+S+")"}}update(s){const a=this._cachedMeta,{data:u=[]}=a,h=this.chart._animationsDisabled;let{start:m,count:v}=A0(a,u,h);if(this._drawStart=m,this._drawCount=v,F0(a)&&(m=0,v=u.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:w,_dataset:S}=a;w._chart=this.chart,w._datasetIndex=this.index,w._decimated=!!S._decimated,w.points=u;const D=this.resolveDatasetElementOptions(s);D.segment=this.options.segment,this.updateElement(w,void 0,{animated:!h,options:D},s)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(u,m,v,s)}addElements(){const{showLine:s}=this.options;!this.datasetElementType&&s&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(s,a,u,h){const m=h==="reset",{iScale:v,vScale:w,_stacked:S,_dataset:D}=this._cachedMeta,A=this.resolveDataElementOptions(a,h),O=this.getSharedOptions(A),N=this.includeOptions(h,O),V=v.axis,Y=w.axis,{spanGaps:$,segment:te}=this.options,X=sl($)?$:Number.POSITIVE_INFINITY,K=this.chart._animationsDisabled||m||h==="none";let re=a>0&&this.getParsed(a-1);for(let ie=a;ie<a+u;++ie){const se=s[ie],ke=this.getParsed(ie),be=K?se:{},ve=Ft(ke[Y]),Te=be[V]=v.getPixelForValue(ke[V],ie),Ke=be[Y]=m||ve?w.getBasePixel():w.getPixelForValue(S?this.applyStack(w,ke,S):ke[Y],ie);be.skip=isNaN(Te)||isNaN(Ke)||ve,be.stop=ie>0&&Math.abs(ke[V]-re[V])>X,te&&(be.parsed=ke,be.raw=D.data[ie]),N&&(be.options=O||this.resolveDataElementOptions(ie,se.active?"active":h)),K||this.updateElement(se,ie,be,h),re=ke}this.updateSharedOptions(O,h,A)}getMaxOverflow(){const s=this._cachedMeta,a=s.data||[];if(!this.options.showLine){let w=0;for(let S=a.length-1;S>=0;--S)w=Math.max(w,a[S].size(this.resolveDataElementOptions(S))/2);return w>0&&w}const u=s.dataset,h=u.options&&u.options.borderWidth||0;if(!a.length)return h;const m=a[0].size(this.resolveDataElementOptions(0)),v=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(h,m,v)/2}}ae(oh,"id","scatter"),ae(oh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ae(oh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var gw=Object.freeze({__proto__:null,BarController:nh,BubbleController:ih,DoughnutController:fr,LineController:sh,PieController:ip,PolarAreaController:ju,RadarController:ah,ScatterController:oh});function lr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Op{constructor(s){ae(this,"options");this.options=s||{}}static override(s){Object.assign(Op.prototype,s)}init(){}formats(){return lr()}parse(){return lr()}format(){return lr()}add(){return lr()}diff(){return lr()}startOf(){return lr()}endOf(){return lr()}}var X0={_date:Op};function vw(l,s,a,u){const{controller:h,data:m,_sorted:v}=l,w=h._cachedMeta.iScale,S=l.dataset&&l.dataset.options?l.dataset.options.spanGaps:null;if(w&&s===w.axis&&s!=="r"&&v&&m.length){const D=w._reversePixels?V1:Na;if(u){if(h._sharedOptions){const A=m[0],O=typeof A.getRange=="function"&&A.getRange(s);if(O){const N=D(m,s,a-O),V=D(m,s,a+O);return{lo:N.lo,hi:V.hi}}}}else{const A=D(m,s,a);if(S){const{vScale:O}=h._cachedMeta,{_parsed:N}=l,V=N.slice(0,A.lo+1).reverse().findIndex($=>!Ft($[O.axis]));A.lo-=Math.max(0,V);const Y=N.slice(A.hi).findIndex($=>!Ft($[O.axis]));A.hi+=Math.max(0,Y)}return A}}return{lo:0,hi:m.length-1}}function kh(l,s,a,u,h){const m=l.getSortedVisibleDatasetMetas(),v=a[s];for(let w=0,S=m.length;w<S;++w){const{index:D,data:A}=m[w],{lo:O,hi:N}=vw(m[w],s,v,h);for(let V=O;V<=N;++V){const Y=A[V];Y.skip||u(Y,D,V)}}}function bw(l){const s=l.indexOf("x")!==-1,a=l.indexOf("y")!==-1;return function(u,h){const m=s?Math.abs(u.x-h.x):0,v=a?Math.abs(u.y-h.y):0;return Math.sqrt(Math.pow(m,2)+Math.pow(v,2))}}function Vf(l,s,a,u,h){const m=[];return!h&&!l.isPointInArea(s)||kh(l,a,s,function(w,S,D){!h&&!Ra(w,l.chartArea,0)||w.inRange(s.x,s.y,u)&&m.push({element:w,datasetIndex:S,index:D})},!0),m}function yw(l,s,a,u){let h=[];function m(v,w,S){const{startAngle:D,endAngle:A}=v.getProps(["startAngle","endAngle"],u),{angle:O}=k0(v,{x:s.x,y:s.y});Ju(O,D,A)&&h.push({element:v,datasetIndex:w,index:S})}return kh(l,a,s,m),h}function _w(l,s,a,u,h,m){let v=[];const w=bw(a);let S=Number.POSITIVE_INFINITY;function D(A,O,N){const V=A.inRange(s.x,s.y,h);if(u&&!V)return;const Y=A.getCenterPoint(h);if(!(!!m||l.isPointInArea(Y))&&!V)return;const te=w(s,Y);te<S?(v=[{element:A,datasetIndex:O,index:N}],S=te):te===S&&v.push({element:A,datasetIndex:O,index:N})}return kh(l,a,s,D),v}function Mf(l,s,a,u,h,m){return!m&&!l.isPointInArea(s)?[]:a==="r"&&!u?yw(l,s,a,h):_w(l,s,a,u,h,m)}function Mm(l,s,a,u,h){const m=[],v=a==="x"?"inXRange":"inYRange";let w=!1;return kh(l,a,s,(S,D,A)=>{S[v]&&S[v](s[a],h)&&(m.push({element:S,datasetIndex:D,index:A}),w=w||S.inRange(s.x,s.y,h))}),u&&!w?[]:m}var Cw={modes:{index(l,s,a,u){const h=cr(s,l),m=a.axis||"x",v=a.includeInvisible||!1,w=a.intersect?Vf(l,h,m,u,v):Mf(l,h,m,!1,u,v),S=[];return w.length?(l.getSortedVisibleDatasetMetas().forEach(D=>{const A=w[0].index,O=D.data[A];O&&!O.skip&&S.push({element:O,datasetIndex:D.index,index:A})}),S):[]},dataset(l,s,a,u){const h=cr(s,l),m=a.axis||"xy",v=a.includeInvisible||!1;let w=a.intersect?Vf(l,h,m,u,v):Mf(l,h,m,!1,u,v);if(w.length>0){const S=w[0].datasetIndex,D=l.getDatasetMeta(S).data;w=[];for(let A=0;A<D.length;++A)w.push({element:D[A],datasetIndex:S,index:A})}return w},point(l,s,a,u){const h=cr(s,l),m=a.axis||"xy",v=a.includeInvisible||!1;return Vf(l,h,m,u,v)},nearest(l,s,a,u){const h=cr(s,l),m=a.axis||"xy",v=a.includeInvisible||!1;return Mf(l,h,m,a.intersect,u,v)},x(l,s,a,u){const h=cr(s,l);return Mm(l,h,"x",a.intersect,u)},y(l,s,a,u){const h=cr(s,l);return Mm(l,h,"y",a.intersect,u)}}};const Z0=["left","top","right","bottom"];function Du(l,s){return l.filter(a=>a.pos===s)}function Wm(l,s){return l.filter(a=>Z0.indexOf(a.pos)===-1&&a.box.axis===s)}function Tu(l,s){return l.sort((a,u)=>{const h=s?u:a,m=s?a:u;return h.weight===m.weight?h.index-m.index:h.weight-m.weight})}function ww(l){const s=[];let a,u,h,m,v,w;for(a=0,u=(l||[]).length;a<u;++a)h=l[a],{position:m,options:{stack:v,stackWeight:w=1}}=h,s.push({index:a,box:h,pos:m,horizontal:h.isHorizontal(),weight:h.weight,stack:v&&m+v,stackWeight:w});return s}function xw(l){const s={};for(const a of l){const{stack:u,pos:h,stackWeight:m}=a;if(!u||!Z0.includes(h))continue;const v=s[u]||(s[u]={count:0,placed:0,weight:0,size:0});v.count++,v.weight+=m}return s}function kw(l,s){const a=xw(l),{vBoxMaxWidth:u,hBoxMaxHeight:h}=s;let m,v,w;for(m=0,v=l.length;m<v;++m){w=l[m];const{fullSize:S}=w.box,D=a[w.stack],A=D&&w.stackWeight/D.weight;w.horizontal?(w.width=A?A*u:S&&s.availableWidth,w.height=h):(w.width=u,w.height=A?A*h:S&&s.availableHeight)}return a}function Sw(l){const s=ww(l),a=Tu(s.filter(D=>D.box.fullSize),!0),u=Tu(Du(s,"left"),!0),h=Tu(Du(s,"right")),m=Tu(Du(s,"top"),!0),v=Tu(Du(s,"bottom")),w=Wm(s,"x"),S=Wm(s,"y");return{fullSize:a,leftAndTop:u.concat(m),rightAndBottom:h.concat(S).concat(v).concat(w),chartArea:Du(s,"chartArea"),vertical:u.concat(h).concat(S),horizontal:m.concat(v).concat(w)}}function jm(l,s,a,u){return Math.max(l[a],s[a])+Math.max(l[u],s[u])}function J0(l,s){l.top=Math.max(l.top,s.top),l.left=Math.max(l.left,s.left),l.bottom=Math.max(l.bottom,s.bottom),l.right=Math.max(l.right,s.right)}function Dw(l,s,a,u){const{pos:h,box:m}=a,v=l.maxPadding;if(!Lt(h)){a.size&&(l[h]-=a.size);const O=u[a.stack]||{size:0,count:1};O.size=Math.max(O.size,a.horizontal?m.height:m.width),a.size=O.size/O.count,l[h]+=a.size}m.getPadding&&J0(v,m.getPadding());const w=Math.max(0,s.outerWidth-jm(v,l,"left","right")),S=Math.max(0,s.outerHeight-jm(v,l,"top","bottom")),D=w!==l.w,A=S!==l.h;return l.w=w,l.h=S,a.horizontal?{same:D,other:A}:{same:A,other:D}}function Tw(l){const s=l.maxPadding;function a(u){const h=Math.max(s[u]-l[u],0);return l[u]+=h,h}l.y+=a("top"),l.x+=a("left"),a("right"),a("bottom")}function Ew(l,s){const a=s.maxPadding;function u(h){const m={left:0,top:0,right:0,bottom:0};return h.forEach(v=>{m[v]=Math.max(s[v],a[v])}),m}return u(l?["left","right"]:["top","bottom"])}function Nu(l,s,a,u){const h=[];let m,v,w,S,D,A;for(m=0,v=l.length,D=0;m<v;++m){w=l[m],S=w.box,S.update(w.width||s.w,w.height||s.h,Ew(w.horizontal,s));const{same:O,other:N}=Dw(s,a,w,u);D|=O&&h.length,A=A||N,S.fullSize||h.push(w)}return D&&Nu(h,s,a,u)||A}function jd(l,s,a,u,h){l.top=a,l.left=s,l.right=s+u,l.bottom=a+h,l.width=u,l.height=h}function Um(l,s,a,u){const h=a.padding;let{x:m,y:v}=s;for(const w of l){const S=w.box,D=u[w.stack]||{placed:0,weight:1},A=w.stackWeight/D.weight||1;if(w.horizontal){const O=s.w*A,N=D.size||S.height;Zu(D.start)&&(v=D.start),S.fullSize?jd(S,h.left,v,a.outerWidth-h.right-h.left,N):jd(S,s.left+D.placed,v,O,N),D.start=v,D.placed+=O,v=S.bottom}else{const O=s.h*A,N=D.size||S.width;Zu(D.start)&&(m=D.start),S.fullSize?jd(S,m,h.top,N,a.outerHeight-h.bottom-h.top):jd(S,m,s.top+D.placed,N,O),D.start=m,D.placed+=O,m=S.right}}s.x=m,s.y=v}var Ti={addBox(l,s){l.boxes||(l.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(a){s.draw(a)}}]},l.boxes.push(s)},removeBox(l,s){const a=l.boxes?l.boxes.indexOf(s):-1;a!==-1&&l.boxes.splice(a,1)},configure(l,s,a){s.fullSize=a.fullSize,s.position=a.position,s.weight=a.weight},update(l,s,a,u){if(!l)return;const h=yi(l.options.layout.padding),m=Math.max(s-h.width,0),v=Math.max(a-h.height,0),w=Sw(l.boxes),S=w.vertical,D=w.horizontal;Gt(l.boxes,$=>{typeof $.beforeLayout=="function"&&$.beforeLayout()});const A=S.reduce(($,te)=>te.box.options&&te.box.options.display===!1?$:$+1,0)||1,O=Object.freeze({outerWidth:s,outerHeight:a,padding:h,availableWidth:m,availableHeight:v,vBoxMaxWidth:m/2/A,hBoxMaxHeight:v/2}),N=Object.assign({},h);J0(N,yi(u));const V=Object.assign({maxPadding:N,w:m,h:v,x:h.left,y:h.top},h),Y=kw(S.concat(D),O);Nu(w.fullSize,V,O,Y),Nu(S,V,O,Y),Nu(D,V,O,Y)&&Nu(S,V,O,Y),Tw(V),Um(w.leftAndTop,V,O,Y),V.x+=V.w,V.y+=V.h,Um(w.rightAndBottom,V,O,Y),l.chartArea={left:V.left,top:V.top,right:V.left+V.w,bottom:V.top+V.h,height:V.h,width:V.w},Gt(w.chartArea,$=>{const te=$.box;Object.assign(te,l.chartArea),te.update(V.w,V.h,{left:0,top:0,right:0,bottom:0})})}};class Q0{acquireContext(s,a){}releaseContext(s){return!1}addEventListener(s,a,u){}removeEventListener(s,a,u){}getDevicePixelRatio(){return 1}getMaximumSize(s,a,u,h){return a=Math.max(0,a||s.width),u=u||s.height,{width:a,height:Math.max(0,h?Math.floor(a/h):u)}}isAttached(s){return!0}updateConfig(s){}}class Aw extends Q0{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const rh="$chartjs",Fw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qm=l=>l===null||l==="";function Iw(l,s){const a=l.style,u=l.getAttribute("height"),h=l.getAttribute("width");if(l[rh]={initial:{height:u,width:h,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",qm(h)){const m=Em(l,"width");m!==void 0&&(l.width=m)}if(qm(u))if(l.style.height==="")l.height=l.width/(s||2);else{const m=Em(l,"height");m!==void 0&&(l.height=m)}return l}const $0=OC?{passive:!0}:!1;function Lw(l,s,a){l&&l.addEventListener(s,a,$0)}function Ow(l,s,a){l&&l.canvas&&l.canvas.removeEventListener(s,a,$0)}function Pw(l,s){const a=Fw[l.type]||l.type,{x:u,y:h}=cr(l,s);return{type:a,chart:s,native:l,x:u!==void 0?u:null,y:h!==void 0?h:null}}function mh(l,s){for(const a of l)if(a===s||a.contains(s))return!0}function Bw(l,s,a){const u=l.canvas,h=new MutationObserver(m=>{let v=!1;for(const w of m)v=v||mh(w.addedNodes,u),v=v&&!mh(w.removedNodes,u);v&&a()});return h.observe(document,{childList:!0,subtree:!0}),h}function Nw(l,s,a){const u=l.canvas,h=new MutationObserver(m=>{let v=!1;for(const w of m)v=v||mh(w.removedNodes,u),v=v&&!mh(w.addedNodes,u);v&&a()});return h.observe(document,{childList:!0,subtree:!0}),h}const $u=new Map;let Ym=0;function ev(){const l=window.devicePixelRatio;l!==Ym&&(Ym=l,$u.forEach((s,a)=>{a.currentDevicePixelRatio!==l&&s()}))}function Rw(l,s){$u.size||window.addEventListener("resize",ev),$u.set(l,s)}function zw(l){$u.delete(l),$u.size||window.removeEventListener("resize",ev)}function Hw(l,s,a){const u=l.canvas,h=u&&Lp(u);if(!h)return;const m=E0((w,S)=>{const D=h.clientWidth;a(w,S),D<h.clientWidth&&a()},window),v=new ResizeObserver(w=>{const S=w[0],D=S.contentRect.width,A=S.contentRect.height;D===0&&A===0||m(D,A)});return v.observe(h),Rw(l,m),v}function Wf(l,s,a){a&&a.disconnect(),s==="resize"&&zw(l)}function Vw(l,s,a){const u=l.canvas,h=E0(m=>{l.ctx!==null&&a(Pw(m,l))},l);return Lw(u,s,h),h}class Mw extends Q0{acquireContext(s,a){const u=s&&s.getContext&&s.getContext("2d");return u&&u.canvas===s?(Iw(s,a),u):null}releaseContext(s){const a=s.canvas;if(!a[rh])return!1;const u=a[rh].initial;["height","width"].forEach(m=>{const v=u[m];Ft(v)?a.removeAttribute(m):a.setAttribute(m,v)});const h=u.style||{};return Object.keys(h).forEach(m=>{a.style[m]=h[m]}),a.width=a.width,delete a[rh],!0}addEventListener(s,a,u){this.removeEventListener(s,a);const h=s.$proxies||(s.$proxies={}),v={attach:Bw,detach:Nw,resize:Hw}[a]||Vw;h[a]=v(s,a,u)}removeEventListener(s,a){const u=s.$proxies||(s.$proxies={}),h=u[a];if(!h)return;({attach:Wf,detach:Wf,resize:Wf}[a]||Ow)(s,a,h),u[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,a,u,h){return LC(s,a,u,h)}isAttached(s){const a=s&&Lp(s);return!!(a&&a.isConnected)}}function Ww(l){return!Ip()||typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas?Aw:Mw}var th;let Ha=(th=class{constructor(){ae(this,"x");ae(this,"y");ae(this,"active",!1);ae(this,"options");ae(this,"$animations")}tooltipPosition(s){const{x:a,y:u}=this.getProps(["x","y"],s);return{x:a,y:u}}hasValue(){return sl(this.x)&&sl(this.y)}getProps(s,a){const u=this.$animations;if(!a||!u)return this;const h={};return s.forEach(m=>{h[m]=u[m]&&u[m].active()?u[m]._to:this[m]}),h}},ae(th,"defaults",{}),ae(th,"defaultRoutes"),th);function jw(l,s){const a=l.options.ticks,u=Uw(l),h=Math.min(a.maxTicksLimit||u,u),m=a.major.enabled?Yw(s):[],v=m.length,w=m[0],S=m[v-1],D=[];if(v>h)return Gw(s,D,m,v/h),D;const A=qw(m,s,h);if(v>0){let O,N;const V=v>1?Math.round((S-w)/(v-1)):null;for(Ud(s,D,A,Ft(V)?0:w-V,w),O=0,N=v-1;O<N;O++)Ud(s,D,A,m[O],m[O+1]);return Ud(s,D,A,S,Ft(V)?s.length:S+V),D}return Ud(s,D,A),D}function Uw(l){const s=l.options.offset,a=l._tickSize(),u=l._length/a+(s?0:1),h=l._maxLength/a;return Math.floor(Math.min(u,h))}function qw(l,s,a){const u=Kw(l),h=s.length/a;if(!u)return Math.max(h,1);const m=B1(u);for(let v=0,w=m.length-1;v<w;v++){const S=m[v];if(S>h)return S}return Math.max(h,1)}function Yw(l){const s=[];let a,u;for(a=0,u=l.length;a<u;a++)l[a].major&&s.push(a);return s}function Gw(l,s,a,u){let h=0,m=a[0],v;for(u=Math.ceil(u),v=0;v<l.length;v++)v===m&&(s.push(l[v]),h++,m=a[h*u])}function Ud(l,s,a,u,h){const m=At(u,0),v=Math.min(At(h,l.length),l.length);let w=0,S,D,A;for(a=Math.ceil(a),h&&(S=h-u,a=S/Math.floor(S/a)),A=m;A<0;)w++,A=Math.round(m+w*a);for(D=Math.max(m,0);D<v;D++)D===A&&(s.push(l[D]),w++,A=Math.round(m+w*a))}function Kw(l){const s=l.length;let a,u;if(s<2)return!1;for(u=l[0],a=1;a<s;++a)if(l[a]-l[a-1]!==u)return!1;return u}const Xw=l=>l==="left"?"right":l==="right"?"left":l,Gm=(l,s,a)=>s==="top"||s==="left"?l[s]+a:l[s]-a,Km=(l,s)=>Math.min(s||l,l);function Xm(l,s){const a=[],u=l.length/s,h=l.length;let m=0;for(;m<h;m+=u)a.push(l[Math.floor(m)]);return a}function Zw(l,s,a){const u=l.ticks.length,h=Math.min(s,u-1),m=l._startPixel,v=l._endPixel,w=1e-6;let S=l.getPixelForTick(h),D;if(!(a&&(u===1?D=Math.max(S-m,v-S):s===0?D=(l.getPixelForTick(1)-S)/2:D=(S-l.getPixelForTick(h-1))/2,S+=h<s?D:-D,S<m-w||S>v+w)))return S}function Jw(l,s){Gt(l,a=>{const u=a.gc,h=u.length/2;let m;if(h>s){for(m=0;m<h;++m)delete a.data[u[m]];u.splice(0,h)}})}function Eu(l){return l.drawTicks?l.tickLength:0}function Zm(l,s){if(!l.display)return 0;const a=Un(l.font,s),u=yi(l.padding);return(cn(l.text)?l.text.length:1)*a.lineHeight+u.height}function Qw(l,s){return To(l,{scale:s,type:"scale"})}function $w(l,s,a){return To(l,{tick:a,index:s,type:"tick"})}function ex(l,s,a){let u=Sp(l);return(a&&s!=="right"||!a&&s==="right")&&(u=Xw(u)),u}function tx(l,s,a,u){const{top:h,left:m,bottom:v,right:w,chart:S}=l,{chartArea:D,scales:A}=S;let O=0,N,V,Y;const $=v-h,te=w-m;if(l.isHorizontal()){if(V=Di(u,m,w),Lt(a)){const X=Object.keys(a)[0],K=a[X];Y=A[X].getPixelForValue(K)+$-s}else a==="center"?Y=(D.bottom+D.top)/2+$-s:Y=Gm(l,a,s);N=w-m}else{if(Lt(a)){const X=Object.keys(a)[0],K=a[X];V=A[X].getPixelForValue(K)-te+s}else a==="center"?V=(D.left+D.right)/2-te+s:V=Gm(l,a,s);Y=Di(u,v,h),O=a==="left"?-zn:zn}return{titleX:V,titleY:Y,maxWidth:N,rotation:O}}class br extends Ha{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,a){return s}getUserBounds(){let{_userMin:s,_userMax:a,_suggestedMin:u,_suggestedMax:h}=this;return s=is(s,Number.POSITIVE_INFINITY),a=is(a,Number.NEGATIVE_INFINITY),u=is(u,Number.POSITIVE_INFINITY),h=is(h,Number.NEGATIVE_INFINITY),{min:is(s,u),max:is(a,h),minDefined:On(s),maxDefined:On(a)}}getMinMax(s){let{min:a,max:u,minDefined:h,maxDefined:m}=this.getUserBounds(),v;if(h&&m)return{min:a,max:u};const w=this.getMatchingVisibleMetas();for(let S=0,D=w.length;S<D;++S)v=w[S].controller.getMinMax(this,s),h||(a=Math.min(a,v.min)),m||(u=Math.max(u,v.max));return a=m&&a>u?u:a,u=h&&a>u?a:u,{min:is(a,is(u,a)),max:is(u,is(a,u))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jt(this.options.beforeUpdate,[this])}update(s,a,u){const{beginAtZero:h,grace:m,ticks:v}=this.options,w=v.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=a,this._margins=u=Object.assign({left:0,right:0,top:0,bottom:0},u),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+u.left+u.right:this.height+u.top+u.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=cC(this,m,h),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const S=w<this.ticks.length;this._convertTicksToLabels(S?Xm(this.ticks,w):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),v.display&&(v.autoSkip||v.source==="auto")&&(this.ticks=jw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),S&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s=this.options.reverse,a,u;this.isHorizontal()?(a=this.left,u=this.right):(a=this.top,u=this.bottom,s=!s),this._startPixel=a,this._endPixel=u,this._reversePixels=s,this._length=u-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jt(this.options.afterUpdate,[this])}beforeSetDimensions(){Jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jt(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),Jt(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const a=this.options.ticks;let u,h,m;for(u=0,h=s.length;u<h;u++)m=s[u],m.label=Jt(a.callback,[m.value,u,s],this)}afterTickToLabelConversion(){Jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,a=s.ticks,u=Km(this.ticks.length,s.ticks.maxTicksLimit),h=a.minRotation||0,m=a.maxRotation;let v=h,w,S,D;if(!this._isVisible()||!a.display||h>=m||u<=1||!this.isHorizontal()){this.labelRotation=h;return}const A=this._getLabelSizes(),O=A.widest.width,N=A.highest.height,V=ai(this.chart.width-O,0,this.maxWidth);w=s.offset?this.maxWidth/u:V/(u-1),O+6>w&&(w=V/(u-(s.offset?.5:1)),S=this.maxHeight-Eu(s.grid)-a.padding-Zm(s.title,this.chart.options.font),D=Math.sqrt(O*O+N*N),v=xp(Math.min(Math.asin(ai((A.highest.height+6)/w,-1,1)),Math.asin(ai(S/D,-1,1))-Math.asin(ai(N/D,-1,1)))),v=Math.max(h,Math.min(m,v))),this.labelRotation=v}afterCalculateLabelRotation(){Jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jt(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:a,options:{ticks:u,title:h,grid:m}}=this,v=this._isVisible(),w=this.isHorizontal();if(v){const S=Zm(h,a.options.font);if(w?(s.width=this.maxWidth,s.height=Eu(m)+S):(s.height=this.maxHeight,s.width=Eu(m)+S),u.display&&this.ticks.length){const{first:D,last:A,widest:O,highest:N}=this._getLabelSizes(),V=u.padding*2,Y=Ls(this.labelRotation),$=Math.cos(Y),te=Math.sin(Y);if(w){const X=u.mirror?0:te*O.width+$*N.height;s.height=Math.min(this.maxHeight,s.height+X+V)}else{const X=u.mirror?0:$*O.width+te*N.height;s.width=Math.min(this.maxWidth,s.width+X+V)}this._calculatePadding(D,A,te,$)}}this._handleMargins(),w?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,a,u,h){const{ticks:{align:m,padding:v},position:w}=this.options,S=this.labelRotation!==0,D=w!=="top"&&this.axis==="x";if(this.isHorizontal()){const A=this.getPixelForTick(0)-this.left,O=this.right-this.getPixelForTick(this.ticks.length-1);let N=0,V=0;S?D?(N=h*s.width,V=u*a.height):(N=u*s.height,V=h*a.width):m==="start"?V=a.width:m==="end"?N=s.width:m!=="inner"&&(N=s.width/2,V=a.width/2),this.paddingLeft=Math.max((N-A+v)*this.width/(this.width-A),0),this.paddingRight=Math.max((V-O+v)*this.width/(this.width-O),0)}else{let A=a.height/2,O=s.height/2;m==="start"?(A=0,O=s.height):m==="end"&&(A=a.height,O=0),this.paddingTop=A+v,this.paddingBottom=O+v}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jt(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:a}=this.options;return a==="top"||a==="bottom"||s==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){this.beforeTickToLabelConversion(),this.generateTickLabels(s);let a,u;for(a=0,u=s.length;a<u;a++)Ft(s[a].label)&&(s.splice(a,1),u--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const a=this.options.ticks.sampleSize;let u=this.ticks;a<u.length&&(u=Xm(u,a)),this._labelSizes=s=this._computeLabelSizes(u,u.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,a,u){const{ctx:h,_longestTextCache:m}=this,v=[],w=[],S=Math.floor(a/Km(a,u));let D=0,A=0,O,N,V,Y,$,te,X,K,re,ie,se;for(O=0;O<a;O+=S){if(Y=s[O].label,$=this._resolveTickFontOptions(O),h.font=te=$.string,X=m[te]=m[te]||{data:{},gc:[]},K=$.lineHeight,re=ie=0,!Ft(Y)&&!cn(Y))re=fh(h,X.data,X.gc,re,Y),ie=K;else if(cn(Y))for(N=0,V=Y.length;N<V;++N)se=Y[N],!Ft(se)&&!cn(se)&&(re=fh(h,X.data,X.gc,re,se),ie+=K);v.push(re),w.push(ie),D=Math.max(re,D),A=Math.max(ie,A)}Jw(m,a);const ke=v.indexOf(D),be=w.indexOf(A),ve=Te=>({width:v[Te]||0,height:w[Te]||0});return{first:ve(0),last:ve(a-1),widest:ve(ke),highest:ve(be),widths:v,heights:w}}getLabelForValue(s){return s}getPixelForValue(s,a){return NaN}getValueForPixel(s){}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const a=this._startPixel+s*this._length;return H1(this._alignToPixels?rr(this.chart,a,0):a)}getDecimalForPixel(s){const a=(s-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:a}=this;return s<0&&a<0?a:s>0&&a>0?s:0}getContext(s){const a=this.ticks||[];if(s>=0&&s<a.length){const u=a[s];return u.$context||(u.$context=$w(this.getContext(),s,u))}return this.$context||(this.$context=Qw(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,a=Ls(this.labelRotation),u=Math.abs(Math.cos(a)),h=Math.abs(Math.sin(a)),m=this._getLabelSizes(),v=s.autoSkipPadding||0,w=m?m.widest.width+v:0,S=m?m.highest.height+v:0;return this.isHorizontal()?S*u>w*h?w/u:S/h:S*h<w*u?S/u:w/h}_isVisible(){const s=this.options.display;return s!=="auto"?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const a=this.axis,u=this.chart,h=this.options,{grid:m,position:v,border:w}=h,S=m.offset,D=this.isHorizontal(),O=this.ticks.length+(S?1:0),N=Eu(m),V=[],Y=w.setContext(this.getContext()),$=Y.display?Y.width:0,te=$/2,X=function(Ne){return rr(u,Ne,$)};let K,re,ie,se,ke,be,ve,Te,Ke,Le,Ge,it;if(v==="top")K=X(this.bottom),be=this.bottom-N,Te=K-te,Le=X(s.top)+te,it=s.bottom;else if(v==="bottom")K=X(this.top),Le=s.top,it=X(s.bottom)-te,be=K+te,Te=this.top+N;else if(v==="left")K=X(this.right),ke=this.right-N,ve=K-te,Ke=X(s.left)+te,Ge=s.right;else if(v==="right")K=X(this.left),Ke=s.left,Ge=X(s.right)-te,ke=K+te,ve=this.left+N;else if(a==="x"){if(v==="center")K=X((s.top+s.bottom)/2+.5);else if(Lt(v)){const Ne=Object.keys(v)[0],Pe=v[Ne];K=X(this.chart.scales[Ne].getPixelForValue(Pe))}Le=s.top,it=s.bottom,be=K+te,Te=be+N}else if(a==="y"){if(v==="center")K=X((s.left+s.right)/2);else if(Lt(v)){const Ne=Object.keys(v)[0],Pe=v[Ne];K=X(this.chart.scales[Ne].getPixelForValue(Pe))}ke=K-te,ve=ke-N,Ke=s.left,Ge=s.right}const rt=At(h.ticks.maxTicksLimit,O),ce=Math.max(1,Math.ceil(O/rt));for(re=0;re<O;re+=ce){const Ne=this.getContext(re),Pe=m.setContext(Ne),Qe=w.setContext(Ne),mt=Pe.lineWidth,zt=Pe.color,ei=Qe.dash||[],ue=Qe.dashOffset,W=Pe.tickWidth,Ee=Pe.tickColor,bt=Pe.tickBorderDash||[],ot=Pe.tickBorderDashOffset;ie=Zw(this,re,S),ie!==void 0&&(se=rr(u,ie,mt),D?ke=ve=Ke=Ge=se:be=Te=Le=it=se,V.push({tx1:ke,ty1:be,tx2:ve,ty2:Te,x1:Ke,y1:Le,x2:Ge,y2:it,width:mt,color:zt,borderDash:ei,borderDashOffset:ue,tickWidth:W,tickColor:Ee,tickBorderDash:bt,tickBorderDashOffset:ot}))}return this._ticksLength=O,this._borderValue=K,V}_computeLabelItems(s){const a=this.axis,u=this.options,{position:h,ticks:m}=u,v=this.isHorizontal(),w=this.ticks,{align:S,crossAlign:D,padding:A,mirror:O}=m,N=Eu(u.grid),V=N+A,Y=O?-A:V,$=-Ls(this.labelRotation),te=[];let X,K,re,ie,se,ke,be,ve,Te,Ke,Le,Ge,it="middle";if(h==="top")ke=this.bottom-Y,be=this._getXAxisLabelAlignment();else if(h==="bottom")ke=this.top+Y,be=this._getXAxisLabelAlignment();else if(h==="left"){const ce=this._getYAxisLabelAlignment(N);be=ce.textAlign,se=ce.x}else if(h==="right"){const ce=this._getYAxisLabelAlignment(N);be=ce.textAlign,se=ce.x}else if(a==="x"){if(h==="center")ke=(s.top+s.bottom)/2+V;else if(Lt(h)){const ce=Object.keys(h)[0],Ne=h[ce];ke=this.chart.scales[ce].getPixelForValue(Ne)+V}be=this._getXAxisLabelAlignment()}else if(a==="y"){if(h==="center")se=(s.left+s.right)/2-V;else if(Lt(h)){const ce=Object.keys(h)[0],Ne=h[ce];se=this.chart.scales[ce].getPixelForValue(Ne)}be=this._getYAxisLabelAlignment(N).textAlign}a==="y"&&(S==="start"?it="top":S==="end"&&(it="bottom"));const rt=this._getLabelSizes();for(X=0,K=w.length;X<K;++X){re=w[X],ie=re.label;const ce=m.setContext(this.getContext(X));ve=this.getPixelForTick(X)+m.labelOffset,Te=this._resolveTickFontOptions(X),Ke=Te.lineHeight,Le=cn(ie)?ie.length:1;const Ne=Le/2,Pe=ce.color,Qe=ce.textStrokeColor,mt=ce.textStrokeWidth;let zt=be;v?(se=ve,be==="inner"&&(X===K-1?zt=this.options.reverse?"left":"right":X===0?zt=this.options.reverse?"right":"left":zt="center"),h==="top"?D==="near"||$!==0?Ge=-Le*Ke+Ke/2:D==="center"?Ge=-rt.highest.height/2-Ne*Ke+Ke:Ge=-rt.highest.height+Ke/2:D==="near"||$!==0?Ge=Ke/2:D==="center"?Ge=rt.highest.height/2-Ne*Ke:Ge=rt.highest.height-Le*Ke,O&&(Ge*=-1),$!==0&&!ce.showLabelBackdrop&&(se+=Ke/2*Math.sin($))):(ke=ve,Ge=(1-Le)*Ke/2);let ei;if(ce.showLabelBackdrop){const ue=yi(ce.backdropPadding),W=rt.heights[X],Ee=rt.widths[X];let bt=Ge-ue.top,ot=0-ue.left;switch(it){case"middle":bt-=W/2;break;case"bottom":bt-=W;break}switch(be){case"center":ot-=Ee/2;break;case"right":ot-=Ee;break;case"inner":X===K-1?ot-=Ee:X>0&&(ot-=Ee/2);break}ei={left:ot,top:bt,width:Ee+ue.width,height:W+ue.height,color:ce.backdropColor}}te.push({label:ie,font:Te,textOffset:Ge,options:{rotation:$,color:Pe,strokeColor:Qe,strokeWidth:mt,textAlign:zt,textBaseline:it,translation:[se,ke],backdrop:ei}})}return te}_getXAxisLabelAlignment(){const{position:s,ticks:a}=this.options;if(-Ls(this.labelRotation))return s==="top"?"left":"right";let h="center";return a.align==="start"?h="left":a.align==="end"?h="right":a.align==="inner"&&(h="inner"),h}_getYAxisLabelAlignment(s){const{position:a,ticks:{crossAlign:u,mirror:h,padding:m}}=this.options,v=this._getLabelSizes(),w=s+m,S=v.widest.width;let D,A;return a==="left"?h?(A=this.right+m,u==="near"?D="left":u==="center"?(D="center",A+=S/2):(D="right",A+=S)):(A=this.right-w,u==="near"?D="right":u==="center"?(D="center",A-=S/2):(D="left",A=this.left)):a==="right"?h?(A=this.left+m,u==="near"?D="right":u==="center"?(D="center",A-=S/2):(D="left",A-=S)):(A=this.left+w,u==="near"?D="left":u==="center"?(D="center",A+=S/2):(D="right",A=this.right)):D="right",{textAlign:D,x:A}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:s.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:s.width}}drawBackground(){const{ctx:s,options:{backgroundColor:a},left:u,top:h,width:m,height:v}=this;a&&(s.save(),s.fillStyle=a,s.fillRect(u,h,m,v),s.restore())}getLineWidthForValue(s){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const h=this.ticks.findIndex(m=>m.value===s);return h>=0?a.setContext(this.getContext(h)).lineWidth:0}drawGrid(s){const a=this.options.grid,u=this.ctx,h=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let m,v;const w=(S,D,A)=>{!A.width||!A.color||(u.save(),u.lineWidth=A.width,u.strokeStyle=A.color,u.setLineDash(A.borderDash||[]),u.lineDashOffset=A.borderDashOffset,u.beginPath(),u.moveTo(S.x,S.y),u.lineTo(D.x,D.y),u.stroke(),u.restore())};if(a.display)for(m=0,v=h.length;m<v;++m){const S=h[m];a.drawOnChartArea&&w({x:S.x1,y:S.y1},{x:S.x2,y:S.y2},S),a.drawTicks&&w({x:S.tx1,y:S.ty1},{x:S.tx2,y:S.ty2},{color:S.tickColor,width:S.tickWidth,borderDash:S.tickBorderDash,borderDashOffset:S.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:a,options:{border:u,grid:h}}=this,m=u.setContext(this.getContext()),v=u.display?m.width:0;if(!v)return;const w=h.setContext(this.getContext(0)).lineWidth,S=this._borderValue;let D,A,O,N;this.isHorizontal()?(D=rr(s,this.left,v)-v/2,A=rr(s,this.right,w)+w/2,O=N=S):(O=rr(s,this.top,v)-v/2,N=rr(s,this.bottom,w)+w/2,D=A=S),a.save(),a.lineWidth=m.width,a.strokeStyle=m.color,a.beginPath(),a.moveTo(D,O),a.lineTo(A,N),a.stroke(),a.restore()}drawLabels(s){if(!this.options.ticks.display)return;const u=this.ctx,h=this._computeLabelArea();h&&Ch(u,h);const m=this.getLabelItems(s);for(const v of m){const w=v.options,S=v.font,D=v.label,A=v.textOffset;vr(u,D,0,A,S,w)}h&&wh(u)}drawTitle(){const{ctx:s,options:{position:a,title:u,reverse:h}}=this;if(!u.display)return;const m=Un(u.font),v=yi(u.padding),w=u.align;let S=m.lineHeight/2;a==="bottom"||a==="center"||Lt(a)?(S+=v.bottom,cn(u.text)&&(S+=m.lineHeight*(u.text.length-1))):S+=v.top;const{titleX:D,titleY:A,maxWidth:O,rotation:N}=tx(this,S,a,w);vr(s,u.text,0,0,m,{color:u.color,maxWidth:O,rotation:N,textAlign:ex(w,a,h),textBaseline:"middle",translation:[D,A]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,a=s.ticks&&s.ticks.z||0,u=At(s.grid&&s.grid.z,-1),h=At(s.border&&s.border.z,0);return!this._isVisible()||this.draw!==br.prototype.draw?[{z:a,draw:m=>{this.draw(m)}}]:[{z:u,draw:m=>{this.drawBackground(),this.drawGrid(m),this.drawTitle()}},{z:h,draw:()=>{this.drawBorder()}},{z:a,draw:m=>{this.drawLabels(m)}}]}getMatchingVisibleMetas(s){const a=this.chart.getSortedVisibleDatasetMetas(),u=this.axis+"AxisID",h=[];let m,v;for(m=0,v=a.length;m<v;++m){const w=a[m];w[u]===this.id&&(!s||w.type===s)&&h.push(w)}return h}_resolveTickFontOptions(s){const a=this.options.ticks.setContext(this.getContext(s));return Un(a.font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class qd{constructor(s,a,u){this.type=s,this.scope=a,this.override=u,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const a=Object.getPrototypeOf(s);let u;sx(a)&&(u=this.register(a));const h=this.items,m=s.id,v=this.scope+"."+m;if(!m)throw new Error("class does not have id: "+s);return m in h||(h[m]=s,nx(s,v,u),this.override&&hn.override(s.id,s.overrides)),v}get(s){return this.items[s]}unregister(s){const a=this.items,u=s.id,h=this.scope;u in a&&delete a[u],h&&u in hn[h]&&(delete hn[h][u],this.override&&delete gr[u])}}function nx(l,s,a){const u=la(Object.create(null),[a?hn.get(a):{},hn.get(s),l.defaults]);hn.set(s,u),l.defaultRoutes&&ix(s,l.defaultRoutes),l.descriptors&&hn.describe(s,l.descriptors)}function ix(l,s){Object.keys(s).forEach(a=>{const u=a.split("."),h=u.pop(),m=[l].concat(u).join("."),v=s[a].split("."),w=v.pop(),S=v.join(".");hn.route(m,h,S,w)})}function sx(l){return"id"in l&&"defaults"in l}class ax{constructor(){this.controllers=new qd(Os,"datasets",!0),this.elements=new qd(Ha,"elements"),this.plugins=new qd(Object,"plugins"),this.scales=new qd(br,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,a,u){[...a].forEach(h=>{const m=u||this._getRegistryForType(h);u||m.isForType(h)||m===this.plugins&&h.id?this._exec(s,m,h):Gt(h,v=>{const w=u||this._getRegistryForType(v);this._exec(s,w,v)})})}_exec(s,a,u){const h=wp(s);Jt(u["before"+h],[],u),a[s](u),Jt(u["after"+h],[],u)}_getRegistryForType(s){for(let a=0;a<this._typedRegistries.length;a++){const u=this._typedRegistries[a];if(u.isForType(s))return u}return this.plugins}_get(s,a,u){const h=a.get(s);if(h===void 0)throw new Error('"'+s+'" is not a registered '+u+".");return h}}var sa=new ax;class ox{constructor(){this._init=[]}notify(s,a,u,h){a==="beforeInit"&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install"));const m=h?this._descriptors(s).filter(h):this._descriptors(s),v=this._notify(m,s,a,u);return a==="afterDestroy"&&(this._notify(m,s,"stop"),this._notify(this._init,s,"uninstall")),v}_notify(s,a,u,h){h=h||{};for(const m of s){const v=m.plugin,w=v[u],S=[a,h,m.options];if(Jt(w,S,v)===!1&&h.cancelable)return!1}return!0}invalidate(){Ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),a}_createDescriptors(s,a){const u=s&&s.config,h=At(u.options&&u.options.plugins,{}),m=rx(u);return h===!1&&!a?[]:ux(s,m,h,a)}_notifyStateChanges(s){const a=this._oldCache||[],u=this._cache,h=(m,v)=>m.filter(w=>!v.some(S=>w.plugin.id===S.plugin.id));this._notify(h(a,u),s,"stop"),this._notify(h(u,a),s,"start")}}function rx(l){const s={},a=[],u=Object.keys(sa.plugins.items);for(let m=0;m<u.length;m++)a.push(sa.getPlugin(u[m]));const h=l.plugins||[];for(let m=0;m<h.length;m++){const v=h[m];a.indexOf(v)===-1&&(a.push(v),s[v.id]=!0)}return{plugins:a,localIds:s}}function lx(l,s){return!s&&l===!1?null:l===!0?{}:l}function ux(l,{plugins:s,localIds:a},u,h){const m=[],v=l.getContext();for(const w of s){const S=w.id,D=lx(u[S],h);D!==null&&m.push({plugin:w,options:cx(l.config,{plugin:w,local:a[S]},D,v)})}return m}function cx(l,{plugin:s,local:a},u,h){const m=l.pluginScopeKeys(s),v=l.getOptionScopes(u,m);return a&&s.defaults&&v.push(s.defaults),l.createResolver(v,h,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sp(l,s){const a=hn.datasets[l]||{};return((s.datasets||{})[l]||{}).indexAxis||s.indexAxis||a.indexAxis||"x"}function dx(l,s){let a=l;return l==="_index_"?a=s:l==="_value_"&&(a=s==="x"?"y":"x"),a}function hx(l,s){return l===s?"_index_":"_value_"}function Jm(l){if(l==="x"||l==="y"||l==="r")return l}function fx(l){if(l==="top"||l==="bottom")return"x";if(l==="left"||l==="right")return"y"}function ap(l,...s){if(Jm(l))return l;for(const a of s){const u=a.axis||fx(a.position)||l.length>1&&Jm(l[0].toLowerCase());if(u)return u}throw new Error(`Cannot determine type of '${l}' axis. Please provide 'axis' or 'position' option.`)}function Qm(l,s,a){if(a[s+"AxisID"]===l)return{axis:s}}function px(l,s){if(s.data&&s.data.datasets){const a=s.data.datasets.filter(u=>u.xAxisID===l||u.yAxisID===l);if(a.length)return Qm(l,"x",a[0])||Qm(l,"y",a[0])}return{}}function mx(l,s){const a=gr[l.type]||{scales:{}},u=s.scales||{},h=sp(l.type,s),m=Object.create(null);return Object.keys(u).forEach(v=>{const w=u[v];if(!Lt(w))return console.error(`Invalid scale configuration for scale: ${v}`);if(w._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${v}`);const S=ap(v,w,px(v,l),hn.scales[w.type]),D=hx(S,h),A=a.scales||{};m[v]=Hu(Object.create(null),[{axis:S},w,A[S],A[D]])}),l.data.datasets.forEach(v=>{const w=v.type||l.type,S=v.indexAxis||sp(w,s),A=(gr[w]||{}).scales||{};Object.keys(A).forEach(O=>{const N=dx(O,S),V=v[N+"AxisID"]||N;m[V]=m[V]||Object.create(null),Hu(m[V],[{axis:N},u[V],A[O]])})}),Object.keys(m).forEach(v=>{const w=m[v];Hu(w,[hn.scales[w.type],hn.scale])}),m}function tv(l){const s=l.options||(l.options={});s.plugins=At(s.plugins,{}),s.scales=mx(l,s)}function nv(l){return l=l||{},l.datasets=l.datasets||[],l.labels=l.labels||[],l}function gx(l){return l=l||{},l.data=nv(l.data),tv(l),l}const $m=new Map,iv=new Set;function Yd(l,s){let a=$m.get(l);return a||(a=s(),$m.set(l,a),iv.add(a)),a}const Au=(l,s,a)=>{const u=So(s,a);u!==void 0&&l.add(u)};class vx{constructor(s){this._config=gx(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=nv(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),tv(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Yd(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,a){return Yd(`${s}.transition.${a}`,()=>[[`datasets.${s}.transitions.${a}`,`transitions.${a}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,a){return Yd(`${s}-${a}`,()=>[[`datasets.${s}.elements.${a}`,`datasets.${s}`,`elements.${a}`,""]])}pluginScopeKeys(s){const a=s.id,u=this.type;return Yd(`${u}-plugin-${a}`,()=>[[`plugins.${a}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,a){const u=this._scopeCache;let h=u.get(s);return(!h||a)&&(h=new Map,u.set(s,h)),h}getOptionScopes(s,a,u){const{options:h,type:m}=this,v=this._cachedScopes(s,u),w=v.get(a);if(w)return w;const S=new Set;a.forEach(A=>{s&&(S.add(s),A.forEach(O=>Au(S,s,O))),A.forEach(O=>Au(S,h,O)),A.forEach(O=>Au(S,gr[m]||{},O)),A.forEach(O=>Au(S,hn,O)),A.forEach(O=>Au(S,tp,O))});const D=Array.from(S);return D.length===0&&D.push(Object.create(null)),iv.has(a)&&v.set(a,D),D}chartOptionScopes(){const{options:s,type:a}=this;return[s,gr[a]||{},hn.datasets[a]||{},{type:a},hn,tp]}resolveNamedOptions(s,a,u,h=[""]){const m={$shared:!0},{resolver:v,subPrefixes:w}=eg(this._resolverCache,s,h);let S=v;if(yx(v,a)){m.$shared=!1,u=Do(u)?u():u;const D=this.createResolver(s,u,w);S=al(v,u,D)}for(const D of a)m[D]=S[D];return m}createResolver(s,a,u=[""],h){const{resolver:m}=eg(this._resolverCache,s,u);return Lt(a)?al(m,a,void 0,h):m}}function eg(l,s,a){let u=l.get(s);u||(u=new Map,l.set(s,u));const h=a.join();let m=u.get(h);return m||(m={resolver:Ep(s,a),subPrefixes:a.filter(w=>!w.toLowerCase().includes("hover"))},u.set(h,m)),m}const bx=l=>Lt(l)&&Object.getOwnPropertyNames(l).some(s=>Do(l[s]));function yx(l,s){const{isScriptable:a,isIndexable:u}=P0(l);for(const h of s){const m=a(h),v=u(h),w=(v||m)&&l[h];if(m&&(Do(w)||bx(w))||v&&cn(w))return!0}return!1}var _x="4.4.9";const Cx=["top","bottom","left","right","chartArea"];function tg(l,s){return l==="top"||l==="bottom"||Cx.indexOf(l)===-1&&s==="x"}function ng(l,s){return function(a,u){return a[l]===u[l]?a[s]-u[s]:a[l]-u[l]}}function ig(l){const s=l.chart,a=s.options.animation;s.notifyPlugins("afterRender"),Jt(a&&a.onComplete,[l],s)}function wx(l){const s=l.chart,a=s.options.animation;Jt(a&&a.onProgress,[l],s)}function sv(l){return Ip()&&typeof l=="string"?l=document.getElementById(l):l&&l.length&&(l=l[0]),l&&l.canvas&&(l=l.canvas),l}const lh={},sg=l=>{const s=sv(l);return Object.values(lh).filter(a=>a.canvas===s).pop()};function xx(l,s,a){const u=Object.keys(l);for(const h of u){const m=+h;if(m>=s){const v=l[h];delete l[h],(a>0||m>s)&&(l[m+a]=v)}}}function kx(l,s,a,u){return!a||l.type==="mouseout"?null:u?s:l}class Pa{static register(...s){sa.add(...s),ag()}static unregister(...s){sa.remove(...s),ag()}constructor(s,a){const u=this.config=new vx(a),h=sv(s),m=sg(h);if(m)throw new Error("Canvas is already in use. Chart with ID '"+m.id+"' must be destroyed before the canvas with ID '"+m.canvas.id+"' can be reused.");const v=u.createResolver(u.chartOptionScopes(),this.getContext());this.platform=new(u.platform||Ww(h)),this.platform.updateConfig(u);const w=this.platform.acquireContext(h,v.aspectRatio),S=w&&w.canvas,D=S&&S.height,A=S&&S.width;if(this.id=D1(),this.ctx=w,this.canvas=S,this.width=A,this.height=D,this._options=v,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ox,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=j1(O=>this.update(O),v.resizeDelay||0),this._dataChanges=[],lh[this.id]=this,!w||!S){console.error("Failed to create chart: can't acquire context from the given item");return}Ia.listen(this,"complete",ig),Ia.listen(this,"progress",wx),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:a},width:u,height:h,_aspectRatio:m}=this;return Ft(s)?a&&m?m:h?u/h:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return sa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return km(this.canvas,this.ctx),this}stop(){return Ia.stop(this),this}resize(s,a){Ia.running(this)?this._resizeBeforeDraw={width:s,height:a}:this._resize(s,a)}_resize(s,a){const u=this.options,h=this.canvas,m=u.maintainAspectRatio&&this.aspectRatio,v=this.platform.getMaximumSize(h,s,a,m),w=u.devicePixelRatio||this.platform.getDevicePixelRatio(),S=this.width?"resize":"attach";this.width=v.width,this.height=v.height,this._aspectRatio=this.aspectRatio,Tm(this,w,!0)&&(this.notifyPlugins("resize",{size:v}),Jt(u.onResize,[this,v],this),this.attached&&this._doResize(S)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};Gt(a,(u,h)=>{u.id=h})}buildOrUpdateScales(){const s=this.options,a=s.scales,u=this.scales,h=Object.keys(u).reduce((v,w)=>(v[w]=!1,v),{});let m=[];a&&(m=m.concat(Object.keys(a).map(v=>{const w=a[v],S=ap(v,w),D=S==="r",A=S==="x";return{options:w,dposition:D?"chartArea":A?"bottom":"left",dtype:D?"radialLinear":A?"category":"linear"}}))),Gt(m,v=>{const w=v.options,S=w.id,D=ap(S,w),A=At(w.type,v.dtype);(w.position===void 0||tg(w.position,D)!==tg(v.dposition))&&(w.position=v.dposition),h[S]=!0;let O=null;if(S in u&&u[S].type===A)O=u[S];else{const N=sa.getScale(A);O=new N({id:S,type:A,ctx:this.ctx,chart:this}),u[O.id]=O}O.init(w,s)}),Gt(h,(v,w)=>{v||delete u[w]}),Gt(u,v=>{Ti.configure(this,v,v.options),Ti.addBox(this,v)})}_updateMetasets(){const s=this._metasets,a=this.data.datasets.length,u=s.length;if(s.sort((h,m)=>h.index-m.index),u>a){for(let h=a;h<u;++h)this._destroyDatasetMeta(h);s.splice(a,u-a)}this._sortedMetasets=s.slice(0).sort(ng("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:a}}=this;s.length>a.length&&delete this._stacks,s.forEach((u,h)=>{a.filter(m=>m===u._dataset).length===0&&this._destroyDatasetMeta(h)})}buildOrUpdateControllers(){const s=[],a=this.data.datasets;let u,h;for(this._removeUnreferencedMetasets(),u=0,h=a.length;u<h;u++){const m=a[u];let v=this.getDatasetMeta(u);const w=m.type||this.config.type;if(v.type&&v.type!==w&&(this._destroyDatasetMeta(u),v=this.getDatasetMeta(u)),v.type=w,v.indexAxis=m.indexAxis||sp(w,this.options),v.order=m.order||0,v.index=u,v.label=""+m.label,v.visible=this.isDatasetVisible(u),v.controller)v.controller.updateIndex(u),v.controller.linkScales();else{const S=sa.getController(w),{datasetElementType:D,dataElementType:A}=hn.datasets[w];Object.assign(S,{dataElementType:sa.getElement(A),datasetElementType:D&&sa.getElement(D)}),v.controller=new S(this,u),s.push(v.controller)}}return this._updateMetasets(),s}_resetElements(){Gt(this.data.datasets,(s,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const a=this.config;a.update();const u=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),h=this._animationsDisabled=!u.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0})===!1)return;const m=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let v=0;for(let D=0,A=this.data.datasets.length;D<A;D++){const{controller:O}=this.getDatasetMeta(D),N=!h&&m.indexOf(O)===-1;O.buildOrUpdateElements(N),v=Math.max(+O.getMaxOverflow(),v)}v=this._minPadding=u.layout.autoPadding?v:0,this._updateLayout(v),h||Gt(m,D=>{D.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(ng("z","_idx"));const{_active:w,_lastEvent:S}=this;S?this._eventHandler(S,!0):w.length&&this._updateHoverStyles(w,w,!0),this.render()}_updateScales(){Gt(this.scales,s=>{Ti.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,a=new Set(Object.keys(this._listeners)),u=new Set(s.events);(!mm(a,u)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,a=this._getUniformDataChanges()||[];for(const{method:u,start:h,count:m}of a){const v=u==="_removeElements"?-m:m;xx(s,h,v)}}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const a=this.data.datasets.length,u=m=>new Set(s.filter(v=>v[0]===m).map((v,w)=>w+","+v.splice(1).join(","))),h=u(0);for(let m=1;m<a;m++)if(!mm(h,u(m)))return;return Array.from(h).map(m=>m.split(",")).map(m=>({method:m[1],start:+m[2],count:+m[3]}))}_updateLayout(s){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ti.update(this,this.width,this.height,s);const a=this.chartArea,u=a.width<=0||a.height<=0;this._layers=[],Gt(this.boxes,h=>{u&&h.position==="chartArea"||(h.configure&&h.configure(),this._layers.push(...h._layers()))},this),this._layers.forEach((h,m)=>{h._idx=m}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})!==!1){for(let a=0,u=this.data.datasets.length;a<u;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,u=this.data.datasets.length;a<u;++a)this._updateDataset(a,Do(s)?s({datasetIndex:a}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,a){const u=this.getDatasetMeta(s),h={meta:u,index:s,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",h)!==!1&&(u.controller._update(a),h.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",h))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ia.has(this)?this.attached&&!Ia.running(this)&&Ia.start(this):(this.draw(),ig({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:u,height:h}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(u,h)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(s=0;s<a.length&&a[s].z<=0;++s)a[s].draw(this.chartArea);for(this._drawDatasets();s<a.length;++s)a[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const a=this._sortedMetasets,u=[];let h,m;for(h=0,m=a.length;h<m;++h){const v=a[h];(!s||v.visible)&&u.push(v)}return u}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const s=this.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a)this._drawDataset(s[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const a=this.ctx,u={meta:s,index:s.index,cancelable:!0},h=q0(this,s);this.notifyPlugins("beforeDatasetDraw",u)!==!1&&(h&&Ch(a,h),s.controller.draw(),h&&wh(a),u.cancelable=!1,this.notifyPlugins("afterDatasetDraw",u))}isPointInArea(s){return Ra(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,a,u,h){const m=Cw.modes[a];return typeof m=="function"?m(this,s,u,h):[]}getDatasetMeta(s){const a=this.data.datasets[s],u=this._metasets;let h=u.filter(m=>m&&m._dataset===a).pop();return h||(h={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:s,_dataset:a,_parsed:[],_sorted:!1},u.push(h)),h}getContext(){return this.$context||(this.$context=To(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const a=this.data.datasets[s];if(!a)return!1;const u=this.getDatasetMeta(s);return typeof u.hidden=="boolean"?!u.hidden:!a.hidden}setDatasetVisibility(s,a){const u=this.getDatasetMeta(s);u.hidden=!a}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,a,u){const h=u?"show":"hide",m=this.getDatasetMeta(s),v=m.controller._resolveAnimations(void 0,h);Zu(a)?(m.data[a].hidden=!u,this.update()):(this.setDatasetVisibility(s,u),v.update(m,{visible:u}),this.update(w=>w.datasetIndex===s?h:void 0))}hide(s,a){this._updateVisibility(s,a,!1)}show(s,a){this._updateVisibility(s,a,!0)}_destroyDatasetMeta(s){const a=this._metasets[s];a&&a.controller&&a.controller._destroy(),delete this._metasets[s]}_stop(){let s,a;for(this.stop(),Ia.remove(this),s=0,a=this.data.datasets.length;s<a;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:a}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),km(s,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete lh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,a=this.platform,u=(m,v)=>{a.addEventListener(this,m,v),s[m]=v},h=(m,v,w)=>{m.offsetX=v,m.offsetY=w,this._eventHandler(m)};Gt(this.options.events,m=>u(m,h))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,a=this.platform,u=(S,D)=>{a.addEventListener(this,S,D),s[S]=D},h=(S,D)=>{s[S]&&(a.removeEventListener(this,S,D),delete s[S])},m=(S,D)=>{this.canvas&&this.resize(S,D)};let v;const w=()=>{h("attach",w),this.attached=!0,this.resize(),u("resize",m),u("detach",v)};v=()=>{this.attached=!1,h("resize",m),this._stop(),this._resize(0,0),u("attach",w)},a.isAttached(this.canvas)?w():v()}unbindEvents(){Gt(this._listeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._listeners={},Gt(this._responsiveListeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,a,u){const h=u?"set":"remove";let m,v,w,S;for(a==="dataset"&&(m=this.getDatasetMeta(s[0].datasetIndex),m.controller["_"+h+"DatasetHoverStyle"]()),w=0,S=s.length;w<S;++w){v=s[w];const D=v&&this.getDatasetMeta(v.datasetIndex).controller;D&&D[h+"HoverStyle"](v.element,v.datasetIndex,v.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const a=this._active||[],u=s.map(({datasetIndex:m,index:v})=>{const w=this.getDatasetMeta(m);if(!w)throw new Error("No dataset found at index "+m);return{datasetIndex:m,element:w.data[v],index:v}});!ch(u,a)&&(this._active=u,this._lastEvent=null,this._updateHoverStyles(u,a))}notifyPlugins(s,a,u){return this._plugins.notify(this,s,a,u)}isPluginEnabled(s){return this._plugins._cache.filter(a=>a.plugin.id===s).length===1}_updateHoverStyles(s,a,u){const h=this.options.hover,m=(S,D)=>S.filter(A=>!D.some(O=>A.datasetIndex===O.datasetIndex&&A.index===O.index)),v=m(a,s),w=u?s:m(s,a);v.length&&this.updateHoverStyle(v,h.mode,!1),w.length&&h.mode&&this.updateHoverStyle(w,h.mode,!0)}_eventHandler(s,a){const u={event:s,replay:a,cancelable:!0,inChartArea:this.isPointInArea(s)},h=v=>(v.options.events||this.options.events).includes(s.native.type);if(this.notifyPlugins("beforeEvent",u,h)===!1)return;const m=this._handleEvent(s,a,u.inChartArea);return u.cancelable=!1,this.notifyPlugins("afterEvent",u,h),(m||u.changed)&&this.render(),this}_handleEvent(s,a,u){const{_active:h=[],options:m}=this,v=a,w=this._getActiveElements(s,h,u,v),S=L1(s),D=kx(s,this._lastEvent,u,S);u&&(this._lastEvent=null,Jt(m.onHover,[s,w,this],this),S&&Jt(m.onClick,[s,w,this],this));const A=!ch(w,h);return(A||a)&&(this._active=w,this._updateHoverStyles(w,h,a)),this._lastEvent=D,A}_getActiveElements(s,a,u,h){if(s.type==="mouseout")return[];if(!u)return a;const m=this.options.hover;return this.getElementsAtEventForMode(s,m.mode,m,h)}}ae(Pa,"defaults",hn),ae(Pa,"instances",lh),ae(Pa,"overrides",gr),ae(Pa,"registry",sa),ae(Pa,"version",_x),ae(Pa,"getChart",sg);function ag(){return Gt(Pa.instances,l=>l._plugins.invalidate())}function Sx(l,s,a){const{startAngle:u,pixelMargin:h,x:m,y:v,outerRadius:w,innerRadius:S}=s;let D=h/w;l.beginPath(),l.arc(m,v,w,u-D,a+D),S>h?(D=h/S,l.arc(m,v,S,a+D,u-D,!0)):l.arc(m,v,h,a+zn,u-zn),l.closePath(),l.clip()}function Dx(l){return Tp(l,["outerStart","outerEnd","innerStart","innerEnd"])}function Tx(l,s,a,u){const h=Dx(l.options.borderRadius),m=(a-s)/2,v=Math.min(m,u*s/2),w=S=>{const D=(a-Math.min(m,S))*u/2;return ai(S,0,Math.min(m,D))};return{outerStart:w(h.outerStart),outerEnd:w(h.outerEnd),innerStart:ai(h.innerStart,0,v),innerEnd:ai(h.innerEnd,0,v)}}function el(l,s,a,u){return{x:a+l*Math.cos(s),y:u+l*Math.sin(s)}}function gh(l,s,a,u,h,m){const{x:v,y:w,startAngle:S,pixelMargin:D,innerRadius:A}=s,O=Math.max(s.outerRadius+u+a-D,0),N=A>0?A+u+a+D:0;let V=0;const Y=h-S;if(u){const ce=A>0?A-u:0,Ne=O>0?O-u:0,Pe=(ce+Ne)/2,Qe=Pe!==0?Y*Pe/(Pe+u):Y;V=(Y-Qe)/2}const $=Math.max(.001,Y*O-a/fn)/O,te=(Y-$)/2,X=S+te+V,K=h-te-V,{outerStart:re,outerEnd:ie,innerStart:se,innerEnd:ke}=Tx(s,N,O,K-X),be=O-re,ve=O-ie,Te=X+re/be,Ke=K-ie/ve,Le=N+se,Ge=N+ke,it=X+se/Le,rt=K-ke/Ge;if(l.beginPath(),m){const ce=(Te+Ke)/2;if(l.arc(v,w,O,Te,ce),l.arc(v,w,O,ce,Ke),ie>0){const mt=el(ve,Ke,v,w);l.arc(mt.x,mt.y,ie,Ke,K+zn)}const Ne=el(Ge,K,v,w);if(l.lineTo(Ne.x,Ne.y),ke>0){const mt=el(Ge,rt,v,w);l.arc(mt.x,mt.y,ke,K+zn,rt+Math.PI)}const Pe=(K-ke/N+(X+se/N))/2;if(l.arc(v,w,N,K-ke/N,Pe,!0),l.arc(v,w,N,Pe,X+se/N,!0),se>0){const mt=el(Le,it,v,w);l.arc(mt.x,mt.y,se,it+Math.PI,X-zn)}const Qe=el(be,X,v,w);if(l.lineTo(Qe.x,Qe.y),re>0){const mt=el(be,Te,v,w);l.arc(mt.x,mt.y,re,X-zn,Te)}}else{l.moveTo(v,w);const ce=Math.cos(Te)*O+v,Ne=Math.sin(Te)*O+w;l.lineTo(ce,Ne);const Pe=Math.cos(Ke)*O+v,Qe=Math.sin(Ke)*O+w;l.lineTo(Pe,Qe)}l.closePath()}function Ex(l,s,a,u,h){const{fullCircles:m,startAngle:v,circumference:w}=s;let S=s.endAngle;if(m){gh(l,s,a,u,S,h);for(let D=0;D<m;++D)l.fill();isNaN(w)||(S=v+(w%dn||dn))}return gh(l,s,a,u,S,h),l.fill(),S}function Ax(l,s,a,u,h){const{fullCircles:m,startAngle:v,circumference:w,options:S}=s,{borderWidth:D,borderJoinStyle:A,borderDash:O,borderDashOffset:N}=S,V=S.borderAlign==="inner";if(!D)return;l.setLineDash(O||[]),l.lineDashOffset=N,V?(l.lineWidth=D*2,l.lineJoin=A||"round"):(l.lineWidth=D,l.lineJoin=A||"bevel");let Y=s.endAngle;if(m){gh(l,s,a,u,Y,h);for(let $=0;$<m;++$)l.stroke();isNaN(w)||(Y=v+(w%dn||dn))}V&&Sx(l,s,Y),m||(gh(l,s,a,u,Y,h),l.stroke())}class nl extends Ha{constructor(a){super();ae(this,"circumference");ae(this,"endAngle");ae(this,"fullCircles");ae(this,"innerRadius");ae(this,"outerRadius");ae(this,"pixelMargin");ae(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,a&&Object.assign(this,a)}inRange(a,u,h){const m=this.getProps(["x","y"],h),{angle:v,distance:w}=k0(m,{x:a,y:u}),{startAngle:S,endAngle:D,innerRadius:A,outerRadius:O,circumference:N}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],h),V=(this.options.spacing+this.options.borderWidth)/2,Y=At(N,D-S),$=Ju(v,S,D)&&S!==D,te=Y>=dn||$,X=Ba(w,A+V,O+V);return te&&X}getCenterPoint(a){const{x:u,y:h,startAngle:m,endAngle:v,innerRadius:w,outerRadius:S}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],a),{offset:D,spacing:A}=this.options,O=(m+v)/2,N=(w+S+A+D)/2;return{x:u+Math.cos(O)*N,y:h+Math.sin(O)*N}}tooltipPosition(a){return this.getCenterPoint(a)}draw(a){const{options:u,circumference:h}=this,m=(u.offset||0)/4,v=(u.spacing||0)/2,w=u.circular;if(this.pixelMargin=u.borderAlign==="inner"?.33:0,this.fullCircles=h>dn?Math.floor(h/dn):0,h===0||this.innerRadius<0||this.outerRadius<0)return;a.save();const S=(this.startAngle+this.endAngle)/2;a.translate(Math.cos(S)*m,Math.sin(S)*m);const D=1-Math.sin(Math.min(fn,h||0)),A=m*D;a.fillStyle=u.backgroundColor,a.strokeStyle=u.borderColor,Ex(a,this,A,v,w),Ax(a,this,A,v,w),a.restore()}}ae(nl,"id","arc"),ae(nl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ae(nl,"defaultRoutes",{backgroundColor:"backgroundColor"}),ae(nl,"descriptors",{_scriptable:!0,_indexable:a=>a!=="borderDash"});function av(l,s,a=s){l.lineCap=At(a.borderCapStyle,s.borderCapStyle),l.setLineDash(At(a.borderDash,s.borderDash)),l.lineDashOffset=At(a.borderDashOffset,s.borderDashOffset),l.lineJoin=At(a.borderJoinStyle,s.borderJoinStyle),l.lineWidth=At(a.borderWidth,s.borderWidth),l.strokeStyle=At(a.borderColor,s.borderColor)}function Fx(l,s,a){l.lineTo(a.x,a.y)}function Ix(l){return l.stepped?tC:l.tension||l.cubicInterpolationMode==="monotone"?nC:Fx}function ov(l,s,a={}){const u=l.length,{start:h=0,end:m=u-1}=a,{start:v,end:w}=s,S=Math.max(h,v),D=Math.min(m,w),A=h<v&&m<v||h>w&&m>w;return{count:u,start:S,loop:s.loop,ilen:D<S&&!A?u+D-S:D-S}}function Lx(l,s,a,u){const{points:h,options:m}=s,{count:v,start:w,loop:S,ilen:D}=ov(h,a,u),A=Ix(m);let{move:O=!0,reverse:N}=u||{},V,Y,$;for(V=0;V<=D;++V)Y=h[(w+(N?D-V:V))%v],!Y.skip&&(O?(l.moveTo(Y.x,Y.y),O=!1):A(l,$,Y,N,m.stepped),$=Y);return S&&(Y=h[(w+(N?D:0))%v],A(l,$,Y,N,m.stepped)),!!S}function Ox(l,s,a,u){const h=s.points,{count:m,start:v,ilen:w}=ov(h,a,u),{move:S=!0,reverse:D}=u||{};let A=0,O=0,N,V,Y,$,te,X;const K=ie=>(v+(D?w-ie:ie))%m,re=()=>{$!==te&&(l.lineTo(A,te),l.lineTo(A,$),l.lineTo(A,X))};for(S&&(V=h[K(0)],l.moveTo(V.x,V.y)),N=0;N<=w;++N){if(V=h[K(N)],V.skip)continue;const ie=V.x,se=V.y,ke=ie|0;ke===Y?(se<$?$=se:se>te&&(te=se),A=(O*A+ie)/++O):(re(),l.lineTo(ie,se),Y=ke,O=0,$=te=se),X=se}re()}function op(l){const s=l.options,a=s.borderDash&&s.borderDash.length;return!l._decimated&&!l._loop&&!s.tension&&s.cubicInterpolationMode!=="monotone"&&!s.stepped&&!a?Ox:Lx}function Px(l){return l.stepped?PC:l.tension||l.cubicInterpolationMode==="monotone"?BC:dr}function Bx(l,s,a,u){let h=s._path;h||(h=s._path=new Path2D,s.path(h,a,u)&&h.closePath()),av(l,s.options),l.stroke(h)}function Nx(l,s,a,u){const{segments:h,options:m}=s,v=op(s);for(const w of h)av(l,m,w.style),l.beginPath(),v(l,s,w,{start:a,end:a+u-1})&&l.closePath(),l.stroke()}const Rx=typeof Path2D=="function";function zx(l,s,a,u){Rx&&!s.options.segment?Bx(l,s,a,u):Nx(l,s,a,u)}class wo extends Ha{constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,a){const u=this.options;if((u.tension||u.cubicInterpolationMode==="monotone")&&!u.stepped&&!this._pointsUpdated){const h=u.spanGaps?this._loop:this._fullLoop;DC(this._points,u,s,h,a),this._pointsUpdated=!0}}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MC(this,this.options.segment))}first(){const s=this.segments,a=this.points;return s.length&&a[s[0].start]}last(){const s=this.segments,a=this.points,u=s.length;return u&&a[s[u-1].end]}interpolate(s,a){const u=this.options,h=s[a],m=this.points,v=U0(this,{property:a,start:h,end:h});if(!v.length)return;const w=[],S=Px(u);let D,A;for(D=0,A=v.length;D<A;++D){const{start:O,end:N}=v[D],V=m[O],Y=m[N];if(V===Y){w.push(V);continue}const $=Math.abs((h-V[a])/(Y[a]-V[a])),te=S(V,Y,$,u.stepped);te[a]=s[a],w.push(te)}return w.length===1?w[0]:w}pathSegment(s,a,u){return op(this)(s,this,a,u)}path(s,a,u){const h=this.segments,m=op(this);let v=this._loop;a=a||0,u=u||this.points.length-a;for(const w of h)v&=m(s,this,w,{start:a,end:a+u-1});return!!v}draw(s,a,u,h){const m=this.options||{};(this.points||[]).length&&m.borderWidth&&(s.save(),zx(s,this,u,h),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ae(wo,"id","line"),ae(wo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ae(wo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ae(wo,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"&&s!=="fill"});function og(l,s,a,u){const h=l.options,{[a]:m}=l.getProps([a],u);return Math.abs(s-m)<h.radius+h.hitRadius}class Uu extends Ha{constructor(a){super();ae(this,"parsed");ae(this,"skip");ae(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,a&&Object.assign(this,a)}inRange(a,u,h){const m=this.options,{x:v,y:w}=this.getProps(["x","y"],h);return Math.pow(a-v,2)+Math.pow(u-w,2)<Math.pow(m.hitRadius+m.radius,2)}inXRange(a,u){return og(this,a,"x",u)}inYRange(a,u){return og(this,a,"y",u)}getCenterPoint(a){const{x:u,y:h}=this.getProps(["x","y"],a);return{x:u,y:h}}size(a){a=a||this.options||{};let u=a.radius||0;u=Math.max(u,u&&a.hoverRadius||0);const h=u&&a.borderWidth||0;return(u+h)*2}draw(a,u){const h=this.options;this.skip||h.radius<.1||!Ra(this,u,this.size(h)/2)||(a.strokeStyle=h.borderColor,a.lineWidth=h.borderWidth,a.fillStyle=h.backgroundColor,np(a,h,this.x,this.y))}getRange(){const a=this.options||{};return a.radius+a.hitRadius}}ae(Uu,"id","point"),ae(Uu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ae(Uu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function rv(l,s){const{x:a,y:u,base:h,width:m,height:v}=l.getProps(["x","y","base","width","height"],s);let w,S,D,A,O;return l.horizontal?(O=v/2,w=Math.min(a,h),S=Math.max(a,h),D=u-O,A=u+O):(O=m/2,w=a-O,S=a+O,D=Math.min(u,h),A=Math.max(u,h)),{left:w,top:D,right:S,bottom:A}}function xo(l,s,a,u){return l?0:ai(s,a,u)}function Hx(l,s,a){const u=l.options.borderWidth,h=l.borderSkipped,m=O0(u);return{t:xo(h.top,m.top,0,a),r:xo(h.right,m.right,0,s),b:xo(h.bottom,m.bottom,0,a),l:xo(h.left,m.left,0,s)}}function Vx(l,s,a){const{enableBorderRadius:u}=l.getProps(["enableBorderRadius"]),h=l.options.borderRadius,m=pr(h),v=Math.min(s,a),w=l.borderSkipped,S=u||Lt(h);return{topLeft:xo(!S||w.top||w.left,m.topLeft,0,v),topRight:xo(!S||w.top||w.right,m.topRight,0,v),bottomLeft:xo(!S||w.bottom||w.left,m.bottomLeft,0,v),bottomRight:xo(!S||w.bottom||w.right,m.bottomRight,0,v)}}function Mx(l){const s=rv(l),a=s.right-s.left,u=s.bottom-s.top,h=Hx(l,a/2,u/2),m=Vx(l,a/2,u/2);return{outer:{x:s.left,y:s.top,w:a,h:u,radius:m},inner:{x:s.left+h.l,y:s.top+h.t,w:a-h.l-h.r,h:u-h.t-h.b,radius:{topLeft:Math.max(0,m.topLeft-Math.max(h.t,h.l)),topRight:Math.max(0,m.topRight-Math.max(h.t,h.r)),bottomLeft:Math.max(0,m.bottomLeft-Math.max(h.b,h.l)),bottomRight:Math.max(0,m.bottomRight-Math.max(h.b,h.r))}}}}function jf(l,s,a,u){const h=s===null,m=a===null,w=l&&!(h&&m)&&rv(l,u);return w&&(h||Ba(s,w.left,w.right))&&(m||Ba(a,w.top,w.bottom))}function Wx(l){return l.topLeft||l.topRight||l.bottomLeft||l.bottomRight}function jx(l,s){l.rect(s.x,s.y,s.w,s.h)}function Uf(l,s,a={}){const u=l.x!==a.x?-s:0,h=l.y!==a.y?-s:0,m=(l.x+l.w!==a.x+a.w?s:0)-u,v=(l.y+l.h!==a.y+a.h?s:0)-h;return{x:l.x+u,y:l.y+h,w:l.w+m,h:l.h+v,radius:l.radius}}class qu extends Ha{constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:a,options:{borderColor:u,backgroundColor:h}}=this,{inner:m,outer:v}=Mx(this),w=Wx(v.radius)?Qu:jx;s.save(),(v.w!==m.w||v.h!==m.h)&&(s.beginPath(),w(s,Uf(v,a,m)),s.clip(),w(s,Uf(m,-a,v)),s.fillStyle=u,s.fill("evenodd")),s.beginPath(),w(s,Uf(m,a)),s.fillStyle=h,s.fill(),s.restore()}inRange(s,a,u){return jf(this,s,a,u)}inXRange(s,a){return jf(this,s,null,a)}inYRange(s,a){return jf(this,null,s,a)}getCenterPoint(s){const{x:a,y:u,base:h,horizontal:m}=this.getProps(["x","y","base","horizontal"],s);return{x:m?(a+h)/2:a,y:m?u:(u+h)/2}}getRange(s){return s==="x"?this.width/2:this.height/2}}ae(qu,"id","bar"),ae(qu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ae(qu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Ux=Object.freeze({__proto__:null,ArcElement:nl,BarElement:qu,LineElement:wo,PointElement:Uu});const rp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],rg=rp.map(l=>l.replace("rgb(","rgba(").replace(")",", 0.5)"));function lv(l){return rp[l%rp.length]}function uv(l){return rg[l%rg.length]}function qx(l,s){return l.borderColor=lv(s),l.backgroundColor=uv(s),++s}function Yx(l,s){return l.backgroundColor=l.data.map(()=>lv(s++)),s}function Gx(l,s){return l.backgroundColor=l.data.map(()=>uv(s++)),s}function Kx(l){let s=0;return(a,u)=>{const h=l.getDatasetMeta(u).controller;h instanceof fr?s=Yx(a,s):h instanceof ju?s=Gx(a,s):h&&(s=qx(a,s))}}function lg(l){let s;for(s in l)if(l[s].borderColor||l[s].backgroundColor)return!0;return!1}function Xx(l){return l&&(l.borderColor||l.backgroundColor)}function Zx(){return hn.borderColor!=="rgba(0,0,0,0.1)"||hn.backgroundColor!=="rgba(0,0,0,0.1)"}var Jx={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(l,s,a){if(!a.enabled)return;const{data:{datasets:u},options:h}=l.config,{elements:m}=h,v=lg(u)||Xx(h)||m&&lg(m)||Zx();if(!a.forceOverride&&v)return;const w=Kx(l);u.forEach(w)}};function Qx(l,s,a,u,h){const m=h.samples||u;if(m>=a)return l.slice(s,s+a);const v=[],w=(a-2)/(m-2);let S=0;const D=s+a-1;let A=s,O,N,V,Y,$;for(v[S++]=l[A],O=0;O<m-2;O++){let te=0,X=0,K;const re=Math.floor((O+1)*w)+1+s,ie=Math.min(Math.floor((O+2)*w)+1,a)+s,se=ie-re;for(K=re;K<ie;K++)te+=l[K].x,X+=l[K].y;te/=se,X/=se;const ke=Math.floor(O*w)+1+s,be=Math.min(Math.floor((O+1)*w)+1,a)+s,{x:ve,y:Te}=l[A];for(V=Y=-1,K=ke;K<be;K++)Y=.5*Math.abs((ve-te)*(l[K].y-Te)-(ve-l[K].x)*(X-Te)),Y>V&&(V=Y,N=l[K],$=K);v[S++]=N,A=$}return v[S++]=l[D],v}function $x(l,s,a,u){let h=0,m=0,v,w,S,D,A,O,N,V,Y,$;const te=[],X=s+a-1,K=l[s].x,ie=l[X].x-K;for(v=s;v<s+a;++v){w=l[v],S=(w.x-K)/ie*u,D=w.y;const se=S|0;if(se===A)D<Y?(Y=D,O=v):D>$&&($=D,N=v),h=(m*h+w.x)/++m;else{const ke=v-1;if(!Ft(O)&&!Ft(N)){const be=Math.min(O,N),ve=Math.max(O,N);be!==V&&be!==ke&&te.push({...l[be],x:h}),ve!==V&&ve!==ke&&te.push({...l[ve],x:h})}v>0&&ke!==V&&te.push(l[ke]),te.push(w),A=se,m=0,Y=$=D,O=N=V=v}}return te}function cv(l){if(l._decimated){const s=l._data;delete l._decimated,delete l._data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,writable:!0,value:s})}}function ug(l){l.data.datasets.forEach(s=>{cv(s)})}function ek(l,s){const a=s.length;let u=0,h;const{iScale:m}=l,{min:v,max:w,minDefined:S,maxDefined:D}=m.getUserBounds();return S&&(u=ai(Na(s,m.axis,v).lo,0,a-1)),D?h=ai(Na(s,m.axis,w).hi+1,u,a)-u:h=a-u,{start:u,count:h}}var tk={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(l,s,a)=>{if(!a.enabled){ug(l);return}const u=l.width;l.data.datasets.forEach((h,m)=>{const{_data:v,indexAxis:w}=h,S=l.getDatasetMeta(m),D=v||h.data;if(un([w,l.options.indexAxis])==="y"||!S.controller.supportsDecimation)return;const A=l.scales[S.xAxisID];if(A.type!=="linear"&&A.type!=="time"||l.options.parsing)return;let{start:O,count:N}=ek(S,D);const V=a.threshold||4*u;if(N<=V){cv(h);return}Ft(v)&&(h._data=D,delete h.data,Object.defineProperty(h,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function($){this._data=$}}));let Y;switch(a.algorithm){case"lttb":Y=Qx(D,O,N,u,a);break;case"min-max":Y=$x(D,O,N,u);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}h._decimated=Y})},destroy(l){ug(l)}};function nk(l,s,a){const u=l.segments,h=l.points,m=s.points,v=[];for(const w of u){let{start:S,end:D}=w;D=Pp(S,D,h);const A=lp(a,h[S],h[D],w.loop);if(!s.segments){v.push({source:w,target:A,start:h[S],end:h[D]});continue}const O=U0(s,A);for(const N of O){const V=lp(a,m[N.start],m[N.end],N.loop),Y=j0(w,h,V);for(const $ of Y)v.push({source:$,target:N,start:{[a]:cg(A,V,"start",Math.max)},end:{[a]:cg(A,V,"end",Math.min)}})}}return v}function lp(l,s,a,u){if(u)return;let h=s[l],m=a[l];return l==="angle"&&(h=ss(h),m=ss(m)),{property:l,start:h,end:m}}function ik(l,s){const{x:a=null,y:u=null}=l||{},h=s.points,m=[];return s.segments.forEach(({start:v,end:w})=>{w=Pp(v,w,h);const S=h[v],D=h[w];u!==null?(m.push({x:S.x,y:u}),m.push({x:D.x,y:u})):a!==null&&(m.push({x:a,y:S.y}),m.push({x:a,y:D.y}))}),m}function Pp(l,s,a){for(;s>l;s--){const u=a[s];if(!isNaN(u.x)&&!isNaN(u.y))break}return s}function cg(l,s,a,u){return l&&s?u(l[a],s[a]):l?l[a]:s?s[a]:0}function dv(l,s){let a=[],u=!1;return cn(l)?(u=!0,a=l):a=ik(l,s),a.length?new wo({points:a,options:{tension:0},_loop:u,_fullLoop:u}):null}function dg(l){return l&&l.fill!==!1}function sk(l,s,a){let h=l[s].fill;const m=[s];let v;if(!a)return h;for(;h!==!1&&m.indexOf(h)===-1;){if(!On(h))return h;if(v=l[h],!v)return!1;if(v.visible)return h;m.push(h),h=v.fill}return!1}function ak(l,s,a){const u=uk(l);if(Lt(u))return isNaN(u.value)?!1:u;let h=parseFloat(u);return On(h)&&Math.floor(h)===h?ok(u[0],s,h,a):["origin","start","end","stack","shape"].indexOf(u)>=0&&u}function ok(l,s,a,u){return(l==="-"||l==="+")&&(a=s+a),a===s||a<0||a>=u?!1:a}function rk(l,s){let a=null;return l==="start"?a=s.bottom:l==="end"?a=s.top:Lt(l)?a=s.getPixelForValue(l.value):s.getBasePixel&&(a=s.getBasePixel()),a}function lk(l,s,a){let u;return l==="start"?u=a:l==="end"?u=s.options.reverse?s.min:s.max:Lt(l)?u=l.value:u=s.getBaseValue(),u}function uk(l){const s=l.options,a=s.fill;let u=At(a&&a.target,a);return u===void 0&&(u=!!s.backgroundColor),u===!1||u===null?!1:u===!0?"origin":u}function ck(l){const{scale:s,index:a,line:u}=l,h=[],m=u.segments,v=u.points,w=dk(s,a);w.push(dv({x:null,y:s.bottom},u));for(let S=0;S<m.length;S++){const D=m[S];for(let A=D.start;A<=D.end;A++)hk(h,v[A],w)}return new wo({points:h,options:{}})}function dk(l,s){const a=[],u=l.getMatchingVisibleMetas("line");for(let h=0;h<u.length;h++){const m=u[h];if(m.index===s)break;m.hidden||a.unshift(m.dataset)}return a}function hk(l,s,a){const u=[];for(let h=0;h<a.length;h++){const m=a[h],{first:v,last:w,point:S}=fk(m,s,"x");if(!(!S||v&&w)){if(v)u.unshift(S);else if(l.push(S),!w)break}}l.push(...u)}function fk(l,s,a){const u=l.interpolate(s,a);if(!u)return{};const h=u[a],m=l.segments,v=l.points;let w=!1,S=!1;for(let D=0;D<m.length;D++){const A=m[D],O=v[A.start][a],N=v[A.end][a];if(Ba(h,O,N)){w=h===O,S=h===N;break}}return{first:w,last:S,point:u}}class hv{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,a,u){const{x:h,y:m,radius:v}=this;return a=a||{start:0,end:dn},s.arc(h,m,v,a.end,a.start,!0),!u.bounds}interpolate(s){const{x:a,y:u,radius:h}=this,m=s.angle;return{x:a+Math.cos(m)*h,y:u+Math.sin(m)*h,angle:m}}}function pk(l){const{chart:s,fill:a,line:u}=l;if(On(a))return mk(s,a);if(a==="stack")return ck(l);if(a==="shape")return!0;const h=gk(l);return h instanceof hv?h:dv(h,u)}function mk(l,s){const a=l.getDatasetMeta(s);return a&&l.isDatasetVisible(s)?a.dataset:null}function gk(l){return(l.scale||{}).getPointPositionForValue?bk(l):vk(l)}function vk(l){const{scale:s={},fill:a}=l,u=rk(a,s);if(On(u)){const h=s.isHorizontal();return{x:h?u:null,y:h?null:u}}return null}function bk(l){const{scale:s,fill:a}=l,u=s.options,h=s.getLabels().length,m=u.reverse?s.max:s.min,v=lk(a,s,m),w=[];if(u.grid.circular){const S=s.getPointPositionForValue(0,m);return new hv({x:S.x,y:S.y,radius:s.getDistanceFromCenterForValue(v)})}for(let S=0;S<h;++S)w.push(s.getPointPositionForValue(S,v));return w}function qf(l,s,a){const u=pk(s),{chart:h,index:m,line:v,scale:w,axis:S}=s,D=v.options,A=D.fill,O=D.backgroundColor,{above:N=O,below:V=O}=A||{},Y=h.getDatasetMeta(m),$=q0(h,Y);u&&v.points.length&&(Ch(l,a),yk(l,{line:v,target:u,above:N,below:V,area:a,scale:w,axis:S,clip:$}),wh(l))}function yk(l,s){const{line:a,target:u,above:h,below:m,area:v,scale:w,clip:S}=s,D=a._loop?"angle":s.axis;l.save(),D==="x"&&m!==h&&(hg(l,u,v.top),fg(l,{line:a,target:u,color:h,scale:w,property:D,clip:S}),l.restore(),l.save(),hg(l,u,v.bottom)),fg(l,{line:a,target:u,color:m,scale:w,property:D,clip:S}),l.restore()}function hg(l,s,a){const{segments:u,points:h}=s;let m=!0,v=!1;l.beginPath();for(const w of u){const{start:S,end:D}=w,A=h[S],O=h[Pp(S,D,h)];m?(l.moveTo(A.x,A.y),m=!1):(l.lineTo(A.x,a),l.lineTo(A.x,A.y)),v=!!s.pathSegment(l,w,{move:v}),v?l.closePath():l.lineTo(O.x,a)}l.lineTo(s.first().x,a),l.closePath(),l.clip()}function fg(l,s){const{line:a,target:u,property:h,color:m,scale:v,clip:w}=s,S=nk(a,u,h);for(const{source:D,target:A,start:O,end:N}of S){const{style:{backgroundColor:V=m}={}}=D,Y=u!==!0;l.save(),l.fillStyle=V,_k(l,v,w,Y&&lp(h,O,N)),l.beginPath();const $=!!a.pathSegment(l,D);let te;if(Y){$?l.closePath():pg(l,u,N,h);const X=!!u.pathSegment(l,A,{move:$,reverse:!0});te=$&&X,te||pg(l,u,O,h)}l.closePath(),l.fill(te?"evenodd":"nonzero"),l.restore()}}function _k(l,s,a,u){const h=s.chart.chartArea,{property:m,start:v,end:w}=u||{};if(m==="x"||m==="y"){let S,D,A,O;m==="x"?(S=v,D=h.top,A=w,O=h.bottom):(S=h.left,D=v,A=h.right,O=w),l.beginPath(),a&&(S=Math.max(S,a.left),A=Math.min(A,a.right),D=Math.max(D,a.top),O=Math.min(O,a.bottom)),l.rect(S,D,A-S,O-D),l.clip()}}function pg(l,s,a,u){const h=s.interpolate(a,u);h&&l.lineTo(h.x,h.y)}var Ck={id:"filler",afterDatasetsUpdate(l,s,a){const u=(l.data.datasets||[]).length,h=[];let m,v,w,S;for(v=0;v<u;++v)m=l.getDatasetMeta(v),w=m.dataset,S=null,w&&w.options&&w instanceof wo&&(S={visible:l.isDatasetVisible(v),index:v,fill:ak(w,v,u),chart:l,axis:m.controller.options.indexAxis,scale:m.vScale,line:w}),m.$filler=S,h.push(S);for(v=0;v<u;++v)S=h[v],!(!S||S.fill===!1)&&(S.fill=sk(h,v,a.propagate))},beforeDraw(l,s,a){const u=a.drawTime==="beforeDraw",h=l.getSortedVisibleDatasetMetas(),m=l.chartArea;for(let v=h.length-1;v>=0;--v){const w=h[v].$filler;w&&(w.line.updateControlPoints(m,w.axis),u&&w.fill&&qf(l.ctx,w,m))}},beforeDatasetsDraw(l,s,a){if(a.drawTime!=="beforeDatasetsDraw")return;const u=l.getSortedVisibleDatasetMetas();for(let h=u.length-1;h>=0;--h){const m=u[h].$filler;dg(m)&&qf(l.ctx,m,l.chartArea)}},beforeDatasetDraw(l,s,a){const u=s.meta.$filler;!dg(u)||a.drawTime!=="beforeDatasetDraw"||qf(l.ctx,u,l.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const mg=(l,s)=>{let{boxHeight:a=s,boxWidth:u=s}=l;return l.usePointStyle&&(a=Math.min(a,s),u=l.pointStyleWidth||Math.min(u,s)),{boxWidth:u,boxHeight:a,itemHeight:Math.max(s,a)}},wk=(l,s)=>l!==null&&s!==null&&l.datasetIndex===s.datasetIndex&&l.index===s.index;class gg extends Ha{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a,u){this.maxWidth=s,this.maxHeight=a,this._margins=u,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let a=Jt(s.generateLabels,[this.chart],this)||[];s.filter&&(a=a.filter(u=>s.filter(u,this.chart.data))),s.sort&&(a=a.sort((u,h)=>s.sort(u,h,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:s,ctx:a}=this;if(!s.display){this.width=this.height=0;return}const u=s.labels,h=Un(u.font),m=h.size,v=this._computeTitleHeight(),{boxWidth:w,itemHeight:S}=mg(u,m);let D,A;a.font=h.string,this.isHorizontal()?(D=this.maxWidth,A=this._fitRows(v,m,w,S)+10):(A=this.maxHeight,D=this._fitCols(v,h,w,S)+10),this.width=Math.min(D,s.maxWidth||this.maxWidth),this.height=Math.min(A,s.maxHeight||this.maxHeight)}_fitRows(s,a,u,h){const{ctx:m,maxWidth:v,options:{labels:{padding:w}}}=this,S=this.legendHitBoxes=[],D=this.lineWidths=[0],A=h+w;let O=s;m.textAlign="left",m.textBaseline="middle";let N=-1,V=-A;return this.legendItems.forEach((Y,$)=>{const te=u+a/2+m.measureText(Y.text).width;($===0||D[D.length-1]+te+2*w>v)&&(O+=A,D[D.length-($>0?0:1)]=0,V+=A,N++),S[$]={left:0,top:V,row:N,width:te,height:h},D[D.length-1]+=te+w}),O}_fitCols(s,a,u,h){const{ctx:m,maxHeight:v,options:{labels:{padding:w}}}=this,S=this.legendHitBoxes=[],D=this.columnSizes=[],A=v-s;let O=w,N=0,V=0,Y=0,$=0;return this.legendItems.forEach((te,X)=>{const{itemWidth:K,itemHeight:re}=xk(u,a,m,te,h);X>0&&V+re+2*w>A&&(O+=N+w,D.push({width:N,height:V}),Y+=N+w,$++,N=V=0),S[X]={left:Y,top:V,col:$,width:K,height:re},N=Math.max(N,K),V+=re+w}),O+=N,D.push({width:N,height:V}),O}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:u,labels:{padding:h},rtl:m}}=this,v=il(m,this.left,this.width);if(this.isHorizontal()){let w=0,S=Di(u,this.left+h,this.right-this.lineWidths[w]);for(const D of a)w!==D.row&&(w=D.row,S=Di(u,this.left+h,this.right-this.lineWidths[w])),D.top+=this.top+s+h,D.left=v.leftForLtr(v.x(S),D.width),S+=D.width+h}else{let w=0,S=Di(u,this.top+s+h,this.bottom-this.columnSizes[w].height);for(const D of a)D.col!==w&&(w=D.col,S=Di(u,this.top+s+h,this.bottom-this.columnSizes[w].height)),D.top=S,D.left+=this.left+h,D.left=v.leftForLtr(v.x(D.left),D.width),S+=D.height+h}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const s=this.ctx;Ch(s,this),this._draw(),wh(s)}}_draw(){const{options:s,columnSizes:a,lineWidths:u,ctx:h}=this,{align:m,labels:v}=s,w=hn.color,S=il(s.rtl,this.left,this.width),D=Un(v.font),{padding:A}=v,O=D.size,N=O/2;let V;this.drawTitle(),h.textAlign=S.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.font=D.string;const{boxWidth:Y,boxHeight:$,itemHeight:te}=mg(v,O),X=function(ke,be,ve){if(isNaN(Y)||Y<=0||isNaN($)||$<0)return;h.save();const Te=At(ve.lineWidth,1);if(h.fillStyle=At(ve.fillStyle,w),h.lineCap=At(ve.lineCap,"butt"),h.lineDashOffset=At(ve.lineDashOffset,0),h.lineJoin=At(ve.lineJoin,"miter"),h.lineWidth=Te,h.strokeStyle=At(ve.strokeStyle,w),h.setLineDash(At(ve.lineDash,[])),v.usePointStyle){const Ke={radius:$*Math.SQRT2/2,pointStyle:ve.pointStyle,rotation:ve.rotation,borderWidth:Te},Le=S.xPlus(ke,Y/2),Ge=be+N;L0(h,Ke,Le,Ge,v.pointStyleWidth&&Y)}else{const Ke=be+Math.max((O-$)/2,0),Le=S.leftForLtr(ke,Y),Ge=pr(ve.borderRadius);h.beginPath(),Object.values(Ge).some(it=>it!==0)?Qu(h,{x:Le,y:Ke,w:Y,h:$,radius:Ge}):h.rect(Le,Ke,Y,$),h.fill(),Te!==0&&h.stroke()}h.restore()},K=function(ke,be,ve){vr(h,ve.text,ke,be+te/2,D,{strikethrough:ve.hidden,textAlign:S.textAlign(ve.textAlign)})},re=this.isHorizontal(),ie=this._computeTitleHeight();re?V={x:Di(m,this.left+A,this.right-u[0]),y:this.top+A+ie,line:0}:V={x:this.left+A,y:Di(m,this.top+ie+A,this.bottom-a[0].height),line:0},V0(this.ctx,s.textDirection);const se=te+A;this.legendItems.forEach((ke,be)=>{h.strokeStyle=ke.fontColor,h.fillStyle=ke.fontColor;const ve=h.measureText(ke.text).width,Te=S.textAlign(ke.textAlign||(ke.textAlign=v.textAlign)),Ke=Y+N+ve;let Le=V.x,Ge=V.y;S.setWidth(this.width),re?be>0&&Le+Ke+A>this.right&&(Ge=V.y+=se,V.line++,Le=V.x=Di(m,this.left+A,this.right-u[V.line])):be>0&&Ge+se>this.bottom&&(Le=V.x=Le+a[V.line].width+A,V.line++,Ge=V.y=Di(m,this.top+ie+A,this.bottom-a[V.line].height));const it=S.x(Le);if(X(it,Ge,ke),Le=U1(Te,Le+Y+N,re?Le+Ke:this.right,s.rtl),K(S.x(Le),Ge,ke),re)V.x+=Ke+A;else if(typeof ke.text!="string"){const rt=D.lineHeight;V.y+=fv(ke,rt)+A}else V.y+=se}),M0(this.ctx,s.textDirection)}drawTitle(){const s=this.options,a=s.title,u=Un(a.font),h=yi(a.padding);if(!a.display)return;const m=il(s.rtl,this.left,this.width),v=this.ctx,w=a.position,S=u.size/2,D=h.top+S;let A,O=this.left,N=this.width;if(this.isHorizontal())N=Math.max(...this.lineWidths),A=this.top+D,O=Di(s.align,O,this.right-N);else{const Y=this.columnSizes.reduce(($,te)=>Math.max($,te.height),0);A=D+Di(s.align,this.top,this.bottom-Y-s.labels.padding-this._computeTitleHeight())}const V=Di(w,O,O+N);v.textAlign=m.textAlign(Sp(w)),v.textBaseline="middle",v.strokeStyle=a.color,v.fillStyle=a.color,v.font=u.string,vr(v,a.text,V,A,u)}_computeTitleHeight(){const s=this.options.title,a=Un(s.font),u=yi(s.padding);return s.display?a.lineHeight+u.height:0}_getLegendItemAt(s,a){let u,h,m;if(Ba(s,this.left,this.right)&&Ba(a,this.top,this.bottom)){for(m=this.legendHitBoxes,u=0;u<m.length;++u)if(h=m[u],Ba(s,h.left,h.left+h.width)&&Ba(a,h.top,h.top+h.height))return this.legendItems[u]}return null}handleEvent(s){const a=this.options;if(!Dk(s.type,a))return;const u=this._getLegendItemAt(s.x,s.y);if(s.type==="mousemove"||s.type==="mouseout"){const h=this._hoveredItem,m=wk(h,u);h&&!m&&Jt(a.onLeave,[s,h,this],this),this._hoveredItem=u,u&&!m&&Jt(a.onHover,[s,u,this],this)}else u&&Jt(a.onClick,[s,u,this],this)}}function xk(l,s,a,u,h){const m=kk(u,l,s,a),v=Sk(h,u,s.lineHeight);return{itemWidth:m,itemHeight:v}}function kk(l,s,a,u){let h=l.text;return h&&typeof h!="string"&&(h=h.reduce((m,v)=>m.length>v.length?m:v)),s+a.size/2+u.measureText(h).width}function Sk(l,s,a){let u=l;return typeof s.text!="string"&&(u=fv(s,a)),u}function fv(l,s){const a=l.text?l.text.length:0;return s*a}function Dk(l,s){return!!((l==="mousemove"||l==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(l==="click"||l==="mouseup"))}var Tk={id:"legend",_element:gg,start(l,s,a){const u=l.legend=new gg({ctx:l.ctx,options:a,chart:l});Ti.configure(l,u,a),Ti.addBox(l,u)},stop(l){Ti.removeBox(l,l.legend),delete l.legend},beforeUpdate(l,s,a){const u=l.legend;Ti.configure(l,u,a),u.options=a},afterUpdate(l){const s=l.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(l,s){s.replay||l.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(l,s,a){const u=s.datasetIndex,h=a.chart;h.isDatasetVisible(u)?(h.hide(u),s.hidden=!0):(h.show(u),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:l=>l.chart.options.color,boxWidth:40,padding:10,generateLabels(l){const s=l.data.datasets,{labels:{usePointStyle:a,pointStyle:u,textAlign:h,color:m,useBorderRadius:v,borderRadius:w}}=l.legend.options;return l._getSortedDatasetMetas().map(S=>{const D=S.controller.getStyle(a?0:void 0),A=yi(D.borderWidth);return{text:s[S.index].label,fillStyle:D.backgroundColor,fontColor:m,hidden:!S.visible,lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:D.borderColor,pointStyle:u||D.pointStyle,rotation:D.rotation,textAlign:h||D.textAlign,borderRadius:v&&(w||D.borderRadius),datasetIndex:S.index}},this)}},title:{color:l=>l.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:l=>!l.startsWith("on"),labels:{_scriptable:l=>!["generateLabels","filter","sort"].includes(l)}}};class Bp extends Ha{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a){const u=this.options;if(this.left=0,this.top=0,!u.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=s,this.height=this.bottom=a;const h=cn(u.text)?u.text.length:1;this._padding=yi(u.padding);const m=h*Un(u.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=m:this.width=m}isHorizontal(){const s=this.options.position;return s==="top"||s==="bottom"}_drawArgs(s){const{top:a,left:u,bottom:h,right:m,options:v}=this,w=v.align;let S=0,D,A,O;return this.isHorizontal()?(A=Di(w,u,m),O=a+s,D=m-u):(v.position==="left"?(A=u+s,O=Di(w,h,a),S=fn*-.5):(A=m-s,O=Di(w,a,h),S=fn*.5),D=h-a),{titleX:A,titleY:O,maxWidth:D,rotation:S}}draw(){const s=this.ctx,a=this.options;if(!a.display)return;const u=Un(a.font),m=u.lineHeight/2+this._padding.top,{titleX:v,titleY:w,maxWidth:S,rotation:D}=this._drawArgs(m);vr(s,a.text,0,0,u,{color:a.color,maxWidth:S,rotation:D,textAlign:Sp(a.align),textBaseline:"middle",translation:[v,w]})}}function Ek(l,s){const a=new Bp({ctx:l.ctx,options:s,chart:l});Ti.configure(l,a,s),Ti.addBox(l,a),l.titleBlock=a}var Ak={id:"title",_element:Bp,start(l,s,a){Ek(l,a)},stop(l){const s=l.titleBlock;Ti.removeBox(l,s),delete l.titleBlock},beforeUpdate(l,s,a){const u=l.titleBlock;Ti.configure(l,u,a),u.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gd=new WeakMap;var Fk={id:"subtitle",start(l,s,a){const u=new Bp({ctx:l.ctx,options:a,chart:l});Ti.configure(l,u,a),Ti.addBox(l,u),Gd.set(l,u)},stop(l){Ti.removeBox(l,Gd.get(l)),Gd.delete(l)},beforeUpdate(l,s,a){const u=Gd.get(l);Ti.configure(l,u,a),u.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ru={average(l){if(!l.length)return!1;let s,a,u=new Set,h=0,m=0;for(s=0,a=l.length;s<a;++s){const w=l[s].element;if(w&&w.hasValue()){const S=w.tooltipPosition();u.add(S.x),h+=S.y,++m}}return m===0||u.size===0?!1:{x:[...u].reduce((w,S)=>w+S)/u.size,y:h/m}},nearest(l,s){if(!l.length)return!1;let a=s.x,u=s.y,h=Number.POSITIVE_INFINITY,m,v,w;for(m=0,v=l.length;m<v;++m){const S=l[m].element;if(S&&S.hasValue()){const D=S.getCenterPoint(),A=ep(s,D);A<h&&(h=A,w=S)}}if(w){const S=w.tooltipPosition();a=S.x,u=S.y}return{x:a,y:u}}};function ia(l,s){return s&&(cn(s)?Array.prototype.push.apply(l,s):l.push(s)),l}function La(l){return(typeof l=="string"||l instanceof String)&&l.indexOf(`
`)>-1?l.split(`
`):l}function Ik(l,s){const{element:a,datasetIndex:u,index:h}=s,m=l.getDatasetMeta(u).controller,{label:v,value:w}=m.getLabelAndValue(h);return{chart:l,label:v,parsed:m.getParsed(h),raw:l.data.datasets[u].data[h],formattedValue:w,dataset:m.getDataset(),dataIndex:h,datasetIndex:u,element:a}}function vg(l,s){const a=l.chart.ctx,{body:u,footer:h,title:m}=l,{boxWidth:v,boxHeight:w}=s,S=Un(s.bodyFont),D=Un(s.titleFont),A=Un(s.footerFont),O=m.length,N=h.length,V=u.length,Y=yi(s.padding);let $=Y.height,te=0,X=u.reduce((ie,se)=>ie+se.before.length+se.lines.length+se.after.length,0);if(X+=l.beforeBody.length+l.afterBody.length,O&&($+=O*D.lineHeight+(O-1)*s.titleSpacing+s.titleMarginBottom),X){const ie=s.displayColors?Math.max(w,S.lineHeight):S.lineHeight;$+=V*ie+(X-V)*S.lineHeight+(X-1)*s.bodySpacing}N&&($+=s.footerMarginTop+N*A.lineHeight+(N-1)*s.footerSpacing);let K=0;const re=function(ie){te=Math.max(te,a.measureText(ie).width+K)};return a.save(),a.font=D.string,Gt(l.title,re),a.font=S.string,Gt(l.beforeBody.concat(l.afterBody),re),K=s.displayColors?v+2+s.boxPadding:0,Gt(u,ie=>{Gt(ie.before,re),Gt(ie.lines,re),Gt(ie.after,re)}),K=0,a.font=A.string,Gt(l.footer,re),a.restore(),te+=Y.width,{width:te,height:$}}function Lk(l,s){const{y:a,height:u}=s;return a<u/2?"top":a>l.height-u/2?"bottom":"center"}function Ok(l,s,a,u){const{x:h,width:m}=u,v=a.caretSize+a.caretPadding;if(l==="left"&&h+m+v>s.width||l==="right"&&h-m-v<0)return!0}function Pk(l,s,a,u){const{x:h,width:m}=a,{width:v,chartArea:{left:w,right:S}}=l;let D="center";return u==="center"?D=h<=(w+S)/2?"left":"right":h<=m/2?D="left":h>=v-m/2&&(D="right"),Ok(D,l,s,a)&&(D="center"),D}function bg(l,s,a){const u=a.yAlign||s.yAlign||Lk(l,a);return{xAlign:a.xAlign||s.xAlign||Pk(l,s,a,u),yAlign:u}}function Bk(l,s){let{x:a,width:u}=l;return s==="right"?a-=u:s==="center"&&(a-=u/2),a}function Nk(l,s,a){let{y:u,height:h}=l;return s==="top"?u+=a:s==="bottom"?u-=h+a:u-=h/2,u}function yg(l,s,a,u){const{caretSize:h,caretPadding:m,cornerRadius:v}=l,{xAlign:w,yAlign:S}=a,D=h+m,{topLeft:A,topRight:O,bottomLeft:N,bottomRight:V}=pr(v);let Y=Bk(s,w);const $=Nk(s,S,D);return S==="center"?w==="left"?Y+=D:w==="right"&&(Y-=D):w==="left"?Y-=Math.max(A,N)+h:w==="right"&&(Y+=Math.max(O,V)+h),{x:ai(Y,0,u.width-s.width),y:ai($,0,u.height-s.height)}}function Kd(l,s,a){const u=yi(a.padding);return s==="center"?l.x+l.width/2:s==="right"?l.x+l.width-u.right:l.x+u.left}function _g(l){return ia([],La(l))}function Rk(l,s,a){return To(l,{tooltip:s,tooltipItems:a,type:"tooltip"})}function Cg(l,s){const a=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return a?l.override(a):l}const pv={beforeTitle:Fa,title(l){if(l.length>0){const s=l[0],a=s.chart.data.labels,u=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return s.dataset.label||"";if(s.label)return s.label;if(u>0&&s.dataIndex<u)return a[s.dataIndex]}return""},afterTitle:Fa,beforeBody:Fa,beforeLabel:Fa,label(l){if(this&&this.options&&this.options.mode==="dataset")return l.label+": "+l.formattedValue||l.formattedValue;let s=l.dataset.label||"";s&&(s+=": ");const a=l.formattedValue;return Ft(a)||(s+=a),s},labelColor(l){const a=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(l){const a=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Fa,afterBody:Fa,beforeFooter:Fa,footer:Fa,afterFooter:Fa};function Ui(l,s,a,u){const h=l[s].call(a,u);return typeof h>"u"?pv[s].call(a,u):h}class up extends Ha{constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const a=this.chart,u=this.options.setContext(this.getContext()),h=u.enabled&&a.options.animation&&u.animations,m=new Y0(this.chart,h);return h._cacheable&&(this._cachedAnimations=Object.freeze(m)),m}getContext(){return this.$context||(this.$context=Rk(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,a){const{callbacks:u}=a,h=Ui(u,"beforeTitle",this,s),m=Ui(u,"title",this,s),v=Ui(u,"afterTitle",this,s);let w=[];return w=ia(w,La(h)),w=ia(w,La(m)),w=ia(w,La(v)),w}getBeforeBody(s,a){return _g(Ui(a.callbacks,"beforeBody",this,s))}getBody(s,a){const{callbacks:u}=a,h=[];return Gt(s,m=>{const v={before:[],lines:[],after:[]},w=Cg(u,m);ia(v.before,La(Ui(w,"beforeLabel",this,m))),ia(v.lines,Ui(w,"label",this,m)),ia(v.after,La(Ui(w,"afterLabel",this,m))),h.push(v)}),h}getAfterBody(s,a){return _g(Ui(a.callbacks,"afterBody",this,s))}getFooter(s,a){const{callbacks:u}=a,h=Ui(u,"beforeFooter",this,s),m=Ui(u,"footer",this,s),v=Ui(u,"afterFooter",this,s);let w=[];return w=ia(w,La(h)),w=ia(w,La(m)),w=ia(w,La(v)),w}_createItems(s){const a=this._active,u=this.chart.data,h=[],m=[],v=[];let w=[],S,D;for(S=0,D=a.length;S<D;++S)w.push(Ik(this.chart,a[S]));return s.filter&&(w=w.filter((A,O,N)=>s.filter(A,O,N,u))),s.itemSort&&(w=w.sort((A,O)=>s.itemSort(A,O,u))),Gt(w,A=>{const O=Cg(s.callbacks,A);h.push(Ui(O,"labelColor",this,A)),m.push(Ui(O,"labelPointStyle",this,A)),v.push(Ui(O,"labelTextColor",this,A))}),this.labelColors=h,this.labelPointStyles=m,this.labelTextColors=v,this.dataPoints=w,w}update(s,a){const u=this.options.setContext(this.getContext()),h=this._active;let m,v=[];if(!h.length)this.opacity!==0&&(m={opacity:0});else{const w=Ru[u.position].call(this,h,this._eventPosition);v=this._createItems(u),this.title=this.getTitle(v,u),this.beforeBody=this.getBeforeBody(v,u),this.body=this.getBody(v,u),this.afterBody=this.getAfterBody(v,u),this.footer=this.getFooter(v,u);const S=this._size=vg(this,u),D=Object.assign({},w,S),A=bg(this.chart,u,D),O=yg(u,D,A,this.chart);this.xAlign=A.xAlign,this.yAlign=A.yAlign,m={opacity:1,x:O.x,y:O.y,width:S.width,height:S.height,caretX:w.x,caretY:w.y}}this._tooltipItems=v,this.$context=void 0,m&&this._resolveAnimations().update(this,m),s&&u.external&&u.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(s,a,u,h){const m=this.getCaretPosition(s,u,h);a.lineTo(m.x1,m.y1),a.lineTo(m.x2,m.y2),a.lineTo(m.x3,m.y3)}getCaretPosition(s,a,u){const{xAlign:h,yAlign:m}=this,{caretSize:v,cornerRadius:w}=u,{topLeft:S,topRight:D,bottomLeft:A,bottomRight:O}=pr(w),{x:N,y:V}=s,{width:Y,height:$}=a;let te,X,K,re,ie,se;return m==="center"?(ie=V+$/2,h==="left"?(te=N,X=te-v,re=ie+v,se=ie-v):(te=N+Y,X=te+v,re=ie-v,se=ie+v),K=te):(h==="left"?X=N+Math.max(S,A)+v:h==="right"?X=N+Y-Math.max(D,O)-v:X=this.caretX,m==="top"?(re=V,ie=re-v,te=X-v,K=X+v):(re=V+$,ie=re+v,te=X+v,K=X-v),se=re),{x1:te,x2:X,x3:K,y1:re,y2:ie,y3:se}}drawTitle(s,a,u){const h=this.title,m=h.length;let v,w,S;if(m){const D=il(u.rtl,this.x,this.width);for(s.x=Kd(this,u.titleAlign,u),a.textAlign=D.textAlign(u.titleAlign),a.textBaseline="middle",v=Un(u.titleFont),w=u.titleSpacing,a.fillStyle=u.titleColor,a.font=v.string,S=0;S<m;++S)a.fillText(h[S],D.x(s.x),s.y+v.lineHeight/2),s.y+=v.lineHeight+w,S+1===m&&(s.y+=u.titleMarginBottom-w)}}_drawColorBox(s,a,u,h,m){const v=this.labelColors[u],w=this.labelPointStyles[u],{boxHeight:S,boxWidth:D}=m,A=Un(m.bodyFont),O=Kd(this,"left",m),N=h.x(O),V=S<A.lineHeight?(A.lineHeight-S)/2:0,Y=a.y+V;if(m.usePointStyle){const $={radius:Math.min(D,S)/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:1},te=h.leftForLtr(N,D)+D/2,X=Y+S/2;s.strokeStyle=m.multiKeyBackground,s.fillStyle=m.multiKeyBackground,np(s,$,te,X),s.strokeStyle=v.borderColor,s.fillStyle=v.backgroundColor,np(s,$,te,X)}else{s.lineWidth=Lt(v.borderWidth)?Math.max(...Object.values(v.borderWidth)):v.borderWidth||1,s.strokeStyle=v.borderColor,s.setLineDash(v.borderDash||[]),s.lineDashOffset=v.borderDashOffset||0;const $=h.leftForLtr(N,D),te=h.leftForLtr(h.xPlus(N,1),D-2),X=pr(v.borderRadius);Object.values(X).some(K=>K!==0)?(s.beginPath(),s.fillStyle=m.multiKeyBackground,Qu(s,{x:$,y:Y,w:D,h:S,radius:X}),s.fill(),s.stroke(),s.fillStyle=v.backgroundColor,s.beginPath(),Qu(s,{x:te,y:Y+1,w:D-2,h:S-2,radius:X}),s.fill()):(s.fillStyle=m.multiKeyBackground,s.fillRect($,Y,D,S),s.strokeRect($,Y,D,S),s.fillStyle=v.backgroundColor,s.fillRect(te,Y+1,D-2,S-2))}s.fillStyle=this.labelTextColors[u]}drawBody(s,a,u){const{body:h}=this,{bodySpacing:m,bodyAlign:v,displayColors:w,boxHeight:S,boxWidth:D,boxPadding:A}=u,O=Un(u.bodyFont);let N=O.lineHeight,V=0;const Y=il(u.rtl,this.x,this.width),$=function(ve){a.fillText(ve,Y.x(s.x+V),s.y+N/2),s.y+=N+m},te=Y.textAlign(v);let X,K,re,ie,se,ke,be;for(a.textAlign=v,a.textBaseline="middle",a.font=O.string,s.x=Kd(this,te,u),a.fillStyle=u.bodyColor,Gt(this.beforeBody,$),V=w&&te!=="right"?v==="center"?D/2+A:D+2+A:0,ie=0,ke=h.length;ie<ke;++ie){for(X=h[ie],K=this.labelTextColors[ie],a.fillStyle=K,Gt(X.before,$),re=X.lines,w&&re.length&&(this._drawColorBox(a,s,ie,Y,u),N=Math.max(O.lineHeight,S)),se=0,be=re.length;se<be;++se)$(re[se]),N=O.lineHeight;Gt(X.after,$)}V=0,N=O.lineHeight,Gt(this.afterBody,$),s.y-=m}drawFooter(s,a,u){const h=this.footer,m=h.length;let v,w;if(m){const S=il(u.rtl,this.x,this.width);for(s.x=Kd(this,u.footerAlign,u),s.y+=u.footerMarginTop,a.textAlign=S.textAlign(u.footerAlign),a.textBaseline="middle",v=Un(u.footerFont),a.fillStyle=u.footerColor,a.font=v.string,w=0;w<m;++w)a.fillText(h[w],S.x(s.x),s.y+v.lineHeight/2),s.y+=v.lineHeight+u.footerSpacing}}drawBackground(s,a,u,h){const{xAlign:m,yAlign:v}=this,{x:w,y:S}=s,{width:D,height:A}=u,{topLeft:O,topRight:N,bottomLeft:V,bottomRight:Y}=pr(h.cornerRadius);a.fillStyle=h.backgroundColor,a.strokeStyle=h.borderColor,a.lineWidth=h.borderWidth,a.beginPath(),a.moveTo(w+O,S),v==="top"&&this.drawCaret(s,a,u,h),a.lineTo(w+D-N,S),a.quadraticCurveTo(w+D,S,w+D,S+N),v==="center"&&m==="right"&&this.drawCaret(s,a,u,h),a.lineTo(w+D,S+A-Y),a.quadraticCurveTo(w+D,S+A,w+D-Y,S+A),v==="bottom"&&this.drawCaret(s,a,u,h),a.lineTo(w+V,S+A),a.quadraticCurveTo(w,S+A,w,S+A-V),v==="center"&&m==="left"&&this.drawCaret(s,a,u,h),a.lineTo(w,S+O),a.quadraticCurveTo(w,S,w+O,S),a.closePath(),a.fill(),h.borderWidth>0&&a.stroke()}_updateAnimationTarget(s){const a=this.chart,u=this.$animations,h=u&&u.x,m=u&&u.y;if(h||m){const v=Ru[s.position].call(this,this._active,this._eventPosition);if(!v)return;const w=this._size=vg(this,s),S=Object.assign({},v,this._size),D=bg(a,s,S),A=yg(s,S,D,a);(h._to!==A.x||m._to!==A.y)&&(this.xAlign=D.xAlign,this.yAlign=D.yAlign,this.width=w.width,this.height=w.height,this.caretX=v.x,this.caretY=v.y,this._resolveAnimations().update(this,A))}}_willRender(){return!!this.opacity}draw(s){const a=this.options.setContext(this.getContext());let u=this.opacity;if(!u)return;this._updateAnimationTarget(a);const h={width:this.width,height:this.height},m={x:this.x,y:this.y};u=Math.abs(u)<.001?0:u;const v=yi(a.padding),w=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&w&&(s.save(),s.globalAlpha=u,this.drawBackground(m,s,h,a),V0(s,a.textDirection),m.y+=v.top,this.drawTitle(m,s,a),this.drawBody(m,s,a),this.drawFooter(m,s,a),M0(s,a.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,a){const u=this._active,h=s.map(({datasetIndex:w,index:S})=>{const D=this.chart.getDatasetMeta(w);if(!D)throw new Error("Cannot find a dataset at index "+w);return{datasetIndex:w,element:D.data[S],index:S}}),m=!ch(u,h),v=this._positionChanged(h,a);(m||v)&&(this._active=h,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,a,u=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const h=this.options,m=this._active||[],v=this._getActiveElements(s,m,a,u),w=this._positionChanged(v,s),S=a||!ch(v,m)||w;return S&&(this._active=v,(h.enabled||h.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,a))),S}_getActiveElements(s,a,u,h){const m=this.options;if(s.type==="mouseout")return[];if(!h)return a.filter(w=>this.chart.data.datasets[w.datasetIndex]&&this.chart.getDatasetMeta(w.datasetIndex).controller.getParsed(w.index)!==void 0);const v=this.chart.getElementsAtEventForMode(s,m.mode,m,u);return m.reverse&&v.reverse(),v}_positionChanged(s,a){const{caretX:u,caretY:h,options:m}=this,v=Ru[m.position].call(this,s,a);return v!==!1&&(u!==v.x||h!==v.y)}}ae(up,"positioners",Ru);var zk={id:"tooltip",_element:up,positioners:Ru,afterInit(l,s,a){a&&(l.tooltip=new up({chart:l,options:a}))},beforeUpdate(l,s,a){l.tooltip&&l.tooltip.initialize(a)},reset(l,s,a){l.tooltip&&l.tooltip.initialize(a)},afterDraw(l){const s=l.tooltip;if(s&&s._willRender()){const a={tooltip:s};if(l.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;s.draw(l.ctx),l.notifyPlugins("afterTooltipDraw",a)}},afterEvent(l,s){if(l.tooltip){const a=s.replay;l.tooltip.handleEvent(s.event,a,s.inChartArea)&&(s.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(l,s)=>s.bodyFont.size,boxWidth:(l,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:l=>l!=="filter"&&l!=="itemSort"&&l!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Hk=Object.freeze({__proto__:null,Colors:Jx,Decimation:tk,Filler:Ck,Legend:Tk,SubTitle:Fk,Title:Ak,Tooltip:zk});const Vk=(l,s,a,u)=>(typeof s=="string"?(a=l.push(s)-1,u.unshift({index:a,label:s})):isNaN(s)&&(a=null),a);function Mk(l,s,a,u){const h=l.indexOf(s);if(h===-1)return Vk(l,s,a,u);const m=l.lastIndexOf(s);return h!==m?a:h}const Wk=(l,s)=>l===null?null:ai(Math.round(l),0,s);function wg(l){const s=this.getLabels();return l>=0&&l<s.length?s[l]:l}class cp extends br{constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const a=this._addedLabels;if(a.length){const u=this.getLabels();for(const{index:h,label:m}of a)u[h]===m&&u.splice(h,1);this._addedLabels=[]}super.init(s)}parse(s,a){if(Ft(s))return null;const u=this.getLabels();return a=isFinite(a)&&u[a]===s?a:Mk(u,s,At(a,s),this._addedLabels),Wk(a,u.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:a}=this.getUserBounds();let{min:u,max:h}=this.getMinMax(!0);this.options.bounds==="ticks"&&(s||(u=0),a||(h=this.getLabels().length-1)),this.min=u,this.max=h}buildTicks(){const s=this.min,a=this.max,u=this.options.offset,h=[];let m=this.getLabels();m=s===0&&a===m.length-1?m:m.slice(s,a+1),this._valueRange=Math.max(m.length-(u?0:1),1),this._startValue=this.min-(u?.5:0);for(let v=s;v<=a;v++)h.push({value:v});return h}getLabelForValue(s){return wg.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return typeof s!="number"&&(s=this.parse(s)),s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}ae(cp,"id","category"),ae(cp,"defaults",{ticks:{callback:wg}});function jk(l,s){const a=[],{bounds:h,step:m,min:v,max:w,precision:S,count:D,maxTicks:A,maxDigits:O,includeBounds:N}=l,V=m||1,Y=A-1,{min:$,max:te}=s,X=!Ft(v),K=!Ft(w),re=!Ft(D),ie=(te-$)/(O+1);let se=vm((te-$)/Y/V)*V,ke,be,ve,Te;if(se<1e-14&&!X&&!K)return[{value:$},{value:te}];Te=Math.ceil(te/se)-Math.floor($/se),Te>Y&&(se=vm(Te*se/Y/V)*V),Ft(S)||(ke=Math.pow(10,S),se=Math.ceil(se*ke)/ke),h==="ticks"?(be=Math.floor($/se)*se,ve=Math.ceil(te/se)*se):(be=$,ve=te),X&&K&&m&&R1((w-v)/m,se/1e3)?(Te=Math.round(Math.min((w-v)/se,A)),se=(w-v)/Te,be=v,ve=w):re?(be=X?v:be,ve=K?w:ve,Te=D-1,se=(ve-be)/Te):(Te=(ve-be)/se,Vu(Te,Math.round(Te),se/1e3)?Te=Math.round(Te):Te=Math.ceil(Te));const Ke=Math.max(bm(se),bm(be));ke=Math.pow(10,Ft(S)?Ke:S),be=Math.round(be*ke)/ke,ve=Math.round(ve*ke)/ke;let Le=0;for(X&&(N&&be!==v?(a.push({value:v}),be<v&&Le++,Vu(Math.round((be+Le*se)*ke)/ke,v,xg(v,ie,l))&&Le++):be<v&&Le++);Le<Te;++Le){const Ge=Math.round((be+Le*se)*ke)/ke;if(K&&Ge>w)break;a.push({value:Ge})}return K&&N&&ve!==w?a.length&&Vu(a[a.length-1].value,w,xg(w,ie,l))?a[a.length-1].value=w:a.push({value:w}):(!K||ve===w)&&a.push({value:ve}),a}function xg(l,s,{horizontal:a,minRotation:u}){const h=Ls(u),m=(a?Math.sin(h):Math.cos(h))||.001,v=.75*s*(""+l).length;return Math.min(s/m,v)}class vh extends br{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,a){return Ft(s)||(typeof s=="number"||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:a,maxDefined:u}=this.getUserBounds();let{min:h,max:m}=this;const v=S=>h=a?h:S,w=S=>m=u?m:S;if(s){const S=ra(h),D=ra(m);S<0&&D<0?w(0):S>0&&D>0&&v(0)}if(h===m){let S=m===0?1:Math.abs(m*.05);w(m+S),s||v(h-S)}this.min=h,this.max=m}getTickLimit(){const s=this.options.ticks;let{maxTicksLimit:a,stepSize:u}=s,h;return u?(h=Math.ceil(this.max/u)-Math.floor(this.min/u)+1,h>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${u} would result generating up to ${h} ticks. Limiting to 1000.`),h=1e3)):(h=this.computeTickLimit(),a=a||11),a&&(h=Math.min(a,h)),h}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,a=s.ticks;let u=this.getTickLimit();u=Math.max(2,u);const h={maxTicks:u,bounds:s.bounds,min:s.min,max:s.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},m=this._range||this,v=jk(h,m);return s.bounds==="ticks"&&x0(v,this,"value"),s.reverse?(v.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),v}configure(){const s=this.ticks;let a=this.min,u=this.max;if(super.configure(),this.options.offset&&s.length){const h=(u-a)/Math.max(s.length-1,1)/2;a-=h,u+=h}this._startValue=a,this._endValue=u,this._valueRange=u-a}getLabelForValue(s){return ic(s,this.chart.options.locale,this.options.ticks.format)}}class dp extends vh{determineDataLimits(){const{min:s,max:a}=this.getMinMax(!0);this.min=On(s)?s:0,this.max=On(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),a=s?this.width:this.height,u=Ls(this.options.ticks.minRotation),h=(s?Math.sin(u):Math.cos(u))||.001,m=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,m.lineHeight/h))}getPixelForValue(s){return s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}}ae(dp,"id","linear"),ae(dp,"defaults",{ticks:{callback:_h.formatters.numeric}});const ec=l=>Math.floor(Co(l)),ur=(l,s)=>Math.pow(10,ec(l)+s);function kg(l){return l/Math.pow(10,ec(l))===1}function Sg(l,s,a){const u=Math.pow(10,a),h=Math.floor(l/u);return Math.ceil(s/u)-h}function Uk(l,s){const a=s-l;let u=ec(a);for(;Sg(l,s,u)>10;)u++;for(;Sg(l,s,u)<10;)u--;return Math.min(u,ec(l))}function qk(l,{min:s,max:a}){s=is(l.min,s);const u=[],h=ec(s);let m=Uk(s,a),v=m<0?Math.pow(10,Math.abs(m)):1;const w=Math.pow(10,m),S=h>m?Math.pow(10,h):0,D=Math.round((s-S)*v)/v,A=Math.floor((s-S)/w/10)*w*10;let O=Math.floor((D-A)/Math.pow(10,m)),N=is(l.min,Math.round((S+A+O*Math.pow(10,m))*v)/v);for(;N<a;)u.push({value:N,major:kg(N),significand:O}),O>=10?O=O<15?15:20:O++,O>=20&&(m++,O=2,v=m>=0?1:v),N=Math.round((S+A+O*Math.pow(10,m))*v)/v;const V=is(l.max,N);return u.push({value:V,major:kg(V),significand:O}),u}class hp extends br{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,a){const u=vh.prototype.parse.apply(this,[s,a]);if(u===0){this._zero=!0;return}return On(u)&&u>0?u:null}determineDataLimits(){const{min:s,max:a}=this.getMinMax(!0);this.min=On(s)?Math.max(0,s):null,this.max=On(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!On(this._userMin)&&(this.min=s===ur(this.min,0)?ur(this.min,-1):ur(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:s,maxDefined:a}=this.getUserBounds();let u=this.min,h=this.max;const m=w=>u=s?u:w,v=w=>h=a?h:w;u===h&&(u<=0?(m(1),v(10)):(m(ur(u,-1)),v(ur(h,1)))),u<=0&&m(ur(h,-1)),h<=0&&v(ur(u,1)),this.min=u,this.max=h}buildTicks(){const s=this.options,a={min:this._userMin,max:this._userMax},u=qk(a,this);return s.bounds==="ticks"&&x0(u,this,"value"),s.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}getLabelForValue(s){return s===void 0?"0":ic(s,this.chart.options.locale,this.options.ticks.format)}configure(){const s=this.min;super.configure(),this._startValue=Co(s),this._valueRange=Co(this.max)-Co(s)}getPixelForValue(s){return(s===void 0||s===0)&&(s=this.min),s===null||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(Co(s)-this._startValue)/this._valueRange)}getValueForPixel(s){const a=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+a*this._valueRange)}}ae(hp,"id","logarithmic"),ae(hp,"defaults",{ticks:{callback:_h.formatters.logarithmic,major:{enabled:!0}}});function fp(l){const s=l.ticks;if(s.display&&l.display){const a=yi(s.backdropPadding);return At(s.font&&s.font.size,hn.font.size)+a.height}return 0}function Yk(l,s,a){return a=cn(a)?a:[a],{w:eC(l,s.string,a),h:a.length*s.lineHeight}}function Dg(l,s,a,u,h){return l===u||l===h?{start:s-a/2,end:s+a/2}:l<u||l>h?{start:s-a,end:s}:{start:s,end:s+a}}function Gk(l){const s={l:l.left+l._padding.left,r:l.right-l._padding.right,t:l.top+l._padding.top,b:l.bottom-l._padding.bottom},a=Object.assign({},s),u=[],h=[],m=l._pointLabels.length,v=l.options.pointLabels,w=v.centerPointLabels?fn/m:0;for(let S=0;S<m;S++){const D=v.setContext(l.getPointLabelContext(S));h[S]=D.padding;const A=l.getPointPosition(S,l.drawingArea+h[S],w),O=Un(D.font),N=Yk(l.ctx,O,l._pointLabels[S]);u[S]=N;const V=ss(l.getIndexAngle(S)+w),Y=Math.round(xp(V)),$=Dg(Y,A.x,N.w,0,180),te=Dg(Y,A.y,N.h,90,270);Kk(a,s,V,$,te)}l.setCenterPoint(s.l-a.l,a.r-s.r,s.t-a.t,a.b-s.b),l._pointLabelItems=Jk(l,u,h)}function Kk(l,s,a,u,h){const m=Math.abs(Math.sin(a)),v=Math.abs(Math.cos(a));let w=0,S=0;u.start<s.l?(w=(s.l-u.start)/m,l.l=Math.min(l.l,s.l-w)):u.end>s.r&&(w=(u.end-s.r)/m,l.r=Math.max(l.r,s.r+w)),h.start<s.t?(S=(s.t-h.start)/v,l.t=Math.min(l.t,s.t-S)):h.end>s.b&&(S=(h.end-s.b)/v,l.b=Math.max(l.b,s.b+S))}function Xk(l,s,a){const u=l.drawingArea,{extra:h,additionalAngle:m,padding:v,size:w}=a,S=l.getPointPosition(s,u+h+v,m),D=Math.round(xp(ss(S.angle+zn))),A=e4(S.y,w.h,D),O=Qk(D),N=$k(S.x,w.w,O);return{visible:!0,x:S.x,y:A,textAlign:O,left:N,top:A,right:N+w.w,bottom:A+w.h}}function Zk(l,s){if(!s)return!0;const{left:a,top:u,right:h,bottom:m}=l;return!(Ra({x:a,y:u},s)||Ra({x:a,y:m},s)||Ra({x:h,y:u},s)||Ra({x:h,y:m},s))}function Jk(l,s,a){const u=[],h=l._pointLabels.length,m=l.options,{centerPointLabels:v,display:w}=m.pointLabels,S={extra:fp(m)/2,additionalAngle:v?fn/h:0};let D;for(let A=0;A<h;A++){S.padding=a[A],S.size=s[A];const O=Xk(l,A,S);u.push(O),w==="auto"&&(O.visible=Zk(O,D),O.visible&&(D=O))}return u}function Qk(l){return l===0||l===180?"center":l<180?"left":"right"}function $k(l,s,a){return a==="right"?l-=s:a==="center"&&(l-=s/2),l}function e4(l,s,a){return a===90||a===270?l-=s/2:(a>270||a<90)&&(l-=s),l}function t4(l,s,a){const{left:u,top:h,right:m,bottom:v}=a,{backdropColor:w}=s;if(!Ft(w)){const S=pr(s.borderRadius),D=yi(s.backdropPadding);l.fillStyle=w;const A=u-D.left,O=h-D.top,N=m-u+D.width,V=v-h+D.height;Object.values(S).some(Y=>Y!==0)?(l.beginPath(),Qu(l,{x:A,y:O,w:N,h:V,radius:S}),l.fill()):l.fillRect(A,O,N,V)}}function n4(l,s){const{ctx:a,options:{pointLabels:u}}=l;for(let h=s-1;h>=0;h--){const m=l._pointLabelItems[h];if(!m.visible)continue;const v=u.setContext(l.getPointLabelContext(h));t4(a,v,m);const w=Un(v.font),{x:S,y:D,textAlign:A}=m;vr(a,l._pointLabels[h],S,D+w.lineHeight/2,w,{color:v.color,textAlign:A,textBaseline:"middle"})}}function mv(l,s,a,u){const{ctx:h}=l;if(a)h.arc(l.xCenter,l.yCenter,s,0,dn);else{let m=l.getPointPosition(0,s);h.moveTo(m.x,m.y);for(let v=1;v<u;v++)m=l.getPointPosition(v,s),h.lineTo(m.x,m.y)}}function i4(l,s,a,u,h){const m=l.ctx,v=s.circular,{color:w,lineWidth:S}=s;!v&&!u||!w||!S||a<0||(m.save(),m.strokeStyle=w,m.lineWidth=S,m.setLineDash(h.dash||[]),m.lineDashOffset=h.dashOffset,m.beginPath(),mv(l,a,v,u),m.closePath(),m.stroke(),m.restore())}function s4(l,s,a){return To(l,{label:a,index:s,type:"pointLabel"})}class zu extends vh{constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const s=this._padding=yi(fp(this.options)/2),a=this.width=this.maxWidth-s.width,u=this.height=this.maxHeight-s.height;this.xCenter=Math.floor(this.left+a/2+s.left),this.yCenter=Math.floor(this.top+u/2+s.top),this.drawingArea=Math.floor(Math.min(a,u)/2)}determineDataLimits(){const{min:s,max:a}=this.getMinMax(!1);this.min=On(s)&&!isNaN(s)?s:0,this.max=On(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/fp(this.options))}generateTickLabels(s){vh.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((a,u)=>{const h=Jt(this.options.pointLabels.callback,[a,u],this);return h||h===0?h:""}).filter((a,u)=>this.chart.getDataVisibility(u))}fit(){const s=this.options;s.display&&s.pointLabels.display?Gk(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(s,a,u,h){this.xCenter+=Math.floor((s-a)/2),this.yCenter+=Math.floor((u-h)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(s,a,u,h))}getIndexAngle(s){const a=dn/(this._pointLabels.length||1),u=this.options.startAngle||0;return ss(s*a+Ls(u))}getDistanceFromCenterForValue(s){if(Ft(s))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*a:(s-this.min)*a}getValueForDistanceFromCenter(s){if(Ft(s))return NaN;const a=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(s){const a=this._pointLabels||[];if(s>=0&&s<a.length){const u=a[s];return s4(this.getContext(),s,u)}}getPointPosition(s,a,u=0){const h=this.getIndexAngle(s)-zn+u;return{x:Math.cos(h)*a+this.xCenter,y:Math.sin(h)*a+this.yCenter,angle:h}}getPointPositionForValue(s,a){return this.getPointPosition(s,this.getDistanceFromCenterForValue(a))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){const{left:a,top:u,right:h,bottom:m}=this._pointLabelItems[s];return{left:a,top:u,right:h,bottom:m}}drawBackground(){const{backgroundColor:s,grid:{circular:a}}=this.options;if(s){const u=this.ctx;u.save(),u.beginPath(),mv(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),u.closePath(),u.fillStyle=s,u.fill(),u.restore()}}drawGrid(){const s=this.ctx,a=this.options,{angleLines:u,grid:h,border:m}=a,v=this._pointLabels.length;let w,S,D;if(a.pointLabels.display&&n4(this,v),h.display&&this.ticks.forEach((A,O)=>{if(O!==0||O===0&&this.min<0){S=this.getDistanceFromCenterForValue(A.value);const N=this.getContext(O),V=h.setContext(N),Y=m.setContext(N);i4(this,V,S,v,Y)}}),u.display){for(s.save(),w=v-1;w>=0;w--){const A=u.setContext(this.getPointLabelContext(w)),{color:O,lineWidth:N}=A;!N||!O||(s.lineWidth=N,s.strokeStyle=O,s.setLineDash(A.borderDash),s.lineDashOffset=A.borderDashOffset,S=this.getDistanceFromCenterForValue(a.reverse?this.min:this.max),D=this.getPointPosition(w,S),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(D.x,D.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){const s=this.ctx,a=this.options,u=a.ticks;if(!u.display)return;const h=this.getIndexAngle(0);let m,v;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(h),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((w,S)=>{if(S===0&&this.min>=0&&!a.reverse)return;const D=u.setContext(this.getContext(S)),A=Un(D.font);if(m=this.getDistanceFromCenterForValue(this.ticks[S].value),D.showLabelBackdrop){s.font=A.string,v=s.measureText(w.label).width,s.fillStyle=D.backdropColor;const O=yi(D.backdropPadding);s.fillRect(-v/2-O.left,-m-A.size/2-O.top,v+O.width,A.size+O.height)}vr(s,w.label,0,-m,A,{color:D.color,strokeColor:D.textStrokeColor,strokeWidth:D.textStrokeWidth})}),s.restore()}drawTitle(){}}ae(zu,"id","radialLinear"),ae(zu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_h.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(s){return s},padding:5,centerPointLabels:!1}}),ae(zu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ae(zu,"descriptors",{angleLines:{_fallback:"grid"}});const Sh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Yi=Object.keys(Sh);function Tg(l,s){return l-s}function Eg(l,s){if(Ft(s))return null;const a=l._adapter,{parser:u,round:h,isoWeekday:m}=l._parseOpts;let v=s;return typeof u=="function"&&(v=u(v)),On(v)||(v=typeof u=="string"?a.parse(v,u):a.parse(v)),v===null?null:(h&&(v=h==="week"&&(sl(m)||m===!0)?a.startOf(v,"isoWeek",m):a.startOf(v,h)),+v)}function Ag(l,s,a,u){const h=Yi.length;for(let m=Yi.indexOf(l);m<h-1;++m){const v=Sh[Yi[m]],w=v.steps?v.steps:Number.MAX_SAFE_INTEGER;if(v.common&&Math.ceil((a-s)/(w*v.size))<=u)return Yi[m]}return Yi[h-1]}function a4(l,s,a,u,h){for(let m=Yi.length-1;m>=Yi.indexOf(a);m--){const v=Yi[m];if(Sh[v].common&&l._adapter.diff(h,u,v)>=s-1)return v}return Yi[a?Yi.indexOf(a):0]}function o4(l){for(let s=Yi.indexOf(l)+1,a=Yi.length;s<a;++s)if(Sh[Yi[s]].common)return Yi[s]}function Fg(l,s,a){if(!a)l[s]=!0;else if(a.length){const{lo:u,hi:h}=kp(a,s),m=a[u]>=s?a[u]:a[h];l[m]=!0}}function r4(l,s,a,u){const h=l._adapter,m=+h.startOf(s[0].value,u),v=s[s.length-1].value;let w,S;for(w=m;w<=v;w=+h.add(w,1,u))S=a[w],S>=0&&(s[S].major=!0);return s}function Ig(l,s,a){const u=[],h={},m=s.length;let v,w;for(v=0;v<m;++v)w=s[v],h[w]=v,u.push({value:w,major:!1});return m===0||!a?u:r4(l,u,h,a)}class tc extends br{constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,a={}){const u=s.time||(s.time={}),h=this._adapter=new X0._date(s.adapters.date);h.init(a),Hu(u.displayFormats,h.formats()),this._parseOpts={parser:u.parser,round:u.round,isoWeekday:u.isoWeekday},super.init(s),this._normalized=a.normalized}parse(s,a){return s===void 0?null:Eg(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,a=this._adapter,u=s.time.unit||"day";let{min:h,max:m,minDefined:v,maxDefined:w}=this.getUserBounds();function S(D){!v&&!isNaN(D.min)&&(h=Math.min(h,D.min)),!w&&!isNaN(D.max)&&(m=Math.max(m,D.max))}(!v||!w)&&(S(this._getLabelBounds()),(s.bounds!=="ticks"||s.ticks.source!=="labels")&&S(this.getMinMax(!1))),h=On(h)&&!isNaN(h)?h:+a.startOf(Date.now(),u),m=On(m)&&!isNaN(m)?m:+a.endOf(Date.now(),u)+1,this.min=Math.min(h,m-1),this.max=Math.max(h+1,m)}_getLabelBounds(){const s=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;return s.length&&(a=s[0],u=s[s.length-1]),{min:a,max:u}}buildTicks(){const s=this.options,a=s.time,u=s.ticks,h=u.source==="labels"?this.getLabelTimestamps():this._generate();s.bounds==="ticks"&&h.length&&(this.min=this._userMin||h[0],this.max=this._userMax||h[h.length-1]);const m=this.min,v=this.max,w=M1(h,m,v);return this._unit=a.unit||(u.autoSkip?Ag(a.minUnit,this.min,this.max,this._getLabelCapacity(m)):a4(this,w.length,a.minUnit,this.min,this.max)),this._majorUnit=!u.major.enabled||this._unit==="year"?void 0:o4(this._unit),this.initOffsets(h),s.reverse&&w.reverse(),Ig(this,w,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let a=0,u=0,h,m;this.options.offset&&s.length&&(h=this.getDecimalForValue(s[0]),s.length===1?a=1-h:a=(this.getDecimalForValue(s[1])-h)/2,m=this.getDecimalForValue(s[s.length-1]),s.length===1?u=m:u=(m-this.getDecimalForValue(s[s.length-2]))/2);const v=s.length<3?.5:.25;a=ai(a,0,v),u=ai(u,0,v),this._offsets={start:a,end:u,factor:1/(a+1+u)}}_generate(){const s=this._adapter,a=this.min,u=this.max,h=this.options,m=h.time,v=m.unit||Ag(m.minUnit,a,u,this._getLabelCapacity(a)),w=At(h.ticks.stepSize,1),S=v==="week"?m.isoWeekday:!1,D=sl(S)||S===!0,A={};let O=a,N,V;if(D&&(O=+s.startOf(O,"isoWeek",S)),O=+s.startOf(O,D?"day":v),s.diff(u,a,v)>1e5*w)throw new Error(a+" and "+u+" are too far apart with stepSize of "+w+" "+v);const Y=h.ticks.source==="data"&&this.getDataTimestamps();for(N=O,V=0;N<u;N=+s.add(N,w,v),V++)Fg(A,N,Y);return(N===u||h.bounds==="ticks"||V===1)&&Fg(A,N,Y),Object.keys(A).sort(Tg).map($=>+$)}getLabelForValue(s){const a=this._adapter,u=this.options.time;return u.tooltipFormat?a.format(s,u.tooltipFormat):a.format(s,u.displayFormats.datetime)}format(s,a){const h=this.options.time.displayFormats,m=this._unit,v=a||h[m];return this._adapter.format(s,v)}_tickFormatFunction(s,a,u,h){const m=this.options,v=m.ticks.callback;if(v)return Jt(v,[s,a,u],this);const w=m.time.displayFormats,S=this._unit,D=this._majorUnit,A=S&&w[S],O=D&&w[D],N=u[a],V=D&&O&&N&&N.major;return this._adapter.format(s,h||(V?O:A))}generateTickLabels(s){let a,u,h;for(a=0,u=s.length;a<u;++a)h=s[a],h.label=this._tickFormatFunction(h.value,a,s)}getDecimalForValue(s){return s===null?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const a=this._offsets,u=this.getDecimalForValue(s);return this.getPixelForDecimal((a.start+u)*a.factor)}getValueForPixel(s){const a=this._offsets,u=this.getDecimalForPixel(s)/a.factor-a.end;return this.min+u*(this.max-this.min)}_getLabelSize(s){const a=this.options.ticks,u=this.ctx.measureText(s).width,h=Ls(this.isHorizontal()?a.maxRotation:a.minRotation),m=Math.cos(h),v=Math.sin(h),w=this._resolveTickFontOptions(0).size;return{w:u*m+w*v,h:u*v+w*m}}_getLabelCapacity(s){const a=this.options.time,u=a.displayFormats,h=u[a.unit]||u.millisecond,m=this._tickFormatFunction(s,0,Ig(this,[s],this._majorUnit),h),v=this._getLabelSize(m),w=Math.floor(this.isHorizontal()?this.width/v.w:this.height/v.h)-1;return w>0?w:1}getDataTimestamps(){let s=this._cache.data||[],a,u;if(s.length)return s;const h=this.getMatchingVisibleMetas();if(this._normalized&&h.length)return this._cache.data=h[0].controller.getAllParsedValues(this);for(a=0,u=h.length;a<u;++a)s=s.concat(h[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let a,u;if(s.length)return s;const h=this.getLabels();for(a=0,u=h.length;a<u;++a)s.push(Eg(this,h[a]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return D0(s.sort(Tg))}}ae(tc,"id","time"),ae(tc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Xd(l,s,a){let u=0,h=l.length-1,m,v,w,S;a?(s>=l[u].pos&&s<=l[h].pos&&({lo:u,hi:h}=Na(l,"pos",s)),{pos:m,time:w}=l[u],{pos:v,time:S}=l[h]):(s>=l[u].time&&s<=l[h].time&&({lo:u,hi:h}=Na(l,"time",s)),{time:m,pos:w}=l[u],{time:v,pos:S}=l[h]);const D=v-m;return D?w+(S-w)*(s-m)/D:w}class pp extends tc{constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(s);this._minPos=Xd(a,this.min),this._tableRange=Xd(a,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:a,max:u}=this,h=[],m=[];let v,w,S,D,A;for(v=0,w=s.length;v<w;++v)D=s[v],D>=a&&D<=u&&h.push(D);if(h.length<2)return[{time:a,pos:0},{time:u,pos:1}];for(v=0,w=h.length;v<w;++v)A=h[v+1],S=h[v-1],D=h[v],Math.round((A+S)/2)!==D&&m.push({time:D,pos:v/(w-1)});return m}_generate(){const s=this.min,a=this.max;let u=super.getDataTimestamps();return(!u.includes(s)||!u.length)&&u.splice(0,0,s),(!u.includes(a)||u.length===1)&&u.push(a),u.sort((h,m)=>h-m)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const a=this.getDataTimestamps(),u=this.getLabelTimestamps();return a.length&&u.length?s=this.normalize(a.concat(u)):s=a.length?a:u,s=this._cache.all=s,s}getDecimalForValue(s){return(Xd(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const a=this._offsets,u=this.getDecimalForPixel(s)/a.factor-a.end;return Xd(this._table,u*this._tableRange+this._minPos,!0)}}ae(pp,"id","timeseries"),ae(pp,"defaults",tc.defaults);var l4=Object.freeze({__proto__:null,CategoryScale:cp,LinearScale:dp,LogarithmicScale:hp,RadialLinearScale:zu,TimeScale:tc,TimeSeriesScale:pp});const u4=[gw,Ux,Hk,l4],gv=6048e5,c4=864e5,sc=6e4,ac=36e5,d4=1e3,Lg=Symbol.for("constructDateFrom");function Pn(l,s){return typeof l=="function"?l(s):l&&typeof l=="object"&&Lg in l?l[Lg](s):l instanceof Date?new l.constructor(s):new Date(s)}function Tt(l,s){return Pn(s||l,l)}function Dh(l,s,a){const u=Tt(l,a==null?void 0:a.in);return isNaN(s)?Pn((a==null?void 0:a.in)||l,NaN):(s&&u.setDate(u.getDate()+s),u)}function Np(l,s,a){const u=Tt(l,a==null?void 0:a.in);if(isNaN(s))return Pn(l,NaN);if(!s)return u;const h=u.getDate(),m=Pn(l,u.getTime());m.setMonth(u.getMonth()+s+1,0);const v=m.getDate();return h>=v?m:(u.setFullYear(m.getFullYear(),m.getMonth(),h),u)}function Rp(l,s,a){return Pn(l,+Tt(l)+s)}function h4(l,s,a){return Rp(l,s*ac)}let f4={};function yr(){return f4}function ua(l,s){var w,S,D,A;const a=yr(),u=(s==null?void 0:s.weekStartsOn)??((S=(w=s==null?void 0:s.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??a.weekStartsOn??((A=(D=a.locale)==null?void 0:D.options)==null?void 0:A.weekStartsOn)??0,h=Tt(l,s==null?void 0:s.in),m=h.getDay(),v=(m<u?7:0)+m-u;return h.setDate(h.getDate()-v),h.setHours(0,0,0,0),h}function rl(l,s){return ua(l,{...s,weekStartsOn:1})}function vv(l,s){const a=Tt(l,s==null?void 0:s.in),u=a.getFullYear(),h=Pn(a,0);h.setFullYear(u+1,0,4),h.setHours(0,0,0,0);const m=rl(h),v=Pn(a,0);v.setFullYear(u,0,4),v.setHours(0,0,0,0);const w=rl(v);return a.getTime()>=m.getTime()?u+1:a.getTime()>=w.getTime()?u:u-1}function bh(l){const s=Tt(l),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+l-+a}function _r(l,...s){const a=Pn.bind(null,s.find(u=>typeof u=="object"));return s.map(a)}function mp(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setHours(0,0,0,0),a}function bv(l,s,a){const[u,h]=_r(a==null?void 0:a.in,l,s),m=mp(u),v=mp(h),w=+m-bh(m),S=+v-bh(v);return Math.round((w-S)/c4)}function p4(l,s){const a=vv(l,s),u=Pn(l,0);return u.setFullYear(a,0,4),u.setHours(0,0,0,0),rl(u)}function m4(l,s,a){const u=Tt(l,a==null?void 0:a.in);return u.setTime(u.getTime()+s*sc),u}function g4(l,s,a){return Np(l,s*3,a)}function v4(l,s,a){return Rp(l,s*1e3)}function b4(l,s,a){return Dh(l,s*7,a)}function y4(l,s,a){return Np(l,s*12,a)}function Yu(l,s){const a=+Tt(l)-+Tt(s);return a<0?-1:a>0?1:a}function _4(l){return l instanceof Date||typeof l=="object"&&Object.prototype.toString.call(l)==="[object Date]"}function yv(l){return!(!_4(l)&&typeof l!="number"||isNaN(+Tt(l)))}function C4(l,s,a){const[u,h]=_r(a==null?void 0:a.in,l,s),m=u.getFullYear()-h.getFullYear(),v=u.getMonth()-h.getMonth();return m*12+v}function w4(l,s,a){const[u,h]=_r(a==null?void 0:a.in,l,s);return u.getFullYear()-h.getFullYear()}function _v(l,s,a){const[u,h]=_r(a==null?void 0:a.in,l,s),m=Og(u,h),v=Math.abs(bv(u,h));u.setDate(u.getDate()-m*v);const w=+(Og(u,h)===-m),S=m*(v-w);return S===0?0:S}function Og(l,s){const a=l.getFullYear()-s.getFullYear()||l.getMonth()-s.getMonth()||l.getDate()-s.getDate()||l.getHours()-s.getHours()||l.getMinutes()-s.getMinutes()||l.getSeconds()-s.getSeconds()||l.getMilliseconds()-s.getMilliseconds();return a<0?-1:a>0?1:a}function oc(l){return s=>{const u=(l?Math[l]:Math.trunc)(s);return u===0?0:u}}function x4(l,s,a){const[u,h]=_r(a==null?void 0:a.in,l,s),m=(+u-+h)/ac;return oc(a==null?void 0:a.roundingMethod)(m)}function zp(l,s){return+Tt(l)-+Tt(s)}function k4(l,s,a){const u=zp(l,s)/sc;return oc(a==null?void 0:a.roundingMethod)(u)}function Cv(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setHours(23,59,59,999),a}function wv(l,s){const a=Tt(l,s==null?void 0:s.in),u=a.getMonth();return a.setFullYear(a.getFullYear(),u+1,0),a.setHours(23,59,59,999),a}function S4(l,s){const a=Tt(l,s==null?void 0:s.in);return+Cv(a,s)==+wv(a,s)}function xv(l,s,a){const[u,h,m]=_r(a==null?void 0:a.in,l,l,s),v=Yu(h,m),w=Math.abs(C4(h,m));if(w<1)return 0;h.getMonth()===1&&h.getDate()>27&&h.setDate(30),h.setMonth(h.getMonth()-v*w);let S=Yu(h,m)===-v;S4(u)&&w===1&&Yu(u,m)===1&&(S=!1);const D=v*(w-+S);return D===0?0:D}function D4(l,s,a){const u=xv(l,s,a)/3;return oc(a==null?void 0:a.roundingMethod)(u)}function T4(l,s,a){const u=zp(l,s)/1e3;return oc(a==null?void 0:a.roundingMethod)(u)}function E4(l,s,a){const u=_v(l,s,a)/7;return oc(a==null?void 0:a.roundingMethod)(u)}function A4(l,s,a){const[u,h]=_r(a==null?void 0:a.in,l,s),m=Yu(u,h),v=Math.abs(w4(u,h));u.setFullYear(1584),h.setFullYear(1584);const w=Yu(u,h)===-m,S=m*(v-+w);return S===0?0:S}function F4(l,s){const a=Tt(l,s==null?void 0:s.in),u=a.getMonth(),h=u-u%3;return a.setMonth(h,1),a.setHours(0,0,0,0),a}function I4(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setDate(1),a.setHours(0,0,0,0),a}function L4(l,s){const a=Tt(l,s==null?void 0:s.in),u=a.getFullYear();return a.setFullYear(u+1,0,0),a.setHours(23,59,59,999),a}function kv(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function O4(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setMinutes(59,59,999),a}function P4(l,s){var w,S;const a=yr(),u=a.weekStartsOn??((S=(w=a.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??0,h=Tt(l,s==null?void 0:s.in),m=h.getDay(),v=(m<u?-7:0)+6-(m-u);return h.setDate(h.getDate()+v),h.setHours(23,59,59,999),h}function B4(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setSeconds(59,999),a}function N4(l,s){const a=Tt(l,s==null?void 0:s.in),u=a.getMonth(),h=u-u%3+3;return a.setMonth(h,0),a.setHours(23,59,59,999),a}function R4(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setMilliseconds(999),a}const z4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H4=(l,s,a)=>{let u;const h=z4[l];return typeof h=="string"?u=h:s===1?u=h.one:u=h.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+u:u+" ago":u};function Yf(l){return(s={})=>{const a=s.width?String(s.width):l.defaultWidth;return l.formats[a]||l.formats[l.defaultWidth]}}const V4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},M4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j4={date:Yf({formats:V4,defaultWidth:"full"}),time:Yf({formats:M4,defaultWidth:"full"}),dateTime:Yf({formats:W4,defaultWidth:"full"})},U4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q4=(l,s,a,u)=>U4[l];function Fu(l){return(s,a)=>{const u=a!=null&&a.context?String(a.context):"standalone";let h;if(u==="formatting"&&l.formattingValues){const v=l.defaultFormattingWidth||l.defaultWidth,w=a!=null&&a.width?String(a.width):v;h=l.formattingValues[w]||l.formattingValues[v]}else{const v=l.defaultWidth,w=a!=null&&a.width?String(a.width):l.defaultWidth;h=l.values[w]||l.values[v]}const m=l.argumentCallback?l.argumentCallback(s):s;return h[m]}}const Y4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},K4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Z4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},J4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q4=(l,s)=>{const a=Number(l),u=a%100;if(u>20||u<10)switch(u%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},$4={ordinalNumber:Q4,era:Fu({values:Y4,defaultWidth:"wide"}),quarter:Fu({values:G4,defaultWidth:"wide",argumentCallback:l=>l-1}),month:Fu({values:K4,defaultWidth:"wide"}),day:Fu({values:X4,defaultWidth:"wide"}),dayPeriod:Fu({values:Z4,defaultWidth:"wide",formattingValues:J4,defaultFormattingWidth:"wide"})};function Iu(l){return(s,a={})=>{const u=a.width,h=u&&l.matchPatterns[u]||l.matchPatterns[l.defaultMatchWidth],m=s.match(h);if(!m)return null;const v=m[0],w=u&&l.parsePatterns[u]||l.parsePatterns[l.defaultParseWidth],S=Array.isArray(w)?tS(w,O=>O.test(v)):eS(w,O=>O.test(v));let D;D=l.valueCallback?l.valueCallback(S):S,D=a.valueCallback?a.valueCallback(D):D;const A=s.slice(v.length);return{value:D,rest:A}}}function eS(l,s){for(const a in l)if(Object.prototype.hasOwnProperty.call(l,a)&&s(l[a]))return a}function tS(l,s){for(let a=0;a<l.length;a++)if(s(l[a]))return a}function nS(l){return(s,a={})=>{const u=s.match(l.matchPattern);if(!u)return null;const h=u[0],m=s.match(l.parsePattern);if(!m)return null;let v=l.valueCallback?l.valueCallback(m[0]):m[0];v=a.valueCallback?a.valueCallback(v):v;const w=s.slice(h.length);return{value:v,rest:w}}}const iS=/^(\d+)(th|st|nd|rd)?/i,sS=/\d+/i,aS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oS={any:[/^b/i,/^(a|c)/i]},rS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lS={any:[/1/i,/2/i,/3/i,/4/i]},uS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mS={ordinalNumber:nS({matchPattern:iS,parsePattern:sS,valueCallback:l=>parseInt(l,10)}),era:Iu({matchPatterns:aS,defaultMatchWidth:"wide",parsePatterns:oS,defaultParseWidth:"any"}),quarter:Iu({matchPatterns:rS,defaultMatchWidth:"wide",parsePatterns:lS,defaultParseWidth:"any",valueCallback:l=>l+1}),month:Iu({matchPatterns:uS,defaultMatchWidth:"wide",parsePatterns:cS,defaultParseWidth:"any"}),day:Iu({matchPatterns:dS,defaultMatchWidth:"wide",parsePatterns:hS,defaultParseWidth:"any"}),dayPeriod:Iu({matchPatterns:fS,defaultMatchWidth:"any",parsePatterns:pS,defaultParseWidth:"any"})},Sv={code:"en-US",formatDistance:H4,formatLong:j4,formatRelative:q4,localize:$4,match:mS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gS(l,s){const a=Tt(l,s==null?void 0:s.in);return bv(a,kv(a))+1}function Dv(l,s){const a=Tt(l,s==null?void 0:s.in),u=+rl(a)-+p4(a);return Math.round(u/gv)+1}function Hp(l,s){var A,O,N,V;const a=Tt(l,s==null?void 0:s.in),u=a.getFullYear(),h=yr(),m=(s==null?void 0:s.firstWeekContainsDate)??((O=(A=s==null?void 0:s.locale)==null?void 0:A.options)==null?void 0:O.firstWeekContainsDate)??h.firstWeekContainsDate??((V=(N=h.locale)==null?void 0:N.options)==null?void 0:V.firstWeekContainsDate)??1,v=Pn((s==null?void 0:s.in)||l,0);v.setFullYear(u+1,0,m),v.setHours(0,0,0,0);const w=ua(v,s),S=Pn((s==null?void 0:s.in)||l,0);S.setFullYear(u,0,m),S.setHours(0,0,0,0);const D=ua(S,s);return+a>=+w?u+1:+a>=+D?u:u-1}function vS(l,s){var w,S,D,A;const a=yr(),u=(s==null?void 0:s.firstWeekContainsDate)??((S=(w=s==null?void 0:s.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??a.firstWeekContainsDate??((A=(D=a.locale)==null?void 0:D.options)==null?void 0:A.firstWeekContainsDate)??1,h=Hp(l,s),m=Pn((s==null?void 0:s.in)||l,0);return m.setFullYear(h,0,u),m.setHours(0,0,0,0),ua(m,s)}function Tv(l,s){const a=Tt(l,s==null?void 0:s.in),u=+ua(a,s)-+vS(a,s);return Math.round(u/gv)+1}function Zt(l,s){const a=l<0?"-":"",u=Math.abs(l).toString().padStart(s,"0");return a+u}const yo={y(l,s){const a=l.getFullYear(),u=a>0?a:1-a;return Zt(s==="yy"?u%100:u,s.length)},M(l,s){const a=l.getMonth();return s==="M"?String(a+1):Zt(a+1,2)},d(l,s){return Zt(l.getDate(),s.length)},a(l,s){const a=l.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(l,s){return Zt(l.getHours()%12||12,s.length)},H(l,s){return Zt(l.getHours(),s.length)},m(l,s){return Zt(l.getMinutes(),s.length)},s(l,s){return Zt(l.getSeconds(),s.length)},S(l,s){const a=s.length,u=l.getMilliseconds(),h=Math.trunc(u*Math.pow(10,a-3));return Zt(h,s.length)}},tl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pg={G:function(l,s,a){const u=l.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(u,{width:"abbreviated"});case"GGGGG":return a.era(u,{width:"narrow"});case"GGGG":default:return a.era(u,{width:"wide"})}},y:function(l,s,a){if(s==="yo"){const u=l.getFullYear(),h=u>0?u:1-u;return a.ordinalNumber(h,{unit:"year"})}return yo.y(l,s)},Y:function(l,s,a,u){const h=Hp(l,u),m=h>0?h:1-h;if(s==="YY"){const v=m%100;return Zt(v,2)}return s==="Yo"?a.ordinalNumber(m,{unit:"year"}):Zt(m,s.length)},R:function(l,s){const a=vv(l);return Zt(a,s.length)},u:function(l,s){const a=l.getFullYear();return Zt(a,s.length)},Q:function(l,s,a){const u=Math.ceil((l.getMonth()+1)/3);switch(s){case"Q":return String(u);case"QQ":return Zt(u,2);case"Qo":return a.ordinalNumber(u,{unit:"quarter"});case"QQQ":return a.quarter(u,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(u,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(u,{width:"wide",context:"formatting"})}},q:function(l,s,a){const u=Math.ceil((l.getMonth()+1)/3);switch(s){case"q":return String(u);case"qq":return Zt(u,2);case"qo":return a.ordinalNumber(u,{unit:"quarter"});case"qqq":return a.quarter(u,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(u,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(u,{width:"wide",context:"standalone"})}},M:function(l,s,a){const u=l.getMonth();switch(s){case"M":case"MM":return yo.M(l,s);case"Mo":return a.ordinalNumber(u+1,{unit:"month"});case"MMM":return a.month(u,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(u,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(u,{width:"wide",context:"formatting"})}},L:function(l,s,a){const u=l.getMonth();switch(s){case"L":return String(u+1);case"LL":return Zt(u+1,2);case"Lo":return a.ordinalNumber(u+1,{unit:"month"});case"LLL":return a.month(u,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(u,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(u,{width:"wide",context:"standalone"})}},w:function(l,s,a,u){const h=Tv(l,u);return s==="wo"?a.ordinalNumber(h,{unit:"week"}):Zt(h,s.length)},I:function(l,s,a){const u=Dv(l);return s==="Io"?a.ordinalNumber(u,{unit:"week"}):Zt(u,s.length)},d:function(l,s,a){return s==="do"?a.ordinalNumber(l.getDate(),{unit:"date"}):yo.d(l,s)},D:function(l,s,a){const u=gS(l);return s==="Do"?a.ordinalNumber(u,{unit:"dayOfYear"}):Zt(u,s.length)},E:function(l,s,a){const u=l.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(u,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(u,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(u,{width:"short",context:"formatting"});case"EEEE":default:return a.day(u,{width:"wide",context:"formatting"})}},e:function(l,s,a,u){const h=l.getDay(),m=(h-u.weekStartsOn+8)%7||7;switch(s){case"e":return String(m);case"ee":return Zt(m,2);case"eo":return a.ordinalNumber(m,{unit:"day"});case"eee":return a.day(h,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(h,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(h,{width:"short",context:"formatting"});case"eeee":default:return a.day(h,{width:"wide",context:"formatting"})}},c:function(l,s,a,u){const h=l.getDay(),m=(h-u.weekStartsOn+8)%7||7;switch(s){case"c":return String(m);case"cc":return Zt(m,s.length);case"co":return a.ordinalNumber(m,{unit:"day"});case"ccc":return a.day(h,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(h,{width:"narrow",context:"standalone"});case"cccccc":return a.day(h,{width:"short",context:"standalone"});case"cccc":default:return a.day(h,{width:"wide",context:"standalone"})}},i:function(l,s,a){const u=l.getDay(),h=u===0?7:u;switch(s){case"i":return String(h);case"ii":return Zt(h,s.length);case"io":return a.ordinalNumber(h,{unit:"day"});case"iii":return a.day(u,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(u,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(u,{width:"short",context:"formatting"});case"iiii":default:return a.day(u,{width:"wide",context:"formatting"})}},a:function(l,s,a){const h=l.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(h,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(h,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(h,{width:"wide",context:"formatting"})}},b:function(l,s,a){const u=l.getHours();let h;switch(u===12?h=tl.noon:u===0?h=tl.midnight:h=u/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(h,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(h,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(h,{width:"wide",context:"formatting"})}},B:function(l,s,a){const u=l.getHours();let h;switch(u>=17?h=tl.evening:u>=12?h=tl.afternoon:u>=4?h=tl.morning:h=tl.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(h,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(h,{width:"wide",context:"formatting"})}},h:function(l,s,a){if(s==="ho"){let u=l.getHours()%12;return u===0&&(u=12),a.ordinalNumber(u,{unit:"hour"})}return yo.h(l,s)},H:function(l,s,a){return s==="Ho"?a.ordinalNumber(l.getHours(),{unit:"hour"}):yo.H(l,s)},K:function(l,s,a){const u=l.getHours()%12;return s==="Ko"?a.ordinalNumber(u,{unit:"hour"}):Zt(u,s.length)},k:function(l,s,a){let u=l.getHours();return u===0&&(u=24),s==="ko"?a.ordinalNumber(u,{unit:"hour"}):Zt(u,s.length)},m:function(l,s,a){return s==="mo"?a.ordinalNumber(l.getMinutes(),{unit:"minute"}):yo.m(l,s)},s:function(l,s,a){return s==="so"?a.ordinalNumber(l.getSeconds(),{unit:"second"}):yo.s(l,s)},S:function(l,s){return yo.S(l,s)},X:function(l,s,a){const u=l.getTimezoneOffset();if(u===0)return"Z";switch(s){case"X":return Ng(u);case"XXXX":case"XX":return hr(u);case"XXXXX":case"XXX":default:return hr(u,":")}},x:function(l,s,a){const u=l.getTimezoneOffset();switch(s){case"x":return Ng(u);case"xxxx":case"xx":return hr(u);case"xxxxx":case"xxx":default:return hr(u,":")}},O:function(l,s,a){const u=l.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+Bg(u,":");case"OOOO":default:return"GMT"+hr(u,":")}},z:function(l,s,a){const u=l.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+Bg(u,":");case"zzzz":default:return"GMT"+hr(u,":")}},t:function(l,s,a){const u=Math.trunc(+l/1e3);return Zt(u,s.length)},T:function(l,s,a){return Zt(+l,s.length)}};function Bg(l,s=""){const a=l>0?"-":"+",u=Math.abs(l),h=Math.trunc(u/60),m=u%60;return m===0?a+String(h):a+String(h)+s+Zt(m,2)}function Ng(l,s){return l%60===0?(l>0?"-":"+")+Zt(Math.abs(l)/60,2):hr(l,s)}function hr(l,s=""){const a=l>0?"-":"+",u=Math.abs(l),h=Zt(Math.trunc(u/60),2),m=Zt(u%60,2);return a+h+s+m}const Rg=(l,s)=>{switch(l){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},Ev=(l,s)=>{switch(l){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},bS=(l,s)=>{const a=l.match(/(P+)(p+)?/)||[],u=a[1],h=a[2];if(!h)return Rg(l,s);let m;switch(u){case"P":m=s.dateTime({width:"short"});break;case"PP":m=s.dateTime({width:"medium"});break;case"PPP":m=s.dateTime({width:"long"});break;case"PPPP":default:m=s.dateTime({width:"full"});break}return m.replace("{{date}}",Rg(u,s)).replace("{{time}}",Ev(h,s))},gp={p:Ev,P:bS},yS=/^D+$/,_S=/^Y+$/,CS=["D","DD","YY","YYYY"];function Av(l){return yS.test(l)}function Fv(l){return _S.test(l)}function vp(l,s,a){const u=wS(l,s,a);if(console.warn(u),CS.includes(l))throw new RangeError(u)}function wS(l,s,a){const u=l[0]==="Y"?"years":"days of the month";return`Use \`${l.toLowerCase()}\` instead of \`${l}\` (in \`${s}\`) for formatting ${u} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SS=/^'([^]*?)'?$/,DS=/''/g,TS=/[a-zA-Z]/;function ES(l,s,a){var A,O,N,V,Y,$,te,X;const u=yr(),h=(a==null?void 0:a.locale)??u.locale??Sv,m=(a==null?void 0:a.firstWeekContainsDate)??((O=(A=a==null?void 0:a.locale)==null?void 0:A.options)==null?void 0:O.firstWeekContainsDate)??u.firstWeekContainsDate??((V=(N=u.locale)==null?void 0:N.options)==null?void 0:V.firstWeekContainsDate)??1,v=(a==null?void 0:a.weekStartsOn)??(($=(Y=a==null?void 0:a.locale)==null?void 0:Y.options)==null?void 0:$.weekStartsOn)??u.weekStartsOn??((X=(te=u.locale)==null?void 0:te.options)==null?void 0:X.weekStartsOn)??0,w=Tt(l,a==null?void 0:a.in);if(!yv(w))throw new RangeError("Invalid time value");let S=s.match(kS).map(K=>{const re=K[0];if(re==="p"||re==="P"){const ie=gp[re];return ie(K,h.formatLong)}return K}).join("").match(xS).map(K=>{if(K==="''")return{isToken:!1,value:"'"};const re=K[0];if(re==="'")return{isToken:!1,value:AS(K)};if(Pg[re])return{isToken:!0,value:K};if(re.match(TS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");return{isToken:!1,value:K}});h.localize.preprocessor&&(S=h.localize.preprocessor(w,S));const D={firstWeekContainsDate:m,weekStartsOn:v,locale:h};return S.map(K=>{if(!K.isToken)return K.value;const re=K.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&Fv(re)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&Av(re))&&vp(re,s,String(l));const ie=Pg[re[0]];return ie(w,re,h.localize,D)}).join("")}function AS(l){const s=l.match(SS);return s?s[1].replace(DS,"'"):l}function FS(){return Object.assign({},yr())}function IS(l,s){const a=Tt(l,s==null?void 0:s.in).getDay();return a===0?7:a}function LS(l,s){const a=OS(s)?new s(0):Pn(s,0);return a.setFullYear(l.getFullYear(),l.getMonth(),l.getDate()),a.setHours(l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()),a}function OS(l){var s;return typeof l=="function"&&((s=l.prototype)==null?void 0:s.constructor)===l}const PS=10;class Iv{constructor(){ae(this,"subPriority",0)}validate(s,a){return!0}}class BS extends Iv{constructor(s,a,u,h,m){super(),this.value=s,this.validateValue=a,this.setValue=u,this.priority=h,m&&(this.subPriority=m)}validate(s,a){return this.validateValue(s,this.value,a)}set(s,a,u){return this.setValue(s,a,this.value,u)}}class NS extends Iv{constructor(a,u){super();ae(this,"priority",PS);ae(this,"subPriority",-1);this.context=a||(h=>Pn(u,h))}set(a,u){return u.timestampIsSet?a:Pn(a,LS(a,this.context))}}class Ut{run(s,a,u,h){const m=this.parse(s,a,u,h);return m?{setter:new BS(m.value,this.validate,this.set,this.priority,this.subPriority),rest:m.rest}:null}validate(s,a,u){return!0}}class RS extends Ut{constructor(){super(...arguments);ae(this,"priority",140);ae(this,"incompatibleTokens",["R","u","t","T"])}parse(a,u,h){switch(u){case"G":case"GG":case"GGG":return h.era(a,{width:"abbreviated"})||h.era(a,{width:"narrow"});case"GGGGG":return h.era(a,{width:"narrow"});case"GGGG":default:return h.era(a,{width:"wide"})||h.era(a,{width:"abbreviated"})||h.era(a,{width:"narrow"})}}set(a,u,h){return u.era=h,a.setFullYear(h,0,1),a.setHours(0,0,0,0),a}}const Hn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},aa={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Vn(l,s){return l&&{value:s(l.value),rest:l.rest}}function Sn(l,s){const a=s.match(l);return a?{value:parseInt(a[0],10),rest:s.slice(a[0].length)}:null}function oa(l,s){const a=s.match(l);if(!a)return null;if(a[0]==="Z")return{value:0,rest:s.slice(1)};const u=a[1]==="+"?1:-1,h=a[2]?parseInt(a[2],10):0,m=a[3]?parseInt(a[3],10):0,v=a[5]?parseInt(a[5],10):0;return{value:u*(h*ac+m*sc+v*d4),rest:s.slice(a[0].length)}}function Lv(l){return Sn(Hn.anyDigitsSigned,l)}function Bn(l,s){switch(l){case 1:return Sn(Hn.singleDigit,s);case 2:return Sn(Hn.twoDigits,s);case 3:return Sn(Hn.threeDigits,s);case 4:return Sn(Hn.fourDigits,s);default:return Sn(new RegExp("^\\d{1,"+l+"}"),s)}}function yh(l,s){switch(l){case 1:return Sn(Hn.singleDigitSigned,s);case 2:return Sn(Hn.twoDigitsSigned,s);case 3:return Sn(Hn.threeDigitsSigned,s);case 4:return Sn(Hn.fourDigitsSigned,s);default:return Sn(new RegExp("^-?\\d{1,"+l+"}"),s)}}function Vp(l){switch(l){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ov(l,s){const a=s>0,u=a?s:1-s;let h;if(u<=50)h=l||100;else{const m=u+50,v=Math.trunc(m/100)*100,w=l>=m%100;h=l+v-(w?100:0)}return a?h:1-h}function Pv(l){return l%400===0||l%4===0&&l%100!==0}class zS extends Ut{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(a,u,h){const m=v=>({year:v,isTwoDigitYear:u==="yy"});switch(u){case"y":return Vn(Bn(4,a),m);case"yo":return Vn(h.ordinalNumber(a,{unit:"year"}),m);default:return Vn(Bn(u.length,a),m)}}validate(a,u){return u.isTwoDigitYear||u.year>0}set(a,u,h){const m=a.getFullYear();if(h.isTwoDigitYear){const w=Ov(h.year,m);return a.setFullYear(w,0,1),a.setHours(0,0,0,0),a}const v=!("era"in u)||u.era===1?h.year:1-h.year;return a.setFullYear(v,0,1),a.setHours(0,0,0,0),a}}class HS extends Ut{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(a,u,h){const m=v=>({year:v,isTwoDigitYear:u==="YY"});switch(u){case"Y":return Vn(Bn(4,a),m);case"Yo":return Vn(h.ordinalNumber(a,{unit:"year"}),m);default:return Vn(Bn(u.length,a),m)}}validate(a,u){return u.isTwoDigitYear||u.year>0}set(a,u,h,m){const v=Hp(a,m);if(h.isTwoDigitYear){const S=Ov(h.year,v);return a.setFullYear(S,0,m.firstWeekContainsDate),a.setHours(0,0,0,0),ua(a,m)}const w=!("era"in u)||u.era===1?h.year:1-h.year;return a.setFullYear(w,0,m.firstWeekContainsDate),a.setHours(0,0,0,0),ua(a,m)}}class VS extends Ut{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(a,u){return yh(u==="R"?4:u.length,a)}set(a,u,h){const m=Pn(a,0);return m.setFullYear(h,0,4),m.setHours(0,0,0,0),rl(m)}}class MS extends Ut{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(a,u){return yh(u==="u"?4:u.length,a)}set(a,u,h){return a.setFullYear(h,0,1),a.setHours(0,0,0,0),a}}class WS extends Ut{constructor(){super(...arguments);ae(this,"priority",120);ae(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(a,u,h){switch(u){case"Q":case"QQ":return Bn(u.length,a);case"Qo":return h.ordinalNumber(a,{unit:"quarter"});case"QQQ":return h.quarter(a,{width:"abbreviated",context:"formatting"})||h.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return h.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(a,{width:"wide",context:"formatting"})||h.quarter(a,{width:"abbreviated",context:"formatting"})||h.quarter(a,{width:"narrow",context:"formatting"})}}validate(a,u){return u>=1&&u<=4}set(a,u,h){return a.setMonth((h-1)*3,1),a.setHours(0,0,0,0),a}}class jS extends Ut{constructor(){super(...arguments);ae(this,"priority",120);ae(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(a,u,h){switch(u){case"q":case"qq":return Bn(u.length,a);case"qo":return h.ordinalNumber(a,{unit:"quarter"});case"qqq":return h.quarter(a,{width:"abbreviated",context:"standalone"})||h.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return h.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(a,{width:"wide",context:"standalone"})||h.quarter(a,{width:"abbreviated",context:"standalone"})||h.quarter(a,{width:"narrow",context:"standalone"})}}validate(a,u){return u>=1&&u<=4}set(a,u,h){return a.setMonth((h-1)*3,1),a.setHours(0,0,0,0),a}}class US extends Ut{constructor(){super(...arguments);ae(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ae(this,"priority",110)}parse(a,u,h){const m=v=>v-1;switch(u){case"M":return Vn(Sn(Hn.month,a),m);case"MM":return Vn(Bn(2,a),m);case"Mo":return Vn(h.ordinalNumber(a,{unit:"month"}),m);case"MMM":return h.month(a,{width:"abbreviated",context:"formatting"})||h.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return h.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(a,{width:"wide",context:"formatting"})||h.month(a,{width:"abbreviated",context:"formatting"})||h.month(a,{width:"narrow",context:"formatting"})}}validate(a,u){return u>=0&&u<=11}set(a,u,h){return a.setMonth(h,1),a.setHours(0,0,0,0),a}}class qS extends Ut{constructor(){super(...arguments);ae(this,"priority",110);ae(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(a,u,h){const m=v=>v-1;switch(u){case"L":return Vn(Sn(Hn.month,a),m);case"LL":return Vn(Bn(2,a),m);case"Lo":return Vn(h.ordinalNumber(a,{unit:"month"}),m);case"LLL":return h.month(a,{width:"abbreviated",context:"standalone"})||h.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return h.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(a,{width:"wide",context:"standalone"})||h.month(a,{width:"abbreviated",context:"standalone"})||h.month(a,{width:"narrow",context:"standalone"})}}validate(a,u){return u>=0&&u<=11}set(a,u,h){return a.setMonth(h,1),a.setHours(0,0,0,0),a}}function YS(l,s,a){const u=Tt(l,a==null?void 0:a.in),h=Tv(u,a)-s;return u.setDate(u.getDate()-h*7),Tt(u,a==null?void 0:a.in)}class GS extends Ut{constructor(){super(...arguments);ae(this,"priority",100);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(a,u,h){switch(u){case"w":return Sn(Hn.week,a);case"wo":return h.ordinalNumber(a,{unit:"week"});default:return Bn(u.length,a)}}validate(a,u){return u>=1&&u<=53}set(a,u,h,m){return ua(YS(a,h,m),m)}}function KS(l,s,a){const u=Tt(l,a==null?void 0:a.in),h=Dv(u,a)-s;return u.setDate(u.getDate()-h*7),u}class XS extends Ut{constructor(){super(...arguments);ae(this,"priority",100);ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(a,u,h){switch(u){case"I":return Sn(Hn.week,a);case"Io":return h.ordinalNumber(a,{unit:"week"});default:return Bn(u.length,a)}}validate(a,u){return u>=1&&u<=53}set(a,u,h){return rl(KS(a,h))}}const ZS=[31,28,31,30,31,30,31,31,30,31,30,31],JS=[31,29,31,30,31,30,31,31,30,31,30,31];class QS extends Ut{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"subPriority",1);ae(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(a,u,h){switch(u){case"d":return Sn(Hn.date,a);case"do":return h.ordinalNumber(a,{unit:"date"});default:return Bn(u.length,a)}}validate(a,u){const h=a.getFullYear(),m=Pv(h),v=a.getMonth();return m?u>=1&&u<=JS[v]:u>=1&&u<=ZS[v]}set(a,u,h){return a.setDate(h),a.setHours(0,0,0,0),a}}class $S extends Ut{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"subpriority",1);ae(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(a,u,h){switch(u){case"D":case"DD":return Sn(Hn.dayOfYear,a);case"Do":return h.ordinalNumber(a,{unit:"date"});default:return Bn(u.length,a)}}validate(a,u){const h=a.getFullYear();return Pv(h)?u>=1&&u<=366:u>=1&&u<=365}set(a,u,h){return a.setMonth(0,h),a.setHours(0,0,0,0),a}}function Mp(l,s,a){var O,N,V,Y;const u=yr(),h=(a==null?void 0:a.weekStartsOn)??((N=(O=a==null?void 0:a.locale)==null?void 0:O.options)==null?void 0:N.weekStartsOn)??u.weekStartsOn??((Y=(V=u.locale)==null?void 0:V.options)==null?void 0:Y.weekStartsOn)??0,m=Tt(l,a==null?void 0:a.in),v=m.getDay(),S=(s%7+7)%7,D=7-h,A=s<0||s>6?s-(v+D)%7:(S+D)%7-(v+D)%7;return Dh(m,A,a)}class eD extends Ut{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(a,u,h){switch(u){case"E":case"EE":case"EEE":return h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return h.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return h.day(a,{width:"wide",context:"formatting"})||h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"})}}validate(a,u){return u>=0&&u<=6}set(a,u,h,m){return a=Mp(a,h,m),a.setHours(0,0,0,0),a}}class tD extends Ut{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(a,u,h,m){const v=w=>{const S=Math.floor((w-1)/7)*7;return(w+m.weekStartsOn+6)%7+S};switch(u){case"e":case"ee":return Vn(Bn(u.length,a),v);case"eo":return Vn(h.ordinalNumber(a,{unit:"day"}),v);case"eee":return h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"});case"eeeee":return h.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return h.day(a,{width:"wide",context:"formatting"})||h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"})}}validate(a,u){return u>=0&&u<=6}set(a,u,h,m){return a=Mp(a,h,m),a.setHours(0,0,0,0),a}}class nD extends Ut{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(a,u,h,m){const v=w=>{const S=Math.floor((w-1)/7)*7;return(w+m.weekStartsOn+6)%7+S};switch(u){case"c":case"cc":return Vn(Bn(u.length,a),v);case"co":return Vn(h.ordinalNumber(a,{unit:"day"}),v);case"ccc":return h.day(a,{width:"abbreviated",context:"standalone"})||h.day(a,{width:"short",context:"standalone"})||h.day(a,{width:"narrow",context:"standalone"});case"ccccc":return h.day(a,{width:"narrow",context:"standalone"});case"cccccc":return h.day(a,{width:"short",context:"standalone"})||h.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return h.day(a,{width:"wide",context:"standalone"})||h.day(a,{width:"abbreviated",context:"standalone"})||h.day(a,{width:"short",context:"standalone"})||h.day(a,{width:"narrow",context:"standalone"})}}validate(a,u){return u>=0&&u<=6}set(a,u,h,m){return a=Mp(a,h,m),a.setHours(0,0,0,0),a}}function iD(l,s,a){const u=Tt(l,a==null?void 0:a.in),h=IS(u,a),m=s-h;return Dh(u,m,a)}class sD extends Ut{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(a,u,h){const m=v=>v===0?7:v;switch(u){case"i":case"ii":return Bn(u.length,a);case"io":return h.ordinalNumber(a,{unit:"day"});case"iii":return Vn(h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"}),m);case"iiiii":return Vn(h.day(a,{width:"narrow",context:"formatting"}),m);case"iiiiii":return Vn(h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"}),m);case"iiii":default:return Vn(h.day(a,{width:"wide",context:"formatting"})||h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"}),m)}}validate(a,u){return u>=1&&u<=7}set(a,u,h){return a=iD(a,h),a.setHours(0,0,0,0),a}}class aD extends Ut{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(a,u,h){switch(u){case"a":case"aa":case"aaa":return h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return h.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(a,{width:"wide",context:"formatting"})||h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,u,h){return a.setHours(Vp(h),0,0,0),a}}class oD extends Ut{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(a,u,h){switch(u){case"b":case"bb":case"bbb":return h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return h.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(a,{width:"wide",context:"formatting"})||h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,u,h){return a.setHours(Vp(h),0,0,0),a}}class rD extends Ut{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["a","b","t","T"])}parse(a,u,h){switch(u){case"B":case"BB":case"BBB":return h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return h.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(a,{width:"wide",context:"formatting"})||h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,u,h){return a.setHours(Vp(h),0,0,0),a}}class lD extends Ut{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["H","K","k","t","T"])}parse(a,u,h){switch(u){case"h":return Sn(Hn.hour12h,a);case"ho":return h.ordinalNumber(a,{unit:"hour"});default:return Bn(u.length,a)}}validate(a,u){return u>=1&&u<=12}set(a,u,h){const m=a.getHours()>=12;return m&&h<12?a.setHours(h+12,0,0,0):!m&&h===12?a.setHours(0,0,0,0):a.setHours(h,0,0,0),a}}class uD extends Ut{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(a,u,h){switch(u){case"H":return Sn(Hn.hour23h,a);case"Ho":return h.ordinalNumber(a,{unit:"hour"});default:return Bn(u.length,a)}}validate(a,u){return u>=0&&u<=23}set(a,u,h){return a.setHours(h,0,0,0),a}}class cD extends Ut{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["h","H","k","t","T"])}parse(a,u,h){switch(u){case"K":return Sn(Hn.hour11h,a);case"Ko":return h.ordinalNumber(a,{unit:"hour"});default:return Bn(u.length,a)}}validate(a,u){return u>=0&&u<=11}set(a,u,h){return a.getHours()>=12&&h<12?a.setHours(h+12,0,0,0):a.setHours(h,0,0,0),a}}class dD extends Ut{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(a,u,h){switch(u){case"k":return Sn(Hn.hour24h,a);case"ko":return h.ordinalNumber(a,{unit:"hour"});default:return Bn(u.length,a)}}validate(a,u){return u>=1&&u<=24}set(a,u,h){const m=h<=24?h%24:h;return a.setHours(m,0,0,0),a}}class hD extends Ut{constructor(){super(...arguments);ae(this,"priority",60);ae(this,"incompatibleTokens",["t","T"])}parse(a,u,h){switch(u){case"m":return Sn(Hn.minute,a);case"mo":return h.ordinalNumber(a,{unit:"minute"});default:return Bn(u.length,a)}}validate(a,u){return u>=0&&u<=59}set(a,u,h){return a.setMinutes(h,0,0),a}}class fD extends Ut{constructor(){super(...arguments);ae(this,"priority",50);ae(this,"incompatibleTokens",["t","T"])}parse(a,u,h){switch(u){case"s":return Sn(Hn.second,a);case"so":return h.ordinalNumber(a,{unit:"second"});default:return Bn(u.length,a)}}validate(a,u){return u>=0&&u<=59}set(a,u,h){return a.setSeconds(h,0),a}}class pD extends Ut{constructor(){super(...arguments);ae(this,"priority",30);ae(this,"incompatibleTokens",["t","T"])}parse(a,u){const h=m=>Math.trunc(m*Math.pow(10,-u.length+3));return Vn(Bn(u.length,a),h)}set(a,u,h){return a.setMilliseconds(h),a}}class mD extends Ut{constructor(){super(...arguments);ae(this,"priority",10);ae(this,"incompatibleTokens",["t","T","x"])}parse(a,u){switch(u){case"X":return oa(aa.basicOptionalMinutes,a);case"XX":return oa(aa.basic,a);case"XXXX":return oa(aa.basicOptionalSeconds,a);case"XXXXX":return oa(aa.extendedOptionalSeconds,a);case"XXX":default:return oa(aa.extended,a)}}set(a,u,h){return u.timestampIsSet?a:Pn(a,a.getTime()-bh(a)-h)}}class gD extends Ut{constructor(){super(...arguments);ae(this,"priority",10);ae(this,"incompatibleTokens",["t","T","X"])}parse(a,u){switch(u){case"x":return oa(aa.basicOptionalMinutes,a);case"xx":return oa(aa.basic,a);case"xxxx":return oa(aa.basicOptionalSeconds,a);case"xxxxx":return oa(aa.extendedOptionalSeconds,a);case"xxx":default:return oa(aa.extended,a)}}set(a,u,h){return u.timestampIsSet?a:Pn(a,a.getTime()-bh(a)-h)}}class vD extends Ut{constructor(){super(...arguments);ae(this,"priority",40);ae(this,"incompatibleTokens","*")}parse(a){return Lv(a)}set(a,u,h){return[Pn(a,h*1e3),{timestampIsSet:!0}]}}class bD extends Ut{constructor(){super(...arguments);ae(this,"priority",20);ae(this,"incompatibleTokens","*")}parse(a){return Lv(a)}set(a,u,h){return[Pn(a,h),{timestampIsSet:!0}]}}const yD={G:new RS,y:new zS,Y:new HS,R:new VS,u:new MS,Q:new WS,q:new jS,M:new US,L:new qS,w:new GS,I:new XS,d:new QS,D:new $S,E:new eD,e:new tD,c:new nD,i:new sD,a:new aD,b:new oD,B:new rD,h:new lD,H:new uD,K:new cD,k:new dD,m:new hD,s:new fD,S:new pD,X:new mD,x:new gD,t:new vD,T:new bD},_D=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wD=/^'([^]*?)'?$/,xD=/''/g,kD=/\S/,SD=/[a-zA-Z]/;function DD(l,s,a,u){var te,X,K,re,ie,se,ke,be;const h=()=>Pn((u==null?void 0:u.in)||a,NaN),m=FS(),v=(u==null?void 0:u.locale)??m.locale??Sv,w=(u==null?void 0:u.firstWeekContainsDate)??((X=(te=u==null?void 0:u.locale)==null?void 0:te.options)==null?void 0:X.firstWeekContainsDate)??m.firstWeekContainsDate??((re=(K=m.locale)==null?void 0:K.options)==null?void 0:re.firstWeekContainsDate)??1,S=(u==null?void 0:u.weekStartsOn)??((se=(ie=u==null?void 0:u.locale)==null?void 0:ie.options)==null?void 0:se.weekStartsOn)??m.weekStartsOn??((be=(ke=m.locale)==null?void 0:ke.options)==null?void 0:be.weekStartsOn)??0;if(!s)return l?h():Tt(a,u==null?void 0:u.in);const D={firstWeekContainsDate:w,weekStartsOn:S,locale:v},A=[new NS(u==null?void 0:u.in,a)],O=s.match(CD).map(ve=>{const Te=ve[0];if(Te in gp){const Ke=gp[Te];return Ke(ve,v.formatLong)}return ve}).join("").match(_D),N=[];for(let ve of O){!(u!=null&&u.useAdditionalWeekYearTokens)&&Fv(ve)&&vp(ve,s,l),!(u!=null&&u.useAdditionalDayOfYearTokens)&&Av(ve)&&vp(ve,s,l);const Te=ve[0],Ke=yD[Te];if(Ke){const{incompatibleTokens:Le}=Ke;if(Array.isArray(Le)){const it=N.find(rt=>Le.includes(rt.token)||rt.token===Te);if(it)throw new RangeError(`The format string mustn't contain \`${it.fullToken}\` and \`${ve}\` at the same time`)}else if(Ke.incompatibleTokens==="*"&&N.length>0)throw new RangeError(`The format string mustn't contain \`${ve}\` and any other token at the same time`);N.push({token:Te,fullToken:ve});const Ge=Ke.run(l,ve,v.match,D);if(!Ge)return h();A.push(Ge.setter),l=Ge.rest}else{if(Te.match(SD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Te+"`");if(ve==="''"?ve="'":Te==="'"&&(ve=TD(ve)),l.indexOf(ve)===0)l=l.slice(ve.length);else return h()}}if(l.length>0&&kD.test(l))return h();const V=A.map(ve=>ve.priority).sort((ve,Te)=>Te-ve).filter((ve,Te,Ke)=>Ke.indexOf(ve)===Te).map(ve=>A.filter(Te=>Te.priority===ve).sort((Te,Ke)=>Ke.subPriority-Te.subPriority)).map(ve=>ve[0]);let Y=Tt(a,u==null?void 0:u.in);if(isNaN(+Y))return h();const $={};for(const ve of V){if(!ve.validate(Y,D))return h();const Te=ve.set(Y,$,D);Array.isArray(Te)?(Y=Te[0],Object.assign($,Te[1])):Y=Te}return Y}function TD(l){return l.match(wD)[1].replace(xD,"'")}function ED(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setMinutes(0,0,0),a}function AD(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setSeconds(0,0),a}function FD(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setMilliseconds(0),a}function ID(l,s){const a=()=>Pn(s==null?void 0:s.in,NaN),u=(s==null?void 0:s.additionalDigits)??2,h=BD(l);let m;if(h.date){const D=ND(h.date,u);m=RD(D.restDateString,D.year)}if(!m||isNaN(+m))return a();const v=+m;let w=0,S;if(h.time&&(w=zD(h.time),isNaN(w)))return a();if(h.timezone){if(S=HD(h.timezone),isNaN(S))return a()}else{const D=new Date(v+w),A=Tt(0,s==null?void 0:s.in);return A.setFullYear(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate()),A.setHours(D.getUTCHours(),D.getUTCMinutes(),D.getUTCSeconds(),D.getUTCMilliseconds()),A}return Tt(v+w+S,s==null?void 0:s.in)}const Zd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},LD=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,OD=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,PD=/^([+-])(\d{2})(?::?(\d{2}))?$/;function BD(l){const s={},a=l.split(Zd.dateTimeDelimiter);let u;if(a.length>2)return s;if(/:/.test(a[0])?u=a[0]:(s.date=a[0],u=a[1],Zd.timeZoneDelimiter.test(s.date)&&(s.date=l.split(Zd.timeZoneDelimiter)[0],u=l.substr(s.date.length,l.length))),u){const h=Zd.timezone.exec(u);h?(s.time=u.replace(h[1],""),s.timezone=h[1]):s.time=u}return s}function ND(l,s){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),u=l.match(a);if(!u)return{year:NaN,restDateString:""};const h=u[1]?parseInt(u[1]):null,m=u[2]?parseInt(u[2]):null;return{year:m===null?h:m*100,restDateString:l.slice((u[1]||u[2]).length)}}function RD(l,s){if(s===null)return new Date(NaN);const a=l.match(LD);if(!a)return new Date(NaN);const u=!!a[4],h=Lu(a[1]),m=Lu(a[2])-1,v=Lu(a[3]),w=Lu(a[4]),S=Lu(a[5])-1;if(u)return UD(s,w,S)?VD(s,w,S):new Date(NaN);{const D=new Date(0);return!WD(s,m,v)||!jD(s,h)?new Date(NaN):(D.setUTCFullYear(s,m,Math.max(h,v)),D)}}function Lu(l){return l?parseInt(l):1}function zD(l){const s=l.match(OD);if(!s)return NaN;const a=Gf(s[1]),u=Gf(s[2]),h=Gf(s[3]);return qD(a,u,h)?a*ac+u*sc+h*1e3:NaN}function Gf(l){return l&&parseFloat(l.replace(",","."))||0}function HD(l){if(l==="Z")return 0;const s=l.match(PD);if(!s)return 0;const a=s[1]==="+"?-1:1,u=parseInt(s[2]),h=s[3]&&parseInt(s[3])||0;return YD(u,h)?a*(u*ac+h*sc):NaN}function VD(l,s,a){const u=new Date(0);u.setUTCFullYear(l,0,4);const h=u.getUTCDay()||7,m=(s-1)*7+a+1-h;return u.setUTCDate(u.getUTCDate()+m),u}const MD=[31,null,31,30,31,30,31,31,30,31,30,31];function Bv(l){return l%400===0||l%4===0&&l%100!==0}function WD(l,s,a){return s>=0&&s<=11&&a>=1&&a<=(MD[s]||(Bv(l)?29:28))}function jD(l,s){return s>=1&&s<=(Bv(l)?366:365)}function UD(l,s,a){return s>=1&&s<=53&&a>=0&&a<=6}function qD(l,s,a){return l===24?s===0&&a===0:a>=0&&a<60&&s>=0&&s<60&&l>=0&&l<25}function YD(l,s){return s>=0&&s<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const GD={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};X0._date.override({_id:"date-fns",formats:function(){return GD},parse:function(l,s){if(l===null||typeof l>"u")return null;const a=typeof l;return a==="number"||l instanceof Date?l=Tt(l):a==="string"&&(typeof s=="string"?l=DD(l,s,new Date,this.options):l=ID(l,this.options)),yv(l)?l.getTime():null},format:function(l,s){return ES(l,s,this.options)},add:function(l,s,a){switch(a){case"millisecond":return Rp(l,s);case"second":return v4(l,s);case"minute":return m4(l,s);case"hour":return h4(l,s);case"day":return Dh(l,s);case"week":return b4(l,s);case"month":return Np(l,s);case"quarter":return g4(l,s);case"year":return y4(l,s);default:return l}},diff:function(l,s,a){switch(a){case"millisecond":return zp(l,s);case"second":return T4(l,s);case"minute":return k4(l,s);case"hour":return x4(l,s);case"day":return _v(l,s);case"week":return E4(l,s);case"month":return xv(l,s);case"quarter":return D4(l,s);case"year":return A4(l,s);default:return 0}},startOf:function(l,s,a){switch(s){case"second":return FD(l);case"minute":return AD(l);case"hour":return ED(l);case"day":return mp(l);case"week":return ua(l);case"isoWeek":return ua(l,{weekStartsOn:+a});case"month":return I4(l);case"quarter":return F4(l);case"year":return kv(l);default:return l}},endOf:function(l,s){switch(s){case"second":return R4(l);case"minute":return B4(l);case"hour":return O4(l);case"day":return Cv(l);case"week":return P4(l);case"month":return wv(l);case"quarter":return N4(l);case"year":return L4(l);default:return l}}});/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var zg=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var l=window.screen;if(l)return(l.deviceXDPI||1)/(l.logicalXDPI||1)}return 1}(),Gu={toTextLines:function(l){var s=[],a;for(l=[].concat(l);l.length;)a=l.pop(),typeof a=="string"?s.unshift.apply(s,a.split(`
`)):Array.isArray(a)?l.push.apply(l,a):Ft(l)||s.unshift(""+a);return s},textSize:function(l,s,a){var u=[].concat(s),h=u.length,m=l.font,v=0,w;for(l.font=a.string,w=0;w<h;++w)v=Math.max(l.measureText(u[w]).width,v);return l.font=m,{height:h*a.lineHeight,width:v}},bound:function(l,s,a){return Math.max(l,Math.min(s,a))},arrayDiff:function(l,s){var a=l.slice(),u=[],h,m,v,w;for(h=0,v=s.length;h<v;++h)w=s[h],m=a.indexOf(w),m===-1?u.push([w,1]):a.splice(m,1);for(h=0,v=a.length;h<v;++h)u.push([a[h],-1]);return u},rasterize:function(l){return Math.round(l*zg)/zg}};function Kf(l,s){var a=s.x,u=s.y;if(a===null)return{x:0,y:-1};if(u===null)return{x:1,y:0};var h=l.x-a,m=l.y-u,v=Math.sqrt(h*h+m*m);return{x:v?h/v:0,y:v?m/v:-1}}function KD(l,s,a,u,h){switch(h){case"center":a=u=0;break;case"bottom":a=0,u=1;break;case"right":a=1,u=0;break;case"left":a=-1,u=0;break;case"top":a=0,u=-1;break;case"start":a=-a,u=-u;break;case"end":break;default:h*=Math.PI/180,a=Math.cos(h),u=Math.sin(h);break}return{x:l,y:s,vx:a,vy:u}}var XD=0,Nv=1,Rv=2,zv=4,Hv=8;function Jd(l,s,a){var u=XD;return l<a.left?u|=Nv:l>a.right&&(u|=Rv),s<a.top?u|=Hv:s>a.bottom&&(u|=zv),u}function ZD(l,s){for(var a=l.x0,u=l.y0,h=l.x1,m=l.y1,v=Jd(a,u,s),w=Jd(h,m,s),S,D,A;!(!(v|w)||v&w);)S=v||w,S&Hv?(D=a+(h-a)*(s.top-u)/(m-u),A=s.top):S&zv?(D=a+(h-a)*(s.bottom-u)/(m-u),A=s.bottom):S&Rv?(A=u+(m-u)*(s.right-a)/(h-a),D=s.right):S&Nv&&(A=u+(m-u)*(s.left-a)/(h-a),D=s.left),S===v?(a=D,u=A,v=Jd(a,u,s)):(h=D,m=A,w=Jd(h,m,s));return{x0:a,x1:h,y0:u,y1:m}}function Qd(l,s){var a=s.anchor,u=l,h,m;return s.clamp&&(u=ZD(u,s.area)),a==="start"?(h=u.x0,m=u.y0):a==="end"?(h=u.x1,m=u.y1):(h=(u.x0+u.x1)/2,m=(u.y0+u.y1)/2),KD(h,m,l.vx,l.vy,s.align)}var $d={arc:function(l,s){var a=(l.startAngle+l.endAngle)/2,u=Math.cos(a),h=Math.sin(a),m=l.innerRadius,v=l.outerRadius;return Qd({x0:l.x+u*m,y0:l.y+h*m,x1:l.x+u*v,y1:l.y+h*v,vx:u,vy:h},s)},point:function(l,s){var a=Kf(l,s.origin),u=a.x*l.options.radius,h=a.y*l.options.radius;return Qd({x0:l.x-u,y0:l.y-h,x1:l.x+u,y1:l.y+h,vx:a.x,vy:a.y},s)},bar:function(l,s){var a=Kf(l,s.origin),u=l.x,h=l.y,m=0,v=0;return l.horizontal?(u=Math.min(l.x,l.base),m=Math.abs(l.base-l.x)):(h=Math.min(l.y,l.base),v=Math.abs(l.base-l.y)),Qd({x0:u,y0:h+v,x1:u+m,y1:h,vx:a.x,vy:a.y},s)},fallback:function(l,s){var a=Kf(l,s.origin);return Qd({x0:l.x,y0:l.y,x1:l.x+(l.width||0),y1:l.y+(l.height||0),vx:a.x,vy:a.y},s)}},za=Gu.rasterize;function JD(l){var s=l.borderWidth||0,a=l.padding,u=l.size.height,h=l.size.width,m=-h/2,v=-u/2;return{frame:{x:m-a.left-s,y:v-a.top-s,w:h+a.width+s*2,h:u+a.height+s*2},text:{x:m,y:v,w:h,h:u}}}function QD(l,s){var a=s.chart.getDatasetMeta(s.datasetIndex).vScale;if(!a)return null;if(a.xCenter!==void 0&&a.yCenter!==void 0)return{x:a.xCenter,y:a.yCenter};var u=a.getBasePixel();return l.horizontal?{x:u,y:null}:{x:null,y:u}}function $D(l){return l instanceof nl?$d.arc:l instanceof Uu?$d.point:l instanceof qu?$d.bar:$d.fallback}function e3(l,s,a,u,h,m){var v=Math.PI/2;if(m){var w=Math.min(m,h/2,u/2),S=s+w,D=a+w,A=s+u-w,O=a+h-w;l.moveTo(s,D),S<A&&D<O?(l.arc(S,D,w,-Math.PI,-v),l.arc(A,D,w,-v,0),l.arc(A,O,w,0,v),l.arc(S,O,w,v,Math.PI)):S<A?(l.moveTo(S,a),l.arc(A,D,w,-v,v),l.arc(S,D,w,v,Math.PI+v)):D<O?(l.arc(S,D,w,-Math.PI,0),l.arc(S,O,w,0,Math.PI)):l.arc(S,D,w,-Math.PI,Math.PI),l.closePath(),l.moveTo(s,a)}else l.rect(s,a,u,h)}function t3(l,s,a){var u=a.backgroundColor,h=a.borderColor,m=a.borderWidth;!u&&(!h||!m)||(l.beginPath(),e3(l,za(s.x)+m/2,za(s.y)+m/2,za(s.w)-m,za(s.h)-m,a.borderRadius),l.closePath(),u&&(l.fillStyle=u,l.fill()),h&&m&&(l.strokeStyle=h,l.lineWidth=m,l.lineJoin="miter",l.stroke()))}function n3(l,s,a){var u=a.lineHeight,h=l.w,m=l.x,v=l.y+u/2;return s==="center"?m+=h/2:(s==="end"||s==="right")&&(m+=h),{h:u,w:h,x:m,y:v}}function i3(l,s,a){var u=l.shadowBlur,h=a.stroked,m=za(a.x),v=za(a.y),w=za(a.w);h&&l.strokeText(s,m,v,w),a.filled&&(u&&h&&(l.shadowBlur=0),l.fillText(s,m,v,w),u&&h&&(l.shadowBlur=u))}function s3(l,s,a,u){var h=u.textAlign,m=u.color,v=!!m,w=u.font,S=s.length,D=u.textStrokeColor,A=u.textStrokeWidth,O=D&&A,N;if(!(!S||!v&&!O))for(a=n3(a,h,w),l.font=w.string,l.textAlign=h,l.textBaseline="middle",l.shadowBlur=u.textShadowBlur,l.shadowColor=u.textShadowColor,v&&(l.fillStyle=m),O&&(l.lineJoin="round",l.lineWidth=A,l.strokeStyle=D),N=0,S=s.length;N<S;++N)i3(l,s[N],{stroked:O,filled:v,w:a.w,x:a.x,y:a.y+a.h*N})}var Vv=function(l,s,a,u){var h=this;h._config=l,h._index=u,h._model=null,h._rects=null,h._ctx=s,h._el=a};la(Vv.prototype,{_modelize:function(l,s,a,u){var h=this,m=h._index,v=Un(un([a.font,{}],u,m)),w=un([a.color,hn.color],u,m);return{align:un([a.align,"center"],u,m),anchor:un([a.anchor,"center"],u,m),area:u.chart.chartArea,backgroundColor:un([a.backgroundColor,null],u,m),borderColor:un([a.borderColor,null],u,m),borderRadius:un([a.borderRadius,0],u,m),borderWidth:un([a.borderWidth,0],u,m),clamp:un([a.clamp,!1],u,m),clip:un([a.clip,!1],u,m),color:w,display:l,font:v,lines:s,offset:un([a.offset,4],u,m),opacity:un([a.opacity,1],u,m),origin:QD(h._el,u),padding:yi(un([a.padding,4],u,m)),positioner:$D(h._el),rotation:un([a.rotation,0],u,m)*(Math.PI/180),size:Gu.textSize(h._ctx,s,v),textAlign:un([a.textAlign,"start"],u,m),textShadowBlur:un([a.textShadowBlur,0],u,m),textShadowColor:un([a.textShadowColor,w],u,m),textStrokeColor:un([a.textStrokeColor,w],u,m),textStrokeWidth:un([a.textStrokeWidth,0],u,m)}},update:function(l){var s=this,a=null,u=null,h=s._index,m=s._config,v,w,S,D=un([m.display,!0],l,h);D&&(v=l.dataset.data[h],w=At(Jt(m.formatter,[v,l]),v),S=Ft(w)?[]:Gu.toTextLines(w),S.length&&(a=s._modelize(D,S,m,l),u=JD(a))),s._model=a,s._rects=u},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(l,s){var a=this,u=l.ctx,h=a._model,m=a._rects,v;this.visible()&&(u.save(),h.clip&&(v=h.area,u.beginPath(),u.rect(v.left,v.top,v.right-v.left,v.bottom-v.top),u.clip()),u.globalAlpha=Gu.bound(0,h.opacity,1),u.translate(za(s.x),za(s.y)),u.rotate(h.rotation),t3(u,m.frame,h),s3(u,h.lines,m.text,h),u.restore())}});var a3=Number.MIN_SAFE_INTEGER||-9007199254740991,o3=Number.MAX_SAFE_INTEGER||9007199254740991;function Ou(l,s,a){var u=Math.cos(a),h=Math.sin(a),m=s.x,v=s.y;return{x:m+u*(l.x-m)-h*(l.y-v),y:v+h*(l.x-m)+u*(l.y-v)}}function Hg(l,s){var a=o3,u=a3,h=s.origin,m,v,w,S,D;for(m=0;m<l.length;++m)v=l[m],w=v.x-h.x,S=v.y-h.y,D=s.vx*w+s.vy*S,a=Math.min(a,D),u=Math.max(u,D);return{min:a,max:u}}function eh(l,s){var a=s.x-l.x,u=s.y-l.y,h=Math.sqrt(a*a+u*u);return{vx:(s.x-l.x)/h,vy:(s.y-l.y)/h,origin:l,ln:h}}var Mv=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};la(Mv.prototype,{center:function(){var l=this._rect;return{x:l.x+l.w/2,y:l.y+l.h/2}},update:function(l,s,a){this._rotation=a,this._rect={x:s.x+l.x,y:s.y+l.y,w:s.w,h:s.h}},contains:function(l){var s=this,a=1,u=s._rect;return l=Ou(l,s.center(),-s._rotation),!(l.x<u.x-a||l.y<u.y-a||l.x>u.x+u.w+a*2||l.y>u.y+u.h+a*2)},intersects:function(l){var s=this._points(),a=l._points(),u=[eh(s[0],s[1]),eh(s[0],s[3])],h,m,v;for(this._rotation!==l._rotation&&u.push(eh(a[0],a[1]),eh(a[0],a[3])),h=0;h<u.length;++h)if(m=Hg(s,u[h]),v=Hg(a,u[h]),m.max<v.min||v.max<m.min)return!1;return!0},_points:function(){var l=this,s=l._rect,a=l._rotation,u=l.center();return[Ou({x:s.x,y:s.y},u,a),Ou({x:s.x+s.w,y:s.y},u,a),Ou({x:s.x+s.w,y:s.y+s.h},u,a),Ou({x:s.x,y:s.y+s.h},u,a)]}});function Wv(l,s,a){var u=s.positioner(l,s),h=u.vx,m=u.vy;if(!h&&!m)return{x:u.x,y:u.y};var v=a.w,w=a.h,S=s.rotation,D=Math.abs(v/2*Math.cos(S))+Math.abs(w/2*Math.sin(S)),A=Math.abs(v/2*Math.sin(S))+Math.abs(w/2*Math.cos(S)),O=1/Math.max(Math.abs(h),Math.abs(m));return D*=h*O,A*=m*O,D+=s.offset*h,A+=s.offset*m,{x:u.x+D,y:u.y+A}}function r3(l,s){var a,u,h,m;for(a=l.length-1;a>=0;--a)for(h=l[a].$layout,u=a-1;u>=0&&h._visible;--u)m=l[u].$layout,m._visible&&h._box.intersects(m._box)&&s(h,m);return l}function l3(l){var s,a,u,h,m,v,w;for(s=0,a=l.length;s<a;++s)u=l[s],h=u.$layout,h._visible&&(w=new Proxy(u._el,{get:(S,D)=>S.getProps([D],!0)[D]}),m=u.geometry(),v=Wv(w,u.model(),m),h._box.update(v,m,u.rotation()));return r3(l,function(S,D){var A=S._hidable,O=D._hidable;A&&O||O?D._visible=!1:A&&(S._visible=!1)})}var Ku={prepare:function(l){var s=[],a,u,h,m,v;for(a=0,h=l.length;a<h;++a)for(u=0,m=l[a].length;u<m;++u)v=l[a][u],s.push(v),v.$layout={_box:new Mv,_hidable:!1,_visible:!0,_set:a,_idx:v._index};return s.sort(function(w,S){var D=w.$layout,A=S.$layout;return D._idx===A._idx?A._set-D._set:A._idx-D._idx}),this.update(s),s},update:function(l){var s=!1,a,u,h,m,v;for(a=0,u=l.length;a<u;++a)h=l[a],m=h.model(),v=h.$layout,v._hidable=m&&m.display==="auto",v._visible=h.visible(),s|=v._hidable;s&&l3(l)},lookup:function(l,s){var a,u;for(a=l.length-1;a>=0;--a)if(u=l[a].$layout,u&&u._visible&&u._box.contains(s))return l[a];return null},draw:function(l,s){var a,u,h,m,v,w;for(a=0,u=s.length;a<u;++a)h=s[a],m=h.$layout,m._visible&&(v=h.geometry(),w=Wv(h._el,h.model(),v),m._box.update(w,v,h.rotation()),h.draw(l,w))}},u3=function(l){if(Ft(l))return null;var s=l,a,u,h;if(Lt(l))if(!Ft(l.label))s=l.label;else if(!Ft(l.r))s=l.r;else for(s="",a=Object.keys(l),h=0,u=a.length;h<u;++h)s+=(h!==0?", ":"")+a[h]+": "+l[a[h]];return""+s},c3={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:u3,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},qi="$datalabels",jv="$default";function d3(l,s){var a=l.datalabels,u={},h=[],m,v;return a===!1?null:(a===!0&&(a={}),s=la({},[s,a]),m=s.labels||{},v=Object.keys(m),delete s.labels,v.length?v.forEach(function(w){m[w]&&h.push(la({},[s,m[w],{_key:w}]))}):h.push(s),u=h.reduce(function(w,S){return Gt(S.listeners||{},function(D,A){w[A]=w[A]||{},w[A][S._key||jv]=D}),delete S.listeners,w},{}),{labels:h,listeners:u})}function bp(l,s,a,u){if(s){var h=a.$context,m=a.$groups,v;s[m._set]&&(v=s[m._set][m._key],v&&Jt(v,[h,u])===!0&&(l[qi]._dirty=!0,a.update(h)))}}function h3(l,s,a,u,h){var m,v;!a&&!u||(a?u?a!==u&&(v=m=!0):v=!0:m=!0,v&&bp(l,s.leave,a,h),m&&bp(l,s.enter,u,h))}function f3(l,s){var a=l[qi],u=a._listeners,h,m;if(!(!u.enter&&!u.leave)){if(s.type==="mousemove")m=Ku.lookup(a._labels,s);else if(s.type!=="mouseout")return;h=a._hovered,a._hovered=m,h3(l,u,h,m,s)}}function p3(l,s){var a=l[qi],u=a._listeners.click,h=u&&Ku.lookup(a._labels,s);h&&bp(l,u,h,s)}var m3={id:"datalabels",defaults:c3,beforeInit:function(l){l[qi]={_actives:[]}},beforeUpdate:function(l){var s=l[qi];s._listened=!1,s._listeners={},s._datasets=[],s._labels=[]},afterDatasetUpdate:function(l,s,a){var u=s.index,h=l[qi],m=h._datasets[u]=[],v=l.isDatasetVisible(u),w=l.data.datasets[u],S=d3(w,a),D=s.meta.data||[],A=l.ctx,O,N,V,Y,$,te,X,K;for(A.save(),O=0,V=D.length;O<V;++O)if(X=D[O],X[qi]=[],v&&X&&l.getDataVisibility(O)&&!X.skip)for(N=0,Y=S.labels.length;N<Y;++N)$=S.labels[N],te=$._key,K=new Vv($,A,X,O),K.$groups={_set:u,_key:te||jv},K.$context={active:!1,chart:l,dataIndex:O,dataset:w,datasetIndex:u},K.update(K.$context),X[qi].push(K),m.push(K);A.restore(),la(h._listeners,S.listeners,{merger:function(re,ie,se){ie[re]=ie[re]||{},ie[re][s.index]=se[re],h._listened=!0}})},afterUpdate:function(l){l[qi]._labels=Ku.prepare(l[qi]._datasets)},afterDatasetsDraw:function(l){Ku.draw(l,l[qi]._labels)},beforeEvent:function(l,s){if(l[qi]._listened){var a=s.event;switch(a.type){case"mousemove":case"mouseout":f3(l,a);break;case"click":p3(l,a);break}}},afterEvent:function(l){var s=l[qi],a=s._actives,u=s._actives=l.getActiveElements(),h=Gu.arrayDiff(a,u),m,v,w,S,D,A,O;for(m=0,v=h.length;m<v;++m)if(D=h[m],D[1])for(O=D[0].element[qi]||[],w=0,S=O.length;w<S;++w)A=O[w],A.$context.active=D[1]===1,A.update(A.$context);(s._dirty||h.length)&&(Ku.update(s._labels),l.render()),delete s._dirty}},uh={exports:{}},g3=uh.exports,Vg;function as(){return Vg||(Vg=1,function(l,s){(function(a,u){l.exports=u()})(g3,function(){var a=navigator.userAgent,u=navigator.platform,h=/gecko\/\d/i.test(a),m=/MSIE \d/.test(a),v=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(a),w=/Edge\/(\d+)/.exec(a),S=m||v||w,D=S&&(m?document.documentMode||6:+(w||v)[1]),A=!w&&/WebKit\//.test(a),O=A&&/Qt\/\d+\.\d+/.test(a),N=!w&&/Chrome\/(\d+)/.exec(a),V=N&&+N[1],Y=/Opera\//.test(a),$=/Apple Computer/.test(navigator.vendor),te=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(a),X=/PhantomJS/.test(a),K=$&&(/Mobile\/\w+/.test(a)||navigator.maxTouchPoints>2),re=/Android/.test(a),ie=K||re||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(a),se=K||/Mac/.test(u),ke=/\bCrOS\b/.test(a),be=/win/i.test(u),ve=Y&&a.match(/Version\/(\d*\.\d*)/);ve&&(ve=Number(ve[1])),ve&&ve>=15&&(Y=!1,A=!0);var Te=se&&(O||Y&&(ve==null||ve<12.11)),Ke=h||S&&D>=9;function Le(c){return new RegExp("(^|\\s)"+c+"(?:$|\\s)\\s*")}var Ge=function(c,p){var y=c.className,b=Le(p).exec(y);if(b){var x=y.slice(b.index+b[0].length);c.className=y.slice(0,b.index)+(x?b[1]+x:"")}};function it(c){for(var p=c.childNodes.length;p>0;--p)c.removeChild(c.firstChild);return c}function rt(c,p){return it(c).appendChild(p)}function ce(c,p,y,b){var x=document.createElement(c);if(y&&(x.className=y),b&&(x.style.cssText=b),typeof p=="string")x.appendChild(document.createTextNode(p));else if(p)for(var T=0;T<p.length;++T)x.appendChild(p[T]);return x}function Ne(c,p,y,b){var x=ce(c,p,y,b);return x.setAttribute("role","presentation"),x}var Pe;document.createRange?Pe=function(c,p,y,b){var x=document.createRange();return x.setEnd(b||c,y),x.setStart(c,p),x}:Pe=function(c,p,y){var b=document.body.createTextRange();try{b.moveToElementText(c.parentNode)}catch{return b}return b.collapse(!0),b.moveEnd("character",y),b.moveStart("character",p),b};function Qe(c,p){if(p.nodeType==3&&(p=p.parentNode),c.contains)return c.contains(p);do if(p.nodeType==11&&(p=p.host),p==c)return!0;while(p=p.parentNode)}function mt(c){var p=c.ownerDocument||c,y;try{y=c.activeElement}catch{y=p.body||null}for(;y&&y.shadowRoot&&y.shadowRoot.activeElement;)y=y.shadowRoot.activeElement;return y}function zt(c,p){var y=c.className;Le(p).test(y)||(c.className+=(y?" ":"")+p)}function ei(c,p){for(var y=c.split(" "),b=0;b<y.length;b++)y[b]&&!Le(y[b]).test(p)&&(p+=" "+y[b]);return p}var ue=function(c){c.select()};K?ue=function(c){c.selectionStart=0,c.selectionEnd=c.value.length}:S&&(ue=function(c){try{c.select()}catch{}});function W(c){return c.display.wrapper.ownerDocument}function Ee(c){return bt(c.display.wrapper)}function bt(c){return c.getRootNode?c.getRootNode():c.ownerDocument}function ot(c){return W(c).defaultView}function Kt(c){var p=Array.prototype.slice.call(arguments,1);return function(){return c.apply(null,p)}}function Qt(c,p,y){p||(p={});for(var b in c)c.hasOwnProperty(b)&&(y!==!1||!p.hasOwnProperty(b))&&(p[b]=c[b]);return p}function Mt(c,p,y,b,x){p==null&&(p=c.search(/[^\s\u00a0]/),p==-1&&(p=c.length));for(var T=b||0,F=x||0;;){var P=c.indexOf("	",T);if(P<0||P>=p)return F+(p-T);F+=P-T,F+=y-F%y,T=P+1}}var Nt=function(){this.id=null,this.f=null,this.time=0,this.handler=Kt(this.onTimeout,this)};Nt.prototype.onTimeout=function(c){c.id=0,c.time<=+new Date?c.f():setTimeout(c.handler,c.time-+new Date)},Nt.prototype.set=function(c,p){this.f=p;var y=+new Date+c;(!this.id||y<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,c),this.time=y)};function kt(c,p){for(var y=0;y<c.length;++y)if(c[y]==p)return y;return-1}var Pt=50,$t={toString:function(){return"CodeMirror.Pass"}},pn={scroll:!1},lt={origin:"*mouse"},qn={origin:"+move"};function Yn(c,p,y){for(var b=0,x=0;;){var T=c.indexOf("	",b);T==-1&&(T=c.length);var F=T-b;if(T==c.length||x+F>=p)return b+Math.min(F,p-x);if(x+=T-b,x+=y-x%y,b=T+1,x>=p)return b}}var en=[""];function Ei(c){for(;en.length<=c;)en.push(st(en)+" ");return en[c]}function st(c){return c[c.length-1]}function on(c,p){for(var y=[],b=0;b<c.length;b++)y[b]=p(c[b],b);return y}function ut(c,p,y){for(var b=0,x=y(p);b<c.length&&y(c[b])<=x;)b++;c.splice(b,0,p)}function ms(){}function xe(c,p){var y;return Object.create?y=Object.create(c):(ms.prototype=c,y=new ms),p&&Qt(p,y),y}var Se=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function me(c){return/\w/.test(c)||c>""&&(c.toUpperCase()!=c.toLowerCase()||Se.test(c))}function U(c,p){return p?p.source.indexOf("\\w")>-1&&me(c)?!0:p.test(c):me(c)}function j(c){for(var p in c)if(c.hasOwnProperty(p)&&c[p])return!1;return!0}var he=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function L(c){return c.charCodeAt(0)>=768&&he.test(c)}function z(c,p,y){for(;(y<0?p>0:p<c.length)&&L(c.charAt(p));)p+=y;return p}function ee(c,p,y){for(var b=p>y?-1:1;;){if(p==y)return p;var x=(p+y)/2,T=b<0?Math.ceil(x):Math.floor(x);if(T==p)return c(T)?p:y;c(T)?y=T:p=T+b}}function oe(c,p,y,b){if(!c)return b(p,y,"ltr",0);for(var x=!1,T=0;T<c.length;++T){var F=c[T];(F.from<y&&F.to>p||p==y&&F.to==p)&&(b(Math.max(F.from,p),Math.min(F.to,y),F.level==1?"rtl":"ltr",T),x=!0)}x||b(p,y,"ltr")}var de=null;function Ce(c,p,y){var b;de=null;for(var x=0;x<c.length;++x){var T=c[x];if(T.from<p&&T.to>p)return x;T.to==p&&(T.from!=T.to&&y=="before"?b=x:de=x),T.from==p&&(T.from!=T.to&&y!="before"?b=x:de=x)}return b??de}var fe=function(){var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",p="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function y(H){return H<=247?c.charAt(H):1424<=H&&H<=1524?"R":1536<=H&&H<=1785?p.charAt(H-1536):1774<=H&&H<=2220?"r":8192<=H&&H<=8203?"w":H==8204?"b":"L"}var b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,x=/[stwN]/,T=/[LRr]/,F=/[Lb1n]/,P=/[1n]/;function R(H,J,ne){this.level=H,this.from=J,this.to=ne}return function(H,J){var ne=J=="ltr"?"L":"R";if(H.length==0||J=="ltr"&&!b.test(H))return!1;for(var ye=H.length,pe=[],Ae=0;Ae<ye;++Ae)pe.push(y(H.charCodeAt(Ae)));for(var Re=0,We=ne;Re<ye;++Re){var qe=pe[Re];qe=="m"?pe[Re]=We:We=qe}for(var Ze=0,Ye=ne;Ze<ye;++Ze){var tt=pe[Ze];tt=="1"&&Ye=="r"?pe[Ze]="n":T.test(tt)&&(Ye=tt,tt=="r"&&(pe[Ze]="R"))}for(var dt=1,ct=pe[0];dt<ye-1;++dt){var St=pe[dt];St=="+"&&ct=="1"&&pe[dt+1]=="1"?pe[dt]="1":St==","&&ct==pe[dt+1]&&(ct=="1"||ct=="n")&&(pe[dt]=ct),ct=St}for(var qt=0;qt<ye;++qt){var An=pe[qt];if(An==",")pe[qt]="N";else if(An=="%"){var nn=void 0;for(nn=qt+1;nn<ye&&pe[nn]=="%";++nn);for(var pi=qt&&pe[qt-1]=="!"||nn<ye&&pe[nn]=="1"?"1":"N",mi=qt;mi<nn;++mi)pe[mi]=pi;qt=nn-1}}for(var yn=0,gi=ne;yn<ye;++yn){var Nn=pe[yn];gi=="L"&&Nn=="1"?pe[yn]="L":T.test(Nn)&&(gi=Nn)}for(var Fn=0;Fn<ye;++Fn)if(x.test(pe[Fn])){var _n=void 0;for(_n=Fn+1;_n<ye&&x.test(pe[_n]);++_n);for(var sn=(Fn?pe[Fn-1]:ne)=="L",si=(_n<ye?pe[_n]:ne)=="L",go=sn==si?sn?"L":"R":ne,$s=Fn;$s<_n;++$s)pe[$s]=go;Fn=_n-1}for(var Jn=[],ns,Rn=0;Rn<ye;)if(F.test(pe[Rn])){var Qr=Rn;for(++Rn;Rn<ye&&F.test(pe[Rn]);++Rn);Jn.push(new R(0,Qr,Rn))}else{var As=Rn,ea=Jn.length,Ta=J=="rtl"?1:0;for(++Rn;Rn<ye&&pe[Rn]!="L";++Rn);for(var Qn=As;Qn<Rn;)if(P.test(pe[Qn])){As<Qn&&(Jn.splice(ea,0,new R(1,As,Qn)),ea+=Ta);var vo=Qn;for(++Qn;Qn<Rn&&P.test(pe[Qn]);++Qn);Jn.splice(ea,0,new R(2,vo,Qn)),ea+=Ta,As=Qn}else++Qn;As<Rn&&Jn.splice(ea,0,new R(1,As,Rn))}return J=="ltr"&&(Jn[0].level==1&&(ns=H.match(/^\s+/))&&(Jn[0].from=ns[0].length,Jn.unshift(new R(0,0,ns[0].length))),st(Jn).level==1&&(ns=H.match(/\s+$/))&&(st(Jn).to-=ns[0].length,Jn.push(new R(0,ye-ns[0].length,ye)))),J=="rtl"?Jn.reverse():Jn}}();function le(c,p){var y=c.order;return y==null&&(y=c.order=fe(c.text,p)),y}var _e=[],ge=function(c,p,y){if(c.addEventListener)c.addEventListener(p,y,!1);else if(c.attachEvent)c.attachEvent("on"+p,y);else{var b=c._handlers||(c._handlers={});b[p]=(b[p]||_e).concat(y)}};function Ue(c,p){return c._handlers&&c._handlers[p]||_e}function $e(c,p,y){if(c.removeEventListener)c.removeEventListener(p,y,!1);else if(c.detachEvent)c.detachEvent("on"+p,y);else{var b=c._handlers,x=b&&b[p];if(x){var T=kt(x,y);T>-1&&(b[p]=x.slice(0,T).concat(x.slice(T+1)))}}}function et(c,p){var y=Ue(c,p);if(y.length)for(var b=Array.prototype.slice.call(arguments,2),x=0;x<y.length;++x)y[x].apply(null,b)}function je(c,p,y){return typeof p=="string"&&(p={type:p,preventDefault:function(){this.defaultPrevented=!0}}),et(c,y||p.type,c,p),jt(p)||p.codemirrorIgnore}function gt(c){var p=c._handlers&&c._handlers.cursorActivity;if(p)for(var y=c.curOp.cursorActivityHandlers||(c.curOp.cursorActivityHandlers=[]),b=0;b<p.length;++b)kt(y,p[b])==-1&&y.push(p[b])}function yt(c,p){return Ue(c,p).length>0}function Ct(c){c.prototype.on=function(p,y){ge(this,p,y)},c.prototype.off=function(p,y){$e(this,p,y)}}function pt(c){c.preventDefault?c.preventDefault():c.returnValue=!1}function Wt(c){c.stopPropagation?c.stopPropagation():c.cancelBubble=!0}function jt(c){return c.defaultPrevented!=null?c.defaultPrevented:c.returnValue==!1}function mn(c){pt(c),Wt(c)}function ti(c){return c.target||c.srcElement}function Gn(c){var p=c.which;return p==null&&(c.button&1?p=1:c.button&2?p=3:c.button&4&&(p=2)),se&&c.ctrlKey&&p==1&&(p=3),p}var ca=function(){if(S&&D<9)return!1;var c=ce("div");return"draggable"in c||"dragDrop"in c}(),da;function Eo(c){if(da==null){var p=ce("span","​");rt(c,ce("span",[p,document.createTextNode("x")])),c.firstChild.offsetHeight!=0&&(da=p.offsetWidth<=1&&p.offsetHeight>2&&!(S&&D<8))}var y=da?ce("span","​"):ce("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return y.setAttribute("cm-text",""),y}var os;function Va(c){if(os!=null)return os;var p=rt(c,document.createTextNode("AخA")),y=Pe(p,0,1).getBoundingClientRect(),b=Pe(p,1,2).getBoundingClientRect();return it(c),!y||y.left==y.right?!1:os=b.right-y.right<3}var Ma=`

b`.split(/\n/).length!=3?function(c){for(var p=0,y=[],b=c.length;p<=b;){var x=c.indexOf(`
`,p);x==-1&&(x=c.length);var T=c.slice(p,c.charAt(x-1)=="\r"?x-1:x),F=T.indexOf("\r");F!=-1?(y.push(T.slice(0,F)),p+=F+1):(y.push(T),p=x+1)}return y}:function(c){return c.split(/\r\n?|\n/)},ll=window.getSelection?function(c){try{return c.selectionStart!=c.selectionEnd}catch{return!1}}:function(c){var p;try{p=c.ownerDocument.selection.createRange()}catch{}return!p||p.parentElement()!=c?!1:p.compareEndPoints("StartToEnd",p)!=0},gn=function(){var c=ce("div");return"oncopy"in c?!0:(c.setAttribute("oncopy","return;"),typeof c.oncopy=="function")}(),oi=null;function Ai(c){if(oi!=null)return oi;var p=rt(c,ce("span","x")),y=p.getBoundingClientRect(),b=Pe(p,0,1).getBoundingClientRect();return oi=Math.abs(y.left-b.left)>1}var _i={},ri={};function Ps(c,p){arguments.length>2&&(p.dependencies=Array.prototype.slice.call(arguments,2)),_i[c]=p}function Bs(c,p){ri[c]=p}function Ns(c){if(typeof c=="string"&&ri.hasOwnProperty(c))c=ri[c];else if(c&&typeof c.name=="string"&&ri.hasOwnProperty(c.name)){var p=ri[c.name];typeof p=="string"&&(p={name:p}),c=xe(p,c),c.name=p.name}else{if(typeof c=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(c))return Ns("application/xml");if(typeof c=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(c))return Ns("application/json")}return typeof c=="string"?{name:c}:c||{name:"null"}}function ha(c,p){p=Ns(p);var y=_i[p.name];if(!y)return ha(c,"text/plain");var b=y(c,p);if(fa.hasOwnProperty(p.name)){var x=fa[p.name];for(var T in x)x.hasOwnProperty(T)&&(b.hasOwnProperty(T)&&(b["_"+T]=b[T]),b[T]=x[T])}if(b.name=p.name,p.helperType&&(b.helperType=p.helperType),p.modeProps)for(var F in p.modeProps)b[F]=p.modeProps[F];return b}var fa={};function rc(c,p){var y=fa.hasOwnProperty(c)?fa[c]:fa[c]={};Qt(p,y)}function Rs(c,p){if(p===!0)return p;if(c.copyState)return c.copyState(p);var y={};for(var b in p){var x=p[b];x instanceof Array&&(x=x.concat([])),y[b]=x}return y}function Cr(c,p){for(var y;c.innerMode&&(y=c.innerMode(p),!(!y||y.mode==c));)p=y.state,c=y.mode;return y||{mode:c,state:p}}function lc(c,p,y){return c.startState?c.startState(p,y):!0}var xn=function(c,p,y){this.pos=this.start=0,this.string=c,this.tabSize=p||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=y};xn.prototype.eol=function(){return this.pos>=this.string.length},xn.prototype.sol=function(){return this.pos==this.lineStart},xn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},xn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},xn.prototype.eat=function(c){var p=this.string.charAt(this.pos),y;if(typeof c=="string"?y=p==c:y=p&&(c.test?c.test(p):c(p)),y)return++this.pos,p},xn.prototype.eatWhile=function(c){for(var p=this.pos;this.eat(c););return this.pos>p},xn.prototype.eatSpace=function(){for(var c=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>c},xn.prototype.skipToEnd=function(){this.pos=this.string.length},xn.prototype.skipTo=function(c){var p=this.string.indexOf(c,this.pos);if(p>-1)return this.pos=p,!0},xn.prototype.backUp=function(c){this.pos-=c},xn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Mt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Mt(this.string,this.lineStart,this.tabSize):0)},xn.prototype.indentation=function(){return Mt(this.string,null,this.tabSize)-(this.lineStart?Mt(this.string,this.lineStart,this.tabSize):0)},xn.prototype.match=function(c,p,y){if(typeof c=="string"){var b=function(F){return y?F.toLowerCase():F},x=this.string.substr(this.pos,c.length);if(b(x)==b(c))return p!==!1&&(this.pos+=c.length),!0}else{var T=this.string.slice(this.pos).match(c);return T&&T.index>0?null:(T&&p!==!1&&(this.pos+=T[0].length),T)}},xn.prototype.current=function(){return this.string.slice(this.start,this.pos)},xn.prototype.hideFirstChars=function(c,p){this.lineStart+=c;try{return p()}finally{this.lineStart-=c}},xn.prototype.lookAhead=function(c){var p=this.lineOracle;return p&&p.lookAhead(c)},xn.prototype.baseToken=function(){var c=this.lineOracle;return c&&c.baseToken(this.pos)};function at(c,p){if(p-=c.first,p<0||p>=c.size)throw new Error("There is no line "+(p+c.first)+" in the document.");for(var y=c;!y.lines;)for(var b=0;;++b){var x=y.children[b],T=x.chunkSize();if(p<T){y=x;break}p-=T}return y.lines[p]}function gs(c,p,y){var b=[],x=p.line;return c.iter(p.line,y.line+1,function(T){var F=T.text;x==y.line&&(F=F.slice(0,y.ch)),x==p.line&&(F=F.slice(p.ch)),b.push(F),++x}),b}function Ao(c,p,y){var b=[];return c.iter(p,y,function(x){b.push(x.text)}),b}function Gi(c,p){var y=p-c.height;if(y)for(var b=c;b;b=b.parent)b.height+=y}function Rt(c){if(c.parent==null)return null;for(var p=c.parent,y=kt(p.lines,c),b=p.parent;b;p=b,b=b.parent)for(var x=0;b.children[x]!=p;++x)y+=b.children[x].chunkSize();return y+p.first}function zs(c,p){var y=c.first;e:do{for(var b=0;b<c.children.length;++b){var x=c.children[b],T=x.height;if(p<T){c=x;continue e}p-=T,y+=x.chunkSize()}return y}while(!c.lines);for(var F=0;F<c.lines.length;++F){var P=c.lines[F],R=P.height;if(p<R)break;p-=R}return y+F}function Wa(c,p){return p>=c.first&&p<c.first+c.size}function wr(c,p){return String(c.lineNumberFormatter(p+c.firstLineNumber))}function Ve(c,p,y){if(y===void 0&&(y=null),!(this instanceof Ve))return new Ve(c,p,y);this.line=c,this.ch=p,this.sticky=y}function vt(c,p){return c.line-p.line||c.ch-p.ch}function xr(c,p){return c.sticky==p.sticky&&vt(c,p)==0}function kr(c){return Ve(c.line,c.ch)}function Fo(c,p){return vt(c,p)<0?p:c}function Io(c,p){return vt(c,p)<0?c:p}function Ci(c,p){return Math.max(c.first,Math.min(p,c.first+c.size-1))}function _t(c,p){if(p.line<c.first)return Ve(c.first,0);var y=c.first+c.size-1;return p.line>y?Ve(y,at(c,y).text.length):ul(p,at(c,p.line).text.length)}function ul(c,p){var y=c.ch;return y==null||y>p?Ve(c.line,p):y<0?Ve(c.line,0):c}function uc(c,p){for(var y=[],b=0;b<p.length;b++)y[b]=_t(c,p[b]);return y}var Hs=function(c,p){this.state=c,this.lookAhead=p},Ki=function(c,p,y,b){this.state=p,this.doc=c,this.line=y,this.maxLookAhead=b||0,this.baseTokens=null,this.baseTokenPos=1};Ki.prototype.lookAhead=function(c){var p=this.doc.getLine(this.line+c);return p!=null&&c>this.maxLookAhead&&(this.maxLookAhead=c),p},Ki.prototype.baseToken=function(c){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=c;)this.baseTokenPos+=2;var p=this.baseTokens[this.baseTokenPos+1];return{type:p&&p.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-c}},Ki.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ki.fromSaved=function(c,p,y){return p instanceof Hs?new Ki(c,Rs(c.mode,p.state),y,p.lookAhead):new Ki(c,Rs(c.mode,p),y)},Ki.prototype.save=function(c){var p=c!==!1?Rs(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Hs(p,this.maxLookAhead):p};function cl(c,p,y,b){var x=[c.state.modeGen],T={};gl(c,p.text,c.doc.mode,y,function(H,J){return x.push(H,J)},T,b);for(var F=y.state,P=function(H){y.baseTokens=x;var J=c.state.overlays[H],ne=1,ye=0;y.state=!0,gl(c,p.text,J.mode,y,function(pe,Ae){for(var Re=ne;ye<pe;){var We=x[ne];We>pe&&x.splice(ne,1,pe,x[ne+1],We),ne+=2,ye=Math.min(pe,We)}if(Ae)if(J.opaque)x.splice(Re,ne-Re,pe,"overlay "+Ae),ne=Re+2;else for(;Re<ne;Re+=2){var qe=x[Re+1];x[Re+1]=(qe?qe+" ":"")+"overlay "+Ae}},T),y.state=F,y.baseTokens=null,y.baseTokenPos=1},R=0;R<c.state.overlays.length;++R)P(R);return{styles:x,classes:T.bgClass||T.textClass?T:null}}function dl(c,p,y){if(!p.styles||p.styles[0]!=c.state.modeGen){var b=ja(c,Rt(p)),x=p.text.length>c.options.maxHighlightLength&&Rs(c.doc.mode,b.state),T=cl(c,p,b);x&&(b.state=x),p.stateAfter=b.save(!x),p.styles=T.styles,T.classes?p.styleClasses=T.classes:p.styleClasses&&(p.styleClasses=null),y===c.doc.highlightFrontier&&(c.doc.modeFrontier=Math.max(c.doc.modeFrontier,++c.doc.highlightFrontier))}return p.styles}function ja(c,p,y){var b=c.doc,x=c.display;if(!b.mode.startState)return new Ki(b,!0,p);var T=cc(c,p,y),F=T>b.first&&at(b,T-1).stateAfter,P=F?Ki.fromSaved(b,F,T):new Ki(b,lc(b.mode),T);return b.iter(T,p,function(R){Sr(c,R.text,P);var H=P.line;R.stateAfter=H==p-1||H%5==0||H>=x.viewFrom&&H<x.viewTo?P.save():null,P.nextLine()}),y&&(b.modeFrontier=P.line),P}function Sr(c,p,y,b){var x=c.doc.mode,T=new xn(p,c.options.tabSize,y);for(T.start=T.pos=b||0,p==""&&hl(x,y.state);!T.eol();)Dr(x,T,y.state),T.start=T.pos}function hl(c,p){if(c.blankLine)return c.blankLine(p);if(c.innerMode){var y=Cr(c,p);if(y.mode.blankLine)return y.mode.blankLine(y.state)}}function Dr(c,p,y,b){for(var x=0;x<10;x++){b&&(b[0]=Cr(c,y).mode);var T=c.token(p,y);if(p.pos>p.start)return T}throw new Error("Mode "+c.name+" failed to advance stream.")}var fl=function(c,p,y){this.start=c.start,this.end=c.pos,this.string=c.current(),this.type=p||null,this.state=y};function pl(c,p,y,b){var x=c.doc,T=x.mode,F;p=_t(x,p);var P=at(x,p.line),R=ja(c,p.line,y),H=new xn(P.text,c.options.tabSize,R),J;for(b&&(J=[]);(b||H.pos<p.ch)&&!H.eol();)H.start=H.pos,F=Dr(T,H,R.state),b&&J.push(new fl(H,F,Rs(x.mode,R.state)));return b?J:new fl(H,F,R.state)}function ml(c,p){if(c)for(;;){var y=c.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!y)break;c=c.slice(0,y.index)+c.slice(y.index+y[0].length);var b=y[1]?"bgClass":"textClass";p[b]==null?p[b]=y[2]:new RegExp("(?:^|\\s)"+y[2]+"(?:$|\\s)").test(p[b])||(p[b]+=" "+y[2])}return c}function gl(c,p,y,b,x,T,F){var P=y.flattenSpans;P==null&&(P=c.options.flattenSpans);var R=0,H=null,J=new xn(p,c.options.tabSize,b),ne,ye=c.options.addModeClass&&[null];for(p==""&&ml(hl(y,b.state),T);!J.eol();){if(J.pos>c.options.maxHighlightLength?(P=!1,F&&Sr(c,p,b,J.pos),J.pos=p.length,ne=null):ne=ml(Dr(y,J,b.state,ye),T),ye){var pe=ye[0].name;pe&&(ne="m-"+(ne?pe+" "+ne:pe))}if(!P||H!=ne){for(;R<J.start;)R=Math.min(J.start,R+5e3),x(R,H);H=ne}J.start=J.pos}for(;R<J.pos;){var Ae=Math.min(J.pos,R+5e3);x(Ae,H),R=Ae}}function cc(c,p,y){for(var b,x,T=c.doc,F=y?-1:p-(c.doc.mode.innerMode?1e3:100),P=p;P>F;--P){if(P<=T.first)return T.first;var R=at(T,P-1),H=R.stateAfter;if(H&&(!y||P+(H instanceof Hs?H.lookAhead:0)<=T.modeFrontier))return P;var J=Mt(R.text,null,c.options.tabSize);(x==null||b>J)&&(x=P-1,b=J)}return x}function Th(c,p){if(c.modeFrontier=Math.min(c.modeFrontier,p),!(c.highlightFrontier<p-10)){for(var y=c.first,b=p-1;b>y;b--){var x=at(c,b).stateAfter;if(x&&(!(x instanceof Hs)||b+x.lookAhead<p)){y=b+1;break}}c.highlightFrontier=Math.min(c.highlightFrontier,y)}}var vl=!1,Oi=!1;function dc(){vl=!0}function Eh(){Oi=!0}function Tr(c,p,y){this.marker=c,this.from=p,this.to=y}function Lo(c,p){if(c)for(var y=0;y<c.length;++y){var b=c[y];if(b.marker==p)return b}}function Ah(c,p){for(var y,b=0;b<c.length;++b)c[b]!=p&&(y||(y=[])).push(c[b]);return y}function Fh(c,p,y){var b=y&&window.WeakSet&&(y.markedSpans||(y.markedSpans=new WeakSet));b&&c.markedSpans&&b.has(c.markedSpans)?c.markedSpans.push(p):(c.markedSpans=c.markedSpans?c.markedSpans.concat([p]):[p],b&&b.add(c.markedSpans)),p.marker.attachLine(c)}function Ua(c,p,y){var b;if(c)for(var x=0;x<c.length;++x){var T=c[x],F=T.marker,P=T.from==null||(F.inclusiveLeft?T.from<=p:T.from<p);if(P||T.from==p&&F.type=="bookmark"&&(!y||!T.marker.insertLeft)){var R=T.to==null||(F.inclusiveRight?T.to>=p:T.to>p);(b||(b=[])).push(new Tr(F,T.from,R?null:T.to))}}return b}function Ih(c,p,y){var b;if(c)for(var x=0;x<c.length;++x){var T=c[x],F=T.marker,P=T.to==null||(F.inclusiveRight?T.to>=p:T.to>p);if(P||T.from==p&&F.type=="bookmark"&&(!y||T.marker.insertLeft)){var R=T.from==null||(F.inclusiveLeft?T.from<=p:T.from<p);(b||(b=[])).push(new Tr(F,R?null:T.from-p,T.to==null?null:T.to-p))}}return b}function ft(c,p){if(p.full)return null;var y=Wa(c,p.from.line)&&at(c,p.from.line).markedSpans,b=Wa(c,p.to.line)&&at(c,p.to.line).markedSpans;if(!y&&!b)return null;var x=p.from.ch,T=p.to.ch,F=vt(p.from,p.to)==0,P=Ua(y,x,F),R=Ih(b,T,F),H=p.text.length==1,J=st(p.text).length+(H?x:0);if(P)for(var ne=0;ne<P.length;++ne){var ye=P[ne];if(ye.to==null){var pe=Lo(R,ye.marker);pe?H&&(ye.to=pe.to==null?null:pe.to+J):ye.to=x}}if(R)for(var Ae=0;Ae<R.length;++Ae){var Re=R[Ae];if(Re.to!=null&&(Re.to+=J),Re.from==null){var We=Lo(P,Re.marker);We||(Re.from=J,H&&(P||(P=[])).push(Re))}else Re.from+=J,H&&(P||(P=[])).push(Re)}P&&(P=Kn(P)),R&&R!=P&&(R=Kn(R));var qe=[P];if(!H){var Ze=p.text.length-2,Ye;if(Ze>0&&P)for(var tt=0;tt<P.length;++tt)P[tt].to==null&&(Ye||(Ye=[])).push(new Tr(P[tt].marker,null,null));for(var dt=0;dt<Ze;++dt)qe.push(Ye);qe.push(R)}return qe}function Kn(c){for(var p=0;p<c.length;++p){var y=c[p];y.from!=null&&y.from==y.to&&y.marker.clearWhenEmpty!==!1&&c.splice(p--,1)}return c.length?c:null}function Lh(c,p,y){var b=null;if(c.iter(p.line,y.line+1,function(pe){if(pe.markedSpans)for(var Ae=0;Ae<pe.markedSpans.length;++Ae){var Re=pe.markedSpans[Ae].marker;Re.readOnly&&(!b||kt(b,Re)==-1)&&(b||(b=[])).push(Re)}}),!b)return null;for(var x=[{from:p,to:y}],T=0;T<b.length;++T)for(var F=b[T],P=F.find(0),R=0;R<x.length;++R){var H=x[R];if(!(vt(H.to,P.from)<0||vt(H.from,P.to)>0)){var J=[R,1],ne=vt(H.from,P.from),ye=vt(H.to,P.to);(ne<0||!F.inclusiveLeft&&!ne)&&J.push({from:H.from,to:P.from}),(ye>0||!F.inclusiveRight&&!ye)&&J.push({from:P.to,to:H.to}),x.splice.apply(x,J),R+=J.length-3}}return x}function Vs(c){var p=c.markedSpans;if(p){for(var y=0;y<p.length;++y)p[y].marker.detachLine(c);c.markedSpans=null}}function Ms(c,p){if(p){for(var y=0;y<p.length;++y)p[y].marker.attachLine(c);c.markedSpans=p}}function vs(c){return c.inclusiveLeft?-1:0}function rs(c){return c.inclusiveRight?1:0}function Ws(c,p){var y=c.lines.length-p.lines.length;if(y!=0)return y;var b=c.find(),x=p.find(),T=vt(b.from,x.from)||vs(c)-vs(p);if(T)return-T;var F=vt(b.to,x.to)||rs(c)-rs(p);return F||p.id-c.id}function bl(c,p){var y=Oi&&c.markedSpans,b;if(y)for(var x=void 0,T=0;T<y.length;++T)x=y[T],x.marker.collapsed&&(p?x.from:x.to)==null&&(!b||Ws(b,x.marker)<0)&&(b=x.marker);return b}function yl(c){return bl(c,!0)}function Oo(c){return bl(c,!1)}function _l(c,p){var y=Oi&&c.markedSpans,b;if(y)for(var x=0;x<y.length;++x){var T=y[x];T.marker.collapsed&&(T.from==null||T.from<p)&&(T.to==null||T.to>p)&&(!b||Ws(b,T.marker)<0)&&(b=T.marker)}return b}function bs(c,p,y,b,x){var T=at(c,p),F=Oi&&T.markedSpans;if(F)for(var P=0;P<F.length;++P){var R=F[P];if(R.marker.collapsed){var H=R.marker.find(0),J=vt(H.from,y)||vs(R.marker)-vs(x),ne=vt(H.to,b)||rs(R.marker)-rs(x);if(!(J>=0&&ne<=0||J<=0&&ne>=0)&&(J<=0&&(R.marker.inclusiveRight&&x.inclusiveLeft?vt(H.to,y)>=0:vt(H.to,y)>0)||J>=0&&(R.marker.inclusiveRight&&x.inclusiveLeft?vt(H.from,b)<=0:vt(H.from,b)<0)))return!0}}}function Pi(c){for(var p;p=yl(c);)c=p.find(-1,!0).line;return c}function Oh(c){for(var p;p=Oo(c);)c=p.find(1,!0).line;return c}function Ph(c){for(var p,y;p=Oo(c);)c=p.find(1,!0).line,(y||(y=[])).push(c);return y}function Cl(c,p){var y=at(c,p),b=Pi(y);return y==b?p:Rt(b)}function ni(c,p){if(p>c.lastLine())return p;var y=at(c,p),b;if(!M(c,y))return p;for(;b=Oo(y);)y=b.find(1,!0).line;return Rt(y)+1}function M(c,p){var y=Oi&&p.markedSpans;if(y){for(var b=void 0,x=0;x<y.length;++x)if(b=y[x],!!b.marker.collapsed){if(b.from==null)return!0;if(!b.marker.widgetNode&&b.from==0&&b.marker.inclusiveLeft&&Er(c,p,b))return!0}}}function Er(c,p,y){if(y.to==null){var b=y.marker.find(1,!0);return Er(c,b.line,Lo(b.line.markedSpans,y.marker))}if(y.marker.inclusiveRight&&y.to==p.text.length)return!0;for(var x=void 0,T=0;T<p.markedSpans.length;++T)if(x=p.markedSpans[T],x.marker.collapsed&&!x.marker.widgetNode&&x.from==y.to&&(x.to==null||x.to!=y.from)&&(x.marker.inclusiveLeft||y.marker.inclusiveRight)&&Er(c,p,x))return!0}function Fi(c){c=Pi(c);for(var p=0,y=c.parent,b=0;b<y.lines.length;++b){var x=y.lines[b];if(x==c)break;p+=x.height}for(var T=y.parent;T;y=T,T=y.parent)for(var F=0;F<T.children.length;++F){var P=T.children[F];if(P==y)break;p+=P.height}return p}function Xi(c){if(c.height==0)return 0;for(var p=c.text.length,y,b=c;y=yl(b);){var x=y.find(0,!0);b=x.from.line,p+=x.from.ch-x.to.ch}for(b=c;y=Oo(b);){var T=y.find(0,!0);p-=b.text.length-T.from.ch,b=T.to.line,p+=b.text.length-T.to.ch}return p}function wl(c){var p=c.display,y=c.doc;p.maxLine=at(y,y.first),p.maxLineLength=Xi(p.maxLine),p.maxLineChanged=!0,y.iter(function(b){var x=Xi(b);x>p.maxLineLength&&(p.maxLineLength=x,p.maxLine=b)})}var qa=function(c,p,y){this.text=c,Ms(this,p),this.height=y?y(this):1};qa.prototype.lineNo=function(){return Rt(this)},Ct(qa);function ys(c,p,y,b){c.text=p,c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null),c.order!=null&&(c.order=null),Vs(c),Ms(c,y);var x=b?b(c):1;x!=c.height&&Gi(c,x)}function Bh(c){c.parent=null,Vs(c)}var Nh={},Rh={};function hc(c,p){if(!c||/^\s*$/.test(c))return null;var y=p.addModeClass?Rh:Nh;return y[c]||(y[c]=c.replace(/\S+/g,"cm-$&"))}function fc(c,p){var y=Ne("span",null,null,A?"padding-right: .1px":null),b={pre:Ne("pre",[y],"CodeMirror-line"),content:y,col:0,pos:0,cm:c,trailingSpace:!1,splitSpaces:c.getOption("lineWrapping")};p.measure={};for(var x=0;x<=(p.rest?p.rest.length:0);x++){var T=x?p.rest[x-1]:p.line,F=void 0;b.pos=0,b.addToken=zh,Va(c.display.measure)&&(F=le(T,c.doc.direction))&&(b.addToken=Vh(b.addToken,F)),b.map=[];var P=p!=c.display.externalMeasured&&Rt(T);gc(T,b,dl(c,T,P)),T.styleClasses&&(T.styleClasses.bgClass&&(b.bgClass=ei(T.styleClasses.bgClass,b.bgClass||"")),T.styleClasses.textClass&&(b.textClass=ei(T.styleClasses.textClass,b.textClass||""))),b.map.length==0&&b.map.push(0,0,b.content.appendChild(Eo(c.display.measure))),x==0?(p.measure.map=b.map,p.measure.cache={}):((p.measure.maps||(p.measure.maps=[])).push(b.map),(p.measure.caches||(p.measure.caches=[])).push({}))}if(A){var R=b.content.lastChild;(/\bcm-tab\b/.test(R.className)||R.querySelector&&R.querySelector(".cm-tab"))&&(b.content.className="cm-tab-wrap-hack")}return et(c,"renderLine",c,p.line,b.pre),b.pre.className&&(b.textClass=ei(b.pre.className,b.textClass||"")),b}function pc(c){var p=ce("span","•","cm-invalidchar");return p.title="\\u"+c.charCodeAt(0).toString(16),p.setAttribute("aria-label",p.title),p}function zh(c,p,y,b,x,T,F){if(p){var P=c.splitSpaces?Hh(p,c.trailingSpace):p,R=c.cm.state.specialChars,H=!1,J;if(!R.test(p))c.col+=p.length,J=document.createTextNode(P),c.map.push(c.pos,c.pos+p.length,J),S&&D<9&&(H=!0),c.pos+=p.length;else{J=document.createDocumentFragment();for(var ne=0;;){R.lastIndex=ne;var ye=R.exec(p),pe=ye?ye.index-ne:p.length-ne;if(pe){var Ae=document.createTextNode(P.slice(ne,ne+pe));S&&D<9?J.appendChild(ce("span",[Ae])):J.appendChild(Ae),c.map.push(c.pos,c.pos+pe,Ae),c.col+=pe,c.pos+=pe}if(!ye)break;ne+=pe+1;var Re=void 0;if(ye[0]=="	"){var We=c.cm.options.tabSize,qe=We-c.col%We;Re=J.appendChild(ce("span",Ei(qe),"cm-tab")),Re.setAttribute("role","presentation"),Re.setAttribute("cm-text","	"),c.col+=qe}else ye[0]=="\r"||ye[0]==`
`?(Re=J.appendChild(ce("span",ye[0]=="\r"?"␍":"␤","cm-invalidchar")),Re.setAttribute("cm-text",ye[0]),c.col+=1):(Re=c.cm.options.specialCharPlaceholder(ye[0]),Re.setAttribute("cm-text",ye[0]),S&&D<9?J.appendChild(ce("span",[Re])):J.appendChild(Re),c.col+=1);c.map.push(c.pos,c.pos+1,Re),c.pos++}}if(c.trailingSpace=P.charCodeAt(p.length-1)==32,y||b||x||H||T||F){var Ze=y||"";b&&(Ze+=b),x&&(Ze+=x);var Ye=ce("span",[J],Ze,T);if(F)for(var tt in F)F.hasOwnProperty(tt)&&tt!="style"&&tt!="class"&&Ye.setAttribute(tt,F[tt]);return c.content.appendChild(Ye)}c.content.appendChild(J)}}function Hh(c,p){if(c.length>1&&!/  /.test(c))return c;for(var y=p,b="",x=0;x<c.length;x++){var T=c.charAt(x);T==" "&&y&&(x==c.length-1||c.charCodeAt(x+1)==32)&&(T=" "),b+=T,y=T==" "}return b}function Vh(c,p){return function(y,b,x,T,F,P,R){x=x?x+" cm-force-border":"cm-force-border";for(var H=y.pos,J=H+b.length;;){for(var ne=void 0,ye=0;ye<p.length&&(ne=p[ye],!(ne.to>H&&ne.from<=H));ye++);if(ne.to>=J)return c(y,b,x,T,F,P,R);c(y,b.slice(0,ne.to-H),x,T,null,P,R),T=null,b=b.slice(ne.to-H),H=ne.to}}}function mc(c,p,y,b){var x=!b&&y.widgetNode;x&&c.map.push(c.pos,c.pos+p,x),!b&&c.cm.display.input.needsContentAttribute&&(x||(x=c.content.appendChild(document.createElement("span"))),x.setAttribute("cm-marker",y.id)),x&&(c.cm.display.input.setUneditable(x),c.content.appendChild(x)),c.pos+=p,c.trailingSpace=!1}function gc(c,p,y){var b=c.markedSpans,x=c.text,T=0;if(!b){for(var F=1;F<y.length;F+=2)p.addToken(p,x.slice(T,T=y[F]),hc(y[F+1],p.cm.options));return}for(var P=x.length,R=0,H=1,J="",ne,ye,pe=0,Ae,Re,We,qe,Ze;;){if(pe==R){Ae=Re=We=ye="",Ze=null,qe=null,pe=1/0;for(var Ye=[],tt=void 0,dt=0;dt<b.length;++dt){var ct=b[dt],St=ct.marker;if(St.type=="bookmark"&&ct.from==R&&St.widgetNode)Ye.push(St);else if(ct.from<=R&&(ct.to==null||ct.to>R||St.collapsed&&ct.to==R&&ct.from==R)){if(ct.to!=null&&ct.to!=R&&pe>ct.to&&(pe=ct.to,Re=""),St.className&&(Ae+=" "+St.className),St.css&&(ye=(ye?ye+";":"")+St.css),St.startStyle&&ct.from==R&&(We+=" "+St.startStyle),St.endStyle&&ct.to==pe&&(tt||(tt=[])).push(St.endStyle,ct.to),St.title&&((Ze||(Ze={})).title=St.title),St.attributes)for(var qt in St.attributes)(Ze||(Ze={}))[qt]=St.attributes[qt];St.collapsed&&(!qe||Ws(qe.marker,St)<0)&&(qe=ct)}else ct.from>R&&pe>ct.from&&(pe=ct.from)}if(tt)for(var An=0;An<tt.length;An+=2)tt[An+1]==pe&&(Re+=" "+tt[An]);if(!qe||qe.from==R)for(var nn=0;nn<Ye.length;++nn)mc(p,0,Ye[nn]);if(qe&&(qe.from||0)==R){if(mc(p,(qe.to==null?P+1:qe.to)-R,qe.marker,qe.from==null),qe.to==null)return;qe.to==R&&(qe=!1)}}if(R>=P)break;for(var pi=Math.min(P,pe);;){if(J){var mi=R+J.length;if(!qe){var yn=mi>pi?J.slice(0,pi-R):J;p.addToken(p,yn,ne?ne+Ae:Ae,We,R+yn.length==pe?Re:"",ye,Ze)}if(mi>=pi){J=J.slice(pi-R),R=pi;break}R=mi,We=""}J=x.slice(T,T=y[H++]),ne=hc(y[H++],p.cm.options)}}}function Ar(c,p,y){this.line=p,this.rest=Ph(p),this.size=this.rest?Rt(st(this.rest))-y+1:1,this.node=this.text=null,this.hidden=M(c,p)}function Fr(c,p,y){for(var b=[],x,T=p;T<y;T=x){var F=new Ar(c.doc,at(c.doc,T),T);x=T+F.size,b.push(F)}return b}var Ya=null;function Mh(c){Ya?Ya.ops.push(c):c.ownsGroup=Ya={ops:[c],delayedCallbacks:[]}}function vc(c){var p=c.delayedCallbacks,y=0;do{for(;y<p.length;y++)p[y].call(null);for(var b=0;b<c.ops.length;b++){var x=c.ops[b];if(x.cursorActivityHandlers)for(;x.cursorActivityCalled<x.cursorActivityHandlers.length;)x.cursorActivityHandlers[x.cursorActivityCalled++].call(null,x.cm)}}while(y<p.length)}function bc(c,p){var y=c.ownsGroup;if(y)try{vc(y)}finally{Ya=null,p(y)}}var Po=null;function Dn(c,p){var y=Ue(c,p);if(y.length){var b=Array.prototype.slice.call(arguments,2),x;Ya?x=Ya.delayedCallbacks:Po?x=Po:(x=Po=[],setTimeout(ls,0));for(var T=function(P){x.push(function(){return y[P].apply(null,b)})},F=0;F<y.length;++F)T(F)}}function ls(){var c=Po;Po=null;for(var p=0;p<c.length;++p)c[p]()}function Ir(c,p,y,b){for(var x=0;x<p.changes.length;x++){var T=p.changes[x];T=="text"?Wh(c,p):T=="gutter"?yc(c,p,y,b):T=="class"?js(c,p):T=="widget"&&Ga(c,p,b)}p.changes=null}function Bo(c){return c.node==c.text&&(c.node=ce("div",null,null,"position: relative"),c.text.parentNode&&c.text.parentNode.replaceChild(c.node,c.text),c.node.appendChild(c.text),S&&D<8&&(c.node.style.zIndex=2)),c.node}function xl(c,p){var y=p.bgClass?p.bgClass+" "+(p.line.bgClass||""):p.line.bgClass;if(y&&(y+=" CodeMirror-linebackground"),p.background)y?p.background.className=y:(p.background.parentNode.removeChild(p.background),p.background=null);else if(y){var b=Bo(p);p.background=b.insertBefore(ce("div",null,y),b.firstChild),c.display.input.setUneditable(p.background)}}function pa(c,p){var y=c.display.externalMeasured;return y&&y.line==p.line?(c.display.externalMeasured=null,p.measure=y.measure,y.built):fc(c,p)}function Wh(c,p){var y=p.text.className,b=pa(c,p);p.text==p.node&&(p.node=b.pre),p.text.parentNode.replaceChild(b.pre,p.text),p.text=b.pre,b.bgClass!=p.bgClass||b.textClass!=p.textClass?(p.bgClass=b.bgClass,p.textClass=b.textClass,js(c,p)):y&&(p.text.className=y)}function js(c,p){xl(c,p),p.line.wrapClass?Bo(p).className=p.line.wrapClass:p.node!=p.text&&(p.node.className="");var y=p.textClass?p.textClass+" "+(p.line.textClass||""):p.line.textClass;p.text.className=y||""}function yc(c,p,y,b){if(p.gutter&&(p.node.removeChild(p.gutter),p.gutter=null),p.gutterBackground&&(p.node.removeChild(p.gutterBackground),p.gutterBackground=null),p.line.gutterClass){var x=Bo(p);p.gutterBackground=ce("div",null,"CodeMirror-gutter-background "+p.line.gutterClass,"left: "+(c.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px; width: "+b.gutterTotalWidth+"px"),c.display.input.setUneditable(p.gutterBackground),x.insertBefore(p.gutterBackground,p.text)}var T=p.line.gutterMarkers;if(c.options.lineNumbers||T){var F=Bo(p),P=p.gutter=ce("div",null,"CodeMirror-gutter-wrapper","left: "+(c.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px");if(P.setAttribute("aria-hidden","true"),c.display.input.setUneditable(P),F.insertBefore(P,p.text),p.line.gutterClass&&(P.className+=" "+p.line.gutterClass),c.options.lineNumbers&&(!T||!T["CodeMirror-linenumbers"])&&(p.lineNumber=P.appendChild(ce("div",wr(c.options,y),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+b.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+c.display.lineNumInnerWidth+"px"))),T)for(var R=0;R<c.display.gutterSpecs.length;++R){var H=c.display.gutterSpecs[R].className,J=T.hasOwnProperty(H)&&T[H];J&&P.appendChild(ce("div",[J],"CodeMirror-gutter-elt","left: "+b.gutterLeft[H]+"px; width: "+b.gutterWidth[H]+"px"))}}}function Ga(c,p,y){p.alignable&&(p.alignable=null);for(var b=Le("CodeMirror-linewidget"),x=p.node.firstChild,T=void 0;x;x=T)T=x.nextSibling,b.test(x.className)&&p.node.removeChild(x);_c(c,p,y)}function jh(c,p,y,b){var x=pa(c,p);return p.text=p.node=x.pre,x.bgClass&&(p.bgClass=x.bgClass),x.textClass&&(p.textClass=x.textClass),js(c,p),yc(c,p,y,b),_c(c,p,b),p.node}function _c(c,p,y){if(kl(c,p.line,p,y,!0),p.rest)for(var b=0;b<p.rest.length;b++)kl(c,p.rest[b],p,y,!1)}function kl(c,p,y,b,x){if(p.widgets)for(var T=Bo(y),F=0,P=p.widgets;F<P.length;++F){var R=P[F],H=ce("div",[R.node],"CodeMirror-linewidget"+(R.className?" "+R.className:""));R.handleMouseEvents||H.setAttribute("cm-ignore-events","true"),Cc(R,H,y,b),c.display.input.setUneditable(H),x&&R.above?T.insertBefore(H,y.gutter||y.text):T.appendChild(H),Dn(R,"redraw")}}function Cc(c,p,y,b){if(c.noHScroll){(y.alignable||(y.alignable=[])).push(p);var x=b.wrapperWidth;p.style.left=b.fixedPos+"px",c.coverGutter||(x-=b.gutterTotalWidth,p.style.paddingLeft=b.gutterTotalWidth+"px"),p.style.width=x+"px"}c.coverGutter&&(p.style.zIndex=5,p.style.position="relative",c.noHScroll||(p.style.marginLeft=-b.gutterTotalWidth+"px"))}function No(c){if(c.height!=null)return c.height;var p=c.doc.cm;if(!p)return 0;if(!Qe(document.body,c.node)){var y="position: relative;";c.coverGutter&&(y+="margin-left: -"+p.display.gutters.offsetWidth+"px;"),c.noHScroll&&(y+="width: "+p.display.wrapper.clientWidth+"px;"),rt(p.display.measure,ce("div",[c.node],null,y))}return c.height=c.node.parentNode.offsetHeight}function _s(c,p){for(var y=ti(p);y!=c.wrapper;y=y.parentNode)if(!y||y.nodeType==1&&y.getAttribute("cm-ignore-events")=="true"||y.parentNode==c.sizer&&y!=c.mover)return!0}function Lr(c){return c.lineSpace.offsetTop}function Sl(c){return c.mover.offsetHeight-c.lineSpace.offsetHeight}function wc(c){if(c.cachedPaddingH)return c.cachedPaddingH;var p=rt(c.measure,ce("pre","x","CodeMirror-line-like")),y=window.getComputedStyle?window.getComputedStyle(p):p.currentStyle,b={left:parseInt(y.paddingLeft),right:parseInt(y.paddingRight)};return!isNaN(b.left)&&!isNaN(b.right)&&(c.cachedPaddingH=b),b}function Zi(c){return Pt-c.display.nativeBarWidth}function ma(c){return c.display.scroller.clientWidth-Zi(c)-c.display.barWidth}function Ro(c){return c.display.scroller.clientHeight-Zi(c)-c.display.barHeight}function Uh(c,p,y){var b=c.options.lineWrapping,x=b&&ma(c);if(!p.measure.heights||b&&p.measure.width!=x){var T=p.measure.heights=[];if(b){p.measure.width=x;for(var F=p.text.firstChild.getClientRects(),P=0;P<F.length-1;P++){var R=F[P],H=F[P+1];Math.abs(R.bottom-H.bottom)>2&&T.push((R.bottom+H.top)/2-y.top)}}T.push(y.bottom-y.top)}}function xc(c,p,y){if(c.line==p)return{map:c.measure.map,cache:c.measure.cache};if(c.rest){for(var b=0;b<c.rest.length;b++)if(c.rest[b]==p)return{map:c.measure.maps[b],cache:c.measure.caches[b]};for(var x=0;x<c.rest.length;x++)if(Rt(c.rest[x])>y)return{map:c.measure.maps[x],cache:c.measure.caches[x],before:!0}}}function qh(c,p){p=Pi(p);var y=Rt(p),b=c.display.externalMeasured=new Ar(c.doc,p,y);b.lineN=y;var x=b.built=fc(c,b);return b.text=x.pre,rt(c.display.lineMeasure,x.pre),b}function kc(c,p,y,b){return us(c,Ka(c,p),y,b)}function Dl(c,p){if(p>=c.display.viewFrom&&p<c.display.viewTo)return c.display.view[Ji(c,p)];var y=c.display.externalMeasured;if(y&&p>=y.lineN&&p<y.lineN+y.size)return y}function Ka(c,p){var y=Rt(p),b=Dl(c,y);b&&!b.text?b=null:b&&b.changes&&(Ir(c,b,y,xi(c)),c.curOp.forceUpdate=!0),b||(b=qh(c,p));var x=xc(b,p,y);return{line:p,view:b,rect:null,map:x.map,cache:x.cache,before:x.before,hasHeights:!1}}function us(c,p,y,b,x){p.before&&(y=-1);var T=y+(b||""),F;return p.cache.hasOwnProperty(T)?F=p.cache[T]:(p.rect||(p.rect=p.view.text.getBoundingClientRect()),p.hasHeights||(Uh(c,p.view,p.rect),p.hasHeights=!0),F=Gh(c,p,y,b),F.bogus||(p.cache[T]=F)),{left:F.left,right:F.right,top:x?F.rtop:F.top,bottom:x?F.rbottom:F.bottom}}var Sc={left:0,right:0,top:0,bottom:0};function Us(c,p,y){for(var b,x,T,F,P,R,H=0;H<c.length;H+=3)if(P=c[H],R=c[H+1],p<P?(x=0,T=1,F="left"):p<R?(x=p-P,T=x+1):(H==c.length-3||p==R&&c[H+3]>p)&&(T=R-P,x=T-1,p>=R&&(F="right")),x!=null){if(b=c[H+2],P==R&&y==(b.insertLeft?"left":"right")&&(F=y),y=="left"&&x==0)for(;H&&c[H-2]==c[H-3]&&c[H-1].insertLeft;)b=c[(H-=3)+2],F="left";if(y=="right"&&x==R-P)for(;H<c.length-3&&c[H+3]==c[H+4]&&!c[H+5].insertLeft;)b=c[(H+=3)+2],F="right";break}return{node:b,start:x,end:T,collapse:F,coverStart:P,coverEnd:R}}function Yh(c,p){var y=Sc;if(p=="left")for(var b=0;b<c.length&&(y=c[b]).left==y.right;b++);else for(var x=c.length-1;x>=0&&(y=c[x]).left==y.right;x--);return y}function Gh(c,p,y,b){var x=Us(p.map,y,b),T=x.node,F=x.start,P=x.end,R=x.collapse,H;if(T.nodeType==3){for(var J=0;J<4;J++){for(;F&&L(p.line.text.charAt(x.coverStart+F));)--F;for(;x.coverStart+P<x.coverEnd&&L(p.line.text.charAt(x.coverStart+P));)++P;if(S&&D<9&&F==0&&P==x.coverEnd-x.coverStart?H=T.parentNode.getBoundingClientRect():H=Yh(Pe(T,F,P).getClientRects(),b),H.left||H.right||F==0)break;P=F,F=F-1,R="right"}S&&D<11&&(H=Kh(c.display.measure,H))}else{F>0&&(R=b="right");var ne;c.options.lineWrapping&&(ne=T.getClientRects()).length>1?H=ne[b=="right"?ne.length-1:0]:H=T.getBoundingClientRect()}if(S&&D<9&&!F&&(!H||!H.left&&!H.right)){var ye=T.parentNode.getClientRects()[0];ye?H={left:ye.left,right:ye.left+wi(c.display),top:ye.top,bottom:ye.bottom}:H=Sc}for(var pe=H.top-p.rect.top,Ae=H.bottom-p.rect.top,Re=(pe+Ae)/2,We=p.view.measure.heights,qe=0;qe<We.length-1&&!(Re<We[qe]);qe++);var Ze=qe?We[qe-1]:0,Ye=We[qe],tt={left:(R=="right"?H.right:H.left)-p.rect.left,right:(R=="left"?H.left:H.right)-p.rect.left,top:Ze,bottom:Ye};return!H.left&&!H.right&&(tt.bogus=!0),c.options.singleCursorHeightPerLine||(tt.rtop=pe,tt.rbottom=Ae),tt}function Kh(c,p){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ai(c))return p;var y=screen.logicalXDPI/screen.deviceXDPI,b=screen.logicalYDPI/screen.deviceYDPI;return{left:p.left*y,right:p.right*y,top:p.top*b,bottom:p.bottom*b}}function Dc(c){if(c.measure&&(c.measure.cache={},c.measure.heights=null,c.rest))for(var p=0;p<c.rest.length;p++)c.measure.caches[p]={}}function Tc(c){c.display.externalMeasure=null,it(c.display.lineMeasure);for(var p=0;p<c.display.view.length;p++)Dc(c.display.view[p])}function zo(c){Tc(c),c.display.cachedCharWidth=c.display.cachedTextHeight=c.display.cachedPaddingH=null,c.options.lineWrapping||(c.display.maxLineChanged=!0),c.display.lineNumChars=null}function Ec(c){return N&&re?-(c.body.getBoundingClientRect().left-parseInt(getComputedStyle(c.body).marginLeft)):c.defaultView.pageXOffset||(c.documentElement||c.body).scrollLeft}function Ac(c){return N&&re?-(c.body.getBoundingClientRect().top-parseInt(getComputedStyle(c.body).marginTop)):c.defaultView.pageYOffset||(c.documentElement||c.body).scrollTop}function Tl(c){var p=Pi(c),y=p.widgets,b=0;if(y)for(var x=0;x<y.length;++x)y[x].above&&(b+=No(y[x]));return b}function Or(c,p,y,b,x){if(!x){var T=Tl(p);y.top+=T,y.bottom+=T}if(b=="line")return y;b||(b="local");var F=Fi(p);if(b=="local"?F+=Lr(c.display):F-=c.display.viewOffset,b=="page"||b=="window"){var P=c.display.lineSpace.getBoundingClientRect();F+=P.top+(b=="window"?0:Ac(W(c)));var R=P.left+(b=="window"?0:Ec(W(c)));y.left+=R,y.right+=R}return y.top+=F,y.bottom+=F,y}function El(c,p,y){if(y=="div")return p;var b=p.left,x=p.top;if(y=="page")b-=Ec(W(c)),x-=Ac(W(c));else if(y=="local"||!y){var T=c.display.sizer.getBoundingClientRect();b+=T.left,x+=T.top}var F=c.display.lineSpace.getBoundingClientRect();return{left:b-F.left,top:x-F.top}}function vn(c,p,y,b,x){return b||(b=at(c.doc,p.line)),Or(c,b,kc(c,b,p.ch,x),y)}function li(c,p,y,b,x,T){b=b||at(c.doc,p.line),x||(x=Ka(c,b));function F(Ae,Re){var We=us(c,x,Ae,Re?"right":"left",T);return Re?We.left=We.right:We.right=We.left,Or(c,b,We,y)}var P=le(b,c.doc.direction),R=p.ch,H=p.sticky;if(R>=b.text.length?(R=b.text.length,H="before"):R<=0&&(R=0,H="after"),!P)return F(H=="before"?R-1:R,H=="before");function J(Ae,Re,We){var qe=P[Re],Ze=qe.level==1;return F(We?Ae-1:Ae,Ze!=We)}var ne=Ce(P,R,H),ye=de,pe=J(R,ne,H=="before");return ye!=null&&(pe.other=J(R,ye,H!="before")),pe}function Xa(c,p){var y=0;p=_t(c.doc,p),c.options.lineWrapping||(y=wi(c.display)*p.ch);var b=at(c.doc,p.line),x=Fi(b)+Lr(c.display);return{left:y,right:y,top:x,bottom:x+b.height}}function ui(c,p,y,b,x){var T=Ve(c,p,y);return T.xRel=x,b&&(T.outside=b),T}function Cs(c,p,y){var b=c.doc;if(y+=c.display.viewOffset,y<0)return ui(b.first,0,null,-1,-1);var x=zs(b,y),T=b.first+b.size-1;if(x>T)return ui(b.first+b.size-1,at(b,T).text.length,null,1,1);p<0&&(p=0);for(var F=at(b,x);;){var P=Xh(c,F,x,p,y),R=_l(F,P.ch+(P.xRel>0||P.outside>0?1:0));if(!R)return P;var H=R.find(1);if(H.line==x)return H;F=at(b,x=H.line)}}function Za(c,p,y,b){b-=Tl(p);var x=p.text.length,T=ee(function(F){return us(c,y,F-1).bottom<=b},x,0);return x=ee(function(F){return us(c,y,F).top>b},T,x),{begin:T,end:x}}function ga(c,p,y,b){y||(y=Ka(c,p));var x=Or(c,p,us(c,y,b),"line").top;return Za(c,p,y,x)}function Ho(c,p,y,b){return c.bottom<=y?!1:c.top>y?!0:(b?c.left:c.right)>p}function Xh(c,p,y,b,x){x-=Fi(p);var T=Ka(c,p),F=Tl(p),P=0,R=p.text.length,H=!0,J=le(p,c.doc.direction);if(J){var ne=(c.options.lineWrapping?bn:Fc)(c,p,y,T,J,b,x);H=ne.level!=1,P=H?ne.from:ne.to-1,R=H?ne.to:ne.from-1}var ye=null,pe=null,Ae=ee(function(dt){var ct=us(c,T,dt);return ct.top+=F,ct.bottom+=F,Ho(ct,b,x,!1)?(ct.top<=x&&ct.left<=b&&(ye=dt,pe=ct),!0):!1},P,R),Re,We,qe=!1;if(pe){var Ze=b-pe.left<pe.right-b,Ye=Ze==H;Ae=ye+(Ye?0:1),We=Ye?"after":"before",Re=Ze?pe.left:pe.right}else{!H&&(Ae==R||Ae==P)&&Ae++,We=Ae==0?"after":Ae==p.text.length?"before":us(c,T,Ae-(H?1:0)).bottom+F<=x==H?"after":"before";var tt=li(c,Ve(y,Ae,We),"line",p,T);Re=tt.left,qe=x<tt.top?-1:x>=tt.bottom?1:0}return Ae=z(p.text,Ae,1),ui(y,Ae,We,qe,b-Re)}function Fc(c,p,y,b,x,T,F){var P=ee(function(ne){var ye=x[ne],pe=ye.level!=1;return Ho(li(c,Ve(y,pe?ye.to:ye.from,pe?"before":"after"),"line",p,b),T,F,!0)},0,x.length-1),R=x[P];if(P>0){var H=R.level!=1,J=li(c,Ve(y,H?R.from:R.to,H?"after":"before"),"line",p,b);Ho(J,T,F,!0)&&J.top>F&&(R=x[P-1])}return R}function bn(c,p,y,b,x,T,F){var P=Za(c,p,b,F),R=P.begin,H=P.end;/\s/.test(p.text.charAt(H-1))&&H--;for(var J=null,ne=null,ye=0;ye<x.length;ye++){var pe=x[ye];if(!(pe.from>=H||pe.to<=R)){var Ae=pe.level!=1,Re=us(c,b,Ae?Math.min(H,pe.to)-1:Math.max(R,pe.from)).right,We=Re<T?T-Re+1e9:Re-T;(!J||ne>We)&&(J=pe,ne=We)}}return J||(J=x[x.length-1]),J.from<R&&(J={from:R,to:J.to,level:J.level}),J.to>H&&(J={from:J.from,to:H,level:J.level}),J}var cs;function Ja(c){if(c.cachedTextHeight!=null)return c.cachedTextHeight;if(cs==null){cs=ce("pre",null,"CodeMirror-line-like");for(var p=0;p<49;++p)cs.appendChild(document.createTextNode("x")),cs.appendChild(ce("br"));cs.appendChild(document.createTextNode("x"))}rt(c.measure,cs);var y=cs.offsetHeight/50;return y>3&&(c.cachedTextHeight=y),it(c.measure),y||1}function wi(c){if(c.cachedCharWidth!=null)return c.cachedCharWidth;var p=ce("span","xxxxxxxxxx"),y=ce("pre",[p],"CodeMirror-line-like");rt(c.measure,y);var b=p.getBoundingClientRect(),x=(b.right-b.left)/10;return x>2&&(c.cachedCharWidth=x),x||10}function xi(c){for(var p=c.display,y={},b={},x=p.gutters.clientLeft,T=p.gutters.firstChild,F=0;T;T=T.nextSibling,++F){var P=c.display.gutterSpecs[F].className;y[P]=T.offsetLeft+T.clientLeft+x,b[P]=T.clientWidth}return{fixedPos:ci(p),gutterTotalWidth:p.gutters.offsetWidth,gutterLeft:y,gutterWidth:b,wrapperWidth:p.wrapper.clientWidth}}function ci(c){return c.scroller.getBoundingClientRect().left-c.sizer.getBoundingClientRect().left}function Al(c){var p=Ja(c.display),y=c.options.lineWrapping,b=y&&Math.max(5,c.display.scroller.clientWidth/wi(c.display)-3);return function(x){if(M(c.doc,x))return 0;var T=0;if(x.widgets)for(var F=0;F<x.widgets.length;F++)x.widgets[F].height&&(T+=x.widgets[F].height);return y?T+(Math.ceil(x.text.length/b)||1)*p:T+p}}function Pr(c){var p=c.doc,y=Al(c);p.iter(function(b){var x=y(b);x!=b.height&&Gi(b,x)})}function va(c,p,y,b){var x=c.display;if(!y&&ti(p).getAttribute("cm-not-content")=="true")return null;var T,F,P=x.lineSpace.getBoundingClientRect();try{T=p.clientX-P.left,F=p.clientY-P.top}catch{return null}var R=Cs(c,T,F),H;if(b&&R.xRel>0&&(H=at(c.doc,R.line).text).length==R.ch){var J=Mt(H,H.length,c.options.tabSize)-H.length;R=Ve(R.line,Math.max(0,Math.round((T-wc(c.display).left)/wi(c.display))-J))}return R}function Ji(c,p){if(p>=c.display.viewTo||(p-=c.display.viewFrom,p<0))return null;for(var y=c.display.view,b=0;b<y.length;b++)if(p-=y[b].size,p<0)return b}function di(c,p,y,b){p==null&&(p=c.doc.first),y==null&&(y=c.doc.first+c.doc.size),b||(b=0);var x=c.display;if(b&&y<x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>p)&&(x.updateLineNumbers=p),c.curOp.viewChanged=!0,p>=x.viewTo)Oi&&Cl(c.doc,p)<x.viewTo&&ws(c);else if(y<=x.viewFrom)Oi&&ni(c.doc,y+b)>x.viewFrom?ws(c):(x.viewFrom+=b,x.viewTo+=b);else if(p<=x.viewFrom&&y>=x.viewTo)ws(c);else if(p<=x.viewFrom){var T=hs(c,y,y+b,1);T?(x.view=x.view.slice(T.index),x.viewFrom=T.lineN,x.viewTo+=b):ws(c)}else if(y>=x.viewTo){var F=hs(c,p,p,-1);F?(x.view=x.view.slice(0,F.index),x.viewTo=F.lineN):ws(c)}else{var P=hs(c,p,p,-1),R=hs(c,y,y+b,1);P&&R?(x.view=x.view.slice(0,P.index).concat(Fr(c,P.lineN,R.lineN)).concat(x.view.slice(R.index)),x.viewTo+=b):ws(c)}var H=x.externalMeasured;H&&(y<H.lineN?H.lineN+=b:p<H.lineN+H.size&&(x.externalMeasured=null))}function ds(c,p,y){c.curOp.viewChanged=!0;var b=c.display,x=c.display.externalMeasured;if(x&&p>=x.lineN&&p<x.lineN+x.size&&(b.externalMeasured=null),!(p<b.viewFrom||p>=b.viewTo)){var T=b.view[Ji(c,p)];if(T.node!=null){var F=T.changes||(T.changes=[]);kt(F,y)==-1&&F.push(y)}}}function ws(c){c.display.viewFrom=c.display.viewTo=c.doc.first,c.display.view=[],c.display.viewOffset=0}function hs(c,p,y,b){var x=Ji(c,p),T,F=c.display.view;if(!Oi||y==c.doc.first+c.doc.size)return{index:x,lineN:y};for(var P=c.display.viewFrom,R=0;R<x;R++)P+=F[R].size;if(P!=p){if(b>0){if(x==F.length-1)return null;T=P+F[x].size-p,x++}else T=P-p;p+=T,y+=T}for(;Cl(c.doc,y)!=y;){if(x==(b<0?0:F.length-1))return null;y+=b*F[x-(b<0?1:0)].size,x+=b}return{index:x,lineN:y}}function Qa(c,p,y){var b=c.display,x=b.view;x.length==0||p>=b.viewTo||y<=b.viewFrom?(b.view=Fr(c,p,y),b.viewFrom=p):(b.viewFrom>p?b.view=Fr(c,p,b.viewFrom).concat(b.view):b.viewFrom<p&&(b.view=b.view.slice(Ji(c,p))),b.viewFrom=p,b.viewTo<y?b.view=b.view.concat(Fr(c,b.viewTo,y)):b.viewTo>y&&(b.view=b.view.slice(0,Ji(c,y)))),b.viewTo=y}function qs(c){for(var p=c.display.view,y=0,b=0;b<p.length;b++){var x=p[b];!x.hidden&&(!x.node||x.changes)&&++y}return y}function xs(c){c.display.input.showSelection(c.display.input.prepareSelection())}function ks(c,p){p===void 0&&(p=!0);var y=c.doc,b={},x=b.cursors=document.createDocumentFragment(),T=b.selection=document.createDocumentFragment(),F=c.options.$customCursor;F&&(p=!0);for(var P=0;P<y.sel.ranges.length;P++)if(!(!p&&P==y.sel.primIndex)){var R=y.sel.ranges[P];if(!(R.from().line>=c.display.viewTo||R.to().line<c.display.viewFrom)){var H=R.empty();if(F){var J=F(c,R);J&&Ys(c,J,x)}else(H||c.options.showCursorWhenSelecting)&&Ys(c,R.head,x);H||Bi(c,R,T)}}return b}function Ys(c,p,y){var b=li(c,p,"div",null,null,!c.options.singleCursorHeightPerLine),x=y.appendChild(ce("div"," ","CodeMirror-cursor"));if(x.style.left=b.left+"px",x.style.top=b.top+"px",x.style.height=Math.max(0,b.bottom-b.top)*c.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(c.getWrapperElement().className)){var T=vn(c,p,"div",null,null),F=T.right-T.left;x.style.width=(F>0?F:c.defaultCharWidth())+"px"}if(b.other){var P=y.appendChild(ce("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));P.style.display="",P.style.left=b.other.left+"px",P.style.top=b.other.top+"px",P.style.height=(b.other.bottom-b.other.top)*.85+"px"}}function Gs(c,p){return c.top-p.top||c.left-p.left}function Bi(c,p,y){var b=c.display,x=c.doc,T=document.createDocumentFragment(),F=wc(c.display),P=F.left,R=Math.max(b.sizerWidth,ma(c)-b.sizer.offsetLeft)-F.right,H=x.direction=="ltr";function J(Ye,tt,dt,ct){tt<0&&(tt=0),tt=Math.round(tt),ct=Math.round(ct),T.appendChild(ce("div",null,"CodeMirror-selected","position: absolute; left: "+Ye+`px;
                             top: `+tt+"px; width: "+(dt??R-Ye)+`px;
                             height: `+(ct-tt)+"px"))}function ne(Ye,tt,dt){var ct=at(x,Ye),St=ct.text.length,qt,An;function nn(yn,gi){return vn(c,Ve(Ye,yn),"div",ct,gi)}function pi(yn,gi,Nn){var Fn=ga(c,ct,null,yn),_n=gi=="ltr"==(Nn=="after")?"left":"right",sn=Nn=="after"?Fn.begin:Fn.end-(/\s/.test(ct.text.charAt(Fn.end-1))?2:1);return nn(sn,_n)[_n]}var mi=le(ct,x.direction);return oe(mi,tt||0,dt??St,function(yn,gi,Nn,Fn){var _n=Nn=="ltr",sn=nn(yn,_n?"left":"right"),si=nn(gi-1,_n?"right":"left"),go=tt==null&&yn==0,$s=dt==null&&gi==St,Jn=Fn==0,ns=!mi||Fn==mi.length-1;if(si.top-sn.top<=3){var Rn=(H?go:$s)&&Jn,Qr=(H?$s:go)&&ns,As=Rn?P:(_n?sn:si).left,ea=Qr?R:(_n?si:sn).right;J(As,sn.top,ea-As,sn.bottom)}else{var Ta,Qn,vo,ir;_n?(Ta=H&&go&&Jn?P:sn.left,Qn=H?R:pi(yn,Nn,"before"),vo=H?P:pi(gi,Nn,"after"),ir=H&&$s&&ns?R:si.right):(Ta=H?pi(yn,Nn,"before"):P,Qn=!H&&go&&Jn?R:sn.right,vo=!H&&$s&&ns?P:si.left,ir=H?pi(gi,Nn,"after"):R),J(Ta,sn.top,Qn-Ta,sn.bottom),sn.bottom<si.top&&J(P,sn.bottom,null,si.top),J(vo,si.top,ir-vo,si.bottom)}(!qt||Gs(sn,qt)<0)&&(qt=sn),Gs(si,qt)<0&&(qt=si),(!An||Gs(sn,An)<0)&&(An=sn),Gs(si,An)<0&&(An=si)}),{start:qt,end:An}}var ye=p.from(),pe=p.to();if(ye.line==pe.line)ne(ye.line,ye.ch,pe.ch);else{var Ae=at(x,ye.line),Re=at(x,pe.line),We=Pi(Ae)==Pi(Re),qe=ne(ye.line,ye.ch,We?Ae.text.length+1:null).end,Ze=ne(pe.line,We?0:null,pe.ch).start;We&&(qe.top<Ze.top-2?(J(qe.right,qe.top,null,qe.bottom),J(P,Ze.top,Ze.left,Ze.bottom)):J(qe.right,qe.top,Ze.left-qe.right,qe.bottom)),qe.bottom<Ze.top&&J(P,qe.bottom,null,Ze.top)}y.appendChild(T)}function Ni(c){if(c.state.focused){var p=c.display;clearInterval(p.blinker);var y=!0;p.cursorDiv.style.visibility="",c.options.cursorBlinkRate>0?p.blinker=setInterval(function(){c.hasFocus()||Ss(c),p.cursorDiv.style.visibility=(y=!y)?"":"hidden"},c.options.cursorBlinkRate):c.options.cursorBlinkRate<0&&(p.cursorDiv.style.visibility="hidden")}}function Fl(c){c.hasFocus()||(c.display.input.focus(),c.state.focused||$a(c))}function Br(c){c.state.delayingBlurEvent=!0,setTimeout(function(){c.state.delayingBlurEvent&&(c.state.delayingBlurEvent=!1,c.state.focused&&Ss(c))},100)}function $a(c,p){c.state.delayingBlurEvent&&!c.state.draggingText&&(c.state.delayingBlurEvent=!1),c.options.readOnly!="nocursor"&&(c.state.focused||(et(c,"focus",c,p),c.state.focused=!0,zt(c.display.wrapper,"CodeMirror-focused"),!c.curOp&&c.display.selForContextMenu!=c.doc.sel&&(c.display.input.reset(),A&&setTimeout(function(){return c.display.input.reset(!0)},20)),c.display.input.receivedFocus()),Ni(c))}function Ss(c,p){c.state.delayingBlurEvent||(c.state.focused&&(et(c,"blur",c,p),c.state.focused=!1,Ge(c.display.wrapper,"CodeMirror-focused")),clearInterval(c.display.blinker),setTimeout(function(){c.state.focused||(c.display.shift=!1)},150))}function ki(c){for(var p=c.display,y=p.lineDiv.offsetTop,b=Math.max(0,p.scroller.getBoundingClientRect().top),x=p.lineDiv.getBoundingClientRect().top,T=0,F=0;F<p.view.length;F++){var P=p.view[F],R=c.options.lineWrapping,H=void 0,J=0;if(!P.hidden){if(x+=P.line.height,S&&D<8){var ne=P.node.offsetTop+P.node.offsetHeight;H=ne-y,y=ne}else{var ye=P.node.getBoundingClientRect();H=ye.bottom-ye.top,!R&&P.text.firstChild&&(J=P.text.firstChild.getBoundingClientRect().right-ye.left-1)}var pe=P.line.height-H;if((pe>.005||pe<-.005)&&(x<b&&(T-=pe),Gi(P.line,H),Ds(P.line),P.rest))for(var Ae=0;Ae<P.rest.length;Ae++)Ds(P.rest[Ae]);if(J>c.display.sizerWidth){var Re=Math.ceil(J/wi(c.display));Re>c.display.maxLineLength&&(c.display.maxLineLength=Re,c.display.maxLine=P.line,c.display.maxLineChanged=!0)}}}Math.abs(T)>2&&(p.scroller.scrollTop+=T)}function Ds(c){if(c.widgets)for(var p=0;p<c.widgets.length;++p){var y=c.widgets[p],b=y.node.parentNode;b&&(y.height=b.offsetHeight)}}function Nr(c,p,y){var b=y&&y.top!=null?Math.max(0,y.top):c.scroller.scrollTop;b=Math.floor(b-Lr(c));var x=y&&y.bottom!=null?y.bottom:b+c.wrapper.clientHeight,T=zs(p,b),F=zs(p,x);if(y&&y.ensure){var P=y.ensure.from.line,R=y.ensure.to.line;P<T?(T=P,F=zs(p,Fi(at(p,P))+c.wrapper.clientHeight)):Math.min(R,p.lastLine())>=F&&(T=zs(p,Fi(at(p,R))-c.wrapper.clientHeight),F=R)}return{from:T,to:Math.max(F,T+1)}}function Zh(c,p){if(!je(c,"scrollCursorIntoView")){var y=c.display,b=y.sizer.getBoundingClientRect(),x=null,T=y.wrapper.ownerDocument;if(p.top+b.top<0?x=!0:p.bottom+b.top>(T.defaultView.innerHeight||T.documentElement.clientHeight)&&(x=!1),x!=null&&!X){var F=ce("div","​",null,`position: absolute;
                         top: `+(p.top-y.viewOffset-Lr(c.display))+`px;
                         height: `+(p.bottom-p.top+Zi(c)+y.barHeight)+`px;
                         left: `+p.left+"px; width: "+Math.max(2,p.right-p.left)+"px;");c.display.lineSpace.appendChild(F),F.scrollIntoView(x),c.display.lineSpace.removeChild(F)}}}function Il(c,p,y,b){b==null&&(b=0);var x;!c.options.lineWrapping&&p==y&&(y=p.sticky=="before"?Ve(p.line,p.ch+1,"before"):p,p=p.ch?Ve(p.line,p.sticky=="before"?p.ch-1:p.ch,"after"):p);for(var T=0;T<5;T++){var F=!1,P=li(c,p),R=!y||y==p?P:li(c,y);x={left:Math.min(P.left,R.left),top:Math.min(P.top,R.top)-b,right:Math.max(P.left,R.left),bottom:Math.max(P.bottom,R.bottom)+b};var H=eo(c,x),J=c.doc.scrollTop,ne=c.doc.scrollLeft;if(H.scrollTop!=null&&(no(c,H.scrollTop),Math.abs(c.doc.scrollTop-J)>1&&(F=!0)),H.scrollLeft!=null&&(Mn(c,H.scrollLeft),Math.abs(c.doc.scrollLeft-ne)>1&&(F=!0)),!F)break}return x}function Ll(c,p){var y=eo(c,p);y.scrollTop!=null&&no(c,y.scrollTop),y.scrollLeft!=null&&Mn(c,y.scrollLeft)}function eo(c,p){var y=c.display,b=Ja(c.display);p.top<0&&(p.top=0);var x=c.curOp&&c.curOp.scrollTop!=null?c.curOp.scrollTop:y.scroller.scrollTop,T=Ro(c),F={};p.bottom-p.top>T&&(p.bottom=p.top+T);var P=c.doc.height+Sl(y),R=p.top<b,H=p.bottom>P-b;if(p.top<x)F.scrollTop=R?0:p.top;else if(p.bottom>x+T){var J=Math.min(p.top,(H?P:p.bottom)-T);J!=x&&(F.scrollTop=J)}var ne=c.options.fixedGutter?0:y.gutters.offsetWidth,ye=c.curOp&&c.curOp.scrollLeft!=null?c.curOp.scrollLeft:y.scroller.scrollLeft-ne,pe=ma(c)-y.gutters.offsetWidth,Ae=p.right-p.left>pe;return Ae&&(p.right=p.left+pe),p.left<10?F.scrollLeft=0:p.left<ye?F.scrollLeft=Math.max(0,p.left+ne-(Ae?0:10)):p.right>pe+ye-3&&(F.scrollLeft=p.right+(Ae?0:10)-pe),F}function Rr(c,p){p!=null&&(Vo(c),c.curOp.scrollTop=(c.curOp.scrollTop==null?c.doc.scrollTop:c.curOp.scrollTop)+p)}function Ri(c){Vo(c);var p=c.getCursor();c.curOp.scrollToPos={from:p,to:p,margin:c.options.cursorScrollMargin}}function to(c,p,y){(p!=null||y!=null)&&Vo(c),p!=null&&(c.curOp.scrollLeft=p),y!=null&&(c.curOp.scrollTop=y)}function Ic(c,p){Vo(c),c.curOp.scrollToPos=p}function Vo(c){var p=c.curOp.scrollToPos;if(p){c.curOp.scrollToPos=null;var y=Xa(c,p.from),b=Xa(c,p.to);Ol(c,y,b,p.margin)}}function Ol(c,p,y,b){var x=eo(c,{left:Math.min(p.left,y.left),top:Math.min(p.top,y.top)-b,right:Math.max(p.right,y.right),bottom:Math.max(p.bottom,y.bottom)+b});to(c,x.scrollLeft,x.scrollTop)}function no(c,p){Math.abs(c.doc.scrollTop-p)<2||(h||Rl(c,{top:p}),zr(c,p,!0),h&&Rl(c),ao(c,100))}function zr(c,p,y){p=Math.max(0,Math.min(c.display.scroller.scrollHeight-c.display.scroller.clientHeight,p)),!(c.display.scroller.scrollTop==p&&!y)&&(c.doc.scrollTop=p,c.display.scrollbars.setScrollTop(p),c.display.scroller.scrollTop!=p&&(c.display.scroller.scrollTop=p))}function Mn(c,p,y,b){p=Math.max(0,Math.min(p,c.display.scroller.scrollWidth-c.display.scroller.clientWidth)),!((y?p==c.doc.scrollLeft:Math.abs(c.doc.scrollLeft-p)<2)&&!b)&&(c.doc.scrollLeft=p,Vl(c),c.display.scroller.scrollLeft!=p&&(c.display.scroller.scrollLeft=p),c.display.scrollbars.setScrollLeft(p))}function Si(c){var p=c.display,y=p.gutters.offsetWidth,b=Math.round(c.doc.height+Sl(c.display));return{clientHeight:p.scroller.clientHeight,viewHeight:p.wrapper.clientHeight,scrollWidth:p.scroller.scrollWidth,clientWidth:p.scroller.clientWidth,viewWidth:p.wrapper.clientWidth,barLeft:c.options.fixedGutter?y:0,docHeight:b,scrollHeight:b+Zi(c)+p.barHeight,nativeBarWidth:p.nativeBarWidth,gutterWidth:y}}var Xt=function(c,p,y){this.cm=y;var b=this.vert=ce("div",[ce("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),x=this.horiz=ce("div",[ce("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");b.tabIndex=x.tabIndex=-1,c(b),c(x),ge(b,"scroll",function(){b.clientHeight&&p(b.scrollTop,"vertical")}),ge(x,"scroll",function(){x.clientWidth&&p(x.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&D<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Xt.prototype.update=function(c){var p=c.scrollWidth>c.clientWidth+1,y=c.scrollHeight>c.clientHeight+1,b=c.nativeBarWidth;if(y){this.vert.style.display="block",this.vert.style.bottom=p?b+"px":"0";var x=c.viewHeight-(p?b:0);this.vert.firstChild.style.height=Math.max(0,c.scrollHeight-c.clientHeight+x)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(p){this.horiz.style.display="block",this.horiz.style.right=y?b+"px":"0",this.horiz.style.left=c.barLeft+"px";var T=c.viewWidth-c.barLeft-(y?b:0);this.horiz.firstChild.style.width=Math.max(0,c.scrollWidth-c.clientWidth+T)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&c.clientHeight>0&&(b==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:y?b:0,bottom:p?b:0}},Xt.prototype.setScrollLeft=function(c){this.horiz.scrollLeft!=c&&(this.horiz.scrollLeft=c),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Xt.prototype.setScrollTop=function(c){this.vert.scrollTop!=c&&(this.vert.scrollTop=c),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Xt.prototype.zeroWidthHack=function(){var c=se&&!te?"12px":"18px";this.horiz.style.height=this.vert.style.width=c,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Nt,this.disableVert=new Nt},Xt.prototype.enableZeroWidthBar=function(c,p,y){c.style.visibility="";function b(){var x=c.getBoundingClientRect(),T=y=="vert"?document.elementFromPoint(x.right-1,(x.top+x.bottom)/2):document.elementFromPoint((x.right+x.left)/2,x.bottom-1);T!=c?c.style.visibility="hidden":p.set(1e3,b)}p.set(1e3,b)},Xt.prototype.clear=function(){var c=this.horiz.parentNode;c.removeChild(this.horiz),c.removeChild(this.vert)};var zi=function(){};zi.prototype.update=function(){return{bottom:0,right:0}},zi.prototype.setScrollLeft=function(){},zi.prototype.setScrollTop=function(){},zi.prototype.clear=function(){};function Qi(c,p){p||(p=Si(c));var y=c.display.barWidth,b=c.display.barHeight;Ts(c,p);for(var x=0;x<4&&y!=c.display.barWidth||b!=c.display.barHeight;x++)y!=c.display.barWidth&&c.options.lineWrapping&&ki(c),Ts(c,Si(c)),y=c.display.barWidth,b=c.display.barHeight}function Ts(c,p){var y=c.display,b=y.scrollbars.update(p);y.sizer.style.paddingRight=(y.barWidth=b.right)+"px",y.sizer.style.paddingBottom=(y.barHeight=b.bottom)+"px",y.heightForcer.style.borderBottom=b.bottom+"px solid transparent",b.right&&b.bottom?(y.scrollbarFiller.style.display="block",y.scrollbarFiller.style.height=b.bottom+"px",y.scrollbarFiller.style.width=b.right+"px"):y.scrollbarFiller.style.display="",b.bottom&&c.options.coverGutterNextToScrollbar&&c.options.fixedGutter?(y.gutterFiller.style.display="block",y.gutterFiller.style.height=b.bottom+"px",y.gutterFiller.style.width=p.gutterWidth+"px"):y.gutterFiller.style.display=""}var ba={native:Xt,null:zi};function io(c){c.display.scrollbars&&(c.display.scrollbars.clear(),c.display.scrollbars.addClass&&Ge(c.display.wrapper,c.display.scrollbars.addClass)),c.display.scrollbars=new ba[c.options.scrollbarStyle](function(p){c.display.wrapper.insertBefore(p,c.display.scrollbarFiller),ge(p,"mousedown",function(){c.state.focused&&setTimeout(function(){return c.display.input.focus()},0)}),p.setAttribute("cm-not-content","true")},function(p,y){y=="horizontal"?Mn(c,p):no(c,p)},c),c.display.scrollbars.addClass&&zt(c.display.wrapper,c.display.scrollbars.addClass)}var Lc=0;function Ks(c){c.curOp={cm:c,viewChanged:!1,startHeight:c.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Lc,markArrays:null},Mh(c.curOp)}function Ii(c){var p=c.curOp;p&&bc(p,function(y){for(var b=0;b<y.ops.length;b++)y.ops[b].cm.curOp=null;Oc(y)})}function Oc(c){for(var p=c.ops,y=0;y<p.length;y++)ii(p[y]);for(var b=0;b<p.length;b++)Pl(p[b]);for(var x=0;x<p.length;x++)Pc(p[x]);for(var T=0;T<p.length;T++)so(p[T]);for(var F=0;F<p.length;F++)Bc(p[F])}function ii(c){var p=c.cm,y=p.display;Bl(p),c.updateMaxLine&&wl(p),c.mustUpdate=c.viewChanged||c.forceUpdate||c.scrollTop!=null||c.scrollToPos&&(c.scrollToPos.from.line<y.viewFrom||c.scrollToPos.to.line>=y.viewTo)||y.maxLineChanged&&p.options.lineWrapping,c.update=c.mustUpdate&&new ya(p,c.mustUpdate&&{top:c.scrollTop,ensure:c.scrollToPos},c.forceUpdate)}function Pl(c){c.updatedDisplay=c.mustUpdate&&Nl(c.cm,c.update)}function Pc(c){var p=c.cm,y=p.display;c.updatedDisplay&&ki(p),c.barMeasure=Si(p),y.maxLineChanged&&!p.options.lineWrapping&&(c.adjustWidthTo=kc(p,y.maxLine,y.maxLine.text.length).left+3,p.display.sizerWidth=c.adjustWidthTo,c.barMeasure.scrollWidth=Math.max(y.scroller.clientWidth,y.sizer.offsetLeft+c.adjustWidthTo+Zi(p)+p.display.barWidth),c.maxScrollLeft=Math.max(0,y.sizer.offsetLeft+c.adjustWidthTo-ma(p))),(c.updatedDisplay||c.selectionChanged)&&(c.preparedSelection=y.input.prepareSelection())}function so(c){var p=c.cm;c.adjustWidthTo!=null&&(p.display.sizer.style.minWidth=c.adjustWidthTo+"px",c.maxScrollLeft<p.doc.scrollLeft&&Mn(p,Math.min(p.display.scroller.scrollLeft,c.maxScrollLeft),!0),p.display.maxLineChanged=!1);var y=c.focus&&c.focus==mt(Ee(p));c.preparedSelection&&p.display.input.showSelection(c.preparedSelection,y),(c.updatedDisplay||c.startHeight!=p.doc.height)&&Qi(p,c.barMeasure),c.updatedDisplay&&Hl(p,c.barMeasure),c.selectionChanged&&Ni(p),p.state.focused&&c.updateInput&&p.display.input.reset(c.typing),y&&Fl(c.cm)}function Bc(c){var p=c.cm,y=p.display,b=p.doc;if(c.updatedDisplay&&Rc(p,c.update),y.wheelStartX!=null&&(c.scrollTop!=null||c.scrollLeft!=null||c.scrollToPos)&&(y.wheelStartX=y.wheelStartY=null),c.scrollTop!=null&&zr(p,c.scrollTop,c.forceScroll),c.scrollLeft!=null&&Mn(p,c.scrollLeft,!0,!0),c.scrollToPos){var x=Il(p,_t(b,c.scrollToPos.from),_t(b,c.scrollToPos.to),c.scrollToPos.margin);Zh(p,x)}var T=c.maybeHiddenMarkers,F=c.maybeUnhiddenMarkers;if(T)for(var P=0;P<T.length;++P)T[P].lines.length||et(T[P],"hide");if(F)for(var R=0;R<F.length;++R)F[R].lines.length&&et(F[R],"unhide");y.wrapper.offsetHeight&&(b.scrollTop=p.display.scroller.scrollTop),c.changeObjs&&et(p,"changes",p,c.changeObjs),c.update&&c.update.finish()}function hi(c,p){if(c.curOp)return p();Ks(c);try{return p()}finally{Ii(c)}}function Tn(c,p){return function(){if(c.curOp)return p.apply(c,arguments);Ks(c);try{return p.apply(c,arguments)}finally{Ii(c)}}}function Xn(c){return function(){if(this.curOp)return c.apply(this,arguments);Ks(this);try{return c.apply(this,arguments)}finally{Ii(this)}}}function En(c){return function(){var p=this.cm;if(!p||p.curOp)return c.apply(this,arguments);Ks(p);try{return c.apply(this,arguments)}finally{Ii(p)}}}function ao(c,p){c.doc.highlightFrontier<c.display.viewTo&&c.state.highlight.set(p,Kt($i,c))}function $i(c){var p=c.doc;if(!(p.highlightFrontier>=c.display.viewTo)){var y=+new Date+c.options.workTime,b=ja(c,p.highlightFrontier),x=[];p.iter(b.line,Math.min(p.first+p.size,c.display.viewTo+500),function(T){if(b.line>=c.display.viewFrom){var F=T.styles,P=T.text.length>c.options.maxHighlightLength?Rs(p.mode,b.state):null,R=cl(c,T,b,!0);P&&(b.state=P),T.styles=R.styles;var H=T.styleClasses,J=R.classes;J?T.styleClasses=J:H&&(T.styleClasses=null);for(var ne=!F||F.length!=T.styles.length||H!=J&&(!H||!J||H.bgClass!=J.bgClass||H.textClass!=J.textClass),ye=0;!ne&&ye<F.length;++ye)ne=F[ye]!=T.styles[ye];ne&&x.push(b.line),T.stateAfter=b.save(),b.nextLine()}else T.text.length<=c.options.maxHighlightLength&&Sr(c,T.text,b),T.stateAfter=b.line%5==0?b.save():null,b.nextLine();if(+new Date>y)return ao(c,c.options.workDelay),!0}),p.highlightFrontier=b.line,p.modeFrontier=Math.max(p.modeFrontier,b.line),x.length&&hi(c,function(){for(var T=0;T<x.length;T++)ds(c,x[T],"text")})}}var ya=function(c,p,y){var b=c.display;this.viewport=p,this.visible=Nr(b,c.doc,p),this.editorIsHidden=!b.wrapper.offsetWidth,this.wrapperHeight=b.wrapper.clientHeight,this.wrapperWidth=b.wrapper.clientWidth,this.oldDisplayWidth=ma(c),this.force=y,this.dims=xi(c),this.events=[]};ya.prototype.signal=function(c,p){yt(c,p)&&this.events.push(arguments)},ya.prototype.finish=function(){for(var c=0;c<this.events.length;c++)et.apply(null,this.events[c])};function Bl(c){var p=c.display;!p.scrollbarsClipped&&p.scroller.offsetWidth&&(p.nativeBarWidth=p.scroller.offsetWidth-p.scroller.clientWidth,p.heightForcer.style.height=Zi(c)+"px",p.sizer.style.marginBottom=-p.nativeBarWidth+"px",p.sizer.style.borderRightWidth=Zi(c)+"px",p.scrollbarsClipped=!0)}function Jh(c){if(c.hasFocus())return null;var p=mt(Ee(c));if(!p||!Qe(c.display.lineDiv,p))return null;var y={activeElt:p};if(window.getSelection){var b=ot(c).getSelection();b.anchorNode&&b.extend&&Qe(c.display.lineDiv,b.anchorNode)&&(y.anchorNode=b.anchorNode,y.anchorOffset=b.anchorOffset,y.focusNode=b.focusNode,y.focusOffset=b.focusOffset)}return y}function Nc(c){if(!(!c||!c.activeElt||c.activeElt==mt(bt(c.activeElt)))&&(c.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(c.activeElt.nodeName)&&c.anchorNode&&Qe(document.body,c.anchorNode)&&Qe(document.body,c.focusNode))){var p=c.activeElt.ownerDocument,y=p.defaultView.getSelection(),b=p.createRange();b.setEnd(c.anchorNode,c.anchorOffset),b.collapse(!1),y.removeAllRanges(),y.addRange(b),y.extend(c.focusNode,c.focusOffset)}}function Nl(c,p){var y=c.display,b=c.doc;if(p.editorIsHidden)return ws(c),!1;if(!p.force&&p.visible.from>=y.viewFrom&&p.visible.to<=y.viewTo&&(y.updateLineNumbers==null||y.updateLineNumbers>=y.viewTo)&&y.renderedView==y.view&&qs(c)==0)return!1;zc(c)&&(ws(c),p.dims=xi(c));var x=b.first+b.size,T=Math.max(p.visible.from-c.options.viewportMargin,b.first),F=Math.min(x,p.visible.to+c.options.viewportMargin);y.viewFrom<T&&T-y.viewFrom<20&&(T=Math.max(b.first,y.viewFrom)),y.viewTo>F&&y.viewTo-F<20&&(F=Math.min(x,y.viewTo)),Oi&&(T=Cl(c.doc,T),F=ni(c.doc,F));var P=T!=y.viewFrom||F!=y.viewTo||y.lastWrapHeight!=p.wrapperHeight||y.lastWrapWidth!=p.wrapperWidth;Qa(c,T,F),y.viewOffset=Fi(at(c.doc,y.viewFrom)),c.display.mover.style.top=y.viewOffset+"px";var R=qs(c);if(!P&&R==0&&!p.force&&y.renderedView==y.view&&(y.updateLineNumbers==null||y.updateLineNumbers>=y.viewTo))return!1;var H=Jh(c);return R>4&&(y.lineDiv.style.display="none"),Qh(c,y.updateLineNumbers,p.dims),R>4&&(y.lineDiv.style.display=""),y.renderedView=y.view,Nc(H),it(y.cursorDiv),it(y.selectionDiv),y.gutters.style.height=y.sizer.style.minHeight=0,P&&(y.lastWrapHeight=p.wrapperHeight,y.lastWrapWidth=p.wrapperWidth,ao(c,400)),y.updateLineNumbers=null,!0}function Rc(c,p){for(var y=p.viewport,b=!0;;b=!1){if(!b||!c.options.lineWrapping||p.oldDisplayWidth==ma(c)){if(y&&y.top!=null&&(y={top:Math.min(c.doc.height+Sl(c.display)-Ro(c),y.top)}),p.visible=Nr(c.display,c.doc,y),p.visible.from>=c.display.viewFrom&&p.visible.to<=c.display.viewTo)break}else b&&(p.visible=Nr(c.display,c.doc,y));if(!Nl(c,p))break;ki(c);var x=Si(c);xs(c),Qi(c,x),Hl(c,x),p.force=!1}p.signal(c,"update",c),(c.display.viewFrom!=c.display.reportedViewFrom||c.display.viewTo!=c.display.reportedViewTo)&&(p.signal(c,"viewportChange",c,c.display.viewFrom,c.display.viewTo),c.display.reportedViewFrom=c.display.viewFrom,c.display.reportedViewTo=c.display.viewTo)}function Rl(c,p){var y=new ya(c,p);if(Nl(c,y)){ki(c),Rc(c,y);var b=Si(c);xs(c),Qi(c,b),Hl(c,b),y.finish()}}function Qh(c,p,y){var b=c.display,x=c.options.lineNumbers,T=b.lineDiv,F=T.firstChild;function P(Ae){var Re=Ae.nextSibling;return A&&se&&c.display.currentWheelTarget==Ae?Ae.style.display="none":Ae.parentNode.removeChild(Ae),Re}for(var R=b.view,H=b.viewFrom,J=0;J<R.length;J++){var ne=R[J];if(!ne.hidden)if(!ne.node||ne.node.parentNode!=T){var ye=jh(c,ne,H,y);T.insertBefore(ye,F)}else{for(;F!=ne.node;)F=P(F);var pe=x&&p!=null&&p<=H&&ne.lineNumber;ne.changes&&(kt(ne.changes,"gutter")>-1&&(pe=!1),Ir(c,ne,H,y)),pe&&(it(ne.lineNumber),ne.lineNumber.appendChild(document.createTextNode(wr(c.options,H)))),F=ne.node.nextSibling}H+=ne.size}for(;F;)F=P(F)}function zl(c){var p=c.gutters.offsetWidth;c.sizer.style.marginLeft=p+"px",Dn(c,"gutterChanged",c)}function Hl(c,p){c.display.sizer.style.minHeight=p.docHeight+"px",c.display.heightForcer.style.top=p.docHeight+"px",c.display.gutters.style.height=p.docHeight+c.display.barHeight+Zi(c)+"px"}function Vl(c){var p=c.display,y=p.view;if(!(!p.alignWidgets&&(!p.gutters.firstChild||!c.options.fixedGutter))){for(var b=ci(p)-p.scroller.scrollLeft+c.doc.scrollLeft,x=p.gutters.offsetWidth,T=b+"px",F=0;F<y.length;F++)if(!y[F].hidden){c.options.fixedGutter&&(y[F].gutter&&(y[F].gutter.style.left=T),y[F].gutterBackground&&(y[F].gutterBackground.style.left=T));var P=y[F].alignable;if(P)for(var R=0;R<P.length;R++)P[R].style.left=T}c.options.fixedGutter&&(p.gutters.style.left=b+x+"px")}}function zc(c){if(!c.options.lineNumbers)return!1;var p=c.doc,y=wr(c.options,p.first+p.size-1),b=c.display;if(y.length!=b.lineNumChars){var x=b.measure.appendChild(ce("div",[ce("div",y)],"CodeMirror-linenumber CodeMirror-gutter-elt")),T=x.firstChild.offsetWidth,F=x.offsetWidth-T;return b.lineGutter.style.width="",b.lineNumInnerWidth=Math.max(T,b.lineGutter.offsetWidth-F)+1,b.lineNumWidth=b.lineNumInnerWidth+F,b.lineNumChars=b.lineNumInnerWidth?y.length:-1,b.lineGutter.style.width=b.lineNumWidth+"px",zl(c.display),!0}return!1}function Ml(c,p){for(var y=[],b=!1,x=0;x<c.length;x++){var T=c[x],F=null;if(typeof T!="string"&&(F=T.style,T=T.className),T=="CodeMirror-linenumbers")if(p)b=!0;else continue;y.push({className:T,style:F})}return p&&!b&&y.push({className:"CodeMirror-linenumbers",style:null}),y}function Wl(c){var p=c.gutters,y=c.gutterSpecs;it(p),c.lineGutter=null;for(var b=0;b<y.length;++b){var x=y[b],T=x.className,F=x.style,P=p.appendChild(ce("div",null,"CodeMirror-gutter "+T));F&&(P.style.cssText=F),T=="CodeMirror-linenumbers"&&(c.lineGutter=P,P.style.width=(c.lineNumWidth||1)+"px")}p.style.display=y.length?"":"none",zl(c)}function Mo(c){Wl(c.display),di(c),Vl(c)}function $h(c,p,y,b){var x=this;this.input=y,x.scrollbarFiller=ce("div",null,"CodeMirror-scrollbar-filler"),x.scrollbarFiller.setAttribute("cm-not-content","true"),x.gutterFiller=ce("div",null,"CodeMirror-gutter-filler"),x.gutterFiller.setAttribute("cm-not-content","true"),x.lineDiv=Ne("div",null,"CodeMirror-code"),x.selectionDiv=ce("div",null,null,"position: relative; z-index: 1"),x.cursorDiv=ce("div",null,"CodeMirror-cursors"),x.measure=ce("div",null,"CodeMirror-measure"),x.lineMeasure=ce("div",null,"CodeMirror-measure"),x.lineSpace=Ne("div",[x.measure,x.lineMeasure,x.selectionDiv,x.cursorDiv,x.lineDiv],null,"position: relative; outline: none");var T=Ne("div",[x.lineSpace],"CodeMirror-lines");x.mover=ce("div",[T],null,"position: relative"),x.sizer=ce("div",[x.mover],"CodeMirror-sizer"),x.sizerWidth=null,x.heightForcer=ce("div",null,null,"position: absolute; height: "+Pt+"px; width: 1px;"),x.gutters=ce("div",null,"CodeMirror-gutters"),x.lineGutter=null,x.scroller=ce("div",[x.sizer,x.heightForcer,x.gutters],"CodeMirror-scroll"),x.scroller.setAttribute("tabIndex","-1"),x.wrapper=ce("div",[x.scrollbarFiller,x.gutterFiller,x.scroller],"CodeMirror"),N&&V>=105&&(x.wrapper.style.clipPath="inset(0px)"),x.wrapper.setAttribute("translate","no"),S&&D<8&&(x.gutters.style.zIndex=-1,x.scroller.style.paddingRight=0),!A&&!(h&&ie)&&(x.scroller.draggable=!0),c&&(c.appendChild?c.appendChild(x.wrapper):c(x.wrapper)),x.viewFrom=x.viewTo=p.first,x.reportedViewFrom=x.reportedViewTo=p.first,x.view=[],x.renderedView=null,x.externalMeasured=null,x.viewOffset=0,x.lastWrapHeight=x.lastWrapWidth=0,x.updateLineNumbers=null,x.nativeBarWidth=x.barHeight=x.barWidth=0,x.scrollbarsClipped=!1,x.lineNumWidth=x.lineNumInnerWidth=x.lineNumChars=null,x.alignWidgets=!1,x.cachedCharWidth=x.cachedTextHeight=x.cachedPaddingH=null,x.maxLine=null,x.maxLineLength=0,x.maxLineChanged=!1,x.wheelDX=x.wheelDY=x.wheelStartX=x.wheelStartY=null,x.shift=!1,x.selForContextMenu=null,x.activeTouch=null,x.gutterSpecs=Ml(b.gutters,b.lineNumbers),Wl(x),y.init(x)}var Hr=0,Hi=null;S?Hi=-.53:h?Hi=15:N?Hi=-.7:$&&(Hi=-1/3);function Vr(c){var p=c.wheelDeltaX,y=c.wheelDeltaY;return p==null&&c.detail&&c.axis==c.HORIZONTAL_AXIS&&(p=c.detail),y==null&&c.detail&&c.axis==c.VERTICAL_AXIS?y=c.detail:y==null&&(y=c.wheelDelta),{x:p,y}}function Xe(c){var p=Vr(c);return p.x*=Hi,p.y*=Hi,p}function Wn(c,p){N&&V==102&&(c.display.chromeScrollHack==null?c.display.sizer.style.pointerEvents="none":clearTimeout(c.display.chromeScrollHack),c.display.chromeScrollHack=setTimeout(function(){c.display.chromeScrollHack=null,c.display.sizer.style.pointerEvents=""},100));var y=Vr(p),b=y.x,x=y.y,T=Hi;p.deltaMode===0&&(b=p.deltaX,x=p.deltaY,T=1);var F=c.display,P=F.scroller,R=P.scrollWidth>P.clientWidth,H=P.scrollHeight>P.clientHeight;if(b&&R||x&&H){if(x&&se&&A){e:for(var J=p.target,ne=F.view;J!=P;J=J.parentNode)for(var ye=0;ye<ne.length;ye++)if(ne[ye].node==J){c.display.currentWheelTarget=J;break e}}if(b&&!h&&!Y&&T!=null){x&&H&&no(c,Math.max(0,P.scrollTop+x*T)),Mn(c,Math.max(0,P.scrollLeft+b*T)),(!x||x&&H)&&pt(p),F.wheelStartX=null;return}if(x&&T!=null){var pe=x*T,Ae=c.doc.scrollTop,Re=Ae+F.wrapper.clientHeight;pe<0?Ae=Math.max(0,Ae+pe-50):Re=Math.min(c.doc.height,Re+pe+50),Rl(c,{top:Ae,bottom:Re})}Hr<20&&p.deltaMode!==0&&(F.wheelStartX==null?(F.wheelStartX=P.scrollLeft,F.wheelStartY=P.scrollTop,F.wheelDX=b,F.wheelDY=x,setTimeout(function(){if(F.wheelStartX!=null){var We=P.scrollLeft-F.wheelStartX,qe=P.scrollTop-F.wheelStartY,Ze=qe&&F.wheelDY&&qe/F.wheelDY||We&&F.wheelDX&&We/F.wheelDX;F.wheelStartX=F.wheelStartY=null,Ze&&(Hi=(Hi*Hr+Ze)/(Hr+1),++Hr)}},200)):(F.wheelDX+=b,F.wheelDY+=x))}}var Li=function(c,p){this.ranges=c,this.primIndex=p};Li.prototype.primary=function(){return this.ranges[this.primIndex]},Li.prototype.equals=function(c){if(c==this)return!0;if(c.primIndex!=this.primIndex||c.ranges.length!=this.ranges.length)return!1;for(var p=0;p<this.ranges.length;p++){var y=this.ranges[p],b=c.ranges[p];if(!xr(y.anchor,b.anchor)||!xr(y.head,b.head))return!1}return!0},Li.prototype.deepCopy=function(){for(var c=[],p=0;p<this.ranges.length;p++)c[p]=new Ot(kr(this.ranges[p].anchor),kr(this.ranges[p].head));return new Li(c,this.primIndex)},Li.prototype.somethingSelected=function(){for(var c=0;c<this.ranges.length;c++)if(!this.ranges[c].empty())return!0;return!1},Li.prototype.contains=function(c,p){p||(p=c);for(var y=0;y<this.ranges.length;y++){var b=this.ranges[y];if(vt(p,b.from())>=0&&vt(c,b.to())<=0)return y}return-1};var Ot=function(c,p){this.anchor=c,this.head=p};Ot.prototype.from=function(){return Io(this.anchor,this.head)},Ot.prototype.to=function(){return Fo(this.anchor,this.head)},Ot.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Vi(c,p,y){var b=c&&c.options.selectionsMayTouch,x=p[y];p.sort(function(ye,pe){return vt(ye.from(),pe.from())}),y=kt(p,x);for(var T=1;T<p.length;T++){var F=p[T],P=p[T-1],R=vt(P.to(),F.from());if(b&&!F.empty()?R>0:R>=0){var H=Io(P.from(),F.from()),J=Fo(P.to(),F.to()),ne=P.empty()?F.from()==F.head:P.from()==P.head;T<=y&&--y,p.splice(--T,2,new Ot(ne?J:H,ne?H:J))}}return new Li(p,y)}function Es(c,p){return new Li([new Ot(c,p||c)],0)}function Xs(c){return c.text?Ve(c.from.line+c.text.length-1,st(c.text).length+(c.text.length==1?c.from.ch:0)):c.to}function Hc(c,p){if(vt(c,p.from)<0)return c;if(vt(c,p.to)<=0)return Xs(p);var y=c.line+p.text.length-(p.to.line-p.from.line)-1,b=c.ch;return c.line==p.to.line&&(b+=Xs(p).ch-p.to.ch),Ve(y,b)}function jl(c,p){for(var y=[],b=0;b<c.sel.ranges.length;b++){var x=c.sel.ranges[b];y.push(new Ot(Hc(x.anchor,p),Hc(x.head,p)))}return Vi(c.cm,y,c.sel.primIndex)}function Wo(c,p,y){return c.line==p.line?Ve(y.line,c.ch-p.ch+y.ch):Ve(y.line+(c.line-p.line),c.ch)}function Vc(c,p,y){for(var b=[],x=Ve(c.first,0),T=x,F=0;F<p.length;F++){var P=p[F],R=Wo(P.from,x,T),H=Wo(Xs(P),x,T);if(x=P.to,T=H,y=="around"){var J=c.sel.ranges[F],ne=vt(J.head,J.anchor)<0;b[F]=new Ot(ne?H:R,ne?R:H)}else b[F]=new Ot(R,R)}return new Li(b,c.sel.primIndex)}function Ul(c){c.doc.mode=ha(c.options,c.doc.modeOption),oo(c)}function oo(c){c.doc.iter(function(p){p.stateAfter&&(p.stateAfter=null),p.styles&&(p.styles=null)}),c.doc.modeFrontier=c.doc.highlightFrontier=c.doc.first,ao(c,100),c.state.modeGen++,c.curOp&&di(c)}function Mc(c,p){return p.from.ch==0&&p.to.ch==0&&st(p.text)==""&&(!c.cm||c.cm.options.wholeLineUpdateBefore)}function Mr(c,p,y,b){function x(Ze){return y?y[Ze]:null}function T(Ze,Ye,tt){ys(Ze,Ye,tt,b),Dn(Ze,"change",Ze,p)}function F(Ze,Ye){for(var tt=[],dt=Ze;dt<Ye;++dt)tt.push(new qa(H[dt],x(dt),b));return tt}var P=p.from,R=p.to,H=p.text,J=at(c,P.line),ne=at(c,R.line),ye=st(H),pe=x(H.length-1),Ae=R.line-P.line;if(p.full)c.insert(0,F(0,H.length)),c.remove(H.length,c.size-H.length);else if(Mc(c,p)){var Re=F(0,H.length-1);T(ne,ne.text,pe),Ae&&c.remove(P.line,Ae),Re.length&&c.insert(P.line,Re)}else if(J==ne)if(H.length==1)T(J,J.text.slice(0,P.ch)+ye+J.text.slice(R.ch),pe);else{var We=F(1,H.length-1);We.push(new qa(ye+J.text.slice(R.ch),pe,b)),T(J,J.text.slice(0,P.ch)+H[0],x(0)),c.insert(P.line+1,We)}else if(H.length==1)T(J,J.text.slice(0,P.ch)+H[0]+ne.text.slice(R.ch),x(0)),c.remove(P.line+1,Ae);else{T(J,J.text.slice(0,P.ch)+H[0],x(0)),T(ne,ye+ne.text.slice(R.ch),pe);var qe=F(1,H.length-1);Ae>1&&c.remove(P.line+1,Ae-1),c.insert(P.line+1,qe)}Dn(c,"change",c,p)}function Zs(c,p,y){function b(x,T,F){if(x.linked)for(var P=0;P<x.linked.length;++P){var R=x.linked[P];if(R.doc!=T){var H=F&&R.sharedHist;y&&!H||(p(R.doc,H),b(R.doc,x,H))}}}b(c,null,!0)}function ql(c,p){if(p.cm)throw new Error("This document is already in use.");c.doc=p,p.cm=c,Pr(c),Ul(c),Wc(c),c.options.direction=p.direction,c.options.lineWrapping||wl(c),c.options.mode=p.modeOption,di(c)}function Wc(c){(c.doc.direction=="rtl"?zt:Ge)(c.display.lineDiv,"CodeMirror-rtl")}function jc(c){hi(c,function(){Wc(c),di(c)})}function Wr(c){this.done=[],this.undone=[],this.undoDepth=c?c.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=c?c.maxGeneration:1}function jr(c,p){var y={from:kr(p.from),to:Xs(p),text:gs(c,p.from,p.to)};return Kc(c,y,p.from.line,p.to.line+1),Zs(c,function(b){return Kc(b,y,p.from.line,p.to.line+1)},!0),y}function Uc(c){for(;c.length;){var p=st(c);if(p.ranges)c.pop();else break}}function qc(c,p){if(p)return Uc(c.done),st(c.done);if(c.done.length&&!st(c.done).ranges)return st(c.done);if(c.done.length>1&&!c.done[c.done.length-2].ranges)return c.done.pop(),st(c.done)}function Yc(c,p,y,b){var x=c.history;x.undone.length=0;var T=+new Date,F,P;if((x.lastOp==b||x.lastOrigin==p.origin&&p.origin&&(p.origin.charAt(0)=="+"&&x.lastModTime>T-(c.cm?c.cm.options.historyEventDelay:500)||p.origin.charAt(0)=="*"))&&(F=qc(x,x.lastOp==b)))P=st(F.changes),vt(p.from,p.to)==0&&vt(p.from,P.to)==0?P.to=Xs(p):F.changes.push(jr(c,p));else{var R=st(x.done);for((!R||!R.ranges)&&jo(c.sel,x.done),F={changes:[jr(c,p)],generation:x.generation},x.done.push(F);x.done.length>x.undoDepth;)x.done.shift(),x.done[0].ranges||x.done.shift()}x.done.push(y),x.generation=++x.maxGeneration,x.lastModTime=x.lastSelTime=T,x.lastOp=x.lastSelOp=b,x.lastOrigin=x.lastSelOrigin=p.origin,P||et(c,"historyAdded")}function Gc(c,p,y,b){var x=p.charAt(0);return x=="*"||x=="+"&&y.ranges.length==b.ranges.length&&y.somethingSelected()==b.somethingSelected()&&new Date-c.history.lastSelTime<=(c.cm?c.cm.options.historyEventDelay:500)}function ef(c,p,y,b){var x=c.history,T=b&&b.origin;y==x.lastSelOp||T&&x.lastSelOrigin==T&&(x.lastModTime==x.lastSelTime&&x.lastOrigin==T||Gc(c,T,st(x.done),p))?x.done[x.done.length-1]=p:jo(p,x.done),x.lastSelTime=+new Date,x.lastSelOrigin=T,x.lastSelOp=y,b&&b.clearRedo!==!1&&Uc(x.undone)}function jo(c,p){var y=st(p);y&&y.ranges&&y.equals(c)||p.push(c)}function Kc(c,p,y,b){var x=p["spans_"+c.id],T=0;c.iter(Math.max(c.first,y),Math.min(c.first+c.size,b),function(F){F.markedSpans&&((x||(x=p["spans_"+c.id]={}))[T]=F.markedSpans),++T})}function Xc(c){if(!c)return null;for(var p,y=0;y<c.length;++y)c[y].marker.explicitlyCleared?p||(p=c.slice(0,y)):p&&p.push(c[y]);return p?p.length?p:null:c}function tf(c,p){var y=p["spans_"+c.id];if(!y)return null;for(var b=[],x=0;x<p.text.length;++x)b.push(Xc(y[x]));return b}function Yl(c,p){var y=tf(c,p),b=ft(c,p);if(!y)return b;if(!b)return y;for(var x=0;x<y.length;++x){var T=y[x],F=b[x];if(T&&F)e:for(var P=0;P<F.length;++P){for(var R=F[P],H=0;H<T.length;++H)if(T[H].marker==R.marker)continue e;T.push(R)}else F&&(y[x]=F)}return y}function es(c,p,y){for(var b=[],x=0;x<c.length;++x){var T=c[x];if(T.ranges){b.push(y?Li.prototype.deepCopy.call(T):T);continue}var F=T.changes,P=[];b.push({changes:P});for(var R=0;R<F.length;++R){var H=F[R],J=void 0;if(P.push({from:H.from,to:H.to,text:H.text}),p)for(var ne in H)(J=ne.match(/^spans_(\d+)$/))&&kt(p,Number(J[1]))>-1&&(st(P)[ne]=H[ne],delete H[ne])}}return b}function Gl(c,p,y,b){if(b){var x=c.anchor;if(y){var T=vt(p,x)<0;T!=vt(y,x)<0?(x=p,p=y):T!=vt(p,y)<0&&(p=y)}return new Ot(x,p)}else return new Ot(y||p,p)}function Ur(c,p,y,b,x){x==null&&(x=c.cm&&(c.cm.display.shift||c.extend)),Zn(c,new Li([Gl(c.sel.primary(),p,y,x)],0),b)}function Zc(c,p,y){for(var b=[],x=c.cm&&(c.cm.display.shift||c.extend),T=0;T<c.sel.ranges.length;T++)b[T]=Gl(c.sel.ranges[T],p[T],null,x);var F=Vi(c.cm,b,c.sel.primIndex);Zn(c,F,y)}function Kl(c,p,y,b){var x=c.sel.ranges.slice(0);x[p]=y,Zn(c,Vi(c.cm,x,c.sel.primIndex),b)}function Jc(c,p,y,b){Zn(c,Es(p,y),b)}function nf(c,p,y){var b={ranges:p.ranges,update:function(x){this.ranges=[];for(var T=0;T<x.length;T++)this.ranges[T]=new Ot(_t(c,x[T].anchor),_t(c,x[T].head))},origin:y&&y.origin};return et(c,"beforeSelectionChange",c,b),c.cm&&et(c.cm,"beforeSelectionChange",c.cm,b),b.ranges!=p.ranges?Vi(c.cm,b.ranges,b.ranges.length-1):p}function Xl(c,p,y){var b=c.history.done,x=st(b);x&&x.ranges?(b[b.length-1]=p,ro(c,p,y)):Zn(c,p,y)}function Zn(c,p,y){ro(c,p,y),ef(c,c.sel,c.cm?c.cm.curOp.id:NaN,y)}function ro(c,p,y){(yt(c,"beforeSelectionChange")||c.cm&&yt(c.cm,"beforeSelectionChange"))&&(p=nf(c,p,y));var b=y&&y.bias||(vt(p.primary().head,c.sel.primary().head)<0?-1:1);Qc(c,Zl(c,p,b,!0)),!(y&&y.scroll===!1)&&c.cm&&c.cm.getOption("readOnly")!="nocursor"&&Ri(c.cm)}function Qc(c,p){p.equals(c.sel)||(c.sel=p,c.cm&&(c.cm.curOp.updateInput=1,c.cm.curOp.selectionChanged=!0,gt(c.cm)),Dn(c,"cursorActivity",c))}function $c(c){Qc(c,Zl(c,c.sel,null,!1))}function Zl(c,p,y,b){for(var x,T=0;T<p.ranges.length;T++){var F=p.ranges[T],P=p.ranges.length==c.sel.ranges.length&&c.sel.ranges[T],R=Uo(c,F.anchor,P&&P.anchor,y,b),H=F.head==F.anchor?R:Uo(c,F.head,P&&P.head,y,b);(x||R!=F.anchor||H!=F.head)&&(x||(x=p.ranges.slice(0,T)),x[T]=new Ot(R,H))}return x?Vi(c.cm,x,p.primIndex):p}function lo(c,p,y,b,x){var T=at(c,p.line);if(T.markedSpans)for(var F=0;F<T.markedSpans.length;++F){var P=T.markedSpans[F],R=P.marker,H="selectLeft"in R?!R.selectLeft:R.inclusiveLeft,J="selectRight"in R?!R.selectRight:R.inclusiveRight;if((P.from==null||(H?P.from<=p.ch:P.from<p.ch))&&(P.to==null||(J?P.to>=p.ch:P.to>p.ch))){if(x&&(et(R,"beforeCursorEnter"),R.explicitlyCleared))if(T.markedSpans){--F;continue}else break;if(!R.atomic)continue;if(y){var ne=R.find(b<0?1:-1),ye=void 0;if((b<0?J:H)&&(ne=ed(c,ne,-b,ne&&ne.line==p.line?T:null)),ne&&ne.line==p.line&&(ye=vt(ne,y))&&(b<0?ye<0:ye>0))return lo(c,ne,p,b,x)}var pe=R.find(b<0?-1:1);return(b<0?H:J)&&(pe=ed(c,pe,b,pe.line==p.line?T:null)),pe?lo(c,pe,p,b,x):null}}return p}function Uo(c,p,y,b,x){var T=b||1,F=lo(c,p,y,T,x)||!x&&lo(c,p,y,T,!0)||lo(c,p,y,-T,x)||!x&&lo(c,p,y,-T,!0);return F||(c.cantEdit=!0,Ve(c.first,0))}function ed(c,p,y,b){return y<0&&p.ch==0?p.line>c.first?_t(c,Ve(p.line-1)):null:y>0&&p.ch==(b||at(c,p.line)).text.length?p.line<c.first+c.size-1?Ve(p.line+1,0):null:new Ve(p.line,p.ch+y)}function Jl(c){c.setSelection(Ve(c.firstLine(),0),Ve(c.lastLine()),pn)}function td(c,p,y){var b={canceled:!1,from:p.from,to:p.to,text:p.text,origin:p.origin,cancel:function(){return b.canceled=!0}};return y&&(b.update=function(x,T,F,P){x&&(b.from=_t(c,x)),T&&(b.to=_t(c,T)),F&&(b.text=F),P!==void 0&&(b.origin=P)}),et(c,"beforeChange",c,b),c.cm&&et(c.cm,"beforeChange",c.cm,b),b.canceled?(c.cm&&(c.cm.curOp.updateInput=2),null):{from:b.from,to:b.to,text:b.text,origin:b.origin}}function _a(c,p,y){if(c.cm){if(!c.cm.curOp)return Tn(c.cm,_a)(c,p,y);if(c.cm.state.suppressEdits)return}if(!((yt(c,"beforeChange")||c.cm&&yt(c.cm,"beforeChange"))&&(p=td(c,p,!0),!p))){var b=vl&&!y&&Lh(c,p.from,p.to);if(b)for(var x=b.length-1;x>=0;--x)nd(c,{from:b[x].from,to:b[x].to,text:x?[""]:p.text,origin:p.origin});else nd(c,p)}}function nd(c,p){if(!(p.text.length==1&&p.text[0]==""&&vt(p.from,p.to)==0)){var y=jl(c,p);Yc(c,p,y,c.cm?c.cm.curOp.id:NaN),uo(c,p,y,ft(c,p));var b=[];Zs(c,function(x,T){!T&&kt(b,x.history)==-1&&(ad(x.history,p),b.push(x.history)),uo(x,p,null,ft(x,p))})}}function qo(c,p,y){var b=c.cm&&c.cm.state.suppressEdits;if(!(b&&!y)){for(var x=c.history,T,F=c.sel,P=p=="undo"?x.done:x.undone,R=p=="undo"?x.undone:x.done,H=0;H<P.length&&(T=P[H],!(y?T.ranges&&!T.equals(c.sel):!T.ranges));H++);if(H!=P.length){for(x.lastOrigin=x.lastSelOrigin=null;;)if(T=P.pop(),T.ranges){if(jo(T,R),y&&!T.equals(c.sel)){Zn(c,T,{clearRedo:!1});return}F=T}else if(b){P.push(T);return}else break;var J=[];jo(F,R),R.push({changes:J,generation:x.generation}),x.generation=T.generation||++x.maxGeneration;for(var ne=yt(c,"beforeChange")||c.cm&&yt(c.cm,"beforeChange"),ye=function(Re){var We=T.changes[Re];if(We.origin=p,ne&&!td(c,We,!1))return P.length=0,{};J.push(jr(c,We));var qe=Re?jl(c,We):st(P);uo(c,We,qe,Yl(c,We)),!Re&&c.cm&&c.cm.scrollIntoView({from:We.from,to:Xs(We)});var Ze=[];Zs(c,function(Ye,tt){!tt&&kt(Ze,Ye.history)==-1&&(ad(Ye.history,We),Ze.push(Ye.history)),uo(Ye,We,null,Yl(Ye,We))})},pe=T.changes.length-1;pe>=0;--pe){var Ae=ye(pe);if(Ae)return Ae.v}}}}function id(c,p){if(p!=0&&(c.first+=p,c.sel=new Li(on(c.sel.ranges,function(x){return new Ot(Ve(x.anchor.line+p,x.anchor.ch),Ve(x.head.line+p,x.head.ch))}),c.sel.primIndex),c.cm)){di(c.cm,c.first,c.first-p,p);for(var y=c.cm.display,b=y.viewFrom;b<y.viewTo;b++)ds(c.cm,b,"gutter")}}function uo(c,p,y,b){if(c.cm&&!c.cm.curOp)return Tn(c.cm,uo)(c,p,y,b);if(p.to.line<c.first){id(c,p.text.length-1-(p.to.line-p.from.line));return}if(!(p.from.line>c.lastLine())){if(p.from.line<c.first){var x=p.text.length-1-(c.first-p.from.line);id(c,x),p={from:Ve(c.first,0),to:Ve(p.to.line+x,p.to.ch),text:[st(p.text)],origin:p.origin}}var T=c.lastLine();p.to.line>T&&(p={from:p.from,to:Ve(T,at(c,T).text.length),text:[p.text[0]],origin:p.origin}),p.removed=gs(c,p.from,p.to),y||(y=jl(c,p)),c.cm?sf(c.cm,p,b):Mr(c,p,b),ro(c,y,pn),c.cantEdit&&Uo(c,Ve(c.firstLine(),0))&&(c.cantEdit=!1)}}function sf(c,p,y){var b=c.doc,x=c.display,T=p.from,F=p.to,P=!1,R=T.line;c.options.lineWrapping||(R=Rt(Pi(at(b,T.line))),b.iter(R,F.line+1,function(pe){if(pe==x.maxLine)return P=!0,!0})),b.sel.contains(p.from,p.to)>-1&&gt(c),Mr(b,p,y,Al(c)),c.options.lineWrapping||(b.iter(R,T.line+p.text.length,function(pe){var Ae=Xi(pe);Ae>x.maxLineLength&&(x.maxLine=pe,x.maxLineLength=Ae,x.maxLineChanged=!0,P=!1)}),P&&(c.curOp.updateMaxLine=!0)),Th(b,T.line),ao(c,400);var H=p.text.length-(F.line-T.line)-1;p.full?di(c):T.line==F.line&&p.text.length==1&&!Mc(c.doc,p)?ds(c,T.line,"text"):di(c,T.line,F.line+1,H);var J=yt(c,"changes"),ne=yt(c,"change");if(ne||J){var ye={from:T,to:F,text:p.text,removed:p.removed,origin:p.origin};ne&&Dn(c,"change",c,ye),J&&(c.curOp.changeObjs||(c.curOp.changeObjs=[])).push(ye)}c.display.selForContextMenu=null}function Ca(c,p,y,b,x){var T;b||(b=y),vt(b,y)<0&&(T=[b,y],y=T[0],b=T[1]),typeof p=="string"&&(p=c.splitLines(p)),_a(c,{from:y,to:b,text:p,origin:x})}function sd(c,p,y,b){y<c.line?c.line+=b:p<c.line&&(c.line=p,c.ch=0)}function Ql(c,p,y,b){for(var x=0;x<c.length;++x){var T=c[x],F=!0;if(T.ranges){T.copied||(T=c[x]=T.deepCopy(),T.copied=!0);for(var P=0;P<T.ranges.length;P++)sd(T.ranges[P].anchor,p,y,b),sd(T.ranges[P].head,p,y,b);continue}for(var R=0;R<T.changes.length;++R){var H=T.changes[R];if(y<H.from.line)H.from=Ve(H.from.line+b,H.from.ch),H.to=Ve(H.to.line+b,H.to.ch);else if(p<=H.to.line){F=!1;break}}F||(c.splice(0,x+1),x=0)}}function ad(c,p){var y=p.from.line,b=p.to.line,x=p.text.length-(b-y)-1;Ql(c.done,y,b,x),Ql(c.undone,y,b,x)}function co(c,p,y,b){var x=p,T=p;return typeof p=="number"?T=at(c,Ci(c,p)):x=Rt(p),x==null?null:(b(T,x)&&c.cm&&ds(c.cm,x,y),T)}function Yo(c){this.lines=c,this.parent=null;for(var p=0,y=0;y<c.length;++y)c[y].parent=this,p+=c[y].height;this.height=p}Yo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(c,p){for(var y=c,b=c+p;y<b;++y){var x=this.lines[y];this.height-=x.height,Bh(x),Dn(x,"delete")}this.lines.splice(c,p)},collapse:function(c){c.push.apply(c,this.lines)},insertInner:function(c,p,y){this.height+=y,this.lines=this.lines.slice(0,c).concat(p).concat(this.lines.slice(c));for(var b=0;b<p.length;++b)p[b].parent=this},iterN:function(c,p,y){for(var b=c+p;c<b;++c)if(y(this.lines[c]))return!0}};function ho(c){this.children=c;for(var p=0,y=0,b=0;b<c.length;++b){var x=c[b];p+=x.chunkSize(),y+=x.height,x.parent=this}this.size=p,this.height=y,this.parent=null}ho.prototype={chunkSize:function(){return this.size},removeInner:function(c,p){this.size-=p;for(var y=0;y<this.children.length;++y){var b=this.children[y],x=b.chunkSize();if(c<x){var T=Math.min(p,x-c),F=b.height;if(b.removeInner(c,T),this.height-=F-b.height,x==T&&(this.children.splice(y--,1),b.parent=null),(p-=T)==0)break;c=0}else c-=x}if(this.size-p<25&&(this.children.length>1||!(this.children[0]instanceof Yo))){var P=[];this.collapse(P),this.children=[new Yo(P)],this.children[0].parent=this}},collapse:function(c){for(var p=0;p<this.children.length;++p)this.children[p].collapse(c)},insertInner:function(c,p,y){this.size+=p.length,this.height+=y;for(var b=0;b<this.children.length;++b){var x=this.children[b],T=x.chunkSize();if(c<=T){if(x.insertInner(c,p,y),x.lines&&x.lines.length>50){for(var F=x.lines.length%25+25,P=F;P<x.lines.length;){var R=new Yo(x.lines.slice(P,P+=25));x.height-=R.height,this.children.splice(++b,0,R),R.parent=this}x.lines=x.lines.slice(0,F),this.maybeSpill()}break}c-=T}},maybeSpill:function(){if(!(this.children.length<=10)){var c=this;do{var p=c.children.splice(c.children.length-5,5),y=new ho(p);if(c.parent){c.size-=y.size,c.height-=y.height;var x=kt(c.parent.children,c);c.parent.children.splice(x+1,0,y)}else{var b=new ho(c.children);b.parent=c,c.children=[b,y],c=b}y.parent=c.parent}while(c.children.length>10);c.parent.maybeSpill()}},iterN:function(c,p,y){for(var b=0;b<this.children.length;++b){var x=this.children[b],T=x.chunkSize();if(c<T){var F=Math.min(p,T-c);if(x.iterN(c,F,y))return!0;if((p-=F)==0)break;c=0}else c-=T}}};var Go=function(c,p,y){if(y)for(var b in y)y.hasOwnProperty(b)&&(this[b]=y[b]);this.doc=c,this.node=p};Go.prototype.clear=function(){var c=this.doc.cm,p=this.line.widgets,y=this.line,b=Rt(y);if(!(b==null||!p)){for(var x=0;x<p.length;++x)p[x]==this&&p.splice(x--,1);p.length||(y.widgets=null);var T=No(this);Gi(y,Math.max(0,y.height-T)),c&&(hi(c,function(){$l(c,y,-T),ds(c,b,"widget")}),Dn(c,"lineWidgetCleared",c,this,b))}},Go.prototype.changed=function(){var c=this,p=this.height,y=this.doc.cm,b=this.line;this.height=null;var x=No(this)-p;x&&(M(this.doc,b)||Gi(b,b.height+x),y&&hi(y,function(){y.curOp.forceUpdate=!0,$l(y,b,x),Dn(y,"lineWidgetChanged",y,c,Rt(b))}))},Ct(Go);function $l(c,p,y){Fi(p)<(c.curOp&&c.curOp.scrollTop||c.doc.scrollTop)&&Rr(c,y)}function af(c,p,y,b){var x=new Go(c,y,b),T=c.cm;return T&&x.noHScroll&&(T.display.alignWidgets=!0),co(c,p,"widget",function(F){var P=F.widgets||(F.widgets=[]);if(x.insertAt==null?P.push(x):P.splice(Math.min(P.length,Math.max(0,x.insertAt)),0,x),x.line=F,T&&!M(c,F)){var R=Fi(F)<c.scrollTop;Gi(F,F.height+No(x)),R&&Rr(T,x.height),T.curOp.forceUpdate=!0}return!0}),T&&Dn(T,"lineWidgetAdded",T,x,typeof p=="number"?p:Rt(p)),x}var eu=0,Js=function(c,p){this.lines=[],this.type=p,this.doc=c,this.id=++eu};Js.prototype.clear=function(){if(!this.explicitlyCleared){var c=this.doc.cm,p=c&&!c.curOp;if(p&&Ks(c),yt(this,"clear")){var y=this.find();y&&Dn(this,"clear",y.from,y.to)}for(var b=null,x=null,T=0;T<this.lines.length;++T){var F=this.lines[T],P=Lo(F.markedSpans,this);c&&!this.collapsed?ds(c,Rt(F),"text"):c&&(P.to!=null&&(x=Rt(F)),P.from!=null&&(b=Rt(F))),F.markedSpans=Ah(F.markedSpans,P),P.from==null&&this.collapsed&&!M(this.doc,F)&&c&&Gi(F,Ja(c.display))}if(c&&this.collapsed&&!c.options.lineWrapping)for(var R=0;R<this.lines.length;++R){var H=Pi(this.lines[R]),J=Xi(H);J>c.display.maxLineLength&&(c.display.maxLine=H,c.display.maxLineLength=J,c.display.maxLineChanged=!0)}b!=null&&c&&this.collapsed&&di(c,b,x+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,c&&$c(c.doc)),c&&Dn(c,"markerCleared",c,this,b,x),p&&Ii(c),this.parent&&this.parent.clear()}},Js.prototype.find=function(c,p){c==null&&this.type=="bookmark"&&(c=1);for(var y,b,x=0;x<this.lines.length;++x){var T=this.lines[x],F=Lo(T.markedSpans,this);if(F.from!=null&&(y=Ve(p?T:Rt(T),F.from),c==-1))return y;if(F.to!=null&&(b=Ve(p?T:Rt(T),F.to),c==1))return b}return y&&{from:y,to:b}},Js.prototype.changed=function(){var c=this,p=this.find(-1,!0),y=this,b=this.doc.cm;!p||!b||hi(b,function(){var x=p.line,T=Rt(p.line),F=Dl(b,T);if(F&&(Dc(F),b.curOp.selectionChanged=b.curOp.forceUpdate=!0),b.curOp.updateMaxLine=!0,!M(y.doc,x)&&y.height!=null){var P=y.height;y.height=null;var R=No(y)-P;R&&Gi(x,x.height+R)}Dn(b,"markerChanged",b,c)})},Js.prototype.attachLine=function(c){if(!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;(!p.maybeHiddenMarkers||kt(p.maybeHiddenMarkers,this)==-1)&&(p.maybeUnhiddenMarkers||(p.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(c)},Js.prototype.detachLine=function(c){if(this.lines.splice(kt(this.lines,c),1),!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;(p.maybeHiddenMarkers||(p.maybeHiddenMarkers=[])).push(this)}},Ct(Js);function wa(c,p,y,b,x){if(b&&b.shared)return od(c,p,y,b,x);if(c.cm&&!c.cm.curOp)return Tn(c.cm,wa)(c,p,y,b,x);var T=new Js(c,x),F=vt(p,y);if(b&&Qt(b,T,!1),F>0||F==0&&T.clearWhenEmpty!==!1)return T;if(T.replacedWith&&(T.collapsed=!0,T.widgetNode=Ne("span",[T.replacedWith],"CodeMirror-widget"),b.handleMouseEvents||T.widgetNode.setAttribute("cm-ignore-events","true"),b.insertLeft&&(T.widgetNode.insertLeft=!0)),T.collapsed){if(bs(c,p.line,p,y,T)||p.line!=y.line&&bs(c,y.line,p,y,T))throw new Error("Inserting collapsed marker partially overlapping an existing one");Eh()}T.addToHistory&&Yc(c,{from:p,to:y,origin:"markText"},c.sel,NaN);var P=p.line,R=c.cm,H;if(c.iter(P,y.line+1,function(ne){R&&T.collapsed&&!R.options.lineWrapping&&Pi(ne)==R.display.maxLine&&(H=!0),T.collapsed&&P!=p.line&&Gi(ne,0),Fh(ne,new Tr(T,P==p.line?p.ch:null,P==y.line?y.ch:null),c.cm&&c.cm.curOp),++P}),T.collapsed&&c.iter(p.line,y.line+1,function(ne){M(c,ne)&&Gi(ne,0)}),T.clearOnEnter&&ge(T,"beforeCursorEnter",function(){return T.clear()}),T.readOnly&&(dc(),(c.history.done.length||c.history.undone.length)&&c.clearHistory()),T.collapsed&&(T.id=++eu,T.atomic=!0),R){if(H&&(R.curOp.updateMaxLine=!0),T.collapsed)di(R,p.line,y.line+1);else if(T.className||T.startStyle||T.endStyle||T.css||T.attributes||T.title)for(var J=p.line;J<=y.line;J++)ds(R,J,"text");T.atomic&&$c(R.doc),Dn(R,"markerAdded",R,T)}return T}var Ko=function(c,p){this.markers=c,this.primary=p;for(var y=0;y<c.length;++y)c[y].parent=this};Ko.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var c=0;c<this.markers.length;++c)this.markers[c].clear();Dn(this,"clear")}},Ko.prototype.find=function(c,p){return this.primary.find(c,p)},Ct(Ko);function od(c,p,y,b,x){b=Qt(b),b.shared=!1;var T=[wa(c,p,y,b,x)],F=T[0],P=b.widgetNode;return Zs(c,function(R){P&&(b.widgetNode=P.cloneNode(!0)),T.push(wa(R,_t(R,p),_t(R,y),b,x));for(var H=0;H<R.linked.length;++H)if(R.linked[H].isParent)return;F=st(T)}),new Ko(T,F)}function rd(c){return c.findMarks(Ve(c.first,0),c.clipPos(Ve(c.lastLine())),function(p){return p.parent})}function ld(c,p){for(var y=0;y<p.length;y++){var b=p[y],x=b.find(),T=c.clipPos(x.from),F=c.clipPos(x.to);if(vt(T,F)){var P=wa(c,T,F,b.primary,b.primary.type);b.markers.push(P),P.parent=b}}}function of(c){for(var p=function(b){var x=c[b],T=[x.primary.doc];Zs(x.primary.doc,function(R){return T.push(R)});for(var F=0;F<x.markers.length;F++){var P=x.markers[F];kt(T,P.doc)==-1&&(P.parent=null,x.markers.splice(F--,1))}},y=0;y<c.length;y++)p(y)}var ud=0,fi=function(c,p,y,b,x){if(!(this instanceof fi))return new fi(c,p,y,b,x);y==null&&(y=0),ho.call(this,[new Yo([new qa("",null)])]),this.first=y,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=y;var T=Ve(y,0);this.sel=Es(T),this.history=new Wr(null),this.id=++ud,this.modeOption=p,this.lineSep=b,this.direction=x=="rtl"?"rtl":"ltr",this.extend=!1,typeof c=="string"&&(c=this.splitLines(c)),Mr(this,{from:T,to:T,text:c}),Zn(this,Es(T),pn)};fi.prototype=xe(ho.prototype,{constructor:fi,iter:function(c,p,y){y?this.iterN(c-this.first,p-c,y):this.iterN(this.first,this.first+this.size,c)},insert:function(c,p){for(var y=0,b=0;b<p.length;++b)y+=p[b].height;this.insertInner(c-this.first,p,y)},remove:function(c,p){this.removeInner(c-this.first,p)},getValue:function(c){var p=Ao(this,this.first,this.first+this.size);return c===!1?p:p.join(c||this.lineSeparator())},setValue:En(function(c){var p=Ve(this.first,0),y=this.first+this.size-1;_a(this,{from:p,to:Ve(y,at(this,y).text.length),text:this.splitLines(c),origin:"setValue",full:!0},!0),this.cm&&to(this.cm,0,0),Zn(this,Es(p),pn)}),replaceRange:function(c,p,y,b){p=_t(this,p),y=y?_t(this,y):p,Ca(this,c,p,y,b)},getRange:function(c,p,y){var b=gs(this,_t(this,c),_t(this,p));return y===!1?b:y===""?b.join(""):b.join(y||this.lineSeparator())},getLine:function(c){var p=this.getLineHandle(c);return p&&p.text},getLineHandle:function(c){if(Wa(this,c))return at(this,c)},getLineNumber:function(c){return Rt(c)},getLineHandleVisualStart:function(c){return typeof c=="number"&&(c=at(this,c)),Pi(c)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(c){return _t(this,c)},getCursor:function(c){var p=this.sel.primary(),y;return c==null||c=="head"?y=p.head:c=="anchor"?y=p.anchor:c=="end"||c=="to"||c===!1?y=p.to():y=p.from(),y},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:En(function(c,p,y){Jc(this,_t(this,typeof c=="number"?Ve(c,p||0):c),null,y)}),setSelection:En(function(c,p,y){Jc(this,_t(this,c),_t(this,p||c),y)}),extendSelection:En(function(c,p,y){Ur(this,_t(this,c),p&&_t(this,p),y)}),extendSelections:En(function(c,p){Zc(this,uc(this,c),p)}),extendSelectionsBy:En(function(c,p){var y=on(this.sel.ranges,c);Zc(this,uc(this,y),p)}),setSelections:En(function(c,p,y){if(c.length){for(var b=[],x=0;x<c.length;x++)b[x]=new Ot(_t(this,c[x].anchor),_t(this,c[x].head||c[x].anchor));p==null&&(p=Math.min(c.length-1,this.sel.primIndex)),Zn(this,Vi(this.cm,b,p),y)}}),addSelection:En(function(c,p,y){var b=this.sel.ranges.slice(0);b.push(new Ot(_t(this,c),_t(this,p||c))),Zn(this,Vi(this.cm,b,b.length-1),y)}),getSelection:function(c){for(var p=this.sel.ranges,y,b=0;b<p.length;b++){var x=gs(this,p[b].from(),p[b].to());y=y?y.concat(x):x}return c===!1?y:y.join(c||this.lineSeparator())},getSelections:function(c){for(var p=[],y=this.sel.ranges,b=0;b<y.length;b++){var x=gs(this,y[b].from(),y[b].to());c!==!1&&(x=x.join(c||this.lineSeparator())),p[b]=x}return p},replaceSelection:function(c,p,y){for(var b=[],x=0;x<this.sel.ranges.length;x++)b[x]=c;this.replaceSelections(b,p,y||"+input")},replaceSelections:En(function(c,p,y){for(var b=[],x=this.sel,T=0;T<x.ranges.length;T++){var F=x.ranges[T];b[T]={from:F.from(),to:F.to(),text:this.splitLines(c[T]),origin:y}}for(var P=p&&p!="end"&&Vc(this,b,p),R=b.length-1;R>=0;R--)_a(this,b[R]);P?Xl(this,P):this.cm&&Ri(this.cm)}),undo:En(function(){qo(this,"undo")}),redo:En(function(){qo(this,"redo")}),undoSelection:En(function(){qo(this,"undo",!0)}),redoSelection:En(function(){qo(this,"redo",!0)}),setExtending:function(c){this.extend=c},getExtending:function(){return this.extend},historySize:function(){for(var c=this.history,p=0,y=0,b=0;b<c.done.length;b++)c.done[b].ranges||++p;for(var x=0;x<c.undone.length;x++)c.undone[x].ranges||++y;return{undo:p,redo:y}},clearHistory:function(){var c=this;this.history=new Wr(this.history),Zs(this,function(p){return p.history=c.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(c){return c&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(c){return this.history.generation==(c||this.cleanGeneration)},getHistory:function(){return{done:es(this.history.done),undone:es(this.history.undone)}},setHistory:function(c){var p=this.history=new Wr(this.history);p.done=es(c.done.slice(0),null,!0),p.undone=es(c.undone.slice(0),null,!0)},setGutterMarker:En(function(c,p,y){return co(this,c,"gutter",function(b){var x=b.gutterMarkers||(b.gutterMarkers={});return x[p]=y,!y&&j(x)&&(b.gutterMarkers=null),!0})}),clearGutter:En(function(c){var p=this;this.iter(function(y){y.gutterMarkers&&y.gutterMarkers[c]&&co(p,y,"gutter",function(){return y.gutterMarkers[c]=null,j(y.gutterMarkers)&&(y.gutterMarkers=null),!0})})}),lineInfo:function(c){var p;if(typeof c=="number"){if(!Wa(this,c)||(p=c,c=at(this,c),!c))return null}else if(p=Rt(c),p==null)return null;return{line:p,handle:c,text:c.text,gutterMarkers:c.gutterMarkers,textClass:c.textClass,bgClass:c.bgClass,wrapClass:c.wrapClass,widgets:c.widgets}},addLineClass:En(function(c,p,y){return co(this,c,p=="gutter"?"gutter":"class",function(b){var x=p=="text"?"textClass":p=="background"?"bgClass":p=="gutter"?"gutterClass":"wrapClass";if(!b[x])b[x]=y;else{if(Le(y).test(b[x]))return!1;b[x]+=" "+y}return!0})}),removeLineClass:En(function(c,p,y){return co(this,c,p=="gutter"?"gutter":"class",function(b){var x=p=="text"?"textClass":p=="background"?"bgClass":p=="gutter"?"gutterClass":"wrapClass",T=b[x];if(T)if(y==null)b[x]=null;else{var F=T.match(Le(y));if(!F)return!1;var P=F.index+F[0].length;b[x]=T.slice(0,F.index)+(!F.index||P==T.length?"":" ")+T.slice(P)||null}else return!1;return!0})}),addLineWidget:En(function(c,p,y){return af(this,c,p,y)}),removeLineWidget:function(c){c.clear()},markText:function(c,p,y){return wa(this,_t(this,c),_t(this,p),y,y&&y.type||"range")},setBookmark:function(c,p){var y={replacedWith:p&&(p.nodeType==null?p.widget:p),insertLeft:p&&p.insertLeft,clearWhenEmpty:!1,shared:p&&p.shared,handleMouseEvents:p&&p.handleMouseEvents};return c=_t(this,c),wa(this,c,c,y,"bookmark")},findMarksAt:function(c){c=_t(this,c);var p=[],y=at(this,c.line).markedSpans;if(y)for(var b=0;b<y.length;++b){var x=y[b];(x.from==null||x.from<=c.ch)&&(x.to==null||x.to>=c.ch)&&p.push(x.marker.parent||x.marker)}return p},findMarks:function(c,p,y){c=_t(this,c),p=_t(this,p);var b=[],x=c.line;return this.iter(c.line,p.line+1,function(T){var F=T.markedSpans;if(F)for(var P=0;P<F.length;P++){var R=F[P];!(R.to!=null&&x==c.line&&c.ch>=R.to||R.from==null&&x!=c.line||R.from!=null&&x==p.line&&R.from>=p.ch)&&(!y||y(R.marker))&&b.push(R.marker.parent||R.marker)}++x}),b},getAllMarks:function(){var c=[];return this.iter(function(p){var y=p.markedSpans;if(y)for(var b=0;b<y.length;++b)y[b].from!=null&&c.push(y[b].marker)}),c},posFromIndex:function(c){var p,y=this.first,b=this.lineSeparator().length;return this.iter(function(x){var T=x.text.length+b;if(T>c)return p=c,!0;c-=T,++y}),_t(this,Ve(y,p))},indexFromPos:function(c){c=_t(this,c);var p=c.ch;if(c.line<this.first||c.ch<0)return 0;var y=this.lineSeparator().length;return this.iter(this.first,c.line,function(b){p+=b.text.length+y}),p},copy:function(c){var p=new fi(Ao(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return p.scrollTop=this.scrollTop,p.scrollLeft=this.scrollLeft,p.sel=this.sel,p.extend=!1,c&&(p.history.undoDepth=this.history.undoDepth,p.setHistory(this.getHistory())),p},linkedDoc:function(c){c||(c={});var p=this.first,y=this.first+this.size;c.from!=null&&c.from>p&&(p=c.from),c.to!=null&&c.to<y&&(y=c.to);var b=new fi(Ao(this,p,y),c.mode||this.modeOption,p,this.lineSep,this.direction);return c.sharedHist&&(b.history=this.history),(this.linked||(this.linked=[])).push({doc:b,sharedHist:c.sharedHist}),b.linked=[{doc:this,isParent:!0,sharedHist:c.sharedHist}],ld(b,rd(this)),b},unlinkDoc:function(c){if(c instanceof tn&&(c=c.doc),this.linked)for(var p=0;p<this.linked.length;++p){var y=this.linked[p];if(y.doc==c){this.linked.splice(p,1),c.unlinkDoc(this),of(rd(this));break}}if(c.history==this.history){var b=[c.id];Zs(c,function(x){return b.push(x.id)},!0),c.history=new Wr(null),c.history.done=es(this.history.done,b),c.history.undone=es(this.history.undone,b)}},iterLinkedDocs:function(c){Zs(this,c)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(c){return this.lineSep?c.split(this.lineSep):Ma(c)},lineSeparator:function(){return this.lineSep||`
`},setDirection:En(function(c){c!="rtl"&&(c="ltr"),c!=this.direction&&(this.direction=c,this.iter(function(p){return p.order=null}),this.cm&&jc(this.cm))})}),fi.prototype.eachLine=fi.prototype.iter;var tu=0;function rf(c){var p=this;if(nu(p),!(je(p,c)||_s(p.display,c))){pt(c),S&&(tu=+new Date);var y=va(p,c,!0),b=c.dataTransfer.files;if(!(!y||p.isReadOnly()))if(b&&b.length&&window.FileReader&&window.File)for(var x=b.length,T=Array(x),F=0,P=function(){++F==x&&Tn(p,function(){y=_t(p.doc,y);var pe={from:y,to:y,text:p.doc.splitLines(T.filter(function(Ae){return Ae!=null}).join(p.doc.lineSeparator())),origin:"paste"};_a(p.doc,pe),Xl(p.doc,Es(_t(p.doc,y),_t(p.doc,Xs(pe))))})()},R=function(pe,Ae){if(p.options.allowDropFileTypes&&kt(p.options.allowDropFileTypes,pe.type)==-1){P();return}var Re=new FileReader;Re.onerror=function(){return P()},Re.onload=function(){var We=Re.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(We)){P();return}T[Ae]=We,P()},Re.readAsText(pe)},H=0;H<b.length;H++)R(b[H],H);else{if(p.state.draggingText&&p.doc.sel.contains(y)>-1){p.state.draggingText(c),setTimeout(function(){return p.display.input.focus()},20);return}try{var J=c.dataTransfer.getData("Text");if(J){var ne;if(p.state.draggingText&&!p.state.draggingText.copy&&(ne=p.listSelections()),ro(p.doc,Es(y,y)),ne)for(var ye=0;ye<ne.length;++ye)Ca(p.doc,"",ne[ye].anchor,ne[ye].head,"drag");p.replaceSelection(J,"around","paste"),p.display.input.focus()}}catch{}}}}function cd(c,p){if(S&&(!c.state.draggingText||+new Date-tu<100)){mn(p);return}if(!(je(c,p)||_s(c.display,p))&&(p.dataTransfer.setData("Text",c.getSelection()),p.dataTransfer.effectAllowed="copyMove",p.dataTransfer.setDragImage&&!$)){var y=ce("img",null,null,"position: fixed; left: 0; top: 0;");y.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Y&&(y.width=y.height=1,c.display.wrapper.appendChild(y),y._top=y.offsetTop),p.dataTransfer.setDragImage(y,0,0),Y&&y.parentNode.removeChild(y)}}function lf(c,p){var y=va(c,p);if(y){var b=document.createDocumentFragment();Ys(c,y,b),c.display.dragCursor||(c.display.dragCursor=ce("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),c.display.lineSpace.insertBefore(c.display.dragCursor,c.display.cursorDiv)),rt(c.display.dragCursor,b)}}function nu(c){c.display.dragCursor&&(c.display.lineSpace.removeChild(c.display.dragCursor),c.display.dragCursor=null)}function dd(c){if(document.getElementsByClassName){for(var p=document.getElementsByClassName("CodeMirror"),y=[],b=0;b<p.length;b++){var x=p[b].CodeMirror;x&&y.push(x)}y.length&&y[0].operation(function(){for(var T=0;T<y.length;T++)c(y[T])})}}var iu=!1;function uf(){iu||(qr(),iu=!0)}function qr(){var c;ge(window,"resize",function(){c==null&&(c=setTimeout(function(){c=null,dd(cf)},100))}),ge(window,"blur",function(){return dd(Ss)})}function cf(c){var p=c.display;p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null,p.scrollbarsClipped=!1,c.setSize()}for(var Qs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Xo=0;Xo<10;Xo++)Qs[Xo+48]=Qs[Xo+96]=String(Xo);for(var Zo=65;Zo<=90;Zo++)Qs[Zo]=String.fromCharCode(Zo);for(var Jo=1;Jo<=12;Jo++)Qs[Jo+111]=Qs[Jo+63235]="F"+Jo;var ts={};ts.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ts.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ts.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ts.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ts.default=se?ts.macDefault:ts.pcDefault;function df(c){var p=c.split(/-(?!$)/);c=p[p.length-1];for(var y,b,x,T,F=0;F<p.length-1;F++){var P=p[F];if(/^(cmd|meta|m)$/i.test(P))T=!0;else if(/^a(lt)?$/i.test(P))y=!0;else if(/^(c|ctrl|control)$/i.test(P))b=!0;else if(/^s(hift)?$/i.test(P))x=!0;else throw new Error("Unrecognized modifier name: "+P)}return y&&(c="Alt-"+c),b&&(c="Ctrl-"+c),T&&(c="Cmd-"+c),x&&(c="Shift-"+c),c}function hf(c){var p={};for(var y in c)if(c.hasOwnProperty(y)){var b=c[y];if(/^(name|fallthrough|(de|at)tach)$/.test(y))continue;if(b=="..."){delete c[y];continue}for(var x=on(y.split(" "),df),T=0;T<x.length;T++){var F=void 0,P=void 0;T==x.length-1?(P=x.join(" "),F=b):(P=x.slice(0,T+1).join(" "),F="...");var R=p[P];if(!R)p[P]=F;else if(R!=F)throw new Error("Inconsistent bindings for "+P)}delete c[y]}for(var H in p)c[H]=p[H];return c}function xa(c,p,y,b){p=Qo(p);var x=p.call?p.call(c,b):p[c];if(x===!1)return"nothing";if(x==="...")return"multi";if(x!=null&&y(x))return"handled";if(p.fallthrough){if(Object.prototype.toString.call(p.fallthrough)!="[object Array]")return xa(c,p.fallthrough,y,b);for(var T=0;T<p.fallthrough.length;T++){var F=xa(c,p.fallthrough[T],y,b);if(F)return F}}}function hd(c){var p=typeof c=="string"?c:Qs[c.keyCode];return p=="Ctrl"||p=="Alt"||p=="Shift"||p=="Mod"}function su(c,p,y){var b=c;return p.altKey&&b!="Alt"&&(c="Alt-"+c),(Te?p.metaKey:p.ctrlKey)&&b!="Ctrl"&&(c="Ctrl-"+c),(Te?p.ctrlKey:p.metaKey)&&b!="Mod"&&(c="Cmd-"+c),!y&&p.shiftKey&&b!="Shift"&&(c="Shift-"+c),c}function fd(c,p){if(Y&&c.keyCode==34&&c.char)return!1;var y=Qs[c.keyCode];return y==null||c.altGraphKey?!1:(c.keyCode==3&&c.code&&(y=c.code),su(y,c,p))}function Qo(c){return typeof c=="string"?ts[c]:c}function ka(c,p){for(var y=c.doc.sel.ranges,b=[],x=0;x<y.length;x++){for(var T=p(y[x]);b.length&&vt(T.from,st(b).to)<=0;){var F=b.pop();if(vt(F.from,T.from)<0){T.from=F.from;break}}b.push(T)}hi(c,function(){for(var P=b.length-1;P>=0;P--)Ca(c.doc,"",b[P].from,b[P].to,"+delete");Ri(c)})}function Yr(c,p,y){var b=z(c.text,p+y,y);return b<0||b>c.text.length?null:b}function au(c,p,y){var b=Yr(c,p.ch,y);return b==null?null:new Ve(p.line,b,y<0?"after":"before")}function ou(c,p,y,b,x){if(c){p.doc.direction=="rtl"&&(x=-x);var T=le(y,p.doc.direction);if(T){var F=x<0?st(T):T[0],P=x<0==(F.level==1),R=P?"after":"before",H;if(F.level>0||p.doc.direction=="rtl"){var J=Ka(p,y);H=x<0?y.text.length-1:0;var ne=us(p,J,H).top;H=ee(function(ye){return us(p,J,ye).top==ne},x<0==(F.level==1)?F.from:F.to-1,H),R=="before"&&(H=Yr(y,H,1))}else H=x<0?F.to:F.from;return new Ve(b,H,R)}}return new Ve(b,x<0?y.text.length:0,x<0?"before":"after")}function ff(c,p,y,b){var x=le(p,c.doc.direction);if(!x)return au(p,y,b);y.ch>=p.text.length?(y.ch=p.text.length,y.sticky="before"):y.ch<=0&&(y.ch=0,y.sticky="after");var T=Ce(x,y.ch,y.sticky),F=x[T];if(c.doc.direction=="ltr"&&F.level%2==0&&(b>0?F.to>y.ch:F.from<y.ch))return au(p,y,b);var P=function(qe,Ze){return Yr(p,qe instanceof Ve?qe.ch:qe,Ze)},R,H=function(qe){return c.options.lineWrapping?(R=R||Ka(c,p),ga(c,p,R,qe)):{begin:0,end:p.text.length}},J=H(y.sticky=="before"?P(y,-1):y.ch);if(c.doc.direction=="rtl"||F.level==1){var ne=F.level==1==b<0,ye=P(y,ne?1:-1);if(ye!=null&&(ne?ye<=F.to&&ye<=J.end:ye>=F.from&&ye>=J.begin)){var pe=ne?"before":"after";return new Ve(y.line,ye,pe)}}var Ae=function(qe,Ze,Ye){for(var tt=function(qt,An){return An?new Ve(y.line,P(qt,1),"before"):new Ve(y.line,qt,"after")};qe>=0&&qe<x.length;qe+=Ze){var dt=x[qe],ct=Ze>0==(dt.level!=1),St=ct?Ye.begin:P(Ye.end,-1);if(dt.from<=St&&St<dt.to||(St=ct?dt.from:P(dt.to,-1),Ye.begin<=St&&St<Ye.end))return tt(St,ct)}},Re=Ae(T+b,b,J);if(Re)return Re;var We=b>0?J.end:P(J.begin,-1);return We!=null&&!(b>0&&We==p.text.length)&&(Re=Ae(b>0?0:x.length-1,b,H(We)),Re)?Re:null}var fo={selectAll:Jl,singleSelection:function(c){return c.setSelection(c.getCursor("anchor"),c.getCursor("head"),pn)},killLine:function(c){return ka(c,function(p){if(p.empty()){var y=at(c.doc,p.head.line).text.length;return p.head.ch==y&&p.head.line<c.lastLine()?{from:p.head,to:Ve(p.head.line+1,0)}:{from:p.head,to:Ve(p.head.line,y)}}else return{from:p.from(),to:p.to()}})},deleteLine:function(c){return ka(c,function(p){return{from:Ve(p.from().line,0),to:_t(c.doc,Ve(p.to().line+1,0))}})},delLineLeft:function(c){return ka(c,function(p){return{from:Ve(p.from().line,0),to:p.from()}})},delWrappedLineLeft:function(c){return ka(c,function(p){var y=c.charCoords(p.head,"div").top+5,b=c.coordsChar({left:0,top:y},"div");return{from:b,to:p.from()}})},delWrappedLineRight:function(c){return ka(c,function(p){var y=c.charCoords(p.head,"div").top+5,b=c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:y},"div");return{from:p.from(),to:b}})},undo:function(c){return c.undo()},redo:function(c){return c.redo()},undoSelection:function(c){return c.undoSelection()},redoSelection:function(c){return c.redoSelection()},goDocStart:function(c){return c.extendSelection(Ve(c.firstLine(),0))},goDocEnd:function(c){return c.extendSelection(Ve(c.lastLine()))},goLineStart:function(c){return c.extendSelectionsBy(function(p){return pd(c,p.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(c){return c.extendSelectionsBy(function(p){return gd(c,p.head)},{origin:"+move",bias:1})},goLineEnd:function(c){return c.extendSelectionsBy(function(p){return md(c,p.head.line)},{origin:"+move",bias:-1})},goLineRight:function(c){return c.extendSelectionsBy(function(p){var y=c.cursorCoords(p.head,"div").top+5;return c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:y},"div")},qn)},goLineLeft:function(c){return c.extendSelectionsBy(function(p){var y=c.cursorCoords(p.head,"div").top+5;return c.coordsChar({left:0,top:y},"div")},qn)},goLineLeftSmart:function(c){return c.extendSelectionsBy(function(p){var y=c.cursorCoords(p.head,"div").top+5,b=c.coordsChar({left:0,top:y},"div");return b.ch<c.getLine(b.line).search(/\S/)?gd(c,p.head):b},qn)},goLineUp:function(c){return c.moveV(-1,"line")},goLineDown:function(c){return c.moveV(1,"line")},goPageUp:function(c){return c.moveV(-1,"page")},goPageDown:function(c){return c.moveV(1,"page")},goCharLeft:function(c){return c.moveH(-1,"char")},goCharRight:function(c){return c.moveH(1,"char")},goColumnLeft:function(c){return c.moveH(-1,"column")},goColumnRight:function(c){return c.moveH(1,"column")},goWordLeft:function(c){return c.moveH(-1,"word")},goGroupRight:function(c){return c.moveH(1,"group")},goGroupLeft:function(c){return c.moveH(-1,"group")},goWordRight:function(c){return c.moveH(1,"word")},delCharBefore:function(c){return c.deleteH(-1,"codepoint")},delCharAfter:function(c){return c.deleteH(1,"char")},delWordBefore:function(c){return c.deleteH(-1,"word")},delWordAfter:function(c){return c.deleteH(1,"word")},delGroupBefore:function(c){return c.deleteH(-1,"group")},delGroupAfter:function(c){return c.deleteH(1,"group")},indentAuto:function(c){return c.indentSelection("smart")},indentMore:function(c){return c.indentSelection("add")},indentLess:function(c){return c.indentSelection("subtract")},insertTab:function(c){return c.replaceSelection("	")},insertSoftTab:function(c){for(var p=[],y=c.listSelections(),b=c.options.tabSize,x=0;x<y.length;x++){var T=y[x].from(),F=Mt(c.getLine(T.line),T.ch,b);p.push(Ei(b-F%b))}c.replaceSelections(p)},defaultTab:function(c){c.somethingSelected()?c.indentSelection("add"):c.execCommand("insertTab")},transposeChars:function(c){return hi(c,function(){for(var p=c.listSelections(),y=[],b=0;b<p.length;b++)if(p[b].empty()){var x=p[b].head,T=at(c.doc,x.line).text;if(T){if(x.ch==T.length&&(x=new Ve(x.line,x.ch-1)),x.ch>0)x=new Ve(x.line,x.ch+1),c.replaceRange(T.charAt(x.ch-1)+T.charAt(x.ch-2),Ve(x.line,x.ch-2),x,"+transpose");else if(x.line>c.doc.first){var F=at(c.doc,x.line-1).text;F&&(x=new Ve(x.line,1),c.replaceRange(T.charAt(0)+c.doc.lineSeparator()+F.charAt(F.length-1),Ve(x.line-1,F.length-1),x,"+transpose"))}}y.push(new Ot(x,x))}c.setSelections(y)})},newlineAndIndent:function(c){return hi(c,function(){for(var p=c.listSelections(),y=p.length-1;y>=0;y--)c.replaceRange(c.doc.lineSeparator(),p[y].anchor,p[y].head,"+input");p=c.listSelections();for(var b=0;b<p.length;b++)c.indentLine(p[b].from().line,null,!0);Ri(c)})},openLine:function(c){return c.replaceSelection(`
`,"start")},toggleOverwrite:function(c){return c.toggleOverwrite()}};function pd(c,p){var y=at(c.doc,p),b=Pi(y);return b!=y&&(p=Rt(b)),ou(!0,c,b,p,1)}function md(c,p){var y=at(c.doc,p),b=Oh(y);return b!=y&&(p=Rt(b)),ou(!0,c,y,p,-1)}function gd(c,p){var y=pd(c,p.line),b=at(c.doc,y.line),x=le(b,c.doc.direction);if(!x||x[0].level==0){var T=Math.max(y.ch,b.text.search(/\S/)),F=p.line==y.line&&p.ch<=T&&p.ch;return Ve(y.line,F?0:T,y.sticky)}return y}function $o(c,p,y){if(typeof p=="string"&&(p=fo[p],!p))return!1;c.display.input.ensurePolled();var b=c.display.shift,x=!1;try{c.isReadOnly()&&(c.state.suppressEdits=!0),y&&(c.display.shift=!1),x=p(c)!=$t}finally{c.display.shift=b,c.state.suppressEdits=!1}return x}function pf(c,p,y){for(var b=0;b<c.state.keyMaps.length;b++){var x=xa(p,c.state.keyMaps[b],y,c);if(x)return x}return c.options.extraKeys&&xa(p,c.options.extraKeys,y,c)||xa(p,c.options.keyMap,y,c)}var vd=new Nt;function er(c,p,y,b){var x=c.state.keySeq;if(x){if(hd(p))return"handled";if(/\'$/.test(p)?c.state.keySeq=null:vd.set(50,function(){c.state.keySeq==x&&(c.state.keySeq=null,c.display.input.reset())}),ru(c,x+" "+p,y,b))return!0}return ru(c,p,y,b)}function ru(c,p,y,b){var x=pf(c,p,b);return x=="multi"&&(c.state.keySeq=p),x=="handled"&&Dn(c,"keyHandled",c,p,y),(x=="handled"||x=="multi")&&(pt(y),Ni(c)),!!x}function bd(c,p){var y=fd(p,!0);return y?p.shiftKey&&!c.state.keySeq?er(c,"Shift-"+y,p,function(b){return $o(c,b,!0)})||er(c,y,p,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return $o(c,b)}):er(c,y,p,function(b){return $o(c,b)}):!1}function lu(c,p,y){return er(c,"'"+y+"'",p,function(b){return $o(c,b,!0)})}var uu=null;function yd(c){var p=this;if(!(c.target&&c.target!=p.display.input.getField())&&(p.curOp.focus=mt(Ee(p)),!je(p,c))){S&&D<11&&c.keyCode==27&&(c.returnValue=!1);var y=c.keyCode;p.display.shift=y==16||c.shiftKey;var b=bd(p,c);Y&&(uu=b?y:null,!b&&y==88&&!gn&&(se?c.metaKey:c.ctrlKey)&&p.replaceSelection("",null,"cut")),h&&!se&&!b&&y==46&&c.shiftKey&&!c.ctrlKey&&document.execCommand&&document.execCommand("cut"),y==18&&!/\bCodeMirror-crosshair\b/.test(p.display.lineDiv.className)&&_d(p)}}function _d(c){var p=c.display.lineDiv;zt(p,"CodeMirror-crosshair");function y(b){(b.keyCode==18||!b.altKey)&&(Ge(p,"CodeMirror-crosshair"),$e(document,"keyup",y),$e(document,"mouseover",y))}ge(document,"keyup",y),ge(document,"mouseover",y)}function Cd(c){c.keyCode==16&&(this.doc.sel.shift=!1),je(this,c)}function cu(c){var p=this;if(!(c.target&&c.target!=p.display.input.getField())&&!(_s(p.display,c)||je(p,c)||c.ctrlKey&&!c.altKey||se&&c.metaKey)){var y=c.keyCode,b=c.charCode;if(Y&&y==uu){uu=null,pt(c);return}if(!(Y&&(!c.which||c.which<10)&&bd(p,c))){var x=String.fromCharCode(b??y);x!="\b"&&(lu(p,c,x)||p.display.input.onKeyPress(c))}}}var mf=400,Gr=function(c,p,y){this.time=c,this.pos=p,this.button=y};Gr.prototype.compare=function(c,p,y){return this.time+mf>c&&vt(p,this.pos)==0&&y==this.button};var tr,po;function gf(c,p){var y=+new Date;return po&&po.compare(y,c,p)?(tr=po=null,"triple"):tr&&tr.compare(y,c,p)?(po=new Gr(y,c,p),tr=null,"double"):(tr=new Gr(y,c,p),po=null,"single")}function du(c){var p=this,y=p.display;if(!(je(p,c)||y.activeTouch&&y.input.supportsTouch())){if(y.input.ensurePolled(),y.shift=c.shiftKey,_s(y,c)){A||(y.scroller.draggable=!1,setTimeout(function(){return y.scroller.draggable=!0},100));return}if(!fu(p,c)){var b=va(p,c),x=Gn(c),T=b?gf(b,x):"single";ot(p).focus(),x==1&&p.state.selectingText&&p.state.selectingText(c),!(b&&vf(p,x,b,T,c))&&(x==1?b?bf(p,b,T,c):ti(c)==y.scroller&&pt(c):x==2?(b&&Ur(p.doc,b),setTimeout(function(){return y.input.focus()},20)):x==3&&(Ke?p.display.input.onContextMenu(c):Br(p)))}}}function vf(c,p,y,b,x){var T="Click";return b=="double"?T="Double"+T:b=="triple"&&(T="Triple"+T),T=(p==1?"Left":p==2?"Middle":"Right")+T,er(c,su(T,x),x,function(F){if(typeof F=="string"&&(F=fo[F]),!F)return!1;var P=!1;try{c.isReadOnly()&&(c.state.suppressEdits=!0),P=F(c,y)!=$t}finally{c.state.suppressEdits=!1}return P})}function wd(c,p,y){var b=c.getOption("configureMouse"),x=b?b(c,p,y):{};if(x.unit==null){var T=ke?y.shiftKey&&y.metaKey:y.altKey;x.unit=T?"rectangle":p=="single"?"char":p=="double"?"word":"line"}return(x.extend==null||c.doc.extend)&&(x.extend=c.doc.extend||y.shiftKey),x.addNew==null&&(x.addNew=se?y.metaKey:y.ctrlKey),x.moveOnDrag==null&&(x.moveOnDrag=!(se?y.altKey:y.ctrlKey)),x}function bf(c,p,y,b){S?setTimeout(Kt(Fl,c),0):c.curOp.focus=mt(Ee(c));var x=wd(c,y,b),T=c.doc.sel,F;c.options.dragDrop&&ca&&!c.isReadOnly()&&y=="single"&&(F=T.contains(p))>-1&&(vt((F=T.ranges[F]).from(),p)<0||p.xRel>0)&&(vt(F.to(),p)>0||p.xRel<0)?xd(c,b,p,x):Sd(c,b,p,x)}function xd(c,p,y,b){var x=c.display,T=!1,F=Tn(c,function(H){A&&(x.scroller.draggable=!1),c.state.draggingText=!1,c.state.delayingBlurEvent&&(c.hasFocus()?c.state.delayingBlurEvent=!1:Br(c)),$e(x.wrapper.ownerDocument,"mouseup",F),$e(x.wrapper.ownerDocument,"mousemove",P),$e(x.scroller,"dragstart",R),$e(x.scroller,"drop",F),T||(pt(H),b.addNew||Ur(c.doc,y,null,null,b.extend),A&&!$||S&&D==9?setTimeout(function(){x.wrapper.ownerDocument.body.focus({preventScroll:!0}),x.input.focus()},20):x.input.focus())}),P=function(H){T=T||Math.abs(p.clientX-H.clientX)+Math.abs(p.clientY-H.clientY)>=10},R=function(){return T=!0};A&&(x.scroller.draggable=!0),c.state.draggingText=F,F.copy=!b.moveOnDrag,ge(x.wrapper.ownerDocument,"mouseup",F),ge(x.wrapper.ownerDocument,"mousemove",P),ge(x.scroller,"dragstart",R),ge(x.scroller,"drop",F),c.state.delayingBlurEvent=!0,setTimeout(function(){return x.input.focus()},20),x.scroller.dragDrop&&x.scroller.dragDrop()}function kd(c,p,y){if(y=="char")return new Ot(p,p);if(y=="word")return c.findWordAt(p);if(y=="line")return new Ot(Ve(p.line,0),_t(c.doc,Ve(p.line+1,0)));var b=y(c,p);return new Ot(b.from,b.to)}function Sd(c,p,y,b){S&&Br(c);var x=c.display,T=c.doc;pt(p);var F,P,R=T.sel,H=R.ranges;if(b.addNew&&!b.extend?(P=T.sel.contains(y),P>-1?F=H[P]:F=new Ot(y,y)):(F=T.sel.primary(),P=T.sel.primIndex),b.unit=="rectangle")b.addNew||(F=new Ot(y,y)),y=va(c,p,!0,!0),P=-1;else{var J=kd(c,y,b.unit);b.extend?F=Gl(F,J.anchor,J.head,b.extend):F=J}b.addNew?P==-1?(P=H.length,Zn(T,Vi(c,H.concat([F]),P),{scroll:!1,origin:"*mouse"})):H.length>1&&H[P].empty()&&b.unit=="char"&&!b.extend?(Zn(T,Vi(c,H.slice(0,P).concat(H.slice(P+1)),0),{scroll:!1,origin:"*mouse"}),R=T.sel):Kl(T,P,F,lt):(P=0,Zn(T,new Li([F],0),lt),R=T.sel);var ne=y;function ye(Ye){if(vt(ne,Ye)!=0)if(ne=Ye,b.unit=="rectangle"){for(var tt=[],dt=c.options.tabSize,ct=Mt(at(T,y.line).text,y.ch,dt),St=Mt(at(T,Ye.line).text,Ye.ch,dt),qt=Math.min(ct,St),An=Math.max(ct,St),nn=Math.min(y.line,Ye.line),pi=Math.min(c.lastLine(),Math.max(y.line,Ye.line));nn<=pi;nn++){var mi=at(T,nn).text,yn=Yn(mi,qt,dt);qt==An?tt.push(new Ot(Ve(nn,yn),Ve(nn,yn))):mi.length>yn&&tt.push(new Ot(Ve(nn,yn),Ve(nn,Yn(mi,An,dt))))}tt.length||tt.push(new Ot(y,y)),Zn(T,Vi(c,R.ranges.slice(0,P).concat(tt),P),{origin:"*mouse",scroll:!1}),c.scrollIntoView(Ye)}else{var gi=F,Nn=kd(c,Ye,b.unit),Fn=gi.anchor,_n;vt(Nn.anchor,Fn)>0?(_n=Nn.head,Fn=Io(gi.from(),Nn.anchor)):(_n=Nn.anchor,Fn=Fo(gi.to(),Nn.head));var sn=R.ranges.slice(0);sn[P]=yf(c,new Ot(_t(T,Fn),_n)),Zn(T,Vi(c,sn,P),lt)}}var pe=x.wrapper.getBoundingClientRect(),Ae=0;function Re(Ye){var tt=++Ae,dt=va(c,Ye,!0,b.unit=="rectangle");if(dt)if(vt(dt,ne)!=0){c.curOp.focus=mt(Ee(c)),ye(dt);var ct=Nr(x,T);(dt.line>=ct.to||dt.line<ct.from)&&setTimeout(Tn(c,function(){Ae==tt&&Re(Ye)}),150)}else{var St=Ye.clientY<pe.top?-20:Ye.clientY>pe.bottom?20:0;St&&setTimeout(Tn(c,function(){Ae==tt&&(x.scroller.scrollTop+=St,Re(Ye))}),50)}}function We(Ye){c.state.selectingText=!1,Ae=1/0,Ye&&(pt(Ye),x.input.focus()),$e(x.wrapper.ownerDocument,"mousemove",qe),$e(x.wrapper.ownerDocument,"mouseup",Ze),T.history.lastSelOrigin=null}var qe=Tn(c,function(Ye){Ye.buttons===0||!Gn(Ye)?We(Ye):Re(Ye)}),Ze=Tn(c,We);c.state.selectingText=Ze,ge(x.wrapper.ownerDocument,"mousemove",qe),ge(x.wrapper.ownerDocument,"mouseup",Ze)}function yf(c,p){var y=p.anchor,b=p.head,x=at(c.doc,y.line);if(vt(y,b)==0&&y.sticky==b.sticky)return p;var T=le(x);if(!T)return p;var F=Ce(T,y.ch,y.sticky),P=T[F];if(P.from!=y.ch&&P.to!=y.ch)return p;var R=F+(P.from==y.ch==(P.level!=1)?0:1);if(R==0||R==T.length)return p;var H;if(b.line!=y.line)H=(b.line-y.line)*(c.doc.direction=="ltr"?1:-1)>0;else{var J=Ce(T,b.ch,b.sticky),ne=J-F||(b.ch-y.ch)*(P.level==1?-1:1);J==R-1||J==R?H=ne<0:H=ne>0}var ye=T[R+(H?-1:0)],pe=H==(ye.level==1),Ae=pe?ye.from:ye.to,Re=pe?"after":"before";return y.ch==Ae&&y.sticky==Re?p:new Ot(new Ve(y.line,Ae,Re),b)}function hu(c,p,y,b){var x,T;if(p.touches)x=p.touches[0].clientX,T=p.touches[0].clientY;else try{x=p.clientX,T=p.clientY}catch{return!1}if(x>=Math.floor(c.display.gutters.getBoundingClientRect().right))return!1;b&&pt(p);var F=c.display,P=F.lineDiv.getBoundingClientRect();if(T>P.bottom||!yt(c,y))return jt(p);T-=P.top-F.viewOffset;for(var R=0;R<c.display.gutterSpecs.length;++R){var H=F.gutters.childNodes[R];if(H&&H.getBoundingClientRect().right>=x){var J=zs(c.doc,T),ne=c.display.gutterSpecs[R];return et(c,y,c,J,ne.className,p),jt(p)}}}function fu(c,p){return hu(c,p,"gutterClick",!0)}function pu(c,p){_s(c.display,p)||_f(c,p)||je(c,p,"contextmenu")||Ke||c.display.input.onContextMenu(p)}function _f(c,p){return yt(c,"gutterContextMenu")?hu(c,p,"gutterContextMenu",!1):!1}function mu(c){c.display.wrapper.className=c.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+c.options.theme.replace(/(^|\s)\s*/g," cm-s-"),zo(c)}var mo={toString:function(){return"CodeMirror.Init"}},gu={},Kr={};function Dd(c){var p=c.optionHandlers;function y(b,x,T,F){c.defaults[b]=x,T&&(p[b]=F?function(P,R,H){H!=mo&&T(P,R,H)}:T)}c.defineOption=y,c.Init=mo,y("value","",function(b,x){return b.setValue(x)},!0),y("mode",null,function(b,x){b.doc.modeOption=x,Ul(b)},!0),y("indentUnit",2,Ul,!0),y("indentWithTabs",!1),y("smartIndent",!0),y("tabSize",4,function(b){oo(b),zo(b),di(b)},!0),y("lineSeparator",null,function(b,x){if(b.doc.lineSep=x,!!x){var T=[],F=b.doc.first;b.doc.iter(function(R){for(var H=0;;){var J=R.text.indexOf(x,H);if(J==-1)break;H=J+x.length,T.push(Ve(F,J))}F++});for(var P=T.length-1;P>=0;P--)Ca(b.doc,x,T[P],Ve(T[P].line,T[P].ch+x.length))}}),y("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(b,x,T){b.state.specialChars=new RegExp(x.source+(x.test("	")?"":"|	"),"g"),T!=mo&&b.refresh()}),y("specialCharPlaceholder",pc,function(b){return b.refresh()},!0),y("electricChars",!0),y("inputStyle",ie?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),y("spellcheck",!1,function(b,x){return b.getInputField().spellcheck=x},!0),y("autocorrect",!1,function(b,x){return b.getInputField().autocorrect=x},!0),y("autocapitalize",!1,function(b,x){return b.getInputField().autocapitalize=x},!0),y("rtlMoveVisually",!be),y("wholeLineUpdateBefore",!0),y("theme","default",function(b){mu(b),Mo(b)},!0),y("keyMap","default",function(b,x,T){var F=Qo(x),P=T!=mo&&Qo(T);P&&P.detach&&P.detach(b,F),F.attach&&F.attach(b,P||null)}),y("extraKeys",null),y("configureMouse",null),y("lineWrapping",!1,Td,!0),y("gutters",[],function(b,x){b.display.gutterSpecs=Ml(x,b.options.lineNumbers),Mo(b)},!0),y("fixedGutter",!0,function(b,x){b.display.gutters.style.left=x?ci(b.display)+"px":"0",b.refresh()},!0),y("coverGutterNextToScrollbar",!1,function(b){return Qi(b)},!0),y("scrollbarStyle","native",function(b){io(b),Qi(b),b.display.scrollbars.setScrollTop(b.doc.scrollTop),b.display.scrollbars.setScrollLeft(b.doc.scrollLeft)},!0),y("lineNumbers",!1,function(b,x){b.display.gutterSpecs=Ml(b.options.gutters,x),Mo(b)},!0),y("firstLineNumber",1,Mo,!0),y("lineNumberFormatter",function(b){return b},Mo,!0),y("showCursorWhenSelecting",!1,xs,!0),y("resetSelectionOnContextMenu",!0),y("lineWiseCopyCut",!0),y("pasteLinesPerSelection",!0),y("selectionsMayTouch",!1),y("readOnly",!1,function(b,x){x=="nocursor"&&(Ss(b),b.display.input.blur()),b.display.input.readOnlyChanged(x)}),y("screenReaderLabel",null,function(b,x){x=x===""?null:x,b.display.input.screenReaderLabelChanged(x)}),y("disableInput",!1,function(b,x){x||b.display.input.reset()},!0),y("dragDrop",!0,Cf),y("allowDropFileTypes",null),y("cursorBlinkRate",530),y("cursorScrollMargin",0),y("cursorHeight",1,xs,!0),y("singleCursorHeightPerLine",!0,xs,!0),y("workTime",100),y("workDelay",100),y("flattenSpans",!0,oo,!0),y("addModeClass",!1,oo,!0),y("pollInterval",100),y("undoDepth",200,function(b,x){return b.doc.history.undoDepth=x}),y("historyEventDelay",1250),y("viewportMargin",10,function(b){return b.refresh()},!0),y("maxHighlightLength",1e4,oo,!0),y("moveInputWithCursor",!0,function(b,x){x||b.display.input.resetPosition()}),y("tabindex",null,function(b,x){return b.display.input.getField().tabIndex=x||""}),y("autofocus",null),y("direction","ltr",function(b,x){return b.doc.setDirection(x)},!0),y("phrases",null)}function Cf(c,p,y){var b=y&&y!=mo;if(!p!=!b){var x=c.display.dragFunctions,T=p?ge:$e;T(c.display.scroller,"dragstart",x.start),T(c.display.scroller,"dragenter",x.enter),T(c.display.scroller,"dragover",x.over),T(c.display.scroller,"dragleave",x.leave),T(c.display.scroller,"drop",x.drop)}}function Td(c){c.options.lineWrapping?(zt(c.display.wrapper,"CodeMirror-wrap"),c.display.sizer.style.minWidth="",c.display.sizerWidth=null):(Ge(c.display.wrapper,"CodeMirror-wrap"),wl(c)),Pr(c),di(c),zo(c),setTimeout(function(){return Qi(c)},100)}function tn(c,p){var y=this;if(!(this instanceof tn))return new tn(c,p);this.options=p=p?Qt(p):{},Qt(gu,p,!1);var b=p.value;typeof b=="string"?b=new fi(b,p.mode,null,p.lineSeparator,p.direction):p.mode&&(b.modeOption=p.mode),this.doc=b;var x=new tn.inputStyles[p.inputStyle](this),T=this.display=new $h(c,b,x,p);T.wrapper.CodeMirror=this,mu(this),p.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),io(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Nt,keySeq:null,specialChars:null},p.autofocus&&!ie&&T.input.focus(),S&&D<11&&setTimeout(function(){return y.display.input.reset(!0)},20),Ed(this),uf(),Ks(this),this.curOp.forceUpdate=!0,ql(this,b),p.autofocus&&!ie||this.hasFocus()?setTimeout(function(){y.hasFocus()&&!y.state.focused&&$a(y)},20):Ss(this);for(var F in Kr)Kr.hasOwnProperty(F)&&Kr[F](this,p[F],mo);zc(this),p.finishInit&&p.finishInit(this);for(var P=0;P<vu.length;++P)vu[P](this);Ii(this),A&&p.lineWrapping&&getComputedStyle(T.lineDiv).textRendering=="optimizelegibility"&&(T.lineDiv.style.textRendering="auto")}tn.defaults=gu,tn.optionHandlers=Kr;function Ed(c){var p=c.display;ge(p.scroller,"mousedown",Tn(c,du)),S&&D<11?ge(p.scroller,"dblclick",Tn(c,function(R){if(!je(c,R)){var H=va(c,R);if(!(!H||fu(c,R)||_s(c.display,R))){pt(R);var J=c.findWordAt(H);Ur(c.doc,J.anchor,J.head)}}})):ge(p.scroller,"dblclick",function(R){return je(c,R)||pt(R)}),ge(p.scroller,"contextmenu",function(R){return pu(c,R)}),ge(p.input.getField(),"contextmenu",function(R){p.scroller.contains(R.target)||pu(c,R)});var y,b={end:0};function x(){p.activeTouch&&(y=setTimeout(function(){return p.activeTouch=null},1e3),b=p.activeTouch,b.end=+new Date)}function T(R){if(R.touches.length!=1)return!1;var H=R.touches[0];return H.radiusX<=1&&H.radiusY<=1}function F(R,H){if(H.left==null)return!0;var J=H.left-R.left,ne=H.top-R.top;return J*J+ne*ne>20*20}ge(p.scroller,"touchstart",function(R){if(!je(c,R)&&!T(R)&&!fu(c,R)){p.input.ensurePolled(),clearTimeout(y);var H=+new Date;p.activeTouch={start:H,moved:!1,prev:H-b.end<=300?b:null},R.touches.length==1&&(p.activeTouch.left=R.touches[0].pageX,p.activeTouch.top=R.touches[0].pageY)}}),ge(p.scroller,"touchmove",function(){p.activeTouch&&(p.activeTouch.moved=!0)}),ge(p.scroller,"touchend",function(R){var H=p.activeTouch;if(H&&!_s(p,R)&&H.left!=null&&!H.moved&&new Date-H.start<300){var J=c.coordsChar(p.activeTouch,"page"),ne;!H.prev||F(H,H.prev)?ne=new Ot(J,J):!H.prev.prev||F(H,H.prev.prev)?ne=c.findWordAt(J):ne=new Ot(Ve(J.line,0),_t(c.doc,Ve(J.line+1,0))),c.setSelection(ne.anchor,ne.head),c.focus(),pt(R)}x()}),ge(p.scroller,"touchcancel",x),ge(p.scroller,"scroll",function(){p.scroller.clientHeight&&(no(c,p.scroller.scrollTop),Mn(c,p.scroller.scrollLeft,!0),et(c,"scroll",c))}),ge(p.scroller,"mousewheel",function(R){return Wn(c,R)}),ge(p.scroller,"DOMMouseScroll",function(R){return Wn(c,R)}),ge(p.wrapper,"scroll",function(){return p.wrapper.scrollTop=p.wrapper.scrollLeft=0}),p.dragFunctions={enter:function(R){je(c,R)||mn(R)},over:function(R){je(c,R)||(lf(c,R),mn(R))},start:function(R){return cd(c,R)},drop:Tn(c,rf),leave:function(R){je(c,R)||nu(c)}};var P=p.input.getField();ge(P,"keyup",function(R){return Cd.call(c,R)}),ge(P,"keydown",Tn(c,yd)),ge(P,"keypress",Tn(c,cu)),ge(P,"focus",function(R){return $a(c,R)}),ge(P,"blur",function(R){return Ss(c,R)})}var vu=[];tn.defineInitHook=function(c){return vu.push(c)};function Sa(c,p,y,b){var x=c.doc,T;y==null&&(y="add"),y=="smart"&&(x.mode.indent?T=ja(c,p).state:y="prev");var F=c.options.tabSize,P=at(x,p),R=Mt(P.text,null,F);P.stateAfter&&(P.stateAfter=null);var H=P.text.match(/^\s*/)[0],J;if(!b&&!/\S/.test(P.text))J=0,y="not";else if(y=="smart"&&(J=x.mode.indent(T,P.text.slice(H.length),P.text),J==$t||J>150)){if(!b)return;y="prev"}y=="prev"?p>x.first?J=Mt(at(x,p-1).text,null,F):J=0:y=="add"?J=R+c.options.indentUnit:y=="subtract"?J=R-c.options.indentUnit:typeof y=="number"&&(J=R+y),J=Math.max(0,J);var ne="",ye=0;if(c.options.indentWithTabs)for(var pe=Math.floor(J/F);pe;--pe)ye+=F,ne+="	";if(ye<J&&(ne+=Ei(J-ye)),ne!=H)return Ca(x,ne,Ve(p,0),Ve(p,H.length),"+input"),P.stateAfter=null,!0;for(var Ae=0;Ae<x.sel.ranges.length;Ae++){var Re=x.sel.ranges[Ae];if(Re.head.line==p&&Re.head.ch<H.length){var We=Ve(p,H.length);Kl(x,Ae,new Ot(We,We));break}}}var Mi=null;function Xr(c){Mi=c}function bu(c,p,y,b,x){var T=c.doc;c.display.shift=!1,b||(b=T.sel);var F=+new Date-200,P=x=="paste"||c.state.pasteIncoming>F,R=Ma(p),H=null;if(P&&b.ranges.length>1)if(Mi&&Mi.text.join(`
`)==p){if(b.ranges.length%Mi.text.length==0){H=[];for(var J=0;J<Mi.text.length;J++)H.push(T.splitLines(Mi.text[J]))}}else R.length==b.ranges.length&&c.options.pasteLinesPerSelection&&(H=on(R,function(qe){return[qe]}));for(var ne=c.curOp.updateInput,ye=b.ranges.length-1;ye>=0;ye--){var pe=b.ranges[ye],Ae=pe.from(),Re=pe.to();pe.empty()&&(y&&y>0?Ae=Ve(Ae.line,Ae.ch-y):c.state.overwrite&&!P?Re=Ve(Re.line,Math.min(at(T,Re.line).text.length,Re.ch+st(R).length)):P&&Mi&&Mi.lineWise&&Mi.text.join(`
`)==R.join(`
`)&&(Ae=Re=Ve(Ae.line,0)));var We={from:Ae,to:Re,text:H?H[ye%H.length]:R,origin:x||(P?"paste":c.state.cutIncoming>F?"cut":"+input")};_a(c.doc,We),Dn(c,"inputRead",c,We)}p&&!P&&yu(c,p),Ri(c),c.curOp.updateInput<2&&(c.curOp.updateInput=ne),c.curOp.typing=!0,c.state.pasteIncoming=c.state.cutIncoming=-1}function Ad(c,p){var y=c.clipboardData&&c.clipboardData.getData("Text");if(y)return c.preventDefault(),!p.isReadOnly()&&!p.options.disableInput&&p.hasFocus()&&hi(p,function(){return bu(p,y,0,null,"paste")}),!0}function yu(c,p){if(!(!c.options.electricChars||!c.options.smartIndent))for(var y=c.doc.sel,b=y.ranges.length-1;b>=0;b--){var x=y.ranges[b];if(!(x.head.ch>100||b&&y.ranges[b-1].head.line==x.head.line)){var T=c.getModeAt(x.head),F=!1;if(T.electricChars){for(var P=0;P<T.electricChars.length;P++)if(p.indexOf(T.electricChars.charAt(P))>-1){F=Sa(c,x.head.line,"smart");break}}else T.electricInput&&T.electricInput.test(at(c.doc,x.head.line).text.slice(0,x.head.ch))&&(F=Sa(c,x.head.line,"smart"));F&&Dn(c,"electricInput",c,x.head.line)}}}function Fd(c){for(var p=[],y=[],b=0;b<c.doc.sel.ranges.length;b++){var x=c.doc.sel.ranges[b].head.line,T={anchor:Ve(x,0),head:Ve(x+1,0)};y.push(T),p.push(c.getRange(T.anchor,T.head))}return{text:p,ranges:y}}function Zr(c,p,y,b){c.setAttribute("autocorrect",y?"on":"off"),c.setAttribute("autocapitalize",b?"on":"off"),c.setAttribute("spellcheck",!!p)}function Id(){var c=ce("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),p=ce("div",[c],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return A?c.style.width="1000px":c.setAttribute("wrap","off"),K&&(c.style.border="1px solid black"),p}function Ld(c){var p=c.optionHandlers,y=c.helpers={};c.prototype={constructor:c,focus:function(){ot(this).focus(),this.display.input.focus()},setOption:function(b,x){var T=this.options,F=T[b];T[b]==x&&b!="mode"||(T[b]=x,p.hasOwnProperty(b)&&Tn(this,p[b])(this,x,F),et(this,"optionChange",this,b))},getOption:function(b){return this.options[b]},getDoc:function(){return this.doc},addKeyMap:function(b,x){this.state.keyMaps[x?"push":"unshift"](Qo(b))},removeKeyMap:function(b){for(var x=this.state.keyMaps,T=0;T<x.length;++T)if(x[T]==b||x[T].name==b)return x.splice(T,1),!0},addOverlay:Xn(function(b,x){var T=b.token?b:c.getMode(this.options,b);if(T.startState)throw new Error("Overlays may not be stateful.");ut(this.state.overlays,{mode:T,modeSpec:b,opaque:x&&x.opaque,priority:x&&x.priority||0},function(F){return F.priority}),this.state.modeGen++,di(this)}),removeOverlay:Xn(function(b){for(var x=this.state.overlays,T=0;T<x.length;++T){var F=x[T].modeSpec;if(F==b||typeof b=="string"&&F.name==b){x.splice(T,1),this.state.modeGen++,di(this);return}}}),indentLine:Xn(function(b,x,T){typeof x!="string"&&typeof x!="number"&&(x==null?x=this.options.smartIndent?"smart":"prev":x=x?"add":"subtract"),Wa(this.doc,b)&&Sa(this,b,x,T)}),indentSelection:Xn(function(b){for(var x=this.doc.sel.ranges,T=-1,F=0;F<x.length;F++){var P=x[F];if(P.empty())P.head.line>T&&(Sa(this,P.head.line,b,!0),T=P.head.line,F==this.doc.sel.primIndex&&Ri(this));else{var R=P.from(),H=P.to(),J=Math.max(T,R.line);T=Math.min(this.lastLine(),H.line-(H.ch?0:1))+1;for(var ne=J;ne<T;++ne)Sa(this,ne,b);var ye=this.doc.sel.ranges;R.ch==0&&x.length==ye.length&&ye[F].from().ch>0&&Kl(this.doc,F,new Ot(R,ye[F].to()),pn)}}}),getTokenAt:function(b,x){return pl(this,b,x)},getLineTokens:function(b,x){return pl(this,Ve(b),x,!0)},getTokenTypeAt:function(b){b=_t(this.doc,b);var x=dl(this,at(this.doc,b.line)),T=0,F=(x.length-1)/2,P=b.ch,R;if(P==0)R=x[2];else for(;;){var H=T+F>>1;if((H?x[H*2-1]:0)>=P)F=H;else if(x[H*2+1]<P)T=H+1;else{R=x[H*2+2];break}}var J=R?R.indexOf("overlay "):-1;return J<0?R:J==0?null:R.slice(0,J-1)},getModeAt:function(b){var x=this.doc.mode;return x.innerMode?c.innerMode(x,this.getTokenAt(b).state).mode:x},getHelper:function(b,x){return this.getHelpers(b,x)[0]},getHelpers:function(b,x){var T=[];if(!y.hasOwnProperty(x))return T;var F=y[x],P=this.getModeAt(b);if(typeof P[x]=="string")F[P[x]]&&T.push(F[P[x]]);else if(P[x])for(var R=0;R<P[x].length;R++){var H=F[P[x][R]];H&&T.push(H)}else P.helperType&&F[P.helperType]?T.push(F[P.helperType]):F[P.name]&&T.push(F[P.name]);for(var J=0;J<F._global.length;J++){var ne=F._global[J];ne.pred(P,this)&&kt(T,ne.val)==-1&&T.push(ne.val)}return T},getStateAfter:function(b,x){var T=this.doc;return b=Ci(T,b??T.first+T.size-1),ja(this,b+1,x).state},cursorCoords:function(b,x){var T,F=this.doc.sel.primary();return b==null?T=F.head:typeof b=="object"?T=_t(this.doc,b):T=b?F.from():F.to(),li(this,T,x||"page")},charCoords:function(b,x){return vn(this,_t(this.doc,b),x||"page")},coordsChar:function(b,x){return b=El(this,b,x||"page"),Cs(this,b.left,b.top)},lineAtHeight:function(b,x){return b=El(this,{top:b,left:0},x||"page").top,zs(this.doc,b+this.display.viewOffset)},heightAtLine:function(b,x,T){var F=!1,P;if(typeof b=="number"){var R=this.doc.first+this.doc.size-1;b<this.doc.first?b=this.doc.first:b>R&&(b=R,F=!0),P=at(this.doc,b)}else P=b;return Or(this,P,{top:0,left:0},x||"page",T||F).top+(F?this.doc.height-Fi(P):0)},defaultTextHeight:function(){return Ja(this.display)},defaultCharWidth:function(){return wi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(b,x,T,F,P){var R=this.display;b=li(this,_t(this.doc,b));var H=b.bottom,J=b.left;if(x.style.position="absolute",x.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(x),R.sizer.appendChild(x),F=="over")H=b.top;else if(F=="above"||F=="near"){var ne=Math.max(R.wrapper.clientHeight,this.doc.height),ye=Math.max(R.sizer.clientWidth,R.lineSpace.clientWidth);(F=="above"||b.bottom+x.offsetHeight>ne)&&b.top>x.offsetHeight?H=b.top-x.offsetHeight:b.bottom+x.offsetHeight<=ne&&(H=b.bottom),J+x.offsetWidth>ye&&(J=ye-x.offsetWidth)}x.style.top=H+"px",x.style.left=x.style.right="",P=="right"?(J=R.sizer.clientWidth-x.offsetWidth,x.style.right="0px"):(P=="left"?J=0:P=="middle"&&(J=(R.sizer.clientWidth-x.offsetWidth)/2),x.style.left=J+"px"),T&&Ll(this,{left:J,top:H,right:J+x.offsetWidth,bottom:H+x.offsetHeight})},triggerOnKeyDown:Xn(yd),triggerOnKeyPress:Xn(cu),triggerOnKeyUp:Cd,triggerOnMouseDown:Xn(du),execCommand:function(b){if(fo.hasOwnProperty(b))return fo[b].call(null,this)},triggerElectric:Xn(function(b){yu(this,b)}),findPosH:function(b,x,T,F){var P=1;x<0&&(P=-1,x=-x);for(var R=_t(this.doc,b),H=0;H<x&&(R=_u(this.doc,R,P,T,F),!R.hitSide);++H);return R},moveH:Xn(function(b,x){var T=this;this.extendSelectionsBy(function(F){return T.display.shift||T.doc.extend||F.empty()?_u(T.doc,F.head,b,x,T.options.rtlMoveVisually):b<0?F.from():F.to()},qn)}),deleteH:Xn(function(b,x){var T=this.doc.sel,F=this.doc;T.somethingSelected()?F.replaceSelection("",null,"+delete"):ka(this,function(P){var R=_u(F,P.head,b,x,!1);return b<0?{from:R,to:P.head}:{from:P.head,to:R}})}),findPosV:function(b,x,T,F){var P=1,R=F;x<0&&(P=-1,x=-x);for(var H=_t(this.doc,b),J=0;J<x;++J){var ne=li(this,H,"div");if(R==null?R=ne.left:ne.left=R,H=Cu(this,ne,P,T),H.hitSide)break}return H},moveV:Xn(function(b,x){var T=this,F=this.doc,P=[],R=!this.display.shift&&!F.extend&&F.sel.somethingSelected();if(F.extendSelectionsBy(function(J){if(R)return b<0?J.from():J.to();var ne=li(T,J.head,"div");J.goalColumn!=null&&(ne.left=J.goalColumn),P.push(ne.left);var ye=Cu(T,ne,b,x);return x=="page"&&J==F.sel.primary()&&Rr(T,vn(T,ye,"div").top-ne.top),ye},qn),P.length)for(var H=0;H<F.sel.ranges.length;H++)F.sel.ranges[H].goalColumn=P[H]}),findWordAt:function(b){var x=this.doc,T=at(x,b.line).text,F=b.ch,P=b.ch;if(T){var R=this.getHelper(b,"wordChars");(b.sticky=="before"||P==T.length)&&F?--F:++P;for(var H=T.charAt(F),J=U(H,R)?function(ne){return U(ne,R)}:/\s/.test(H)?function(ne){return/\s/.test(ne)}:function(ne){return!/\s/.test(ne)&&!U(ne)};F>0&&J(T.charAt(F-1));)--F;for(;P<T.length&&J(T.charAt(P));)++P}return new Ot(Ve(b.line,F),Ve(b.line,P))},toggleOverwrite:function(b){b!=null&&b==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?zt(this.display.cursorDiv,"CodeMirror-overwrite"):Ge(this.display.cursorDiv,"CodeMirror-overwrite"),et(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==mt(Ee(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Xn(function(b,x){to(this,b,x)}),getScrollInfo:function(){var b=this.display.scroller;return{left:b.scrollLeft,top:b.scrollTop,height:b.scrollHeight-Zi(this)-this.display.barHeight,width:b.scrollWidth-Zi(this)-this.display.barWidth,clientHeight:Ro(this),clientWidth:ma(this)}},scrollIntoView:Xn(function(b,x){b==null?(b={from:this.doc.sel.primary().head,to:null},x==null&&(x=this.options.cursorScrollMargin)):typeof b=="number"?b={from:Ve(b,0),to:null}:b.from==null&&(b={from:b,to:null}),b.to||(b.to=b.from),b.margin=x||0,b.from.line!=null?Ic(this,b):Ol(this,b.from,b.to,b.margin)}),setSize:Xn(function(b,x){var T=this,F=function(R){return typeof R=="number"||/^\d+$/.test(String(R))?R+"px":R};b!=null&&(this.display.wrapper.style.width=F(b)),x!=null&&(this.display.wrapper.style.height=F(x)),this.options.lineWrapping&&Tc(this);var P=this.display.viewFrom;this.doc.iter(P,this.display.viewTo,function(R){if(R.widgets){for(var H=0;H<R.widgets.length;H++)if(R.widgets[H].noHScroll){ds(T,P,"widget");break}}++P}),this.curOp.forceUpdate=!0,et(this,"refresh",this)}),operation:function(b){return hi(this,b)},startOperation:function(){return Ks(this)},endOperation:function(){return Ii(this)},refresh:Xn(function(){var b=this.display.cachedTextHeight;di(this),this.curOp.forceUpdate=!0,zo(this),to(this,this.doc.scrollLeft,this.doc.scrollTop),zl(this.display),(b==null||Math.abs(b-Ja(this.display))>.5||this.options.lineWrapping)&&Pr(this),et(this,"refresh",this)}),swapDoc:Xn(function(b){var x=this.doc;return x.cm=null,this.state.selectingText&&this.state.selectingText(),ql(this,b),zo(this),this.display.input.reset(),to(this,b.scrollLeft,b.scrollTop),this.curOp.forceScroll=!0,Dn(this,"swapDoc",this,x),x}),phrase:function(b){var x=this.options.phrases;return x&&Object.prototype.hasOwnProperty.call(x,b)?x[b]:b},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ct(c),c.registerHelper=function(b,x,T){y.hasOwnProperty(b)||(y[b]=c[b]={_global:[]}),y[b][x]=T},c.registerGlobalHelper=function(b,x,T,F){c.registerHelper(b,x,F),y[b]._global.push({pred:T,val:F})}}function _u(c,p,y,b,x){var T=p,F=y,P=at(c,p.line),R=x&&c.direction=="rtl"?-y:y;function H(){var Ze=p.line+R;return Ze<c.first||Ze>=c.first+c.size?!1:(p=new Ve(Ze,p.ch,p.sticky),P=at(c,Ze))}function J(Ze){var Ye;if(b=="codepoint"){var tt=P.text.charCodeAt(p.ch+(y>0?0:-1));if(isNaN(tt))Ye=null;else{var dt=y>0?tt>=55296&&tt<56320:tt>=56320&&tt<57343;Ye=new Ve(p.line,Math.max(0,Math.min(P.text.length,p.ch+y*(dt?2:1))),-y)}}else x?Ye=ff(c.cm,P,p,y):Ye=au(P,p,y);if(Ye==null)if(!Ze&&H())p=ou(x,c.cm,P,p.line,R);else return!1;else p=Ye;return!0}if(b=="char"||b=="codepoint")J();else if(b=="column")J(!0);else if(b=="word"||b=="group")for(var ne=null,ye=b=="group",pe=c.cm&&c.cm.getHelper(p,"wordChars"),Ae=!0;!(y<0&&!J(!Ae));Ae=!1){var Re=P.text.charAt(p.ch)||`
`,We=U(Re,pe)?"w":ye&&Re==`
`?"n":!ye||/\s/.test(Re)?null:"p";if(ye&&!Ae&&!We&&(We="s"),ne&&ne!=We){y<0&&(y=1,J(),p.sticky="after");break}if(We&&(ne=We),y>0&&!J(!Ae))break}var qe=Uo(c,p,T,F,!0);return xr(T,qe)&&(qe.hitSide=!0),qe}function Cu(c,p,y,b){var x=c.doc,T=p.left,F;if(b=="page"){var P=Math.min(c.display.wrapper.clientHeight,ot(c).innerHeight||x(c).documentElement.clientHeight),R=Math.max(P-.5*Ja(c.display),3);F=(y>0?p.bottom:p.top)+y*R}else b=="line"&&(F=y>0?p.bottom+3:p.top-3);for(var H;H=Cs(c,T,F),!!H.outside;){if(y<0?F<=0:F>=x.height){H.hitSide=!0;break}F+=y*5}return H}var Ht=function(c){this.cm=c,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Nt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ht.prototype.init=function(c){var p=this,y=this,b=y.cm,x=y.div=c.lineDiv;x.contentEditable=!0,Zr(x,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize);function T(P){for(var R=P.target;R;R=R.parentNode){if(R==x)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(R.className))break}return!1}ge(x,"paste",function(P){!T(P)||je(b,P)||Ad(P,b)||D<=11&&setTimeout(Tn(b,function(){return p.updateFromDOM()}),20)}),ge(x,"compositionstart",function(P){p.composing={data:P.data,done:!1}}),ge(x,"compositionupdate",function(P){p.composing||(p.composing={data:P.data,done:!1})}),ge(x,"compositionend",function(P){p.composing&&(P.data!=p.composing.data&&p.readFromDOMSoon(),p.composing.done=!0)}),ge(x,"touchstart",function(){return y.forceCompositionEnd()}),ge(x,"input",function(){p.composing||p.readFromDOMSoon()});function F(P){if(!(!T(P)||je(b,P))){if(b.somethingSelected())Xr({lineWise:!1,text:b.getSelections()}),P.type=="cut"&&b.replaceSelection("",null,"cut");else if(b.options.lineWiseCopyCut){var R=Fd(b);Xr({lineWise:!0,text:R.text}),P.type=="cut"&&b.operation(function(){b.setSelections(R.ranges,0,pn),b.replaceSelection("",null,"cut")})}else return;if(P.clipboardData){P.clipboardData.clearData();var H=Mi.text.join(`
`);if(P.clipboardData.setData("Text",H),P.clipboardData.getData("Text")==H){P.preventDefault();return}}var J=Id(),ne=J.firstChild;Zr(ne),b.display.lineSpace.insertBefore(J,b.display.lineSpace.firstChild),ne.value=Mi.text.join(`
`);var ye=mt(bt(x));ue(ne),setTimeout(function(){b.display.lineSpace.removeChild(J),ye.focus(),ye==x&&y.showPrimarySelection()},50)}}ge(x,"copy",F),ge(x,"cut",F)},Ht.prototype.screenReaderLabelChanged=function(c){c?this.div.setAttribute("aria-label",c):this.div.removeAttribute("aria-label")},Ht.prototype.prepareSelection=function(){var c=ks(this.cm,!1);return c.focus=mt(bt(this.div))==this.div,c},Ht.prototype.showSelection=function(c,p){!c||!this.cm.display.view.length||((c.focus||p)&&this.showPrimarySelection(),this.showMultipleSelections(c))},Ht.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ht.prototype.showPrimarySelection=function(){var c=this.getSelection(),p=this.cm,y=p.doc.sel.primary(),b=y.from(),x=y.to();if(p.display.viewTo==p.display.viewFrom||b.line>=p.display.viewTo||x.line<p.display.viewFrom){c.removeAllRanges();return}var T=nr(p,c.anchorNode,c.anchorOffset),F=nr(p,c.focusNode,c.focusOffset);if(!(T&&!T.bad&&F&&!F.bad&&vt(Io(T,F),b)==0&&vt(Fo(T,F),x)==0)){var P=p.display.view,R=b.line>=p.display.viewFrom&&wu(p,b)||{node:P[0].measure.map[2],offset:0},H=x.line<p.display.viewTo&&wu(p,x);if(!H){var J=P[P.length-1].measure,ne=J.maps?J.maps[J.maps.length-1]:J.map;H={node:ne[ne.length-1],offset:ne[ne.length-2]-ne[ne.length-3]}}if(!R||!H){c.removeAllRanges();return}var ye=c.rangeCount&&c.getRangeAt(0),pe;try{pe=Pe(R.node,R.offset,H.offset,H.node)}catch{}pe&&(!h&&p.state.focused?(c.collapse(R.node,R.offset),pe.collapsed||(c.removeAllRanges(),c.addRange(pe))):(c.removeAllRanges(),c.addRange(pe)),ye&&c.anchorNode==null?c.addRange(ye):h&&this.startGracePeriod()),this.rememberSelection()}},Ht.prototype.startGracePeriod=function(){var c=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){c.gracePeriod=!1,c.selectionChanged()&&c.cm.operation(function(){return c.cm.curOp.selectionChanged=!0})},20)},Ht.prototype.showMultipleSelections=function(c){rt(this.cm.display.cursorDiv,c.cursors),rt(this.cm.display.selectionDiv,c.selection)},Ht.prototype.rememberSelection=function(){var c=this.getSelection();this.lastAnchorNode=c.anchorNode,this.lastAnchorOffset=c.anchorOffset,this.lastFocusNode=c.focusNode,this.lastFocusOffset=c.focusOffset},Ht.prototype.selectionInEditor=function(){var c=this.getSelection();if(!c.rangeCount)return!1;var p=c.getRangeAt(0).commonAncestorContainer;return Qe(this.div,p)},Ht.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||mt(bt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ht.prototype.blur=function(){this.div.blur()},Ht.prototype.getField=function(){return this.div},Ht.prototype.supportsTouch=function(){return!0},Ht.prototype.receivedFocus=function(){var c=this,p=this;this.selectionInEditor()?setTimeout(function(){return c.pollSelection()},20):hi(this.cm,function(){return p.cm.curOp.selectionChanged=!0});function y(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,y))}this.polling.set(this.cm.options.pollInterval,y)},Ht.prototype.selectionChanged=function(){var c=this.getSelection();return c.anchorNode!=this.lastAnchorNode||c.anchorOffset!=this.lastAnchorOffset||c.focusNode!=this.lastFocusNode||c.focusOffset!=this.lastFocusOffset},Ht.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var c=this.getSelection(),p=this.cm;if(re&&N&&this.cm.display.gutterSpecs.length&&wf(c.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var y=nr(p,c.anchorNode,c.anchorOffset),b=nr(p,c.focusNode,c.focusOffset);y&&b&&hi(p,function(){Zn(p.doc,Es(y,b),pn),(y.bad||b.bad)&&(p.curOp.selectionChanged=!0)})}}},Ht.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var c=this.cm,p=c.display,y=c.doc.sel.primary(),b=y.from(),x=y.to();if(b.ch==0&&b.line>c.firstLine()&&(b=Ve(b.line-1,at(c.doc,b.line-1).length)),x.ch==at(c.doc,x.line).text.length&&x.line<c.lastLine()&&(x=Ve(x.line+1,0)),b.line<p.viewFrom||x.line>p.viewTo-1)return!1;var T,F,P;b.line==p.viewFrom||(T=Ji(c,b.line))==0?(F=Rt(p.view[0].line),P=p.view[0].node):(F=Rt(p.view[T].line),P=p.view[T-1].node.nextSibling);var R=Ji(c,x.line),H,J;if(R==p.view.length-1?(H=p.viewTo-1,J=p.lineDiv.lastChild):(H=Rt(p.view[R+1].line)-1,J=p.view[R+1].node.previousSibling),!P)return!1;for(var ne=c.doc.splitLines(xf(c,P,J,F,H)),ye=gs(c.doc,Ve(F,0),Ve(H,at(c.doc,H).text.length));ne.length>1&&ye.length>1;)if(st(ne)==st(ye))ne.pop(),ye.pop(),H--;else if(ne[0]==ye[0])ne.shift(),ye.shift(),F++;else break;for(var pe=0,Ae=0,Re=ne[0],We=ye[0],qe=Math.min(Re.length,We.length);pe<qe&&Re.charCodeAt(pe)==We.charCodeAt(pe);)++pe;for(var Ze=st(ne),Ye=st(ye),tt=Math.min(Ze.length-(ne.length==1?pe:0),Ye.length-(ye.length==1?pe:0));Ae<tt&&Ze.charCodeAt(Ze.length-Ae-1)==Ye.charCodeAt(Ye.length-Ae-1);)++Ae;if(ne.length==1&&ye.length==1&&F==b.line)for(;pe&&pe>b.ch&&Ze.charCodeAt(Ze.length-Ae-1)==Ye.charCodeAt(Ye.length-Ae-1);)pe--,Ae++;ne[ne.length-1]=Ze.slice(0,Ze.length-Ae).replace(/^\u200b+/,""),ne[0]=ne[0].slice(pe).replace(/\u200b+$/,"");var dt=Ve(F,pe),ct=Ve(H,ye.length?st(ye).length-Ae:0);if(ne.length>1||ne[0]||vt(dt,ct))return Ca(c.doc,ne,dt,ct,"+input"),!0},Ht.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ht.prototype.reset=function(){this.forceCompositionEnd()},Ht.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ht.prototype.readFromDOMSoon=function(){var c=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(c.readDOMTimeout=null,c.composing)if(c.composing.done)c.composing=null;else return;c.updateFromDOM()},80))},Ht.prototype.updateFromDOM=function(){var c=this;(this.cm.isReadOnly()||!this.pollContent())&&hi(this.cm,function(){return di(c.cm)})},Ht.prototype.setUneditable=function(c){c.contentEditable="false"},Ht.prototype.onKeyPress=function(c){c.charCode==0||this.composing||(c.preventDefault(),this.cm.isReadOnly()||Tn(this.cm,bu)(this.cm,String.fromCharCode(c.charCode==null?c.keyCode:c.charCode),0))},Ht.prototype.readOnlyChanged=function(c){this.div.contentEditable=String(c!="nocursor")},Ht.prototype.onContextMenu=function(){},Ht.prototype.resetPosition=function(){},Ht.prototype.needsContentAttribute=!0;function wu(c,p){var y=Dl(c,p.line);if(!y||y.hidden)return null;var b=at(c.doc,p.line),x=xc(y,b,p.line),T=le(b,c.doc.direction),F="left";if(T){var P=Ce(T,p.ch);F=P%2?"right":"left"}var R=Us(x.map,p.ch,F);return R.offset=R.collapse=="right"?R.end:R.start,R}function wf(c){for(var p=c;p;p=p.parentNode)if(/CodeMirror-gutter-wrapper/.test(p.className))return!0;return!1}function Da(c,p){return p&&(c.bad=!0),c}function xf(c,p,y,b,x){var T="",F=!1,P=c.doc.lineSeparator(),R=!1;function H(pe){return function(Ae){return Ae.id==pe}}function J(){F&&(T+=P,R&&(T+=P),F=R=!1)}function ne(pe){pe&&(J(),T+=pe)}function ye(pe){if(pe.nodeType==1){var Ae=pe.getAttribute("cm-text");if(Ae){ne(Ae);return}var Re=pe.getAttribute("cm-marker"),We;if(Re){var qe=c.findMarks(Ve(b,0),Ve(x+1,0),H(+Re));qe.length&&(We=qe[0].find(0))&&ne(gs(c.doc,We.from,We.to).join(P));return}if(pe.getAttribute("contenteditable")=="false")return;var Ze=/^(pre|div|p|li|table|br)$/i.test(pe.nodeName);if(!/^br$/i.test(pe.nodeName)&&pe.textContent.length==0)return;Ze&&J();for(var Ye=0;Ye<pe.childNodes.length;Ye++)ye(pe.childNodes[Ye]);/^(pre|p)$/i.test(pe.nodeName)&&(R=!0),Ze&&(F=!0)}else pe.nodeType==3&&ne(pe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ye(p),p!=y;)p=p.nextSibling,R=!1;return T}function nr(c,p,y){var b;if(p==c.display.lineDiv){if(b=c.display.lineDiv.childNodes[y],!b)return Da(c.clipPos(Ve(c.display.viewTo-1)),!0);p=null,y=0}else for(b=p;;b=b.parentNode){if(!b||b==c.display.lineDiv)return null;if(b.parentNode&&b.parentNode==c.display.lineDiv)break}for(var x=0;x<c.display.view.length;x++){var T=c.display.view[x];if(T.node==b)return kf(T,p,y)}}function kf(c,p,y){var b=c.text.firstChild,x=!1;if(!p||!Qe(b,p))return Da(Ve(Rt(c.line),0),!0);if(p==b&&(x=!0,p=b.childNodes[y],y=0,!p)){var T=c.rest?st(c.rest):c.line;return Da(Ve(Rt(T),T.text.length),x)}var F=p.nodeType==3?p:null,P=p;for(!F&&p.childNodes.length==1&&p.firstChild.nodeType==3&&(F=p.firstChild,y&&(y=F.nodeValue.length));P.parentNode!=b;)P=P.parentNode;var R=c.measure,H=R.maps;function J(We,qe,Ze){for(var Ye=-1;Ye<(H?H.length:0);Ye++)for(var tt=Ye<0?R.map:H[Ye],dt=0;dt<tt.length;dt+=3){var ct=tt[dt+2];if(ct==We||ct==qe){var St=Rt(Ye<0?c.line:c.rest[Ye]),qt=tt[dt]+Ze;return(Ze<0||ct!=We)&&(qt=tt[dt+(Ze?1:0)]),Ve(St,qt)}}}var ne=J(F,P,y);if(ne)return Da(ne,x);for(var ye=P.nextSibling,pe=F?F.nodeValue.length-y:0;ye;ye=ye.nextSibling){if(ne=J(ye,ye.firstChild,0),ne)return Da(Ve(ne.line,ne.ch-pe),x);pe+=ye.textContent.length}for(var Ae=P.previousSibling,Re=y;Ae;Ae=Ae.previousSibling){if(ne=J(Ae,Ae.firstChild,-1),ne)return Da(Ve(ne.line,ne.ch+Re),x);Re+=Ae.textContent.length}}var rn=function(c){this.cm=c,this.prevInput="",this.pollingFast=!1,this.polling=new Nt,this.hasSelection=!1,this.composing=null,this.resetting=!1};rn.prototype.init=function(c){var p=this,y=this,b=this.cm;this.createField(c);var x=this.textarea;c.wrapper.insertBefore(this.wrapper,c.wrapper.firstChild),K&&(x.style.width="0px"),ge(x,"input",function(){S&&D>=9&&p.hasSelection&&(p.hasSelection=null),y.poll()}),ge(x,"paste",function(F){je(b,F)||Ad(F,b)||(b.state.pasteIncoming=+new Date,y.fastPoll())});function T(F){if(!je(b,F)){if(b.somethingSelected())Xr({lineWise:!1,text:b.getSelections()});else if(b.options.lineWiseCopyCut){var P=Fd(b);Xr({lineWise:!0,text:P.text}),F.type=="cut"?b.setSelections(P.ranges,null,pn):(y.prevInput="",x.value=P.text.join(`
`),ue(x))}else return;F.type=="cut"&&(b.state.cutIncoming=+new Date)}}ge(x,"cut",T),ge(x,"copy",T),ge(c.scroller,"paste",function(F){if(!(_s(c,F)||je(b,F))){if(!x.dispatchEvent){b.state.pasteIncoming=+new Date,y.focus();return}var P=new Event("paste");P.clipboardData=F.clipboardData,x.dispatchEvent(P)}}),ge(c.lineSpace,"selectstart",function(F){_s(c,F)||pt(F)}),ge(x,"compositionstart",function(){var F=b.getCursor("from");y.composing&&y.composing.range.clear(),y.composing={start:F,range:b.markText(F,b.getCursor("to"),{className:"CodeMirror-composing"})}}),ge(x,"compositionend",function(){y.composing&&(y.poll(),y.composing.range.clear(),y.composing=null)})},rn.prototype.createField=function(c){this.wrapper=Id(),this.textarea=this.wrapper.firstChild;var p=this.cm.options;Zr(this.textarea,p.spellcheck,p.autocorrect,p.autocapitalize)},rn.prototype.screenReaderLabelChanged=function(c){c?this.textarea.setAttribute("aria-label",c):this.textarea.removeAttribute("aria-label")},rn.prototype.prepareSelection=function(){var c=this.cm,p=c.display,y=c.doc,b=ks(c);if(c.options.moveInputWithCursor){var x=li(c,y.sel.primary().head,"div"),T=p.wrapper.getBoundingClientRect(),F=p.lineDiv.getBoundingClientRect();b.teTop=Math.max(0,Math.min(p.wrapper.clientHeight-10,x.top+F.top-T.top)),b.teLeft=Math.max(0,Math.min(p.wrapper.clientWidth-10,x.left+F.left-T.left))}return b},rn.prototype.showSelection=function(c){var p=this.cm,y=p.display;rt(y.cursorDiv,c.cursors),rt(y.selectionDiv,c.selection),c.teTop!=null&&(this.wrapper.style.top=c.teTop+"px",this.wrapper.style.left=c.teLeft+"px")},rn.prototype.reset=function(c){if(!(this.contextMenuPending||this.composing&&c)){var p=this.cm;if(this.resetting=!0,p.somethingSelected()){this.prevInput="";var y=p.getSelection();this.textarea.value=y,p.state.focused&&ue(this.textarea),S&&D>=9&&(this.hasSelection=y)}else c||(this.prevInput=this.textarea.value="",S&&D>=9&&(this.hasSelection=null));this.resetting=!1}},rn.prototype.getField=function(){return this.textarea},rn.prototype.supportsTouch=function(){return!1},rn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ie||mt(bt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},rn.prototype.blur=function(){this.textarea.blur()},rn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},rn.prototype.receivedFocus=function(){this.slowPoll()},rn.prototype.slowPoll=function(){var c=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){c.poll(),c.cm.state.focused&&c.slowPoll()})},rn.prototype.fastPoll=function(){var c=!1,p=this;p.pollingFast=!0;function y(){var b=p.poll();!b&&!c?(c=!0,p.polling.set(60,y)):(p.pollingFast=!1,p.slowPoll())}p.polling.set(20,y)},rn.prototype.poll=function(){var c=this,p=this.cm,y=this.textarea,b=this.prevInput;if(this.contextMenuPending||this.resetting||!p.state.focused||ll(y)&&!b&&!this.composing||p.isReadOnly()||p.options.disableInput||p.state.keySeq)return!1;var x=y.value;if(x==b&&!p.somethingSelected())return!1;if(S&&D>=9&&this.hasSelection===x||se&&/[\uf700-\uf7ff]/.test(x))return p.display.input.reset(),!1;if(p.doc.sel==p.display.selForContextMenu){var T=x.charCodeAt(0);if(T==8203&&!b&&(b="​"),T==8666)return this.reset(),this.cm.execCommand("undo")}for(var F=0,P=Math.min(b.length,x.length);F<P&&b.charCodeAt(F)==x.charCodeAt(F);)++F;return hi(p,function(){bu(p,x.slice(F),b.length-F,null,c.composing?"*compose":null),x.length>1e3||x.indexOf(`
`)>-1?y.value=c.prevInput="":c.prevInput=x,c.composing&&(c.composing.range.clear(),c.composing.range=p.markText(c.composing.start,p.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},rn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},rn.prototype.onKeyPress=function(){S&&D>=9&&(this.hasSelection=null),this.fastPoll()},rn.prototype.onContextMenu=function(c){var p=this,y=p.cm,b=y.display,x=p.textarea;p.contextMenuPending&&p.contextMenuPending();var T=va(y,c),F=b.scroller.scrollTop;if(!T||Y)return;var P=y.options.resetSelectionOnContextMenu;P&&y.doc.sel.contains(T)==-1&&Tn(y,Zn)(y.doc,Es(T),pn);var R=x.style.cssText,H=p.wrapper.style.cssText,J=p.wrapper.offsetParent.getBoundingClientRect();p.wrapper.style.cssText="position: static",x.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(c.clientY-J.top-5)+"px; left: "+(c.clientX-J.left-5)+`px;
      z-index: 1000; background: `+(S?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ne;A&&(ne=x.ownerDocument.defaultView.scrollY),b.input.focus(),A&&x.ownerDocument.defaultView.scrollTo(null,ne),b.input.reset(),y.somethingSelected()||(x.value=p.prevInput=" "),p.contextMenuPending=pe,b.selForContextMenu=y.doc.sel,clearTimeout(b.detectingSelectAll);function ye(){if(x.selectionStart!=null){var Re=y.somethingSelected(),We="​"+(Re?x.value:"");x.value="⇚",x.value=We,p.prevInput=Re?"":"​",x.selectionStart=1,x.selectionEnd=We.length,b.selForContextMenu=y.doc.sel}}function pe(){if(p.contextMenuPending==pe&&(p.contextMenuPending=!1,p.wrapper.style.cssText=H,x.style.cssText=R,S&&D<9&&b.scrollbars.setScrollTop(b.scroller.scrollTop=F),x.selectionStart!=null)){(!S||S&&D<9)&&ye();var Re=0,We=function(){b.selForContextMenu==y.doc.sel&&x.selectionStart==0&&x.selectionEnd>0&&p.prevInput=="​"?Tn(y,Jl)(y):Re++<10?b.detectingSelectAll=setTimeout(We,500):(b.selForContextMenu=null,b.input.reset())};b.detectingSelectAll=setTimeout(We,200)}}if(S&&D>=9&&ye(),Ke){mn(c);var Ae=function(){$e(window,"mouseup",Ae),setTimeout(pe,20)};ge(window,"mouseup",Ae)}else setTimeout(pe,50)},rn.prototype.readOnlyChanged=function(c){c||this.reset(),this.textarea.disabled=c=="nocursor",this.textarea.readOnly=!!c},rn.prototype.setUneditable=function(){},rn.prototype.needsContentAttribute=!1;function Sf(c,p){if(p=p?Qt(p):{},p.value=c.value,!p.tabindex&&c.tabIndex&&(p.tabindex=c.tabIndex),!p.placeholder&&c.placeholder&&(p.placeholder=c.placeholder),p.autofocus==null){var y=mt(bt(c));p.autofocus=y==c||c.getAttribute("autofocus")!=null&&y==document.body}function b(){c.value=P.getValue()}var x;if(c.form&&(ge(c.form,"submit",b),!p.leaveSubmitMethodAlone)){var T=c.form;x=T.submit;try{var F=T.submit=function(){b(),T.submit=x,T.submit(),T.submit=F}}catch{}}p.finishInit=function(R){R.save=b,R.getTextArea=function(){return c},R.toTextArea=function(){R.toTextArea=isNaN,b(),c.parentNode.removeChild(R.getWrapperElement()),c.style.display="",c.form&&($e(c.form,"submit",b),!p.leaveSubmitMethodAlone&&typeof c.form.submit=="function"&&(c.form.submit=x))}},c.style.display="none";var P=tn(function(R){return c.parentNode.insertBefore(R,c.nextSibling)},p);return P}function xu(c){c.off=$e,c.on=ge,c.wheelEventPixels=Xe,c.Doc=fi,c.splitLines=Ma,c.countColumn=Mt,c.findColumn=Yn,c.isWordChar=me,c.Pass=$t,c.signal=et,c.Line=qa,c.changeEnd=Xs,c.scrollbarModel=ba,c.Pos=Ve,c.cmpPos=vt,c.modes=_i,c.mimeModes=ri,c.resolveMode=Ns,c.getMode=ha,c.modeExtensions=fa,c.extendMode=rc,c.copyState=Rs,c.startState=lc,c.innerMode=Cr,c.commands=fo,c.keyMap=ts,c.keyName=fd,c.isModifierKey=hd,c.lookupKey=xa,c.normalizeKeyMap=hf,c.StringStream=xn,c.SharedTextMarker=Ko,c.TextMarker=Js,c.LineWidget=Go,c.e_preventDefault=pt,c.e_stopPropagation=Wt,c.e_stop=mn,c.addClass=zt,c.contains=Qe,c.rmClass=Ge,c.keyNames=Qs}Dd(tn),Ld(tn);var Df="iter insert remove copy getEditor constructor".split(" ");for(var Jr in fi.prototype)fi.prototype.hasOwnProperty(Jr)&&kt(Df,Jr)<0&&(tn.prototype[Jr]=function(c){return function(){return c.apply(this.doc,arguments)}}(fi.prototype[Jr]));return Ct(fi),tn.inputStyles={textarea:rn,contenteditable:Ht},tn.defineMode=function(c){!tn.defaults.mode&&c!="null"&&(tn.defaults.mode=c),Ps.apply(this,arguments)},tn.defineMIME=Bs,tn.defineMode("null",function(){return{token:function(c){return c.skipToEnd()}}}),tn.defineMIME("text/plain","null"),tn.defineExtension=function(c,p){tn.prototype[c]=p},tn.defineDocExtension=function(c,p){fi.prototype[c]=p},tn.fromTextArea=Sf,xu(tn),tn.version="5.65.19",tn})}(uh)),uh.exports}var Mg={exports:{}},Wg;function v3(){return Wg||(Wg=1,function(l,s){(function(a){a(as())})(function(a){var u=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,h=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,m=/[*+-]\s/;a.commands.newlineAndIndentContinueMarkdownList=function(w){if(w.getOption("disableInput"))return a.Pass;for(var S=w.listSelections(),D=[],A=0;A<S.length;A++){var O=S[A].head,N=w.getStateAfter(O.line),V=a.innerMode(w.getMode(),N);if(V.mode.name!=="markdown"&&V.mode.helperType!=="markdown"){w.execCommand("newlineAndIndent");return}else N=V.state;var Y=N.list!==!1,$=N.quote!==0,te=w.getLine(O.line),X=u.exec(te),K=/^\s*$/.test(te.slice(0,O.ch));if(!S[A].empty()||!Y&&!$||!X||K){w.execCommand("newlineAndIndent");return}if(h.test(te)){var re=$&&/>\s*$/.test(te),ie=!/>\s*$/.test(te);(re||ie)&&w.replaceRange("",{line:O.line,ch:0},{line:O.line,ch:O.ch+1}),D[A]=`
`}else{var se=X[1],ke=X[5],be=!(m.test(X[2])||X[2].indexOf(">")>=0),ve=be?parseInt(X[3],10)+1+X[4]:X[2].replace("x"," ");D[A]=`
`+se+ve+ke,be&&v(w,O)}}w.replaceSelections(D)};function v(w,S){var D=S.line,A=0,O=0,N=u.exec(w.getLine(D)),V=N[1];do{A+=1;var Y=D+A,$=w.getLine(Y),te=u.exec($);if(te){var X=te[1],K=parseInt(N[3],10)+A-O,re=parseInt(te[3],10),ie=re;if(V===X&&!isNaN(re))K===re&&(ie=re+1),K>re&&(ie=K+1),w.replaceRange($.replace(u,X+ie+te[4]+te[5]),{line:Y,ch:0},{line:Y,ch:$.length});else{if(V.length>X.length||V.length<X.length&&A===1)return;O+=1}}}while(te)}})}()),Mg.exports}var jg={},Ug;function b3(){if(Ug)return jg;Ug=1;var l=as();return l.commands.tabAndIndentMarkdownList=function(s){var a=s.listSelections(),u=a[0].head,h=s.getStateAfter(u.line),m=h.list!==!1;if(m){s.execCommand("indentMore");return}if(s.options.indentWithTabs)s.execCommand("insertTab");else{var v=Array(s.options.tabSize+1).join(" ");s.replaceSelection(v)}},l.commands.shiftTabAndUnindentMarkdownList=function(s){var a=s.listSelections(),u=a[0].head,h=s.getStateAfter(u.line),m=h.list!==!1;if(m){s.execCommand("indentLess");return}if(s.options.indentWithTabs)s.execCommand("insertTab");else{var v=Array(s.options.tabSize+1).join(" ");s.replaceSelection(v)}},jg}var qg={exports:{}},Yg;function y3(){return Yg||(Yg=1,function(l,s){(function(a){a(as())})(function(a){a.defineOption("fullScreen",!1,function(m,v,w){w==a.Init&&(w=!1),!w!=!v&&(v?u(m):h(m))});function u(m){var v=m.getWrapperElement();m.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:v.style.width,height:v.style.height},v.style.width="",v.style.height="auto",v.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",m.refresh()}function h(m){var v=m.getWrapperElement();v.className=v.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var w=m.state.fullScreenRestore;v.style.width=w.width,v.style.height=w.height,window.scrollTo(w.scrollLeft,w.scrollTop),m.refresh()}})}()),qg.exports}var Gg={exports:{}},Kg={exports:{}},Xg;function Uv(){return Xg||(Xg=1,function(l,s){(function(a){a(as())})(function(a){var u={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},h={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};a.defineMode("xml",function(m,v){var w=m.indentUnit,S={},D=v.htmlMode?u:h;for(var A in D)S[A]=D[A];for(var A in v)S[A]=v[A];var O,N;function V(ce,Ne){function Pe(zt){return Ne.tokenize=zt,zt(ce,Ne)}var Qe=ce.next();if(Qe=="<")return ce.eat("!")?ce.eat("[")?ce.match("CDATA[")?Pe(te("atom","]]>")):null:ce.match("--")?Pe(te("comment","-->")):ce.match("DOCTYPE",!0,!0)?(ce.eatWhile(/[\w\._\-]/),Pe(X(1))):null:ce.eat("?")?(ce.eatWhile(/[\w\._\-]/),Ne.tokenize=te("meta","?>"),"meta"):(O=ce.eat("/")?"closeTag":"openTag",Ne.tokenize=Y,"tag bracket");if(Qe=="&"){var mt;return ce.eat("#")?ce.eat("x")?mt=ce.eatWhile(/[a-fA-F\d]/)&&ce.eat(";"):mt=ce.eatWhile(/[\d]/)&&ce.eat(";"):mt=ce.eatWhile(/[\w\.\-:]/)&&ce.eat(";"),mt?"atom":"error"}else return ce.eatWhile(/[^&<]/),null}V.isInText=!0;function Y(ce,Ne){var Pe=ce.next();if(Pe==">"||Pe=="/"&&ce.eat(">"))return Ne.tokenize=V,O=Pe==">"?"endTag":"selfcloseTag","tag bracket";if(Pe=="=")return O="equals",null;if(Pe=="<"){Ne.tokenize=V,Ne.state=ke,Ne.tagName=Ne.tagStart=null;var Qe=Ne.tokenize(ce,Ne);return Qe?Qe+" tag error":"tag error"}else return/[\'\"]/.test(Pe)?(Ne.tokenize=$(Pe),Ne.stringStartCol=ce.column(),Ne.tokenize(ce,Ne)):(ce.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function $(ce){var Ne=function(Pe,Qe){for(;!Pe.eol();)if(Pe.next()==ce){Qe.tokenize=Y;break}return"string"};return Ne.isInAttribute=!0,Ne}function te(ce,Ne){return function(Pe,Qe){for(;!Pe.eol();){if(Pe.match(Ne)){Qe.tokenize=V;break}Pe.next()}return ce}}function X(ce){return function(Ne,Pe){for(var Qe;(Qe=Ne.next())!=null;){if(Qe=="<")return Pe.tokenize=X(ce+1),Pe.tokenize(Ne,Pe);if(Qe==">")if(ce==1){Pe.tokenize=V;break}else return Pe.tokenize=X(ce-1),Pe.tokenize(Ne,Pe)}return"meta"}}function K(ce){return ce&&ce.toLowerCase()}function re(ce,Ne,Pe){this.prev=ce.context,this.tagName=Ne||"",this.indent=ce.indented,this.startOfLine=Pe,(S.doNotIndent.hasOwnProperty(Ne)||ce.context&&ce.context.noIndent)&&(this.noIndent=!0)}function ie(ce){ce.context&&(ce.context=ce.context.prev)}function se(ce,Ne){for(var Pe;;){if(!ce.context||(Pe=ce.context.tagName,!S.contextGrabbers.hasOwnProperty(K(Pe))||!S.contextGrabbers[K(Pe)].hasOwnProperty(K(Ne))))return;ie(ce)}}function ke(ce,Ne,Pe){return ce=="openTag"?(Pe.tagStart=Ne.column(),be):ce=="closeTag"?ve:ke}function be(ce,Ne,Pe){return ce=="word"?(Pe.tagName=Ne.current(),N="tag",Le):S.allowMissingTagName&&ce=="endTag"?(N="tag bracket",Le(ce,Ne,Pe)):(N="error",be)}function ve(ce,Ne,Pe){if(ce=="word"){var Qe=Ne.current();return Pe.context&&Pe.context.tagName!=Qe&&S.implicitlyClosed.hasOwnProperty(K(Pe.context.tagName))&&ie(Pe),Pe.context&&Pe.context.tagName==Qe||S.matchClosing===!1?(N="tag",Te):(N="tag error",Ke)}else return S.allowMissingTagName&&ce=="endTag"?(N="tag bracket",Te(ce,Ne,Pe)):(N="error",Ke)}function Te(ce,Ne,Pe){return ce!="endTag"?(N="error",Te):(ie(Pe),ke)}function Ke(ce,Ne,Pe){return N="error",Te(ce,Ne,Pe)}function Le(ce,Ne,Pe){if(ce=="word")return N="attribute",Ge;if(ce=="endTag"||ce=="selfcloseTag"){var Qe=Pe.tagName,mt=Pe.tagStart;return Pe.tagName=Pe.tagStart=null,ce=="selfcloseTag"||S.autoSelfClosers.hasOwnProperty(K(Qe))?se(Pe,Qe):(se(Pe,Qe),Pe.context=new re(Pe,Qe,mt==Pe.indented)),ke}return N="error",Le}function Ge(ce,Ne,Pe){return ce=="equals"?it:(S.allowMissing||(N="error"),Le(ce,Ne,Pe))}function it(ce,Ne,Pe){return ce=="string"?rt:ce=="word"&&S.allowUnquoted?(N="string",Le):(N="error",Le(ce,Ne,Pe))}function rt(ce,Ne,Pe){return ce=="string"?rt:Le(ce,Ne,Pe)}return{startState:function(ce){var Ne={tokenize:V,state:ke,indented:ce||0,tagName:null,tagStart:null,context:null};return ce!=null&&(Ne.baseIndent=ce),Ne},token:function(ce,Ne){if(!Ne.tagName&&ce.sol()&&(Ne.indented=ce.indentation()),ce.eatSpace())return null;O=null;var Pe=Ne.tokenize(ce,Ne);return(Pe||O)&&Pe!="comment"&&(N=null,Ne.state=Ne.state(O||Pe,ce,Ne),N&&(Pe=N=="error"?Pe+" error":N)),Pe},indent:function(ce,Ne,Pe){var Qe=ce.context;if(ce.tokenize.isInAttribute)return ce.tagStart==ce.indented?ce.stringStartCol+1:ce.indented+w;if(Qe&&Qe.noIndent)return a.Pass;if(ce.tokenize!=Y&&ce.tokenize!=V)return Pe?Pe.match(/^(\s*)/)[0].length:0;if(ce.tagName)return S.multilineTagIndentPastTag!==!1?ce.tagStart+ce.tagName.length+2:ce.tagStart+w*(S.multilineTagIndentFactor||1);if(S.alignCDATA&&/<!\[CDATA\[/.test(Ne))return 0;var mt=Ne&&/^<(\/)?([\w_:\.-]*)/.exec(Ne);if(mt&&mt[1])for(;Qe;)if(Qe.tagName==mt[2]){Qe=Qe.prev;break}else if(S.implicitlyClosed.hasOwnProperty(K(Qe.tagName)))Qe=Qe.prev;else break;else if(mt)for(;Qe;){var zt=S.contextGrabbers[K(Qe.tagName)];if(zt&&zt.hasOwnProperty(K(mt[2])))Qe=Qe.prev;else break}for(;Qe&&Qe.prev&&!Qe.startOfLine;)Qe=Qe.prev;return Qe?Qe.indent+w:ce.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:S.htmlMode?"html":"xml",helperType:S.htmlMode?"html":"xml",skipAttribute:function(ce){ce.state==it&&(ce.state=Le)},xmlCurrentTag:function(ce){return ce.tagName?{name:ce.tagName,close:ce.type=="closeTag"}:null},xmlCurrentContext:function(ce){for(var Ne=[],Pe=ce.context;Pe;Pe=Pe.prev)Ne.push(Pe.tagName);return Ne.reverse()}}}),a.defineMIME("text/xml","xml"),a.defineMIME("application/xml","xml"),a.mimeModes.hasOwnProperty("text/html")||a.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),Kg.exports}var Zg={exports:{}},Jg;function _3(){return Jg||(Jg=1,function(l,s){(function(a){a(as())})(function(a){a.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var u=0;u<a.modeInfo.length;u++){var h=a.modeInfo[u];h.mimes&&(h.mime=h.mimes[0])}a.findModeByMIME=function(m){m=m.toLowerCase();for(var v=0;v<a.modeInfo.length;v++){var w=a.modeInfo[v];if(w.mime==m)return w;if(w.mimes){for(var S=0;S<w.mimes.length;S++)if(w.mimes[S]==m)return w}}if(/\+xml$/.test(m))return a.findModeByMIME("application/xml");if(/\+json$/.test(m))return a.findModeByMIME("application/json")},a.findModeByExtension=function(m){m=m.toLowerCase();for(var v=0;v<a.modeInfo.length;v++){var w=a.modeInfo[v];if(w.ext){for(var S=0;S<w.ext.length;S++)if(w.ext[S]==m)return w}}},a.findModeByFileName=function(m){for(var v=0;v<a.modeInfo.length;v++){var w=a.modeInfo[v];if(w.file&&w.file.test(m))return w}var S=m.lastIndexOf("."),D=S>-1&&m.substring(S+1,m.length);if(D)return a.findModeByExtension(D)},a.findModeByName=function(m){m=m.toLowerCase();for(var v=0;v<a.modeInfo.length;v++){var w=a.modeInfo[v];if(w.name.toLowerCase()==m)return w;if(w.alias){for(var S=0;S<w.alias.length;S++)if(w.alias[S].toLowerCase()==m)return w}}}})}()),Zg.exports}var Qg;function qv(){return Qg||(Qg=1,function(l,s){(function(a){a(as(),Uv(),_3())})(function(a){a.defineMode("markdown",function(u,h){var m=a.getMode(u,"text/html"),v=m.name=="null";function w(ue){if(a.findModeByName){var W=a.findModeByName(ue);W&&(ue=W.mime||W.mimes[0])}var Ee=a.getMode(u,ue);return Ee.name=="null"?null:Ee}h.highlightFormatting===void 0&&(h.highlightFormatting=!1),h.maxBlockquoteDepth===void 0&&(h.maxBlockquoteDepth=0),h.taskLists===void 0&&(h.taskLists=!1),h.strikethrough===void 0&&(h.strikethrough=!1),h.emoji===void 0&&(h.emoji=!1),h.fencedCodeBlockHighlighting===void 0&&(h.fencedCodeBlockHighlighting=!0),h.fencedCodeBlockDefaultMode===void 0&&(h.fencedCodeBlockDefaultMode="text/plain"),h.xml===void 0&&(h.xml=!0),h.tokenTypeOverrides===void 0&&(h.tokenTypeOverrides={});var S={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var D in S)S.hasOwnProperty(D)&&h.tokenTypeOverrides[D]&&(S[D]=h.tokenTypeOverrides[D]);var A=/^([*\-_])(?:\s*\1){2,}\s*$/,O=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,N=/^\[(x| )\](?=\s)/i,V=h.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,Y=/^ {0,3}(?:\={1,}|-{2,})\s*$/,$=/^[^#!\[\]*_\\<>` "'(~:]+/,te=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,X=/^\s*\[[^\]]+?\]:.*$/,K=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,re="    ";function ie(ue,W,Ee){return W.f=W.inline=Ee,Ee(ue,W)}function se(ue,W,Ee){return W.f=W.block=Ee,Ee(ue,W)}function ke(ue){return!ue||!/\S/.test(ue.string)}function be(ue){if(ue.linkTitle=!1,ue.linkHref=!1,ue.linkText=!1,ue.em=!1,ue.strong=!1,ue.strikethrough=!1,ue.quote=0,ue.indentedCode=!1,ue.f==Te){var W=v;if(!W){var Ee=a.innerMode(m,ue.htmlState);W=Ee.mode.name=="xml"&&Ee.state.tagStart===null&&!Ee.state.context&&Ee.state.tokenize.isInText}W&&(ue.f=it,ue.block=ve,ue.htmlState=null)}return ue.trailingSpace=0,ue.trailingSpaceNewLine=!1,ue.prevLine=ue.thisLine,ue.thisLine={stream:null},null}function ve(ue,W){var Ee=ue.column()===W.indentation,bt=ke(W.prevLine.stream),ot=W.indentedCode,Kt=W.prevLine.hr,Qt=W.list!==!1,Mt=(W.listStack[W.listStack.length-1]||0)+3;W.indentedCode=!1;var Nt=W.indentation;if(W.indentationDiff===null&&(W.indentationDiff=W.indentation,Qt)){for(W.list=null;Nt<W.listStack[W.listStack.length-1];)W.listStack.pop(),W.listStack.length?W.indentation=W.listStack[W.listStack.length-1]:W.list=!1;W.list!==!1&&(W.indentationDiff=Nt-W.listStack[W.listStack.length-1])}var kt=!bt&&!Kt&&!W.prevLine.header&&(!Qt||!ot)&&!W.prevLine.fencedCodeEnd,Pt=(W.list===!1||Kt||bt)&&W.indentation<=Mt&&ue.match(A),$t=null;if(W.indentationDiff>=4&&(ot||W.prevLine.fencedCodeEnd||W.prevLine.header||bt))return ue.skipToEnd(),W.indentedCode=!0,S.code;if(ue.eatSpace())return null;if(Ee&&W.indentation<=Mt&&($t=ue.match(V))&&$t[1].length<=6)return W.quote=0,W.header=$t[1].length,W.thisLine.header=!0,h.highlightFormatting&&(W.formatting="header"),W.f=W.inline,Le(W);if(W.indentation<=Mt&&ue.eat(">"))return W.quote=Ee?1:W.quote+1,h.highlightFormatting&&(W.formatting="quote"),ue.eatSpace(),Le(W);if(!Pt&&!W.setext&&Ee&&W.indentation<=Mt&&($t=ue.match(O))){var pn=$t[1]?"ol":"ul";return W.indentation=Nt+ue.current().length,W.list=!0,W.quote=0,W.listStack.push(W.indentation),W.em=!1,W.strong=!1,W.code=!1,W.strikethrough=!1,h.taskLists&&ue.match(N,!1)&&(W.taskList=!0),W.f=W.inline,h.highlightFormatting&&(W.formatting=["list","list-"+pn]),Le(W)}else{if(Ee&&W.indentation<=Mt&&($t=ue.match(te,!0)))return W.quote=0,W.fencedEndRE=new RegExp($t[1]+"+ *$"),W.localMode=h.fencedCodeBlockHighlighting&&w($t[2]||h.fencedCodeBlockDefaultMode),W.localMode&&(W.localState=a.startState(W.localMode)),W.f=W.block=Ke,h.highlightFormatting&&(W.formatting="code-block"),W.code=-1,Le(W);if(W.setext||(!kt||!Qt)&&!W.quote&&W.list===!1&&!W.code&&!Pt&&!X.test(ue.string)&&($t=ue.lookAhead(1))&&($t=$t.match(Y)))return W.setext?(W.header=W.setext,W.setext=0,ue.skipToEnd(),h.highlightFormatting&&(W.formatting="header")):(W.header=$t[0].charAt(0)=="="?1:2,W.setext=W.header),W.thisLine.header=!0,W.f=W.inline,Le(W);if(Pt)return ue.skipToEnd(),W.hr=!0,W.thisLine.hr=!0,S.hr;if(ue.peek()==="[")return ie(ue,W,Qe)}return ie(ue,W,W.inline)}function Te(ue,W){var Ee=m.token(ue,W.htmlState);if(!v){var bt=a.innerMode(m,W.htmlState);(bt.mode.name=="xml"&&bt.state.tagStart===null&&!bt.state.context&&bt.state.tokenize.isInText||W.md_inside&&ue.current().indexOf(">")>-1)&&(W.f=it,W.block=ve,W.htmlState=null)}return Ee}function Ke(ue,W){var Ee=W.listStack[W.listStack.length-1]||0,bt=W.indentation<Ee,ot=Ee+3;if(W.fencedEndRE&&W.indentation<=ot&&(bt||ue.match(W.fencedEndRE))){h.highlightFormatting&&(W.formatting="code-block");var Kt;return bt||(Kt=Le(W)),W.localMode=W.localState=null,W.block=ve,W.f=it,W.fencedEndRE=null,W.code=0,W.thisLine.fencedCodeEnd=!0,bt?se(ue,W,W.block):Kt}else return W.localMode?W.localMode.token(ue,W.localState):(ue.skipToEnd(),S.code)}function Le(ue){var W=[];if(ue.formatting){W.push(S.formatting),typeof ue.formatting=="string"&&(ue.formatting=[ue.formatting]);for(var Ee=0;Ee<ue.formatting.length;Ee++)W.push(S.formatting+"-"+ue.formatting[Ee]),ue.formatting[Ee]==="header"&&W.push(S.formatting+"-"+ue.formatting[Ee]+"-"+ue.header),ue.formatting[Ee]==="quote"&&(!h.maxBlockquoteDepth||h.maxBlockquoteDepth>=ue.quote?W.push(S.formatting+"-"+ue.formatting[Ee]+"-"+ue.quote):W.push("error"))}if(ue.taskOpen)return W.push("meta"),W.length?W.join(" "):null;if(ue.taskClosed)return W.push("property"),W.length?W.join(" "):null;if(ue.linkHref?W.push(S.linkHref,"url"):(ue.strong&&W.push(S.strong),ue.em&&W.push(S.em),ue.strikethrough&&W.push(S.strikethrough),ue.emoji&&W.push(S.emoji),ue.linkText&&W.push(S.linkText),ue.code&&W.push(S.code),ue.image&&W.push(S.image),ue.imageAltText&&W.push(S.imageAltText,"link"),ue.imageMarker&&W.push(S.imageMarker)),ue.header&&W.push(S.header,S.header+"-"+ue.header),ue.quote&&(W.push(S.quote),!h.maxBlockquoteDepth||h.maxBlockquoteDepth>=ue.quote?W.push(S.quote+"-"+ue.quote):W.push(S.quote+"-"+h.maxBlockquoteDepth)),ue.list!==!1){var bt=(ue.listStack.length-1)%3;bt?bt===1?W.push(S.list2):W.push(S.list3):W.push(S.list1)}return ue.trailingSpaceNewLine?W.push("trailing-space-new-line"):ue.trailingSpace&&W.push("trailing-space-"+(ue.trailingSpace%2?"a":"b")),W.length?W.join(" "):null}function Ge(ue,W){if(ue.match($,!0))return Le(W)}function it(ue,W){var Ee=W.text(ue,W);if(typeof Ee<"u")return Ee;if(W.list)return W.list=null,Le(W);if(W.taskList){var bt=ue.match(N,!0)[1]===" ";return bt?W.taskOpen=!0:W.taskClosed=!0,h.highlightFormatting&&(W.formatting="task"),W.taskList=!1,Le(W)}if(W.taskOpen=!1,W.taskClosed=!1,W.header&&ue.match(/^#+$/,!0))return h.highlightFormatting&&(W.formatting="header"),Le(W);var ot=ue.next();if(W.linkTitle){W.linkTitle=!1;var Kt=ot;ot==="("&&(Kt=")"),Kt=(Kt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Qt="^\\s*(?:[^"+Kt+"\\\\]+|\\\\\\\\|\\\\.)"+Kt;if(ue.match(new RegExp(Qt),!0))return S.linkHref}if(ot==="`"){var Mt=W.formatting;h.highlightFormatting&&(W.formatting="code"),ue.eatWhile("`");var Nt=ue.current().length;if(W.code==0&&(!W.quote||Nt==1))return W.code=Nt,Le(W);if(Nt==W.code){var kt=Le(W);return W.code=0,kt}else return W.formatting=Mt,Le(W)}else if(W.code)return Le(W);if(ot==="\\"&&(ue.next(),h.highlightFormatting)){var Pt=Le(W),$t=S.formatting+"-escape";return Pt?Pt+" "+$t:$t}if(ot==="!"&&ue.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return W.imageMarker=!0,W.image=!0,h.highlightFormatting&&(W.formatting="image"),Le(W);if(ot==="["&&W.imageMarker&&ue.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return W.imageMarker=!1,W.imageAltText=!0,h.highlightFormatting&&(W.formatting="image"),Le(W);if(ot==="]"&&W.imageAltText){h.highlightFormatting&&(W.formatting="image");var Pt=Le(W);return W.imageAltText=!1,W.image=!1,W.inline=W.f=ce,Pt}if(ot==="["&&!W.image)return W.linkText&&ue.match(/^.*?\]/)||(W.linkText=!0,h.highlightFormatting&&(W.formatting="link")),Le(W);if(ot==="]"&&W.linkText){h.highlightFormatting&&(W.formatting="link");var Pt=Le(W);return W.linkText=!1,W.inline=W.f=ue.match(/\(.*?\)| ?\[.*?\]/,!1)?ce:it,Pt}if(ot==="<"&&ue.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){W.f=W.inline=rt,h.highlightFormatting&&(W.formatting="link");var Pt=Le(W);return Pt?Pt+=" ":Pt="",Pt+S.linkInline}if(ot==="<"&&ue.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){W.f=W.inline=rt,h.highlightFormatting&&(W.formatting="link");var Pt=Le(W);return Pt?Pt+=" ":Pt="",Pt+S.linkEmail}if(h.xml&&ot==="<"&&ue.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var pn=ue.string.indexOf(">",ue.pos);if(pn!=-1){var lt=ue.string.substring(ue.start,pn);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(lt)&&(W.md_inside=!0)}return ue.backUp(1),W.htmlState=a.startState(m),se(ue,W,Te)}if(h.xml&&ot==="<"&&ue.match(/^\/\w*?>/))return W.md_inside=!1,"tag";if(ot==="*"||ot==="_"){for(var qn=1,Yn=ue.pos==1?" ":ue.string.charAt(ue.pos-2);qn<3&&ue.eat(ot);)qn++;var en=ue.peek()||" ",Ei=!/\s/.test(en)&&(!K.test(en)||/\s/.test(Yn)||K.test(Yn)),st=!/\s/.test(Yn)&&(!K.test(Yn)||/\s/.test(en)||K.test(en)),on=null,ut=null;if(qn%2&&(!W.em&&Ei&&(ot==="*"||!st||K.test(Yn))?on=!0:W.em==ot&&st&&(ot==="*"||!Ei||K.test(en))&&(on=!1)),qn>1&&(!W.strong&&Ei&&(ot==="*"||!st||K.test(Yn))?ut=!0:W.strong==ot&&st&&(ot==="*"||!Ei||K.test(en))&&(ut=!1)),ut!=null||on!=null){h.highlightFormatting&&(W.formatting=on==null?"strong":ut==null?"em":"strong em"),on===!0&&(W.em=ot),ut===!0&&(W.strong=ot);var kt=Le(W);return on===!1&&(W.em=!1),ut===!1&&(W.strong=!1),kt}}else if(ot===" "&&(ue.eat("*")||ue.eat("_"))){if(ue.peek()===" ")return Le(W);ue.backUp(1)}if(h.strikethrough){if(ot==="~"&&ue.eatWhile(ot)){if(W.strikethrough){h.highlightFormatting&&(W.formatting="strikethrough");var kt=Le(W);return W.strikethrough=!1,kt}else if(ue.match(/^[^\s]/,!1))return W.strikethrough=!0,h.highlightFormatting&&(W.formatting="strikethrough"),Le(W)}else if(ot===" "&&ue.match("~~",!0)){if(ue.peek()===" ")return Le(W);ue.backUp(2)}}if(h.emoji&&ot===":"&&ue.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){W.emoji=!0,h.highlightFormatting&&(W.formatting="emoji");var ms=Le(W);return W.emoji=!1,ms}return ot===" "&&(ue.match(/^ +$/,!1)?W.trailingSpace++:W.trailingSpace&&(W.trailingSpaceNewLine=!0)),Le(W)}function rt(ue,W){var Ee=ue.next();if(Ee===">"){W.f=W.inline=it,h.highlightFormatting&&(W.formatting="link");var bt=Le(W);return bt?bt+=" ":bt="",bt+S.linkInline}return ue.match(/^[^>]+/,!0),S.linkInline}function ce(ue,W){if(ue.eatSpace())return null;var Ee=ue.next();return Ee==="("||Ee==="["?(W.f=W.inline=Pe(Ee==="("?")":"]"),h.highlightFormatting&&(W.formatting="link-string"),W.linkHref=!0,Le(W)):"error"}var Ne={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Pe(ue){return function(W,Ee){var bt=W.next();if(bt===ue){Ee.f=Ee.inline=it,h.highlightFormatting&&(Ee.formatting="link-string");var ot=Le(Ee);return Ee.linkHref=!1,ot}return W.match(Ne[ue]),Ee.linkHref=!0,Le(Ee)}}function Qe(ue,W){return ue.match(/^([^\]\\]|\\.)*\]:/,!1)?(W.f=mt,ue.next(),h.highlightFormatting&&(W.formatting="link"),W.linkText=!0,Le(W)):ie(ue,W,it)}function mt(ue,W){if(ue.match("]:",!0)){W.f=W.inline=zt,h.highlightFormatting&&(W.formatting="link");var Ee=Le(W);return W.linkText=!1,Ee}return ue.match(/^([^\]\\]|\\.)+/,!0),S.linkText}function zt(ue,W){return ue.eatSpace()?null:(ue.match(/^[^\s]+/,!0),ue.peek()===void 0?W.linkTitle=!0:ue.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),W.f=W.inline=it,S.linkHref+" url")}var ei={startState:function(){return{f:ve,prevLine:{stream:null},thisLine:{stream:null},block:ve,htmlState:null,indentation:0,inline:it,text:Ge,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ue){return{f:ue.f,prevLine:ue.prevLine,thisLine:ue.thisLine,block:ue.block,htmlState:ue.htmlState&&a.copyState(m,ue.htmlState),indentation:ue.indentation,localMode:ue.localMode,localState:ue.localMode?a.copyState(ue.localMode,ue.localState):null,inline:ue.inline,text:ue.text,formatting:!1,linkText:ue.linkText,linkTitle:ue.linkTitle,linkHref:ue.linkHref,code:ue.code,em:ue.em,strong:ue.strong,strikethrough:ue.strikethrough,emoji:ue.emoji,header:ue.header,setext:ue.setext,hr:ue.hr,taskList:ue.taskList,list:ue.list,listStack:ue.listStack.slice(0),quote:ue.quote,indentedCode:ue.indentedCode,trailingSpace:ue.trailingSpace,trailingSpaceNewLine:ue.trailingSpaceNewLine,md_inside:ue.md_inside,fencedEndRE:ue.fencedEndRE}},token:function(ue,W){if(W.formatting=!1,ue!=W.thisLine.stream){if(W.header=0,W.hr=!1,ue.match(/^\s*$/,!0))return be(W),null;if(W.prevLine=W.thisLine,W.thisLine={stream:ue},W.taskList=!1,W.trailingSpace=0,W.trailingSpaceNewLine=!1,!W.localState&&(W.f=W.block,W.f!=Te)){var Ee=ue.match(/^\s*/,!0)[0].replace(/\t/g,re).length;if(W.indentation=Ee,W.indentationDiff=null,Ee>0)return null}}return W.f(ue,W)},innerMode:function(ue){return ue.block==Te?{state:ue.htmlState,mode:m}:ue.localState?{state:ue.localState,mode:ue.localMode}:{state:ue,mode:ei}},indent:function(ue,W,Ee){return ue.block==Te&&m.indent?m.indent(ue.htmlState,W,Ee):ue.localState&&ue.localMode.indent?ue.localMode.indent(ue.localState,W,Ee):a.Pass},blankLine:be,getType:Le,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return ei},"xml"),a.defineMIME("text/markdown","markdown"),a.defineMIME("text/x-markdown","markdown")})}()),Gg.exports}var $g={exports:{}},e0;function Yv(){return e0||(e0=1,function(l,s){(function(a){a(as())})(function(a){a.overlayMode=function(u,h,m){return{startState:function(){return{base:a.startState(u),overlay:a.startState(h),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(v){return{base:a.copyState(u,v.base),overlay:a.copyState(h,v.overlay),basePos:v.basePos,baseCur:null,overlayPos:v.overlayPos,overlayCur:null}},token:function(v,w){return(v!=w.streamSeen||Math.min(w.basePos,w.overlayPos)<v.start)&&(w.streamSeen=v,w.basePos=w.overlayPos=v.start),v.start==w.basePos&&(w.baseCur=u.token(v,w.base),w.basePos=v.pos),v.start==w.overlayPos&&(v.pos=v.start,w.overlayCur=h.token(v,w.overlay),w.overlayPos=v.pos),v.pos=Math.min(w.basePos,w.overlayPos),w.overlayCur==null?w.baseCur:w.baseCur!=null&&w.overlay.combineTokens||m&&w.overlay.combineTokens==null?w.baseCur+" "+w.overlayCur:w.overlayCur},indent:u.indent&&function(v,w,S){return u.indent(v.base,w,S)},electricChars:u.electricChars,innerMode:function(v){return{state:v.base,mode:u}},blankLine:function(v){var w,S;return u.blankLine&&(w=u.blankLine(v.base)),h.blankLine&&(S=h.blankLine(v.overlay)),S==null?w:m&&w!=null?w+" "+S:S}}}})}()),$g.exports}var t0={exports:{}},n0;function C3(){return n0||(n0=1,function(l,s){(function(a){a(as())})(function(a){a.defineOption("placeholder","",function(D,A,O){var N=O&&O!=a.Init;if(A&&!N)D.on("blur",v),D.on("change",w),D.on("swapDoc",w),a.on(D.getInputField(),"compositionupdate",D.state.placeholderCompose=function(){m(D)}),w(D);else if(!A&&N){D.off("blur",v),D.off("change",w),D.off("swapDoc",w),a.off(D.getInputField(),"compositionupdate",D.state.placeholderCompose),u(D);var V=D.getWrapperElement();V.className=V.className.replace(" CodeMirror-empty","")}A&&!D.hasFocus()&&v(D)});function u(D){D.state.placeholder&&(D.state.placeholder.parentNode.removeChild(D.state.placeholder),D.state.placeholder=null)}function h(D){u(D);var A=D.state.placeholder=document.createElement("pre");A.style.cssText="height: 0; overflow: visible",A.style.direction=D.getOption("direction"),A.className="CodeMirror-placeholder CodeMirror-line-like";var O=D.getOption("placeholder");typeof O=="string"&&(O=document.createTextNode(O)),A.appendChild(O),D.display.lineSpace.insertBefore(A,D.display.lineSpace.firstChild)}function m(D){setTimeout(function(){var A=!1;if(D.lineCount()==1){var O=D.getInputField();A=O.nodeName=="TEXTAREA"?!D.getLine(0).length:!/[^\u200b]/.test(O.querySelector(".CodeMirror-line").textContent)}A?h(D):u(D)},20)}function v(D){S(D)&&h(D)}function w(D){var A=D.getWrapperElement(),O=S(D);A.className=A.className.replace(" CodeMirror-empty","")+(O?" CodeMirror-empty":""),O?h(D):u(D)}function S(D){return D.lineCount()===1&&D.getLine(0)===""}})}()),t0.exports}var i0={exports:{}},s0;function w3(){return s0||(s0=1,function(l,s){(function(a){a(as())})(function(a){a.defineOption("autoRefresh",!1,function(m,v){m.state.autoRefresh&&(h(m,m.state.autoRefresh),m.state.autoRefresh=null),v&&m.display.wrapper.offsetHeight==0&&u(m,m.state.autoRefresh={delay:v.delay||250})});function u(m,v){function w(){m.display.wrapper.offsetHeight?(h(m,v),m.display.lastWrapHeight!=m.display.wrapper.clientHeight&&m.refresh()):v.timeout=setTimeout(w,v.delay)}v.timeout=setTimeout(w,v.delay),v.hurry=function(){clearTimeout(v.timeout),v.timeout=setTimeout(w,50)},a.on(window,"mouseup",v.hurry),a.on(window,"keyup",v.hurry)}function h(m,v){clearTimeout(v.timeout),a.off(window,"mouseup",v.hurry),a.off(window,"keyup",v.hurry)}})}()),i0.exports}var a0={exports:{}},o0;function x3(){return o0||(o0=1,function(l,s){(function(a){a(as())})(function(a){a.defineOption("styleSelectedText",!1,function(N,V,Y){var $=Y&&Y!=a.Init;V&&!$?(N.state.markedSelection=[],N.state.markedSelectionStyle=typeof V=="string"?V:"CodeMirror-selectedtext",A(N),N.on("cursorActivity",u),N.on("change",h)):!V&&$&&(N.off("cursorActivity",u),N.off("change",h),D(N),N.state.markedSelection=N.state.markedSelectionStyle=null)});function u(N){N.state.markedSelection&&N.operation(function(){O(N)})}function h(N){N.state.markedSelection&&N.state.markedSelection.length&&N.operation(function(){D(N)})}var m=8,v=a.Pos,w=a.cmpPos;function S(N,V,Y,$){if(w(V,Y)!=0)for(var te=N.state.markedSelection,X=N.state.markedSelectionStyle,K=V.line;;){var re=K==V.line?V:v(K,0),ie=K+m,se=ie>=Y.line,ke=se?Y:v(ie,0),be=N.markText(re,ke,{className:X});if($==null?te.push(be):te.splice($++,0,be),se)break;K=ie}}function D(N){for(var V=N.state.markedSelection,Y=0;Y<V.length;++Y)V[Y].clear();V.length=0}function A(N){D(N);for(var V=N.listSelections(),Y=0;Y<V.length;Y++)S(N,V[Y].from(),V[Y].to())}function O(N){if(!N.somethingSelected())return D(N);if(N.listSelections().length>1)return A(N);var V=N.getCursor("start"),Y=N.getCursor("end"),$=N.state.markedSelection;if(!$.length)return S(N,V,Y);var te=$[0].find(),X=$[$.length-1].find();if(!te||!X||Y.line-V.line<=m||w(V,X.to)>=0||w(Y,te.from)<=0)return A(N);for(;w(V,te.from)>0;)$.shift().clear(),te=$[0].find();for(w(V,te.from)<0&&(te.to.line-V.line<m?($.shift().clear(),S(N,V,te.to,0)):S(N,V,te.from,0));w(Y,X.to)<0;)$.pop().clear(),X=$[$.length-1].find();w(Y,X.to)>0&&(Y.line-X.from.line<m?($.pop().clear(),S(N,X.from,Y)):S(N,X.to,Y))}})}()),a0.exports}var r0={exports:{}},l0;function k3(){return l0||(l0=1,function(l,s){(function(a){a(as())})(function(a){var u=a.Pos;function h(K){var re=K.flags;return re??(K.ignoreCase?"i":"")+(K.global?"g":"")+(K.multiline?"m":"")}function m(K,re){for(var ie=h(K),se=ie,ke=0;ke<re.length;ke++)se.indexOf(re.charAt(ke))==-1&&(se+=re.charAt(ke));return ie==se?K:new RegExp(K.source,se)}function v(K){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(K.source)}function w(K,re,ie){re=m(re,"g");for(var se=ie.line,ke=ie.ch,be=K.lastLine();se<=be;se++,ke=0){re.lastIndex=ke;var ve=K.getLine(se),Te=re.exec(ve);if(Te)return{from:u(se,Te.index),to:u(se,Te.index+Te[0].length),match:Te}}}function S(K,re,ie){if(!v(re))return w(K,re,ie);re=m(re,"gm");for(var se,ke=1,be=ie.line,ve=K.lastLine();be<=ve;){for(var Te=0;Te<ke&&!(be>ve);Te++){var Ke=K.getLine(be++);se=se==null?Ke:se+`
`+Ke}ke=ke*2,re.lastIndex=ie.ch;var Le=re.exec(se);if(Le){var Ge=se.slice(0,Le.index).split(`
`),it=Le[0].split(`
`),rt=ie.line+Ge.length-1,ce=Ge[Ge.length-1].length;return{from:u(rt,ce),to:u(rt+it.length-1,it.length==1?ce+it[0].length:it[it.length-1].length),match:Le}}}}function D(K,re,ie){for(var se,ke=0;ke<=K.length;){re.lastIndex=ke;var be=re.exec(K);if(!be)break;var ve=be.index+be[0].length;if(ve>K.length-ie)break;(!se||ve>se.index+se[0].length)&&(se=be),ke=be.index+1}return se}function A(K,re,ie){re=m(re,"g");for(var se=ie.line,ke=ie.ch,be=K.firstLine();se>=be;se--,ke=-1){var ve=K.getLine(se),Te=D(ve,re,ke<0?0:ve.length-ke);if(Te)return{from:u(se,Te.index),to:u(se,Te.index+Te[0].length),match:Te}}}function O(K,re,ie){if(!v(re))return A(K,re,ie);re=m(re,"gm");for(var se,ke=1,be=K.getLine(ie.line).length-ie.ch,ve=ie.line,Te=K.firstLine();ve>=Te;){for(var Ke=0;Ke<ke&&ve>=Te;Ke++){var Le=K.getLine(ve--);se=se==null?Le:Le+`
`+se}ke*=2;var Ge=D(se,re,be);if(Ge){var it=se.slice(0,Ge.index).split(`
`),rt=Ge[0].split(`
`),ce=ve+it.length,Ne=it[it.length-1].length;return{from:u(ce,Ne),to:u(ce+rt.length-1,rt.length==1?Ne+rt[0].length:rt[rt.length-1].length),match:Ge}}}}var N,V;String.prototype.normalize?(N=function(K){return K.normalize("NFD").toLowerCase()},V=function(K){return K.normalize("NFD")}):(N=function(K){return K.toLowerCase()},V=function(K){return K});function Y(K,re,ie,se){if(K.length==re.length)return ie;for(var ke=0,be=ie+Math.max(0,K.length-re.length);;){if(ke==be)return ke;var ve=ke+be>>1,Te=se(K.slice(0,ve)).length;if(Te==ie)return ve;Te>ie?be=ve:ke=ve+1}}function $(K,re,ie,se){if(!re.length)return null;var ke=se?N:V,be=ke(re).split(/\r|\n\r?/);e:for(var ve=ie.line,Te=ie.ch,Ke=K.lastLine()+1-be.length;ve<=Ke;ve++,Te=0){var Le=K.getLine(ve).slice(Te),Ge=ke(Le);if(be.length==1){var it=Ge.indexOf(be[0]);if(it==-1)continue e;var ie=Y(Le,Ge,it,ke)+Te;return{from:u(ve,Y(Le,Ge,it,ke)+Te),to:u(ve,Y(Le,Ge,it+be[0].length,ke)+Te)}}else{var rt=Ge.length-be[0].length;if(Ge.slice(rt)!=be[0])continue e;for(var ce=1;ce<be.length-1;ce++)if(ke(K.getLine(ve+ce))!=be[ce])continue e;var Ne=K.getLine(ve+be.length-1),Pe=ke(Ne),Qe=be[be.length-1];if(Pe.slice(0,Qe.length)!=Qe)continue e;return{from:u(ve,Y(Le,Ge,rt,ke)+Te),to:u(ve+be.length-1,Y(Ne,Pe,Qe.length,ke))}}}}function te(K,re,ie,se){if(!re.length)return null;var ke=se?N:V,be=ke(re).split(/\r|\n\r?/);e:for(var ve=ie.line,Te=ie.ch,Ke=K.firstLine()-1+be.length;ve>=Ke;ve--,Te=-1){var Le=K.getLine(ve);Te>-1&&(Le=Le.slice(0,Te));var Ge=ke(Le);if(be.length==1){var it=Ge.lastIndexOf(be[0]);if(it==-1)continue e;return{from:u(ve,Y(Le,Ge,it,ke)),to:u(ve,Y(Le,Ge,it+be[0].length,ke))}}else{var rt=be[be.length-1];if(Ge.slice(0,rt.length)!=rt)continue e;for(var ce=1,ie=ve-be.length+1;ce<be.length-1;ce++)if(ke(K.getLine(ie+ce))!=be[ce])continue e;var Ne=K.getLine(ve+1-be.length),Pe=ke(Ne);if(Pe.slice(Pe.length-be[0].length)!=be[0])continue e;return{from:u(ve+1-be.length,Y(Ne,Pe,Ne.length-be[0].length,ke)),to:u(ve,Y(Le,Ge,rt.length,ke))}}}}function X(K,re,ie,se){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=K,ie=ie?K.clipPos(ie):u(0,0),this.pos={from:ie,to:ie};var ke;typeof se=="object"?ke=se.caseFold:(ke=se,se=null),typeof re=="string"?(ke==null&&(ke=!1),this.matches=function(be,ve){return(be?te:$)(K,re,ve,ke)}):(re=m(re,"gm"),!se||se.multiline!==!1?this.matches=function(be,ve){return(be?O:S)(K,re,ve)}:this.matches=function(be,ve){return(be?A:w)(K,re,ve)})}X.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(K){var re=this.doc.clipPos(K?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(re=u(re.line,re.ch),K?(re.ch--,re.ch<0&&(re.line--,re.ch=(this.doc.getLine(re.line)||"").length)):(re.ch++,re.ch>(this.doc.getLine(re.line)||"").length&&(re.ch=0,re.line++)),a.cmpPos(re,this.doc.clipPos(re))!=0))return this.atOccurrence=!1;var ie=this.matches(K,re);if(this.afterEmptyMatch=ie&&a.cmpPos(ie.from,ie.to)==0,ie)return this.pos=ie,this.atOccurrence=!0,this.pos.match||!0;var se=u(K?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:se,to:se},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(K,re){if(this.atOccurrence){var ie=a.splitLines(K);this.doc.replaceRange(ie,this.pos.from,this.pos.to,re),this.pos.to=u(this.pos.from.line+ie.length-1,ie[ie.length-1].length+(ie.length==1?this.pos.from.ch:0))}}},a.defineExtension("getSearchCursor",function(K,re,ie){return new X(this.doc,K,re,ie)}),a.defineDocExtension("getSearchCursor",function(K,re,ie){return new X(this,K,re,ie)}),a.defineExtension("selectMatches",function(K,re){for(var ie=[],se=this.getSearchCursor(K,this.getCursor("from"),re);se.findNext()&&!(a.cmpPos(se.to(),this.getCursor("to"))>0);)ie.push({anchor:se.from(),head:se.to()});ie.length&&this.setSelections(ie,0)})})}()),r0.exports}var u0={exports:{}},c0;function S3(){return c0||(c0=1,function(l,s){(function(a){a(as(),qv(),Yv())})(function(a){var u=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;a.defineMode("gfm",function(h,m){var v=0;function w(O){return O.code=!1,null}var S={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(O){return{code:O.code,codeBlock:O.codeBlock,ateSpace:O.ateSpace}},token:function(O,N){if(N.combineTokens=null,N.codeBlock)return O.match(/^```+/)?(N.codeBlock=!1,null):(O.skipToEnd(),null);if(O.sol()&&(N.code=!1),O.sol()&&O.match(/^```+/))return O.skipToEnd(),N.codeBlock=!0,null;if(O.peek()==="`"){O.next();var V=O.pos;O.eatWhile("`");var Y=1+O.pos-V;return N.code?Y===v&&(N.code=!1):(v=Y,N.code=!0),null}else if(N.code)return O.next(),null;if(O.eatSpace())return N.ateSpace=!0,null;if((O.sol()||N.ateSpace)&&(N.ateSpace=!1,m.gitHubSpice!==!1)){if(O.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return N.combineTokens=!0,"link";if(O.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return N.combineTokens=!0,"link"}return O.match(u)&&O.string.slice(O.start-2,O.start)!="]("&&(O.start==0||/\W/.test(O.string.charAt(O.start-1)))?(N.combineTokens=!0,"link"):(O.next(),null)},blankLine:w},D={taskLists:!0,strikethrough:!0,emoji:!0};for(var A in m)D[A]=m[A];return D.name="markdown",a.overlayMode(a.getMode(h,D),S)},"markdown"),a.defineMIME("text/x-gfm","gfm")})}()),u0.exports}function D3(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xf={exports:{}};const T3={},E3=Object.freeze(Object.defineProperty({__proto__:null,default:T3},Symbol.toStringTag,{value:"Module"})),A3=Y_(E3);var d0;function F3(){return d0||(d0=1,function(l){var s;(function(){s=function(a,u,h,m){m=m||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=m.flags||{},this.memoized={},this.loaded=!1;var v=this,w,S,D,A,O;if(a)if(v.dictionary=a,u&&h)te();else if(typeof window<"u"&&(window.chrome||window.browser)){var N=window.chrome&&window.chrome.runtime?window.chrome.runtime:browser.runtime;m.dictionaryPath?w=m.dictionaryPath:w="typo/dictionaries",u||V(N.getURL(w+"/"+a+"/"+a+".aff"),Y),h||V(N.getURL(w+"/"+a+"/"+a+".dic"),$)}else m.dictionaryPath?w=m.dictionaryPath:typeof __dirname<"u"?w=__dirname+"/dictionaries":w="./dictionaries",u||V(w+"/"+a+"/"+a+".aff",Y),h||V(w+"/"+a+"/"+a+".dic",$);function V(X,K){var re=v._readFile(X,null,m==null?void 0:m.asyncLoad);m!=null&&m.asyncLoad?re.then(function(ie){K(ie)}):K(re)}function Y(X){u=X,h&&te()}function $(X){h=X,u&&te()}function te(){for(v.rules=v._parseAFF(u),v.compoundRuleCodes={},S=0,A=v.compoundRules.length;S<A;S++){var X=v.compoundRules[S];for(D=0,O=X.length;D<O;D++)v.compoundRuleCodes[X[D]]=[]}"ONLYINCOMPOUND"in v.flags&&(v.compoundRuleCodes[v.flags.ONLYINCOMPOUND]=[]),v.dictionaryTable=v._parseDIC(h);for(S in v.compoundRuleCodes)v.compoundRuleCodes[S].length===0&&delete v.compoundRuleCodes[S];for(S=0,A=v.compoundRules.length;S<A;S++){var K=v.compoundRules[S],re="";for(D=0,O=K.length;D<O;D++){var ie=K[D];ie in v.compoundRuleCodes?re+="("+v.compoundRuleCodes[ie].join("|")+")":re+=ie}v.compoundRules[S]=new RegExp("^"+re+"$","i")}v.loaded=!0,m!=null&&m.asyncLoad&&(m!=null&&m.loadedCallback)&&m.loadedCallback(v)}return this},s.prototype={load:function(a){for(var u in a)a.hasOwnProperty(u)&&(this[u]=a[u]);return this},_readFile:function(a,u,h){var m;if(u=u||"utf8",typeof XMLHttpRequest<"u"){var v=new XMLHttpRequest;if(v.open("GET",a,!!h),(m=v.overrideMimeType)===null||m===void 0||m.call(v,"text/plain; charset="+u),h){var w=new Promise(function(D,A){v.onload=function(){v.status===200?D(v.responseText):A(v.statusText)},v.onerror=function(){A(v.statusText)}});return v.send(null),w}else return v.send(null),v.responseText}else if(typeof D3<"u"){var S=A3;try{if(S.existsSync(a))return S.readFileSync(a,u);console.log("Path "+a+" does not exist.")}catch(D){console.log(D)}return""}return""},_parseAFF:function(a){var u={},h,m,v,w,S,D,A,O,N=a.split(/\r?\n/);for(S=0,A=N.length;S<A;S++)if(h=this._removeAffixComments(N[S]),h=h.trim(),!!h){var V=h.split(/\s+/),Y=V[0];if(Y==="PFX"||Y==="SFX"){var $=V[1],te=V[2];v=parseInt(V[3],10);var X=[];for(D=S+1,O=S+1+v;D<O;D++){m=N[D],w=m.split(/\s+/);var K=w[2],re=w[3].split("/"),ie=re[0];ie==="0"&&(ie="");var se=this.parseRuleCodes(re[1]),ke=w[4],be={add:ie};se.length>0&&(be.continuationClasses=se),ke!=="."&&(Y==="SFX"?be.match=new RegExp(ke+"$"):be.match=new RegExp("^"+ke)),K!="0"&&(Y==="SFX"?be.remove=new RegExp(K+"$"):be.remove=K),X.push(be)}u[$]={type:Y,combineable:te==="Y",entries:X},S+=v}else if(Y==="COMPOUNDRULE"){for(v=parseInt(V[1],10),D=S+1,O=S+1+v;D<O;D++)h=N[D],w=h.split(/\s+/),this.compoundRules.push(w[1]);S+=v}else Y==="REP"?(w=h.split(/\s+/),w.length===3&&this.replacementTable.push([w[1],w[2]])):this.flags[Y]=V[1]}return u},_removeAffixComments:function(a){return a.match(/^\s*#/)?"":a},_parseDIC:function(a){a=this._removeDicComments(a);var u=a.split(/\r?\n/),h={};function m(Le,Ge){h.hasOwnProperty(Le)||(h[Le]=null),Ge.length>0&&(h[Le]===null&&(h[Le]=[]),h[Le].push(Ge))}for(var v=1,w=u.length;v<w;v++){var S=u[v];if(S){var D=S.split("/",2),A=D[0];if(D.length>1){var O=this.parseRuleCodes(D[1]);(!("NEEDAFFIX"in this.flags)||O.indexOf(this.flags.NEEDAFFIX)===-1)&&m(A,O);for(var N=0,V=O.length;N<V;N++){var Y=O[N],$=this.rules[Y];if($)for(var te=this._applyRule(A,$),X=0,K=te.length;X<K;X++){var re=te[X];if(m(re,[]),$.combineable)for(var ie=N+1;ie<V;ie++){var se=O[ie],ke=this.rules[se];if(ke&&ke.combineable&&$.type!=ke.type)for(var be=this._applyRule(re,ke),ve=0,Te=be.length;ve<Te;ve++){var Ke=be[ve];m(Ke,[])}}}Y in this.compoundRuleCodes&&this.compoundRuleCodes[Y].push(A)}}else m(A.trim(),[])}}return h},_removeDicComments:function(a){return a=a.replace(/^\t.*$/mg,""),a},parseRuleCodes:function(a){if(a)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var u=[],h=0,m=a.length;h<m;h+=2)u.push(a.substr(h,2));return u}else return this.flags.FLAG==="num"?a.split(","):this.flags.FLAG==="UTF-8"?Array.from(a):a.split("");else return a.split("");else return[]},_applyRule:function(a,u){for(var h=u.entries,m=[],v=0,w=h.length;v<w;v++){var S=h[v];if(!S.match||a.match(S.match)){var D=a;if(S.remove&&(D=D.replace(S.remove,"")),u.type==="SFX"?D=D+S.add:D=S.add+D,m.push(D),"continuationClasses"in S)for(var A=0,O=S.continuationClasses.length;A<O;A++){var N=this.rules[S.continuationClasses[A]];N&&(m=m.concat(this._applyRule(D,N)))}}}return m},check:function(a){if(!this.loaded)throw"Dictionary not loaded.";if(!a)return!1;var u=a.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(u))return!0;if(u.toUpperCase()===u){var h=u[0]+u.substring(1).toLowerCase();if(this.hasFlag(h,"KEEPCASE"))return!1;if(this.checkExact(h)||this.checkExact(u.toLowerCase()))return!0}var m=u[0].toLowerCase()+u.substring(1);if(m!==u){if(this.hasFlag(m,"KEEPCASE"))return!1;if(this.checkExact(m))return!0}return!1},checkExact:function(a){if(!this.loaded)throw"Dictionary not loaded.";var u=this.dictionaryTable[a],h,m;if(typeof u>"u"){if("COMPOUNDMIN"in this.flags&&a.length>=this.flags.COMPOUNDMIN){for(h=0,m=this.compoundRules.length;h<m;h++)if(a.match(this.compoundRules[h]))return!0}}else{if(u===null)return!0;if(typeof u=="object"){for(h=0,m=u.length;h<m;h++)if(!this.hasFlag(a,"ONLYINCOMPOUND",u[h]))return!0}}return!1},hasFlag:function(a,u,h){if(!this.loaded)throw"Dictionary not loaded.";return!!(u in this.flags&&(typeof h>"u"&&(h=Array.prototype.concat.apply([],this.dictionaryTable[a])),h&&h.indexOf(this.flags[u])!==-1))},alphabet:"",suggest:function(a,u){if(!this.loaded)throw"Dictionary not loaded.";if(u=u||5,this.memoized.hasOwnProperty(a)){var h=this.memoized[a].limit;if(u<=h||this.memoized[a].suggestions.length<h)return this.memoized[a].suggestions.slice(0,u)}if(this.check(a))return[];for(var m=0,v=this.replacementTable.length;m<v;m++){var w=this.replacementTable[m];if(a.indexOf(w[0])!==-1){var S=a.replace(w[0],w[1]);if(this.check(S))return[S]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var D=this.alphabet.split("");D.sort();for(var A={},m=0;m<D.length;m++)A[D[m]]=!0;this.alphabet="";for(var m in A)this.alphabet+=m}var O=this;function N(Y,$){var te={},X,K,re,ie,se=O.alphabet.length;for(var ke in Y)for(X=0,re=ke.length+1;X<re;X++){var be=[ke.substring(0,X),ke.substring(X)];if(be[1]&&(ie=be[0]+be[1].substring(1),(!$||O.check(ie))&&(ie in te?te[ie]+=1:te[ie]=1)),be[1].length>1&&be[1][1]!==be[1][0]&&(ie=be[0]+be[1][1]+be[1][0]+be[1].substring(2),(!$||O.check(ie))&&(ie in te?te[ie]+=1:te[ie]=1)),be[1]){var ve=be[1].substring(0,1).toUpperCase()===be[1].substring(0,1)?"uppercase":"lowercase";for(K=0;K<se;K++){var Te=O.alphabet[K];ve==="uppercase"&&(Te=Te.toUpperCase()),Te!=be[1].substring(0,1)&&(ie=be[0]+Te+be[1].substring(1),(!$||O.check(ie))&&(ie in te?te[ie]+=1:te[ie]=1))}}if(be[1])for(K=0;K<se;K++){var ve=be[0].substring(-1).toUpperCase()===be[0].substring(-1)&&be[1].substring(0,1).toUpperCase()===be[1].substring(0,1)?"uppercase":"lowercase",Te=O.alphabet[K];ve==="uppercase"&&(Te=Te.toUpperCase()),ie=be[0]+Te+be[1],(!$||O.check(ie))&&(ie in te?te[ie]+=1:te[ie]=1)}}return te}function V(Y){var $,te=N(($={},$[Y]=!0,$)),X=N(te,!0),K=X;for(var re in te)O.check(re)&&(re in K?K[re]+=te[re]:K[re]=te[re]);var ie,se=[];for(ie in K)K.hasOwnProperty(ie)&&se.push([ie,K[ie]]);function ke(Ke,Le){var Ge=Ke[1],it=Le[1];return Ge<it?-1:Ge>it?1:Le[0].localeCompare(Ke[0])}se.sort(ke).reverse();var be=[],ve="lowercase";Y.toUpperCase()===Y?ve="uppercase":Y.substr(0,1).toUpperCase()+Y.substr(1).toLowerCase()===Y&&(ve="capitalized");var Te=u;for(ie=0;ie<Math.min(Te,se.length);ie++)ve==="uppercase"?se[ie][0]=se[ie][0].toUpperCase():ve==="capitalized"&&(se[ie][0]=se[ie][0].substr(0,1).toUpperCase()+se[ie][0].substr(1)),!O.hasFlag(se[ie][0],"NOSUGGEST")&&be.indexOf(se[ie][0])===-1?be.push(se[ie][0]):Te++;return be}return this.memoized[a]={suggestions:V(a),limit:u},this.memoized[a].suggestions}}})(),l.exports=s}(Xf)),Xf.exports}var Zf,h0;function I3(){if(h0)return Zf;h0=1;var l=F3();function s(a){if(a=a||{},typeof a.codeMirrorInstance!="function"||typeof a.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),a.codeMirrorInstance.defineMode("spell-checker",function(u){if(!s.aff_loading){s.aff_loading=!0;var h=new XMLHttpRequest;h.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),h.onload=function(){h.readyState===4&&h.status===200&&(s.aff_data=h.responseText,s.num_loaded++,s.num_loaded==2&&(s.typo=new l("en_US",s.aff_data,s.dic_data,{platform:"any"})))},h.send(null)}if(!s.dic_loading){s.dic_loading=!0;var m=new XMLHttpRequest;m.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),m.onload=function(){m.readyState===4&&m.status===200&&(s.dic_data=m.responseText,s.num_loaded++,s.num_loaded==2&&(s.typo=new l("en_US",s.aff_data,s.dic_data,{platform:"any"})))},m.send(null)}var v='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',w={token:function(D){var A=D.peek(),O="";if(v.includes(A))return D.next(),null;for(;(A=D.peek())!=null&&!v.includes(A);)O+=A,D.next();return s.typo&&!s.typo.check(O)?"spell-error":null}},S=a.codeMirrorInstance.getMode(u,u.backdrop||"text/plain");return a.codeMirrorInstance.overlayMode(S,w,!0)})}return s.num_loaded=0,s.aff_loading=!1,s.dic_loading=!1,s.aff_data="",s.dic_data="",s.typo,Zf=s,Zf}var Jf={},f0;function L3(){return f0||(f0=1,function(l){function s(xe,Se){for(var me=0;me<Se.length;me++){var U=Se[me];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(xe,S(U.key),U)}}function a(xe,Se,me){return me&&s(xe,me),Object.defineProperty(xe,"prototype",{writable:!1}),xe}function u(){return u=Object.assign?Object.assign.bind():function(xe){for(var Se=1;Se<arguments.length;Se++){var me=arguments[Se];for(var U in me)Object.prototype.hasOwnProperty.call(me,U)&&(xe[U]=me[U])}return xe},u.apply(this,arguments)}function h(xe,Se){if(xe){if(typeof xe=="string")return m(xe,Se);var me=Object.prototype.toString.call(xe).slice(8,-1);if(me==="Object"&&xe.constructor&&(me=xe.constructor.name),me==="Map"||me==="Set")return Array.from(xe);if(me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me))return m(xe,Se)}}function m(xe,Se){(Se==null||Se>xe.length)&&(Se=xe.length);for(var me=0,U=new Array(Se);me<Se;me++)U[me]=xe[me];return U}function v(xe,Se){var me=typeof Symbol<"u"&&xe[Symbol.iterator]||xe["@@iterator"];if(me)return(me=me.call(xe)).next.bind(me);if(Array.isArray(xe)||(me=h(xe))||Se){me&&(xe=me);var U=0;return function(){return U>=xe.length?{done:!0}:{done:!1,value:xe[U++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(xe,Se){if(typeof xe!="object"||xe===null)return xe;var me=xe[Symbol.toPrimitive];if(me!==void 0){var U=me.call(xe,Se);if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(xe)}function S(xe){var Se=w(xe,"string");return typeof Se=="symbol"?Se:String(Se)}function D(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}l.defaults=D();function A(xe){l.defaults=xe}var O=/[&<>"']/,N=new RegExp(O.source,"g"),V=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Y=new RegExp(V.source,"g"),$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},te=function(Se){return $[Se]};function X(xe,Se){if(Se){if(O.test(xe))return xe.replace(N,te)}else if(V.test(xe))return xe.replace(Y,te);return xe}var K=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function re(xe){return xe.replace(K,function(Se,me){return me=me.toLowerCase(),me==="colon"?":":me.charAt(0)==="#"?me.charAt(1)==="x"?String.fromCharCode(parseInt(me.substring(2),16)):String.fromCharCode(+me.substring(1)):""})}var ie=/(^|[^\[])\^/g;function se(xe,Se){xe=typeof xe=="string"?xe:xe.source,Se=Se||"";var me={replace:function(j,he){return he=he.source||he,he=he.replace(ie,"$1"),xe=xe.replace(j,he),me},getRegex:function(){return new RegExp(xe,Se)}};return me}var ke=/[^\w:]/g,be=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ve(xe,Se,me){if(xe){var U;try{U=decodeURIComponent(re(me)).replace(ke,"").toLowerCase()}catch{return null}if(U.indexOf("javascript:")===0||U.indexOf("vbscript:")===0||U.indexOf("data:")===0)return null}Se&&!be.test(me)&&(me=it(Se,me));try{me=encodeURI(me).replace(/%25/g,"%")}catch{return null}return me}var Te={},Ke=/^[^:]+:\/*[^/]*$/,Le=/^([^:]+:)[\s\S]*$/,Ge=/^([^:]+:\/*[^/]*)[\s\S]*$/;function it(xe,Se){Te[" "+xe]||(Ke.test(xe)?Te[" "+xe]=xe+"/":Te[" "+xe]=Ne(xe,"/",!0)),xe=Te[" "+xe];var me=xe.indexOf(":")===-1;return Se.substring(0,2)==="//"?me?Se:xe.replace(Le,"$1")+Se:Se.charAt(0)==="/"?me?Se:xe.replace(Ge,"$1")+Se:xe+Se}var rt={exec:function(){}};function ce(xe,Se){var me=xe.replace(/\|/g,function(he,L,z){for(var ee=!1,oe=L;--oe>=0&&z[oe]==="\\";)ee=!ee;return ee?"|":" |"}),U=me.split(/ \|/),j=0;if(U[0].trim()||U.shift(),U.length>0&&!U[U.length-1].trim()&&U.pop(),U.length>Se)U.splice(Se);else for(;U.length<Se;)U.push("");for(;j<U.length;j++)U[j]=U[j].trim().replace(/\\\|/g,"|");return U}function Ne(xe,Se,me){var U=xe.length;if(U===0)return"";for(var j=0;j<U;){var he=xe.charAt(U-j-1);if(he===Se&&!me)j++;else if(he!==Se&&me)j++;else break}return xe.slice(0,U-j)}function Pe(xe,Se){if(xe.indexOf(Se[1])===-1)return-1;for(var me=xe.length,U=0,j=0;j<me;j++)if(xe[j]==="\\")j++;else if(xe[j]===Se[0])U++;else if(xe[j]===Se[1]&&(U--,U<0))return j;return-1}function Qe(xe){xe&&xe.sanitize&&!xe.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function mt(xe,Se){if(Se<1)return"";for(var me="";Se>1;)Se&1&&(me+=xe),Se>>=1,xe+=xe;return me+xe}function zt(xe,Se,me,U){var j=Se.href,he=Se.title?X(Se.title):null,L=xe[1].replace(/\\([\[\]])/g,"$1");if(xe[0].charAt(0)!=="!"){U.state.inLink=!0;var z={type:"link",raw:me,href:j,title:he,text:L,tokens:U.inlineTokens(L)};return U.state.inLink=!1,z}return{type:"image",raw:me,href:j,title:he,text:X(L)}}function ei(xe,Se){var me=xe.match(/^(\s+)(?:```)/);if(me===null)return Se;var U=me[1];return Se.split(`
`).map(function(j){var he=j.match(/^\s+/);if(he===null)return j;var L=he[0];return L.length>=U.length?j.slice(U.length):j}).join(`
`)}var ue=function(){function xe(me){this.options=me||l.defaults}var Se=xe.prototype;return Se.space=function(U){var j=this.rules.block.newline.exec(U);if(j&&j[0].length>0)return{type:"space",raw:j[0]}},Se.code=function(U){var j=this.rules.block.code.exec(U);if(j){var he=j[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:j[0],codeBlockStyle:"indented",text:this.options.pedantic?he:Ne(he,`
`)}}},Se.fences=function(U){var j=this.rules.block.fences.exec(U);if(j){var he=j[0],L=ei(he,j[3]||"");return{type:"code",raw:he,lang:j[2]?j[2].trim().replace(this.rules.inline._escapes,"$1"):j[2],text:L}}},Se.heading=function(U){var j=this.rules.block.heading.exec(U);if(j){var he=j[2].trim();if(/#$/.test(he)){var L=Ne(he,"#");(this.options.pedantic||!L||/ $/.test(L))&&(he=L.trim())}return{type:"heading",raw:j[0],depth:j[1].length,text:he,tokens:this.lexer.inline(he)}}},Se.hr=function(U){var j=this.rules.block.hr.exec(U);if(j)return{type:"hr",raw:j[0]}},Se.blockquote=function(U){var j=this.rules.block.blockquote.exec(U);if(j){var he=j[0].replace(/^ *>[ \t]?/gm,""),L=this.lexer.state.top;this.lexer.state.top=!0;var z=this.lexer.blockTokens(he);return this.lexer.state.top=L,{type:"blockquote",raw:j[0],tokens:z,text:he}}},Se.list=function(U){var j=this.rules.block.list.exec(U);if(j){var he,L,z,ee,oe,de,Ce,fe,le,_e,ge,Ue,$e=j[1].trim(),et=$e.length>1,je={type:"list",raw:"",ordered:et,start:et?+$e.slice(0,-1):"",loose:!1,items:[]};$e=et?"\\d{1,9}\\"+$e.slice(-1):"\\"+$e,this.options.pedantic&&($e=et?$e:"[*+-]");for(var gt=new RegExp("^( {0,3}"+$e+")((?:[	 ][^\\n]*)?(?:\\n|$))");U&&(Ue=!1,!(!(j=gt.exec(U))||this.rules.block.hr.test(U)));){if(he=j[0],U=U.substring(he.length),fe=j[2].split(`
`,1)[0].replace(/^\t+/,function(Gn){return" ".repeat(3*Gn.length)}),le=U.split(`
`,1)[0],this.options.pedantic?(ee=2,ge=fe.trimLeft()):(ee=j[2].search(/[^ ]/),ee=ee>4?1:ee,ge=fe.slice(ee),ee+=j[1].length),de=!1,!fe&&/^ *$/.test(le)&&(he+=le+`
`,U=U.substring(le.length+1),Ue=!0),!Ue)for(var yt=new RegExp("^ {0,"+Math.min(3,ee-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),Ct=new RegExp("^ {0,"+Math.min(3,ee-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),pt=new RegExp("^ {0,"+Math.min(3,ee-1)+"}(?:```|~~~)"),Wt=new RegExp("^ {0,"+Math.min(3,ee-1)+"}#");U&&(_e=U.split(`
`,1)[0],le=_e,this.options.pedantic&&(le=le.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(pt.test(le)||Wt.test(le)||yt.test(le)||Ct.test(U)));){if(le.search(/[^ ]/)>=ee||!le.trim())ge+=`
`+le.slice(ee);else{if(de||fe.search(/[^ ]/)>=4||pt.test(fe)||Wt.test(fe)||Ct.test(fe))break;ge+=`
`+le}!de&&!le.trim()&&(de=!0),he+=_e+`
`,U=U.substring(_e.length+1),fe=le.slice(ee)}je.loose||(Ce?je.loose=!0:/\n *\n *$/.test(he)&&(Ce=!0)),this.options.gfm&&(L=/^\[[ xX]\] /.exec(ge),L&&(z=L[0]!=="[ ] ",ge=ge.replace(/^\[[ xX]\] +/,""))),je.items.push({type:"list_item",raw:he,task:!!L,checked:z,loose:!1,text:ge}),je.raw+=he}je.items[je.items.length-1].raw=he.trimRight(),je.items[je.items.length-1].text=ge.trimRight(),je.raw=je.raw.trimRight();var jt=je.items.length;for(oe=0;oe<jt;oe++)if(this.lexer.state.top=!1,je.items[oe].tokens=this.lexer.blockTokens(je.items[oe].text,[]),!je.loose){var mn=je.items[oe].tokens.filter(function(Gn){return Gn.type==="space"}),ti=mn.length>0&&mn.some(function(Gn){return/\n.*\n/.test(Gn.raw)});je.loose=ti}if(je.loose)for(oe=0;oe<jt;oe++)je.items[oe].loose=!0;return je}},Se.html=function(U){var j=this.rules.block.html.exec(U);if(j){var he={type:"html",raw:j[0],pre:!this.options.sanitizer&&(j[1]==="pre"||j[1]==="script"||j[1]==="style"),text:j[0]};if(this.options.sanitize){var L=this.options.sanitizer?this.options.sanitizer(j[0]):X(j[0]);he.type="paragraph",he.text=L,he.tokens=this.lexer.inline(L)}return he}},Se.def=function(U){var j=this.rules.block.def.exec(U);if(j){var he=j[1].toLowerCase().replace(/\s+/g," "),L=j[2]?j[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",z=j[3]?j[3].substring(1,j[3].length-1).replace(this.rules.inline._escapes,"$1"):j[3];return{type:"def",tag:he,raw:j[0],href:L,title:z}}},Se.table=function(U){var j=this.rules.block.table.exec(U);if(j){var he={type:"table",header:ce(j[1]).map(function(Ce){return{text:Ce}}),align:j[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:j[3]&&j[3].trim()?j[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(he.header.length===he.align.length){he.raw=j[0];var L=he.align.length,z,ee,oe,de;for(z=0;z<L;z++)/^ *-+: *$/.test(he.align[z])?he.align[z]="right":/^ *:-+: *$/.test(he.align[z])?he.align[z]="center":/^ *:-+ *$/.test(he.align[z])?he.align[z]="left":he.align[z]=null;for(L=he.rows.length,z=0;z<L;z++)he.rows[z]=ce(he.rows[z],he.header.length).map(function(Ce){return{text:Ce}});for(L=he.header.length,ee=0;ee<L;ee++)he.header[ee].tokens=this.lexer.inline(he.header[ee].text);for(L=he.rows.length,ee=0;ee<L;ee++)for(de=he.rows[ee],oe=0;oe<de.length;oe++)de[oe].tokens=this.lexer.inline(de[oe].text);return he}}},Se.lheading=function(U){var j=this.rules.block.lheading.exec(U);if(j)return{type:"heading",raw:j[0],depth:j[2].charAt(0)==="="?1:2,text:j[1],tokens:this.lexer.inline(j[1])}},Se.paragraph=function(U){var j=this.rules.block.paragraph.exec(U);if(j){var he=j[1].charAt(j[1].length-1)===`
`?j[1].slice(0,-1):j[1];return{type:"paragraph",raw:j[0],text:he,tokens:this.lexer.inline(he)}}},Se.text=function(U){var j=this.rules.block.text.exec(U);if(j)return{type:"text",raw:j[0],text:j[0],tokens:this.lexer.inline(j[0])}},Se.escape=function(U){var j=this.rules.inline.escape.exec(U);if(j)return{type:"escape",raw:j[0],text:X(j[1])}},Se.tag=function(U){var j=this.rules.inline.tag.exec(U);if(j)return!this.lexer.state.inLink&&/^<a /i.test(j[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(j[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(j[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(j[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:j[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(j[0]):X(j[0]):j[0]}},Se.link=function(U){var j=this.rules.inline.link.exec(U);if(j){var he=j[2].trim();if(!this.options.pedantic&&/^</.test(he)){if(!/>$/.test(he))return;var L=Ne(he.slice(0,-1),"\\");if((he.length-L.length)%2===0)return}else{var z=Pe(j[2],"()");if(z>-1){var ee=j[0].indexOf("!")===0?5:4,oe=ee+j[1].length+z;j[2]=j[2].substring(0,z),j[0]=j[0].substring(0,oe).trim(),j[3]=""}}var de=j[2],Ce="";if(this.options.pedantic){var fe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(de);fe&&(de=fe[1],Ce=fe[3])}else Ce=j[3]?j[3].slice(1,-1):"";return de=de.trim(),/^</.test(de)&&(this.options.pedantic&&!/>$/.test(he)?de=de.slice(1):de=de.slice(1,-1)),zt(j,{href:de&&de.replace(this.rules.inline._escapes,"$1"),title:Ce&&Ce.replace(this.rules.inline._escapes,"$1")},j[0],this.lexer)}},Se.reflink=function(U,j){var he;if((he=this.rules.inline.reflink.exec(U))||(he=this.rules.inline.nolink.exec(U))){var L=(he[2]||he[1]).replace(/\s+/g," ");if(L=j[L.toLowerCase()],!L){var z=he[0].charAt(0);return{type:"text",raw:z,text:z}}return zt(he,L,he[0],this.lexer)}},Se.emStrong=function(U,j,he){he===void 0&&(he="");var L=this.rules.inline.emStrong.lDelim.exec(U);if(L&&!(L[3]&&he.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var z=L[1]||L[2]||"";if(!z||z&&(he===""||this.rules.inline.punctuation.exec(he))){var ee=L[0].length-1,oe,de,Ce=ee,fe=0,le=L[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(le.lastIndex=0,j=j.slice(-1*U.length+ee);(L=le.exec(j))!=null;)if(oe=L[1]||L[2]||L[3]||L[4]||L[5]||L[6],!!oe){if(de=oe.length,L[3]||L[4]){Ce+=de;continue}else if((L[5]||L[6])&&ee%3&&!((ee+de)%3)){fe+=de;continue}if(Ce-=de,!(Ce>0)){de=Math.min(de,de+Ce+fe);var _e=U.slice(0,ee+L.index+(L[0].length-oe.length)+de);if(Math.min(ee,de)%2){var ge=_e.slice(1,-1);return{type:"em",raw:_e,text:ge,tokens:this.lexer.inlineTokens(ge)}}var Ue=_e.slice(2,-2);return{type:"strong",raw:_e,text:Ue,tokens:this.lexer.inlineTokens(Ue)}}}}}},Se.codespan=function(U){var j=this.rules.inline.code.exec(U);if(j){var he=j[2].replace(/\n/g," "),L=/[^ ]/.test(he),z=/^ /.test(he)&&/ $/.test(he);return L&&z&&(he=he.substring(1,he.length-1)),he=X(he,!0),{type:"codespan",raw:j[0],text:he}}},Se.br=function(U){var j=this.rules.inline.br.exec(U);if(j)return{type:"br",raw:j[0]}},Se.del=function(U){var j=this.rules.inline.del.exec(U);if(j)return{type:"del",raw:j[0],text:j[2],tokens:this.lexer.inlineTokens(j[2])}},Se.autolink=function(U,j){var he=this.rules.inline.autolink.exec(U);if(he){var L,z;return he[2]==="@"?(L=X(this.options.mangle?j(he[1]):he[1]),z="mailto:"+L):(L=X(he[1]),z=L),{type:"link",raw:he[0],text:L,href:z,tokens:[{type:"text",raw:L,text:L}]}}},Se.url=function(U,j){var he;if(he=this.rules.inline.url.exec(U)){var L,z;if(he[2]==="@")L=X(this.options.mangle?j(he[0]):he[0]),z="mailto:"+L;else{var ee;do ee=he[0],he[0]=this.rules.inline._backpedal.exec(he[0])[0];while(ee!==he[0]);L=X(he[0]),he[1]==="www."?z="http://"+he[0]:z=he[0]}return{type:"link",raw:he[0],text:L,href:z,tokens:[{type:"text",raw:L,text:L}]}}},Se.inlineText=function(U,j){var he=this.rules.inline.text.exec(U);if(he){var L;return this.lexer.state.inRawBlock?L=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(he[0]):X(he[0]):he[0]:L=X(this.options.smartypants?j(he[0]):he[0]),{type:"text",raw:he[0],text:L}}},xe}(),W={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:rt,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};W._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,W._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,W.def=se(W.def).replace("label",W._label).replace("title",W._title).getRegex(),W.bullet=/(?:[*+-]|\d{1,9}[.)])/,W.listItemStart=se(/^( *)(bull) */).replace("bull",W.bullet).getRegex(),W.list=se(W.list).replace(/bull/g,W.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+W.def.source+")").getRegex(),W._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",W._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,W.html=se(W.html,"i").replace("comment",W._comment).replace("tag",W._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),W.paragraph=se(W._paragraph).replace("hr",W.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",W._tag).getRegex(),W.blockquote=se(W.blockquote).replace("paragraph",W.paragraph).getRegex(),W.normal=u({},W),W.gfm=u({},W.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),W.gfm.table=se(W.gfm.table).replace("hr",W.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",W._tag).getRegex(),W.gfm.paragraph=se(W._paragraph).replace("hr",W.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",W.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",W._tag).getRegex(),W.pedantic=u({},W.normal,{html:se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",W._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:rt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:se(W.normal._paragraph).replace("hr",W.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",W.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Ee={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:rt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:rt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Ee._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ee.punctuation=se(Ee.punctuation).replace(/punctuation/g,Ee._punctuation).getRegex(),Ee.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ee.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Ee._comment=se(W._comment).replace("(?:-->|$)","-->").getRegex(),Ee.emStrong.lDelim=se(Ee.emStrong.lDelim).replace(/punct/g,Ee._punctuation).getRegex(),Ee.emStrong.rDelimAst=se(Ee.emStrong.rDelimAst,"g").replace(/punct/g,Ee._punctuation).getRegex(),Ee.emStrong.rDelimUnd=se(Ee.emStrong.rDelimUnd,"g").replace(/punct/g,Ee._punctuation).getRegex(),Ee._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ee._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ee._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ee.autolink=se(Ee.autolink).replace("scheme",Ee._scheme).replace("email",Ee._email).getRegex(),Ee._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ee.tag=se(Ee.tag).replace("comment",Ee._comment).replace("attribute",Ee._attribute).getRegex(),Ee._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ee._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ee._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ee.link=se(Ee.link).replace("label",Ee._label).replace("href",Ee._href).replace("title",Ee._title).getRegex(),Ee.reflink=se(Ee.reflink).replace("label",Ee._label).replace("ref",W._label).getRegex(),Ee.nolink=se(Ee.nolink).replace("ref",W._label).getRegex(),Ee.reflinkSearch=se(Ee.reflinkSearch,"g").replace("reflink",Ee.reflink).replace("nolink",Ee.nolink).getRegex(),Ee.normal=u({},Ee),Ee.pedantic=u({},Ee.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:se(/^!?\[(label)\]\((.*?)\)/).replace("label",Ee._label).getRegex(),reflink:se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ee._label).getRegex()}),Ee.gfm=u({},Ee.normal,{escape:se(Ee.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ee.gfm.url=se(Ee.gfm.url,"i").replace("email",Ee.gfm._extended_email).getRegex(),Ee.breaks=u({},Ee.gfm,{br:se(Ee.br).replace("{2,}","*").getRegex(),text:se(Ee.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function bt(xe){return xe.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ot(xe){var Se="",me,U,j=xe.length;for(me=0;me<j;me++)U=xe.charCodeAt(me),Math.random()>.5&&(U="x"+U.toString(16)),Se+="&#"+U+";";return Se}var Kt=function(){function xe(me){this.tokens=[],this.tokens.links=Object.create(null),this.options=me||l.defaults,this.options.tokenizer=this.options.tokenizer||new ue,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var U={block:W.normal,inline:Ee.normal};this.options.pedantic?(U.block=W.pedantic,U.inline=Ee.pedantic):this.options.gfm&&(U.block=W.gfm,this.options.breaks?U.inline=Ee.breaks:U.inline=Ee.gfm),this.tokenizer.rules=U}xe.lex=function(U,j){var he=new xe(j);return he.lex(U)},xe.lexInline=function(U,j){var he=new xe(j);return he.inlineTokens(U)};var Se=xe.prototype;return Se.lex=function(U){U=U.replace(/\r\n|\r/g,`
`),this.blockTokens(U,this.tokens);for(var j;j=this.inlineQueue.shift();)this.inlineTokens(j.src,j.tokens);return this.tokens},Se.blockTokens=function(U,j){var he=this;j===void 0&&(j=[]),this.options.pedantic?U=U.replace(/\t/g,"    ").replace(/^ +$/gm,""):U=U.replace(/^( *)(\t+)/gm,function(Ce,fe,le){return fe+"    ".repeat(le.length)});for(var L,z,ee,oe;U;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ce){return(L=Ce.call({lexer:he},U,j))?(U=U.substring(L.raw.length),j.push(L),!0):!1}))){if(L=this.tokenizer.space(U)){U=U.substring(L.raw.length),L.raw.length===1&&j.length>0?j[j.length-1].raw+=`
`:j.push(L);continue}if(L=this.tokenizer.code(U)){U=U.substring(L.raw.length),z=j[j.length-1],z&&(z.type==="paragraph"||z.type==="text")?(z.raw+=`
`+L.raw,z.text+=`
`+L.text,this.inlineQueue[this.inlineQueue.length-1].src=z.text):j.push(L);continue}if(L=this.tokenizer.fences(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.heading(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.hr(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.blockquote(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.list(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.html(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.def(U)){U=U.substring(L.raw.length),z=j[j.length-1],z&&(z.type==="paragraph"||z.type==="text")?(z.raw+=`
`+L.raw,z.text+=`
`+L.raw,this.inlineQueue[this.inlineQueue.length-1].src=z.text):this.tokens.links[L.tag]||(this.tokens.links[L.tag]={href:L.href,title:L.title});continue}if(L=this.tokenizer.table(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.lheading(U)){U=U.substring(L.raw.length),j.push(L);continue}if(ee=U,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ce=1/0,fe=U.slice(1),le=void 0;he.options.extensions.startBlock.forEach(function(_e){le=_e.call({lexer:this},fe),typeof le=="number"&&le>=0&&(Ce=Math.min(Ce,le))}),Ce<1/0&&Ce>=0&&(ee=U.substring(0,Ce+1))}(),this.state.top&&(L=this.tokenizer.paragraph(ee))){z=j[j.length-1],oe&&z.type==="paragraph"?(z.raw+=`
`+L.raw,z.text+=`
`+L.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=z.text):j.push(L),oe=ee.length!==U.length,U=U.substring(L.raw.length);continue}if(L=this.tokenizer.text(U)){U=U.substring(L.raw.length),z=j[j.length-1],z&&z.type==="text"?(z.raw+=`
`+L.raw,z.text+=`
`+L.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=z.text):j.push(L);continue}if(U){var de="Infinite loop on byte: "+U.charCodeAt(0);if(this.options.silent){console.error(de);break}else throw new Error(de)}}return this.state.top=!0,j},Se.inline=function(U,j){return j===void 0&&(j=[]),this.inlineQueue.push({src:U,tokens:j}),j},Se.inlineTokens=function(U,j){var he=this;j===void 0&&(j=[]);var L,z,ee,oe=U,de,Ce,fe;if(this.tokens.links){var le=Object.keys(this.tokens.links);if(le.length>0)for(;(de=this.tokenizer.rules.inline.reflinkSearch.exec(oe))!=null;)le.includes(de[0].slice(de[0].lastIndexOf("[")+1,-1))&&(oe=oe.slice(0,de.index)+"["+mt("a",de[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(de=this.tokenizer.rules.inline.blockSkip.exec(oe))!=null;)oe=oe.slice(0,de.index)+"["+mt("a",de[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(de=this.tokenizer.rules.inline.escapedEmSt.exec(oe))!=null;)oe=oe.slice(0,de.index+de[0].length-2)+"++"+oe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;U;)if(Ce||(fe=""),Ce=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ge){return(L=ge.call({lexer:he},U,j))?(U=U.substring(L.raw.length),j.push(L),!0):!1}))){if(L=this.tokenizer.escape(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.tag(U)){U=U.substring(L.raw.length),z=j[j.length-1],z&&L.type==="text"&&z.type==="text"?(z.raw+=L.raw,z.text+=L.text):j.push(L);continue}if(L=this.tokenizer.link(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.reflink(U,this.tokens.links)){U=U.substring(L.raw.length),z=j[j.length-1],z&&L.type==="text"&&z.type==="text"?(z.raw+=L.raw,z.text+=L.text):j.push(L);continue}if(L=this.tokenizer.emStrong(U,oe,fe)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.codespan(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.br(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.del(U)){U=U.substring(L.raw.length),j.push(L);continue}if(L=this.tokenizer.autolink(U,ot)){U=U.substring(L.raw.length),j.push(L);continue}if(!this.state.inLink&&(L=this.tokenizer.url(U,ot))){U=U.substring(L.raw.length),j.push(L);continue}if(ee=U,this.options.extensions&&this.options.extensions.startInline&&function(){var ge=1/0,Ue=U.slice(1),$e=void 0;he.options.extensions.startInline.forEach(function(et){$e=et.call({lexer:this},Ue),typeof $e=="number"&&$e>=0&&(ge=Math.min(ge,$e))}),ge<1/0&&ge>=0&&(ee=U.substring(0,ge+1))}(),L=this.tokenizer.inlineText(ee,bt)){U=U.substring(L.raw.length),L.raw.slice(-1)!=="_"&&(fe=L.raw.slice(-1)),Ce=!0,z=j[j.length-1],z&&z.type==="text"?(z.raw+=L.raw,z.text+=L.text):j.push(L);continue}if(U){var _e="Infinite loop on byte: "+U.charCodeAt(0);if(this.options.silent){console.error(_e);break}else throw new Error(_e)}}return j},a(xe,null,[{key:"rules",get:function(){return{block:W,inline:Ee}}}]),xe}(),Qt=function(){function xe(me){this.options=me||l.defaults}var Se=xe.prototype;return Se.code=function(U,j,he){var L=(j||"").match(/\S*/)[0];if(this.options.highlight){var z=this.options.highlight(U,L);z!=null&&z!==U&&(he=!0,U=z)}return U=U.replace(/\n$/,"")+`
`,L?'<pre><code class="'+this.options.langPrefix+X(L)+'">'+(he?U:X(U,!0))+`</code></pre>
`:"<pre><code>"+(he?U:X(U,!0))+`</code></pre>
`},Se.blockquote=function(U){return`<blockquote>
`+U+`</blockquote>
`},Se.html=function(U){return U},Se.heading=function(U,j,he,L){if(this.options.headerIds){var z=this.options.headerPrefix+L.slug(he);return"<h"+j+' id="'+z+'">'+U+"</h"+j+`>
`}return"<h"+j+">"+U+"</h"+j+`>
`},Se.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Se.list=function(U,j,he){var L=j?"ol":"ul",z=j&&he!==1?' start="'+he+'"':"";return"<"+L+z+`>
`+U+"</"+L+`>
`},Se.listitem=function(U){return"<li>"+U+`</li>
`},Se.checkbox=function(U){return"<input "+(U?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Se.paragraph=function(U){return"<p>"+U+`</p>
`},Se.table=function(U,j){return j&&(j="<tbody>"+j+"</tbody>"),`<table>
<thead>
`+U+`</thead>
`+j+`</table>
`},Se.tablerow=function(U){return`<tr>
`+U+`</tr>
`},Se.tablecell=function(U,j){var he=j.header?"th":"td",L=j.align?"<"+he+' align="'+j.align+'">':"<"+he+">";return L+U+("</"+he+`>
`)},Se.strong=function(U){return"<strong>"+U+"</strong>"},Se.em=function(U){return"<em>"+U+"</em>"},Se.codespan=function(U){return"<code>"+U+"</code>"},Se.br=function(){return this.options.xhtml?"<br/>":"<br>"},Se.del=function(U){return"<del>"+U+"</del>"},Se.link=function(U,j,he){if(U=ve(this.options.sanitize,this.options.baseUrl,U),U===null)return he;var L='<a href="'+U+'"';return j&&(L+=' title="'+j+'"'),L+=">"+he+"</a>",L},Se.image=function(U,j,he){if(U=ve(this.options.sanitize,this.options.baseUrl,U),U===null)return he;var L='<img src="'+U+'" alt="'+he+'"';return j&&(L+=' title="'+j+'"'),L+=this.options.xhtml?"/>":">",L},Se.text=function(U){return U},xe}(),Mt=function(){function xe(){}var Se=xe.prototype;return Se.strong=function(U){return U},Se.em=function(U){return U},Se.codespan=function(U){return U},Se.del=function(U){return U},Se.html=function(U){return U},Se.text=function(U){return U},Se.link=function(U,j,he){return""+he},Se.image=function(U,j,he){return""+he},Se.br=function(){return""},xe}(),Nt=function(){function xe(){this.seen={}}var Se=xe.prototype;return Se.serialize=function(U){return U.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Se.getNextSafeSlug=function(U,j){var he=U,L=0;if(this.seen.hasOwnProperty(he)){L=this.seen[U];do L++,he=U+"-"+L;while(this.seen.hasOwnProperty(he))}return j||(this.seen[U]=L,this.seen[he]=0),he},Se.slug=function(U,j){j===void 0&&(j={});var he=this.serialize(U);return this.getNextSafeSlug(he,j.dryrun)},xe}(),kt=function(){function xe(me){this.options=me||l.defaults,this.options.renderer=this.options.renderer||new Qt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Mt,this.slugger=new Nt}xe.parse=function(U,j){var he=new xe(j);return he.parse(U)},xe.parseInline=function(U,j){var he=new xe(j);return he.parseInline(U)};var Se=xe.prototype;return Se.parse=function(U,j){j===void 0&&(j=!0);var he="",L,z,ee,oe,de,Ce,fe,le,_e,ge,Ue,$e,et,je,gt,yt,Ct,pt,Wt,jt=U.length;for(L=0;L<jt;L++){if(ge=U[L],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ge.type]&&(Wt=this.options.extensions.renderers[ge.type].call({parser:this},ge),Wt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ge.type))){he+=Wt||"";continue}switch(ge.type){case"space":continue;case"hr":{he+=this.renderer.hr();continue}case"heading":{he+=this.renderer.heading(this.parseInline(ge.tokens),ge.depth,re(this.parseInline(ge.tokens,this.textRenderer)),this.slugger);continue}case"code":{he+=this.renderer.code(ge.text,ge.lang,ge.escaped);continue}case"table":{for(le="",fe="",oe=ge.header.length,z=0;z<oe;z++)fe+=this.renderer.tablecell(this.parseInline(ge.header[z].tokens),{header:!0,align:ge.align[z]});for(le+=this.renderer.tablerow(fe),_e="",oe=ge.rows.length,z=0;z<oe;z++){for(Ce=ge.rows[z],fe="",de=Ce.length,ee=0;ee<de;ee++)fe+=this.renderer.tablecell(this.parseInline(Ce[ee].tokens),{header:!1,align:ge.align[ee]});_e+=this.renderer.tablerow(fe)}he+=this.renderer.table(le,_e);continue}case"blockquote":{_e=this.parse(ge.tokens),he+=this.renderer.blockquote(_e);continue}case"list":{for(Ue=ge.ordered,$e=ge.start,et=ge.loose,oe=ge.items.length,_e="",z=0;z<oe;z++)gt=ge.items[z],yt=gt.checked,Ct=gt.task,je="",gt.task&&(pt=this.renderer.checkbox(yt),et?gt.tokens.length>0&&gt.tokens[0].type==="paragraph"?(gt.tokens[0].text=pt+" "+gt.tokens[0].text,gt.tokens[0].tokens&&gt.tokens[0].tokens.length>0&&gt.tokens[0].tokens[0].type==="text"&&(gt.tokens[0].tokens[0].text=pt+" "+gt.tokens[0].tokens[0].text)):gt.tokens.unshift({type:"text",text:pt}):je+=pt),je+=this.parse(gt.tokens,et),_e+=this.renderer.listitem(je,Ct,yt);he+=this.renderer.list(_e,Ue,$e);continue}case"html":{he+=this.renderer.html(ge.text);continue}case"paragraph":{he+=this.renderer.paragraph(this.parseInline(ge.tokens));continue}case"text":{for(_e=ge.tokens?this.parseInline(ge.tokens):ge.text;L+1<jt&&U[L+1].type==="text";)ge=U[++L],_e+=`
`+(ge.tokens?this.parseInline(ge.tokens):ge.text);he+=j?this.renderer.paragraph(_e):_e;continue}default:{var mn='Token with "'+ge.type+'" type was not found.';if(this.options.silent){console.error(mn);return}else throw new Error(mn)}}}return he},Se.parseInline=function(U,j){j=j||this.renderer;var he="",L,z,ee,oe=U.length;for(L=0;L<oe;L++){if(z=U[L],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[z.type]&&(ee=this.options.extensions.renderers[z.type].call({parser:this},z),ee!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(z.type))){he+=ee||"";continue}switch(z.type){case"escape":{he+=j.text(z.text);break}case"html":{he+=j.html(z.text);break}case"link":{he+=j.link(z.href,z.title,this.parseInline(z.tokens,j));break}case"image":{he+=j.image(z.href,z.title,z.text);break}case"strong":{he+=j.strong(this.parseInline(z.tokens,j));break}case"em":{he+=j.em(this.parseInline(z.tokens,j));break}case"codespan":{he+=j.codespan(z.text);break}case"br":{he+=j.br();break}case"del":{he+=j.del(this.parseInline(z.tokens,j));break}case"text":{he+=j.text(z.text);break}default:{var de='Token with "'+z.type+'" type was not found.';if(this.options.silent){console.error(de);return}else throw new Error(de)}}}return he},xe}(),Pt=function(){function xe(me){this.options=me||l.defaults}var Se=xe.prototype;return Se.preprocess=function(U){return U},Se.postprocess=function(U){return U},xe}();Pt.passThroughHooks=new Set(["preprocess","postprocess"]);function $t(xe,Se,me){return function(U){if(U.message+=`
Please report this to https://github.com/markedjs/marked.`,xe){var j="<p>An error occurred:</p><pre>"+X(U.message+"",!0)+"</pre>";if(Se)return Promise.resolve(j);if(me){me(null,j);return}return j}if(Se)return Promise.reject(U);if(me){me(U);return}throw U}}function pn(xe,Se){return function(me,U,j){typeof U=="function"&&(j=U,U=null);var he=u({},U);U=u({},lt.defaults,he);var L=$t(U.silent,U.async,j);if(typeof me>"u"||me===null)return L(new Error("marked(): input parameter is undefined or null"));if(typeof me!="string")return L(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(me)+", string expected"));if(Qe(U),U.hooks&&(U.hooks.options=U),j){var z=U.highlight,ee;try{U.hooks&&(me=U.hooks.preprocess(me)),ee=xe(me,U)}catch(le){return L(le)}var oe=function(_e){var ge;if(!_e)try{U.walkTokens&&lt.walkTokens(ee,U.walkTokens),ge=Se(ee,U),U.hooks&&(ge=U.hooks.postprocess(ge))}catch(Ue){_e=Ue}return U.highlight=z,_e?L(_e):j(null,ge)};if(!z||z.length<3||(delete U.highlight,!ee.length))return oe();var de=0;lt.walkTokens(ee,function(le){le.type==="code"&&(de++,setTimeout(function(){z(le.text,le.lang,function(_e,ge){if(_e)return oe(_e);ge!=null&&ge!==le.text&&(le.text=ge,le.escaped=!0),de--,de===0&&oe()})},0))}),de===0&&oe();return}if(U.async)return Promise.resolve(U.hooks?U.hooks.preprocess(me):me).then(function(le){return xe(le,U)}).then(function(le){return U.walkTokens?Promise.all(lt.walkTokens(le,U.walkTokens)).then(function(){return le}):le}).then(function(le){return Se(le,U)}).then(function(le){return U.hooks?U.hooks.postprocess(le):le}).catch(L);try{U.hooks&&(me=U.hooks.preprocess(me));var Ce=xe(me,U);U.walkTokens&&lt.walkTokens(Ce,U.walkTokens);var fe=Se(Ce,U);return U.hooks&&(fe=U.hooks.postprocess(fe)),fe}catch(le){return L(le)}}}function lt(xe,Se,me){return pn(Kt.lex,kt.parse)(xe,Se,me)}lt.options=lt.setOptions=function(xe){return lt.defaults=u({},lt.defaults,xe),A(lt.defaults),lt},lt.getDefaults=D,lt.defaults=l.defaults,lt.use=function(){for(var xe=lt.defaults.extensions||{renderers:{},childTokens:{}},Se=arguments.length,me=new Array(Se),U=0;U<Se;U++)me[U]=arguments[U];me.forEach(function(j){var he=u({},j);if(he.async=lt.defaults.async||he.async||!1,j.extensions&&(j.extensions.forEach(function(z){if(!z.name)throw new Error("extension name required");if(z.renderer){var ee=xe.renderers[z.name];ee?xe.renderers[z.name]=function(){for(var oe=arguments.length,de=new Array(oe),Ce=0;Ce<oe;Ce++)de[Ce]=arguments[Ce];var fe=z.renderer.apply(this,de);return fe===!1&&(fe=ee.apply(this,de)),fe}:xe.renderers[z.name]=z.renderer}if(z.tokenizer){if(!z.level||z.level!=="block"&&z.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");xe[z.level]?xe[z.level].unshift(z.tokenizer):xe[z.level]=[z.tokenizer],z.start&&(z.level==="block"?xe.startBlock?xe.startBlock.push(z.start):xe.startBlock=[z.start]:z.level==="inline"&&(xe.startInline?xe.startInline.push(z.start):xe.startInline=[z.start]))}z.childTokens&&(xe.childTokens[z.name]=z.childTokens)}),he.extensions=xe),j.renderer&&function(){var z=lt.defaults.renderer||new Qt,ee=function(Ce){var fe=z[Ce];z[Ce]=function(){for(var le=arguments.length,_e=new Array(le),ge=0;ge<le;ge++)_e[ge]=arguments[ge];var Ue=j.renderer[Ce].apply(z,_e);return Ue===!1&&(Ue=fe.apply(z,_e)),Ue}};for(var oe in j.renderer)ee(oe);he.renderer=z}(),j.tokenizer&&function(){var z=lt.defaults.tokenizer||new ue,ee=function(Ce){var fe=z[Ce];z[Ce]=function(){for(var le=arguments.length,_e=new Array(le),ge=0;ge<le;ge++)_e[ge]=arguments[ge];var Ue=j.tokenizer[Ce].apply(z,_e);return Ue===!1&&(Ue=fe.apply(z,_e)),Ue}};for(var oe in j.tokenizer)ee(oe);he.tokenizer=z}(),j.hooks&&function(){var z=lt.defaults.hooks||new Pt,ee=function(Ce){var fe=z[Ce];Pt.passThroughHooks.has(Ce)?z[Ce]=function(le){if(lt.defaults.async)return Promise.resolve(j.hooks[Ce].call(z,le)).then(function(ge){return fe.call(z,ge)});var _e=j.hooks[Ce].call(z,le);return fe.call(z,_e)}:z[Ce]=function(){for(var le=arguments.length,_e=new Array(le),ge=0;ge<le;ge++)_e[ge]=arguments[ge];var Ue=j.hooks[Ce].apply(z,_e);return Ue===!1&&(Ue=fe.apply(z,_e)),Ue}};for(var oe in j.hooks)ee(oe);he.hooks=z}(),j.walkTokens){var L=lt.defaults.walkTokens;he.walkTokens=function(z){var ee=[];return ee.push(j.walkTokens.call(this,z)),L&&(ee=ee.concat(L.call(this,z))),ee}}lt.setOptions(he)})},lt.walkTokens=function(xe,Se){for(var me=[],U=function(){var z=he.value;switch(me=me.concat(Se.call(lt,z)),z.type){case"table":{for(var ee=v(z.header),oe;!(oe=ee()).done;){var de=oe.value;me=me.concat(lt.walkTokens(de.tokens,Se))}for(var Ce=v(z.rows),fe;!(fe=Ce()).done;)for(var le=fe.value,_e=v(le),ge;!(ge=_e()).done;){var Ue=ge.value;me=me.concat(lt.walkTokens(Ue.tokens,Se))}break}case"list":{me=me.concat(lt.walkTokens(z.items,Se));break}default:lt.defaults.extensions&&lt.defaults.extensions.childTokens&&lt.defaults.extensions.childTokens[z.type]?lt.defaults.extensions.childTokens[z.type].forEach(function($e){me=me.concat(lt.walkTokens(z[$e],Se))}):z.tokens&&(me=me.concat(lt.walkTokens(z.tokens,Se)))}},j=v(xe),he;!(he=j()).done;)U();return me},lt.parseInline=pn(Kt.lexInline,kt.parseInline),lt.Parser=kt,lt.parser=kt.parse,lt.Renderer=Qt,lt.TextRenderer=Mt,lt.Lexer=Kt,lt.lexer=Kt.lex,lt.Tokenizer=ue,lt.Slugger=Nt,lt.Hooks=Pt,lt.parse=lt;var qn=lt.options,Yn=lt.setOptions,en=lt.use,Ei=lt.walkTokens,st=lt.parseInline,on=lt,ut=kt.parse,ms=Kt.lex;l.Hooks=Pt,l.Lexer=Kt,l.Parser=kt,l.Renderer=Qt,l.Slugger=Nt,l.TextRenderer=Mt,l.Tokenizer=ue,l.getDefaults=D,l.lexer=ms,l.marked=lt,l.options=qn,l.parse=on,l.parseInline=st,l.parser=ut,l.setOptions=Yn,l.use=en,l.walkTokens=Ei}(Jf)),Jf}var Qf,p0;function O3(){if(p0)return Qf;p0=1;var l=as();v3(),b3(),y3(),qv(),Yv(),C3(),w3(),x3(),k3(),S3(),Uv();var s=I3(),a=L3().marked,u=/Mac/.test(navigator.platform),h=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),m={toggleBold:re,toggleItalic:ie,drawLink:mt,toggleHeadingSmaller:ve,toggleHeadingBigger:Te,drawImage:zt,toggleBlockquote:be,toggleOrderedList:Pe,toggleUnorderedList:Ne,toggleCodeBlock:ke,togglePreview:Mt,toggleStrikethrough:se,toggleHeading1:Ke,toggleHeading2:Le,toggleHeading3:Ge,toggleHeading4:it,toggleHeading5:rt,toggleHeading6:ce,cleanBlock:Qe,drawTable:Ee,drawHorizontalRule:bt,undo:ot,redo:Kt,toggleSideBySide:Qt,toggleFullScreen:K},v={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},w=function(L){for(var z in m)if(m[z]===L)return z;return null},S=function(){var L=!1;return function(z){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(z)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(z.substr(0,4)))&&(L=!0)}(navigator.userAgent||navigator.vendor||window.opera),L};function D(L){for(var z;(z=h.exec(L))!==null;){var ee=z[0];if(ee.indexOf("target=")===-1){var oe=ee.replace(/>$/,' target="_blank">');L=L.replace(ee,oe)}}return L}function A(L){for(var z=new DOMParser,ee=z.parseFromString(L,"text/html"),oe=ee.getElementsByTagName("li"),de=0;de<oe.length;de++)for(var Ce=oe[de],fe=0;fe<Ce.children.length;fe++){var le=Ce.children[fe];le instanceof HTMLInputElement&&le.type==="checkbox"&&(Ce.style.marginLeft="-1.5em",Ce.style.listStyleType="none")}return ee.documentElement.innerHTML}function O(L){return u?L=L.replace("Ctrl","Cmd"):L=L.replace("Cmd","Ctrl"),L}function N(L,z,ee,oe){var de=V(L,!1,z,ee,"button",oe);de.classList.add("easymde-dropdown"),de.onclick=function(){de.focus()};var Ce=document.createElement("div");Ce.className="easymde-dropdown-content";for(var fe=0;fe<L.children.length;fe++){var le=L.children[fe],_e;typeof le=="string"&&le in on?_e=V(on[le],!0,z,ee,"button",oe):_e=V(le,!0,z,ee,"button",oe),_e.addEventListener("click",function(ge){ge.stopPropagation()},!1),Ce.appendChild(_e)}return de.appendChild(Ce),de}function V(L,z,ee,oe,de,Ce){L=L||{};var fe=document.createElement(de);if(L.attributes)for(var le in L.attributes)Object.prototype.hasOwnProperty.call(L.attributes,le)&&fe.setAttribute(le,L.attributes[le]);var _e=Ce.options.toolbarButtonClassPrefix?Ce.options.toolbarButtonClassPrefix+"-":"";fe.className=_e+L.name,fe.setAttribute("type",de),ee=ee??!0,L.text&&(fe.innerText=L.text),L.name&&L.name in oe&&(m[L.name]=L.action),L.title&&ee&&(fe.title=$(L.title,L.action,oe),u&&(fe.title=fe.title.replace("Ctrl","⌘"),fe.title=fe.title.replace("Alt","⌥"))),L.title&&fe.setAttribute("aria-label",L.title),L.noDisable&&fe.classList.add("no-disable"),L.noMobile&&fe.classList.add("no-mobile");var ge=[];typeof L.className<"u"&&(ge=L.className.split(" "));for(var Ue=[],$e=0;$e<ge.length;$e++){var et=ge[$e];et.match(/^fa([srlb]|(-[\w-]*)|$)/)?Ue.push(et):fe.classList.add(et)}if(fe.tabIndex=-1,Ue.length>0){for(var je=document.createElement("i"),gt=0;gt<Ue.length;gt++){var yt=Ue[gt];je.classList.add(yt)}fe.appendChild(je)}return typeof L.icon<"u"&&(fe.innerHTML=L.icon),L.action&&z&&(typeof L.action=="function"?fe.onclick=function(Ct){Ct.preventDefault(),L.action(Ce)}:typeof L.action=="string"&&(fe.onclick=function(Ct){Ct.preventDefault(),window.open(L.action,"_blank")})),fe}function Y(){var L=document.createElement("i");return L.className="separator",L.innerHTML="|",L}function $(L,z,ee){var oe,de=L;return z&&(oe=w(z),ee[oe]&&(de+=" ("+O(ee[oe])+")")),de}function te(L,z){z=z||L.getCursor("start");var ee=L.getTokenAt(z);if(!ee.type)return{};for(var oe=ee.type.split(" "),de={},Ce,fe,le=0;le<oe.length;le++)Ce=oe[le],Ce==="strong"?de.bold=!0:Ce==="variable-2"?(fe=L.getLine(z.line),/^\s*\d+\.\s/.test(fe)?de["ordered-list"]=!0:de["unordered-list"]=!0):Ce==="atom"?de.quote=!0:Ce==="em"?de.italic=!0:Ce==="quote"?de.quote=!0:Ce==="strikethrough"?de.strikethrough=!0:Ce==="comment"?de.code=!0:Ce==="link"&&!de.image?de.link=!0:Ce==="image"?de.image=!0:Ce.match(/^header(-[1-6])?$/)&&(de[Ce.replace("header","heading")]=!0);return de}var X="";function K(L){var z=L.codemirror;z.setOption("fullScreen",!z.getOption("fullScreen")),z.getOption("fullScreen")?(X=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=X;var ee=z.getWrapperElement(),oe=ee.nextSibling;if(oe.classList.contains("editor-preview-active-side"))if(L.options.sideBySideFullscreen===!1){var de=ee.parentNode;z.getOption("fullScreen")?de.classList.remove("sided--no-fullscreen"):de.classList.add("sided--no-fullscreen")}else Qt(L);if(L.options.onToggleFullScreen&&L.options.onToggleFullScreen(z.getOption("fullScreen")||!1),typeof L.options.maxHeight<"u"&&(z.getOption("fullScreen")?(z.getScrollerElement().style.removeProperty("height"),oe.style.removeProperty("height")):(z.getScrollerElement().style.height=L.options.maxHeight,L.setPreviewMaxHeight())),L.toolbar_div.classList.toggle("fullscreen"),L.toolbarElements&&L.toolbarElements.fullscreen){var Ce=L.toolbarElements.fullscreen;Ce.classList.toggle("active")}}function re(L){pn(L,"bold",L.options.blockStyles.bold)}function ie(L){pn(L,"italic",L.options.blockStyles.italic)}function se(L){pn(L,"strikethrough","~~")}function ke(L){var z=L.options.blockStyles.code;function ee(gn){if(typeof gn!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof gn+": "+gn;return gn.styles&&gn.styles[2]&&gn.styles[2].indexOf("formatting-code-block")!==-1}function oe(gn){return gn.state.base.base||gn.state.base}function de(gn,oi,Ai,_i,ri){Ai=Ai||gn.getLineHandle(oi),_i=_i||gn.getTokenAt({line:oi,ch:1}),ri=ri||!!Ai.text&&gn.getTokenAt({line:oi,ch:Ai.text.length-1});var Ps=_i.type?_i.type.split(" "):[];return ri&&oe(ri).indentedCode?"indented":Ps.indexOf("comment")===-1?!1:oe(_i).fencedChars||oe(ri).fencedChars||ee(Ai)?"fenced":"single"}function Ce(gn,oi,Ai,_i){var ri=oi.line+1,Ps=Ai.line+1,Bs=oi.line!==Ai.line,Ns=_i+`
`,ha=`
`+_i;Bs&&Ps++,Bs&&Ai.ch===0&&(ha=_i+`
`,Ps--),Nt(gn,!1,[Ns,ha]),gn.setSelection({line:ri,ch:0},{line:Ps,ch:0})}var fe=L.codemirror,le=fe.getCursor("start"),_e=fe.getCursor("end"),ge=fe.getTokenAt({line:le.line,ch:le.ch||1}),Ue=fe.getLineHandle(le.line),$e=de(fe,le.line,Ue,ge),et,je,gt;if($e==="single"){var yt=Ue.text.slice(0,le.ch).replace("`",""),Ct=Ue.text.slice(le.ch).replace("`","");fe.replaceRange(yt+Ct,{line:le.line,ch:0},{line:le.line,ch:99999999999999}),le.ch--,le!==_e&&_e.ch--,fe.setSelection(le,_e),fe.focus()}else if($e==="fenced")if(le.line!==_e.line||le.ch!==_e.ch){for(et=le.line;et>=0&&(Ue=fe.getLineHandle(et),!ee(Ue));et--);var pt=fe.getTokenAt({line:et,ch:1}),Wt=oe(pt).fencedChars,jt,mn,ti,Gn;ee(fe.getLineHandle(le.line))?(jt="",mn=le.line):ee(fe.getLineHandle(le.line-1))?(jt="",mn=le.line-1):(jt=Wt+`
`,mn=le.line),ee(fe.getLineHandle(_e.line))?(ti="",Gn=_e.line,_e.ch===0&&(Gn+=1)):_e.ch!==0&&ee(fe.getLineHandle(_e.line+1))?(ti="",Gn=_e.line+1):(ti=Wt+`
`,Gn=_e.line+1),_e.ch===0&&(Gn-=1),fe.operation(function(){fe.replaceRange(ti,{line:Gn,ch:0},{line:Gn+(ti?0:1),ch:0}),fe.replaceRange(jt,{line:mn,ch:0},{line:mn+(jt?0:1),ch:0})}),fe.setSelection({line:mn+(jt?1:0),ch:0},{line:Gn+(jt?1:-1),ch:0}),fe.focus()}else{var ca=le.line;if(ee(fe.getLineHandle(le.line))&&(de(fe,le.line+1)==="fenced"?(et=le.line,ca=le.line+1):(je=le.line,ca=le.line-1)),et===void 0)for(et=ca;et>=0&&(Ue=fe.getLineHandle(et),!ee(Ue));et--);if(je===void 0)for(gt=fe.lineCount(),je=ca;je<gt&&(Ue=fe.getLineHandle(je),!ee(Ue));je++);fe.operation(function(){fe.replaceRange("",{line:et,ch:0},{line:et+1,ch:0}),fe.replaceRange("",{line:je-1,ch:0},{line:je,ch:0})}),fe.focus()}else if($e==="indented"){if(le.line!==_e.line||le.ch!==_e.ch)et=le.line,je=_e.line,_e.ch===0&&je--;else{for(et=le.line;et>=0;et--)if(Ue=fe.getLineHandle(et),!Ue.text.match(/^\s*$/)&&de(fe,et,Ue)!=="indented"){et+=1;break}for(gt=fe.lineCount(),je=le.line;je<gt;je++)if(Ue=fe.getLineHandle(je),!Ue.text.match(/^\s*$/)&&de(fe,je,Ue)!=="indented"){je-=1;break}}var da=fe.getLineHandle(je+1),Eo=da&&fe.getTokenAt({line:je+1,ch:da.text.length-1}),os=Eo&&oe(Eo).indentedCode;os&&fe.replaceRange(`
`,{line:je+1,ch:0});for(var Va=et;Va<=je;Va++)fe.indentLine(Va,"subtract");fe.focus()}else{var Ma=le.line===_e.line&&le.ch===_e.ch&&le.ch===0,ll=le.line!==_e.line;Ma||ll?Ce(fe,le,_e,z):Nt(fe,!1,["`","`"])}}function be(L){Pt(L.codemirror,"quote")}function ve(L){kt(L.codemirror,"smaller")}function Te(L){kt(L.codemirror,"bigger")}function Ke(L){kt(L.codemirror,void 0,1)}function Le(L){kt(L.codemirror,void 0,2)}function Ge(L){kt(L.codemirror,void 0,3)}function it(L){kt(L.codemirror,void 0,4)}function rt(L){kt(L.codemirror,void 0,5)}function ce(L){kt(L.codemirror,void 0,6)}function Ne(L){var z=L.codemirror,ee="*";["-","+","*"].includes(L.options.unorderedListStyle)&&(ee=L.options.unorderedListStyle),Pt(z,"unordered-list",ee)}function Pe(L){Pt(L.codemirror,"ordered-list")}function Qe(L){lt(L.codemirror)}function mt(L){var z=L.options,ee="https://";if(z.promptURLs){var oe=prompt(z.promptTexts.link,ee);if(!oe)return!1;ee=ei(oe)}$t(L,"link",z.insertTexts.link,ee)}function zt(L){var z=L.options,ee="https://";if(z.promptURLs){var oe=prompt(z.promptTexts.image,ee);if(!oe)return!1;ee=ei(oe)}$t(L,"image",z.insertTexts.image,ee)}function ei(L){return encodeURI(L).replace(/([\\()])/g,"\\$1")}function ue(L){L.openBrowseFileWindow()}function W(L,z){var ee=L.codemirror,oe=te(ee),de=L.options,Ce=z.substr(z.lastIndexOf("/")+1),fe=Ce.substring(Ce.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(fe))Nt(ee,oe.image,de.insertTexts.uploadedImage,z);else{var le=de.insertTexts.link;le[0]="["+Ce,Nt(ee,oe.link,le,z)}L.updateStatusBar("upload-image",L.options.imageTexts.sbOnUploaded.replace("#image_name#",Ce)),setTimeout(function(){L.updateStatusBar("upload-image",L.options.imageTexts.sbInit)},1e3)}function Ee(L){var z=L.codemirror,ee=te(z),oe=L.options;Nt(z,ee.table,oe.insertTexts.table)}function bt(L){var z=L.codemirror,ee=te(z),oe=L.options;Nt(z,ee.image,oe.insertTexts.horizontalRule)}function ot(L){var z=L.codemirror;z.undo(),z.focus()}function Kt(L){var z=L.codemirror;z.redo(),z.focus()}function Qt(L){var z=L.codemirror,ee=z.getWrapperElement(),oe=ee.nextSibling,de=L.toolbarElements&&L.toolbarElements["side-by-side"],Ce=!1,fe=ee.parentNode;oe.classList.contains("editor-preview-active-side")?(L.options.sideBySideFullscreen===!1&&fe.classList.remove("sided--no-fullscreen"),oe.classList.remove("editor-preview-active-side"),de&&de.classList.remove("active"),ee.classList.remove("CodeMirror-sided")):(setTimeout(function(){z.getOption("fullScreen")||(L.options.sideBySideFullscreen===!1?fe.classList.add("sided--no-fullscreen"):K(L)),oe.classList.add("editor-preview-active-side")},1),de&&de.classList.add("active"),ee.classList.add("CodeMirror-sided"),Ce=!0);var le=ee.lastChild;if(le.classList.contains("editor-preview-active")){le.classList.remove("editor-preview-active");var _e=L.toolbarElements.preview,ge=L.toolbar_div;_e.classList.remove("active"),ge.classList.remove("disabled-for-preview")}var Ue=function(){var et=L.options.previewRender(L.value(),oe);et!=null&&(oe.innerHTML=et)};if(z.sideBySideRenderingFunction||(z.sideBySideRenderingFunction=Ue),Ce){var $e=L.options.previewRender(L.value(),oe);$e!=null&&(oe.innerHTML=$e),z.on("update",z.sideBySideRenderingFunction)}else z.off("update",z.sideBySideRenderingFunction);z.refresh()}function Mt(L){var z=L.codemirror,ee=z.getWrapperElement(),oe=L.toolbar_div,de=L.options.toolbar?L.toolbarElements.preview:!1,Ce=ee.lastChild,fe=z.getWrapperElement().nextSibling;if(fe.classList.contains("editor-preview-active-side")&&Qt(L),!Ce||!Ce.classList.contains("editor-preview-full")){if(Ce=document.createElement("div"),Ce.className="editor-preview-full",L.options.previewClass)if(Array.isArray(L.options.previewClass))for(var le=0;le<L.options.previewClass.length;le++)Ce.classList.add(L.options.previewClass[le]);else typeof L.options.previewClass=="string"&&Ce.classList.add(L.options.previewClass);ee.appendChild(Ce)}Ce.classList.contains("editor-preview-active")?(Ce.classList.remove("editor-preview-active"),de&&(de.classList.remove("active"),oe.classList.remove("disabled-for-preview"))):(setTimeout(function(){Ce.classList.add("editor-preview-active")},1),de&&(de.classList.add("active"),oe.classList.add("disabled-for-preview")));var _e=L.options.previewRender(L.value(),Ce);_e!==null&&(Ce.innerHTML=_e)}function Nt(L,z,ee,oe){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var de,Ce=ee[0],fe=ee[1],le={},_e={};Object.assign(le,L.getCursor("start")),Object.assign(_e,L.getCursor("end")),oe&&(Ce=Ce.replace("#url#",oe),fe=fe.replace("#url#",oe)),z?(de=L.getLine(le.line),Ce=de.slice(0,le.ch),fe=de.slice(le.ch),L.replaceRange(Ce+fe,{line:le.line,ch:0})):(de=L.getSelection(),L.replaceSelection(Ce+de+fe),le.ch+=Ce.length,le!==_e&&(_e.ch+=Ce.length)),L.setSelection(le,_e),L.focus()}}function kt(L,z,ee){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var oe=L.getCursor("start"),de=L.getCursor("end"),Ce=oe.line;Ce<=de.line;Ce++)(function(fe){var le=L.getLine(fe),_e=le.search(/[^#]/);z!==void 0?_e<=0?z=="bigger"?le="###### "+le:le="# "+le:_e==6&&z=="smaller"?le=le.substr(7):_e==1&&z=="bigger"?le=le.substr(2):z=="bigger"?le=le.substr(1):le="#"+le:_e<=0?le="#".repeat(ee)+" "+le:_e==ee?le=le.substr(_e+1):le="#".repeat(ee)+" "+le.substr(_e+1),L.replaceRange(le,{line:fe,ch:0},{line:fe,ch:99999999999999})})(Ce);L.focus()}}function Pt(L,z,ee){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var oe=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,de=/^\s*/,Ce=te(L),fe=L.getCursor("start"),le=L.getCursor("end"),_e={quote:/^(\s*)>\s+/,"unordered-list":oe,"ordered-list":oe},ge=function(gt,yt){var Ct={quote:">","unordered-list":ee,"ordered-list":"%%i."};return Ct[gt].replace("%%i",yt)},Ue=function(gt,yt){var Ct={quote:">","unordered-list":"\\"+ee,"ordered-list":"\\d+."},pt=new RegExp(Ct[gt]);return yt&&pt.test(yt)},$e=function(gt,yt,Ct){var pt=oe.exec(yt),Wt=ge(gt,et);return pt!==null?(Ue(gt,pt[2])&&(Wt=""),yt=pt[1]+Wt+pt[3]+yt.replace(de,"").replace(_e[gt],"$1")):Ct==!1&&(yt=Wt+" "+yt),yt},et=1,je=fe.line;je<=le.line;je++)(function(gt){var yt=L.getLine(gt);Ce[z]?yt=yt.replace(_e[z],"$1"):(z=="unordered-list"&&(yt=$e("ordered-list",yt,!0)),yt=$e(z,yt,!1),et+=1),L.replaceRange(yt,{line:gt,ch:0},{line:gt,ch:99999999999999})})(je);L.focus()}}function $t(L,z,ee,oe){if(!(!L.codemirror||L.isPreviewActive())){var de=L.codemirror,Ce=te(de),fe=Ce[z];if(!fe){Nt(de,fe,ee,oe);return}var le=de.getCursor("start"),_e=de.getCursor("end"),ge=de.getLine(le.line),Ue=ge.slice(0,le.ch),$e=ge.slice(le.ch);z=="link"?Ue=Ue.replace(/(.*)[^!]\[/,"$1"):z=="image"&&(Ue=Ue.replace(/(.*)!\[$/,"$1")),$e=$e.replace(/]\(.*?\)/,""),de.replaceRange(Ue+$e,{line:le.line,ch:0},{line:le.line,ch:99999999999999}),le.ch-=ee[0].length,le!==_e&&(_e.ch-=ee[0].length),de.setSelection(le,_e),de.focus()}}function pn(L,z,ee,oe){if(!(!L.codemirror||L.isPreviewActive())){oe=typeof oe>"u"?ee:oe;var de=L.codemirror,Ce=te(de),fe,le=ee,_e=oe,ge=de.getCursor("start"),Ue=de.getCursor("end");Ce[z]?(fe=de.getLine(ge.line),le=fe.slice(0,ge.ch),_e=fe.slice(ge.ch),z=="bold"?(le=le.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),_e=_e.replace(/(\*\*|__)/,"")):z=="italic"?(le=le.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),_e=_e.replace(/(\*|_)/,"")):z=="strikethrough"&&(le=le.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),_e=_e.replace(/(\*\*|~~)/,"")),de.replaceRange(le+_e,{line:ge.line,ch:0},{line:ge.line,ch:99999999999999}),z=="bold"||z=="strikethrough"?(ge.ch-=2,ge!==Ue&&(Ue.ch-=2)):z=="italic"&&(ge.ch-=1,ge!==Ue&&(Ue.ch-=1))):(fe=de.getSelection(),z=="bold"?(fe=fe.split("**").join(""),fe=fe.split("__").join("")):z=="italic"?(fe=fe.split("*").join(""),fe=fe.split("_").join("")):z=="strikethrough"&&(fe=fe.split("~~").join("")),de.replaceSelection(le+fe+_e),ge.ch+=ee.length,Ue.ch=ge.ch+fe.length),de.setSelection(ge,Ue),de.focus()}}function lt(L){if(!L.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var z=L.getCursor("start"),ee=L.getCursor("end"),oe,de=z.line;de<=ee.line;de++)oe=L.getLine(de),oe=oe.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),L.replaceRange(oe,{line:de,ch:0},{line:de,ch:99999999999999})}function qn(L,z){if(Math.abs(L)<1024)return""+L+z[0];var ee=0;do L/=1024,++ee;while(Math.abs(L)>=1024&&ee<z.length);return""+L.toFixed(1)+z[ee]}function Yn(L,z){for(var ee in z)Object.prototype.hasOwnProperty.call(z,ee)&&(z[ee]instanceof Array?L[ee]=z[ee].concat(L[ee]instanceof Array?L[ee]:[]):z[ee]!==null&&typeof z[ee]=="object"&&z[ee].constructor===Object?L[ee]=Yn(L[ee]||{},z[ee]):L[ee]=z[ee]);return L}function en(L){for(var z=1;z<arguments.length;z++)L=Yn(L,arguments[z]);return L}function Ei(L){var z=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,ee=L.match(z),oe=0;if(ee===null)return oe;for(var de=0;de<ee.length;de++)ee[de].charCodeAt(0)>=19968?oe+=ee[de].length:oe+=1;return oe}var st={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},on={bold:{name:"bold",action:re,className:st.bold,title:"Bold",default:!0},italic:{name:"italic",action:ie,className:st.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:se,className:st.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:ve,className:st.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:ve,className:st["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Te,className:st["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Ke,className:st["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Le,className:st["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:Ge,className:st["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:ke,className:st.code,title:"Code"},quote:{name:"quote",action:be,className:st.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:Ne,className:st["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Pe,className:st["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:Qe,className:st["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:mt,className:st.link,title:"Create Link",default:!0},image:{name:"image",action:zt,className:st.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:ue,className:st["upload-image"],title:"Import an image"},table:{name:"table",action:Ee,className:st.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:bt,className:st["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Mt,className:st.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:Qt,className:st["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:K,className:st.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:st.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:ot,className:st.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:Kt,className:st.redo,noDisable:!0,title:"Redo"}},ut={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},ms={link:"URL for the link:",image:"URL of the image:"},xe={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},Se={bold:"**",code:"```",italic:"*"},me={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},U={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function j(L){L=L||{},L.parent=this;var z=!0;if(L.autoDownloadFontAwesome===!1&&(z=!1),L.autoDownloadFontAwesome!==!0)for(var ee=document.styleSheets,oe=0;oe<ee.length;oe++)ee[oe].href&&ee[oe].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(z=!1);if(z){var de=document.createElement("link");de.rel="stylesheet",de.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(de)}if(L.element)this.element=L.element;else if(L.element===null){console.log("EasyMDE: Error. No element was found.");return}if(L.toolbar===void 0){L.toolbar=[];for(var Ce in on)Object.prototype.hasOwnProperty.call(on,Ce)&&(Ce.indexOf("separator-")!=-1&&L.toolbar.push("|"),(on[Ce].default===!0||L.showIcons&&L.showIcons.constructor===Array&&L.showIcons.indexOf(Ce)!=-1)&&L.toolbar.push(Ce))}if(Object.prototype.hasOwnProperty.call(L,"previewClass")||(L.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(L,"status")||(L.status=["autosave","lines","words","cursor"],L.uploadImage&&L.status.unshift("upload-image")),L.previewRender||(L.previewRender=function(le){return this.parent.markdown(le)}),L.parsingConfig=en({highlightFormatting:!0},L.parsingConfig||{}),L.insertTexts=en({},ut,L.insertTexts||{}),L.promptTexts=en({},ms,L.promptTexts||{}),L.blockStyles=en({},Se,L.blockStyles||{}),L.autosave!=null&&(L.autosave.timeFormat=en({},xe,L.autosave.timeFormat||{})),L.iconClassMap=en({},st,L.iconClassMap||{}),L.shortcuts=en({},v,L.shortcuts||{}),L.maxHeight=L.maxHeight||void 0,L.direction=L.direction||"ltr",typeof L.maxHeight<"u"?L.minHeight=L.maxHeight:L.minHeight=L.minHeight||"300px",L.errorCallback=L.errorCallback||function(le){alert(le)},L.uploadImage=L.uploadImage||!1,L.imageMaxSize=L.imageMaxSize||2097152,L.imageAccept=L.imageAccept||"image/png, image/jpeg, image/gif, image/avif",L.imageTexts=en({},me,L.imageTexts||{}),L.errorMessages=en({},U,L.errorMessages||{}),L.imagePathAbsolute=L.imagePathAbsolute||!1,L.imageCSRFName=L.imageCSRFName||"csrfmiddlewaretoken",L.imageCSRFHeader=L.imageCSRFHeader||!1,L.imageInputName=L.imageInputName||"image",L.autosave!=null&&L.autosave.unique_id!=null&&L.autosave.unique_id!=""&&(L.autosave.uniqueId=L.autosave.unique_id),L.overlayMode&&L.overlayMode.combine===void 0&&(L.overlayMode.combine=!0),this.options=L,this.render(),L.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(L.initialValue),L.uploadImage){var fe=this;this.codemirror.on("dragenter",function(le,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbOnDragEnter),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("dragend",function(le,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbInit),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("dragleave",function(le,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbInit),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("dragover",function(le,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbOnDragEnter),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("drop",function(le,_e){_e.stopPropagation(),_e.preventDefault(),L.imageUploadFunction?fe.uploadImagesUsingCustomFunction(L.imageUploadFunction,_e.dataTransfer.files):fe.uploadImages(_e.dataTransfer.files)}),this.codemirror.on("paste",function(le,_e){L.imageUploadFunction?fe.uploadImagesUsingCustomFunction(L.imageUploadFunction,_e.clipboardData.files):fe.uploadImages(_e.clipboardData.files)})}}j.prototype.uploadImages=function(L,z,ee){if(L.length!==0){for(var oe=[],de=0;de<L.length;de++)oe.push(L[de].name),this.uploadImage(L[de],z,ee);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",oe.join(", ")))}},j.prototype.uploadImagesUsingCustomFunction=function(L,z){if(z.length!==0){for(var ee=[],oe=0;oe<z.length;oe++)ee.push(z[oe].name),this.uploadImageUsingCustomFunction(L,z[oe]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",ee.join(", ")))}},j.prototype.updateStatusBar=function(L,z){if(this.gui.statusbar){var ee=this.gui.statusbar.getElementsByClassName(L);ee.length===1?this.gui.statusbar.getElementsByClassName(L)[0].textContent=z:ee.length===0?console.log("EasyMDE: status bar item "+L+" was not found."):console.log("EasyMDE: Several status bar items named "+L+" was found.")}},j.prototype.markdown=function(L){if(a){var z;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?z=this.options.renderingConfig.markedOptions:z={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?z.breaks=!1:z.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var ee=this.options.renderingConfig.hljs||window.hljs;ee&&(z.highlight=function(de,Ce){return Ce&&ee.getLanguage(Ce)?ee.highlight(Ce,de).value:ee.highlightAuto(de).value})}a.use(z);var oe=a.parse(L);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(oe=this.options.renderingConfig.sanitizerFunction.call(this,oe)),oe=D(oe),oe=A(oe),oe}},j.prototype.render=function(L){if(L||(L=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===L)return;this.element=L;var z=this.options,ee=this,oe={};for(var de in z.shortcuts)z.shortcuts[de]!==null&&m[de]!==null&&function(Ct){oe[O(z.shortcuts[Ct])]=function(){var pt=m[Ct];typeof pt=="function"?pt(ee):typeof pt=="string"&&window.open(pt,"_blank")}}(de);oe.Enter="newlineAndIndentContinueMarkdownList",oe.Tab="tabAndIndentMarkdownList",oe["Shift-Tab"]="shiftTabAndUnindentMarkdownList",oe.Esc=function(Ct){Ct.getOption("fullScreen")&&K(ee)},this.documentOnKeyDown=function(Ct){Ct=Ct||window.event,Ct.keyCode==27&&ee.codemirror.getOption("fullScreen")&&K(ee)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var Ce,fe;z.overlayMode?(l.defineMode("overlay-mode",function(Ct){return l.overlayMode(l.getMode(Ct,z.spellChecker!==!1?"spell-checker":"gfm"),z.overlayMode.mode,z.overlayMode.combine)}),Ce="overlay-mode",fe=z.parsingConfig,fe.gitHubSpice=!1):(Ce=z.parsingConfig,Ce.name="gfm",Ce.gitHubSpice=!1),z.spellChecker!==!1&&(Ce="spell-checker",fe=z.parsingConfig,fe.name="gfm",fe.gitHubSpice=!1,typeof z.spellChecker=="function"?z.spellChecker({codeMirrorInstance:l}):s({codeMirrorInstance:l}));function le(Ct,pt,Wt){return{addNew:!1}}if(this.codemirror=l.fromTextArea(L,{mode:Ce,backdrop:fe,theme:z.theme!=null?z.theme:"easymde",tabSize:z.tabSize!=null?z.tabSize:2,indentUnit:z.tabSize!=null?z.tabSize:2,indentWithTabs:z.indentWithTabs!==!1,lineNumbers:z.lineNumbers===!0,autofocus:z.autofocus===!0,extraKeys:oe,direction:z.direction,lineWrapping:z.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:z.placeholder||L.getAttribute("placeholder")||"",styleSelectedText:z.styleSelectedText!=null?z.styleSelectedText:!S(),scrollbarStyle:z.scrollbarStyle!=null?z.scrollbarStyle:"native",configureMouse:le,inputStyle:z.inputStyle!=null?z.inputStyle:S()?"contenteditable":"textarea",spellcheck:z.nativeSpellcheck!=null?z.nativeSpellcheck:!0,autoRefresh:z.autoRefresh!=null?z.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=z.minHeight,typeof z.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=z.maxHeight),z.forceSync===!0){var _e=this.codemirror;_e.on("change",function(){_e.save()})}this.gui={};var ge=document.createElement("div");ge.classList.add("EasyMDEContainer"),ge.setAttribute("role","application");var Ue=this.codemirror.getWrapperElement();Ue.parentNode.insertBefore(ge,Ue),ge.appendChild(Ue),z.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),z.status!==!1&&(this.gui.statusbar=this.createStatusbar()),z.autosave!=null&&z.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(ee._autosave_timeout),ee._autosave_timeout=setTimeout(function(){ee.autosave()},ee.options.autosave.submit_delay||ee.options.autosave.delay||1e3)}));function $e(Ct,pt){var Wt,jt=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return Ct<jt?Wt=pt+"px":Wt=pt/Ct*100+"%",Wt}var et=this;function je(Ct,pt){var Wt=new URL(pt.url,document.baseURI).href;Ct.setAttribute("data-img-src",Wt),Ct.setAttribute("style","--bg-image:url("+Wt+");--width:"+pt.naturalWidth+"px;--height:"+$e(pt.naturalWidth,pt.naturalHeight)),et.codemirror.setSize()}function gt(){z.previewImagesInEditor&&ge.querySelectorAll(".cm-image-marker").forEach(function(Ct){var pt=Ct.parentElement;if(pt.innerText.match(/^!\[.*?\]\(.*\)/g)&&!pt.hasAttribute("data-img-src")){var Wt=pt.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),Wt&&Wt.length>=2){var jt=Wt[1];if(z.imagesPreviewHandler){var mn=z.imagesPreviewHandler(Wt[1]);typeof mn=="string"&&(jt=mn)}if(window.EMDEimagesCache[jt])je(pt,window.EMDEimagesCache[jt]);else{window.EMDEimagesCache[jt]={};var ti=document.createElement("img");ti.onload=function(){window.EMDEimagesCache[jt]={naturalWidth:ti.naturalWidth,naturalHeight:ti.naturalHeight,url:jt},je(pt,window.EMDEimagesCache[jt])},ti.src=jt}}}})}this.codemirror.on("update",function(){gt()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(z.autofocus===!0||L.autofocus)&&this.codemirror.focus();var yt=this.codemirror;setTimeout((function(){yt.refresh()}).bind(yt),0)},j.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function he(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return j.prototype.autosave=function(){if(he()){var L=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(L.element.form!=null&&L.element.form!=null&&L.element.form.addEventListener("submit",function(){clearTimeout(L.autosaveTimeoutId),L.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+L.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var z=L.value();z!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,z):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var ee=document.getElementById("autosaved");if(ee!=null&&ee!=null&&ee!=""){var oe=new Date,de=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(oe),Ce=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;ee.innerHTML=Ce+de}}else console.log("EasyMDE: localStorage not available, cannot autosave")},j.prototype.clearAutosavedValue=function(){if(he()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},j.prototype.openBrowseFileWindow=function(L,z){var ee=this,oe=this.gui.toolbar.getElementsByClassName("imageInput")[0];oe.click();function de(Ce){ee.options.imageUploadFunction?ee.uploadImagesUsingCustomFunction(ee.options.imageUploadFunction,Ce.target.files):ee.uploadImages(Ce.target.files,L,z),oe.removeEventListener("change",de)}oe.addEventListener("change",de)},j.prototype.uploadImage=function(L,z,ee){var oe=this;z=z||function(ge){W(oe,ge)};function de(_e){oe.updateStatusBar("upload-image",_e),setTimeout(function(){oe.updateStatusBar("upload-image",oe.options.imageTexts.sbInit)},1e4),ee&&typeof ee=="function"&&ee(_e),oe.options.errorCallback(_e)}function Ce(_e){var ge=oe.options.imageTexts.sizeUnits.split(",");return _e.replace("#image_name#",L.name).replace("#image_size#",qn(L.size,ge)).replace("#image_max_size#",qn(oe.options.imageMaxSize,ge))}if(L.size>this.options.imageMaxSize){de(Ce(this.options.errorMessages.fileTooLarge));return}var fe=new FormData;fe.append("image",L),oe.options.imageCSRFToken&&!oe.options.imageCSRFHeader&&fe.append(oe.options.imageCSRFName,oe.options.imageCSRFToken);var le=new XMLHttpRequest;le.upload.onprogress=function(_e){if(_e.lengthComputable){var ge=""+Math.round(_e.loaded*100/_e.total);oe.updateStatusBar("upload-image",oe.options.imageTexts.sbProgress.replace("#file_name#",L.name).replace("#progress#",ge))}},le.open("POST",this.options.imageUploadEndpoint),oe.options.imageCSRFToken&&oe.options.imageCSRFHeader&&le.setRequestHeader(oe.options.imageCSRFName,oe.options.imageCSRFToken),le.onload=function(){try{var _e=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),de(Ce(oe.options.errorMessages.importError));return}this.status===200&&_e&&!_e.error&&_e.data&&_e.data.filePath?z((oe.options.imagePathAbsolute?"":window.location.origin+"/")+_e.data.filePath):_e.error&&_e.error in oe.options.errorMessages?de(Ce(oe.options.errorMessages[_e.error])):_e.error?de(Ce(_e.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),de(Ce(oe.options.errorMessages.importError)))},le.onerror=function(_e){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+_e.target.status+" ("+_e.target.statusText+")"),de(oe.options.errorMessages.importError)},le.send(fe)},j.prototype.uploadImageUsingCustomFunction=function(L,z){var ee=this;function oe(fe){W(ee,fe)}function de(fe){var le=Ce(fe);ee.updateStatusBar("upload-image",le),setTimeout(function(){ee.updateStatusBar("upload-image",ee.options.imageTexts.sbInit)},1e4),ee.options.errorCallback(le)}function Ce(fe){var le=ee.options.imageTexts.sizeUnits.split(",");return fe.replace("#image_name#",z.name).replace("#image_size#",qn(z.size,le)).replace("#image_max_size#",qn(ee.options.imageMaxSize,le))}L.apply(this,[z,oe,de])},j.prototype.setPreviewMaxHeight=function(){var L=this.codemirror,z=L.getWrapperElement(),ee=z.nextSibling,oe=parseInt(window.getComputedStyle(z).paddingTop),de=parseInt(window.getComputedStyle(z).borderTopWidth),Ce=parseInt(this.options.maxHeight),fe=Ce+oe*2+de*2,le=fe.toString()+"px";ee.style.height=le},j.prototype.createSideBySide=function(){var L=this.codemirror,z=L.getWrapperElement(),ee=z.nextSibling;if(!ee||!ee.classList.contains("editor-preview-side")){if(ee=document.createElement("div"),ee.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var oe=0;oe<this.options.previewClass.length;oe++)ee.classList.add(this.options.previewClass[oe]);else typeof this.options.previewClass=="string"&&ee.classList.add(this.options.previewClass);z.parentNode.insertBefore(ee,z.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return ee;var de=!1,Ce=!1;return L.on("scroll",function(fe){if(de){de=!1;return}Ce=!0;var le=fe.getScrollInfo().height-fe.getScrollInfo().clientHeight,_e=parseFloat(fe.getScrollInfo().top)/le,ge=(ee.scrollHeight-ee.clientHeight)*_e;ee.scrollTop=ge}),ee.onscroll=function(){if(Ce){Ce=!1;return}de=!0;var fe=ee.scrollHeight-ee.clientHeight,le=parseFloat(ee.scrollTop)/fe,_e=(L.getScrollInfo().height-L.getScrollInfo().clientHeight)*le;L.scrollTo(0,_e)},ee},j.prototype.createToolbar=function(L){if(L=L||this.options.toolbar,!(!L||L.length===0)){var z;for(z=0;z<L.length;z++)on[L[z]]!=null&&(L[z]=on[L[z]]);var ee=document.createElement("div");ee.className="editor-toolbar",ee.setAttribute("role","toolbar");var oe=this,de={};for(oe.toolbar=L,z=0;z<L.length;z++)if(!(L[z].name=="guide"&&oe.options.toolbarGuideIcon===!1)&&!(oe.options.hideIcons&&oe.options.hideIcons.indexOf(L[z].name)!=-1)&&!((L[z].name=="fullscreen"||L[z].name=="side-by-side")&&S())){if(L[z]==="|"){for(var Ce=!1,fe=z+1;fe<L.length;fe++)L[fe]!=="|"&&(!oe.options.hideIcons||oe.options.hideIcons.indexOf(L[fe].name)==-1)&&(Ce=!0);if(!Ce)continue}(function(ge){var Ue;if(ge==="|"?Ue=Y():ge.children?Ue=N(ge,oe.options.toolbarTips,oe.options.shortcuts,oe):Ue=V(ge,!0,oe.options.toolbarTips,oe.options.shortcuts,"button",oe),de[ge.name||ge]=Ue,ee.appendChild(Ue),ge.name==="upload-image"){var $e=document.createElement("input");$e.className="imageInput",$e.type="file",$e.multiple=!0,$e.name=oe.options.imageInputName,$e.accept=oe.options.imageAccept,$e.style.display="none",$e.style.opacity=0,ee.appendChild($e)}})(L[z])}oe.toolbar_div=ee,oe.toolbarElements=de;var le=this.codemirror;le.on("cursorActivity",function(){var ge=te(le);for(var Ue in de)(function($e){var et=de[$e];ge[$e]?et.classList.add("active"):$e!="fullscreen"&&$e!="side-by-side"&&et.classList.remove("active")})(Ue)});var _e=le.getWrapperElement();return _e.parentNode.insertBefore(ee,_e),ee}},j.prototype.createStatusbar=function(L){L=L||this.options.status;var z=this.options,ee=this.codemirror;if(!(!L||L.length===0)){var oe=[],de,Ce,fe,le;for(de=0;de<L.length;de++)if(Ce=void 0,fe=void 0,le=void 0,typeof L[de]=="object")oe.push({className:L[de].className,defaultValue:L[de].defaultValue,onUpdate:L[de].onUpdate,onActivity:L[de].onActivity});else{var _e=L[de];_e==="words"?(le=function(je){je.innerHTML=Ei(ee.getValue())},Ce=function(je){je.innerHTML=Ei(ee.getValue())}):_e==="lines"?(le=function(je){je.innerHTML=ee.lineCount()},Ce=function(je){je.innerHTML=ee.lineCount()}):_e==="cursor"?(le=function(je){je.innerHTML="1:1"},fe=function(je){var gt=ee.getCursor(),yt=gt.line+1,Ct=gt.ch+1;je.innerHTML=yt+":"+Ct}):_e==="autosave"?le=function(je){z.autosave!=null&&z.autosave.enabled===!0&&je.setAttribute("id","autosaved")}:_e==="upload-image"&&(le=function(je){je.innerHTML=z.imageTexts.sbInit}),oe.push({className:_e,defaultValue:le,onUpdate:Ce,onActivity:fe})}var ge=document.createElement("div");for(ge.className="editor-statusbar",de=0;de<oe.length;de++){var Ue=oe[de],$e=document.createElement("span");$e.className=Ue.className,typeof Ue.defaultValue=="function"&&Ue.defaultValue($e),typeof Ue.onUpdate=="function"&&this.codemirror.on("update",function(je,gt){return function(){gt.onUpdate(je)}}($e,Ue)),typeof Ue.onActivity=="function"&&this.codemirror.on("cursorActivity",function(je,gt){return function(){gt.onActivity(je)}}($e,Ue)),ge.appendChild($e)}var et=this.codemirror.getWrapperElement();return et.parentNode.insertBefore(ge,et.nextSibling),ge}},j.prototype.value=function(L){var z=this.codemirror;if(L===void 0)return z.getValue();if(z.getDoc().setValue(L),this.isPreviewActive()){var ee=z.getWrapperElement(),oe=ee.lastChild,de=this.options.previewRender(L,oe);de!==null&&(oe.innerHTML=de)}return this},j.toggleBold=re,j.toggleItalic=ie,j.toggleStrikethrough=se,j.toggleBlockquote=be,j.toggleHeadingSmaller=ve,j.toggleHeadingBigger=Te,j.toggleHeading1=Ke,j.toggleHeading2=Le,j.toggleHeading3=Ge,j.toggleHeading4=it,j.toggleHeading5=rt,j.toggleHeading6=ce,j.toggleCodeBlock=ke,j.toggleUnorderedList=Ne,j.toggleOrderedList=Pe,j.cleanBlock=Qe,j.drawLink=mt,j.drawImage=zt,j.drawUploadedImage=ue,j.drawTable=Ee,j.drawHorizontalRule=bt,j.undo=ot,j.redo=Kt,j.togglePreview=Mt,j.toggleSideBySide=Qt,j.toggleFullScreen=K,j.prototype.toggleBold=function(){re(this)},j.prototype.toggleItalic=function(){ie(this)},j.prototype.toggleStrikethrough=function(){se(this)},j.prototype.toggleBlockquote=function(){be(this)},j.prototype.toggleHeadingSmaller=function(){ve(this)},j.prototype.toggleHeadingBigger=function(){Te(this)},j.prototype.toggleHeading1=function(){Ke(this)},j.prototype.toggleHeading2=function(){Le(this)},j.prototype.toggleHeading3=function(){Ge(this)},j.prototype.toggleHeading4=function(){it(this)},j.prototype.toggleHeading5=function(){rt(this)},j.prototype.toggleHeading6=function(){ce(this)},j.prototype.toggleCodeBlock=function(){ke(this)},j.prototype.toggleUnorderedList=function(){Ne(this)},j.prototype.toggleOrderedList=function(){Pe(this)},j.prototype.cleanBlock=function(){Qe(this)},j.prototype.drawLink=function(){mt(this)},j.prototype.drawImage=function(){zt(this)},j.prototype.drawUploadedImage=function(){ue(this)},j.prototype.drawTable=function(){Ee(this)},j.prototype.drawHorizontalRule=function(){bt(this)},j.prototype.undo=function(){ot(this)},j.prototype.redo=function(){Kt(this)},j.prototype.togglePreview=function(){Mt(this)},j.prototype.toggleSideBySide=function(){Qt(this)},j.prototype.toggleFullScreen=function(){K(this)},j.prototype.isPreviewActive=function(){var L=this.codemirror,z=L.getWrapperElement(),ee=z.lastChild;return ee.classList.contains("editor-preview-active")},j.prototype.isSideBySideActive=function(){var L=this.codemirror,z=L.getWrapperElement(),ee=z.nextSibling;return ee.classList.contains("editor-preview-active-side")},j.prototype.isFullscreenActive=function(){var L=this.codemirror;return L.getOption("fullScreen")},j.prototype.getState=function(){var L=this.codemirror;return te(L)},j.prototype.toTextArea=function(){var L=this.codemirror,z=L.getWrapperElement(),ee=z.parentNode;ee&&(this.gui.toolbar&&ee.removeChild(this.gui.toolbar),this.gui.statusbar&&ee.removeChild(this.gui.statusbar),this.gui.sideBySide&&ee.removeChild(this.gui.sideBySide)),ee.parentNode.insertBefore(z,ee),ee.remove(),L.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},Qf=j,Qf}var P3=O3();const Gv=q_(P3);window.Dropzone=Je;Pa.register(...u4,m3);window.Chart=Pa;window.EasyMDE=Gv;window.editors={};document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".easymde").forEach(function(l){const s=new Gv({element:l,minHeight:"200px",maxHeight:"200px",status:!1,spellChecker:!1,toggleFullscreen:!1,sideBySideFullscreen:!1});l.id&&(editors[l.id]=s)})});window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};
//# sourceMappingURL=app-BB6JL1-8.js.map
