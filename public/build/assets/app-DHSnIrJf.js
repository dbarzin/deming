var W_=Object.defineProperty;var j_=(l,s,a)=>s in l?W_(l,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[s]=a;var ae=(l,s,a)=>j_(l,typeof s!="symbol"?s+"":s,a);function U_(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function q_(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var s=l.default;if(typeof s=="function"){var a=function u(){return this instanceof u?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(l).forEach(function(u){var d=Object.getOwnPropertyDescriptor(l,u);Object.defineProperty(a,u,d.get?d:{enumerable:!0,get:function(){return l[u]}})}),a}var am={},rm;function Y_(){if(rm)return am;rm=1;/*!
	 ███╗   ███╗███████╗████████╗██████╗  ██████╗     ██╗   ██╗██╗
	 ████╗ ████║██╔════╝╚══██╔══╝██╔══██╗██╔═══██╗    ██║   ██║██║
	 ██╔████╔██║█████╗     ██║   ██████╔╝██║   ██║    ██║   ██║██║
	 ██║╚██╔╝██║██╔══╝     ██║   ██╔══██╗██║   ██║    ██║   ██║██║
	 ██║ ╚═╝ ██║███████╗   ██║   ██║  ██║╚██████╔╝    ╚██████╔╝██║
	 ╚═╝     ╚═╝╚══════╝   ╚═╝   ╚═╝  ╚═╝ ╚═════╝      ╚═════╝ ╚═╝                                                             

	 * Metro UI v5.1.7 Components Library  (https://metroui.org.ua)
	 * Build: 14.06.2025, 11:57:54
	 * Copyright 2012-2025 by Serhii Pimenov
	 * Licensed under MIT
	 */(()=>{var Kt,_i,xi;var l=Object.defineProperty,s=(t,r)=>{for(var f in r)l(t,f,{get:r[f],enumerable:!0})},a=t=>!isNaN(t),u="YYYY-MM-DDTHH:mm:ss.sss",d="Invalid date",m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,v=/(%[a-z])/gi,x="%Y-%m-%dT%H:%M:%S.%Q%t",k={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},D={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},E={ms:"ms",s:"second",m:"minute",h:"hour",D:"day",W:"week",M:"month",Y:"year"},L=(t="")=>{throw new Error("This argument is required!")},P=(t,r=!0)=>{try{return r?typeof t<"u":typeof t<"u"&&t!==null}catch{return!1}},H=t=>typeof t>"u"||t===null,U=function(t,r,f){let e=""+t;return f&&e.length>=f?e:Array(f+1-e.length).join(r)+e},Z={months:"Січень_Лютий_Березень_Квітень_Травень_Червень_Липень_Серпень_Вересень_Жовтень_Листопад_Грудень".split("_"),monthsParental:"Січня_Лютого_Березеня_Квітня_Травня_Червня_Липня_Серпня_Вересня_Жовтня_Листопада_Грудня".split("_"),monthsShort:"Січ_Лют_Бер_Кві_Тра_Чер_Лип_Сер_Вер_Жов_Лис_Гру".split("_"),weekdays:"Неділя_Понеділок_Вівторок_Середа_Четвер_П'ятниця_Субота".split("_"),weekdaysShort:"Нед_Пон_Вів_Сер_Чет_Птн_Суб".split("_"),weekdaysMin:"Нд_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),weekStart:1},ee={months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_Mär_Apr_Mai_Jun_Jul_Aug_Sep_Okt_Nov_Dez".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"Son_Mon_Die_Mit_Don_Fre_Sam".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekStart:1},K=(Kt=class{constructor(){let r=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(r))),this.locale="en",this.weekStart=Kt.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,!a(this.value.getTime()))throw new Error(d)}static isDatetime(r){return r instanceof Kt}static now(r=!1){return X()[r?"val":"time"]()}static parse(r=L()){return X(Date.parse(r))}static setLocale(r=L(),f=L()){Kt.locales[r]=f}static getLocale(r="en"){return P(Kt.locales[r],!1)?Kt.locales[r]:Kt.locales.en}static align(r,f){let e=X(r),i,o;switch(f){case E.s:i=e.ms(0);break;case E.m:i=Kt.align(e,E.s)[E.s](0);break;case E.h:i=Kt.align(e,E.m)[E.m](0);break;case E.D:i=Kt.align(e,E.h)[E.h](0);break;case E.M:i=Kt.align(e,E.D)[E.D](1);break;case E.Y:i=Kt.align(e,E.M)[E.M](0);break;case E.W:{o=e.weekDay(),i=Kt.align(r,E.D).addDay(-o);break}default:i=e}return i}static alignEnd(r,f){let e=X(r),i,o;switch(f){case E.ms:i=e.ms(999);break;case E.s:i=Kt.alignEnd(e,E.ms);break;case E.m:i=Kt.alignEnd(e,E.s)[E.s](59);break;case E.h:i=Kt.alignEnd(e,E.m)[E.m](59);break;case E.D:i=Kt.alignEnd(e,E.h)[E.h](23);break;case E.M:i=Kt.alignEnd(e,E.D)[E.D](1).add(1,E.M).add(-1,E.D);break;case E.Y:i=Kt.alignEnd(e,E.D)[E.M](11)[E.D](31);break;case E.W:{o=e.weekDay(),i=Kt.alignEnd(e,"day").addDay(6-o);break}default:i=r}return i}immutable(r){return this.mutable=!(H(r)||r),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(r,f){return this.locale=f||P(Kt.locales[r],!1)?r:"en",this.weekStart=Kt.getLocale(this.locale).weekStart,this}clone(){let r=X(this.value);return r.locale=this.locale,r.weekStart=this.weekStart,r.mutable=this.mutable,r}align(r){return this.mutable?(this.value=Kt.align(this,r).val(),this):this.clone().immutable(!1).align(r).immutable(!this.mutable)}alignEnd(r){return this.mutable?(this.value=Kt.alignEnd(this,r).val(),this):this.clone().immutable(!1).alignEnd(r).immutable(!this.mutable)}val(r){return typeof r>"u"||r===null?this.value:this.mutable?(this.value=typeof r=="string"?Date.parse(r):typeof r=="number"?new Date(r):r,this):X(r)}year2(){return+(""+this.year()).slice(-2)}_set(r,f){let e="set"+(this.utcMode&&r!=="t"?"UTC":"")+D[r];if(this.mutable)return this.value[e](f),this;let i=this.clone();return i.value[e](f),i}_get(r){let f="get"+(this.utcMode&&r!=="t"?"UTC":"")+D[r];return this.value[f]()}_work(r,f){return!arguments.length||typeof f>"u"||f===null?this._get(r):this._set(r,f)}ms(r){return this._work("ms",r)}second(r){return this._work("s",r)}minute(r){return this._work("m",r)}hour(r){return this._work("h",r)}day(r){return this._work("D",r)}month(r){return this._work("M",r)}year(r){return this._work("Y",r)}time(r){return this._work("t",r)}weekDay(r){if(!arguments.length||H(r))return this.utcMode?this.value.getUTCDay():this.value.getDay();let f=this.weekDay(),e=r-f;return this.day(this.day()+e),this}get(r){return typeof this[r]!="function"?this:this[r]()}set(r,f){return typeof this[r]!="function"?this:this[r](f)}add(r,f){switch(f){case E.h:return this.time(this.time()+r*60*60*1e3);case E.m:return this.time(this.time()+r*60*1e3);case E.s:return this.time(this.time()+r*1e3);case E.ms:return this.time(this.time()+r);case E.D:return this.day(this.day()+r);case E.W:return this.day(this.day()+r*7);case E.M:return this.month(this.month()+r);case E.Y:return this.year(this.year()+r)}}addHour(r){return this.add(r,E.h)}addMinute(r){return this.add(r,E.m)}addSecond(r){return this.add(r,E.s)}addMs(r){return this.add(r,E.ms)}addDay(r){return this.add(r,E.D)}addWeek(r){return this.add(r,E.W)}addMonth(r){return this.add(r,E.M)}addYear(r){return this.add(r,E.Y)}format(r,f){let e=r||u,i=Kt.getLocale(f||this.locale),o=this.year(),h=this.year2(),g=this.month(),_=this.day(),C=this.weekDay(),S=this.hour(),A=this.minute(),F=this.second(),N=this.ms(),q={YY:h,YYYY:o,M:g+1,MM:U(g+1,0,2),MMM:i.monthsShort[g],MMMM:i.months[g],D:_,DD:U(_,0,2),d:C,dd:i.weekdaysMin[C],ddd:i.weekdaysShort[C],dddd:i.weekdays[C],H:S,HH:U(S,0,2),m:A,mm:U(A,0,2),s:F,ss:U(F,0,2),sss:U(N,0,3)};return e.replace(m,(Y,te)=>te||q[Y])}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}},ae(Kt,"locales",{en:k,ua:Z,de:ee}),Kt),X=(...t)=>t&&t[0]instanceof K?t[0]:new K(...t),oe=K.prototype.format,ne={buddhist(){return this.year()+543},format(t,r){t=t||u;let f={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()},e=t.replace(/(\[[^\]]+])|B{4}|B{2}/g,(i,o)=>o||f[i]);return oe.bind(this)(e,r)}};Object.assign(K.prototype,ne);var se=(t,r)=>{let f=t instanceof K?t.clone().align("month"):X(t),e=r===0||r?r:t.weekStart,i=e?f.isoWeekDay():f.weekDay(),o=K.getLocale(f.locale),h=X(),g,_=(S,A)=>{if(A===0)return S;let F=S[0];return S.slice(1).concat([F])},C={month:o.months[f.month()],days:[],weekstart:r?1:0,weekdays:_(o.weekdaysMin,e),today:h.format("YYYY-MM-DD"),weekends:[],week:[]};for(f.addDay(e?-i+1:-i),g=0;g<42;g++)C.days.push(f.format("YYYY-MM-DD")),f.add(1,"day");for(C.weekends=C.days.filter(function(S,A){return e===0?[0,6,7,13,14,20,21,27,28,34,35,41].includes(A):[5,6,12,13,19,20,26,27,33,34,40,41].includes(A)}),f=h.clone(),i=e?f.isoWeekDay():f.weekDay(),f.addDay(e?-i+1:-i),g=0;g<7;g++)C.week.push(f.format("YYYY-MM-DD")),f.add(1,"day");return C};Object.assign(K.prototype,{calendar(t){return se(this,t)}});var we=K.prototype.format;Object.assign(K.prototype,{century(){return Math.ceil(this.year()/100)},format(t,r){t=t||u;let f={C:this.century()},e=t.replace(/(\[[^\]]+])|C/g,(i,o)=>o||f[i]);return we.bind(this)(e,r)}}),Object.assign(K.prototype,{same(t){return this.time()===X(t).time()},compare(t,r,f="="){let e=X(t),i=X(this.value),o,h;switch(f=f||"=",["<",">",">=","<=","=","!="].includes(f)===!1&&(f="="),r=(r||"ms").toLowerCase(),o=i.align(r).time(),h=e.align(r).time(),f){case"<":return o<h;case">":return o>h;case"<=":return o<=h;case">=":return o>=h;case"=":return o===h;case"!=":return o!==h}},between(t,r){return this.younger(t)&&this.older(r)},older(t,r){return this.compare(t,r,"<")},olderOrEqual(t,r){return this.compare(t,r,"<=")},younger(t,r){return this.compare(t,r,">")},youngerOrEqual(t,r){return this.compare(t,r,">=")},equal(t,r){return this.compare(t,r,"=")},notEqual(t,r){return this.compare(t,r,"!=")},diff(t){let r=X(t),f=Math.abs(this.time()-r.time()),e=Math.abs(this.month()-r.month()+12*(this.year()-r.year()));return{ms:f,second:Math.ceil(f/1e3),minute:Math.ceil(f/(1e3*60)),hour:Math.ceil(f/(1e3*60*60)),day:Math.ceil(f/(1e3*60*60*24)),month:e,year:Math.floor(e/12)}},distance(t,r){return this.diff(t)[r]}}),Object.assign(K.prototype,{isLeapYear(){let t=this.year();return t%4===0&&t%100!==0||t%400===0}}),Object.assign(K.prototype,{dayOfYear(){let t=[0,31,59,90,120,151,181,212,243,273,304,334],r=this.month(),f=this.day();return t[r]+f+(r>1&&this.isLeapYear()?1:0)}}),Object.assign(K.prototype,{daysInMonth(){return X(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear(){return this.isLeapYear()?366:365},daysInYearMap(){let t=[],r=X(this.value);r.month(0).day(1);for(let f=0;f<12;f++)r.add(1,"month").add(-1,"day"),t.push(r.day()),r.day(1).add(1,"month");return t},daysInYearObj(t,r){let f=this.daysInYearMap(),e={},i=K.getLocale(t||this.locale);return f.forEach((o,h)=>e[i[r?"monthsShort":"months"][h]]=o),e}}),Object.assign(K.prototype,{decade(){return Math.floor(this.year()/10)*10},decadeStart(){let t=this.decade();return(this.mutable?this:this.clone()).year(t).month(0).day(1)},decadeEnd(){let t=this.decade()+9;return(this.mutable?this:this.clone()).year(t).month(11).day(31)},decadeOfMonth(){let t=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,r=this.day();return r<=t?1:r<=t*2?2:3}}),Object.assign(K,{from(t,r,f){let e,i,o,h,g,_,C,S,A,F,N,q,Y,te,Ae,He,$e,Pe,Se,Le=function(Et,wt){return Et.map(function(Fi){return Fi.toLowerCase()}).indexOf(wt.toLowerCase())},Ie=function(Et){let wt=-1,Fi=K.getLocale(f||"en");return H(Et)?-1:(wt=Le(Fi.months,Et),wt===-1&&typeof Fi.monthsParental<"u"&&(wt=Le(Fi.monthsParental,Et)),wt===-1&&(Et=Et.substr(0,3),wt=Le(Fi.monthsShort,Et)),wt===-1?-1:wt+1)},Me=function(Et){let wt={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]},Fi=-1,mn,Di;for(let Bn=0;Bn<wt[Et].length;Bn++)if(mn=wt[Et][Bn],Di=o.indexOf(mn),Di!==-1){Fi=Di;break}return Fi};if(!r)return X();if(e=t.replace(/[\/,.:\s]/g,"-"),i=r.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),o=i.split("-"),h=e.split("-"),e.replace(/-/g,"").trim()==="")throw new Error(d);return g=Me("month"),_=Me("day"),C=Me("year"),S=Me("hour"),A=Me("minute"),F=Me("second"),N=Me("ms"),g>-1&&h[g]?isNaN(parseInt(h[g]))?(h[g]=Ie(h[g]),h[g]===-1&&(g=-1)):(Se=parseInt(h[g]),(Se<1||Se>12)&&(g=-1)):g=-1,q=C>-1&&h[C]?h[C]:0,Y=g>-1&&h[g]?h[g]:1,te=_>-1&&h[_]?h[_]:1,Ae=S>-1&&h[S]?h[S]:0,He=A>-1&&h[A]?h[A]:0,$e=F>-1&&h[F]?h[F]:0,Pe=N>-1&&h[N]?h[N]:0,X(q,Y-1,te,Ae,He,$e,Pe)}});var be=K.prototype.format;Object.assign(K.prototype,{ampm(t){let r=this.hour()<12?"AM":"PM";return t?r.toLowerCase():r},hour12:function(t,r){let f=t;return arguments.length===0?this.hour()%12:(r=r||"am",r.toLowerCase()==="pm"&&(f+=12),this.hour(f))},format:function(t,r){let f,e,i=this.hour12();return t=t||u,f={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:i,hh:U(i,0,2)},e=t.replace(/(\[[^\]]+])|a|A|h{1,2}/g,(o,h)=>h||f[o]),be.bind(this)(e,r)}});var ve=K.prototype.format,De=K.align,Ge=K.alignEnd;Object.assign(K,{align(t,r){let f=X(t),e,i;switch(r){case"isoWeek":i=f.isoWeekDay(),e=De(f,"day").addDay(-i+1);break;default:e=De.apply(void 0,[f,r])}return e},alignEnd(t,r){let f=X(t),e,i;switch(r){case"isoWeek":i=f.isoWeekDay(),e=Ge(f,"day").addDay(7-i);break;default:e=Ge.apply(void 0,[f,r])}return e}}),Object.assign(K.prototype,{isoWeekDay(t){let r=(this.weekDay()+6)%7+1;return!arguments.length||H(t)?r:this.addDay(t-r)},format(t,r){t=t||u;let f={I:this.isoWeekDay()},e=t.replace(/(\[[^\]]+])|I{1,2}/g,(i,o)=>o||f[i]);return ve.bind(this)(e,r)}}),Object.assign(K,{max(){return[].slice.call(arguments).map(t=>X(t)).sort((t,r)=>r.time()-t.time())[0]}}),Object.assign(K.prototype,{max(){return K.max.apply(this,[this].concat([].slice.call(arguments)))}}),Object.assign(K,{min(){return[].slice.call(arguments).map(t=>X(t)).sort((t,r)=>t.time()-r.time())[0]}}),Object.assign(K.prototype,{min(){return K.min.apply(this,[this].concat([].slice.call(arguments)))}});var Fe=K.align,Ue=K.alignEnd,nt=K.prototype.add;Object.assign(K,{align(t,r){let f=X(t),e;switch(r){case"quarter":e=K.align(f,"day").day(1).month(f.quarter()*3-3);break;default:e=Fe.apply(this,[f,r])}return e},alignEnd(t,r){let f=X(t),e;switch(r){case"quarter":e=K.align(f,"quarter").add(3,"month").add(-1,"ms");break;default:e=Ue.apply(this,[f,r])}return e}}),Object.assign(K.prototype,{quarter(){let t=this.month();return t<=2?1:t<=5?2:t<=8?3:4},add(t,r){return r==="quarter"?this.month(this.month()+t*3):nt.bind(this)(t,r)},addQuarter(t){return this.add(t,"quarter")}}),Object.assign(K,{sort(t,r){let f,e,i={};switch(typeof r=="string"||typeof r!="object"||H(r)?(i.format=u,i.dir=r&&r.toUpperCase()==="DESC"?"DESC":"ASC",i.returnAs="datetime"):(i.format=r.format||u,i.dir=(r.dir||"ASC").toUpperCase(),i.returnAs=r.format?"string":r.returnAs||"datetime"),e=t.map(o=>X(o)).sort((o,h)=>o.valueOf()-h.valueOf()),i.dir==="DESC"&&e.reverse(),i.returnAs){case"string":f=e.map(o=>o.format(i.format));break;case"date":f=e.map(o=>o.val());break;default:f=e}return f}});var ot=K.prototype.format;Object.assign(K.prototype,{utcOffset(){return this.value.getTimezoneOffset()},timezone(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format(t,r){t=t||u;let f={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()},e=t.replace(/(\[[^\]]+])|Z{1,3}|z/g,(i,o)=>o||f[i]);return ot.bind(this)(e,r)}});var ce=K.prototype.format;Object.assign(K.prototype,{weekNumber(t=0){let r,f,e,i,o,h;return e=X(this.year(),0,1),i=e.weekDay()-t,i=i>=0?i:i+7,o=Math.floor((this.time()-e.time()-(this.utcOffset()-e.utcOffset())*6e4)/864e5)+1,i<4?(h=Math.floor((o+i-1)/7)+1,h>52&&(r=X(this.year()+1,0,1),f=r.weekDay()-t,f=f>=0?f:f+7,h=f<4?1:53)):(h=Math.floor((o+i-1)/7),h===0&&(h=X(this.year()-1,11,31).weekNumber(t),t===1&&o<=7-i&&(h=1))),h},isoWeekNumber(){let t=new Date(this.time());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);let r=new Date(t.getFullYear(),0,4);return r.setDate(r.getDate()+3-(r.getDay()+6)%7),1+Math.round(((t.getTime()-r.getTime())/864e5-3+(r.getDay()+6)%7)/7)},weeksInYear(t=0){let r=X(this.value).month(11).day(31),f=r.weekNumber(t);return f===1&&r.weekDay()===t?r.add(-1,"day").weekNumber(t):f},format:function(t,r){let f,e,i=this.weekNumber(),o=this.isoWeekNumber();return t=t||u,f={W:i,WW:U(i,0,2),WWW:o,WWWW:U(o,0,2)},e=t.replace(/(\[[^\]]+])|W{1,4}/g,(h,g)=>g||f[h]),ce.bind(this)(e,r)}}),Object.assign(K.prototype,{strftime(t,r){let f=t||x,e=K.getLocale(r||this.locale),i=this.year(),o=this.year2(),h=this.month(),g=this.day(),_=this.weekDay(),C=this.hour(),S=this.hour12(),A=this.minute(),F=this.second(),N=this.ms(),q=this.time(),Y=U(g,0,2),te=U(h+1,0,2),Ae=U(C,0,2),He=U(S,0,2),$e=U(A,0,2),Pe=U(F,0,2),Se=U(N,0,3),Le=this,Ie=function(){return X(Le.value).day(Le.day()-(Le.weekDay()+6)%7+3)},Me={"%a":e.weekdaysShort[_],"%A":e.weekdays[_],"%b":e.monthsShort[h],"%h":e.monthsShort[h],"%B":e.months[h],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":Y,"%D":[Y,te,i].join("/"),"%e":g,"%F":[i,te,Y].join("-"),"%G":Ie().year(),"%g":(""+Ie().year()).slice(2),"%H":Ae,"%I":He,"%j":U(this.dayOfYear(),0,3),"%k":Ae,"%l":He,"%m":te,"%n":h+1,"%M":$e,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(q/1e3),"%S":Pe,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":_,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":o,"%Y":i,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[He,$e,Pe].join(":")+" "+this.ampm(),"%R":[Ae,$e].join(":"),"%T":[Ae,$e,Pe].join(":"),"%Q":Se,"%q":N,"%t":this.timezone()};return f.replace(v,Et=>Me[Et]===0||Me[Et]?Me[Et]:Et)}}),Object.assign(K,{isToday(t){let r=X(t).align("day"),f=X().align("day");return r.time()===f.time()}}),Object.assign(K.prototype,{isToday(){return K.isToday(this)},today(){let t=X();return this.mutable?this.val(t.val()):t}}),Object.assign(K,{isTomorrow(t){let r=X(t).align("day"),f=X().align("day").add(1,"day");return r.time()===f.time()}}),Object.assign(K.prototype,{isTomorrow(){return K.isTomorrow(this)},tomorrow(){return this.mutable?this.add(1,"day"):this.clone().immutable(!1).add(1,"day").immutable(!this.mutable)}}),Object.assign(K.prototype,{toDateString(){return this.value.toDateString()},toISOString(){return this.value.toISOString()},toJSON(){return this.value.toJSON()},toGMTString(){return this.value.toGMTString()},toLocaleDateString(){return this.value.toLocaleDateString()},toLocaleString(){return this.value.toLocaleString()},toLocaleTimeString(){return this.value.toLocaleTimeString()},toTimeString(){return this.value.toTimeString()},toUTCString(){return this.value.toUTCString()},toDate(){return new Date(this.value)}}),Object.assign(K,{timestamp(){return new Date().getTime()/1e3}}),Object.assign(K.prototype,{unix(t){let r;return!arguments.length||H(t)?Math.floor(this.valueOf()/1e3):(r=t*1e3,this.mutable?this.time(r):X(this.value).time(r))},timestamp(){return this.unix()}}),Object.assign(K,{isYesterday(t){let r=X(t).align("day"),f=X().align("day").add(-1,"day");return r.time()===f.time()}}),Object.assign(K.prototype,{isYesterday(){return K.isYesterday(this)},yesterday(){return this.mutable?this.add(-1,"day"):this.clone().immutable(!1).add(-1,"day").immutable(!this.mutable)}});var Be=t=>{let r,f=Math.floor(t/1e3),e=Math.floor(f/60),i=Math.floor(e/60),o=Math.floor(i/24),h=Math.floor(o/30),g=Math.floor(h/12);return g>=1&&(r=`${g} year`),h>=1&&g<1&&(r=`${h} mon`),o>=1&&o<=30&&(r=`${o} days`),i&&i<24&&(r=`${i} hour`),e&&e>=40&&e<60&&(r="less a hour"),e&&e<40&&(r=`${e} min`),f&&f>=30&&f<60&&(r=`${f} sec`),f<30&&(r="few sec"),r};Object.assign(K,{timeLapse(t){let r=X(t),f=X(),e=f-r;return Be(e)}}),Object.assign(K.prototype,{timeLapse(){let t=X()-+this;return Be(t)}});var Oe={parseTime(t){if(!isNaN(t))return Math.abs(+t);let r=/([0-9]+d)|([0-9]{1,2}h)|([0-9]{1,2}m)|([0-9]{1,2}s)/gm;return t.match(r).reduce((f,e)=>{let i;return e.includes("d")?i=1e3*60*60*24*parseInt(e):e.includes("h")?i=1e3*60*60*parseInt(e):e.includes("m")?i=1e3*60*parseInt(e):e.includes("s")&&(i=1e3*parseInt(e)),f+i},0)}};Object.assign(K,Oe),Object.assign(K.prototype,{moon(){let t=["new-moon","waxing-crescent","first-quarter","waxing-gibbous","full-moon","waning-gibbous","last-quarter","waning-crescent"];return(()=>{let r=this.year(),f=this.month(),e=this.day(),i,o,h,g=i=o=h=0;return f<3&&(r--,f+=12),++f,g=365.25*r,i=30.6*f,o=g+i+e-694039.09,o/=29.5305882,h=parseInt(o),o-=h,h=Math.round(o*8),h>=8&&(h=0),{phase:h,name:t[h]}})()}});var Je="3.2.5",mt="18.05.2025, 14:46:05",Ht=()=>{console.info(`%c Datetime %c v${Je} %c ${mt} `,"color: #ffffff; font-weight: bold; background: #003152","color: white; background: darkgreen","color: white; background: #0080fe;")};K.info=Ht,K.correctDate=t=>X(t).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),globalThis.Datetime=K,globalThis.datetime=X,(()=>{let t=["january","february","march","april","may","june","july","august","september","october","november","december"],r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],f=K.getLocale;K.getLocale=function(e="en"){let i=e;if(!Metro)return f.call(this,e);Metro.locales[i]||(i="en");let o=Metro.locales[i],h=t.map((A,F)=>o[A]),g=t.map((A,F)=>o[`${A}_short`]),_=r.map((A,F)=>o[A]),C=r.map((A,F)=>o[`${A}_short`]),S=r.map((A,F)=>o[`${A}_short_2`]);return{months:h,monthsShort:g,weekdays:_,weekdaysShort:C,weekdaysMin:S,weekStart:o.weekStart}}})();var Ji=Object.defineProperty,ue=(t,r)=>{for(var f in r)Ji(t,f,{get:r[f],enumerable:!0})},$={};ue($,{append:()=>pl,camelCase:()=>me,capitalize:()=>ke,chars:()=>R,count:()=>je,countChars:()=>et,countSubstr:()=>gt,countUniqueChars:()=>We,countUniqueWords:()=>Ct,countWords:()=>_t,dashedName:()=>j,decapitalize:()=>V,endsWith:()=>$n,escapeHtml:()=>jt,first:()=>za,includes:()=>cl,insert:()=>vo,isAlpha:()=>Rt,isAlphaDigit:()=>Ps,isBlank:()=>bo,isDigit:()=>$a,isEmpty:()=>ze,isLower:()=>vt,isString:()=>Co,isUpper:()=>yo,kebab:()=>he,last:()=>Ha,lower:()=>I,lpad:()=>oa,ltrim:()=>fs,matches:()=>fl,nvl:()=>vl,pad:()=>Os,prepend:()=>ml,prune:()=>Fs,repeat:()=>Is,reverse:()=>Q,rpad:()=>sc,rtrim:()=>Er,shorten:()=>oc,shuffle:()=>de,slice:()=>hn,snake:()=>xe,split:()=>dl,sprintf:()=>Bs,startsWith:()=>_o,strip:()=>Va,stripBoom:()=>gl,stripTags:()=>Mr,stripTagsAll:()=>Ar,substring:()=>Qn,swap:()=>le,title:()=>_e,trim:()=>at,truncate:()=>Mn,truncateWithAlign:()=>yn,unescapeHtml:()=>sa,unique:()=>aa,uniqueWords:()=>Tr,upper:()=>ge,vsprintf:()=>Vn,words:()=>Ce,wrap:()=>hl,wrapTag:()=>xo});var Te="\\d",yt="\\s\\uFEFF\\xA0",rt="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",Qt="\\u2000-\\u206F",ni="\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7",Vt="\\u2700-\\u27BF",Nt="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",kt="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",Lt=new RegExp("^["+yt+"]+"),si=new RegExp("["+yt+"]+$"),mi=new RegExp("^"+Te+"+$"),ut=/[<>&"'`]/g,qi=/(<([^>]+)>)/ig,Yi=new RegExp("(?:["+kt+"]["+rt+"]*)?(?:["+Nt+"]["+rt+"]*)+|(?:["+kt+"]["+rt+"]*)+(?!["+Nt+"])|["+Te+"]+|["+Vt+"]|[^"+ni+Qt+yt+"]+","g"),ai=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,An=new RegExp("^(?:["+Nt+kt+"]["+rt+"]*)+$"),st=new RegExp("^((?:["+Nt+kt+"]["+rt+"]*)|["+Te+"])+$"),ui=/^[\x01-\xFF]*$/,ct=(t,r="")=>!t&&typeof t!="number"&&typeof t!="boolean"?r:typeof t=="string"?t:Array.isArray(t)?t.join(""):JSON.stringify(t),hs=(t,r)=>typeof t>"u"||t===null?r:t,Ce=(t,r,f)=>{let e;return r?r instanceof RegExp?e=r:e=new RegExp(r,hs(f,"")):e=ui.test(t)?ai:Yi,hs(ct(t).match(e),[])},ke=(t,r=!1)=>{let f=ct(t),e=f.substring(1);return f.substring(0,1).toUpperCase()+(r?e.toLowerCase():e)},me=t=>Ce(ct(t)).map((r,f)=>f===0?r.toLowerCase():ke(r)).join(""),j=t=>Ce(ct(t)).map(r=>r.toLowerCase()).join("-"),V=t=>{let r=ct(t);return r.substring(0,1).toLowerCase()+r.substr(1)},he=(t,r="-")=>Ce(ct(t)).map(f=>f.toLowerCase()).join(r),I=t=>ct(t).toLowerCase(),R=(t,r=[])=>ct(t).split("").filter(f=>!r.includes(f)),Q=(t,r)=>R(ct(t),r).reverse().join(""),re=(t=[])=>{let r=[...t],f=r.length,e,i;for(;f!==0;)i=Math.floor(Math.random()*f),f-=1,e=r[f],r[f]=r[i],r[i]=e;return r},de=t=>re(ct(t).split("")).join(""),xe=t=>Ce(ct(t)).map(r=>r.toLowerCase()).join("_"),fe=(t,r)=>{let f=r.toLowerCase(),e=r.toUpperCase();return t+(r===f?e:f)},le=t=>ct(t).split("").reduce(fe,""),_e=(t,r,f="")=>{let e=ct(t),i=ui.test(e)?ai:Yi,o=Array.isArray(r)?r:typeof r!="string"?[]:r.split(f);return t.replace(i,(h,g)=>g&&o.includes(e[g-1])?I(h):ke(h))},ge=t=>ct(t).toUpperCase(),je=t=>ct(t).length,Qe=(t=[])=>{let r=[...t];for(let f=0;f<r.length;++f)for(let e=f+1;e<r.length;++e)r[f]===r[e]&&r.splice(e--,1);return r},et=(t,r)=>R(t,r).length,We=(t,r)=>Qe(R(t,r)).length,gt=(t,r="")=>{let f=ct(t),e=ct(r);return f===""||e===""?0:f.split(e).length-1},_t=(t,r,f)=>Ce(t,r,f).length,Ct=(t,r,f)=>Qe(Ce(t,r,f)).length,ft={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function Wt(t){return ft[t]}var jt=t=>ct(t).replace(ut,Wt),gi={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},Qi=Object.keys(gi);function Gi(t,r){return t.replace(gi[r],r)}var sa=t=>Qi.reduce(Gi,ct(t)),aa=(t,r)=>Qe(R(t,r)).join(""),Tr=(t,r,f)=>Qe(Ce(t,r,f)).join(""),Qn=(t,r,f)=>ct(t).substring(r,f),za=(t,r=0)=>Qn(ct(t),0,r),Ha=(t,r=0)=>{let f=ct(t);return f?Qn(f,f.length-r):""},ll="\uFEFF",vi=(t,r,f=9007199254740991)=>t<r?r:t>f?f:t,dn=t=>t===1/0?9007199254740991:t===-1/0?-9007199254740991:~~t,Mn=(t,r=0,f="...")=>{let e=ct(t),i=r?vi(dn(r),0,9007199254740991):e.length;return Qn(e,0,i)+(e.length===i?"":f)},yn=(t,r=0,f="...")=>{let e=Mn(t,r,"");return e.slice(t,e.lastIndexOf(" "))+f},hn=(t,r=1)=>{let f=ct(t),e=[],i=Math.round(f.length/r);for(let o=0;o<r;o++)e.push(Qn(f,o*i,i));return e},Fs=(t,r=0,f="")=>{let e=ct(t),i=r?vi(dn(r),0,9007199254740991):e.length,o=0,h=ui.test(e)?ai:Yi;return e.replace(h,(g,_)=>{let C=_+g.length;C<=i-f.length&&(o=C)}),e.substring(0,o)+f},Is=(t,r=0)=>{let f=ct(t),e=r?vi(dn(r),0,9007199254740991):f.length,i=f;if(r===0)return"";for(let o=0;o<e-1;o++)f+=i;return f},Ls=(t,r=0)=>{let f=t.length,e=r-f;return Is(t,e+1).substring(0,r)},ra=(t,r="",f=0,e=!1)=>{let i=ct(t),o=f?vi(dn(f),0,9007199254740991):i.length,h=r.length,g=o-i.length,_=g;if(g<=0||h===0)return i;let C=Ls(r,_);return e?C+i:i+C},oa=(t,r=" ",f=0)=>ra(t,r,f,!0),sc=(t,r=" ",f=0)=>ra(t,r,f,!1),Os=(t,r="",f=0)=>{let e=ct(t),i=f?vi(dn(f),0,9007199254740991):e.length,o=r.length,h=i-e.length,g=dn(h/2),_=h%2;return h<=0||o===0?e:Ls(r,g)+e+Ls(r,g+_)},vo=(t,r="",f=0)=>{let e=ct(t);return e.substring(0,f)+r+e.substring(f)},ac=Array.prototype.reduce,Ci=Array.prototype.reduceRight,at=(t,r)=>fs(Er(t,r),r),fs=(t,r)=>{let f=ct(t);if(!r)return f.replace(Lt,"");if(r===""||f==="")return f;typeof r!="string"&&(r="");let e=!0;return ac.call(f,(i,o)=>e&&r.includes(o)?i:(e=!1,i+o),"")},Er=(t,r)=>{let f=ct(t);if(!r)return f.replace(si,"");if(r===""||f==="")return f;typeof r!="string"&&(r="");let e=!0;return Ci.call(f,(i,o)=>e&&r.includes(o)?i:(e=!1,o+i),"")},$n=(t,r,f)=>ct(t).endsWith(r,f),Rt=t=>An.test(ct(t)),Ps=t=>st.test(ct(t)),$a=t=>mi.test(ct(t)),bo=(t,r=!0)=>r?ct(t).length===0:at(t).length===0,ze=t=>at(t).length===0,vt=t=>I(t)===t,yo=t=>ge(t)===t,_o=(t,r,f)=>ct(t).startsWith(r,f),Ar=t=>ct(t).replace(qi,""),Mr=(t,r=[])=>{let f=ct(t),e=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return f.replace(e,(i,o)=>r.includes(o)?i:"")},_n={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function xt(t,r){let f=1,e=t.length,i,o="",h,g,_,C,S,A;for(let F=0;F<e;F++)if(typeof t[F]=="string")o+=t[F];else if(typeof t[F]=="object"){if(h=t[F],h.keys){i=r[f];for(let N=0;N<h.keys.length;N++){if(typeof i>"u")throw new Error(Bs('[sprintf] Cannot access property "%s" of undefined value "%s"',h.keys[N],h.keys[N-1]));i=i[h.keys[N]]}}else h.param_no?i=r[h.param_no]:i=r[f++];if(_n.not_type.test(h.type)&&_n.not_primitive.test(h.type)&&i instanceof Function&&(i=i()),_n.numeric_arg.test(h.type)&&typeof i!="number"&&isNaN(i))throw new TypeError(Bs("[sprintf] expecting number but found %T"));switch(_n.number.test(h.type)&&(S=i>=0),h.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,h.width?parseInt(h.width):0);break;case"e":i=h.precision?parseFloat(i).toExponential(h.precision):parseFloat(i).toExponential();break;case"f":i=h.precision?parseFloat(i).toFixed(h.precision):parseFloat(i);break;case"g":i=h.precision?String(Number(i.toPrecision(h.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=h.precision?i.substring(0,h.precision):i;break;case"t":i=String(!!i),i=h.precision?i.substring(0,h.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=h.precision?i.substring(0,h.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=h.precision?i.substring(0,h.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase();break}_n.json.test(h.type)?o+=i:(_n.number.test(h.type)&&(!S||h.sign)?(A=S?"+":"-",i=i.toString().replace(_n.sign,"")):A="",_=h.pad_char?h.pad_char==="0"?"0":h.pad_char.charAt(1):" ",C=h.width-(A+i).length,g=h.width&&C>0?_.repeat(C):"",o+=h.align?A+i+g:_==="0"?A+g+i:g+A+i)}return o}var ul=Object.create(null);function rc(t){if(ul[t])return ul[t];let r=t,f,e=[],i=0;for(;r;){if((f=_n.text.exec(r))!==null)e.push(f[0]);else if((f=_n.modulo.exec(r))!==null)e.push("%");else if((f=_n.placeholder.exec(r))!==null){if(f[2]){i|=1;let o=[],h=f[2],g=[];if((g=_n.key.exec(h))!==null)for(o.push(g[1]);(h=h.substring(g[0].length))!=="";)if((g=_n.key_access.exec(h))!==null)o.push(g[1]);else if((g=_n.index_access.exec(h))!==null)o.push(g[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");f[2]=o}else i|=2;if(i===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");e.push({placeholder:f[0],param_no:f[1],keys:f[2],sign:f[3],pad_char:f[4],align:f[5],width:f[6],precision:f[7],type:f[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");r=r.substring(f[0].length)}return ul[t]=e}var Bs=t=>xt(rc(t),arguments),Vn=(t,r)=>Bs.apply(null,[t].concat(r||[])),cl=(t,r,f)=>ct(t).includes(r,f),dl=(t,r=void 0,f=void 0,e=!0)=>ct(t).split(r,f).map(i=>e?i.trim():i).filter(i=>e?!ze(i):!0),Va=(t,r=null,f="")=>{let e=ct(t),i;return r?(i=new RegExp(r,"g"),e.replace(i,f)):e},xo=(t,r="div",f={})=>{let e=ct(t),i=Object.keys(f).map(o=>`${o}="${f[o]}"`).join(" ");return i&&(i=" "+i),`<${r}${i}>${e}</${r}>`},hl=(t,r="",f="")=>r+ct(t)+f,Co=t=>typeof t=="string",fl=(t,r,f="")=>{let e=ct(t),i;if(!(r instanceof RegExp)){if(i=r?at(ct(r)):"",!i)return!1;r=new RegExp(i,f)}return r.test(e)},pl=(t,r="",f=1)=>ct(t)+Is(r,f),ml=(t,r="",f=1)=>Is(r,f)+ct(t),gl=t=>{let r=ct(t);return r===""?r:r[0]===ll?r.substring(1):r},oc=(t,r=5,f="...")=>t&&`${t.substring(0,r)}${f}${t.substring(t.length-r)}`,Ah=t=>typeof t>"u"||t===null,vl=(t,...r)=>{if(!Ah(t))return t;if(r.length===0)throw new Error("nvl: No default value provided");for(let f of r)if(typeof f<"u"&&f!==null)return f},On=class{constructor(t="",{mutable:r=!0}={}){this.value=t.toString(),this.mutable=r}[Symbol.toPrimitive](t){return t==="number"?+this.value:this.value}get[Symbol.toStringTag](){return"Str"}val(t){return typeof t>"u"||t===null?this.value:(this.value=t.toString(),this)}get length(){return this.value.length}immutable(t=!0){this.mutable=!t}toString(){return Array.isArray(this.value)?this.value.join(""):this.value}_result(t){return this.mutable?(this.value=t,this):lc(t)}camelCase(){return this._result(me(this.value))}capitalize(t){return this._result(ke(this.value,t))}chars(t){return this._result(R(this.value,t))}count(){return je(this.value)}countChars(t){return et(this.value,t)}countUniqueChars(t){return We(this.value,t)}countSubstr(t){return gt(this.value,t)}countWords(t,r){return et(this.value,t)}countUniqueWords(t,r){return We(this.value,t)}dashedName(){return this._result(j(this.value))}decapitalize(){return this._result(V(this.value))}endsWith(t,r){return $n(this.value,t,r)}escapeHtml(){return this._result(jt(this.value))}first(){return this._result(za(this.value))}includes(t,r){return cl(this.value,t,r)}insert(t,r){return this._result(vo(this.value,t,r))}isAlpha(){return Rt(this.value)}isAlphaDigit(){return Ps(this.value)}isBlank(t){return bo(this.value,t)}isDigit(){return $a(this.value)}isEmpty(){return ze(this.value)}isLower(){return vt(this.value)}static isString(t){return Co(t)}isUpper(){return yo(this.value)}kebab(t){return this._result(he(this.value,t))}last(t){return this._result(Ha(this.value,t))}lower(){return this._result(I(this.value))}matches(t,r){return fl(this.value,t,r)}pad(t,r){return this._result(Os(this.value,t,r))}lpad(t,r){return this._result(oa(this.value,t,r))}rpad(t,r){return this._result(sc(this.value,t,r))}prune(t,r){return this._result(Fs(this.value,t,r))}repeat(t){return this._result(Is(this.value,t))}append(t,r){return this._result(pl(this.value,t,r))}prepend(t,r){return this._result(ml(this.value,t,r))}reverse(t){return this._result(Q(this.value,t))}shuffle(){return this._result(de(this.value))}slice(t){return this._result(hn(this.value,t))}snake(){return this._result(xe(this.value))}split(t,r,f){return this._result(dl(this.value,t,r,f))}sprintf(...t){return this._result(Bs(this.value,...t))}vsprintf(...t){return this._result(Vn(this.value,...t))}startsWith(t,r){return _o(this.value,t,r)}stripBoom(){return this._result(gl(this.value))}stripTags(t){return this._result(Mr(this.value,t))}stripTagsAll(){return this._result(Ar(this.value))}strip(t,r){return this._result(Va(this.value,t,r))}substring(t,r){return this._result(Qn(this.value,t,r))}swap(){return this._result(le(this.value))}title(t,r){return this._result(_e(this.value,t,r))}trim(t){return this._result(at(this.value,t))}ltrim(t){return this._result(fs(this.value,t))}rtrim(t){return this._result(Er(this.value,t))}truncate(t,r){return this._result(Mn(this.value,t,r))}truncateWithAlign(t,r){return this._result(yn(this.value,t,r))}unescapeHtml(){return this._result(sa(this.value))}unique(t){return this._result(aa(this.value,t))}uniqueWords(t,r){return this._result(Tr(this.value,t,r))}upper(){return this._result(ge(this.value))}words(t,r){return Ce(this.value,t,r)}wrap(t,r){return this._result(hl(this.value,t,r))}wrapTag(t){return this._result(xo(this.value,t))}shorten(t,r){return this._result(oc(this.value,t,r))}nvl(...t){return this._result(vl(this.value,...t))}};Object.assign(On,$);var lc=(t,r=!0)=>new On(t,{mutable:r}),Mh="0.10.2",wo="18.05.2025, 14:39:06",Fr=()=>{console.info(`%c String %c v${Mh} %c ${wo} `,"color: #000000; font-weight: bold; background: #fff200","color: white; background: darkgreen","color: white; background: #0080fe;")};On.info=Fr,globalThis.Str=On,globalThis.str=lc;var Fh=["opacity","zIndex"];function Ih(){return null}function Lh(t){return typeof t=="string"||typeof t=="boolean"||typeof t=="number"}function Wa(t){let r=getComputedStyle(t),f=!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),e=r.visibility!=="hidden"&&r.display!=="none"&&r.opacity!=="0"&&t.style.display!=="none";return f&&e}function bl(t){let r=getComputedStyle(t);return!Wa(t)||+r.opacity==0||t.hidden||r.visibility==="hidden"}function pt(t){return t==null}function en(t){return t.replace(/-([a-z])/g,function(r,f){return f.toUpperCase()})}function uc(t){return t.replace(/([A-Z])/g,function(r){return"-"+r.toLowerCase()})}function Ns(t){let r;return!t||Object.prototype.toString.call(t)!=="[object Object]"?!1:(r=t.prototype!==void 0,r?r.constructor&&typeof r.constructor=="function":!0)}function es(t){for(let r in t)if($i(t,r))return!1;return!0}function ps(t){return t instanceof Object&&"length"in t}function ms(t,r){return r=r||" ",t.split(r).map(function(f){return(""+f).trim()}).filter(function(f){return f!==""})}function la(t,r){return r||(r=[0,""]),t=String(t),r[0]=parseFloat(t),r[1]=t.match(/[\d.\-+]*\s*(.*)/)[1]||"",r}function yl(t,r){let f=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn|fr|lh|cqw|cqh|cqi|cqb|cqmin|cqmax|q)?$/.exec(t);return typeof f[1]<"u"?f[1]:r}function Ir(t,r,f){r=en(r),["scrollLeft","scrollTop"].indexOf(r)>-1?t[r]=parseInt(f):t.style[r]=isNaN(f)||Fh.indexOf(""+r)>-1?f:parseInt(f)===0?0:f+"px"}function cc(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType}function ko(t){return typeof t!="string"?void 0:t.replace(/-/g,"").toLowerCase()}function $i(t,r){return Object.prototype.hasOwnProperty.call(t,r)}function dc(t){let r=t||globalThis.location.hostname;return r==="localhost"||r==="127.0.0.1"||r==="[::1]"||r===""||r.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)!==null}function Oh(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function _l(t){let r=t||globalThis.location.hostname;return/(^localhost)|(^127\.)|(^192\.168\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2\d\.)|(^172\.3[0-1]\.)|(^::1$)|(^[fF][cCdD])/.test(r)}function hc(t){try{return JSON.parse(t)}catch{return t}}var bi=Element.prototype.matches,W=(t,r)=>new W.init(t,r);W.version="1.5.1",W.build_time="18.05.2025, 14:45:23",W.info=()=>console.info(`%c Dom %c v${W.version} %c ${W.build_time} `,"color: white; font-weight: bold; background: #fd6a02","color: white; background: darkgreen","color: white; background: #0080fe;"),W.fn=W.prototype=Object.create(Array.prototype),W.prototype.constructor=W,W.prototype.uid="",W.extend=W.fn.extend=function(){let t,r,f=arguments[0]||{},e=1,i=arguments.length;for(typeof f!="object"&&typeof f!="function"&&(f={}),e===i&&(f=this,e--);e<i;e++)if((t=arguments[e])!=null)for(r in t)$i(t,r)&&(f[r]=t[r]);return f},W.assign=function(){let t,r,f=arguments[0]||{},e=1,i=arguments.length;for(typeof f!="object"&&typeof f!="function"&&(f={}),e===i&&(f=this,e--);e<i;e++)if((t=arguments[e])!=null)for(r in t)$i(t,r)&&t[r]!==void 0&&(f[r]=t[r]);return f},function(t){try{let g=new Blob([`
            var fakeIdToId = {};
            onmessage = function (event) {
                var data = event.data,
                    name = data.name,
                    fakeId = data.fakeId,
                    time;
                if(data.hasOwnProperty('time')) {
                    time = data.time;
                }
                switch (name) {
                    case 'setInterval':
                        fakeIdToId[fakeId] = setInterval(function () {
                            postMessage({fakeId: fakeId});
                        }, time);
                        break;
                    case 'clearInterval':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearInterval(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                    case 'setTimeout':
                        fakeIdToId[fakeId] = setTimeout(function () {
                            postMessage({fakeId: fakeId});
                            if (fakeIdToId.hasOwnProperty (fakeId)) {
                                delete fakeIdToId[fakeId];
                            }
                        }, time);
                        break;
                    case 'clearTimeout':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearTimeout(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                }
            }
        `]);t=window.URL.createObjectURL(g)}catch{}let r,f={},e=0,i=2147483647,o="";function h(){do e===i?e=0:e++;while(f.hasOwnProperty(e));return e}if(!(typeof Worker>"u"))try{r=new Worker(t),window.setInterval=function(g,_){let C=h();return f[C]={callback:g,parameters:Array.prototype.slice.call(arguments,2)},r.postMessage({name:"setInterval",fakeId:C,time:_}),C},window.clearInterval=function(g){f.hasOwnProperty(g)&&(delete f[g],r.postMessage({name:"clearInterval",fakeId:g}))},window.setTimeout=function(g,_){let C=h();return f[C]={callback:g,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},r.postMessage({name:"setTimeout",fakeId:C,time:_}),C},window.clearTimeout=function(g){f.hasOwnProperty(g)&&(delete f[g],r.postMessage({name:"clearTimeout",fakeId:g}))},window.setImmediate=function(g){return setTimeout(g,0)},window.clearImmediate=function(g){clearTimeout(g)},r.onmessage=function(g){let _=g.data,C=_.fakeId,S,A,F;if(f.hasOwnProperty(C)&&(S=f[C],F=S.callback,A=S.parameters,S.hasOwnProperty("isTimeout")&&S.isTimeout&&delete f[C]),typeof F=="string")try{F=new Function(F)}catch(N){console.error(o+"Error parsing callback code string: ",N)}typeof F=="function"&&F.apply(window,A)},r.onerror=function(g){console.error(g)}}catch{console.log("Can't create worker for Intervals, use standard functions.")}}(),W.fn.extend({_getDefaultElement(t){let r;return pt(t)?r=this[0]:t instanceof HTMLElement?r=t:t instanceof W&&t.length>0?r=t[0]:typeof t=="string"?r=W(t)[0]:r=void 0,r},index:function(t){let r,f=-1;return this.length===0||(r=this._getDefaultElement(t),!r)||r&&r.parentNode&&W.each(r.parentNode.children,function(e){this===r&&(f=e)}),f},indexOf:function(t){let r,f=-1;return this.length===0||(r=this._getDefaultElement(t),!r)||this.each(function(e){this===r&&(f=e)}),f},get:function(t){return t===void 0?this:t<0?this[t+this.length]:t>this.length-1?void 0:this[t]},eq:function(t){return pt(t)?this:this.length>0?W.extend(W(this.get(t)),{_prevObj:this}):this},is:function(t){let r=!1;return this.length===0?!1:t instanceof W?this.same(t):(t===":selected"?this.each(function(){this.selected&&(r=!0)}):t===":checked"?this.each(function(){this.checked&&(r=!0)}):t===":visible"?(r=!1,this.each(function(){Wa(this)&&(r=!0)})):t===":hidden"?this.each(function(){let f=getComputedStyle(this);(this.getAttribute("type")==="hidden"||this.hidden||f.display==="none"||f.visibility==="hidden"||parseInt(f.opacity)===0)&&(r=!0)}):typeof t=="string"&&[":selected"].indexOf(t)===-1?this.each(function(){bi.call(this,t)&&(r=!0)}):ps(t)?this.each(function(){let f=this;W.each(t,function(){f===this&&(r=!0)})}):typeof t=="object"&&t.nodeType===1&&this.each(function(){this===t&&(r=!0)}),r)},same:function(t){let r=!0;return t instanceof W||(t=W(t)),this.length!==t.length?!1:(this.each(function(){t.items().indexOf(this)===-1&&(r=!1)}),r)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){let t=this.filter(function(r,f){return(f+1)%2!==0});return W.extend(t,{_prevObj:this})},even:function(){let t=this.filter(function(r,f){return(f+1)%2===0});return W.extend(t,{_prevObj:this})},filter:function(t){if(typeof t=="string"){let r=t;t=function(f){return bi.call(f,r)}}return W.extend(W.merge(W(),[].filter.call(this,t)),{_prevObj:this})},find:function(t){let r=[],f;return t instanceof W?t:(this.length===0?f=this:(this.each(function(){let e=this;typeof e.querySelectorAll>"u"||(r=r.concat([].slice.call(e.querySelectorAll(t))))}),f=W.merge(W(),r)),W.extend(f,{_prevObj:this}))},contains:function(t){return this.find(t).length>0},children:function(t){let r,f=[];return t instanceof W?t:(this.each(function(){let e=this;for(r=0;r<e.children.length;r++)e.children[r].nodeType===1&&f.push(e.children[r])}),f=t?f.filter(function(e){return bi.call(e,t)}):f,W.extend(W.merge(W(),f),{_prevObj:this}))},parent:function(t){let r=[];if(this.length!==0)return t instanceof W?t:(this.each(function(){this.parentNode&&r.indexOf(this.parentNode)===-1&&r.push(this.parentNode)}),r=t?r.filter(function(f){return bi.call(f,t)}):r,r.length?W.extend(W.merge(W(),r),{_prevObj:this}):void 0)},parents:function(t){let r=[];if(this.length!==0)return t instanceof W?t:(this.each(function(){let f=this.parentNode;for(;f;)f.nodeType===1&&r.indexOf(f)===-1&&(pt(t)||bi.call(f,t))&&r.push(f),f=f.parentNode}),W.extend(W.merge(W(),r),{_prevObj:this}))},siblings:function(t){let r=[];if(this.length!==0)return t instanceof W?t:(this.each(function(){let f=this;f.parentNode&&W.each(f.parentNode.children,function(){f!==this&&r.push(this)})}),t&&(r=r.filter(function(f){return bi.call(f,t)})),W.extend(W.merge(W(),r),{_prevObj:this}))},_siblingAll:function(t,r){let f=[];if(this.length!==0)return r instanceof W?r:(this.each(function(){let e=this;for(;e&&(e=e[t],!!e);)f.push(e)}),r&&(f=f.filter(function(e){return bi.call(e,r)})),W.extend(W.merge(W(),f),{_prevObj:this}))},_sibling:function(t,r){let f=[];if(this.length!==0)return r instanceof W?r:(this.each(function(){let e=this[t];e&&e.nodeType===1&&f.push(e)}),r&&(f=f.filter(function(e){return bi.call(e,r)})),W.extend(W.merge(W(),f),{_prevObj:this}))},prev:function(t){return this._sibling("previousElementSibling",t)},next:function(t){return this._sibling("nextElementSibling",t)},prevAll:function(t){return this._siblingAll("previousElementSibling",t)},nextAll:function(t){return this._siblingAll("nextElementSibling",t)},closest:function(t){let r=[];if(this.length===0)return;if(!t)return this.parent();let f=this[0];for(;f;){if(bi.call(f,t)){r.push(f);break}f=f.parentElement}return W.extend(W.merge(W(),r.reverse()),{_prevObj:this})},has:function(t){let r=[];if(this.length!==0)return this.each(function(){W(this).children(t).length>0&&r.push(this)}),W.extend(W.merge(W(),r),{_prevObj:this})},back:function(t){let r;if(t===!0)for(r=this._prevObj;r&&r._prevObj;)r=r._prevObj;else r=this._prevObj?this._prevObj:this;return r}});function ts(t,r=document.body){let f=document.createElement("script");if(f.type="text/javascript",pt(t))return W(f);let e=W(t)[0];return e.src?f.src=e.src:f.textContent=e.innerText,e.type&&(f.type=e.type),e.async&&(f.async=e.async),r.appendChild(f),e.parentNode&&e.parentNode.removeChild(e),f}W.extend({script:function(t,r){if(!pt(t))if(t instanceof W&&(t=t[0]),t.tagName&&t.tagName==="SCRIPT")ts(t,r);else{let f=W(t).find("script");W.each(f,function(){ts(this,r)})}},loadScript:function(t,r=document.body,f){let e=document.createElement("script");e.type="text/javascript",e.src=t,e.onload=f,r.appendChild(e)}}),W.fn.extend({script:function(t){return this.each(function(){W.script(this,t)})}}),W.fn.extend({_prop:function(t,r){return arguments.length===1?this.length===0?void 0:this[0][t]:(pt(r)&&(r=""),this.each(function(){let f=this;f[t]=r,t==="innerHTML"&&W.script(f,f)}))},prop:function(t,r){return arguments.length===1?this._prop(t):this._prop(t,typeof r>"u"?"":r)},val:function(t){return pt(t)?this.length===0?void 0:this[0].value:this.each(function(){let r=W(this);typeof this.value<"u"?this.value=t:r.html(t)})},html:function(t){let r=this,f=[];return arguments.length===0?this._prop("innerHTML"):(t instanceof W?t.each(function(){f.push(W(this).outerHTML())}):f.push(t),r._prop("innerHTML",f.join(`
`)),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(t){return arguments.length===0?this._prop("textContent"):this._prop("textContent",typeof t>"u"?"":t)},innerText:function(t){return arguments.length===0?this._prop("innerText"):this._prop("innerText",typeof t>"u"?"":t)},empty:function(){return this.each(function(){typeof this.innerHTML<"u"&&(this.innerHTML=""),typeof this.value<"u"&&(this.value="")})},clear:function(){return this.empty()}}),W.each=function(t,r){let f=0;if(typeof t!="object"&&(t=[]),ps(t))[].forEach.call(t,function(e,i){r.apply(e,[i,e])});else for(let e in t)$i(t,e)&&r.apply(t[e],[e,t[e],f++]);return t},W.fn.extend({each:function(t){return W.each(this,t)}});var Rs=function(t){this.expando="DATASET:UID:"+t.toUpperCase(),Rs.uid++};Rs.uid=-1,Rs.prototype={cache:function(t){let r=t[this.expando];return r||(r={},cc(t)&&(t.nodeType?t[this.expando]=r:Object.defineProperty(t,this.expando,{value:r,configurable:!0}))),r},set:function(t,r,f){let e,i=this.cache(t);if(typeof r=="string")i[en(r)]=f;else for(e in r)$i(r,e)&&(i[en(e)]=r[e]);return i},get:function(t,r){let f=r===void 0?this.cache(t):t[this.expando]&&t[this.expando][en(r)];if(r)return f!==void 0?f:t.getAttribute&&t.getAttribute("data-"+uc(r))||void 0;f={...t[this.expando]};for(let e of t.attributes)if(e.name.startsWith("data-")){let i=e.name.slice(5);f[en(i)]=e.value}return es(f)?void 0:f},access:function(t,r,f){return r===void 0||r&&typeof r=="string"&&f===void 0?this.get(t,r):(this.set(t,r,f),f!==void 0?f:r)},remove:function(t,r){let f=t[this.expando];if(f!==void 0){if(r!==void 0){let e=Array.isArray(r)?r:[r];for(let i of e)delete f[en(i)],t.removeAttribute&&t.removeAttribute("data-"+i)}return(r===void 0||es(f))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando]),!0}},hasData:function(t){let r=t[this.expando];return r!==void 0&&!es(r)}};var is=new Rs("dom");W.extend({hasData:function(t){return is.hasData(t)},data:function(t,r,f){return is.access(t,r,f)},removeData:function(t,r){return is.remove(t,r)},dataSet:function(t){if(pt(t))return is;if(["INTERNAL","DOM"].indexOf(t.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new Rs(t)}}),W.fn.extend({data:function(t,r){let f,e,i;if(this.length!==0){if(e=this[0],arguments.length===0){if(e&&(i=is.get(e),e.nodeType===1)){for(let o of e.attributes)if(o.name.startsWith("data-")){let h=o.name.slice(5);i[en(h)]=o.value}}return i}return arguments.length===1&&(typeof t=="string"||Array.isArray(t))?(f=is.get(e,t),hc(f)):this.each(function(){is.set(this,t,r)})}},removeData:function(t){return typeof t>"u"?this:this.each(function(){let r=Array.isArray(t)?t:t.split(" ").map(f=>f.trim()).filter(f=>f!=="");for(let f of r)is.remove(this,f)})},origin:function(t,r,f){if(this.length===0)return this;if(pt(t)&&pt(r))return W.data(this[0]);if(pt(r)){let e=W.data(this[0],"origin-"+t);return pt(e)?f:e}return this.data("origin-"+t,r),this}}),W.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:dc(),isLocalhost:dc,touchable:Oh(),isPrivateAddress:_l,hashCode:function(t){let r=0,f,e;if(t.length===0)return r;for(f=0;f<t.length;f++)e=t.charCodeAt(f),r=(r<<5)-r+e,r|=0;return r},uniqueId:function(t="salt"){let r;return typeof t=="function"?r=t.name:typeof t=="string"&&t?r=t:typeof t=="string"&&t.length===0?r="salt":r=t.toString(),"dom-"+W.hashCode(r)},toArray:function(t){let r,f=[];for(r=0;r<t.length;r++)f.push(t[r]);return f},import:function(t){let r=[];return this.each(t,function(){r.push(this)}),this.merge(W(),r)},merge:function(t,r){let f=+r.length,e=0,i=t.length;for(;e<f;e++)t[i++]=r[e];return t.length=i,t},type:function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)]$/,"$1").toLowerCase()},isSelector:function(t){if(typeof t!="string"||t.length===0||t==="#"||t===".")return!1;try{return document.querySelector(t),!0}catch{return!1}},remove:function(t){return W(t).remove()},isPlainObject:Ns,isEmptyObject:es,isArrayLike:ps,acceptData:cc,not:pt,parseUnit:la,getUnit:yl,unit:la,isVisible:Wa,isHidden:bl,matches:function(t,r){return bi.call(t,r)},random:function(t,r){return arguments.length===1&&ps(t)?t[Math.floor(Math.random()*t.length)]:Math.floor(Math.random()*(r-t+1)+t)},hasProp:$i,dark:globalThis.matchMedia&&globalThis.matchMedia("(prefers-color-scheme: dark)").matches,serializeToArray:function(t){let r=W(t)[0];if(!r||r.nodeName!=="FORM"){console.warn("Element is not a HTMLFromElement");return}let f,e,i=[];for(f=r.elements.length-1;f>=0;f=f-1)if(r.elements[f].name!=="")switch(r.elements[f].nodeName){case"INPUT":switch(r.elements[f].type){case"checkbox":case"radio":r.elements[f].checked&&i.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].value));break;case"file":break;default:i.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].value))}break;case"TEXTAREA":i.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].value));break;case"SELECT":switch(r.elements[f].type){case"select-one":i.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].value));break;case"select-multiple":for(e=r.elements[f].options.length-1;e>=0;e=e-1)r.elements[f].options[e].selected&&i.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].options[e].value));break}break;case"BUTTON":switch(r.elements[f].type){case"reset":case"submit":case"button":i.push(r.elements[f].name+"="+encodeURIComponent(r.elements[f].value));break}break}return i},serialize:function(t){return W.serializeToArray(t).join("&")},viewport:function(){let t=window,r=document,f=r.documentElement,e=r.getElementsByTagName("body")[0],i=t.innerWidth||f.clientWidth||e.clientWidth,o=t.innerHeight||f.clientHeight||e.clientHeight;return{width:i,height:o}}}),W.fn.extend({items:function(){return W.toArray(this)}});var ja=Event.prototype.stopPropagation,Ph=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,ja.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,Ph.apply(this,arguments)},Event.prototype.stop=function(t){return t?this.stopImmediatePropagation():this.stopPropagation()},W.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(t){let r,f=-1,e,i;if(this.events.length>0){for(r=0;r<this.events.length;r++)if(this.events[r].handler===null){f=r;break}}return e={element:t.el,event:t.event,handler:t.handler,selector:t.selector,ns:t.ns,id:t.id,options:t.options},f===-1?(this.events.push(e),i=this.events.length-1):(this.events[f]=e,i=f),i},getEventHandler:function(t){if(this.events[t]!==void 0&&this.events[t]!==null)return this.events[t]=null,this.events[t].handler},off:function(){return W.each(this.events,function(){this.element.removeEventListener(this.event,this.handler,!0)}),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(t,r,f="before"){return W.each(ms(t),(e,i)=>{let o=en(`${f}-${i}`);this.eventHooks[o]=r}),this},removeEventHook:function(t,r="before"){return W.each(ms(t),(f,e)=>{delete this.eventHooks[en(`${r}-${e}`)]}),this},removeEventHooks:function(t){let r=this;return pt(t)?this.eventHooks={}:W.each(ms(t),function(){delete r.eventHooks[en("before-"+this)],delete r.eventHooks[en("after-"+this)]}),this}}),W.fn.extend({on:function(t,r,f,e){if(this.length!==0)return typeof r=="function"&&(e=f||{},f=r,r=void 0),typeof e!="object"&&(e={}),this.each(function(i,o){W.each(ms(t),(h,g)=>{let _,C=g.split("."),S=ko(C[0]),A=e.ns?e.ns:C[1],F,N;W.eventUID++,_=q=>{let Y=q.target,te=W.eventHooks[en("before-"+S)],Ae=W.eventHooks[en("after-"+S)];if(typeof te=="function"&&te.call(Y,q),!r)f.call(o,q);else for(;Y&&Y!==o;){if(bi.call(Y,r)&&(f.call(Y,q),q.isPropagationStopped)){q.stopImmediatePropagation();break}Y=Y.parentNode}typeof Ae=="function"&&Ae.call(Y,q),e.once&&(F=+W(o).origin("event-"+q.type+(r?":"+r:"")+(A?":"+A:"")),isNaN(F)||W.events.splice(F,1))},Object.defineProperty(_,"name",{value:f.name&&f.name!==""?f.name:"func_event_"+S+"_"+W.eventUID}),N=S+(r?":"+r:"")+(A?":"+A:""),o.addEventListener(S,_,es(e)?!1:e),F=W.setEventHandler({el:o,event:S,handler:_,selector:r,ns:A,id:W.eventUID,options:es(e)?!1:e}),W(o).origin("event-"+N,F)})})},one:function(t,r,f,e={}){return typeof r=="function"&&(e=f||{},f=r,r=void 0),e.once=!0,this.on.apply(this,[t,r,f,e])},off:function(t,r,f){return Ns(r)&&(f=r,r=null),Ns(f)||(f={}),pt(t)||t.toLowerCase()==="all"?this.each(function(){let e=this;W.each(W.events,function(){let i=this;i.element===e&&(e.removeEventListener(i.event,i.handler,i.options),i.handler=null,W(e).origin("event-"+name+(i.selector?":"+i.selector:"")+(i.ns?":"+i.ns:""),null))})}):this.each(function(){let e=this;W.each(ms(t),function(){let i=this.split("."),o=ko(i[0]),h=f.ns?f.ns:i[1],g,_;g="event-"+o+(r?":"+r:"")+(h?":"+h:""),_=W(e).origin(g),_!==void 0&&W.events[_].handler&&(e.removeEventListener(o,W.events[_].handler,W.events[_].options),W.events[_].handler=null),W(e).origin(g,null)})})},trigger:function(t,r){return this.fire(t,r)},fire:function(t,r){let f,e;if(this.length!==0)return f=ko(t),["focus","blur"].indexOf(f)>-1?(this[0][f](),this):(e=new CustomEvent(f,{bubbles:!0,cancelable:!0,detail:r}),this.each(function(){this.dispatchEvent(e)}))}}),"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach(function(t){W.fn[t]=function(r,f,e){return arguments.length>0?this.on(t,r,f,e):this.fire(t)}}),W.fn.extend({hover:function(t,r){return this.mouseenter(t).mouseleave(r||t)}}),W.ready=function(t,r){document.addEventListener("DOMContentLoaded",t,r||!1)},W.load=function(t){return W(window).on("load",t)},W.unload=function(t){return W(window).on("unload",t)},W.fn.extend({unload:function(t){return this.length===0||this[0].self!==window?void 0:W.unload(t)}}),W.beforeunload=function(t){return typeof t=="string"?W(window).on("beforeunload",function(r){return r.returnValue=t,t}):W(window).on("beforeunload",t)},W.fn.extend({beforeunload:function(t){return this.length===0||this[0].self!==window?void 0:W.beforeunload(t)}}),W.fn.extend({ready:function(t){if(this.length&&this[0]===document&&typeof t=="function")return W.ready(t)}}),W.ajax=function(t){return new Promise(function(r,f){let e=new XMLHttpRequest,i=(t.method||"GET").toUpperCase(),o=[],h=pt(t.async)?!0:t.async,g=t.url,_,C=function(F,N){typeof F=="function"&&F.apply(null,N)},S=function(F){return["GET","JSON"].indexOf(F)!==-1},A=function(F){let N=[];return W.each(F,function(q,Y){let te=Lh(Y)?Y:JSON.stringify(Y);N.push(q+"="+te)}),N.join("&")};if(t.data instanceof HTMLFormElement){let F=t.data.getAttribute("action").trim(),N=t.data.getAttribute("method").trim();pt(g)&&F&&(g=F),N&&(i=N.toUpperCase())}if(t.timeout&&(e.timeout=t.timeout),t.withCredentials&&(e.withCredentials=t.withCredentials),t.data instanceof HTMLFormElement)_=W.serialize(t.data);else if(t.data instanceof HTMLElement&&t.data.getAttribute("type")&&t.data.getAttribute("type").toLowerCase()==="file"){let F=t.data.getAttribute("name");_=new FormData;for(let N=0;N<t.data.files.length;N++)_.append(F,t.data.files[N])}else Ns(t.data)?_=A(t.data):t.data instanceof FormData||typeof t.data=="string"?_=t.data:(_=new FormData,_.append("_data",JSON.stringify(t.data)));S(i)&&(g+=typeof _=="string"?"?"+_:es(_)?"":"?"+JSON.stringify(_)),e.open(i,g,h,t.user,t.password),t.headers&&W.each(t.headers,function(F,N){e.setRequestHeader(F,N),o.push(F)}),S(i)||o.indexOf("Content-type")===-1&&t.contentType!==!1&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(_),e.addEventListener("load",function(F){if(e.readyState===4&&e.status<300){let N=t.returnValue&&t.returnValue==="xhr"?e:e.response;if(t.parseJson)try{N=JSON.parse(N)}catch{N={}}C(r,[N]),C(t.onSuccess,[F,e])}else C(f,[e]),C(t.onFail,[F,e]);C(t.onLoad,[F,e])}),W.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],function(){let F=en("on-"+(this==="readystatechange"?"state":this));e.addEventListener(F,function(N){C(t[F],[N,e])})})})},["GET","POST","PUT","PATCH","DELETE","JSON"].forEach(function(t){W[t.toLowerCase()]=function(r,f,e){let i={method:t==="JSON"?"GET":t,url:r,data:f,parseJson:t==="JSON"};return W.ajax(W.extend({},i,e))}}),W.fn.extend({load:function(t,r,f){let e=this;return this.length&&this[0].self===window?W.load(t):W.get(t,r,f).then(function(i){e.each(function(){this.innerHTML=i})})}}),W.fn.extend({style:function(t,r){let f;function e(i,o,h){return["scrollLeft","scrollTop"].includes(o)?W(i)[o]():getComputedStyle(i,h)[o]}if(!(typeof t=="string"&&this.length===0)){if(this.length===0)return this;if(f=this[0],!t||t==="all")return getComputedStyle(f,r);{let i={},o=t.split(", ").map(function(h){return(""+en(h)).trim()});return o.length===1?e(f,o[0],r):(W.each(o,function(){let h=this;i[this]=e(f,h,r)}),i)}}},removeStyleProperty:function(t){if(pt(t)||this.length===0)return this;let r=t.split(", ").map(function(f){return(""+f).trim()});return this.each(function(){let f=this;W.each(r,function(){f.style.removeProperty(this)})})},removeStyle:function(t){if(!t)return this;let r=ms(t,", ");return this.each(function(){let f=this;W.each(r,function(){f.style[this]=""})})},css:function(t,r){return t=t||"all",typeof t=="string"&&pt(r)?this.style(t):this.each(function(f,e){typeof t=="object"?W.each(t,function(i,o){Ir(e,i,o)}):typeof t=="string"&&Ir(e,t,r)})},cssVar:function(t,r){if(!pt(t))return pt(r)?getComputedStyle(this[0]).getPropertyValue("--"+t):this.each(function(){this.style.setProperty("--"+t,r)})}}),W.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(t){return this.hasClass(t)},hasClass:function(t){if(pt(t))return!1;let r=!1,f=t.split(" ").filter(e=>(""+e).trim()!=="");return this.each(function(){let e=this;W.each(f,function(){!r&&e.classList&&e.classList.contains(this)&&(r=!0)})}),r},clearClasses:function(){return this.each(function(){this.className=""})},cls:function(t=!1){return this.length===0?void 0:t?this[0].className.split(" "):this[0].className},removeClassBy:function(t){return this.each(function(){let r=W(this),f=r.cls(!0);W.each(f,function(){let e=this;e.indexOf(t)>-1&&r.removeClass(e)})})},classNames:function(){let t=Array.prototype.slice.call(arguments,0),r=[];return W.each(t,function(f,e){typeof e=="string"?r.push(e):Ns(e)?W.each(e,function(i,o){o&&r.push(i)}):Ih()}),this.each(function(){this.className+=" "+r.join(" ")})}}),["add","remove","toggle"].forEach(function(t){W.fn[t+"Class"]=function(r){let f=r?Array.isArray(r)?r:r.split(" ").filter(function(e){return!!e}):[];return f.length?this.each(function(){let e=this;typeof e.classList<"u"?W.each(f,function(i,o){e.classList[t](o)}):e.className+=f.join(" ")}):this}}),W.parseHTML=function(t){let r,f,e=[],i,o,h=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof t!="string"||t.trim()==="")return[];if(t=t.trim(),f=h.exec(t),f)e.push(document.createElement(f[1]));else{if(W.isSelector(t)){let g=document.querySelectorAll(t);if(g.length)for(let _ of g)e.push(_);return e.length===0&&e.push(document.createTextNode(t)),e}i=document.implementation.createHTMLDocument(""),r=i.createElement("base"),r.href=document.location.href,i.head.appendChild(r),o=i.body,o.innerHTML=t;for(let g=0;g<o.childNodes.length;g++)e.push(o.childNodes[g].cloneNode(!0))}return e},W.fn.extend({_size:function(t,r){if(this.length!==0){if(pt(r)){let f=this[0];if(t==="height")return f===window?window.innerHeight:f===document?f.body.clientHeight:parseInt(getComputedStyle(f).height);if(t==="width")return f===window?window.innerWidth:f===document?f.body.clientWidth:parseInt(getComputedStyle(f).width)}return this.each(function(){let f=this;f===window||f===document||(f.style[t]=isNaN(r)?r:+r==0?0:r+"px")})}},height:function(t){return this._size("height",t)},width:function(t){return this._size("width",t)},_sizeOut:function(t,r){let f,e,i,o;if(this.length===0)return;if(typeof r=="number")return this.each(function(){let g=this;if(g===window||g===document)return;let _,C=getComputedStyle(g),S=t==="width"?parseInt(C.borderLeftWidth)+parseInt(C.borderRightWidth):parseInt(C.borderTopWidth)+parseInt(C.borderBottomWidth),A=t==="width"?parseInt(C.paddingLeft)+parseInt(C.paddingRight):parseInt(C.paddingTop)+parseInt(C.paddingBottom);_=W(this)[t](r)[t]()-S-A,g.style[t]=_+"px"});let h=r===!0;return f=this[0],e=f[t==="width"?"offsetWidth":"offsetHeight"],i=getComputedStyle(f),o=e+parseInt(i[t==="width"?"marginLeft":"marginTop"])+parseInt(i[t==="width"?"marginRight":"marginBottom"]),h?o:e},outerWidth:function(t){return this._sizeOut("width",t)},outerHeight:function(t){return this._sizeOut("height",t)},padding:function(t){if(this.length===0)return;let r=getComputedStyle(this[0],t);return{top:parseInt(r.paddingTop),right:parseInt(r.paddingRight),bottom:parseInt(r.paddingBottom),left:parseInt(r.paddingLeft)}},margin:function(t){if(this.length===0)return;let r=getComputedStyle(this[0],t);return{top:parseInt(r.marginTop),right:parseInt(r.marginRight),bottom:parseInt(r.marginBottom),left:parseInt(r.marginLeft)}},border:function(t){if(this.length===0)return;let r=getComputedStyle(this[0],t);return{top:parseInt(r.borderTopWidth),right:parseInt(r.borderRightWidth),bottom:parseInt(r.borderBottomWidth),left:parseInt(r.borderLeftWidth)}}}),W.fn.extend({offset:function(t){if(t===void 0){if(this.length===0)return;let r=this[0].getBoundingClientRect();return{top:r.top+(window.scrollY||window.pageYOffset||document.documentElement.scrollTop||0),left:r.left+(window.scrollX||window.pageXOffset||document.documentElement.scrollLeft||0)}}return this.each(function(){let{top:r,left:f}=t,e=W(this),i=getComputedStyle(this).position,o=this.getBoundingClientRect(),h={top:o.top+(window.scrollY||window.pageYOffset||0),left:o.left+(window.scrollX||window.pageXOffset||0)};i==="static"&&e.css("position","relative"),["absolute","fixed"].indexOf(i)===-1&&(r=r-h.top,f=f-h.left),r&&e.css("top",r),f&&e.css("left",f)})},position:function(t=!1){let r=0,f=0,e,i;if(this.length!==0)return e=this[0],i=getComputedStyle(e),t&&(r=parseInt(i.marginLeft),f=parseInt(i.marginTop)),{left:e.offsetLeft-r,top:e.offsetTop-f}},left:function(t,r){if(this.length!==0)return pt(t)?this.position(r).left:typeof t=="boolean"?(r=t,this.position(r).left):this.each(function(){W(this).css({left:t})})},top:function(t,r=!1){if(this.length!==0)return pt(t)?this.position(r).top:typeof t=="boolean"?(r=t,this.position(r).top):this.each(function(){W(this).css({top:t})})},rect:function(){return this.length===0?void 0:this[0].getBoundingClientRect()},pos:function(){if(this.length===0)return;let t=W(this[0]);return{top:parseInt(t.style("top")),left:parseInt(t.style("left"))}}}),W.fn.extend({attr:function(t,r){let f={};if(!(this.length===0&&arguments.length===0))return this.length&&arguments.length===0?(W.each(this[0].attributes,function(){f[this.name]=this.value}),f):arguments.length===1&&typeof t=="string"?this.length&&this[0].nodeType===1&&this[0].hasAttribute(t)?this[0].getAttribute(t):void 0:this.each(function(){let e=this;Ns(t)?W.each(t,function(i,o){e.setAttribute(i,o)}):e.setAttribute(t,r)})},removeAttr:function(t){let r;return t?(r=typeof t=="string"?t.split(",").map(function(f){return f.trim()}):t,this.each(function(){let f=this;W.each(r,function(){f.hasAttribute(this)&&f.removeAttribute(this)})})):this.each(function(f,e){let i=W(e).attr();W.each(i,function(o){e.removeAttribute(o)})})},toggleAttr:function(t,r){return this.each(function(){let f=this;pt(r)?f.removeAttribute(t):f.setAttribute(t,r)})},id:function(t){return typeof t>"u"?this.length===1?W(this[0]).attr("id"):this.map(r=>W(r).attr("id")):this.each(function(){W(this).attr("id",t)})},title:function(t){return typeof t>"u"?this.length?W(this[0]).attr("title"):void 0:this.each(function(){W(this).attr("title",t)})},href:function(t){return typeof t>"u"?this.length&&this[0].tagName==="A"?this[0].href:void 0:this.each(function(){this.tagName==="A"&&(this.href=t)})},name:function(t){return typeof t>"u"?this.length&&this[0].name?this[0].name:void 0:this.each(function(){this.name&&(this.name=t)})},src:function(t){return typeof t>"u"?this.length&&this[0].src?this[0].src:void 0:this.each(function(){this.src&&(this.src=t)})}}),W.extend({meta:function(t){return pt(t)?W("meta"):W("meta[name='$name']".replace("$name",t))},metaBy:function(t){return pt(t)?W("meta"):W("meta[$name]".replace("$name",t))},doctype:function(){return W("doctype")},html:function(){return W("html")},head:function(){return W("html").find("head")},body:function(){return W("body")},document:function(){return W(document)},window:function(){return W(window)},charset:function(t){if(t){let r=W("meta[charset]");r.length>0&&r.attr("charset",t)}return document.characterSet},lang:function(t){if(t){let r=W("html");r.length>0&&r.attr("lang",t)}return document.documentElement.lang},title:function(t){if(typeof t>"u")return document.title;document.title=t}}),W.extend({bind:(t,r)=>t.bind(r)}),function(t){t.forEach(function(r){["append","prepend"].forEach(function(f){$i(r,f)||Object.defineProperty(r,f,{configurable:!0,enumerable:!0,writable:!0,value:function(){let e=Array.prototype.slice.call(arguments),i=document.createDocumentFragment();e.forEach(function(o){let h=o instanceof Node;i.appendChild(h?o:document.createTextNode(String(o)))}),f==="prepend"?this.insertBefore(i,this.firstChild):this.appendChild(i)}})})})}([Element.prototype,Document.prototype,DocumentFragment.prototype]);var gs=function(t){let r;return typeof t=="string"?r=W.isSelector(t)?W(t):W.parseHTML(t):t instanceof HTMLElement?r=[t]:ps(t)&&(r=t),r};W.fn.extend({appendText:function(t){return this.each(function(r,f){f.innerHTML+=t})},prependText:function(t){return this.each(function(r,f){f.innerHTML=t+f.innerHTML})},append:function(t){let r=gs(t);return this.each(function(f,e){W.each(r,function(){if(e===this)return;let i=f===0?this:this.cloneNode(!0);i.tagName&&i.tagName==="SCRIPT"?W.script(i,e):e.append(i)})})},appendTo:function(t){let r=gs(t);return this.each(function(f,e){W.each(r,function(i,o){e!==this&&o.append(i===0?e:e.cloneNode(!0))})})},prepend:function(t){let r=gs(t);return this.each(function(f,e){W.each(r,function(){if(e===this)return;let i=f===0?this:this.cloneNode(!0);W.script(i),i.tagName&&i.tagName!=="SCRIPT"&&e.prepend(i)})})},prependTo:function(t){let r=gs(t);return this.each(function(){let f=this;W.each(r,function(e,i){f!==this&&W(i).prepend(e===0?f:f.cloneNode(!0))})})},insertBefore:function(t){let r=gs(t);return this.each(function(){let f=this;W.each(r,function(e){if(f===this)return;let i=this.parentNode;i&&i.insertBefore(e===0?f:f.cloneNode(!0),this)})})},insertAfter:function(t){let r=gs(t);return this.each(function(){let f=this;W.each(r,function(e,i){if(f===this)return;let o=this.parentNode;o&&o.insertBefore(e===0?f:f.cloneNode(!0),i.nextSibling)})})},after:function(t){return this.each(function(){let r=this;typeof t=="string"?r.insertAdjacentHTML("afterend",t):W(t).insertAfter(r)})},before:function(t){return this.each(function(){let r=this;typeof t=="string"?r.insertAdjacentHTML("beforebegin",t):W(t).insertBefore(r)})},clone:function(t=!1,r=!1){let f=[];return this.each(function(){let e=this.cloneNode(t),i=W(e),o;r&&W.hasData(this)&&(o=W(this).data(),W.each(o,function(h,g){i.data(h,g)})),f.push(e)}),W.merge(W(),f)},import:function(t){let r=[];return pt(t)&&(t=!1),this.each(function(){r.push(document.importNode(this,t))}),W.merge(W(),r)},adopt:function(){let t=[];return this.each(function(){t.push(document.adoptNode(this))}),W.merge(W(),t)},remove:function(t){let r=0,f,e,i=[];if(this.length!==0){for(e=t?this.filter(function(o){return bi.call(o,t)}):this.items();(f=e[r])!=null;r++)f.parentNode&&(i.push(f.parentNode.removeChild(f)),W.removeData(f));return W.merge(W(),i)}},wrap:function(t){if(this.length===0)return;let r=W(gs(t));if(!r.length)return;let f=[];return this.each(function(){let e,i;for(i=r.clone(!0,!0),i.insertBefore(this),e=i;e.children().length;)e=e.children().eq(0);e.append(this),f.push(i)}),W(f)},wrapAll:function(t){let r,f,e;if(this.length!==0&&(r=W(gs(t)),!!r.length)){for(f=r.clone(!0,!0),f.insertBefore(this[0]),e=f;e.children().length;)e=e.children().eq(0);return this.each(function(){e.append(this)}),f}},wrapInner:function(t){if(this.length===0)return;let r=W(gs(t));if(!r.length)return;let f=[];return this.each(function(){let e=W(this),i=e.html(),o=r.clone(!0,!0);e.html(o.html(i)),f.push(o)}),W(f)}}),W.extend({animation:{duration:1e3,ease:"linear",elements:{}}}),typeof window.setupAnimation=="object"&&W.each(window.setupAnimation,function(t,r){typeof W.animation[t]<"u"&&!pt(r)&&(W.animation[t]=r)});var Bh=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],Nh=["opacity","zIndex"],fc=["opacity","volume"],pc=["scrollLeft","scrollTop"],Rh=["opacity","volume"];function mc(t){return t instanceof HTMLElement||t instanceof SVGElement}function zh(t,r){let f=/^(\*=|\+=|-=)/.exec(t);if(!f)return t;let e=yl(t)||0,i=parseFloat(r),o=parseFloat(t.replace(f[0],""));switch(f[0][0]){case"+":return i+o+e;case"-":return i-o+e;case"*":return i*o+e;case"/":return i/o+e}}function Hh(t,r,f){return typeof t[r]<"u"?pc.indexOf(r)>-1?r==="scrollLeft"?t===window?scrollX:t.scrollLeft:t===window?scrollY:t.scrollTop:t[r]||0:t.style[r]||getComputedStyle(t,f)[r]}function gc(t,r,f,e,i){pt(i)&&(i=!1),r=en(r),i&&(f=parseInt(f)),mc(t)?typeof t[r]<"u"?t[r]=f:t.style[r]=r==="transform"||r.toLowerCase().indexOf("color")>-1?f:f+e:t[r]=f}function $h(t,r,f){W.each(r,function(e,i){gc(t,e,i[0]+i[2]*f,i[3],i[4])})}function xl(t){if(!mc(t))return{};let r=t.style.transform||"",f=/(\w+)\(([^)]*)\)/g,e={},i;for(;i=f.exec(r);)e[i[1]]=i[2];return e}function Ua(t){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t||"#000000").slice(1).map(function(r){return parseInt(r,16)})}function qa(t,r){return getComputedStyle(t)[r].replace(/[^\d.,]/g,"").split(",").map(function(f){return parseInt(f)})}function Vh(t,r,f){let e=[],i=xl(t);W.each(r,function(o,h){let g=h[0],_=h[1],C=h[2],S=h[3];o=""+o,(o.indexOf("rotate")>-1||o.indexOf("skew")>-1)&&S===""&&(S="deg"),o.indexOf("scale")>-1&&(S=""),o.indexOf("translate")>-1&&S===""&&(S="px"),S==="turn"?e.push(o+"("+_*f+S+")"):e.push(o+"("+(g+C*f)+S+")")}),W.each(i,function(o,h){r[o]===void 0&&e.push(o+"("+h+")")}),t.style.transform=e.join(" ")}function Wh(t,r,f){W.each(r,function(e,i){let o,h=[0,0,0],g;for(o=0;o<3;o++)h[o]=Math.floor(i[0][o]+i[2][o]*f);g="rgb("+h.join(",")+")",t.style[e]=g})}function vc(t){let r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return t[0]==="#"&&t.length===4?"#"+t.replace(r,function(f,e,i,o){return e+e+i+i+o+o}):t[0]==="#"?t:"#"+t}function Ya(t,r,f){$h(t,r.props,f),Vh(t,r.transform,f),Wh(t,r.color,f)}function Pi(t,r,f){let e={props:{},transform:{},color:{}},i,o,h,g,_,C,S=xl(t);return pt(f)&&(f="normal"),W.each(r,function(A,F){let N=Bh.indexOf(""+A)>-1,q=Nh.indexOf(""+A)>-1,Y=(""+A).toLowerCase().indexOf("color")>-1;if(Array.isArray(F)&&F.length===1&&(F=F[0]),Array.isArray(F)?(o=Y?Ua(vc(F[0])):la(F[0]),h=Y?Ua(vc(F[1])):la(F[1])):(N?o=S[A]||A==="scale"?1:0:Y?o=qa(t,A):o=Hh(t,A,void 0),o=Y?o:la(o),h=Y?Ua(F):la(zh(F,Array.isArray(o)?o[0]:o))),Rh.indexOf(""+A)>-1&&o[0]===h[0]&&(o[0]=h[0]>0?0:1),f==="reverse"&&(C=o,o=h,h=C),_=t instanceof HTMLElement&&h[1]===""&&!q&&!N?"px":h[1],Y)for(g=[0,0,0],i=0;i<3;i++)g[i]=h[i]-o[i];else g=h[0]-o[0];N?e.transform[A]=[o[0],h[0],g,_]:Y?e.color[A]=[o,h,g,_]:e.props[A]=[o[0],h[0],g,_,fc.indexOf(""+A)===-1]}),e}function bc(t,r,f){return Math.min(Math.max(t,r),f)}var Wn={linear:function(){return function(t){return t}}};Wn.default=Wn.linear;var ua={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){let r,f=4;for(;t<((r=Math.pow(2,--f))-1)/11;);return 1/Math.pow(4,3-f)-7.5625*Math.pow((r*3-2)/22-t,2)}},Elastic:function(t,r){pt(t)&&(t=1),pt(r)&&(r=.5);let f=bc(t,1,10),e=bc(r,.1,2);return function(i){return i===0||i===1?i:-f*Math.pow(2,10*(i-1))*Math.sin((i-1-e/(Math.PI*2)*Math.asin(1/f))*(Math.PI*2)/e)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach(function(t,r){ua[t]=function(){return function(f){return Math.pow(f,r+2)}}}),Object.keys(ua).forEach(function(t){let r=ua[t];Wn["easeIn"+t]=r,Wn["easeOut"+t]=function(f,e){return function(i){return 1-r(f,e)(1-i)}},Wn["easeInOut"+t]=function(f,e){return function(i){return i<.5?r(f,e)(i*2)/2:1-r(f,e)(i*-2+2)/2}}});var jh={id:null,el:null,draw:{},dur:W.animation.duration,ease:W.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function So(t){return new Promise(function(r){let f=this,e=W.assign({},jh,{dur:W.animation.duration,ease:W.animation.ease},t),i=e.id,o=e.el,h=e.draw,g=e.dur,_=e.ease,C=e.loop,S=e.onStart,A=e.onFrame,F=e.onDone,N=e.pause,q=e.dir,Y=e.defer,te={},Ae="linear",He=[],$e=Wn.linear,Pe,Se=q==="alternate"?"normal":q,Le=!1,Ie=i||+(performance.now()*Math.pow(10,14));if(pt(o))throw new Error("Unknown element!");if(typeof o=="string"&&(o=document.querySelector(o)),typeof h!="function"&&typeof h!="object")throw new Error("Unknown draw object. Must be a function or object!");g===0&&(g=1),q==="alternate"&&typeof C=="number"&&(C*=2),typeof _=="string"?(Pe=/\(([^)]+)\)/.exec(_),Ae=_.split("(")[0],He=Pe?Pe[1].split(",").map(function(Fi){return parseFloat(Fi)}):[],$e=Wn[Ae]||Wn.linear):typeof _=="function"?$e=_:$e=Wn.linear,W.animation.elements[Ie]={element:o,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};let Me=function(){typeof h=="object"&&(te=Pi(o,h,Se)),typeof S=="function"&&S.apply(o),W.animation.elements[Ie].loop+=1,W.animation.elements[Ie].started=performance.now(),W.animation.elements[Ie].duration=g,W.animation.elements[Ie].id=requestAnimationFrame(wt)},Et=function(){cancelAnimationFrame(W.animation.elements[Ie].id),delete W.animation.elements[i],typeof F=="function"&&F.apply(o),r(f)},wt=function(Fi){let mn,Di,{stop:Bn,pause:us,started:ji}=W.animation.elements[Ie];if(W.animation.elements[Ie].paused&&(ji=Fi-W.animation.elements[Ie].t*g,W.animation.elements[Ie].started=ji),Di=((Fi-ji)/g).toFixed(4),Di>1&&(Di=1),Di<0&&(Di=0),mn=$e.apply(null,He)(Di),W.animation.elements[Ie].t=Di,W.animation.elements[Ie].p=mn,us){W.animation.elements[Ie].id=requestAnimationFrame(wt);return}if(Bn>0){Bn===2&&(typeof h=="function"?h.bind(o)(1,1):Ya(o,te,1)),Et();return}typeof h=="function"?h.bind(o)(Di,mn):Ya(o,te,mn),typeof A=="function"&&A.apply(o,[Di,mn]),Di<=1&&(W.animation.elements[Ie].id=requestAnimationFrame(wt)),Di>=1&&(C?(q==="alternate"&&(Se=Se==="normal"?"reverse":"normal"),typeof C=="boolean"?setTimeout(function(){Me()},N):C>W.animation.elements[Ie].loop?setTimeout(function(){Me()},N):Et()):q==="alternate"&&!Le?(Se=Se==="normal"?"reverse":"normal",Le=!0,Me()):Et())};Y>0?setTimeout(function(){Me()},Y):Me()})}function Ga(t,r){let f=W.animation.elements[t];typeof f>"u"||(pt(r)&&(r=!0),f.stop=r===!0?2:1,typeof f.onStop=="function"&&f.onStop.apply(f.element))}function Cl(t,r){W.each(W.animation.elements,function(f,e){r?typeof r=="string"?bi.call(e.element,r)&&Ga(f,t):r.length?W.each(r,function(){e.element===this&&Ga(f,t)}):r instanceof Element&&e.element===r&&Ga(f,t):Ga(f,t)})}function ca(t){let r=W.animation.elements[t];typeof r>"u"||(r.pause=1,r.paused=performance.now(),typeof r.onPause=="function"&&r.onPause.apply(r.element))}function Uh(t){W.each(W.animation.elements,function(r,f){t?typeof t=="string"?bi.call(f.element,t)&&ca(r):t.length?W.each(t,function(){f.element===this&&ca(r)}):t instanceof Element&&f.element===t&&ca(r):ca(r)})}function Xa(t){let r=W.animation.elements[t];typeof r>"u"||(r.pause=0,r.paused=0,typeof r.onResume=="function"&&r.onResume.apply(r.element))}function yc(t){W.each(W.animation.elements,function(r,f){t?typeof t=="string"?bi.call(f.element,t)&&Xa(r):t.length?W.each(t,function(){f.element===this&&Xa(r)}):t instanceof Element&&f.element===t&&Xa(r):Xa(r)})}var _c={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};function xc(t,r){let f=W.extend({},_c,r);if(typeof f.loop!="boolean"&&f.loop--,!Array.isArray(t))return console.warn("Chain array is not defined!"),!1;let e=function(i,o){return i.then(function(){return typeof f.onChainItem=="function"&&f.onChainItem(o),So(o).then(function(){typeof f.onChainItemComplete=="function"&&f.onChainItemComplete(o)})})};t.reduce(e,Promise.resolve()).then(function(){typeof f.onChainComplete=="function"&&f.onChainComplete(),f.loop&&xc(t,f)})}W.easing={},W.extend(W.easing,Wn),W.extend({animate:function(t){let r,f,e,i,o;return arguments.length>1?(r=W(arguments[0])[0],f=arguments[1],e=arguments[2]||W.animation.duration,i=arguments[3]||W.animation.ease,o=arguments[4],typeof e=="function"&&(o=e,i=W.animation.ease,e=W.animation.duration),typeof i=="function"&&(o=i,i=W.animation.ease),So({el:r,draw:f,dur:e,ease:i,onDone:o})):So(t)},chain:xc,stop:Ga,stopAll:Cl,resume:Xa,resumeAll:yc,pause:ca,pauseAll:Uh}),W.fn.extend({animate:function(t){let r=this,f,e,i,o,h=t,g;return g=!Array.isArray(t)&&(arguments.length>1||arguments.length===1&&typeof arguments[0].draw>"u"),g?(f=arguments[0],e=arguments[1]||W.animation.duration,i=arguments[2]||W.animation.ease,o=arguments[3],typeof e=="function"&&(o=e,e=W.animation.duration,i=W.animation.ease),typeof i=="function"&&(o=i,i=W.animation.ease),this.each(function(){return W.animate({el:this,draw:f,dur:e,ease:i,onDone:o})})):Array.isArray(t)?(W.each(t,function(){let _=this;r.each(function(){_.el=this,W.animate(_)})}),this):this.each(function(){h.el=this,W.animate(h)})},chain:function(t,r){return this.each(function(){let f=this;W.each(t,function(){this.el=f}),W.chain(t,r)})},stop:function(t){return this.each(function(){let r=this;W.each(W.animation.elements,function(f,e){e.element===r&&Ga(f,t)})})},pause:function(){return this.each(function(){let t=this;W.each(W.animation.elements,function(r,f){f.element===t&&ca(r)})})},resume:function(){return this.each(function(){let t=this;W.each(W.animation.elements,function(r,f){f.element===t&&Xa(r)})})}}),W.extend({hidden:function(t,r,f){return t=W(t)[0],typeof r>"u"?(t.hidden=!t.hidden,this):(typeof r=="string"&&(r=r.toLowerCase()==="true"),typeof r=="function"&&(f=r,r=!t.hidden),t.hidden=r,typeof f=="function"&&(W.bind(f,t),f.call(t,arguments)),this)},hide:function(t,r){let f=W(t);t=f[0];let e=t.style.display,i=getComputedStyle(t,null).display;return f.origin("display",{inline:e,css:i}),t.style.display="none",typeof r=="function"&&(W.bind(r,t),r.call(t,arguments)),this},show:function(t,r){let f=W(t).origin("display");if(t=W(t)[0],t.style.display="",f){let e=f.inline||"",i=f.css||"";e&&e!=="none"?t.style.display=e:i==="none"&&(t.style.display="block")}else t.style.display="block";return parseInt(t.style.opacity)===0&&(t.style.opacity="1"),typeof r=="function"&&(W.bind(r,t),r.call(t,arguments)),this},visible:function(t,r,f){return r===void 0&&(r=!0),t.style.visibility=r?"visible":"hidden",typeof f=="function"&&(W.bind(f,t),f.call(t,arguments)),this},toggle:function(t,r){let f=getComputedStyle(t,null).display!=="none"?"hide":"show";return W[f](t,r)}}),W.fn.extend({hide:function(){let t;return W.each(arguments,function(){typeof this=="function"&&(t=this)}),this.each(function(){W.hide(this,t)})},show:function(){let t;return W.each(arguments,function(){typeof this=="function"&&(t=this)}),this.each(function(){W.show(this,t)})},visible:function(t,r){return this.each(function(){W.visible(this,t,r)})},toggle:function(t){return this.each(function(){W.toggle(this,t)})},hidden:function(t,r){return this.each(function(){W.hidden(this,t,r)})}}),W.extend({fx:{off:!1}}),W.fn.extend({fadeIn:function(t,r,f){return this.each(function(){let e=this,i=W(e),o=!(!Wa(e)||Wa(e)&&+i.style("opacity")==0);if(pt(t)&&pt(r)&&pt(f)?(f=null,t=W.animation.duration):typeof t=="function"&&(f=t,t=W.animation.duration),typeof r=="function"&&(f=r,r=W.animation.ease),W.fx.off&&(t=0),o)return typeof f=="function"&&W.bind(f,this)(),this;let h=i.origin("display",void 0,"block");return e.style.opacity="0",e.style.display=h,W.animate({el:e,draw:{opacity:1},dur:t,ease:r,onDone:function(){typeof f=="function"&&W.bind(f,this)()}})})},fadeOut:function(t,r,f){return this.each(function(){let e=this,i=W(e);return pt(t)&&pt(r)&&pt(f)?(f=null,t=W.animation.duration):typeof t=="function"&&(f=t,t=W.animation.duration),typeof r=="function"&&(f=r,r=W.animation.ease),i.origin("display",i.style("display")),Wa(e)?W.animate({el:e,draw:{opacity:0},dur:t,ease:r,onDone:function(){this.style.display="none",typeof f=="function"&&W.bind(f,this)()}}):(typeof f=="function"&&W.bind(f,this)(),this)})},slideUp:function(t,r,f){return this.each(function(){let e=this,i=W(e),o;if(i.height()!==0)return pt(t)&&pt(r)&&pt(f)?(f=null,t=W.animation.duration):typeof t=="function"&&(f=t,t=W.animation.duration),typeof r=="function"&&(f=r,r=W.animation.ease),o=i.height(),i.origin("height",o),i.origin("display",W(e).style("display")),i.css({overflow:"hidden"}),W.animate({el:e,draw:{height:0},dur:t,ease:r,onDone:function(){i.hide().removeStyleProperty("overflow, height"),typeof f=="function"&&W.bind(f,this)()}})})},slideDown:function(t,r,f){return this.each(function(){let e=this,i=W(e),o,h;return pt(t)&&pt(r)&&pt(f)?(f=null,t=W.animation.duration):typeof t=="function"&&(f=t,t=W.animation.duration),typeof r=="function"&&(f=r,r=W.animation.ease),i.show().visible(!1),o=+i.origin("height",void 0,i.height()),parseInt(o)===0&&(o=e.scrollHeight),h=i.origin("display",i.style("display"),"block"),i.height(0).visible(!0),i.css({overflow:"hidden",display:h==="none"?"block":h}),W.animate({el:e,draw:{height:o},dur:t,ease:r,onDone:function(){W(e).removeStyleProperty("overflow, height, visibility"),typeof f=="function"&&W.bind(f,this)()}})})},moveTo:function(t,r,f,e,i){let o={top:r,left:t};return typeof f=="function"&&(i=f,f=W.animation.duration,e=W.animation.ease),typeof e=="function"&&(i=e,e=W.animation.ease),this.each(function(){W.animate({el:this,draw:o,dur:f,ease:e,onDone:i})})},centerTo:function(t,r,f,e,i){return typeof f=="function"&&(i=f,f=W.animation.duration,e=W.animation.ease),typeof e=="function"&&(i=e,e=W.animation.ease),this.each(function(){let o={left:t-this.clientWidth/2,top:r-this.clientHeight/2};W.animate({el:this,draw:o,dur:f,ease:e,onDone:i})})},colorTo:function(t,r,f,e){let i={color:t};return typeof r=="function"&&(e=r,r=W.animation.duration,f=W.animation.ease),typeof f=="function"&&(e=f,f=W.animation.ease),this.each(function(){W.animate({el:this,draw:i,dur:r,ease:f,onDone:e})})},backgroundTo:function(t,r,f,e){let i={backgroundColor:t};return typeof r=="function"&&(e=r,r=W.animation.duration,f=W.animation.ease),typeof f=="function"&&(e=f,f=W.animation.ease),this.each(function(){W.animate({el:this,draw:i,dur:r,ease:f,onDone:e})})},zoomIn:function(t,r,f){let e={scale:[0,1]};return typeof t=="function"&&(f=t,t=W.animation.duration,r=W.animation.ease),typeof r=="function"&&(f=r,r=W.animation.ease),this.each(function(){W.animate({el:this,draw:e,dur:t,ease:r,onDone:f})})},zoomOut:function(t=1e3,r="linear",f=()=>{}){return typeof t=="function"&&(f=t,t=W.animation.duration,r=W.animation.ease),typeof r=="function"&&(f=r,r=W.animation.ease),this.each(function(){W.animate({el:this,draw:{scale:0},dur:t,ease:r,onDone:f})})}}),W.extend({scrollTop:function(t){if(pt(t))return window.scrollY;window.scrollTo(window.scrollX,t)},scrollLeft:function(t){if(pt(t))return window.scrollX;window.scrollTo(t,window.scrollY)},scrollTo:function(t,r){window.scrollTo(t,r)},scrollToElement:function(t){W(t).scrollTo()}}),W.fn.extend({scrollTop:function(t){return pt(t)?this.length===0?void 0:this[0]===window?scrollY:this[0].scrollTop:this.each(function(){if(this===window){window.scrollTo(window.scrollX,t);return}this.scrollTop=t})},scrollLeft:function(t){return pt(t)?this.length===0?void 0:this[0]===window?scrollX:this[0].scrollLeft:this.each(function(){if(this===window){window.scrollTo(t,window.scrollY);return}this.scrollLeft=t})},scrollTo:function(t=!1){if(this.length===0)return this;let r=this[0].getBoundingClientRect(),f=r.left+(t?0:window.scrollX),e=r.top+(t?0:window.scrollY);return window.scrollTo(f,e),this}}),W.init=function(t,r){let f,e=this;if(typeof t=="string"&&(t=t.trim()),this.uid=W.uniqueId(),!t)return this;if(typeof t=="function")return W.ready(t);if(t instanceof Element)return this.push(t),this;if(t instanceof W)return W.each(t,function(){e.push(this)}),this;if(t==="window"||t===window)return this.push(window),this;if(t==="document"||t===document)return this.push(document),this;if(t==="body"||t===document.body)return this.push(document.body),this;if(t==="html"||t===document.documentElement)return this.push(document.documentElement),this;if(t==="doctype"||t===document.doctype)return this.push(document.doctype),this;if(t&&t.nodeType)return this.push(t),this;if(ps(t))return W.each(t,function(){W(this).each(function(){e.push(this)})}),this;if(typeof t!="string"&&t.self&&t.self!==window)return this;if(t==="#"||t===".")return this;if(t[0]==="@")W("[data-role]").each(function(){ms(W(this).attr("data-role"),",").indexOf(t.slice(1))>-1&&e.push(this)});else{f=W.parseHTML(t);for(let i=0;i<f.length;i++)f[i].nodeType===1&&this.push(f[i])}return r!==void 0&&(r instanceof W?this.each(function(){W(r).append(e)}):r instanceof HTMLElement?W(r).append(e):Ns(r)&&W.each(this,function(){for(let i in r)$i(r,i)&&this.setAttribute(i,r[i])})),this},W.init.prototype=W.fn,globalThis.$=W,globalThis.Dom=W;var Ka={};s(Ka,{EVENTS:()=>zs,info:()=>Tl,useClickOutside:()=>vs,useCompose:()=>Do,useCookie:()=>wl,useCurry:()=>Cc,useDebounce:()=>ns,useEvent:()=>kl,useId:()=>kc,useInterval:()=>Dl,useMediaQuery:()=>Za,useMemo:()=>ss,usePipe:()=>Sc,useQueue:()=>Dc,useState:()=>Tc,useThrottle:()=>Ec,useToggle:()=>Lr});function vs(t,r){if(!t)return{attach:()=>{},detach:()=>{}};let f=e=>{t.contains(e.target)||r()};return{attach:()=>document.addEventListener("click",f),detach:()=>document.removeEventListener("click",f)}}function Do(...t){if(!t.every(r=>typeof r=="function"))throw new Error("useCompose: All arguments should be functions");switch(t.length){case 0:return r=>r;case 1:return t[0];case 2:{let[r,f]=t;return(...e)=>r(f(...e))}default:return function(...r){let f=t[t.length-1](...r);for(let e=t.length-2;e>=0;e--)f=t[e](f);return f}}}function wl(t){function r(){let i=document.cookie.match(new RegExp(`(?:^|; )${t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")}=([^;]*)`));return i?decodeURIComponent(i[1]):null}function f(i,o={}){o={path:"/",...o},document.cookie=`${t}=${encodeURIComponent(i)}; ${Object.keys(o).map(h=>`${h}=${o[h]}`).join("; ")}`}function e(){f("",{"max-age":-1})}return{get:r,set:f,delete:e}}function Cc(t){if(typeof t!="function")throw new Error("useCurry: первый аргумент должен быть функцией");return function r(...f){return f.length>=t.length?t.apply(this,f):function(...e){return r.apply(this,f.concat(e))}}}function ns(t,r,f={}){if(typeof t!="function")throw new Error("useDebounce: первый аргумент должен быть функцией");if(r<0)throw new Error("useDebounce: время ожидания должно быть положительным числом");let e=null,i;function o(...h){let g=this,_=f.immediate&&!e;return e!==null&&clearTimeout(e),e=setTimeout(()=>{e=null,f.immediate||(i=t.apply(g,h))},r),_&&(i=t.apply(g,h)),i}return o.cancel=function(){e!==null&&(clearTimeout(e),e=null)},o}var zs=(t=>(t.LOAD="load",t.VIEWPORT="viewport",t.ATTRIBUTE="attribute",t.CHILDREN="children",t.DATA="data",t))(zs||{}),kl=({event:t,root:r,target:f,effect:e})=>{let i=typeof f=="string"?document.querySelector(f):f;if(typeof e!="function")throw Error("Side effect must be a function!");if(!i)throw Error("Please specify a target element!");switch(t){case"load":{new MutationObserver((o,h)=>{let g=document.querySelector(f);g!==null&&(e(g),h.disconnect())}).observe(document.body,{childList:!0,subtree:!0});break}case"viewport":{let o={root:r instanceof HTMLElement?r:typeof r=="string"?document.querySelector(r):null,rootMargin:"0px",threshold:.5};new IntersectionObserver((h,g)=>{for(let _ of h)_.isIntersecting&&e(i)},o).observe(i);break}case"attribute":{new MutationObserver(o=>{for(let h of o)h.target===i&&h.type==="attributes"&&e(i,h.attributeName,i.getAttribute(h.attributeName))}).observe(i,{attributes:!0});break}case"children":{new MutationObserver(o=>{for(let h of o)h.target===i&&h.type==="childList"&&e(i,h.addedNodes,h.removedNodes)}).observe(i,{childList:!0,subtree:!0});break}case"data":{new MutationObserver(o=>{for(let h of o)h.target===i&&h.type==="characterData"&&e(i,i.textContent)}).observe(i,{characterData:!0});break}default:i instanceof HTMLElement&&i.addEventListener(t,o=>{e(i,o)})}},Sl=new Map,wc=0;function qh(t){return t.replace(/[^a-zA-Z0-9_-]/g,"_")}function kc(t,r={}){let f=t??Symbol("id-key"),{divider:e="-",prefix:i="id",forceNew:o=!1}=r;if(!o&&Sl.has(f))return Sl.get(f);let h=typeof document<"u",g=1e3,_=0,C=()=>{let A;return t instanceof HTMLElement?A=t.tagName.toLowerCase():typeof t=="object"&&t!==null?A="object":t!==void 0?A=qh(String(t)):A="generic",`${i}${e}${A}${e}${wc++}`},S=C();if(h)for(;document.getElementById(S);){if(_++>g)throw new Error("useId: не удалось сгенерировать уникальный ID после многочисленных попыток");S=C()}return Sl.set(f,S),S}function Dl(t,r){let f=null;function e(){f||(f=window.setInterval(()=>t(),r))}function i(){f&&(window.clearInterval(f),f=null)}return{start:e,stop:i}}function Za(t){let r=window.matchMedia(t);function f(){return r.matches}let e=f();function i(){e=f()}return r.addEventListener("change",i),e}var ss=(t,r={})=>{let f=new Map,{maxSize:e}=r,i=(...o)=>{let h=JSON.stringify(o);if(f.has(h))return f.get(h);let g=t(...o);if(e&&f.size>=e){let _=f.keys().next().value;typeof _=="string"&&f.delete(_)}return f.set(h,g),g};return i.clearCache=()=>(f.clear(),!0),i};function Sc(...t){if(!t.every(r=>typeof r=="function"))throw new Error("usePipe: все аргументы должны быть функциями");switch(t.length){case 0:return r=>r;case 1:return t[0];case 2:{let[r,f]=t;return(...e)=>f(r(...e))}default:return function(...r){let f=t[0](...r);for(let e=1;e<t.length;e++)f=t[e](f);return f}}}function Dc(){let t=[];return{enqueue:r=>(t.push(r),t.length),dequeue:()=>t.shift(),peek:()=>t[0]||null,size:()=>t.length,isEmpty:()=>t.length===0,clear:()=>{t.length=0}}}var da=[],Yh=-1,Gh=class{constructor(t){this.index=t}valueOf(){return da[this.index].value}toString(){let t=da[this.index].value;return String(t)}[Symbol.toPrimitive](t){let r=da[this.index].value;return t==="number"&&typeof r=="number"?r:t==="string"?String(r):r}},Tc=(t,r)=>{let f=Yh++;return da[f]||(da[f]={value:t}),[new Gh(f),e=>{let i=da[f].value,o=typeof e=="function"?e(i):e;da[f].value=o,typeof r=="function"&&r(o,i)}]};function Ec(t,r,f={}){if(typeof t!="function")throw new Error("useThrottle: первый аргумент должен быть функцией");if(r<0)throw new Error("useThrottle: время ожидания должно быть положительным числом");let e=null,i=null,o=null,h,g=null,{leading:_=!0,trailing:C=!0}=f;function S(){h=t.apply(o,i),i=o=null,g=Date.now()}function A(...F){let N=Date.now();!g&&!_&&(g=N);let q=r-(N-g);return i=F,o=this,q<=0||q>r?(e&&(clearTimeout(e),e=null),S()):!e&&C&&(e=setTimeout(()=>{e=null,C&&i&&S()},q)),h}return A.cancel=function(){e&&(clearTimeout(e),e=null),i=o=null,g=null},A}function Lr(t=!1){let r=t;return{get:()=>r,toggle:()=>(r=!r,r),set:f=>(r=f,r)}}var Ac="0.13.0",Mc="07.03.2025, 23:32:05",Tl=()=>{console.info(`%c Hooks %c v${Ac} %c ${Mc} `,"color: #ffffff; font-weight: bold; background: #5c2c05","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Hooks=Ka;var To=Object.defineProperty,Fc=(t,r)=>{for(var f in r)To(t,f,{get:r[f],enumerable:!0})},Or={};Fc(Or,{Primitives:()=>Ic,add:()=>Ai,brighten:()=>Xi,cmyk2rgb:()=>Nr,cmyk2websafe:()=>Fl,colorDefaultProps:()=>bs,colorToString:()=>Mo,colorType:()=>qn,colorTypes:()=>Xt,create:()=>fa,createColor:()=>Vs,createColorScheme:()=>ar,darken:()=>Us,desaturate:()=>pn,equal:()=>Ao,expand:()=>Ws,expandHexColor:()=>Bi,grayscale:()=>js,hex2hsv:()=>Zh,hex2rgb:()=>_s,hex2websafe:()=>Rr,hsl2hsv:()=>va,hsl2websafe:()=>nr,hsv2hex:()=>Kh,hsv2hsl:()=>ir,hsv2rgb:()=>Yn,hsv2websafe:()=>Ml,hueShift:()=>Oc,isCMYK:()=>ys,isColor:()=>wn,isDark:()=>as,isHEX:()=>Br,isHSL:()=>ma,isHSLA:()=>Un,isHSV:()=>pa,isLight:()=>Pr,isPrimitive:()=>Bc,isRGB:()=>tr,isRGBA:()=>rs,lighten:()=>_a,mix:()=>sn,multiply:()=>Il,parse:()=>Fo,parseColor:()=>kn,random:()=>Jh,randomColor:()=>Ll,rgb2cmyk:()=>Al,rgb2hex:()=>ga,rgb2hsv:()=>Pn,rgb2websafe:()=>Gn,rgba2websafe:()=>Lc,saturate:()=>sr,shade:()=>Pc,spin:()=>Ei,test:()=>Eo,toCMYK:()=>zr,toColor:()=>tn,toHEX:()=>nn,toHSL:()=>Cs,toHSLA:()=>ya,toHSV:()=>ba,toRGB:()=>ri,toRGBA:()=>Fn,websafe:()=>xs});var Ut=class{constructor(t=0,r=0,f=0){this.h=t,this.s=r,this.v=f}toString(){return"hsv("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.v*100)+"%"].join(",")+")"}},Ja=class{constructor(t=0,r=0,f=0){this.h=t,this.s=(""+r).includes("%")?parseInt(r)/100:r,this.l=(""+f).includes("%")?parseInt(f)/100:f}toString(){return"hsl("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%"].join(",")+")"}},ha=class{constructor(t=0,r=0,f=0,e=0){this.h=t,this.s=(""+r).includes("%")?parseInt(r)/100:r,this.l=(""+f).includes("%")?parseInt(f)/100:f,this.a=e}toString(){return"hsla("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%",parseFloat(this.a).toFixed(2)].join(",")+")"}},fn=class{constructor(t=0,r=0,f=0){this.r=t,this.g=r,this.b=f}toString(){return`rgb(${this.r},${this.g},${this.b})`}},Hs=class{constructor(t=0,r=0,f=0,e=0){this.r=t,this.g=r,this.b=f,this.a=e}toString(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}},Qa=class{constructor(t=0,r=0,f=0,e=0){this.c=t,this.m=r,this.y=f,this.k=e}toString(){return`cmyk(${this.c},${this.m},${this.y},${this.k})`}},$s={aliceBlue:"#f0f8ff",antiqueWhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedAlmond:"#ffebcd",blue:"#0000ff",blueViolet:"#8a2be2",brown:"#a52a2a",burlyWood:"#deb887",cadetBlue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerBlue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkBlue:"#00008b",darkCyan:"#008b8b",darkGoldenRod:"#b8860b",darkGray:"#a9a9a9",darkGreen:"#006400",darkKhaki:"#bdb76b",darkMagenta:"#8b008b",darkOliveGreen:"#556b2f",darkOrange:"#ff8c00",darkOrchid:"#9932cc",darkRed:"#8b0000",darkSalmon:"#e9967a",darkSeaGreen:"#8fbc8f",darkSlateBlue:"#483d8b",darkSlateGray:"#2f4f4f",darkTurquoise:"#00ced1",darkViolet:"#9400d3",deepPink:"#ff1493",deepSkyBlue:"#00bfff",dimGray:"#696969",dodgerBlue:"#1e90ff",fireBrick:"#b22222",floralWhite:"#fffaf0",forestGreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostWhite:"#F8F8FF",gold:"#ffd700",goldenRod:"#daa520",gray:"#808080",green:"#008000",greenYellow:"#adff2f",honeyDew:"#f0fff0",hotPink:"#ff69b4",indianRed:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderBlush:"#fff0f5",lawnGreen:"#7cfc00",lemonChiffon:"#fffacd",lightBlue:"#add8e6",lightCoral:"#f08080",lightCyan:"#e0ffff",lightGoldenRodYellow:"#fafad2",lightGray:"#d3d3d3",lightGreen:"#90ee90",lightPink:"#ffb6c1",lightSalmon:"#ffa07a",lightSeaGreen:"#20b2aa",lightSkyBlue:"#87cefa",lightSlateGray:"#778899",lightSteelBlue:"#b0c4de",lightYellow:"#ffffe0",lime:"#00ff00",limeGreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumAquaMarine:"#66cdaa",mediumBlue:"#0000cd",mediumOrchid:"#ba55d3",mediumPurple:"#9370db",mediumSeaGreen:"#3cb371",mediumSlateBlue:"#7b68ee",mediumSpringGreen:"#00fa9a",mediumTurquoise:"#48d1cc",mediumVioletRed:"#c71585",midnightBlue:"#191970",mintCream:"#f5fffa",mistyRose:"#ffe4e1",moccasin:"#ffe4b5",navajoWhite:"#ffdead",navy:"#000080",oldLace:"#fdd5e6",olive:"#808000",oliveDrab:"#6b8e23",orange:"#ffa500",orangeRed:"#ff4500",orchid:"#da70d6",paleGoldenRod:"#eee8aa",paleGreen:"#98fb98",paleTurquoise:"#afeeee",paleVioletRed:"#db7093",papayaWhip:"#ffefd5",peachPuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderBlue:"#b0e0e6",purple:"#800080",rebeccaPurple:"#663399",red:"#ff0000",rosyBrown:"#bc8f8f",royalBlue:"#4169e1",saddleBrown:"#8b4513",salmon:"#fa8072",sandyBrown:"#f4a460",seaGreen:"#2e8b57",seaShell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyBlue:"#87ceeb",slateBlue:"#6a5acd",slateGray:"#708090",snow:"#fffafa",springGreen:"#00ff7f",steelBlue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whiteSmoke:"#f5f5f5",yellow:"#ffff00",yellowGreen:"#9acd32"},El={lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},Xh={color:function(t,r=$s,f=void 0){return r[t]!==void 0?r[t]:f},palette:function(t=$s){return Object.keys(t)},colors:function(t=$s){return Object.values(t)}},Ic={HSV:Ut,HSL:Ja,HSLA:ha,RGB:fn,RGBA:Hs,CMYK:Qa},Xt={HEX:"hex",RGB:"rgb",RGBA:"rgba",HSV:"hsv",HSL:"hsl",HSLA:"hsla",CMYK:"cmyk",UNKNOWN:"unknown"},bs={angle:30,algorithm:1,step:.1,distance:5,tint1:.8,tint2:.4,shade1:.6,shade2:.3,alpha:1,baseLight:"#ffffff",baseDark:"self"};function er(t,r){let f;switch(r){case"hex":f=t.map(function(e){return nn(e)});break;case"rgb":f=t.map(function(e){return ri(e)});break;case"rgba":f=t.map(function(e){return Fn(e,opt.alpha)});break;case"hsl":f=t.map(function(e){return Cs(e)});break;case"hsla":f=t.map(function(e){return ya(e,opt.alpha)});break;case"cmyk":f=t.map(function(e){return zr(e)});break;default:f=t}return f}function jn(t,r,f){return Math.max(r,Math.min(t,f))}function xn(t,r,f){return t<r?r:t>f?f:t}function Cn(t,r){for(t+=r;t>=360;)t-=360;for(;t<0;)t+=360;return t}var Eo=t=>{let r=_=>/^#([A-Fa-f0-9]{3}){1,2}$/.test(_),f=_=>/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_),e=_=>/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(_),i=_=>/^hsv\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_),o=_=>/^hsl\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_),h=_=>/^hsla\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(_),g=_=>/^cmyk\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_);return r(t)||f(t)||i(t)||h(t)||h(t)||e(t)||o(t)||g(t)},Vs=(t="hex",r="#000000")=>{let f;return typeof r=="string"&&(f=kn(r)),wn(f)||(f="#000000"),tn(f,t.toLowerCase())},fa=Vs,Bi=function(t){if(wn(t)&&typeof t!="string")return t;if(typeof t!="string")throw new Error("Value is not a string!");if(t[0]==="#"&&t.length===4){let r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return"#"+t.replace(r,(f,e,i,o)=>e+e+i+i+o+o)}return t[0]==="#"?t:"#"+t},Ws=Bi,as=t=>{if(t=kn(t),!wn(t))return;let r=ri(t);return(r.r*299+r.g*587+r.b*114)/1e3<128},Pr=t=>!as(t),pa=t=>kn(t)instanceof Ut,ma=t=>kn(t)instanceof Ja,Un=t=>kn(t)instanceof ha,tr=t=>kn(t)instanceof fn,rs=t=>kn(t)instanceof Hs,ys=t=>kn(t)instanceof Qa,Br=t=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t),wn=t=>t?typeof t=="string"?Eo(t):Br(t)||tr(t)||rs(t)||pa(t)||ma(t)||Un(t)||ys(t):!1,qn=t=>Br(t)?Xt.HEX:tr(t)?Xt.RGB:rs(t)?Xt.RGBA:pa(t)?Xt.HSV:ma(t)?Xt.HSL:Un(t)?Xt.HSLA:ys(t)?Xt.CMYK:Xt.UNKNOWN,Ao=(t,r)=>!wn(t)||!wn(r)?!1:nn(t)===nn(r),Mo=t=>t.toString(),_s=t=>{let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Bi(t)),f=[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)];return r?new fn(...f):null},ga=t=>"#"+((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).slice(1),Pn=t=>{let r=new Ut,f,e,i,o=t.r/255,h=t.g/255,g=t.b/255,_=Math.max(o,h,g),C=Math.min(o,h,g),S=_-C;return i=_,_===0?e=0:e=1-C/_,_===C?f=0:_===o&&h>=g?f=60*((h-g)/S):_===o&&h<g?f=60*((h-g)/S)+360:_===h?f=60*((g-o)/S)+120:_===g?f=60*((o-h)/S)+240:f=0,r.h=f,r.s=e,r.v=i,r},Yn=t=>{let r,f,e,i=t.h,o=t.s*100,h=t.v*100,g=Math.floor(i/60),_=(100-o)*h/100,C=(h-_)*(i%60/60),S=_+C,A=h-C;switch(g){case 0:r=h,f=S,e=_;break;case 1:r=A,f=h,e=_;break;case 2:r=_,f=h,e=S;break;case 3:r=_,f=A,e=h;break;case 4:r=S,f=_,e=h;break;case 5:r=h,f=_,e=A;break}return new fn(Math.round(r*255/100),Math.round(f*255/100),Math.round(e*255/100))},Kh=t=>ga(Yn(t)),Zh=t=>Pn(_s(t)),Al=t=>{let r=new Qa,f=t.r/255,e=t.g/255,i=t.b/255;return r.k=Math.min(1-f,1-e,1-i),r.c=1-r.k===0?0:(1-f-r.k)/(1-r.k),r.m=1-r.k===0?0:(1-e-r.k)/(1-r.k),r.y=1-r.k===0?0:(1-i-r.k)/(1-r.k),r.c=Math.round(r.c*100),r.m=Math.round(r.m*100),r.y=Math.round(r.y*100),r.k=Math.round(r.k*100),r},Nr=t=>{let r=Math.floor(255*(1-t.c/100)*(1-t.k/100)),f=Math.ceil(255*(1-t.m/100)*(1-t.k/100)),e=Math.ceil(255*(1-t.y/100)*(1-t.k/100));return new fn(r,f,e)},ir=t=>{let r,f,e,i;return r=parseInt(t.h),e=(2-t.s)*t.v,f=t.s*t.v,e===0?f=0:(i=e<=1?e:2-e,i===0?f=0:f/=i),e/=2,Number.isNaN(f)&&(f=0),Number.isNaN(e)&&(e=0),new Ja(r,f,e)},va=t=>{let r,f,e,i;return r=t.h,i=t.l*2,f=t.s*(i<=1?i:2-i),e=(i+f)/2,i+f===0?f=0:f=2*f/(i+f),new Ut(r,f,e)},Gn=t=>new fn(Math.round(t.r/51)*51,Math.round(t.g/51)*51,Math.round(t.b/51)*51),Lc=t=>{let r=Gn(t);return new Hs(r.r,r.g,r.b,t.a)},Rr=t=>ga(Gn(_s(t))),Ml=t=>Pn(Gn(ri(t))),nr=t=>ir(Pn(Gn(ri(t)))),Fl=t=>Al(Gn(Nr(t))),xs=t=>Br(t)?Rr(t):tr(t)?Gn(t):rs(t)?Lc(t):pa(t)?Ml(t):ma(t)?nr(t):ys(t)?Fl(t):t,tn=(t,r="rgb",f=1)=>{let e;switch(r.toLowerCase()){case"hex":e=nn(t);break;case"rgb":e=ri(t);break;case"rgba":e=Fn(t,f);break;case"hsl":e=Cs(t);break;case"hsla":e=ya(t,f);break;case"hsv":e=ba(t);break;case"cmyk":e=zr(t);break;default:e=t}return e},nn=t=>typeof t=="string"&&t[0]==="#"?Bi(t):ga(ri(Fo(t))),ri=t=>{if(tr(t))return t;if(rs(t))return new fn(t.r,t.g,t.b);if(pa(t))return Yn(t);if(ma(t)||Un(t))return Yn(va(t));if(Br(t))return _s(t);if(ys(t))return Nr(t);throw new Error("Unknown color format!")},Fn=(t,r)=>{if(rs(t))return typeof r<"u"&&(t.a=r),t;let f=ri(t);return new Hs(f.r,f.g,f.b,typeof t.a<"u"?t.a:r)},ba=t=>pa(t)?t:Pn(ri(t)),Cs=t=>ma(t)?t:ir(Pn(ri(t))),ya=(t,r=1)=>{if(Un(t))return r&&(t.a=r),t;let f=ir(Pn(ri(t)));return f.a=typeof t.a<"u"?t.a:r,new ha(f.h,f.s,f.l,f.a)},zr=t=>ys(t)?t:Al(ri(t)),js=t=>{let r=ri(t),f=qn(t).toLowerCase(),e=Math.round(r.r*.2125+r.g*.7154+r.b*.0721),i=new fn(e,e,e);return tn(i,f)},Us=(t,r=10)=>_a(t,-1*Math.abs(r)),_a=(t,r=10)=>{let f,e,i=r>0,o=function(h,g){let _,C,S,A=h.slice(1),F=parseInt(A,16);return _=(F>>16)+g,_>255?_=255:_<0&&(_=0),S=(F>>8&255)+g,S>255?S=255:S<0&&(S=0),C=(F&255)+g,C>255?C=255:C<0&&(C=0),"#"+(C|S<<8|_<<16).toString(16)};f=qn(t).toLowerCase(),f===Xt.RGBA&&t.a;do e=o(nn(t),r),i?r--:r++;while(e.length<7);return tn(e,f)},Oc=(t,r,f=1)=>{let e=ba(t),i=qn(t).toLowerCase(),o=e.h;for(o+=r;o>=360;)o-=360;for(;o<0;)o+=360;return e.h=o,tn(e,i,f)},sn=(t,r,f)=>{f=f===0?0:f||50;let e=new fn(0,0,0),i=ri(t),o=ri(r),h=f/100;return e.r=Math.round((o.r-i.r)*h+i.r),e.g=Math.round((o.g-i.g)*h+i.g),e.b=Math.round((o.b-i.b)*h+i.b),nn(e)},Il=(t,r)=>{let f=ri(t),e=ri(r),i=new fn;return f.b=Math.floor(f.b*e.b/255),f.g=Math.floor(f.g*e.g/255),f.r=Math.floor(f.r*e.r/255),nn(i)},Pc=(t,r)=>{if(!wn(t))throw new Error(t+" is not a valid color value!");r/=100;let f=qn(t).toLowerCase(),e=ri(t),i=r<0?0:255,o=r<0?r*-1:r,h,g,_,C;return h=Math.round((i-e.r)*o)+e.r,g=Math.round((i-e.g)*o)+e.g,_=Math.round((i-e.b)*o)+e.b,(f===Xt.RGBA||f===Xt.HSLA)&&(C=t.a),tn(new fn(h,g,_),f,C)},sr=(t,r)=>{let f,e,i;if(!wn(t))throw new Error(t+" is not a valid color value!");return f=Cs(t),f.s+=r/100,f.s=jn(0,1,f.s),e=qn(t).toLowerCase(),(e===Xt.RGBA||e===Xt.HSLA)&&(i=t.a),tn(f,e,i)},pn=(t,r)=>{let f,e,i;if(!wn(t))throw new Error(t+" is not a valid color value!");return f=Cs(t),f.s-=r<1?r:r/100,f.s=jn(f.s,0,1),e=qn(t).toLowerCase(),(e===Xt.RGBA||e===Xt.HSLA)&&(i=t.a),tn(f,e,i)},Ei=(t,r)=>{let f,e,i,o;if(!wn(t))throw new Error(t+" is not a valid color value!");return f=Cs(t),o=f.h+r,o>360?o=o%360:o<0&&(o=360+o%360),f.h=o,e=qn(t).toLowerCase(),(e===Xt.RGBA||e===Xt.HSLA)&&(i=t.a),e==="hsl"?f:tn(f,e,i)},Xi=(t,r)=>{let f,e,i;if(!wn(t))throw new Error(t+" is not a valid color value!");return f=ri(t),f.r=Math.max(0,Math.min(255,f.r-Math.round(255*-(r/100)))),f.g=Math.max(0,Math.min(255,f.g-Math.round(255*-(r/100)))),f.b=Math.max(0,Math.min(255,f.b-Math.round(255*-(r/100)))),e=qn(t).toLowerCase(),(e===Xt.RGBA||e===Xt.HSLA)&&(i=t.a),tn(f,e,i)},Ai=(t,r,f)=>{let e=Fo(t),i=Fo(r),o=Fn(e,void 0),h=Fn(i,void 0),g=new Hs;return(""+f).toLowerCase(),g.r=Math.round((o.r+h.r)/2),g.g=Math.round((o.g+h.g)/2),g.b=Math.round((o.b+h.b)/2),g.a=Math.round((o.a+h.a)/2),tn(g,f,g.a)},ar=(t,r,f=Xt.HEX,e)=>{let i=Object.assign({},bs,e),o,h=[],g,_,C,S,A;if(g=ba(t),pa(g)===!1)return console.warn("The value is a not supported color format!"),!1;switch(C=g.h,S=g.s,A=g.v,r){case"monochromatic":case"mono":{if(i.algorithm===1)_=Yn(g),_.r=xn(Math.round(_.r+(255-_.r)*i.tint1),0,255),_.g=xn(Math.round(_.g+(255-_.g)*i.tint1),0,255),_.b=xn(Math.round(_.b+(255-_.b)*i.tint1),0,255),h.push(Pn(_)),_=Yn(g),_.r=xn(Math.round(_.r+(255-_.r)*i.tint2),0,255),_.g=xn(Math.round(_.g+(255-_.g)*i.tint2),0,255),_.b=xn(Math.round(_.b+(255-_.b)*i.tint2),0,255),h.push(Pn(_)),h.push(g),_=Yn(g),_.r=xn(Math.round(_.r*i.shade1),0,255),_.g=xn(Math.round(_.g*i.shade1),0,255),_.b=xn(Math.round(_.b*i.shade1),0,255),h.push(Pn(_)),_=Yn(g),_.r=xn(Math.round(_.r*i.shade2),0,255),_.g=xn(Math.round(_.g*i.shade2),0,255),_.b=xn(Math.round(_.b*i.shade2),0,255),h.push(Pn(_));else if(i.algorithm===2)for(h.push(g),o=1;o<=i.distance;o++)A=jn(A-i.step,0,1),S=jn(S-i.step,0,1),h.push({h:C,s:S,v:A});else if(i.algorithm===3)for(h.push(g),o=1;o<=i.distance;o++)A=jn(A-i.step,0,1),h.push({h:C,s:S,v:A});else A=jn(g.v+i.step*2,0,1),h.push({h:C,s:S,v:A}),A=jn(g.v+i.step,0,1),h.push({h:C,s:S,v:A}),h.push(g),S=g.s,A=g.v,A=jn(g.v-i.step,0,1),h.push({h:C,s:S,v:A}),A=jn(g.v-i.step*2,0,1),h.push({h:C,s:S,v:A});break}case"complementary":case"complement":case"comp":{h.push(g),C=Cn(g.h,180),h.push(new Ut(C,S,A));break}case"double-complementary":case"double-complement":case"double":{h.push(g),C=Cn(C,180),h.push(new Ut(C,S,A)),C=Cn(C,i.angle),h.push(new Ut(C,S,A)),C=Cn(C,180),h.push(new Ut(C,S,A));break}case"analogous":case"analog":{C=Cn(C,i.angle),h.push(new Ut(C,S,A)),h.push(g),C=Cn(g.h,0-i.angle),h.push(new Ut(C,S,A));break}case"triadic":case"triad":{for(h.push(g),o=1;o<3;o++)C=Cn(C,120),h.push(new Ut(C,S,A));break}case"tetradic":case"tetra":{h.push(g),C=Cn(g.h,180),h.push(new Ut(C,S,A)),C=Cn(g.h,-1*i.angle),h.push(new Ut(C,S,A)),C=Cn(C,180),h.push(new Ut(C,S,A));break}case"square":{for(h.push(g),o=1;o<4;o++)C=Cn(C,90),h.push(new Ut(C,S,A));break}case"split-complementary":case"split-complement":case"split":{C=Cn(C,180-i.angle),h.push(new Ut(C,S,A)),h.push(g),C=Cn(g.h,180+i.angle),h.push(new Ut(C,S,A));break}case"material":{var F=i.baseLight,N=i.baseDark==="self"||!i.baseDark?Il(t,t):i.baseDark;h.push({50:sn(F,t,10),100:sn(F,t,30),200:sn(F,t,50),300:sn(F,t,70),400:sn(F,t,85),500:sn(F,t,100),600:sn(N,t,92),700:sn(N,t,83),800:sn(N,t,74),900:sn(N,t,65),A100:_a(sr(sn(N,t,15),80),65),A200:_a(sr(sn(N,t,15),80),55),A400:_a(sr(sn(F,t,100),55),10),A700:_a(sr(sn(N,t,83),65),10)});break}default:console.error("Unknown schema name")}return r==="material"?h[0]:er(h,f)},Bc=t=>t instanceof Ut||t instanceof Ja||t instanceof ha||t instanceof fn||t instanceof Hs||t instanceof Qa,kn=function(t){if(Bc(t))return t;let r=(""+t).toLowerCase();typeof $s[r]<"u"&&(r=$s[r]),typeof El[r]<"u"&&(r=El[r]);let f=r.replace(/[^\d.,%]/g,"").split(",").map(e=>isNaN(e)?e:+e);return r[0]==="#"?Bi(r):r.includes("rgba")?new Hs(f[0],f[1],f[2],f[3]):r.includes("rgb")?new fn(f[0],f[1],f[2]):r.includes("cmyk")?new Qa(f[0],f[1],f[2],f[3]):r.includes("hsv")?new Ut(f[0],f[1],f[2]):r.includes("hsla")?new ha(f[0],f[1],f[2],f[3]):r.includes("hsl")?new Ja(f[0],f[1],f[2]):r},Fo=kn,Ll=(t="hex",r=1)=>{let f=(g,_)=>Math.floor(g+Math.random()*(_+1-g)),e,i,o,h;return i=f(0,255),o=f(0,255),h=f(0,255),e="#"+((1<<24)+(i<<16)+(o<<8)+h).toString(16).slice(1),t==="hex"?e:tn(e,t,r)},Jh=Ll,Io=class{_setValue(t){t||(t="#000000"),typeof t=="string"&&(t=kn(t)),t&&wn(t)?this._value=t:this._value=void 0}_setOptions(t){this._options=Object.assign({},bs,t)}constructor(t="#000000",r=null){this._setValue(t),this._setOptions(r)}get options(){return this._options}set options(t){this._setOptions(t)}get value(){return this._value?this._value:void 0}set value(t){this._setValue(t)}toRGB(){if(this._value)return this._value=ri(this._value),this}get rgb(){return this._value?ri(this._value):void 0}toRGBA(t){if(this._value)return rs(this._value)?t&&(this._value=Fn(this._value,t)):this._value=Fn(this._value,t||bs.alpha),this}get rgba(){return this._value?rs(this._value)?this._value:Fn(this._value,this._options.alpha):void 0}toHEX(){if(this._value)return this._value=nn(this._value),this}get hex(){return this._value?nn(this._value):void 0}toHSV(){if(this._value)return this._value=ba(this._value),this}get hsv(){return this._value?ba(this._value):void 0}toHSL(){if(this._value)return this._value=Cs(this._value),this}get hsl(){return this._value?Cs(this._value):void 0}toHSLA(t){if(this._value)return Un(this._value)?t&&(this._value=ya(this._value,t)):this._value=ya(this._value,t),this}get hsla(){return this._value?Un(this._value)?this._value:ya(this._value,this._options.alpha):void 0}toCMYK(){if(this._value)return this._value=zr(this._value),this}get cmyk(){return this._value?zr(this._value):void 0}toWebsafe(){if(this._value)return this._value=xs(this._value),this}get websafe(){return this._value?xs(this._value):void 0}toString(){return this._value?Mo(this._value):void 0}darken(t=10){if(this._value)return this._value=Us(this._value,t),this}lighten(t=10){if(this._value)return this._value=_a(this._value,t),this}isDark(){return this._value?as(this._value):void 0}isLight(){return this._value?Pr(this._value):void 0}hueShift(t){if(this._value)return this._value=Oc(this._value,t),this}grayscale(){if(!(!this._value||this.type===Xt.UNKNOWN))return this._value=js(this._value,(""+this.type).toLowerCase()),this}get type(){return qn(this._value)}getScheme(t,r,f){return this._value?ar(this._value,t,r,f):void 0}equal(t){return Ao(this._value,t)}random(t,r){this._value=Ll(t,r)}channel(t,r){let f=`${this.type}`.toUpperCase();if(["red","green","blue"].includes(t)){this.toRGB();let e={red:"r",green:"g",blue:"b"};this._value[e[t]]=r,this[`to${f}`]()}if(t==="alpha"&&this._value.a&&(this._value.a=r),["hue","saturation","value"].includes(t)){this.toHSV();let e={hue:"h",saturation:"s",value:"v"};this._value[e[t]]=r,this[`to${f}`]()}if(["lightness"].includes(t)&&(this.toHSL(),this._value.l=r,this[`to${f}`]()),["cyan","magenta","yellow","black"].includes(t)){this.toCMYK();let e={cyan:"c",magenta:"m",yellow:"y",black:"k"};this._value[e[t]]=r,this[`to${f}`]()}return this}add(t){this._setValue(Ai(this._value,t))}mix(t,r){this._setValue(sn(this._value,t,r))}multiply(t){this._setValue(Il(this._value,t))}shade(t){this._setValue(Pc(this._value,t))}saturate(t){this._setValue(sr(this._value,t))}desaturate(t){this._setValue(pn(this._value,t))}spin(t){this._setValue(Ei(this._value,t))}brighten(t){this._setValue(Xi(this._value,t))}},Nc={...Ic},Ol="1.0.4",Qh="11.08.2024, 23:47:03",Pl=()=>{console.info(`%c Farbe %c v${Ol} %c ${Qh} `,"color: #ffffff; font-weight: bold; background: #ff00ff","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Farbe=Io,globalThis.farbe=t=>new Io(t),globalThis.Farbe.Routines=Or,globalThis.Farbe.Palette=Xh,globalThis.Farbe.StandardColors=$s,globalThis.Farbe.MetroColors=El,globalThis.Farbe.Primitives=Nc,globalThis.Farbe.info=Pl;var Bl=Object.defineProperty,Rc=(t,r)=>{for(var f in r)Bl(t,f,{get:r[f],enumerable:!0})};function Nl(t){return t.replace(/([A-Z])/g,function(r){return"-"+r.toLowerCase()})}function Rl(t=[]){return Array.isArray(t)?t.join(" "):t.toString()}var zc=["opacity","zIndex","order","zoom"];function rr(t={}){return typeof t=="string"?t:Object.keys(t).map(r=>{let f=Nl(r),e=t[r];return!zc.includes(f)&&!isNaN(e)&&(e+="px"),`${f}: ${e}`}).join(";")}var ef=["accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inert","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","popover","spellcheck","style","tabindex","title","translate","writingsuggestions"],Lo=t=>{let r,f,e=[],i,o,h=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof t=="string"){if(t=t.trim(),i=document.implementation.createHTMLDocument(""),r=i.createElement("base"),r.href=document.location.href,i.head.appendChild(r),o=i.body,f=h.exec(t),f)return document.createElement(f[1]);o.innerHTML=t;for(let g=0;g<o.childNodes.length;g++)e.push(o.childNodes[g]);return e[0]}},ws=["onauxclick","onbeforeinput","onbeforematch","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"],Hr=class{constructor(t={}){this.options=t,this.tag="div"}selfAttributes(){return[]}get attributes(){return this.getAttributes().join(" ")}getAttributes(){let t=[],r=["hidden","disabled","required","readonly","selected","open","multiply","default"],f=["className","style","data","tag","events"];for(let e in this.options)if(!f.includes(e)){if(r.includes(e)&&this.options[e]===!0){t.push(e);continue}(this.selfAttributes().includes(e)&&!t.includes(e)||ef.includes(e))&&t.push(`${e}="${this.options[e]}"`)}return this.classes&&t.push(`class="${this.classes}"`),this.styles&&t.push(`style="${this.styles}"`),this.dataSet&&t.push(this.dataSet),this.aria&&t.push(this.aria),t}draw(){return this.template()}get dataSet(){let{data:t={}}=this.options,r=[];for(let f in t)r.push(`data-${Nl(f)}="${t[f]}"`);return r.join(" ")}get aria(){let{aria:t={}}=this.options,r=[];for(let f in t)r.push(`aria-${f.toLowerCase()}="${t[f]}"`);return r.join(" ")}get events(){let{events:t={},control:r=!0}=this.options,f=[];for(let e in t)r&&!ws.includes(e)&&console.info(`Event ${e} for element ${this.tag} not specified in HTML specification`),f.push(`${e.toLowerCase()}="${t[e]}"`);return f.join(" ")}get classes(){return Rl(this.options.class)}get styles(){return rr(this.options.style)}template(){return""}toString(){return this.draw()}toElement(){return Lo(this.draw())}},zl=t=>{if(Array.isArray(t))return t.map(zl).join(`
`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(t.draw)return t.draw();throw new Error("Unknown element! "+t)},Xe=class extends Hr{constructor(...t){let r={},f=[];for(let e of t)typeof e=="object"&&!(e instanceof Hr)?r=e:f.push(e);super(r),this.children=f}template(t){let r=this.options.tag?this.options.tag:this.tag;return`
            <${r} ${this.attributes} ${this.events}>${t}</${r}>
        `}draw(){return this.template(this.children.map(zl).join(""))}},qt=class extends Hr{constructor(t={}){super(t),this.options=t}template(){return`
            <${this.options.tag?this.options.tag:this.tag} ${this.attributes} ${this.events}/>
        `}},Bt=(t=[],r=document.body,f={})=>{let e,i,{clear:o=!0,where:h="beforeend"}=f;i=typeof r=="string"?document.querySelector(r):r,i instanceof HTMLElement||(i=document.body),o&&(i.innerHTML=""),Array.isArray(t)||(t=[t]),e=t.map(zl).join(""),i.insertAdjacentHTML(h,e)},In=(t="",r)=>{let f=document.createElement("style");return r!==void 0&&f.setAttribute("media",r),f.appendChild(document.createTextNode(t)),document.head.appendChild(f),f},ks=t=>In(t).sheet,Ss=(t,r,f)=>{t.insertRule(r+"{"+f+"}")},Hc=(t,r)=>{if(typeof t=="string"){In(t,r);return}let f=ks(r);for(let e in t)Ss(f,e,rr(t[e]))},Hl=async(t,r)=>{let f=await fetch(t,r),e,i;if(!f.ok)throw new Error("HTTP error: "+f.status);e=await f.text(),i=document.createElement("style"),i.appendChild(document.createTextNode(e)),document.body.appendChild(i)},$c=async(t,r)=>{let f=await fetch(t,r),e,i;if(!f.ok)throw new Error("HTTP error: "+f.status);e=await f.text(),i=document.createElement("script"),i.appendChild(document.createTextNode(e)),document.body.appendChild(i)},Oo={};Rc(Oo,{Abbr:()=>Ca,Address:()=>Ql,Anchor:()=>zo,Area:()=>ur,Article:()=>Xl,Aside:()=>Zl,AudioTag:()=>cr,Base:()=>Ds,Bdi:()=>Ts,Bdo:()=>hr,Blockquote:()=>tu,Body:()=>Vr,Bold:()=>td,Br:()=>Yl,Button:()=>nd,Canvas:()=>an,Caption:()=>rd,Cite:()=>su,Code:()=>au,Col:()=>iu,Colgroup:()=>ud,Data:()=>Mi,Dd:()=>qo,Details:()=>ou,Dfn:()=>dd,Dialog:()=>Xs,Div:()=>mr,Dl:()=>wa,Dt:()=>Uo,Em:()=>uu,Embed:()=>md,Fieldset:()=>gd,FigCaption:()=>hu,Figure:()=>yd,Footer:()=>Jc,Form:()=>_d,Frame:()=>wd,Frameset:()=>Go,Head:()=>$l,Header:()=>Jl,Heading:()=>xa,Hr:()=>jc,Html:()=>Po,IFrame:()=>Kr,Img:()=>ql,Input:()=>Wc,Ins:()=>Dd,Ital:()=>Gr,Kbd:()=>ti,Label:()=>Xo,Legend:()=>bd,Link:()=>Wl,List:()=>Ln,ListItem:()=>Jr,Main:()=>oi,Map:()=>eu,Mark:()=>pu,Meta:()=>rn,Nav:()=>Kl,NoEmbed:()=>gr,NoFrames:()=>ka,NoScript:()=>gu,Option:()=>Fd,OptionGroup:()=>zt,Output:()=>Id,Paragraph:()=>Ld,Picture:()=>ls,Pre:()=>Od,Quoted:()=>vu,Rp:()=>Sa,Rt:()=>ln,Ruby:()=>li,Script:()=>w,Section:()=>Vi,Select:()=>Ko,Slot:()=>Ta,Small:()=>M,Source:()=>B,Span:()=>Ul,Strike:()=>p,Strong:()=>cu,Sub:()=>J,Summary:()=>lu,Sup:()=>ye,Table:()=>ad,TableCell:()=>nu,TableRow:()=>fr,TableSection:()=>Vo,Template:()=>ki,Textarea:()=>Ee,Time:()=>Ve,Title:()=>on,Track:()=>Ke,Var:()=>tt,VideoTag:()=>lt,Wbr:()=>Yt,a:()=>Kc,abbr:()=>Ho,address:()=>Qc,anchor:()=>Xc,area:()=>Ur,article:()=>Zc,aside:()=>$o,audio:()=>ed,b:()=>id,base:()=>Vc,bdi:()=>dr,bdo:()=>of,blockquote:()=>lf,body:()=>jl,br:()=>af,button:()=>uf,canvas:()=>sd,caption:()=>od,cite:()=>cd,code:()=>jo,col:()=>ld,colgroup:()=>df,data:()=>bu,dd:()=>Yr,details:()=>pf,dfn:()=>mf,dialog:()=>un,div:()=>hd,dl:()=>ru,dt:()=>ff,em:()=>gf,embed:()=>du,fieldset:()=>vd,figcaption:()=>_f,figure:()=>yf,footer:()=>lr,form:()=>xd,frame:()=>kd,frameset:()=>Cd,h1:()=>No,h2:()=>qc,h3:()=>Gl,h4:()=>Yc,h5:()=>rf,h6:()=>Gc,head:()=>Vl,header:()=>Wr,hr:()=>Uc,html:()=>$r,i:()=>vf,iframe:()=>xf,img:()=>sf,input:()=>Bo,ins:()=>Cf,ital:()=>fd,kbd:()=>wf,label:()=>Zr,legend:()=>bf,li:()=>Ed,link:()=>tf,main:()=>Sn,map:()=>jr,mark:()=>mu,meta:()=>wi,nav:()=>or,noembed:()=>Xr,noframes:()=>Sd,noscript:()=>kf,ol:()=>Td,optgroup:()=>Md,option:()=>vr,output:()=>Zo,p:()=>yi,picture:()=>Da,pre:()=>Sf,q:()=>Jo,quoted:()=>c,rp:()=>os,rt:()=>Ki,ruby:()=>Gs,s:()=>b,script:()=>T,section:()=>Ro,select:()=>Ad,slot:()=>yu,small:()=>O,source:()=>z,span:()=>nf,strike:()=>y,strong:()=>pd,sub:()=>ie,summary:()=>Yo,sup:()=>pe,table:()=>cf,tbody:()=>Ys,td:()=>pr,template:()=>Si,textarea:()=>Re,tfoot:()=>Wo,th:()=>hf,thead:()=>qr,time:()=>qe,title:()=>Wi,tr:()=>Es,track:()=>Ye,ul:()=>fu,variable:()=>dt,video:()=>Dt,wbr:()=>Ni});var Po=class extends Xe{constructor(){super(...arguments);ae(this,"tag","html")}selfAttributes(){return["lang"]}},$r=(...t)=>new Po(...t),$l=class extends Xe{constructor(){super(...arguments);ae(this,"tag","head")}},Vl=(...t)=>new $l(...t),Ds=class extends qt{constructor(){super(...arguments);ae(this,"tag","base")}selfAttributes(){return["href","target"]}},Vc=t=>new Ds(t),Wl=class extends qt{constructor(){super(...arguments);ae(this,"tag","link")}selfAttributes(){return["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","blocking","color","disabled","fetchpriority"]}},tf=t=>new Wl(t),Vr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","body")}},jl=(...t)=>new Vr(...t),Ul=class extends Xe{constructor(){super(...arguments);ae(this,"tag","span")}},nf=(...t)=>new Ul(...t),ql=class extends qt{constructor(){super(...arguments);ae(this,"tag","img")}selfAttributes(){return["align","alt","border","height","hspace","ismap","longdesc","lowsrc","src","vspace","width","usemap"]}},sf=(t="",r="",f={})=>new ql({...f,src:t,alt:r}),Wc=class extends qt{constructor(){super(...arguments);ae(this,"tag","input")}selfAttributes(){return["accept","align","alt","autocomplete","autofocus","border","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","list","max","maxlength","min","multiple","name","pattern","placeholder","size","src","step","type","value"]}},Bo=(t={})=>new Wc(t),Yl=class extends qt{constructor(){super(...arguments);ae(this,"tag","br")}selfAttributes(){return["clear"]}},af=t=>new Yl(t),jc=class extends qt{constructor(){super(...arguments);ae(this,"tag","hr")}},Uc=t=>new jc(t),xa=class extends Xe{constructor(t="h1",...r){super(...r),this.tag=t}},qs=(t="h1",...r)=>new xa(t,...r),No=(...t)=>qs("h1",...t),qc=(...t)=>qs("h2",...t),Gl=(...t)=>qs("h3",...t),Yc=(...t)=>qs("h4",...t),rf=(...t)=>qs("h5",...t),Gc=(...t)=>qs("h6",...t),Vi=class extends Xe{constructor(){super(...arguments);ae(this,"tag","section")}},Ro=(...t)=>new Vi(...t),zo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","a")}selfAttributes(){return["coords","download","hreflang","name","rel","rev","shape","target","type","href"]}},Xc=(...t)=>new zo(...t),Kc=(...t)=>new zo(...t),Ca=class extends Xe{constructor(){super(...arguments);ae(this,"tag","abbr")}},Ho=(...t)=>new Ca(...t),Xl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","article")}},Zc=(...t)=>new Xl(...t),Kl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","nav")}},or=(...t)=>new Kl(...t),Zl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","aside")}},$o=(...t)=>new Zl(...t),Jl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","header")}},Wr=(...t)=>new Jl(...t),Jc=class extends Xe{constructor(){super(...arguments);ae(this,"tag","footer")}},lr=(...t)=>new Jc(...t),Ql=class extends Xe{constructor(){super(...arguments);ae(this,"tag","address")}},Qc=(...t)=>new Ql(...t),eu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","map")}selfAttributes(){return["name"]}},jr=(...t)=>new eu(...t),ur=class extends qt{constructor(){super(...arguments);ae(this,"tag","area")}selfAttributes(){return["alt","coords","hreflang","nohref","shape","target","type","href"]}},Ur=(t={})=>new ur(t),cr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","audio")}selfAttributes(){return["autoplay","controls","loop","preload","src"]}},ed=(...t)=>new cr(...t),td=class extends Xe{constructor(){super(...arguments);ae(this,"tag","b")}},id=(...t)=>new td(...t),Ts=class extends Xe{constructor(){super(...arguments);ae(this,"tag","bdi")}},dr=(...t)=>new Ts(...t),hr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","bdo")}},of=(...t)=>new hr(...t),tu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","blockquote")}selfAttributes(){return["cite"]}},lf=(...t)=>new tu(...t),nd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","button")}selfAttributes(){return["autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"]}},uf=(...t)=>new nd(...t),an=class extends Xe{constructor(){super(...arguments);ae(this,"tag","canvas")}selfAttributes(){return["width","height"]}},sd=(...t)=>new an(...t),ad=class extends Xe{constructor(){super(...arguments);ae(this,"tag","table")}selfAttributes(){return["align","background","bgcolor","border","bordercolor","cellpadding","cellspacing","cols","frame","height","rules","summary","width"]}},cf=(...t)=>new ad(...t),rd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","caption")}selfAttributes(){return["align","valign"]}},od=(...t)=>new rd(...t),iu=class extends qt{constructor(){super(...arguments);ae(this,"tag","col")}selfAttributes(){return["align","valign","char","charoff","span","width"]}},ld=t=>new iu(t),ud=class extends qt{constructor(){super(...arguments);ae(this,"tag","colgroup")}selfAttributes(){return["align","valign","char","charoff","span","width"]}},df=t=>new ud(t),Vo=class extends Xe{constructor(t="tbody",...r){super(...r),this.tag=t}selfAttributes(){return["align","valign","char","charoff","bgcolor"]}},Ys=(...t)=>new Vo("tbody",...t),qr=(...t)=>new Vo("thead",...t),Wo=(...t)=>new Vo("tfoot",...t),fr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","tr")}selfAttributes(){return["align","bgcolor","bordercolor","char","charoff","valign"]}},Es=(...t)=>new fr(...t),nu=class extends Xe{constructor(t="td",...r){super(...r),this.tag=t}selfAttributes(){return["abbr","align","axis","background","bgcolor","bordercolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]}},hf=(...t)=>new nu("th",...t),pr=(...t)=>new nu("td",...t),su=class extends Xe{constructor(){super(...arguments);ae(this,"tag","cite")}},cd=(...t)=>new su(...t),au=class extends Xe{constructor(){super(...arguments);ae(this,"tag","code")}},jo=(...t)=>new au(...t),wa=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dl")}},Uo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dt")}},qo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dd")}},ru=(...t)=>new wa(...t),ff=(...t)=>new Uo(...t),Yr=(...t)=>new qo(...t),ou=class extends Xe{constructor(){super(...arguments);ae(this,"tag","details")}},pf=(...t)=>new ou(...t),lu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","summary")}},Yo=(...t)=>new lu(...t),dd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dfn")}},mf=(...t)=>new dd(...t),mr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","div")}selfAttributes(){return["align","title"]}},hd=(...t)=>new mr(...t),uu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","em")}},gf=(...t)=>new uu(...t),Gr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","i")}},fd=(...t)=>new Gr(...t),vf=(...t)=>new Gr(...t),cu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","strong")}},pd=(...t)=>new cu(...t),md=class extends Xe{constructor(){super(...arguments);ae(this,"tag","embed")}selfAttributes(){return["align","height","hspace","pluginspace","src","type","vspace","width"]}},du=(...t)=>new md(...t),gr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","noembed")}},Xr=(...t)=>new gr(...t),gd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","fieldset")}selfAttributes(){return["form","title"]}},vd=(...t)=>new gd(...t),bd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","legend")}selfAttributes(){return["align","title"]}},bf=(...t)=>new bd(...t),yd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","figure")}},yf=(...t)=>new yd(...t),hu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","figcaption")}},_f=(...t)=>new hu(...t),_d=class extends Xe{constructor(){super(...arguments);ae(this,"tag","form")}selfAttributes(){return["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"]}},xd=(...t)=>new _d(...t),Go=class extends Xe{constructor(){super(...arguments);ae(this,"tag","frameset")}selfAttributes(){return["border","bordercolor","cols","frameborder","framespacing","rows"]}},Cd=(...t)=>new Go(...t),wd=class extends qt{constructor(){super(...arguments);ae(this,"tag","frame")}selfAttributes(){return["bordercolor","frameborder","noresize","name","src","scrolling"]}},kd=(t={})=>new wd(t),ka=class extends Xe{constructor(){super(...arguments);ae(this,"tag","noframes")}},Sd=(...t)=>new ka(...t),Kr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","iframe")}selfAttributes(){return["align","allowtransparency","frameborder","height","hspace","marginheight","marginwidth","name","sandbox","scrolling","seamless","src","srcdoc","vspace","width"]}},xf=(...t)=>new Kr(...t),Dd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","ins")}selfAttributes(){return["cite","datetime"]}},Cf=(...t)=>new Dd(...t),ti=class extends Xe{constructor(){super(...arguments);ae(this,"tag","kbd")}},wf=(...t)=>new ti(...t),Xo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","label")}selfAttributes(){return["for"]}},Zr=(...t)=>new Xo(...t),Ln=class extends Xe{constructor(t="ul",...r){super(...r),this.tag=t}selfAttributes(){return this.tag==="ul"?["type"]:["type","reserved","start"]}},Jr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","li")}selfAttributes(){return["type","value"]}},fu=(...t)=>new Ln("ul",...t),Td=(...t)=>new Ln("ol",...t),Ed=(...t)=>new Jr(...t),pu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","mark")}},mu=(...t)=>new pu(...t),gu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","noscript")}},kf=(...t)=>new gu(...t),Ko=class extends Xe{constructor(){super(...arguments);ae(this,"tag","select")}selfAttributes(){return["autofocus","form","name","size"]}},Ad=(...t)=>new Ko(...t),zt=class extends Xe{constructor(){super(...arguments);ae(this,"tag","optgroup")}selfAttributes(){return["label"]}},Md=(...t)=>new zt(...t),Fd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","option")}selfAttributes(){return["label","value"]}},vr=(...t)=>new Fd(...t),Id=class extends Xe{constructor(){super(...arguments);ae(this,"tag","output")}selfAttributes(){return["for","form","name"]}},Zo=(...t)=>new Id(...t),Ld=class extends Xe{constructor(){super(...arguments);ae(this,"tag","p")}selfAttributes(){return["align"]}},yi=(...t)=>new Ld(...t),Od=class extends Xe{constructor(){super(...arguments);ae(this,"tag","pre")}},Sf=(...t)=>new Od(...t),vu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","q")}selfAttributes(){return["cite"]}},Jo=(...t)=>new vu(...t),c=(...t)=>new vu(...t),p=class extends Xe{constructor(){super(...arguments);ae(this,"tag","strike")}},y=(...t)=>new p(...t),b=(...t)=>new p(...t),w=class extends Xe{constructor(){super(...arguments);ae(this,"tag","script")}selfAttributes(){return["async","defer","language","src","type"]}},T=(...t)=>new w(...t),M=class extends Xe{constructor(){super(...arguments);ae(this,"tag","small")}},O=(...t)=>new M(...t),B=class extends qt{constructor(){super(...arguments);ae(this,"tag","source")}selfAttributes(){return["media","src","type"]}},z=(t={})=>new B(t),J=class extends Xe{constructor(){super(...arguments);ae(this,"tag","sub")}},ie=(...t)=>new J(...t),ye=class extends Xe{constructor(){super(...arguments);ae(this,"tag","sup")}},pe=(...t)=>new ye(...t),Ee=class extends Xe{constructor(){super(...arguments);ae(this,"tag","textarea")}selfAttributes(){return["autofocus","cols","form","maxlength","name","placeholder","rows","wrap"]}},Re=(...t)=>new Ee(...t),Ve=class extends Xe{constructor(){super(...arguments);ae(this,"tag","time")}selfAttributes(){return["datetime","pubdate"]}},qe=(...t)=>new Ve(...t),Ke=class extends qt{constructor(){super(...arguments);ae(this,"tag","track")}selfAttributes(){return["kind","src","srclang","label"]}},Ye=(t={})=>new Ke(t),tt=class extends Xe{constructor(){super(...arguments);ae(this,"tag","var")}},dt=(...t)=>new tt(...t),lt=class extends Xe{constructor(){super(...arguments);ae(this,"tag","video")}selfAttributes(){return["autoplay","controls","height","loop","loop","poster","preload","src","width"]}},Dt=(...t)=>new lt(...t),Yt=class extends qt{constructor(){super(...arguments);ae(this,"tag","wbr")}},Ni=t=>new Yt(t),oi=class extends Xe{constructor(){super(...arguments);ae(this,"tag","main")}},Sn=(...t)=>new oi(...t),rn=class extends qt{constructor(){super(...arguments);ae(this,"tag","meta")}selfAttributes(){return["content","name","http-equiv","charset"]}},wi=t=>new rn(t),on=class extends Xe{constructor(){super(...arguments);ae(this,"tag","title")}},Wi=t=>new on(t),ki=class extends Xe{constructor(){super(...arguments);ae(this,"tag","template")}selfAttributes(){return["shadowrootmode","shadowrootdelegatesfocus","shadowrootclonable","shadowrootserializable"]}},Si=(...t)=>new ki(...t),li=class extends Xe{constructor(){super(...arguments);ae(this,"tag","ruby")}},ln=class extends qt{constructor(){super(...arguments);ae(this,"tag","rt")}},Sa=class extends qt{constructor(){super(...arguments);ae(this,"tag","rp")}},Gs=(...t)=>new li(...t),Ki=t=>new ln(t),os=t=>new Sa(t),Mi=class extends Xe{constructor(){super(...arguments);ae(this,"tag","data")}},bu=(...t)=>new Mi(...t),ls=class extends Xe{constructor(){super(...arguments);ae(this,"tag","picture")}},Da=(...t)=>new ls(...t),Xs=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dialog")}selfAttributes(){return["open"]}},un=(...t)=>new Xs(...t),Ta=class extends Xe{constructor(){super(...arguments);ae(this,"tag","slot")}selfAttributes(){return["name"]}},yu=(...t)=>new Ta(...t),Df={},Gv="0.15.1",Xv="18.05.2025, 14:41:46",Kv=()=>{console.info(`%c Html.js %c v${Gv} %c ${Xv} `,"color: #ffffff; font-weight: bold; background: #708238","color: white; background: darkgreen","color: white; background: #0080fe;")},Zv=(t=globalThis)=>{for(let r in Oo)globalThis[r]&&(Df[r]=globalThis[r]),t[r]=Oo[r]},Jv=(t=globalThis)=>{for(let r in Df)t[r]=Df[r]},Qv={BaseElement:Hr,Tag:Xe,SingleTag:qt,...Oo,extract:Zv,restore:Jv},eb={addStyle:Hc,addCssRule:Ss,createStyleSheet:ks,createStyleElement:In};globalThis.HTML={cssLoader:Hl,jsLoader:$c,render:Bt,...Qv,...eb,info:Kv};var Vp={};s(Vp,{americanExpress:()=>Ny,array:()=>Kb,base64:()=>Ub,between:()=>$b,bigint:()=>yb,boolean:()=>Xb,bytes:()=>Wy,color:()=>wy,compose:()=>ub,contains:()=>Qy,creditCard:()=>Oy,date:()=>xb,digits:()=>Xy,diners:()=>zy,discover:()=>Ry,domain:()=>dy,email:()=>Lb,endsWith:()=>pb,equal:()=>s_,finite:()=>Wb,float:()=>Zy,func:()=>wb,great:()=>l_,greatOrEqual:()=>h_,hexColor:()=>ky,hslColor:()=>Dy,imei:()=>Qb,info:()=>v_,integer:()=>Sb,ip:()=>ry,ipv4:()=>oy,ipv6:()=>ly,jcb:()=>Hy,length:()=>ey,less:()=>c_,lessOrEqual:()=>p_,mastercard:()=>By,max:()=>Fb,maxLength:()=>iy,min:()=>Ab,minLength:()=>ty,notNull:()=>Uy,notNumber:()=>Yb,number:()=>Nb,object:()=>zb,parse:()=>Tf,pattern:()=>Yy,pipe:()=>ob,required:()=>Pb,rgbColor:()=>Sy,safeInteger:()=>Tb,safeParse:()=>ab,similar:()=>r_,startsWith:()=>hb,string:()=>Ef,symbol:()=>vb,type:()=>i_,unionPay:()=>$y,unknown:()=>mb,url:()=>py,visa:()=>Py});var tb=Object.defineProperty,Wp=Object.getOwnPropertySymbols,ib=Object.prototype.hasOwnProperty,nb=Object.prototype.propertyIsEnumerable,jp=(t,r,f)=>r in t?tb(t,r,{enumerable:!0,configurable:!0,writable:!0,value:f}):t[r]=f,sb=(t,r)=>{for(var f in r||(r={}))ib.call(r,f)&&jp(t,f,r[f]);if(Wp)for(var f of Wp(r))nb.call(r,f)&&jp(t,f,r[f]);return t},ht=class extends Error{constructor(t="",r=null,f){super(t),this.message=t,this.name=r,this.value=f}},Tf=(t,r)=>{let f;if(!t)throw new Error("Schema object required for parse data!");if(typeof t=="function"){if(f=t.apply(null,[r]),f instanceof ht)throw f}else for(let e in t){let i=r[e],o=t[e];if(!o)throw new ht(`Guard not defined for field ${e} in input data!`,"general",r);if(!r.hasOwnProperty(e))throw new ht(`Field ${e} doesn't exists in input data!`,"general",r);if(typeof o=="function"){if(console.log(o.name),f=o.apply(null,[i]),f instanceof ht)throw f}else Tf(o,i)}return r},ab=(t,r)=>{let f;if(!t)throw new Error("Schema object required for parse data!");if(typeof t=="function"){if(f=t.apply(null,[r]),f instanceof ht)return{ok:!1,error:f}}else for(let e in t){let i=r[e],o=t[e];if(o)if(typeof o=="function"){if(f=o.apply(null,[r]),f instanceof ht)return{ok:!1,error:f}}else Tf(o,i)}return{ok:!0,output:r}},rb=(...t)=>r=>t.reduce((f,e)=>e(f),r),ob=rb,lb=(...t)=>r=>t.reduceRight((f,e)=>e(f),r),ub=lb,cb="VAL must be a string",Ef=(t=cb)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"?r:new ht(f,"string",r)},Qr=t=>typeof t<"u"&&t!==null,db="VAL must starts with START_VAL",hb=(t,r=db)=>{if(!Qr(t))throw new Error("START_VALUE not defined!");return function(f){let e=r.replace(/VAL/g,f).replace(/START_VAL/g,t);return typeof f=="string"&&f.startsWith(t)?f:new ht(e,"startsWith",f)}},fb="VAL must end with END_VAL",pb=(t,r=fb)=>{if(!Qr(t))throw new Error("END_VALUE not defined!");return function(f){let e=r.replace(/VAL/g,f).replace(/END_VAL/g,t);return typeof f=="string"&&f.endsWith(t)?f:new ht(e,"endsWith",f)}},mb=()=>function(t){return t},gb="A symbol is required",vb=(t=gb)=>function(r){return typeof r=="symbol"?r:new ht(t,"symbol",r)},bb="VAL must be a bigint",yb=(t=bb)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="bigint"?r:new ht(f,"bigint",r)},_b="VAL must be valid date object or date string",xb=(t=_b)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="object"&&r.getTime||typeof r=="string"&&!isNaN(Date.parse(r))?r:new ht(f,"date",r)},Cb="The value must be a function",wb=(t=Cb)=>function(r){return typeof r=="function"?r:new ht(t,"function",r)},kb="VAL must be an integer",Sb=(t=kb)=>function(r){let f=t.replace(/VAL/g,r);return Number.isInteger(r)?r:new ht(f,"integer",r)},Db="VAL must be an safe integer",Tb=(t=Db)=>function(r){let f=t.replace(/VAL/g,r);return Number.isSafeInteger(r)?r:new ht(f,"safeInteger",r)},Eb="VAL must be a great then MIN_VALUE",Ab=(t,r=Eb)=>{if(!Qr(t))throw new Error("MIN_VALUE not defined!");return function(f){let e=r.replace(/VAL/g,f).replace(/MIN_VALUE/g,t),i=+f;return!isNaN(i)&&i>=+t?f:new ht(e,"minValue",f)}},Mb="VAL must be a less then MAX_VALUE",Fb=(t,r=Mb)=>{if(!Qr(t))throw new Error("MAX_VALUE not defined!");return function(f){let e=r.replace(/VAL/g,f).replace(/MAX_VALUE/g,t),i=+f;return!isNaN(i)&&i<=+t?f:new ht(e,"maxValue",f)}},Ib="VAL must be a string in valid email format",Lb=(t=Ib)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?r:new ht(f,"email",r)},Ob="Any value required",Pb=(t=Ob)=>function(r){let f=t.replace(/VAL/g,r);return typeof r<"u"&&r!==null&&r!==""?r:new ht(f,"required",r)},Bb="VAL must be a number",Nb=(t=Bb)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="number"&&!isNaN(+r)?r:new ht(f,"number",r)},Rb="VAL must be an object",zb=(t,r=Rb)=>{if(typeof t!="object")throw new ht(r.replace(/VAL/g,t),"object",t);return sb({},t)},Hb="VAL must be between MIN_VAL and MAX_VAL",$b=(t,r,f=Hb)=>{if(!Qr(t))throw new Error("MIN_VALUE not defined!");if(!Qr(r))throw new Error("MAX_VALUE not defined!");return function(e){let i=f.replace(/VAL/g,e).replace(/MIN_VAL/g,t).replace(/MAX_VAL/g,r),o=+e;return!isNaN(o)&&e>=+t&&e<=+r?e:new ht(i,"between",e)}},Vb="VAL must be a finite number",Wb=(t=Vb)=>function(r){let f=t.replace(/VAL/g,r);return Number.isFinite(r)?r:new ht(f,"finite",r)},jb="VAL must be a string in valid base 64 format",Ub=(t=jb)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(r)?r:new ht(f,"base64",r)},qb="VAL can`t be a number",Yb=(t=qb)=>function(r){let f=t.replace(/VAL/g,r);return isNaN(r)?r:new ht(f,"notNumber",r)},Gb="VAL must be a boolean",Xb=(t=Gb)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="boolean"?r:new ht(f,"boolean",r)},Up="VAL must be an array of TYPE",Kb=(t,r=Up)=>(!t&&!r&&(t=Ef(),r=Up),typeof t=="string"&&(r=t,t=Ef()),function(f){let e=r.replace(/VAL/g,f).replace(/TYPE/g,t.name);if(!Array.isArray(f))return new ht(e,"array",f);for(let i of f)if(t(i)instanceof ht)return new ht(e,"array",f);return f}),Zb="VAL must be a valid EMEI",Jb=t=>{let r=i=>{let o=0;for(;i>0;)o=o+i%10,i=parseInt(""+i/10,10);return o},f=(""+t).length;if(f!==15)return!1;let e=0;for(let i=f;i>=1;i--){let o=t%10;i%2===0&&(o=2*o),e+=r(o),t=parseInt(""+t/10,10)}return e%10===0},Qb=(t=Zb)=>function(r){let f=t.replace(/VAL/g,r);return Jb(r)?r:new ht(f,"emei",r)},Af="VAL must be a string or array with length N",ey=(t,r=Af)=>function(f){let e=r.replace(/VAL/g,f).replace(/N/g,t);return(typeof f=="string"||Array.isArray(f))&&f.length===+t?f:new ht(e,"length",f)},ty=(t,r=Af)=>function(f){let e=r.replace(/VAL/g,f).replace(/N/g,t);return(typeof f=="string"||Array.isArray(f))&&f.length>=+t?f:new ht(e,"minLength",f)},iy=(t,r=Af)=>function(f){let e=r.replace(/VAL/g,f).replace(/N/g,t);return(typeof f=="string"||Array.isArray(f))&&f.length<=+t?f:new ht(e,"maxLength",f)},ny="VAL must be a valid ip address ipv4 or ipv6",sy="VAL must be a valid ipv4 address",ay="VAL must be a valid ipv6 address",qp=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Yp=/^[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}$/,ry=(t=ny)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&(qp.test(r)||Yp.test(r))?r:new ht(f,"ip",r)},oy=(t=sy)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&qp.test(r)?r:new ht(f,"ipv4",r)},ly=(t=ay)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&Yp.test(r)?r:new ht(f,"ipv6",r)},uy="VAL must be a valid domain name, xn--* for internationalized names",cy=/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/,dy=(t=uy)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&cy.test(r)?r:new ht(f,"domain",r)},hy="VAL must be a valid url",fy=/^(?:(?:(?:https?|ftp|wss?):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,py=(t=hy)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&fy.test(r)?r:new ht(f,"url",r)},my="VAL must be a valid color in HEX, RGB(A), or HSL(A) format",gy="VAL must be a valid HEX color",vy="VAL must be a valid RGB(a) color",by="VAL must be a valid HSL(A) color",yy=/^#(?:[\da-f]{3}){1,2}$|^#(?:[\da-f]{4}){1,2}$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,_y=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,xy=/^rgba?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^rgba?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,Cy=/^hsla?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^hsla?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,wy=(t=my)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&yy.test(r)?r:new ht(f,"color",r)},ky=(t=gy)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&_y.test(r)?r:new ht(f,"hexColor",r)},Sy=(t=vy)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&xy.test(r)?r:new ht(f,"rgbColor",r)},Dy=(t=by)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&Cy.test(r)?r:new ht(f,"hslColor",r)},Gp=/^4\d{12}(?:\d{3,6})?$/u,Xp=/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,Kp=/^3[47]\d{13}$/u,Zp=/^6(?:011|5\d{2})\d{12,15}$/u,Jp=/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,Qp=/^(?:2131|1800|35\d{3})\d{11}$/u,em=/^(?:6[27]\d{14,17}|81\d{14,17})$/u,tm="VAL must be a valid CC number (visa, mastercard, american express, discover, diners club, jcb, or union pay)",Ty="VAL must be a valid Visa card number",Ey="VAL must be a valid Mastercard card number",Ay="VAL must be a valid American Express card number",My="VAL must be a valid DISCOVER card number",Fy="VAL must be a valid DINERS CLUB card number",Iy="VAL must be a valid JCB card number",Ly="VAL must be a valid Union Pay card number",Oy=(t=tm)=>function(r){let f=t.replace(/VAL/g,r);return typeof r=="string"&&(Gp.test(r)||Xp.test(r)||Kp.test(r)||Zp.test(r)||Jp.test(r)||Qp.test(r)||em.test(r))?r:new ht(f,"creditCard",r)},eo=(t,r,f=tm)=>function(e){let i=f.replace(/VAL/g,e);return typeof e=="string"&&r.test(e)?e:new ht(i,t,e)},Py=(t=Ty)=>eo("visa",Gp,t),By=(t=Ey)=>eo("mastercard",Xp,t),Ny=(t=Ay)=>eo("american express",Kp,t),Ry=(t=My)=>eo("discover",Zp,t),zy=(t=Fy)=>eo("diners club",Jp,t),Hy=(t=Iy)=>eo("jcb card",Qp,t),$y=(t=Ly)=>eo("union pay",em,t),Vy="The length of string must be VAL bytes",Wy=(t,r=Vy)=>function(f){let e=r.replace(/VAL/g,f);return typeof f=="string"&&new TextEncoder().encode(f).length===t?f:new ht(e,"bytes",f)},jy="VAL can`t be null or undefined.",Uy=(t=jy)=>function(r){let f=t.replace(/VAL/g,r);return Qr(r)?r:new ht(f,"notNull",r)},qy="The value must match the pattern",Yy=(t,r=qy)=>function(f){let e=r.replace(/VAL/g,f);return(typeof t=="string"?new RegExp(t,"g"):t).test(""+f)?f:new ht(e,"pattern",f)},Gy="VAL must contains only digits",Xy=(t=Gy)=>function(r){let f=t.replace(/VAL/g,r);return/^\d+$/g.test(""+r)?r:new ht(f,"digits",r)},Ky="VAL must be a float",Zy=(t=Ky)=>function(r){let f=t.replace(/VAL/g,r);return!isNaN(r)&&+n%1!==0||/^\d*\.\d+$/.test(r)?r:new ht(f,"float",r)},Jy="VAL must must contains OBJ",Qy=(t,r=Jy)=>function(f){let e=r.replace(/VAL/g,f).replace(/OBJ/g,t);return f.includes(t)?f:new ht(e,"contains",f)},e_="A VAL must have type TYPE";function t_(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)]$/,"$1").toLowerCase()}var i_=(t="string",r=e_)=>function(f){let e=r.replace(/VAL/g,f).replace(/TYPE/g,t);return t===t_(f)?f:new ht(e,"type",f)},n_="VAL must be an equal to VALUE",s_=(t,r=n_)=>function(f){let e=r.replace(/VAL/g,f).replace(/VALUE/g,t);return f===t?f:new ht(e,"equal",f)},a_="VAL must be a similar to VALUE",r_=(t,r=a_)=>function(f){let e=r.replace(/VAL/g,f).replace(/VALUE/g,t);return f==t?f:new ht(e,"similar",f)},o_="VAL must be a great then VALUE",l_=(t,r=o_)=>function(f){let e=r.replace(/VAL/g,f).replace(/VALUE/g,t);return f>t?f:new ht(e,"great",f)},u_="VAL must be a less then VALUE",c_=(t,r=u_)=>function(f){let e=r.replace(/VAL/g,f).replace(/VALUE/g,t);return f<t?f:new ht(e,"less",f)},d_="VAL must be a great or equal to VALUE",h_=(t,r=d_)=>function(f){let e=r.replace(/VAL/g,f).replace(/VALUE/g,t);return f>=t?f:new ht(e,"greatOrEqual",f)},f_="VAL must be a less or equal to VALUE",p_=(t,r=f_)=>function(f){let e=r.replace(/VAL/g,f).replace(/VALUE/g,t);return f<=t?f:new ht(e,"lessOrEqual",f)},m_="0.7.3",g_="18.05.2025, 14:43:24",v_=()=>{console.info(`%c Guardian %c v${m_} %c ${g_} `,"color: pink; font-weight: bold; background: #2b1700","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.G=Vp;var it=(_i=class{static log(r,f,e){if(r>_i.DEBUG_LEVEL)return;let i={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},o;switch(r){case _i.DEBUG_LEVELS.ERROR:o="error";break;case _i.DEBUG_LEVELS.WARN:o="warn";break;case _i.DEBUG_LEVELS.INFO:o="info";break;case _i.DEBUG_LEVELS.DEBUG:o="debug";break;case _i.DEBUG_LEVELS.TRACE:o="trace";break;default:return}console.group(`%c Model: ${f}`,i[o]),e!==void 0&&console.log("%c Data:",i.data,e),console.groupEnd()}static error(r,f){_i.log(_i.DEBUG_LEVELS.ERROR,r,f)}static warn(r,f){_i.log(_i.DEBUG_LEVELS.WARN,r,f)}static info(r,f){_i.log(_i.DEBUG_LEVELS.INFO,r,f)}static debug(r,f){_i.log(_i.DEBUG_LEVELS.DEBUG,r,f)}static trace(r,f){_i.log(_i.DEBUG_LEVELS.TRACE,r,f)}},ae(_i,"DEBUG_LEVELS",{NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5}),ae(_i,"DEBUG_LEVEL",_i.DEBUG_LEVELS.NONE),_i),b_="0.4.1",y_="18.05.2025, 14:39:57",im=class{constructor(t={}){if(it.DEBUG_LEVEL=t.debug?4:0,it.debug("[Router] Init Router"),this.routes={},this.fallbackRoute=t.fallback||"/",this.maxRedirects=t.maxRedirects||5,this.redirectCount=0,this.basePath=t.base||"",this.middleware=[],this.beforeEachHooks=[],this.afterEachHooks=[],this.cache=new Map,this.cacheLimit=t.cacheLimit??50,this.touchStartX=0,this.enableSwipeNavigation=t.enableSwipeNavigation||!1,this.current=null,this.redirects={},this.useHash=t.useHash||!1,this.events={beforeNavigate:[],afterNavigate:[],routeNotFound:[],error:[]},this.plugins=[],this.enableSwipeNavigation&&this.initSwipeNavigation(),t.routes){it.debug("[Router] Registering routes");for(let[r,f]of Object.entries(t.routes))this.addRoute(r,f)}t.plugins&&Array.isArray(t.plugins)&&(it.debug("[Router] Registering plugins"),t.plugins.forEach(r=>{Array.isArray(r)?this.usePlugin(r[0],r[1]||{}):this.usePlugin(r)})),it.debug("[Router] Subscribing to unhandledrejection event"),window.addEventListener("unhandledrejection",this.handleError.bind(this)),it.debug("[Router] Router Initialized")}on(t,r){return it.debug(`[Router] Subscribing to event ${t}`),this.events[t]&&this.events[t].push(r),this}emit(t,...r){if(it.debug(`[Router] Emitting event ${t}`),this.events[t])for(let f of this.events[t]){let e=f(...r);if(t==="beforeNavigate"&&e===!1)return!1}return!0}initSwipeNavigation(){it.debug("[Router] Initializing swipe navigation"),it.debug("[Router] Adding touchstart event listener"),document.addEventListener("touchstart",t=>{this.touchStartX=t.touches[0].clientX},{passive:!0}),it.debug("[Router] Adding touchend event listener"),document.addEventListener("touchend",t=>{let r=t.changedTouches[0].clientX,f=this.touchStartX-r;Math.abs(f)>100&&(f>0?(it.debug("[Router] Swiping right (forward)"),window.history.forward()):(it.debug("[Router] Swiping left (backward)"),window.history.back()))},{passive:!0})}handleError(t){it.error("[Router] Error during navigation:",t),this.emit("error",t),this.routes["/error"]?this.navigateTo("/error",!0):this.navigateTo(this.fallbackRoute,!0)}sanitizePath(t){it.debug("[Router] Sanitizing path:",t);try{if(!t)return"/";let r=new URL(t,window.location.origin),f=decodeURIComponent(r.pathname);return f=f.replace(/[<>'"`;(){}]/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/([^/])\/{2,}/g,"$1/").replace(/\/+/g,"/").replace(/(.+)\/$/,"$1").replace(/\.+/g,".").split("/").filter(e=>e!==".."&&e!==".").join("/"),f.startsWith("/")||(f="/"+f),this.isBlockedPath(f)?"/":(it.debug("[Router] Sanitized path:",f),f)}catch(r){return it.error("[Router] Error sanitizing path:",r),"/"}}isBlockedPath(t){return it.debug("[Router] Checking if path is blocked:",t),[/^\/(api|admin|wp-admin|wp-content|wp-includes)/i,/\.(php|asp|aspx|jsp|cgi|config|env|git|sql|htaccess)$/i,/\/(.+\/)*\.{2,}\//,/javascript:/i,/data:/i,/vbscript:/i,/file:/i].some(r=>r.test(t))}test(t){it.debug("[Router] Testing path:",t);let r=t,f=this.sanitizePath(t),e={original:r,sanitized:f,isBlocked:this.isBlockedPath(f),isModified:r!==f};return it.debug(`[Router] test result for path ${t}:`,e),e}beforeEach(t){return it.debug("[Router] Adding beforeEach hook"),this.beforeEachHooks.push(t),this}afterEach(t){return it.debug("[Router] Adding afterEach hook"),this.afterEachHooks.push(t),this}use(t){return it.debug("[Router] Adding middleware"),this.middleware.push(t),this}addRedirect(t,r){return it.debug("[Router] Adding redirect from",t,"to",r),this.redirects[t]?!1:(this.redirects[t]=r,this)}addRoute(t,r){return it.debug("[Router] Adding route",t),this.routes[t]=r,this}addNestedRoute(t,r,f){it.debug(`[Router] Adding nested route ${r} to ${t}`);let e=`${t}${r}`.replace(/\/\//g,"/");return this.addRoute(e,f),this}addLazyRoute(t,r){return it.debug("[Router] Adding lazy-loaded route",t),this.addRoute(t,async f=>{try{let e=await r();return(e.default||e)(f)}catch(e){throw e}}),this}addLazyNestedRoute(t,r,f){it.debug("[Router] Adding lazy-loaded nested route",r,"to",t);let e=`${t}${r}`.replace(/\/\//g,"/");return this.addLazyRoute(e,f),this}addFallbackRoute(t){return it.debug("[Router] Adding fallback route",t),this.fallbackRoute=t,this}add404Route(t){return it.debug("[Router] Adding 404 route",t),this.routes["/404"]=t,this}addErrorRoute(t){return it.debug("[Router] Adding error route",t),this.routes["/error"]=t,this}addProtectedRoute(t,r,f,e="/login"){return it.debug("[Router] Adding protected route",t),this.addRoute(t,async i=>{if(await f(i))return it.debug("[Router] Guard function passed, executing callback"),r(i);it.debug("[Router] Guard function failed, redirecting to",e),await this.navigateTo(e,!0)}),this}removeRoute(t){return it.debug("[Router] Removing route",t),this.routes[t]&&delete this.routes[t],this}updateRoute(t,r){return it.debug("[Router] Updating route",t),this.routes[t]&&(this.routes[t]=r),this}getRoutes(){return it.debug("[Router] Getting registered routes"),this.routes}async navigate(t){if(it.debug("[Router] Navigating to",t),this.redirectCount>this.maxRedirects){it.error("[Router] Maximum redirect limit reached, redirecting to",this.fallbackRoute),console.error("Maximum redirect limit reached"),this.redirectCount=0,this.emit("error",new Error("Maximum redirect limit reached")),await this.navigateTo("/error",!0);return}this.redirectCount++;let r=this.matchRoute(this.sanitizePath(t));if(r)try{if(it.debug("[Router] Route matched:",r),this.emit("beforeNavigate",r)===!1){it.debug("[Router] Navigation cancelled by beforeNavigate hook");return}if(this.redirects[r.path]){it.debug("[Router] Redirecting to",this.redirects[r.path]),await this.navigateTo(this.redirects[r.path],!0);return}this.redirectCount++;for(let f of this.middleware)it.debug("[Router] Executing middleware"),await f(r);for(let f of this.beforeEachHooks)it.debug("[Router] Executing beforeEach hook"),await f(r);it.debug("[Router] Executing route callback"),await r.callback(r.params);for(let f of this.afterEachHooks)it.debug("[Router] Executing afterEach hook"),await f(r);this.current=r,this.emit("afterNavigate",r),it.debug("[Router] Navigation completed")}catch(f){it.error("[Router] Error during navigation:",f),console.error("Navigation error:",f),this.emit("error",f),this.routes["/error"]&&this.routes["/error"](f)}else it.warn("[Router] Route not found:",t),this.redirectCount=0,this.emit("routeNotFound",t),this.routes["/404"]&&this.routes["/404"]()}async navigateTo(t,r=!1){it.debug(`[Router] Navigating to ${t} ${r?"with replace state":""}`),this.redirectCount=0;let f=new URL(t,window.location.origin);r?(it.debug("[Router] Replacing state with",f),window.history.replaceState({},"",f)):(it.debug("[Router] Pushing state with",f),window.history.pushState({},"",f)),it.debug("[Router] Navigating to",f),await this.navigate(f.pathname)}matchRoute(t){if(it.debug("[Router] Matching route for",t),this.cache.has(t))return this.cache.get(t);it.debug("[Router] Route not found in cache, performing match");let r=this._performMatch(t);if(this.cache.size>=this.cacheLimit){it.debug("[Router] Cache limit reached, removing oldest entry");let f=this.cache.keys().next().value;this.cache.delete(f)}return it.debug("[Router] Caching result for",t),this.cache.set(t,r),r}_performMatch(t){let[r,f]=t.split("?"),e=new URLSearchParams(f),i=Object.fromEntries(e);for(let o in this.routes){let h=[],g=o.replace(/:([^\/]+)/g,(C,S)=>(h.push(S),"([^/]+)")),_=t.match(new RegExp(`^${g}$`));if(_){let C=_.slice(1).reduce((S,A,F)=>(S[h[F]]=A,S),{});return{path:t,pattern:g,callback:this.routes[o],params:C,query:i}}}return null}clearCache(){it.debug("[Router] Clearing cache"),this.cache.clear()}resetRedirectCount(){it.debug("[Router] Resetting redirect count"),this.redirectCount=0}getFullPath(t){return it.debug("[Router] Getting full path for",t),this.useHash?`#${t}`:t}getPathFromLocation(){return it.debug("[Router] Getting path from location"),this.useHash?window.location.hash.slice(1)||"/":window.location.pathname}listen(){return it.debug("[Router] Starting to listen for navigation events"),this._handleNavigation=()=>{this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(t=>{})},this._handleLinkClick=t=>{if(t.target.tagName==="A"){let r=t.target.getAttribute("href");if(r&&(this.useHash&&r.startsWith("#")||!this.useHash&&t.target.href.startsWith(window.location.origin))){t.preventDefault();let f=this.useHash?r.slice(1):t.target.pathname;this.redirectCount=0,this.navigateTo(f).then(e=>{})}}},it.debug("[Router] Listening for navigation events"),window.addEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),it.debug("[Router] Listening for link clicks"),document.addEventListener("click",this._handleLinkClick),this._initPlugins(),this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(t=>{}),this}_initPlugins(){it.debug("[Router] Init plugins"),this.plugins.forEach(({plugin:t,options:r})=>{typeof t.onInit=="function"&&t.onInit(this,r)})}usePlugin(t,r={}){if(!t)return this;if(it.debug("[Router] Using plugin",t),typeof t=="object"&&typeof t.install=="function")it.debug("[Router] Installing plugin",t),t.install(this,r);else if(typeof t=="function")it.debug("[Router] Executing plugin",t),t(this,r);else return it.warn("Invalid plugin format. Plugin must be an object with install method or a function."),this;return it.debug("[Router] Add plugin to store",t),this.plugins.push({plugin:t,options:r}),it.debug("[Router] Plugin initialized"),this}destroy(){it.debug("[Router] Destroying router"),this.plugins.forEach(({plugin:t,options:r})=>{it.debug("[Router] Destroying plugin",t),typeof t.onDestroy=="function"&&t.onDestroy(this,r)}),it.debug("[Router] Removing event listeners"),window.removeEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),document.removeEventListener("click",this._handleLinkClick),window.removeEventListener("unhandledrejection",this.handleError),this._handleNavigation=null,this._handleLinkClick=null,this.routes={},this.plugins=[],this.cache.clear(),it.debug("[Router] Router destroyed")}};im.info=()=>{console.info(`%c Router %c v${b_} %c ${y_} `,"color: #ffffff; font-weight: bold; background: #ed1cab","color: white; background: darkgreen","color: white; background: #0080fe;")};var __=im,x_=__;globalThis.Router=x_;var C_=class{constructor(){this.events=new Map}on(t,r){return this.events.has(t)||this.events.set(t,new Set),this.events.get(t).add(r),()=>this.off(t,r)}off(t,r){this.events.has(t)&&this.events.get(t).delete(r)}emit(t,r){this.events.has(t)&&this.events.get(t).forEach(f=>{try{f(r)}catch(e){console.error(`Error when performing an event handler ${t}:`,e)}})}},Mf=C_,w_=`
    <style>
        #model-devtools-panel  { 
            position: fixed;
            bottom: 0;
            right: 0;
            width: 300px;
            height: 400px;
            background: #242424;
            color: #fff;
            border: 1px solid #333;
            z-index: 9999;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .devtools-section {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
            }
            
            h3 {
                margin: 0;
                font-size: 14px;
                border-bottom: 1px solid #333;
                padding-bottom: 4px;
            }
        }
        
        #model-dev-tools-toggle-button {
            position: fixed;
            bottom: 10px;
            right: 10px;
            z-index: 9998;
            height: 36px;
            width: 36px;
            background: #444;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }        

        #model-devtools-time-travel-dialog {
            position: fixed;
            bottom: 0;
            right: 304px;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 4px;
            height: 400px;
            width: 300px;
            z-index: 10000;
            color: #fff;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .time-travel-items {
                padding: 4px; 
                height: calc(100% - 35px); 
                overflow: auto;
                position: relative;
            }
            
            .time-travel-item {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
                
                button {
                    margin-top: 8px;
                    background: dodgerblue;
                }
            }
        }
        
        #model-devtools-panel, #model-devtools-time-travel-dialog {
            button {
                height: 20px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                font-size: 12px;
                border-radius: 4px;
                border: 1px solid #444;
                background: #333;
                color: #fff;
                cursor: pointer;
                
                @media (hover: hover) {
                    &:hover {
                        background: #444;
                    }
                }

                @media (hover: none) {
                    &:hover {
                        background: #444;
                    }
                }
            }        
        }
        
        .dev-tools-header {
            padding: 8px; 
            border-bottom: 1px solid #333; 
            display: flex; 
            justify-content: space-between;
        }
    </style>
`,k_=w_,S_=class{constructor(t,r={}){this.model=t,this.options={enabled:!0,timeTravel:!0,maxSnapshots:50,...r},this.history=[],this.currentIndex=-1,this.initializeDevTools()}initializeDevTools(){window.__MODEL_DEVTOOLS__=this,this.createDevToolsPanel(),this.setupModelListeners()}createDevToolsPanel(){let t=document.createElement("div");t.id="model-devtools-panel",t.style.cssText="display: none;";let r=document.createElement("div");r.innerHTML=`
            ${k_}
            <div class="dev-tools-header">
                <span>🛠 Model DevTools</span>
                <div>
                    <button id="devtools-time-travel" title="Time Travel">⏱</button>
                    <button id="devtools-close" title="Close">×</button>
                </div>
            </div>
        `;let f=document.createElement("div");f.style.cssText=`
            padding: 8px;
            height: calc(100% - 35px);
            overflow: auto;
        `,f.id="model-devtools-content",t.appendChild(r),t.appendChild(f),document.body.appendChild(t),this.createToggleButton(),document.getElementById("devtools-close").onclick=()=>this.togglePanel(),document.getElementById("devtools-time-travel").onclick=()=>this.showTimeTravelDialog()}showTimeTravelDialog(){let t=document.getElementById("model-devtools-time-travel-dialog");t||(t=document.createElement("div"),t.id="model-devtools-time-travel-dialog");let r=[...this.history].reverse().map((f,e)=>`
            <div class="time-travel-item">
                <div>Time: ${new Date(f.timestamp).toLocaleTimeString()}</div>
                <div>Type: ${f.type}</div>
                <div>Property: ${f.property||f.event||f.path||""}</div>
                <div>Value: ${f.type==="computed-update"?f.newValue:typeof f.oldValue<"u"&&typeof f.newValue<"u"?`${JSON.stringify(f.oldValue)} -> ${JSON.stringify(f.newValue)}`:JSON.stringify(f.newValue||f.value||"")}</div>
                <button style="display: none" onclick="window.__MODEL_DEVTOOLS__.timeTravel(${this.history.length-1-e})">Apply this state</button>
            </div>
        `).join("");t.innerHTML=`
            <div class="dev-tools-header">
                <span>⏱ Time Travel</span>
                <div>
                    <button style="margin-left: auto;" onclick="window.__MODEL_DEVTOOLS__.clearTimeTravel()">CLear</button>
                    <button onclick="this.parentElement.parentElement.parentElement.remove()">×</button>                
                </div>
            </div>
            <div class="time-travel-items">${r||"Nothing to show!"}</div>
        `,document.body.appendChild(t)}createToggleButton(){let t=document.createElement("button");t.id="model-dev-tools-toggle-button",t.textContent="🛠",t.title="Model DevTools",t.onclick=()=>this.togglePanel(),document.body.appendChild(t)}setupModelListeners(){this.model.store.on("change",t=>{this.logChange({type:"data-change",path:t.path,oldValue:t.oldValue,newValue:t.newValue,timestamp:Date.now()})}),this.model.store.on("*",(t,r)=>{t!=="change"&&t!=="compute"&&t!=="arrayChange"&&this.logChange({type:"store-event",event:t,data:r,timestamp:Date.now()})}),this.model.on("*",(t,r)=>{t!=="change"&&t!=="compute"&&this.logChange({type:"model-event",event:t,data:r,timestamp:Date.now()})}),this.model.store.on("compute",t=>{this.logChange({type:"computed-update",property:t.key,dependencies:Array.from(t.dependencies),newValue:t.value,timestamp:Date.now()})}),this.model.store.on("arrayChange",t=>{this.logChange({type:"array-operation",path:t.path,method:t.method,args:t.args,oldValue:t.oldValue,newValue:t.newValue,timestamp:Date.now()})})}logChange(t){this.options.enabled&&(this.options.timeTravel&&this.saveSnapshot(t),this.updateDisplay())}saveSnapshot(t){let r={...t,state:JSON.parse(JSON.stringify(this.model.data)),computed:this.getComputedValues()};this.history=this.history.slice(0,this.currentIndex+1),this.history.push(r),this.currentIndex++,this.history.length>this.options.maxSnapshots&&(this.history.shift(),this.currentIndex--)}updateDisplay(){let t=document.getElementById("model-devtools-content");if(!t)return;let r=o=>{if(o===void 0)return"undefined";if(o===null)return"null";try{return Array.isArray(o)?`Array(${o.length}) ${JSON.stringify(o,null,2)}`:JSON.stringify(o,null,2)}catch{return String(o)}},f=this.getRecentChanges(),e="";for(let o of f){let h;try{let g={...o,timestamp:new Date(o.timestamp).toLocaleTimeString()};h=JSON.stringify(g,null,2)}catch(g){h=`Error formatting change: ${g.message}`}e+=`
            <div style="border-bottom: 1px solid #444; padding-bottom: 8px; overflow-x: auto">
                <pre>${h}</pre>
            </div>
`}let i=this.getComputedValues();t.innerHTML=`
        <div class="devtools-section">
            <h3>Current State:</h3>
            <pre>${r(this.model.data)}</pre>
        </div>
        <div class="devtools-section">
            <h3>Computed Values:</h3>
            <pre>${r(i)}</pre>
        </div>
        <div class="devtools-section">
            <h3>DOM Dependencies:</h3>
            <pre>${this.formatDOMDependencies()}</pre>
        </div>
        <div class="devtools-section">
            <h3>Recent Changes:</h3>
            ${e}
        </div>
    `,document.getElementById("model-devtools-time-travel-dialog")&&this.showTimeTravelDialog()}formatDOMDependencies(){try{let t={};return this.model.dom.domDependencies.forEach((r,f)=>{t[f]=Array.from(r).map(e=>({type:e.type,element:e.element.tagName}))}),JSON.stringify(t,null,2)}catch(t){return`Error formatting DOM dependencies: ${t.message}`}}getComputedValues(){if(!this.model.computed)return{};if(typeof this.model.computed.all=="function")return this.model.computed.all();if(this.model.computed.keys&&Array.isArray(this.model.computed.keys)){let r={};for(let f of this.model.computed.keys)r[f]=this.model.computed.getValue(f);return r}let t={};for(let r in this.model.data)this.model.computed&&typeof this.model.computed[r]<"u"&&(t[r]=this.model.data[r]);return t}getRecentChanges(){return this.history.slice(-5).reverse()}togglePanel(){let t=document.getElementById("model-devtools-panel");t&&(t.style.display=t.style.display==="none"?"block":"none"),t.style.display==="none"&&document.getElementById("model-devtools-time-travel-dialog").remove()}inspect(t){return this.model.store.get(t)}timeTravel(t){this.options.timeTravel}clearTimeTravel(){this.history=[],this.currentIndex=-1,this.showTimeTravelDialog()}startPerfMonitoring(){this.perfMetrics={updates:0,computations:0,domUpdates:0,startTime:Date.now()},this.model.store.on("change",()=>{this.perfMetrics.updates++}),this.model.store.on("compute",()=>{this.perfMetrics.computations++})}getPerfReport(){let t=(Date.now()-this.perfMetrics.startTime)/1e3;return{totalUpdates:this.perfMetrics.updates,updatesPerSecond:this.perfMetrics.updates/t,computationsPerSecond:this.perfMetrics.computations/t,domUpdatesPerSecond:this.perfMetrics.domUpdates/t}}},D_=S_,T_=class{constructor(){this.middlewares=[]}use(t){if(typeof t!="function"){console.error("MIDDLEWARE should be a function!");return}this.middlewares.push(t)}async process(t){let r=-1,f=async()=>{r++,r<this.middlewares.length&&await this.middlewares[r](t,f)};return await f(),t}},E_=T_,Ne=(xi=class{static log(r,f,e){if(r>xi.DEBUG_LEVEL)return;let i={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},o;switch(r){case xi.DEBUG_LEVELS.ERROR:o="error";break;case xi.DEBUG_LEVELS.WARN:o="warn";break;case xi.DEBUG_LEVELS.INFO:o="info";break;case xi.DEBUG_LEVELS.DEBUG:o="debug";break;case xi.DEBUG_LEVELS.TRACE:o="trace";break;default:return}console.group(`%c Model: ${f}`,i[o]),e!==void 0&&console.log("%c Data:",i.data,e),console.groupEnd()}static error(r,f){xi.log(xi.DEBUG_LEVELS.ERROR,r,f)}static warn(r,f){xi.log(xi.DEBUG_LEVELS.WARN,r,f)}static info(r,f){xi.log(xi.DEBUG_LEVELS.INFO,r,f)}static debug(r,f){xi.log(xi.DEBUG_LEVELS.DEBUG,r,f)}static trace(r,f){xi.log(xi.DEBUG_LEVELS.TRACE,r,f)}},ae(xi,"DEBUG_LEVELS",{NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5}),ae(xi,"DEBUG_LEVEL",xi.DEBUG_LEVELS.NONE),xi),A_=class extends Mf{constructor(t={},r){Ne.DEBUG_LEVEL=r.options.debug?4:0,Ne.debug("Init ReactiveStore"),super(),this.model=r,Ne.DEBUG_LEVEL=this.model.options.debug?4:0,Ne.debug("Init ReactiveStore"),this.state=this.createReactiveProxy(t),this.watchers=new Map,this.previousState=JSON.parse(JSON.stringify(t)),Ne.debug("Init MiddlewareManager"),this.middleware=new E_,Ne.debug("MiddlewareManager initialized"),Ne.debug("ReactiveStore initialized")}use(t){Ne.debug("Registering middleware:",t),this.middleware.use(t)}createReactiveProxy(t,r=""){return Ne.debug(`Creating reactive object with path ${r} for`,t),Array.isArray(t)?this.createArrayProxy(t,r):new Proxy(t,{get:(f,e)=>{if(typeof e=="symbol")return f[e];let i=f[e],o=r?`${r}.${e}`:e;return i&&typeof i=="object"?this.createReactiveProxy(i,o):i},set:async(f,e,i)=>{var _,C;if(typeof e=="symbol")return f[e]=i,!0;let o=r?`${r}.${e}`:e,h=f[e];if(h===i)return!0;if((_=this.validators)!=null&&_.has(`${o}`)&&!this.validators.get(`${o}`)(i))return!1;(C=this.formatters)!=null&&C.has(`${o}`)&&(i=this.formatters.get(`${o}`)(i)),i&&typeof i=="object"&&(i=this.createReactiveProxy(i,o));let g={prop:e,oldValue:h,newValue:i,preventDefault:!1};return await this.middleware.process(g),g.preventDefault||(f[e]=i,this.emit("change",{path:o,oldValue:h,newValue:i}),this.watchers.has(o)&&this.watchers.get(o).forEach(S=>{S(i,h)})),!0},deleteProperty:(f,e)=>{if(typeof e=="symbol")return delete f[e];let i=r?`${r}.${e}`:e,o=f[e],h=delete f[e];return h&&(this.emit("delete",{path:i,oldValue:o}),this.watchers.has(i)&&this.watchers.get(i).forEach(g=>{g(void 0,o)})),h}})}createArrayProxy(t,r){return Ne.debug(`Creating reactive array with path ${r} for`,t),new Proxy(t,{get:(f,e)=>{if(typeof e=="symbol")return f[e];let i=f[e];return typeof i=="function"&&["push","pop","shift","unshift","splice","sort","reverse"].includes(e)?(...o)=>{let h=[...f],g=f[e].apply(f,o),_={prop:r,oldValue:h,newValue:f,method:e,args:o,preventDefault:!1};return this.middleware.process(_).then(()=>{_.preventDefault||(this.emit("arrayChange",{path:r,method:e,args:o,oldValue:h,newValue:f}),this.emit("change",{path:r,oldValue:h,newValue:f,method:e,args:o}),this.watchers.has(r)&&this.watchers.get(r).forEach(C=>{C(f,h)}))}),g}:typeof e!="symbol"&&!isNaN(Number(e))&&i&&typeof i=="object"?this.createReactiveProxy(i,`${r}[${e}]`):i},set:async(f,e,i)=>{var _,C;if(typeof e=="symbol")return f[e]=i,!0;let o=r?`${r}.${e}`:e,h=f[e];if(h===i)return!0;if((_=this.validators)!=null&&_.has(o)&&!this.validators.get(o)(i))return!1;(C=this.formatters)!=null&&C.has(o)&&(i=this.formatters.get(o)(i)),f[e]=i,i&&typeof i=="object"&&(i=this.createReactiveProxy(i,`${r}[${e}]`));let g={prop:e,oldValue:h,newValue:i,preventDefault:!1};return await this.middleware.process(g),g.preventDefault||(f[e]=i,this.middleware.process(g).then(()=>{g.preventDefault||(this.emit("arrayChange",{path:o,method:null,args:null,oldValue:h,newValue:i}),this.emit("change",{path:o,oldValue:h,newValue:i,arrayIndex:Number(e)}),this.watchers.has(o)&&this.watchers.get(o).forEach(S=>{S(i,h)}))})),!0}})}applyArrayMethod(t,r,...f){Ne.debug(`Applying array method ${r} to path ${t} with args`,f);let e=this.get(t);if(!Array.isArray(e))return console.error(`Путь ${t} не является массивом!`),!1;let i=[...e],o=e[r].apply(e,f);return this.emit("arrayChange",{path:t,method:r,args:f,oldValue:i,newValue:[...e]}),this.emit("change",{path:t,oldValue:i,newValue:[...e]}),this.watchers.has(t)&&this.watchers.get(t).forEach(h=>{h([...e],i)}),o}applyArrayChanges(t,r){Ne.debug(`Applying custom array changes to path ${t} with callback`,r);let f=this.get(t);if(!Array.isArray(f))return console.error(`The path ${t} is not an array!`),!1;let e=[...f],i=r(f);return this.emit("arrayChange",{path:t,method:"custom",args:null,oldValue:e,newValue:[...f]}),this.emit("change",{path:t,oldValue:e,newValue:[...f]}),this.watchers.has(t)&&this.watchers.get(t).forEach(o=>{o([...f],e)}),i}detectArrayChanges(t,r=[]){Ne.debug("Detecting changes between arrays");let f={added:[],removed:[],moved:[]};for(let e=0;e<t.length;e++){let i=t[e],o=r.findIndex(h=>JSON.stringify(h)===JSON.stringify(i));o===-1?f.added.push({index:e,item:i}):o!==e&&f.moved.push({oldIndex:o,newIndex:e,item:i})}for(let e=0;e<r.length;e++){let i=r[e];t.findIndex(o=>JSON.stringify(o)===JSON.stringify(i))===-1&&f.removed.push({index:e,item:i})}return Ne.debug("Detected changes:",f),f}watch(t,r){return Ne.debug(`Watching path ${t} with callback`,r),this.watchers.has(t)||this.watchers.set(t,new Set),this.watchers.get(t).add(r),()=>{this.watchers.has(t)&&this.watchers.get(t).delete(r)}}get(t){if(Ne.debug(`Getting value at path ${t}`),!t)return this.state;let r=t.split("."),f=this.state;for(let e of r){if(f==null)return;f=f[e]}return f}set(t,r){Ne.debug(`Setting value at path ${t} to`,r);let f=t.split("."),e=this.state;for(let i=0;i<f.length-1;i++)e[f[i]]===void 0&&(e[f[i]]={}),e=e[f[i]];return e[f[f.length-1]]=r,r}batch(t){Ne.debug("Batch updating state with",t),this.previousState=JSON.parse(JSON.stringify(this.state)),typeof t=="function"?t(this.state):typeof t=="object"&&Object.entries(t).forEach(([r,f])=>{this.set(r,f)}),this.emit("batchComplete",{previousState:this.previousState,currentState:this.state})}getState(){return Ne.debug("Getting entire state"),this.state}getPreviousState(){return Ne.debug("Getting previous state"),this.previousState}toJSON(){return Ne.debug("Converting state to JSON"),JSON.stringify(this.state)}fromJSON(t){Ne.debug("Restoring state from JSON",t);let r=JSON.parse(t);this.previousState=JSON.parse(JSON.stringify(this.state)),Object.keys(this.state).forEach(f=>{delete this.state[f]}),Object.entries(r).forEach(([f,e])=>{this.state[f]=e}),this.emit("restore",{previousState:this.previousState,currentState:this.state})}addValidator(t,r){Ne.debug(`Adding validator for path ${t}`),this.validators||(this.validators=new Map),this.validators.set(t,r)}addFormatter(t,r){Ne.debug(`Adding formatter for path ${t}`),this.formatters||(this.formatters=new Map),this.formatters.set(t,r)}isValidPath(t){Ne.debug(`Validating path ${t}`);try{return this.get(t)!==void 0}catch(r){return Ne.error(`Error validating path ${t}:`,r),!1}}destroy(){this.state=null,this.watchers.clear(),this.previousState=null,Ne.debug("ReactiveStore destroyed")}},M_=class{constructor(t,r){Ne.DEBUG_LEVEL=r.options.debug?4:0,Ne.debug("Init LoopManager"),this.domManager=t,this.model=r,this.loops=new Map,this.loopsIn=[],Ne.debug("LoopManager initialized")}parseLoops(t){Ne.debug("Parsing loops with data-for...");let r=t.querySelectorAll("[data-for]");Ne.debug("Found elements with data-for:",r.length),r.forEach(e=>{let i=e.getAttribute("data-for").trim(),o=i.match(/^\s*(\w+)(?:\s*,\s*(\w+))?\s+in\s+(\w+(?:\.\w+)*)\s*$/);if(!o){console.error("Invalid expression format data-for:",i);return}let[h,g,_,C]=o,S=this.model.store.get(C);if(!Array.isArray(S)){console.error(`The value in the ${C} path is not an array:`,S);return}let A=e.cloneNode(!0);this.loops.set(e,{template:A,itemName:g,indexName:_,arrayPath:C,parentNode:e.parentNode}),this.domManager.registerDomDependency(C,e,{type:"loop",arrayPath:C}),this.updateLoop(e)}),Ne.debug("Parsing loops with data-in...");let f=t.querySelectorAll("[data-in]");Ne.debug("Found elements with data-in:",f.length),f.forEach(e=>{let i=e.getAttribute("data-in"),o=i.match(/^\s*(\w+)\s+in\s+(\S+)\s*$/);if(!o){console.error(`Invalid data-in syntax: ${i}`);return}let[h,g,_]=o,C=e.innerHTML,S=e.parentNode,A=document.createComment(`data-in: ${i}`);e.style.display="none",S.insertBefore(A,e),this.loopsIn.push({type:"in",originalElement:e,template:C,placeholder:A,objectPath:_,keyVar:g,elements:[]});let F=this.model.store.get(_);F&&typeof F=="object"&&!Array.isArray(F)&&this.updateInLoop(this.loopsIn[this.loopsIn.length-1],F)})}updateInLoop(t,r){t.elements.forEach(f=>f.remove()),t.elements=[],!(!r||typeof r!="object"||Array.isArray(r))&&Object.keys(r).forEach(f=>{Ne.debug(`Updating loop for key: ${f}`);let e=t.originalElement.cloneNode(!0);e.removeAttribute("data-in"),e.style.display="";let i={[t.keyVar]:f};e.innerHTML=this.processTemplate(t.template,r,f,i),t.placeholder.parentNode.insertBefore(e,t.placeholder.nextSibling),t.elements.push(e),this.domManager.bindDOM(e)})}processTemplate(t,r,f,e){return Ne.debug("Processing template:",t),Ne.debug("	 With data:",r),Ne.debug(`	 For key: ${f}`),Ne.debug("	 With context:",e),t.replace(/\{\{\s*([^}]+)\s*\}\}/g,(i,o)=>{o=o.trim();let h=Object.keys(e)[0];if(o===h)return f;Ne.debug(`Template: Processing path: ${o}`);let g=new RegExp(`(\\w+)\\[${h}\\]`),_=o.match(g);if(_){_[1];let S=r;if(S&&typeof S=="object")return S[f]!==void 0?S[f]:""}let C=this.model.store.get(o);return C!==void 0?C:""})}updateLoops(t,r){Ne.debug("Updating data-for loops for ${path}",this.loops),this.loops.forEach((f,e)=>{f.arrayPath===t&&this.updateLoop(e)}),Ne.debug(`Updating data-in loops for ${t}`,this.loopsIn),this.loopsIn.forEach(f=>{if(f.type==="in"&&(f.objectPath===t||t.startsWith(f.objectPath+"."))){let e=this.model.store.get(f.objectPath);e&&typeof e=="object"&&this.updateInLoop(f,e)}})}updateLoop(t){Ne.debug("Updating loop for element:",t);let r=this.loops.get(t)||this.loopsIn.find(_=>_.originalElement===t)[0];if(!r){console.error("Информация о цикле не найдена для элемента");return}let{template:f,itemName:e,indexName:i,arrayPath:o,parentNode:h}=r,g=this.model.store.get(o);if(!Array.isArray(g)){console.error("Значение не является массивом:",g);return}h.querySelectorAll(`[data-generated-for="${o}"]`).forEach(_=>_.remove()),g.forEach((_,C)=>{let S=f.cloneNode(!0);S.style.display="",S.removeAttribute("data-for"),S.setAttribute("data-generated-for",o),S.setAttribute("data-item-index",""+C),Ne.debug(`Creating new loop element for ${o} at index ${C}`),this.domManager.processTemplateNode(S,{[e]:_,[i||"index"]:C}),Ne.debug("Insert new node",S),h.insertBefore(S,t)}),t.style.display="none"}updateLoopPart(t,r,f,e){let i=this.loops.get(t);if(!i)return;let{template:o,itemName:h,indexName:g,parentNode:_}=i,C=this.model.store.get(r);if(!Array.isArray(C))return;let S=Array.from(_.querySelectorAll(`[data-generated-for="${r}"]`));if(e===void 0||S.length!==C.length)return this.updateLoop(t);let A=S[e];if(A){let F=o.cloneNode(!0);for(this.domManager.processTemplateNode(F,{[h]:C[e],[g||"index"]:e});A.firstChild;)A.removeChild(A.firstChild);for(;F.firstChild;)A.appendChild(F.firstChild);Array.from(F.attributes).forEach(N=>{A.setAttribute(N.name,N.value)})}}getLoops(){return{for:this.loops,in:this.loopsIn}}destroy(){this.loops.clear(),this.loopsIn=[],Ne.debug("LoopManager destroyed")}},_u=class{static evaluateExpression(t,r){try{if(t.startsWith("{{")&&t.endsWith("}}")){let f=t.substring(2,t.length-2).trim();return this.getValueFromContext(r,f)}return this.parseExpression(t,r)}catch(f){return console.error("Ошибка при вычислении выражения:",f),!1}}static getValueFromContext(t,r){return r?r.split(".").reduce((f,e)=>{let i=e.match(/^([^\[]+)(?:\[(\d+)\])?$/);if(i){let[o,h,g]=i,_=f==null?void 0:f[h];return g!==void 0&&Array.isArray(_)?_[parseInt(g,10)]:_}return f==null?void 0:f[e]},t):t}static parseExpression(t,r){t=t.trim();let f=t.match(/(.+?)\s*\?\s*(.+?)\s*:\s*(.+)/);if(f){let[i,o,h,g]=f;return this.parseExpression(o,r)?this.parseExpression(h,r):this.parseExpression(g,r)}if(t.includes("&&"))return t.split("&&").every(i=>this.parseExpression(i.trim(),r));if(t.includes("||"))return t.split("||").some(i=>this.parseExpression(i.trim(),r));let e=t.match(/(.+?)\s*(===|==|!==|!=|>=|<=|>|<)\s*(.+)/);if(e){let[i,o,h,g]=e,_=this.parseExpression(o.trim(),r),C=this.parseExpression(g.trim(),r);switch(h){case"==":return _==C;case"===":return _===C;case"!=":return _!=C;case"!==":return _!==C;case">":return _>C;case"<":return _<C;case">=":return _>=C;case"<=":return _<=C}}if(t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"'))return t.substring(1,t.length-1);if(/^-?\d+(\.\d+)?$/.test(t))return parseFloat(t);if(t==="true")return!0;if(t==="false")return!1;if(t==="null")return null;if(t!=="undefined")return this.getValueFromContext(r,t)}static extractVariables(t){let r=[],f=t.replace(/'[^']*'/g,"''").replace(/"[^"]*"/g,'""').match(/[a-zA-Z_][a-zA-Z0-9_]*(\.([a-zA-Z_][a-zA-Z0-9_]*))*(\[\d+\])*/g);return f&&f.forEach(e=>{let i=e.split(".")[0].split("[")[0].trim();["true","false","null","undefined"].includes(i)||r.includes(i)||r.push(i)}),r}},F_=class{constructor(t,r){Ne.DEBUG_LEVEL=r.options.debug?4:0,Ne.debug("ConditionalManager: Init ConditionalManager"),this.dom=t,this.model=r,this.dependencies=new Map,this.conditionalGroups=[],this.subscribe(),Ne.debug("ConditionalManager: ConditionalManager initialized")}subscribe(){Ne.debug("ConditionalManager: Subscribe to store changes"),this.model.store.on("change",t=>{this.getGroupsByPath(t.path).forEach(r=>{this.updateConditionalGroup(r)})})}getGroupsByPath(t){if(!t)return[];let r=new Set;return this.conditionalGroups.forEach(f=>{f.some(e=>e.expression?e.expression.includes(t)||t.startsWith(this.extractBasePath(e.expression)):!1)&&r.add(f)}),Array.from(r)}extractBasePath(t){let r=t.match(/[a-zA-Z_][a-zA-Z0-9_]*/g);return r?r[0]:""}parseConditionals(t){Ne.debug("ConditionalManager: Parse conditionals (data-if, data-else-if, data-else)...");let r=t.querySelectorAll("[data-if],[data-else-if],[data-else]"),f=[],e=[];r.forEach(i=>{i.hasAttribute("data-if")?(Ne.debug("ConditionalManager: Found data-if in element:",i),f.length&&e.push(f),f=[{element:i,type:"if",expression:i.getAttribute("data-if")}]):i.hasAttribute("data-else-if")?(Ne.debug("ConditionalManager: Found data-else-if in element:",i),f.length&&this.isAdjacentNode(f[f.length-1].element,i)?f.push({element:i,type:"else-if",expression:i.getAttribute("data-else-if")}):(f.length&&e.push(f),f=[{element:i,type:"if",expression:i.getAttribute("data-else-if")}])):i.hasAttribute("data-else")&&(Ne.debug("ConditionalManager: Found data-else in element:",i),f.length&&this.isAdjacentNode(f[f.length-1].element,i)?(f.push({element:i,type:"else",expression:null}),e.push(f),f=[]):Ne.warn("data-else without previous data-if or data-else-if",i))}),f.length&&e.push(f),this.conditionalGroups=e,e.forEach(i=>this.updateConditionalGroup(i)),this.setupDependencies(r)}isAdjacentNode(t,r){let f=t.nextSibling;for(;f;){if(f===r)return!0;if(f.nodeType===1&&!this.isWhitespaceNode(f))return!1;f=f.nextSibling}return!1}isWhitespaceNode(t){return t.nodeType===3&&t.textContent.trim()===""}updateConditionalGroup(t){let r=this.model&&this.model.store?{...this.model.store.getState()}:this.model&&this.model.data?this.model.data:{},f=!1;for(let e of t)e.type==="if"||e.type==="else-if"?!f&&_u.evaluateExpression(e.expression,r)?(e.element.style.display="",f=!0):e.element.style.display="none":e.type==="else"&&(e.element.style.display=f?"none":"")}updateConditional(t,r){let f=this.findGroupForElement(t);if(f)this.updateConditionalGroup(f);else{let e=this.model&&this.model.store?{...this.model.store.getState()}:this.model&&this.model.data?this.model.data:{},i=_u.evaluateExpression(r,e);t.style.display=i?"":"none"}}findGroupForElement(t){for(let r of this.conditionalGroups||[])if(r.some(f=>f.element===t))return r;return null}setupDependencies(t){this.dependencies=new Map,t.forEach(r=>{let f;if(r.hasAttribute("data-if"))f=r.getAttribute("data-if");else if(r.hasAttribute("data-else-if"))f=r.getAttribute("data-else-if");else return;_u.extractVariables(f).forEach(e=>{this.dependencies.has(e)||this.dependencies.set(e,[]),this.dependencies.get(e).push({element:r,expression:f,type:r.hasAttribute("data-if")?"if":"else-if"})})})}getDependenciesByPath(t){let r=[];return this.dependencies.forEach((f,e)=>{(e===t||t.startsWith(e+"."))&&r.push(...f)}),r}destroy(){this.dependencies.clear(),this.conditionalGroups=[],Ne.debug("ConditionalManager: Destroyed")}},I_=class{constructor(t,r){this.domManager=t,this.model=r,Ne.DEBUG_LEVEL=this.model.options.debug?4:0,Ne.debug("AttributeManager: Init AttributeManager")}parseAttributesBind(t){Ne.debug("AttributeManager: Parsing attributes bind with data-bind...");let r=t.querySelectorAll("[data-bind]");Ne.debug("AttributeManager: Found elements with data-bind:",r.length),r.forEach(f=>{Ne.debug("AttributeManager: Parsing element with data-bind:",f);let e=f.getAttribute("data-bind");try{let i=JSON.parse(e.replace(/'/g,'"'));for(let[o,h]of Object.entries(i)){let g=_u.extractVariables(h);Ne.debug(`AttributeManager: Found variables for ${o}:`,g),g.forEach(_=>{this.domManager.registerDomDependency(_,f,{type:"attribute",attribute:o,expression:h})}),this.updateAttributes(f,o,h)}}catch(i){console.error("An error of analysis of attachments:",i)}})}updateAttributes(t,r,f){let e={...this.model.store.getState()},i;if(f.startsWith("{{")&&f.endsWith("}}")){let h=f.substring(2,f.length-2).trim();i=this.model.store.get(h)}else i=_u.evaluateExpression(f,e);let o=t.getAttribute(r);String(i)!==o&&(i===!1||i===null||i===void 0?t.removeAttribute(r):i===!0?t.setAttribute(r,""):t.setAttribute(r,String(i)),Ne.debug(`AttributeManager: Updated attribute ${r} with value:`,i))}parseAttributes(t){Ne.debug("AttributeManager: Parsing attributes with colon...");let r=t.querySelectorAll("*");for(let f of r){let e=f.attributes;for(let i=0;i<e.length;i++){let o=e[i];if(o.name.startsWith(":")){Ne.debug("AttributeManager: Found attribute:",o);let h=o.name.substring(1),g=o.value;this.updateElementAttribute(f,h,g),this.domManager.registerDomDependency(g,f,{type:"attribute",attribute:h,expression:g}),f.removeAttribute(o.name)}}}}updateElementAttribute(t,r,f){let e=""+this.model.store.get(f);e===void 0||e==="undefined"||(Ne.debug(`AttributeManager: Updating attribute ${r} with ${e}`),r==="class"?t.className=e:r==="disabled"||r==="checked"||r==="selected"||r==="readonly"?e?t.setAttribute(r,""):t.removeAttribute(r):t.setAttribute(r,e))}update(t,r,f){Ne.debug("AttributeManager: Updating element:",t),Ne.debug(`	 Attribute: ${r} for:`,f),this.updateAttributes(t,r,f),this.updateElementAttribute(t,r,f)}},L_=class{constructor(t,r){Ne.DEBUG_LEVEL=r.options.debug?4:0,Ne.debug("EventManager: Init EventManager"),this.domManager=t,this.model=r,this.eventHandlers=new Map,Ne.debug("EventManager: EventManager initialized")}parseEvents(t){Ne.debug("EventManager: Parsing events with @...");let r=t.querySelectorAll("*");[t,...Array.from(r)].forEach(f=>{Array.from(f.attributes||[]).forEach(e=>{if(e.name.startsWith("@")){Ne.debug(`EventManager: Found attribute with "@" ${e.name} in`,f);let i=e.name.substring(1),o=e.value.trim();this.bindEventHandler(f,i,o),f.removeAttribute(e.name)}})})}bindEventHandler(t,r,f){Ne.debug(`EventManager: Binding event handler with expression ${f} for ${r} on`,t);let e=o=>{try{let h={$model:this.model,$event:o,$data:this.model.data,$dom:this.domManager},g=f.match(/(\w+)\((.*)\)/);if(g){let _=g[1],C=g[2],S=(F,N)=>F.split(".").reduce((q,Y)=>q&&q[Y]!==void 0?q[Y]:void 0,N),A=S(_,this.model);if(A||(A=S(_,window)),typeof A=="function"){let F=[];C.trim()&&(F=C.split(",").map(N=>(N=N.trim(),N.startsWith('"')&&N.endsWith('"')||N.startsWith("'")&&N.endsWith("'")?N.slice(1,-1):isNaN(N)?N==="$event"?(Ne.debug("EventManager: Requested Event",o),o):N==="$model"?(Ne.debug("EventManager: Requested Model",this.model),this.model):N==="$data"?(Ne.debug("EventManager: Requested Model Context",this.model.data),this.model.data):N==="$dom"?(Ne.debug("EventManager: Requested DOMManager",this.domManager),this.domManager):this.model.store.get(N):Number(N)))),A.apply(h,F)}else console.warn(`EventManager: The method '${_}' not found in a model or global space!`)}else this.model.options.useSimpleExpressions?new Function(`return ${f}`).apply(this.model.data):console.warn(`EventManager: Unknown format of the event handler: '${f}'`)}catch(h){console.error(`EventManager: Error when performing an event processor '${r}': ${h.message}`)}};this.eventHandlers.has(t)||this.eventHandlers.set(t,new Map);let i=this.eventHandlers.get(t);i.has(r)&&t.removeEventListener(r,i.get(r)),i.set(r,e),t.addEventListener(r,e)}removeEventHandler(t,r){if(Ne.debug(`EventManager: Removing event handler for ${r} on`,t),this.eventHandlers.has(t)){let f=this.eventHandlers.get(t);if(f.has(r)){let e=f.get(r);t.removeEventListener(r,e),f.delete(r),f.size===0&&this.eventHandlers.delete(t)}}}updateEvents(t){Ne.debug("EventManager: Updating events for",t),Array.from(t.attributes||[]).forEach(r=>{if(r.name.startsWith("@")){let f=r.name.substring(1),e=r.value.trim();this.bindEventHandler(t,f,e),t.removeAttribute(r.name)}})}destroy(){Ne.debug("EventManager: Destroying EventManager"),this.eventHandlers.forEach((t,r)=>{t.forEach((f,e)=>{Ne.debug(`EventManager: Removing event handler for ${e} on`,r),r.removeEventListener(e,f)})}),this.eventHandlers.clear(),Ne.debug("EventManager: Destroyed")}},O_=class{constructor(t){Ne.DEBUG_LEVEL=t.options.debug?4:0,Ne.debug("DOMManager: Init DOMManager"),this.model=t,this.elements=[],this.inputs=[],this.domDependencies=new Map,this.virtualDom=new Map,this.loopManager=new M_(this,t),this.conditionalManager=new F_(this,t),this.attributeManager=new I_(this,t),this.eventManager=new L_(this,t),Ne.debug("DOMManager: DOMManager initialized")}registerDomDependency(t,r,f){this.domDependencies.has(t)||this.domDependencies.set(t,new Set),this.domDependencies.get(t).add({element:r,...f})}processTemplateNode(t,r){if(Ne.debug("DOMManager: processTemplateNode",{node:t,context:r}),t.nodeType===Node.TEXT_NODE){let f=t.textContent,e=t.textContent.replace(/\{\{\s*([^}]+)\s*\}\}/g,(i,o)=>{o=o.trim();let h=r?((g,_)=>_.split(".").reduce((C,S)=>C?C[S]:void 0,g))(r,o):void 0;return h===void 0&&(h=this.model.store.get(o)),h!==void 0?h:""});f!==e&&(Ne.debug(`DOMManager: updated node text from ${f} to ${e}`),t.textContent=e)}else t.nodeType===Node.ELEMENT_NODE&&Array.from(t.childNodes).forEach(f=>{this.processTemplateNode(f,r)})}parse(t){Ne.debug("DOMManager: parse from",t);let r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null),f,e=/\{\{\s*([^}]+)\s*\}\}/g;for(;f=r.nextNode();){let o,h=f.textContent,g=h;for(e.lastIndex=0;(o=e.exec(h))!==null;){Ne.debug(`DOMManager: parse match found for ${h}`,o);let _=o[1].trim();this.registerDomDependency(_,f,{type:"template",template:g}),this.elements.push({node:f,propName:_,template:g})}Ne.debug("DOMManager: update virtual DOM set",{node:f,text:f.textContent}),this.virtualDom.set(f,f.textContent)}Ne.debug("DOMManager: Find inputs with data-model directive...");let i=t.querySelectorAll("[data-model]");Ne.debug("DOMManager: Found inputs with data-model:",i.length),i.forEach(o=>{let h=o.getAttribute("data-model");Ne.debug("DOMManager: Register handler for:",{input:o,property:h});let g=_=>{let C=o.type==="checkbox"||o.type==="radio"?_.target.checked:_.target.value;this.model.store.set(h,C)};o.__modelInputHandler=g,o.addEventListener("input",g),this.inputs.push({element:o,property:h})})}setInputValue(t,r){t.type==="checkbox"||t.type==="radio"?t.checked=!!r:t.value=r}updateInputs(t,r){Ne.debug("DOMManager: updateInputs",{propName:t,value:r}),this.inputs.forEach(f=>{f.property===t&&(Ne.debug("DOMManager: update input",{item:f,value:r}),this.setInputValue(f.element,r))})}updateAllDOM(){Ne.debug("DOMManager: updateAllDOM"),this.elements.forEach(t=>{let r=t.template;r=r.replace(/\{\{\s*([^}]+)\s*\}\}/g,(f,e)=>(e=e.trim(),this.model.store.get(e))),t.node.textContent=r,Ne.debug("DOMManager: updated node",{element:t,newContent:r})}),Ne.debug("DOMManager: update inputs"),this.inputs.forEach(t=>{Ne.debug("DOMManager: update input",{item:t});let r=this.model.store.get(t.property);this.setInputValue(t.element,r),Ne.debug("DOMManager: updated input",{item:t,value:r})})}updateDOM(t,r){if(Ne.debug(`DOMManager: update DOM for ${t} with ${r}`),!t){console.warn("Path is undefined in updateDOM");return}let f=r&&typeof r=="object"&&"method"in r;f&&(t=r.path||t);let e=new Set;this.domDependencies.has(t)&&this.domDependencies.get(t).forEach(g=>e.add(g));let i=t.split("."),o="";for(let g=0;g<i.length;g++)o=o?`${o}.${i[g]}`:i[g],this.domDependencies.has(o)&&this.domDependencies.get(o).forEach(_=>e.add(_));if(this.conditionalManager.getDependenciesByPath(t).forEach(g=>{g.type==="if"&&this.conditionalManager.updateConditional(g.element,g.expression)}),this.domDependencies.forEach((g,_)=>{(_.startsWith(`${t}.`)||_.startsWith(`${t}[`))&&g.forEach(C=>e.add(C))}),(Array.isArray(r)||f||typeof r=="object")&&this.loopManager.updateLoops(t,r),e.size===0)return;let h={template:[],conditional:[],loop:[],attribute:[]};e.forEach(g=>{g&&g.type&&h[g.type].push(g)}),h.template.forEach(g=>this.updateTemplateNode(g.element,g.template)),h.conditional.forEach(g=>this.conditionalManager.updateConditional(g.element,g.expression)),h.attribute.forEach(g=>this.attributeManager.update(g.element,g.attribute,g.expression)),h.loop.forEach(g=>this.loopManager.updateLoopPart(g.element,g.arrayPath,r,g.index))}updateTemplateNode(t,r){let f=r.replace(/\{\{\s*([^}]+)\s*\}\}/g,(e,i)=>(i=i.trim(),this.model.store.get(i)));this.virtualDom.get(t)!==f&&(t.textContent=f,this.virtualDom.set(t,f))}isPathDependency(t,r){return r===t||r.startsWith(`${t}.`)||r.startsWith(`${t}[`)}getDependentPaths(t){let r=[];return this.domDependencies.forEach((f,e)=>{this.isPathDependency(t,e)&&r.push(e)}),r}bindDOM(t){Ne.debug("DOMManager: bind DOM from",t),this.loopManager.parseLoops(t),this.conditionalManager.parseConditionals(t),this.attributeManager.parseAttributesBind(t),this.attributeManager.parseAttributes(t),this.eventManager.parseEvents(t),this.parse(t),this.updateAllDOM(),Ne.debug("DOMManager: binding completed")}destroy(){this.inputs.forEach(({element:t})=>{t.__modelInputHandler&&(t.removeEventListener("input",t.__modelInputHandler),delete t.__modelInputHandler)}),this.elements=[],this.inputs=[],this.domDependencies.clear(),this.virtualDom.clear(),this.loopManager.destroy(),this.conditionalManager.destroy(),this.eventManager.destroy(),Ne.debug("DOMManager: destroyed")}},P_=class{constructor(t,r={}){Ne.DEBUG_LEVEL=t.options.debug?4:0,Ne.debug("Model: Init ComputedProps:",r),this.model=t,this.computed=r,this.store=t.store,this.asyncCache=new Map,this.init().then(()=>{Object.getOwnPropertyNames(this.computed).forEach(f=>{if(typeof this.computed[f].getter=="function")try{let e=this.computed[f].getter.call(this.store.getState());Ne.debug(`Initializing computed property ${f}:`,e)}catch(e){console.error(`Error initializing computed property ${f}:`,e)}}),Ne.debug("Model: ComputedProps initialized")})}async init(){let t=[];for(let r in this.computed){let f=this.evaluate(r);t.push(f),Object.defineProperty(this.model.data,r,{get:()=>{let e=this.computed[r];return e.isAsync?this.asyncCache.get(r):e.value},enumerable:!0,configurable:!0})}await Promise.all(t);for(let r in this.computed){let f=this.computed[r].isAsync?this.asyncCache.get(r):this.computed[r].value;this.model.dom.updateDOM(r,f),this.model.dom.updateInputs(r,f)}return!0}async evaluate(t,r=!1){let f=this.computed[t],e=new Set,i=new Proxy(this.store.getState(),{get:(h,g)=>{e.add(g);let _=h[g];return _&&typeof _=="object"?new Proxy(_,{get:(C,S)=>(e.add(`${g}.${S}`),C[S])}):_}}),o=f.getter.constructor.name==="AsyncFunction";f.isAsync=o;try{let h=await f.getter.call(i);return f.dependencies=[...e],o?this.asyncCache.set(t,h):f.value=h,this.store.emit("compute",{key:t,value:h,dependencies:e,isAsync:o}),h}catch(h){throw console.error(`Error evaluating computed property "${t}":`,h),h}}async update(t){let r=[];for(let f in this.computed){let e=(async()=>{let i=await this.evaluate(f);this.model.dom.updateDOM(f,i),this.model.dom.updateInputs(f,i)})();r.push(e)}await Promise.all(r)}all(){return Object.fromEntries(Object.entries(this.computed).map(([t,r])=>[t,r.value]))}},B_=class Fu extends Mf{constructor(r,f={}){Ne.DEBUG_LEVEL=r.model.options.debug?4:0,Ne.debug("Init StateManager:",f),super(),this.store=r,this.options=Object.assign({id:"model"},f),Ne.debug("StateManager initialized")}static isStorageAvailable(){try{let r="__test__";return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch{return!1}}saveState(){if(!Fu.isStorageAvailable())return console.warn("localStorage is not available"),null;let r={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};try{return localStorage.setItem(this.options.id,JSON.stringify(r)),this.emit("saveState",r),r}catch(f){return console.error("Error saving state:",f),this.emit("saveStateError",f),null}}restoreState(){if(!Fu.isStorageAvailable())return console.warn("localStorage is not available"),null;try{let r=localStorage.getItem(this.options.id);if(r){let f=JSON.parse(r);return Object.assign(this.store.state,f.data),this.emit("restoreState",f),f}}catch(r){this.emit("restoreStateError",r)}}createSnapshot(){if(!Fu.isStorageAvailable())return console.warn("localStorage is not available"),null;let r={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};return this.emit("createSnapshot",r),r}restoreSnapshot(r){return Fu.isStorageAvailable()?r?(Object.assign(this.store.state,r.data),this.emit("restoreSnapshot",r),r):null:(console.warn("localStorage is not available"),null)}enableAutoSave(r=5e3){this.autoSaveInterval=setInterval(()=>{this.saveState()},r)}disableAutoSave(){clearInterval(this.autoSaveInterval)}},N_={id:"model",useSimpleExpressions:!0,debug:!1,plugins:[],validators:[],formatters:[]},R_=class extends Mf{constructor(t={},r={}){super(),this.options={...N_,...r},Ne.DEBUG_LEVEL=this.options.debug?4:0,Ne.debug("Creating a model with data:",t),Ne.debug("Configuration options:",r),this.computed={};for(let f in t)typeof t[f]=="function"&&(Ne.debug(`Registration calculated property "${f}"`),this.computed[f]={getter:t[f],value:null,dependencies:[]},delete t[f]);if(this.store=new A_(t,this),this.data=this.store.state,this.dom=new O_(this),this.computedProps=new P_(this,this.computed),this.stateManager=new B_(this.store),this.plugins=new Map,this.options.plugins)for(let f of this.options.plugins){let{name:e,plugin:i,options:o}=f;e&&i&&typeof i=="function"&&this.registerPlugin(e,i,o)}if(this.options.validators)for(let f of this.options.validators){let{path:e,validator:i}=f;e&&i&&typeof i=="function"&&this.addValidator(e,i)}if(this.options.formatters)for(let f of this.options.formatters){let{path:e,formatter:i}=f;e&&i&&typeof i=="function"&&this.addValidator(e,i)}this.subscribe(),Ne.debug("The model was created successfully!")}subscribe(){Ne.debug("Subscribing to store changes"),this.store.on("change",t=>{this.dom.updateDOM(t.path,t.newValue),this.dom.updateInputs(t.path,t.newValue),this.computedProps.update(t.path).then(()=>{}),this.emit("change",t)}),this.store.on("compute",t=>this.emit("compute",t)),this.store.on("arrayChange",t=>this.emit("arrayChange",t)),this.store.on("batchComplete",t=>this.emit("batchComplete",t)),Ne.debug("Subscribing to state manager events"),this.stateManager.on("saveState",t=>this.emit("saveState",t)),this.stateManager.on("saveStateError",t=>this.emit("saveStateError",t)),this.stateManager.on("restoreState",t=>this.emit("restoreState",t)),this.stateManager.on("restoreStateError",t=>this.emit("restoreStateError",t)),this.stateManager.on("createSnapshot",t=>this.emit("createSnapshot",t)),this.stateManager.on("restoreSnapshot",t=>this.emit("restoreSnapshot",t))}addValidator(t,r){this.store.addValidator(t,r)}addFormatter(t,r){this.store.addFormatter(t,r)}use(t){this.store.use(t)}watch(t,r){this.store.watch(t,r)}batch(t){return this.store.batch(t)}diffArrays(t,r){return this.store.detectArrayChanges(t,r)}diff(){}validate(){let t=[],r=[];for(let f in this.computed){let e=new Set,i=this._checkCyclicDependencies(f,e);i&&t.push({type:"CYCLIC_DEPENDENCY",property:f,message:`Cyclic dependence is found: ${i.join(" -> ")}`})}return this.dom.domDependencies.forEach((f,e)=>{this.store.isValidPath(e)||r.push({type:"INVALID_PATH",path:e,message:`Property ${e} used in the template, but does not exist in the model`})}),{errors:t,warnings:r}}_checkCyclicDependencies(t,r,f=[]){if(r.has(t))return[...f,t];r.add(t),f.push(t);let e=this.computed[t];if(!e||!e.dependencies)return null;for(let i of e.dependencies)if(i in this.computed){let o=this._checkCyclicDependencies(i,new Set(r),[...f]);if(o)return o}return null}validatePath(t){return this.store.isValidPath(t)}init(t){Ne.debug("Initializing DOM bindings");let r=typeof t=="string"?document.querySelector(t):t;return r||(r=document.body),Ne.debug(`Model initialized in ${t??"body"}`),Ne.debug("Binding DOM"),this.dom.bindDOM(r),this.emit("init"),Ne.debug("Initialization complete!"),this}runDevTools(t={}){return new D_(this,t)}save(){return this.stateManager.saveState()}restore(){return this.stateManager.restoreState()}snapshot(t){return t?this.stateManager.restoreSnapshot(t):this.stateManager.createSnapshot()}autoSave(t){t?this.stateManager.enableAutoSave(t):this.stateManager.disableAutoSave()}registerPlugin(t,r,f={}){if(this.plugins.has(t))throw new Error(`Plugin ${t} already registered`);this.plugins.set(t,new r(this,f))}usePlugin(t,r={}){let f=this.plugins.get(t);return f?(f.run(),this):(console.error(`Plugin ${t} not found`),this)}removePlugin(t){this.plugins.has(t)&&this.plugins.delete(t)}destroy(){this.dom.destroy(),this.store.destroy(),this.emit("destroy")}},nm=R_,z_="0.18.1",H_="18.05.2025, 14:40:40";nm.info=()=>{console.info(`%c Model %c v${z_} %c ${H_} `,"color: white; font-weight: bold; background: #0080fe","color: white; background: darkgreen","color: white; background: #0080fe;")};var $_=nm;globalThis.Model=$_,(t=>{globalThis.__version__="5.1.7",globalThis.__build_time__="14.06.2025, 11:57:54";let r=t.meta("metro:init").attr("content"),f=t.meta("metro:cloak").attr("content"),e=t.meta("metro:cloak_duration").attr("content"),i=t.meta("metro:blur").attr("content"),o=t.meta("metro:smooth").attr("content"),h=t.meta("metro:theme").attr("content"),g=t.meta("metro:info").attr("content"),_=t.meta("metro:jquery").attr("content"),C=t.meta("metro:debug").attr("content");globalThis.METRO_INIT=r?JSON.parse(r):!0,h!==void 0&&t("html").addClass(h==="auto"?t.dark?"dark-side":"":h==="dark"?"dark-side":"light-side"),globalThis.METRO_BLUR_IMAGE=i?JSON.parse(i):!1,globalThis.jquery_present=typeof globalThis.jQuery<"u",globalThis.METRO_JQUERY=_?JSON.parse(_):!0,globalThis.useJQuery=globalThis.jquery_present&&globalThis.METRO_JQUERY,globalThis.METRO_SHOW_INFO=g?JSON.parse(g):!1,globalThis.METRO_DEBUG=C?JSON.parse(C):!1,globalThis.METRO_CLOAK_REMOVE=f?`${f}`.toLowerCase():"fade",globalThis.METRO_CLOAK_DURATION=e?Number.parseInt(e):300,globalThis.METRO_SMOOTH_SCROLL=o?JSON.parse(o):!0,globalThis.METRO_DATE_FORMAT="DD.MM.YYYY",globalThis.METRO_TIME_FORMAT="HH:mm:ss",globalThis.METRO_DATETIME_FORMAT="DD.MM.YYYY HH:mm:ss",globalThis.METRO_TIMEOUT=3e3,globalThis.METRO_MEDIA=[]})(Dom);var Pd="ontouchstart"in window,V_={controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:Pd?"touchstart":"mousedown",stop:Pd?"touchend":"mouseup",move:Pd?"touchmove":"mousemove",enter:Pd?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",LD:"(min-width: 640px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)",XXXL:"(min-width: 2000px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452,XXXL:2e3},media_mode:{FS:"fs",XS:"xs",SM:"sm",LD:"ld",MD:"md",LG:"lg",XL:"xl",XXL:"xxl",XXXL:"xxxl"},media_modes:["fs","xs","sm","ld","md","lg","xl","xxl","xxxl"],actions:{NONE:0,REMOVE:1,HIDE:2,MINIMIZE:3,MAXIMIZE:4,CLOSE:5,RESTORE:6,SHOW:7},theme:{LIGHT:"light",DARK:"dark"}};(t=>{if(typeof Dom>"u")throw new Error("Metro UI requires Dom library!");if(!("MutationObserver"in window))throw new Error("Metro UI requires MutationObserver!");let r="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,f=i=>typeof i!="string"?void 0:i.replace(/-/g,"").toLowerCase(),e={version:"5.1.7",build_time:"14.06.2025, 11:57:54",buildNumber:0,isTouchable:r,fullScreenEnabled:document.fullscreenEnabled,sheet:null,hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},info:()=>{globalThis.METRO_SHOW_INFO&&e.welcome()},welcome:()=>{console.info(`%c METRO UI %c v${e.version} %c ${e.build_time} `,"color: pink; font-weight: bold; background: #800000","color: white; background: darkgreen","color: white; background: #0080fe;"),globalThis.$&&t.info&&t.info(),globalThis.Hooks&&Hooks.info&&Hooks.info(),globalThis.HTML&&HTML.info&&HTML.info(),globalThis.Farbe&&Farbe.info&&Farbe.info(),globalThis.Datetime&&Datetime.info&&Datetime.info(),globalThis.Str&&Str.info&&Str.info(),globalThis.G&&G.info&&G.info(),globalThis.Router&&Router.info&&Router.info(),globalThis.Model&&Model.info&&Model.info()},aboutDlg:()=>{alert(`Metro UI - v${e.version}`)},observe:()=>{let i={childList:!0,attributes:!0,subtree:!0},o=h=>{h.map(g=>{if(g.type==="attributes"&&g.attributeName!=="data-role")if(g.attributeName==="data-hotkey")e.initHotkeys([g.target],!0);else{let _=t(g.target),C=_.data("metroComponent"),S=g.attributeName,A=_.attr(S),F=g.oldValue;C!==void 0&&(_.fire("attr-change",{attr:S,newValue:A,oldValue:F,__this:_[0]}),t.each(C,function(){let N=e.getPlugin(_,this);N&&typeof N.changeAttribute=="function"&&N.changeAttribute(S,A,F)}))}else if(g.type==="childList"&&g.addedNodes.length>0){let _=[],C=[],S,A,F=g.addedNodes;if(F.length){for(let N of t(F).find("[data-hotkey]"))C.push(t(N));for(let N=0;N<F.length;N++)A=F[N],S=t(A),S.attr("data-role")!==void 0&&_.push(A),t.each(S.find("[data-role]"),function(){_.indexOf(this)===-1&&_.push(this)});_.length&&e.initWidgets(_,"observe"),C.length&&e.initHotkeys(C)}}})};new MutationObserver(o).observe(t("html")[0],i)},init:()=>{let i=t("[data-role]"),o=t("[data-hotkey]"),h=t("html");if(e.i18n.load(h.attr("lang")),e.info(),r===!0&&h.addClass("touchable-device"),e.sheet=e.utils.newCssSheet(),e.utils.addCssRule(e.sheet,"*, *::before, *::after","box-sizing: border-box;"),globalThis.METRO_MEDIA=[],t.each(e.media_queries,(g,_)=>{e.utils.media(_)&&globalThis.METRO_MEDIA.push(e.media_mode[g])}),e.observe(),e.initHotkeys(o),e.initWidgets(i,"init"),globalThis.METRO_CLOAK_REMOVE!=="fade"?(t(".m4-cloak").removeClass("m4-cloak"),t(".cloak").removeClass("cloak"),t(globalThis).fire("metro-initiated")):t(".m4-cloak, .cloak").animate({draw:{opacity:[0,1]},dur:300,onDone:()=>{t(".m4-cloak").removeClass("m4-cloak"),t(".cloak").removeClass("cloak"),t(globalThis).fire("metro-initiated")}}),t(document).on("click","[data-copy-to-clipboard]",function(){let g=t(this).attr("data-copy-to-clipboard");e.utils.copy2clipboard(g),e.toast&&e.toast.create(`Data ${g} copied to clipboard!`)}),METRO_SMOOTH_SCROLL){let g=document.querySelectorAll('a.smooth-scroll[href^="#"]');for(let _ of g)_.addEventListener("click",C=>{C.preventDefault();let S=_.getAttribute("href");document.querySelector(S).scrollIntoView({behavior:"smooth",block:"start"})})}},initHotkeys:(i,o)=>{t.each(i,function(){let h=t(this),g=h.attr("data-hotkey")?h.attr("data-hotkey").toLowerCase():!1,_=h.attr("data-hotkey-func")?h.attr("data-hotkey-func"):!1;g!==!1&&(h.data("hotKeyBonded")===!0&&o!==!0||(e.hotkeys[g]=[this,_],h.data("hotKeyBonded",!0),h.fire("hot-key-bonded",{__this:h[0],hotkey:g,fn:_})))})},initWidgets:i=>{t.each(i,function(){let o=t(this);this.hasAttribute("data-role")&&o.attr("data-role").split(/\s*,\s*/).map(h=>{let g=e.utils.$(),_=f(h);if(g.fn[_]!==void 0&&o.attr(`data-role-${_}`)===void 0)try{g.fn[_].call(o),o.attr(`data-role-${_}`,!0);let C=o.data("metroComponent");C===void 0?C=[_]:C.push(_),o.data("metroComponent",C),o.fire("create",{__this:o[0],name:_}),t(document).fire("component-create",{element:o[0],name:_})}catch(C){throw console.error(`Error creating component ${h} for `,o[0]),C}})}),e.i18n.updateUI()},plugin:(i,o)=>{let h=f(i),g=_=>{_.fn[h]=function(C){return this.each(function(){_.data(this,h,Object.create(o).init(C,this))})}};g(Dom),globalThis.useJQuery&&g(globalThis.jQuery)},pluginExists:i=>typeof(globalThis.useJQuery?globalThis.jQuery:Dom).fn[f(i)]=="function",destroyPlugin:(i,o)=>{let h=t(i),g=f(o),_=e.getPlugin(h,g);if(typeof _>"u"){console.warn(`Component ${o} can not be destroyed: the element is not a Metro UI component.`);return}if(typeof _.destroy!="function"){console.warn(`Component ${o} can not be destroyed: method destroy not found.`);return}_.destroy();let C=h.data("metroComponent");e.utils.arrayDelete(C,g),h.data("metroComponent",C),t.removeData(h[0],g),h.removeAttr(`data-role-${g}`)},destroyPluginAll:i=>{let o=t(i),h=o.data("metroComponent");h!==void 0&&h.length>0&&t.each(h,function(){e.destroyPlugin(o[0],this)})},noop:()=>{},noop_true:()=>!0,noop_false:()=>!1,noop_arg:i=>i,requestFullScreen:i=>{i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullScreen?i.webkitRequestFullScreen():i.msRequestFullscreen?i.msRequestFullscreen():i.requestFullscreen().catch(o=>{console.warn(`Error attempting to enable full-screen mode: ${o.message} ${o.name}`)})},exitFullScreen:()=>{document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch(i=>{console.warn(`Error attempting to disable full-screen mode: ${i.message} ${i.name}`)})},inFullScreen:()=>(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)!==void 0,$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,get$el:i=>e.$()(t(i)[0]),get$elements:i=>e.$()(t(i)),getPlugin:(i,o)=>{let h=f(o),g=e.get$el(i);return g.length?g.data(h):void 0},getPlugins:i=>{let o=e.get$el(i),h=o.data("metroComponent");return h===void 0?[]:h.map(g=>{let _=f(g);return o.data(_)})},makePlugin:(i,o,h)=>{let g=f(o),_=e.get$elements(i);return _.length&&typeof _[g]=="function"?_[g](h):void 0},Component:(i,o)=>{let h=f(i),g=e.utils,_=t.extend({name:h},{_super:function(C,S,A,F){this.elem=C,this.element=t(C),this.options=t.extend({},A,S),this.component=this.elem,this.locale="en",this.strings={},this._setOptionsFromDOM(),this._runtime(),this._setLocale(),F&&typeof F=="object"&&t.each(F,(N,q)=>{this[N]=q}),this._createExec()},_setOptionsFromDOM:function(){let C=this.element,S=this.options;t.each(C.data(),(A,F)=>{if(A in S)try{S[A]=JSON.parse(F)}catch{S[A]=F}})},_runtime:function(){let C=this.element,S,A=(C.attr("data-role")||"").toArray(",").map(F=>f(F)).filter(F=>F.trim()!=="");C.attr(`data-role-${this.name}`)||(C.attr(`data-role-${this.name}`,!0),A.indexOf(this.name)===-1&&(A.push(this.name),C.attr("data-role",A.join(","))),S=C.data("metroComponent"),S===void 0?S=[this.name]:S.push(this.name),C.data("metroComponent",S))},_createExec:function(){let C=this.options[`${this.name}Deferred`];C?setTimeout(()=>{this._create()},C):this._create()},_fireEvent:function(C,S,A,F,N=null){let q=this.element,Y=this.options,te=str(C).camelCase().capitalize(!1).value,Ae=t.extend({},S,{__this:q[0]});return A&&(console.warn(A),console.warn(`Event: on${te}`),console.warn("Data: ",S),console.warn("Element: ",q[0])),F!==!0&&q.fire(te.toLowerCase(),S),g.exec(Y[`on${te}`],Object.values(Ae),N||q[0])},_fireEvents:function(C,S,A,F,N){let q=this;if(arguments.length===0)return;if(arguments.length===1)return t.each(C,function(){q._fireEvent(this.name,this.data,this.log,this.noFire,N)}),g.objectLength(C);if(!Array.isArray(C)&&typeof C!="string")return;let Y=Array.isArray(C)?C:C.toArray(",");t.each(Y,function(){q._fireEvent(this,S,A,F,N)})},_setLocale:function(){let C=this.element.closest("[lang]");C.length>0?this.locale=C.attr("lang"):this.locale=t("html").attr("lang")||"en",this.strings=t.extend({},e.locales.en,e.locales[this.locale])},_addLabel:(C,S,{id:A,dir:F="ltr",className:N}={})=>{if(!C)return;let q=t("<label>").addClass("label-for-input").addClass(N).html(C).insertBefore(t(S));A&&q.attr("for",A),F==="rtl"&&q.addClass("rtl")},getComponent:function(){return this.component},getComponentName:function(){return this.name}},o);return e.plugin(h,_),_},fetch:{status:i=>i.ok?Promise.resolve(i):Promise.reject(new Error(i.statusText)),json:i=>i.json(),text:i=>i.text(),form:i=>i.formData(),blob:i=>i.blob(),buffer:i=>i.arrayBuffer()},i18n:{language:"en",load(i="en"){e.i18n.language=e.locales[i]?i:"en",e.locale=e.locales[e.i18n.language]},add(i,o){e.locales[i]=o},get(i,o){return e.locales[o]&&e.locales[o][i]?e.locales[o][i]:""},updateUI(i,o){let h=o||t.html().attr("lang")||"en",g=i||document;if(e.locales[h]){e.i18n.load(h),t.html().attr("lang",h);for(let _ of g.querySelectorAll("[data-i18n]")){let C=_.getAttribute("data-i18n");_.innerHTML=e.i18n.get(C,h)}}},extend(i){t.each(i,(o,h)=>{e.locales[o]=Object.assign({},e.locales[o],h)})}}};return Object.assign(e,V_),t(globalThis).on(e.events.resize,()=>{globalThis.METRO_MEDIA=[],t.each(e.media_queries,(i,o)=>{e.utils.media(o)&&globalThis.METRO_MEDIA.push(e.media_mode[i])})}),globalThis.Metro=e,globalThis.METRO_INIT===!0&&t(()=>{e.init()}),e})(Dom),Metro.i18n.add("en",{weekStart:0,january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",january_short:"Jan",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dec",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday_short:"Sun",monday_short:"Mon",tuesday_short:"Tue",wednesday_short:"Wed",thursday_short:"Thu",friday_short:"Fri",saturday_short:"Sat",sunday_short_2:"Su",monday_short_2:"Mo",tuesday_short_2:"Tu",wednesday_short_2:"We",thursday_short_2:"Th",friday_short_2:"Fr",saturday_short_2:"Sa",label_ok:"OK",label_cancel:"Cancel",label_done:"Done",label_today:"Today",label_now:"Now",label_clear:"Clear",label_help:"Help",label_yes:"Yes",label_no:"No",label_random:"Random",label_save:"Save",label_reset:"Reset",label_submit:"Submit",label_add_user_color:"Add to swatches",label_send:"Send",label_accept:"Accept",label_cookies_title:"This site uses cookies",label_cookies_text:"This website uses cookies to ensure you get the best experience on our website.",label_choose_file:"Choose file(s)",label_drop_file:"Click or drop file(s) here",label_files_selected:"{n} file(s) selected",label_days:"days",label_hours:"hours",label_minutes:"min",label_seconds:"sec",label_month:"mon",label_months:"mon's",label_day:"day",label_year:"year",label_years:"years",label_rows_count:"Show:",label_search:"Search:",label_table_info:"Showing $1 to $2 of $3 entries",label_prev:"Prev",label_next:"Next",label_all:"All",label_inspector:"Inspector",label_goto_page:"Goto",label_enter_page:"Enter page...",label_empty:"Nothing to show",label_user_colors:"User Colors",label_tiles:"Tiles",label_list:"List",label_load_more:"Load more",label_buy:"Buy",label_buy_now:"Buy now",label_buy_today:"Buy today",label_download:"Download",label_search_results:"Search results",label_add:"Add",label_edit:"Edit",label_delete:"Delete",label_new:"New",label_sell:"Sell",label_details:"Details",label_sorting:"Sorting",label_finish:"Finish",label_play:"Play",label_pause:"Pause",label_stop:"Stop",label_mute:"Mute",label_loop:"Loop",label_on:"on",label_off:"off",label_rename_tab:"Rename tab",label_close_tab:"Close tab",label_close_other_tabs:"Close other tabs",label_close_tabs_left:"Close tabs left",label_close_tabs_right:"Close tabs right",label_close_all_tabs:"Close all tabs",label_close_inactive_tabs:"Close inactive tabs",label_clear_input:"Clear input",label_reveal_password:"Reveal password",label_hide_password:"Hide password",label_generate_random:"Generate random value",label_search_input:"Search for the entered value",label_note:"Note",label_tip:"Tip",label_info:"Info",label_warning:"Warning",label_question:"Question",label_error:"Error",label_success:"Success",label_caution:"Caution",label_alert:"Alert",label_bug:"Bug",label_fuck:"Fuck",label_important:"Important",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("uk",{weekStart:1,january:"Січень",february:"Лютий",march:"Березень",april:"Квітень",may:"Травень",june:"Червень",july:"Липень",august:"Серпень",september:"Вересень",october:"Жовтень",november:"Листопад",december:"Грудень",january_short:"Січ",february_short:"Лют",march_short:"Бер",april_short:"Кві",may_short:"Тра",june_short:"Чер",july_short:"Лип",august_short:"Сер",september_short:"Вер",october_short:"Жов",november_short:"Лис",december_short:"Гру",sunday:"Неділя",monday:"Понеділок",tuesday:"Вівторок",wednesday:"Середа",thursday:"Четвер",friday:"П'ятниця",saturday:"Субота",sunday_short:"Нед",monday_short:"Пон",tuesday_short:"Вів",wednesday_short:"Сер",thursday_short:"Чет",friday_short:"Птн",saturday_short:"Суб",sunday_short_2:"Нд",monday_short_2:"Пн",tuesday_short_2:"Вт",wednesday_short_2:"Ср",thursday_short_2:"Чт",friday_short_2:"Пт",saturday_short_2:"Сб",label_ok:"OK",label_cancel:"Відміна",label_done:"Виконано",label_today:"Сьогодні",label_now:"Зараз",label_clear:"Очистити",label_help:"Допомога",label_yes:"Так",label_no:"Ні",label_random:"Випадково",label_save:"Зберігти",label_reset:"Скинути",label_submit:"Відправити",label_add_user_color:"Додати до зразків",label_send:"Відправити",label_accept:"Прийняти",label_cookies_title:"Цей сайт використовує файли cookie",label_cookies_text:"Цей веб-сайт використовує файли cookie, щоб забезпечити вам найкращий досвід використання нашого веб-сайту.",label_choose_file:"Виберіть файл(и)",label_drop_file:"Натисніть або перетягніть файл(и) сюди",label_files_selected:"Вибрано {n} файл(ів)",label_days:"дні",label_hours:"год",label_minutes:"хвил",label_seconds:"сек",label_month:"міс",label_months:"місяці",label_day:"день",label_year:"рік",label_years:"років",label_rows_count:"Показати:",label_search:"Пошук:",label_table_info:"Відображено з $1 по $2 із $3 записів",label_prev:"Попередній",label_next:"Наступний",label_all:"Усі",label_inspector:"Інспектор",label_goto_page:"Перейти",label_enter_page:"Введіть сторінку...",label_empty:"Нічого показати",label_user_colors:"Кольори користувача",label_tiles:"Плитка",label_list:"Список",label_load_more:"Показати ще",label_buy:"Купити",label_buy_now:"Купити зараз",label_buy_today:"Купити сьогодні",label_download:"Завантажити",label_search_results:"Результати пошуку",label_add:"Додати",label_edit:"Редагувати",label_delete:"Видалити",label_new:"Нове",label_sell:"Продати",label_details:"Подробиці",label_sorting:"Сортування",label_finish:"Завершити",label_play:"Відтворити",label_pause:"Пауза",label_stop:"Зупинити",label_mute:"Без звуку",label_loop:"Повторювати",label_on:"увм",label_off:"вим",label_rename_tab:"Перейменувати вкладку",label_close_tab:"Закрити вкладку",label_close_other_tabs:"Закрити інші вкладки",label_close_tabs_left:"Закрити вкладки ліворуч",label_close_tabs_right:"Закрити вкладки праворуч",label_close_all_tabs:"Закрийте всі вкладки",label_close_inactive_tabs:"Закрити неактивні вкладки",label_clear_input:"Очистити введення",label_reveal_password:"Відкрити пароль",label_hide_password:"Приховати пароль",label_generate_random:"Генерувати випадковe значення",label_search_input:"Шукати введене значення",label_note:"Примітка",label_tip:"Підказка",label_info:"Інформація",label_warning:"Увага",label_question:"Питання",label_error:"Помилка",label_success:"Успіх",label_caution:"Обережно",label_alert:"Попередження",label_bug:"Помилка",label_fuck:"Бля",label_important:"Важливо",label_shit:"От лайно",label_air:"Пуффф...",label_select_all:"Вибрати усі",label_select_more:"Виберіть...",label_select:"Вибрати",label_filter:"Фільтр",label_collapse:"Згорнути"}),Metro.i18n.add("pt",{weekStart:0,january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",january_short:"Jan",february_short:"Fev",march_short:"Mar",april_short:"Abr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Set",october_short:"Out",november_short:"Nov",december_short:"Dez",sunday:"Domingo",monday:"Segunda-feira",tuesday:"Terça-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"Sábado",sunday_short:"Dom",monday_short:"Seg",tuesday_short:"Ter",wednesday_short:"Qua",thursday_short:"Qui",friday_short:"Sex",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"S",tuesday_short_2:"T",wednesday_short_2:"Q",thursday_short_2:"Q",friday_short_2:"S",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Concluído",label_today:"Hoje",label_now:"Agora",label_clear:"Limpar",label_help:"Ajuda",label_yes:"Sim",label_no:"Não",label_random:"Aleatório",label_save:"Salvar",label_reset:"Redefinir",label_submit:"Enviar",label_add_user_color:"Adicionar aos tons",label_send:"Enviar",label_accept:"Aceitar",label_cookies_title:"Este site usa cookies",label_cookies_text:"Este site utiliza cookies para garantir a melhor experiência em nosso site.",label_choose_file:"Escolher arquivo(s)",label_drop_file:"Clique ou solte o(s) arquivo(s) aqui",label_files_selected:"{n} arquivo(s) selecionado(s)",label_days:"dias",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mês",label_months:"meses",label_day:"dia",label_year:"ano",label_years:"anos",label_rows_count:"Mostrar:",label_search:"Pesquisar:",label_table_info:"Mostrando $1 a $2 de $3 entradas",label_prev:"Anterior",label_next:"Próximo",label_all:"Todos",label_inspector:"Inspetor",label_goto_page:"Ir para",label_enter_page:"Digite a página...",label_empty:"Nada para mostrar",label_user_colors:"Cores do usuário",label_tiles:"Blocos",label_list:"Lista",label_load_more:"Carregar mais",label_buy:"Comprar",label_buy_now:"Comprar agora",label_buy_today:"Comprar hoje",label_download:"Baixar",label_search_results:"Resultados da pesquisa",label_add:"Adicionar",label_edit:"Editar",label_delete:"Excluir",label_new:"Novo",label_sell:"Vender",label_details:"Detalhes",label_sorting:"Ordenação",label_finish:"Finalizar",label_play:"Reproduzir",label_pause:"Pausar",label_stop:"Parar",label_mute:"Silenciar",label_loop:"Repetir",label_on:"lig",label_off:"des",label_rename_tab:"Renomear aba",label_close_tab:"Fechar aba",label_close_other_tabs:"Fechar outras abas",label_close_tabs_left:"Fechar abas à esquerda",label_close_tabs_right:"Fechar abas à direita",label_close_all_tabs:"Fechar todas as abas",label_close_inactive_tabs:"Fechar abas inativas",label_clear_input:"Limpar entrada",label_reveal_password:"Mostrar senha",label_hide_password:"Ocultar senha",label_generate_random:"Gerar valor aleatório",label_search_input:"Pesquisar o valor inserido",label_note:"Nota",label_tip:"Dica",label_info:"Informação",label_warning:"Aviso",label_question:"Pergunta",label_error:"Erro",label_success:"Sucesso",label_caution:"Cuidado",label_alert:"Alerta",label_bug:"Erro",label_fuck:"Droga",label_important:"Importante",label_shit:"Merda",label_air:"Ar",label_select_all:"Selecionar tudo",label_select_more:"Selecionar...",label_select:"Selecionar",label_filter:"Filtrar",label_collapse:"Recolher"}),Metro.i18n.add("pt-BR",{weekStart:0,january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",january_short:"Jan",february_short:"Fev",march_short:"Mar",april_short:"Abr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Set",october_short:"Out",november_short:"Nov",december_short:"Dez",sunday:"Domingo",monday:"Segunda",tuesday:"Terça",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"Sábado",sunday_short:"Dom",monday_short:"Seg",tuesday_short:"Ter",wednesday_short:"Qua",thursday_short:"Qui",friday_short:"Sex",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"S",tuesday_short_2:"T",wednesday_short_2:"Q",thursday_short_2:"Q",friday_short_2:"S",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Pronto",label_today:"Hoje",label_now:"Agora",label_clear:"Limpar",label_help:"Ajuda",label_yes:"Sim",label_no:"Não",label_random:"Aleatório",label_save:"Salvar",label_reset:"Resetar",label_submit:"Enviar",label_add_user_color:"Adicionar às amostras",label_send:"Enviar",label_accept:"Aceitar",label_cookies_title:"Este site usa cookis",label_cookies_text:"Este site utiliza cookies para garantir que você tenha a melhor experiência.",label_choose_file:"Escolher arquivo(s)",label_drop_file:"Clique ou solte arquivo(s) aqui",label_files_selected:"{n} arquivo(s) selecionado(s)",label_days:"dias",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mês",label_months:"meses",label_day:"dia",label_year:"ano",label_years:"anos",label_rows_count:"Exibir:",label_search:"Pesquisar:",label_table_info:"Exibindo de $1 até $2 de um total de $3 registros",label_prev:"Anterior",label_next:"Próximo",label_all:"Todos",label_inspector:"Inspetor",label_goto_page:"Ir para",label_enter_page:"Digite a página...",label_empty:"Nada para exibir",label_user_colors:"Cores do usuário",label_tiles:"Blocos",label_list:"Lista",label_load_more:"Carregar mais",label_buy:"Comprar",label_buy_now:"Comprar agora",label_buy_today:"Comprar hoje",label_download:"Download",label_search_results:"Pesquisar resultados",label_add:"Adicionar",label_edit:"Editar",label_delete:"Excluir",label_new:"Novo",label_sell:"Vender",label_details:"Detalhes",label_sorting:"Ordenar",label_finish:"Finalizar",label_play:"Reproduzir",label_pause:"Pausar",label_stop:"Parar",label_mute:"Silenciar",label_loop:"Repetir",label_on:"lig",label_off:"des",label_rename_tab:"Renomear aba",label_close_tab:"Fechar aba",label_close_other_tabs:"Fechar outras abas",label_close_tabs_left:"Fechar abas a esquerda",label_close_tabs_right:"Fechar abas a direita",label_close_all_tabs:"Fechar todas as abas",label_close_inactive_tabs:"Fechar abas inativas",label_clear_input:"Limpar",label_reveal_password:"Mostrar senha",label_hide_password:"Ocultar senha",label_generate_random:"Gerar valor aleatório",label_search_input:"Pesquisar pelo valor",label_note:"Nota",label_tip:"Dica",label_info:"Informação",label_warning:"Aviso",label_question:"Questão",label_error:"Erro",label_success:"Sucesso",label_caution:"Cuidado",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falha catastrótico",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("es",{weekStart:0,january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",january_short:"Ene",february_short:"Feb",march_short:"Mar",april_short:"Abr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mié",thursday_short:"Jue",friday_short:"Vie",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"X",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Hecho",label_today:"Hoy",label_now:"Ahora",label_clear:"Limpiar",label_help:"Ayuda",label_yes:"Sí",label_no:"No",label_random:"Aleatorio",label_save:"Guardar",label_reset:"Restablecer",label_submit:"Enviar",label_add_user_color:"Añadir a colores",label_send:"Enviar",label_accept:"Aceptar",label_cookies_title:"Este sitio utiliza cookies",label_cookies_text:"Este sitio web utiliza cookies para garantizar que obtenga la mejor experiencia en nuestro sitio web.",label_choose_file:"Seleccionar archivo(s)",label_drop_file:"Haga clic o suelte archivo(s) aquí",label_files_selected:"{n} archivo(s) seleccionado(s)",label_days:"días",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mes",label_months:"meses",label_day:"día",label_year:"año",label_years:"años",label_rows_count:"Mostrar:",label_search:"Buscar:",label_table_info:"Mostrando $1 a $2 de $3 entradas",label_prev:"Anterior",label_next:"Siguiente",label_all:"Todo",label_inspector:"Inspector",label_goto_page:"Ir a",label_enter_page:"Introducir página...",label_empty:"Nada que mostrar",label_user_colors:"Colores de usuario",label_tiles:"Cuadrículas",label_list:"Lista",label_load_more:"Cargar más",label_buy:"Comprar",label_buy_now:"Comprar ahora",label_buy_today:"Comprar hoy",label_download:"Descargar",label_search_results:"Resultados de búsqueda",label_add:"Añadir",label_edit:"Editar",label_delete:"Eliminar",label_new:"Nuevo",label_sell:"Vender",label_details:"Detalles",label_sorting:"Ordenar",label_finish:"Finalizar",label_play:"Reproducir",label_pause:"Pausa",label_stop:"Detener",label_mute:"Silenciar",label_loop:"Repetir",label_on:"enc",label_off:"apa",label_rename_tab:"Renombrar pestaña",label_close_tab:"Cerrar pestaña",label_close_other_tabs:"Cerrar otras pestañas",label_close_tabs_left:"Cerrar pestañas a la izquierda",label_close_tabs_right:"Cerrar pestañas a la derecha",label_close_all_tabs:"Cerrar todas las pestañas",label_close_inactive_tabs:"Cerrar pestañas inactivas",label_clear_input:"Limpiar entrada",label_reveal_password:"Mostrar contraseña",label_hide_password:"Ocultar contraseña",label_generate_random:"Generar valor aleatorio",label_search_input:"Buscar el valor ingresado",label_note:"Nota",label_tip:"Consejo",label_info:"Información",label_warning:"Advertencia",label_question:"Pregunta",label_error:"Error",label_success:"Éxito",label_caution:"Precaución",label_alert:"Alerta",label_bug:"Error",label_fuck:"Maldición",label_important:"Importante",label_shit:"Mierda",label_air:"Aire",label_select_all:"Seleccionar todo",label_select_more:"Seleccionar...",label_select:"Seleccionar",label_filter:"Filtrar",label_collapse:"Colapsar"}),Metro.i18n.add("es-ES",{weekStart:0,january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",january_short:"Ene",february_short:"Feb",march_short:"Mar",april_short:"Abr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mié",thursday_short:"Jue",friday_short:"Vie",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Listo",label_today:"Hoy",label_now:"Ahora",label_clear:"Limpiar",label_help:"Ayuda",label_yes:"Sí",label_no:"No",label_random:"Aleatorio",label_save:"Guardar",label_reset:"Restablecer",label_submit:"Enviar",label_add_user_color:"Agregar a la paleta",label_send:"Enviar",label_accept:"Aceptar",label_cookies_title:"Este sitio usa cookies",label_cookies_text:"Este sitio utiliza cookies para garantizar que tengas la mejor experiencia.",label_choose_file:"Elegir archivo(s)",label_drop_file:"Haz clic o suelta archivo(s) aquí",label_files_selected:"{n} archivo(s) seleccionado(s)",label_days:"días",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mes",label_months:"meses",label_day:"día",label_year:"año",label_years:"años",label_rows_count:"Mostrar:",label_search:"Buscar:",label_table_info:"Mostrando de $1 a $2 de un total de $3 registros",label_prev:"Anterior",label_next:"Siguiente",label_all:"Todos",label_inspector:"Inspector",label_goto_page:"Ir a la página",label_enter_page:"Escribe la página...",label_empty:"Nada para mostrar",label_user_colors:"Colores del usuario",label_tiles:"Cuadrículas",label_list:"Lista",label_load_more:"Cargar más",label_buy:"Comprar",label_buy_now:"Comprar ahora",label_buy_today:"Comprar hoy",label_download:"Descargar",label_search_results:"Buscar resultados",label_add:"Agregar",label_edit:"Editar",label_delete:"Eliminar",label_new:"Nuevo",label_sell:"Vender",label_details:"Detalles",label_sorting:"Ordenar",label_finish:"Finalizar",label_play:"Reproducir",label_pause:"Pausa",label_stop:"Detener",label_mute:"Silenciar",label_loop:"Repetir",label_on:"enc",label_off:"apa",label_rename_tab:"Renombrar pestaña",label_close_tab:"Cerrar pestaña",label_close_other_tabs:"Cerrar otras pestañas",label_close_tabs_left:"Cerrar pestañas a la izquierda",label_close_tabs_right:"Cerrar pestañas a la derecha",label_close_all_tabs:"Cerrar todas las pestañas",label_close_inactive_tabs:"Cerrar pestañas inactivas",label_clear_input:"Limpiar",label_reveal_password:"Mostrar contraseña",label_hide_password:"Ocultar contraseña",label_generate_random:"Generar valor aleatorio",label_search_input:"Buscar por valor",label_note:"Nota",label_tip:"Consejo",label_info:"Información",label_warning:"Advertencia",label_question:"Pregunta",label_error:"Error",label_success:"Éxito",label_caution:"Precaución",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falla catastrófica",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("de",{weekStart:1,january:"Januar",february:"Februar",march:"März",april:"April",may:"Mai",june:"Juni",july:"Juli",august:"August",september:"September",october:"Oktober",november:"November",december:"Dezember",january_short:"Jan",february_short:"Feb",march_short:"Mär",april_short:"Apr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Okt",november_short:"Nov",december_short:"Dez",sunday:"Sonntag",monday:"Montag",tuesday:"Dienstag",wednesday:"Mittwoch",thursday:"Donnerstag",friday:"Freitag",saturday:"Samstag",sunday_short:"So",monday_short:"Mo",tuesday_short:"Di",wednesday_short:"Mi",thursday_short:"Do",friday_short:"Fr",saturday_short:"Sa",sunday_short_2:"S",monday_short_2:"M",tuesday_short_2:"D",wednesday_short_2:"M",thursday_short_2:"D",friday_short_2:"F",saturday_short_2:"S",label_ok:"OK",label_cancel:"Abbrechen",label_done:"Fertig",label_today:"Heute",label_now:"Jetzt",label_clear:"Löschen",label_help:"Hilfe",label_yes:"Ja",label_no:"Nein",label_random:"Zufällig",label_save:"Speichern",label_reset:"Zurücksetzen",label_submit:"Absenden",label_add_user_color:"Zu den Farben hinzufügen",label_send:"Senden",label_accept:"Akzeptieren",label_cookies_title:"Diese Seite verwendet Cookies",label_cookies_text:"Diese Website verwendet Cookies, um sicherzustellen, dass Sie die beste Erfahrung auf unserer Website machen.",label_choose_file:"Datei(en) auswählen",label_drop_file:"Klicken oder Datei(en) hier ablegen",label_files_selected:"{n} Datei(en) ausgewählt",label_days:"Tage",label_hours:"Stunden",label_minutes:"Min",label_seconds:"Sek",label_month:"Monat",label_months:"Monate",label_day:"Tag",label_year:"Jahr",label_years:"Jahre",label_rows_count:"Anzeigen:",label_search:"Suchen:",label_table_info:"Zeige $1 bis $2 von $3 Einträgen",label_prev:"Zurück",label_next:"Weiter",label_all:"Alle",label_inspector:"Inspektor",label_goto_page:"Gehe zu",label_enter_page:"Seite eingeben...",label_empty:"Nichts zu zeigen",label_user_colors:"Benutzerfarben",label_tiles:"Kacheln",label_list:"Liste",label_load_more:"Mehr laden",label_buy:"Kaufen",label_buy_now:"Jetzt kaufen",label_buy_today:"Heute kaufen",label_download:"Herunterladen",label_search_results:"Suchergebnisse",label_add:"Hinzufügen",label_edit:"Bearbeiten",label_delete:"Löschen",label_new:"Neu",label_sell:"Verkaufen",label_details:"Details",label_sorting:"Sortierung",label_finish:"Beenden",label_play:"Abspielen",label_pause:"Pause",label_stop:"Stopp",label_mute:"Stummschalten",label_loop:"Wiederholen",label_on:"an",label_off:"aus",label_rename_tab:"Tab umbenennen",label_close_tab:"Tab schließen",label_close_other_tabs:"Andere Tabs schließen",label_close_tabs_left:"Tabs links schließen",label_close_tabs_right:"Tabs rechts schließen",label_close_all_tabs:"Alle Tabs schließen",label_close_inactive_tabs:"Inaktive Tabs schließen",label_clear_input:"Eingabe löschen",label_reveal_password:"Passwort anzeigen",label_hide_password:"Passwort verbergen",label_generate_random:"Zufälligen Wert generieren",label_search_input:"Nach eingegebenem Wert suchen",label_note:"Notiz",label_tip:"Tipp",label_info:"Info",label_warning:"Warnung",label_question:"Frage",label_error:"Fehler",label_success:"Erfolg",label_caution:"Vorsicht",label_alert:"Alarm",label_bug:"Fehler",label_fuck:"Mist",label_important:"Wichtig",label_shit:"Scheiße",label_air:"Luft",label_select_all:"Alles auswählen",label_select_more:"Mehr auswählen...",label_select:"Auswählen",label_filter:"Filter",label_collapse:"Einklappen"}),Metro.i18n.add("fr",{weekStart:1,january:"Janvier",february:"Février",march:"Mars",april:"Avril",may:"Mai",june:"Juin",july:"Juillet",august:"Août",september:"Septembre",october:"Octobre",november:"Novembre",december:"Décembre",january_short:"Jan",february_short:"Fév",march_short:"Mar",april_short:"Avr",may_short:"Mai",june_short:"Juin",july_short:"Juil",august_short:"Aoû",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Déc",sunday:"Dimanche",monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sunday_short:"Dim",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mer",thursday_short:"Jeu",friday_short:"Ven",saturday_short:"Sam",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Annuler",label_done:"Terminé",label_today:"Aujourd'hui",label_now:"Maintenant",label_clear:"Effacer",label_help:"Aide",label_yes:"Oui",label_no:"Non",label_random:"Aléatoire",label_save:"Enregistrer",label_reset:"Réinitialiser",label_submit:"Soumettre",label_add_user_color:"Ajouter aux couleurs",label_send:"Envoyer",label_accept:"Accepter",label_cookies_title:"Ce site utilise des cookies",label_cookies_text:"Ce site utilise des cookies pour vous garantir la meilleure expérience sur notre site.",label_choose_file:"Choisir le(s) fichier(s)",label_drop_file:"Cliquez ou déposez le(s) fichier(s) ici",label_files_selected:"{n} fichier(s) sélectionné(s)",label_days:"jours",label_hours:"heures",label_minutes:"min",label_seconds:"sec",label_month:"mois",label_months:"mois",label_day:"jour",label_year:"année",label_years:"années",label_rows_count:"Afficher :",label_search:"Rechercher :",label_table_info:"Affichage de $1 à $2 sur $3 entrées",label_prev:"Préc",label_next:"Suiv",label_all:"Tout",label_inspector:"Inspecteur",label_goto_page:"Aller à",label_enter_page:"Entrer la page...",label_empty:"Rien à afficher",label_user_colors:"Couleurs utilisateur",label_tiles:"Tuiles",label_list:"Liste",label_load_more:"Charger plus",label_buy:"Acheter",label_buy_now:"Acheter maintenant",label_buy_today:"Acheter aujourd'hui",label_download:"Télécharger",label_search_results:"Résultats de recherche",label_add:"Ajouter",label_edit:"Modifier",label_delete:"Supprimer",label_new:"Nouveau",label_sell:"Vendre",label_details:"Détails",label_sorting:"Tri",label_finish:"Terminer",label_play:"Lire",label_pause:"Pause",label_stop:"Arrêter",label_mute:"Muet",label_loop:"Boucle",label_on:"act",label_off:"dés",label_rename_tab:"Renommer l'onglet",label_close_tab:"Fermer l'onglet",label_close_other_tabs:"Fermer les autres onglets",label_close_tabs_left:"Fermer les onglets à gauche",label_close_tabs_right:"Fermer les onglets à droite",label_close_all_tabs:"Fermer tous les onglets",label_close_inactive_tabs:"Fermer les onglets inactifs",label_clear_input:"Effacer l'entrée",label_reveal_password:"Afficher le mot de passe",label_hide_password:"Masquer le mot de passe",label_generate_random:"Générer une valeur aléatoire",label_search_input:"Rechercher la valeur saisie",label_note:"Note",label_tip:"Astuce",label_info:"Info",label_warning:"Avertissement",label_question:"Question",label_error:"Erreur",label_success:"Succès",label_caution:"Prudence",label_alert:"Alerte",label_bug:"Bug",label_fuck:"Merde",label_important:"Important",label_shit:"Fichu",label_air:"Air",label_select_all:"Tout sélectionner",label_select_more:"Sélectionner...",label_select:"Sélectionner",label_filter:"Filtrer",label_collapse:"Réduire"}),Metro.i18n.add("it",{weekStart:1,january:"Gennaio",february:"Febbraio",march:"Marzo",april:"Aprile",may:"Maggio",june:"Giugno",july:"Luglio",august:"Agosto",september:"Settembre",october:"Ottobre",november:"Novembre",december:"Dicembre",january_short:"Gen",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"Mag",june_short:"Giu",july_short:"Lug",august_short:"Ago",september_short:"Set",october_short:"Ott",november_short:"Nov",december_short:"Dic",sunday:"Domenica",monday:"Lunedì",tuesday:"Martedì",wednesday:"Mercoledì",thursday:"Giovedì",friday:"Venerdì",saturday:"Sabato",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mer",thursday_short:"Gio",friday_short:"Ven",saturday_short:"Sab",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"G",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Annulla",label_done:"Fatto",label_today:"Oggi",label_now:"Adesso",label_clear:"Cancella",label_help:"Aiuto",label_yes:"Sì",label_no:"No",label_random:"Casuale",label_save:"Salva",label_reset:"Reimposta",label_submit:"Invia",label_add_user_color:"Aggiungi ai colori",label_send:"Invia",label_accept:"Accetta",label_cookies_title:"Questo sito utilizza i cookie",label_cookies_text:"Questo sito utilizza i cookie per garantire la migliore esperienza sul nostro sito.",label_choose_file:"Scegli file",label_drop_file:"Clicca o trascina qui il file",label_files_selected:"{n} file selezionati",label_days:"giorni",label_hours:"ore",label_minutes:"min",label_seconds:"sec",label_month:"mese",label_months:"mesi",label_day:"giorno",label_year:"anno",label_years:"anni",label_rows_count:"Mostra:",label_search:"Cerca:",label_table_info:"Mostra da $1 a $2 di $3 elementi",label_prev:"Prec",label_next:"Succ",label_all:"Tutti",label_inspector:"Ispettore",label_goto_page:"Vai a",label_enter_page:"Inserisci pagina...",label_empty:"Niente da mostrare",label_user_colors:"Colori utente",label_tiles:"Piastrelle",label_list:"Lista",label_load_more:"Carica altro",label_buy:"Compra",label_buy_now:"Compra ora",label_buy_today:"Compra oggi",label_download:"Scarica",label_search_results:"Risultati di ricerca",label_add:"Aggiungi",label_edit:"Modifica",label_delete:"Elimina",label_new:"Nuovo",label_sell:"Vendi",label_details:"Dettagli",label_sorting:"Ordinamento",label_finish:"Termina",label_play:"Riproduci",label_pause:"Pausa",label_stop:"Arresta",label_mute:"Silenzia",label_loop:"Ripeti",label_on:"acc",label_off:"spe",label_rename_tab:"Rinomina scheda",label_close_tab:"Chiudi scheda",label_close_other_tabs:"Chiudi altre schede",label_close_tabs_left:"Chiudi schede a sinistra",label_close_tabs_right:"Chiudi schede a destra",label_close_all_tabs:"Chiudi tutte le schede",label_close_inactive_tabs:"Chiudi schede inattive",label_clear_input:"Cancella input",label_reveal_password:"Mostra password",label_hide_password:"Nascondi password",label_generate_random:"Genera valore casuale",label_search_input:"Cerca il valore inserito",label_note:"Nota",label_tip:"Suggerimento",label_info:"Info",label_warning:"Avviso",label_question:"Domanda",label_error:"Errore",label_success:"Successo",label_caution:"Attenzione",label_alert:"Allarme",label_bug:"Bug",label_fuck:"Cavolo",label_important:"Importante",label_shit:"Accidenti",label_air:"Aria",label_select_all:"Seleziona tutto",label_select_more:"Seleziona...",label_select:"Seleziona",label_filter:"Filtro",label_collapse:"Riduci"}),Metro.i18n.add("zh",{weekStart:0,january:"一月",february:"二月",march:"三月",april:"四月",may:"五月",june:"六月",july:"七月",august:"八月",september:"九月",october:"十月",november:"十一月",december:"十二月",january_short:"1月",february_short:"2月",march_short:"3月",april_short:"4月",may_short:"5月",june_short:"6月",july_short:"7月",august_short:"8月",september_short:"9月",october_short:"10月",november_short:"11月",december_short:"12月",sunday:"星期日",monday:"星期一",tuesday:"星期二",wednesday:"星期三",thursday:"星期四",friday:"星期五",saturday:"星期六",sunday_short:"日",monday_short:"一",tuesday_short:"二",wednesday_short:"三",thursday_short:"四",friday_short:"五",saturday_short:"六",sunday_short_2:"日",monday_short_2:"一",tuesday_short_2:"二",wednesday_short_2:"三",thursday_short_2:"四",friday_short_2:"五",saturday_short_2:"六",label_ok:"确定",label_cancel:"取消",label_done:"完成",label_today:"今天",label_now:"现在",label_clear:"清除",label_help:"帮助",label_yes:"是",label_no:"否",label_random:"随机",label_save:"保存",label_reset:"重置",label_submit:"提交",label_add_user_color:"添加到颜色",label_send:"发送",label_accept:"接受",label_cookies_title:"本网站使用Cookies",label_cookies_text:"本网站使用Cookies以确保您在我们的网站上获得最佳体验。",label_choose_file:"选择文件",label_drop_file:"点击或拖放文件到此处",label_files_selected:"已选择 {n} 个文件",label_days:"天",label_hours:"小时",label_minutes:"分钟",label_seconds:"秒",label_month:"月",label_months:"月",label_day:"天",label_year:"年",label_years:"年",label_rows_count:"显示：",label_search:"搜索：",label_table_info:"显示 $1 到 $2，共 $3 条记录",label_prev:"上一页",label_next:"下一页",label_all:"全部",label_inspector:"检查器",label_goto_page:"跳转到",label_enter_page:"输入页码...",label_empty:"没有内容显示",label_user_colors:"用户颜色",label_tiles:"网格",label_list:"列表",label_load_more:"加载更多",label_buy:"购买",label_buy_now:"立即购买",label_buy_today:"今天购买",label_download:"下载",label_search_results:"搜索结果",label_add:"添加",label_edit:"编辑",label_delete:"删除",label_new:"新建",label_sell:"出售",label_details:"详情",label_sorting:"排序",label_finish:"完成",label_play:"播放",label_pause:"暂停",label_stop:"停止",label_mute:"静音",label_loop:"循环",label_on:"开",label_off:"关",label_rename_tab:"重命名标签",label_close_tab:"关闭标签",label_close_other_tabs:"关闭其他标签",label_close_tabs_left:"关闭左侧标签",label_close_tabs_right:"关闭右侧标签",label_close_all_tabs:"关闭所有标签",label_close_inactive_tabs:"关闭未激活的标签",label_clear_input:"清除输入",label_reveal_password:"显示密码",label_hide_password:"隐藏密码",label_generate_random:"生成随机值",label_search_input:"搜索输入的值",label_note:"备注",label_tip:"提示",label_info:"信息",label_warning:"警告",label_question:"问题",label_error:"错误",label_success:"成功",label_caution:"注意",label_alert:"警报",label_bug:"错误",label_fuck:"糟糕",label_important:"重要",label_shit:"糟糕",label_air:"空气",label_select_all:"全选",label_select_more:"选择更多...",label_select:"选择",label_filter:"过滤",label_collapse:"折叠"}),Metro.i18n.add("hi",{weekStart:0,january:"जनवरी",february:"फरवरी",march:"मार्च",april:"अप्रैल",may:"मई",june:"जून",july:"जुलाई",august:"अगस्त",september:"सितंबर",october:"अक्टूबर",november:"नवंबर",december:"दिसंबर",january_short:"जन",february_short:"फर",march_short:"मार्च",april_short:"अप्रै",may_short:"मई",june_short:"जून",july_short:"जुल",august_short:"अग",september_short:"सित",october_short:"अक्टू",november_short:"नव",december_short:"दिस",sunday:"रविवार",monday:"सोमवार",tuesday:"मंगलवार",wednesday:"बुधवार",thursday:"गुरुवार",friday:"शुक्रवार",saturday:"शनिवार",sunday_short:"रवि",monday_short:"सोम",tuesday_short:"मंगल",wednesday_short:"बुध",thursday_short:"गुरु",friday_short:"शुक्र",saturday_short:"शनि",sunday_short_2:"र",monday_short_2:"सो",tuesday_short_2:"मं",wednesday_short_2:"बु",thursday_short_2:"गु",friday_short_2:"शु",saturday_short_2:"श",label_ok:"ठीक है",label_cancel:"रद्द करें",label_done:"समाप्त",label_today:"आज",label_now:"अभी",label_clear:"साफ करें",label_help:"मदद",label_yes:"हाँ",label_no:"नहीं",label_random:"यादृच्छिक",label_save:"सहेजें",label_reset:"रीसेट करें",label_submit:"जमा करें",label_add_user_color:"रंगों में जोड़ें",label_send:"भेजें",label_accept:"स्वीकार करें",label_cookies_title:"यह साइट कुकीज़ का उपयोग करती है",label_cookies_text:"यह वेबसाइट यह सुनिश्चित करने के लिए कुकीज़ का उपयोग करती है कि आपको हमारी वेबसाइट पर सबसे अच्छा अनुभव मिले।",label_choose_file:"फ़ाइलें चुनें",label_drop_file:"यहां क्लिक करें या फ़ाइलें छोड़ें",label_files_selected:"{n} फ़ाइलें चुनी गईं",label_days:"दिन",label_hours:"घंटे",label_minutes:"मिनट",label_seconds:"सेकंड",label_month:"महीना",label_months:"महीने",label_day:"दिन",label_year:"साल",label_years:"साल",label_rows_count:"दिखाएं:",label_search:"खोजें:",label_table_info:"$1 से $2 तक $3 प्रविष्टियां दिखा रहा है",label_prev:"पिछला",label_next:"अगला",label_all:"सभी",label_inspector:"निरीक्षक",label_goto_page:"पृष्ठ पर जाएं",label_enter_page:"पृष्ठ दर्ज करें...",label_empty:"दिखाने के लिए कुछ नहीं",label_user_colors:"उपयोगकर्ता रंग",label_tiles:"टाइल्स",label_list:"सूची",label_load_more:"और लोड करें",label_buy:"खरीदें",label_buy_now:"अभी खरीदें",label_buy_today:"आज खरीदें",label_download:"डाउनलोड करें",label_search_results:"खोज परिणाम",label_add:"जोड़ें",label_edit:"संपादित करें",label_delete:"हटाएं",label_new:"नया",label_sell:"बेचें",label_details:"विवरण",label_sorting:"छंटाई",label_finish:"समाप्त करें",label_play:"चलाएं",label_pause:"रोकें",label_stop:"बंद करें",label_mute:"म्यूट करें",label_loop:"दोहराएं",label_on:"चालू",label_off:"बंद",label_rename_tab:"टैब का नाम बदलें",label_close_tab:"टैब बंद करें",label_close_other_tabs:"अन्य टैब बंद करें",label_close_tabs_left:"बाएं टैब बंद करें",label_close_tabs_right:"दाएं टैब बंद करें",label_close_all_tabs:"सभी टैब बंद करें",label_close_inactive_tabs:"निष्क्रिय टैब बंद करें",label_clear_input:"इनपुट साफ करें",label_reveal_password:"पासवर्ड दिखाएं",label_hide_password:"पासवर्ड छिपाएं",label_generate_random:"यादृच्छिक मान उत्पन्न करें",label_search_input:"दर्ज किए गए मान को खोजें",label_note:"नोट",label_tip:"सुझाव",label_info:"जानकारी",label_warning:"चेतावनी",label_question:"प्रश्न",label_error:"त्रुटि",label_success:"सफलता",label_caution:"सावधानी",label_alert:"चेतावनी",label_bug:"बग",label_fuck:"धत्त",label_important:"महत्वपूर्ण",label_shit:"बकवास",label_air:"हवा",label_select_all:"सभी का चयन करें",label_select_more:"चुनें...",label_select:"चुनें",label_filter:"फ़िल्टर",label_collapse:"संकुचित करें"}),Metro.i18n.add("pl",{weekStart:1,january:"Styczeń",february:"Luty",march:"Marzec",april:"Kwiecień",may:"Maj",june:"Czerwiec",july:"Lipiec",august:"Sierpień",september:"Wrzesień",october:"Październik",november:"Listopad",december:"Grudzień",january_short:"Sty",february_short:"Lut",march_short:"Mar",april_short:"Kwi",may_short:"Maj",june_short:"Cze",july_short:"Lip",august_short:"Sie",september_short:"Wrz",october_short:"Paź",november_short:"Lis",december_short:"Gru",sunday:"Niedziela",monday:"Poniedziałek",tuesday:"Wtorek",wednesday:"Środa",thursday:"Czwartek",friday:"Piątek",saturday:"Sobota",sunday_short:"Nd",monday_short:"Pn",tuesday_short:"Wt",wednesday_short:"Śr",thursday_short:"Czw",friday_short:"Pt",saturday_short:"Sob",sunday_short_2:"N",monday_short_2:"P",tuesday_short_2:"W",wednesday_short_2:"Ś",thursday_short_2:"C",friday_short_2:"P",saturday_short_2:"S",label_ok:"OK",label_cancel:"Anuluj",label_done:"Gotowe",label_today:"Dzisiaj",label_now:"Teraz",label_clear:"Wyczyść",label_help:"Pomoc",label_yes:"Tak",label_no:"Nie",label_random:"Losowy",label_save:"Zapisz",label_reset:"Resetuj",label_submit:"Wyślij",label_add_user_color:"Dodaj do kolorów",label_send:"Wyślij",label_accept:"Akceptuj",label_cookies_title:"Ta strona używa plików cookie",label_cookies_text:"Ta strona używa plików cookie, aby zapewnić najlepsze doświadczenie na naszej stronie.",label_choose_file:"Wybierz plik(i)",label_drop_file:"Kliknij lub upuść plik(i) tutaj",label_files_selected:"Wybrano {n} plik(ów)",label_days:"dni",label_hours:"godziny",label_minutes:"minuty",label_seconds:"sekundy",label_month:"miesiąc",label_months:"miesiące",label_day:"dzień",label_year:"rok",label_years:"lata",label_rows_count:"Pokaż:",label_search:"Szukaj:",label_table_info:"Wyświetlanie od $1 do $2 z $3 wpisów",label_prev:"Poprzedni",label_next:"Następny",label_all:"Wszystko",label_inspector:"Inspektor",label_goto_page:"Idź do",label_enter_page:"Wpisz stronę...",label_empty:"Brak danych do wyświetlenia",label_user_colors:"Kolory użytkownika",label_tiles:"Kafelki",label_list:"Lista",label_load_more:"Załaduj więcej",label_buy:"Kup",label_buy_now:"Kup teraz",label_buy_today:"Kup dzisiaj",label_download:"Pobierz",label_search_results:"Wyniki wyszukiwania",label_add:"Dodaj",label_edit:"Edytuj",label_delete:"Usuń",label_new:"Nowy",label_sell:"Sprzedaj",label_details:"Szczegóły",label_sorting:"Sortowanie",label_finish:"Zakończ",label_play:"Odtwórz",label_pause:"Pauza",label_stop:"Zatrzymaj",label_mute:"Wycisz",label_loop:"Zapętl",label_on:"włą",label_off:"wył",label_rename_tab:"Zmień nazwę karty",label_close_tab:"Zamknij kartę",label_close_other_tabs:"Zamknij inne karty",label_close_tabs_left:"Zamknij karty po lewej",label_close_tabs_right:"Zamknij karty po prawej",label_close_all_tabs:"Zamknij wszystkie karty",label_close_inactive_tabs:"Zamknij nieaktywne karty",label_clear_input:"Wyczyść pole",label_reveal_password:"Pokaż hasło",label_hide_password:"Ukryj hasło",label_generate_random:"Wygeneruj losową wartość",label_search_input:"Szukaj wprowadzonej wartości",label_note:"Notatka",label_tip:"Wskazówka",label_info:"Informacja",label_warning:"Ostrzeżenie",label_question:"Pytanie",label_error:"Błąd",label_success:"Sukces",label_caution:"Uwaga",label_alert:"Alarm",label_bug:"Błąd",label_fuck:"Cholera",label_important:"Ważne",label_shit:"Kurka",label_air:"Powietrze",label_select_all:"Zaznacz wszystko",label_select_more:"Wybierz...",label_select:"Wybierz",label_filter:"Filtruj",label_collapse:"Zwiń"}),typeof Array.prototype.shuffle!="function"&&(Array.prototype.shuffle=function(){let t=this.length,r,f;for(;t!==0;)f=Math.floor(Math.random()*t),t-=1,r=this[t],this[t]=this[f],this[f]=r;return this}),typeof Array.prototype.clone!="function"&&(Array.prototype.clone=function(){return this.slice(0)}),typeof Array.prototype.unique!="function"&&(Array.prototype.unique=function(){let t=this.concat();for(let r=0;r<t.length;++r)for(let f=r+1;f<t.length;++f)t[r]===t[f]&&t.splice(f--,1);return t}),typeof Array.prototype.pack!="function"&&(Array.prototype.pack=function(){return this.filter(t=>t!=null&&`${t}`.trim()!=="")}),Number.prototype.format=function(t,r,f,e){let i=`\\d(?=(\\d{${r||3}})+${t>0?"\\D":"$"})`,o=this.toFixed(Math.max(0,~~t));return(e?o.replace(".",e):o).replace(new RegExp(i,"g"),`$&${f||","}`)},String.prototype.toArray=function(t=",",r="string",f="",e="en",i=!1){let o=`${this}`.split(t).map(h=>{let g;switch(r){case"int":case"integer":g=Number.isNaN(h)?h.trim():Number.parseInt(h);break;case"number":case"float":g=Number.isNaN(h)?h:Number.parseFloat(h);break;case"date":g=f?Datetime.from(h,f,e):datetime(h);break;case"boolean":{switch(h){case!0:case"true":case 1:case"1":case"on":case"yes":case"+":g=!0;break;default:g=!1}break}default:g=h.trim()}return g});return i?o.pack():o},((t,r)=>{t.utils={elementId:f=>`${f}-${new Date().getTime()}${r.random(1,1e3)}`,secondsToTime:f=>{let e=Math.floor(f%31536e3/86400),i=Math.floor(f%31536e3%86400/3600),o=Math.floor(f%31536e3%86400%3600/60),h=Math.round(f%31536e3%86400%3600%60);return{d:e,h:i,m:o,s:h}},secondsToFormattedString:f=>{let e=Number.parseInt(f,10),i=Math.floor(e/3600),o=Math.floor((e-i*3600)/60),h=e-i*3600-o*60;return[Str.lpad(i,"0",2),Str.lpad(o,"0",2),Str.lpad(h,"0",2)].join(":")},func:f=>new Function("a",f),exec:function(f,e,i){let o;if(f==null)return!1;let h=this.isFunc(f);h===!1&&(h=this.func(f));try{o=h.apply(i,e)}catch(g){if(o=null,globalThis.METRO_THROWS===!0)throw g}return o},embedUrl:f=>{let e=f;return e.indexOf("youtu.be")!==-1&&(e=`https://www.youtube.com/embed/${f.split("/").pop()}`),`<div class='embed-container'><iframe src='${e}'></iframe></div>`},isVisible:function(f){let e=r(f)[0];return this.getStyleOne(e,"display")!=="none"&&this.getStyleOne(e,"visibility")!=="hidden"&&e.offsetParent!==null},isUrl:f=>/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:?\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(f),isTag:f=>/^<\/?[\w\s="\/.':;#-\/?]+>/gi.test(f),isEmbedObject:f=>{let e=["iframe","object","embed","video"],i=!1;return r.each(e,function(){(typeof f=="string"&&f.toLowerCase()===this||f.nodeType!==void 0&&f.tagName.toLowerCase()===this)&&(i=!0)}),i},isVideoUrl:f=>/youtu\.be|youtube|twitch|vimeo/gi.test(f),isDate:function(f,e,i="en-US"){let o;if(this.isDateObject(f))return!0;try{return o=e?Datetime.from(f,e,i):datetime(f),Datetime.isDatetime(o)}catch{return!1}},isDateObject:f=>typeof f=="object"&&f.getMonth!==void 0,isInt:f=>!Number.isNaN(f)&&+f%1===0,isFloat:f=>!Number.isNaN(f)&&+f%1!==0||/^\d*\.\d+$/.test(f),isFunc:function(f){return this.isType(f,"function")},isObject:function(f){return this.isType(f,"object")},isObject2:f=>typeof f=="object"&&!Array.isArray(f),isType:function(f,e="undefined"){if(!this.isValue(f))return!1;if(typeof f===e||`${e}`.toLowerCase()==="tag"&&this.isTag(f)||`${e}`.toLowerCase()==="url"&&this.isUrl(f)||`${e}`.toLowerCase()==="array"&&Array.isArray(f))return f;if(e!=="string"&&this.isTag(f)||this.isUrl(f))return!1;if(typeof window[f]===e)return window[f];if(typeof f=="string"&&f.indexOf(".")===-1||typeof f=="string"&&/[/\s([]+/gm.test(f)||typeof f=="number"&&e.toLowerCase()!=="number")return!1;let i=f.split("."),o,h=window;for(o=0;o<i.length;o++)h=h[i[o]];return typeof h===e?h:!1},$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,isMetroObject:(f,e)=>{let i=r(f),o=t.getPlugin(f,e);return i.length===0?(console.warn(`${e} ${f} not found!`),!1):o===void 0?(console.warn(`Element not contain role ${e}! Please add attribute data-role="${e}" to element ${f}`),!1):!0},isJQuery:f=>typeof globalThis.jQuery<"u"&&f instanceof globalThis.jQuery,isDom:f=>typeof Dom<"u"&&f instanceof Dom,isQ:function(f){return this.isJQuery(f)||this.isDom(f)},isOutsider:function(f){let e=r(f),i=e.clone();i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),e.parent().append(i);let o=this.inViewport(i[0]);return i.remove(),!o},inViewport:function(f){let e=this.rect(f);return e.top>=0&&e.left>=0&&e.bottom<=(globalThis.innerHeight||document.documentElement.clientHeight)&&e.right<=(globalThis.innerWidth||document.documentElement.clientWidth)},viewportOutByWidth:function(f){let e=this.rect(f),i=globalThis.innerWidth||document.documentElement.clientWidth;return e.right>i},viewportOutByHeight:function(f){let e=this.rect(f),i=globalThis.innerHeight||document.documentElement.clientHeight;return e.bottom>i},viewportOut:function(f){return this.viewportOutByWidth(f)||this.viewportOutByHeight(f)},rect:f=>f.getBoundingClientRect(),getCursorPosition:function(f,e){let i=this.rect(f);return{x:this.pageXY(e).x-i.left-globalThis.scrollX,y:this.pageXY(e).y-i.top-globalThis.scrollY}},getCursorPositionX:function(f,e){return this.getCursorPosition(f,e).x},getCursorPositionY:function(f,e){return this.getCursorPosition(f,e).y},objectLength:f=>Object.keys(f).length,percent:(f,e,i)=>{if(f===0)return 0;let o=e*100/f;return i===!0?Math.round(o):Math.round(o*100)/100},objectShift:f=>{let e=0;return r.each(f,i=>{(e===0||e>i)&&(e=i)}),delete f[e],f},objectDelete:(f,e)=>{e in f&&delete f[e]},arrayDeleteByMultipleKeys:(f,e)=>{for(let i of e)delete f[i];return f.filter(i=>i!==void 0)},arrayDelete:(f,e)=>{let i=f.indexOf(e);i>-1&&f.splice(i,1)},arrayDeleteByKey:(f,e)=>{f.splice(e,1)},nvl:(f,e)=>f??e,objectClone:f=>{let e={};for(let i in f)r.hasProp(f,i)&&(e[i]=f[i]);return e},github:async function(f,e){let i=await fetch(`https://api.github.com/repos/${f}`);if(!i.ok)return;let o=await i.json();this.exec(e,[o])},pageHeight:()=>{let f=document.body,e=document.documentElement;return Math.max(f.scrollHeight,f.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},cleanPreCode:f=>{let e=Array.prototype.slice.call(document.querySelectorAll(f),0);for(let i of e){let o=i.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(o)){i.textContent=o;continue}let h,g="",_=/^[\t ]+/gm,C,S=1e3;for(;h=_.exec(o);)C=h[0].length,C<S&&(S=C,g=h[0]);S!==1e3&&(i.textContent=o.replace(new RegExp(`^${g}`,"gm"),"").trim())}},coords:f=>{let e=r(f)[0].getBoundingClientRect();return{top:e.top+globalThis.pageYOffset,left:e.left+globalThis.pageXOffset}},positionXY:function(f,e,i){switch(e){case"client":return this.clientXY(f,i);case"screen":return this.screenXY(f,i);case"page":return this.pageXY(f,i);default:return{x:0,y:0}}},clientXY:(f,e="touches")=>({x:f[e]?f[e][0].clientX:f.clientX,y:f[e]?f[e][0].clientY:f.clientY}),screenXY:(f,e="touches")=>({x:f[e]?f[e][0].screenX:f.screenX,y:f[e]?f[e][0].screenY:f.screenY}),pageXY:(f,e="touches")=>({x:f[e]?f[e][0].pageX:f.pageX,y:f[e]?f[e][0].pageY:f.pageY}),isRightMouse:f=>"which"in f?f.which===3:"button"in f?f.button===2:void 0,hiddenElementSize:(f,e=!1)=>{let i=r(f).clone(!0);i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),r("body").append(i);let o=i.outerWidth(e),h=i.outerHeight(e);return i.remove(),{width:o,height:h}},getStyle:f=>{let e=r(f)[0];return globalThis.getComputedStyle(e)},getStyleOne:function(f,e){return this.getStyle(f).getPropertyValue(e)},getInlineStyles:f=>{let e,i,o={},h=r(f)[0];for(e=0,i=h.style.length;e<i;e++){let g=h.style[e];o[g]=h.style[g]}return o},encodeURI:f=>encodeURI(f).replace(/%5B/g,"[").replace(/%5D/g,"]"),updateURIParameter:(f,e,i)=>{let o=new RegExp(`([?&])${e}=.*?(&|$)`,"i"),h=f.indexOf("?")!==-1?"&":"?";return f.match(o)?f.replace(o,`$1${e}=${i}$2`):`${f+h+e}=${i}`},getURIParameter:(f=globalThis.location.href,e="")=>{let i=e.replace(/[\[\]]/g,"\\$&"),o=new RegExp(`[?&]${i}(=([^&#]*)|&|#|$)`).exec(f);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},getLocales:()=>Object.keys(t.locales),addLocale:f=>{t.locales=r.extend({},t.locales,f)},aspectRatioH:(f,e)=>{if(e==="16/9")return f*9/16;if(e==="21/9")return f*9/21;if(e==="4/3")return f*3/4},aspectRatioW:(f,e)=>{if(e==="16/9")return f*16/9;if(e==="21/9")return f*21/9;if(e==="4/3")return f*4/3},valueInObject:(f,e)=>Object.values(f).indexOf(e)>-1,keyInObject:(f,e)=>Object.keys(f).indexOf(e)>-1,inObject:(f,e,i)=>f[e]!==void 0&&f[e]===i,newCssSheet:f=>{let e=document.createElement("style");return f!==void 0&&e.setAttribute("media",f),e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet},addCssRule:(f,e,i,o)=>{f.insertRule(`${e}{${i}}`,o)},media:f=>globalThis.matchMedia(f).matches,mediaModes:()=>globalThis.METRO_MEDIA,mediaExist:f=>globalThis.METRO_MEDIA.indexOf(f)>-1,inMedia:f=>globalThis.METRO_MEDIA.indexOf(f)>-1&&globalThis.METRO_MEDIA.indexOf(f)===globalThis.METRO_MEDIA.length-1,isValue:f=>f!=null&&f!=="",isNull:f=>f==null,isNegative:f=>Number.parseFloat(f)<0,isPositive:f=>Number.parseFloat(f)>0,isZero:f=>Number.parseFloat(f.toFixed(2))===0,between:(f,e,i,o)=>o===!0?f>=e&&f<=i:f>e&&f<i,parseMoney:f=>Number(Number.parseFloat(f.replace(/[^0-9-.]/g,""))),parseCard:f=>f.replace(/[^0-9]/g,""),parsePhone:f=>(void 0).parseCard(f),parseNumber:(f,e,i)=>f.replace(new RegExp(`\\${e}`,"g"),"").replace(new RegExp(`\\${i}`,"g"),"."),nearest:(f,e,i)=>{let o=f/e;return o=Math[i===!0?"floor":"ceil"](o)*e,o},bool:f=>{let e;switch(f){case!0:case"true":case 1:case"1":case"on":case"yes":case"+":e=!0;break;default:e=!1}return e},decCount:f=>f%1===0?0:f.toString().split(".")[1].length,classNames:(...f)=>{let e=[];for(let i of f)if(i)if(typeof i=="string")e.push(i);else if(t.utils.isObject(i))for(let o in i)i[o]&&e.push(o);else t.utils.nothing();return e.join(" ")},join:(...f)=>{let e=f.pop(),i=[];for(let o of f)o&&i.push(t.utils.isObject(o)?Object.values(o)[0]:o);return i.join(e)},copy2clipboard:(f,e)=>{navigator.clipboard.writeText(f).then(()=>{t.utils.exec(e,[f])})},getCssVar:f=>{let e=document.documentElement;return getComputedStyle(e).getPropertyValue(f)},scrollTo:(f,e)=>{(typeof f=="string"?r(f)[0]:f).scrollIntoView({...e,behavior:"smooth",block:"start"})}}})(Metro,Dom),((t,r)=>{let f={duration:300,ease:"linear"};t.Effects={switchIn:e=>{r(e).hide().css({left:0,top:0}).show()},switchOut:e=>{r(e).hide()},switch:function(e,i){this.switchOut(e),this.switchIn(i)},slideUpIn:(e,i)=>{let o=r(e),h=o.parent().outerHeight(!0),g=r.extend({},f,i);o.css({top:h,left:0,zIndex:2}).animate({draw:{top:0,opacity:1},dur:g.duration,ease:g.ease})},slideUpOut:(e,i)=>{let o=r(e),h=o.parent().outerHeight(!0),g=r.extend({},f,i);o.css({zIndex:1}).animate({draw:{top:-h,opacity:0},dur:g.duration,ease:g.ease})},slideUp:function(e,i,o){this.slideUpOut(e,o),this.slideUpIn(i,o)},slideDownIn:(e,i)=>{let o=r(e),h=o.parent().outerHeight(!0),g=r.extend({},f,i);o.css({left:0,top:-h,zIndex:2}).animate({draw:{top:0,opacity:1},dur:g.duration,ease:g.ease})},slideDownOut:(e,i)=>{let o=r(e),h=o.parent().outerHeight(!0),g=r.extend({},f,i);o.css({zIndex:1}).animate({draw:{top:h,opacity:0},dur:g.duration,ease:g.ease})},slideDown:function(e,i,o){this.slideDownOut(e,o),this.slideDownIn(i,o)},slideLeftIn:(e,i)=>{let o=r(e),h=o.parent().outerWidth(!0),g=r.extend({},f,i);o.css({left:h,zIndex:2}).animate({draw:{left:0,opacity:1},dur:g.duration,ease:g.ease})},slideLeftOut:(e,i)=>{let o=r(e),h=o.parent().outerWidth(!0),g=r.extend({},f,i);o.css({zIndex:1}).animate({draw:{left:-h,opacity:0},dur:g.duration,ease:g.ease})},slideLeft:function(e,i,o){this.slideLeftOut(e,o),this.slideLeftIn(i,o)},slideRightIn:(e,i)=>{let o=r(e),h=o.parent().outerWidth(!0),g=r.extend({},f,i);o.css({left:-h,zIndex:2}).animate({draw:{left:0,opacity:1},dur:g.duration,ease:g.ease})},slideRightOut:(e,i)=>{let o=r(e),h=o.parent().outerWidth(!0),g=r.extend({},f,i);o.css({zIndex:1}).animate({draw:{left:h,opacity:0},dur:g.duration,ease:g.ease})},slideRight:function(e,i,o){this.slideRightOut(e,o),this.slideRightIn(i,o)},fadeIn:(e,i)=>{let o=r.extend({},f,i);r(e).css({top:0,left:0,opacity:0}).animate({draw:{opacity:1},dur:o.duration,ease:o.ease})},fadeOut:(e,i)=>{let o=r.extend({},f,i);r(e).animate({draw:{opacity:0},dur:o.duration,ease:o.ease})},fade:function(e,i,o){this.fadeOut(e,o),this.fadeIn(i,o)},zoomIn:(e,i)=>{let o=r.extend({},f,i);r(e).css({top:0,left:0,opacity:0,transform:"scale(3)",zIndex:2}).animate({draw:{scale:1,opacity:1},dur:o.duration,ease:o.ease})},zoomOut:(e,i)=>{let o=r.extend({},f,i);r(e).css({zIndex:1}).animate({draw:{scale:3,opacity:0},dur:o.duration,ease:o.ease})},zoom:function(e,i,o){this.zoomOut(e,o),this.zoomIn(i,o)},swirlIn:(e,i)=>{let o=r.extend({},f,i);r(e).css({top:0,left:0,opacity:0,transform:"scale(3) rotate(180deg)",zIndex:2}).animate({draw:{scale:1,rotate:0,opacity:1},dur:o.duration,ease:o.ease})},swirlOut:(e,i)=>{let o=r.extend({},f,i);r(e).css({zIndex:1}).animate({draw:{scale:3,rotate:"180deg",opacity:0},dur:o.duration,ease:o.ease})},swirl:function(e,i,o){this.swirlOut(e,o),this.swirlIn(i,o)}}})(Metro,Dom),((t,r)=>{let f={accordionDeferred:0,showMarker:!0,material:!1,duration:100,oneFrame:!0,showActive:!0,clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:t.noop,onFrameBeforeOpen:t.noop_true,onFrameClose:t.noop,onFrameBeforeClose:t.noop_true,onAccordionCreate:t.noop};t.accordionSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroAccordionSetup<"u"&&t.accordionSetup(globalThis.metroAccordionSetup),t.Component("accordion",{init:function(e,i){return this._super(i,e,f),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:e})},_createStructure:function(){let e=this,i=this.element,o=this.options,h=i.children(".frame"),g=i.children(".frame.active"),_;i.id()||i.id(Hooks.useId("accordion")),i.addClass("accordion").addClass(o.clsAccordion),h.addClass(o.clsFrame).each(function(){let C=r(this),S=C.children(".heading"),A=C.children(".content"),F=Hooks.useId("accordion-heading"),N=Hooks.useId("accordion-content");S.attr({id:F,role:"button","aria-expanded":C.hasClass("active")?"true":"false","aria-controls":N,tabindex:"0"}),A.attr({id:N,role:"region","aria-labelledby":F}),S.addClass(o.clsHeading),A.addClass(o.clsContent)}),o.showMarker===!0&&i.addClass("marker-on"),o.material===!0&&i.addClass("material"),g.length===0?_=h[0]:_=g[0],this._hideAll(),o.showActive===!0&&(o.oneFrame===!0?this._openFrame(_):r.each(g,function(){e._openFrame(this)}))},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.children(".frame.active");i.on("keydown",".heading",function(g){let _=r(this),C=_.parent();if(_.closest(".accordion")[0]!==i[0])return!1;if((g.keyCode===13||g.keyCode===32)&&(g.preventDefault(),C.hasClass("active")?h.length===1&&o.oneFrame||e._closeFrame(C):e._openFrame(C)),g.keyCode===38||g.keyCode===40){g.preventDefault();let S=i.children(".frame"),A=S.index(C),F;g.keyCode===38?F=(A-1+S.length)%S.length:F=(A+1)%S.length,S.eq(F).children(".heading").focus()}}),i.on(t.events.click,".heading",function(){let g=r(this),_=g.parent();if(g.closest(".accordion")[0]!==i[0])return!1;_.hasClass("active")?h.length===1&&o.oneFrame||e._closeFrame(_):e._openFrame(_)})},_openFrame:function(e){let i=this.element,o=this.options,h=r(e);if(t.utils.exec(o.onFrameBeforeOpen,[h[0]],i[0])===!1)return!1;o.oneFrame===!0&&this._closeAll(h[0]),h.addClass("active").addClass(o.clsActiveFrame),h.children(".heading").addClass(o.clsActiveFrameHeading),h.children(".content").addClass(o.clsActiveFrameContent).slideDown(o.duration),this._fireEvent("frameOpen",{frame:h[0]})},_closeFrame:function(e){let i=this.element,o=this.options,h=r(e);h.hasClass("active")&&t.utils.exec(o.onFrameBeforeClose,[h[0]],i[0])!==!1&&(h.removeClass("active").removeClass(o.clsActiveFrame),h.children(".heading").removeClass(o.clsActiveFrameHeading),h.children(".content").removeClass(o.clsActiveFrameContent).slideUp(o.duration),this._fireEvent("frameClose",{frame:h[0]}))},_closeAll:function(e){let i=this,o=this.element.children(".frame");r.each(o,function(){e!==this&&i._closeFrame(this)})},_hideAll:function(){let e=this.element.children(".frame");r.each(e,function(){r(this).children(".content").hide()})},_openAll:function(){let e=this,i=this.element.children(".frame");r.each(i,function(){e._openFrame(this)})},open:function(e){let i=this.element.children(".frame").eq(e);this._openFrame(i)},close:function(e){let i=this.element.children(".frame").eq(e);this._closeFrame(i)},toggle:function(e){let i=this.element.children(".frame").eq(e);i.hasClass("active")?this._closeFrame(i):this._openFrame(i)},getActive:function(){let e=this.element.children(".frame"),i=[];return e.each(function(o){r(this).hasClass("active")&&i.push(o)}),i},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;return e.off(t.events.click,".heading"),e}})})(Metro,Dom),((t,r)=>{let f={onClick:t.noop,onActionClick:t.noop,onActionButtonCreate:t.noop};t.actionButtonSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroActionButtonSetup<"u"&&t.actionButtonSetup(globalThis.metroActionButtonSetup),t.Component("action-button",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("action-button-create")},_createStructure:function(){let e=this.element,i=e.find(".actions li, .actions button");e.addClass("action-button"),e.cssVar("num-actions",i.length),i.length>8&&e.cssVar("action-shift",`${60+(i.length-8)*6}px`),i.each(function(o){r(this).cssVar("action-index",o).addClass("sub-action")}),e.children("button").addClass("main-action")},_createEvents:function(){let e=this,i=this.element;i.on(t.events.click,".actions li, .actions button",function(o){e._fireEvent("action-click",{action:this})}),i.on(t.events.click,".main-action",function(o){o.preventDefault(),o.stopPropagation(),r(this).toggleClass("active")})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}}),r(document).on("click",e=>{r("[data-role-actionbutton]").each((i,o)=>{r(o).children("button").removeClass("active")})})})(Metro,Dom),((t,r)=>{let f={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,title:"",content:"",customButtons:null,actionsAlign:"right",defaultActions:!0,defaultActionButtons:"ok,cancel,help",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"auto",height:"auto",closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onOk:t.noop,onCancel:t.noop,onHelp:t.noop,onShow:t.noop,onHide:t.noop,onOpen:t.noop,onClose:t.noop,onDialogCreate:t.noop};t.dialogSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroDialogSetup<"u"&&t.dialogSetup(globalThis.metroDialogSetup),t.Component("dialog",{_counter:0,init:function(e,i){return this._super(i,e,f,{interval:null,overlay:null,id:null}),this},_create:function(){this._build()},_build:function(){let e=this.element,i=this.options,o=this.strings,h=r("body"),g;if(this.id=Hooks.useId(this.elem),e.addClass("dialog"),i.title!==""&&this.setTitle(i.title),i.content!==""&&this.setContent(i.content),i.defaultActions===!0||i.customButtons){let C=e.find(".dialog-actions"),S;if(C.length===0&&(C=r("<div>").addClass("dialog-actions").addClass(`text-${i.actionsAlign}`).appendTo(e)),i.defaultActions===!0&&e.find(".dialog-actions > *").length===0)for(let F of i.defaultActionButtons.toArray(","))S=r("<button>").addClass(F!=="help"?"js-dialog-close":"").addClass(i.clsDefaultAction).html(o[`label_${F}`]),S.appendTo(C),F==="ok"&&S.on(t.events.click,()=>{t.utils.exec(i.onOk,[e])}),F==="help"&&S.on(t.events.click,()=>{t.utils.exec(i.onHelp,[e])}),F==="cancel"&&S.on(t.events.click,()=>{t.utils.exec(i.onCancel,[e])});let A=t.utils.isObject(i.customButtons);Array.isArray(A)&&r.each(A,function(){S=r("<button>").addClass("button").addClass(this.cls).html(this.text),this.onclick&&S.on(t.events.click,()=>{t.utils.exec(this.onclick,[e])}),S.appendTo(C)})}i.overlay===!0&&(g=this._overlay(),this.overlay=g),i.closeAction===!0&&e.on(t.events.click,".js-dialog-close",()=>{this.close()});let _=e.find("closer");_.length===0&&(_=r("<span>").addClass("closer js-dialog-close"),_.appendTo(e)),i.closeButton!==!0&&_.hide(),e.css({height:i.height,visibility:"hidden",top:"100%"}),i.width!=="auto"&&e.css({width:i.width}),e.addClass(i.clsDialog),e.find(".dialog-title").addClass(i.clsTitle),e.find(".dialog-content").addClass(i.clsContent),e.find(".dialog-actions").addClass(i.clsAction),e.appendTo(h),i.show&&this.open(),r(globalThis).on(t.events.resize,()=>{this.setPosition()},{ns:this.id}),this._fireEvent("dialog-create",{element:e})},_overlay:function(){let e=this.options,i=r("<div>");return i.addClass("overlay").addClass(e.clsOverlay),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(e.overlayColor),e.overlayAlpha)}),i},hide:function(e){let i=this.element,o=this.options,h=0;o.onHide!==t.noop&&(h=500,this._fireEvent("hide")),setTimeout(()=>{t.utils.exec(e,null,i[0]),i.css({visibility:"hidden",top:"100%"})},h)},show:function(e){let i=this.element;this.setPosition(),i.css({visibility:"visible"}),this._fireEvent("show"),t.utils.exec(e,null,i[0])},setPosition:function(){let e=this.element,i=this.options,o,h;i.toTop!==!0&&i.toBottom!==!0?(o=(r(globalThis).height()-e.outerHeight())/2,o<0&&(o=0),h="auto"):(i.toTop===!0&&(o=0,h="auto"),i.toTop!==!0&&i.toBottom===!0&&(h=0,o="auto")),e.css({top:o,bottom:h,left:(r(globalThis).width()-e.outerWidth())/2})},setContent:function(e){let i=this.element,o=i.find(".dialog-content");o.length===0&&(o=r("<div>").addClass("dialog-content"),o.appendTo(i)),t.utils.isQ(e)?e.appendTo(o):t.utils.isFunc(e)?o.html(t.utils.exec(e)):o.html(e)},setTitle:function(e){let i=this.element,o=i.find(".dialog-title");o.length===0&&(o=r("<div>").addClass("dialog-title"),o.appendTo(i)),o.html(e)},close:function(){let e=this.element,i=this.options;t.utils.bool(i.leaveOverlayOnClose)||r("body").find(".overlay").remove(),this.hide(()=>{e.data("open",!1),this._fireEvent("close"),i.removeOnClose===!0&&e.remove()})},open:function(){let e=this.element,i=this.options;i.overlay===!0&&r(".overlay").length===0&&(this.overlay.appendTo(r("body")),i.overlayClickClose===!0&&this.overlay.on(t.events.click,()=>{this.close()})),this.show(()=>{this._fireEvent("open"),e.data("open",!0),Number.parseInt(i.autoHide)>0&&setTimeout(()=>{this.close()},Number.parseInt(i.autoHide))})},toggle:function(){this.element.data("open")?this.close():this.open()},isOpen:function(){return this.element.data("open")===!0},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off(t.events.click,".js-dialog-close"),e.find(".button").off(t.events.click),r(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}}),t.dialog={isDialog:e=>t.utils.isMetroObject(e,"dialog"),open:function(e,i,o){if(!this.isDialog(e))return!1;let h=t.getPlugin(e,"dialog");o&&h.setTitle(o),i&&h.setContent(i),h.open()},close:function(e){if(!this.isDialog(e))return!1;t.getPlugin(r(e)[0],"dialog").close()},toggle:function(e){if(!this.isDialog(e))return!1;t.getPlugin(r(e)[0],"dialog").toggle()},isOpen:function(e){if(!this.isDialog(e))return!1;t.getPlugin(r(e)[0],"dialog").isOpen()},remove:function(e){if(!this.isDialog(e))return!1;let i=t.getPlugin(r(e)[0],"dialog");i.options.removeOnClose=!0,i.close()},create:e=>{let i=r("<div>").appendTo(r("body")),o=r.extend({},{show:!0,closeAction:!0,removeOnClose:!0},e||{});return o._runtime=!0,t.makePlugin(i,"dialog",o)}}})(Metro,Dom),((t,r)=>{let f={activityDeferred:0,type:"ring",style:"",size:64,radius:20,onActivityCreate:t.noop};t.activitySetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroActivitySetup<"u"&&t.activitySetup(globalThis.metroActivitySetup),t.Component("activity",{init:function(e,i){return this._super(i,e,f),this},_create:function(){let e=this.element,i=this.options,o,h;e.html("").addClass(i.style==="dark"?"dark-side":i.style==="color"?"color-style":"").addClass(`activity-${i.type}`);function g(){for(o=0;o<5;o++)r("<div/>").addClass("circle").appendTo(e)}function _(){for(o=0;o<4;o++)r("<div/>").addClass("square").appendTo(e)}function C(){r("<div/>").addClass("cycle").appendTo(e)}function S(){for(o=0;o<5;o++)h=r("<div/>").addClass("wrap").appendTo(e),r("<div/>").addClass("circle").appendTo(h)}function A(){r(`
                    <svg class="circular">
                        <circle class="path" 
                                cx="${i.size/2}" 
                                cy="${i.size/2}" 
                                r="${i.radius}" 
                                fill="none" 
                                stroke-width="2" 
                                stroke-miterlimit="10"
                        />
                    </svg>
                `).appendTo(e)}function F(){for(o=0;o<3;o++)r("<span/>").addClass("electron").appendTo(e)}function N(){for(o=0;o<6;o++)r("<span/>").addClass("bar").appendTo(e)}switch(i.type){case"metro":g();break;case"square":_();break;case"cycle":C();break;case"simple":A();break;case"atom":F();break;case"bars":N();break;default:S()}this._fireEvent("activity-create",{element:e})},changeAttribute:e=>{},destroy:function(){this.element.remove()}}),t.activity={open:(e={})=>{let i=e,o=`<div data-role="activity" data-type="${i.type?i.type:"cycle"}" data-style="${i.style?i.style:"color"}"></div>`,h=i.text?`<div class="text-center">${i.text}</div>`:"";return t.dialog.create({content:o+h,defaultActions:!1,clsContent:"d-flex flex-column flex-center bg-transparent no-shadow w-auto",clsDialog:"no-border no-shadow bg-transparent global-dialog",autoHide:i.autoHide?i.autoHide:0,overlayClickClose:i.overlayClickClose===!0,overlayColor:i.overlayColor?i.overlayColor:"#000000",overlayAlpha:i.overlayAlpha?i.overlayAlpha:.5,clsOverlay:"global-overlay"})},close:e=>{t.dialog.close(e)}}})(Metro,Dom),((t,r)=>{let f={adblockDeferred:0,checkInterval:1e3,fireOnce:!0,checkStop:10,localhost:!1,onAlert:t.noop,onFishingStart:t.noop,onFishingDone:t.noop};t.adblockSetup=i=>{f=r.extend({},f,i)},typeof globalThis.metroAdblockSetup<"u"&&t.adblockSetup(globalThis.metroAdblockSetup);let e={bite:()=>{r("<div>").addClass("adblock-bite adsense google-adsense dblclick advert topad top_ads topAds textads sponsoredtextlink_container show_ads right-banner rekl mpu module-ad mid_ad mediaget horizontal_ad headerAd contentAd brand-link bottombanner bottom_ad_block block_ad bannertop banner-right banner-body b-banner b-article-aside__banner b-advert adwrapper adverts advertisment advertisement:not(body) advertise advert_list adtable adsense adpic adlist adleft adinfo adi adholder adframe addiv ad_text ad_space ad_right ad_links ad_body ad_block ad_Right adTitle adText".split(" ").shuffle().join(" ")).css({position:"fixed",height:1,width:1,overflow:"hidden",visibility:"visible",top:0,left:0}).append(r("<a href='https://dblclick.net'>").html("dblclick.net")).appendTo("body"),e.options.adblockDeferred?setTimeout(()=>{e.fishing()},e.options.adblockDeferred):e.fishing()},fishing:()=>{let i=e.options,o=typeof i.fireOnce=="number"?i.fireOnce:0,h=i.checkStop,g=!1,_=()=>{let C=r(".adsense.google-adsense.dblclick.advert.adblock-bite"),S=C.find("a"),A=()=>{clearInterval(g),t.utils.exec(i.onFishingDone),r(globalThis).fire("fishing-done"),C.remove()};if(!i.localhost&&r.localhost){A();return}!C.length||!S.length||C.css("display").indexOf("none")>-1||S.css("display").indexOf("none")>-1?(t.utils.exec(e.options.onAlert),r(globalThis).fire("adblock-alert"),e.options.fireOnce===!0?A():(o--,o===0&&A())):h!==!1&&(h--,h===0&&A())};t.utils.exec(i.onFishingStart),r(globalThis).fire("fishing-start"),g=setInterval(()=>{_()},e.options.checkInterval),_()}};t.Adblock=e,r(()=>{e.options=r.extend({},f),r(globalThis).on("metro-initiated",()=>{e.bite()})})})(Metro,Dom),((t,r)=>{let f={icon:null,showNumbers:!1,showMoon:!0,showDay:!0,showDigitalClock:!0,timeFormat:24,onAnalogClockCreate:t.noop};t.analogClockSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroAnalogClockSetup<"u"&&t.analogClockSetup(globalThis.metroAnalogClockSetup),t.Component("analog-clock",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("analog-clock-create")},_createStructure:function(){let e=this.element,i=this.options,o=datetime();e.addClass("analog-clock"),i.showNumbers&&e.addClass("show-numbers");for(let h=1;h<=12;h++)e.append(`<label class="dash" style="--i: ${h}"><span>${i.showNumbers?h:"|"}</span></label>`);for(let h=1;h<=90;h++)h%5!==0&&e.append(`<label class="secondary-dash" style="--i2: ${h}"><span>|</span></label>`);e.append(`
                <div class="hands">
                    <div class="hour"></div>                
                    <div class="minute"></div>                
                    <div class="second"></div>                
                </div>
                  
            `),e.append(`
                <div class="day-month">
                    <div class="day-month-inner">
                        <div class="day">${o.format("DD",this.locale)}</div>
                        <div class="month">${o.format("MMM",this.locale)}</div>                    
                    </div>
                    <div class="week-day">${o.format("dddd",this.locale)}</div>
                </div>
            `),i.showDay===!1&&e.find(".day-month").hide(),e.append(`
                <div class="digital-clock">
                    <div class="dc-hour">${o.format(i.timeFormat===24?"HH":"hh",this.locale)}</div>
                    <div class="dc-minute">${o.format("mm",this.locale)}</div>
                    <div class="dc-second">${o.format("ss",this.locale)}</div>
                </div>
            `),i.showDigitalClock===!1&&e.find(".digital-clock").hide(),i.icon&&e.append(`<div class="icon">${i.icon}</div>`),i.showMoon===!0&&e.append('<div class="moon"></div>'),this._updateTime(),setInterval(()=>{e.toggleClass("tick")},500)},_createEvents:()=>{},_updateTime:function(){let e=this.element,i=this.options,o=e.find(".second"),h=e.find(".minute"),g=e.find(".hour"),_=e.find(".dc-second"),C=e.find(".dc-minute"),S=e.find(".dc-hour"),A=e.find(".day"),F=e.find(".month"),N=e.find(".moon"),q=()=>{let Y=datetime(),te=Y.second()/60*360,Ae=Y.minute()/60*360,He=Y.hour12()/12*360,$e=Y.format("DD",this.locale),Pe=Y.format("MMM",this.locale),Se=Y.moon();o[0].style.transform=`rotate(${te}deg)`,h[0].style.transform=`rotate(${Ae}deg)`,g[0].style.transform=`rotate(${He}deg)`,A.html($e),F.html(Pe),N.removeClass("").addClass(`${Se.name}`),S[0].innerHTML=Y.format(i.timeFormat===24?"HH":"hh",this.locale),C[0].innerHTML=Y.format("mm",this.locale),_[0].innerHTML=Y.format("ss",this.locale)};q(),setInterval(q,1e3)},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,checkHamburgerColor:!1,onMenuOpen:t.noop,onMenuClose:t.noop,onBeforeMenuOpen:t.noop,onBeforeMenuClose:t.noop,onMenuCollapse:t.noop,onMenuExpand:t.noop,onAppBarCreate:t.noop};t.appBarSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroAppBarSetup<"u"&&t.appBarSetup(globalThis.metroAppBarSetup),t.Component("app-bar",{init:function(e,i){return this._super(i,e,f,{id:null}),this},_create:function(){let e=this.element;this.id=e.attr("id")||Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o,h;if(t.utils.getStyleOne(e,"background-color"),e.addClass("app-bar").attr("role","navigation"),o=e.find(".hamburger"),o.length===0){o=r("<button>").attr("type","button").addClass("hamburger menu-down").attr("aria-label","Toggle menu").attr("aria-expanded","false").attr("aria-controls",`app-bar-menu-${this.id}`);for(let g=0;g<3;g++)r("<span>").addClass("line").appendTo(o)}e.prepend(o),h=e.find(".app-bar-menu"),h.length>0&&(h.attr("id",`app-bar-menu-${this.id}`),h.attr("role","menubar")),h.length===0?o.css("display","none"):(h.find("li").attr("role","menuitem"),h.find("li a").attr("tabindex","0"),h.find("li:has(ul)").attr("aria-haspopup","true"),h.find("li ul").attr("role","menu").attr("aria-hidden","true")),o.css("display")==="block"?(h.hide().addClass("collapsed"),o.removeClass("hidden")):o.addClass("hidden"),(i.expand===!0||t.utils.isValue(i.expandPoint)&&t.utils.mediaExist(i.expandPoint))&&(e.addClass("app-bar-expand"),o.addClass("hidden")),i.checkHamburgerColor},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.find(".app-bar-menu"),g=i.find(".hamburger");i.on(t.events.click,".hamburger",()=>{h.length!==0&&(h.hasClass("collapsed")?e.open():e.close())}),g.on("keydown",_=>{(_.keyCode===13||_.keyCode===32)&&(_.preventDefault(),g.trigger("click"))}),h.find("li a").on("keydown",function(_){(_.keyCode===13||_.keyCode===32)&&(_.preventDefault(),r(this).trigger("click")),_.keyCode===27&&(_.preventDefault(),e.close(),g.focus())}),r(globalThis).on(t.events.resize,()=>{if(o.expand!==!0&&(t.utils.isValue(o.expandPoint)&&t.utils.mediaExist(o.expandPoint)?(i.addClass("app-bar-expand"),e._fireEvent("menu-expand")):(i.removeClass("app-bar-expand"),e._fireEvent("menu-collapse"))),h.length===0){g.addClass("hidden");return}h.removeClass("opened").removeClass("collapsed"),g.css("display")!=="block"?(g.addClass("hidden"),h.show()):(g.removeClass("hidden"),g.hasClass("active")?h.removeClass("collapsed").addClass("opened"):h.addClass("collapsed").removeClass("opened"))},{ns:this.id})},close:function(){let e=this.element,i=this.options,o=e.find(".app-bar-menu"),h=e.find(".hamburger");this._fireEvent("before-menu-close",{menu:o[0]}),h.attr("aria-expanded","false"),o.find("ul").attr("aria-hidden","true"),o.slideUp(i.duration,()=>{o.addClass("collapsed").removeClass("opened"),h.removeClass("active"),this._fireEvent("menu-close",{menu:o[0]})})},open:function(){let e=this.element,i=this.options,o=e.find(".app-bar-menu"),h=e.find(".hamburger");this._fireEvent("before-menu-open",{menu:o[0]}),h.attr("aria-expanded","true"),o.find("ul").attr("aria-hidden","false"),o.slideDown(i.duration,()=>{o.removeClass("collapsed").addClass("opened"),h.addClass("active"),this._fireEvent("menu-open",{menu:o[0]})})},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off(t.events.click,".hamburger"),r(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,r)=>{let f={audioVolume:.5,audioSrc:"",onStart:t.noop,onEnd:t.noop,onProgress:t.noop,onAudioButtonCreate:t.noop};t.audioButtonSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroAudioButtonSetup<"u"&&t.audioButtonSetup(globalThis.metroAudioButtonSetup),t.Component("audio-button",{init:function(e,i){return this._super(i,e,f,{audio:null,canPlay:null,id:null,playing:!1,duration:0}),this},_create:function(){let e=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("audioButtonCreate",{element:e})},_createStructure:function(){let e=this.options;this.audio=new Audio(e.audioSrc),this.audio.volume=e.audioVolume},_createEvents:function(){let e=this.element,i=this.options,o=this.audio;o.addEventListener("loadedmetadata",()=>{this.duration=o.duration.toFixed(0)}),o.addEventListener("loadeddata",()=>{this.canPlay=!0}),o.addEventListener("ended",()=>{this.playing=!1,this._fireEvent("end",{src:i.audioSrc,audio:o})}),o.addEventListener("timeupdate",()=>{let h=o.currentTime,g=Math.round(o.currentTime*100/this.duration);this._fireEvent("progress",{duration:this.duration,position:h,percent:g})}),e.on(t.events.click,()=>{this.play()},{ns:this.id})},play:function(e){let i=this.element,o=this.options,h=this.audio;if(this.playing){this.stop();return}i.addClass("playing"),o.audioSrc!==""&&this.audio.duration&&this.canPlay&&(this.playing=!0,this._fireEvent("start",{src:o.audioSrc,audio:h}),h.pause(),h.currentTime=0,h.play(),t.utils.exec(e,[h],i[0]))},stop:function(e){let i=this.element,o=this.options,h=this.audio;this.playing=!1,i.removeClass("playing"),h.pause(),h.currentTime=0,this._fireEvent("end",{src:o.audioSrc,audio:h}),t.utils.exec(e,[h],i[0])},changeAttribute:function(e){let i=this.element,o=this.options,h=this.audio,g=()=>{let C=i.attr("data-audio-src");C&&C.trim()!==""&&(o.audioSrc=C,h.src=C)},_=()=>{let C=Number.parseFloat(i.attr("data-audio-volume"));Number.isNaN(C)||(o.audioVolume=C,h.volume=C)};e==="data-audio-src"&&g(),e==="data-audio-volume"&&_()},destroy:function(){let e=this.element;e.off(t.events.click,{ns:this.id}),e.remove()}}),t.playSound=e=>{let i=typeof e=="string"?e:e.audioSrc,o=e!=null&&e.audioVolume?e.audioVolume:.5;if(!i)return;let h=new Audio(i);h.volume=Number.parseFloat(o),h.addEventListener("loadeddata",function(){e!=null&&e.onAudioStart&&t.utils.exec(e.onAudioStart,[i],this),this.play()}),h.addEventListener("ended",function(){e!=null&&e.onAudioEnd&&t.utils.exec(e.onAudioEnd,[null],this)})}})(Metro,Dom),((t,r)=>{let f={sliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:t.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:t.position.TOP,hintMask:"$1",vertical:!1,target:null,returnType:"value",size:0,label:null,hideButton:!1,clsSlider:"",clsBackside:"",clsComplete:"",clsBuffer:"",clsMarker:"",clsHint:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:t.noop,onStop:t.noop,onMove:t.noop,onSliderClick:t.noop,onChange:t.noop,onChangeValue:t.noop,onChangeBuffer:t.noop,onFocus:t.noop,onBlur:t.noop,onSliderCreate:t.noop};t.sliderSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroSliderSetup<"u"&&t.sliderSetup(globalThis.metroSliderSetup),t.Component("slider",{init:function(e,i){return this._super(i,e,f,{slider:null,value:0,percent:0,pixel:0,buffer:0,keyInterval:!1,id:null}),this},_create:function(){let e=this.element,i=this.options;this.id=e.attr("id")||Hooks.useId(this.elem),this._createSlider(),this._createEvents(),this.buff(i.buffer),this.val(i.value),this._fireEvent("slider-create",{element:e})},_createSlider:function(){let e=this.element,i=this.options,o=r("<div>").addClass("backside").addClass(i.clsBackside),h=r("<div>").addClass("complete").addClass(i.clsComplete),g=r("<div>").addClass("buffer").addClass(i.clsBuffer),_=r("<button>").attr("type","button").addClass("marker").addClass(i.clsMarker),C=r("<div>").addClass("hint").addClass(`${i.hintPosition}-side`).addClass(i.clsHint),S=e.wrap("<div>").addClass("slider").addClass(e[0].className).addClass(i.clsSlider);if(i.size>0&&(i.vertical===!0?S.outerHeight(i.size):S.outerWidth(i.size)),i.vertical===!0&&S.addClass("vertical-slider"),i.hintAlways===!0&&C.css({display:"block"}).addClass("permanent-hint"),i.label){let A=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(S);if(e.id())A.attr("for",e.id());else{let F=Hooks.useId(e[0]);A.attr("for",F),e.attr("id",F)}}if(o.appendTo(S),h.appendTo(S),g.appendTo(S),_.appendTo(S),C.appendTo(_),i.hideButton===!0&&S.addClass("hidden-button"),i.showMinMax===!0){let A=r("<div>").addClass("slider-min-max").addClass(i.clsMinMax);r("<span>").addClass("slider-text-min").addClass(i.clsMin).html(i.min).appendTo(A),r("<span>").addClass("slider-text-max").addClass(i.clsMax).html(i.max).appendTo(A),i.minMaxPosition===t.position.TOP?A.insertBefore(S):A.insertAfter(S)}e[0].className="",e.is(":disabled")?this.disable():this.enable(),this.slider=S},_createEvents:function(){let e=this.slider,i=this.options,o=e.find(".marker"),h=e.find(".hint");o.on(t.events.startAll,()=>{i.hint===!0&&i.hintAlways!==!0&&h.fadeIn(300),r(document).on(t.events.moveAll,g=>{g.cancelable&&g.preventDefault(),this._move(g),this._fireEvent("move",{val:this.value,percent:this.percent})},{ns:this.id,passive:!1}),r(document).on(t.events.stopAll,()=>{r(document).off(t.events.moveAll,{ns:this.id}),r(document).off(t.events.stopAll,{ns:this.id}),i.hintAlways!==!0&&h.fadeOut(300),this._fireEvent("stop",{val:this.value,percent:this.percent})},{ns:this.id}),this._fireEvent("start",{val:this.value,percent:this.percent})}),o.on(t.events.focus,()=>{this._fireEvent("focus",{val:this.value,percent:this.percent})}),o.on(t.events.blur,()=>{this._fireEvent("blur",{val:this.value,percent:this.percent})}),o.on(t.events.keydown,g=>{let _=g.keyCode?g.keyCode:g.which;if([37,38,39,40].indexOf(_)===-1)return;let C=i.accuracy===0?1:i.accuracy;this.keyInterval||(this.keyInterval=setInterval(()=>{let S=this.value;(g.keyCode===37||g.keyCode===40)&&(S-C<i.min?S=i.min:S-=C),(g.keyCode===38||g.keyCode===39)&&(S+C>i.max?S=i.max:S+=C),this.value=this._correct(S),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},100),g.preventDefault())}),o.on(t.events.keyup,()=>{clearInterval(this.keyInterval),this.keyInterval=!1}),e.on(t.events.click,g=>{this._move(g),this._fireEvent("slider-click",{val:this.value,percent:this.percent}),this._fireEvent("stop",{val:this.value,percent:this.percent})}),r(globalThis).on(t.events.resize,()=>{this.val(this.value),this.buff(this.buffer)},{ns:this.id})},_convert:function(e,i){let o=this.slider,h=this.options,g=(h.vertical===!0?o.outerHeight():o.outerWidth())-o.find(".marker").outerWidth();switch(i){case"pix2prc":return e*100/g;case"pix2val":return this._convert(e,"pix2prc")*((h.max-h.min)/100)+h.min;case"val2prc":return(e-h.min)/((h.max-h.min)/100);case"prc2pix":return e/(100/g);case"val2pix":return this._convert(this._convert(e,"val2prc"),"prc2pix")}return 0},_correct:function(e){let i=e,o=this.options.accuracy,h=this.options.min,g=this.options.max;return o===0||Number.isNaN(o)?i:(i=Math.round(e/o)*o,i<h&&(i=h),i>g&&(i=g),i.toFixed(t.utils.decCount(o)))},_move:function(e){let i=this.slider,o=this.options,h=i.offset(),g=i.find(".marker").outerWidth(),_=o.vertical===!0?i.outerHeight():i.outerWidth(),C=0,S=_-g,A=o.vertical===!0?t.utils.pageXY(e).y-h.top:t.utils.pageXY(e).x-h.left,F=o.vertical===!0?_-A-g/2:A-g/2;F<C||F>S||(this.value=this._correct(this._convert(F,"pix2val")),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw())},_hint:function(){let e=this.options,i=this.slider.find(".hint"),o=+this.value||0,h=+this.percent||0;e.roundValue&&(o=(t.utils.isValue(o)?+o:0).toFixed(t.utils.decCount(e.accuracy)),h=(t.utils.isValue(h)?+h:0).toFixed(t.utils.decCount(e.accuracy))),i.text(e.hintMask.replace("$1",o).replace("$2",h))},_value:function(){let e=this.element,i=this.options,o=i.returnType==="value"?this.value:this.percent,h=this.percent,g=this.buffer;if(i.roundValue&&(o=(t.utils.isValue(o)?+o:0).toFixed(t.utils.decCount(i.accuracy)),h=(t.utils.isValue(h)?+h:0).toFixed(t.utils.decCount(i.accuracy)),g=(t.utils.isValue(g)?+g:0).toFixed(t.utils.decCount(i.accuracy))),e[0].tagName==="INPUT"&&e.val(o),i.target!==null){let _=r(i.target);_.length!==0&&r.each(_,function(){let C=r(this);this.tagName==="INPUT"?C.val(o):C.text(o),C.trigger("change")})}this._fireEvent("change-value",{val:o}),this._fireEvent("change",{val:o,percent:h,buffer:g})},_marker:function(){let e=this.slider,i=this.options,o=e.find(".marker"),h=e.find(".complete"),g=i.vertical===!0?e.outerHeight():e.outerWidth(),_=Number.parseInt(t.utils.getStyleOne(o,"width")),C=t.utils.isVisible(e);C&&o.css({"margin-top":0,"margin-left":0}),i.vertical===!0?(C?o.css("top",g-this.pixel):(o.css("top",`${100-this.percent}%`),o.css("margin-top",_/2)),h.css("height",`${this.percent}%`)):(C?o.css("left",this.pixel):(o.css("left",`${this.percent}%`),o.css("margin-left",this.percent===0?0:-1*_/2)),h.css("width",`${this.percent}%`))},_redraw:function(){this._marker(),this._value(),this._hint()},_buffer:function(){let e=this.element,i=this.options,o=this.slider.find(".buffer");i.vertical===!0?o.css("height",`${this.buffer}%`):o.css("width",`${this.buffer}%`),this._fireEvent("change-buffer",{val:this.buffer}),this._fireEvent("change",{val:e.val(),percent:this.percent,buffer:this.buffer})},val:function(e){let i=this.options;if(e===void 0||Number.isNaN(e))return this.value;let o=Number.parseFloat(e);o<i.min&&(o=i.min),o>i.max&&(o=i.max),this.value=this._correct(o),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},buff:function(e){let i=this.slider.find(".buffer");if(e===void 0||Number.isNaN(e))return this.buffer;if(i.length===0)return!1;let o=Number.parseFloat(e);o>100&&(o=100),o<0&&(o=0),this.buffer=o,this._buffer()},changeValue:function(){let e=this.element,i=this.options,o=e.attr("data-value");o<i.min&&(o=i.min),o>i.max&&(o=i.max),this.val(o)},changeBuffer:function(){let e=this.element,i=Number.parseInt(e.attr("data-buffer"));i<0&&(i=0),i>100&&(i=100),this.buff(i)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break;case"disabled":this.toggleState();break}},destroy:function(){let e=this.options,i=this.slider,o=i.find(".marker");o.off(t.events.startAll),o.off(t.events.focus),o.off(t.events.blur),o.off(t.events.keydown),o.off(t.events.keyup),i.off(t.events.click),r(globalThis).off(t.events.resize,{ns:this.id}),e.label&&i.prev("label").remove(),i.remove()}})})(Metro,Dom),((t,r)=>{let f={audioDeferred:0,playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:"⮔",stopIcon:"⏹",playIcon:"▶",pauseIcon:"⏸",muteIcon:"🔇",volumeLowIcon:"🔈",volumeMediumIcon:"🔉",volumeHighIcon:"🔊",playlistIcon:"📃",nextIcon:"→",prevIcon:"←",firstIcon:"⇤",lastIcon:"⇥",forwardIcon:"⇉",backwardIcon:"⇇",shuffleIcon:"🔀",randomIcon:"🎲",onPlay:t.noop,onPause:t.noop,onStop:t.noop,onEnd:t.noop,onMetadata:t.noop,onTime:t.noop,onAudioPlayerCreate:t.noop};t.audioPlayerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroAudioPlayerSetup<"u"&&t.audioPlayerSetup(globalThis.metroAudioPlayerSetup),t.Component("audio-player",{init:function(e,i){return this._super(i,e,f,{player:null,audio:i,stream:null,volume:null,volumeBackup:0,muted:!1}),this},_create:function(){let e=this.element,i=this.options;this._createPlayer(),this._createEvents(),i.autoplay===!0&&this.play(),this._fireEvent("audio-player-create",{element:e,player:this.player})},_createPlayer:function(){let e=this.element,i=this.options,o=this.audio,h=e.wrap("<div>").addClass(`media-player audio-player ${e[0].className}`);r.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){e.removeAttr(this)}),e.attr("preload","auto"),o.volume=i.volume,i.src!==null&&this._setSource(i.src),e[0].className="",this.player=h,this._createControls()},_setSource:function(e){let i=this.element;i.find("source").remove(),i.removeAttr("src"),Array.isArray(e)?r.each(e,function(){this.src!==void 0&&r("<source>").attr("src",this.src).attr("type",this.type!==void 0?this.type:"").appendTo(i)}):i.attr("src",e)},_createControls:function(){let e=this.element,i=this.options,o=this.elem,h=r("<div>").addClass("controls").addClass(i.clsControls).insertAfter(e),g=r("<div>").addClass("stream").appendTo(h),_=r("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(g),C=r("<div>").addClass("volume").appendTo(h),S=r("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(C),A=r("<div>").addClass("info-box").appendTo(h);i.showInfo!==!0&&A.hide(),t.makePlugin(_,"slider",{clsMarker:"bg-dark-cyan",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,hideButton:!0,onStart:()=>{o.paused||o.pause()},onStop:N=>{o.seekable.length>0&&(o.currentTime=(this.duration*N/100).toFixed(0)),o.paused&&o.currentTime>0&&o.play()}}),this.stream=_,i.showStream!==!0&&g.hide(),t.makePlugin(S,"slider",{clsMarker:"bg-dark-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-red",hint:!0,hideButton:!0,value:i.volume*100,onChangeValue:N=>{o.volume=N/100}}),this.volume=S,i.showVolume!==!0&&C.hide();let F;i.showLoop===!0&&(F=r("<button>").attr("type","button").addClass("medium cycle loop").html(i.loopIcon).appendTo(h),F.addClass("active"),e.attr("loop","loop")),i.showPlay===!0&&r("<button>").attr("type","button").addClass("medium cycle play").html(i.playIcon).appendTo(h),i.showStop===!0&&r("<button>").attr("type","button").addClass("medium cycle stop").html(i.stopIcon).appendTo(h),i.showMute===!0&&r("<button>").attr("type","button").addClass("medium cycle mute").html(i.muteIcon).appendTo(h),this._setVolume(),i.muted&&(this.volumeBackup=o.volume,t.getPlugin(this.volume,"slider").val(0),o.volume=0),A.html("00:00 / 00:00")},_createEvents:function(){let e=this.element,i=this.options,o=this.elem,h=this.player;e.on("loadstart",()=>{}),e.on("loadedmetadata",()=>{this.duration=o.duration.toFixed(0),this._setInfo(0,this.duration),t.utils.exec(i.onMetadata,[o,h],e[0])}),e.on("canplay",()=>{this._setBuffer()}),e.on("progress",()=>{this._setBuffer()}),e.on("timeupdate",()=>{let g=Math.round(o.currentTime*100/this.duration);this._setInfo(o.currentTime,this.duration),t.getPlugin(this.stream,"slider").val(g),t.utils.exec(i.onTime,[o.currentTime,this.duration,o,h],e[0])}),e.on("waiting",()=>{}),e.on("loadeddata",()=>{}),e.on("play",()=>{h.find(".play").html(i.pauseIcon),t.utils.exec(i.onPlay,[o,h],e[0])}),e.on("pause",()=>{h.find(".play").html(i.playIcon),t.utils.exec(i.onPause,[o,h],e[0])}),e.on("stop",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onStop,[o,h],e[0])}),e.on("ended",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onEnd,[o,h],e[0])}),e.on("volumechange",()=>{this._setVolume()}),h.on(t.events.click,".play",()=>{o.paused?this.play():this.pause()}),h.on(t.events.click,".stop",()=>{this.stop()}),h.on(t.events.click,".mute",()=>{this._toggleMute()}),h.on(t.events.click,".loop",()=>{this._toggleLoop()})},_toggleLoop:function(){let e=this.player.find(".loop");e.length!==0&&(e.toggleClass("active"),e.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.audio.volume=this.volumeBackup:(this.volumeBackup=this.audio.volume,this.audio.volume=0),t.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(e,i){this.player.find(".info-box").html(`${t.utils.secondsToFormattedString(Math.round(e))} / ${t.utils.secondsToFormattedString(Math.round(i))}`)},_setBuffer:function(){let e=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;t.getPlugin(this.stream,"slider").buff(e)},_setVolume:function(){let e=this.audio,i=this.player,o=this.options,h=i.find(".mute"),g=e.volume*100;g>1&&g<30?h.html(o.volumeLowIcon):g>=30&&g<60?h.html(o.volumeMediumIcon):g>=60&&g<=100?h.html(o.volumeHighIcon):h.html(o.muteIcon)},play:function(e){e!==void 0&&this._setSource(e),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0,t.getPlugin(this.stream,"slider").val(0)},setVolume:function(e){if(e===void 0)return this.audio.volume;let i=e>1?e/100:e;this.audio.volume=e,t.getPlugin(this.volume,"slider").val(i*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){let e=JSON.parse(this.element.attr("data-src"));this.play(e)},changeVolume:function(){let e=this.element.attr("data-volume");this.setVolume(e)},changeAttribute:function(e){switch(e){case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){let e=this.element,i=this.player;e.off("all"),i.off("all"),t.getPlugin(this.stream,"slider").destroy(),t.getPlugin(this.volume,"slider").destroy(),e.remove()}})})(Metro,Dom),((t,r)=>{let f={height:200,barColor:"#22ec1a",valueColor:"#191919",total:100,value:60,valueSuffix:"",animationDuration:300,onBar3dCreate:t.noop};t.bar3dSetup=e=>{f=r.extend({},f,e)},typeof window.metroBar3dSetup<"u"&&t.bar3dSetup(window.metroBar3dSetup),t.Component("bar3d",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("component-create")},_drawBar:function(){let e=this.element,i=this.options,o=i.value+i.valueSuffix,h=100-Math.round(100*i.value/i.total);e.find(".growing-bar").attr("data-value",o).css({transform:`translateY(${h}%)`,backgroundColor:i.barColor}),e.attr("title",o)},_createStructure:function(){let e=this.element,i=this.options;e.addClass("bar3d"),e.html(`
                <div class="side left-side">
                    <div class="growing-bar" data-value="0" style="transition-duration: ${i.animationDuration}"></div>
                </div>
                <div class="side right-side">
                    <div class="growing-bar" data-value="0" style="transition-duration: ${i.animationDuration}"></div>
                </div>
                <div class="side top-side"></div>
                <div class="side bottom-side"></div>
            `),i.animationDuration>0?setTimeout(()=>{this._drawBar()},100):this._drawBar()},_createEvents:function(){this.element,this.options},changeAttribute:function(e,i){switch(e){case"data-value":{console.log("Set value"),this.options.value=i,this._drawBar();break}}},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={type:"success",size:16,onBullCreate:t.noop,onBullChange:t.noop};t.bullSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroBullSetup<"u"&&t.bullSetup(globalThis.metroBullSetup),t.Component("bull",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._fireEvent("bull-create")},_createStructure:function(){let e=this.element,i=this.options,o;switch(i.type.toLowerCase()){case"default":o=`<svg width="${i.size}" height="${i.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"success":o=`<svg width="${i.size}" height="${i.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"pending":o=`<svg width="${i.size}" height="${i.size}" aria-label="currently running" fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="ani-spin"><path fill="none" stroke="#DBAB0A" stroke-width="2" d="M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z" opacity=".5"></path><path fill="#DBAB0A" fill-rule="evenodd" d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z" clip-rule="evenodd"></path><path fill="#DBAB0A" d="M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"></path></svg>`;break;case"fail":o=`<svg width="${i.size}" height="${i.size}" aria-label="failed" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#e5534b" d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>`;break;case"warning":o=`<svg width="${i.size}" height="${i.size}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill="#ff4d00" d="M246.312928,5.62892705 C252.927596,9.40873724 258.409564,14.8907053 262.189374,21.5053731 L444.667042,340.84129 C456.358134,361.300701 449.250007,387.363834 428.790595,399.054926 C422.34376,402.738832 415.04715,404.676552 407.622001,404.676552 L42.6666667,404.676552 C19.1025173,404.676552 7.10542736e-15,385.574034 7.10542736e-15,362.009885 C7.10542736e-15,354.584736 1.93772021,347.288125 5.62162594,340.84129 L188.099293,21.5053731 C199.790385,1.04596203 225.853517,-6.06216498 246.312928,5.62892705 Z M224,272 C208.761905,272 197.333333,283.264 197.333333,298.282667 C197.333333,313.984 208.415584,325.248 224,325.248 C239.238095,325.248 250.666667,313.984 250.666667,298.624 C250.666667,283.264 239.238095,272 224,272 Z M245.333333,106.666667 L202.666667,106.666667 L202.666667,234.666667 L245.333333,234.666667 L245.333333,106.666667 Z" id="Combined-Shape"></path></svg>`;break;case"bulb":o=`<svg width="${i.size}" height="${i.size}" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#ffde21" d="M213.333333,85.3333333 C284.025781,85.3333333 341.333333,142.640885 341.333333,213.333333 C341.333333,260.711239 315.5928,302.077122 277.333732,324.208982 L277.333333,405.333333 L256,426.666667 L234.666667,426.666667 C234.666667,438.448741 225.115408,448 213.333333,448 C201.551259,448 192,438.448741 192,426.666667 L192,426.666667 L170.666667,426.666667 L149.333333,405.333333 L149.332954,324.208993 C111.073876,302.077136 85.3333333,260.711248 85.3333333,213.333333 C85.3333333,142.640885 142.640885,85.3333333 213.333333,85.3333333 Z M234.667665,339.563386 C227.72957,340.727434 220.602209,341.333333 213.333333,341.333333 C206.064458,341.333333 198.937097,340.727434 191.999002,339.563386 L192,384 L234.666667,384 L234.667665,339.563386 Z M96.4250122,307.614237 L119.052429,330.241654 L73.7975952,375.496488 L51.1701782,352.869071 L96.4250122,307.614237 Z M330.241654,307.614237 L375.496488,352.869071 L352.869071,375.496488 L307.614237,330.241654 L330.241654,307.614237 Z M426.666667,197.333333 L426.666667,229.333333 L362.666667,229.333333 L362.666667,197.333333 L426.666667,197.333333 Z M64,197.333333 L64,229.333333 L7.10542736e-15,229.333333 L7.10542736e-15,197.333333 L64,197.333333 Z M352.869071,51.1701782 L375.496488,73.7975952 L330.241654,119.052429 L307.614237,96.4250122 L352.869071,51.1701782 Z M73.7975952,51.1701782 L119.052429,96.4250122 L96.4250122,119.052429 L51.1701782,73.7975952 L73.7975952,51.1701782 Z M229.333333,-1.0658141e-14 L229.333333,64 L197.333333,64 L197.333333,-1.0658141e-14 L229.333333,-1.0658141e-14 Z" id="Combined-Shape"></path></svg>`;break}e.clear().html(o)},setType:function(e="default"){this.element;let i=this.options;e!==i.type&&(i.type=e.toLowerCase(),this._createStructure(),this._fireEvent("bull-change"))},changeAttribute:function(e,i){e==="data-type"&&this._createStructure()},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={buttongroupDeferred:0,targets:"button",clsActive:"",requiredButton:!1,mode:t.groupMode.ONE,onButtonClick:t.noop,onButtonGroupCreate:t.noop};t.buttonGroupSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroButtonGroupSetup<"u"&&t.buttonGroupSetup(globalThis.metroButtonGroupSetup),t.Component("button-group",{init:function(e,i){return this._super(i,e,f,{active:null,id:null}),this},_create:function(){let e=this.element;this.id=Hooks.useId(this.elem),this._createGroup(),this._createEvents(),this._fireEvent("button-group-create",{element:e})},_createGroup:function(){let e=this.element,i=this.options;e.addClass("button-group");let o=e.find(i.targets),h=e.find(".active");i.mode===t.groupMode.ONE&&h.length===0&&i.requiredButton===!0&&r(o[0]).addClass("active"),i.mode===t.groupMode.ONE&&h.length>1&&(o.removeClass("active").removeClass(i.clsActive),r(o[0]).addClass("active")),e.find(".active").addClass("js-active").addClass(i.clsActive)},_createEvents:function(){let e=this,i=this.element,o=this.options;i.on(t.events.click,o.targets,function(){let h=r(this);e._fireEvent("button-click",{button:this}),!(o.mode===t.groupMode.ONE&&h.hasClass("active"))&&(o.mode===t.groupMode.ONE?(i.find(o.targets).removeClass(o.clsActive).removeClass("active js-active"),h.addClass("active").addClass(o.clsActive).addClass("js-active")):h.toggleClass("active").toggleClass(o.clsActive).toggleClass("js-active"))})},changeAttribute:e=>{},destroy:function(){let e=this.element,i=this.options;e.off(t.events.click,i.targets),e.remove()}})})(Metro,Dom),((t,r)=>{let f={spinnerDeferred:0,label:"",step:1,plusIcon:"+",minusIcon:"-",buttonsPosition:"default",defaultValue:0,minValue:null,maxValue:null,fixed:0,repeatThreshold:2e3,hideCursor:!1,clsSpinner:"",clsSpinnerInput:"",clsSpinnerButton:"",clsSpinnerButtonPlus:"",clsSpinnerButtonMinus:"",clsLabel:"",onBeforeChange:t.noop_true,onChange:t.noop,onPlusClick:t.noop,onMinusClick:t.noop,onArrowUp:t.noop,onArrowDown:t.noop,onButtonClick:t.noop,onArrowClick:t.noop,onSpinnerCreate:t.noop};t.spinnerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroSpinnerSetup<"u"&&t.spinnerSetup(globalThis.metroSpinnerSetup),t.Component("spinner",{init:function(e,i){return this._super(i,e,f,{repeat_timer:!1}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("spinner-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o=r("<div>").addClass("spinner").addClass(`buttons-${i.buttonsPosition}`).addClass(e[0].className).addClass(i.clsSpinner),h=r("<button>").attr("type","button").addClass("button spinner-button spinner-button-plus").addClass(`${i.clsSpinnerButton} ${i.clsSpinnerButtonPlus}`).html(i.plusIcon),g=r("<button>").attr("type","button").addClass("button spinner-button spinner-button-minus").addClass(`${i.clsSpinnerButton} ${i.clsSpinnerButtonMinus}`).html(i.minusIcon),_=e.val().trim();if(t.utils.isValue(_)||e.val(0),e[0].className="",o.insertBefore(e),e.appendTo(o).addClass(i.clsSpinnerInput),e.addClass("metro-input"),h.appendTo(o),g.appendTo(o),i.hideCursor===!0&&o.addClass("hide-cursor"),i.label){let C=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(o);if(e.attr("id"))C.attr("for",e.attr("id"));else{let S=Hooks.useId(e[0]);C.attr("for",S),e.attr("id",S)}e.attr("dir")==="rtl"&&C.addClass("rtl")}i.disabled===!0||e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let e=this.element,i=this.options,o=e.closest(".spinner"),h,g=_=>{let C=[_?"plus-click":"minus-click",_?"arrow-up":"arrow-down","button-click","arrow-click"],S=+e.val(),A=+e.val(),F=+i.step;_?A+=F:A-=F,this._setValue(A.toFixed(i.fixed),!0),this._fireEvents(C,{curr:S,val:A,elementVal:e.val(),button:_?"plus":"minus"})};o.on(t.events.startAll,".spinner-button",function(_){let C=r(this).hasClass("spinner-button-plus");h=setInterval(()=>{g(C)},100)},{passive:!0}),o.on(t.events.stopAll,".spinner-button",_=>{clearInterval(h)},{passive:!0}),o.on(t.events.click,".spinner-button",function(_){let C=r(this).hasClass("spinner-button-plus");g(C)},{passive:!0}),o.on(t.events.click,_=>{r(".focused").removeClass("focused"),o.addClass("focused"),_.preventDefault(),_.stopPropagation()})},_setValue:function(e=0,i=!1){let o=this.element,h=this.options;if(t.utils.exec(h.onBeforeChange,[e],o[0])!==!0)return;let g=+e;g>Number(h.maxValue)&&(g=Number(h.maxValue)),g<Number(h.minValue)&&(g=Number(h.minValue)),o.val(e),this._fireEvent("change",{val:e},!1,!0),i===!0&&o.fire("change",{val:e})},val:function(e){let i=this.element,o=this.options;if(!t.utils.isValue(e))return i.val();this._setValue(e.toFixed(o.fixed),!0)},toDefault:function(){let e=this.options,i=t.utils.isValue(e.defaultValue)?Number(e.defaultValue):0;this._setValue(i.toFixed(e.fixed),!0),this._fireEvent("change",{val:i})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){let i=this.element,o=()=>{let h=i.attr("value").trim();t.utils.isValue(h)&&this._setValue(Number(h),!1)};switch(e){case"disabled":this.toggleState();break;case"value":o();break}},destroy:function(){let e=this.element,i=this.options,o=e.closest(".spinner"),h=o.find(".spinner-button");o.off(t.events.click),h.off(t.events.start),h.off(t.events.stop),e.off(t.events.keydown),o.off(t.events.keyup),i.label&&o.prev("label").remove(),o.remove()}}),r(document).on(t.events.click,()=>{r(".spinner").removeClass("focused")})})(Metro,Dom),((t,r)=>{let f={weekStart:null,static:!1,readonly:!1,showGhost:!1,events:null,startContent:"days",showTime:!1,initialTime:null,initialHours:null,initialMinutes:null,labelTimeHours:null,labelTimeMinutes:null,animationContent:!0,animationSpeed:10,calendarDeferred:0,dayBorder:!1,excludeDay:null,prevMonthIcon:"⯇",nextMonthIcon:"⯈",prevYearIcon:"⯇",nextYearIcon:"⯈",compact:!1,wide:!1,widePoint:null,pickerMode:!1,show:null,outside:!0,buttons:"",yearsBefore:100,yearsAfter:100,headerFormat:"dddd, MMM DD",showHeader:!0,showFooter:!0,showWeekNumber:!1,isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,weekNumberClick:!1,multiSelect:!1,special:null,format:METRO_DATE_FORMAT,inputFormat:null,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",clsEventCounter:"",clsWeekend:"",clsCurrentWeek:"",clsCalendarTime:"",clsTime:"",clsTimeHours:"",clsTimeMinutes:"",clsTimeButton:"",clsTimeButtonPlus:"",clsTimeButtonMinus:"",clsSpecial:"",clsEvents:"",clsEvent:"",onCancel:t.noop,onToday:t.noop,onClear:t.noop,onDone:t.noop,onDayClick:t.noop,onDrawDay:t.noop,onDrawMonth:t.noop,onDrawYear:t.noop,onWeekDayClick:t.noop,onWeekNumberClick:t.noop,onMonthChange:t.noop,onYearChange:t.noop,onTimeChange:t.noop,onHoursChange:t.noop,onMinutesChange:t.noop,onCalendarCreate:t.noop};t.calendarSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroCalendarSetup<"u"&&t.calendarSetup(globalThis.metroCalendarSetup),t.Component("calendar",{init:function(e,i){let o=datetime(),h=this._correctDate(datetime());return this._super(i,e,f,{today:h,show:h,current:{year:h.year(),month:h.month(),day:h.day()},preset:[],selected:[],exclude:[],special:[],excludeDay:[],events:[],min:null,max:null,minYear:null,maxYear:null,id:null,time:[o.hour(),o.minute()],content:"days",yearDistance:11,yearGroupStart:h.year()}),this},_create:function(){let e=this.element,i=this.options;this.id=Hooks.useId(this.elem),this.content=i.startContent,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,e.html("").addClass(`calendar ${i.compact===!0?"compact":""}`).addClass(i.clsCalendar),t.utils.isValue(i.initialTime)&&(this.time=i.initialTime.split(":")),t.utils.isValue(i.initialHours)&&t.utils.between(i.initialHours,0,23,!0)&&(this.time[0]=Number.parseInt(i.initialHours)),t.utils.isValue(i.initialMinutes)&&t.utils.between(i.initialMinutes,0,59,!0)&&(this.time[1]=Number.parseInt(i.initialMinutes)),i.dayBorder===!0&&e.addClass("day-border"),t.utils.isValue(i.excludeDay)&&(this.excludeDay=`${i.excludeDay}`.toArray(",","int")),t.utils.isValue(i.preset)&&this._dates2array(i.preset,"selected"),t.utils.isValue(i.exclude)&&this._dates2array(i.exclude,"exclude"),t.utils.isValue(i.special)&&this._dates2array(i.special,"special"),t.utils.isValue(i.events)&&this._dates2array(i.events,"events"),this.min=i.minDate?(i.inputFormat?Datetime.from(i.minDate,i.inputFormat):datetime(i.minDate)).align("day"):null,this.max=i.maxDate?(i.inputFormat?Datetime.from(i.maxDate,i.inputFormat):datetime(i.maxDate)).align("day"):null,i.show&&(this.show=(i.show?i.inputFormat?Datetime.from(i.show,i.inputFormat):datetime(i.show):datetime()).align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()}),this._drawCalendar(),this._createEvents(),(i.wide===!0||!t.utils.isNull(i.widePoint)&&t.utils.mediaExist(i.widePoint))&&e.addClass("calendar-wide"),i.ripple===!0&&t.utils.isFunc(e.ripple)!==!1&&e.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:this.options.rippleColor});let o=e.id();o&&t.storage.getItem(`METRO:CALENDAR:${o}:COLLAPSED`,e.hasClass("calendar-collapsed"))&&e.addClass("calendar-collapsed"),this._fireEvent("calendar-create")},_dates2array:function(e,i){let o=this,h=this.options;if(t.utils.isNull(e))return;let g=typeof e=="string"?e.toArray():Array.isArray(e)?e:[];r.each(g,function(){let _;try{_=o._correctDate(h.inputFormat?Datetime.from(this,h.inputFormat):datetime(this)).format("YYYY-MM-DD")}catch{return}o[i].push(_)})},_correctDate:e=>datetime(e).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),_createEvents:function(){let e=this,i=this.element,o=this.options;r(globalThis).on(t.events.resize,()=>{o.wide!==!0&&(!t.utils.isNull(o.widePoint)&&t.utils.mediaExist(o.widePoint)?i.addClass("calendar-wide"):i.removeClass("calendar-wide"))},{ns:this.id}),i.on(t.events.click,".button-collapse",()=>{let h=i.id();i.toggleClass("calendar-collapsed"),h&&t.storage.setItem(`METRO:CALENDAR:${h}:COLLAPSED`,i.hasClass("calendar-collapsed"))}),i.on(t.events.click,".prev-year-group, .next-year-group",function(){o.static||(r(this).hasClass("prev-year-group")?e.yearGroupStart-=e.yearDistance:e.yearGroupStart+=e.yearDistance,e._drawContent())}),i.on(t.events.click,".prev-month, .next-month, .prev-year, .next-year",function(){let h,g=r(this);o.static||g.hasClass("prev-month")&&(h=datetime(e.current.year,e.current.month-1,1).useLocale(e.locale,!0),h.year()<e.minYear)||g.hasClass("next-month")&&(h=datetime(e.current.year,e.current.month+1,1).useLocale(e.locale,!0),h.year()>e.maxYear)||g.hasClass("prev-year")&&(h=datetime(e.current.year-1,e.current.month,1).useLocale(e.locale,!0),h.year()<e.minYear)||g.hasClass("next-year")&&(h=datetime(e.current.year+1,e.current.month,1).useLocale(e.locale,!0),h.year()>e.maxYear)||(e.current={year:h.year(),month:h.month(),day:h.day()},setTimeout(()=>{e._drawContent(),(g.hasClass("prev-month")||g.hasClass("next-month"))&&e._fireEvent("month-change",{current:e.current}),(g.hasClass("prev-year")||g.hasClass("next-year"))&&e._fireEvent("year-change",{current:e.current})},o.ripple?300:1))}),i.on(t.events.click,".button-today",()=>{e.toDay(),e._fireEvent("today",{today:e.today.val(),time:e.time})}),i.on(t.events.click,".button-clear",()=>{let h=datetime();e.selected=[],e.time=[h.hour(),h.minute()],e.yearGroupStart=h.year(),e._drawContent(),e._fireEvent("clear")}),i.on(t.events.click,".button-cancel",()=>{e._drawContent(),e._fireEvent("cancel")}),i.on(t.events.click,".button-done",()=>{e._drawContent(),e._fireEvent("done",{selected:e.selected,time:e.time})}),o.weekDayClick===!0&&i.on(t.events.click,".week-days .week-day",function(h){let g,_,C=[];if(o.static||o.readonly)return;let S=r(this);g=S.index();for(let A=0;A<7;A++)C.push(g),g+=o.showWeekNumber?8:7;o.multiSelect===!0&&(_=i.find(".day").filter(A=>{let F=r(A);return C.indexOf(F.index())>-1&&!F.hasClass("outside disabled excluded")}),r.each(_,function(){let A=r(this),F=A.data("day");e.selected.indexOf(F)===-1?(e.selected.push(F),A.addClass("selected").addClass(o.clsSelected)):(A.removeClass("selected").removeClass(o.clsSelected),t.utils.arrayDelete(e.selected,F))})),e._fireEvent("week-day-click",{selected:e.selected,day:S[0]}),h.preventDefault(),h.stopPropagation()}),o.weekNumberClick&&i.on(t.events.click,".week-number",function(h){let g,_=r(this),C=_.text(),S=_.index();C!=="#"&&(o.static||o.readonly||(o.multiSelect===!0&&(g=i.find(".day").filter(A=>{let F=r(A),N=F.index();return t.utils.between(N,S,S+8,!1)&&!F.hasClass("outside disabled excluded")}),r.each(g,function(){let A=r(this),F=A.data("day");e.selected.indexOf(F)===-1?(e.selected.push(F),A.addClass("selected").addClass(o.clsSelected)):(A.removeClass("selected").removeClass(o.clsSelected),t.utils.arrayDelete(e.selected,F))})),e._fireEvent("week-number-click",{selected:e.selected,num:C,numElement:_[0]}),h.preventDefault(),h.stopPropagation()))}),i.on(t.events.click,".day",function(h){let g=r(this),_,C;if(!(o.static||o.readonly)){if(C=g.data("day"),_=e.selected.indexOf(C),g.hasClass("outside")){C=datetime(C),e.current={year:C.year(),month:C.month(),day:C.day()},e._drawContent(),e._fireEvent("month-change",{current:e.current});return}g.hasClass("disabled")||(o.pickerMode===!0?(e.selected=[C],e.today=datetime(C),e.current.year=e.today.year(),e.current.month=e.today.month(),e.current.day=e.today.day(),e._drawHeader(),e._drawContent()):_===-1?(o.multiSelect===!1&&(i.find(".day").removeClass("selected").removeClass(o.clsSelected),e.selected=[]),e.selected.push(C),g.addClass("selected").addClass(o.clsSelected)):(g.removeClass("selected").removeClass(o.clsSelected),t.utils.arrayDelete(e.selected,C))),e._fireEvent("day-click",{selected:e.selected,day:g[0],time:e.time}),h.preventDefault(),h.stopPropagation()}}),i.on(t.events.click,".curr-month, .header-day",h=>{e.content="months",e._drawContent(),h.preventDefault(),h.stopPropagation()}),i.on(t.events.click,".month",function(h){e.current.month=Number.parseInt(r(this).attr("data-month")),e.content="days",e._drawContent(),e._fireEvent("month-change",{current:e.current}),h.preventDefault(),h.stopPropagation()}),i.on(t.events.click,".curr-year, .header-year",h=>{e.content!=="years"&&(e.content="years",e._drawContent(),h.preventDefault(),h.stopPropagation())}),i.on(t.events.click,".year",function(h){e.current.year=Number.parseInt(r(this).attr("data-year")),e.yearGroupStart=e.current.year,e.content="months",e._drawContent(),e._fireEvent("year-change",{current:e.current}),h.preventDefault(),h.stopPropagation()})},_drawHeader:function(){let e=this.element,i=this.options,o=e.find(".calendar-header");o.length===0&&(o=r("<div>").addClass("calendar-header").addClass(i.clsCalendarHeader).appendTo(e)),o.html(""),r("<div>").addClass("header-year").html(this.today.year()).appendTo(o),r("<div>").addClass("header-day").html(this.today.format(i.headerFormat,this.locale)).appendTo(o);let h=r("<div>").addClass("header-actions").appendTo(o);r("<button>").addClass("square small button-collapse").html(`
                <svg aria-hidden="true" class="caret toggle-collapsed" width="16" height="16" viewBox="0 0 24 24">
                    <path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path>
                </svg>
            `).attr("title",this.strings.label_collapse).appendTo(h),i.showHeader===!1&&o.hide()},_drawFooter:function(){let e=this.element,i=this.options,o=this.strings,h=e.find(".calendar-footer");i.buttons&&(h.length===0&&(h=r("<div>").addClass("calendar-footer").addClass(i.clsCalendarFooter).appendTo(e)),h.html(""),r.each(i.buttons.toArray(","),function(){let g=r("<button>").attr("type","button").addClass(`button button-${this} ${i[`cls${Str.capitalize(this)}Button`]}`).html(o[`label_${this}`]).appendTo(h);(this==="cancel"||this==="done")&&g.addClass("js-dialog-close")}),i.showFooter===!1&&h.hide())},_drawTime:function(){let e=this,i=this.element,o=this.options,h=this.strings,g=i.find(".calendar-content"),_=r("<div>").addClass("calendar-time").addClass(o.clsCalendarTime).appendTo(g),C,S,A,F,N=`${this.time[0]}`,q=`${this.time[1]}`,Y=function(te){let Ae=Number.parseInt(te);r(this).attr("data-time-part")==="hours"?(e.time[0]=Ae,e._fireEvent("hours-change",{time:e.time,hours:Ae})):(e.time[1]=Ae,e._fireEvent("minutes-change",{time:e.time,minutes:Ae})),e._fireEvent("time-change",{time:e.time})};_.append(C=r("<div>").addClass("calendar-time__inner")),C.append(F=r("<div>").addClass("calendar-time__inner-row")),F.append(r("<div>").addClass("calendar-time__inner-cell").append(r("<span>").html(str(h.label_hours).capitalize()))),F.append(r("<div>").addClass("calendar-time__inner-cell").append(r("<span>").html(str(h.label_minutes).capitalize()))),_.append(C=r("<div>").addClass("calendar-time__inner spinners").addClass(o.clsTime)),C.append(S=r(`<input type='text' data-cls-spinner-input='${o.clsTimeHours}' data-time-part='hours' data-buttons-position='right' data-min-value='0' data-max-value='23'>`).addClass("hours").addClass(o.compact?"input-small":"input-normal")),C.append(A=r(`<input type='text' data-cls-spinner-input='${o.clsTimeMinutes}' data-time-part='minutes' data-buttons-position='right' data-min-value='0' data-max-value='59'>`).addClass("minutes").addClass(o.compact?"input-small":"input-normal")),N=Str.lpad(N,"0",2),q=Str.lpad(q,"0",2),S.val(N),A.val(q),t.makePlugin(C.find("input[type=text]"),"spinner",{onChange:Y,clsSpinnerButton:o.clsTimeButton,clsSpinnerButtonPlus:o.clsTimeButtonPlus,clsSpinnerButtonMinus:o.clsTimeButtonMinus}),o.showTime===!1&&_.hide()},_drawContentDays:function(){let e=this,i=this.element,o=this.options,h=this.strings,g=i.find(".calendar-content"),_,C=datetime(this.current.year,this.current.month,this.current.day).useLocale(this.locale,!0).calendar(t.utils.isValue(o.weekStart)?o.weekStart:h.weekStart),S=this.show.format("YYYY-MM-DD"),A=datetime();g.length===0&&(g=r("<div>").addClass("calendar-content").addClass(o.clsCalendarContent).appendTo(i)),o.showWeekNumber&&g.addClass("-week-numbers"),g.empty();let F=r("<div>").addClass("calendar-toolbar").appendTo(g);r("<span>").addClass("prev-month").html(o.prevMonthIcon).appendTo(F),r("<span>").addClass("curr-month").html(Datetime.getLocale(this.locale).months[this.current.month]).appendTo(F),r("<span>").addClass("next-month").html(o.nextMonthIcon).appendTo(F),r("<span>").addClass("prev-year").html(o.prevYearIcon).appendTo(F),r("<span>").addClass("curr-year").html(this.current.year).appendTo(F),r("<span>").addClass("next-year").html(o.nextYearIcon).appendTo(F),_=r("<div>").addClass("week-days").appendTo(g),o.showWeekNumber&&r("<span>").addClass("week-number").html("#").appendTo(_),r.each(C.weekdays,function(){r("<span>").addClass("week-day").html(this).appendTo(_)});let N=r("<div>").addClass("days").appendTo(g);r.each(C.days,function(q){let Y=`${this}`,te=e._correctDate(Y),Ae=te.month()!==e.current.month;o.showWeekNumber&&q%7===0&&r("<span>").addClass("week-number").html(`<span class="week-number-content">${te.weekNumber(o.weekStart)}</span>`).appendTo(N);let He=te.day(),$e=te.format("YYYY-MM-DD"),Pe=r("<span>").addClass("day").html(`<span class="day-content">${He}</span>`).appendTo(N);if(Pe.attr("data-day",$e),Y===S&&Pe.addClass("showed"),Ae&&(Pe.addClass("outside"),o.outside||Pe.empty()),Y===C.today&&Pe.addClass("today"),o.showGhost&&te.day()===A.day()&&Pe.addClass("coincidental"),e.special.length?e.special.indexOf(Y)===-1?Pe.addClass("disabled excluded").addClass(o.clsExcluded):Pe.addClass(o.clsSpecial):(e.selected.includes(Y)&&Pe.addClass("selected").addClass(o.clsSelected),e.exclude.includes(Y)&&Pe.addClass("disabled excluded").addClass(o.clsExcluded),e.min&&te.older(e.min)&&Pe.addClass("disabled excluded").addClass(o.clsExcluded),e.max&&te.younger(e.max)&&Pe.addClass("disabled excluded").addClass(o.clsExcluded)),C.weekends.indexOf(Y)!==-1&&Pe.addClass(o.clsWeekend),C.week.indexOf(Y)!==-1&&Pe.addClass(o.clsCurrentWeek),e.events.length){let Se=r("<div>").addClass("events").addClass(o.clsEvents).appendTo(Pe);r.each(e.events,function(){if(this===Y){let Le=r("<div>").addClass("event").addClass(o.clsEvent).appendTo(Se);o.clsEvent||Le.css({backgroundColor:Farbe.Routines.randomColor()})}})}o.animationContent&&Pe.addClass("to-animate"),e._fireEvent("draw-day",{date:te.val(),day:te.day(),month:te.month(),year:te.year(),cell:Pe[0]})}),this._drawTime(),this._animateContent(".day")},_drawContentMonths:function(){let e=this.element,i=this.elem,o=this.options,h=this.locale,g=e.find(".calendar-content"),_,C,S=datetime().year(),A=datetime().month();g.length===0&&(g=r("<div>").addClass("calendar-content").addClass(o.clsCalendarContent).appendTo(e)),g.clear();let F=r("<div>").addClass("calendar-toolbar").appendTo(g);r("<span>").addClass("prev-year").html(o.prevYearIcon).appendTo(F),r("<span>").addClass("curr-year").html(this.current.year).appendTo(F),r("<span>").addClass("next-year").html(o.nextYearIcon).appendTo(F),g.append(_=r("<div>").addClass("months"));let N=0;for(let q of Datetime.getLocale(h).months)_.append(C=r("<div>").attr("data-month",N).addClass("month").addClass(N===A&&this.current.year===S?"today":"").html(q)),o.animationContent&&C.addClass("to-animate"),this._fireEvent("draw-month",{month:N,year:this.current.year,cell:C[0]}),N++;t.i18n.updateUI(i,h),this._animateContent(".months .month")},_drawContentYears:function(){let e=this.element,i=this.options,o=e.find(".calendar-content"),h,g;o.length===0&&(o=r("<div>").addClass("calendar-content").addClass(i.clsCalendarContent).appendTo(e)),o.clear();let _=r("<div>").addClass("calendar-toolbar").appendTo(o);r("<span>").addClass("prev-year-group").html(i.prevYearIcon).appendTo(_),r("<span>").addClass("curr-year").html(`${this.yearGroupStart} - ${this.yearGroupStart+this.yearDistance}`).appendTo(_),r("<span>").addClass("next-year-group").html(i.nextYearIcon).appendTo(_),o.append(h=r("<div>").addClass("years"));for(let C=this.yearGroupStart;C<=this.yearGroupStart+this.yearDistance;C++)h.append(g=r("<div>").attr("data-year",C).addClass("year").addClass(C===this.current.year?"today":"").html(C)),i.animationContent&&g.addClass("to-animate"),(C<i.minYear||C>i.maxYear)&&g.addClass("disabled"),this._fireEvent("draw-year",{year:C,cell:g[0]});this._animateContent(".years .year")},_drawContent:function(){switch(this.content){case"years":this._drawContentYears();break;case"months":this._drawContentMonths();break;default:this._drawContentDays()}t.i18n.updateUI(this.elem,this.locale)},_drawCalendar:function(){let e=this.elem;setTimeout(()=>{this.element.html(""),this._drawHeader(),this._drawContent(),this._drawFooter(),t.i18n.updateUI(e,this.locale)},0)},_animateContent:function(e,i="to-animate"){let o=this.element,h=this.options;o.find(".calendar-content").find(e).each(function(g){let _=r(this);setTimeout(()=>{_.removeClass(i)},h.animationSpeed*g)})},getTime:function(e=!1){let i=Str.lpad(this.time[0],"0",2),o=Str.lpad(this.time[1],"0",2);return e?`${i}:${o}`:this.time},setTime:function(e){Array.isArray(e)?this.time=e:this.time=e.split(":"),this._drawCalendar()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},clearSelected:function(){this.selected=[],this._drawContent()},toDay:function(){let e=datetime();this.today=datetime().align("day"),this.current={year:this.today.year(),month:this.today.month(),day:this.today.day()},this.time=[e.hour(),e.minute()],this.yearGroupStart=this.today.year(),this.content="days",this._drawHeader(),this._drawContent()},setExclude:function(e){let i=this.element,o=this.options;t.utils.isNull(e)&&t.utils.isNull(i.attr("data-exclude"))||(o.exclude=e||i.attr("data-exclude"),this._dates2array(o.exclude,"exclude"),this._drawContent())},setPreset:function(e){let i=this.element,o=this.options;t.utils.isNull(e)&&t.utils.isNull(i.attr("data-preset"))||(o.preset=e||i.attr("data-preset"),this._dates2array(o.preset,"selected"),this._drawContent())},setSpecial:function(e){let i=this.element,o=this.options;t.utils.isNull(e)&&t.utils.isNull(i.attr("data-special"))||(o.special=e||i.attr("data-special"),this._dates2array(o.exclude,"special"),this._drawContent())},showDate:function(e){return this.setShow(e)},setShow:function(e){let i=this.element,o=this.options,h=i.attr("data-show");!e&&!h||(o.show=e||h,o.show?typeof o.show=="string"&&o.inputFormat?this.show=Datetime.from(o.show,o.inputFormat):this.show=datetime(o.show):this.show=datetime(),this.show=this.show.align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()},this._drawContent())},setMinDate:function(e){let i=this.element,o=this.options,h=i.attr("data-min-date");!e&&!h||(o.minDate=e||h,this.min=o.minDate?(o.inputFormat?Datetime.from(o.minDate,o.inputFormat):datetime(o.minDate)).align("day"):null,this._drawContent())},setMaxDate:function(e){let i=this.element,o=this.options,h=i.attr("data-max-date");o.maxDate=e||h,this.max=o.maxDate?(o.inputFormat?Datetime.from(o.maxDate,o.inputFormat):datetime(o.maxDate)).align("day"):null,this._drawContent()},changeAttribute:function(e){switch(e){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-special":this.setSpecial();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate();break}},destroy:function(){let e=this.element,i=this.options;e.off(t.events.click,".prev-month, .next-month, .prev-year, .next-year"),e.off(t.events.click,".button.today"),e.off(t.events.click,".button.clear"),e.off(t.events.click,".button.cancel"),e.off(t.events.click,".button.done"),e.off(t.events.click,".week-days .day"),e.off(t.events.click,".days-row .day"),e.off(t.events.click,".curr-month"),e.off(t.events.click,".calendar-months li"),e.off(t.events.click,".curr-year"),e.off(t.events.click,".calendar-years li"),e.off(t.events.click),i.ripple===!0&&e.data("ripple").destroy(),r(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}}),r(document).on(t.events.click,()=>{r(".calendar .calendar-years").each(function(){r(this).removeClass("open")}),r(".calendar .calendar-months").each(function(){r(this).removeClass("open")})}),t.defaults.Calendar=f})(Metro,Dom),((t,r)=>{let f={label:"",value:"",calendarPickerDeferred:0,nullValue:!0,useNow:!1,prepend:"",dialogMode:!1,dialogPoint:640,dialogOverlay:!0,overlayColor:"#000000",overlayAlpha:.5,size:"100%",format:METRO_DATE_FORMAT,inputFormat:null,clearButton:!1,calendarButtonIcon:"📅",clearButtonIcon:"❌",prevMonthIcon:"⯇",nextMonthIcon:"⯈",prevYearIcon:"⯇",nextYearIcon:"⯈",copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsInput:"",clsPrepend:"",clsLabel:"",onDayClick:t.noop,onCalendarPickerCreate:t.noop,onCalendarShow:t.noop,onCalendarHide:t.noop,onChange:t.noop,onPickerChange:t.noop,onMonthChange:t.noop,onYearChange:t.noop};t.calendarPickerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroCalendarPickerSetup<"u"&&t.calendarPickerSetup(globalThis.metroCalendarPickerSetup),t.Component("calendar-picker",{init:function(e,i){let o=datetime();return this._super(i,e,r.extend({},t.defaults.Calendar,{},f),{value:null,value_date:null,calendar:null,overlay:null,id:null,time:[o.hour(),o.minute()]}),this},_create:function(){this.id=Hooks.useId(this.element),this._createStructure(),this._createEvents(),this._fireEvent("calendar-picker-create",{element:this.element})},_correctTime:e=>{let i=Str.lpad(e[0],"0",2),o=Str.lpad(e[1],"0",2);return`${i}:${o}`},_createStructure:function(){var He;let e=this.element,i=this.options,o=this.locale,h=r("<div>").addClass(`input ${e[0].className} calendar-picker`),g=r("<div>").addClass("button-group"),_,C=r("<div>"),S,A,F,N,q,Y=r("body");e.attr("type","text"),e.attr("autocomplete","off"),e.attr("readonly",!0),t.utils.isValue(i.initialTime)&&(this.time=i.initialTime.trim().split(":")),t.utils.isValue(i.initialHours)&&(this.time[0]=Number.parseInt(i.initialHours)),t.utils.isValue(i.initialMinutes)&&(this.time[1]=Number.parseInt(i.initialMinutes)),S=`${i.value}`.trim()!==""?i.value:e.val().trim();let te=S||"";t.utils.isValue(S)?(A=S.split(" "),this.value=(i.inputFormat?Datetime.from(A[0],i.inputFormat,o):datetime(A[0])).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),A[1]&&(this.time=A[1].trim().split(":"))):i.useNow&&(this.value=datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),this.time=[this.value.hour(),this.value.minute()]),q=!S&&i.nullValue===!0?"":datetime(this.value).format(i.format,o),i.showTime&&this.time&&q&&(q+=` ${this._correctTime(this.time)}`),e.val(q),h.insertBefore(e),e.appendTo(h),g.appendTo(h),C.appendTo(i.dialogMode?Y:h),(He=this.time)!=null&&He.length&&(F=this.time[0],typeof this.time[1]<"u"&&(N=this.time[1]));let Ae=i.initialTime;if(i.initialHours&&(F=i.initialHours),i.initialHours&&(N=i.initialMinutes),t.makePlugin(C,"calendar",{showTime:i.showTime,initialTime:Ae,initialHours:F,initialMinutes:N,clsCalendarTime:i.clsCalendarTime,clsTime:i.clsTime,clsTimeHours:i.clsTimeHours,clsTimeMinutes:i.clsTimeMinutes,clsTimeButton:i.clsTimeButton,clsTimeButtonPlus:i.clsTimeButtonPlus,clsTimeButtonMinus:i.clsTimeButtonMinus,wide:i.wide,widePoint:i.widePoint,format:i.format,inputFormat:i.inputFormat,pickerMode:!0,show:te,preset:te,weekStart:i.weekStart,outside:i.outside,buttons:!1,headerFormat:i.headerFormat,prevMonthIcon:i.prevMonthIcon,nextMonthIcon:i.nextMonthIcon,prevYearIcon:i.prevYearIcon,nextYearIcon:i.nextYearIcon,clsCalendar:[i.clsCalendar,"calendar-for-picker",i.dialogMode?"dialog-mode":""].join(" "),clsCalendarHeader:i.clsCalendarHeader,clsCalendarContent:i.clsCalendarContent,clsCalendarFooter:"d-none",clsCalendarMonths:i.clsCalendarMonths,clsCalendarYears:i.clsCalendarYears,clsToday:i.clsToday,clsSelected:i.clsSelected,clsExcluded:i.clsExcluded,ripple:i.ripple,rippleColor:i.rippleColor,exclude:i.exclude,minDate:i.minDate,maxDate:i.maxDate,yearsBefore:i.yearsBefore,yearsAfter:i.yearsAfter,special:i.special,events:i.events,showHeader:!1,showFooter:!1,multiSelect:!1,showWeekNumber:i.showWeekNumber,onDayClick:($e,Pe,Se,Le)=>{let Ie=datetime($e[0]).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),Me;this._removeOverlay(),this.value=Ie,this.time=Se,Me=Ie.format(i.format,o),i.showTime&&(Me+=` ${this._correctTime(Se)}`),e.val(Me),e.trigger("change"),C.removeClass("open open-up"),C.hide(),this._fireEvent("change",{val:this.value.val(),time:this.time}),this._fireEvent("day-click",{sel:$e,day:Pe,time:Se,el:Le}),this._fireEvent("picker-change",{val:this.value.val(),time:this.time})},onTimeChange:$e=>{let Pe;this.time=$e,this.value||(this.value=datetime()),Pe=this.value.format(i.format,this.locale),i.showTime&&(Pe+=` ${this._correctTime($e)}`),e.val(Pe),this._fireEvent("change",{val:this.value.val(),time:this.time}),this._fireEvent("picker-change",{val:this.value.val(),time:this.time})},onMonthChange:i.onMonthChange,onYearChange:i.onYearChange}),this.calendar=C,i.clearButton===!0&&(_=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon),_.appendTo(g)),r("<button>").addClass("button input-calendar-button").attr("tabindex",-1).attr("type","button").html(i.calendarButtonIcon).appendTo(g),i.prepend!==""&&r("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(h),e.attr("dir")==="rtl"&&h.addClass("rtl"),String(i.size).indexOf("%")>-1?h.css({width:i.size}):h.css({width:`${Number.parseInt(i.size)}px`}),e[0].className="",i.copyInlineStyles===!0&&r.each(t.utils.getInlineStyles(e),($e,Pe)=>{h.css($e,Pe)}),h.addClass(i.clsPicker),e.addClass(i.clsInput),i.dialogOverlay===!0&&(this.overlay=this._overlay()),i.dialogMode===!0?h.addClass("dialog-mode"):t.utils.media(`(max-width: ${i.dialogPoint}px)`)&&(h.addClass("dialog-mode"),this.calendar.addClass("dialog-mode")),i.label){let $e=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(h);if(e.attr("id"))$e.attr("for",e.attr("id"));else{let Pe=Hooks.useId(e[0]);$e.attr("for",Pe),e.attr("id",Pe)}e.attr("dir")==="rtl"&&$e.addClass("rtl")}e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let e=this.element,i=this.options,o=e.parent(),h=o.find(".input-clear-button"),g=this.calendar,_=t.getPlugin(g[0],"calendar"),C=this.calendar;r(globalThis).on(t.events.resize,()=>{i.dialogMode!==!0&&(t.utils.media(`(max-width: ${i.dialogPoint}px)`)?(o.addClass("dialog-mode"),C.appendTo("body").addClass("dialog-mode")):(o.removeClass("dialog-mode"),C.appendTo(o).removeClass("dialog-mode")))},{ns:this.id}),h.length>0&&h.on(t.events.click,S=>{e.val("").trigger("change").blur(),this.value=null,S.preventDefault(),S.stopPropagation()}),o.on(t.events.click,"button, input",S=>{let A=this.value?this.value:datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),F=A.format("YYYY/MM/DD");A.align("day"),g.hasClass("open")===!1&&g.hasClass("open-up")===!1?(r(".calendar-picker .calendar").removeClass("open open-up").hide(),_.setPreset([F]),_.setShow(A),o.hasClass("dialog-mode")&&this.overlay.appendTo(r("body")),g.addClass("open"),i.openMode==="auto"?(t.utils.inViewport(g[0])||g.addClass("open-up"),t.utils.inViewport(g[0])||g.removeClass("open-up")):i.openMode==="up"&&g.addClass("open-up"),this._fireEvent("calendar-show",{calendar:g})):(this._removeOverlay(),g.removeClass("open open-up"),this._fireEvent("calendar-hide",{calendar:g})),S.preventDefault(),S.stopPropagation()}),e.on(t.events.blur,()=>{o.removeClass("focused")}),e.on(t.events.focus,()=>{o.addClass("focused")}),e.on(t.events.change,()=>{t.utils.exec(i.onChange,[this.value.val()],e[0])}),o.on(t.events.click,S=>{S.preventDefault(),S.stopPropagation()})},_overlay:function(){let e=this.options,i=r("<div>");return i.addClass("overlay for-calendar-picker").addClass(e.clsOverlay),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(e.overlayColor,e.overlayAlpha)}),i},_removeOverlay:()=>{r("body").find(".overlay.for-calendar-picker").remove()},clear:function(){this.value=datetime(),this.time=[datetime().hour(),datetime().minute()],this.element.val("")},val:function(e,i){let o=this.element,h=this.options,g;if(arguments.length===0||t.utils.isNull(e))return{date:this.value.val(),time:this.time};if(e==="")return this.clear();i&&(h.inputFormat=i);let _=e.split(" ");this.value=h.inputFormat?Datetime.from(_[0],h.inputFormat,this.locale):datetime(_[0]),_[1]&&(this.time=_[1].trim().split(":")),this.value.align("day"),t.getPlugin(this.calendar,"calendar").setTime(this.time),g=this.value.format(h.format),h.showTime&&this.time&&g&&(g+=` ${this._correctTime(this.time)}`),o.val(g),o.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},getTime:function(e=!1){let i=Str.lpad(this.time[0],"0",2),o=Str.lpad(this.time[1],"0",2);return e?`${i}:${o}`:this.time},changeAttribute:function(e,i){let o=t.getPlugin(this.calendar[0],"calendar");switch(e){case"value":this.val(i);break;case"disabled":this.toggleState();break;case"data-special":o.setSpecial(i);break;case"data-exclude":o.setExclude(i);break;case"data-min-date":o.setMinDate(i);break;case"data-max-date":o.setMaxDate(i);break;case"data-value":this.val(i);break}},destroy:function(){let e=this.element,i=this.options,o=e.parent(),h=o.find(".input-clear-button");r(globalThis).off(t.events.resize,{ns:this.id}),h.off(t.events.click),o.off(t.events.click,"button, input"),e.off(t.events.blur),e.off(t.events.focus),e.off(t.events.change),t.getPlugin(this.calendar,"calendar").destroy(),i.label&&o.prev("label").remove(),o.remove()}}),r(document).on(t.events.click,".overlay.for-calendar-picker",function(){r(this).remove(),r(".calendar-for-picker.open").removeClass("open open-up")}),r(document).on(t.events.click,()=>{r(".calendar-picker .calendar").removeClass("open open-up")})})(Metro,Dom),((t,r)=>{let f=["slide","slide-v","fade","switch","zoom","swirl"],e={carouselDeferred:0,autoStart:!1,width:"100%",height:"16/9",effect:f[0],effectFunc:"linear",direction:"left",duration:300,period:5e3,stopOnMouse:!0,controls:!0,controlsOnMouse:!1,controlsOutside:!1,controlPrev:"&larr;",controlNext:"&rarr;",bullets:!0,bulletsStyle:"square",bulletsSize:"default",bulletsPosition:"default",clsCarousel:"",clsSlides:"",clsSlide:"",clsControls:"",clsControlNext:"",clsControlPrev:"",clsBullets:"",clsBullet:"",clsBulletOn:"",clsThumbOn:"",onStop:t.noop,onStart:t.noop,onPlay:t.noop,onSlideClick:t.noop,onBulletClick:t.noop,onThumbClick:t.noop,onMouseEnter:t.noop,onMouseLeave:t.noop,onNextClick:t.noop,onPrevClick:t.noop,onSlideShow:t.noop,onSlideHide:t.noop,onCarouselCreate:t.noop};t.carouselSetup=i=>{e=r.extend({},e,i)},typeof globalThis.metroCarouselSetup<"u"&&t.carouselSetup(globalThis.metroCarouselSetup),t.Component("carousel",{init:function(i,o){return this._super(o,i,e,{height:0,width:0,slides:[],current:null,currentIndex:null,dir:"left",interval:!1,isAnimate:!1,id:null}),this},_create:function(){let i=this.element,o=this.options,h=i.find(".slide"),g=i.find(".slides");this.id=Hooks.useId(this.elem),this.dir=this.options.direction,i.addClass("carousel").addClass(o.clsCarousel),i.css({maxWidth:o.width}),o.controlsOutside===!0&&i.addClass("controls-outside"),g.length===0&&(g=r("<div>").addClass("slides").appendTo(i),h.appendTo(g)),h.addClass(o.clsSlides),h.length>0&&(this._createSlides(),this._createControls(),this._createBullets(),this._createEvents(),this._resize(),o.controlsOnMouse===!0&&(i.find("[class*=carousel-switch]").fadeOut(0),i.find(".carousel-bullets").fadeOut(0)),o.autoStart===!0?this._start():this._fireEvent("slide-show",{current:this.slides[this.currentIndex][0],prev:void 0})),this._fireEvent("carousel-create",{element:i})},_start:function(){let i=this,o=this.element,h=this.options,g=h.period,_=this.slides[this.currentIndex];_.data("period")!==void 0&&(g=_.data("period")),!(this.slides.length<=1)&&(this.interval===!1&&(this.interval=setTimeout(function(){let C=h.direction==="left"?"next":"prior";i._slideTo(C,!0)},g)),this._fireEvent("start",{element:o}))},_stop:function(){clearInterval(this.interval),this.interval=!1},_resize:function(){let i=this.element,o=this.options,h=i.outerWidth(),g,_=[];["16/9","21/9","4/3"].indexOf(o.height)>-1?g=t.utils.aspectRatioH(h,o.height):String(o.height).indexOf("@")>-1?(_=o.height.substring(1).toArray("|"),r.each(_,function(){let C=this.toArray(",");globalThis.matchMedia(C[0]).matches&&(["16/9","21/9","4/3"].indexOf(C[1])>-1?g=t.utils.aspectRatioH(h,C[1]):g=Number.parseInt(C[1]))})):g=Number.parseInt(o.height),i.css({height:g})},_createSlides:function(){let i=this,o=this.element,h=this.options,g=o.find(".slide");r.each(g,function(_){let C=r(this);if(C.data("cover")!==void 0&&C.css({backgroundImage:`url(${C.data("cover")})`}),_!==0)switch(h.effect){case"switch":case"slide":C.css("left","100%");break;case"slide-v":C.css("top","100%");break;case"fade":case"zoom":case"swirl":C.css("opacity","0");break}else C.addClass("active-slide");C.addClass(h.clsSlide),i.slides.push(C)}),this.currentIndex=0,this.current=this.slides[this.currentIndex]},_createControls:function(){let i=this.element,o=this.options,h,g;o.controls!==!1&&(h=r("<span>").addClass("carousel-switch-next").addClass(o.clsControls).addClass(o.clsControlNext).html("<div></div>"),g=r("<span>").addClass("carousel-switch-prev").addClass(o.clsControls).addClass(o.clsControlPrev).html("<div></div>"),o.controlNext&&h.children("div").html(o.controlNext),o.controlPrev&&g.children("div").html(o.controlPrev),h.appendTo(i),g.appendTo(i))},_createBullets:function(){let i=this.element,o=this.options,h,g;if(o.bullets!==!1){for(h=r("<div>").addClass("carousel-bullets").addClass(`${o.bulletsSize}-size`).addClass(`bullet-style-${o.bulletsStyle}`).addClass(o.clsBullets),o.bulletsPosition==="default"||o.bulletsPosition==="center"?h.addClass("flex-justify-center"):o.bulletsPosition==="left"?h.addClass("flex-justify-start"):h.addClass("flex-justify-end"),g=0;g<this.slides.length;g++){let _=r("<span>").addClass("carousel-bullet").addClass(o.clsBullet).data("slide",g);g===0&&_.addClass("bullet-on").addClass(o.clsBulletOn),_.appendTo(h)}h.appendTo(i)}},_createEvents:function(){let i=this,o=this.element,h=this.options;o.on(t.events.click,".carousel-bullet",function(){let g=r(this);i.isAnimate===!1&&(i._slideToSlide(g.data("slide")),i._fireEvent("bullet-click",{bullet:g}))}),o.on(t.events.click,".carousel-switch-next",function(){i.isAnimate===!1&&(i._slideTo("next",!1),i._fireEvent("next-click",{button:this}))}),o.on(t.events.click,".carousel-switch-prev",function(){i.isAnimate===!1&&(i._slideTo("prev",!1),i._fireEvent("prev-click",{button:this}))}),h.stopOnMouse===!0&&h.autoStart===!0&&(o.on(t.events.enter,()=>{i._stop(),i._fireEvent("mouse-enter",{element:o},!1,!0)}),o.on(t.events.leave,()=>{i._start(),i._fireEvent("mouse-leave",{element:o},!1,!0)})),h.controlsOnMouse===!0&&(o.on(t.events.enter,()=>{o.find("[class*=carousel-switch]").fadeIn(),o.find(".carousel-bullets").fadeIn()}),o.on(t.events.leave,()=>{o.find("[class*=carousel-switch]").fadeOut(),o.find(".carousel-bullets").fadeOut()})),o.on(t.events.click,".slide",function(){let g=r(this);i._fireEvent("slide-click",{slide:g})}),r(globalThis).on(t.events.resize,()=>{i._resize()},{ns:this.id})},_slideToSlide:function(i){let o=this.element,h=this.options;if(this.slides[i]===void 0||this.currentIndex===i)return;let g=i>this.currentIndex?"next":"prev",_=this.slides[this.currentIndex],C=this.slides[i];this.currentIndex=i,this._effect(_,C,h.effect,g),o.find(".carousel-bullet").removeClass("bullet-on").removeClass(h.clsBulletOn),o.find(`.carousel-bullet:nth-child(${this.currentIndex+1})`).addClass("bullet-on").addClass(h.clsBulletOn)},_slideTo:function(i="next",o=!1){let h=this.element,g=this.options,_=this.slides[this.currentIndex];i==="next"?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1));let C=this.slides[this.currentIndex];this._effect(_,C,g.effect,i,o),h.find(".carousel-bullet").removeClass("bullet-on").removeClass(g.clsBulletOn),h.find(`.carousel-bullet:nth-child(${this.currentIndex+1})`).addClass("bullet-on").addClass(g.clsBulletOn)},_effect:function(i,o,h,g,_){let C=this,S=this.options,A=S.duration,F,N=S.effectFunc,q=S.period,Y=(te,Ae,He,$e)=>{t.Effects[te](Ae[0],He[0],$e)};o.data("duration")!==void 0&&(A=o.data("duration")),o.data("effectFunc")!==void 0&&(N=o.data("effectFunc")),h==="switch"&&(A=0),i.stop(!0),o.stop(!0),this.isAnimate=!0,setTimeout(()=>{C.isAnimate=!1},A+100),h==="slide"?F=g==="next"?"slideLeft":"slideRight":h==="slide-v"?F=g==="next"?"slideUp":"slideDown":F=h,f.includes(h)||(F="switch"),Y(F,i,o,{duration:A,ease:N}),i.removeClass("active-slide"),o.addClass("active-slide"),setTimeout(()=>{C._fireEvent("slide-show",{current:o[0],prev:i[0]})},A),setTimeout(()=>{C._fireEvent("slide-hide",{current:i[0],next:o[0]})},A),_===!0&&(o.data("period")!==void 0&&(q=o.data("period")),this.interval=setTimeout(function(){let te=S.direction==="left"?"next":"prior";C._slideTo(te,!0)},q))},toSlide:function(i){this._slideToSlide(i)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},stop:function(){clearInterval(this.interval),this._fireEvent("stop")},play:function(){this._start(),this._fireEvent("play")},setEffect:function(i){let o=this.element,h=this.options,g=o.find(".slide");f.includes(i)&&(h.effect=i,g.removeStyleProperty("transform").css({top:0,left:0}))},changeAttribute:function(i,o){i==="data-effect"&&this.setEffect(o)},destroy:function(){let i=this.element,o=this.options;return i.off(t.events.click,".carousel-bullet"),i.off(t.events.click,".carousel-switch-next"),i.off(t.events.click,".carousel-switch-prev"),o.stopOnMouse===!0&&o.autoStart===!0&&(i.off(t.events.enter),i.off(t.events.leave)),o.controlsOnMouse===!0&&(i.off(t.events.enter),i.off(t.events.leave)),i.off(t.events.click,".slide"),r(globalThis).off(t.events.resize,{ns:this.id}),i}})})(Metro,Dom),((t,r)=>{let f={charmsDeferred:0,position:"right",opacity:1,clsCharms:"",onCharmCreate:t.noop,onOpen:t.noop,onClose:t.noop,onToggle:t.noop};t.charmsSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroCharmsSetup<"u"&&t.charmsSetup(globalThis.metroCharmsSetup),t.Component("charms",{init:function(e,i){return this._super(i,e,f,{origin:{background:""}}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("charm-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options;e.addClass("charms").addClass(`${i.position}-side`).addClass(i.clsCharms),this.origin.background=e.css("background-color"),e.css({backgroundColor:Farbe.Routines.toRGBA(t.utils.getStyleOne(e,"background-color"),i.opacity)})},_createEvents:()=>{},open:function(){this.element.addClass("open"),this._fireEvent("open")},close:function(){this.element.removeClass("open"),this._fireEvent("close")},toggle:function(){this.element.hasClass("open")===!0?this.close():this.open(),this._fireEvent("toggle")},opacity:function(e){let i=this.element,o=this.options;if(e===void 0)return o.opacity;let h=Math.abs(Number.parseFloat(e));h<0||h>1||(o.opacity=h,i.css({backgroundColor:Farbe.Routines.toRGBA(t.utils.getStyleOne(i,"background-color"),h)}))},changeOpacity:function(){let e=this.element;this.opacity(e.attr("data-opacity"))},changeAttribute:function(e){switch(e){case"data-opacity":this.changeOpacity();break}},destroy:function(){return this.element}}),t.charms={check:e=>t.utils.isMetroObject(e,"charms")===!1?(console.warn("Element is not a charms component"),!1):!0,isOpen:function(e){if(this.check(e)!==!1)return r(e).hasClass("open")},open:function(e){this.check(e)!==!1&&t.getPlugin(e,"charms").open()},close:function(e){this.check(e)!==!1&&t.getPlugin(e,"charms").close()},toggle:function(e){this.check(e)!==!1&&t.getPlugin(e,"charms").toggle()},closeAll:()=>{r("[data-role*=charms]").each(function(){t.getPlugin(this,"charms").close()})},opacity:function(e,i){this.check(e)!==!1&&t.getPlugin(e,"charms").opacity(i)}}})(Metro,Dom),((t,r)=>{let f="[data-role-dropmenu], [data-role-dropdown]",e='<svg class="dropdown-caret" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',i={dropdownDeferred:0,dropFilter:null,toggleElement:null,align:"left",noClose:!1,duration:50,openMode:"auto",openFunc:"show",closeFunc:"hide",height:"auto",onDrop:t.noop,onUp:t.noop,onDropdownCreate:t.noop};t.dropdownSetup=o=>{i=r.extend({},i,o)},typeof globalThis.metroDropdownSetup<"u"&&t.dropdownSetup(globalThis.metroDropdownSetup),t.Component("dropdown",{init:function(o,h){return this._super(h,o,i,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){let o=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:o}),o.hasClass("open")&&(o.removeClass("open"),setTimeout(()=>{this.open(!0)},0))},_toggle:function(){let o=this.element,h=o.siblings(".menu-toggle, .dropdown-toggle, a");if(h.length===0&&(h=o.prev(),h.length===0))throw new Error("Menu toggle not found");return h[0]},_createStructure:function(){let o=this.element,h=this.options,g=o.parents("[data-role-dropdown]").length,_;h.openMode==="up"&&o.addClass("drop-up"),_=h.toggleElement?r(h.toggleElement):r(this._toggle()),_.length&&_.append(e),this.displayOrigin=t.utils.getStyleOne(o,"display"),h.height!=="auto"&&o.css({height:h.height,"overflow-y":"auto"}),o.css("display","none"),this.toggle=_,this.level=g},_createEvents:function(){let o=this.element,h=this.options,g=this.toggle,_=o.parent();g.on(t.events.click,C=>{if(r(".active-container").removeClass("active-container"),o.css("display")!=="none"&&!o.hasClass("keep-open"))this.close(!0,o);else{if(r(f).each((S,A)=>{!o.parents("[data-role-dropdown]").is(A)&&!r(A).hasClass("keep-open")&&r(A).css("display")!=="none"&&(t.utils.isValue(h.dropFilter)?r(A).closest(h.dropFilter).length>0&&this.close(!0,A):this.close(!0,A))}),o.hasClass("horizontal")){o.css({visibility:"hidden",display:"block"});let S=0;r.each(o.children("li"),function(){S+=r(this).outerWidth(!0)}),o.css({visibility:"visible",display:"none"}),o.css("width",S+2)}this.open(!1,o),_.addClass("active-container")}C.preventDefault(),C.stopPropagation()}),h.noClose===!0&&o.addClass("keep-open").on(t.events.click,C=>{C.preventDefault(),C.stopPropagation()}),r(o).find("li.disabled a").on(t.events.click,C=>{C.preventDefault()})},_close:function(o,h){let g=r(o),_=t.getPlugin(g,"dropdown"),C=_.toggle,S=_.options,A=S.closeFunc;C.removeClass("active-toggle").removeClass("active-control"),_.element.parent().removeClass("active-container"),h&&(A="hide"),g[A](h?0:S.duration,()=>{_._fireEvent("close"),_._fireEvent("up"),S.openMode==="auto"&&_.element.removeClass("drop-up drop-as-dialog")}),this.isOpen=!1},_open:function(o,h){let g=t.getPlugin(o,"dropdown"),_=g.options,C=_.openFunc;g.toggle.addClass("active-toggle").addClass("active-control"),g.element.parent().addClass("active-container"),g.element[C](h?0:_.duration,function(){let S=r(this),A=t.utils.viewportOutByWidth(this),F=t.utils.viewportOutByHeight(this);_.openMode==="auto"&&(F&&S.addClass("drop-up"),A&&S.addClass("place-right"),t.utils.viewportOut(this)&&S.removeClass("drop-up place-right").addClass("drop-as-dialog")),g._fireEvent("open"),g._fireEvent("drop")}),this.isOpen=!0},close:function(o,h){this._close(h||this.element,o)},open:function(o,h){this._open(h||this.element,o)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:(o,h)=>{},destroy:function(){this.toggle.off(t.events.click)}}),r(document).on(t.events.click,()=>{r(f).each(function(){let o=r(this);if(o.hasClass("keep-open")||o.hasClass("stay-open")||o.hasClass("ignore-document-click"))return;let h=t.getPlugin(o,"dropdown"),g=t.getPlugin(o,"dropmenu");h&&h.close(),g&&g.close()})})})(Metro,Dom),((t,r)=>{let f={id:"",label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"❌",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"",filter:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,openMode:"auto",showGroupName:!1,shortTag:!0,source:null,sourceMethod:"GET",sourceType:"json",filterSource:null,filterThreshold:500,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemAction:"",clsLabel:"",clsGroupName:"",clsFilterInput:"",onClear:t.noop,onChange:t.noop,onUp:t.noop,onDrop:t.noop,onItemSelect:t.noop,onItemDeselect:t.noop,onSelectCreate:t.noop,onData:e=>e};t.selectSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroSelectSetup<"u"&&t.selectSetup(globalThis.metroSelectSetup),t.Component("select",{init:function(e,i){return this._super(i,e,f,{list:null,placeholder:null,observer:null}),this},_create:function(){let e=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:e})},_setPlaceholder:function(){let e=this.element,i=this.options,o=e.siblings(".select-input");i.usePlaceholder===!0&&(!t.utils.isValue(e.val())||`${e.val()}`==`${i.emptyValue}`)&&o.html(i.placeholder||this.strings.label_select_more)},_addTag:function(e,i){let o=this.element,h=this.options,g,_=o.closest(".select"),C=`<span class='title'>${e}</span>`,S=r("<div>").addClass("tag").addClass(h.shortTag?"short-tag":"").addClass(h.clsSelectedItem).html(C).data("option",i);return r("<span>").addClass("action unselect-option").addClass(h.clsSelectedItemAction).html("&times;").appendTo(S),_.hasClass("large")?g="large":_.hasClass("small")?g="small":_.hasClass("medium")&&(g="medium"),S.addClass(g),S},_addOption:function(e,i,o,h,g){let _=r(e),C,S,A=this.element,F=this.options,N=t.utils.isValue(_.attr("data-template"))?_.attr("data-template").replace("$1",e.text):e.text,q=_.attr("data-display");C=r("<li>").addClass(F.clsOption).data("option",e).attr("data-text",e.text).attr("data-value",e.value?e.value:""),S=r("<a>").html(N);let Y=_.attr("data-icon");if(Y&&S.prepend(r("<span>").addClass("icon").html(Y)),q&&(C.attr("data-display",q),N=q),C.addClass(e.className),C.data("group",g),_.is(":disabled")&&C.addClass("disabled"),_.is(":selected")){let te="";F.showGroupName&&g&&(te=`&nbsp;<span class='selected-item__group-name ${F.clsGroupName}'>${g}</span>`),h?(C.addClass("d-none"),o.append(this._addTag(S.html()+te,C))):(N=S.html()+te,A.val(e.value),o.html(N),A.fire("change",{val:e.value}),C.addClass("active"))}C.append(S).appendTo(i)},_addOptionGroup:function(e,i,o,h){let g=this,_=this.options,C=r(e);r("<li>").html(e.label).addClass("group-title").addClass(_.clsOptionGroup).appendTo(i),r.each(C.children(),function(){g._addOption(this,i,o,h,e.label)})},_createOptions:function(){let e=this,i=this.element,o=this.options,h=i.parent().find("ul").empty(),g=i.find("option[selected]").length>0,_=i[0].multiple,C=i.siblings(".select-input");i.siblings(".select-input").empty(),o.addEmptyValue===!0&&i.prepend(r(`<option ${g?"":"selected"} value='${o.emptyValue}' class='d-none'></option>`)),r.each(i.children(),function(){this.tagName==="OPTION"?e._addOption(this,h,C,_,null):this.tagName==="OPTGROUP"&&e._addOptionGroup(this,h,C,_)})},_createSelect:async function(){let e=this.element,i=this.options,o=e.wrap("<label>"),h=e[0].multiple,g=Hooks.useId(o[0]),_=r("<div>").addClass("button-group"),C,S,A=Hooks.useId("select-focus-trigger"),F=r("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",A);this.placeholder=r("<span>").addClass("placeholder").html(i.placeholder),o.attr("id",i.id?i.id:g).attr("for",A),o[0].className=t.utils.classNames(e[0].className,`input-${i.size}`,"select",i.clsSelect),r("<span>").addClass("dropdown-toggle").appendTo(o),h&&o.addClass("multiple"),_.appendTo(o),F.appendTo(o);let N=r("<div>").addClass("select-input").addClass(i.clsSelectInput).attr("name",`__${g}__`);C=r("<div>").addClass("drop-container").addClass(i.clsDropContainer),i.dropFullSize===!1?i.dropWidth&&C.css({width:+i.dropWidth}):o.addClass("drop-full-size"),S=r("<div>").appendTo(C);let q=r("<ul>").addClass("option-list").addClass(i.clsDropList).css({"max-height":i.dropHeight});if(r(`<input type='text' data-role='input' data-clear-button-icon="${i.clearButtonIcon}">`).attr("placeholder",i.filterPlaceholder||`${this.strings.label_filter}...`).appendTo(S).addClass(i.clsFilterInput),o.append(N),o.append(C),C.append(S),i.filter!==!0&&S.hide(),C.append(q),i.source&&await this.fetch(i.source,{method:i.sourceMethod||"GET",headers:{"Content-Type":`application/${i.sourceType||"json"}`}}),this._createOptions(),this._setPlaceholder(),this._createDroppable(C),this.list=q,i.clearButton===!0&&!e[0].readOnly?r("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).appendTo(_):_.addClass("d-none"),i.prepend!==""&&!h&&r("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(o),i.append!==""&&!h&&r("<div>").html(i.append).addClass("append").addClass(i.clsAppend).appendTo(o),e.attr("dir")==="rtl"&&o.addClass("rtl").attr("dir","rtl"),i.label){let Y=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(o);e.attr("id")?Y.attr("for",e.attr("id")):Y.attr("for",A),e.attr("dir")==="rtl"&&Y.addClass("rtl")}e.is(":disabled")?this.disable():this.enable(),this.observer=new MutationObserver(this._updateSelect.bind(this)),this.observer.observe(e[0],{childList:!0,subtree:!0})},_createDroppable:function(e){let i=this.options,o=e.find("input"),h=this.element.closest(".select"),g=e.siblings(".dropdown-caret"),_=e.find("ul");t.makePlugin(e,"dropdown",{dropFilter:".select",duration:i.duration,toggleElement:[h],openMode:i.openMode,onDrop:()=>{let C;g.addClass("active-toggle");let S=r(".select .drop-container");r.each(S,function(){let A=r(this);if(A.is(e))return;let F=t.getPlugin(A,"dropdown");F!=null&&F.close&&F.close()}),o.val("").trigger(t.events.keyup),C=_.find("li.active").length>0?r(_.find("li.active")[0]):void 0,C!==void 0&&(_[0].scrollTop=C.position().top-(_.height()-C.height())/2),this._fireEvent("drop",{list:_[0]})},onUp:()=>{g.removeClass("active-toggle"),this._fireEvent("up",{list:_[0]})}})},_updateSelect:function(e){for(let i of e)i.type==="childList"&&(i.addedNodes.length||i.removedNodes.length)&&this._createOptions()},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.closest(".select"),g=h.find(".drop-container"),_=i.siblings(".select-input"),C=g.find("input"),S=g.find("ul"),A=h.find(".input-clear-button"),F=h.find(".select-focus-trigger");F.on("focus",()=>{h.addClass("focused")}),F.on("blur",()=>{h.removeClass("focused")}),A.on(t.events.click,q=>{i.val(o.emptyValue),i[0].multiple&&S.find("li").removeClass("d-none"),_.clear(),e._setPlaceholder(),q.preventDefault(),q.stopPropagation(),e._fireEvent("clear"),e._fireEvent("change",{selected:e.getSelected()})}),i.on(t.events.change,()=>{e._setPlaceholder()}),h.on(t.events.click,()=>{r(".focused").removeClass("focused"),h.addClass("focused")}),_.on(t.events.click,()=>{r(".focused").removeClass("focused"),h.addClass("focused")}),S.on(t.events.click,"li",function(q){if(r(this).hasClass("group-title")){q.preventDefault(),q.stopPropagation();return}let Y=r(this),te=Y.attr("data-display"),Ae=Y.data("value"),He=Y.data("group"),$e=te||Y.children("a").html(),Pe=Y.data("option"),Se=i.find("option");o.showGroupName&&He&&($e+=`&nbsp;<span class='selected-item__group-name ${o.clsGroupName}'>${He}</span>`),i[0].multiple?(Y.addClass("d-none"),_.append(e._addTag($e,Y))):(S.find("li.active").removeClass("active").removeClass(o.clsOptionActive),Y.addClass("active").addClass(o.clsOptionActive),_.html($e),t.getPlugin(g,"dropdown").close()),r.each(Se,function(){this===Pe&&(this.selected=!0)}),e._fireEvent("item-select",{val:Ae,option:Pe,leaf:Y[0]});let Le=e.getSelected();e._fireEvent("change",{selected:Le})}),_.on("click",".tag .action",function(q){let Y=r(this).closest(".tag"),te=Y.data("option"),Ae=te.data("option");te.removeClass("d-none"),r.each(i.find("option"),function(){this===Ae&&(this.selected=!1)}),Y.remove(),e._fireEvent("item-deselect",{option:Ae});let He=e.getSelected();e._fireEvent("change",{selected:He}),q.preventDefault(),q.stopPropagation()});let N=Hooks.useDebounce(async q=>{let Y=this.options,te=this.list,Ae=q.target.value.toLowerCase(),He=`${Y.filterSource}${Ae}`;if(Y.filterSource)await this.fetch(He,{method:Y.sourceMethod||"GET",headers:{"Content-Type":`application/${Y.sourceType||"json"}`}},!0);else{let $e=te.find("li"),Pe,Se,Le;for(Pe=0;Pe<$e.length;Pe++)r($e[Pe]).hasClass("group-title")||(Se=$e[Pe].getElementsByTagName("a")[0],Le=Se.innerHTML||Se.innerText,Le.toLowerCase().includes(Ae)?$e[Pe].style.display="":$e[Pe].style.display="none")}},o.filterThreshold);C.on(t.events.keyup,N.bind(this)),C.on(t.events.click,q=>{q.preventDefault(),q.stopPropagation()}),g.on(t.events.click,q=>{q.preventDefault(),q.stopPropagation()})},_clearOptions:function(){this.element.clear(),this.list.clear()},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(e){let i=this.element,o=i.find("option"),h=i.closest(".select");r.each(o,function(){this.selected=t.utils.isNull(e)?!1:this.defaultSelected}),this.list.find("li").remove(),h.find(".select-input").html(""),this._createOptions();let g=this.getSelected();this._fireEvent("change",{selected:g})},getSelected:function(){let e=this.element,i=[];return e.find("option").each(function(){this.selected&&i.push(this.value)}),i},val:function(e){let i=this,o=this.element,h=this.options,g=o.siblings(".select-input"),_=o.find("option"),C=this.list.find("li"),S=[],A=!!o.attr("multiple"),F,N,q,Y,te,Ae;if(t.utils.isNull(e))return r.each(_,function(){this.selected&&S.push(this.value)}),A?S:S[0];r.each(_,function(){this.selected=!1}),C.removeClass("active").removeClass(h.clsOptionActive),g.html("");let He=Array.isArray(e)?e:[e];r.each(He,function(){for(N=0;N<_.length;N++)if(F=_[N],q=t.utils.isValue(F.getAttribute("data-template"))?F.getAttribute("data-template").replace("$1",F.text):F.text,`${F.value}`==`${this}`){F.selected=!0;break}for(N=0;N<C.length;N++)if(Y=r(C[N]),Ae=Y.data("group"),te=Y.attr("data-value"),`${te}`==`${this}`){h.showGroupName&&Ae&&(q+=`&nbsp;<span class='selected-item__group-name'>${Ae}</span>`),A?(Y.addClass("d-none"),g.append(i._addTag(q,Y))):(Y.addClass("active").addClass(h.clsOptionActive),g.html(q));break}});let $e=this.getSelected();this._fireEvent("change",{selected:$e})},options:function(e,i,o){return this.data(e,i,o)},data:function(e,i,o){let h=this.element,g,_,C=o||",";return typeof i=="string"?_=i.toArray(C).map(S=>Number.isNaN(S)?S:+S):Array.isArray(i)?_=i.slice().map(S=>Number.isNaN(S)?S:+S):_=[],this.observer.disconnect(),h.empty(),typeof e=="string"?h.html(e):t.utils.isObject2(e)&&r.each(e,(S,A)=>{if(t.utils.isObject2(A))g=r("<optgroup label=''>").attr("label",S).appendTo(h),r.each(A,(F,N)=>{let q=r("<option>").attr("value",F).text(N).appendTo(g);_.indexOf(+F)>-1&&q.prop("selected",!0)});else{let F=r("<option>").attr("value",S).text(A).appendTo(h);_.indexOf(S)>-1&&F.prop("selected",!0)}}),this._createOptions(),this.observer.observe(h[0],{childList:!0,subtree:!0}),this},addOption:function(e,i,o){let h=this.element,g=r("<option>").attr("value",e).text(i||e);return h.append(g),o&&(h[0].multiple||h.find("option").prop("selected",!1),g.prop("selected",!0)),this},addOptions:function(e){let i=this;return e?(this.observer.disconnect(),Array.isArray(e)?r.each(e,function(){t.utils.isObject2(this)?i.addOption(this.val,this.title,this.selected):i.addOption(this)}):t.utils.isObject2(e)&&r.each(e,(o,h)=>{i.addOption(o,h)}),this._createOptions(),this.observer.observe(element[0],{childList:!0,subtree:!0}),this):this},removeOption:function(e){return this.element.find("option").each(function(){let i=r(this);`${i.attr("value")}`=="${val}"&&i.remove()}),this._createOptions(),this},removeOptions:function(e){let i=this.element.find("option");return!e||!Array.isArray(e)?this:(i.each(function(){let o=r(this),h=o.attr("value");e.indexOf(h)>-1&&o.remove()}),this._createOptions(),this)},fetch:async function(e,i,o=!1){let h=this.element,g=this.options,_=Object.assign({method:"GET",headers:{"Content-Type":`application/${g.sourceType}`}},i),C=await fetch(e,_);if(C.ok===!1)return;o&&this._clearOptions();let S=g.sourceType==="json"?await C.json():await C.text();S=t.utils.exec(g.onData,[S],h[0]),r.each(S,function(){let A=r("<option>").attr("value",this.value).html(this.text);this.icon&&A.attr("data-icon",this.icon),A.appendTo(h)})},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){let e=this.element,i=this.options,o=e.closest(".select"),h=o.find(".drop-container"),g=e.siblings(".select-input"),_=h.find("input"),C=h.find("ul"),S=o.find(".input-clear-button");o.off(t.events.click),o.off(t.events.click,".input-clear-button"),g.off(t.events.click),_.off(t.events.blur),_.off(t.events.focus),C.off(t.events.click,"li"),_.off(t.events.keyup),h.off(t.events.click),S.off(t.events.click),h.data("dropdown").destroy(),i.label&&o.prev("label").remove(),o.remove()}}),r(document).on(t.events.click,()=>{r(".select").removeClass("focused")},{ns:"blur-select-elements"})})(Metro,Dom),((t,r)=>{let f={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",searchButton:!1,clearButton:!0,revealButton:!0,randomButton:!1,clearButtonIcon:"❌",revealButtonIcon:"👀",searchButtonIcon:"🔍",randomButtonIcon:"🎲",customButtons:[],searchButtonClick:"submit",randomSymbols:"0123456789;abcdefghijklmnopqrstuvwxyz;ABCDEFGHIJKLMNOPQRSTUVWXYZ;<>!?@#$%^&*()_+",randomLength:12,prependOptions:"",prependOptionsSep:",",appendOptions:"",appendOptionsSep:",",badge:null,clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsRandomButton:"",clsLabel:"",onAutocompleteSelect:t.noop,onHistoryChange:t.noop,onHistoryUp:t.noop,onHistoryDown:t.noop,onClearClick:t.noop,onRevealClick:t.noop,onSearchButtonClick:t.noop,onEnterClick:t.noop,onInputCreate:t.noop};t.inputSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroInputSetup<"u"&&t.inputSetup(globalThis.metroInputSetup),t.Component("input",{init:function(e,i){return this._super(i,e,f,{history:[],historyIndex:-1,autocomplete:[],prependOptionsList:null,appendOptionsList:null}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){let e=this,i=this.element,o=this.options,h=i.wrap("<div>").addClass(`input ${i[0].className}`),g,_,C,S,A;t.utils.isValue(o.historyPreset)&&(r.each(o.historyPreset.toArray(o.historyDivider),function(){e.history.push(this)}),e.historyIndex=e.history.length-1),i.attr("type")===void 0&&i.attr("type","text"),g=r("<div>").addClass("button-group").appendTo(h),t.utils.isValue(i.val().trim())||i.val(o.defaultValue),o.clearButton===!0&&!i[0].readOnly&&(_=r("<button>").addClass("button input-clear-button").addClass(o.clsClearButton).attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon).attr("title",this.strings.label_clear_input),_.appendTo(g)),i.attr("type")==="password"&&o.revealButton===!0&&(C=r("<button>").addClass("button input-reveal-button").addClass(o.clsRevealButton).attr("tabindex",-1).attr("type","button").html(o.revealButtonIcon).attr("title",this.strings.label_reveal_password),C.appendTo(g)),o.searchButton===!0&&(S=r("<button>").addClass("button input-search-button").addClass(o.clsSearchButton).attr("tabindex",-1).attr("type",o.searchButtonClick==="submit"?"submit":"button").html(o.searchButtonIcon).attr("title",this.strings.label_search_input),S.appendTo(g)),o.randomButton===!0&&(A=r("<button>").addClass("button input-random-button").addClass(o.clsRandomButton).attr("tabindex",-1).attr("type","button").html(o.randomButtonIcon).attr("title",this.strings.label_generate_random),A.appendTo(g));let F,N;if(o.prepend&&r("<div>").html(o.prepend).addClass("prepend").addClass(o.clsPrepend).appendTo(h),o.prependOptions){F=r("<div>").addClass("prepend-options").appendTo(h),N=r("<select data-role='select'>").addClass("options-list"),F.append(N);for(let Y of o.prependOptions.toArray(o.prependOptionsSep))r("<option>").attr("value",Y).html(Y).appendTo(N);this.prependOptionsList=N}if(o.append&&r("<div>").html(o.append).addClass("append").addClass(o.clsAppend).appendTo(h),o.appendOptions){F=r("<div>").addClass("append-options").appendTo(h),N=r("<select data-role='select'>").addClass("options-list"),F.append(N);for(let Y of o.appendOptions.toArray(o.appendOptionsSep))r("<option>").attr("value",Y).html(Y).appendTo(N);this.appendOptionsList=N}let q=t.utils.isObject(o.customButtons);if(Array.isArray(q)&&r.each(q,function(){let Y=r("<button>");Y.addClass("button input-custom-button").addClass(o.clsCustomButton).addClass(this.cls).attr("tabindex",-1).attr("type","button").html(this.text),this.attr&&typeof this.attr=="object"&&r.each(this.attr,(te,Ae)=>{Y.attr(Str.dashedName(te),Ae)}),this.onclick&&Y.on("click",()=>{this.onclick.apply(Y,[i.valueOf(),i])}),Y.appendTo(g)}),t.utils.isValue(i.attr("data-exclaim"))&&h.attr("data-exclaim",i.attr("data-exclaim")),i.attr("dir")==="rtl"&&h.addClass("rtl").attr("dir","rtl"),i[0].className="",h.addClass(o.clsComponent),i.addClass(o.clsInput),o.size!=="default"&&h.css({width:o.size}),(!t.utils.isNull(o.autocomplete)||!t.utils.isNull(o.autocompleteUrl))&&r("<div>").addClass("autocomplete-list").css({maxHeight:o.autocompleteListHeight,display:"none"}).appendTo(h),t.utils.isValue(o.autocomplete)){let Y=t.utils.isObject(o.autocomplete);Y!==!1?this.autocomplete=Y:this.autocomplete=o.autocomplete.toArray(o.autocompleteDivider)}if(t.utils.isValue(o.autocompleteUrl)&&fetch(o.autocompleteUrl,{method:o.autocompleteUrlMethod}).then(Y=>Y.text()).then(Y=>{let te=[];try{te=JSON.parse(Y),o.autocompleteUrlKey&&(te=te[o.autocompleteUrlKey])}catch{te=Y.split(`
`)}e.autocomplete=e.autocomplete.concat(te)}),o.label){let Y=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(h);if(i.attr("id"))Y.attr("for",i.attr("id"));else{let te=Hooks.useId(i[0]);i.id(te),Y.attr("for",te)}i.attr("dir")==="rtl"&&Y.addClass("rtl")}o.badge&&h.append(r("<div>").addClass("badge").html(o.badge)),i.is(":disabled")?this.disable():this.enable(),this.component=h},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.closest(".input"),g=h.find(".autocomplete-list");h.on(t.events.click,".input-clear-button",()=>{let _=i.val();i.val(t.utils.isValue(o.defaultValue)?o.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),g.length>0&&g.css({display:"none"}),e._fireEvent("clear-click",{prev:_})}),h.on(t.events.click,".input-reveal-button",()=>{i.attr("type")==="password"?i.attr("type","text"):i.attr("type","password"),e._fireEvent("reveal-click",{val:i.val()})}),h.on(t.events.click,".input-search-button",function(){o.searchButtonClick!=="submit"?(console.log("Search button clicked"),e._fireEvent("search-button-click",{val:e.val(),button:this})):this.form&&this.form.submit()}),h.on(t.events.click,".input-random-button",()=>{let _=e._generateRandomValue();i.val(_).fire("change").fire("keyup").focus(),e._fireEvent("random-click",{val:_})}),i.on(t.events.keyup,_=>{let C=i.val().trim();o.history&&_.keyCode===t.keyCode.ENTER&&C!==""&&(i.val(""),e.history.push(C),e.historyIndex=e.history.length-1,e._fireEvent("history-change",{val:C,history:e.history,historyIndex:e.historyIndex}),o.preventSubmit===!0&&_.preventDefault()),o.history&&_.keyCode===t.keyCode.UP_ARROW&&(e.historyIndex--,e.historyIndex>=0?(i.val(""),i.val(e.history[e.historyIndex]),e._fireEvent("history-down",{val:i.val(),history:e.history,historyIndex:e.historyIndex})):e.historyIndex=0,_.preventDefault()),o.history&&_.keyCode===t.keyCode.DOWN_ARROW&&(e.historyIndex++,e.historyIndex<e.history.length?(i.val(""),i.val(e.history[e.historyIndex]),e._fireEvent("history-up",{val:i.val(),history:e.history,historyIndex:e.historyIndex})):e.historyIndex=e.history.length-1,_.preventDefault())}),i.on(t.events.keydown,_=>{_.keyCode===t.keyCode.ENTER&&e._fireEvent("enter-click",{val:i.val()})}),i.on(t.events.blur,()=>{h.removeClass("focused")}),i.on(t.events.focus,()=>{h.addClass("focused")}),i.on(t.events.input,function(){let _=this.value.toLowerCase();e._drawAutocompleteList(_)}),h.on(t.events.click,".autocomplete-list .item",function(){let _=r(this).attr("data-autocomplete-value");i.val(_),g.css({display:"none"}),i.trigger("change"),e._fireEvent("autocomplete-select",{value:_})})},_generateRandomValue:function(){let e=this.options,i=e.randomSymbols.split(";"),o=Math.round(e.randomLength/i.length),h=[];for(let g of i){let _=g.split(""),C=_.length;for(let S=0;S<o;S++)h.push(_[Math.floor(Math.random()*C)])}return h.shuffle().join("")},_drawAutocompleteList:function(e){let i=this,o=this.element.closest(".input").find(".autocomplete-list");if(o.length===0)return;o.html("");let h=this.autocomplete.filter(g=>g.toLowerCase().indexOf(e)>-1);o.css({display:h.length>0?"block":"none"}),r.each(h,function(){let g=this.toLowerCase().indexOf(e),_,C=r("<div>").addClass("item").attr("data-autocomplete-value",this);g===0?_=`<strong>${this.substring(0,e.length)}</strong>${this.substring(e.length)}`:_=`${this.substring(0,g)}<strong>${this.substring(g,e.length)}</strong>${this.substring(g+e.length)}`,C.html(_).appendTo(o),i._fireEvent("draw-autocomplete-item",{item:C})})},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(e){this.historyIndex=e>=this.history.length?this.history.length-1:e},setHistory:function(e,i){let o=this,h=this.options;if(!e)return;typeof e!="string"&&!Array.isArray(e)&&(console.error("History must be a string or an array!"),console.dir(e));let g=typeof e=="string"?e.toArray(h.historyDivider):e;i===!0?r.each(g,function(){o.history.push(this)}):this.history=e,this.historyIndex=this.history.length-1},clear:function(){this.element.val("")},toDefault:function(){this.element.val(t.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(e){let i=t.utils.isObject(e);i!==!1?this.autocomplete=i:typeof e=="string"&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},val:function(e,i=";"){let o=this.element,h=this.options;if(!t.utils.isValue(e)){let A=o.val();return h.prependOptions&&(A=this.prependOptionsList.val()+A),h.appendOptions&&(A=A+this.appendOptionsList.val()),A}let g=e.split(i),_="",C="";h.prependOptions&&(_=g.shift(),t.getPlugin(this.prependOptionsList,"select").val(_),console.log(_)),h.appendOptions&&(C=g.pop(),t.getPlugin(this.appendOptionsList,"select").val(C));let S=g.join("");o.val(S)},prependOptionsVal:function(e){this.options.prependOptions&&(t.utils.isValue(e)||this.prependOptionsList.val(),this.prependOptionsList.val(e))},appendOptionsVal:function(e){if(this.options.appendOptions){if(!t.utils.isValue(e))return this.appendOptionsList.val();this.appendOptionsList.val(e)}},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break}},destroy:function(){let e=this.element,i=this.options,o=e.parent(),h=o.find(".input-clear-button"),g=o.find(".input-reveal-button"),_=o.find(".input-custom-button");h.length>0&&h.off(t.events.click),g.length>0&&(g.off(t.events.start),g.off(t.events.stop)),_.length>0&&h.off(t.events.click),e.off(t.events.blur),e.off(t.events.focus),i.label&&o.prev("label").remove(),o.remove()}}),r(document).on(t.events.click,()=>{r(".input .autocomplete-list").hide()})})(Metro,Dom),((t,r)=>{let f={chatDeferred:0,inputTimeFormat:null,timeFormat:"D MMM hh:mm A",name:"John Doe",avatar:"<span>👦</span>",welcome:null,welcomeAvatar:"<span>👽</span>",title:null,width:"100%",height:"auto",messages:null,sendButtonTitle:"",sendButtonIcon:"",readonly:!1,clsChat:"",clsName:"",clsTime:"",clsInput:"",clsSendButton:"",clsMessageLeft:"default",clsMessageRight:"default",onMessage:t.noop,onSend:t.noop,onSendButtonClick:t.noop,onChatCreate:t.noop};t.chatSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroChatSetup<"u"&&t.chatSetup(globalThis.metroChatSetup),t.Component("chat",{init:function(e,i){return this._super(i,e,f,{input:null,classes:"primary secondary success alert warning yellow info dark light".split(" "),lastMessage:null}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("chat-create",{element:e})},_createStructure:function(){let e=this,i=this.element,o=this.options,h=[{html:`${o.sendButtonTitle||this.strings.label_send}${o.sendButtonIcon}`,cls:`${o.clsSendButton} js-chat-send-button`,onclick:o.onSendButtonClick}];i.addClass("chat").addClass(o.clsChat),i.css({width:o.width,height:o.height}),t.utils.isValue(o.title)&&r("<div>").addClass("title").html(o.title).appendTo(i),r("<div>").addClass("messages").appendTo(i);let g=r("<div>").addClass("message-input").appendTo(i),_=r("<input type='text'>").addClass("chat-input");_.appendTo(g),setTimeout(()=>{t.makePlugin(_[0],"input",{customButtons:h,clsInput:o.clsInput})}),o.welcome&&this.add({text:o.welcome,time:datetime(),position:"left",name:"Chat Bot",avatar:o.welcomeAvatar}),t.utils.isValue(o.messages)&&typeof o.messages=="string"&&(o.messages=t.utils.isObject(o.messages)),!t.utils.isNull(o.messages)&&typeof o.messages=="object"&&t.utils.objectLength(o.messages)>0&&r.each(o.messages,function(){e.add(this)}),i.find(".message-input")[o.readonly?"addClass":"removeClass"]("disabled")},_createEvents:function(){let e=this.element,i=this.options,o=()=>{let h=e.find(".chat-input input"),g=`${h.val()}`;if(g.trim()==="")return!1;let _={id:t.utils.elementId("chat-message"),name:i.name,avatar:i.avatar,text:g,position:"right",time:datetime()};this.add(_),h.val(""),this._fireEvent("send",{msg:_}),h.focus()};e.on(t.events.click,".js-chat-send-button",()=>{o()}),e.on(t.events.keyup,".chat-input > input",h=>{h.keyCode===t.keyCode.ENTER&&o()})},add:function(e){let i=this.element,o=this.options,h=this.locale,g,_,C,S,A,F=i.find(".messages"),N=o.inputTimeFormat?Datetime.from(e.time,o.inputTimeFormat,h):datetime(e.time);if(g=r("<div>").addClass("message").addClass(e.position).appendTo(F),C=r("<div>").addClass("message-item").appendTo(g),t.utils.isUrl(e.avatar)||e.avatar.includes("data:image"))S=r("<img>").attr("src",e.avatar).attr("alt",e.avatar).addClass("message-avatar").appendTo(C);else if(e.avatar){let Y=r(e.avatar);Y.length?S=Y.addClass("message-avatar").appendTo(C):S=r("<span>").addClass("message-avatar").html(e.avatar).appendTo(C)}A=r("<div>").addClass("message-text").append(r("<div>").addClass("message-text-inner").html(Str.escapeHtml(e.text))).appendTo(C);let q=r("<div>").addClass("message-time").addClass(o.clsTime).text(N.format(o.timeFormat)).appendTo(A);return _=r("<div>").addClass("message-sender").addClass(o.clsName).text(e.name).appendTo(A),t.utils.isValue(e.id)&&g.attr("id",e.id),e.position==="left"&&t.utils.isValue(o.clsMessageLeft)&&A.addClass(o.clsMessageLeft),e.position==="right"&&t.utils.isValue(o.clsMessageRight)&&A.addClass(o.clsMessageRight),this.lastMessage&&this.lastMessage.position===e.position&&(A.addClass("--next"),S.visible(!1),_.hide()),this._fireEvent("message",{msg:e,el:{message:g,sender:_,time:q,item:C,avatar:S,text:A}}),F.animate({draw:{scrollTop:F[0].scrollHeight},dur:1e3}),this.lastMessage=e,this},addMessages:function(e){let i=this,o=e;return t.utils.isValue(o)&&typeof o=="string"&&(o=t.utils.isObject(o)),typeof o=="object"&&t.utils.objectLength(o)>0&&r.each(o,function(){i.add(this)}),this},delMessage:function(e){return this.element.find(".messages").find(`#${e}`).remove(),this},updMessage:function(e){let i=this.element.find(".messages").find(`#${e.id}`),o=this.options,h=this.locale;if(i.length===0)return this;let g=o.inputTimeFormat?Datetime.from(e.time,o.inputTimeFormat,h):datetime(e.time);return i.find(".message-text-inner").html(e.text),i.find(".message-time").html(g.format(o.timeFormat)),this},clear:function(){this.element.find(".messages").html(""),this.lastMessage=null},toggleReadonly:function(e){let i=this.element,o=this.options;o.readonly=typeof e>"u"?!o.readonly:e,i.find(".message-input")[o.readonly?"addClass":"removeClass"]("disabled")},changeAttribute:function(e){switch(e){case"data-readonly":this.toggleReadonly();break}},destroy:function(){let e=this.element,i=e.find(".js-chat-send-button"),o=e.find("input[type=text]");return i.off(t.events.click),o.off(t.events.keyup),e}}),t.defaults.Chat=f})(Metro,Dom),((t,r)=>{globalThis.CHECKBOX_STATE={CHECKED:1,UNCHECKED:-1,INDETERMINATE:0};let f={checkboxDeferred:0,state:CHECKBOX_STATE.UNCHECKED,threeState:!1,prepend:"",append:"",caption:"",clsCheckbox:"",clsCaption:"",clsPrepend:"",clsAppend:"",onCheckboxCreate:t.noop};t.metroCheckboxSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroCheckboxSetup<"u"&&t.metroCheckboxSetup(globalThis.metroCheckboxSetup),t.Component("checkbox",{init:function(e,i){return this._super(i,e,f,{origin:{className:""},state:CHECKBOX_STATE.UNCHECKED}),this},_create:function(){let e=this.options;(e.threeState===!1&&e.state===0||e.state==="indeterminate")&&(e.state=CHECKBOX_STATE.UNCHECKED),e.state===CHECKBOX_STATE.UNCHECKED||e.state==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:e.state===0||e.state==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(e=!0){let i=this.element;i[0].indeterminate=e,i.attr("data-indeterminate",e)},_createStructure:function(){let e=this.element,i=this.options,o=e.wrap("<label>").addClass("checkbox").addClass(i.clsCheckbox);e.attr("type","checkbox"),i.prepend&&o.prepend(r("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),(i.append||i.caption)&&o.append(r("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.caption?i.caption:i.append)),e.attr("readonly")!==void 0&&e.on("click",h=>{h.preventDefault()}),this.elem.checked&&this.state!==CHECKBOX_STATE.INDETERMINATE&&(this.state=!0),this._drawState()},_drawState:function(){let e=this.elem;this._indeterminate(!1),e.checked=this.state!==CHECKBOX_STATE.UNCHECKED,this.state===CHECKBOX_STATE.INDETERMINATE&&this._indeterminate(!0)},_createEvents:function(){let e=this.element,i=this.options;e.on("click",()=>{this.state++,this.state===0&&i.threeState===!1&&(this.state=1),this.state===2&&(this.state=-1),this._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},indeterminate:function(){this.setCheckState(CHECKBOX_STATE.INDETERMINATE)},setCheckState:function(e){return e===-1||e==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:e===0||e==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._drawState(),this},getCheckState:function(e=!1){if(!e)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},toggle:function(){this.state++,this.state===2&&(this.state=-1),this._drawState()},changeAttribute:(e,i)=>{let o=function(h){this.toggle(h)};switch(e){case"data-state":o(i);break}},destroy:function(){let e=this.element;e.off("click"),e.parent().remove()}})})(Metro,Dom),((t,r)=>{let f={clockDeferred:0,show:"row",showTime:!0,showDate:!0,dateFormat:"DD.MM.YYYY",timeFormat:"HH:mm",divider:"&nbsp;&nbsp;",twoLines:!1,onTick:t.noop,onSecond:t.noop,onClockCreate:t.noop};t.clockSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroClockSetup<"u"&&t.clockSetup(globalThis.metroClockSetup),t.Component("clock",{init:function(e,i){return this._super(i,e,f,{_clockInterval:null,locale:"en"}),this},_create:function(){let e=this.element,i=this.options,o=e.closest("[lang]");o.length&&(this.locale=o.attr("lang")||"en"),e.addClass("clock"),i.show==="column"&&e.addClass("show-column"),this._fireEvent("clock-create",{element:e}),this._tick(),this._clockInterval=setInterval(()=>{this._tick()},500),this._secondInterval=setInterval(()=>{this._second()},1e3)},_second:function(){let e=new Date;this._fireEvent("second",{timestamp:e})},_tick:function(){let e=this.element,i=this.options,o=datetime(),h="",g=o.format(i.dateFormat,this.locale),_=o.format(i.timeFormat,this.locale);i.showTime&&(h=`<span class="clock-time">${_}</span>`),i.showDate&&(h+=`<span class="clock-date">${g}</span>`),e.html(h),this._fireEvent("tick",{timestamp:o})},changeAttribute:function(e,i){switch(e){case"data-date-format":this.options.dateFormat=i;break;case"data-time-format":this.options.timeFormat=i;break;case"data-show-date":this.options.showDate=JSON.parse(i);break;case"data-show-time":this.options.showTime=JSON.parse(i);break;case"data-divider":this.options.divider=i;break;case"data-two-lines":this.options.twoLines=JSON.parse(i);break}this._tick()},destroy:function(){clearInterval(this._clockInterval),this._clockInterval=null,this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={collapseDeferred:0,collapsed:!1,toggleElement:!1,duration:100,onExpand:t.noop,onCollapse:t.noop,onCollapseCreate:t.noop};t.collapseSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroCollapseSetup<"u"&&t.collapseSetup(globalThis.metroCollapseSetup),t.Component("collapse",{init:function(e,i){return this._super(i,e,f,{toggle:null}),this},_create:function(){let e=this.element,i=this.options,o=i.toggleElement!==!1?r(i.toggleElement):e.siblings(".collapse-toggle").length>0?e.siblings(".collapse-toggle"):e.siblings("a:nth-child(1)");(i.collapsed===!0||e.attr("collapsed")===!0)&&e.hide(0),o.on(t.events.click,h=>{e.css("display")!=="none"&&!e.hasClass("keep-open")?this._close(e):this._open(e),["INPUT"].indexOf(h.target.tagName)===-1&&h.preventDefault(),h.stopPropagation()}),this.toggle=o,this._fireEvent("collapse-create",{element:e})},_close:function(e,i){let o=r(e);if(o.data("collapsed"))return;let h=t.getPlugin(o[0],"collapse"),g=h.options,_=i?"show":"slideUp",C=i?0:g.duration;this.toggle.removeClass("active-toggle"),o[_](C,()=>{e.trigger("onCollapse",null,e),e.data("collapsed",!0),e.addClass("collapsed"),h._fireEvent("collapse")})},_open:function(e,i){let o=r(e);if(!o.data("collapsed"))return;let h=t.getPlugin(o[0],"collapse"),g=h.options,_=i?"show":"slideDown",C=i?0:g.duration;this.toggle.addClass("active-toggle"),o[_](C,()=>{e.trigger("onExpand",null,e),e.data("collapsed",!1),e.removeClass("collapsed"),h._fireEvent("expand")})},collapse:function(e){this._close(this.element,e)},expand:function(e){this._open(this.element,e)},close:function(e){this._close(this.element,e)},open:function(e){this._open(this.element,e)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){let e=this.element;e.attr("collapsed")===!0||e.data("collapsed")===!0?this.collapse():this.expand()},changeAttribute:function(e){switch(e){case"collapsed":case"data-collapsed":this.toggleState();break}},destroy:function(){return this.toggle.off(t.events.click),this.element}})})(Metro,Dom),((t,r)=>{let f={radioDeferred:0,prepend:"",append:"",caption:"",clsRadio:"",clsCaption:"",clsPrepend:"",clsAppend:"",onRadioCreate:t.noop};t.metroRadioSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroRadioSetup<"u"&&t.metroRadioSetup(globalThis.metroRadioSetup),t.Component("radio",{init:function(e,i){return this._super(i,e,f,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("radio-create")},_createStructure:function(){let e=this.element,i=this.options,o=e.wrap("<label>").addClass("radio").addClass(i.clsCheckbox);e.attr("type","radio"),i.prepend&&o.prepend(r("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),i.append&&o.append(r("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.append)),e.attr("readonly")&&e.on("click",h=>{h.preventDefault()}),this.elem.checked&&(this.state=!0),this._drawState()},_drawState:()=>{},_createEvents:function(){this.element.on("click",()=>{this._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},setCheckState:function(e=!0){return this.elem.checked=e,this._drawState(),this},getCheckState:function(e=!1){let i=this.elem.checked;if(!e)return i;switch(this.state){case!1:return"unchecked";case!0:return"checked"}},toggle:function(){this.elem.checked=!this.elem.checked,this._drawState()},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off("click"),e.parent().remove()}})})(Metro,Dom),((t,r)=>{let f="hex, rgb, rgba, hsl, hsla, hsv, cmyk",e={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",userColors:null,returnValueType:"hex",returnAsString:!0,showValues:f,showAsString:null,showUserColors:!0,controller:null,addUserColorTitle:null,userColorsTitle:null,hslMode:"percent",showAlphaChannel:!0,inputThreshold:300,initColor:null,readonlyInput:!1,clsSelector:"",clsSwatches:"",clsSwatch:"",clsValue:"",clsLabel:"",clsInput:"",clsUserColorButton:"",clsUserColors:"",clsUserColorsTitle:"",clsUserColor:"",onSelectColor:t.noop,onColorSelectorCreate:t.noop};t.colorSelectorSetup=i=>{e=r.extend({},e,i)},typeof globalThis.metroColorSelectorSetup<"u"&&t.colorSelectorSetup(globalThis.metroColorSelectorSetup),t.Component("color-selector",{init:function(i,o){return this._super(o,i,e,{id:null,defaultSwatches:[],showValues:[],userColors:[],showAsString:[],hue:0,saturation:0,lightness:1,alpha:1,hsl:null,hsla:null,hsv:null,rgb:null,rgba:null,cmyk:null,hex:null,inputInterval:null,controller:null}),this},_create:function(){let i=this.options;this.id=Hooks.useId(this.element),t.utils.isValue(i.defaultSwatches)&&(this.defaultSwatches=i.defaultSwatches.toArray(",").map(o=>o.toUpperCase())),t.utils.isValue(i.showValues)&&(this.showValues=i.showValues.toArray(",")),t.utils.isValue(i.userColors)&&(this.userColors=i.userColors.toArray(",").map(o=>o.toUpperCase())),t.utils.isValue(i.showAsString)&&(this.showAsString=i.showAsString.toArray(",")),this._createStructure(),this._createEvents(),this._setColorValues(),this._fireEvent("color-selector-create")},_createStructure:function(){let i=this,o=this.element,h=this.options,g=this.strings,_,C,S,A,F;o.addClass("color-selector").addClass(h.clsSelector);let N=r("<div>").addClass("color-box");o.append(N),_=r("<div>").addClass("row"),N.append(_);let q=r("<div>").addClass("default-swatches").addClass(h.clsSwatches);_.append(q),r.each(this.defaultSwatches,function(){q.append(r("<button>").attr("data-color",this).attr("type","button").addClass("swatch").addClass(h.clsSwatch).css("background-color",this))}),_=r("<div>").addClass("row"),N.append(_),C=r("<div>").addClass("color-map"),_.append(C);let Y=r("<button>").attr("type","button").addClass("cursor color-cursor dragging");C.append(Y);let te=r("<canvas>").addClass("color-canvas");C.append(te),C=r("<div>").addClass("hue-map"),_.append(C);let Ae=r("<button>").attr("type","button").addClass("cursor hue-cursor dragging");C.append(Ae);let He=r("<canvas>").addClass("hue-canvas");C.append(He),C=r("<div>").addClass("alpha-map"),_.append(C);let $e=r("<button>").attr("type","button").addClass("cursor alpha-cursor dragging");C.append($e);let Pe=r("<canvas>").addClass("alpha-canvas");C.append(Pe),_=r("<div>").addClass("row color-values-block"),N.append(_),S=r("<div>").addClass("color-value-hex"),_.append(S),S.append(r("<input type='radio' name='returnType' value='hex' checked>").addClass("check-color-value-hex")),F=r("<div>").addClass("color-block as-string color-hex"),S.append(F),F.append(r("<input type='text' data-prepend='HEX:'>").addClass("input-small value-hex")),S=r("<div>").addClass("color-value-rgb"),_.append(S),S.append(r("<input type='radio' name='returnType' value='rgb'>").addClass("check-color-value-rgb")),F=r("<div>").addClass("color-block color-rgb"),S.append(F),F.append(r("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),F.append(r("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),F.append(r("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),F=r("<div>").addClass("color-block as-string color-rgb"),S.append(F),F.append(r("<input type='text' data-prepend='RGB:'>").addClass("input-small value-rgb")),this.showAsString.indexOf("rgb")>-1?S.find(".value-r,.value-g,.value-b").parent().hide():S.find(".value-rgb").parent().hide(),S=r("<div>").addClass("color-value-rgba"),_.append(S),S.append(r("<input type='radio' name='returnType' value='rgba'>").addClass("check-color-value-rgba")),F=r("<div>").addClass("color-block color-rgba"),S.append(F),F.append(r("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),F.append(r("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),F.append(r("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),F.append(r("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),F=r("<div>").addClass("color-block as-string color-rgba"),S.append(F),F.append(r("<input type='text' data-prepend='RGBA:'>").addClass("input-small value-rgba")),this.showAsString.indexOf("rgba")>-1?S.find(".value-r,.value-g,.value-b,.value-a").parent().hide():S.find(".value-rgba").parent().hide(),S=r("<div>").addClass("color-value-hsl"),_.append(S),S.append(r("<input type='radio' name='returnType' value='hsl'>").addClass("check-color-value-hsl")),F=r("<div>").addClass("color-block color-hsl"),S.append(F),F.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),F.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),F.append(r("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),F=r("<div>").addClass("color-block as-string color-hsl"),S.append(F),F.append(r("<input type='text' data-prepend='HSL:'>").addClass("input-small value-hsl")),this.showAsString.indexOf("hsl")>-1?S.find(".value-h,.value-s,.value-l").parent().hide():S.find(".value-hsl").parent().hide(),S=r("<div>").addClass("color-value-hsla"),_.append(S),S.append(r("<input type='radio' name='returnType' value='hsla'>").addClass("check-color-value-hsla")),F=r("<div>").addClass("color-block color-hsla"),S.append(F),F.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),F.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),F.append(r("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),F.append(r("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),F=r("<div>").addClass("color-block as-string color-hsla"),S.append(F),F.append(r("<input type='text' data-prepend='HSLA:'>").addClass("input-small value-hsla")),this.showAsString.indexOf("hsla")>-1?S.find(".value-h,.value-s,.value-l,.value-a").parent().hide():S.find(".value-hsla").parent().hide(),S=r("<div>").addClass("color-value-hsv"),_.append(S),S.append(r("<input type='radio' name='returnType' value='hsv'>").addClass("check-color-value-hsl")),F=r("<div>").addClass("color-block color-hsv"),S.append(F),F.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),F.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),F.append(r("<input type='text' data-prepend='V:'>").addClass("input-small value-v")),F=r("<div>").addClass("color-block as-string color-hsv"),S.append(F),F.append(r("<input type='text' data-prepend='HSV:'>").addClass("input-small value-hsv")),this.showAsString.indexOf("hsv")>-1?S.find(".value-h,.value-s,.value-v").parent().hide():S.find(".value-hsv").parent().hide(),S=r("<div>").addClass("color-value-cmyk"),_.append(S),S.append(r("<input type='radio' name='returnType' value='cmyk'>").addClass("check-color-value-cmyk")),F=r("<div>").addClass("color-block color-cmyk"),S.append(F),F.append(r("<input type='text' data-prepend='C:'>").addClass("input-small value-c")),F.append(r("<input type='text' data-prepend='M:'>").addClass("input-small value-m")),F.append(r("<input type='text' data-prepend='Y:'>").addClass("input-small value-y")),F.append(r("<input type='text' data-prepend='K:'>").addClass("input-small value-k")),F=r("<div>").addClass("color-block as-string color-cmyk"),S.append(F),F.append(r("<input type='text' data-prepend='CMYK:'>").addClass("input-small value-cmyk")),this.showAsString.indexOf("cmyk")>-1?S.find(".value-s,.value-m,.value-y,.value-k").parent().hide():S.find(".value-cmyk").parent().hide(),_=r("<div>").addClass("row user-colors-css-container"),N.append(_),_.append(r("<div>").addClass("user-colors-title").addClass(h.clsUserColorsTitle).html(h.userColorsTitle||g.label_user_colors)),_.append(r("<div>").addClass("user-colors").addClass(h.clsUserColors));let Se=r("<div>").addClass("user-colors-actions");_.append(Se),Se.append(r("<button>").addClass("button add-button").addClass(h.clsUserColorButton).html(`<span class='user-swatch'></span><span>${h.addUserColorTitle||g.label_add_user_color}</span>`)),A=N.find("input[type=text]"),t.makePlugin(A,"input",{clearButton:!1,clsPrepend:h.clsLabel,clsComponent:h.clsInput}),A.addClass(h.clsValue),h.readonlyInput&&A.attr("readonly",!0);let Le=N.find("input[type=radio]").each(function(){r(this).attr("name",`${i.id}-returnType`)});Le.each(function(){r(this).val()===h.returnValueType&&(this.checked=!0)}),t.makePlugin(Le,"radio"),r.each(f.toArray(","),function(){i.showValues.indexOf(this)===-1&&o.find(`.color-value-${this}`).hide()}),h.showUserColors||o.find(".user-colors-css-container").hide(),h.showAlphaChannel||(o.addClass("no-alpha-channel"),r.each(["rgba","hsla"],function(){o.find(`.color-value-${this}`).hide()})),this._fillUserColors(),this.hueCanvas=He,this.hueCursor=Ae,this.shadeCanvas=te,this.shadeCursor=Y,this.alphaCanvas=Pe,this.alphaCursor=$e,this._createShadeCanvas(),this._createHueCanvas(),this._createAlphaCanvas(),this._setColorValues(),this._updateCursorsColor(),h.initColor&&Farbe.Routines.isColor(h.initColor)&&this._colorToPos(typeof h.initColor=="string"?Farbe.Routines.parse(h.initColor):h.initColor),this.controller=h.controller?r(h.controller):null},_createShadeCanvas:function(i="#f00"){let o=this.shadeCanvas[0],h=o.getContext("2d");h.clearRect(0,0,o.width,o.height),h.clearRect(0,0,o.width,o.height),h.fillStyle=i,h.fillRect(0,0,o.width,o.height);let g=h.createLinearGradient(0,0,o.width,0);g.addColorStop(0,"#fff"),g.addColorStop(1,"transparent"),h.fillStyle=g,h.fillRect(0,0,o.width,o.height);let _=h.createLinearGradient(0,0,0,o.height);_.addColorStop(0,"transparent"),_.addColorStop(1,"#000"),h.fillStyle=_,h.fillRect(0,0,o.width,o.height)},_createHueCanvas:function(){let i=this.hueCanvas[0],o=i.getContext("2d"),h=o.createLinearGradient(0,0,0,i.height);h.addColorStop(0,"hsl(0,100%,50%)"),h.addColorStop(.17,"hsl(298.8, 100%, 50%)"),h.addColorStop(.33,"hsl(241.2, 100%, 50%)"),h.addColorStop(.5,"hsl(180, 100%, 50%)"),h.addColorStop(.67,"hsl(118.8, 100%, 50%)"),h.addColorStop(.83,"hsl(61.2,100%,50%)"),h.addColorStop(1,"hsl(360,100%,50%)"),o.clearRect(0,0,i.width,i.height),o.fillStyle=h,o.fillRect(0,0,i.width,i.height)},_createAlphaCanvas:function(){let i=this.alphaCanvas[0],o=i.getContext("2d"),h=o.createLinearGradient(0,0,0,i.height),g=new Farbe.Primitives.HSLA(this.hue,1,.5,1).toString();h.addColorStop(0,g),h.addColorStop(1,"rgba(0,0,0,0)"),o.clearRect(0,0,i.width,i.height),o.fillStyle=h,o.fillRect(0,0,i.width,i.height)},_updateHueCursor:function(i){this.hueCursor.css({top:i})},_updateAlphaCursor:function(i){this.alphaCursor.css({top:i})},_getHueColor:function(i){let o=this.hueCanvas,h=o.offset(),g=o.height(),_,C;_=i-h.top,_>g&&(_=g),_<0&&(_=0),C=360-360*(_/g),C===360&&(C=0);let S=`hsl(${C}, 100%, 50%)`;this.hue=C,this._createShadeCanvas(S),this._createAlphaCanvas(),this._updateHueCursor(_),this._updateCursorsColor(),this._setColorValues()},_getAlphaValue:function(i){let o=this.alphaCanvas,h=o.offset(),g=o.height(),_;_=i-h.top,_>g&&(_=g),_<0&&(_=0);let C=1-_/g;this.alpha=C.toFixed(2),this._updateAlphaCursor(_),this._updateCursorsColor(),this._setColorValues()},_getShadeColor:function(i,o){let h=this.shadeCanvas,g=h.offset(),_=h.width(),C=h.height(),S=i-g.left,A=o-g.top;S>_&&(S=_),S<0&&(S=0),A>C&&(A=C),A<0&&(A=.1);let F=S/_*100,N=1-A/C*100/100,q=F/100,Y=N/2*(2-q),te=N*q/(1-Math.abs(2*Y-1));Number.isNaN(Y)&&(Y=0),Number.isNaN(te)&&(te=0),this.lightness=Y,this.saturation=te,this._updateShadeCursor(S,A),this._updateCursorsColor(),this._setColorValues()},_updateCursorsColor:function(){this.shadeCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness))}),this.hueCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,1,.5))}),this.alphaCursor.css({backgroundColor:Farbe.Routines.toRGBA(new Farbe.Primitives.HSL(this.hue,1,.5),this.alpha).toString()})},_updateShadeCursor:function(i,o){this.shadeCursor.css({top:o,left:i})},_colorToPos:function(i){let o=this.shadeCanvas[0].getBoundingClientRect(),h=this.hueCanvas[0].getBoundingClientRect(),g=this.alphaCanvas[0].getBoundingClientRect(),_=Farbe.Routines.toHSL(i),C=Farbe.Routines.toHSLA(i),S=Farbe.Routines.toHSV(i),A=o.width*S.s,F=o.height*(1-S.v),N=h.height-_.h/360*h.height,q=(1-C.a)*g.height;this.hue=_.h,this.saturation=_.s,this.lightness=_.l,this.alpha=C.a,this._updateHueCursor(N),this._updateShadeCursor(A,F),this._updateAlphaCursor(q),this._updateCursorsColor(),this._createShadeCanvas(`hsl(${this.hue}, 100%, 50%)`),this._createAlphaCanvas(),this._setColorValues()},_setColorValues:function(){let i=this.element,o=this.options,h=new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness),g=new Farbe.Primitives.HSLA(this.hue,this.saturation,this.lightness,this.alpha),_=Farbe.Routines.toRGB(h),C=Farbe.Routines.toRGBA(_,this.alpha),S=Farbe.Routines.toHSV(h),A=Farbe.Routines.toCMYK(h),F=Farbe.Routines.toHEX(h),N=this.controller,q=o.hslMode==="percent";this.hsl=h,this.hsla=g,this.hsv=S,this.rgb=_,this.rgba=C,this.hex=F,this.cmyk=A,i.find(".color-value-hex .value-hex input").val(F),i.find(".color-value-rgb .value-r input").val(_.r),i.find(".color-value-rgb .value-g input").val(_.g),i.find(".color-value-rgb .value-b input").val(_.b),i.find(".color-value-rgb .value-rgb input").val(_.toString()),i.find(".color-value-rgba .value-r input").val(C.r),i.find(".color-value-rgba .value-g input").val(C.g),i.find(".color-value-rgba .value-b input").val(C.b),i.find(".color-value-rgba .value-a input").val(C.a),i.find(".color-value-rgba .value-rgba input").val(C.toString()),i.find(".color-value-hsl .value-h input").val(h.h.toFixed(0)),i.find(".color-value-hsl .value-s input").val(q?`${Math.round(h.s*100)}%`:h.s.toFixed(4)),i.find(".color-value-hsl .value-l input").val(q?`${Math.round(h.l*100)}%`:h.l.toFixed(4)),i.find(".color-value-hsl .value-hsl input").val(h.toString()),i.find(".color-value-hsla .value-h input").val(g.h.toFixed(0)),i.find(".color-value-hsla .value-s input").val(q?`${Math.round(g.s*100)}%`:h.s.toFixed(4)),i.find(".color-value-hsla .value-l input").val(q?`${Math.round(g.l*100)}%`:h.l.toFixed(4)),i.find(".color-value-hsla .value-a input").val(g.a),i.find(".color-value-hsla .value-hsla input").val(g.toString()),i.find(".color-value-hsv .value-h input").val(S.h.toFixed(0)),i.find(".color-value-hsv .value-s input").val(q?`${Math.round(S.s*100)}%`:S.s.toFixed(4)),i.find(".color-value-hsv .value-v input").val(q?`${Math.round(S.v*100)}%`:S.v.toFixed(4)),i.find(".color-value-hsv .value-hsv input").val(S.toString()),i.find(".color-value-cmyk .value-c input").val(A.c.toFixed(0)),i.find(".color-value-cmyk .value-m input").val(A.m.toFixed(0)),i.find(".color-value-cmyk .value-y input").val(A.y.toFixed(0)),i.find(".color-value-cmyk .value-k input").val(A.k.toFixed(0)),i.find(".color-value-cmyk .value-cmyk input").val(A.toString()),i.find(".user-colors-actions .user-swatch").css({backgroundColor:F});let Y=this.getVal();N!=null&&N.length&&N.val(Y),this._fireEvent("select-color",{color:Y,primitive:{hsl:this.hsl,hsla:this.hsla,rgb:this.rgb,rgba:this.rgba,hsv:this.hsv,cmyk:this.cmyk,hex:this.hex}})},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_createEvents:function(){let i=this,o=this.element,h=this.options,g=o.find(".hue-map"),_=o.find(".alpha-map"),C=o.find(".color-map"),S=this.controller,A=o.find(".color-values-block input[type=text]"),F=N=>{let q=r(N.target),Y=q.closest(".color-block"),te,Ae,He;Y.hasClass("color-hex")?te="hex":Y.hasClass("color-rgb")?te="rgb":Y.hasClass("color-rgba")?te="rgba":Y.hasClass("color-hsl")?te="hsl":Y.hasClass("color-hsla")?te="hsla":Y.hasClass("color-hsv")?te="hsv":Y.hasClass("color-cmyk")&&(te="cmyk"),Y.hasClass("as-string")?Ae=q.val():(He=[],r.each(Y.find("input"),function(){He.push(this.value)}),Ae=`${te}(${He.join(", ")})`),Ae&&Farbe.Routines.isColor(Ae)&&i.val(Ae)};if(F=Hooks.useDebounce(F,h.inputThreshold),A.on(t.events.inputchange,F),S==null?void 0:S.length){let N=Hooks.useDebounce(()=>{let q=S.val();q&&Farbe.Routines.isColor(q)&&i.val(q)},h.inputThreshold);S.on(t.events.inputchange,N)}_.on(t.events.startAll,N=>{["hsla","rgba"].includes(h.returnValueType),i._getAlphaValue(t.utils.pageXY(N).y),r(document).on(t.events.moveAll,q=>{q.preventDefault(),i._getAlphaValue(t.utils.pageXY(q).y)},{ns:i.id}),r(document).on(t.events.stopAll,()=>{r(document).off(t.events.moveAll,{ns:i.id}),r(document).off(t.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),g.on(t.events.startAll,N=>{i._getHueColor(t.utils.pageXY(N).y),r(document).on(t.events.moveAll,q=>{q.preventDefault(),i._getHueColor(t.utils.pageXY(q).y)},{ns:i.id,passive:!1}),r(document).on(t.events.stopAll,()=>{r(document).off(t.events.moveAll,{ns:i.id}),r(document).off(t.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),C.on(t.events.startAll,N=>{i._getShadeColor(t.utils.pageXY(N).x,t.utils.pageXY(N).y),r(document).on(t.events.moveAll,q=>{q.preventDefault(),i._getShadeColor(t.utils.pageXY(q).x,t.utils.pageXY(q).y)},{ns:i.id,passive:!1}),r(document).on(t.events.stopAll,()=>{r(document).off(t.events.moveAll,{ns:i.id}),r(document).off(t.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),o.on("click",".swatch",function(){i._colorToPos(r(this).attr("data-color"))}),o.on("click",".add-button",()=>{let N=Farbe.Routines.toHEX(new Farbe.Primitives.HSL(i.hue,i.saturation,i.lightness)).toUpperCase();i.userColors.includes(N)||(i.userColors.push(N),o.find(".user-colors").append(r("<button>").attr("data-color",N).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:N})))}),o.find("input[type=radio]").on("click",function(){h.returnValueType=r(this).val(),i._setColorValues()})},getVal:function(){let i=this.options,o;switch(i.returnValueType.toLowerCase()){case"rgb":o=this.rgb;break;case"rgba":o=this.rgba;break;case"hsl":o=this.hsl;break;case"hsla":o=this.hsla;break;case"hsv":o=this.hsv;break;case"cmyk":o=this.cmyk;break;default:o=this.hex}return i.returnAsString?o.toString():o},val:function(i){if(typeof i>"u")return this.getVal();let o=Farbe.Routines.parse(i);this._colorToPos(o)},user:function(i){if(!t.utils.isValue(i))return this.userColors;!Array.isArray(i)&&typeof i!="string"||(typeof i=="string"?this.userColors=i.toArray(",").map(o=>o.toUpperCase()):this.userColors=i.map(o=>o.toUpperCase()),this._fillUserColors())},_fillUserColors:function(){let i=this.element.find(".user-colors-css").clear();r.each(this.userColors,function(){i.append(r("<button>").attr("data-color",this).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:this}))})},changeAttribute:function(i,o){let h=this.options;i==="data-return-value-type"&&(h.returnValueType=o),i==="data-return-as-string"&&(h.returnValueType=t.utils.bool(o))},destroy:function(){this.element.remove()}}),t.defaults.ColorSelector=e})(Metro,Dom),((t,r)=>{let f={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",duration:100,prepend:"",append:"",label:"",clearButton:!1,clearButtonIcon:"❌",pickerButtonIcon:"🎨",defaultValue:"rgba(0, 0, 0, 0)",openMode:"auto",resultType:"hex",inputThreshold:500,onColorSelected:t.noop,onColorPickerCreate:t.noop};t.colorPickerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroColorPickerSetup<"u"&&t.colorPickerSetup(globalThis.metroColorPickerSetup),t.Component("color-picker",{init:function(e,i){return this._super(i,e,r.extend({},t.defaults.ColorSelector,{showUserColors:!1,showValues:""},f),{value:null,picker:null,colorSelector:null,colorSelectorBox:null,colorExample:null,inputInterval:null,isOpen:!1}),this},_create:function(){let e=this.element,i=this.options,o=e.val();if(!t.pluginExists("color-selector"))throw new Error("Color selector component required!");this.value=Farbe.Routines.isColor(o)?o:Farbe.Routines.isColor(i.defaultValue)?i.defaultValue:"rgba(0,0,0,0)",this._createStructure(),this._createEvents(),this._fireEvent("color-picker-create")},_createStructure:function(){let e=this.element,i=this.options,o=e.wrap(r("<div>").addClass("color-picker").addClass(e[0].className)),h,g=r("<div>").addClass("color-example-box").insertBefore(e);h=r("<div>").addClass("buttons").appendTo(o),h.append(r("<button>").addClass("button color-picker-button").attr("tabindex",-1).attr("type","button").html(i.pickerButtonIcon)),i.clearButton===!0&&!e[0].readOnly&&h.append(r("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon)),t.utils.isValue(i.prepend)&&o.prepend(r("<div>").addClass("prepend").addClass(i.clsPrepend).html(i.prepend)),t.utils.isValue(i.append)&&o.append(r("<div>").html(i.append).addClass("append").addClass(i.clsAppend));let _=r("<div>").addClass("color-selector-box").appendTo(o),C=r("<div>").appendTo(_);if(this.picker=o,this.colorExample=g,this.colorSelector=C,this.colorSelectorBox=_,t.makePlugin(C,"color-selector",{defaultSwatches:i.defaultSwatches,returnValueType:i.resultType,returnAsString:!0,showUserColors:!1,showValues:"",controller:e,showAlphaChannel:!0,inputThreshold:i.inputThreshold,initColor:this.value,readonlyInput:i.readonlyInput,onSelectColor:S=>{this.colorExample.css({backgroundColor:S})},onColorSelectorCreate:i.onColorSelectorCreate}),t.makePlugin(_,"dropdown",{dropFilter:".color-picker",duration:i.duration,toggleElement:[o],checkDropUp:!0,onDrop:()=>{t.getPlugin(C,"color-selector").val(this.value)}}),e[0].className="",i.label){let S=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(o);if(e.attr("id"))S.attr("for",e.attr("id"));else{let A=Hooks.useId(e[0]);S.attr("for",A),e.attr("id",A)}e.attr("dir")==="rtl"&&S.addClass("rtl")}this._setColor()},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_setColor:function(){let e=this.colorExample,i=this.value;(this.value.indexOf("cmyk")!==-1||this.value.indexOf("hsv")!==-1)&&(i=Farbe.Routines.toHEX(this.value)),e.css({backgroundColor:i})},_createEvents:function(){let e=this,i=this.element,o=this.options,h=this.picker,g=this.colorSelector,_=this.colorSelector;h.on(t.events.click,".input-clear-button",C=>{C.preventDefault(),C.stopPropagation(),i.val(o.defaultValue).trigger("change"),t.getPlugin(g,"color-selector").val(o.defaultValue)}),i.on(t.events.inputchange,function(){e.value=this.value,e._setColor()}),_.on(t.events.click,C=>{C.stopPropagation()})},val:function(e){if(typeof e>"u")return this.value;Farbe.Routines.isColor(e)&&(this.value=e,this.element.val(e).trigger("change"),this._setColor())},destroy:function(){let e=this.element,i=this.options,o=e.parent();i.label&&o.prev("label").remove(),o.remove()}}),r(document).on(t.events.click,()=>{r(".color-picker").removeClass("open")})})(Metro,Dom),((t,r)=>{t.contextMenu=(f=[],e=document)=>{function i(o){let h=r("<ul>").addClass("d-menu context-menu").css("display","none");for(let g of o)if(g.type==="divider")h.append(r("<li>").addClass("divider"));else{let _=r("<li>").appendTo(h),C=r("<a>").appendTo(_);if(g.icon&&C.append(r("<span>").addClass("icon").html(g.icon)),C.append(r("<span>").addClass("caption").html(g.text)),C.href(g.href||"#"),g.onclick&&C.on("click",S=>{t.utils.exec(g.onclick,[S,g])}),g.attributes)for(let[S,A]of Object.entries(g.attributes))C.attr(S,A);if(g.disabled&&C.prop("disabled",!0),g.items){let S=i(g.items);_.children("a").addClass("dropdown-toggle"),_.append(S),t.makePlugin(S,"dropdown",{})}}return h[0]}e.context_menu=i(f),e.nodeType===1?e.append(e.context_menu):r("body").append(e.context_menu),e.oncontextmenu=function(o){o.preventDefault(),o.stopPropagation(),r(".context-menu").hide(),this.context_menu.style.left=`${o.pageX}px`,this.context_menu.style.top=`${o.pageY}px`,this.context_menu.style.display="block"}},r(document).on("click",()=>{r(".context-menu").hide()})})(Metro,Dom),((t,r)=>{let f={path:"/",expires:null,maxAge:null,domain:null,secure:!1,samesite:null};t.cookieSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroCookieSetup<"u"&&t.cookieSetup(globalThis.metroCookieSetup),t.cookie={getCookies:()=>{let e=document.cookie.toArray(";"),i={};return r.each(e,function(){let o=this.split("=");i[o[0]]=o[1]}),i},getCookie:e=>{let i=`${encodeURIComponent(e)}=`,o=document.cookie.toArray(";"),h,g;for(h=0;h<o.length;h++){for(g=o[h];g.charAt(0)===" ";)g=g.substring(1,g.length);if(g.indexOf(i)===0)return decodeURIComponent(g.substring(i.length,g.length))}return null},setCookie:(e,i,o)=>{let h,g=encodeURIComponent(e),_=encodeURIComponent(i),C,S=[];o&&typeof o!="object"?(h=new Date,h.setTime(h.getTime()+Number.parseInt(o)),C=r.extend({},f,{expires:h.toUTCString()})):C=r.extend({},f,o),r.each(C,(A,F)=>{A!=="secure"&&F&&S.push(`${Str.dashedName(A)}=${F}`),A==="secure"&&F===!0&&S.push("secure")}),document.cookie=`${g}=${_}; ${S.join("; ")}`},delCookie:function(e){this.setCookie(e,!1,{maxAge:-1})}}})(Metro,Dom),((t,r)=>{let f={name:"cookies_accepted",templateUrl:null,title:"",message:"",duration:"30days",clsContainer:"",clsMessage:"",clsButtons:"",clsAcceptButton:"",clsCancelButton:"",onAccept:t.noop,onDecline:t.noop};t.cookieDisclaimer={init:function(e){let i=t.cookie;this.options=r.extend({},f,e),this.disclaimer=r("<div>"),!i.getCookie(this.options.name)&&(this.locale=r("html").attr("lang")||"en",this.strings=r.extend({},t.locales.en,t.locales[this.locale]),this.options.templateUrl?fetch(this.options.templateUrl).then(t.fetch.text).then(o=>{this.create(o)}):this.create())},create:function(e){let i=t.cookie,o=this.options,h=this.disclaimer;h.addClass("cookie-disclaimer").addClass(o.clsContainer),e?h.append(e):h.html(r("<div class='disclaimer-message'>").addClass(o.clsMessage).html(`
                                <div class="disclaimer-title">${o.title||this.strings.label_cookies_title}</div>
                                <div class="disclaimer-text">${o.message||this.strings.label_cookies_text}</div>
                            `));let g=r("<div>").addClass("disclaimer-actions").addClass(o.clsButtons).append(r("<button>").addClass("button cookie-accept-button").addClass(o.clsAcceptButton).html(this.strings.label_accept)).append(r("<button>").addClass("button cookie-cancel-button").addClass(o.clsCancelButton).html(this.strings.label_cancel));g.appendTo(h),o.customButtons&&r.each(o.customButtons,function(){let _=r("<button>").addClass("button cookie-custom-button").addClass(this.cls).html(this.text);_.on("click",()=>{t.utils.exec(this.onclick)}),_.appendTo(g)}),h.appendTo(r("body")),h.on(t.events.click,".cookie-accept-button",()=>{let _=0,C=`${o.duration}`.toArray(" ");r.each(C,function(){let S=`${this}`;S.includes("day")?_+=Number.parseInt(S)*24*60*60*1e3:S.includes("hour")?_+=Number.parseInt(S)*60*60*1e3:S.includes("min")?_+=Number.parseInt(S)*60*1e3:S.includes("sec")?_+=Number.parseInt(S)*1e3:_+=Number.parseInt(S)}),i.setCookie(o.name,!0,_),t.utils.exec(o.onAccept),h.remove()}),h.on(t.events.click,".cookie-cancel-button",()=>{t.utils.exec(o.onDecline),h.remove()})}}})(Metro,Dom),((t,r)=>{let f={countdownDeferred:0,stopOnBlur:!0,animate:"none",ease:"linear",duration:600,inputFormat:null,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,fontSize:24,clsCountdown:"",clsPart:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onAlarm:t.noop,onTick:t.noop,onZero:t.noop,onBlink:t.noop,onCountdownCreate:t.noop};t.countdownSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroCountdownSetup<"u"&&t.countdownSetup(globalThis.metroCountdownSetup),t.Component("countdown",{init:function(e,i){return this._super(i,e,f,{breakpoint:new Date().getTime(),blinkInterval:null,tickInterval:null,zeroDaysFired:!1,zeroHoursFired:!1,zeroMinutesFired:!1,zeroSecondsFired:!1,fontSize:0,current:{d:0,h:0,m:0,s:0},inactiveTab:!1,id:null,duration:600}),this},_create:function(){let e=this.options;this.id=Hooks.useId(this.element),this.duration=+e.duration<=0||+e.duration>=1e3?1e3:+e.duration,this._build(),this._createEvents()},_setBreakpoint:function(){let e=this.options,i=864e5,o=36e5,h=6e4,g=1e3;this.breakpoint=datetime().time(),e.date&&(this.breakpoint=(e.inputFormat?Datetime.from(e.date,e.inputFormat):datetime(e.date)).time()),Number.parseInt(e.days)>0&&(this.breakpoint+=Number.parseInt(e.days)*i),Number.parseInt(e.hours)>0&&(this.breakpoint+=Number.parseInt(e.hours)*o),Number.parseInt(e.minutes)>0&&(this.breakpoint+=Number.parseInt(e.minutes)*h),Number.parseInt(e.seconds)>0&&(this.breakpoint+=Number.parseInt(e.seconds)*g)},_build:function(){let e=this.element,i=this.options,o=["days","hours","minutes","seconds"],h=24*60*60*1e3,g=datetime().time(),_=this.strings;e.attr("id")||e.attr("id",this.id),e.addClass("countdown").addClass(`animate-${i.animate}`).addClass(i.clsCountdown),e.css("font-size",i.fontSize),this._setBreakpoint();let C=Math.round((this.breakpoint-g)/h);r.each(o,function(){let A=r("<div>").addClass(`part ${this}`).addClass(i.clsPart).attr("data-label",_[`label_${this}`]).appendTo(e);if(this==="days"&&A.addClass(i.clsDays),this==="hours"&&A.addClass(i.clsHours),this==="minutes"&&A.addClass(i.clsMinutes),this==="seconds"&&A.addClass(i.clsSeconds),r("<div>").addClass("digit").appendTo(A),r("<div>").addClass("digit").appendTo(A),this==="days"&&C>=100)for(let F=0;F<Math.floor(C/100)-2;F++)r("<div>").addClass("digit").appendTo(A)});let S=e.find(".digit");S.append(r("<span class='digit-placeholder'>").html("0")),S.append(r("<span class='digit-value'>").html("0")),this._fireEvent("countdown-create",{element:e}),i.start===!0?this.start():this.tick(),this.fontSize=Number.parseInt(e.css("font-size"))},_createEvents:function(){r(document).on("visibilitychange",()=>{document.hidden?this.pause():this.resume()},{ns:this.id})},blink:function(){this.element.toggleClass("blink"),this._fireEvent("blink",{time:this.current})},tick:function(){let e=this.element,i=this.options,o=24*60*60,h=60*60,g=60,_=1,C,S=datetime().time(),A,F,N,q,Y=e.find(".days"),te=e.find(".hours"),Ae=e.find(".minutes"),He=e.find(".seconds");if(C=Math.floor((this.breakpoint-S)/1e3),C<=-1){this.stop(),e.addClass(i.clsAlarm),this._fireEvent("alarm",{time:S});return}A=Math.floor(C/o),C-=A*o,this.current.d!==A&&(this.current.d=A,this.draw("days",A)),A===0&&this.zeroDaysFired===!1&&(this.zeroDaysFired=!0,Y.addClass(i.clsZero),this._fireEvent("zero",{part:"days",value:Y})),F=Math.floor(C/h),C-=F*h,this.current.h!==F&&(this.current.h=F,this.draw("hours",F)),A===0&&F===0&&this.zeroHoursFired===!1&&(this.zeroHoursFired=!0,te.addClass(i.clsZero),this._fireEvent("zero",{part:"hours",value:te})),N=Math.floor(C/g),C-=N*g,this.current.m!==N&&(this.current.m=N,this.draw("minutes",N)),A===0&&F===0&&N===0&&this.zeroMinutesFired===!1&&(this.zeroMinutesFired=!0,Ae.addClass(i.clsZero),this._fireEvent("zero",{part:"minutes",value:Ae})),q=Math.floor(C/_),this.current.s!==q&&(this.current.s=q,this.draw("seconds",q)),A===0&&F===0&&N===0&&q===0&&this.zeroSecondsFired===!1&&(this.zeroSecondsFired=!0,He.addClass(i.clsZero),this._fireEvent("zero",{part:"seconds",value:He})),this._fireEvent("tick",{days:A,hours:F,minutes:N,seconds:q})},draw:function(e,i){let o=this.element,h=this.options,g,_,C,S,A,F,N,q=this.duration,Y=this.fontSize||Number.parseInt(getComputedStyle(o[0]).getPropertyValue("font-size")),te=(Pe,Se)=>{let Le=Pe.height();Pe.siblings(".-old-digit").remove();let Ie=Pe.clone().appendTo(Pe.parent());Ie.css({top:`${-1*Le}px`}),Pe.addClass("-old-digit").animate({draw:{top:Le,opacity:0},dur:q,ease:h.ease,onDone:function(){r(this).remove()}}),Ie.html(Se).animate({draw:{top:0,opacity:[0,1]},dur:q,ease:h.ease})},Ae=(Pe,Se)=>{Pe.siblings(".-old-digit").remove();let Le=Pe.clone().appendTo(Pe.parent());Le.css({opacity:0}),Pe.addClass("-old-digit").animate({draw:{opacity:0},dur:q/2,ease:h.ease,onDone:function(){r(this).remove()}}),Le.html(Se).animate({draw:{opacity:1},dur:q/2,ease:h.ease})},He=(Pe,Se)=>{let Le=o.height(),Ie=Y;Pe.siblings(".-old-digit").remove();let Me=Pe.clone().appendTo(Pe.parent());Me.css({top:0,left:0,opacity:1}),Pe.addClass("-old-digit").animate({draw:{top:Le,opacity:0,fontSize:0},dur:q,ease:h.ease,onDone:function(){r(this).remove()}}),Me.html(Se).animate({draw:{top:0,opacity:1,fontSize:[0,Ie]},dur:q,ease:h.ease})},$e=`${i}`;for($e.length===1&&($e=`0${i}`),F=$e.length,g=o.find(`.${e} .digit:not(.-old-digit)`),_=g.length,o.find(".-old-digit").remove(),N=0;N<F;N++)if(A=g.eq(_-1).find(".digit-value"),C=Math.floor(Number.parseInt(i)/10**N)%10,S=Number.parseInt(A.text()),_--,S!==C)switch(`${h.animate}`.toLowerCase()){case"slide":te(A,C);break;case"fade":Ae(A,C);break;case"zoom":He(A,C);break;default:A.html(C)}},start:function(){let e=this.element;e.data("paused")!==!1&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.data("paused",!1),this._setBreakpoint(),this.tick(),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3))},stop:function(){let e=this.element;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.data("paused",!0),e.find(".digit").html("0"),this.current={d:0,h:0,m:0,s:0}},pause:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data("paused",!0)},resume:function(){this.element.data("paused",!1),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3)},reset:function(){let e=this.element,i=this.options;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.find(".part").removeClass(i.clsZero);let o=e.find(".digit").clear();o.append(r("<span class='digit-placeholder'>").html("0")),o.append(r("<span class='digit-value'>").html("0")),this._setBreakpoint(),e.data("paused",!1),this.tick(),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3)},resetWith:function(e){let i=this.element,o=this.options,h=["days","hours","minutes","seconds"];if(this.stop(),typeof e=="string"){i.attr("data-date",e);for(let g of h)o[g]=0;o.date=e}else if(typeof e=="object"){o.date=null;for(let g of h){let _=e[g]!==void 0?e[g]:0;i.attr(`data-${g}`,_),o[g]=_}}this.reset()},togglePlay:function(){this.element.attr("data-pause")===!0?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getBreakpoint:function(e){return e===!0?new Date(this.breakpoint):this.breakpoint},getLeft:function(){let e=new Date().getTime(),i=Math.floor(this.breakpoint-e);return{days:Math.round(i/864e5),hours:Math.round(i/36e5),minutes:Math.round(i/6e4),seconds:Math.round(i/1e3)}},changeAttribute:function(e,i){switch(e){case"data-pause":this.togglePlay();break;case"data-duration":this.duration=+i<=0||+i>=1e3?600:+i;break}},destroy:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),r(document).off("visibilitychange",{ns:this.id}),this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={startOnViewport:!1,counterDeferred:0,duration:2e3,value:0,from:0,timeout:0,delimiter:",",prefix:"",suffix:"",size:16,onStart:t.noop,onStop:t.noop,onTick:t.noop,onCounterCreate:t.noop};t.counterSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroCounterSetup<"u"&&t.counterSetup(globalThis.metroCounterSetup),t.Component("counter",{init:function(e,i){return this._super(i,e,f,{numbers:[],html:r(i).html(),started:!1,id:null}),this},_create:function(){this.id=Hooks.useId(this.element),this._createStruct(),this._createEvents(),this._fireEvent("counter-create")},_createStruct:function(){let e=this.element;this.elem,this.options,this.elem.value=0,e.css("font-size",this.options.size)},_createEvents:function(){this.options.startOnViewport&&Hooks.useEvent({effect:()=>{this.start()},target:this.elem,event:Hooks.EVENTS.VIEWPORT})},start:function(e,i){let o=this,h=this.elem,g=this.options;t.utils.isValue(i)&&(g.from=+i),t.utils.isValue(e)&&(g.value=+e),this.started=!0;let _=g.from,C=g.value;this._fireEvent("start"),r.animate({el:h,draw:{value:[_,C]},defer:g.timeout,dur:g.duration,onFrame:function(){o._fireEvent("tick",{value:this.value}),this.innerHTML=g.prefix+Number(this.value).format(0,0,g.delimiter)+g.suffix},onDone:()=>{o._fireEvent("stop")}})},reset:function(){this.started=!1,this.element.html(this.html)},changeAttribute:function(e,i){let o=this.options;e==="data-value"&&(o.value=+i),e==="data-from"&&(o.from=+i)},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={cubeDeferred:0,rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:"arrow",cellClick:!1,autoRestart:5e3,clsCube:"",clsCell:"",clsSide:"",clsSideLeft:"",clsSideRight:"",clsSideTop:"",clsSideLeftCell:"",clsSideRightCell:"",clsSideTopCell:"",clsAxis:"",clsAxisX:"",clsAxisY:"",clsAxisZ:"",custom:t.noop,onTick:t.noop,onCubeCreate:t.noop};t.cubeSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroCubeSetup<"u"&&t.cubeSetup(globalThis.metroCubeSetup),t.cubeDefaultRules=[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],t.Component("cube",{init:function(e,i){return this._super(i,e,f,{id:null,rules:null,interval:!1,ruleInterval:!1,running:!1,intervals:[]}),this},_create:function(){let e=this.element,i=this.options;i.rules===null?this.rules=t.cubeDefaultRules:this._parseRules(i.rules),this._createCube(),this._createEvents(),this._fireEvent("cube-create",{element:e})},_parseRules:function(e){if(e==null)return!1;if(t.utils.isObject(e))return this.rules=t.utils.isObject(e),!0;try{return this.rules=JSON.parse(e),!0}catch{return console.warn("Unknown or empty rules for cell flashing!"),!1}},_createCube:function(){let e=this.element,i=this.options,o=["left","right","top"],h=i.cells**2;e.addClass("cube").addClass(i.clsCube),e.attr("id")||e.attr("id",Hooks.useId(this.elem)),this.id=e.attr("id"),this._createCssForFlashColor(),this._createCssForCellSize(),r.each(o,function(){let C;C=r("<div>").addClass(`side ${this}-side`).addClass(i.clsSide).appendTo(e),this==="left"&&C.addClass(i.clsSideLeft),this==="right"&&C.addClass(i.clsSideRight),this==="top"&&C.addClass(i.clsSideTop);for(let S=0;S<h;S++){let A=r("<div>").addClass("cube-cell").addClass(`cell-id-${S+1}`).addClass(i.clsCell);A.data("id",S+1).data("side",this),A.appendTo(C),i.numbers===!0&&A.html(S+1)}});let g=e.find(".cube-cell");i.color!==null&&(Farbe.Routines.isColor(i.color)?g.css({backgroundColor:i.color,borderColor:i.color}):g.addClass(i.color));let _=["x","y","z"];r.each(_,function(){let C=r("<div>").addClass(`axis ${i.axisStyle}`).addClass(`axis-${this}`).addClass(i.clsAxis);this==="x"&&C.addClass(i.clsAxisX),this==="y"&&C.addClass(i.clsAxisY),this==="z"&&C.addClass(i.clsAxisZ),C.appendTo(e)}),i.showAxis===!1&&e.find(".axis").hide(),this._run()},_run:function(){let e=this.element,i=this.options,o=0;clearInterval(this.interval),e.find(".cube-cell").removeClass("light"),i.custom!==t.noop?t.utils.exec(i.custom,[e]):(e.find(".cube-cell").removeClass("light"),this._start(),o=t.utils.isObject(this.rules)?t.utils.objectLength(this.rules):0,this.interval=setInterval(()=>{this._start()},o*i.flashInterval))},_createCssForCellSize:function(){let e=this.element,i=this.options,o=t.sheet;if(i.margin===8&&i.cells===4)return;let h=Number.parseInt(t.utils.getStyleOne(e,"width")),g=Math.ceil((h/2-i.margin*i.cells*2)/i.cells);t.utils.addCssRule(o,`#${e.attr("id")} .side .cube-cell`,`width: ${g}px!important; height: ${g}px!important; margin: ${i.margin}px!important;`)},_createCssForFlashColor:function(){let e=this.element,i=this.options,o=t.sheet,h,g,_=[],C=[],S;if(i.flashColor!==null){for(h=`0 0 10px ${Farbe.Routines.toRGBA(Farbe.Routines.parse(i.flashColor),1)}`,g=`0 0 10px ${Farbe.Routines.toRGBA(Farbe.Routines.parse(i.flashColor),i.attenuation)}`,S=0;S<3;S++)_.push(h),C.push(g);t.utils.addCssRule(o,`@keyframes pulsar-cell-${e.attr("id")}`,`0%, 100% { box-shadow: ${_.join(",")}} 50% { box-shadow: ${C.join(",")} }`),t.utils.addCssRule(o,`#${e.attr("id")} .side .cube-cell.light`,`animation: pulsar-cell-${e.attr("id")} 2.5s 0s ease-out infinite; background-color: ${i.flashColor}!important; border-color: ${i.flashColor}!important;`)}},_createEvents:function(){let e=this.element,i=this.options;r(globalThis).on(t.events.blur,()=>{i.stopOnBlur===!0&&this.running===!0&&this._stop()},{ns:e.attr("id")}),r(globalThis).on(t.events.focus,()=>{i.stopOnBlur===!0&&this.running===!1&&this._start()},{ns:e.attr("id")}),e.on(t.events.click,".cube-cell",function(){i.cellClick===!0&&r(this).toggleClass("light")})},_start:function(){this.element.find(".cube-cell").removeClass("light"),this.running=!0,r.each(this.rules,(e,i)=>{this._execRule(e,i)})},_stop:function(){this.running=!1,clearInterval(this.interval),r.each(this.intervals,function(){clearInterval(this)})},_tick:function(e,i){let o=this.options,h=i||o.flashInterval*e,g=setTimeout(()=>{this._fireEvent("tick",{index:e}),clearInterval(g),t.utils.arrayDelete(this.intervals,g)},h);this.intervals.push(g)},_toggle:function(e,i,o,h){let g=h||this.options.flashInterval*o,_=setTimeout(()=>{e[i==="on"?"addClass":"removeClass"]("light"),clearInterval(_),t.utils.arrayDelete(this.intervals,_)},g);this.intervals.push(_)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(e,i){let o=this.element,h=this.options,g=this.rules;if(!(g==null||g[e]===void 0)){clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),o.find(".cube-cell").removeClass("light");for(let _=0;_<=e;_++)this._execRule(_,g[_],i);t.utils.isInt(h.autoRestart)&&h.autoRestart>0&&(this.ruleInterval=setTimeout(()=>{this._run()},h.autoRestart))}},_execRule:function(e,i,o){let h=this,g=this.element,_=["left","right","top"];this._tick(e,o),r.each(_,function(){var F,N;let C=`.${this}-side`,S=(F=i.on)!=null&&F[this]?i.on[this]:!1,A=(N=i.off)!=null&&N[this]?i.off[this]:!1;S!==!1&&r.each(S,function(){let q=g.find(`${C} .cell-id-${this}`);h._toggle(q,"on",e,o)}),A!==!1&&r.each(A,function(){let q=g.find(`${C} .cell-id-${this}`);h._toggle(q,"off",e,o)})})},rule:function(e){if(e===void 0)return this.rules;this._parseRules(e)===!0&&(this.options.rules=e,this.stop(),this.element.find(".cube-cell").removeClass("light"),this._run())},axis:function(e){let i=e?"show":"hide";this.element.find(".axis")[i]()},changeRules:function(){let e=this.element,i=this.options,o=e.attr("data-rules");this._parseRules(o)===!0&&(this.stop(),e.find(".cube-cell").removeClass("light"),i.rules=o,this._run())},changeAxisVisibility:function(){let e=this.element,i=JSON.parse(e.attr("data-show-axis"))===!0?"show":"hide";e.find(".axis")[i]()},changeAxisStyle:function(){let e=this.element,i=e.attr("data-axis-style");e.find(".axis").removeClass("arrow line no-style").addClass(i)},changeAttribute:function(e){switch(e){case"data-rules":this.changeRules();break;case"data-show-axis":this.changeAxisVisibility();break;case"data-axis-style":this.changeAxisStyle();break}},destroy:function(){let e=this.element;return clearInterval(this.interval),this.interval=null,r(globalThis).off(t.events.blur,{ns:e.attr("id")}),r(globalThis).off(t.events.focus,{ns:e.attr("id")}),e.off(t.events.click,".cube-cell"),e}})})(Metro,Dom),((t,r)=>{let f={customCheckboxDeferred:0,stateOn:"✓",stateOff:"✗",captionOn:"",captionOff:"",captionPosition:"right",clsCustomCheckbox:"",clsIcon:"",clsIconOn:"",clsIconOff:"",clsCaption:"",clsCaptionOn:"",clsCaptionOff:"",onCustomCheckboxCreate:t.noop};t.customCheckboxSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroCustomCheckboxSetup<"u"&&t.customCheckboxSetup(globalThis.metroCustomCheckboxSetup),t.Component("custom-checkbox",{init:function(e,i){return this._super(i,e,f),this},_create:function(){let e=this.element,i=this.options,o=e.wrap(r("<label>").addClass("custom-checkbox").addClass(i.clsCustomCheckbox)),h=r("<span>").addClass("icon").addClass(i.clsIcon).appendTo(o);if(e.attr("type","checkbox"),e.attr("readonly")&&e.on("click",g=>{g.preventDefault()}),i.stateOn&&r("<span>").addClass("state-on").addClass(i.clsIconOn).html(i.stateOn).appendTo(h),i.stateOff&&r("<span>").addClass("state-off").addClass(i.clsIconOff).html(i.stateOff).appendTo(h),i.captionOn||i.captionOff){let g=r("<span>").addClass("caption").addClass(i.clsCaption).appendTo(o);i.captionOn&&r("<span>").addClass("caption-state-on").addClass(i.clsCaptionOn).html(i.captionOn).appendTo(g),i.captionOff&&r("<span>").addClass("caption-state-off").addClass(i.clsCaptionOff).html(i.captionOff).appendTo(g)}i.captionPosition==="left"&&o.addClass("caption-left"),e[0].className="",e.is(":disabled")?this.disable():this.enable(),this._fireEvent("customCheckbox-create")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(e){let i=this.element;return t.utils.isValue(e)?i.prop("checked",e===1):i.prop("checked",!t.utils.bool(i.prop("checked"))),this},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break}},destroy:function(){return this.element}})})(Metro,Dom),((t,r)=>{let f={label:"",datepickerDeferred:0,gmt:0,format:"YYYY-MM-DD",inputFormat:null,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,defaultYearDistance:100,scrollSpeed:4,openMode:"auto",clsPicker:"",clsPart:"",clsMonth:"",clsDay:"",clsYear:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"✓",cancelButtonIcon:"𐄂",onSet:t.noop,onOpen:t.noop,onClose:t.noop,onScroll:t.noop,onDatePickerCreate:t.noop};t.datePickerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroDatePickerSetup<"u"&&t.datePickerSetup(globalThis.metroDatePickerSetup),t.Component("date-picker",{init:function(e,i){return this._super(i,e,f,{picker:null,isOpen:!1,value:datetime(),listTimer:{day:null,month:null,year:null}}),this},_create:function(){let e=this.element,i=this.options,o=this.locale,h=datetime();i.distance<1&&(i.distance=1),t.utils.isValue(e.val())&&(i.value=e.val()),t.utils.isValue(i.value)&&(this.value=i.inputFormat?Datetime.from(i.value,i.inputFormat,o):datetime(i.value)),i.minYear===null&&(i.minYear=h.year()-i.defaultYearDistance),i.maxYear===null&&(i.maxYear=h.year()+i.defaultYearDistance),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("datepicker-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o=this.locale,h,g,_,C,S,A,F,N;h=e.wrap("<div>").addClass(`wheel-picker date-picker ${e[0].className}`).addClass(i.clsPicker),h.attr("id")||h.attr("id",Hooks.useId(h[0])),this._addLabel(i.label,h,{className:i.clsLabel,id:h.attr("id"),dir:e.attr("dir")}),F=r("<div>").addClass("date-wrapper").appendTo(h),i.month===!0&&(g=r("<div>").addClass("month").addClass(i.clsPart).addClass(i.clsMonth).appendTo(F)),i.day===!0&&(_=r("<div>").addClass("day").addClass(i.clsPart).addClass(i.clsDay).appendTo(F)),i.year===!0&&(C=r("<div>").addClass("year").addClass(i.clsPart).addClass(i.clsYear).appendTo(F));let q=r("<div>").addClass("select-wrapper").appendTo(h);if(N=r("<div>").addClass("select-block").appendTo(q),i.month===!0){for(g=r("<ul>").addClass("sel-month").appendTo(N),S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(g);for(S=0;S<12;S++){let te=Datetime.getLocale(o).months[S];r("<li>").addClass(`js-month-${S} js-month-real-${te.toLowerCase()}`).html(te).data("value",S).appendTo(g)}for(S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(g)}if(i.day===!0){for(_=r("<ul>").addClass("sel-day").appendTo(N),S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(_);for(S=0;S<31;S++)r("<li>").addClass(`js-day-${S} js-day-real-${S+1}`).html(S+1).data("value",S+1).appendTo(_);for(S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(_)}if(i.year===!0){for(C=r("<ul>").addClass("sel-year").appendTo(N),S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(C);for(S=i.minYear,A=0;S<=i.maxYear;S++,A++)r("<li>").addClass(`js-year-${A} js-year-real-${S}`).html(S).data("value",S).appendTo(C);for(S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(C)}N.height((i.distance*2+1)*40);let Y=r("<div>").addClass("action-block").appendTo(q);r("<button>").attr("type","button").addClass("button action-today").addClass(i.clsButton).addClass(i.clsTodayButton).html(`<span class="caption">${this.strings.label_today}</span>`).appendTo(Y),r("<button>").attr("type","button").addClass("button action-ok").addClass(i.clsButton).addClass(i.clsOkButton).html(`<span class="icon">${i.okButtonIcon}</span>`).appendTo(Y),r("<button>").attr("type","button").addClass("button action-cancel").addClass(i.clsButton).addClass(i.clsCancelButton).html(`<span class="icon">${i.cancelButtonIcon}</span>`).appendTo(Y),e[0].className="",e.prop("disabled")&&h.addClass("disabled"),this.picker=h},_createEvents:function(){let e=this,i=this.options,o=this.picker,h=o.attr("id");o.on(t.events.startAll,".select-block ul",function(_){if(_.changedTouches)return;let C=t.utils.pageXY(_).y;r(document).on(t.events.moveAll,S=>{this.scrollTop-=i.scrollSpeed*(C>t.utils.pageXY(S).y?-1:1),C=t.utils.pageXY(S).y},{ns:h}),r(document).on(t.events.stopAll,()=>{r(document).off(t.events.move,{ns:h}),r(document).off(t.events.stop,{ns:h})},{ns:h})}),o.on(t.events.click,_=>{e.isOpen===!1&&e.open(),_.stopPropagation()}),o.on(t.events.click,".action-ok",_=>{let C=o.find(".sel-month li.active"),S=o.find(".sel-day li.active"),A=o.find(".sel-year li.active"),F=C.length===0?e.value.value.getMonth():C.data("value"),N=S.length===0?e.value.value.getDate():S.data("value"),q=A.length===0?e.value.value.getFullYear():A.data("value");e.value=datetime(q,F,N),e._set(),e.close(),_.preventDefault(),_.stopPropagation()}),o.on(t.events.click,".action-cancel",_=>{e.close(),_.preventDefault(),_.stopPropagation()});let g=150;r.each(["month","day","year"],function(){let _=o.find(`.sel-${this}`),C=Hooks.useDebounce(S=>{e.listTimer[this]=null;let A=Math.round(Math.ceil(_.scrollTop())/40),F=_.find(`.js-${this}-${A}`),N=F.position().top-i.distance*40;_.find(".active").removeClass("active"),_[0].scrollTop=N,F.addClass("active"),t.utils.exec(i.onScroll,[F,_,o],_[0])},g);_.on("scroll",C)}),o.on(t.events.click,"ul li",function(_){let C=r(this),S=C.closest("ul"),A=C.position().top-i.distance*40;S.find(".active").removeClass("active"),r.animate({el:S[0],draw:{scrollTop:A},dur:300}),S[0].scrollTop=A,C.addClass("active"),t.utils.exec(i.onScroll,[C,S,o],S[0])}),o.on(t.events.click,".action-today",_=>{let C=datetime(),S=C.month(),A=C.day(),F=C.year();o.find(`.sel-month li.js-month-${S}`).click(),o.find(`.sel-day li.js-day-real-${A}`).click(),o.find(`.sel-year li.js-year-real-${F}`).click(),_.preventDefault(),_.stopPropagation()})},_correct:function(){let e=this.value.month(),i=this.value.day(),o=this.value.year();this.value=datetime(o,e,i)},_set:function(){let e=this.element,i=this.options,o=this.picker,h=Datetime.getLocale(this.locale).months[this.value.month()],g=this.value.day(),_=this.value.year();i.month===!0&&o.find(".month").html(h),i.day===!0&&o.find(".day").html(g),i.year===!0&&o.find(".year").html(_),e.val(this.value.format(i.format,this.locale)).trigger("change"),this._fireEvent("set",{value:this.value.val(),elementValue:e.val(),picker:o})},open:function(){let e=this.options,i=this.picker,o=this.value.month(),h=this.value.day()-1,g=this.value.year(),_=i.find(".select-wrapper");if(r.each(r(".date-picker"),function(){r(this).find("input").each(function(){t.getPlugin(this,"datepicker").close()})}),_.show(0),i.find("li").removeClass("active"),e.openMode==="auto"?(t.utils.inViewport(_[0])||_.parent().addClass("drop-up-select"),t.utils.inViewport(_[0])||(_.parent().removeClass("drop-up-select"),_.parent().addClass("drop-as-dialog"))):e.openMode==="dialog"?_.parent().addClass("drop-as-dialog"):e.openMode==="up"&&_.parent().addClass("drop-up-select"),e.month===!0){let C=i.find(".sel-month");C.scrollTop(0).animate({draw:{scrollTop:C.find(`li.js-month-${o}`).addClass("active").position().top-40*e.distance},dur:100})}if(e.day===!0){let C=i.find(".sel-day");C.scrollTop(0).animate({draw:{scrollTop:C.find(`li.js-day-${h}`).addClass("active").position().top-40*e.distance},dur:100})}if(e.year===!0){let C=i.find(".sel-year");C.scrollTop(0).animate({draw:{scrollTop:C.find(`li.js-year-real-${g}`).addClass("active").position().top-40*e.distance},dur:100})}this.isOpen=!0,this._fireEvent("open",{value:this.value.val(),picker:i})},close:function(){let e=this.picker,i=this.options;e.find(".select-wrapper").hide(0),i.openMode==="auto"&&e.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{value:this.value.val(),picker:e})},val:function(e){let i=this.options;if(!t.utils.isValue(e))return this.element.val();this.value=i.inputFormat?Datetime.from(e,i.inputFormat,this.locale):datetime(e),this._set()},date:function(e,i){if(e===void 0)return this.value.val();try{this.value=Datetime.from(e,i,this.locale),this._set()}catch{return!1}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,i){switch(e){case"disabled":this.toggleState();break;case"data-value":this.val(i);break;case"data-format":this.options.format=i,this._set();break}},destroy:function(){let e=this.element,i=this.picker;return r.each(["moth","day","year"],function(){i.find(`.sel-${this}`).off("scroll")}),i.off(t.events.start,".select-block ul"),i.off(t.events.click),i.off(t.events.click,".action-ok"),i.off(t.events.click,".action-cancel"),e}}),r(document).on(t.events.click,()=>{r.each(r(".date-picker"),function(){r(this).find("input").each(function(){t.getPlugin(this,"datepicker").close()})})})})(Metro,Dom),((t,r)=>{let f={note:`
    <svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8.75 3.5V2C8.75 1.59 8.41 1.25 8 1.25C7.59 1.25 7.25 1.59 7.25 2V3.56C7.5 3.53 7.73 3.5 8 3.5H8.75Z"/>
        <path d="M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H16C16.27 3.5 16.5 3.53 16.75 3.56Z"/>
        <path d="M16.75 3.56V5C16.75 5.41 16.41 5.75 16 5.75C15.59 5.75 15.25 5.41 15.25 5V3.5H8.75V5C8.75 5.41 8.41 5.75 8 5.75C7.59 5.75 7.25 5.41 7.25 5V3.56C4.3 3.83 3 5.73 3 8.5V17C3 20 4.5 22 8 22H16C19.5 22 21 20 21 17V8.5C21 5.73 19.7 3.83 16.75 3.56ZM12 16.75H8C7.59 16.75 7.25 16.41 7.25 16C7.25 15.59 7.59 15.25 8 15.25H12C12.41 15.25 12.75 15.59 12.75 16C12.75 16.41 12.41 16.75 12 16.75ZM16 11.75H8C7.59 11.75 7.25 11.41 7.25 11C7.25 10.59 7.59 10.25 8 10.25H16C16.41 10.25 16.75 10.59 16.75 11C16.75 11.41 16.41 11.75 16 11.75Z"/>
    </svg>
    `,info:`
    <svg width="800px" height="800px" viewBox="-160 0 512 512" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"/>
    </svg>
    `,warning:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 294.995 294.995" xml:space="preserve">
        <path d="M291.874,248.279L165.605,26.526c-4.007-7.037-10.776-11.26-18.107-11.26s-14.101,4.202-18.107,11.239L3.121,248.238 c-3.979,6.989-4.164,15.013-0.493,21.326c3.67,6.313,10.663,10.165,18.705,10.165h252.329c8.042,0,15.035-3.852,18.705-10.165 C296.038,263.251,295.854,255.268,291.874,248.279z M146.665,86.229c9.665,0,17.5,7.835,17.5,17.5v63c0,9.665-7.835,17.5-17.5,17.5 c-9.665,0-17.5-7.835-17.5-17.5v-63C129.165,94.064,137,86.229,146.665,86.229z M147.498,204.005c9.665,0,17.5,7.835,17.5,17.5 c0,9.665-7.835,17.5-17.5,17.5c-9.665,0-17.5-7.835-17.5-17.5C129.998,211.84,137.833,204.005,147.498,204.005z"/>
    </svg>
    `,caution:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"  xml:space="preserve">
        <path class="st0" d="M387.317,0.005H284.666h-57.332h-102.65L0,124.688v102.67v57.294v102.67l124.684,124.674h102.65h57.332
            h102.651L512,387.321v-102.67v-57.294v-102.67L387.317,0.005z M255.45,411.299c-19.082,0-34.53-15.467-34.53-34.549
            c0-19.053,15.447-34.52,34.53-34.52c19.082,0,34.53,15.467,34.53,34.52C289.98,395.832,274.532,411.299,255.45,411.299z
             M283.414,278.692c0,15.448-12.516,27.964-27.964,27.964c-15.458,0-27.964-12.516-27.964-27.964l-6.566-135.368
            c0-19.072,15.447-34.54,34.53-34.54c19.082,0,34.53,15.467,34.53,34.54L283.414,278.692z"/>
    </svg>
    `,tip:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 256 256" xml:space="preserve">
        <path d="M216.2,92.5c-5.2-5.3-13.8-5.4-19-0.1L157.8,134l-0.3,0.3c-25.5,0.1-46.2,16.8-46.2,37.3h-5.8c0-23.6,23.1-42.8,51.6-43.1
            l-0.1-19.4c0,0-0.1-85.4-0.1-85.5c-0.7-5.8-5.6-10.3-11.7-10.3c-6.5,0-11.7,5.3-11.7,11.7c0,0.2,0,72.9,0,72.9l-5.2,0.2l-0.1-81.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8v81h-5.6l0.1-63.6c0-6.5-5.3-11.7-11.8-11.7S75.7,28,75.7,34.4V98h-5.2l0.1-34.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8c0,108.4,0,108.4,0,111c0,13.2,6.8,24.4,16.2,28.1v48.4h0.2v0.4l81.2-0.4v-51.1
            c2.5-0.9,5.1-2,7.6-3.3c15.4-7.9,26.1-20.3,29.5-32.5c2.9-4.3,36.8-56.2,36.8-56.2C221.4,103.7,220.6,96.9,216.2,92.5z"/>
    </svg>  
    `,success:`
        <svg width="800px" height="800px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path d="M24,2A22,22,0,1,0,46,24,21.9,21.9,0,0,0,24,2ZM35.4,18.4l-14,14a1.9,1.9,0,0,1-2.8,0l-5.9-5.9a2.2,2.2,0,0,1-.4-2.7,2,2,0,0,1,3.1-.2L20,28.2,32.6,15.6a2,2,0,0,1,2.8,2.8Z"/>
        </svg>    
    `},e={directive:"note",showIcon:!0,title:"default",style:1,onDirectiveCreate:t.noop};t.directiveSetup=i=>{e=r.extend({},e,i)},typeof globalThis.metroDirectiveSetup<"u"&&t.directiveSetup(globalThis.metroDirectiveSetup),t.Component("directive",{init:function(i,o){return this._super(o,i,e,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("directive-create")},_createStructure:function(){let i=this.element,o=this.options,h=i.wrap("<div>").addClass("directive").addClass(`directive-style-${o.style}`).addClass(`directive-${o.directive}`),g=r("<div>").addClass("directive-title").html(o.title==="default"?this.strings[`label_${o.directive.toLowerCase()}`].toUpperCase():o.title);o.showIcon&&g.prepend(r("<span>").addClass("icon").html(f[o.directive])),h.prepend(g),this.component=h},_createEvents:()=>{},changeAttribute:(i,o)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={donutDeferred:0,size:100,hole:.8,value:0,background:"transparent",color:"",stroke:"#d1d8e7",fill:"#49649f",fontSize:0,total:100,cap:"%",showText:!0,showValue:!1,animate:0,onChange:t.noop,onDrawValue:e=>e,onDonutCreate:t.noop};t.donutSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroDonutSetup<"u"&&t.donutSetup(globalThis.metroDonutSetup),t.Component("donut",{init:function(e,i){return this._super(i,e,f,{value:0,animation_change_interval:null}),this},_create:function(){let e=this.element,i=this.options;e.addClass("donut"),this._setElementSize(),this._draw(),this._addEvents(),this.val(i.value),this._fireEvent("donut-create",{element:e})},_setElementSize:function(){let e=this.element,i=this.options,o=i.size;e.css({width:o,background:i.background}),e.css({height:e.width()})},_draw:function(){let e=this.element,i=this.options,o="",h=e.width()/2,g=h*(1-(1-i.hole)/2),_=h*(1-i.hole),C=`rotate(-90 ${h},${h})`,S=i.fontSize===0?g*i.hole*.6:i.fontSize;o+="<svg>",o+=`   <circle class='donut-back' r='${g}px' cx='${h}px' cy='${h}px' transform='${C}' fill='none' stroke='${i.stroke}' stroke-width='${_}'/>`,o+=`   <circle class='donut-fill' r='${g}px' cx='${h}px' cy='${h}px' transform='${C}' fill='none' stroke='${i.fill}' stroke-width='${_}'/>`,i.showText===!0&&(o+=`   <text class='donut-title' x='${h}px' y='${h}px' dy='${S/3}px' text-anchor='middle' fill='${i.color!==""?i.color:i.fill}' font-size='${S}px'></text>`),o+="</svg>",e.html(o)},_addEvents:function(){r(globalThis).on("resize",()=>{this._setElementSize(),this._draw(),this.val(this.value)})},_setValue:function(e){let i=this.element,o=this.options,h=i.find(".donut-fill"),g=i.find(".donut-title"),_=i.width()/2*(1-(1-o.hole)/2),C=Math.round(2*Math.PI*_),S=o.showValue?e:t.utils.percent(o.total,e,!0),A=Math.round(+e*C/o.total),F=h.attr("stroke-dasharray");typeof F>"u"?F=0:F=+F.split(" ")[0];let N=A-F;h.animate({draw:function(q,Y){r(this).attr("stroke-dasharray",`${F+N*Y} ${C}`)},dur:o.animate}),g.html(t.utils.exec(o.onDrawValue,[S+o.cap]))},val:function(e){let i=this.options;if(e===void 0)return this.value;if(Number.parseInt(e)<0||Number.parseInt(e)>i.total)return!1;this._setValue(e),this.value=e,this._fireEvent("change",{value:this.value})},setColor:function(e){let i=["background","fill","stroke","color"];return r.each(e,(o,h)=>{i.indexOf(o)!==-1&&(this.options[o]=h)}),this._draw(),this.val(this.value),this},changeValue:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(e,i){switch(e){case"data-value":this.changeValue();break;case"data-background":this.setColor({background:i});break;case"data-fill":this.setColor({fill:i});break;case"data-stroke":this.setColor({stroke:i});break;case"data-color":this.setColor({color:i});break}},destroy:function(){return this.element}})})(Metro,Dom),((t,r)=>{let f={height:"auto",multiSelect:!1,moveRightIcon:"&rsaquo;",moveRightAllIcon:"&raquo;",moveLeftIcon:"&lsaquo;",moveLeftAllIcon:"&laquo;",clsBox:"",clsMoveButton:"",clsMoveRightButton:"",clsMoveRightAllButton:"",clsMoveLeftButton:"",clsMoveLeftAllButton:"",clsListLeft:"",clsListRight:"",onDoubleSelectBoxCreate:t.noop};t.doubleSelectBoxSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroDoubleSelectBoxSetup<"u"&&t.doubleSelectBoxSetup(globalThis.metroDoubleSelectBoxSetup),t.Component("double-select-box",{init:function(e,i){return this._super(i,e,f,{select1:null,select2:null,list1:null,list2:null}),this},_create:function(){if(this.element.children("select").length!==2)throw new Error("Component DoubleSelectBox required two select elements!");this._createStructure(),this._createEvents(),this._fireEvent("double-select-box-create")},_drawList:function(){this.list1.clear(),this.select1.find("option").each((e,i)=>{let o=r(i),h=o.attr("data-icon"),g=o.attr("data-template")?o.attr("data-template").replace(/\$1/g,o.text()):o.text();h&&(g=r("<span>").addClass("icon").append(h).outerHTML()+g),this.list1.append(r("<li>").html(g).attr("data-value",i.value).data("option",i))}),this.list2.clear(),this.select2.find("option").each((e,i)=>{let o=r(i),h=o.attr("data-icon"),g=o.attr("data-template")?o.attr("data-template").replace(/\$1/g,o.text()):o.text();h&&(g=r("<span>").addClass("icon").append(h).outerHTML()+g),this.list2.append(r("<li>").html(g).attr("data-value",i.value).data("option",i))})},_createStructure:function(){let e=this.element,i=this.options,o=e.children("select"),h=o.eq(0),g=o.eq(1),_=r("<div>").addClass("controls").insertBefore(g);e.addClass("double-select-box").addClass(i.clsBox).css({height:i.height}),o.prop("multiple",!0),_.append(r([r("<button>").attr("type","button").addClass("button square small --move-right").addClass(i.clsMoveButton).addClass(i.clsMoveRightButton).html(`<span class="icon">${i.moveRightIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-right-all").addClass(i.clsMoveButton).addClass(i.clsMoveRightAllButton).html(`<span class="icon">${i.moveRightAllIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-left-all").addClass(i.clsMoveButton).addClass(i.clsMoveLeftAllButton).html(`<span class="icon">${i.moveLeftAllIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-left").addClass(i.clsMoveButton).addClass(i.clsMoveLeftButton).html(`<span class="icon">${i.moveLeftIcon}</span>`)]));let C=r("<ul>").addClass("--list1").addClass(i.clsListLeft).insertBefore(h),S=r("<ul>").addClass("--list2").addClass(i.clsListRight).insertBefore(g);this.select1=h,this.select2=g,this.list1=C,this.list2=S,this._drawList()},_moveItems:(e,i)=>{r.each(e,function(){let o=r(this),h=o.data("option");r(h).appendTo(i[0]),o.removeClass("active").appendTo(i[1])})},_move:function(e,i){i==="selected"?e==="ltr"?this._moveItems(this.list1.find("li.active"),[this.select2,this.list2]):this._moveItems(this.list2.find("li.active"),[this.select1,this.list1]):e==="ltr"?this._moveItems(this.list1.find("li"),[this.select2,this.list2]):this._moveItems(this.list2.find("li"),[this.select1,this.list1])},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.find("li");h.on("click",function(){let g=r(this);o.multiSelect===!1&&(e.list1.find("li").removeClass("active"),e.list2.find("li").removeClass("active")),g.addClass("active")}),h.on("dblclick",function(){let g=r(this),_=g.parent().hasClass("--list1")?"ltr":"rtl";e.list1.find("li").removeClass("active"),e.list2.find("li").removeClass("active"),g.addClass("active"),e._move(_,"selected")}),i.on("click","button",function(){let g=r(this);if(g.hasClass("--move-right"))e._move("ltr","selected");else if(g.hasClass("--move-right-all"))e._move("ltr","all");else if(g.hasClass("--move-left"))e._move("rtl","selected");else if(g.hasClass("--move-left-all"))e._move("rtl","all");else throw new Error("Pressed unregistered button!")})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={doubleSliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:t.position.BOTTOM,valueMin:null,valueMax:null,hint:!1,hintAlways:!1,hintPositionMin:t.position.TOP,hintPositionMax:t.position.TOP,hintMaskMin:"$1",hintMaskMax:"$1",target:null,size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsMarker:"",clsMarkerMin:"",clsMarkerMax:"",clsHint:"",clsHintMin:"",clsHintMax:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:t.noop,onStop:t.noop,onMove:t.noop,onChange:t.noop,onChangeValue:t.noop,onFocus:t.noop,onBlur:t.noop,onDoubleSliderCreate:t.noop};t.doubleSliderSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroDoubleSliderSetup<"u"&&t.doubleSliderSetup(globalThis.metroDoubleSliderSetup),t.Component("double-slider",{init:function(e,i){return this._super(i,e,f,{slider:null,valueMin:null,valueMax:null,keyInterval:!1,id:null}),this},_create:function(){let e=this.element,i=this.options;this.id=Hooks.useId(this.elem),this.valueMin=t.utils.isValue(i.valueMin)?+i.valueMin:+i.min,this.valueMax=t.utils.isValue(i.valueMax)?+i.valueMax:+i.max,this._createSlider(),this._createEvents(),this.val(this.valueMin,this.valueMax),this._fireEvent("double-slider-create",{element:e})},_createSlider:function(){let e=this.element,i=this.options,o=r("<div>").addClass("slider-wrapper"),h=r("<div>").addClass("slider").addClass(i.clsSlider).addClass(this.elem.className),g=r("<div>").addClass("backside").addClass(i.clsBackside),_=r("<div>").addClass("complete").addClass(i.clsComplete),C=r("<button>").attr("type","button").addClass("marker marker-min").addClass(i.clsMarker).addClass(i.clsMarkerMin),S=r("<button>").attr("type","button").addClass("marker marker-max").addClass(i.clsMarker).addClass(i.clsMarkerMax),A=r("<div>").addClass("hint hint-min").addClass(`${i.hintPositionMin}-side`).addClass(i.clsHint).addClass(i.clsHintMin),F=r("<div>").addClass("hint hint-max").addClass(`${i.hintPositionMax}-side`).addClass(i.clsHint).addClass(i.clsHintMax),N;if(i.size>0&&h.outerWidth(i.size),h.insertBefore(e),e.appendTo(h),o.insertBefore(h),h.appendTo(o),g.appendTo(h),_.appendTo(h),C.appendTo(h),S.appendTo(h),A.appendTo(C),F.appendTo(S),i.hintAlways===!0&&r([A,F]).css({display:"block"}).addClass("permanent-hint"),i.showMinMax===!0){let q=r("<div>").addClass("slider-min-max").addClass(i.clsMinMax);r("<span>").addClass("slider-text-min").addClass(i.clsMin).html(`${i.min}`).appendTo(q),r("<span>").addClass("slider-text-max").addClass(i.clsMax).html(`${i.max}`).appendTo(q),i.minMaxPosition===t.position.TOP?q.insertBefore(h):q.insertAfter(h)}if(e[0].className="",i.copyInlineStyles===!0)for(N=0;N<e[0].style.length;N++)h.css(e[0].style[N],e.css(e[0].style[N]));e.is(":disabled")?this.disable():this.enable(),this.slider=h},_createEvents:function(){let e=this,i=this.slider,o=this.options,h=i.find(".marker");h.on(t.events.startAll,function(){let g=r(this),_=g.find(".hint");g.addClass("active"),o.hint===!0&&o.hintAlways!==!0&&_.fadeIn(300),r(document).on(t.events.moveAll,C=>{e._move(C),e._fireEvent("move",{min:e.valueMin,max:e.valueMax})},{ns:e.id}),r(document).on(t.events.stopAll,()=>{i.find(".marker").removeClass("active"),r(document).off(t.events.moveAll,{ns:e.id}),r(document).off(t.events.stopAll,{ns:e.id}),o.hintAlways!==!0&&_.fadeOut(300),e._fireEvent("stop",{min:e.valueMin,max:e.valueMax})},{ns:e.id}),e._fireEvent("start",{min:e.valueMin,max:e.valueMax})}),h.on(t.events.focus,()=>{e._fireEvent("focus",{min:e.valueMin,max:e.valueMax})}),h.on(t.events.blur,()=>{e._fireEvent("blur",{min:e.valueMin,max:e.valueMax})}),r(globalThis).on(t.events.resize,()=>{e.val(e.valueMin,e.valueMax)},{ns:e.id})},_convert:function(e,i){let o=this.slider,h=this.options,g=o.outerWidth()-o.find(".marker").outerWidth();switch(i){case"pix2prc":return e*100/g;case"pix2val":return this._convert(e,"pix2prc")*((h.max-h.min)/100)+h.min;case"val2prc":return(e-h.min)/((h.max-h.min)/100);case"prc2pix":return e/(100/g);case"val2pix":return this._convert(this._convert(e,"val2prc"),"prc2pix")}return 0},_correct:function(e){let i=e,o=this.options.accuracy,h=this.options.min,g=this.options.max,_=C=>C%1===0?0:C.toString().split(".")[1].length;return o===0||Number.isNaN(o)?i:(i=Math.round(e/o)*o,i<h&&(i=h),i>g&&(i=g),i.toFixed(_(o)))},_move:function(e){let i=this.slider.find(".marker.active").hasClass("marker-min"),o=this.slider,h=o.offset(),g=o.find(".marker").outerWidth(),_=o.find(".marker-min"),C=o.find(".marker-max"),S=o.outerWidth(),A,F,N=t.utils.pageXY(e).x-h.left-g/2;i?(A=0,F=Number.parseInt(C.css("left"))-g):(A=Number.parseInt(_.css("left"))+g,F=S-g),!(N<A||N>F)&&(this[i?"valueMin":"valueMax"]=this._correct(this._convert(N,"pix2val")),this._redraw())},_hint:function(){let e=this,i=this.options;this.slider.find(".hint").each(function(){let o=r(this),h=o.hasClass("hint-min"),g=h?i.hintMaskMin:i.hintMaskMax,_=+(h?e.valueMin:e.valueMax)||0;o.text(g.replace("$1",_.toFixed(t.utils.decCount(i.accuracy))))})},_value:function(){let e=this.element,i=this.options,o=+this.valueMin||0,h=+this.valueMax||0,g;if(i.roundValue&&(o=o.toFixed(t.utils.decCount(i.accuracy)),h=h.toFixed(t.utils.decCount(i.accuracy))),g=[o,h].join(", "),e[0].tagName==="INPUT"&&e.val(g),i.target!==null){let _=r(i.target);_.length!==0&&r.each(_,function(){let C=r(this);this.tagName==="INPUT"?C.val(g):C.text(g),C.trigger("change")})}this._fireEvent("change-value",{val:g}),this._fireEvent("change",{val:g})},_marker:function(){let e=this.slider,i=e.find(".marker-min"),o=e.find(".marker-max"),h=e.find(".complete"),g=Number.parseInt(t.utils.getStyleOne(i,"width")),_=t.utils.isVisible(e);_&&r([i,o]).css({"margin-top":0,"margin-left":0}),_?(i.css("left",this._convert(this.valueMin,"val2pix")),o.css("left",this._convert(this.valueMax,"val2pix"))):(i.css({left:`${this._convert(this.valueMin,"val2prc")}%`,"margin-top":this._convert(this.valueMin,"val2prc")===0?0:-1*g/2}),o.css({left:`${this._convert(this.valueMax,"val2prc")}%`,"margin-top":this._convert(this.valueMax,"val2prc")===0?0:-1*g/2})),h.css({left:this._convert(this.valueMin,"val2pix"),width:this._convert(this.valueMax,"val2pix")-this._convert(this.valueMin,"val2pix")})},_redraw:function(){this._marker(),this._value(),this._hint()},val:function(e,i){let o=this.options;if(!t.utils.isValue(e)&&!t.utils.isValue(i))return[this.valueMin,this.valueMax];let h=e,g=i;typeof h<"u"&&h<o.min&&(h=o.min),typeof g<"u"&&g<o.min&&(g=o.min),typeof h<"u"&&h>o.max&&(h=o.max),typeof g<"u"&&g>o.max&&(g=o.max),typeof h<"u"&&(this.valueMin=this._correct(h)),typeof g<"u"&&(this.valueMax=this._correct(g)),this._redraw()},changeValue:function(){let e=this.element,i=+e.attr("data-value-min"),o=+e.attr("data-value-max");this.val(i,o)},disable:function(){let e=this.element;e.data("disabled",!0),e.parent().addClass("disabled")},enable:function(){let e=this.element;e.data("disabled",!1),e.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"data-value-min":this.changeValue();break;case"data-value-max":this.changeValue();break;case"disabled":this.toggleState();break}},destroy:function(){let e=this.element,i=this.slider,o=i.find(".marker");o.off(t.events.startAll),o.off(t.events.focus),o.off(t.events.blur),o.off(t.events.keydown),o.off(t.events.keyup),i.off(t.events.click),r(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,r)=>{let f={dragItemsDeferred:0,target:null,dragItem:"li",dragMarker:".drag-item-marker",drawDragMarker:!1,clsDragItemAvatar:"",clsDragItem:"",canDrag:!0,onDragStartItem:t.noop,onDragMoveItem:t.noop,onDragDropItem:t.noop,onTarget:t.noop,onTargetIn:t.noop,onTargetOut:t.noop,onDragItemsCreate:t.noop};t.dragItemsSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroDragItemsSetup<"u"&&t.dragItemsSetup(globalThis.metroDragItemsSetup),t.Component("drag-items",{init:function(e,i){return this._super(i,e,f,{id:null,canDrag:!1}),this},_create:function(){let e=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("drag-items-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options;e.id()||e.id(this.id),e.addClass("drag-items-target"),i.drawDragMarker===!0&&e.find(i.dragItem).each(function(){r("<span>").addClass("drag-item-marker").appendTo(this)}),i.canDrag?this.on():this.off()},_createEvents:function(){let e=this.element,i=this.options,o=r.document(),h=r.body(),g,_={top:0,left:0},C,S,A=(F,N,q)=>{let Y=t.utils.pageXY(F).x,te=t.utils.pageXY(F).y,Ae=te-_.top,He=Y-_.left;N.css({top:Ae,left:He});let $e=document.elementsFromPoint(Y,te).filter(Se=>r(Se).hasClass("drag-items-target"));if($e.length===0)return;this._fireEvent("target",{target:$e});let Pe=document.elementsFromPoint(Y,te).filter(Se=>{let Le=r(Se);return r.matches(Se,i.dragItem)&&!Le.hasClass("dragged-item-avatar")})[0];if(!t.utils.isValue(Pe))q.appendTo($e);else{let Se=r(Pe),Le=Se.offset(),Ie=te-Le.top,Me=Y-Le.left,Et,wt={w:Se.width(),h:Se.height()};Me<wt.w/3&&(Ie<wt.h/2||Ie>wt.h/2)?Et="left":Me>wt.w*2/3&&(Ie<wt.h/2||Ie>wt.h/2)?Et="right":Me>wt.w/3&&Me<wt.w*2/3&&Ie>wt.h/2?Et="bottom":Et="top",Se.hasClass("dragged-item")||(Et==="top"||Et==="left"?q.insertBefore(Se):q.insertAfter(Se))}};e.on(t.events.startAll,i.drawDragMarker?i.dragMarker:i.dragItem,F=>{let N=r(F.target).closest(i.dragItem);if(t.utils.isRightMouse(F)||this.canDrag!==!0)return;N.addClass("dragged-item").addClass(i.clsDragItem);let q=r("<div>").addClass("dragged-item-avatar").addClass(i.clsDragItemAvatar);g=N.offset(),C=N.width(),S=N.height(),_.top=t.utils.pageXY(F).y-g.top,_.left=t.utils.pageXY(F).x-g.left,q.css({top:g.top,left:g.left,width:C,height:S}).appendTo(h),this._fireEvent("drag-start-item",{dragItem:N[0],avatar:q[0]}),o.on(t.events.moveAll,Y=>{A(Y,q,N),this._fireEvent("drag-move-item",{dragItem:N[0],avatar:q[0]}),Y.preventDefault()},{ns:this.id,passive:!1}),o.on(t.events.stopAll,()=>{this._fireEvent("drag-drop-item",{dragItem:N[0],avatar:q[0]}),N.removeClass("dragged-item").removeClass(i.clsDragItem),q.remove(),o.off(t.events.moveAll,{ns:this.id}),o.off(t.events.stopAll,{ns:this.id})},{ns:this.id}),i.drawDragMarker&&(F.preventDefault(),F.stopPropagation())})},on:function(){this.canDrag=!0,this.element.find(".drag-item-marker").show()},off:function(){this.canDrag=!1,this.element.find(".drag-item-marker").hide()},toggle:function(){this.canDrag=this.canDrag?this.off():this.on()},changeAttribute:function(e){let i=this.element,o=this.options;e==="data-can-drag"&&(o.canDtag=JSON.parse(i.attr("data-can-drag")),o.canDtag?this.on():this.off())},destroy:function(){let e=this.element,i=this.options;return e.off(t.events.startAll,i.drawDragMarker?i.dragMarker:i.dragItem),e}})})(Metro,Dom),((t,r)=>{let f={dragContext:null,draggableDeferred:0,dragElement:"self",dragArea:"parent",timeout:0,boundaryRestriction:!0,onCanDrag:t.noop_true,onDragStart:t.noop,onDragStop:t.noop,onDragMove:t.noop,onDraggableCreate:t.noop};t.draggableSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroDraggableSetup<"u"&&t.draggableSetup(globalThis.metroDraggableSetup),t.Component("draggable",{init:function(e,i){return this._super(i,e,f,{drag:!1,move:!1,backup:{cursor:"default",zIndex:"0"},dragArea:null,dragElement:null,id:null}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("draggable-create",{element:this.element})},_createStructure:function(){let e=this.element,i=this.options,o=e.offset(),h=i.dragElement!=="self"?e.find(i.dragElement):e;e.data("canDrag",!0),this.dragElement=h,h[0].ondragstart=()=>!1,e.css("position","absolute"),(i.dragArea==="document"||i.dragArea==="window")&&(i.dragArea="body"),setTimeout(()=>{this.dragArea=i.dragArea==="parent"?e.parent():r(i.dragArea),this.dragArea.css("position")==="static"&&this.dragArea.css("position","relative"),i.dragArea!=="parent"&&(e.appendTo(this.dragArea),e.css({top:o.top,left:o.left}))}),e.attr("id")||e.attr("id",Hooks.useId(this.elem))},_createEvents:function(){let e=this.element,i=this.options,o={x:0,y:0};this.dragElement.on(t.events.startAll,h=>{let g=e.position(),_=t.utils.pageXY(h).x-g.left,C=t.utils.pageXY(h).y-g.top,S=A=>{let F=t.utils.pageXY(A).y-C,N=t.utils.pageXY(A).x-_;i.boundaryRestriction&&(F<0&&(F=0),N<0&&(N=0),F>this.dragArea.outerHeight()-e.outerHeight()&&(F=this.dragArea.outerHeight()-e.outerHeight()),N>this.dragArea.outerWidth()-e.outerWidth()&&(N=this.dragArea.outerWidth()-e.outerWidth())),o.y=F,o.x=N,e.css({left:N,top:F}),this._fireEvent("drag-move",{position:o,context:i.dragContext})};e.data("canDrag")===!1||t.utils.exec(i.onCanDrag,[e])!==!0||t.isTouchable===!1&&h.which!==1||(this.drag=!0,e.addClass("draggable"),this._fireEvent("drag-start",{position:o,context:i.dragContext}),r(document).on(t.events.moveAll,S,{ns:this.id,passive:!1}),r(document).on(t.events.stopAll,()=>{e.removeClass("draggable"),r(document).off(t.events.moveAll,{ns:this.id}),r(document).off(t.events.stopAll,{ns:this.id}),this.drag=!1,this.move=!1,this._fireEvent("drag-stop",{position:o,context:i.dragContext})},{ns:this.id}))})},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;return this.dragElement.off(t.events.startAll),e}})})(Metro,Dom),((t,r)=>{let f={enabled:!0,logErrors:!1,delimiterStart:"{{",delimiterEnd:"}}",context:null,processChild:!0};t.evalSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroEvalSetup<"u"&&t.evalSetup(globalThis.metroEvalSetup),t.Component("eval",{init:function(e,i){return this._super(i,e,f,{origContent:null}),this},_create:function(){let e=this.element;this.origContent=e.html(),this.options.enabled&&(this.options.processChild?this._processNodeAndChildren(e[0]):e.text(this.eval(e.text())))},_processNodeAndChildren:function(e){if(e.nodeType===3){e.textContent=this.eval(e.textContent);return}for(let i=0;i<e.childNodes.length;i++)this._processNodeAndChildren(e.childNodes[i])},eval:function(e){let i=this.options;if(!i.enabled)return e;let o=new RegExp(`${this._escapeRegExp(i.delimiterStart||"{{")}(.*?)${this._escapeRegExp(i.delimiterEnd||"}}")}`,"gs");return e.replace(o,(h,g)=>{try{return new Function(`return ${g}`).call(i.context)}catch(_){return i.logErrors&&console.error("Metro UI Eval error:",_,"in code:",g),h}})},_escapeRegExp:e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),reset:function(){this.origContent&&this.element.html(this.origContent)},destroy:function(){return this.reset(),this._super()}}),t.evalText=(e,i)=>{let o={options:r.extend({},f,i)};return t.Component("eval").prototype.eval.call(o,e)}})(Metro,Dom),((t,r)=>{let f={init:function(){return this},options:{csvDelimiter:"	",csvNewLine:`\r
`,includeHeader:!0},setup:function(e){return this.options=r.extend({},this.options,e),this},base64:e=>globalThis.btoa(unescape(encodeURIComponent(e))),b64toBlob:(e,i="",o=512)=>{let h=globalThis.atob(e),g=[],_;for(_=0;_<h.length;_+=o){let C=h.slice(_,_+o),S=new Array(C.length);for(let F=0;F<C.length;F=F+1)S[F]=C.charCodeAt(F);let A=new globalThis.Uint8Array(S);g.push(A)}return new Blob(g,{type:i})},tableToCSV:function(e,i,o){let h,g,_,C="",S,A;h=r.extend({},this.options,o);let F=r(e)[0];if(t.utils.bool(h.includeHeader)){_=F.querySelectorAll("thead")[0];for(let N=0;N<_.rows.length;N++){S=_.rows[N];for(let q=0;q<S.cells.length;q++)A=S.cells[q],C+=(q?h.csvDelimiter:"")+A.textContent.trim();C+=h.csvNewLine}}g=F.querySelectorAll("tbody")[0];for(let N=0;N<g.rows.length;N++){S=g.rows[N];for(let q=0;q<S.cells.length;q++)A=S.cells[q],C+=(q?h.csvDelimiter:"")+A.textContent.trim();C+=h.csvNewLine}return t.utils.isValue(i)?this.createDownload(this.base64(`\uFEFF${C}`),"application/csv",i):C},createDownload:function(e,i,o){let h=document.createElement("a");h.style.display="none",document.body.appendChild(h);let g=this.b64toBlob(e,i),_=globalThis.URL.createObjectURL(g);return h.href=_,h.download=o||Hooks.useId(h),h.click(),globalThis.URL.revokeObjectURL(_),document.body.removeChild(h),!0},arrayToCsv:function(e,i,o){let h,g="",_,C;for(h=r.extend({},this.options,o),_=0;_<e.length;_++)C=e[_],typeof C!="object"?g+=C+h.csvNewLine:(r.each(C,(S,A)=>{g+=(S?h.csvDelimiter:"")+A.toString()}),g+=h.csvNewLine);return t.utils.isValue(i)?this.createDownload(this.base64(`\uFEFF${g}`),"application/csv",i):g}};t.export=f.init()})(Metro,Dom),((t,r)=>{let f={fileDeferred:0,label:"",mode:"input",buttonTitle:"",filesSelectedTitle:"",dropTitle:"",dropIcon:"📥",clearButtonIcon:"❌",prepend:"",clsComponent:"",clsPrepend:"",clsButton:"",clsCaption:"",clsLabel:"",onSelect:t.noop,onFileCreate:t.noop};t.fileSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroFileSetup<"u"&&t.fileSetup(globalThis.metroFileSetup),t.Component("file",{init:function(e,i){return this._super(i,e,f),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("file-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o=e.wrap("<div>").addClass((i.mode==="input"?" file ":i.mode==="button"?" file-button ":" drop-zone ")+e[0].className).addClass(i.clsComponent);o.attr("id",Hooks.useId(o[0]));let h=r("<span>").addClass("caption").addClass(i.clsCaption),g=r("<span>").addClass("files").addClass(i.clsCaption),_,C;i.mode.includes("drop")?(_=r("<span>").addClass("icon").html(i.dropIcon).appendTo(o),h.html(i.dropTitle||this.strings.label_drop_file).insertAfter(_),g.html((i.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)).insertAfter(h),C=r("<button>").addClass("button clear-button square").html(i.clearButtonIcon).appendTo(o)):(h.insertBefore(e),C=r("<button>").attr("type","button").addClass("button select-files-button").attr("tabindex",-1).html(i.buttonTitle||this.strings.label_choose_file),C.appendTo(o),C.addClass(i.clsButton),o.hasClass("input-small")&&C.addClass("small"),e.attr("dir")==="rtl"&&o.addClass("rtl"),i.prepend!==""&&r("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(o)),e[0].className="",this._addLabel(i.label,o,{className:i.clsLabel,id:o.attr("id"),dir:e.attr("dir")}),e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.closest(".file, .drop-zone"),g=i.siblings(".caption"),_=i.siblings(".files"),C=i.closest("form");C.length&&C.on("reset",()=>{e.clear()}),h.on(t.events.click,".select-files-button",()=>{i[0].click()}),h.on(t.events.click,".clear-button",()=>{e.clear()}),i.on(t.events.change,function(){let S=[],A,F=Array.from(this.files);for(let N of F)S.push(N.name);o.mode==="input"?(A=S.join(", "),g.html(A),g.attr("title",A)):_.html((o.filesSelectedTitle||e.strings.label_files_selected).replace("{n}",i[0].files.length)),e._fireEvent("select",{files:this.files})}),i.on(t.events.focus,()=>{h.addClass("focused")}),i.on(t.events.blur,()=>{h.removeClass("focused")}),o.mode!=="input"&&(h.on(t.events.click,()=>{i[0].click()}),h.on("drag dragstart dragend dragover dragenter dragleave drop",S=>{S.preventDefault()}),h.on("dragenter dragover",()=>{h.addClass("drop-on")}),h.on("dragleave",()=>{h.removeClass("drop-on")}),h.on("drop",S=>{i[0].files=S.dataTransfer.files,_.html((o.filesSelectedTitle||e.strings.label_files_selected).replace("{n}",i[0].files.length)),h.removeClass("drop-on"),i.trigger("change")}))},clear:function(){let e=this.element,i=this.options;i.mode==="input"?e.siblings(".caption").html(""):e.siblings(".files").html((i.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)),e[0].value="",e.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleDir:function(){this.element.attr("dir")==="rtl"?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break;case"dir":this.toggleDir();break}},destroy:function(){let e=this.element,i=this.options,o=e.parent();e.off(t.events.change),o.off(t.events.click,"button"),i.label&&o.prev("label").remove(),o.remove()}})})(Metro,Dom),((t,r)=>{let f={min:0,max:100,value:0,size:0,labelMin:"",labelMax:"",label:"",suffix:"",values:10,segments:10,startAngle:235,range:250,theme:"",onGaugeCreate:t.noop};t.gaugeSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroGaugeSetup<"u"&&t.gaugeSetup(globalThis.metroGaugeSetup),t.Component("gauge",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){let e=this.element,i=this.options;e[0].style.setProperty("--analog-gauge-segments",`${i.segments}`),e[0].style.setProperty("--analog-gauge-start-angle",`${i.startAngle}deg`),e[0].style.setProperty("--analog-gauge-range",`${i.range}deg`),this.options.range=Number.parseFloat(getComputedStyle(e[0]).getPropertyValue("--analog-gauge-range")),this.options.start=Number.parseFloat(getComputedStyle(e[0]).getPropertyValue("--analog-gauge-start-angle")),this.options.defaultMark=90,this.options.defaultNeedle=270,this.options.minDegree=this.options.start-this.options.defaultNeedle,this._createStructure(),this._createEvents(),this.update(),this._fireEvent("gauge-create")},_generateMarks:function(){let e=this.options,i=`${e.values}`.trim();if(i==="")return"";let o=i.toArray(","),h=[],g;o.length===1?(h=Array.from({length:+i},(C,S)=>Math.round(e.min+S*(e.max-e.min)/(+i-1||1))),g=Number.parseInt(i)):(h=[...o],g=o.length);let _=e.range/(g-1||1);return`
                <ul class="value-marks">
                  ${h.map((C,S)=>`<li style="--_d:${e.start-e.defaultMark+S*_}deg" class="mark">${C}</li>`).join("")}
                </ul>
            `},_createStructure:function(){let e=this.element,i=this.options;e.addClass("analog-gauge"),i.size&&e.css({width:i.size,height:i.size}),e.html(`
                <div class="gauge"></div>
                ${this._generateMarks()} 
                <div class="needle"></div> 
                <div class="value">${i.value}</div> 
                <div class="label">${i.label}</div> 
                <div class="label-min">${i.labelMin}</div> 
                <div class="label-max">${i.labelMax}</div> 
            `),i.theme&&e.addClass(`theme-${i.theme}`)},_createEvents:()=>{},val:function(e){if(typeof e>"u")return this.options.value;this.options.value=e,this.update()},update:function(){let e=this.element,i=this.elem,o=this.options,h=(Math.max(o.min,Math.min(o.max,o.value))-o.min)/(o.max-o.min),g=o.minDegree+h*o.range;i.style.setProperty("--analog-gauge-value",`${h*o.range}deg`),i.style.setProperty("--_d",`${g}deg`),e.find(".value").html(o.value+o.suffix)},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={gradientType:"linear",gradientShape:"",gradientPosition:"",gradientSize:"",gradientColors:"#000, #fff",gradientRepeat:!1,onGradientBoxCreate:t.noop};t.gradientBoxSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroGradientBoxSetup<"u"&&t.gradientBoxSetup(globalThis.metroGradientBoxSetup),t.Component("gradient-box",{init:function(e,i){return this._super(i,e,f,{colors:[],shape:"",size:"",position:"",type:"linear",func:"linear-gradient",repeat:!1}),this},_create:function(){let e=this.options;this.colors=e.gradientColors.toArray(","),this.type=e.gradientType.toLowerCase(),this.shape=e.gradientShape.toLowerCase(),this.size=e.gradientSize.toLowerCase(),this.repeat=e.gradientRepeat,this.func=`${(this.repeat?"repeating-":"")+this.type}-gradient`,this.type==="linear"?e.gradientPosition?(this.position=Number.isNaN(e.gradientPosition)===!1?`${e.gradientPosition}deg`:e.gradientPosition,this.position.indexOf("deg")===-1&&this.position.indexOf("to ")===-1&&(this.position=`to ${this.position}`)):this.position="to bottom":(this.position=e.gradientPosition.toLowerCase(),this.position&&this.position.indexOf("at ")===-1&&(this.position=`at ${this.position}`)),this._createStructure(),this._setGradient(),this._fireEvent("gradient-box-create")},_createStructure:function(){this.element.addClass("gradient-box")},_setGradient:function(){let e=this.element,i=[];this.type==="radial"&&this.shape&&i.push(this.shape),this.type==="radial"&&this.size&&i.push(this.size),this.position;let o=`${this.func}(${i.length?`${i.join(" ")}, `:""}${this.colors.join(", ")})`;e.css({background:o})},changeAttribute:function(e,i){if(e.indexOf("data-gradient-")!==-1){switch(e){case"data-gradient-type":this.type=i,this.func=`${i.toLowerCase()}-gradient`;break;case"data-gradient-colors-css":this.colors=i?i.toArray(","):["#fff","#000"];break;case"data-gradient-shape":this.shape=i.toLowerCase();break;case"data-gradient-size":this.size=i.toLowerCase();break;case"data-gradient-position":this.position=i.toLowerCase();break;case"data-gradient-repeat":this.repeat=t.utils.bool(i);break}this._setGradient()}},destroy:function(){return this.element}})})(Metro,Dom),(t=>{t.md5=r=>{function f(Ot,At){return Ot<<At|Ot>>>32-At}function e(Ot,At){let Ft,ci,Pt;Ft=Ot&2147483648,ci=At&2147483648;let Zt=Ot&1073741824,vn=At&1073741824;return Pt=(Ot&1073741823)+(At&1073741823),Zt&vn?Pt^2147483648^Ft^ci:Zt|vn?Pt&1073741824?Pt^3221225472^Ft^ci:Pt^1073741824^Ft^ci:Pt^Ft^ci}function i(Ot,At,Ft){return Ot&At|~Ot&Ft}function o(Ot,At,Ft){return Ot&Ft|At&~Ft}function h(Ot,At,Ft){return Ot^At^Ft}function g(Ot,At,Ft){return At^(Ot|~Ft)}function _(Ot,At,Ft,ci,Pt,Zt,vn){let Zi=e(Ot,e(e(i(At,Ft,ci),Pt),vn));return e(f(Zi,Zt),At)}function C(Ot,At,Ft,ci,Pt,Zt,vn){let Zi=e(Ot,e(e(o(At,Ft,ci),Pt),vn));return e(f(Zi,Zt),At)}function S(Ot,At,Ft,ci,Pt,Zt,vn){let Zi=e(Ot,e(e(h(At,Ft,ci),Pt),vn));return e(f(Zi,Zt),At)}function A(Ot,At,Ft,ci,Pt,Zt,vn){let Zi=e(Ot,e(e(g(At,Ft,ci),Pt),vn));return e(f(Zi,Zt),At)}function F(Ot){let At,Ft=Ot.length,ci=Ft+8,Pt=((ci-ci%64)/64+1)*16,Zt=Array(Pt-1),vn=0,Zi=0;for(;Zi<Ft;)At=(Zi-Zi%4)/4,vn=Zi%4*8,Zt[At]=Zt[At]|Ot.charCodeAt(Zi)<<vn,Zi++;return At=(Zi-Zi%4)/4,vn=Zi%4*8,Zt[At]=Zt[At]|128<<vn,Zt[Pt-2]=Ft<<3,Zt[Pt-1]=Ft>>>29,Zt}function N(Ot){let At="",Ft="",ci,Pt;for(Pt=0;Pt<=3;Pt++)ci=Ot>>>Pt*8&255,Ft=`0${ci.toString(16)}`,At=At+Ft.substr(Ft.length-2,2);return At}function q(Ot){let At=Ot.replace(/\r\n/g,`
`),Ft="";for(let ci=0;ci<At.length;ci++){let Pt=At.charCodeAt(ci);Pt<128?Ft+=String.fromCharCode(Pt):Pt>127&&Pt<2048?(Ft+=String.fromCharCode(Pt>>6|192),Ft+=String.fromCharCode(Pt&63|128)):(Ft+=String.fromCharCode(Pt>>12|224),Ft+=String.fromCharCode(Pt>>6&63|128),Ft+=String.fromCharCode(Pt&63|128))}return Ft}let Y=[],te,Ae,He,$e,Pe,Se,Le,Ie,Me,Et=7,wt=12,Fi=17,mn=22,Di=5,Bn=9,us=14,ji=20,cs=4,Xn=11,gn=16,Ks=23,Kn=6,Nn=10,Ea=15,bt=21,xu=q(r);for(Y=F(xu),Se=1732584193,Le=4023233417,Ie=2562383102,Me=271733878,te=0;te<Y.length;te+=16)Ae=Se,He=Le,$e=Ie,Pe=Me,Se=_(Se,Le,Ie,Me,Y[te],Et,3614090360),Me=_(Me,Se,Le,Ie,Y[te+1],wt,3905402710),Ie=_(Ie,Me,Se,Le,Y[te+2],Fi,606105819),Le=_(Le,Ie,Me,Se,Y[te+3],mn,3250441966),Se=_(Se,Le,Ie,Me,Y[te+4],Et,4118548399),Me=_(Me,Se,Le,Ie,Y[te+5],wt,1200080426),Ie=_(Ie,Me,Se,Le,Y[te+6],Fi,2821735955),Le=_(Le,Ie,Me,Se,Y[te+7],mn,4249261313),Se=_(Se,Le,Ie,Me,Y[te+8],Et,1770035416),Me=_(Me,Se,Le,Ie,Y[te+9],wt,2336552879),Ie=_(Ie,Me,Se,Le,Y[te+10],Fi,4294925233),Le=_(Le,Ie,Me,Se,Y[te+11],mn,2304563134),Se=_(Se,Le,Ie,Me,Y[te+12],Et,1804603682),Me=_(Me,Se,Le,Ie,Y[te+13],wt,4254626195),Ie=_(Ie,Me,Se,Le,Y[te+14],Fi,2792965006),Le=_(Le,Ie,Me,Se,Y[te+15],mn,1236535329),Se=C(Se,Le,Ie,Me,Y[te+1],Di,4129170786),Me=C(Me,Se,Le,Ie,Y[te+6],Bn,3225465664),Ie=C(Ie,Me,Se,Le,Y[te+11],us,643717713),Le=C(Le,Ie,Me,Se,Y[te],ji,3921069994),Se=C(Se,Le,Ie,Me,Y[te+5],Di,3593408605),Me=C(Me,Se,Le,Ie,Y[te+10],Bn,38016083),Ie=C(Ie,Me,Se,Le,Y[te+15],us,3634488961),Le=C(Le,Ie,Me,Se,Y[te+4],ji,3889429448),Se=C(Se,Le,Ie,Me,Y[te+9],Di,568446438),Me=C(Me,Se,Le,Ie,Y[te+14],Bn,3275163606),Ie=C(Ie,Me,Se,Le,Y[te+3],us,4107603335),Le=C(Le,Ie,Me,Se,Y[te+8],ji,1163531501),Se=C(Se,Le,Ie,Me,Y[te+13],Di,2850285829),Me=C(Me,Se,Le,Ie,Y[te+2],Bn,4243563512),Ie=C(Ie,Me,Se,Le,Y[te+7],us,1735328473),Le=C(Le,Ie,Me,Se,Y[te+12],ji,2368359562),Se=S(Se,Le,Ie,Me,Y[te+5],cs,4294588738),Me=S(Me,Se,Le,Ie,Y[te+8],Xn,2272392833),Ie=S(Ie,Me,Se,Le,Y[te+11],gn,1839030562),Le=S(Le,Ie,Me,Se,Y[te+14],Ks,4259657740),Se=S(Se,Le,Ie,Me,Y[te+1],cs,2763975236),Me=S(Me,Se,Le,Ie,Y[te+4],Xn,1272893353),Ie=S(Ie,Me,Se,Le,Y[te+7],gn,4139469664),Le=S(Le,Ie,Me,Se,Y[te+10],Ks,3200236656),Se=S(Se,Le,Ie,Me,Y[te+13],cs,681279174),Me=S(Me,Se,Le,Ie,Y[te],Xn,3936430074),Ie=S(Ie,Me,Se,Le,Y[te+3],gn,3572445317),Le=S(Le,Ie,Me,Se,Y[te+6],Ks,76029189),Se=S(Se,Le,Ie,Me,Y[te+9],cs,3654602809),Me=S(Me,Se,Le,Ie,Y[te+12],Xn,3873151461),Ie=S(Ie,Me,Se,Le,Y[te+15],gn,530742520),Le=S(Le,Ie,Me,Se,Y[te+2],Ks,3299628645),Se=A(Se,Le,Ie,Me,Y[te],Kn,4096336452),Me=A(Me,Se,Le,Ie,Y[te+7],Nn,1126891415),Ie=A(Ie,Me,Se,Le,Y[te+14],Ea,2878612391),Le=A(Le,Ie,Me,Se,Y[te+5],bt,4237533241),Se=A(Se,Le,Ie,Me,Y[te+12],Kn,1700485571),Me=A(Me,Se,Le,Ie,Y[te+3],Nn,2399980690),Ie=A(Ie,Me,Se,Le,Y[te+10],Ea,4293915773),Le=A(Le,Ie,Me,Se,Y[te+1],bt,2240044497),Se=A(Se,Le,Ie,Me,Y[te+8],Kn,1873313359),Me=A(Me,Se,Le,Ie,Y[te+15],Nn,4264355552),Ie=A(Ie,Me,Se,Le,Y[te+6],Ea,2734768916),Le=A(Le,Ie,Me,Se,Y[te+13],bt,1309151649),Se=A(Se,Le,Ie,Me,Y[te+4],Kn,4149444226),Me=A(Me,Se,Le,Ie,Y[te+11],Nn,3174756917),Ie=A(Ie,Me,Se,Le,Y[te+2],Ea,718787259),Le=A(Le,Ie,Me,Se,Y[te+9],bt,3951481745),Se=e(Se,Ae),Le=e(Le,He),Ie=e(Ie,$e),Me=e(Me,Pe);return(N(Se)+N(Le)+N(Ie)+N(Me)).toLowerCase()}})(Metro,Dom),((t,r)=>{let f={gravatarDeferred:0,email:"",size:80,default:"mp",onGravatarCreate:t.noop};t.gravatarSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroGravatarSetup<"u"&&t.gravatarSetup(globalThis.metroGravatarSetup),t.Component("gravatar",{init:function(e,i){return this._super(i,e,f),this},_create:function(){let e=this.element;this.get(),this._fireEvent("gravatar-create",{element:e})},getImage:function(e,i,o,h){let g=r("<img>").attr("alt",e);return g.attr("src",this.getImageSrc(e,i)),h===!0?g:g[0]},getImageSrc:(e,i=80,o="404")=>e===void 0||e.trim()===""?"":`https://www.gravatar.com/avatar/${t.md5(e.toLowerCase().trim())}?size=${i}&d=${t.utils.encodeURI(o)}`,get:function(){let e=this.element,i=this.options,o=e[0].tagName==="IMG"?e:e.find("img");if(o.length!==0)return o.attr("src",this.getImageSrc(i.email,i.size,i.default)),this},resize:function(e){this.options.size=e!==void 0?e:this.element.attr("data-size"),this.get()},email:function(e){this.options.email=e!==void 0?e:this.element.attr("data-email"),this.get()},changeAttribute:function(e){switch(e){case"data-size":this.resize();break;case"data-email":this.email();break}},destroy:function(){return this.element}})})(Metro,Dom),((t,r)=>{let f={hintDeferred:0,hintHide:5e3,clsHint:"",hintText:"",hintPosition:t.position.TOP,hintOffset:4,onHintShow:t.noop,onHintHide:t.noop,onHintCreate:t.noop};t.hintSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroHintSetup<"u"&&t.hintSetup(globalThis.metroHintSetup),t.Component("hint",{init:function(e,i){return this._super(i,e,f,{hint:null,hint_size:{width:0,height:0},id:null}),this},_create:function(){this.id=Hooks.useId(this.element),this._createEvents(),this._fireEvent("hint-create",{element:this.element})},_createEvents:function(){let e=this.element,i=this.options,o=!1;e.on(t.events.enter,()=>{o=!0,setTimeout(()=>{o&&(this.createHint(),+i.hintHide>0&&setTimeout(()=>{this.removeHint()},i.hintHide))},i.hintDeferred)}),e.on(t.events.leave,()=>{o=!1,this.removeHint()}),r(globalThis).on(`${t.events.scroll} ${t.events.resize}`,()=>{this.hint!==null&&this.setPosition()},{ns:this.id})},createHint:function(){let e=this.elem,i=this.element,o=this.options,h=r("<div>").addClass("hint").addClass(o.clsHint).html(o.hintText);if(this.hint=h,this.hint_size=t.utils.hiddenElementSize(h),r(".hint:not(.permanent-hint)").remove(),e.tagName==="TD"||e.tagName==="TH"){let g=r("<div/>").css("display","inline-block").html(i.html());i.html(g),this.element=g}this.setPosition(),h.appendTo(r("body")),this._fireEvent("hint-show",{hint:h[0]})},setPosition:function(){let e=this.hint,i=this.hint_size,o=this.options,h=this.element;o.hintPosition===t.position.BOTTOM?(e.addClass("bottom"),e.css({top:h.offset().top-r(globalThis).scrollTop()+h.outerHeight()+o.hintOffset,left:h.offset().left+h.outerWidth()/2-i.width/2-r(globalThis).scrollLeft()})):o.hintPosition===t.position.RIGHT?(e.addClass("right"),e.css({top:h.offset().top+h.outerHeight()/2-i.height/2-r(globalThis).scrollTop(),left:h.offset().left+h.outerWidth()-r(globalThis).scrollLeft()+o.hintOffset})):o.hintPosition===t.position.LEFT?(e.addClass("left"),e.css({top:h.offset().top+h.outerHeight()/2-i.height/2-r(globalThis).scrollTop(),left:h.offset().left-i.width-r(globalThis).scrollLeft()-o.hintOffset})):(e.addClass("top"),e.css({top:h.offset().top-r(globalThis).scrollTop()-i.height-o.hintOffset,left:h.offset().left-r(globalThis).scrollLeft()+h.outerWidth()/2-i.width/2}))},removeHint:function(){let e=this.hint,i=this.options.onHintHide===t.noop?0:300;e!==null&&(this._fireEvent("hint-hide",{hint:e[0]}),setTimeout(()=>{e.hide(0,()=>{e.remove(),this.hint=null})},i))},changeText:function(){this.options.hintText=this.element.attr("data-hint-text")},changeAttribute:function(e){e==="data-hint-text"&&this.changeText()},destroy:function(){let e=this.element;this.removeHint(),e.off(`${t.events.enter}-hint`),e.off(`${t.events.leave}-hint`),r(globalThis).off(`${t.events.scroll}-hint`)}})})(Metro,Dom),((t,r)=>{let f={specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",91:"meta",92:"meta",93:"meta",224:"meta"},shiftNums:{"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},shiftNumsInverse:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],pendingKey:null,pendingTimeout:1e3,pendingTimer:null,normalizeKey:o=>{if(o.includes(" "))return o.split(" ").map(f.normalizeKey).join(" ");if(!o.includes("+"))return o;let h=o.split("+"),g=h.pop(),_=h.filter(C=>["alt","ctrl","meta","shift"].includes(C));return _.sort((C,S)=>{let A={alt:1,ctrl:2,meta:3,shift:4};return A[C]-A[S]}),_.length?`${_.join("+")}+${g}`:g},getKey:o=>{let h,g=o.keyCode,_=String.fromCharCode(g).toLowerCase();[91,92,93,224].includes(g)?h="meta":g===18?h="alt":g===17?h="ctrl":g===16?h="shift":o.shiftKey?h=f.shiftNums[_]?f.shiftNums[_]:_:h=f.specialKeys[g]===void 0?_:f.specialKeys[g];let C=f.getModifier(o);return["alt","ctrl","meta","shift"].includes(h)&&C.includes(h)?C.join("+"):C.length?`${C.join("+")}+${h}`:h},getModifier:o=>{let h=[];return o.altKey&&h.push("alt"),o.ctrlKey&&h.push("ctrl"),o.metaKey&&h.push("meta"),o.shiftKey&&h.push("shift"),h},createChordKey:(o,h)=>`${o} ${h}`,isPartOfChordKey:o=>Object.keys(t.hotkeys).some(h=>h.split(" ")[0]===o),executeHotkeyAction:(o,h)=>{let g=r(o[0]),_=o[1],C=`${g.attr("href")}`.trim();return h.repeat&&!g.attr("data-repeat")?!1:(h.preventDefault(),_?t.utils.exec(_):g.is("a")&&C&&C.length>0&&C.trim()!=="#"?globalThis.location.href=C:g[0].click(),!0)},clearPending:()=>{clearTimeout(f.pendingTimer),f.pendingKey=null},setPending:o=>{f.pendingKey=o,clearTimeout(f.pendingTimer),f.pendingTimer=setTimeout(f.clearPending,f.pendingTimeout)}};function e(o){let h=f.getKey(o),g=f.normalizeKey(h);if(f.pendingKey!==null){let _=f.createChordKey(f.pendingKey,g);for(let C in t.hotkeys)if(f.normalizeKey(C)===_&&f.executeHotkeyAction(t.hotkeys[C],o)){f.clearPending();return}}Object.keys(t.hotkeys).some(_=>{let C=_.split(" ");return C.length>1&&f.normalizeKey(C[0])===g})&&f.setPending(g);for(let _ in t.hotkeys)if(!_.includes(" ")&&f.normalizeKey(_)===g){f.executeHotkeyAction(t.hotkeys[_],o);return}}function i(o,h){let g=f.normalizeKey(o);return this.each(function(){let _=r(this);if(_.is("input, textarea")||_.attr("contenteditable")==="true"){let C=(S,A)=>{t.utils.exec(h,[S,A,o],_[0])};_.on(`${t.events.keydown}.hotkey-data-${o}`,S=>{let A=f.getKey(S),F=f.normalizeKey(A);if(f.pendingKey!==null){let N=f.createChordKey(f.pendingKey,F);if(g===N){f.clearPending(),S.preventDefault(),C(S,A);return}}if(g.includes(" ")){let N=g.split(" ");if(F===f.normalizeKey(N[0])){f.setPending(F);return}}g===F&&(S.preventDefault(),C(S,A))})}else{let C=S=>S.repeat&&!_.attr("data-repeat")?!1:(S.preventDefault(),f.executeHotkeyAction(g,S),!0);t.hotkeys||(t.hotkeys={}),t.hotkeys[o]=[_,C],_.attr("data-hotkey",o)}})}r.fn.hotkey=i,globalThis.METRO_JQUERY&&globalThis.jquery_present&&(globalThis.jQuery.fn.hotkey=i),r(document).on(`${t.events.keydown}.hotkey-data`,e)})(Metro,Dom),((t,r)=>{let f={onHoverBoxCreate:t.noop};t.hoverBoxSetup=e=>{f=r.extend({},f,e)},typeof window.metroHoverBoxSetup<"u"&&t.hoverBoxSetup(window.metroHoverBoxSetup),t.Component("hoverbox",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("hover-box-create")},_createStructure:function(){let e=this.element;e.addClass("hover-box"),e.cssVar("size",`${e.height()/2}px`)},_createEvents:function(){let e=this.element;e.on(t.events.move,i=>{let o=e[0].getBoundingClientRect(),h=i.pageX-(o.left+window.scrollX),g=i.pageY-(o.top+window.scrollY);e.cssVar("x",`${Math.round(h)}px`).cssVar("y",`${Math.round(g)}px`)})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={htmlContainerDeferred:0,method:"get",htmlSource:null,requestData:null,requestOptions:null,insertMode:"default",onHtmlLoad:t.noop,onHtmlLoadFail:t.noop,onHtmlLoadDone:t.noop,onHtmlContainerCreate:t.noop};t.htmlContainerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroHtmlContainerSetup<"u"&&t.htmlContainerSetup(globalThis.metroHtmlContainerSetup),t.Component("html-container",{init:function(e,i){return this._super(i,e,f,{data:null,opt:{},htmlSource:""}),this},_create:function(){let e=this.element,i=this.options;typeof i.requestData=="string"&&(i.requestData=JSON.parse(i.requestData)),t.utils.isObject(i.requestData)&&(this.data=t.utils.isObject(i.requestData)),typeof i.requestOptions=="string"&&(i.requestOptions=JSON.parse(i.requestOptions)),t.utils.isObject(i.requestOptions)&&(this.opt=t.utils.isObject(i.requestOptions)),i.method=i.method.toUpperCase(),t.utils.isValue(i.htmlSource)&&(this.htmlSource=i.htmlSource,this._load()),this._fireEvent("html-container-create",{element:e})},_load:function(){let e=this.element,i=this.options,o={method:i.method};this.data&&(o.body=this.data),this.opt&&(o.headers=this.opt),fetch(this.htmlSource,o).then(t.fetch.status).then(t.fetch.text).then(h=>{let g=r(h);switch(g.length===0&&(g=r("<div>").html(h)),i.insertMode.toLowerCase()){case"prepend":e.prepend(g);break;case"append":e.append(g);break;case"replace":g.insertBefore(e).script(),e.remove();break;default:e.html(g)}this._fireEvent("html-load",{data:h,source:i.htmlSource,requestData:this.data,requestOptions:this.opt})}).catch(h=>{this._fireEvent("html-load-fail",{error:h})})},load:function(e,i,o){e&&(this.htmlSource=e),i&&(this.data=t.utils.isObject(i)),o&&(this.opt=t.utils.isObject(o)),this._load()},changeAttribute:function(e){let i=this.element,o=this.options,h=()=>{let C=i.attr("data-html-source");t.utils.isNull(C)||(C.trim()===""&&i.html(""),o.htmlSource=C,this._load())},g=()=>{let C=i.attr("data-insert-mode");t.utils.isValue(C)&&(o.insertMode=C)},_=()=>{let C=i.attr("data-request-data");this.load(o.htmlSource,C)};switch(e){case"data-html-source":h();break;case"data-insert-mode":g();break;case"data-request-data":_();break}},destroy:()=>{}})})(Metro,Dom),((t,r)=>{let f={image:null,size:"cover",repeat:!1,color:"transparent",attachment:"scroll",origin:"border",onImageBoxCreate:t.noop};t.imageBoxSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroImageBoxSetup<"u"&&t.imageBoxSetup(globalThis.metroImageBoxSetup),t.Component("image-box",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._fireEvent("image-box-create")},_createStructure:function(){this.element.addClass("image-box"),this._drawImage()},_drawImage:function(){let e=this.element,i=this.options,o=new Image,h;e.attr("data-original")||e.attr("data-original",i.image),e.css({backgroundImage:`url(${i.image})`,backgroundSize:i.size,backgroundRepeat:i.repeat?"repeat":"no-repeat",backgroundColor:i.color,backgroundAttachment:i.attachment,backgroundOrigin:i.origin}),o.src=i.image,o.onload=function(){h=this.height>=this.width,e.removeClass("image-box__portrait image-box__landscape").addClass(`image-box__${h?"portrait":"landscape"}`)}},changeAttribute:function(e,i){let o=e.replace("data-","");["image","size","repeat","color","attachment","origin"].indexOf(o)>-1&&(this.options[o]=i,this._drawImage())},destroy:function(){return this.element}})})(Metro,Dom),((t,r)=>{let f={imageCompareDeferred:0,width:"100%",height:"auto",onSliderMove:t.noop,onImageCompareCreate:t.noop};t.imageCompareSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroImageCompareSetup<"u"&&t.imageCompareSetup(globalThis.metroImageCompareSetup),t.Component("image-compare",{init:function(e,i){return this._super(i,e,f,{id:null}),this},_create:function(){let e=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("image-compare-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o,h;switch(t.utils.isValue(e.attr("id"))||e.attr("id",this.id),e.addClass("image-compare").css({width:i.width}),o=e.width(),i.height){case"16/9":h=t.utils.aspectRatioH(o,i.height);break;case"21/9":h=t.utils.aspectRatioH(o,i.height);break;case"4/3":h=t.utils.aspectRatioH(o,i.height);break;case"auto":h=t.utils.aspectRatioH(o,"16/9");break;default:h=i.height}e.css({height:h});let g=r("<div>").addClass("image-container").appendTo(e),_=r("<div>").addClass("image-container-overlay").appendTo(e).css({width:o/2}),C=r("<div>").addClass("image-slider").appendTo(e);C.css({top:h/2-C.height()/2,left:o/2-C.width()/2});let S=e.find("img");r.each(S,function(A){let F=r("<div>").addClass("image-wrapper");F.css({width:o,height:h,backgroundImage:`url(${this.src})`}),F.appendTo(A===0?g:_)})},_createEvents:function(){let e=this.element,i=this.options,o=e.find(".image-container-overlay"),h=e.find(".image-slider");h.on(t.events.startAll,()=>{let g=e.width();r(document).on(t.events.moveAll,_=>{let C=t.utils.getCursorPositionX(e[0],_);C<0&&(C=0),C>g&&(C=g),o.css({width:C});let S=C-h.width()/2;h.css({left:S}),this._fireEvent("slider-move",{x:C,l:S})},{ns:this.id}),r(document).on(t.events.stopAll,()=>{r(document).off(t.events.moveAll,{ns:this.id}),r(document).off(t.events.stopAll,{ns:this.id})},{ns:this.id})}),r(globalThis).on(t.events.resize,()=>{let g=e.width(),_;if(i.width==="100%"){switch(i.height){case"16/9":_=t.utils.aspectRatioH(g,i.height);break;case"21/9":_=t.utils.aspectRatioH(g,i.height);break;case"4/3":_=t.utils.aspectRatioH(g,i.height);break;case"auto":_=t.utils.aspectRatioH(g,"16/9");break;default:_=i.height}e.css({height:_}),r.each(e.find(".image-wrapper"),function(){r(this).css({width:g,height:_})}),e.find(".image-container-overlay").css({width:g/2}),h.css({top:_/2-h.height()/2,left:g/2-h.width()/2})}},{ns:this.id})},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off(t.events.start),r(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,r)=>{let f={useBackground:!1,backgroundSize:"cover",backgroundPosition:"top left",clsImageGrid:"",clsImageGridItem:"",clsImageGridImage:"",onItemClick:t.noop,onDrawItem:t.noop,onImageGridCreate:t.noop};t.imageGridSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroImageGridSetup<"u"&&t.imageGridSetup(globalThis.metroImageGridSetup),t.Component("image-grid",{init:function(e,i){return this._super(i,e,f,{items:[]}),this},_create:function(){this.items=this.element.children("img"),this._createStructure(),this._createEvents(),this._fireEvent("image-grid-create")},_createStructure:function(){let e=this.element,i=this.options;e.addClass("image-grid").addClass(i.clsImageGrid),this._createItems()},_createEvents:function(){let e=this;this.element.on(t.events.click,".image-grid__item",function(){e._fireEvent("item-click",{item:this})})},_createItems:function(){let e=this,i=this.element,o=this.options,h=this.items;i.clear(),h.each(function(){let g=r(this),_=this.src,C=r("<div>").addClass("image-grid__item").addClass(o.clsImageGridItem).appendTo(i),S=new Image;S.src=_,S.onload=function(){let A=this.height>=this.width;C.addClass(A?"image-grid__item-portrait":"image-grid__item-landscape"),g.addClass(o.clsImageGridImage).appendTo(C),o.useBackground&&(C.css({background:`url(${_})`,backgroundRepeat:"no-repeat",backgroundSize:o.backgroundSize,backgroundPosition:o.backgroundPosition}).attr("data-original",g.attr("data-original")||_).attr("data-title",g.attr("alt")||g.attr("data-title")||""),g.visible(!1)),e._fireEvent("draw-item",{item:C[0],image:g[0]})}})},changeAttribute:function(e,i){let o=this.options;e==="data-use-background"&&(o.useBackground=t.utils.bool(i),this._createItems()),e==="data-background-size"&&(o.backgroundSize=i,this._createItems()),e==="data-background-position"&&(o.backgroundPosition=i,this._createItems())},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={imageMagnifierDeferred:0,width:"100%",height:"auto",lensSize:100,lensType:"square",magnifierZoom:2,magnifierMode:"glass",magnifierZoomElement:null,clsMagnifier:"",clsLens:"",clsZoom:"",onMagnifierMove:t.noop,onImageMagnifierCreate:t.noop};t.imageMagnifierSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroImageMagnifierSetup<"u"&&t.imageMagnifierSetup(globalThis.metroImageMagnifierSetup),t.Component("image-magnifier",{init:function(e,i){return this._super(i,e,f,{zoomElement:null,id:null}),this},_create:function(){let e=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("image-magnifier-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o,h,g,_=e.find("img");if(_.length===0)throw new Error("Image not defined");switch(t.utils.isValue(e.attr("id"))||e.attr("id",this.id),e.addClass("image-magnifier").css({width:i.width}).addClass(i.clsMagnifier),h=e.width(),i.height){case"16/9":g=t.utils.aspectRatioH(h,i.height);break;case"21/9":g=t.utils.aspectRatioH(h,i.height);break;case"4/3":g=t.utils.aspectRatioH(h,i.height);break;case"auto":g=t.utils.aspectRatioH(h,"16/9");break;default:g=i.height}e.css({height:g});let C=h/2-i.lensSize/2,S=g/2-i.lensSize/2;if(i.magnifierMode==="glass")o=r("<div>").addClass("image-magnifier-glass").appendTo(e),o.css({width:i.lensSize,height:i.lensSize,borderRadius:i.lensType!=="circle"?0:"50%",top:S,left:C,backgroundImage:`url(${_[0].src})`,backgroundRepeat:"no-repeat",backgroundPosition:`-${C*i.magnifierZoom-i.lensSize/4+4}px -${S*i.magnifierZoom-i.lensSize/4+4}px`,backgroundSize:`${_[0].width*i.magnifierZoom}px ${_[0].height*i.magnifierZoom}px`}).addClass(i.clsLens);else{o=r("<div>").addClass("image-magnifier-glass").appendTo(e),o.css({width:i.lensSize,height:i.lensSize,borderRadius:0,borderWidth:1,top:S,left:C}).addClass(i.clsLens),!t.utils.isValue(i.magnifierZoomElement)||r(i.magnifierZoomElement).length===0?this.zoomElement=r("<div>").insertAfter(e):this.zoomElement=r(i.magnifierZoomElement);let A=o[0].offsetWidth*i.magnifierZoom,F=o[0].offsetHeight*i.magnifierZoom,N=A/i.lensSize,q=F/i.lensSize;this.zoomElement.css({width:A,height:F,backgroundImage:`url(${_[0].src})`,backgroundRepeat:"no-repeat",backgroundPosition:`-${C*N}px -${S*q}px`,backgroundSize:`${_[0].width*N}px ${_[0].height*q}px`}).addClass(i.clsZoom)}},_createEvents:function(){let e=this.element,i=this.options,o=e.find(".image-magnifier-glass"),h=o[0].offsetWidth/2,g=e.find("img")[0],_=this.zoomElement,C,S;r(globalThis).on(t.events.resize,()=>{let F=e.width()/2-i.lensSize/2,N=e.height()/2-i.lensSize/2;i.magnifierMode==="glass"&&o.css({backgroundPosition:`-${F*i.magnifierZoom-i.lensSize/4+4}px -${N*i.magnifierZoom-i.lensSize/4+4}px`,backgroundSize:`${g.width*i.magnifierZoom}px ${g.height*i.magnifierZoom}px`})},{ns:this.id}),i.magnifierMode!=="glass"&&(C=_[0].offsetWidth/h/2,S=_[0].offsetHeight/h/2,_.css({backgroundSize:`${g.width*C}px ${g.height*S}px`}));let A=F=>{let N,q,Y=Number.parseInt(i.magnifierZoom);i.magnifierMode==="glass"?(N=F.x,q=F.y,N>g.width-h/Y&&(N=g.width-h/Y),N<h/Y&&(N=h/Y),q>g.height-h/Y&&(q=g.height-h/Y),q<h/Y&&(q=h/Y),o.css({top:q-h,left:N-h,backgroundPosition:`-${N*Y-h+4}px -${q*Y-h+4}px`})):(N=F.x-h,q=F.y-h,N>g.width-h*2&&(N=g.width-h*2),N<0&&(N=0),q>g.height-h*2&&(q=g.height-h*2),q<0&&(q=0),o.css({top:q,left:N}),_.css({backgroundPosition:`-${N*C}px -${q*S}px`}))};e.on(t.events.move,F=>{let N=t.utils.getCursorPosition(g,F);A(N),this._fireEvent("magnifier-move",{pos:N,glass:o[0],zoomElement:_?_[0]:void 0}),F.preventDefault()}),e.on(t.events.leave,()=>{let F=e.width()/2-i.lensSize/2,N=e.height()/2-i.lensSize/2;o.animate({draw:{top:N,left:F}}),A({x:F+i.lensSize/2,y:N+i.lensSize/2})})},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off(t.events.move),e.off(t.events.leave),e.remove()}})})(Metro,Dom),((t,r)=>{let f={size:"100x100",width:null,height:null,color:"#f8f8f8",textColor:"#292929",font:"12px sans-serif",text:"",showText:!0,onImagePlaceholderCreate:t.noop};t.imagePlaceholderSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroImagePlaceholderSetup<"u"&&t.imagePlaceholderSetup(globalThis.metroImagePlaceholderSetup),t.Component("image-placeholder",{init:function(e,i){return this._super(i,e,f,{width:0,height:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("image-placeholder-create")},_createStructure:function(){let e=this.element,i=this.options,o=i.size.toArray("x");this.width=i.width?i.width:o[0],this.height=i.height?i.height:o[1],e.attr("src",this._createPlaceholder())},_createEvents:()=>{},_createPlaceholder:function(){let e=this.options,i=document.createElement("canvas"),o=i.getContext("2d"),h=this.width,g=this.height;return i.width=Number.parseInt(h),i.height=Number.parseInt(g),o.clearRect(0,0,h,g),o.fillStyle=e.color,o.fillRect(0,0,h,g),o.fillStyle=e.textColor,o.font=e.font,o.translate(h/2,g/2),o.textAlign="center",o.textBaseline="middle",e.showText&&o.fillText(e.text?e.text:`${h} × ${g}`,0,0),i.toDataURL()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={infoboxDeferred:0,type:"",width:480,height:"auto",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,autoHide:0,removeOnClose:!1,closeButton:!0,clsBox:"",clsBoxContent:"",clsOverlay:"",onOpen:t.noop,onClose:t.noop,onInfoBoxCreate:t.noop};t.infoBoxSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroInfoBoxSetup<"u"&&t.infoBoxSetup(globalThis.metroInfoBoxSetup),t.Component("info-box",{init:function(e,i){return this._super(i,e,f,{overlay:null,id:null}),this},_create:function(){let e=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("info-box-create",{element:e})},_overlay:function(){let e=this.options,i=r("<div>");return i.addClass("overlay").addClass(e.clsOverlay),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(e.overlayColor),e.overlayAlpha)}),i},_createStructure:function(){let e=this.element,i=this.options,o;i.overlay===!0&&(this.overlay=this._overlay()),e.addClass("info-box").addClass(i.type).addClass(i.clsBox),o=e.find("closer"),o.length===0&&(o=r("<span>").addClass("button square closer"),o.appendTo(e)),i.closeButton!==!0&&o.hide();let h=e.find(".info-box-content");h.length>0&&h.addClass(i.clsBoxContent),e.css({width:i.width,height:i.height,visibility:"hidden",top:"100%",left:(r(globalThis).width()-e.outerWidth())/2}),e.appendTo(r("body"))},_createEvents:function(){let e=this.element;e.on(t.events.click,".closer",()=>{this.close()}),e.on(t.events.click,".js-dialog-close",()=>{this.close()}),r(globalThis).on(t.events.resize,()=>{this.reposition()},{ns:this.id})},_setPosition:function(){let e=this.element;e.css({top:(r(globalThis).height()-e.outerHeight())/2,left:(r(globalThis).width()-e.outerWidth())/2})},reposition:function(){this._setPosition()},setContent:function(e){let i=this.element.find(".info-box-content");i.length!==0&&(i.html(e),this.reposition())},setType:function(e){this.element.removeClass("success info alert warning").addClass(e)},open:function(){let e=this.element,i=this.options;i.overlay===!0&&r(".overlay").length===0&&(this.overlay.appendTo(r("body")),i.overlayClickClose===!0&&this.overlay.on(t.events.click,()=>{this.close()})),this._setPosition(),e.css({visibility:"visible"}),this._fireEvent("open"),e.data("open",!0),Number.parseInt(i.autoHide)>0&&setTimeout(()=>{this.close()},Number.parseInt(i.autoHide))},close:function(){let e=this.element,i=this.options;i.overlay===!0&&r("body").find(".overlay").remove(),e.css({visibility:"hidden",top:"100%"}),this._fireEvent("close"),e.data("open",!1),i.removeOnClose===!0&&(this.destroy(),e.remove())},isOpen:function(){return this.element.data("open")===!0},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off("all"),r(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}}),t.infobox={isInfoBox:e=>t.utils.isMetroObject(e,"infobox"),open:function(e,i,o){if(!this.isInfoBox(e))return!1;let h=t.getPlugin(e,"infobox");i!==void 0&&h.setContent(i),o!==void 0&&h.setType(o),h.open()},close:function(e){if(!this.isInfoBox(e))return!1;t.getPlugin(e,"infobox").close()},setContent:function(e,i=""){if(!this.isInfoBox(e))return!1;let o=t.getPlugin(e,"infobox");o.setContent(i),o.reposition()},setType:function(e,i){if(!this.isInfoBox(e))return!1;let o=t.getPlugin(e,"infobox");o.setType(i),o.reposition()},isOpen:function(e){return this.isInfoBox(e)?t.getPlugin(e,"infobox").isOpen():!1},create:(e,i,o,h)=>{let g=t.utils.$(),_,C=i!==void 0?i:"",S=g("<div>").appendTo(g("body"));g("<div>").addClass("info-box-content").appendTo(S);let A=g.extend({},{removeOnClose:!0,type:C},o!==void 0?o:{});return A._runtime=!0,S.infobox(A),_=t.getPlugin(S,"infobox"),_.setContent(e),h!==!1&&_.open(),S}}})(Metro,Dom),((t,r)=>{let f={maskPattern:".",mask:null,maskPlaceholder:"_",maskEditableStart:0,thresholdInterval:300,onChar:t.noop,onInputMaskCreate:t.noop};t.inputMaskSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroInputMaskSetup<"u"&&t.inputMaskSetup(globalThis.metroInputMaskSetup),t.Component("input-mask",{init:function(e,i){return this._super(i,e,f,{pattern:null,mask:"",maskArray:[],placeholder:"",length:0,thresholdTimer:null,id:null}),this},_create:function(){this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("input-mask-create")},_createStructure:function(){let e=this.options;if(!e.mask)throw new Error("You must provide a pattern for masked input.");if(typeof e.maskPlaceholder!="string"||e.maskPlaceholder.length>1)throw new Error("Mask placeholder should be a single character or an empty string.");this.placeholder=e.maskPlaceholder,this.mask=`${e.mask}`,this.maskArray=this.mask.split(""),this.pattern=new RegExp(`^${e.maskPattern}+$`),this.length=this.mask.length,this._showValue()},_createEvents:function(){let e=this,i=this.element,o=this.options,h=o.maskEditableStart,g=this.id,_=N=>N<h?(A(h),!1):!0,C=N=>N<e.mask.length&&e.mask.charAt(N)===e.placeholder,S=N=>{let q,Y=e.maskArray;for(q=N;q<=Y.length;q++)if(Y[q]===e.placeholder)return q;return N},A=N=>{e.elem.setSelectionRange(N,N)},F=()=>{clearInterval(e.thresholdTimer),e.thresholdTimer=null};i.on("change",function(){this.value===""&&(this.value=e.mask,A(h))},{ns:g}),i.on("focus click",function(){_(this.selectionStart),A(S(this.selectionStart))},{ns:g}),i.on("keydown",function(N){let q=this.selectionStart,Y=this.value,te=N.code,Ae=N.key;if(te==="ArrowRight"||te==="End")return!0;q>=e.length&&["Backspace","Home","ArrowLeft","ArrowUp"].indexOf(te)===-1?N.preventDefault():te==="Home"||te==="ArrowUp"?(N.preventDefault(),A(h)):te==="ArrowLeft"?q-1<h&&N.preventDefault():te==="Backspace"?(N.preventDefault(),q-1>=h&&(C(q-1)&&this.value.charAt(q-1)!==e.placeholder&&(this.value=Y.substr(0,q-1)+e.placeholder+Y.substr(q)),A(q-1))):te==="Space"?(N.preventDefault(),A(q+1)):e.pattern.test(Ae)?(N.preventDefault(),C(q)&&(this.value=Y.substr(0,q)+(o.onChar===t.noop?Ae:t.utils.exec(o.onChar,[Ae],this))+Y.substr(q+1),A(S(q+1)))):N.preventDefault()},{ns:g}),i.on("keyup",function(){F(),e.thresholdTimer=setInterval(()=>{F(),A(S(this.selectionStart))},o.thresholdInterval)},{ns:g})},_showValue:function(){let e=this.elem,i=new Array(this.length),o;e.value?(o=e.value,r.each(this.maskArray,(h,g)=>{o[h]!==g&&!this.pattern.test(o[h])?i[h]=this.placeholder:i[h]=o[h]}),this.elem.value=i.join("")):e.value=this.mask},destroy:function(){let e=this.element,i=this.id;return e.off("change",{ns:i}),e.off("focus",{ns:i}),e.off("click",{ns:i}),e.off("keydown",{ns:i}),e.off("keyup",{ns:i}),e}})})(Metro,Dom),((t,r)=>{let f={materialInputDeferred:0,label:"",informer:"",icon:"",permanentLabel:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"❌",revealButtonIcon:"👀",searchButtonIcon:"🔍",customButtons:[],searchButtonClick:"submit",clsComponent:"",clsInput:"",clsLabel:"",clsInformer:"",clsIcon:"",clsLine:"",onInputCreate:t.noop};t.materialInputSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroMaterialInputSetup<"u"&&t.materialInputSetup(globalThis.metroMaterialInputSetup),t.Component("material-input",{init:function(e,i){return this._super(i,e,f,{history:[],historyIndex:-1}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o,h;e[0].className="",e.attr("autocomplete","nope"),e.attr("type")===void 0&&e.attr("type","text"),o=e.wrap("<div>").addClass(`input-material ${e[0].className}`),h=r("<div>").addClass("buttons").appendTo(o),i.label&&r("<span>").html(i.label).addClass("label").addClass(i.clsLabel).insertAfter(e),t.utils.isValue(i.informer)&&r("<span>").html(i.informer).addClass("informer").addClass(i.clsInformer).insertAfter(e),t.utils.isValue(i.icon)&&(o.addClass("with-icon"),r("<span>").html(i.icon).addClass("icon").addClass(i.clsIcon).insertAfter(e)),i.clearButton===!0&&!e[0].readOnly&&r("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).appendTo(h),e.attr("type")==="password"&&i.revealButton===!0&&r("<button>").addClass("button input-reveal-button").addClass(i.clsRevealButton).attr("tabindex",-1).attr("type","button").html(i.revealButtonIcon).appendTo(h),i.searchButton===!0&&r("<button>").addClass("button input-search-button").addClass(i.clsSearchButton).attr("tabindex",-1).attr("type",i.searchButtonClick==="submit"?"submit":"button").html(i.searchButtonIcon).appendTo(h);let g=t.utils.isObject(i.customButtons);Array.isArray(g)&&r.each(g,function(){let _=r("<button>");_.addClass("button input-custom-button").addClass(i.clsCustomButton).addClass(this.cls).attr("tabindex",-1).attr("type","button").html(this.text),this.attr&&typeof this.attr=="object"&&r.each(this.attr,(C,S)=>{_.attr(Str.dashedName(C),S)}),this.onclick&&_.on("click",()=>{this.onclick.apply(_,[e.valueOf(),e])}),_.appendTo(h)}),o.append(r("<hr>").addClass(i.clsLine)),i.permanentLabel===!0&&o.addClass("permanent-label"),o.addClass(i.clsComponent),e.addClass(i.clsInput),e.is(":disabled")?this.disable():this.enable(),this.component=o},_createEvents:function(){let e=this,i=this.options,o=this.element;this.component.on(t.events.click,".input-clear-button",()=>{let h=o.val();o.val("").fire("clear").fire("change").fire("keyup").focus(),e._fireEvent("clear-click",{prev:h})}),this.component.on(t.events.click,".input-reveal-button",()=>{o.attr("type")==="password"?o.attr("type","text"):o.attr("type","password"),e._fireEvent("reveal-click",{val:o.val()})}),this.component.on(t.events.click,".input-search-button",function(){i.searchButtonClick!=="submit"?e._fireEvent("search-button-click",{val:o.val(),button:this}):this.form&&this.form.submit()}),o.on(t.events.keydown,h=>{h.keyCode===t.keyCode.ENTER&&e._fireEvent("enter-click",{val:o.val()})})},clear:function(){this.element.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){return this.element}})})(Metro,Dom),((t,r)=>{let f={keypadDeferred:0,label:"",keySize:36,keys:"1, 2, 3, 4, 5, 6, 7, 8, 9, 0",exceptKeys:"",keySeparator:"",trimSeparator:!1,keyDelimiter:",",copyInlineStyles:!1,target:null,keyLength:0,shuffle:!1,shuffleCount:3,serviceButtons:!0,showValue:!0,open:!1,useElementSizeForKeys:!1,openMode:"auto",clsKeypad:"",clsInput:"",clsKeys:"",clsKey:"",clsServiceKey:"",clsBackspace:"",clsClear:"",clsLabel:"",onChange:t.noop,onClear:t.noop,onBackspace:t.noop,onShuffle:t.noop,onKey:t.noop,onKeypadCreate:t.noop};t.keypadSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroKeypadSetup<"u"&&t.keypadSetup(globalThis.metroKeypadSetup),t.Component("keypad",{init:function(e,i){return this._super(i,e,f,{value:i.tagName==="INPUT"?i.value:i.innerText,positions:["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],keypad:null,keys:[],keys_to_work:[],exceptKeys:[]}),this},_create:function(){let e=this.element,i=this.options;this.options.position="bottom-left",this.keys=i.keys.toArray(i.keyDelimiter),this.keys_to_work=this.keys,this.exceptKeys=i.exceptKeys.toArray(i.keyDelimiter),this._createKeypad(),i.shuffle===!0&&this.shuffle(),this._createKeys(),this._createEvents(),this._fireEvent("keypad-create",{element:e})},_createKeypad:function(){let e=this.element,i=this.options,o,h=e.wrap("<div>").addClass("input keypad").addClass(e[0].className).addClass(i.clsKeypad);if(e.attr("type")===void 0&&e.attr("type","text"),e.attr("readonly",!0),o=r("<div>").addClass("keys").addClass(i.clsKeys),o.appendTo(h),this._setKeysPosition(),i.open===!0&&o.addClass("open keep-open"),e[0].className="",i.copyInlineStyles===!0){let _=0,C=e[0].style.length;for(;_<C;_++)h.css(e[0].style[_],e.css(e[0].style[_]))}e.addClass(i.clsInput),h.addClass(i.clsKeypad),e.on(t.events.blur,()=>{h.removeClass("focused")}),e.on(t.events.focus,()=>{h.addClass("focused")});let g=r("<div>").addClass("button-group").appendTo(h);if(r("<button>").addClass("button input-kbd-button").addClass(i.clsKbdButton).attr("tabindex",-1).attr("type","button").html("⌨").appendTo(g),i.label){let _=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(h);if(e.attr("id"))_.attr("for",e.attr("id"));else{let C=Hooks.useId(e[0]);e.id(C),_.attr("for",C)}e.attr("dir")==="rtl"&&_.addClass("rtl")}i.disabled===!0||e.is(":disabled")?this.disable():this.enable(),this.keypad=h},_setKeysPosition:function(){let e=this.element,i=this.options;e.parent().find(".keys").removeClass(this.positions.join(" ")).addClass(i.position)},_createKeys:function(){let e=this.element,i=this.options,o=e.parent(),h,g=o.find(".keys"),_=Math.round(Math.sqrt(this.keys.length+2)),C=i.keySize,S;if(g.html(""),r.each(this.keys_to_work,function(){h=r("<span>").addClass("key").addClass(i.clsKey).html(this),h.data("key",this),h.css({width:i.keySize,height:i.keySize,lineHeight:i.keySize-4}).appendTo(g)}),i.serviceButtons===!0){let A=["&larr;","&times;"];r.each(A,function(){h=r("<span>").addClass("key service-key").addClass(i.clsKey).addClass(i.clsServiceKey).html(this),this==="&larr;"&&h.addClass(i.clsBackspace),this==="&times;"&&h.addClass(i.clsClear),h.data("key",this),h.css({width:i.keySize,height:i.keySize,lineHeight:i.keySize-4}).appendTo(g)})}i.useElementSizeForKeys===!0?g.outerWidth(e.outerWidth()):(S=_*(C+2)-6,g.outerWidth(S))},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.parent(),g=h.find(".keys");g.on(t.events.click,".key",function(_){let C=r(this),S=C.data("key"),A;if(C.data("key")!=="&larr;"&&C.data("key")!=="&times;"){if(o.keyLength>0&&`${e.value}`.length===o.keyLength)return!1;e.exceptKeys.indexOf(S)===-1&&(e.value=e.value+(e.value!==""?o.keySeparator:"")+S),o.shuffle===!0&&(e.shuffle(),e._createKeys()),o.dynamicPosition===!0&&(o.position=e.positions[r.random(0,e.positions.length-1)],e._setKeysPosition()),e._fireEvent("key",{key:C.data("key"),val:e.value})}else C.data("key")==="&times;"&&(e.value="",e._fireEvent("clear")),C.data("key")==="&larr;"&&(A=o.keySeparator&&e.value[e.value.length-1]!==o.keySeparator?2:1,e.value=e.value.substring(0,e.value.length-A),e._fireEvent("backspace",{val:e.value}));o.showValue===!0&&(i[0].tagName==="INPUT"?i.val(e.value):i.text(e.value)),e._fireEvent("change",{val:e.val}),_.preventDefault(),_.stopPropagation()}),h.on(t.events.click,_=>{o.open!==!0&&(g.hasClass("open")===!0?g.removeClass("open").removeClass("top-left"):(g.addClass("open"),o.openMode==="auto"?t.utils.inViewport(g[0])===!1&&g.addClass("top-left"):o.openMode==="up"&&g.addClass("top-left")),_.preventDefault(),_.stopPropagation())}),o.target!==null&&i.on(t.events.change,()=>{let _=r(o.target);_.length!==0&&(_[0].tagName==="INPUT"?_.val(e.value):_.text(e.value))})},shuffle:function(){let e=this.options;for(let i=0;i<e.shuffleCount;i++)this.keys_to_work=this.keys_to_work.shuffle();this._fireEvent("shuffle",{keysToWork:this.keys_to_work,keys:this.keys})},shuffleKeys:function(e=3){for(let i=0;i<e;i++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(e){let i=this.element,o=this.options;return typeof e>"u"?o.trimSeparator?this.value.replace(new RegExp(o.keySeparator,"g")):this.value:(this.value=`${e}`,i[0].tagName==="INPUT"?i.val(e):i.text(e),this)},open:function(){let e=this.element,i=this.options,o=e.parent().find(".keys");o.addClass("open"),i.openMode==="auto"?t.utils.inViewport(o[0])===!1&&o.addClass("top-left"):i.openMode==="up"&&o.addClass("top-left")},close:function(){this.element.parent().find(".keys").removeClass("open").removeClass("top-left")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setPosition:function(e){let i=e!==void 0?e:this.element.attr("data-position");this.positions.indexOf(i)!==-1&&(this.options.position=i,this._setKeysPosition())},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break;case"data-position":this.setPosition();break}},destroy:function(){let e=this.element,i=this.options,o=this.keypad,h=o.find(".keys");o.off(t.events.click),h.off(t.events.click,".key"),e.off(t.events.change),i.label&&o.prev("label").remove(),o.remove()}}),r(document).on(t.events.click,()=>{let e=r(".keypad .keys");r.each(e,function(){r(this).hasClass("keep-open")||r(this).removeClass("open")})})})(Metro,Dom),((t,r)=>{let f={loop:!0,source:"img",iconClose:"❌",iconPrev:"🡐",iconNext:"🡒",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:t.noop,onLightboxCreate:t.noop};t.lightboxSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroLightboxSetup<"u"&&t.lightboxSetup(globalThis.metroLightboxSetup),t.Component("lightbox",{init:function(e,i){return this._super(i,e,f,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){let e=this.options;e.source||(e.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){let e=this.options,i;i=r(".lightbox-overlay"),i.length===0&&(i=r("<div>").addClass("lightbox-overlay").appendTo("body").hide());let o=r("<div>").addClass("lightbox").addClass(e.clsLightbox).appendTo("body").hide();r("<span>").addClass("lightbox__prev").addClass(e.clsPrev).html(e.iconPrev).appendTo(o),r("<span>").addClass("lightbox__next").addClass(e.clsNext).html(e.iconNext).appendTo(o),r("<span>").addClass("lightbox__closer").addClass(e.clsClose).html(e.iconClose).appendTo(o),r("<div>").addClass("lightbox__image").addClass(e.clsImageContainer).appendTo(o),this.component=o[0],this.lightbox=o,this.overlay=i},_createEvents:function(){let e=this,i=this.element,o=this.options,h=r(this.component);i.on(t.events.click,o.source,function(){e.open(this)}),h.on(t.events.click,".lightbox__closer",()=>{e.close()}),h.on(t.events.click,".lightbox__prev",()=>{e.prev()}),h.on(t.events.click,".lightbox__next",()=>{e.next()})},_setupItems:function(){let e=this.element,i=this.options,o=e.find(i.source);o.length!==0&&(this.items=o)},_goto:function(e){let i=this,o=this.options,h=r(e),g=r("<img>"),_,C=this.lightbox.find(".lightbox__image");C.find(".lightbox__image-wrapper").remove();let S=r("<div>").addClass("lightbox__image-wrapper").addClass(o.clsImageWrapper).attr("data-title",h.attr("alt")||h.attr("data-title")||"").appendTo(C),A=r("<div>").appendTo(S);t.makePlugin(A,"activity",{type:"cycle",style:"color"}),this.current=e,(e.tagName==="IMG"||e.tagName==="DIV")&&(_=h.attr("data-original")||h.attr("src"),g.attr("src",_),g[0].onload=function(){let F=this.height>this.width;g.addClass(F?"lightbox__image-portrait":"lightbox__image-landscape").addClass(o.clsImage),g.attr("alt",h.attr("alt")),g.appendTo(S),A.remove(),i._fireEvent("draw-image",{image:g[0],item:S[0]})})},_index:function(e){let i=-1;return this.items.each(function(o){this===e&&(i=o)}),i},next:function(){let e,i=this.current;if(e=this._index(i),e+1>=this.items.length)if(this.options.loop)e=-1;else return;this._goto(this.items[e+1])},prev:function(){let e,i=this.current;if(e=this._index(i),e-1<0)if(this.options.loop)e=this.items.length;else return;this._goto(this.items[e-1])},open:function(e){return this._setupItems(),this._goto(e),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={listDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationShortMode:!0,thousandSeparator:",",decimalSeparator:",",itemTag:"li",defaultTemplateTag:"div",sortClass:null,sortDir:"asc",sortInitial:!0,filterClass:null,filter:null,filterString:"",filters:null,source:null,showItemsSteps:!1,showSearch:!1,showListInfo:!1,showPagination:!1,showActivity:!0,muteList:!0,items:-1,itemsSteps:"all, 10,25,50,100",itemsAllTitle:"Show all",listItemsCountTitle:"Show entries:",listSearchTitle:"Search:",listInfoTitle:"Showing $1 to $2 of $3 entries",paginationPrevTitle:"Prev",paginationNextTitle:"Next",activityType:"cycle",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,searchThreshold:500,clsComponent:"",clsList:"",clsListItem:"",clsListTop:"",clsItemsCount:"",clsSearch:"",clsListBottom:"",clsListInfo:"",clsListPagination:"",clsPagination:"",clsTemplateTag:"",onDraw:t.noop,onDrawItem:t.noop,onSortStart:t.noop,onSortStop:t.noop,onSortItemSwitch:t.noop,onSearch:t.noop,onRowsCountChange:t.noop,onDataLoad:t.noop,onDataLoaded:t.noop,onDataLoadError:t.noop,onFilterItemAccepted:t.noop,onFilterItemDeclined:t.noop,onListCreate:t.noop};t.listSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroListSetup<"u"&&t.listSetup(globalThis.metroListSetup),t.Component("list",{init:function(e,i){return this._super(i,e,f,{currentPage:1,pagesCount:1,filterString:"",data:null,activity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,filterIndex:null,filtersIndexes:[],itemTemplate:null,sort:{dir:"asc",colIndex:0},header:null,items:[]}),this},_create:function(){let e=this.options;e.source?(this._fireEvent("data-load",{source:e.source}),fetch(e.source).then(t.fetch.status).then(t.fetch.json).then(i=>{this._fireEvent("data-loaded",{source:e.source,data:i}),this._build(i)}).catch(i=>{this._fireEvent("data-load-error",{source:e.source,error:i})})):this._build()},_build:function(e){t.utils.isValue(e)?this._createItemsFromJSON(e):this._createItemsFromHTML(),this._createStructure(),this._createEvents(),this._fireEvent("list-create")},_createItemsFromHTML:function(){let e=this,i=this.element,o=this.options,h=`${o.clsTemplateTag}`.toArray(",");this.items=[],r.each(i.children(o.itemTag),function(){let g=r(this).children("*");h.length&&(h.length===1?g.addClass(h[0]):g.each((_,C)=>{r(C).addClass(h[_]?h[_]:h[h.length-1])})),e.items.push(this)})},_createItemsFromJSON:function(e){let i=this,o=this.options,h=`${o.clsTemplateTag}`.toArray(",");this.items=[],t.utils.isValue(e.template)&&(this.itemTemplate=e.template),t.utils.isValue(e.header)&&(this.header=e.header),t.utils.isValue(e.data)&&r.each(e.data,function(){let g="",_=document.createElement(o.itemTag),C=i.itemTemplate,S;if(t.utils.isValue(C))g=t.template(C,this,{beginToken:o.templateBeginToken,endToken:o.templateEndToken});else for(let A in this)g+=`<${o.defaultTemplateTag}>${this[A]}</${o.defaultTemplateTag}>`;_.innerHTML=g,S=r(_).children("*"),h.length&&(h.length===1?S.addClass(h[0]):S.each((A,F)=>{r(F).addClass(h[A]?h[A]:h[h.length-1])})),i.items.push(_)})},_createTopBlock:function(){let e=this.element,i=this.options,o=r("<div>").addClass("list-top").addClass(i.clsListTop).insertBefore(e),h,g;h=t.utils.isValue(this.wrapperSearch)?this.wrapperSearch:r("<div>").addClass("list-search-block").addClass(i.clsSearch).appendTo(o);let _=r("<input>").attr("type","text").appendTo(h);t.makePlugin(_,"input",{prepend:i.listSearchTitle}),i.showSearch!==!0&&h.hide(),g=t.utils.isValue(this.wrapperRows)?this.wrapperRows:r("<div>").addClass("list-rows-block").addClass(i.clsItemsCount).appendTo(o);let C=r("<select>").appendTo(g);return r.each(i.itemsSteps.toArray(),function(){let S=r("<option>").attr("value",this==="all"?-1:this).text(this==="all"?i.itemsAllTitle:this).appendTo(C);+this==+i.items&&S.attr("selected","selected")}),C.select({filter:!1,prepend:i.listItemsCountTitle,onChange:S=>{+S!=+i.items&&(i.items=Number.parseInt(S),this.currentPage=1,this._draw(),this._fireEvent("rows-count-change",{val:S}))}}),i.showItemsSteps!==!0&&g.hide(),o},_createBottomBlock:function(){let e=this.element,i=this.options,o=r("<div>").addClass("list-bottom").addClass(i.clsListBottom).insertAfter(e),h,g;return h=r("<div>").addClass("list-info").addClass(i.clsListInfo).appendTo(o),i.showListInfo!==!0&&h.hide(),g=r("<div>").addClass("list-pagination").addClass(i.clsListPagination).appendTo(o),i.showPagination!==!0&&g.hide(),o},_createStructure:function(){let e=this,i=this.element,o=this.options,h,g=r(o.searchWrapper),_=r(o.infoWrapper),C=r(o.rowsWrapper),S=r(o.paginationWrapper);g.length>0&&(this.wrapperSearch=g),_.length>0&&(this.wrapperInfo=_),C.length>0&&(this.wrapperRows=C),S.length>0&&(this.wrapperPagination=S),i.parent().hasClass("list-component")?h=i.parent():(h=r("<div>").addClass("list-component").insertBefore(i),i.appendTo(h)),h.addClass(o.clsComponent),this.activity=r("<div>").addClass("list-progress").appendTo(h),r("<div>").activity({type:o.activityType,style:o.activityStyle}).appendTo(this.activity),o.showActivity!==!0&&this.activity.css({visibility:"hidden"}),i.addClass(o.clsList),this._createTopBlock(),this._createBottomBlock(),t.utils.isValue(o.filterString)&&(this.filterString=o.filterString);let A;t.utils.isValue(o.filter)&&(A=t.utils.isFunc(o.filter),A===!1&&(A=t.utils.func(o.filter)),e.filterIndex=e.addFilter(A)),t.utils.isValue(o.filters)&&typeof o.filters=="string"&&r.each(o.filters.toArray(),function(){A=t.utils.isFunc(this),A!==!1&&e.filtersIndexes.push(e.addFilter(A))}),this.currentPage=1,o.sortInitial!==!1?this.sorting(o.sortClass,o.sortDir,!0):this.draw()},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.parent(),g=h.find(".list-search-block input"),_,C=function(){e.filterString=this.value.trim().toLowerCase(),e.filterString[e.filterString.length-1]!==":"&&(e.currentPage=1,e._draw())};C=Hooks.useDebounce(C,o.searchThreshold),g.on(t.events.inputchange,C),t.utils.isValue(this.wrapperSearch)&&(_=this.wrapperSearch.find("input"),_.length>0&&_.on(t.events.inputchange,C));function S(A){let F=r(A),N=F.parent();N.hasClass("active")||(N.hasClass("service")?F.data("page")==="prev"?(e.currentPage--,e.currentPage===0&&(e.currentPage=1)):(e.currentPage++,e.currentPage>e.pagesCount&&(e.currentPage=e.pagesCount)):e.currentPage=F.data("page"),e._draw())}h.on(t.events.click,".pagination .page-link",function(){S(this)}),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.on(t.events.click,".pagination .page-link",function(){S(this)})},_info:function(e,i,o){let h=this.element,g=this.options,_=h.parent(),C=t.utils.isValue(this.wrapperInfo)?this.wrapperInfo:_.find(".list-info"),S,A=i,F=e,N=o;C.length!==0&&(A>o&&(A=o),this.items.length===0&&(F=A=N=0),S=g.listInfoTitle,S=S.replace("$1",F),S=S.replace("$2",A),S=S.replace("$3",N),C.html(S))},_paging:function(e){let i=this.element,o=this.options,h=i.parent();this.pagesCount=Math.ceil(e/o.items),t.pagination({length:e,rows:o.items,current:this.currentPage,target:t.utils.isValue(this.wrapperPagination)?this.wrapperPagination:h.find(".list-pagination"),claPagination:o.clsPagination,prevTitle:o.paginationPrevTitle,nextTitle:o.paginationNextTitle,distance:o.paginationShortMode===!0?o.paginationDistance:0})},_filter:function(){let e=this.options,i,o,h,g,_,C;return t.utils.isValue(this.filterString)||this.filters.length>0?(i=this.items.filter(S=>{if(h="",t.utils.isValue(e.filterClass)){if(g=S.getElementsByClassName(e.filterClass),g.length>0)for(o=0;o<g.length;o++)h+=g[o].textContent}else h=S.textContent;if(_=h.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),C=t.utils.isValue(this.filterString)?_.indexOf(this.filterString)>-1:!0,C===!0&&this.filters.length>0){for(o=0;o<this.filters.length;o++)if(t.utils.exec(this.filters[o],[S])!==!0){C=!1;break}}return C?this._fireEvent("filter-item-accepted",{item:S}):this._fireEvent("filter-item-declined",{item:S}),C}),this._fireEvent("search",{search:this.filterString,items:i})):i=this.items,i},_draw:function(e){let i=this.element,o=this.options,h,g=o.items===-1?0:o.items*(this.currentPage-1),_=o.items===-1?this.items.length-1:g+o.items-1,C;for(C=this._filter(),i.children(o.itemTag).remove(),h=g;h<=_;h++)t.utils.isValue(C[h])&&r(C[h]).addClass(o.clsListItem).appendTo(i),this._fireEvent("draw-item",{item:C[h]});this._info(g+1,_+1,C.length),this._paging(C.length),this.activity.hide(),this._fireEvent("draw"),e&&t.utils.exec(e,[i],i[0])},_getItemContent:function(e){let i=this.locale,o=this.options,h=r(e),g,_,C,S,A=t.utils.isValue(h.data("formatMask"))?h.data("formatMask"):null;if(t.utils.isValue(o.sortClass)){if(C="",_=r(e).find(`.${o.sortClass}`),_.length>0)for(g=0;g<_.length;g++)C+=_[g].textContent;S=_.length>0?_[0].getAttribute("data-format"):""}else C=e.textContent,S=e.getAttribute("data-format");if(C=`${C}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),t.utils.isValue(S))switch(["number","int","integer","float","money"].indexOf(S)!==-1&&(o.thousandSeparator!==","||o.decimalSeparator!==".")&&(C=t.utils.parseNumber(C,o.thousandSeparator,o.decimalSeparator)),S){case"date":C=A?Datetime.from(C,A,i):datetime(C);break;case"number":C=Number(C);break;case"int":case"integer":C=Number.parseInt(C);break;case"float":C=Number.parseFloat(C);break;case"money":C=t.utils.parseMoney(C);break;case"card":C=t.utils.parseCard(C);break;case"phone":C=t.utils.parsePhone(C);break}return C},deleteItem:function(e){let i,o=[],h,g=t.utils.isFunc(e);for(i=0;i<this.items.length;i++)h=this.items[i],g?t.utils.exec(e,[h])&&o.push(i):h.textContent.includes(e)&&o.push(i);return this.items=t.utils.arrayDeleteByMultipleKeys(this.items,o),this},draw:function(){return this._draw()},sorting:function(e,i,o){let h=this.options;return t.utils.isValue(e)&&(h.sortClass=e),t.utils.isValue(i)&&["asc","desc"].indexOf(i)>-1&&(h.sortDir=i),this._fireEvent("sort-start",{items:this.items}),this.items.sort((g,_)=>{let C=this._getItemContent(g),S=this._getItemContent(_),A=0;return C<S&&(A=h.sortDir==="asc"?-1:1),C>S&&(A=h.sortDir==="asc"?1:-1),A!==0&&this._fireEvent("sort-item-switch",{a:g,b:_,result:A}),A}),this._fireEvent("sort-stop",{items:this.items}),o===!0&&this._draw(),this},filter:function(e){this.filterString=e.trim().toLowerCase(),this.currentPage=1,this._draw()},setData:function(e){let i=this,o=this.element,h=this.options;if(t.utils.isValue(e)!==!0)return;i._createItemsFromJSON(e),o.html(""),t.utils.isValue(h.filterString)&&(i.filterString=h.filterString);let g;t.utils.isValue(h.filter)&&(g=t.utils.isFunc(h.filter),g===!1&&(g=t.utils.func(h.filter)),i.filterIndex=i.addFilter(g)),t.utils.isValue(h.filters)&&typeof h.filters=="string"&&r.each(h.filters.toArray(),function(){g=t.utils.isFunc(this),g!==!1&&i.filtersIndexes.push(i.addFilter(g))}),i.currentPage=1,i.sorting(h.sortClass,h.sortDir,!0)},loadData:function(e){let i=this.options;t.utils.isValue(e)===!0&&(i.source=e,this._fireEvent("data-load",{source:i.source}),fetch(i.source).then(t.fetch.status).then(t.fetch.json).then(o=>{this._fireEvent("data-loaded",{source:i.source,data:o}),this.setData(o)}).catch(o=>{this._fireEvent("data-load-error",{source:i.source,error:o})}))},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}this._draw()}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}this._draw()}},first:function(){this.items.length!==0&&(this.currentPage=1,this._draw())},last:function(){this.items.length!==0&&(this.currentPage=this.pagesCount,this._draw())},page:function(e){let i=Number.parseInt(e);i<=0&&(i=1),i>this.pagesCount&&(i=this.pagesCount),this.currentPage=i,this._draw()},addFilter:function(e,i){let o=t.utils.isFunc(e);if(o!==!1)return this.filters.push(o),i===!0&&(this.currentPage=1,this.draw()),this.filters.length-1},removeFilter:function(e,i){return t.utils.arrayDeleteByKey(this.filters,e),i===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){this.filters=[],e===!0&&(this.currentPage=1,this.draw())},getFilters:function(){return this.filters},getFilterIndex:function(){return this.filterIndex},getFiltersIndexes:function(){return this.filtersIndexes},changeAttribute:function(e){let i=this.element,o=this.options,h=()=>{let C=i.attr("data-sort-dir");t.utils.isValue(C)&&(o.sortDir=C,this.sorting(o.sortClass,o.sortDir,!0))},g=()=>{let C=i.attr("data-sort-source");t.utils.isValue(C)&&(o.sortClass=C,this.sorting(o.sortClass,o.sortDir,!0))},_=()=>{let C=i.attr("data-filter-string");t.utils.isValue(C)&&(o.filterString=C,this.filter(o.filterString))};switch(e){case"data-sort-dir":h();break;case"data-sort-source":g();break;case"data-filter-string":_();break}},destroy:function(){let e=this.element,i=e.parent(),o=i.find(".list-search-block input"),h;return o.off(t.events.inputchange),t.utils.isValue(this.wrapperSearch)&&(h=this.wrapperSearch.find("input"),h.length>0&&h.off(t.events.inputchange)),i.off(t.events.click,".pagination .page-link"),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.off(t.events.click,".pagination .page-link"),e}})})(Metro,Dom),((t,r)=>{let f=`
    <svg width="800px" height="800px" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
        <path class="a" d="M39.5,15.5h-9a2,2,0,0,1-2-2v-9h-18a2,2,0,0,0-2,2v35a2,2,0,0,0,2,2h27a2,2,0,0,0,2-2Z"/>
        <line class="a" x1="28.5" y1="4.5" x2="39.5" y2="15.5"/>
    </svg>`,e='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',i={listviewDeferred:0,selectable:!1,duration:100,view:t.listView.LIST,selectCurrent:!0,defaultIcon:f,onNodeInsert:t.noop,onNodeDelete:t.noop,onNodeClean:t.noop,onCollapseNode:t.noop,onExpandNode:t.noop,onGroupNodeClick:t.noop,onNodeClick:t.noop,onNodeDblclick:t.noop,onListViewCreate:t.noop};t.listViewSetup=o=>{i=r.extend({},i,o)},typeof globalThis.metroListViewSetup<"u"&&t.listViewSetup(globalThis.metroListViewSetup),t.Component("listview",{init:function(o,h){return this._super(h,o,i),this},_create:function(){let o=this.element;this._createStructure(),this._createEvents(),this._fireEvent("listview-create",{element:o})},_createIcon:o=>r("<div>").addClass("icon").html(o),_createCaption:(o="")=>r("<div>").addClass("caption").html(o),_createContent:(o="")=>r("<div>").addClass("content").html(o),_createDesc:(o="")=>r("<div>").addClass("desc").html(o),_createDate:(o="")=>r("<div>").addClass("date").html(o),_createToggle:()=>r("<span>").addClass("node-toggle").html(e),_createNode:function(o){let h=this.options,g=r("<li>");return g.append(r("<input type='checkbox' data-role='checkbox'>").data("node",g)),g.append(this._createIcon(o.icon??h.defaultIcon)),g.append(this._createCaption(o.caption)),g.append(this._createDesc(o.desc)),g.append(this._createDate(o.date)),g.append(this._createContent(o.content)),g},_createStructure:function(){let o=this,h=this.element,g=this.options,_=h.find("li");h.addClass("listview"),h.find("ul").addClass("listview"),g.selectable&&h.addClass("selectable"),r.each(_,function(C){let S=r(this),A=S.html(),F=`Item_${C+1}`;S.children("ul").length>0?(S.prepend(o._createCaption(S.data("caption")??F)),S.addClass("node-group"),S.append(o._createToggle()),S.data("collapsed")!==!0&&S.addClass("expanded")):(S.clear().addClass("node"),S.append(r("<input type='checkbox' data-role='checkbox'>").data("node",S)),S.append(o._createIcon(S.data("icon")??g.defaultIcon)),S.append(o._createCaption(S.data("caption")??F)),S.append(o._createDesc(S.data("desc"))),S.append(o._createDate(S.data("date"))),S.append(o._createContent(A)))}),g.selectable&&h.addClass("selectable"),this.view(g.view)},_createEvents:function(){let o=this,h=this.element,g=this.options;h.on(t.events.dblclick,".node",function(){let _=r(this);o._fireEvent("node-dblclick",{node:_})}),h.on(t.events.click,".node",function(){let _=r(this),C=r(this).attr("href");if(C){globalThis.location.href=C;return}let S=_.hasClass("current");h.find(".node").removeClass("current"),S||_.addClass("current"),g.selectCurrent===!0&&(h.find(".node").removeClass("current-select"),S||_.addClass("current-select")),o._fireEvent("node-click",{node:_})}),h.on(t.events.click,".node-toggle",function(){let _=r(this).closest("li");o.toggleNode(_)}),h.on(t.events.click,".node-group > .caption",function(){let _=r(this).closest("li");h.find(".node-group").removeClass("current-group"),_.addClass("current-group"),o._fireEvent("group-node-click",{node:_})}),h.on(t.events.dblclick,".node-group > .caption",function(){let _=r(this).closest("li");o.toggleNode(_),o._fireEvent("node-dbl-click",{node:_})})},view:function(o){let h=this.element,g=this.options;if(o===void 0)return g.view;g.view=o,r.each(t.listView,(_,C)=>{h.removeClass(`view-${C}`),h.find("ul").removeClass(`view-${C}`)}),h.addClass(`view-${g.view}`),h.find("ul").addClass(`view-${g.view}`)},toggleNode:function(o){let h=this.options,g=r(o);if(!g.hasClass("node-group"))return;g.toggleClass("expanded");let _=g.hasClass("expanded")!==!0?"slideUp":"slideDown";this._fireEvent("collapse-node",{node:g}),g.children("ul")[_](h.duration)},toggleSelectable:function(){let o=this.element,h=this.options;h.selectable=!h.selectable;let g=h.selectable===!0?"addClass":"removeClass";console.log(g),o[g]("selectable"),o.find("ul")[g]("selectable")},add:function(o,h=null){let g=this.element,_=this.options,C,S,A;if(h===null)C=g;else{if(A=r(h),!A.hasClass("node-group"))return;C=A.children("ul"),C.length===0&&(C=r("<ul>").addClass("listview").addClass(`view-${_.view}`).appendTo(A),S=this._createToggle(),S.appendTo(A),A.addClass("expanded"))}let F=this._createNode(o);F.addClass("node").appendTo(C);let N=r("<input type='checkbox'>");return N.data("node",F),F.prepend(N),t.makePlugin(N,"checkbox",{}),this._fireEvent("node-insert",{newNode:F,parentNode:h,list:C}),F},addGroup:function(o){let h=this.element,g=this.options;o.icon&&delete o.icon;let _=this._createNode(o);return _.addClass("node-group").appendTo(h),_.append(this._createToggle()),_.addClass("expanded"),_.append(r("<ul>").addClass("listview").addClass(`view-${g.view}`)),this._fireEvent("node-insert",{newNode:_,parentNode:null,list:h}),_},insertBefore:function(o,h){let g=r(h);if(!g.length)return;let _=this._createNode(o);_.addClass("node").insertBefore(g);let C=_.closest(".node"),S=_.closest("ul");return this._fireEvent("node-insert",{newNode:_,parentNode:C,list:S}),_},insertAfter:function(o,h){let g=r(h);if(!g.length)return;let _=this._createNode(o);_.addClass("node").insertAfter(g);let C=_.closest(".node"),S=_.closest("ul");return this._fireEvent("node-insert",{newNode:_,parentNode:C,list:S}),_},del:function(o){let h=this.element,g=r(o);if(!g.length)return;let _=g.closest("ul"),C=_.closest("li");g.remove(),_.children().length===0&&!_.is(h)&&(_.remove(),C.removeClass("expanded"),C.children(".node-toggle").remove()),this._fireEvent("node-delete",{node:g})},clean:function(o){let h=r(o);h.length&&(h.children("ul").remove(),h.removeClass("expanded"),h.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:h}))},getSelected:function(){let o=this.element,h=[];return r.each(o.find(":checked"),function(){let g=r(this);h.push(g.closest(".node")[0])}),h},clearSelected:function(){this.element.find(":checked").prop("checked",!1),this.element.trigger("change")},selectAll:function(o=!0){this.element.find(".checkbox input").prop("checked",o),this.element.trigger("change")},selectByAttribute:function(o,h,g=!0){this.element.find(`li[${o}="${h}"] > .checkbox input`).prop("checked",g),this.element.trigger("change")},changeAttribute:function(o){let h=this.element,g=this.options,_=()=>{let S=`view-${h.attr("data-view")}`;this.view(S)},C=()=>{g.selectable=JSON.parse(h.attr("data-selectable"))===!0,this.toggleSelectable()};switch(o){case"data-view":_();break;case"data-selectable":C();break}},destroy:function(){let o=this.element;o.off(t.events.click,".node"),o.off(t.events.click,".node-toggle"),o.off(t.events.click,".node-group > .caption"),o.off(t.events.dblclick,".node-group > .caption"),o.remove()}})})(Metro,Dom),((t,r)=>{let f={items:null,loop:!0,height:"auto",width:"100%",duration:1e4,direction:"left",ease:"linear",mode:"default",accentPause:2e3,firstPause:1e3,stopOnHover:!0,splitBy:`
`,clsMarquee:"",clsMarqueeItem:"",onMarqueeItem:t.noop,onMarqueeItemComplete:t.noop,onMarqueeComplete:t.noop,onMarqueeCreate:t.noop};t.marqueeSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroMarqueeSetup<"u"&&t.marqueeSetup(globalThis.metroMarqueeSetup),t.Component("marquee",{init:function(e,i){return this._super(i,e,f,{origin:null,items:[],running:!1,current:-1,chain:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("marquee-create")},_createStructure:function(){let e=this.element,i=this.options;e.addClass("marquee").addClass(i.clsMarquee),e.css({height:i.height,width:i.width});let o=e.html().split(i.splitBy).map(g=>g.trim()).filter(g=>g.length),h=t.utils.isObject(i.items)||[];this.origin=[...o,...h],this.setItems(this.origin,!0),this.items.length&&(this.current=0,this.createChain(),console.log(this.chain),this.start())},setItems:function(e,i=!0){let o=this.element,h=this.options,g=h.direction.toLowerCase();if(i&&(this.items.length=0),o.clear(),this.items=e.map(_=>r("<div>").html(_).addClass("marquee__item").addClass(h.clsMarqueeItem).appendTo(o)[0]),r(this.items).addClass(g==="left"||g==="right"?"moveLeftRight":"moveUpDown"),h.height==="auto"){let _=0;r(this.items).each(function(){let C=+r(this).outerHeight(!0);C>_&&(_=C)}),o.height(_)}return this},setItem:function(e,i){let o=r(this.items[e]),h,g=this.options,_=this.element;if(o.length)return o.html(i),h=o.outerHeight(!0),g.height==="auto"&&_.height()<h&&_.height(h),this},addItem:function(e,i=-1){let o=this.element,h=this.options,g,_=r(e),C,S;return g=_.length?_:r("<div>").html(e),i<0?o.append(g):(C=this.items[i],C?g.insertBefore(C):o.append(g)),S=g.outerHeight(!0),h.height==="auto"&&o.height()<S&&o.height(S),this},createChain:function(){let e=this.element,i=this.options,o=20,h=i.direction,g=i.ease,_=+i.duration,C=0,S=e[0].getBoundingClientRect();if(this.chain.length=0,i.mode==="default")for(let A of this.items){let F=r(A),N=A.getBoundingClientRect();(S.width-N.width)/2;let q;F.attr("data-direction")&&(h=F.attr("data-direction")),F.attr("data-duration")&&(_=+F.attr("data-duration")),F.attr("data-ease")?g=F.attr("data-ease"):g=i.ease,["left","right"].indexOf(h)>-1?q={left:h==="left"?[S.width,-N.width-o]:[-N.width-o,S.width]}:q={top:h==="up"?[S.height,-N.height-o]:[-N.height-o,S.height]},this.chain.push({el:F[0],draw:q,dur:_,ease:g,defer:C===0?+i.firstPause:0}),C++}else for(let A of this.items){let F=r(A),N=A.getBoundingClientRect(),q=(S.width-N.width)/2,Y=(S.height-N.height)/2,te,Ae;_=i.duration/2,F.attr("data-direction")&&(h=F.attr("data-direction").toLowerCase()),F.attr("data-duration")&&(_=+F.attr("data-duration")/2);let He=g?g.split(" "):["linear"];F.attr("data-ease")&&(He=F.attr("data-ease").split(" ")),["left","right"].includes(h)?(te={left:h==="left"?[S.width,q]:[-N.width-o,q]},Ae={left:h==="left"?[q,-N.width-o]:[q,S.width+o]}):(te={top:h==="up"?[S.height,Y]:[-N.height-o,Y]},Ae={top:h==="up"?[Y,-N.height-o]:[Y,S.height+o]}),this.chain.push({el:F[0],draw:te,dur:_,ease:He[0]||"linear",defer:C===0?+i.firstPause:0}),this.chain.push({el:F[0],draw:Ae,dur:_,ease:He[1]?He[1]:He[0]?He[0]:"linear",defer:+i.accentPause}),C++}},_createEvents:function(){let e=this.element,i=this.options;e.on(t.events.enter,()=>{i.stopOnHover&&r.pauseAll(this.items)}),e.on(t.events.leave,()=>{i.stopOnHover&&r.resumeAll(this.items)});let o=Hooks.useDebounce(h=>{this.stop(),this.setItems(this.items,!0),this.createChain(),this.start()},1e3);r(window).on(t.events.resize,o)},start:function(){let e=this.options;return this.running=!0,r.chain(this.chain,{loop:e.loop,onChainItem:t.utils.isFunc(e.onMarqueeItem),onChainItemComplete:t.utils.isFunc(e.onMarqueeItemComplete),onChainComplete:t.utils.isFunc(e.onMarqueeComplete)}),this},stop:function(){return this.running=!1,r.stopAll(!1),this},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={masterDeferred:0,effect:"slide",effectFunc:"linear",duration:200,controlPrev:"←",controlNext:"→",controlTitle:"Master, page $1 of $2",backgroundImage:"",clsMaster:"",clsControls:"",clsControlPrev:"",clsControlNext:"",clsControlTitle:"",clsPages:"",clsPage:"",onBeforePage:t.noop_true,onBeforeNext:t.noop_true,onBeforePrev:t.noop_true,onNextPage:t.noop,onPrevPage:t.noop,onMasterCreate:t.noop};t.masterSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroMasterSetup<"u"&&t.masterSetup(globalThis.metroMasterSetup),t.Component("master",{init:function(e,i){return this._super(i,e,f,{pages:[],currentIndex:0,isAnimate:!1,id:null}),this},_create:function(){let e=this.element,i=this.options;this.id=Hooks.useId(this.elem),e.addClass("master").addClass(i.clsMaster),e.css({backgroundImage:`url(${i.backgroundImage})`}),this._createControls(),this._createPages(),this._createEvents(),this._fireEvent("master-create",{element:e})},_createControls:function(){let e=this.element,i=this.options,o=["top","bottom"],h,g,_=e.find(".page");g=String(i.controlTitle).replace("$1","1"),g=String(g).replace("$2",_.length),r.each(o,function(){h=r("<div>").addClass(`controls controls-${this}`).addClass(i.clsControls).appendTo(e),r("<span>").addClass("prev").addClass(i.clsControlPrev).html(i.controlPrev).appendTo(h),r("<span>").addClass("next").addClass(i.clsControlNext).html(i.controlNext).appendTo(h),r("<span>").addClass("title").addClass(i.clsControlTitle).html(g).appendTo(h)}),this._enableControl("prev",!1)},_enableControl:function(e,i){let o=this.element.find(`.controls .${e}`);i===!0?o.removeClass("disabled"):o.addClass("disabled")},_setTitle:function(){let e=this.element.find(".controls .title"),i=this.options.controlTitle.replace("$1",this.currentIndex+1);i=i.replace("$2",String(this.pages.length)),e.html(i)},_createPages:function(){let e=this,i=this.element,o=this.options,h=i.find(".pages"),g=i.find(".page");h.length===0&&(h=r("<div>").addClass("pages").appendTo(i)),h.addClass(o.clsPages),r.each(g,function(){let _=r(this);_.data("cover")?i.css({backgroundImage:`url(${_.data("cover")})`}):i.css({backgroundImage:`url(${o.backgroundImage})`}),_.css({left:"100%"}),_.addClass(o.clsPage).hide(0),e.pages.push(_)}),g.appendTo(h),this.currentIndex=0,this.pages[this.currentIndex]!==void 0&&(this.pages[this.currentIndex].data("cover")!==void 0&&i.css({backgroundImage:`url(${this.pages[this.currentIndex].data("cover")})`}),this.pages[this.currentIndex].css("left","0").show(0),setTimeout(()=>{h.css({height:e.pages[0].outerHeight(!0)+2})},0))},_createEvents:function(){let e=this.element,i=this.options;e.on(t.events.click,".controls .prev",()=>{this.isAnimate!==!0&&t.utils.exec(i.onBeforePrev,[this.currentIndex,this.pages[this.currentIndex],e])===!0&&t.utils.exec(i.onBeforePage,["prev",this.currentIndex,this.pages[this.currentIndex],e])===!0&&this.prev()}),e.on(t.events.click,".controls .next",()=>{this.isAnimate!==!0&&t.utils.exec(i.onBeforeNext,[this.currentIndex,this.pages[this.currentIndex],e])===!0&&t.utils.exec(i.onBeforePage,["next",this.currentIndex,this.pages[this.currentIndex],e])===!0&&this.next()}),r(globalThis).on(t.events.resize,()=>{e.find(".pages").height(this.pages[this.currentIndex].outerHeight(!0)+2)},{ns:this.id})},_slideToPage:function(e){if(this.pages[e]===void 0||this.currentIndex===e)return;let i=e>this.currentIndex?"next":"prev",o=this.pages[this.currentIndex],h=this.pages[e];this.currentIndex=e,this._effect(o,h,i)},_slideTo:function(e){let i=e.toLowerCase()==="next",o=this.pages[this.currentIndex];if(i){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}let h=this.pages[this.currentIndex];this._fireEvent(i?"next-page":"prev-page",{current:o,next:h,forward:i}),this._effect(o,h,e)},_effect:function(e,i,o){let h=this,g=this.element,_=this.options,C=g.width(),S=g.find(".pages");this._setTitle(),this.currentIndex===this.pages.length-1?this._enableControl("next",!1):this._enableControl("next",!0),this.currentIndex===0?this._enableControl("prev",!1):this._enableControl("prev",!0),setTimeout(()=>{h.isAnimate=!0,S.animate({draw:{height:i.outerHeight(!0)+2},onDone:()=>{A()}})},0),S.css("overflow","hidden");function A(){i.data("cover")!==void 0?g.css({backgroundImage:`url(${i.data("cover")})`}):g.css({backgroundImage:`url(${_.backgroundImage})`}),S.css("overflow","initial"),h.isAnimate=!1}function F(){e.stop(!0).animate({draw:{left:o==="next"?-C:C},dur:_.duration,ease:_.effectFunc,onDone:()=>{e.hide(0)}}),i.stop(!0).css({left:o==="next"?C:-C}).show(0).animate({draw:{left:0},dur:_.duration,ease:_.effectFunc,onDone:()=>{A()}})}function N(){e.hide(),i.css({top:0,left:0,opacity:0}).show(()=>{A()})}function q(){e.fadeOut(_.duration),i.css({top:0,left:0,opacity:0}).fadeIn(_.duration,"linear",()=>{A()})}switch(_.effect){case"fade":q();break;case"switch":N();break;default:F()}},toPage:function(e){this._slideToPage(e)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},changeEffect:function(){this.options.effect=this.element.attr("data-effect")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr("data-effect-func")},changeEffectDuration:function(){this.options.duration=this.element.attr("data-duration")},changeAttribute:function(e){switch(e){case"data-effect":this.changeEffect();break;case"data-effect-func":this.changeEffectFunc();break;case"data-duration":this.changeEffectDuration();break}},destroy:function(){let e=this.element;e.off(t.events.click,".controls .prev"),e.off(t.events.click,".controls .next"),r(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,r)=>{let f={navViewDeferred:0,expandPoint:null,toggle:null,animate:!0,activeState:!0,initialView:"expand",onMenuItemClick:t.noop,onPaneClose:t.noop,onBeforePaneClose:t.noop,onPaneOpen:t.noop,onBeforePaneOpen:t.noop,onNavviewCreate:t.noop};t.navViewSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroNavViewSetup<"u"&&t.navViewSetup(globalThis.metroNavViewSetup),t.Component("nav-view",{init:function(e,i){return this._super(i,e,f,{pane:null,content:null,paneToggle:null,id:null,menuScrollDistance:0,menuScrollStep:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("navview-create")},_calcMenuHeight:function(){let e=this.element,i=0,o=e.children(".navview-pane");if(o.length===0)return;let h=o.children(".navview-menu-container");h.length!==0&&(r.each(h.prevAll(),function(){i+=r(this).outerHeight(!0)}),r.each(h.nextAll(),function(){i+=r(this).outerHeight(!0)}),h.css({height:`calc(100% - ${i}px)`}),this.menuScrollStep=48,this.menuScrollDistance=t.utils.nearest(h[0].scrollHeight-h.height(),48))},_recalc:function(){setTimeout(()=>{this._calcMenuHeight()},200)},_createStructure:function(){let e=this.element,i=this.options,o;e.addClass("navview"),e.attr("id")===void 0&&e.attr("id",Hooks.useId(this.elem)),this.id=e.attr("id"),i.initialView!=="compact"&&t.utils.mediaExist(i.expandPoint)?e.addClass("expanded"):e.addClass("compacted handmade"),t.storage.getItem("navview:compacted")===!0&&(e.removeClass("expanded"),e.addClass("compacted handmade"));let h=e.children(".navview-pane"),g=e.children(".navview-content"),_=r(i.toggle);o=h.children(".navview-menu"),o.length&&(o.prevAll().reverse().wrapAll(r("<div>").addClass("navview-container")),o.wrap(r("<div>").addClass("navview-menu-container")),o.find("a").each(function(){let C=r(this),S=C.children(".icon"),A=C.children(".caption");if(!S.length){let F=(A.text()||"A B").split(" ");C.prepend(r("<span>").addClass("icon icon-replacer").html(`${F[0][0]}${F[1]?F[1][0]:""}`))}})),this.pane=h.length>0?h:null,this.content=g.length>0?g:null,this.paneToggle=_.length>0?_:null,i.animate&&e.addClass("animate-panes"),this._recalc()},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.find(".navview-menu-container"),g=h.children(".navview-menu");h.on("mousewheel",_=>{let C=i.find(".navview-pane").width(),S=_.deltaY>0?-1:1,A=e.menuScrollStep,F=e.menuScrollDistance,N=Number.parseInt(g.css("top"));if(C>50)return!1;S===-1&&Math.abs(N)<=F&&g.css("top",Number.parseInt(g.css("top"))+A*S),S===1&&N<=-A&&g.css("top",Number.parseInt(g.css("top"))+A*S)},{passive:!0}),i.on(t.events.click,".pull-button",function(){e._pullClick(this,"pull")}),i.on(t.events.click,".holder",function(){e._pullClick(this,"holder")}),i.on(t.events.click,".navview-menu li",function(){o.activeState===!0&&(i.find(".navview-menu li.active").removeClass("active"),r(this).toggleClass("active"))}),i.on(t.events.click,".navview-menu li > a",function(){e._fireEvent("menu-item-click",{item:this})}),this.paneToggle!==null&&this.paneToggle.on(t.events.click,()=>{}),g.find("a").on(t.events.enter,function(){if(!i.hasClass("compacted"))return;let _=r(this),C=t.utils.rect(this);_.children(".caption").css({position:"fixed",top:C.top,left:C.left+h.width(),borderRadius:4,paddingLeft:10,boxShadow:"0 0 5px 0 var(--shadow-color)"})}),g.find("a").on(t.events.leave,function(){if(!i.hasClass("compacted"))return;let _=r(this).children(".caption");_[0].style=""}),r(globalThis).on(t.events.resize,()=>{this._recalc(),i.hasClass("handmade")||(t.utils.isValue(o.expandPoint)&&t.utils.mediaExist(o.expandPoint)?(i.removeClass("compacted"),i.addClass("expanded")):(i.removeClass("expanded"),i.addClass("compacted")))},{ns:this.id})},_togglePaneMode:function(e=!1){let i=this.element,o=this.options;i.toggleClass("expanded"),i.toggleClass("compacted"),i.toggleClass("handmade"),i.hasClass("compacted")?(t.storage.setItem("navview:compacted",!0),t.utils.exec(o.onPaneClose,null,this)):(t.storage.setItem("navview:compacted",!1),t.utils.exec(o.onPaneOpen,null,this))},_pullClick:function(e,i){let o,h=r(e);return h!=null&&h.hasClass("holder")&&(o=h.parent().find("input"),setTimeout(()=>{o.focus()},200)),this._togglePaneMode(i==="pull"),this._recalc(),!0},toggle:function(){this._togglePaneMode()},compact:function(){let e=this.element;e.addClass("compacted handmade"),e.removeClass("expanded"),this._recalc()},expand:function(){let e=this.element;e.addClass("expanded"),e.removeClass("compacted handmade"),this._recalc()},state(){return this.element.hasClass("expanded")?"expand":"compact"},changeAttribute:(e,i)=>{},destroy:function(){let e=this.element;e.off(t.events.click,".pull-button, .holder"),e.off(t.events.click,".navview-menu li"),e.off(t.events.click,".navview-menu li > a"),this.paneToggle!==null&&this.paneToggle.off(t.events.click),r(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,r)=>{let f={container:null,width:220,timeout:3e3,duration:200,distance:"max",animation:"linear",clsNotify:"",onClick:t.noop,onClose:t.noop,onShow:t.noop,onAppend:t.noop,onNotifyCreate:t.noop};t.notifySetup=i=>{f=r.extend({},f,i)},typeof globalThis.metroNotifySetup<"u"&&t.notifySetup(globalThis.metroNotifySetup);let e={container:null,options:{},notifies:[],setup:function(i){return this.options=r.extend({},f,i),this},reset:function(){let i={width:220,timeout:3e3,duration:200,distance:"max",animation:"linear"};this.options=r.extend({},f,i)},_createContainer:()=>{let i=r("<div>").addClass("notify-container");return r("body").prepend(i),i},create:function(i,o,h={}){let g=this,_=this.options,C,S,A=t.utils.elementId("notify");if(!i)return!1;C=r("<div>").addClass("notify").addClass(_.clsNotify).attr("id",A),C.css({width:_.width}),o&&(S=r("<div>").addClass("notify-title").html(o),C.prepend(S)),r("<div>").addClass("notify-message").html(i).appendTo(C),h.clsNotify&&C.addClass(h.clsNotify),h.width!==void 0&&C.css({width:h.width}),C.on(t.events.click,function(){t.utils.exec(t.utils.isValue(h.onClick)?h.onClick:_.onClick,null,this),g.kill(r(this).closest(".notify"),t.utils.isValue(h.onClose)?h.onClose:_.onClose)}),e.container===null&&(e.container=e._createContainer()),C.appendTo(e.container),C.hide(()=>{t.utils.exec(t.utils.isValue(h.onAppend)?h.onAppend:_.onAppend,null,C[0]);let F=t.utils.isValue(h.duration)?h.duration:_.duration,N=t.utils.isValue(h.animation)?h.animation:_.animation,q=t.utils.isValue(h.distance)?h.distance:_.distance;(q==="max"||Number.isNaN(q))&&(q=r(globalThis).height()),C.show().animate({draw:{marginTop:[q,4],opacity:[0,1]},dur:F,ease:N,onDone:function(){t.utils.exec(_.onNotifyCreate,null,this),h!==void 0&&h.keepOpen===!0||setTimeout(()=>{g.kill(C,t.utils.isValue(h.onClose)?h.onClose:_.onClose)},_.timeout),t.utils.exec(t.utils.isValue(h.onShow)?h.onShow:_.onShow,null,C[0])}})})},kill:function(i,o){i.off(t.events.click),i.zoomOut(300,"linear",()=>{t.utils.exec(o||this.options.onClose,null,i[0]),i.remove()})},killAll:function(){let i=this,o=r(".notify");r.each(o,function(){i.kill(r(this))})}};t.notify=e.setup()})(Metro,Dom),((t,r)=>{let f={tabsDeferred:0,expand:!1,expandPoint:null,type:"default",updateUri:!1,position:"top",align:"left",link:"",clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:t.noop,onTabOpen:t.noop,onTabClose:t.noop,onBeforeTab:t.noop_true,onTabsCreate:t.noop};t.tabsSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroTabsSetup<"u"&&t.tabsSetup(globalThis.metroTabsSetup),t.Component("tabs",{init:function(e,i){return this._super(i,e,f,{_targets:[],id:null}),this},_create:function(){let e=this.element,i=e.find(".active")[0];this.id=e.attr("id")||Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._open(i),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o=e.wrap("<div>").addClass("tabs"),h;o.addClass(`tabs-${i.position}`),e.addClass("tabs-list"),e.addClass(`tabs-${i.type}`),e.addClass(`align-${i.align}`),e.data("expanded",!1);let g=r("<div>").addClass("expand-title");if(o.prepend(g),h=o.find(".hamburger"),h.length===0){h=r("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(o);for(let _=0;_<3;_++)r("<span>").addClass("line").appendTo(h)}o.addClass(i.clsTabs),e.addClass(i.clsTabsList),e.children("li").addClass(i.clsTabsListItem),i.expand===!0?["left","right"].includes(i.position)||o.addClass("tabs-expand"):t.utils.isValue(i.expandPoint)&&t.utils.mediaExist(i.expandPoint)&&!["left","right"].includes(i.position)&&o.addClass("tabs-expand"),["left","right"].includes(i.position)&&o.addClass("tabs-expand")},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.parent();r(globalThis).on(t.events.resize,()=>{["left","right"].includes(o.position)||(o.expand===!0?["left","right"].includes(o.position)||h.addClass("tabs-expand"):t.utils.isValue(o.expandPoint)&&t.utils.mediaExist(o.expandPoint)&&!["left","right"].includes(o.position)?h.hasClass("tabs-expand")||h.addClass("tabs-expand"):h.hasClass("tabs-expand")&&h.removeClass("tabs-expand"))},{ns:this.id}),h.on(t.events.click,".hamburger, .expand-title",()=>{i.data("expanded")===!1?(i.addClass("expand"),i.data("expanded",!0),h.find(".hamburger").addClass("active")):(i.removeClass("expand"),i.data("expanded",!1),h.find(".hamburger").removeClass("active"))}),i.on(t.events.click,"li",function(g){let _=r(this).children("a"),C=_.attr("href").trim(),S=_.parent("li");if(e._fireEvent("tab",{tab:S[0],target:S.children("a").href()}),S.hasClass("active"),i.data("expanded")===!0&&(i.removeClass("expand"),i.data("expanded",!1),h.find(".hamburger").removeClass("active")),t.utils.exec(o.onBeforeTab,[S,i],S[0])!==!0)return!1;C&&(C.startsWith("#")?(e._open(S),g.preventDefault()):globalThis.location.href=C)}),r(globalThis).on("hashchange",()=>{let g,_;o.updateUri&&(g=globalThis.location.hash,_=e._findTabByTarget(g),e._open(r(_)))})},_findTabByTarget:function(e){let i=this.element.find("li"),o;return i.each((h,g)=>{!o&&r(g).children("a").attr("href")===e&&(o=g)}),o},_collectTargets:function(){let e=this,i=this.element.find("li");this._targets=[],r.each(i,function(){let o=r(this);if(o.hasClass("divider"))return;let h=o.find("a").attr("href").trim();h.length>1&&h[0]==="#"&&e._targets.push(h)})},_open:function(e){let i=this.element,o=this.options,h=i.find("li"),g=i.siblings(".expand-title"),_=i.find("li.active");if(h.length===0)return;this._collectTargets();let C=r(typeof e>"u"?h[0]:e),S=C.find("a").attr("href"),A=C.index();S!==void 0&&(h.removeClass("active").removeClass(o.clsTabsListItemActive),C.parent().hasClass("d-menu")?C.parent().parent().addClass("active"):C.addClass("active"),o.link&&r(`[data-link=${o.link}]`).each((F,N)=>{if(N===this.elem)return;let q=r(N).find("li");q.length&&q[A]&&q[A].click()}),r.each(this._targets,function(){let F=r(this);F.length>0&&F.hide()}),S!=="#"&&S[0]==="#"&&(o.updateUri&&(globalThis.location.hash=S),r(S).show()),g.html(C.find("a").html()),C.addClass(o.clsTabsListItemActive),_.is(C)||(this._fireEvent("tab-open",{tab:C[0],target:C.children("a").attr("href")}),this._fireEvent("tab-close",{tab:_[0],target:_.children("a").attr("href")})))},next:function(){let e=this.element,i;i=e.find("li.active").next("li"),i.length>0&&this._open(i)},prev:function(){let e=this.element,i;i=e.find("li.active").prev("li"),i.length>0&&this._open(i)},openByTarget:function(e){let i=this._findTabByTarget(e);i&&this._open(r(i))},openByIndex:function(e){let i=this.element.find("li");t.utils.isValue(i[e])&&this._open(r(i[e]))},open:function(e=1){let i=this.element.find("li");t.utils.isInt(e)?t.utils.isValue(i[e-1])&&this._open(r(i[e-1])):this._open(r(e))},changeAttribute:()=>{},destroy:function(){let e=this.element,i=e.parent();r(globalThis).off(t.events.resize,{ns:this.id}),i.off(t.events.click,".hamburger, .expand-title"),e.off(t.events.click,"a"),e.remove()}})})(Metro,Dom),((t,r)=>{let f=`<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z"/>
        <path d="M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z"/>
    </svg>`,e=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 9.781v10.667h8.885v1.771h7.115v-1.771h16v-10.667zM8.885 18.661h-1.771v-5.333h-1.781v5.333h-3.552v-7.104h7.104zM14.219 18.661v1.787h-3.552v-8.891h7.115v7.109h-3.563zM30.224 18.661h-1.776v-5.333h-1.781v5.333h-1.781v-5.333h-1.771v5.333h-3.563v-7.104h10.672zM14.219 13.333h1.781v3.557h-1.781z"/>
    </svg>`,i=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M30,10.75H21.251V2H30Z" />
        <path d="M20.374,10.75h-8.75V2h8.75Z" />
        <path d="M10.749,10.75H2V2h8.749Z" />
        <path d="M30,20.375H21.251v-8.75H30Z" />
        <path d="M20.374,20.375h-8.75v-8.75h8.75Z"/>
        <path d="M20.374,30h-8.75V21.25h8.75Z"/>
        <path d="M30,30H21.251V21.25H30Z" />
        <path d="M10.749,30H2V21.25h8.749Z" />
    </svg>`,o=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M28.208,24.409a10.493,10.493,0,0,0-3.959,1.822,23.743,23.743,0,0,1-5.835,2.642,1.632,1.632,0,0,1-.983.55A62.228,62.228,0,0,1,10.984,30c-1.163.009-1.876-.3-2.074-.776a1.573,1.573,0,0,1,.866-2.074,3.759,3.759,0,0,1-.514-.379c-.171-.171-.352-.514-.406-.388-.225.55-.343,1.894-.947,2.5-.83.839-2.4.559-3.328.072-1.019-.541.072-1.813.072-1.813a.73.73,0,0,1-.992-.343,4.847,4.847,0,0,1-.667-2.949,5.374,5.374,0,0,1,1.749-2.895,9.334,9.334,0,0,1,.658-4.4,10.445,10.445,0,0,1,3.165-3.661S6.628,10.747,7.35,8.817c.469-1.262.658-1.253.812-1.308a3.633,3.633,0,0,0,1.452-.857,5.265,5.265,0,0,1,4.41-1.7S15.2,1.4,16.277,2.09a18.349,18.349,0,0,1,1.533,2.886s1.281-.748,1.425-.469a11.334,11.334,0,0,1,.523,6.132,14.01,14.01,0,0,1-2.6,5.411c-.135.225,1.551.938,2.615,3.887.983,2.7.108,4.96.262,5.212.027.045.036.063.036.063s1.127.09,3.391-1.308A8.5,8.5,0,0,1,27.739,22.3a1.081,1.081,0,0,1,.469,2.11Z"/>
    </svg>`,h=`<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.966 22.566c6.609 0 11.966-4.326 11.966-9.661 0-3.308-2.051-6.23-5.204-7.963-1.283-.713-2.291-1.353-3.13-1.885-1.58-1.004-2.555-1.623-3.632-1.623-1.094 0-2.327.783-3.955 1.816a49.78 49.78 0 0 1-2.808 1.692C2.051 6.675 0 9.597 0 12.905c0 5.335 5.357 9.66 11.966 9.66Zm-1.397-17.83a5.885 5.885 0 0 0 .497-2.403c0-.144.201-.186.229-.028.656 2.775-.9 4.15-2.051 4.61-.124.048-.199-.12-.103-.208a5.748 5.748 0 0 0 1.428-1.971Zm2.052-.102a5.795 5.795 0 0 0-.78-2.3v-.015c-.068-.123.086-.263.185-.172 1.956 2.105 1.303 4.055.554 5.037-.082.102-.229-.003-.188-.126a5.837 5.837 0 0 0 .229-2.424Zm1.771-.559a5.708 5.708 0 0 0-1.607-1.801V2.26c-.112-.085-.024-.274.113-.218 2.588 1.084 2.766 3.171 2.452 4.395a.116.116 0 0 1-.048.071.11.11 0 0 1-.153-.026.118.118 0 0 1-.022-.083 5.864 5.864 0 0 0-.735-2.324Zm-5.072.559c-.616.544-1.279.758-2.058.997-.116 0-.194-.078-.155-.18 1.747-.907 2.369-1.645 2.99-2.771 0 0 .155-.117.188.085 0 .303-.348 1.325-.965 1.869Zm4.931 11.205a2.949 2.949 0 0 1-.935 1.549 2.16 2.16 0 0 1-1.282.618 2.167 2.167 0 0 1-1.323-.618 2.95 2.95 0 0 1-.923-1.549.243.243 0 0 1 .064-.197.23.23 0 0 1 .192-.069h3.954a.226.226 0 0 1 .19.07.239.239 0 0 1 .063.196Zm-5.443-2.17a1.85 1.85 0 0 1-2.377-.244 1.969 1.969 0 0 1-.233-2.44c.207-.318.502-.565.846-.711a1.84 1.84 0 0 1 1.089-.11c.365.075.701.26.964.53.264.27.443.616.515.99a1.98 1.98 0 0 1-.108 1.118 1.923 1.923 0 0 1-.696.866Zm8.471.005a1.849 1.849 0 0 1-2.374-.252 1.956 1.956 0 0 1-.546-1.362c0-.383.11-.758.319-1.076.207-.318.502-.566.847-.711a1.84 1.84 0 0 1 1.09-.108c.366.076.702.261.965.533s.44.617.512.993a1.98 1.98 0 0 1-.113 1.118 1.922 1.922 0 0 1-.7.865Z"/>
    </svg>`,g={link:"package-manager",default:"npm",deps:"",package:"",onPackageManagerCreate:t.noop};t.packageManagerSetup=_=>{g=r.extend({},g,_)},typeof globalThis.metroPackageManagerSetup<"u"&&t.packageManagerSetup(globalThis.metroPackageManagerSetup),t.Component("package-manager",{init:function(_,C){return this._super(C,_,g,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("component-create")},_createStructure:function(){let _=this.element,C=this.options,S=new Date().getTime(),A=Hooks.useId(`pm-npm-${S}`),F=Hooks.useId(`pm-pnpm-${S}`),N=Hooks.useId(`pm-yarn-${S}`),q=Hooks.useId(`pm-bun-${S}`);_.addClass("package-manager"),_.html(`
                <ul data-role="tabs" data-expand="true" data-link="${C.link}">
                    <li class="${C.default==="npm"?"active":""}"><a href="#${A}">${e} npm</a></li>
                    <li class="${C.default==="pnpm"?"active":""}"><a href="#${F}">${i} pnpm</a></li>
                    <li class="${C.default==="yarn"?"active":""}"><a href="#${N}">${o} yarn</a></li>
                    <li class="${C.default==="bun"?"active":""}"><a href="#${q}">${h} bun</a></li>
                </ul>
                <div>
                    <div class="pm-command" id="${A}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>npm i ${C.deps===""?"":C.deps==="dev"?"-D":""} ${C.package}</code>
                    </div>
                    <div class="pm-command" id="${F}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>pnpm add ${C.deps===""?"":C.deps==="dev"?"-D":"--save-peer"} ${C.package}</code>
                    </div>
                    <div class="pm-command" id="${N}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>yarn add ${C.deps===""?"":C.deps==="dev"?"-D":"-P"} ${C.package}</code>
                    </div>
                    <div class="pm-command" id="${q}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>bun add ${C.deps===""?"":C.deps==="dev"?"-D":"--peer"} ${C.package}</code>
                    </div>
                </div>
            `)},_createEvents:function(){let _=this.element;this.options,_.on("click",".pm-command button",function(){let C=r(this).parent().find("code").text();t.utils.copy2clipboard(C)})},changeAttribute:(_,C)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={appendButton:!0,tabsPosition:"left",customButtons:null,activateNewTab:!0,defaultNewTabTitle:"New File",defaultNewCanClose:!0,defaultNewTabIcon:"",defaultNewTabImage:"",defaultNewTabPosition:"before",appendActions:null,tabsActions:null,tabActions:null,refControl:!1,onAppendButtonClick:t.noop,onTabCreate:t.noop_arg,onTabActivate:t.noop,onTabDeactivate:t.noop,onTabBeforeClose:t.noop_true,onTabClose:t.noop,onTabRename:t.noop,onTabPropChange:t.noop,onTabOrganized:t.noop};t.pageControlSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroPageControlSetup<"u"&&t.pageControlSetup(globalThis.metroPageControlSetup),t.Component("page-control",{init:function(e,i){return this._super(i,e,f,{newFileIndex:1,invisibleTabsHolderToggle:null,invisibleTabsHolder:null}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("page-control-create")},_createStructure:function(){let e=this.element,i=this.options;this.component=r("<div>").addClass("page-control").insertBefore(e),e.addClass("page-control__tabs").appendTo(this.component),e.addClass(`tabs-position-${i.tabsPosition}`);let o=e.children("li:not(.page-control__tab-custom)"),h=!1;if(o.each((C,S)=>{let A=r(S),F=A.html(),N=A.hasClass("active"),q=this.createTab({caption:F,icon:A.attr("data-icon"),image:A.attr("data-image"),canClose:A.attr("data-close")!=="false",data:A.attr("data-data"),ref:A.attr("data-ref")});N&&!h&&(h=!0,q.addClass("active"),this._fireEvent("tab-activate",{tab:q[0]})),e.append(q),A.remove()}),!h){let C=this.element.children(".page-control__tab").first();C.addClass("active"),this._fireEvent("tab-activate",{tab:C[0]})}if(i.refControl&&this._updateRefs(),i.appendButton){let C=r("<li>").addClass("page-control__tab__append").html('<span class="toggle">+</span>');if(i.appendActions){let S=t.utils.exec(i.appendActions,null,this);if(!Array.isArray(S))throw"PageControl Error! Prop appendActions must be a function that returns an array.";let A=r("<ul data-role='dropdown' class='d-menu context'>");S.map(F=>A.append(this._renderMenuItem(F))),C.append(A)}e.append(C)}let g=r("<li>").addClass("page-control__tab__service").addClass("invisible-tabs").appendTo(e);g.append(r("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">↧</span>
                    <ul class="d-menu place-right context page-control__invisible_tabs_holder"></ul>
                `)),this.invisibleTabsHolderToggle=g.find(".page-control__tab__service.invisible-tabs > .page-control__service-button"),this.invisibleTabsHolder=t.makePlugin(g.find(".page-control__invisible_tabs_holder"),"dropdown",{onClick:C=>{let S=r(C.target.parentNode);S.hasClass("page-control__tab__closer")?this.closeButtonClick(C):this.activateTab(S[0]),C.preventDefault(),C.stopPropagation()}}),this.invisibleTabsHolderToggle.hide(),this.organizeTabs();let _=r("<li>").addClass("page-control__tab__service").addClass("tabs-menu").appendTo(e);if(_.append(r("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">︙</span>
                    <ul class="d-menu place-right context" data-role="dropdown"></ul>
                `)),!i.tabsActions)_.hide();else{let C=_.find("ul");t.utils.exec(i.tabsActions,null,this).map(S=>C.append(this._renderMenuItem(S)))}},_updateRefs:function(){let e=this.element.find(".page-control__tab"),i=this.element.find(".page-control__tab.active");e.each((o,h)=>r(r(h).data("ref")).hide()),r(i.data("ref")).show()},_createEvents:function(){let e=this,i=this.element,o=this.options;i.on("click",".page-control__tab__closer",this.closeButtonClick.bind(this)),i.on("click",".page-control__tab__menu > li > a",function(h){let g=r(this).attr("data-action"),_=t.getPlugin(r(this).closest("ul"),"dropdown"),C=r(this).closest(".page-control__tab")[0];switch(_.close(),g){case"close":{e.closeTab(C);break}case"close-all":{e.closeAll();break}case"close-other":{e.closeOtherTabs(C);break}case"close-inactive":{e.closeInactiveTabs();break}case"close-left":{e.closeTabsOnTheLeft(C);break}case"close-right":{e.closeTabsOnTheRight(C);break}case"rename":{e.renameTab(C);break}}h.preventDefault(),h.stopPropagation()}),i.on("click",".page-control__tab",function(){r(this).hasClass("active")||e.activateTab(this)}),i.on("click",".page-control__tab__append > span",h=>{h.preventDefault(),h.stopPropagation();let g=e.createTab({caption:`${o.defaultNewTabTitle} ${e.newFileIndex++}`,canClose:o.defaultNewCanClose,icon:o.defaultNewTabIcon,image:o.defaultNewTabImage,data:null});e._fireEvent("tab-append",{tab:g}),e.activateTab(g),e.organizeTabs(),e._fireEvent("append-button-click",{tab:g})}),r(globalThis).on("resize",()=>{this.organizeTabs()})},_renderMenuItem:e=>{let i=r("<li>"),o=r("<a>");return(e.icon||e.image)&&o.append(e.icon?r("<span class='icon'>").addClass(e.icon):r("<img class='icon'>").attr("src",e.image).attr("alt","")),e.title&&o.append(r("<span>").addClass("caption").text(e.title)),o.data("data",e.data),e.onclick&&o.on("click",h=>e.onclick(h)),i.append(o),i},createTab:function({caption:e,icon:i,image:o,canClose:h=!0,hasMenu:g=!0,data:_,ref:C}){let S=this.element,A=this.options,F=r("<li>").addClass("page-control__tab").appendTo(S);if(g&&(F.append(r("<div>").addClass("page-control__tab__menu__holder").html(`
                        <span class="">︙</span>
                        <ul class="d-menu context page-control__tab__menu" data-role="dropdown">
                            <li><a data-action="rename">${this.strings.label_rename_tab}</a></li>
                            <li class="divider"></li>
                            <li><a data-action="close">${this.strings.label_close_tab}</a></li>
                            <li><a data-action="close-other">${this.strings.label_close_other_tabs}</a></li>
                            <li><a data-action="close-left">${this.strings.label_close_tabs_left}</a></li>
                            <li><a data-action="close-right">${this.strings.label_close_tabs_right}</a></li>
                            <li><a data-action="close-all">${this.strings.label_close_all_tabs}</a></li>
                            <li><a data-action="close-inactive">${this.strings.label_close_inactive_tabs}</a></li>
                        </ul>
                    `)),A.tabActions)){let N=F.find("ul"),q=t.utils.exec(A.tabActions);if(!Array.isArray(q))throw"PageControl Error! Prop tabActions must be a function that returns an array.";N.append(r("<li class='divider'>")),q.map(Y=>N.append(this._renderMenuItem(Y)))}return(i||o)&&F.append(r("<span>").addClass("page-control__tab__icon").html(i?`<span class="${i}">`:`<img src="${o}" alt=""/>`)),F.append(r("<span>").addClass("page-control__tab__caption").html(e)),h&&F.append(r("<span>").addClass("page-control__tab__closer").html("<span>✕</span>")),F.data("data",_),F.data("ref",C),this._fireEvent("tab-create",{tab:F[0]}),S[A.defaultNewTabPosition==="before"?"prepend":"append"](F),F[0]},closeButtonClick:function(e){let i=this.options,o=r(e.target).closest(".page-control__tab"),h=o.closest("ul");i.onTabBeforeClose(o[0])&&(this.closeTab(o[0]),h.hasClass("page-control__invisible_tabs_holder")&&h.children(".page-control__tab").length===0&&(t.getPlugin(this.invisibleTabsHolder,"dropdown").close(),this.invisibleTabsHolderToggle.hide()),e.preventDefault(),e.stopPropagation())},closeTab:function(e,i=!0){let o=r(e);if(o.hasClass("active")){let h=o.prev(".page-control__tab"),g=o.next(".page-control__tab");h.length?this.activateTab(h[0]):g.length?this.activateTab(g[0]):o.parent().hasClass("page-control__invisible_tabs_holder")&&parent.children(".page-control__tab").length===1&&element.children(".page-control__tab").length&&this.activateTab(element.children(".page-control__tab").last()[0])}return this._fireEvent("tab-close",{tab:e}),this.options.refControl&&r(o.data("ref")).remove(),o.remove(),i&&this.organizeTabs(),this},activateTab:function(e){let i=this.element,o=this.options;return i.find(".page-control__tab").each((h,g)=>{let _=r(g);_.hasClass("active")&&(this._fireEvent("tab-deactivate",{tab:g}),_.removeClass("active"))}),r(e).addClass("active"),o.refControl&&this._updateRefs(),this._fireEvent("tab-activate",{tab:e}),r(e).parent().hasClass("page-control__invisible_tabs_holder")&&(i.prepend(e),this.organizeTabs()),this},organizeTabs:function(){let e=this.element,i=this.elem.getBoundingClientRect().width,o=this.invisibleTabsHolder,h=e.find(".page-control__tab__append");o.children(".page-control__tab").each((C,S)=>{let A=r(S);h.length?A.insertBefore(h):A.appendTo(e)});let g=e.children(".page-control__tab"),_=0;for(let C of g){let S=C.getBoundingClientRect();if(_+S.width+50>i){r(C).nextAll(".page-control__tab").appendTo(o),r(C).appendTo(o);break}_+=S.width}o.children().length?this.invisibleTabsHolderToggle.show(function(){r(this).css({display:"flex"})}):this.invisibleTabsHolderToggle.hide(),this._fireEvent("tab-organized",null)},addTab:function({caption:e,icon:i,image:o,canClose:h=!0,hasMenu:g=!0,data:_,ref:C},S="before"){let A=this.options,F=this.createTab({caption:e,icon:i,image:o,canClose:h,hasMenu:g,data:_,ref:C});return A.activateNewTab&&this.activateTab(F),this.element[S==="before"?"prepend":"append"](F),this.organizeTabs(),F},getActiveTab:function(){return this.component.find(".page-control__tab.active")[0]},getActiveTabIndex:function(){return this.component.find(".page-control__tab").index(".active",!1)},getTabByIndex:function(e){return this.component.find(".page-control__tab").get(e)},getTabByTitle:function(e){if(!e)return;let i=this.component.find(".page-control__tab");for(let o of i)if(r(o).find(".caption").text()===e)return o},closeAll:function(){return this.component.find(".page-control__tab").each((e,i)=>{this.closeTab(i,!1)}),this.organizeTabs(),this},closeInactiveTabs:function(){return this.component.find(".page-control__tab").each((e,i)=>{r(i).hasClass("active")||this.closeTab(i,!1)}),this.organizeTabs(),this},closeOtherTabs:function(e){let i=typeof e=="number"?this.getTabByIndex(e):r(e);return this.component.find(".page-control__tab").each((o,h)=>{i[0]!==h&&this.closeTab(h,!1)}),this.activateTab(e),this.organizeTabs(),this},closeTabsOnTheLeft:function(e){let i=this.component.find(".page-control__tab").indexOf(r(e));return this.component.find(".page-control__tab").each((o,h)=>{o<i&&this.closeTab(h,!1)}),this.organizeTabs(),this},closeTabsOnTheRight:function(e){let i=this.component.find(".page-control__tab").indexOf(r(e));return this.component.find(".page-control__tab").each((o,h)=>{o>i&&this.closeTab(h,!1)}),this.organizeTabs(),this},setupTab:function(e,i,o){let h=r(e);switch(i){case"caption":{h.find(".page-control__tab__caption").text(o);break}case"icon":{h.find(".page-control__tab__icon")[0].className=o;break}case"image":{h.find(".page-control__tab__image").attr("src",o);break}case"data":{h.data("data",o);break}case"ref":{h.data("ref",o);break}}this._fireEvent("tab-prop-change",{tab:e}),this.organizeTabs()},renameTab:function(e){let i=r(e).find(".page-control__tab__caption");t.dialog.create({title:this.strings.label_rename_tab,content:`
                    <form style="width: 100%">
                        <input type="text" data-role="input" value="${i.text()}">
                    </form>
                `,defaultActions:!1,customButtons:[{text:this.strings.label_ok,cls:"js-dialog-close info",onclick:o=>{this.setupTab(e,"caption",o.find("input").val())}},{text:this.strings.label_cancel,cls:"js-dialog-close"}]})},changeAttribute:(e,i)=>{},destroy:function(){this.component.remove()}})})(Metro,Dom),((t,r)=>{t.pagination=f=>{let e={length:0,rows:0,current:0,target:"body",clsPagination:"",prevTitle:"",nextTitle:"",distance:5,islandSize:3,shortTrack:10,lang:void 0},i,o,h,g=r.extend({},e,f),_=Number.parseInt(g.distance),C=Number.parseInt(g.shortTrack),S=Number.parseInt(g.islandSize),A=Number.parseInt(g.length),F=Number.parseInt(g.rows),N=Math.ceil(A/F),q=Number.parseInt(g.current),Y=r(g.target).html(""),te=r("<ul>").addClass("pagination").addClass(g.clsPagination).appendTo(Y),Ae=g.lang||Y.closest("[lang]").attr("lang")||"en";t.locales[Ae]===void 0&&(Ae="en");let He=t.locales[Ae];if(A===0||F===-1)return;let $e=(Pe,Se,Le)=>{let Ie=r("<li>").addClass("page-item").addClass(Se),Me=r("<a>").addClass("page-link").html(Pe);return Me.data("page",Le),Me.appendTo(Ie),Ie};if(o=$e(g.prevTitle||He.label_prev,"service prev-page","prev"),te.append(o),te.append($e(1,q===1?"active":"",1)),_===0||N<=C)for(i=2;i<N;i++)te.append($e(i,i===q?"active":"",i));else if(q<_){for(i=2;i<=_;i++)te.append($e(i,i===q?"active":"",i));N>_&&te.append($e("...","no-link",null))}else if(q<=N&&q>N-_+1)for(N>_&&te.append($e("...","no-link",null)),i=N-_+1;i<N;i++)te.append($e(i,i===q?"active":"",i));else{te.append($e("...","no-link",null));for(let Pe=S;Pe>0;Pe--)te.append($e(q-Pe,"",q-Pe));te.append($e(q,"active",q));for(let Pe=1;Pe<=S;Pe++)te.append($e(q+Pe,"",q+Pe));te.append($e("...","no-link",null))}return(N>1||q<N)&&te.append($e(N,q===N?"active":"",N)),h=$e(g.nextTitle||He.label_next,"service next-page","next"),te.append(h),q===1&&o.addClass("disabled"),q===N&&h.addClass("disabled"),A===0&&(te.addClass("disabled"),te.children().addClass("disabled")),te}})(Metro,Dom),((t,r)=>{let f='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',e={panelDeferred:0,id:null,titleCaption:"",titleIcon:"",collapsible:!1,collapsed:!1,collapseDuration:100,width:"auto",height:"auto",draggable:!1,customButtons:null,clsCustomButton:"",clsPanel:"",clsTitle:"",clsTitleCaption:"",clsTitleIcon:"",clsContent:"",clsCollapseToggle:"",onCollapse:t.noop,onExpand:t.noop,onDragStart:t.noop,onDragStop:t.noop,onDragMove:t.noop,onPanelCreate:t.noop};t.panelSetup=i=>{e=r.extend({},e,i)},typeof globalThis.metroPanelSetup<"u"&&t.panelSetup(globalThis.metroPanelSetup),t.Component("panel",{init:function(i,o){return this._super(o,i,e),this},_addCustomButtons:function(i){let o=this.element,h=this.options,g=o.closest(".panel").find(".panel-title"),_,C=[];if(C=t.utils.isObject(i),!C){console.warn("Unknown format for custom buttons",i);return}if(g.length===0){console.warn("No place for custom buttons");return}return _=g.find(".custom-buttons"),_.length===0?_=r("<div>").addClass("custom-buttons").appendTo(g):(_.find(".btn-custom").off(t.events.click),_.html("")),r.each(C,function(){let S=r("<span>");S.addClass("button btn-custom").addClass(h.clsCustomButton).addClass(this.cls).attr("tabindex",-1).html(this.html),this.attr&&typeof this.attr=="object"&&r.each(this.attr,(A,F)=>{S.attr(Str.dashedName(A),F)}),S.data("action",this.onclick),_.prepend(S)}),g.on(t.events.click,".btn-custom",function(S){if(t.utils.isRightMouse(S))return;let A=r(this),F=A.data("action");t.utils.exec(F,[A],this)}),this},_create:function(){let i=this.element,o=this.options,h=r("<div>").addClass("panel").addClass(o.clsPanel),g=o.id?o.id:Hooks.useId(this.elem),_=i[0].className,C;if(h.attr("id",g).addClass(_),h.insertBefore(i),i.appendTo(h),i[0].className="",i.addClass("panel-content").addClass(o.clsContent).appendTo(h),o.titleCaption!==""||o.titleIcon!==""||o.collapsible===!0){if(C=r("<div>").addClass("panel-title").addClass(o.clsTitle),o.titleCaption!==""&&r("<span>").addClass("caption").addClass(o.clsTitleCaption).html(o.titleCaption).appendTo(C),o.titleIcon!==""&&r(o.titleIcon).addClass("icon").addClass(o.clsTitleIcon).appendTo(C),o.collapsible===!0){let S=r("<span>").addClass("dropdown-toggle marker-center active-toggle").addClass(o.clsCollapseToggle).appendTo(C);S.append(f),t.makePlugin(i,"collapse",{toggleElement:S,duration:o.collapseDuration,onCollapse:o.onCollapse,onExpand:o.onExpand}),o.collapsed===!0&&this.collapse()}C.appendTo(h)}if(C&&t.utils.isValue(o.customButtons)&&this._addCustomButtons(o.customButtons),o.draggable===!0){let S;C?S=C.find(".caption, .icon"):S=h,t.makePlugin(h,"draggable",{dragContext:h[0],dragElement:S,onDragStart:o.onDragStart,onDragStop:o.onDragStop,onDragMove:o.onDragMove})}o.width!=="auto"&&Number.parseInt(o.width)>=0&&h.outerWidth(Number.parseInt(o.width)),o.height!=="auto"&&Number.parseInt(o.height)>=0&&(h.outerHeight(Number.parseInt(o.height)),i.css({overflow:"auto"})),this.panel=h,this._fireEvent("panel-create",{element:i,panel:h})},customButtons:function(i){return this._addCustomButtons(i)},collapse:function(){let i=this.element;t.utils.isMetroObject(i,"collapse")!==!1&&t.getPlugin(i,"collapse").collapse()},open:function(){this.expand()},close:function(){this.collapse()},expand:function(){let i=this.element;t.utils.isMetroObject(i,"collapse")!==!1&&t.getPlugin(i,"collapse").expand()},changeAttribute:(i,o)=>{},destroy:function(){let i=this.element,o=this.options;return o.collapsible===!0&&t.getPlugin(i,"collapse").destroy(),o.draggable===!0&&t.getPlugin(i,"draggable").destroy(),i}})})(Metro,Dom),((t,r)=>{let f={popoverDeferred:0,popoverText:"",popoverHide:3e3,popoverTimeout:10,popoverOffset:10,popoverTrigger:t.popoverEvents.HOVER,popoverPosition:t.position.TOP,hideOnLeave:!1,closeButton:!0,clsPopover:"",clsPopoverContent:"",onPopoverShow:t.noop,onPopoverHide:t.noop,onPopoverCreate:t.noop};t.popoverSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroPopoverSetup<"u"&&t.popoverSetup(globalThis.metroPopoverSetup),t.Component("popover",{init:function(e,i){return this._super(i,e,f,{popover:null,popovered:!1,size:{width:0,height:0},id:null}),this},_create:function(){this.id=Hooks.useId(this.elem),this._createEvents(),this._fireEvent("popover-create",{element:this.element})},_createEvents:function(){let e=this.element,i=this.options,o;switch(i.popoverTrigger){case t.popoverEvents.CLICK:o=t.events.click;break;case t.popoverEvents.FOCUS:o=t.events.focus;break;default:o=t.events.enter}e.on(o,()=>{this.popover!==null||this.popovered===!0||setTimeout(()=>{this.createPopover(),this._fireEvent("popover-show",{popover:this.popover}),i.popoverHide>0&&setTimeout(()=>{this.removePopover()},i.popoverHide)},i.popoverTimeout)}),i.hideOnLeave===!0&&e.on(t.events.leave,()=>{this.removePopover()}),r(globalThis).on(t.events.scroll,()=>{this.popover!==null&&this.setPosition()},{ns:this.id})},setPosition:function(){let e=this.popover,i=this.size,o=this.options,h=this.element;o.popoverPosition===t.position.BOTTOM?(e.addClass("bottom"),e.css({top:h.offset().top-r(globalThis).scrollTop()+h.outerHeight()+o.popoverOffset,left:h.offset().left+h.outerWidth()/2-i.width/2-r(globalThis).scrollLeft()})):o.popoverPosition===t.position.RIGHT?(e.addClass("right"),e.css({top:h.offset().top+h.outerHeight()/2-i.height/2-r(globalThis).scrollTop(),left:h.offset().left+h.outerWidth()-r(globalThis).scrollLeft()+o.popoverOffset})):o.popoverPosition===t.position.LEFT?(e.addClass("left"),e.css({top:h.offset().top+h.outerHeight()/2-i.height/2-r(globalThis).scrollTop(),left:h.offset().left-i.width-r(globalThis).scrollLeft()-o.popoverOffset})):(e.addClass("top"),e.css({top:h.offset().top-r(globalThis).scrollTop()-i.height-o.popoverOffset,left:h.offset().left+h.outerWidth()/2-i.width/2-r(globalThis).scrollLeft()}))},createPopover:function(){let e=this.elem,i=this.element,o=this.options,h,g,_=this.id,C;if(!this.popovered){switch(h=r("<div>").addClass("popover neb").addClass(o.clsPopover),h.attr("id",_),r("<div>").addClass("popover-content").addClass(o.clsPopoverContent).html(o.popoverText).appendTo(h),o.popoverHide===0&&o.closeButton===!0&&(C=r("<button>").addClass("square small popover-close-button").html("&times;").appendTo(h),C.on(t.events.click,()=>{this.removePopover()})),o.popoverPosition){case t.position.TOP:g="neb-s";break;case t.position.BOTTOM:g="neb-n";break;case t.position.RIGHT:g="neb-w";break;case t.position.LEFT:g="neb-e";break}if(h.addClass(g),o.closeButton!==!0&&h.on(t.events.click,()=>{this.removePopover()}),this.popover=h,this.size=t.utils.hiddenElementSize(h),e.tagName==="TD"||e.tagName==="TH"){let S=r("<div/>").css("display","inline-block").html(i.html());i.html(S),i=S}this.setPosition(),h.appendTo(r("body")),this.popovered=!0,this._fireEvent("popover-create",{popover:h})}},removePopover:function(){let e=this.options.onPopoverHide===t.noop?0:300,i=this.popover;this.popovered&&(this._fireEvent("popover-hide",{popover:i}),setTimeout(()=>{i.hide(0,()=>{i.remove(),this.popover=null,this.popovered=!1})},e))},show:function(){let e=this.options;this.popovered!==!0&&setTimeout(()=>{this.createPopover(),this._fireEvent("popover-show",{popover:this.popover}),e.popoverHide>0&&setTimeout(()=>{this.removePopover()},e.popoverHide)},e.popoverTimeout)},hide:function(){this.removePopover()},changeAttribute:function(e){let i=this.element,o=this.options,h=()=>{o.popoverText=i.attr("data-popover-text"),this.popover&&(this.popover.find(".popover-content").html(o.popoverText),this.setPosition())},g=()=>{o.popoverPosition=i.attr("data-popover-position"),this.setPosition()};switch(e){case"data-popover-text":h();break;case"data-popover-position":g();break}},destroy:function(){let e=this.element,i=this.options,o;switch(i.popoverTrigger){case t.popoverEvents.CLICK:o=t.events.click;break;case t.popoverEvents.FOCUS:o=t.events.focus;break;default:o=t.events.enter}return e.off(o),i.hideOnLeave===!0&&e.off(t.events.leave),r(globalThis).off(t.events.scroll,{ns:this.id}),e}})})(Metro,Dom),((t,r)=>{let f={progressDeferred:0,showValue:!1,showLabel:!1,label:"Progress:",value:0,buffer:0,type:"bar",small:!1,segmentSize:10,clsProgress:"",clsBack:"",clsBar:"",clsBuffer:"",clsValue:"",clsLabel:"",clsData:"",onValueChange:t.noop,onBufferChange:t.noop,onComplete:t.noop,onBuffered:t.noop,onProgressCreate:t.noop};t.progressSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroProgressSetup<"u"&&t.progressSetup(globalThis.metroProgressSetup),t.Component("progress",{init:function(e,i){return this._super(i,e,f,{value:0,buffer:0}),this},_create:function(){let e=this.element,i=this.elem,o=this.options;typeof o.type=="string"&&(o.type=o.type.toLowerCase()),e.html("").addClass("progress"),this.component=e.wrap("<div>").addClass("progress-component").addClass(o.clsProgress);function h(){i.innerHTML='<div class="bar"></div>'}function g(){i.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                `}function _(){e.addClass("with-load"),i.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                    <div class="load"></div>
                `}function C(){e.addClass("line")}function S(){e.addClass("segments"),e.append('<div class="bar"></div>');let q=e.width(),Y=Math.ceil(q/(o.segmentSize||10));for(let te=0;te<Y;te++)i.innerHTML+=`<div class="segment" style="width: ${o.segmentSize}px"></div>`}switch(o.type){case"buffer":g();break;case"load":_();break;case"line":C();break;case"segment":S();break;default:h()}o.small===!0&&e.addClass("small"),e.addClass(o.clsBack),e.find(".bar").addClass(o.clsBar),e.find(".buffer").addClass(o.clsBuffer);let A=r("<div>").addClass("progress-data").addClass(o.clsData).insertBefore(e),F=r("<div>").addClass("progress-label").addClass(o.clsLabel).html(o.label).appendTo(A),N=r("<div>").addClass("progress-value").addClass(o.clsLabel).html(o.value).appendTo(A);o.showLabel===!1&&F.hide(),o.showValue===!1&&N.hide(),this.val(o.value),this.buff(o.buffer),this._fireEvent("progress-create",{element:e})},val:function(e){let i=this.element,o=this.component.find(".progress-value");if(e===void 0)return this.value;let h=i.find(".bar");if(h.length===0)return!1;this.value=Number.parseInt(e,10),h.css("width",`${this.value}%`),o.html(`${this.value}%`),this._fireEvent("value-change",{val:this.value}),this.value===100&&this._fireEvent("complete",{val:this.value})},buff:function(e){let i=this.element;if(e===void 0)return this.buffer;let o=i.find(".buffer");if(o.length===0)return!1;this.buffer=Number.parseInt(e,10),o.css("width",`${this.buffer}%`),this._fireEvent("buffer-change",{val:this.buffer}),this.buffer===100&&this._fireEvent("buffered",{val:this.buffer})},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(e){switch(e){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break}},destroy:function(){this.component.remove()}})})(Metro,Dom),((t,r)=>{let f={onRadioButtonCreate:t.noop};t.radioButtonSetup=e=>{f=r.extend({},f,e)},typeof window.metroRadioButtonSetup<"u"&&t.radioButtonSetup(window.metroRadioButtonSetup),t.Component("radio-button",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("radio-buttons-create")},_createStructure:function(){this.element.addClass("radio-button")},_createEvents:function(){let e=this,i=this.element;this.options,i.on("click",".button",function(){let o=r(this);o.hasClass("active")||(i.find(".button").removeClass("active"),o.addClass("active"),e._fireEvent("change",{button:o}))})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={ratingDeferred:0,label:"",static:!1,title:null,value:0,values:null,message:"",stars:5,onColor:null,offColor:null,roundFunc:"round",half:!0,symbol:"★",clsRating:"",clsTitle:"",clsStars:"",clsResult:"",clsLabel:"",onStarClick:t.noop,onRatingCreate:t.noop};t.ratingSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroRatingSetup<"u"&&t.ratingSetup(globalThis.metroRatingSetup),t.Component("rating",{init:function(e,i){return this._super(i,e,f,{value:0,originValue:0,values:[],rate:0,rating:null}),this},_create:function(){let e=this.element,i=this.options,o;if(Number.isNaN(i.value)?i.value=0:i.value=Number.parseFloat(i.value).toFixed(1),i.values!==null)Array.isArray(i.values)?this.values=i.values:typeof i.values=="string"&&(this.values=i.values.toArray());else for(o=1;o<=i.stars;o++)this.values.push(o);this.originValue=i.value,this.value=i.value>0&&i.roundFunc!=="none"?Math[i.roundFunc](i.value):Math.abs(i.value),this._createRating(),this._createEvents(),this._fireEvent("rating-create",{element:e})},_createRating:function(){let e=this.element,i=this.options,o,h,g,_=t.sheet,C=i.static?Math.floor(this.originValue):this.value,S=e.wrap("<div>").addClass(`rating ${e[0].className}`).addClass(i.clsRating),A=Hooks.useId(S[0]);for(e.val(this.value),S.attr("id",e.id()?`rating--${e.id()}`:A),h=r("<ul>").addClass("stars").addClass(i.clsStars).appendTo(S),o=1;o<=i.stars;o++)g=r("<li>").attr("data-symbol",i.symbol).data("value",this.values[o-1]).appendTo(h),o<=C&&g.addClass("on");if(r("<span>").addClass("result").addClass(i.clsResult).appendTo(S).html(i.message),i.offColor!==null&&(i.offColor.includes("var(")||Farbe.Routines.isColor(i.offColor)),i.onColor!==null&&(i.onColor.includes("var(")||Farbe.Routines.isColor(i.onColor))&&(t.utils.addCssRule(_,`#${A} .stars:hover li`,`color: ${i.onColor};`),t.utils.addCssRule(_,`#${A} .stars li.on`,`color: ${i.onColor};`),t.utils.addCssRule(_,`#${A} .stars li.half::after`,`color: ${i.onColor};`)),i.title!==null){let F=r("<span>").addClass("title").addClass(i.clsTitle).html(i.title);S.prepend(F)}if(i.static===!0&&(S.addClass("static"),i.half===!0)){let F=Math.round(this.originValue%1*10);F>0&&F<=9&&S.find(".stars li.on").last().next("li").addClass(`half half-${F*10}`)}if(e[0].className="",i.label){let F=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(S);if(e.attr("id"))F.attr("for",e.attr("id"));else{let N=Hooks.useId(e[0]);F.attr("for",N),e.attr("id",N)}e.attr("dir")==="rtl"&&F.addClass("rtl")}e.is(":disabled")?this.disable():this.enable(),this.rating=S},_createEvents:function(){let e=this,i=this.element,o=this.options;this.rating.on(t.events.click,".stars li",function(){if(o.static===!0)return;let h=r(this),g=h.data("value");h.addClass("scale"),setTimeout(()=>{h.removeClass("scale")},300),i.val(g).trigger("change"),h.addClass("on"),h.prevAll().addClass("on"),h.nextAll().removeClass("on"),e._fireEvent("star-click",{value:g,star:h[0]})})},val:function(e){let i=this,o=this.element,h=this.options,g=this.rating;if(e===void 0)return this.value;this.value=e>0?Math[h.roundFunc](e):0,o.val(this.value).trigger("change");let _=g.find(".stars li").removeClass("on");return r.each(_,function(){let C=r(this);C.data("value")<=i.value&&C.addClass("on")}),this},msg:function(e){let i=this.rating;if(e!==void 0)return i.find(".result").html(e),this},static:function(e){let i=this.options,o=this.rating;i.static=e,e===!0?o.addClass("static"):o.removeClass("static")},changeAttributeStatic:function(){let e=this.element,i=JSON.parse(e.attr("data-static"))===!0;this.static(i)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,i){switch(e){case"value":case"data-value":this.val(i);break;case"disabled":this.toggleState();break;case"data-message":this.msg(i);break;case"data-static":this.changeAttributeStatic();break}},destroy:function(){let e=this.options,i=this.rating;i.off(t.events.click,".stars li"),e.label&&i.prev("label").remove(),i.remove()}})})(Metro,Dom),((t,r)=>{let f={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,sort:"",limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",sortRules:"",showSearch:!0,showOrder:!0,showRowsCount:!0,template:"",clsBody:"",clsItem:"",clsPagination:"",clsSearchBlock:"",clsOrderBlock:"",clsRowsCountBlock:"",onLoad:e=>e,onDrawRow:t.noop,onDrawCell:t.noop,onDatasetCreate:t.noop};t.remoteDatasetSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroRemoteDatasetSetup<"u"&&t.remoteDatasetSetup(globalThis.metroRemoteDatasetSetup),t.Component("remote-dataset",{init:function(e,i){return this._super(i,e,f,{data:null,total:0}),this},_create:function(){let e=this.options;this.offset=e.offset,this.rowSteps=e.rowsSteps.toArray(","),this.limit=+e.rows,this.url=e.url,this.search="";let[i,o]=e.sort.toArray(":");this.sortField=i,this.sortOrder=o,this.template=t.utils.exec(e.template),this.sortRules=e.sortRules.toArray(",").filter(h=>h).map(h=>h.toArray(":")),this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("dataset-create")},_loadData:async function(e=!1){let i=this.options;if(!this.url)return;let o=`${this.url}?${i.limitKey}=${this.limit}&${i.offsetKey}=${this.offset}`;this.sortField&&(o+=`&${i.sortKey}=${this.sortField}&${i.orderKey}=${this.sortOrder}`),this.search&&(o+=`&${i.searchKey}=${this.search}`);let h=await fetch(o,{method:i.method});h.ok!==!1&&(this.data=t.utils.exec(i.onLoad,[await h.json()],this),this._createEntries(e))},_createStructure:function(){let e=this.element,i=this.options,o=r("<div>").addClass("dataset-entry");e.addClass("remote-dataset"),e.append(o),o.html(`
                <div class="service-block">
                    <div class="search-block ${i.clsSearchBlock} ${i.showSearch?"":"hide-block"}">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                   
                    <div class="order-block ${i.clsOrderBlock} ${this.sortRules.length===0||i.showOrder===!1?"hide-block":""}">
                        <select name="sort-order" data-role="select" data-filter="false">
                            ${this.sortRules.map(h=>`
                                <option value="${h[0]}:${h[1]}" 
                                        ${h[0]===this.sortField&&h[1]===this.sortOrder?"selected":""}
                                        data-icon="${h[3]?h[3]:""}"
                                >
                                    ${h[2]}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                   
                    <div class="count-block ${i.clsRowsCountBlock} ${i.showRowsCount?"":"hide-block"}">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(h=>`
                                <option value="${h}" ${+h===this.rowsCount?"selected":""}>
                                    ${h}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                </div>
                <div class="dataset-body"></div>
            `),this.body=o.find(".dataset-body").addClass(i.clsBody),this.loadMore=r("<div>").addClass("dataset-load-more"),this.loadMore.html(`
                <button class="button large cycle link load-more-button">
                    <span class="icon">⟳</span>
                    ${this.strings.label_load_more}
                </button>
            `).appendTo(e),this.pagination=r("<div>").addClass("dataset-pagination"),e.append(this.pagination)},_createEvents:function(){let e=this,i=this.element,o=this.options;i.on("click",".page-link",function(){let g=r(this).parent();if(g.hasClass("service")){g.hasClass("prev-page")?(e.offset-=e.limit,e.offset<0&&(e.offset=0)):e.offset+=e.limit,e._loadData().then(()=>{});return}e.offset=r(this).data("page")*e.limit-e.limit,e._loadData().then(()=>{})});let h=Hooks.useDebounce(()=>{let g=i.find("input[name=search]").val().trim();if(g===""){this.search="",this.url=o.url,this._loadData().then(()=>{});return}g.length<3||(this.search=g,this.url=o.searchUrl,this._loadData().then(()=>{}))},300);i.on(t.events.inputchange,"input[name=search]",h),i.on("change","select[name=rows-count]",function(){e.limit=+r(this).val(),e.offset=0,e._loadData().then(()=>{})}),i.on("change","select[name=sort-order]",function(){let[g,_]=r(this).val().split(":");e.url=o.url,e.sortField=g,e.sortOrder=_,e.offset=0,e._loadData().then(()=>{})}),i.on("click",".load-more-button",()=>{e.offset+=e.limit,e._loadData(!0).then(()=>{})})},_createEntries:function(e=!1){let i=this.options;if(!this.data)return;let o=t.utils.isValue(this.data[i.totalKey]);this.entries=this.data[i.dataKey],this.total=this.data[i.totalKey],e===!1&&this.body.clear(),this.entries.forEach((h,g)=>{let _=r("<div>").addClass("dataset-item").addClass(i.clsItem).addClass(g%2===0?"even":"odd"),C=t.utils.exec(i.template,[h],h);_.html(C).appendTo(this.body)}),o&&!i.shortPagination?t.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:i.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},setup:e=>{},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,fields:"",sortableFields:"",colSize:"",sort:"",sortOrder:"asc",captions:null,limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",clsTable:"",clsPagination:"",onLoad:e=>e,onDrawRow:t.noop,onDrawCell:t.noop,onDrawHeadCell:t.noop,onTableCreate:t.noop};t.remoteTableSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroRemoteTableSetup<"u"&&t.remoteTableSetup(globalThis.metroRemoteTableSetup),t.Component("remote-table",{init:function(e,i){return this._super(i,e,f,{data:null,total:0}),this},_create:function(){let e=this.options;this.offset=e.offset,this.fields=e.fields.toArray(","),this.captions=e.captions?e.captions.toArray(","):null,this.rowSteps=e.rowsSteps.toArray(","),this.colSize=e.colSize.toArray(","),this.limit=+e.rows,this.url=e.url,this.search="",this.sortField=e.sort,this.sortOrder=e.sortOrder,this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("table-create")},_loadData:async function(){let e=this.options;if(!this.url)return;let i=`${this.url}?${e.limitKey}=${this.limit}&${e.offsetKey}=${this.offset}`;this.sortField&&(i+=`&${e.sortKey}=${this.sortField}&${e.orderKey}=${this.sortOrder}`),this.search&&(i+=`&${e.searchKey}=${this.search}`);let o=await fetch(i,{method:e.method});o.ok!==!1&&(this.data=t.utils.exec(e.onLoad,[await o.json()],this),this._createEntries())},_createStructure:function(){let e=this.element,i=this.options,o=r("<div>").addClass("table-entry");e.addClass("table-component remote-table"),e.append(o),o.html(`
                <div class="search-block row">
                    <div class="cell-sm-10">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                    <div class="cell-sm-2">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(h=>`<option value="${h}" ${+h===this.rowsCount?"selected":""}>${h}</option>`).join("")}
                        </select>
                    </div>
                </div>
                <table class="table ${i.clsTable}">
                    <caption>${i.caption}</caption>
                    <thead></thead>
                    <tbody></tbody>
                </table>
            `),this.header=o.find("thead"),this.body=o.find("tbody"),this.pagination=r("<div>").addClass("table-pagination"),e.append(this.pagination)},_createEvents:function(){let e=this,i=this.element,o=this.options;i.on("click",".page-link",function(){let g=r(this).parent();if(g.hasClass("service")){g.hasClass("prev-page")?(e.offset-=e.limit,e.offset<0&&(e.offset=0)):e.offset+=e.limit,e._loadData().then(()=>{});return}e.offset=r(this).data("page")*e.limit-e.limit,e._loadData().then(()=>{})});let h=Hooks.useDebounce(()=>{let g=i.find("input[name=search]").val().trim();if(g===""){this.search="",this.url=o.url,this._loadData().then(()=>{});return}g.length<3||(this.search=g,this.url=o.searchUrl,this._loadData().then(()=>{}))},300);i.on(t.events.inputchange,"input[name=search]",h),i.on("change","select[name=rows-count]",function(){e.limit=+r(this).val(),e.offset=0,e._loadData().then(()=>{})}),i.on("click",".sortable-column",function(){let g=r(this).attr("data-field");e.sortField===g?e.sortOrder=e.sortOrder==="asc"?"desc":"asc":(e.sortField=g,e.sortOrder="asc"),e._loadData().then(()=>{})})},_createEntries:function(){var g;let e=this.options;if(!this.data)return;let i=t.utils.isValue(this.data[e.totalKey]);this.entries=this.data[e.dataKey],this.total=this.data[e.totalKey],this.header.clear(),this.body.clear();let o=r("<tr>").addClass("table-header").appendTo(this.header),h=0;for(let _ of Object.keys(this.entries[0])){if(this.fields.length&&!this.fields.includes(_))continue;let C=this.captions?this.captions[h]:_,S=r("<th>").html(C).attr("data-field",_);(g=e.sortableFields)!=null&&g.includes(_)&&(S.addClass("sortable-column"),this.sortField===_&&S.addClass(`sort-${this.sortOrder}`)),S.appendTo(o).addClass(`head-cell-${_}`),this.colSize[h]&&S.css("width",this.colSize[h]),t.utils.exec(e.onDrawHeadCell,[S[0],C,_,h,e.sortableFields.includes(_),this.sortField===_,this.sortOrder],this),h++}this.entries.forEach((_,C)=>{let S=r("<tr>").addClass("table-row");this.body.append(S),t.utils.exec(e.onDrawRow,[S,_,C],this);let A=0;for(let F in _){if(this.fields.length&&!this.fields.includes(F))continue;let N=r("<td>").attr("data-label",this.captions?this.captions[A]:F).addClass(`data-cell-${F}`).html(_[F]);S.append(N),t.utils.exec(e.onDrawCell,[N[0],_[F],F,_,C],this),A++}}),i&&!e.shortPagination?t.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:e.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={resizableDeferred:0,canResize:!0,resizeElement:".resize-element",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,preserveRatio:!1,onResizeStart:t.noop,onResizeStop:t.noop,onResize:t.noop,onResizableCreate:t.noop};t.resizableSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroResizableSetup<"u"&&t.resizableSetup(globalThis.metroResizableSetup),t.Component("resizable",{init:function(e,i){return this._super(i,e,f,{resizer:null,id:null}),this},_create:function(){this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("resizable-create")},_createStructure:function(){let e=this.element,i=this.options;e.data("canResize",!0),e.addClass("resizable-element"),t.utils.isValue(i.resizeElement)&&e.find(i.resizeElement).length>0?this.resizer=e.find(i.resizeElement):this.resizer=r("<span>").addClass("resize-element").appendTo(e),e.data("canResize",i.canResize)},_createEvents:function(){let e=this.element,i=this.options;this.resizer.on(t.events.start,o=>{if(e.data("canResize")===!1)return;let h=t.utils.pageXY(o),g=Number.parseInt(e.outerWidth()),_=Number.parseInt(e.outerHeight()),C={width:g,height:_};e.addClass("stop-pointer"),this._fireEvent("resize-start",{size:C}),r(document).on(t.events.move,S=>{let A=t.utils.pageXY(S),F={width:g+A.x-h.x,height:_+A.y-h.y};if(i.maxWidth>0&&F.width>i.maxWidth||i.minWidth>0&&F.width<i.minWidth||i.maxHeight>0&&F.height>i.maxHeight||i.minHeight>0&&F.height<i.minHeight)return!0;e.css(F),this._fireEvent("resize",{size:F})},{ns:this.id}),r(document).on(t.events.stop,()=>{e.removeClass("stop-pointer"),r(document).off(t.events.move,{ns:this.id}),r(document).off(t.events.stop,{ns:this.id});let S={width:Number.parseInt(e.outerWidth()),height:Number.parseInt(e.outerHeight())};this._fireEvent("resize-stop",{size:S})},{ns:this.id}),o.preventDefault(),o.stopPropagation()})},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(e){let i=this.element,o=this.options,h=()=>{o.canResize=JSON.parse(i.attr("data-can-resize"))===!0};switch(e){case"data-can-resize":h();break}},destroy:function(){return this.resizer.off(t.events.start),this.element}})})(Metro,Dom),((t,r)=>{let f={resizerDeferred:0,onMediaPoint:t.noop,onMediaPointEnter:t.noop,onMediaPointLeave:t.noop,onWindowResize:t.noop,onElementResize:t.noop,onResizerCreate:t.noop};t.resizerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroResizerSetup<"u"&&t.resizerSetup(globalThis.metroResizerSetup),t.Component("resizer",{init:function(e,i){return this._super(i,e,f,{size:{width:0,height:0},media:globalThis.METRO_MEDIA,id:null}),this},_create:function(){let e=this.element;this.id=Hooks.useId(this.elem),this.size={width:e.width(),height:e.height()},this._createStructure(),this._createEvents(),this._fireEvent("resizer-create",{element:e})},_createStructure:()=>{},_createEvents:function(){let e=this.element,i=r.window();i.on("resize",()=>{let o=i.width(),h=i.height(),g=e.width(),_=e.height(),C=this.size,S;this._fireEvent("window-resize",{width:o,height:h,media:globalThis.METRO_MEDIA}),(this.size.width!==g||this.size.height!==_)&&(this.size={width:g,height:_},this._fireEvent("element-resize",{width:g,height:_,oldSize:C,media:globalThis.METRO_MEDIA})),this.media.length!==globalThis.METRO_MEDIA.length&&(this.media.length>globalThis.METRO_MEDIA.length?(S=this.media.filter(A=>!globalThis.METRO_MEDIA.includes(A)),this._fireEvent("media-point-leave",{point:S,media:globalThis.METRO_MEDIA})):(S=globalThis.METRO_MEDIA.filter(A=>!this.media.includes(A)),this._fireEvent("media-point-enter",{point:S,media:globalThis.METRO_MEDIA})),this.media=globalThis.METRO_MEDIA,this._fireEvent("media-point",{point:S,media:globalThis.METRO_MEDIA}))},{ns:this.id})},changeAttribute:()=>{},destroy:function(){r(globalThis).off("resize",{ns:this.id})}})})(Metro,Dom),((t,r)=>{let f={ribbonMenuDeferred:0,onStatic:t.noop,onBeforeTab:t.noop_true,onTab:t.noop,onRibbonMenuCreate:t.noop};t.ribbonMenuSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroRibbonMenuSetup<"u"&&t.ribbonMenuSetup(globalThis.metroRibbonMenuSetup),t.Component("ribbon-menu",{init:function(e,i){return this._super(i,e,f),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("ribbon-menu-create",{element:e})},_createStructure:function(){let e=this.element;e.addClass("ribbon-menu");let i=e.find(".ribbon-toggle-group");r.each(i,function(){let g=r(this);g.buttongroup({clsActive:"active"});let _=0,C=g.find(".ribbon-icon-button");r.each(C,function(){let S=r(this).outerWidth(!0);S>_&&(_=S)}),g.css("width",_*Math.ceil(C.length/3)+4)}),e.find(".section").addClass("non-active");let o=e.find(".tabs-holder li:not(.static)"),h=e.find(".tabs-holder li.active");h.length>0?this.open(r(h[0])):o.length>0&&this.open(r(o[0])),setTimeout(()=>{r(window).trigger("resize")})},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.find(".content-holder").get(0);i.on(t.events.click,".tabs-holder li a",function(g){let _=r(this),C=r(this).parent("li");C.hasClass("static")?o.onStatic===t.noop&&_.attr("href")!==void 0?document.location.href=_.attr("href"):e._fireEvent("static",{tab:C[0]}):t.utils.exec(o.onBeforeTab,[C[0]],i[0])===!0&&e.open(C[0]),r(window).trigger("resize"),g.preventDefault()}),window.addEventListener("resize",()=>{h.clientWidth<h.scrollWidth?r(h).addClass("scrollable"):r(h).removeClass("scrollable")})},open:function(e){let i=this.element,o=r(e),h=i.find(".tabs-holder li"),g=i.find(".content-holder .section"),_=o.children("a").attr("href"),C=_!=="#"?i.find(_):null;g.addClass("non-active"),h.removeClass("active"),o.addClass("active"),g.removeClass("active"),C&&C.addClass("active").removeClass("non-active"),this._fireEvent("tab",{tab:o[0]})},changeAttribute:()=>{},destroy:function(){let e=this.element;e.off(t.events.click,".tabs-holder li a"),e.remove()}})})(Metro,Dom),((t,r)=>{let f={rippleDeferred:0,rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:t.noop};t.rippleSetup=i=>{f=r.extend({},f,i)},typeof globalThis.metroRippleSetup<"u"&&t.rippleSetup(globalThis.metroRippleSetup);let e=(i,o="#fff",h=.4,g=!1)=>{let _=r(i),C=t.utils.rect(_[0]),S,A;if(_.length===0)return;_.css("position")==="static"&&_.css("position","relative"),_.css({overflow:"hidden"}),r(".ripple").remove();let F=Math.max(_.outerWidth(),_.outerHeight()),N=r("<span class='ripple'></span>").css({width:F,height:F});_.prepend(N),g?(S=g.pageX-_.offset().left-N.width()/2,A=g.pageY-_.offset().top-N.height()/2):(S=C.width/2-N.width()/2,A=C.height/2-N.height()/2),N.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(o),h),width:F,height:F,top:`${A}px`,left:`${S}px`}).addClass("rippleEffect"),setTimeout(()=>{N.remove()},400)};t.Component("ripple",{init:function(i,o){return this._super(o,i,f),this},_create:function(){let i=this.element,o=this.options,h=o.rippleTarget==="default"?null:o.rippleTarget;i.on(t.events.click,h,function(g){e(this,o.rippleColor,o.rippleAlpha,g)}),this._fireEvent("riopple-create",{element:i})},changeAttribute:function(i){let o=this.element,h=this.options;function g(){let C=o.attr("data-ripple-color");Farbe.Routines.isColor(C)&&(h.rippleColor=C)}function _(){let C=+o.attr("data-ripple-alpha");Number.isNaN(C)||(h.rippleColor=C)}switch(i){case"data-ripple-color":g();break;case"data-ripple-alpha":_();break}},destroy:function(){let i=this.element,o=this.options,h=o.rippleTarget==="default"?null:o.rippleTarget;i.off(t.events.click,h)}}),t.ripple=e})(Metro,Dom),((t,r)=>{let f={menuScrollbar:!1,sidebarDeferred:0,position:"left",shift:null,staticShift:null,toggle:null,duration:300,static:null,closeOutside:!0,onOpen:t.noop,onClose:t.noop,onToggle:t.noop,onStaticSet:t.noop,onStaticLoss:t.noop,onSidebarCreate:t.noop};t.sidebarSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroSidebarSetup<"u"&&t.sidebarSetup(globalThis.metroSidebarSetup),t.Component("sidebar",{init:function(e,i){return this._super(i,e,f,{toggle_element:null,id:null}),this},_create:function(){let e=this.element;this.id=e.attr("id")||Hooks.useId(this.elem),this._createStructure(),this._createEvents(),r(globalThis).resize(),this._checkStatic(),this._fireEvent("sidebar-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o=e.find(".sidebar-header"),h=t.sheet,g=e.find(".sidebar-menu"),_=e.outerWidth();e.addClass("sidebar").addClass(`on-${i.position}`),i.menuScrollbar===!1&&g.addClass("hide-scroll"),i.toggle!==null&&r(i.toggle).length>0&&(this.toggle_element=r(i.toggle)),o.length>0&&o.data("image")&&o.css({backgroundImage:`url(${o.data("image")})`}),i.static!==null&&i.staticShift!==null&&(i.position==="left"?t.utils.addCssRule(h,`@media screen and ${t.media_queries[i.static.toUpperCase()]}`,`${i.staticShift}{margin-left: ${_}px; width: calc(100% - ${_}px);}`):t.utils.addCssRule(h,`@media screen and ${t.media_queries[i.static.toUpperCase()]}`,`${i.staticShift}{margin-right: ${_}px; width: calc(100% - ${_}px);}`))},_createEvents:function(){let e=this.element,i=this.options,o=this.toggle_element;o!==null?o.on(t.events.click,h=>{this.toggle(),h.stopPropagation()}):i.toggle&&r.document().on("click",i.toggle,h=>{this.toggle(),h.stopPropagation()}),i.static!==null&&t.media_modes.includes(i.static)&&r(globalThis).on(t.events.resize,()=>{this._checkStatic()},{ns:this.id}),e.on(t.events.click,".sidebar-menu .js-sidebar-close",h=>{this.close(),h.stopPropagation()}),e.on(t.events.click,h=>{h.stopPropagation()}),r(document).on(t.events.click,()=>{i.closeOutside===!0&&this.isOpen()&&this.close()})},_checkStatic:function(){let e=this.element,i=this.options;t.utils.mediaExist(i.static)&&!e.hasClass("static")&&(e.addClass("static"),e.data("opened",!1).removeClass("open"),i.shift!==null&&r.each(i.shift.split(","),function(){r(this).animate({draw:{left:0},dur:i.duration})}),this._fireEvent("static-set")),t.utils.mediaExist(i.static)||(e.removeClass("static"),this._fireEvent("static-loss"))},isOpen:function(){return this.element.data("opened")===!0},open:function(){let e=this.element,i=this.options;e.hasClass("static")||(e.data("opened",!0).addClass("open"),i.shift!==null&&r(i.shift).animate({draw:{left:e.outerWidth()},dur:i.duration}),this._fireEvent("open"))},close:function(){let e=this.element,i=this.options;e.hasClass("static")||(e.data("opened",!1).removeClass("open"),i.shift!==null&&r(i.shift).animate({draw:{left:0},dur:i.duration}),this._fireEvent("close"))},toggle:function(){this.isOpen()?this.close():this.open(),this._fireEvent("toggle")},changeAttribute:()=>{},destroy:function(){let e=this.element,i=this.options,o=this.toggle_element;return o!==null&&o.off(t.events.click),i.static!==null&&t.media_modes.includes(i.static)&&r(globalThis).off(t.events.resize,{ns:this.id}),e.off(t.events.click,".js-sidebar-close"),e}}),t.sidebar={isSidebar:e=>t.utils.isMetroObject(e,"sidebar"),open:function(e){this.isSidebar(e)&&t.getPlugin(e,"sidebar").open()},close:function(e){this.isSidebar(e)&&t.getPlugin(e,"sidebar").close()},toggle:function(e){this.isSidebar(e)&&t.getPlugin(e,"sidebar").toggle()},isOpen:function(e){if(this.isSidebar(e))return t.getPlugin(e,"sidebar").isOpen()}}})(Metro,Dom),((t,r)=>{let f={compacted:!1,toggle:null,expandPoint:"fs",onMenuItemClick:t.noop,onCollapse:t.noop,onExpand:t.noop,onSidenavCreate:t.noop};t.sidenavCounterSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroSidenavCounterSetup<"u"&&t.sidenavCounterSetup(globalThis.metroSidenavCounterSetup),t.Component("sidenav-counter",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("sidenav-create")},_createStructure:function(){let e=this.element,i=this.options;e.addClass("sidenav-counter"),t.utils.mediaExist(i.expandPoint)&&e.addClass("expanded"),t.storage.getItem("sidenav-counter:compacted")===!0&&(e.removeClass("expanded"),e.addClass("handmade"))},_createEvents:function(){let e=this.element,i=this.options;i.toggle&&r(i.toggle).on("click",()=>{e.toggleClass("expanded"),e.toggleClass("handmade"),t.storage.setItem("sidenav-counter:compacted",!e.hasClass("expanded"))}),r(globalThis).on(t.events.resize,()=>{e.hasClass("handmade")||(t.utils.mediaExist(i.expandPoint)?e.addClass("expanded"):e.removeClass("expanded"))},{ns:this.id})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={sorterDeferred:0,thousandSeparator:",",decimalSeparator:",",sortTarget:null,sortSource:null,sortDir:"asc",sortStart:!0,saveInitial:!0,onSortStart:t.noop,onSortStop:t.noop,onSortItemSwitch:t.noop,onSorterCreate:t.noop};t.sorterSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroSorterSetup<"u"&&t.sorterSetup(globalThis.metroSorterSetup),t.Component("sorter",{init:function(e,i){return this._super(i,e,f,{initial:[]}),this},_create:function(){let e=this.element;this._createStructure(),this._fireEvent("sorter-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options;i.sortTarget===null&&(i.sortTarget=e.children()[0].tagName),this.initial=e.find(i.sortTarget).get(),i.sortStart===!0&&this.sort(i.sortDir)},_getItemContent:function(e){let i=this.options,o,h,g,_;if(t.utils.isValue(i.sortSource)){if(o="",h=e.getElementsByClassName(i.sortSource),h.length>0)for(g=0;g<h.length;g++)o+=h[g].textContent;_=h[0].dataset.format}else o=e.textContent,_=e.dataset.format;if(o=`${o}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),t.utils.isValue(_))switch(["number","int","float","money"].indexOf(_)!==-1&&(i.thousandSeparator!==","||i.decimalSeparator!==".")&&(o=t.utils.parseNumber(o,i.thousandSeparator,i.decimalSeparator)),_){case"date":o=t.utils.isDate(o)?new Date(o):"";break;case"number":o=Number(o);break;case"int":o=Number.parseInt(o);break;case"float":o=Number.parseFloat(o);break;case"money":o=t.utils.parseMoney(o);break;case"card":o=t.utils.parseCard(o);break;case"phone":o=t.utils.parsePhone(o);break}return o},sort:function(e){let i=this.element,o=this.options,h,g=t.utils.elementId("temp"),_;e&&(o.sortDir=e),h=i.find(o.sortTarget).get(),h.length!==0&&(_=r("<div>").attr("id",g).insertBefore(r(i.find(o.sortTarget)[0])),this._fireEvent("sort-start",{items:h}),h.sort((C,S)=>{let A=this._getItemContent(C),F=this._getItemContent(S),N=0;return A<F&&(N=-1),A>F&&(N=1),N!==0&&this._fireEvent("sort-item-switch",{a:C,b:S,result:N}),N}),o.sortDir==="desc"&&h.reverse(),i.find(o.sortTarget).remove(),r.each(h,function(){let C=r(this);C.insertAfter(_),_=C}),r(`#${g}`).remove(),this._fireEvent("sort-stop",{items:h}))},reset:function(){let e=this.element,i=this.options,o=t.utils.elementId("sorter"),h,g=this.initial;g.length!==0&&(h=r("<div>").attr("id",o).insertBefore(r(e.find(i.sortTarget)[0])),e.find(i.sortTarget).remove(),r.each(g,function(){let _=r(this);_.insertAfter(h),h=_}),r(`#${o}`).remove())},changeAttribute:function(e){let i=this.element,o=this.options,h=()=>{let _=i.attr("data-sort-dir").trim();_!==""&&(o.sortDir=_,this.sort())},g=()=>{let _=i.attr("data-sort-content").trim();_!==""&&(o.sortContent=_,this.sort())};switch(e){case"data-sort-dir":h();break;case"data-sort-content":g();break}},destroy:function(){return this.element}}),t.sorter={create:(e,i)=>t.utils.$()(e).sorter(i),isSorter:e=>t.utils.isMetroObject(e,"sorter"),sort:function(e,i="asc"){if(!this.isSorter(e))return!1;t.getPlugin(e,"sorter").sort(i)},reset:function(e){if(!this.isSorter(e))return!1;t.getPlugin(e,"sorter").reset()}}})(Metro,Dom),((t,r)=>{let f=e=>new f.init(e);f.prototype={setKey:function(e){this.key=e},getKey:function(){return this.key},setItem:function(e,i){this.storage.setItem(`${this.key}:${e}`,JSON.stringify(i))},getItem:function(e,i,o){let h,g;g=this.storage.getItem(`${this.key}:${e}`);try{h=JSON.parse(g,o)}catch{h=null}return t.utils.nvl(h,i)},getItemPart:function(e,i,o,h){let g,_=this.getItem(e,o,h),C=i.split("->");for(g=0;g<C.length;g++)_=_[C[g]];return _},delItem:function(e){this.storage.removeItem(`${this.key}:${e}`)},size:function(e){let i;switch(e){case"m":case"M":{i=1024*1024;break}case"k":case"K":{i=1024;break}default:i=1}return JSON.stringify(this.storage).length/i}},f.init=function(e){return this.key="",this.storage=e||globalThis.localStorage,this},f.init.prototype=f.prototype,t.storage=f(globalThis.localStorage),t.session=f(globalThis.sessionStorage)})(Metro,Dom),((t,r)=>{let f={VERTICAL:"vertical",HORIZONTAL:"horizontal"};t.storage;let e={splitterDeferred:0,split:f.VERTICAL,splitSizes:null,gutterSize:5,gutterStyle:"default",minSizes:null,children:"*",gutterClick:"expand",saveState:!1,noResize:!1,onResizeStart:t.noop,onResizeStop:t.noop,onResizeSplit:t.noop,onResizeWindow:t.noop,onSplitterCreate:t.noop};t.splitterSetup=i=>{e=r.extend({},e,i)},typeof globalThis.metroSplitterSetup<"u"&&t.splitterSetup(globalThis.metroSplitterSetup),t.Component("splitter",{init:function(i,o){return this._super(o,i,e,{storage:t.storage,storageKey:"SPLITTER:",id:null}),this},_create:function(){let i=this.element;this.id=Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("splitter-create",{element:i})},_createStructure:function(){let i=this.element,o=this.options,h=i.children(o.children).addClass("split-block"),g,_=[],C=o.split===f.HORIZONTAL?"height":"width";for(i.addClass("splitter"),i.addClass(o.split.toLowerCase()===f.VERTICAL?"vertical":"horizontal"),o.gutterStyle!=="default"&&i.addClass(`gutter-style-${o.gutterStyle}`),o.noResize===!0&&i.addClass("static-size"),g=0;g<h.length-1;g++)r("<div>").addClass("gutter").css(C,o.gutterSize).insertAfter(r(h[g]));if(this._setSize(),t.utils.isValue(o.minSizes))if(`${o.minSizes}`.includes(","))for(_=o.minSizes.toArray(),g=0;g<_.length;g++)r(h[g]).data("min-size",_[g]),h[g].style.setProperty(`min-${C}`,`${_[g]}`.includes("%")?_[g]:`${`${_[g]}`.replace("px","")}px`,"important");else r.each(h,function(){this.style.setProperty(`min-${C}`,`${o.minSizes}`.includes("%")?o.minSizes:`${`${o.minSizes}`.replace("px","")}px`,"important")});o.saveState&&this.storage!==null&&this._getSize()},_setSize:function(){let i=this.element,o=this.options,h,g,_=i.children(".split-block"),C=i.width();if(h=i.children(".gutter"),!t.utils.isValue(o.splitSizes))_.css({flexBasis:`calc(${100/_.length}% - ${h.length*o.gutterSize}px)`});else{g=`${o.splitSizes}`.toArray();let S=100,A=0;for(;A<g.length;A++){let F=g[A];F.includes("%")?F=Number.parseInt(F):F=+F*100/C,S-=F,r(_[A]).css({flexBasis:`calc(${F}% - ${h.length*o.gutterSize}px)`})}for(;A<_.length;A++)r(_[A]).css({flexBasis:`calc(${S/(_.length-A)}% - ${h.length*o.gutterSize}px)`})}},_createEvents:function(){let i=this,o=this.element,h=this.options,g=o.children(".gutter");g.on(t.events.startAll,function(_){if(h.noResize===!0)return!1;let C=h.split===f.VERTICAL?o.width():o.height(),S=r(this),A=S.prev(".split-block"),F=S.next(".split-block"),N=100*(h.split===f.VERTICAL?A.outerWidth(!0):A.outerHeight(!0))/C,q=100*(h.split===f.VERTICAL?F.outerWidth(!0):F.outerHeight(!0))/C,Y=t.utils.getCursorPosition(o[0],_);S.addClass("active"),A.addClass("stop-pointer"),F.addClass("stop-pointer"),i._fireEvent("resize-start",{pos:Y,gutter:S[0],prevBlock:A[0],nextBlock:F[0]}),r(globalThis).on(t.events.moveAll,te=>{let Ae=t.utils.getCursorPosition(o[0],te),He;h.split===f.VERTICAL?He=Ae.x*100/C-Y.x*100/C:He=Ae.y*100/C-Y.y*100/C,A.css("flex-basis",`calc(${N+He}% - ${g.length*h.gutterSize}px)`),F.css("flex-basis",`calc(${q-He}% - ${g.length*h.gutterSize}px)`),i._fireEvent("resize-split",{pos:Ae,gutter:S[0],prevBlock:A[0],nextBlock:F[0]})},{ns:i.id}),r(globalThis).on(t.events.stopAll,te=>{A.removeClass("stop-pointer"),F.removeClass("stop-pointer"),i._saveSize(),S.removeClass("active"),r(globalThis).off(t.events.moveAll,{ns:i.id}),r(globalThis).off(t.events.stopAll,{ns:i.id});let Ae=t.utils.getCursorPosition(o[0],te);i._fireEvent("resize-stop",{pos:Ae,gutter:S[0],prevBlock:A[0],nextBlock:F[0]})},{ns:i.id})},{passive:!0}),r(globalThis).on(t.events.resize,()=>{let _=o.children(".gutter"),C=_.prev(".split-block"),S=_.next(".split-block");i._fireEvent("resize-window",{prevBlock:C[0],nextBlock:S[0]})},{ns:i.id})},_saveSize:function(){let i=this.element,o=this.options,h=this.storage,g=[],_=i.attr("id")||this.id;console.log(h),o.saveState===!0&&h!==null&&(r.each(i.children(".split-block"),function(){let C=r(this);g.push(C.css("flex-basis"))}),h&&h.setItem(this.storageKey+_,g))},_getSize:function(){let i=this.element,o=this.options,h=this.storage,g=[],_=i.attr("id")||this.id;o.saveState===!0&&h!==null&&(g=h.getItem(this.storageKey+_),r.each(i.children(".split-block"),(C,S)=>{let A=r(S);t.utils.isValue(g)&&t.utils.isValue(g[C])&&A.css("flex-basis",g[C])}))},size:function(i){let o=this.options;return t.utils.isValue(i)&&(o.splitSizes=i,this._setSize()),this},changeAttribute:function(i){let o=this,h=this.element;function g(){let _=h.attr("data-split-sizes");o.size(_)}i==="data-split-sizes"&&g()},destroy:function(){let i=this.element;return i.children(".gutter").off(t.events.start),i.remove()}})})(Metro,Dom),((t,r)=>{let f={stepperDeferred:0,view:t.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:"",clsStep:"",clsComplete:"",clsCurrent:"",onStep:t.noop,onStepClick:t.noop,onStepperCreate:t.noop};t.stepperSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroStepperSetup<"u"&&t.stepperSetup(globalThis.metroStepperSetup),t.Component("stepper",{init:function(e,i){return this._super(i,e,f,{current:0}),this},_create:function(){let e=this.element,i=this.options;i.step<=0&&(i.step=1),this._createStepper(),this._createEvents(),this._fireEvent("stepper-create",{element:e})},_createStepper:function(){let e=this.element,i=this.options,o;for(e.addClass("stepper").addClass(i.view).addClass(i.clsStepper),o=1;o<=i.steps;o++)r("<span>").addClass("step").addClass(i.clsStep).data("step",o).html(`<span>${o}</span>`).appendTo(e);this.current=1,this.toStep(i.step)},_createEvents:function(){let e=this,i=this.element,o=this.options;i.on(t.events.click,".step",function(){let h=r(this).data("step");o.stepClick===!0&&(e.toStep(h),e._fireEvent("step-click",{step:h}))})},next:function(){let e=this.element.find(".step");this.current+1>e.length||(this.current++,this.toStep(this.current))},prev:function(){this.current-1!==0&&(this.current--,this.toStep(this.current))},last:function(){let e=this.element;this.toStep(e.find(".step").length)},first:function(){this.toStep(1)},toStep:function(e){let i=this.element,o=this.options,h=r(i.find(".step").get(e-1)),g=this.current;h.length!==0&&(this.current=e,i.find(".step").removeClass("complete current").removeClass(o.clsCurrent).removeClass(o.clsComplete),h.addClass("current").addClass(o.clsCurrent),h.prevAll().addClass("complete").addClass(o.clsComplete),this._fireEvent("step",{step:this.current,prev:g}))},changeAttribute:()=>{},destroy:function(){let e=this.element;e.off(t.events.click,".step"),e.remove()}})})(Metro,Dom),((t,r)=>{let f={streamerDeferred:0,wheel:!0,wheelStep:20,duration:200,defaultClosedIcon:"",defaultOpenIcon:"",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:"",excludeClickClass:"",excludeClass:"",onDataLoad:t.noop,onDataLoaded:t.noop,onDataLoadError:t.noop,onDrawEvent:t.noop,onDrawGlobalEvent:t.noop,onDrawStream:t.noop,onStreamClick:t.noop,onStreamSelect:t.noop,onEventClick:t.noop,onEventSelect:t.noop,onEventsScroll:t.noop,onStreamerCreate:t.noop};t.streamerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroStreamerSetup<"u"&&t.streamerSetup(globalThis.metroStreamerSetup),t.Component("streamer",{init:function(e,i){return this._super(i,e,f,{data:null,scroll:0,scrollDir:"left",events:null}),this},_create:function(){let e=this.element,i=this.options;if(e.addClass("streamer"),e.attr("id")===void 0&&e.attr("id",Hooks.useId(this.elem)),i.source===null&&i.data===null)return!1;r("<div>").addClass("streams").appendTo(e),r("<div>").addClass("events-area").appendTo(e),i.source!==null?(this._fireEvent("data-load",{source:i.source}),this._loadSource()):(this.data=i.data,this.build())},_loadSource:function(){let e=this.options;fetch(e.source).then(t.fetch.status).then(t.fetch.json).then(i=>{this._fireEvent("data-loaded",{source:e.source,data:i}),this.data=i,this.build()}).catch(i=>{this._fireEvent("data-load-error",{source:e.source,error:i})})},build:function(){let e=this,i=this.element,o=this.options,h=this.data,g=i.find(".streams").html(""),_=i.find(".events-area").html(""),C,S=r("<ul>").addClass("streamer-timeline").html("").appendTo(_),A=r("<div>").addClass("streamer-events").appendTo(_),F=r("<div>").addClass("event-group").appendTo(A),N=t.utils.getURIParameter(null,"StreamerIDS");N!==null&&o.encodeLink===!0&&(N=atob(N));let q=N?N.split("|")[0]:null,Y=N?N.split("|")[1].split(","):[];if(h.actions!==void 0){let us=r("<div>").addClass("streamer-actions").appendTo(g);r.each(h.actions,function(){let ji=r("<button>").addClass("streamer-action").addClass(this.cls).html(this.html);this.onclick&&ji.on(t.events.click,()=>{t.utils.exec(this.onclick,[i])}),ji.appendTo(us)})}S.html(""),h.timeline===void 0&&(h.timeline={start:"09:00",stop:"18:00",step:20});let te=new Date,Ae=new Date,He=h.timeline.start?h.timeline.start.split(":"):[9,0],$e=h.timeline.stop?h.timeline.stop.split(":"):[18,0],Pe=h.timeline.step?Number.parseInt(h.timeline.step)*60:1200;te.setHours(He[0]),te.setMinutes(He[1]),te.setSeconds(0),Ae.setHours($e[0]),Ae.setMinutes($e[1]),Ae.setSeconds(0);let Se,Le,Ie,Me,Et,wt,Fi,mn,Di,Bn;for(Se=te.getTime()/1e3;Se<=Ae.getTime()/1e3;Se+=Pe)for(Le=new Date(Se*1e3),Ie=Le.getHours(),Et=Le.getMinutes(),Me=`${Str.lpad(Ie,"0",2)}:${Str.lpad(Et,"0",2)}`,mn=r("<li>").data("time",Me).addClass(`js-time-point-${Me.replace(":","-")}`).html(`<em>${Me}</em>`).appendTo(S),Bn=mn.width()/Number.parseInt(h.timeline.step),C=r("<ul>").addClass("streamer-fake-timeline").html("").appendTo(mn),wt=0;wt<Number.parseInt(h.timeline.step);wt++)Fi=Et+wt,Me=`${Str.lpad(Ie,"0",2)}:${Str.lpad(Fi,"0",2)}`,Di=r("<li>").data("time",Me).addClass(`js-fake-time-point-${Me.replace(":","-")}`).html("|").appendTo(C),Di.css({width:Bn});if(h.streams!==void 0&&r.each(h.streams,function(us,ji){let cs=0,Xn=r("<div>").addClass("stream").addClass(this.cls).appendTo(g);Xn.addClass(ji.cls).data("one",!1).data("data",ji.data),r("<div>").addClass("stream-title").html(ji.title).appendTo(Xn),r("<div>").addClass("stream-secondary").html(ji.secondary).appendTo(Xn),r(ji.icon).addClass("stream-icon").appendTo(Xn);let gn=Farbe.Routines.toHEX(t.utils.getStyleOne(Xn,"background-color")),Ks=Farbe.Routines.toHEX(t.utils.getStyleOne(Xn,"color")),Kn=r("<div>").addClass("stream-events").data("background-color",gn).data("text-color",Ks).appendTo(F);if(ji.events!==void 0){r.each(ji.events,function(Ea,bt){let xu=bt.row===void 0?1:Number.parseInt(bt.row),Ot,At=`${us}:${Ea}`,Ft=bt.custom!==void 0?bt.custom:"",ci=bt.custom_open!==void 0?bt.custom_open:"",Pt=bt.custom_close!==void 0?bt.custom_close:"",Zt;if(bt.skip!==void 0&&t.utils.bool(bt.skip))return;Zt=r("<div>").data("origin",bt).data("sid",At).data("data",bt.data).data("time",bt.time).data("target",bt.target).addClass("stream-event").addClass(`size-${bt.size}${["half","one-third"].includes(bt.size)?"":"x"}`).addClass(bt.cls).appendTo(Kn);let vn=S.find(`.js-fake-time-point-${this.time.replace(":","-")}`).offset().left-Kn.offset().left,Zi=75*(xu-1);if(xu>cs&&(cs=xu),Zt.css({position:"absolute",left:vn,top:Zi}),t.utils.isNull(bt.html)){let Bd=r("<div>").addClass("stream-event-slide").appendTo(Zt),Ff=r("<div>").addClass("slide-logo").appendTo(Bd),If=r("<div>").addClass("slide-data").appendTo(Bd);bt.icon!==void 0&&(t.utils.isTag(bt.icon)?r(bt.icon).addClass("icon").appendTo(Ff):r("<img>").addClass("icon").attr("src",bt.icon).attr("alt","").appendTo(Ff)),r("<span>").addClass("time").css({backgroundColor:gn,color:Ks}).html(bt.time).appendTo(Ff),r("<div>").addClass("title").html(bt.title).appendTo(If),r("<div>").addClass("subtitle").html(bt.subtitle).appendTo(If),r("<div>").addClass("desc").html(bt.desc).appendTo(If),(o.closed===!1&&i.attr("id")===q&&Y.indexOf(At)!==-1||bt.selected===!0||Number.parseInt(bt.selected)===1)&&Zt.addClass("selected"),o.closed===!0||bt.closed===!0||Number.parseInt(bt.closed)===1?(Ot=bt.closedIcon!==void 0?t.utils.isTag(bt.closedIcon)?bt.closedIcon:`<span>${bt.closedIcon}</span>`:t.utils.isTag(o.defaultClosedIcon)?o.defaultClosedIcon:`<span>${o.defaultClosedIcon}</span>`,r(Ot).addClass("state-icon").addClass(bt.clsClosedIcon).appendTo(Bd),Zt.data("closed",!0).data("target",bt.target),Zt.append(ci)):(Ot=bt.openIcon!==void 0?t.utils.isTag(bt.openIcon)?bt.openIcon:`<span>${bt.openIcon}</span>`:t.utils.isTag(o.defaultOpenIcon)?o.defaultOpenIcon:`<span>${o.defaultOpenIcon}</span>`,r(Ot).addClass("state-icon").addClass(bt.clsOpenIcon).appendTo(Bd),Zt.data("closed",!1),Zt.append(Pt)),Zt.append(Ft)}else Zt.html(bt.html);e._fireEvent("draw-event",{event:Zt[0]})});let Nn=Kn.find(".stream-event").last();Nn.length>0&&Kn.outerWidth(Nn[0].offsetLeft+Nn.outerWidth())}Kn.css({height:75*cs}),i.find(".stream").eq(Kn.index()).css({height:75*cs}),e._fireEvent("draw-stream",{stream:Xn[0]})}),h.global!==void 0){let us=A.offset().left;r.each(["before","after"],(ji,cs)=>{h.global[cs]!==void 0&&r.each(h.global[cs],function(Xn,gn){let Ks=r("<div>").addClass("event-group").addClass(`size-${gn.size}${["half","one-third"].includes(gn.size)?"":"x"}`),Kn=r("<div>").addClass("stream-events global-stream").appendTo(Ks),Nn=r("<div>").addClass("stream-event").appendTo(Kn);Nn.addClass("global-event").addClass(gn.cls).data("time",gn.time).data("origin",gn).data("data",gn.data),r("<div>").addClass("event-title").html(gn.title).appendTo(Nn),r("<div>").addClass("event-subtitle").html(gn.subtitle).appendTo(Nn),r("<div>").addClass("event-html").html(gn.html).appendTo(Nn);let Ea,bt=S.find(`.js-fake-time-point-${this.time.replace(":","-")}`);bt.length>0&&(Ea=bt.offset().left-us),Ks.css({position:"absolute",left:Ea,height:"100%"}).appendTo(A),e._fireEvent("draw-global-event",{event:Nn[0]})})})}i.data("stream",-1),i.find(".events-area").scrollLeft(0),this.events=i.find(".stream-event"),this._createEvents(),o.startFrom!==null&&o.slideToStart===!0&&setTimeout(()=>{e.slideTo(o.startFrom)},o.startSlideSleep),this._fireEvent("streamer-create"),this._fireScroll()},_fireScroll:function(){let e=this.element.find(".events-area"),i=this.scroll;e.length!==0&&(this.scrollDir=this.scroll<e[0].scrollLeft?"left":"right",this.scroll=e[0].scrollLeft,this._fireEvent("events-scroll",{scrollLeft:e[0].scrollLeft,oldScroll:i,scrollDir:this.scrollDir,events:r.toArray(this.events)}))},_createEvents:function(){let e=this,i=this.element,o=this.options;function h(){let _=globalThis.pageYOffset||document.documentElement.scrollTop,C=globalThis.pageXOffset||document.documentElement.scrollLeft;globalThis.onscroll=()=>{globalThis.scrollTo(C,_)}}function g(){globalThis.onscroll=()=>{}}i.off(t.events.click,".stream-event").on(t.events.click,".stream-event",function(_){let C=r(this);if(!(o.excludeClass!==""&&C.hasClass(o.excludeClass))&&!(o.excludeElement!==null&&r(_.target).is(o.excludeElement))){if(o.closed===!1&&C.data("closed")!==!0&&o.eventClick==="select")o.excludeSelectClass!==""&&C.hasClass(o.excludeSelectClass)||o.excludeSelectElement!==null&&r(_.target).is(o.excludeSelectElement)||(C.hasClass("global-event")?o.selectGlobal===!0&&C.toggleClass("selected"):C.toggleClass("selected"),o.changeUri===!0&&e._changeURI(),e._fireEvent("event-select",{event:C[0],selected:C.hasClass("selected")}));else if(!(o.excludeClickClass!==""&&C.hasClass(o.excludeClickClass))&&!(o.excludeClickElement!==null&&r(_.target).is(o.excludeClickElement))&&(e._fireEvent("event-click",{event:C[0]}),o.closed===!0||C.data("closed")===!0)){let S=C.data("target");S&&(globalThis.location.href=S)}}}),i.off(t.events.click,".stream").on(t.events.click,".stream",function(){let _=r(this),C=_.index();o.streamSelect!==!1&&(i.data("stream")===C?(i.find(".stream-event").removeClass("disabled"),i.data("stream",-1)):(i.data("stream",C),i.find(".stream-event").addClass("disabled"),e.enableStream(_),e._fireEvent("stream-select",{stream:_})),e._fireEvent("stream-click",{stream:_}))}),o.wheel===!0&&(i.find(".events-area").off(t.events.mousewheel).on(t.events.mousewheel,function(_){if(_.deltaY===void 0)return;let C=r(this),S=_.deltaY>0?-1:1,A=o.wheelStep,F=C.scrollLeft()-S*A;C.scrollLeft(F)},{passive:!0}),i.find(".events-area").off("mouseenter").on("mouseenter",()=>{h()}),i.find(".events-area").off("mouseleave").on("mouseleave",()=>{g()})),i.find(".events-area").last().off("scroll").on("scroll",()=>{e._fireScroll()}),r.touchable===!0&&i.off(t.events.click,".stream").on(t.events.click,".stream",function(){let _=r(this);_.toggleClass("focused"),r.each(i.find(".stream"),function(){r(this).is(_)||r(this).removeClass("focused")})})},_changeURI:function(){let e=this.getLink();history.pushState({},document.title,e)},slideTo:function(e){let i=this.element,o=this.options,h;e===void 0?h=r(i.find(".streamer-timeline li")[0]):h=r(i.find(`.streamer-timeline .js-time-point-${e.replace(":","-")}`)[0]),i.find(".events-area").animate({draw:{scrollLeft:h[0].offsetLeft-i.find(".streams .stream").outerWidth()},dur:o.duration})},enableStream:function(e){let i=this.element,o=e.index()-1;e.removeClass("disabled").data("streamDisabled",!1),i.find(".stream-events").eq(o).find(".stream-event").removeClass("disabled")},disableStream:function(e){let i=this.element,o=e.index()-1;e.addClass("disabled").data("streamDisabled",!0),i.find(".stream-events").eq(o).find(".stream-event").addClass("disabled")},toggleStream:function(e){e.data("streamDisabled")===!0?this.enableStream(e):this.disableStream(e)},getLink:function(){let e=this.element,i=this.options,o=e.find(".stream-event"),h=[],g,_=globalThis.location.href;return r.each(o,function(){let C=r(this);C.data("sid")===void 0||!C.hasClass("selected")||h.push(C.data("sid"))}),g=`${e.attr("id")}|${h.join(",")}`,i.encodeLink===!0&&(g=btoa(g)),t.utils.updateURIParameter(_,"StreamerIDS",g)},getTimes:function(){let e=this.element.find(".streamer-timeline > li"),i=[];return r.each(e,function(){i.push(r(this).data("time"))}),i},getEvents:function(e,i){let o=this.element,h,g=[];switch(e){case"selected":h=o.find(".stream-event.selected");break;case"non-selected":h=o.find(".stream-event:not(.selected)");break;default:h=o.find(".stream-event")}return r.each(h,function(){let _=r(this);if(i!==!0&&_.parent().hasClass("global-stream"))return;let C=_.data("origin");g.push(C)}),g},source:function(e){let i=this.element;if(e===void 0)return this.options.source;i.attr("data-source",e),this.options.source=e,this.changeSource()},dataSet:function(e){if(e===void 0)return this.options.data;this.options.data=e,this.changeData(e)},getStreamerData:function(){return this.data},toggleEvent:function(e){let i=this.options,o=r(e);o.hasClass("global-event")&&i.selectGlobal!==!0||(o.hasClass("selected")?this.selectEvent(e,!1):this.selectEvent(e,!0))},selectEvent:function(e,i=!0){let o=this.options,h=r(e);h.hasClass("global-event")&&o.selectGlobal!==!0||(i===!0?h.addClass("selected"):h.removeClass("selected"),o.changeUri===!0&&this._changeURI(),this._fireEvent("event-select",{event:h[0],selected:i}))},changeSource:function(){let e=this.element,i=this.options,o=e.attr("data-source");String(o).trim()!==""&&(i.source=o,this._fireEvent("data-load",{source:i.source}),this._loadSource(),this._fireEvent("source-change"))},changeData:function(e){let i=this.element,o=this.options,h=this.data;o.data=typeof e=="object"?e:JSON.parse(i.attr("data-data")),this.data=o.data,this.build(),this._fireEvent("data-change",{oldData:h,newData:o.data})},changeStreamSelectOption:function(){let e=this.element,i=this.options;i.streamSelect=e.attr("data-stream-select").toLowerCase()==="true"},changeAttribute:function(e){switch(e){case"data-source":this.changeSource();break;case"data-data":this.changeData();break;case"data-stream-select":this.changeStreamSelectOption();break}},destroy:function(){let e=this.element;e.off(t.events.click,".stream-event"),e.off(t.events.click,".stream"),e.find(".events-area").off(t.events.mousewheel),e.find(".events-area").last().off("scroll"),e.remove()}})})(Metro,Dom),((t,r)=>{let f={swipeThreshold:32,onSwipe:t.noop,onSwipeRight:t.noop,onSwipeLeft:t.noop,onSwipeUp:t.noop,onSwipeDown:t.noop,onSwipeCreate:t.noop};t.swipeSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroSwipeSetup<"u"&&t.swipeSetup(globalThis.metroSwipeSetup),t.Component("swipe",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){this.element.css({userSelect:"none"}),this._createEvents(),this._fireEvent("swipe-create")},_createEvents:function(){let e=this.element,i=this.options;e.on("touchstart mousedown",o=>{let h=t.utils.pageXY(o),g={x:0,y:0};e.on("touchmove mousemove",_=>{let C=t.utils.pageXY(_);g.x=C.x-h.x,g.y=C.y-h.y}),e.on("touchend mouseup",_=>{let C="";(Math.abs(g.x)>i.swipeThreshold||Math.abs(g.y)>i.swipeThreshold)&&(Math.abs(g.x)>Math.abs(g.y)?g.x>0?(C="right",this._fireEvent("swipe-right",{start:h,swipe:g})):(C="left",this._fireEvent("swipe-left",{start:h,swipe:g})):g.y>0?(C="down",this._fireEvent("swipe-down",{start:h,swipe:g})):(C="up",this._fireEvent("swipe-up",{start:h,swipe:g})),this._fireEvent("swipe",{start:h,swipe:g,direction:C})),e.off("touchmove mousemove"),e.off("touchend mouseup")})})},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={switchDeferred:0,material:!1,prepend:"",append:"",clsSwitch:"",clsCheck:"",clsCaption:"",onoff:!1,on:"",off:"",showOnOff:!1,onSwitchCreate:t.noop};t.switchSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroSwitchSetup<"u"&&t.switchSetup(globalThis.metroSwitchSetup),t.Component("switch",{init:function(e,i){return this._super(i,e,f,{}),this},_create:function(){let e=this.element,i=this.options,o=this.strings,h=e.wrap("<label>").addClass("switch").addClass(e[0].className).addClass(i.clsSwitch);e.attr("type","checkbox"),e.attr("readonly")&&e.on("click",g=>{g.preventDefault()}),this.component=h,e[0].className="",i.prepend&&h.prepend(r("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),i.append&&h.append(r("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.append)),i.onoff===!0?(e.attr("data-on",i.on||o.label_on),e.attr("data-off",i.off||o.label_off)):(e.removeAttr("data-on"),e.removeAttr("data-off")),i.material===!0&&h.addClass("material"),this._fireEvent("switch-create")},toggle:function(e){let i=this.element;return i.is(":disabled")?this:(t.utils.isValue(e)?i.prop("checked",e===1):i.prop("checked",!t.utils.bool(i.prop("checked"))),this)},changeAttribute:(e,i)=>{},destroy:function(){return this.element}})})(Metro,Dom),((t,r)=>{let f={splitter:",",variance:0,delay:100,blinkDelay:400,deleteDelay:800,loop:!0,cursor:"_",colors:"",onType:t.noop,onTyperCreate:t.noop};t.typerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroTyperSetup<"u"&&t.typerSetup(globalThis.metroTyperSetup),t.Component("typer",{init:function(e,i){return this._super(i,e,f,{original:null,lines:null,text:null,cursor:null,on:!0,interval:null,colors:null,colorIndex:0}),this},_create:function(){let e=this.element,i=this.options;e.addClass("typer"),this.original=e.text(),this.words=this.original.split(i.splitter).pack(),this.colors=i.colors.split(",").pack(),this.cursor=r("<span>").addClass("typer-cursor").html(i.cursor).insertAfter(e),this.interval=setInterval(()=>this._blink(),+i.blinkDelay),this.progress={word:0,char:0,building:!0,looped:0},e.clear(),this.start()},_blink:function(){this.on?(this.cursor[0].style.opacity=0,this.on=!1):(this.cursor[0].style.opacity=1,this.on=!0)},doTyping:function(){let e=this.element,i=this.elem,o=this.options,h,g=this.progress,_=g.word,C=g.char,S=[...this.words[_]].slice(0,C).join(""),A=(2*Math.random()-1)*o.variance+o.delay;this.cursor[0].style.opacity="1",this.on=!0,clearInterval(this.interval),this.interval=setInterval(()=>this._blink(),+o.blinkDelay),e.html(S),g.building?(h=g.char===this.words[_].length,h?g.building=!1:g.char+=1):g.char===0?(g.building=!0,g.word=(g.word+1)%this.words.length,this.colors.length&&(this.colorIndex=(this.colorIndex+1)%this.colors.length,i.style.color=this.colors[this.colorIndex])):g.char-=1,g.word===this.words.length-1&&(g.looped+=1),!g.building&&this.loop<=g.looped&&(this.typing=!1),setTimeout(()=>{this.typing&&this.doTyping()},h?o.deleteDelay:A)},start:function(){this.typing||(this.typing=!0,this.doTyping())},stop:function(){this.typing=!1},destroy:function(){this.element.remove()}})})(Metro,Dom);var sm={title:void 0,format:void 0,formatMask:void 0,name:void 0,colspan:null,size:void 0,sortable:!1,sortDir:void 0,clsColumn:void 0,cls:void 0,show:!0,required:!0,field:void 0,fieldType:void 0,validator:void 0,template:void 0,type:"data"};((t,r)=>{let f={caption:"",cardMode:"",useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"🔧",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationIslandSize:3,paginationShortTrack:10,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,source:null,static:!1,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:t.noop,onDrawRow:t.noop,onDrawCell:t.noop,onAppendRow:t.noop,onAppendCell:t.noop,onSortStart:t.noop,onSortStop:t.noop,onSortItemSwitch:t.noop,onSearch:t.noop,onRowsCountChange:t.noop,onDataLoad:t.noop,onDataLoadError:t.noop,onDataLoaded:t.noop,onDataLoadEnd:t.noop,onDataSaveError:t.noop,onFilterRowAccepted:t.noop,onFilterRowDeclined:t.noop,onCheckClick:t.noop,onCheckClickAll:t.noop,onCheckDraw:t.noop,onViewSave:t.noop,onViewGet:t.noop,onViewCreated:t.noop,onTableCreate:t.noop,onSkip:t.noop};t.tableSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroTableSetup<"u"&&t.tableSetup(globalThis.metroTableSetup),t.Component("table",{init:function(e,i){return this._super(i,e,f,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},input_interval:null,searchFields:[],id:null,sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){let e=this.element,i=this.options,o=Hooks.useId(this.elem),h;if(e.id()||(console.warn("To use all table component features, please set an ID for the table element!"),e.id(o)),t.utils.isValue(i.searchFields)&&(this.searchFields=i.searchFields.toArray()),t.utils.isValue(i.head)){let C=i.head;i.head=t.utils.isObject(i.head),i.head||(console.warn(`Head ${C} defined but not exists!`),i.head=null)}if(t.utils.isValue(i.body)){let C=i.body;i.body=t.utils.isObject(i.body),i.body||(console.warn(`Body ${C} defined but not exists!`),i.body=null)}i.static===!0&&(i.showPagination=!1,i.showRowsSteps=!1,i.showSearch=!1,i.showTableInfo=!1,i.showSkip=!1,i.rows=-1);let g=r("<div>").addClass("table-component");g.insertBefore(e),h=r("<div>").addClass("table-container").addClass(i.clsTableContainer).appendTo(g),e.appendTo(h),i.horizontalScroll===!0&&h.addClass("horizontal-scroll"),!t.utils.isNull(i.horizontalScrollStop)&&t.utils.mediaExist(i.horizontalScrollStop)&&h.removeClass("horizontal-scroll"),g.addClass(i.clsComponent),this.activity=r("<div>").addClass("table-progress").appendTo(g);let _=r("<div>").appendTo(this.activity);if(t.makePlugin(_,"activity",{type:i.activityType,style:i.activityStyle}),i.showActivity!==!0&&this.activity.css({visibility:"hidden"}),this.component=g[0],i.source!==null){this._fireEvent("data-load",{source:i.source});let C=t.utils.isObject(i.source);C!==!1&&r.isPlainObject(C)?this._build(C):this.activity.show(()=>{fetch(i.source).then(t.fetch.status).then(t.fetch.json).then(S=>{if(this.activity.hide(),typeof S!="object")throw new Error("Data for table is not a object");this._fireEvent("data-loaded",{source:i.source,data:S}),this._build(S)}).catch(S=>{this.activity.hide(),this._fireEvent("data-load-error",{source:i.source,error:S})})})}else this._build()},_createIndex:function(){let e=this.options.checkColIndex;setImmediate(()=>{this.items.forEach((i,o)=>{this.index[i[e]]=o})})},_build:function(e){let i=this.element,o=this.options,h,g=i.attr("id"),_;o.rows=+o.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(o.head)&&(this.heads=o.head),Array.isArray(o.body)&&(this.items=o.body),t.utils.isValue(e)?this._createItemsFromJSON(e):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=t.utils.objectClone(this.view),_=o.viewSavePath.replace("$1",g),o.viewSaveMode.toLowerCase()==="client"?(h=t.storage.getItem(_),t.utils.isValue(h)&&t.utils.objectLength(h)===t.utils.objectLength(this.view)&&(this.view=h,this._fireEvent("view-get",{source:"client",view:h})),this._final()):fetch(_).then(t.fetch.status).then(t.fetch.json).then(C=>{t.utils.isValue(C)&&t.utils.objectLength(C)===t.utils.objectLength(this.view)&&(this.view=C,this._fireEvent("view-get",{source:"server",view:C})),this._final()}).catch(C=>{this._final(),console.warn(`Warning! Error loading view for table ${i.attr("id")}: ${C}`)})},_final:function(){let e=this.element;this.options,e.attr("id"),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:e})},_service:function(){let e=this.options;this.service=[{...sm,title:e.rownumTitle,clsColumn:`rownum-cell ${e.rownum!==!0?"d-none":""}`,cls:`rownum-cell ${e.rownum!==!0?"d-none":""}`,type:"rownum"},{...sm,title:e.checkType==="checkbox"?`<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='${e.checkStyle}'>`:"",clsColumn:`check-cell ${e.check!==!0?"d-none":""}`,cls:`check-cell ${e.check!==!0?"d-none":""}`,type:"rowcheck"}]},_createView:function(){let e={};return r.each(this.heads,function(i){t.utils.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),t.utils.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),e[i]={index:i,"index-view":i,show:t.utils.isValue(this.show)?this.show:!0,size:t.utils.isValue(this.size)?this.size:""}}),this._fireEvent("view-created",{view:e}),e},_createInspectorItems:function(e){let i=this,o=this.options,h,g=[],_,C=this.heads;for(e.html(""),h=0;h<C.length;h++)g[h]=null;for(r.each(C,function(S){_=r("<tr>"),_.data("index",S),_.data("index-view",S),r("<td>").html(`<input type='checkbox' data-style='${o.checkStyle}' data-role='checkbox' name='column_show_check[]' value='${S}' ${t.utils.bool(i.view[S].show)?"checked":""}>`).appendTo(_),r("<td>").html(`<div>${this.title}</div>`).appendTo(_),r("<td>").html(`<input type='number' data-role='spinner' name='column_size' value='${i.view[S].size}' data-index='${S}'>`).appendTo(_),r("<td>").html("<button class='button square js-table-inspector-field-up' type='button'>↑</button><button class='button square js-table-inspector-field-down' type='button'>↓</button>").appendTo(_),g[i.view[S]["index-view"]]=_}),h=0;h<C.length;h++)g[h].appendTo(e)},_createInspector:function(){let e=this.options,i=this.strings,o=r("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector");o.attr("for",this.element.attr("id")),r(`<div class='table-inspector-header'>${e.inspectorTitle||i.label_inspector}</div>`).appendTo(o);let h=r("<div>").addClass("table-wrap").appendTo(o),g=r("<table>").addClass("table subcompact"),_=r("<tbody>").appendTo(g);g.appendTo(h),this._createInspectorItems(_);let C=r("<div class='table-inspector-actions'>").appendTo(o);r("<button class='button primary js-table-inspector-save' type='button'>").html(i.label_save).appendTo(C),r("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(i.label_reset).appendTo(C),r("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(i.label_cancel).appendTo(C),o.data("open",!1),this.inspector=o,r("body").append(o),this._createInspectorEvents()},_resetInspector:function(){let e=this.inspector.find("table tbody");this._createInspectorItems(e),this._createInspectorEvents()},_createHeadsFromHTML:function(){let e=this,i=this.element.find("thead");i.length>0&&r.each(i.find("tr > *"),function(){let o=r(this),h,g;if(o.hasClass("rownum-cell")||o.hasClass("check-cell"))return;t.utils.isValue(o.data("sort-dir"))?h=o.data("sort-dir"):o.hasClass("sort-asc")?h="asc":o.hasClass("sort-desc")?h="desc":h=void 0,g=o[0].className.replace("sortable-column",""),g=g.replace("sort-asc",""),g=g.replace("sort-desc",""),g=g.replace("hidden","");let _={type:"data",title:o.html(),name:t.utils.isValue(o.data("name"))?o.data("name"):o.text().replace(" ","_"),sortable:o.hasClass("sortable-column")||t.utils.isValue(o.data("sortable"))&&JSON.parse(o.data("sortable"))===!0,sortDir:h,format:t.utils.isValue(o.data("format"))?o.data("format"):"string",formatMask:t.utils.isValue(o.data("format-mask"))?o.data("format-mask"):null,clsColumn:t.utils.isValue(o.data("cls-column"))?o.data("cls-column"):"",cls:g,colspan:o.attr("colspan"),size:t.utils.isValue(o.data("size"))?o.data("size"):"",show:!(o.hasClass("hidden")||t.utils.isValue(o.data("show"))&&JSON.parse(o.data("show"))===!1),required:t.utils.isValue(o.data("required"))?JSON.parse(o.data("required"))===!0:!1,field:t.utils.isValue(o.data("field"))?o.data("field"):"input",fieldType:t.utils.isValue(o.data("field-type"))?o.data("field-type"):"text",validator:t.utils.isValue(o.data("validator"))?o.data("validator"):null,template:t.utils.isValue(o.data("template"))?o.data("template"):null};e.heads.push(_)})},_createFootsFromHTML:function(){let e=this,i=this.element.find("tfoot");i.length>0&&r.each(i.find("tr > *"),function(){let o=r(this),h={title:o.html(),name:t.utils.isValue(o.data("name"))?o.data("name"):!1,cls:o[0].className,colspan:o.attr("colspan")};e.foots.push(h)})},_createItemsFromHTML:function(){let e=this,i=this.element.find("tbody");i.length>0&&r.each(i.find("tr"),function(){let o=r(this),h=[];r.each(o.children("td"),function(){let g=r(this);h.push(g.html())}),e.items.push(h)}),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(e){let i=this,o=typeof e=="string"?JSON.parse(e):e;o.header!==void 0?i.heads=o.header:this._createHeadsFromHTML(),o.data!==void 0&&r.each(o.data,function(){let h=[];r.each(this,function(){h.push(this)}),i.items.push(h)}),o.footer!==void 0?this.foots=o.footer:this._createFootsFromHTML()},_createTableHeader:function(){let e=this.element,i=this.options,o=e.find("thead"),h,g=[],_,C,S=i.staticView?this._createView():this.view;if(o.length===0&&(o=r("<thead>"),e.prepend(o)),o.clear().addClass(i.clsHead),i.caption&&o.prev("caption").length===0&&r("<caption>").html(i.caption).insertBefore(o),this.heads.length===0)return o;for(h=r("<tr>").addClass(i.clsHeadRow).appendTo(o),r.each(this.service,function(){let A=[],F=r("<th>");t.utils.isValue(this.title)&&F.html(this.title),t.utils.isValue(this.size)&&F.css({width:this.size}),t.utils.isValue(this.cls)&&A.push(this.cls),A.push(i.clsHeadCell),F.addClass(A.join(" ")),h.append(F)}),C=this.heads,_=0;_<C.length;_++)g[_]=null;for(r.each(C,function(A){let F=[],N=r("<th>");N.data("index",A),t.utils.isValue(this.title)&&N.html(this.title),t.utils.isValue(this.format)&&N.attr("data-format",this.format),t.utils.isValue(this.formatMask)&&N.attr("data-format-mask",this.formatMask),t.utils.isValue(this.name)&&N.attr("data-name",this.name),t.utils.isValue(this.colspan)&&N.attr("colspan",this.colspan),t.utils.isValue(this.size)&&N.attr("data-size",this.size),t.utils.isValue(this.sortable)&&N.attr("data-sortable",this.sortable),t.utils.isValue(this.sortDir)&&N.attr("data-sort-dir",this.sortDir),t.utils.isValue(this.clsColumn)&&N.attr("data-cls-column",this.clsColumn),t.utils.isValue(this.cls)&&N.attr("data-cls",this.cls),t.utils.isValue(this.show)&&N.attr("data-show",this.show),t.utils.isValue(this.required)&&N.attr("data-required",this.required),t.utils.isValue(this.field)&&N.attr("data-field",this.field),t.utils.isValue(this.fieldType)&&N.attr("data-field-type",this.fieldType),t.utils.isValue(this.validator)&&N.attr("data-validator",this.validator),t.utils.isValue(this.template)&&N.attr("data-template",this.template),t.utils.isValue(S[A].size)&&N.css({width:S[A].size}),this.sortable===!0&&(F.push("sortable-column"),t.utils.isValue(this.sortDir)&&F.push(`sort-${this.sortDir}`)),t.utils.isValue(this.cls)&&r.each(this.cls.toArray(),function(){F.push(this)}),t.utils.bool(S[A].show)===!1&&F.indexOf("hidden")===-1&&F.push("hidden"),F.push(i.clsHeadCell),t.utils.bool(S[A].show)&&t.utils.arrayDelete(F,"hidden"),N.addClass(F.join(" ")),g[S[A]["index-view"]]=N}),_=0;_<C.length;_++)g[_].appendTo(h)},_createTableBody:function(){let e,i,o=this.element;i=o.find("thead"),e=o.find("tbody"),e.length===0&&(e=r("<tbody>").addClass(this.options.clsBody),i.length!==0?e.insertAfter(i):o.append(e)),e.clear()},_createTableFooter:function(){let e=this.element,i=this.options,o=e.find("tfoot"),h;if(o.length===0&&(o=r("<tfoot>").appendTo(e)),o.clear().addClass(i.clsFooter),this.foots.length===0)return;let g=r("<tr>").addClass(i.clsHeadRow).appendTo(o);r.each(this.foots,function(){h=r("<th>").appendTo(g),this.title&&h.html(this.title),this.name&&h.addClass(`foot-column-name-${this.name}`),this.cls&&h.addClass(this.cls),t.utils.isValue(this.colspan)&&h.attr("colspan",this.colspan),h.appendTo(g)})},_createTopBlock:function(){let e=this.element,i=this.options,o=this.strings,h=r("<div>").addClass("table-top").addClass(i.clsTableTop).insertBefore(e.parent()),g,_;g=t.utils.isValue(this.wrapperSearch)?this.wrapperSearch:r("<div>").addClass("table-search-block").addClass(i.clsSearch).appendTo(h),g.addClass(i.clsSearch);let C=r("<input>").attr("type","text").attr("placeholder",i.tableSearchPlaceholder).appendTo(g);t.makePlugin(C,"input",{prepend:i.tableSearchTitle||o.label_search}),i.showSearch!==!0&&g.hide(),_=t.utils.isValue(this.wrapperRows)?this.wrapperRows:r("<div>").addClass("table-rows-block").appendTo(h),_.addClass(i.clsRowsCount);let S=r("<select>").appendTo(_);return r.each(i.rowsSteps.toArray(),function(){let A=Number.parseInt(this),F=r("<option>").attr("value",A).text(A===-1?i.allRecordsTitle||o.label_all:A).appendTo(S);A===Number.parseInt(i.rows)&&F.attr("selected","selected")}),t.makePlugin(S,"select",{filter:!1,prepend:i.tableRowsCountTitle||o.label_rows_count,onChange:A=>{Number.parseInt(A)!==i.rows&&(i.rows=A,this.currentPage=1,this._draw(),this._fireEvent("rows-count-change",{val:A}))}}),i.showInspectorButton&&r("<button>").addClass("button inspector-button").attr("type","button").html(i.inspectorButtonIcon).insertAfter(_),i.showRowsSteps!==!0&&_.hide(),h},_createBottomBlock:function(){let e=this.element,i=this.options,o=this.strings,h=r("<div>").addClass("table-bottom").addClass(i.clsTableBottom).insertAfter(e.parent()),g,_,C;return g=t.utils.isValue(this.wrapperInfo)?this.wrapperInfo:r("<div>").addClass("table-info").appendTo(h),g.addClass(i.clsTableInfo),i.showTableInfo!==!0&&g.hide(),_=t.utils.isValue(this.wrapperPagination)?this.wrapperPagination:r("<div>").addClass("table-pagination").appendTo(h),_.addClass(i.clsTablePagination),i.showPagination!==!0&&_.hide(),C=t.utils.isValue(this.wrapperSkip)?this.wrapperSkip:r("<div>").appendTo(h),C.addClass("table-skip").addClass(i.clsTableSkip),r(`<input type='text' data-role='input' placeholder="${o.label_enter_page}">`).addClass("table-skip-input").addClass(i.clsTableSkipInput).appendTo(C),r("<button>").addClass("button table-skip-button").addClass(i.clsTableSkipButton).html(i.tableSkipTitle||o.label_goto_page).appendTo(C),i.showSkip!==!0&&C.hide(),h},_createStructure:function(){let e=this,i=this.element,o=this.options,h,g=r(o.searchWrapper),_=r(o.infoWrapper),C=r(o.rowsWrapper),S=r(o.paginationWrapper),A=r(o.skipWrapper);g.length>0&&(this.wrapperSearch=g),_.length>0&&(this.wrapperInfo=_),C.length>0&&(this.wrapperRows=C),S.length>0&&(this.wrapperPagination=S),A.length>0&&(this.wrapperSkip=A),i.addClass(o.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();let F=!1;this.heads.length>0&&r.each(this.heads,function(q){!F&&["asc","desc"].indexOf(this.sortDir)>-1&&(F=!0,e.sort.colIndex=q,e.sort.dir=this.sortDir)}),F&&(h=i.find("thead th"),this._resetSortClass(h),r(h.get(this.sort.colIndex+e.service.length)).addClass(`sort-${this.sort.dir}`),this.sorting());let N;t.utils.isValue(o.filters)&&typeof o.filters=="string"&&r.each(o.filters.toArray(),function(){N=t.utils.isFunc(this),N!==!1&&e.filtersIndexes.push(e.addFilter(N))}),this.currentPage=1,this._draw()},_resetSortClass:e=>{r(e).removeClass("sort-asc sort-desc")},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.closest(".table-component"),g=h.find(".table-container"),_=h.find(".table-search-block input"),C=o.skipWrapper?r(o.skipWrapper).find(".table-skip-button"):h.find(".table-skip-button"),S=o.skipWrapper?r(o.skipWrapper).find(".table-skip-input"):h.find(".table-skip-input"),A,F=i.attr("id");h.find(".inspector-button").on(t.events.click,()=>{e.toggleInspector()}),C.on(t.events.click,()=>{let Y=Number.parseInt(S.val().trim());if(Number.isNaN(Y)||Y<=0||Y>e.pagesCount)return S.val(""),!1;S.val(""),e._fireEvent("skip",{skipTo:Y,skipFrom:e.currentPage}),e.page(Y)}),r(globalThis).on(t.events.resize,()=>{o.horizontalScroll===!0&&(!t.utils.isNull(o.horizontalScrollStop)&&t.utils.mediaExist(o.horizontalScrollStop)?g.removeClass("horizontal-scroll"):g.addClass("horizontal-scroll"))},{ns:this.id}),i.on(t.events.click,".sortable-column",function(){if(o.muteTable===!0&&i.addClass("disabled"),e.busy)return!1;e.busy=!0;let Y=r(this);e.activity.show(()=>{setImmediate(()=>{e.currentPage=1,e.sort.colIndex=Y.data("index"),!Y.hasClass("sort-asc")&&!Y.hasClass("sort-desc")?e.sort.dir=o.sortDir:Y.hasClass("sort-asc")?e.sort.dir="desc":e.sort.dir="asc",e._resetSortClass(i.find(".sortable-column")),Y.addClass(`sort-${e.sort.dir}`),e.sorting(),e._draw(()=>{e.busy=!1,o.muteTable===!0&&i.removeClass("disabled")})})})}),i.on(t.events.click,".table-service-check",function(){let Y=r(this),te=Y.is(":checked"),Ae=`${Y.val()}`,He=o.checkStoreKey.replace("$1",F),$e=t.storage,Pe=$e.getItem(He);Y.attr("type")==="radio"&&(Pe=[]),te?t.utils.isValue(Pe)?Array(Pe).indexOf(Ae)===-1&&Pe.push(Ae):Pe=[Ae]:t.utils.isValue(Pe)?t.utils.arrayDelete(Pe,Ae):Pe=[],$e.setItem(He,Pe),e._fireEvent("check-click",{check:this,status:te,data:Pe})}),i.on(t.events.click,".table-service-check-all",function(){let Y=r(this).is(":checked"),te=o.checkStoreKey.replace("$1",F),Ae=t.storage,He=[],$e;o.useCurrentSlice===!0?($e=Ae.getItem(te,[]),Y?r.each(e.currentSlice,function(){$e.indexOf(`${this[o.checkColIndex]}`)===-1&&$e.push(`${this[o.checkColIndex]}`)}):r.each(e.currentSlice,function(){let Pe=`${this[o.checkColIndex]}`;$e.indexOf(Pe)!==-1&&t.utils.arrayDelete($e,Pe)}),He=$e):Y?r.each(e.filteredItems,function(){He.indexOf(this[o.checkColIndex])===-1&&He.push(`${this[o.checkColIndex]}`)}):He=[],Ae.setItem(te,He),e._draw(),e._fireEvent("check-click-all",{check:this,status:Y,data:He})});let N=function(){e.searchString=this.value.trim().toLowerCase(),e.currentPage=1,e._draw()};N=Hooks.useDebounce(N,o.searchThreshold),_.on(t.events.inputchange,N),t.utils.isValue(this.wrapperSearch)&&(A=this.wrapperSearch.find("input"),A.length>0&&A.on(t.events.inputchange,N));function q(Y){let te=r(Y),Ae=te.parent();e.filteredItems.length!==0&&(Ae.hasClass("active")||(Ae.hasClass("service")?te.data("page")==="prev"?(e.currentPage--,e.currentPage===0&&(e.currentPage=1)):(e.currentPage++,e.currentPage>e.pagesCount&&(e.currentPage=e.pagesCount)):e.currentPage=+te.data("page"),e._draw()))}h.on(t.events.click,".pagination .page-link",function(){q(this)}),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.on(t.events.click,".pagination .page-link",function(){q(this)}),this._createInspectorEvents(),i.on(t.events.click,".js-table-crud-button",()=>{})},_createInspectorEvents:function(){let e=this,i=this.inspector;this._removeInspectorEvents(),i.on(t.events.click,".js-table-inspector-field-up",function(){let o=r(this).closest("tr"),h=o.prev("tr"),g=o.data("index"),_;h.length!==0&&(o.insertBefore(h),o.addClass("flash"),setTimeout(()=>{o.removeClass("flash")},1e3),_=o.index(),o.data("index-view",_),e.view[g]["index-view"]=_,r.each(o.nextAll(),function(){let C=r(this);_++,C.data("index-view",_),e.view[C.data("index")]["index-view"]=_}),e._createTableHeader(),e._draw())}),i.on(t.events.click,".js-table-inspector-field-down",function(){let o=r(this).closest("tr"),h=o.next("tr"),g=o.data("index"),_;h.length!==0&&(o.insertAfter(h),o.addClass("flash"),setTimeout(()=>{o.removeClass("flash")},1e3),_=o.index(),o.data("index-view",_),e.view[g]["index-view"]=_,r.each(o.prevAll(),function(){let C=r(this);_--,C.data("index-view",_),e.view[C.data("index")]["index-view"]=_}),e._createTableHeader(),e._draw())}),i.on(t.events.click,"input[type=checkbox]",function(){let o=r(this),h=o.is(":checked"),g=o.val(),_=["cls","clsColumn"];h?r.each(_,function(){let C=t.utils.isValue(e.heads[g][this])?e.heads[g][this].toArray(" "):[];t.utils.arrayDelete(C,"hidden"),e.heads[g][this]=C.join(" "),e.view[g].show=!0}):r.each(_,function(){let C=t.utils.isValue(e.heads[g][this])?e.heads[g][this].toArray(" "):[];C.indexOf("hidden")===-1&&C.push("hidden"),e.heads[g][this]=C.join(" "),e.view[g].show=!1}),e._createTableHeader(),e._draw()}),i.find("input[type=number]").on(t.events.inputchange,function(){let o=r(this),h=o.attr("data-index"),g=Number.parseInt(o.val());e.view[h].size=g===0?"":g,e._createTableHeader()}),i.on(t.events.click,".js-table-inspector-save",()=>{e._saveTableView(),e.openInspector(!1)}),i.on(t.events.click,".js-table-inspector-cancel",()=>{e.openInspector(!1)}),i.on(t.events.click,".js-table-inspector-reset",()=>{e.resetView()})},_removeInspectorEvents:function(){let e=this.inspector;e.off(t.events.click,".js-table-inspector-field-up"),e.off(t.events.click,".js-table-inspector-field-down"),e.off(t.events.click,"input[type=checkbox]"),e.off(t.events.click,".js-table-inspector-save"),e.off(t.events.click,".js-table-inspector-cancel"),e.off(t.events.click,".js-table-inspector-reset"),e.off(t.events.inputchange,"input[type=number]")},_saveTableView:function(){let e=this.element,i=this.options,o=this.view,h=e.attr("id"),g=i.viewSavePath.replace("$1",h),_=t.storage;if(i.viewSaveMode.toLowerCase()==="client")_.setItem(g,o),this._fireEvent("view-save",{target:"client",path:i.viewSavePath,view:o});else{let C={id:e.attr("id"),view:o};fetch(g,{method:"POST",body:JSON.stringify(C),header:{"Content-type":"application/json;charset=utf-8"}}).then(t.fetch.status).then(t.fetch.text).then(S=>{this._fireEvent("view-save",{target:"server",path:i.viewSavePath,view:o,post_data:C,response:S})}).catch(S=>{this._fireEvent("data-save-error",{source:i.viewSavePath,error:S,post_data:C})})}},_info:function(e,i,o){let h=this.element,g=this.options,_=this.strings,C=h.closest(".table-component"),S=t.utils.isValue(this.wrapperInfo)?this.wrapperInfo:C.find(".table-info"),A,F=e,N=i,q=o;S.length!==0&&(N>q&&(N=q),this.items.length===0&&(F=N=q=0),A=g.tableInfoTitle||_.label_table_info,A=A.replace("$1",F),A=A.replace("$2",N),A=A.replace("$3",q),S.html(A))},_paging:function(e){let i=this.element,o=this.options,h=this.strings,g=i.closest(".table-component");this.pagesCount=Math.ceil(e/o.rows),t.pagination({length:e,rows:o.rows,current:this.currentPage,target:t.utils.isValue(this.wrapperPagination)?this.wrapperPagination:g.find(".table-pagination"),claPagination:o.clsPagination,prevTitle:o.paginationPrevTitle||h.label_prev,nextTitle:o.paginationNextTitle||h.label_next,distance:o.paginationDistance,islandSize:o.paginationIslandSize,shortTrack:o.paginationShortTrack})},_filter:function(){let e=this.options,i;return t.utils.isValue(this.searchString)&&this.searchString.length>=e.searchMinLength||this.filters.length>0?i=this.items.filter(o=>{let h="",g,_,C=0;if(this.filters.length>0){for(g=e.filtersOperator.toLowerCase()==="and",_=0;_<this.filters.length;_++)t.utils.isNull(this.filters[_])||(C++,g=e.filtersOperator.toLowerCase()==="and"?g&&t.utils.exec(this.filters[_],[o,this.heads]):g||t.utils.exec(this.filters[_],[o,this.heads]));C===0&&(g=!0)}else g=!0;this.searchFields.length>0?r.each(this.heads,(A,F)=>{this.searchFields.indexOf(F.name)>-1&&(h+=`•${o[A]}`)}):h=o.join("•"),h=h.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase();let S=t.utils.isValue(this.searchString)&&this.searchString.length>=e.searchMinLength?~h.indexOf(this.searchString):!0;return g=g&&S,g?this._fireEvent("filter-row-accepted",{row:o}):this._fireEvent("filter-row-declined",{row:o}),g}):i=this.items,this._fireEvent("search",{search:this.searchString,items:i}),this.filteredItems=i,i},_draw:function(e){let i=this,o=this.element,h=this.options,g=this.strings,_=o.find("tbody"),C,S,A,F,N,q,Y,te,Ae=Number.parseInt(h.rows),He=Ae===-1?0:Ae*(+this.currentPage-1),$e=Ae===-1?this.items.length-1:+He+Ae-1,Pe,Se=[],Le=t.storage.getItem(h.checkStoreKey.replace("$1",o.attr("id"))),Ie=h.staticView?this.viewDefault:this.view;if(_.html(""),!this.heads.length){console.warn(`Heads is not defined for table ID ${o.attr("id")}`);return}if(Pe=this._filter(),this.currentSlice=Pe.slice(He,$e+1),Se=[],Pe.length>0){for(C=He;C<=$e;C++)if(q=Pe[C],Y=[],!!t.utils.isValue(q)){for(A=r("<tr>").addClass(h.clsBodyRow),A.data("original",q),te=C%2===0,F=r("<td>").attr("data-label","#").attr("aria-label","#").html(C+1),i.service[0].clsColumn!==void 0&&F.addClass(i.service[0].clsColumn),F.appendTo(A),F=r("<td>").attr("data-label","CHK").attr("aria-label","CHK"),h.checkType==="checkbox"?N=r(`<input type='checkbox' data-style='${h.checkStyle}' data-role='checkbox' name='${t.utils.isValue(h.checkName)?h.checkName:"table_row_check"}[]' value='${Pe[C][h.checkColIndex]}'>`):N=r(`<input type='radio' data-style='${h.checkStyle}' data-role='radio' name='${t.utils.isValue(h.checkName)?h.checkName:"table_row_check"}' value='${Pe[C][h.checkColIndex]}'>`),t.utils.isValue(Le)&&Array.isArray(Le)&&Le.indexOf(`${Pe[C][h.checkColIndex]}`)>-1&&(N.prop("checked",!0),Se.push(q)),N.addClass("table-service-check"),this._fireEvent("check-draw",{check:N}),N.appendTo(F),i.service[1].clsColumn!==void 0&&F.addClass(i.service[1].clsColumn),F.appendTo(A),S=0;S<q.length;S++)Y[S]=null;for(r.each(q,function(Me){let Et=this,wt=r("<td>").attr("data-label",i.heads[Me].title).attr("aria-label",i.heads[Me].title);t.utils.isValue(i.heads[Me].template)&&(Et=i.heads[Me].template.replace(/%VAL%/g,Et)),wt.html(Et),wt.addClass(h.clsBodyCell),t.utils.isValue(i.heads[Me].clsColumn)&&wt.addClass(i.heads[Me].clsColumn),t.utils.bool(Ie[Me].show)===!1&&wt.addClass("hidden"),t.utils.bool(Ie[Me].show)&&wt.removeClass("hidden"),wt.data("original",this),Y[Ie[Me]["index-view"]]=wt,i._fireEvent("draw-cell",{td:wt,val:Et,cellIndex:Me,head:i.heads[Me],items:q}),h.cellWrapper===!0&&(Et=r("<div>").addClass("data-wrapper").addClass(h.clsCellWrapper).html(wt.html()),wt.html("").append(Et))}),S=0;S<q.length;S++)Y[S].appendTo(A),i._fireEvent("append-cell",{td:Y[S],tr:A,index:S});i._fireEvent("draw-row",{tr:A,view:i.view,heads:i.heads,items:q}),A.addClass(h.clsRow).addClass(te?h.clsEvenRow:h.clsOddRow).appendTo(_),i._fireEvent("append-row",{tr:A})}r(this.component).find(".table-service-check-all input").prop("checked",Se.length)}else S=0,r.each(Ie,function(){this.show&&S++}),h.check===!0&&S++,h.rownum===!0&&S++,A=r("<tr>").addClass(h.clsBodyRow).appendTo(_),F=r("<td>").attr("colspan",S).addClass("text-center").html(r("<span>").addClass(h.clsEmptyTableTitle).html(h.emptyTableTitle||g.label_empty)),F.appendTo(A);this._info(He+1,$e+1,Pe.length),this._paging(Pe.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),e!==void 0&&t.utils.exec(e,null,o[0])},_getItemContent:function(e){var F,N;let i=this.options,o=this.locale,h,g=e[this.sort.colIndex],_=this.heads[this.sort.colIndex].format,C=!t.utils.isNull(this.heads)&&!t.utils.isNull(this.heads[this.sort.colIndex])&&t.utils.isValue(this.heads[this.sort.colIndex].formatMask)?this.heads[this.sort.colIndex].formatMask:"%Y-%m-%d",S=(F=this.heads)!=null&&F[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:i.thousandSeparator,A=(N=this.heads)!=null&&N[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:i.decimalSeparator;if(h=`${g}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),t.utils.isValue(h)&&t.utils.isValue(_))switch(["number","int","float","money"].indexOf(_)!==-1&&(h=t.utils.parseNumber(h,S,A)),_){case"date":h=C?Datetime.from(h,C,o):datetime(h);break;case"number":h=+h;break;case"int":h=Number.parseInt(h);break;case"float":h=Number.parseFloat(h);break;case"money":h=t.utils.parseMoney(h);break;case"card":h=t.utils.parseCard(h);break;case"phone":h=t.utils.parsePhone(h);break}return h},addItem:function(e,i){if(!Array.isArray(e))return console.warn("Item is not an array and can't be added"),this;this.items.push(e),i!==!1&&this.draw()},addItems:function(e,i){if(!Array.isArray(e))return console.warn("Items is not an array and can't be added"),this;for(let o of e)Array.isArray(o)&&this.items.push(o,!1);this.draw(),i!==!1&&this.draw()},updateItem:function(e,i,o){let h=this.items[this.index[e]],g=null;return t.utils.isNull(h)?(console.warn("Item is undefined for update"),this):(Number.isNaN(i)&&this.heads.forEach((_,C)=>{_.name===i&&(g=C)}),t.utils.isNull(g)?(console.warn(`Item is undefined for update. Field ${i} not found in data structure`),this):(h[g]=o,this.items[this.index[e]]=h,this))},getItem:function(e){return this.items[this.index[e]]},deleteItem:function(e,i){let o,h=[],g=t.utils.isFunc(i);for(o=0;o<this.items.length;o++)g?t.utils.exec(i,[this.items[o][e]])&&h.push(o):this.items[o][e]===i&&h.push(o);return this.items=t.utils.arrayDeleteByMultipleKeys(this.items,h),this},deleteItemByName:function(e,i){let o,h,g=[],_=t.utils.isFunc(i);for(o=0;o<this.heads.length;o++)if(this.heads[o].name===e){h=o;break}for(o=0;o<this.items.length;o++)_?t.utils.exec(i,[this.items[o][h]])&&g.push(o):this.items[o][h]===i&&g.push(o);return this.items=t.utils.arrayDeleteByMultipleKeys(this.items,g),this},draw:function(){return this._draw(),this},sorting:function(e){return t.utils.isValue(e)&&(this.sort.dir=e),this._fireEvent("sort-start",{items:this.items}),this.items.sort((i,o)=>{let h=this._getItemContent(i),g=this._getItemContent(o),_=0;return h<g&&(_=this.sort.dir==="asc"?-1:1),h>g&&(_=this.sort.dir==="asc"?1:-1),_!==0&&this._fireEvent("sort-item-switch",{a:i,b:o,result:_}),_}),this._fireEvent("sort-stop",{items:this.items}),this},search:function(e){return this.searchString=e.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(e){let i=this,o=this.element,h=!1,g;this._createIndex(),e===!0&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&r.each(this.heads,function(_){!h&&["asc","desc"].indexOf(this.sortDir)>-1&&(h=!0,i.sort.colIndex=_,i.sort.dir=this.sortDir)}),h&&(g=o.find(".sortable-column"),this._resetSortClass(g),r(g.get(i.sort.colIndex)).addClass(`sort-${i.sort.dir}`),this.sorting()),i.currentPage=1,i._draw()},setHeads:function(e){return this.heads=e,this},setHeadItem:function(e,i){let o,h;for(o=0;o<this.heads.length;o++)if(this.heads[o].name===e){h=o;break}return this.heads[h]=i,this},setItems:function(e){return this.items=e,this},setData:function(e){let i=this.options;return this.activity.show(()=>{this.items=[],this.heads=[],this.foots=[],Array.isArray(i.head)&&(this.heads=i.head),Array.isArray(i.body)&&(this.items=i.body),this._createItemsFromJSON(e),this._rebuild(!0),this.activity.hide()}),this},loadData:function(e,i=!0){let o=this.element,h=this.options;o.html(""),t.utils.isValue(e)?(h.source=e,this._fireEvent("data-load",{source:h.source}),this.activity.show(()=>{fetch(h.source).then(t.fetch.status).then(t.fetch.json).then(g=>{this.activity.hide(),this.items=[],this.heads=[],this.foots=[],this._fireEvent("data-loaded",{source:h.source,data:g}),Array.isArray(h.head)&&(this.heads=h.head),Array.isArray(h.body)&&(this.items=h.body),this._createItemsFromJSON(g),this._rebuild(i),this._resetInspector(),this._fireEvent("data-load-end",{source:h.source,data:g})}).catch(g=>{this.activity.hide(),this._fireEvent("data-load-error",{source:h.source,error:g})})})):this._rebuild(i)},reload:function(e){this.loadData(this.options.source,e)},clear:function(){return this.items=[],this.draw()},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}return this._draw(),this}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}return this._draw(),this}},first:function(){if(this.items.length!==0)return this.currentPage=1,this._draw(),this},last:function(){if(this.items.length!==0)return this.currentPage=this.pagesCount,this._draw(),this},page:function(e){let i=e;return i<=0&&(i=1),i>this.pagesCount&&(i=this.pagesCount),this.currentPage=i,this._draw(),this},addFilter:function(e,i){let o=null,h,g=t.utils.isFunc(e);if(g!==!1){for(h=0;h<this.filters.length;h++)if(t.utils.isNull(this.filters[h])){o=h,this.filters[h]=g;break}return t.utils.isNull(o)&&(this.filters.push(g),o=this.filters.length-1),i===!0&&(this.currentPage=1,this.draw()),o}},removeFilter:function(e,i){return this.filters[e]=null,i===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){return this.filters=[],e===!0&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){let e=this.element,i=this.options,o=t.storage.getItem(i.checkStoreKey.replace("$1",e.attr("id"))),h=[];return t.utils.isValue(o)?(r.each(this.items,function(){o.indexOf(`${this[i.checkColIndex]}`)!==-1&&h.push(this)}),h):[]},getStoredKeys:function(){let e=this.element,i=this.options;return t.storage.getItem(i.checkStoreKey.replace("$1",e.attr("id")),[])},clearSelected:function(e){let i=this.element,o=this.options;t.storage.setItem(o.checkStoreKey.replace("$1",i.attr("id")),[]),i.find("table-service-check-all input").prop("checked",!1),e===!0&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(e){let i=this.inspector;e?i.show(0,()=>{i.css({top:(r(globalThis).height()-i.outerHeight(!0))/2+pageYOffset,left:(r(globalThis).width()-i.outerWidth(!0))/2+pageXOffset}).data("open",!0)}):i.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(e,i,o,h){let g=t.export,_=this,C=this.options,S=document.createElement("table"),A=r("<thead>").appendTo(S),F=r("<tbody>").appendTo(S),N,q,Y,te=[],Ae,He,$e,Pe,Se;if(typeof g.tableToCSV!="function")return;let Le=t.utils.isValue(i)?i.toLowerCase():"all-filtered",Ie=t.utils.isValue(o)?o:`${element.id()||Hooks.useId()}-export.csv`;for(He=r("<tr>"),Y=this.heads,q=0;q<Y.length;q++)te[q]=null;for(r.each(Y,function(Me){t.utils.bool(_.view[Me].show)!==!1&&($e=r("<th>"),t.utils.isValue(this.title)&&$e.html(this.title),te[_.view[Me]["index-view"]]=$e)}),q=0;q<Y.length;q++)t.utils.isValue(te[q])&&te[q].appendTo(He);switch(He.appendTo(A),Le){case"checked":{Ae=this.getSelectedItems(),Pe=0,Se=Ae.length-1;break}case"view":{Ae=this._filter(),Pe=Number.parseInt(C.rows)===-1?0:C.rows*(this.currentPage-1),Se=Number.parseInt(C.rows)===-1?Ae.length-1:Pe+C.rows-1;break}case"all":{Ae=this.items,Pe=0,Se=Ae.length-1;break}default:Ae=this._filter(),Pe=0,Se=Ae.length-1}for(N=Pe;N<=Se;N++)if(t.utils.isValue(Ae[N])){for(He=r("<tr>"),Y=Ae[N],q=0;q<Y.length;q++)te[q]=null;for(r.each(Y,function(Me){t.utils.bool(_.view[Me].show)!==!1&&($e=r("<td>").html(this),te[_.view[Me]["index-view"]]=$e)}),q=0;q<Y.length;q++)t.utils.isValue(te[q])&&te[q].appendTo(He);He.appendTo(F)}g.tableToCSV(S,Ie,h),S.remove()},changeAttribute:function(e){let i=this,o=this.element,h=this.options;function g(){h.check=t.utils.bool(o.attr("data-check")),i._service(),i._createTableHeader(),i._draw()}function _(){h.rownum=t.utils.bool(o.attr("data-rownum")),i._service(),i._createTableHeader(),i._draw()}switch(e){case"data-check":g();break;case"data-rownum":_();break}},destroy:function(){let e=this.element,i=e.closest(".table-component"),o=i.find("input"),h=i.find("select");if(o.data("input").destroy(),h.data("select").destroy(),r(globalThis).off(t.events.resize,{ns:this.id}),e.off(t.events.click,".sortable-column"),e.off(t.events.click,".table-service-check input"),e.off(t.events.click,".table-service-check-all input"),o.off(t.events.inputchange),t.utils.isValue(this.wrapperSearch)){let g=this.wrapperSearch.find("input");g.length>0&&g.off(t.events.inputchange)}i.off(t.events.click,".pagination .page-link"),t.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.off(t.events.click,".pagination .page-link"),e.off(t.events.click,".js-table-crud-button"),this._removeInspectorEvents(),e.remove()}})})(Metro,Dom),((t,r)=>{let f={wheelStep:20,materialTabsDeferred:0,deep:!1,fixedTabs:!1,duration:300,appBar:!1,clsComponent:"",clsTabs:"",clsTab:"",clsTabActive:"",clsMarker:"",onBeforeTabOpen:t.noop_true,onTabOpen:t.noop,onTabsScroll:t.noop,onTabsCreate:t.noop};t.materialTabsSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroMaterialTabsSetup<"u"&&t.materialTabsSetup(globalThis.metroMaterialTabsSetup),t.Component("material-tabs",{init:function(e,i){return this._super(i,e,f,{marker:null,scroll:0,scrollDir:"left"}),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o=e.find("li"),h=e.find("li.active"),g=r("<div>").addClass("tabs-material-wrapper").addClass(i.clsComponent).insertBefore(e);i.appBar===!0&&g.addClass("app-bar-present"),i.appBar==="more"&&g.addClass("app-bar-present-more"),e.appendTo(g),e.addClass("tabs-material").addClass(i.clsTabs),o.addClass(i.clsTab),i.deep===!0&&e.addClass("deep"),i.fixedTabs===!0&&e.addClass("fixed-tabs"),this.marker=e.find(".tab-marker"),this.marker.length===0&&(this.marker=r("<span>").addClass("tab-marker").addClass(i.clsMarker).appendTo(e)),this.openTab(h.length===0?o[0]:h[0])},_createEvents:function(){let e=this,i=this.element,o=this.options;i.on(t.events.click,"li",function(h){let g=r(this),_=i.find("li.active"),C=g.index()>_.index(),S=g.children("a").attr("href");if(h.preventDefault(),t.utils.isValue(S)&&S[0]==="#"){if(g.hasClass("active")||g.hasClass("disabled")||t.utils.exec(o.onBeforeTabOpen,[g,S,C],this)===!1)return;e.openTab(g,C)}}),i.on(t.events.scroll,()=>{let h=e.scroll;e.scrollDir=e.scroll<i[0].scrollLeft?"left":"right",e.scroll=i[0].scrollLeft,e._fireEvent("tabs-scroll",{scrollLeft:i[0].scrollLeft,oldScroll:h,scrollDir:e.scrollDir})}),i.on(t.events.mousewheel,function(h){if(h.deltaY===void 0)return;let g=r(this),_=h.deltaY>0?-1:1,C=o.wheelStep,S=g.scrollLeft()-_*C;g.scrollLeft(S)},{passive:!0})},openTab:function(e,i){let o=this.element,h=this.options,g=o.find("li"),_=52,C,S,A,F,N=r(e);r.each(g,function(){let Ae=r(this).find("a").attr("href");t.utils.isValue(Ae)&&Ae[0]==="#"&&Ae.length>1&&r(Ae).hide()});let q=o.width();A=o.scrollLeft(),S=N.position().left;let Y=N.width(),te=S+Y;g.removeClass("active").removeClass(h.clsTabActive),N.addClass("active").addClass(h.clsTabActive),te+_>q+A?F=A+_*2:S<A?F=S-_*2:F=A,o.animate({draw:{scrollLeft:F},dur:h.duration}),this.marker.animate({draw:{left:S,width:Y},dur:h.duration}),C=N.find("a").attr("href"),t.utils.isValue(C)&&C[0]==="#"&&C.length>1&&r(C).show(),this._fireEvent("tab-open",{tab:N[0],target:C,tab_next:i})},open:function(e){let i=this.element,o=i.find("li"),h=i.find("li.active"),g=o.eq(e-1),_=o.index(g)>o.index(h);this.openTab(g,_)},changeAttribute:()=>{},destroy:function(){let e=this.element;e.off(t.events.click,"li"),e.off(t.events.scroll),e.remove()}})})(Metro,Dom),((t,r)=>{let f={autocomplete:null,autocompleteUnique:!0,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,label:"",size:"normal",tagInputDeferred:0,static:!1,clearButton:!0,clearButtonIcon:"❌",randomColor:!1,maxTags:0,tagSeparator:",",tagTrigger:"Enter, Space, Comma",backspace:!0,clsComponent:"",clsInput:"",clsClearButton:"",clsTag:"",clsTagTitle:"",clsTagAction:"",clsLabel:"",onBeforeTagAdd:t.noop_true,onTagAdd:t.noop,onBeforeTagRemove:t.noop_true,onTagRemove:t.noop,onTag:t.noop,onClear:t.noop,onTagTrigger:t.noop,onTagInputCreate:t.noop};t.tagInputSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroTagInputSetup<"u"&&t.tagInputSetup(globalThis.metroTagInputSetup),t.Component("tag-input",{init:function(e,i){return this._super(i,e,f,{values:[],triggers:[],autocomplete:[]}),this},_create:function(){this.triggers=`${this.options.tagTrigger}`.toArray(","),(this.triggers.includes("Space")||this.triggers.includes("Spacebar"))&&(this.triggers.push(" "),this.triggers.push("Spacebar")),this.triggers.includes("Comma")&&this.triggers.push(","),this._createStructure(),this._createEvents(),this._fireEvent("tag-input-create",{element:this.element})},_createStructure:function(){let e=this,i=this.element,o=this.options,h,g,_=i.val().trim();if(h=i.wrap("<div>").addClass(`tag-input ${i[0].className}`).addClass(o.clsComponent),h.attr("id",Hooks.useId(h[0])),i[0].className="",i.addClass("original-input"),r("<input type='text'>").addClass("input-wrapper").addClass(o.clsInput).attr("size",1).appendTo(h),o.clearButton!==!1&&!i[0].readOnly&&(h.addClass("padding-for-clear"),g=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon),g.appendTo(h)),t.utils.isValue(_)&&r.each(_.toArray(o.tagSeparator),function(){e._addTag(this)}),this._addLabel(o.label,h,{className:o.clsLabel,id:h.attr("id"),dir:i.attr("dir")}),i.is(":disabled")?this.disable():this.enable(),(o.static===!0||i.attr("readonly")!==void 0)&&h.addClass("static-mode"),(!o.autocomplete||!o.autocompleteUrl)&&r("<div>").addClass("autocomplete-list").css({maxHeight:o.autocompleteListHeight,display:"none"}).appendTo(h),o.autocomplete){let C=t.utils.isObject(o.autocomplete);C!==!1?this.autocomplete=C:this.autocomplete=o.autocomplete.toArray(o.autocompleteDivider)}o.autocompleteUrl&&fetch(o.autocompleteUrl,{method:o.autocompleteUrlMethod}).then(C=>C.text()).then(C=>{let S=[];try{S=JSON.parse(C),o.autocompleteUrlKey&&(S=S[o.autocompleteUrlKey])}catch{S=C.split(`
`)}e.autocomplete=e.autocomplete.concat(S)})},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.closest(".tag-input"),g=h.find(".input-wrapper"),_=h.find(".autocomplete-list");g.on(t.events.focus,()=>{h.addClass("focused")}),g.on(t.events.blur,()=>{h.removeClass("focused")}),g.on(t.events.inputchange,()=>{g.attr("size",Math.ceil(g.val().length/2)+2)}),g.on(t.events.keydown,C=>{let S=g.val().trim(),A=C.key;if(A==="Enter"&&C.preventDefault(),o.backspace===!0&&A==="Backspace"&&S.length===0){e.values.length>0&&(e.values.splice(-1,1),i.siblings(".tag").last().remove(),i.val(e.values.join(o.tagSeparator)));return}S!==""&&e.triggers.includes(A)&&(e._fireEvent("tag-trigger",{key:A}),g.val(""),e._addTag(S),g.attr("size",1))}),g.on(t.events.keyup,C=>{let S=g.val(),A=C.key;e.triggers.includes(A)&&S[S.length-1]===A&&g.val(S.slice(0,-1))}),h.on(t.events.click,".tag .action",function(){let C=r(this).closest(".tag");e._delTag(C)}),h.on(t.events.click,()=>{g.focus()}),h.on(t.events.click,".input-clear-button",()=>{let C=i.val();e.clear(),e._fireEvent("clear",{val:C})}),g.on(t.events.input,function(){let C=this.value.toLowerCase();e._drawAutocompleteList(C)}),h.on(t.events.click,".autocomplete-list .item",function(){let C=r(this).attr("data-autocomplete-value");g.val(""),e._addTag(C),g.attr("size",1),_.css({display:"none"}),e._fireEvent("autocomplete-select",{value:C})})},_drawAutocompleteList:function(e){let i=this,o=this.element,h=this.options,g=o.closest(".tag-input"),_=g.find(".input-wrapper"),C=g.find(".autocomplete-list");if(C.length===0)return;C.html("");let S=this.autocomplete.filter(A=>A.toLowerCase().indexOf(e)>-1);C.css({display:S.length>0?"block":"none",left:_.position().left}),r.each(S,function(){if(h.autocompleteUnique&&i.values.indexOf(this)!==-1)return;let A=this.toLowerCase().indexOf(e),F,N=r("<div>").addClass("item").attr("data-autocomplete-value",this);A===0?F=`<strong>${this.substring(0,e.length)}</strong>${this.substring(e.length)}`:F=`${this.substring(0,A)}<strong>${this.substring(A,e.length)}</strong>${this.substring(A+e.length)}`,N.html(F).appendTo(C),i._fireEvent("draw-autocomplete-item",{item:N})})},_addTag:function(e){let i=this.element,o=this.options,h=i.closest(".tag-input"),g=h.find(".input-wrapper"),_,C,S;if(o.maxTags>0&&this.values.length===o.maxTags||`${e}`.trim()===""||!t.utils.exec(o.onBeforeTagAdd,[e,this.values],i[0]))return;_=r("<span>").addClass("tag").addClass(S).addClass(o.clsTag).insertBefore(g),_.data("value",e),(o.static||h.hasClass("static-mode")||i.readonly||i.disabled||h.hasClass("disabled"))&&_.addClass("static");let A=r("<span>").addClass("title").addClass(o.clsTagTitle).html(e);if(C=r("<span>").addClass("action").addClass(o.clsTagAction).html("&times;"),A.appendTo(_),C.appendTo(_),o.randomColor===!0){let F=Object.values(Object.assign({},Farbe.StandardColors,Farbe.MetroColors)),N=F[r.random(0,F.length-1)],q=Farbe.Routines.darken(N,15),Y=Farbe.Routines.isDark(N)?"#ffffff":"#000000";_.css({backgroundColor:N,color:Y}),C.css({backgroundColor:q,color:Y})}this.values.push(e),i.val(this.values.join(o.tagSeparator)),this._fireEvent("tag-add",{tag:_[0],val:e,values:this.values}),this._fireEvent("tag",{tag:_[0],val:e,values:this.values})},_delTag:function(e){let i=this.element,o=this.options,h=e.data("value");t.utils.exec(o.onBeforeTagRemove,[e,h,this.values],i[0])&&(t.utils.arrayDelete(this.values,h),i.val(this.values.join(o.tagSeparator)),this._fireEvent("tag-remove",{tag:e[0],val:h,values:this.values}),this._fireEvent("tag",{tag:e[0],val:h,values:this.values}),e.remove())},tags:function(){return this.values},val:function(e){let i=this,o=this.element,h=this.options,g=o.closest(".tag-input"),_=[];return t.utils.isValue(e)?(this.values=[],g.find(".tag").remove(),typeof e=="string"?_=`${e}`.toArray(h.tagSeparator):Array.isArray(e)&&(_=e),r.each(_,function(){i._addTag(this)}),this):this.tags()},append:function(e){let i=this,o=this.options,h=this.values;return typeof e=="string"?h=`${e}`.toArray(o.tagSeparator):Array.isArray(e)&&(h=e),r.each(h,function(){i._addTag(this)}),this},clear:function(){let e=this.element,i=e.closest(".tag-input");return this.values=[],e.val("").trigger("change"),i.find(".tag").remove(),this},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleStatic:function(e){let i=this.element.closest(".tag-input"),o;t.utils.isValue(e)?o=t.utils.bool(e):o=!i.hasClass("static-mode"),o?i.addClass("static-mode"):i.removeClass("static-mode")},setAutocompleteList:function(e){let i=t.utils.isObject(e);i!==!1?this.autocomplete=i:typeof e=="string"&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},changeAttribute:function(e){let i=this.element,o=this.options,h=()=>{let g=i.attr("value").trim();this.clear(),t.utils.isValue(g)&&this.val(g.toArray(o.tagSeparator))};switch(e){case"value":h();break;case"disabled":this.toggleState();break;case"static":this.toggleStatic();break}},destroy:function(){let e=this.element,i=this.options,o=e.closest(".tag-input"),h=o.find(".input-wrapper");h.off(t.events.focus),h.off(t.events.blur),h.off(t.events.keydown),o.off(t.events.click,".tag .action"),o.off(t.events.click),i.label&&o.prev("label").remove(),o.remove()}}),r(document).on(t.events.click,()=>{r(".tag-input .autocomplete-list").hide()})})(Metro,Dom),((t,r)=>{let f={onTaskClick:t.noop,onMyObjectCreate:t.noop};t.taskBarSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroTaskBarSetup<"u"&&t.taskBarSetup(globalThis.metroTaskBarSetup),t.Component("task-bar",{init:function(e,i){return this._super(i,e,f,{tasks:[],systemTray:[],widgets:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("task-bar-create")},_createStructure:function(){let e=this.element;this.options,e.addClass("task-bar"),e.append(r("<div>").addClass("widgets")),e.append(r("<div>").addClass("tasks")),e.append(r("<div>").addClass("system-tray"))},_createEvents:function(){let e=this,i=this.element;i.on(t.events.click,".task",function(){let o=e.tasks[r(this).index()];for(let h of e.tasks)h.active=!1;o.active=!0,e._renderTasks(),e._fireEvent("task-click",{task:o,element:o.ref})}),i.on(t.events.click,".system-tray-item",function(){let o=e.systemTray[r(this).index()];e._fireEvent("system-tray-click",{item:o})}),i.on(t.events.click,".widget",function(){let o=e.widgets[r(this).index()];e._fireEvent("widget-click",{item:o})})},_renderTasks:function(){let e=this.element;this.options;let i=e.find(".tasks").clear();for(let o of this.tasks){let h=r("<div>").addClass("task").attr("title",o.title).html(o.icon);o.active&&h.addClass("active"),i.append(h)}},_renderSystemTray:function(){let e=this.element.find(".system-tray").clear();for(let i of this.systemTray)e.append(r(i).addClass("system-tray-item"))},_renderWidgets:function(){let e=this.element.find(".widgets").clear();for(let i of this.widgets)e.append(r(i).addClass("widget"))},addTask:function(e,i=!1){if(i)for(let o of this.tasks)o.active=!1;this.tasks.push({...e,active:i}),this._renderTasks()},removeTask:function(e){this.tasks=this.tasks.filter(i=>i.ref!==e),this._renderTasks()},activateTask:function(e){let i=this.tasks.filter(h=>h.ref===e);if(i.length===0)return;let o=i[0];for(let h of this.tasks)h.active=!1;o.active=!0,this._renderTasks()},addToSystemTray:function(e){this.systemTray.push(e),this._renderSystemTray()},addWidget:function(e){this.widgets.push(e),this._renderWidgets()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f=(i,o,h)=>{let g,_="<%(.+?)%>",C=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,S=`with(obj) { var r=[];
`,A=0,F,N,q=(Y,te)=>(te?S+=Y.match(C)?`${Y}
`:`r.push(${Y});
`:S+=Y!==""?`r.push("${Y.replace(/"/g,'\\"')}");
`:"",q);for(t.utils.isValue(h)&&(r.hasProp(h,"beginToken")&&(_=_.replace("<%",h.beginToken)),r.hasProp(h,"endToken")&&(_=_.replace("%>",h.endToken))),g=new RegExp(_,"g"),N=g.exec(i);N;)q(i.slice(A,N.index))(N[1],!0),A=N.index+N[0].length,N=g.exec(i);q(i.substring(A,i.length-A)),S=`${S}return r.join(""); }`.replace(/[\r\t\n]/g," ");try{F=new Function("obj",S).apply(o,[o])}catch(Y){console.error(`'${Y.message}'`,` in 

Code:
`,S,`
`)}return F},e={templateData:null,onTemplateCompile:t.noop,onTemplateCreate:t.noop};t.templateSetup=i=>{e=r.extend({},e,i)},typeof globalThis.metroTemplateSetup<"u"&&t.templateSetup(globalThis.metroTemplateSetup),t.Component("template",{init:function(i,o){return this._super(o,i,e,{template:null,data:{}}),this},_compile:function(){let i=this.element,o=this.template.replace(/(&lt;%)/gm,"<%").replace(/(%&gt;)/gm,"%>").replace(/(&lt;)/gm,"<").replace(/(&gt;)/gm,">"),h=f(o,this.data);i.html(h),this._fireEvent("template-compile",{template:o,compiled:h,element:i})},_create:function(){let i=this.element,o=this.options;this.template=i.html(),this.data=t.utils.isObject(o.templateData)||{},this._compile(),this._fireEvent("template-create",{element:i})},buildWith:function(i){let o=t.utils.isObject(i);o&&(this.data=o,this._compile())},changeAttribute:function(i,o){i==="data-template-data"&&(this.options.templateData=o,this.data=t.utils.isObject(o)||{},this._compile())},destroy:function(){return this.element}}),t.template=f})(Metro,Dom),((t,r)=>{let f={label:"",textareaDeferred:0,charsCounter:null,charsCounterTemplate:"$1",defaultValue:"",prepend:"",append:"",clearButton:!0,clearButtonIcon:"❌",autoSize:!0,maxHeight:0,clsPrepend:"",clsAppend:"",clsComponent:"",clsTextarea:"",clsLabel:"",onChange:t.noop,onTextareaCreate:t.noop};t.textareaSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroTextareaSetup<"u"&&t.textareaSetup(globalThis.metroTextareaSetup),t.Component("textarea",{init:function(e,i){return this._super(i,e,f),this},_create:function(){let e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("textarea-create",{element:e})},_createStructure:function(){let e=this.element,i=this.elem,o=this.options,h=r("<div>").addClass(`textarea ${e[0].className}`),g=r("<textarea>").addClass("fake-textarea"),_;if(h.insertBefore(e),e.appendTo(h),g.appendTo(h),o.clearButton!==!1&&!e[0].readOnly&&(_=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon),_.appendTo(h)),e.attr("dir")==="rtl"&&h.addClass("rtl").attr("dir","rtl"),o.prepend!==""&&r("<div>").html(o.prepend).addClass("prepend").addClass(o.clsPrepend).appendTo(h),o.append!==""){let C=r("<div>").html(o.append);C.addClass("append").addClass(o.clsAppend).appendTo(h),_.css({right:C.outerWidth()+4})}if(i.className="",t.utils.isValue(o.defaultValue)&&e.val().trim()===""&&e.val(o.defaultValue),h.addClass(o.clsComponent),e.addClass(o.clsTextarea),o.label){let C=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(h);if(e.attr("id"))C.attr("for",e.attr("id"));else{let S=Hooks.useId(e[0]);C.attr("for",S),e.attr("id",S)}e.attr("dir")==="rtl"&&C.addClass("rtl")}e.is(":disabled")?this.disable():this.enable(),g.val(e.val()),o.autoSize===!0&&(h.addClass("autosize no-scroll-vertical"),setTimeout(()=>{this.resize()},100)),this.component=h},_createEvents:function(){let e=this,i=this.element,o=this.options,h=i.closest(".textarea"),g=h.find(".fake-textarea"),_=r(o.charsCounter);h.on(t.events.click,".input-clear-button",C=>{i.val(t.utils.isValue(o.defaultValue)?o.defaultValue:"").trigger("change").trigger("keyup").focus(),C.preventDefault(),C.stopPropagation()}),o.autoSize&&i.on(`${t.events.inputchange} ${t.events.keyup}`,function(){g.val(this.value),e.resize()}),i.on(t.events.blur,()=>{h.removeClass("focused")}),i.on(t.events.focus,()=>{h.addClass("focused")}),i.on(t.events.keyup,()=>{t.utils.isValue(o.charsCounter)&&_.length>0&&(_[0].tagName==="INPUT"?_.val(e.length()):_.html(o.charsCounterTemplate.replace("$1",e.length()))),e._fireEvent("change",{val:i.val(),length:e.length()})})},resize:function(){let e=this.element,i=this.options,o=e.closest(".textarea"),h=o.find(".fake-textarea"),g=h[0].scrollHeight;if(i.maxHeight&&g>=i.maxHeight){o.removeClass("no-scroll-vertical");return}i.maxHeight&&g<i.maxHeight&&o.addClass("no-scroll-vertical"),h[0].style.cssText="height:auto;",h[0].style.cssText=`height:${h[0].scrollHeight}px`,e[0].style.cssText=`height:${h[0].scrollHeight}px`},clear:function(){this.element.val("").trigger("change").trigger("keyup").focus()},toDefault:function(){this.element.val(t.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"").trigger("change").trigger("keyup").focus()},length:function(){return this.elem.value.split("").length},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break}},destroy:function(){let e=this.element,i=this.options;e.closest(".textarea").off(t.events.click,".input-clear-button"),i.autoSize&&e.off(`${t.events.inputchange} ${t.events.keyup}`),e.off(t.events.blur),e.off(t.events.focus),e.off(t.events.keyup),i.label&&this.component.prev("label").remove(),this.component.remove()}})})(Metro,Dom),((t,r)=>{let f={state:t.theme.LIGHT,target:"html",saveState:!0,saveStateKey:"THEME:SWITCHER",clsDark:"",darkSymbol:"🌙",lightSymbol:"🌞",mode:"switch",onThemeSwitcherCreate:t.noop,onChangeTheme:t.noop};t.themeSwitcherSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroThemeSwitcherSetup<"u"&&t.themeSwitcherSetup(globalThis.metroThemeSwitcherSetup),t.Component("theme-switcher",{init:function(e,i){return this._super(i,e,f,{container:null,state:null,target:null}),this.state=this.options.state,this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("theme-switcher-create")},_createStructure:function(){let e=this.element,i=this.options,o="light";i.saveState&&(o=t.storage.getItem(i.saveStateKey,!1)),e.attr("data-light-symbol",i.lightSymbol),e.attr("data-dark-symbol",i.darkSymbol),t.makePlugin(e,"switch"),this.container=e.wrap(r("<label>").addClass("theme-switcher")),this.container.addClass(`mode-${i.mode}`),this.target=r(i.target),this.target.length===0&&(this.target=r("html")),this._setState(i.saveState?o:i.state===t.theme.DARK),this._updateState()},_createEvents:function(){this.container.on("click",()=>{this._updateState()}),this._observeClass()},_observeClass:function(){new MutationObserver(e=>{for(let i of e)i.type==="attributes"&&i.attributeName==="class"&&(this.elem.checked=this.target[0].classList.contains("dark-side"))}).observe(this.target[0],{attributes:!0,attributeFilter:["class"]})},_setState:function(e=!1){this.elem.checked=e},_updateState:function(){let e=r.meta("metro:theme").length>0,i=this.options,o=this.elem,h=this.target;e||(o.checked?h.addClass("dark-side").addClass(this.options.clsDark):h.removeClass("dark-side").addClass(this.options.clsDark),i.saveState&&t.storage.setItem(i.saveStateKey,o.checked),this._fireEvent("change-theme",{state:o.checked}))},val:function(e){if(typeof e>"u")return this.elem.checked?t.theme.DARK:t.theme.LIGHT;this._setState(typeof e=="boolean"?e:e===t.theme.DARK),this._updateState()},changeAttribute:function(e,i){e==="data-target"&&(this.target=r(i),this._updateState())},destroy:function(){this.container.remove()}})})(Metro,Dom),((t,r)=>{let f=["slide-up","slide-down","slide-left","slide-right","fade","zoom","swirl","switch"],e={tileDeferred:0,size:"medium",cover:"",coverPosition:"center",effect:"",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onTileClick:t.noop,onTileCreate:t.noop};t.tileSetup=i=>{e=r.extend({},e,i)},typeof globalThis.metroTileSetup<"u"&&t.tileSetup(globalThis.metroTileSetup),t.Component("tile",{init:function(i,o){return this._super(o,i,e,{effectInterval:!1,images:[],slides:[],currentSlide:-1,unload:!1}),this},_create:function(){let i=this.element;this._createTile(),this._createEvents(),this._fireEvent("tile-create",{element:i})},_createTile:function(){function i(S,A,F){setTimeout(()=>{S.fadeOut(500,()=>{S.css("background-image",`url(${A})`),S.fadeIn()})},F*300)}let o=this,h=this.element,g=this.options,_=h.find(".slide"),C=h.find(".slide-front, .slide-back");if(h.addClass(`tile-${g.size}`),g.effect.indexOf("hover-")>-1&&(h.addClass(`effect-${g.effect}`),r.each(C,function(){let S=r(this);S.data("cover")!==void 0&&o._setCover(S,S.data("cover"),S.data("cover-position"))})),f.includes(g.effect)&&_.length>1&&(r.each(_,function(S){let A=r(this);o.slides.push(this),A.data("cover")!==void 0&&o._setCover(A,A.data("cover"),A.data("cover-position")),S>0&&(["slide-up","slide-down"].indexOf(g.effect)>-1&&A.css("top","100%"),["slide-left","slide-right"].indexOf(g.effect)>-1&&A.css("left","100%"),["fade","zoom","swirl","switch"].indexOf(g.effect)>-1&&A.css("opacity",0))}),this.currentSlide=0,this._runEffects()),g.cover!==""&&this._setCover(h,g.cover),g.effect==="image-set"){h.addClass("image-set"),r.each(h.children("img"),function(){o.images.push(this),r(this).remove()});let S=this.images.slice();for(let F=0;F<5;F++){let N=r.random(0,S.length-1),q=r("<div>").addClass(`img -js-img-${F}`).css("background-image",`url(${S[N].src})`);h.prepend(q),S.splice(N,1)}let A=[0,1,4,3,2];setInterval(()=>{let F=o.images.slice(),N=Farbe.Routines.randomColor();h.css("background-color",N);for(let q=0;q<A.length;q++){let Y=r.random(0,F.length-1),te=h.find(`.-js-img-${A[q]}`);i(te,F[Y].src,q),F.splice(Y,1)}A=A.reverse()},5e3)}},_runEffects:function(){let i=this.options;this.effectInterval===!1&&(this.effectInterval=setInterval(()=>{let o,h;o=r(this.slides[this.currentSlide]),this.currentSlide++,this.currentSlide===this.slides.length&&(this.currentSlide=0),h=this.slides[this.currentSlide],f.includes(i.effect)&&t.Effects[Str.camelCase(i.effect)](r(o)[0],r(h)[0],{duration:i.effectDuration})},i.effectInterval))},_stopEffects:function(){r.clearInterval(this.effectInterval),this.effectInterval=!1},_setCover:function(i,o,h){i.css({backgroundImage:`url(${o})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:h||this.options.coverPosition})},_createEvents:function(){let i=this,o=this.element,h=this.options;o.on(t.events.startAll,function(g){let _=r(this),C={w:o.width(),h:o.height()},S=t.utils.pageXY(g).x-_.offset().left,A=t.utils.pageXY(g).y-_.offset().top,F;t.utils.isRightMouse(g)===!1&&(S<C.w*1/3&&(A<C.h*1/2||A>C.h*1/2)?F="left":S>C.w*2/3&&(A<C.h*1/2||A>C.h*1/2)?F="right":S>C.w*1/3&&S<C.w*2/3&&A>C.h/2?F="bottom":F="top",h.canTransform===!0&&_.addClass(`transform-${F}`),h.target!==null&&setTimeout(()=>{document.location.href=h.target},100),i._fireEvent("tile-click",{side:F}))}),o.on([t.events.stopAll,t.events.leave].join(" "),function(){r(this).removeClass("transform-left").removeClass("transform-right").removeClass("transform-top").removeClass("transform-bottom")})},changeAttribute:()=>{},destroy:function(){let i=this.element;i.off(t.events.startAll),i.off([t.events.stopAll,t.events.leave].join(" ")),i.remove()}})})(Metro,Dom),((t,r)=>{let f={label:"",timepickerDeferred:0,hoursStep:1,minutesStep:1,secondsStep:1,value:null,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsHours:"",clsMinutes:"",clsSeconds:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"✓",cancelButtonIcon:"𐄂",onSet:t.noop,onOpen:t.noop,onClose:t.noop,onScroll:t.noop,onTimePickerCreate:t.noop};t.timePickerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroTimePickerSetup<"u"&&t.timePickerSetup(globalThis.metroTimePickerSetup),t.Component("time-picker",{init:function(e,i){return this._super(i,e,f,{picker:null,isOpen:!1,value:[],listTimer:{hours:null,minutes:null,seconds:null},id:null}),this},_create:function(){let e=this.element,i=this.options,o;for(this.id=e.attr("id")||Hooks.useId(this.elem),i.distance<1&&(i.distance=1),i.hoursStep<1&&(i.hoursStep=1),i.hoursStep>23&&(i.hoursStep=23),i.minutesStep<1&&(i.minutesStep=1),i.minutesStep>59&&(i.minutesStep=59),i.secondsStep<1&&(i.secondsStep=1),i.secondsStep>59&&(i.secondsStep=59),e.val()===""&&!t.utils.isValue(i.value)&&(i.value=datetime().format("HH:mm:ss")),this.value=(e.val()!==""?e.val():`${i.value}`).toArray(":"),o=0;o<3;o++)this.value[o]===void 0||this.value[o]===null?this.value[o]=0:this.value[o]=Number.parseInt(this.value[o]);this._normalizeValue(),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("time-picker-create",{element:e})},_normalizeValue:function(){let e=this.options;e.hoursStep>1&&(this.value[0]=t.utils.nearest(this.value[0],e.hoursStep,!0)),e.minutesStep>1&&(this.value[1]=t.utils.nearest(this.value[1],e.minutesStep,!0)),e.minutesStep>1&&(this.value[2]=t.utils.nearest(this.value[2],e.secondsStep,!0))},_createStructure:function(){let e=this.element,i=this.options,o=this.strings,h,g,_,C,S,A,F,N=Hooks.useId(e[0]);h=r("<div>").addClass(`wheel-picker time-picker ${e[0].className}`).addClass(i.clsPicker),h.attr("id")||h.attr("id",N),h.insertBefore(e),e.attr("readonly",!0).appendTo(h),this._addLabel(i.label,h,{className:i.clsLabel,id:h.attr("id"),dir:e.attr("dir")}),A=r("<div>").addClass("time-wrapper").appendTo(h),i.hours&&(g=r("<div>").attr("data-title",o.label_hours).addClass("hours").addClass(i.clsPart).addClass(i.clsHours).appendTo(A)),i.minutes&&(_=r("<div>").attr("data-title",o.label_minutes).addClass("minutes").addClass(i.clsPart).addClass(i.clsMinutes).appendTo(A)),i.seconds&&(C=r("<div>").attr("data-title",o.label_seconds).addClass("seconds").addClass(i.clsPart).addClass(i.clsSeconds).appendTo(A));let q=r("<div>").addClass("select-wrapper").appendTo(h);if(F=r("<div>").addClass("select-block").appendTo(q),i.hours===!0){for(g=r("<ul>").addClass("sel-hours").appendTo(F),S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(g);for(S=0;S<24;S=S+i.hoursStep)r("<li>").addClass(`js-hours-${S}`).html(Str.lpad(S,"0",2)).data("value",S).appendTo(g);for(S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(g)}if(i.minutes===!0){for(_=r("<ul>").addClass("sel-minutes").appendTo(F),S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(_);for(S=0;S<60;S=S+i.minutesStep)r("<li>").addClass(`js-minutes-${S}`).html(Str.lpad(S,"0",2)).data("value",S).appendTo(_);for(S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(_)}if(i.seconds===!0){for(C=r("<ul>").addClass("sel-seconds").appendTo(F),S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(C);for(S=0;S<60;S=S+i.secondsStep)r("<li>").addClass(`js-seconds-${S}`).html(Str.lpad(S,"0",2)).data("value",S).appendTo(C);for(S=0;S<i.distance;S++)r("<li>").html("&nbsp;").data("value",-1).appendTo(C)}F.height((i.distance*2+1)*40);let Y=r("<div>").addClass("action-block").appendTo(q);if(r("<button>").attr("type","button").addClass("button action-now").addClass(i.clsButton).addClass(i.clsTodayButton).html(`<span class="caption">${this.strings.label_now}</span>`).appendTo(Y),r("<button>").attr("type","button").addClass("button action-ok").addClass(i.clsButton).addClass(i.clsOkButton).html(`<span class="icon">${i.okButtonIcon}</span>`).appendTo(Y),r("<button>").attr("type","button").addClass("button action-cancel").addClass(i.clsButton).addClass(i.clsCancelButton).html(`<span class="icon">${i.cancelButtonIcon}</span>`).appendTo(Y),e[0].className="",i.copyInlineStyles===!0)for(S=0;S<e[0].style.length;S++)h.css(e[0].style[S],e.css(e[0].style[S]));i.showLabels===!0&&h.addClass("show-labels"),e.prop("disabled")&&h.addClass("disabled"),this.picker=h},_createEvents:function(){let e=this,i=this.options,o=this.picker;o.on("touchstart",".select-block ul",function(g){if(g.changedTouches)return;let _=t.utils.pageXY(g).y;r(document).on("touchmove",C=>{this.scrollTop-=i.scrollSpeed*(_>t.utils.pageXY(C).y?-1:1),_=t.utils.pageXY(C).y},{ns:e.id}),r(document).on("touchend",()=>{r(document).off(t.events.move,{ns:e.id}),r(document).off(t.events.stop,{ns:e.id})},{ns:e.id})}),o.on(t.events.click,g=>{e.isOpen===!1&&e.open(),g.stopPropagation()}),o.on(t.events.click,".action-ok",g=>{let _=o.find(".sel-hours li.active"),C=o.find(".sel-minutes li.active"),S=o.find(".sel-seconds li.active"),A=_.length===0?0:_.data("value"),F=C.length===0?0:C.data("value"),N=S.length===0?0:S.data("value");e.value=[A,F,N],e._normalizeValue(),e._set(),e.close(),g.stopPropagation()}),o.on(t.events.click,".action-cancel",g=>{e.close(),g.stopPropagation()});let h=150;r.each(["hours","minutes","seconds"],function(){let g=o.find(`.sel-${this}`),_=Hooks.useDebounce(C=>{let S;e.listTimer[this]=null,S=Math.round(Math.ceil(g.scrollTop())/40),this==="hours"&&i.hoursStep&&(S*=Number.parseInt(i.hoursStep)),this==="minutes"&&i.minutesStep&&(S*=Number.parseInt(i.minutesStep)),this==="seconds"&&i.secondsStep&&(S*=Number.parseInt(i.secondsStep));let A=g.find(`.js-${this}-${S}`),F=A.position().top-i.distance*40;g.find(".active").removeClass("active"),g[0].scrollTop=F,A.addClass("active"),t.utils.exec(i.onScroll,[A,g,o],g[0])},h);g.on("scroll",_)}),o.on(t.events.click,"ul li",function(g){let _=r(this),C=_.closest("ul"),S=_.position().top-i.distance*40;C.find(".active").removeClass("active"),r.animate({el:C[0],draw:{scrollTop:S},dur:300}),C[0].scrollTop=S,_.addClass("active"),t.utils.exec(i.onScroll,[_,C,o],C[0])}),o.on(t.events.click,".action-now",g=>{let _=datetime(),C=_.hour(),S=_.minute(),A=_.second();o.find(`.sel-hours li.js-hours-${C}`).click(),o.find(`.sel-minutes li.js-minutes-${S}`).click(),o.find(`.sel-seconds li.js-seconds-${A}`).click(),g.preventDefault(),g.stopPropagation()})},_set:function(){let e=this.element,i=this.options,o=this.picker,h="00",g="00",_="00";i.hours===!0&&(h=Number.parseInt(this.value[0]),o.find(".hours").html(Str.lpad(h,"0",2))),i.minutes===!0&&(g=Number.parseInt(this.value[1]),o.find(".minutes").html(Str.lpad(g,"0",2))),i.seconds===!0&&(_=Number.parseInt(this.value[2]),o.find(".seconds").html(Str.lpad(_,"0",2))),e.val([h,g,_].join(":")).trigger("change"),this._fireEvent("set",{val:this.value,elementVal:e.val()})},open:function(){let e=this.options,i=this.picker,o,h,g,_,C,S,A=i.find("li"),F=i.find(".select-wrapper"),N,q,Y;r.each(r(".time-picker"),function(){r(this).find("input").each(function(){t.getPlugin(this,"timepicker").close()})}),F.show(0),A.removeClass("active"),e.openMode==="auto"?(t.utils.inViewport(F[0])||F.parent().addClass("drop-up-select"),t.utils.inViewport(F[0])||(F.parent().removeClass("drop-up-select"),F.parent().addClass("drop-as-dialog"))):e.openMode==="dialog"?F.parent().addClass("drop-as-dialog"):e.openMode==="up"&&F.parent().addClass("drop-up-select");let te=(Ae,He)=>{Ae.scrollTop(0).animate({draw:{scrollTop:He.position().top-e.distance*40+Ae.scrollTop()},dur:100})};e.hours===!0&&(o=Number.parseInt(this.value[0]),_=i.find(".sel-hours"),N=_.find(`li.js-hours-${o}`).addClass("active"),te(_,N)),e.minutes===!0&&(h=Number.parseInt(this.value[1]),C=i.find(".sel-minutes"),q=C.find(`li.js-minutes-${h}`).addClass("active"),te(C,q)),e.seconds===!0&&(g=Number.parseInt(this.value[2]),S=i.find(".sel-seconds"),Y=S.find(`li.js-seconds-${g}`).addClass("active"),te(S,Y)),this.isOpen=!0,this._fireEvent("open",{val:this.value})},close:function(){let e=this.picker,i=this.options;e.find(".select-wrapper").hide(0),i.openMode==="auto"&&e.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{val:this.value})},_convert:e=>{let i;return Array.isArray(e)?i=e:typeof e.getMonth=="function"?i=[e.getHours(),e.getMinutes(),e.getSeconds()]:t.utils.isObject(e)?i=[e.h,e.m,e.s]:i=e.toArray(":"),i},val:function(e){if(e===void 0)return this.element.val();this.value=this._convert(e),this._normalizeValue(),this._set()},time:function(e){if(e===void 0)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(e),this._normalizeValue(),this._set()},date:function(e){if(e===void 0||typeof e.getMonth!="function")return datetime().hour(this.value[0]).minute(this.value[1]).second(this.value[2]).ms(0).val();this.value=this._convert(e),this._normalizeValue(),this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,i){switch(e){case"data-value":this.val(i);break;case"disabled":this.toggleState();break}},destroy:function(){let e=this.element,i=this.picker;r.each(["hours","minutes","seconds"],function(){i.find(`.sel-${this}`).off("scroll")}),i.off(t.events.start,".select-block ul"),i.off(t.events.click),i.off(t.events.click,".action-ok"),i.off(t.events.click,".action-cancel"),e.remove()}}),r(document).on(t.events.click,()=>{r.each(r(".time-picker"),function(){r(this).find("input").each(function(){t.getPlugin(this,"timepicker").close()})})})})(Metro,Dom),((t,r)=>{t.TOAST_POSITION={TOP:"top",BOTTOM:"bottom",CENTER:"center"};let f={callback:t.noop,timeout:3e3,distance:20,position:t.TOAST_POSITION.BOTTOM,clsToast:""};t.toastSetup=i=>{f=r.extend({},f,i)},typeof globalThis.metroToastSetup<"u"&&t.toastSetup(globalThis.metroToastSetup);let e={create:(i,o)=>{let h,g,_;typeof o=="function"&&(_=Object.assign({},f,{callback:o})),h=r.extend({},f,_),g=r("<div>").addClass("toast").html(i).appendTo(r("body"));let C=g.outerWidth();h.position==="top"?g.addClass("show-top").css({top:h.distance}):h.position==="center"?g.addClass("show-center"):g.css({bottom:h.distance}),g.css({left:"50%","margin-left":-(C/2)}).addClass(h.clsToast).fadeIn(200,()=>{setTimeout(()=>{e.remove(g,h.callback)},h.timeout)})},remove:(i,o)=>{i.length&&i.fadeOut(200,()=>{i.remove(),t.utils.exec(o,null,i[0])})}};t.toast=e,t.createToast=e.create})(Metro,Dom),((t,r)=>{let f={textToTokenize:"",spaceSymbol:"",spaceClass:"space",tokenClass:"",splitter:"",tokenElement:"span",useTokenSymbol:!0,useTokenIndex:!0,clsTokenizer:"",clsToken:"",clsTokenOdd:"",clsTokenEven:"",onTokenCreate:t.noop,onTokenize:t.noop,onTokenizerCreate:t.noop};t.tokenizerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroTokenizerSetup<"u"&&t.tokenizerSetup(globalThis.metroTokenizerSetup),t.Component("tokenizer",{init:function(e,i){return this._super(i,e,f,{originalText:""}),this},_create:function(){let e=this.element,i=this.options;this.originalText=i.textToTokenize?i.textToTokenize.trim():e.text().trim().replace(/[\r\n\t]/gi,"").replace(/\s\s+/g," "),this._createStructure(),this._fireEvent("tokenizer-create")},_tokenize:function(){let e=this,i=this.element,o=this.options,h=0,g,_;i.clear().attr("aria-label",this.originalText),r.each(this.originalText.split(o.splitter),function(C){let S=this===" ",A;A=r(`<${o.tokenElement}>`).html(S?o.spaceSymbol:this).attr("aria-hidden",!0).addClass(S?o.spaceClass:"").addClass(S&&o.useTokenSymbol?"":`ts-${this.replace(" ","_")}`).addClass(S&&o.useTokenIndex?"":`ti-${C+1}`).addClass(o.tokenClass?o.tokenClass:"").addClass(S?"":o.clsToken),S||(h++,A.addClass(h%2===0?"te-even":"te-odd"),A.addClass(h%2===0?o.clsTokenEven:o.clsTokenOdd)),o.prepend&&(_=r.isSelector(o.prepend)?r(o.prepend):r("<span>").html(o.prepend),A.prepend(_)),o.append&&(g=r.isSelector(o.append)?r(o.append):r("<span>").html(o.append),A.append(g)),i.append(A),e._fireEvent("token-create",{token:A[0]})}),e._fireEvent("tokenize",{tokens:i.children().items(),originalText:this.originalText})},_createStructure:function(){let e=this.element,i=this.options;e.addClass(i.clsTokenizer),this._tokenize()},tokenize:function(e){this.originalText=e,this._tokenize()},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={treeviewDeferred:0,showChildCount:!1,duration:100,hideActionsOnLeave:!0,recheckTimeout:100,leaves:[],onNodeClick:t.noop,onNodeDblClick:t.noop,onNodeDelete:t.noop,onNodeInsert:t.noop,onNodeClean:t.noop,onCheckClick:t.noop,onRadioClick:t.noop,onExpandNode:t.noop,onCollapseNode:t.noop,onTreeViewCreate:t.noop};t.treeViewSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroTreeViewSetup<"u"&&t.treeViewSetup(globalThis.metroTreeViewSetup),t.Component("tree-view",{init:function(e,i){return this._super(i,e,f),this},_create:function(){let e=this,i=this.element;this._createTree(),this._createEvents(),r.each(i.find("input"),function(){r(this).is(":checked")&&e._recheck(this)}),this._fireEvent("tree-view-create",{element:i})},_createIcon:e=>{let i=t.utils.isTag(e)?r(e):r("<img src='' alt=''>").attr("src",e),o=r("<span>").addClass("icon");return o.html(i.outerHTML()),o},_createCaption:(e,i)=>{let o=r("<span>").addClass("caption").html(e);return i&&(t.utils.isObject(i)?o.css(i):typeof i=="string"&&(o[0].style.cssText=i)),o},_createToggle:()=>r("<span>").addClass("node-toggle"),_createNode:function(e,i){let o=this.options,h=i||r("<li>"),g=r("<a>");if(h.prepend(g),(e.link||e.href)&&g.attr("href",e.link||e.href),e.caption&&g.prepend(this._createCaption(e.caption,e.style)),e.icon&&g.prepend(this._createIcon(e.icon)),e.html&&g.append(e.html),e.attributes&&r.type(e.attributes)==="object")for(let _ in e.attributes)g.attr(_,e.attributes[_]);if(e.style&&(typeof e.style=="string"?g[0].style.cssText=e.style:r.type(e.style)==="object"&&g.css(e.style)),e.badge){let[_,C]=e.badge.split(":");g.append(r("<span>").addClass("badge").addClass(C).html(_))}if(e.badges&&r.each(typeof e.badges=="string"?e.badges.toArray(","):Array.isArray(e.badges)?e.badges:[],(_,C)=>{let[S,A]=C.split(":");g.append(r("<span>").addClass("badge").addClass(A).html(S))}),e.secondary){let[_,C]=e.secondary.split(":");g.append(r("<span>").addClass("secondary-text").addClass(C).html(_))}if(e.actions){let _=r("<div class='dropdown-button'>").addClass("actions-holder");r("<span class='actions-list-trigger'>").text("⋮").appendTo(_);let C=r("<ul data-role='dropmenu' class='d-menu actions-list'>").appendTo(_);h.append(_);for(let S of e.actions)if(S.type&&S.type==="divider")r("<li>").addClass("divider").appendTo(C);else{let A=S.icon?r(S.icon).addClass("icon").outerHTML():"",F=`<span class="caption">${S.caption}</span>`,N=r(`<li><a href="#">${A} ${F}</a></li>`).appendTo(C);S.cls&&N.addClass(S.cls),N.find("a").on("click",function(){t.utils.exec(S.onclick,[N[0]],this)})}C.on(t.events.leave,S=>{o.hideActionsOnLeave&&t.getPlugin(C,"dropmenu").close()})}return e.current&&h.addClass("current"),e.type==="node"&&(h.addClass("tree-node"),h.append(r("<span>").addClass("node-toggle")),h.append(r("<ul>"))),h.children("ul").length&&(h.addClass("tree-node"),h.append(r("<span>").addClass("node-toggle")),t.utils.bool(e.collapsed)!==!0?h.addClass("expanded"):h.children("ul").hide()),h},_createCheckNode:function(e,i){let o=i||r("<li>");if(o.append(`
                <input data-role="${e.type}" type="${e.type??"checkbox"}" name="${e.name}" value="${e.value??""}" ${e.checked?"checked":""} data-append="${e.caption}"/>
            `),e.icon&&o.find("label").prepend(this._createIcon(e.icon)),e.attributes&&r.type(e.attributes)==="object")for(let h in e.attributes)o.attr(h,e.attributes[h]);if(e.secondary){let[h,g]=e.secondary.split(":");o.find("label").append(r("<span>").addClass("secondary-text").addClass(g).html(h))}return o},_createInputNode:(e,i)=>{let o=i||r("<li>");if(o.append(`
                <input data-role="${e.type}" type="${e.type??"text"}" name="${e.name}" value="${e.value??""}" data-prepend="${e.caption??""}" placeholder="${e.placeholder??""}"/>
            `),e.secondary){let[h,g]=e.secondary.split(":");o.find("label").append(r("<span>").addClass("secondary-text").addClass(g).html(h))}return o},_createTree:function(){let e=this.element,i=this.options,o=e.find("li[data-caption]");if(e.addClass("treeview"),r.each(o,(h,g)=>{let _=r(g);_.data("type")==="checkbox"||_.data("type")==="radio"?this._createCheckNode({caption:_.data("caption"),icon:_.data("icon"),type:_.data("type"),name:_.data("name"),attributes:_.data("attributes"),value:_.data("value"),checked:_.data("checked")==="true",secondary:_.data("secondary")},_):_.data("type")==="input"?this._createInputNode({caption:_.data("caption"),type:_.data("type"),name:_.data("name"),attributes:_.data("attributes"),value:_.data("value"),secondary:_.data("secondary"),placeholder:_.data("placeholder")},_):this._createNode({caption:_.data("caption"),icon:_.data("icon"),html:_.data("html"),attributes:_.data("attributes"),badge:_.data("badge"),badges:_.data("badges"),actions:_.data("actions"),type:_.data("type"),collapsed:_.data("collapsed"),link:_.data("link"),href:_.data("href"),secondary:_.data("secondary"),style:_.data("style")},_)}),i.leaves){let h=t.utils.isObject(i.leaves);h&&this.fillTree(h)}this._recheckTree()},_createEvents:function(){let e=this,i=this.element;i.on(t.events.click,".node-toggle",function(o){let h=r(this).parent();e.toggleNode(h),o.preventDefault()}),i.on(t.events.click,"a",function(o){let h=r(this).parent();e.current(h),e._fireEvent("node-click",{node:h[0]}),o.preventDefault()}),i.on(t.events.dblclick,"a",function(o){let h=r(this).closest("li"),g=h.children(".node-toggle"),_=h.children("ul");(g.length>0||_.length>0)&&e.toggleNode(h),e._fireEvent("node-dbl-click",{node:h[0]}),o.preventDefault()}),i.on(t.events.click,"input[type=radio]",function(){let o=r(this),h=o.is(":checked"),g=o.closest("li");e.current(g),e._fireEvent("radio-click",{checked:h,check:o[0],node:g[0]})}),i.on(t.events.click,"input[type=checkbox]",function(){let o=r(this),h=o.is(":checked"),g=o.closest("li");e._recheck(o),e._fireEvent("check-click",{checked:h,check:o[0],node:g[0]})})},_recheck:function(e){let i=r(e),o=i.is(":checked"),h=i.closest("li");this.current(h);let g=i.closest("li").find("ul input[type=checkbox]");g.attr("data-indeterminate",!1),g.prop("indeterminate",!1),g.prop("checked",o),g.trigger("change"),this._recheckTree()},_recheckTree:function(e){setTimeout(()=>{let i=this.element.find("input[type=checkbox]").reverse();r.each(i.reverse(),function(){let o=r(this),h=o.closest("li").children("ul").find("input[type=checkbox]").length,g=o.closest("li").children("ul").find("input[type=checkbox]").filter(_=>_.checked).length;h>0&&g===0&&(o.attr("data-indeterminate",!1),o.prop("indeterminate",!1),o.prop("checked",!1),o.trigger("change")),g===0?(o.attr("data-indeterminate",!1),o.prop("indeterminate",!1)):g>0&&h>g?(o.attr("data-indeterminate",!0),o.prop("indeterminate",!0)):h===g&&(o.attr("data-indeterminate",!1),o.prop("indeterminate",!1),o.prop("checked",!0),o.trigger("change"))})},e??this.options.recheckTimeout)},current:function(e){let i=this.element;if(!e)return i.find(".current");i.find(".current").removeClass("current"),e.addClass("current")},toggleNode:function(e){let i=r(e),o=this.options,h=!i.data("collapsed");i.toggleClass("expanded"),i.data("collapsed",h);let g=h===!0?"slideUp":"slideDown";h?this._fireEvent("collapse-node",{node:i[0]}):this._fireEvent("expand-node",{node:i[0]}),i.children("ul")[g](o.duration)},addTo:function(e,i){let o=this.element,h,g,_,C;return e?(C=r(e),h=C.children("ul"),h.length===0&&(h=r("<ul>").appendTo(C),_=this._createToggle(),_.appendTo(C),C.addClass("expanded")),C==null||C.addClass("tree-node")):h=o,i.type==="checkbox"||i.type==="radio"?g=this._createCheckNode(i):i.type==="input"?g=this._createInputNode(i):g=this._createNode(i),g.appendTo(h),this._fireEvent("node-insert",{node:g[0],parent:C?C[0]:null}),this._recheckTree(),g},insertBefore:function(e,i){let o=this._createNode(i);if(!e)return this.addTo(void 0,i);let h=r(e);return o.insertBefore(h),this._fireEvent("node-insert",{node:o[0],parent:h?h[0]:null}),o},insertAfter:function(e,i){let o=this._createNode(i);if(!e)return this.addTo(void 0,i);let h=r(e);return o.insertAfter(h),this._fireEvent("node-insert",{node:o[0],parent:h[0]}),o},del:function(e){let i=this.element,o=r(e),h=o.closest("ul"),g=h.closest("li");this._fireEvent("node-delete",{node:o[0]}),o.remove(),h.children().length===0&&!h.is(i)&&(h.remove(),g.removeClass("expanded"),g.children(".node-toggle").remove()),this._recheckTree()},clean:function(e){let i=r(e);i.children("ul").remove(),i.removeClass("expanded"),i.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:i[0]})},collapseNode(e){let i=this.options,o=r(e);o.removeClass("expanded"),o.data("collapsed",!0),o.children("ul").slideUp(i.duration),this._fireEvent("collapse-node",{node:o[0]})},expandNode(e){let i=this.options,o=r(e);o.hasClass("tree-node")&&(o.addClass("expanded"),o.data("collapsed",!1),o.children("ul").slideDown(i.duration),this._fireEvent("expand-node",{node:o[0]}))},collapseAll(){let e=this.element,i=this.options;e.find(".expanded").each((o,h)=>{let g=r(h),_=!g.data("collapsed");g.toggleClass("expanded"),g.data("collapsed",_);let C=_===!0?"slideUp":"slideDown";_?this._fireEvent("collapse-node",{node:g[0]}):this._fireEvent("expand-node",{node:g[0]}),g.children("ul")[C](i.duration)}),this._fireEvent("collapse-all")},expandAll(){let e=this.element,i=this.options;e.find(".tree-node:not(.expanded)").each((o,h)=>{let g=r(h),_=!g.data("collapsed");g.toggleClass("expanded"),g.data("collapsed",_);let C=_===!0?"slideUp":"slideDown";_?this._fireEvent("collapse-node",{node:g[0]}):this._fireEvent("expand-node",{node:g[0]}),g.children("ul")[C](i.duration)}),this._fireEvent("expand-all")},fillTree:function(e,i){for(let o of e){let h=this.addTo(i,{...o,type:o.items?"node":"item"});o.items&&this.fillTree(o.items,h)}},changeAttribute:function(e,i){e==="data-recheck-timeout"&&(this.options.recheckTimeout=i??100)},destroy:function(){let e=this.element;e.off(t.events.click,".node-toggle"),e.off(t.events.click,"li > .caption"),e.off(t.events.dblclick,"li > .caption"),e.off(t.events.click,"input[type=radio]"),e.off(t.events.click,"input[type=checkbox]"),e.remove()}})})(Metro,Dom),((t,r)=>{let f={required:i=>G.safeParse(G.required(),i).ok,length:(i,o)=>G.safeParse(G.length(+o),i).ok,minlength:(i,o)=>G.safeParse(G.minLength(+o),i).ok,maxlength:(i,o)=>G.safeParse(G.maxLength(+o),i).ok,min:(i,o)=>G.safeParse(G.minValue(+o),+i).ok,max:(i,o)=>G.safeParse(G.maxValue(+o),+i).ok,email:i=>G.safeParse(G.email(),i).ok,domain:i=>G.safeParse(G.domain(),i).ok,url:i=>G.safeParse(G.url(),i).ok,date:(i,o,h)=>{try{return o?Datetime.from(i,o,h):datetime(i),!0}catch{return!1}},number:i=>G.safeParse(G.number(),+i).ok,integer:i=>G.safeParse(G.integer(),+i).ok,safeInteger:i=>G.safeParse(G.safeInteger(),+i).ok,float:i=>G.safeParse(G.float(),+i).ok,digits:i=>G.safeParse(G.digits(),i).ok,hexcolor:i=>G.safeParse(G.hexColor(),i).ok,color:i=>t.utils.isValue(i)?Farbe.Palette.color(i,Farbe.StandardColors)||Farbe.Routines.isColor(i):!1,pattern:(i,o)=>G.safeParse(G.pattern(o),i).ok,compare:(i,o)=>i==o,not:(i,o)=>i!=o,notequals:(i,o)=>i!==o,equals:(i,o)=>i===o,custom:(i,o)=>t.utils.isFunc(o)===!1?!1:t.utils.exec(o,[i]),is_control:i=>i.attr("data-role"),reset_state:i=>{let o=r(i);f.is_control(o)?o.parent().removeClass("invalid valid"):o.removeClass("invalid valid")},set_valid_state:i=>{let o=r(i);f.is_control(o)?o.parent().addClass("valid"):o.addClass("valid")},set_invalid_state:i=>{let o=r(i);f.is_control(o)?o.parent().addClass("invalid"):o.addClass("invalid")},reset:function(i){let o=this;return r.each(r(i).find("[data-validate]"),function(){o.reset_state(this)}),this},validate:function(i,o,h,g,_){let C=!0,S=r(i),A=S.data("validate")!==void 0?String(S.data("validate")).split(" ").map(te=>te.trim()):[],F=[],N=S.closest("form").length>0,q,Y;return A.length===0?!0:(this.reset_state(S),S.attr("type")&&S.attr("type").toLowerCase()==="checkbox"?(A.indexOf("required")===-1?C=!0:C=S.is(":checked"),C===!1&&F.push("required"),o!==void 0&&(o.val+=C?0:1)):S.attr("type")&&S.attr("type").toLowerCase()==="radio"?(q=S.attr("name"),typeof q>"u"?C=!0:(Y=r(`input[name=${q.replace("[","\\[").replace("]","\\]")}]:checked`),C=Y.length>0),o!==void 0&&(o.val+=C?0:1)):r.each(A,function(){if(C===!1)return;let te=this.split("="),Ae,He,$e;Ae=te[0],te.shift(),He=te.join("="),["compare","not","equals","notequals"].indexOf(Ae)>-1&&(He=N?S[0].form.elements[He].value:r(`[name=${He}]`).val()),Ae==="date"&&(He=S.attr("data-value-format"),$e=S.attr("data-value-locale")),t.utils.isFunc(f[Ae])===!1?C=!0:_===!0||Ae==="required"||S.val().trim()!==""?C=f[Ae](S.val(),He,$e):C=!0,C===!1&&F.push(Ae),o!==void 0&&(o.val+=C?0:1)}),C===!1?(this.set_invalid_state(S),o!==void 0&&o.log.push({input:S[0],name:S.attr("name"),value:S.val(),funcs:A,errors:F}),g!==void 0&&t.utils.exec(g,[S,S.val()],S[0])):(this.set_valid_state(S),h!==void 0&&t.utils.exec(h,[S,S.val()],S[0])),C)}};t.validator=f;let e={validatorDeferred:0,submitTimeout:200,interactiveCheck:!1,clearInvalid:0,requiredMode:!0,useRequiredClass:!0,onBeforeSubmit:t.noop_true,onSubmit:t.noop,onError:t.noop,onValidate:t.noop,onErrorForm:t.noop,onValidateForm:t.noop,onValidatorCreate:t.noop};t.validatorSetup=i=>{e=r.extend({},e,i)},typeof globalThis.metroValidatorSetup<"u"&&t.validatorSetup(globalThis.metroValidatorSetup),t.Component("validator",{init:function(i,o){return this._super(o,i,e,{_onsubmit:null,_onreset:null,result:[]}),this},_create:function(){let i=this.element,o=this.options,h=i.find("[data-validate]");i.attr("novalidate","novalidate"),r.each(h,function(){let g=r(this);g.data("validate").indexOf("required")>-1&&o.useRequiredClass===!0&&(f.is_control(g)?g.parent().addClass("required"):g.addClass("required")),o.interactiveCheck===!0&&g.on(t.events.inputchange,function(){f.validate(this,void 0,void 0,void 0,o.requiredMode)})}),this._onsubmit=null,this._onreset=null,i[0].onsubmit!==null&&(this._onsubmit=i[0].onsubmit,i[0].onsubmit=null),i[0].onreset!==null&&(this._onreset=i[0].onreset,i[0].onreset=null),i[0].onsubmit=()=>this._submit(),i[0].onreset=()=>this._reset(),this._fireEvent("validator-create",{element:i})},_reset:function(){f.reset(this.element),this._onreset!==null&&t.utils.exec(this._onreset,null,this.element[0])},_submit:function(){let i=this.element,o=this.options,h=this.elem,g=i.find("[data-validate]"),_=i.find("input[type=submit], button[type=submit]"),C={val:0,log:[]},S=r.serializeToArray(i);return _.length>0&&_.attr("disabled","disabled").addClass("disabled"),r.each(g,function(){f.validate(this,C,o.onValidate,o.onError,o.requiredMode)}),_.removeAttr("disabled").removeClass("disabled"),C.val+=t.utils.exec(o.onBeforeSubmit,[S],this.elem)===!1?1:0,C.val===0?(this._fireEvent("validate-form",{data:S}),setTimeout(()=>{t.utils.exec(o.onSubmit,[S],h),i.fire("formsubmit",{data:S}),this._onsubmit!==null&&t.utils.exec(this._onsubmit,null,h)},o.submitTimeout)):(this._fireEvent("error-form",{log:C.log,data:S}),o.clearInvalid>0&&setTimeout(()=>{r.each(g,function(){let A=r(this);f.is_control(A)?A.parent().removeClass("invalid"):A.removeClass("invalid")})},o.clearInvalid)),C.val===0},changeAttribute:()=>{}})})(Metro,Dom),((t,r)=>{let f={duration:4e3,animationDuration:null,transitionDuration:null,transition:"fade",animation:null,slides:[],shuffle:!1,align:"center",valign:"center",loop:!0,autoplay:!0,mute:!0,cover:!0,preload:!0,timer:!0,overlay:2,color:null,volume:1,onPlay:t.noop,onPause:t.noop,onEnd:t.noop,onWalk:t.noop,onNext:t.noop,onPrev:t.noop,onJump:t.noop,onVegasCreate:t.noop};t.vegasSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroVegasSetup<"u"&&t.vegasSetup(globalThis.metroVegasSetup),t.Component("vegas",{videoCache:{},init:function(e,i){return this.transitions=["fade","fade2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsUp","kenburnsDown","kenburnsRight","kenburnsLeft","kenburnsUpLeft","kenburnsUpRight","kenburnsDownLeft","kenburnsDownRight"],this.support={objectFit:"objectFit"in document.body.style,video:!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)},this._super(i,e,f,{slide:0,slides:null,total:0,noshow:!1,paused:!1,ended:!1,timer:null,overlay:null,first:!0,timeout:!1}),this},_create:function(){let e=this.element,i=this.options;this.slides=t.utils.isObject(i.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!i.autoplay||this.noshow,i.shuffle&&this.slides.shuffle(),i.preload&&this._preload(),this._createStructure(),this._createEvents(),this._fireEvent("vegas-create",{element:e})},_createStructure:function(){let e=this.element,i=this.options,o=e[0].tagName==="BODY",h;o||(e.css("height",e.css("height")),h=r('<div class="vegas-wrapper">').css("overflow",e.css("overflow")).css("padding",e.css("padding")),e.css("padding")||h.css("padding-top",e.css("padding-top")).css("padding-bottom",e.css("padding-bottom")).css("padding-left",e.css("padding-left")).css("padding-right",e.css("padding-right")),e.children().appendTo(h),e.clear()),e.addClass("vegas-container"),o||e.append(h),i.timer&&(this.timer=r('<div class="vegas-timer"><div class="vegas-timer-progress">'),e.append(this.timer)),i.overlay&&(this.overlay=r('<div class="vegas-overlay">').addClass(`overlay${typeof i.overlay=="boolean"||Number.isNaN(i.overlay)?2:+i.overlay}`),e.append(this.overlay)),setTimeout(()=>{t.utils.exec(i.onPlay,null,e[0]),this._goto(this.slide)},1)},_createEvents:()=>{},_preload:function(){let e,i;for(i=0;i<this.slides.length;i++){let o=this.slides[i];o.src&&(e=new Image,e.src=this.slides[i].src),o.video&&(Array.isArray(o.video)?this._video(o.video):this._video(o.video.src))}},_slideShow:function(){let e=this.options;this.total>1&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(()=>{this.next()},e.duration))},_timer:function(e){let i=this.options;clearTimeout(this.timeout),this.timer&&(this.timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),!(this.ended||this.paused||this.noshow)&&e&&setTimeout(()=>{this.timer.addClass("vegas-timer-running").find("div").css("transition-duration",`${+i.duration-100}ms`)},100))},_fadeSoundIn:function(e,i){let o=this.options;r.animate({el:e,draw:{volume:+o.volume},dur:i})},_fadeSoundOut:(e,i)=>{r.animate({el:e,draw:{volume:0},dur:i})},_video:function(e){let i,o=e.toString(),h=Array.isArray(e)?e:[e];if(this.videoCache[o])return this.videoCache[o];let g=document.createElement("video");g.preload=!0;for(let _ of h)i=document.createElement("source"),i.src=_,g.appendChild(i);return this.videoCache[o]=g,g},_goto:function(e){let i=this,o=this.element,h=this.options,g=e;typeof this.slides[g]>"u"&&(g=0),this.slide=g;let _,C,S,A,F,N=o.children(".vegas-slide"),q=this.slides[e],Y=h.cover,te,Ae,He,$e;this.first&&(this.first=!1),Y!=="repeat"&&(Y===!0?Y="cover":Y===!1&&(Y="contain")),h.transition==="random"?te=r.random(this.transitions):te=h.transition?h.transition:this.transitions[0],h.animation==="random"?Ae=r.random(this.animations):Ae=h.animation?h.animation:this.animations[0],h.transitionDuration?h.transitionDuration==="auto"||+h.transitionDuration>+h.duration?He=+h.duration:He=+h.transitionDuration:He=+h.duration,h.animationDuration?h.animationDuration==="auto"||+h.animationDuration>+h.duration?$e=+h.duration:$e=+h.animationDuration:$e=+h.duration,_=r("<div>").addClass("vegas-slide").addClass(`vegas-transition-${te}`),this.support.video&&q.video?(S=Array.isArray(q.video)?this._video(q.video):this._video(q.video.src),S.loop=q.video.loop?q.video.loop:h.loop,S.muted=q.video.mute?q.video.mute:h.mute,S.muted?S.pause():this._fadeSoundIn(S,He),F=r(S).addClass("vegas-video").css("background-color",h.color||"#000000"),this.support.objectFit?F.css("object-position",`${h.align} ${h.valign}`).css("object-fit",Y).css("width","100%").css("height","100%"):Y==="contain"&&F.css("width","100%").css("height","100%"),_.append(F)):(A=new Image,C=r("<div>").addClass("vegas-slide-inner").css({backgroundImage:`url("${q.src}")`,backgroundColor:h.color||"#000000",backgroundPosition:`${h.align} ${h.valign}`}),Y==="repeat"?C.css("background-repeat","repeat"):C.css("background-size",Y),Ae&&C.addClass(`vegas-animation-${Ae}`).css("animation-duration",`${$e}ms`),_.append(C)),N.length?N.eq(N.length-1).after(_):o.prepend(_),N.css("transition","all 0ms").each(function(){this.className="vegas-slide",this.tagName==="VIDEO"&&(this.className+=" vegas-video"),te&&(this.className+=` vegas-transition-${te}`,this.className+=` vegas-transition-${te}-in`)}),this._timer(!1);function Pe(){i._timer(!0),setTimeout(()=>{N.css("transition",`all ${He}ms`).addClass(`vegas-transition-${te}-out`),N.each(()=>{let Se=N.find("video").get(0);Se&&(Se.volume=1,i._fadeSoundOut(Se,He))}),_.css("transition",`all ${He}ms`).addClass(`vegas-transition-${te}-in`);for(let Se=0;Se<N.length-1;Se++)N.eq(Se).remove();i._fireEvent("walk",{slide:i.current(!0)}),i._slideShow()},100)}S?(S.readyState===4&&(S.currentTime=0),S.play(),Pe()):(A.src=q.src,A.complete?Pe():A.onload=Pe)},_end:function(){this.ended=this.options.autoplay,this._timer(!1),this._fireEvent("end",{slide:this.current(!0)})},play:function(){this.paused&&(this._fireEvent("play",{slide:this.current(!0)}),this.paused=!1,this.next())},pause:function(){this._timer(!1),this.paused=!0,this._fireEvent("pause",{slide:this.current(!0)})},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(e){return e?{slide:this.slide,data:this.slides[this.slide]}:this.slide},jump:function(e){if(e<=0||e>this.slides.length||e===this.slide+1)return this;this.slide=e-1,this._fireEvent("jump",{slide:this.current(!0)}),this._goto(this.slide)},next:function(){let e=this.options;if(this.slide++,this.slide>=this.slides.length){if(!e.loop)return this._end();this.slide=0}this._fireEvent("next",{slide:this.current(!0)}),this._goto(this.slide)},prev:function(){let e=this.options;if(this.slide--,this.slide<0){if(!e.loop)return this.slide++,this._end();this.slide=this.slides.length-1}this._fireEvent("prev",{slide:this.current(!0)}),this._goto(this.slide)},changeAttribute:function(e){let i=this.element,o=this.options,h=Str.camelCase(e.replace("data-",""));h==="slides"?(o.slides=i.attr("data-slides"),this.slides=t.utils.isObject(o.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!this.options.autoplay||this.noshow):typeof f[h]<"u"&&(o[h]=JSON.parse(i.attr(e)))},destroy:function(){let e=this.element,i=this.options;clearTimeout(this.timeout),e.removeClass("vegas-container"),e.find("> .vegas-slide").remove(),e.find("> .vegas-wrapper").children().appendTo(e),e.find("> .vegas-wrapper").remove(),i.timer&&this.timer.remove(),i.overlay&&this.overlay.remove(),e.remove()}})})(Metro,Dom),((t,r)=>{let f={videoDeferred:0,src:null,poster:"",logo:"",logoHeight:32,logoWidth:"auto",logoTarget:"",volume:.5,loop:!1,autoplay:!1,fullScreenMode:t.fullScreenMode.DESKTOP,aspectRatio:t.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:"⮔",stopIcon:"⏹",playIcon:"▶",pauseIcon:"⏸",muteIcon:"🔇",volumeLowIcon:"🔈",volumeMediumIcon:"🔉",volumeHighIcon:"🔊",screenMoreIcon:"⬜",screenLessIcon:"▫️",onPlay:t.noop,onPause:t.noop,onStop:t.noop,onEnd:t.noop,onMetadata:t.noop,onTime:t.noop,onVideoPlayerCreate:t.noop};t.videoPlayerSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroVideoPlayerSetup<"u"&&t.videoPlayerSetup(globalThis.metroVideoPlayerSetup),t.Component("video-player",{init:function(e,i){return this._super(i,e,f,{fullscreen:!1,preloader:null,player:null,video:i,stream:null,volume:null,volumeBackup:0,muted:!1,fullScreenInterval:!1,isPlaying:!1,id:null}),this},_create:function(){let e=this.element,i=this.options;this.id=e.attr("id")||Hooks.useId(this.elem),t.fullScreenEnabled===!1&&(i.fullScreenMode=t.fullScreenMode.WINDOW),this._createPlayer(),this._createControls(),this._createEvents(),this._setAspectRatio(),i.autoplay===!0&&this.play(),this._fireEvent("video-player-create",{element:e,player:this.player})},_createPlayer:function(){let e=this.element,i=this.options,o=this.video,h=e.wrap("<div>").addClass(`media-player video-player ${e[0].className}`),g=r("<div>").addClass("preloader").appendTo(h),_=r("<a>").attr("href",i.logoTarget).addClass("logo").appendTo(h);e.wrap("<div>").addClass("video-wrapper"),r.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){e.removeAttr(this)}),e.attr("preload","auto"),i.poster!==""&&e.attr("poster",i.poster),o.volume=i.volume,g.activity({type:"cycle",style:"color"}),g.hide(),this.preloader=g,i.logo!==""&&r("<img>").css({height:i.logoHeight,width:i.logoWidth}).attr("src",i.logo).appendTo(_),i.src!==null&&this._setSource(i.src),e[0].className="",this.player=h},_setSource:function(e){let i=this.element;i.find("source").remove(),i.removeAttr("src"),Array.isArray(e)?r.each(e,function(){this.src!==void 0&&r("<source>").attr("src",this.src).attr("type",this.type!==void 0?this.type:"").appendTo(i)}):i.attr("src",e)},_createControls:function(){let e=this.element,i=this.options,o=this.elem,h=r("<div>").addClass("controls").addClass(i.clsControls).appendTo(this.player),g=r("<div>").addClass("stream").appendTo(h),_=r("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(g),C=r("<div>").addClass("volume").appendTo(h),S=r("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(C),A=r("<div>").addClass("info-box").appendTo(h);i.showInfo!==!0&&A.hide(),t.makePlugin(_,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:()=>{o.paused||o.pause()},onStop:N=>{o.seekable.length>0&&(o.currentTime=(this.duration*N/100).toFixed(0)),o.paused&&o.currentTime>0&&o.play()}}),this.stream=_,i.showStream!==!0&&g.hide(),t.makePlugin(S,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:i.volume*100,onChangeValue:N=>{o.volume=N/100}}),this.volume=S,i.showVolume!==!0&&C.hide();let F;i.showLoop===!0&&(F=r("<button>").attr("type","button").addClass("button square loop").attr("title",this.strings.label_loop).html(i.loopIcon).appendTo(h)),i.showPlay===!0&&r("<button>").attr("type","button").addClass("button square play").attr("title",this.strings.label_play).html(i.playIcon).appendTo(h),i.showStop===!0&&r("<button>").attr("type","button").addClass("button square stop").attr("title",this.strings.label_stop).html(i.stopIcon).appendTo(h),i.showMute===!0&&r("<button>").attr("type","button").addClass("button square mute").attr("title",this.strings.label_mute).html(i.muteIcon).appendTo(h),i.showFull===!0&&r("<button>").attr("type","button").addClass("button square full").html(i.screenMoreIcon).appendTo(h),i.loop===!0&&(F.addClass("active"),e.attr("loop","loop")),this._setVolume(),i.muted&&(this.volumeBackup=o.volume,t.getPlugin(this.volume,"slider").val(0),o.volume=0),A.html("00:00 / 00:00")},_createEvents:function(){let e=this.element,i=this.options,o=this.elem,h=this.player;e.on("loadstart",()=>{this.preloader.show()}),e.on("loadedmetadata",()=>{this.duration=o.duration.toFixed(0),this._setInfo(0,this.duration),t.utils.exec(i.onMetadata,[o,h],e[0])}),e.on("canplay",()=>{this._setBuffer(),this.preloader.hide()}),e.on("progress",()=>{this._setBuffer()}),e.on("timeupdate",()=>{let g=Math.round(o.currentTime*100/this.duration);this._setInfo(o.currentTime,this.duration),t.getPlugin(this.stream,"slider").val(g),t.utils.exec(i.onTime,[o.currentTime,this.duration,o,h],e[0])}),e.on("waiting",()=>{this.preloader.show()}),e.on("loadeddata",()=>{}),e.on("play",()=>{h.find(".play").html(i.pauseIcon),t.utils.exec(i.onPlay,[o,h],e[0])}),e.on("pause",()=>{h.find(".play").html(i.playIcon),t.utils.exec(i.onPause,[o,h],e[0])}),e.on("stop",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onStop,[o,h],e[0])}),e.on("ended",()=>{t.getPlugin(this.stream,"slider").val(0),t.utils.exec(i.onEnd,[o,h],e[0])}),e.on("volumechange",()=>{this._setVolume()}),h.on(t.events.click,".play",()=>{o.paused?this.play():this.pause()}),h.on(t.events.click,".stop",()=>{this.stop()}),h.on(t.events.click,".mute",()=>{this._toggleMute()}),h.on(t.events.click,".loop",()=>{this._toggleLoop()}),h.on(t.events.click,".full",()=>{this.fullscreen=!this.fullscreen,h.find(".full").html(this.fullscreen===!0?i.screenLessIcon:i.screenMoreIcon),i.fullScreenMode===t.fullScreenMode.WINDOW?this.fullscreen===!0?h.addClass("full-screen"):h.removeClass("full-screen"):this.fullscreen===!0?(t.requestFullScreen(o),this.fullScreenInterval===!1&&(this.fullScreenInterval=setInterval(()=>{t.inFullScreen()===!1&&(this.fullscreen=!1,clearInterval(this.fullScreenInterval),this.fullScreenInterval=!1,h.find(".full").html(i.screenMoreIcon))},1e3))):t.exitFullScreen()}),r(globalThis).on(t.events.keyup,g=>{this.fullscreen&&g.keyCode===27&&h.find(".full").click()},{ns:this.id}),r(globalThis).on(t.events.resize,()=>{this._setAspectRatio()},{ns:this.id})},_toggleLoop:function(){let e=this.player.find(".loop");e.length!==0&&(e.toggleClass("active"),e.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.video.volume=this.volumeBackup:(this.volumeBackup=this.video.volume,this.video.volume=0),t.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(e,i){this.player.find(".info-box").html(`${t.utils.secondsToFormattedString(Math.round(e))} / ${t.utils.secondsToFormattedString(Math.round(i))}`)},_setBuffer:function(){let e=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;t.getPlugin(this.stream,"slider").buff(e)},_setVolume:function(){let e=this.video,i=this.player,o=this.options,h=i.find(".mute"),g=e.volume*100;g>1&&g<30?h.html(o.volumeLowIcon):g>=30&&g<60?h.html(o.volumeMediumIcon):g>=60&&g<=100?h.html(o.volumeHighIcon):h.html(o.muteIcon)},_setAspectRatio:function(){let e=this.player,i=this.options,o=e.outerWidth(),h;switch(i.aspectRatio){case t.aspectRatio.SD:h=t.utils.aspectRatioH(o,"4/3");break;case t.aspectRatio.CINEMA:h=t.utils.aspectRatioH(o,"21/9");break;default:h=t.utils.aspectRatioH(o,"16/9")}e.outerHeight(h)},aspectRatio:function(e){this.options.aspectRatio=e,this._setAspectRatio()},play:function(e){e&&this._setSource(e),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&(this.isPlaying=!0,this.video.play())},pause:function(){this.isPlaying=!1,this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,t.getPlugin(this.stream,"slider").val(0),this._offMouse()},setVolume:function(e){if(typeof e>"u")return this.video.volume;let i=Number.parseFloat(e);i>1&&(i/=100),this.video.volume=i,t.getPlugin(this.volume[0],"slider").val(e*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr("data-aspect-ratio"),this._setAspectRatio()},changeSource:function(){let e=JSON.parse(this.element.attr("data-src"));this.play(e)},changeVolume:function(){let e=this.element.attr("data-volume");this.setVolume(e)},changeAttribute:function(e){switch(e){case"data-aspect-ratio":this.changeAspectRatio();break;case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){let e=this.element,i=this.player;return t.getPlugin(this.stream,"slider").destroy(),t.getPlugin(this.volume,"slider").destroy(),e.off("loadstart"),e.off("loadedmetadata"),e.off("canplay"),e.off("progress"),e.off("timeupdate"),e.off("waiting"),e.off("loadeddata"),e.off("play"),e.off("pause"),e.off("stop"),e.off("ended"),e.off("volumechange"),i.off(t.events.click,".play"),i.off(t.events.click,".stop"),i.off(t.events.click,".mute"),i.off(t.events.click,".loop"),i.off(t.events.click,".full"),r(globalThis).off(t.events.keyup,{ns:this.id}),r(globalThis).off(t.events.resize,{ns:this.id}),e}})})(Metro,Dom),((t,r)=>{let f={onViewport:t.noop,onViewportEnter:t.noop,onViewportLeave:t.noop,onViewportCheckCreate:t.noop};t.viewportCheckSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroViewportCheckSetup<"u"&&t.viewportCheckSetup(globalThis.metroViewportCheckSetup),t.Component("viewport-check",{init:function(e,i){return this._super(i,e,f,{inViewport:!1,id:null}),this},_create:function(){this.id=this.element.attr("id")||Hooks.useId(this.elem),this.inViewport=t.utils.inViewport(this.elem),this._createEvents(),this._fireEvent("viewport-check-create")},_createEvents:function(){let e=this.elem;r(globalThis).on(t.events.scroll,()=>{let i=this.inViewport;this.inViewport=t.utils.inViewport(e),i!==this.inViewport&&(this.inViewport?this._fireEvent("viewport-enter"):this._fireEvent("viewport-leave")),this._fireEvent("viewport",{state:this.inViewport})},{ns:this.id})},state:function(){return this.inViewport},destroy:function(){return r(globalThis).off(t.events.scroll,{ns:this.id}),this.element}})})(Metro,Dom),((t,r)=>{let f={_runtime:!1,windowDeferred:0,hidden:!1,width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,draggable:!0,dragElement:".window-caption .title",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:null,resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",closeAction:t.actions.HIDE,customButtons:null,status:"",canClose:!0,canMaximize:!0,canMinimize:!0,clsCustomButton:"",clsCaption:"",clsContent:"",clsWindow:"",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,onDragStart:t.noop,onDragStop:t.noop,onDragMove:t.noop,onWindowClick:t.noop,onCaptionClick:t.noop,onCaptionDblClick:t.noop,onCloseClick:t.noop,onMaxClick:t.noop,onMinClick:t.noop,onResizeStart:t.noop,onResizeStop:t.noop,onResize:t.noop,onWindowCreate:t.noop,onShow:t.noop,onWindowDestroy:t.noop,onCanClose:t.noop_true,onMinimize:t.noop,onMaximize:t.noop,onClose:t.noop};t.windowSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroWindowSetup<"u"&&t.windowSetup(globalThis.metroWindowSetup),t.Component("window",{init:function(e,i){return this._super(i,e,f,{win:null,overlay:null,position:{top:0,left:0},hidden:!1,content:null}),this},_create:function(){let e=this.element,i=this.options,o,h,g=i.dragArea==="parent"?e.parent():r(i.dragArea),_;i.modal===!0&&(i.btnMax=!1,i.btnMin=!1,i.resizable=!1),t.utils.isNull(i.content)||(t.utils.isUrl(i.content)&&t.utils.isVideoUrl(i.content)?(i.content=t.utils.embedUrl(i.content),e.css({height:"100%"})):!t.utils.isQ(i.content)&&t.utils.isFunc(i.content)&&(i.content=t.utils.exec(i.content)),_=r(i.content),_.length===0?e.appendText(i.content):e.append(_)),i.content=e,i._runtime===!0&&this._runtime(e,"window"),o=this._window(i),o.addClass("no-visible"),g.append(o),i.overlay===!0&&(h=this._overlay(),h.appendTo(o.parent()),this.overlay=h),this.win=o,this._fireEvent("window-create",{win:this.win[0],element:e}),setTimeout(()=>{this._setPosition(),i.hidden!==!0&&this.win.removeClass("no-visible"),this._fireEvent("show",{win:this.win[0],element:e})},100)},_setPosition:function(){let e=this.options,i=this.win,o=e.dragArea==="parent"?i.parent():r(e.dragArea),h=o.height()/2-i[0].offsetHeight/2,g=o.width()/2-i[0].offsetWidth/2,_,C,S,A;if(e.place!=="auto"){switch(e.place.toLowerCase()){case"top-left":_=0,C=0,S="auto",A="auto";break;case"top-center":_=0,C=g,S="auto",A="auto";break;case"top-right":_=0,S=0,C="auto",A="auto";break;case"right-center":_=h,S=0,C="auto",A="auto";break;case"bottom-right":A=0,S=0,C="auto",_="auto";break;case"bottom-center":A=0,C=g,S="auto",_="auto";break;case"bottom-left":A=0,C=0,S="auto",_="auto";break;case"left-center":_=h,C=0,S="auto",A="auto";break;default:_=h,C=g,A="auto",S="auto"}i.css({top:_,left:C,bottom:A,right:S})}},_window:function(e){let i,o,h,g,_,C,S,A,F,N,q=e.width,Y=e.height;if(i=r("<div>").addClass("window"),e.modal===!0&&i.addClass("modal"),o=r("<div>").addClass("window-caption"),h=r("<div>").addClass("window-content"),i.append(o),i.append(h),(e.status||e.resizable)&&(N=r("<div>").addClass("window-status").html(e.status),i.append(N)),e.shadow===!0&&i.addClass("shadowed"),t.utils.isValue(e.icon)&&(g=r("<span>").addClass("icon").html(e.icon),g.appendTo(o)),r("<span>").addClass("title").html(t.utils.isValue(e.title)?e.title:"&nbsp;").appendTo(o),t.utils.isNull(e.content)||(t.utils.isQ(e.content)?e.content.appendTo(h):h.html(e.content)),_=r("<div>").addClass("buttons"),_.appendTo(o),e.btnMax===!0&&(A=r("<span>").addClass("button small square btn-max sys-button"),A.appendTo(_)),e.btnMin===!0&&(S=r("<span>").addClass("button small square btn-min sys-button"),S.appendTo(_)),e.btnClose===!0&&(C=r("<span>").addClass("button small square btn-close sys-button"),C.appendTo(_)),e.customButtons){let te=t.utils.isObject(e.customButtons);te&&r.each(te,function(){let Ae=r("<span>");Ae.addClass("button btn-custom").addClass(e.clsCustomButton).addClass(this.cls).attr("tabindex",-1).html(this.html),this.attr&&typeof this.attr=="object"&&r.each(this.attr,(He,$e)=>{Ae.attr(Str.dashedName(He),$e)}),Ae.data("action",this.onclick),_.prepend(Ae)})}return o.on(t.events.click,".btn-custom",function(te){if(t.utils.isRightMouse(te))return;let Ae=r(this),He=Ae.data("action");t.utils.exec(He,[Ae],this)}),i.attr("id",e.id===void 0?Hooks.useId(i[0]):e.id),i.on(t.events.startAll,".window-caption",te=>{this._fireEvent("caption-click",{win:i[0],e:te})}),i.on(t.events.dblclick,".window-caption",te=>{this.maximize(te)}),o.on(t.events.click,".btn-max, .btn-min, .btn-close",te=>{if(t.utils.isRightMouse(te))return;let Ae=r(te.target);Ae.hasClass("btn-max")&&e.canMaximize&&this.maximize(te),Ae.hasClass("btn-min")&&e.canMinimize&&this.minimize(te),Ae.hasClass("btn-close")&&e.canClose&&this.close(te)}),i.on(t.events.click,te=>{this._fireEvent("window-click",{win:i[0],e:te})}),e.draggable===!0&&t.makePlugin(i,"draggable",{dragContext:i[0],dragElement:o,dragArea:e.dragArea,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onDragMove:e.onDragMove}),i.addClass(e.clsWindow),o.addClass(e.clsCaption),h.addClass(e.clsContent),e.minWidth===0&&(e.minWidth=34,r.each(_.children(".btn-custom"),function(){e.minWidth+=t.utils.hiddenElementSize(this).width}),e.btnMax&&(e.minWidth+=34),e.btnMin&&(e.minWidth+=34),e.btnClose&&(e.minWidth+=34)),e.minWidth>0&&!Number.isNaN(e.width)&&e.width<e.minWidth&&(q=e.minWidth),e.minHeight>0&&!Number.isNaN(e.height)&&e.height>e.minHeight&&(Y=e.minHeight),e.resizable&&(F=r("<span>").addClass("resize-element"),F.appendTo(i),i.addClass("resizable"),t.makePlugin(i,"resizable",{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,resizeElement:".resize-element",onResizeStart:e.onResizeStart,onResizeStop:e.onResizeStop,onResize:e.onResize})),i.css({width:q,height:Y,position:e.position,top:e.top,left:e.left}),i},_overlay:function(){let e=this.options,i=r("<div>");return i.addClass("overlay"),e.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(e.overlayColor),e.overlayAlpha)}),i},width:function(e){let i=this.win;return t.utils.isValue(e)?(i.css("width",Number.parseInt(e)),this):i.width()},height:function(e){let i=this.win;return t.utils.isValue(e)?(i.css("height",Number.parseInt(e)),this):i.height()},maximize:function(e){var g;let i=this.win,o=this.options,h=r(e.target);o.btnMax&&(i.removeClass("minimized"),i.toggleClass("maximized")),(g=h.hasClass)!=null&&g.call(h,"title")?this._fireEvent("caption-dbl-click",{win:i[0]}):this._fireEvent("max-click",{win:i[0]}),this._fireEvent("maximize",{win:i[0]})},minimize:function(){let e=this.win;this.options.btnMin&&(e.removeClass("maximized"),e.toggleClass("minimized")),this._fireEvent("min-click",{win:e[0]}),this._fireEvent("minimize",{win:e[0]})},close:function(){let e=this.win,i=this.options;if(t.utils.exec(i.onCanClose,[e])===!1)return!1;let o=0;i.onClose!==t.noop&&(o=500),this._fireEvent("close",{win:e[0]}),setTimeout(()=>{i.modal===!0&&e.siblings(".overlay").remove(),this._fireEvent("close-click",{win:e[0]}),i.closeAction===t.actions.REMOVE?(this._fireEvent("window-destroy",{win:e[0]}),e.remove()):this.hide()},o)},hide:function(){let e=this.win;e.css({display:"none"}),this._fireEvent("hide",{win:e[0]})},show:function(){let e=this.win;e.removeClass("no-visible").css({display:"flex"}),this._fireEvent("show",{win:e[0]})},toggle:function(){this.win.css("display")==="none"||this.win.hasClass("no-visible")?this.show():this.hide()},isOpen:function(){return this.win.hasClass("no-visible")},min:function(e){e?this.win.addClass("minimized"):this.win.removeClass("minimized")},max:function(e){e?this.win.addClass("maximized"):this.win.removeClass("maximized")},changeClass:function(e){let i=this.element,o=this.win,h=this.options;e==="data-cls-window"&&(o[0].className=`window ${h.resizable?" resizable ":" "}${i.attr("data-cls-window")}`),e==="data-cls-caption"&&(o.find(".window-caption")[0].className=`window-caption ${i.attr("data-cls-caption")}`),e==="data-cls-content"&&(o.find(".window-content")[0].className=`window-content ${i.attr("data-cls-content")}`)},toggleShadow:function(){let e=this.element,i=this.win;JSON.parse(e.attr("data-shadow"))===!0?i.addClass("win-shadow"):i.removeClass("win-shadow")},setContent:function(e){let i=this.element,o=this.win,h=t.utils.isValue(e)?e:i.attr("data-content"),g;!t.utils.isQ(h)&&t.utils.isFunc(h)?g=t.utils.exec(h):t.utils.isQ(h)?g=h.html():g=h,o.find(".window-content").html(g)},setTitle:function(e){let i=this.element,o=this.win,h=t.utils.isValue(e)?e:i.attr("data-title");o.find(".window-caption .title").html(h)},setIcon:function(e){let i=this.element,o=this.win,h=t.utils.isValue(e)?e:i.attr("data-icon");o.find(".window-caption .icon").html(h)},getIcon:function(){return this.win.find(".window-caption .icon").html()},getTitle:function(){return this.win.find(".window-caption .title").html()},toggleDraggable:function(e){let i=this.win,o=t.utils.bool(e),h=t.getPlugin(i,"draggable");o===!0?h.on():h.off()},toggleResizable:function(e){let i=this.win,o=t.utils.bool(e),h=t.getPlugin(i,"resizable");o===!0?(h.on(),i.find(".resize-element").removeClass("resize-element-disabled")):(h.off(),i.find(".resize-element").addClass("resize-element-disabled"))},changePlace:function(e){let i=this.element,o=this.win,h=t.utils.isValue(e)?e:i.attr("data-place");o.addClass(h)},pos:function(e,i){return this.win.css({top:e,left:i}),this},top:function(e){return this.win.css({top:e}),this},left:function(e){return this.win.css({left:e}),this},changeAttribute:function(e,i){let o=function(_,C){let S=this.win,A;if(_==="data-top"){if(A=Number.parseInt(C),!Number.isNaN(A))return;S.css("top",A)}if(_==="data-left"){if(A=Number.parseInt(C),!Number.isNaN(A))return;S.css("left",A)}},h=function(_,C){let S=this.win,A=S.find(".btn-close"),F=S.find(".btn-min"),N=S.find(".btn-max"),q=t.utils.bool(C)?"show":"hide";switch(_){case"data-btn-close":A[q]();break;case"data-btn-min":F[q]();break;case"data-btn-max":N[q]();break}},g=function(_,C){let S=this.win;_==="data-width"&&S.css("width",+C),_==="data-height"&&S.css("height",+C)};switch(e){case"data-btn-close":case"data-btn-min":case"data-btn-max":h(e,i);break;case"data-width":case"data-height":g(e,i);break;case"data-cls-window":case"data-cls-caption":case"data-cls-content":this.changeClass(e);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable(i);break;case"data-resizable":this.toggleResizable(i);break;case"data-top":case"data-left":o(e,i);break;case"data-place":this.changePlace();break}},destroy:function(){return this.element}}),t.window={isWindow:e=>t.utils.isMetroObject(e,"window"),min:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").min(i)},max:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").max(i)},show:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").show()},hide:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").hide()},toggle:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").toggle()},isOpen:function(e){return this.isWindow(e)?t.getPlugin(e,"window").isOpen():!1},close:function(e){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").close()},pos:function(e,i,o){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").pos(i,o)},top:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").top(i)},left:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").left(i)},width:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").width(i)},height:function(e,i){if(!this.isWindow(e))return!1;t.getPlugin(e,"window").height(i)},create:(e,i)=>{let o=r("<div>").appendTo(r(i||"body")),h=r.extend({_runtime:!0},e||{});return t.makePlugin(o,"window",h),t.getPlugin(o,"window").win}}})(Metro,Dom),((t,r)=>{let f={wizardDeferred:0,start:1,finish:0,iconHelp:"💡",iconPrev:"←",iconNext:"→",iconFinish:"✔",buttonMode:"cycle",buttonOutline:!0,duration:300,clsWizard:"",clsActions:"",clsHelp:"",clsPrev:"",clsNext:"",clsFinish:"",onPage:t.noop,onNextPage:t.noop,onPrevPage:t.noop,onFirstPage:t.noop,onLastPage:t.noop,onFinishPage:t.noop,onHelpClick:t.noop,onPrevClick:t.noop,onNextClick:t.noop,onFinishClick:t.noop,onBeforePrev:t.noop_true,onBeforeNext:t.noop_true,onWizardCreate:t.noop};t.wizardSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroWizardSetup<"u"&&t.wizardSetup(globalThis.metroWizardSetup),t.Component("wizard",{init:function(e,i){return this._super(i,e,f,{id:null}),this},_create:function(){let e=this.element;this.id=Hooks.useId(this.elem),this._createWizard(),this._createEvents(),this._fireEvent("wizard-create",{element:e})},_createWizard:function(){let e=this.element,i=this.options;e.addClass("wizard").addClass(i.view).addClass(i.clsWizard);let o=r("<div>").addClass("action-bar").addClass(i.clsActions).appendTo(e),h=i.buttonMode==="button"?"":i.buttonMode;i.buttonOutline===!0&&(h+=" outline"),i.iconHelp!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-help").addClass(h).addClass(i.clsHelp).html(i.iconHelp).appendTo(o),i.iconPrev!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-prev").addClass(h).addClass(i.clsPrev).html(i.iconPrev).appendTo(o),i.iconNext!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-next").addClass(h).addClass(i.clsNext).html(i.iconNext).appendTo(o),i.iconFinish!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-finish").addClass(h).addClass(i.clsFinish).html(i.iconFinish).appendTo(o),this.toPage(i.start),this._setHeight()},_setHeight:function(){let e=this.element,i=e.children("section"),o=0;i.children(".page-content").css("max-height","none"),r.each(i,function(){let h=r(this).height();o<Number.parseInt(h)&&(o=h)}),e.height(o)},_createEvents:function(){let e=this,i=this.element;i.on(t.events.click,".wizard-btn-help",()=>{let o=i.children("section").get(e.current-1);e._fireEvent("help-click",{index:e.current,page:o})}),i.on(t.events.click,".wizard-btn-prev",()=>{e.prev();let o=i.children("section").get(e.current-1);e._fireEvent("prev-click",{index:e.current,page:o})}),i.on(t.events.click,".wizard-btn-next",()=>{e.next();let o=i.children("section").get(e.current-1);e._fireEvent("next-click",{index:e.current,page:o})}),i.on(t.events.click,".wizard-btn-finish",()=>{let o=i.children("section").get(e.current-1);e._fireEvent("finish-click",{index:e.current,page:o})}),i.on(t.events.click,".complete",function(){let o=r(this).index()+1;e.toPage(o)}),r(globalThis).on(t.events.resize,()=>{e._setHeight()},{ns:this.id})},next:function(){let e=this.element,i=this.options,o=e.children("section"),h=r(e.children("section").get(this.current-1));this.current+1>o.length||t.utils.exec(i.onBeforeNext,[this.current,h,e])===!1||(this.current++,this.toPage(this.current),h=r(e.children("section").get(this.current-1)),this._fireEvent("next-page",{index:this.current,page:h[0]}))},prev:function(){let e=this.element,i=this.options,o=r(e.children("section").get(this.current-1));this.current-1===0||t.utils.exec(i.onBeforePrev,[this.current,o,e])===!1||(this.current--,this.toPage(this.current),o=r(e.children("section").get(this.current-1)),this._fireEvent("prev-page",{index:this.current,page:o[0]}))},last:function(){let e=this.element;this.toPage(e.children("section").length);let i=r(e.children("section").get(this.current-1));this._fireEvent("last-page",{index:this.current,page:i[0]})},first:function(){let e=this.element;this.toPage(1);let i=r(e.children("section").get(0));this._fireEvent("first-page",{index:this.current,page:i[0]})},toPage:function(e){let i=this.element,o=this.options,h=r(i.children("section").get(e-1)),g=i.children("section"),_=i.find(".action-bar");if(h.length===0)return;let C=i.find(".wizard-btn-finish").addClass("disabled"),S=i.find(".wizard-btn-next").addClass("disabled"),A=i.find(".wizard-btn-prev").addClass("disabled");this.current=e,i.children("section").removeClass("complete current").removeClass(o.clsCurrent).removeClass(o.clsComplete),h.addClass("current").addClass(o.clsCurrent),h.prevAll().addClass("complete").addClass(o.clsComplete);let F=i.children("section.complete").length===0?0:Number.parseInt(t.utils.getStyleOne(i.children("section.complete")[0],"border-left-width"));_.animate({draw:{left:i.children("section.complete").length*F+41},dur:o.duration}),(this.current===g.length||o.finish>0&&this.current>=o.finish)&&C.removeClass("disabled"),Number.parseInt(o.finish)>0&&this.current===Number.parseInt(o.finish)&&this._fireEvent("finish-page",{index:this.current,page:h[0]}),this.current<g.length&&S.removeClass("disabled"),this.current>1&&A.removeClass("disabled"),this._fireEvent("page",{index:this.current,page:h[0]})},changeAttribute:()=>{},destroy:function(){let e=this.element;e.off(t.events.click,".wizard-btn-help"),e.off(t.events.click,".wizard-btn-prev"),e.off(t.events.click,".wizard-btn-next"),e.off(t.events.click,".wizard-btn-finish"),e.off(t.events.click,".complete"),r(globalThis).off(t.events.resize,{ns:this.id}),e.remove()}})})(Metro,Dom),((t,r)=>{let f={buttons:"next, prev, finish, cancel, help",startPage:1,height:300,labelNext:"",labelPrev:"",labelHelp:"",labelFinish:"",labelCancel:"",iconNext:"",iconPrev:"",iconHelp:"",iconFinish:"",iconCancel:"",clsWizard:"",clsPage:"",clsActions:"",clsActionHelp:"",clsActionPrev:"",clsActionNext:"",clsActionFinish:"",clsActionCancel:"",onBeforePage:t.noop_true,onPage:t.noop,onNext:t.noop,onPrev:t.noop,onFinish:t.noop,onCancel:t.noop,onHelp:t.noop,onMyObjectCreate:t.noop};t.wizardClassicSetup=e=>{f=r.extend({},f,e)},typeof window.metroWizardClassicSetup<"u"&&t.wizardClassicSetup(window.metroWizardClassicSetup),t.Component("wizard-classic",{init:function(e,i){return this._super(i,e,f,{currentPage:0}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("wizard-create")},_createStructure:function(){var g;let e=this.element,i=this.options;e.addClass(`wizard-classic ${i.clsWizard}`).css({height:i.height});let o=r("<div>").addClass("wizard-pages").appendTo(e),h=r("<div>").addClass("wizard-actions").appendTo(e);for(let _ of i.buttons.toArray(",")){let C=r("<button>").addClass("wizard-action").attr("data-wizard-action",_).html(`${i[`icon${str(_).capitalize()}`]?i[`icon${str(_).capitalize()}`]:""} ${i[`label${str(_).capitalize()}`]||this.strings[`label_${_}`]}`).appendTo(h);_==="next"?C.addClass(`wizard-next ${i.clsActionNext}`):_==="prev"?C.addClass(`wizard-prev ${i.clsActionPrev}`):_==="finish"?C.addClass(`wizard-finish ${i.clsActionFinish}`):_==="cancel"?C.addClass(`wizard-cancel ${i.clsActionCancel}`):_==="help"&&C.addClass(`wizard-help ${i.clsActionHelp}`)}this.pages=e.find(".page").addClass(i.clsPage),this.pages.appendTo(o),this.pages[i.startPage-1]===void 0&&(i.startPage=0),this.currentPage=i.startPage-1,(g=this.pages[this.currentPage])==null||g.classList.add("active"),this._refreshButtons()},_createEvents:function(){let e=this.element,i=this.options;e.on("click",".wizard-action",o=>{let h=r(o.target).closest("button").attr("data-wizard-action");if(h==="next"){if(t.utils.exec(i.onBeforePage,[this.currentPage,this.pages[this.currentPage]])===!1)return!1;this.next(),this._fireEvent("next")}else if(h==="prev"){if(t.utils.exec(i.onBeforePage,[this.currentPage,this.pages[this.currentPage]])===!1)return!1;this.prev(),this._fireEvent("prev")}else h==="finish"?this._fireEvent("finish"):h==="cancel"?this._fireEvent("cancel"):h==="help"&&this._fireEvent("help")})},_refreshButtons:function(){let e=this.element;this.options;let i=this.pages,o=e.find(".wizard-action");o.each((h,g)=>{r(g).removeClass("disabled")}),this.currentPage===0&&o.filter(".wizard-prev").addClass("disabled"),this.currentPage===i.length-1&&(o.filter(".wizard-next").addClass("disabled"),o.filter(".wizard-finish").removeClass("disabled")),this.currentPage>=0&&this.currentPage<i.length-1&&o.filter(".wizard-finish").addClass("disabled"),this.currentPage>0&&o.filter(".wizard-prev").removeClass("disabled")},next:function(){let e=this.element;this.options;let i=e.find(".page");this.currentPage<i.length-1&&(r(i[this.currentPage]).addClass("out"),setTimeout(o=>{r(i[o]).removeClass("active")},300,this.currentPage),this.currentPage++,r(i[this.currentPage]).addClass("active")),this._refreshButtons()},prev:function(){let e=this.element;this.options;let i=e.find(".page");this.currentPage>0&&(r(i[this.currentPage]).removeClass("active"),this.currentPage--,r(i[this.currentPage]).removeClass("out").addClass("active")),this._refreshButtons()},changeAttribute:(e,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f={onStateChange:t.noop,onWorkingTreeCreate:t.noop};t.workingTreeSetup=e=>{f=r.extend({},f,e)},typeof globalThis.metroWorkingTreeSetup<"u"&&t.workingTreeSetup(globalThis.metroWorkingTreeSetup),t.Component("working-tree",{init(e,i){return this._super(i,e,f,{}),this},_create(){this._createStructure(),this._createEvents(),this._fireEvent("tree-create")},addNode({id:e,title:i="",value:o="",items:h=[]}={}){let g=this.element,_=(e||Hooks.useId(`working-tree-node-${g.children().length}`)).replace(/:/gi,""),C=`
                <li id="${_}">
                    <div class="bull"></div>
                    <div class="node">
                        <div class="title">${i}</div>
                        <div class="value">${o}</div>
                    </div>
                    <ul class="leaves">
                        ${h.map(S=>`<li><div class="title">${S.title}</div><div class="value">${S.value}</div> </li>`).join(`
`)}                    
                    </ul>
                </li>
            `;return this.element.append(C),_},setState(e,i="pending"){let o=this.element.find(`#${e}`).clearClasses().addClass(`work-${i}`);return o.find(".bull").html(`<span data-role="bull" data-type="${i}"></span>`),this._fireEvent("state-change",{id:e,state:i,node:o}),this},_createStructure(){this.element.addClass("working-tree")},_createEvents(){},changeAttribute(e,i){},destroy(){this.element.remove()}})})(Metro,Dom),((t,r)=>{let f="[data-role-dropmenu], [data-role-dropdown]",e='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',i={height:"auto",align:"left",onMenuCreate:t.noop};t.dropMenuSetup=o=>{i=r.extend({},i,o)},typeof globalThis.metroDropMenuSetup<"u"&&t.dropMenuSetup(globalThis.metroDropMenuSetup),t.Component("dropmenu",{init:function(o,h){return this._super(h,o,i,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("menu-create")},_toggle:function(){let o=this.element,h=o.siblings(".menu-toggle, .dropdown-toggle, a");if(h.length===0&&(h=o.prev(),h.length===0))throw new Error("Menu toggle not found");return r(h[0])},_createStructure:function(){let o=this.element,h=this.options;this.level=o.parents("[data-role-dropmenu]").length,this.toggle=this._toggle(),this.toggle.append(e),this.displayOrigin=o.css("display"),this.element.addClass("drop-menu").css("z-index",`calc(var(--z-index-fixed) + ${this.level})!important`).hide(),h.height!=="auto"&&o.css("max-height",h.height)},_createEvents:function(){let o=this.element;this.toggle.on("click",h=>{r(f).each((g,_)=>{let C=r(_),S=o.parents("[data-role-dropmenu]").is(_);if(_===o[0]||S||C.hasClass("keep-open")||C.hasClass("stay-open")||C.hasClass("ignore-document-click"))return;let A=t.getPlugin(_,"dropdown"),F=t.getPlugin(_,"dropmenu");A&&A.close(),F&&F.close()}),this.isOpen===!1?this.open():this.close(),h.preventDefault(),h.stopPropagation()})},close:function(){this.isOpen!==!1&&(this.toggle.removeClass("active-toggle"),this.element.hide(),this.isOpen=!1)},open:function(){let o=this.element,h=this.options,g=t.utils.rect(this.toggle[0]),_=o.parents("[data-role-dropmenu]").length;if(o.show().visible(!1),_===0){o.css({top:g.bottom,left:g.left});let C=t.utils.viewportOutByWidth(o[0]),S=t.utils.viewportOutByHeight(o[0]);(h.align==="right"||C)&&(o.css({left:g.right-o.width()}),h.align!=="right"&&t.utils.viewportOutByWidth(o[0])&&o.css({left:g.left})),S&&(o.css({top:g.top-o.height()}),t.utils.viewportOutByHeight(o[0])&&o.css({top:g.bottom}))}else{o.css({top:g.top,left:g.right});let C=t.utils.viewportOutByWidth(o[0]);(h.align==="right"||C)&&(o.css({left:g.left-o.width()}),h.align!=="right"&&t.utils.viewportOutByWidth(o[0])&&o.css({left:g.right}))}this.toggle.addClass("active-toggle"),this.isOpen=!0,o.visible(!0)},changeAttribute:(o,h)=>{},destroy:function(){this.element.remove()}}),r(document).on("click",()=>{r(f).each((o,h)=>{let g=r(h);if(g.hasClass("keep-open")||g.hasClass("stay-open")||g.hasClass("ignore-document-click"))return;let _=t.getPlugin(h,"dropdown"),C=t.getPlugin(h,"dropmenu");_&&_.close(),C&&C.close()})})})(Metro,Dom)})();//!node.hasClass("expanded");
/*! Bundled license information:

	@olton/datetime/dist/datetime.js:
	  (*!
	   * Datetime v3.2.5.
	   * Build time: 18.05.2025, 14:46:05
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *
	   * Build time: 18.05.2025 14:46:05
	   *)

	@olton/string/dist/string.js:
	  (*!
	   * String v0.10.2 (@olton/string)
	   * Copyright 2025 by Serhii Pimenov
	   * Built: 18.05.2025, 14:39:06
	   * Licensed under MIT
	   *)

	@olton/dom/dist/dom.js:
	  (*!
	   * DOM - Work with HTML elements (@olton/dom, https://metroui.org.ua)
	   * Version: 1.5.1
	   * Build date: 18.05.2025, 14:45:23
	   * Copyright 2012-2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/hooks/dist/hooks.js:
	  (*!
	   * Hooks v0.13.0 (@olton/hooks)
	   * Copyright 2025 by Serhii Pimenov <serhii@pimenov.com.ua>
	   * Built: 07.03.2025, 23:32:05
	   * Licensed under MIT
	   *)

	@olton/farbe/dist/farbe.js:
	  (*!
	   * Farbe v1.0.9. Color Routines for JavaScript.
	   * Build: 18.05.2025, 14:44:28
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/html/dist/html.js:
	  (*!
	   * Html.js v0.15.1
	   * Description: Creating HTML Elements with JavaScript
	   * Build: 18.05.2025, 14:41:46
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/guardian/dist/guardian.js:
	  (*!
	   * Guardian v0.7.3. Data guard and validation library.
	   * Copyright 2025 Serhii Pimenov
	   * Licensed under MIT
	   * Build time: 18.05.2025 14:43:24
	   *)

	@olton/router/dist/router.js:
	  (*!
	   * Router v0.4.1 (Router ror SPA)
	   * Build: 18.05.2025, 14:39:57
	   * Copyright 2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)

	@olton/model/dist/model.js:
	  (*!
	   * Model v0.18.1
	   * Build: 18.05.2025, 14:40:40
	   * Copyright 2012-2025 by Serhii Pimenov
	   * Licensed under MIT
	   *)
	*/return am}Y_();var om=m0;function m0(){var l=[].slice.call(arguments),s=!1;typeof l[0]=="boolean"&&(s=l.shift());var a=l[0];if(lm(a))throw new Error("extendee must be an object");for(var u=l.slice(1),d=u.length,m=0;m<d;m++){var v=u[m];for(var x in v)if(Object.prototype.hasOwnProperty.call(v,x)){var k=v[x];if(s&&G_(k)){var D=Array.isArray(k)?[]:{};a[x]=m0(!0,Object.prototype.hasOwnProperty.call(a,x)&&!lm(a[x])?a[x]:D,k)}else a[x]=k}}return a}function G_(l){return Array.isArray(l)||{}.toString.call(l)=="[object Object]"}function lm(l){return!l||typeof l!="object"&&typeof l!="function"}function X_(l){return l&&l.__esModule?l.default:l}class um{on(s,a){return this._callbacks=this._callbacks||{},this._callbacks[s]||(this._callbacks[s]=[]),this._callbacks[s].push(a),this}emit(s,...a){this._callbacks=this._callbacks||{};let u=this._callbacks[s];if(u)for(let d of u)d.apply(this,a);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+s,{args:a})),this}makeEvent(s,a){let u={bubbles:!0,cancelable:!0,detail:a};if(typeof window.CustomEvent=="function")return new CustomEvent(s,u);var d=document.createEvent("CustomEvent");return d.initCustomEvent(s,u.bubbles,u.cancelable,u.detail),d}off(s,a){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let u=this._callbacks[s];if(!u)return this;if(arguments.length===1)return delete this._callbacks[s],this;for(let d=0;d<u.length;d++)if(u[d]===a){u.splice(d,1);break}return this}}var g0={};g0=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let K_={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(l,s,a){if(a)return{dzuuid:a.file.upload.uuid,dzchunkindex:a.index,dztotalfilesize:a.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:a.file.upload.totalChunkCount,dzchunkbyteoffset:a.index*this.options.chunkSize}},accept(l,s){return s()},chunksUploaded:function(l,s){s()},binaryBody:!1,fallback(){let l;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let a of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(a.className)){l=a,a.className="dz-message";break}l||(l=Ze.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(l));let s=l.getElementsByTagName("span")[0];return s&&(s.textContent!=null?s.textContent=this.options.dictFallbackMessage:s.innerText!=null&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(l,s,a,u){let d={srcX:0,srcY:0,srcWidth:l.width,srcHeight:l.height},m=l.width/l.height;s==null&&a==null?(s=d.srcWidth,a=d.srcHeight):s==null?s=a*m:a==null&&(a=s/m),s=Math.min(s,d.srcWidth),a=Math.min(a,d.srcHeight);let v=s/a;if(d.srcWidth>s||d.srcHeight>a)if(u==="crop")m>v?(d.srcHeight=l.height,d.srcWidth=d.srcHeight*v):(d.srcWidth=l.width,d.srcHeight=d.srcWidth/v);else if(u==="contain")m>v?a=s/m:s=a*m;else throw new Error(`Unknown resizeMethod '${u}'`);return d.srcX=(l.width-d.srcWidth)/2,d.srcY=(l.height-d.srcHeight)/2,d.trgWidth=s,d.trgHeight=a,d},transformFile(l,s){return(this.options.resizeWidth||this.options.resizeHeight)&&l.type.match(/image.*/)?this.resizeImage(l,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,s):s(l)},previewTemplate:X_(g0),drop(l){return this.element.classList.remove("dz-drag-hover")},dragstart(l){},dragend(l){return this.element.classList.remove("dz-drag-hover")},dragenter(l){return this.element.classList.add("dz-drag-hover")},dragover(l){return this.element.classList.add("dz-drag-hover")},dragleave(l){return this.element.classList.remove("dz-drag-hover")},paste(l){},reset(){return this.element.classList.remove("dz-started")},addedfile(l){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){l.previewElement=Ze.createElement(this.options.previewTemplate.trim()),l.previewTemplate=l.previewElement,this.previewsContainer.appendChild(l.previewElement);for(var s of l.previewElement.querySelectorAll("[data-dz-name]"))s.textContent=l.name;for(s of l.previewElement.querySelectorAll("[data-dz-size]"))s.innerHTML=this.filesize(l.size);this.options.addRemoveLinks&&(l._removeLink=Ze.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),l.previewElement.appendChild(l._removeLink));let a=u=>(u.preventDefault(),u.stopPropagation(),l.status===Ze.UPLOADING?Ze.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(l)):this.options.dictRemoveFileConfirmation?Ze.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(l)):this.removeFile(l));for(let u of l.previewElement.querySelectorAll("[data-dz-remove]"))u.addEventListener("click",a)}},removedfile(l){return l.previewElement!=null&&l.previewElement.parentNode!=null&&l.previewElement.parentNode.removeChild(l.previewElement),this._updateMaxFilesReachedClass()},thumbnail(l,s){if(l.previewElement){l.previewElement.classList.remove("dz-file-preview");for(let a of l.previewElement.querySelectorAll("[data-dz-thumbnail]"))a.alt=l.name,a.src=s;return setTimeout(()=>l.previewElement.classList.add("dz-image-preview"),1)}},error(l,s){if(l.previewElement){l.previewElement.classList.add("dz-error"),typeof s!="string"&&s.error&&(s=s.error);for(let a of l.previewElement.querySelectorAll("[data-dz-errormessage]"))a.textContent=s}},errormultiple(){},processing(l){if(l.previewElement&&(l.previewElement.classList.add("dz-processing"),l._removeLink))return l._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(l,s,a){if(l.previewElement)for(let u of l.previewElement.querySelectorAll("[data-dz-uploadprogress]"))u.nodeName==="PROGRESS"?u.value=s:u.style.width=`${s}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(l){if(l.previewElement)return l.previewElement.classList.add("dz-success")},successmultiple(){},canceled(l){return this.emit("error",l,this.options.dictUploadCanceled)},canceledmultiple(){},complete(l){if(l._removeLink&&(l._removeLink.innerHTML=this.options.dictRemoveFile),l.previewElement)return l.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var Z_=K_;class Ze extends um{static initClass(){this.prototype.Emitter=um,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(s=>s.accepted).map(s=>s)}getRejectedFiles(){return this.files.filter(s=>!s.accepted).map(s=>s)}getFilesWithStatus(s){return this.files.filter(a=>a.status===s).map(a=>a)}getQueuedFiles(){return this.getFilesWithStatus(Ze.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(Ze.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(Ze.ADDED)}getActiveFiles(){return this.files.filter(s=>s.status===Ze.UPLOADING||s.status===Ze.QUEUED).map(s=>s)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(Ze.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let u=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",Ze.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:d}=this.hiddenFileInput;if(d.length)for(let m of d)this.addFile(m);this.emit("addedfiles",d),u()})};u()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let u of this.events)this.on(u,this.options[u]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",u=>this.emit("complete",u)),this.on("complete",u=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const s=function(u){if(u.dataTransfer.types){for(var d=0;d<u.dataTransfer.types.length;d++)if(u.dataTransfer.types[d]==="Files")return!0}return!1};let a=function(u){if(s(u))return u.stopPropagation(),u.preventDefault?u.preventDefault():u.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:u=>this.emit("dragstart",u),dragenter:u=>(a(u),this.emit("dragenter",u)),dragover:u=>{let d;try{d=u.dataTransfer.effectAllowed}catch{}return u.dataTransfer.dropEffect=d==="move"||d==="linkMove"?"move":"copy",a(u),this.emit("dragover",u)},dragleave:u=>this.emit("dragleave",u),drop:u=>(a(u),this.drop(u)),dragend:u=>this.emit("dragend",u)}}],this.clickableElements.forEach(u=>this.listeners.push({element:u,events:{click:d=>((u!==this.element||d.target===this.element||Ze.elementInside(d.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,Ze.instances.splice(Ze.instances.indexOf(this),1)}updateTotalUploadProgress(){let s,a=0,u=0;if(this.getActiveFiles().length){for(let m of this.getActiveFiles())a+=m.upload.bytesSent,u+=m.upload.total;s=100*a/u}else s=100;return this.emit("totaluploadprogress",s,u,a)}_getParamName(s){return typeof this.options.paramName=="function"?this.options.paramName(s):`${this.options.paramName}${this.options.uploadMultiple?`[${s}]`:""}`}_renameFile(s){return typeof this.options.renameFile!="function"?s.name:this.options.renameFile(s)}getFallbackForm(){let s,a;if(s=this.getExistingFallback())return s;let u='<div class="dz-fallback">';this.options.dictFallbackText&&(u+=`<p>${this.options.dictFallbackText}</p>`),u+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let d=Ze.createElement(u);return this.element.tagName!=="FORM"?(a=Ze.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),a.appendChild(d)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),a??d}getExistingFallback(){let s=function(u){for(let d of u)if(/(^| )fallback($| )/.test(d.className))return d};for(let u of["div","form"]){var a;if(a=s(this.element.getElementsByTagName(u)))return a}}setupEventListeners(){return this.listeners.map(s=>(()=>{let a=[];for(let u in s.events){let d=s.events[u];a.push(s.element.addEventListener(u,d,!1))}return a})())}removeEventListeners(){return this.listeners.map(s=>(()=>{let a=[];for(let u in s.events){let d=s.events[u];a.push(s.element.removeEventListener(u,d,!1))}return a})())}disable(){return this.clickableElements.forEach(s=>s.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(s=>this.cancelUpload(s))}enable(){return delete this.disabled,this.clickableElements.forEach(s=>s.classList.add("dz-clickable")),this.setupEventListeners()}filesize(s){let a=0,u="b";if(s>0){let d=["tb","gb","mb","kb","b"];for(let m=0;m<d.length;m++){let v=d[m],x=Math.pow(this.options.filesizeBase,4-m)/10;if(s>=x){a=s/Math.pow(this.options.filesizeBase,4-m),u=v;break}}a=Math.round(10*a)/10}return`<strong>${a}</strong> ${this.options.dictFileSizeUnits[u]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(s){if(!s.dataTransfer)return;this.emit("drop",s);let a=[];for(let u=0;u<s.dataTransfer.files.length;u++)a[u]=s.dataTransfer.files[u];if(a.length){let{items:u}=s.dataTransfer;u&&u.length&&u[0].webkitGetAsEntry!=null?this._addFilesFromItems(u):this.handleFiles(a)}this.emit("addedfiles",a)}paste(s){if(i1(s!=null?s.clipboardData:void 0,u=>u.items)==null)return;this.emit("paste",s);let{items:a}=s.clipboardData;if(a.length)return this._addFilesFromItems(a)}handleFiles(s){for(let a of s)this.addFile(a)}_addFilesFromItems(s){return(()=>{let a=[];for(let d of s){var u;d.webkitGetAsEntry!=null&&(u=d.webkitGetAsEntry())?u.isFile?a.push(this.addFile(d.getAsFile())):u.isDirectory?a.push(this._addFilesFromDirectory(u,u.name)):a.push(void 0):d.getAsFile!=null&&(d.kind==null||d.kind==="file")?a.push(this.addFile(d.getAsFile())):a.push(void 0)}return a})()}_addFilesFromDirectory(s,a){let u=s.createReader(),d=v=>n1(console,"log",x=>x.log(v));var m=()=>u.readEntries(v=>{if(v.length>0){for(let x of v)x.isFile?x.file(k=>{if(!(this.options.ignoreHiddenFiles&&k.name.substring(0,1)==="."))return k.fullPath=`${a}/${k.name}`,this.addFile(k)}):x.isDirectory&&this._addFilesFromDirectory(x,`${a}/${x.name}`);m()}return null},d);return m()}accept(s,a){this.options.maxFilesize&&s.size>this.options.maxFilesize*1048576?a(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(s.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):Ze.isValidFile(s,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(a(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",s)):this.options.accept.call(this,s,a):a(this.options.dictInvalidFileType)}addFile(s){s.upload={uuid:Ze.uuidv4(),progress:0,total:s.size,bytesSent:0,filename:this._renameFile(s)},this.files.push(s),s.status=Ze.ADDED,this.emit("addedfile",s),this._enqueueThumbnail(s),this.accept(s,a=>{a?(s.accepted=!1,this._errorProcessing([s],a)):(s.accepted=!0,this.options.autoQueue&&this.enqueueFile(s)),this._updateMaxFilesReachedClass()})}enqueueFiles(s){for(let a of s)this.enqueueFile(a);return null}enqueueFile(s){if(s.status===Ze.ADDED&&s.accepted===!0){if(s.status=Ze.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(s){if(this.options.createImageThumbnails&&s.type.match(/image.*/)&&s.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(s),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let s=this._thumbnailQueue.shift();return this.createThumbnail(s,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,a=>(this.emit("thumbnail",s,a),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(s){if(s.status===Ze.UPLOADING&&this.cancelUpload(s),this.files=J_(this.files,s),this.emit("removedfile",s),this.files.length===0)return this.emit("reset")}removeAllFiles(s){s==null&&(s=!1);for(let a of this.files.slice())(a.status!==Ze.UPLOADING||s)&&this.removeFile(a);return null}resizeImage(s,a,u,d,m){return this.createThumbnail(s,a,u,d,!0,(v,x)=>{if(x==null)return m(s);{let{resizeMimeType:k}=this.options;k==null&&(k=s.type);let D=x.toDataURL(k,this.options.resizeQuality);return(k==="image/jpeg"||k==="image/jpg")&&(D=v0.restore(s.dataURL,D)),m(Ze.dataURItoBlob(D))}})}createThumbnail(s,a,u,d,m,v){let x=new FileReader;x.onload=()=>{if(s.dataURL=x.result,s.type==="image/svg+xml"){v!=null&&v(x.result);return}this.createThumbnailFromUrl(s,a,u,d,m,v)},x.readAsDataURL(s)}displayExistingFile(s,a,u,d,m=!0){if(this.emit("addedfile",s),this.emit("complete",s),!m)this.emit("thumbnail",s,a),u&&u();else{let v=x=>{this.emit("thumbnail",s,x),u&&u()};s.dataURL=a,this.createThumbnailFromUrl(s,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,v,d)}}createThumbnailFromUrl(s,a,u,d,m,v,x){let k=document.createElement("img");return x&&(k.crossOrigin=x),m=getComputedStyle(document.body).imageOrientation=="from-image"?!1:m,k.onload=()=>{let D=E=>E(1);return typeof EXIF<"u"&&EXIF!==null&&m&&(D=E=>EXIF.getData(k,function(){return E(EXIF.getTag(this,"Orientation"))})),D(E=>{s.width=k.width,s.height=k.height;let L=this.options.resize.call(this,s,a,u,d),P=document.createElement("canvas"),H=P.getContext("2d");switch(P.width=L.trgWidth,P.height=L.trgHeight,E>4&&(P.width=L.trgHeight,P.height=L.trgWidth),E){case 2:H.translate(P.width,0),H.scale(-1,1);break;case 3:H.translate(P.width,P.height),H.rotate(Math.PI);break;case 4:H.translate(0,P.height),H.scale(1,-1);break;case 5:H.rotate(.5*Math.PI),H.scale(1,-1);break;case 6:H.rotate(.5*Math.PI),H.translate(0,-P.width);break;case 7:H.rotate(.5*Math.PI),H.translate(P.height,-P.width),H.scale(-1,1);break;case 8:H.rotate(-.5*Math.PI),H.translate(-P.height,0);break}t1(H,k,L.srcX!=null?L.srcX:0,L.srcY!=null?L.srcY:0,L.srcWidth,L.srcHeight,L.trgX!=null?L.trgX:0,L.trgY!=null?L.trgY:0,L.trgWidth,L.trgHeight);let U=P.toDataURL("image/png");if(v!=null)return v(U,P)})},v!=null&&(k.onerror=v),k.src=s.dataURL}processQueue(){let{parallelUploads:s}=this.options,a=this.getUploadingFiles().length,u=a;if(a>=s)return;let d=this.getQueuedFiles();if(d.length>0){if(this.options.uploadMultiple)return this.processFiles(d.slice(0,s-a));for(;u<s;){if(!d.length)return;this.processFile(d.shift()),u++}}}processFile(s){return this.processFiles([s])}processFiles(s){for(let a of s)a.processing=!0,a.status=Ze.UPLOADING,this.emit("processing",a);return this.options.uploadMultiple&&this.emit("processingmultiple",s),this.uploadFiles(s)}_getFilesWithXhr(s){return this.files.filter(a=>a.xhr===s).map(a=>a)}cancelUpload(s){if(s.status===Ze.UPLOADING){let a=this._getFilesWithXhr(s.xhr);for(let u of a)u.status=Ze.CANCELED;typeof s.xhr<"u"&&s.xhr.abort();for(let u of a)this.emit("canceled",u);this.options.uploadMultiple&&this.emit("canceledmultiple",a)}else(s.status===Ze.ADDED||s.status===Ze.QUEUED)&&(s.status=Ze.CANCELED,this.emit("canceled",s),this.options.uploadMultiple&&this.emit("canceledmultiple",[s]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(s,...a){return typeof s=="function"?s.apply(this,a):s}uploadFile(s){return this.uploadFiles([s])}uploadFiles(s){this._transformFiles(s,a=>{if(this.options.chunking){let u=a[0];s[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||u.size>this.options.chunkSize),s[0].upload.totalChunkCount=Math.ceil(u.size/this.options.chunkSize)}if(s[0].upload.chunked){let u=s[0],d=a[0];u.upload.chunks=[];let m=()=>{let v=0;for(;u.upload.chunks[v]!==void 0;)v++;if(v>=u.upload.totalChunkCount)return;let x=v*this.options.chunkSize,k=Math.min(x+this.options.chunkSize,d.size),D={name:this._getParamName(0),data:d.webkitSlice?d.webkitSlice(x,k):d.slice(x,k),filename:u.upload.filename,chunkIndex:v};u.upload.chunks[v]={file:u,index:v,dataBlock:D,status:Ze.UPLOADING,progress:0,retries:0},this._uploadData(s,[D])};if(u.upload.finishedChunkUpload=(v,x)=>{let k=!0;v.status=Ze.SUCCESS,v.dataBlock=null,v.response=v.xhr.responseText,v.responseHeaders=v.xhr.getAllResponseHeaders(),v.xhr=null;for(let D=0;D<u.upload.totalChunkCount;D++){if(u.upload.chunks[D]===void 0)return m();u.upload.chunks[D].status!==Ze.SUCCESS&&(k=!1)}k&&this.options.chunksUploaded(u,()=>{this._finished(s,x,null)})},this.options.parallelChunkUploads)for(let v=0;v<u.upload.totalChunkCount;v++)m();else m()}else{let u=[];for(let d=0;d<s.length;d++)u[d]={name:this._getParamName(d),data:a[d],filename:s[d].upload.filename};this._uploadData(s,u)}})}_getChunk(s,a){for(let u=0;u<s.upload.totalChunkCount;u++)if(s.upload.chunks[u]!==void 0&&s.upload.chunks[u].xhr===a)return s.upload.chunks[u]}_uploadData(s,a){let u=new XMLHttpRequest;for(let D of s)D.xhr=u;s[0].upload.chunked&&(s[0].upload.chunks[a[0].chunkIndex].xhr=u);let d=this.resolveOption(this.options.method,s,a),m=this.resolveOption(this.options.url,s,a);u.open(d,m,!0),this.resolveOption(this.options.timeout,s)&&(u.timeout=this.resolveOption(this.options.timeout,s)),u.withCredentials=!!this.options.withCredentials,u.onload=D=>{this._finishedUploading(s,u,D)},u.ontimeout=()=>{this._handleUploadError(s,u,`Request timedout after ${this.options.timeout/1e3} seconds`)},u.onerror=()=>{this._handleUploadError(s,u)};let x=u.upload!=null?u.upload:u;x.onprogress=D=>this._updateFilesUploadProgress(s,u,D);let k=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(k["Content-Type"]=s[0].type),this.options.headers&&om(k,this.options.headers);for(let D in k){let E=k[D];E&&u.setRequestHeader(D,E)}if(this.options.binaryBody){for(let D of s)this.emit("sending",D,u);this.options.uploadMultiple&&this.emit("sendingmultiple",s,u),this.submitRequest(u,null,s)}else{let D=new FormData;if(this.options.params){let E=this.options.params;typeof E=="function"&&(E=E.call(this,s,u,s[0].upload.chunked?this._getChunk(s[0],u):null));for(let L in E){let P=E[L];if(Array.isArray(P))for(let H=0;H<P.length;H++)D.append(L,P[H]);else D.append(L,P)}}for(let E of s)this.emit("sending",E,u,D);this.options.uploadMultiple&&this.emit("sendingmultiple",s,u,D),this._addFormElementData(D);for(let E=0;E<a.length;E++){let L=a[E];D.append(L.name,L.data,L.filename)}this.submitRequest(u,D,s)}}_transformFiles(s,a){let u=[],d=0;for(let m=0;m<s.length;m++)this.options.transformFile.call(this,s[m],v=>{u[m]=v,++d===s.length&&a(u)})}_addFormElementData(s){if(this.element.tagName==="FORM")for(let a of this.element.querySelectorAll("input, textarea, select, button")){let u=a.getAttribute("name"),d=a.getAttribute("type");if(d&&(d=d.toLowerCase()),!(typeof u>"u"||u===null))if(a.tagName==="SELECT"&&a.hasAttribute("multiple"))for(let m of a.options)m.selected&&s.append(u,m.value);else(!d||d!=="checkbox"&&d!=="radio"||a.checked)&&s.append(u,a.value)}}_updateFilesUploadProgress(s,a,u){if(s[0].upload.chunked){let d=s[0],m=this._getChunk(d,a);u?(m.progress=100*u.loaded/u.total,m.total=u.total,m.bytesSent=u.loaded):(m.progress=100,m.bytesSent=m.total),d.upload.progress=0,d.upload.total=0,d.upload.bytesSent=0;for(let v=0;v<d.upload.totalChunkCount;v++)d.upload.chunks[v]&&typeof d.upload.chunks[v].progress<"u"&&(d.upload.progress+=d.upload.chunks[v].progress,d.upload.total+=d.upload.chunks[v].total,d.upload.bytesSent+=d.upload.chunks[v].bytesSent);d.upload.progress=d.upload.progress/d.upload.totalChunkCount,this.emit("uploadprogress",d,d.upload.progress,d.upload.bytesSent)}else for(let d of s)d.upload.total&&d.upload.bytesSent&&d.upload.bytesSent==d.upload.total||(u?(d.upload.progress=100*u.loaded/u.total,d.upload.total=u.total,d.upload.bytesSent=u.loaded):(d.upload.progress=100,d.upload.bytesSent=d.upload.total),this.emit("uploadprogress",d,d.upload.progress,d.upload.bytesSent))}_finishedUploading(s,a,u){let d;if(s[0].status!==Ze.CANCELED&&a.readyState===4){if(a.responseType!=="arraybuffer"&&a.responseType!=="blob"&&(d=a.responseText,a.getResponseHeader("content-type")&&~a.getResponseHeader("content-type").indexOf("application/json")))try{d=JSON.parse(d)}catch(m){u=m,d="Invalid JSON response from server."}this._updateFilesUploadProgress(s,a),200<=a.status&&a.status<300?s[0].upload.chunked?s[0].upload.finishedChunkUpload(this._getChunk(s[0],a),d):this._finished(s,d,u):this._handleUploadError(s,a,d)}}_handleUploadError(s,a,u){if(s[0].status!==Ze.CANCELED){if(s[0].upload.chunked&&this.options.retryChunks){let d=this._getChunk(s[0],a);if(d.retries++<this.options.retryChunksLimit){this._uploadData(s,[d.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(s,u||this.options.dictResponseError.replace("{{statusCode}}",a.status),a)}}submitRequest(s,a,u){if(s.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(u[0].upload.chunked){const d=this._getChunk(u[0],s);s.send(d.dataBlock.data)}else s.send(u[0]);else s.send(a)}_finished(s,a,u){for(let d of s)d.status=Ze.SUCCESS,this.emit("success",d,a,u),this.emit("complete",d);if(this.options.uploadMultiple&&(this.emit("successmultiple",s,a,u),this.emit("completemultiple",s)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(s,a,u){for(let d of s)d.status=Ze.ERROR,this.emit("error",d,a,u),this.emit("complete",d);if(this.options.uploadMultiple&&(this.emit("errormultiple",s,a,u),this.emit("completemultiple",s)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){let a=Math.random()*16|0;return(s==="x"?a:a&3|8).toString(16)})}constructor(s,a){super();let u,d;if(this.element=s,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");Ze.instances.push(this),this.element.dropzone=this;let m=(d=Ze.optionsForElement(this.element))!=null?d:{};if(this.options=om(!0,{},Z_,m,a??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!Ze.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=v=>this.options.renameFilename.call(this,v.name,v)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(u=this.getExistingFallback())&&u.parentNode&&u.parentNode.removeChild(u),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=Ze.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=Ze.getElements(this.options.clickable,"clickable")),this.init()}}Ze.initClass();Ze.options={};Ze.optionsForElement=function(l){if(l.getAttribute("id"))return Ze.options[Q_(l.getAttribute("id"))]};Ze.instances=[];Ze.forElement=function(l){if(typeof l=="string"&&(l=document.querySelector(l)),(l!=null?l.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return l.dropzone};Ze.discover=function(){let l;if(document.querySelectorAll)l=document.querySelectorAll(".dropzone");else{l=[];let s=a=>(()=>{let u=[];for(let d of a)/(^| )dropzone($| )/.test(d.className)?u.push(l.push(d)):u.push(void 0);return u})();s(document.getElementsByTagName("div")),s(document.getElementsByTagName("form"))}return(()=>{let s=[];for(let a of l)Ze.optionsForElement(a)!==!1?s.push(new Ze(a)):s.push(void 0);return s})()};Ze.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Ze.isBrowserSupported=function(){let l=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))l=!1;else{Ze.blacklistedBrowsers!==void 0&&(Ze.blockedBrowsers=Ze.blacklistedBrowsers);for(let s of Ze.blockedBrowsers)if(s.test(navigator.userAgent)){l=!1;continue}}else l=!1;return l};Ze.dataURItoBlob=function(l){let s=atob(l.split(",")[1]),a=l.split(",")[0].split(":")[1].split(";")[0],u=new ArrayBuffer(s.length),d=new Uint8Array(u);for(let m=0,v=s.length,x=0<=v;x?m<=v:m>=v;x?m++:m--)d[m]=s.charCodeAt(m);return new Blob([u],{type:a})};const J_=(l,s)=>l.filter(a=>a!==s).map(a=>a),Q_=l=>l.replace(/[\-_](\w)/g,s=>s.charAt(1).toUpperCase());Ze.createElement=function(l){let s=document.createElement("div");return s.innerHTML=l,s.childNodes[0]};Ze.elementInside=function(l,s){if(l===s)return!0;for(;l=l.parentNode;)if(l===s)return!0;return!1};Ze.getElement=function(l,s){let a;if(typeof l=="string"?a=document.querySelector(l):l.nodeType!=null&&(a=l),a==null)throw new Error(`Invalid \`${s}\` option provided. Please provide a CSS selector or a plain HTML element.`);return a};Ze.getElements=function(l,s){let a,u;if(l instanceof Array){u=[];try{for(a of l)u.push(this.getElement(a,s))}catch{u=null}}else if(typeof l=="string"){u=[];for(a of document.querySelectorAll(l))u.push(a)}else l.nodeType!=null&&(u=[l]);if(u==null||!u.length)throw new Error(`Invalid \`${s}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return u};Ze.confirm=function(l,s,a){if(window.confirm(l))return s();if(a!=null)return a()};Ze.isValidFile=function(l,s){if(!s)return!0;s=s.split(",");let a=l.type,u=a.replace(/\/.*$/,"");for(let d of s)if(d=d.trim(),d.charAt(0)==="."){if(l.name.toLowerCase().indexOf(d.toLowerCase(),l.name.length-d.length)!==-1)return!0}else if(/\/\*$/.test(d)){if(u===d.replace(/\/.*$/,""))return!0}else if(a===d)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(l){return this.each(function(){return new Ze(this,l)})});Ze.ADDED="added";Ze.QUEUED="queued";Ze.ACCEPTED=Ze.QUEUED;Ze.UPLOADING="uploading";Ze.PROCESSING=Ze.UPLOADING;Ze.CANCELED="canceled";Ze.ERROR="error";Ze.SUCCESS="success";let e1=function(l){l.naturalWidth;let s=l.naturalHeight,a=document.createElement("canvas");a.width=1,a.height=s;let u=a.getContext("2d");u.drawImage(l,0,0);let{data:d}=u.getImageData(1,0,1,s),m=0,v=s,x=s;for(;x>m;)d[(x-1)*4+3]===0?v=x:m=x,x=v+m>>1;let k=x/s;return k===0?1:k};var t1=function(l,s,a,u,d,m,v,x,k,D){let E=e1(s);return l.drawImage(s,a,u,d,m,v,x,k,D/E)};class v0{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(s){let a="",u,d,m="",v,x,k,D="",E=0;for(;u=s[E++],d=s[E++],m=s[E++],v=u>>2,x=(u&3)<<4|d>>4,k=(d&15)<<2|m>>6,D=m&63,isNaN(d)?k=D=64:isNaN(m)&&(D=64),a=a+this.KEY_STR.charAt(v)+this.KEY_STR.charAt(x)+this.KEY_STR.charAt(k)+this.KEY_STR.charAt(D),u=d=m="",v=x=k=D="",E<s.length;);return a}static restore(s,a){if(!s.match("data:image/jpeg;base64,"))return a;let u=this.decode64(s.replace("data:image/jpeg;base64,","")),d=this.slice2Segments(u),m=this.exifManipulation(a,d);return`data:image/jpeg;base64,${this.encode64(m)}`}static exifManipulation(s,a){let u=this.getExifArray(a),d=this.insertExif(s,u);return new Uint8Array(d)}static getExifArray(s){let a,u=0;for(;u<s.length;){if(a=s[u],a[0]===255&a[1]===225)return a;u++}return[]}static insertExif(s,a){let u=s.replace("data:image/jpeg;base64,",""),d=this.decode64(u),m=d.indexOf(255,3),v=d.slice(0,m),x=d.slice(m),k=v;return k=k.concat(a),k=k.concat(x),k}static slice2Segments(s){let a=0,u=[];for(;;){var d;if(s[a]===255&s[a+1]===218)break;if(s[a]===255&s[a+1]===216)a+=2;else{d=s[a+2]*256+s[a+3];let m=a+d+2,v=s.slice(a,m);u.push(v),a=m}if(a>s.length)break}return u}static decode64(s){let a,u,d="",m,v,x,k="",D=0,E=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(s)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),s=s.replace(/[^A-Za-z0-9\+\/\=]/g,"");m=this.KEY_STR.indexOf(s.charAt(D++)),v=this.KEY_STR.indexOf(s.charAt(D++)),x=this.KEY_STR.indexOf(s.charAt(D++)),k=this.KEY_STR.indexOf(s.charAt(D++)),a=m<<2|v>>4,u=(v&15)<<4|x>>2,d=(x&3)<<6|k,E.push(a),x!==64&&E.push(u),k!==64&&E.push(d),a=u=d="",m=v=x=k="",D<s.length;);return E}}v0.initClass();function i1(l,s){return typeof l<"u"&&l!==null?s(l):void 0}function n1(l,s,a){if(typeof l<"u"&&l!==null&&typeof l[s]=="function")return a(l,s)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Qu(l){return l+.5|0}const yr=(l,s,a)=>Math.max(Math.min(l,a),s);function Iu(l){return yr(Qu(l*2.55),0,255)}function wr(l){return yr(Qu(l*255),0,255)}function Ia(l){return yr(Qu(l/2.55)/100,0,1)}function cm(l){return yr(Qu(l*100),0,100)}const ds={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ep=[..."0123456789ABCDEF"],s1=l=>ep[l&15],a1=l=>ep[(l&240)>>4]+ep[l&15],Nd=l=>(l&240)>>4===(l&15),r1=l=>Nd(l.r)&&Nd(l.g)&&Nd(l.b)&&Nd(l.a);function o1(l){var s=l.length,a;return l[0]==="#"&&(s===4||s===5?a={r:255&ds[l[1]]*17,g:255&ds[l[2]]*17,b:255&ds[l[3]]*17,a:s===5?ds[l[4]]*17:255}:(s===7||s===9)&&(a={r:ds[l[1]]<<4|ds[l[2]],g:ds[l[3]]<<4|ds[l[4]],b:ds[l[5]]<<4|ds[l[6]],a:s===9?ds[l[7]]<<4|ds[l[8]]:255})),a}const l1=(l,s)=>l<255?s(l):"";function u1(l){var s=r1(l)?s1:a1;return l?"#"+s(l.r)+s(l.g)+s(l.b)+l1(l.a,s):void 0}const c1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function b0(l,s,a){const u=s*Math.min(a,1-a),d=(m,v=(m+l/30)%12)=>a-u*Math.max(Math.min(v-3,9-v,1),-1);return[d(0),d(8),d(4)]}function d1(l,s,a){const u=(d,m=(d+l/60)%6)=>a-a*s*Math.max(Math.min(m,4-m,1),0);return[u(5),u(3),u(1)]}function h1(l,s,a){const u=b0(l,1,.5);let d;for(s+a>1&&(d=1/(s+a),s*=d,a*=d),d=0;d<3;d++)u[d]*=1-s-a,u[d]+=s;return u}function f1(l,s,a,u,d){return l===d?(s-a)/u+(s<a?6:0):s===d?(a-l)/u+2:(l-s)/u+4}function _p(l){const a=l.r/255,u=l.g/255,d=l.b/255,m=Math.max(a,u,d),v=Math.min(a,u,d),x=(m+v)/2;let k,D,E;return m!==v&&(E=m-v,D=x>.5?E/(2-m-v):E/(m+v),k=f1(a,u,d,E,m),k=k*60+.5),[k|0,D||0,x]}function xp(l,s,a,u){return(Array.isArray(s)?l(s[0],s[1],s[2]):l(s,a,u)).map(wr)}function Cp(l,s,a){return xp(b0,l,s,a)}function p1(l,s,a){return xp(h1,l,s,a)}function m1(l,s,a){return xp(d1,l,s,a)}function y0(l){return(l%360+360)%360}function g1(l){const s=c1.exec(l);let a=255,u;if(!s)return;s[5]!==u&&(a=s[6]?Iu(+s[5]):wr(+s[5]));const d=y0(+s[2]),m=+s[3]/100,v=+s[4]/100;return s[1]==="hwb"?u=p1(d,m,v):s[1]==="hsv"?u=m1(d,m,v):u=Cp(d,m,v),{r:u[0],g:u[1],b:u[2],a}}function v1(l,s){var a=_p(l);a[0]=y0(a[0]+s),a=Cp(a),l.r=a[0],l.g=a[1],l.b=a[2]}function b1(l){if(!l)return;const s=_p(l),a=s[0],u=cm(s[1]),d=cm(s[2]);return l.a<255?`hsla(${a}, ${u}%, ${d}%, ${Ia(l.a)})`:`hsl(${a}, ${u}%, ${d}%)`}const dm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function y1(){const l={},s=Object.keys(hm),a=Object.keys(dm);let u,d,m,v,x;for(u=0;u<s.length;u++){for(v=x=s[u],d=0;d<a.length;d++)m=a[d],x=x.replace(m,dm[m]);m=parseInt(hm[v],16),l[x]=[m>>16&255,m>>8&255,m&255]}return l}let Rd;function _1(l){Rd||(Rd=y1(),Rd.transparent=[0,0,0,0]);const s=Rd[l.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:s.length===4?s[3]:255}}const x1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function C1(l){const s=x1.exec(l);let a=255,u,d,m;if(s){if(s[7]!==u){const v=+s[7];a=s[8]?Iu(v):yr(v*255,0,255)}return u=+s[1],d=+s[3],m=+s[5],u=255&(s[2]?Iu(u):yr(u,0,255)),d=255&(s[4]?Iu(d):yr(d,0,255)),m=255&(s[6]?Iu(m):yr(m,0,255)),{r:u,g:d,b:m,a}}}function w1(l){return l&&(l.a<255?`rgba(${l.r}, ${l.g}, ${l.b}, ${Ia(l.a)})`:`rgb(${l.r}, ${l.g}, ${l.b})`)}const Lf=l=>l<=.0031308?l*12.92:Math.pow(l,1/2.4)*1.055-.055,Qo=l=>l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4);function k1(l,s,a){const u=Qo(Ia(l.r)),d=Qo(Ia(l.g)),m=Qo(Ia(l.b));return{r:wr(Lf(u+a*(Qo(Ia(s.r))-u))),g:wr(Lf(d+a*(Qo(Ia(s.g))-d))),b:wr(Lf(m+a*(Qo(Ia(s.b))-m))),a:l.a+a*(s.a-l.a)}}function zd(l,s,a){if(l){let u=_p(l);u[s]=Math.max(0,Math.min(u[s]+u[s]*a,s===0?360:1)),u=Cp(u),l.r=u[0],l.g=u[1],l.b=u[2]}}function _0(l,s){return l&&Object.assign(s||{},l)}function fm(l){var s={r:0,g:0,b:0,a:255};return Array.isArray(l)?l.length>=3&&(s={r:l[0],g:l[1],b:l[2],a:255},l.length>3&&(s.a=wr(l[3]))):(s=_0(l,{r:0,g:0,b:0,a:1}),s.a=wr(s.a)),s}function S1(l){return l.charAt(0)==="r"?C1(l):g1(l)}class qu{constructor(s){if(s instanceof qu)return s;const a=typeof s;let u;a==="object"?u=fm(s):a==="string"&&(u=o1(s)||_1(s)||S1(s)),this._rgb=u,this._valid=!!u}get valid(){return this._valid}get rgb(){var s=_0(this._rgb);return s&&(s.a=Ia(s.a)),s}set rgb(s){this._rgb=fm(s)}rgbString(){return this._valid?w1(this._rgb):void 0}hexString(){return this._valid?u1(this._rgb):void 0}hslString(){return this._valid?b1(this._rgb):void 0}mix(s,a){if(s){const u=this.rgb,d=s.rgb;let m;const v=a===m?.5:a,x=2*v-1,k=u.a-d.a,D=((x*k===-1?x:(x+k)/(1+x*k))+1)/2;m=1-D,u.r=255&D*u.r+m*d.r+.5,u.g=255&D*u.g+m*d.g+.5,u.b=255&D*u.b+m*d.b+.5,u.a=v*u.a+(1-v)*d.a,this.rgb=u}return this}interpolate(s,a){return s&&(this._rgb=k1(this._rgb,s._rgb,a)),this}clone(){return new qu(this.rgb)}alpha(s){return this._rgb.a=wr(s),this}clearer(s){const a=this._rgb;return a.a*=1-s,this}greyscale(){const s=this._rgb,a=Qu(s.r*.3+s.g*.59+s.b*.11);return s.r=s.g=s.b=a,this}opaquer(s){const a=this._rgb;return a.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return zd(this._rgb,2,s),this}darken(s){return zd(this._rgb,2,-s),this}saturate(s){return zd(this._rgb,1,s),this}desaturate(s){return zd(this._rgb,1,-s),this}rotate(s){return v1(this._rgb,s),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Aa(){}const D1=(()=>{let l=0;return()=>l++})();function Mt(l){return l==null}function hi(l){if(Array.isArray&&Array.isArray(l))return!0;const s=Object.prototype.toString.call(l);return s.slice(0,7)==="[object"&&s.slice(-6)==="Array]"}function It(l){return l!==null&&Object.prototype.toString.call(l)==="[object Object]"}function Ii(l){return(typeof l=="number"||l instanceof Number)&&isFinite(+l)}function Zn(l,s){return Ii(l)?l:s}function St(l,s){return typeof l>"u"?s:l}const T1=(l,s)=>typeof l=="string"&&l.endsWith("%")?parseFloat(l)/100:+l/s,x0=(l,s)=>typeof l=="string"&&l.endsWith("%")?parseFloat(l)/100*s:+l;function ii(l,s,a){if(l&&typeof l.call=="function")return l.apply(a,s)}function Jt(l,s,a,u){let d,m,v;if(hi(l))for(m=l.length,d=0;d<m;d++)s.call(a,l[d],d);else if(It(l))for(v=Object.keys(l),m=v.length,d=0;d<m;d++)s.call(a,l[v[d]],v[d])}function dh(l,s){let a,u,d,m;if(!l||!s||l.length!==s.length)return!1;for(a=0,u=l.length;a<u;++a)if(d=l[a],m=s[a],d.datasetIndex!==m.datasetIndex||d.index!==m.index)return!1;return!0}function hh(l){if(hi(l))return l.map(hh);if(It(l)){const s=Object.create(null),a=Object.keys(l),u=a.length;let d=0;for(;d<u;++d)s[a[d]]=hh(l[a[d]]);return s}return l}function C0(l){return["__proto__","prototype","constructor"].indexOf(l)===-1}function E1(l,s,a,u){if(!C0(l))return;const d=s[l],m=a[l];It(d)&&It(m)?ia(d,m,u):s[l]=hh(m)}function ia(l,s,a){const u=hi(s)?s:[s],d=u.length;if(!It(l))return l;a=a||{};const m=a.merger||E1;let v;for(let x=0;x<d;++x){if(v=u[x],!It(v))continue;const k=Object.keys(v);for(let D=0,E=k.length;D<E;++D)m(k[D],l,v,a)}return l}function Bu(l,s){return ia(l,s,{merger:A1})}function A1(l,s,a){if(!C0(l))return;const u=s[l],d=a[l];It(u)&&It(d)?Bu(u,d):Object.prototype.hasOwnProperty.call(s,l)||(s[l]=hh(d))}const pm={"":l=>l,x:l=>l.x,y:l=>l.y};function M1(l){const s=l.split("."),a=[];let u="";for(const d of s)u+=d,u.endsWith("\\")?u=u.slice(0,-1)+".":(a.push(u),u="");return a}function F1(l){const s=M1(l);return a=>{for(const u of s){if(u==="")break;a=a&&a[u]}return a}}function kr(l,s){return(pm[s]||(pm[s]=F1(s)))(l)}function wp(l){return l.charAt(0).toUpperCase()+l.slice(1)}const Yu=l=>typeof l<"u",Sr=l=>typeof l=="function",mm=(l,s)=>{if(l.size!==s.size)return!1;for(const a of l)if(!s.has(a))return!1;return!0};function I1(l){return l.type==="mouseup"||l.type==="click"||l.type==="contextmenu"}const $t=Math.PI,fi=2*$t,L1=fi+$t,fh=Number.POSITIVE_INFINITY,O1=$t/180,Ri=$t/2,to=$t/4,gm=$t*2/3,_r=Math.log10,ta=Math.sign;function Nu(l,s,a){return Math.abs(l-s)<a}function vm(l){const s=Math.round(l);l=Nu(l,s,l/1e3)?s:l;const a=Math.pow(10,Math.floor(_r(l))),u=l/a;return(u<=1?1:u<=2?2:u<=5?5:10)*a}function P1(l){const s=[],a=Math.sqrt(l);let u;for(u=1;u<a;u++)l%u===0&&(s.push(u),s.push(l/u));return a===(a|0)&&s.push(a),s.sort((d,m)=>d-m).pop(),s}function B1(l){return typeof l=="symbol"||typeof l=="object"&&l!==null&&!(Symbol.toPrimitive in l||"toString"in l||"valueOf"in l)}function sl(l){return!B1(l)&&!isNaN(parseFloat(l))&&isFinite(l)}function N1(l,s){const a=Math.round(l);return a-s<=l&&a+s>=l}function w0(l,s,a){let u,d,m;for(u=0,d=l.length;u<d;u++)m=l[u][a],isNaN(m)||(s.min=Math.min(s.min,m),s.max=Math.max(s.max,m))}function As(l){return l*($t/180)}function kp(l){return l*(180/$t)}function bm(l){if(!Ii(l))return;let s=1,a=0;for(;Math.round(l*s)/s!==l;)s*=10,a++;return a}function k0(l,s){const a=s.x-l.x,u=s.y-l.y,d=Math.sqrt(a*a+u*u);let m=Math.atan2(u,a);return m<-.5*$t&&(m+=fi),{angle:m,distance:d}}function tp(l,s){return Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2))}function R1(l,s){return(l-s+L1)%fi-$t}function Tn(l){return(l%fi+fi)%fi}function Gu(l,s,a,u){const d=Tn(l),m=Tn(s),v=Tn(a),x=Tn(m-d),k=Tn(v-d),D=Tn(d-m),E=Tn(d-v);return d===m||d===v||u&&m===v||x>k&&D<E}function cn(l,s,a){return Math.max(s,Math.min(a,l))}function z1(l){return cn(l,-32768,32767)}function Oa(l,s,a,u=1e-6){return l>=Math.min(s,a)-u&&l<=Math.max(s,a)+u}function Sp(l,s,a){a=a||(v=>l[v]<s);let u=l.length-1,d=0,m;for(;u-d>1;)m=d+u>>1,a(m)?d=m:u=m;return{lo:d,hi:u}}const Pa=(l,s,a,u)=>Sp(l,a,u?d=>{const m=l[d][s];return m<a||m===a&&l[d+1][s]===a}:d=>l[d][s]<a),H1=(l,s,a)=>Sp(l,a,u=>l[u][s]>=a);function $1(l,s,a){let u=0,d=l.length;for(;u<d&&l[u]<s;)u++;for(;d>u&&l[d-1]>a;)d--;return u>0||d<l.length?l.slice(u,d):l}const S0=["push","pop","shift","splice","unshift"];function V1(l,s){if(l._chartjs){l._chartjs.listeners.push(s);return}Object.defineProperty(l,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),S0.forEach(a=>{const u="_onData"+wp(a),d=l[a];Object.defineProperty(l,a,{configurable:!0,enumerable:!1,value(...m){const v=d.apply(this,m);return l._chartjs.listeners.forEach(x=>{typeof x[u]=="function"&&x[u](...m)}),v}})})}function ym(l,s){const a=l._chartjs;if(!a)return;const u=a.listeners,d=u.indexOf(s);d!==-1&&u.splice(d,1),!(u.length>0)&&(S0.forEach(m=>{delete l[m]}),delete l._chartjs)}function D0(l){const s=new Set(l);return s.size===l.length?l:Array.from(s)}const T0=function(){return typeof window>"u"?function(l){return l()}:window.requestAnimationFrame}();function E0(l,s){let a=[],u=!1;return function(...d){a=d,u||(u=!0,T0.call(window,()=>{u=!1,l.apply(s,a)}))}}function W1(l,s){let a;return function(...u){return s?(clearTimeout(a),a=setTimeout(l,s,u)):l.apply(this,u),s}}const Dp=l=>l==="start"?"left":l==="end"?"right":"center",Dn=(l,s,a)=>l==="start"?s:l==="end"?a:(s+a)/2,j1=(l,s,a,u)=>l===(u?"left":"right")?a:l==="center"?(s+a)/2:s;function A0(l,s,a){const u=s.length;let d=0,m=u;if(l._sorted){const{iScale:v,vScale:x,_parsed:k}=l,D=l.dataset&&l.dataset.options?l.dataset.options.spanGaps:null,E=v.axis,{min:L,max:P,minDefined:H,maxDefined:U}=v.getUserBounds();if(H){if(d=Math.min(Pa(k,E,L).lo,a?u:Pa(s,E,v.getPixelForValue(L)).lo),D){const Z=k.slice(0,d+1).reverse().findIndex(ee=>!Mt(ee[x.axis]));d-=Math.max(0,Z)}d=cn(d,0,u-1)}if(U){let Z=Math.max(Pa(k,v.axis,P,!0).hi+1,a?0:Pa(s,E,v.getPixelForValue(P),!0).hi+1);if(D){const ee=k.slice(Z-1).findIndex(K=>!Mt(K[x.axis]));Z+=Math.max(0,ee)}m=cn(Z,d,u)-d}else m=u-d}return{start:d,count:m}}function M0(l){const{xScale:s,yScale:a,_scaleRanges:u}=l,d={xmin:s.min,xmax:s.max,ymin:a.min,ymax:a.max};if(!u)return l._scaleRanges=d,!0;const m=u.xmin!==s.min||u.xmax!==s.max||u.ymin!==a.min||u.ymax!==a.max;return Object.assign(u,d),m}const Hd=l=>l===0||l===1,_m=(l,s,a)=>-(Math.pow(2,10*(l-=1))*Math.sin((l-s)*fi/a)),xm=(l,s,a)=>Math.pow(2,-10*l)*Math.sin((l-s)*fi/a)+1,Ru={linear:l=>l,easeInQuad:l=>l*l,easeOutQuad:l=>-l*(l-2),easeInOutQuad:l=>(l/=.5)<1?.5*l*l:-.5*(--l*(l-2)-1),easeInCubic:l=>l*l*l,easeOutCubic:l=>(l-=1)*l*l+1,easeInOutCubic:l=>(l/=.5)<1?.5*l*l*l:.5*((l-=2)*l*l+2),easeInQuart:l=>l*l*l*l,easeOutQuart:l=>-((l-=1)*l*l*l-1),easeInOutQuart:l=>(l/=.5)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2),easeInQuint:l=>l*l*l*l*l,easeOutQuint:l=>(l-=1)*l*l*l*l+1,easeInOutQuint:l=>(l/=.5)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2),easeInSine:l=>-Math.cos(l*Ri)+1,easeOutSine:l=>Math.sin(l*Ri),easeInOutSine:l=>-.5*(Math.cos($t*l)-1),easeInExpo:l=>l===0?0:Math.pow(2,10*(l-1)),easeOutExpo:l=>l===1?1:-Math.pow(2,-10*l)+1,easeInOutExpo:l=>Hd(l)?l:l<.5?.5*Math.pow(2,10*(l*2-1)):.5*(-Math.pow(2,-10*(l*2-1))+2),easeInCirc:l=>l>=1?l:-(Math.sqrt(1-l*l)-1),easeOutCirc:l=>Math.sqrt(1-(l-=1)*l),easeInOutCirc:l=>(l/=.5)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1),easeInElastic:l=>Hd(l)?l:_m(l,.075,.3),easeOutElastic:l=>Hd(l)?l:xm(l,.075,.3),easeInOutElastic(l){return Hd(l)?l:l<.5?.5*_m(l*2,.1125,.45):.5+.5*xm(l*2-1,.1125,.45)},easeInBack(l){return l*l*((1.70158+1)*l-1.70158)},easeOutBack(l){return(l-=1)*l*((1.70158+1)*l+1.70158)+1},easeInOutBack(l){let s=1.70158;return(l/=.5)<1?.5*(l*l*(((s*=1.525)+1)*l-s)):.5*((l-=2)*l*(((s*=1.525)+1)*l+s)+2)},easeInBounce:l=>1-Ru.easeOutBounce(1-l),easeOutBounce(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375},easeInOutBounce:l=>l<.5?Ru.easeInBounce(l*2)*.5:Ru.easeOutBounce(l*2-1)*.5+.5};function Tp(l){if(l&&typeof l=="object"){const s=l.toString();return s==="[object CanvasPattern]"||s==="[object CanvasGradient]"}return!1}function Cm(l){return Tp(l)?l:new qu(l)}function Of(l){return Tp(l)?l:new qu(l).saturate(.5).darken(.1).hexString()}const U1=["x","y","borderWidth","radius","tension"],q1=["color","borderColor","backgroundColor"];function Y1(l){l.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),l.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>s!=="onProgress"&&s!=="onComplete"&&s!=="fn"}),l.set("animations",{colors:{type:"color",properties:q1},numbers:{type:"number",properties:U1}}),l.describe("animations",{_fallback:"animation"}),l.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>s|0}}}})}function G1(l){l.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const wm=new Map;function X1(l,s){s=s||{};const a=l+JSON.stringify(s);let u=wm.get(a);return u||(u=new Intl.NumberFormat(l,s),wm.set(a,u)),u}function ec(l,s,a){return X1(s,a).format(l)}const F0={values(l){return hi(l)?l:""+l},numeric(l,s,a){if(l===0)return"0";const u=this.chart.options.locale;let d,m=l;if(a.length>1){const D=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(D<1e-4||D>1e15)&&(d="scientific"),m=K1(l,a)}const v=_r(Math.abs(m)),x=isNaN(v)?1:Math.max(Math.min(-1*Math.floor(v),20),0),k={notation:d,minimumFractionDigits:x,maximumFractionDigits:x};return Object.assign(k,this.options.ticks.format),ec(l,u,k)},logarithmic(l,s,a){if(l===0)return"0";const u=a[s].significand||l/Math.pow(10,Math.floor(_r(l)));return[1,2,3,5,10,15].includes(u)||s>.8*a.length?F0.numeric.call(this,l,s,a):""}};function K1(l,s){let a=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(a)>=1&&l!==Math.floor(l)&&(a=l-Math.floor(l)),a}var xh={formatters:F0};function Z1(l){l.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,a)=>a.lineWidth,tickColor:(s,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),l.route("scale.ticks","color","","color"),l.route("scale.grid","color","","borderColor"),l.route("scale.border","color","","borderColor"),l.route("scale.title","color","","color"),l.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&s!=="callback"&&s!=="parser",_indexable:s=>s!=="borderDash"&&s!=="tickBorderDash"&&s!=="dash"}),l.describe("scales",{_fallback:"scale"}),l.describe("scale.ticks",{_scriptable:s=>s!=="backdropPadding"&&s!=="callback",_indexable:s=>s!=="backdropPadding"})}const ho=Object.create(null),ip=Object.create(null);function zu(l,s){if(!s)return l;const a=s.split(".");for(let u=0,d=a.length;u<d;++u){const m=a[u];l=l[m]||(l[m]=Object.create(null))}return l}function Pf(l,s,a){return typeof s=="string"?ia(zu(l,s),a):ia(zu(l,""),s)}class J1{constructor(s,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=u=>u.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(u,d)=>Of(d.backgroundColor),this.hoverBorderColor=(u,d)=>Of(d.borderColor),this.hoverColor=(u,d)=>Of(d.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(a)}set(s,a){return Pf(this,s,a)}get(s){return zu(this,s)}describe(s,a){return Pf(ip,s,a)}override(s,a){return Pf(ho,s,a)}route(s,a,u,d){const m=zu(this,s),v=zu(this,u),x="_"+a;Object.defineProperties(m,{[x]:{value:m[a],writable:!0},[a]:{enumerable:!0,get(){const k=this[x],D=v[d];return It(k)?Object.assign({},D,k):St(k,D)},set(k){this[x]=k}}})}apply(s){s.forEach(a=>a(this))}}var pi=new J1({_scriptable:l=>!l.startsWith("on"),_indexable:l=>l!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Y1,G1,Z1]);function Q1(l){return!l||Mt(l.size)||Mt(l.family)?null:(l.style?l.style+" ":"")+(l.weight?l.weight+" ":"")+l.size+"px "+l.family}function ph(l,s,a,u,d){let m=s[d];return m||(m=s[d]=l.measureText(d).width,a.push(d)),m>u&&(u=m),u}function ex(l,s,a,u){u=u||{};let d=u.data=u.data||{},m=u.garbageCollect=u.garbageCollect||[];u.font!==s&&(d=u.data={},m=u.garbageCollect=[],u.font=s),l.save(),l.font=s;let v=0;const x=a.length;let k,D,E,L,P;for(k=0;k<x;k++)if(L=a[k],L!=null&&!hi(L))v=ph(l,d,m,v,L);else if(hi(L))for(D=0,E=L.length;D<E;D++)P=L[D],P!=null&&!hi(P)&&(v=ph(l,d,m,v,P));l.restore();const H=m.length/2;if(H>a.length){for(k=0;k<H;k++)delete d[m[k]];m.splice(0,H)}return v}function io(l,s,a){const u=l.currentDevicePixelRatio,d=a!==0?Math.max(a/2,.5):0;return Math.round((s-d)*u)/u+d}function km(l,s){!s&&!l||(s=s||l.getContext("2d"),s.save(),s.resetTransform(),s.clearRect(0,0,l.width,l.height),s.restore())}function np(l,s,a,u){I0(l,s,a,u,null)}function I0(l,s,a,u,d){let m,v,x,k,D,E,L,P;const H=s.pointStyle,U=s.rotation,Z=s.radius;let ee=(U||0)*O1;if(H&&typeof H=="object"&&(m=H.toString(),m==="[object HTMLImageElement]"||m==="[object HTMLCanvasElement]")){l.save(),l.translate(a,u),l.rotate(ee),l.drawImage(H,-H.width/2,-H.height/2,H.width,H.height),l.restore();return}if(!(isNaN(Z)||Z<=0)){switch(l.beginPath(),H){default:d?l.ellipse(a,u,d/2,Z,0,0,fi):l.arc(a,u,Z,0,fi),l.closePath();break;case"triangle":E=d?d/2:Z,l.moveTo(a+Math.sin(ee)*E,u-Math.cos(ee)*Z),ee+=gm,l.lineTo(a+Math.sin(ee)*E,u-Math.cos(ee)*Z),ee+=gm,l.lineTo(a+Math.sin(ee)*E,u-Math.cos(ee)*Z),l.closePath();break;case"rectRounded":D=Z*.516,k=Z-D,v=Math.cos(ee+to)*k,L=Math.cos(ee+to)*(d?d/2-D:k),x=Math.sin(ee+to)*k,P=Math.sin(ee+to)*(d?d/2-D:k),l.arc(a-L,u-x,D,ee-$t,ee-Ri),l.arc(a+P,u-v,D,ee-Ri,ee),l.arc(a+L,u+x,D,ee,ee+Ri),l.arc(a-P,u+v,D,ee+Ri,ee+$t),l.closePath();break;case"rect":if(!U){k=Math.SQRT1_2*Z,E=d?d/2:k,l.rect(a-E,u-k,2*E,2*k);break}ee+=to;case"rectRot":L=Math.cos(ee)*(d?d/2:Z),v=Math.cos(ee)*Z,x=Math.sin(ee)*Z,P=Math.sin(ee)*(d?d/2:Z),l.moveTo(a-L,u-x),l.lineTo(a+P,u-v),l.lineTo(a+L,u+x),l.lineTo(a-P,u+v),l.closePath();break;case"crossRot":ee+=to;case"cross":L=Math.cos(ee)*(d?d/2:Z),v=Math.cos(ee)*Z,x=Math.sin(ee)*Z,P=Math.sin(ee)*(d?d/2:Z),l.moveTo(a-L,u-x),l.lineTo(a+L,u+x),l.moveTo(a+P,u-v),l.lineTo(a-P,u+v);break;case"star":L=Math.cos(ee)*(d?d/2:Z),v=Math.cos(ee)*Z,x=Math.sin(ee)*Z,P=Math.sin(ee)*(d?d/2:Z),l.moveTo(a-L,u-x),l.lineTo(a+L,u+x),l.moveTo(a+P,u-v),l.lineTo(a-P,u+v),ee+=to,L=Math.cos(ee)*(d?d/2:Z),v=Math.cos(ee)*Z,x=Math.sin(ee)*Z,P=Math.sin(ee)*(d?d/2:Z),l.moveTo(a-L,u-x),l.lineTo(a+L,u+x),l.moveTo(a+P,u-v),l.lineTo(a-P,u+v);break;case"line":v=d?d/2:Math.cos(ee)*Z,x=Math.sin(ee)*Z,l.moveTo(a-v,u-x),l.lineTo(a+v,u+x);break;case"dash":l.moveTo(a,u),l.lineTo(a+Math.cos(ee)*(d?d/2:Z),u+Math.sin(ee)*Z);break;case!1:l.closePath();break}l.fill(),s.borderWidth>0&&l.stroke()}}function Ba(l,s,a){return a=a||.5,!s||l&&l.x>s.left-a&&l.x<s.right+a&&l.y>s.top-a&&l.y<s.bottom+a}function Ch(l,s){l.save(),l.beginPath(),l.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),l.clip()}function wh(l){l.restore()}function tx(l,s,a,u,d){if(!s)return l.lineTo(a.x,a.y);if(d==="middle"){const m=(s.x+a.x)/2;l.lineTo(m,s.y),l.lineTo(m,a.y)}else d==="after"!=!!u?l.lineTo(s.x,a.y):l.lineTo(a.x,s.y);l.lineTo(a.x,a.y)}function ix(l,s,a,u){if(!s)return l.lineTo(a.x,a.y);l.bezierCurveTo(u?s.cp1x:s.cp2x,u?s.cp1y:s.cp2y,u?a.cp2x:a.cp1x,u?a.cp2y:a.cp1y,a.x,a.y)}function nx(l,s){s.translation&&l.translate(s.translation[0],s.translation[1]),Mt(s.rotation)||l.rotate(s.rotation),s.color&&(l.fillStyle=s.color),s.textAlign&&(l.textAlign=s.textAlign),s.textBaseline&&(l.textBaseline=s.textBaseline)}function sx(l,s,a,u,d){if(d.strikethrough||d.underline){const m=l.measureText(u),v=s-m.actualBoundingBoxLeft,x=s+m.actualBoundingBoxRight,k=a-m.actualBoundingBoxAscent,D=a+m.actualBoundingBoxDescent,E=d.strikethrough?(k+D)/2:D;l.strokeStyle=l.fillStyle,l.beginPath(),l.lineWidth=d.decorationWidth||2,l.moveTo(v,E),l.lineTo(x,E),l.stroke()}}function ax(l,s){const a=l.fillStyle;l.fillStyle=s.color,l.fillRect(s.left,s.top,s.width,s.height),l.fillStyle=a}function fo(l,s,a,u,d,m={}){const v=hi(s)?s:[s],x=m.strokeWidth>0&&m.strokeColor!=="";let k,D;for(l.save(),l.font=d.string,nx(l,m),k=0;k<v.length;++k)D=v[k],m.backdrop&&ax(l,m.backdrop),x&&(m.strokeColor&&(l.strokeStyle=m.strokeColor),Mt(m.strokeWidth)||(l.lineWidth=m.strokeWidth),l.strokeText(D,a,u,m.maxWidth)),l.fillText(D,a,u,m.maxWidth),sx(l,a,u,D,m),u+=Number(d.lineHeight);l.restore()}function Xu(l,s){const{x:a,y:u,w:d,h:m,radius:v}=s;l.arc(a+v.topLeft,u+v.topLeft,v.topLeft,1.5*$t,$t,!0),l.lineTo(a,u+m-v.bottomLeft),l.arc(a+v.bottomLeft,u+m-v.bottomLeft,v.bottomLeft,$t,Ri,!0),l.lineTo(a+d-v.bottomRight,u+m),l.arc(a+d-v.bottomRight,u+m-v.bottomRight,v.bottomRight,Ri,0,!0),l.lineTo(a+d,u+v.topRight),l.arc(a+d-v.topRight,u+v.topRight,v.topRight,0,-Ri,!0),l.lineTo(a+v.topLeft,u)}const rx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ox=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lx(l,s){const a=(""+l).match(rx);if(!a||a[1]==="normal")return s*1.2;switch(l=+a[2],a[3]){case"px":return l;case"%":l/=100;break}return s*l}const ux=l=>+l||0;function Ep(l,s){const a={},u=It(s),d=u?Object.keys(s):s,m=It(l)?u?v=>St(l[v],l[s[v]]):v=>l[v]:()=>l;for(const v of d)a[v]=ux(m(v));return a}function L0(l){return Ep(l,{top:"y",right:"x",bottom:"y",left:"x"})}function uo(l){return Ep(l,["topLeft","topRight","bottomLeft","bottomRight"])}function bn(l){const s=L0(l);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Ui(l,s){l=l||{},s=s||pi.font;let a=St(l.size,s.size);typeof a=="string"&&(a=parseInt(a,10));let u=St(l.style,s.style);u&&!(""+u).match(ox)&&(console.warn('Invalid font style specified: "'+u+'"'),u=void 0);const d={family:St(l.family,s.family),lineHeight:lx(St(l.lineHeight,s.lineHeight),a),size:a,style:u,weight:St(l.weight,s.weight),string:""};return d.string=Q1(d),d}function di(l,s,a,u){let d,m,v;for(d=0,m=l.length;d<m;++d)if(v=l[d],v!==void 0&&(s!==void 0&&typeof v=="function"&&(v=v(s)),a!==void 0&&hi(v)&&(v=v[a%v.length]),v!==void 0))return v}function cx(l,s,a){const{min:u,max:d}=l,m=x0(s,(d-u)/2),v=(x,k)=>a&&x===0?0:x+k;return{min:v(u,-Math.abs(m)),max:v(d,m)}}function Dr(l,s){return Object.assign(Object.create(l),s)}function Ap(l,s=[""],a,u,d=()=>l[0]){const m=a||l;typeof u>"u"&&(u=N0("_fallback",l));const v={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:l,_rootScopes:m,_fallback:u,_getTarget:d,override:x=>Ap([x,...l],s,m,u)};return new Proxy(v,{deleteProperty(x,k){return delete x[k],delete x._keys,delete l[0][k],!0},get(x,k){return P0(x,k,()=>bx(k,s,l,x))},getOwnPropertyDescriptor(x,k){return Reflect.getOwnPropertyDescriptor(x._scopes[0],k)},getPrototypeOf(){return Reflect.getPrototypeOf(l[0])},has(x,k){return Dm(x).includes(k)},ownKeys(x){return Dm(x)},set(x,k,D){const E=x._storage||(x._storage=d());return x[k]=E[k]=D,delete x._keys,!0}})}function al(l,s,a,u){const d={_cacheable:!1,_proxy:l,_context:s,_subProxy:a,_stack:new Set,_descriptors:O0(l,u),setContext:m=>al(l,m,a,u),override:m=>al(l.override(m),s,a,u)};return new Proxy(d,{deleteProperty(m,v){return delete m[v],delete l[v],!0},get(m,v,x){return P0(m,v,()=>hx(m,v,x))},getOwnPropertyDescriptor(m,v){return m._descriptors.allKeys?Reflect.has(l,v)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(l,v)},getPrototypeOf(){return Reflect.getPrototypeOf(l)},has(m,v){return Reflect.has(l,v)},ownKeys(){return Reflect.ownKeys(l)},set(m,v,x){return l[v]=x,delete m[v],!0}})}function O0(l,s={scriptable:!0,indexable:!0}){const{_scriptable:a=s.scriptable,_indexable:u=s.indexable,_allKeys:d=s.allKeys}=l;return{allKeys:d,scriptable:a,indexable:u,isScriptable:Sr(a)?a:()=>a,isIndexable:Sr(u)?u:()=>u}}const dx=(l,s)=>l?l+wp(s):s,Mp=(l,s)=>It(s)&&l!=="adapters"&&(Object.getPrototypeOf(s)===null||s.constructor===Object);function P0(l,s,a){if(Object.prototype.hasOwnProperty.call(l,s)||s==="constructor")return l[s];const u=a();return l[s]=u,u}function hx(l,s,a){const{_proxy:u,_context:d,_subProxy:m,_descriptors:v}=l;let x=u[s];return Sr(x)&&v.isScriptable(s)&&(x=fx(s,x,l,a)),hi(x)&&x.length&&(x=px(s,x,l,v.isIndexable)),Mp(s,x)&&(x=al(x,d,m&&m[s],v)),x}function fx(l,s,a,u){const{_proxy:d,_context:m,_subProxy:v,_stack:x}=a;if(x.has(l))throw new Error("Recursion detected: "+Array.from(x).join("->")+"->"+l);x.add(l);let k=s(m,v||u);return x.delete(l),Mp(l,k)&&(k=Fp(d._scopes,d,l,k)),k}function px(l,s,a,u){const{_proxy:d,_context:m,_subProxy:v,_descriptors:x}=a;if(typeof m.index<"u"&&u(l))return s[m.index%s.length];if(It(s[0])){const k=s,D=d._scopes.filter(E=>E!==k);s=[];for(const E of k){const L=Fp(D,d,l,E);s.push(al(L,m,v&&v[l],x))}}return s}function B0(l,s,a){return Sr(l)?l(s,a):l}const mx=(l,s)=>l===!0?s:typeof l=="string"?kr(s,l):void 0;function gx(l,s,a,u,d){for(const m of s){const v=mx(a,m);if(v){l.add(v);const x=B0(v._fallback,a,d);if(typeof x<"u"&&x!==a&&x!==u)return x}else if(v===!1&&typeof u<"u"&&a!==u)return null}return!1}function Fp(l,s,a,u){const d=s._rootScopes,m=B0(s._fallback,a,u),v=[...l,...d],x=new Set;x.add(u);let k=Sm(x,v,a,m||a,u);return k===null||typeof m<"u"&&m!==a&&(k=Sm(x,v,m,k,u),k===null)?!1:Ap(Array.from(x),[""],d,m,()=>vx(s,a,u))}function Sm(l,s,a,u,d){for(;a;)a=gx(l,s,a,u,d);return a}function vx(l,s,a){const u=l._getTarget();s in u||(u[s]={});const d=u[s];return hi(d)&&It(a)?a:d||{}}function bx(l,s,a,u){let d;for(const m of s)if(d=N0(dx(m,l),a),typeof d<"u")return Mp(l,d)?Fp(a,u,l,d):d}function N0(l,s){for(const a of s){if(!a)continue;const u=a[l];if(typeof u<"u")return u}}function Dm(l){let s=l._keys;return s||(s=l._keys=yx(l._scopes)),s}function yx(l){const s=new Set;for(const a of l)for(const u of Object.keys(a).filter(d=>!d.startsWith("_")))s.add(u);return Array.from(s)}function R0(l,s,a,u){const{iScale:d}=l,{key:m="r"}=this._parsing,v=new Array(u);let x,k,D,E;for(x=0,k=u;x<k;++x)D=x+a,E=s[D],v[x]={r:d.parse(kr(E,m),D)};return v}const _x=Number.EPSILON||1e-14,rl=(l,s)=>s<l.length&&!l[s].skip&&l[s],z0=l=>l==="x"?"y":"x";function xx(l,s,a,u){const d=l.skip?s:l,m=s,v=a.skip?s:a,x=tp(m,d),k=tp(v,m);let D=x/(x+k),E=k/(x+k);D=isNaN(D)?0:D,E=isNaN(E)?0:E;const L=u*D,P=u*E;return{previous:{x:m.x-L*(v.x-d.x),y:m.y-L*(v.y-d.y)},next:{x:m.x+P*(v.x-d.x),y:m.y+P*(v.y-d.y)}}}function Cx(l,s,a){const u=l.length;let d,m,v,x,k,D=rl(l,0);for(let E=0;E<u-1;++E)if(k=D,D=rl(l,E+1),!(!k||!D)){if(Nu(s[E],0,_x)){a[E]=a[E+1]=0;continue}d=a[E]/s[E],m=a[E+1]/s[E],x=Math.pow(d,2)+Math.pow(m,2),!(x<=9)&&(v=3/Math.sqrt(x),a[E]=d*v*s[E],a[E+1]=m*v*s[E])}}function wx(l,s,a="x"){const u=z0(a),d=l.length;let m,v,x,k=rl(l,0);for(let D=0;D<d;++D){if(v=x,x=k,k=rl(l,D+1),!x)continue;const E=x[a],L=x[u];v&&(m=(E-v[a])/3,x[`cp1${a}`]=E-m,x[`cp1${u}`]=L-m*s[D]),k&&(m=(k[a]-E)/3,x[`cp2${a}`]=E+m,x[`cp2${u}`]=L+m*s[D])}}function kx(l,s="x"){const a=z0(s),u=l.length,d=Array(u).fill(0),m=Array(u);let v,x,k,D=rl(l,0);for(v=0;v<u;++v)if(x=k,k=D,D=rl(l,v+1),!!k){if(D){const E=D[s]-k[s];d[v]=E!==0?(D[a]-k[a])/E:0}m[v]=x?D?ta(d[v-1])!==ta(d[v])?0:(d[v-1]+d[v])/2:d[v-1]:d[v]}Cx(l,d,m),wx(l,m,s)}function $d(l,s,a){return Math.max(Math.min(l,a),s)}function Sx(l,s){let a,u,d,m,v,x=Ba(l[0],s);for(a=0,u=l.length;a<u;++a)v=m,m=x,x=a<u-1&&Ba(l[a+1],s),m&&(d=l[a],v&&(d.cp1x=$d(d.cp1x,s.left,s.right),d.cp1y=$d(d.cp1y,s.top,s.bottom)),x&&(d.cp2x=$d(d.cp2x,s.left,s.right),d.cp2y=$d(d.cp2y,s.top,s.bottom)))}function Dx(l,s,a,u,d){let m,v,x,k;if(s.spanGaps&&(l=l.filter(D=>!D.skip)),s.cubicInterpolationMode==="monotone")kx(l,d);else{let D=u?l[l.length-1]:l[0];for(m=0,v=l.length;m<v;++m)x=l[m],k=xx(D,x,l[Math.min(m+1,v-(u?0:1))%v],s.tension),x.cp1x=k.previous.x,x.cp1y=k.previous.y,x.cp2x=k.next.x,x.cp2y=k.next.y,D=x}s.capBezierPoints&&Sx(l,a)}function Ip(){return typeof window<"u"&&typeof document<"u"}function Lp(l){let s=l.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s}function mh(l,s,a){let u;return typeof l=="string"?(u=parseInt(l,10),l.indexOf("%")!==-1&&(u=u/100*s.parentNode[a])):u=l,u}const kh=l=>l.ownerDocument.defaultView.getComputedStyle(l,null);function Tx(l,s){return kh(l).getPropertyValue(s)}const Ex=["top","right","bottom","left"];function co(l,s,a){const u={};a=a?"-"+a:"";for(let d=0;d<4;d++){const m=Ex[d];u[m]=parseFloat(l[s+"-"+m+a])||0}return u.width=u.left+u.right,u.height=u.top+u.bottom,u}const Ax=(l,s,a)=>(l>0||s>0)&&(!a||!a.shadowRoot);function Mx(l,s){const a=l.touches,u=a&&a.length?a[0]:l,{offsetX:d,offsetY:m}=u;let v=!1,x,k;if(Ax(d,m,l.target))x=d,k=m;else{const D=s.getBoundingClientRect();x=u.clientX-D.left,k=u.clientY-D.top,v=!0}return{x,y:k,box:v}}function ao(l,s){if("native"in l)return l;const{canvas:a,currentDevicePixelRatio:u}=s,d=kh(a),m=d.boxSizing==="border-box",v=co(d,"padding"),x=co(d,"border","width"),{x:k,y:D,box:E}=Mx(l,a),L=v.left+(E&&x.left),P=v.top+(E&&x.top);let{width:H,height:U}=s;return m&&(H-=v.width+x.width,U-=v.height+x.height),{x:Math.round((k-L)/H*a.width/u),y:Math.round((D-P)/U*a.height/u)}}function Fx(l,s,a){let u,d;if(s===void 0||a===void 0){const m=l&&Lp(l);if(!m)s=l.clientWidth,a=l.clientHeight;else{const v=m.getBoundingClientRect(),x=kh(m),k=co(x,"border","width"),D=co(x,"padding");s=v.width-D.width-k.width,a=v.height-D.height-k.height,u=mh(x.maxWidth,m,"clientWidth"),d=mh(x.maxHeight,m,"clientHeight")}}return{width:s,height:a,maxWidth:u||fh,maxHeight:d||fh}}const Vd=l=>Math.round(l*10)/10;function Ix(l,s,a,u){const d=kh(l),m=co(d,"margin"),v=mh(d.maxWidth,l,"clientWidth")||fh,x=mh(d.maxHeight,l,"clientHeight")||fh,k=Fx(l,s,a);let{width:D,height:E}=k;if(d.boxSizing==="content-box"){const P=co(d,"border","width"),H=co(d,"padding");D-=H.width+P.width,E-=H.height+P.height}return D=Math.max(0,D-m.width),E=Math.max(0,u?D/u:E-m.height),D=Vd(Math.min(D,v,k.maxWidth)),E=Vd(Math.min(E,x,k.maxHeight)),D&&!E&&(E=Vd(D/2)),(s!==void 0||a!==void 0)&&u&&k.height&&E>k.height&&(E=k.height,D=Vd(Math.floor(E*u))),{width:D,height:E}}function Tm(l,s,a){const u=s||1,d=Math.floor(l.height*u),m=Math.floor(l.width*u);l.height=Math.floor(l.height),l.width=Math.floor(l.width);const v=l.canvas;return v.style&&(a||!v.style.height&&!v.style.width)&&(v.style.height=`${l.height}px`,v.style.width=`${l.width}px`),l.currentDevicePixelRatio!==u||v.height!==d||v.width!==m?(l.currentDevicePixelRatio=u,v.height=d,v.width=m,l.ctx.setTransform(u,0,0,u,0,0),!0):!1}const Lx=function(){let l=!1;try{const s={get passive(){return l=!0,!1}};Ip()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return l}();function Em(l,s){const a=Tx(l,s),u=a&&a.match(/^(\d+)(\.\d+)?px$/);return u?+u[1]:void 0}function ro(l,s,a,u){return{x:l.x+a*(s.x-l.x),y:l.y+a*(s.y-l.y)}}function Ox(l,s,a,u){return{x:l.x+a*(s.x-l.x),y:u==="middle"?a<.5?l.y:s.y:u==="after"?a<1?l.y:s.y:a>0?s.y:l.y}}function Px(l,s,a,u){const d={x:l.cp2x,y:l.cp2y},m={x:s.cp1x,y:s.cp1y},v=ro(l,d,a),x=ro(d,m,a),k=ro(m,s,a),D=ro(v,x,a),E=ro(x,k,a);return ro(D,E,a)}const Bx=function(l,s){return{x(a){return l+l+s-a},setWidth(a){s=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,u){return a-u},leftForLtr(a,u){return a-u}}},Nx=function(){return{x(l){return l},setWidth(l){},textAlign(l){return l},xPlus(l,s){return l+s},leftForLtr(l,s){return l}}};function nl(l,s,a){return l?Bx(s,a):Nx()}function H0(l,s){let a,u;(s==="ltr"||s==="rtl")&&(a=l.canvas.style,u=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",s,"important"),l.prevTextDirection=u)}function $0(l,s){s!==void 0&&(delete l.prevTextDirection,l.canvas.style.setProperty("direction",s[0],s[1]))}function V0(l){return l==="angle"?{between:Gu,compare:R1,normalize:Tn}:{between:Oa,compare:(s,a)=>s-a,normalize:s=>s}}function Am({start:l,end:s,count:a,loop:u,style:d}){return{start:l%a,end:s%a,loop:u&&(s-l+1)%a===0,style:d}}function Rx(l,s,a){const{property:u,start:d,end:m}=a,{between:v,normalize:x}=V0(u),k=s.length;let{start:D,end:E,loop:L}=l,P,H;if(L){for(D+=k,E+=k,P=0,H=k;P<H&&v(x(s[D%k][u]),d,m);++P)D--,E--;D%=k,E%=k}return E<D&&(E+=k),{start:D,end:E,loop:L,style:l.style}}function W0(l,s,a){if(!a)return[l];const{property:u,start:d,end:m}=a,v=s.length,{compare:x,between:k,normalize:D}=V0(u),{start:E,end:L,loop:P,style:H}=Rx(l,s,a),U=[];let Z=!1,ee=null,K,X,oe;const ne=()=>k(d,oe,K)&&x(d,oe)!==0,se=()=>x(m,K)===0||k(m,oe,K),we=()=>Z||ne(),be=()=>!Z||se();for(let ve=E,De=E;ve<=L;++ve)X=s[ve%v],!X.skip&&(K=D(X[u]),K!==oe&&(Z=k(K,d,m),ee===null&&we()&&(ee=x(K,d)===0?ve:De),ee!==null&&be()&&(U.push(Am({start:ee,end:ve,loop:P,count:v,style:H})),ee=null),De=ve,oe=K));return ee!==null&&U.push(Am({start:ee,end:L,loop:P,count:v,style:H})),U}function j0(l,s){const a=[],u=l.segments;for(let d=0;d<u.length;d++){const m=W0(u[d],l.points,s);m.length&&a.push(...m)}return a}function zx(l,s,a,u){let d=0,m=s-1;if(a&&!u)for(;d<s&&!l[d].skip;)d++;for(;d<s&&l[d].skip;)d++;for(d%=s,a&&(m+=d);m>d&&l[m%s].skip;)m--;return m%=s,{start:d,end:m}}function Hx(l,s,a,u){const d=l.length,m=[];let v=s,x=l[s],k;for(k=s+1;k<=a;++k){const D=l[k%d];D.skip||D.stop?x.skip||(u=!1,m.push({start:s%d,end:(k-1)%d,loop:u}),s=v=D.stop?k:null):(v=k,x.skip&&(s=k)),x=D}return v!==null&&m.push({start:s%d,end:v%d,loop:u}),m}function $x(l,s){const a=l.points,u=l.options.spanGaps,d=a.length;if(!d)return[];const m=!!l._loop,{start:v,end:x}=zx(a,d,m,u);if(u===!0)return Mm(l,[{start:v,end:x,loop:m}],a,s);const k=x<v?x+d:x,D=!!l._fullLoop&&v===0&&x===d-1;return Mm(l,Hx(a,v,k,D),a,s)}function Mm(l,s,a,u){return!u||!u.setContext||!a?s:Vx(l,s,a,u)}function Vx(l,s,a,u){const d=l._chart.getContext(),m=Fm(l.options),{_datasetIndex:v,options:{spanGaps:x}}=l,k=a.length,D=[];let E=m,L=s[0].start,P=L;function H(U,Z,ee,K){const X=x?-1:1;if(U!==Z){for(U+=k;a[U%k].skip;)U-=X;for(;a[Z%k].skip;)Z+=X;U%k!==Z%k&&(D.push({start:U%k,end:Z%k,loop:ee,style:K}),E=K,L=Z%k)}}for(const U of s){L=x?L:U.start;let Z=a[L%k],ee;for(P=L+1;P<=U.end;P++){const K=a[P%k];ee=Fm(u.setContext(Dr(d,{type:"segment",p0:Z,p1:K,p0DataIndex:(P-1)%k,p1DataIndex:P%k,datasetIndex:v}))),Wx(ee,E)&&H(L,P-1,U.loop,E),Z=K,E=ee}L<P-1&&H(L,P-1,U.loop,E)}return D}function Fm(l){return{backgroundColor:l.backgroundColor,borderCapStyle:l.borderCapStyle,borderDash:l.borderDash,borderDashOffset:l.borderDashOffset,borderJoinStyle:l.borderJoinStyle,borderWidth:l.borderWidth,borderColor:l.borderColor}}function Wx(l,s){if(!s)return!1;const a=[],u=function(d,m){return Tp(m)?(a.includes(m)||a.push(m),a.indexOf(m)):m};return JSON.stringify(l,u)!==JSON.stringify(s,u)}function Wd(l,s,a){return l.options.clip?l[a]:s[a]}function jx(l,s){const{xScale:a,yScale:u}=l;return a&&u?{left:Wd(a,s,"left"),right:Wd(a,s,"right"),top:Wd(u,s,"top"),bottom:Wd(u,s,"bottom")}:s}function U0(l,s){const a=s._clip;if(a.disabled)return!1;const u=jx(s,l.chartArea);return{left:a.left===!1?0:u.left-(a.left===!0?0:a.left),right:a.right===!1?l.width:u.right+(a.right===!0?0:a.right),top:a.top===!1?0:u.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?l.height:u.bottom+(a.bottom===!0?0:a.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Ux{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,a,u,d){const m=a.listeners[d],v=a.duration;m.forEach(x=>x({chart:s,initial:a.initial,numSteps:v,currentStep:Math.min(u-a.start,v)}))}_refresh(){this._request||(this._running=!0,this._request=T0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let a=0;this._charts.forEach((u,d)=>{if(!u.running||!u.items.length)return;const m=u.items;let v=m.length-1,x=!1,k;for(;v>=0;--v)k=m[v],k._active?(k._total>u.duration&&(u.duration=k._total),k.tick(s),x=!0):(m[v]=m[m.length-1],m.pop());x&&(d.draw(),this._notify(d,u,s,"progress")),m.length||(u.running=!1,this._notify(d,u,s,"complete"),u.initial=!1),a+=m.length}),this._lastDate=s,a===0&&(this._running=!1)}_getAnims(s){const a=this._charts;let u=a.get(s);return u||(u={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(s,u)),u}listen(s,a,u){this._getAnims(s).listeners[a].push(u)}add(s,a){!a||!a.length||this._getAnims(s).items.push(...a)}has(s){return this._getAnims(s).items.length>0}start(s){const a=this._charts.get(s);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((u,d)=>Math.max(u,d._duration),0),this._refresh())}running(s){if(!this._running)return!1;const a=this._charts.get(s);return!(!a||!a.running||!a.items.length)}stop(s){const a=this._charts.get(s);if(!a||!a.items.length)return;const u=a.items;let d=u.length-1;for(;d>=0;--d)u[d].cancel();a.items=[],this._notify(s,a,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var Ma=new Ux;const Im="transparent",qx={boolean(l,s,a){return a>.5?s:l},color(l,s,a){const u=Cm(l||Im),d=u.valid&&Cm(s||Im);return d&&d.valid?d.mix(u,a).hexString():s},number(l,s,a){return l+(s-l)*a}};class Yx{constructor(s,a,u,d){const m=a[u];d=di([s.to,d,m,s.from]);const v=di([s.from,m,d]);this._active=!0,this._fn=s.fn||qx[s.type||typeof v],this._easing=Ru[s.easing]||Ru.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=a,this._prop=u,this._from=v,this._to=d,this._promises=void 0}active(){return this._active}update(s,a,u){if(this._active){this._notify(!1);const d=this._target[this._prop],m=u-this._start,v=this._duration-m;this._start=u,this._duration=Math.floor(Math.max(v,s.duration)),this._total+=m,this._loop=!!s.loop,this._to=di([s.to,a,d,s.from]),this._from=di([s.from,d,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const a=s-this._start,u=this._duration,d=this._prop,m=this._from,v=this._loop,x=this._to;let k;if(this._active=m!==x&&(v||a<u),!this._active){this._target[d]=x,this._notify(!0);return}if(a<0){this._target[d]=m;return}k=a/u%2,k=v&&k>1?2-k:k,k=this._easing(Math.min(1,Math.max(0,k))),this._target[d]=this._fn(m,x,k)}wait(){const s=this._promises||(this._promises=[]);return new Promise((a,u)=>{s.push({res:a,rej:u})})}_notify(s){const a=s?"res":"rej",u=this._promises||[];for(let d=0;d<u.length;d++)u[d][a]()}}class q0{constructor(s,a){this._chart=s,this._properties=new Map,this.configure(a)}configure(s){if(!It(s))return;const a=Object.keys(pi.animation),u=this._properties;Object.getOwnPropertyNames(s).forEach(d=>{const m=s[d];if(!It(m))return;const v={};for(const x of a)v[x]=m[x];(hi(m.properties)&&m.properties||[d]).forEach(x=>{(x===d||!u.has(x))&&u.set(x,v)})})}_animateOptions(s,a){const u=a.options,d=Xx(s,u);if(!d)return[];const m=this._createAnimations(d,u);return u.$shared&&Gx(s.options.$animations,u).then(()=>{s.options=u},()=>{}),m}_createAnimations(s,a){const u=this._properties,d=[],m=s.$animations||(s.$animations={}),v=Object.keys(a),x=Date.now();let k;for(k=v.length-1;k>=0;--k){const D=v[k];if(D.charAt(0)==="$")continue;if(D==="options"){d.push(...this._animateOptions(s,a));continue}const E=a[D];let L=m[D];const P=u.get(D);if(L)if(P&&L.active()){L.update(P,E,x);continue}else L.cancel();if(!P||!P.duration){s[D]=E;continue}m[D]=L=new Yx(P,s,D,E),d.push(L)}return d}update(s,a){if(this._properties.size===0){Object.assign(s,a);return}const u=this._createAnimations(s,a);if(u.length)return Ma.add(this._chart,u),!0}}function Gx(l,s){const a=[],u=Object.keys(s);for(let d=0;d<u.length;d++){const m=l[u[d]];m&&m.active()&&a.push(m.wait())}return Promise.all(a)}function Xx(l,s){if(!s)return;let a=l.options;if(!a){l.options=s;return}return a.$shared&&(l.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function Lm(l,s){const a=l&&l.options||{},u=a.reverse,d=a.min===void 0?s:0,m=a.max===void 0?s:0;return{start:u?m:d,end:u?d:m}}function Kx(l,s,a){if(a===!1)return!1;const u=Lm(l,a),d=Lm(s,a);return{top:d.end,right:u.end,bottom:d.start,left:u.start}}function Zx(l){let s,a,u,d;return It(l)?(s=l.top,a=l.right,u=l.bottom,d=l.left):s=a=u=d=l,{top:s,right:a,bottom:u,left:d,disabled:l===!1}}function Y0(l,s){const a=[],u=l._getSortedDatasetMetas(s);let d,m;for(d=0,m=u.length;d<m;++d)a.push(u[d].index);return a}function Om(l,s,a,u={}){const d=l.keys,m=u.mode==="single";let v,x,k,D;if(s===null)return;let E=!1;for(v=0,x=d.length;v<x;++v){if(k=+d[v],k===a){if(E=!0,u.all)continue;break}D=l.values[k],Ii(D)&&(m||s===0||ta(s)===ta(D))&&(s+=D)}return!E&&!u.all?0:s}function Jx(l,s){const{iScale:a,vScale:u}=s,d=a.axis==="x"?"x":"y",m=u.axis==="x"?"x":"y",v=Object.keys(l),x=new Array(v.length);let k,D,E;for(k=0,D=v.length;k<D;++k)E=v[k],x[k]={[d]:E,[m]:l[E]};return x}function Bf(l,s){const a=l&&l.options.stacked;return a||a===void 0&&s.stack!==void 0}function Qx(l,s,a){return`${l.id}.${s.id}.${a.stack||a.type}`}function eC(l){const{min:s,max:a,minDefined:u,maxDefined:d}=l.getUserBounds();return{min:u?s:Number.NEGATIVE_INFINITY,max:d?a:Number.POSITIVE_INFINITY}}function tC(l,s,a){const u=l[s]||(l[s]={});return u[a]||(u[a]={})}function Pm(l,s,a,u){for(const d of s.getMatchingVisibleMetas(u).reverse()){const m=l[d.index];if(a&&m>0||!a&&m<0)return d.index}return null}function Bm(l,s){const{chart:a,_cachedMeta:u}=l,d=a._stacks||(a._stacks={}),{iScale:m,vScale:v,index:x}=u,k=m.axis,D=v.axis,E=Qx(m,v,u),L=s.length;let P;for(let H=0;H<L;++H){const U=s[H],{[k]:Z,[D]:ee}=U,K=U._stacks||(U._stacks={});P=K[D]=tC(d,E,Z),P[x]=ee,P._top=Pm(P,v,!0,u.type),P._bottom=Pm(P,v,!1,u.type);const X=P._visualValues||(P._visualValues={});X[x]=ee}}function Nf(l,s){const a=l.scales;return Object.keys(a).filter(u=>a[u].axis===s).shift()}function iC(l,s){return Dr(l,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}function nC(l,s,a){return Dr(l,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:a,index:s,mode:"default",type:"data"})}function Cu(l,s){const a=l.controller.index,u=l.vScale&&l.vScale.axis;if(u){s=s||l._parsed;for(const d of s){const m=d._stacks;if(!m||m[u]===void 0||m[u][a]===void 0)return;delete m[u][a],m[u]._visualValues!==void 0&&m[u]._visualValues[a]!==void 0&&delete m[u]._visualValues[a]}}}const Rf=l=>l==="reset"||l==="none",Nm=(l,s)=>s?l:Object.assign({},l),sC=(l,s,a)=>l&&!s.hidden&&s._stacked&&{keys:Y0(a,!0),values:null};class Ms{constructor(s,a){this.chart=s,this._ctx=s.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=Bf(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&Cu(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,a=this._cachedMeta,u=this.getDataset(),d=(L,P,H,U)=>L==="x"?P:L==="r"?U:H,m=a.xAxisID=St(u.xAxisID,Nf(s,"x")),v=a.yAxisID=St(u.yAxisID,Nf(s,"y")),x=a.rAxisID=St(u.rAxisID,Nf(s,"r")),k=a.indexAxis,D=a.iAxisID=d(k,m,v,x),E=a.vAxisID=d(k,v,m,x);a.xScale=this.getScaleForId(m),a.yScale=this.getScaleForId(v),a.rScale=this.getScaleForId(x),a.iScale=this.getScaleForId(D),a.vScale=this.getScaleForId(E)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const a=this._cachedMeta;return s===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&ym(this._data,this),s._stacked&&Cu(s)}_dataCheck(){const s=this.getDataset(),a=s.data||(s.data=[]),u=this._data;if(It(a)){const d=this._cachedMeta;this._data=Jx(a,d)}else if(u!==a){if(u){ym(u,this);const d=this._cachedMeta;Cu(d),d._parsed=[]}a&&Object.isExtensible(a)&&V1(a,this),this._syncList=[],this._data=a}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const a=this._cachedMeta,u=this.getDataset();let d=!1;this._dataCheck();const m=a._stacked;a._stacked=Bf(a.vScale,a),a.stack!==u.stack&&(d=!0,Cu(a),a.stack=u.stack),this._resyncElements(s),(d||m!==a._stacked)&&(Bm(this,a._parsed),a._stacked=Bf(a.vScale,a))}configure(){const s=this.chart.config,a=s.datasetScopeKeys(this._type),u=s.getOptionScopes(this.getDataset(),a,!0);this.options=s.createResolver(u,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,a){const{_cachedMeta:u,_data:d}=this,{iScale:m,_stacked:v}=u,x=m.axis;let k=s===0&&a===d.length?!0:u._sorted,D=s>0&&u._parsed[s-1],E,L,P;if(this._parsing===!1)u._parsed=d,u._sorted=!0,P=d;else{hi(d[s])?P=this.parseArrayData(u,d,s,a):It(d[s])?P=this.parseObjectData(u,d,s,a):P=this.parsePrimitiveData(u,d,s,a);const H=()=>L[x]===null||D&&L[x]<D[x];for(E=0;E<a;++E)u._parsed[E+s]=L=P[E],k&&(H()&&(k=!1),D=L);u._sorted=k}v&&Bm(this,P)}parsePrimitiveData(s,a,u,d){const{iScale:m,vScale:v}=s,x=m.axis,k=v.axis,D=m.getLabels(),E=m===v,L=new Array(d);let P,H,U;for(P=0,H=d;P<H;++P)U=P+u,L[P]={[x]:E||m.parse(D[U],U),[k]:v.parse(a[U],U)};return L}parseArrayData(s,a,u,d){const{xScale:m,yScale:v}=s,x=new Array(d);let k,D,E,L;for(k=0,D=d;k<D;++k)E=k+u,L=a[E],x[k]={x:m.parse(L[0],E),y:v.parse(L[1],E)};return x}parseObjectData(s,a,u,d){const{xScale:m,yScale:v}=s,{xAxisKey:x="x",yAxisKey:k="y"}=this._parsing,D=new Array(d);let E,L,P,H;for(E=0,L=d;E<L;++E)P=E+u,H=a[P],D[E]={x:m.parse(kr(H,x),P),y:v.parse(kr(H,k),P)};return D}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,a,u){const d=this.chart,m=this._cachedMeta,v=a[s.axis],x={keys:Y0(d,!0),values:a._stacks[s.axis]._visualValues};return Om(x,v,m.index,{mode:u})}updateRangeFromParsed(s,a,u,d){const m=u[a.axis];let v=m===null?NaN:m;const x=d&&u._stacks[a.axis];d&&x&&(d.values=x,v=Om(d,m,this._cachedMeta.index)),s.min=Math.min(s.min,v),s.max=Math.max(s.max,v)}getMinMax(s,a){const u=this._cachedMeta,d=u._parsed,m=u._sorted&&s===u.iScale,v=d.length,x=this._getOtherScale(s),k=sC(a,u,this.chart),D={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:E,max:L}=eC(x);let P,H;function U(){H=d[P];const Z=H[x.axis];return!Ii(H[s.axis])||E>Z||L<Z}for(P=0;P<v&&!(!U()&&(this.updateRangeFromParsed(D,s,H,k),m));++P);if(m){for(P=v-1;P>=0;--P)if(!U()){this.updateRangeFromParsed(D,s,H,k);break}}return D}getAllParsedValues(s){const a=this._cachedMeta._parsed,u=[];let d,m,v;for(d=0,m=a.length;d<m;++d)v=a[d][s.axis],Ii(v)&&u.push(v);return u}getMaxOverflow(){return!1}getLabelAndValue(s){const a=this._cachedMeta,u=a.iScale,d=a.vScale,m=this.getParsed(s);return{label:u?""+u.getLabelForValue(m[u.axis]):"",value:d?""+d.getLabelForValue(m[d.axis]):""}}_update(s){const a=this._cachedMeta;this.update(s||"default"),a._clip=Zx(St(this.options.clip,Kx(a.xScale,a.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,a=this.chart,u=this._cachedMeta,d=u.data||[],m=a.chartArea,v=[],x=this._drawStart||0,k=this._drawCount||d.length-x,D=this.options.drawActiveElementsOnTop;let E;for(u.dataset&&u.dataset.draw(s,m,x,k),E=x;E<x+k;++E){const L=d[E];L.hidden||(L.active&&D?v.push(L):L.draw(s,m))}for(E=0;E<v.length;++E)v[E].draw(s,m)}getStyle(s,a){const u=a?"active":"default";return s===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(u):this.resolveDataElementOptions(s||0,u)}getContext(s,a,u){const d=this.getDataset();let m;if(s>=0&&s<this._cachedMeta.data.length){const v=this._cachedMeta.data[s];m=v.$context||(v.$context=nC(this.getContext(),s,v)),m.parsed=this.getParsed(s),m.raw=d.data[s],m.index=m.dataIndex=s}else m=this.$context||(this.$context=iC(this.chart.getContext(),this.index)),m.dataset=d,m.index=m.datasetIndex=this.index;return m.active=!!a,m.mode=u,m}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,a){return this._resolveElementOptions(this.dataElementType.id,a,s)}_resolveElementOptions(s,a="default",u){const d=a==="active",m=this._cachedDataOpts,v=s+"-"+a,x=m[v],k=this.enableOptionSharing&&Yu(u);if(x)return Nm(x,k);const D=this.chart.config,E=D.datasetElementScopeKeys(this._type,s),L=d?[`${s}Hover`,"hover",s,""]:[s,""],P=D.getOptionScopes(this.getDataset(),E),H=Object.keys(pi.elements[s]),U=()=>this.getContext(u,d,a),Z=D.resolveNamedOptions(P,H,U,L);return Z.$shared&&(Z.$shared=k,m[v]=Object.freeze(Nm(Z,k))),Z}_resolveAnimations(s,a,u){const d=this.chart,m=this._cachedDataOpts,v=`animation-${a}`,x=m[v];if(x)return x;let k;if(d.options.animation!==!1){const E=this.chart.config,L=E.datasetAnimationScopeKeys(this._type,a),P=E.getOptionScopes(this.getDataset(),L);k=E.createResolver(P,this.getContext(s,u,a))}const D=new q0(d,k&&k.animations);return k&&k._cacheable&&(m[v]=Object.freeze(D)),D}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,a){return!a||Rf(s)||this.chart._animationsDisabled}_getSharedOptions(s,a){const u=this.resolveDataElementOptions(s,a),d=this._sharedOptions,m=this.getSharedOptions(u),v=this.includeOptions(a,m)||m!==d;return this.updateSharedOptions(m,a,u),{sharedOptions:m,includeOptions:v}}updateElement(s,a,u,d){Rf(d)?Object.assign(s,u):this._resolveAnimations(a,d).update(s,u)}updateSharedOptions(s,a,u){s&&!Rf(a)&&this._resolveAnimations(void 0,a).update(s,u)}_setStyle(s,a,u,d){s.active=d;const m=this.getStyle(a,d);this._resolveAnimations(a,u,d).update(s,{options:!d&&this.getSharedOptions(m)||m})}removeHoverStyle(s,a,u){this._setStyle(s,u,"active",!1)}setHoverStyle(s,a,u){this._setStyle(s,u,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const a=this._data,u=this._cachedMeta.data;for(const[x,k,D]of this._syncList)this[x](k,D);this._syncList=[];const d=u.length,m=a.length,v=Math.min(m,d);v&&this.parse(0,v),m>d?this._insertElements(d,m-d,s):m<d&&this._removeElements(m,d-m)}_insertElements(s,a,u=!0){const d=this._cachedMeta,m=d.data,v=s+a;let x;const k=D=>{for(D.length+=a,x=D.length-1;x>=v;x--)D[x]=D[x-a]};for(k(m),x=s;x<v;++x)m[x]=new this.dataElementType;this._parsing&&k(d._parsed),this.parse(s,a),u&&this.updateElements(m,s,a,"reset")}updateElements(s,a,u,d){}_removeElements(s,a){const u=this._cachedMeta;if(this._parsing){const d=u._parsed.splice(s,a);u._stacked&&Cu(u,d)}u.data.splice(s,a)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[a,u,d]=s;this[a](u,d)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,a){a&&this._sync(["_removeElements",s,a]);const u=arguments.length-2;u&&this._sync(["_insertElements",s,u])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ae(Ms,"defaults",{}),ae(Ms,"datasetElementType",null),ae(Ms,"dataElementType",null);function aC(l,s){if(!l._cache.$bar){const a=l.getMatchingVisibleMetas(s);let u=[];for(let d=0,m=a.length;d<m;d++)u=u.concat(a[d].controller.getAllParsedValues(l));l._cache.$bar=D0(u.sort((d,m)=>d-m))}return l._cache.$bar}function rC(l){const s=l.iScale,a=aC(s,l.type);let u=s._length,d,m,v,x;const k=()=>{v===32767||v===-32768||(Yu(x)&&(u=Math.min(u,Math.abs(v-x)||u)),x=v)};for(d=0,m=a.length;d<m;++d)v=s.getPixelForValue(a[d]),k();for(x=void 0,d=0,m=s.ticks.length;d<m;++d)v=s.getPixelForTick(d),k();return u}function oC(l,s,a,u){const d=a.barThickness;let m,v;return Mt(d)?(m=s.min*a.categoryPercentage,v=a.barPercentage):(m=d*u,v=1),{chunk:m/u,ratio:v,start:s.pixels[l]-m/2}}function lC(l,s,a,u){const d=s.pixels,m=d[l];let v=l>0?d[l-1]:null,x=l<d.length-1?d[l+1]:null;const k=a.categoryPercentage;v===null&&(v=m-(x===null?s.end-s.start:x-m)),x===null&&(x=m+m-v);const D=m-(m-Math.min(v,x))/2*k;return{chunk:Math.abs(x-v)/2*k/u,ratio:a.barPercentage,start:D}}function uC(l,s,a,u){const d=a.parse(l[0],u),m=a.parse(l[1],u),v=Math.min(d,m),x=Math.max(d,m);let k=v,D=x;Math.abs(v)>Math.abs(x)&&(k=x,D=v),s[a.axis]=D,s._custom={barStart:k,barEnd:D,start:d,end:m,min:v,max:x}}function G0(l,s,a,u){return hi(l)?uC(l,s,a,u):s[a.axis]=a.parse(l,u),s}function Rm(l,s,a,u){const d=l.iScale,m=l.vScale,v=d.getLabels(),x=d===m,k=[];let D,E,L,P;for(D=a,E=a+u;D<E;++D)P=s[D],L={},L[d.axis]=x||d.parse(v[D],D),k.push(G0(P,L,m,D));return k}function zf(l){return l&&l.barStart!==void 0&&l.barEnd!==void 0}function cC(l,s,a){return l!==0?ta(l):(s.isHorizontal()?1:-1)*(s.min>=a?1:-1)}function dC(l){let s,a,u,d,m;return l.horizontal?(s=l.base>l.x,a="left",u="right"):(s=l.base<l.y,a="bottom",u="top"),s?(d="end",m="start"):(d="start",m="end"),{start:a,end:u,reverse:s,top:d,bottom:m}}function hC(l,s,a,u){let d=s.borderSkipped;const m={};if(!d){l.borderSkipped=m;return}if(d===!0){l.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:v,end:x,reverse:k,top:D,bottom:E}=dC(l);d==="middle"&&a&&(l.enableBorderRadius=!0,(a._top||0)===u?d=D:(a._bottom||0)===u?d=E:(m[zm(E,v,x,k)]=!0,d=D)),m[zm(d,v,x,k)]=!0,l.borderSkipped=m}function zm(l,s,a,u){return u?(l=fC(l,s,a),l=Hm(l,a,s)):l=Hm(l,s,a),l}function fC(l,s,a){return l===s?a:l===a?s:l}function Hm(l,s,a){return l==="start"?s:l==="end"?a:l}function pC(l,{inflateAmount:s},a){l.inflateAmount=s==="auto"?a===1?.33:0:s}class nh extends Ms{parsePrimitiveData(s,a,u,d){return Rm(s,a,u,d)}parseArrayData(s,a,u,d){return Rm(s,a,u,d)}parseObjectData(s,a,u,d){const{iScale:m,vScale:v}=s,{xAxisKey:x="x",yAxisKey:k="y"}=this._parsing,D=m.axis==="x"?x:k,E=v.axis==="x"?x:k,L=[];let P,H,U,Z;for(P=u,H=u+d;P<H;++P)Z=a[P],U={},U[m.axis]=m.parse(kr(Z,D),P),L.push(G0(kr(Z,E),U,v,P));return L}updateRangeFromParsed(s,a,u,d){super.updateRangeFromParsed(s,a,u,d);const m=u._custom;m&&a===this._cachedMeta.vScale&&(s.min=Math.min(s.min,m.min),s.max=Math.max(s.max,m.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const a=this._cachedMeta,{iScale:u,vScale:d}=a,m=this.getParsed(s),v=m._custom,x=zf(v)?"["+v.start+", "+v.end+"]":""+d.getLabelForValue(m[d.axis]);return{label:""+u.getLabelForValue(m[u.axis]),value:x}}initialize(){this.enableOptionSharing=!0,super.initialize();const s=this._cachedMeta;s.stack=this.getDataset().stack}update(s){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,s)}updateElements(s,a,u,d){const m=d==="reset",{index:v,_cachedMeta:{vScale:x}}=this,k=x.getBasePixel(),D=x.isHorizontal(),E=this._getRuler(),{sharedOptions:L,includeOptions:P}=this._getSharedOptions(a,d);for(let H=a;H<a+u;H++){const U=this.getParsed(H),Z=m||Mt(U[x.axis])?{base:k,head:k}:this._calculateBarValuePixels(H),ee=this._calculateBarIndexPixels(H,E),K=(U._stacks||{})[x.axis],X={horizontal:D,base:Z.base,enableBorderRadius:!K||zf(U._custom)||v===K._top||v===K._bottom,x:D?Z.head:ee.center,y:D?ee.center:Z.head,height:D?ee.size:Math.abs(Z.size),width:D?Math.abs(Z.size):ee.size};P&&(X.options=L||this.resolveDataElementOptions(H,s[H].active?"active":d));const oe=X.options||s[H].options;hC(X,oe,K,v),pC(X,oe,E.ratio),this.updateElement(s[H],H,X,d)}}_getStacks(s,a){const{iScale:u}=this._cachedMeta,d=u.getMatchingVisibleMetas(this._type).filter(E=>E.controller.options.grouped),m=u.options.stacked,v=[],x=this._cachedMeta.controller.getParsed(a),k=x&&x[u.axis],D=E=>{const L=E._parsed.find(H=>H[u.axis]===k),P=L&&L[E.vScale.axis];if(Mt(P)||isNaN(P))return!0};for(const E of d)if(!(a!==void 0&&D(E))&&((m===!1||v.indexOf(E.stack)===-1||m===void 0&&E.stack===void 0)&&v.push(E.stack),E.index===s))break;return v.length||v.push(void 0),v}_getStackCount(s){return this._getStacks(void 0,s).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const s=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(s).filter(u=>s[u].axis===a).shift()}_getAxis(){const s={},a=this.getFirstScaleIdForIndexAxis();for(const u of this.chart.data.datasets)s[St(this.chart.options.indexAxis==="x"?u.xAxisID:u.yAxisID,a)]=!0;return Object.keys(s)}_getStackIndex(s,a,u){const d=this._getStacks(s,u),m=a!==void 0?d.indexOf(a):-1;return m===-1?d.length-1:m}_getRuler(){const s=this.options,a=this._cachedMeta,u=a.iScale,d=[];let m,v;for(m=0,v=a.data.length;m<v;++m)d.push(u.getPixelForValue(this.getParsed(m)[u.axis],m));const x=s.barThickness;return{min:x||rC(a),pixels:d,start:u._startPixel,end:u._endPixel,stackCount:this._getStackCount(),scale:u,grouped:s.grouped,ratio:x?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:a,_stacked:u,index:d},options:{base:m,minBarLength:v}}=this,x=m||0,k=this.getParsed(s),D=k._custom,E=zf(D);let L=k[a.axis],P=0,H=u?this.applyStack(a,k,u):L,U,Z;H!==L&&(P=H-L,H=L),E&&(L=D.barStart,H=D.barEnd-D.barStart,L!==0&&ta(L)!==ta(D.barEnd)&&(P=0),P+=L);const ee=!Mt(m)&&!E?m:P;let K=a.getPixelForValue(ee);if(this.chart.getDataVisibility(s)?U=a.getPixelForValue(P+H):U=K,Z=U-K,Math.abs(Z)<v){Z=cC(Z,a,x)*v,L===x&&(K-=Z/2);const X=a.getPixelForDecimal(0),oe=a.getPixelForDecimal(1),ne=Math.min(X,oe),se=Math.max(X,oe);K=Math.max(Math.min(K,se),ne),U=K+Z,u&&!E&&(k._stacks[a.axis]._visualValues[d]=a.getValueForPixel(U)-a.getValueForPixel(K))}if(K===a.getPixelForValue(x)){const X=ta(Z)*a.getLineWidthForValue(x)/2;K+=X,Z-=X}return{size:Z,base:K,head:U,center:U+Z/2}}_calculateBarIndexPixels(s,a){const u=a.scale,d=this.options,m=d.skipNull,v=St(d.maxBarThickness,1/0);let x,k;const D=this._getAxisCount();if(a.grouped){const E=m?this._getStackCount(s):a.stackCount,L=d.barThickness==="flex"?lC(s,a,d,E*D):oC(s,a,d,E*D),P=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,H=this._getAxis().indexOf(St(P,this.getFirstScaleIdForIndexAxis())),U=this._getStackIndex(this.index,this._cachedMeta.stack,m?s:void 0)+H;x=L.start+L.chunk*U+L.chunk/2,k=Math.min(v,L.chunk*L.ratio)}else x=u.getPixelForValue(this.getParsed(s)[u.axis],s),k=Math.min(v,a.min*a.ratio);return{base:x-k/2,head:x+k/2,center:x,size:k}}draw(){const s=this._cachedMeta,a=s.vScale,u=s.data,d=u.length;let m=0;for(;m<d;++m)this.getParsed(m)[a.axis]!==null&&!u[m].hidden&&u[m].draw(this._ctx)}}ae(nh,"id","bar"),ae(nh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ae(nh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class sh extends Ms{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,a,u,d){const m=super.parsePrimitiveData(s,a,u,d);for(let v=0;v<m.length;v++)m[v]._custom=this.resolveDataElementOptions(v+u).radius;return m}parseArrayData(s,a,u,d){const m=super.parseArrayData(s,a,u,d);for(let v=0;v<m.length;v++){const x=a[u+v];m[v]._custom=St(x[2],this.resolveDataElementOptions(v+u).radius)}return m}parseObjectData(s,a,u,d){const m=super.parseObjectData(s,a,u,d);for(let v=0;v<m.length;v++){const x=a[u+v];m[v]._custom=St(x&&x.r&&+x.r,this.resolveDataElementOptions(v+u).radius)}return m}getMaxOverflow(){const s=this._cachedMeta.data;let a=0;for(let u=s.length-1;u>=0;--u)a=Math.max(a,s[u].size(this.resolveDataElementOptions(u))/2);return a>0&&a}getLabelAndValue(s){const a=this._cachedMeta,u=this.chart.data.labels||[],{xScale:d,yScale:m}=a,v=this.getParsed(s),x=d.getLabelForValue(v.x),k=m.getLabelForValue(v.y),D=v._custom;return{label:u[s]||"",value:"("+x+", "+k+(D?", "+D:"")+")"}}update(s){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,s)}updateElements(s,a,u,d){const m=d==="reset",{iScale:v,vScale:x}=this._cachedMeta,{sharedOptions:k,includeOptions:D}=this._getSharedOptions(a,d),E=v.axis,L=x.axis;for(let P=a;P<a+u;P++){const H=s[P],U=!m&&this.getParsed(P),Z={},ee=Z[E]=m?v.getPixelForDecimal(.5):v.getPixelForValue(U[E]),K=Z[L]=m?x.getBasePixel():x.getPixelForValue(U[L]);Z.skip=isNaN(ee)||isNaN(K),D&&(Z.options=k||this.resolveDataElementOptions(P,H.active?"active":d),m&&(Z.options.radius=0)),this.updateElement(H,P,Z,d)}}resolveDataElementOptions(s,a){const u=this.getParsed(s);let d=super.resolveDataElementOptions(s,a);d.$shared&&(d=Object.assign({},d,{$shared:!1}));const m=d.radius;return a!=="active"&&(d.radius=0),d.radius+=St(u&&u._custom,m),d}}ae(sh,"id","bubble"),ae(sh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ae(sh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function mC(l,s,a){let u=1,d=1,m=0,v=0;if(s<fi){const x=l,k=x+s,D=Math.cos(x),E=Math.sin(x),L=Math.cos(k),P=Math.sin(k),H=(oe,ne,se)=>Gu(oe,x,k,!0)?1:Math.max(ne,ne*a,se,se*a),U=(oe,ne,se)=>Gu(oe,x,k,!0)?-1:Math.min(ne,ne*a,se,se*a),Z=H(0,D,L),ee=H(Ri,E,P),K=U($t,D,L),X=U($t+Ri,E,P);u=(Z-K)/2,d=(ee-X)/2,m=-(Z+K)/2,v=-(ee+X)/2}return{ratioX:u,ratioY:d,offsetX:m,offsetY:v}}class lo extends Ms{constructor(s,a){super(s,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,a){const u=this.getDataset().data,d=this._cachedMeta;if(this._parsing===!1)d._parsed=u;else{let m=k=>+u[k];if(It(u[s])){const{key:k="value"}=this._parsing;m=D=>+kr(u[D],k)}let v,x;for(v=s,x=s+a;v<x;++v)d._parsed[v]=m(v)}}_getRotation(){return As(this.options.rotation-90)}_getCircumference(){return As(this.options.circumference)}_getRotationExtents(){let s=fi,a=-fi;for(let u=0;u<this.chart.data.datasets.length;++u)if(this.chart.isDatasetVisible(u)&&this.chart.getDatasetMeta(u).type===this._type){const d=this.chart.getDatasetMeta(u).controller,m=d._getRotation(),v=d._getCircumference();s=Math.min(s,m),a=Math.max(a,m+v)}return{rotation:s,circumference:a-s}}update(s){const a=this.chart,{chartArea:u}=a,d=this._cachedMeta,m=d.data,v=this.getMaxBorderWidth()+this.getMaxOffset(m)+this.options.spacing,x=Math.max((Math.min(u.width,u.height)-v)/2,0),k=Math.min(T1(this.options.cutout,x),1),D=this._getRingWeight(this.index),{circumference:E,rotation:L}=this._getRotationExtents(),{ratioX:P,ratioY:H,offsetX:U,offsetY:Z}=mC(L,E,k),ee=(u.width-v)/P,K=(u.height-v)/H,X=Math.max(Math.min(ee,K)/2,0),oe=x0(this.options.radius,X),ne=Math.max(oe*k,0),se=(oe-ne)/this._getVisibleDatasetWeightTotal();this.offsetX=U*oe,this.offsetY=Z*oe,d.total=this.calculateTotal(),this.outerRadius=oe-se*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-se*D,0),this.updateElements(m,0,m.length,s)}_circumference(s,a){const u=this.options,d=this._cachedMeta,m=this._getCircumference();return a&&u.animation.animateRotate||!this.chart.getDataVisibility(s)||d._parsed[s]===null||d.data[s].hidden?0:this.calculateCircumference(d._parsed[s]*m/fi)}updateElements(s,a,u,d){const m=d==="reset",v=this.chart,x=v.chartArea,D=v.options.animation,E=(x.left+x.right)/2,L=(x.top+x.bottom)/2,P=m&&D.animateScale,H=P?0:this.innerRadius,U=P?0:this.outerRadius,{sharedOptions:Z,includeOptions:ee}=this._getSharedOptions(a,d);let K=this._getRotation(),X;for(X=0;X<a;++X)K+=this._circumference(X,m);for(X=a;X<a+u;++X){const oe=this._circumference(X,m),ne=s[X],se={x:E+this.offsetX,y:L+this.offsetY,startAngle:K,endAngle:K+oe,circumference:oe,outerRadius:U,innerRadius:H};ee&&(se.options=Z||this.resolveDataElementOptions(X,ne.active?"active":d)),K+=oe,this.updateElement(ne,X,se,d)}}calculateTotal(){const s=this._cachedMeta,a=s.data;let u=0,d;for(d=0;d<a.length;d++){const m=s._parsed[d];m!==null&&!isNaN(m)&&this.chart.getDataVisibility(d)&&!a[d].hidden&&(u+=Math.abs(m))}return u}calculateCircumference(s){const a=this._cachedMeta.total;return a>0&&!isNaN(s)?fi*(Math.abs(s)/a):0}getLabelAndValue(s){const a=this._cachedMeta,u=this.chart,d=u.data.labels||[],m=ec(a._parsed[s],u.options.locale);return{label:d[s]||"",value:m}}getMaxBorderWidth(s){let a=0;const u=this.chart;let d,m,v,x,k;if(!s){for(d=0,m=u.data.datasets.length;d<m;++d)if(u.isDatasetVisible(d)){v=u.getDatasetMeta(d),s=v.data,x=v.controller;break}}if(!s)return 0;for(d=0,m=s.length;d<m;++d)k=x.resolveDataElementOptions(d),k.borderAlign!=="inner"&&(a=Math.max(a,k.borderWidth||0,k.hoverBorderWidth||0));return a}getMaxOffset(s){let a=0;for(let u=0,d=s.length;u<d;++u){const m=this.resolveDataElementOptions(u);a=Math.max(a,m.offset||0,m.hoverOffset||0)}return a}_getRingWeightOffset(s){let a=0;for(let u=0;u<s;++u)this.chart.isDatasetVisible(u)&&(a+=this._getRingWeight(u));return a}_getRingWeight(s){return Math.max(St(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ae(lo,"id","doughnut"),ae(lo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ae(lo,"descriptors",{_scriptable:s=>s!=="spacing",_indexable:s=>s!=="spacing"&&!s.startsWith("borderDash")&&!s.startsWith("hoverBorderDash")}),ae(lo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const a=s.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:u,color:d}}=s.legend.options;return a.labels.map((m,v)=>{const k=s.getDatasetMeta(0).controller.getStyle(v);return{text:m,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:d,lineWidth:k.borderWidth,pointStyle:u,hidden:!s.getDataVisibility(v),index:v}})}return[]}},onClick(s,a,u){u.chart.toggleDataVisibility(a.index),u.chart.update()}}}});class ah extends Ms{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const a=this._cachedMeta,{dataset:u,data:d=[],_dataset:m}=a,v=this.chart._animationsDisabled;let{start:x,count:k}=A0(a,d,v);this._drawStart=x,this._drawCount=k,M0(a)&&(x=0,k=d.length),u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!m._decimated,u.points=d;const D=this.resolveDatasetElementOptions(s);this.options.showLine||(D.borderWidth=0),D.segment=this.options.segment,this.updateElement(u,void 0,{animated:!v,options:D},s),this.updateElements(d,x,k,s)}updateElements(s,a,u,d){const m=d==="reset",{iScale:v,vScale:x,_stacked:k,_dataset:D}=this._cachedMeta,{sharedOptions:E,includeOptions:L}=this._getSharedOptions(a,d),P=v.axis,H=x.axis,{spanGaps:U,segment:Z}=this.options,ee=sl(U)?U:Number.POSITIVE_INFINITY,K=this.chart._animationsDisabled||m||d==="none",X=a+u,oe=s.length;let ne=a>0&&this.getParsed(a-1);for(let se=0;se<oe;++se){const we=s[se],be=K?we:{};if(se<a||se>=X){be.skip=!0;continue}const ve=this.getParsed(se),De=Mt(ve[H]),Ge=be[P]=v.getPixelForValue(ve[P],se),Fe=be[H]=m||De?x.getBasePixel():x.getPixelForValue(k?this.applyStack(x,ve,k):ve[H],se);be.skip=isNaN(Ge)||isNaN(Fe)||De,be.stop=se>0&&Math.abs(ve[P]-ne[P])>ee,Z&&(be.parsed=ve,be.raw=D.data[se]),L&&(be.options=E||this.resolveDataElementOptions(se,we.active?"active":d)),K||this.updateElement(we,se,be,d),ne=ve}}getMaxOverflow(){const s=this._cachedMeta,a=s.dataset,u=a.options&&a.options.borderWidth||0,d=s.data||[];if(!d.length)return u;const m=d[0].size(this.resolveDataElementOptions(0)),v=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(u,m,v)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}ae(ah,"id","line"),ae(ah,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ae(ah,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Hu extends Ms{constructor(s,a){super(s,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const a=this._cachedMeta,u=this.chart,d=u.data.labels||[],m=ec(a._parsed[s].r,u.options.locale);return{label:d[s]||"",value:m}}parseObjectData(s,a,u,d){return R0.bind(this)(s,a,u,d)}update(s){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,s)}getMinMax(){const s=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return s.data.forEach((u,d)=>{const m=this.getParsed(d).r;!isNaN(m)&&this.chart.getDataVisibility(d)&&(m<a.min&&(a.min=m),m>a.max&&(a.max=m))}),a}_updateRadius(){const s=this.chart,a=s.chartArea,u=s.options,d=Math.min(a.right-a.left,a.bottom-a.top),m=Math.max(d/2,0),v=Math.max(u.cutoutPercentage?m/100*u.cutoutPercentage:1,0),x=(m-v)/s.getVisibleDatasetCount();this.outerRadius=m-x*this.index,this.innerRadius=this.outerRadius-x}updateElements(s,a,u,d){const m=d==="reset",v=this.chart,k=v.options.animation,D=this._cachedMeta.rScale,E=D.xCenter,L=D.yCenter,P=D.getIndexAngle(0)-.5*$t;let H=P,U;const Z=360/this.countVisibleElements();for(U=0;U<a;++U)H+=this._computeAngle(U,d,Z);for(U=a;U<a+u;U++){const ee=s[U];let K=H,X=H+this._computeAngle(U,d,Z),oe=v.getDataVisibility(U)?D.getDistanceFromCenterForValue(this.getParsed(U).r):0;H=X,m&&(k.animateScale&&(oe=0),k.animateRotate&&(K=X=P));const ne={x:E,y:L,innerRadius:0,outerRadius:oe,startAngle:K,endAngle:X,options:this.resolveDataElementOptions(U,ee.active?"active":d)};this.updateElement(ee,U,ne,d)}}countVisibleElements(){const s=this._cachedMeta;let a=0;return s.data.forEach((u,d)=>{!isNaN(this.getParsed(d).r)&&this.chart.getDataVisibility(d)&&a++}),a}_computeAngle(s,a,u){return this.chart.getDataVisibility(s)?As(this.resolveDataElementOptions(s,a).angle||u):0}}ae(Hu,"id","polarArea"),ae(Hu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ae(Hu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const a=s.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:u,color:d}}=s.legend.options;return a.labels.map((m,v)=>{const k=s.getDatasetMeta(0).controller.getStyle(v);return{text:m,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:d,lineWidth:k.borderWidth,pointStyle:u,hidden:!s.getDataVisibility(v),index:v}})}return[]}},onClick(s,a,u){u.chart.toggleDataVisibility(a.index),u.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class sp extends lo{}ae(sp,"id","pie"),ae(sp,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class rh extends Ms{getLabelAndValue(s){const a=this._cachedMeta.vScale,u=this.getParsed(s);return{label:a.getLabels()[s],value:""+a.getLabelForValue(u[a.axis])}}parseObjectData(s,a,u,d){return R0.bind(this)(s,a,u,d)}update(s){const a=this._cachedMeta,u=a.dataset,d=a.data||[],m=a.iScale.getLabels();if(u.points=d,s!=="resize"){const v=this.resolveDatasetElementOptions(s);this.options.showLine||(v.borderWidth=0);const x={_loop:!0,_fullLoop:m.length===d.length,options:v};this.updateElement(u,void 0,x,s)}this.updateElements(d,0,d.length,s)}updateElements(s,a,u,d){const m=this._cachedMeta.rScale,v=d==="reset";for(let x=a;x<a+u;x++){const k=s[x],D=this.resolveDataElementOptions(x,k.active?"active":d),E=m.getPointPositionForValue(x,this.getParsed(x).r),L=v?m.xCenter:E.x,P=v?m.yCenter:E.y,H={x:L,y:P,angle:E.angle,skip:isNaN(L)||isNaN(P),options:D};this.updateElement(k,x,H,d)}}}ae(rh,"id","radar"),ae(rh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ae(rh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class oh extends Ms{getLabelAndValue(s){const a=this._cachedMeta,u=this.chart.data.labels||[],{xScale:d,yScale:m}=a,v=this.getParsed(s),x=d.getLabelForValue(v.x),k=m.getLabelForValue(v.y);return{label:u[s]||"",value:"("+x+", "+k+")"}}update(s){const a=this._cachedMeta,{data:u=[]}=a,d=this.chart._animationsDisabled;let{start:m,count:v}=A0(a,u,d);if(this._drawStart=m,this._drawCount=v,M0(a)&&(m=0,v=u.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:x,_dataset:k}=a;x._chart=this.chart,x._datasetIndex=this.index,x._decimated=!!k._decimated,x.points=u;const D=this.resolveDatasetElementOptions(s);D.segment=this.options.segment,this.updateElement(x,void 0,{animated:!d,options:D},s)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(u,m,v,s)}addElements(){const{showLine:s}=this.options;!this.datasetElementType&&s&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(s,a,u,d){const m=d==="reset",{iScale:v,vScale:x,_stacked:k,_dataset:D}=this._cachedMeta,E=this.resolveDataElementOptions(a,d),L=this.getSharedOptions(E),P=this.includeOptions(d,L),H=v.axis,U=x.axis,{spanGaps:Z,segment:ee}=this.options,K=sl(Z)?Z:Number.POSITIVE_INFINITY,X=this.chart._animationsDisabled||m||d==="none";let oe=a>0&&this.getParsed(a-1);for(let ne=a;ne<a+u;++ne){const se=s[ne],we=this.getParsed(ne),be=X?se:{},ve=Mt(we[U]),De=be[H]=v.getPixelForValue(we[H],ne),Ge=be[U]=m||ve?x.getBasePixel():x.getPixelForValue(k?this.applyStack(x,we,k):we[U],ne);be.skip=isNaN(De)||isNaN(Ge)||ve,be.stop=ne>0&&Math.abs(we[H]-oe[H])>K,ee&&(be.parsed=we,be.raw=D.data[ne]),P&&(be.options=L||this.resolveDataElementOptions(ne,se.active?"active":d)),X||this.updateElement(se,ne,be,d),oe=we}this.updateSharedOptions(L,d,E)}getMaxOverflow(){const s=this._cachedMeta,a=s.data||[];if(!this.options.showLine){let x=0;for(let k=a.length-1;k>=0;--k)x=Math.max(x,a[k].size(this.resolveDataElementOptions(k))/2);return x>0&&x}const u=s.dataset,d=u.options&&u.options.borderWidth||0;if(!a.length)return d;const m=a[0].size(this.resolveDataElementOptions(0)),v=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(d,m,v)/2}}ae(oh,"id","scatter"),ae(oh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ae(oh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var gC=Object.freeze({__proto__:null,BarController:nh,BubbleController:sh,DoughnutController:lo,LineController:ah,PieController:sp,PolarAreaController:Hu,RadarController:rh,ScatterController:oh});function no(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Op{constructor(s){ae(this,"options");this.options=s||{}}static override(s){Object.assign(Op.prototype,s)}init(){}formats(){return no()}parse(){return no()}format(){return no()}add(){return no()}diff(){return no()}startOf(){return no()}endOf(){return no()}}var X0={_date:Op};function vC(l,s,a,u){const{controller:d,data:m,_sorted:v}=l,x=d._cachedMeta.iScale,k=l.dataset&&l.dataset.options?l.dataset.options.spanGaps:null;if(x&&s===x.axis&&s!=="r"&&v&&m.length){const D=x._reversePixels?H1:Pa;if(u){if(d._sharedOptions){const E=m[0],L=typeof E.getRange=="function"&&E.getRange(s);if(L){const P=D(m,s,a-L),H=D(m,s,a+L);return{lo:P.lo,hi:H.hi}}}}else{const E=D(m,s,a);if(k){const{vScale:L}=d._cachedMeta,{_parsed:P}=l,H=P.slice(0,E.lo+1).reverse().findIndex(Z=>!Mt(Z[L.axis]));E.lo-=Math.max(0,H);const U=P.slice(E.hi).findIndex(Z=>!Mt(Z[L.axis]));E.hi+=Math.max(0,U)}return E}}return{lo:0,hi:m.length-1}}function Sh(l,s,a,u,d){const m=l.getSortedVisibleDatasetMetas(),v=a[s];for(let x=0,k=m.length;x<k;++x){const{index:D,data:E}=m[x],{lo:L,hi:P}=vC(m[x],s,v,d);for(let H=L;H<=P;++H){const U=E[H];U.skip||u(U,D,H)}}}function bC(l){const s=l.indexOf("x")!==-1,a=l.indexOf("y")!==-1;return function(u,d){const m=s?Math.abs(u.x-d.x):0,v=a?Math.abs(u.y-d.y):0;return Math.sqrt(Math.pow(m,2)+Math.pow(v,2))}}function Hf(l,s,a,u,d){const m=[];return!d&&!l.isPointInArea(s)||Sh(l,a,s,function(x,k,D){!d&&!Ba(x,l.chartArea,0)||x.inRange(s.x,s.y,u)&&m.push({element:x,datasetIndex:k,index:D})},!0),m}function yC(l,s,a,u){let d=[];function m(v,x,k){const{startAngle:D,endAngle:E}=v.getProps(["startAngle","endAngle"],u),{angle:L}=k0(v,{x:s.x,y:s.y});Gu(L,D,E)&&d.push({element:v,datasetIndex:x,index:k})}return Sh(l,a,s,m),d}function _C(l,s,a,u,d,m){let v=[];const x=bC(a);let k=Number.POSITIVE_INFINITY;function D(E,L,P){const H=E.inRange(s.x,s.y,d);if(u&&!H)return;const U=E.getCenterPoint(d);if(!(!!m||l.isPointInArea(U))&&!H)return;const ee=x(s,U);ee<k?(v=[{element:E,datasetIndex:L,index:P}],k=ee):ee===k&&v.push({element:E,datasetIndex:L,index:P})}return Sh(l,a,s,D),v}function $f(l,s,a,u,d,m){return!m&&!l.isPointInArea(s)?[]:a==="r"&&!u?yC(l,s,a,d):_C(l,s,a,u,d,m)}function $m(l,s,a,u,d){const m=[],v=a==="x"?"inXRange":"inYRange";let x=!1;return Sh(l,a,s,(k,D,E)=>{k[v]&&k[v](s[a],d)&&(m.push({element:k,datasetIndex:D,index:E}),x=x||k.inRange(s.x,s.y,d))}),u&&!x?[]:m}var xC={modes:{index(l,s,a,u){const d=ao(s,l),m=a.axis||"x",v=a.includeInvisible||!1,x=a.intersect?Hf(l,d,m,u,v):$f(l,d,m,!1,u,v),k=[];return x.length?(l.getSortedVisibleDatasetMetas().forEach(D=>{const E=x[0].index,L=D.data[E];L&&!L.skip&&k.push({element:L,datasetIndex:D.index,index:E})}),k):[]},dataset(l,s,a,u){const d=ao(s,l),m=a.axis||"xy",v=a.includeInvisible||!1;let x=a.intersect?Hf(l,d,m,u,v):$f(l,d,m,!1,u,v);if(x.length>0){const k=x[0].datasetIndex,D=l.getDatasetMeta(k).data;x=[];for(let E=0;E<D.length;++E)x.push({element:D[E],datasetIndex:k,index:E})}return x},point(l,s,a,u){const d=ao(s,l),m=a.axis||"xy",v=a.includeInvisible||!1;return Hf(l,d,m,u,v)},nearest(l,s,a,u){const d=ao(s,l),m=a.axis||"xy",v=a.includeInvisible||!1;return $f(l,d,m,a.intersect,u,v)},x(l,s,a,u){const d=ao(s,l);return $m(l,d,"x",a.intersect,u)},y(l,s,a,u){const d=ao(s,l);return $m(l,d,"y",a.intersect,u)}}};const K0=["left","top","right","bottom"];function wu(l,s){return l.filter(a=>a.pos===s)}function Vm(l,s){return l.filter(a=>K0.indexOf(a.pos)===-1&&a.box.axis===s)}function ku(l,s){return l.sort((a,u)=>{const d=s?u:a,m=s?a:u;return d.weight===m.weight?d.index-m.index:d.weight-m.weight})}function CC(l){const s=[];let a,u,d,m,v,x;for(a=0,u=(l||[]).length;a<u;++a)d=l[a],{position:m,options:{stack:v,stackWeight:x=1}}=d,s.push({index:a,box:d,pos:m,horizontal:d.isHorizontal(),weight:d.weight,stack:v&&m+v,stackWeight:x});return s}function wC(l){const s={};for(const a of l){const{stack:u,pos:d,stackWeight:m}=a;if(!u||!K0.includes(d))continue;const v=s[u]||(s[u]={count:0,placed:0,weight:0,size:0});v.count++,v.weight+=m}return s}function kC(l,s){const a=wC(l),{vBoxMaxWidth:u,hBoxMaxHeight:d}=s;let m,v,x;for(m=0,v=l.length;m<v;++m){x=l[m];const{fullSize:k}=x.box,D=a[x.stack],E=D&&x.stackWeight/D.weight;x.horizontal?(x.width=E?E*u:k&&s.availableWidth,x.height=d):(x.width=u,x.height=E?E*d:k&&s.availableHeight)}return a}function SC(l){const s=CC(l),a=ku(s.filter(D=>D.box.fullSize),!0),u=ku(wu(s,"left"),!0),d=ku(wu(s,"right")),m=ku(wu(s,"top"),!0),v=ku(wu(s,"bottom")),x=Vm(s,"x"),k=Vm(s,"y");return{fullSize:a,leftAndTop:u.concat(m),rightAndBottom:d.concat(k).concat(v).concat(x),chartArea:wu(s,"chartArea"),vertical:u.concat(d).concat(k),horizontal:m.concat(v).concat(x)}}function Wm(l,s,a,u){return Math.max(l[a],s[a])+Math.max(l[u],s[u])}function Z0(l,s){l.top=Math.max(l.top,s.top),l.left=Math.max(l.left,s.left),l.bottom=Math.max(l.bottom,s.bottom),l.right=Math.max(l.right,s.right)}function DC(l,s,a,u){const{pos:d,box:m}=a,v=l.maxPadding;if(!It(d)){a.size&&(l[d]-=a.size);const L=u[a.stack]||{size:0,count:1};L.size=Math.max(L.size,a.horizontal?m.height:m.width),a.size=L.size/L.count,l[d]+=a.size}m.getPadding&&Z0(v,m.getPadding());const x=Math.max(0,s.outerWidth-Wm(v,l,"left","right")),k=Math.max(0,s.outerHeight-Wm(v,l,"top","bottom")),D=x!==l.w,E=k!==l.h;return l.w=x,l.h=k,a.horizontal?{same:D,other:E}:{same:E,other:D}}function TC(l){const s=l.maxPadding;function a(u){const d=Math.max(s[u]-l[u],0);return l[u]+=d,d}l.y+=a("top"),l.x+=a("left"),a("right"),a("bottom")}function EC(l,s){const a=s.maxPadding;function u(d){const m={left:0,top:0,right:0,bottom:0};return d.forEach(v=>{m[v]=Math.max(s[v],a[v])}),m}return u(l?["left","right"]:["top","bottom"])}function Lu(l,s,a,u){const d=[];let m,v,x,k,D,E;for(m=0,v=l.length,D=0;m<v;++m){x=l[m],k=x.box,k.update(x.width||s.w,x.height||s.h,EC(x.horizontal,s));const{same:L,other:P}=DC(s,a,x,u);D|=L&&d.length,E=E||P,k.fullSize||d.push(x)}return D&&Lu(d,s,a,u)||E}function jd(l,s,a,u,d){l.top=a,l.left=s,l.right=s+u,l.bottom=a+d,l.width=u,l.height=d}function jm(l,s,a,u){const d=a.padding;let{x:m,y:v}=s;for(const x of l){const k=x.box,D=u[x.stack]||{placed:0,weight:1},E=x.stackWeight/D.weight||1;if(x.horizontal){const L=s.w*E,P=D.size||k.height;Yu(D.start)&&(v=D.start),k.fullSize?jd(k,d.left,v,a.outerWidth-d.right-d.left,P):jd(k,s.left+D.placed,v,L,P),D.start=v,D.placed+=L,v=k.bottom}else{const L=s.h*E,P=D.size||k.width;Yu(D.start)&&(m=D.start),k.fullSize?jd(k,m,d.top,P,a.outerHeight-d.bottom-d.top):jd(k,m,s.top+D.placed,P,L),D.start=m,D.placed+=L,m=k.right}}s.x=m,s.y=v}var En={addBox(l,s){l.boxes||(l.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(a){s.draw(a)}}]},l.boxes.push(s)},removeBox(l,s){const a=l.boxes?l.boxes.indexOf(s):-1;a!==-1&&l.boxes.splice(a,1)},configure(l,s,a){s.fullSize=a.fullSize,s.position=a.position,s.weight=a.weight},update(l,s,a,u){if(!l)return;const d=bn(l.options.layout.padding),m=Math.max(s-d.width,0),v=Math.max(a-d.height,0),x=SC(l.boxes),k=x.vertical,D=x.horizontal;Jt(l.boxes,Z=>{typeof Z.beforeLayout=="function"&&Z.beforeLayout()});const E=k.reduce((Z,ee)=>ee.box.options&&ee.box.options.display===!1?Z:Z+1,0)||1,L=Object.freeze({outerWidth:s,outerHeight:a,padding:d,availableWidth:m,availableHeight:v,vBoxMaxWidth:m/2/E,hBoxMaxHeight:v/2}),P=Object.assign({},d);Z0(P,bn(u));const H=Object.assign({maxPadding:P,w:m,h:v,x:d.left,y:d.top},d),U=kC(k.concat(D),L);Lu(x.fullSize,H,L,U),Lu(k,H,L,U),Lu(D,H,L,U)&&Lu(k,H,L,U),TC(H),jm(x.leftAndTop,H,L,U),H.x+=H.w,H.y+=H.h,jm(x.rightAndBottom,H,L,U),l.chartArea={left:H.left,top:H.top,right:H.left+H.w,bottom:H.top+H.h,height:H.h,width:H.w},Jt(x.chartArea,Z=>{const ee=Z.box;Object.assign(ee,l.chartArea),ee.update(H.w,H.h,{left:0,top:0,right:0,bottom:0})})}};class J0{acquireContext(s,a){}releaseContext(s){return!1}addEventListener(s,a,u){}removeEventListener(s,a,u){}getDevicePixelRatio(){return 1}getMaximumSize(s,a,u,d){return a=Math.max(0,a||s.width),u=u||s.height,{width:a,height:Math.max(0,d?Math.floor(a/d):u)}}isAttached(s){return!0}updateConfig(s){}}class AC extends J0{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const lh="$chartjs",MC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Um=l=>l===null||l==="";function FC(l,s){const a=l.style,u=l.getAttribute("height"),d=l.getAttribute("width");if(l[lh]={initial:{height:u,width:d,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",Um(d)){const m=Em(l,"width");m!==void 0&&(l.width=m)}if(Um(u))if(l.style.height==="")l.height=l.width/(s||2);else{const m=Em(l,"height");m!==void 0&&(l.height=m)}return l}const Q0=Lx?{passive:!0}:!1;function IC(l,s,a){l&&l.addEventListener(s,a,Q0)}function LC(l,s,a){l&&l.canvas&&l.canvas.removeEventListener(s,a,Q0)}function OC(l,s){const a=MC[l.type]||l.type,{x:u,y:d}=ao(l,s);return{type:a,chart:s,native:l,x:u!==void 0?u:null,y:d!==void 0?d:null}}function gh(l,s){for(const a of l)if(a===s||a.contains(s))return!0}function PC(l,s,a){const u=l.canvas,d=new MutationObserver(m=>{let v=!1;for(const x of m)v=v||gh(x.addedNodes,u),v=v&&!gh(x.removedNodes,u);v&&a()});return d.observe(document,{childList:!0,subtree:!0}),d}function BC(l,s,a){const u=l.canvas,d=new MutationObserver(m=>{let v=!1;for(const x of m)v=v||gh(x.removedNodes,u),v=v&&!gh(x.addedNodes,u);v&&a()});return d.observe(document,{childList:!0,subtree:!0}),d}const Ku=new Map;let qm=0;function ev(){const l=window.devicePixelRatio;l!==qm&&(qm=l,Ku.forEach((s,a)=>{a.currentDevicePixelRatio!==l&&s()}))}function NC(l,s){Ku.size||window.addEventListener("resize",ev),Ku.set(l,s)}function RC(l){Ku.delete(l),Ku.size||window.removeEventListener("resize",ev)}function zC(l,s,a){const u=l.canvas,d=u&&Lp(u);if(!d)return;const m=E0((x,k)=>{const D=d.clientWidth;a(x,k),D<d.clientWidth&&a()},window),v=new ResizeObserver(x=>{const k=x[0],D=k.contentRect.width,E=k.contentRect.height;D===0&&E===0||m(D,E)});return v.observe(d),NC(l,m),v}function Vf(l,s,a){a&&a.disconnect(),s==="resize"&&RC(l)}function HC(l,s,a){const u=l.canvas,d=E0(m=>{l.ctx!==null&&a(OC(m,l))},l);return IC(u,s,d),d}class $C extends J0{acquireContext(s,a){const u=s&&s.getContext&&s.getContext("2d");return u&&u.canvas===s?(FC(s,a),u):null}releaseContext(s){const a=s.canvas;if(!a[lh])return!1;const u=a[lh].initial;["height","width"].forEach(m=>{const v=u[m];Mt(v)?a.removeAttribute(m):a.setAttribute(m,v)});const d=u.style||{};return Object.keys(d).forEach(m=>{a.style[m]=d[m]}),a.width=a.width,delete a[lh],!0}addEventListener(s,a,u){this.removeEventListener(s,a);const d=s.$proxies||(s.$proxies={}),v={attach:PC,detach:BC,resize:zC}[a]||HC;d[a]=v(s,a,u)}removeEventListener(s,a){const u=s.$proxies||(s.$proxies={}),d=u[a];if(!d)return;({attach:Vf,detach:Vf,resize:Vf}[a]||LC)(s,a,d),u[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,a,u,d){return Ix(s,a,u,d)}isAttached(s){const a=s&&Lp(s);return!!(a&&a.isConnected)}}function VC(l){return!Ip()||typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas?AC:$C}var ih;let Ra=(ih=class{constructor(){ae(this,"x");ae(this,"y");ae(this,"active",!1);ae(this,"options");ae(this,"$animations")}tooltipPosition(s){const{x:a,y:u}=this.getProps(["x","y"],s);return{x:a,y:u}}hasValue(){return sl(this.x)&&sl(this.y)}getProps(s,a){const u=this.$animations;if(!a||!u)return this;const d={};return s.forEach(m=>{d[m]=u[m]&&u[m].active()?u[m]._to:this[m]}),d}},ae(ih,"defaults",{}),ae(ih,"defaultRoutes"),ih);function WC(l,s){const a=l.options.ticks,u=jC(l),d=Math.min(a.maxTicksLimit||u,u),m=a.major.enabled?qC(s):[],v=m.length,x=m[0],k=m[v-1],D=[];if(v>d)return YC(s,D,m,v/d),D;const E=UC(m,s,d);if(v>0){let L,P;const H=v>1?Math.round((k-x)/(v-1)):null;for(Ud(s,D,E,Mt(H)?0:x-H,x),L=0,P=v-1;L<P;L++)Ud(s,D,E,m[L],m[L+1]);return Ud(s,D,E,k,Mt(H)?s.length:k+H),D}return Ud(s,D,E),D}function jC(l){const s=l.options.offset,a=l._tickSize(),u=l._length/a+(s?0:1),d=l._maxLength/a;return Math.floor(Math.min(u,d))}function UC(l,s,a){const u=GC(l),d=s.length/a;if(!u)return Math.max(d,1);const m=P1(u);for(let v=0,x=m.length-1;v<x;v++){const k=m[v];if(k>d)return k}return Math.max(d,1)}function qC(l){const s=[];let a,u;for(a=0,u=l.length;a<u;a++)l[a].major&&s.push(a);return s}function YC(l,s,a,u){let d=0,m=a[0],v;for(u=Math.ceil(u),v=0;v<l.length;v++)v===m&&(s.push(l[v]),d++,m=a[d*u])}function Ud(l,s,a,u,d){const m=St(u,0),v=Math.min(St(d,l.length),l.length);let x=0,k,D,E;for(a=Math.ceil(a),d&&(k=d-u,a=k/Math.floor(k/a)),E=m;E<0;)x++,E=Math.round(m+x*a);for(D=Math.max(m,0);D<v;D++)D===E&&(s.push(l[D]),x++,E=Math.round(m+x*a))}function GC(l){const s=l.length;let a,u;if(s<2)return!1;for(u=l[0],a=1;a<s;++a)if(l[a]-l[a-1]!==u)return!1;return u}const XC=l=>l==="left"?"right":l==="right"?"left":l,Ym=(l,s,a)=>s==="top"||s==="left"?l[s]+a:l[s]-a,Gm=(l,s)=>Math.min(s||l,l);function Xm(l,s){const a=[],u=l.length/s,d=l.length;let m=0;for(;m<d;m+=u)a.push(l[Math.floor(m)]);return a}function KC(l,s,a){const u=l.ticks.length,d=Math.min(s,u-1),m=l._startPixel,v=l._endPixel,x=1e-6;let k=l.getPixelForTick(d),D;if(!(a&&(u===1?D=Math.max(k-m,v-k):s===0?D=(l.getPixelForTick(1)-k)/2:D=(k-l.getPixelForTick(d-1))/2,k+=d<s?D:-D,k<m-x||k>v+x)))return k}function ZC(l,s){Jt(l,a=>{const u=a.gc,d=u.length/2;let m;if(d>s){for(m=0;m<d;++m)delete a.data[u[m]];u.splice(0,d)}})}function Su(l){return l.drawTicks?l.tickLength:0}function Km(l,s){if(!l.display)return 0;const a=Ui(l.font,s),u=bn(l.padding);return(hi(l.text)?l.text.length:1)*a.lineHeight+u.height}function JC(l,s){return Dr(l,{scale:s,type:"scale"})}function QC(l,s,a){return Dr(l,{tick:a,index:s,type:"tick"})}function ew(l,s,a){let u=Dp(l);return(a&&s!=="right"||!a&&s==="right")&&(u=XC(u)),u}function tw(l,s,a,u){const{top:d,left:m,bottom:v,right:x,chart:k}=l,{chartArea:D,scales:E}=k;let L=0,P,H,U;const Z=v-d,ee=x-m;if(l.isHorizontal()){if(H=Dn(u,m,x),It(a)){const K=Object.keys(a)[0],X=a[K];U=E[K].getPixelForValue(X)+Z-s}else a==="center"?U=(D.bottom+D.top)/2+Z-s:U=Ym(l,a,s);P=x-m}else{if(It(a)){const K=Object.keys(a)[0],X=a[K];H=E[K].getPixelForValue(X)-ee+s}else a==="center"?H=(D.left+D.right)/2-ee+s:H=Ym(l,a,s);U=Dn(u,v,d),L=a==="left"?-Ri:Ri}return{titleX:H,titleY:U,maxWidth:P,rotation:L}}class po extends Ra{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,a){return s}getUserBounds(){let{_userMin:s,_userMax:a,_suggestedMin:u,_suggestedMax:d}=this;return s=Zn(s,Number.POSITIVE_INFINITY),a=Zn(a,Number.NEGATIVE_INFINITY),u=Zn(u,Number.POSITIVE_INFINITY),d=Zn(d,Number.NEGATIVE_INFINITY),{min:Zn(s,u),max:Zn(a,d),minDefined:Ii(s),maxDefined:Ii(a)}}getMinMax(s){let{min:a,max:u,minDefined:d,maxDefined:m}=this.getUserBounds(),v;if(d&&m)return{min:a,max:u};const x=this.getMatchingVisibleMetas();for(let k=0,D=x.length;k<D;++k)v=x[k].controller.getMinMax(this,s),d||(a=Math.min(a,v.min)),m||(u=Math.max(u,v.max));return a=m&&a>u?u:a,u=d&&a>u?a:u,{min:Zn(a,Zn(u,a)),max:Zn(u,Zn(a,u))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ii(this.options.beforeUpdate,[this])}update(s,a,u){const{beginAtZero:d,grace:m,ticks:v}=this.options,x=v.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=a,this._margins=u=Object.assign({left:0,right:0,top:0,bottom:0},u),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+u.left+u.right:this.height+u.top+u.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=cx(this,m,d),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const k=x<this.ticks.length;this._convertTicksToLabels(k?Xm(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),v.display&&(v.autoSkip||v.source==="auto")&&(this.ticks=WC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),k&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s=this.options.reverse,a,u;this.isHorizontal()?(a=this.left,u=this.right):(a=this.top,u=this.bottom,s=!s),this._startPixel=a,this._endPixel=u,this._reversePixels=s,this._length=u-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ii(this.options.afterUpdate,[this])}beforeSetDimensions(){ii(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ii(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),ii(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ii(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const a=this.options.ticks;let u,d,m;for(u=0,d=s.length;u<d;u++)m=s[u],m.label=ii(a.callback,[m.value,u,s],this)}afterTickToLabelConversion(){ii(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ii(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,a=s.ticks,u=Gm(this.ticks.length,s.ticks.maxTicksLimit),d=a.minRotation||0,m=a.maxRotation;let v=d,x,k,D;if(!this._isVisible()||!a.display||d>=m||u<=1||!this.isHorizontal()){this.labelRotation=d;return}const E=this._getLabelSizes(),L=E.widest.width,P=E.highest.height,H=cn(this.chart.width-L,0,this.maxWidth);x=s.offset?this.maxWidth/u:H/(u-1),L+6>x&&(x=H/(u-(s.offset?.5:1)),k=this.maxHeight-Su(s.grid)-a.padding-Km(s.title,this.chart.options.font),D=Math.sqrt(L*L+P*P),v=kp(Math.min(Math.asin(cn((E.highest.height+6)/x,-1,1)),Math.asin(cn(k/D,-1,1))-Math.asin(cn(P/D,-1,1)))),v=Math.max(d,Math.min(m,v))),this.labelRotation=v}afterCalculateLabelRotation(){ii(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ii(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:a,options:{ticks:u,title:d,grid:m}}=this,v=this._isVisible(),x=this.isHorizontal();if(v){const k=Km(d,a.options.font);if(x?(s.width=this.maxWidth,s.height=Su(m)+k):(s.height=this.maxHeight,s.width=Su(m)+k),u.display&&this.ticks.length){const{first:D,last:E,widest:L,highest:P}=this._getLabelSizes(),H=u.padding*2,U=As(this.labelRotation),Z=Math.cos(U),ee=Math.sin(U);if(x){const K=u.mirror?0:ee*L.width+Z*P.height;s.height=Math.min(this.maxHeight,s.height+K+H)}else{const K=u.mirror?0:Z*L.width+ee*P.height;s.width=Math.min(this.maxWidth,s.width+K+H)}this._calculatePadding(D,E,ee,Z)}}this._handleMargins(),x?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,a,u,d){const{ticks:{align:m,padding:v},position:x}=this.options,k=this.labelRotation!==0,D=x!=="top"&&this.axis==="x";if(this.isHorizontal()){const E=this.getPixelForTick(0)-this.left,L=this.right-this.getPixelForTick(this.ticks.length-1);let P=0,H=0;k?D?(P=d*s.width,H=u*a.height):(P=u*s.height,H=d*a.width):m==="start"?H=a.width:m==="end"?P=s.width:m!=="inner"&&(P=s.width/2,H=a.width/2),this.paddingLeft=Math.max((P-E+v)*this.width/(this.width-E),0),this.paddingRight=Math.max((H-L+v)*this.width/(this.width-L),0)}else{let E=a.height/2,L=s.height/2;m==="start"?(E=0,L=s.height):m==="end"&&(E=a.height,L=0),this.paddingTop=E+v,this.paddingBottom=L+v}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ii(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:a}=this.options;return a==="top"||a==="bottom"||s==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){this.beforeTickToLabelConversion(),this.generateTickLabels(s);let a,u;for(a=0,u=s.length;a<u;a++)Mt(s[a].label)&&(s.splice(a,1),u--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const a=this.options.ticks.sampleSize;let u=this.ticks;a<u.length&&(u=Xm(u,a)),this._labelSizes=s=this._computeLabelSizes(u,u.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,a,u){const{ctx:d,_longestTextCache:m}=this,v=[],x=[],k=Math.floor(a/Gm(a,u));let D=0,E=0,L,P,H,U,Z,ee,K,X,oe,ne,se;for(L=0;L<a;L+=k){if(U=s[L].label,Z=this._resolveTickFontOptions(L),d.font=ee=Z.string,K=m[ee]=m[ee]||{data:{},gc:[]},X=Z.lineHeight,oe=ne=0,!Mt(U)&&!hi(U))oe=ph(d,K.data,K.gc,oe,U),ne=X;else if(hi(U))for(P=0,H=U.length;P<H;++P)se=U[P],!Mt(se)&&!hi(se)&&(oe=ph(d,K.data,K.gc,oe,se),ne+=X);v.push(oe),x.push(ne),D=Math.max(oe,D),E=Math.max(ne,E)}ZC(m,a);const we=v.indexOf(D),be=x.indexOf(E),ve=De=>({width:v[De]||0,height:x[De]||0});return{first:ve(0),last:ve(a-1),widest:ve(we),highest:ve(be),widths:v,heights:x}}getLabelForValue(s){return s}getPixelForValue(s,a){return NaN}getValueForPixel(s){}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const a=this._startPixel+s*this._length;return z1(this._alignToPixels?io(this.chart,a,0):a)}getDecimalForPixel(s){const a=(s-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:a}=this;return s<0&&a<0?a:s>0&&a>0?s:0}getContext(s){const a=this.ticks||[];if(s>=0&&s<a.length){const u=a[s];return u.$context||(u.$context=QC(this.getContext(),s,u))}return this.$context||(this.$context=JC(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,a=As(this.labelRotation),u=Math.abs(Math.cos(a)),d=Math.abs(Math.sin(a)),m=this._getLabelSizes(),v=s.autoSkipPadding||0,x=m?m.widest.width+v:0,k=m?m.highest.height+v:0;return this.isHorizontal()?k*u>x*d?x/u:k/d:k*d<x*u?k/u:x/d}_isVisible(){const s=this.options.display;return s!=="auto"?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const a=this.axis,u=this.chart,d=this.options,{grid:m,position:v,border:x}=d,k=m.offset,D=this.isHorizontal(),L=this.ticks.length+(k?1:0),P=Su(m),H=[],U=x.setContext(this.getContext()),Z=U.display?U.width:0,ee=Z/2,K=function(Be){return io(u,Be,Z)};let X,oe,ne,se,we,be,ve,De,Ge,Fe,Ue,nt;if(v==="top")X=K(this.bottom),be=this.bottom-P,De=X-ee,Fe=K(s.top)+ee,nt=s.bottom;else if(v==="bottom")X=K(this.top),Fe=s.top,nt=K(s.bottom)-ee,be=X+ee,De=this.top+P;else if(v==="left")X=K(this.right),we=this.right-P,ve=X-ee,Ge=K(s.left)+ee,Ue=s.right;else if(v==="right")X=K(this.left),Ge=s.left,Ue=K(s.right)-ee,we=X+ee,ve=this.left+P;else if(a==="x"){if(v==="center")X=K((s.top+s.bottom)/2+.5);else if(It(v)){const Be=Object.keys(v)[0],Oe=v[Be];X=K(this.chart.scales[Be].getPixelForValue(Oe))}Fe=s.top,nt=s.bottom,be=X+ee,De=be+P}else if(a==="y"){if(v==="center")X=K((s.left+s.right)/2);else if(It(v)){const Be=Object.keys(v)[0],Oe=v[Be];X=K(this.chart.scales[Be].getPixelForValue(Oe))}we=X-ee,ve=we-P,Ge=s.left,Ue=s.right}const ot=St(d.ticks.maxTicksLimit,L),ce=Math.max(1,Math.ceil(L/ot));for(oe=0;oe<L;oe+=ce){const Be=this.getContext(oe),Oe=m.setContext(Be),Je=x.setContext(Be),mt=Oe.lineWidth,Ht=Oe.color,Ji=Je.dash||[],ue=Je.dashOffset,$=Oe.tickWidth,Te=Oe.tickColor,yt=Oe.tickBorderDash||[],rt=Oe.tickBorderDashOffset;ne=KC(this,oe,k),ne!==void 0&&(se=io(u,ne,mt),D?we=ve=Ge=Ue=se:be=De=Fe=nt=se,H.push({tx1:we,ty1:be,tx2:ve,ty2:De,x1:Ge,y1:Fe,x2:Ue,y2:nt,width:mt,color:Ht,borderDash:Ji,borderDashOffset:ue,tickWidth:$,tickColor:Te,tickBorderDash:yt,tickBorderDashOffset:rt}))}return this._ticksLength=L,this._borderValue=X,H}_computeLabelItems(s){const a=this.axis,u=this.options,{position:d,ticks:m}=u,v=this.isHorizontal(),x=this.ticks,{align:k,crossAlign:D,padding:E,mirror:L}=m,P=Su(u.grid),H=P+E,U=L?-E:H,Z=-As(this.labelRotation),ee=[];let K,X,oe,ne,se,we,be,ve,De,Ge,Fe,Ue,nt="middle";if(d==="top")we=this.bottom-U,be=this._getXAxisLabelAlignment();else if(d==="bottom")we=this.top+U,be=this._getXAxisLabelAlignment();else if(d==="left"){const ce=this._getYAxisLabelAlignment(P);be=ce.textAlign,se=ce.x}else if(d==="right"){const ce=this._getYAxisLabelAlignment(P);be=ce.textAlign,se=ce.x}else if(a==="x"){if(d==="center")we=(s.top+s.bottom)/2+H;else if(It(d)){const ce=Object.keys(d)[0],Be=d[ce];we=this.chart.scales[ce].getPixelForValue(Be)+H}be=this._getXAxisLabelAlignment()}else if(a==="y"){if(d==="center")se=(s.left+s.right)/2-H;else if(It(d)){const ce=Object.keys(d)[0],Be=d[ce];se=this.chart.scales[ce].getPixelForValue(Be)}be=this._getYAxisLabelAlignment(P).textAlign}a==="y"&&(k==="start"?nt="top":k==="end"&&(nt="bottom"));const ot=this._getLabelSizes();for(K=0,X=x.length;K<X;++K){oe=x[K],ne=oe.label;const ce=m.setContext(this.getContext(K));ve=this.getPixelForTick(K)+m.labelOffset,De=this._resolveTickFontOptions(K),Ge=De.lineHeight,Fe=hi(ne)?ne.length:1;const Be=Fe/2,Oe=ce.color,Je=ce.textStrokeColor,mt=ce.textStrokeWidth;let Ht=be;v?(se=ve,be==="inner"&&(K===X-1?Ht=this.options.reverse?"left":"right":K===0?Ht=this.options.reverse?"right":"left":Ht="center"),d==="top"?D==="near"||Z!==0?Ue=-Fe*Ge+Ge/2:D==="center"?Ue=-ot.highest.height/2-Be*Ge+Ge:Ue=-ot.highest.height+Ge/2:D==="near"||Z!==0?Ue=Ge/2:D==="center"?Ue=ot.highest.height/2-Be*Ge:Ue=ot.highest.height-Fe*Ge,L&&(Ue*=-1),Z!==0&&!ce.showLabelBackdrop&&(se+=Ge/2*Math.sin(Z))):(we=ve,Ue=(1-Fe)*Ge/2);let Ji;if(ce.showLabelBackdrop){const ue=bn(ce.backdropPadding),$=ot.heights[K],Te=ot.widths[K];let yt=Ue-ue.top,rt=0-ue.left;switch(nt){case"middle":yt-=$/2;break;case"bottom":yt-=$;break}switch(be){case"center":rt-=Te/2;break;case"right":rt-=Te;break;case"inner":K===X-1?rt-=Te:K>0&&(rt-=Te/2);break}Ji={left:rt,top:yt,width:Te+ue.width,height:$+ue.height,color:ce.backdropColor}}ee.push({label:ne,font:De,textOffset:Ue,options:{rotation:Z,color:Oe,strokeColor:Je,strokeWidth:mt,textAlign:Ht,textBaseline:nt,translation:[se,we],backdrop:Ji}})}return ee}_getXAxisLabelAlignment(){const{position:s,ticks:a}=this.options;if(-As(this.labelRotation))return s==="top"?"left":"right";let d="center";return a.align==="start"?d="left":a.align==="end"?d="right":a.align==="inner"&&(d="inner"),d}_getYAxisLabelAlignment(s){const{position:a,ticks:{crossAlign:u,mirror:d,padding:m}}=this.options,v=this._getLabelSizes(),x=s+m,k=v.widest.width;let D,E;return a==="left"?d?(E=this.right+m,u==="near"?D="left":u==="center"?(D="center",E+=k/2):(D="right",E+=k)):(E=this.right-x,u==="near"?D="right":u==="center"?(D="center",E-=k/2):(D="left",E=this.left)):a==="right"?d?(E=this.left+m,u==="near"?D="right":u==="center"?(D="center",E-=k/2):(D="left",E-=k)):(E=this.left+x,u==="near"?D="left":u==="center"?(D="center",E+=k/2):(D="right",E=this.right)):D="right",{textAlign:D,x:E}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:s.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:s.width}}drawBackground(){const{ctx:s,options:{backgroundColor:a},left:u,top:d,width:m,height:v}=this;a&&(s.save(),s.fillStyle=a,s.fillRect(u,d,m,v),s.restore())}getLineWidthForValue(s){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const d=this.ticks.findIndex(m=>m.value===s);return d>=0?a.setContext(this.getContext(d)).lineWidth:0}drawGrid(s){const a=this.options.grid,u=this.ctx,d=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let m,v;const x=(k,D,E)=>{!E.width||!E.color||(u.save(),u.lineWidth=E.width,u.strokeStyle=E.color,u.setLineDash(E.borderDash||[]),u.lineDashOffset=E.borderDashOffset,u.beginPath(),u.moveTo(k.x,k.y),u.lineTo(D.x,D.y),u.stroke(),u.restore())};if(a.display)for(m=0,v=d.length;m<v;++m){const k=d[m];a.drawOnChartArea&&x({x:k.x1,y:k.y1},{x:k.x2,y:k.y2},k),a.drawTicks&&x({x:k.tx1,y:k.ty1},{x:k.tx2,y:k.ty2},{color:k.tickColor,width:k.tickWidth,borderDash:k.tickBorderDash,borderDashOffset:k.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:a,options:{border:u,grid:d}}=this,m=u.setContext(this.getContext()),v=u.display?m.width:0;if(!v)return;const x=d.setContext(this.getContext(0)).lineWidth,k=this._borderValue;let D,E,L,P;this.isHorizontal()?(D=io(s,this.left,v)-v/2,E=io(s,this.right,x)+x/2,L=P=k):(L=io(s,this.top,v)-v/2,P=io(s,this.bottom,x)+x/2,D=E=k),a.save(),a.lineWidth=m.width,a.strokeStyle=m.color,a.beginPath(),a.moveTo(D,L),a.lineTo(E,P),a.stroke(),a.restore()}drawLabels(s){if(!this.options.ticks.display)return;const u=this.ctx,d=this._computeLabelArea();d&&Ch(u,d);const m=this.getLabelItems(s);for(const v of m){const x=v.options,k=v.font,D=v.label,E=v.textOffset;fo(u,D,0,E,k,x)}d&&wh(u)}drawTitle(){const{ctx:s,options:{position:a,title:u,reverse:d}}=this;if(!u.display)return;const m=Ui(u.font),v=bn(u.padding),x=u.align;let k=m.lineHeight/2;a==="bottom"||a==="center"||It(a)?(k+=v.bottom,hi(u.text)&&(k+=m.lineHeight*(u.text.length-1))):k+=v.top;const{titleX:D,titleY:E,maxWidth:L,rotation:P}=tw(this,k,a,x);fo(s,u.text,0,0,m,{color:u.color,maxWidth:L,rotation:P,textAlign:ew(x,a,d),textBaseline:"middle",translation:[D,E]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,a=s.ticks&&s.ticks.z||0,u=St(s.grid&&s.grid.z,-1),d=St(s.border&&s.border.z,0);return!this._isVisible()||this.draw!==po.prototype.draw?[{z:a,draw:m=>{this.draw(m)}}]:[{z:u,draw:m=>{this.drawBackground(),this.drawGrid(m),this.drawTitle()}},{z:d,draw:()=>{this.drawBorder()}},{z:a,draw:m=>{this.drawLabels(m)}}]}getMatchingVisibleMetas(s){const a=this.chart.getSortedVisibleDatasetMetas(),u=this.axis+"AxisID",d=[];let m,v;for(m=0,v=a.length;m<v;++m){const x=a[m];x[u]===this.id&&(!s||x.type===s)&&d.push(x)}return d}_resolveTickFontOptions(s){const a=this.options.ticks.setContext(this.getContext(s));return Ui(a.font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class qd{constructor(s,a,u){this.type=s,this.scope=a,this.override=u,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const a=Object.getPrototypeOf(s);let u;sw(a)&&(u=this.register(a));const d=this.items,m=s.id,v=this.scope+"."+m;if(!m)throw new Error("class does not have id: "+s);return m in d||(d[m]=s,iw(s,v,u),this.override&&pi.override(s.id,s.overrides)),v}get(s){return this.items[s]}unregister(s){const a=this.items,u=s.id,d=this.scope;u in a&&delete a[u],d&&u in pi[d]&&(delete pi[d][u],this.override&&delete ho[u])}}function iw(l,s,a){const u=ia(Object.create(null),[a?pi.get(a):{},pi.get(s),l.defaults]);pi.set(s,u),l.defaultRoutes&&nw(s,l.defaultRoutes),l.descriptors&&pi.describe(s,l.descriptors)}function nw(l,s){Object.keys(s).forEach(a=>{const u=a.split("."),d=u.pop(),m=[l].concat(u).join("."),v=s[a].split("."),x=v.pop(),k=v.join(".");pi.route(m,d,k,x)})}function sw(l){return"id"in l&&"defaults"in l}class aw{constructor(){this.controllers=new qd(Ms,"datasets",!0),this.elements=new qd(Ra,"elements"),this.plugins=new qd(Object,"plugins"),this.scales=new qd(po,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,a,u){[...a].forEach(d=>{const m=u||this._getRegistryForType(d);u||m.isForType(d)||m===this.plugins&&d.id?this._exec(s,m,d):Jt(d,v=>{const x=u||this._getRegistryForType(v);this._exec(s,x,v)})})}_exec(s,a,u){const d=wp(s);ii(u["before"+d],[],u),a[s](u),ii(u["after"+d],[],u)}_getRegistryForType(s){for(let a=0;a<this._typedRegistries.length;a++){const u=this._typedRegistries[a];if(u.isForType(s))return u}return this.plugins}_get(s,a,u){const d=a.get(s);if(d===void 0)throw new Error('"'+s+'" is not a registered '+u+".");return d}}var Js=new aw;class rw{constructor(){this._init=[]}notify(s,a,u,d){a==="beforeInit"&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install"));const m=d?this._descriptors(s).filter(d):this._descriptors(s),v=this._notify(m,s,a,u);return a==="afterDestroy"&&(this._notify(m,s,"stop"),this._notify(this._init,s,"uninstall")),v}_notify(s,a,u,d){d=d||{};for(const m of s){const v=m.plugin,x=v[u],k=[a,d,m.options];if(ii(x,k,v)===!1&&d.cancelable)return!1}return!0}invalidate(){Mt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),a}_createDescriptors(s,a){const u=s&&s.config,d=St(u.options&&u.options.plugins,{}),m=ow(u);return d===!1&&!a?[]:uw(s,m,d,a)}_notifyStateChanges(s){const a=this._oldCache||[],u=this._cache,d=(m,v)=>m.filter(x=>!v.some(k=>x.plugin.id===k.plugin.id));this._notify(d(a,u),s,"stop"),this._notify(d(u,a),s,"start")}}function ow(l){const s={},a=[],u=Object.keys(Js.plugins.items);for(let m=0;m<u.length;m++)a.push(Js.getPlugin(u[m]));const d=l.plugins||[];for(let m=0;m<d.length;m++){const v=d[m];a.indexOf(v)===-1&&(a.push(v),s[v.id]=!0)}return{plugins:a,localIds:s}}function lw(l,s){return!s&&l===!1?null:l===!0?{}:l}function uw(l,{plugins:s,localIds:a},u,d){const m=[],v=l.getContext();for(const x of s){const k=x.id,D=lw(u[k],d);D!==null&&m.push({plugin:x,options:cw(l.config,{plugin:x,local:a[k]},D,v)})}return m}function cw(l,{plugin:s,local:a},u,d){const m=l.pluginScopeKeys(s),v=l.getOptionScopes(u,m);return a&&s.defaults&&v.push(s.defaults),l.createResolver(v,d,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ap(l,s){const a=pi.datasets[l]||{};return((s.datasets||{})[l]||{}).indexAxis||s.indexAxis||a.indexAxis||"x"}function dw(l,s){let a=l;return l==="_index_"?a=s:l==="_value_"&&(a=s==="x"?"y":"x"),a}function hw(l,s){return l===s?"_index_":"_value_"}function Zm(l){if(l==="x"||l==="y"||l==="r")return l}function fw(l){if(l==="top"||l==="bottom")return"x";if(l==="left"||l==="right")return"y"}function rp(l,...s){if(Zm(l))return l;for(const a of s){const u=a.axis||fw(a.position)||l.length>1&&Zm(l[0].toLowerCase());if(u)return u}throw new Error(`Cannot determine type of '${l}' axis. Please provide 'axis' or 'position' option.`)}function Jm(l,s,a){if(a[s+"AxisID"]===l)return{axis:s}}function pw(l,s){if(s.data&&s.data.datasets){const a=s.data.datasets.filter(u=>u.xAxisID===l||u.yAxisID===l);if(a.length)return Jm(l,"x",a[0])||Jm(l,"y",a[0])}return{}}function mw(l,s){const a=ho[l.type]||{scales:{}},u=s.scales||{},d=ap(l.type,s),m=Object.create(null);return Object.keys(u).forEach(v=>{const x=u[v];if(!It(x))return console.error(`Invalid scale configuration for scale: ${v}`);if(x._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${v}`);const k=rp(v,x,pw(v,l),pi.scales[x.type]),D=hw(k,d),E=a.scales||{};m[v]=Bu(Object.create(null),[{axis:k},x,E[k],E[D]])}),l.data.datasets.forEach(v=>{const x=v.type||l.type,k=v.indexAxis||ap(x,s),E=(ho[x]||{}).scales||{};Object.keys(E).forEach(L=>{const P=dw(L,k),H=v[P+"AxisID"]||P;m[H]=m[H]||Object.create(null),Bu(m[H],[{axis:P},u[H],E[L]])})}),Object.keys(m).forEach(v=>{const x=m[v];Bu(x,[pi.scales[x.type],pi.scale])}),m}function tv(l){const s=l.options||(l.options={});s.plugins=St(s.plugins,{}),s.scales=mw(l,s)}function iv(l){return l=l||{},l.datasets=l.datasets||[],l.labels=l.labels||[],l}function gw(l){return l=l||{},l.data=iv(l.data),tv(l),l}const Qm=new Map,nv=new Set;function Yd(l,s){let a=Qm.get(l);return a||(a=s(),Qm.set(l,a),nv.add(a)),a}const Du=(l,s,a)=>{const u=kr(s,a);u!==void 0&&l.add(u)};class vw{constructor(s){this._config=gw(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=iv(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),tv(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Yd(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,a){return Yd(`${s}.transition.${a}`,()=>[[`datasets.${s}.transitions.${a}`,`transitions.${a}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,a){return Yd(`${s}-${a}`,()=>[[`datasets.${s}.elements.${a}`,`datasets.${s}`,`elements.${a}`,""]])}pluginScopeKeys(s){const a=s.id,u=this.type;return Yd(`${u}-plugin-${a}`,()=>[[`plugins.${a}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,a){const u=this._scopeCache;let d=u.get(s);return(!d||a)&&(d=new Map,u.set(s,d)),d}getOptionScopes(s,a,u){const{options:d,type:m}=this,v=this._cachedScopes(s,u),x=v.get(a);if(x)return x;const k=new Set;a.forEach(E=>{s&&(k.add(s),E.forEach(L=>Du(k,s,L))),E.forEach(L=>Du(k,d,L)),E.forEach(L=>Du(k,ho[m]||{},L)),E.forEach(L=>Du(k,pi,L)),E.forEach(L=>Du(k,ip,L))});const D=Array.from(k);return D.length===0&&D.push(Object.create(null)),nv.has(a)&&v.set(a,D),D}chartOptionScopes(){const{options:s,type:a}=this;return[s,ho[a]||{},pi.datasets[a]||{},{type:a},pi,ip]}resolveNamedOptions(s,a,u,d=[""]){const m={$shared:!0},{resolver:v,subPrefixes:x}=eg(this._resolverCache,s,d);let k=v;if(yw(v,a)){m.$shared=!1,u=Sr(u)?u():u;const D=this.createResolver(s,u,x);k=al(v,u,D)}for(const D of a)m[D]=k[D];return m}createResolver(s,a,u=[""],d){const{resolver:m}=eg(this._resolverCache,s,u);return It(a)?al(m,a,void 0,d):m}}function eg(l,s,a){let u=l.get(s);u||(u=new Map,l.set(s,u));const d=a.join();let m=u.get(d);return m||(m={resolver:Ap(s,a),subPrefixes:a.filter(x=>!x.toLowerCase().includes("hover"))},u.set(d,m)),m}const bw=l=>It(l)&&Object.getOwnPropertyNames(l).some(s=>Sr(l[s]));function yw(l,s){const{isScriptable:a,isIndexable:u}=O0(l);for(const d of s){const m=a(d),v=u(d),x=(v||m)&&l[d];if(m&&(Sr(x)||bw(x))||v&&hi(x))return!0}return!1}var _w="4.5.0";const xw=["top","bottom","left","right","chartArea"];function tg(l,s){return l==="top"||l==="bottom"||xw.indexOf(l)===-1&&s==="x"}function ig(l,s){return function(a,u){return a[l]===u[l]?a[s]-u[s]:a[l]-u[l]}}function ng(l){const s=l.chart,a=s.options.animation;s.notifyPlugins("afterRender"),ii(a&&a.onComplete,[l],s)}function Cw(l){const s=l.chart,a=s.options.animation;ii(a&&a.onProgress,[l],s)}function sv(l){return Ip()&&typeof l=="string"?l=document.getElementById(l):l&&l.length&&(l=l[0]),l&&l.canvas&&(l=l.canvas),l}const uh={},sg=l=>{const s=sv(l);return Object.values(uh).filter(a=>a.canvas===s).pop()};function ww(l,s,a){const u=Object.keys(l);for(const d of u){const m=+d;if(m>=s){const v=l[d];delete l[d],(a>0||m>s)&&(l[m+a]=v)}}}function kw(l,s,a,u){return!a||l.type==="mouseout"?null:u?s:l}class La{static register(...s){Js.add(...s),ag()}static unregister(...s){Js.remove(...s),ag()}constructor(s,a){const u=this.config=new vw(a),d=sv(s),m=sg(d);if(m)throw new Error("Canvas is already in use. Chart with ID '"+m.id+"' must be destroyed before the canvas with ID '"+m.canvas.id+"' can be reused.");const v=u.createResolver(u.chartOptionScopes(),this.getContext());this.platform=new(u.platform||VC(d)),this.platform.updateConfig(u);const x=this.platform.acquireContext(d,v.aspectRatio),k=x&&x.canvas,D=k&&k.height,E=k&&k.width;if(this.id=D1(),this.ctx=x,this.canvas=k,this.width=E,this.height=D,this._options=v,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=W1(L=>this.update(L),v.resizeDelay||0),this._dataChanges=[],uh[this.id]=this,!x||!k){console.error("Failed to create chart: can't acquire context from the given item");return}Ma.listen(this,"complete",ng),Ma.listen(this,"progress",Cw),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:a},width:u,height:d,_aspectRatio:m}=this;return Mt(s)?a&&m?m:d?u/d:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return Js}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return km(this.canvas,this.ctx),this}stop(){return Ma.stop(this),this}resize(s,a){Ma.running(this)?this._resizeBeforeDraw={width:s,height:a}:this._resize(s,a)}_resize(s,a){const u=this.options,d=this.canvas,m=u.maintainAspectRatio&&this.aspectRatio,v=this.platform.getMaximumSize(d,s,a,m),x=u.devicePixelRatio||this.platform.getDevicePixelRatio(),k=this.width?"resize":"attach";this.width=v.width,this.height=v.height,this._aspectRatio=this.aspectRatio,Tm(this,x,!0)&&(this.notifyPlugins("resize",{size:v}),ii(u.onResize,[this,v],this),this.attached&&this._doResize(k)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};Jt(a,(u,d)=>{u.id=d})}buildOrUpdateScales(){const s=this.options,a=s.scales,u=this.scales,d=Object.keys(u).reduce((v,x)=>(v[x]=!1,v),{});let m=[];a&&(m=m.concat(Object.keys(a).map(v=>{const x=a[v],k=rp(v,x),D=k==="r",E=k==="x";return{options:x,dposition:D?"chartArea":E?"bottom":"left",dtype:D?"radialLinear":E?"category":"linear"}}))),Jt(m,v=>{const x=v.options,k=x.id,D=rp(k,x),E=St(x.type,v.dtype);(x.position===void 0||tg(x.position,D)!==tg(v.dposition))&&(x.position=v.dposition),d[k]=!0;let L=null;if(k in u&&u[k].type===E)L=u[k];else{const P=Js.getScale(E);L=new P({id:k,type:E,ctx:this.ctx,chart:this}),u[L.id]=L}L.init(x,s)}),Jt(d,(v,x)=>{v||delete u[x]}),Jt(u,v=>{En.configure(this,v,v.options),En.addBox(this,v)})}_updateMetasets(){const s=this._metasets,a=this.data.datasets.length,u=s.length;if(s.sort((d,m)=>d.index-m.index),u>a){for(let d=a;d<u;++d)this._destroyDatasetMeta(d);s.splice(a,u-a)}this._sortedMetasets=s.slice(0).sort(ig("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:a}}=this;s.length>a.length&&delete this._stacks,s.forEach((u,d)=>{a.filter(m=>m===u._dataset).length===0&&this._destroyDatasetMeta(d)})}buildOrUpdateControllers(){const s=[],a=this.data.datasets;let u,d;for(this._removeUnreferencedMetasets(),u=0,d=a.length;u<d;u++){const m=a[u];let v=this.getDatasetMeta(u);const x=m.type||this.config.type;if(v.type&&v.type!==x&&(this._destroyDatasetMeta(u),v=this.getDatasetMeta(u)),v.type=x,v.indexAxis=m.indexAxis||ap(x,this.options),v.order=m.order||0,v.index=u,v.label=""+m.label,v.visible=this.isDatasetVisible(u),v.controller)v.controller.updateIndex(u),v.controller.linkScales();else{const k=Js.getController(x),{datasetElementType:D,dataElementType:E}=pi.datasets[x];Object.assign(k,{dataElementType:Js.getElement(E),datasetElementType:D&&Js.getElement(D)}),v.controller=new k(this,u),s.push(v.controller)}}return this._updateMetasets(),s}_resetElements(){Jt(this.data.datasets,(s,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const a=this.config;a.update();const u=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),d=this._animationsDisabled=!u.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0})===!1)return;const m=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let v=0;for(let D=0,E=this.data.datasets.length;D<E;D++){const{controller:L}=this.getDatasetMeta(D),P=!d&&m.indexOf(L)===-1;L.buildOrUpdateElements(P),v=Math.max(+L.getMaxOverflow(),v)}v=this._minPadding=u.layout.autoPadding?v:0,this._updateLayout(v),d||Jt(m,D=>{D.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(ig("z","_idx"));const{_active:x,_lastEvent:k}=this;k?this._eventHandler(k,!0):x.length&&this._updateHoverStyles(x,x,!0),this.render()}_updateScales(){Jt(this.scales,s=>{En.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,a=new Set(Object.keys(this._listeners)),u=new Set(s.events);(!mm(a,u)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,a=this._getUniformDataChanges()||[];for(const{method:u,start:d,count:m}of a){const v=u==="_removeElements"?-m:m;ww(s,d,v)}}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const a=this.data.datasets.length,u=m=>new Set(s.filter(v=>v[0]===m).map((v,x)=>x+","+v.splice(1).join(","))),d=u(0);for(let m=1;m<a;m++)if(!mm(d,u(m)))return;return Array.from(d).map(m=>m.split(",")).map(m=>({method:m[1],start:+m[2],count:+m[3]}))}_updateLayout(s){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;En.update(this,this.width,this.height,s);const a=this.chartArea,u=a.width<=0||a.height<=0;this._layers=[],Jt(this.boxes,d=>{u&&d.position==="chartArea"||(d.configure&&d.configure(),this._layers.push(...d._layers()))},this),this._layers.forEach((d,m)=>{d._idx=m}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})!==!1){for(let a=0,u=this.data.datasets.length;a<u;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,u=this.data.datasets.length;a<u;++a)this._updateDataset(a,Sr(s)?s({datasetIndex:a}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,a){const u=this.getDatasetMeta(s),d={meta:u,index:s,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",d)!==!1&&(u.controller._update(a),d.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",d))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ma.has(this)?this.attached&&!Ma.running(this)&&Ma.start(this):(this.draw(),ng({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:u,height:d}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(u,d)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(s=0;s<a.length&&a[s].z<=0;++s)a[s].draw(this.chartArea);for(this._drawDatasets();s<a.length;++s)a[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const a=this._sortedMetasets,u=[];let d,m;for(d=0,m=a.length;d<m;++d){const v=a[d];(!s||v.visible)&&u.push(v)}return u}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const s=this.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a)this._drawDataset(s[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const a=this.ctx,u={meta:s,index:s.index,cancelable:!0},d=U0(this,s);this.notifyPlugins("beforeDatasetDraw",u)!==!1&&(d&&Ch(a,d),s.controller.draw(),d&&wh(a),u.cancelable=!1,this.notifyPlugins("afterDatasetDraw",u))}isPointInArea(s){return Ba(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,a,u,d){const m=xC.modes[a];return typeof m=="function"?m(this,s,u,d):[]}getDatasetMeta(s){const a=this.data.datasets[s],u=this._metasets;let d=u.filter(m=>m&&m._dataset===a).pop();return d||(d={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:s,_dataset:a,_parsed:[],_sorted:!1},u.push(d)),d}getContext(){return this.$context||(this.$context=Dr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const a=this.data.datasets[s];if(!a)return!1;const u=this.getDatasetMeta(s);return typeof u.hidden=="boolean"?!u.hidden:!a.hidden}setDatasetVisibility(s,a){const u=this.getDatasetMeta(s);u.hidden=!a}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,a,u){const d=u?"show":"hide",m=this.getDatasetMeta(s),v=m.controller._resolveAnimations(void 0,d);Yu(a)?(m.data[a].hidden=!u,this.update()):(this.setDatasetVisibility(s,u),v.update(m,{visible:u}),this.update(x=>x.datasetIndex===s?d:void 0))}hide(s,a){this._updateVisibility(s,a,!1)}show(s,a){this._updateVisibility(s,a,!0)}_destroyDatasetMeta(s){const a=this._metasets[s];a&&a.controller&&a.controller._destroy(),delete this._metasets[s]}_stop(){let s,a;for(this.stop(),Ma.remove(this),s=0,a=this.data.datasets.length;s<a;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:a}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),km(s,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete uh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,a=this.platform,u=(m,v)=>{a.addEventListener(this,m,v),s[m]=v},d=(m,v,x)=>{m.offsetX=v,m.offsetY=x,this._eventHandler(m)};Jt(this.options.events,m=>u(m,d))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,a=this.platform,u=(k,D)=>{a.addEventListener(this,k,D),s[k]=D},d=(k,D)=>{s[k]&&(a.removeEventListener(this,k,D),delete s[k])},m=(k,D)=>{this.canvas&&this.resize(k,D)};let v;const x=()=>{d("attach",x),this.attached=!0,this.resize(),u("resize",m),u("detach",v)};v=()=>{this.attached=!1,d("resize",m),this._stop(),this._resize(0,0),u("attach",x)},a.isAttached(this.canvas)?x():v()}unbindEvents(){Jt(this._listeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._listeners={},Jt(this._responsiveListeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,a,u){const d=u?"set":"remove";let m,v,x,k;for(a==="dataset"&&(m=this.getDatasetMeta(s[0].datasetIndex),m.controller["_"+d+"DatasetHoverStyle"]()),x=0,k=s.length;x<k;++x){v=s[x];const D=v&&this.getDatasetMeta(v.datasetIndex).controller;D&&D[d+"HoverStyle"](v.element,v.datasetIndex,v.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const a=this._active||[],u=s.map(({datasetIndex:m,index:v})=>{const x=this.getDatasetMeta(m);if(!x)throw new Error("No dataset found at index "+m);return{datasetIndex:m,element:x.data[v],index:v}});!dh(u,a)&&(this._active=u,this._lastEvent=null,this._updateHoverStyles(u,a))}notifyPlugins(s,a,u){return this._plugins.notify(this,s,a,u)}isPluginEnabled(s){return this._plugins._cache.filter(a=>a.plugin.id===s).length===1}_updateHoverStyles(s,a,u){const d=this.options.hover,m=(k,D)=>k.filter(E=>!D.some(L=>E.datasetIndex===L.datasetIndex&&E.index===L.index)),v=m(a,s),x=u?s:m(s,a);v.length&&this.updateHoverStyle(v,d.mode,!1),x.length&&d.mode&&this.updateHoverStyle(x,d.mode,!0)}_eventHandler(s,a){const u={event:s,replay:a,cancelable:!0,inChartArea:this.isPointInArea(s)},d=v=>(v.options.events||this.options.events).includes(s.native.type);if(this.notifyPlugins("beforeEvent",u,d)===!1)return;const m=this._handleEvent(s,a,u.inChartArea);return u.cancelable=!1,this.notifyPlugins("afterEvent",u,d),(m||u.changed)&&this.render(),this}_handleEvent(s,a,u){const{_active:d=[],options:m}=this,v=a,x=this._getActiveElements(s,d,u,v),k=I1(s),D=kw(s,this._lastEvent,u,k);u&&(this._lastEvent=null,ii(m.onHover,[s,x,this],this),k&&ii(m.onClick,[s,x,this],this));const E=!dh(x,d);return(E||a)&&(this._active=x,this._updateHoverStyles(x,d,a)),this._lastEvent=D,E}_getActiveElements(s,a,u,d){if(s.type==="mouseout")return[];if(!u)return a;const m=this.options.hover;return this.getElementsAtEventForMode(s,m.mode,m,d)}}ae(La,"defaults",pi),ae(La,"instances",uh),ae(La,"overrides",ho),ae(La,"registry",Js),ae(La,"version",_w),ae(La,"getChart",sg);function ag(){return Jt(La.instances,l=>l._plugins.invalidate())}function Sw(l,s,a){const{startAngle:u,x:d,y:m,outerRadius:v,innerRadius:x,options:k}=s,{borderWidth:D,borderJoinStyle:E}=k,L=Math.min(D/v,Tn(u-a));if(l.beginPath(),l.arc(d,m,v-D/2,u+L/2,a-L/2),x>0){const P=Math.min(D/x,Tn(u-a));l.arc(d,m,x+D/2,a-P/2,u+P/2,!0)}else{const P=Math.min(D/2,v*Tn(u-a));if(E==="round")l.arc(d,m,P,a-$t/2,u+$t/2,!0);else if(E==="bevel"){const H=2*P*P,U=-H*Math.cos(a+$t/2)+d,Z=-H*Math.sin(a+$t/2)+m,ee=H*Math.cos(u+$t/2)+d,K=H*Math.sin(u+$t/2)+m;l.lineTo(U,Z),l.lineTo(ee,K)}}l.closePath(),l.moveTo(0,0),l.rect(0,0,l.canvas.width,l.canvas.height),l.clip("evenodd")}function Dw(l,s,a){const{startAngle:u,pixelMargin:d,x:m,y:v,outerRadius:x,innerRadius:k}=s;let D=d/x;l.beginPath(),l.arc(m,v,x,u-D,a+D),k>d?(D=d/k,l.arc(m,v,k,a+D,u-D,!0)):l.arc(m,v,d,a+Ri,u-Ri),l.closePath(),l.clip()}function Tw(l){return Ep(l,["outerStart","outerEnd","innerStart","innerEnd"])}function Ew(l,s,a,u){const d=Tw(l.options.borderRadius),m=(a-s)/2,v=Math.min(m,u*s/2),x=k=>{const D=(a-Math.min(m,k))*u/2;return cn(k,0,Math.min(m,D))};return{outerStart:x(d.outerStart),outerEnd:x(d.outerEnd),innerStart:cn(d.innerStart,0,v),innerEnd:cn(d.innerEnd,0,v)}}function el(l,s,a,u){return{x:a+l*Math.cos(s),y:u+l*Math.sin(s)}}function vh(l,s,a,u,d,m){const{x:v,y:x,startAngle:k,pixelMargin:D,innerRadius:E}=s,L=Math.max(s.outerRadius+u+a-D,0),P=E>0?E+u+a+D:0;let H=0;const U=d-k;if(u){const ce=E>0?E-u:0,Be=L>0?L-u:0,Oe=(ce+Be)/2,Je=Oe!==0?U*Oe/(Oe+u):U;H=(U-Je)/2}const Z=Math.max(.001,U*L-a/$t)/L,ee=(U-Z)/2,K=k+ee+H,X=d-ee-H,{outerStart:oe,outerEnd:ne,innerStart:se,innerEnd:we}=Ew(s,P,L,X-K),be=L-oe,ve=L-ne,De=K+oe/be,Ge=X-ne/ve,Fe=P+se,Ue=P+we,nt=K+se/Fe,ot=X-we/Ue;if(l.beginPath(),m){const ce=(De+Ge)/2;if(l.arc(v,x,L,De,ce),l.arc(v,x,L,ce,Ge),ne>0){const mt=el(ve,Ge,v,x);l.arc(mt.x,mt.y,ne,Ge,X+Ri)}const Be=el(Ue,X,v,x);if(l.lineTo(Be.x,Be.y),we>0){const mt=el(Ue,ot,v,x);l.arc(mt.x,mt.y,we,X+Ri,ot+Math.PI)}const Oe=(X-we/P+(K+se/P))/2;if(l.arc(v,x,P,X-we/P,Oe,!0),l.arc(v,x,P,Oe,K+se/P,!0),se>0){const mt=el(Fe,nt,v,x);l.arc(mt.x,mt.y,se,nt+Math.PI,K-Ri)}const Je=el(be,K,v,x);if(l.lineTo(Je.x,Je.y),oe>0){const mt=el(be,De,v,x);l.arc(mt.x,mt.y,oe,K-Ri,De)}}else{l.moveTo(v,x);const ce=Math.cos(De)*L+v,Be=Math.sin(De)*L+x;l.lineTo(ce,Be);const Oe=Math.cos(Ge)*L+v,Je=Math.sin(Ge)*L+x;l.lineTo(Oe,Je)}l.closePath()}function Aw(l,s,a,u,d){const{fullCircles:m,startAngle:v,circumference:x}=s;let k=s.endAngle;if(m){vh(l,s,a,u,k,d);for(let D=0;D<m;++D)l.fill();isNaN(x)||(k=v+(x%fi||fi))}return vh(l,s,a,u,k,d),l.fill(),k}function Mw(l,s,a,u,d){const{fullCircles:m,startAngle:v,circumference:x,options:k}=s,{borderWidth:D,borderJoinStyle:E,borderDash:L,borderDashOffset:P,borderRadius:H}=k,U=k.borderAlign==="inner";if(!D)return;l.setLineDash(L||[]),l.lineDashOffset=P,U?(l.lineWidth=D*2,l.lineJoin=E||"round"):(l.lineWidth=D,l.lineJoin=E||"bevel");let Z=s.endAngle;if(m){vh(l,s,a,u,Z,d);for(let ee=0;ee<m;++ee)l.stroke();isNaN(x)||(Z=v+(x%fi||fi))}U&&Dw(l,s,Z),k.selfJoin&&Z-v>=$t&&H===0&&E!=="miter"&&Sw(l,s,Z),m||(vh(l,s,a,u,Z,d),l.stroke())}class il extends Ra{constructor(a){super();ae(this,"circumference");ae(this,"endAngle");ae(this,"fullCircles");ae(this,"innerRadius");ae(this,"outerRadius");ae(this,"pixelMargin");ae(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,a&&Object.assign(this,a)}inRange(a,u,d){const m=this.getProps(["x","y"],d),{angle:v,distance:x}=k0(m,{x:a,y:u}),{startAngle:k,endAngle:D,innerRadius:E,outerRadius:L,circumference:P}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],d),H=(this.options.spacing+this.options.borderWidth)/2,U=St(P,D-k),Z=Gu(v,k,D)&&k!==D,ee=U>=fi||Z,K=Oa(x,E+H,L+H);return ee&&K}getCenterPoint(a){const{x:u,y:d,startAngle:m,endAngle:v,innerRadius:x,outerRadius:k}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],a),{offset:D,spacing:E}=this.options,L=(m+v)/2,P=(x+k+E+D)/2;return{x:u+Math.cos(L)*P,y:d+Math.sin(L)*P}}tooltipPosition(a){return this.getCenterPoint(a)}draw(a){const{options:u,circumference:d}=this,m=(u.offset||0)/4,v=(u.spacing||0)/2,x=u.circular;if(this.pixelMargin=u.borderAlign==="inner"?.33:0,this.fullCircles=d>fi?Math.floor(d/fi):0,d===0||this.innerRadius<0||this.outerRadius<0)return;a.save();const k=(this.startAngle+this.endAngle)/2;a.translate(Math.cos(k)*m,Math.sin(k)*m);const D=1-Math.sin(Math.min($t,d||0)),E=m*D;a.fillStyle=u.backgroundColor,a.strokeStyle=u.borderColor,Aw(a,this,E,v,x),Mw(a,this,E,v,x),a.restore()}}ae(il,"id","arc"),ae(il,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ae(il,"defaultRoutes",{backgroundColor:"backgroundColor"}),ae(il,"descriptors",{_scriptable:!0,_indexable:a=>a!=="borderDash"});function av(l,s,a=s){l.lineCap=St(a.borderCapStyle,s.borderCapStyle),l.setLineDash(St(a.borderDash,s.borderDash)),l.lineDashOffset=St(a.borderDashOffset,s.borderDashOffset),l.lineJoin=St(a.borderJoinStyle,s.borderJoinStyle),l.lineWidth=St(a.borderWidth,s.borderWidth),l.strokeStyle=St(a.borderColor,s.borderColor)}function Fw(l,s,a){l.lineTo(a.x,a.y)}function Iw(l){return l.stepped?tx:l.tension||l.cubicInterpolationMode==="monotone"?ix:Fw}function rv(l,s,a={}){const u=l.length,{start:d=0,end:m=u-1}=a,{start:v,end:x}=s,k=Math.max(d,v),D=Math.min(m,x),E=d<v&&m<v||d>x&&m>x;return{count:u,start:k,loop:s.loop,ilen:D<k&&!E?u+D-k:D-k}}function Lw(l,s,a,u){const{points:d,options:m}=s,{count:v,start:x,loop:k,ilen:D}=rv(d,a,u),E=Iw(m);let{move:L=!0,reverse:P}=u||{},H,U,Z;for(H=0;H<=D;++H)U=d[(x+(P?D-H:H))%v],!U.skip&&(L?(l.moveTo(U.x,U.y),L=!1):E(l,Z,U,P,m.stepped),Z=U);return k&&(U=d[(x+(P?D:0))%v],E(l,Z,U,P,m.stepped)),!!k}function Ow(l,s,a,u){const d=s.points,{count:m,start:v,ilen:x}=rv(d,a,u),{move:k=!0,reverse:D}=u||{};let E=0,L=0,P,H,U,Z,ee,K;const X=ne=>(v+(D?x-ne:ne))%m,oe=()=>{Z!==ee&&(l.lineTo(E,ee),l.lineTo(E,Z),l.lineTo(E,K))};for(k&&(H=d[X(0)],l.moveTo(H.x,H.y)),P=0;P<=x;++P){if(H=d[X(P)],H.skip)continue;const ne=H.x,se=H.y,we=ne|0;we===U?(se<Z?Z=se:se>ee&&(ee=se),E=(L*E+ne)/++L):(oe(),l.lineTo(ne,se),U=we,L=0,Z=ee=se),K=se}oe()}function op(l){const s=l.options,a=s.borderDash&&s.borderDash.length;return!l._decimated&&!l._loop&&!s.tension&&s.cubicInterpolationMode!=="monotone"&&!s.stepped&&!a?Ow:Lw}function Pw(l){return l.stepped?Ox:l.tension||l.cubicInterpolationMode==="monotone"?Px:ro}function Bw(l,s,a,u){let d=s._path;d||(d=s._path=new Path2D,s.path(d,a,u)&&d.closePath()),av(l,s.options),l.stroke(d)}function Nw(l,s,a,u){const{segments:d,options:m}=s,v=op(s);for(const x of d)av(l,m,x.style),l.beginPath(),v(l,s,x,{start:a,end:a+u-1})&&l.closePath(),l.stroke()}const Rw=typeof Path2D=="function";function zw(l,s,a,u){Rw&&!s.options.segment?Bw(l,s,a,u):Nw(l,s,a,u)}class xr extends Ra{constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,a){const u=this.options;if((u.tension||u.cubicInterpolationMode==="monotone")&&!u.stepped&&!this._pointsUpdated){const d=u.spanGaps?this._loop:this._fullLoop;Dx(this._points,u,s,d,a),this._pointsUpdated=!0}}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$x(this,this.options.segment))}first(){const s=this.segments,a=this.points;return s.length&&a[s[0].start]}last(){const s=this.segments,a=this.points,u=s.length;return u&&a[s[u-1].end]}interpolate(s,a){const u=this.options,d=s[a],m=this.points,v=j0(this,{property:a,start:d,end:d});if(!v.length)return;const x=[],k=Pw(u);let D,E;for(D=0,E=v.length;D<E;++D){const{start:L,end:P}=v[D],H=m[L],U=m[P];if(H===U){x.push(H);continue}const Z=Math.abs((d-H[a])/(U[a]-H[a])),ee=k(H,U,Z,u.stepped);ee[a]=s[a],x.push(ee)}return x.length===1?x[0]:x}pathSegment(s,a,u){return op(this)(s,this,a,u)}path(s,a,u){const d=this.segments,m=op(this);let v=this._loop;a=a||0,u=u||this.points.length-a;for(const x of d)v&=m(s,this,x,{start:a,end:a+u-1});return!!v}draw(s,a,u,d){const m=this.options||{};(this.points||[]).length&&m.borderWidth&&(s.save(),zw(s,this,u,d),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ae(xr,"id","line"),ae(xr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ae(xr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ae(xr,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"&&s!=="fill"});function rg(l,s,a,u){const d=l.options,{[a]:m}=l.getProps([a],u);return Math.abs(s-m)<d.radius+d.hitRadius}class $u extends Ra{constructor(a){super();ae(this,"parsed");ae(this,"skip");ae(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,a&&Object.assign(this,a)}inRange(a,u,d){const m=this.options,{x:v,y:x}=this.getProps(["x","y"],d);return Math.pow(a-v,2)+Math.pow(u-x,2)<Math.pow(m.hitRadius+m.radius,2)}inXRange(a,u){return rg(this,a,"x",u)}inYRange(a,u){return rg(this,a,"y",u)}getCenterPoint(a){const{x:u,y:d}=this.getProps(["x","y"],a);return{x:u,y:d}}size(a){a=a||this.options||{};let u=a.radius||0;u=Math.max(u,u&&a.hoverRadius||0);const d=u&&a.borderWidth||0;return(u+d)*2}draw(a,u){const d=this.options;this.skip||d.radius<.1||!Ba(this,u,this.size(d)/2)||(a.strokeStyle=d.borderColor,a.lineWidth=d.borderWidth,a.fillStyle=d.backgroundColor,np(a,d,this.x,this.y))}getRange(){const a=this.options||{};return a.radius+a.hitRadius}}ae($u,"id","point"),ae($u,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ae($u,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ov(l,s){const{x:a,y:u,base:d,width:m,height:v}=l.getProps(["x","y","base","width","height"],s);let x,k,D,E,L;return l.horizontal?(L=v/2,x=Math.min(a,d),k=Math.max(a,d),D=u-L,E=u+L):(L=m/2,x=a-L,k=a+L,D=Math.min(u,d),E=Math.max(u,d)),{left:x,top:D,right:k,bottom:E}}function Cr(l,s,a,u){return l?0:cn(s,a,u)}function Hw(l,s,a){const u=l.options.borderWidth,d=l.borderSkipped,m=L0(u);return{t:Cr(d.top,m.top,0,a),r:Cr(d.right,m.right,0,s),b:Cr(d.bottom,m.bottom,0,a),l:Cr(d.left,m.left,0,s)}}function $w(l,s,a){const{enableBorderRadius:u}=l.getProps(["enableBorderRadius"]),d=l.options.borderRadius,m=uo(d),v=Math.min(s,a),x=l.borderSkipped,k=u||It(d);return{topLeft:Cr(!k||x.top||x.left,m.topLeft,0,v),topRight:Cr(!k||x.top||x.right,m.topRight,0,v),bottomLeft:Cr(!k||x.bottom||x.left,m.bottomLeft,0,v),bottomRight:Cr(!k||x.bottom||x.right,m.bottomRight,0,v)}}function Vw(l){const s=ov(l),a=s.right-s.left,u=s.bottom-s.top,d=Hw(l,a/2,u/2),m=$w(l,a/2,u/2);return{outer:{x:s.left,y:s.top,w:a,h:u,radius:m},inner:{x:s.left+d.l,y:s.top+d.t,w:a-d.l-d.r,h:u-d.t-d.b,radius:{topLeft:Math.max(0,m.topLeft-Math.max(d.t,d.l)),topRight:Math.max(0,m.topRight-Math.max(d.t,d.r)),bottomLeft:Math.max(0,m.bottomLeft-Math.max(d.b,d.l)),bottomRight:Math.max(0,m.bottomRight-Math.max(d.b,d.r))}}}}function Wf(l,s,a,u){const d=s===null,m=a===null,x=l&&!(d&&m)&&ov(l,u);return x&&(d||Oa(s,x.left,x.right))&&(m||Oa(a,x.top,x.bottom))}function Ww(l){return l.topLeft||l.topRight||l.bottomLeft||l.bottomRight}function jw(l,s){l.rect(s.x,s.y,s.w,s.h)}function jf(l,s,a={}){const u=l.x!==a.x?-s:0,d=l.y!==a.y?-s:0,m=(l.x+l.w!==a.x+a.w?s:0)-u,v=(l.y+l.h!==a.y+a.h?s:0)-d;return{x:l.x+u,y:l.y+d,w:l.w+m,h:l.h+v,radius:l.radius}}class Vu extends Ra{constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:a,options:{borderColor:u,backgroundColor:d}}=this,{inner:m,outer:v}=Vw(this),x=Ww(v.radius)?Xu:jw;s.save(),(v.w!==m.w||v.h!==m.h)&&(s.beginPath(),x(s,jf(v,a,m)),s.clip(),x(s,jf(m,-a,v)),s.fillStyle=u,s.fill("evenodd")),s.beginPath(),x(s,jf(m,a)),s.fillStyle=d,s.fill(),s.restore()}inRange(s,a,u){return Wf(this,s,a,u)}inXRange(s,a){return Wf(this,s,null,a)}inYRange(s,a){return Wf(this,null,s,a)}getCenterPoint(s){const{x:a,y:u,base:d,horizontal:m}=this.getProps(["x","y","base","horizontal"],s);return{x:m?(a+d)/2:a,y:m?u:(u+d)/2}}getRange(s){return s==="x"?this.width/2:this.height/2}}ae(Vu,"id","bar"),ae(Vu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ae(Vu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Uw=Object.freeze({__proto__:null,ArcElement:il,BarElement:Vu,LineElement:xr,PointElement:$u});const lp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],og=lp.map(l=>l.replace("rgb(","rgba(").replace(")",", 0.5)"));function lv(l){return lp[l%lp.length]}function uv(l){return og[l%og.length]}function qw(l,s){return l.borderColor=lv(s),l.backgroundColor=uv(s),++s}function Yw(l,s){return l.backgroundColor=l.data.map(()=>lv(s++)),s}function Gw(l,s){return l.backgroundColor=l.data.map(()=>uv(s++)),s}function Xw(l){let s=0;return(a,u)=>{const d=l.getDatasetMeta(u).controller;d instanceof lo?s=Yw(a,s):d instanceof Hu?s=Gw(a,s):d&&(s=qw(a,s))}}function lg(l){let s;for(s in l)if(l[s].borderColor||l[s].backgroundColor)return!0;return!1}function Kw(l){return l&&(l.borderColor||l.backgroundColor)}function Zw(){return pi.borderColor!=="rgba(0,0,0,0.1)"||pi.backgroundColor!=="rgba(0,0,0,0.1)"}var Jw={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(l,s,a){if(!a.enabled)return;const{data:{datasets:u},options:d}=l.config,{elements:m}=d,v=lg(u)||Kw(d)||m&&lg(m)||Zw();if(!a.forceOverride&&v)return;const x=Xw(l);u.forEach(x)}};function Qw(l,s,a,u,d){const m=d.samples||u;if(m>=a)return l.slice(s,s+a);const v=[],x=(a-2)/(m-2);let k=0;const D=s+a-1;let E=s,L,P,H,U,Z;for(v[k++]=l[E],L=0;L<m-2;L++){let ee=0,K=0,X;const oe=Math.floor((L+1)*x)+1+s,ne=Math.min(Math.floor((L+2)*x)+1,a)+s,se=ne-oe;for(X=oe;X<ne;X++)ee+=l[X].x,K+=l[X].y;ee/=se,K/=se;const we=Math.floor(L*x)+1+s,be=Math.min(Math.floor((L+1)*x)+1,a)+s,{x:ve,y:De}=l[E];for(H=U=-1,X=we;X<be;X++)U=.5*Math.abs((ve-ee)*(l[X].y-De)-(ve-l[X].x)*(K-De)),U>H&&(H=U,P=l[X],Z=X);v[k++]=P,E=Z}return v[k++]=l[D],v}function ek(l,s,a,u){let d=0,m=0,v,x,k,D,E,L,P,H,U,Z;const ee=[],K=s+a-1,X=l[s].x,ne=l[K].x-X;for(v=s;v<s+a;++v){x=l[v],k=(x.x-X)/ne*u,D=x.y;const se=k|0;if(se===E)D<U?(U=D,L=v):D>Z&&(Z=D,P=v),d=(m*d+x.x)/++m;else{const we=v-1;if(!Mt(L)&&!Mt(P)){const be=Math.min(L,P),ve=Math.max(L,P);be!==H&&be!==we&&ee.push({...l[be],x:d}),ve!==H&&ve!==we&&ee.push({...l[ve],x:d})}v>0&&we!==H&&ee.push(l[we]),ee.push(x),E=se,m=0,U=Z=D,L=P=H=v}}return ee}function cv(l){if(l._decimated){const s=l._data;delete l._decimated,delete l._data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,writable:!0,value:s})}}function ug(l){l.data.datasets.forEach(s=>{cv(s)})}function tk(l,s){const a=s.length;let u=0,d;const{iScale:m}=l,{min:v,max:x,minDefined:k,maxDefined:D}=m.getUserBounds();return k&&(u=cn(Pa(s,m.axis,v).lo,0,a-1)),D?d=cn(Pa(s,m.axis,x).hi+1,u,a)-u:d=a-u,{start:u,count:d}}var ik={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(l,s,a)=>{if(!a.enabled){ug(l);return}const u=l.width;l.data.datasets.forEach((d,m)=>{const{_data:v,indexAxis:x}=d,k=l.getDatasetMeta(m),D=v||d.data;if(di([x,l.options.indexAxis])==="y"||!k.controller.supportsDecimation)return;const E=l.scales[k.xAxisID];if(E.type!=="linear"&&E.type!=="time"||l.options.parsing)return;let{start:L,count:P}=tk(k,D);const H=a.threshold||4*u;if(P<=H){cv(d);return}Mt(v)&&(d._data=D,delete d.data,Object.defineProperty(d,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Z){this._data=Z}}));let U;switch(a.algorithm){case"lttb":U=Qw(D,L,P,u,a);break;case"min-max":U=ek(D,L,P,u);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}d._decimated=U})},destroy(l){ug(l)}};function nk(l,s,a){const u=l.segments,d=l.points,m=s.points,v=[];for(const x of u){let{start:k,end:D}=x;D=Dh(k,D,d);const E=up(a,d[k],d[D],x.loop);if(!s.segments){v.push({source:x,target:E,start:d[k],end:d[D]});continue}const L=j0(s,E);for(const P of L){const H=up(a,m[P.start],m[P.end],P.loop),U=W0(x,d,H);for(const Z of U)v.push({source:Z,target:P,start:{[a]:cg(E,H,"start",Math.max)},end:{[a]:cg(E,H,"end",Math.min)}})}}return v}function up(l,s,a,u){if(u)return;let d=s[l],m=a[l];return l==="angle"&&(d=Tn(d),m=Tn(m)),{property:l,start:d,end:m}}function sk(l,s){const{x:a=null,y:u=null}=l||{},d=s.points,m=[];return s.segments.forEach(({start:v,end:x})=>{x=Dh(v,x,d);const k=d[v],D=d[x];u!==null?(m.push({x:k.x,y:u}),m.push({x:D.x,y:u})):a!==null&&(m.push({x:a,y:k.y}),m.push({x:a,y:D.y}))}),m}function Dh(l,s,a){for(;s>l;s--){const u=a[s];if(!isNaN(u.x)&&!isNaN(u.y))break}return s}function cg(l,s,a,u){return l&&s?u(l[a],s[a]):l?l[a]:s?s[a]:0}function dv(l,s){let a=[],u=!1;return hi(l)?(u=!0,a=l):a=sk(l,s),a.length?new xr({points:a,options:{tension:0},_loop:u,_fullLoop:u}):null}function dg(l){return l&&l.fill!==!1}function ak(l,s,a){let d=l[s].fill;const m=[s];let v;if(!a)return d;for(;d!==!1&&m.indexOf(d)===-1;){if(!Ii(d))return d;if(v=l[d],!v)return!1;if(v.visible)return d;m.push(d),d=v.fill}return!1}function rk(l,s,a){const u=ck(l);if(It(u))return isNaN(u.value)?!1:u;let d=parseFloat(u);return Ii(d)&&Math.floor(d)===d?ok(u[0],s,d,a):["origin","start","end","stack","shape"].indexOf(u)>=0&&u}function ok(l,s,a,u){return(l==="-"||l==="+")&&(a=s+a),a===s||a<0||a>=u?!1:a}function lk(l,s){let a=null;return l==="start"?a=s.bottom:l==="end"?a=s.top:It(l)?a=s.getPixelForValue(l.value):s.getBasePixel&&(a=s.getBasePixel()),a}function uk(l,s,a){let u;return l==="start"?u=a:l==="end"?u=s.options.reverse?s.min:s.max:It(l)?u=l.value:u=s.getBaseValue(),u}function ck(l){const s=l.options,a=s.fill;let u=St(a&&a.target,a);return u===void 0&&(u=!!s.backgroundColor),u===!1||u===null?!1:u===!0?"origin":u}function dk(l){const{scale:s,index:a,line:u}=l,d=[],m=u.segments,v=u.points,x=hk(s,a);x.push(dv({x:null,y:s.bottom},u));for(let k=0;k<m.length;k++){const D=m[k];for(let E=D.start;E<=D.end;E++)fk(d,v[E],x)}return new xr({points:d,options:{}})}function hk(l,s){const a=[],u=l.getMatchingVisibleMetas("line");for(let d=0;d<u.length;d++){const m=u[d];if(m.index===s)break;m.hidden||a.unshift(m.dataset)}return a}function fk(l,s,a){const u=[];for(let d=0;d<a.length;d++){const m=a[d],{first:v,last:x,point:k}=pk(m,s,"x");if(!(!k||v&&x)){if(v)u.unshift(k);else if(l.push(k),!x)break}}l.push(...u)}function pk(l,s,a){const u=l.interpolate(s,a);if(!u)return{};const d=u[a],m=l.segments,v=l.points;let x=!1,k=!1;for(let D=0;D<m.length;D++){const E=m[D],L=v[E.start][a],P=v[E.end][a];if(Oa(d,L,P)){x=d===L,k=d===P;break}}return{first:x,last:k,point:u}}class hv{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,a,u){const{x:d,y:m,radius:v}=this;return a=a||{start:0,end:fi},s.arc(d,m,v,a.end,a.start,!0),!u.bounds}interpolate(s){const{x:a,y:u,radius:d}=this,m=s.angle;return{x:a+Math.cos(m)*d,y:u+Math.sin(m)*d,angle:m}}}function mk(l){const{chart:s,fill:a,line:u}=l;if(Ii(a))return gk(s,a);if(a==="stack")return dk(l);if(a==="shape")return!0;const d=vk(l);return d instanceof hv?d:dv(d,u)}function gk(l,s){const a=l.getDatasetMeta(s);return a&&l.isDatasetVisible(s)?a.dataset:null}function vk(l){return(l.scale||{}).getPointPositionForValue?yk(l):bk(l)}function bk(l){const{scale:s={},fill:a}=l,u=lk(a,s);if(Ii(u)){const d=s.isHorizontal();return{x:d?u:null,y:d?null:u}}return null}function yk(l){const{scale:s,fill:a}=l,u=s.options,d=s.getLabels().length,m=u.reverse?s.max:s.min,v=uk(a,s,m),x=[];if(u.grid.circular){const k=s.getPointPositionForValue(0,m);return new hv({x:k.x,y:k.y,radius:s.getDistanceFromCenterForValue(v)})}for(let k=0;k<d;++k)x.push(s.getPointPositionForValue(k,v));return x}function Uf(l,s,a){const u=mk(s),{chart:d,index:m,line:v,scale:x,axis:k}=s,D=v.options,E=D.fill,L=D.backgroundColor,{above:P=L,below:H=L}=E||{},U=d.getDatasetMeta(m),Z=U0(d,U);u&&v.points.length&&(Ch(l,a),_k(l,{line:v,target:u,above:P,below:H,area:a,scale:x,axis:k,clip:Z}),wh(l))}function _k(l,s){const{line:a,target:u,above:d,below:m,area:v,scale:x,clip:k}=s,D=a._loop?"angle":s.axis;l.save();let E=m;m!==d&&(D==="x"?(hg(l,u,v.top),qf(l,{line:a,target:u,color:d,scale:x,property:D,clip:k}),l.restore(),l.save(),hg(l,u,v.bottom)):D==="y"&&(fg(l,u,v.left),qf(l,{line:a,target:u,color:m,scale:x,property:D,clip:k}),l.restore(),l.save(),fg(l,u,v.right),E=d)),qf(l,{line:a,target:u,color:E,scale:x,property:D,clip:k}),l.restore()}function hg(l,s,a){const{segments:u,points:d}=s;let m=!0,v=!1;l.beginPath();for(const x of u){const{start:k,end:D}=x,E=d[k],L=d[Dh(k,D,d)];m?(l.moveTo(E.x,E.y),m=!1):(l.lineTo(E.x,a),l.lineTo(E.x,E.y)),v=!!s.pathSegment(l,x,{move:v}),v?l.closePath():l.lineTo(L.x,a)}l.lineTo(s.first().x,a),l.closePath(),l.clip()}function fg(l,s,a){const{segments:u,points:d}=s;let m=!0,v=!1;l.beginPath();for(const x of u){const{start:k,end:D}=x,E=d[k],L=d[Dh(k,D,d)];m?(l.moveTo(E.x,E.y),m=!1):(l.lineTo(a,E.y),l.lineTo(E.x,E.y)),v=!!s.pathSegment(l,x,{move:v}),v?l.closePath():l.lineTo(a,L.y)}l.lineTo(a,s.first().y),l.closePath(),l.clip()}function qf(l,s){const{line:a,target:u,property:d,color:m,scale:v,clip:x}=s,k=nk(a,u,d);for(const{source:D,target:E,start:L,end:P}of k){const{style:{backgroundColor:H=m}={}}=D,U=u!==!0;l.save(),l.fillStyle=H,xk(l,v,x,U&&up(d,L,P)),l.beginPath();const Z=!!a.pathSegment(l,D);let ee;if(U){Z?l.closePath():pg(l,u,P,d);const K=!!u.pathSegment(l,E,{move:Z,reverse:!0});ee=Z&&K,ee||pg(l,u,L,d)}l.closePath(),l.fill(ee?"evenodd":"nonzero"),l.restore()}}function xk(l,s,a,u){const d=s.chart.chartArea,{property:m,start:v,end:x}=u||{};if(m==="x"||m==="y"){let k,D,E,L;m==="x"?(k=v,D=d.top,E=x,L=d.bottom):(k=d.left,D=v,E=d.right,L=x),l.beginPath(),a&&(k=Math.max(k,a.left),E=Math.min(E,a.right),D=Math.max(D,a.top),L=Math.min(L,a.bottom)),l.rect(k,D,E-k,L-D),l.clip()}}function pg(l,s,a,u){const d=s.interpolate(a,u);d&&l.lineTo(d.x,d.y)}var Ck={id:"filler",afterDatasetsUpdate(l,s,a){const u=(l.data.datasets||[]).length,d=[];let m,v,x,k;for(v=0;v<u;++v)m=l.getDatasetMeta(v),x=m.dataset,k=null,x&&x.options&&x instanceof xr&&(k={visible:l.isDatasetVisible(v),index:v,fill:rk(x,v,u),chart:l,axis:m.controller.options.indexAxis,scale:m.vScale,line:x}),m.$filler=k,d.push(k);for(v=0;v<u;++v)k=d[v],!(!k||k.fill===!1)&&(k.fill=ak(d,v,a.propagate))},beforeDraw(l,s,a){const u=a.drawTime==="beforeDraw",d=l.getSortedVisibleDatasetMetas(),m=l.chartArea;for(let v=d.length-1;v>=0;--v){const x=d[v].$filler;x&&(x.line.updateControlPoints(m,x.axis),u&&x.fill&&Uf(l.ctx,x,m))}},beforeDatasetsDraw(l,s,a){if(a.drawTime!=="beforeDatasetsDraw")return;const u=l.getSortedVisibleDatasetMetas();for(let d=u.length-1;d>=0;--d){const m=u[d].$filler;dg(m)&&Uf(l.ctx,m,l.chartArea)}},beforeDatasetDraw(l,s,a){const u=s.meta.$filler;!dg(u)||a.drawTime!=="beforeDatasetDraw"||Uf(l.ctx,u,l.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const mg=(l,s)=>{let{boxHeight:a=s,boxWidth:u=s}=l;return l.usePointStyle&&(a=Math.min(a,s),u=l.pointStyleWidth||Math.min(u,s)),{boxWidth:u,boxHeight:a,itemHeight:Math.max(s,a)}},wk=(l,s)=>l!==null&&s!==null&&l.datasetIndex===s.datasetIndex&&l.index===s.index;class gg extends Ra{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a,u){this.maxWidth=s,this.maxHeight=a,this._margins=u,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let a=ii(s.generateLabels,[this.chart],this)||[];s.filter&&(a=a.filter(u=>s.filter(u,this.chart.data))),s.sort&&(a=a.sort((u,d)=>s.sort(u,d,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:s,ctx:a}=this;if(!s.display){this.width=this.height=0;return}const u=s.labels,d=Ui(u.font),m=d.size,v=this._computeTitleHeight(),{boxWidth:x,itemHeight:k}=mg(u,m);let D,E;a.font=d.string,this.isHorizontal()?(D=this.maxWidth,E=this._fitRows(v,m,x,k)+10):(E=this.maxHeight,D=this._fitCols(v,d,x,k)+10),this.width=Math.min(D,s.maxWidth||this.maxWidth),this.height=Math.min(E,s.maxHeight||this.maxHeight)}_fitRows(s,a,u,d){const{ctx:m,maxWidth:v,options:{labels:{padding:x}}}=this,k=this.legendHitBoxes=[],D=this.lineWidths=[0],E=d+x;let L=s;m.textAlign="left",m.textBaseline="middle";let P=-1,H=-E;return this.legendItems.forEach((U,Z)=>{const ee=u+a/2+m.measureText(U.text).width;(Z===0||D[D.length-1]+ee+2*x>v)&&(L+=E,D[D.length-(Z>0?0:1)]=0,H+=E,P++),k[Z]={left:0,top:H,row:P,width:ee,height:d},D[D.length-1]+=ee+x}),L}_fitCols(s,a,u,d){const{ctx:m,maxHeight:v,options:{labels:{padding:x}}}=this,k=this.legendHitBoxes=[],D=this.columnSizes=[],E=v-s;let L=x,P=0,H=0,U=0,Z=0;return this.legendItems.forEach((ee,K)=>{const{itemWidth:X,itemHeight:oe}=kk(u,a,m,ee,d);K>0&&H+oe+2*x>E&&(L+=P+x,D.push({width:P,height:H}),U+=P+x,Z++,P=H=0),k[K]={left:U,top:H,col:Z,width:X,height:oe},P=Math.max(P,X),H+=oe+x}),L+=P,D.push({width:P,height:H}),L}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:u,labels:{padding:d},rtl:m}}=this,v=nl(m,this.left,this.width);if(this.isHorizontal()){let x=0,k=Dn(u,this.left+d,this.right-this.lineWidths[x]);for(const D of a)x!==D.row&&(x=D.row,k=Dn(u,this.left+d,this.right-this.lineWidths[x])),D.top+=this.top+s+d,D.left=v.leftForLtr(v.x(k),D.width),k+=D.width+d}else{let x=0,k=Dn(u,this.top+s+d,this.bottom-this.columnSizes[x].height);for(const D of a)D.col!==x&&(x=D.col,k=Dn(u,this.top+s+d,this.bottom-this.columnSizes[x].height)),D.top=k,D.left+=this.left+d,D.left=v.leftForLtr(v.x(D.left),D.width),k+=D.height+d}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const s=this.ctx;Ch(s,this),this._draw(),wh(s)}}_draw(){const{options:s,columnSizes:a,lineWidths:u,ctx:d}=this,{align:m,labels:v}=s,x=pi.color,k=nl(s.rtl,this.left,this.width),D=Ui(v.font),{padding:E}=v,L=D.size,P=L/2;let H;this.drawTitle(),d.textAlign=k.textAlign("left"),d.textBaseline="middle",d.lineWidth=.5,d.font=D.string;const{boxWidth:U,boxHeight:Z,itemHeight:ee}=mg(v,L),K=function(we,be,ve){if(isNaN(U)||U<=0||isNaN(Z)||Z<0)return;d.save();const De=St(ve.lineWidth,1);if(d.fillStyle=St(ve.fillStyle,x),d.lineCap=St(ve.lineCap,"butt"),d.lineDashOffset=St(ve.lineDashOffset,0),d.lineJoin=St(ve.lineJoin,"miter"),d.lineWidth=De,d.strokeStyle=St(ve.strokeStyle,x),d.setLineDash(St(ve.lineDash,[])),v.usePointStyle){const Ge={radius:Z*Math.SQRT2/2,pointStyle:ve.pointStyle,rotation:ve.rotation,borderWidth:De},Fe=k.xPlus(we,U/2),Ue=be+P;I0(d,Ge,Fe,Ue,v.pointStyleWidth&&U)}else{const Ge=be+Math.max((L-Z)/2,0),Fe=k.leftForLtr(we,U),Ue=uo(ve.borderRadius);d.beginPath(),Object.values(Ue).some(nt=>nt!==0)?Xu(d,{x:Fe,y:Ge,w:U,h:Z,radius:Ue}):d.rect(Fe,Ge,U,Z),d.fill(),De!==0&&d.stroke()}d.restore()},X=function(we,be,ve){fo(d,ve.text,we,be+ee/2,D,{strikethrough:ve.hidden,textAlign:k.textAlign(ve.textAlign)})},oe=this.isHorizontal(),ne=this._computeTitleHeight();oe?H={x:Dn(m,this.left+E,this.right-u[0]),y:this.top+E+ne,line:0}:H={x:this.left+E,y:Dn(m,this.top+ne+E,this.bottom-a[0].height),line:0},H0(this.ctx,s.textDirection);const se=ee+E;this.legendItems.forEach((we,be)=>{d.strokeStyle=we.fontColor,d.fillStyle=we.fontColor;const ve=d.measureText(we.text).width,De=k.textAlign(we.textAlign||(we.textAlign=v.textAlign)),Ge=U+P+ve;let Fe=H.x,Ue=H.y;k.setWidth(this.width),oe?be>0&&Fe+Ge+E>this.right&&(Ue=H.y+=se,H.line++,Fe=H.x=Dn(m,this.left+E,this.right-u[H.line])):be>0&&Ue+se>this.bottom&&(Fe=H.x=Fe+a[H.line].width+E,H.line++,Ue=H.y=Dn(m,this.top+ne+E,this.bottom-a[H.line].height));const nt=k.x(Fe);if(K(nt,Ue,we),Fe=j1(De,Fe+U+P,oe?Fe+Ge:this.right,s.rtl),X(k.x(Fe),Ue,we),oe)H.x+=Ge+E;else if(typeof we.text!="string"){const ot=D.lineHeight;H.y+=fv(we,ot)+E}else H.y+=se}),$0(this.ctx,s.textDirection)}drawTitle(){const s=this.options,a=s.title,u=Ui(a.font),d=bn(a.padding);if(!a.display)return;const m=nl(s.rtl,this.left,this.width),v=this.ctx,x=a.position,k=u.size/2,D=d.top+k;let E,L=this.left,P=this.width;if(this.isHorizontal())P=Math.max(...this.lineWidths),E=this.top+D,L=Dn(s.align,L,this.right-P);else{const U=this.columnSizes.reduce((Z,ee)=>Math.max(Z,ee.height),0);E=D+Dn(s.align,this.top,this.bottom-U-s.labels.padding-this._computeTitleHeight())}const H=Dn(x,L,L+P);v.textAlign=m.textAlign(Dp(x)),v.textBaseline="middle",v.strokeStyle=a.color,v.fillStyle=a.color,v.font=u.string,fo(v,a.text,H,E,u)}_computeTitleHeight(){const s=this.options.title,a=Ui(s.font),u=bn(s.padding);return s.display?a.lineHeight+u.height:0}_getLegendItemAt(s,a){let u,d,m;if(Oa(s,this.left,this.right)&&Oa(a,this.top,this.bottom)){for(m=this.legendHitBoxes,u=0;u<m.length;++u)if(d=m[u],Oa(s,d.left,d.left+d.width)&&Oa(a,d.top,d.top+d.height))return this.legendItems[u]}return null}handleEvent(s){const a=this.options;if(!Tk(s.type,a))return;const u=this._getLegendItemAt(s.x,s.y);if(s.type==="mousemove"||s.type==="mouseout"){const d=this._hoveredItem,m=wk(d,u);d&&!m&&ii(a.onLeave,[s,d,this],this),this._hoveredItem=u,u&&!m&&ii(a.onHover,[s,u,this],this)}else u&&ii(a.onClick,[s,u,this],this)}}function kk(l,s,a,u,d){const m=Sk(u,l,s,a),v=Dk(d,u,s.lineHeight);return{itemWidth:m,itemHeight:v}}function Sk(l,s,a,u){let d=l.text;return d&&typeof d!="string"&&(d=d.reduce((m,v)=>m.length>v.length?m:v)),s+a.size/2+u.measureText(d).width}function Dk(l,s,a){let u=l;return typeof s.text!="string"&&(u=fv(s,a)),u}function fv(l,s){const a=l.text?l.text.length:0;return s*a}function Tk(l,s){return!!((l==="mousemove"||l==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(l==="click"||l==="mouseup"))}var Ek={id:"legend",_element:gg,start(l,s,a){const u=l.legend=new gg({ctx:l.ctx,options:a,chart:l});En.configure(l,u,a),En.addBox(l,u)},stop(l){En.removeBox(l,l.legend),delete l.legend},beforeUpdate(l,s,a){const u=l.legend;En.configure(l,u,a),u.options=a},afterUpdate(l){const s=l.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(l,s){s.replay||l.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(l,s,a){const u=s.datasetIndex,d=a.chart;d.isDatasetVisible(u)?(d.hide(u),s.hidden=!0):(d.show(u),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:l=>l.chart.options.color,boxWidth:40,padding:10,generateLabels(l){const s=l.data.datasets,{labels:{usePointStyle:a,pointStyle:u,textAlign:d,color:m,useBorderRadius:v,borderRadius:x}}=l.legend.options;return l._getSortedDatasetMetas().map(k=>{const D=k.controller.getStyle(a?0:void 0),E=bn(D.borderWidth);return{text:s[k.index].label,fillStyle:D.backgroundColor,fontColor:m,hidden:!k.visible,lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:(E.width+E.height)/4,strokeStyle:D.borderColor,pointStyle:u||D.pointStyle,rotation:D.rotation,textAlign:d||D.textAlign,borderRadius:v&&(x||D.borderRadius),datasetIndex:k.index}},this)}},title:{color:l=>l.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:l=>!l.startsWith("on"),labels:{_scriptable:l=>!["generateLabels","filter","sort"].includes(l)}}};class Pp extends Ra{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a){const u=this.options;if(this.left=0,this.top=0,!u.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=s,this.height=this.bottom=a;const d=hi(u.text)?u.text.length:1;this._padding=bn(u.padding);const m=d*Ui(u.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=m:this.width=m}isHorizontal(){const s=this.options.position;return s==="top"||s==="bottom"}_drawArgs(s){const{top:a,left:u,bottom:d,right:m,options:v}=this,x=v.align;let k=0,D,E,L;return this.isHorizontal()?(E=Dn(x,u,m),L=a+s,D=m-u):(v.position==="left"?(E=u+s,L=Dn(x,d,a),k=$t*-.5):(E=m-s,L=Dn(x,a,d),k=$t*.5),D=d-a),{titleX:E,titleY:L,maxWidth:D,rotation:k}}draw(){const s=this.ctx,a=this.options;if(!a.display)return;const u=Ui(a.font),m=u.lineHeight/2+this._padding.top,{titleX:v,titleY:x,maxWidth:k,rotation:D}=this._drawArgs(m);fo(s,a.text,0,0,u,{color:a.color,maxWidth:k,rotation:D,textAlign:Dp(a.align),textBaseline:"middle",translation:[v,x]})}}function Ak(l,s){const a=new Pp({ctx:l.ctx,options:s,chart:l});En.configure(l,a,s),En.addBox(l,a),l.titleBlock=a}var Mk={id:"title",_element:Pp,start(l,s,a){Ak(l,a)},stop(l){const s=l.titleBlock;En.removeBox(l,s),delete l.titleBlock},beforeUpdate(l,s,a){const u=l.titleBlock;En.configure(l,u,a),u.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gd=new WeakMap;var Fk={id:"subtitle",start(l,s,a){const u=new Pp({ctx:l.ctx,options:a,chart:l});En.configure(l,u,a),En.addBox(l,u),Gd.set(l,u)},stop(l){En.removeBox(l,Gd.get(l)),Gd.delete(l)},beforeUpdate(l,s,a){const u=Gd.get(l);En.configure(l,u,a),u.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ou={average(l){if(!l.length)return!1;let s,a,u=new Set,d=0,m=0;for(s=0,a=l.length;s<a;++s){const x=l[s].element;if(x&&x.hasValue()){const k=x.tooltipPosition();u.add(k.x),d+=k.y,++m}}return m===0||u.size===0?!1:{x:[...u].reduce((x,k)=>x+k)/u.size,y:d/m}},nearest(l,s){if(!l.length)return!1;let a=s.x,u=s.y,d=Number.POSITIVE_INFINITY,m,v,x;for(m=0,v=l.length;m<v;++m){const k=l[m].element;if(k&&k.hasValue()){const D=k.getCenterPoint(),E=tp(s,D);E<d&&(d=E,x=k)}}if(x){const k=x.tooltipPosition();a=k.x,u=k.y}return{x:a,y:u}}};function Zs(l,s){return s&&(hi(s)?Array.prototype.push.apply(l,s):l.push(s)),l}function Fa(l){return(typeof l=="string"||l instanceof String)&&l.indexOf(`
`)>-1?l.split(`
`):l}function Ik(l,s){const{element:a,datasetIndex:u,index:d}=s,m=l.getDatasetMeta(u).controller,{label:v,value:x}=m.getLabelAndValue(d);return{chart:l,label:v,parsed:m.getParsed(d),raw:l.data.datasets[u].data[d],formattedValue:x,dataset:m.getDataset(),dataIndex:d,datasetIndex:u,element:a}}function vg(l,s){const a=l.chart.ctx,{body:u,footer:d,title:m}=l,{boxWidth:v,boxHeight:x}=s,k=Ui(s.bodyFont),D=Ui(s.titleFont),E=Ui(s.footerFont),L=m.length,P=d.length,H=u.length,U=bn(s.padding);let Z=U.height,ee=0,K=u.reduce((ne,se)=>ne+se.before.length+se.lines.length+se.after.length,0);if(K+=l.beforeBody.length+l.afterBody.length,L&&(Z+=L*D.lineHeight+(L-1)*s.titleSpacing+s.titleMarginBottom),K){const ne=s.displayColors?Math.max(x,k.lineHeight):k.lineHeight;Z+=H*ne+(K-H)*k.lineHeight+(K-1)*s.bodySpacing}P&&(Z+=s.footerMarginTop+P*E.lineHeight+(P-1)*s.footerSpacing);let X=0;const oe=function(ne){ee=Math.max(ee,a.measureText(ne).width+X)};return a.save(),a.font=D.string,Jt(l.title,oe),a.font=k.string,Jt(l.beforeBody.concat(l.afterBody),oe),X=s.displayColors?v+2+s.boxPadding:0,Jt(u,ne=>{Jt(ne.before,oe),Jt(ne.lines,oe),Jt(ne.after,oe)}),X=0,a.font=E.string,Jt(l.footer,oe),a.restore(),ee+=U.width,{width:ee,height:Z}}function Lk(l,s){const{y:a,height:u}=s;return a<u/2?"top":a>l.height-u/2?"bottom":"center"}function Ok(l,s,a,u){const{x:d,width:m}=u,v=a.caretSize+a.caretPadding;if(l==="left"&&d+m+v>s.width||l==="right"&&d-m-v<0)return!0}function Pk(l,s,a,u){const{x:d,width:m}=a,{width:v,chartArea:{left:x,right:k}}=l;let D="center";return u==="center"?D=d<=(x+k)/2?"left":"right":d<=m/2?D="left":d>=v-m/2&&(D="right"),Ok(D,l,s,a)&&(D="center"),D}function bg(l,s,a){const u=a.yAlign||s.yAlign||Lk(l,a);return{xAlign:a.xAlign||s.xAlign||Pk(l,s,a,u),yAlign:u}}function Bk(l,s){let{x:a,width:u}=l;return s==="right"?a-=u:s==="center"&&(a-=u/2),a}function Nk(l,s,a){let{y:u,height:d}=l;return s==="top"?u+=a:s==="bottom"?u-=d+a:u-=d/2,u}function yg(l,s,a,u){const{caretSize:d,caretPadding:m,cornerRadius:v}=l,{xAlign:x,yAlign:k}=a,D=d+m,{topLeft:E,topRight:L,bottomLeft:P,bottomRight:H}=uo(v);let U=Bk(s,x);const Z=Nk(s,k,D);return k==="center"?x==="left"?U+=D:x==="right"&&(U-=D):x==="left"?U-=Math.max(E,P)+d:x==="right"&&(U+=Math.max(L,H)+d),{x:cn(U,0,u.width-s.width),y:cn(Z,0,u.height-s.height)}}function Xd(l,s,a){const u=bn(a.padding);return s==="center"?l.x+l.width/2:s==="right"?l.x+l.width-u.right:l.x+u.left}function _g(l){return Zs([],Fa(l))}function Rk(l,s,a){return Dr(l,{tooltip:s,tooltipItems:a,type:"tooltip"})}function xg(l,s){const a=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return a?l.override(a):l}const pv={beforeTitle:Aa,title(l){if(l.length>0){const s=l[0],a=s.chart.data.labels,u=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return s.dataset.label||"";if(s.label)return s.label;if(u>0&&s.dataIndex<u)return a[s.dataIndex]}return""},afterTitle:Aa,beforeBody:Aa,beforeLabel:Aa,label(l){if(this&&this.options&&this.options.mode==="dataset")return l.label+": "+l.formattedValue||l.formattedValue;let s=l.dataset.label||"";s&&(s+=": ");const a=l.formattedValue;return Mt(a)||(s+=a),s},labelColor(l){const a=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(l){const a=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Aa,afterBody:Aa,beforeFooter:Aa,footer:Aa,afterFooter:Aa};function Rn(l,s,a,u){const d=l[s].call(a,u);return typeof d>"u"?pv[s].call(a,u):d}class cp extends Ra{constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const a=this.chart,u=this.options.setContext(this.getContext()),d=u.enabled&&a.options.animation&&u.animations,m=new q0(this.chart,d);return d._cacheable&&(this._cachedAnimations=Object.freeze(m)),m}getContext(){return this.$context||(this.$context=Rk(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,a){const{callbacks:u}=a,d=Rn(u,"beforeTitle",this,s),m=Rn(u,"title",this,s),v=Rn(u,"afterTitle",this,s);let x=[];return x=Zs(x,Fa(d)),x=Zs(x,Fa(m)),x=Zs(x,Fa(v)),x}getBeforeBody(s,a){return _g(Rn(a.callbacks,"beforeBody",this,s))}getBody(s,a){const{callbacks:u}=a,d=[];return Jt(s,m=>{const v={before:[],lines:[],after:[]},x=xg(u,m);Zs(v.before,Fa(Rn(x,"beforeLabel",this,m))),Zs(v.lines,Rn(x,"label",this,m)),Zs(v.after,Fa(Rn(x,"afterLabel",this,m))),d.push(v)}),d}getAfterBody(s,a){return _g(Rn(a.callbacks,"afterBody",this,s))}getFooter(s,a){const{callbacks:u}=a,d=Rn(u,"beforeFooter",this,s),m=Rn(u,"footer",this,s),v=Rn(u,"afterFooter",this,s);let x=[];return x=Zs(x,Fa(d)),x=Zs(x,Fa(m)),x=Zs(x,Fa(v)),x}_createItems(s){const a=this._active,u=this.chart.data,d=[],m=[],v=[];let x=[],k,D;for(k=0,D=a.length;k<D;++k)x.push(Ik(this.chart,a[k]));return s.filter&&(x=x.filter((E,L,P)=>s.filter(E,L,P,u))),s.itemSort&&(x=x.sort((E,L)=>s.itemSort(E,L,u))),Jt(x,E=>{const L=xg(s.callbacks,E);d.push(Rn(L,"labelColor",this,E)),m.push(Rn(L,"labelPointStyle",this,E)),v.push(Rn(L,"labelTextColor",this,E))}),this.labelColors=d,this.labelPointStyles=m,this.labelTextColors=v,this.dataPoints=x,x}update(s,a){const u=this.options.setContext(this.getContext()),d=this._active;let m,v=[];if(!d.length)this.opacity!==0&&(m={opacity:0});else{const x=Ou[u.position].call(this,d,this._eventPosition);v=this._createItems(u),this.title=this.getTitle(v,u),this.beforeBody=this.getBeforeBody(v,u),this.body=this.getBody(v,u),this.afterBody=this.getAfterBody(v,u),this.footer=this.getFooter(v,u);const k=this._size=vg(this,u),D=Object.assign({},x,k),E=bg(this.chart,u,D),L=yg(u,D,E,this.chart);this.xAlign=E.xAlign,this.yAlign=E.yAlign,m={opacity:1,x:L.x,y:L.y,width:k.width,height:k.height,caretX:x.x,caretY:x.y}}this._tooltipItems=v,this.$context=void 0,m&&this._resolveAnimations().update(this,m),s&&u.external&&u.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(s,a,u,d){const m=this.getCaretPosition(s,u,d);a.lineTo(m.x1,m.y1),a.lineTo(m.x2,m.y2),a.lineTo(m.x3,m.y3)}getCaretPosition(s,a,u){const{xAlign:d,yAlign:m}=this,{caretSize:v,cornerRadius:x}=u,{topLeft:k,topRight:D,bottomLeft:E,bottomRight:L}=uo(x),{x:P,y:H}=s,{width:U,height:Z}=a;let ee,K,X,oe,ne,se;return m==="center"?(ne=H+Z/2,d==="left"?(ee=P,K=ee-v,oe=ne+v,se=ne-v):(ee=P+U,K=ee+v,oe=ne-v,se=ne+v),X=ee):(d==="left"?K=P+Math.max(k,E)+v:d==="right"?K=P+U-Math.max(D,L)-v:K=this.caretX,m==="top"?(oe=H,ne=oe-v,ee=K-v,X=K+v):(oe=H+Z,ne=oe+v,ee=K+v,X=K-v),se=oe),{x1:ee,x2:K,x3:X,y1:oe,y2:ne,y3:se}}drawTitle(s,a,u){const d=this.title,m=d.length;let v,x,k;if(m){const D=nl(u.rtl,this.x,this.width);for(s.x=Xd(this,u.titleAlign,u),a.textAlign=D.textAlign(u.titleAlign),a.textBaseline="middle",v=Ui(u.titleFont),x=u.titleSpacing,a.fillStyle=u.titleColor,a.font=v.string,k=0;k<m;++k)a.fillText(d[k],D.x(s.x),s.y+v.lineHeight/2),s.y+=v.lineHeight+x,k+1===m&&(s.y+=u.titleMarginBottom-x)}}_drawColorBox(s,a,u,d,m){const v=this.labelColors[u],x=this.labelPointStyles[u],{boxHeight:k,boxWidth:D}=m,E=Ui(m.bodyFont),L=Xd(this,"left",m),P=d.x(L),H=k<E.lineHeight?(E.lineHeight-k)/2:0,U=a.y+H;if(m.usePointStyle){const Z={radius:Math.min(D,k)/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:1},ee=d.leftForLtr(P,D)+D/2,K=U+k/2;s.strokeStyle=m.multiKeyBackground,s.fillStyle=m.multiKeyBackground,np(s,Z,ee,K),s.strokeStyle=v.borderColor,s.fillStyle=v.backgroundColor,np(s,Z,ee,K)}else{s.lineWidth=It(v.borderWidth)?Math.max(...Object.values(v.borderWidth)):v.borderWidth||1,s.strokeStyle=v.borderColor,s.setLineDash(v.borderDash||[]),s.lineDashOffset=v.borderDashOffset||0;const Z=d.leftForLtr(P,D),ee=d.leftForLtr(d.xPlus(P,1),D-2),K=uo(v.borderRadius);Object.values(K).some(X=>X!==0)?(s.beginPath(),s.fillStyle=m.multiKeyBackground,Xu(s,{x:Z,y:U,w:D,h:k,radius:K}),s.fill(),s.stroke(),s.fillStyle=v.backgroundColor,s.beginPath(),Xu(s,{x:ee,y:U+1,w:D-2,h:k-2,radius:K}),s.fill()):(s.fillStyle=m.multiKeyBackground,s.fillRect(Z,U,D,k),s.strokeRect(Z,U,D,k),s.fillStyle=v.backgroundColor,s.fillRect(ee,U+1,D-2,k-2))}s.fillStyle=this.labelTextColors[u]}drawBody(s,a,u){const{body:d}=this,{bodySpacing:m,bodyAlign:v,displayColors:x,boxHeight:k,boxWidth:D,boxPadding:E}=u,L=Ui(u.bodyFont);let P=L.lineHeight,H=0;const U=nl(u.rtl,this.x,this.width),Z=function(ve){a.fillText(ve,U.x(s.x+H),s.y+P/2),s.y+=P+m},ee=U.textAlign(v);let K,X,oe,ne,se,we,be;for(a.textAlign=v,a.textBaseline="middle",a.font=L.string,s.x=Xd(this,ee,u),a.fillStyle=u.bodyColor,Jt(this.beforeBody,Z),H=x&&ee!=="right"?v==="center"?D/2+E:D+2+E:0,ne=0,we=d.length;ne<we;++ne){for(K=d[ne],X=this.labelTextColors[ne],a.fillStyle=X,Jt(K.before,Z),oe=K.lines,x&&oe.length&&(this._drawColorBox(a,s,ne,U,u),P=Math.max(L.lineHeight,k)),se=0,be=oe.length;se<be;++se)Z(oe[se]),P=L.lineHeight;Jt(K.after,Z)}H=0,P=L.lineHeight,Jt(this.afterBody,Z),s.y-=m}drawFooter(s,a,u){const d=this.footer,m=d.length;let v,x;if(m){const k=nl(u.rtl,this.x,this.width);for(s.x=Xd(this,u.footerAlign,u),s.y+=u.footerMarginTop,a.textAlign=k.textAlign(u.footerAlign),a.textBaseline="middle",v=Ui(u.footerFont),a.fillStyle=u.footerColor,a.font=v.string,x=0;x<m;++x)a.fillText(d[x],k.x(s.x),s.y+v.lineHeight/2),s.y+=v.lineHeight+u.footerSpacing}}drawBackground(s,a,u,d){const{xAlign:m,yAlign:v}=this,{x,y:k}=s,{width:D,height:E}=u,{topLeft:L,topRight:P,bottomLeft:H,bottomRight:U}=uo(d.cornerRadius);a.fillStyle=d.backgroundColor,a.strokeStyle=d.borderColor,a.lineWidth=d.borderWidth,a.beginPath(),a.moveTo(x+L,k),v==="top"&&this.drawCaret(s,a,u,d),a.lineTo(x+D-P,k),a.quadraticCurveTo(x+D,k,x+D,k+P),v==="center"&&m==="right"&&this.drawCaret(s,a,u,d),a.lineTo(x+D,k+E-U),a.quadraticCurveTo(x+D,k+E,x+D-U,k+E),v==="bottom"&&this.drawCaret(s,a,u,d),a.lineTo(x+H,k+E),a.quadraticCurveTo(x,k+E,x,k+E-H),v==="center"&&m==="left"&&this.drawCaret(s,a,u,d),a.lineTo(x,k+L),a.quadraticCurveTo(x,k,x+L,k),a.closePath(),a.fill(),d.borderWidth>0&&a.stroke()}_updateAnimationTarget(s){const a=this.chart,u=this.$animations,d=u&&u.x,m=u&&u.y;if(d||m){const v=Ou[s.position].call(this,this._active,this._eventPosition);if(!v)return;const x=this._size=vg(this,s),k=Object.assign({},v,this._size),D=bg(a,s,k),E=yg(s,k,D,a);(d._to!==E.x||m._to!==E.y)&&(this.xAlign=D.xAlign,this.yAlign=D.yAlign,this.width=x.width,this.height=x.height,this.caretX=v.x,this.caretY=v.y,this._resolveAnimations().update(this,E))}}_willRender(){return!!this.opacity}draw(s){const a=this.options.setContext(this.getContext());let u=this.opacity;if(!u)return;this._updateAnimationTarget(a);const d={width:this.width,height:this.height},m={x:this.x,y:this.y};u=Math.abs(u)<.001?0:u;const v=bn(a.padding),x=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&x&&(s.save(),s.globalAlpha=u,this.drawBackground(m,s,d,a),H0(s,a.textDirection),m.y+=v.top,this.drawTitle(m,s,a),this.drawBody(m,s,a),this.drawFooter(m,s,a),$0(s,a.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,a){const u=this._active,d=s.map(({datasetIndex:x,index:k})=>{const D=this.chart.getDatasetMeta(x);if(!D)throw new Error("Cannot find a dataset at index "+x);return{datasetIndex:x,element:D.data[k],index:k}}),m=!dh(u,d),v=this._positionChanged(d,a);(m||v)&&(this._active=d,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,a,u=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const d=this.options,m=this._active||[],v=this._getActiveElements(s,m,a,u),x=this._positionChanged(v,s),k=a||!dh(v,m)||x;return k&&(this._active=v,(d.enabled||d.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,a))),k}_getActiveElements(s,a,u,d){const m=this.options;if(s.type==="mouseout")return[];if(!d)return a.filter(x=>this.chart.data.datasets[x.datasetIndex]&&this.chart.getDatasetMeta(x.datasetIndex).controller.getParsed(x.index)!==void 0);const v=this.chart.getElementsAtEventForMode(s,m.mode,m,u);return m.reverse&&v.reverse(),v}_positionChanged(s,a){const{caretX:u,caretY:d,options:m}=this,v=Ou[m.position].call(this,s,a);return v!==!1&&(u!==v.x||d!==v.y)}}ae(cp,"positioners",Ou);var zk={id:"tooltip",_element:cp,positioners:Ou,afterInit(l,s,a){a&&(l.tooltip=new cp({chart:l,options:a}))},beforeUpdate(l,s,a){l.tooltip&&l.tooltip.initialize(a)},reset(l,s,a){l.tooltip&&l.tooltip.initialize(a)},afterDraw(l){const s=l.tooltip;if(s&&s._willRender()){const a={tooltip:s};if(l.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;s.draw(l.ctx),l.notifyPlugins("afterTooltipDraw",a)}},afterEvent(l,s){if(l.tooltip){const a=s.replay;l.tooltip.handleEvent(s.event,a,s.inChartArea)&&(s.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(l,s)=>s.bodyFont.size,boxWidth:(l,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:l=>l!=="filter"&&l!=="itemSort"&&l!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Hk=Object.freeze({__proto__:null,Colors:Jw,Decimation:ik,Filler:Ck,Legend:Ek,SubTitle:Fk,Title:Mk,Tooltip:zk});const $k=(l,s,a,u)=>(typeof s=="string"?(a=l.push(s)-1,u.unshift({index:a,label:s})):isNaN(s)&&(a=null),a);function Vk(l,s,a,u){const d=l.indexOf(s);if(d===-1)return $k(l,s,a,u);const m=l.lastIndexOf(s);return d!==m?a:d}const Wk=(l,s)=>l===null?null:cn(Math.round(l),0,s);function Cg(l){const s=this.getLabels();return l>=0&&l<s.length?s[l]:l}class dp extends po{constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const a=this._addedLabels;if(a.length){const u=this.getLabels();for(const{index:d,label:m}of a)u[d]===m&&u.splice(d,1);this._addedLabels=[]}super.init(s)}parse(s,a){if(Mt(s))return null;const u=this.getLabels();return a=isFinite(a)&&u[a]===s?a:Vk(u,s,St(a,s),this._addedLabels),Wk(a,u.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:a}=this.getUserBounds();let{min:u,max:d}=this.getMinMax(!0);this.options.bounds==="ticks"&&(s||(u=0),a||(d=this.getLabels().length-1)),this.min=u,this.max=d}buildTicks(){const s=this.min,a=this.max,u=this.options.offset,d=[];let m=this.getLabels();m=s===0&&a===m.length-1?m:m.slice(s,a+1),this._valueRange=Math.max(m.length-(u?0:1),1),this._startValue=this.min-(u?.5:0);for(let v=s;v<=a;v++)d.push({value:v});return d}getLabelForValue(s){return Cg.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return typeof s!="number"&&(s=this.parse(s)),s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}ae(dp,"id","category"),ae(dp,"defaults",{ticks:{callback:Cg}});function jk(l,s){const a=[],{bounds:d,step:m,min:v,max:x,precision:k,count:D,maxTicks:E,maxDigits:L,includeBounds:P}=l,H=m||1,U=E-1,{min:Z,max:ee}=s,K=!Mt(v),X=!Mt(x),oe=!Mt(D),ne=(ee-Z)/(L+1);let se=vm((ee-Z)/U/H)*H,we,be,ve,De;if(se<1e-14&&!K&&!X)return[{value:Z},{value:ee}];De=Math.ceil(ee/se)-Math.floor(Z/se),De>U&&(se=vm(De*se/U/H)*H),Mt(k)||(we=Math.pow(10,k),se=Math.ceil(se*we)/we),d==="ticks"?(be=Math.floor(Z/se)*se,ve=Math.ceil(ee/se)*se):(be=Z,ve=ee),K&&X&&m&&N1((x-v)/m,se/1e3)?(De=Math.round(Math.min((x-v)/se,E)),se=(x-v)/De,be=v,ve=x):oe?(be=K?v:be,ve=X?x:ve,De=D-1,se=(ve-be)/De):(De=(ve-be)/se,Nu(De,Math.round(De),se/1e3)?De=Math.round(De):De=Math.ceil(De));const Ge=Math.max(bm(se),bm(be));we=Math.pow(10,Mt(k)?Ge:k),be=Math.round(be*we)/we,ve=Math.round(ve*we)/we;let Fe=0;for(K&&(P&&be!==v?(a.push({value:v}),be<v&&Fe++,Nu(Math.round((be+Fe*se)*we)/we,v,wg(v,ne,l))&&Fe++):be<v&&Fe++);Fe<De;++Fe){const Ue=Math.round((be+Fe*se)*we)/we;if(X&&Ue>x)break;a.push({value:Ue})}return X&&P&&ve!==x?a.length&&Nu(a[a.length-1].value,x,wg(x,ne,l))?a[a.length-1].value=x:a.push({value:x}):(!X||ve===x)&&a.push({value:ve}),a}function wg(l,s,{horizontal:a,minRotation:u}){const d=As(u),m=(a?Math.sin(d):Math.cos(d))||.001,v=.75*s*(""+l).length;return Math.min(s/m,v)}class bh extends po{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,a){return Mt(s)||(typeof s=="number"||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:a,maxDefined:u}=this.getUserBounds();let{min:d,max:m}=this;const v=k=>d=a?d:k,x=k=>m=u?m:k;if(s){const k=ta(d),D=ta(m);k<0&&D<0?x(0):k>0&&D>0&&v(0)}if(d===m){let k=m===0?1:Math.abs(m*.05);x(m+k),s||v(d-k)}this.min=d,this.max=m}getTickLimit(){const s=this.options.ticks;let{maxTicksLimit:a,stepSize:u}=s,d;return u?(d=Math.ceil(this.max/u)-Math.floor(this.min/u)+1,d>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${u} would result generating up to ${d} ticks. Limiting to 1000.`),d=1e3)):(d=this.computeTickLimit(),a=a||11),a&&(d=Math.min(a,d)),d}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,a=s.ticks;let u=this.getTickLimit();u=Math.max(2,u);const d={maxTicks:u,bounds:s.bounds,min:s.min,max:s.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},m=this._range||this,v=jk(d,m);return s.bounds==="ticks"&&w0(v,this,"value"),s.reverse?(v.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),v}configure(){const s=this.ticks;let a=this.min,u=this.max;if(super.configure(),this.options.offset&&s.length){const d=(u-a)/Math.max(s.length-1,1)/2;a-=d,u+=d}this._startValue=a,this._endValue=u,this._valueRange=u-a}getLabelForValue(s){return ec(s,this.chart.options.locale,this.options.ticks.format)}}class hp extends bh{determineDataLimits(){const{min:s,max:a}=this.getMinMax(!0);this.min=Ii(s)?s:0,this.max=Ii(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),a=s?this.width:this.height,u=As(this.options.ticks.minRotation),d=(s?Math.sin(u):Math.cos(u))||.001,m=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,m.lineHeight/d))}getPixelForValue(s){return s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}}ae(hp,"id","linear"),ae(hp,"defaults",{ticks:{callback:xh.formatters.numeric}});const Zu=l=>Math.floor(_r(l)),so=(l,s)=>Math.pow(10,Zu(l)+s);function kg(l){return l/Math.pow(10,Zu(l))===1}function Sg(l,s,a){const u=Math.pow(10,a),d=Math.floor(l/u);return Math.ceil(s/u)-d}function Uk(l,s){const a=s-l;let u=Zu(a);for(;Sg(l,s,u)>10;)u++;for(;Sg(l,s,u)<10;)u--;return Math.min(u,Zu(l))}function qk(l,{min:s,max:a}){s=Zn(l.min,s);const u=[],d=Zu(s);let m=Uk(s,a),v=m<0?Math.pow(10,Math.abs(m)):1;const x=Math.pow(10,m),k=d>m?Math.pow(10,d):0,D=Math.round((s-k)*v)/v,E=Math.floor((s-k)/x/10)*x*10;let L=Math.floor((D-E)/Math.pow(10,m)),P=Zn(l.min,Math.round((k+E+L*Math.pow(10,m))*v)/v);for(;P<a;)u.push({value:P,major:kg(P),significand:L}),L>=10?L=L<15?15:20:L++,L>=20&&(m++,L=2,v=m>=0?1:v),P=Math.round((k+E+L*Math.pow(10,m))*v)/v;const H=Zn(l.max,P);return u.push({value:H,major:kg(H),significand:L}),u}class fp extends po{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,a){const u=bh.prototype.parse.apply(this,[s,a]);if(u===0){this._zero=!0;return}return Ii(u)&&u>0?u:null}determineDataLimits(){const{min:s,max:a}=this.getMinMax(!0);this.min=Ii(s)?Math.max(0,s):null,this.max=Ii(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ii(this._userMin)&&(this.min=s===so(this.min,0)?so(this.min,-1):so(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:s,maxDefined:a}=this.getUserBounds();let u=this.min,d=this.max;const m=x=>u=s?u:x,v=x=>d=a?d:x;u===d&&(u<=0?(m(1),v(10)):(m(so(u,-1)),v(so(d,1)))),u<=0&&m(so(d,-1)),d<=0&&v(so(u,1)),this.min=u,this.max=d}buildTicks(){const s=this.options,a={min:this._userMin,max:this._userMax},u=qk(a,this);return s.bounds==="ticks"&&w0(u,this,"value"),s.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}getLabelForValue(s){return s===void 0?"0":ec(s,this.chart.options.locale,this.options.ticks.format)}configure(){const s=this.min;super.configure(),this._startValue=_r(s),this._valueRange=_r(this.max)-_r(s)}getPixelForValue(s){return(s===void 0||s===0)&&(s=this.min),s===null||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(_r(s)-this._startValue)/this._valueRange)}getValueForPixel(s){const a=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+a*this._valueRange)}}ae(fp,"id","logarithmic"),ae(fp,"defaults",{ticks:{callback:xh.formatters.logarithmic,major:{enabled:!0}}});function pp(l){const s=l.ticks;if(s.display&&l.display){const a=bn(s.backdropPadding);return St(s.font&&s.font.size,pi.font.size)+a.height}return 0}function Yk(l,s,a){return a=hi(a)?a:[a],{w:ex(l,s.string,a),h:a.length*s.lineHeight}}function Dg(l,s,a,u,d){return l===u||l===d?{start:s-a/2,end:s+a/2}:l<u||l>d?{start:s-a,end:s}:{start:s,end:s+a}}function Gk(l){const s={l:l.left+l._padding.left,r:l.right-l._padding.right,t:l.top+l._padding.top,b:l.bottom-l._padding.bottom},a=Object.assign({},s),u=[],d=[],m=l._pointLabels.length,v=l.options.pointLabels,x=v.centerPointLabels?$t/m:0;for(let k=0;k<m;k++){const D=v.setContext(l.getPointLabelContext(k));d[k]=D.padding;const E=l.getPointPosition(k,l.drawingArea+d[k],x),L=Ui(D.font),P=Yk(l.ctx,L,l._pointLabels[k]);u[k]=P;const H=Tn(l.getIndexAngle(k)+x),U=Math.round(kp(H)),Z=Dg(U,E.x,P.w,0,180),ee=Dg(U,E.y,P.h,90,270);Xk(a,s,H,Z,ee)}l.setCenterPoint(s.l-a.l,a.r-s.r,s.t-a.t,a.b-s.b),l._pointLabelItems=Jk(l,u,d)}function Xk(l,s,a,u,d){const m=Math.abs(Math.sin(a)),v=Math.abs(Math.cos(a));let x=0,k=0;u.start<s.l?(x=(s.l-u.start)/m,l.l=Math.min(l.l,s.l-x)):u.end>s.r&&(x=(u.end-s.r)/m,l.r=Math.max(l.r,s.r+x)),d.start<s.t?(k=(s.t-d.start)/v,l.t=Math.min(l.t,s.t-k)):d.end>s.b&&(k=(d.end-s.b)/v,l.b=Math.max(l.b,s.b+k))}function Kk(l,s,a){const u=l.drawingArea,{extra:d,additionalAngle:m,padding:v,size:x}=a,k=l.getPointPosition(s,u+d+v,m),D=Math.round(kp(Tn(k.angle+Ri))),E=t4(k.y,x.h,D),L=Qk(D),P=e4(k.x,x.w,L);return{visible:!0,x:k.x,y:E,textAlign:L,left:P,top:E,right:P+x.w,bottom:E+x.h}}function Zk(l,s){if(!s)return!0;const{left:a,top:u,right:d,bottom:m}=l;return!(Ba({x:a,y:u},s)||Ba({x:a,y:m},s)||Ba({x:d,y:u},s)||Ba({x:d,y:m},s))}function Jk(l,s,a){const u=[],d=l._pointLabels.length,m=l.options,{centerPointLabels:v,display:x}=m.pointLabels,k={extra:pp(m)/2,additionalAngle:v?$t/d:0};let D;for(let E=0;E<d;E++){k.padding=a[E],k.size=s[E];const L=Kk(l,E,k);u.push(L),x==="auto"&&(L.visible=Zk(L,D),L.visible&&(D=L))}return u}function Qk(l){return l===0||l===180?"center":l<180?"left":"right"}function e4(l,s,a){return a==="right"?l-=s:a==="center"&&(l-=s/2),l}function t4(l,s,a){return a===90||a===270?l-=s/2:(a>270||a<90)&&(l-=s),l}function i4(l,s,a){const{left:u,top:d,right:m,bottom:v}=a,{backdropColor:x}=s;if(!Mt(x)){const k=uo(s.borderRadius),D=bn(s.backdropPadding);l.fillStyle=x;const E=u-D.left,L=d-D.top,P=m-u+D.width,H=v-d+D.height;Object.values(k).some(U=>U!==0)?(l.beginPath(),Xu(l,{x:E,y:L,w:P,h:H,radius:k}),l.fill()):l.fillRect(E,L,P,H)}}function n4(l,s){const{ctx:a,options:{pointLabels:u}}=l;for(let d=s-1;d>=0;d--){const m=l._pointLabelItems[d];if(!m.visible)continue;const v=u.setContext(l.getPointLabelContext(d));i4(a,v,m);const x=Ui(v.font),{x:k,y:D,textAlign:E}=m;fo(a,l._pointLabels[d],k,D+x.lineHeight/2,x,{color:v.color,textAlign:E,textBaseline:"middle"})}}function mv(l,s,a,u){const{ctx:d}=l;if(a)d.arc(l.xCenter,l.yCenter,s,0,fi);else{let m=l.getPointPosition(0,s);d.moveTo(m.x,m.y);for(let v=1;v<u;v++)m=l.getPointPosition(v,s),d.lineTo(m.x,m.y)}}function s4(l,s,a,u,d){const m=l.ctx,v=s.circular,{color:x,lineWidth:k}=s;!v&&!u||!x||!k||a<0||(m.save(),m.strokeStyle=x,m.lineWidth=k,m.setLineDash(d.dash||[]),m.lineDashOffset=d.dashOffset,m.beginPath(),mv(l,a,v,u),m.closePath(),m.stroke(),m.restore())}function a4(l,s,a){return Dr(l,{label:a,index:s,type:"pointLabel"})}class Pu extends bh{constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const s=this._padding=bn(pp(this.options)/2),a=this.width=this.maxWidth-s.width,u=this.height=this.maxHeight-s.height;this.xCenter=Math.floor(this.left+a/2+s.left),this.yCenter=Math.floor(this.top+u/2+s.top),this.drawingArea=Math.floor(Math.min(a,u)/2)}determineDataLimits(){const{min:s,max:a}=this.getMinMax(!1);this.min=Ii(s)&&!isNaN(s)?s:0,this.max=Ii(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pp(this.options))}generateTickLabels(s){bh.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((a,u)=>{const d=ii(this.options.pointLabels.callback,[a,u],this);return d||d===0?d:""}).filter((a,u)=>this.chart.getDataVisibility(u))}fit(){const s=this.options;s.display&&s.pointLabels.display?Gk(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(s,a,u,d){this.xCenter+=Math.floor((s-a)/2),this.yCenter+=Math.floor((u-d)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(s,a,u,d))}getIndexAngle(s){const a=fi/(this._pointLabels.length||1),u=this.options.startAngle||0;return Tn(s*a+As(u))}getDistanceFromCenterForValue(s){if(Mt(s))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*a:(s-this.min)*a}getValueForDistanceFromCenter(s){if(Mt(s))return NaN;const a=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(s){const a=this._pointLabels||[];if(s>=0&&s<a.length){const u=a[s];return a4(this.getContext(),s,u)}}getPointPosition(s,a,u=0){const d=this.getIndexAngle(s)-Ri+u;return{x:Math.cos(d)*a+this.xCenter,y:Math.sin(d)*a+this.yCenter,angle:d}}getPointPositionForValue(s,a){return this.getPointPosition(s,this.getDistanceFromCenterForValue(a))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){const{left:a,top:u,right:d,bottom:m}=this._pointLabelItems[s];return{left:a,top:u,right:d,bottom:m}}drawBackground(){const{backgroundColor:s,grid:{circular:a}}=this.options;if(s){const u=this.ctx;u.save(),u.beginPath(),mv(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),u.closePath(),u.fillStyle=s,u.fill(),u.restore()}}drawGrid(){const s=this.ctx,a=this.options,{angleLines:u,grid:d,border:m}=a,v=this._pointLabels.length;let x,k,D;if(a.pointLabels.display&&n4(this,v),d.display&&this.ticks.forEach((E,L)=>{if(L!==0||L===0&&this.min<0){k=this.getDistanceFromCenterForValue(E.value);const P=this.getContext(L),H=d.setContext(P),U=m.setContext(P);s4(this,H,k,v,U)}}),u.display){for(s.save(),x=v-1;x>=0;x--){const E=u.setContext(this.getPointLabelContext(x)),{color:L,lineWidth:P}=E;!P||!L||(s.lineWidth=P,s.strokeStyle=L,s.setLineDash(E.borderDash),s.lineDashOffset=E.borderDashOffset,k=this.getDistanceFromCenterForValue(a.reverse?this.min:this.max),D=this.getPointPosition(x,k),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(D.x,D.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){const s=this.ctx,a=this.options,u=a.ticks;if(!u.display)return;const d=this.getIndexAngle(0);let m,v;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(d),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((x,k)=>{if(k===0&&this.min>=0&&!a.reverse)return;const D=u.setContext(this.getContext(k)),E=Ui(D.font);if(m=this.getDistanceFromCenterForValue(this.ticks[k].value),D.showLabelBackdrop){s.font=E.string,v=s.measureText(x.label).width,s.fillStyle=D.backdropColor;const L=bn(D.backdropPadding);s.fillRect(-v/2-L.left,-m-E.size/2-L.top,v+L.width,E.size+L.height)}fo(s,x.label,0,-m,E,{color:D.color,strokeColor:D.textStrokeColor,strokeWidth:D.textStrokeWidth})}),s.restore()}drawTitle(){}}ae(Pu,"id","radialLinear"),ae(Pu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:xh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(s){return s},padding:5,centerPointLabels:!1}}),ae(Pu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ae(Pu,"descriptors",{angleLines:{_fallback:"grid"}});const Th={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hn=Object.keys(Th);function Tg(l,s){return l-s}function Eg(l,s){if(Mt(s))return null;const a=l._adapter,{parser:u,round:d,isoWeekday:m}=l._parseOpts;let v=s;return typeof u=="function"&&(v=u(v)),Ii(v)||(v=typeof u=="string"?a.parse(v,u):a.parse(v)),v===null?null:(d&&(v=d==="week"&&(sl(m)||m===!0)?a.startOf(v,"isoWeek",m):a.startOf(v,d)),+v)}function Ag(l,s,a,u){const d=Hn.length;for(let m=Hn.indexOf(l);m<d-1;++m){const v=Th[Hn[m]],x=v.steps?v.steps:Number.MAX_SAFE_INTEGER;if(v.common&&Math.ceil((a-s)/(x*v.size))<=u)return Hn[m]}return Hn[d-1]}function r4(l,s,a,u,d){for(let m=Hn.length-1;m>=Hn.indexOf(a);m--){const v=Hn[m];if(Th[v].common&&l._adapter.diff(d,u,v)>=s-1)return v}return Hn[a?Hn.indexOf(a):0]}function o4(l){for(let s=Hn.indexOf(l)+1,a=Hn.length;s<a;++s)if(Th[Hn[s]].common)return Hn[s]}function Mg(l,s,a){if(!a)l[s]=!0;else if(a.length){const{lo:u,hi:d}=Sp(a,s),m=a[u]>=s?a[u]:a[d];l[m]=!0}}function l4(l,s,a,u){const d=l._adapter,m=+d.startOf(s[0].value,u),v=s[s.length-1].value;let x,k;for(x=m;x<=v;x=+d.add(x,1,u))k=a[x],k>=0&&(s[k].major=!0);return s}function Fg(l,s,a){const u=[],d={},m=s.length;let v,x;for(v=0;v<m;++v)x=s[v],d[x]=v,u.push({value:x,major:!1});return m===0||!a?u:l4(l,u,d,a)}class Ju extends po{constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,a={}){const u=s.time||(s.time={}),d=this._adapter=new X0._date(s.adapters.date);d.init(a),Bu(u.displayFormats,d.formats()),this._parseOpts={parser:u.parser,round:u.round,isoWeekday:u.isoWeekday},super.init(s),this._normalized=a.normalized}parse(s,a){return s===void 0?null:Eg(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,a=this._adapter,u=s.time.unit||"day";let{min:d,max:m,minDefined:v,maxDefined:x}=this.getUserBounds();function k(D){!v&&!isNaN(D.min)&&(d=Math.min(d,D.min)),!x&&!isNaN(D.max)&&(m=Math.max(m,D.max))}(!v||!x)&&(k(this._getLabelBounds()),(s.bounds!=="ticks"||s.ticks.source!=="labels")&&k(this.getMinMax(!1))),d=Ii(d)&&!isNaN(d)?d:+a.startOf(Date.now(),u),m=Ii(m)&&!isNaN(m)?m:+a.endOf(Date.now(),u)+1,this.min=Math.min(d,m-1),this.max=Math.max(d+1,m)}_getLabelBounds(){const s=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;return s.length&&(a=s[0],u=s[s.length-1]),{min:a,max:u}}buildTicks(){const s=this.options,a=s.time,u=s.ticks,d=u.source==="labels"?this.getLabelTimestamps():this._generate();s.bounds==="ticks"&&d.length&&(this.min=this._userMin||d[0],this.max=this._userMax||d[d.length-1]);const m=this.min,v=this.max,x=$1(d,m,v);return this._unit=a.unit||(u.autoSkip?Ag(a.minUnit,this.min,this.max,this._getLabelCapacity(m)):r4(this,x.length,a.minUnit,this.min,this.max)),this._majorUnit=!u.major.enabled||this._unit==="year"?void 0:o4(this._unit),this.initOffsets(d),s.reverse&&x.reverse(),Fg(this,x,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let a=0,u=0,d,m;this.options.offset&&s.length&&(d=this.getDecimalForValue(s[0]),s.length===1?a=1-d:a=(this.getDecimalForValue(s[1])-d)/2,m=this.getDecimalForValue(s[s.length-1]),s.length===1?u=m:u=(m-this.getDecimalForValue(s[s.length-2]))/2);const v=s.length<3?.5:.25;a=cn(a,0,v),u=cn(u,0,v),this._offsets={start:a,end:u,factor:1/(a+1+u)}}_generate(){const s=this._adapter,a=this.min,u=this.max,d=this.options,m=d.time,v=m.unit||Ag(m.minUnit,a,u,this._getLabelCapacity(a)),x=St(d.ticks.stepSize,1),k=v==="week"?m.isoWeekday:!1,D=sl(k)||k===!0,E={};let L=a,P,H;if(D&&(L=+s.startOf(L,"isoWeek",k)),L=+s.startOf(L,D?"day":v),s.diff(u,a,v)>1e5*x)throw new Error(a+" and "+u+" are too far apart with stepSize of "+x+" "+v);const U=d.ticks.source==="data"&&this.getDataTimestamps();for(P=L,H=0;P<u;P=+s.add(P,x,v),H++)Mg(E,P,U);return(P===u||d.bounds==="ticks"||H===1)&&Mg(E,P,U),Object.keys(E).sort(Tg).map(Z=>+Z)}getLabelForValue(s){const a=this._adapter,u=this.options.time;return u.tooltipFormat?a.format(s,u.tooltipFormat):a.format(s,u.displayFormats.datetime)}format(s,a){const d=this.options.time.displayFormats,m=this._unit,v=a||d[m];return this._adapter.format(s,v)}_tickFormatFunction(s,a,u,d){const m=this.options,v=m.ticks.callback;if(v)return ii(v,[s,a,u],this);const x=m.time.displayFormats,k=this._unit,D=this._majorUnit,E=k&&x[k],L=D&&x[D],P=u[a],H=D&&L&&P&&P.major;return this._adapter.format(s,d||(H?L:E))}generateTickLabels(s){let a,u,d;for(a=0,u=s.length;a<u;++a)d=s[a],d.label=this._tickFormatFunction(d.value,a,s)}getDecimalForValue(s){return s===null?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const a=this._offsets,u=this.getDecimalForValue(s);return this.getPixelForDecimal((a.start+u)*a.factor)}getValueForPixel(s){const a=this._offsets,u=this.getDecimalForPixel(s)/a.factor-a.end;return this.min+u*(this.max-this.min)}_getLabelSize(s){const a=this.options.ticks,u=this.ctx.measureText(s).width,d=As(this.isHorizontal()?a.maxRotation:a.minRotation),m=Math.cos(d),v=Math.sin(d),x=this._resolveTickFontOptions(0).size;return{w:u*m+x*v,h:u*v+x*m}}_getLabelCapacity(s){const a=this.options.time,u=a.displayFormats,d=u[a.unit]||u.millisecond,m=this._tickFormatFunction(s,0,Fg(this,[s],this._majorUnit),d),v=this._getLabelSize(m),x=Math.floor(this.isHorizontal()?this.width/v.w:this.height/v.h)-1;return x>0?x:1}getDataTimestamps(){let s=this._cache.data||[],a,u;if(s.length)return s;const d=this.getMatchingVisibleMetas();if(this._normalized&&d.length)return this._cache.data=d[0].controller.getAllParsedValues(this);for(a=0,u=d.length;a<u;++a)s=s.concat(d[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let a,u;if(s.length)return s;const d=this.getLabels();for(a=0,u=d.length;a<u;++a)s.push(Eg(this,d[a]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return D0(s.sort(Tg))}}ae(Ju,"id","time"),ae(Ju,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Kd(l,s,a){let u=0,d=l.length-1,m,v,x,k;a?(s>=l[u].pos&&s<=l[d].pos&&({lo:u,hi:d}=Pa(l,"pos",s)),{pos:m,time:x}=l[u],{pos:v,time:k}=l[d]):(s>=l[u].time&&s<=l[d].time&&({lo:u,hi:d}=Pa(l,"time",s)),{time:m,pos:x}=l[u],{time:v,pos:k}=l[d]);const D=v-m;return D?x+(k-x)*(s-m)/D:x}class mp extends Ju{constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(s);this._minPos=Kd(a,this.min),this._tableRange=Kd(a,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:a,max:u}=this,d=[],m=[];let v,x,k,D,E;for(v=0,x=s.length;v<x;++v)D=s[v],D>=a&&D<=u&&d.push(D);if(d.length<2)return[{time:a,pos:0},{time:u,pos:1}];for(v=0,x=d.length;v<x;++v)E=d[v+1],k=d[v-1],D=d[v],Math.round((E+k)/2)!==D&&m.push({time:D,pos:v/(x-1)});return m}_generate(){const s=this.min,a=this.max;let u=super.getDataTimestamps();return(!u.includes(s)||!u.length)&&u.splice(0,0,s),(!u.includes(a)||u.length===1)&&u.push(a),u.sort((d,m)=>d-m)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const a=this.getDataTimestamps(),u=this.getLabelTimestamps();return a.length&&u.length?s=this.normalize(a.concat(u)):s=a.length?a:u,s=this._cache.all=s,s}getDecimalForValue(s){return(Kd(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const a=this._offsets,u=this.getDecimalForPixel(s)/a.factor-a.end;return Kd(this._table,u*this._tableRange+this._minPos,!0)}}ae(mp,"id","timeseries"),ae(mp,"defaults",Ju.defaults);var u4=Object.freeze({__proto__:null,CategoryScale:dp,LinearScale:hp,LogarithmicScale:fp,RadialLinearScale:Pu,TimeScale:Ju,TimeSeriesScale:mp});const c4=[gC,Uw,Hk,u4],gv=6048e5,d4=864e5,tc=6e4,ic=36e5,h4=1e3,Ig=Symbol.for("constructDateFrom");function Li(l,s){return typeof l=="function"?l(s):l&&typeof l=="object"&&Ig in l?l[Ig](s):l instanceof Date?new l.constructor(s):new Date(s)}function Tt(l,s){return Li(s||l,l)}function Eh(l,s,a){const u=Tt(l,a==null?void 0:a.in);return isNaN(s)?Li((a==null?void 0:a.in)||l,NaN):(s&&u.setDate(u.getDate()+s),u)}function Bp(l,s,a){const u=Tt(l,a==null?void 0:a.in);if(isNaN(s))return Li(l,NaN);if(!s)return u;const d=u.getDate(),m=Li(l,u.getTime());m.setMonth(u.getMonth()+s+1,0);const v=m.getDate();return d>=v?m:(u.setFullYear(m.getFullYear(),m.getMonth(),d),u)}function Np(l,s,a){return Li(l,+Tt(l)+s)}function f4(l,s,a){return Np(l,s*ic)}let p4={};function mo(){return p4}function na(l,s){var x,k,D,E;const a=mo(),u=(s==null?void 0:s.weekStartsOn)??((k=(x=s==null?void 0:s.locale)==null?void 0:x.options)==null?void 0:k.weekStartsOn)??a.weekStartsOn??((E=(D=a.locale)==null?void 0:D.options)==null?void 0:E.weekStartsOn)??0,d=Tt(l,s==null?void 0:s.in),m=d.getDay(),v=(m<u?7:0)+m-u;return d.setDate(d.getDate()-v),d.setHours(0,0,0,0),d}function ol(l,s){return na(l,{...s,weekStartsOn:1})}function vv(l,s){const a=Tt(l,s==null?void 0:s.in),u=a.getFullYear(),d=Li(a,0);d.setFullYear(u+1,0,4),d.setHours(0,0,0,0);const m=ol(d),v=Li(a,0);v.setFullYear(u,0,4),v.setHours(0,0,0,0);const x=ol(v);return a.getTime()>=m.getTime()?u+1:a.getTime()>=x.getTime()?u:u-1}function yh(l){const s=Tt(l),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+l-+a}function go(l,...s){const a=Li.bind(null,s.find(u=>typeof u=="object"));return s.map(a)}function gp(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setHours(0,0,0,0),a}function bv(l,s,a){const[u,d]=go(a==null?void 0:a.in,l,s),m=gp(u),v=gp(d),x=+m-yh(m),k=+v-yh(v);return Math.round((x-k)/d4)}function m4(l,s){const a=vv(l,s),u=Li(l,0);return u.setFullYear(a,0,4),u.setHours(0,0,0,0),ol(u)}function g4(l,s,a){const u=Tt(l,a==null?void 0:a.in);return u.setTime(u.getTime()+s*tc),u}function v4(l,s,a){return Bp(l,s*3,a)}function b4(l,s,a){return Np(l,s*1e3)}function y4(l,s,a){return Eh(l,s*7,a)}function _4(l,s,a){return Bp(l,s*12,a)}function Wu(l,s){const a=+Tt(l)-+Tt(s);return a<0?-1:a>0?1:a}function x4(l){return l instanceof Date||typeof l=="object"&&Object.prototype.toString.call(l)==="[object Date]"}function yv(l){return!(!x4(l)&&typeof l!="number"||isNaN(+Tt(l)))}function C4(l,s,a){const[u,d]=go(a==null?void 0:a.in,l,s),m=u.getFullYear()-d.getFullYear(),v=u.getMonth()-d.getMonth();return m*12+v}function w4(l,s,a){const[u,d]=go(a==null?void 0:a.in,l,s);return u.getFullYear()-d.getFullYear()}function _v(l,s,a){const[u,d]=go(a==null?void 0:a.in,l,s),m=Lg(u,d),v=Math.abs(bv(u,d));u.setDate(u.getDate()-m*v);const x=+(Lg(u,d)===-m),k=m*(v-x);return k===0?0:k}function Lg(l,s){const a=l.getFullYear()-s.getFullYear()||l.getMonth()-s.getMonth()||l.getDate()-s.getDate()||l.getHours()-s.getHours()||l.getMinutes()-s.getMinutes()||l.getSeconds()-s.getSeconds()||l.getMilliseconds()-s.getMilliseconds();return a<0?-1:a>0?1:a}function nc(l){return s=>{const u=(l?Math[l]:Math.trunc)(s);return u===0?0:u}}function k4(l,s,a){const[u,d]=go(a==null?void 0:a.in,l,s),m=(+u-+d)/ic;return nc(a==null?void 0:a.roundingMethod)(m)}function Rp(l,s){return+Tt(l)-+Tt(s)}function S4(l,s,a){const u=Rp(l,s)/tc;return nc(a==null?void 0:a.roundingMethod)(u)}function xv(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setHours(23,59,59,999),a}function Cv(l,s){const a=Tt(l,s==null?void 0:s.in),u=a.getMonth();return a.setFullYear(a.getFullYear(),u+1,0),a.setHours(23,59,59,999),a}function D4(l,s){const a=Tt(l,s==null?void 0:s.in);return+xv(a,s)==+Cv(a,s)}function wv(l,s,a){const[u,d,m]=go(a==null?void 0:a.in,l,l,s),v=Wu(d,m),x=Math.abs(C4(d,m));if(x<1)return 0;d.getMonth()===1&&d.getDate()>27&&d.setDate(30),d.setMonth(d.getMonth()-v*x);let k=Wu(d,m)===-v;D4(u)&&x===1&&Wu(u,m)===1&&(k=!1);const D=v*(x-+k);return D===0?0:D}function T4(l,s,a){const u=wv(l,s,a)/3;return nc(a==null?void 0:a.roundingMethod)(u)}function E4(l,s,a){const u=Rp(l,s)/1e3;return nc(a==null?void 0:a.roundingMethod)(u)}function A4(l,s,a){const u=_v(l,s,a)/7;return nc(a==null?void 0:a.roundingMethod)(u)}function M4(l,s,a){const[u,d]=go(a==null?void 0:a.in,l,s),m=Wu(u,d),v=Math.abs(w4(u,d));u.setFullYear(1584),d.setFullYear(1584);const x=Wu(u,d)===-m,k=m*(v-+x);return k===0?0:k}function F4(l,s){const a=Tt(l,s==null?void 0:s.in),u=a.getMonth(),d=u-u%3;return a.setMonth(d,1),a.setHours(0,0,0,0),a}function I4(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setDate(1),a.setHours(0,0,0,0),a}function L4(l,s){const a=Tt(l,s==null?void 0:s.in),u=a.getFullYear();return a.setFullYear(u+1,0,0),a.setHours(23,59,59,999),a}function kv(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function O4(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setMinutes(59,59,999),a}function P4(l,s){var x,k;const a=mo(),u=a.weekStartsOn??((k=(x=a.locale)==null?void 0:x.options)==null?void 0:k.weekStartsOn)??0,d=Tt(l,s==null?void 0:s.in),m=d.getDay(),v=(m<u?-7:0)+6-(m-u);return d.setDate(d.getDate()+v),d.setHours(23,59,59,999),d}function B4(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setSeconds(59,999),a}function N4(l,s){const a=Tt(l,s==null?void 0:s.in),u=a.getMonth(),d=u-u%3+3;return a.setMonth(d,0),a.setHours(23,59,59,999),a}function R4(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setMilliseconds(999),a}const z4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H4=(l,s,a)=>{let u;const d=z4[l];return typeof d=="string"?u=d:s===1?u=d.one:u=d.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+u:u+" ago":u};function Yf(l){return(s={})=>{const a=s.width?String(s.width):l.defaultWidth;return l.formats[a]||l.formats[l.defaultWidth]}}const $4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},V4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j4={date:Yf({formats:$4,defaultWidth:"full"}),time:Yf({formats:V4,defaultWidth:"full"}),dateTime:Yf({formats:W4,defaultWidth:"full"})},U4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q4=(l,s,a,u)=>U4[l];function Tu(l){return(s,a)=>{const u=a!=null&&a.context?String(a.context):"standalone";let d;if(u==="formatting"&&l.formattingValues){const v=l.defaultFormattingWidth||l.defaultWidth,x=a!=null&&a.width?String(a.width):v;d=l.formattingValues[x]||l.formattingValues[v]}else{const v=l.defaultWidth,x=a!=null&&a.width?String(a.width):l.defaultWidth;d=l.values[x]||l.values[v]}const m=l.argumentCallback?l.argumentCallback(s):s;return d[m]}}const Y4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},K4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Z4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},J4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q4=(l,s)=>{const a=Number(l),u=a%100;if(u>20||u<10)switch(u%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},eS={ordinalNumber:Q4,era:Tu({values:Y4,defaultWidth:"wide"}),quarter:Tu({values:G4,defaultWidth:"wide",argumentCallback:l=>l-1}),month:Tu({values:X4,defaultWidth:"wide"}),day:Tu({values:K4,defaultWidth:"wide"}),dayPeriod:Tu({values:Z4,defaultWidth:"wide",formattingValues:J4,defaultFormattingWidth:"wide"})};function Eu(l){return(s,a={})=>{const u=a.width,d=u&&l.matchPatterns[u]||l.matchPatterns[l.defaultMatchWidth],m=s.match(d);if(!m)return null;const v=m[0],x=u&&l.parsePatterns[u]||l.parsePatterns[l.defaultParseWidth],k=Array.isArray(x)?iS(x,L=>L.test(v)):tS(x,L=>L.test(v));let D;D=l.valueCallback?l.valueCallback(k):k,D=a.valueCallback?a.valueCallback(D):D;const E=s.slice(v.length);return{value:D,rest:E}}}function tS(l,s){for(const a in l)if(Object.prototype.hasOwnProperty.call(l,a)&&s(l[a]))return a}function iS(l,s){for(let a=0;a<l.length;a++)if(s(l[a]))return a}function nS(l){return(s,a={})=>{const u=s.match(l.matchPattern);if(!u)return null;const d=u[0],m=s.match(l.parsePattern);if(!m)return null;let v=l.valueCallback?l.valueCallback(m[0]):m[0];v=a.valueCallback?a.valueCallback(v):v;const x=s.slice(d.length);return{value:v,rest:x}}}const sS=/^(\d+)(th|st|nd|rd)?/i,aS=/\d+/i,rS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oS={any:[/^b/i,/^(a|c)/i]},lS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uS={any:[/1/i,/2/i,/3/i,/4/i]},cS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gS={ordinalNumber:nS({matchPattern:sS,parsePattern:aS,valueCallback:l=>parseInt(l,10)}),era:Eu({matchPatterns:rS,defaultMatchWidth:"wide",parsePatterns:oS,defaultParseWidth:"any"}),quarter:Eu({matchPatterns:lS,defaultMatchWidth:"wide",parsePatterns:uS,defaultParseWidth:"any",valueCallback:l=>l+1}),month:Eu({matchPatterns:cS,defaultMatchWidth:"wide",parsePatterns:dS,defaultParseWidth:"any"}),day:Eu({matchPatterns:hS,defaultMatchWidth:"wide",parsePatterns:fS,defaultParseWidth:"any"}),dayPeriod:Eu({matchPatterns:pS,defaultMatchWidth:"any",parsePatterns:mS,defaultParseWidth:"any"})},Sv={code:"en-US",formatDistance:H4,formatLong:j4,formatRelative:q4,localize:eS,match:gS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vS(l,s){const a=Tt(l,s==null?void 0:s.in);return bv(a,kv(a))+1}function Dv(l,s){const a=Tt(l,s==null?void 0:s.in),u=+ol(a)-+m4(a);return Math.round(u/gv)+1}function zp(l,s){var E,L,P,H;const a=Tt(l,s==null?void 0:s.in),u=a.getFullYear(),d=mo(),m=(s==null?void 0:s.firstWeekContainsDate)??((L=(E=s==null?void 0:s.locale)==null?void 0:E.options)==null?void 0:L.firstWeekContainsDate)??d.firstWeekContainsDate??((H=(P=d.locale)==null?void 0:P.options)==null?void 0:H.firstWeekContainsDate)??1,v=Li((s==null?void 0:s.in)||l,0);v.setFullYear(u+1,0,m),v.setHours(0,0,0,0);const x=na(v,s),k=Li((s==null?void 0:s.in)||l,0);k.setFullYear(u,0,m),k.setHours(0,0,0,0);const D=na(k,s);return+a>=+x?u+1:+a>=+D?u:u-1}function bS(l,s){var x,k,D,E;const a=mo(),u=(s==null?void 0:s.firstWeekContainsDate)??((k=(x=s==null?void 0:s.locale)==null?void 0:x.options)==null?void 0:k.firstWeekContainsDate)??a.firstWeekContainsDate??((E=(D=a.locale)==null?void 0:D.options)==null?void 0:E.firstWeekContainsDate)??1,d=zp(l,s),m=Li((s==null?void 0:s.in)||l,0);return m.setFullYear(d,0,u),m.setHours(0,0,0,0),na(m,s)}function Tv(l,s){const a=Tt(l,s==null?void 0:s.in),u=+na(a,s)-+bS(a,s);return Math.round(u/gv)+1}function ei(l,s){const a=l<0?"-":"",u=Math.abs(l).toString().padStart(s,"0");return a+u}const br={y(l,s){const a=l.getFullYear(),u=a>0?a:1-a;return ei(s==="yy"?u%100:u,s.length)},M(l,s){const a=l.getMonth();return s==="M"?String(a+1):ei(a+1,2)},d(l,s){return ei(l.getDate(),s.length)},a(l,s){const a=l.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(l,s){return ei(l.getHours()%12||12,s.length)},H(l,s){return ei(l.getHours(),s.length)},m(l,s){return ei(l.getMinutes(),s.length)},s(l,s){return ei(l.getSeconds(),s.length)},S(l,s){const a=s.length,u=l.getMilliseconds(),d=Math.trunc(u*Math.pow(10,a-3));return ei(d,s.length)}},tl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Og={G:function(l,s,a){const u=l.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(u,{width:"abbreviated"});case"GGGGG":return a.era(u,{width:"narrow"});case"GGGG":default:return a.era(u,{width:"wide"})}},y:function(l,s,a){if(s==="yo"){const u=l.getFullYear(),d=u>0?u:1-u;return a.ordinalNumber(d,{unit:"year"})}return br.y(l,s)},Y:function(l,s,a,u){const d=zp(l,u),m=d>0?d:1-d;if(s==="YY"){const v=m%100;return ei(v,2)}return s==="Yo"?a.ordinalNumber(m,{unit:"year"}):ei(m,s.length)},R:function(l,s){const a=vv(l);return ei(a,s.length)},u:function(l,s){const a=l.getFullYear();return ei(a,s.length)},Q:function(l,s,a){const u=Math.ceil((l.getMonth()+1)/3);switch(s){case"Q":return String(u);case"QQ":return ei(u,2);case"Qo":return a.ordinalNumber(u,{unit:"quarter"});case"QQQ":return a.quarter(u,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(u,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(u,{width:"wide",context:"formatting"})}},q:function(l,s,a){const u=Math.ceil((l.getMonth()+1)/3);switch(s){case"q":return String(u);case"qq":return ei(u,2);case"qo":return a.ordinalNumber(u,{unit:"quarter"});case"qqq":return a.quarter(u,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(u,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(u,{width:"wide",context:"standalone"})}},M:function(l,s,a){const u=l.getMonth();switch(s){case"M":case"MM":return br.M(l,s);case"Mo":return a.ordinalNumber(u+1,{unit:"month"});case"MMM":return a.month(u,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(u,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(u,{width:"wide",context:"formatting"})}},L:function(l,s,a){const u=l.getMonth();switch(s){case"L":return String(u+1);case"LL":return ei(u+1,2);case"Lo":return a.ordinalNumber(u+1,{unit:"month"});case"LLL":return a.month(u,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(u,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(u,{width:"wide",context:"standalone"})}},w:function(l,s,a,u){const d=Tv(l,u);return s==="wo"?a.ordinalNumber(d,{unit:"week"}):ei(d,s.length)},I:function(l,s,a){const u=Dv(l);return s==="Io"?a.ordinalNumber(u,{unit:"week"}):ei(u,s.length)},d:function(l,s,a){return s==="do"?a.ordinalNumber(l.getDate(),{unit:"date"}):br.d(l,s)},D:function(l,s,a){const u=vS(l);return s==="Do"?a.ordinalNumber(u,{unit:"dayOfYear"}):ei(u,s.length)},E:function(l,s,a){const u=l.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(u,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(u,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(u,{width:"short",context:"formatting"});case"EEEE":default:return a.day(u,{width:"wide",context:"formatting"})}},e:function(l,s,a,u){const d=l.getDay(),m=(d-u.weekStartsOn+8)%7||7;switch(s){case"e":return String(m);case"ee":return ei(m,2);case"eo":return a.ordinalNumber(m,{unit:"day"});case"eee":return a.day(d,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(d,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(d,{width:"short",context:"formatting"});case"eeee":default:return a.day(d,{width:"wide",context:"formatting"})}},c:function(l,s,a,u){const d=l.getDay(),m=(d-u.weekStartsOn+8)%7||7;switch(s){case"c":return String(m);case"cc":return ei(m,s.length);case"co":return a.ordinalNumber(m,{unit:"day"});case"ccc":return a.day(d,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(d,{width:"narrow",context:"standalone"});case"cccccc":return a.day(d,{width:"short",context:"standalone"});case"cccc":default:return a.day(d,{width:"wide",context:"standalone"})}},i:function(l,s,a){const u=l.getDay(),d=u===0?7:u;switch(s){case"i":return String(d);case"ii":return ei(d,s.length);case"io":return a.ordinalNumber(d,{unit:"day"});case"iii":return a.day(u,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(u,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(u,{width:"short",context:"formatting"});case"iiii":default:return a.day(u,{width:"wide",context:"formatting"})}},a:function(l,s,a){const d=l.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(d,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(d,{width:"wide",context:"formatting"})}},b:function(l,s,a){const u=l.getHours();let d;switch(u===12?d=tl.noon:u===0?d=tl.midnight:d=u/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(d,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(d,{width:"wide",context:"formatting"})}},B:function(l,s,a){const u=l.getHours();let d;switch(u>=17?d=tl.evening:u>=12?d=tl.afternoon:u>=4?d=tl.morning:d=tl.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(d,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(d,{width:"wide",context:"formatting"})}},h:function(l,s,a){if(s==="ho"){let u=l.getHours()%12;return u===0&&(u=12),a.ordinalNumber(u,{unit:"hour"})}return br.h(l,s)},H:function(l,s,a){return s==="Ho"?a.ordinalNumber(l.getHours(),{unit:"hour"}):br.H(l,s)},K:function(l,s,a){const u=l.getHours()%12;return s==="Ko"?a.ordinalNumber(u,{unit:"hour"}):ei(u,s.length)},k:function(l,s,a){let u=l.getHours();return u===0&&(u=24),s==="ko"?a.ordinalNumber(u,{unit:"hour"}):ei(u,s.length)},m:function(l,s,a){return s==="mo"?a.ordinalNumber(l.getMinutes(),{unit:"minute"}):br.m(l,s)},s:function(l,s,a){return s==="so"?a.ordinalNumber(l.getSeconds(),{unit:"second"}):br.s(l,s)},S:function(l,s){return br.S(l,s)},X:function(l,s,a){const u=l.getTimezoneOffset();if(u===0)return"Z";switch(s){case"X":return Bg(u);case"XXXX":case"XX":return oo(u);case"XXXXX":case"XXX":default:return oo(u,":")}},x:function(l,s,a){const u=l.getTimezoneOffset();switch(s){case"x":return Bg(u);case"xxxx":case"xx":return oo(u);case"xxxxx":case"xxx":default:return oo(u,":")}},O:function(l,s,a){const u=l.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+Pg(u,":");case"OOOO":default:return"GMT"+oo(u,":")}},z:function(l,s,a){const u=l.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+Pg(u,":");case"zzzz":default:return"GMT"+oo(u,":")}},t:function(l,s,a){const u=Math.trunc(+l/1e3);return ei(u,s.length)},T:function(l,s,a){return ei(+l,s.length)}};function Pg(l,s=""){const a=l>0?"-":"+",u=Math.abs(l),d=Math.trunc(u/60),m=u%60;return m===0?a+String(d):a+String(d)+s+ei(m,2)}function Bg(l,s){return l%60===0?(l>0?"-":"+")+ei(Math.abs(l)/60,2):oo(l,s)}function oo(l,s=""){const a=l>0?"-":"+",u=Math.abs(l),d=ei(Math.trunc(u/60),2),m=ei(u%60,2);return a+d+s+m}const Ng=(l,s)=>{switch(l){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},Ev=(l,s)=>{switch(l){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},yS=(l,s)=>{const a=l.match(/(P+)(p+)?/)||[],u=a[1],d=a[2];if(!d)return Ng(l,s);let m;switch(u){case"P":m=s.dateTime({width:"short"});break;case"PP":m=s.dateTime({width:"medium"});break;case"PPP":m=s.dateTime({width:"long"});break;case"PPPP":default:m=s.dateTime({width:"full"});break}return m.replace("{{date}}",Ng(u,s)).replace("{{time}}",Ev(d,s))},vp={p:Ev,P:yS},_S=/^D+$/,xS=/^Y+$/,CS=["D","DD","YY","YYYY"];function Av(l){return _S.test(l)}function Mv(l){return xS.test(l)}function bp(l,s,a){const u=wS(l,s,a);if(console.warn(u),CS.includes(l))throw new RangeError(u)}function wS(l,s,a){const u=l[0]==="Y"?"years":"days of the month";return`Use \`${l.toLowerCase()}\` instead of \`${l}\` (in \`${s}\`) for formatting ${u} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DS=/^'([^]*?)'?$/,TS=/''/g,ES=/[a-zA-Z]/;function AS(l,s,a){var E,L,P,H,U,Z,ee,K;const u=mo(),d=(a==null?void 0:a.locale)??u.locale??Sv,m=(a==null?void 0:a.firstWeekContainsDate)??((L=(E=a==null?void 0:a.locale)==null?void 0:E.options)==null?void 0:L.firstWeekContainsDate)??u.firstWeekContainsDate??((H=(P=u.locale)==null?void 0:P.options)==null?void 0:H.firstWeekContainsDate)??1,v=(a==null?void 0:a.weekStartsOn)??((Z=(U=a==null?void 0:a.locale)==null?void 0:U.options)==null?void 0:Z.weekStartsOn)??u.weekStartsOn??((K=(ee=u.locale)==null?void 0:ee.options)==null?void 0:K.weekStartsOn)??0,x=Tt(l,a==null?void 0:a.in);if(!yv(x))throw new RangeError("Invalid time value");let k=s.match(SS).map(X=>{const oe=X[0];if(oe==="p"||oe==="P"){const ne=vp[oe];return ne(X,d.formatLong)}return X}).join("").match(kS).map(X=>{if(X==="''")return{isToken:!1,value:"'"};const oe=X[0];if(oe==="'")return{isToken:!1,value:MS(X)};if(Og[oe])return{isToken:!0,value:X};if(oe.match(ES))throw new RangeError("Format string contains an unescaped latin alphabet character `"+oe+"`");return{isToken:!1,value:X}});d.localize.preprocessor&&(k=d.localize.preprocessor(x,k));const D={firstWeekContainsDate:m,weekStartsOn:v,locale:d};return k.map(X=>{if(!X.isToken)return X.value;const oe=X.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&Mv(oe)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&Av(oe))&&bp(oe,s,String(l));const ne=Og[oe[0]];return ne(x,oe,d.localize,D)}).join("")}function MS(l){const s=l.match(DS);return s?s[1].replace(TS,"'"):l}function FS(){return Object.assign({},mo())}function IS(l,s){const a=Tt(l,s==null?void 0:s.in).getDay();return a===0?7:a}function LS(l,s){const a=OS(s)?new s(0):Li(s,0);return a.setFullYear(l.getFullYear(),l.getMonth(),l.getDate()),a.setHours(l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()),a}function OS(l){var s;return typeof l=="function"&&((s=l.prototype)==null?void 0:s.constructor)===l}const PS=10;class Fv{constructor(){ae(this,"subPriority",0)}validate(s,a){return!0}}class BS extends Fv{constructor(s,a,u,d,m){super(),this.value=s,this.validateValue=a,this.setValue=u,this.priority=d,m&&(this.subPriority=m)}validate(s,a){return this.validateValue(s,this.value,a)}set(s,a,u){return this.setValue(s,a,this.value,u)}}class NS extends Fv{constructor(a,u){super();ae(this,"priority",PS);ae(this,"subPriority",-1);this.context=a||(d=>Li(u,d))}set(a,u){return u.timestampIsSet?a:Li(a,LS(a,this.context))}}class Gt{run(s,a,u,d){const m=this.parse(s,a,u,d);return m?{setter:new BS(m.value,this.validate,this.set,this.priority,this.subPriority),rest:m.rest}:null}validate(s,a,u){return!0}}class RS extends Gt{constructor(){super(...arguments);ae(this,"priority",140);ae(this,"incompatibleTokens",["R","u","t","T"])}parse(a,u,d){switch(u){case"G":case"GG":case"GGG":return d.era(a,{width:"abbreviated"})||d.era(a,{width:"narrow"});case"GGGGG":return d.era(a,{width:"narrow"});case"GGGG":default:return d.era(a,{width:"wide"})||d.era(a,{width:"abbreviated"})||d.era(a,{width:"narrow"})}}set(a,u,d){return u.era=d,a.setFullYear(d,0,1),a.setHours(0,0,0,0),a}}const zi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Qs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hi(l,s){return l&&{value:s(l.value),rest:l.rest}}function Ti(l,s){const a=s.match(l);return a?{value:parseInt(a[0],10),rest:s.slice(a[0].length)}:null}function ea(l,s){const a=s.match(l);if(!a)return null;if(a[0]==="Z")return{value:0,rest:s.slice(1)};const u=a[1]==="+"?1:-1,d=a[2]?parseInt(a[2],10):0,m=a[3]?parseInt(a[3],10):0,v=a[5]?parseInt(a[5],10):0;return{value:u*(d*ic+m*tc+v*h4),rest:s.slice(a[0].length)}}function Iv(l){return Ti(zi.anyDigitsSigned,l)}function Oi(l,s){switch(l){case 1:return Ti(zi.singleDigit,s);case 2:return Ti(zi.twoDigits,s);case 3:return Ti(zi.threeDigits,s);case 4:return Ti(zi.fourDigits,s);default:return Ti(new RegExp("^\\d{1,"+l+"}"),s)}}function _h(l,s){switch(l){case 1:return Ti(zi.singleDigitSigned,s);case 2:return Ti(zi.twoDigitsSigned,s);case 3:return Ti(zi.threeDigitsSigned,s);case 4:return Ti(zi.fourDigitsSigned,s);default:return Ti(new RegExp("^-?\\d{1,"+l+"}"),s)}}function Hp(l){switch(l){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Lv(l,s){const a=s>0,u=a?s:1-s;let d;if(u<=50)d=l||100;else{const m=u+50,v=Math.trunc(m/100)*100,x=l>=m%100;d=l+v-(x?100:0)}return a?d:1-d}function Ov(l){return l%400===0||l%4===0&&l%100!==0}class zS extends Gt{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(a,u,d){const m=v=>({year:v,isTwoDigitYear:u==="yy"});switch(u){case"y":return Hi(Oi(4,a),m);case"yo":return Hi(d.ordinalNumber(a,{unit:"year"}),m);default:return Hi(Oi(u.length,a),m)}}validate(a,u){return u.isTwoDigitYear||u.year>0}set(a,u,d){const m=a.getFullYear();if(d.isTwoDigitYear){const x=Lv(d.year,m);return a.setFullYear(x,0,1),a.setHours(0,0,0,0),a}const v=!("era"in u)||u.era===1?d.year:1-d.year;return a.setFullYear(v,0,1),a.setHours(0,0,0,0),a}}class HS extends Gt{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(a,u,d){const m=v=>({year:v,isTwoDigitYear:u==="YY"});switch(u){case"Y":return Hi(Oi(4,a),m);case"Yo":return Hi(d.ordinalNumber(a,{unit:"year"}),m);default:return Hi(Oi(u.length,a),m)}}validate(a,u){return u.isTwoDigitYear||u.year>0}set(a,u,d,m){const v=zp(a,m);if(d.isTwoDigitYear){const k=Lv(d.year,v);return a.setFullYear(k,0,m.firstWeekContainsDate),a.setHours(0,0,0,0),na(a,m)}const x=!("era"in u)||u.era===1?d.year:1-d.year;return a.setFullYear(x,0,m.firstWeekContainsDate),a.setHours(0,0,0,0),na(a,m)}}class $S extends Gt{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(a,u){return _h(u==="R"?4:u.length,a)}set(a,u,d){const m=Li(a,0);return m.setFullYear(d,0,4),m.setHours(0,0,0,0),ol(m)}}class VS extends Gt{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(a,u){return _h(u==="u"?4:u.length,a)}set(a,u,d){return a.setFullYear(d,0,1),a.setHours(0,0,0,0),a}}class WS extends Gt{constructor(){super(...arguments);ae(this,"priority",120);ae(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(a,u,d){switch(u){case"Q":case"QQ":return Oi(u.length,a);case"Qo":return d.ordinalNumber(a,{unit:"quarter"});case"QQQ":return d.quarter(a,{width:"abbreviated",context:"formatting"})||d.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return d.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return d.quarter(a,{width:"wide",context:"formatting"})||d.quarter(a,{width:"abbreviated",context:"formatting"})||d.quarter(a,{width:"narrow",context:"formatting"})}}validate(a,u){return u>=1&&u<=4}set(a,u,d){return a.setMonth((d-1)*3,1),a.setHours(0,0,0,0),a}}class jS extends Gt{constructor(){super(...arguments);ae(this,"priority",120);ae(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(a,u,d){switch(u){case"q":case"qq":return Oi(u.length,a);case"qo":return d.ordinalNumber(a,{unit:"quarter"});case"qqq":return d.quarter(a,{width:"abbreviated",context:"standalone"})||d.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return d.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return d.quarter(a,{width:"wide",context:"standalone"})||d.quarter(a,{width:"abbreviated",context:"standalone"})||d.quarter(a,{width:"narrow",context:"standalone"})}}validate(a,u){return u>=1&&u<=4}set(a,u,d){return a.setMonth((d-1)*3,1),a.setHours(0,0,0,0),a}}class US extends Gt{constructor(){super(...arguments);ae(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ae(this,"priority",110)}parse(a,u,d){const m=v=>v-1;switch(u){case"M":return Hi(Ti(zi.month,a),m);case"MM":return Hi(Oi(2,a),m);case"Mo":return Hi(d.ordinalNumber(a,{unit:"month"}),m);case"MMM":return d.month(a,{width:"abbreviated",context:"formatting"})||d.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return d.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return d.month(a,{width:"wide",context:"formatting"})||d.month(a,{width:"abbreviated",context:"formatting"})||d.month(a,{width:"narrow",context:"formatting"})}}validate(a,u){return u>=0&&u<=11}set(a,u,d){return a.setMonth(d,1),a.setHours(0,0,0,0),a}}class qS extends Gt{constructor(){super(...arguments);ae(this,"priority",110);ae(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(a,u,d){const m=v=>v-1;switch(u){case"L":return Hi(Ti(zi.month,a),m);case"LL":return Hi(Oi(2,a),m);case"Lo":return Hi(d.ordinalNumber(a,{unit:"month"}),m);case"LLL":return d.month(a,{width:"abbreviated",context:"standalone"})||d.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return d.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return d.month(a,{width:"wide",context:"standalone"})||d.month(a,{width:"abbreviated",context:"standalone"})||d.month(a,{width:"narrow",context:"standalone"})}}validate(a,u){return u>=0&&u<=11}set(a,u,d){return a.setMonth(d,1),a.setHours(0,0,0,0),a}}function YS(l,s,a){const u=Tt(l,a==null?void 0:a.in),d=Tv(u,a)-s;return u.setDate(u.getDate()-d*7),Tt(u,a==null?void 0:a.in)}class GS extends Gt{constructor(){super(...arguments);ae(this,"priority",100);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(a,u,d){switch(u){case"w":return Ti(zi.week,a);case"wo":return d.ordinalNumber(a,{unit:"week"});default:return Oi(u.length,a)}}validate(a,u){return u>=1&&u<=53}set(a,u,d,m){return na(YS(a,d,m),m)}}function XS(l,s,a){const u=Tt(l,a==null?void 0:a.in),d=Dv(u,a)-s;return u.setDate(u.getDate()-d*7),u}class KS extends Gt{constructor(){super(...arguments);ae(this,"priority",100);ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(a,u,d){switch(u){case"I":return Ti(zi.week,a);case"Io":return d.ordinalNumber(a,{unit:"week"});default:return Oi(u.length,a)}}validate(a,u){return u>=1&&u<=53}set(a,u,d){return ol(XS(a,d))}}const ZS=[31,28,31,30,31,30,31,31,30,31,30,31],JS=[31,29,31,30,31,30,31,31,30,31,30,31];class QS extends Gt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"subPriority",1);ae(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(a,u,d){switch(u){case"d":return Ti(zi.date,a);case"do":return d.ordinalNumber(a,{unit:"date"});default:return Oi(u.length,a)}}validate(a,u){const d=a.getFullYear(),m=Ov(d),v=a.getMonth();return m?u>=1&&u<=JS[v]:u>=1&&u<=ZS[v]}set(a,u,d){return a.setDate(d),a.setHours(0,0,0,0),a}}class e2 extends Gt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"subpriority",1);ae(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(a,u,d){switch(u){case"D":case"DD":return Ti(zi.dayOfYear,a);case"Do":return d.ordinalNumber(a,{unit:"date"});default:return Oi(u.length,a)}}validate(a,u){const d=a.getFullYear();return Ov(d)?u>=1&&u<=366:u>=1&&u<=365}set(a,u,d){return a.setMonth(0,d),a.setHours(0,0,0,0),a}}function $p(l,s,a){var L,P,H,U;const u=mo(),d=(a==null?void 0:a.weekStartsOn)??((P=(L=a==null?void 0:a.locale)==null?void 0:L.options)==null?void 0:P.weekStartsOn)??u.weekStartsOn??((U=(H=u.locale)==null?void 0:H.options)==null?void 0:U.weekStartsOn)??0,m=Tt(l,a==null?void 0:a.in),v=m.getDay(),k=(s%7+7)%7,D=7-d,E=s<0||s>6?s-(v+D)%7:(k+D)%7-(v+D)%7;return Eh(m,E,a)}class t2 extends Gt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(a,u,d){switch(u){case"E":case"EE":case"EEE":return d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return d.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"})}}validate(a,u){return u>=0&&u<=6}set(a,u,d,m){return a=$p(a,d,m),a.setHours(0,0,0,0),a}}class i2 extends Gt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(a,u,d,m){const v=x=>{const k=Math.floor((x-1)/7)*7;return(x+m.weekStartsOn+6)%7+k};switch(u){case"e":case"ee":return Hi(Oi(u.length,a),v);case"eo":return Hi(d.ordinalNumber(a,{unit:"day"}),v);case"eee":return d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"eeeee":return d.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"})}}validate(a,u){return u>=0&&u<=6}set(a,u,d,m){return a=$p(a,d,m),a.setHours(0,0,0,0),a}}class n2 extends Gt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(a,u,d,m){const v=x=>{const k=Math.floor((x-1)/7)*7;return(x+m.weekStartsOn+6)%7+k};switch(u){case"c":case"cc":return Hi(Oi(u.length,a),v);case"co":return Hi(d.ordinalNumber(a,{unit:"day"}),v);case"ccc":return d.day(a,{width:"abbreviated",context:"standalone"})||d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"});case"ccccc":return d.day(a,{width:"narrow",context:"standalone"});case"cccccc":return d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return d.day(a,{width:"wide",context:"standalone"})||d.day(a,{width:"abbreviated",context:"standalone"})||d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"})}}validate(a,u){return u>=0&&u<=6}set(a,u,d,m){return a=$p(a,d,m),a.setHours(0,0,0,0),a}}function s2(l,s,a){const u=Tt(l,a==null?void 0:a.in),d=IS(u,a),m=s-d;return Eh(u,m,a)}class a2 extends Gt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(a,u,d){const m=v=>v===0?7:v;switch(u){case"i":case"ii":return Oi(u.length,a);case"io":return d.ordinalNumber(a,{unit:"day"});case"iii":return Hi(d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),m);case"iiiii":return Hi(d.day(a,{width:"narrow",context:"formatting"}),m);case"iiiiii":return Hi(d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),m);case"iiii":default:return Hi(d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),m)}}validate(a,u){return u>=1&&u<=7}set(a,u,d){return a=s2(a,d),a.setHours(0,0,0,0),a}}class r2 extends Gt{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(a,u,d){switch(u){case"a":case"aa":case"aaa":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,u,d){return a.setHours(Hp(d),0,0,0),a}}class o2 extends Gt{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(a,u,d){switch(u){case"b":case"bb":case"bbb":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,u,d){return a.setHours(Hp(d),0,0,0),a}}class l2 extends Gt{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["a","b","t","T"])}parse(a,u,d){switch(u){case"B":case"BB":case"BBB":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,u,d){return a.setHours(Hp(d),0,0,0),a}}class u2 extends Gt{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["H","K","k","t","T"])}parse(a,u,d){switch(u){case"h":return Ti(zi.hour12h,a);case"ho":return d.ordinalNumber(a,{unit:"hour"});default:return Oi(u.length,a)}}validate(a,u){return u>=1&&u<=12}set(a,u,d){const m=a.getHours()>=12;return m&&d<12?a.setHours(d+12,0,0,0):!m&&d===12?a.setHours(0,0,0,0):a.setHours(d,0,0,0),a}}class c2 extends Gt{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(a,u,d){switch(u){case"H":return Ti(zi.hour23h,a);case"Ho":return d.ordinalNumber(a,{unit:"hour"});default:return Oi(u.length,a)}}validate(a,u){return u>=0&&u<=23}set(a,u,d){return a.setHours(d,0,0,0),a}}class d2 extends Gt{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["h","H","k","t","T"])}parse(a,u,d){switch(u){case"K":return Ti(zi.hour11h,a);case"Ko":return d.ordinalNumber(a,{unit:"hour"});default:return Oi(u.length,a)}}validate(a,u){return u>=0&&u<=11}set(a,u,d){return a.getHours()>=12&&d<12?a.setHours(d+12,0,0,0):a.setHours(d,0,0,0),a}}class h2 extends Gt{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(a,u,d){switch(u){case"k":return Ti(zi.hour24h,a);case"ko":return d.ordinalNumber(a,{unit:"hour"});default:return Oi(u.length,a)}}validate(a,u){return u>=1&&u<=24}set(a,u,d){const m=d<=24?d%24:d;return a.setHours(m,0,0,0),a}}class f2 extends Gt{constructor(){super(...arguments);ae(this,"priority",60);ae(this,"incompatibleTokens",["t","T"])}parse(a,u,d){switch(u){case"m":return Ti(zi.minute,a);case"mo":return d.ordinalNumber(a,{unit:"minute"});default:return Oi(u.length,a)}}validate(a,u){return u>=0&&u<=59}set(a,u,d){return a.setMinutes(d,0,0),a}}class p2 extends Gt{constructor(){super(...arguments);ae(this,"priority",50);ae(this,"incompatibleTokens",["t","T"])}parse(a,u,d){switch(u){case"s":return Ti(zi.second,a);case"so":return d.ordinalNumber(a,{unit:"second"});default:return Oi(u.length,a)}}validate(a,u){return u>=0&&u<=59}set(a,u,d){return a.setSeconds(d,0),a}}class m2 extends Gt{constructor(){super(...arguments);ae(this,"priority",30);ae(this,"incompatibleTokens",["t","T"])}parse(a,u){const d=m=>Math.trunc(m*Math.pow(10,-u.length+3));return Hi(Oi(u.length,a),d)}set(a,u,d){return a.setMilliseconds(d),a}}class g2 extends Gt{constructor(){super(...arguments);ae(this,"priority",10);ae(this,"incompatibleTokens",["t","T","x"])}parse(a,u){switch(u){case"X":return ea(Qs.basicOptionalMinutes,a);case"XX":return ea(Qs.basic,a);case"XXXX":return ea(Qs.basicOptionalSeconds,a);case"XXXXX":return ea(Qs.extendedOptionalSeconds,a);case"XXX":default:return ea(Qs.extended,a)}}set(a,u,d){return u.timestampIsSet?a:Li(a,a.getTime()-yh(a)-d)}}class v2 extends Gt{constructor(){super(...arguments);ae(this,"priority",10);ae(this,"incompatibleTokens",["t","T","X"])}parse(a,u){switch(u){case"x":return ea(Qs.basicOptionalMinutes,a);case"xx":return ea(Qs.basic,a);case"xxxx":return ea(Qs.basicOptionalSeconds,a);case"xxxxx":return ea(Qs.extendedOptionalSeconds,a);case"xxx":default:return ea(Qs.extended,a)}}set(a,u,d){return u.timestampIsSet?a:Li(a,a.getTime()-yh(a)-d)}}class b2 extends Gt{constructor(){super(...arguments);ae(this,"priority",40);ae(this,"incompatibleTokens","*")}parse(a){return Iv(a)}set(a,u,d){return[Li(a,d*1e3),{timestampIsSet:!0}]}}class y2 extends Gt{constructor(){super(...arguments);ae(this,"priority",20);ae(this,"incompatibleTokens","*")}parse(a){return Iv(a)}set(a,u,d){return[Li(a,d),{timestampIsSet:!0}]}}const _2={G:new RS,y:new zS,Y:new HS,R:new $S,u:new VS,Q:new WS,q:new jS,M:new US,L:new qS,w:new GS,I:new KS,d:new QS,D:new e2,E:new t2,e:new i2,c:new n2,i:new a2,a:new r2,b:new o2,B:new l2,h:new u2,H:new c2,K:new d2,k:new h2,m:new f2,s:new p2,S:new m2,X:new g2,x:new v2,t:new b2,T:new y2},x2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w2=/^'([^]*?)'?$/,k2=/''/g,S2=/\S/,D2=/[a-zA-Z]/;function T2(l,s,a,u){var ee,K,X,oe,ne,se,we,be;const d=()=>Li((u==null?void 0:u.in)||a,NaN),m=FS(),v=(u==null?void 0:u.locale)??m.locale??Sv,x=(u==null?void 0:u.firstWeekContainsDate)??((K=(ee=u==null?void 0:u.locale)==null?void 0:ee.options)==null?void 0:K.firstWeekContainsDate)??m.firstWeekContainsDate??((oe=(X=m.locale)==null?void 0:X.options)==null?void 0:oe.firstWeekContainsDate)??1,k=(u==null?void 0:u.weekStartsOn)??((se=(ne=u==null?void 0:u.locale)==null?void 0:ne.options)==null?void 0:se.weekStartsOn)??m.weekStartsOn??((be=(we=m.locale)==null?void 0:we.options)==null?void 0:be.weekStartsOn)??0;if(!s)return l?d():Tt(a,u==null?void 0:u.in);const D={firstWeekContainsDate:x,weekStartsOn:k,locale:v},E=[new NS(u==null?void 0:u.in,a)],L=s.match(C2).map(ve=>{const De=ve[0];if(De in vp){const Ge=vp[De];return Ge(ve,v.formatLong)}return ve}).join("").match(x2),P=[];for(let ve of L){!(u!=null&&u.useAdditionalWeekYearTokens)&&Mv(ve)&&bp(ve,s,l),!(u!=null&&u.useAdditionalDayOfYearTokens)&&Av(ve)&&bp(ve,s,l);const De=ve[0],Ge=_2[De];if(Ge){const{incompatibleTokens:Fe}=Ge;if(Array.isArray(Fe)){const nt=P.find(ot=>Fe.includes(ot.token)||ot.token===De);if(nt)throw new RangeError(`The format string mustn't contain \`${nt.fullToken}\` and \`${ve}\` at the same time`)}else if(Ge.incompatibleTokens==="*"&&P.length>0)throw new RangeError(`The format string mustn't contain \`${ve}\` and any other token at the same time`);P.push({token:De,fullToken:ve});const Ue=Ge.run(l,ve,v.match,D);if(!Ue)return d();E.push(Ue.setter),l=Ue.rest}else{if(De.match(D2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+De+"`");if(ve==="''"?ve="'":De==="'"&&(ve=E2(ve)),l.indexOf(ve)===0)l=l.slice(ve.length);else return d()}}if(l.length>0&&S2.test(l))return d();const H=E.map(ve=>ve.priority).sort((ve,De)=>De-ve).filter((ve,De,Ge)=>Ge.indexOf(ve)===De).map(ve=>E.filter(De=>De.priority===ve).sort((De,Ge)=>Ge.subPriority-De.subPriority)).map(ve=>ve[0]);let U=Tt(a,u==null?void 0:u.in);if(isNaN(+U))return d();const Z={};for(const ve of H){if(!ve.validate(U,D))return d();const De=ve.set(U,Z,D);Array.isArray(De)?(U=De[0],Object.assign(Z,De[1])):U=De}return U}function E2(l){return l.match(w2)[1].replace(k2,"'")}function A2(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setMinutes(0,0,0),a}function M2(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setSeconds(0,0),a}function F2(l,s){const a=Tt(l,s==null?void 0:s.in);return a.setMilliseconds(0),a}function I2(l,s){const a=()=>Li(s==null?void 0:s.in,NaN),u=(s==null?void 0:s.additionalDigits)??2,d=B2(l);let m;if(d.date){const D=N2(d.date,u);m=R2(D.restDateString,D.year)}if(!m||isNaN(+m))return a();const v=+m;let x=0,k;if(d.time&&(x=z2(d.time),isNaN(x)))return a();if(d.timezone){if(k=H2(d.timezone),isNaN(k))return a()}else{const D=new Date(v+x),E=Tt(0,s==null?void 0:s.in);return E.setFullYear(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate()),E.setHours(D.getUTCHours(),D.getUTCMinutes(),D.getUTCSeconds(),D.getUTCMilliseconds()),E}return Tt(v+x+k,s==null?void 0:s.in)}const Zd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},L2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,O2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,P2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function B2(l){const s={},a=l.split(Zd.dateTimeDelimiter);let u;if(a.length>2)return s;if(/:/.test(a[0])?u=a[0]:(s.date=a[0],u=a[1],Zd.timeZoneDelimiter.test(s.date)&&(s.date=l.split(Zd.timeZoneDelimiter)[0],u=l.substr(s.date.length,l.length))),u){const d=Zd.timezone.exec(u);d?(s.time=u.replace(d[1],""),s.timezone=d[1]):s.time=u}return s}function N2(l,s){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),u=l.match(a);if(!u)return{year:NaN,restDateString:""};const d=u[1]?parseInt(u[1]):null,m=u[2]?parseInt(u[2]):null;return{year:m===null?d:m*100,restDateString:l.slice((u[1]||u[2]).length)}}function R2(l,s){if(s===null)return new Date(NaN);const a=l.match(L2);if(!a)return new Date(NaN);const u=!!a[4],d=Au(a[1]),m=Au(a[2])-1,v=Au(a[3]),x=Au(a[4]),k=Au(a[5])-1;if(u)return U2(s,x,k)?$2(s,x,k):new Date(NaN);{const D=new Date(0);return!W2(s,m,v)||!j2(s,d)?new Date(NaN):(D.setUTCFullYear(s,m,Math.max(d,v)),D)}}function Au(l){return l?parseInt(l):1}function z2(l){const s=l.match(O2);if(!s)return NaN;const a=Gf(s[1]),u=Gf(s[2]),d=Gf(s[3]);return q2(a,u,d)?a*ic+u*tc+d*1e3:NaN}function Gf(l){return l&&parseFloat(l.replace(",","."))||0}function H2(l){if(l==="Z")return 0;const s=l.match(P2);if(!s)return 0;const a=s[1]==="+"?-1:1,u=parseInt(s[2]),d=s[3]&&parseInt(s[3])||0;return Y2(u,d)?a*(u*ic+d*tc):NaN}function $2(l,s,a){const u=new Date(0);u.setUTCFullYear(l,0,4);const d=u.getUTCDay()||7,m=(s-1)*7+a+1-d;return u.setUTCDate(u.getUTCDate()+m),u}const V2=[31,null,31,30,31,30,31,31,30,31,30,31];function Pv(l){return l%400===0||l%4===0&&l%100!==0}function W2(l,s,a){return s>=0&&s<=11&&a>=1&&a<=(V2[s]||(Pv(l)?29:28))}function j2(l,s){return s>=1&&s<=(Pv(l)?366:365)}function U2(l,s,a){return s>=1&&s<=53&&a>=0&&a<=6}function q2(l,s,a){return l===24?s===0&&a===0:a>=0&&a<60&&s>=0&&s<60&&l>=0&&l<25}function Y2(l,s){return s>=0&&s<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const G2={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};X0._date.override({_id:"date-fns",formats:function(){return G2},parse:function(l,s){if(l===null||typeof l>"u")return null;const a=typeof l;return a==="number"||l instanceof Date?l=Tt(l):a==="string"&&(typeof s=="string"?l=T2(l,s,new Date,this.options):l=I2(l,this.options)),yv(l)?l.getTime():null},format:function(l,s){return AS(l,s,this.options)},add:function(l,s,a){switch(a){case"millisecond":return Np(l,s);case"second":return b4(l,s);case"minute":return g4(l,s);case"hour":return f4(l,s);case"day":return Eh(l,s);case"week":return y4(l,s);case"month":return Bp(l,s);case"quarter":return v4(l,s);case"year":return _4(l,s);default:return l}},diff:function(l,s,a){switch(a){case"millisecond":return Rp(l,s);case"second":return E4(l,s);case"minute":return S4(l,s);case"hour":return k4(l,s);case"day":return _v(l,s);case"week":return A4(l,s);case"month":return wv(l,s);case"quarter":return T4(l,s);case"year":return M4(l,s);default:return 0}},startOf:function(l,s,a){switch(s){case"second":return F2(l);case"minute":return M2(l);case"hour":return A2(l);case"day":return gp(l);case"week":return na(l);case"isoWeek":return na(l,{weekStartsOn:+a});case"month":return I4(l);case"quarter":return F4(l);case"year":return kv(l);default:return l}},endOf:function(l,s){switch(s){case"second":return R4(l);case"minute":return B4(l);case"hour":return O4(l);case"day":return xv(l);case"week":return P4(l);case"month":return Cv(l);case"quarter":return N4(l);case"year":return L4(l);default:return l}}});/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Rg=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var l=window.screen;if(l)return(l.deviceXDPI||1)/(l.logicalXDPI||1)}return 1}(),ju={toTextLines:function(l){var s=[],a;for(l=[].concat(l);l.length;)a=l.pop(),typeof a=="string"?s.unshift.apply(s,a.split(`
`)):Array.isArray(a)?l.push.apply(l,a):Mt(l)||s.unshift(""+a);return s},textSize:function(l,s,a){var u=[].concat(s),d=u.length,m=l.font,v=0,x;for(l.font=a.string,x=0;x<d;++x)v=Math.max(l.measureText(u[x]).width,v);return l.font=m,{height:d*a.lineHeight,width:v}},bound:function(l,s,a){return Math.max(l,Math.min(s,a))},arrayDiff:function(l,s){var a=l.slice(),u=[],d,m,v,x;for(d=0,v=s.length;d<v;++d)x=s[d],m=a.indexOf(x),m===-1?u.push([x,1]):a.splice(m,1);for(d=0,v=a.length;d<v;++d)u.push([a[d],-1]);return u},rasterize:function(l){return Math.round(l*Rg)/Rg}};function Xf(l,s){var a=s.x,u=s.y;if(a===null)return{x:0,y:-1};if(u===null)return{x:1,y:0};var d=l.x-a,m=l.y-u,v=Math.sqrt(d*d+m*m);return{x:v?d/v:0,y:v?m/v:-1}}function X2(l,s,a,u,d){switch(d){case"center":a=u=0;break;case"bottom":a=0,u=1;break;case"right":a=1,u=0;break;case"left":a=-1,u=0;break;case"top":a=0,u=-1;break;case"start":a=-a,u=-u;break;case"end":break;default:d*=Math.PI/180,a=Math.cos(d),u=Math.sin(d);break}return{x:l,y:s,vx:a,vy:u}}var K2=0,Bv=1,Nv=2,Rv=4,zv=8;function Jd(l,s,a){var u=K2;return l<a.left?u|=Bv:l>a.right&&(u|=Nv),s<a.top?u|=zv:s>a.bottom&&(u|=Rv),u}function Z2(l,s){for(var a=l.x0,u=l.y0,d=l.x1,m=l.y1,v=Jd(a,u,s),x=Jd(d,m,s),k,D,E;!(!(v|x)||v&x);)k=v||x,k&zv?(D=a+(d-a)*(s.top-u)/(m-u),E=s.top):k&Rv?(D=a+(d-a)*(s.bottom-u)/(m-u),E=s.bottom):k&Nv?(E=u+(m-u)*(s.right-a)/(d-a),D=s.right):k&Bv&&(E=u+(m-u)*(s.left-a)/(d-a),D=s.left),k===v?(a=D,u=E,v=Jd(a,u,s)):(d=D,m=E,x=Jd(d,m,s));return{x0:a,x1:d,y0:u,y1:m}}function Qd(l,s){var a=s.anchor,u=l,d,m;return s.clamp&&(u=Z2(u,s.area)),a==="start"?(d=u.x0,m=u.y0):a==="end"?(d=u.x1,m=u.y1):(d=(u.x0+u.x1)/2,m=(u.y0+u.y1)/2),X2(d,m,l.vx,l.vy,s.align)}var eh={arc:function(l,s){var a=(l.startAngle+l.endAngle)/2,u=Math.cos(a),d=Math.sin(a),m=l.innerRadius,v=l.outerRadius;return Qd({x0:l.x+u*m,y0:l.y+d*m,x1:l.x+u*v,y1:l.y+d*v,vx:u,vy:d},s)},point:function(l,s){var a=Xf(l,s.origin),u=a.x*l.options.radius,d=a.y*l.options.radius;return Qd({x0:l.x-u,y0:l.y-d,x1:l.x+u,y1:l.y+d,vx:a.x,vy:a.y},s)},bar:function(l,s){var a=Xf(l,s.origin),u=l.x,d=l.y,m=0,v=0;return l.horizontal?(u=Math.min(l.x,l.base),m=Math.abs(l.base-l.x)):(d=Math.min(l.y,l.base),v=Math.abs(l.base-l.y)),Qd({x0:u,y0:d+v,x1:u+m,y1:d,vx:a.x,vy:a.y},s)},fallback:function(l,s){var a=Xf(l,s.origin);return Qd({x0:l.x,y0:l.y,x1:l.x+(l.width||0),y1:l.y+(l.height||0),vx:a.x,vy:a.y},s)}},Na=ju.rasterize;function J2(l){var s=l.borderWidth||0,a=l.padding,u=l.size.height,d=l.size.width,m=-d/2,v=-u/2;return{frame:{x:m-a.left-s,y:v-a.top-s,w:d+a.width+s*2,h:u+a.height+s*2},text:{x:m,y:v,w:d,h:u}}}function Q2(l,s){var a=s.chart.getDatasetMeta(s.datasetIndex).vScale;if(!a)return null;if(a.xCenter!==void 0&&a.yCenter!==void 0)return{x:a.xCenter,y:a.yCenter};var u=a.getBasePixel();return l.horizontal?{x:u,y:null}:{x:null,y:u}}function eD(l){return l instanceof il?eh.arc:l instanceof $u?eh.point:l instanceof Vu?eh.bar:eh.fallback}function tD(l,s,a,u,d,m){var v=Math.PI/2;if(m){var x=Math.min(m,d/2,u/2),k=s+x,D=a+x,E=s+u-x,L=a+d-x;l.moveTo(s,D),k<E&&D<L?(l.arc(k,D,x,-Math.PI,-v),l.arc(E,D,x,-v,0),l.arc(E,L,x,0,v),l.arc(k,L,x,v,Math.PI)):k<E?(l.moveTo(k,a),l.arc(E,D,x,-v,v),l.arc(k,D,x,v,Math.PI+v)):D<L?(l.arc(k,D,x,-Math.PI,0),l.arc(k,L,x,0,Math.PI)):l.arc(k,D,x,-Math.PI,Math.PI),l.closePath(),l.moveTo(s,a)}else l.rect(s,a,u,d)}function iD(l,s,a){var u=a.backgroundColor,d=a.borderColor,m=a.borderWidth;!u&&(!d||!m)||(l.beginPath(),tD(l,Na(s.x)+m/2,Na(s.y)+m/2,Na(s.w)-m,Na(s.h)-m,a.borderRadius),l.closePath(),u&&(l.fillStyle=u,l.fill()),d&&m&&(l.strokeStyle=d,l.lineWidth=m,l.lineJoin="miter",l.stroke()))}function nD(l,s,a){var u=a.lineHeight,d=l.w,m=l.x,v=l.y+u/2;return s==="center"?m+=d/2:(s==="end"||s==="right")&&(m+=d),{h:u,w:d,x:m,y:v}}function sD(l,s,a){var u=l.shadowBlur,d=a.stroked,m=Na(a.x),v=Na(a.y),x=Na(a.w);d&&l.strokeText(s,m,v,x),a.filled&&(u&&d&&(l.shadowBlur=0),l.fillText(s,m,v,x),u&&d&&(l.shadowBlur=u))}function aD(l,s,a,u){var d=u.textAlign,m=u.color,v=!!m,x=u.font,k=s.length,D=u.textStrokeColor,E=u.textStrokeWidth,L=D&&E,P;if(!(!k||!v&&!L))for(a=nD(a,d,x),l.font=x.string,l.textAlign=d,l.textBaseline="middle",l.shadowBlur=u.textShadowBlur,l.shadowColor=u.textShadowColor,v&&(l.fillStyle=m),L&&(l.lineJoin="round",l.lineWidth=E,l.strokeStyle=D),P=0,k=s.length;P<k;++P)sD(l,s[P],{stroked:L,filled:v,w:a.w,x:a.x,y:a.y+a.h*P})}var Hv=function(l,s,a,u){var d=this;d._config=l,d._index=u,d._model=null,d._rects=null,d._ctx=s,d._el=a};ia(Hv.prototype,{_modelize:function(l,s,a,u){var d=this,m=d._index,v=Ui(di([a.font,{}],u,m)),x=di([a.color,pi.color],u,m);return{align:di([a.align,"center"],u,m),anchor:di([a.anchor,"center"],u,m),area:u.chart.chartArea,backgroundColor:di([a.backgroundColor,null],u,m),borderColor:di([a.borderColor,null],u,m),borderRadius:di([a.borderRadius,0],u,m),borderWidth:di([a.borderWidth,0],u,m),clamp:di([a.clamp,!1],u,m),clip:di([a.clip,!1],u,m),color:x,display:l,font:v,lines:s,offset:di([a.offset,4],u,m),opacity:di([a.opacity,1],u,m),origin:Q2(d._el,u),padding:bn(di([a.padding,4],u,m)),positioner:eD(d._el),rotation:di([a.rotation,0],u,m)*(Math.PI/180),size:ju.textSize(d._ctx,s,v),textAlign:di([a.textAlign,"start"],u,m),textShadowBlur:di([a.textShadowBlur,0],u,m),textShadowColor:di([a.textShadowColor,x],u,m),textStrokeColor:di([a.textStrokeColor,x],u,m),textStrokeWidth:di([a.textStrokeWidth,0],u,m)}},update:function(l){var s=this,a=null,u=null,d=s._index,m=s._config,v,x,k,D=di([m.display,!0],l,d);D&&(v=l.dataset.data[d],x=St(ii(m.formatter,[v,l]),v),k=Mt(x)?[]:ju.toTextLines(x),k.length&&(a=s._modelize(D,k,m,l),u=J2(a))),s._model=a,s._rects=u},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(l,s){var a=this,u=l.ctx,d=a._model,m=a._rects,v;this.visible()&&(u.save(),d.clip&&(v=d.area,u.beginPath(),u.rect(v.left,v.top,v.right-v.left,v.bottom-v.top),u.clip()),u.globalAlpha=ju.bound(0,d.opacity,1),u.translate(Na(s.x),Na(s.y)),u.rotate(d.rotation),iD(u,m.frame,d),aD(u,d.lines,m.text,d),u.restore())}});var rD=Number.MIN_SAFE_INTEGER||-9007199254740991,oD=Number.MAX_SAFE_INTEGER||9007199254740991;function Mu(l,s,a){var u=Math.cos(a),d=Math.sin(a),m=s.x,v=s.y;return{x:m+u*(l.x-m)-d*(l.y-v),y:v+d*(l.x-m)+u*(l.y-v)}}function zg(l,s){var a=oD,u=rD,d=s.origin,m,v,x,k,D;for(m=0;m<l.length;++m)v=l[m],x=v.x-d.x,k=v.y-d.y,D=s.vx*x+s.vy*k,a=Math.min(a,D),u=Math.max(u,D);return{min:a,max:u}}function th(l,s){var a=s.x-l.x,u=s.y-l.y,d=Math.sqrt(a*a+u*u);return{vx:(s.x-l.x)/d,vy:(s.y-l.y)/d,origin:l,ln:d}}var $v=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};ia($v.prototype,{center:function(){var l=this._rect;return{x:l.x+l.w/2,y:l.y+l.h/2}},update:function(l,s,a){this._rotation=a,this._rect={x:s.x+l.x,y:s.y+l.y,w:s.w,h:s.h}},contains:function(l){var s=this,a=1,u=s._rect;return l=Mu(l,s.center(),-s._rotation),!(l.x<u.x-a||l.y<u.y-a||l.x>u.x+u.w+a*2||l.y>u.y+u.h+a*2)},intersects:function(l){var s=this._points(),a=l._points(),u=[th(s[0],s[1]),th(s[0],s[3])],d,m,v;for(this._rotation!==l._rotation&&u.push(th(a[0],a[1]),th(a[0],a[3])),d=0;d<u.length;++d)if(m=zg(s,u[d]),v=zg(a,u[d]),m.max<v.min||v.max<m.min)return!1;return!0},_points:function(){var l=this,s=l._rect,a=l._rotation,u=l.center();return[Mu({x:s.x,y:s.y},u,a),Mu({x:s.x+s.w,y:s.y},u,a),Mu({x:s.x+s.w,y:s.y+s.h},u,a),Mu({x:s.x,y:s.y+s.h},u,a)]}});function Vv(l,s,a){var u=s.positioner(l,s),d=u.vx,m=u.vy;if(!d&&!m)return{x:u.x,y:u.y};var v=a.w,x=a.h,k=s.rotation,D=Math.abs(v/2*Math.cos(k))+Math.abs(x/2*Math.sin(k)),E=Math.abs(v/2*Math.sin(k))+Math.abs(x/2*Math.cos(k)),L=1/Math.max(Math.abs(d),Math.abs(m));return D*=d*L,E*=m*L,D+=s.offset*d,E+=s.offset*m,{x:u.x+D,y:u.y+E}}function lD(l,s){var a,u,d,m;for(a=l.length-1;a>=0;--a)for(d=l[a].$layout,u=a-1;u>=0&&d._visible;--u)m=l[u].$layout,m._visible&&d._box.intersects(m._box)&&s(d,m);return l}function uD(l){var s,a,u,d,m,v,x;for(s=0,a=l.length;s<a;++s)u=l[s],d=u.$layout,d._visible&&(x=new Proxy(u._el,{get:(k,D)=>k.getProps([D],!0)[D]}),m=u.geometry(),v=Vv(x,u.model(),m),d._box.update(v,m,u.rotation()));return lD(l,function(k,D){var E=k._hidable,L=D._hidable;E&&L||L?D._visible=!1:E&&(k._visible=!1)})}var Uu={prepare:function(l){var s=[],a,u,d,m,v;for(a=0,d=l.length;a<d;++a)for(u=0,m=l[a].length;u<m;++u)v=l[a][u],s.push(v),v.$layout={_box:new $v,_hidable:!1,_visible:!0,_set:a,_idx:v._index};return s.sort(function(x,k){var D=x.$layout,E=k.$layout;return D._idx===E._idx?E._set-D._set:E._idx-D._idx}),this.update(s),s},update:function(l){var s=!1,a,u,d,m,v;for(a=0,u=l.length;a<u;++a)d=l[a],m=d.model(),v=d.$layout,v._hidable=m&&m.display==="auto",v._visible=d.visible(),s|=v._hidable;s&&uD(l)},lookup:function(l,s){var a,u;for(a=l.length-1;a>=0;--a)if(u=l[a].$layout,u&&u._visible&&u._box.contains(s))return l[a];return null},draw:function(l,s){var a,u,d,m,v,x;for(a=0,u=s.length;a<u;++a)d=s[a],m=d.$layout,m._visible&&(v=d.geometry(),x=Vv(d._el,d.model(),v),m._box.update(x,v,d.rotation()),d.draw(l,x))}},cD=function(l){if(Mt(l))return null;var s=l,a,u,d;if(It(l))if(!Mt(l.label))s=l.label;else if(!Mt(l.r))s=l.r;else for(s="",a=Object.keys(l),d=0,u=a.length;d<u;++d)s+=(d!==0?", ":"")+a[d]+": "+l[a[d]];return""+s},dD={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:cD,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},zn="$datalabels",Wv="$default";function hD(l,s){var a=l.datalabels,u={},d=[],m,v;return a===!1?null:(a===!0&&(a={}),s=ia({},[s,a]),m=s.labels||{},v=Object.keys(m),delete s.labels,v.length?v.forEach(function(x){m[x]&&d.push(ia({},[s,m[x],{_key:x}]))}):d.push(s),u=d.reduce(function(x,k){return Jt(k.listeners||{},function(D,E){x[E]=x[E]||{},x[E][k._key||Wv]=D}),delete k.listeners,x},{}),{labels:d,listeners:u})}function yp(l,s,a,u){if(s){var d=a.$context,m=a.$groups,v;s[m._set]&&(v=s[m._set][m._key],v&&ii(v,[d,u])===!0&&(l[zn]._dirty=!0,a.update(d)))}}function fD(l,s,a,u,d){var m,v;!a&&!u||(a?u?a!==u&&(v=m=!0):v=!0:m=!0,v&&yp(l,s.leave,a,d),m&&yp(l,s.enter,u,d))}function pD(l,s){var a=l[zn],u=a._listeners,d,m;if(!(!u.enter&&!u.leave)){if(s.type==="mousemove")m=Uu.lookup(a._labels,s);else if(s.type!=="mouseout")return;d=a._hovered,a._hovered=m,fD(l,u,d,m,s)}}function mD(l,s){var a=l[zn],u=a._listeners.click,d=u&&Uu.lookup(a._labels,s);d&&yp(l,u,d,s)}var gD={id:"datalabels",defaults:dD,beforeInit:function(l){l[zn]={_actives:[]}},beforeUpdate:function(l){var s=l[zn];s._listened=!1,s._listeners={},s._datasets=[],s._labels=[]},afterDatasetUpdate:function(l,s,a){var u=s.index,d=l[zn],m=d._datasets[u]=[],v=l.isDatasetVisible(u),x=l.data.datasets[u],k=hD(x,a),D=s.meta.data||[],E=l.ctx,L,P,H,U,Z,ee,K,X;for(E.save(),L=0,H=D.length;L<H;++L)if(K=D[L],K[zn]=[],v&&K&&l.getDataVisibility(L)&&!K.skip)for(P=0,U=k.labels.length;P<U;++P)Z=k.labels[P],ee=Z._key,X=new Hv(Z,E,K,L),X.$groups={_set:u,_key:ee||Wv},X.$context={active:!1,chart:l,dataIndex:L,dataset:x,datasetIndex:u},X.update(X.$context),K[zn].push(X),m.push(X);E.restore(),ia(d._listeners,k.listeners,{merger:function(oe,ne,se){ne[oe]=ne[oe]||{},ne[oe][s.index]=se[oe],d._listened=!0}})},afterUpdate:function(l){l[zn]._labels=Uu.prepare(l[zn]._datasets)},afterDatasetsDraw:function(l){Uu.draw(l,l[zn]._labels)},beforeEvent:function(l,s){if(l[zn]._listened){var a=s.event;switch(a.type){case"mousemove":case"mouseout":pD(l,a);break;case"click":mD(l,a);break}}},afterEvent:function(l){var s=l[zn],a=s._actives,u=s._actives=l.getActiveElements(),d=ju.arrayDiff(a,u),m,v,x,k,D,E,L;for(m=0,v=d.length;m<v;++m)if(D=d[m],D[1])for(L=D[0].element[zn]||[],x=0,k=L.length;x<k;++x)E=L[x],E.$context.active=D[1]===1,E.update(E.$context);(s._dirty||d.length)&&(Uu.update(s._labels),l.render()),delete s._dirty}},ch={exports:{}},vD=ch.exports,Hg;function Jn(){return Hg||(Hg=1,function(l,s){(function(a,u){l.exports=u()})(vD,function(){var a=navigator.userAgent,u=navigator.platform,d=/gecko\/\d/i.test(a),m=/MSIE \d/.test(a),v=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(a),x=/Edge\/(\d+)/.exec(a),k=m||v||x,D=k&&(m?document.documentMode||6:+(x||v)[1]),E=!x&&/WebKit\//.test(a),L=E&&/Qt\/\d+\.\d+/.test(a),P=!x&&/Chrome\/(\d+)/.exec(a),H=P&&+P[1],U=/Opera\//.test(a),Z=/Apple Computer/.test(navigator.vendor),ee=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(a),K=/PhantomJS/.test(a),X=Z&&(/Mobile\/\w+/.test(a)||navigator.maxTouchPoints>2),oe=/Android/.test(a),ne=X||oe||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(a),se=X||/Mac/.test(u),we=/\bCrOS\b/.test(a),be=/win/i.test(u),ve=U&&a.match(/Version\/(\d*\.\d*)/);ve&&(ve=Number(ve[1])),ve&&ve>=15&&(U=!1,E=!0);var De=se&&(L||U&&(ve==null||ve<12.11)),Ge=d||k&&D>=9;function Fe(c){return new RegExp("(^|\\s)"+c+"(?:$|\\s)\\s*")}var Ue=function(c,p){var y=c.className,b=Fe(p).exec(y);if(b){var w=y.slice(b.index+b[0].length);c.className=y.slice(0,b.index)+(w?b[1]+w:"")}};function nt(c){for(var p=c.childNodes.length;p>0;--p)c.removeChild(c.firstChild);return c}function ot(c,p){return nt(c).appendChild(p)}function ce(c,p,y,b){var w=document.createElement(c);if(y&&(w.className=y),b&&(w.style.cssText=b),typeof p=="string")w.appendChild(document.createTextNode(p));else if(p)for(var T=0;T<p.length;++T)w.appendChild(p[T]);return w}function Be(c,p,y,b){var w=ce(c,p,y,b);return w.setAttribute("role","presentation"),w}var Oe;document.createRange?Oe=function(c,p,y,b){var w=document.createRange();return w.setEnd(b||c,y),w.setStart(c,p),w}:Oe=function(c,p,y){var b=document.body.createTextRange();try{b.moveToElementText(c.parentNode)}catch{return b}return b.collapse(!0),b.moveEnd("character",y),b.moveStart("character",p),b};function Je(c,p){if(p.nodeType==3&&(p=p.parentNode),c.contains)return c.contains(p);do if(p.nodeType==11&&(p=p.host),p==c)return!0;while(p=p.parentNode)}function mt(c){var p=c.ownerDocument||c,y;try{y=c.activeElement}catch{y=p.body||null}for(;y&&y.shadowRoot&&y.shadowRoot.activeElement;)y=y.shadowRoot.activeElement;return y}function Ht(c,p){var y=c.className;Fe(p).test(y)||(c.className+=(y?" ":"")+p)}function Ji(c,p){for(var y=c.split(" "),b=0;b<y.length;b++)y[b]&&!Fe(y[b]).test(p)&&(p+=" "+y[b]);return p}var ue=function(c){c.select()};X?ue=function(c){c.selectionStart=0,c.selectionEnd=c.value.length}:k&&(ue=function(c){try{c.select()}catch{}});function $(c){return c.display.wrapper.ownerDocument}function Te(c){return yt(c.display.wrapper)}function yt(c){return c.getRootNode?c.getRootNode():c.ownerDocument}function rt(c){return $(c).defaultView}function Qt(c){var p=Array.prototype.slice.call(arguments,1);return function(){return c.apply(null,p)}}function ni(c,p,y){p||(p={});for(var b in c)c.hasOwnProperty(b)&&(y!==!1||!p.hasOwnProperty(b))&&(p[b]=c[b]);return p}function Vt(c,p,y,b,w){p==null&&(p=c.search(/[^\s\u00a0]/),p==-1&&(p=c.length));for(var T=b||0,M=w||0;;){var O=c.indexOf("	",T);if(O<0||O>=p)return M+(p-T);M+=O-T,M+=y-M%y,T=O+1}}var Nt=function(){this.id=null,this.f=null,this.time=0,this.handler=Qt(this.onTimeout,this)};Nt.prototype.onTimeout=function(c){c.id=0,c.time<=+new Date?c.f():setTimeout(c.handler,c.time-+new Date)},Nt.prototype.set=function(c,p){this.f=p;var y=+new Date+c;(!this.id||y<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,c),this.time=y)};function kt(c,p){for(var y=0;y<c.length;++y)if(c[y]==p)return y;return-1}var Lt=50,si={toString:function(){return"CodeMirror.Pass"}},mi={scroll:!1},ut={origin:"*mouse"},qi={origin:"+move"};function Yi(c,p,y){for(var b=0,w=0;;){var T=c.indexOf("	",b);T==-1&&(T=c.length);var M=T-b;if(T==c.length||w+M>=p)return b+Math.min(M,p-w);if(w+=T-b,w+=y-w%y,b=T+1,w>=p)return b}}var ai=[""];function An(c){for(;ai.length<=c;)ai.push(st(ai)+" ");return ai[c]}function st(c){return c[c.length-1]}function ui(c,p){for(var y=[],b=0;b<c.length;b++)y[b]=p(c[b],b);return y}function ct(c,p,y){for(var b=0,w=y(p);b<c.length&&y(c[b])<=w;)b++;c.splice(b,0,p)}function hs(){}function Ce(c,p){var y;return Object.create?y=Object.create(c):(hs.prototype=c,y=new hs),p&&ni(p,y),y}var ke=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function me(c){return/\w/.test(c)||c>""&&(c.toUpperCase()!=c.toLowerCase()||ke.test(c))}function j(c,p){return p?p.source.indexOf("\\w")>-1&&me(c)?!0:p.test(c):me(c)}function V(c){for(var p in c)if(c.hasOwnProperty(p)&&c[p])return!1;return!0}var he=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function I(c){return c.charCodeAt(0)>=768&&he.test(c)}function R(c,p,y){for(;(y<0?p>0:p<c.length)&&I(c.charAt(p));)p+=y;return p}function Q(c,p,y){for(var b=p>y?-1:1;;){if(p==y)return p;var w=(p+y)/2,T=b<0?Math.ceil(w):Math.floor(w);if(T==p)return c(T)?p:y;c(T)?y=T:p=T+b}}function re(c,p,y,b){if(!c)return b(p,y,"ltr",0);for(var w=!1,T=0;T<c.length;++T){var M=c[T];(M.from<y&&M.to>p||p==y&&M.to==p)&&(b(Math.max(M.from,p),Math.min(M.to,y),M.level==1?"rtl":"ltr",T),w=!0)}w||b(p,y,"ltr")}var de=null;function xe(c,p,y){var b;de=null;for(var w=0;w<c.length;++w){var T=c[w];if(T.from<p&&T.to>p)return w;T.to==p&&(T.from!=T.to&&y=="before"?b=w:de=w),T.from==p&&(T.from!=T.to&&y!="before"?b=w:de=w)}return b??de}var fe=function(){var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",p="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function y(z){return z<=247?c.charAt(z):1424<=z&&z<=1524?"R":1536<=z&&z<=1785?p.charAt(z-1536):1774<=z&&z<=2220?"r":8192<=z&&z<=8203?"w":z==8204?"b":"L"}var b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,w=/[stwN]/,T=/[LRr]/,M=/[Lb1n]/,O=/[1n]/;function B(z,J,ie){this.level=z,this.from=J,this.to=ie}return function(z,J){var ie=J=="ltr"?"L":"R";if(z.length==0||J=="ltr"&&!b.test(z))return!1;for(var ye=z.length,pe=[],Ee=0;Ee<ye;++Ee)pe.push(y(z.charCodeAt(Ee)));for(var Re=0,Ve=ie;Re<ye;++Re){var qe=pe[Re];qe=="m"?pe[Re]=Ve:Ve=qe}for(var Ke=0,Ye=ie;Ke<ye;++Ke){var tt=pe[Ke];tt=="1"&&Ye=="r"?pe[Ke]="n":T.test(tt)&&(Ye=tt,tt=="r"&&(pe[Ke]="R"))}for(var dt=1,lt=pe[0];dt<ye-1;++dt){var Dt=pe[dt];Dt=="+"&&lt=="1"&&pe[dt+1]=="1"?pe[dt]="1":Dt==","&&lt==pe[dt+1]&&(lt=="1"||lt=="n")&&(pe[dt]=lt),lt=Dt}for(var Yt=0;Yt<ye;++Yt){var Ni=pe[Yt];if(Ni==",")pe[Yt]="N";else if(Ni=="%"){var oi=void 0;for(oi=Yt+1;oi<ye&&pe[oi]=="%";++oi);for(var Sn=Yt&&pe[Yt-1]=="!"||oi<ye&&pe[oi]=="1"?"1":"N",rn=Yt;rn<oi;++rn)pe[rn]=Sn;Yt=oi-1}}for(var wi=0,on=ie;wi<ye;++wi){var Wi=pe[wi];on=="L"&&Wi=="1"?pe[wi]="L":T.test(Wi)&&(on=Wi)}for(var ki=0;ki<ye;++ki)if(w.test(pe[ki])){var Si=void 0;for(Si=ki+1;Si<ye&&w.test(pe[Si]);++Si);for(var li=(ki?pe[ki-1]:ie)=="L",ln=(Si<ye?pe[Si]:ie)=="L",Sa=li==ln?li?"L":"R":ie,Gs=ki;Gs<Si;++Gs)pe[Gs]=Sa;ki=Si-1}for(var Ki=[],os,Mi=0;Mi<ye;)if(M.test(pe[Mi])){var bu=Mi;for(++Mi;Mi<ye&&M.test(pe[Mi]);++Mi);Ki.push(new B(0,bu,Mi))}else{var ls=Mi,Da=Ki.length,Xs=J=="rtl"?1:0;for(++Mi;Mi<ye&&pe[Mi]!="L";++Mi);for(var un=ls;un<Mi;)if(O.test(pe[un])){ls<un&&(Ki.splice(Da,0,new B(1,ls,un)),Da+=Xs);var Ta=un;for(++un;un<Mi&&O.test(pe[un]);++un);Ki.splice(Da,0,new B(2,Ta,un)),Da+=Xs,ls=un}else++un;ls<Mi&&Ki.splice(Da,0,new B(1,ls,Mi))}return J=="ltr"&&(Ki[0].level==1&&(os=z.match(/^\s+/))&&(Ki[0].from=os[0].length,Ki.unshift(new B(0,0,os[0].length))),st(Ki).level==1&&(os=z.match(/\s+$/))&&(st(Ki).to-=os[0].length,Ki.push(new B(0,ye-os[0].length,ye)))),J=="rtl"?Ki.reverse():Ki}}();function le(c,p){var y=c.order;return y==null&&(y=c.order=fe(c.text,p)),y}var _e=[],ge=function(c,p,y){if(c.addEventListener)c.addEventListener(p,y,!1);else if(c.attachEvent)c.attachEvent("on"+p,y);else{var b=c._handlers||(c._handlers={});b[p]=(b[p]||_e).concat(y)}};function je(c,p){return c._handlers&&c._handlers[p]||_e}function Qe(c,p,y){if(c.removeEventListener)c.removeEventListener(p,y,!1);else if(c.detachEvent)c.detachEvent("on"+p,y);else{var b=c._handlers,w=b&&b[p];if(w){var T=kt(w,y);T>-1&&(b[p]=w.slice(0,T).concat(w.slice(T+1)))}}}function et(c,p){var y=je(c,p);if(y.length)for(var b=Array.prototype.slice.call(arguments,2),w=0;w<y.length;++w)y[w].apply(null,b)}function We(c,p,y){return typeof p=="string"&&(p={type:p,preventDefault:function(){this.defaultPrevented=!0}}),et(c,y||p.type,c,p),jt(p)||p.codemirrorIgnore}function gt(c){var p=c._handlers&&c._handlers.cursorActivity;if(p)for(var y=c.curOp.cursorActivityHandlers||(c.curOp.cursorActivityHandlers=[]),b=0;b<p.length;++b)kt(y,p[b])==-1&&y.push(p[b])}function _t(c,p){return je(c,p).length>0}function Ct(c){c.prototype.on=function(p,y){ge(this,p,y)},c.prototype.off=function(p,y){Qe(this,p,y)}}function ft(c){c.preventDefault?c.preventDefault():c.returnValue=!1}function Wt(c){c.stopPropagation?c.stopPropagation():c.cancelBubble=!0}function jt(c){return c.defaultPrevented!=null?c.defaultPrevented:c.returnValue==!1}function gi(c){ft(c),Wt(c)}function Qi(c){return c.target||c.srcElement}function Gi(c){var p=c.which;return p==null&&(c.button&1?p=1:c.button&2?p=3:c.button&4&&(p=2)),se&&c.ctrlKey&&p==1&&(p=3),p}var sa=function(){if(k&&D<9)return!1;var c=ce("div");return"draggable"in c||"dragDrop"in c}(),aa;function Tr(c){if(aa==null){var p=ce("span","​");ot(c,ce("span",[p,document.createTextNode("x")])),c.firstChild.offsetHeight!=0&&(aa=p.offsetWidth<=1&&p.offsetHeight>2&&!(k&&D<8))}var y=aa?ce("span","​"):ce("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return y.setAttribute("cm-text",""),y}var Qn;function za(c){if(Qn!=null)return Qn;var p=ot(c,document.createTextNode("AخA")),y=Oe(p,0,1).getBoundingClientRect(),b=Oe(p,1,2).getBoundingClientRect();return nt(c),!y||y.left==y.right?!1:Qn=b.right-y.right<3}var Ha=`

b`.split(/\n/).length!=3?function(c){for(var p=0,y=[],b=c.length;p<=b;){var w=c.indexOf(`
`,p);w==-1&&(w=c.length);var T=c.slice(p,c.charAt(w-1)=="\r"?w-1:w),M=T.indexOf("\r");M!=-1?(y.push(T.slice(0,M)),p+=M+1):(y.push(T),p=w+1)}return y}:function(c){return c.split(/\r\n?|\n/)},ll=window.getSelection?function(c){try{return c.selectionStart!=c.selectionEnd}catch{return!1}}:function(c){var p;try{p=c.ownerDocument.selection.createRange()}catch{}return!p||p.parentElement()!=c?!1:p.compareEndPoints("StartToEnd",p)!=0},vi=function(){var c=ce("div");return"oncopy"in c?!0:(c.setAttribute("oncopy","return;"),typeof c.oncopy=="function")}(),dn=null;function Mn(c){if(dn!=null)return dn;var p=ot(c,ce("span","x")),y=p.getBoundingClientRect(),b=Oe(p,0,1).getBoundingClientRect();return dn=Math.abs(y.left-b.left)>1}var yn={},hn={};function Fs(c,p){arguments.length>2&&(p.dependencies=Array.prototype.slice.call(arguments,2)),yn[c]=p}function Is(c,p){hn[c]=p}function Ls(c){if(typeof c=="string"&&hn.hasOwnProperty(c))c=hn[c];else if(c&&typeof c.name=="string"&&hn.hasOwnProperty(c.name)){var p=hn[c.name];typeof p=="string"&&(p={name:p}),c=Ce(p,c),c.name=p.name}else{if(typeof c=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(c))return Ls("application/xml");if(typeof c=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(c))return Ls("application/json")}return typeof c=="string"?{name:c}:c||{name:"null"}}function ra(c,p){p=Ls(p);var y=yn[p.name];if(!y)return ra(c,"text/plain");var b=y(c,p);if(oa.hasOwnProperty(p.name)){var w=oa[p.name];for(var T in w)w.hasOwnProperty(T)&&(b.hasOwnProperty(T)&&(b["_"+T]=b[T]),b[T]=w[T])}if(b.name=p.name,p.helperType&&(b.helperType=p.helperType),p.modeProps)for(var M in p.modeProps)b[M]=p.modeProps[M];return b}var oa={};function sc(c,p){var y=oa.hasOwnProperty(c)?oa[c]:oa[c]={};ni(p,y)}function Os(c,p){if(p===!0)return p;if(c.copyState)return c.copyState(p);var y={};for(var b in p){var w=p[b];w instanceof Array&&(w=w.concat([])),y[b]=w}return y}function vo(c,p){for(var y;c.innerMode&&(y=c.innerMode(p),!(!y||y.mode==c));)p=y.state,c=y.mode;return y||{mode:c,state:p}}function ac(c,p,y){return c.startState?c.startState(p,y):!0}var Ci=function(c,p,y){this.pos=this.start=0,this.string=c,this.tabSize=p||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=y};Ci.prototype.eol=function(){return this.pos>=this.string.length},Ci.prototype.sol=function(){return this.pos==this.lineStart},Ci.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ci.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ci.prototype.eat=function(c){var p=this.string.charAt(this.pos),y;if(typeof c=="string"?y=p==c:y=p&&(c.test?c.test(p):c(p)),y)return++this.pos,p},Ci.prototype.eatWhile=function(c){for(var p=this.pos;this.eat(c););return this.pos>p},Ci.prototype.eatSpace=function(){for(var c=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>c},Ci.prototype.skipToEnd=function(){this.pos=this.string.length},Ci.prototype.skipTo=function(c){var p=this.string.indexOf(c,this.pos);if(p>-1)return this.pos=p,!0},Ci.prototype.backUp=function(c){this.pos-=c},Ci.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Vt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Vt(this.string,this.lineStart,this.tabSize):0)},Ci.prototype.indentation=function(){return Vt(this.string,null,this.tabSize)-(this.lineStart?Vt(this.string,this.lineStart,this.tabSize):0)},Ci.prototype.match=function(c,p,y){if(typeof c=="string"){var b=function(M){return y?M.toLowerCase():M},w=this.string.substr(this.pos,c.length);if(b(w)==b(c))return p!==!1&&(this.pos+=c.length),!0}else{var T=this.string.slice(this.pos).match(c);return T&&T.index>0?null:(T&&p!==!1&&(this.pos+=T[0].length),T)}},Ci.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ci.prototype.hideFirstChars=function(c,p){this.lineStart+=c;try{return p()}finally{this.lineStart-=c}},Ci.prototype.lookAhead=function(c){var p=this.lineOracle;return p&&p.lookAhead(c)},Ci.prototype.baseToken=function(){var c=this.lineOracle;return c&&c.baseToken(this.pos)};function at(c,p){if(p-=c.first,p<0||p>=c.size)throw new Error("There is no line "+(p+c.first)+" in the document.");for(var y=c;!y.lines;)for(var b=0;;++b){var w=y.children[b],T=w.chunkSize();if(p<T){y=w;break}p-=T}return y.lines[p]}function fs(c,p,y){var b=[],w=p.line;return c.iter(p.line,y.line+1,function(T){var M=T.text;w==y.line&&(M=M.slice(0,y.ch)),w==p.line&&(M=M.slice(p.ch)),b.push(M),++w}),b}function Er(c,p,y){var b=[];return c.iter(p,y,function(w){b.push(w.text)}),b}function $n(c,p){var y=p-c.height;if(y)for(var b=c;b;b=b.parent)b.height+=y}function Rt(c){if(c.parent==null)return null;for(var p=c.parent,y=kt(p.lines,c),b=p.parent;b;p=b,b=b.parent)for(var w=0;b.children[w]!=p;++w)y+=b.children[w].chunkSize();return y+p.first}function Ps(c,p){var y=c.first;e:do{for(var b=0;b<c.children.length;++b){var w=c.children[b],T=w.height;if(p<T){c=w;continue e}p-=T,y+=w.chunkSize()}return y}while(!c.lines);for(var M=0;M<c.lines.length;++M){var O=c.lines[M],B=O.height;if(p<B)break;p-=B}return y+M}function $a(c,p){return p>=c.first&&p<c.first+c.size}function bo(c,p){return String(c.lineNumberFormatter(p+c.firstLineNumber))}function ze(c,p,y){if(y===void 0&&(y=null),!(this instanceof ze))return new ze(c,p,y);this.line=c,this.ch=p,this.sticky=y}function vt(c,p){return c.line-p.line||c.ch-p.ch}function yo(c,p){return c.sticky==p.sticky&&vt(c,p)==0}function _o(c){return ze(c.line,c.ch)}function Ar(c,p){return vt(c,p)<0?p:c}function Mr(c,p){return vt(c,p)<0?c:p}function _n(c,p){return Math.max(c.first,Math.min(p,c.first+c.size-1))}function xt(c,p){if(p.line<c.first)return ze(c.first,0);var y=c.first+c.size-1;return p.line>y?ze(y,at(c,y).text.length):ul(p,at(c,p.line).text.length)}function ul(c,p){var y=c.ch;return y==null||y>p?ze(c.line,p):y<0?ze(c.line,0):c}function rc(c,p){for(var y=[],b=0;b<p.length;b++)y[b]=xt(c,p[b]);return y}var Bs=function(c,p){this.state=c,this.lookAhead=p},Vn=function(c,p,y,b){this.state=p,this.doc=c,this.line=y,this.maxLookAhead=b||0,this.baseTokens=null,this.baseTokenPos=1};Vn.prototype.lookAhead=function(c){var p=this.doc.getLine(this.line+c);return p!=null&&c>this.maxLookAhead&&(this.maxLookAhead=c),p},Vn.prototype.baseToken=function(c){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=c;)this.baseTokenPos+=2;var p=this.baseTokens[this.baseTokenPos+1];return{type:p&&p.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-c}},Vn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Vn.fromSaved=function(c,p,y){return p instanceof Bs?new Vn(c,Os(c.mode,p.state),y,p.lookAhead):new Vn(c,Os(c.mode,p),y)},Vn.prototype.save=function(c){var p=c!==!1?Os(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Bs(p,this.maxLookAhead):p};function cl(c,p,y,b){var w=[c.state.modeGen],T={};gl(c,p.text,c.doc.mode,y,function(z,J){return w.push(z,J)},T,b);for(var M=y.state,O=function(z){y.baseTokens=w;var J=c.state.overlays[z],ie=1,ye=0;y.state=!0,gl(c,p.text,J.mode,y,function(pe,Ee){for(var Re=ie;ye<pe;){var Ve=w[ie];Ve>pe&&w.splice(ie,1,pe,w[ie+1],Ve),ie+=2,ye=Math.min(pe,Ve)}if(Ee)if(J.opaque)w.splice(Re,ie-Re,pe,"overlay "+Ee),ie=Re+2;else for(;Re<ie;Re+=2){var qe=w[Re+1];w[Re+1]=(qe?qe+" ":"")+"overlay "+Ee}},T),y.state=M,y.baseTokens=null,y.baseTokenPos=1},B=0;B<c.state.overlays.length;++B)O(B);return{styles:w,classes:T.bgClass||T.textClass?T:null}}function dl(c,p,y){if(!p.styles||p.styles[0]!=c.state.modeGen){var b=Va(c,Rt(p)),w=p.text.length>c.options.maxHighlightLength&&Os(c.doc.mode,b.state),T=cl(c,p,b);w&&(b.state=w),p.stateAfter=b.save(!w),p.styles=T.styles,T.classes?p.styleClasses=T.classes:p.styleClasses&&(p.styleClasses=null),y===c.doc.highlightFrontier&&(c.doc.modeFrontier=Math.max(c.doc.modeFrontier,++c.doc.highlightFrontier))}return p.styles}function Va(c,p,y){var b=c.doc,w=c.display;if(!b.mode.startState)return new Vn(b,!0,p);var T=oc(c,p,y),M=T>b.first&&at(b,T-1).stateAfter,O=M?Vn.fromSaved(b,M,T):new Vn(b,ac(b.mode),T);return b.iter(T,p,function(B){xo(c,B.text,O);var z=O.line;B.stateAfter=z==p-1||z%5==0||z>=w.viewFrom&&z<w.viewTo?O.save():null,O.nextLine()}),y&&(b.modeFrontier=O.line),O}function xo(c,p,y,b){var w=c.doc.mode,T=new Ci(p,c.options.tabSize,y);for(T.start=T.pos=b||0,p==""&&hl(w,y.state);!T.eol();)Co(w,T,y.state),T.start=T.pos}function hl(c,p){if(c.blankLine)return c.blankLine(p);if(c.innerMode){var y=vo(c,p);if(y.mode.blankLine)return y.mode.blankLine(y.state)}}function Co(c,p,y,b){for(var w=0;w<10;w++){b&&(b[0]=vo(c,y).mode);var T=c.token(p,y);if(p.pos>p.start)return T}throw new Error("Mode "+c.name+" failed to advance stream.")}var fl=function(c,p,y){this.start=c.start,this.end=c.pos,this.string=c.current(),this.type=p||null,this.state=y};function pl(c,p,y,b){var w=c.doc,T=w.mode,M;p=xt(w,p);var O=at(w,p.line),B=Va(c,p.line,y),z=new Ci(O.text,c.options.tabSize,B),J;for(b&&(J=[]);(b||z.pos<p.ch)&&!z.eol();)z.start=z.pos,M=Co(T,z,B.state),b&&J.push(new fl(z,M,Os(w.mode,B.state)));return b?J:new fl(z,M,B.state)}function ml(c,p){if(c)for(;;){var y=c.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!y)break;c=c.slice(0,y.index)+c.slice(y.index+y[0].length);var b=y[1]?"bgClass":"textClass";p[b]==null?p[b]=y[2]:new RegExp("(?:^|\\s)"+y[2]+"(?:$|\\s)").test(p[b])||(p[b]+=" "+y[2])}return c}function gl(c,p,y,b,w,T,M){var O=y.flattenSpans;O==null&&(O=c.options.flattenSpans);var B=0,z=null,J=new Ci(p,c.options.tabSize,b),ie,ye=c.options.addModeClass&&[null];for(p==""&&ml(hl(y,b.state),T);!J.eol();){if(J.pos>c.options.maxHighlightLength?(O=!1,M&&xo(c,p,b,J.pos),J.pos=p.length,ie=null):ie=ml(Co(y,J,b.state,ye),T),ye){var pe=ye[0].name;pe&&(ie="m-"+(ie?pe+" "+ie:pe))}if(!O||z!=ie){for(;B<J.start;)B=Math.min(J.start,B+5e3),w(B,z);z=ie}J.start=J.pos}for(;B<J.pos;){var Ee=Math.min(J.pos,B+5e3);w(Ee,z),B=Ee}}function oc(c,p,y){for(var b,w,T=c.doc,M=y?-1:p-(c.doc.mode.innerMode?1e3:100),O=p;O>M;--O){if(O<=T.first)return T.first;var B=at(T,O-1),z=B.stateAfter;if(z&&(!y||O+(z instanceof Bs?z.lookAhead:0)<=T.modeFrontier))return O;var J=Vt(B.text,null,c.options.tabSize);(w==null||b>J)&&(w=O-1,b=J)}return w}function Ah(c,p){if(c.modeFrontier=Math.min(c.modeFrontier,p),!(c.highlightFrontier<p-10)){for(var y=c.first,b=p-1;b>y;b--){var w=at(c,b).stateAfter;if(w&&(!(w instanceof Bs)||b+w.lookAhead<p)){y=b+1;break}}c.highlightFrontier=Math.min(c.highlightFrontier,y)}}var vl=!1,On=!1;function lc(){vl=!0}function Mh(){On=!0}function wo(c,p,y){this.marker=c,this.from=p,this.to=y}function Fr(c,p){if(c)for(var y=0;y<c.length;++y){var b=c[y];if(b.marker==p)return b}}function Fh(c,p){for(var y,b=0;b<c.length;++b)c[b]!=p&&(y||(y=[])).push(c[b]);return y}function Ih(c,p,y){var b=y&&window.WeakSet&&(y.markedSpans||(y.markedSpans=new WeakSet));b&&c.markedSpans&&b.has(c.markedSpans)?c.markedSpans.push(p):(c.markedSpans=c.markedSpans?c.markedSpans.concat([p]):[p],b&&b.add(c.markedSpans)),p.marker.attachLine(c)}function Lh(c,p,y){var b;if(c)for(var w=0;w<c.length;++w){var T=c[w],M=T.marker,O=T.from==null||(M.inclusiveLeft?T.from<=p:T.from<p);if(O||T.from==p&&M.type=="bookmark"&&(!y||!T.marker.insertLeft)){var B=T.to==null||(M.inclusiveRight?T.to>=p:T.to>p);(b||(b=[])).push(new wo(M,T.from,B?null:T.to))}}return b}function Wa(c,p,y){var b;if(c)for(var w=0;w<c.length;++w){var T=c[w],M=T.marker,O=T.to==null||(M.inclusiveRight?T.to>=p:T.to>p);if(O||T.from==p&&M.type=="bookmark"&&(!y||T.marker.insertLeft)){var B=T.from==null||(M.inclusiveLeft?T.from<=p:T.from<p);(b||(b=[])).push(new wo(M,B?null:T.from-p,T.to==null?null:T.to-p))}}return b}function bl(c,p){if(p.full)return null;var y=$a(c,p.from.line)&&at(c,p.from.line).markedSpans,b=$a(c,p.to.line)&&at(c,p.to.line).markedSpans;if(!y&&!b)return null;var w=p.from.ch,T=p.to.ch,M=vt(p.from,p.to)==0,O=Lh(y,w,M),B=Wa(b,T,M),z=p.text.length==1,J=st(p.text).length+(z?w:0);if(O)for(var ie=0;ie<O.length;++ie){var ye=O[ie];if(ye.to==null){var pe=Fr(B,ye.marker);pe?z&&(ye.to=pe.to==null?null:pe.to+J):ye.to=w}}if(B)for(var Ee=0;Ee<B.length;++Ee){var Re=B[Ee];if(Re.to!=null&&(Re.to+=J),Re.from==null){var Ve=Fr(O,Re.marker);Ve||(Re.from=J,z&&(O||(O=[])).push(Re))}else Re.from+=J,z&&(O||(O=[])).push(Re)}O&&(O=pt(O)),B&&B!=O&&(B=pt(B));var qe=[O];if(!z){var Ke=p.text.length-2,Ye;if(Ke>0&&O)for(var tt=0;tt<O.length;++tt)O[tt].to==null&&(Ye||(Ye=[])).push(new wo(O[tt].marker,null,null));for(var dt=0;dt<Ke;++dt)qe.push(Ye);qe.push(B)}return qe}function pt(c){for(var p=0;p<c.length;++p){var y=c[p];y.from!=null&&y.from==y.to&&y.marker.clearWhenEmpty!==!1&&c.splice(p--,1)}return c.length?c:null}function en(c,p,y){var b=null;if(c.iter(p.line,y.line+1,function(pe){if(pe.markedSpans)for(var Ee=0;Ee<pe.markedSpans.length;++Ee){var Re=pe.markedSpans[Ee].marker;Re.readOnly&&(!b||kt(b,Re)==-1)&&(b||(b=[])).push(Re)}}),!b)return null;for(var w=[{from:p,to:y}],T=0;T<b.length;++T)for(var M=b[T],O=M.find(0),B=0;B<w.length;++B){var z=w[B];if(!(vt(z.to,O.from)<0||vt(z.from,O.to)>0)){var J=[B,1],ie=vt(z.from,O.from),ye=vt(z.to,O.to);(ie<0||!M.inclusiveLeft&&!ie)&&J.push({from:z.from,to:O.from}),(ye>0||!M.inclusiveRight&&!ye)&&J.push({from:O.to,to:z.to}),w.splice.apply(w,J),B+=J.length-3}}return w}function uc(c){var p=c.markedSpans;if(p){for(var y=0;y<p.length;++y)p[y].marker.detachLine(c);c.markedSpans=null}}function Ns(c,p){if(p){for(var y=0;y<p.length;++y)p[y].marker.attachLine(c);c.markedSpans=p}}function es(c){return c.inclusiveLeft?-1:0}function ps(c){return c.inclusiveRight?1:0}function ms(c,p){var y=c.lines.length-p.lines.length;if(y!=0)return y;var b=c.find(),w=p.find(),T=vt(b.from,w.from)||es(c)-es(p);if(T)return-T;var M=vt(b.to,w.to)||ps(c)-ps(p);return M||p.id-c.id}function la(c,p){var y=On&&c.markedSpans,b;if(y)for(var w=void 0,T=0;T<y.length;++T)w=y[T],w.marker.collapsed&&(p?w.from:w.to)==null&&(!b||ms(b,w.marker)<0)&&(b=w.marker);return b}function yl(c){return la(c,!0)}function Ir(c){return la(c,!1)}function cc(c,p){var y=On&&c.markedSpans,b;if(y)for(var w=0;w<y.length;++w){var T=y[w];T.marker.collapsed&&(T.from==null||T.from<p)&&(T.to==null||T.to>p)&&(!b||ms(b,T.marker)<0)&&(b=T.marker)}return b}function ko(c,p,y,b,w){var T=at(c,p),M=On&&T.markedSpans;if(M)for(var O=0;O<M.length;++O){var B=M[O];if(B.marker.collapsed){var z=B.marker.find(0),J=vt(z.from,y)||es(B.marker)-es(w),ie=vt(z.to,b)||ps(B.marker)-ps(w);if(!(J>=0&&ie<=0||J<=0&&ie>=0)&&(J<=0&&(B.marker.inclusiveRight&&w.inclusiveLeft?vt(z.to,y)>=0:vt(z.to,y)>0)||J>=0&&(B.marker.inclusiveRight&&w.inclusiveLeft?vt(z.from,b)<=0:vt(z.from,b)<0)))return!0}}}function $i(c){for(var p;p=yl(c);)c=p.find(-1,!0).line;return c}function dc(c){for(var p;p=Ir(c);)c=p.find(1,!0).line;return c}function Oh(c){for(var p,y;p=Ir(c);)c=p.find(1,!0).line,(y||(y=[])).push(c);return y}function _l(c,p){var y=at(c,p),b=$i(y);return y==b?p:Rt(b)}function hc(c,p){if(p>c.lastLine())return p;var y=at(c,p),b;if(!bi(c,y))return p;for(;b=Ir(y);)y=b.find(1,!0).line;return Rt(y)+1}function bi(c,p){var y=On&&p.markedSpans;if(y){for(var b=void 0,w=0;w<y.length;++w)if(b=y[w],!!b.marker.collapsed){if(b.from==null)return!0;if(!b.marker.widgetNode&&b.from==0&&b.marker.inclusiveLeft&&W(c,p,b))return!0}}}function W(c,p,y){if(y.to==null){var b=y.marker.find(1,!0);return W(c,b.line,Fr(b.line.markedSpans,y.marker))}if(y.marker.inclusiveRight&&y.to==p.text.length)return!0;for(var w=void 0,T=0;T<p.markedSpans.length;++T)if(w=p.markedSpans[T],w.marker.collapsed&&!w.marker.widgetNode&&w.from==y.to&&(w.to==null||w.to!=y.from)&&(w.marker.inclusiveLeft||y.marker.inclusiveRight)&&W(c,p,w))return!0}function ts(c){c=$i(c);for(var p=0,y=c.parent,b=0;b<y.lines.length;++b){var w=y.lines[b];if(w==c)break;p+=w.height}for(var T=y.parent;T;y=T,T=y.parent)for(var M=0;M<T.children.length;++M){var O=T.children[M];if(O==y)break;p+=O.height}return p}function Rs(c){if(c.height==0)return 0;for(var p=c.text.length,y,b=c;y=yl(b);){var w=y.find(0,!0);b=w.from.line,p+=w.from.ch-w.to.ch}for(b=c;y=Ir(b);){var T=y.find(0,!0);p-=b.text.length-T.from.ch,b=T.to.line,p+=b.text.length-T.to.ch}return p}function is(c){var p=c.display,y=c.doc;p.maxLine=at(y,y.first),p.maxLineLength=Rs(p.maxLine),p.maxLineChanged=!0,y.iter(function(b){var w=Rs(b);w>p.maxLineLength&&(p.maxLineLength=w,p.maxLine=b)})}var ja=function(c,p,y){this.text=c,Ns(this,p),this.height=y?y(this):1};ja.prototype.lineNo=function(){return Rt(this)},Ct(ja);function Ph(c,p,y,b){c.text=p,c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null),c.order!=null&&(c.order=null),uc(c),Ns(c,y);var w=b?b(c):1;w!=c.height&&$n(c,w)}function gs(c){c.parent=null,uc(c)}var Bh={},Nh={};function fc(c,p){if(!c||/^\s*$/.test(c))return null;var y=p.addModeClass?Nh:Bh;return y[c]||(y[c]=c.replace(/\S+/g,"cm-$&"))}function pc(c,p){var y=Be("span",null,null,E?"padding-right: .1px":null),b={pre:Be("pre",[y],"CodeMirror-line"),content:y,col:0,pos:0,cm:c,trailingSpace:!1,splitSpaces:c.getOption("lineWrapping")};p.measure={};for(var w=0;w<=(p.rest?p.rest.length:0);w++){var T=w?p.rest[w-1]:p.line,M=void 0;b.pos=0,b.addToken=mc,za(c.display.measure)&&(M=le(T,c.doc.direction))&&(b.addToken=Hh(b.addToken,M)),b.map=[];var O=p!=c.display.externalMeasured&&Rt(T);$h(T,b,dl(c,T,O)),T.styleClasses&&(T.styleClasses.bgClass&&(b.bgClass=Ji(T.styleClasses.bgClass,b.bgClass||"")),T.styleClasses.textClass&&(b.textClass=Ji(T.styleClasses.textClass,b.textClass||""))),b.map.length==0&&b.map.push(0,0,b.content.appendChild(Tr(c.display.measure))),w==0?(p.measure.map=b.map,p.measure.cache={}):((p.measure.maps||(p.measure.maps=[])).push(b.map),(p.measure.caches||(p.measure.caches=[])).push({}))}if(E){var B=b.content.lastChild;(/\bcm-tab\b/.test(B.className)||B.querySelector&&B.querySelector(".cm-tab"))&&(b.content.className="cm-tab-wrap-hack")}return et(c,"renderLine",c,p.line,b.pre),b.pre.className&&(b.textClass=Ji(b.pre.className,b.textClass||"")),b}function Rh(c){var p=ce("span","•","cm-invalidchar");return p.title="\\u"+c.charCodeAt(0).toString(16),p.setAttribute("aria-label",p.title),p}function mc(c,p,y,b,w,T,M){if(p){var O=c.splitSpaces?zh(p,c.trailingSpace):p,B=c.cm.state.specialChars,z=!1,J;if(!B.test(p))c.col+=p.length,J=document.createTextNode(O),c.map.push(c.pos,c.pos+p.length,J),k&&D<9&&(z=!0),c.pos+=p.length;else{J=document.createDocumentFragment();for(var ie=0;;){B.lastIndex=ie;var ye=B.exec(p),pe=ye?ye.index-ie:p.length-ie;if(pe){var Ee=document.createTextNode(O.slice(ie,ie+pe));k&&D<9?J.appendChild(ce("span",[Ee])):J.appendChild(Ee),c.map.push(c.pos,c.pos+pe,Ee),c.col+=pe,c.pos+=pe}if(!ye)break;ie+=pe+1;var Re=void 0;if(ye[0]=="	"){var Ve=c.cm.options.tabSize,qe=Ve-c.col%Ve;Re=J.appendChild(ce("span",An(qe),"cm-tab")),Re.setAttribute("role","presentation"),Re.setAttribute("cm-text","	"),c.col+=qe}else ye[0]=="\r"||ye[0]==`
`?(Re=J.appendChild(ce("span",ye[0]=="\r"?"␍":"␤","cm-invalidchar")),Re.setAttribute("cm-text",ye[0]),c.col+=1):(Re=c.cm.options.specialCharPlaceholder(ye[0]),Re.setAttribute("cm-text",ye[0]),k&&D<9?J.appendChild(ce("span",[Re])):J.appendChild(Re),c.col+=1);c.map.push(c.pos,c.pos+1,Re),c.pos++}}if(c.trailingSpace=O.charCodeAt(p.length-1)==32,y||b||w||z||T||M){var Ke=y||"";b&&(Ke+=b),w&&(Ke+=w);var Ye=ce("span",[J],Ke,T);if(M)for(var tt in M)M.hasOwnProperty(tt)&&tt!="style"&&tt!="class"&&Ye.setAttribute(tt,M[tt]);return c.content.appendChild(Ye)}c.content.appendChild(J)}}function zh(c,p){if(c.length>1&&!/  /.test(c))return c;for(var y=p,b="",w=0;w<c.length;w++){var T=c.charAt(w);T==" "&&y&&(w==c.length-1||c.charCodeAt(w+1)==32)&&(T=" "),b+=T,y=T==" "}return b}function Hh(c,p){return function(y,b,w,T,M,O,B){w=w?w+" cm-force-border":"cm-force-border";for(var z=y.pos,J=z+b.length;;){for(var ie=void 0,ye=0;ye<p.length&&(ie=p[ye],!(ie.to>z&&ie.from<=z));ye++);if(ie.to>=J)return c(y,b,w,T,M,O,B);c(y,b.slice(0,ie.to-z),w,T,null,O,B),T=null,b=b.slice(ie.to-z),z=ie.to}}}function gc(c,p,y,b){var w=!b&&y.widgetNode;w&&c.map.push(c.pos,c.pos+p,w),!b&&c.cm.display.input.needsContentAttribute&&(w||(w=c.content.appendChild(document.createElement("span"))),w.setAttribute("cm-marker",y.id)),w&&(c.cm.display.input.setUneditable(w),c.content.appendChild(w)),c.pos+=p,c.trailingSpace=!1}function $h(c,p,y){var b=c.markedSpans,w=c.text,T=0;if(!b){for(var M=1;M<y.length;M+=2)p.addToken(p,w.slice(T,T=y[M]),fc(y[M+1],p.cm.options));return}for(var O=w.length,B=0,z=1,J="",ie,ye,pe=0,Ee,Re,Ve,qe,Ke;;){if(pe==B){Ee=Re=Ve=ye="",Ke=null,qe=null,pe=1/0;for(var Ye=[],tt=void 0,dt=0;dt<b.length;++dt){var lt=b[dt],Dt=lt.marker;if(Dt.type=="bookmark"&&lt.from==B&&Dt.widgetNode)Ye.push(Dt);else if(lt.from<=B&&(lt.to==null||lt.to>B||Dt.collapsed&&lt.to==B&&lt.from==B)){if(lt.to!=null&&lt.to!=B&&pe>lt.to&&(pe=lt.to,Re=""),Dt.className&&(Ee+=" "+Dt.className),Dt.css&&(ye=(ye?ye+";":"")+Dt.css),Dt.startStyle&&lt.from==B&&(Ve+=" "+Dt.startStyle),Dt.endStyle&&lt.to==pe&&(tt||(tt=[])).push(Dt.endStyle,lt.to),Dt.title&&((Ke||(Ke={})).title=Dt.title),Dt.attributes)for(var Yt in Dt.attributes)(Ke||(Ke={}))[Yt]=Dt.attributes[Yt];Dt.collapsed&&(!qe||ms(qe.marker,Dt)<0)&&(qe=lt)}else lt.from>B&&pe>lt.from&&(pe=lt.from)}if(tt)for(var Ni=0;Ni<tt.length;Ni+=2)tt[Ni+1]==pe&&(Re+=" "+tt[Ni]);if(!qe||qe.from==B)for(var oi=0;oi<Ye.length;++oi)gc(p,0,Ye[oi]);if(qe&&(qe.from||0)==B){if(gc(p,(qe.to==null?O+1:qe.to)-B,qe.marker,qe.from==null),qe.to==null)return;qe.to==B&&(qe=!1)}}if(B>=O)break;for(var Sn=Math.min(O,pe);;){if(J){var rn=B+J.length;if(!qe){var wi=rn>Sn?J.slice(0,Sn-B):J;p.addToken(p,wi,ie?ie+Ee:Ee,Ve,B+wi.length==pe?Re:"",ye,Ke)}if(rn>=Sn){J=J.slice(Sn-B),B=Sn;break}B=rn,Ve=""}J=w.slice(T,T=y[z++]),ie=fc(y[z++],p.cm.options)}}}function xl(c,p,y){this.line=p,this.rest=Oh(p),this.size=this.rest?Rt(st(this.rest))-y+1:1,this.node=this.text=null,this.hidden=bi(c,p)}function Ua(c,p,y){for(var b=[],w,T=p;T<y;T=w){var M=new xl(c.doc,at(c.doc,T),T);w=T+M.size,b.push(M)}return b}var qa=null;function Vh(c){qa?qa.ops.push(c):c.ownsGroup=qa={ops:[c],delayedCallbacks:[]}}function Wh(c){var p=c.delayedCallbacks,y=0;do{for(;y<p.length;y++)p[y].call(null);for(var b=0;b<c.ops.length;b++){var w=c.ops[b];if(w.cursorActivityHandlers)for(;w.cursorActivityCalled<w.cursorActivityHandlers.length;)w.cursorActivityHandlers[w.cursorActivityCalled++].call(null,w.cm)}}while(y<p.length)}function vc(c,p){var y=c.ownsGroup;if(y)try{Wh(y)}finally{qa=null,p(y)}}var Ya=null;function Pi(c,p){var y=je(c,p);if(y.length){var b=Array.prototype.slice.call(arguments,2),w;qa?w=qa.delayedCallbacks:Ya?w=Ya:(w=Ya=[],setTimeout(bc,0));for(var T=function(O){w.push(function(){return y[O].apply(null,b)})},M=0;M<y.length;++M)T(M)}}function bc(){var c=Ya;Ya=null;for(var p=0;p<c.length;++p)c[p]()}function Wn(c,p,y,b){for(var w=0;w<p.changes.length;w++){var T=p.changes[w];T=="text"?Ga(c,p):T=="gutter"?ca(c,p,y,b):T=="class"?Cl(c,p):T=="widget"&&Uh(c,p,b)}p.changes=null}function ua(c){return c.node==c.text&&(c.node=ce("div",null,null,"position: relative"),c.text.parentNode&&c.text.parentNode.replaceChild(c.node,c.text),c.node.appendChild(c.text),k&&D<8&&(c.node.style.zIndex=2)),c.node}function jh(c,p){var y=p.bgClass?p.bgClass+" "+(p.line.bgClass||""):p.line.bgClass;if(y&&(y+=" CodeMirror-linebackground"),p.background)y?p.background.className=y:(p.background.parentNode.removeChild(p.background),p.background=null);else if(y){var b=ua(p);p.background=b.insertBefore(ce("div",null,y),b.firstChild),c.display.input.setUneditable(p.background)}}function So(c,p){var y=c.display.externalMeasured;return y&&y.line==p.line?(c.display.externalMeasured=null,p.measure=y.measure,y.built):pc(c,p)}function Ga(c,p){var y=p.text.className,b=So(c,p);p.text==p.node&&(p.node=b.pre),p.text.parentNode.replaceChild(b.pre,p.text),p.text=b.pre,b.bgClass!=p.bgClass||b.textClass!=p.textClass?(p.bgClass=b.bgClass,p.textClass=b.textClass,Cl(c,p)):y&&(p.text.className=y)}function Cl(c,p){jh(c,p),p.line.wrapClass?ua(p).className=p.line.wrapClass:p.node!=p.text&&(p.node.className="");var y=p.textClass?p.textClass+" "+(p.line.textClass||""):p.line.textClass;p.text.className=y||""}function ca(c,p,y,b){if(p.gutter&&(p.node.removeChild(p.gutter),p.gutter=null),p.gutterBackground&&(p.node.removeChild(p.gutterBackground),p.gutterBackground=null),p.line.gutterClass){var w=ua(p);p.gutterBackground=ce("div",null,"CodeMirror-gutter-background "+p.line.gutterClass,"left: "+(c.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px; width: "+b.gutterTotalWidth+"px"),c.display.input.setUneditable(p.gutterBackground),w.insertBefore(p.gutterBackground,p.text)}var T=p.line.gutterMarkers;if(c.options.lineNumbers||T){var M=ua(p),O=p.gutter=ce("div",null,"CodeMirror-gutter-wrapper","left: "+(c.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px");if(O.setAttribute("aria-hidden","true"),c.display.input.setUneditable(O),M.insertBefore(O,p.text),p.line.gutterClass&&(O.className+=" "+p.line.gutterClass),c.options.lineNumbers&&(!T||!T["CodeMirror-linenumbers"])&&(p.lineNumber=O.appendChild(ce("div",bo(c.options,y),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+b.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+c.display.lineNumInnerWidth+"px"))),T)for(var B=0;B<c.display.gutterSpecs.length;++B){var z=c.display.gutterSpecs[B].className,J=T.hasOwnProperty(z)&&T[z];J&&O.appendChild(ce("div",[J],"CodeMirror-gutter-elt","left: "+b.gutterLeft[z]+"px; width: "+b.gutterWidth[z]+"px"))}}}function Uh(c,p,y){p.alignable&&(p.alignable=null);for(var b=Fe("CodeMirror-linewidget"),w=p.node.firstChild,T=void 0;w;w=T)T=w.nextSibling,b.test(w.className)&&p.node.removeChild(w);yc(c,p,y)}function Xa(c,p,y,b){var w=So(c,p);return p.text=p.node=w.pre,w.bgClass&&(p.bgClass=w.bgClass),w.textClass&&(p.textClass=w.textClass),Cl(c,p),ca(c,p,y,b),yc(c,p,b),p.node}function yc(c,p,y){if(_c(c,p.line,p,y,!0),p.rest)for(var b=0;b<p.rest.length;b++)_c(c,p.rest[b],p,y,!1)}function _c(c,p,y,b,w){if(p.widgets)for(var T=ua(y),M=0,O=p.widgets;M<O.length;++M){var B=O[M],z=ce("div",[B.node],"CodeMirror-linewidget"+(B.className?" "+B.className:""));B.handleMouseEvents||z.setAttribute("cm-ignore-events","true"),xc(B,z,y,b),c.display.input.setUneditable(z),w&&B.above?T.insertBefore(z,y.gutter||y.text):T.appendChild(z),Pi(B,"redraw")}}function xc(c,p,y,b){if(c.noHScroll){(y.alignable||(y.alignable=[])).push(p);var w=b.wrapperWidth;p.style.left=b.fixedPos+"px",c.coverGutter||(w-=b.gutterTotalWidth,p.style.paddingLeft=b.gutterTotalWidth+"px"),p.style.width=w+"px"}c.coverGutter&&(p.style.zIndex=5,p.style.position="relative",c.noHScroll||(p.style.marginLeft=-b.gutterTotalWidth+"px"))}function Ka(c){if(c.height!=null)return c.height;var p=c.doc.cm;if(!p)return 0;if(!Je(document.body,c.node)){var y="position: relative;";c.coverGutter&&(y+="margin-left: -"+p.display.gutters.offsetWidth+"px;"),c.noHScroll&&(y+="width: "+p.display.wrapper.clientWidth+"px;"),ot(p.display.measure,ce("div",[c.node],null,y))}return c.height=c.node.parentNode.offsetHeight}function vs(c,p){for(var y=Qi(p);y!=c.wrapper;y=y.parentNode)if(!y||y.nodeType==1&&y.getAttribute("cm-ignore-events")=="true"||y.parentNode==c.sizer&&y!=c.mover)return!0}function Do(c){return c.lineSpace.offsetTop}function wl(c){return c.mover.offsetHeight-c.lineSpace.offsetHeight}function Cc(c){if(c.cachedPaddingH)return c.cachedPaddingH;var p=ot(c.measure,ce("pre","x","CodeMirror-line-like")),y=window.getComputedStyle?window.getComputedStyle(p):p.currentStyle,b={left:parseInt(y.paddingLeft),right:parseInt(y.paddingRight)};return!isNaN(b.left)&&!isNaN(b.right)&&(c.cachedPaddingH=b),b}function ns(c){return Lt-c.display.nativeBarWidth}function zs(c){return c.display.scroller.clientWidth-ns(c)-c.display.barWidth}function kl(c){return c.display.scroller.clientHeight-ns(c)-c.display.barHeight}function Sl(c,p,y){var b=c.options.lineWrapping,w=b&&zs(c);if(!p.measure.heights||b&&p.measure.width!=w){var T=p.measure.heights=[];if(b){p.measure.width=w;for(var M=p.text.firstChild.getClientRects(),O=0;O<M.length-1;O++){var B=M[O],z=M[O+1];Math.abs(B.bottom-z.bottom)>2&&T.push((B.bottom+z.top)/2-y.top)}}T.push(y.bottom-y.top)}}function wc(c,p,y){if(c.line==p)return{map:c.measure.map,cache:c.measure.cache};if(c.rest){for(var b=0;b<c.rest.length;b++)if(c.rest[b]==p)return{map:c.measure.maps[b],cache:c.measure.caches[b]};for(var w=0;w<c.rest.length;w++)if(Rt(c.rest[w])>y)return{map:c.measure.maps[w],cache:c.measure.caches[w],before:!0}}}function qh(c,p){p=$i(p);var y=Rt(p),b=c.display.externalMeasured=new xl(c.doc,p,y);b.lineN=y;var w=b.built=pc(c,b);return b.text=w.pre,ot(c.display.lineMeasure,w.pre),b}function kc(c,p,y,b){return ss(c,Za(c,p),y,b)}function Dl(c,p){if(p>=c.display.viewFrom&&p<c.display.viewTo)return c.display.view[fa(c,p)];var y=c.display.externalMeasured;if(y&&p>=y.lineN&&p<y.lineN+y.size)return y}function Za(c,p){var y=Rt(p),b=Dl(c,y);b&&!b.text?b=null:b&&b.changes&&(Wn(c,b,y,jn(c)),c.curOp.forceUpdate=!0),b||(b=qh(c,p));var w=wc(b,p,y);return{line:p,view:b,rect:null,map:w.map,cache:w.cache,before:w.before,hasHeights:!1}}function ss(c,p,y,b,w){p.before&&(y=-1);var T=y+(b||""),M;return p.cache.hasOwnProperty(T)?M=p.cache[T]:(p.rect||(p.rect=p.view.text.getBoundingClientRect()),p.hasHeights||(Sl(c,p.view,p.rect),p.hasHeights=!0),M=Yh(c,p,y,b),M.bogus||(p.cache[T]=M)),{left:M.left,right:M.right,top:w?M.rtop:M.top,bottom:w?M.rbottom:M.bottom}}var Sc={left:0,right:0,top:0,bottom:0};function Dc(c,p,y){for(var b,w,T,M,O,B,z=0;z<c.length;z+=3)if(O=c[z],B=c[z+1],p<O?(w=0,T=1,M="left"):p<B?(w=p-O,T=w+1):(z==c.length-3||p==B&&c[z+3]>p)&&(T=B-O,w=T-1,p>=B&&(M="right")),w!=null){if(b=c[z+2],O==B&&y==(b.insertLeft?"left":"right")&&(M=y),y=="left"&&w==0)for(;z&&c[z-2]==c[z-3]&&c[z-1].insertLeft;)b=c[(z-=3)+2],M="left";if(y=="right"&&w==B-O)for(;z<c.length-3&&c[z+3]==c[z+4]&&!c[z+5].insertLeft;)b=c[(z+=3)+2],M="right";break}return{node:b,start:w,end:T,collapse:M,coverStart:O,coverEnd:B}}function da(c,p){var y=Sc;if(p=="left")for(var b=0;b<c.length&&(y=c[b]).left==y.right;b++);else for(var w=c.length-1;w>=0&&(y=c[w]).left==y.right;w--);return y}function Yh(c,p,y,b){var w=Dc(p.map,y,b),T=w.node,M=w.start,O=w.end,B=w.collapse,z;if(T.nodeType==3){for(var J=0;J<4;J++){for(;M&&I(p.line.text.charAt(w.coverStart+M));)--M;for(;w.coverStart+O<w.coverEnd&&I(p.line.text.charAt(w.coverStart+O));)++O;if(k&&D<9&&M==0&&O==w.coverEnd-w.coverStart?z=T.parentNode.getBoundingClientRect():z=da(Oe(T,M,O).getClientRects(),b),z.left||z.right||M==0)break;O=M,M=M-1,B="right"}k&&D<11&&(z=Gh(c.display.measure,z))}else{M>0&&(B=b="right");var ie;c.options.lineWrapping&&(ie=T.getClientRects()).length>1?z=ie[b=="right"?ie.length-1:0]:z=T.getBoundingClientRect()}if(k&&D<9&&!M&&(!z||!z.left&&!z.right)){var ye=T.parentNode.getClientRects()[0];ye?z={left:ye.left,right:ye.left+er(c.display),top:ye.top,bottom:ye.bottom}:z=Sc}for(var pe=z.top-p.rect.top,Ee=z.bottom-p.rect.top,Re=(pe+Ee)/2,Ve=p.view.measure.heights,qe=0;qe<Ve.length-1&&!(Re<Ve[qe]);qe++);var Ke=qe?Ve[qe-1]:0,Ye=Ve[qe],tt={left:(B=="right"?z.right:z.left)-p.rect.left,right:(B=="left"?z.left:z.right)-p.rect.left,top:Ke,bottom:Ye};return!z.left&&!z.right&&(tt.bogus=!0),c.options.singleCursorHeightPerLine||(tt.rtop=pe,tt.rbottom=Ee),tt}function Gh(c,p){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Mn(c))return p;var y=screen.logicalXDPI/screen.deviceXDPI,b=screen.logicalYDPI/screen.deviceYDPI;return{left:p.left*y,right:p.right*y,top:p.top*b,bottom:p.bottom*b}}function Tc(c){if(c.measure&&(c.measure.cache={},c.measure.heights=null,c.rest))for(var p=0;p<c.rest.length;p++)c.measure.caches[p]={}}function Ec(c){c.display.externalMeasure=null,nt(c.display.lineMeasure);for(var p=0;p<c.display.view.length;p++)Tc(c.display.view[p])}function Lr(c){Ec(c),c.display.cachedCharWidth=c.display.cachedTextHeight=c.display.cachedPaddingH=null,c.options.lineWrapping||(c.display.maxLineChanged=!0),c.display.lineNumChars=null}function Ac(c){return P&&oe?-(c.body.getBoundingClientRect().left-parseInt(getComputedStyle(c.body).marginLeft)):c.defaultView.pageXOffset||(c.documentElement||c.body).scrollLeft}function Mc(c){return P&&oe?-(c.body.getBoundingClientRect().top-parseInt(getComputedStyle(c.body).marginTop)):c.defaultView.pageYOffset||(c.documentElement||c.body).scrollTop}function Tl(c){var p=$i(c),y=p.widgets,b=0;if(y)for(var w=0;w<y.length;++w)y[w].above&&(b+=Ka(y[w]));return b}function To(c,p,y,b,w){if(!w){var T=Tl(p);y.top+=T,y.bottom+=T}if(b=="line")return y;b||(b="local");var M=ts(p);if(b=="local"?M+=Do(c.display):M-=c.display.viewOffset,b=="page"||b=="window"){var O=c.display.lineSpace.getBoundingClientRect();M+=O.top+(b=="window"?0:Mc($(c)));var B=O.left+(b=="window"?0:Ac($(c)));y.left+=B,y.right+=B}return y.top+=M,y.bottom+=M,y}function Fc(c,p,y){if(y=="div")return p;var b=p.left,w=p.top;if(y=="page")b-=Ac($(c)),w-=Mc($(c));else if(y=="local"||!y){var T=c.display.sizer.getBoundingClientRect();b+=T.left,w+=T.top}var M=c.display.lineSpace.getBoundingClientRect();return{left:b-M.left,top:w-M.top}}function Or(c,p,y,b,w){return b||(b=at(c.doc,p.line)),To(c,b,kc(c,b,p.ch,w),y)}function Ut(c,p,y,b,w,T){b=b||at(c.doc,p.line),w||(w=Za(c,b));function M(Ee,Re){var Ve=ss(c,w,Ee,Re?"right":"left",T);return Re?Ve.left=Ve.right:Ve.right=Ve.left,To(c,b,Ve,y)}var O=le(b,c.doc.direction),B=p.ch,z=p.sticky;if(B>=b.text.length?(B=b.text.length,z="before"):B<=0&&(B=0,z="after"),!O)return M(z=="before"?B-1:B,z=="before");function J(Ee,Re,Ve){var qe=O[Re],Ke=qe.level==1;return M(Ve?Ee-1:Ee,Ke!=Ve)}var ie=xe(O,B,z),ye=de,pe=J(B,ie,z=="before");return ye!=null&&(pe.other=J(B,ye,z!="before")),pe}function Ja(c,p){var y=0;p=xt(c.doc,p),c.options.lineWrapping||(y=er(c.display)*p.ch);var b=at(c.doc,p.line),w=ts(b)+Do(c.display);return{left:y,right:y,top:w,bottom:w+b.height}}function ha(c,p,y,b,w){var T=ze(c,p,y);return T.xRel=w,b&&(T.outside=b),T}function fn(c,p,y){var b=c.doc;if(y+=c.display.viewOffset,y<0)return ha(b.first,0,null,-1,-1);var w=Ps(b,y),T=b.first+b.size-1;if(w>T)return ha(b.first+b.size-1,at(b,T).text.length,null,1,1);p<0&&(p=0);for(var M=at(b,w);;){var O=El(c,M,w,p,y),B=cc(M,O.ch+(O.xRel>0||O.outside>0?1:0));if(!B)return O;var z=B.find(1);if(z.line==w)return z;M=at(b,w=z.line)}}function Hs(c,p,y,b){b-=Tl(p);var w=p.text.length,T=Q(function(M){return ss(c,y,M-1).bottom<=b},w,0);return w=Q(function(M){return ss(c,y,M).top>b},T,w),{begin:T,end:w}}function Qa(c,p,y,b){y||(y=Za(c,p));var w=To(c,p,ss(c,y,b),"line").top;return Hs(c,p,y,w)}function $s(c,p,y,b){return c.bottom<=y?!1:c.top>y?!0:(b?c.left:c.right)>p}function El(c,p,y,b,w){w-=ts(p);var T=Za(c,p),M=Tl(p),O=0,B=p.text.length,z=!0,J=le(p,c.doc.direction);if(J){var ie=(c.options.lineWrapping?Ic:Xh)(c,p,y,T,J,b,w);z=ie.level!=1,O=z?ie.from:ie.to-1,B=z?ie.to:ie.from-1}var ye=null,pe=null,Ee=Q(function(dt){var lt=ss(c,T,dt);return lt.top+=M,lt.bottom+=M,$s(lt,b,w,!1)?(lt.top<=w&&lt.left<=b&&(ye=dt,pe=lt),!0):!1},O,B),Re,Ve,qe=!1;if(pe){var Ke=b-pe.left<pe.right-b,Ye=Ke==z;Ee=ye+(Ye?0:1),Ve=Ye?"after":"before",Re=Ke?pe.left:pe.right}else{!z&&(Ee==B||Ee==O)&&Ee++,Ve=Ee==0?"after":Ee==p.text.length?"before":ss(c,T,Ee-(z?1:0)).bottom+M<=w==z?"after":"before";var tt=Ut(c,ze(y,Ee,Ve),"line",p,T);Re=tt.left,qe=w<tt.top?-1:w>=tt.bottom?1:0}return Ee=R(p.text,Ee,1),ha(y,Ee,Ve,qe,b-Re)}function Xh(c,p,y,b,w,T,M){var O=Q(function(ie){var ye=w[ie],pe=ye.level!=1;return $s(Ut(c,ze(y,pe?ye.to:ye.from,pe?"before":"after"),"line",p,b),T,M,!0)},0,w.length-1),B=w[O];if(O>0){var z=B.level!=1,J=Ut(c,ze(y,z?B.from:B.to,z?"after":"before"),"line",p,b);$s(J,T,M,!0)&&J.top>M&&(B=w[O-1])}return B}function Ic(c,p,y,b,w,T,M){var O=Hs(c,p,b,M),B=O.begin,z=O.end;/\s/.test(p.text.charAt(z-1))&&z--;for(var J=null,ie=null,ye=0;ye<w.length;ye++){var pe=w[ye];if(!(pe.from>=z||pe.to<=B)){var Ee=pe.level!=1,Re=ss(c,b,Ee?Math.min(z,pe.to)-1:Math.max(B,pe.from)).right,Ve=Re<T?T-Re+1e9:Re-T;(!J||ie>Ve)&&(J=pe,ie=Ve)}}return J||(J=w[w.length-1]),J.from<B&&(J={from:B,to:J.to,level:J.level}),J.to>z&&(J={from:J.from,to:z,level:J.level}),J}var Xt;function bs(c){if(c.cachedTextHeight!=null)return c.cachedTextHeight;if(Xt==null){Xt=ce("pre",null,"CodeMirror-line-like");for(var p=0;p<49;++p)Xt.appendChild(document.createTextNode("x")),Xt.appendChild(ce("br"));Xt.appendChild(document.createTextNode("x"))}ot(c.measure,Xt);var y=Xt.offsetHeight/50;return y>3&&(c.cachedTextHeight=y),nt(c.measure),y||1}function er(c){if(c.cachedCharWidth!=null)return c.cachedCharWidth;var p=ce("span","xxxxxxxxxx"),y=ce("pre",[p],"CodeMirror-line-like");ot(c.measure,y);var b=p.getBoundingClientRect(),w=(b.right-b.left)/10;return w>2&&(c.cachedCharWidth=w),w||10}function jn(c){for(var p=c.display,y={},b={},w=p.gutters.clientLeft,T=p.gutters.firstChild,M=0;T;T=T.nextSibling,++M){var O=c.display.gutterSpecs[M].className;y[O]=T.offsetLeft+T.clientLeft+w,b[O]=T.clientWidth}return{fixedPos:xn(p),gutterTotalWidth:p.gutters.offsetWidth,gutterLeft:y,gutterWidth:b,wrapperWidth:p.wrapper.clientWidth}}function xn(c){return c.scroller.getBoundingClientRect().left-c.sizer.getBoundingClientRect().left}function Cn(c){var p=bs(c.display),y=c.options.lineWrapping,b=y&&Math.max(5,c.display.scroller.clientWidth/er(c.display)-3);return function(w){if(bi(c.doc,w))return 0;var T=0;if(w.widgets)for(var M=0;M<w.widgets.length;M++)w.widgets[M].height&&(T+=w.widgets[M].height);return y?T+(Math.ceil(w.text.length/b)||1)*p:T+p}}function Eo(c){var p=c.doc,y=Cn(c);p.iter(function(b){var w=y(b);w!=b.height&&$n(b,w)})}function Vs(c,p,y,b){var w=c.display;if(!y&&Qi(p).getAttribute("cm-not-content")=="true")return null;var T,M,O=w.lineSpace.getBoundingClientRect();try{T=p.clientX-O.left,M=p.clientY-O.top}catch{return null}var B=fn(c,T,M),z;if(b&&B.xRel>0&&(z=at(c.doc,B.line).text).length==B.ch){var J=Vt(z,z.length,c.options.tabSize)-z.length;B=ze(B.line,Math.max(0,Math.round((T-Cc(c.display).left)/er(c.display))-J))}return B}function fa(c,p){if(p>=c.display.viewTo||(p-=c.display.viewFrom,p<0))return null;for(var y=c.display.view,b=0;b<y.length;b++)if(p-=y[b].size,p<0)return b}function Bi(c,p,y,b){p==null&&(p=c.doc.first),y==null&&(y=c.doc.first+c.doc.size),b||(b=0);var w=c.display;if(b&&y<w.viewTo&&(w.updateLineNumbers==null||w.updateLineNumbers>p)&&(w.updateLineNumbers=p),c.curOp.viewChanged=!0,p>=w.viewTo)On&&_l(c.doc,p)<w.viewTo&&as(c);else if(y<=w.viewFrom)On&&hc(c.doc,y+b)>w.viewFrom?as(c):(w.viewFrom+=b,w.viewTo+=b);else if(p<=w.viewFrom&&y>=w.viewTo)as(c);else if(p<=w.viewFrom){var T=Pr(c,y,y+b,1);T?(w.view=w.view.slice(T.index),w.viewFrom=T.lineN,w.viewTo+=b):as(c)}else if(y>=w.viewTo){var M=Pr(c,p,p,-1);M?(w.view=w.view.slice(0,M.index),w.viewTo=M.lineN):as(c)}else{var O=Pr(c,p,p,-1),B=Pr(c,y,y+b,1);O&&B?(w.view=w.view.slice(0,O.index).concat(Ua(c,O.lineN,B.lineN)).concat(w.view.slice(B.index)),w.viewTo+=b):as(c)}var z=w.externalMeasured;z&&(y<z.lineN?z.lineN+=b:p<z.lineN+z.size&&(w.externalMeasured=null))}function Ws(c,p,y){c.curOp.viewChanged=!0;var b=c.display,w=c.display.externalMeasured;if(w&&p>=w.lineN&&p<w.lineN+w.size&&(b.externalMeasured=null),!(p<b.viewFrom||p>=b.viewTo)){var T=b.view[fa(c,p)];if(T.node!=null){var M=T.changes||(T.changes=[]);kt(M,y)==-1&&M.push(y)}}}function as(c){c.display.viewFrom=c.display.viewTo=c.doc.first,c.display.view=[],c.display.viewOffset=0}function Pr(c,p,y,b){var w=fa(c,p),T,M=c.display.view;if(!On||y==c.doc.first+c.doc.size)return{index:w,lineN:y};for(var O=c.display.viewFrom,B=0;B<w;B++)O+=M[B].size;if(O!=p){if(b>0){if(w==M.length-1)return null;T=O+M[w].size-p,w++}else T=O-p;p+=T,y+=T}for(;_l(c.doc,y)!=y;){if(w==(b<0?0:M.length-1))return null;y+=b*M[w-(b<0?1:0)].size,w+=b}return{index:w,lineN:y}}function pa(c,p,y){var b=c.display,w=b.view;w.length==0||p>=b.viewTo||y<=b.viewFrom?(b.view=Ua(c,p,y),b.viewFrom=p):(b.viewFrom>p?b.view=Ua(c,p,b.viewFrom).concat(b.view):b.viewFrom<p&&(b.view=b.view.slice(fa(c,p))),b.viewFrom=p,b.viewTo<y?b.view=b.view.concat(Ua(c,b.viewTo,y)):b.viewTo>y&&(b.view=b.view.slice(0,fa(c,y)))),b.viewTo=y}function ma(c){for(var p=c.display.view,y=0,b=0;b<p.length;b++){var w=p[b];!w.hidden&&(!w.node||w.changes)&&++y}return y}function Un(c){c.display.input.showSelection(c.display.input.prepareSelection())}function tr(c,p){p===void 0&&(p=!0);var y=c.doc,b={},w=b.cursors=document.createDocumentFragment(),T=b.selection=document.createDocumentFragment(),M=c.options.$customCursor;M&&(p=!0);for(var O=0;O<y.sel.ranges.length;O++)if(!(!p&&O==y.sel.primIndex)){var B=y.sel.ranges[O];if(!(B.from().line>=c.display.viewTo||B.to().line<c.display.viewFrom)){var z=B.empty();if(M){var J=M(c,B);J&&rs(c,J,w)}else(z||c.options.showCursorWhenSelecting)&&rs(c,B.head,w);z||Br(c,B,T)}}return b}function rs(c,p,y){var b=Ut(c,p,"div",null,null,!c.options.singleCursorHeightPerLine),w=y.appendChild(ce("div"," ","CodeMirror-cursor"));if(w.style.left=b.left+"px",w.style.top=b.top+"px",w.style.height=Math.max(0,b.bottom-b.top)*c.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(c.getWrapperElement().className)){var T=Or(c,p,"div",null,null),M=T.right-T.left;w.style.width=(M>0?M:c.defaultCharWidth())+"px"}if(b.other){var O=y.appendChild(ce("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));O.style.display="",O.style.left=b.other.left+"px",O.style.top=b.other.top+"px",O.style.height=(b.other.bottom-b.other.top)*.85+"px"}}function ys(c,p){return c.top-p.top||c.left-p.left}function Br(c,p,y){var b=c.display,w=c.doc,T=document.createDocumentFragment(),M=Cc(c.display),O=M.left,B=Math.max(b.sizerWidth,zs(c)-b.sizer.offsetLeft)-M.right,z=w.direction=="ltr";function J(Ye,tt,dt,lt){tt<0&&(tt=0),tt=Math.round(tt),lt=Math.round(lt),T.appendChild(ce("div",null,"CodeMirror-selected","position: absolute; left: "+Ye+`px;
                             top: `+tt+"px; width: "+(dt??B-Ye)+`px;
                             height: `+(lt-tt)+"px"))}function ie(Ye,tt,dt){var lt=at(w,Ye),Dt=lt.text.length,Yt,Ni;function oi(wi,on){return Or(c,ze(Ye,wi),"div",lt,on)}function Sn(wi,on,Wi){var ki=Qa(c,lt,null,wi),Si=on=="ltr"==(Wi=="after")?"left":"right",li=Wi=="after"?ki.begin:ki.end-(/\s/.test(lt.text.charAt(ki.end-1))?2:1);return oi(li,Si)[Si]}var rn=le(lt,w.direction);return re(rn,tt||0,dt??Dt,function(wi,on,Wi,ki){var Si=Wi=="ltr",li=oi(wi,Si?"left":"right"),ln=oi(on-1,Si?"right":"left"),Sa=tt==null&&wi==0,Gs=dt==null&&on==Dt,Ki=ki==0,os=!rn||ki==rn.length-1;if(ln.top-li.top<=3){var Mi=(z?Sa:Gs)&&Ki,bu=(z?Gs:Sa)&&os,ls=Mi?O:(Si?li:ln).left,Da=bu?B:(Si?ln:li).right;J(ls,li.top,Da-ls,li.bottom)}else{var Xs,un,Ta,yu;Si?(Xs=z&&Sa&&Ki?O:li.left,un=z?B:Sn(wi,Wi,"before"),Ta=z?O:Sn(on,Wi,"after"),yu=z&&Gs&&os?B:ln.right):(Xs=z?Sn(wi,Wi,"before"):O,un=!z&&Sa&&Ki?B:li.right,Ta=!z&&Gs&&os?O:ln.left,yu=z?Sn(on,Wi,"after"):B),J(Xs,li.top,un-Xs,li.bottom),li.bottom<ln.top&&J(O,li.bottom,null,ln.top),J(Ta,ln.top,yu-Ta,ln.bottom)}(!Yt||ys(li,Yt)<0)&&(Yt=li),ys(ln,Yt)<0&&(Yt=ln),(!Ni||ys(li,Ni)<0)&&(Ni=li),ys(ln,Ni)<0&&(Ni=ln)}),{start:Yt,end:Ni}}var ye=p.from(),pe=p.to();if(ye.line==pe.line)ie(ye.line,ye.ch,pe.ch);else{var Ee=at(w,ye.line),Re=at(w,pe.line),Ve=$i(Ee)==$i(Re),qe=ie(ye.line,ye.ch,Ve?Ee.text.length+1:null).end,Ke=ie(pe.line,Ve?0:null,pe.ch).start;Ve&&(qe.top<Ke.top-2?(J(qe.right,qe.top,null,qe.bottom),J(O,Ke.top,Ke.left,Ke.bottom)):J(qe.right,qe.top,Ke.left-qe.right,qe.bottom)),qe.bottom<Ke.top&&J(O,qe.bottom,null,Ke.top)}y.appendChild(T)}function wn(c){if(c.state.focused){var p=c.display;clearInterval(p.blinker);var y=!0;p.cursorDiv.style.visibility="",c.options.cursorBlinkRate>0?p.blinker=setInterval(function(){c.hasFocus()||_s(c),p.cursorDiv.style.visibility=(y=!y)?"":"hidden"},c.options.cursorBlinkRate):c.options.cursorBlinkRate<0&&(p.cursorDiv.style.visibility="hidden")}}function qn(c){c.hasFocus()||(c.display.input.focus(),c.state.focused||Mo(c))}function Ao(c){c.state.delayingBlurEvent=!0,setTimeout(function(){c.state.delayingBlurEvent&&(c.state.delayingBlurEvent=!1,c.state.focused&&_s(c))},100)}function Mo(c,p){c.state.delayingBlurEvent&&!c.state.draggingText&&(c.state.delayingBlurEvent=!1),c.options.readOnly!="nocursor"&&(c.state.focused||(et(c,"focus",c,p),c.state.focused=!0,Ht(c.display.wrapper,"CodeMirror-focused"),!c.curOp&&c.display.selForContextMenu!=c.doc.sel&&(c.display.input.reset(),E&&setTimeout(function(){return c.display.input.reset(!0)},20)),c.display.input.receivedFocus()),wn(c))}function _s(c,p){c.state.delayingBlurEvent||(c.state.focused&&(et(c,"blur",c,p),c.state.focused=!1,Ue(c.display.wrapper,"CodeMirror-focused")),clearInterval(c.display.blinker),setTimeout(function(){c.state.focused||(c.display.shift=!1)},150))}function ga(c){for(var p=c.display,y=p.lineDiv.offsetTop,b=Math.max(0,p.scroller.getBoundingClientRect().top),w=p.lineDiv.getBoundingClientRect().top,T=0,M=0;M<p.view.length;M++){var O=p.view[M],B=c.options.lineWrapping,z=void 0,J=0;if(!O.hidden){if(w+=O.line.height,k&&D<8){var ie=O.node.offsetTop+O.node.offsetHeight;z=ie-y,y=ie}else{var ye=O.node.getBoundingClientRect();z=ye.bottom-ye.top,!B&&O.text.firstChild&&(J=O.text.firstChild.getBoundingClientRect().right-ye.left-1)}var pe=O.line.height-z;if((pe>.005||pe<-.005)&&(w<b&&(T-=pe),$n(O.line,z),Pn(O.line),O.rest))for(var Ee=0;Ee<O.rest.length;Ee++)Pn(O.rest[Ee]);if(J>c.display.sizerWidth){var Re=Math.ceil(J/er(c.display));Re>c.display.maxLineLength&&(c.display.maxLineLength=Re,c.display.maxLine=O.line,c.display.maxLineChanged=!0)}}}Math.abs(T)>2&&(p.scroller.scrollTop+=T)}function Pn(c){if(c.widgets)for(var p=0;p<c.widgets.length;++p){var y=c.widgets[p],b=y.node.parentNode;b&&(y.height=b.offsetHeight)}}function Yn(c,p,y){var b=y&&y.top!=null?Math.max(0,y.top):c.scroller.scrollTop;b=Math.floor(b-Do(c));var w=y&&y.bottom!=null?y.bottom:b+c.wrapper.clientHeight,T=Ps(p,b),M=Ps(p,w);if(y&&y.ensure){var O=y.ensure.from.line,B=y.ensure.to.line;O<T?(T=O,M=Ps(p,ts(at(p,O))+c.wrapper.clientHeight)):Math.min(B,p.lastLine())>=M&&(T=Ps(p,ts(at(p,B))-c.wrapper.clientHeight),M=B)}return{from:T,to:Math.max(M,T+1)}}function Kh(c,p){if(!We(c,"scrollCursorIntoView")){var y=c.display,b=y.sizer.getBoundingClientRect(),w=null,T=y.wrapper.ownerDocument;if(p.top+b.top<0?w=!0:p.bottom+b.top>(T.defaultView.innerHeight||T.documentElement.clientHeight)&&(w=!1),w!=null&&!K){var M=ce("div","​",null,`position: absolute;
                         top: `+(p.top-y.viewOffset-Do(c.display))+`px;
                         height: `+(p.bottom-p.top+ns(c)+y.barHeight)+`px;
                         left: `+p.left+"px; width: "+Math.max(2,p.right-p.left)+"px;");c.display.lineSpace.appendChild(M),M.scrollIntoView(w),c.display.lineSpace.removeChild(M)}}}function Zh(c,p,y,b){b==null&&(b=0);var w;!c.options.lineWrapping&&p==y&&(y=p.sticky=="before"?ze(p.line,p.ch+1,"before"):p,p=p.ch?ze(p.line,p.sticky=="before"?p.ch-1:p.ch,"after"):p);for(var T=0;T<5;T++){var M=!1,O=Ut(c,p),B=!y||y==p?O:Ut(c,y);w={left:Math.min(O.left,B.left),top:Math.min(O.top,B.top)-b,right:Math.max(O.left,B.left),bottom:Math.max(O.bottom,B.bottom)+b};var z=Nr(c,w),J=c.doc.scrollTop,ie=c.doc.scrollLeft;if(z.scrollTop!=null&&(nr(c,z.scrollTop),Math.abs(c.doc.scrollTop-J)>1&&(M=!0)),z.scrollLeft!=null&&(xs(c,z.scrollLeft),Math.abs(c.doc.scrollLeft-ie)>1&&(M=!0)),!M)break}return w}function Al(c,p){var y=Nr(c,p);y.scrollTop!=null&&nr(c,y.scrollTop),y.scrollLeft!=null&&xs(c,y.scrollLeft)}function Nr(c,p){var y=c.display,b=bs(c.display);p.top<0&&(p.top=0);var w=c.curOp&&c.curOp.scrollTop!=null?c.curOp.scrollTop:y.scroller.scrollTop,T=kl(c),M={};p.bottom-p.top>T&&(p.bottom=p.top+T);var O=c.doc.height+wl(y),B=p.top<b,z=p.bottom>O-b;if(p.top<w)M.scrollTop=B?0:p.top;else if(p.bottom>w+T){var J=Math.min(p.top,(z?O:p.bottom)-T);J!=w&&(M.scrollTop=J)}var ie=c.options.fixedGutter?0:y.gutters.offsetWidth,ye=c.curOp&&c.curOp.scrollLeft!=null?c.curOp.scrollLeft:y.scroller.scrollLeft-ie,pe=zs(c)-y.gutters.offsetWidth,Ee=p.right-p.left>pe;return Ee&&(p.right=p.left+pe),p.left<10?M.scrollLeft=0:p.left<ye?M.scrollLeft=Math.max(0,p.left+ie-(Ee?0:10)):p.right>pe+ye-3&&(M.scrollLeft=p.right+(Ee?0:10)-pe),M}function ir(c,p){p!=null&&(Rr(c),c.curOp.scrollTop=(c.curOp.scrollTop==null?c.doc.scrollTop:c.curOp.scrollTop)+p)}function va(c){Rr(c);var p=c.getCursor();c.curOp.scrollToPos={from:p,to:p,margin:c.options.cursorScrollMargin}}function Gn(c,p,y){(p!=null||y!=null)&&Rr(c),p!=null&&(c.curOp.scrollLeft=p),y!=null&&(c.curOp.scrollTop=y)}function Lc(c,p){Rr(c),c.curOp.scrollToPos=p}function Rr(c){var p=c.curOp.scrollToPos;if(p){c.curOp.scrollToPos=null;var y=Ja(c,p.from),b=Ja(c,p.to);Ml(c,y,b,p.margin)}}function Ml(c,p,y,b){var w=Nr(c,{left:Math.min(p.left,y.left),top:Math.min(p.top,y.top)-b,right:Math.max(p.right,y.right),bottom:Math.max(p.bottom,y.bottom)+b});Gn(c,w.scrollLeft,w.scrollTop)}function nr(c,p){Math.abs(c.doc.scrollTop-p)<2||(d||Ol(c,{top:p}),Fl(c,p,!0),d&&Ol(c),ar(c,100))}function Fl(c,p,y){p=Math.max(0,Math.min(c.display.scroller.scrollHeight-c.display.scroller.clientHeight,p)),!(c.display.scroller.scrollTop==p&&!y)&&(c.doc.scrollTop=p,c.display.scrollbars.setScrollTop(p),c.display.scroller.scrollTop!=p&&(c.display.scroller.scrollTop=p))}function xs(c,p,y,b){p=Math.max(0,Math.min(p,c.display.scroller.scrollWidth-c.display.scroller.clientWidth)),!((y?p==c.doc.scrollLeft:Math.abs(c.doc.scrollLeft-p)<2)&&!b)&&(c.doc.scrollLeft=p,Rc(c),c.display.scroller.scrollLeft!=p&&(c.display.scroller.scrollLeft=p),c.display.scrollbars.setScrollLeft(p))}function tn(c){var p=c.display,y=p.gutters.offsetWidth,b=Math.round(c.doc.height+wl(c.display));return{clientHeight:p.scroller.clientHeight,viewHeight:p.wrapper.clientHeight,scrollWidth:p.scroller.scrollWidth,clientWidth:p.scroller.clientWidth,viewWidth:p.wrapper.clientWidth,barLeft:c.options.fixedGutter?y:0,docHeight:b,scrollHeight:b+ns(c)+p.barHeight,nativeBarWidth:p.nativeBarWidth,gutterWidth:y}}var nn=function(c,p,y){this.cm=y;var b=this.vert=ce("div",[ce("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),w=this.horiz=ce("div",[ce("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");b.tabIndex=w.tabIndex=-1,c(b),c(w),ge(b,"scroll",function(){b.clientHeight&&p(b.scrollTop,"vertical")}),ge(w,"scroll",function(){w.clientWidth&&p(w.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,k&&D<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};nn.prototype.update=function(c){var p=c.scrollWidth>c.clientWidth+1,y=c.scrollHeight>c.clientHeight+1,b=c.nativeBarWidth;if(y){this.vert.style.display="block",this.vert.style.bottom=p?b+"px":"0";var w=c.viewHeight-(p?b:0);this.vert.firstChild.style.height=Math.max(0,c.scrollHeight-c.clientHeight+w)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(p){this.horiz.style.display="block",this.horiz.style.right=y?b+"px":"0",this.horiz.style.left=c.barLeft+"px";var T=c.viewWidth-c.barLeft-(y?b:0);this.horiz.firstChild.style.width=Math.max(0,c.scrollWidth-c.clientWidth+T)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&c.clientHeight>0&&(b==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:y?b:0,bottom:p?b:0}},nn.prototype.setScrollLeft=function(c){this.horiz.scrollLeft!=c&&(this.horiz.scrollLeft=c),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},nn.prototype.setScrollTop=function(c){this.vert.scrollTop!=c&&(this.vert.scrollTop=c),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},nn.prototype.zeroWidthHack=function(){var c=se&&!ee?"12px":"18px";this.horiz.style.height=this.vert.style.width=c,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Nt,this.disableVert=new Nt},nn.prototype.enableZeroWidthBar=function(c,p,y){c.style.visibility="";function b(){var w=c.getBoundingClientRect(),T=y=="vert"?document.elementFromPoint(w.right-1,(w.top+w.bottom)/2):document.elementFromPoint((w.right+w.left)/2,w.bottom-1);T!=c?c.style.visibility="hidden":p.set(1e3,b)}p.set(1e3,b)},nn.prototype.clear=function(){var c=this.horiz.parentNode;c.removeChild(this.horiz),c.removeChild(this.vert)};var ri=function(){};ri.prototype.update=function(){return{bottom:0,right:0}},ri.prototype.setScrollLeft=function(){},ri.prototype.setScrollTop=function(){},ri.prototype.clear=function(){};function Fn(c,p){p||(p=tn(c));var y=c.display.barWidth,b=c.display.barHeight;ba(c,p);for(var w=0;w<4&&y!=c.display.barWidth||b!=c.display.barHeight;w++)y!=c.display.barWidth&&c.options.lineWrapping&&ga(c),ba(c,tn(c)),y=c.display.barWidth,b=c.display.barHeight}function ba(c,p){var y=c.display,b=y.scrollbars.update(p);y.sizer.style.paddingRight=(y.barWidth=b.right)+"px",y.sizer.style.paddingBottom=(y.barHeight=b.bottom)+"px",y.heightForcer.style.borderBottom=b.bottom+"px solid transparent",b.right&&b.bottom?(y.scrollbarFiller.style.display="block",y.scrollbarFiller.style.height=b.bottom+"px",y.scrollbarFiller.style.width=b.right+"px"):y.scrollbarFiller.style.display="",b.bottom&&c.options.coverGutterNextToScrollbar&&c.options.fixedGutter?(y.gutterFiller.style.display="block",y.gutterFiller.style.height=b.bottom+"px",y.gutterFiller.style.width=p.gutterWidth+"px"):y.gutterFiller.style.display=""}var Cs={native:nn,null:ri};function ya(c){c.display.scrollbars&&(c.display.scrollbars.clear(),c.display.scrollbars.addClass&&Ue(c.display.wrapper,c.display.scrollbars.addClass)),c.display.scrollbars=new Cs[c.options.scrollbarStyle](function(p){c.display.wrapper.insertBefore(p,c.display.scrollbarFiller),ge(p,"mousedown",function(){c.state.focused&&setTimeout(function(){return c.display.input.focus()},0)}),p.setAttribute("cm-not-content","true")},function(p,y){y=="horizontal"?xs(c,p):nr(c,p)},c),c.display.scrollbars.addClass&&Ht(c.display.wrapper,c.display.scrollbars.addClass)}var zr=0;function js(c){c.curOp={cm:c,viewChanged:!1,startHeight:c.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++zr,markArrays:null},Vh(c.curOp)}function Us(c){var p=c.curOp;p&&vc(p,function(y){for(var b=0;b<y.ops.length;b++)y.ops[b].cm.curOp=null;_a(y)})}function _a(c){for(var p=c.ops,y=0;y<p.length;y++)Oc(p[y]);for(var b=0;b<p.length;b++)sn(p[b]);for(var w=0;w<p.length;w++)Il(p[w]);for(var T=0;T<p.length;T++)Pc(p[T]);for(var M=0;M<p.length;M++)sr(p[M])}function Oc(c){var p=c.cm,y=p.display;Fo(p),c.updateMaxLine&&is(p),c.mustUpdate=c.viewChanged||c.forceUpdate||c.scrollTop!=null||c.scrollToPos&&(c.scrollToPos.from.line<y.viewFrom||c.scrollToPos.to.line>=y.viewTo)||y.maxLineChanged&&p.options.lineWrapping,c.update=c.mustUpdate&&new kn(p,c.mustUpdate&&{top:c.scrollTop,ensure:c.scrollToPos},c.forceUpdate)}function sn(c){c.updatedDisplay=c.mustUpdate&&Io(c.cm,c.update)}function Il(c){var p=c.cm,y=p.display;c.updatedDisplay&&ga(p),c.barMeasure=tn(p),y.maxLineChanged&&!p.options.lineWrapping&&(c.adjustWidthTo=kc(p,y.maxLine,y.maxLine.text.length).left+3,p.display.sizerWidth=c.adjustWidthTo,c.barMeasure.scrollWidth=Math.max(y.scroller.clientWidth,y.sizer.offsetLeft+c.adjustWidthTo+ns(p)+p.display.barWidth),c.maxScrollLeft=Math.max(0,y.sizer.offsetLeft+c.adjustWidthTo-zs(p))),(c.updatedDisplay||c.selectionChanged)&&(c.preparedSelection=y.input.prepareSelection())}function Pc(c){var p=c.cm;c.adjustWidthTo!=null&&(p.display.sizer.style.minWidth=c.adjustWidthTo+"px",c.maxScrollLeft<p.doc.scrollLeft&&xs(p,Math.min(p.display.scroller.scrollLeft,c.maxScrollLeft),!0),p.display.maxLineChanged=!1);var y=c.focus&&c.focus==mt(Te(p));c.preparedSelection&&p.display.input.showSelection(c.preparedSelection,y),(c.updatedDisplay||c.startHeight!=p.doc.height)&&Fn(p,c.barMeasure),c.updatedDisplay&&Bl(p,c.barMeasure),c.selectionChanged&&wn(p),p.state.focused&&c.updateInput&&p.display.input.reset(c.typing),y&&qn(c.cm)}function sr(c){var p=c.cm,y=p.display,b=p.doc;if(c.updatedDisplay&&Nc(p,c.update),y.wheelStartX!=null&&(c.scrollTop!=null||c.scrollLeft!=null||c.scrollToPos)&&(y.wheelStartX=y.wheelStartY=null),c.scrollTop!=null&&Fl(p,c.scrollTop,c.forceScroll),c.scrollLeft!=null&&xs(p,c.scrollLeft,!0,!0),c.scrollToPos){var w=Zh(p,xt(b,c.scrollToPos.from),xt(b,c.scrollToPos.to),c.scrollToPos.margin);Kh(p,w)}var T=c.maybeHiddenMarkers,M=c.maybeUnhiddenMarkers;if(T)for(var O=0;O<T.length;++O)T[O].lines.length||et(T[O],"hide");if(M)for(var B=0;B<M.length;++B)M[B].lines.length&&et(M[B],"unhide");y.wrapper.offsetHeight&&(b.scrollTop=p.display.scroller.scrollTop),c.changeObjs&&et(p,"changes",p,c.changeObjs),c.update&&c.update.finish()}function pn(c,p){if(c.curOp)return p();js(c);try{return p()}finally{Us(c)}}function Ei(c,p){return function(){if(c.curOp)return p.apply(c,arguments);js(c);try{return p.apply(c,arguments)}finally{Us(c)}}}function Xi(c){return function(){if(this.curOp)return c.apply(this,arguments);js(this);try{return c.apply(this,arguments)}finally{Us(this)}}}function Ai(c){return function(){var p=this.cm;if(!p||p.curOp)return c.apply(this,arguments);js(p);try{return c.apply(this,arguments)}finally{Us(p)}}}function ar(c,p){c.doc.highlightFrontier<c.display.viewTo&&c.state.highlight.set(p,Qt(Bc,c))}function Bc(c){var p=c.doc;if(!(p.highlightFrontier>=c.display.viewTo)){var y=+new Date+c.options.workTime,b=Va(c,p.highlightFrontier),w=[];p.iter(b.line,Math.min(p.first+p.size,c.display.viewTo+500),function(T){if(b.line>=c.display.viewFrom){var M=T.styles,O=T.text.length>c.options.maxHighlightLength?Os(p.mode,b.state):null,B=cl(c,T,b,!0);O&&(b.state=O),T.styles=B.styles;var z=T.styleClasses,J=B.classes;J?T.styleClasses=J:z&&(T.styleClasses=null);for(var ie=!M||M.length!=T.styles.length||z!=J&&(!z||!J||z.bgClass!=J.bgClass||z.textClass!=J.textClass),ye=0;!ie&&ye<M.length;++ye)ie=M[ye]!=T.styles[ye];ie&&w.push(b.line),T.stateAfter=b.save(),b.nextLine()}else T.text.length<=c.options.maxHighlightLength&&xo(c,T.text,b),T.stateAfter=b.line%5==0?b.save():null,b.nextLine();if(+new Date>y)return ar(c,c.options.workDelay),!0}),p.highlightFrontier=b.line,p.modeFrontier=Math.max(p.modeFrontier,b.line),w.length&&pn(c,function(){for(var T=0;T<w.length;T++)Ws(c,w[T],"text")})}}var kn=function(c,p,y){var b=c.display;this.viewport=p,this.visible=Yn(b,c.doc,p),this.editorIsHidden=!b.wrapper.offsetWidth,this.wrapperHeight=b.wrapper.clientHeight,this.wrapperWidth=b.wrapper.clientWidth,this.oldDisplayWidth=zs(c),this.force=y,this.dims=jn(c),this.events=[]};kn.prototype.signal=function(c,p){_t(c,p)&&this.events.push(arguments)},kn.prototype.finish=function(){for(var c=0;c<this.events.length;c++)et.apply(null,this.events[c])};function Fo(c){var p=c.display;!p.scrollbarsClipped&&p.scroller.offsetWidth&&(p.nativeBarWidth=p.scroller.offsetWidth-p.scroller.clientWidth,p.heightForcer.style.height=ns(c)+"px",p.sizer.style.marginBottom=-p.nativeBarWidth+"px",p.sizer.style.borderRightWidth=ns(c)+"px",p.scrollbarsClipped=!0)}function Ll(c){if(c.hasFocus())return null;var p=mt(Te(c));if(!p||!Je(c.display.lineDiv,p))return null;var y={activeElt:p};if(window.getSelection){var b=rt(c).getSelection();b.anchorNode&&b.extend&&Je(c.display.lineDiv,b.anchorNode)&&(y.anchorNode=b.anchorNode,y.anchorOffset=b.anchorOffset,y.focusNode=b.focusNode,y.focusOffset=b.focusOffset)}return y}function Jh(c){if(!(!c||!c.activeElt||c.activeElt==mt(yt(c.activeElt)))&&(c.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(c.activeElt.nodeName)&&c.anchorNode&&Je(document.body,c.anchorNode)&&Je(document.body,c.focusNode))){var p=c.activeElt.ownerDocument,y=p.defaultView.getSelection(),b=p.createRange();b.setEnd(c.anchorNode,c.anchorOffset),b.collapse(!1),y.removeAllRanges(),y.addRange(b),y.extend(c.focusNode,c.focusOffset)}}function Io(c,p){var y=c.display,b=c.doc;if(p.editorIsHidden)return as(c),!1;if(!p.force&&p.visible.from>=y.viewFrom&&p.visible.to<=y.viewTo&&(y.updateLineNumbers==null||y.updateLineNumbers>=y.viewTo)&&y.renderedView==y.view&&ma(c)==0)return!1;Nl(c)&&(as(c),p.dims=jn(c));var w=b.first+b.size,T=Math.max(p.visible.from-c.options.viewportMargin,b.first),M=Math.min(w,p.visible.to+c.options.viewportMargin);y.viewFrom<T&&T-y.viewFrom<20&&(T=Math.max(b.first,y.viewFrom)),y.viewTo>M&&y.viewTo-M<20&&(M=Math.min(w,y.viewTo)),On&&(T=_l(c.doc,T),M=hc(c.doc,M));var O=T!=y.viewFrom||M!=y.viewTo||y.lastWrapHeight!=p.wrapperHeight||y.lastWrapWidth!=p.wrapperWidth;pa(c,T,M),y.viewOffset=ts(at(c.doc,y.viewFrom)),c.display.mover.style.top=y.viewOffset+"px";var B=ma(c);if(!O&&B==0&&!p.force&&y.renderedView==y.view&&(y.updateLineNumbers==null||y.updateLineNumbers>=y.viewTo))return!1;var z=Ll(c);return B>4&&(y.lineDiv.style.display="none"),Qh(c,y.updateLineNumbers,p.dims),B>4&&(y.lineDiv.style.display=""),y.renderedView=y.view,Jh(z),nt(y.cursorDiv),nt(y.selectionDiv),y.gutters.style.height=y.sizer.style.minHeight=0,O&&(y.lastWrapHeight=p.wrapperHeight,y.lastWrapWidth=p.wrapperWidth,ar(c,400)),y.updateLineNumbers=null,!0}function Nc(c,p){for(var y=p.viewport,b=!0;;b=!1){if(!b||!c.options.lineWrapping||p.oldDisplayWidth==zs(c)){if(y&&y.top!=null&&(y={top:Math.min(c.doc.height+wl(c.display)-kl(c),y.top)}),p.visible=Yn(c.display,c.doc,y),p.visible.from>=c.display.viewFrom&&p.visible.to<=c.display.viewTo)break}else b&&(p.visible=Yn(c.display,c.doc,y));if(!Io(c,p))break;ga(c);var w=tn(c);Un(c),Fn(c,w),Bl(c,w),p.force=!1}p.signal(c,"update",c),(c.display.viewFrom!=c.display.reportedViewFrom||c.display.viewTo!=c.display.reportedViewTo)&&(p.signal(c,"viewportChange",c,c.display.viewFrom,c.display.viewTo),c.display.reportedViewFrom=c.display.viewFrom,c.display.reportedViewTo=c.display.viewTo)}function Ol(c,p){var y=new kn(c,p);if(Io(c,y)){ga(c),Nc(c,y);var b=tn(c);Un(c),Fn(c,b),Bl(c,b),y.finish()}}function Qh(c,p,y){var b=c.display,w=c.options.lineNumbers,T=b.lineDiv,M=T.firstChild;function O(Ee){var Re=Ee.nextSibling;return E&&se&&c.display.currentWheelTarget==Ee?Ee.style.display="none":Ee.parentNode.removeChild(Ee),Re}for(var B=b.view,z=b.viewFrom,J=0;J<B.length;J++){var ie=B[J];if(!ie.hidden)if(!ie.node||ie.node.parentNode!=T){var ye=Xa(c,ie,z,y);T.insertBefore(ye,M)}else{for(;M!=ie.node;)M=O(M);var pe=w&&p!=null&&p<=z&&ie.lineNumber;ie.changes&&(kt(ie.changes,"gutter")>-1&&(pe=!1),Wn(c,ie,z,y)),pe&&(nt(ie.lineNumber),ie.lineNumber.appendChild(document.createTextNode(bo(c.options,z)))),M=ie.node.nextSibling}z+=ie.size}for(;M;)M=O(M)}function Pl(c){var p=c.gutters.offsetWidth;c.sizer.style.marginLeft=p+"px",Pi(c,"gutterChanged",c)}function Bl(c,p){c.display.sizer.style.minHeight=p.docHeight+"px",c.display.heightForcer.style.top=p.docHeight+"px",c.display.gutters.style.height=p.docHeight+c.display.barHeight+ns(c)+"px"}function Rc(c){var p=c.display,y=p.view;if(!(!p.alignWidgets&&(!p.gutters.firstChild||!c.options.fixedGutter))){for(var b=xn(p)-p.scroller.scrollLeft+c.doc.scrollLeft,w=p.gutters.offsetWidth,T=b+"px",M=0;M<y.length;M++)if(!y[M].hidden){c.options.fixedGutter&&(y[M].gutter&&(y[M].gutter.style.left=T),y[M].gutterBackground&&(y[M].gutterBackground.style.left=T));var O=y[M].alignable;if(O)for(var B=0;B<O.length;B++)O[B].style.left=T}c.options.fixedGutter&&(p.gutters.style.left=b+w+"px")}}function Nl(c){if(!c.options.lineNumbers)return!1;var p=c.doc,y=bo(c.options,p.first+p.size-1),b=c.display;if(y.length!=b.lineNumChars){var w=b.measure.appendChild(ce("div",[ce("div",y)],"CodeMirror-linenumber CodeMirror-gutter-elt")),T=w.firstChild.offsetWidth,M=w.offsetWidth-T;return b.lineGutter.style.width="",b.lineNumInnerWidth=Math.max(T,b.lineGutter.offsetWidth-M)+1,b.lineNumWidth=b.lineNumInnerWidth+M,b.lineNumChars=b.lineNumInnerWidth?y.length:-1,b.lineGutter.style.width=b.lineNumWidth+"px",Pl(c.display),!0}return!1}function Rl(c,p){for(var y=[],b=!1,w=0;w<c.length;w++){var T=c[w],M=null;if(typeof T!="string"&&(M=T.style,T=T.className),T=="CodeMirror-linenumbers")if(p)b=!0;else continue;y.push({className:T,style:M})}return p&&!b&&y.push({className:"CodeMirror-linenumbers",style:null}),y}function zc(c){var p=c.gutters,y=c.gutterSpecs;nt(p),c.lineGutter=null;for(var b=0;b<y.length;++b){var w=y[b],T=w.className,M=w.style,O=p.appendChild(ce("div",null,"CodeMirror-gutter "+T));M&&(O.style.cssText=M),T=="CodeMirror-linenumbers"&&(c.lineGutter=O,O.style.width=(c.lineNumWidth||1)+"px")}p.style.display=y.length?"":"none",Pl(c)}function rr(c){zc(c.display),Bi(c),Rc(c)}function ef(c,p,y,b){var w=this;this.input=y,w.scrollbarFiller=ce("div",null,"CodeMirror-scrollbar-filler"),w.scrollbarFiller.setAttribute("cm-not-content","true"),w.gutterFiller=ce("div",null,"CodeMirror-gutter-filler"),w.gutterFiller.setAttribute("cm-not-content","true"),w.lineDiv=Be("div",null,"CodeMirror-code"),w.selectionDiv=ce("div",null,null,"position: relative; z-index: 1"),w.cursorDiv=ce("div",null,"CodeMirror-cursors"),w.measure=ce("div",null,"CodeMirror-measure"),w.lineMeasure=ce("div",null,"CodeMirror-measure"),w.lineSpace=Be("div",[w.measure,w.lineMeasure,w.selectionDiv,w.cursorDiv,w.lineDiv],null,"position: relative; outline: none");var T=Be("div",[w.lineSpace],"CodeMirror-lines");w.mover=ce("div",[T],null,"position: relative"),w.sizer=ce("div",[w.mover],"CodeMirror-sizer"),w.sizerWidth=null,w.heightForcer=ce("div",null,null,"position: absolute; height: "+Lt+"px; width: 1px;"),w.gutters=ce("div",null,"CodeMirror-gutters"),w.lineGutter=null,w.scroller=ce("div",[w.sizer,w.heightForcer,w.gutters],"CodeMirror-scroll"),w.scroller.setAttribute("tabIndex","-1"),w.wrapper=ce("div",[w.scrollbarFiller,w.gutterFiller,w.scroller],"CodeMirror"),P&&H>=105&&(w.wrapper.style.clipPath="inset(0px)"),w.wrapper.setAttribute("translate","no"),k&&D<8&&(w.gutters.style.zIndex=-1,w.scroller.style.paddingRight=0),!E&&!(d&&ne)&&(w.scroller.draggable=!0),c&&(c.appendChild?c.appendChild(w.wrapper):c(w.wrapper)),w.viewFrom=w.viewTo=p.first,w.reportedViewFrom=w.reportedViewTo=p.first,w.view=[],w.renderedView=null,w.externalMeasured=null,w.viewOffset=0,w.lastWrapHeight=w.lastWrapWidth=0,w.updateLineNumbers=null,w.nativeBarWidth=w.barHeight=w.barWidth=0,w.scrollbarsClipped=!1,w.lineNumWidth=w.lineNumInnerWidth=w.lineNumChars=null,w.alignWidgets=!1,w.cachedCharWidth=w.cachedTextHeight=w.cachedPaddingH=null,w.maxLine=null,w.maxLineLength=0,w.maxLineChanged=!1,w.wheelDX=w.wheelDY=w.wheelStartX=w.wheelStartY=null,w.shift=!1,w.selForContextMenu=null,w.activeTouch=null,w.gutterSpecs=Rl(b.gutters,b.lineNumbers),zc(w),y.init(w)}var Lo=0,ws=null;k?ws=-.53:d?ws=15:P?ws=-.7:Z&&(ws=-1/3);function Hr(c){var p=c.wheelDeltaX,y=c.wheelDeltaY;return p==null&&c.detail&&c.axis==c.HORIZONTAL_AXIS&&(p=c.detail),y==null&&c.detail&&c.axis==c.VERTICAL_AXIS?y=c.detail:y==null&&(y=c.wheelDelta),{x:p,y}}function zl(c){var p=Hr(c);return p.x*=ws,p.y*=ws,p}function Xe(c,p){P&&H==102&&(c.display.chromeScrollHack==null?c.display.sizer.style.pointerEvents="none":clearTimeout(c.display.chromeScrollHack),c.display.chromeScrollHack=setTimeout(function(){c.display.chromeScrollHack=null,c.display.sizer.style.pointerEvents=""},100));var y=Hr(p),b=y.x,w=y.y,T=ws;p.deltaMode===0&&(b=p.deltaX,w=p.deltaY,T=1);var M=c.display,O=M.scroller,B=O.scrollWidth>O.clientWidth,z=O.scrollHeight>O.clientHeight;if(b&&B||w&&z){if(w&&se&&E){e:for(var J=p.target,ie=M.view;J!=O;J=J.parentNode)for(var ye=0;ye<ie.length;ye++)if(ie[ye].node==J){c.display.currentWheelTarget=J;break e}}if(b&&!d&&!U&&T!=null){w&&z&&nr(c,Math.max(0,O.scrollTop+w*T)),xs(c,Math.max(0,O.scrollLeft+b*T)),(!w||w&&z)&&ft(p),M.wheelStartX=null;return}if(w&&T!=null){var pe=w*T,Ee=c.doc.scrollTop,Re=Ee+M.wrapper.clientHeight;pe<0?Ee=Math.max(0,Ee+pe-50):Re=Math.min(c.doc.height,Re+pe+50),Ol(c,{top:Ee,bottom:Re})}Lo<20&&p.deltaMode!==0&&(M.wheelStartX==null?(M.wheelStartX=O.scrollLeft,M.wheelStartY=O.scrollTop,M.wheelDX=b,M.wheelDY=w,setTimeout(function(){if(M.wheelStartX!=null){var Ve=O.scrollLeft-M.wheelStartX,qe=O.scrollTop-M.wheelStartY,Ke=qe&&M.wheelDY&&qe/M.wheelDY||Ve&&M.wheelDX&&Ve/M.wheelDX;M.wheelStartX=M.wheelStartY=null,Ke&&(ws=(ws*Lo+Ke)/(Lo+1),++Lo)}},200)):(M.wheelDX+=b,M.wheelDY+=w))}}var qt=function(c,p){this.ranges=c,this.primIndex=p};qt.prototype.primary=function(){return this.ranges[this.primIndex]},qt.prototype.equals=function(c){if(c==this)return!0;if(c.primIndex!=this.primIndex||c.ranges.length!=this.ranges.length)return!1;for(var p=0;p<this.ranges.length;p++){var y=this.ranges[p],b=c.ranges[p];if(!yo(y.anchor,b.anchor)||!yo(y.head,b.head))return!1}return!0},qt.prototype.deepCopy=function(){for(var c=[],p=0;p<this.ranges.length;p++)c[p]=new Bt(_o(this.ranges[p].anchor),_o(this.ranges[p].head));return new qt(c,this.primIndex)},qt.prototype.somethingSelected=function(){for(var c=0;c<this.ranges.length;c++)if(!this.ranges[c].empty())return!0;return!1},qt.prototype.contains=function(c,p){p||(p=c);for(var y=0;y<this.ranges.length;y++){var b=this.ranges[y];if(vt(p,b.from())>=0&&vt(c,b.to())<=0)return y}return-1};var Bt=function(c,p){this.anchor=c,this.head=p};Bt.prototype.from=function(){return Mr(this.anchor,this.head)},Bt.prototype.to=function(){return Ar(this.anchor,this.head)},Bt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function In(c,p,y){var b=c&&c.options.selectionsMayTouch,w=p[y];p.sort(function(ye,pe){return vt(ye.from(),pe.from())}),y=kt(p,w);for(var T=1;T<p.length;T++){var M=p[T],O=p[T-1],B=vt(O.to(),M.from());if(b&&!M.empty()?B>0:B>=0){var z=Mr(O.from(),M.from()),J=Ar(O.to(),M.to()),ie=O.empty()?M.from()==M.head:O.from()==O.head;T<=y&&--y,p.splice(--T,2,new Bt(ie?J:z,ie?z:J))}}return new qt(p,y)}function ks(c,p){return new qt([new Bt(c,p||c)],0)}function Ss(c){return c.text?ze(c.from.line+c.text.length-1,st(c.text).length+(c.text.length==1?c.from.ch:0)):c.to}function Hc(c,p){if(vt(c,p.from)<0)return c;if(vt(c,p.to)<=0)return Ss(p);var y=c.line+p.text.length-(p.to.line-p.from.line)-1,b=c.ch;return c.line==p.to.line&&(b+=Ss(p).ch-p.to.ch),ze(y,b)}function Hl(c,p){for(var y=[],b=0;b<c.sel.ranges.length;b++){var w=c.sel.ranges[b];y.push(new Bt(Hc(w.anchor,p),Hc(w.head,p)))}return In(c.cm,y,c.sel.primIndex)}function $c(c,p,y){return c.line==p.line?ze(y.line,c.ch-p.ch+y.ch):ze(y.line+(c.line-p.line),c.ch)}function Oo(c,p,y){for(var b=[],w=ze(c.first,0),T=w,M=0;M<p.length;M++){var O=p[M],B=$c(O.from,w,T),z=$c(Ss(O),w,T);if(w=O.to,T=z,y=="around"){var J=c.sel.ranges[M],ie=vt(J.head,J.anchor)<0;b[M]=new Bt(ie?z:B,ie?B:z)}else b[M]=new Bt(B,B)}return new qt(b,c.sel.primIndex)}function Po(c){c.doc.mode=ra(c.options,c.doc.modeOption),$r(c)}function $r(c){c.doc.iter(function(p){p.stateAfter&&(p.stateAfter=null),p.styles&&(p.styles=null)}),c.doc.modeFrontier=c.doc.highlightFrontier=c.doc.first,ar(c,100),c.state.modeGen++,c.curOp&&Bi(c)}function $l(c,p){return p.from.ch==0&&p.to.ch==0&&st(p.text)==""&&(!c.cm||c.cm.options.wholeLineUpdateBefore)}function Vl(c,p,y,b){function w(Ke){return y?y[Ke]:null}function T(Ke,Ye,tt){Ph(Ke,Ye,tt,b),Pi(Ke,"change",Ke,p)}function M(Ke,Ye){for(var tt=[],dt=Ke;dt<Ye;++dt)tt.push(new ja(z[dt],w(dt),b));return tt}var O=p.from,B=p.to,z=p.text,J=at(c,O.line),ie=at(c,B.line),ye=st(z),pe=w(z.length-1),Ee=B.line-O.line;if(p.full)c.insert(0,M(0,z.length)),c.remove(z.length,c.size-z.length);else if($l(c,p)){var Re=M(0,z.length-1);T(ie,ie.text,pe),Ee&&c.remove(O.line,Ee),Re.length&&c.insert(O.line,Re)}else if(J==ie)if(z.length==1)T(J,J.text.slice(0,O.ch)+ye+J.text.slice(B.ch),pe);else{var Ve=M(1,z.length-1);Ve.push(new ja(ye+J.text.slice(B.ch),pe,b)),T(J,J.text.slice(0,O.ch)+z[0],w(0)),c.insert(O.line+1,Ve)}else if(z.length==1)T(J,J.text.slice(0,O.ch)+z[0]+ie.text.slice(B.ch),w(0)),c.remove(O.line+1,Ee);else{T(J,J.text.slice(0,O.ch)+z[0],w(0)),T(ie,ye+ie.text.slice(B.ch),pe);var qe=M(1,z.length-1);Ee>1&&c.remove(O.line+1,Ee-1),c.insert(O.line+1,qe)}Pi(c,"change",c,p)}function Ds(c,p,y){function b(w,T,M){if(w.linked)for(var O=0;O<w.linked.length;++O){var B=w.linked[O];if(B.doc!=T){var z=M&&B.sharedHist;y&&!z||(p(B.doc,z),b(B.doc,w,z))}}}b(c,null,!0)}function Vc(c,p){if(p.cm)throw new Error("This document is already in use.");c.doc=p,p.cm=c,Eo(c),Po(c),Wl(c),c.options.direction=p.direction,c.options.lineWrapping||is(c),c.options.mode=p.modeOption,Bi(c)}function Wl(c){(c.doc.direction=="rtl"?Ht:Ue)(c.display.lineDiv,"CodeMirror-rtl")}function tf(c){pn(c,function(){Wl(c),Bi(c)})}function Vr(c){this.done=[],this.undone=[],this.undoDepth=c?c.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=c?c.maxGeneration:1}function jl(c,p){var y={from:_o(p.from),to:Ss(p),text:fs(c,p.from,p.to)};return Yl(c,y,p.from.line,p.to.line+1),Ds(c,function(b){return Yl(b,y,p.from.line,p.to.line+1)},!0),y}function Ul(c){for(;c.length;){var p=st(c);if(p.ranges)c.pop();else break}}function nf(c,p){if(p)return Ul(c.done),st(c.done);if(c.done.length&&!st(c.done).ranges)return st(c.done);if(c.done.length>1&&!c.done[c.done.length-2].ranges)return c.done.pop(),st(c.done)}function ql(c,p,y,b){var w=c.history;w.undone.length=0;var T=+new Date,M,O;if((w.lastOp==b||w.lastOrigin==p.origin&&p.origin&&(p.origin.charAt(0)=="+"&&w.lastModTime>T-(c.cm?c.cm.options.historyEventDelay:500)||p.origin.charAt(0)=="*"))&&(M=nf(w,w.lastOp==b)))O=st(M.changes),vt(p.from,p.to)==0&&vt(p.from,O.to)==0?O.to=Ss(p):M.changes.push(jl(c,p));else{var B=st(w.done);for((!B||!B.ranges)&&Bo(c.sel,w.done),M={changes:[jl(c,p)],generation:w.generation},w.done.push(M);w.done.length>w.undoDepth;)w.done.shift(),w.done[0].ranges||w.done.shift()}w.done.push(y),w.generation=++w.maxGeneration,w.lastModTime=w.lastSelTime=T,w.lastOp=w.lastSelOp=b,w.lastOrigin=w.lastSelOrigin=p.origin,O||et(c,"historyAdded")}function sf(c,p,y,b){var w=p.charAt(0);return w=="*"||w=="+"&&y.ranges.length==b.ranges.length&&y.somethingSelected()==b.somethingSelected()&&new Date-c.history.lastSelTime<=(c.cm?c.cm.options.historyEventDelay:500)}function Wc(c,p,y,b){var w=c.history,T=b&&b.origin;y==w.lastSelOp||T&&w.lastSelOrigin==T&&(w.lastModTime==w.lastSelTime&&w.lastOrigin==T||sf(c,T,st(w.done),p))?w.done[w.done.length-1]=p:Bo(p,w.done),w.lastSelTime=+new Date,w.lastSelOrigin=T,w.lastSelOp=y,b&&b.clearRedo!==!1&&Ul(w.undone)}function Bo(c,p){var y=st(p);y&&y.ranges&&y.equals(c)||p.push(c)}function Yl(c,p,y,b){var w=p["spans_"+c.id],T=0;c.iter(Math.max(c.first,y),Math.min(c.first+c.size,b),function(M){M.markedSpans&&((w||(w=p["spans_"+c.id]={}))[T]=M.markedSpans),++T})}function af(c){if(!c)return null;for(var p,y=0;y<c.length;++y)c[y].marker.explicitlyCleared?p||(p=c.slice(0,y)):p&&p.push(c[y]);return p?p.length?p:null:c}function jc(c,p){var y=p["spans_"+c.id];if(!y)return null;for(var b=[],w=0;w<p.text.length;++w)b.push(af(y[w]));return b}function Uc(c,p){var y=jc(c,p),b=bl(c,p);if(!y)return b;if(!b)return y;for(var w=0;w<y.length;++w){var T=y[w],M=b[w];if(T&&M)e:for(var O=0;O<M.length;++O){for(var B=M[O],z=0;z<T.length;++z)if(T[z].marker==B.marker)continue e;T.push(B)}else M&&(y[w]=M)}return y}function xa(c,p,y){for(var b=[],w=0;w<c.length;++w){var T=c[w];if(T.ranges){b.push(y?qt.prototype.deepCopy.call(T):T);continue}var M=T.changes,O=[];b.push({changes:O});for(var B=0;B<M.length;++B){var z=M[B],J=void 0;if(O.push({from:z.from,to:z.to,text:z.text}),p)for(var ie in z)(J=ie.match(/^spans_(\d+)$/))&&kt(p,Number(J[1]))>-1&&(st(O)[ie]=z[ie],delete z[ie])}}return b}function qs(c,p,y,b){if(b){var w=c.anchor;if(y){var T=vt(p,w)<0;T!=vt(y,w)<0?(w=p,p=y):T!=vt(p,y)<0&&(p=y)}return new Bt(w,p)}else return new Bt(y||p,p)}function No(c,p,y,b,w){w==null&&(w=c.cm&&(c.cm.display.shift||c.extend)),Vi(c,new qt([qs(c.sel.primary(),p,y,w)],0),b)}function qc(c,p,y){for(var b=[],w=c.cm&&(c.cm.display.shift||c.extend),T=0;T<c.sel.ranges.length;T++)b[T]=qs(c.sel.ranges[T],p[T],null,w);var M=In(c.cm,b,c.sel.primIndex);Vi(c,M,y)}function Gl(c,p,y,b){var w=c.sel.ranges.slice(0);w[p]=y,Vi(c,In(c.cm,w,c.sel.primIndex),b)}function Yc(c,p,y,b){Vi(c,ks(p,y),b)}function rf(c,p,y){var b={ranges:p.ranges,update:function(w){this.ranges=[];for(var T=0;T<w.length;T++)this.ranges[T]=new Bt(xt(c,w[T].anchor),xt(c,w[T].head))},origin:y&&y.origin};return et(c,"beforeSelectionChange",c,b),c.cm&&et(c.cm,"beforeSelectionChange",c.cm,b),b.ranges!=p.ranges?In(c.cm,b.ranges,b.ranges.length-1):p}function Gc(c,p,y){var b=c.history.done,w=st(b);w&&w.ranges?(b[b.length-1]=p,Ro(c,p,y)):Vi(c,p,y)}function Vi(c,p,y){Ro(c,p,y),Wc(c,c.sel,c.cm?c.cm.curOp.id:NaN,y)}function Ro(c,p,y){(_t(c,"beforeSelectionChange")||c.cm&&_t(c.cm,"beforeSelectionChange"))&&(p=rf(c,p,y));var b=y&&y.bias||(vt(p.primary().head,c.sel.primary().head)<0?-1:1);zo(c,Kc(c,p,b,!0)),!(y&&y.scroll===!1)&&c.cm&&c.cm.getOption("readOnly")!="nocursor"&&va(c.cm)}function zo(c,p){p.equals(c.sel)||(c.sel=p,c.cm&&(c.cm.curOp.updateInput=1,c.cm.curOp.selectionChanged=!0,gt(c.cm)),Pi(c,"cursorActivity",c))}function Xc(c){zo(c,Kc(c,c.sel,null,!1))}function Kc(c,p,y,b){for(var w,T=0;T<p.ranges.length;T++){var M=p.ranges[T],O=p.ranges.length==c.sel.ranges.length&&c.sel.ranges[T],B=Ho(c,M.anchor,O&&O.anchor,y,b),z=M.head==M.anchor?B:Ho(c,M.head,O&&O.head,y,b);(w||B!=M.anchor||z!=M.head)&&(w||(w=p.ranges.slice(0,T)),w[T]=new Bt(B,z))}return w?In(c.cm,w,p.primIndex):p}function Ca(c,p,y,b,w){var T=at(c,p.line);if(T.markedSpans)for(var M=0;M<T.markedSpans.length;++M){var O=T.markedSpans[M],B=O.marker,z="selectLeft"in B?!B.selectLeft:B.inclusiveLeft,J="selectRight"in B?!B.selectRight:B.inclusiveRight;if((O.from==null||(z?O.from<=p.ch:O.from<p.ch))&&(O.to==null||(J?O.to>=p.ch:O.to>p.ch))){if(w&&(et(B,"beforeCursorEnter"),B.explicitlyCleared))if(T.markedSpans){--M;continue}else break;if(!B.atomic)continue;if(y){var ie=B.find(b<0?1:-1),ye=void 0;if((b<0?J:z)&&(ie=Xl(c,ie,-b,ie&&ie.line==p.line?T:null)),ie&&ie.line==p.line&&(ye=vt(ie,y))&&(b<0?ye<0:ye>0))return Ca(c,ie,p,b,w)}var pe=B.find(b<0?-1:1);return(b<0?z:J)&&(pe=Xl(c,pe,b,pe.line==p.line?T:null)),pe?Ca(c,pe,p,b,w):null}}return p}function Ho(c,p,y,b,w){var T=b||1,M=Ca(c,p,y,T,w)||!w&&Ca(c,p,y,T,!0)||Ca(c,p,y,-T,w)||!w&&Ca(c,p,y,-T,!0);return M||(c.cantEdit=!0,ze(c.first,0))}function Xl(c,p,y,b){return y<0&&p.ch==0?p.line>c.first?xt(c,ze(p.line-1)):null:y>0&&p.ch==(b||at(c,p.line)).text.length?p.line<c.first+c.size-1?ze(p.line+1,0):null:new ze(p.line,p.ch+y)}function Zc(c){c.setSelection(ze(c.firstLine(),0),ze(c.lastLine()),mi)}function Kl(c,p,y){var b={canceled:!1,from:p.from,to:p.to,text:p.text,origin:p.origin,cancel:function(){return b.canceled=!0}};return y&&(b.update=function(w,T,M,O){w&&(b.from=xt(c,w)),T&&(b.to=xt(c,T)),M&&(b.text=M),O!==void 0&&(b.origin=O)}),et(c,"beforeChange",c,b),c.cm&&et(c.cm,"beforeChange",c.cm,b),b.canceled?(c.cm&&(c.cm.curOp.updateInput=2),null):{from:b.from,to:b.to,text:b.text,origin:b.origin}}function or(c,p,y){if(c.cm){if(!c.cm.curOp)return Ei(c.cm,or)(c,p,y);if(c.cm.state.suppressEdits)return}if(!((_t(c,"beforeChange")||c.cm&&_t(c.cm,"beforeChange"))&&(p=Kl(c,p,!0),!p))){var b=vl&&!y&&en(c,p.from,p.to);if(b)for(var w=b.length-1;w>=0;--w)Zl(c,{from:b[w].from,to:b[w].to,text:w?[""]:p.text,origin:p.origin});else Zl(c,p)}}function Zl(c,p){if(!(p.text.length==1&&p.text[0]==""&&vt(p.from,p.to)==0)){var y=Hl(c,p);ql(c,p,y,c.cm?c.cm.curOp.id:NaN),Wr(c,p,y,bl(c,p));var b=[];Ds(c,function(w,T){!T&&kt(b,w.history)==-1&&(eu(w.history,p),b.push(w.history)),Wr(w,p,null,bl(w,p))})}}function $o(c,p,y){var b=c.cm&&c.cm.state.suppressEdits;if(!(b&&!y)){for(var w=c.history,T,M=c.sel,O=p=="undo"?w.done:w.undone,B=p=="undo"?w.undone:w.done,z=0;z<O.length&&(T=O[z],!(y?T.ranges&&!T.equals(c.sel):!T.ranges));z++);if(z!=O.length){for(w.lastOrigin=w.lastSelOrigin=null;;)if(T=O.pop(),T.ranges){if(Bo(T,B),y&&!T.equals(c.sel)){Vi(c,T,{clearRedo:!1});return}M=T}else if(b){O.push(T);return}else break;var J=[];Bo(M,B),B.push({changes:J,generation:w.generation}),w.generation=T.generation||++w.maxGeneration;for(var ie=_t(c,"beforeChange")||c.cm&&_t(c.cm,"beforeChange"),ye=function(Re){var Ve=T.changes[Re];if(Ve.origin=p,ie&&!Kl(c,Ve,!1))return O.length=0,{};J.push(jl(c,Ve));var qe=Re?Hl(c,Ve):st(O);Wr(c,Ve,qe,Uc(c,Ve)),!Re&&c.cm&&c.cm.scrollIntoView({from:Ve.from,to:Ss(Ve)});var Ke=[];Ds(c,function(Ye,tt){!tt&&kt(Ke,Ye.history)==-1&&(eu(Ye.history,Ve),Ke.push(Ye.history)),Wr(Ye,Ve,null,Uc(Ye,Ve))})},pe=T.changes.length-1;pe>=0;--pe){var Ee=ye(pe);if(Ee)return Ee.v}}}}function Jl(c,p){if(p!=0&&(c.first+=p,c.sel=new qt(ui(c.sel.ranges,function(w){return new Bt(ze(w.anchor.line+p,w.anchor.ch),ze(w.head.line+p,w.head.ch))}),c.sel.primIndex),c.cm)){Bi(c.cm,c.first,c.first-p,p);for(var y=c.cm.display,b=y.viewFrom;b<y.viewTo;b++)Ws(c.cm,b,"gutter")}}function Wr(c,p,y,b){if(c.cm&&!c.cm.curOp)return Ei(c.cm,Wr)(c,p,y,b);if(p.to.line<c.first){Jl(c,p.text.length-1-(p.to.line-p.from.line));return}if(!(p.from.line>c.lastLine())){if(p.from.line<c.first){var w=p.text.length-1-(c.first-p.from.line);Jl(c,w),p={from:ze(c.first,0),to:ze(p.to.line+w,p.to.ch),text:[st(p.text)],origin:p.origin}}var T=c.lastLine();p.to.line>T&&(p={from:p.from,to:ze(T,at(c,T).text.length),text:[p.text[0]],origin:p.origin}),p.removed=fs(c,p.from,p.to),y||(y=Hl(c,p)),c.cm?Jc(c.cm,p,b):Vl(c,p,b),Ro(c,y,mi),c.cantEdit&&Ho(c,ze(c.firstLine(),0))&&(c.cantEdit=!1)}}function Jc(c,p,y){var b=c.doc,w=c.display,T=p.from,M=p.to,O=!1,B=T.line;c.options.lineWrapping||(B=Rt($i(at(b,T.line))),b.iter(B,M.line+1,function(pe){if(pe==w.maxLine)return O=!0,!0})),b.sel.contains(p.from,p.to)>-1&&gt(c),Vl(b,p,y,Cn(c)),c.options.lineWrapping||(b.iter(B,T.line+p.text.length,function(pe){var Ee=Rs(pe);Ee>w.maxLineLength&&(w.maxLine=pe,w.maxLineLength=Ee,w.maxLineChanged=!0,O=!1)}),O&&(c.curOp.updateMaxLine=!0)),Ah(b,T.line),ar(c,400);var z=p.text.length-(M.line-T.line)-1;p.full?Bi(c):T.line==M.line&&p.text.length==1&&!$l(c.doc,p)?Ws(c,T.line,"text"):Bi(c,T.line,M.line+1,z);var J=_t(c,"changes"),ie=_t(c,"change");if(ie||J){var ye={from:T,to:M,text:p.text,removed:p.removed,origin:p.origin};ie&&Pi(c,"change",c,ye),J&&(c.curOp.changeObjs||(c.curOp.changeObjs=[])).push(ye)}c.display.selForContextMenu=null}function lr(c,p,y,b,w){var T;b||(b=y),vt(b,y)<0&&(T=[b,y],y=T[0],b=T[1]),typeof p=="string"&&(p=c.splitLines(p)),or(c,{from:y,to:b,text:p,origin:w})}function Ql(c,p,y,b){y<c.line?c.line+=b:p<c.line&&(c.line=p,c.ch=0)}function Qc(c,p,y,b){for(var w=0;w<c.length;++w){var T=c[w],M=!0;if(T.ranges){T.copied||(T=c[w]=T.deepCopy(),T.copied=!0);for(var O=0;O<T.ranges.length;O++)Ql(T.ranges[O].anchor,p,y,b),Ql(T.ranges[O].head,p,y,b);continue}for(var B=0;B<T.changes.length;++B){var z=T.changes[B];if(y<z.from.line)z.from=ze(z.from.line+b,z.from.ch),z.to=ze(z.to.line+b,z.to.ch);else if(p<=z.to.line){M=!1;break}}M||(c.splice(0,w+1),w=0)}}function eu(c,p){var y=p.from.line,b=p.to.line,w=p.text.length-(b-y)-1;Qc(c.done,y,b,w),Qc(c.undone,y,b,w)}function jr(c,p,y,b){var w=p,T=p;return typeof p=="number"?T=at(c,_n(c,p)):w=Rt(p),w==null?null:(b(T,w)&&c.cm&&Ws(c.cm,w,y),T)}function ur(c){this.lines=c,this.parent=null;for(var p=0,y=0;y<c.length;++y)c[y].parent=this,p+=c[y].height;this.height=p}ur.prototype={chunkSize:function(){return this.lines.length},removeInner:function(c,p){for(var y=c,b=c+p;y<b;++y){var w=this.lines[y];this.height-=w.height,gs(w),Pi(w,"delete")}this.lines.splice(c,p)},collapse:function(c){c.push.apply(c,this.lines)},insertInner:function(c,p,y){this.height+=y,this.lines=this.lines.slice(0,c).concat(p).concat(this.lines.slice(c));for(var b=0;b<p.length;++b)p[b].parent=this},iterN:function(c,p,y){for(var b=c+p;c<b;++c)if(y(this.lines[c]))return!0}};function Ur(c){this.children=c;for(var p=0,y=0,b=0;b<c.length;++b){var w=c[b];p+=w.chunkSize(),y+=w.height,w.parent=this}this.size=p,this.height=y,this.parent=null}Ur.prototype={chunkSize:function(){return this.size},removeInner:function(c,p){this.size-=p;for(var y=0;y<this.children.length;++y){var b=this.children[y],w=b.chunkSize();if(c<w){var T=Math.min(p,w-c),M=b.height;if(b.removeInner(c,T),this.height-=M-b.height,w==T&&(this.children.splice(y--,1),b.parent=null),(p-=T)==0)break;c=0}else c-=w}if(this.size-p<25&&(this.children.length>1||!(this.children[0]instanceof ur))){var O=[];this.collapse(O),this.children=[new ur(O)],this.children[0].parent=this}},collapse:function(c){for(var p=0;p<this.children.length;++p)this.children[p].collapse(c)},insertInner:function(c,p,y){this.size+=p.length,this.height+=y;for(var b=0;b<this.children.length;++b){var w=this.children[b],T=w.chunkSize();if(c<=T){if(w.insertInner(c,p,y),w.lines&&w.lines.length>50){for(var M=w.lines.length%25+25,O=M;O<w.lines.length;){var B=new ur(w.lines.slice(O,O+=25));w.height-=B.height,this.children.splice(++b,0,B),B.parent=this}w.lines=w.lines.slice(0,M),this.maybeSpill()}break}c-=T}},maybeSpill:function(){if(!(this.children.length<=10)){var c=this;do{var p=c.children.splice(c.children.length-5,5),y=new Ur(p);if(c.parent){c.size-=y.size,c.height-=y.height;var w=kt(c.parent.children,c);c.parent.children.splice(w+1,0,y)}else{var b=new Ur(c.children);b.parent=c,c.children=[b,y],c=b}y.parent=c.parent}while(c.children.length>10);c.parent.maybeSpill()}},iterN:function(c,p,y){for(var b=0;b<this.children.length;++b){var w=this.children[b],T=w.chunkSize();if(c<T){var M=Math.min(p,T-c);if(w.iterN(c,M,y))return!0;if((p-=M)==0)break;c=0}else c-=T}}};var cr=function(c,p,y){if(y)for(var b in y)y.hasOwnProperty(b)&&(this[b]=y[b]);this.doc=c,this.node=p};cr.prototype.clear=function(){var c=this.doc.cm,p=this.line.widgets,y=this.line,b=Rt(y);if(!(b==null||!p)){for(var w=0;w<p.length;++w)p[w]==this&&p.splice(w--,1);p.length||(y.widgets=null);var T=Ka(this);$n(y,Math.max(0,y.height-T)),c&&(pn(c,function(){ed(c,y,-T),Ws(c,b,"widget")}),Pi(c,"lineWidgetCleared",c,this,b))}},cr.prototype.changed=function(){var c=this,p=this.height,y=this.doc.cm,b=this.line;this.height=null;var w=Ka(this)-p;w&&(bi(this.doc,b)||$n(b,b.height+w),y&&pn(y,function(){y.curOp.forceUpdate=!0,ed(y,b,w),Pi(y,"lineWidgetChanged",y,c,Rt(b))}))},Ct(cr);function ed(c,p,y){ts(p)<(c.curOp&&c.curOp.scrollTop||c.doc.scrollTop)&&ir(c,y)}function td(c,p,y,b){var w=new cr(c,y,b),T=c.cm;return T&&w.noHScroll&&(T.display.alignWidgets=!0),jr(c,p,"widget",function(M){var O=M.widgets||(M.widgets=[]);if(w.insertAt==null?O.push(w):O.splice(Math.min(O.length,Math.max(0,w.insertAt)),0,w),w.line=M,T&&!bi(c,M)){var B=ts(M)<c.scrollTop;$n(M,M.height+Ka(w)),B&&ir(T,w.height),T.curOp.forceUpdate=!0}return!0}),T&&Pi(T,"lineWidgetAdded",T,w,typeof p=="number"?p:Rt(p)),w}var id=0,Ts=function(c,p){this.lines=[],this.type=p,this.doc=c,this.id=++id};Ts.prototype.clear=function(){if(!this.explicitlyCleared){var c=this.doc.cm,p=c&&!c.curOp;if(p&&js(c),_t(this,"clear")){var y=this.find();y&&Pi(this,"clear",y.from,y.to)}for(var b=null,w=null,T=0;T<this.lines.length;++T){var M=this.lines[T],O=Fr(M.markedSpans,this);c&&!this.collapsed?Ws(c,Rt(M),"text"):c&&(O.to!=null&&(w=Rt(M)),O.from!=null&&(b=Rt(M))),M.markedSpans=Fh(M.markedSpans,O),O.from==null&&this.collapsed&&!bi(this.doc,M)&&c&&$n(M,bs(c.display))}if(c&&this.collapsed&&!c.options.lineWrapping)for(var B=0;B<this.lines.length;++B){var z=$i(this.lines[B]),J=Rs(z);J>c.display.maxLineLength&&(c.display.maxLine=z,c.display.maxLineLength=J,c.display.maxLineChanged=!0)}b!=null&&c&&this.collapsed&&Bi(c,b,w+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,c&&Xc(c.doc)),c&&Pi(c,"markerCleared",c,this,b,w),p&&Us(c),this.parent&&this.parent.clear()}},Ts.prototype.find=function(c,p){c==null&&this.type=="bookmark"&&(c=1);for(var y,b,w=0;w<this.lines.length;++w){var T=this.lines[w],M=Fr(T.markedSpans,this);if(M.from!=null&&(y=ze(p?T:Rt(T),M.from),c==-1))return y;if(M.to!=null&&(b=ze(p?T:Rt(T),M.to),c==1))return b}return y&&{from:y,to:b}},Ts.prototype.changed=function(){var c=this,p=this.find(-1,!0),y=this,b=this.doc.cm;!p||!b||pn(b,function(){var w=p.line,T=Rt(p.line),M=Dl(b,T);if(M&&(Tc(M),b.curOp.selectionChanged=b.curOp.forceUpdate=!0),b.curOp.updateMaxLine=!0,!bi(y.doc,w)&&y.height!=null){var O=y.height;y.height=null;var B=Ka(y)-O;B&&$n(w,w.height+B)}Pi(b,"markerChanged",b,c)})},Ts.prototype.attachLine=function(c){if(!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;(!p.maybeHiddenMarkers||kt(p.maybeHiddenMarkers,this)==-1)&&(p.maybeUnhiddenMarkers||(p.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(c)},Ts.prototype.detachLine=function(c){if(this.lines.splice(kt(this.lines,c),1),!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;(p.maybeHiddenMarkers||(p.maybeHiddenMarkers=[])).push(this)}},Ct(Ts);function dr(c,p,y,b,w){if(b&&b.shared)return of(c,p,y,b,w);if(c.cm&&!c.cm.curOp)return Ei(c.cm,dr)(c,p,y,b,w);var T=new Ts(c,w),M=vt(p,y);if(b&&ni(b,T,!1),M>0||M==0&&T.clearWhenEmpty!==!1)return T;if(T.replacedWith&&(T.collapsed=!0,T.widgetNode=Be("span",[T.replacedWith],"CodeMirror-widget"),b.handleMouseEvents||T.widgetNode.setAttribute("cm-ignore-events","true"),b.insertLeft&&(T.widgetNode.insertLeft=!0)),T.collapsed){if(ko(c,p.line,p,y,T)||p.line!=y.line&&ko(c,y.line,p,y,T))throw new Error("Inserting collapsed marker partially overlapping an existing one");Mh()}T.addToHistory&&ql(c,{from:p,to:y,origin:"markText"},c.sel,NaN);var O=p.line,B=c.cm,z;if(c.iter(O,y.line+1,function(ie){B&&T.collapsed&&!B.options.lineWrapping&&$i(ie)==B.display.maxLine&&(z=!0),T.collapsed&&O!=p.line&&$n(ie,0),Ih(ie,new wo(T,O==p.line?p.ch:null,O==y.line?y.ch:null),c.cm&&c.cm.curOp),++O}),T.collapsed&&c.iter(p.line,y.line+1,function(ie){bi(c,ie)&&$n(ie,0)}),T.clearOnEnter&&ge(T,"beforeCursorEnter",function(){return T.clear()}),T.readOnly&&(lc(),(c.history.done.length||c.history.undone.length)&&c.clearHistory()),T.collapsed&&(T.id=++id,T.atomic=!0),B){if(z&&(B.curOp.updateMaxLine=!0),T.collapsed)Bi(B,p.line,y.line+1);else if(T.className||T.startStyle||T.endStyle||T.css||T.attributes||T.title)for(var J=p.line;J<=y.line;J++)Ws(B,J,"text");T.atomic&&Xc(B.doc),Pi(B,"markerAdded",B,T)}return T}var hr=function(c,p){this.markers=c,this.primary=p;for(var y=0;y<c.length;++y)c[y].parent=this};hr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var c=0;c<this.markers.length;++c)this.markers[c].clear();Pi(this,"clear")}},hr.prototype.find=function(c,p){return this.primary.find(c,p)},Ct(hr);function of(c,p,y,b,w){b=ni(b),b.shared=!1;var T=[dr(c,p,y,b,w)],M=T[0],O=b.widgetNode;return Ds(c,function(B){O&&(b.widgetNode=O.cloneNode(!0)),T.push(dr(B,xt(B,p),xt(B,y),b,w));for(var z=0;z<B.linked.length;++z)if(B.linked[z].isParent)return;M=st(T)}),new hr(T,M)}function tu(c){return c.findMarks(ze(c.first,0),c.clipPos(ze(c.lastLine())),function(p){return p.parent})}function lf(c,p){for(var y=0;y<p.length;y++){var b=p[y],w=b.find(),T=c.clipPos(w.from),M=c.clipPos(w.to);if(vt(T,M)){var O=dr(c,T,M,b.primary,b.primary.type);b.markers.push(O),O.parent=b}}}function nd(c){for(var p=function(b){var w=c[b],T=[w.primary.doc];Ds(w.primary.doc,function(B){return T.push(B)});for(var M=0;M<w.markers.length;M++){var O=w.markers[M];kt(T,O.doc)==-1&&(O.parent=null,w.markers.splice(M--,1))}},y=0;y<c.length;y++)p(y)}var uf=0,an=function(c,p,y,b,w){if(!(this instanceof an))return new an(c,p,y,b,w);y==null&&(y=0),Ur.call(this,[new ur([new ja("",null)])]),this.first=y,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=y;var T=ze(y,0);this.sel=ks(T),this.history=new Vr(null),this.id=++uf,this.modeOption=p,this.lineSep=b,this.direction=w=="rtl"?"rtl":"ltr",this.extend=!1,typeof c=="string"&&(c=this.splitLines(c)),Vl(this,{from:T,to:T,text:c}),Vi(this,ks(T),mi)};an.prototype=Ce(Ur.prototype,{constructor:an,iter:function(c,p,y){y?this.iterN(c-this.first,p-c,y):this.iterN(this.first,this.first+this.size,c)},insert:function(c,p){for(var y=0,b=0;b<p.length;++b)y+=p[b].height;this.insertInner(c-this.first,p,y)},remove:function(c,p){this.removeInner(c-this.first,p)},getValue:function(c){var p=Er(this,this.first,this.first+this.size);return c===!1?p:p.join(c||this.lineSeparator())},setValue:Ai(function(c){var p=ze(this.first,0),y=this.first+this.size-1;or(this,{from:p,to:ze(y,at(this,y).text.length),text:this.splitLines(c),origin:"setValue",full:!0},!0),this.cm&&Gn(this.cm,0,0),Vi(this,ks(p),mi)}),replaceRange:function(c,p,y,b){p=xt(this,p),y=y?xt(this,y):p,lr(this,c,p,y,b)},getRange:function(c,p,y){var b=fs(this,xt(this,c),xt(this,p));return y===!1?b:y===""?b.join(""):b.join(y||this.lineSeparator())},getLine:function(c){var p=this.getLineHandle(c);return p&&p.text},getLineHandle:function(c){if($a(this,c))return at(this,c)},getLineNumber:function(c){return Rt(c)},getLineHandleVisualStart:function(c){return typeof c=="number"&&(c=at(this,c)),$i(c)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(c){return xt(this,c)},getCursor:function(c){var p=this.sel.primary(),y;return c==null||c=="head"?y=p.head:c=="anchor"?y=p.anchor:c=="end"||c=="to"||c===!1?y=p.to():y=p.from(),y},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ai(function(c,p,y){Yc(this,xt(this,typeof c=="number"?ze(c,p||0):c),null,y)}),setSelection:Ai(function(c,p,y){Yc(this,xt(this,c),xt(this,p||c),y)}),extendSelection:Ai(function(c,p,y){No(this,xt(this,c),p&&xt(this,p),y)}),extendSelections:Ai(function(c,p){qc(this,rc(this,c),p)}),extendSelectionsBy:Ai(function(c,p){var y=ui(this.sel.ranges,c);qc(this,rc(this,y),p)}),setSelections:Ai(function(c,p,y){if(c.length){for(var b=[],w=0;w<c.length;w++)b[w]=new Bt(xt(this,c[w].anchor),xt(this,c[w].head||c[w].anchor));p==null&&(p=Math.min(c.length-1,this.sel.primIndex)),Vi(this,In(this.cm,b,p),y)}}),addSelection:Ai(function(c,p,y){var b=this.sel.ranges.slice(0);b.push(new Bt(xt(this,c),xt(this,p||c))),Vi(this,In(this.cm,b,b.length-1),y)}),getSelection:function(c){for(var p=this.sel.ranges,y,b=0;b<p.length;b++){var w=fs(this,p[b].from(),p[b].to());y=y?y.concat(w):w}return c===!1?y:y.join(c||this.lineSeparator())},getSelections:function(c){for(var p=[],y=this.sel.ranges,b=0;b<y.length;b++){var w=fs(this,y[b].from(),y[b].to());c!==!1&&(w=w.join(c||this.lineSeparator())),p[b]=w}return p},replaceSelection:function(c,p,y){for(var b=[],w=0;w<this.sel.ranges.length;w++)b[w]=c;this.replaceSelections(b,p,y||"+input")},replaceSelections:Ai(function(c,p,y){for(var b=[],w=this.sel,T=0;T<w.ranges.length;T++){var M=w.ranges[T];b[T]={from:M.from(),to:M.to(),text:this.splitLines(c[T]),origin:y}}for(var O=p&&p!="end"&&Oo(this,b,p),B=b.length-1;B>=0;B--)or(this,b[B]);O?Gc(this,O):this.cm&&va(this.cm)}),undo:Ai(function(){$o(this,"undo")}),redo:Ai(function(){$o(this,"redo")}),undoSelection:Ai(function(){$o(this,"undo",!0)}),redoSelection:Ai(function(){$o(this,"redo",!0)}),setExtending:function(c){this.extend=c},getExtending:function(){return this.extend},historySize:function(){for(var c=this.history,p=0,y=0,b=0;b<c.done.length;b++)c.done[b].ranges||++p;for(var w=0;w<c.undone.length;w++)c.undone[w].ranges||++y;return{undo:p,redo:y}},clearHistory:function(){var c=this;this.history=new Vr(this.history),Ds(this,function(p){return p.history=c.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(c){return c&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(c){return this.history.generation==(c||this.cleanGeneration)},getHistory:function(){return{done:xa(this.history.done),undone:xa(this.history.undone)}},setHistory:function(c){var p=this.history=new Vr(this.history);p.done=xa(c.done.slice(0),null,!0),p.undone=xa(c.undone.slice(0),null,!0)},setGutterMarker:Ai(function(c,p,y){return jr(this,c,"gutter",function(b){var w=b.gutterMarkers||(b.gutterMarkers={});return w[p]=y,!y&&V(w)&&(b.gutterMarkers=null),!0})}),clearGutter:Ai(function(c){var p=this;this.iter(function(y){y.gutterMarkers&&y.gutterMarkers[c]&&jr(p,y,"gutter",function(){return y.gutterMarkers[c]=null,V(y.gutterMarkers)&&(y.gutterMarkers=null),!0})})}),lineInfo:function(c){var p;if(typeof c=="number"){if(!$a(this,c)||(p=c,c=at(this,c),!c))return null}else if(p=Rt(c),p==null)return null;return{line:p,handle:c,text:c.text,gutterMarkers:c.gutterMarkers,textClass:c.textClass,bgClass:c.bgClass,wrapClass:c.wrapClass,widgets:c.widgets}},addLineClass:Ai(function(c,p,y){return jr(this,c,p=="gutter"?"gutter":"class",function(b){var w=p=="text"?"textClass":p=="background"?"bgClass":p=="gutter"?"gutterClass":"wrapClass";if(!b[w])b[w]=y;else{if(Fe(y).test(b[w]))return!1;b[w]+=" "+y}return!0})}),removeLineClass:Ai(function(c,p,y){return jr(this,c,p=="gutter"?"gutter":"class",function(b){var w=p=="text"?"textClass":p=="background"?"bgClass":p=="gutter"?"gutterClass":"wrapClass",T=b[w];if(T)if(y==null)b[w]=null;else{var M=T.match(Fe(y));if(!M)return!1;var O=M.index+M[0].length;b[w]=T.slice(0,M.index)+(!M.index||O==T.length?"":" ")+T.slice(O)||null}else return!1;return!0})}),addLineWidget:Ai(function(c,p,y){return td(this,c,p,y)}),removeLineWidget:function(c){c.clear()},markText:function(c,p,y){return dr(this,xt(this,c),xt(this,p),y,y&&y.type||"range")},setBookmark:function(c,p){var y={replacedWith:p&&(p.nodeType==null?p.widget:p),insertLeft:p&&p.insertLeft,clearWhenEmpty:!1,shared:p&&p.shared,handleMouseEvents:p&&p.handleMouseEvents};return c=xt(this,c),dr(this,c,c,y,"bookmark")},findMarksAt:function(c){c=xt(this,c);var p=[],y=at(this,c.line).markedSpans;if(y)for(var b=0;b<y.length;++b){var w=y[b];(w.from==null||w.from<=c.ch)&&(w.to==null||w.to>=c.ch)&&p.push(w.marker.parent||w.marker)}return p},findMarks:function(c,p,y){c=xt(this,c),p=xt(this,p);var b=[],w=c.line;return this.iter(c.line,p.line+1,function(T){var M=T.markedSpans;if(M)for(var O=0;O<M.length;O++){var B=M[O];!(B.to!=null&&w==c.line&&c.ch>=B.to||B.from==null&&w!=c.line||B.from!=null&&w==p.line&&B.from>=p.ch)&&(!y||y(B.marker))&&b.push(B.marker.parent||B.marker)}++w}),b},getAllMarks:function(){var c=[];return this.iter(function(p){var y=p.markedSpans;if(y)for(var b=0;b<y.length;++b)y[b].from!=null&&c.push(y[b].marker)}),c},posFromIndex:function(c){var p,y=this.first,b=this.lineSeparator().length;return this.iter(function(w){var T=w.text.length+b;if(T>c)return p=c,!0;c-=T,++y}),xt(this,ze(y,p))},indexFromPos:function(c){c=xt(this,c);var p=c.ch;if(c.line<this.first||c.ch<0)return 0;var y=this.lineSeparator().length;return this.iter(this.first,c.line,function(b){p+=b.text.length+y}),p},copy:function(c){var p=new an(Er(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return p.scrollTop=this.scrollTop,p.scrollLeft=this.scrollLeft,p.sel=this.sel,p.extend=!1,c&&(p.history.undoDepth=this.history.undoDepth,p.setHistory(this.getHistory())),p},linkedDoc:function(c){c||(c={});var p=this.first,y=this.first+this.size;c.from!=null&&c.from>p&&(p=c.from),c.to!=null&&c.to<y&&(y=c.to);var b=new an(Er(this,p,y),c.mode||this.modeOption,p,this.lineSep,this.direction);return c.sharedHist&&(b.history=this.history),(this.linked||(this.linked=[])).push({doc:b,sharedHist:c.sharedHist}),b.linked=[{doc:this,isParent:!0,sharedHist:c.sharedHist}],lf(b,tu(this)),b},unlinkDoc:function(c){if(c instanceof ti&&(c=c.doc),this.linked)for(var p=0;p<this.linked.length;++p){var y=this.linked[p];if(y.doc==c){this.linked.splice(p,1),c.unlinkDoc(this),nd(tu(this));break}}if(c.history==this.history){var b=[c.id];Ds(c,function(w){return b.push(w.id)},!0),c.history=new Vr(null),c.history.done=xa(this.history.done,b),c.history.undone=xa(this.history.undone,b)}},iterLinkedDocs:function(c){Ds(this,c)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(c){return this.lineSep?c.split(this.lineSep):Ha(c)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Ai(function(c){c!="rtl"&&(c="ltr"),c!=this.direction&&(this.direction=c,this.iter(function(p){return p.order=null}),this.cm&&tf(this.cm))})}),an.prototype.eachLine=an.prototype.iter;var sd=0;function ad(c){var p=this;if(od(p),!(We(p,c)||vs(p.display,c))){ft(c),k&&(sd=+new Date);var y=Vs(p,c,!0),b=c.dataTransfer.files;if(!(!y||p.isReadOnly()))if(b&&b.length&&window.FileReader&&window.File)for(var w=b.length,T=Array(w),M=0,O=function(){++M==w&&Ei(p,function(){y=xt(p.doc,y);var pe={from:y,to:y,text:p.doc.splitLines(T.filter(function(Ee){return Ee!=null}).join(p.doc.lineSeparator())),origin:"paste"};or(p.doc,pe),Gc(p.doc,ks(xt(p.doc,y),xt(p.doc,Ss(pe))))})()},B=function(pe,Ee){if(p.options.allowDropFileTypes&&kt(p.options.allowDropFileTypes,pe.type)==-1){O();return}var Re=new FileReader;Re.onerror=function(){return O()},Re.onload=function(){var Ve=Re.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ve)){O();return}T[Ee]=Ve,O()},Re.readAsText(pe)},z=0;z<b.length;z++)B(b[z],z);else{if(p.state.draggingText&&p.doc.sel.contains(y)>-1){p.state.draggingText(c),setTimeout(function(){return p.display.input.focus()},20);return}try{var J=c.dataTransfer.getData("Text");if(J){var ie;if(p.state.draggingText&&!p.state.draggingText.copy&&(ie=p.listSelections()),Ro(p.doc,ks(y,y)),ie)for(var ye=0;ye<ie.length;++ye)lr(p.doc,"",ie[ye].anchor,ie[ye].head,"drag");p.replaceSelection(J,"around","paste"),p.display.input.focus()}}catch{}}}}function cf(c,p){if(k&&(!c.state.draggingText||+new Date-sd<100)){gi(p);return}if(!(We(c,p)||vs(c.display,p))&&(p.dataTransfer.setData("Text",c.getSelection()),p.dataTransfer.effectAllowed="copyMove",p.dataTransfer.setDragImage&&!Z)){var y=ce("img",null,null,"position: fixed; left: 0; top: 0;");y.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",U&&(y.width=y.height=1,c.display.wrapper.appendChild(y),y._top=y.offsetTop),p.dataTransfer.setDragImage(y,0,0),U&&y.parentNode.removeChild(y)}}function rd(c,p){var y=Vs(c,p);if(y){var b=document.createDocumentFragment();rs(c,y,b),c.display.dragCursor||(c.display.dragCursor=ce("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),c.display.lineSpace.insertBefore(c.display.dragCursor,c.display.cursorDiv)),ot(c.display.dragCursor,b)}}function od(c){c.display.dragCursor&&(c.display.lineSpace.removeChild(c.display.dragCursor),c.display.dragCursor=null)}function iu(c){if(document.getElementsByClassName){for(var p=document.getElementsByClassName("CodeMirror"),y=[],b=0;b<p.length;b++){var w=p[b].CodeMirror;w&&y.push(w)}y.length&&y[0].operation(function(){for(var T=0;T<y.length;T++)c(y[T])})}}var ld=!1;function ud(){ld||(df(),ld=!0)}function df(){var c;ge(window,"resize",function(){c==null&&(c=setTimeout(function(){c=null,iu(Vo)},100))}),ge(window,"blur",function(){return iu(_s)})}function Vo(c){var p=c.display;p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null,p.scrollbarsClipped=!1,c.setSize()}for(var Ys={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},qr=0;qr<10;qr++)Ys[qr+48]=Ys[qr+96]=String(qr);for(var Wo=65;Wo<=90;Wo++)Ys[Wo]=String.fromCharCode(Wo);for(var fr=1;fr<=12;fr++)Ys[fr+111]=Ys[fr+63235]="F"+fr;var Es={};Es.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Es.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Es.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Es.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Es.default=se?Es.macDefault:Es.pcDefault;function nu(c){var p=c.split(/-(?!$)/);c=p[p.length-1];for(var y,b,w,T,M=0;M<p.length-1;M++){var O=p[M];if(/^(cmd|meta|m)$/i.test(O))T=!0;else if(/^a(lt)?$/i.test(O))y=!0;else if(/^(c|ctrl|control)$/i.test(O))b=!0;else if(/^s(hift)?$/i.test(O))w=!0;else throw new Error("Unrecognized modifier name: "+O)}return y&&(c="Alt-"+c),b&&(c="Ctrl-"+c),T&&(c="Cmd-"+c),w&&(c="Shift-"+c),c}function hf(c){var p={};for(var y in c)if(c.hasOwnProperty(y)){var b=c[y];if(/^(name|fallthrough|(de|at)tach)$/.test(y))continue;if(b=="..."){delete c[y];continue}for(var w=ui(y.split(" "),nu),T=0;T<w.length;T++){var M=void 0,O=void 0;T==w.length-1?(O=w.join(" "),M=b):(O=w.slice(0,T+1).join(" "),M="...");var B=p[O];if(!B)p[O]=M;else if(B!=M)throw new Error("Inconsistent bindings for "+O)}delete c[y]}for(var z in p)c[z]=p[z];return c}function pr(c,p,y,b){p=jo(p);var w=p.call?p.call(c,b):p[c];if(w===!1)return"nothing";if(w==="...")return"multi";if(w!=null&&y(w))return"handled";if(p.fallthrough){if(Object.prototype.toString.call(p.fallthrough)!="[object Array]")return pr(c,p.fallthrough,y,b);for(var T=0;T<p.fallthrough.length;T++){var M=pr(c,p.fallthrough[T],y,b);if(M)return M}}}function su(c){var p=typeof c=="string"?c:Ys[c.keyCode];return p=="Ctrl"||p=="Alt"||p=="Shift"||p=="Mod"}function cd(c,p,y){var b=c;return p.altKey&&b!="Alt"&&(c="Alt-"+c),(De?p.metaKey:p.ctrlKey)&&b!="Ctrl"&&(c="Ctrl-"+c),(De?p.ctrlKey:p.metaKey)&&b!="Mod"&&(c="Cmd-"+c),!y&&p.shiftKey&&b!="Shift"&&(c="Shift-"+c),c}function au(c,p){if(U&&c.keyCode==34&&c.char)return!1;var y=Ys[c.keyCode];return y==null||c.altGraphKey?!1:(c.keyCode==3&&c.code&&(y=c.code),cd(y,c,p))}function jo(c){return typeof c=="string"?Es[c]:c}function wa(c,p){for(var y=c.doc.sel.ranges,b=[],w=0;w<y.length;w++){for(var T=p(y[w]);b.length&&vt(T.from,st(b).to)<=0;){var M=b.pop();if(vt(M.from,T.from)<0){T.from=M.from;break}}b.push(T)}pn(c,function(){for(var O=b.length-1;O>=0;O--)lr(c.doc,"",b[O].from,b[O].to,"+delete");va(c)})}function Uo(c,p,y){var b=R(c.text,p+y,y);return b<0||b>c.text.length?null:b}function qo(c,p,y){var b=Uo(c,p.ch,y);return b==null?null:new ze(p.line,b,y<0?"after":"before")}function ru(c,p,y,b,w){if(c){p.doc.direction=="rtl"&&(w=-w);var T=le(y,p.doc.direction);if(T){var M=w<0?st(T):T[0],O=w<0==(M.level==1),B=O?"after":"before",z;if(M.level>0||p.doc.direction=="rtl"){var J=Za(p,y);z=w<0?y.text.length-1:0;var ie=ss(p,J,z).top;z=Q(function(ye){return ss(p,J,ye).top==ie},w<0==(M.level==1)?M.from:M.to-1,z),B=="before"&&(z=Uo(y,z,1))}else z=w<0?M.to:M.from;return new ze(b,z,B)}}return new ze(b,w<0?y.text.length:0,w<0?"before":"after")}function ff(c,p,y,b){var w=le(p,c.doc.direction);if(!w)return qo(p,y,b);y.ch>=p.text.length?(y.ch=p.text.length,y.sticky="before"):y.ch<=0&&(y.ch=0,y.sticky="after");var T=xe(w,y.ch,y.sticky),M=w[T];if(c.doc.direction=="ltr"&&M.level%2==0&&(b>0?M.to>y.ch:M.from<y.ch))return qo(p,y,b);var O=function(qe,Ke){return Uo(p,qe instanceof ze?qe.ch:qe,Ke)},B,z=function(qe){return c.options.lineWrapping?(B=B||Za(c,p),Qa(c,p,B,qe)):{begin:0,end:p.text.length}},J=z(y.sticky=="before"?O(y,-1):y.ch);if(c.doc.direction=="rtl"||M.level==1){var ie=M.level==1==b<0,ye=O(y,ie?1:-1);if(ye!=null&&(ie?ye<=M.to&&ye<=J.end:ye>=M.from&&ye>=J.begin)){var pe=ie?"before":"after";return new ze(y.line,ye,pe)}}var Ee=function(qe,Ke,Ye){for(var tt=function(Yt,Ni){return Ni?new ze(y.line,O(Yt,1),"before"):new ze(y.line,Yt,"after")};qe>=0&&qe<w.length;qe+=Ke){var dt=w[qe],lt=Ke>0==(dt.level!=1),Dt=lt?Ye.begin:O(Ye.end,-1);if(dt.from<=Dt&&Dt<dt.to||(Dt=lt?dt.from:O(dt.to,-1),Ye.begin<=Dt&&Dt<Ye.end))return tt(Dt,lt)}},Re=Ee(T+b,b,J);if(Re)return Re;var Ve=b>0?J.end:O(J.begin,-1);return Ve!=null&&!(b>0&&Ve==p.text.length)&&(Re=Ee(b>0?0:w.length-1,b,z(Ve)),Re)?Re:null}var Yr={selectAll:Zc,singleSelection:function(c){return c.setSelection(c.getCursor("anchor"),c.getCursor("head"),mi)},killLine:function(c){return wa(c,function(p){if(p.empty()){var y=at(c.doc,p.head.line).text.length;return p.head.ch==y&&p.head.line<c.lastLine()?{from:p.head,to:ze(p.head.line+1,0)}:{from:p.head,to:ze(p.head.line,y)}}else return{from:p.from(),to:p.to()}})},deleteLine:function(c){return wa(c,function(p){return{from:ze(p.from().line,0),to:xt(c.doc,ze(p.to().line+1,0))}})},delLineLeft:function(c){return wa(c,function(p){return{from:ze(p.from().line,0),to:p.from()}})},delWrappedLineLeft:function(c){return wa(c,function(p){var y=c.charCoords(p.head,"div").top+5,b=c.coordsChar({left:0,top:y},"div");return{from:b,to:p.from()}})},delWrappedLineRight:function(c){return wa(c,function(p){var y=c.charCoords(p.head,"div").top+5,b=c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:y},"div");return{from:p.from(),to:b}})},undo:function(c){return c.undo()},redo:function(c){return c.redo()},undoSelection:function(c){return c.undoSelection()},redoSelection:function(c){return c.redoSelection()},goDocStart:function(c){return c.extendSelection(ze(c.firstLine(),0))},goDocEnd:function(c){return c.extendSelection(ze(c.lastLine()))},goLineStart:function(c){return c.extendSelectionsBy(function(p){return ou(c,p.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(c){return c.extendSelectionsBy(function(p){return lu(c,p.head)},{origin:"+move",bias:1})},goLineEnd:function(c){return c.extendSelectionsBy(function(p){return pf(c,p.head.line)},{origin:"+move",bias:-1})},goLineRight:function(c){return c.extendSelectionsBy(function(p){var y=c.cursorCoords(p.head,"div").top+5;return c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:y},"div")},qi)},goLineLeft:function(c){return c.extendSelectionsBy(function(p){var y=c.cursorCoords(p.head,"div").top+5;return c.coordsChar({left:0,top:y},"div")},qi)},goLineLeftSmart:function(c){return c.extendSelectionsBy(function(p){var y=c.cursorCoords(p.head,"div").top+5,b=c.coordsChar({left:0,top:y},"div");return b.ch<c.getLine(b.line).search(/\S/)?lu(c,p.head):b},qi)},goLineUp:function(c){return c.moveV(-1,"line")},goLineDown:function(c){return c.moveV(1,"line")},goPageUp:function(c){return c.moveV(-1,"page")},goPageDown:function(c){return c.moveV(1,"page")},goCharLeft:function(c){return c.moveH(-1,"char")},goCharRight:function(c){return c.moveH(1,"char")},goColumnLeft:function(c){return c.moveH(-1,"column")},goColumnRight:function(c){return c.moveH(1,"column")},goWordLeft:function(c){return c.moveH(-1,"word")},goGroupRight:function(c){return c.moveH(1,"group")},goGroupLeft:function(c){return c.moveH(-1,"group")},goWordRight:function(c){return c.moveH(1,"word")},delCharBefore:function(c){return c.deleteH(-1,"codepoint")},delCharAfter:function(c){return c.deleteH(1,"char")},delWordBefore:function(c){return c.deleteH(-1,"word")},delWordAfter:function(c){return c.deleteH(1,"word")},delGroupBefore:function(c){return c.deleteH(-1,"group")},delGroupAfter:function(c){return c.deleteH(1,"group")},indentAuto:function(c){return c.indentSelection("smart")},indentMore:function(c){return c.indentSelection("add")},indentLess:function(c){return c.indentSelection("subtract")},insertTab:function(c){return c.replaceSelection("	")},insertSoftTab:function(c){for(var p=[],y=c.listSelections(),b=c.options.tabSize,w=0;w<y.length;w++){var T=y[w].from(),M=Vt(c.getLine(T.line),T.ch,b);p.push(An(b-M%b))}c.replaceSelections(p)},defaultTab:function(c){c.somethingSelected()?c.indentSelection("add"):c.execCommand("insertTab")},transposeChars:function(c){return pn(c,function(){for(var p=c.listSelections(),y=[],b=0;b<p.length;b++)if(p[b].empty()){var w=p[b].head,T=at(c.doc,w.line).text;if(T){if(w.ch==T.length&&(w=new ze(w.line,w.ch-1)),w.ch>0)w=new ze(w.line,w.ch+1),c.replaceRange(T.charAt(w.ch-1)+T.charAt(w.ch-2),ze(w.line,w.ch-2),w,"+transpose");else if(w.line>c.doc.first){var M=at(c.doc,w.line-1).text;M&&(w=new ze(w.line,1),c.replaceRange(T.charAt(0)+c.doc.lineSeparator()+M.charAt(M.length-1),ze(w.line-1,M.length-1),w,"+transpose"))}}y.push(new Bt(w,w))}c.setSelections(y)})},newlineAndIndent:function(c){return pn(c,function(){for(var p=c.listSelections(),y=p.length-1;y>=0;y--)c.replaceRange(c.doc.lineSeparator(),p[y].anchor,p[y].head,"+input");p=c.listSelections();for(var b=0;b<p.length;b++)c.indentLine(p[b].from().line,null,!0);va(c)})},openLine:function(c){return c.replaceSelection(`
`,"start")},toggleOverwrite:function(c){return c.toggleOverwrite()}};function ou(c,p){var y=at(c.doc,p),b=$i(y);return b!=y&&(p=Rt(b)),ru(!0,c,b,p,1)}function pf(c,p){var y=at(c.doc,p),b=dc(y);return b!=y&&(p=Rt(b)),ru(!0,c,y,p,-1)}function lu(c,p){var y=ou(c,p.line),b=at(c.doc,y.line),w=le(b,c.doc.direction);if(!w||w[0].level==0){var T=Math.max(y.ch,b.text.search(/\S/)),M=p.line==y.line&&p.ch<=T&&p.ch;return ze(y.line,M?0:T,y.sticky)}return y}function Yo(c,p,y){if(typeof p=="string"&&(p=Yr[p],!p))return!1;c.display.input.ensurePolled();var b=c.display.shift,w=!1;try{c.isReadOnly()&&(c.state.suppressEdits=!0),y&&(c.display.shift=!1),w=p(c)!=si}finally{c.display.shift=b,c.state.suppressEdits=!1}return w}function dd(c,p,y){for(var b=0;b<c.state.keyMaps.length;b++){var w=pr(p,c.state.keyMaps[b],y,c);if(w)return w}return c.options.extraKeys&&pr(p,c.options.extraKeys,y,c)||pr(p,c.options.keyMap,y,c)}var mf=new Nt;function mr(c,p,y,b){var w=c.state.keySeq;if(w){if(su(p))return"handled";if(/\'$/.test(p)?c.state.keySeq=null:mf.set(50,function(){c.state.keySeq==w&&(c.state.keySeq=null,c.display.input.reset())}),hd(c,w+" "+p,y,b))return!0}return hd(c,p,y,b)}function hd(c,p,y,b){var w=dd(c,p,b);return w=="multi"&&(c.state.keySeq=p),w=="handled"&&Pi(c,"keyHandled",c,p,y),(w=="handled"||w=="multi")&&(ft(y),wn(c)),!!w}function uu(c,p){var y=au(p,!0);return y?p.shiftKey&&!c.state.keySeq?mr(c,"Shift-"+y,p,function(b){return Yo(c,b,!0)})||mr(c,y,p,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return Yo(c,b)}):mr(c,y,p,function(b){return Yo(c,b)}):!1}function gf(c,p,y){return mr(c,"'"+y+"'",p,function(b){return Yo(c,b,!0)})}var Gr=null;function fd(c){var p=this;if(!(c.target&&c.target!=p.display.input.getField())&&(p.curOp.focus=mt(Te(p)),!We(p,c))){k&&D<11&&c.keyCode==27&&(c.returnValue=!1);var y=c.keyCode;p.display.shift=y==16||c.shiftKey;var b=uu(p,c);U&&(Gr=b?y:null,!b&&y==88&&!vi&&(se?c.metaKey:c.ctrlKey)&&p.replaceSelection("",null,"cut")),d&&!se&&!b&&y==46&&c.shiftKey&&!c.ctrlKey&&document.execCommand&&document.execCommand("cut"),y==18&&!/\bCodeMirror-crosshair\b/.test(p.display.lineDiv.className)&&vf(p)}}function vf(c){var p=c.display.lineDiv;Ht(p,"CodeMirror-crosshair");function y(b){(b.keyCode==18||!b.altKey)&&(Ue(p,"CodeMirror-crosshair"),Qe(document,"keyup",y),Qe(document,"mouseover",y))}ge(document,"keyup",y),ge(document,"mouseover",y)}function cu(c){c.keyCode==16&&(this.doc.sel.shift=!1),We(this,c)}function pd(c){var p=this;if(!(c.target&&c.target!=p.display.input.getField())&&!(vs(p.display,c)||We(p,c)||c.ctrlKey&&!c.altKey||se&&c.metaKey)){var y=c.keyCode,b=c.charCode;if(U&&y==Gr){Gr=null,ft(c);return}if(!(U&&(!c.which||c.which<10)&&uu(p,c))){var w=String.fromCharCode(b??y);w!="\b"&&(gf(p,c,w)||p.display.input.onKeyPress(c))}}}var md=400,du=function(c,p,y){this.time=c,this.pos=p,this.button=y};du.prototype.compare=function(c,p,y){return this.time+md>c&&vt(p,this.pos)==0&&y==this.button};var gr,Xr;function gd(c,p){var y=+new Date;return Xr&&Xr.compare(y,c,p)?(gr=Xr=null,"triple"):gr&&gr.compare(y,c,p)?(Xr=new du(y,c,p),gr=null,"double"):(gr=new du(y,c,p),Xr=null,"single")}function vd(c){var p=this,y=p.display;if(!(We(p,c)||y.activeTouch&&y.input.supportsTouch())){if(y.input.ensurePolled(),y.shift=c.shiftKey,vs(y,c)){E||(y.scroller.draggable=!1,setTimeout(function(){return y.scroller.draggable=!0},100));return}if(!Go(p,c)){var b=Vs(p,c),w=Gi(c),T=b?gd(b,w):"single";rt(p).focus(),w==1&&p.state.selectingText&&p.state.selectingText(c),!(b&&bd(p,w,b,T,c))&&(w==1?b?yd(p,b,T,c):Qi(c)==y.scroller&&ft(c):w==2?(b&&No(p.doc,b),setTimeout(function(){return y.input.focus()},20)):w==3&&(Ge?p.display.input.onContextMenu(c):Ao(p)))}}}function bd(c,p,y,b,w){var T="Click";return b=="double"?T="Double"+T:b=="triple"&&(T="Triple"+T),T=(p==1?"Left":p==2?"Middle":"Right")+T,mr(c,cd(T,w),w,function(M){if(typeof M=="string"&&(M=Yr[M]),!M)return!1;var O=!1;try{c.isReadOnly()&&(c.state.suppressEdits=!0),O=M(c,y)!=si}finally{c.state.suppressEdits=!1}return O})}function bf(c,p,y){var b=c.getOption("configureMouse"),w=b?b(c,p,y):{};if(w.unit==null){var T=we?y.shiftKey&&y.metaKey:y.altKey;w.unit=T?"rectangle":p=="single"?"char":p=="double"?"word":"line"}return(w.extend==null||c.doc.extend)&&(w.extend=c.doc.extend||y.shiftKey),w.addNew==null&&(w.addNew=se?y.metaKey:y.ctrlKey),w.moveOnDrag==null&&(w.moveOnDrag=!(se?y.altKey:y.ctrlKey)),w}function yd(c,p,y,b){k?setTimeout(Qt(qn,c),0):c.curOp.focus=mt(Te(c));var w=bf(c,y,b),T=c.doc.sel,M;c.options.dragDrop&&sa&&!c.isReadOnly()&&y=="single"&&(M=T.contains(p))>-1&&(vt((M=T.ranges[M]).from(),p)<0||p.xRel>0)&&(vt(M.to(),p)>0||p.xRel<0)?yf(c,b,p,w):_f(c,b,p,w)}function yf(c,p,y,b){var w=c.display,T=!1,M=Ei(c,function(z){E&&(w.scroller.draggable=!1),c.state.draggingText=!1,c.state.delayingBlurEvent&&(c.hasFocus()?c.state.delayingBlurEvent=!1:Ao(c)),Qe(w.wrapper.ownerDocument,"mouseup",M),Qe(w.wrapper.ownerDocument,"mousemove",O),Qe(w.scroller,"dragstart",B),Qe(w.scroller,"drop",M),T||(ft(z),b.addNew||No(c.doc,y,null,null,b.extend),E&&!Z||k&&D==9?setTimeout(function(){w.wrapper.ownerDocument.body.focus({preventScroll:!0}),w.input.focus()},20):w.input.focus())}),O=function(z){T=T||Math.abs(p.clientX-z.clientX)+Math.abs(p.clientY-z.clientY)>=10},B=function(){return T=!0};E&&(w.scroller.draggable=!0),c.state.draggingText=M,M.copy=!b.moveOnDrag,ge(w.wrapper.ownerDocument,"mouseup",M),ge(w.wrapper.ownerDocument,"mousemove",O),ge(w.scroller,"dragstart",B),ge(w.scroller,"drop",M),c.state.delayingBlurEvent=!0,setTimeout(function(){return w.input.focus()},20),w.scroller.dragDrop&&w.scroller.dragDrop()}function hu(c,p,y){if(y=="char")return new Bt(p,p);if(y=="word")return c.findWordAt(p);if(y=="line")return new Bt(ze(p.line,0),xt(c.doc,ze(p.line+1,0)));var b=y(c,p);return new Bt(b.from,b.to)}function _f(c,p,y,b){k&&Ao(c);var w=c.display,T=c.doc;ft(p);var M,O,B=T.sel,z=B.ranges;if(b.addNew&&!b.extend?(O=T.sel.contains(y),O>-1?M=z[O]:M=new Bt(y,y)):(M=T.sel.primary(),O=T.sel.primIndex),b.unit=="rectangle")b.addNew||(M=new Bt(y,y)),y=Vs(c,p,!0,!0),O=-1;else{var J=hu(c,y,b.unit);b.extend?M=qs(M,J.anchor,J.head,b.extend):M=J}b.addNew?O==-1?(O=z.length,Vi(T,In(c,z.concat([M]),O),{scroll:!1,origin:"*mouse"})):z.length>1&&z[O].empty()&&b.unit=="char"&&!b.extend?(Vi(T,In(c,z.slice(0,O).concat(z.slice(O+1)),0),{scroll:!1,origin:"*mouse"}),B=T.sel):Gl(T,O,M,ut):(O=0,Vi(T,new qt([M],0),ut),B=T.sel);var ie=y;function ye(Ye){if(vt(ie,Ye)!=0)if(ie=Ye,b.unit=="rectangle"){for(var tt=[],dt=c.options.tabSize,lt=Vt(at(T,y.line).text,y.ch,dt),Dt=Vt(at(T,Ye.line).text,Ye.ch,dt),Yt=Math.min(lt,Dt),Ni=Math.max(lt,Dt),oi=Math.min(y.line,Ye.line),Sn=Math.min(c.lastLine(),Math.max(y.line,Ye.line));oi<=Sn;oi++){var rn=at(T,oi).text,wi=Yi(rn,Yt,dt);Yt==Ni?tt.push(new Bt(ze(oi,wi),ze(oi,wi))):rn.length>wi&&tt.push(new Bt(ze(oi,wi),ze(oi,Yi(rn,Ni,dt))))}tt.length||tt.push(new Bt(y,y)),Vi(T,In(c,B.ranges.slice(0,O).concat(tt),O),{origin:"*mouse",scroll:!1}),c.scrollIntoView(Ye)}else{var on=M,Wi=hu(c,Ye,b.unit),ki=on.anchor,Si;vt(Wi.anchor,ki)>0?(Si=Wi.head,ki=Mr(on.from(),Wi.anchor)):(Si=Wi.anchor,ki=Ar(on.to(),Wi.head));var li=B.ranges.slice(0);li[O]=_d(c,new Bt(xt(T,ki),Si)),Vi(T,In(c,li,O),ut)}}var pe=w.wrapper.getBoundingClientRect(),Ee=0;function Re(Ye){var tt=++Ee,dt=Vs(c,Ye,!0,b.unit=="rectangle");if(dt)if(vt(dt,ie)!=0){c.curOp.focus=mt(Te(c)),ye(dt);var lt=Yn(w,T);(dt.line>=lt.to||dt.line<lt.from)&&setTimeout(Ei(c,function(){Ee==tt&&Re(Ye)}),150)}else{var Dt=Ye.clientY<pe.top?-20:Ye.clientY>pe.bottom?20:0;Dt&&setTimeout(Ei(c,function(){Ee==tt&&(w.scroller.scrollTop+=Dt,Re(Ye))}),50)}}function Ve(Ye){c.state.selectingText=!1,Ee=1/0,Ye&&(ft(Ye),w.input.focus()),Qe(w.wrapper.ownerDocument,"mousemove",qe),Qe(w.wrapper.ownerDocument,"mouseup",Ke),T.history.lastSelOrigin=null}var qe=Ei(c,function(Ye){Ye.buttons===0||!Gi(Ye)?Ve(Ye):Re(Ye)}),Ke=Ei(c,Ve);c.state.selectingText=Ke,ge(w.wrapper.ownerDocument,"mousemove",qe),ge(w.wrapper.ownerDocument,"mouseup",Ke)}function _d(c,p){var y=p.anchor,b=p.head,w=at(c.doc,y.line);if(vt(y,b)==0&&y.sticky==b.sticky)return p;var T=le(w);if(!T)return p;var M=xe(T,y.ch,y.sticky),O=T[M];if(O.from!=y.ch&&O.to!=y.ch)return p;var B=M+(O.from==y.ch==(O.level!=1)?0:1);if(B==0||B==T.length)return p;var z;if(b.line!=y.line)z=(b.line-y.line)*(c.doc.direction=="ltr"?1:-1)>0;else{var J=xe(T,b.ch,b.sticky),ie=J-M||(b.ch-y.ch)*(O.level==1?-1:1);J==B-1||J==B?z=ie<0:z=ie>0}var ye=T[B+(z?-1:0)],pe=z==(ye.level==1),Ee=pe?ye.from:ye.to,Re=pe?"after":"before";return y.ch==Ee&&y.sticky==Re?p:new Bt(new ze(y.line,Ee,Re),b)}function xd(c,p,y,b){var w,T;if(p.touches)w=p.touches[0].clientX,T=p.touches[0].clientY;else try{w=p.clientX,T=p.clientY}catch{return!1}if(w>=Math.floor(c.display.gutters.getBoundingClientRect().right))return!1;b&&ft(p);var M=c.display,O=M.lineDiv.getBoundingClientRect();if(T>O.bottom||!_t(c,y))return jt(p);T-=O.top-M.viewOffset;for(var B=0;B<c.display.gutterSpecs.length;++B){var z=M.gutters.childNodes[B];if(z&&z.getBoundingClientRect().right>=w){var J=Ps(c.doc,T),ie=c.display.gutterSpecs[B];return et(c,y,c,J,ie.className,p),jt(p)}}}function Go(c,p){return xd(c,p,"gutterClick",!0)}function Cd(c,p){vs(c.display,p)||wd(c,p)||We(c,p,"contextmenu")||Ge||c.display.input.onContextMenu(p)}function wd(c,p){return _t(c,"gutterContextMenu")?xd(c,p,"gutterContextMenu",!1):!1}function kd(c){c.display.wrapper.className=c.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+c.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Lr(c)}var ka={toString:function(){return"CodeMirror.Init"}},Sd={},Kr={};function xf(c){var p=c.optionHandlers;function y(b,w,T,M){c.defaults[b]=w,T&&(p[b]=M?function(O,B,z){z!=ka&&T(O,B,z)}:T)}c.defineOption=y,c.Init=ka,y("value","",function(b,w){return b.setValue(w)},!0),y("mode",null,function(b,w){b.doc.modeOption=w,Po(b)},!0),y("indentUnit",2,Po,!0),y("indentWithTabs",!1),y("smartIndent",!0),y("tabSize",4,function(b){$r(b),Lr(b),Bi(b)},!0),y("lineSeparator",null,function(b,w){if(b.doc.lineSep=w,!!w){var T=[],M=b.doc.first;b.doc.iter(function(B){for(var z=0;;){var J=B.text.indexOf(w,z);if(J==-1)break;z=J+w.length,T.push(ze(M,J))}M++});for(var O=T.length-1;O>=0;O--)lr(b.doc,w,T[O],ze(T[O].line,T[O].ch+w.length))}}),y("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(b,w,T){b.state.specialChars=new RegExp(w.source+(w.test("	")?"":"|	"),"g"),T!=ka&&b.refresh()}),y("specialCharPlaceholder",Rh,function(b){return b.refresh()},!0),y("electricChars",!0),y("inputStyle",ne?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),y("spellcheck",!1,function(b,w){return b.getInputField().spellcheck=w},!0),y("autocorrect",!1,function(b,w){return b.getInputField().autocorrect=w},!0),y("autocapitalize",!1,function(b,w){return b.getInputField().autocapitalize=w},!0),y("rtlMoveVisually",!be),y("wholeLineUpdateBefore",!0),y("theme","default",function(b){kd(b),rr(b)},!0),y("keyMap","default",function(b,w,T){var M=jo(w),O=T!=ka&&jo(T);O&&O.detach&&O.detach(b,M),M.attach&&M.attach(b,O||null)}),y("extraKeys",null),y("configureMouse",null),y("lineWrapping",!1,Cf,!0),y("gutters",[],function(b,w){b.display.gutterSpecs=Rl(w,b.options.lineNumbers),rr(b)},!0),y("fixedGutter",!0,function(b,w){b.display.gutters.style.left=w?xn(b.display)+"px":"0",b.refresh()},!0),y("coverGutterNextToScrollbar",!1,function(b){return Fn(b)},!0),y("scrollbarStyle","native",function(b){ya(b),Fn(b),b.display.scrollbars.setScrollTop(b.doc.scrollTop),b.display.scrollbars.setScrollLeft(b.doc.scrollLeft)},!0),y("lineNumbers",!1,function(b,w){b.display.gutterSpecs=Rl(b.options.gutters,w),rr(b)},!0),y("firstLineNumber",1,rr,!0),y("lineNumberFormatter",function(b){return b},rr,!0),y("showCursorWhenSelecting",!1,Un,!0),y("resetSelectionOnContextMenu",!0),y("lineWiseCopyCut",!0),y("pasteLinesPerSelection",!0),y("selectionsMayTouch",!1),y("readOnly",!1,function(b,w){w=="nocursor"&&(_s(b),b.display.input.blur()),b.display.input.readOnlyChanged(w)}),y("screenReaderLabel",null,function(b,w){w=w===""?null:w,b.display.input.screenReaderLabelChanged(w)}),y("disableInput",!1,function(b,w){w||b.display.input.reset()},!0),y("dragDrop",!0,Dd),y("allowDropFileTypes",null),y("cursorBlinkRate",530),y("cursorScrollMargin",0),y("cursorHeight",1,Un,!0),y("singleCursorHeightPerLine",!0,Un,!0),y("workTime",100),y("workDelay",100),y("flattenSpans",!0,$r,!0),y("addModeClass",!1,$r,!0),y("pollInterval",100),y("undoDepth",200,function(b,w){return b.doc.history.undoDepth=w}),y("historyEventDelay",1250),y("viewportMargin",10,function(b){return b.refresh()},!0),y("maxHighlightLength",1e4,$r,!0),y("moveInputWithCursor",!0,function(b,w){w||b.display.input.resetPosition()}),y("tabindex",null,function(b,w){return b.display.input.getField().tabIndex=w||""}),y("autofocus",null),y("direction","ltr",function(b,w){return b.doc.setDirection(w)},!0),y("phrases",null)}function Dd(c,p,y){var b=y&&y!=ka;if(!p!=!b){var w=c.display.dragFunctions,T=p?ge:Qe;T(c.display.scroller,"dragstart",w.start),T(c.display.scroller,"dragenter",w.enter),T(c.display.scroller,"dragover",w.over),T(c.display.scroller,"dragleave",w.leave),T(c.display.scroller,"drop",w.drop)}}function Cf(c){c.options.lineWrapping?(Ht(c.display.wrapper,"CodeMirror-wrap"),c.display.sizer.style.minWidth="",c.display.sizerWidth=null):(Ue(c.display.wrapper,"CodeMirror-wrap"),is(c)),Eo(c),Bi(c),Lr(c),setTimeout(function(){return Fn(c)},100)}function ti(c,p){var y=this;if(!(this instanceof ti))return new ti(c,p);this.options=p=p?ni(p):{},ni(Sd,p,!1);var b=p.value;typeof b=="string"?b=new an(b,p.mode,null,p.lineSeparator,p.direction):p.mode&&(b.modeOption=p.mode),this.doc=b;var w=new ti.inputStyles[p.inputStyle](this),T=this.display=new ef(c,b,w,p);T.wrapper.CodeMirror=this,kd(this),p.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ya(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Nt,keySeq:null,specialChars:null},p.autofocus&&!ne&&T.input.focus(),k&&D<11&&setTimeout(function(){return y.display.input.reset(!0)},20),wf(this),ud(),js(this),this.curOp.forceUpdate=!0,Vc(this,b),p.autofocus&&!ne||this.hasFocus()?setTimeout(function(){y.hasFocus()&&!y.state.focused&&Mo(y)},20):_s(this);for(var M in Kr)Kr.hasOwnProperty(M)&&Kr[M](this,p[M],ka);Nl(this),p.finishInit&&p.finishInit(this);for(var O=0;O<Xo.length;++O)Xo[O](this);Us(this),E&&p.lineWrapping&&getComputedStyle(T.lineDiv).textRendering=="optimizelegibility"&&(T.lineDiv.style.textRendering="auto")}ti.defaults=Sd,ti.optionHandlers=Kr;function wf(c){var p=c.display;ge(p.scroller,"mousedown",Ei(c,vd)),k&&D<11?ge(p.scroller,"dblclick",Ei(c,function(B){if(!We(c,B)){var z=Vs(c,B);if(!(!z||Go(c,B)||vs(c.display,B))){ft(B);var J=c.findWordAt(z);No(c.doc,J.anchor,J.head)}}})):ge(p.scroller,"dblclick",function(B){return We(c,B)||ft(B)}),ge(p.scroller,"contextmenu",function(B){return Cd(c,B)}),ge(p.input.getField(),"contextmenu",function(B){p.scroller.contains(B.target)||Cd(c,B)});var y,b={end:0};function w(){p.activeTouch&&(y=setTimeout(function(){return p.activeTouch=null},1e3),b=p.activeTouch,b.end=+new Date)}function T(B){if(B.touches.length!=1)return!1;var z=B.touches[0];return z.radiusX<=1&&z.radiusY<=1}function M(B,z){if(z.left==null)return!0;var J=z.left-B.left,ie=z.top-B.top;return J*J+ie*ie>20*20}ge(p.scroller,"touchstart",function(B){if(!We(c,B)&&!T(B)&&!Go(c,B)){p.input.ensurePolled(),clearTimeout(y);var z=+new Date;p.activeTouch={start:z,moved:!1,prev:z-b.end<=300?b:null},B.touches.length==1&&(p.activeTouch.left=B.touches[0].pageX,p.activeTouch.top=B.touches[0].pageY)}}),ge(p.scroller,"touchmove",function(){p.activeTouch&&(p.activeTouch.moved=!0)}),ge(p.scroller,"touchend",function(B){var z=p.activeTouch;if(z&&!vs(p,B)&&z.left!=null&&!z.moved&&new Date-z.start<300){var J=c.coordsChar(p.activeTouch,"page"),ie;!z.prev||M(z,z.prev)?ie=new Bt(J,J):!z.prev.prev||M(z,z.prev.prev)?ie=c.findWordAt(J):ie=new Bt(ze(J.line,0),xt(c.doc,ze(J.line+1,0))),c.setSelection(ie.anchor,ie.head),c.focus(),ft(B)}w()}),ge(p.scroller,"touchcancel",w),ge(p.scroller,"scroll",function(){p.scroller.clientHeight&&(nr(c,p.scroller.scrollTop),xs(c,p.scroller.scrollLeft,!0),et(c,"scroll",c))}),ge(p.scroller,"mousewheel",function(B){return Xe(c,B)}),ge(p.scroller,"DOMMouseScroll",function(B){return Xe(c,B)}),ge(p.wrapper,"scroll",function(){return p.wrapper.scrollTop=p.wrapper.scrollLeft=0}),p.dragFunctions={enter:function(B){We(c,B)||gi(B)},over:function(B){We(c,B)||(rd(c,B),gi(B))},start:function(B){return cf(c,B)},drop:Ei(c,ad),leave:function(B){We(c,B)||od(c)}};var O=p.input.getField();ge(O,"keyup",function(B){return cu.call(c,B)}),ge(O,"keydown",Ei(c,fd)),ge(O,"keypress",Ei(c,pd)),ge(O,"focus",function(B){return Mo(c,B)}),ge(O,"blur",function(B){return _s(c,B)})}var Xo=[];ti.defineInitHook=function(c){return Xo.push(c)};function Zr(c,p,y,b){var w=c.doc,T;y==null&&(y="add"),y=="smart"&&(w.mode.indent?T=Va(c,p).state:y="prev");var M=c.options.tabSize,O=at(w,p),B=Vt(O.text,null,M);O.stateAfter&&(O.stateAfter=null);var z=O.text.match(/^\s*/)[0],J;if(!b&&!/\S/.test(O.text))J=0,y="not";else if(y=="smart"&&(J=w.mode.indent(T,O.text.slice(z.length),O.text),J==si||J>150)){if(!b)return;y="prev"}y=="prev"?p>w.first?J=Vt(at(w,p-1).text,null,M):J=0:y=="add"?J=B+c.options.indentUnit:y=="subtract"?J=B-c.options.indentUnit:typeof y=="number"&&(J=B+y),J=Math.max(0,J);var ie="",ye=0;if(c.options.indentWithTabs)for(var pe=Math.floor(J/M);pe;--pe)ye+=M,ie+="	";if(ye<J&&(ie+=An(J-ye)),ie!=z)return lr(w,ie,ze(p,0),ze(p,z.length),"+input"),O.stateAfter=null,!0;for(var Ee=0;Ee<w.sel.ranges.length;Ee++){var Re=w.sel.ranges[Ee];if(Re.head.line==p&&Re.head.ch<z.length){var Ve=ze(p,z.length);Gl(w,Ee,new Bt(Ve,Ve));break}}}var Ln=null;function Jr(c){Ln=c}function fu(c,p,y,b,w){var T=c.doc;c.display.shift=!1,b||(b=T.sel);var M=+new Date-200,O=w=="paste"||c.state.pasteIncoming>M,B=Ha(p),z=null;if(O&&b.ranges.length>1)if(Ln&&Ln.text.join(`
`)==p){if(b.ranges.length%Ln.text.length==0){z=[];for(var J=0;J<Ln.text.length;J++)z.push(T.splitLines(Ln.text[J]))}}else B.length==b.ranges.length&&c.options.pasteLinesPerSelection&&(z=ui(B,function(qe){return[qe]}));for(var ie=c.curOp.updateInput,ye=b.ranges.length-1;ye>=0;ye--){var pe=b.ranges[ye],Ee=pe.from(),Re=pe.to();pe.empty()&&(y&&y>0?Ee=ze(Ee.line,Ee.ch-y):c.state.overwrite&&!O?Re=ze(Re.line,Math.min(at(T,Re.line).text.length,Re.ch+st(B).length)):O&&Ln&&Ln.lineWise&&Ln.text.join(`
`)==B.join(`
`)&&(Ee=Re=ze(Ee.line,0)));var Ve={from:Ee,to:Re,text:z?z[ye%z.length]:B,origin:w||(O?"paste":c.state.cutIncoming>M?"cut":"+input")};or(c.doc,Ve),Pi(c,"inputRead",c,Ve)}p&&!O&&Ed(c,p),va(c),c.curOp.updateInput<2&&(c.curOp.updateInput=ie),c.curOp.typing=!0,c.state.pasteIncoming=c.state.cutIncoming=-1}function Td(c,p){var y=c.clipboardData&&c.clipboardData.getData("Text");if(y)return c.preventDefault(),!p.isReadOnly()&&!p.options.disableInput&&p.hasFocus()&&pn(p,function(){return fu(p,y,0,null,"paste")}),!0}function Ed(c,p){if(!(!c.options.electricChars||!c.options.smartIndent))for(var y=c.doc.sel,b=y.ranges.length-1;b>=0;b--){var w=y.ranges[b];if(!(w.head.ch>100||b&&y.ranges[b-1].head.line==w.head.line)){var T=c.getModeAt(w.head),M=!1;if(T.electricChars){for(var O=0;O<T.electricChars.length;O++)if(p.indexOf(T.electricChars.charAt(O))>-1){M=Zr(c,w.head.line,"smart");break}}else T.electricInput&&T.electricInput.test(at(c.doc,w.head.line).text.slice(0,w.head.ch))&&(M=Zr(c,w.head.line,"smart"));M&&Pi(c,"electricInput",c,w.head.line)}}}function pu(c){for(var p=[],y=[],b=0;b<c.doc.sel.ranges.length;b++){var w=c.doc.sel.ranges[b].head.line,T={anchor:ze(w,0),head:ze(w+1,0)};y.push(T),p.push(c.getRange(T.anchor,T.head))}return{text:p,ranges:y}}function mu(c,p,y,b){c.setAttribute("autocorrect",y?"on":"off"),c.setAttribute("autocapitalize",b?"on":"off"),c.setAttribute("spellcheck",!!p)}function gu(){var c=ce("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),p=ce("div",[c],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return E?c.style.width="1000px":c.setAttribute("wrap","off"),X&&(c.style.border="1px solid black"),p}function kf(c){var p=c.optionHandlers,y=c.helpers={};c.prototype={constructor:c,focus:function(){rt(this).focus(),this.display.input.focus()},setOption:function(b,w){var T=this.options,M=T[b];T[b]==w&&b!="mode"||(T[b]=w,p.hasOwnProperty(b)&&Ei(this,p[b])(this,w,M),et(this,"optionChange",this,b))},getOption:function(b){return this.options[b]},getDoc:function(){return this.doc},addKeyMap:function(b,w){this.state.keyMaps[w?"push":"unshift"](jo(b))},removeKeyMap:function(b){for(var w=this.state.keyMaps,T=0;T<w.length;++T)if(w[T]==b||w[T].name==b)return w.splice(T,1),!0},addOverlay:Xi(function(b,w){var T=b.token?b:c.getMode(this.options,b);if(T.startState)throw new Error("Overlays may not be stateful.");ct(this.state.overlays,{mode:T,modeSpec:b,opaque:w&&w.opaque,priority:w&&w.priority||0},function(M){return M.priority}),this.state.modeGen++,Bi(this)}),removeOverlay:Xi(function(b){for(var w=this.state.overlays,T=0;T<w.length;++T){var M=w[T].modeSpec;if(M==b||typeof b=="string"&&M.name==b){w.splice(T,1),this.state.modeGen++,Bi(this);return}}}),indentLine:Xi(function(b,w,T){typeof w!="string"&&typeof w!="number"&&(w==null?w=this.options.smartIndent?"smart":"prev":w=w?"add":"subtract"),$a(this.doc,b)&&Zr(this,b,w,T)}),indentSelection:Xi(function(b){for(var w=this.doc.sel.ranges,T=-1,M=0;M<w.length;M++){var O=w[M];if(O.empty())O.head.line>T&&(Zr(this,O.head.line,b,!0),T=O.head.line,M==this.doc.sel.primIndex&&va(this));else{var B=O.from(),z=O.to(),J=Math.max(T,B.line);T=Math.min(this.lastLine(),z.line-(z.ch?0:1))+1;for(var ie=J;ie<T;++ie)Zr(this,ie,b);var ye=this.doc.sel.ranges;B.ch==0&&w.length==ye.length&&ye[M].from().ch>0&&Gl(this.doc,M,new Bt(B,ye[M].to()),mi)}}}),getTokenAt:function(b,w){return pl(this,b,w)},getLineTokens:function(b,w){return pl(this,ze(b),w,!0)},getTokenTypeAt:function(b){b=xt(this.doc,b);var w=dl(this,at(this.doc,b.line)),T=0,M=(w.length-1)/2,O=b.ch,B;if(O==0)B=w[2];else for(;;){var z=T+M>>1;if((z?w[z*2-1]:0)>=O)M=z;else if(w[z*2+1]<O)T=z+1;else{B=w[z*2+2];break}}var J=B?B.indexOf("overlay "):-1;return J<0?B:J==0?null:B.slice(0,J-1)},getModeAt:function(b){var w=this.doc.mode;return w.innerMode?c.innerMode(w,this.getTokenAt(b).state).mode:w},getHelper:function(b,w){return this.getHelpers(b,w)[0]},getHelpers:function(b,w){var T=[];if(!y.hasOwnProperty(w))return T;var M=y[w],O=this.getModeAt(b);if(typeof O[w]=="string")M[O[w]]&&T.push(M[O[w]]);else if(O[w])for(var B=0;B<O[w].length;B++){var z=M[O[w][B]];z&&T.push(z)}else O.helperType&&M[O.helperType]?T.push(M[O.helperType]):M[O.name]&&T.push(M[O.name]);for(var J=0;J<M._global.length;J++){var ie=M._global[J];ie.pred(O,this)&&kt(T,ie.val)==-1&&T.push(ie.val)}return T},getStateAfter:function(b,w){var T=this.doc;return b=_n(T,b??T.first+T.size-1),Va(this,b+1,w).state},cursorCoords:function(b,w){var T,M=this.doc.sel.primary();return b==null?T=M.head:typeof b=="object"?T=xt(this.doc,b):T=b?M.from():M.to(),Ut(this,T,w||"page")},charCoords:function(b,w){return Or(this,xt(this.doc,b),w||"page")},coordsChar:function(b,w){return b=Fc(this,b,w||"page"),fn(this,b.left,b.top)},lineAtHeight:function(b,w){return b=Fc(this,{top:b,left:0},w||"page").top,Ps(this.doc,b+this.display.viewOffset)},heightAtLine:function(b,w,T){var M=!1,O;if(typeof b=="number"){var B=this.doc.first+this.doc.size-1;b<this.doc.first?b=this.doc.first:b>B&&(b=B,M=!0),O=at(this.doc,b)}else O=b;return To(this,O,{top:0,left:0},w||"page",T||M).top+(M?this.doc.height-ts(O):0)},defaultTextHeight:function(){return bs(this.display)},defaultCharWidth:function(){return er(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(b,w,T,M,O){var B=this.display;b=Ut(this,xt(this.doc,b));var z=b.bottom,J=b.left;if(w.style.position="absolute",w.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(w),B.sizer.appendChild(w),M=="over")z=b.top;else if(M=="above"||M=="near"){var ie=Math.max(B.wrapper.clientHeight,this.doc.height),ye=Math.max(B.sizer.clientWidth,B.lineSpace.clientWidth);(M=="above"||b.bottom+w.offsetHeight>ie)&&b.top>w.offsetHeight?z=b.top-w.offsetHeight:b.bottom+w.offsetHeight<=ie&&(z=b.bottom),J+w.offsetWidth>ye&&(J=ye-w.offsetWidth)}w.style.top=z+"px",w.style.left=w.style.right="",O=="right"?(J=B.sizer.clientWidth-w.offsetWidth,w.style.right="0px"):(O=="left"?J=0:O=="middle"&&(J=(B.sizer.clientWidth-w.offsetWidth)/2),w.style.left=J+"px"),T&&Al(this,{left:J,top:z,right:J+w.offsetWidth,bottom:z+w.offsetHeight})},triggerOnKeyDown:Xi(fd),triggerOnKeyPress:Xi(pd),triggerOnKeyUp:cu,triggerOnMouseDown:Xi(vd),execCommand:function(b){if(Yr.hasOwnProperty(b))return Yr[b].call(null,this)},triggerElectric:Xi(function(b){Ed(this,b)}),findPosH:function(b,w,T,M){var O=1;w<0&&(O=-1,w=-w);for(var B=xt(this.doc,b),z=0;z<w&&(B=Ko(this.doc,B,O,T,M),!B.hitSide);++z);return B},moveH:Xi(function(b,w){var T=this;this.extendSelectionsBy(function(M){return T.display.shift||T.doc.extend||M.empty()?Ko(T.doc,M.head,b,w,T.options.rtlMoveVisually):b<0?M.from():M.to()},qi)}),deleteH:Xi(function(b,w){var T=this.doc.sel,M=this.doc;T.somethingSelected()?M.replaceSelection("",null,"+delete"):wa(this,function(O){var B=Ko(M,O.head,b,w,!1);return b<0?{from:B,to:O.head}:{from:O.head,to:B}})}),findPosV:function(b,w,T,M){var O=1,B=M;w<0&&(O=-1,w=-w);for(var z=xt(this.doc,b),J=0;J<w;++J){var ie=Ut(this,z,"div");if(B==null?B=ie.left:ie.left=B,z=Ad(this,ie,O,T),z.hitSide)break}return z},moveV:Xi(function(b,w){var T=this,M=this.doc,O=[],B=!this.display.shift&&!M.extend&&M.sel.somethingSelected();if(M.extendSelectionsBy(function(J){if(B)return b<0?J.from():J.to();var ie=Ut(T,J.head,"div");J.goalColumn!=null&&(ie.left=J.goalColumn),O.push(ie.left);var ye=Ad(T,ie,b,w);return w=="page"&&J==M.sel.primary()&&ir(T,Or(T,ye,"div").top-ie.top),ye},qi),O.length)for(var z=0;z<M.sel.ranges.length;z++)M.sel.ranges[z].goalColumn=O[z]}),findWordAt:function(b){var w=this.doc,T=at(w,b.line).text,M=b.ch,O=b.ch;if(T){var B=this.getHelper(b,"wordChars");(b.sticky=="before"||O==T.length)&&M?--M:++O;for(var z=T.charAt(M),J=j(z,B)?function(ie){return j(ie,B)}:/\s/.test(z)?function(ie){return/\s/.test(ie)}:function(ie){return!/\s/.test(ie)&&!j(ie)};M>0&&J(T.charAt(M-1));)--M;for(;O<T.length&&J(T.charAt(O));)++O}return new Bt(ze(b.line,M),ze(b.line,O))},toggleOverwrite:function(b){b!=null&&b==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ht(this.display.cursorDiv,"CodeMirror-overwrite"):Ue(this.display.cursorDiv,"CodeMirror-overwrite"),et(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==mt(Te(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Xi(function(b,w){Gn(this,b,w)}),getScrollInfo:function(){var b=this.display.scroller;return{left:b.scrollLeft,top:b.scrollTop,height:b.scrollHeight-ns(this)-this.display.barHeight,width:b.scrollWidth-ns(this)-this.display.barWidth,clientHeight:kl(this),clientWidth:zs(this)}},scrollIntoView:Xi(function(b,w){b==null?(b={from:this.doc.sel.primary().head,to:null},w==null&&(w=this.options.cursorScrollMargin)):typeof b=="number"?b={from:ze(b,0),to:null}:b.from==null&&(b={from:b,to:null}),b.to||(b.to=b.from),b.margin=w||0,b.from.line!=null?Lc(this,b):Ml(this,b.from,b.to,b.margin)}),setSize:Xi(function(b,w){var T=this,M=function(B){return typeof B=="number"||/^\d+$/.test(String(B))?B+"px":B};b!=null&&(this.display.wrapper.style.width=M(b)),w!=null&&(this.display.wrapper.style.height=M(w)),this.options.lineWrapping&&Ec(this);var O=this.display.viewFrom;this.doc.iter(O,this.display.viewTo,function(B){if(B.widgets){for(var z=0;z<B.widgets.length;z++)if(B.widgets[z].noHScroll){Ws(T,O,"widget");break}}++O}),this.curOp.forceUpdate=!0,et(this,"refresh",this)}),operation:function(b){return pn(this,b)},startOperation:function(){return js(this)},endOperation:function(){return Us(this)},refresh:Xi(function(){var b=this.display.cachedTextHeight;Bi(this),this.curOp.forceUpdate=!0,Lr(this),Gn(this,this.doc.scrollLeft,this.doc.scrollTop),Pl(this.display),(b==null||Math.abs(b-bs(this.display))>.5||this.options.lineWrapping)&&Eo(this),et(this,"refresh",this)}),swapDoc:Xi(function(b){var w=this.doc;return w.cm=null,this.state.selectingText&&this.state.selectingText(),Vc(this,b),Lr(this),this.display.input.reset(),Gn(this,b.scrollLeft,b.scrollTop),this.curOp.forceScroll=!0,Pi(this,"swapDoc",this,w),w}),phrase:function(b){var w=this.options.phrases;return w&&Object.prototype.hasOwnProperty.call(w,b)?w[b]:b},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ct(c),c.registerHelper=function(b,w,T){y.hasOwnProperty(b)||(y[b]=c[b]={_global:[]}),y[b][w]=T},c.registerGlobalHelper=function(b,w,T,M){c.registerHelper(b,w,M),y[b]._global.push({pred:T,val:M})}}function Ko(c,p,y,b,w){var T=p,M=y,O=at(c,p.line),B=w&&c.direction=="rtl"?-y:y;function z(){var Ke=p.line+B;return Ke<c.first||Ke>=c.first+c.size?!1:(p=new ze(Ke,p.ch,p.sticky),O=at(c,Ke))}function J(Ke){var Ye;if(b=="codepoint"){var tt=O.text.charCodeAt(p.ch+(y>0?0:-1));if(isNaN(tt))Ye=null;else{var dt=y>0?tt>=55296&&tt<56320:tt>=56320&&tt<57343;Ye=new ze(p.line,Math.max(0,Math.min(O.text.length,p.ch+y*(dt?2:1))),-y)}}else w?Ye=ff(c.cm,O,p,y):Ye=qo(O,p,y);if(Ye==null)if(!Ke&&z())p=ru(w,c.cm,O,p.line,B);else return!1;else p=Ye;return!0}if(b=="char"||b=="codepoint")J();else if(b=="column")J(!0);else if(b=="word"||b=="group")for(var ie=null,ye=b=="group",pe=c.cm&&c.cm.getHelper(p,"wordChars"),Ee=!0;!(y<0&&!J(!Ee));Ee=!1){var Re=O.text.charAt(p.ch)||`
`,Ve=j(Re,pe)?"w":ye&&Re==`
`?"n":!ye||/\s/.test(Re)?null:"p";if(ye&&!Ee&&!Ve&&(Ve="s"),ie&&ie!=Ve){y<0&&(y=1,J(),p.sticky="after");break}if(Ve&&(ie=Ve),y>0&&!J(!Ee))break}var qe=Ho(c,p,T,M,!0);return yo(T,qe)&&(qe.hitSide=!0),qe}function Ad(c,p,y,b){var w=c.doc,T=p.left,M;if(b=="page"){var O=Math.min(c.display.wrapper.clientHeight,rt(c).innerHeight||w(c).documentElement.clientHeight),B=Math.max(O-.5*bs(c.display),3);M=(y>0?p.bottom:p.top)+y*B}else b=="line"&&(M=y>0?p.bottom+3:p.top-3);for(var z;z=fn(c,T,M),!!z.outside;){if(y<0?M<=0:M>=w.height){z.hitSide=!0;break}M+=y*5}return z}var zt=function(c){this.cm=c,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Nt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};zt.prototype.init=function(c){var p=this,y=this,b=y.cm,w=y.div=c.lineDiv;w.contentEditable=!0,mu(w,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize);function T(O){for(var B=O.target;B;B=B.parentNode){if(B==w)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(B.className))break}return!1}ge(w,"paste",function(O){!T(O)||We(b,O)||Td(O,b)||D<=11&&setTimeout(Ei(b,function(){return p.updateFromDOM()}),20)}),ge(w,"compositionstart",function(O){p.composing={data:O.data,done:!1}}),ge(w,"compositionupdate",function(O){p.composing||(p.composing={data:O.data,done:!1})}),ge(w,"compositionend",function(O){p.composing&&(O.data!=p.composing.data&&p.readFromDOMSoon(),p.composing.done=!0)}),ge(w,"touchstart",function(){return y.forceCompositionEnd()}),ge(w,"input",function(){p.composing||p.readFromDOMSoon()});function M(O){if(!(!T(O)||We(b,O))){if(b.somethingSelected())Jr({lineWise:!1,text:b.getSelections()}),O.type=="cut"&&b.replaceSelection("",null,"cut");else if(b.options.lineWiseCopyCut){var B=pu(b);Jr({lineWise:!0,text:B.text}),O.type=="cut"&&b.operation(function(){b.setSelections(B.ranges,0,mi),b.replaceSelection("",null,"cut")})}else return;if(O.clipboardData){O.clipboardData.clearData();var z=Ln.text.join(`
`);if(O.clipboardData.setData("Text",z),O.clipboardData.getData("Text")==z){O.preventDefault();return}}var J=gu(),ie=J.firstChild;mu(ie),b.display.lineSpace.insertBefore(J,b.display.lineSpace.firstChild),ie.value=Ln.text.join(`
`);var ye=mt(yt(w));ue(ie),setTimeout(function(){b.display.lineSpace.removeChild(J),ye.focus(),ye==w&&y.showPrimarySelection()},50)}}ge(w,"copy",M),ge(w,"cut",M)},zt.prototype.screenReaderLabelChanged=function(c){c?this.div.setAttribute("aria-label",c):this.div.removeAttribute("aria-label")},zt.prototype.prepareSelection=function(){var c=tr(this.cm,!1);return c.focus=mt(yt(this.div))==this.div,c},zt.prototype.showSelection=function(c,p){!c||!this.cm.display.view.length||((c.focus||p)&&this.showPrimarySelection(),this.showMultipleSelections(c))},zt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},zt.prototype.showPrimarySelection=function(){var c=this.getSelection(),p=this.cm,y=p.doc.sel.primary(),b=y.from(),w=y.to();if(p.display.viewTo==p.display.viewFrom||b.line>=p.display.viewTo||w.line<p.display.viewFrom){c.removeAllRanges();return}var T=Zo(p,c.anchorNode,c.anchorOffset),M=Zo(p,c.focusNode,c.focusOffset);if(!(T&&!T.bad&&M&&!M.bad&&vt(Mr(T,M),b)==0&&vt(Ar(T,M),w)==0)){var O=p.display.view,B=b.line>=p.display.viewFrom&&Md(p,b)||{node:O[0].measure.map[2],offset:0},z=w.line<p.display.viewTo&&Md(p,w);if(!z){var J=O[O.length-1].measure,ie=J.maps?J.maps[J.maps.length-1]:J.map;z={node:ie[ie.length-1],offset:ie[ie.length-2]-ie[ie.length-3]}}if(!B||!z){c.removeAllRanges();return}var ye=c.rangeCount&&c.getRangeAt(0),pe;try{pe=Oe(B.node,B.offset,z.offset,z.node)}catch{}pe&&(!d&&p.state.focused?(c.collapse(B.node,B.offset),pe.collapsed||(c.removeAllRanges(),c.addRange(pe))):(c.removeAllRanges(),c.addRange(pe)),ye&&c.anchorNode==null?c.addRange(ye):d&&this.startGracePeriod()),this.rememberSelection()}},zt.prototype.startGracePeriod=function(){var c=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){c.gracePeriod=!1,c.selectionChanged()&&c.cm.operation(function(){return c.cm.curOp.selectionChanged=!0})},20)},zt.prototype.showMultipleSelections=function(c){ot(this.cm.display.cursorDiv,c.cursors),ot(this.cm.display.selectionDiv,c.selection)},zt.prototype.rememberSelection=function(){var c=this.getSelection();this.lastAnchorNode=c.anchorNode,this.lastAnchorOffset=c.anchorOffset,this.lastFocusNode=c.focusNode,this.lastFocusOffset=c.focusOffset},zt.prototype.selectionInEditor=function(){var c=this.getSelection();if(!c.rangeCount)return!1;var p=c.getRangeAt(0).commonAncestorContainer;return Je(this.div,p)},zt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||mt(yt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},zt.prototype.blur=function(){this.div.blur()},zt.prototype.getField=function(){return this.div},zt.prototype.supportsTouch=function(){return!0},zt.prototype.receivedFocus=function(){var c=this,p=this;this.selectionInEditor()?setTimeout(function(){return c.pollSelection()},20):pn(this.cm,function(){return p.cm.curOp.selectionChanged=!0});function y(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,y))}this.polling.set(this.cm.options.pollInterval,y)},zt.prototype.selectionChanged=function(){var c=this.getSelection();return c.anchorNode!=this.lastAnchorNode||c.anchorOffset!=this.lastAnchorOffset||c.focusNode!=this.lastFocusNode||c.focusOffset!=this.lastFocusOffset},zt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var c=this.getSelection(),p=this.cm;if(oe&&P&&this.cm.display.gutterSpecs.length&&Fd(c.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var y=Zo(p,c.anchorNode,c.anchorOffset),b=Zo(p,c.focusNode,c.focusOffset);y&&b&&pn(p,function(){Vi(p.doc,ks(y,b),mi),(y.bad||b.bad)&&(p.curOp.selectionChanged=!0)})}}},zt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var c=this.cm,p=c.display,y=c.doc.sel.primary(),b=y.from(),w=y.to();if(b.ch==0&&b.line>c.firstLine()&&(b=ze(b.line-1,at(c.doc,b.line-1).length)),w.ch==at(c.doc,w.line).text.length&&w.line<c.lastLine()&&(w=ze(w.line+1,0)),b.line<p.viewFrom||w.line>p.viewTo-1)return!1;var T,M,O;b.line==p.viewFrom||(T=fa(c,b.line))==0?(M=Rt(p.view[0].line),O=p.view[0].node):(M=Rt(p.view[T].line),O=p.view[T-1].node.nextSibling);var B=fa(c,w.line),z,J;if(B==p.view.length-1?(z=p.viewTo-1,J=p.lineDiv.lastChild):(z=Rt(p.view[B+1].line)-1,J=p.view[B+1].node.previousSibling),!O)return!1;for(var ie=c.doc.splitLines(Id(c,O,J,M,z)),ye=fs(c.doc,ze(M,0),ze(z,at(c.doc,z).text.length));ie.length>1&&ye.length>1;)if(st(ie)==st(ye))ie.pop(),ye.pop(),z--;else if(ie[0]==ye[0])ie.shift(),ye.shift(),M++;else break;for(var pe=0,Ee=0,Re=ie[0],Ve=ye[0],qe=Math.min(Re.length,Ve.length);pe<qe&&Re.charCodeAt(pe)==Ve.charCodeAt(pe);)++pe;for(var Ke=st(ie),Ye=st(ye),tt=Math.min(Ke.length-(ie.length==1?pe:0),Ye.length-(ye.length==1?pe:0));Ee<tt&&Ke.charCodeAt(Ke.length-Ee-1)==Ye.charCodeAt(Ye.length-Ee-1);)++Ee;if(ie.length==1&&ye.length==1&&M==b.line)for(;pe&&pe>b.ch&&Ke.charCodeAt(Ke.length-Ee-1)==Ye.charCodeAt(Ye.length-Ee-1);)pe--,Ee++;ie[ie.length-1]=Ke.slice(0,Ke.length-Ee).replace(/^\u200b+/,""),ie[0]=ie[0].slice(pe).replace(/\u200b+$/,"");var dt=ze(M,pe),lt=ze(z,ye.length?st(ye).length-Ee:0);if(ie.length>1||ie[0]||vt(dt,lt))return lr(c.doc,ie,dt,lt,"+input"),!0},zt.prototype.ensurePolled=function(){this.forceCompositionEnd()},zt.prototype.reset=function(){this.forceCompositionEnd()},zt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},zt.prototype.readFromDOMSoon=function(){var c=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(c.readDOMTimeout=null,c.composing)if(c.composing.done)c.composing=null;else return;c.updateFromDOM()},80))},zt.prototype.updateFromDOM=function(){var c=this;(this.cm.isReadOnly()||!this.pollContent())&&pn(this.cm,function(){return Bi(c.cm)})},zt.prototype.setUneditable=function(c){c.contentEditable="false"},zt.prototype.onKeyPress=function(c){c.charCode==0||this.composing||(c.preventDefault(),this.cm.isReadOnly()||Ei(this.cm,fu)(this.cm,String.fromCharCode(c.charCode==null?c.keyCode:c.charCode),0))},zt.prototype.readOnlyChanged=function(c){this.div.contentEditable=String(c!="nocursor")},zt.prototype.onContextMenu=function(){},zt.prototype.resetPosition=function(){},zt.prototype.needsContentAttribute=!0;function Md(c,p){var y=Dl(c,p.line);if(!y||y.hidden)return null;var b=at(c.doc,p.line),w=wc(y,b,p.line),T=le(b,c.doc.direction),M="left";if(T){var O=xe(T,p.ch);M=O%2?"right":"left"}var B=Dc(w.map,p.ch,M);return B.offset=B.collapse=="right"?B.end:B.start,B}function Fd(c){for(var p=c;p;p=p.parentNode)if(/CodeMirror-gutter-wrapper/.test(p.className))return!0;return!1}function vr(c,p){return p&&(c.bad=!0),c}function Id(c,p,y,b,w){var T="",M=!1,O=c.doc.lineSeparator(),B=!1;function z(pe){return function(Ee){return Ee.id==pe}}function J(){M&&(T+=O,B&&(T+=O),M=B=!1)}function ie(pe){pe&&(J(),T+=pe)}function ye(pe){if(pe.nodeType==1){var Ee=pe.getAttribute("cm-text");if(Ee){ie(Ee);return}var Re=pe.getAttribute("cm-marker"),Ve;if(Re){var qe=c.findMarks(ze(b,0),ze(w+1,0),z(+Re));qe.length&&(Ve=qe[0].find(0))&&ie(fs(c.doc,Ve.from,Ve.to).join(O));return}if(pe.getAttribute("contenteditable")=="false")return;var Ke=/^(pre|div|p|li|table|br)$/i.test(pe.nodeName);if(!/^br$/i.test(pe.nodeName)&&pe.textContent.length==0)return;Ke&&J();for(var Ye=0;Ye<pe.childNodes.length;Ye++)ye(pe.childNodes[Ye]);/^(pre|p)$/i.test(pe.nodeName)&&(B=!0),Ke&&(M=!0)}else pe.nodeType==3&&ie(pe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ye(p),p!=y;)p=p.nextSibling,B=!1;return T}function Zo(c,p,y){var b;if(p==c.display.lineDiv){if(b=c.display.lineDiv.childNodes[y],!b)return vr(c.clipPos(ze(c.display.viewTo-1)),!0);p=null,y=0}else for(b=p;;b=b.parentNode){if(!b||b==c.display.lineDiv)return null;if(b.parentNode&&b.parentNode==c.display.lineDiv)break}for(var w=0;w<c.display.view.length;w++){var T=c.display.view[w];if(T.node==b)return Ld(T,p,y)}}function Ld(c,p,y){var b=c.text.firstChild,w=!1;if(!p||!Je(b,p))return vr(ze(Rt(c.line),0),!0);if(p==b&&(w=!0,p=b.childNodes[y],y=0,!p)){var T=c.rest?st(c.rest):c.line;return vr(ze(Rt(T),T.text.length),w)}var M=p.nodeType==3?p:null,O=p;for(!M&&p.childNodes.length==1&&p.firstChild.nodeType==3&&(M=p.firstChild,y&&(y=M.nodeValue.length));O.parentNode!=b;)O=O.parentNode;var B=c.measure,z=B.maps;function J(Ve,qe,Ke){for(var Ye=-1;Ye<(z?z.length:0);Ye++)for(var tt=Ye<0?B.map:z[Ye],dt=0;dt<tt.length;dt+=3){var lt=tt[dt+2];if(lt==Ve||lt==qe){var Dt=Rt(Ye<0?c.line:c.rest[Ye]),Yt=tt[dt]+Ke;return(Ke<0||lt!=Ve)&&(Yt=tt[dt+(Ke?1:0)]),ze(Dt,Yt)}}}var ie=J(M,O,y);if(ie)return vr(ie,w);for(var ye=O.nextSibling,pe=M?M.nodeValue.length-y:0;ye;ye=ye.nextSibling){if(ie=J(ye,ye.firstChild,0),ie)return vr(ze(ie.line,ie.ch-pe),w);pe+=ye.textContent.length}for(var Ee=O.previousSibling,Re=y;Ee;Ee=Ee.previousSibling){if(ie=J(Ee,Ee.firstChild,-1),ie)return vr(ze(ie.line,ie.ch+Re),w);Re+=Ee.textContent.length}}var yi=function(c){this.cm=c,this.prevInput="",this.pollingFast=!1,this.polling=new Nt,this.hasSelection=!1,this.composing=null,this.resetting=!1};yi.prototype.init=function(c){var p=this,y=this,b=this.cm;this.createField(c);var w=this.textarea;c.wrapper.insertBefore(this.wrapper,c.wrapper.firstChild),X&&(w.style.width="0px"),ge(w,"input",function(){k&&D>=9&&p.hasSelection&&(p.hasSelection=null),y.poll()}),ge(w,"paste",function(M){We(b,M)||Td(M,b)||(b.state.pasteIncoming=+new Date,y.fastPoll())});function T(M){if(!We(b,M)){if(b.somethingSelected())Jr({lineWise:!1,text:b.getSelections()});else if(b.options.lineWiseCopyCut){var O=pu(b);Jr({lineWise:!0,text:O.text}),M.type=="cut"?b.setSelections(O.ranges,null,mi):(y.prevInput="",w.value=O.text.join(`
`),ue(w))}else return;M.type=="cut"&&(b.state.cutIncoming=+new Date)}}ge(w,"cut",T),ge(w,"copy",T),ge(c.scroller,"paste",function(M){if(!(vs(c,M)||We(b,M))){if(!w.dispatchEvent){b.state.pasteIncoming=+new Date,y.focus();return}var O=new Event("paste");O.clipboardData=M.clipboardData,w.dispatchEvent(O)}}),ge(c.lineSpace,"selectstart",function(M){vs(c,M)||ft(M)}),ge(w,"compositionstart",function(){var M=b.getCursor("from");y.composing&&y.composing.range.clear(),y.composing={start:M,range:b.markText(M,b.getCursor("to"),{className:"CodeMirror-composing"})}}),ge(w,"compositionend",function(){y.composing&&(y.poll(),y.composing.range.clear(),y.composing=null)})},yi.prototype.createField=function(c){this.wrapper=gu(),this.textarea=this.wrapper.firstChild;var p=this.cm.options;mu(this.textarea,p.spellcheck,p.autocorrect,p.autocapitalize)},yi.prototype.screenReaderLabelChanged=function(c){c?this.textarea.setAttribute("aria-label",c):this.textarea.removeAttribute("aria-label")},yi.prototype.prepareSelection=function(){var c=this.cm,p=c.display,y=c.doc,b=tr(c);if(c.options.moveInputWithCursor){var w=Ut(c,y.sel.primary().head,"div"),T=p.wrapper.getBoundingClientRect(),M=p.lineDiv.getBoundingClientRect();b.teTop=Math.max(0,Math.min(p.wrapper.clientHeight-10,w.top+M.top-T.top)),b.teLeft=Math.max(0,Math.min(p.wrapper.clientWidth-10,w.left+M.left-T.left))}return b},yi.prototype.showSelection=function(c){var p=this.cm,y=p.display;ot(y.cursorDiv,c.cursors),ot(y.selectionDiv,c.selection),c.teTop!=null&&(this.wrapper.style.top=c.teTop+"px",this.wrapper.style.left=c.teLeft+"px")},yi.prototype.reset=function(c){if(!(this.contextMenuPending||this.composing&&c)){var p=this.cm;if(this.resetting=!0,p.somethingSelected()){this.prevInput="";var y=p.getSelection();this.textarea.value=y,p.state.focused&&ue(this.textarea),k&&D>=9&&(this.hasSelection=y)}else c||(this.prevInput=this.textarea.value="",k&&D>=9&&(this.hasSelection=null));this.resetting=!1}},yi.prototype.getField=function(){return this.textarea},yi.prototype.supportsTouch=function(){return!1},yi.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ne||mt(yt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},yi.prototype.blur=function(){this.textarea.blur()},yi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},yi.prototype.receivedFocus=function(){this.slowPoll()},yi.prototype.slowPoll=function(){var c=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){c.poll(),c.cm.state.focused&&c.slowPoll()})},yi.prototype.fastPoll=function(){var c=!1,p=this;p.pollingFast=!0;function y(){var b=p.poll();!b&&!c?(c=!0,p.polling.set(60,y)):(p.pollingFast=!1,p.slowPoll())}p.polling.set(20,y)},yi.prototype.poll=function(){var c=this,p=this.cm,y=this.textarea,b=this.prevInput;if(this.contextMenuPending||this.resetting||!p.state.focused||ll(y)&&!b&&!this.composing||p.isReadOnly()||p.options.disableInput||p.state.keySeq)return!1;var w=y.value;if(w==b&&!p.somethingSelected())return!1;if(k&&D>=9&&this.hasSelection===w||se&&/[\uf700-\uf7ff]/.test(w))return p.display.input.reset(),!1;if(p.doc.sel==p.display.selForContextMenu){var T=w.charCodeAt(0);if(T==8203&&!b&&(b="​"),T==8666)return this.reset(),this.cm.execCommand("undo")}for(var M=0,O=Math.min(b.length,w.length);M<O&&b.charCodeAt(M)==w.charCodeAt(M);)++M;return pn(p,function(){fu(p,w.slice(M),b.length-M,null,c.composing?"*compose":null),w.length>1e3||w.indexOf(`
`)>-1?y.value=c.prevInput="":c.prevInput=w,c.composing&&(c.composing.range.clear(),c.composing.range=p.markText(c.composing.start,p.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},yi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},yi.prototype.onKeyPress=function(){k&&D>=9&&(this.hasSelection=null),this.fastPoll()},yi.prototype.onContextMenu=function(c){var p=this,y=p.cm,b=y.display,w=p.textarea;p.contextMenuPending&&p.contextMenuPending();var T=Vs(y,c),M=b.scroller.scrollTop;if(!T||U)return;var O=y.options.resetSelectionOnContextMenu;O&&y.doc.sel.contains(T)==-1&&Ei(y,Vi)(y.doc,ks(T),mi);var B=w.style.cssText,z=p.wrapper.style.cssText,J=p.wrapper.offsetParent.getBoundingClientRect();p.wrapper.style.cssText="position: static",w.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(c.clientY-J.top-5)+"px; left: "+(c.clientX-J.left-5)+`px;
      z-index: 1000; background: `+(k?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ie;E&&(ie=w.ownerDocument.defaultView.scrollY),b.input.focus(),E&&w.ownerDocument.defaultView.scrollTo(null,ie),b.input.reset(),y.somethingSelected()||(w.value=p.prevInput=" "),p.contextMenuPending=pe,b.selForContextMenu=y.doc.sel,clearTimeout(b.detectingSelectAll);function ye(){if(w.selectionStart!=null){var Re=y.somethingSelected(),Ve="​"+(Re?w.value:"");w.value="⇚",w.value=Ve,p.prevInput=Re?"":"​",w.selectionStart=1,w.selectionEnd=Ve.length,b.selForContextMenu=y.doc.sel}}function pe(){if(p.contextMenuPending==pe&&(p.contextMenuPending=!1,p.wrapper.style.cssText=z,w.style.cssText=B,k&&D<9&&b.scrollbars.setScrollTop(b.scroller.scrollTop=M),w.selectionStart!=null)){(!k||k&&D<9)&&ye();var Re=0,Ve=function(){b.selForContextMenu==y.doc.sel&&w.selectionStart==0&&w.selectionEnd>0&&p.prevInput=="​"?Ei(y,Zc)(y):Re++<10?b.detectingSelectAll=setTimeout(Ve,500):(b.selForContextMenu=null,b.input.reset())};b.detectingSelectAll=setTimeout(Ve,200)}}if(k&&D>=9&&ye(),Ge){gi(c);var Ee=function(){Qe(window,"mouseup",Ee),setTimeout(pe,20)};ge(window,"mouseup",Ee)}else setTimeout(pe,50)},yi.prototype.readOnlyChanged=function(c){c||this.reset(),this.textarea.disabled=c=="nocursor",this.textarea.readOnly=!!c},yi.prototype.setUneditable=function(){},yi.prototype.needsContentAttribute=!1;function Od(c,p){if(p=p?ni(p):{},p.value=c.value,!p.tabindex&&c.tabIndex&&(p.tabindex=c.tabIndex),!p.placeholder&&c.placeholder&&(p.placeholder=c.placeholder),p.autofocus==null){var y=mt(yt(c));p.autofocus=y==c||c.getAttribute("autofocus")!=null&&y==document.body}function b(){c.value=O.getValue()}var w;if(c.form&&(ge(c.form,"submit",b),!p.leaveSubmitMethodAlone)){var T=c.form;w=T.submit;try{var M=T.submit=function(){b(),T.submit=w,T.submit(),T.submit=M}}catch{}}p.finishInit=function(B){B.save=b,B.getTextArea=function(){return c},B.toTextArea=function(){B.toTextArea=isNaN,b(),c.parentNode.removeChild(B.getWrapperElement()),c.style.display="",c.form&&(Qe(c.form,"submit",b),!p.leaveSubmitMethodAlone&&typeof c.form.submit=="function"&&(c.form.submit=w))}},c.style.display="none";var O=ti(function(B){return c.parentNode.insertBefore(B,c.nextSibling)},p);return O}function Sf(c){c.off=Qe,c.on=ge,c.wheelEventPixels=zl,c.Doc=an,c.splitLines=Ha,c.countColumn=Vt,c.findColumn=Yi,c.isWordChar=me,c.Pass=si,c.signal=et,c.Line=ja,c.changeEnd=Ss,c.scrollbarModel=Cs,c.Pos=ze,c.cmpPos=vt,c.modes=yn,c.mimeModes=hn,c.resolveMode=Ls,c.getMode=ra,c.modeExtensions=oa,c.extendMode=sc,c.copyState=Os,c.startState=ac,c.innerMode=vo,c.commands=Yr,c.keyMap=Es,c.keyName=au,c.isModifierKey=su,c.lookupKey=pr,c.normalizeKeyMap=hf,c.StringStream=Ci,c.SharedTextMarker=hr,c.TextMarker=Ts,c.LineWidget=cr,c.e_preventDefault=ft,c.e_stopPropagation=Wt,c.e_stop=gi,c.addClass=Ht,c.contains=Je,c.rmClass=Ue,c.keyNames=Ys}xf(ti),kf(ti);var vu="iter insert remove copy getEditor constructor".split(" ");for(var Jo in an.prototype)an.prototype.hasOwnProperty(Jo)&&kt(vu,Jo)<0&&(ti.prototype[Jo]=function(c){return function(){return c.apply(this.doc,arguments)}}(an.prototype[Jo]));return Ct(an),ti.inputStyles={textarea:yi,contenteditable:zt},ti.defineMode=function(c){!ti.defaults.mode&&c!="null"&&(ti.defaults.mode=c),Fs.apply(this,arguments)},ti.defineMIME=Is,ti.defineMode("null",function(){return{token:function(c){return c.skipToEnd()}}}),ti.defineMIME("text/plain","null"),ti.defineExtension=function(c,p){ti.prototype[c]=p},ti.defineDocExtension=function(c,p){an.prototype[c]=p},ti.fromTextArea=Od,Sf(ti),ti.version="5.65.19",ti})}(ch)),ch.exports}var $g={exports:{}},Vg;function bD(){return Vg||(Vg=1,function(l,s){(function(a){a(Jn())})(function(a){var u=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,d=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,m=/[*+-]\s/;a.commands.newlineAndIndentContinueMarkdownList=function(x){if(x.getOption("disableInput"))return a.Pass;for(var k=x.listSelections(),D=[],E=0;E<k.length;E++){var L=k[E].head,P=x.getStateAfter(L.line),H=a.innerMode(x.getMode(),P);if(H.mode.name!=="markdown"&&H.mode.helperType!=="markdown"){x.execCommand("newlineAndIndent");return}else P=H.state;var U=P.list!==!1,Z=P.quote!==0,ee=x.getLine(L.line),K=u.exec(ee),X=/^\s*$/.test(ee.slice(0,L.ch));if(!k[E].empty()||!U&&!Z||!K||X){x.execCommand("newlineAndIndent");return}if(d.test(ee)){var oe=Z&&/>\s*$/.test(ee),ne=!/>\s*$/.test(ee);(oe||ne)&&x.replaceRange("",{line:L.line,ch:0},{line:L.line,ch:L.ch+1}),D[E]=`
`}else{var se=K[1],we=K[5],be=!(m.test(K[2])||K[2].indexOf(">")>=0),ve=be?parseInt(K[3],10)+1+K[4]:K[2].replace("x"," ");D[E]=`
`+se+ve+we,be&&v(x,L)}}x.replaceSelections(D)};function v(x,k){var D=k.line,E=0,L=0,P=u.exec(x.getLine(D)),H=P[1];do{E+=1;var U=D+E,Z=x.getLine(U),ee=u.exec(Z);if(ee){var K=ee[1],X=parseInt(P[3],10)+E-L,oe=parseInt(ee[3],10),ne=oe;if(H===K&&!isNaN(oe))X===oe&&(ne=oe+1),X>oe&&(ne=X+1),x.replaceRange(Z.replace(u,K+ne+ee[4]+ee[5]),{line:U,ch:0},{line:U,ch:Z.length});else{if(H.length>K.length||H.length<K.length&&E===1)return;L+=1}}}while(ee)}})}()),$g.exports}var Wg={},jg;function yD(){if(jg)return Wg;jg=1;var l=Jn();return l.commands.tabAndIndentMarkdownList=function(s){var a=s.listSelections(),u=a[0].head,d=s.getStateAfter(u.line),m=d.list!==!1;if(m){s.execCommand("indentMore");return}if(s.options.indentWithTabs)s.execCommand("insertTab");else{var v=Array(s.options.tabSize+1).join(" ");s.replaceSelection(v)}},l.commands.shiftTabAndUnindentMarkdownList=function(s){var a=s.listSelections(),u=a[0].head,d=s.getStateAfter(u.line),m=d.list!==!1;if(m){s.execCommand("indentLess");return}if(s.options.indentWithTabs)s.execCommand("insertTab");else{var v=Array(s.options.tabSize+1).join(" ");s.replaceSelection(v)}},Wg}var Ug={exports:{}},qg;function _D(){return qg||(qg=1,function(l,s){(function(a){a(Jn())})(function(a){a.defineOption("fullScreen",!1,function(m,v,x){x==a.Init&&(x=!1),!x!=!v&&(v?u(m):d(m))});function u(m){var v=m.getWrapperElement();m.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:v.style.width,height:v.style.height},v.style.width="",v.style.height="auto",v.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",m.refresh()}function d(m){var v=m.getWrapperElement();v.className=v.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var x=m.state.fullScreenRestore;v.style.width=x.width,v.style.height=x.height,window.scrollTo(x.scrollLeft,x.scrollTop),m.refresh()}})}()),Ug.exports}var Yg={exports:{}},Gg={exports:{}},Xg;function jv(){return Xg||(Xg=1,function(l,s){(function(a){a(Jn())})(function(a){var u={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},d={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};a.defineMode("xml",function(m,v){var x=m.indentUnit,k={},D=v.htmlMode?u:d;for(var E in D)k[E]=D[E];for(var E in v)k[E]=v[E];var L,P;function H(ce,Be){function Oe(Ht){return Be.tokenize=Ht,Ht(ce,Be)}var Je=ce.next();if(Je=="<")return ce.eat("!")?ce.eat("[")?ce.match("CDATA[")?Oe(ee("atom","]]>")):null:ce.match("--")?Oe(ee("comment","-->")):ce.match("DOCTYPE",!0,!0)?(ce.eatWhile(/[\w\._\-]/),Oe(K(1))):null:ce.eat("?")?(ce.eatWhile(/[\w\._\-]/),Be.tokenize=ee("meta","?>"),"meta"):(L=ce.eat("/")?"closeTag":"openTag",Be.tokenize=U,"tag bracket");if(Je=="&"){var mt;return ce.eat("#")?ce.eat("x")?mt=ce.eatWhile(/[a-fA-F\d]/)&&ce.eat(";"):mt=ce.eatWhile(/[\d]/)&&ce.eat(";"):mt=ce.eatWhile(/[\w\.\-:]/)&&ce.eat(";"),mt?"atom":"error"}else return ce.eatWhile(/[^&<]/),null}H.isInText=!0;function U(ce,Be){var Oe=ce.next();if(Oe==">"||Oe=="/"&&ce.eat(">"))return Be.tokenize=H,L=Oe==">"?"endTag":"selfcloseTag","tag bracket";if(Oe=="=")return L="equals",null;if(Oe=="<"){Be.tokenize=H,Be.state=we,Be.tagName=Be.tagStart=null;var Je=Be.tokenize(ce,Be);return Je?Je+" tag error":"tag error"}else return/[\'\"]/.test(Oe)?(Be.tokenize=Z(Oe),Be.stringStartCol=ce.column(),Be.tokenize(ce,Be)):(ce.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function Z(ce){var Be=function(Oe,Je){for(;!Oe.eol();)if(Oe.next()==ce){Je.tokenize=U;break}return"string"};return Be.isInAttribute=!0,Be}function ee(ce,Be){return function(Oe,Je){for(;!Oe.eol();){if(Oe.match(Be)){Je.tokenize=H;break}Oe.next()}return ce}}function K(ce){return function(Be,Oe){for(var Je;(Je=Be.next())!=null;){if(Je=="<")return Oe.tokenize=K(ce+1),Oe.tokenize(Be,Oe);if(Je==">")if(ce==1){Oe.tokenize=H;break}else return Oe.tokenize=K(ce-1),Oe.tokenize(Be,Oe)}return"meta"}}function X(ce){return ce&&ce.toLowerCase()}function oe(ce,Be,Oe){this.prev=ce.context,this.tagName=Be||"",this.indent=ce.indented,this.startOfLine=Oe,(k.doNotIndent.hasOwnProperty(Be)||ce.context&&ce.context.noIndent)&&(this.noIndent=!0)}function ne(ce){ce.context&&(ce.context=ce.context.prev)}function se(ce,Be){for(var Oe;;){if(!ce.context||(Oe=ce.context.tagName,!k.contextGrabbers.hasOwnProperty(X(Oe))||!k.contextGrabbers[X(Oe)].hasOwnProperty(X(Be))))return;ne(ce)}}function we(ce,Be,Oe){return ce=="openTag"?(Oe.tagStart=Be.column(),be):ce=="closeTag"?ve:we}function be(ce,Be,Oe){return ce=="word"?(Oe.tagName=Be.current(),P="tag",Fe):k.allowMissingTagName&&ce=="endTag"?(P="tag bracket",Fe(ce,Be,Oe)):(P="error",be)}function ve(ce,Be,Oe){if(ce=="word"){var Je=Be.current();return Oe.context&&Oe.context.tagName!=Je&&k.implicitlyClosed.hasOwnProperty(X(Oe.context.tagName))&&ne(Oe),Oe.context&&Oe.context.tagName==Je||k.matchClosing===!1?(P="tag",De):(P="tag error",Ge)}else return k.allowMissingTagName&&ce=="endTag"?(P="tag bracket",De(ce,Be,Oe)):(P="error",Ge)}function De(ce,Be,Oe){return ce!="endTag"?(P="error",De):(ne(Oe),we)}function Ge(ce,Be,Oe){return P="error",De(ce,Be,Oe)}function Fe(ce,Be,Oe){if(ce=="word")return P="attribute",Ue;if(ce=="endTag"||ce=="selfcloseTag"){var Je=Oe.tagName,mt=Oe.tagStart;return Oe.tagName=Oe.tagStart=null,ce=="selfcloseTag"||k.autoSelfClosers.hasOwnProperty(X(Je))?se(Oe,Je):(se(Oe,Je),Oe.context=new oe(Oe,Je,mt==Oe.indented)),we}return P="error",Fe}function Ue(ce,Be,Oe){return ce=="equals"?nt:(k.allowMissing||(P="error"),Fe(ce,Be,Oe))}function nt(ce,Be,Oe){return ce=="string"?ot:ce=="word"&&k.allowUnquoted?(P="string",Fe):(P="error",Fe(ce,Be,Oe))}function ot(ce,Be,Oe){return ce=="string"?ot:Fe(ce,Be,Oe)}return{startState:function(ce){var Be={tokenize:H,state:we,indented:ce||0,tagName:null,tagStart:null,context:null};return ce!=null&&(Be.baseIndent=ce),Be},token:function(ce,Be){if(!Be.tagName&&ce.sol()&&(Be.indented=ce.indentation()),ce.eatSpace())return null;L=null;var Oe=Be.tokenize(ce,Be);return(Oe||L)&&Oe!="comment"&&(P=null,Be.state=Be.state(L||Oe,ce,Be),P&&(Oe=P=="error"?Oe+" error":P)),Oe},indent:function(ce,Be,Oe){var Je=ce.context;if(ce.tokenize.isInAttribute)return ce.tagStart==ce.indented?ce.stringStartCol+1:ce.indented+x;if(Je&&Je.noIndent)return a.Pass;if(ce.tokenize!=U&&ce.tokenize!=H)return Oe?Oe.match(/^(\s*)/)[0].length:0;if(ce.tagName)return k.multilineTagIndentPastTag!==!1?ce.tagStart+ce.tagName.length+2:ce.tagStart+x*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(Be))return 0;var mt=Be&&/^<(\/)?([\w_:\.-]*)/.exec(Be);if(mt&&mt[1])for(;Je;)if(Je.tagName==mt[2]){Je=Je.prev;break}else if(k.implicitlyClosed.hasOwnProperty(X(Je.tagName)))Je=Je.prev;else break;else if(mt)for(;Je;){var Ht=k.contextGrabbers[X(Je.tagName)];if(Ht&&Ht.hasOwnProperty(X(mt[2])))Je=Je.prev;else break}for(;Je&&Je.prev&&!Je.startOfLine;)Je=Je.prev;return Je?Je.indent+x:ce.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(ce){ce.state==nt&&(ce.state=Fe)},xmlCurrentTag:function(ce){return ce.tagName?{name:ce.tagName,close:ce.type=="closeTag"}:null},xmlCurrentContext:function(ce){for(var Be=[],Oe=ce.context;Oe;Oe=Oe.prev)Be.push(Oe.tagName);return Be.reverse()}}}),a.defineMIME("text/xml","xml"),a.defineMIME("application/xml","xml"),a.mimeModes.hasOwnProperty("text/html")||a.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),Gg.exports}var Kg={exports:{}},Zg;function xD(){return Zg||(Zg=1,function(l,s){(function(a){a(Jn())})(function(a){a.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var u=0;u<a.modeInfo.length;u++){var d=a.modeInfo[u];d.mimes&&(d.mime=d.mimes[0])}a.findModeByMIME=function(m){m=m.toLowerCase();for(var v=0;v<a.modeInfo.length;v++){var x=a.modeInfo[v];if(x.mime==m)return x;if(x.mimes){for(var k=0;k<x.mimes.length;k++)if(x.mimes[k]==m)return x}}if(/\+xml$/.test(m))return a.findModeByMIME("application/xml");if(/\+json$/.test(m))return a.findModeByMIME("application/json")},a.findModeByExtension=function(m){m=m.toLowerCase();for(var v=0;v<a.modeInfo.length;v++){var x=a.modeInfo[v];if(x.ext){for(var k=0;k<x.ext.length;k++)if(x.ext[k]==m)return x}}},a.findModeByFileName=function(m){for(var v=0;v<a.modeInfo.length;v++){var x=a.modeInfo[v];if(x.file&&x.file.test(m))return x}var k=m.lastIndexOf("."),D=k>-1&&m.substring(k+1,m.length);if(D)return a.findModeByExtension(D)},a.findModeByName=function(m){m=m.toLowerCase();for(var v=0;v<a.modeInfo.length;v++){var x=a.modeInfo[v];if(x.name.toLowerCase()==m)return x;if(x.alias){for(var k=0;k<x.alias.length;k++)if(x.alias[k].toLowerCase()==m)return x}}}})}()),Kg.exports}var Jg;function Uv(){return Jg||(Jg=1,function(l,s){(function(a){a(Jn(),jv(),xD())})(function(a){a.defineMode("markdown",function(u,d){var m=a.getMode(u,"text/html"),v=m.name=="null";function x(ue){if(a.findModeByName){var $=a.findModeByName(ue);$&&(ue=$.mime||$.mimes[0])}var Te=a.getMode(u,ue);return Te.name=="null"?null:Te}d.highlightFormatting===void 0&&(d.highlightFormatting=!1),d.maxBlockquoteDepth===void 0&&(d.maxBlockquoteDepth=0),d.taskLists===void 0&&(d.taskLists=!1),d.strikethrough===void 0&&(d.strikethrough=!1),d.emoji===void 0&&(d.emoji=!1),d.fencedCodeBlockHighlighting===void 0&&(d.fencedCodeBlockHighlighting=!0),d.fencedCodeBlockDefaultMode===void 0&&(d.fencedCodeBlockDefaultMode="text/plain"),d.xml===void 0&&(d.xml=!0),d.tokenTypeOverrides===void 0&&(d.tokenTypeOverrides={});var k={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var D in k)k.hasOwnProperty(D)&&d.tokenTypeOverrides[D]&&(k[D]=d.tokenTypeOverrides[D]);var E=/^([*\-_])(?:\s*\1){2,}\s*$/,L=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,P=/^\[(x| )\](?=\s)/i,H=d.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,U=/^ {0,3}(?:\={1,}|-{2,})\s*$/,Z=/^[^#!\[\]*_\\<>` "'(~:]+/,ee=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,K=/^\s*\[[^\]]+?\]:.*$/,X=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,oe="    ";function ne(ue,$,Te){return $.f=$.inline=Te,Te(ue,$)}function se(ue,$,Te){return $.f=$.block=Te,Te(ue,$)}function we(ue){return!ue||!/\S/.test(ue.string)}function be(ue){if(ue.linkTitle=!1,ue.linkHref=!1,ue.linkText=!1,ue.em=!1,ue.strong=!1,ue.strikethrough=!1,ue.quote=0,ue.indentedCode=!1,ue.f==De){var $=v;if(!$){var Te=a.innerMode(m,ue.htmlState);$=Te.mode.name=="xml"&&Te.state.tagStart===null&&!Te.state.context&&Te.state.tokenize.isInText}$&&(ue.f=nt,ue.block=ve,ue.htmlState=null)}return ue.trailingSpace=0,ue.trailingSpaceNewLine=!1,ue.prevLine=ue.thisLine,ue.thisLine={stream:null},null}function ve(ue,$){var Te=ue.column()===$.indentation,yt=we($.prevLine.stream),rt=$.indentedCode,Qt=$.prevLine.hr,ni=$.list!==!1,Vt=($.listStack[$.listStack.length-1]||0)+3;$.indentedCode=!1;var Nt=$.indentation;if($.indentationDiff===null&&($.indentationDiff=$.indentation,ni)){for($.list=null;Nt<$.listStack[$.listStack.length-1];)$.listStack.pop(),$.listStack.length?$.indentation=$.listStack[$.listStack.length-1]:$.list=!1;$.list!==!1&&($.indentationDiff=Nt-$.listStack[$.listStack.length-1])}var kt=!yt&&!Qt&&!$.prevLine.header&&(!ni||!rt)&&!$.prevLine.fencedCodeEnd,Lt=($.list===!1||Qt||yt)&&$.indentation<=Vt&&ue.match(E),si=null;if($.indentationDiff>=4&&(rt||$.prevLine.fencedCodeEnd||$.prevLine.header||yt))return ue.skipToEnd(),$.indentedCode=!0,k.code;if(ue.eatSpace())return null;if(Te&&$.indentation<=Vt&&(si=ue.match(H))&&si[1].length<=6)return $.quote=0,$.header=si[1].length,$.thisLine.header=!0,d.highlightFormatting&&($.formatting="header"),$.f=$.inline,Fe($);if($.indentation<=Vt&&ue.eat(">"))return $.quote=Te?1:$.quote+1,d.highlightFormatting&&($.formatting="quote"),ue.eatSpace(),Fe($);if(!Lt&&!$.setext&&Te&&$.indentation<=Vt&&(si=ue.match(L))){var mi=si[1]?"ol":"ul";return $.indentation=Nt+ue.current().length,$.list=!0,$.quote=0,$.listStack.push($.indentation),$.em=!1,$.strong=!1,$.code=!1,$.strikethrough=!1,d.taskLists&&ue.match(P,!1)&&($.taskList=!0),$.f=$.inline,d.highlightFormatting&&($.formatting=["list","list-"+mi]),Fe($)}else{if(Te&&$.indentation<=Vt&&(si=ue.match(ee,!0)))return $.quote=0,$.fencedEndRE=new RegExp(si[1]+"+ *$"),$.localMode=d.fencedCodeBlockHighlighting&&x(si[2]||d.fencedCodeBlockDefaultMode),$.localMode&&($.localState=a.startState($.localMode)),$.f=$.block=Ge,d.highlightFormatting&&($.formatting="code-block"),$.code=-1,Fe($);if($.setext||(!kt||!ni)&&!$.quote&&$.list===!1&&!$.code&&!Lt&&!K.test(ue.string)&&(si=ue.lookAhead(1))&&(si=si.match(U)))return $.setext?($.header=$.setext,$.setext=0,ue.skipToEnd(),d.highlightFormatting&&($.formatting="header")):($.header=si[0].charAt(0)=="="?1:2,$.setext=$.header),$.thisLine.header=!0,$.f=$.inline,Fe($);if(Lt)return ue.skipToEnd(),$.hr=!0,$.thisLine.hr=!0,k.hr;if(ue.peek()==="[")return ne(ue,$,Je)}return ne(ue,$,$.inline)}function De(ue,$){var Te=m.token(ue,$.htmlState);if(!v){var yt=a.innerMode(m,$.htmlState);(yt.mode.name=="xml"&&yt.state.tagStart===null&&!yt.state.context&&yt.state.tokenize.isInText||$.md_inside&&ue.current().indexOf(">")>-1)&&($.f=nt,$.block=ve,$.htmlState=null)}return Te}function Ge(ue,$){var Te=$.listStack[$.listStack.length-1]||0,yt=$.indentation<Te,rt=Te+3;if($.fencedEndRE&&$.indentation<=rt&&(yt||ue.match($.fencedEndRE))){d.highlightFormatting&&($.formatting="code-block");var Qt;return yt||(Qt=Fe($)),$.localMode=$.localState=null,$.block=ve,$.f=nt,$.fencedEndRE=null,$.code=0,$.thisLine.fencedCodeEnd=!0,yt?se(ue,$,$.block):Qt}else return $.localMode?$.localMode.token(ue,$.localState):(ue.skipToEnd(),k.code)}function Fe(ue){var $=[];if(ue.formatting){$.push(k.formatting),typeof ue.formatting=="string"&&(ue.formatting=[ue.formatting]);for(var Te=0;Te<ue.formatting.length;Te++)$.push(k.formatting+"-"+ue.formatting[Te]),ue.formatting[Te]==="header"&&$.push(k.formatting+"-"+ue.formatting[Te]+"-"+ue.header),ue.formatting[Te]==="quote"&&(!d.maxBlockquoteDepth||d.maxBlockquoteDepth>=ue.quote?$.push(k.formatting+"-"+ue.formatting[Te]+"-"+ue.quote):$.push("error"))}if(ue.taskOpen)return $.push("meta"),$.length?$.join(" "):null;if(ue.taskClosed)return $.push("property"),$.length?$.join(" "):null;if(ue.linkHref?$.push(k.linkHref,"url"):(ue.strong&&$.push(k.strong),ue.em&&$.push(k.em),ue.strikethrough&&$.push(k.strikethrough),ue.emoji&&$.push(k.emoji),ue.linkText&&$.push(k.linkText),ue.code&&$.push(k.code),ue.image&&$.push(k.image),ue.imageAltText&&$.push(k.imageAltText,"link"),ue.imageMarker&&$.push(k.imageMarker)),ue.header&&$.push(k.header,k.header+"-"+ue.header),ue.quote&&($.push(k.quote),!d.maxBlockquoteDepth||d.maxBlockquoteDepth>=ue.quote?$.push(k.quote+"-"+ue.quote):$.push(k.quote+"-"+d.maxBlockquoteDepth)),ue.list!==!1){var yt=(ue.listStack.length-1)%3;yt?yt===1?$.push(k.list2):$.push(k.list3):$.push(k.list1)}return ue.trailingSpaceNewLine?$.push("trailing-space-new-line"):ue.trailingSpace&&$.push("trailing-space-"+(ue.trailingSpace%2?"a":"b")),$.length?$.join(" "):null}function Ue(ue,$){if(ue.match(Z,!0))return Fe($)}function nt(ue,$){var Te=$.text(ue,$);if(typeof Te<"u")return Te;if($.list)return $.list=null,Fe($);if($.taskList){var yt=ue.match(P,!0)[1]===" ";return yt?$.taskOpen=!0:$.taskClosed=!0,d.highlightFormatting&&($.formatting="task"),$.taskList=!1,Fe($)}if($.taskOpen=!1,$.taskClosed=!1,$.header&&ue.match(/^#+$/,!0))return d.highlightFormatting&&($.formatting="header"),Fe($);var rt=ue.next();if($.linkTitle){$.linkTitle=!1;var Qt=rt;rt==="("&&(Qt=")"),Qt=(Qt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var ni="^\\s*(?:[^"+Qt+"\\\\]+|\\\\\\\\|\\\\.)"+Qt;if(ue.match(new RegExp(ni),!0))return k.linkHref}if(rt==="`"){var Vt=$.formatting;d.highlightFormatting&&($.formatting="code"),ue.eatWhile("`");var Nt=ue.current().length;if($.code==0&&(!$.quote||Nt==1))return $.code=Nt,Fe($);if(Nt==$.code){var kt=Fe($);return $.code=0,kt}else return $.formatting=Vt,Fe($)}else if($.code)return Fe($);if(rt==="\\"&&(ue.next(),d.highlightFormatting)){var Lt=Fe($),si=k.formatting+"-escape";return Lt?Lt+" "+si:si}if(rt==="!"&&ue.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return $.imageMarker=!0,$.image=!0,d.highlightFormatting&&($.formatting="image"),Fe($);if(rt==="["&&$.imageMarker&&ue.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return $.imageMarker=!1,$.imageAltText=!0,d.highlightFormatting&&($.formatting="image"),Fe($);if(rt==="]"&&$.imageAltText){d.highlightFormatting&&($.formatting="image");var Lt=Fe($);return $.imageAltText=!1,$.image=!1,$.inline=$.f=ce,Lt}if(rt==="["&&!$.image)return $.linkText&&ue.match(/^.*?\]/)||($.linkText=!0,d.highlightFormatting&&($.formatting="link")),Fe($);if(rt==="]"&&$.linkText){d.highlightFormatting&&($.formatting="link");var Lt=Fe($);return $.linkText=!1,$.inline=$.f=ue.match(/\(.*?\)| ?\[.*?\]/,!1)?ce:nt,Lt}if(rt==="<"&&ue.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){$.f=$.inline=ot,d.highlightFormatting&&($.formatting="link");var Lt=Fe($);return Lt?Lt+=" ":Lt="",Lt+k.linkInline}if(rt==="<"&&ue.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){$.f=$.inline=ot,d.highlightFormatting&&($.formatting="link");var Lt=Fe($);return Lt?Lt+=" ":Lt="",Lt+k.linkEmail}if(d.xml&&rt==="<"&&ue.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var mi=ue.string.indexOf(">",ue.pos);if(mi!=-1){var ut=ue.string.substring(ue.start,mi);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(ut)&&($.md_inside=!0)}return ue.backUp(1),$.htmlState=a.startState(m),se(ue,$,De)}if(d.xml&&rt==="<"&&ue.match(/^\/\w*?>/))return $.md_inside=!1,"tag";if(rt==="*"||rt==="_"){for(var qi=1,Yi=ue.pos==1?" ":ue.string.charAt(ue.pos-2);qi<3&&ue.eat(rt);)qi++;var ai=ue.peek()||" ",An=!/\s/.test(ai)&&(!X.test(ai)||/\s/.test(Yi)||X.test(Yi)),st=!/\s/.test(Yi)&&(!X.test(Yi)||/\s/.test(ai)||X.test(ai)),ui=null,ct=null;if(qi%2&&(!$.em&&An&&(rt==="*"||!st||X.test(Yi))?ui=!0:$.em==rt&&st&&(rt==="*"||!An||X.test(ai))&&(ui=!1)),qi>1&&(!$.strong&&An&&(rt==="*"||!st||X.test(Yi))?ct=!0:$.strong==rt&&st&&(rt==="*"||!An||X.test(ai))&&(ct=!1)),ct!=null||ui!=null){d.highlightFormatting&&($.formatting=ui==null?"strong":ct==null?"em":"strong em"),ui===!0&&($.em=rt),ct===!0&&($.strong=rt);var kt=Fe($);return ui===!1&&($.em=!1),ct===!1&&($.strong=!1),kt}}else if(rt===" "&&(ue.eat("*")||ue.eat("_"))){if(ue.peek()===" ")return Fe($);ue.backUp(1)}if(d.strikethrough){if(rt==="~"&&ue.eatWhile(rt)){if($.strikethrough){d.highlightFormatting&&($.formatting="strikethrough");var kt=Fe($);return $.strikethrough=!1,kt}else if(ue.match(/^[^\s]/,!1))return $.strikethrough=!0,d.highlightFormatting&&($.formatting="strikethrough"),Fe($)}else if(rt===" "&&ue.match("~~",!0)){if(ue.peek()===" ")return Fe($);ue.backUp(2)}}if(d.emoji&&rt===":"&&ue.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){$.emoji=!0,d.highlightFormatting&&($.formatting="emoji");var hs=Fe($);return $.emoji=!1,hs}return rt===" "&&(ue.match(/^ +$/,!1)?$.trailingSpace++:$.trailingSpace&&($.trailingSpaceNewLine=!0)),Fe($)}function ot(ue,$){var Te=ue.next();if(Te===">"){$.f=$.inline=nt,d.highlightFormatting&&($.formatting="link");var yt=Fe($);return yt?yt+=" ":yt="",yt+k.linkInline}return ue.match(/^[^>]+/,!0),k.linkInline}function ce(ue,$){if(ue.eatSpace())return null;var Te=ue.next();return Te==="("||Te==="["?($.f=$.inline=Oe(Te==="("?")":"]"),d.highlightFormatting&&($.formatting="link-string"),$.linkHref=!0,Fe($)):"error"}var Be={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Oe(ue){return function($,Te){var yt=$.next();if(yt===ue){Te.f=Te.inline=nt,d.highlightFormatting&&(Te.formatting="link-string");var rt=Fe(Te);return Te.linkHref=!1,rt}return $.match(Be[ue]),Te.linkHref=!0,Fe(Te)}}function Je(ue,$){return ue.match(/^([^\]\\]|\\.)*\]:/,!1)?($.f=mt,ue.next(),d.highlightFormatting&&($.formatting="link"),$.linkText=!0,Fe($)):ne(ue,$,nt)}function mt(ue,$){if(ue.match("]:",!0)){$.f=$.inline=Ht,d.highlightFormatting&&($.formatting="link");var Te=Fe($);return $.linkText=!1,Te}return ue.match(/^([^\]\\]|\\.)+/,!0),k.linkText}function Ht(ue,$){return ue.eatSpace()?null:(ue.match(/^[^\s]+/,!0),ue.peek()===void 0?$.linkTitle=!0:ue.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),$.f=$.inline=nt,k.linkHref+" url")}var Ji={startState:function(){return{f:ve,prevLine:{stream:null},thisLine:{stream:null},block:ve,htmlState:null,indentation:0,inline:nt,text:Ue,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ue){return{f:ue.f,prevLine:ue.prevLine,thisLine:ue.thisLine,block:ue.block,htmlState:ue.htmlState&&a.copyState(m,ue.htmlState),indentation:ue.indentation,localMode:ue.localMode,localState:ue.localMode?a.copyState(ue.localMode,ue.localState):null,inline:ue.inline,text:ue.text,formatting:!1,linkText:ue.linkText,linkTitle:ue.linkTitle,linkHref:ue.linkHref,code:ue.code,em:ue.em,strong:ue.strong,strikethrough:ue.strikethrough,emoji:ue.emoji,header:ue.header,setext:ue.setext,hr:ue.hr,taskList:ue.taskList,list:ue.list,listStack:ue.listStack.slice(0),quote:ue.quote,indentedCode:ue.indentedCode,trailingSpace:ue.trailingSpace,trailingSpaceNewLine:ue.trailingSpaceNewLine,md_inside:ue.md_inside,fencedEndRE:ue.fencedEndRE}},token:function(ue,$){if($.formatting=!1,ue!=$.thisLine.stream){if($.header=0,$.hr=!1,ue.match(/^\s*$/,!0))return be($),null;if($.prevLine=$.thisLine,$.thisLine={stream:ue},$.taskList=!1,$.trailingSpace=0,$.trailingSpaceNewLine=!1,!$.localState&&($.f=$.block,$.f!=De)){var Te=ue.match(/^\s*/,!0)[0].replace(/\t/g,oe).length;if($.indentation=Te,$.indentationDiff=null,Te>0)return null}}return $.f(ue,$)},innerMode:function(ue){return ue.block==De?{state:ue.htmlState,mode:m}:ue.localState?{state:ue.localState,mode:ue.localMode}:{state:ue,mode:Ji}},indent:function(ue,$,Te){return ue.block==De&&m.indent?m.indent(ue.htmlState,$,Te):ue.localState&&ue.localMode.indent?ue.localMode.indent(ue.localState,$,Te):a.Pass},blankLine:be,getType:Fe,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Ji},"xml"),a.defineMIME("text/markdown","markdown"),a.defineMIME("text/x-markdown","markdown")})}()),Yg.exports}var Qg={exports:{}},e0;function qv(){return e0||(e0=1,function(l,s){(function(a){a(Jn())})(function(a){a.overlayMode=function(u,d,m){return{startState:function(){return{base:a.startState(u),overlay:a.startState(d),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(v){return{base:a.copyState(u,v.base),overlay:a.copyState(d,v.overlay),basePos:v.basePos,baseCur:null,overlayPos:v.overlayPos,overlayCur:null}},token:function(v,x){return(v!=x.streamSeen||Math.min(x.basePos,x.overlayPos)<v.start)&&(x.streamSeen=v,x.basePos=x.overlayPos=v.start),v.start==x.basePos&&(x.baseCur=u.token(v,x.base),x.basePos=v.pos),v.start==x.overlayPos&&(v.pos=v.start,x.overlayCur=d.token(v,x.overlay),x.overlayPos=v.pos),v.pos=Math.min(x.basePos,x.overlayPos),x.overlayCur==null?x.baseCur:x.baseCur!=null&&x.overlay.combineTokens||m&&x.overlay.combineTokens==null?x.baseCur+" "+x.overlayCur:x.overlayCur},indent:u.indent&&function(v,x,k){return u.indent(v.base,x,k)},electricChars:u.electricChars,innerMode:function(v){return{state:v.base,mode:u}},blankLine:function(v){var x,k;return u.blankLine&&(x=u.blankLine(v.base)),d.blankLine&&(k=d.blankLine(v.overlay)),k==null?x:m&&x!=null?x+" "+k:k}}}})}()),Qg.exports}var t0={exports:{}},i0;function CD(){return i0||(i0=1,function(l,s){(function(a){a(Jn())})(function(a){a.defineOption("placeholder","",function(D,E,L){var P=L&&L!=a.Init;if(E&&!P)D.on("blur",v),D.on("change",x),D.on("swapDoc",x),a.on(D.getInputField(),"compositionupdate",D.state.placeholderCompose=function(){m(D)}),x(D);else if(!E&&P){D.off("blur",v),D.off("change",x),D.off("swapDoc",x),a.off(D.getInputField(),"compositionupdate",D.state.placeholderCompose),u(D);var H=D.getWrapperElement();H.className=H.className.replace(" CodeMirror-empty","")}E&&!D.hasFocus()&&v(D)});function u(D){D.state.placeholder&&(D.state.placeholder.parentNode.removeChild(D.state.placeholder),D.state.placeholder=null)}function d(D){u(D);var E=D.state.placeholder=document.createElement("pre");E.style.cssText="height: 0; overflow: visible",E.style.direction=D.getOption("direction"),E.className="CodeMirror-placeholder CodeMirror-line-like";var L=D.getOption("placeholder");typeof L=="string"&&(L=document.createTextNode(L)),E.appendChild(L),D.display.lineSpace.insertBefore(E,D.display.lineSpace.firstChild)}function m(D){setTimeout(function(){var E=!1;if(D.lineCount()==1){var L=D.getInputField();E=L.nodeName=="TEXTAREA"?!D.getLine(0).length:!/[^\u200b]/.test(L.querySelector(".CodeMirror-line").textContent)}E?d(D):u(D)},20)}function v(D){k(D)&&d(D)}function x(D){var E=D.getWrapperElement(),L=k(D);E.className=E.className.replace(" CodeMirror-empty","")+(L?" CodeMirror-empty":""),L?d(D):u(D)}function k(D){return D.lineCount()===1&&D.getLine(0)===""}})}()),t0.exports}var n0={exports:{}},s0;function wD(){return s0||(s0=1,function(l,s){(function(a){a(Jn())})(function(a){a.defineOption("autoRefresh",!1,function(m,v){m.state.autoRefresh&&(d(m,m.state.autoRefresh),m.state.autoRefresh=null),v&&m.display.wrapper.offsetHeight==0&&u(m,m.state.autoRefresh={delay:v.delay||250})});function u(m,v){function x(){m.display.wrapper.offsetHeight?(d(m,v),m.display.lastWrapHeight!=m.display.wrapper.clientHeight&&m.refresh()):v.timeout=setTimeout(x,v.delay)}v.timeout=setTimeout(x,v.delay),v.hurry=function(){clearTimeout(v.timeout),v.timeout=setTimeout(x,50)},a.on(window,"mouseup",v.hurry),a.on(window,"keyup",v.hurry)}function d(m,v){clearTimeout(v.timeout),a.off(window,"mouseup",v.hurry),a.off(window,"keyup",v.hurry)}})}()),n0.exports}var a0={exports:{}},r0;function kD(){return r0||(r0=1,function(l,s){(function(a){a(Jn())})(function(a){a.defineOption("styleSelectedText",!1,function(P,H,U){var Z=U&&U!=a.Init;H&&!Z?(P.state.markedSelection=[],P.state.markedSelectionStyle=typeof H=="string"?H:"CodeMirror-selectedtext",E(P),P.on("cursorActivity",u),P.on("change",d)):!H&&Z&&(P.off("cursorActivity",u),P.off("change",d),D(P),P.state.markedSelection=P.state.markedSelectionStyle=null)});function u(P){P.state.markedSelection&&P.operation(function(){L(P)})}function d(P){P.state.markedSelection&&P.state.markedSelection.length&&P.operation(function(){D(P)})}var m=8,v=a.Pos,x=a.cmpPos;function k(P,H,U,Z){if(x(H,U)!=0)for(var ee=P.state.markedSelection,K=P.state.markedSelectionStyle,X=H.line;;){var oe=X==H.line?H:v(X,0),ne=X+m,se=ne>=U.line,we=se?U:v(ne,0),be=P.markText(oe,we,{className:K});if(Z==null?ee.push(be):ee.splice(Z++,0,be),se)break;X=ne}}function D(P){for(var H=P.state.markedSelection,U=0;U<H.length;++U)H[U].clear();H.length=0}function E(P){D(P);for(var H=P.listSelections(),U=0;U<H.length;U++)k(P,H[U].from(),H[U].to())}function L(P){if(!P.somethingSelected())return D(P);if(P.listSelections().length>1)return E(P);var H=P.getCursor("start"),U=P.getCursor("end"),Z=P.state.markedSelection;if(!Z.length)return k(P,H,U);var ee=Z[0].find(),K=Z[Z.length-1].find();if(!ee||!K||U.line-H.line<=m||x(H,K.to)>=0||x(U,ee.from)<=0)return E(P);for(;x(H,ee.from)>0;)Z.shift().clear(),ee=Z[0].find();for(x(H,ee.from)<0&&(ee.to.line-H.line<m?(Z.shift().clear(),k(P,H,ee.to,0)):k(P,H,ee.from,0));x(U,K.to)<0;)Z.pop().clear(),K=Z[Z.length-1].find();x(U,K.to)>0&&(U.line-K.from.line<m?(Z.pop().clear(),k(P,K.from,U)):k(P,K.to,U))}})}()),a0.exports}var o0={exports:{}},l0;function SD(){return l0||(l0=1,function(l,s){(function(a){a(Jn())})(function(a){var u=a.Pos;function d(X){var oe=X.flags;return oe??(X.ignoreCase?"i":"")+(X.global?"g":"")+(X.multiline?"m":"")}function m(X,oe){for(var ne=d(X),se=ne,we=0;we<oe.length;we++)se.indexOf(oe.charAt(we))==-1&&(se+=oe.charAt(we));return ne==se?X:new RegExp(X.source,se)}function v(X){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(X.source)}function x(X,oe,ne){oe=m(oe,"g");for(var se=ne.line,we=ne.ch,be=X.lastLine();se<=be;se++,we=0){oe.lastIndex=we;var ve=X.getLine(se),De=oe.exec(ve);if(De)return{from:u(se,De.index),to:u(se,De.index+De[0].length),match:De}}}function k(X,oe,ne){if(!v(oe))return x(X,oe,ne);oe=m(oe,"gm");for(var se,we=1,be=ne.line,ve=X.lastLine();be<=ve;){for(var De=0;De<we&&!(be>ve);De++){var Ge=X.getLine(be++);se=se==null?Ge:se+`
`+Ge}we=we*2,oe.lastIndex=ne.ch;var Fe=oe.exec(se);if(Fe){var Ue=se.slice(0,Fe.index).split(`
`),nt=Fe[0].split(`
`),ot=ne.line+Ue.length-1,ce=Ue[Ue.length-1].length;return{from:u(ot,ce),to:u(ot+nt.length-1,nt.length==1?ce+nt[0].length:nt[nt.length-1].length),match:Fe}}}}function D(X,oe,ne){for(var se,we=0;we<=X.length;){oe.lastIndex=we;var be=oe.exec(X);if(!be)break;var ve=be.index+be[0].length;if(ve>X.length-ne)break;(!se||ve>se.index+se[0].length)&&(se=be),we=be.index+1}return se}function E(X,oe,ne){oe=m(oe,"g");for(var se=ne.line,we=ne.ch,be=X.firstLine();se>=be;se--,we=-1){var ve=X.getLine(se),De=D(ve,oe,we<0?0:ve.length-we);if(De)return{from:u(se,De.index),to:u(se,De.index+De[0].length),match:De}}}function L(X,oe,ne){if(!v(oe))return E(X,oe,ne);oe=m(oe,"gm");for(var se,we=1,be=X.getLine(ne.line).length-ne.ch,ve=ne.line,De=X.firstLine();ve>=De;){for(var Ge=0;Ge<we&&ve>=De;Ge++){var Fe=X.getLine(ve--);se=se==null?Fe:Fe+`
`+se}we*=2;var Ue=D(se,oe,be);if(Ue){var nt=se.slice(0,Ue.index).split(`
`),ot=Ue[0].split(`
`),ce=ve+nt.length,Be=nt[nt.length-1].length;return{from:u(ce,Be),to:u(ce+ot.length-1,ot.length==1?Be+ot[0].length:ot[ot.length-1].length),match:Ue}}}}var P,H;String.prototype.normalize?(P=function(X){return X.normalize("NFD").toLowerCase()},H=function(X){return X.normalize("NFD")}):(P=function(X){return X.toLowerCase()},H=function(X){return X});function U(X,oe,ne,se){if(X.length==oe.length)return ne;for(var we=0,be=ne+Math.max(0,X.length-oe.length);;){if(we==be)return we;var ve=we+be>>1,De=se(X.slice(0,ve)).length;if(De==ne)return ve;De>ne?be=ve:we=ve+1}}function Z(X,oe,ne,se){if(!oe.length)return null;var we=se?P:H,be=we(oe).split(/\r|\n\r?/);e:for(var ve=ne.line,De=ne.ch,Ge=X.lastLine()+1-be.length;ve<=Ge;ve++,De=0){var Fe=X.getLine(ve).slice(De),Ue=we(Fe);if(be.length==1){var nt=Ue.indexOf(be[0]);if(nt==-1)continue e;var ne=U(Fe,Ue,nt,we)+De;return{from:u(ve,U(Fe,Ue,nt,we)+De),to:u(ve,U(Fe,Ue,nt+be[0].length,we)+De)}}else{var ot=Ue.length-be[0].length;if(Ue.slice(ot)!=be[0])continue e;for(var ce=1;ce<be.length-1;ce++)if(we(X.getLine(ve+ce))!=be[ce])continue e;var Be=X.getLine(ve+be.length-1),Oe=we(Be),Je=be[be.length-1];if(Oe.slice(0,Je.length)!=Je)continue e;return{from:u(ve,U(Fe,Ue,ot,we)+De),to:u(ve+be.length-1,U(Be,Oe,Je.length,we))}}}}function ee(X,oe,ne,se){if(!oe.length)return null;var we=se?P:H,be=we(oe).split(/\r|\n\r?/);e:for(var ve=ne.line,De=ne.ch,Ge=X.firstLine()-1+be.length;ve>=Ge;ve--,De=-1){var Fe=X.getLine(ve);De>-1&&(Fe=Fe.slice(0,De));var Ue=we(Fe);if(be.length==1){var nt=Ue.lastIndexOf(be[0]);if(nt==-1)continue e;return{from:u(ve,U(Fe,Ue,nt,we)),to:u(ve,U(Fe,Ue,nt+be[0].length,we))}}else{var ot=be[be.length-1];if(Ue.slice(0,ot.length)!=ot)continue e;for(var ce=1,ne=ve-be.length+1;ce<be.length-1;ce++)if(we(X.getLine(ne+ce))!=be[ce])continue e;var Be=X.getLine(ve+1-be.length),Oe=we(Be);if(Oe.slice(Oe.length-be[0].length)!=be[0])continue e;return{from:u(ve+1-be.length,U(Be,Oe,Be.length-be[0].length,we)),to:u(ve,U(Fe,Ue,ot.length,we))}}}}function K(X,oe,ne,se){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=X,ne=ne?X.clipPos(ne):u(0,0),this.pos={from:ne,to:ne};var we;typeof se=="object"?we=se.caseFold:(we=se,se=null),typeof oe=="string"?(we==null&&(we=!1),this.matches=function(be,ve){return(be?ee:Z)(X,oe,ve,we)}):(oe=m(oe,"gm"),!se||se.multiline!==!1?this.matches=function(be,ve){return(be?L:k)(X,oe,ve)}:this.matches=function(be,ve){return(be?E:x)(X,oe,ve)})}K.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(X){var oe=this.doc.clipPos(X?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(oe=u(oe.line,oe.ch),X?(oe.ch--,oe.ch<0&&(oe.line--,oe.ch=(this.doc.getLine(oe.line)||"").length)):(oe.ch++,oe.ch>(this.doc.getLine(oe.line)||"").length&&(oe.ch=0,oe.line++)),a.cmpPos(oe,this.doc.clipPos(oe))!=0))return this.atOccurrence=!1;var ne=this.matches(X,oe);if(this.afterEmptyMatch=ne&&a.cmpPos(ne.from,ne.to)==0,ne)return this.pos=ne,this.atOccurrence=!0,this.pos.match||!0;var se=u(X?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:se,to:se},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(X,oe){if(this.atOccurrence){var ne=a.splitLines(X);this.doc.replaceRange(ne,this.pos.from,this.pos.to,oe),this.pos.to=u(this.pos.from.line+ne.length-1,ne[ne.length-1].length+(ne.length==1?this.pos.from.ch:0))}}},a.defineExtension("getSearchCursor",function(X,oe,ne){return new K(this.doc,X,oe,ne)}),a.defineDocExtension("getSearchCursor",function(X,oe,ne){return new K(this,X,oe,ne)}),a.defineExtension("selectMatches",function(X,oe){for(var ne=[],se=this.getSearchCursor(X,this.getCursor("from"),oe);se.findNext()&&!(a.cmpPos(se.to(),this.getCursor("to"))>0);)ne.push({anchor:se.from(),head:se.to()});ne.length&&this.setSelections(ne,0)})})}()),o0.exports}var u0={exports:{}},c0;function DD(){return c0||(c0=1,function(l,s){(function(a){a(Jn(),Uv(),qv())})(function(a){var u=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;a.defineMode("gfm",function(d,m){var v=0;function x(L){return L.code=!1,null}var k={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(L){return{code:L.code,codeBlock:L.codeBlock,ateSpace:L.ateSpace}},token:function(L,P){if(P.combineTokens=null,P.codeBlock)return L.match(/^```+/)?(P.codeBlock=!1,null):(L.skipToEnd(),null);if(L.sol()&&(P.code=!1),L.sol()&&L.match(/^```+/))return L.skipToEnd(),P.codeBlock=!0,null;if(L.peek()==="`"){L.next();var H=L.pos;L.eatWhile("`");var U=1+L.pos-H;return P.code?U===v&&(P.code=!1):(v=U,P.code=!0),null}else if(P.code)return L.next(),null;if(L.eatSpace())return P.ateSpace=!0,null;if((L.sol()||P.ateSpace)&&(P.ateSpace=!1,m.gitHubSpice!==!1)){if(L.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return P.combineTokens=!0,"link";if(L.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return P.combineTokens=!0,"link"}return L.match(u)&&L.string.slice(L.start-2,L.start)!="]("&&(L.start==0||/\W/.test(L.string.charAt(L.start-1)))?(P.combineTokens=!0,"link"):(L.next(),null)},blankLine:x},D={taskLists:!0,strikethrough:!0,emoji:!0};for(var E in m)D[E]=m[E];return D.name="markdown",a.overlayMode(a.getMode(d,D),k)},"markdown"),a.defineMIME("text/x-gfm","gfm")})}()),u0.exports}function TD(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kf={exports:{}};const ED={},AD=Object.freeze(Object.defineProperty({__proto__:null,default:ED},Symbol.toStringTag,{value:"Module"})),MD=q_(AD);var d0;function FD(){return d0||(d0=1,function(l){var s;(function(){s=function(a,u,d,m){m=m||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=m.flags||{},this.memoized={},this.loaded=!1;var v=this,x,k,D,E,L;if(a)if(v.dictionary=a,u&&d)ee();else if(typeof window<"u"&&(window.chrome||window.browser)){var P=window.chrome&&window.chrome.runtime?window.chrome.runtime:browser.runtime;m.dictionaryPath?x=m.dictionaryPath:x="typo/dictionaries",u||H(P.getURL(x+"/"+a+"/"+a+".aff"),U),d||H(P.getURL(x+"/"+a+"/"+a+".dic"),Z)}else m.dictionaryPath?x=m.dictionaryPath:typeof __dirname<"u"?x=__dirname+"/dictionaries":x="./dictionaries",u||H(x+"/"+a+"/"+a+".aff",U),d||H(x+"/"+a+"/"+a+".dic",Z);function H(K,X){var oe=v._readFile(K,null,m==null?void 0:m.asyncLoad);m!=null&&m.asyncLoad?oe.then(function(ne){X(ne)}):X(oe)}function U(K){u=K,d&&ee()}function Z(K){d=K,u&&ee()}function ee(){for(v.rules=v._parseAFF(u),v.compoundRuleCodes={},k=0,E=v.compoundRules.length;k<E;k++){var K=v.compoundRules[k];for(D=0,L=K.length;D<L;D++)v.compoundRuleCodes[K[D]]=[]}"ONLYINCOMPOUND"in v.flags&&(v.compoundRuleCodes[v.flags.ONLYINCOMPOUND]=[]),v.dictionaryTable=v._parseDIC(d);for(k in v.compoundRuleCodes)v.compoundRuleCodes[k].length===0&&delete v.compoundRuleCodes[k];for(k=0,E=v.compoundRules.length;k<E;k++){var X=v.compoundRules[k],oe="";for(D=0,L=X.length;D<L;D++){var ne=X[D];ne in v.compoundRuleCodes?oe+="("+v.compoundRuleCodes[ne].join("|")+")":oe+=ne}v.compoundRules[k]=new RegExp("^"+oe+"$","i")}v.loaded=!0,m!=null&&m.asyncLoad&&(m!=null&&m.loadedCallback)&&m.loadedCallback(v)}return this},s.prototype={load:function(a){for(var u in a)a.hasOwnProperty(u)&&(this[u]=a[u]);return this},_readFile:function(a,u,d){var m;if(u=u||"utf8",typeof XMLHttpRequest<"u"){var v=new XMLHttpRequest;if(v.open("GET",a,!!d),(m=v.overrideMimeType)===null||m===void 0||m.call(v,"text/plain; charset="+u),d){var x=new Promise(function(D,E){v.onload=function(){v.status===200?D(v.responseText):E(v.statusText)},v.onerror=function(){E(v.statusText)}});return v.send(null),x}else return v.send(null),v.responseText}else if(typeof TD<"u"){var k=MD;try{if(k.existsSync(a))return k.readFileSync(a,u);console.log("Path "+a+" does not exist.")}catch(D){console.log(D)}return""}return""},_parseAFF:function(a){var u={},d,m,v,x,k,D,E,L,P=a.split(/\r?\n/);for(k=0,E=P.length;k<E;k++)if(d=this._removeAffixComments(P[k]),d=d.trim(),!!d){var H=d.split(/\s+/),U=H[0];if(U==="PFX"||U==="SFX"){var Z=H[1],ee=H[2];v=parseInt(H[3],10);var K=[];for(D=k+1,L=k+1+v;D<L;D++){m=P[D],x=m.split(/\s+/);var X=x[2],oe=x[3].split("/"),ne=oe[0];ne==="0"&&(ne="");var se=this.parseRuleCodes(oe[1]),we=x[4],be={add:ne};se.length>0&&(be.continuationClasses=se),we!=="."&&(U==="SFX"?be.match=new RegExp(we+"$"):be.match=new RegExp("^"+we)),X!="0"&&(U==="SFX"?be.remove=new RegExp(X+"$"):be.remove=X),K.push(be)}u[Z]={type:U,combineable:ee==="Y",entries:K},k+=v}else if(U==="COMPOUNDRULE"){for(v=parseInt(H[1],10),D=k+1,L=k+1+v;D<L;D++)d=P[D],x=d.split(/\s+/),this.compoundRules.push(x[1]);k+=v}else U==="REP"?(x=d.split(/\s+/),x.length===3&&this.replacementTable.push([x[1],x[2]])):this.flags[U]=H[1]}return u},_removeAffixComments:function(a){return a.match(/^\s*#/)?"":a},_parseDIC:function(a){a=this._removeDicComments(a);var u=a.split(/\r?\n/),d={};function m(Fe,Ue){d.hasOwnProperty(Fe)||(d[Fe]=null),Ue.length>0&&(d[Fe]===null&&(d[Fe]=[]),d[Fe].push(Ue))}for(var v=1,x=u.length;v<x;v++){var k=u[v];if(k){var D=k.split("/",2),E=D[0];if(D.length>1){var L=this.parseRuleCodes(D[1]);(!("NEEDAFFIX"in this.flags)||L.indexOf(this.flags.NEEDAFFIX)===-1)&&m(E,L);for(var P=0,H=L.length;P<H;P++){var U=L[P],Z=this.rules[U];if(Z)for(var ee=this._applyRule(E,Z),K=0,X=ee.length;K<X;K++){var oe=ee[K];if(m(oe,[]),Z.combineable)for(var ne=P+1;ne<H;ne++){var se=L[ne],we=this.rules[se];if(we&&we.combineable&&Z.type!=we.type)for(var be=this._applyRule(oe,we),ve=0,De=be.length;ve<De;ve++){var Ge=be[ve];m(Ge,[])}}}U in this.compoundRuleCodes&&this.compoundRuleCodes[U].push(E)}}else m(E.trim(),[])}}return d},_removeDicComments:function(a){return a=a.replace(/^\t.*$/mg,""),a},parseRuleCodes:function(a){if(a)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var u=[],d=0,m=a.length;d<m;d+=2)u.push(a.substr(d,2));return u}else return this.flags.FLAG==="num"?a.split(","):this.flags.FLAG==="UTF-8"?Array.from(a):a.split("");else return a.split("");else return[]},_applyRule:function(a,u){for(var d=u.entries,m=[],v=0,x=d.length;v<x;v++){var k=d[v];if(!k.match||a.match(k.match)){var D=a;if(k.remove&&(D=D.replace(k.remove,"")),u.type==="SFX"?D=D+k.add:D=k.add+D,m.push(D),"continuationClasses"in k)for(var E=0,L=k.continuationClasses.length;E<L;E++){var P=this.rules[k.continuationClasses[E]];P&&(m=m.concat(this._applyRule(D,P)))}}}return m},check:function(a){if(!this.loaded)throw"Dictionary not loaded.";if(!a)return!1;var u=a.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(u))return!0;if(u.toUpperCase()===u){var d=u[0]+u.substring(1).toLowerCase();if(this.hasFlag(d,"KEEPCASE"))return!1;if(this.checkExact(d)||this.checkExact(u.toLowerCase()))return!0}var m=u[0].toLowerCase()+u.substring(1);if(m!==u){if(this.hasFlag(m,"KEEPCASE"))return!1;if(this.checkExact(m))return!0}return!1},checkExact:function(a){if(!this.loaded)throw"Dictionary not loaded.";var u=this.dictionaryTable[a],d,m;if(typeof u>"u"){if("COMPOUNDMIN"in this.flags&&a.length>=this.flags.COMPOUNDMIN){for(d=0,m=this.compoundRules.length;d<m;d++)if(a.match(this.compoundRules[d]))return!0}}else{if(u===null)return!0;if(typeof u=="object"){for(d=0,m=u.length;d<m;d++)if(!this.hasFlag(a,"ONLYINCOMPOUND",u[d]))return!0}}return!1},hasFlag:function(a,u,d){if(!this.loaded)throw"Dictionary not loaded.";return!!(u in this.flags&&(typeof d>"u"&&(d=Array.prototype.concat.apply([],this.dictionaryTable[a])),d&&d.indexOf(this.flags[u])!==-1))},alphabet:"",suggest:function(a,u){if(!this.loaded)throw"Dictionary not loaded.";if(u=u||5,this.memoized.hasOwnProperty(a)){var d=this.memoized[a].limit;if(u<=d||this.memoized[a].suggestions.length<d)return this.memoized[a].suggestions.slice(0,u)}if(this.check(a))return[];for(var m=0,v=this.replacementTable.length;m<v;m++){var x=this.replacementTable[m];if(a.indexOf(x[0])!==-1){var k=a.replace(x[0],x[1]);if(this.check(k))return[k]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var D=this.alphabet.split("");D.sort();for(var E={},m=0;m<D.length;m++)E[D[m]]=!0;this.alphabet="";for(var m in E)this.alphabet+=m}var L=this;function P(U,Z){var ee={},K,X,oe,ne,se=L.alphabet.length;for(var we in U)for(K=0,oe=we.length+1;K<oe;K++){var be=[we.substring(0,K),we.substring(K)];if(be[1]&&(ne=be[0]+be[1].substring(1),(!Z||L.check(ne))&&(ne in ee?ee[ne]+=1:ee[ne]=1)),be[1].length>1&&be[1][1]!==be[1][0]&&(ne=be[0]+be[1][1]+be[1][0]+be[1].substring(2),(!Z||L.check(ne))&&(ne in ee?ee[ne]+=1:ee[ne]=1)),be[1]){var ve=be[1].substring(0,1).toUpperCase()===be[1].substring(0,1)?"uppercase":"lowercase";for(X=0;X<se;X++){var De=L.alphabet[X];ve==="uppercase"&&(De=De.toUpperCase()),De!=be[1].substring(0,1)&&(ne=be[0]+De+be[1].substring(1),(!Z||L.check(ne))&&(ne in ee?ee[ne]+=1:ee[ne]=1))}}if(be[1])for(X=0;X<se;X++){var ve=be[0].substring(-1).toUpperCase()===be[0].substring(-1)&&be[1].substring(0,1).toUpperCase()===be[1].substring(0,1)?"uppercase":"lowercase",De=L.alphabet[X];ve==="uppercase"&&(De=De.toUpperCase()),ne=be[0]+De+be[1],(!Z||L.check(ne))&&(ne in ee?ee[ne]+=1:ee[ne]=1)}}return ee}function H(U){var Z,ee=P((Z={},Z[U]=!0,Z)),K=P(ee,!0),X=K;for(var oe in ee)L.check(oe)&&(oe in X?X[oe]+=ee[oe]:X[oe]=ee[oe]);var ne,se=[];for(ne in X)X.hasOwnProperty(ne)&&se.push([ne,X[ne]]);function we(Ge,Fe){var Ue=Ge[1],nt=Fe[1];return Ue<nt?-1:Ue>nt?1:Fe[0].localeCompare(Ge[0])}se.sort(we).reverse();var be=[],ve="lowercase";U.toUpperCase()===U?ve="uppercase":U.substr(0,1).toUpperCase()+U.substr(1).toLowerCase()===U&&(ve="capitalized");var De=u;for(ne=0;ne<Math.min(De,se.length);ne++)ve==="uppercase"?se[ne][0]=se[ne][0].toUpperCase():ve==="capitalized"&&(se[ne][0]=se[ne][0].substr(0,1).toUpperCase()+se[ne][0].substr(1)),!L.hasFlag(se[ne][0],"NOSUGGEST")&&be.indexOf(se[ne][0])===-1?be.push(se[ne][0]):De++;return be}return this.memoized[a]={suggestions:H(a),limit:u},this.memoized[a].suggestions}}})(),l.exports=s}(Kf)),Kf.exports}var Zf,h0;function ID(){if(h0)return Zf;h0=1;var l=FD();function s(a){if(a=a||{},typeof a.codeMirrorInstance!="function"||typeof a.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),a.codeMirrorInstance.defineMode("spell-checker",function(u){if(!s.aff_loading){s.aff_loading=!0;var d=new XMLHttpRequest;d.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),d.onload=function(){d.readyState===4&&d.status===200&&(s.aff_data=d.responseText,s.num_loaded++,s.num_loaded==2&&(s.typo=new l("en_US",s.aff_data,s.dic_data,{platform:"any"})))},d.send(null)}if(!s.dic_loading){s.dic_loading=!0;var m=new XMLHttpRequest;m.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),m.onload=function(){m.readyState===4&&m.status===200&&(s.dic_data=m.responseText,s.num_loaded++,s.num_loaded==2&&(s.typo=new l("en_US",s.aff_data,s.dic_data,{platform:"any"})))},m.send(null)}var v='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',x={token:function(D){var E=D.peek(),L="";if(v.includes(E))return D.next(),null;for(;(E=D.peek())!=null&&!v.includes(E);)L+=E,D.next();return s.typo&&!s.typo.check(L)?"spell-error":null}},k=a.codeMirrorInstance.getMode(u,u.backdrop||"text/plain");return a.codeMirrorInstance.overlayMode(k,x,!0)})}return s.num_loaded=0,s.aff_loading=!1,s.dic_loading=!1,s.aff_data="",s.dic_data="",s.typo,Zf=s,Zf}var Jf={},f0;function LD(){return f0||(f0=1,function(l){function s(Ce,ke){for(var me=0;me<ke.length;me++){var j=ke[me];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(Ce,k(j.key),j)}}function a(Ce,ke,me){return me&&s(Ce,me),Object.defineProperty(Ce,"prototype",{writable:!1}),Ce}function u(){return u=Object.assign?Object.assign.bind():function(Ce){for(var ke=1;ke<arguments.length;ke++){var me=arguments[ke];for(var j in me)Object.prototype.hasOwnProperty.call(me,j)&&(Ce[j]=me[j])}return Ce},u.apply(this,arguments)}function d(Ce,ke){if(Ce){if(typeof Ce=="string")return m(Ce,ke);var me=Object.prototype.toString.call(Ce).slice(8,-1);if(me==="Object"&&Ce.constructor&&(me=Ce.constructor.name),me==="Map"||me==="Set")return Array.from(Ce);if(me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me))return m(Ce,ke)}}function m(Ce,ke){(ke==null||ke>Ce.length)&&(ke=Ce.length);for(var me=0,j=new Array(ke);me<ke;me++)j[me]=Ce[me];return j}function v(Ce,ke){var me=typeof Symbol<"u"&&Ce[Symbol.iterator]||Ce["@@iterator"];if(me)return(me=me.call(Ce)).next.bind(me);if(Array.isArray(Ce)||(me=d(Ce))||ke){me&&(Ce=me);var j=0;return function(){return j>=Ce.length?{done:!0}:{done:!1,value:Ce[j++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(Ce,ke){if(typeof Ce!="object"||Ce===null)return Ce;var me=Ce[Symbol.toPrimitive];if(me!==void 0){var j=me.call(Ce,ke);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}function k(Ce){var ke=x(Ce,"string");return typeof ke=="symbol"?ke:String(ke)}function D(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}l.defaults=D();function E(Ce){l.defaults=Ce}var L=/[&<>"']/,P=new RegExp(L.source,"g"),H=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,U=new RegExp(H.source,"g"),Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ee=function(ke){return Z[ke]};function K(Ce,ke){if(ke){if(L.test(Ce))return Ce.replace(P,ee)}else if(H.test(Ce))return Ce.replace(U,ee);return Ce}var X=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function oe(Ce){return Ce.replace(X,function(ke,me){return me=me.toLowerCase(),me==="colon"?":":me.charAt(0)==="#"?me.charAt(1)==="x"?String.fromCharCode(parseInt(me.substring(2),16)):String.fromCharCode(+me.substring(1)):""})}var ne=/(^|[^\[])\^/g;function se(Ce,ke){Ce=typeof Ce=="string"?Ce:Ce.source,ke=ke||"";var me={replace:function(V,he){return he=he.source||he,he=he.replace(ne,"$1"),Ce=Ce.replace(V,he),me},getRegex:function(){return new RegExp(Ce,ke)}};return me}var we=/[^\w:]/g,be=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ve(Ce,ke,me){if(Ce){var j;try{j=decodeURIComponent(oe(me)).replace(we,"").toLowerCase()}catch{return null}if(j.indexOf("javascript:")===0||j.indexOf("vbscript:")===0||j.indexOf("data:")===0)return null}ke&&!be.test(me)&&(me=nt(ke,me));try{me=encodeURI(me).replace(/%25/g,"%")}catch{return null}return me}var De={},Ge=/^[^:]+:\/*[^/]*$/,Fe=/^([^:]+:)[\s\S]*$/,Ue=/^([^:]+:\/*[^/]*)[\s\S]*$/;function nt(Ce,ke){De[" "+Ce]||(Ge.test(Ce)?De[" "+Ce]=Ce+"/":De[" "+Ce]=Be(Ce,"/",!0)),Ce=De[" "+Ce];var me=Ce.indexOf(":")===-1;return ke.substring(0,2)==="//"?me?ke:Ce.replace(Fe,"$1")+ke:ke.charAt(0)==="/"?me?ke:Ce.replace(Ue,"$1")+ke:Ce+ke}var ot={exec:function(){}};function ce(Ce,ke){var me=Ce.replace(/\|/g,function(he,I,R){for(var Q=!1,re=I;--re>=0&&R[re]==="\\";)Q=!Q;return Q?"|":" |"}),j=me.split(/ \|/),V=0;if(j[0].trim()||j.shift(),j.length>0&&!j[j.length-1].trim()&&j.pop(),j.length>ke)j.splice(ke);else for(;j.length<ke;)j.push("");for(;V<j.length;V++)j[V]=j[V].trim().replace(/\\\|/g,"|");return j}function Be(Ce,ke,me){var j=Ce.length;if(j===0)return"";for(var V=0;V<j;){var he=Ce.charAt(j-V-1);if(he===ke&&!me)V++;else if(he!==ke&&me)V++;else break}return Ce.slice(0,j-V)}function Oe(Ce,ke){if(Ce.indexOf(ke[1])===-1)return-1;for(var me=Ce.length,j=0,V=0;V<me;V++)if(Ce[V]==="\\")V++;else if(Ce[V]===ke[0])j++;else if(Ce[V]===ke[1]&&(j--,j<0))return V;return-1}function Je(Ce){Ce&&Ce.sanitize&&!Ce.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function mt(Ce,ke){if(ke<1)return"";for(var me="";ke>1;)ke&1&&(me+=Ce),ke>>=1,Ce+=Ce;return me+Ce}function Ht(Ce,ke,me,j){var V=ke.href,he=ke.title?K(ke.title):null,I=Ce[1].replace(/\\([\[\]])/g,"$1");if(Ce[0].charAt(0)!=="!"){j.state.inLink=!0;var R={type:"link",raw:me,href:V,title:he,text:I,tokens:j.inlineTokens(I)};return j.state.inLink=!1,R}return{type:"image",raw:me,href:V,title:he,text:K(I)}}function Ji(Ce,ke){var me=Ce.match(/^(\s+)(?:```)/);if(me===null)return ke;var j=me[1];return ke.split(`
`).map(function(V){var he=V.match(/^\s+/);if(he===null)return V;var I=he[0];return I.length>=j.length?V.slice(j.length):V}).join(`
`)}var ue=function(){function Ce(me){this.options=me||l.defaults}var ke=Ce.prototype;return ke.space=function(j){var V=this.rules.block.newline.exec(j);if(V&&V[0].length>0)return{type:"space",raw:V[0]}},ke.code=function(j){var V=this.rules.block.code.exec(j);if(V){var he=V[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:V[0],codeBlockStyle:"indented",text:this.options.pedantic?he:Be(he,`
`)}}},ke.fences=function(j){var V=this.rules.block.fences.exec(j);if(V){var he=V[0],I=Ji(he,V[3]||"");return{type:"code",raw:he,lang:V[2]?V[2].trim().replace(this.rules.inline._escapes,"$1"):V[2],text:I}}},ke.heading=function(j){var V=this.rules.block.heading.exec(j);if(V){var he=V[2].trim();if(/#$/.test(he)){var I=Be(he,"#");(this.options.pedantic||!I||/ $/.test(I))&&(he=I.trim())}return{type:"heading",raw:V[0],depth:V[1].length,text:he,tokens:this.lexer.inline(he)}}},ke.hr=function(j){var V=this.rules.block.hr.exec(j);if(V)return{type:"hr",raw:V[0]}},ke.blockquote=function(j){var V=this.rules.block.blockquote.exec(j);if(V){var he=V[0].replace(/^ *>[ \t]?/gm,""),I=this.lexer.state.top;this.lexer.state.top=!0;var R=this.lexer.blockTokens(he);return this.lexer.state.top=I,{type:"blockquote",raw:V[0],tokens:R,text:he}}},ke.list=function(j){var V=this.rules.block.list.exec(j);if(V){var he,I,R,Q,re,de,xe,fe,le,_e,ge,je,Qe=V[1].trim(),et=Qe.length>1,We={type:"list",raw:"",ordered:et,start:et?+Qe.slice(0,-1):"",loose:!1,items:[]};Qe=et?"\\d{1,9}\\"+Qe.slice(-1):"\\"+Qe,this.options.pedantic&&(Qe=et?Qe:"[*+-]");for(var gt=new RegExp("^( {0,3}"+Qe+")((?:[	 ][^\\n]*)?(?:\\n|$))");j&&(je=!1,!(!(V=gt.exec(j))||this.rules.block.hr.test(j)));){if(he=V[0],j=j.substring(he.length),fe=V[2].split(`
`,1)[0].replace(/^\t+/,function(Gi){return" ".repeat(3*Gi.length)}),le=j.split(`
`,1)[0],this.options.pedantic?(Q=2,ge=fe.trimLeft()):(Q=V[2].search(/[^ ]/),Q=Q>4?1:Q,ge=fe.slice(Q),Q+=V[1].length),de=!1,!fe&&/^ *$/.test(le)&&(he+=le+`
`,j=j.substring(le.length+1),je=!0),!je)for(var _t=new RegExp("^ {0,"+Math.min(3,Q-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),Ct=new RegExp("^ {0,"+Math.min(3,Q-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),ft=new RegExp("^ {0,"+Math.min(3,Q-1)+"}(?:```|~~~)"),Wt=new RegExp("^ {0,"+Math.min(3,Q-1)+"}#");j&&(_e=j.split(`
`,1)[0],le=_e,this.options.pedantic&&(le=le.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ft.test(le)||Wt.test(le)||_t.test(le)||Ct.test(j)));){if(le.search(/[^ ]/)>=Q||!le.trim())ge+=`
`+le.slice(Q);else{if(de||fe.search(/[^ ]/)>=4||ft.test(fe)||Wt.test(fe)||Ct.test(fe))break;ge+=`
`+le}!de&&!le.trim()&&(de=!0),he+=_e+`
`,j=j.substring(_e.length+1),fe=le.slice(Q)}We.loose||(xe?We.loose=!0:/\n *\n *$/.test(he)&&(xe=!0)),this.options.gfm&&(I=/^\[[ xX]\] /.exec(ge),I&&(R=I[0]!=="[ ] ",ge=ge.replace(/^\[[ xX]\] +/,""))),We.items.push({type:"list_item",raw:he,task:!!I,checked:R,loose:!1,text:ge}),We.raw+=he}We.items[We.items.length-1].raw=he.trimRight(),We.items[We.items.length-1].text=ge.trimRight(),We.raw=We.raw.trimRight();var jt=We.items.length;for(re=0;re<jt;re++)if(this.lexer.state.top=!1,We.items[re].tokens=this.lexer.blockTokens(We.items[re].text,[]),!We.loose){var gi=We.items[re].tokens.filter(function(Gi){return Gi.type==="space"}),Qi=gi.length>0&&gi.some(function(Gi){return/\n.*\n/.test(Gi.raw)});We.loose=Qi}if(We.loose)for(re=0;re<jt;re++)We.items[re].loose=!0;return We}},ke.html=function(j){var V=this.rules.block.html.exec(j);if(V){var he={type:"html",raw:V[0],pre:!this.options.sanitizer&&(V[1]==="pre"||V[1]==="script"||V[1]==="style"),text:V[0]};if(this.options.sanitize){var I=this.options.sanitizer?this.options.sanitizer(V[0]):K(V[0]);he.type="paragraph",he.text=I,he.tokens=this.lexer.inline(I)}return he}},ke.def=function(j){var V=this.rules.block.def.exec(j);if(V){var he=V[1].toLowerCase().replace(/\s+/g," "),I=V[2]?V[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",R=V[3]?V[3].substring(1,V[3].length-1).replace(this.rules.inline._escapes,"$1"):V[3];return{type:"def",tag:he,raw:V[0],href:I,title:R}}},ke.table=function(j){var V=this.rules.block.table.exec(j);if(V){var he={type:"table",header:ce(V[1]).map(function(xe){return{text:xe}}),align:V[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:V[3]&&V[3].trim()?V[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(he.header.length===he.align.length){he.raw=V[0];var I=he.align.length,R,Q,re,de;for(R=0;R<I;R++)/^ *-+: *$/.test(he.align[R])?he.align[R]="right":/^ *:-+: *$/.test(he.align[R])?he.align[R]="center":/^ *:-+ *$/.test(he.align[R])?he.align[R]="left":he.align[R]=null;for(I=he.rows.length,R=0;R<I;R++)he.rows[R]=ce(he.rows[R],he.header.length).map(function(xe){return{text:xe}});for(I=he.header.length,Q=0;Q<I;Q++)he.header[Q].tokens=this.lexer.inline(he.header[Q].text);for(I=he.rows.length,Q=0;Q<I;Q++)for(de=he.rows[Q],re=0;re<de.length;re++)de[re].tokens=this.lexer.inline(de[re].text);return he}}},ke.lheading=function(j){var V=this.rules.block.lheading.exec(j);if(V)return{type:"heading",raw:V[0],depth:V[2].charAt(0)==="="?1:2,text:V[1],tokens:this.lexer.inline(V[1])}},ke.paragraph=function(j){var V=this.rules.block.paragraph.exec(j);if(V){var he=V[1].charAt(V[1].length-1)===`
`?V[1].slice(0,-1):V[1];return{type:"paragraph",raw:V[0],text:he,tokens:this.lexer.inline(he)}}},ke.text=function(j){var V=this.rules.block.text.exec(j);if(V)return{type:"text",raw:V[0],text:V[0],tokens:this.lexer.inline(V[0])}},ke.escape=function(j){var V=this.rules.inline.escape.exec(j);if(V)return{type:"escape",raw:V[0],text:K(V[1])}},ke.tag=function(j){var V=this.rules.inline.tag.exec(j);if(V)return!this.lexer.state.inLink&&/^<a /i.test(V[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(V[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(V[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(V[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:V[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(V[0]):K(V[0]):V[0]}},ke.link=function(j){var V=this.rules.inline.link.exec(j);if(V){var he=V[2].trim();if(!this.options.pedantic&&/^</.test(he)){if(!/>$/.test(he))return;var I=Be(he.slice(0,-1),"\\");if((he.length-I.length)%2===0)return}else{var R=Oe(V[2],"()");if(R>-1){var Q=V[0].indexOf("!")===0?5:4,re=Q+V[1].length+R;V[2]=V[2].substring(0,R),V[0]=V[0].substring(0,re).trim(),V[3]=""}}var de=V[2],xe="";if(this.options.pedantic){var fe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(de);fe&&(de=fe[1],xe=fe[3])}else xe=V[3]?V[3].slice(1,-1):"";return de=de.trim(),/^</.test(de)&&(this.options.pedantic&&!/>$/.test(he)?de=de.slice(1):de=de.slice(1,-1)),Ht(V,{href:de&&de.replace(this.rules.inline._escapes,"$1"),title:xe&&xe.replace(this.rules.inline._escapes,"$1")},V[0],this.lexer)}},ke.reflink=function(j,V){var he;if((he=this.rules.inline.reflink.exec(j))||(he=this.rules.inline.nolink.exec(j))){var I=(he[2]||he[1]).replace(/\s+/g," ");if(I=V[I.toLowerCase()],!I){var R=he[0].charAt(0);return{type:"text",raw:R,text:R}}return Ht(he,I,he[0],this.lexer)}},ke.emStrong=function(j,V,he){he===void 0&&(he="");var I=this.rules.inline.emStrong.lDelim.exec(j);if(I&&!(I[3]&&he.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var R=I[1]||I[2]||"";if(!R||R&&(he===""||this.rules.inline.punctuation.exec(he))){var Q=I[0].length-1,re,de,xe=Q,fe=0,le=I[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(le.lastIndex=0,V=V.slice(-1*j.length+Q);(I=le.exec(V))!=null;)if(re=I[1]||I[2]||I[3]||I[4]||I[5]||I[6],!!re){if(de=re.length,I[3]||I[4]){xe+=de;continue}else if((I[5]||I[6])&&Q%3&&!((Q+de)%3)){fe+=de;continue}if(xe-=de,!(xe>0)){de=Math.min(de,de+xe+fe);var _e=j.slice(0,Q+I.index+(I[0].length-re.length)+de);if(Math.min(Q,de)%2){var ge=_e.slice(1,-1);return{type:"em",raw:_e,text:ge,tokens:this.lexer.inlineTokens(ge)}}var je=_e.slice(2,-2);return{type:"strong",raw:_e,text:je,tokens:this.lexer.inlineTokens(je)}}}}}},ke.codespan=function(j){var V=this.rules.inline.code.exec(j);if(V){var he=V[2].replace(/\n/g," "),I=/[^ ]/.test(he),R=/^ /.test(he)&&/ $/.test(he);return I&&R&&(he=he.substring(1,he.length-1)),he=K(he,!0),{type:"codespan",raw:V[0],text:he}}},ke.br=function(j){var V=this.rules.inline.br.exec(j);if(V)return{type:"br",raw:V[0]}},ke.del=function(j){var V=this.rules.inline.del.exec(j);if(V)return{type:"del",raw:V[0],text:V[2],tokens:this.lexer.inlineTokens(V[2])}},ke.autolink=function(j,V){var he=this.rules.inline.autolink.exec(j);if(he){var I,R;return he[2]==="@"?(I=K(this.options.mangle?V(he[1]):he[1]),R="mailto:"+I):(I=K(he[1]),R=I),{type:"link",raw:he[0],text:I,href:R,tokens:[{type:"text",raw:I,text:I}]}}},ke.url=function(j,V){var he;if(he=this.rules.inline.url.exec(j)){var I,R;if(he[2]==="@")I=K(this.options.mangle?V(he[0]):he[0]),R="mailto:"+I;else{var Q;do Q=he[0],he[0]=this.rules.inline._backpedal.exec(he[0])[0];while(Q!==he[0]);I=K(he[0]),he[1]==="www."?R="http://"+he[0]:R=he[0]}return{type:"link",raw:he[0],text:I,href:R,tokens:[{type:"text",raw:I,text:I}]}}},ke.inlineText=function(j,V){var he=this.rules.inline.text.exec(j);if(he){var I;return this.lexer.state.inRawBlock?I=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(he[0]):K(he[0]):he[0]:I=K(this.options.smartypants?V(he[0]):he[0]),{type:"text",raw:he[0],text:I}}},Ce}(),$={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ot,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};$._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,$._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,$.def=se($.def).replace("label",$._label).replace("title",$._title).getRegex(),$.bullet=/(?:[*+-]|\d{1,9}[.)])/,$.listItemStart=se(/^( *)(bull) */).replace("bull",$.bullet).getRegex(),$.list=se($.list).replace(/bull/g,$.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+$.def.source+")").getRegex(),$._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,$.html=se($.html,"i").replace("comment",$._comment).replace("tag",$._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$.paragraph=se($._paragraph).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex(),$.blockquote=se($.blockquote).replace("paragraph",$.paragraph).getRegex(),$.normal=u({},$),$.gfm=u({},$.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),$.gfm.table=se($.gfm.table).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex(),$.gfm.paragraph=se($._paragraph).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",$.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex(),$.pedantic=u({},$.normal,{html:se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ot,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:se($.normal._paragraph).replace("hr",$.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",$.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Te={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ot,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ot,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Te._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Te.punctuation=se(Te.punctuation).replace(/punctuation/g,Te._punctuation).getRegex(),Te.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Te.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Te._comment=se($._comment).replace("(?:-->|$)","-->").getRegex(),Te.emStrong.lDelim=se(Te.emStrong.lDelim).replace(/punct/g,Te._punctuation).getRegex(),Te.emStrong.rDelimAst=se(Te.emStrong.rDelimAst,"g").replace(/punct/g,Te._punctuation).getRegex(),Te.emStrong.rDelimUnd=se(Te.emStrong.rDelimUnd,"g").replace(/punct/g,Te._punctuation).getRegex(),Te._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Te._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Te._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Te.autolink=se(Te.autolink).replace("scheme",Te._scheme).replace("email",Te._email).getRegex(),Te._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Te.tag=se(Te.tag).replace("comment",Te._comment).replace("attribute",Te._attribute).getRegex(),Te._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Te._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Te._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Te.link=se(Te.link).replace("label",Te._label).replace("href",Te._href).replace("title",Te._title).getRegex(),Te.reflink=se(Te.reflink).replace("label",Te._label).replace("ref",$._label).getRegex(),Te.nolink=se(Te.nolink).replace("ref",$._label).getRegex(),Te.reflinkSearch=se(Te.reflinkSearch,"g").replace("reflink",Te.reflink).replace("nolink",Te.nolink).getRegex(),Te.normal=u({},Te),Te.pedantic=u({},Te.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:se(/^!?\[(label)\]\((.*?)\)/).replace("label",Te._label).getRegex(),reflink:se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Te._label).getRegex()}),Te.gfm=u({},Te.normal,{escape:se(Te.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Te.gfm.url=se(Te.gfm.url,"i").replace("email",Te.gfm._extended_email).getRegex(),Te.breaks=u({},Te.gfm,{br:se(Te.br).replace("{2,}","*").getRegex(),text:se(Te.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function yt(Ce){return Ce.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function rt(Ce){var ke="",me,j,V=Ce.length;for(me=0;me<V;me++)j=Ce.charCodeAt(me),Math.random()>.5&&(j="x"+j.toString(16)),ke+="&#"+j+";";return ke}var Qt=function(){function Ce(me){this.tokens=[],this.tokens.links=Object.create(null),this.options=me||l.defaults,this.options.tokenizer=this.options.tokenizer||new ue,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var j={block:$.normal,inline:Te.normal};this.options.pedantic?(j.block=$.pedantic,j.inline=Te.pedantic):this.options.gfm&&(j.block=$.gfm,this.options.breaks?j.inline=Te.breaks:j.inline=Te.gfm),this.tokenizer.rules=j}Ce.lex=function(j,V){var he=new Ce(V);return he.lex(j)},Ce.lexInline=function(j,V){var he=new Ce(V);return he.inlineTokens(j)};var ke=Ce.prototype;return ke.lex=function(j){j=j.replace(/\r\n|\r/g,`
`),this.blockTokens(j,this.tokens);for(var V;V=this.inlineQueue.shift();)this.inlineTokens(V.src,V.tokens);return this.tokens},ke.blockTokens=function(j,V){var he=this;V===void 0&&(V=[]),this.options.pedantic?j=j.replace(/\t/g,"    ").replace(/^ +$/gm,""):j=j.replace(/^( *)(\t+)/gm,function(xe,fe,le){return fe+"    ".repeat(le.length)});for(var I,R,Q,re;j;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(xe){return(I=xe.call({lexer:he},j,V))?(j=j.substring(I.raw.length),V.push(I),!0):!1}))){if(I=this.tokenizer.space(j)){j=j.substring(I.raw.length),I.raw.length===1&&V.length>0?V[V.length-1].raw+=`
`:V.push(I);continue}if(I=this.tokenizer.code(j)){j=j.substring(I.raw.length),R=V[V.length-1],R&&(R.type==="paragraph"||R.type==="text")?(R.raw+=`
`+I.raw,R.text+=`
`+I.text,this.inlineQueue[this.inlineQueue.length-1].src=R.text):V.push(I);continue}if(I=this.tokenizer.fences(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.heading(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.hr(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.blockquote(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.list(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.html(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.def(j)){j=j.substring(I.raw.length),R=V[V.length-1],R&&(R.type==="paragraph"||R.type==="text")?(R.raw+=`
`+I.raw,R.text+=`
`+I.raw,this.inlineQueue[this.inlineQueue.length-1].src=R.text):this.tokens.links[I.tag]||(this.tokens.links[I.tag]={href:I.href,title:I.title});continue}if(I=this.tokenizer.table(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.lheading(j)){j=j.substring(I.raw.length),V.push(I);continue}if(Q=j,this.options.extensions&&this.options.extensions.startBlock&&function(){var xe=1/0,fe=j.slice(1),le=void 0;he.options.extensions.startBlock.forEach(function(_e){le=_e.call({lexer:this},fe),typeof le=="number"&&le>=0&&(xe=Math.min(xe,le))}),xe<1/0&&xe>=0&&(Q=j.substring(0,xe+1))}(),this.state.top&&(I=this.tokenizer.paragraph(Q))){R=V[V.length-1],re&&R.type==="paragraph"?(R.raw+=`
`+I.raw,R.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=R.text):V.push(I),re=Q.length!==j.length,j=j.substring(I.raw.length);continue}if(I=this.tokenizer.text(j)){j=j.substring(I.raw.length),R=V[V.length-1],R&&R.type==="text"?(R.raw+=`
`+I.raw,R.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=R.text):V.push(I);continue}if(j){var de="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(de);break}else throw new Error(de)}}return this.state.top=!0,V},ke.inline=function(j,V){return V===void 0&&(V=[]),this.inlineQueue.push({src:j,tokens:V}),V},ke.inlineTokens=function(j,V){var he=this;V===void 0&&(V=[]);var I,R,Q,re=j,de,xe,fe;if(this.tokens.links){var le=Object.keys(this.tokens.links);if(le.length>0)for(;(de=this.tokenizer.rules.inline.reflinkSearch.exec(re))!=null;)le.includes(de[0].slice(de[0].lastIndexOf("[")+1,-1))&&(re=re.slice(0,de.index)+"["+mt("a",de[0].length-2)+"]"+re.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(de=this.tokenizer.rules.inline.blockSkip.exec(re))!=null;)re=re.slice(0,de.index)+"["+mt("a",de[0].length-2)+"]"+re.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(de=this.tokenizer.rules.inline.escapedEmSt.exec(re))!=null;)re=re.slice(0,de.index+de[0].length-2)+"++"+re.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;j;)if(xe||(fe=""),xe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ge){return(I=ge.call({lexer:he},j,V))?(j=j.substring(I.raw.length),V.push(I),!0):!1}))){if(I=this.tokenizer.escape(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.tag(j)){j=j.substring(I.raw.length),R=V[V.length-1],R&&I.type==="text"&&R.type==="text"?(R.raw+=I.raw,R.text+=I.text):V.push(I);continue}if(I=this.tokenizer.link(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.reflink(j,this.tokens.links)){j=j.substring(I.raw.length),R=V[V.length-1],R&&I.type==="text"&&R.type==="text"?(R.raw+=I.raw,R.text+=I.text):V.push(I);continue}if(I=this.tokenizer.emStrong(j,re,fe)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.codespan(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.br(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.del(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.autolink(j,rt)){j=j.substring(I.raw.length),V.push(I);continue}if(!this.state.inLink&&(I=this.tokenizer.url(j,rt))){j=j.substring(I.raw.length),V.push(I);continue}if(Q=j,this.options.extensions&&this.options.extensions.startInline&&function(){var ge=1/0,je=j.slice(1),Qe=void 0;he.options.extensions.startInline.forEach(function(et){Qe=et.call({lexer:this},je),typeof Qe=="number"&&Qe>=0&&(ge=Math.min(ge,Qe))}),ge<1/0&&ge>=0&&(Q=j.substring(0,ge+1))}(),I=this.tokenizer.inlineText(Q,yt)){j=j.substring(I.raw.length),I.raw.slice(-1)!=="_"&&(fe=I.raw.slice(-1)),xe=!0,R=V[V.length-1],R&&R.type==="text"?(R.raw+=I.raw,R.text+=I.text):V.push(I);continue}if(j){var _e="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(_e);break}else throw new Error(_e)}}return V},a(Ce,null,[{key:"rules",get:function(){return{block:$,inline:Te}}}]),Ce}(),ni=function(){function Ce(me){this.options=me||l.defaults}var ke=Ce.prototype;return ke.code=function(j,V,he){var I=(V||"").match(/\S*/)[0];if(this.options.highlight){var R=this.options.highlight(j,I);R!=null&&R!==j&&(he=!0,j=R)}return j=j.replace(/\n$/,"")+`
`,I?'<pre><code class="'+this.options.langPrefix+K(I)+'">'+(he?j:K(j,!0))+`</code></pre>
`:"<pre><code>"+(he?j:K(j,!0))+`</code></pre>
`},ke.blockquote=function(j){return`<blockquote>
`+j+`</blockquote>
`},ke.html=function(j){return j},ke.heading=function(j,V,he,I){if(this.options.headerIds){var R=this.options.headerPrefix+I.slug(he);return"<h"+V+' id="'+R+'">'+j+"</h"+V+`>
`}return"<h"+V+">"+j+"</h"+V+`>
`},ke.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ke.list=function(j,V,he){var I=V?"ol":"ul",R=V&&he!==1?' start="'+he+'"':"";return"<"+I+R+`>
`+j+"</"+I+`>
`},ke.listitem=function(j){return"<li>"+j+`</li>
`},ke.checkbox=function(j){return"<input "+(j?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ke.paragraph=function(j){return"<p>"+j+`</p>
`},ke.table=function(j,V){return V&&(V="<tbody>"+V+"</tbody>"),`<table>
<thead>
`+j+`</thead>
`+V+`</table>
`},ke.tablerow=function(j){return`<tr>
`+j+`</tr>
`},ke.tablecell=function(j,V){var he=V.header?"th":"td",I=V.align?"<"+he+' align="'+V.align+'">':"<"+he+">";return I+j+("</"+he+`>
`)},ke.strong=function(j){return"<strong>"+j+"</strong>"},ke.em=function(j){return"<em>"+j+"</em>"},ke.codespan=function(j){return"<code>"+j+"</code>"},ke.br=function(){return this.options.xhtml?"<br/>":"<br>"},ke.del=function(j){return"<del>"+j+"</del>"},ke.link=function(j,V,he){if(j=ve(this.options.sanitize,this.options.baseUrl,j),j===null)return he;var I='<a href="'+j+'"';return V&&(I+=' title="'+V+'"'),I+=">"+he+"</a>",I},ke.image=function(j,V,he){if(j=ve(this.options.sanitize,this.options.baseUrl,j),j===null)return he;var I='<img src="'+j+'" alt="'+he+'"';return V&&(I+=' title="'+V+'"'),I+=this.options.xhtml?"/>":">",I},ke.text=function(j){return j},Ce}(),Vt=function(){function Ce(){}var ke=Ce.prototype;return ke.strong=function(j){return j},ke.em=function(j){return j},ke.codespan=function(j){return j},ke.del=function(j){return j},ke.html=function(j){return j},ke.text=function(j){return j},ke.link=function(j,V,he){return""+he},ke.image=function(j,V,he){return""+he},ke.br=function(){return""},Ce}(),Nt=function(){function Ce(){this.seen={}}var ke=Ce.prototype;return ke.serialize=function(j){return j.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ke.getNextSafeSlug=function(j,V){var he=j,I=0;if(this.seen.hasOwnProperty(he)){I=this.seen[j];do I++,he=j+"-"+I;while(this.seen.hasOwnProperty(he))}return V||(this.seen[j]=I,this.seen[he]=0),he},ke.slug=function(j,V){V===void 0&&(V={});var he=this.serialize(j);return this.getNextSafeSlug(he,V.dryrun)},Ce}(),kt=function(){function Ce(me){this.options=me||l.defaults,this.options.renderer=this.options.renderer||new ni,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Vt,this.slugger=new Nt}Ce.parse=function(j,V){var he=new Ce(V);return he.parse(j)},Ce.parseInline=function(j,V){var he=new Ce(V);return he.parseInline(j)};var ke=Ce.prototype;return ke.parse=function(j,V){V===void 0&&(V=!0);var he="",I,R,Q,re,de,xe,fe,le,_e,ge,je,Qe,et,We,gt,_t,Ct,ft,Wt,jt=j.length;for(I=0;I<jt;I++){if(ge=j[I],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ge.type]&&(Wt=this.options.extensions.renderers[ge.type].call({parser:this},ge),Wt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ge.type))){he+=Wt||"";continue}switch(ge.type){case"space":continue;case"hr":{he+=this.renderer.hr();continue}case"heading":{he+=this.renderer.heading(this.parseInline(ge.tokens),ge.depth,oe(this.parseInline(ge.tokens,this.textRenderer)),this.slugger);continue}case"code":{he+=this.renderer.code(ge.text,ge.lang,ge.escaped);continue}case"table":{for(le="",fe="",re=ge.header.length,R=0;R<re;R++)fe+=this.renderer.tablecell(this.parseInline(ge.header[R].tokens),{header:!0,align:ge.align[R]});for(le+=this.renderer.tablerow(fe),_e="",re=ge.rows.length,R=0;R<re;R++){for(xe=ge.rows[R],fe="",de=xe.length,Q=0;Q<de;Q++)fe+=this.renderer.tablecell(this.parseInline(xe[Q].tokens),{header:!1,align:ge.align[Q]});_e+=this.renderer.tablerow(fe)}he+=this.renderer.table(le,_e);continue}case"blockquote":{_e=this.parse(ge.tokens),he+=this.renderer.blockquote(_e);continue}case"list":{for(je=ge.ordered,Qe=ge.start,et=ge.loose,re=ge.items.length,_e="",R=0;R<re;R++)gt=ge.items[R],_t=gt.checked,Ct=gt.task,We="",gt.task&&(ft=this.renderer.checkbox(_t),et?gt.tokens.length>0&&gt.tokens[0].type==="paragraph"?(gt.tokens[0].text=ft+" "+gt.tokens[0].text,gt.tokens[0].tokens&&gt.tokens[0].tokens.length>0&&gt.tokens[0].tokens[0].type==="text"&&(gt.tokens[0].tokens[0].text=ft+" "+gt.tokens[0].tokens[0].text)):gt.tokens.unshift({type:"text",text:ft}):We+=ft),We+=this.parse(gt.tokens,et),_e+=this.renderer.listitem(We,Ct,_t);he+=this.renderer.list(_e,je,Qe);continue}case"html":{he+=this.renderer.html(ge.text);continue}case"paragraph":{he+=this.renderer.paragraph(this.parseInline(ge.tokens));continue}case"text":{for(_e=ge.tokens?this.parseInline(ge.tokens):ge.text;I+1<jt&&j[I+1].type==="text";)ge=j[++I],_e+=`
`+(ge.tokens?this.parseInline(ge.tokens):ge.text);he+=V?this.renderer.paragraph(_e):_e;continue}default:{var gi='Token with "'+ge.type+'" type was not found.';if(this.options.silent){console.error(gi);return}else throw new Error(gi)}}}return he},ke.parseInline=function(j,V){V=V||this.renderer;var he="",I,R,Q,re=j.length;for(I=0;I<re;I++){if(R=j[I],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[R.type]&&(Q=this.options.extensions.renderers[R.type].call({parser:this},R),Q!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(R.type))){he+=Q||"";continue}switch(R.type){case"escape":{he+=V.text(R.text);break}case"html":{he+=V.html(R.text);break}case"link":{he+=V.link(R.href,R.title,this.parseInline(R.tokens,V));break}case"image":{he+=V.image(R.href,R.title,R.text);break}case"strong":{he+=V.strong(this.parseInline(R.tokens,V));break}case"em":{he+=V.em(this.parseInline(R.tokens,V));break}case"codespan":{he+=V.codespan(R.text);break}case"br":{he+=V.br();break}case"del":{he+=V.del(this.parseInline(R.tokens,V));break}case"text":{he+=V.text(R.text);break}default:{var de='Token with "'+R.type+'" type was not found.';if(this.options.silent){console.error(de);return}else throw new Error(de)}}}return he},Ce}(),Lt=function(){function Ce(me){this.options=me||l.defaults}var ke=Ce.prototype;return ke.preprocess=function(j){return j},ke.postprocess=function(j){return j},Ce}();Lt.passThroughHooks=new Set(["preprocess","postprocess"]);function si(Ce,ke,me){return function(j){if(j.message+=`
Please report this to https://github.com/markedjs/marked.`,Ce){var V="<p>An error occurred:</p><pre>"+K(j.message+"",!0)+"</pre>";if(ke)return Promise.resolve(V);if(me){me(null,V);return}return V}if(ke)return Promise.reject(j);if(me){me(j);return}throw j}}function mi(Ce,ke){return function(me,j,V){typeof j=="function"&&(V=j,j=null);var he=u({},j);j=u({},ut.defaults,he);var I=si(j.silent,j.async,V);if(typeof me>"u"||me===null)return I(new Error("marked(): input parameter is undefined or null"));if(typeof me!="string")return I(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(me)+", string expected"));if(Je(j),j.hooks&&(j.hooks.options=j),V){var R=j.highlight,Q;try{j.hooks&&(me=j.hooks.preprocess(me)),Q=Ce(me,j)}catch(le){return I(le)}var re=function(_e){var ge;if(!_e)try{j.walkTokens&&ut.walkTokens(Q,j.walkTokens),ge=ke(Q,j),j.hooks&&(ge=j.hooks.postprocess(ge))}catch(je){_e=je}return j.highlight=R,_e?I(_e):V(null,ge)};if(!R||R.length<3||(delete j.highlight,!Q.length))return re();var de=0;ut.walkTokens(Q,function(le){le.type==="code"&&(de++,setTimeout(function(){R(le.text,le.lang,function(_e,ge){if(_e)return re(_e);ge!=null&&ge!==le.text&&(le.text=ge,le.escaped=!0),de--,de===0&&re()})},0))}),de===0&&re();return}if(j.async)return Promise.resolve(j.hooks?j.hooks.preprocess(me):me).then(function(le){return Ce(le,j)}).then(function(le){return j.walkTokens?Promise.all(ut.walkTokens(le,j.walkTokens)).then(function(){return le}):le}).then(function(le){return ke(le,j)}).then(function(le){return j.hooks?j.hooks.postprocess(le):le}).catch(I);try{j.hooks&&(me=j.hooks.preprocess(me));var xe=Ce(me,j);j.walkTokens&&ut.walkTokens(xe,j.walkTokens);var fe=ke(xe,j);return j.hooks&&(fe=j.hooks.postprocess(fe)),fe}catch(le){return I(le)}}}function ut(Ce,ke,me){return mi(Qt.lex,kt.parse)(Ce,ke,me)}ut.options=ut.setOptions=function(Ce){return ut.defaults=u({},ut.defaults,Ce),E(ut.defaults),ut},ut.getDefaults=D,ut.defaults=l.defaults,ut.use=function(){for(var Ce=ut.defaults.extensions||{renderers:{},childTokens:{}},ke=arguments.length,me=new Array(ke),j=0;j<ke;j++)me[j]=arguments[j];me.forEach(function(V){var he=u({},V);if(he.async=ut.defaults.async||he.async||!1,V.extensions&&(V.extensions.forEach(function(R){if(!R.name)throw new Error("extension name required");if(R.renderer){var Q=Ce.renderers[R.name];Q?Ce.renderers[R.name]=function(){for(var re=arguments.length,de=new Array(re),xe=0;xe<re;xe++)de[xe]=arguments[xe];var fe=R.renderer.apply(this,de);return fe===!1&&(fe=Q.apply(this,de)),fe}:Ce.renderers[R.name]=R.renderer}if(R.tokenizer){if(!R.level||R.level!=="block"&&R.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Ce[R.level]?Ce[R.level].unshift(R.tokenizer):Ce[R.level]=[R.tokenizer],R.start&&(R.level==="block"?Ce.startBlock?Ce.startBlock.push(R.start):Ce.startBlock=[R.start]:R.level==="inline"&&(Ce.startInline?Ce.startInline.push(R.start):Ce.startInline=[R.start]))}R.childTokens&&(Ce.childTokens[R.name]=R.childTokens)}),he.extensions=Ce),V.renderer&&function(){var R=ut.defaults.renderer||new ni,Q=function(xe){var fe=R[xe];R[xe]=function(){for(var le=arguments.length,_e=new Array(le),ge=0;ge<le;ge++)_e[ge]=arguments[ge];var je=V.renderer[xe].apply(R,_e);return je===!1&&(je=fe.apply(R,_e)),je}};for(var re in V.renderer)Q(re);he.renderer=R}(),V.tokenizer&&function(){var R=ut.defaults.tokenizer||new ue,Q=function(xe){var fe=R[xe];R[xe]=function(){for(var le=arguments.length,_e=new Array(le),ge=0;ge<le;ge++)_e[ge]=arguments[ge];var je=V.tokenizer[xe].apply(R,_e);return je===!1&&(je=fe.apply(R,_e)),je}};for(var re in V.tokenizer)Q(re);he.tokenizer=R}(),V.hooks&&function(){var R=ut.defaults.hooks||new Lt,Q=function(xe){var fe=R[xe];Lt.passThroughHooks.has(xe)?R[xe]=function(le){if(ut.defaults.async)return Promise.resolve(V.hooks[xe].call(R,le)).then(function(ge){return fe.call(R,ge)});var _e=V.hooks[xe].call(R,le);return fe.call(R,_e)}:R[xe]=function(){for(var le=arguments.length,_e=new Array(le),ge=0;ge<le;ge++)_e[ge]=arguments[ge];var je=V.hooks[xe].apply(R,_e);return je===!1&&(je=fe.apply(R,_e)),je}};for(var re in V.hooks)Q(re);he.hooks=R}(),V.walkTokens){var I=ut.defaults.walkTokens;he.walkTokens=function(R){var Q=[];return Q.push(V.walkTokens.call(this,R)),I&&(Q=Q.concat(I.call(this,R))),Q}}ut.setOptions(he)})},ut.walkTokens=function(Ce,ke){for(var me=[],j=function(){var R=he.value;switch(me=me.concat(ke.call(ut,R)),R.type){case"table":{for(var Q=v(R.header),re;!(re=Q()).done;){var de=re.value;me=me.concat(ut.walkTokens(de.tokens,ke))}for(var xe=v(R.rows),fe;!(fe=xe()).done;)for(var le=fe.value,_e=v(le),ge;!(ge=_e()).done;){var je=ge.value;me=me.concat(ut.walkTokens(je.tokens,ke))}break}case"list":{me=me.concat(ut.walkTokens(R.items,ke));break}default:ut.defaults.extensions&&ut.defaults.extensions.childTokens&&ut.defaults.extensions.childTokens[R.type]?ut.defaults.extensions.childTokens[R.type].forEach(function(Qe){me=me.concat(ut.walkTokens(R[Qe],ke))}):R.tokens&&(me=me.concat(ut.walkTokens(R.tokens,ke)))}},V=v(Ce),he;!(he=V()).done;)j();return me},ut.parseInline=mi(Qt.lexInline,kt.parseInline),ut.Parser=kt,ut.parser=kt.parse,ut.Renderer=ni,ut.TextRenderer=Vt,ut.Lexer=Qt,ut.lexer=Qt.lex,ut.Tokenizer=ue,ut.Slugger=Nt,ut.Hooks=Lt,ut.parse=ut;var qi=ut.options,Yi=ut.setOptions,ai=ut.use,An=ut.walkTokens,st=ut.parseInline,ui=ut,ct=kt.parse,hs=Qt.lex;l.Hooks=Lt,l.Lexer=Qt,l.Parser=kt,l.Renderer=ni,l.Slugger=Nt,l.TextRenderer=Vt,l.Tokenizer=ue,l.getDefaults=D,l.lexer=hs,l.marked=ut,l.options=qi,l.parse=ui,l.parseInline=st,l.parser=ct,l.setOptions=Yi,l.use=ai,l.walkTokens=An}(Jf)),Jf}var Qf,p0;function OD(){if(p0)return Qf;p0=1;var l=Jn();bD(),yD(),_D(),Uv(),qv(),CD(),wD(),kD(),SD(),DD(),jv();var s=ID(),a=LD().marked,u=/Mac/.test(navigator.platform),d=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),m={toggleBold:oe,toggleItalic:ne,drawLink:mt,toggleHeadingSmaller:ve,toggleHeadingBigger:De,drawImage:Ht,toggleBlockquote:be,toggleOrderedList:Oe,toggleUnorderedList:Be,toggleCodeBlock:we,togglePreview:Vt,toggleStrikethrough:se,toggleHeading1:Ge,toggleHeading2:Fe,toggleHeading3:Ue,toggleHeading4:nt,toggleHeading5:ot,toggleHeading6:ce,cleanBlock:Je,drawTable:Te,drawHorizontalRule:yt,undo:rt,redo:Qt,toggleSideBySide:ni,toggleFullScreen:X},v={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},x=function(I){for(var R in m)if(m[R]===I)return R;return null},k=function(){var I=!1;return function(R){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(R)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(R.substr(0,4)))&&(I=!0)}(navigator.userAgent||navigator.vendor||window.opera),I};function D(I){for(var R;(R=d.exec(I))!==null;){var Q=R[0];if(Q.indexOf("target=")===-1){var re=Q.replace(/>$/,' target="_blank">');I=I.replace(Q,re)}}return I}function E(I){for(var R=new DOMParser,Q=R.parseFromString(I,"text/html"),re=Q.getElementsByTagName("li"),de=0;de<re.length;de++)for(var xe=re[de],fe=0;fe<xe.children.length;fe++){var le=xe.children[fe];le instanceof HTMLInputElement&&le.type==="checkbox"&&(xe.style.marginLeft="-1.5em",xe.style.listStyleType="none")}return Q.documentElement.innerHTML}function L(I){return u?I=I.replace("Ctrl","Cmd"):I=I.replace("Cmd","Ctrl"),I}function P(I,R,Q,re){var de=H(I,!1,R,Q,"button",re);de.classList.add("easymde-dropdown"),de.onclick=function(){de.focus()};var xe=document.createElement("div");xe.className="easymde-dropdown-content";for(var fe=0;fe<I.children.length;fe++){var le=I.children[fe],_e;typeof le=="string"&&le in ui?_e=H(ui[le],!0,R,Q,"button",re):_e=H(le,!0,R,Q,"button",re),_e.addEventListener("click",function(ge){ge.stopPropagation()},!1),xe.appendChild(_e)}return de.appendChild(xe),de}function H(I,R,Q,re,de,xe){I=I||{};var fe=document.createElement(de);if(I.attributes)for(var le in I.attributes)Object.prototype.hasOwnProperty.call(I.attributes,le)&&fe.setAttribute(le,I.attributes[le]);var _e=xe.options.toolbarButtonClassPrefix?xe.options.toolbarButtonClassPrefix+"-":"";fe.className=_e+I.name,fe.setAttribute("type",de),Q=Q??!0,I.text&&(fe.innerText=I.text),I.name&&I.name in re&&(m[I.name]=I.action),I.title&&Q&&(fe.title=Z(I.title,I.action,re),u&&(fe.title=fe.title.replace("Ctrl","⌘"),fe.title=fe.title.replace("Alt","⌥"))),I.title&&fe.setAttribute("aria-label",I.title),I.noDisable&&fe.classList.add("no-disable"),I.noMobile&&fe.classList.add("no-mobile");var ge=[];typeof I.className<"u"&&(ge=I.className.split(" "));for(var je=[],Qe=0;Qe<ge.length;Qe++){var et=ge[Qe];et.match(/^fa([srlb]|(-[\w-]*)|$)/)?je.push(et):fe.classList.add(et)}if(fe.tabIndex=-1,je.length>0){for(var We=document.createElement("i"),gt=0;gt<je.length;gt++){var _t=je[gt];We.classList.add(_t)}fe.appendChild(We)}return typeof I.icon<"u"&&(fe.innerHTML=I.icon),I.action&&R&&(typeof I.action=="function"?fe.onclick=function(Ct){Ct.preventDefault(),I.action(xe)}:typeof I.action=="string"&&(fe.onclick=function(Ct){Ct.preventDefault(),window.open(I.action,"_blank")})),fe}function U(){var I=document.createElement("i");return I.className="separator",I.innerHTML="|",I}function Z(I,R,Q){var re,de=I;return R&&(re=x(R),Q[re]&&(de+=" ("+L(Q[re])+")")),de}function ee(I,R){R=R||I.getCursor("start");var Q=I.getTokenAt(R);if(!Q.type)return{};for(var re=Q.type.split(" "),de={},xe,fe,le=0;le<re.length;le++)xe=re[le],xe==="strong"?de.bold=!0:xe==="variable-2"?(fe=I.getLine(R.line),/^\s*\d+\.\s/.test(fe)?de["ordered-list"]=!0:de["unordered-list"]=!0):xe==="atom"?de.quote=!0:xe==="em"?de.italic=!0:xe==="quote"?de.quote=!0:xe==="strikethrough"?de.strikethrough=!0:xe==="comment"?de.code=!0:xe==="link"&&!de.image?de.link=!0:xe==="image"?de.image=!0:xe.match(/^header(-[1-6])?$/)&&(de[xe.replace("header","heading")]=!0);return de}var K="";function X(I){var R=I.codemirror;R.setOption("fullScreen",!R.getOption("fullScreen")),R.getOption("fullScreen")?(K=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=K;var Q=R.getWrapperElement(),re=Q.nextSibling;if(re.classList.contains("editor-preview-active-side"))if(I.options.sideBySideFullscreen===!1){var de=Q.parentNode;R.getOption("fullScreen")?de.classList.remove("sided--no-fullscreen"):de.classList.add("sided--no-fullscreen")}else ni(I);if(I.options.onToggleFullScreen&&I.options.onToggleFullScreen(R.getOption("fullScreen")||!1),typeof I.options.maxHeight<"u"&&(R.getOption("fullScreen")?(R.getScrollerElement().style.removeProperty("height"),re.style.removeProperty("height")):(R.getScrollerElement().style.height=I.options.maxHeight,I.setPreviewMaxHeight())),I.toolbar_div.classList.toggle("fullscreen"),I.toolbarElements&&I.toolbarElements.fullscreen){var xe=I.toolbarElements.fullscreen;xe.classList.toggle("active")}}function oe(I){mi(I,"bold",I.options.blockStyles.bold)}function ne(I){mi(I,"italic",I.options.blockStyles.italic)}function se(I){mi(I,"strikethrough","~~")}function we(I){var R=I.options.blockStyles.code;function Q(vi){if(typeof vi!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof vi+": "+vi;return vi.styles&&vi.styles[2]&&vi.styles[2].indexOf("formatting-code-block")!==-1}function re(vi){return vi.state.base.base||vi.state.base}function de(vi,dn,Mn,yn,hn){Mn=Mn||vi.getLineHandle(dn),yn=yn||vi.getTokenAt({line:dn,ch:1}),hn=hn||!!Mn.text&&vi.getTokenAt({line:dn,ch:Mn.text.length-1});var Fs=yn.type?yn.type.split(" "):[];return hn&&re(hn).indentedCode?"indented":Fs.indexOf("comment")===-1?!1:re(yn).fencedChars||re(hn).fencedChars||Q(Mn)?"fenced":"single"}function xe(vi,dn,Mn,yn){var hn=dn.line+1,Fs=Mn.line+1,Is=dn.line!==Mn.line,Ls=yn+`
`,ra=`
`+yn;Is&&Fs++,Is&&Mn.ch===0&&(ra=yn+`
`,Fs--),Nt(vi,!1,[Ls,ra]),vi.setSelection({line:hn,ch:0},{line:Fs,ch:0})}var fe=I.codemirror,le=fe.getCursor("start"),_e=fe.getCursor("end"),ge=fe.getTokenAt({line:le.line,ch:le.ch||1}),je=fe.getLineHandle(le.line),Qe=de(fe,le.line,je,ge),et,We,gt;if(Qe==="single"){var _t=je.text.slice(0,le.ch).replace("`",""),Ct=je.text.slice(le.ch).replace("`","");fe.replaceRange(_t+Ct,{line:le.line,ch:0},{line:le.line,ch:99999999999999}),le.ch--,le!==_e&&_e.ch--,fe.setSelection(le,_e),fe.focus()}else if(Qe==="fenced")if(le.line!==_e.line||le.ch!==_e.ch){for(et=le.line;et>=0&&(je=fe.getLineHandle(et),!Q(je));et--);var ft=fe.getTokenAt({line:et,ch:1}),Wt=re(ft).fencedChars,jt,gi,Qi,Gi;Q(fe.getLineHandle(le.line))?(jt="",gi=le.line):Q(fe.getLineHandle(le.line-1))?(jt="",gi=le.line-1):(jt=Wt+`
`,gi=le.line),Q(fe.getLineHandle(_e.line))?(Qi="",Gi=_e.line,_e.ch===0&&(Gi+=1)):_e.ch!==0&&Q(fe.getLineHandle(_e.line+1))?(Qi="",Gi=_e.line+1):(Qi=Wt+`
`,Gi=_e.line+1),_e.ch===0&&(Gi-=1),fe.operation(function(){fe.replaceRange(Qi,{line:Gi,ch:0},{line:Gi+(Qi?0:1),ch:0}),fe.replaceRange(jt,{line:gi,ch:0},{line:gi+(jt?0:1),ch:0})}),fe.setSelection({line:gi+(jt?1:0),ch:0},{line:Gi+(jt?1:-1),ch:0}),fe.focus()}else{var sa=le.line;if(Q(fe.getLineHandle(le.line))&&(de(fe,le.line+1)==="fenced"?(et=le.line,sa=le.line+1):(We=le.line,sa=le.line-1)),et===void 0)for(et=sa;et>=0&&(je=fe.getLineHandle(et),!Q(je));et--);if(We===void 0)for(gt=fe.lineCount(),We=sa;We<gt&&(je=fe.getLineHandle(We),!Q(je));We++);fe.operation(function(){fe.replaceRange("",{line:et,ch:0},{line:et+1,ch:0}),fe.replaceRange("",{line:We-1,ch:0},{line:We,ch:0})}),fe.focus()}else if(Qe==="indented"){if(le.line!==_e.line||le.ch!==_e.ch)et=le.line,We=_e.line,_e.ch===0&&We--;else{for(et=le.line;et>=0;et--)if(je=fe.getLineHandle(et),!je.text.match(/^\s*$/)&&de(fe,et,je)!=="indented"){et+=1;break}for(gt=fe.lineCount(),We=le.line;We<gt;We++)if(je=fe.getLineHandle(We),!je.text.match(/^\s*$/)&&de(fe,We,je)!=="indented"){We-=1;break}}var aa=fe.getLineHandle(We+1),Tr=aa&&fe.getTokenAt({line:We+1,ch:aa.text.length-1}),Qn=Tr&&re(Tr).indentedCode;Qn&&fe.replaceRange(`
`,{line:We+1,ch:0});for(var za=et;za<=We;za++)fe.indentLine(za,"subtract");fe.focus()}else{var Ha=le.line===_e.line&&le.ch===_e.ch&&le.ch===0,ll=le.line!==_e.line;Ha||ll?xe(fe,le,_e,R):Nt(fe,!1,["`","`"])}}function be(I){Lt(I.codemirror,"quote")}function ve(I){kt(I.codemirror,"smaller")}function De(I){kt(I.codemirror,"bigger")}function Ge(I){kt(I.codemirror,void 0,1)}function Fe(I){kt(I.codemirror,void 0,2)}function Ue(I){kt(I.codemirror,void 0,3)}function nt(I){kt(I.codemirror,void 0,4)}function ot(I){kt(I.codemirror,void 0,5)}function ce(I){kt(I.codemirror,void 0,6)}function Be(I){var R=I.codemirror,Q="*";["-","+","*"].includes(I.options.unorderedListStyle)&&(Q=I.options.unorderedListStyle),Lt(R,"unordered-list",Q)}function Oe(I){Lt(I.codemirror,"ordered-list")}function Je(I){ut(I.codemirror)}function mt(I){var R=I.options,Q="https://";if(R.promptURLs){var re=prompt(R.promptTexts.link,Q);if(!re)return!1;Q=Ji(re)}si(I,"link",R.insertTexts.link,Q)}function Ht(I){var R=I.options,Q="https://";if(R.promptURLs){var re=prompt(R.promptTexts.image,Q);if(!re)return!1;Q=Ji(re)}si(I,"image",R.insertTexts.image,Q)}function Ji(I){return encodeURI(I).replace(/([\\()])/g,"\\$1")}function ue(I){I.openBrowseFileWindow()}function $(I,R){var Q=I.codemirror,re=ee(Q),de=I.options,xe=R.substr(R.lastIndexOf("/")+1),fe=xe.substring(xe.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(fe))Nt(Q,re.image,de.insertTexts.uploadedImage,R);else{var le=de.insertTexts.link;le[0]="["+xe,Nt(Q,re.link,le,R)}I.updateStatusBar("upload-image",I.options.imageTexts.sbOnUploaded.replace("#image_name#",xe)),setTimeout(function(){I.updateStatusBar("upload-image",I.options.imageTexts.sbInit)},1e3)}function Te(I){var R=I.codemirror,Q=ee(R),re=I.options;Nt(R,Q.table,re.insertTexts.table)}function yt(I){var R=I.codemirror,Q=ee(R),re=I.options;Nt(R,Q.image,re.insertTexts.horizontalRule)}function rt(I){var R=I.codemirror;R.undo(),R.focus()}function Qt(I){var R=I.codemirror;R.redo(),R.focus()}function ni(I){var R=I.codemirror,Q=R.getWrapperElement(),re=Q.nextSibling,de=I.toolbarElements&&I.toolbarElements["side-by-side"],xe=!1,fe=Q.parentNode;re.classList.contains("editor-preview-active-side")?(I.options.sideBySideFullscreen===!1&&fe.classList.remove("sided--no-fullscreen"),re.classList.remove("editor-preview-active-side"),de&&de.classList.remove("active"),Q.classList.remove("CodeMirror-sided")):(setTimeout(function(){R.getOption("fullScreen")||(I.options.sideBySideFullscreen===!1?fe.classList.add("sided--no-fullscreen"):X(I)),re.classList.add("editor-preview-active-side")},1),de&&de.classList.add("active"),Q.classList.add("CodeMirror-sided"),xe=!0);var le=Q.lastChild;if(le.classList.contains("editor-preview-active")){le.classList.remove("editor-preview-active");var _e=I.toolbarElements.preview,ge=I.toolbar_div;_e.classList.remove("active"),ge.classList.remove("disabled-for-preview")}var je=function(){var et=I.options.previewRender(I.value(),re);et!=null&&(re.innerHTML=et)};if(R.sideBySideRenderingFunction||(R.sideBySideRenderingFunction=je),xe){var Qe=I.options.previewRender(I.value(),re);Qe!=null&&(re.innerHTML=Qe),R.on("update",R.sideBySideRenderingFunction)}else R.off("update",R.sideBySideRenderingFunction);R.refresh()}function Vt(I){var R=I.codemirror,Q=R.getWrapperElement(),re=I.toolbar_div,de=I.options.toolbar?I.toolbarElements.preview:!1,xe=Q.lastChild,fe=R.getWrapperElement().nextSibling;if(fe.classList.contains("editor-preview-active-side")&&ni(I),!xe||!xe.classList.contains("editor-preview-full")){if(xe=document.createElement("div"),xe.className="editor-preview-full",I.options.previewClass)if(Array.isArray(I.options.previewClass))for(var le=0;le<I.options.previewClass.length;le++)xe.classList.add(I.options.previewClass[le]);else typeof I.options.previewClass=="string"&&xe.classList.add(I.options.previewClass);Q.appendChild(xe)}xe.classList.contains("editor-preview-active")?(xe.classList.remove("editor-preview-active"),de&&(de.classList.remove("active"),re.classList.remove("disabled-for-preview"))):(setTimeout(function(){xe.classList.add("editor-preview-active")},1),de&&(de.classList.add("active"),re.classList.add("disabled-for-preview")));var _e=I.options.previewRender(I.value(),xe);_e!==null&&(xe.innerHTML=_e)}function Nt(I,R,Q,re){if(!I.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var de,xe=Q[0],fe=Q[1],le={},_e={};Object.assign(le,I.getCursor("start")),Object.assign(_e,I.getCursor("end")),re&&(xe=xe.replace("#url#",re),fe=fe.replace("#url#",re)),R?(de=I.getLine(le.line),xe=de.slice(0,le.ch),fe=de.slice(le.ch),I.replaceRange(xe+fe,{line:le.line,ch:0})):(de=I.getSelection(),I.replaceSelection(xe+de+fe),le.ch+=xe.length,le!==_e&&(_e.ch+=xe.length)),I.setSelection(le,_e),I.focus()}}function kt(I,R,Q){if(!I.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var re=I.getCursor("start"),de=I.getCursor("end"),xe=re.line;xe<=de.line;xe++)(function(fe){var le=I.getLine(fe),_e=le.search(/[^#]/);R!==void 0?_e<=0?R=="bigger"?le="###### "+le:le="# "+le:_e==6&&R=="smaller"?le=le.substr(7):_e==1&&R=="bigger"?le=le.substr(2):R=="bigger"?le=le.substr(1):le="#"+le:_e<=0?le="#".repeat(Q)+" "+le:_e==Q?le=le.substr(_e+1):le="#".repeat(Q)+" "+le.substr(_e+1),I.replaceRange(le,{line:fe,ch:0},{line:fe,ch:99999999999999})})(xe);I.focus()}}function Lt(I,R,Q){if(!I.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var re=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,de=/^\s*/,xe=ee(I),fe=I.getCursor("start"),le=I.getCursor("end"),_e={quote:/^(\s*)>\s+/,"unordered-list":re,"ordered-list":re},ge=function(gt,_t){var Ct={quote:">","unordered-list":Q,"ordered-list":"%%i."};return Ct[gt].replace("%%i",_t)},je=function(gt,_t){var Ct={quote:">","unordered-list":"\\"+Q,"ordered-list":"\\d+."},ft=new RegExp(Ct[gt]);return _t&&ft.test(_t)},Qe=function(gt,_t,Ct){var ft=re.exec(_t),Wt=ge(gt,et);return ft!==null?(je(gt,ft[2])&&(Wt=""),_t=ft[1]+Wt+ft[3]+_t.replace(de,"").replace(_e[gt],"$1")):Ct==!1&&(_t=Wt+" "+_t),_t},et=1,We=fe.line;We<=le.line;We++)(function(gt){var _t=I.getLine(gt);xe[R]?_t=_t.replace(_e[R],"$1"):(R=="unordered-list"&&(_t=Qe("ordered-list",_t,!0)),_t=Qe(R,_t,!1),et+=1),I.replaceRange(_t,{line:gt,ch:0},{line:gt,ch:99999999999999})})(We);I.focus()}}function si(I,R,Q,re){if(!(!I.codemirror||I.isPreviewActive())){var de=I.codemirror,xe=ee(de),fe=xe[R];if(!fe){Nt(de,fe,Q,re);return}var le=de.getCursor("start"),_e=de.getCursor("end"),ge=de.getLine(le.line),je=ge.slice(0,le.ch),Qe=ge.slice(le.ch);R=="link"?je=je.replace(/(.*)[^!]\[/,"$1"):R=="image"&&(je=je.replace(/(.*)!\[$/,"$1")),Qe=Qe.replace(/]\(.*?\)/,""),de.replaceRange(je+Qe,{line:le.line,ch:0},{line:le.line,ch:99999999999999}),le.ch-=Q[0].length,le!==_e&&(_e.ch-=Q[0].length),de.setSelection(le,_e),de.focus()}}function mi(I,R,Q,re){if(!(!I.codemirror||I.isPreviewActive())){re=typeof re>"u"?Q:re;var de=I.codemirror,xe=ee(de),fe,le=Q,_e=re,ge=de.getCursor("start"),je=de.getCursor("end");xe[R]?(fe=de.getLine(ge.line),le=fe.slice(0,ge.ch),_e=fe.slice(ge.ch),R=="bold"?(le=le.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),_e=_e.replace(/(\*\*|__)/,"")):R=="italic"?(le=le.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),_e=_e.replace(/(\*|_)/,"")):R=="strikethrough"&&(le=le.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),_e=_e.replace(/(\*\*|~~)/,"")),de.replaceRange(le+_e,{line:ge.line,ch:0},{line:ge.line,ch:99999999999999}),R=="bold"||R=="strikethrough"?(ge.ch-=2,ge!==je&&(je.ch-=2)):R=="italic"&&(ge.ch-=1,ge!==je&&(je.ch-=1))):(fe=de.getSelection(),R=="bold"?(fe=fe.split("**").join(""),fe=fe.split("__").join("")):R=="italic"?(fe=fe.split("*").join(""),fe=fe.split("_").join("")):R=="strikethrough"&&(fe=fe.split("~~").join("")),de.replaceSelection(le+fe+_e),ge.ch+=Q.length,je.ch=ge.ch+fe.length),de.setSelection(ge,je),de.focus()}}function ut(I){if(!I.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var R=I.getCursor("start"),Q=I.getCursor("end"),re,de=R.line;de<=Q.line;de++)re=I.getLine(de),re=re.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),I.replaceRange(re,{line:de,ch:0},{line:de,ch:99999999999999})}function qi(I,R){if(Math.abs(I)<1024)return""+I+R[0];var Q=0;do I/=1024,++Q;while(Math.abs(I)>=1024&&Q<R.length);return""+I.toFixed(1)+R[Q]}function Yi(I,R){for(var Q in R)Object.prototype.hasOwnProperty.call(R,Q)&&(R[Q]instanceof Array?I[Q]=R[Q].concat(I[Q]instanceof Array?I[Q]:[]):R[Q]!==null&&typeof R[Q]=="object"&&R[Q].constructor===Object?I[Q]=Yi(I[Q]||{},R[Q]):I[Q]=R[Q]);return I}function ai(I){for(var R=1;R<arguments.length;R++)I=Yi(I,arguments[R]);return I}function An(I){var R=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,Q=I.match(R),re=0;if(Q===null)return re;for(var de=0;de<Q.length;de++)Q[de].charCodeAt(0)>=19968?re+=Q[de].length:re+=1;return re}var st={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},ui={bold:{name:"bold",action:oe,className:st.bold,title:"Bold",default:!0},italic:{name:"italic",action:ne,className:st.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:se,className:st.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:ve,className:st.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:ve,className:st["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:De,className:st["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Ge,className:st["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Fe,className:st["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:Ue,className:st["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:we,className:st.code,title:"Code"},quote:{name:"quote",action:be,className:st.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:Be,className:st["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Oe,className:st["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:Je,className:st["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:mt,className:st.link,title:"Create Link",default:!0},image:{name:"image",action:Ht,className:st.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:ue,className:st["upload-image"],title:"Import an image"},table:{name:"table",action:Te,className:st.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:yt,className:st["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Vt,className:st.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:ni,className:st["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:X,className:st.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:st.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:rt,className:st.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:Qt,className:st.redo,noDisable:!0,title:"Redo"}},ct={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},hs={link:"URL for the link:",image:"URL of the image:"},Ce={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},ke={bold:"**",code:"```",italic:"*"},me={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},j={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function V(I){I=I||{},I.parent=this;var R=!0;if(I.autoDownloadFontAwesome===!1&&(R=!1),I.autoDownloadFontAwesome!==!0)for(var Q=document.styleSheets,re=0;re<Q.length;re++)Q[re].href&&Q[re].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(R=!1);if(R){var de=document.createElement("link");de.rel="stylesheet",de.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(de)}if(I.element)this.element=I.element;else if(I.element===null){console.log("EasyMDE: Error. No element was found.");return}if(I.toolbar===void 0){I.toolbar=[];for(var xe in ui)Object.prototype.hasOwnProperty.call(ui,xe)&&(xe.indexOf("separator-")!=-1&&I.toolbar.push("|"),(ui[xe].default===!0||I.showIcons&&I.showIcons.constructor===Array&&I.showIcons.indexOf(xe)!=-1)&&I.toolbar.push(xe))}if(Object.prototype.hasOwnProperty.call(I,"previewClass")||(I.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(I,"status")||(I.status=["autosave","lines","words","cursor"],I.uploadImage&&I.status.unshift("upload-image")),I.previewRender||(I.previewRender=function(le){return this.parent.markdown(le)}),I.parsingConfig=ai({highlightFormatting:!0},I.parsingConfig||{}),I.insertTexts=ai({},ct,I.insertTexts||{}),I.promptTexts=ai({},hs,I.promptTexts||{}),I.blockStyles=ai({},ke,I.blockStyles||{}),I.autosave!=null&&(I.autosave.timeFormat=ai({},Ce,I.autosave.timeFormat||{})),I.iconClassMap=ai({},st,I.iconClassMap||{}),I.shortcuts=ai({},v,I.shortcuts||{}),I.maxHeight=I.maxHeight||void 0,I.direction=I.direction||"ltr",typeof I.maxHeight<"u"?I.minHeight=I.maxHeight:I.minHeight=I.minHeight||"300px",I.errorCallback=I.errorCallback||function(le){alert(le)},I.uploadImage=I.uploadImage||!1,I.imageMaxSize=I.imageMaxSize||2097152,I.imageAccept=I.imageAccept||"image/png, image/jpeg, image/gif, image/avif",I.imageTexts=ai({},me,I.imageTexts||{}),I.errorMessages=ai({},j,I.errorMessages||{}),I.imagePathAbsolute=I.imagePathAbsolute||!1,I.imageCSRFName=I.imageCSRFName||"csrfmiddlewaretoken",I.imageCSRFHeader=I.imageCSRFHeader||!1,I.imageInputName=I.imageInputName||"image",I.autosave!=null&&I.autosave.unique_id!=null&&I.autosave.unique_id!=""&&(I.autosave.uniqueId=I.autosave.unique_id),I.overlayMode&&I.overlayMode.combine===void 0&&(I.overlayMode.combine=!0),this.options=I,this.render(),I.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(I.initialValue),I.uploadImage){var fe=this;this.codemirror.on("dragenter",function(le,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbOnDragEnter),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("dragend",function(le,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbInit),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("dragleave",function(le,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbInit),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("dragover",function(le,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbOnDragEnter),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("drop",function(le,_e){_e.stopPropagation(),_e.preventDefault(),I.imageUploadFunction?fe.uploadImagesUsingCustomFunction(I.imageUploadFunction,_e.dataTransfer.files):fe.uploadImages(_e.dataTransfer.files)}),this.codemirror.on("paste",function(le,_e){I.imageUploadFunction?fe.uploadImagesUsingCustomFunction(I.imageUploadFunction,_e.clipboardData.files):fe.uploadImages(_e.clipboardData.files)})}}V.prototype.uploadImages=function(I,R,Q){if(I.length!==0){for(var re=[],de=0;de<I.length;de++)re.push(I[de].name),this.uploadImage(I[de],R,Q);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",re.join(", ")))}},V.prototype.uploadImagesUsingCustomFunction=function(I,R){if(R.length!==0){for(var Q=[],re=0;re<R.length;re++)Q.push(R[re].name),this.uploadImageUsingCustomFunction(I,R[re]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",Q.join(", ")))}},V.prototype.updateStatusBar=function(I,R){if(this.gui.statusbar){var Q=this.gui.statusbar.getElementsByClassName(I);Q.length===1?this.gui.statusbar.getElementsByClassName(I)[0].textContent=R:Q.length===0?console.log("EasyMDE: status bar item "+I+" was not found."):console.log("EasyMDE: Several status bar items named "+I+" was found.")}},V.prototype.markdown=function(I){if(a){var R;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?R=this.options.renderingConfig.markedOptions:R={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?R.breaks=!1:R.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var Q=this.options.renderingConfig.hljs||window.hljs;Q&&(R.highlight=function(de,xe){return xe&&Q.getLanguage(xe)?Q.highlight(xe,de).value:Q.highlightAuto(de).value})}a.use(R);var re=a.parse(I);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(re=this.options.renderingConfig.sanitizerFunction.call(this,re)),re=D(re),re=E(re),re}},V.prototype.render=function(I){if(I||(I=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===I)return;this.element=I;var R=this.options,Q=this,re={};for(var de in R.shortcuts)R.shortcuts[de]!==null&&m[de]!==null&&function(Ct){re[L(R.shortcuts[Ct])]=function(){var ft=m[Ct];typeof ft=="function"?ft(Q):typeof ft=="string"&&window.open(ft,"_blank")}}(de);re.Enter="newlineAndIndentContinueMarkdownList",re.Tab="tabAndIndentMarkdownList",re["Shift-Tab"]="shiftTabAndUnindentMarkdownList",re.Esc=function(Ct){Ct.getOption("fullScreen")&&X(Q)},this.documentOnKeyDown=function(Ct){Ct=Ct||window.event,Ct.keyCode==27&&Q.codemirror.getOption("fullScreen")&&X(Q)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var xe,fe;R.overlayMode?(l.defineMode("overlay-mode",function(Ct){return l.overlayMode(l.getMode(Ct,R.spellChecker!==!1?"spell-checker":"gfm"),R.overlayMode.mode,R.overlayMode.combine)}),xe="overlay-mode",fe=R.parsingConfig,fe.gitHubSpice=!1):(xe=R.parsingConfig,xe.name="gfm",xe.gitHubSpice=!1),R.spellChecker!==!1&&(xe="spell-checker",fe=R.parsingConfig,fe.name="gfm",fe.gitHubSpice=!1,typeof R.spellChecker=="function"?R.spellChecker({codeMirrorInstance:l}):s({codeMirrorInstance:l}));function le(Ct,ft,Wt){return{addNew:!1}}if(this.codemirror=l.fromTextArea(I,{mode:xe,backdrop:fe,theme:R.theme!=null?R.theme:"easymde",tabSize:R.tabSize!=null?R.tabSize:2,indentUnit:R.tabSize!=null?R.tabSize:2,indentWithTabs:R.indentWithTabs!==!1,lineNumbers:R.lineNumbers===!0,autofocus:R.autofocus===!0,extraKeys:re,direction:R.direction,lineWrapping:R.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:R.placeholder||I.getAttribute("placeholder")||"",styleSelectedText:R.styleSelectedText!=null?R.styleSelectedText:!k(),scrollbarStyle:R.scrollbarStyle!=null?R.scrollbarStyle:"native",configureMouse:le,inputStyle:R.inputStyle!=null?R.inputStyle:k()?"contenteditable":"textarea",spellcheck:R.nativeSpellcheck!=null?R.nativeSpellcheck:!0,autoRefresh:R.autoRefresh!=null?R.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=R.minHeight,typeof R.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=R.maxHeight),R.forceSync===!0){var _e=this.codemirror;_e.on("change",function(){_e.save()})}this.gui={};var ge=document.createElement("div");ge.classList.add("EasyMDEContainer"),ge.setAttribute("role","application");var je=this.codemirror.getWrapperElement();je.parentNode.insertBefore(ge,je),ge.appendChild(je),R.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),R.status!==!1&&(this.gui.statusbar=this.createStatusbar()),R.autosave!=null&&R.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(Q._autosave_timeout),Q._autosave_timeout=setTimeout(function(){Q.autosave()},Q.options.autosave.submit_delay||Q.options.autosave.delay||1e3)}));function Qe(Ct,ft){var Wt,jt=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return Ct<jt?Wt=ft+"px":Wt=ft/Ct*100+"%",Wt}var et=this;function We(Ct,ft){var Wt=new URL(ft.url,document.baseURI).href;Ct.setAttribute("data-img-src",Wt),Ct.setAttribute("style","--bg-image:url("+Wt+");--width:"+ft.naturalWidth+"px;--height:"+Qe(ft.naturalWidth,ft.naturalHeight)),et.codemirror.setSize()}function gt(){R.previewImagesInEditor&&ge.querySelectorAll(".cm-image-marker").forEach(function(Ct){var ft=Ct.parentElement;if(ft.innerText.match(/^!\[.*?\]\(.*\)/g)&&!ft.hasAttribute("data-img-src")){var Wt=ft.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),Wt&&Wt.length>=2){var jt=Wt[1];if(R.imagesPreviewHandler){var gi=R.imagesPreviewHandler(Wt[1]);typeof gi=="string"&&(jt=gi)}if(window.EMDEimagesCache[jt])We(ft,window.EMDEimagesCache[jt]);else{window.EMDEimagesCache[jt]={};var Qi=document.createElement("img");Qi.onload=function(){window.EMDEimagesCache[jt]={naturalWidth:Qi.naturalWidth,naturalHeight:Qi.naturalHeight,url:jt},We(ft,window.EMDEimagesCache[jt])},Qi.src=jt}}}})}this.codemirror.on("update",function(){gt()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(R.autofocus===!0||I.autofocus)&&this.codemirror.focus();var _t=this.codemirror;setTimeout((function(){_t.refresh()}).bind(_t),0)},V.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function he(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return V.prototype.autosave=function(){if(he()){var I=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(I.element.form!=null&&I.element.form!=null&&I.element.form.addEventListener("submit",function(){clearTimeout(I.autosaveTimeoutId),I.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+I.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var R=I.value();R!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,R):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var Q=document.getElementById("autosaved");if(Q!=null&&Q!=null&&Q!=""){var re=new Date,de=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(re),xe=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;Q.innerHTML=xe+de}}else console.log("EasyMDE: localStorage not available, cannot autosave")},V.prototype.clearAutosavedValue=function(){if(he()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},V.prototype.openBrowseFileWindow=function(I,R){var Q=this,re=this.gui.toolbar.getElementsByClassName("imageInput")[0];re.click();function de(xe){Q.options.imageUploadFunction?Q.uploadImagesUsingCustomFunction(Q.options.imageUploadFunction,xe.target.files):Q.uploadImages(xe.target.files,I,R),re.removeEventListener("change",de)}re.addEventListener("change",de)},V.prototype.uploadImage=function(I,R,Q){var re=this;R=R||function(ge){$(re,ge)};function de(_e){re.updateStatusBar("upload-image",_e),setTimeout(function(){re.updateStatusBar("upload-image",re.options.imageTexts.sbInit)},1e4),Q&&typeof Q=="function"&&Q(_e),re.options.errorCallback(_e)}function xe(_e){var ge=re.options.imageTexts.sizeUnits.split(",");return _e.replace("#image_name#",I.name).replace("#image_size#",qi(I.size,ge)).replace("#image_max_size#",qi(re.options.imageMaxSize,ge))}if(I.size>this.options.imageMaxSize){de(xe(this.options.errorMessages.fileTooLarge));return}var fe=new FormData;fe.append("image",I),re.options.imageCSRFToken&&!re.options.imageCSRFHeader&&fe.append(re.options.imageCSRFName,re.options.imageCSRFToken);var le=new XMLHttpRequest;le.upload.onprogress=function(_e){if(_e.lengthComputable){var ge=""+Math.round(_e.loaded*100/_e.total);re.updateStatusBar("upload-image",re.options.imageTexts.sbProgress.replace("#file_name#",I.name).replace("#progress#",ge))}},le.open("POST",this.options.imageUploadEndpoint),re.options.imageCSRFToken&&re.options.imageCSRFHeader&&le.setRequestHeader(re.options.imageCSRFName,re.options.imageCSRFToken),le.onload=function(){try{var _e=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),de(xe(re.options.errorMessages.importError));return}this.status===200&&_e&&!_e.error&&_e.data&&_e.data.filePath?R((re.options.imagePathAbsolute?"":window.location.origin+"/")+_e.data.filePath):_e.error&&_e.error in re.options.errorMessages?de(xe(re.options.errorMessages[_e.error])):_e.error?de(xe(_e.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),de(xe(re.options.errorMessages.importError)))},le.onerror=function(_e){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+_e.target.status+" ("+_e.target.statusText+")"),de(re.options.errorMessages.importError)},le.send(fe)},V.prototype.uploadImageUsingCustomFunction=function(I,R){var Q=this;function re(fe){$(Q,fe)}function de(fe){var le=xe(fe);Q.updateStatusBar("upload-image",le),setTimeout(function(){Q.updateStatusBar("upload-image",Q.options.imageTexts.sbInit)},1e4),Q.options.errorCallback(le)}function xe(fe){var le=Q.options.imageTexts.sizeUnits.split(",");return fe.replace("#image_name#",R.name).replace("#image_size#",qi(R.size,le)).replace("#image_max_size#",qi(Q.options.imageMaxSize,le))}I.apply(this,[R,re,de])},V.prototype.setPreviewMaxHeight=function(){var I=this.codemirror,R=I.getWrapperElement(),Q=R.nextSibling,re=parseInt(window.getComputedStyle(R).paddingTop),de=parseInt(window.getComputedStyle(R).borderTopWidth),xe=parseInt(this.options.maxHeight),fe=xe+re*2+de*2,le=fe.toString()+"px";Q.style.height=le},V.prototype.createSideBySide=function(){var I=this.codemirror,R=I.getWrapperElement(),Q=R.nextSibling;if(!Q||!Q.classList.contains("editor-preview-side")){if(Q=document.createElement("div"),Q.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var re=0;re<this.options.previewClass.length;re++)Q.classList.add(this.options.previewClass[re]);else typeof this.options.previewClass=="string"&&Q.classList.add(this.options.previewClass);R.parentNode.insertBefore(Q,R.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return Q;var de=!1,xe=!1;return I.on("scroll",function(fe){if(de){de=!1;return}xe=!0;var le=fe.getScrollInfo().height-fe.getScrollInfo().clientHeight,_e=parseFloat(fe.getScrollInfo().top)/le,ge=(Q.scrollHeight-Q.clientHeight)*_e;Q.scrollTop=ge}),Q.onscroll=function(){if(xe){xe=!1;return}de=!0;var fe=Q.scrollHeight-Q.clientHeight,le=parseFloat(Q.scrollTop)/fe,_e=(I.getScrollInfo().height-I.getScrollInfo().clientHeight)*le;I.scrollTo(0,_e)},Q},V.prototype.createToolbar=function(I){if(I=I||this.options.toolbar,!(!I||I.length===0)){var R;for(R=0;R<I.length;R++)ui[I[R]]!=null&&(I[R]=ui[I[R]]);var Q=document.createElement("div");Q.className="editor-toolbar",Q.setAttribute("role","toolbar");var re=this,de={};for(re.toolbar=I,R=0;R<I.length;R++)if(!(I[R].name=="guide"&&re.options.toolbarGuideIcon===!1)&&!(re.options.hideIcons&&re.options.hideIcons.indexOf(I[R].name)!=-1)&&!((I[R].name=="fullscreen"||I[R].name=="side-by-side")&&k())){if(I[R]==="|"){for(var xe=!1,fe=R+1;fe<I.length;fe++)I[fe]!=="|"&&(!re.options.hideIcons||re.options.hideIcons.indexOf(I[fe].name)==-1)&&(xe=!0);if(!xe)continue}(function(ge){var je;if(ge==="|"?je=U():ge.children?je=P(ge,re.options.toolbarTips,re.options.shortcuts,re):je=H(ge,!0,re.options.toolbarTips,re.options.shortcuts,"button",re),de[ge.name||ge]=je,Q.appendChild(je),ge.name==="upload-image"){var Qe=document.createElement("input");Qe.className="imageInput",Qe.type="file",Qe.multiple=!0,Qe.name=re.options.imageInputName,Qe.accept=re.options.imageAccept,Qe.style.display="none",Qe.style.opacity=0,Q.appendChild(Qe)}})(I[R])}re.toolbar_div=Q,re.toolbarElements=de;var le=this.codemirror;le.on("cursorActivity",function(){var ge=ee(le);for(var je in de)(function(Qe){var et=de[Qe];ge[Qe]?et.classList.add("active"):Qe!="fullscreen"&&Qe!="side-by-side"&&et.classList.remove("active")})(je)});var _e=le.getWrapperElement();return _e.parentNode.insertBefore(Q,_e),Q}},V.prototype.createStatusbar=function(I){I=I||this.options.status;var R=this.options,Q=this.codemirror;if(!(!I||I.length===0)){var re=[],de,xe,fe,le;for(de=0;de<I.length;de++)if(xe=void 0,fe=void 0,le=void 0,typeof I[de]=="object")re.push({className:I[de].className,defaultValue:I[de].defaultValue,onUpdate:I[de].onUpdate,onActivity:I[de].onActivity});else{var _e=I[de];_e==="words"?(le=function(We){We.innerHTML=An(Q.getValue())},xe=function(We){We.innerHTML=An(Q.getValue())}):_e==="lines"?(le=function(We){We.innerHTML=Q.lineCount()},xe=function(We){We.innerHTML=Q.lineCount()}):_e==="cursor"?(le=function(We){We.innerHTML="1:1"},fe=function(We){var gt=Q.getCursor(),_t=gt.line+1,Ct=gt.ch+1;We.innerHTML=_t+":"+Ct}):_e==="autosave"?le=function(We){R.autosave!=null&&R.autosave.enabled===!0&&We.setAttribute("id","autosaved")}:_e==="upload-image"&&(le=function(We){We.innerHTML=R.imageTexts.sbInit}),re.push({className:_e,defaultValue:le,onUpdate:xe,onActivity:fe})}var ge=document.createElement("div");for(ge.className="editor-statusbar",de=0;de<re.length;de++){var je=re[de],Qe=document.createElement("span");Qe.className=je.className,typeof je.defaultValue=="function"&&je.defaultValue(Qe),typeof je.onUpdate=="function"&&this.codemirror.on("update",function(We,gt){return function(){gt.onUpdate(We)}}(Qe,je)),typeof je.onActivity=="function"&&this.codemirror.on("cursorActivity",function(We,gt){return function(){gt.onActivity(We)}}(Qe,je)),ge.appendChild(Qe)}var et=this.codemirror.getWrapperElement();return et.parentNode.insertBefore(ge,et.nextSibling),ge}},V.prototype.value=function(I){var R=this.codemirror;if(I===void 0)return R.getValue();if(R.getDoc().setValue(I),this.isPreviewActive()){var Q=R.getWrapperElement(),re=Q.lastChild,de=this.options.previewRender(I,re);de!==null&&(re.innerHTML=de)}return this},V.toggleBold=oe,V.toggleItalic=ne,V.toggleStrikethrough=se,V.toggleBlockquote=be,V.toggleHeadingSmaller=ve,V.toggleHeadingBigger=De,V.toggleHeading1=Ge,V.toggleHeading2=Fe,V.toggleHeading3=Ue,V.toggleHeading4=nt,V.toggleHeading5=ot,V.toggleHeading6=ce,V.toggleCodeBlock=we,V.toggleUnorderedList=Be,V.toggleOrderedList=Oe,V.cleanBlock=Je,V.drawLink=mt,V.drawImage=Ht,V.drawUploadedImage=ue,V.drawTable=Te,V.drawHorizontalRule=yt,V.undo=rt,V.redo=Qt,V.togglePreview=Vt,V.toggleSideBySide=ni,V.toggleFullScreen=X,V.prototype.toggleBold=function(){oe(this)},V.prototype.toggleItalic=function(){ne(this)},V.prototype.toggleStrikethrough=function(){se(this)},V.prototype.toggleBlockquote=function(){be(this)},V.prototype.toggleHeadingSmaller=function(){ve(this)},V.prototype.toggleHeadingBigger=function(){De(this)},V.prototype.toggleHeading1=function(){Ge(this)},V.prototype.toggleHeading2=function(){Fe(this)},V.prototype.toggleHeading3=function(){Ue(this)},V.prototype.toggleHeading4=function(){nt(this)},V.prototype.toggleHeading5=function(){ot(this)},V.prototype.toggleHeading6=function(){ce(this)},V.prototype.toggleCodeBlock=function(){we(this)},V.prototype.toggleUnorderedList=function(){Be(this)},V.prototype.toggleOrderedList=function(){Oe(this)},V.prototype.cleanBlock=function(){Je(this)},V.prototype.drawLink=function(){mt(this)},V.prototype.drawImage=function(){Ht(this)},V.prototype.drawUploadedImage=function(){ue(this)},V.prototype.drawTable=function(){Te(this)},V.prototype.drawHorizontalRule=function(){yt(this)},V.prototype.undo=function(){rt(this)},V.prototype.redo=function(){Qt(this)},V.prototype.togglePreview=function(){Vt(this)},V.prototype.toggleSideBySide=function(){ni(this)},V.prototype.toggleFullScreen=function(){X(this)},V.prototype.isPreviewActive=function(){var I=this.codemirror,R=I.getWrapperElement(),Q=R.lastChild;return Q.classList.contains("editor-preview-active")},V.prototype.isSideBySideActive=function(){var I=this.codemirror,R=I.getWrapperElement(),Q=R.nextSibling;return Q.classList.contains("editor-preview-active-side")},V.prototype.isFullscreenActive=function(){var I=this.codemirror;return I.getOption("fullScreen")},V.prototype.getState=function(){var I=this.codemirror;return ee(I)},V.prototype.toTextArea=function(){var I=this.codemirror,R=I.getWrapperElement(),Q=R.parentNode;Q&&(this.gui.toolbar&&Q.removeChild(this.gui.toolbar),this.gui.statusbar&&Q.removeChild(this.gui.statusbar),this.gui.sideBySide&&Q.removeChild(this.gui.sideBySide)),Q.parentNode.insertBefore(R,Q),Q.remove(),I.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},Qf=V,Qf}var PD=OD();const Yv=U_(PD);window.Dropzone=Ze;La.register(...c4,gD);window.Chart=La;window.EasyMDE=Yv;window.editors={};document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".easymde").forEach(function(l){const s=new Yv({element:l,minHeight:"200px",maxHeight:"200px",status:!1,spellChecker:!1,toggleFullscreen:!1,sideBySideFullscreen:!1});l.id&&(editors[l.id]=s)})});window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};
//# sourceMappingURL=app-DHSnIrJf.js.map
