var jg=Object.defineProperty;var qg=(a,t,i)=>t in a?jg(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var Le=(a,t,i)=>qg(a,typeof t!="symbol"?t+"":t,i);import"./moment-Cijl8gKs.js";/* empty css                 */import{c as $g}from"./_commonjs-dynamic-modules-TDtrdbi3.js";function Yg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Gg(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var t=a.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(r){var l=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(i,r,l.get?l:{enumerable:!0,get:function(){return a[r]}})}),i}/*!
 * Metro UI Components Library  (https://metroui.org.ua)
 * Copyright 2012-2025 by Serhii Pimenov
 * Licensed under MIT
 !*/(function(){/*!
* Datetime v3.2.0. 
* Copyright 2024 by Serhii Pimenov
* Licensed under MIT
*
* Build time: 22.11.2024 16:28:08
*/var xt;var a="YYYY-MM-DDTHH:mm:ss.sss",t="Invalid date",i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,r=/(%[a-z])/gi,l={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},f={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},b="ms",x="second",k="minute",S="hour",M="day",L="week",R="month",q="year",J=(c="")=>{throw new Error("This argument is required!")},ae=(c,h=!0)=>{try{return h?c!==void 0:c!=null}catch{return!1}},oe=c=>c==null,ue=function(c,h,v){let y=""+c;return v&&y.length>=v?y:Array(v+1-y.length).join(h)+y},se={months:"Січень_Лютий_Березень_Квітень_Травень_Червень_Липень_Серпень_Вересень_Жовтень_Листопад_Грудень".split("_"),monthsParental:"Січня_Лютого_Березеня_Квітня_Травня_Червня_Липня_Серпня_Вересня_Жовтня_Листопада_Грудня".split("_"),monthsShort:"Січ_Лют_Бер_Кві_Тра_Чер_Лип_Сер_Вер_Жов_Лис_Гру".split("_"),weekdays:"Неділя_Понеділок_Вівторок_Середа_Четвер_П'ятниця_Субота".split("_"),weekdaysShort:"Нед_Пон_Вів_Сер_Чет_Птн_Суб".split("_"),weekdaysMin:"Нд_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),weekStart:1},pe={months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_Mär_Apr_Mai_Jun_Jul_Aug_Sep_Okt_Nov_Dez".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"Son_Mon_Die_Mit_Don_Fre_Sam".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekStart:1},te=(xt=class{constructor(){const h=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(h))),this.locale="en",this.weekStart=xt.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,v=this.value.getTime(),isNaN(v))throw new Error(t);var v}static isDatetime(h){return h instanceof xt}static now(h=!1){return re()[h?"val":"time"]()}static parse(h=J()){return re(Date.parse(h))}static setLocale(h=J(),v=J()){xt.locales[h]=v}static getLocale(h="en"){return ae(xt.locales[h],!1)?xt.locales[h]:xt.locales.en}static align(h,v){let y,e,n=re(h);switch(v){case x:y=n.ms(0);break;case k:y=xt.align(n,x)[x](0);break;case S:y=xt.align(n,k)[k](0);break;case M:y=xt.align(n,S)[S](0);break;case R:y=xt.align(n,M)[M](1);break;case q:y=xt.align(n,R)[R](0);break;case L:e=n.weekDay(),y=xt.align(h,M).addDay(-e);break;default:y=n}return y}static alignEnd(h,v){let y,e,n=re(h);switch(v){case b:y=n.ms(999);break;case x:y=xt.alignEnd(n,b);break;case k:y=xt.alignEnd(n,x)[x](59);break;case S:y=xt.alignEnd(n,k)[k](59);break;case M:y=xt.alignEnd(n,S)[S](23);break;case R:y=xt.alignEnd(n,M)[M](1).add(1,R).add(-1,M);break;case q:y=xt.alignEnd(n,M)[R](11)[M](31);break;case L:e=n.weekDay(),y=xt.alignEnd(n,"day").addDay(6-e);break;default:y=h}return y}immutable(h){return this.mutable=!(oe(h)||h),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(h,v){return this.locale=v||ae(xt.locales[h],!1)?h:"en",this.weekStart=xt.getLocale(this.locale).weekStart,this}clone(){const h=re(this.value);return h.locale=this.locale,h.weekStart=this.weekStart,h.mutable=this.mutable,h}align(h){return this.mutable?(this.value=xt.align(this,h).val(),this):this.clone().immutable(!1).align(h).immutable(!this.mutable)}alignEnd(h){return this.mutable?(this.value=xt.alignEnd(this,h).val(),this):this.clone().immutable(!1).alignEnd(h).immutable(!this.mutable)}val(h){return h instanceof Date?this.mutable?(this.value=h,this):re(h):this.value}year2(){return+(""+this.year()).substr(-2)}_set(h,v){const y="set"+(this.utcMode&&h!=="t"?"UTC":"")+f[h];if(this.mutable)return this.value[y](v),this;const e=this.clone();return e.value[y](v),e}_get(h){const v="get"+(this.utcMode&&h!=="t"?"UTC":"")+f[h];return this.value[v]()}_work(h,v){return arguments.length&&v!=null?this._set(h,v):this._get(h)}ms(h){return this._work("ms",h)}second(h){return this._work("s",h)}minute(h){return this._work("m",h)}hour(h){return this._work("h",h)}day(h){return this._work("D",h)}month(h){return this._work("M",h)}year(h){return this._work("Y",h)}time(h){return this._work("t",h)}weekDay(h){if(!arguments.length||oe(h))return this.utcMode?this.value.getUTCDay():this.value.getDay();const v=h-this.weekDay();return this.day(this.day()+v),this}get(h){return typeof this[h]!="function"?this:this[h]()}set(h,v){return typeof this[h]!="function"?this:this[h](v)}add(h,v){switch(v){case S:return this.time(this.time()+60*h*60*1e3);case k:return this.time(this.time()+60*h*1e3);case x:return this.time(this.time()+1e3*h);case b:return this.time(this.time()+h);case M:return this.day(this.day()+h);case L:return this.day(this.day()+7*h);case R:return this.month(this.month()+h);case q:return this.year(this.year()+h)}}addHour(h){return this.add(h,S)}addMinute(h){return this.add(h,k)}addSecond(h){return this.add(h,x)}addMs(h){return this.add(h,b)}addDay(h){return this.add(h,M)}addWeek(h){return this.add(h,L)}addMonth(h){return this.add(h,R)}addYear(h){return this.add(h,q)}format(h,v){const y=h||a,e=xt.getLocale(v||this.locale),n=this.year(),o=this.year2(),d=this.month(),p=this.day(),w=this.weekDay(),_=this.hour(),E=this.minute(),A=this.second(),B=this.ms(),H={YY:o,YYYY:n,M:d+1,MM:ue(d+1,0,2),MMM:e.monthsShort[d],MMMM:e.months[d],D:p,DD:ue(p,0,2),d:w,dd:e.weekdaysMin[w],ddd:e.weekdaysShort[w],dddd:e.weekdays[w],H:_,HH:ue(_,0,2),m:E,mm:ue(E,0,2),s:A,ss:ue(A,0,2),sss:ue(B,0,3)};return y.replace(i,(V,K)=>K||H[V])}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}},Le(xt,"locales",{en:l,ua:se,de:pe}),xt),re=(...c)=>c&&c[0]instanceof te?c[0]:new te(...c),Oe=te.prototype.format,De={buddhist(){return this.year()+543},format(c,h){c=c||a;const v={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()};let y=c.replace(/(\[[^\]]+])|B{4}|B{2}/g,(e,n)=>n||v[e]);return Oe.bind(this)(y,h)}};Object.assign(te.prototype,De),Object.assign(te.prototype,{calendar(c){return((h,v)=>{let y,e=h instanceof te?h.clone().align("month"):re(h),n=v===0||v?v:h.weekStart,o=n?e.isoWeekDay():e.weekDay(),d=te.getLocale(e.locale),p=re();const w={month:d.months[e.month()],days:[],weekstart:v?1:0,weekdays:((_,E)=>{if(E===0)return _;let A=_[0];return _.slice(1).concat([A])})(d.weekdaysMin,n),today:p.format("YYYY-MM-DD"),weekends:[],week:[]};for(e.addDay(n?1-o:-o),y=0;y<42;y++)w.days.push(e.format("YYYY-MM-DD")),e.add(1,"day");for(w.weekends=w.days.filter(function(_,E){return n===0?[0,6,7,13,14,20,21,27,28,34,35,41].includes(E):[5,6,12,13,19,20,26,27,33,34,40,41].includes(E)}),e=p.clone(),o=n?e.isoWeekDay():e.weekDay(),e.addDay(n?1-o:-o),y=0;y<7;y++)w.week.push(e.format("YYYY-MM-DD")),e.add(1,"day");return w})(this,c)}});var Te=te.prototype.format;Object.assign(te.prototype,{century(){return Math.ceil(this.year()/100)},format(c,h){c=c||a;const v={C:this.century()};let y=c.replace(/(\[[^\]]+])|C/g,(e,n)=>n||v[e]);return Te.bind(this)(y,h)}}),Object.assign(te.prototype,{same(c){return this.time()===re(c).time()},compare(c,h,v="="){const y=re(c),e=re(this.value);let n,o;switch(["<",">",">=","<=","=","!="].includes(v=v||"=")===!1&&(v="="),h=(h||"ms").toLowerCase(),n=e.align(h).time(),o=y.align(h).time(),v){case"<":return n<o;case">":return n>o;case"<=":return n<=o;case">=":return n>=o;case"=":return n===o;case"!=":return n!==o}},between(c,h){return this.younger(c)&&this.older(h)},older(c,h){return this.compare(c,h,"<")},olderOrEqual(c,h){return this.compare(c,h,"<=")},younger(c,h){return this.compare(c,h,">")},youngerOrEqual(c,h){return this.compare(c,h,">=")},equal(c,h){return this.compare(c,h,"=")},notEqual(c,h){return this.compare(c,h,"!=")},diff(c){const h=re(c),v=Math.abs(this.time()-h.time()),y=Math.abs(this.month()-h.month()+12*(this.year()-h.year()));return{ms:v,second:Math.ceil(v/1e3),minute:Math.ceil(v/6e4),hour:Math.ceil(v/36e5),day:Math.ceil(v/864e5),month:y,year:Math.floor(y/12)}},distance(c,h){return this.diff(c)[h]}}),Object.assign(te.prototype,{isLeapYear(){const c=this.year();return c%4==0&&c%100!=0||c%400==0}}),Object.assign(te.prototype,{dayOfYear(){const c=this.month(),h=this.day();return[0,31,59,90,120,151,181,212,243,273,304,334][c]+h+(c>1&&this.isLeapYear()?1:0)}}),Object.assign(te.prototype,{daysInMonth(){return re(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear(){return this.isLeapYear()?366:365},daysInYearMap(){const c=[],h=re(this.value);h.month(0).day(1);for(let v=0;v<12;v++)h.add(1,"month").add(-1,"day"),c.push(h.day()),h.day(1).add(1,"month");return c},daysInYearObj(c,h){const v=this.daysInYearMap(),y={},e=te.getLocale(c||this.locale);return v.forEach((n,o)=>y[e[h?"monthsShort":"months"][o]]=n),y}}),Object.assign(te.prototype,{decade(){return 10*Math.floor(this.year()/10)},decadeStart(){const c=this.decade();return(this.mutable?this:this.clone()).year(c).month(0).day(1)},decadeEnd(){const c=this.decade()+9;return(this.mutable?this:this.clone()).year(c).month(11).day(31)},decadeOfMonth(){const c=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,h=this.day();return h<=c?1:h<=2*c?2:3}}),Object.assign(te,{from(c,h,v){let y,e,n,o,d,p,w,_,E,A,B,H,V,K,Z,xe,Ee,We,z;const ee=function(Ce,ye){return Ce.map(function($e){return $e.toLowerCase()}).indexOf(ye.toLowerCase())},le=function(Ce){const ye={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]};let $e,Qe,rt=-1;for(let tt=0;tt<ye[Ce].length;tt++)if($e=ye[Ce][tt],Qe=n.indexOf($e),Qe!==-1){rt=Qe;break}return rt};if(!h)return re();if(y=c.replace(/[\/,.:\s]/g,"-"),e=h.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),n=e.split("-"),o=y.split("-"),y.replace(/-/g,"").trim()==="")throw new Error(t);return d=le("month"),p=le("day"),w=le("year"),_=le("hour"),E=le("minute"),A=le("second"),B=le("ms"),d>-1&&o[d]?isNaN(parseInt(o[d]))?(o[d]=function(Ce){let ye=-1;const $e=te.getLocale(v||"en");return oe(Ce)?-1:(ye=ee($e.months,Ce),ye===-1&&$e.monthsParental!==void 0&&(ye=ee($e.monthsParental,Ce)),ye===-1&&(Ce=Ce.substr(0,3),ye=ee($e.monthsShort,Ce)),ye===-1?-1:ye+1)}(o[d]),o[d]===-1&&(d=-1)):(z=parseInt(o[d]),(z<1||z>12)&&(d=-1)):d=-1,H=w>-1&&o[w]?o[w]:0,V=d>-1&&o[d]?o[d]:1,K=p>-1&&o[p]?o[p]:1,Z=_>-1&&o[_]?o[_]:0,xe=E>-1&&o[E]?o[E]:0,Ee=A>-1&&o[A]?o[A]:0,We=B>-1&&o[B]?o[B]:0,re(H,V-1,K,Z,xe,Ee,We)}});var Re=te.prototype.format;Object.assign(te.prototype,{ampm(c){let h=this.hour()<12?"AM":"PM";return c?h.toLowerCase():h},hour12:function(c,h){let v=c;return arguments.length===0?this.hour()%12:((h=h||"am").toLowerCase()==="pm"&&(v+=12),this.hour(v))},format:function(c,h){let v,y,e=this.hour12();return c=c||a,v={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:e,hh:ue(e,0,2)},y=c.replace(/(\[[^\]]+])|a|A|h{1,2}/g,(n,o)=>o||v[n]),Re.bind(this)(y,h)}});var at=te.prototype.format,ze=te.align,et=te.alignEnd;Object.assign(te,{align(c,h){let v,y,e=re(c);return h==="isoWeek"?(y=e.isoWeekDay(),v=ze(e,"day").addDay(1-y)):v=ze.apply(void 0,[e,h]),v},alignEnd(c,h){let v,y,e=re(c);return h==="isoWeek"?(y=e.isoWeekDay(),v=et(e,"day").addDay(7-y)):v=et.apply(void 0,[e,h]),v}}),Object.assign(te.prototype,{isoWeekDay(c){let h=(this.weekDay()+6)%7+1;return!arguments.length||oe(c)?h:this.addDay(c-h)},format(c,h){c=c||a;const v={I:this.isoWeekDay()};let y=c.replace(/(\[[^\]]+])|I{1,2}/g,(e,n)=>n||v[e]);return at.bind(this)(y,h)}}),Object.assign(te,{max(){return[].slice.call(arguments).map(c=>re(c)).sort((c,h)=>h.time()-c.time())[0]}}),Object.assign(te.prototype,{max(){return te.max.apply(this,[this].concat([].slice.call(arguments)))}}),Object.assign(te,{min(){return[].slice.call(arguments).map(c=>re(c)).sort((c,h)=>c.time()-h.time())[0]}}),Object.assign(te.prototype,{min(){return te.min.apply(this,[this].concat([].slice.call(arguments)))}});var ft=te.align,gt=te.alignEnd,be=te.prototype.add;Object.assign(te,{align(c,h){let v,y=re(c);return h==="quarter"?v=te.align(y,"day").day(1).month(3*y.quarter()-3):v=ft.apply(this,[y,h]),v},alignEnd(c,h){let v,y=re(c);return h==="quarter"?v=te.align(y,"quarter").add(3,"month").add(-1,"ms"):v=gt.apply(this,[y,h]),v}}),Object.assign(te.prototype,{quarter(){const c=this.month();return c<=2?1:c<=5?2:c<=8?3:4},add(c,h){return h==="quarter"?this.month(this.month()+3*c):be.bind(this)(c,h)},addQuarter(c){return this.add(c,"quarter")}}),Object.assign(te,{sort(c,h){let v,y;const e={};switch(typeof h=="string"||typeof h!="object"||oe(h)?(e.format=a,e.dir=h&&h.toUpperCase()==="DESC"?"DESC":"ASC",e.returnAs="datetime"):(e.format=h.format||a,e.dir=(h.dir||"ASC").toUpperCase(),e.returnAs=h.format?"string":h.returnAs||"datetime"),y=c.map(n=>re(n)).sort((n,o)=>n.valueOf()-o.valueOf()),e.dir==="DESC"&&y.reverse(),e.returnAs){case"string":v=y.map(n=>n.format(e.format));break;case"date":v=y.map(n=>n.val());break;default:v=y}return v}});var je=te.prototype.format;Object.assign(te.prototype,{utcOffset(){return this.value.getTimezoneOffset()},timezone(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format(c,h){c=c||a;const v={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()};let y=c.replace(/(\[[^\]]+])|Z{1,3}|z/g,(e,n)=>n||v[e]);return je.bind(this)(y,h)}});var He=te.prototype.format;Object.assign(te.prototype,{weekNumber(c){let h,v,y,e,n,o;return c=+c||0,y=re(this.year(),0,1),e=y.weekDay()-c,e=e>=0?e:e+7,n=Math.floor((this.time()-y.time()-6e4*(this.utcOffset()-y.utcOffset()))/864e5)+1,e<4?(o=Math.floor((n+e-1)/7)+1,o>52&&(h=re(this.year()+1,0,1),v=h.weekDay()-c,v=v>=0?v:v+7,o=v<4?1:53)):o=Math.floor((n+e-1)/7),o},isoWeekNumber(){return this.weekNumber(1)},weeksInYear(c){return re(this.value).month(11).day(31).weekNumber(c)},format:function(c,h){let v,y,e=this.weekNumber(),n=this.isoWeekNumber();return c=c||a,v={W:e,WW:ue(e,0,2),WWW:n,WWWW:ue(n,0,2)},y=c.replace(/(\[[^\]]+])|W{1,4}/g,(o,d)=>d||v[o]),He.bind(this)(y,h)}}),Object.assign(te.prototype,{strftime(c,h){const v=c||"%Y-%m-%dT%H:%M:%S.%Q%t",y=te.getLocale(h||this.locale),e=this.year(),n=this.year2(),o=this.month(),d=this.day(),p=this.weekDay(),w=this.hour(),_=this.hour12(),E=this.minute(),A=this.second(),B=this.ms(),H=this.time(),V=ue(d,0,2),K=ue(o+1,0,2),Z=ue(w,0,2),xe=ue(_,0,2),Ee=ue(E,0,2),We=ue(A,0,2),z=ue(B,0,3),ee=this,le=function(){return re(ee.value).day(ee.day()-(ee.weekDay()+6)%7+3)},Ce={"%a":y.weekdaysShort[p],"%A":y.weekdays[p],"%b":y.monthsShort[o],"%h":y.monthsShort[o],"%B":y.months[o],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":V,"%D":[V,K,e].join("/"),"%e":d,"%F":[e,K,V].join("-"),"%G":le().year(),"%g":(""+le().year()).slice(2),"%H":Z,"%I":xe,"%j":ue(this.dayOfYear(),0,3),"%k":Z,"%l":xe,"%m":K,"%n":o+1,"%M":Ee,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(H/1e3),"%S":We,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":p,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":n,"%Y":e,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[xe,Ee,We].join(":")+" "+this.ampm(),"%R":[Z,Ee].join(":"),"%T":[Z,Ee,We].join(":"),"%Q":z,"%q":B,"%t":this.timezone()};return v.replace(r,ye=>Ce[ye]===0||Ce[ye]?Ce[ye]:ye)}}),Object.assign(te,{isToday(c){const h=re(c).align("day"),v=re().align("day");return h.time()===v.time()}}),Object.assign(te.prototype,{isToday(){return te.isToday(this)},today(){const c=re();return this.mutable?this.val(c.val()):c}}),Object.assign(te,{isTomorrow(c){const h=re(c).align("day"),v=re().align("day").add(1,"day");return h.time()===v.time()}}),Object.assign(te.prototype,{isTomorrow(){return te.isTomorrow(this)},tomorrow(){return this.mutable?this.add(1,"day"):this.clone().immutable(!1).add(1,"day").immutable(!this.mutable)}}),Object.assign(te.prototype,{toDateString(){return this.value.toDateString()},toISOString(){return this.value.toISOString()},toJSON(){return this.value.toJSON()},toGMTString(){return this.value.toGMTString()},toLocaleDateString(){return this.value.toLocaleDateString()},toLocaleString(){return this.value.toLocaleString()},toLocaleTimeString(){return this.value.toLocaleTimeString()},toTimeString(){return this.value.toTimeString()},toUTCString(){return this.value.toUTCString()},toDate(){return new Date(this.value)}}),Object.assign(te,{timestamp:()=>new Date().getTime()/1e3}),Object.assign(te.prototype,{unix(c){let h;return!arguments.length||oe(c)?Math.floor(this.valueOf()/1e3):(h=1e3*c,this.mutable?this.time(h):re(this.value).time(h))},timestamp(){return this.unix()}}),Object.assign(te,{isYesterday(c){const h=re(c).align("day"),v=re().align("day").add(-1,"day");return h.time()===v.time()}}),Object.assign(te.prototype,{isYesterday(){return te.isYesterday(this)},yesterday(){return this.mutable?this.add(-1,"day"):this.clone().immutable(!1).add(-1,"day").immutable(!this.mutable)}});var ot=c=>{let h,v=Math.floor(c/1e3),y=Math.floor(v/60),e=Math.floor(y/60),n=Math.floor(e/24),o=Math.floor(n/30),d=Math.floor(o/12);return d>=1&&(h=`${d} year`),o>=1&&d<1&&(h=`${o} mon`),n>=1&&n<=30&&(h=`${n} days`),e&&e<24&&(h=`${e} hour`),y&&y>=40&&y<60&&(h="less a hour"),y&&y<40&&(h=`${y} min`),v&&v>=30&&v<60&&(h=`${v} sec`),v<30&&(h="few sec"),h};Object.assign(te,{timeLapse(c){let h=re(c),v=re();return ot(v-h)}}),Object.assign(te.prototype,{timeLapse(){let c=re()-+this;return ot(c)}});var Dt,qt={parseTime(c){return isNaN(c)?c.match(/([0-9]+d)|([0-9]{1,2}h)|([0-9]{1,2}m)|([0-9]{1,2}s)/gm).reduce((h,v)=>{let y;return v.includes("d")?y=864e5*parseInt(v):v.includes("h")?y=36e5*parseInt(v):v.includes("m")?y=6e4*parseInt(v):v.includes("s")&&(y=1e3*parseInt(v)),h+y},0):Math.abs(+c)}};Object.assign(te,qt),Object.assign(te.prototype,{moon(){const c=["new-moon","waxing-crescent","first-quarter","waxing-gibbous","full-moon","waning-gibbous","last-quarter","waning-crescent"];return(()=>{let h,v,y,e=this.year(),n=this.month(),o=h=v=y=0;return n<3&&(e--,n+=12),++n,o=365.25*e,h=30.6*n,v=o+h+this.day()-694039.09,v/=29.5305882,y=parseInt(v),v-=y,y=Math.round(8*v),y>=8&&(y=0),{phase:y,name:c[y]}})()}}),globalThis.Datetime=te,globalThis.datetime=re,Dt=te.getLocale,te.getLocale=function(c){var h;return Metro?(Metro.locales[c]||(c="en-US"),{months:(h=Metro.locales[c].calendar).months.filter(function(v,y){return y<12}),monthsShort:h.months.filter(function(v,y){return y>11}),weekdays:h.days.filter(function(v,y){return y<7}),weekdaysShort:h.days.filter(function(v,y){return y>13}),weekdaysMin:h.days.filter(function(v,y){return y>6&&y<14}),weekStart:h.weekStart}):(c="en",Dt.call(this,c))};const Rn="\\s\\uFEFF\\xA0",me="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",Y="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",Be="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",Ot=new RegExp("^["+Rn+"]+"),yt=new RegExp("["+Rn+"]+$"),tn=new RegExp("^\\d+$"),un=/[<>&"'`]/g,Kt=/(<([^>]+)>)/gi,$t=new RegExp("(?:["+Be+"]["+me+"]*)?(?:["+Y+"]["+me+"]*)+|(?:["+Be+"]["+me+"]*)+(?!["+Y+"])|[\\d]+|[\\u2700-\\u27BF]|[^\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7\\u2000-\\u206F"+Rn+"]+","g"),Ft=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,Ut=new RegExp("^(?:["+Y+Be+"]["+me+"]*)+$"),cn=new RegExp("^((?:["+Y+Be+"]["+me+"]*)|[\\d])+$"),hn=/^[\x01-\xFF]*$/,Ge=(c,h="")=>c?typeof c=="string"?c:Array.isArray(c)?c.join(""):JSON.stringify(c):h,Nn=(c,h)=>c??h,vn=(c,h,v)=>{let y;return y=h?h instanceof RegExp?h:new RegExp(h,Nn(v,"")):hn.test(c)?Ft:$t,Nn(Ge(c).match(y),[])},dn=(c,h=!1)=>{let v=Ge(c),y=v.substr(1);return v.substr(0,1).toUpperCase()+(h?y.toLowerCase():y)},Kn=c=>Ge(c).toLowerCase(),pt=(c,h=[])=>Ge(c).split("").filter(v=>!h.includes(v)),xn=(c,h)=>{const v=h.toLowerCase(),y=h.toUpperCase();return c+(h===v?y:v)},li=c=>Ge(c).toUpperCase(),xi=(c=[])=>{let h=[...c];for(let v=0;v<h.length;++v)for(let y=v+1;y<h.length;++y)h[v]===h[y]&&h.splice(y--,1);return h},Pe={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function Fe(c){return Pe[c]}const _e={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},X=Object.keys(_e);function G(c,h){return c.replace(_e[h],h)}const ve=(c,h,v)=>Ge(c).substring(h,v),O=9007199254740991,U=(c,h,v=9007199254740991)=>c<h?h:c>v?v:c,ne=c=>c===1/0?O:c===-1/0?-9007199254740991:~~c,he=(c,h=0,v="...")=>{let y=Ge(c),e=h?U(ne(h),0,O):y.length;return ve(y,0,e)+(y.length===e?"":v)},ge=(c,h=0)=>{let v=Ge(c),y=h?U(ne(h),0,O):v.length;const e=v;if(h===0)return"";for(let n=0;n<y-1;n++)v+=e;return v},Me=(c,h=0)=>{const v=c.length;return ge(c,h-v+1).substring(0,h)},we=(c,h="",v=0,y=!1)=>{let e=Ge(c),n=v?U(ne(v),0,O):e.length,o=h.length,d=n-e.length;if(d<=0||o===0)return e;let p=Me(h,d);return y?p+e:e+p},fe=Array.prototype.reduce,Ie=Array.prototype.reduceRight,ke=(c,h)=>Ze(ct(c,h),h),Ze=(c,h)=>{let v=Ge(c);if(!h)return v.replace(Ot,"");if(h===""||v==="")return v;typeof h!="string"&&(h="");let y=!0;return fe.call(v,(e,n)=>y&&h.includes(n)?e:(y=!1,e+n),"")},ct=(c,h)=>{let v=Ge(c);if(!h)return v.replace(yt,"");if(h===""||v==="")return v;typeof h!="string"&&(h="");let y=!0;return Ie.call(v,(e,n)=>y&&h.includes(n)?e:(y=!1,n+e),"")},dt=c=>ke(c).length===0,Xe={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/},At=Object.create(null),It=c=>function(v,y){let e,n,o,d,p,w,_,E=1,A=v.length,B="";for(let H=0;H<A;H++)if(typeof v[H]=="string")B+=v[H];else if(typeof v[H]=="object"){if(n=v[H],n.keys){e=y[E];for(let V=0;V<n.keys.length;V++){if(e===void 0)throw new Error(It('[sprintf] Cannot access property "%s" of undefined value "%s"',n.keys[V],n.keys[V-1]));e=e[n.keys[V]]}}else e=n.param_no?y[n.param_no]:y[E++];if(Xe.not_type.test(n.type)&&Xe.not_primitive.test(n.type)&&e instanceof Function&&(e=e()),Xe.numeric_arg.test(n.type)&&typeof e!="number"&&isNaN(e))throw new TypeError(It("[sprintf] expecting number but found %T"));switch(Xe.number.test(n.type)&&(w=e>=0),n.type){case"b":e=parseInt(e,10).toString(2);break;case"c":e=String.fromCharCode(parseInt(e,10));break;case"d":case"i":e=parseInt(e,10);break;case"j":e=JSON.stringify(e,null,n.width?parseInt(n.width):0);break;case"e":e=n.precision?parseFloat(e).toExponential(n.precision):parseFloat(e).toExponential();break;case"f":e=n.precision?parseFloat(e).toFixed(n.precision):parseFloat(e);break;case"g":e=n.precision?String(Number(e.toPrecision(n.precision))):parseFloat(e);break;case"o":e=(parseInt(e,10)>>>0).toString(8);break;case"s":e=String(e),e=n.precision?e.substring(0,n.precision):e;break;case"t":e=String(!!e),e=n.precision?e.substring(0,n.precision):e;break;case"T":e=Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),e=n.precision?e.substring(0,n.precision):e;break;case"u":e=parseInt(e,10)>>>0;break;case"v":e=e.valueOf(),e=n.precision?e.substring(0,n.precision):e;break;case"x":e=(parseInt(e,10)>>>0).toString(16);break;case"X":e=(parseInt(e,10)>>>0).toString(16).toUpperCase()}Xe.json.test(n.type)?B+=e:(!Xe.number.test(n.type)||w&&!n.sign?_="":(_=w?"+":"-",e=e.toString().replace(Xe.sign,"")),d=n.pad_char?n.pad_char==="0"?"0":n.pad_char.charAt(1):" ",p=n.width-(_+e).length,o=n.width&&p>0?d.repeat(p):"",B+=n.align?_+e+o:d==="0"?_+o+e:o+_+e)}return B}(function(v){if(At[v])return At[v];let y,e=v,n=[],o=0;for(;e;){if((y=Xe.text.exec(e))!==null)n.push(y[0]);else if((y=Xe.modulo.exec(e))!==null)n.push("%");else{if((y=Xe.placeholder.exec(e))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(y[2]){o|=1;let d=[],p=y[2],w=[];if((w=Xe.key.exec(p))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(d.push(w[1]);(p=p.substring(w[0].length))!=="";)if((w=Xe.key_access.exec(p))!==null)d.push(w[1]);else{if((w=Xe.index_access.exec(p))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");d.push(w[1])}y[2]=d}else o|=2;if(o===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:y[0],param_no:y[1],keys:y[2],sign:y[3],pad_char:y[4],align:y[5],width:y[6],precision:y[7],type:y[8]})}e=e.substring(y[0].length)}return At[v]=n}(c),arguments);var Ye={camelCase:c=>vn(Ge(c)).map((h,v)=>v===0?h.toLowerCase():dn(h)).join(""),capitalize:dn,chars:pt,count:c=>Ge(c).length,countChars:(c,h)=>pt(c,h).length,countUniqueChars:(c,h)=>xi(pt(c,h)).length,countSubstr:(c,h="")=>{let v=Ge(c),y=Ge(h);return v===""||y===""?0:v.split(y).length-1},countWords:(c,h,v)=>vn(c,h,v).length,countUniqueWords:(c,h,v)=>xi(vn(c,h,v)).length,dashedName:c=>vn(Ge(c)).map(h=>h.toLowerCase()).join("-"),decapitalize:c=>{let h=Ge(c);return h.substr(0,1).toLowerCase()+h.substr(1)},kebab:(c,h="-")=>vn(Ge(c)).map(v=>v.toLowerCase()).join(h),lower:Kn,reverse:(c,h)=>pt(Ge(c),h).reverse().join(""),shuffle:c=>((h=[])=>{let v,y,e=[...h],n=e.length;for(;n!==0;)y=Math.floor(Math.random()*n),n-=1,v=e[n],e[n]=e[y],e[y]=v;return e})(Ge(c).split("")).join(""),snake:c=>vn(Ge(c)).map(h=>h.toLowerCase()).join("_"),swap:c=>Ge(c).split("").reduce(xn,""),title:(c,h,v="")=>{let y=Ge(c);const e=hn.test(y)?Ft:$t,n=Array.isArray(h)?h:typeof h!="string"?[]:h.split(v);return c.replace(e,(o,d)=>d&&n.includes(y[d-1])?Kn(o):dn(o))},upper:li,words:vn,wrap:(c,h="",v="")=>h+Ge(c)+v,wrapTag:(c,h="div")=>`<${h}>${Ge(c)}</${h}>`,escapeHtml:c=>Ge(c).replace(un,Fe),unescapeHtml:c=>X.reduce(G,Ge(c)),unique:(c,h)=>xi(pt(c,h)).join(""),uniqueWords:(c,h,v)=>xi(vn(c,h,v)).join(""),substring:ve,first:(c,h=0)=>ve(Ge(c),0,h),last:(c,h=0)=>{let v=Ge(c);return v?ve(v,v.length-h):""},truncate:he,truncateWithAlign:(c,h=0,v="...")=>{const y=he(c,h,"");return y.slice(c,y.lastIndexOf(" "))+v},slice:(c,h=1)=>{let v=Ge(c),y=[],e=Math.round(v.length/h);for(let n=0;n<h;n++)y.push(ve(v,n*e,e));return y},prune:(c,h=0,v="")=>{let y=Ge(c),e=h?U(ne(h),0,O):y.length,n=0;const o=hn.test(y)?Ft:$t;return y.replace(o,(d,p)=>{const w=p+d.length;w<=e-v.length&&(n=w)}),y.substring(0,n)+v},repeat:ge,pad:(c,h="",v=0)=>{let y=Ge(c),e=v?U(ne(v),0,O):y.length,n=h.length,o=e-y.length,d=ne(o/2),p=o%2;return o<=0||n===0?y:Me(h,d)+y+Me(h,d+p)},lpad:(c,h=" ",v=0)=>we(c,h,v,!0),rpad:(c,h=" ",v=0)=>we(c,h,v,!1),insert:(c,h="",v=0)=>{let y=Ge(c);return y.substring(0,v)+h+y.substring(v)},trim:ke,ltrim:Ze,rtrim:ct,endsWith:(c,h,v)=>Ge(c).endsWith(h,v),isAlpha:c=>Ut.test(Ge(c)),isAlphaDigit:c=>cn.test(Ge(c)),isDigit:c=>tn.test(Ge(c)),isBlank:(c,h=!0)=>h?Ge(c).length===0:ke(c).length===0,isEmpty:dt,isLower:c=>Kn(c)===c,isUpper:c=>li(c)===c,startsWith:(c,h,v)=>Ge(c).startsWith(h,v),stripTags:(c,h=[])=>Ge(c).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(v,y)=>h.includes(y)?v:""),stripTagsAll:c=>Ge(c).replace(Kt,""),sprintf:It,vsprintf:(c,h)=>It.apply(null,[c].concat(h||[])),includes:(c,h,v)=>Ge(c).includes(h,v),split:(c,h=void 0,v=void 0,y=!0)=>Ge(c).split(h,v).map(e=>y?e.trim():e).filter(e=>!y||!dt(e)),strip:(c,h=null,v="")=>{let y,e=Ge(c);return h?(y=new RegExp(h,"g"),e.replace(y,v)):e},isString:c=>typeof c=="string",matches:(c,h,v="")=>{let y,e=Ge(c);if(!(h instanceof RegExp)){if(y=h?ke(Ge(h)):"",!y)return!1;h=new RegExp(y,v)}return h.test(e)},append:(c,h="",v=1)=>Ge(c)+ge(h,v),prepend:(c,h="",v=1)=>ge(h,v)+Ge(c),stripBoom:c=>{let h=Ge(c);return h===""?h:h[0]==="\uFEFF"?h.substring(1):h},shorten:(c,h=5,v="...")=>c&&`${c.substring(0,h)}${v}${c.substring(c.length-h)}`};let _t=class{constructor(h="",{mutable:v=!0}={}){this.value=h.toString(),this.mutable=v}[Symbol.toPrimitive](h){return h==="number"?+this.value:this.value}get[Symbol.toStringTag](){return"Str"}val(h){return h==null?this.value:(this.value=h.toString(),this)}get length(){return this.value.length}immutable(h=!0){this.mutable=!h}toString(){return this.value}_result(h){return this.mutable?(this.value=h,this):Yt(h)}camelCase(){return this._result(Ye.camelCase(this.value))}capitalize(h){return this._result(Ye.capitalize(this.value,h))}chars(h){return this._result(Ye.chars(this.value,h))}count(){return Ye.count(this.value)}countChars(h){return Ye.countChars(this.value,h)}countUniqueChars(h){return Ye.countUniqueChars(this.value,h)}countSubstr(h){return Ye.countSubstr(this.value,h)}countWords(h,v){return Ye.countChars(this.value,h,v)}countUniqueWords(h,v){return Ye.countUniqueChars(this.value,h,v)}dashedName(){return this._result(Ye.dashedName(this.value))}decapitalize(){return this._result(Ye.decapitalize(this.value))}endsWith(h,v){return Ye.endsWith(this.value,h,v)}escapeHtml(){return this._result(Ye.escapeHtml(this.value))}first(){return this._result(Ye.first(this.value))}includes(h,v){return Ye.includes(this.value,h,v)}insert(h,v){return this._result(Ye.insert(this.value,h,v))}isAlpha(){return Ye.isAlpha(this.value)}isAlphaDigit(){return Ye.isAlphaDigit(this.value)}isBlank(h){return Ye.isBlank(this.value,h)}isDigit(){return Ye.isDigit(this.value)}isEmpty(){return Ye.isEmpty(this.value)}isLower(){return Ye.isLower(this.value)}static isString(h){return Ye.isString(h)}isUpper(){return Ye.isUpper(this.value)}kebab(h){return this._result(Ye.kebab(this.value,h))}last(h){return this._result(Ye.last(this.value,h))}lower(){return this._result(Ye.lower(this.value))}matches(h,v){return Ye.matches(this.value,h,v)}pad(h,v){return this._result(Ye.pad(this.value,h,v))}lpad(h,v){return this._result(Ye.lpad(this.value,h,v))}rpad(h,v){return this._result(Ye.rpad(this.value,h,v))}prune(h,v){return this._result(Ye.prune(this.value,h,v))}repeat(h){return this._result(Ye.repeat(this.value,h))}append(h,v){return this._result(Ye.append(this.value,h,v))}prepend(h,v){return this._result(Ye.prepend(this.value,h,v))}reverse(h){return this._result(Ye.reverse(this.value,h))}shuffle(){return this._result(Ye.shuffle(this.value))}slice(h){return this._result(Ye.slice(this.value,h))}snake(){return this._result(Ye.snake(this.value))}split(h,v,y){return this._result(Ye.split(this.value,h,v,y))}sprintf(...h){return this._result(Ye.sprintf(this.value,...h))}vsprintf(...h){return this._result(Ye.vsprintf(this.value,...h))}startsWith(h,v){return Ye.startsWith(this.value,h,v)}stripBoom(){return this._result(Ye.stripBoom(this.value))}stripTags(h){return this._result(Ye.stripTags(this.value,h))}stripTagsAll(){return this._result(Ye.stripTagsAll(this.value))}strip(h,v){return this._result(Ye.strip(this.value,h,v))}substring(h,v){return this._result(Ye.substring(this.value,h,v))}swap(){return this._result(Ye.swap(this.value))}title(h,v){return this._result(Ye.title(this.value,h,v))}trim(h){return this._result(Ye.trim(this.value,h))}ltrim(h){return this._result(Ye.ltrim(this.value,h))}rtrim(h){return this._result(Ye.rtrim(this.value,h))}truncate(h,v){return this._result(Ye.truncate(this.value,h,v))}truncateWithAlign(h,v){return this._result(Ye.truncateWithAlign(this.value,h,v))}unescapeHtml(){return this._result(Ye.unescapeHtml(this.value))}unique(h){return this._result(Ye.unique(this.value,h))}uniqueWords(h,v){return this._result(Ye.uniqueWords(this.value,h,v))}upper(){return this._result(Ye.upper(this.value))}words(h,v){return Ye.words(this.value,h,v)}wrap(h,v){return this._result(Ye.wrap(this.value,h,v))}wrapTag(h){return this._result(Ye.wrapTag(this.value,h))}shorten(h,v){return this._result(Ye.shorten(this.value,h,v))}};Object.assign(_t,Ye);const Yt=c=>new _t(c);globalThis.Str=_t,globalThis.str=Yt,function(){var c=["opacity","zIndex"];function h(D){return!!(D.offsetWidth||D.offsetHeight||D.getClientRects().length)}function v(D){return D==null}function y(D){return D.replace(/-([a-z])/g,function(P,W){return W.toUpperCase()})}function e(D){var P;return!(!D||Object.prototype.toString.call(D)!=="[object Object]")&&(!(P=D.prototype!==void 0)||P.constructor&&typeof P.constructor=="function")}function n(D){for(var P in D)if(H(D,P))return!1;return!0}function o(D){return D instanceof Object&&"length"in D}function d(D,P){return P=P||" ",D.split(P).map(function(W){return(""+W).trim()}).filter(function(W){return W!==""})}function p(D,P){return P||(P=[0,""]),D=String(D),P[0]=parseFloat(D),P[1]=D.match(/[\d.\-+]*\s*(.*)/)[1]||"",P}function w(D,P){var W=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(D);return W[1]!==void 0?W[1]:P}function _(D,P,W){P=y(P),["scrollLeft","scrollTop"].indexOf(P)>-1?D[P]=parseInt(W):D.style[P]=isNaN(W)||c.indexOf(""+P)>-1?W:W+"px"}function E(D){return D.nodeType===1||D.nodeType===9||!+D.nodeType}function A(D,P,W){var Q;return v(W)&&D.nodeType===1&&(Q="data-"+P.replace(/[A-Z]/g,"-$&").toLowerCase(),typeof(W=D.getAttribute(Q))=="string"?(W=function(Ue){try{return JSON.parse(Ue)}catch{return Ue}}(W),z.set(D,P,W)):W=void 0),W}function B(D){return typeof D!="string"?void 0:D.replace(/-/g,"").toLowerCase()}function H(D,P){return Object.prototype.hasOwnProperty.call(D,P)}function V(D){var P=D||window.location.hostname;return P==="localhost"||P==="127.0.0.1"||P==="[::1]"||P===""||P.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)!==null}(function(D){if(!D.setImmediate){var P,W=1,Q={},de=!1,Ue=Object.getPrototypeOf&&Object.getPrototypeOf(D);Ue=Ue&&Ue.setTimeout?Ue:D,{}.toString.call(D.process)==="[object process]"?function(){P=function(vt){D.process.nextTick(function(){mt(vt)})}}():D.MessageChannel?function(){var vt=new MessageChannel;vt.port1.onmessage=function(Et){mt(Et.data)},P=function(Et){vt.port2.postMessage(Et)}}():function(){var vt="setImmediate$"+Math.random()+"$";D.addEventListener("message",function(Et){Et.source===D&&typeof Et.data=="string"&&Et.data.indexOf(vt)===0&&mt(+Et.data.slice(vt.length))},!1),P=function(Et){D.postMessage(vt+Et,"*")}}(),Ue.setImmediate=function(vt){typeof vt!="function"&&(vt=new Function(""+vt));for(var Et=new Array(arguments.length-1),St=0;St<Et.length;St++)Et[St]=arguments[St+1];return Q[W]={callback:vt,args:Et},P(W),W++},Ue.clearImmediate=Ke}function Ke(kt){delete Q[kt]}function mt(kt){if(de)setTimeout(mt,0,kt);else{var vt=Q[kt];if(vt){de=!0;try{(function(St){var Ht=St.callback,nn=St.args;switch(nn.length){case 0:Ht();break;case 1:Ht(nn[0]);break;case 2:Ht(nn[0],nn[1]);break;case 3:Ht(nn[0],nn[1],nn[2]);break;default:Ht.apply(void 0,nn)}})(vt)}finally{Ke(kt),de=!1}}}}})(typeof self>"u"?typeof global>"u"?window:global:self),function(D){if(!D.Promise){var P,W="pending",Q="sealed",de="fulfilled",Ue="rejected",Ke=function(){},mt=typeof setImmediate<"u"?setImmediate:setTimeout,kt=[];Tn.prototype={constructor:Tn,state_:W,then_:null,data_:void 0,then:function(nt,Lt){var Pt={owner:this,then:new this.constructor(Ke),fulfilled:nt,rejected:Lt};return this.state_===de||this.state_===Ue?St(Ht,Pt):this.then_.push(Pt),Pt.then},done:function(nt){return this.then(nt,null)},always:function(nt){return this.then(nt,nt)},catch:function(nt){return this.then(null,nt)}},Tn.all=function(nt){if(!vt(nt))throw new TypeError("You must pass an array to Promise.all().");return new this(function(Lt,Pt){var sn=[],Zt=0;function zn(ci){return Zt++,function(qi){sn[ci]=qi,--Zt||Lt(sn)}}for(var Zn,vi=0;vi<nt.length;vi++)(Zn=nt[vi])&&typeof Zn.then=="function"?Zn.then(zn(vi),Pt):sn[vi]=Zn;Zt||Lt(sn)})},Tn.race=function(nt){if(!vt(nt))throw new TypeError("You must pass an array to Promise.race().");return new this(function(Lt,Pt){for(var sn,Zt=0;Zt<nt.length;Zt++)(sn=nt[Zt])&&typeof sn.then=="function"?sn.then(Lt,Pt):Lt(sn)})},Tn.resolve=function(nt){return nt&&typeof nt=="object"&&nt.constructor===this?nt:new this(function(Lt){Lt(nt)})},Tn.reject=function(nt){return new this(function(Lt,Pt){Pt(nt)})},D.Promise===void 0&&(D.Promise=Tn)}function vt(nt){return Object.prototype.toString.call(nt)==="[object Array]"}function Et(){for(var nt=0;nt<kt.length;nt++)kt[nt][0](kt[nt][1]);kt=[],P=!1}function St(nt,Lt){kt.push([nt,Lt]),P||(P=!0,mt(Et,0))}function Ht(nt){var Lt=nt.owner,Pt=Lt.state_,sn=Lt.data_,Zt=nt[Pt],zn=nt.then;if(typeof Zt=="function"){Pt=de;try{sn=Zt(sn)}catch(Zn){Qn(zn,Zn)}}nn(zn,sn)||(Pt===de&&on(zn,sn),Pt===Ue&&Qn(zn,sn))}function nn(nt,Lt){var Pt;try{if(nt===Lt)throw new TypeError("A promises callback cannot return that same promise.");if(Lt&&(typeof Lt=="function"||typeof Lt=="object")){var sn=Lt.then;if(typeof sn=="function")return sn.call(Lt,function(Zt){Pt||(Pt=!0,Lt!==Zt?on(nt,Zt):bn(nt,Zt))},function(Zt){Pt||(Pt=!0,Qn(nt,Zt))}),!0}}catch(Zt){return Pt||Qn(nt,Zt),!0}return!1}function on(nt,Lt){nt!==Lt&&nn(nt,Lt)||bn(nt,Lt)}function bn(nt,Lt){nt.state_===W&&(nt.state_=Q,nt.data_=Lt,St(Gt,nt))}function Qn(nt,Lt){nt.state_===W&&(nt.state_=Q,nt.data_=Lt,St(Jn,nt))}function zt(nt){var Lt=nt.then_;nt.then_=void 0;for(var Pt=0;Pt<Lt.length;Pt++)Ht(Lt[Pt])}function Gt(nt){nt.state_=de,zt(nt)}function Jn(nt){nt.state_=Ue,zt(nt)}function Tn(nt){if(typeof nt!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof Tn))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(Pt,sn){function Zt(zn){Qn(sn,zn)}try{Pt(function(Zn){on(sn,Zn)},Zt)}catch(zn){Zt(zn)}}(nt,this)}}(window);var K="v1.2.2",Z=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;globalThis.$=function(D,P){return new $.init(D,P)},$.version=K,$.fn=$.prototype={version:K,constructor:$,length:0,uid:"",push:[].push,sort:[].sort,splice:[].splice,indexOf:[].indexOf,reverse:[].reverse},$.extend=$.fn.extend=function(){var D,P,W=arguments[0]||{},Q=1,de=arguments.length;for(typeof W!="object"&&typeof W!="function"&&(W={}),Q===de&&(W=this,Q--);Q<de;Q++)if((D=arguments[Q])!=null)for(P in D)H(D,P)&&(W[P]=D[P]);return W},$.assign=function(){var D,P,W=arguments[0]||{},Q=1,de=arguments.length;for(typeof W!="object"&&typeof W!="function"&&(W={}),Q===de&&(W=this,Q--);Q<de;Q++)if((D=arguments[Q])!=null)for(P in D)H(D,P)&&D[P]!==void 0&&(W[P]=D[P]);return W};var xe=function(){return Date.now()};function Ee(D){var P=document.createElement("script");if(P.type="text/javascript",v(D))return $(P);var W=$(D)[0];return W.src?P.src=W.src:P.textContent=W.innerText,document.body.appendChild(P),W.parentNode&&W.parentNode.removeChild(W),P}$.extend({intervalId:-1,intervalQueue:[],intervalTicking:!1,intervalTickId:null,setInterval:function(D,P){var W=this;if(this.intervalId++,this.intervalQueue.push({id:this.intervalId,fn:D,interval:P,lastTime:xe()}),!this.intervalTicking){var Q=function(){W.intervalTickId=requestAnimationFrame(Q),$.each(W.intervalQueue,function(){var de=this;(de.interval<17||xe()-de.lastTime>=de.interval)&&(de.fn(),de.lastTime=xe())})};this.intervalTicking=!0,Q()}return this.intervalId},clearInterval:function(D){for(var P=0;P<this.intervalQueue.length;P++)if(D===this.intervalQueue[P].id){this.intervalQueue.splice(P,1);break}this.intervalQueue.length===0&&(cancelAnimationFrame(this.intervalTickId),this.intervalTicking=!1)},setTimeout:function(D,P){var W=this,Q=this.setInterval(function(){W.clearInterval(Q),D()},P);return Q},clearTimeout:function(D){return this.clearInterval(D)}}),$.fn.extend({index:function(D){var P,W=-1;return this.length===0||(P=v(D)?this[0]:D instanceof $&&D.length>0?D[0]:typeof D=="string"?$(D)[0]:void 0,v(P)||P&&P.parentNode&&$.each(P.parentNode.children,function(Q){this===P&&(W=Q)})),W},get:function(D){return D===void 0?this.items():D<0?this[D+this.length]:this[D]},eq:function(D){return!v(D)&&this.length>0?$.extend($(this.get(D)),{_prevObj:this}):this},is:function(D){var P=!1;return this.length!==0&&(D instanceof $?this.same(D):(D===":selected"?this.each(function(){this.selected&&(P=!0)}):D===":checked"?this.each(function(){this.checked&&(P=!0)}):D===":visible"?this.each(function(){h(this)&&(P=!0)}):D===":hidden"?this.each(function(){var W=getComputedStyle(this);(this.getAttribute("type")==="hidden"||this.hidden||W.display==="none"||W.visibility==="hidden"||parseInt(W.opacity)===0)&&(P=!0)}):typeof D=="string"&&[":selected"].indexOf(D)===-1?this.each(function(){Z.call(this,D)&&(P=!0)}):o(D)?this.each(function(){var W=this;$.each(D,function(){W===this&&(P=!0)})}):typeof D=="object"&&D.nodeType===1&&this.each(function(){this===D&&(P=!0)}),P))},same:function(D){var P=!0;return D instanceof $||(D=$(D)),this.length===D.length&&(this.each(function(){D.items().indexOf(this)===-1&&(P=!1)}),P)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){var D=this.filter(function(P,W){return W%2==0});return $.extend(D,{_prevObj:this})},even:function(){var D=this.filter(function(P,W){return W%2!=0});return $.extend(D,{_prevObj:this})},filter:function(D){if(typeof D=="string"){var P=D;D=function(W){return Z.call(W,P)}}return $.extend($.merge($(),[].filter.call(this,D)),{_prevObj:this})},find:function(D){var P,W=[];return D instanceof $?D:(this.length===0?P=this:(this.each(function(){this.querySelectorAll!==void 0&&(W=W.concat([].slice.call(this.querySelectorAll(D))))}),P=$.merge($(),W)),$.extend(P,{_prevObj:this}))},contains:function(D){return this.find(D).length>0},children:function(D){var P,W=[];return D instanceof $?D:(this.each(function(){var Q=this;for(P=0;P<Q.children.length;P++)Q.children[P].nodeType===1&&W.push(Q.children[P])}),W=D?W.filter(function(Q){return Z.call(Q,D)}):W,$.extend($.merge($(),W),{_prevObj:this}))},parent:function(D){var P=[];if(this.length!==0)return D instanceof $?D:(this.each(function(){this.parentNode&&P.indexOf(this.parentNode)===-1&&P.push(this.parentNode)}),P=D?P.filter(function(W){return Z.call(W,D)}):P,$.extend($.merge($(),P),{_prevObj:this}))},parents:function(D){var P=[];if(this.length!==0)return D instanceof $?D:(this.each(function(){for(var W=this.parentNode;W;)W.nodeType===1&&P.indexOf(W)===-1&&(v(D)||Z.call(W,D))&&P.push(W),W=W.parentNode}),$.extend($.merge($(),P),{_prevObj:this}))},siblings:function(D){var P=[];if(this.length!==0)return D instanceof $?D:(this.each(function(){var W=this;W.parentNode&&$.each(W.parentNode.children,function(){W!==this&&P.push(this)})}),D&&(P=P.filter(function(W){return Z.call(W,D)})),$.extend($.merge($(),P),{_prevObj:this}))},_siblingAll:function(D,P){var W=[];if(this.length!==0)return P instanceof $?P:(this.each(function(){for(var Q=this;Q&&(Q=Q[D]);)W.push(Q)}),P&&(W=W.filter(function(Q){return Z.call(Q,P)})),$.extend($.merge($(),W),{_prevObj:this}))},_sibling:function(D,P){var W=[];if(this.length!==0)return P instanceof $?P:(this.each(function(){var Q=this[D];Q&&Q.nodeType===1&&W.push(Q)}),P&&(W=W.filter(function(Q){return Z.call(Q,P)})),$.extend($.merge($(),W),{_prevObj:this}))},prev:function(D){return this._sibling("previousElementSibling",D)},next:function(D){return this._sibling("nextElementSibling",D)},prevAll:function(D){return this._siblingAll("previousElementSibling",D)},nextAll:function(D){return this._siblingAll("nextElementSibling",D)},closest:function(D){var P=[];if(this.length!==0)return D instanceof $?D:D?(this.each(function(){for(var W=this;W&&W;){if(Z.call(W,D))return void P.push(W);W=W.parentElement}}),$.extend($.merge($(),P.reverse()),{_prevObj:this})):this.parent(D)},has:function(D){var P=[];if(this.length!==0)return this.each(function(){$(this).children(D).length>0&&P.push(this)}),$.extend($.merge($(),P),{_prevObj:this})},back:function(D){var P;if(D===!0)for(P=this._prevObj;P&&P._prevObj;)P=P._prevObj;else P=this._prevObj?this._prevObj:this;return P}}),$.extend({script:function(D){if(v(D))return Ee();var P=$(D)[0];P.tagName&&P.tagName==="SCRIPT"?Ee(P):$.each($(P).find("script"),function(){Ee(this)})}}),$.fn.extend({script:function(){return this.each(function(){$.script(this)})}}),$.fn.extend({_prop:function(D,P){return arguments.length===1?this.length===0?void 0:this[0][D]:(v(P)&&(P=""),this.each(function(){this[D]=P,D==="innerHTML"&&$.script(this)}))},prop:function(D,P){return arguments.length===1?this._prop(D):this._prop(D,P===void 0?"":P)},val:function(D){return v(D)?this.length===0?void 0:this[0].value:this.each(function(){var P=$(this);this.value!==void 0?this.value=D:P.html(D)})},html:function(D){var P=[];return arguments.length===0?this._prop("innerHTML"):(D instanceof $?D.each(function(){P.push($(this).outerHTML())}):P.push(D),this._prop("innerHTML",P.length===1&&v(P[0])?"":P.join(`
`)),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(D){return arguments.length===0?this._prop("textContent"):this._prop("textContent",D===void 0?"":D)},innerText:function(D){return arguments.length===0?this._prop("innerText"):this._prop("innerText",D===void 0?"":D)},empty:function(){return this.each(function(){this.innerHTML!==void 0&&(this.innerHTML="")})},clear:function(){return this.empty()}}),$.each=function(D,P){var W=0;if(o(D))[].forEach.call(D,function(de,Ue){P.apply(de,[Ue,de])});else for(var Q in D)H(D,Q)&&P.apply(D[Q],[Q,D[Q],W++]);return D},$.fn.extend({each:function(D){return $.each(this,D)}});var We=function(D){this.expando="DATASET:UID:"+D.toUpperCase(),We.uid++};We.uid=-1,We.prototype={cache:function(D){var P=D[this.expando];return P||(P={},E(D)&&(D.nodeType?D[this.expando]=P:Object.defineProperty(D,this.expando,{value:P,configurable:!0}))),P},set:function(D,P,W){var Q,de=this.cache(D);if(typeof P=="string")de[y(P)]=W;else for(Q in P)H(P,Q)&&(de[y(Q)]=P[Q]);return de},get:function(D,P){return P===void 0?this.cache(D):D[this.expando]&&D[this.expando][y(P)]},access:function(D,P,W){return P===void 0||P&&typeof P=="string"&&W===void 0?this.get(D,P):(this.set(D,P,W),W!==void 0?W:P)},remove:function(D,P){var W,Q=D[this.expando];if(Q!==void 0){if(P!==void 0)for(W=(P=Array.isArray(P)?P.map(y):(P=y(P))in Q?[P]:P.match(/[^\x20\t\r\n\f]+/g)||[]).length;W--;)delete Q[P[W]];return(P===void 0||n(Q))&&(D.nodeType?D[this.expando]=void 0:delete D[this.expando]),!0}},hasData:function(D){var P=D[this.expando];return P!==void 0&&!n(P)}};var z=new We("m4q");$.extend({hasData:function(D){return z.hasData(D)},data:function(D,P,W){return z.access(D,P,W)},removeData:function(D,P){return z.remove(D,P)},dataSet:function(D){if(v(D))return z;if(["INTERNAL","M4Q"].indexOf(D.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new We(D)}}),$.fn.extend({data:function(D,P){var W,Q,de,Ue,Ke,mt;if(this.length!==0){if(Q=this[0],arguments.length===0){if(this.length&&(de=z.get(Q),Q.nodeType===1))for(mt=(Ue=Q.attributes).length;mt--;)Ue[mt]&&(Ke=Ue[mt].name).indexOf("data-")===0&&A(Q,Ke=y(Ke.slice(5)),de[Ke]);return de}return arguments.length===1?((W=z.get(Q,D))===void 0&&Q.nodeType===1&&Q.hasAttribute("data-"+D)&&(W=Q.getAttribute("data-"+D)),W):this.each(function(){z.set(this,D,P)})}},removeData:function(D){return this.each(function(){z.remove(this,D)})},origin:function(D,P,W){if(this.length===0)return this;if(v(D)&&v(P))return $.data(this[0]);if(v(P)){var Q=$.data(this[0],"origin-"+D);return v(Q)?W:Q}return this.data("origin-"+D,P),this}}),$.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:V(),isLocalhost:V,touchable:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}(),uniqueId:function(D){var P=new Date().getTime();return v(D)&&(D="m4q"),(D!==""?D+"-":"")+"xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(W){var Q=(P+16*Math.random())%16|0;return P=Math.floor(P/16),(W==="x"?Q:3&Q|8).toString(16)})},toArray:function(D){var P,W=[];for(P=0;P<D.length;P++)W.push(D[P]);return W},import:function(D){var P=[];return this.each(D,function(){P.push(this)}),this.merge($(),P)},merge:function(D,P){for(var W=+P.length,Q=0,de=D.length;Q<W;Q++)D[de++]=P[Q];return D.length=de,D},type:function(D){return Object.prototype.toString.call(D).replace(/^\[object (.+)]$/,"$1").toLowerCase()},sleep:function(D){new Date().getTime()},isSelector:function(D){if(typeof D!="string")return!1;try{document.querySelector(D)}catch{return!1}return!0},remove:function(D){return $(D).remove()},camelCase:y,dashedName:function(P){return P.replace(/([A-Z])/g,function(W){return"-"+W.toLowerCase()})},isPlainObject:e,isEmptyObject:n,isArrayLike:o,acceptData:E,not:v,parseUnit:p,getUnit:w,unit:p,isVisible:h,isHidden:function(P){var W=getComputedStyle(P);return!h(P)||+W.opacity==0||P.hidden||W.visibility==="hidden"},matches:function(D,P){return Z.call(D,P)},random:function(D,P){return arguments.length===1&&o(D)?D[Math.floor(Math.random()*D.length)]:Math.floor(Math.random()*(P-D+1)+D)},strip:function(P,W){return typeof P!="string"?void 0:P.replace(W,"")},normName:B,hasProp:H,serializeToArray:function(D){var P=$(D)[0];if(P&&P.nodeName==="FORM"){var W,Q,de=[];for(W=P.elements.length-1;W>=0;W-=1)if(P.elements[W].name!=="")switch(P.elements[W].nodeName){case"INPUT":switch(P.elements[W].type){case"checkbox":case"radio":P.elements[W].checked&&de.push(P.elements[W].name+"="+encodeURIComponent(P.elements[W].value));break;case"file":break;default:de.push(P.elements[W].name+"="+encodeURIComponent(P.elements[W].value))}break;case"TEXTAREA":de.push(P.elements[W].name+"="+encodeURIComponent(P.elements[W].value));break;case"SELECT":switch(P.elements[W].type){case"select-one":de.push(P.elements[W].name+"="+encodeURIComponent(P.elements[W].value));break;case"select-multiple":for(Q=P.elements[W].options.length-1;Q>=0;Q-=1)P.elements[W].options[Q].selected&&de.push(P.elements[W].name+"="+encodeURIComponent(P.elements[W].options[Q].value))}break;case"BUTTON":switch(P.elements[W].type){case"reset":case"submit":case"button":de.push(P.elements[W].name+"="+encodeURIComponent(P.elements[W].value))}}return de}console.warn("Element is not a HTMLFromElement")},serialize:function(D){return $.serializeToArray(D).join("&")}}),$.fn.extend({items:function(){return $.toArray(this)}}),function(){if(typeof window.CustomEvent=="function")return!1;function D(P,W){W=W||{bubbles:!1,cancelable:!1,detail:null};var Q=document.createEvent("CustomEvent");return Q.initCustomEvent(P,W.bubbles,W.cancelable,W.detail),Q}D.prototype=window.Event.prototype,window.CustomEvent=D}();var ee=Event.prototype.stopPropagation,le=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,ee.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,le.apply(this,arguments)},Event.prototype.stop=function(D){return D?this.stopImmediatePropagation():this.stopPropagation()},$.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(D){var P,W,Q,de=-1;if(this.events.length>0){for(P=0;P<this.events.length;P++)if(this.events[P].handler===null){de=P;break}}return W={element:D.el,event:D.event,handler:D.handler,selector:D.selector,ns:D.ns,id:D.id,options:D.options},de===-1?(this.events.push(W),Q=this.events.length-1):(this.events[de]=W,Q=de),Q},getEventHandler:function(D){if(this.events[D]!==void 0&&this.events[D]!==null)return this.events[D]=null,this.events[D].handler},off:function(){return $.each(this.events,function(){this.element.removeEventListener(this.event,this.handler,!0)}),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(D,P,W){return v(W)&&(W="before"),$.each(d(D),function(){this.eventHooks[y(W+"-"+this)]=P}),this},removeEventHook:function(D,P){return v(P)&&(P="before"),$.each(d(D),function(){delete this.eventHooks[y(P+"-"+this)]}),this},removeEventHooks:function(D){var P=this;return v(D)?this.eventHooks={}:$.each(d(D),function(){delete P.eventHooks[y("before-"+this)],delete P.eventHooks[y("after-"+this)]}),this}}),$.fn.extend({on:function(D,P,W,Q){if(this.length!==0)return typeof P=="function"&&(Q=W,W=P,P=void 0),e(Q)||(Q={}),this.each(function(){var de=this;$.each(d(D),function(){var Ue,Ke,mt,kt=this.split("."),vt=B(kt[0]),Et=Q.ns?Q.ns:kt[1];$.eventUID++,Ue=function(St){var Ht=St.target,nn=$.eventHooks[y("before-"+vt)],on=$.eventHooks[y("after-"+vt)];if(typeof nn=="function"&&nn.call(Ht,St),P)for(;Ht&&Ht!==de;){if(Z.call(Ht,P)&&(W.call(Ht,St),St.isPropagationStopped)){St.stopImmediatePropagation();break}Ht=Ht.parentNode}else W.call(de,St);typeof on=="function"&&on.call(Ht,St),Q.once&&(Ke=+$(de).origin("event-"+St.type+(P?":"+P:"")+(Et?":"+Et:"")),isNaN(Ke)||$.events.splice(Ke,1))},Object.defineProperty(Ue,"name",{value:W.name&&W.name!==""?W.name:"func_event_"+vt+"_"+$.eventUID}),mt=vt+(P?":"+P:"")+(Et?":"+Et:""),de.addEventListener(vt,Ue,!n(Q)&&Q),Ke=$.setEventHandler({el:de,event:vt,handler:Ue,selector:P,ns:Et,id:$.eventUID,options:!n(Q)&&Q}),$(de).origin("event-"+mt,Ke)})})},one:function(D,P,W,Q){return e(Q)||(Q={}),Q.once=!0,this.on.apply(this,[D,P,W,Q])},off:function(D,P,W){return e(P)&&(W=P,P=null),e(W)||(W={}),v(D)||D.toLowerCase()==="all"?this.each(function(){var Q=this;$.each($.events,function(){var de=this;de.element===Q&&(Q.removeEventListener(de.event,de.handler,de.options),de.handler=null,$(Q).origin("event-"+name+(de.selector?":"+de.selector:"")+(de.ns?":"+de.ns:""),null))})}):this.each(function(){var Q=this;$.each(d(D),function(){var de,Ue,Ke=this.split("."),mt=B(Ke[0]),kt=W.ns?W.ns:Ke[1];de="event-"+mt+(P?":"+P:"")+(kt?":"+kt:""),(Ue=$(Q).origin(de))!==void 0&&$.events[Ue].handler&&(Q.removeEventListener(mt,$.events[Ue].handler,$.events[Ue].options),$.events[Ue].handler=null),$(Q).origin(de,null)})})},trigger:function(D,P){return this.fire(D,P)},fire:function(D,P){var W,Q;if(this.length!==0)return W=B(D),["focus","blur"].indexOf(W)>-1?(this[0][W](),this):(typeof CustomEvent<"u"?Q=new CustomEvent(W,{bubbles:!0,cancelable:!0,detail:P}):((Q=document.createEvent("Events")).detail=P,Q.initEvent(W,!0,!0)),this.each(function(){this.dispatchEvent(Q)}))}}),"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach(function(D){$.fn[D]=function(P,W,Q){return arguments.length>0?this.on(D,P,W,Q):this.fire(D)}}),$.fn.extend({hover:function(D,P){return this.mouseenter(D).mouseleave(P||D)}}),$.ready=function(D,P){document.addEventListener("DOMContentLoaded",D,P||!1)},$.load=function(D){return $(window).on("load",D)},$.unload=function(D){return $(window).on("unload",D)},$.fn.extend({unload:function(D){return this.length===0||this[0].self!==window?void 0:$.unload(D)}}),$.beforeunload=function(D){return typeof D=="string"?$(window).on("beforeunload",function(P){return P.returnValue=D,D}):$(window).on("beforeunload",D)},$.fn.extend({beforeunload:function(D){return this.length===0||this[0].self!==window?void 0:$.beforeunload(D)}}),$.fn.extend({ready:function(D){if(this.length&&this[0]===document&&typeof D=="function")return $.ready(D)}}),$.ajax=function(D){return new Promise(function(P,W){var Q,de,Ue,Ke=new XMLHttpRequest,mt=(D.method||"GET").toUpperCase(),kt=[],vt=!!v(D.async)||D.async,Et=D.url,St=function(zt,Gt){typeof zt=="function"&&zt.apply(null,Gt)},Ht=function(zt){return["GET","JSON"].indexOf(zt)!==-1};if(D.data instanceof HTMLFormElement){var nn=D.data.getAttribute("action"),on=D.data.getAttribute("method");v(Et)&&nn&&nn.trim()!==""&&(Et=nn),on&&on.trim()!==""&&(mt=on.toUpperCase())}if(D.timeout&&(Ke.timeout=D.timeout),D.withCredentials&&(Ke.withCredentials=D.withCredentials),D.data instanceof HTMLFormElement)Q=$.serialize(D.data);else if(D.data instanceof HTMLElement&&D.data.getAttribute("type")&&D.data.getAttribute("type").toLowerCase()==="file"){var bn=D.data.getAttribute("name");Q=new FormData;for(var Qn=0;Qn<D.data.files.length;Qn++)Q.append(bn,D.data.files[Qn])}else e(D.data)?(de=D.data,Ue=[],$.each(de,function(zt,Gt){var Jn=function(nt){return typeof nt=="string"||typeof nt=="boolean"||typeof nt=="number"}(Gt)?Gt:JSON.stringify(Gt);Ue.push(zt+"="+Jn)}),Q=Ue.join("&")):D.data instanceof FormData||typeof D.data=="string"?Q=D.data:(Q=new FormData).append("_data",JSON.stringify(D.data));Ht(mt)&&(Et+=typeof Q=="string"?"?"+Q:n(Q)?"":"?"+JSON.stringify(Q)),Ke.open(mt,Et,vt,D.user,D.password),D.headers&&$.each(D.headers,function(zt,Gt){Ke.setRequestHeader(zt,Gt),kt.push(zt)}),Ht(mt)||kt.indexOf("Content-type")===-1&&D.contentType!==!1&&Ke.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Ke.send(Q),Ke.addEventListener("load",function(zt){if(Ke.readyState===4&&Ke.status<300){var Gt=D.returnValue&&D.returnValue==="xhr"?Ke:Ke.response;if(D.parseJson)try{Gt=JSON.parse(Gt)}catch{Gt={}}St(P,[Gt]),St(D.onSuccess,[zt,Ke])}else St(W,[Ke]),St(D.onFail,[zt,Ke]);St(D.onLoad,[zt,Ke])}),$.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],function(){var zt=y("on-"+(this==="readystatechange"?"state":this));Ke.addEventListener(zt,function(Gt){St(D[zt],[Gt,Ke])})})})},["get","post","put","patch","delete","json"].forEach(function(D){$[D]=function(P,W,Q){var de=D.toUpperCase(),Ue={method:de==="JSON"?"GET":de,url:P,data:W,parseJson:de==="JSON"};return $.ajax($.extend({},Ue,Q))}}),$.fn.extend({load:function(D,P,W){var Q=this;return this.length&&this[0].self===window?$.load(D):$.get(D,P,W).then(function(de){Q.each(function(){this.innerHTML=de})})}}),$.fn.extend({style:function(D,P){var W;function Q(Ke,mt,kt){return["scrollLeft","scrollTop"].indexOf(mt)>-1?$(Ke)[mt]():getComputedStyle(Ke,kt)[mt]}if(typeof D!="string"||this.length!==0){if(this.length===0)return this;if(W=this[0],v(D)||D==="all")return getComputedStyle(W,P);var de={},Ue=D.split(", ").map(function(Ke){return(""+Ke).trim()});return Ue.length===1?Q(W,Ue[0],P):($.each(Ue,function(){de[this]=Q(W,this,P)}),de)}},removeStyleProperty:function(D){if(v(D)||this.length===0)return this;var P=D.split(", ").map(function(W){return(""+W).trim()});return this.each(function(){var W=this;$.each(P,function(){W.style.removeProperty(this)})})},css:function(D,P){return typeof(D=D||"all")=="string"&&v(P)?this.style(D):this.each(function(){var W=this;typeof D=="object"?$.each(D,function(Q,de){_(W,Q,de)}):typeof D=="string"&&_(W,D,P)})},scrollTop:function(D){return v(D)?this.length===0?void 0:this[0]===window?pageYOffset:this[0].scrollTop:this.each(function(){this.scrollTop=D})},scrollLeft:function(D){return v(D)?this.length===0?void 0:this[0]===window?pageXOffset:this[0].scrollLeft:this.each(function(){this.scrollLeft=D})}}),$.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(D){return this.hasClass(D)},hasClass:function(D){var P=!1,W=D.split(" ").filter(function(Q){return(""+Q).trim()!==""});return!v(D)&&(this.each(function(){var Q=this;$.each(W,function(){!P&&Q.classList&&Q.classList.contains(this)&&(P=!0)})}),P)},clearClasses:function(){return this.each(function(){this.className=""})},cls:function(D){return this.length===0?void 0:D?this[0].className.split(" "):this[0].className},removeClassBy:function(D){return this.each(function(){var P=$(this),W=P.cls(!0);$.each(W,function(){this.indexOf(D)>-1&&P.removeClass(this)})})},classNames:function(){var D=Array.prototype.slice.call(arguments,0),P=[];return $.each(D,function(W,Q){typeof Q=="string"?P.push(Q):e(Q)&&$.each(Q,function(de,Ue){Ue&&P.push(de)})}),this.each(function(){this.className+=" "+P.join(" ")})}}),["add","remove","toggle"].forEach(function(D){$.fn[D+"Class"]=function(P){var W=P?Array.isArray(P)?P:P.split(" ").filter(function(Q){return!!Q}):[];return W.length?this.each(function(){var Q=this;Q.classList!==void 0?$.each(W,function(de,Ue){Q.classList[D](Ue)}):Q.className+=W.join(" ")}):this}}),$.parseHTML=function(D){var P,W,Q,de,Ue=[];if(typeof D!="string")return[];if(D=D.trim(),(P=(Q=document.implementation.createHTMLDocument("")).createElement("base")).href=document.location.href,Q.head.appendChild(P),de=Q.body,W=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i.exec(D))Ue.push(document.createElement(W[1]));else{de.innerHTML=D;for(var Ke=0;Ke<de.childNodes.length;Ke++)Ue.push(de.childNodes[Ke])}return Ue},$.fn.extend({_size:function(D,P){if(this.length!==0){if(v(P)){var W=this[0];if(D==="height")return W===window?window.innerHeight:W===document?W.body.clientHeight:parseInt(getComputedStyle(W).height);if(D==="width")return W===window?window.innerWidth:W===document?W.body.clientWidth:parseInt(getComputedStyle(W).width)}return this.each(function(){var Q=this;Q!==window&&Q!==document&&(Q.style[D]=isNaN(P)?P:P+"px")})}},height:function(D){return this._size("height",D)},width:function(D){return this._size("width",D)},_sizeOut:function(D,P){var W,Q,de,Ue;if(this.length!==0)return v(P)||typeof P=="boolean"?(Q=(W=this[0])[D==="width"?"offsetWidth":"offsetHeight"],de=getComputedStyle(W),Ue=Q+parseInt(de[D==="width"?"margin-left":"margin-top"])+parseInt(de[D==="width"?"margin-right":"margin-bottom"]),P===!0?Ue:Q):this.each(function(){var Ke=this;if(Ke!==window&&Ke!==document){var mt,kt=getComputedStyle(Ke),vt=D==="width"?parseInt(kt["border-left-width"])+parseInt(kt["border-right-width"]):parseInt(kt["border-top-width"])+parseInt(kt["border-bottom-width"]),Et=D==="width"?parseInt(kt["padding-left"])+parseInt(kt["padding-right"]):parseInt(kt["padding-top"])+parseInt(kt["padding-bottom"]);mt=$(this)[D](P)[D]()-vt-Et,Ke.style[D]=mt+"px"}})},outerWidth:function(D){return this._sizeOut("width",D)},outerHeight:function(D){return this._sizeOut("height",D)},padding:function(D){if(this.length!==0){var P=getComputedStyle(this[0],D);return{top:parseInt(P["padding-top"]),right:parseInt(P["padding-right"]),bottom:parseInt(P["padding-bottom"]),left:parseInt(P["padding-left"])}}},margin:function(D){if(this.length!==0){var P=getComputedStyle(this[0],D);return{top:parseInt(P["margin-top"]),right:parseInt(P["margin-right"]),bottom:parseInt(P["margin-bottom"]),left:parseInt(P["margin-left"])}}},border:function(D){if(this.length!==0){var P=getComputedStyle(this[0],D);return{top:parseInt(P["border-top-width"]),right:parseInt(P["border-right-width"]),bottom:parseInt(P["border-bottom-width"]),left:parseInt(P["border-left-width"])}}}}),$.fn.extend({offset:function(D){var P;return v(D)?this.length===0?void 0:{top:(P=this[0].getBoundingClientRect()).top+pageYOffset,left:P.left+pageXOffset}:this.each(function(){var W=$(this),Q=D.top,de=D.left,Ue=getComputedStyle(this).position,Ke=W.offset();Ue==="static"&&W.css("position","relative"),["absolute","fixed"].indexOf(Ue)===-1&&(Q-=Ke.top,de-=Ke.left),W.css({top:Q,left:de})})},position:function(D){var P,W,Q=0,de=0;if((v(D)||typeof D!="boolean")&&(D=!1),this.length!==0)return P=this[0],W=getComputedStyle(P),D&&(Q=parseInt(W["margin-left"]),de=parseInt(W["margin-top"])),{left:P.offsetLeft-Q,top:P.offsetTop-de}},left:function(D,P){if(this.length!==0)return v(D)?this.position(P).left:typeof D=="boolean"?(P=D,this.position(P).left):this.each(function(){$(this).css({left:D})})},top:function(D,P){if(this.length!==0)return v(D)?this.position(P).top:typeof D=="boolean"?(P=D,this.position(P).top):this.each(function(){$(this).css({top:D})})},coord:function(){return this.length===0?void 0:this[0].getBoundingClientRect()},pos:function(){if(this.length!==0)return{top:parseInt($(this[0]).style("top")),left:parseInt($(this[0]).style("left"))}}}),$.fn.extend({attr:function(D,P){var W={};if(this.length!==0||arguments.length!==0)return this.length&&arguments.length===0?($.each(this[0].attributes,function(){W[this.nodeName]=this.nodeValue}),W):arguments.length===1&&typeof D=="string"?this.length&&this[0].nodeType===1&&this[0].hasAttribute(D)?this[0].getAttribute(D):void 0:this.each(function(){var Q=this;e(D)?$.each(D,function(de,Ue){Q.setAttribute(de,Ue)}):Q.setAttribute(D,P)})},removeAttr:function(D){var P;return v(D)?this.each(function(){var W=this;$.each(this.attributes,function(){W.removeAttribute(this)})}):(P=typeof D=="string"?D.split(",").map(function(W){return W.trim()}):D,this.each(function(){var W=this;$.each(P,function(){W.hasAttribute(this)&&W.removeAttribute(this)})}))},toggleAttr:function(D,P){return this.each(function(){v(P)?this.removeAttribute(D):this.setAttribute(D,P)})},id:function(D){return this.length?$(this[0]).attr("id",D):void 0}}),$.extend({meta:function(D){return v(D)?$("meta"):$("meta[name='$name']".replace("$name",D))},metaBy:function(D){return v(D)?$("meta"):$("meta[$name]".replace("$name",D))},doctype:function(){return $("doctype")},html:function(){return $("html")},head:function(){return $("html").find("head")},body:function(){return $("body")},document:function(){return $(document)},window:function(){return $(window)},charset:function(D){var P=$("meta[charset]");return D&&P.attr("charset",D),P.attr("charset")}}),$.extend({proxy:function(D,P){return typeof D!="function"?void 0:D.bind(P)},bind:function(D,P){return this.proxy(D,P)}}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(D){["append","prepend"].forEach(function(P){H(D,P)||Object.defineProperty(D,P,{configurable:!0,enumerable:!0,writable:!0,value:function(){var W=Array.prototype.slice.call(arguments),Q=document.createDocumentFragment();W.forEach(function(de){var Ue=de instanceof Node;Q.appendChild(Ue?de:document.createTextNode(String(de)))}),P==="prepend"?this.insertBefore(Q,this.firstChild):this.appendChild(Q)}})})});var Ce=function(D){var P;return typeof D=="string"?P=$.isSelector(D)?$(D):$.parseHTML(D):D instanceof HTMLElement?P=[D]:o(D)&&(P=D),P};$.fn.extend({appendText:function(D){return this.each(function(P,W){W.innerHTML+=D})},prependText:function(D){return this.each(function(P,W){W.innerHTML=D+W.innerHTML})},append:function(D){var P=Ce(D);return this.each(function(W,Q){$.each(P,function(){if(Q!==this){var de=W===0?this:this.cloneNode(!0);$.script(de),de.tagName&&de.tagName!=="SCRIPT"&&Q.append(de)}})})},appendTo:function(D){var P=Ce(D);return this.each(function(){var W=this;$.each(P,function(Q,de){W!==this&&de.append(Q===0?W:W.cloneNode(!0))})})},prepend:function(D){var P=Ce(D);return this.each(function(W,Q){$.each(P,function(){if(Q!==this){var de=W===0?this:this.cloneNode(!0);$.script(de),de.tagName&&de.tagName!=="SCRIPT"&&Q.prepend(de)}})})},prependTo:function(D){var P=Ce(D);return this.each(function(){var W=this;$.each(P,function(Q,de){W!==this&&$(de).prepend(Q===0?W:W.cloneNode(!0))})})},insertBefore:function(D){var P=Ce(D);return this.each(function(){var W=this;$.each(P,function(Q){if(W!==this){var de=this.parentNode;de&&de.insertBefore(Q===0?W:W.cloneNode(!0),this)}})})},insertAfter:function(D){var P=Ce(D);return this.each(function(){var W=this;$.each(P,function(Q,de){if(W!==this){var Ue=this.parentNode;Ue&&Ue.insertBefore(Q===0?W:W.cloneNode(!0),de.nextSibling)}})})},after:function(D){return this.each(function(){typeof D=="string"?this.insertAdjacentHTML("afterend",D):$(D).insertAfter(this)})},before:function(D){return this.each(function(){typeof D=="string"?this.insertAdjacentHTML("beforebegin",D):$(D).insertBefore(this)})},clone:function(D,P){var W=[];return v(D)&&(D=!1),v(P)&&(P=!1),this.each(function(){var Q,de=this.cloneNode(D),Ue=$(de);P&&$.hasData(this)&&(Q=$(this).data(),$.each(Q,function(Ke,mt){Ue.data(Ke,mt)})),W.push(de)}),$.merge($(),W)},import:function(D){var P=[];return v(D)&&(D=!1),this.each(function(){P.push(document.importNode(this,D))}),$.merge($(),P)},adopt:function(){var D=[];return this.each(function(){D.push(document.adoptNode(this))}),$.merge($(),D)},remove:function(D){var P,W,Q=0,de=[];if(this.length!==0){for(W=D?this.filter(function(Ue){return Z.call(Ue,D)}):this.items();(P=W[Q])!=null;Q++)P.parentNode&&(de.push(P.parentNode.removeChild(P)),$.removeData(P));return $.merge($(),de)}},wrap:function(D){if(this.length!==0){var P=$(Ce(D));if(P.length){var W=[];return this.each(function(){var Q,de;for((de=P.clone(!0,!0)).insertBefore(this),Q=de;Q.children().length;)Q=Q.children().eq(0);Q.append(this),W.push(de)}),$(W)}}},wrapAll:function(D){var P,W,Q;if(this.length!==0&&(P=$(Ce(D))).length){for((W=P.clone(!0,!0)).insertBefore(this[0]),Q=W;Q.children().length;)Q=Q.children().eq(0);return this.each(function(){Q.append(this)}),W}},wrapInner:function(D){if(this.length!==0){var P=$(Ce(D));if(P.length){var W=[];return this.each(function(){var Q=$(this),de=Q.html(),Ue=P.clone(!0,!0);Q.html(Ue.html(de)),W.push(Ue)}),$(W)}}}}),$.extend({animation:{duration:1e3,ease:"linear",elements:{}}}),typeof window.setupAnimation=="object"&&$.each(window.setupAnimation,function(D,P){$.animation[D]===void 0||v(P)||($.animation[D]=P)});var ye=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],$e=["opacity","zIndex"],Qe=["opacity","volume"],rt=["scrollLeft","scrollTop"],tt=["opacity","volume"];function jt(D){return D instanceof HTMLElement||D instanceof SVGElement}function Jt(D,P,W){$.each(P,function(Q,de){(function(Ke,mt,kt,vt,Et){v(Et)&&(Et=!1),mt=y(mt),Et&&(kt=parseInt(kt)),jt(Ke)?Ke[mt]!==void 0?Ke[mt]=kt:Ke.style[mt]=mt==="transform"||mt.toLowerCase().indexOf("color")>-1?kt:kt+vt:Ke[mt]=kt})(D,Q,de[0]+de[2]*W,de[3],de[4])})}function ui(D){if(!jt(D))return{};for(var P,W=D.style.transform||"",Q=/(\w+)\(([^)]*)\)/g,de={};P=Q.exec(W);)de[P[1]]=P[2];return de}function Ve(D){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(D||"#000000").slice(1).map(function(P){return parseInt(P,16)})}function bt(D){return D[0]==="#"&&D.length===4?"#"+D.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(P,W,Q,de){return W+W+Q+Q+de+de}):D[0]==="#"?D:"#"+D}function ni(D,P,W){Jt(D,P.props,W),function(de,Ue,Ke){var mt=[],kt=ui(de);$.each(Ue,function(vt,Et){var St=Et[0],Ht=Et[1],nn=Et[2],on=Et[3];((vt=""+vt).indexOf("rotate")>-1||vt.indexOf("skew")>-1)&&on===""&&(on="deg"),vt.indexOf("scale")>-1&&(on=""),vt.indexOf("translate")>-1&&on===""&&(on="px"),on==="turn"?mt.push(vt+"("+Ht*Ke+on+")"):mt.push(vt+"("+(St+nn*Ke)+on+")")}),$.each(kt,function(vt,Et){Ue[vt]===void 0&&mt.push(vt+"("+Et+")")}),de.style.transform=mt.join(" ")}(D,P.transform,W),function(de,Ue,Ke){$.each(Ue,function(mt,kt){var vt,Et,St=[0,0,0];for(vt=0;vt<3;vt++)St[vt]=Math.floor(kt[0][vt]+kt[2][vt]*Ke);Et="rgb("+St.join(",")+")",de.style[mt]=Et})}(D,P.color,W)}function Wn(D,P,W){var Q,de,Ue,Ke,mt,kt,vt={props:{},transform:{},color:{}},Et=ui(D);return v(W)&&(W="normal"),$.each(P,function(St,Ht){var nn=ye.indexOf(""+St)>-1,on=$e.indexOf(""+St)>-1,bn=(""+St).toLowerCase().indexOf("color")>-1;if(Array.isArray(Ht)&&Ht.length===1&&(Ht=Ht[0]),Array.isArray(Ht)?(de=bn?Ve(bt(Ht[0])):p(Ht[0]),Ue=bn?Ve(bt(Ht[1])):p(Ht[1])):(de=nn?Et[St]||0:bn?function(zt,Gt){return getComputedStyle(zt)[Gt].replace(/[^\d.,]/g,"").split(",").map(function(Jn){return parseInt(Jn)})}(D,St):function(zt,Gt,Jn){return zt[Gt]!==void 0?rt.indexOf(Gt)>-1?Gt==="scrollLeft"?zt===window?pageXOffset:zt.scrollLeft:zt===window?pageYOffset:zt.scrollTop:zt[Gt]||0:zt.style[Gt]||getComputedStyle(zt,Jn)[Gt]}(D,St),de=bn?de:p(de),Ue=bn?Ve(Ht):p(function(zt,Gt){var Jn=/^(\*=|\+=|-=)/.exec(zt);if(!Jn)return zt;var Tn=w(zt)||0,nt=parseFloat(Gt),Lt=parseFloat(zt.replace(Jn[0],""));switch(Jn[0][0]){case"+":return nt+Lt+Tn;case"-":return nt-Lt+Tn;case"*":return nt*Lt+Tn;case"/":return nt/Lt+Tn}}(Ht,Array.isArray(de)?de[0]:de))),tt.indexOf(""+St)>-1&&de[0]===Ue[0]&&(de[0]=Ue[0]>0?0:1),W==="reverse"&&(kt=de,de=Ue,Ue=kt),mt=D instanceof HTMLElement&&Ue[1]===""&&!on&&!nn?"px":Ue[1],bn)for(Ke=[0,0,0],Q=0;Q<3;Q++)Ke[Q]=Ue[Q]-de[Q];else Ke=Ue[0]-de[0];nn?vt.transform[St]=[de[0],Ue[0],Ke,mt]:bn?vt.color[St]=[de,Ue,Ke,mt]:vt.props[St]=[de[0],Ue[0],Ke,mt,Qe.indexOf(""+St)===-1]}),vt}function ki(D,P,W){return Math.min(Math.max(D,P),W)}var In={linear:function(){return function(D){return D}}};In.default=In.linear;var _i={Sine:function(){return function(D){return 1-Math.cos(D*Math.PI/2)}},Circ:function(){return function(D){return 1-Math.sqrt(1-D*D)}},Back:function(){return function(D){return D*D*(3*D-2)}},Bounce:function(){return function(D){for(var P,W=4;D<((P=Math.pow(2,--W))-1)/11;);return 1/Math.pow(4,3-W)-7.5625*Math.pow((3*P-2)/22-D,2)}},Elastic:function(D,P){v(D)&&(D=1),v(P)&&(P=.5);var W=ki(D,1,10),Q=ki(P,.1,2);return function(de){return de===0||de===1?de:-W*Math.pow(2,10*(de-1))*Math.sin((de-1-Q/(2*Math.PI)*Math.asin(1/W))*(2*Math.PI)/Q)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach(function(D,P){_i[D]=function(){return function(W){return Math.pow(W,P+2)}}}),Object.keys(_i).forEach(function(D){var P=_i[D];In["easeIn"+D]=P,In["easeOut"+D]=function(W,Q){return function(de){return 1-P(W,Q)(1-de)}},In["easeInOut"+D]=function(W,Q){return function(de){return de<.5?P(W,Q)(2*de)/2:1-P(W,Q)(-2*de+2)/2}}});var Mt={id:null,el:null,draw:{},dur:$.animation.duration,ease:$.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function Ts(D){return new Promise(function(P){var W,Q=this,de=$.assign({},Mt,{dur:$.animation.duration,ease:$.animation.ease},D),Ue=de.id,Ke=de.el,mt=de.draw,kt=de.dur,vt=de.ease,Et=de.loop,St=de.onStart,Ht=de.onFrame,nn=de.onDone,on=de.pause,bn=de.dir,Qn=de.defer,zt={},Gt="linear",Jn=[],Tn=In.linear,nt=bn==="alternate"?"normal":bn,Lt=!1,Pt=Ue||+performance.now()*Math.pow(10,14);if(v(Ke))throw new Error("Unknown element!");if(typeof Ke=="string"&&(Ke=document.querySelector(Ke)),typeof mt!="function"&&typeof mt!="object")throw new Error("Unknown draw object. Must be a function or object!");kt===0&&(kt=1),bn==="alternate"&&typeof Et=="number"&&(Et*=2),typeof vt=="string"?(W=/\(([^)]+)\)/.exec(vt),Gt=vt.split("(")[0],Jn=W?W[1].split(",").map(function(Zn){return parseFloat(Zn)}):[],Tn=In[Gt]||In.linear):Tn=typeof vt=="function"?vt:In.linear,$.animation.elements[Pt]={element:Ke,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};var sn=function(){typeof mt=="object"&&(zt=Wn(Ke,mt,nt)),typeof St=="function"&&St.apply(Ke),$.animation.elements[Pt].loop+=1,$.animation.elements[Pt].started=performance.now(),$.animation.elements[Pt].duration=kt,$.animation.elements[Pt].id=requestAnimationFrame(zn)},Zt=function(){cancelAnimationFrame($.animation.elements[Pt].id),delete $.animation.elements[Ue],typeof nn=="function"&&nn.apply(Ke),P(Q)},zn=function(Zn){var vi,ci,qi=$.animation.elements[Pt].stop,qo=$.animation.elements[Pt].pause,Js=$.animation.elements[Pt].started;if($.animation.elements[Pt].paused&&(Js=Zn-$.animation.elements[Pt].t*kt,$.animation.elements[Pt].started=Js),(ci=((Zn-Js)/kt).toFixed(4))>1&&(ci=1),ci<0&&(ci=0),vi=Tn.apply(null,Jn)(ci),$.animation.elements[Pt].t=ci,$.animation.elements[Pt].p=vi,qo)$.animation.elements[Pt].id=requestAnimationFrame(zn);else{if(qi>0)return qi===2&&(typeof mt=="function"?mt.bind(Ke)(1,1):ni(Ke,zt,1)),void Zt();typeof mt=="function"?mt.bind(Ke)(ci,vi):ni(Ke,zt,vi),typeof Ht=="function"&&Ht.apply(Ke,[ci,vi]),ci<1&&($.animation.elements[Pt].id=requestAnimationFrame(zn)),parseInt(ci)===1&&(Et?(bn==="alternate"&&(nt=nt==="normal"?"reverse":"normal"),typeof Et=="boolean"||Et>$.animation.elements[Pt].loop?setTimeout(function(){sn()},on):Zt()):bn!=="alternate"||Lt?Zt():(nt=nt==="normal"?"reverse":"normal",Lt=!0,sn()))}};Qn>0?setTimeout(function(){sn()},Qn):sn()})}function gi(D,P){var W=$.animation.elements[D];W!==void 0&&(v(P)&&(P=!0),W.stop=P===!0?2:1,typeof W.onStop=="function"&&W.onStop.apply(W.element))}function kn(D){var P=$.animation.elements[D];P!==void 0&&(P.pause=1,P.paused=performance.now(),typeof P.onPause=="function"&&P.onPause.apply(P.element))}function wt(D){var P=$.animation.elements[D];P!==void 0&&(P.pause=0,P.paused=0,typeof P.onResume=="function"&&P.onResume.apply(P.element))}var rs={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};$.easing={},$.extend($.easing,In),$.extend({animate:function(D){var P,W,Q,de,Ue;return arguments.length>1?(P=$(arguments[0])[0],W=arguments[1],Q=arguments[2]||$.animation.duration,de=arguments[3]||$.animation.ease,Ue=arguments[4],typeof Q=="function"&&(Ue=Q,de=$.animation.ease,Q=$.animation.duration),typeof de=="function"&&(Ue=de,de=$.animation.ease),Ts({el:P,draw:W,dur:Q,ease:de,onDone:Ue})):Ts(D)},chain:function D(P,W){var Q=$.extend({},rs,W);if(typeof Q.loop!="boolean"&&Q.loop--,!Array.isArray(P))return console.warn("Chain array is not defined!"),!1;P.reduce(function(de,Ue){return de.then(function(){return typeof Q.onChainItem=="function"&&Q.onChainItem(Ue),Ts(Ue).then(function(){typeof Q.onChainItemComplete=="function"&&Q.onChainItemComplete(Ue)})})},Promise.resolve()).then(function(){typeof Q.onChainComplete=="function"&&Q.onChainComplete(),Q.loop&&D(P,Q)})},stop:gi,stopAll:function(P,W){$.each($.animation.elements,function(Q,de){W?typeof W=="string"?Z.call(de.element,W)&&gi(Q,P):W.length?$.each(W,function(){de.element===this&&gi(Q,P)}):W instanceof Element&&de.element===W&&gi(Q,P):gi(Q,P)})},resume:wt,resumeAll:function(P){$.each($.animation.elements,function(W,Q){P?typeof P=="string"?Z.call(Q.element,P)&&wt(W):P.length?$.each(P,function(){Q.element===this&&wt(W)}):P instanceof Element&&Q.element===P&&wt(W):wt(W)})},pause:kn,pauseAll:function(P){$.each($.animation.elements,function(W,Q){P?typeof P=="string"?Z.call(Q.element,P)&&kn(W):P.length?$.each(P,function(){Q.element===this&&kn(W)}):P instanceof Element&&Q.element===P&&kn(W):kn(W)})}}),$.fn.extend({animate:function(D){var P,W,Q,de,Ue=this,Ke=D;return!Array.isArray(D)&&(arguments.length>1||arguments.length===1&&arguments[0].draw===void 0)?(P=arguments[0],W=arguments[1]||$.animation.duration,Q=arguments[2]||$.animation.ease,de=arguments[3],typeof W=="function"&&(de=W,W=$.animation.duration,Q=$.animation.ease),typeof Q=="function"&&(de=Q,Q=$.animation.ease),this.each(function(){return $.animate({el:this,draw:P,dur:W,ease:Q,onDone:de})})):Array.isArray(D)?($.each(D,function(){var mt=this;Ue.each(function(){mt.el=this,$.animate(mt)})}),this):this.each(function(){Ke.el=this,$.animate(Ke)})},chain:function(D,P){return this.each(function(){var W=this;$.each(D,function(){this.el=W}),$.chain(D,P)})},stop:function(D){return this.each(function(){var P=this;$.each($.animation.elements,function(W,Q){Q.element===P&&gi(W,D)})})},pause:function(){return this.each(function(){var D=this;$.each($.animation.elements,function(P,W){W.element===D&&kn(P)})})},resume:function(){return this.each(function(){var D=this;$.each($.animation.elements,function(P,W){W.element===D&&wt(P)})})}}),$.extend({hidden:function(D,P,W){return D=$(D)[0],typeof P=="string"&&(P=P.toLowerCase()==="true"),typeof P=="function"&&(W=P,P=!D.hidden),D.hidden=P,typeof W=="function"&&($.bind(W,D),W.call(D,arguments)),this},hide:function(D,P){var W=$(D),Q=D.style.display;D.style.display="";var de=getComputedStyle(D,null).display;return W.origin("display",{display:Q,cssDisplay:de}),D.style.display="none",typeof P=="function"&&($.bind(P,D),P.call(D,arguments)),this},show:function(D,P){var W=$(D),Q=W.origin("display");return Q?(Q.cssDisplay&&W.css({display:Q.cssDisplay}),!Q.cssDisplay&&Q.display&&(D.style.display=Q.display==="none"?"block":Q.display)):D.style.display="block",parseInt(D.style.opacity)===0&&(D.style.opacity="1"),typeof P=="function"&&($.bind(P,D),P.call(D,arguments)),this},visible:function(D,P,W){return P===void 0&&(P=!0),D.style.visibility=P?"visible":"hidden",typeof W=="function"&&($.bind(W,D),W.call(D,arguments)),this},toggle:function(D,P){var W=getComputedStyle(D,null).display!=="none"?"hide":"show";return $[W](D,P)}}),$.fn.extend({hide:function(){var D;return $.each(arguments,function(){typeof this=="function"&&(D=this)}),this.each(function(){$.hide(this,D)})},show:function(){var D;return $.each(arguments,function(){typeof this=="function"&&(D=this)}),this.each(function(){$.show(this,D)})},visible:function(D,P){return this.each(function(){$.visible(this,D,P)})},toggle:function(D){return this.each(function(){$.toggle(this,D)})},hidden:function(D,P){return this.each(function(){$.hidden(this,D,P)})}}),$.extend({fx:{off:!1}}),$.fn.extend({fadeIn:function(D,P,W){return this.each(function(){var Q=this,de=$(Q),Ue=!(!h(Q)||h(Q)&&+de.style("opacity")==0);if(v(D)&&v(P)&&v(W)?(W=null,D=$.animation.duration):typeof D=="function"&&(W=D,D=$.animation.duration),typeof P=="function"&&(W=P,P=$.animation.ease),$.fx.off&&(D=0),Ue)return typeof W=="function"&&$.proxy(W,this)(),this;var Ke=de.origin("display",void 0,"block");return Q.style.opacity="0",Q.style.display=Ke,$.animate({el:Q,draw:{opacity:1},dur:D,ease:P,onDone:function(){typeof W=="function"&&$.proxy(W,this)()}})})},fadeOut:function(D,P,W){return this.each(function(){var Q=this,de=$(Q);return v(D)&&v(P)&&v(W)?(W=null,D=$.animation.duration):typeof D=="function"&&(W=D,D=$.animation.duration),typeof P=="function"&&(W=P,P=$.animation.ease),de.origin("display",de.style("display")),h(Q)?$.animate({el:Q,draw:{opacity:0},dur:D,ease:P,onDone:function(){this.style.display="none",typeof W=="function"&&$.proxy(W,this)()}}):(typeof W=="function"&&$.proxy(W,this)(),this)})},slideUp:function(D,P,W){return this.each(function(){var Q,de=this,Ue=$(de);if(Ue.height()!==0)return v(D)&&v(P)&&v(W)?(W=null,D=$.animation.duration):typeof D=="function"&&(W=D,D=$.animation.duration),typeof P=="function"&&(W=P,P=$.animation.ease),Q=Ue.height(),Ue.origin("height",Q),Ue.origin("display",$(de).style("display")),Ue.css({overflow:"hidden"}),$.animate({el:de,draw:{height:0},dur:D,ease:P,onDone:function(){Ue.hide().removeStyleProperty("overflow, height"),typeof W=="function"&&$.proxy(W,this)()}})})},slideDown:function(D,P,W){return this.each(function(){var Q,de,Ue=this,Ke=$(Ue);return v(D)&&v(P)&&v(W)?(W=null,D=$.animation.duration):typeof D=="function"&&(W=D,D=$.animation.duration),typeof P=="function"&&(W=P,P=$.animation.ease),Ke.show().visible(!1),Q=+Ke.origin("height",void 0,Ke.height()),parseInt(Q)===0&&(Q=Ue.scrollHeight),de=Ke.origin("display",Ke.style("display"),"block"),Ke.height(0).visible(!0),Ke.css({overflow:"hidden",display:de==="none"?"block":de}),$.animate({el:Ue,draw:{height:Q},dur:D,ease:P,onDone:function(){$(Ue).removeStyleProperty("overflow, height, visibility"),typeof W=="function"&&$.proxy(W,this)()}})})},moveTo:function(D,P,W,Q,de){var Ue={top:P,left:D};return typeof W=="function"&&(de=W,W=$.animation.duration,Q=$.animation.ease),typeof Q=="function"&&(de=Q,Q=$.animation.ease),this.each(function(){$.animate({el:this,draw:Ue,dur:W,ease:Q,onDone:de})})},centerTo:function(D,P,W,Q,de){return typeof W=="function"&&(de=W,W=$.animation.duration,Q=$.animation.ease),typeof Q=="function"&&(de=Q,Q=$.animation.ease),this.each(function(){var Ue={left:D-this.clientWidth/2,top:P-this.clientHeight/2};$.animate({el:this,draw:Ue,dur:W,ease:Q,onDone:de})})},colorTo:function(D,P,W,Q){var de={color:D};return typeof P=="function"&&(Q=P,P=$.animation.duration,W=$.animation.ease),typeof W=="function"&&(Q=W,W=$.animation.ease),this.each(function(){$.animate({el:this,draw:de,dur:P,ease:W,onDone:Q})})},backgroundTo:function(D,P,W,Q){var de={backgroundColor:D};return typeof P=="function"&&(Q=P,P=$.animation.duration,W=$.animation.ease),typeof W=="function"&&(Q=W,W=$.animation.ease),this.each(function(){$.animate({el:this,draw:de,dur:P,ease:W,onDone:Q})})}}),$.init=function(D,P){var W,Q=this;if(typeof D=="string"&&(D=D.trim()),this.uid=$.uniqueId(),!D)return this;if(typeof D=="function")return $.ready(D);if(D instanceof Element)return this.push(D),this;if(D instanceof $)return $.each(D,function(){Q.push(this)}),this;if(D==="window"&&(D=window),D==="document"&&(D=document),D==="body"&&(D=document.body),D==="html"&&(D=document.documentElement),D==="doctype"&&(D=document.doctype),D&&(D.nodeType||D.self===window))return this.push(D),this;if(o(D))return $.each(D,function(){$(this).each(function(){Q.push(this)})}),this;if(typeof D!="string"&&D.self&&D.self!==window)return this;if(D==="#"||D===".")return console.error("Selector can't be # or ."),this;if(D[0]==="@")$("[data-role]").each(function(){d($(this).attr("data-role"),",").indexOf(D.slice(1))>-1&&Q.push(this)});else if((W=$.parseHTML(D)).length===1&&W[0].nodeType===3)try{[].push.apply(this,document.querySelectorAll(D))}catch{}else $.merge(this,W);return P!==void 0&&(P instanceof $?this.each(function(){$(P).append(Q)}):P instanceof HTMLElement?$(P).append(Q):e(P)&&$.each(this,function(){for(var de in P)H(P,de)&&this.setAttribute(de,P[de])})),this},$.init.prototype=$.fn;var os=window.$;$.Promise=Promise,window.m4q=$,window.$===void 0&&(window.$=$),$.global=function(){os=window.$,window.$=$},$.noConflict=function(){return window.$===$&&(window.$=os),$}}(),function(c){var h=c.meta("metro4:init").attr("content"),v=c.meta("metro4:locale").attr("content"),y=c.meta("metro4:week_start").attr("content"),e=c.meta("metro4:date_format").attr("content"),n=c.meta("metro4:date_format_input").attr("content"),o=c.meta("metro4:animation_duration").attr("content"),d=c.meta("metro4:callback_timeout").attr("content"),p=c.meta("metro4:timeout").attr("content"),w=c.meta("metro4:scroll_multiple").attr("content"),_=c.meta("metro4:cloak").attr("content"),E=c.meta("metro4:cloak_duration").attr("content"),A=c.meta("metro4:global_common").attr("content"),B=c.meta("metro4:blur_image").attr("content");window.METRO_BLUR_IMAGE===void 0&&(window.METRO_BLUR_IMAGE=B!==void 0&&JSON.parse(A)),window.METRO_GLOBAL_COMMON===void 0&&(window.METRO_GLOBAL_COMMON=A!==void 0&&JSON.parse(A));var H=c.meta("metro4:jquery").attr("content");window.jquery_present=typeof jQuery<"u",window.METRO_JQUERY===void 0&&(window.METRO_JQUERY=H===void 0||JSON.parse(H)),window.useJQuery=window.jquery_present&&window.METRO_JQUERY;var V=c.meta("metro4:about").attr("content");window.METRO_SHOW_ABOUT===void 0&&(window.METRO_SHOW_ABOUT=V===void 0||JSON.parse(V));var K=c.meta("metro4:compile").attr("content");window.METRO_SHOW_COMPILE_TIME===void 0&&(window.METRO_SHOW_COMPILE_TIME=K===void 0||JSON.parse(K)),window.METRO_INIT===void 0&&(window.METRO_INIT=h===void 0||JSON.parse(h)),window.METRO_DEBUG===void 0&&(window.METRO_DEBUG=!0),window.METRO_WEEK_START===void 0&&(window.METRO_WEEK_START=y!==void 0?parseInt(y):0),window.METRO_DATE_FORMAT===void 0&&(window.METRO_DATE_FORMAT=e!==void 0?e:"YYYY-MM-DD"),window.METRO_DATE_FORMAT_INPUT===void 0&&(window.METRO_DATE_FORMAT_INPUT=n!==void 0?n:"YYYY-MM-DD"),window.METRO_LOCALE===void 0&&(window.METRO_LOCALE=v!==void 0?v:"en-US"),window.METRO_ANIMATION_DURATION===void 0&&(window.METRO_ANIMATION_DURATION=o!==void 0?parseInt(o):100),window.METRO_CALLBACK_TIMEOUT===void 0&&(window.METRO_CALLBACK_TIMEOUT=d!==void 0?parseInt(d):500),window.METRO_TIMEOUT===void 0&&(window.METRO_TIMEOUT=p!==void 0?parseInt(p):2e3),window.METRO_SCROLL_MULTIPLE===void 0&&(window.METRO_SCROLL_MULTIPLE=w!==void 0?parseInt(w):20),window.METRO_CLOAK_REMOVE===void 0&&(window.METRO_CLOAK_REMOVE=_!==void 0?(""+_).toLowerCase():"fade"),window.METRO_CLOAK_DURATION===void 0&&(window.METRO_CLOAK_DURATION=E!==void 0?parseInt(E):300),window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE===void 0&&(window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0),window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS===void 0&&(window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0),window.METRO_HOTKEYS_FILTER_TEXT_INPUTS===void 0&&(window.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0),window.METRO_HOTKEYS_BUBBLE_UP===void 0&&(window.METRO_HOTKEYS_BUBBLE_UP=!1),window.METRO_THROWS===void 0&&(window.METRO_THROWS=!0),window.METRO_MEDIA=[]}(m4q),function(){(function(e){if(!/MSIE 10/i.test(navigator.userAgent))try{var n=new Blob(["var fakeIdToId = {};onmessage = function (event) {	var data = event.data,		name = data.name,		fakeId = data.fakeId,		time;	if(data.hasOwnProperty('time')) {		time = data.time;	}	switch (name) {		case 'setInterval':			fakeIdToId[fakeId] = setInterval(function () {				postMessage({fakeId: fakeId});			}, time);			break;		case 'clearInterval':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearInterval(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;		case 'setTimeout':			fakeIdToId[fakeId] = setTimeout(function () {				postMessage({fakeId: fakeId});				if (fakeIdToId.hasOwnProperty (fakeId)) {					delete fakeIdToId[fakeId];				}			}, time);			break;		case 'clearTimeout':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearTimeout(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;	}}"]);e=window.URL.createObjectURL(n)}catch{}var o,d={},p=0,w="HackTimer.js by turuslan: ";function _(){do p===2147483647?p=0:p++;while(d.hasOwnProperty(p));return p}if(typeof Worker<"u")try{o=new Worker(e),window.setInterval=function(E,A){var B=_();return d[B]={callback:E,parameters:Array.prototype.slice.call(arguments,2)},o.postMessage({name:"setInterval",fakeId:B,time:A}),B},window.clearInterval=function(E){d.hasOwnProperty(E)&&(delete d[E],o.postMessage({name:"clearInterval",fakeId:E}))},window.setTimeout=function(E,A){var B=_();return d[B]={callback:E,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},o.postMessage({name:"setTimeout",fakeId:B,time:A}),B},window.clearTimeout=function(E){d.hasOwnProperty(E)&&(delete d[E],o.postMessage({name:"clearTimeout",fakeId:E}))},o.onmessage=function(E){var A,B,H,V=E.data.fakeId;if(d.hasOwnProperty(V)&&(H=(A=d[V]).callback,B=A.parameters,A.hasOwnProperty("isTimeout")&&A.isTimeout&&delete d[V]),typeof H=="string")try{H=new Function(H)}catch(K){console.error(w+"Error parsing callback code string: ",K)}typeof H=="function"&&H.apply(window,B)},o.onerror=function(E){console.error(E)}}catch(E){console.error(w+"Initialisation failed"),console.error(E)}else console.error(w+"Initialisation failed - HTML5 Web Worker is not supported")})("HackTimerWorker.js");var c=m4q;if(typeof m4q>"u")throw new Error("Metro 4 requires m4q helper!");if(!("MutationObserver"in window))throw new Error("Metro 4 requires MutationObserver!");var h="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,v=function(e){return typeof e!="string"?void 0:e.replace(/-/g,"").toLowerCase()},y={version:"4.5.12",buildNumber:0,isTouchable:h,fullScreenEnabled:document.fullscreenEnabled,sheet:null,controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:h?"touchstart":"mousedown",stop:h?"touchend":"mouseup",move:h?"touchmove":"mousemove",enter:h?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452},media_mode:{FS:"fs",XS:"xs",SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},media_modes:["fs","xs","sm","md","lg","xl","xxl"],actions:{REMOVE:1,HIDE:2},hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},about:function(){var e="<h3>About</h3><hr><div><b>Metro UI</b> - v"+y.version+"</div><div><b>M4Q</b> - "+m4q.version+"</div>";y.infobox.create(e)},info:function(){console.info("Metro 4 - v"+y.version),console.info("m4q - "+m4q.version)},showCompileTime:function(){return""},aboutDlg:function(){alert("Metro 4 - v"+y.version)},ver:function(){return y.version},build:function(){return y.build},compile:function(){return""},observe:function(){new MutationObserver(function(e){e.map(function(n){if(n.type==="attributes"&&n.attributeName!=="data-role")if(n.attributeName==="data-hotkey")y.initHotkeys([n.target],!0);else{var o=c(n.target),d=o.data("metroComponent"),p=n.attributeName,w=o.attr(p),_=n.oldValue;d!==void 0&&(o.fire("attr-change",{attr:p,newValue:w,oldValue:_,__this:o[0]}),c.each(d,function(){var K=y.getPlugin(o,this);K&&typeof K.changeAttribute=="function"&&K.changeAttribute(p,w,_)}))}else if(n.type==="childList"&&n.addedNodes.length>0){var E,A,B,H=[],V=n.addedNodes;if(V.length){for(E=0;E<V.length;E++)B=V[E],(A=c(B)).attr("data-role")!==void 0&&H.push(B),c.each(A.find("[data-role]"),function(){H.indexOf(this)===-1&&H.push(this)});H.length&&y.initWidgets(H,"observe")}}})}).observe(c("html")[0],{childList:!0,attributes:!0,subtree:!0})},init:function(){var e=c("[data-role]"),n=c("[data-hotkey]"),o=c("html"),d=this;window.METRO_BLUR_IMAGE&&o.addClass("use-blur-image"),window.METRO_SHOW_ABOUT&&y.info(!0),h===!0?o.addClass("metro-touch-device"):o.addClass("metro-no-touch-device"),y.sheet=this.utils.newCssSheet(),this.utils.addCssRule(y.sheet,"*, *::before, *::after","box-sizing: border-box;"),window.METRO_MEDIA=[],c.each(y.media_queries,function(p,w){d.utils.media(w)&&window.METRO_MEDIA.push(y.media_mode[p])}),y.observe(),y.initHotkeys(n),y.initWidgets(e,"init"),window.METRO_CLOAK_REMOVE!=="fade"?(c(".m4-cloak").removeClass("m4-cloak"),c(window).fire("metro-initiated")):c(".m4-cloak").animate({draw:{opacity:1},dur:300,onDone:function(){c(".m4-cloak").removeClass("m4-cloak"),c(window).fire("metro-initiated")}})},initHotkeys:function(e,n){c.each(e,function(){var o=c(this),d=!!o.attr("data-hotkey")&&o.attr("data-hotkey").toLowerCase(),p=!!o.attr("data-hotkey-func")&&o.attr("data-hotkey-func");d!==!1&&(o.data("hotKeyBonded")===!0&&n!==!0||(y.hotkeys[d]=[this,p],o.data("hotKeyBonded",!0),o.fire("hot-key-bonded",{__this:o[0],hotkey:d,fn:p})))})},initWidgets:function(e){var n=this;c.each(e,function(){var o=c(this);this.hasAttribute("data-role")&&o.attr("data-role").split(/\s*,\s*/).map(function(d){var p=n.utils.$(),w=v(d);if(p.fn[w]!==void 0&&o.attr("data-role-"+w)===void 0)try{p.fn[w].call(o),o.attr("data-role-"+w,!0);var _=o.data("metroComponent");_===void 0?_=[w]:_.push(w),o.data("metroComponent",_),o.fire("create",{__this:o[0],name:w}),c(document).fire("component-create",{element:o[0],name:w})}catch(E){throw console.error("Error creating component "+d+" for ",o[0]),E}})})},plugin:function(e,n){var o=v(e),d=function(p){p.fn[o]=function(w){return this.each(function(){p.data(this,o,Object.create(n).init(w,this))})}};d(m4q),window.useJQuery&&d(jQuery)},pluginExists:function(e){return typeof(window.useJQuery?jQuery:m4q).fn[v(e)]=="function"},destroyPlugin:function(e,n){var o,d,p=c(e),w=v(n);(o=y.getPlugin(p,w))!==void 0?typeof o.destroy=="function"?(o.destroy(),d=p.data("metroComponent"),this.utils.arrayDelete(d,w),p.data("metroComponent",d),c.removeData(p[0],w),p.removeAttr("data-role-"+w)):console.warn("Component "+n+" can not be destroyed: method destroy not found."):console.warn("Component "+n+" can not be destroyed: the element is not a Metro 4 component.")},destroyPluginAll:function(e){var n=c(e),o=n.data("metroComponent");o!==void 0&&o.length>0&&c.each(o,function(){y.destroyPlugin(n[0],this)})},noop:function(){},noop_true:function(){return!0},noop_false:function(){return!1},noop_arg:function(e){return e},requestFullScreen:function(e){e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.requestFullscreen().catch(function(n){console.warn("Error attempting to enable full-screen mode: "+n.message+" "+n.name)})},exitFullScreen:function(){document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch(function(e){console.warn("Error attempting to disable full-screen mode: "+e.message+" "+e.name)})},inFullScreen:function(){return(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)!==void 0},$:function(){return window.useJQuery?jQuery:m4q},get$el:function(e){return y.$()(c(e)[0])},get$elements:function(e){return y.$()(c(e))},getPlugin:function(e,n){var o=v(n),d=y.get$el(e);return d.length?d.data(o):void 0},makePlugin:function(e,n,o){var d=v(n),p=y.get$elements(e);return p.length&&typeof p[d]=="function"?p[d](o):void 0},Component:function(e,n){var o=v(e),d=y.utils,p=c.extend({name:o},{_super:function(w,_,E,A){var B=this;this.elem=w,this.element=c(w),this.options=c.extend({},E,_),this.component=this.elem,this._setOptionsFromDOM(),this._runtime(),A&&typeof A=="object"&&c.each(A,function(H,V){B[H]=V}),this._createExec()},_setOptionsFromDOM:function(){var w=this.element,_=this.options;c.each(w.data(),function(E,A){if(E in _)try{_[E]=JSON.parse(A)}catch{_[E]=A}})},_runtime:function(){var w,_=this.element,E=(_.attr("data-role")||"").toArray(",").map(function(A){return v(A)}).filter(function(A){return A.trim()!==""});_.attr("data-role-"+this.name)||(_.attr("data-role-"+this.name,!0),E.indexOf(this.name)===-1&&(E.push(this.name),_.attr("data-role",E.join(","))),(w=_.data("metroComponent"))===void 0?w=[this.name]:w.push(this.name),_.data("metroComponent",w))},_createExec:function(){var w=this,_=this.options[this.name+"Deferred"];_?setTimeout(function(){w._create()},_):w._create()},_fireEvent:function(w,_,E,A,B=null){var H,V=this.element,K=this.options,Z=c.camelCase(w).capitalize();return H=(_=c.extend({},_,{__this:V[0]}))?Object.values(_):{},E&&(console.warn(E),console.warn("Event: on"+Z),console.warn("Data: ",_),console.warn("Element: ",V[0])),A!==!0&&V.fire(Z.toLowerCase(),_),d.exec(K["on"+Z],H,B||V[0])},_fireEvents:function(w,_,E,A,B){var H,V=this;if(arguments.length!==0)return arguments.length===1?(c.each(w,function(){var K=this;V._fireEvent(K.name,K.data,K.log,K.noFire,B)}),d.objectLength(w)):void((Array.isArray(w)||typeof w=="string")&&(H=Array.isArray(w)?w:w.toArray(","),c.each(H,function(){V._fireEvent(this,_,E,A,B)})))},getComponent:function(){return this.component},getComponentName:function(){return this.name}},n);return y.plugin(o,p),p},fetch:{status:function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))},json:function(e){return e.json()},text:function(e){return e.text()},form:function(e){return e.formData()},blob:function(e){return e.blob()},buffer:function(e){return e.arrayBuffer()}}};c(window).on(y.events.resize,function(){window.METRO_MEDIA=[],c.each(y.media_queries,function(e,n){y.utils.media(n)&&window.METRO_MEDIA.push(y.media_mode[e])})}),window.Metro=y,window.METRO_INIT===!0&&c(function(){y.init()})}(),function(c){m4q.extend(c.locales,{"da-DK":{calendar:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December","Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag","Sø","Ma","Ti","On","To","Fr","Lø","Søn","Man","Tir","Ons","Tor","Fre","Lør"],time:{days:"DAGE",hours:"TIMER",minutes:"MIN",seconds:"SEK",month:"MON",day:"DAG",year:"ÅR"},weekStart:1},buttons:{ok:"OK",cancel:"Annuller",done:"Færdig",today:"Idag",now:"Nu",clear:"Ryd",help:"Hjælp",yes:"Ja",no:"Nej",random:"Tilfældig",save:"Gem",reset:"Nulstil"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(c){m4q.extend(c.locales,{"de-DE":{calendar:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember","Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","So","Mo","Di","Mi","Do","Fr","Sa","Son","Mon","Die","Mit","Don","Fre","Sam"],time:{days:"TAGE",hours:"STD",minutes:"MIN",seconds:"SEK"},weekStart:2},buttons:{ok:"OK",cancel:"Abbrechen",done:"Fertig",today:"Heute",now:"Jetzt",clear:"Löschen",help:"Hilfe",yes:"Ja",no:"Nein",random:"Zufällig",save:"Speichern",reset:"Zurücksetzen"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(c){m4q.extend(c.locales,{"en-US":{calendar:{months:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Su","Mo","Tu","We","Th","Fr","Sa","Sun","Mon","Tus","Wen","Thu","Fri","Sat"],time:{days:"DAYS",hours:"HOURS",minutes:"MINS",seconds:"SECS",month:"MON",day:"DAY",year:"YEAR"},weekStart:0},buttons:{ok:"OK",cancel:"Cancel",done:"Done",today:"Today",now:"Now",clear:"Clear",help:"Help",yes:"Yes",no:"No",random:"Random",save:"Save",reset:"Reset"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(c){m4q.extend(c.locales,{"es-MX":{calendar:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre","Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Do","Lu","Ma","Mi","Ju","Vi","Sa","Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],time:{days:"DÍAS",hours:"HORAS",minutes:"MINS",seconds:"SEGS",month:"MES",day:"DÍA",year:"AÑO"},weekStart:1},buttons:{ok:"Aceptar",cancel:"Cancelar",done:"Hecho",today:"Hoy",now:"Ahora",clear:"Limpiar",help:"Ayuda",yes:"Si",no:"No",random:"Aleatorio",save:"Salvar",reset:"Reiniciar"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(c){m4q.extend(c.locales,{"fr-FR":{calendar:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre","Janv","Févr","Mars","Avr","Mai","Juin","Juil","Août","Sept","Oct","Nov","Déc"],days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Di","Lu","Ma","Me","Je","Ve","Sa","Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],time:{days:"JOURS",hours:"HEURES",minutes:"MINS",seconds:"SECS",month:"MOIS",day:"JOUR",year:"ANNEE"},weekStart:1},buttons:{ok:"OK",cancel:"Annulé",done:"Fait",today:"Aujourd'hui",now:"Maintenant",clear:"Effacé",help:"Aide",yes:"Oui",no:"Non",random:"Aléatoire",save:"Sauvegarder",reset:"Réinitialiser"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(c){m4q.extend(c.locales,{"hr-HR":{calendar:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac","Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],days:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota","Ne","Po","Ut","Sr","Če","Pe","Su","Ned","Pon","Uto","Sri","Čet","Pet","Sub"],time:{days:"DANI",hours:"SATI",minutes:"MINUTE",seconds:"SEKUNDE",month:"MJESEC",day:"DAN",year:"GODINA"},weekStart:1},buttons:{ok:"OK",cancel:"Otkaži",done:"Gotovo",today:"Danas",now:"Sada",clear:"Izbriši",help:"Pomoć",yes:"Da",no:"Ne",random:"Nasumično",save:"Spremi",reset:"Reset"},table:{rowsCount:"Broj redaka:",search:"Pretraga:",info:"Prikazujem $1 do $2 od $3",prev:"Nazad",next:"Naprijed",all:"Sve",inspector:"Inspektor",skip:"Idi na stranicu",empty:"Prazno"},colorSelector:{addUserColorButton:"Dodaj uzorcima",userColorsTitle:"Korisničke boje"},switch:{on:"on",off:"off"}}})}(Metro),function(c){m4q.extend(c.locales,{"hu-HU":{calendar:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December","Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],days:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat","V","H","K","Sz","Cs","P","Sz","Vas","Hét","Ke","Sze","Csü","Pén","Szom"],time:{days:"NAP",hours:"ÓRA",minutes:"PERC",seconds:"MP"},weekStart:1},buttons:{ok:"OK",cancel:"Mégse",done:"Kész",today:"Ma",now:"Most",clear:"Törlés",help:"Segítség",yes:"Igen",no:"Nem",random:"Véletlen",save:"Mentés",reset:"Visszaállítás"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(c){m4q.extend(c.locales,{"it-IT":{calendar:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre","Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Do","Lu","Ma","Me","Gi","Ve","Sa","Dom","Lun","Mar","Mer","Gio","Ven","Sab"],time:{days:"GIORNI",hours:"ORE",minutes:"MIN",seconds:"SEC",month:"MESE",day:"GIORNO",year:"ANNO"},weekStart:1},buttons:{ok:"OK",cancel:"Annulla",done:"Fatto",today:"Oggi",now:"Adesso",clear:"Cancella",help:"Aiuto",yes:"Sì",no:"No",random:"Random",save:"Salvare",reset:"Reset"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(c){m4q.extend(c.locales,{"pl-PL":{calendar:{months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień","Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","NDZ","PN","WT","ŚR","CZW","PT","SB","Niedz","Pon","Wt","Śr","Czw","Pt","Sob"],time:{days:"DNI",hours:"GODZINY",minutes:"MINUTY",seconds:"SEKUNDY",month:"MIESIĄC",day:"DZIEŃ",year:"ROK"},weekStart:1},buttons:{ok:"OK",cancel:"Anuluj",done:"Gotowe",today:"Dziś",now:"Teraz",clear:"Wyczyść",help:"Pomoc",yes:"Tak",no:"Nie",random:"Losowy",save:"Zapisz",reset:"Resetowanie"},table:{rowsCount:"Pokaż wpisy:",search:"Wyszukaj:",info:"Wyświetlanie wpisów od $1 do $2 z łącznie $3",prev:"Poprzedni",next:"Następny",all:"Wszystkie",inspector:"Inspektor",skip:"Idź do strony",empty:"Nic do wyświetlenia"},colorSelector:{addUserColorButton:"DODAJ DO PRÓBEK",userColorsTitle:"KOLOR UŻYTKOWNIKA"},switch:{on:"Włącz",off:"Wyłącz"}}})}(Metro),function(c){m4q.extend(c.locales,{"pt-BR":{calendar:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro","Jan","Fev","Mar","Abr","Maio","Jun","Jul","Ago","Set","Out","Nov","Dez"],days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Do","Se","Te","Qa","Qi","Se","Sa","Dom","Seg","Ter","Qua","Qui","Sex","Sab"],time:{days:"DIAS",hours:"HORAS",minutes:"MINUTOS",seconds:"SEGUNDOS",month:"MÊS",day:"DIA",year:"ANO"},weekStart:1},buttons:{ok:"OK",cancel:"Cancelar",done:"Feito",today:"Hoje",now:"Agora",clear:"Limpar",help:"Ajuda",yes:"Sim",no:"Não",random:"Aleatório",save:"Salvar",reset:"Restaurar"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(c){m4q.extend(c.locales,{"ru-RU":{calendar:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь","Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вос","Пон","Вто","Сре","Чет","Пят","Суб"],time:{days:"ДНИ",hours:"ЧАСЫ",minutes:"МИН",seconds:"СЕК",month:"МЕС",day:"ДЕНЬ",year:"ГОД"},weekStart:1},buttons:{ok:"ОК",cancel:"Отмена",done:"Готово",today:"Сегодня",now:"Сейчас",clear:"Очистить",help:"Помощь",yes:"Да",no:"Нет",random:"Случайно",save:"Сохранить",reset:"Сброс"},table:{rowsCount:"Показать записей:",search:"Поиск:",info:"Показаны $1 с $2 по $3 записей",prev:"Предыдущие",next:"Следующие",all:"Все",inspector:"Инспектор",skip:"Перейти на страницу",empty:"Нет записей"},colorSelector:{addUserColorButton:"ДОБАВИТЬ В ОБРАЗЦЫ",userColorsTitle:"ЦВЕТА ПОЛЬЗОВАТЕЛЯ"},switch:{on:"вкл",off:"выкл"}}})}(Metro),function(c){m4q.extend(c.locales,{"tr-TR":{calendar:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık","Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],days:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pa","Pz","Sa","Ça","Pe","Cu","Ct","Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],time:{days:"GÜN",hours:"SAAT",minutes:"DAK",seconds:"SAN",month:"AY",day:"GÜN",year:"YIL"},weekStart:1},buttons:{ok:"Tamam",cancel:"Vazgeç",done:"Bitti",today:"Bugün",now:"Şimdi",clear:"Temizle",help:"Yardım",yes:"Evet",no:"Hayır",random:"Rasgele",save:"Kurtarmak",reset:"Sıfırla"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(c){m4q.extend(c.locales,{"uk-UA":{calendar:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень","Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П’ятниця","Субота","Нд","Пн","Вт","Ср","Чт","Пт","Сб","Нед","Пон","Вiв","Сер","Чет","Пят","Суб"],time:{days:"ДНІ",hours:"ГОД",minutes:"ХВИЛ",seconds:"СЕК",month:"МІС",day:"ДЕНЬ",year:"РІК"},weekStart:1},buttons:{ok:"ОК",cancel:"Відміна",done:"Готово",today:"Сьогодні",now:"Зараз",clear:"Очистити",help:"Допомога",yes:"Так",no:"Ні",random:"Випадково",save:"Зберегти",reset:"Скинути"},table:{rowsCount:"Показати записів:",search:"Пошук:",info:"Показано $1 з $2 по $3 записів",prev:"Попередні",next:"Наступні",all:"Усі",inspector:"Інспектор",skip:"Перейти до сторінки",empty:"Нема записів"},colorSelector:{addUserColorButton:"ДОДАТИ В ЗРАЗКИ",userColorsTitle:"КОЛІРИ КОРИСТУВАЧА"},switch:{on:"увм",off:"вім"}}})}(Metro),function(c){m4q.extend(c.locales,{"zh-CN":{calendar:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","日","一","二","三","四","五","六","周日","周一","周二","周三","周四","周五","周六"],time:{days:"天",hours:"时",minutes:"分",seconds:"秒",month:"月",day:"日",year:"年"},weekStart:1},buttons:{ok:"确认",cancel:"取消",done:"完成",today:"今天",now:"现在",clear:"清除",help:"帮助",yes:"是",no:"否",random:"随机",save:"保存",reset:"重啟"},table:{rowsCount:"显示实体:",search:"搜索:",info:"显示 $1 到 $2 的 $3 条目",prev:"上一页",next:"下一页",all:"全部",inspector:"查看",skip:"转到页面",empty:"没有数据"},colorSelector:{addUserColorButton:"添加到颜色板",userColorsTitle:"用户颜色"},switch:{on:"是",off:"否"}}})}(Metro),function(c){m4q.extend(c.locales,{"zh-TW":{calendar:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","日","一","二","三","四","五","六","週日","週一","週二","週三","週四","週五","週六"],time:{days:"天",hours:"時",minutes:"分",seconds:"秒",month:"月",day:"日",year:"年"},weekStart:1},buttons:{ok:"確認",cancel:"取消",done:"完成",today:"今天",now:"現在",clear:"清除",help:"幫助",yes:"是",no:"否",random:"隨機",save:"保存",reset:"重啟"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),typeof Array.prototype.shuffle!="function"&&(Array.prototype.shuffle=function(){for(var c,h,v=this.length;v!==0;)h=Math.floor(Math.random()*v),c=this[v-=1],this[v]=this[h],this[h]=c;return this}),typeof Array.prototype.clone!="function"&&(Array.prototype.clone=function(){return this.slice(0)}),typeof Array.prototype.unique!="function"&&(Array.prototype.unique=function(){for(var c=this.concat(),h=0;h<c.length;++h)for(var v=h+1;v<c.length;++v)c[h]===c[v]&&c.splice(v--,1);return c}),Number.prototype.format=function(c,h,v,y){var e="\\d(?=(\\d{"+(h||3)+"})+"+(c>0?"\\D":"$")+")",n=this.toFixed(Math.max(0,~~c));return(y?n.replace(".",y):n).replace(new RegExp(e,"g"),"$&"+(v||","))},String.prototype.toArray=function(c,h,v,y){return h=h||"string",v=v!=null&&v,(""+this).split(c=c||",").map(function(e){var n;switch(h){case"int":case"integer":n=isNaN(e)?e.trim():parseInt(e);break;case"number":case"float":n=isNaN(e)?e:parseFloat(e);break;case"date":n=v?Datetime.from(e,v,y||"en-US"):datetime(e);break;default:n=e.trim()}return n})},String.prototype.capitalize=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},function(c,h){c.utils={nothing:function(){},isVisible:function(v){var y=h(v)[0];return this.getStyleOne(y,"display")!=="none"&&this.getStyleOne(y,"visibility")!=="hidden"&&y.offsetParent!==null},isUrl:function(v){return/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(v)},isTag:function(v){return/^<\/?[\w\s="/.':;#-\/\?]+>/gi.test(v)},isEmbedObject:function(v){var y=!1;return h.each(["iframe","object","embed","video"],function(){(typeof v=="string"&&v.toLowerCase()===this||v.nodeType!==void 0&&v.tagName.toLowerCase()===this)&&(y=!0)}),y},isVideoUrl:function(v){return/youtu\.be|youtube|twitch|vimeo/gi.test(v)},isDate:function(v,y,e){var n;if(this.isDateObject(v))return!0;try{return n=y?Datetime.from(v,y,e||"en-US"):datetime(v),Datetime.isDatetime(n)}catch{return!1}},isDateObject:function(v){return typeof v=="object"&&v.getMonth!==void 0},isInt:function(v){return!isNaN(v)&&+v%1==0},isFloat:function(v){return!isNaN(v)&&+v%1!=0||/^\d*\.\d+$/.test(v)},isFunc:function(v){return this.isType(v,"function")},isObject:function(v){return this.isType(v,"object")},isObject2:function(v){return typeof v=="object"&&!Array.isArray(v)},isType:function(v,y){if(!this.isValue(v))return!1;if(typeof v===y||(""+y).toLowerCase()==="tag"&&this.isTag(v)||(""+y).toLowerCase()==="url"&&this.isUrl(v)||(""+y).toLowerCase()==="array"&&Array.isArray(v))return v;if(this.isTag(v)||this.isUrl(v))return!1;if(typeof window[v]===y)return window[v];if(typeof v=="string"&&v.indexOf(".")===-1||typeof v=="string"&&/[/\s([]+/gm.test(v)||typeof v=="number"&&y.toLowerCase()!=="number")return!1;var e,n=v.split("."),o=window;for(e=0;e<n.length;e++)o=o[n[e]];return typeof o===y&&o},$:function(){return window.useJQuery?jQuery:m4q},isMetroObject:function(v,y){var e=h(v),n=c.getPlugin(v,y);return e.length===0?(console.warn(y+" "+v+" not found!"),!1):n!==void 0||(console.warn("Element not contain role "+y+'! Please add attribute data-role="'+y+'" to element '+v),!1)},isJQuery:function(v){return typeof jQuery<"u"&&v instanceof jQuery},isM4Q:function(v){return typeof m4q<"u"&&v instanceof m4q},isQ:function(v){return this.isJQuery(v)||this.isM4Q(v)},embedUrl:function(v){return v.indexOf("youtu.be")!==-1&&(v="https://www.youtube.com/embed/"+v.split("/").pop()),"<div class='embed-container'><iframe src='"+v+"'></iframe></div>"},elementId:function(v){return v+"-"+new Date().getTime()+h.random(1,1e3)},secondsToTime:function(v){return{d:Math.floor(v%31536e3/86400),h:Math.floor(v%31536e3%86400/3600),m:Math.floor(v%31536e3%86400%3600/60),s:Math.round(v%31536e3%86400%3600%60)}},secondsToFormattedString:function(v){var y=parseInt(v,10),e=Math.floor(y/3600),n=Math.floor((y-3600*e)/60),o=y-3600*e-60*n;return[Str.lpad(e,"0",2),Str.lpad(n,"0",2),Str.lpad(o,"0",2)].join(":")},func:function(v){return new Function("a",v)},exec:function(v,y,e){var n;if(v==null)return!1;var o=this.isFunc(v);o===!1&&(o=this.func(v));try{n=o.apply(e,y)}catch(d){if(n=null,window.METRO_THROWS===!0)throw d}return n},isOutsider:function(v){var y,e=h(v),n=e.clone();return n.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),e.parent().append(n),y=this.inViewport(n[0]),n.remove(),!y},inViewport:function(v){var y=this.rect(v);return y.top>=0&&y.left>=0&&y.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&y.right<=(window.innerWidth||document.documentElement.clientWidth)},rect:function(v){return v.getBoundingClientRect()},getCursorPosition:function(v,y){var e=this.rect(v);return{x:this.pageXY(y).x-e.left-window.pageXOffset,y:this.pageXY(y).y-e.top-window.pageYOffset}},getCursorPositionX:function(v,y){return this.getCursorPosition(v,y).x},getCursorPositionY:function(v,y){return this.getCursorPosition(v,y).y},objectLength:function(v){return Object.keys(v).length},percent:function(v,y,e){if(v===0)return 0;var n=100*y/v;return e===!0?Math.round(n):Math.round(100*n)/100},objectShift:function(v){var y=0;return h.each(v,function(e){(y===0||y>e)&&(y=e)}),delete v[y],v},objectDelete:function(v,y){v[y]!==void 0&&delete v[y]},arrayDeleteByMultipleKeys:function(v,y){return y.forEach(function(e){delete v[e]}),v.filter(function(e){return e!==void 0})},arrayDelete:function(v,y){var e=v.indexOf(y);e>-1&&v.splice(e,1)},arrayDeleteByKey:function(v,y){v.splice(y,1)},nvl:function(v,y){return v??y},objectClone:function(v){var y={};for(var e in v)h.hasProp(v,e)&&(y[e]=v[e]);return y},github:function(v,y){var e=this;h.json("https://api.github.com/repos/"+v).then(function(n){e.exec(y,[n])})},detectIE:function(){var v=window.navigator.userAgent,y=v.indexOf("MSIE ");if(y>0)return parseInt(v.substring(y+5,v.indexOf(".",y)),10);if(v.indexOf("Trident/")>0){var e=v.indexOf("rv:");return parseInt(v.substring(e+3,v.indexOf(".",e)),10)}var n=v.indexOf("Edge/");return n>0&&parseInt(v.substring(n+5,v.indexOf(".",n)),10)},detectChrome:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},pageHeight:function(){var v=document.body,y=document.documentElement;return Math.max(v.scrollHeight,v.offsetHeight,y.clientHeight,y.scrollHeight,y.offsetHeight)},cleanPreCode:function(v){Array.prototype.slice.call(document.querySelectorAll(v),0).forEach(function(y){var e=y.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(e))y.textContent=e;else{for(var n,o,d,p=/^[\t ]+/gm,w=1e3;n=p.exec(e);)(d=n[0].length)<w&&(w=d,o=n[0]);w!==1e3&&(y.textContent=e.replace(new RegExp("^"+o,"gm"),"").trim())}})},coords:function(v){var y=h(v)[0].getBoundingClientRect();return{top:y.top+window.pageYOffset,left:y.left+window.pageXOffset}},positionXY:function(v,y){switch(y){case"client":return this.clientXY(v);case"screen":return this.screenXY(v);case"page":return this.pageXY(v);default:return{x:0,y:0}}},clientXY:function(v){return{x:v.changedTouches?v.changedTouches[0].clientX:v.clientX,y:v.changedTouches?v.changedTouches[0].clientY:v.clientY}},screenXY:function(v){return{x:v.changedTouches?v.changedTouches[0].screenX:v.screenX,y:v.changedTouches?v.changedTouches[0].screenY:v.screenY}},pageXY:function(v){return{x:v.changedTouches?v.changedTouches[0].pageX:v.pageX,y:v.changedTouches?v.changedTouches[0].pageY:v.pageY}},isRightMouse:function(v){return"which"in v?v.which===3:"button"in v?v.button===2:void 0},hiddenElementSize:function(v,y){var e,n,o=h(v).clone(!0);return o.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),h("body").append(o),this.isValue(y)||(y=!1),e=o.outerWidth(y),n=o.outerHeight(y),o.remove(),{width:e,height:n}},getStyle:function(v,y){var e=h(v)[0];return window.getComputedStyle(e,y)},getStyleOne:function(v,y){return this.getStyle(v).getPropertyValue(y)},getInlineStyles:function(v){var y,e,n={},o=h(v)[0];for(y=0,e=o.style.length;y<e;y++){var d=o.style[y];n[d]=o.style[d]}return n},encodeURI:function(v){return encodeURI(v).replace(/%5B/g,"[").replace(/%5D/g,"]")},updateURIParameter:function(v,y,e){var n=new RegExp("([?&])"+y+"=.*?(&|$)","i"),o=v.indexOf("?")!==-1?"&":"?";return v.match(n)?v.replace(n,"$1"+y+"="+e+"$2"):v+o+y+"="+e},getURIParameter:function(v,y){v||(v=window.location.href),y=y.replace(/[\[\]]/g,"\\$&");var e=new RegExp("[?&]"+y+"(=([^&#]*)|&|#|$)").exec(v);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},getLocales:function(){return Object.keys(c.locales)},addLocale:function(v){c.locales=h.extend({},c.locales,v)},aspectRatioH:function(v,y){return y==="16/9"?9*v/16:y==="21/9"?9*v/21:y==="4/3"?3*v/4:void 0},aspectRatioW:function(v,y){return y==="16/9"?16*v/9:y==="21/9"?21*v/9:y==="4/3"?4*v/3:void 0},valueInObject:function(v,y){return Object.values(v).indexOf(y)>-1},keyInObject:function(v,y){return Object.keys(v).indexOf(y)>-1},inObject:function(v,y,e){return v[y]!==void 0&&v[y]===e},newCssSheet:function(v){var y=document.createElement("style");return v!==void 0&&y.setAttribute("media",v),y.appendChild(document.createTextNode("")),document.head.appendChild(y),y.sheet},addCssRule:function(v,y,e,n){v.insertRule(y+"{"+e+"}",n)},media:function(v){return window.matchMedia(v).matches},mediaModes:function(){return window.METRO_MEDIA},mediaExist:function(v){return window.METRO_MEDIA.indexOf(v)>-1},inMedia:function(v){return window.METRO_MEDIA.indexOf(v)>-1&&window.METRO_MEDIA.indexOf(v)===window.METRO_MEDIA.length-1},isValue:function(v){return v!=null&&v!==""},isNull:function(v){return v==null},isNegative:function(v){return parseFloat(v)<0},isPositive:function(v){return parseFloat(v)>0},isZero:function(v){return parseFloat(v.toFixed(2))===0},between:function(v,y,e,n){return n===!0?v>=y&&v<=e:v>y&&v<e},parseMoney:function(v){return Number(parseFloat(v.replace(/[^0-9-.]/g,"")))},parseCard:function(v){return v.replace(/[^0-9]/g,"")},parsePhone:function(v){return this.parseCard(v)},parseNumber:function(v,y,e){return v.replace(new RegExp("\\"+y,"g"),"").replace(new RegExp("\\"+e,"g"),".")},nearest:function(v,y,e){return v/=y,v=Math[e===!0?"floor":"ceil"](v)*y},bool:function(v){switch(v){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}},copy:function(v){var y,e,n=document.body,o=h(v)[0];if(document.createRange&&window.getSelection){y=document.createRange(),(e=window.getSelection()).removeAllRanges();try{y.selectNodeContents(o),e.addRange(y)}catch{y.selectNode(o),e.addRange(y)}}else n.createTextRange&&((y=n.createTextRange()).moveToElementText(o),y.select());document.execCommand("Copy"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},decCount:function(v){return v%1==0?0:v.toString().split(".")[1].length},classNames:function(){const v=Array.prototype.slice.call(arguments,0),y=[];for(let e of v)if(e)if(typeof e=="string")y.push(e);else if(c.utils.isObject(e))for(let n in e)e[n]&&y.push(n);else c.utils.nothing();return y.join(" ")},join:function(){const v=Array.prototype.slice.call(arguments,0),y=v.pop(),e=[];for(let n of v)n&&e.push(c.utils.isObject(n)?Object.values(n)[0]:n);return e.join(y)}},window.METRO_GLOBAL_COMMON===!0&&(window.Utils=c.utils)}(Metro,m4q),function(c,h){var v=c.utils,y={accordionDeferred:0,showMarker:!0,material:!1,duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,activeFrameClass:"",activeHeadingClass:"",activeContentClass:"",clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:c.noop,onFrameBeforeOpen:c.noop_true,onFrameClose:c.noop,onFrameBeforeClose:c.noop_true,onAccordionCreate:c.noop};c.accordionSetup=function(e){y=h.extend({},y,e)},typeof window.metroAccordionSetup!==void 0&&c.accordionSetup(window.metroAccordionSetup),c.Component("accordion",{init:function(e,n){return this._super(n,e,y),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:e})},_createStructure:function(){var e,n=this,o=this.element,d=this.options,p=o.children(".frame"),w=o.children(".frame.active");o.addClass("accordion").addClass(d.clsAccordion),p.addClass(d.clsFrame).each(function(){var _=h(this);_.children(".heading").addClass(d.clsHeading),_.children(".content").addClass(d.clsContent)}),d.showMarker===!0&&o.addClass("marker-on"),d.material===!0&&o.addClass("material"),e=w.length===0?p[0]:w[0],this._hideAll(),d.showActive===!0&&(d.oneFrame===!0?this._openFrame(e):h.each(w,function(){n._openFrame(this)}))},_createEvents:function(){var e=this,n=this.element,o=this.options,d=n.children(".frame.active");n.on(c.events.click,".heading",function(){var p=h(this),w=p.parent();if(p.closest(".accordion")[0]!==n[0])return!1;w.hasClass("active")?d.length===1&&o.oneFrame||e._closeFrame(w):e._openFrame(w)})},_openFrame:function(e){var n=this.element,o=this.options,d=h(e);if(v.exec(o.onFrameBeforeOpen,[d[0]],n[0])===!1)return!1;o.oneFrame===!0&&this._closeAll(d[0]),d.addClass("active "+o.activeFrameClass).addClass(o.clsActiveFrame),d.children(".heading").addClass(o.activeHeadingClass).addClass(o.clsActiveFrameHeading),d.children(".content").addClass(o.activeContentClass).addClass(o.clsActiveFrameContent).slideDown(o.duration),this._fireEvent("frameOpen",{frame:d[0]})},_closeFrame:function(e){var n=this.element,o=this.options,d=h(e);d.hasClass("active")&&v.exec(o.onFrameBeforeClose,[d[0]],n[0])!==!1&&(d.removeClass("active "+o.activeFrameClass).removeClass(o.clsActiveFrame),d.children(".heading").removeClass(o.activeHeadingClass).removeClass(o.clsActiveFrameHeading),d.children(".content").removeClass(o.activeContentClass).removeClass(o.clsActiveFrameContent).slideUp(o.duration),this._fireEvent("frameClose",{frame:d[0]}))},_closeAll:function(e){var n=this,o=this.element.children(".frame");h.each(o,function(){e!==this&&n._closeFrame(this)})},_hideAll:function(){var e=this.element.children(".frame");h.each(e,function(){h(this).children(".content").hide()})},_openAll:function(){var e=this,n=this.element.children(".frame");h.each(n,function(){e._openFrame(this)})},open:function(e){var n=this.element.children(".frame").eq(e);this._openFrame(n)},changeAttribute:function(e,n){},destroy:function(){var e=this.element;return e.off(c.events.click,".heading"),e}})}(Metro,m4q),function(c,h){var v={activityDeferred:0,type:"ring",style:"color",size:64,radius:20,onActivityCreate:c.noop};c.activitySetup=function(y){v=h.extend({},v,y)},typeof window.metroActivitySetup!==void 0&&c.activitySetup(window.metroActivitySetup),c.Component("activity",{init:function(y,e){return this._super(e,y,v),this},_create:function(){var y,e,n=this.element,o=this.options;switch(n.html("").addClass(o.style+"-style").addClass("activity-"+o.type),o.type){case"metro":(function(){for(y=0;y<5;y++)h("<div/>").addClass("circle").appendTo(n)})();break;case"square":(function(){for(y=0;y<4;y++)h("<div/>").addClass("square").appendTo(n)})();break;case"cycle":(function(){h("<div/>").addClass("cycle").appendTo(n)})();break;case"simple":(function(){h('<svg class="circular"><circle class="path" cx="'+o.size/2+'" cy="'+o.size/2+'" r="'+o.radius+'" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg>').appendTo(n)})();break;case"atom":(function(){for(y=0;y<3;y++)h("<span/>").addClass("electron").appendTo(n)})();break;case"bars":(function(){for(y=0;y<6;y++)h("<span/>").addClass("bar").appendTo(n)})();break;default:(function(){for(y=0;y<5;y++)e=h("<div/>").addClass("wrap").appendTo(n),h("<div/>").addClass("circle").appendTo(e)})()}this._fireEvent("activity-create",{element:n})},changeAttribute:function(y){},destroy:function(){return this.element}}),c.activity={open:function(y){var e=y||{},n='<div data-role="activity" data-type="'+(e.type?e.type:"cycle")+'" data-style="'+(e.style?e.style:"color")+'"></div>',o=e.text?'<div class="text-center">'+e.text+"</div>":"";return c.dialog.create({content:n+o,defaultAction:!1,clsContent:"d-flex flex-column flex-justify-center flex-align-center bg-transparent no-shadow w-auto",clsDialog:"no-border no-shadow bg-transparent global-dialog",autoHide:e.autoHide?e.autoHide:0,overlayClickClose:e.overlayClickClose===!0,overlayColor:e.overlayColor?e.overlayColor:"#000000",overlayAlpha:e.overlayAlpha?e.overlayAlpha:.5,clsOverlay:"global-overlay"})},close:function(y){c.dialog.close(y)}}}(Metro,m4q),function(c,h){var v=c.utils,y={adblockDeferred:0,checkInterval:1e3,fireOnce:!0,checkStop:10,localhost:!1,onAlert:c.noop,onFishingStart:c.noop,onFishingDone:c.noop};c.adblockSetup=function(n){y=h.extend({},y,n)},typeof window.metroAdblockSetup!==void 0&&c.adblockSetup(window.metroAdblockSetup);var e={bite:function(){h("<div>").addClass("adblock-bite adsense google-adsense dblclick advert topad top_ads topAds textads sponsoredtextlink_container show_ads right-banner rekl mpu module-ad mid_ad mediaget horizontal_ad headerAd contentAd brand-link bottombanner bottom_ad_block block_ad bannertop banner-right banner-body b-banner b-article-aside__banner b-advert adwrapper adverts advertisment advertisement:not(body) advertise advert_list adtable adsense adpic adlist adleft adinfo adi adholder adframe addiv ad_text ad_space ad_right ad_links ad_body ad_block ad_Right adTitle adText".split(" ").shuffle().join(" ")).css({position:"fixed",height:1,width:1,overflow:"hidden",visibility:"visible",top:0,left:0}).append(h("<a href='https://dblclick.net'>").html("dblclick.net")).appendTo("body"),e.options.adblockDeferred?setTimeout(function(){e.fishing()},e.options.adblockDeferred):this.fishing()},fishing:function(){var n=e.options,o=typeof n.fireOnce=="number"?n.fireOnce:0,d=n.checkStop,p=!1,w=function(){var _=h(".adsense.google-adsense.dblclick.advert.adblock-bite"),E=_.find("a"),A=function(){clearInterval(p),v.exec(n.onFishingDone),h(window).fire("fishing-done"),_.remove()};n.localhost||!h.localhost?!_.length||!E.length||_.css("display").indexOf("none")>-1||E.css("display").indexOf("none")>-1?(v.exec(e.options.onAlert),h(window).fire("adblock-alert"),(e.options.fireOnce===!0||--o===0)&&A()):d!==!1&&--d===0&&A():A()};v.exec(n.onFishingStart),h(window).fire("fishing-start"),p=setInterval(function(){w()},e.options.checkInterval),w()}};c.Adblock=e,h(function(){e.options=h.extend({},y),h(window).on("metro-initiated",function(){e.bite()})})}(Metro,m4q),function(c,h){var v={duration:METRO_ANIMATION_DURATION,ease:"linear"};c.animations={switchIn:function(y){h(y).hide().css({left:0,top:0}).show()},switchOut:function(y){h(y).hide()},switch:function(y,e){this.switchOut(y),this.switchIn(e)},slideUpIn:function(y,e){var n,o=h(y),d=o.parent().outerHeight(!0);n=h.extend({},v,e),o.css({top:d,left:0,zIndex:2}).animate({draw:{top:0,opacity:1},dur:n.duration,ease:n.ease})},slideUpOut:function(y,e){var n,o=h(y),d=o.parent().outerHeight(!0);n=h.extend({},v,e),o.css({zIndex:1}).animate({draw:{top:-d,opacity:0},dur:n.duration,ease:n.ease})},slideUp:function(y,e,n){this.slideUpOut(y,n),this.slideUpIn(e,n)},slideDownIn:function(y,e){var n,o=h(y),d=o.parent().outerHeight(!0);n=h.extend({},v,e),o.css({left:0,top:-d,zIndex:2}).animate({draw:{top:0,opacity:1},dur:n.duration,ease:n.ease})},slideDownOut:function(y,e){var n,o=h(y),d=o.parent().outerHeight(!0);n=h.extend({},v,e),o.css({zIndex:1}).animate({draw:{top:d,opacity:0},dur:n.duration,ease:n.ease})},slideDown:function(y,e,n){this.slideDownOut(y,n),this.slideDownIn(e,n)},slideLeftIn:function(y,e){var n,o=h(y),d=o.parent().outerWidth(!0);n=h.extend({},v,e),o.css({left:d,zIndex:2}).animate({draw:{left:0,opacity:1},dur:n.duration,ease:n.ease})},slideLeftOut:function(y,e){var n,o=h(y),d=o.parent().outerWidth(!0);n=h.extend({},v,e),o.css({zIndex:1}).animate({draw:{left:-d,opacity:0},dur:n.duration,ease:n.ease})},slideLeft:function(y,e,n){this.slideLeftOut(y,n),this.slideLeftIn(e,n)},slideRightIn:function(y,e){var n,o=h(y),d=o.parent().outerWidth(!0);n=h.extend({},v,e),o.css({left:-d,zIndex:2}).animate({draw:{left:0,opacity:1},dur:n.duration,ease:n.ease})},slideRightOut:function(y,e){var n,o=h(y),d=o.parent().outerWidth(!0);n=h.extend({},v,e),o.css({zIndex:1}).animate({draw:{left:d,opacity:0},dur:n.duration,ease:n.ease})},slideRight:function(y,e,n){this.slideRightOut(y,n),this.slideRightIn(e,n)},fadeIn:function(y,e){var n=h.extend({},v,e);h(y).css({top:0,left:0,opacity:0}).animate({draw:{opacity:1},dur:n.duration,ease:n.ease})},fadeOut:function(y,e){var n=h.extend({},v,e);h(y).animate({draw:{opacity:0},dur:n.duration,ease:n.ease})},fade:function(y,e,n){this.fadeOut(y,n),this.fadeIn(e,n)},zoomIn:function(y,e){var n=h.extend({},v,e);h(y).css({top:0,left:0,opacity:0,transform:"scale(3)",zIndex:2}).animate({draw:{scale:1,opacity:1},dur:n.duration,ease:n.ease})},zoomOut:function(y,e){var n=h.extend({},v,e);h(y).css({zIndex:1}).animate({draw:{scale:3,opacity:0},dur:n.duration,ease:n.ease})},zoom:function(y,e,n){this.zoomOut(y,n),this.zoomIn(e,n)},swirlIn:function(y,e){var n=h.extend({},v,e);h(y).css({top:0,left:0,opacity:0,transform:"scale(3) rotate(180deg)",zIndex:2}).animate({draw:{scale:1,rotate:0,opacity:1},dur:n.duration,ease:n.ease})},swirlOut:function(y,e){var n=h.extend({},v,e);h(y).css({zIndex:1}).animate({draw:{scale:3,rotate:"180deg",opacity:0},dur:n.duration,ease:n.ease})},swirl:function(y,e,n){this.swirlOut(y,n),this.swirlIn(e,n)}},window.METRO_GLOBAL_COMMON===!0&&(window.Animations=c.animations)}(Metro,m4q),function(c,h){var v=c.utils,y={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,onMenuOpen:c.noop,onMenuClose:c.noop,onBeforeMenuOpen:c.noop,onBeforeMenuClose:c.noop,onMenuCollapse:c.noop,onMenuExpand:c.noop,onAppBarCreate:c.noop};c.appBarSetup=function(e){y=h.extend({},y,e)},typeof window.metroAppBarSetup!==void 0&&c.appBarSetup(window.metroAppBarSetup),c.Component("app-bar",{init:function(e,n){return this._super(n,e,y,{id:v.elementId("app-bar")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:e})},_createStructure:function(){var e,n,o=this.element,d=this.options,p=v.getStyleOne(o,"background-color");if(o.addClass("app-bar"),(e=o.find(".hamburger")).length===0){e=h("<button>").attr("type","button").addClass("hamburger menu-down");for(var w=0;w<3;w++)h("<span>").addClass("line").appendTo(e);p!=="rgba(0, 0, 0, 0)"&&c.colors.isLight(p)!==!0||e.addClass("dark")}o.prepend(e),(n=o.find(".app-bar-menu")).length===0?e.css("display","none"):v.addCssRule(c.sheet,".app-bar-menu li","list-style: none!important;"),e.css("display")==="block"?(n.hide().addClass("collapsed"),e.removeClass("hidden")):e.addClass("hidden"),(d.expand===!0||v.isValue(d.expandPoint)&&v.mediaExist(d.expandPoint))&&(o.addClass("app-bar-expand"),e.addClass("hidden"))},_createEvents:function(){var e=this,n=this.element,o=this.options,d=n.find(".app-bar-menu"),p=n.find(".hamburger");n.on(c.events.click,".hamburger",function(){d.length!==0&&(d.hasClass("collapsed")?e.open():e.close())}),h(window).on(c.events.resize,function(){o.expand!==!0&&(v.isValue(o.expandPoint)&&v.mediaExist(o.expandPoint)?(n.addClass("app-bar-expand"),e._fireEvent("menu-expand")):(n.removeClass("app-bar-expand"),e._fireEvent("menu-collapse"))),d.length!==0&&(p.css("display")!=="block"?(d.show(function(){h(this).removeStyleProperty("display")}),p.addClass("hidden")):(p.removeClass("hidden"),p.hasClass("active")?d.show().removeClass("collapsed"):d.hide().addClass("collapsed")))},{ns:this.id})},close:function(){var e=this,n=this.element,o=this.options,d=n.find(".app-bar-menu"),p=n.find(".hamburger");e._fireEvent("before-menu-close",{menu:d[0]}),d.slideUp(o.duration,function(){d.addClass("collapsed").removeClass("opened"),p.removeClass("active"),e._fireEvent("menu-close",{menu:d[0]})})},open:function(){var e=this,n=this.element,o=this.options,d=n.find(".app-bar-menu"),p=n.find(".hamburger");e._fireEvent("before-menu-open",{menu:d[0]}),d.slideDown(o.duration,function(){d.removeClass("collapsed").addClass("opened"),p.addClass("active"),e._fireEvent("menu-open",{menu:d[0]})})},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(c.events.click,".hamburger"),h(window).off(c.events.resize,{ns:this.id}),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={audioVolume:.5,audioSrc:"",onAudioStart:c.noop,onAudioEnd:c.noop,onAudioButtonCreate:c.noop};c.audioButtonSetup=function(e){y=h.extend({},y,e)},typeof window.metroAudioButtonSetup!==void 0&&c.audioButtonSetup(window.metroAudioButtonSetup),c.Component("audio-button",{init:function(e,n){return this._super(n,e,y,{audio:null,canPlay:null,id:v.elementId("audioButton")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("audioButtonCreate",{element:e})},_createStructure:function(){var e=this.options;this.audio=new Audio(e.audioSrc),this.audio.volume=e.audioVolume},_createEvents:function(){var e=this,n=this.element,o=this.options,d=this.audio;d.addEventListener("loadeddata",function(){e.canPlay=!0}),d.addEventListener("ended",function(){e._fireEvent("audioEnd",{src:o.audioSrc,audio:d})}),n.on(c.events.click,function(){e.play()},{ns:this.id})},play:function(e){var n=this.element,o=this.options,d=this.audio;o.audioSrc!==""&&this.audio.duration&&this.canPlay&&(this._fireEvent("audioStart",{src:o.audioSrc,audio:d}),d.pause(),d.currentTime=0,d.play(),v.exec(e,[d],n[0]))},stop:function(e){var n=this.element,o=this.options,d=this.audio;d.pause(),d.currentTime=0,this._fireEvent("audioEnd",{src:o.audioSrc,audio:d}),v.exec(e,[d],n[0])},changeAttribute:function(e){var n,o,d=this.element,p=this.options,w=this.audio;e==="data-audio-src"&&(n=d.attr("data-audio-src"))&&n.trim()!==""&&(p.audioSrc=n,w.src=n),e==="data-audio-volume"&&(o=parseFloat(d.attr("data-audio-volume")),isNaN(o)||(p.audioVolume=o,w.volume=o))},destroy:function(){this.element.off(c.events.click,{ns:this.id})}}),c.playSound=function(e){var n,o=typeof e=="string"?e:e.audioSrc,d=e&&e.audioVolume?e.audioVolume:.5;o&&((n=new Audio(o)).volume=parseFloat(d),n.addEventListener("loadeddata",function(){e&&e.onAudioStart&&v.exec(e.onAudioStart,[o],this),this.play()}),n.addEventListener("ended",function(){e&&e.onAudioEnd&&v.exec(e.onAudioEnd,[null],this)}))}}(Metro,m4q),function(c,h){var v=c.utils,y={audioDeferred:0,playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:"<span class='default-icon-loop'></span>",stopIcon:"<span class='default-icon-stop'></span>",playIcon:"<span class='default-icon-play'></span>",pauseIcon:"<span class='default-icon-pause'></span>",muteIcon:"<span class='default-icon-mute'></span>",volumeLowIcon:"<span class='default-icon-low-volume'></span>",volumeMediumIcon:"<span class='default-icon-medium-volume'></span>",volumeHighIcon:"<span class='default-icon-high-volume'></span>",playlistIcon:"<span class='default-icon-playlist'></span>",nextIcon:"<span class='default-icon-next'></span>",prevIcon:"<span class='default-icon-prev'></span>",firstIcon:"<span class='default-icon-first'></span>",lastIcon:"<span class='default-icon-last'></span>",forwardIcon:"<span class='default-icon-forward'></span>",backwardIcon:"<span class='default-icon-backward'></span>",shuffleIcon:"<span class='default-icon-shuffle'></span>",randomIcon:"<span class='default-icon-random'></span>",onPlay:c.noop,onPause:c.noop,onStop:c.noop,onEnd:c.noop,onMetadata:c.noop,onTime:c.noop,onAudioPlayerCreate:c.noop};c.audioPlayerSetup=function(e){y=h.extend({},y,e)},typeof window.metroAudioPlayerSetup!==void 0&&c.audioPlayerSetup(window.metroAudioPlayerSetup),c.Component("audio-player",{init:function(e,n){return this._super(n,e,y,{preloader:null,player:null,audio:n,stream:null,volume:null,volumeBackup:0,muted:!1}),this},_create:function(){var e=this.element,n=this.options;this._createPlayer(),this._createControls(),this._createEvents(),n.autoplay===!0&&this.play(),this._fireEvent("audio-player-create",{element:e,player:this.player})},_createPlayer:function(){var e=this.element,n=this.options,o=this.audio,d=e.prev(),p=e.parent(),w=h("<div>").addClass("media-player audio-player "+e[0].className);d.length===0?p.prepend(w):w.insertAfter(d),e.appendTo(w),h.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){e.removeAttr(this)}),e.attr("preload","auto"),o.volume=n.volume,n.src!==null&&this._setSource(n.src),e[0].className="",this.player=w},_setSource:function(e){var n=this.element;n.find("source").remove(),n.removeAttr("src"),Array.isArray(e)?h.each(e,function(){var o=this;o.src!==void 0&&h("<source>").attr("src",o.src).attr("type",o.type!==void 0?o.type:"").appendTo(n)}):n.attr("src",e)},_createControls:function(){var e,n=this,o=this.element,d=this.options,p=this.elem,w=h("<div>").addClass("controls").addClass(d.clsControls).insertAfter(o),_=h("<div>").addClass("stream").appendTo(w),E=h("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(_),A=h("<div>").addClass("load-audio").appendTo(_),B=h("<div>").addClass("volume").appendTo(w),H=h("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(B),V=h("<div>").addClass("info-box").appendTo(w);d.showInfo!==!0&&V.hide(),A.activity({type:"metro",style:"color"}),A.hide(0),this.preloader=A,c.makePlugin(E,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){p.paused||p.pause()},onStop:function(K){p.seekable.length>0&&(p.currentTime=(n.duration*K/100).toFixed(0)),p.paused&&p.currentTime>0&&p.play()}}),this.stream=E,d.showStream!==!0&&_.hide(),c.makePlugin(H,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:100*d.volume,onChangeValue:function(K){p.volume=K/100}}),this.volume=H,d.showVolume!==!0&&B.hide(),d.showLoop===!0&&(e=h("<button>").attr("type","button").addClass("button square loop").html(d.loopIcon).appendTo(w)),d.showPlay===!0&&h("<button>").attr("type","button").addClass("button square play").html(d.playIcon).appendTo(w),d.showStop===!0&&h("<button>").attr("type","button").addClass("button square stop").html(d.stopIcon).appendTo(w),d.showMute===!0&&h("<button>").attr("type","button").addClass("button square mute").html(d.muteIcon).appendTo(w),d.loop===!0&&(e.addClass("active"),o.attr("loop","loop")),this._setVolume(),d.muted&&(n.volumeBackup=p.volume,c.getPlugin(n.volume,"slider").val(0),p.volume=0),V.html("00:00 / 00:00")},_createEvents:function(){var e=this,n=this.element,o=this.options,d=this.elem,p=this.player;n.on("loadstart",function(){e.preloader.fadeIn()}),n.on("loadedmetadata",function(){e.duration=d.duration.toFixed(0),e._setInfo(0,e.duration),v.exec(o.onMetadata,[d,p],n[0])}),n.on("canplay",function(){e._setBuffer(),e.preloader.fadeOut()}),n.on("progress",function(){e._setBuffer()}),n.on("timeupdate",function(){var w=Math.round(100*d.currentTime/e.duration);e._setInfo(d.currentTime,e.duration),c.getPlugin(e.stream,"slider").val(w),v.exec(o.onTime,[d.currentTime,e.duration,d,p],n[0])}),n.on("waiting",function(){e.preloader.fadeIn()}),n.on("loadeddata",function(){}),n.on("play",function(){p.find(".play").html(o.pauseIcon),v.exec(o.onPlay,[d,p],n[0])}),n.on("pause",function(){p.find(".play").html(o.playIcon),v.exec(o.onPause,[d,p],n[0])}),n.on("stop",function(){c.getPlugin(e.stream,"slider").val(0),v.exec(o.onStop,[d,p],n[0])}),n.on("ended",function(){c.getPlugin(e.stream,"slider").val(0),v.exec(o.onEnd,[d,p],n[0])}),n.on("volumechange",function(){e._setVolume()}),p.on(c.events.click,".play",function(){d.paused?e.play():e.pause()}),p.on(c.events.click,".stop",function(){e.stop()}),p.on(c.events.click,".mute",function(){e._toggleMute()}),p.on(c.events.click,".loop",function(){e._toggleLoop()})},_toggleLoop:function(){var e=this.player.find(".loop");e.length!==0&&(e.toggleClass("active"),e.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.audio.volume=this.volumeBackup:(this.volumeBackup=this.audio.volume,this.audio.volume=0),c.getPlugin(this.volume,"slider").val(this.muted===!1?100*this.volumeBackup:0)},_setInfo:function(e,n){this.player.find(".info-box").html(v.secondsToFormattedString(Math.round(e))+" / "+v.secondsToFormattedString(Math.round(n)))},_setBuffer:function(){var e=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;c.getPlugin(this.stream,"slider").buff(e)},_setVolume:function(){var e=this.audio,n=this.player,o=this.options,d=n.find(".mute"),p=100*e.volume;p>1&&p<30?d.html(o.volumeLowIcon):p>=30&&p<60?d.html(o.volumeMediumIcon):p>=60&&p<=100?d.html(o.volumeHighIcon):d.html(o.muteIcon)},play:function(e){e!==void 0&&this._setSource(e),this.element.attr("src")===void 0&&this.element.find("source").length===0||this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0,c.getPlugin(this.stream,"slider").val(0)},setVolume:function(e){if(e===void 0)return this.audio.volume;e>1&&(e/=100),this.audio.volume=e,c.getPlugin(this.volume,"slider").val(100*e)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){var e=JSON.parse(this.element.attr("data-src"));this.play(e)},changeVolume:function(){var e=this.element.attr("data-volume");this.setVolume(e)},changeAttribute:function(e){switch(e){case"data-src":this.changeSource();break;case"data-volume":this.changeVolume()}},destroy:function(){var e=this.element,n=this.player;return e.off("all"),n.off("all"),c.getPlugin(this.stream,"slider").destroy(),c.getPlugin(this.volume,"slider").destroy(),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={bottomsheetDeferred:0,mode:"list",toggle:null,onOpen:c.noop,onClose:c.noop,onBottomSheetCreate:c.noop};c.bottomSheetSetup=function(e){y=h.extend({},y,e)},typeof window.metroBottomSheetSetup!==void 0&&c.bottomSheetSetup(window.metroBottomSheetSetup),c.Component("bottom-sheet",{init:function(e,n){return this._super(n,e,y,{toggle:null}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("bottom-sheet-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options;e.addClass("bottom-sheet").addClass(n.mode+"-list"),v.isValue(n.toggle)&&h(n.toggle).length>0&&(this.toggle=h(n.toggle))},_createEvents:function(){var e=this,n=this.element;v.isValue(this.toggle)&&this.toggle.on(c.events.click,function(){e.toggle()}),n.on(c.events.click,"li",function(){e.close()})},isOpen:function(){return this.element.hasClass("opened")},open:function(e){var n=this.element;v.isValue(e)&&n.removeClass("list-style grid-style").addClass(e+"-style"),this.element.addClass("opened"),this._fireEvent("open",{element:n})},close:function(){var e=this.element;e.removeClass("opened"),this._fireEvent("close",{element:e})},toggle:function(e){this.isOpen()?this.close():this.open(e)},changeAttribute:function(e){},destroy:function(){var e=this.element;return v.isValue(this.toggle)&&this.toggle.off(c.events.click),e.off(c.events.click,"li"),e}}),c.bottomsheet={isBottomSheet:function(e){return v.isMetroObject(e,"bottom-sheet")},open:function(e,n){if(!this.isBottomSheet(e))return!1;c.getPlugin(e,"bottom-sheet").open(n)},close:function(e){if(!this.isBottomSheet(e))return!1;c.getPlugin(e,"bottom-sheet").close()},toggle:function(e,n){if(!this.isBottomSheet(e))return!1;this.isOpen(e)?this.close(e):this.open(e,n)},isOpen:function(e){return!!this.isBottomSheet(e)&&c.getPlugin(e,"bottom-sheet").isOpen()}}}(Metro,m4q),function(c,h){var v=c.utils,y={buttongroupDeferred:0,targets:"button",clsActive:"",requiredButton:!1,mode:c.groupMode.ONE,onButtonClick:c.noop,onButtonGroupCreate:c.noop};c.buttonGroupSetup=function(e){y=h.extend({},y,e)},typeof window.metroButtonGroupSetup!==void 0&&c.buttonGroupSetup(window.metroButtonGroupSetup),c.Component("button-group",{init:function(e,n){return this._super(n,e,y,{active:null,id:v.elementId("button-group")}),this},_create:function(){var e=this.element;this._createGroup(),this._createEvents(),this._fireEvent("button-group-create",{element:e})},_createGroup:function(){var e,n,o=this.element,d=this.options;o.addClass("button-group"),e=o.find(d.targets),n=o.find(".active"),d.mode===c.groupMode.ONE&&n.length===0&&d.requiredButton===!0&&h(e[0]).addClass("active"),d.mode===c.groupMode.ONE&&n.length>1&&(e.removeClass("active").removeClass(d.clsActive),h(e[0]).addClass("active")),o.find(".active").addClass("js-active").addClass(d.clsActive)},_createEvents:function(){var e=this,n=this.element,o=this.options;n.on(c.events.click,o.targets,function(){var d=h(this);e._fireEvent("button-click",{button:this}),o.mode===c.groupMode.ONE&&d.hasClass("active")||(o.mode===c.groupMode.ONE?(n.find(o.targets).removeClass(o.clsActive).removeClass("active js-active"),d.addClass("active").addClass(o.clsActive).addClass("js-active")):d.toggleClass("active").toggleClass(o.clsActive).toggleClass("js-active"))})},changeAttribute:function(e){},destroy:function(){var e=this.element,n=this.options;return e.off(c.events.click,n.targets),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={showGhost:!1,events:null,startContent:"days",showTime:!1,initialTime:null,initialHours:null,initialMinutes:null,labelTimeHours:null,labelTimeMinutes:null,animationContent:!0,animationSpeed:10,calendarDeferred:0,dayBorder:!1,excludeDay:null,prevMonthIcon:"<span class='default-icon-chevron-left'></span>",nextMonthIcon:"<span class='default-icon-chevron-right'></span>",prevYearIcon:"<span class='default-icon-chevron-left'></span>",nextYearIcon:"<span class='default-icon-chevron-right'></span>",compact:!1,wide:!1,widePoint:null,pickerMode:!1,show:null,locale:METRO_LOCALE,weekStart:METRO_WEEK_START,outside:!0,buttons:"cancel, today, clear, done",yearsBefore:100,yearsAfter:100,headerFormat:"dddd, MMM DD",showHeader:!0,showFooter:!0,showWeekNumber:!1,isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,weekNumberClick:!1,multiSelect:!1,special:null,format:METRO_DATE_FORMAT,inputFormat:null,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",clsEventCounter:"",clsWeekend:"",clsCurrentWeek:"",clsCalendarTime:"",clsTime:"",clsTimeHours:"",clsTimeMinutes:"",clsTimeButton:"",clsTimeButtonPlus:"",clsTimeButtonMinus:"",clsSpecial:"",clsEvents:"",clsEvent:"",onCancel:c.noop,onToday:c.noop,onClear:c.noop,onDone:c.noop,onDayClick:c.noop,onDrawDay:c.noop,onDrawMonth:c.noop,onDrawYear:c.noop,onWeekDayClick:c.noop,onWeekNumberClick:c.noop,onMonthChange:c.noop,onYearChange:c.noop,onTimeChange:c.noop,onHoursChange:c.noop,onMinutesChange:c.noop,onCalendarCreate:c.noop};c.calendarSetup=function(e){y=h.extend({},y,e)},typeof window.metroCalendarSetup!==void 0&&c.calendarSetup(window.metroCalendarSetup),c.Component("calendar",{init:function(e,n){var o=datetime().align("day");return this._super(n,e,y,{today:o,show:o,current:{year:o.year(),month:o.month(),day:o.day()},preset:[],selected:[],exclude:[],special:[],excludeDay:[],events:[],min:null,max:null,locale:null,minYear:null,maxYear:null,id:v.elementId("calendar"),time:[datetime().hour(),datetime().minute()],content:"days",yearDistance:11,yearGroupStart:o.year()}),this},_create:function(){var e=this.element,n=this.options;this.content=n.startContent,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,e.html("").addClass("calendar "+(n.compact===!0?"compact":"")).addClass(n.clsCalendar),v.isValue(n.initialTime)&&(this.time=n.initialTime.split(":")),v.isValue(n.initialHours)&&v.between(n.initialHours,0,23,!0)&&(this.time[0]=parseInt(n.initialHours)),v.isValue(n.initialMinutes)&&v.between(n.initialMinutes,0,59,!0)&&(this.time[1]=parseInt(n.initialMinutes)),n.dayBorder===!0&&e.addClass("day-border"),v.isValue(n.excludeDay)&&(this.excludeDay=(""+n.excludeDay).toArray(",","int")),v.isValue(n.preset)&&this._dates2array(n.preset,"selected"),v.isValue(n.exclude)&&this._dates2array(n.exclude,"exclude"),v.isValue(n.special)&&this._dates2array(n.special,"special"),v.isValue(n.events)&&this._dates2array(n.events,"events"),n.buttons!==!1&&Array.isArray(n.buttons)===!1&&(n.buttons=n.buttons.split(",").map(function(o){return o.trim()})),this.min=n.minDate?(n.inputFormat?Datetime.from(n.minDate,n.inputFormat):datetime(n.minDate)).align("day"):null,this.max=n.maxDate?(n.inputFormat?Datetime.from(n.maxDate,n.inputFormat):datetime(n.maxDate)).align("day"):null,n.show&&(this.show=(n.show?n.inputFormat?Datetime.from(n.show,n.inputFormat):datetime(n.show):datetime()).align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()}),this.locale=c.locales[n.locale]!==void 0?c.locales[n.locale]:c.locales["en-US"],this._drawCalendar(),this._createEvents(),(n.wide===!0||!v.isNull(n.widePoint)&&v.mediaExist(n.widePoint))&&e.addClass("calendar-wide"),n.ripple===!0&&v.isFunc(e.ripple)!==!1&&e.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:this.options.rippleColor}),this._fireEvent("calendar-create")},_dates2array:function(e,n){var o,d=this,p=this.options;v.isNull(e)||(o=typeof e=="string"?e.toArray():Array.isArray(e)?e:[],h.each(o,function(){var w;try{w=(p.inputFormat?Datetime.from(this,p.inputFormat):datetime(this)).align("day").format("YYYY-MM-DD")}catch{return}d[n].push(w)}))},_createEvents:function(){var e=this,n=this.element,o=this.options;h(window).on(c.events.resize,function(){o.wide!==!0&&(!v.isNull(o.widePoint)&&v.mediaExist(o.widePoint)?n.addClass("calendar-wide"):n.removeClass("calendar-wide"))},{ns:this.id}),n.on(c.events.click,".prev-year-group, .next-year-group",function(){h(this).hasClass("prev-year-group")?e.yearGroupStart-=e.yearDistance:e.yearGroupStart+=e.yearDistance,e._drawContent()}),n.on(c.events.click,".prev-month, .next-month, .prev-year, .next-year",function(){var d,p=h(this);p.hasClass("prev-month")&&(d=datetime(e.current.year,e.current.month-1,1)).year()<e.minYear||p.hasClass("next-month")&&(d=datetime(e.current.year,e.current.month+1,1)).year()>e.maxYear||p.hasClass("prev-year")&&(d=datetime(e.current.year-1,e.current.month,1)).year()<e.minYear||p.hasClass("next-year")&&(d=datetime(e.current.year+1,e.current.month,1)).year()>e.maxYear||(e.current={year:d.year(),month:d.month(),day:d.day()},setTimeout(function(){e._drawContent(),(p.hasClass("prev-month")||p.hasClass("next-month"))&&e._fireEvent("month-change",{current:e.current}),(p.hasClass("prev-year")||p.hasClass("next-year"))&&e._fireEvent("year-change",{current:e.current})},o.ripple?300:1))}),n.on(c.events.click,".button.today",function(){e.toDay(),e._fireEvent("today",{today:e.today.val(),time:e.time})}),n.on(c.events.click,".button.clear",function(){var d=datetime();e.selected=[],e.time=[d.hour(),d.minute()],e.yearGroupStart=d.year(),e._drawContent(),e._fireEvent("clear")}),n.on(c.events.click,".button.cancel",function(){e._drawContent(),e._fireEvent("cancel")}),n.on(c.events.click,".button.done",function(){e._drawContent(),e._fireEvent("done",{selected:e.selected,time:e.time})}),o.weekDayClick===!0&&n.on(c.events.click,".week-days .week-day",function(d){var p,w,_,E=[];w=(p=h(this)).index();for(var A=0;A<7;A++)E.push(w),w+=o.showWeekNumber?8:7;o.multiSelect===!0&&(_=n.find(".day").filter(function(B){var H=h(B);return E.indexOf(H.index())>-1&&!H.hasClass("outside disabled excluded")}),h.each(_,function(){var B=h(this),H=B.data("day");e.selected.indexOf(H)===-1?(e.selected.push(H),B.addClass("selected").addClass(o.clsSelected)):(B.removeClass("selected").removeClass(o.clsSelected),v.arrayDelete(e.selected,H))})),e._fireEvent("week-day-click",{selected:e.selected,day:p[0]}),d.preventDefault(),d.stopPropagation()}),o.weekNumberClick&&n.on(c.events.click,".week-number",function(d){var p,w,_,E;w=(p=h(this)).text(),_=p.index(),w!=="#"&&(o.multiSelect===!0&&(E=n.find(".day").filter(function(A){var B=h(A),H=B.index();return v.between(H,_,_+8,!1)&&!B.hasClass("outside disabled excluded")}),h.each(E,function(){var A=h(this),B=A.data("day");e.selected.indexOf(B)===-1?(e.selected.push(B),A.addClass("selected").addClass(o.clsSelected)):(A.removeClass("selected").removeClass(o.clsSelected),v.arrayDelete(e.selected,B))})),e._fireEvent("week-number-click",{selected:e.selected,num:w,numElement:p[0]}),d.preventDefault(),d.stopPropagation())}),n.on(c.events.click,".day",function(d){var p,w,_=h(this);if(w=_.data("day"),p=e.selected.indexOf(w),_.hasClass("outside"))return w=datetime(w),e.current={year:w.year(),month:w.month(),day:w.day()},e._drawContent(),void e._fireEvent("month-change",{current:e.current});_.hasClass("disabled")||(o.pickerMode===!0?(e.selected=[w],e.today=datetime(w),e.current.year=e.today.year(),e.current.month=e.today.month(),e.current.day=e.today.day(),e._drawHeader(),e._drawContent()):p===-1?(o.multiSelect===!1&&(n.find(".day").removeClass("selected").removeClass(o.clsSelected),e.selected=[]),e.selected.push(w),_.addClass("selected").addClass(o.clsSelected)):(_.removeClass("selected").removeClass(o.clsSelected),v.arrayDelete(e.selected,w))),e._fireEvent("day-click",{selected:e.selected,day:_[0],time:e.time}),d.preventDefault(),d.stopPropagation()}),n.on(c.events.click,".curr-month",function(d){e.content="months",e._drawContent(),d.preventDefault(),d.stopPropagation()}),n.on(c.events.click,".month",function(d){e.current.month=parseInt(h(this).attr("data-month")),e.content="days",e._drawContent(),e._fireEvent("month-change",{current:e.current}),d.preventDefault(),d.stopPropagation()}),n.on(c.events.click,".curr-year",function(d){e.content!=="years"&&(e.content="years",e._drawContent(),d.preventDefault(),d.stopPropagation())}),n.on(c.events.click,".year",function(d){e.current.year=parseInt(h(this).attr("data-year")),e.yearGroupStart=e.current.year,e.content="months",e._drawContent(),e._fireEvent("year-change",{current:e.current}),d.preventDefault(),d.stopPropagation()})},_drawHeader:function(){var e=this.element,n=this.options,o=e.find(".calendar-header");o.length===0&&(o=h("<div>").addClass("calendar-header").addClass(n.clsCalendarHeader).appendTo(e)),o.html(""),h("<div>").addClass("header-year").html(this.today.year()).appendTo(o),h("<div>").addClass("header-day").html(this.today.format(n.headerFormat,n.locale)).appendTo(o),n.showHeader===!1&&o.hide()},_drawFooter:function(){var e=this.element,n=this.options,o=this.locale.buttons,d=e.find(".calendar-footer");n.buttons!==!1&&(d.length===0&&(d=h("<div>").addClass("calendar-footer").addClass(n.clsCalendarFooter).appendTo(e)),d.html(""),h.each(n.buttons,function(){var p=h("<button>").attr("type","button").addClass("button "+this+" "+n["cls"+Str.capitalize(this)+"Button"]).html(o[this]).appendTo(d);this!=="cancel"&&this!=="done"||p.addClass("js-dialog-close")}),n.showFooter===!1&&d.hide())},_drawTime:function(){var e,n,o,d,p=this,w=this.element,_=this.options,E=w.find(".calendar-content"),A=h("<div>").addClass("calendar-time").addClass(_.clsCalendarTime).appendTo(E),B=""+this.time[0],H=""+this.time[1],V=this.locale.calendar.time;A.append(e=h("<div>").addClass("calendar-time__inner")),e.append(d=h("<div>").addClass("calendar-time__inner-row")),d.append(h("<div>").addClass("calendar-time__inner-cell").append(h("<span>").html(_.labelTimeHours||V.hours))),d.append(h("<div>").addClass("calendar-time__inner-cell").append(h("<span>").html(_.labelTimeMinutes||V.minutes))),A.append(e=h("<div>").addClass("calendar-time__inner spinners").addClass(_.clsTime)),e.append(n=h("<input type='text' data-cls-spinner-input='"+_.clsTimeHours+"' data-time-part='hours' data-buttons-position='right' data-min-value='0' data-max-value='23'>").addClass("hours").addClass(_.compact?"input-small":"input-normal")),e.append(o=h("<input type='text' data-cls-spinner-input='"+_.clsTimeMinutes+"' data-time-part='minutes' data-buttons-position='right' data-min-value='0' data-max-value='59'>").addClass("minutes").addClass(_.compact?"input-small":"input-normal")),B=Str.lpad(B,"0",2),H=Str.lpad(H,"0",2),n.val(B),o.val(H),c.makePlugin(e.find("input[type=text]"),"spinner",{onChange:function(K){var Z=parseInt(K);h(this).attr("data-time-part")==="hours"?(p.time[0]=Z,p._fireEvent("hours-change",{time:p.time,hours:Z})):(p.time[1]=Z,p._fireEvent("minutes-change",{time:p.time,minutes:Z})),p._fireEvent("time-change",{time:p.time})},clsSpinnerButton:_.clsTimeButton,clsSpinnerButtonPlus:_.clsTimeButtonPlus,clsSpinnerButtonMinus:_.clsTimeButtonMinus}),_.showTime===!1&&A.hide()},_drawContentDays:function(){var e,n,o,d=this,p=this.element,w=this.options,_=p.find(".calendar-content"),E=datetime(this.current.year,this.current.month,this.current.day).useLocale(w.locale).calendar(w.weekStart),A=Datetime.getLocale(w.locale),B=this.show.format("YYYY-MM-DD"),H=datetime();_.length===0&&(_=h("<div>").addClass("calendar-content").addClass(w.clsCalendarContent).appendTo(p)),w.showWeekNumber&&_.addClass("-week-numbers"),_.empty(),e=h("<div>").addClass("calendar-toolbar").appendTo(_),h("<span>").addClass("prev-month").html(w.prevMonthIcon).appendTo(e),h("<span>").addClass("curr-month").html(A.months[this.current.month]).appendTo(e),h("<span>").addClass("next-month").html(w.nextMonthIcon).appendTo(e),h("<span>").addClass("prev-year").html(w.prevYearIcon).appendTo(e),h("<span>").addClass("curr-year").html(this.current.year).appendTo(e),h("<span>").addClass("next-year").html(w.nextYearIcon).appendTo(e),n=h("<div>").addClass("week-days").appendTo(_),w.showWeekNumber&&h("<span>").addClass("week-number").html("#").appendTo(n),h.each(E.weekdays,function(){h("<span>").addClass("week-day").html(this).appendTo(n)}),o=h("<div>").addClass("days").appendTo(_),h.each(E.days,function(V){var K=this,Z=datetime(K).addMinute(new Date().getTimezoneOffset()).align("day"),xe=Z.month()!==d.current.month;w.showWeekNumber&&V%7==0&&h("<span>").addClass("week-number").html(Z.weekNumber(w.weekStart)).appendTo(o);var Ee=h("<span>").addClass("day").html(Z.day()).appendTo(o);if(Ee.attr("data-day",K),K===B&&Ee.addClass("showed"),xe&&(Ee.addClass("outside"),w.outside||Ee.empty()),K===E.today&&Ee.addClass("today"),w.showGhost&&Z.day()===H.day()&&Ee.addClass("coincidental"),d.special.length?d.special.indexOf(K)===-1?Ee.addClass("disabled excluded").addClass(w.clsExcluded):Ee.addClass(w.clsSpecial):(d.selected.indexOf(K)>-1&&Ee.addClass("selected").addClass(w.clsSelected),d.exclude.indexOf(K)>-1&&Ee.addClass("disabled excluded").addClass(w.clsExcluded),d.min&&Z.older(d.min)&&Ee.addClass("disabled excluded").addClass(w.clsExcluded),d.max&&Z.younger(d.max)&&Ee.addClass("disabled excluded").addClass(w.clsExcluded)),E.weekends.indexOf(K)!==-1&&Ee.addClass(w.clsWeekend),E.week.indexOf(K)!==-1&&Ee.addClass(w.clsCurrentWeek),d.events.length){var We=h("<div>").addClass("events").addClass(w.clsEvents).appendTo(Ee);h.each(d.events,function(){if(this===K){var z=h("<div>").addClass("event").addClass(w.clsEvent).appendTo(We);w.clsEvent||z.css({backgroundColor:c.colors.random()})}})}w.animationContent&&Ee.addClass("to-animate"),d._fireEvent("draw-day",{date:Z.val(),day:Z.day(),month:Z.month(),year:Z.year(),cell:Ee[0]})}),this._drawTime(),this._animateContent(".day")},_drawContentMonths:function(){var e,n,o,d=this.element,p=this.options,w=d.find(".calendar-content"),_=this.locale.calendar.months,E=datetime().year(),A=datetime().month();w.length===0&&(w=h("<div>").addClass("calendar-content").addClass(p.clsCalendarContent).appendTo(d)),w.clear(),e=h("<div>").addClass("calendar-toolbar").appendTo(w),h("<span>").addClass("prev-year").html(p.prevYearIcon).appendTo(e),h("<span>").addClass("curr-year").html(this.current.year).appendTo(e),h("<span>").addClass("next-year").html(p.nextYearIcon).appendTo(e),w.append(n=h("<div>").addClass("months"));for(var B=12;B<24;B++)n.append(o=h("<div>").attr("data-month",B-12).addClass("month").addClass(B-12===A&&this.current.year===E?"today":"").html(_[B])),p.animationContent&&o.addClass("to-animate"),this._fireEvent("draw-month",{month:B-12,year:this.current.year,cell:o[0]});this._animateContent(".months .month")},_drawContentYears:function(){var e,n,o,d=this.element,p=this.options,w=d.find(".calendar-content");w.length===0&&(w=h("<div>").addClass("calendar-content").addClass(p.clsCalendarContent).appendTo(d)),w.clear(),e=h("<div>").addClass("calendar-toolbar").appendTo(w),h("<span>").addClass("prev-year-group").html(p.prevYearIcon).appendTo(e),h("<span>").addClass("curr-year").html(this.yearGroupStart+" - "+(this.yearGroupStart+this.yearDistance)).appendTo(e),h("<span>").addClass("next-year-group").html(p.nextYearIcon).appendTo(e),w.append(n=h("<div>").addClass("years"));for(var _=this.yearGroupStart;_<=this.yearGroupStart+this.yearDistance;_++)n.append(o=h("<div>").attr("data-year",_).addClass("year").addClass(_===this.current.year?"today":"").html(_)),p.animationContent&&o.addClass("to-animate"),(_<p.minYear||_>p.maxYear)&&o.addClass("disabled"),this._fireEvent("draw-year",{year:_,cell:o[0]});this._animateContent(".years .year")},_drawContent:function(){switch(this.content){case"years":this._drawContentYears();break;case"months":this._drawContentMonths();break;default:this._drawContentDays()}},_drawCalendar:function(){var e=this;setTimeout(function(){e.element.html(""),e._drawHeader(),e._drawContent(),e._drawFooter()},0)},_animateContent:function(e,n){var o=this.element,d=this.options,p=o.find(".calendar-content");n=n||"to-animate",p.find(e).each(function(w){var _=h(this);setTimeout(function(){_.removeClass(n)},d.animationSpeed*w)})},getTime:function(e){var n,o;return e=e||!1,n=Str.lpad(this.time[0],"0",2),o=Str.lpad(this.time[1],"0",2),e?n+":"+o:this.time},setTime:function(e){Array.isArray(e)?this.time=e:this.time=e.split(":"),this._drawCalendar()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},clearSelected:function(){this.selected=[],this._drawContent()},toDay:function(){this.today=datetime().align("day"),this.current={year:this.today.year(),month:this.today.month(),day:this.today.day()},this.time=[datetime().hour(),datetime().minute()],this.yearGroupStart=datetime().year(),this.content="days",this._drawHeader(),this._drawContent()},setExclude:function(e){var n=this.element,o=this.options;v.isNull(e)&&v.isNull(n.attr("data-exclude"))||(o.exclude=v.isNull(e)?n.attr("data-exclude"):e,this._dates2array(o.exclude,"exclude"),this._drawContent())},setPreset:function(e){var n=this.element,o=this.options;v.isNull(e)&&v.isNull(n.attr("data-preset"))||(o.preset=v.isNull(e)?n.attr("data-preset"):e,this._dates2array(o.preset,"selected"),this._drawContent())},setSpecial:function(e){var n=this.element,o=this.options;v.isNull(e)&&v.isNull(n.attr("data-special"))||(o.special=v.isNull(e)?n.attr("data-special"):e,this._dates2array(o.exclude,"special"),this._drawContent())},showDate:function(e){return this.setShow(e)},setShow:function(e){var n=this.element,o=this.options,d=n.attr("data-show");(e||d)&&(o.show=e||d,o.show?typeof o.show=="string"&&o.inputFormat?this.show=Datetime.from(o.show,o.inputFormat):this.show=datetime(o.show):this.show=datetime(),this.show=this.show.align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()},this._drawContent())},setMinDate:function(e){var n=this.element,o=this.options,d=n.attr("data-min-date");(e||d)&&(o.minDate=e||d,this.min=o.minDate?(o.inputFormat?Datetime.from(o.minDate,o.inputFormat):datetime(o.minDate)).align("day"):null,this._drawContent())},setMaxDate:function(e){var n=this.element,o=this.options,d=n.attr("data-max-date");o.maxDate=e||d,this.max=o.maxDate?(o.inputFormat?Datetime.from(o.maxDate,o.inputFormat):datetime(o.maxDate)).align("day"):null,this._drawContent()},i18n:function(e){var n=this.options;return e===void 0?n.locale:c.locales[e]!==void 0&&(n.locale=e,this.locale=c.locales[n.locale],void this._drawCalendar())},changeAttrLocale:function(){var e=this.element;this.i18n(e.attr("data-locale"))},changeAttribute:function(e){switch(e){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-special":this.setSpecial();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate();break;case"data-locale":this.changeAttrLocale()}},destroy:function(){var e=this.element,n=this.options;return e.off(c.events.click,".prev-month, .next-month, .prev-year, .next-year"),e.off(c.events.click,".button.today"),e.off(c.events.click,".button.clear"),e.off(c.events.click,".button.cancel"),e.off(c.events.click,".button.done"),e.off(c.events.click,".week-days .day"),e.off(c.events.click,".days-row .day"),e.off(c.events.click,".curr-month"),e.off(c.events.click,".calendar-months li"),e.off(c.events.click,".curr-year"),e.off(c.events.click,".calendar-years li"),e.off(c.events.click),n.ripple===!0&&e.data("ripple").destroy(),h(window).off(c.events.resize,{ns:this.id}),e}}),h(document).on(c.events.click,function(){h(".calendar .calendar-years").each(function(){h(this).removeClass("open")}),h(".calendar .calendar-months").each(function(){h(this).removeClass("open")})}),c.defaults.Calendar=y}(Metro,m4q),function(c,h){var v=c.utils,y={label:"",value:"",calendarpickerDeferred:0,nullValue:!0,useNow:!1,prepend:"",dialogMode:!1,dialogPoint:640,dialogOverlay:!0,overlayColor:"#000000",overlayAlpha:.5,locale:METRO_LOCALE,size:"100%",format:METRO_DATE_FORMAT,inputFormat:null,clearButton:!1,calendarButtonIcon:"<span class='default-icon-calendar'></span>",clearButtonIcon:"<span class='default-icon-cross'></span>",copyInlineStyles:!1,clsPicker:"",clsInput:"",clsPrepend:"",clsLabel:"",onDayClick:c.noop,onCalendarPickerCreate:c.noop,onCalendarShow:c.noop,onCalendarHide:c.noop,onChange:c.noop,onPickerChange:c.noop,onMonthChange:c.noop,onYearChange:c.noop};c.calendarPickerSetup=function(e){y=h.extend({},y,e)},typeof window.metroCalendarPickerSetup!==void 0&&c.calendarPickerSetup(window.metroCalendarPickerSetup),c.Component("calendar-picker",{init:function(e,n){return this._super(n,e,h.extend({},c.defaults.Calendar,{},y),{value:null,value_date:null,calendar:null,overlay:null,id:v.elementId("calendar-picker"),time:[datetime().hour(),datetime().minute()]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("calendar-picker-create",{element:this.element})},_createStructure:function(){var e,n,o,d,p,w,_=this,E=this.element,A=this.options,B=h("<div>").addClass("input "+E[0].className+" calendar-picker"),H=h("<div>").addClass("button-group"),V=h("<div>").addClass("drop-shadow"),K=h("body");if(E.attr("type","text"),E.attr("autocomplete","off"),E.attr("readonly",!0),v.isValue(A.initialTime)&&(this.time=A.initialTime.trim().split(":")),v.isValue(A.initialHours)&&(this.time[0]=parseInt(A.initialHours)),v.isValue(A.initialHours)&&(this.time[1]=parseInt(A.initialMinutes)),e=(""+A.value).trim()!==""?A.value:E.val().trim(),v.isValue(e)?(n=e.split(" "),this.value=(A.inputFormat?Datetime.from(n[0],A.inputFormat,A.locale):datetime(n[0])).align("day"),n[1]&&(this.time=n[1].trim().split(":"))):A.useNow&&(this.value=datetime(),this.time=[this.value.hour(),this.value.minute()]),w=e||A.nullValue!==!0?datetime(_.value).format(A.format,A.locale):"",A.showTime&&this.time&&w&&(w+=" "+Str.lpad(this.time[0],"0",2)+":"+Str.lpad(this.time[1],"0",2)),E.val(w),B.insertBefore(E),E.appendTo(B),H.appendTo(B),V.appendTo(A.dialogMode?K:B),this.time&&this.time.length&&(d=this.time[0],this.time[1]!==void 0&&(p=this.time[1])),o=A.initialTime,A.initialHours&&(d=A.initialHours),A.initialHours&&(p=A.initialMinutes),c.makePlugin(V,"calendar",{showTime:A.showTime,initialTime:o,initialHours:d,initialMinutes:p,clsCalendarTime:A.clsCalendarTime,clsTime:A.clsTime,clsTimeHours:A.clsTimeHours,clsTimeMinutes:A.clsTimeMinutes,clsTimeButton:A.clsTimeButton,clsTimeButtonPlus:A.clsTimeButtonPlus,clsTimeButtonMinus:A.clsTimeButtonMinus,wide:A.wide,widePoint:A.widePoint,format:A.format,inputFormat:A.inputFormat,pickerMode:!0,show:A.value,locale:A.locale,weekStart:A.weekStart,outside:A.outside,buttons:!1,headerFormat:A.headerFormat,clsCalendar:[A.clsCalendar,"calendar-for-picker",A.dialogMode?"dialog-mode":""].join(" "),clsCalendarHeader:A.clsCalendarHeader,clsCalendarContent:A.clsCalendarContent,clsCalendarFooter:"d-none",clsCalendarMonths:A.clsCalendarMonths,clsCalendarYears:A.clsCalendarYears,clsToday:A.clsToday,clsSelected:A.clsSelected,clsExcluded:A.clsExcluded,ripple:A.ripple,rippleColor:A.rippleColor,exclude:A.exclude,minDate:A.minDate,maxDate:A.maxDate,yearsBefore:A.yearsBefore,yearsAfter:A.yearsAfter,special:A.special,events:A.events,showHeader:!1,showFooter:!1,multiSelect:!1,showWeekNumber:A.showWeekNumber,onDayClick:function(xe,Ee,We,z){var ee,le=datetime(xe[0]).align("day");_._removeOverlay(),_.value=le,_.time=We,ee=le.format(A.format,A.locale),A.showTime&&(ee+=" "+Str.lpad(We[0],"0",2)+":"+Str.lpad(We[1],"0",2)),E.val(ee),E.trigger("change"),V.removeClass("open open-up"),V.hide(),_._fireEvent("change",{val:_.value.val(),time:_.time}),_._fireEvent("day-click",{sel:xe,day:Ee,time:We,el:z}),_._fireEvent("picker-change",{val:_.value.val(),time:_.time})},onTimeChange:function(xe){var Ee;_.time=xe,_.value||(_.value=datetime()),Ee=_.value.format(A.format,A.locale),A.showTime&&(Ee+=" "+Str.lpad(xe[0],"0",2)+":"+Str.lpad(xe[1],"0",2)),E.val(Ee),_._fireEvent("change",{val:_.value.val(),time:_.time}),_._fireEvent("picker-change",{val:_.value.val(),time:_.time})},onMonthChange:A.onMonthChange,onYearChange:A.onYearChange}),this.calendar=V,A.clearButton===!0&&h("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(A.clearButtonIcon).appendTo(H),h("<button>").addClass("button").attr("tabindex",-1).attr("type","button").html(A.calendarButtonIcon).appendTo(H),A.prepend!==""&&h("<div>").html(A.prepend).addClass("prepend").addClass(A.clsPrepend).appendTo(B),E.attr("dir")==="rtl"&&B.addClass("rtl"),String(A.size).indexOf("%")>-1?B.css({width:A.size}):B.css({width:parseInt(A.size)+"px"}),E[0].className="",A.copyInlineStyles===!0&&h.each(v.getInlineStyles(E),function(xe,Ee){B.css(xe,Ee)}),B.addClass(A.clsPicker),E.addClass(A.clsInput),A.dialogOverlay===!0&&(this.overlay=_._overlay()),A.dialogMode===!0?B.addClass("dialog-mode"):v.media("(max-width: "+A.dialogPoint+"px)")&&(B.addClass("dialog-mode"),this.calendar.addClass("dialog-mode")),A.label){var Z=h("<label>").addClass("label-for-input").addClass(A.clsLabel).html(A.label).insertBefore(B);E.attr("id")&&Z.attr("for",E.attr("id")),E.attr("dir")==="rtl"&&Z.addClass("rtl")}E.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e=this,n=this.element,o=this.options,d=n.parent(),p=d.find(".input-clear-button"),w=this.calendar,_=c.getPlugin(w[0],"calendar"),E=this.calendar;h(window).on(c.events.resize,function(){o.dialogMode!==!0&&(v.media("(max-width: "+o.dialogPoint+"px)")?(d.addClass("dialog-mode"),E.appendTo("body").addClass("dialog-mode")):(d.removeClass("dialog-mode"),E.appendTo(d).removeClass("dialog-mode")))},{ns:this.id}),p.length>0&&p.on(c.events.click,function(A){n.val("").trigger("change").blur(),e.value=null,A.preventDefault(),A.stopPropagation()}),d.on(c.events.click,"button, input",function(A){var B=e.value?e.value:datetime(),H=o.inputFormat?B.format(o.inputFormat):B.format("YYYY-MM-DD");B.align("day"),w.hasClass("open")===!1&&w.hasClass("open-up")===!1?(h(".calendar-picker .calendar").removeClass("open open-up").hide(),_.setPreset([H]),_.setShow(B),d.hasClass("dialog-mode")&&e.overlay.appendTo(h("body")),w.addClass("open"),v.inViewport(w[0])||w.addClass("open-up"),e._fireEvent("calendar-show",{calendar:w})):(e._removeOverlay(),w.removeClass("open open-up"),e._fireEvent("calendar-hide",{calendar:w})),A.preventDefault(),A.stopPropagation()}),n.on(c.events.blur,function(){d.removeClass("focused")}),n.on(c.events.focus,function(){d.addClass("focused")}),n.on(c.events.change,function(){v.exec(o.onChange,[e.value.val()],n[0])}),d.on(c.events.click,function(A){A.preventDefault(),A.stopPropagation()})},_overlay:function(){var e=this.options,n=h("<div>");return n.addClass("overlay for-calendar-picker").addClass(e.clsOverlay),e.overlayColor==="transparent"?n.addClass("transparent"):n.css({background:c.colors.toRGBA(e.overlayColor,e.overlayAlpha)}),n},_removeOverlay:function(){h("body").find(".overlay.for-calendar-picker").remove()},clear:function(){this.value=datetime(),this.time=[datetime().hour(),datetime().minute()],this.element.val("")},val:function(e,n){var o,d=this.element,p=this.options;if(arguments.length===0||v.isNull(e))return{date:this.value.val(),time:this.time};if(e==="")return this.clear();n&&(p.inputFormat=n);var w=e.split(" ");this.value=p.inputFormat?Datetime.from(w[0],p.inputFormat,p.locale):datetime(w[0]),w[1]&&(this.time=w[1].trim().split(":")),this.value.align("day"),c.getPlugin(this.calendar,"calendar").setTime(this.time),o=this.value.format(p.format),p.showTime&&this.time&&o&&(o+=" "+Str.lpad(this.time[0],"0",2)+":"+Str.lpad(this.time[1],"0",2)),d.val(o),d.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},i18n:function(e){var n,o=this.options,d=this.calendar;return e===void 0?o.locale:c.locales[e]!==void 0&&((n=d[0].hidden)&&d.css({visibility:"hidden",display:"block"}),c.getPlugin(d[0],"calendar").i18n(e),void(n&&d.css({visibility:"visible",display:"none"})))},getTime:function(e){var n,o;return e=e||!1,n=Str.lpad(this.time[0],"0",2),o=Str.lpad(this.time[1],"0",2),e?n+":"+o:this.time},changeAttribute:function(e,n){var o=this,d=c.getPlugin(this.calendar[0],"calendar");switch(e){case"value":case"data-value":o.val(n);break;case"disabled":this.toggleState();break;case"data-locale":o.i18n(n);break;case"data-special":d.setSpecial(n);break;case"data-exclude":d.setExclude(n);break;case"data-min-date":d.setMinDate(n);break;case"data-max-date":d.setMaxDate(n)}},destroy:function(){var e=this.element,n=e.parent(),o=n.find(".input-clear-button");return h(window).off(c.events.resize,{ns:this.id}),o.off(c.events.click),n.off(c.events.click,"button, input"),e.off(c.events.blur),e.off(c.events.focus),e.off(c.events.change),c.getPlugin(this.calendar,"calendar").destroy(),e}}),h(document).on(c.events.click,".overlay.for-calendar-picker",function(){h(this).remove(),h(".calendar-for-picker.open").removeClass("open open-up")}),h(document).on(c.events.click,function(){h(".calendar-picker .calendar").removeClass("open open-up")})}(Metro,m4q),function(c,h){var v=c.utils,y=["slide","slide-v","fade","switch","zoom","swirl"],e={carouselDeferred:0,autoStart:!1,width:"100%",height:"16/9",effect:y[0],effectFunc:"linear",direction:"left",duration:METRO_ANIMATION_DURATION,period:5e3,stopOnMouse:!0,controls:!0,bullets:!0,bulletsStyle:"square",bulletsSize:"default",controlsOnMouse:!1,controlsOutside:!1,bulletsPosition:"default",controlPrev:"&#x23F4",controlNext:"&#x23F5",clsCarousel:"",clsSlides:"",clsSlide:"",clsControls:"",clsControlNext:"",clsControlPrev:"",clsBullets:"",clsBullet:"",clsBulletOn:"",clsThumbOn:"",onStop:c.noop,onStart:c.noop,onPlay:c.noop,onSlideClick:c.noop,onBulletClick:c.noop,onThumbClick:c.noop,onMouseEnter:c.noop,onMouseLeave:c.noop,onNextClick:c.noop,onPrevClick:c.noop,onSlideShow:c.noop,onSlideHide:c.noop,onCarouselCreate:c.noop};c.carouselSetup=function(n){e=h.extend({},e,n)},typeof window.metroCarouselSetup!==void 0&&c.carouselSetup(window.metroCarouselSetup),c.Component("carousel",{init:function(n,o){return this._super(o,n,e,{height:0,width:0,slides:[],current:null,currentIndex:null,dir:"left",interval:!1,isAnimate:!1,id:v.elementId("carousel")}),this},_create:function(){var n=this.element,o=this.options,d=n.find(".slide"),p=n.find(".slides");this.dir=this.options.direction,n.addClass("carousel").addClass(o.clsCarousel),n.css({maxWidth:o.width}),o.controlsOutside===!0&&n.addClass("controls-outside"),p.length===0&&(p=h("<div>").addClass("slides").appendTo(n),d.appendTo(p)),d.addClass(o.clsSlides),d.length>0&&(this._createSlides(),this._createControls(),this._createBullets(),this._createEvents(),this._resize(),o.controlsOnMouse===!0&&(n.find("[class*=carousel-switch]").fadeOut(0),n.find(".carousel-bullets").fadeOut(0)),o.autoStart===!0?this._start():this._fireEvent("slide-show",{current:this.slides[this.currentIndex][0],prev:void 0})),this._fireEvent("carousel-create",{element:n})},_start:function(){var n=this,o=this.element,d=this.options,p=d.period,w=this.slides[this.currentIndex];w.data("period")!==void 0&&(p=w.data("period")),this.slides.length<=1||(this.interval===!1&&(this.interval=setTimeout(function(){var E=d.direction==="left"?"next":"prior";n._slideTo(E,!0)},p)),this._fireEvent("start",{element:o}))},_stop:function(){clearInterval(this.interval),this.interval=!1},_resize:function(){var n,o=this.element,d=this.options,p=o.outerWidth(),w=[];["16/9","21/9","4/3"].indexOf(d.height)>-1?n=v.aspectRatioH(p,d.height):String(d.height).indexOf("@")>-1?(w=d.height.substr(1).toArray("|"),h.each(w,function(){var _=this.toArray(",");window.matchMedia(_[0]).matches&&(n=["16/9","21/9","4/3"].indexOf(_[1])>-1?v.aspectRatioH(p,_[1]):parseInt(_[1]))})):n=parseInt(d.height),o.css({height:n})},_createSlides:function(){var n=this,o=this.element,d=this.options,p=o.find(".slide");h.each(p,function(w){var _=h(this);if(_.data("cover")!==void 0&&_.css({backgroundImage:"url("+_.data("cover")+")"}),w!==0)switch(d.effect){case"switch":case"slide":_.css("left","100%");break;case"slide-v":_.css("top","100%");break;case"fade":case"zoom":case"swirl":_.css("opacity","0")}else _.addClass("active-slide");_.addClass(d.clsSlide),n.slides.push(_)}),this.currentIndex=0,this.current=this.slides[this.currentIndex]},_createControls:function(){var n,o,d=this.element,p=this.options;p.controls!==!1&&(n=h("<span/>").addClass("carousel-switch-next").addClass(p.clsControls).addClass(p.clsControlNext).html(">"),o=h("<span/>").addClass("carousel-switch-prev").addClass(p.clsControls).addClass(p.clsControlPrev).html("<"),p.controlNext&&n.html(p.controlNext),p.controlPrev&&o.html(p.controlPrev),n.appendTo(d),o.appendTo(d))},_createBullets:function(){var n,o,d=this.element,p=this.options;if(p.bullets!==!1){for(n=h("<div>").addClass("carousel-bullets").addClass(p.bulletsSize+"-size").addClass("bullet-style-"+p.bulletsStyle).addClass(p.clsBullets),p.bulletsPosition==="default"||p.bulletsPosition==="center"?n.addClass("flex-justify-center"):p.bulletsPosition==="left"?n.addClass("flex-justify-start"):n.addClass("flex-justify-end"),o=0;o<this.slides.length;o++){var w=h("<span>").addClass("carousel-bullet").addClass(p.clsBullet).data("slide",o);o===0&&w.addClass("bullet-on").addClass(p.clsBulletOn),w.appendTo(n)}n.appendTo(d)}},_createEvents:function(){var n=this,o=this.element,d=this.options;o.on(c.events.click,".carousel-bullet",function(){var p=h(this);n.isAnimate===!1&&(n._slideToSlide(p.data("slide")),n._fireEvent("bullet-click",{bullet:p}))}),o.on(c.events.click,".carousel-switch-next",function(){n.isAnimate===!1&&(n._slideTo("next",!1),n._fireEvent("next-click",{button:this}))}),o.on(c.events.click,".carousel-switch-prev",function(){n.isAnimate===!1&&(n._slideTo("prev",!1),n._fireEvent("prev-click",{button:this}))}),d.stopOnMouse===!0&&d.autoStart===!0&&(o.on(c.events.enter,function(){n._stop(),n._fireEvent("mouse-enter",{element:o},!1,!0)}),o.on(c.events.leave,function(){n._start(),n._fireEvent("mouse-leave",{element:o},!1,!0)})),d.controlsOnMouse===!0&&(o.on(c.events.enter,function(){o.find("[class*=carousel-switch]").fadeIn(),o.find(".carousel-bullets").fadeIn()}),o.on(c.events.leave,function(){o.find("[class*=carousel-switch]").fadeOut(),o.find(".carousel-bullets").fadeOut()})),o.on(c.events.click,".slide",function(){var p=h(this);n._fireEvent("slide-click",{slide:p})}),h(window).on(c.events.resize,function(){n._resize()},{ns:this.id})},_slideToSlide:function(n){var o,d,p,w=this.element,_=this.options;this.slides[n]!==void 0&&this.currentIndex!==n&&(p=n>this.currentIndex?"next":"prev",o=this.slides[this.currentIndex],d=this.slides[n],this.currentIndex=n,this._effect(o,d,_.effect,p),w.find(".carousel-bullet").removeClass("bullet-on").removeClass(_.clsBulletOn),w.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(_.clsBulletOn))},_slideTo:function(n,o){var d,p,w=this.element,_=this.options;n===void 0&&(n="next"),d=this.slides[this.currentIndex],n==="next"?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1)),p=this.slides[this.currentIndex],this._effect(d,p,_.effect,n,o),w.find(".carousel-bullet").removeClass("bullet-on").removeClass(_.clsBulletOn),w.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(_.clsBulletOn)},_effect:function(n,o,d,p,w){var _,E=this,A=this.options,B=A.duration,H=A.effectFunc,V=A.period;o.data("duration")!==void 0&&(B=o.data("duration")),o.data("effectFunc")!==void 0&&(H=o.data("effectFunc")),d==="switch"&&(B=0),n.stop(!0),o.stop(!0),this.isAnimate=!0,setTimeout(function(){E.isAnimate=!1},B+100),_=d==="slide"?p==="next"?"slideLeft":"slideRight":d==="slide-v"?p==="next"?"slideUp":"slideDown":d,y.includes(d)||(_="switch"),function(K,Z,xe,Ee){c.animations[K](Z,xe,Ee)}(_,n,o,{duration:B,ease:H}),n.removeClass("active-slide"),o.addClass("active-slide"),setTimeout(function(){E._fireEvent("slide-show",{current:o[0],prev:n[0]})},B),setTimeout(function(){E._fireEvent("slide-hide",{current:n[0],next:o[0]})},B),w===!0&&(o.data("period")!==void 0&&(V=o.data("period")),this.interval=setTimeout(function(){var Z=A.direction==="left"?"next":"prior";E._slideTo(Z,!0)},V))},toSlide:function(n){this._slideToSlide(n)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},stop:function(){clearInterval(this.interval),this._fireEvent("stop")},play:function(){this._start(),this._fireEvent("play")},setEffect:function(n){var o=this.element,d=this.options,p=o.find(".slide");y.includes(n)&&(d.effect=n,p.removeStyleProperty("transform").css({top:0,left:0}))},changeAttribute:function(n,o){n==="data-effect"&&this.setEffect(o)},destroy:function(){var n=this.element,o=this.options;return n.off(c.events.click,".carousel-bullet"),n.off(c.events.click,".carousel-switch-next"),n.off(c.events.click,".carousel-switch-prev"),o.stopOnMouse===!0&&o.autoStart===!0&&(n.off(c.events.enter),n.off(c.events.leave)),o.controlsOnMouse===!0&&(n.off(c.events.enter),n.off(c.events.leave)),n.off(c.events.click,".slide"),h(window).off(c.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(c,h){var v=c.utils,y={charmsDeferred:0,position:"right",opacity:1,clsCharms:"",onCharmCreate:c.noop,onOpen:c.noop,onClose:c.noop,onToggle:c.noop};c.charmsSetup=function(e){y=h.extend({},y,e)},typeof window.metroCharmsSetup!==void 0&&c.charmsSetup(window.metroCharmsSetup),c.Component("charms",{init:function(e,n){return this._super(n,e,y,{origin:{background:""}}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("charm-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options;e.addClass("charms").addClass(n.position+"-side").addClass(n.clsCharms),this.origin.background=e.css("background-color"),e.css({backgroundColor:c.colors.toRGBA(v.getStyleOne(e,"background-color"),n.opacity)})},_createEvents:function(){},open:function(){this.element.addClass("open"),this._fireEvent("open")},close:function(){this.element.removeClass("open"),this._fireEvent("close")},toggle:function(){this.element.hasClass("open")===!0?this.close():this.open(),this._fireEvent("toggle")},opacity:function(e){var n=this.element,o=this.options;if(e===void 0)return o.opacity;var d=Math.abs(parseFloat(e));d<0||d>1||(o.opacity=d,n.css({backgroundColor:c.colors.toRGBA(v.getStyleOne(n,"background-color"),d)}))},changeOpacity:function(){var e=this.element;this.opacity(e.attr("data-opacity"))},changeAttribute:function(e){e==="data-opacity"&&this.changeOpacity()},destroy:function(){return this.element}}),c.charms={check:function(e){return v.isMetroObject(e,"charms")!==!1||(console.warn("Element is not a charms component"),!1)},isOpen:function(e){if(this.check(e)!==!1)return h(e).hasClass("open")},open:function(e){this.check(e)!==!1&&c.getPlugin(e,"charms").open()},close:function(e){this.check(e)!==!1&&c.getPlugin(e,"charms").close()},toggle:function(e){this.check(e)!==!1&&c.getPlugin(e,"charms").toggle()},closeAll:function(){h("[data-role*=charms]").each(function(){c.getPlugin(this,"charms").close()})},opacity:function(e,n){this.check(e)!==!1&&c.getPlugin(e,"charms").opacity(n)}}}(Metro,m4q),function(c,h){var v=c.utils,y="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAUABQAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t+KKPxo/GgA70Yo/Gj8aADFH4VesdC1HUl3WtjcXCf344yV/PGKW+0HUtNXddWNzbp/fkjIX88YoAofhR+FH40fjQAfhR+FH40fjQAUUUUAFepeAPh5D9li1LVYhK8g3Q27j5VXszDuT6f5HA+FtOXVvEWn2rjMcko3j1UckfkDX0MBgYHAoARVCKFUBVHAA6ClZQwKkZBGCDS0UAec+Pvh3BJay6lpUQimjBeW3QYVx3Kjsfbv/PyqvpuvnvxfpqaT4l1C1QbY0lJUDsrfMB+RoAyKKKKACiiigDa8GXq6f4p02eQgIJQpJ7Bvlz+tfQP4V8yDg17P4A8cw65ZxWV5IE1KMbfmP+uA7j39R+NAHaUfhSUUAL+FeA+OL1NQ8WalNGQU83YCO+0Bf6V6b498cQ6BZyWlrIJNSkXaApz5QP8AEff0FeKk5OTyTQAUUUUAH40fjRU1naTX93DbQIXmlYIijuTQBc0Dw/eeI74W1mm49XkbhUHqTXsHhz4eaXoCpI8YvbscmaYZAP8Asr0H8/etHwv4cg8M6XHaxANIfmllxy7dz9PStigA/Gk/GlooA5bxJ8PdL19XkWMWd43PnwjGT/tL0P8AP3rx/X/D954cvjbXibT1SReVceoNfRFZHijw5B4m0uS1lAWQfNFLjlG7H6etAHz5+NH41NeWk1hdzW06FJonKMp7EGoaACvQfhBowudTudRkXK2y7I8j+Nup/Afzrz6vafhRaCDwmkgHM8zufwO3/wBloA7Kiij8KACkpaSgBaSj8KKAPJvi/owttTttRjXC3K7JMf3l6H8R/KvPq9p+K1qJ/CbyEcwTI4P1O3/2avFqAP/Z",e={chatDeferred:0,inputTimeFormat:null,timeFormat:"D MMM hh:mm A",name:"John Doe",avatar:y,welcome:null,welcomeAvatar:y,title:null,width:"100%",height:"auto",messages:null,sendButtonTitle:"Send",readonly:!1,locale:METRO_LOCALE,clsChat:"",clsName:"",clsTime:"",clsInput:"",clsSendButton:"",clsMessageLeft:"default",clsMessageRight:"default",onMessage:c.noop,onSend:c.noop,onSendButtonClick:c.noop,onChatCreate:c.noop};c.chatSetup=function(n){e=h.extend({},e,n)},typeof window.metroChatSetup!==void 0&&c.chatSetup(window.metroChatSetup),c.Component("chat",{init:function(n,o){return this._super(o,n,e,{input:null,classes:"primary secondary success alert warning yellow info dark light".split(" "),lastMessage:null}),this},_create:function(){var n=this.element;this._createStructure(),this._createEvents(),this._fireEvent("chat-create",{element:n})},_createStructure:function(){var n,o,d=this,p=this.element,w=this.options,_=[{html:w.sendButtonTitle,cls:w.clsSendButton+" js-chat-send-button",onclick:w.onSendButtonClick}];p.addClass("chat").addClass(w.clsChat),p.css({width:w.width,height:w.height}),v.isValue(w.title)&&h("<div>").addClass("title").html(w.title).appendTo(p),h("<div>").addClass("messages").appendTo(p),n=h("<div>").addClass("message-input").appendTo(p),(o=h("<input type='text'>")).appendTo(n),setTimeout(()=>{c.makePlugin(o[0],"input",{customButtons:_,clsInput:w.clsInput})}),w.welcome&&this.add({text:w.welcome,time:datetime(),position:"left",name:"Chat Bot",avatar:w.welcomeAvatar}),v.isValue(w.messages)&&typeof w.messages=="string"&&(w.messages=v.isObject(w.messages)),!v.isNull(w.messages)&&typeof w.messages=="object"&&v.objectLength(w.messages)>0&&h.each(w.messages,function(){d.add(this)}),p.find(".message-input")[w.readonly?"addClass":"removeClass"]("disabled")},_createEvents:function(){var n=this,o=this.element,d=this.options,p=o.find(".js-chat-send-button"),w=o.find("input[type=text]"),_=function(){var E,A=""+w.val();if(A.trim()==="")return!1;E={id:v.elementId("chat-message"),name:d.name,avatar:d.avatar,text:A,position:"right",time:datetime()},n.add(E),w.val(""),n._fireEvent("send",{msg:E}),w.focus()};p.on(c.events.click,function(){_()}),w.on(c.events.keyup,function(E){E.keyCode===c.keyCode.ENTER&&_()})},add:function(n){var o,d,p,w,_,E,A,B=this.element,H=this.options,V=B.find(".messages");return A=H.inputTimeFormat?Datetime.from(n.time,H.inputTimeFormat,H.locale):datetime(n.time),o=h("<div>").addClass("message").addClass(n.position).appendTo(V),w=h("<div>").addClass("message-item").appendTo(o),_=h("<img>").attr("src",n.avatar).addClass("message-avatar").appendTo(w),E=h("<div>").addClass("message-text").append(h("<div>").addClass("message-text-inner").html(Str.escapeHtml(n.text))).appendTo(w),p=h("<div>").addClass("message-time").addClass(H.clsTime).text(A.format(H.timeFormat)).appendTo(E),d=h("<div>").addClass("message-sender").addClass(H.clsName).text(n.name).appendTo(E),v.isValue(n.id)&&o.attr("id",n.id),n.position==="left"&&v.isValue(H.clsMessageLeft)&&E.addClass(H.clsMessageLeft),n.position==="right"&&v.isValue(H.clsMessageRight)&&E.addClass(H.clsMessageRight),this.lastMessage&&this.lastMessage.position===n.position&&(E.addClass("--next"),_.visible(!1),d.hide()),this._fireEvent("message",{msg:n,el:{message:o,sender:d,time:p,item:w,avatar:_,text:E}}),V.animate({draw:{scrollTop:V[0].scrollHeight},dur:1e3}),this.lastMessage=n,this},addMessages:function(n){var o=this;return v.isValue(n)&&typeof n=="string"&&(n=v.isObject(n)),typeof n=="object"&&v.objectLength(n)>0&&h.each(n,function(){o.add(this)}),this},delMessage:function(n){return this.element.find(".messages").find("#"+n).remove(),this},updMessage:function(n){var o=this.element.find(".messages").find("#"+n.id);let d=this.options;if(o.length===0)return this;let p=d.inputTimeFormat?Datetime.from(n.time,d.inputTimeFormat,d.locale):datetime(n.time);return o.find(".message-text-inner").html(n.text),o.find(".message-time").html(p.format(d.timeFormat)),this},clear:function(){this.element.find(".messages").html(""),this.lastMessage=null},toggleReadonly:function(n){var o=this.element,d=this.options;d.readonly=n===void 0?!d.readonly:n,o.find(".message-input")[d.readonly?"addClass":"removeClass"]("disabled")},changeAttribute:function(n){n==="data-readonly"&&this.toggleReadonly()},destroy:function(){var n=this.element,o=n.find(".js-chat-send-button"),d=n.find("input[type=text]");return o.off(c.events.click),d.off(c.events.keyup),n}}),c.defaults.Chat=e,c.defaults.ChatAvatar=y}(Metro,m4q),function(c,h){var v=c.utils,y={checkboxDeferred:0,transition:!0,style:1,caption:"",captionPosition:"right",indeterminate:!1,clsCheckbox:"",clsCheck:"",clsCaption:"",onCheckboxCreate:c.noop};c.checkboxSetup=function(e){y=h.extend({},y,e)},typeof window.metroCheckboxSetup!==void 0&&c.checkboxSetup(window.metroCheckboxSetup),c.Component("checkbox",{init:function(e,n){return this._super(n,e,y,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_createStructure:function(){var e,n=this.element,o=this.options,d=h("<span>").addClass("check"),p=h("<span>").addClass("caption").html(o.caption);n.attr("type","checkbox"),n.attr("readonly")!==void 0&&n.on("click",function(w){w.preventDefault()}),e=n.wrap("<label>").addClass("checkbox "+n[0].className).addClass(o.style===2?"style2":""),d.appendTo(e),p.appendTo(e),o.transition===!0&&e.addClass("transition-on"),o.captionPosition==="left"&&e.addClass("caption-left"),this.origin.className=n[0].className,n[0].className="",e.addClass(o.clsCheckbox),p.addClass(o.clsCaption),d.addClass(o.clsCheck),o.indeterminate&&(n[0].indeterminate=!0),n.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e=this.element,n=e.siblings(".check");e.on("focus",function(){n.addClass("focused")}),e.on("blur",function(){n.removeClass("focused")})},indeterminate:function(e){var n=this.element;e=!!v.isNull(e)||v.bool(e),n[0].indeterminate=e,n.attr("data-indeterminate",e)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(e){var n=this.element;return this.indeterminate(!1),v.isValue(e)?e===-1?this.indeterminate(!0):n.prop("checked",e===1):n.prop("checked",!v.bool(n.prop("checked"))),this},changeAttribute:function(e){var n,o=this.element,d=this.options,p=o.parent();switch(e){case"disabled":this.toggleState();break;case"data-indeterminate":o[0].indeterminate=JSON.parse(o.attr("data-indeterminate"))===!0;break;case"data-style":n=parseInt(o.attr("data-style")),v.isInt(n)&&(d.style=n,p.removeClass("style1 style2").addClass("style"+n))}},destroy:function(){var e=this.element;return e.off("focus"),e.off("blur"),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={checkboxDeferred:0,state:-1,transition:!0,style:1,caption:"",captionPosition:"right",clsCheckbox:"",clsCheck:"",clsCaption:"",onCheckboxCreate:c.noop};c.metroCheckboxThreeStateSetup=function(e){y=h.extend({},y,e)},typeof window.metroCheckboxThreeStateSetup!==void 0&&c.metroCheckboxThreeStateSetup(window.metroCheckboxThreeStateSetup),c.Component("checkbox-three-state",{init:function(e,n){return this._super(n,e,y,{origin:{className:""},state:-1}),this},_create:function(){var e=this.options;this.elem.checked&&(e.state=1),this.elem.checked=!1,e.state===-1||e.state==="unchecked"?this.state=-1:e.state===0||e.state==="indeterminate"?this.state=0:this.state=1,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(e){var n=this.element;e=!!v.isNull(e)||v.bool(e),n[0].indeterminate=e,n.attr("data-indeterminate",e)},_createStructure:function(){var e,n=this.element,o=this.options,d=h("<span>").addClass("check"),p=h("<span>").addClass("caption").html(o.caption);n.attr("type","checkbox"),n.attr("readonly")!==void 0&&n.on("click",function(w){w.preventDefault()}),e=n.wrap("<label>").addClass("checkbox "+n[0].className).addClass(o.style===2?"style2":""),d.appendTo(e),p.appendTo(e),o.transition===!0&&e.addClass("transition-on"),o.captionPosition==="left"&&e.addClass("caption-left"),this.origin.className=n[0].className,n[0].className="",e.addClass(o.clsCheckbox),p.addClass(o.clsCaption),d.addClass(o.clsCheck),this._drawState(),n.is(":disabled")?this.disable():this.enable()},_drawState:function(){var e=this.element;e[0].checked=!1,this._indeterminate(!1),this.state===0?(e[0].checked=!0,this._indeterminate(!0)):this.state===1&&(e[0].checked=!0)},_createEvents:function(){var e=this.element,n=e.siblings(".check"),o=this;e.on("click",function(){o.state++,o.state===2&&(o.state=-1),o._drawState()}),e.on("focus",function(){n.addClass("focused")}),e.on("blur",function(){n.removeClass("focused")})},check:function(){this.setCheckState(1)},uncheck:function(){this.setCheckState(-1)},indeterminate:function(){this.setCheckState(0)},setCheckState:function(e){return this.state=e===-1||e==="unchecked"?-1:e===0||e==="indeterminate"?0:1,this._drawState(),this},getCheckState:function(e){if(!e)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggle:function(){this.state++,this.state===2&&(this.state=-1),this._drawState()},changeAttribute:function(e,n){var o,d=this.element,p=this.options,w=d.parent();switch(e){case"disabled":(function(){this.elem.disabled?this.disable():this.enable()})();break;case"data-style":o=parseInt(d.attr("data-style")),v.isInt(o)&&(p.style=o,w.removeClass("style1 style2").addClass("style"+o));break;case"data-state":(function(_){this.toggle(_)})(n)}},destroy:function(){var e=this.element;return e.off("focus"),e.off("blur"),e}})}(Metro,m4q),function(c,h){var v={clockDeferred:0,showTime:!0,showDate:!0,timeFormat:"24",dateFormat:"american",divider:"&nbsp;&nbsp;",leadingZero:!0,dateDivider:"-",timeDivider:":",onTick:c.noop,onSecond:c.noop,onClockCreate:c.noop};c.clockSetup=function(y){v=h.extend({},v,y)},typeof window.metroClockSetup!==void 0&&c.clockSetup(window.metroClockSetup),c.Component("clock",{init:function(y,e){return this._super(e,y,v,{_clockInterval:null}),this},_create:function(){var y=this,e=this.element;this._fireEvent("clock-create",{element:e}),this._tick(),this._clockInterval=setInterval(function(){y._tick()},500),this._secondInterval=setInterval(function(){y._second()},1e3)},_addLeadingZero:function(y){return y<10&&(y="0"+y),y},_second:function(){var y=new Date;this._fireEvent("second",{timestamp:y})},_tick:function(){var y=this.element,e=this.options,n=new Date,o="",d=n.getHours(),p=n.getMinutes(),w=n.getSeconds(),_=n.getDate(),E=n.getMonth()+1,A=n.getFullYear(),B="";parseInt(e.timeFormat)===12&&(B=" AM",d>11&&(B=" PM"),d>12&&(d-=12),d===0&&(d=12)),p=this._addLeadingZero(p),w=this._addLeadingZero(w),e.leadingZero&&(d=this._addLeadingZero(d),E=this._addLeadingZero(E),_=this._addLeadingZero(_)),e.showDate&&(e.dateFormat==="american"?(o+="<span class='date-month'>"+E+"</span>",o+="<span class='date-divider'>"+e.dateDivider+"</span>",o+="<span class='date-day'>"+_+"</span>",o+="<span class='date-divider'>"+e.dateDivider+"</span>",o+="<span class='date-year'>"+A+"</span>"):(o+="<span class='date-day'>"+_+"</span>",o+="<span class='date-divider'>"+e.dateDivider+"</span>",o+="<span class='date-month'>"+E+"</span>",o+="<span class='date-divider'>"+e.dateDivider+"</span>",o+="<span class='date-year'>"+A+"</span>"),o+=e.divider),e.showTime&&(o+="<span class='clock-hour'>"+d+"</span>",o+="<span class='clock-divider'>"+e.timeDivider+"</span>",o+="<span class='clock-minute'>"+p+"</span>",o+="<span class='clock-divider'>"+e.timeDivider+"</span>",o+="<span class='clock-second'>"+w+"</span>",o+="<span class='clock-suffix'>"+B+"</span>"),y.html(o),this._fireEvent("tick",{timestamp:n})},changeAttribute:function(y){},destroy:function(){return clearInterval(this._clockInterval),this._clockInterval=null,this.element}})}(Metro,m4q),function(c,h){var v={collapseDeferred:0,collapsed:!1,toggleElement:!1,duration:100,onExpand:c.noop,onCollapse:c.noop,onCollapseCreate:c.noop};c.collapseSetup=function(y){v=h.extend({},v,y)},typeof window.metroCollapseSetup!==void 0&&c.collapseSetup(window.metroCollapseSetup),c.Component("collapse",{init:function(y,e){return this._super(e,y,v,{toggle:null}),this},_create:function(){var y,e=this,n=this.element,o=this.options;y=o.toggleElement!==!1?h(o.toggleElement):n.siblings(".collapse-toggle").length>0?n.siblings(".collapse-toggle"):n.siblings("a:nth-child(1)"),o.collapsed!==!0&&n.attr("collapsed")!==!0||n.hide(0),y.on(c.events.click,function(d){n.css("display")!=="block"||n.hasClass("keep-open")?e._open(n):e._close(n),["INPUT"].indexOf(d.target.tagName)===-1&&d.preventDefault(),d.stopPropagation()}),this.toggle=y,this._fireEvent("collapse-create",{element:n})},_close:function(y,e){var n=h(y),o=c.getPlugin(n[0],"collapse"),d=o.options,p=e?"show":"slideUp",w=e?0:d.duration;this.toggle.removeClass("active-toggle"),n[p](w,function(){y.trigger("onCollapse",null,y),y.data("collapsed",!0),y.addClass("collapsed"),o._fireEvent("collapse")})},_open:function(y,e){var n=h(y),o=c.getPlugin(n[0],"collapse"),d=o.options,p=e?"show":"slideDown",w=e?0:d.duration;this.toggle.addClass("active-toggle"),n[p](w,function(){y.trigger("onExpand",null,y),y.data("collapsed",!1),y.removeClass("collapsed"),o._fireEvent("expand")})},collapse:function(y){this._close(this.element,y)},expand:function(y){this._open(this.element,y)},close:function(y){this._close(this.element,y)},open:function(y){this._open(this.element,y)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){var y=this.element;y.attr("collapsed")===!0||y.data("collapsed")===!0?this.collapse():this.expand()},changeAttribute:function(y){switch(y){case"collapsed":case"data-collapsed":this.toggleState()}},destroy:function(){return this.toggle.off(c.events.click),this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={duration:100,prepend:"",append:"",clearButton:!1,clearButtonIcon:"<span class='default-icon-cross'></span>",pickerButtonIcon:"<span class='default-icon-equalizer'></span>",defaultValue:"rgba(0, 0, 0, 0)",copyInlineStyles:!1,clsPickerButton:"",clsClearButton:"",onColorSelected:c.noop,onColorPickerCreate:c.noop};c.colorPickerSetup=function(e){y=h.extend({},y,e)},typeof window.metroColorPickerSetup!==void 0&&c.colorPickerSetup(window.metroColorPickerSetup),c.Component("color-picker",{init:function(e,n){return this._super(n,e,h.extend({},c.defaults.ColorSelector,{showUserColors:!1,showValues:""},y),{value:null,picker:null,colorSelector:null,colorSelectorBox:null,colorExample:null,inputInterval:null,isOpen:!1}),this},_create:function(){var e=this.element,n=this.options,o=e.val();if(!c.pluginExists("color-selector"))throw new Error("Color selector component required!");this.value=c.colors.isColor(o)?o:c.colors.isColor(n.defaultValue)?n.defaultValue:"rgba(0,0,0,0)",this._createStructure(),this._createEvents(),this._fireEvent("color-picker-create")},_createStructure:function(){var e,n,o,d,p=this,w=this.element,_=this.options,E=w.wrap(h("<div>").addClass("color-picker").addClass(w[0].className));n=h("<div>").addClass("color-example-box").insertBefore(w),(e=h("<div>").addClass("buttons").appendTo(E)).append(h("<button>").addClass("button color-picker-button").addClass(_.clsPickerButton).attr("tabindex",-1).attr("type","button").html(_.pickerButtonIcon)),_.clearButton!==!0||w[0].readOnly||e.append(h("<button>").addClass("button input-clear-button").addClass(_.clsClearButton).attr("tabindex",-1).attr("type","button").html(_.clearButtonIcon)),v.isValue(_.prepend)&&E.prepend(h("<div>").addClass("prepend").addClass(_.clsPrepend).html(_.prepend)),v.isValue(_.append)&&E.append(h("<div>").html(_.append).addClass("append").addClass(_.clsAppend)),d=h("<div>").addClass("color-selector-box").appendTo(E),o=h("<div>").appendTo(d),this.picker=E,this.colorExample=n,this.colorSelector=o,this.colorSelectorBox=d,c.makePlugin(o,"color-selector",{defaultSwatches:_.defaultSwatches,userColors:_.userColors,returnValueType:_.returnValueType,returnAsString:_.returnAsString,showValues:_.showValues,showAsString:_.showAsString,showUserColors:_.showUserColors,target:_.target,controller:w,locale:_.locale,addUserColorTitle:_.addUserColorTitle,userColorsTitle:_.userColorsTitle,hslMode:_.hslMode,showAlphaChannel:_.showAlphaChannel,inputThreshold:_.inputThreshold,initColor:this.value,readonlyInput:_.readonlyInput,clsSelector:_.clsSelector,clsSwatches:_.clsSwatches,clsSwatch:_.clsSwatch,clsValue:_.clsValue,clsLabel:_.clsLabel,clsInput:_.clsInput,clsUserColorButton:_.clsUserColorButton,clsUserColors:_.clsUserColors,clsUserColorsTitle:_.clsUserColorsTitle,clsUserColor:_.clsUserColor,onColor:_.onColor,onColorSelectorCreate:_.onColorSelectorCreate}),c.makePlugin(d,"dropdown",{dropFilter:".color-picker",duration:_.duration,toggleElement:[E],checkDropUp:!0,onDrop:function(){c.getPlugin(o,"color-selector").val(p.value)}}),w[0].className="",_.copyInlineStyles===!0&&h.each(v.getInlineStyles(w),function(A,B){E.css(A,B)}),this._setColor()},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_setColor:function(){var e=this.colorExample,n=this.value;this.value.indexOf("cmyk")===-1&&this.value.indexOf("hsv")===-1||(n=c.colors.toHEX(this.value)),e.css({backgroundColor:n})},_createEvents:function(){var e=this,n=this.element,o=this.options,d=this.picker,p=this.colorSelector,w=this.colorSelector;d.on(c.events.click,".input-clear-button",function(_){_.preventDefault(),_.stopPropagation(),n.val(o.defaultValue).trigger("change"),c.getPlugin(p,"color-selector").val(o.defaultValue)}),n.on(c.events.inputchange,function(){e.value=this.value,e._setColor()}),w.on(c.events.click,function(_){_.stopPropagation()})},val:function(e){if(arguments.length===0||!v.isValue(e))return this.value;c.colors.isColor(e)&&(this.value=e,this.element.val(e).trigger("change"),this._setColor())},destroy:function(){this.element.remove()}}),h(document).on(c.events.click,function(){h(".color-picker").removeClass("open")})}(Metro,m4q),function(c,h){var v="hex, rgb, rgba, hsl, hsla, hsv, cmyk",y=c.utils,e={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",userColors:null,returnValueType:"hex",returnAsString:!0,showValues:v,showAsString:null,showUserColors:!0,controller:null,locale:"en-US",addUserColorTitle:null,userColorsTitle:null,hslMode:"percent",showAlphaChannel:!0,inputThreshold:300,initColor:null,readonlyInput:!1,clsSelector:"",clsSwatches:"",clsSwatch:"",clsValue:"",clsLabel:"",clsInput:"",clsUserColorButton:"",clsUserColors:"",clsUserColorsTitle:"",clsUserColor:"",onSelectColor:c.noop,onColorSelectorCreate:c.noop};c.colorSelectorSetup=function(n){e=h.extend({},e,n)},typeof window.metroColorSelectorSetup!==void 0&&c.colorSelectorSetup(window.metroColorSelectorSetup),c.Component("color-selector",{init:function(n,o){return this._super(o,n,e,{id:y.elementId("color-selector"),defaultSwatches:[],showValues:[],userColors:[],showAsString:[],hue:0,saturation:0,lightness:1,alpha:1,hsl:null,hsla:null,hsv:null,rgb:null,rgba:null,cmyk:null,hex:null,inputInterval:null,locale:null}),this},_create:function(){var n=this.options;y.isValue(n.defaultSwatches)&&(this.defaultSwatches=n.defaultSwatches.toArray(",").map(function(o){return o.toUpperCase()})),y.isValue(n.showValues)&&(this.showValues=n.showValues.toArray(",")),y.isValue(n.userColors)&&(this.userColors=n.userColors.toArray(",").map(function(o){return o.toUpperCase()})),y.isValue(n.showAsString)&&(this.showAsString=n.showAsString.toArray(",")),this.locale=c.locales[n.locale].colorSelector,this._createStructure(),this._createEvents(),this._fireEvent("color-selector-create")},_createStructure:function(){var n,o,d,p,w,_,E,A,B,H,V,K,Z,xe,Ee,We=this,z=this.element,ee=this.options,le=this.locale;z.addClass("color-selector").addClass(ee.clsSelector),z.append(n=h("<div>").addClass("color-box")),n.append(o=h("<div>").addClass("row")),o.append(d=h("<div>").addClass("default-swatches").addClass(ee.clsSwatches)),h.each(this.defaultSwatches,function(){d.append(h("<button>").attr("data-color",this).attr("type","button").addClass("swatch").addClass(ee.clsSwatch).css("background-color",this))}),n.append(o=h("<div>").addClass("row")),o.append(p=h("<div>").addClass("color-map")),p.append(K=h("<button>").attr("type","button").addClass("cursor color-cursor")),p.append(H=h("<canvas>").addClass("color-canvas")),o.append(p=h("<div>").addClass("hue-map")),p.append(V=h("<button>").attr("type","button").addClass("cursor hue-cursor")),p.append(B=h("<canvas>").addClass("hue-canvas")),o.append(p=h("<div>").addClass("alpha-map")),p.append(Ee=h("<button>").attr("type","button").addClass("cursor alpha-cursor")),p.append(xe=h("<canvas>").addClass("alpha-canvas")),n.append(o=h("<div>").addClass("row color-values-block")),o.append(w=h("<div>").addClass("color-value-hex")),w.append(h("<input type='radio' name='returnType' value='hex' checked>").addClass("check-color-value-hex")),w.append(Z=h("<div>").addClass("color-block as-string color-hex")),Z.append(h("<input type='text' data-prepend='HEX:'>").addClass("input-small value-hex")),o.append(w=h("<div>").addClass("color-value-rgb")),w.append(h("<input type='radio' name='returnType' value='rgb'>").addClass("check-color-value-rgb")),w.append(Z=h("<div>").addClass("color-block color-rgb")),Z.append(h("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),Z.append(h("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),Z.append(h("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),w.append(Z=h("<div>").addClass("color-block as-string color-rgb")),Z.append(h("<input type='text' data-prepend='RGB:'>").addClass("input-small value-rgb")),this.showAsString.indexOf("rgb")>-1?w.find(".value-r,.value-g,.value-b").parent().hide():w.find(".value-rgb").parent().hide(),o.append(w=h("<div>").addClass("color-value-rgba")),w.append(h("<input type='radio' name='returnType' value='rgba'>").addClass("check-color-value-rgba")),w.append(Z=h("<div>").addClass("color-block color-rgba")),Z.append(h("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),Z.append(h("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),Z.append(h("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),Z.append(h("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),w.append(Z=h("<div>").addClass("color-block as-string color-rgba")),Z.append(h("<input type='text' data-prepend='RGBA:'>").addClass("input-small value-rgba")),this.showAsString.indexOf("rgba")>-1?w.find(".value-r,.value-g,.value-b,.value-a").parent().hide():w.find(".value-rgba").parent().hide(),o.append(w=h("<div>").addClass("color-value-hsl")),w.append(h("<input type='radio' name='returnType' value='hsl'>").addClass("check-color-value-hsl")),w.append(Z=h("<div>").addClass("color-block color-hsl")),Z.append(h("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),Z.append(h("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),Z.append(h("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),w.append(Z=h("<div>").addClass("color-block as-string color-hsl")),Z.append(h("<input type='text' data-prepend='HSL:'>").addClass("input-small value-hsl")),this.showAsString.indexOf("hsl")>-1?w.find(".value-h,.value-s,.value-l").parent().hide():w.find(".value-hsl").parent().hide(),o.append(w=h("<div>").addClass("color-value-hsla")),w.append(h("<input type='radio' name='returnType' value='hsla'>").addClass("check-color-value-hsla")),w.append(Z=h("<div>").addClass("color-block color-hsla")),Z.append(h("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),Z.append(h("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),Z.append(h("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),Z.append(h("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),w.append(Z=h("<div>").addClass("color-block as-string color-hsla")),Z.append(h("<input type='text' data-prepend='HSLA:'>").addClass("input-small value-hsla")),this.showAsString.indexOf("hsla")>-1?w.find(".value-h,.value-s,.value-l,.value-a").parent().hide():w.find(".value-hsla").parent().hide(),o.append(w=h("<div>").addClass("color-value-hsv")),w.append(h("<input type='radio' name='returnType' value='hsv'>").addClass("check-color-value-hsl")),w.append(Z=h("<div>").addClass("color-block color-hsv")),Z.append(h("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),Z.append(h("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),Z.append(h("<input type='text' data-prepend='V:'>").addClass("input-small value-v")),w.append(Z=h("<div>").addClass("color-block as-string color-hsv")),Z.append(h("<input type='text' data-prepend='HSV:'>").addClass("input-small value-hsv")),this.showAsString.indexOf("hsv")>-1?w.find(".value-h,.value-s,.value-v").parent().hide():w.find(".value-hsv").parent().hide(),o.append(w=h("<div>").addClass("color-value-cmyk")),w.append(h("<input type='radio' name='returnType' value='cmyk'>").addClass("check-color-value-cmyk")),w.append(Z=h("<div>").addClass("color-block color-cmyk")),Z.append(h("<input type='text' data-prepend='C:'>").addClass("input-small value-c")),Z.append(h("<input type='text' data-prepend='M:'>").addClass("input-small value-m")),Z.append(h("<input type='text' data-prepend='Y:'>").addClass("input-small value-y")),Z.append(h("<input type='text' data-prepend='K:'>").addClass("input-small value-k")),w.append(Z=h("<div>").addClass("color-block as-string color-cmyk")),Z.append(h("<input type='text' data-prepend='CMYK:'>").addClass("input-small value-cmyk")),this.showAsString.indexOf("cmyk")>-1?w.find(".value-s,.value-m,.value-y,.value-k").parent().hide():w.find(".value-cmyk").parent().hide(),n.append(o=h("<div>").addClass("row user-colors-container")),o.append(h("<div>").addClass("user-colors-title").addClass(ee.clsUserColorsTitle).html(ee.userColorsTitle||le.userColorsTitle)),o.append(h("<div>").addClass("user-colors").addClass(ee.clsUserColors)),o.append(A=h("<div>").addClass("user-colors-actions")),A.append(h("<button>").addClass("button add-button").addClass(ee.clsUserColorButton).html("<span class='user-swatch'></span><span>"+(ee.addUserColorTitle||le.addUserColorButton)+"</span>")),_=n.find("input[type=text]"),c.makePlugin(_,"input",{clearButton:!1,clsPrepend:ee.clsLabel,clsComponent:ee.clsInput}),_.addClass(ee.clsValue),ee.readonlyInput&&_.attr("readonly",!0),(E=n.find("input[type=radio]").each(function(){h(this).attr("name",We.id+"-returnType")})).each(function(){h(this).val()===ee.returnValueType&&(this.checked=!0)}),c.makePlugin(E,"radio",{style:2}),h.each(v.toArray(","),function(){We.showValues.indexOf(this)===-1&&z.find(".color-value-"+this).hide()}),ee.showUserColors||z.find(".user-colors-container").hide(),ee.showAlphaChannel||(z.addClass("no-alpha-channel"),h.each(["rgba","hsla"],function(){z.find(".color-value-"+this).hide()})),this._fillUserColors(),this.hueCanvas=B,this.hueCursor=V,this.shadeCanvas=H,this.shadeCursor=K,this.alphaCanvas=xe,this.alphaCursor=Ee,this._createShadeCanvas(),this._createHueCanvas(),this._createAlphaCanvas(),this._setColorValues(),this._updateCursorsColor(),ee.initColor&&c.colors.isColor(ee.initColor)&&this._colorToPos(typeof ee.initColor=="string"?c.colors.parse(ee.initColor):ee.initColor)},_createShadeCanvas:function(n){var o=this.shadeCanvas[0],d=o.getContext("2d");d.clearRect(0,0,o.width,o.height),n||(n="#f00"),d.clearRect(0,0,o.width,o.height),d.fillStyle=n,d.fillRect(0,0,o.width,o.height);var p=d.createLinearGradient(0,0,o.width,0);p.addColorStop(0,"#fff"),p.addColorStop(1,"transparent"),d.fillStyle=p,d.fillRect(0,0,o.width,o.height);var w=d.createLinearGradient(0,0,0,o.height);w.addColorStop(0,"transparent"),w.addColorStop(1,"#000"),d.fillStyle=w,d.fillRect(0,0,o.width,o.height)},_createHueCanvas:function(){var n=this.hueCanvas[0],o=n.getContext("2d"),d=o.createLinearGradient(0,0,0,n.height);d.addColorStop(0,"hsl(0,100%,50%)"),d.addColorStop(.17,"hsl(298.8, 100%, 50%)"),d.addColorStop(.33,"hsl(241.2, 100%, 50%)"),d.addColorStop(.5,"hsl(180, 100%, 50%)"),d.addColorStop(.67,"hsl(118.8, 100%, 50%)"),d.addColorStop(.83,"hsl(61.2,100%,50%)"),d.addColorStop(1,"hsl(360,100%,50%)"),o.clearRect(0,0,n.width,n.height),o.fillStyle=d,o.fillRect(0,0,n.width,n.height)},_createAlphaCanvas:function(){var n=this.alphaCanvas[0],o=n.getContext("2d"),d=o.createLinearGradient(0,0,0,n.height),p=new c.colorPrimitive.HSLA(this.hue,1,.5,1).toString();d.addColorStop(0,p),d.addColorStop(1,"rgba(0,0,0,0)"),o.clearRect(0,0,n.width,n.height),o.fillStyle=d,o.fillRect(0,0,n.width,n.height)},_updateHueCursor:function(n){this.hueCursor.css({top:n})},_updateAlphaCursor:function(n){this.alphaCursor.css({top:n})},_getHueColor:function(n){var o,d,p,w=this.hueCanvas,_=w.offset(),E=w.height();(o=n-_.top)>E&&(o=E),o<0&&(o=0),(p=360-360*(o/E))===360&&(p=0),d="hsl("+p+", 100%, 50%)",this.hue=p,this._createShadeCanvas(d),this._createAlphaCanvas(),this._updateHueCursor(o),this._updateCursorsColor(),this._setColorValues()},_getAlphaValue:function(n){var o,d,p=this.alphaCanvas,w=p.offset(),_=p.height();(o=n-w.top)>_&&(o=_),o<0&&(o=0),d=1-o/_,this.alpha=d.toFixed(2),this._updateAlphaCursor(o),this._updateCursorsColor(),this._setColorValues()},_getShadeColor:function(n,o){var d=this.shadeCanvas,p=d.offset(),w=d.width(),_=d.height(),E=n-p.left,A=o-p.top;E>w&&(E=w),E<0&&(E=0),A>_&&(A=_),A<0&&(A=.1);var B=1-A/_*100/100,H=E/w*100/100,V=B/2*(2-H),K=B*H/(1-Math.abs(2*V-1));isNaN(V)&&(V=0),isNaN(K)&&(K=0),this.lightness=V,this.saturation=K,this._updateShadeCursor(E,A),this._updateCursorsColor(),this._setColorValues()},_updateCursorsColor:function(){this.shadeCursor.css({backgroundColor:c.colors.toHEX(new c.colorPrimitive.HSL(this.hue,this.saturation,this.lightness))}),this.hueCursor.css({backgroundColor:c.colors.toHEX(new c.colorPrimitive.HSL(this.hue,1,.5))}),this.alphaCursor.css({backgroundColor:c.colors.toRGBA(new c.colorPrimitive.HSL(this.hue,1,.5),this.alpha).toString()})},_updateShadeCursor:function(n,o){this.shadeCursor.css({top:o,left:n})},_colorToPos:function(n){var o=this.shadeCanvas[0].getBoundingClientRect(),d=this.hueCanvas[0].getBoundingClientRect(),p=this.alphaCanvas[0].getBoundingClientRect(),w=c.colors.toHSL(n),_=c.colors.toHSLA(n,n.a),E=c.colors.toHSV(n),A=o.width*E.s,B=o.height*(1-E.v),H=d.height-w.h/360*d.height,V=(1-_.a)*p.height;this.hue=w.h,this.saturation=w.s,this.lightness=w.l,this.alpha=_.a,this._updateHueCursor(H),this._updateShadeCursor(A,B),this._updateAlphaCursor(V),this._updateCursorsColor(),this._createShadeCanvas("hsl("+this.hue+", 100%, 50%)"),this._createAlphaCanvas(),this._setColorValues()},_setColorValues:function(){var n=this.element,o=this.options,d=c.colors.toHSL(new c.colorPrimitive.HSL(this.hue,this.saturation,this.lightness)),p=c.colors.toHSLA(new c.colorPrimitive.HSLA(this.hue,this.saturation,this.lightness,this.alpha)),w=c.colors.toRGB(d),_=c.colors.toRGBA(w,this.alpha),E=c.colors.toHSV(d),A=c.colors.toCMYK(d),B=c.colors.toHEX(d),H=h(o.controller),V=o.hslMode==="percent";this.hsl=d,this.hsla=p,this.hsv=E,this.rgb=w,this.rgba=_,this.hex=B,this.cmyk=A,n.find(".color-value-hex .value-hex input").val(B),n.find(".color-value-rgb .value-r input").val(w.r),n.find(".color-value-rgb .value-g input").val(w.g),n.find(".color-value-rgb .value-b input").val(w.b),n.find(".color-value-rgb .value-rgb input").val(w.toString()),n.find(".color-value-rgba .value-r input").val(_.r),n.find(".color-value-rgba .value-g input").val(_.g),n.find(".color-value-rgba .value-b input").val(_.b),n.find(".color-value-rgba .value-a input").val(_.a),n.find(".color-value-rgba .value-rgba input").val(_.toString()),n.find(".color-value-hsl .value-h input").val(d.h.toFixed(0)),n.find(".color-value-hsl .value-s input").val(V?Math.round(100*d.s)+"%":d.s.toFixed(4)),n.find(".color-value-hsl .value-l input").val(V?Math.round(100*d.l)+"%":d.l.toFixed(4)),n.find(".color-value-hsl .value-hsl input").val(d.toString()),n.find(".color-value-hsla .value-h input").val(p.h.toFixed(0)),n.find(".color-value-hsla .value-s input").val(V?Math.round(100*p.s)+"%":d.s.toFixed(4)),n.find(".color-value-hsla .value-l input").val(V?Math.round(100*p.l)+"%":d.l.toFixed(4)),n.find(".color-value-hsla .value-a input").val(p.a),n.find(".color-value-hsla .value-hsla input").val(p.toString()),n.find(".color-value-hsv .value-h input").val(E.h.toFixed(0)),n.find(".color-value-hsv .value-s input").val(V?Math.round(100*E.s)+"%":E.s.toFixed(4)),n.find(".color-value-hsv .value-v input").val(V?Math.round(100*E.v)+"%":E.v.toFixed(4)),n.find(".color-value-hsv .value-hsv input").val(E.toString()),n.find(".color-value-cmyk .value-c input").val(A.c.toFixed(0)),n.find(".color-value-cmyk .value-m input").val(A.m.toFixed(0)),n.find(".color-value-cmyk .value-y input").val(A.y.toFixed(0)),n.find(".color-value-cmyk .value-k input").val(A.k.toFixed(0)),n.find(".color-value-cmyk .value-cmyk input").val(A.toString()),n.find(".user-colors-actions .user-swatch").css({backgroundColor:B}),H&&H.length&&H.val(this.val()).trigger("change"),this._fireEvent("select-color",{color:this.val(),primitive:{hsl:this.hsl,hsla:this.hsla,rgb:this.rgb,rgba:this.rgba,hsv:this.hsv,cmyk:this.cmyk,hex:this.hex}})},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_createEvents:function(){var n=this,o=this.element,d=this.options,p=o.find(".hue-map"),w=o.find(".alpha-map"),_=o.find(".color-map"),E=h(d.controller);o.find(".color-values-block input[type=text]").on(c.events.inputchange,function(){var A=h(this);n._clearInputInterval(),n.inputInterval||(n.inputInterval=setTimeout(function(){var B,H,V,K=A.closest(".color-block");K.hasClass("color-hex")?B="hex":K.hasClass("color-rgb")?B="rgb":K.hasClass("color-rgba")?B="rgba":K.hasClass("color-hsl")?B="hsl":K.hasClass("color-hsla")?B="hsla":K.hasClass("color-hsv")?B="hsv":K.hasClass("color-cmyk")&&(B="cmyk"),K.hasClass("as-string")?H=A.val():(V=[],h.each(K.find("input"),function(){V.push(this.value)}),H=B+"("+V.join(", ")+")"),H&&c.colors.isColor(H)&&n.val(H),n._clearInputInterval()},d.inputThreshold))}),E&&E.length&&E.on(c.events.inputchange,function(){n._clearInputInterval(),n.inputInterval||(n.inputInterval=setTimeout(function(){var A=E.val();A&&c.colors.isColor(A)&&n.val(A),n._clearInputInterval()},d.inputThreshold))}),w.on(c.events.startAll,function(A){n._getAlphaValue(y.pageXY(A).y),n.alphaCursor.addClass("dragging"),h(document).on(c.events.moveAll,function(B){B.preventDefault(),n._getAlphaValue(y.pageXY(B).y)},{ns:n.id,passive:!1}),h(document).on(c.events.stopAll,function(){n.alphaCursor.removeClass("dragging"),h(document).off(c.events.moveAll,{ns:n.id}),h(document).off(c.events.stopAll,{ns:n.id})},{ns:n.id})}),p.on(c.events.startAll,function(A){n._getHueColor(y.pageXY(A).y),n.hueCursor.addClass("dragging"),h(document).on(c.events.moveAll,function(B){B.preventDefault(),n._getHueColor(y.pageXY(B).y)},{ns:n.id,passive:!1}),h(document).on(c.events.stopAll,function(){n.hueCursor.removeClass("dragging"),h(document).off(c.events.moveAll,{ns:n.id}),h(document).off(c.events.stopAll,{ns:n.id})},{ns:n.id})}),_.on(c.events.startAll,function(A){n._getShadeColor(y.pageXY(A).x,y.pageXY(A).y),n.shadeCursor.addClass("dragging"),h(document).on(c.events.moveAll,function(B){B.preventDefault(),n._getShadeColor(y.pageXY(B).x,y.pageXY(B).y)},{ns:n.id,passive:!1}),h(document).on(c.events.stopAll,function(){n.shadeCursor.removeClass("dragging"),h(document).off(c.events.moveAll,{ns:n.id}),h(document).off(c.events.stopAll,{ns:n.id})},{ns:n.id})}),o.on("click",".swatch",function(){n._colorToPos(h(this).attr("data-color"))}),o.on("click",".add-button",function(){var A=c.colors.toHEX(new c.colorPrimitive.HSL(n.hue,n.saturation,n.lightness)).toUpperCase();n.userColors.indexOf(A)>-1||(n.userColors.push(A),o.find(".user-colors").append(h("<button>").attr("data-color",A).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:A})))}),o.find("input[type=radio]").on("click",function(){d.returnValueType=h(this).val(),n._setColorValues()})},val:function(n){var o=this.options;if(!y.isValue(n)||!c.colors.isColor(n)){var d;switch(o.returnValueType.toLowerCase()){case"rgb":d=this.rgb;break;case"rgba":d=this.rgba;break;case"hsl":d=this.hsl;break;case"hsla":d=this.hsla;break;case"hsv":d=this.hsv;break;case"cmyk":d=this.cmyk;break;default:d=this.hex}return o.returnAsString?d.toString():d}c.colors.isColor(n)&&this._colorToPos(c.colors.parse(n))},user:function(n){if(!y.isValue(n))return this.userColors;(Array.isArray(n)||typeof n=="string")&&(this.userColors=typeof n=="string"?n.toArray(",").map(function(o){return o.toUpperCase()}):n.map(function(o){return o.toUpperCase()}),this._fillUserColors())},_fillUserColors:function(){var n=this.element.find(".user-colors").clear();h.each(this.userColors,function(){n.append(h("<button>").attr("data-color",this).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:this}))})},changeAttribute:function(n,o){var d=this.options;n==="data-return-value-type"&&(d.returnValueType=o),n==="data-return-as-string"&&(d.returnValueType=y.bool(o))},destroy:function(){this.element.remove()}}),c.defaults.ColorSelector=e}(Metro,m4q),function(c,h){var v="hex",y="rgb",e="rgba",n="hsv",o="hsl",d="hsla",p="cmyk",w="unknown";c.colorsSetup=function(z){_=h.extend({},_,z)},typeof window.metroColorsSetup!==void 0&&c.colorsSetup(window.metroColorsSetup);var _={angle:30,resultType:"hex",results:6,baseLight:"#ffffff",baseDark:"self"};function E(z,ee){for(z+=ee;z>=360;)z-=360;for(;z<0;)z+=360;return z}function A(z){return Math.min(1,Math.max(0,z))}function B(z,ee,le){this.r=z||0,this.g=ee||0,this.b=le||0}function H(z,ee,le,Ce){this.r=z||0,this.g=ee||0,this.b=le||0,this.a=Ce===0?0:Ce||1}function V(z,ee,le){this.h=z||0,this.s=ee||0,this.v=le||0}function K(z,ee,le){this.h=z||0,this.s=ee||0,this.l=le||0}function Z(z,ee,le,Ce){this.h=z||0,this.s=ee||0,this.l=le||0,this.a=Ce===0?0:Ce||1}function xe(z,ee,le,Ce){this.c=z||0,this.m=ee||0,this.y=le||0,this.k=Ce||0}B.prototype.toString=function(){return"rgb("+[this.r,this.g,this.b].join(", ")+")"},H.prototype.toString=function(){return"rgba("+[this.r,this.g,this.b,parseFloat(this.a).toFixed(2)].join(", ")+")"},V.prototype.toString2=function(){return"hsv("+[this.h,this.s,this.v].join(", ")+")"},V.prototype.toString=function(){return"hsv("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.v)+"%"].join(", ")+")"},K.prototype.toString2=function(){return"hsl("+[this.h,this.s,this.l].join(", ")+")"},K.prototype.toString=function(){return"hsl("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.l)+"%"].join(", ")+")"},Z.prototype.toString2=function(){return"hsla("+[this.h,this.s,this.l,this.a].join(", ")+")"},Z.prototype.toString=function(){return"hsla("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.l)+"%",parseFloat(this.a).toFixed(2)].join(", ")+")"},xe.prototype.toString=function(){return"cmyk("+[this.c,this.m,this.y,this.k].join(", ")+")"};var Ee={PALETTES:{ALL:"all",METRO:"metro",STANDARD:"standard"},metro:{lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},standard:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdd5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},all:{},init:function(){return this.all=h.extend({},this.standard,this.metro),this},color:function(z,ee){return this[ee=ee||this.PALETTES.ALL][z]!==void 0&&this[ee][z]},palette:function(z){return z=z||this.PALETTES.ALL,Object.keys(this[z])},expandHexColor:function(z){if(typeof z!="string")throw new Error("Value is not a string!");return z[0]==="#"&&z.length===4?"#"+z.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(ee,le,Ce,ye){return le+le+Ce+Ce+ye+ye}):z[0]==="#"?z:"#"+z},colors:function(z){return z=z||this.PALETTES.ALL,Object.values(this[z])},random:function(z,ee){var le;return z=z||v,ee=ee!==void 0?ee:1,le="#"+((1<<24)+(h.random(0,255)<<16)+(h.random(0,255)<<8)+h.random(0,255)).toString(16).slice(1),z==="hex"?le:this.toColor(le,z,ee)},parse:function(z){var ee=z.toLowerCase().trim(),le=ee.replace(/[^%\d.,]/g,"").split(",").map(function(Ce){return Ce.indexOf("%")>-1&&(Ce=""+parseInt(Ce)/100),Ce.indexOf(".")>-1?parseFloat(Ce):parseInt(Ce)});return this.metro[ee]?this.expandHexColor(this.metro[ee]):this.standard[ee]?this.expandHexColor(this.standard[ee]):ee[0]==="#"?this.expandHexColor(ee):ee.indexOf("rgba")===0&&le.length===4?new H(le[0],le[1],le[2],le[3]):ee.indexOf("rgb")===0&&le.length===3?new B(le[0],le[1],le[2]):ee.indexOf("cmyk")===0&&le.length===4?new xe(le[0],le[1],le[2],le[3]):ee.indexOf("hsv")===0&&le.length===3?new V(le[0],le[1],le[2]):ee.indexOf("hsla")===0&&le.length===4?new Z(le[0],le[1],le[2],le[3]):ee.indexOf("hsl")===0&&le.length===3?new K(le[0],le[1],le[2]):void 0},createColor:function(z,ee){var le;return z=z||"hex",typeof(ee=ee||"#000000")=="string"&&(le=this.parse(ee)),this.isColor(le)||(le="#000000"),this.toColor(le,z.toLowerCase())},isDark:function(z){if(this.isColor(z)){var ee=this.toRGB(z);return(299*ee.r+587*ee.g+114*ee.b)/1e3<128}},isLight:function(z){return!this.isDark(z)},isHSV:function(z){return z instanceof V},isHSL:function(z){return z instanceof K},isHSLA:function(z){return z instanceof Z},isRGB:function(z){return z instanceof B},isRGBA:function(z){return z instanceof H},isCMYK:function(z){return z instanceof xe},isHEX:function(z){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(z)},isColor:function(z){var ee=typeof z=="string"?this.parse(z):z;return!!ee&&(this.isHEX(ee)||this.isRGB(ee)||this.isRGBA(ee)||this.isHSV(ee)||this.isHSL(ee)||this.isHSLA(ee)||this.isCMYK(ee))},check:function(z,ee){var le=this,Ce=typeof ee=="string"?[ee]:ee,ye=!1;if(h.each(Ce,function(){le["is"+this.toUpperCase()](z)&&(ye=!0)}),!ye)throw new Error("Value is not a "+ee+" color type!")},colorType:function(z){return this.isHEX(z)?v:this.isRGB(z)?y:this.isRGBA(z)?e:this.isHSV(z)?n:this.isHSL(z)?o:this.isHSLA(z)?d:this.isCMYK(z)?p:w},equal:function(z,ee){return!(!this.isColor(z)||!this.isColor(ee))&&this.toHEX(z)===this.toHEX(ee)},colorToString:function(z){return z.toString()},hex2rgb:function(z){if(typeof z!="string")throw new Error("Value is not a string!");var ee=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.expandHexColor(z)),le=[parseInt(ee[1],16),parseInt(ee[2],16),parseInt(ee[3],16)];return ee?new B(le[0],le[1],le[2]):null},rgb2hex:function(z){return this.check(z,"rgb"),"#"+((1<<24)+(z.r<<16)+(z.g<<8)+z.b).toString(16).slice(1)},rgb2hsv:function(z){this.check(z,"rgb");var ee,le,Ce,ye=new V,$e=z.r/255,Qe=z.g/255,rt=z.b/255,tt=Math.max($e,Qe,rt),jt=Math.min($e,Qe,rt),Jt=tt-jt;return Ce=tt,le=tt===0?0:1-jt/tt,ee=tt===jt?0:tt===$e&&Qe>=rt?(Qe-rt)/Jt*60:tt===$e&&Qe<rt?(Qe-rt)/Jt*60+360:tt===Qe?(rt-$e)/Jt*60+120:tt===rt?($e-Qe)/Jt*60+240:0,ye.h=ee,ye.s=le,ye.v=Ce,ye},hsv2rgb:function(z){var ee,le,Ce;this.check(z,"hsv");var ye=z.h,$e=100*z.s,Qe=100*z.v,rt=(100-$e)*Qe/100,tt=ye%60/60*(Qe-rt),jt=rt+tt,Jt=Qe-tt;switch(Math.floor(ye/60)){case 0:ee=Qe,le=jt,Ce=rt;break;case 1:ee=Jt,le=Qe,Ce=rt;break;case 2:ee=rt,le=Qe,Ce=jt;break;case 3:ee=rt,le=Jt,Ce=Qe;break;case 4:ee=jt,le=rt,Ce=Qe;break;case 5:ee=Qe,le=rt,Ce=Jt}return new B(Math.round(255*ee/100),Math.round(255*le/100),Math.round(255*Ce/100))},hsv2hex:function(z){return this.check(z,"hsv"),this.rgb2hex(this.hsv2rgb(z))},hex2hsv:function(z){return this.check(z,"hex"),this.rgb2hsv(this.hex2rgb(z))},rgb2cmyk:function(z){this.check(z,"rgb");var ee=new xe,le=z.r/255,Ce=z.g/255,ye=z.b/255;return ee.k=Math.min(1-le,1-Ce,1-ye),ee.c=1-ee.k==0?0:(1-le-ee.k)/(1-ee.k),ee.m=1-ee.k==0?0:(1-Ce-ee.k)/(1-ee.k),ee.y=1-ee.k==0?0:(1-ye-ee.k)/(1-ee.k),ee.c=Math.round(100*ee.c),ee.m=Math.round(100*ee.m),ee.y=Math.round(100*ee.y),ee.k=Math.round(100*ee.k),ee},cmyk2rgb:function(z){return this.check(z,"cmyk"),new B(Math.floor(255*(1-z.c/100)*(1-z.k/100)),Math.ceil(255*(1-z.m/100)*(1-z.k/100)),Math.ceil(255*(1-z.y/100)*(1-z.k/100)))},hsv2hsl:function(z){var ee,le,Ce,ye;return this.check(z,"hsv"),ee=z.h,Ce=(2-z.s)*z.v,le=z.s*z.v,Ce===0||(ye=Ce<=1?Ce:2-Ce)===0?le=0:le/=ye,new K(ee,le,Ce/=2)},hsl2hsv:function(z){var ee,le,Ce,ye;return this.check(z,["hsl","hsla"]),ee=z.h,Ce=((ye=2*z.l)+(le=z.s*(ye<=1?ye:2-ye)))/2,new V(ee,le=ye+le===0?0:2*le/(ye+le),Ce)},rgb2websafe:function(z){return this.check(z,"rgb"),new B(51*Math.round(z.r/51),51*Math.round(z.g/51),51*Math.round(z.b/51))},rgba2websafe:function(z){this.check(z,"rgba");var ee=this.rgb2websafe(z);return new H(ee.r,ee.g,ee.b,z.a)},hex2websafe:function(z){return this.check(z,"hex"),this.rgb2hex(this.rgb2websafe(this.hex2rgb(z)))},hsv2websafe:function(z){return this.check(z,"hsv"),this.rgb2hsv(this.rgb2websafe(this.toRGB(z)))},hsl2websafe:function(z){return this.check(z,"hsl"),this.hsv2hsl(this.rgb2hsv(this.rgb2websafe(this.toRGB(z))))},cmyk2websafe:function(z){return this.check(z,"cmyk"),this.rgb2cmyk(this.rgb2websafe(this.cmyk2rgb(z)))},websafe:function(z){return this.isHEX(z)?this.hex2websafe(z):this.isRGB(z)?this.rgb2websafe(z):this.isRGBA(z)?this.rgba2websafe(z):this.isHSV(z)?this.hsv2websafe(z):this.isHSL(z)?this.hsl2websafe(z):this.isCMYK(z)?this.cmyk2websafe(z):z},toColor:function(z,ee,le){var Ce;switch(ee.toLowerCase()){case"hex":Ce=this.toHEX(z);break;case"rgb":Ce=this.toRGB(z);break;case"rgba":Ce=this.toRGBA(z,le);break;case"hsl":Ce=this.toHSL(z);break;case"hsla":Ce=this.toHSLA(z,le);break;case"hsv":Ce=this.toHSV(z);break;case"cmyk":Ce=this.toCMYK(z);break;default:Ce=z}return Ce},toHEX:function(z){var ee=typeof z=="string"?this.parse(z):z;if(!ee)throw new Error("Unknown color format!");return typeof ee=="string"?ee:this.rgb2hex(this.toRGB(ee))},toRGB:function(z){var ee=typeof z=="string"?this.parse(z):z;if(this.isRGB(ee))return ee;if(this.isRGBA(ee))return new B(ee.r,ee.g,ee.b);if(this.isHSV(ee))return this.hsv2rgb(ee);if(this.isHSL(ee))return this.hsv2rgb(this.hsl2hsv(ee));if(this.isHSLA(ee))return this.hsv2rgb(this.hsl2hsv(ee));if(this.isHEX(ee))return this.hex2rgb(ee);if(this.isCMYK(ee))return this.cmyk2rgb(ee);throw new Error("Unknown color format!")},toRGBA:function(z,ee){if(this.isRGBA(z))return ee&&(z.a=ee),z;var le=this.toRGB(z);return new H(le.r,le.g,le.b,ee)},toHSV:function(z){return this.rgb2hsv(this.toRGB(z))},toHSL:function(z){return this.hsv2hsl(this.rgb2hsv(this.toRGB(z)))},toHSLA:function(z,ee){if(this.isHSLA(z))return ee&&(z.a=ee),z;var le=this.hsv2hsl(this.rgb2hsv(this.toRGB(z)));return le.a=ee,new Z(le.h,le.s,le.l,le.a)},toCMYK:function(z){return this.rgb2cmyk(this.toRGB(z))},grayscale:function(z){return this.desaturate(z,100)},lighten:function(z,ee){var le,Ce,ye;if(!this.isColor(z))throw new Error(z+" is not a valid color value!");return ee=ee===0?0:ee||10,(le=this.toHSL(z)).l+=ee/100,le.l=A(le.l),(Ce=this.colorType(z).toLowerCase())!==e&&Ce!==d||(ye=z.a),this.toColor(le,Ce,ye)},darken:function(z,ee){return this.lighten(z,-ee)},spin:function(z,ee){var le,Ce,ye,$e;if(!this.isColor(z))throw new Error(z+" is not a valid color value!");return $e=((le=this.toHSL(z)).h+ee)%360,le.h=$e<0?360+$e:$e,(Ce=this.colorType(z).toLowerCase())!==e&&Ce!==d||(ye=z.a),this.toColor(le,Ce,ye)},brighten:function(z,ee){var le,Ce,ye;if(!this.isColor(z))throw new Error(z+" is not a valid color value!");return(le=this.toRGB(z)).r=Math.max(0,Math.min(255,le.r-Math.round(-ee/100*255))),le.g=Math.max(0,Math.min(255,le.g-Math.round(-ee/100*255))),le.b=Math.max(0,Math.min(255,le.b-Math.round(-ee/100*255))),(Ce=this.colorType(z).toLowerCase())!==e&&Ce!==d||(ye=z.a),this.toColor(le,Ce,ye)},saturate:function(z,ee){var le,Ce,ye;if(!this.isColor(z))throw new Error(z+" is not a valid color value!");return(le=this.toHSL(z)).s+=ee/100,le.s=A(le.s),(Ce=this.colorType(z).toLowerCase())!==e&&Ce!==d||(ye=z.a),this.toColor(le,Ce,ye)},desaturate:function(z,ee){var le,Ce,ye;if(!this.isColor(z))throw new Error(z+" is not a valid color value!");return(le=this.toHSL(z)).s-=ee/100,le.s=A(le.s),(Ce=this.colorType(z).toLowerCase())!==e&&Ce!==d||(ye=z.a),this.toColor(le,Ce,ye)},hueShift:function(z,ee,le,Ce){var ye,$e=this.toHSV(z),Qe=this.colorType(z).toLowerCase(),rt=$e.h,tt=le||0,jt=Ce||0;for(rt+=ee||0;rt>=360;)rt-=360;for(;rt<0;)rt+=360;return $e.h=rt,$e.s+=tt,$e.s>1&&($e.s=1),$e.s<0&&($e.s=0),$e.v+=jt,$e.v>1&&($e.v=1),$e.v<0&&($e.v=0),Qe!==e&&Qe!==d||(ye=z.a),this.toColor($e,Qe,ye)},shade:function(z,ee){if(!this.isColor(z))throw new Error(z+" is not a valid color value!");ee/=100;var le,Ce,ye,$e,Qe=this.colorType(z).toLowerCase(),rt=this.toRGB(z),tt=ee<0?0:255,jt=ee<0?-1*ee:ee;return le=Math.round((tt-rt.r)*jt)+rt.r,Ce=Math.round((tt-rt.g)*jt)+rt.g,ye=Math.round((tt-rt.b)*jt)+rt.b,Qe!==e&&Qe!==d||($e=z.a),this.toColor(new B(le,Ce,ye),Qe,$e)},mix:function(z,ee,le){le=le===0?0:le||50;var Ce=new B(0,0,0),ye=this.toRGB(z),$e=this.toRGB(ee),Qe=le/100;return Ce.r=Math.round(($e.r-ye.r)*Qe+ye.r),Ce.g=Math.round(($e.g-ye.g)*Qe+ye.g),Ce.b=Math.round(($e.b-ye.b)*Qe+ye.b),this.toHEX(Ce)},multiply:function(z,ee){var le=this.toRGB(z),Ce=this.toRGB(ee),ye=new B;return le.b=Math.floor(le.b*Ce.b/255),le.g=Math.floor(le.g*Ce.g/255),le.r=Math.floor(le.r*Ce.r/255),this.toHEX(ye)},materialPalette:function(z,ee){var le=h.extend({},_,ee),Ce=le.baseLight,ye=le.baseDark!=="self"&&le.baseDark?le.baseDark:this.multiply(z,z);return{50:this.mix(Ce,z,10),100:this.mix(Ce,z,30),200:this.mix(Ce,z,50),300:this.mix(Ce,z,70),400:this.mix(Ce,z,85),500:this.mix(Ce,z,100),600:this.mix(ye,z,92),700:this.mix(ye,z,83),800:this.mix(ye,z,74),900:this.mix(ye,z,65),A100:this.lighten(this.saturate(this.mix(ye,z,15),80),65),A200:this.lighten(this.saturate(this.mix(ye,z,15),80),55),A400:this.lighten(this.saturate(this.mix(Ce,z,100),55),10),A700:this.lighten(this.saturate(this.mix(ye,z,83),65),10)}},monochromatic:function(z,ee){for(var le=h.extend({},_,ee),Ce=le.resultType,ye=le.results,$e=this.toHSV(z),Qe=$e.h,rt=$e.s,tt=$e.v,jt=[],Jt=1/ye,ui=this;ye--;)jt.push(new V(Qe,rt,tt)),tt=(tt+Jt)%1;return jt.map(function(Ve){return ui["to"+Ce.toUpperCase()](Ve)})},complementary:function(z,ee){var le=h.extend({},_,ee),Ce=this.toHSL(z),ye=this,$e=le.resultType;return[Ce,new K(E(Ce.h,180),Ce.s,Ce.l)].map(function(Qe){return ye["to"+$e.toUpperCase()](Qe)})},splitComplementary:function(z,ee){var le=h.extend({},_,ee),Ce=this.toHSL(z),ye=Ce.h,$e=this,Qe=le.resultType,rt=le.angle;return[Ce,new K(E(ye,180-rt),Ce.s,Ce.l),new K(E(ye,180+rt),Ce.s,Ce.l)].map(function(tt){return $e["to"+Qe.toUpperCase()](tt)})},doubleComplementary:function(z,ee){var le=h.extend({},_,ee),Ce=le.resultType,ye=le.angle,$e=this.toHSL(z),Qe=$e.h,rt=this;return[$e,new K(E(Qe,180),$e.s,$e.l),new K(E(Qe,ye),$e.s,$e.l),new K(E(Qe,180+ye),$e.s,$e.l)].map(function(tt){return rt["to"+Ce.toUpperCase()](tt)})},square:function(z,ee){var le,Ce=h.extend({},_,ee).resultType,ye=[],$e=this.toHSL(z),Qe=$e.h,rt=this;for(ye.push($e),le=1;le<4;le++)Qe=E(Qe,90),ye.push(new K(Qe,$e.s,$e.l));return ye.map(function(tt){return rt["to"+Ce.toUpperCase()](tt)})},tetradic:function(z,ee){var le=h.extend({},_,ee),Ce=le.resultType,ye=le.angle,$e=this.toHSL(z),Qe=$e.h,rt=this;return[$e,new K(E(Qe,180),$e.s,$e.l),new K(E(Qe,180-ye),$e.s,$e.l),new K(E(Qe,-ye),$e.s,$e.l)].map(function(tt){return rt["to"+Ce.toUpperCase()](tt)})},triadic:function(z,ee){var le=h.extend({},_,ee).resultType,Ce=this.toHSL(z),ye=Ce.h,$e=this;return[Ce,new K(E(ye,120),Ce.s,Ce.l),new K(E(ye,240),Ce.s,Ce.l)].map(function(Qe){return $e["to"+le.toUpperCase()](Qe)})},analogous:function(z,ee){var le=h.extend({},_,ee),Ce=le.resultType,ye=le.angle,$e=this.toHSL(z),Qe=this;return[$e,new K(E($e.h,-ye),$e.s,$e.l),new K(E($e.h,+ye),$e.s,$e.l)].map(function(rt){return Qe["to"+Ce.toUpperCase()](rt)})},createScheme:function(z,ee,le){switch(ee.toLowerCase()){case"analogous":case"analog":return this.analogous(z,le);case"triadic":case"triad":return this.triadic(z,le);case"tetradic":case"tetra":return this.tetradic(z,le);case"monochromatic":case"mono":return this.monochromatic(z,le);case"complementary":case"complement":case"comp":return this.complementary(z,le);case"double-complementary":case"double-complement":case"double":return this.doubleComplementary(z,le);case"split-complementary":case"split-complement":case"split":return this.splitComplementary(z,le);case"square":return this.square(z,le);case"material":return this.materialPalette(z,le)}},getScheme:function(){return this.createScheme.apply(this,arguments)},add:function(z,ee,le){var Ce=typeof z=="string"?this.parse(z):z,ye=typeof ee=="string"?this.parse(ee):ee,$e=this.toRGBA(Ce),Qe=this.toRGBA(ye),rt=new H,tt=(""+le).toLowerCase()||"hex";return rt.r=Math.round(($e.r+Qe.r)/2),rt.g=Math.round(($e.g+Qe.g)/2),rt.b=Math.round(($e.b+Qe.b)/2),rt.a=Math.round(($e.a+Qe.a)/2),this["to"+tt.toUpperCase()](rt)}},We=function(z,ee){this._setValue(z),this._setOptions(ee)};We.prototype={_setValue:function(z){var ee;ee=typeof z=="string"?Ee.parse(z):z,Ee.isColor(ee)||(ee="#000000"),this._value=ee,this._type=Ee.colorType(this._value)},_setOptions:function(z){z=typeof z=="object"?z:{},this._options=h.extend({},_,z)},getOptions:function(){return this._options},setOptions:function(z){this._setOptions(z)},setValue:function(z){this._setValue(z)},getValue:function(){return this._value},channel:function(z,ee){var le=this._type.toUpperCase();return["red","green","blue"].indexOf(z)>-1&&(this.toRGB(),this._value[z[0]]=ee,this["to"+le]()),z==="alpha"&&this._value.a&&(this._value.a=ee),["hue","saturation","value"].indexOf(z)>-1&&(this.toHSV(),this._value[z[0]]=ee,this["to"+le]()),["lightness"].indexOf(z)>-1&&(this.toHSL(),this._value[z[0]]=ee,this["to"+le]()),["cyan","magenta","yellow","black"].indexOf(z)>-1&&(this.toCMYK(),this._value[z[0]]=ee,this["to"+le]()),this},channels:function(z){var ee=this;return h.each(z,function(le,Ce){ee.channel(le,Ce)}),this},toRGB:function(){return this._value=Ee.toRGB(this._value),this._type=y,this},rgb:function(){return this._value?new We(Ee.toRGB(this._value)):void 0},toRGBA:function(z){return Ee.isRGBA(this._value)?z&&(this._value=Ee.toRGBA(this._value,z)):this._value=Ee.toRGBA(this._value,z),this._type=e,this},rgba:function(z){return this._value?new We(Ee.toRGBA(this._value,z)):void 0},toHEX:function(){return this._value=Ee.toHEX(this._value),this._type=v,this},hex:function(){return this._value?new We(Ee.toHEX(this._value)):void 0},toHSV:function(){return this._value=Ee.toHSV(this._value),this._type=n,this},hsv:function(){return this._value?new We(Ee.toHSV(this._value)):void 0},toHSL:function(){return this._value=Ee.toHSL(this._value),this._type=o,this},hsl:function(){return this._value?new We(Ee.toHSL(this._value)):void 0},toHSLA:function(z){return Ee.isHSLA(this._value)?z&&(this._value=Ee.toHSLA(this._value,z)):this._value=Ee.toHSLA(this._value,z),this._type=d,this},hsla:function(z){return this._value?new We(Ee.toHSLA(this._value,z)):void 0},toCMYK:function(){return this._value=Ee.toCMYK(this._value),this._type=p,this},cmyk:function(){return this._value?new We(Ee.toCMYK(this._value)):void 0},toWebsafe:function(){return this._value=Ee.websafe(this._value),this._type=Ee.colorType(this._value),this},websafe:function(){return this._value?new We(Ee.websafe(this._value)):void 0},toString:function(){return this._value?Ee.colorToString(this._value):"undefined"},toDarken:function(z){return this._value=Ee.darken(this._value,z),this},darken:function(z){return new We(Ee.darken(this._value,z))},toLighten:function(z){return this._value=Ee.lighten(this._value,z),this},lighten:function(z){return new We(Ee.lighten(this._value,z))},isDark:function(){return this._value?Ee.isDark(this._value):void 0},isLight:function(){return this._value?Ee.isLight(this._value):void 0},toHueShift:function(z,ee,le){return this._value=Ee.hueShift(this._value,z,ee,le),this},hueShift:function(z,ee,le){return new We(Ee.hueShift(this._value,z,ee,le))},toGrayscale:function(){return this._value=Ee.grayscale(this._value,this._type),this},grayscale:function(){return new We(Ee.grayscale(this._value,this._type))},type:function(){return Ee.colorType(this._value)},createScheme:function(z,ee,le){return this._value?Ee.createScheme(this._value,z,ee,le):void 0},getScheme:function(){return this.createScheme.apply(this,arguments)},equal:function(z){return Ee.equal(this._value,z)},toAdd:function(z){return this._value=Ee.add(this._value,z,this._type),this},add:function(z){return new We(Ee.add(this._value,z,this._type))}},c.colors=Ee.init(),window.Color=c.Color=We,window.ColorPrimitive=c.colorPrimitive={RGB:B,RGBA:H,HSV:V,HSL:K,HSLA:Z,CMYK:xe},window.METRO_GLOBAL_COMMON===!0&&(window.Colors=c.colors)}(Metro,m4q),function(c,h){var v={path:"/",expires:null,maxAge:null,domain:null,secure:!1,samesite:null};c.cookieSetup=function(y){v=h.extend({},v,y)},typeof window.metroCookieSetup!==void 0&&c.cookieSetup(window.metroCookieSetup),c.cookie={getCookies:function(){var y=document.cookie.toArray(";"),e={};return h.each(y,function(){var n=this.split("=");e[n[0]]=n[1]}),e},getCookie:function(y){var e,n,o=encodeURIComponent(y)+"=",d=document.cookie.toArray(";");for(e=0;e<d.length;e++){for(n=d[e];n.charAt(0)===" ";)n=n.substring(1,n.length);if(n.indexOf(o)===0)return decodeURIComponent(n.substring(o.length,n.length))}return null},setCookie:function(y,e,n){var o,d,p=encodeURIComponent(y),w=encodeURIComponent(e),_=[];n&&typeof n!="object"?((o=new Date).setTime(o.getTime()+parseInt(n)),d=h.extend({},v,{expires:o.toUTCString()})):d=h.extend({},v,n),h.each(d,function(E,A){E!=="secure"&&A&&_.push(Str.dashedName(E)+"="+A),E==="secure"&&A===!0&&_.push("secure")}),document.cookie=p+"="+w+"; "+_.join("; ")},delCookie:function(y){this.setCookie(y,!1,{maxAge:-1})}}}(Metro,m4q),function(c,h){var v=c.utils,y={name:"cookies_accepted",template:null,templateSource:null,acceptButton:".cookie-accept-button",cancelButton:".cookie-cancel-button",message:"Our website uses cookies to monitor traffic on our website and ensure that we can provide our customers with the best online experience possible.",duration:"30days",clsContainer:"",clsMessage:"",clsButtons:"",clsAcceptButton:"alert",clsCancelButton:"",onAccept:c.noop,onDecline:c.noop};c.cookieDisclaimer={init:function(e){var n=this,o=c.cookie;this.options=h.extend({},y,e),this.disclaimer=h("<div>"),o.getCookie(this.options.name)||(this.options.template?fetch(this.options.template).then(c.fetch.text).then(function(d){n.create(d)}):this.options.templateSource?this.create(h(this.options.templateSource)):this.create())},create:function(e){var n,o=c.cookie,d=this.options,p=this.disclaimer;p.addClass("cookie-disclaimer-block").addClass(d.clsContainer),e?e instanceof h?p.append(e):p.html(e):(n=h("<div>").addClass("cookie-disclaimer-actions").addClass(d.clsButtons).append(h("<button>").addClass("button cookie-accept-button").addClass(d.clsAcceptButton).html("Accept")).append(h("<button>").addClass("button cookie-cancel-button").addClass(d.clsCancelButton).html("Cancel")),p.html(h("<div>").addClass(d.clsMessage).html(d.message)).append(h("<hr>").addClass("thin")).append(n)),p.appendTo(h("body")),p.on(c.events.click,d.acceptButton,function(){var w=0,_=(""+d.duration).toArray(" ");h.each(_,function(){var E=""+this;E.includes("day")?w+=24*parseInt(E)*60*60*1e3:E.includes("hour")?w+=60*parseInt(E)*60*1e3:E.includes("min")?w+=60*parseInt(E)*1e3:E.includes("sec")?w+=1e3*parseInt(E):w+=parseInt(E)}),o.setCookie(d.name,!0,w),v.exec(d.onAccept),p.remove()}),p.on(c.events.click,d.cancelButton,function(){v.exec(d.onDecline),p.remove()})}}}(Metro,m4q),function(c,h){var v=c.utils,y={countdownDeferred:0,stopOnBlur:!0,animate:"none",ease:"linear",duration:600,inputFormat:null,locale:METRO_LOCALE,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,clsCountdown:"",clsPart:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onAlarm:c.noop,onTick:c.noop,onZero:c.noop,onBlink:c.noop,onCountdownCreate:c.noop};c.countdownSetup=function(e){y=h.extend({},y,e)},typeof window.metroCountdownSetup!==void 0&&c.countdownSetup(window.metroCountdownSetup),c.Component("countdown",{init:function(e,n){return this._super(n,e,y,{locale:c.locales["en-US"],breakpoint:new Date().getTime(),blinkInterval:null,tickInterval:null,zeroDaysFired:!1,zeroHoursFired:!1,zeroMinutesFired:!1,zeroSecondsFired:!1,fontSize:parseInt(v.getStyleOne(n,"font-size")),current:{d:0,h:0,m:0,s:0},inactiveTab:!1,id:v.elementId("countdown"),duration:600}),this},_create:function(){var e=this.options;this.locale=c.locales[e.locale]!==void 0?c.locales[e.locale]:c.locales["en-US"],this.duration=+e.duration<=0||+e.duration>=1e3?600:+e.duration,this._build(),this._createEvents()},_setBreakpoint:function(){var e=this.options;this.breakpoint=datetime().time(),e.date&&(this.breakpoint=(e.inputFormat?Datetime.from(e.date,e.inputFormat):datetime(e.date)).time()),parseInt(e.days)>0&&(this.breakpoint+=864e5*parseInt(e.days)),parseInt(e.hours)>0&&(this.breakpoint+=36e5*parseInt(e.hours)),parseInt(e.minutes)>0&&(this.breakpoint+=6e4*parseInt(e.minutes)),parseInt(e.seconds)>0&&(this.breakpoint+=1e3*parseInt(e.seconds))},_build:function(){var e,n,o=this,d=this.element,p=this.options,w=datetime().time();d.attr("id")||d.attr("id",v.elementId("countdown")),v.isValue(d.attr("id"))||d.attr("id",v.elementId("countdown")),d.addClass("countdown").addClass(p.clsCountdown),this._setBreakpoint(),e=Math.round((o.breakpoint-w)/864e5),h.each(["days","hours","minutes","seconds"],function(){var _=h("<div>").addClass("part "+this).addClass(p.clsPart).attr("data-label",o.locale.calendar.time[this]).appendTo(d);if(this==="days"&&_.addClass(p.clsDays),this==="hours"&&_.addClass(p.clsHours),this==="minutes"&&_.addClass(p.clsMinutes),this==="seconds"&&_.addClass(p.clsSeconds),h("<div>").addClass("digit").appendTo(_),h("<div>").addClass("digit").appendTo(_),this==="days"&&e>=100)for(var E=0;E<String(Math.round(e/100)).length;E++)h("<div>").addClass("digit").appendTo(_)}),(n=d.find(".digit")).append(h("<span class='digit-placeholder'>").html("0")),n.append(h("<span class='digit-value'>").html("0")),this._fireEvent("countdown-create",{element:d}),p.start===!0?this.start():this.tick()},_createEvents:function(){var e=this;h(document).on("visibilitychange",function(){document.hidden?e.pause():e.resume()},{ns:this.id})},blink:function(){this.element.toggleClass("blink"),this._fireEvent("blink",{time:this.current})},tick:function(){var e,n,o,d,p,w=this.element,_=this.options,E=datetime().time(),A=w.find(".days"),B=w.find(".hours"),H=w.find(".minutes"),V=w.find(".seconds");if((e=Math.floor((this.breakpoint-E)/1e3))<=-1)return this.stop(),w.addClass(_.clsAlarm),void this._fireEvent("alarm",{time:E});e-=86400*(n=Math.floor(e/86400)),this.current.d!==n&&(this.current.d=n,this.draw("days",n)),n===0&&this.zeroDaysFired===!1&&(this.zeroDaysFired=!0,A.addClass(_.clsZero),this._fireEvent("zero",{part:"days",value:A})),e-=3600*(o=Math.floor(e/3600)),this.current.h!==o&&(this.current.h=o,this.draw("hours",o)),n===0&&o===0&&this.zeroHoursFired===!1&&(this.zeroHoursFired=!0,B.addClass(_.clsZero),this._fireEvent("zero",{part:"hours",value:B})),e-=60*(d=Math.floor(e/60)),this.current.m!==d&&(this.current.m=d,this.draw("minutes",d)),n===0&&o===0&&d===0&&this.zeroMinutesFired===!1&&(this.zeroMinutesFired=!0,H.addClass(_.clsZero),this._fireEvent("zero",{part:"minutes",value:H})),p=Math.floor(e/1),this.current.s!==p&&(this.current.s=p,this.draw("seconds",p)),n===0&&o===0&&d===0&&p===0&&this.zeroSecondsFired===!1&&(this.zeroSecondsFired=!0,V.addClass(_.clsZero),this._fireEvent("zero",{part:"seconds",value:V})),this._fireEvent("tick",{days:n,hours:o,minutes:d,seconds:p})},draw:function(e,n){var o,d,p,w,_,E,A=this.element,B=this.options,H=this.duration,V=this.fontSize,K=function(Ee,We){var z,ee=Ee.height();Ee.siblings(".-old-digit").remove(),(z=Ee.clone().appendTo(Ee.parent())).css({top:-1*ee+"px"}),Ee.addClass("-old-digit").animate({draw:{top:ee,opacity:0},dur:H,ease:B.ease,onDone:function(){h(this).remove()}}),z.html(We).animate({draw:{top:0,opacity:1},dur:H,ease:B.ease})},Z=function(Ee,We){var z;Ee.siblings(".-old-digit").remove(),(z=Ee.clone().appendTo(Ee.parent())).css({opacity:0}),Ee.addClass("-old-digit").animate({draw:{opacity:0},dur:H/2,ease:B.ease,onDone:function(){h(this).remove()}}),z.html(We).animate({draw:{opacity:1},dur:H/2,ease:B.ease})},xe=function(Ee,We){var z,ee=Ee.height(),le=V;Ee.siblings(".-old-digit").remove(),(z=Ee.clone().appendTo(Ee.parent())).css({top:0,left:0,opacity:1}),Ee.addClass("-old-digit").animate({draw:{top:ee,opacity:0,fontSize:0},dur:H,ease:B.ease,onDone:function(){h(this).remove()}}),z.html(We).animate({draw:{top:0,opacity:1,fontSize:[0,le]},dur:H,ease:B.ease})};for((n=""+n).length===1&&(n="0"+n),_=n.length,d=(o=A.find("."+e+" .digit:not(.-old-digit)")).length,A.find(".-old-digit").remove(),E=0;E<_;E++)if(w=o.eq(d-1).find(".digit-value"),p=Math.floor(parseInt(n)/Math.pow(10,E))%10,d--,parseInt(w.text())!==p)switch((""+B.animate).toLowerCase()){case"slide":K(w,p);break;case"fade":Z(w,p);break;case"zoom":xe(w,p);break;default:w.html(p)}},start:function(){var e=this,n=this.element;n.data("paused")!==!1&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),n.data("paused",!1),this._setBreakpoint(),this.tick(),this.blinkInterval=setInterval(function(){e.blink()},500),this.tickInterval=setInterval(function(){e.tick()},1e3))},stop:function(){var e=this.element;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.data("paused",!0),e.find(".digit").html("0"),this.current={d:0,h:0,m:0,s:0}},pause:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data("paused",!0)},resume:function(){var e=this;this.element.data("paused",!1),this.blinkInterval=setInterval(function(){e.blink()},500),this.tickInterval=setInterval(function(){e.tick()},1e3)},reset:function(){var e=this,n=this.element,o=this.options;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),n.find(".part").removeClass(o.clsZero);var d=n.find(".digit").clear();d.append(h("<span class='digit-placeholder'>").html("0")),d.append(h("<span class='digit-value'>").html("0")),this._setBreakpoint(),n.data("paused",!1),this.tick(),this.blinkInterval=setInterval(function(){e.blink()},500),this.tickInterval=setInterval(function(){e.tick()},1e3)},resetWith:function(e){var n=this.element,o=this.options;typeof e=="string"?(n.attr("data-date",e),o.date=e):typeof e=="object"&&h.each(["days","hours","minutes","seconds"],function(d,p){c.utils.isValue(e[p])&&(n.attr("data-"+p,e[p]),o[p]=e[p])}),this.reset()},togglePlay:function(){this.element.attr("data-pause")===!0?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getBreakpoint:function(e){return e===!0?new Date(this.breakpoint):this.breakpoint},getLeft:function(){var e=new Date().getTime(),n=Math.floor(this.breakpoint-e);return{days:Math.round(n/864e5),hours:Math.round(n/36e5),minutes:Math.round(n/6e4),seconds:Math.round(n/1e3)}},i18n:function(e){var n=this,o=this.element,d=this.options;return e===void 0?d.locale:c.locales[e]!==void 0&&(d.locale=e,this.locale=c.locales[d.locale],void h.each(["days","hours","minutes","seconds"],function(){var p=".part."+this;o.find(p).attr("data-label",n.locale.calendar.time[this])}))},changeAttrLocale:function(){var e=this.element.attr("data-locale");this.i18n(e)},changeAttribute:function(e,n){switch(e){case"data-pause":this.togglePlay();break;case"data-locale":this.i18n(n);break;case"data-duration":this.duration=+n<=0||+n>=1e3?600:+n}},destroy:function(){return clearInterval(this.blinkInterval),clearInterval(this.tickInterval),h(document).off("visibilitychange",{ns:this.id}),this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={startOnViewport:!0,counterDeferred:0,duration:2e3,value:0,from:0,timeout:0,delimiter:",",prefix:"",suffix:"",onStart:c.noop,onStop:c.noop,onTick:c.noop,onCounterCreate:c.noop};c.counterSetup=function(e){y=h.extend({},y,e)},typeof window.metroCounterSetup!==void 0&&c.counterSetup(window.metroCounterSetup),c.Component("counter",{init:function(e,n){return this._super(n,e,y,{numbers:[],html:h(n).html(),started:!1,id:v.elementId("counter")}),this},_create:function(){this._createEvents(),this._fireEvent("counter-create"),this._run()},_createEvents:function(){var e=this,n=this.element,o=this.options;h.window().on("scroll",function(){o.startOnViewport===!0&&v.inViewport(n[0])&&!e.started&&e.start()},{ns:this.id})},_run:function(){var e=this.element,n=this.options;this.started=!1,(n.startOnViewport!==!0||v.inViewport(e[0]))&&this.start()},startInViewport:function(e,n){var o=this.options;v.isValue(n)&&(o.from=+n),v.isValue(e)&&(o.value=+e),this._run()},start:function(e,n){var o=this,d=this.element,p=this.options;v.isValue(n)&&(p.from=+n),v.isValue(e)&&(p.value=+e),this.started=!0,this._fireEvent("start"),d.animate({draw:{innerHTML:[p.from,p.value]},defer:p.timeout,dur:p.duration,onFrame:function(){o._fireEvent("tick",{value:+this.innerHTML}),this.innerHTML=p.prefix+Number(this.innerHTML).format(0,0,p.delimiter)+p.suffix},onDone:function(){o._fireEvent("stop")}})},reset:function(){this.started=!1,this.element.html(this.html)},changeAttribute:function(e,n){var o=this.options;e==="data-value"&&(o.value=+n),e==="data-from"&&(o.from=+n)},destroy:function(){return h.window().off("scroll",{ns:this.id}),this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={cubeDeferred:0,rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:"arrow",cellClick:!1,autoRestart:5e3,clsCube:"",clsCell:"",clsSide:"",clsSideLeft:"",clsSideRight:"",clsSideTop:"",clsSideLeftCell:"",clsSideRightCell:"",clsSideTopCell:"",clsAxis:"",clsAxisX:"",clsAxisY:"",clsAxisZ:"",custom:c.noop,onTick:c.noop,onCubeCreate:c.noop};c.cubeSetup=function(e){y=h.extend({},y,e)},typeof window.metroCubeSetup!==void 0&&c.cubeSetup(window.metroCubeSetup),c.cubeDefaultRules=[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],c.Component("cube",{init:function(e,n){return this._super(n,e,y,{id:v.elementId("cube"),rules:null,interval:!1,ruleInterval:!1,running:!1,intervals:[]}),this},_create:function(){var e=this.element,n=this.options;n.rules===null?this.rules=c.cubeDefaultRules:this._parseRules(n.rules),this._createCube(),this._createEvents(),this._fireEvent("cube-create",{element:e})},_parseRules:function(e){if(e==null)return!1;if(v.isObject(e))return this.rules=v.isObject(e),!0;try{return this.rules=JSON.parse(e),!0}catch{return console.warn("Unknown or empty rules for cell flashing!"),!1}},_createCube:function(){var e=this.element,n=this.options,o=v.elementId("cube"),d=Math.pow(n.cells,2);e.addClass("cube").addClass(n.clsCube),e.attr("id")||e.attr("id",o),this.id=e.attr("id"),this._createCssForFlashColor(),this._createCssForCellSize(),h.each(["left","right","top"],function(){var w,_,E;for(w=h("<div>").addClass("side "+this+"-side").addClass(n.clsSide).appendTo(e),this==="left"&&w.addClass(n.clsSideLeft),this==="right"&&w.addClass(n.clsSideRight),this==="top"&&w.addClass(n.clsSideTop),E=0;E<d;E++)(_=h("<div>").addClass("cube-cell").addClass("cell-id-"+(E+1)).addClass(n.clsCell)).data("id",E+1).data("side",this),_.appendTo(w),n.numbers===!0&&_.html(E+1)});var p=e.find(".cube-cell");n.color!==null&&(c.colors.isColor(n.color)?p.css({backgroundColor:n.color,borderColor:n.color}):p.addClass(n.color)),h.each(["x","y","z"],function(){var w=this,_=h("<div>").addClass("axis "+n.axisStyle).addClass("axis-"+w).addClass(n.clsAxis);w==="x"&&_.addClass(n.clsAxisX),w==="y"&&_.addClass(n.clsAxisY),w==="z"&&_.addClass(n.clsAxisZ),_.appendTo(e)}),n.showAxis===!1&&e.find(".axis").hide(),this._run()},_run:function(){var e=this,n=this.element,o=this.options,d=0;clearInterval(this.interval),n.find(".cube-cell").removeClass("light"),o.custom!==c.noop?v.exec(o.custom,[n]):(n.find(".cube-cell").removeClass("light"),e._start(),d=v.isObject(this.rules)?v.objectLength(this.rules):0,this.interval=setInterval(function(){e._start()},d*o.flashInterval))},_createCssForCellSize:function(){var e,n,o=this.element,d=this.options,p=c.sheet;d.margin===8&&d.cells===4||(e=parseInt(v.getStyleOne(o,"width")),n=Math.ceil((e/2-d.margin*d.cells*2)/d.cells),v.addCssRule(p,"#"+o.attr("id")+" .side .cube-cell","width: "+n+"px!important; height: "+n+"px!important; margin: "+d.margin+"px!important;"))},_createCssForFlashColor:function(){var e,n,o,d=this.element,p=this.options,w=c.sheet,_=[],E=[];if(p.flashColor!==null){for(e="0 0 10px "+c.colors.toRGBA(p.flashColor,1),n="0 0 10px "+c.colors.toRGBA(p.flashColor,p.attenuation),o=0;o<3;o++)_.push(e),E.push(n);v.addCssRule(w,"@keyframes pulsar-cell-"+d.attr("id"),"0%, 100% { box-shadow: "+_.join(",")+"} 50% { box-shadow: "+E.join(",")+" }"),v.addCssRule(w,"#"+d.attr("id")+" .side .cube-cell.light","animation: pulsar-cell-"+d.attr("id")+" 2.5s 0s ease-out infinite; background-color: "+p.flashColor+"!important; border-color: "+p.flashColor+"!important;")}},_createEvents:function(){var e=this,n=this.element,o=this.options;h(window).on(c.events.blur,function(){o.stopOnBlur===!0&&e.running===!0&&e._stop()},{ns:n.attr("id")}),h(window).on(c.events.focus,function(){o.stopOnBlur===!0&&e.running===!1&&e._start()},{ns:n.attr("id")}),n.on(c.events.click,".cube-cell",function(){o.cellClick===!0&&h(this).toggleClass("light")})},_start:function(){var e=this;this.element.find(".cube-cell").removeClass("light"),this.running=!0,h.each(this.rules,function(n,o){e._execRule(n,o)})},_stop:function(){this.running=!1,clearInterval(this.interval),h.each(this.intervals,function(){clearInterval(this)})},_tick:function(e,n){var o=this,d=this.options;n===void 0&&(n=d.flashInterval*e);var p=setTimeout(function(){o._fireEvent("tick",{index:e}),clearInterval(p),v.arrayDelete(o.intervals,p)},n);this.intervals.push(p)},_toggle:function(e,n,o,d){var p=this;d===void 0&&(d=this.options.flashInterval*o);var w=setTimeout(function(){e[n==="on"?"addClass":"removeClass"]("light"),clearInterval(w),v.arrayDelete(p.intervals,w)},d);this.intervals.push(w)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(e,n){var o=this,d=this.element,p=this.options,w=this.rules;if(w!=null&&w[e]!==void 0){clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),d.find(".cube-cell").removeClass("light");for(var _=0;_<=e;_++)this._execRule(_,w[_],n);v.isInt(p.autoRestart)&&p.autoRestart>0&&(this.ruleInterval=setTimeout(function(){o._run()},p.autoRestart))}},_execRule:function(e,n,o){var d=this,p=this.element;this._tick(e,o),h.each(["left","right","top"],function(){var w="."+this+"-side",_=this,E=n.on!==void 0&&n.on[_]!==void 0&&n.on[_],A=n.off!==void 0&&n.off[_]!==void 0&&n.off[_];E!==!1&&h.each(E,function(){var B=p.find(w+" .cell-id-"+this);d._toggle(B,"on",e,o)}),A!==!1&&h.each(A,function(){var B=p.find(w+" .cell-id-"+this);d._toggle(B,"off",e,o)})})},rule:function(e){if(e===void 0)return this.rules;this._parseRules(e)===!0&&(this.options.rules=e,this.stop(),this.element.find(".cube-cell").removeClass("light"),this._run())},axis:function(e){var n=e===!0?"show":"hide";this.element.find(".axis")[n]()},changeRules:function(){var e=this.element,n=this.options,o=e.attr("data-rules");this._parseRules(o)===!0&&(this.stop(),e.find(".cube-cell").removeClass("light"),n.rules=o,this._run())},changeAxisVisibility:function(){var e=this.element,n=JSON.parse(e.attr("data-show-axis"))===!0?"show":"hide";e.find(".axis")[n]()},changeAxisStyle:function(){var e=this.element,n=e.attr("data-axis-style");e.find(".axis").removeClass("arrow line no-style").addClass(n)},changeAttribute:function(e){switch(e){case"data-rules":this.changeRules();break;case"data-show-axis":this.changeAxisVisibility();break;case"data-axis-style":this.changeAxisStyle()}},destroy:function(){var e=this.element;return clearInterval(this.interval),this.interval=null,h(window).off(c.events.blur,{ns:e.attr("id")}),h(window).off(c.events.focus,{ns:e.attr("id")}),e.off(c.events.click,".cube-cell"),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={label:"",datepickerDeferred:0,gmt:0,format:"YYYY-MM-DD",inputFormat:null,locale:METRO_LOCALE,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,defaultYearDistance:100,scrollSpeed:4,copyInlineStyles:!1,clsPicker:"",clsPart:"",clsMonth:"",clsDay:"",clsYear:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"<span class='default-icon-check'></span>",cancelButtonIcon:"<span class='default-icon-cross'></span>",onSet:c.noop,onOpen:c.noop,onClose:c.noop,onScroll:c.noop,onDatePickerCreate:c.noop};c.datePickerSetup=function(e){y=h.extend({},y,e)},typeof window.metroDatePickerSetup!==void 0&&c.datePickerSetup(window.metroDatePickerSetup),c.Component("date-picker",{init:function(e,n){return this._super(n,e,y,{picker:null,isOpen:!1,value:datetime(),locale:null,listTimer:{day:null,month:null,year:null}}),this},_create:function(){var e=this.element,n=this.options,o=datetime();n.distance<1&&(n.distance=1),v.isValue(e.val())&&(n.value=e.val()),v.isValue(n.value)&&(this.value=n.inputFormat?Datetime.from(n.value,n.inputFormat,n.locale):datetime(n.value)),c.locales[n.locale]===void 0&&(n.locale=METRO_LOCALE),this.locale=c.locales[n.locale].calendar,n.minYear===null&&(n.minYear=o.year()-n.defaultYearDistance),n.maxYear===null&&(n.maxYear=o.year()+n.defaultYearDistance),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("datepicker-create",{element:e})},_createStructure:function(){var e,n,o,d,p,w,_,E,A,B,H=this.element,V=this.options,K=v.elementId("datepicker");if((e=h("<div>").attr("id",K).addClass("wheel-picker date-picker "+H[0].className).addClass(V.clsPicker)).insertBefore(H),H.appendTo(e),V.label){var Z=h("<label>").addClass("label-for-input").addClass(V.clsLabel).html(V.label).insertBefore(e);H.attr("id")&&Z.attr("for",H.attr("id")),H.attr("dir")==="rtl"&&Z.addClass("rtl")}if(_=h("<div>").addClass("date-wrapper").appendTo(e),V.month===!0&&(n=h("<div>").addClass("month").addClass(V.clsPart).addClass(V.clsMonth).appendTo(_)),V.day===!0&&(o=h("<div>").addClass("day").addClass(V.clsPart).addClass(V.clsDay).appendTo(_)),V.year===!0&&(d=h("<div>").addClass("year").addClass(V.clsPart).addClass(V.clsYear).appendTo(_)),E=h("<div>").addClass("select-wrapper").appendTo(e),A=h("<div>").addClass("select-block").appendTo(E),V.month===!0){for(n=h("<ul>").addClass("sel-month").appendTo(A),p=0;p<V.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(n);for(p=0;p<12;p++)h("<li>").addClass("js-month-"+p+" js-month-real-"+this.locale.months[p].toLowerCase()).html(this.locale.months[p]).data("value",p).appendTo(n);for(p=0;p<V.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(n)}if(V.day===!0){for(o=h("<ul>").addClass("sel-day").appendTo(A),p=0;p<V.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(o);for(p=0;p<31;p++)h("<li>").addClass("js-day-"+p+" js-day-real-"+(p+1)).html(p+1).data("value",p+1).appendTo(o);for(p=0;p<V.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(o)}if(V.year===!0){for(d=h("<ul>").addClass("sel-year").appendTo(A),p=0;p<V.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(d);for(p=V.minYear,w=0;p<=V.maxYear;p++,w++)h("<li>").addClass("js-year-"+w+" js-year-real-"+p).html(p).data("value",p).appendTo(d);for(p=0;p<V.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(d)}if(A.height(40*(2*V.distance+1)),B=h("<div>").addClass("action-block").appendTo(E),h("<button>").attr("type","button").addClass("button action-ok").addClass(V.clsButton).addClass(V.clsOkButton).html(V.okButtonIcon).appendTo(B),h("<button>").attr("type","button").addClass("button action-cancel").addClass(V.clsButton).addClass(V.clsCancelButton).html(V.cancelButtonIcon).appendTo(B),H[0].className="",V.copyInlineStyles===!0)for(p=0;p<H[0].style.length;p++)e.css(H[0].style[p],H.css(H[0].style[p]));H.prop("disabled")&&e.addClass("disabled"),this.picker=e},_createEvents:function(){var e=this,n=this.options,o=this.picker;o.on(c.events.start,".select-block ul",function(d){if(!d.changedTouches){var p=this,w=v.pageXY(d).y;h(document).on(c.events.move,function(_){p.scrollTop-=n.scrollSpeed*(w>v.pageXY(_).y?-1:1),w=v.pageXY(_).y},{ns:o.attr("id")}),h(document).on(c.events.stop,function(){h(document).off(c.events.move,{ns:o.attr("id")}),h(document).off(c.events.stop,{ns:o.attr("id")})},{ns:o.attr("id")})}}),o.on(c.events.click,function(d){e.isOpen===!1&&e.open(),d.stopPropagation()}),o.on(c.events.click,".action-ok",function(d){var p,w,_,E=o.find(".sel-month li.active"),A=o.find(".sel-day li.active"),B=o.find(".sel-year li.active");p=E.length===0?e.value.value.getMonth():E.data("value"),w=A.length===0?e.value.value.getDate():A.data("value"),_=B.length===0?e.value.value.getFullYear():B.data("value"),e.value=datetime(_,p,w),e._correct(),e._set(),e.close(),d.stopPropagation()}),o.on(c.events.click,".action-cancel",function(d){e.close(),d.stopPropagation()}),h.each(["month","day","year"],function(){var d=this,p=o.find(".sel-"+d);p.on("scroll",function(){e.isOpen&&(e.listTimer[d]&&(clearTimeout(e.listTimer[d]),e.listTimer[d]=null),e.listTimer[d]||(e.listTimer[d]=setTimeout(function(){var w,_,E;e.listTimer[d]=null,w=Math.round(Math.ceil(p.scrollTop())/40),E=(_=p.find(".js-"+d+"-"+w)).position().top-40*n.distance,p.find(".active").removeClass("active"),p[0].scrollTop=E,_.addClass("active"),v.exec(n.onScroll,[_,p,o],p[0])},150)))})})},_correct:function(){var e=this.value.month(),n=this.value.day(),o=this.value.year();this.value=datetime(o,e,n)},_set:function(){var e=this.element,n=this.options,o=this.picker,d=this.locale.months[this.value.month()],p=this.value.day(),w=this.value.year();n.month===!0&&o.find(".month").html(d),n.day===!0&&o.find(".day").html(p),n.year===!0&&o.find(".year").html(w),e.val(this.value.format(n.format,n.locale)).trigger("change"),this._fireEvent("set",{value:this.value.val(),elementValue:e.val(),picker:o})},open:function(){var e,n,o,d,p,w=this.options,_=this.picker,E=this.value.month(),A=this.value.day()-1,B=this.value.year(),H=_.find(".select-wrapper");H.parent().removeClass("for-top for-bottom"),H.show(0),_.find("li").removeClass("active"),d=v.inViewport(H[0]),p=v.rect(H[0]),!d&&p.top>0&&H.parent().addClass("for-bottom"),!d&&p.top<0&&H.parent().addClass("for-top"),w.month===!0&&(e=_.find(".sel-month")).scrollTop(0).animate({draw:{scrollTop:e.find("li.js-month-"+E).addClass("active").position().top-40*w.distance},dur:100}),w.day===!0&&(n=_.find(".sel-day")).scrollTop(0).animate({draw:{scrollTop:n.find("li.js-day-"+A).addClass("active").position().top-40*w.distance},dur:100}),w.year===!0&&(o=_.find(".sel-year")).scrollTop(0).animate({draw:{scrollTop:o.find("li.js-year-real-"+B).addClass("active").position().top-40*w.distance},dur:100}),this.isOpen=!0,this._fireEvent("open",{value:this.value.val(),picker:_})},close:function(){var e=this.picker;e.find(".select-wrapper").hide(0),this.isOpen=!1,this._fireEvent("close",{value:this.value.val(),picker:e})},val:function(e){var n=this.options;if(!v.isValue(e))return this.element.val();this.value=n.inputFormat?Datetime.from(e,n.inputFormat,n.locale):datetime(e),this._set()},date:function(e,n){if(e===void 0)return this.value.val();try{this.value=Datetime.from(e,n,this.options.locale),this._set()}catch{return!1}},i18n:function(e){var n,o,d=this.element,p=this.options;if(p.locale=e||d.attr("data-locale"),this.locale=c.locales[p.locale].calendar,p.month===!0){for(n=d.closest(".date-picker").find(".sel-month").html(""),o=0;o<p.distance;o++)h("<li>").html("&nbsp;").data("value",-1).appendTo(n);for(o=0;o<12;o++)h("<li>").addClass("js-month-"+o+" js-month-real-"+this.locale.months[o].toLowerCase()).html(this.locale.months[o]).data("value",o).appendTo(n);for(o=0;o<p.distance;o++)h("<li>").html("&nbsp;").data("value",-1).appendTo(n)}this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,n){switch(e){case"disabled":this.toggleState();break;case"data-value":this.val(n);break;case"data-locale":this.i18n(n);break;case"data-format":this.options.format=n,this._set()}},destroy:function(){var e=this.element,n=this.picker;return h.each(["moth","day","year"],function(){n.find(".sel-"+this).off("scroll")}),n.off(c.events.start,".select-block ul"),n.off(c.events.click),n.off(c.events.click,".action-ok"),n.off(c.events.click,".action-cancel"),e}}),h(document).on(c.events.click,function(){h.each(h(".date-picker"),function(){h(this).find("input").each(function(){c.getPlugin(this,"datepicker").close()})})})}(Metro,m4q),function(c,h){var v=c.utils,y={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,locale:METRO_LOCALE,title:"",content:"",actions:{},actionsAlign:"right",defaultAction:!0,overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"480",height:"auto",shadow:!0,closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onShow:c.noop,onHide:c.noop,onOpen:c.noop,onClose:c.noop,onDialogCreate:c.noop};c.dialogSetup=function(e){y=h.extend({},y,e)},typeof window.metroDialogSetup!==void 0&&c.dialogSetup(window.metroDialogSetup),c.Component("dialog",{_counter:0,init:function(e,n){return this._super(n,e,y,{interval:null,overlay:null,id:v.elementId("dialog")}),this},_create:function(){var e=this.options;this.locale=c.locales[e.locale]!==void 0?c.locales[e.locale]:c.locales["en-US"],this._build()},_build:function(){var e,n=this,o=this.element,d=this.options,p=h("body");if(o.addClass("dialog"),d.shadow===!0&&o.addClass("shadow-on"),d.title!==""&&this.setTitle(d.title),d.content!==""&&this.setContent(d.content),d.defaultAction===!0||d.actions!==!1&&typeof d.actions=="object"&&v.objectLength(d.actions)>0){var w,_=o.find(".dialog-actions");_.length===0&&(_=h("<div>").addClass("dialog-actions").addClass("text-"+d.actionsAlign).appendTo(o)),d.defaultAction===!0&&v.objectLength(d.actions)===0&&o.find(".dialog-actions > *").length===0&&(w=h("<button>").addClass("button js-dialog-close").addClass(d.clsDefaultAction).html(this.locale.buttons.ok)).appendTo(_),v.isObject(d.actions)&&h.each(v.isObject(d.actions),function(){var A=this;w=h("<button>").addClass("button").addClass(A.cls).html(A.caption),A.onclick!==void 0&&w.on(c.events.click,function(){v.exec(A.onclick,[o])}),w.appendTo(_)})}d.overlay===!0&&(e=this._overlay(),this.overlay=e),d.closeAction===!0&&o.on(c.events.click,".js-dialog-close",function(){n.close()});var E=o.find("closer");E.length===0&&(E=h("<span>").addClass("button square closer js-dialog-close")).appendTo(o),d.closeButton!==!0&&E.hide(),o.css({width:d.width,height:d.height,visibility:"hidden",top:"100%",left:(h(window).width()-o.outerWidth())/2}),o.addClass(d.clsDialog),o.find(".dialog-title").addClass(d.clsTitle),o.find(".dialog-content").addClass(d.clsContent),o.find(".dialog-actions").addClass(d.clsAction),o.appendTo(p),d.show&&this.open(),h(window).on(c.events.resize,function(){n.setPosition()},{ns:this.id}),this._fireEvent("dialog-create",{element:o})},_overlay:function(){var e=this.options,n=h("<div>");return n.addClass("overlay").addClass(e.clsOverlay),e.overlayColor==="transparent"?n.addClass("transparent"):n.css({background:c.colors.toRGBA(e.overlayColor,e.overlayAlpha)}),n},hide:function(e){var n=this.element,o=0;this.options.onHide!==c.noop&&(o=500,this._fireEvent("hide")),setTimeout(function(){v.exec(e,null,n[0]),n.css({visibility:"hidden",top:"100%"})},o)},show:function(e){var n=this.element;this.setPosition(),n.css({visibility:"visible"}),this._fireEvent("show"),v.exec(e,null,n[0])},setPosition:function(){var e,n,o=this.element,d=this.options;d.toTop!==!0&&d.toBottom!==!0?((e=(h(window).height()-o.outerHeight())/2)<0&&(e=0),n="auto"):(d.toTop===!0&&(e=0,n="auto"),d.toTop!==!0&&d.toBottom===!0&&(n=0,e="auto")),o.css({top:e,bottom:n,left:(h(window).width()-o.outerWidth())/2})},setContent:function(e){var n=this.element,o=n.find(".dialog-content");o.length===0&&(o=h("<div>").addClass("dialog-content")).appendTo(n),!v.isQ(e)&&v.isFunc(e)&&(e=v.exec(e)),v.isQ(e)?e.appendTo(o):o.html(e)},setTitle:function(e){var n=this.element,o=n.find(".dialog-title");o.length===0&&(o=h("<div>").addClass("dialog-title")).appendTo(n),o.html(e)},close:function(){var e=this,n=this.element,o=this.options;v.bool(o.leaveOverlayOnClose)||h("body").find(".overlay").remove(),this.hide(function(){n.data("open",!1),e._fireEvent("close"),o.removeOnClose===!0&&n.remove()})},open:function(){var e=this,n=this.element,o=this.options;o.overlay===!0&&h(".overlay").length===0&&(this.overlay.appendTo(h("body")),o.overlayClickClose===!0&&this.overlay.on(c.events.click,function(){e.close()})),this.show(function(){e._fireEvent("open"),n.data("open",!0),parseInt(o.autoHide)>0&&setTimeout(function(){e.close()},parseInt(o.autoHide))})},toggle:function(){this.element.data("open")?this.close():this.open()},isOpen:function(){return this.element.data("open")===!0},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(c.events.click,".js-dialog-close"),e.find(".button").off(c.events.click),h(window).off(c.events.resize,{ns:this.id}),e}}),c.dialog={isDialog:function(e){return v.isMetroObject(e,"dialog")},open:function(e,n,o){if(!this.isDialog(e))return!1;var d=c.getPlugin(e,"dialog");o!==void 0&&d.setTitle(o),n!==void 0&&d.setContent(n),d.open()},close:function(e){if(!this.isDialog(e))return!1;c.getPlugin(h(e)[0],"dialog").close()},toggle:function(e){if(!this.isDialog(e))return!1;c.getPlugin(h(e)[0],"dialog").toggle()},isOpen:function(e){if(!this.isDialog(e))return!1;c.getPlugin(h(e)[0],"dialog").isOpen()},remove:function(e){if(!this.isDialog(e))return!1;var n=c.getPlugin(h(e)[0],"dialog");n.options.removeOnClose=!0,n.close()},create:function(e){var n;n=h("<div>").appendTo(h("body"));var o=h.extend({},{show:!0,closeAction:!0,removeOnClose:!0},e!==void 0?e:{});return o._runtime=!0,c.makePlugin(n,"dialog",o)}}}(Metro,m4q),function(c,h){var v=c.utils,y={donutDeferred:0,size:100,hole:.8,value:0,background:"#ffffff",color:"",stroke:"#d1d8e7",fill:"#49649f",fontSize:0,total:100,cap:"%",showText:!0,showValue:!1,animate:0,onChange:c.noop,onDrawValue:function(e){return e},onDonutCreate:c.noop};c.donutSetup=function(e){y=h.extend({},y,e)},typeof window.metroDonutSetup!==void 0&&c.donutSetup(window.metroDonutSetup),c.Component("donut",{init:function(e,n){return this._super(n,e,y,{value:0,animation_change_interval:null}),this},_create:function(){var e=this.element,n=this.options;e.addClass("donut"),this._setElementSize(),this._draw(),this._addEvents(),this.val(n.value),this._fireEvent("donut-create",{element:e})},_setElementSize:function(){var e=this.element,n=this.options,o=n.size;e.css({width:o,background:n.background}),e.css({height:e.width()})},_draw:function(){var e=this.element,n=this.options,o="",d=e.width()/2,p=d*(1-(1-n.hole)/2),w=d*(1-n.hole),_="rotate(-90 "+d+","+d+")",E=n.fontSize===0?p*n.hole*.6:n.fontSize;o+="<svg>",o+="   <circle class='donut-back' r='"+p+"px' cx='"+d+"px' cy='"+d+"px' transform='"+_+"' fill='none' stroke='"+n.stroke+"' stroke-width='"+w+"'/>",o+="   <circle class='donut-fill' r='"+p+"px' cx='"+d+"px' cy='"+d+"px' transform='"+_+"' fill='none' stroke='"+n.fill+"' stroke-width='"+w+"'/>",n.showText===!0&&(o+="   <text class='donut-title' x='"+d+"px' y='"+d+"px' dy='"+E/3+"px' text-anchor='middle' fill='"+(n.color!==""?n.color:n.fill)+"' font-size='"+E+"px'></text>"),o+="</svg>",e.html(o)},_addEvents:function(){var e=this;h(window).on("resize",function(){e._setElementSize(),e._draw(),e.val(e.value)})},_setValue:function(e){var n=this.element,o=this.options,d=n.find(".donut-fill"),p=n.find(".donut-title"),w=n.width()/2*(1-(1-o.hole)/2),_=Math.round(2*Math.PI*w),E=o.showValue?e:v.percent(o.total,e,!0),A=Math.round(+e*_/o.total),B=d.attr("stroke-dasharray"),H=A-(B=B===void 0?0:+B.split(" ")[0]);d.animate({draw:function(V,K){h(this).attr("stroke-dasharray",B+H*K+" "+_)},dur:o.animate}),p.html(c.utils.exec(o.onDrawValue,[E+o.cap]))},val:function(e){var n=this.options;return e===void 0?this.value:!(parseInt(e)<0||parseInt(e)>n.total)&&(this._setValue(e),this.value=e,void this._fireEvent("change",{value:this.value}))},setColor:function(e){var n=["background","fill","stroke","color"],o=this;return h.each(e,function(d,p){n.indexOf(d)!==-1&&(o.options[d]=p)}),this._draw(),this.val(this.value),this},changeValue:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(e,n){switch(e){case"data-value":this.changeValue();break;case"data-background":this.setColor({background:n});break;case"data-fill":this.setColor({fill:n});break;case"data-stroke":this.setColor({stroke:n});break;case"data-color":this.setColor({color:n})}},destroy:function(){return this.element}})}(Metro,m4q),function(c,h){var v={height:"auto",multiSelect:!1,moveRightIcon:"<span>&rsaquo;</span>",moveRightAllIcon:"<span>&raquo;</span>",moveLeftIcon:"<span>&lsaquo;</span>",moveLeftAllIcon:"<span>&laquo;</span>",clsBox:"",clsMoveButton:"",clsMoveRightButton:"",clsMoveRightAllButton:"",clsMoveLeftButton:"",clsMoveLeftAllButton:"",clsListLeft:"",clsListRight:"",onDoubleSelectBoxCreate:c.noop};c.doubleSelectBoxSetup=function(y){v=h.extend({},v,y)},typeof window.metroDoubleSelectBoxSetup!==void 0&&c.doubleSelectBoxSetup(window.metroDoubleSelectBoxSetup),c.Component("double-select-box",{init:function(y,e){return this._super(e,y,v,{select1:null,select2:null,list1:null,list2:null}),this},_create:function(){var y=this.element;if(this.options,y.children("select").length!==2)throw new Error("Component DoubleSelectBox required two select elements!");this._createStructure(),this._createEvents(),this._fireEvent("double-select-box-create")},_drawList:function(){var y=this;this.list1.clear(),this.select1.find("option").each(function(e,n){var o=h(n),d=o.attr("data-template")?o.attr("data-template").replace(/\$1/g,o.text()):o.text();y.list1.append(h("<li>").html(d).attr("data-value",n.value).data("option",n))}),this.list2.clear(),this.select2.find("option").each(function(e,n){var o=h(n),d=o.attr("data-template")?o.attr("data-template").replace(/\$1/g,o.text()):o.text();y.list2.append(h("<li>").html(d).attr("data-value",n.value).data("option",n))})},_createStructure:function(){var y,e,n=this.element,o=this.options,d=n.children("select"),p=d.eq(0),w=d.eq(1),_=h("<div>").addClass("controls").insertBefore(w);n.addClass("double-select-box").addClass(o.clsBox).css({height:o.height}),d.prop("multiple",!0),_.append(h([h("<button>").attr("type","button").addClass("button --move-right").addClass(o.clsMoveButton).addClass(o.clsMoveRightButton).html(o.moveRightIcon),h("<button>").attr("type","button").addClass("button --move-right-all").addClass(o.clsMoveButton).addClass(o.clsMoveRightAllButton).html(o.moveRightAllIcon),h("<button>").attr("type","button").addClass("button --move-left-all").addClass(o.clsMoveButton).addClass(o.clsMoveLeftAllButton).html(o.moveLeftAllIcon),h("<button>").attr("type","button").addClass("button --move-left").addClass(o.clsMoveButton).addClass(o.clsMoveLeftButton).html(o.moveLeftIcon)])),y=h("<ul>").addClass("--list1").addClass(o.clsListLeft).insertBefore(p),e=h("<ul>").addClass("--list2").addClass(o.clsListRight).insertBefore(w),this.select1=p,this.select2=w,this.list1=y,this.list2=e,this._drawList()},_moveItems:function(y,e){h.each(y,function(){var n=h(this),o=n.data("option");h(o).appendTo(e[0]),n.removeClass("active").appendTo(e[1])})},_move:function(y,e){var n=this;e==="selected"?y==="ltr"?n._moveItems(this.list1.find("li.active"),[n.select2,n.list2]):n._moveItems(this.list2.find("li.active"),[n.select1,n.list1]):y==="ltr"?n._moveItems(this.list1.find("li"),[n.select2,n.list2]):n._moveItems(this.list2.find("li"),[n.select1,n.list1])},_createEvents:function(){var y=this,e=this.element,n=this.options,o=e.find("li");o.on("click",function(){var d=h(this);n.multiSelect===!1&&(y.list1.find("li").removeClass("active"),y.list2.find("li").removeClass("active")),d.addClass("active")}),o.on("dblclick",function(){var d=h(this),p=d.parent().hasClass("--list1")?"ltr":"rtl";y.list1.find("li").removeClass("active"),y.list2.find("li").removeClass("active"),d.addClass("active"),y._move(p,"selected")}),e.on("click","button",function(){var d=h(this);if(d.hasClass("--move-right"))y._move("ltr","selected");else if(d.hasClass("--move-right-all"))y._move("ltr","all");else if(d.hasClass("--move-left"))y._move("rtl","selected");else{if(!d.hasClass("--move-left-all"))throw new Error("Pressed unregistered button!");y._move("rtl","all")}})},changeAttribute:function(y,e){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(c,h){var v=c.utils,y={doublesliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:c.position.TOP,valueMin:null,valueMax:null,hint:!1,hintAlways:!1,hintPositionMin:c.position.TOP,hintPositionMax:c.position.TOP,hintMaskMin:"$1",hintMaskMax:"$1",target:null,size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsMarker:"",clsMarkerMin:"",clsMarkerMax:"",clsHint:"",clsHintMin:"",clsHintMax:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:c.noop,onStop:c.noop,onMove:c.noop,onChange:c.noop,onChangeValue:c.noop,onFocus:c.noop,onBlur:c.noop,onDoubleSliderCreate:c.noop};c.doubleSliderSetup=function(e){y=h.extend({},y,e)},typeof window.metroDoubleSliderSetup!==void 0&&c.doubleSliderSetup(window.metroDoubleSliderSetup),c.Component("double-slider",{init:function(e,n){return this._super(n,e,y,{slider:null,valueMin:null,valueMax:null,keyInterval:!1,id:v.elementId("slider")}),this},_create:function(){var e=this.element,n=this.options;this.valueMin=v.isValue(n.valueMin)?+n.valueMin:+n.min,this.valueMax=v.isValue(n.valueMax)?+n.valueMax:+n.max,this._createSlider(),this._createEvents(),this.val(this.valueMin,this.valueMax),this._fireEvent("double-slider-create",{element:e})},_createSlider:function(){var e,n=this.element,o=this.options,d=h("<div>").addClass("slider-wrapper"),p=h("<div>").addClass("slider").addClass(o.clsSlider).addClass(this.elem.className),w=h("<div>").addClass("backside").addClass(o.clsBackside),_=h("<div>").addClass("complete").addClass(o.clsComplete),E=h("<button>").attr("type","button").addClass("marker marker-min").addClass(o.clsMarker).addClass(o.clsMarkerMin),A=h("<button>").attr("type","button").addClass("marker marker-max").addClass(o.clsMarker).addClass(o.clsMarkerMax),B=h("<div>").addClass("hint hint-min").addClass(o.hintPositionMin+"-side").addClass(o.clsHint).addClass(o.clsHintMin),H=h("<div>").addClass("hint hint-max").addClass(o.hintPositionMax+"-side").addClass(o.clsHint).addClass(o.clsHintMax);if(o.size>0&&p.outerWidth(o.size),p.insertBefore(n),n.appendTo(p),d.insertBefore(p),p.appendTo(d),w.appendTo(p),_.appendTo(p),E.appendTo(p),A.appendTo(p),B.appendTo(E),H.appendTo(A),o.hintAlways===!0&&h([B,H]).css({display:"block"}).addClass("permanent-hint"),o.showMinMax===!0){var V=h("<div>").addClass("slider-min-max").addClass(o.clsMinMax);h("<span>").addClass("slider-text-min").addClass(o.clsMin).html(o.min).appendTo(V),h("<span>").addClass("slider-text-max").addClass(o.clsMax).html(o.max).appendTo(V),o.minMaxPosition===c.position.TOP?V.insertBefore(p):V.insertAfter(p)}if(n[0].className="",o.copyInlineStyles===!0)for(e=0;e<n[0].style.length;e++)p.css(n[0].style[e],n.css(n[0].style[e]));n.is(":disabled")?this.disable():this.enable(),this.slider=p},_createEvents:function(){var e=this,n=this.slider,o=this.options,d=n.find(".marker");d.on(c.events.startAll,function(){var p=h(this).find(".hint");o.hint===!0&&o.hintAlways!==!0&&p.fadeIn(300),h(document).on(c.events.moveAll,function(w){e._move(w),e._fireEvent("move",{min:e.valueMin,max:e.valueMax})},{ns:e.id}),h(document).on(c.events.stopAll,function(){h(document).off(c.events.moveAll,{ns:e.id}),h(document).off(c.events.stopAll,{ns:e.id}),o.hintAlways!==!0&&p.fadeOut(300),e._fireEvent("stop",{min:e.valueMin,max:e.valueMax})},{ns:e.id}),e._fireEvent("start",{min:e.valueMin,max:e.valueMax})}),d.on(c.events.focus,function(){e._fireEvent("focus",{min:e.valueMin,max:e.valueMax})}),d.on(c.events.blur,function(){e._fireEvent("blur",{min:e.valueMin,max:e.valueMax})}),h(window).on(c.events.resize,function(){e.val(e.valueMin,e.valueMax)},{ns:e.id})},_convert:function(e,n){var o=this.slider,d=this.options,p=o.outerWidth()-o.find(".marker").outerWidth();switch(n){case"pix2prc":return 100*e/p;case"pix2val":return this._convert(e,"pix2prc")*((d.max-d.min)/100)+d.min;case"val2prc":return(e-d.min)/((d.max-d.min)/100);case"prc2pix":return e/(100/p);case"val2pix":return this._convert(this._convert(e,"val2prc"),"prc2pix")}return 0},_correct:function(e){var n,o=e,d=this.options.accuracy,p=this.options.min,w=this.options.max;return d===0||isNaN(d)?o:((o=Math.round(e/d)*d)<p&&(o=p),o>w&&(o=w),o.toFixed((n=d)%1==0?0:n.toString().split(".")[1].length))},_move:function(e){var n,o,d,p=h(e.target).closest(".marker").hasClass("marker-min"),w=this.slider,_=w.offset(),E=w.find(".marker").outerWidth(),A=w.find(".marker-min"),B=w.find(".marker-max"),H=w.outerWidth();n=v.pageXY(e).x-_.left-E/2,p?(o=0,d=parseInt(B.css("left"))-E):(o=parseInt(A.css("left"))+E,d=H-E),n<o||n>d||(this[p?"valueMin":"valueMax"]=this._correct(this._convert(n,"pix2val")),this._redraw())},_hint:function(){var e=this,n=this.options;this.slider.find(".hint").each(function(){var o=h(this),d=o.hasClass("hint-min"),p=d?n.hintMaskMin:n.hintMaskMax,w=+(d?e.valueMin:e.valueMax)||0;o.text(p.replace("$1",w.toFixed(v.decCount(n.accuracy))))})},_value:function(){var e,n=this.element,o=this.options,d=+this.valueMin||0,p=+this.valueMax||0;if(o.roundValue&&(d=d.toFixed(v.decCount(o.accuracy)),p=p.toFixed(v.decCount(o.accuracy))),e=[d,p].join(", "),n[0].tagName==="INPUT"&&n.val(e),o.target!==null){var w=h(o.target);w.length!==0&&h.each(w,function(){var _=h(this);this.tagName==="INPUT"?_.val(e):_.text(e),_.trigger("change")})}this._fireEvent("change-value",{val:e}),this._fireEvent("change",{val:e})},_marker:function(){var e=this.slider,n=e.find(".marker-min"),o=e.find(".marker-max"),d=e.find(".complete"),p=parseInt(v.getStyleOne(n,"width")),w=v.isVisible(e);w&&h([n,o]).css({"margin-top":0,"margin-left":0}),w?(n.css("left",this._convert(this.valueMin,"val2pix")),o.css("left",this._convert(this.valueMax,"val2pix"))):(n.css({left:this._convert(this.valueMin,"val2prc")+"%","margin-top":this._convert(this.valueMin,"val2prc")===0?0:-1*p/2}),o.css({left:this._convert(this.valueMax,"val2prc")+"%","margin-top":this._convert(this.valueMax,"val2prc")===0?0:-1*p/2})),d.css({left:this._convert(this.valueMin,"val2pix"),width:this._convert(this.valueMax,"val2pix")-this._convert(this.valueMin,"val2pix")})},_redraw:function(){this._marker(),this._value(),this._hint()},val:function(e,n){var o=this.options;if(!v.isValue(e)&&!v.isValue(n))return[this.valueMin,this.valueMax];e<o.min&&(e=o.min),n<o.min&&(n=o.min),e>o.max&&(e=o.max),n>o.max&&(n=o.max),this.valueMin=this._correct(e),this.valueMax=this._correct(n),this._redraw()},changeValue:function(){var e=this.element,n=+e.attr("data-value-min"),o=+e.attr("data-value-max");this.val(n,o)},disable:function(){var e=this.element;e.data("disabled",!0),e.parent().addClass("disabled")},enable:function(){var e=this.element;e.data("disabled",!1),e.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"data-value-min":case"data-value-max":this.changeValue();break;case"disabled":this.toggleState()}},destroy:function(){var e=this.element,n=this.slider,o=n.find(".marker");return o.off(c.events.startAll),o.off(c.events.focus),o.off(c.events.blur),o.off(c.events.keydown),o.off(c.events.keyup),n.off(c.events.click),h(window).off(c.events.resize,{ns:this.id}),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={dragitemsDeferred:0,target:null,dragItem:"li",dragMarker:".drag-item-marker",drawDragMarker:!1,clsDragItemAvatar:"",clsDragItem:"",canDrag:!0,onDragStartItem:c.noop,onDragMoveItem:c.noop,onDragDropItem:c.noop,onTarget:c.noop,onTargetIn:c.noop,onTargetOut:c.noop,onDragItemsCreate:c.noop};c.dragItemsSetup=function(e){y=h.extend({},y,e)},typeof window.metroDragItemsSetup!==void 0&&c.dragItemsSetup(window.metroDragItemsSetup),c.Component("drag-items",{init:function(e,n){return this._super(n,e,y,{id:v.elementId("dragItems"),canDrag:!1}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("drag-items-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options;e.addClass("drag-items-target"),n.drawDragMarker===!0&&e.find(n.dragItem).each(function(){h("<span>").addClass("drag-item-marker").appendTo(this)}),n.canDrag?this.on():this.off()},_createEvents:function(){var e,n,o,d=this,p=this.element,w=this.options,_=h.document(),E=h.body(),A={top:0,left:0};p.on(c.events.startAll,w.drawDragMarker?w.dragMarker:w.dragItem,function(B){var H,V=h(B.target).closest(w.dragItem);v.isRightMouse(B)||d.canDrag===!0&&(V.addClass("dragged-item").addClass(w.clsDragItem),H=h("<div>").addClass("dragged-item-avatar").addClass(w.clsDragItemAvatar),e=V.offset(),n=V.width(),o=V.height(),A.top=v.pageXY(B).y-e.top,A.left=v.pageXY(B).x-e.left,H.css({top:e.top,left:e.left,width:n,height:o}).appendTo(E),d._fireEvent("drag-start-item",{dragItem:V[0],avatar:H[0]}),_.on(c.events.moveAll,function(K){(function(Z,xe,Ee){var We=v.pageXY(Z).x,z=v.pageXY(Z).y,ee=z-A.top,le=We-A.left;xe.css({top:ee,left:le});var Ce=document.elementsFromPoint(We,z).filter(function(ui){return h(ui).hasClass("drag-items-target")});if(Ce.length!==0){d._fireEvent("target",{target:Ce});var ye=document.elementsFromPoint(We,z).filter(function(ui){var Ve=h(ui);return h.matches(ui,w.dragItem)&&!Ve.hasClass("dragged-item-avatar")})[0];if(v.isValue(ye)){var $e,Qe=h(ye),rt=Qe.offset(),tt=z-rt.top,jt=We-rt.left,Jt={w:Qe.width(),h:Qe.height()};$e=jt<Jt.w/3&&(tt<Jt.h/2||tt>Jt.h/2)?"left":jt>2*Jt.w/3&&(tt<Jt.h/2||tt>Jt.h/2)?"right":jt>Jt.w/3&&jt<2*Jt.w/3&&tt>Jt.h/2?"bottom":"top",Qe.hasClass("dragged-item")||($e==="top"||$e==="left"?Ee.insertBefore(Qe):Ee.insertAfter(Qe))}else Ee.appendTo(Ce)}})(K,H,V),d._fireEvent("drag-move-item",{dragItem:V[0],avatar:H[0]}),K.preventDefault()},{ns:d.id,passive:!1}),_.on(c.events.stopAll,function(){d._fireEvent("drag-drop-item",{dragItem:V[0],avatar:H[0]}),V.removeClass("dragged-item").removeClass(w.clsDragItem),H.remove(),_.off(c.events.moveAll,{ns:d.id}),_.off(c.events.stopAll,{ns:d.id})},{ns:d.id}),w.drawDragMarker&&(B.preventDefault(),B.stopPropagation()))})},on:function(){this.canDrag=!0,this.element.find(".drag-item-marker").show()},off:function(){this.canDrag=!1,this.element.find(".drag-item-marker").hide()},toggle:function(){this.canDrag=this.canDrag?this.off():this.on()},changeAttribute:function(e){var n=this,o=this.element,d=this.options;e==="data-can-drag"&&(d.canDtag=JSON.parse(o.attr("data-can-drag")),d.canDtag?n.on():n.off())},destroy:function(){var e=this.element,n=this.options;return e.off(c.events.startAll,n.drawDragMarker?n.dragMarker:n.dragItem),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={dragContext:null,draggableDeferred:0,dragElement:"self",dragArea:"parent",timeout:0,boundaryRestriction:!0,onCanDrag:c.noop_true,onDragStart:c.noop,onDragStop:c.noop,onDragMove:c.noop,onDraggableCreate:c.noop};c.draggableSetup=function(e){y=h.extend({},y,e)},typeof window.metroDraggableSetup!==void 0&&c.draggableSetup(window.metroDraggableSetup),c.Component("draggable",{init:function(e,n){return this._super(n,e,y,{drag:!1,move:!1,backup:{cursor:"default",zIndex:"0"},dragArea:null,dragElement:null,id:v.elementId("draggable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("draggable-create",{element:this.element})},_createStructure:function(){var e=this,n=this.element,o=this.options,d=n.offset(),p=o.dragElement!=="self"?n.find(o.dragElement):n;n.data("canDrag",!0),this.dragElement=p,p[0].ondragstart=function(){return!1},n.css("position","absolute"),o.dragArea!=="document"&&o.dragArea!=="window"||(o.dragArea="body"),setImmediate(function(){e.dragArea=o.dragArea==="parent"?n.parent():h(o.dragArea),o.dragArea!=="parent"&&(n.appendTo(e.dragArea),n.css({top:d.top,left:d.left}))}),n.attr("id")||n.attr("id",v.elementId("draggable"))},_createEvents:function(){var e=this,n=this.element,o=this.options,d={x:0,y:0};this.dragElement.on(c.events.startAll,function(p){var w=o.dragArea!=="parent"?n.offset():n.position(),_=v.pageXY(p).x-w.left,E=v.pageXY(p).y-w.top,A=function(B){var H=v.pageXY(B).y-E,V=v.pageXY(B).x-_;o.boundaryRestriction&&(H<0&&(H=0),V<0&&(V=0),H>e.dragArea.outerHeight()-n.outerHeight()&&(H=e.dragArea.outerHeight()-n.outerHeight()),V>e.dragArea.outerWidth()-n.outerWidth()&&(V=e.dragArea.outerWidth()-n.outerWidth())),d.y=H,d.x=V,n.css({left:V,top:H})};n.data("canDrag")!==!1&&v.exec(o.onCanDrag,[n])===!0&&(c.isTouchable===!1&&p.which!==1||(e.drag=!0,e.backup.cursor=n.css("cursor"),e.backup.zIndex=n.css("z-index"),n.addClass("draggable"),A(p),e._fireEvent("drag-start",{position:d,context:o.dragContext}),h(document).on(c.events.moveAll,function(B){B.preventDefault(),A(B),e._fireEvent("drag-move",{position:d,context:o.dragContext})},{ns:e.id,passive:!1}),h(document).on(c.events.stopAll,function(){n.removeClass("draggable"),e.drag&&(h(document).off(c.events.moveAll,{ns:e.id}),h(document).off(c.events.stopAll,{ns:e.id})),e.drag=!1,e.move=!1,e._fireEvent("drag-stop",{position:d,context:o.dragContext})},{ns:e.id})))})},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:function(e,n){},destroy:function(){var e=this.element;return this.dragElement.off(c.events.startAll),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={dropdownDeferred:0,dropFilter:null,toggleElement:null,noClose:!1,duration:50,checkDropUp:!1,dropUp:!1,onDrop:c.noop,onUp:c.noop,onDropdownCreate:c.noop};c.dropdownSetup=function(e){y=h.extend({},y,e)},typeof window.metroDropdownSetup!==void 0&&c.dropdownSetup(window.metroDropdownSetup),c.Component("dropdown",{init:function(e,n){return this._super(n,e,y,{_toggle:null,displayOrigin:null,isOpen:!1}),this},_create:function(){var e=this,n=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:n}),n.hasClass("open")&&(n.removeClass("open"),setTimeout(function(){e.open(!0)},0))},_createStructure:function(){var e,n=this.element,o=this.options;o.dropUp&&n.addClass("drop-up"),e=o.toggleElement!==null?h(o.toggleElement):n.siblings(".dropdown-toggle").length>0?n.siblings(".dropdown-toggle"):n.prev(),this.displayOrigin=v.getStyleOne(n,"display"),n.hasClass("v-menu")&&n.addClass("for-dropdown"),n.css("display","none"),this._toggle=e},_createEvents:function(){var e=this,n=this.element,o=this.options,d=this._toggle,p=n.parent();d.on(c.events.click,function(w){if(h(".active-container").removeClass("active-container"),n.css("display")==="none"||n.hasClass("keep-open")){if(h("[data-role*=dropdown]").each(function(E,A){n.parents("[data-role*=dropdown]").is(A)||h(A).hasClass("keep-open")||h(A).css("display")==="none"||(v.isValue(o.dropFilter)?h(A).closest(o.dropFilter).length>0&&e._close(A):e._close(A))}),n.hasClass("horizontal")){n.css({visibility:"hidden",display:"block"});var _=0;h.each(n.children("li"),function(){_+=h(this).outerWidth(!0)}),n.css({visibility:"visible",display:"none"}),n.css("width",_)}e._open(n),p.addClass("active-container")}else e._close(n);w.preventDefault(),w.stopPropagation()}),o.noClose===!0&&n.addClass("keep-open").on(c.events.click,function(w){w.stopPropagation()}),h(n).find("li.disabled a").on(c.events.click,function(w){w.preventDefault()})},_close:function(e,n){e=h(e);var o=c.getPlugin(e,"dropdown"),d=o._toggle,p=o.options,w="slideUp";d.removeClass("active-toggle").removeClass("active-control"),o.element.parent().removeClass("active-container"),n&&(w="hide"),e[w](n?0:p.duration,function(){o._fireEvent("close"),o._fireEvent("up"),!p.dropUp&&p.checkDropUp&&o.element.removeClass("drop-up")}),this.isOpen=!1},_open:function(e,n){e=h(e);var o=c.getPlugin(e,"dropdown"),d=o._toggle,p=o.options;d.addClass("active-toggle").addClass("active-control"),e.slideDown(n?0:p.duration,function(){!p.dropUp&&p.checkDropUp&&(v.inViewport(o.element[0])||(o.element.addClass("drop-up"),v.inViewport(o.element[0])||o.element.removeClass("drop-up"))),o._fireEvent("open"),o._fireEvent("drop")}),this.isOpen=!0},close:function(e){this._close(this.element,e)},open:function(e){this._open(this.element,e)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:function(){},destroy:function(){this._toggle.off(c.events.click)}}),h(document).on(c.events.click,function(){h("[data-role*=dropdown]").each(function(){var e=h(this);e.css("display")==="none"||e.hasClass("keep-open")||e.hasClass("stay-open")||e.hasClass("ignore-document-click")||c.getPlugin(e,"dropdown").close()})})}(Metro,m4q),function(c,h){var v=c.utils,y={init:function(){return this},options:{csvDelimiter:"	",csvNewLine:`\r
`,includeHeader:!0},setup:function(e){return this.options=h.extend({},this.options,e),this},base64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},b64toBlob:function(e,n,o){n=n||"",o=o||512;var d,p=window.atob(e),w=[];for(d=0;d<p.length;d+=o){var _,E=p.slice(d,d+o),A=new Array(E.length);for(_=0;_<E.length;_+=1)A[_]=E.charCodeAt(_);var B=new window.Uint8Array(A);w.push(B)}return new Blob(w,{type:n})},tableToCSV:function(e,n,o){var d,p,w,_,E,A,B,H="";if(d=h.extend({},this.options,o),e=h(e)[0],v.bool(d.includeHeader))for(w=e.querySelectorAll("thead")[0],_=0;_<w.rows.length;_++){for(A=w.rows[_],E=0;E<A.cells.length;E++)B=A.cells[E],H+=(E?d.csvDelimiter:"")+B.textContent.trim();H+=d.csvNewLine}for(p=e.querySelectorAll("tbody")[0],_=0;_<p.rows.length;_++){for(A=p.rows[_],E=0;E<A.cells.length;E++)B=A.cells[E],H+=(E?d.csvDelimiter:"")+B.textContent.trim();H+=d.csvNewLine}return v.isValue(n)?this.createDownload(this.base64("\uFEFF"+H),"application/csv",n):H},createDownload:function(e,n,o){var d,p,w;return(p=document.createElement("a")).style.display="none",document.body.appendChild(p),d=this.b64toBlob(e,n),w=window.URL.createObjectURL(d),p.href=w,p.download=o||v.elementId("download"),p.click(),window.URL.revokeObjectURL(w),document.body.removeChild(p),!0},arrayToCsv:function(e,n,o){var d,p,w,_="";for(d=h.extend({},this.options,o),p=0;p<e.length;p++)typeof(w=e[p])!="object"?_+=w+d.csvNewLine:(h.each(w,function(E,A){_+=(E?d.csvDelimiter:"")+A.toString()}),_+=d.csvNewLine);return v.isValue(n)?this.createDownload(this.base64("\uFEFF"+_),"application/csv",n):_}};c.export=y.init(),window.METRO_GLOBAL_COMMON===!0&&(window.Export=c.export)}(Metro,m4q),function(c,h){var v={fileDeferred:0,label:"",mode:"input",buttonTitle:"Choose file(s)",filesTitle:"file(s) selected",dropTitle:"<strong>Choose a file(s)</strong> or drop it here",dropIcon:"<span class='default-icon-upload'></span>",prepend:"",clsComponent:"",clsPrepend:"",clsButton:"",clsCaption:"",clsLabel:"",copyInlineStyles:!1,onSelect:c.noop,onFileCreate:c.noop};c.fileSetup=function(y){v=h.extend({},v,y)},typeof window.metroFileSetup!==void 0&&c.fileSetup(window.metroFileSetup),c.Component("file",{init:function(y,e){return this._super(e,y,v),this},_create:function(){var y=this.element;this._createStructure(),this._createEvents(),this._fireEvent("file-create",{element:y})},_createStructure:function(){var y,e,n=this.element,o=this.options,d=h("<label>").addClass((o.mode==="input"?" file ":o.mode==="button"?" file-button ":" drop-zone ")+n[0].className).addClass(o.clsComponent),p=h("<span>").addClass("caption").addClass(o.clsCaption),w=h("<span>").addClass("files").addClass(o.clsCaption);if(d.insertBefore(n),n.appendTo(d),o.mode==="drop"||o.mode==="dropzone"?(y=h(o.dropIcon).addClass("icon").appendTo(d),p.html(o.dropTitle).insertAfter(y),w.html("0 "+o.filesTitle).insertAfter(p)):o.mode==="button"?((e=h("<span>").addClass("button").attr("tabindex",-1).html(o.buttonTitle)).appendTo(d),e.addClass(o.clsButton)):(p.insertBefore(n),(e=h("<span>").addClass("button").attr("tabindex",-1).html(o.buttonTitle)).appendTo(d),e.addClass(o.clsButton),n.attr("dir")==="rtl"&&d.addClass("rtl"),o.prepend!==""&&h("<div>").html(o.prepend).addClass("prepend").addClass(o.clsPrepend).appendTo(d)),n[0].className="",o.copyInlineStyles===!0)for(var _=0,E=n[0].style.length;_<E;_++)d.css(n[0].style[_],n.css(n[0].style[_]));if(o.label){var A=h("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(d);n.attr("id")&&A.attr("for",n.attr("id")),n.attr("dir")==="rtl"&&A.addClass("rtl")}n.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var y=this,e=this.element,n=this.options,o=e.closest("label"),d=o.find(".caption"),p=o.find(".files"),w=e.closest("form");w.length&&w.on("reset",function(){y.clear()}),o.on(c.events.click,"button",function(){e[0].click()}),e.on(c.events.change,function(){var _,E=[];Array.from(this.files).forEach(function(A){E.push(A.name)}),n.mode==="input"?(_=E.join(", "),d.html(_),d.attr("title",_)):p.html(e[0].files.length+" "+n.filesTitle),y._fireEvent("select",{files:this.files})}),e.on(c.events.focus,function(){o.addClass("focused")}),e.on(c.events.blur,function(){o.removeClass("focused")}),n.mode!=="input"&&(o.on("drag dragstart dragend dragover dragenter dragleave drop",function(_){_.preventDefault()}),o.on("dragenter dragover",function(){o.addClass("drop-on")}),o.on("dragleave",function(){o.removeClass("drop-on")}),o.on("drop",function(_){e[0].files=_.dataTransfer.files,p.html(e[0].files.length+" "+n.filesTitle),o.removeClass("drop-on"),e.trigger("change")}))},clear:function(){var y=this.element,e=this.options;e.mode==="input"?y.siblings(".caption").html(""):(y.siblings(".caption").html(e.dropTitle),y.siblings(".files").html("0 "+e.filesTitle)),y.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleDir:function(){this.element.attr("dir")==="rtl"?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(y){switch(y){case"disabled":this.toggleState();break;case"dir":this.toggleDir()}},destroy:function(){var y=this.element,e=y.parent();return y.off(c.events.change),e.off(c.events.click,"button"),y}})}(Metro,m4q),function(c,h){var v=c.utils,y={gradientType:"linear",gradientShape:"",gradientPosition:"",gradientSize:"",gradientColors:"#000, #fff",gradientRepeat:!1,onGradientBoxCreate:c.noop};c.gradientBoxSetup=function(e){y=h.extend({},y,e)},typeof window.metroGradientBoxSetup!==void 0&&c.gradientBoxSetup(window.metroGradientBoxSetup),c.Component("gradient-box",{init:function(e,n){return this._super(n,e,y,{colors:[],shape:"",size:"",position:"",type:"linear",func:"linear-gradient",repeat:!1}),this},_create:function(){var e=this.options;this.colors=e.gradientColors.toArray(","),this.type=e.gradientType.toLowerCase(),this.shape=e.gradientShape.toLowerCase(),this.size=e.gradientSize.toLowerCase(),this.repeat=e.gradientRepeat,this.func=(this.repeat?"repeating-":"")+this.type+"-gradient",this.type==="linear"?e.gradientPosition?(this.position=isNaN(e.gradientPosition)===!1?e.gradientPosition+"deg":e.gradientPosition,this.position.indexOf("deg")===-1&&this.position.indexOf("to ")===-1&&(this.position="to "+this.position)):this.position="to bottom":(this.position=e.gradientPosition.toLowerCase(),this.position&&this.position.indexOf("at ")===-1&&(this.position="at "+this.position)),this._createStructure(),this._setGradient(),this._fireEvent("gradient-box-create")},_createStructure:function(){this.element.addClass("gradient-box")},_setGradient:function(){var e,n=this.element,o=[];this.type==="radial"&&this.shape&&o.push(this.shape),this.type==="radial"&&this.size&&o.push(this.size),this.position,e=this.func+"("+(o.length?o.join(" ")+", ":"")+this.colors.join(", ")+")",n.css({background:e})},changeAttribute:function(e,n){if(e.indexOf("data-gradient-")!==-1){switch(e){case"data-gradient-type":this.type=n,this.func=n.toLowerCase()+"-gradient";break;case"data-gradient-colors":this.colors=n?n.toArray(","):["#fff","#000"];break;case"data-gradient-shape":this.shape=n.toLowerCase();break;case"data-gradient-size":this.size=n.toLowerCase();break;case"data-gradient-position":this.position=n.toLowerCase();break;case"data-gradient-repeat":this.repeat=v.bool(n)}this._setGradient()}},destroy:function(){return this.element}})}(Metro,m4q),function(c,h){var v={gravatarDeferred:0,email:"",size:80,default:"mp",onGravatarCreate:c.noop};c.gravatarSetup=function(y){v=h.extend({},v,y)},typeof window.metroGravatarSetup!==void 0&&c.gravatarSetup(window.metroGravatarSetup),c.Component("gravatar",{init:function(y,e){return this._super(e,y,v),this},_create:function(){var y=this.element;this.get(),this._fireEvent("gravatar-create",{element:y})},getImage:function(y,e,n,o){var d=h("<img>").attr("alt",y);return d.attr("src",this.getImageSrc(y,e)),o===!0?d:d[0]},getImageSrc:function(y,e,n){return y===void 0||y.trim()===""?"":(e=e||80,n=c.utils.encodeURI(n)||"404","//www.gravatar.com/avatar/"+c.md5(y.toLowerCase().trim())+"?size="+e+"&d="+n)},get:function(){var y=this.element,e=this.options,n=y[0].tagName==="IMG"?y:y.find("img");if(n.length!==0)return n.attr("src",this.getImageSrc(e.email,e.size,e.default)),this},resize:function(y){this.options.size=y!==void 0?y:this.element.attr("data-size"),this.get()},email:function(y){this.options.email=y!==void 0?y:this.element.attr("data-email"),this.get()},changeAttribute:function(y){switch(y){case"data-size":this.resize();break;case"data-email":this.email()}},destroy:function(){return this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={hintDeferred:0,hintHide:5e3,clsHint:"",hintText:"",hintPosition:c.position.TOP,hintOffset:4,onHintShow:c.noop,onHintHide:c.noop,onHintCreate:c.noop};c.hintSetup=function(e){y=h.extend({},y,e)},typeof window.metroHintSetup!==void 0&&c.hintSetup(window.metroHintSetup),c.Component("hint",{init:function(e,n){return this._super(n,e,y,{hint:null,hint_size:{width:0,height:0},id:v.elementId("hint")}),this},_create:function(){this._createEvents(),this._fireEvent("hint-create",{element:this.element})},_createEvents:function(){var e=this,n=this.element,o=this.options,d=!1;n.on(c.events.enter,function(){d=!0,setTimeout(function(){d&&(e.createHint(),+o.hintHide>0&&setTimeout(function(){e.removeHint()},o.hintHide))},o.hintDeferred)}),n.on(c.events.leave,function(){d=!1,e.removeHint()}),h(window).on(c.events.scroll+" "+c.events.resize,function(){e.hint!==null&&e.setPosition()},{ns:this.id})},createHint:function(){var e=this.elem,n=this.element,o=this.options,d=h("<div>").addClass("hint").addClass(o.clsHint).html(o.hintText);if(this.hint=d,this.hint_size=v.hiddenElementSize(d),h(".hint:not(.permanent-hint)").remove(),e.tagName==="TD"||e.tagName==="TH"){var p=h("<div/>").css("display","inline-block").html(n.html());n.html(p),this.element=p}this.setPosition(),d.appendTo(h("body")),this._fireEvent("hint-show",{hint:d[0]})},setPosition:function(){var e=this.hint,n=this.hint_size,o=this.options,d=this.element;o.hintPosition===c.position.BOTTOM?(e.addClass("bottom"),e.css({top:d.offset().top-h(window).scrollTop()+d.outerHeight()+o.hintOffset,left:d.offset().left+d.outerWidth()/2-n.width/2-h(window).scrollLeft()})):o.hintPosition===c.position.RIGHT?(e.addClass("right"),e.css({top:d.offset().top+d.outerHeight()/2-n.height/2-h(window).scrollTop(),left:d.offset().left+d.outerWidth()-h(window).scrollLeft()+o.hintOffset})):o.hintPosition===c.position.LEFT?(e.addClass("left"),e.css({top:d.offset().top+d.outerHeight()/2-n.height/2-h(window).scrollTop(),left:d.offset().left-n.width-h(window).scrollLeft()-o.hintOffset})):(e.addClass("top"),e.css({top:d.offset().top-h(window).scrollTop()-n.height-o.hintOffset,left:d.offset().left-h(window).scrollLeft()+d.outerWidth()/2-n.width/2}))},removeHint:function(){var e=this,n=this.hint,o=this.options.onHintHide===c.noop?0:300;n!==null&&(this._fireEvent("hint-hide",{hint:n[0]}),setTimeout(function(){n.hide(0,function(){n.remove(),e.hint=null})},o))},changeText:function(){this.options.hintText=this.element.attr("data-hint-text")},changeAttribute:function(e){e==="data-hint-text"&&this.changeText()},destroy:function(){var e=this.element;this.removeHint(),e.off(c.events.enter+"-hint"),e.off(c.events.leave+"-hint"),h(window).off(c.events.scroll+"-hint")}})}(Metro,m4q),function(c,h){var v=c.utils,y={specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta"},shiftNums:{"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},shiftNumsInverse:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],getKey:function(n){var o,d=n.keyCode,p=String.fromCharCode(d).toLowerCase();return o=n.shiftKey?y.shiftNums[p]?y.shiftNums[p]:p:y.specialKeys[d]===void 0?p:y.specialKeys[d],y.getModifier(n).length?y.getModifier(n).join("+")+"+"+o:o},getModifier:function(n){var o=[];return n.altKey&&o.push("alt"),(n.ctrlKey||n.metaKey)&&o.push("ctrl"),n.shiftKey&&o.push("shift"),o}};function e(n,o){return this.each(function(){h(this).on(c.events.keydown+".hotkey-method-"+n,function(d){if(!d.repeat){var p=y.getKey(d),w=h(this),_=""+w.attr("href");n===p&&(w.is("a")&&_&&_.trim()!=="#"&&(window.location.href=_),v.exec(o,[d,p,n],this))}})})}h.fn.hotkey=e,window.METRO_JQUERY&&window.jquery_present&&(jQuery.fn.hotkey=e),h(document).on(c.events.keydown+".hotkey-data",function(n){var o,d,p,w;if(!(METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&/textarea|input|select/i.test(n.target.nodeName)||METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&h(n.target).attr("contenteditable")||METRO_HOTKEYS_FILTER_TEXT_INPUTS&&y.textAcceptingInputTypes.indexOf(n.target.type)>-1)&&(p=y.getKey(n),v.keyInObject(c.hotkeys,p))){if(o=h(c.hotkeys[p][0]),d=c.hotkeys[p][1],w=(""+o.attr("href")).trim(),n.repeat&&!o.attr("data-repeat"))return;n.preventDefault(),d?v.exec(d):o.is("a")&&w&&w.length>0&&w.trim()!=="#"?window.location.href=w:o[0].click()}})}(Metro,m4q),function(c,h){var v=c.utils,y={htmlcontainerDeferred:0,method:"get",htmlSource:null,requestData:null,requestOptions:null,insertMode:"default",onHtmlLoad:c.noop,onHtmlLoadFail:c.noop,onHtmlLoadDone:c.noop,onHtmlContainerCreate:c.noop};c.htmlContainerSetup=function(e){y=h.extend({},y,e)},typeof window.metroHtmlContainerSetup!==void 0&&c.htmlContainerSetup(window.metroHtmlContainerSetup),c.Component("html-container",{init:function(e,n){return this._super(n,e,y,{data:null,opt:{},htmlSource:""}),this},_create:function(){var e=this.element,n=this.options;typeof n.requestData=="string"&&(n.requestData=JSON.parse(n.requestData)),v.isObject(n.requestData)&&(this.data=v.isObject(n.requestData)),typeof n.requestOptions=="string"&&(n.requestOptions=JSON.parse(n.requestOptions)),v.isObject(n.requestOptions)&&(this.opt=v.isObject(n.requestOptions)),n.method=n.method.toUpperCase(),v.isValue(n.htmlSource)&&(this.htmlSource=n.htmlSource,this._load()),this._fireEvent("html-container-create",{element:e})},_load:function(){var e=this,n=this.element,o=this.options,d={method:o.method};this.data&&(d.body=this.data),this.opt&&(d.headers=this.opt),fetch(this.htmlSource,d).then(c.fetch.status).then(c.fetch.text).then(function(p){var w=h(p);switch(w.length===0&&(w=h("<div>").html(p)),o.insertMode.toLowerCase()){case"prepend":n.prepend(w);break;case"append":n.append(w);break;case"replace":w.insertBefore(n).script(),n.remove();break;default:n.html(w)}e._fireEvent("html-load",{data:p,source:o.htmlSource,requestData:e.data,requestOptions:e.opt})}).catch(function(p){e._fireEvent("html-load-fail",{error:p})})},load:function(e,n,o){e&&(this.htmlSource=e),n&&(this.data=v.isObject(n)),o&&(this.opt=v.isObject(o)),this._load()},changeAttribute:function(e){var n,o,d,p=this,w=this.element,_=this.options;switch(e){case"data-html-source":d=w.attr("data-html-source"),v.isNull(d)||(d.trim()===""&&w.html(""),_.htmlSource=d,p._load());break;case"data-insert-mode":o=w.attr("data-insert-mode"),v.isValue(o)&&(_.insertMode=o);break;case"data-request-data":n=w.attr("data-request-data"),p.load(_.htmlSource,n)}},destroy:function(){}})}(Metro,m4q),function(c,h){var v={image:null,size:"cover",repeat:!1,color:"transparent",attachment:"scroll",origin:"border",onImageBoxCreate:c.noop};c.imageBoxSetup=function(y){v=h.extend({},v,y)},typeof window.metroImageBoxSetup!==void 0&&c.imageBoxSetup(window.metroImageBoxSetup),c.Component("image-box",{init:function(y,e){return this._super(e,y,v,{}),this},_create:function(){this._createStructure(),this._fireEvent("image-box-create")},_createStructure:function(){this.element.addClass("image-box"),this._drawImage()},_drawImage:function(){var y,e=this.element,n=this.options,o=new Image;e.attr("data-original")||e.attr("data-original",n.image),e.css({backgroundImage:"url("+n.image+")",backgroundSize:n.size,backgroundRepeat:n.repeat?"repeat":"no-repeat",backgroundColor:n.color,backgroundAttachment:n.attachment,backgroundOrigin:n.origin}),o.src=n.image,o.onload=function(){y=this.height>=this.width,e.removeClass("image-box__portrait image-box__landscape").addClass("image-box__"+(y?"portrait":"landscape"))}},changeAttribute:function(y,e){var n=y.replace("data-","");["image","size","repeat","color","attachment","origin"].indexOf(n)>-1&&(this.options[n]=e,this._drawImage())},destroy:function(){return this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={imagecompareDeferred:0,width:"100%",height:"auto",onSliderMove:c.noop,onImageCompareCreate:c.noop};c.imageCompareSetup=function(e){y=h.extend({},y,e)},typeof window.metroImageCompareSetup!==void 0&&c.imageCompareSetup(window.metroImageCompareSetup),c.Component("image-compare",{init:function(e,n){return this._super(n,e,y,{id:v.elementId("image-compare")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-compare-create",{element:e})},_createStructure:function(){var e,n,o,d,p,w,_=this.element,E=this.options;switch(v.isValue(_.attr("id"))||_.attr("id",v.elementId("image-compare")),_.addClass("image-compare").css({width:E.width}),p=_.width(),E.height){case"16/9":case"21/9":case"4/3":w=v.aspectRatioH(p,E.height);break;case"auto":w=v.aspectRatioH(p,"16/9");break;default:w=E.height}_.css({height:w}),e=h("<div>").addClass("image-container").appendTo(_),n=h("<div>").addClass("image-container-overlay").appendTo(_).css({width:p/2}),(o=h("<div>").addClass("image-slider").appendTo(_)).css({top:w/2-o.height()/2,left:p/2-o.width()/2}),d=_.find("img"),h.each(d,function(A){var B=h("<div>").addClass("image-wrapper");B.css({width:p,height:w,backgroundImage:"url("+this.src+")"}),B.appendTo(A===0?e:n)})},_createEvents:function(){var e=this,n=this.element,o=this.options,d=n.find(".image-container-overlay"),p=n.find(".image-slider");p.on(c.events.startAll,function(){var w=n.width();h(document).on(c.events.moveAll,function(_){var E,A=v.getCursorPositionX(n[0],_);A<0&&(A=0),A>w&&(A=w),d.css({width:A}),E=A-p.width()/2,p.css({left:E}),e._fireEvent("slider-move",{x:A,l:E})},{ns:e.id}),h(document).on(c.events.stopAll,function(){h(document).off(c.events.moveAll,{ns:e.id}),h(document).off(c.events.stopAll,{ns:e.id})},{ns:e.id})}),h(window).on(c.events.resize,function(){var w,_=n.width();if(o.width==="100%"){switch(o.height){case"16/9":case"21/9":case"4/3":w=v.aspectRatioH(_,o.height);break;case"auto":w=v.aspectRatioH(_,"16/9");break;default:w=o.height}n.css({height:w}),h.each(n.find(".image-wrapper"),function(){h(this).css({width:_,height:w})}),n.find(".image-container-overlay").css({width:_/2}),p.css({top:w/2-p.height()/2,left:_/2-p.width()/2})}},{ns:this.id})},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(c.events.start),h(window).off(c.events.resize,{ns:this.id}),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={useBackground:!1,backgroundSize:"cover",backgroundPosition:"top left",clsImageGrid:"",clsImageGridItem:"",clsImageGridImage:"",onItemClick:c.noop,onDrawItem:c.noop,onImageGridCreate:c.noop};c.imageGridSetup=function(e){y=h.extend({},y,e)},typeof window.metroImageGridSetup!==void 0&&c.imageGridSetup(window.metroImageGridSetup),c.Component("image-grid",{init:function(e,n){return this._super(n,e,y,{items:[]}),this},_create:function(){this.items=this.element.children("img"),this._createStructure(),this._createEvents(),this._fireEvent("image-grid-create")},_createStructure:function(){var e=this.element,n=this.options;e.addClass("image-grid").addClass(n.clsImageGrid),this._createItems()},_createEvents:function(){var e=this;this.element.on(c.events.click,".image-grid__item",function(){e._fireEvent("item-click",{item:this})})},_createItems:function(){var e=this,n=this.element,o=this.options,d=this.items;n.clear(),d.each(function(){var p=h(this),w=this.src,_=h("<div>").addClass("image-grid__item").addClass(o.clsImageGridItem).appendTo(n),E=new Image;E.src=w,E.onload=function(){var A=this.height>=this.width;_.addClass(A?"image-grid__item-portrait":"image-grid__item-landscape"),p.addClass(o.clsImageGridImage).appendTo(_),o.useBackground&&(_.css({background:"url("+w+")",backgroundRepeat:"no-repeat",backgroundSize:o.backgroundSize,backgroundPosition:o.backgroundPosition}).attr("data-original",p.attr("data-original")||w).attr("data-title",p.attr("alt")||p.attr("data-title")||""),p.visible(!1)),e._fireEvent("draw-item",{item:_[0],image:p[0]})}})},changeAttribute:function(e,n){var o=this.options;e==="data-use-background"&&(o.useBackground=v.bool(n),this._createItems()),e==="data-background-size"&&(o.backgroundSize=n,this._createItems()),e==="data-background-position"&&(o.backgroundPosition=n,this._createItems())},destroy:function(){this.element.remove()}})}(Metro,m4q),function(c,h){var v=c.utils,y={imagemagnifierDeferred:0,width:"100%",height:"auto",lensSize:100,lensType:"square",magnifierZoom:2,magnifierMode:"glass",magnifierZoomElement:null,clsMagnifier:"",clsLens:"",clsZoom:"",onMagnifierMove:c.noop,onImageMagnifierCreate:c.noop};c.imageMagnifierSetup=function(e){y=h.extend({},y,e)},typeof window.metroImageMagnifierSetup!==void 0&&c.imageMagnifierSetup(window.metroImageMagnifierSetup),c.Component("image-magnifier",{init:function(e,n){return this._super(n,e,y,{zoomElement:null,id:v.elementId("image-magnifier")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-magnifier-create",{element:e})},_createStructure:function(){var e,n,o,d=this.element,p=this.options,w=d.find("img");if(w.length===0)throw new Error("Image not defined");switch(v.isValue(d.attr("id"))||d.attr("id",v.elementId("image-magnifier")),d.addClass("image-magnifier").css({width:p.width}).addClass(p.clsMagnifier),n=d.width(),p.height){case"16/9":case"21/9":case"4/3":o=v.aspectRatioH(n,p.height);break;case"auto":o=v.aspectRatioH(n,"16/9");break;default:o=p.height}d.css({height:o});var _=n/2-p.lensSize/2,E=o/2-p.lensSize/2;if(p.magnifierMode==="glass")(e=h("<div>").addClass("image-magnifier-glass").appendTo(d)).css({width:p.lensSize,height:p.lensSize,borderRadius:p.lensType!=="circle"?0:"50%",top:E,left:_,backgroundImage:"url("+w[0].src+")",backgroundRepeat:"no-repeat",backgroundPosition:"-"+(_*p.magnifierZoom-p.lensSize/4+4)+"px -"+(E*p.magnifierZoom-p.lensSize/4+4)+"px",backgroundSize:w[0].width*p.magnifierZoom+"px "+w[0].height*p.magnifierZoom+"px"}).addClass(p.clsLens);else{(e=h("<div>").addClass("image-magnifier-glass").appendTo(d)).css({width:p.lensSize,height:p.lensSize,borderRadius:0,borderWidth:1,top:E,left:_}).addClass(p.clsLens),v.isValue(p.magnifierZoomElement)&&h(p.magnifierZoomElement).length!==0?this.zoomElement=h(p.magnifierZoomElement):this.zoomElement=h("<div>").insertAfter(d);var A=e[0].offsetWidth*p.magnifierZoom,B=e[0].offsetHeight*p.magnifierZoom,H=A/p.lensSize,V=B/p.lensSize;this.zoomElement.css({width:A,height:B,backgroundImage:"url("+w[0].src+")",backgroundRepeat:"no-repeat",backgroundPosition:"-"+_*H+"px -"+E*V+"px",backgroundSize:w[0].width*H+"px "+w[0].height*V+"px"}).addClass(p.clsZoom)}},_createEvents:function(){var e,n,o=this,d=this.element,p=this.options,w=d.find(".image-magnifier-glass"),_=w[0].offsetWidth/2,E=d.find("img")[0],A=this.zoomElement;h(window).on(c.events.resize,function(){var H=d.width()/2-p.lensSize/2,V=d.height()/2-p.lensSize/2;p.magnifierMode==="glass"&&w.css({backgroundPosition:"-"+(H*p.magnifierZoom-p.lensSize/4+4)+"px -"+(V*p.magnifierZoom-p.lensSize/4+4)+"px",backgroundSize:E.width*p.magnifierZoom+"px "+E.height*p.magnifierZoom+"px"})},{ns:this.id}),p.magnifierMode!=="glass"&&(e=A[0].offsetWidth/_/2,n=A[0].offsetHeight/_/2,A.css({backgroundSize:E.width*e+"px "+E.height*n+"px"}));var B=function(H){var V,K,Z=parseInt(p.magnifierZoom);p.magnifierMode==="glass"?(V=H.x,K=H.y,V>E.width-_/Z&&(V=E.width-_/Z),V<_/Z&&(V=_/Z),K>E.height-_/Z&&(K=E.height-_/Z),K<_/Z&&(K=_/Z),w.css({top:K-_,left:V-_,backgroundPosition:"-"+(V*Z-_+4)+"px -"+(K*Z-_+4)+"px"})):(V=H.x-_,K=H.y-_,V>E.width-2*_&&(V=E.width-2*_),V<0&&(V=0),K>E.height-2*_&&(K=E.height-2*_),K<0&&(K=0),w.css({top:K,left:V}),A.css({backgroundPosition:"-"+V*e+"px -"+K*n+"px"}))};d.on(c.events.move,function(H){var V=v.getCursorPosition(E,H);B(V),o._fireEvent("magnifier-move",{pos:V,glass:w[0],zoomElement:A?A[0]:void 0}),H.preventDefault()}),d.on(c.events.leave,function(){var H=d.width()/2-p.lensSize/2,V=d.height()/2-p.lensSize/2;w.animate({draw:{top:V,left:H}}),B({x:H+p.lensSize/2,y:V+p.lensSize/2})})},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(c.events.move),e.off(c.events.leave),e}})}(Metro,m4q),function(c,h){var v={size:"100x100",width:null,height:null,color:"#f8f8f8",textColor:"#292929",font:"12px sans-serif",text:"",showText:!0,onImagePlaceholderCreate:c.noop};c.imagePlaceholderSetup=function(y){v=h.extend({},v,y)},typeof window.metroImagePlaceholderSetup!==void 0&&c.imagePlaceholderSetup(window.metroImagePlaceholderSetup),c.Component("image-placeholder",{init:function(y,e){return this._super(e,y,v,{width:0,height:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("image-placeholder-create")},_createStructure:function(){var y=this.element,e=this.options,n=e.size.toArray("x");this.width=e.width?e.width:n[0],this.height=e.height?e.height:n[1],y.attr("src",this._createPlaceholder())},_createEvents:function(){},_createPlaceholder:function(){var y=this.options,e=document.createElement("canvas"),n=e.getContext("2d"),o=this.width,d=this.height;return e.width=parseInt(o),e.height=parseInt(d),n.clearRect(0,0,o,d),n.fillStyle=y.color,n.fillRect(0,0,o,d),n.fillStyle=y.textColor,n.font=y.font,n.translate(o/2,d/2),n.textAlign="center",n.textBaseline="middle",y.showText&&n.fillText(y.text?y.text:o+" × "+d,0,0),e.toDataURL()},destroy:function(){this.element.remove()}})}(Metro,m4q),function(c,h){var v=c.utils,y={infoboxDeferred:0,type:"",width:480,height:"auto",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,autoHide:0,removeOnClose:!1,closeButton:!0,clsBox:"",clsBoxContent:"",clsOverlay:"",onOpen:c.noop,onClose:c.noop,onInfoBoxCreate:c.noop};c.infoBoxSetup=function(e){y=h.extend({},y,e)},typeof window.metroInfoBoxSetup!==void 0&&c.infoBoxSetup(window.metroInfoBoxSetup),c.Component("info-box",{init:function(e,n){return this._super(n,e,y,{overlay:null,id:v.elementId("info-box")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("info-box-create",{element:e})},_overlay:function(){var e=this.options,n=h("<div>");return n.addClass("overlay").addClass(e.clsOverlay),e.overlayColor==="transparent"?n.addClass("transparent"):n.css({background:c.colors.toRGBA(e.overlayColor,e.overlayAlpha)}),n},_createStructure:function(){var e,n,o=this.element,d=this.options;d.overlay===!0&&(this.overlay=this._overlay()),o.addClass("info-box").addClass(d.type).addClass(d.clsBox),(e=o.find("closer")).length===0&&(e=h("<span>").addClass("button square closer")).appendTo(o),d.closeButton!==!0&&e.hide(),(n=o.find(".info-box-content")).length>0&&n.addClass(d.clsBoxContent),o.css({width:d.width,height:d.height,visibility:"hidden",top:"100%",left:(h(window).width()-o.outerWidth())/2}),o.appendTo(h("body"))},_createEvents:function(){var e=this,n=this.element;n.on(c.events.click,".closer",function(){e.close()}),n.on(c.events.click,".js-dialog-close",function(){e.close()}),h(window).on(c.events.resize,function(){e.reposition()},{ns:this.id})},_setPosition:function(){var e=this.element;e.css({top:(h(window).height()-e.outerHeight())/2,left:(h(window).width()-e.outerWidth())/2})},reposition:function(){this._setPosition()},setContent:function(e){var n=this.element.find(".info-box-content");n.length!==0&&(n.html(e),this.reposition())},setType:function(e){this.element.removeClass("success info alert warning").addClass(e)},open:function(){var e=this,n=this.element,o=this.options;o.overlay===!0&&h(".overlay").length===0&&(this.overlay.appendTo(h("body")),o.overlayClickClose===!0&&this.overlay.on(c.events.click,function(){e.close()})),this._setPosition(),n.css({visibility:"visible"}),this._fireEvent("open"),n.data("open",!0),parseInt(o.autoHide)>0&&setTimeout(function(){e.close()},parseInt(o.autoHide))},close:function(){var e=this.element,n=this.options;n.overlay===!0&&h("body").find(".overlay").remove(),e.css({visibility:"hidden",top:"100%"}),this._fireEvent("close"),e.data("open",!1),n.removeOnClose===!0&&(this.destroy(),e.remove())},isOpen:function(){return this.element.data("open")===!0},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off("all"),h(window).off(c.events.resize,{ns:this.id}),e}}),c.infobox={isInfoBox:function(e){return v.isMetroObject(e,"infobox")},open:function(e,n,o){if(!this.isInfoBox(e))return!1;var d=c.getPlugin(e,"infobox");n!==void 0&&d.setContent(n),o!==void 0&&d.setType(o),d.open()},close:function(e){if(!this.isInfoBox(e))return!1;c.getPlugin(e,"infobox").close()},setContent:function(e,n){if(!this.isInfoBox(e))return!1;n===void 0&&(n="");var o=c.getPlugin(e,"infobox");o.setContent(n),o.reposition()},setType:function(e,n){if(!this.isInfoBox(e))return!1;var o=c.getPlugin(e,"infobox");o.setType(n),o.reposition()},isOpen:function(e){return!!this.isInfoBox(e)&&c.getPlugin(e,"infobox").isOpen()},create:function(e,n,o,d){var p,w,_,E=v.$();_=n!==void 0?n:"",p=E("<div>").appendTo(E("body")),E("<div>").addClass("info-box-content").appendTo(p);var A=E.extend({},{removeOnClose:!0,type:_},o!==void 0?o:{});return A._runtime=!0,p.infobox(A),(w=c.getPlugin(p,"infobox")).setContent(e),d!==!1&&w.open(),p}}}(Metro,m4q),function(c,h){var v=c.utils,y={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",copyInlineStyles:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"<span class='default-icon-cross'></span>",revealButtonIcon:"<span class='default-icon-eye'></span>",searchButtonIcon:"<span class='default-icon-search'></span>",customButtons:[],searchButtonClick:"submit",badge:null,clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsLabel:"",onAutocompleteSelect:c.noop,onHistoryChange:c.noop,onHistoryUp:c.noop,onHistoryDown:c.noop,onClearClick:c.noop,onRevealClick:c.noop,onSearchButtonClick:c.noop,onEnterClick:c.noop,onInputCreate:c.noop};c.inputSetup=function(e){y=h.extend({},y,e)},typeof window.metroInputSetup!==void 0&&c.inputSetup(window.metroInputSetup),c.Component("input",{init:function(e,n){return this._super(n,e,y,{history:[],historyIndex:-1,autocomplete:[]}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){var e=this,n=this.element,o=this.options,d=h("<div>").addClass("input "+n[0].className),p=h("<div>").addClass("button-group");if(v.isValue(o.historyPreset)&&(h.each(o.historyPreset.toArray(o.historyDivider),function(){e.history.push(this)}),e.historyIndex=e.history.length-1),n.attr("type")===void 0&&n.attr("type","text"),d.insertBefore(n),n.appendTo(d),p.appendTo(d),v.isValue(n.val().trim())||n.val(o.defaultValue),o.clearButton!==!0||n[0].readOnly||h("<button>").addClass("button input-clear-button").addClass(o.clsClearButton).attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon).appendTo(p),n.attr("type")==="password"&&o.revealButton===!0&&h("<button>").addClass("button input-reveal-button").addClass(o.clsRevealButton).attr("tabindex",-1).attr("type","button").html(o.revealButtonIcon).appendTo(p),o.searchButton===!0&&h("<button>").addClass("button input-search-button").addClass(o.clsSearchButton).attr("tabindex",-1).attr("type",o.searchButtonClick==="submit"?"submit":"button").html(o.searchButtonIcon).appendTo(p),v.isValue(o.prepend)&&h("<div>").html(o.prepend).addClass("prepend").addClass(o.clsPrepend).appendTo(d),v.isValue(o.append)&&h("<div>").html(o.append).addClass("append").addClass(o.clsAppend).appendTo(d),typeof o.customButtons=="string"&&(o.customButtons=v.isObject(o.customButtons)),typeof o.customButtons=="object"&&v.objectLength(o.customButtons)>0&&h.each(o.customButtons,function(){var B=this,H=h("<button>");H.addClass("button input-custom-button").addClass(o.clsCustomButton).addClass(B.cls).attr("tabindex",-1).attr("type","button").html(B.html),B.attr&&typeof B.attr=="object"&&h.each(B.attr,function(V,K){H.attr(Str.dashedName(V),K)}),H.data("action",B.onclick),H.appendTo(p)}),v.isValue(n.attr("data-exclaim"))&&d.attr("data-exclaim",n.attr("data-exclaim")),n.attr("dir")==="rtl"&&d.addClass("rtl").attr("dir","rtl"),n[0].className="",o.copyInlineStyles===!0)for(var w=0,_=n[0].style.length;w<_;w++)d.css(n[0].style[w],n.css(n[0].style[w]));if(d.addClass(o.clsComponent),n.addClass(o.clsInput),o.size!=="default"&&d.css({width:o.size}),v.isNull(o.autocomplete)&&v.isNull(o.autocompleteUrl)||h("<div>").addClass("autocomplete-list").css({maxHeight:o.autocompleteListHeight,display:"none"}).appendTo(d),v.isValue(o.autocomplete)){var E=v.isObject(o.autocomplete);this.autocomplete=E!==!1?E:o.autocomplete.toArray(o.autocompleteDivider)}if(v.isValue(o.autocompleteUrl)&&fetch(o.autocompleteUrl,{method:o.autocompleteUrlMethod}).then(function(B){return B.text()}).then(function(B){var H=[];try{H=JSON.parse(B),o.autocompleteUrlKey&&(H=H[o.autocompleteUrlKey])}catch{H=B.split(`
`)}e.autocomplete=e.autocomplete.concat(H)}),o.label){var A=h("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(d);n.attr("id")&&A.attr("for",n.attr("id")),n.attr("dir")==="rtl"&&A.addClass("rtl")}o.badge&&d.append(h("<div>").addClass("badge").html(o.badge)),n.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e=this,n=this.element,o=this.options,d=n.closest(".input"),p=d.find(".autocomplete-list");d.on(c.events.click,".input-clear-button",function(){var w=n.val();n.val(v.isValue(o.defaultValue)?o.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),p.length>0&&p.css({display:"none"}),e._fireEvent("clear-click",{prev:w,val:n.val()})}),d.on(c.events.click,".input-reveal-button",function(){n.attr("type")==="password"?n.attr("type","text"):n.attr("type","password"),e._fireEvent("reveal-click",{val:n.val()})}),d.on(c.events.click,".input-search-button",function(){o.searchButtonClick!=="submit"?e._fireEvent("search-button-click",{val:n.val(),button:this}):this.form.submit()}),d.on(c.events.click,".input-custom-button",function(){var w=h(this),_=w.data("action");v.exec(_,[n.val(),w],this)}),n.on(c.events.keyup,function(w){var _=n.val().trim();o.history&&w.keyCode===c.keyCode.ENTER&&_!==""&&(n.val(""),e.history.push(_),e.historyIndex=e.history.length-1,e._fireEvent("history-change",{val:_,history:e.history,historyIndex:e.historyIndex}),o.preventSubmit===!0&&w.preventDefault()),o.history&&w.keyCode===c.keyCode.UP_ARROW&&(e.historyIndex--,e.historyIndex>=0?(n.val(""),n.val(e.history[e.historyIndex]),e._fireEvent("history-down",{val:n.val(),history:e.history,historyIndex:e.historyIndex})):e.historyIndex=0,w.preventDefault()),o.history&&w.keyCode===c.keyCode.DOWN_ARROW&&(e.historyIndex++,e.historyIndex<e.history.length?(n.val(""),n.val(e.history[e.historyIndex]),e._fireEvent("history-up",{val:n.val(),history:e.history,historyIndex:e.historyIndex})):e.historyIndex=e.history.length-1,w.preventDefault())}),n.on(c.events.keydown,function(w){w.keyCode===c.keyCode.ENTER&&e._fireEvent("enter-click",{val:n.val()})}),n.on(c.events.blur,function(){d.removeClass("focused")}),n.on(c.events.focus,function(){d.addClass("focused")}),n.on(c.events.input,function(){var w=this.value.toLowerCase();e._drawAutocompleteList(w)}),d.on(c.events.click,".autocomplete-list .item",function(){var w=h(this).attr("data-autocomplete-value");n.val(w),p.css({display:"none"}),n.trigger("change"),e._fireEvent("autocomplete-select",{value:w})})},_drawAutocompleteList:function(e){var n,o=this,d=this.element.closest(".input").find(".autocomplete-list");d.length!==0&&(d.html(""),n=this.autocomplete.filter(function(p){return p.toLowerCase().indexOf(e)>-1}),d.css({display:n.length>0?"block":"none"}),h.each(n,function(){var p,w=this,_=w.toLowerCase().indexOf(e),E=h("<div>").addClass("item").attr("data-autocomplete-value",w);p=_===0?"<strong>"+w.substr(0,e.length)+"</strong>"+w.substr(e.length):w.substr(0,_)+"<strong>"+w.substr(_,e.length)+"</strong>"+w.substr(_+e.length),E.html(p).appendTo(d),o._fireEvent("draw-autocomplete-item",{item:E})}))},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(e){this.historyIndex=e>=this.history.length?this.history.length-1:e},setHistory:function(e,n){var o=this,d=this.options;v.isNull(e)||(Array.isArray(e)||typeof e!="string"||(e=e.toArray(d.historyDivider)),n===!0?h.each(e,function(){o.history.push(this)}):this.history=e,this.historyIndex=this.history.length-1)},clear:function(){this.element.val("")},toDefault:function(){this.element.val(v.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(e){var n=v.isObject(e);n!==!1?this.autocomplete=n:typeof e=="string"&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){var e=this.element,n=e.parent(),o=n.find(".input-clear-button"),d=n.find(".input-reveal-button"),p=n.find(".input-custom-button");return o.length>0&&o.off(c.events.click),d.length>0&&(d.off(c.events.start),d.off(c.events.stop)),p.length>0&&o.off(c.events.click),e.off(c.events.blur),e.off(c.events.focus),e}}),h(document).on(c.events.click,function(){h(".input .autocomplete-list").hide()})}(Metro,m4q),function(c,h){var v=c.utils,y={maskPattern:".",mask:null,maskPlaceholder:"_",maskEditableStart:0,thresholdInterval:300,onChar:c.noop,onInputMaskCreate:c.noop};c.inputMaskSetup=function(e){y=h.extend({},y,e)},typeof window.metroInputMaskSetup!==void 0&&c.inputMaskSetup(window.metroInputMaskSetup),c.Component("input-mask",{init:function(e,n){return h.device?(n.setAttribute&&n.setAttribute("placeholder",e.mask),void console.warn("The component input-mask can't be initialized, because you run it on a mobile device!")):(this._super(n,e,y,{pattern:null,mask:"",maskArray:[],placeholder:"",length:0,thresholdTimer:null,id:v.elementId("input-mask")}),this)},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("input-mask-create")},_createStructure:function(){var e=this.options;if(!e.mask)throw new Error("You must provide a pattern for masked input.");if(typeof e.maskPlaceholder!="string"||e.maskPlaceholder.length>1)throw new Error("Mask placeholder should be a single character or an empty string.");this.placeholder=e.maskPlaceholder,this.mask=""+e.mask,this.maskArray=this.mask.split(""),this.pattern=new RegExp("^"+e.maskPattern+"+$"),this.length=this.mask.length,this._showValue()},_createEvents:function(){var e=this,n=this.element,o=this.options,d=o.maskEditableStart,p=this.id,w=function(B){return B<e.mask.length&&e.mask.charAt(B)===e.placeholder},_=function(B){var H,V=e.maskArray;for(H=B;H<=V.length;H++)if(V[H]===e.placeholder)return H;return B},E=function(B){e.elem.setSelectionRange(B,B)},A=function(){clearInterval(e.thresholdTimer),e.thresholdTimer=null};n.on("change",function(){this.value===""&&(this.value=e.mask,E(d))},{ns:p}),n.on("focus click",function(){this.selectionStart<d&&E(d),E(_(this.selectionStart))},{ns:p}),n.on("keydown",function(B){var H=this.selectionStart,V=this.value,K=B.code,Z=B.key;if(K==="ArrowRight"||K==="End")return!0;H>=e.length&&["Backspace","Home","ArrowLeft","ArrowUp"].indexOf(K)===-1?B.preventDefault():K==="Home"||K==="ArrowUp"?(B.preventDefault(),E(d)):K==="ArrowLeft"?H-1<d&&B.preventDefault():K==="Backspace"?(B.preventDefault(),H-1>=d&&(w(H-1)&&this.value.charAt(H-1)!==e.placeholder&&(this.value=V.substr(0,H-1)+e.placeholder+V.substr(H)),E(H-1))):K==="Space"?(B.preventDefault(),E(H+1)):e.pattern.test(Z)?(B.preventDefault(),w(H)&&(this.value=V.substr(0,H)+(o.onChar===c.noop?Z:v.exec(o.onChar,[Z],this))+V.substr(H+1),E(_(H+1)))):B.preventDefault()},{ns:p}),n.on("keyup",function(){var B=this;A(),e.thresholdTimer=setInterval(function(){A(),E(_(B.selectionStart))},o.thresholdInterval)},{ns:p})},_showValue:function(){var e,n=this,o=this.elem,d=new Array(this.length);o.value?(e=o.value,h.each(this.maskArray,function(p,w){e[p]===w||n.pattern.test(e[p])?d[p]=e[p]:d[p]=n.placeholder}),this.elem.value=d.join("")):o.value=this.mask},destroy:function(){var e=this.element,n=this.id;return e.off("change",{ns:n}),e.off("focus",{ns:n}),e.off("click",{ns:n}),e.off("keydown",{ns:n}),e.off("keyup",{ns:n}),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={materialinputDeferred:0,label:"",informer:"",icon:"",permanentLabel:!1,clsComponent:"",clsInput:"",clsLabel:"",clsInformer:"",clsIcon:"",clsLine:"",onInputCreate:c.noop};c.materialInputSetup=function(e){y=h.extend({},y,e)},typeof window.metroMaterialInputSetup!==void 0&&c.materialInputSetup(window.metroMaterialInputSetup),c.Component("material-input",{init:function(e,n){return this._super(n,e,y,{history:[],historyIndex:-1}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options,o=h("<div>").addClass("input-material "+e[0].className);e[0].className="",e.attr("autocomplete","nope"),e.attr("type")===void 0&&e.attr("type","text"),o.insertBefore(e),e.appendTo(o),v.isValue(n.label)&&h("<span>").html(n.label).addClass("label").addClass(n.clsLabel).insertAfter(e),v.isValue(n.informer)&&h("<span>").html(n.informer).addClass("informer").addClass(n.clsInformer).insertAfter(e),v.isValue(n.icon)&&(o.addClass("with-icon"),h("<span>").html(n.icon).addClass("icon").addClass(n.clsIcon).insertAfter(e)),o.append(h("<hr>").addClass(n.clsLine)),n.permanentLabel===!0&&o.addClass("permanent-label"),o.addClass(n.clsComponent),e.addClass(n.clsInput),e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){},clear:function(){this.element.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){return this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={keylockDeferred:0,stateOnIcon:"<span>&times;</span>",stateOffIcon:"<span>&checkmark;</span>",transition:!0,onCaption:"",offCaption:"",captionPosition:"right",clsKeylock:"",clsStateOn:"",clsStateOff:"",clsCaption:"",clsIcon:"",clsOnCaption:"",clsOffCaption:"",onKeylockCreate:c.noop};c.keylockSetup=function(e){y=h.extend({},y,e)},typeof window.metroKeylockSetup!==void 0&&c.keylockSetup(window.metroKeylockSetup),c.Component("keylock",{init:function(e,n){return this._super(n,e,y),this},_create:function(){var e,n=this.element,o=this.options,d=h("<span>").addClass("icon").addClass(o.clsIcon),p=h("<span>").addClass("caption").addClass(o.clsCaption),w=h(o.stateOnIcon).addClass("state-on").addClass(o.clsStateOn),_=h(o.stateOffIcon).addClass("state-off").addClass(o.clsStateOff),E=h("<span>").addClass("state-on").addClass(o.clsOnCaption).html(o.onCaption),A=h("<span>").addClass("state-off").addClass(o.clsOffCaption).html(o.offCaption);n.attr("type","checkbox"),n.attr("readonly")!==void 0&&n.on("click",function(B){B.preventDefault()}),e=n.wrap(h("<label>").addClass("keylock").addClass(o.clsKeylock)),d.appendTo(e),p.appendTo(e),w.appendTo(d),_.appendTo(d),E.appendTo(p),A.appendTo(p),o.transition===!0&&e.addClass("transition-on"),o.captionPosition==="left"&&e.addClass("caption-left"),n[0].className="",n.is(":disabled")?this.disable():this.enable(),this._fireEvent("keylock-create")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(e){var n=this.element;return v.isValue(e)?n.prop("checked",e===1):n.prop("checked",!v.bool(n.prop("checked"))),this},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){return this.element}})}(Metro,m4q),function(c,h){var v={keypadDeferred:0,label:"",keySize:48,keys:"1, 2, 3, 4, 5, 6, 7, 8, 9, 0",exceptKeys:"",keySeparator:"",trimSeparator:!1,keyDelimiter:",",copyInlineStyles:!1,target:null,keyLength:0,shuffle:!1,shuffleCount:3,position:c.position.BOTTOM_LEFT,dynamicPosition:!1,serviceButtons:!0,showValue:!0,open:!1,sizeAsKeys:!1,clsKeypad:"",clsInput:"",clsKeys:"",clsKey:"",clsServiceKey:"",clsBackspace:"",clsClear:"",clsLabel:"",onChange:c.noop,onClear:c.noop,onBackspace:c.noop,onShuffle:c.noop,onKey:c.noop,onKeypadCreate:c.noop};c.keypadSetup=function(y){v=h.extend({},v,y)},typeof window.metroKeypadSetup!==void 0&&c.keypadSetup(window.metroKeypadSetup),c.Component("keypad",{init:function(y,e){return this._super(e,y,v,{value:e.tagName==="INPUT"?e.value:e.innerText,positions:["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],keypad:null,keys:[],keys_to_work:[],exceptKeys:[]}),this},_create:function(){var y=this.element,e=this.options;this.keys=e.keys.toArray(e.keyDelimiter),this.keys_to_work=this.keys,this.exceptKeys=e.exceptKeys.toArray(e.keyDelimiter),this._createKeypad(),e.shuffle===!0&&this.shuffle(),this._createKeys(),this._createEvents(),this._fireEvent("keypad-create",{element:y})},_createKeypad:function(){var y,e,n=this.element,o=this.options,d=n.parent();if((y=d.hasClass("input")?d:h("<div>").addClass("input").addClass(n[0].className)).addClass("keypad"),y.css("position")!=="static"&&y.css("position")!==""||y.css({position:"relative"}),n.attr("type")===void 0&&n.attr("type","text"),y.insertBefore(n),n.attr("readonly",!0),n.appendTo(y),(e=h("<div>").addClass("keys").addClass(o.clsKeys)).appendTo(y),this._setKeysPosition(),o.open===!0&&e.addClass("open keep-open"),n[0].className="",o.copyInlineStyles===!0)for(var p=0,w=n[0].style.length;p<w;p++)y.css(n[0].style[p],n.css(n[0].style[p]));if(n.addClass(o.clsInput),y.addClass(o.clsKeypad),n.on(c.events.blur,function(){y.removeClass("focused")}),n.on(c.events.focus,function(){y.addClass("focused")}),o.label){var _=h("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(y);n.attr("id")&&_.attr("for",n.attr("id")),n.attr("dir")==="rtl"&&_.addClass("rtl")}o.disabled===!0||n.is(":disabled")?this.disable():this.enable(),this.keypad=y},_setKeysPosition:function(){var y=this.element,e=this.options;y.parent().find(".keys").removeClass(this.positions.join(" ")).addClass(e.position)},_createKeys:function(){var y,e,n=this.element,o=this.options,d=n.parent(),p=d.find(".keys"),w=Math.round(Math.sqrt(this.keys.length+2)),_=o.keySize;p.html(""),h.each(this.keys_to_work,function(){(y=h("<span>").addClass("key").addClass(o.clsKey).html(this)).data("key",this),y.css({width:o.keySize,height:o.keySize,lineHeight:o.keySize-4}).appendTo(p)}),o.serviceButtons===!0&&h.each(["&larr;","&times;"],function(){y=h("<span>").addClass("key service-key").addClass(o.clsKey).addClass(o.clsServiceKey).html(this),this==="&larr;"&&y.addClass(o.clsBackspace),this==="&times;"&&y.addClass(o.clsClear),y.data("key",this),y.css({width:o.keySize,height:o.keySize,lineHeight:o.keySize-4}).appendTo(p)}),e=w*(_+2)-6,p.outerWidth(e),o.sizeAsKeys===!0&&["top-left","top","top-right","bottom-left","bottom","bottom-right"].indexOf(o.position)!==-1&&d.outerWidth(p.outerWidth())},_createEvents:function(){var y=this,e=this.element,n=this.options,o=e.parent(),d=o.find(".keys");d.on(c.events.click,".key",function(p){var w,_=h(this),E=_.data("key");if(_.data("key")!=="&larr;"&&_.data("key")!=="&times;"){if(n.keyLength>0&&(""+y.value).length===n.keyLength)return!1;y.exceptKeys.indexOf(E)===-1&&(y.value=y.value+(y.value!==""?n.keySeparator:"")+E),n.shuffle===!0&&(y.shuffle(),y._createKeys()),n.dynamicPosition===!0&&(n.position=y.positions[h.random(0,y.positions.length-1)],y._setKeysPosition()),y._fireEvent("key",{key:_.data("key"),val:y.value})}else _.data("key")==="&times;"&&(y.value="",y._fireEvent("clear")),_.data("key")==="&larr;"&&(w=n.keySeparator&&y.value[y.value.length-1]!==n.keySeparator?2:1,y.value=y.value.substring(0,y.value.length-w),y._fireEvent("backspace",{val:y.value}));n.showValue===!0&&(e[0].tagName==="INPUT"?e.val(y.value):e.text(y.value)),y._fireEvent("change",{val:y.val}),p.preventDefault(),p.stopPropagation()}),o.on(c.events.click,function(p){n.open!==!0&&(d.hasClass("open")===!0?d.removeClass("open"):d.addClass("open"),p.preventDefault(),p.stopPropagation())}),n.target!==null&&e.on(c.events.change,function(){var p=h(n.target);p.length!==0&&(p[0].tagName==="INPUT"?p.val(y.value):p.text(y.value))})},shuffle:function(){for(var y=this.options,e=0;e<y.shuffleCount;e++)this.keys_to_work=this.keys_to_work.shuffle();this._fireEvent("shuffle",{keysToWork:this.keys_to_work,keys:this.keys})},shuffleKeys:function(y){y===void 0&&(y=this.options.shuffleCount);for(var e=0;e<y;e++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(y){var e=this.element,n=this.options;return y===void 0?n.trimSeparator?this.value.replace(new RegExp(n.keySeparator,"g")):this.value:(this.value=""+y,e[0].tagName==="INPUT"?e.val(y):e.text(y),this)},open:function(){this.element.parent().find(".keys").addClass("open")},close:function(){this.element.parent().find(".keys").removeClass("open")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setPosition:function(y){var e=y!==void 0?y:this.element.attr("data-position");this.positions.indexOf(e)!==-1&&(this.options.position=e,this._setKeysPosition())},changeAttribute:function(y){switch(y){case"disabled":this.toggleState();break;case"data-position":this.setPosition()}},destroy:function(){var y=this.element,e=this.keypad,n=e.find(".keys");return e.off(c.events.click),n.off(c.events.click,".key"),y.off(c.events.change),y}}),h(document).on(c.events.click,function(){var y=h(".keypad .keys");h.each(y,function(){h(this).hasClass("keep-open")||h(this).removeClass("open")})})}(Metro,m4q),function(c,h){var v={loop:!0,source:"img",iconClose:"<span class='default-icon-cross'>",iconPrev:"<span class='default-icon-chevron-left'>",iconNext:"<span class='default-icon-chevron-right'>",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:c.noop,onLightboxCreate:c.noop};c.lightboxSetup=function(y){v=h.extend({},v,y)},typeof window.metroLightboxSetup!==void 0&&c.lightboxSetup(window.metroLightboxSetup),c.Component("lightbox",{init:function(y,e){return this._super(e,y,v,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){var y=this.options;y.source||(y.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){var y,e,n=this.options;(e=h(".lightbox-overlay")).length===0&&(e=h("<div>").addClass("lightbox-overlay").appendTo("body").hide()),y=h("<div>").addClass("lightbox").addClass(n.clsLightbox).appendTo("body").hide(),h("<span>").addClass("lightbox__prev").addClass(n.clsPrev).html(n.iconPrev).appendTo(y),h("<span>").addClass("lightbox__next").addClass(n.clsNext).html(n.iconNext).appendTo(y),h("<span>").addClass("lightbox__closer").addClass(n.clsClose).html(n.iconClose).appendTo(y),h("<div>").addClass("lightbox__image").addClass(n.clsImageContainer).appendTo(y),this.component=y[0],this.lightbox=y,this.overlay=e},_createEvents:function(){var y=this,e=this.element,n=this.options,o=h(this.component);e.on(c.events.click,n.source,function(){y.open(this)}),o.on(c.events.click,".lightbox__closer",function(){y.close()}),o.on(c.events.click,".lightbox__prev",function(){y.prev()}),o.on(c.events.click,".lightbox__next",function(){y.next()})},_setupItems:function(){var y=this.element,e=this.options,n=y.find(e.source);n.length!==0&&(this.items=n)},_goto:function(y){var e,n,o,d,p=this,w=this.options,_=h(y),E=h("<img>");(n=this.lightbox.find(".lightbox__image")).find(".lightbox__image-wrapper").remove(),o=h("<div>").addClass("lightbox__image-wrapper").addClass(w.clsImageWrapper).attr("data-title",_.attr("alt")||_.attr("data-title")||"").appendTo(n),d=h("<div>").appendTo(o),c.makePlugin(d,"activity",{type:"cycle",style:"color"}),this.current=y,y.tagName!=="IMG"&&y.tagName!=="DIV"||(e=_.attr("data-original")||_.attr("src"),E.attr("src",e),E[0].onload=function(){var A=this.height>this.width;E.addClass(A?"lightbox__image-portrait":"lightbox__image-landscape").addClass(w.clsImage),E.attr("alt",_.attr("alt")),E.appendTo(o),d.remove(),p._fireEvent("draw-image",{image:E[0],item:o[0]})})},_index:function(y){var e=-1;return this.items.each(function(n){this===y&&(e=n)}),e},next:function(){var y,e=this.current;if((y=this._index(e))+1>=this.items.length){if(!this.options.loop)return;y=-1}this._goto(this.items[y+1])},prev:function(){var y,e=this.current;if((y=this._index(e))-1<0){if(!this.options.loop)return;y=this.items.length}this._goto(this.items[y-1])},open:function(y){return this._setupItems(),this._goto(y),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:function(){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(c,h){var v=c.utils,y={locale:METRO_LOCALE,listDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationShortMode:!0,thousandSeparator:",",decimalSeparator:",",itemTag:"li",defaultTemplateTag:"div",sortClass:null,sortDir:"asc",sortInitial:!0,filterClass:null,filter:null,filterString:"",filters:null,source:null,showItemsSteps:!1,showSearch:!1,showListInfo:!1,showPagination:!1,showActivity:!0,muteList:!0,items:-1,itemsSteps:"all, 10,25,50,100",itemsAllTitle:"Show all",listItemsCountTitle:"Show entries:",listSearchTitle:"Search:",listInfoTitle:"Showing $1 to $2 of $3 entries",paginationPrevTitle:"Prev",paginationNextTitle:"Next",activityType:"cycle",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,clsComponent:"",clsList:"",clsListItem:"",clsListTop:"",clsItemsCount:"",clsSearch:"",clsListBottom:"",clsListInfo:"",clsListPagination:"",clsPagination:"",clsTemplateTag:"",onDraw:c.noop,onDrawItem:c.noop,onSortStart:c.noop,onSortStop:c.noop,onSortItemSwitch:c.noop,onSearch:c.noop,onRowsCountChange:c.noop,onDataLoad:c.noop,onDataLoaded:c.noop,onDataLoadError:c.noop,onFilterItemAccepted:c.noop,onFilterItemDeclined:c.noop,onListCreate:c.noop};c.listSetup=function(e){y=h.extend({},y,e)},typeof window.metroListSetup!==void 0&&c.listSetup(window.metroListSetup),c.Component("list",{init:function(e,n){return this._super(n,e,y,{currentPage:1,pagesCount:1,filterString:"",data:null,activity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,filterIndex:null,filtersIndexes:[],itemTemplate:null,sort:{dir:"asc",colIndex:0},header:null,items:[]}),this},_create:function(){var e=this,n=this.options;n.source?(e._fireEvent("data-load",{source:n.source}),fetch(n.source).then(c.fetch.status).then(c.fetch.json).then(function(o){e._fireEvent("data-loaded",{source:n.source,data:o}),e._build(o)}).catch(function(o){e._fireEvent("data-load-error",{source:n.source,error:o})})):e._build()},_build:function(e){v.isValue(e)?this._createItemsFromJSON(e):this._createItemsFromHTML(),this._createStructure(),this._createEvents(),this._fireEvent("list-create")},_createItemsFromHTML:function(){var e=this,n=this.element,o=this.options,d=(""+o.clsTemplateTag).toArray(",");this.items=[],h.each(n.children(o.itemTag),function(){var p=h(this).children("*");d.length&&(d.length===1?p.addClass(d[0]):p.each(function(w,_){h(_).addClass(d[w]?d[w]:d[d.length-1])})),e.items.push(this)})},_createItemsFromJSON:function(e){var n=this,o=this.options,d=(""+o.clsTemplateTag).toArray(",");this.items=[],v.isValue(e.template)&&(this.itemTemplate=e.template),v.isValue(e.header)&&(this.header=e.header),v.isValue(e.data)&&h.each(e.data,function(){var p,w="",_=this,E=document.createElement(o.itemTag),A=n.itemTemplate;if(v.isValue(A))w=c.template(A,_,{beginToken:o.templateBeginToken,endToken:o.templateEndToken});else for(var B in _)w+="<"+o.defaultTemplateTag+">"+_[B]+"</"+o.defaultTemplateTag+">";E.innerHTML=w,p=h(E).children("*"),d.length&&(d.length===1?p.addClass(d[0]):p.each(function(H,V){h(V).addClass(d[H]?d[H]:d[d.length-1])})),n.items.push(E)})},_createTopBlock:function(){var e,n,o,d,p=this,w=this.element,_=this.options,E=h("<div>").addClass("list-top").addClass(_.clsListTop).insertBefore(w);return e=v.isValue(this.wrapperSearch)?this.wrapperSearch:h("<div>").addClass("list-search-block").addClass(_.clsSearch).appendTo(E),n=h("<input>").attr("type","text").appendTo(e),c.makePlugin(n,"input",{prepend:_.listSearchTitle}),_.showSearch!==!0&&e.hide(),o=v.isValue(this.wrapperRows)?this.wrapperRows:h("<div>").addClass("list-rows-block").addClass(_.clsItemsCount).appendTo(E),d=h("<select>").appendTo(o),h.each(_.itemsSteps.toArray(),function(){var A=h("<option>").attr("value",this==="all"?-1:this).text(this==="all"?_.itemsAllTitle:this).appendTo(d);+this==+_.items&&A.attr("selected","selected")}),d.select({filter:!1,prepend:_.listItemsCountTitle,onChange:function(A){+A!=+_.items&&(_.items=parseInt(A),p.currentPage=1,p._draw(),p._fireEvent("rows-count-change",{val:A}))}}),_.showItemsSteps!==!0&&o.hide(),E},_createBottomBlock:function(){var e,n,o=this.element,d=this.options,p=h("<div>").addClass("list-bottom").addClass(d.clsListBottom).insertAfter(o);return e=h("<div>").addClass("list-info").addClass(d.clsListInfo).appendTo(p),d.showListInfo!==!0&&e.hide(),n=h("<div>").addClass("list-pagination").addClass(d.clsListPagination).appendTo(p),d.showPagination!==!0&&n.hide(),p},_createStructure:function(){var e,n,o=this,d=this.element,p=this.options,w=h(p.searchWrapper),_=h(p.infoWrapper),E=h(p.rowsWrapper),A=h(p.paginationWrapper);w.length>0&&(this.wrapperSearch=w),_.length>0&&(this.wrapperInfo=_),E.length>0&&(this.wrapperRows=E),A.length>0&&(this.wrapperPagination=A),d.parent().hasClass("list-component")?e=d.parent():(e=h("<div>").addClass("list-component").insertBefore(d),d.appendTo(e)),e.addClass(p.clsComponent),this.activity=h("<div>").addClass("list-progress").appendTo(e),h("<div>").activity({type:p.activityType,style:p.activityStyle}).appendTo(this.activity),p.showActivity!==!0&&this.activity.css({visibility:"hidden"}),d.addClass(p.clsList),this._createTopBlock(),this._createBottomBlock(),v.isValue(p.filterString)&&(this.filterString=p.filterString),v.isValue(p.filter)&&((n=v.isFunc(p.filter))===!1&&(n=v.func(p.filter)),o.filterIndex=o.addFilter(n)),v.isValue(p.filters)&&typeof p.filters=="string"&&h.each(p.filters.toArray(),function(){(n=v.isFunc(this))!==!1&&o.filtersIndexes.push(o.addFilter(n))}),this.currentPage=1,p.sortInitial!==!1?this.sorting(p.sortClass,p.sortDir,!0):this.draw()},_createEvents:function(){var e,n=this,o=this.element.parent();function d(p){var w=h(p),_=w.parent();_.hasClass("active")||(_.hasClass("service")?w.data("page")==="prev"?(n.currentPage--,n.currentPage===0&&(n.currentPage=1)):(n.currentPage++,n.currentPage>n.pagesCount&&(n.currentPage=n.pagesCount)):n.currentPage=w.data("page"),n._draw())}o.find(".list-search-block input").on(c.events.inputchange,function(){n.filterString=this.value.trim().toLowerCase(),n.filterString[n.filterString.length-1]!==":"&&(n.currentPage=1,n._draw())}),v.isValue(this.wrapperSearch)&&(e=this.wrapperSearch.find("input")).length>0&&e.on(c.events.inputchange,function(){n.filterString=this.value.trim().toLowerCase(),n.filterString[n.filterString.length-1]!==":"&&(n.currentPage=1,n._draw())}),o.on(c.events.click,".pagination .page-link",function(){d(this)}),v.isValue(this.wrapperPagination)&&this.wrapperPagination.on(c.events.click,".pagination .page-link",function(){d(this)})},_info:function(e,n,o){var d,p=this.element,w=this.options,_=p.parent(),E=v.isValue(this.wrapperInfo)?this.wrapperInfo:_.find(".list-info");E.length!==0&&(n>o&&(n=o),this.items.length===0&&(e=n=o=0),d=(d=(d=(d=w.listInfoTitle).replace("$1",e)).replace("$2",n)).replace("$3",o),E.html(d))},_paging:function(e){var n=this.element,o=this.options,d=n.parent();this.pagesCount=Math.ceil(e/o.items),c.pagination({length:e,rows:o.items,current:this.currentPage,target:v.isValue(this.wrapperPagination)?this.wrapperPagination:d.find(".list-pagination"),claPagination:o.clsPagination,prevTitle:o.paginationPrevTitle,nextTitle:o.paginationNextTitle,distance:o.paginationShortMode===!0?o.paginationDistance:0})},_filter:function(){var e,n,o,d,p,w,_=this,E=this.options;return v.isValue(this.filterString)||this.filters.length>0?(e=this.items.filter(function(A){if(o="",v.isValue(E.filterClass)){if((d=A.getElementsByClassName(E.filterClass)).length>0)for(n=0;n<d.length;n++)o+=d[n].textContent}else o=A.textContent;if(p=o.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),(w=!v.isValue(_.filterString)||p.indexOf(_.filterString)>-1)&&_.filters.length>0){for(n=0;n<_.filters.length;n++)if(v.exec(_.filters[n],[A])!==!0){w=!1;break}}return w?_._fireEvent("filter-item-accepted",{item:A}):_._fireEvent("filter-item-declined",{item:A}),w}),_._fireEvent("search",{search:_.filterString,items:e})):e=this.items,e},_draw:function(e){var n,o,d=this.element,p=this.options,w=p.items===-1?0:p.items*(this.currentPage-1),_=p.items===-1?this.items.length-1:w+p.items-1;for(o=this._filter(),d.children(p.itemTag).remove(),n=w;n<=_;n++)v.isValue(o[n])&&h(o[n]).addClass(p.clsListItem).appendTo(d),this._fireEvent("draw-item",{item:o[n]});this._info(w+1,_+1,o.length),this._paging(o.length),this.activity.hide(),this._fireEvent("draw"),e!==void 0&&v.exec(e,[d],d[0])},_getItemContent:function(e){var n,o,d,p,w=this.options,_=h(e),E=v.isValue(_.data("formatMask"))?_.data("formatMask"):null;if(v.isValue(w.sortClass)){if(d="",(o=h(e).find("."+w.sortClass)).length>0)for(n=0;n<o.length;n++)d+=o[n].textContent;p=o.length>0?o[0].getAttribute("data-format"):""}else d=e.textContent,p=e.getAttribute("data-format");if(d=(""+d).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),v.isValue(p))switch(["number","int","integer","float","money"].indexOf(p)===-1||w.thousandSeparator===","&&w.decimalSeparator==="."||(d=v.parseNumber(d,w.thousandSeparator,w.decimalSeparator)),p){case"date":d=E?Datetime.from(d,E,w.locale):datetime(d);break;case"number":d=Number(d);break;case"int":case"integer":d=parseInt(d);break;case"float":d=parseFloat(d);break;case"money":d=v.parseMoney(d);break;case"card":d=v.parseCard(d);break;case"phone":d=v.parsePhone(d)}return d},deleteItem:function(e){var n,o,d=[],p=v.isFunc(e);for(n=0;n<this.items.length;n++)o=this.items[n],p?v.exec(e,[o])&&d.push(n):o.textContent.includes(e)&&d.push(n);return this.items=v.arrayDeleteByMultipleKeys(this.items,d),this},draw:function(){return this._draw()},sorting:function(e,n,o){var d=this,p=this.options;return v.isValue(e)&&(p.sortClass=e),v.isValue(n)&&["asc","desc"].indexOf(n)>-1&&(p.sortDir=n),this._fireEvent("sort-start",{items:this.items}),this.items.sort(function(w,_){var E=d._getItemContent(w),A=d._getItemContent(_),B=0;return E<A&&(B=p.sortDir==="asc"?-1:1),E>A&&(B=p.sortDir==="asc"?1:-1),B!==0&&d._fireEvent("sort-item-switch",{a:w,b:_,result:B}),B}),this._fireEvent("sort-stop",{items:this.items}),o===!0&&this._draw(),this},filter:function(e){this.filterString=e.trim().toLowerCase(),this.currentPage=1,this._draw()},setData:function(e){var n,o=this,d=this.element,p=this.options;v.isValue(e)===!0&&(o._createItemsFromJSON(e),d.html(""),v.isValue(p.filterString)&&(o.filterString=p.filterString),v.isValue(p.filter)&&((n=v.isFunc(p.filter))===!1&&(n=v.func(p.filter)),o.filterIndex=o.addFilter(n)),v.isValue(p.filters)&&typeof p.filters=="string"&&h.each(p.filters.toArray(),function(){(n=v.isFunc(this))!==!1&&o.filtersIndexes.push(o.addFilter(n))}),o.currentPage=1,o.sorting(p.sortClass,p.sortDir,!0))},loadData:function(e){var n=this,o=this.options;v.isValue(e)===!0&&(o.source=e,this._fireEvent("data-load",{source:o.source}),fetch(o.source).then(c.fetch.status).then(c.fetch.json).then(function(d){n._fireEvent("data-loaded",{source:o.source,data:d}),n.setData(d)}).catch(function(d){n._fireEvent("data-load-error",{source:o.source,error:d})}))},next:function(){this.items.length!==0&&(this.currentPage++,this.currentPage>this.pagesCount?this.currentPage=this.pagesCount:this._draw())},prev:function(){this.items.length!==0&&(this.currentPage--,this.currentPage!==0?this._draw():this.currentPage=1)},first:function(){this.items.length!==0&&(this.currentPage=1,this._draw())},last:function(){this.items.length!==0&&(this.currentPage=this.pagesCount,this._draw())},page:function(e){e<=0&&(e=1),e>this.pagesCount&&(e=this.pagesCount),this.currentPage=e,this._draw()},addFilter:function(e,n){var o=v.isFunc(e);if(o!==!1)return this.filters.push(o),n===!0&&(this.currentPage=1,this.draw()),this.filters.length-1},removeFilter:function(e,n){return v.arrayDeleteByKey(this.filters,e),n===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){this.filters=[],e===!0&&(this.currentPage=1,this.draw())},getFilters:function(){return this.filters},getFilterIndex:function(){return this.filterIndex},getFiltersIndexes:function(){return this.filtersIndexes},changeAttribute:function(e){var n,o,d,p=this,w=this.element,_=this.options;switch(e){case"data-sort-dir":d=w.attr("data-sort-dir"),v.isValue(d)&&(_.sortDir=d,p.sorting(_.sortClass,_.sortDir,!0));break;case"data-sort-source":o=w.attr("data-sort-source"),v.isValue(o)&&(_.sortClass=o,p.sorting(_.sortClass,_.sortDir,!0));break;case"data-filter-string":n=w.attr("data-filter-string"),v.isValue(n)&&(_.filterString=n,p.filter(_.filterString))}},destroy:function(){var e,n=this.element,o=n.parent();return o.find(".list-search-block input").off(c.events.inputchange),v.isValue(this.wrapperSearch)&&(e=this.wrapperSearch.find("input")).length>0&&e.off(c.events.inputchange),o.off(c.events.click,".pagination .page-link"),v.isValue(this.wrapperPagination)&&this.wrapperPagination.off(c.events.click,".pagination .page-link"),n}})}(Metro,m4q),function(c,h){var v=c.utils,y={listviewDeferred:0,selectable:!1,checkStyle:1,duration:100,view:c.listView.LIST,selectCurrent:!0,structure:{},onNodeInsert:c.noop,onNodeDelete:c.noop,onNodeClean:c.noop,onCollapseNode:c.noop,onExpandNode:c.noop,onGroupNodeClick:c.noop,onNodeClick:c.noop,onNodeDblclick:c.noop,onListViewCreate:c.noop};c.listViewSetup=function(e){y=h.extend({},y,e)},typeof window.metroListViewSetup!==void 0&&c.listViewSetup(window.metroListViewSetup),c.Component("listview",{init:function(e,n){return this._super(n,e,y),this},_create:function(){var e=this.element;this._createView(),this._createEvents(),this._fireEvent("listview-create",{element:e})},_createIcon:function(e){var n,o;return o=v.isTag(e)?h(e):h("<img>").attr("src",e),(n=h("<span>").addClass("icon")).html(o.outerHTML()),n},_createCaption:function(e){return h("<div>").addClass("caption").html(e)},_createContent:function(e){return h("<div>").addClass("content").html(e)},_createToggle:function(){return h("<span>").addClass("node-toggle")},_createNode:function(e){var n,o=this.options;if(n=h("<li>"),e.caption!==void 0||e.content!==void 0){var d=h("<div>").addClass("data");n.prepend(d),e.caption!==void 0&&d.append(this._createCaption(e.caption)),e.content!==void 0&&d.append(this._createContent(e.content))}if(e.icon!==void 0&&n.prepend(this._createIcon(e.icon)),v.objectLength(o.structure)>0&&h.each(o.structure,function(p,w){e[p]!==void 0&&h("<div>").addClass("node-data item-data-"+p).addClass(e[w]).html(e[p]).appendTo(n)}),e.attributes&&v.isObject(e.attributes))for(let p in e.attributes)n.attr(`data-${p}`,e.attributes[p]);if(e.class&&n.addClass(e.class),e.badge&&n.append(h("<span>").addClass("badge").html(e.badge)),e.badges){const p=h("<div>").addClass("badges").appendTo(n);e.badges.map(w=>{w&&p.append(h(w))})}return n},_createView:function(){var e=this,n=this.element,o=this.options,d=n.find("li"),p=v.objectLength(o.structure);n.addClass("listview"),n.find("ul").addClass("listview"),h.each(d,function(){var w=h(this);if(w.data("caption")!==void 0||w.data("content")!==void 0){var _=h("<div>").addClass("data");w.prepend(_),w.data("caption")!==void 0&&_.append(e._createCaption(w.data("caption"))),w.data("content")!==void 0&&_.append(e._createContent(w.data("content")))}if(w.data("icon")!==void 0&&w.prepend(e._createIcon(w.data("icon"))),w.children("ul").length>0?(w.addClass("node-group"),w.append(e._createToggle()),w.data("collapsed")!==!0&&w.addClass("expanded")):w.addClass("node"),w.hasClass("node")){var E=h("<input type='checkbox' data-role='checkbox' data-style='"+o.checkStyle+"'>");E.data("node",w),w.prepend(E)}p>0&&h.each(o.structure,function(A){w.data(A)!==void 0&&h("<div>").addClass("node-data item-data-"+A).addClass(w.data(A)).html(w.data(A)).appendTo(w)}),w.data("class")!==void 0&&w.addClass(w.data("class"))}),this.toggleSelectable(),this.view(o.view)},_createEvents:function(){var e=this,n=this.element,o=this.options;n.on(c.events.dblclick,".node",function(){var d=h(this);e._fireEvent("node-dblclick",{node:d})}),n.on(c.events.click,".node",function(){var d=h(this),p=h(this).attr("href");p?window.location.href=p:(n.find(".node").removeClass("current"),d.toggleClass("current"),o.selectCurrent===!0&&(n.find(".node").removeClass("current-select"),d.toggleClass("current-select")),e._fireEvent("node-click",{node:d}))}),n.on(c.events.click,".node-toggle",function(){var d=h(this).closest("li");e.toggleNode(d)}),n.on(c.events.click,".node-group > .data > .caption",function(){var d=h(this).closest("li");n.find(".node-group").removeClass("current-group"),d.addClass("current-group"),e._fireEvent("group-node-click",{node:d})}),n.on(c.events.dblclick,".node-group > .data > .caption",function(){var d=h(this).closest("li");e.toggleNode(d),e._fireEvent("node-dbl-click",{node:d})})},view:function(e){var n=this.element,o=this.options;if(e===void 0)return o.view;o.view=e,h.each(c.listView,function(d,p){n.removeClass("view-"+p),n.find("ul").removeClass("view-"+p)}),n.addClass("view-"+o.view),n.find("ul").addClass("view-"+o.view)},toggleNode:function(e){var n,o=this.options;(e=h(e)).hasClass("node-group")&&(e.toggleClass("expanded"),n=e.hasClass("expanded")!==!0?"slideUp":"slideDown",this._fireEvent("collapse-node",{node:e}),e.children("ul")[n](o.duration))},toggleSelectable:function(){var e=this.element,n=this.options.selectable===!0?"addClass":"removeClass";e[n]("selectable"),e.find("ul")[n]("selectable")},add:function(e,n){var o,d,p=this.element,w=this.options;if(e===null)o=p;else{if(!(e=h(e)).hasClass("node-group"))return;(o=e.children("ul")).length===0&&(o=h("<ul>").addClass("listview").addClass("view-"+w.view).appendTo(e),this._createToggle().appendTo(e),e.addClass("expanded"))}(d=this._createNode(n)).addClass("node").appendTo(o);var _=h("<input type='checkbox'>");return _.data("node",d),d.prepend(_),c.makePlugin(_,"checkbox",{}),this._fireEvent("node-insert",{newNode:d,parentNode:e,list:o}),d},addGroup:function(e){var n,o=this.element,d=this.options;return delete e.icon,(n=this._createNode(e)).addClass("node-group").appendTo(o),n.append(this._createToggle()),n.addClass("expanded"),n.append(h("<ul>").addClass("listview").addClass("view-"+d.view)),this._fireEvent("node-insert",{newNode:n,parentNode:null,list:o}),n},insertBefore:function(e,n){var o,d,p;if((e=h(e)).length)return(o=this._createNode(n)).addClass("node").insertBefore(e),d=o.closest(".node"),p=o.closest("ul"),this._fireEvent("node-insert",{newNode:o,parentNode:d,list:p}),o},insertAfter:function(e,n){var o,d,p;if((e=h(e)).length)return(o=this._createNode(n)).addClass("node").insertAfter(e),d=o.closest(".node"),p=o.closest("ul"),this._fireEvent("node-insert",{newNode:o,parentNode:d,list:p}),o},del:function(e){var n=this.element;if((e=h(e)).length){var o=e.closest("ul"),d=o.closest("li");e.remove(),o.children().length!==0||o.is(n)||(o.remove(),d.removeClass("expanded"),d.children(".node-toggle").remove()),this._fireEvent("node-delete",{node:e})}},clean:function(e){(e=h(e)).length&&(e.children("ul").remove(),e.removeClass("expanded"),e.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:e}))},getSelected:function(){var e=this.element,n=[];return h.each(e.find(":checked"),function(){var o=h(this);n.push(o.closest(".node")[0])}),n},clearSelected:function(){this.element.find(":checked").prop("checked",!1),this.element.trigger("change")},selectAll:function(e){this.element.find(".node > .checkbox input").prop("checked",e!==!1),this.element.trigger("change")},selectByAttribute:function(e,n,o){o!==!1&&(o=!0),this.element.find("li["+e+'="'+n+'"] > .checkbox input').prop("checked",o),this.element.trigger("change")},changeAttribute:function(e){var n,o=this,d=this.element,p=this.options;switch(e){case"data-view":n="view-"+d.attr("data-view"),o.view(n);break;case"data-selectable":p.selectable=JSON.parse(d.attr("data-selectable"))===!0,o.toggleSelectable()}},destroy:function(){var e=this.element;return e.off(c.events.click,".node"),e.off(c.events.click,".node-toggle"),e.off(c.events.click,".node-group > .data > .caption"),e.off(c.events.dblclick,".node-group > .data > .caption"),e}})}(Metro,m4q),function(c,h){var v={items:null,backgroundColor:"#fff",color:"#000",borderSize:0,borderColor:"transparent",loop:!0,height:"auto",width:"auto",duration:1e4,direction:"left",ease:"linear",mode:"default",accentPause:2e3,firstPause:1e3,stopOnHover:!1,clsMarquee:"",clsMarqueeItem:"",onMarqueeItem:c.noop,onMarqueeItemComplete:c.noop,onMarqueeComplete:c.noop,onMarqueeCreate:c.noop};c.marqueeSetup=function(y){v=h.extend({},v,y)},typeof window.metroMarqueeSetup!==void 0&&c.marqueeSetup(window.metroMarqueeSetup),c.Component("marquee",{init:function(y,e){return this._super(e,y,v,{items:[],running:!1,current:-1}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("marquee-create")},_createStructure:function(){var y=this.element,e=this.options;y.addClass("marquee").addClass(e.clsMarquee),y.css({height:e.height,width:e.width,backgroundColor:c.colors.isColor(e.backgroundColor)?e.backgroundColor:v.backgroundColor,color:c.colors.isColor(e.color)?e.color:v.color,borderStyle:"solid",borderWidth:e.borderSize,borderColor:c.colors.isColor(e.borderColor)?e.borderColor:v.borderColor}),this.setItems(e.items),this.items.length&&(this.current=0),this.items.length&&this.start()},setItems:function(y,e){var n,o=this.element,d=this.options,p=d.direction.toLowerCase();return(y=c.utils.isObject(y))&&e&&o.clear(),y!==!1&&h.each(y,function(){var w=h(this);w.length?w.appendTo(o):o.append(h("<div>").html(this))}),this.items=o.children("*").addClass("marquee__item").addClass(d.clsMarqueeItem).items(),p==="left"||p==="right"?h(this.items).addClass("moveLeftRight"):h(this.items).addClass("moveUpDown"),d.height==="auto"&&(n=0,h(this.items).each(function(){+h(this).outerHeight(!0)>n&&(n=+h(this).outerHeight(!0))}),o.height(n)),this},setItem:function(y,e){var n,o=h(this.items[y]),d=this.options,p=this.element;if(o.length)return o.html(e),d.height==="auto"&&(n=0,h(this.items).each(function(){+h(this).outerHeight(!0)>n&&(n=+h(this).outerHeight(!0))}),p.height(n)),this},addItem:function(y,e){var n,o,d=this.element,p=h(y);return n=p.length?p:h("<div>").html(y),c.utils.isNull(e)?d.append(n):(o=this.items[e])?n.insertBefore(o):d.append(n),this},_createEvents:function(){var y=this,e=this.element,n=this.options;e.on(c.events.enter,function(){n.stopOnHover&&h.pauseAll(y.items)}),e.on(c.events.leave,function(){n.stopOnHover&&h.resumeAll(y.items)})},start:function(){var y=this.element,e=this.options,n=[],o=e.direction.toLowerCase(),d=e.mode.toLowerCase(),p=20,w=e.ease.toArray(","),_=+e.duration;return d==="default"?h.each(this.items,function(E){var A,B=h(this);B.attr("data-direction")&&(o=B.attr("data-direction").toLowerCase()),B.attr("data-duration")&&(_=+B.attr("data-duration")),A=["left","right"].indexOf(o)>-1?{left:o==="left"?[y.width(),-h(this).width()-p]:[-h(this).width()-p,y.width()]}:{top:o==="up"?[y.height(),-h(this).height()-p]:[-h(this).height()-p,y.height()]},n.push({el:this,draw:A,dur:_,ease:"linear",defer:E===0?+e.firstPause:0})}):h.each(this.items,function(E){var A,B,H,V=h(this);_=e.duration/2,V.attr("data-direction")&&(o=V.attr("data-direction").toLowerCase()),V.attr("data-duration")&&(_=+V.attr("data-duration")/2),V.attr("data-ease")&&(w=V.attr("data-ease").toArray(",")),["left","right"].indexOf(o)>-1?(A=y.width()/2-h(this).width()/2,B={left:o==="left"?[y.width(),A]:[-h(this).width()-p,A]},H={left:o==="left"?[A,-h(this).width()-p]:[A,y.width()+p]}):(A=y.height()/2-h(this).height()/2,B={top:o==="up"?[y.height(),A]:[-h(this).height()-p,A]},H={top:o==="up"?[A,-h(this).height()-p]:[A,y.height()+p]}),n.push({el:this,draw:B,dur:_,ease:w[0]||"linear",defer:E===0?+e.firstPause:0}),n.push({el:this,draw:H,dur:_,ease:w[1]?w[1]:w[0]?w[0]:"linear",defer:+e.accentPause})}),this.running=!0,h.chain(n,{loop:e.loop,onChainItem:c.utils.isFunc(e.onMarqueeItem),onChainItemComplete:c.utils.isFunc(e.onMarqueeItemComplete),onChainComplete:c.utils.isFunc(e.onMarqueeComplete)}),this},stop:function(){return this.running=!1,h.stopAll(this.items),this},changeAttribute:function(){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(c,h){var v=c.utils,y={masterDeferred:0,effect:"slide",effectFunc:"linear",duration:METRO_ANIMATION_DURATION,controlPrev:"<span class='default-icon-left-arrow'></span>",controlNext:"<span class='default-icon-right-arrow'></span>",controlTitle:"Master, page $1 of $2",backgroundImage:"",clsMaster:"",clsControls:"",clsControlPrev:"",clsControlNext:"",clsControlTitle:"",clsPages:"",clsPage:"",onBeforePage:c.noop_true,onBeforeNext:c.noop_true,onBeforePrev:c.noop_true,onNextPage:c.noop,onPrevPage:c.noop,onMasterCreate:c.noop};c.masterSetup=function(e){y=h.extend({},y,e)},typeof window.metroMasterSetup!==void 0&&c.masterSetup(window.metroMasterSetup),c.Component("master",{init:function(e,n){return this._super(n,e,y,{pages:[],currentIndex:0,isAnimate:!1,id:v.elementId("master")}),this},_create:function(){var e=this.element,n=this.options;e.addClass("master").addClass(n.clsMaster),e.css({backgroundImage:"url("+n.backgroundImage+")"}),this._createControls(),this._createPages(),this._createEvents(),this._fireEvent("master-create",{element:e})},_createControls:function(){var e,n,o=this.element,d=this.options,p=o.find(".page");n=String(d.controlTitle).replace("$1","1"),n=String(n).replace("$2",p.length),h.each(["top","bottom"],function(){e=h("<div>").addClass("controls controls-"+this).addClass(d.clsControls).appendTo(o),h("<span>").addClass("prev").addClass(d.clsControlPrev).html(d.controlPrev).appendTo(e),h("<span>").addClass("next").addClass(d.clsControlNext).html(d.controlNext).appendTo(e),h("<span>").addClass("title").addClass(d.clsControlTitle).html(n).appendTo(e)}),this._enableControl("prev",!1)},_enableControl:function(e,n){var o=this.element.find(".controls ."+e);n===!0?o.removeClass("disabled"):o.addClass("disabled")},_setTitle:function(){var e=this.element.find(".controls .title"),n=this.options.controlTitle.replace("$1",this.currentIndex+1);n=n.replace("$2",String(this.pages.length)),e.html(n)},_createPages:function(){var e=this,n=this.element,o=this.options,d=n.find(".pages"),p=n.find(".page");d.length===0&&(d=h("<div>").addClass("pages").appendTo(n)),d.addClass(o.clsPages),h.each(p,function(){var w=h(this);w.data("cover")!==void 0?n.css({backgroundImage:"url("+w.data("cover")+")"}):n.css({backgroundImage:"url("+o.backgroundImage+")"}),w.css({left:"100%"}),w.addClass(o.clsPage).hide(0),e.pages.push(w)}),p.appendTo(d),this.currentIndex=0,this.pages[this.currentIndex]!==void 0&&(this.pages[this.currentIndex].data("cover")!==void 0&&n.css({backgroundImage:"url("+this.pages[this.currentIndex].data("cover")+")"}),this.pages[this.currentIndex].css("left","0").show(0),setTimeout(function(){d.css({height:e.pages[0].outerHeight(!0)+2})},0))},_createEvents:function(){var e=this,n=this.element,o=this.options;n.on(c.events.click,".controls .prev",function(){e.isAnimate!==!0&&v.exec(o.onBeforePrev,[e.currentIndex,e.pages[e.currentIndex],n])===!0&&v.exec(o.onBeforePage,["prev",e.currentIndex,e.pages[e.currentIndex],n])===!0&&e.prev()}),n.on(c.events.click,".controls .next",function(){e.isAnimate!==!0&&v.exec(o.onBeforeNext,[e.currentIndex,e.pages[e.currentIndex],n])===!0&&v.exec(o.onBeforePage,["next",e.currentIndex,e.pages[e.currentIndex],n])===!0&&e.next()}),h(window).on(c.events.resize,function(){n.find(".pages").height(e.pages[e.currentIndex].outerHeight(!0)+2)},{ns:this.id})},_slideToPage:function(e){var n,o,d;this.pages[e]!==void 0&&this.currentIndex!==e&&(d=e>this.currentIndex?"next":"prev",n=this.pages[this.currentIndex],o=this.pages[e],this.currentIndex=e,this._effect(n,o,d))},_slideTo:function(e){var n,o,d=e.toLowerCase()==="next";if(n=this.pages[this.currentIndex],d){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}o=this.pages[this.currentIndex],this._fireEvent(d?"next-page":"prev-page",{current:n,next:o,forward:d}),this._effect(n,o,e)},_effect:function(e,n,o){var d=this,p=this.element,w=this.options,_=p.width(),E=p.find(".pages");function A(){n.data("cover")!==void 0?p.css({backgroundImage:"url("+n.data("cover")+")"}):p.css({backgroundImage:"url("+w.backgroundImage+")"}),E.css("overflow","initial"),d.isAnimate=!1}switch(this._setTitle(),this.currentIndex===this.pages.length-1?this._enableControl("next",!1):this._enableControl("next",!0),this.currentIndex===0?this._enableControl("prev",!1):this._enableControl("prev",!0),setTimeout(function(){d.isAnimate=!0,E.animate({draw:{height:n.outerHeight(!0)+2},onDone:function(){A()}})},0),E.css("overflow","hidden"),w.effect){case"fade":(function(){e.fadeOut(w.duration),n.css({top:0,left:0,opacity:0}).fadeIn(w.duration,"linear",function(){A()})})();break;case"switch":(function(){e.hide(),n.css({top:0,left:0,opacity:0}).show(function(){A()})})();break;default:(function(){e.stop(!0).animate({draw:{left:o==="next"?-_:_},dur:w.duration,ease:w.effectFunc,onDone:function(){e.hide(0)}}),n.stop(!0).css({left:o==="next"?_:-_}).show(0).animate({draw:{left:0},dur:w.duration,ease:w.effectFunc,onDone:function(){A()}})})()}},toPage:function(e){this._slideToPage(e)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},changeEffect:function(){this.options.effect=this.element.attr("data-effect")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr("data-effect-func")},changeEffectDuration:function(){this.options.duration=this.element.attr("data-duration")},changeAttribute:function(e){switch(e){case"data-effect":this.changeEffect();break;case"data-effect-func":this.changeEffectFunc();break;case"data-duration":this.changeEffectDuration()}},destroy:function(){var e=this.element;return e.off(c.events.click,".controls .prev"),e.off(c.events.click,".controls .next"),h(window).off(c.events.resize,{ns:this.id}),e}})}(Metro,m4q),function(c){c.md5=function(h){function v(Ee,We){return Ee<<We|Ee>>>32-We}function y(Ee,We){var z,ee,le,Ce,ye;return le=2147483648&Ee,Ce=2147483648&We,ye=(1073741823&Ee)+(1073741823&We),(z=1073741824&Ee)&(ee=1073741824&We)?2147483648^ye^le^Ce:z|ee?1073741824&ye?3221225472^ye^le^Ce:1073741824^ye^le^Ce:ye^le^Ce}function e(Ee,We,z,ee,le,Ce,ye){return Ee=y(Ee,y(y(function(Qe,rt,tt){return Qe&rt|~Qe&tt}(We,z,ee),le),ye)),y(v(Ee,Ce),We)}function n(Ee,We,z,ee,le,Ce,ye){return Ee=y(Ee,y(y(function(Qe,rt,tt){return Qe&tt|rt&~tt}(We,z,ee),le),ye)),y(v(Ee,Ce),We)}function o(Ee,We,z,ee,le,Ce,ye){return Ee=y(Ee,y(y(function(Qe,rt,tt){return Qe^rt^tt}(We,z,ee),le),ye)),y(v(Ee,Ce),We)}function d(Ee,We,z,ee,le,Ce,ye){return Ee=y(Ee,y(y(function(Qe,rt,tt){return rt^(Qe|~tt)}(We,z,ee),le),ye)),y(v(Ee,Ce),We)}function p(Ee){var We,z="",ee="";for(We=0;We<=3;We++)z+=(ee="0"+(Ee>>>8*We&255).toString(16)).substr(ee.length-2,2);return z}var w,_,E,A,B,H,V,K,Z,xe;for(h=function(We){We=We.replace(/\r\n/g,`
`);for(var z="",ee=0;ee<We.length;ee++){var le=We.charCodeAt(ee);le<128?z+=String.fromCharCode(le):le>127&&le<2048?(z+=String.fromCharCode(le>>6|192),z+=String.fromCharCode(63&le|128)):(z+=String.fromCharCode(le>>12|224),z+=String.fromCharCode(le>>6&63|128),z+=String.fromCharCode(63&le|128))}return z}(h),w=function(We){for(var z,ee=We.length,le=ee+8,Ce=16*((le-le%64)/64+1),ye=Array(Ce-1),$e=0,Qe=0;Qe<ee;)$e=Qe%4*8,ye[z=(Qe-Qe%4)/4]=ye[z]|We.charCodeAt(Qe)<<$e,Qe++;return $e=Qe%4*8,ye[z=(Qe-Qe%4)/4]=ye[z]|128<<$e,ye[Ce-2]=ee<<3,ye[Ce-1]=ee>>>29,ye}(h),V=1732584193,K=4023233417,Z=2562383102,xe=271733878,_=0;_<w.length;_+=16)E=V,A=K,B=Z,H=xe,V=e(V,K,Z,xe,w[_],7,3614090360),xe=e(xe,V,K,Z,w[_+1],12,3905402710),Z=e(Z,xe,V,K,w[_+2],17,606105819),K=e(K,Z,xe,V,w[_+3],22,3250441966),V=e(V,K,Z,xe,w[_+4],7,4118548399),xe=e(xe,V,K,Z,w[_+5],12,1200080426),Z=e(Z,xe,V,K,w[_+6],17,2821735955),K=e(K,Z,xe,V,w[_+7],22,4249261313),V=e(V,K,Z,xe,w[_+8],7,1770035416),xe=e(xe,V,K,Z,w[_+9],12,2336552879),Z=e(Z,xe,V,K,w[_+10],17,4294925233),K=e(K,Z,xe,V,w[_+11],22,2304563134),V=e(V,K,Z,xe,w[_+12],7,1804603682),xe=e(xe,V,K,Z,w[_+13],12,4254626195),Z=e(Z,xe,V,K,w[_+14],17,2792965006),V=n(V,K=e(K,Z,xe,V,w[_+15],22,1236535329),Z,xe,w[_+1],5,4129170786),xe=n(xe,V,K,Z,w[_+6],9,3225465664),Z=n(Z,xe,V,K,w[_+11],14,643717713),K=n(K,Z,xe,V,w[_],20,3921069994),V=n(V,K,Z,xe,w[_+5],5,3593408605),xe=n(xe,V,K,Z,w[_+10],9,38016083),Z=n(Z,xe,V,K,w[_+15],14,3634488961),K=n(K,Z,xe,V,w[_+4],20,3889429448),V=n(V,K,Z,xe,w[_+9],5,568446438),xe=n(xe,V,K,Z,w[_+14],9,3275163606),Z=n(Z,xe,V,K,w[_+3],14,4107603335),K=n(K,Z,xe,V,w[_+8],20,1163531501),V=n(V,K,Z,xe,w[_+13],5,2850285829),xe=n(xe,V,K,Z,w[_+2],9,4243563512),Z=n(Z,xe,V,K,w[_+7],14,1735328473),V=o(V,K=n(K,Z,xe,V,w[_+12],20,2368359562),Z,xe,w[_+5],4,4294588738),xe=o(xe,V,K,Z,w[_+8],11,2272392833),Z=o(Z,xe,V,K,w[_+11],16,1839030562),K=o(K,Z,xe,V,w[_+14],23,4259657740),V=o(V,K,Z,xe,w[_+1],4,2763975236),xe=o(xe,V,K,Z,w[_+4],11,1272893353),Z=o(Z,xe,V,K,w[_+7],16,4139469664),K=o(K,Z,xe,V,w[_+10],23,3200236656),V=o(V,K,Z,xe,w[_+13],4,681279174),xe=o(xe,V,K,Z,w[_],11,3936430074),Z=o(Z,xe,V,K,w[_+3],16,3572445317),K=o(K,Z,xe,V,w[_+6],23,76029189),V=o(V,K,Z,xe,w[_+9],4,3654602809),xe=o(xe,V,K,Z,w[_+12],11,3873151461),Z=o(Z,xe,V,K,w[_+15],16,530742520),V=d(V,K=o(K,Z,xe,V,w[_+2],23,3299628645),Z,xe,w[_],6,4096336452),xe=d(xe,V,K,Z,w[_+7],10,1126891415),Z=d(Z,xe,V,K,w[_+14],15,2878612391),K=d(K,Z,xe,V,w[_+5],21,4237533241),V=d(V,K,Z,xe,w[_+12],6,1700485571),xe=d(xe,V,K,Z,w[_+3],10,2399980690),Z=d(Z,xe,V,K,w[_+10],15,4293915773),K=d(K,Z,xe,V,w[_+1],21,2240044497),V=d(V,K,Z,xe,w[_+8],6,1873313359),xe=d(xe,V,K,Z,w[_+15],10,4264355552),Z=d(Z,xe,V,K,w[_+6],15,2734768916),K=d(K,Z,xe,V,w[_+13],21,1309151649),V=d(V,K,Z,xe,w[_+4],6,4149444226),xe=d(xe,V,K,Z,w[_+11],10,3174756917),Z=d(Z,xe,V,K,w[_+2],15,718787259),K=d(K,Z,xe,V,w[_+9],21,3951481745),V=y(V,E),K=y(K,A),Z=y(Z,B),xe=y(xe,H);return(p(V)+p(K)+p(Z)+p(xe)).toLowerCase()},window.METRO_GLOBAL_COMMON===!0&&(window.md5=c.md5)}(Metro,m4q),function(c,h){var v=c.utils,y={navviewDeferred:0,compact:"md",expand:"lg",toggle:null,animate:!0,activeState:!1,onMenuItemClick:c.noop,onPaneClose:c.noop,onBeforePaneClose:c.noop,onPaneOpen:c.noop,onBeforePaneOpen:c.noop,onNavviewCreate:c.noop};c.navViewSetup=function(e){y=h.extend({},y,e)},typeof window.metroNavViewSetup!==void 0&&c.navViewSetup(window.metroNavViewSetup),c.Component("nav-view",{init:function(e,n){return this._super(n,e,y,{pane:null,content:null,paneToggle:null,id:v.elementId("navview"),menuScrollDistance:0,menuScrollStep:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("navview-create")},_calcMenuHeight:function(){var e,n,o=this.element,d=0;(e=o.children(".navview-pane")).length!==0&&(n=e.children(".navview-menu-container")).length!==0&&(h.each(n.prevAll(),function(){d+=h(this).outerHeight(!0)}),h.each(n.nextAll(),function(){d+=h(this).outerHeight(!0)}),n.css({height:"calc(100% - "+d+"px)"}),this.menuScrollStep=48,this.menuScrollDistance=v.nearest(n[0].scrollHeight-n.height(),48))},_recalc:function(){var e=this,n=this.element;setTimeout(function(){e.pane.width()===48?n.addClass("js-compact"):n.removeClass("js-compact"),e._calcMenuHeight()},200)},_createStructure:function(){var e,n,o,d,p=this.element,w=this.options;p.addClass("navview").addClass(w.compact!==!1?"navview-compact-"+w.compact:"").addClass(w.expand!==!1?"navview-expand-"+w.expand:""),e=p.children(".navview-pane"),n=p.children(".navview-content"),o=h(w.toggle),(d=e.children(".navview-menu")).length&&(d.prevAll().reverse().wrapAll(h("<div>").addClass("navview-container")),d.wrap(h("<div>").addClass("navview-menu-container"))),this.pane=e.length>0?e:null,this.content=n.length>0?n:null,this.paneToggle=o.length>0?o:null,w.animate&&p.addClass("animate-panes"),this._recalc()},_createEvents:function(){var e=this,n=this.element,o=this.options,d=n.find(".navview-menu-container"),p=d.children(".navview-menu");d.on("mousewheel",function(w){var _=n.find(".navview-pane").width(),E=w.deltaY>0?-1:1,A=e.menuScrollStep,B=e.menuScrollDistance,H=parseInt(p.css("top"));if(_>48)return!1;E===-1&&Math.abs(H)<=B&&p.css("top",parseInt(p.css("top"))+A*E),E===1&&H<=-A&&p.css("top",parseInt(p.css("top"))+A*E)}),n.on(c.events.click,".pull-button, .holder",function(){e.pullClick(this)}),n.on(c.events.click,".navview-menu li",function(){o.activeState===!0&&(n.find(".navview-menu li").removeClass("active"),h(this).toggleClass("active"))}),n.on(c.events.click,".navview-menu li > a",function(){e._fireEvent("menu-item-click",{item:this})}),this.paneToggle!==null&&this.paneToggle.on(c.events.click,function(){e.pane.toggleClass("open")}),h(window).on(c.events.resize,function(){var w,_,E,A=n.children(".navview-menu-container");e.pane.hasClass("open")||(n.removeClass("expanded"),e.pane.removeClass("open"),h(this).width()<=c.media_sizes[(""+o.compact).toUpperCase()]&&n.removeClass("compacted"),A.length&&(E=A.children(".navview-menu"),setTimeout(function(){w=E.height(),_=A.height(),e.menuScrollStep=E.children(":not(.item-separator), :not(.item-header)")[0].clientHeight,e.menuScrollDistance=w>_?v.nearest(w-_,e.menuScrollStep):0},0))),e._recalc()},{ns:this.id})},_togglePaneMode:function(){var e=this.element,n=this.options,o=this.pane.width()<280;!o&&!e.hasClass("expanded")||e.hasClass("compacted")?!e.hasClass("compacted")&&o||e.toggleClass("compacted"):e.toggleClass("expanded"),e.hasClass("compacted")?c.utils.exec(n.onPaneClose,null,this):c.utils.exec(n.onPaneOpen,null,this)},pullClick:function(e){var n,o=h(e);return o&&o.hasClass("holder")&&(n=o.parent().find("input"),setTimeout(function(){n.focus()},200)),this.pane.hasClass("open")?this.close():this._togglePaneMode(),this._recalc(),!0},open:function(){this.pane.addClass("open")},close:function(){this.pane.removeClass("open")},toggle:function(){var e=this.pane;e.hasClass("open")?e.removeClass("open"):e.addClass("open")},toggleMode:function(){this._togglePaneMode()},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(c.events.click,".pull-button, .holder"),e.off(c.events.click,".navview-menu li"),e.off(c.events.click,".navview-menu li > a"),this.paneToggle!==null&&this.paneToggle.off(c.events.click),h(window).off(c.events.resize,{ns:this.id}),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={container:null,width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"max",animation:"linear",onClick:c.noop,onClose:c.noop,onShow:c.noop,onAppend:c.noop,onNotifyCreate:c.noop};c.notifySetup=function(n){y=h.extend({},y,n)},typeof window.metroNotifySetup!==void 0&&c.notifySetup(window.metroNotifySetup);var e={container:null,options:{},notifies:[],setup:function(n){return this.options=h.extend({},y,n),this},reset:function(){var n={width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"max",animation:"linear"};this.options=h.extend({},y,n)},_createContainer:function(){var n=h("<div>").addClass("notify-container");return h("body").prepend(n),n},create:function(n,o,d){var p,w,_=this,E=this.options,A=v.elementId("notify");if(v.isNull(d)&&(d={}),!v.isValue(n))return!1;(p=h("<div>").addClass("notify").attr("id",A)).css({width:E.width}),o&&(w=h("<div>").addClass("notify-title").html(o),p.prepend(w)),h("<div>").addClass("notify-message").html(n).appendTo(p),d!==void 0&&(d.cls!==void 0&&p.addClass(d.cls),d.width!==void 0&&p.css({width:d.width})),p.on(c.events.click,function(){v.exec(v.isValue(d.onClick)?d.onClick:E.onClick,null,this),_.kill(h(this).closest(".notify"),v.isValue(d.onClose)?d.onClose:E.onClose)}),e.container===null&&(e.container=e._createContainer()),p.appendTo(e.container),p.hide(function(){v.exec(v.isValue(d.onAppend)?d.onAppend:E.onAppend,null,p[0]);var B=v.isValue(d.duration)?d.duration:E.duration,H=v.isValue(d.animation)?d.animation:E.animation,V=v.isValue(d.distance)?d.distance:E.distance;(V==="max"||isNaN(V))&&(V=h(window).height()),p.show().animate({draw:{marginTop:[V,4],opacity:[0,1]},dur:B,ease:H,onDone:function(){v.exec(E.onNotifyCreate,null,this),d!==void 0&&d.keepOpen===!0||setTimeout(function(){_.kill(p,v.isValue(d.onClose)?d.onClose:E.onClose)},E.timeout),v.exec(v.isValue(d.onShow)?d.onShow:E.onShow,null,p[0])}})})},kill:function(n,o){var d=this,p=this.options;n.off(c.events.click),n.fadeOut(p.duration,"linear",function(){v.exec(v.isValue(o)?o:d.options.onClose,null,n[0]),n.remove()})},killAll:function(){var n=this,o=h(".notify");h.each(o,function(){n.kill(h(this))})}};c.notify=e.setup()}(Metro,m4q),function(c,h){c.pagination=function(v){var y,e,n,o;y=h.extend({},{length:0,rows:0,current:0,target:"body",clsPagination:"",prevTitle:"Prev",nextTitle:"Next",distance:5,islandSize:3,shortTrack:10},v);var d=parseInt(y.distance),p=parseInt(y.shortTrack),w=parseInt(y.islandSize),_=parseInt(y.length),E=parseInt(y.rows),A=Math.ceil(_/E),B=parseInt(y.current),H=h(y.target);H.html("");var V=h("<ul>").addClass("pagination").addClass(y.clsPagination).appendTo(H);if(_!==0&&E!==-1){var K=function(Z,xe,Ee){var We,z;return We=h("<li>").addClass("page-item").addClass(xe),(z=h("<a>").addClass("page-link").html(Z)).data("page",Ee),z.appendTo(We),We};if(n=K(y.prevTitle,"service prev-page","prev"),V.append(n),V.append(K(1,B===1?"active":"",1)),d===0||A<=p)for(e=2;e<A;e++)V.append(K(e,e===B?"active":"",e));else if(B<d){for(e=2;e<=d;e++)V.append(K(e,e===B?"active":"",e));A>d&&V.append(K("...","no-link",null))}else if(B<=A&&B>A-d+1)for(A>d&&V.append(K("...","no-link",null)),e=A-d+1;e<A;e++)V.append(K(e,e===B?"active":"",e));else{V.append(K("...","no-link",null));for(let Z=w;Z>0;Z--)V.append(K(B-Z,"",B-Z));V.append(K(B,"active",B));for(let Z=1;Z<=w;Z++)V.append(K(B+Z,"",B+Z));V.append(K("...","no-link",null))}return(A>1||B<A)&&V.append(K(A,B===A?"active":"",A)),o=K(y.nextTitle,"service next-page","next"),V.append(o),B===1&&n.addClass("disabled"),B===A&&o.addClass("disabled"),_===0&&(V.addClass("disabled"),V.children().addClass("disabled")),V}}}(Metro,m4q),function(c,h){var v=c.utils,y={panelDeferred:0,id:null,titleCaption:"",titleIcon:"",collapsible:!1,collapsed:!1,collapseDuration:METRO_ANIMATION_DURATION,width:"auto",height:"auto",draggable:!1,customButtons:null,clsCustomButton:"",clsPanel:"",clsTitle:"",clsTitleCaption:"",clsTitleIcon:"",clsContent:"",clsCollapseToggle:"",onCollapse:c.noop,onExpand:c.noop,onDragStart:c.noop,onDragStop:c.noop,onDragMove:c.noop,onPanelCreate:c.noop};c.panelSetup=function(e){y=h.extend({},y,e)},typeof window.metroPanelSetup!==void 0&&c.panelSetup(window.metroPanelSetup),c.Component("panel",{init:function(e,n){return this._super(n,e,y),this},_addCustomButtons:function(e){var n,o=this.element,d=this.options,p=o.closest(".panel").find(".panel-title"),w=[];if(typeof e=="string"&&e.indexOf("{")>-1)w=JSON.parse(e);else if(typeof e=="string"&&v.isObject(e))w=v.isObject(e);else{if(!(typeof e=="object"&&v.objectLength(e)>0))return void console.warn("Unknown format for custom buttons",e);w=e}if(p.length!==0)return(n=p.find(".custom-buttons")).length===0?n=h("<div>").addClass("custom-buttons").appendTo(p):(n.find(".btn-custom").off(c.events.click),n.html("")),h.each(w,function(){var _=this,E=h("<span>");E.addClass("button btn-custom").addClass(d.clsCustomButton).addClass(_.cls).attr("tabindex",-1).html(_.html),_.attr&&typeof _.attr=="object"&&h.each(_.attr,function(A,B){E.attr(Str.dashedName(A),B)}),E.data("action",_.onclick),n.prepend(E)}),p.on(c.events.click,".btn-custom",function(_){if(!v.isRightMouse(_)){var E=h(this),A=E.data("action");v.exec(A,[E],this)}}),this;console.warn("No place for custom buttons")},_create:function(){var e,n,o=this.element,d=this.options,p=h("<div>").addClass("panel").addClass(d.clsPanel),w=d.id?d.id:v.elementId("panel"),_=o[0].className;if(p.attr("id",w).addClass(_),p.insertBefore(o),o.appendTo(p),o[0].className="",o.addClass("panel-content").addClass(d.clsContent).appendTo(p),d.titleCaption!==""||d.titleIcon!==""||d.collapsible===!0){if(e=h("<div>").addClass("panel-title").addClass(d.clsTitle),d.titleCaption!==""&&h("<span>").addClass("caption").addClass(d.clsTitleCaption).html(d.titleCaption).appendTo(e),d.titleIcon!==""&&h(d.titleIcon).addClass("icon").addClass(d.clsTitleIcon).appendTo(e),d.collapsible===!0){var E=h("<span>").addClass("dropdown-toggle marker-center active-toggle").addClass(d.clsCollapseToggle).appendTo(e);c.makePlugin(o,"collapse",{toggleElement:E,duration:d.collapseDuration,onCollapse:d.onCollapse,onExpand:d.onExpand}),d.collapsed===!0&&this.collapse()}e.appendTo(p)}e&&v.isValue(d.customButtons)&&this._addCustomButtons(d.customButtons),d.draggable===!0&&(n=e?e.find(".caption, .icon"):p,c.makePlugin(p,"draggable",{dragContext:p[0],dragElement:n,onDragStart:d.onDragStart,onDragStop:d.onDragStop,onDragMove:d.onDragMove})),d.width!=="auto"&&parseInt(d.width)>=0&&p.outerWidth(parseInt(d.width)),d.height!=="auto"&&parseInt(d.height)>=0&&(p.outerHeight(parseInt(d.height)),o.css({overflow:"auto"})),this.panel=p,this._fireEvent("panel-create",{element:o,panel:p})},customButtons:function(e){return this._addCustomButtons(e)},collapse:function(){var e=this.element;v.isMetroObject(e,"collapse")!==!1&&c.getPlugin(e,"collapse").collapse()},open:function(){this.expand()},close:function(){this.collapse()},expand:function(){var e=this.element;v.isMetroObject(e,"collapse")!==!1&&c.getPlugin(e,"collapse").expand()},changeAttribute:function(e){},destroy:function(){var e=this.element,n=this.options;return n.collapsible===!0&&c.getPlugin(e,"collapse").destroy(),n.draggable===!0&&c.getPlugin(e,"draggable").destroy(),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={popoverDeferred:0,popoverText:"",popoverHide:3e3,popoverTimeout:10,popoverOffset:10,popoverTrigger:c.popoverEvents.HOVER,popoverPosition:c.position.TOP,hideOnLeave:!1,closeButton:!0,clsPopover:"",clsPopoverContent:"",onPopoverShow:c.noop,onPopoverHide:c.noop,onPopoverCreate:c.noop};c.popoverSetup=function(e){y=h.extend({},y,e)},typeof window.metroPopoverSetup!==void 0&&c.popoverSetup(window.metroPopoverSetup),c.Component("popover",{init:function(e,n){return this._super(n,e,y,{popover:null,popovered:!1,size:{width:0,height:0},id:v.elementId("popover")}),this},_create:function(){this._createEvents(),this._fireEvent("popover-create",{element:this.element})},_createEvents:function(){var e,n=this,o=this.element,d=this.options;switch(d.popoverTrigger){case c.popoverEvents.CLICK:e=c.events.click;break;case c.popoverEvents.FOCUS:e=c.events.focus;break;default:e=c.events.enter}o.on(e,function(){n.popover===null&&n.popovered!==!0&&setTimeout(function(){n.createPopover(),n._fireEvent("popover-show",{popover:n.popover}),d.popoverHide>0&&setTimeout(function(){n.removePopover()},d.popoverHide)},d.popoverTimeout)}),d.hideOnLeave===!0&&o.on(c.events.leave,function(){n.removePopover()}),h(window).on(c.events.scroll,function(){n.popover!==null&&n.setPosition()},{ns:this.id})},setPosition:function(){var e=this.popover,n=this.size,o=this.options,d=this.element;o.popoverPosition===c.position.BOTTOM?(e.addClass("bottom"),e.css({top:d.offset().top-h(window).scrollTop()+d.outerHeight()+o.popoverOffset,left:d.offset().left+d.outerWidth()/2-n.width/2-h(window).scrollLeft()})):o.popoverPosition===c.position.RIGHT?(e.addClass("right"),e.css({top:d.offset().top+d.outerHeight()/2-n.height/2-h(window).scrollTop(),left:d.offset().left+d.outerWidth()-h(window).scrollLeft()+o.popoverOffset})):o.popoverPosition===c.position.LEFT?(e.addClass("left"),e.css({top:d.offset().top+d.outerHeight()/2-n.height/2-h(window).scrollTop(),left:d.offset().left-n.width-h(window).scrollLeft()-o.popoverOffset})):(e.addClass("top"),e.css({top:d.offset().top-h(window).scrollTop()-n.height-o.popoverOffset,left:d.offset().left+d.outerWidth()/2-n.width/2-h(window).scrollLeft()}))},createPopover:function(){var e,n,o=this,d=this.elem,p=this.element,w=this.options,_=v.elementId("popover");if(!this.popovered){switch((e=h("<div>").addClass("popover neb").addClass(w.clsPopover)).attr("id",_),h("<div>").addClass("popover-content").addClass(w.clsPopoverContent).html(w.popoverText).appendTo(e),w.popoverHide===0&&w.closeButton===!0&&h("<button>").addClass("button square small popover-close-button bg-white").html("&times;").appendTo(e).on(c.events.click,function(){o.removePopover()}),w.popoverPosition){case c.position.TOP:n="neb-s";break;case c.position.BOTTOM:n="neb-n";break;case c.position.RIGHT:n="neb-w";break;case c.position.LEFT:n="neb-e"}if(e.addClass(n),w.closeButton!==!0&&e.on(c.events.click,function(){o.removePopover()}),this.popover=e,this.size=v.hiddenElementSize(e),d.tagName==="TD"||d.tagName==="TH"){var E=h("<div/>").css("display","inline-block").html(p.html());p.html(E),p=E}this.setPosition(),e.appendTo(h("body")),this.popovered=!0,this._fireEvent("popover-create",{popover:e})}},removePopover:function(){var e=this,n=this.options.onPopoverHide===c.noop?0:300,o=this.popover;this.popovered&&(this._fireEvent("popover-hide",{popover:o}),setTimeout(function(){o.hide(0,function(){o.remove(),e.popover=null,e.popovered=!1})},n))},show:function(){var e=this,n=this.options;this.popovered!==!0&&setTimeout(function(){e.createPopover(),e._fireEvent("popover-show",{popover:e.popover}),n.popoverHide>0&&setTimeout(function(){e.removePopover()},n.popoverHide)},n.popoverTimeout)},hide:function(){this.removePopover()},changeAttribute:function(e){var n=this,o=this.element,d=this.options;switch(e){case"data-popover-text":d.popoverText=o.attr("data-popover-text"),n.popover&&(n.popover.find(".popover-content").html(d.popoverText),n.setPosition());break;case"data-popover-position":d.popoverPosition=o.attr("data-popover-position"),n.setPosition()}},destroy:function(){var e,n=this.element,o=this.options;switch(o.popoverTrigger){case c.popoverEvents.CLICK:e=c.events.click;break;case c.popoverEvents.FOCUS:e=c.events.focus;break;default:e=c.events.enter}return n.off(e),o.hideOnLeave===!0&&n.off(c.events.leave),h(window).off(c.events.scroll,{ns:this.id}),n}})}(Metro,m4q),function(c,h){var v={progressDeferred:0,showValue:!1,valuePosition:"free",showLabel:!1,labelPosition:"before",labelTemplate:"",value:0,buffer:0,type:"bar",small:!1,clsBack:"",clsBar:"",clsBuffer:"",clsValue:"",clsLabel:"",onValueChange:c.noop,onBufferChange:c.noop,onComplete:c.noop,onBuffered:c.noop,onProgressCreate:c.noop};c.progressSetup=function(y){v=h.extend({},v,y)},typeof window.metroProgressSetup!==void 0&&c.progressSetup(window.metroProgressSetup),c.Component("progress",{init:function(y,e){return this._super(e,y,v,{value:0,buffer:0}),this},_create:function(){var y,e=this.element,n=this.options;switch(typeof n.type=="string"&&(n.type=n.type.toLowerCase()),e.html("").addClass("progress"),n.type){case"buffer":(function(){h("<div>").addClass("bar").appendTo(e),h("<div>").addClass("buffer").appendTo(e)})();break;case"load":(function(){e.addClass("with-load"),h("<div>").addClass("bar").appendTo(e),h("<div>").addClass("buffer").appendTo(e),h("<div>").addClass("load").appendTo(e)})();break;case"line":(function(){e.addClass("line")})();break;default:(function(){h("<div>").addClass("bar").appendTo(e)})()}if(n.type!=="line"&&(y=h("<span>").addClass("value").addClass(n.clsValue).appendTo(e),n.valuePosition==="center"&&y.addClass("centered"),n.showValue===!1&&y.hide()),n.small===!0&&e.addClass("small"),e.addClass(n.clsBack),e.find(".bar").addClass(n.clsBar),e.find(".buffer").addClass(n.clsBuffer),n.showLabel===!0){var o=h("<span>").addClass("progress-label").addClass(n.clsLabel).html(n.labelTemplate===""?n.value+"%":n.labelTemplate.replace("%VAL%",n.value));n.labelPosition==="before"?o.insertBefore(e):o.insertAfter(e)}this.val(n.value),this.buff(n.buffer),this._fireEvent("progress-create",{element:e})},val:function(y){var e=this.element,n=this.options,o=e.find(".value");if(y===void 0)return this.value;var d=e.find(".bar");if(d.length===0)return!1;this.value=parseInt(y,10),d.css("width",this.value+"%"),o.html(this.value+"%");var p=e.width()-d.width(),w=o.width()>p?{left:"auto",right:p+"px"}:{left:y+"%"};if(n.valuePosition==="free"&&o.css(w),n.showLabel===!0){var _=e[n.labelPosition==="before"?"prev":"next"](".progress-label");_.length&&_.html(n.labelTemplate===""?n.value+"%":n.labelTemplate.replace("%VAL%",n.value))}this._fireEvent("value-change",{val:this.value}),this.value===100&&this._fireEvent("complete",{val:this.value})},buff:function(y){var e=this.element;if(y===void 0)return this.buffer;var n=e.find(".buffer");if(n.length===0)return!1;this.buffer=parseInt(y,10),n.css("width",this.buffer+"%"),this._fireEvent("buffer-change",{val:this.buffer}),this.buffer===100&&this._fireEvent("buffered",{val:this.buffer})},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(y){switch(y){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer()}},destroy:function(){return this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={radioDeferred:0,transition:!0,style:1,caption:"",captionPosition:"right",clsRadio:"",clsCheck:"",clsCaption:"",onRadioCreate:c.noop};c.radioSetup=function(e){y=h.extend({},y,e)},typeof window.metroRadioSetup!==void 0&&c.radioSetup(window.metroRadioSetup),c.Component("radio",{init:function(e,n){return this._super(n,e,y,{origin:{className:""}}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("radio-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options,o=h("<label>").addClass("radio "+e[0].className).addClass(n.style===2?"style2":""),d=h("<span>").addClass("check"),p=h("<span>").addClass("caption").html(n.caption);e.attr("type","radio"),o.insertBefore(e),e.appendTo(o),d.appendTo(o),p.appendTo(o),n.transition===!0&&o.addClass("transition-on"),n.captionPosition==="left"&&o.addClass("caption-left"),this.origin.className=e[0].className,e[0].className="",o.addClass(n.clsRadio),p.addClass(n.clsCaption),d.addClass(n.clsCheck),e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e=this.element,n=e.siblings(".check");e.on("focus",function(){n.addClass("focused")}),e.on("blur",function(){n.removeClass("focused")})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){var n,o=this.element,d=this.options,p=o.parent();switch(e){case"disabled":this.toggleState();break;case"data-style":n=parseInt(o.attr("data-style")),v.isInt(n)&&(d.style=n,p.removeClass("style1 style2").addClass("style"+n))}},destroy:function(){return this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={ratingDeferred:0,label:"",static:!1,title:null,value:0,values:null,message:"",stars:5,starColor:null,staredColor:null,roundFunc:"round",half:!0,clsRating:"",clsTitle:"",clsStars:"",clsResult:"",clsLabel:"",onStarClick:c.noop,onRatingCreate:c.noop};c.ratingSetup=function(e){y=h.extend({},y,e)},typeof window.metroRatingSetup!==void 0&&c.ratingSetup(window.metroRatingSetup),c.Component("rating",{init:function(e,n){return this._super(n,e,y,{value:0,originValue:0,values:[],rate:0,rating:null}),this},_create:function(){var e,n=this.element,o=this.options;if(isNaN(o.value)?o.value=0:o.value=parseFloat(o.value).toFixed(1),o.values!==null)Array.isArray(o.values)?this.values=o.values:typeof o.values=="string"&&(this.values=o.values.toArray());else for(e=1;e<=o.stars;e++)this.values.push(e);this.originValue=o.value,this.value=o.value>0?Math[o.roundFunc](o.value):0,this._createRating(),this._createEvents(),this._fireEvent("rating-create",{element:n})},_createRating:function(){var e,n,o,d=this.element,p=this.options,w=v.elementId("rating"),_=h("<div>").addClass("rating "+String(d[0].className).replace("d-block","d-flex")).addClass(p.clsRating),E=c.sheet,A=p.static?Math.floor(this.originValue):this.value;for(d.val(this.value),_.attr("id",w),_.insertBefore(d),d.appendTo(_),n=h("<ul>").addClass("stars").addClass(p.clsStars).appendTo(_),e=1;e<=p.stars;e++)o=h("<li>").data("value",this.values[e-1]).appendTo(n),e<=A&&o.addClass("on");if(h("<span>").addClass("result").addClass(p.clsResult).appendTo(_).html(p.message),p.starColor!==null&&c.colors.isColor(p.starColor)&&v.addCssRule(E,"#"+w+" .stars:hover li","color: "+p.starColor+";"),p.staredColor!==null&&c.colors.isColor(p.staredColor)&&(v.addCssRule(E,"#"+w+" .stars li.on","color: "+p.staredColor+";"),v.addCssRule(E,"#"+w+" .stars li.half::after","color: "+p.staredColor+";")),p.title!==null){var B=h("<span>").addClass("title").addClass(p.clsTitle).html(p.title);_.prepend(B)}if(p.static===!0&&(_.addClass("static"),p.half===!0)){var H=Math.round(this.originValue%1*10);H>0&&H<=9&&_.find(".stars li.on").last().next("li").addClass("half half-"+10*H)}if(d[0].className="",p.copyInlineStyles===!0)for(e=0;e<d[0].style.length;e++)_.css(d[0].style[e],d.css(d[0].style[e]));if(p.label){var V=h("<label>").addClass("label-for-input").addClass(p.clsLabel).html(p.label).insertBefore(_);d.attr("id")&&V.attr("for",d.attr("id")),d.attr("dir")==="rtl"&&V.addClass("rtl")}d.is(":disabled")?this.disable():this.enable(),this.rating=_},_createEvents:function(){var e=this,n=this.element,o=this.options;this.rating.on(c.events.click,".stars li",function(){if(o.static!==!0){var d=h(this),p=d.data("value");d.addClass("scale"),setTimeout(function(){d.removeClass("scale")},300),n.val(p).trigger("change"),d.addClass("on"),d.prevAll().addClass("on"),d.nextAll().removeClass("on"),e._fireEvent("star-click",{value:p,star:d[0]})}})},val:function(e){var n=this,o=this.element,d=this.options,p=this.rating;if(e===void 0)return this.value;this.value=e>0?Math[d.roundFunc](e):0,o.val(this.value).trigger("change");var w=p.find(".stars li").removeClass("on");return h.each(w,function(){var _=h(this);_.data("value")<=n.value&&_.addClass("on")}),this},msg:function(e){var n=this.rating;if(e!==void 0)return n.find(".result").html(e),this},static:function(e){var n=this.options,o=this.rating;n.static=e,e===!0?o.addClass("static"):o.removeClass("static")},changeAttributeValue:function(e){var n=this.element,o=e==="value"?n.val():n.attr("data-value");this.val(o)},changeAttributeMessage:function(){var e=this.element.attr("data-message");this.msg(e)},changeAttributeStatic:function(){var e=this.element,n=JSON.parse(e.attr("data-static"))===!0;this.static(n)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"value":case"data-value":this.changeAttributeValue(e);break;case"disabled":this.toggleState();break;case"data-message":this.changeAttributeMessage();break;case"data-static":this.changeAttributeStatic()}},destroy:function(){var e=this.element;return this.rating.off(c.events.click,".stars li"),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={resizableDeferred:0,canResize:!0,resizeElement:".resize-element",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,preserveRatio:!1,onResizeStart:c.noop,onResizeStop:c.noop,onResize:c.noop,onResizableCreate:c.noop};c.resizableSetup=function(e){y=h.extend({},y,e)},typeof window.metroResizableSetup!==void 0&&c.resizableSetup(window.metroResizableSetup),c.Component("resizable",{init:function(e,n){return this._super(n,e,y,{resizer:null,id:v.elementId("resizable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("resizable-create")},_createStructure:function(){var e=this.element,n=this.options;e.data("canResize",!0),e.addClass("resizable-element"),v.isValue(n.resizeElement)&&e.find(n.resizeElement).length>0?this.resizer=e.find(n.resizeElement):this.resizer=h("<span>").addClass("resize-element").appendTo(e),e.data("canResize",n.canResize)},_createEvents:function(){var e=this,n=this.element,o=this.options;this.resizer.on(c.events.start,function(d){if(n.data("canResize")!==!1){var p=v.pageXY(d),w=parseInt(n.outerWidth()),_=parseInt(n.outerHeight()),E={width:w,height:_};n.addClass("stop-pointer"),e._fireEvent("resize-start",{size:E}),h(document).on(c.events.move,function(A){var B=v.pageXY(A),H={width:w+B.x-p.x,height:_+B.y-p.y};return o.maxWidth>0&&H.width>o.maxWidth||o.minWidth>0&&H.width<o.minWidth||o.maxHeight>0&&H.height>o.maxHeight||o.minHeight>0&&H.height<o.minHeight||(n.css(H),void e._fireEvent("resize",{size:H}))},{ns:e.id}),h(document).on(c.events.stop,function(){n.removeClass("stop-pointer"),h(document).off(c.events.move,{ns:e.id}),h(document).off(c.events.stop,{ns:e.id});var A={width:parseInt(n.outerWidth()),height:parseInt(n.outerHeight())};e._fireEvent("resize-stop",{size:A})},{ns:e.id}),d.preventDefault(),d.stopPropagation()}})},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(e){var n=this.element,o=this.options;e==="data-can-resize"&&(o.canResize=JSON.parse(n.attr("data-can-resize"))===!0)},destroy:function(){return this.resizer.off(c.events.start),this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={resizerDeferred:0,onMediaPoint:c.noop,onMediaPointEnter:c.noop,onMediaPointLeave:c.noop,onWindowResize:c.noop,onElementResize:c.noop,onResizerCreate:c.noop};c.resizerSetup=function(e){y=h.extend({},y,e)},typeof window.metroResizerSetup!==void 0&&c.resizerSetup(window.metroResizerSetup),c.Component("resizer",{init:function(e,n){return this._super(n,e,y,{size:{width:0,height:0},media:window.METRO_MEDIA,id:v.elementId("resizer")}),this},_create:function(){var e=this.element;this.size={width:e.width(),height:e.height()},this._createStructure(),this._createEvents(),this._fireEvent("resizer-create",{element:e})},_createStructure:function(){},_createEvents:function(){var e=this,n=this.element,o=h.window();o.on("resize",function(){var d,p=o.width(),w=o.height(),_=n.width(),E=n.height(),A=e.size;e._fireEvent("window-resize",{width:p,height:w,media:window.METRO_MEDIA}),e.size.width===_&&e.size.height===E||(e.size={width:_,height:E},e._fireEvent("element-resize",{width:_,height:E,oldSize:A,media:window.METRO_MEDIA})),e.media.length!==window.METRO_MEDIA.length&&(e.media.length>window.METRO_MEDIA.length?(d=e.media.filter(function(B){return!window.METRO_MEDIA.includes(B)}),e._fireEvent("media-point-leave",{point:d,media:window.METRO_MEDIA})):(d=window.METRO_MEDIA.filter(function(B){return!e.media.includes(B)}),e._fireEvent("media-point-enter",{point:d,media:window.METRO_MEDIA})),e.media=window.METRO_MEDIA,e._fireEvent("media-point",{point:d,media:window.METRO_MEDIA}))},{ns:this.id})},changeAttribute:function(){},destroy:function(){h(window).off("resize",{ns:this.id})}})}(Metro,m4q),function(c,h){var v=c.utils,y={ribbonmenuDeferred:0,onStatic:c.noop,onBeforeTab:c.noop_true,onTab:c.noop,onRibbonMenuCreate:c.noop};c.ribbonMenuSetup=function(e){y=h.extend({},y,e)},typeof window.metroRibbonMenuSetup!==void 0&&c.ribbonMenuSetup(window.metroRibbonMenuSetup),c.Component("ribbon-menu",{init:function(e,n){return this._super(n,e,y),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("ribbon-menu-create",{element:e})},_createStructure:function(){var e=this.element;e.addClass("ribbon-menu");var n=e.find(".ribbon-toggle-group");h.each(n,function(){var p=h(this);p.buttongroup({clsActive:"active"});var w=0,_=p.find(".ribbon-icon-button");h.each(_,function(){var E=h(this).outerWidth(!0);E>w&&(w=E)}),p.css("width",w*Math.ceil(_.length/3)+4)}),e.find(".section").addClass("non-active");var o=e.find(".tabs-holder li:not(.static)"),d=e.find(".tabs-holder li.active");d.length>0?this.open(h(d[0])):o.length>0&&this.open(h(o[0]))},_createEvents:function(){var e=this,n=this.element,o=this.options;n.on(c.events.click,".tabs-holder li a",function(d){var p=h(this),w=h(this).parent("li");w.hasClass("static")?o.onStatic===c.noop&&p.attr("href")!==void 0?document.location.href=p.attr("href"):e._fireEvent("static",{tab:w[0]}):v.exec(o.onBeforeTab,[w[0]],n[0])===!0&&e.open(w[0]),d.preventDefault()})},open:function(e){var n=this.element,o=h(e),d=n.find(".tabs-holder li"),p=n.find(".content-holder .section"),w=o.children("a").attr("href"),_=w!=="#"?n.find(w):null;p.addClass("non-active"),d.removeClass("active"),o.addClass("active"),p.removeClass("active"),_&&_.addClass("active").removeClass("non-active"),this._fireEvent("tab",{tab:o[0]})},changeAttribute:function(){},destroy:function(){var e=this.element;return e.off(c.events.click,".tabs-holder li a"),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={rippleDeferred:0,rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:c.noop};c.rippleSetup=function(n){y=h.extend({},y,n)},typeof window.metroRippleSetup!==void 0&&c.rippleSetup(window.metroRippleSetup);var e=function(n,o,d,p){var w,_,E=h(n),A=v.rect(E[0]),B=c.colors;if(E.length!==0){v.isValue(o)||(o="#fff"),v.isValue(d)||(d=.4),E.css("position")==="static"&&E.css("position","relative"),E.css({overflow:"hidden"}),h(".ripple").remove();var H=Math.max(E.outerWidth(),E.outerHeight()),V=h("<span class='ripple'></span>").css({width:H,height:H});E.prepend(V),p?(w=p.pageX-E.offset().left-V.width()/2,_=p.pageY-E.offset().top-V.height()/2):(w=A.width/2-V.width()/2,_=A.height/2-V.height()/2),V.css({background:B.toRGBA(o,d),width:H,height:H,top:_+"px",left:w+"px"}).addClass("rippleEffect"),setTimeout(function(){V.remove()},400)}};c.Component("ripple",{init:function(n,o){return this._super(o,n,y),this},_create:function(){var n=this.element,o=this.options,d=o.rippleTarget==="default"?null:o.rippleTarget;n.on(c.events.click,d,function(p){e(this,o.rippleColor,o.rippleAlpha,p)}),this._fireEvent("riopple-create",{element:n})},changeAttribute:function(n){var o=this.element,d=this.options;switch(n){case"data-ripple-color":(function(){var w=o.attr("data-ripple-color");c.colors.isColor(w)&&(d.rippleColor=w)})();break;case"data-ripple-alpha":(function(){var w=+o.attr("data-ripple-alpha");isNaN(w)||(d.rippleColor=w)})()}},destroy:function(){var n=this.element,o=this.options,d=o.rippleTarget==="default"?null:o.rippleTarget;n.off(c.events.click,d)}}),c.ripple=e}(Metro,m4q),function(c,h){var v={onSearcherCreate:c.noop};c.searcherSetup=function(y){v=h.extend({},v,y)},typeof window.metroSearcherSetup!==void 0&&c.searcherSetup(window.metroSearcherSetup),c.Component("searcher",{init:function(y,e){return this._super(e,y,v,{}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("searcher-create")},_createStructure:function(){this.element,this.options},_createEvents:function(){this.element,this.options},changeAttribute:function(y,e){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(c,h){var v=c.utils,y={id:"",label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"<span class='default-icon-cross'></span>",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"Search...",filter:!0,copyInlineStyles:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,checkDropUp:!0,dropUp:!1,showGroupName:!1,shortTag:!0,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemRemover:"",clsLabel:"",clsGroupName:"",onClear:c.noop,onChange:c.noop,onUp:c.noop,onDrop:c.noop,onItemSelect:c.noop,onItemDeselect:c.noop,onSelectCreate:c.noop};c.selectSetup=function(e){y=h.extend({},y,e)},typeof window.metroSelectSetup!==void 0&&c.selectSetup(window.metroSelectSetup),c.Component("select",{init:function(e,n){return this._super(n,e,y,{list:null,placeholder:null,observer:null}),this},_create:function(){var e=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:e})},_setPlaceholder:function(){var e=this.element,n=this.options,o=e.siblings(".select-input");n.usePlaceholder!==!0||v.isValue(e.val())&&e.val()!=n.emptyValue||o.html(this.placeholder)},_addTag:function(e,n){var o,d,p=this.element,w=this.options,_=p.closest(".select");return o=h("<div>").addClass("tag").addClass(w.shortTag?"short-tag":"").addClass(w.clsSelectedItem).html("<span class='title'>"+e+"</span>").data("option",n),h("<span>").addClass("remover").addClass(w.clsSelectedItemRemover).html("&times;").appendTo(o),_.hasClass("input-large")?d="large":_.hasClass("input-small")&&(d="small"),o.addClass(d),o},_addOption:function(e,n,o,d,p){var w,_,E=h(e),A=this.element,B=this.options,H=v.isValue(E.attr("data-template"))?E.attr("data-template").replace("$1",e.text):e.text,V=E.attr("data-display");w=h("<li>").addClass(B.clsOption).data("option",e).attr("data-text",e.text).attr("data-value",e.value?e.value:""),_=h("<a>").html(H),V&&(w.attr("data-display",V),H=V),w.addClass(e.className),w.data("group",p),E.is(":disabled")&&w.addClass("disabled"),E.is(":selected")&&(B.showGroupName&&p&&(H+="&nbsp;<span class='selected-item__group-name "+B.clsGroupName+"'>"+p+"</span>"),d?(w.addClass("d-none"),o.append(this._addTag(H,w))):(A.val(e.value),o.html(H),A.fire("change",{val:e.value}),w.addClass("active"))),w.append(_).appendTo(n)},_addOptionGroup:function(e,n,o,d){var p=this,w=this.options,_=h(e);h("<li>").html(e.label).addClass("group-title").addClass(w.clsOptionGroup).appendTo(n),h.each(_.children(),function(){p._addOption(this,n,o,d,e.label)})},_createOptions:function(){var e=this,n=this.element,o=this.options,d=n.parent().find("ul").empty(),p=n.find("option[selected]").length>0,w=n[0].multiple,_=n.siblings(".select-input");n.siblings(".select-input").empty(),o.addEmptyValue===!0&&n.prepend(h("<option "+(p?"":"selected")+" value='"+o.emptyValue+"' class='d-none'></option>")),h.each(n.children(),function(){this.tagName==="OPTION"?e._addOption(this,d,_,w,null):this.tagName==="OPTGROUP"&&e._addOptionGroup(this,d,_,w)})},_createSelect:function(){var e,n,o,d,p,w,_=this,E=this.element,A=this.options,B=h("<label>"),H=E[0].multiple,V=v.elementId("select"),K=h("<div>").addClass("button-group"),Z=v.elementId("select-focus-trigger"),xe=h("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",Z);if(this.placeholder=h("<span>").addClass("placeholder").html(A.placeholder),B.attr("id",A.id?A.id:V).attr("for",Z),B[0].className=c.utils.classNames(E[0].className,"input-"+A.size,"select",A.clsSelect),(w=h("<span>").addClass("dropdown-toggle")).appendTo(B),H&&B.addClass("multiple"),B.insertBefore(E),E.appendTo(B),K.appendTo(B),xe.appendTo(B),e=h("<div>").addClass("select-input").addClass(A.clsSelectInput).attr("name","__"+V+"__"),n=h("<div>").addClass("drop-container").addClass(A.clsDropContainer),A.dropFullSize===!1?A.dropWidth&&n.css({width:+A.dropWidth}):B.addClass("drop-full-size"),o=h("<div>").appendTo(n),d=h("<ul>").addClass("option-list").addClass(A.clsDropList).css({"max-height":A.dropHeight}),p=h("<input type='text' data-role='input'>").attr("placeholder",A.filterPlaceholder).appendTo(o),B.append(e),B.append(n),n.append(o),A.filter!==!0&&o.hide(),n.append(d),this._createOptions(),this._setPlaceholder(),c.makePlugin(n,"dropdown",{dropFilter:".select",duration:A.duration,toggleElement:[B],checkDropUp:A.checkDropUp,dropUp:A.dropUp,onDrop:function(){var ee,le;w.addClass("active-toggle"),ee=h(".select .drop-container"),h.each(ee,function(){var Ce=h(this);if(!Ce.is(n)){var ye=c.getPlugin(Ce,"dropdown");ye&&ye.close&&ye.close()}}),p.val("").trigger(c.events.keyup),(le=d.find("li.active").length>0?h(d.find("li.active")[0]):void 0)!==void 0&&(d[0].scrollTop=le.position().top-(d.height()-le.height())/2),_._fireEvent("drop",{list:d[0]})},onUp:function(){w.removeClass("active-toggle"),_._fireEvent("up",{list:d[0]})}}),this.list=d,A.clearButton!==!0||E[0].readOnly?K.addClass("d-none"):h("<button>").addClass("button input-clear-button").addClass(A.clsClearButton).attr("tabindex",-1).attr("type","button").html(A.clearButtonIcon).appendTo(K),A.prepend===""||H||h("<div>").html(A.prepend).addClass("prepend").addClass(A.clsPrepend).appendTo(B),A.append===""||H||h("<div>").html(A.append).addClass("append").addClass(A.clsAppend).appendTo(B),A.copyInlineStyles===!0)for(var Ee=0,We=E[0].style.length;Ee<We;Ee++)B.css(E[0].style[Ee],E.css(E[0].style[Ee]));if(E.attr("dir")==="rtl"&&B.addClass("rtl").attr("dir","rtl"),A.label){var z=h("<label>").addClass("label-for-input").addClass(A.clsLabel).html(A.label).insertBefore(B);E.attr("id")&&z.attr("for",E.attr("id")),E.attr("dir")==="rtl"&&z.addClass("rtl")}E.is(":disabled")?this.disable():this.enable(),this.observer=new MutationObserver(this._updateSelect.bind(this)),this.observer.observe(E[0],{childList:!0,subtree:!0})},_updateSelect:function(e){for(let n of e)n.type==="childList"&&(n.addedNodes.length||n.removedNodes.length)&&this._createOptions()},_createEvents:function(){var e=this,n=this.element,o=this.options,d=n.closest(".select"),p=d.find(".drop-container"),w=n.siblings(".select-input"),_=p.find("input"),E=p.find("ul"),A=d.find(".input-clear-button"),B=d.find(".select-focus-trigger");B.on("focus",function(){d.addClass("focused")}),B.on("blur",function(){d.removeClass("focused")}),A.on(c.events.click,function(H){n.val(o.emptyValue),n[0].multiple&&E.find("li").removeClass("d-none"),w.clear(),e._setPlaceholder(),H.preventDefault(),H.stopPropagation(),e._fireEvent("clear"),e._fireEvent("change",{selected:e.getSelected()})}),n.on(c.events.change,function(){e._setPlaceholder()}),d.on(c.events.click,function(){h(".focused").removeClass("focused"),d.addClass("focused")}),w.on(c.events.click,function(){h(".focused").removeClass("focused"),d.addClass("focused")}),E.on(c.events.click,"li",function(H){if(h(this).hasClass("group-title"))return H.preventDefault(),void H.stopPropagation();var V,K=h(this),Z=K.attr("data-display"),xe=K.data("value"),Ee=K.data("group"),We=Z||K.children("a").html(),z=K.data("option"),ee=n.find("option");o.showGroupName&&Ee&&(We+="&nbsp;<span class='selected-item__group-name "+o.clsGroupName+"'>"+Ee+"</span>"),n[0].multiple?(K.addClass("d-none"),w.append(e._addTag(We,K))):(E.find("li.active").removeClass("active").removeClass(o.clsOptionActive),K.addClass("active").addClass(o.clsOptionActive),w.html(We),c.getPlugin(p,"dropdown").close()),h.each(ee,function(){this===z&&(this.selected=!0)}),e._fireEvent("item-select",{val:xe,option:z,leaf:K[0]}),V=e.getSelected(),e._fireEvent("change",{selected:V})}),w.on("click",".tag .remover",function(H){var V,K=h(this).closest(".tag"),Z=K.data("option"),xe=Z.data("option");Z.removeClass("d-none"),h.each(n.find("option"),function(){this===xe&&(this.selected=!1)}),K.remove(),e._fireEvent("item-deselect",{option:xe}),V=e.getSelected(),e._fireEvent("change",{selected:V}),H.preventDefault(),H.stopPropagation()}),_.on(c.events.keyup,function(){var H,V=this.value.toUpperCase(),K=E.find("li");for(H=0;H<K.length;H++)h(K[H]).hasClass("group-title")||(K[H].getElementsByTagName("a")[0].innerHTML.toUpperCase().indexOf(V)>-1?K[H].style.display="":K[H].style.display="none")}),_.on(c.events.click,function(H){H.preventDefault(),H.stopPropagation()}),p.on(c.events.click,function(H){H.preventDefault(),H.stopPropagation()})},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(e){var n,o=this.element,d=o.find("option"),p=o.closest(".select");h.each(d,function(){this.selected=!v.isNull(e)&&this.defaultSelected}),this.list.find("li").remove(),p.find(".select-input").html(""),this._createOptions(),n=this.getSelected(),this._fireEvent("change",{selected:n})},getSelected:function(){var e=this.element,n=[];return e.find("option").each(function(){this.selected&&n.push(this.value)}),n},val:function(e){var n,o,d,p,w,_,E=this,A=this.element,B=this.options,H=A.siblings(".select-input"),V=A.find("option"),K=this.list.find("li"),Z=[],xe=A.attr("multiple")!==void 0;if(v.isNull(e))return h.each(V,function(){this.selected&&Z.push(this.value)}),xe?Z:Z[0];h.each(V,function(){this.selected=!1}),K.removeClass("active").removeClass(B.clsOptionActive),H.html(""),Array.isArray(e)===!1&&(e=[e]),h.each(e,function(){for(o=0;o<V.length;o++)if(n=V[o],d=v.isValue(n.getAttribute("data-template"))?n.getAttribute("data-template").replace("$1",n.text):n.text,""+n.value==""+this){n.selected=!0;break}for(o=0;o<K.length;o++)if(p=h(K[o]),_=p.data("group"),""+p.attr("data-value")==""+this){B.showGroupName&&_&&(d+="&nbsp;<span class='selected-item__group-name'>"+_+"</span>"),xe?(p.addClass("d-none"),H.append(E._addTag(d,p))):(p.addClass("active").addClass(B.clsOptionActive),H.html(d));break}}),w=this.getSelected(),this._fireEvent("change",{selected:w})},options:function(e,n,o){return this.data(e,n,o)},data:function(e,n,o){var d,p,w=this.element,_=o||",";return p=typeof n=="string"?n.toArray(_).map(function(E){return isNaN(E)?E:+E}):Array.isArray(n)?n.slice().map(function(E){return isNaN(E)?E:+E}):[],w.empty(),typeof e=="string"?w.html(e):v.isObject2(e)&&h.each(e,function(E,A){if(v.isObject2(A))d=h("<optgroup label=''>").attr("label",E).appendTo(w),h.each(A,function(H,V){var K=h("<option>").attr("value",H).text(V).appendTo(d);p.indexOf(+H)>-1&&K.prop("selected",!0)});else{var B=h("<option>").attr("value",E).text(A).appendTo(w);p.indexOf(E)>-1&&B.prop("selected",!0)}}),this._createOptions(),this},addOption:function(e,n,o){var d=this.element,p=h("<option>").attr("value",e).text(n||e);return d.append(p),o&&p.prop("selected",!0),this._createOptions(),this},addOptions:function(e){var n=this;return e?(Array.isArray(e)?h.each(e,function(){var o=this;c.utils.isObject2(o)?n.addOption(o.val,o.title,o.selected):n.addOption(o)}):c.utils.isObject2(e)&&h.each(e,function(o,d){n.addOption(o,d)}),this):this},removeOption:function(e){return this.element.find("option").each(function(){var n=h(this);n.attr("value")==e&&n.remove()}),this._createOptions(),this},removeOptions:function(e){var n=this.element.find("option");return e&&Array.isArray(e)?(n.each(function(){var o=h(this),d=o.attr("value");e.indexOf(d)>-1&&o.remove()}),this._createOptions(),this):this},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){var e=this.element,n=e.closest(".select"),o=n.find(".drop-container"),d=e.siblings(".select-input"),p=o.find("input"),w=o.find("ul"),_=n.find(".input-clear-button");return n.off(c.events.click),n.off(c.events.click,".input-clear-button"),d.off(c.events.click),p.off(c.events.blur),p.off(c.events.focus),w.off(c.events.click,"li"),p.off(c.events.keyup),o.off(c.events.click),_.off(c.events.click),o.data("dropdown").destroy(),e}}),h(document).on(c.events.click,function(){h(".select").removeClass("focused")},{ns:"blur-select-elements"})}(Metro,m4q),function(c,h){var v=c.utils,y={menuScrollbar:!1,sidebarDeferred:0,shadow:!0,position:"left",size:290,shift:null,staticShift:null,toggle:null,duration:METRO_ANIMATION_DURATION,static:null,menuItemClick:!0,closeOutside:!0,onOpen:c.noop,onClose:c.noop,onToggle:c.noop,onStaticSet:c.noop,onStaticLoss:c.noop,onSidebarCreate:c.noop};c.sidebarSetup=function(e){y=h.extend({},y,e)},typeof window.metroSidebarSetup!==void 0&&c.sidebarSetup(window.metroSidebarSetup),c.Component("sidebar",{init:function(e,n){return this._super(n,e,y,{toggle_element:null,id:v.elementId("sidebar")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),h(window).resize(),this._checkStatic(),this._fireEvent("sidebar-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options,o=e.find(".sidebar-header"),d=c.sheet,p=e.find(".sidebar-menu");e.addClass("sidebar").addClass("on-"+n.position),n.menuScrollbar===!1&&p.addClass("hide-scroll"),n.size!==290&&(v.addCssRule(d,".sidebar","width: "+n.size+"px;"),n.position==="left"?v.addCssRule(d,".sidebar.on-left","left: "+-n.size+"px;"):v.addCssRule(d,".sidebar.on-right","right: "+-n.size+"px;")),n.shadow===!0&&e.addClass("sidebar-shadow"),n.toggle!==null&&h(n.toggle).length>0&&(this.toggle_element=h(n.toggle)),o.length>0&&o.data("image")!==void 0&&o.css({backgroundImage:"url("+o.data("image")+")"}),n.static!==null&&n.staticShift!==null&&(n.position==="left"?v.addCssRule(d,"@media screen and "+c.media_queries[n.static.toUpperCase()],n.staticShift+"{margin-left: "+n.size+"px; width: calc(100% - "+n.size+"px);}"):v.addCssRule(d,"@media screen and "+c.media_queries[n.static.toUpperCase()],n.staticShift+"{margin-right: "+n.size+"px; width: calc(100% - "+n.size+"px);}"))},_createEvents:function(){var e=this,n=this.element,o=this.options,d=this.toggle_element;d!==null?d.on(c.events.click,function(p){e.toggle(),p.stopPropagation()}):o.toggle&&h.document().on("click",o.toggle,function(p){e.toggle(),p.stopPropagation()}),o.static!==null&&["fs","sm","md","lg","xl","xxl"].indexOf(o.static)>-1&&h(window).on(c.events.resize,function(){e._checkStatic()},{ns:this.id}),o.menuItemClick===!0&&n.on(c.events.click,".sidebar-menu li > a",function(p){e.close(),p.stopPropagation()}),n.on(c.events.click,".sidebar-menu .js-sidebar-close",function(p){e.close(),p.stopPropagation()}),n.on(c.events.click,function(p){p.stopPropagation()}),h(document).on(c.events.click,function(){o.closeOutside===!0&&e.isOpen()&&e.close()})},_checkStatic:function(){var e=this.element,n=this.options;v.mediaExist(n.static)&&!e.hasClass("static")&&(e.addClass("static"),e.data("opened",!1).removeClass("open"),n.shift!==null&&h.each(n.shift.split(","),function(){h(this).animate({draw:{left:0},dur:n.duration})}),this._fireEvent("static-set")),v.mediaExist(n.static)||(e.removeClass("static"),this._fireEvent("static-loss"))},isOpen:function(){return this.element.data("opened")===!0},open:function(){var e=this.element,n=this.options;e.hasClass("static")||(e.data("opened",!0).addClass("open"),n.shift!==null&&h(n.shift).animate({draw:{left:e.outerWidth()},dur:n.duration}),this._fireEvent("open"))},close:function(){var e=this.element,n=this.options;e.hasClass("static")||(e.data("opened",!1).removeClass("open"),n.shift!==null&&h(n.shift).animate({draw:{left:0},dur:n.duration}),this._fireEvent("close"))},toggle:function(){this.isOpen()?this.close():this.open(),this._fireEvent("toggle")},changeAttribute:function(){},destroy:function(){var e=this.element,n=this.options,o=this.toggle_element;return o!==null&&o.off(c.events.click),n.static!==null&&["fs","sm","md","lg","xl","xxl"].indexOf(n.static)>-1&&h(window).off(c.events.resize,{ns:this.id}),n.menuItemClick===!0&&e.off(c.events.click,".sidebar-menu li > a"),e.off(c.events.click,".sidebar-menu .js-sidebar-close"),e}}),c.sidebar={isSidebar:function(e){return v.isMetroObject(e,"sidebar")},open:function(e){this.isSidebar(e)&&c.getPlugin(e,"sidebar").open()},close:function(e){this.isSidebar(e)&&c.getPlugin(e,"sidebar").close()},toggle:function(e){this.isSidebar(e)&&c.getPlugin(e,"sidebar").toggle()},isOpen:function(e){if(this.isSidebar(e))return c.getPlugin(e,"sidebar").isOpen()}}}(Metro,m4q),function(c,h){var v=c.utils,y={sliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:c.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:c.position.TOP,hintMask:"$1",vertical:!1,target:null,returnType:"value",size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsBuffer:"",clsMarker:"",clsHint:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:c.noop,onStop:c.noop,onMove:c.noop,onSliderClick:c.noop,onChange:c.noop,onChangeValue:c.noop,onChangeBuffer:c.noop,onFocus:c.noop,onBlur:c.noop,onSliderCreate:c.noop};c.sliderSetup=function(e){y=h.extend({},y,e)},typeof window.metroSliderSetup!==void 0&&c.sliderSetup(window.metroSliderSetup),c.Component("slider",{init:function(e,n){return this._super(n,e,y,{slider:null,value:0,percent:0,pixel:0,buffer:0,keyInterval:!1,id:v.elementId("slider")}),this},_create:function(){var e=this.element,n=this.options;this._createSlider(),this._createEvents(),this.buff(n.buffer),this.val(n.value),this._fireEvent("slider-create",{element:e})},_createSlider:function(){var e,n=this.element,o=this.options,d=n.prev(),p=n.parent(),w=h("<div>").addClass("slider "+n[0].className).addClass(o.clsSlider),_=h("<div>").addClass("backside").addClass(o.clsBackside),E=h("<div>").addClass("complete").addClass(o.clsComplete),A=h("<div>").addClass("buffer").addClass(o.clsBuffer),B=h("<button>").attr("type","button").addClass("marker").addClass(o.clsMarker),H=h("<div>").addClass("hint").addClass(o.hintPosition+"-side").addClass(o.clsHint);if(o.size>0&&(o.vertical===!0?w.outerHeight(o.size):w.outerWidth(o.size)),o.vertical===!0&&w.addClass("vertical-slider"),d.length===0?p.prepend(w):w.insertAfter(d),o.hintAlways===!0&&H.css({display:"block"}).addClass("permanent-hint"),n.appendTo(w),_.appendTo(w),E.appendTo(w),A.appendTo(w),B.appendTo(w),H.appendTo(B),o.showMinMax===!0){var V=h("<div>").addClass("slider-min-max").addClass(o.clsMinMax);h("<span>").addClass("slider-text-min").addClass(o.clsMin).html(o.min).appendTo(V),h("<span>").addClass("slider-text-max").addClass(o.clsMax).html(o.max).appendTo(V),o.minMaxPosition===c.position.TOP?V.insertBefore(w):V.insertAfter(w)}if(n[0].className="",o.copyInlineStyles===!0)for(e=0;e<n[0].style.length;e++)w.css(n[0].style[e],n.css(n[0].style[e]));n.is(":disabled")?this.disable():this.enable(),this.slider=w},_createEvents:function(){var e=this,n=this.slider,o=this.options,d=n.find(".marker"),p=n.find(".hint");d.on(c.events.startAll,function(){o.hint===!0&&o.hintAlways!==!0&&p.fadeIn(300),h(document).on(c.events.moveAll,function(w){w.cancelable&&w.preventDefault(),e._move(w),e._fireEvent("move",{val:e.value,percent:e.percent})},{ns:e.id,passive:!1}),h(document).on(c.events.stopAll,function(){h(document).off(c.events.moveAll,{ns:e.id}),h(document).off(c.events.stopAll,{ns:e.id}),o.hintAlways!==!0&&p.fadeOut(300),e._fireEvent("stop",{val:e.value,percent:e.percent})},{ns:e.id}),e._fireEvent("start",{val:e.value,percent:e.percent})}),d.on(c.events.focus,function(){e._fireEvent("focus",{val:e.value,percent:e.percent})}),d.on(c.events.blur,function(){e._fireEvent("blur",{val:e.value,percent:e.percent})}),d.on(c.events.keydown,function(w){var _=w.keyCode?w.keyCode:w.which;if([37,38,39,40].indexOf(_)!==-1){var E=o.accuracy===0?1:o.accuracy;e.keyInterval||(e.keyInterval=setInterval(function(){var A=e.value;w.keyCode!==37&&w.keyCode!==40||(A-E<o.min?A=o.min:A-=E),w.keyCode!==38&&w.keyCode!==39||(A+E>o.max?A=o.max:A+=E),e.value=e._correct(A),e.percent=e._convert(e.value,"val2prc"),e.pixel=e._convert(e.percent,"prc2pix"),e._redraw()},100),w.preventDefault())}}),d.on(c.events.keyup,function(){clearInterval(e.keyInterval),e.keyInterval=!1}),n.on(c.events.click,function(w){e._move(w),e._fireEvent("slider-click",{val:e.value,percent:e.percent}),e._fireEvent("stop",{val:e.value,percent:e.percent})}),h(window).on(c.events.resize,function(){e.val(e.value),e.buff(e.buffer)},{ns:e.id})},_convert:function(e,n){var o=this.slider,d=this.options,p=(d.vertical===!0?o.outerHeight():o.outerWidth())-o.find(".marker").outerWidth();switch(n){case"pix2prc":return 100*e/p;case"pix2val":return this._convert(e,"pix2prc")*((d.max-d.min)/100)+d.min;case"val2prc":return(e-d.min)/((d.max-d.min)/100);case"prc2pix":return e/(100/p);case"val2pix":return this._convert(this._convert(e,"val2prc"),"prc2pix")}return 0},_correct:function(e){var n=e,o=this.options.accuracy,d=this.options.min,p=this.options.max;return o===0||isNaN(o)?n:((n=Math.round(e/o)*o)<d&&(n=d),n>p&&(n=p),n.toFixed(v.decCount(o)))},_move:function(e){var n,o,d=this.slider,p=this.options,w=d.offset(),_=d.find(".marker").outerWidth(),E=p.vertical===!0?d.outerHeight():d.outerWidth(),A=E-_;n=p.vertical===!0?v.pageXY(e).y-w.top:v.pageXY(e).x-w.left,(o=p.vertical===!0?E-n-_/2:n-_/2)<0||o>A||(this.value=this._correct(this._convert(o,"pix2val")),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw())},_hint:function(){var e=this.options,n=this.slider.find(".hint"),o=+this.value||0,d=+this.percent||0;e.roundValue&&(o=(v.isValue(o)?+o:0).toFixed(v.decCount(e.accuracy)),d=(v.isValue(d)?+d:0).toFixed(v.decCount(e.accuracy))),n.text(e.hintMask.replace("$1",o).replace("$2",d))},_value:function(){var e=this.element,n=this.options,o=n.returnType==="value"?this.value:this.percent,d=this.percent,p=this.buffer;if(n.roundValue&&(o=(v.isValue(o)?+o:0).toFixed(v.decCount(n.accuracy)),d=(v.isValue(d)?+d:0).toFixed(v.decCount(n.accuracy)),p=(v.isValue(p)?+p:0).toFixed(v.decCount(n.accuracy))),e[0].tagName==="INPUT"&&e.val(o),n.target!==null){var w=h(n.target);w.length!==0&&h.each(w,function(){var _=h(this);this.tagName==="INPUT"?_.val(o):_.text(o),_.trigger("change")})}this._fireEvent("change-value",{val:o}),this._fireEvent("change",{val:o,percent:d,buffer:p})},_marker:function(){var e=this.slider,n=this.options,o=e.find(".marker"),d=e.find(".complete"),p=n.vertical===!0?e.outerHeight():e.outerWidth(),w=parseInt(v.getStyleOne(o,"width")),_=v.isVisible(e);_&&o.css({"margin-top":0,"margin-left":0}),n.vertical===!0?(_?o.css("top",p-this.pixel):(o.css("top",100-this.percent+"%"),o.css("margin-top",w/2)),d.css("height",this.percent+"%")):(_?o.css("left",this.pixel):(o.css("left",this.percent+"%"),o.css("margin-left",this.percent===0?0:-1*w/2)),d.css("width",this.percent+"%"))},_redraw:function(){this._marker(),this._value(),this._hint()},_buffer:function(){var e=this.element,n=this.options,o=this.slider.find(".buffer");n.vertical===!0?o.css("height",this.buffer+"%"):o.css("width",this.buffer+"%"),this._fireEvent("change-buffer",{val:this.buffer}),this._fireEvent("change",{val:e.val(),percent:this.percent,buffer:this.buffer})},val:function(e){var n=this.options;if(e===void 0||isNaN(e))return this.value;e<n.min&&(e=n.min),e>n.max&&(e=n.max),this.value=this._correct(e),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},buff:function(e){var n=this.slider.find(".buffer");return e===void 0||isNaN(e)?this.buffer:n.length!==0&&((e=parseInt(e))>100&&(e=100),e<0&&(e=0),this.buffer=e,void this._buffer())},changeValue:function(){var e=this.element,n=this.options,o=e.attr("data-value");o<n.min&&(o=n.min),o>n.max&&(o=n.max),this.val(o)},changeBuffer:function(){var e=this.element,n=parseInt(e.attr("data-buffer"));n<0&&(n=0),n>100&&(n=100),this.buff(n)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break;case"disabled":this.toggleState()}},destroy:function(){var e=this.element,n=this.slider,o=n.find(".marker");return o.off(c.events.startAll),o.off(c.events.focus),o.off(c.events.blur),o.off(c.events.keydown),o.off(c.events.keyup),n.off(c.events.click),h(window).off(c.events.resize,{ns:this.id}),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={sorterDeferred:0,thousandSeparator:",",decimalSeparator:",",sortTarget:null,sortSource:null,sortDir:"asc",sortStart:!0,saveInitial:!0,onSortStart:c.noop,onSortStop:c.noop,onSortItemSwitch:c.noop,onSorterCreate:c.noop};c.sorterSetup=function(e){y=h.extend({},y,e)},typeof window.metroSorterSetup!==void 0&&c.sorterSetup(window.metroSorterSetup),c.Component("sorter",{init:function(e,n){return this._super(n,e,y,{initial:[]}),this},_create:function(){var e=this.element;this._createStructure(),this._fireEvent("sorter-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options;n.sortTarget===null&&(n.sortTarget=e.children()[0].tagName),this.initial=e.find(n.sortTarget).get(),n.sortStart===!0&&this.sort(n.sortDir)},_getItemContent:function(e){var n,o,d,p,w=this.options;if(v.isValue(w.sortSource)){if(n="",(o=e.getElementsByClassName(w.sortSource)).length>0)for(d=0;d<o.length;d++)n+=o[d].textContent;p=o[0].dataset.format}else n=e.textContent,p=e.dataset.format;if(n=(""+n).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),v.isValue(p))switch(["number","int","float","money"].indexOf(p)===-1||w.thousandSeparator===","&&w.decimalSeparator==="."||(n=v.parseNumber(n,w.thousandSeparator,w.decimalSeparator)),p){case"date":n=v.isDate(n)?new Date(n):"";break;case"number":n=Number(n);break;case"int":n=parseInt(n);break;case"float":n=parseFloat(n);break;case"money":n=v.parseMoney(n);break;case"card":n=v.parseCard(n);break;case"phone":n=v.parsePhone(n)}return n},sort:function(e){var n,o,d=this,p=this.element,w=this.options,_=v.elementId("temp");e!==void 0&&(w.sortDir=e),(n=p.find(w.sortTarget).get()).length!==0&&(o=h("<div>").attr("id",_).insertBefore(h(p.find(w.sortTarget)[0])),this._fireEvent("sort-start",{items:n}),n.sort(function(E,A){var B=d._getItemContent(E),H=d._getItemContent(A),V=0;return B<H&&(V=-1),B>H&&(V=1),V!==0&&d._fireEvent("sort-item-switch",{a:E,b:A,result:V}),V}),w.sortDir==="desc"&&n.reverse(),p.find(w.sortTarget).remove(),h.each(n,function(){var E=h(this);E.insertAfter(o),o=E}),h("#"+_).remove(),this._fireEvent("sort-stop",{items:n}))},reset:function(){var e,n,o=this.element,d=this.options,p=v.elementId("sorter");(e=this.initial).length!==0&&(n=h("<div>").attr("id",p).insertBefore(h(o.find(d.sortTarget)[0])),o.find(d.sortTarget).remove(),h.each(e,function(){var w=h(this);w.insertAfter(n),n=w}),h("#"+p).remove())},changeAttribute:function(e){var n,o,d=this,p=this.element,w=this.options;switch(e){case"data-sort-dir":(o=p.attr("data-sort-dir").trim())!==""&&(w.sortDir=o,d.sort());break;case"data-sort-content":(n=p.attr("data-sort-content").trim())!==""&&(w.sortContent=n,d.sort())}},destroy:function(){return this.element}}),c.sorter={create:function(e,n){return v.$()(e).sorter(n)},isSorter:function(e){return v.isMetroObject(e,"sorter")},sort:function(e,n){if(!this.isSorter(e))return!1;n===void 0&&(n="asc"),c.getPlugin(e,"sorter").sort(n)},reset:function(e){if(!this.isSorter(e))return!1;c.getPlugin(e,"sorter").reset()}}}(Metro,m4q),function(c,h){var v=c.utils,y={spinnerDeferred:0,label:"",step:1,plusIcon:"<span class='default-icon-plus'></span>",minusIcon:"<span class='default-icon-minus'></span>",buttonsPosition:"default",defaultValue:0,minValue:null,maxValue:null,fixed:0,repeatThreshold:1e3,hideCursor:!1,clsSpinner:"",clsSpinnerInput:"",clsSpinnerButton:"",clsSpinnerButtonPlus:"",clsSpinnerButtonMinus:"",clsLabel:"",onBeforeChange:c.noop_true,onChange:c.noop,onPlusClick:c.noop,onMinusClick:c.noop,onArrowUp:c.noop,onArrowDown:c.noop,onButtonClick:c.noop,onArrowClick:c.noop,onSpinnerCreate:c.noop};c.spinnerSetup=function(e){y=h.extend({},y,e)},typeof window.metroSpinnerSetup!==void 0&&c.spinnerSetup(window.metroSpinnerSetup),c.Component("spinner",{init:function(e,n){return this._super(n,e,y,{repeat_timer:!1}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("spinner-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options,o=h("<div>").addClass("spinner").addClass("buttons-"+n.buttonsPosition).addClass(e[0].className).addClass(n.clsSpinner),d=h("<button>").attr("type","button").addClass("button spinner-button spinner-button-plus").addClass(n.clsSpinnerButton+" "+n.clsSpinnerButtonPlus).html(n.plusIcon),p=h("<button>").attr("type","button").addClass("button spinner-button spinner-button-minus").addClass(n.clsSpinnerButton+" "+n.clsSpinnerButtonMinus).html(n.minusIcon),w=e.val().trim();if(v.isValue(w)||e.val(0),e[0].className="",o.insertBefore(e),e.appendTo(o).addClass(n.clsSpinnerInput),e.addClass("original-input"),d.appendTo(o),p.appendTo(o),n.hideCursor===!0&&o.addClass("hide-cursor"),n.label){var _=h("<label>").addClass("label-for-input").addClass(n.clsLabel).html(n.label).insertBefore(o);e.attr("id")&&_.attr("for",e.attr("id")),e.attr("dir")==="rtl"&&_.addClass("rtl")}n.disabled===!0||e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e,n=this,o=this.element,d=this.options,p=o.closest(".spinner"),w=p.find(".spinner-button"),_=function(E,A){var B=[E?"plus-click":"minus-click",E?"arrow-up":"arrow-down","button-click","arrow-click"],H=+o.val(),V=+o.val(),K=+d.step;E?V+=K:V-=K,n._setValue(V.toFixed(d.fixed),!0),n._fireEvents(B,{curr:H,val:V,elementVal:o.val(),button:E?"plus":"minus"}),setTimeout(function(){n.repeat_timer&&_(E,100)},A)};p.on(c.events.click,function(E){h(".focused").removeClass("focused"),p.addClass("focused"),E.preventDefault(),E.stopPropagation()}),w.on(c.events.startAll,function(E){var A=h(this).closest(".spinner-button").hasClass("spinner-button-plus");n.repeat_timer||(n.repeat_timer=!0,_(A,d.repeatThreshold),E.preventDefault())}),w.on(c.events.stopAll,function(){n.repeat_timer=!1}),o.on(c.events.keydown,function(E){if(E.keyCode===c.keyCode.UP_ARROW||E.keyCode===c.keyCode.DOWN_ARROW){if(n.repeat_timer)return;n.repeat_timer=!0,_(E.keyCode===c.keyCode.UP_ARROW,d.repeatThreshold)}else{var A=E.key;A==="Backspace"||A==="Delete"||A==="ArrowLeft"||A==="ArrowRight"||(isNaN(A)||parseInt(A)<0&&parseInt(A)>9)&&E.preventDefault(),e=parseInt(this.value)}}),o.on(c.events.keyup,function(){var E=parseInt(this.value);(d.minValue&&E<d.minValue||d.maxValue&&E>d.maxValue)&&(this.value=e)}),p.on(c.events.keyup,function(){n.repeat_timer=!1})},_setValue:function(e,n){var o=this.element,d=this.options;v.exec(d.onBeforeChange,[e],o[0])===!0&&(v.isValue(d.maxValue)&&e>Number(d.maxValue)&&(e=Number(d.maxValue)),v.isValue(d.minValue)&&e<Number(d.minValue)&&(e=Number(d.minValue)),o.val(e),this._fireEvent("change",{val:e},!1,!0),n===!0&&o.fire("change",{val:e}))},val:function(e){var n=this.element,o=this.options;if(!v.isValue(e))return n.val();this._setValue(e.toFixed(o.fixed),!0)},toDefault:function(){var e=this.options,n=v.isValue(e.defaultValue)?Number(e.defaultValue):0;this._setValue(n.toFixed(e.fixed),!0),this._fireEvent("change",{val:n})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){var n,o=this,d=this.element;switch(e){case"disabled":this.toggleState();break;case"value":n=d.attr("value").trim(),v.isValue(n)&&o._setValue(Number(n),!1)}},destroy:function(){var e=this.element,n=e.closest(".spinner"),o=n.find(".spinner-button");return n.off(c.events.click),o.off(c.events.start),o.off(c.events.stop),e.off(c.events.keydown),n.off(c.events.keyup),e}}),h(document).on(c.events.click,function(){h(".spinner").removeClass("focused")})}(Metro,m4q),function(c,h){var v=c.utils,y=c.storage,e={splitterDeferred:0,splitMode:"horizontal",splitSizes:null,gutterSize:4,minSizes:null,children:"*",gutterClick:"expand",saveState:!1,noResize:!1,onResizeStart:c.noop,onResizeStop:c.noop,onResizeSplit:c.noop,onResizeWindow:c.noop,onSplitterCreate:c.noop};c.splitterSetup=function(n){e=h.extend({},e,n)},window.metroSplitterSetup!==void 0&&c.splitterSetup(window.metroSplitterSetup),c.Component("splitter",{init:function(n,o){return this._super(o,n,e,{storage:v.isValue(y)?y:null,storageKey:"SPLITTER:",id:v.elementId("splitter")}),this},_create:function(){var n=this.element;this._createStructure(),this._createEvents(),this._fireEvent("splitter-create",{element:n})},_createStructure:function(){var n,o=this.element,d=this.options,p=o.children(d.children).addClass("split-block"),w=[],_=d.splitMode==="horizontal"?"width":"height";for(o.addClass("splitter"),d.splitMode.toLowerCase()==="vertical"&&o.addClass("vertical"),d.noResize===!0&&o.addClass("static-size"),n=0;n<p.length-1;n++)h("<div>").addClass("gutter").css(_,d.gutterSize).insertAfter(h(p[n]));if(this._setSize(),v.isValue(d.minSizes))if((""+d.minSizes).includes(","))for(w=d.minSizes.toArray(),n=0;n<w.length;n++)h(p[n]).data("min-size",w[n]),p[n].style.setProperty("min-"+_,(""+w[n]).includes("%")?w[n]:(""+w[n]).replace("px","")+"px","important");else h.each(p,function(){this.style.setProperty("min-"+_,(""+d.minSizes).includes("%")?d.minSizes:(""+d.minSizes).replace("px","")+"px","important")});d.saveState&&this.storage!==null&&this._getSize()},_setSize:function(){var n,o,d,p=this.element,w=this.options,_=p.children(".split-block");if(n=p.children(".gutter"),v.isValue(w.splitSizes))for(o=w.splitSizes.toArray(),d=0;d<o.length;d++){var E=o[d];isNaN(E)||(E+="%"),h(_[d]).css({flexBasis:"calc("+E+" - "+n.length*w.gutterSize+"px)"})}else _.css({flexBasis:"calc("+100/_.length+"% - "+n.length*w.gutterSize+"px)"})},_createEvents:function(){var n=this,o=this.element,d=this.options,p=o.children(".gutter");p.on(c.events.startAll,function(w){if(d.noResize===!0)return!1;var _=d.splitMode==="horizontal"?o.width():o.height(),E=h(this),A=E.prev(".split-block"),B=E.next(".split-block"),H=100*(d.splitMode==="horizontal"?A.outerWidth(!0):A.outerHeight(!0))/_,V=100*(d.splitMode==="horizontal"?B.outerWidth(!0):B.outerHeight(!0))/_,K=v.getCursorPosition(o[0],w);E.addClass("active"),A.addClass("stop-pointer"),B.addClass("stop-pointer"),n._fireEvent("resize-start",{pos:K,gutter:E[0],prevBlock:A[0],nextBlock:B[0]}),h(window).on(c.events.moveAll,function(Z){var xe,Ee=v.getCursorPosition(o[0],Z);xe=d.splitMode==="horizontal"?100*Ee.x/_-100*K.x/_:100*Ee.y/_-100*K.y/_,A.css("flex-basis","calc("+(H+xe)+"% - "+p.length*d.gutterSize+"px)"),B.css("flex-basis","calc("+(V-xe)+"% - "+p.length*d.gutterSize+"px)"),n._fireEvent("resize-split",{pos:Ee,gutter:E[0],prevBlock:A[0],nextBlock:B[0]})},{ns:n.id}),h(window).on(c.events.stopAll,function(Z){var xe;A.removeClass("stop-pointer"),B.removeClass("stop-pointer"),n._saveSize(),E.removeClass("active"),h(window).off(c.events.moveAll,{ns:n.id}),h(window).off(c.events.stopAll,{ns:n.id}),xe=v.getCursorPosition(o[0],Z),n._fireEvent("resize-stop",{pos:xe,gutter:E[0],prevBlock:A[0],nextBlock:B[0]})},{ns:n.id})}),h(window).on(c.events.resize,function(){var w=o.children(".gutter"),_=w.prev(".split-block"),E=w.next(".split-block");n._fireEvent("resize-window",{prevBlock:_[0],nextBlock:E[0]})},{ns:n.id})},_saveSize:function(){var n=this.element,o=this.options,d=this.storage,p=[],w=n.attr("id")||this.id;o.saveState===!0&&d!==null&&(h.each(n.children(".split-block"),function(){var _=h(this);p.push(_.css("flex-basis"))}),d&&d.setItem(this.storageKey+w,p))},_getSize:function(){var n=this.element,o=this.options,d=this.storage,p=[],w=n.attr("id")||this.id;o.saveState===!0&&d!==null&&(p=d.getItem(this.storageKey+w),h.each(n.children(".split-block"),function(_,E){var A=h(E);v.isValue(p)&&v.isValue(p[_])&&A.css("flex-basis",p[_])}))},size:function(n){var o=this.options;return v.isValue(n)&&(o.splitSizes=n,this._setSize()),this},changeAttribute:function(n){var o=this,d=this.element;n==="data-split-sizes"&&function(){var w=d.attr("data-split-sizes");o.size(w)}()},destroy:function(){var n=this.element;return n.children(".gutter").off(c.events.start),n}})}(Metro,m4q),function(c,h){var v={stepperDeferred:0,view:c.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:"",clsStep:"",clsComplete:"",clsCurrent:"",onStep:c.noop,onStepClick:c.noop,onStepperCreate:c.noop};c.stepperSetup=function(y){v=h.extend({},v,y)},typeof window.metroStepperSetup!==void 0&&c.stepperSetup(window.metroStepperSetup),c.Component("stepper",{init:function(y,e){return this._super(e,y,v,{current:0}),this},_create:function(){var y=this.element,e=this.options;e.step<=0&&(e.step=1),this._createStepper(),this._createEvents(),this._fireEvent("stepper-create",{element:y})},_createStepper:function(){var y,e=this.element,n=this.options;for(e.addClass("stepper").addClass(n.view).addClass(n.clsStepper),y=1;y<=n.steps;y++)h("<span>").addClass("step").addClass(n.clsStep).data("step",y).html("<span>"+y+"</span>").appendTo(e);this.current=1,this.toStep(n.step)},_createEvents:function(){var y=this,e=this.element,n=this.options;e.on(c.events.click,".step",function(){var o=h(this).data("step");n.stepClick===!0&&(y.toStep(o),y._fireEvent("step-click",{step:o}))})},next:function(){var y=this.element.find(".step");this.current+1>y.length||(this.current++,this.toStep(this.current))},prev:function(){this.current-1!=0&&(this.current--,this.toStep(this.current))},last:function(){var y=this.element;this.toStep(y.find(".step").length)},first:function(){this.toStep(1)},toStep:function(y){var e=this.element,n=this.options,o=h(e.find(".step").get(y-1)),d=this.current;o.length!==0&&(this.current=y,e.find(".step").removeClass("complete current").removeClass(n.clsCurrent).removeClass(n.clsComplete),o.addClass("current").addClass(n.clsCurrent),o.prevAll().addClass("complete").addClass(n.clsComplete),this._fireEvent("step",{step:this.current,prev:d}))},changeAttribute:function(){},destroy:function(){var y=this.element;return y.off(c.events.click,".step"),y}})}(Metro,m4q),function(c){var h=c.utils,v=function(y){return new v.init(y)};v.prototype={setKey:function(y){this.key=y},getKey:function(){return this.key},setItem:function(y,e){this.storage.setItem(this.key+":"+y,JSON.stringify(e))},getItem:function(y,e,n){var o,d;d=this.storage.getItem(this.key+":"+y);try{o=JSON.parse(d,n)}catch{o=null}return h.nvl(o,e)},getItemPart:function(y,e,n,o){var d,p=this.getItem(y,n,o);for(e=e.split("->"),d=0;d<e.length;d++)p=p[e[d]];return p},delItem:function(y){this.storage.removeItem(this.key+":"+y)},size:function(y){var e;switch(y){case"m":case"M":e=1048576;break;case"k":case"K":e=1024;break;default:e=1}return JSON.stringify(this.storage).length/e}},v.init=function(y){return this.key="",this.storage=y||window.localStorage,this},v.init.prototype=v.prototype,c.storage=v(window.localStorage),c.session=v(window.sessionStorage)}(Metro),function(c,h){var v=c.utils,y={streamerDeferred:0,wheel:!0,wheelStep:20,duration:METRO_ANIMATION_DURATION,defaultClosedIcon:"",defaultOpenIcon:"",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:"",excludeClickClass:"",excludeClass:"",onDataLoad:c.noop,onDataLoaded:c.noop,onDataLoadError:c.noop,onDrawEvent:c.noop,onDrawGlobalEvent:c.noop,onDrawStream:c.noop,onStreamClick:c.noop,onStreamSelect:c.noop,onEventClick:c.noop,onEventSelect:c.noop,onEventsScroll:c.noop,onStreamerCreate:c.noop};c.streamerSetup=function(e){y=h.extend({},y,e)},typeof window.metroStreamerSetup!==void 0&&c.streamerSetup(window.metroStreamerSetup),c.Component("streamer",{init:function(e,n){return this._super(n,e,y,{data:null,scroll:0,scrollDir:"left",events:null}),this},_create:function(){var e=this.element,n=this.options;if(e.addClass("streamer"),e.attr("id")===void 0&&e.attr("id",v.elementId("streamer")),n.source===null&&n.data===null)return!1;h("<div>").addClass("streams").appendTo(e),h("<div>").addClass("events-area").appendTo(e),n.source!==null?(this._fireEvent("data-load",{source:n.source}),this._loadSource()):(this.data=n.data,this.build()),n.chromeNotice===!0&&v.detectChrome()===!0&&h.touchable===!1&&h("<p>").addClass("text-small text-muted").html("*) In Chrome browser please press and hold Shift and turn the mouse wheel.").insertAfter(e)},_loadSource:function(){var e=this,n=this.options;fetch(n.source).then(c.fetch.status).then(c.fetch.json).then(function(o){e._fireEvent("data-loaded",{source:n.source,data:o}),e.data=o,e.build()}).catch(function(o){e._fireEvent("data-load-error",{source:n.source,error:o})})},build:function(){var e,n=this,o=this.element,d=this.options,p=this.data,w=o.find(".streams").html(""),_=o.find(".events-area").html(""),E=h("<ul>").addClass("streamer-timeline").html("").appendTo(_),A=h("<div>").addClass("streamer-events").appendTo(_),B=h("<div>").addClass("event-group").appendTo(A),H=v.getURIParameter(null,"StreamerIDS");H!==null&&d.encodeLink===!0&&(H=atob(H));var V=H?H.split("|")[0]:null,K=H?H.split("|")[1].split(","):[];if(p.actions!==void 0){var Z=h("<div>").addClass("streamer-actions").appendTo(w);h.each(p.actions,function(){var Ve=this,bt=h("<button>").addClass("streamer-action").addClass(Ve.cls).html(Ve.html);Ve.onclick!==void 0&&bt.on(c.events.click,function(){v.exec(Ve.onclick,[o])}),bt.appendTo(Z)})}E.html(""),p.timeline===void 0&&(p.timeline={start:"09:00",stop:"18:00",step:20});var xe,Ee,We,z,ee,le,Ce,ye,$e,Qe=new Date,rt=new Date,tt=p.timeline.start?p.timeline.start.split(":"):[9,0],jt=p.timeline.stop?p.timeline.stop.split(":"):[18,0],Jt=p.timeline.step?60*parseInt(p.timeline.step):1200;for(Qe.setHours(tt[0]),Qe.setMinutes(tt[1]),Qe.setSeconds(0),rt.setHours(jt[0]),rt.setMinutes(jt[1]),rt.setSeconds(0),xe=Qe.getTime()/1e3;xe<=rt.getTime()/1e3;xe+=Jt)for(We=(Ee=new Date(1e3*xe)).getHours(),ee=Ee.getMinutes(),z=Str.lpad(We,"0",2)+":"+Str.lpad(ee,"0",2),$e=(ye=h("<li>").data("time",z).addClass("js-time-point-"+z.replace(":","-")).html("<em>"+z+"</em>").appendTo(E)).width()/parseInt(p.timeline.step),e=h("<ul>").addClass("streamer-fake-timeline").html("").appendTo(ye),le=0;le<parseInt(p.timeline.step);le++)Ce=ee+le,z=Str.lpad(We,"0",2)+":"+Str.lpad(Ce,"0",2),h("<li>").data("time",z).addClass("js-fake-time-point-"+z.replace(":","-")).html("|").appendTo(e).css({width:$e});if(p.streams!==void 0&&h.each(p.streams,function(Ve){var bt=0,ni=this,Wn=h("<div>").addClass("stream").addClass(this.cls).appendTo(w);Wn.addClass(ni.cls).data("one",!1).data("data",ni.data),h("<div>").addClass("stream-title").html(ni.title).appendTo(Wn),h("<div>").addClass("stream-secondary").html(ni.secondary).appendTo(Wn),h(ni.icon).addClass("stream-icon").appendTo(Wn);var ki=c.colors.toHEX(v.getStyleOne(Wn,"background-color")),In=c.colors.toHEX(v.getStyleOne(Wn,"color")),_i=h("<div>").addClass("stream-events").data("background-color",ki).data("text-color",In).appendTo(B);if(ni.events!==void 0){h.each(ni.events,function(Ts){var gi,kn,wt=this,rs=wt.row===void 0?1:parseInt(wt.row),os=Ve+":"+Ts,D=wt.custom!==void 0?wt.custom:"",P=wt.custom_open!==void 0?wt.custom_open:"",W=wt.custom_close!==void 0?wt.custom_close:"";if(wt.skip===void 0||!v.bool(wt.skip)){kn=h("<div>").data("origin",wt).data("sid",os).data("data",wt.data).data("time",wt.time).data("target",wt.target).addClass("stream-event").addClass("size-"+wt.size+(["half","one-third"].includes(wt.size)?"":"x")).addClass(wt.cls).appendTo(_i);var Q=E.find(".js-fake-time-point-"+this.time.replace(":","-")).offset().left-_i.offset().left,de=75*(rs-1);if(rs>bt&&(bt=rs),kn.css({position:"absolute",left:Q,top:de}),v.isNull(wt.html)){var Ue=h("<div>").addClass("stream-event-slide").appendTo(kn),Ke=h("<div>").addClass("slide-logo").appendTo(Ue),mt=h("<div>").addClass("slide-data").appendTo(Ue);wt.icon!==void 0&&(v.isTag(wt.icon)?h(wt.icon).addClass("icon").appendTo(Ke):h("<img>").addClass("icon").attr("src",wt.icon).appendTo(Ke)),h("<span>").addClass("time").css({backgroundColor:ki,color:In}).html(wt.time).appendTo(Ke),h("<div>").addClass("title").html(wt.title).appendTo(mt),h("<div>").addClass("subtitle").html(wt.subtitle).appendTo(mt),h("<div>").addClass("desc").html(wt.desc).appendTo(mt),(d.closed===!1&&o.attr("id")===V&&K.indexOf(os)!==-1||wt.selected===!0||parseInt(wt.selected)===1)&&kn.addClass("selected"),d.closed===!0||wt.closed===!0||parseInt(wt.closed)===1?(gi=wt.closedIcon!==void 0?v.isTag(wt.closedIcon)?wt.closedIcon:"<span>"+wt.closedIcon+"</span>":v.isTag(d.defaultClosedIcon)?d.defaultClosedIcon:"<span>"+d.defaultClosedIcon+"</span>",h(gi).addClass("state-icon").addClass(wt.clsClosedIcon).appendTo(Ue),kn.data("closed",!0).data("target",wt.target),kn.append(P)):(gi=wt.openIcon!==void 0?v.isTag(wt.openIcon)?wt.openIcon:"<span>"+wt.openIcon+"</span>":v.isTag(d.defaultOpenIcon)?d.defaultOpenIcon:"<span>"+d.defaultOpenIcon+"</span>",h(gi).addClass("state-icon").addClass(wt.clsOpenIcon).appendTo(Ue),kn.data("closed",!1),kn.append(W)),kn.append(D)}else kn.html(wt.html);n._fireEvent("draw-event",{event:kn[0]})}});var Mt=_i.find(".stream-event").last();Mt.length>0&&_i.outerWidth(Mt[0].offsetLeft+Mt.outerWidth())}_i.css({height:75*bt}),o.find(".stream").eq(_i.index()).css({height:75*bt}),n._fireEvent("draw-stream",{stream:Wn[0]})}),p.global!==void 0){var ui=A.offset().left;h.each(["before","after"],function(){p.global[this]!==void 0&&h.each(p.global[this],function(){var Ve=this,bt=h("<div>").addClass("event-group").addClass("size-"+Ve.size+(["half","one-third"].includes(Ve.size)?"":"x")),ni=h("<div>").addClass("stream-events global-stream").appendTo(bt),Wn=h("<div>").addClass("stream-event").appendTo(ni);Wn.addClass("global-event").addClass(Ve.cls).data("time",Ve.time).data("origin",Ve).data("data",Ve.data),h("<div>").addClass("event-title").html(Ve.title).appendTo(Wn),h("<div>").addClass("event-subtitle").html(Ve.subtitle).appendTo(Wn),h("<div>").addClass("event-html").html(Ve.html).appendTo(Wn);var ki,In=E.find(".js-fake-time-point-"+this.time.replace(":","-"));In.length>0&&(ki=In.offset().left-ui),bt.css({position:"absolute",left:ki,height:"100%"}).appendTo(A),n._fireEvent("draw-global-event",{event:Wn[0]})})})}o.data("stream",-1),o.find(".events-area").scrollLeft(0),this.events=o.find(".stream-event"),this._createEvents(),d.startFrom!==null&&d.slideToStart===!0&&setTimeout(function(){n.slideTo(d.startFrom)},d.startSlideSleep),this._fireEvent("streamer-create"),this._fireScroll()},_fireScroll:function(){var e=this.element.find(".events-area"),n=this.scroll;e.length!==0&&(this.scrollDir=this.scroll<e[0].scrollLeft?"left":"right",this.scroll=e[0].scrollLeft,this._fireEvent("events-scroll",{scrollLeft:e[0].scrollLeft,oldScroll:n,scrollDir:this.scrollDir,events:h.toArray(this.events)}))},_createEvents:function(){var e=this,n=this.element,o=this.options;n.off(c.events.click,".stream-event").on(c.events.click,".stream-event",function(d){var p=h(this);if(!(o.excludeClass!==""&&p.hasClass(o.excludeClass)||o.excludeElement!==null&&h(d.target).is(o.excludeElement))){if(o.closed===!1&&p.data("closed")!==!0&&o.eventClick==="select")o.excludeSelectClass!==""&&p.hasClass(o.excludeSelectClass)||o.excludeSelectElement!==null&&h(d.target).is(o.excludeSelectElement)||(p.hasClass("global-event")?o.selectGlobal===!0&&p.toggleClass("selected"):p.toggleClass("selected"),o.changeUri===!0&&e._changeURI(),e._fireEvent("event-select",{event:p[0],selected:p.hasClass("selected")}));else if(!(o.excludeClickClass!==""&&p.hasClass(o.excludeClickClass))){if(!(o.excludeClickElement!==null&&h(d.target).is(o.excludeClickElement))){if(e._fireEvent("event-click",{event:p[0]}),o.closed===!0||p.data("closed")===!0){var w=p.data("target");w&&(window.location.href=w)}}}}}),n.off(c.events.click,".stream").on(c.events.click,".stream",function(){var d=h(this),p=d.index();o.streamSelect!==!1&&(n.data("stream")===p?(n.find(".stream-event").removeClass("disabled"),n.data("stream",-1)):(n.data("stream",p),n.find(".stream-event").addClass("disabled"),e.enableStream(d),e._fireEvent("stream-select",{stream:d})),e._fireEvent("stream-click",{stream:d}))}),o.wheel===!0&&(n.find(".events-area").off(c.events.mousewheel).on(c.events.mousewheel,function(d){if(d.deltaY!==void 0){var p,w=h(this),_=d.deltaY>0?-1:1,E=o.wheelStep;p=w.scrollLeft()-_*E,w.scrollLeft(p)}}),n.find(".events-area").off("mouseenter").on("mouseenter",function(){(function(){var p=window.pageYOffset||document.documentElement.scrollTop,w=window.pageXOffset||document.documentElement.scrollLeft;window.onscroll=function(){window.scrollTo(w,p)}})()}),n.find(".events-area").off("mouseleave").on("mouseleave",function(){(function(){window.onscroll=function(){}})()})),n.find(".events-area").last().off("scroll").on("scroll",function(){e._fireScroll()}),h.touchable===!0&&n.off(c.events.click,".stream").on(c.events.click,".stream",function(){var d=h(this);d.toggleClass("focused"),h.each(n.find(".stream"),function(){h(this).is(d)||h(this).removeClass("focused")})})},_changeURI:function(){var e=this.getLink();history.pushState({},document.title,e)},slideTo:function(e){var n,o=this.element,d=this.options;n=h(e===void 0?o.find(".streamer-timeline li")[0]:o.find(".streamer-timeline .js-time-point-"+e.replace(":","-"))[0]),o.find(".events-area").animate({draw:{scrollLeft:n[0].offsetLeft-o.find(".streams .stream").outerWidth()},dur:d.duration})},enableStream:function(e){var n=this.element,o=e.index()-1;e.removeClass("disabled").data("streamDisabled",!1),n.find(".stream-events").eq(o).find(".stream-event").removeClass("disabled")},disableStream:function(e){var n=this.element,o=e.index()-1;e.addClass("disabled").data("streamDisabled",!0),n.find(".stream-events").eq(o).find(".stream-event").addClass("disabled")},toggleStream:function(e){e.data("streamDisabled")===!0?this.enableStream(e):this.disableStream(e)},getLink:function(){var e,n=this.element,o=this.options,d=n.find(".stream-event"),p=[],w=window.location.href;return h.each(d,function(){var _=h(this);_.data("sid")!==void 0&&_.hasClass("selected")&&p.push(_.data("sid"))}),e=n.attr("id")+"|"+p.join(","),o.encodeLink===!0&&(e=btoa(e)),v.updateURIParameter(w,"StreamerIDS",e)},getTimes:function(){var e=this.element.find(".streamer-timeline > li"),n=[];return h.each(e,function(){n.push(h(this).data("time"))}),n},getEvents:function(e,n){var o,d=this.element,p=[];switch(e){case"selected":o=d.find(".stream-event.selected");break;case"non-selected":o=d.find(".stream-event:not(.selected)");break;default:o=d.find(".stream-event")}return h.each(o,function(){var w,_=h(this);n!==!0&&_.parent().hasClass("global-stream")||(w=_.data("origin"),p.push(w))}),p},source:function(e){var n=this.element;if(e===void 0)return this.options.source;n.attr("data-source",e),this.options.source=e,this.changeSource()},dataSet:function(e){if(e===void 0)return this.options.data;this.options.data=e,this.changeData(e)},getStreamerData:function(){return this.data},toggleEvent:function(e){var n=this.options;(e=h(e)).hasClass("global-event")&&n.selectGlobal!==!0||(e.hasClass("selected")?this.selectEvent(e,!1):this.selectEvent(e,!0))},selectEvent:function(e,n){var o=this.options;n===void 0&&(n=!0),(e=h(e)).hasClass("global-event")&&o.selectGlobal!==!0||(n===!0?e.addClass("selected"):e.removeClass("selected"),o.changeUri===!0&&this._changeURI(),this._fireEvent("event-select",{event:e[0],selected:n}))},changeSource:function(){var e=this.element,n=this.options,o=e.attr("data-source");String(o).trim()!==""&&(n.source=o,this._fireEvent("data-load",{source:n.source}),this._loadSource(),this._fireEvent("source-change"))},changeData:function(e){var n=this.element,o=this.options,d=this.data;o.data=typeof e=="object"?e:JSON.parse(n.attr("data-data")),this.data=o.data,this.build(),this._fireEvent("data-change",{oldData:d,newData:o.data})},changeStreamSelectOption:function(){var e=this.element;this.options.streamSelect=e.attr("data-stream-select").toLowerCase()==="true"},changeAttribute:function(e){switch(e){case"data-source":this.changeSource();break;case"data-data":this.changeData();break;case"data-stream-select":this.changeStreamSelectOption()}},destroy:function(){var e=this.element;return e.off(c.events.click,".stream-event"),e.off(c.events.click,".stream"),e.find(".events-area").off(c.events.mousewheel),e.find(".events-area").last().off("scroll"),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={switchDeferred:0,material:!1,transition:!0,caption:"",captionPosition:"right",clsSwitch:"",clsCheck:"",clsCaption:"",textOn:"",textOff:"",locale:METRO_LOCALE,showOnOff:!1,onSwitchCreate:c.noop};c.switchSetup=function(e){y=h.extend({},y,e)},typeof window.metroSwitchSetup!==void 0&&c.switchSetup(window.metroSwitchSetup),c.Component("switch",{init:function(e,n){return this._super(n,e,y,{locale:null}),this},_create:function(){var e,n=this.element,o=this.options,d=h("<span>").addClass("check"),p=h("<span>").addClass("caption").html(o.caption);n.attr("type","checkbox"),n.attr("readonly")!==void 0&&n.on("click",function(w){w.preventDefault()}),e=n.wrap(h("<label>").addClass((o.material===!0?" switch-material ":" switch ")+n[0].className)),this.component=e,d.appendTo(e),p.appendTo(e),o.transition===!0&&e.addClass("transition-on"),o.captionPosition==="left"&&e.addClass("caption-left"),n[0].className="",e.addClass(o.clsSwitch),p.addClass(o.clsCaption),d.addClass(o.clsCheck),n.is(":disabled")?this.disable():this.enable(),this.i18n(o.locale),this._fireEvent("switch-create")},disable:function(){this.element.prop("disabled",!0)},enable:function(){this.element.prop("disabled",!1)},toggleState:function(){this.element.is(":disabled")?this.enable():this.disable()},toggle:function(e){var n=this.element;return n.is(":disabled")||(v.isValue(e)?n.prop("checked",e===1):n.prop("checked",!v.bool(n.prop("checked")))),this},changeLocale:function(e,n){var o=this.element,d=this.options,p=o.siblings(".check");d["text"+Str.capitalize(e)]=n,p.attr("data-"+e,n)},i18n:function(e){var n,o,d=this.element,p=this.options,w=d.siblings(".check");p.locale=e,this.locale=c.locales[p.locale]!==void 0?c.locales[p.locale]:c.locales["en-US"],p.showOnOff?(n=d.attr("data-on")||p.textOn||this.locale.switch.on,o=d.attr("data-off")||p.textOff||this.locale.switch.off,w.attr("data-on",n),w.attr("data-off",o)):(w.removeAttr("data-on"),w.removeAttr("data-off"))},changeAttribute:function(e,n){switch(e){case"data-on":case"data-text-on":this.changeLocale("on",n);break;case"data-off":case"data-text-off":this.changeLocale("off",n)}},destroy:function(){return this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"<span class='default-icon-equalizer'>",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,locale:METRO_LOCALE,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkStyle:1,checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,static:!1,source:null,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:c.noop,onDrawRow:c.noop,onDrawCell:c.noop,onAppendRow:c.noop,onAppendCell:c.noop,onSortStart:c.noop,onSortStop:c.noop,onSortItemSwitch:c.noop,onSearch:c.noop,onRowsCountChange:c.noop,onDataLoad:c.noop,onDataLoadError:c.noop,onDataLoaded:c.noop,onDataLoadEnd:c.noop,onDataSaveError:c.noop,onFilterRowAccepted:c.noop,onFilterRowDeclined:c.noop,onCheckClick:c.noop,onCheckClickAll:c.noop,onCheckDraw:c.noop,onViewSave:c.noop,onViewGet:c.noop,onViewCreated:c.noop,onTableCreate:c.noop,onSkip:c.noop};c.tableSetup=function(e){y=h.extend({},y,e)},typeof window.metroTableSetup!==void 0&&c.tableSetup(window.metroTableSetup),c.Component("table",{init:function(e,n){return this._super(n,e,y,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},locale:c.locales["en-US"],input_interval:null,searchFields:[],id:v.elementId("table"),sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){var e,n,o,d=this,p=this.element,w=this.options,_=v.elementId("table");if(v.isValue(p.attr("id"))||p.attr("id",_),v.isValue(c.locales[w.locale])&&(this.locale=c.locales[w.locale]),v.isValue(w.searchFields)&&(this.searchFields=w.searchFields.toArray()),v.isValue(w.head)){var E=w.head;w.head=v.isObject(w.head),w.head||(console.warn("Head "+E+" defined but not exists!"),w.head=null)}if(v.isValue(w.body)){var A=w.body;w.body=v.isObject(w.body),w.body||(console.warn("Body "+A+" defined but not exists!"),w.body=null)}if(w.static===!0&&(w.showPagination=!1,w.showRowsSteps=!1,w.showSearch=!1,w.showTableInfo=!1,w.showSkip=!1,w.rows=-1),(e=h("<div>").addClass("table-component")).insertBefore(p),n=h("<div>").addClass("table-container").addClass(w.clsTableContainer).appendTo(e),p.appendTo(n),w.horizontalScroll===!0&&n.addClass("horizontal-scroll"),!v.isNull(w.horizontalScrollStop)&&v.mediaExist(w.horizontalScrollStop)&&n.removeClass("horizontal-scroll"),e.addClass(w.clsComponent),this.activity=h("<div>").addClass("table-progress").appendTo(e),o=h("<div>").appendTo(this.activity),c.makePlugin(o,"activity",{type:w.activityType,style:w.activityStyle}),w.showActivity!==!0&&this.activity.css({visibility:"hidden"}),this.component=e[0],w.source!==null){this._fireEvent("data-load",{source:w.source});var B=v.isObject(w.source);B!==!1&&h.isPlainObject(B)?d._build(B):this.activity.show(function(){fetch(w.source).then(c.fetch.status).then(c.fetch.json).then(function(H){if(d.activity.hide(),typeof H!="object")throw new Error("Data for table is not a object");d._fireEvent("data-loaded",{source:w.source,data:H}),d._build(H)}).catch(function(H){d.activity.hide(),d._fireEvent("data-load-error",{source:w.source,error:H})})})}else d._build()},_createIndex:function(){var e=this,n=this.options.checkColIndex;setImmediate(function(){e.items.forEach(function(o,d){e.index[o[n]]=d})})},_build:function(e){var n,o,d=this,p=this.element,w=this.options,_=p.attr("id");w.rows=+w.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(w.head)&&(this.heads=w.head),Array.isArray(w.body)&&(this.items=w.body),v.isValue(e)?this._createItemsFromJSON(e):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=v.objectClone(this.view),o=w.viewSavePath.replace("$1",_),w.viewSaveMode.toLowerCase()==="client"?(n=c.storage.getItem(o),v.isValue(n)&&v.objectLength(n)===v.objectLength(this.view)&&(this.view=n,this._fireEvent("view-get",{source:"client",view:n})),this._final()):fetch(o).then(c.fetch.status).then(c.fetch.json).then(function(E){v.isValue(E)&&v.objectLength(E)===v.objectLength(d.view)&&(d.view=E,d._fireEvent("view-get",{source:"server",view:E})),d._final()}).catch(function(E){d._final(),console.warn("Warning! Error loading view for table "+p.attr("id")+": "+E)})},_final:function(){var e=this.element,n=this.options,o=e.attr("id");c.storage.delItem(n.checkStoreKey.replace("$1",o)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:e})},_service:function(){var e=this.options;this.service=[{title:e.rownumTitle,format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:"rownum-cell "+(e.rownum!==!0?"d-none":""),cls:"rownum-cell "+(e.rownum!==!0?"d-none":""),colspan:void 0,type:"rownum"},{title:e.checkType==="checkbox"?"<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='"+e.checkStyle+"'>":"",format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:"check-cell "+(e.check!==!0?"d-none":""),cls:"check-cell "+(e.check!==!0?"d-none":""),colspan:void 0,type:"rowcheck"}]},_createView:function(){var e;return e={},h.each(this.heads,function(n){v.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),v.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),e[n]={index:n,"index-view":n,show:!v.isValue(this.show)||this.show,size:v.isValue(this.size)?this.size:""}}),this._fireEvent("view-created",{view:e}),e},_createInspectorItems:function(e){var n,o,d=this,p=this.options,w=[],_=this.heads;for(e.html(""),n=0;n<_.length;n++)w[n]=null;for(h.each(_,function(E){(o=h("<tr>")).data("index",E),o.data("index-view",E),h("<td>").html("<input type='checkbox' data-style='"+p.checkStyle+"' data-role='checkbox' name='column_show_check[]' value='"+E+"' "+(v.bool(d.view[E].show)?"checked":"")+">").appendTo(o),h("<td>").html(this.title).appendTo(o),h("<td>").html("<input type='number' data-role='spinner' name='column_size' value='"+d.view[E].size+"' data-index='"+E+"'>").appendTo(o),h("<td>").html("<button class='button square js-table-inspector-field-up' type='button'><span class='mif-arrow-up'></span></button><button class='button square js-table-inspector-field-down' type='button'><span class='mif-arrow-down'></span></button>").appendTo(o),w[d.view[E]["index-view"]]=o}),n=0;n<_.length;n++)w[n].appendTo(e)},_createInspector:function(){var e,n,o,d,p,w=this.options;(e=h("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector")).attr("for",this.element.attr("id")),h("<div class='table-inspector-header'>"+(w.inspectorTitle||this.locale.table.inspector)+"</div>").appendTo(e),n=h("<div>").addClass("table-wrap").appendTo(e),o=h("<table>").addClass("table subcompact"),d=h("<tbody>").appendTo(o),o.appendTo(n),this._createInspectorItems(d),p=h("<div class='table-inspector-actions'>").appendTo(e),h("<button class='button primary js-table-inspector-save' type='button'>").html(this.locale.buttons.save).appendTo(p),h("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(this.locale.buttons.reset).appendTo(p),h("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(this.locale.buttons.cancel).appendTo(p),e.data("open",!1),this.inspector=e,h("body").append(e),this._createInspectorEvents()},_resetInspector:function(){var e=this.inspector.find("table tbody");this._createInspectorItems(e),this._createInspectorEvents()},_createHeadsFromHTML:function(){var e=this,n=this.element.find("thead");n.length>0&&h.each(n.find("tr > *"),function(){var o,d,p,w=h(this);w.hasClass("rownum-cell")||w.hasClass("check-cell")||(o=v.isValue(w.data("sort-dir"))?w.data("sort-dir"):w.hasClass("sort-asc")?"asc":w.hasClass("sort-desc")?"desc":void 0,p=(p=(p=(p=w[0].className.replace("sortable-column","")).replace("sort-asc","")).replace("sort-desc","")).replace("hidden",""),d={type:"data",title:w.html(),name:v.isValue(w.data("name"))?w.data("name"):w.text().replace(" ","_"),sortable:w.hasClass("sortable-column")||v.isValue(w.data("sortable"))&&JSON.parse(w.data("sortable"))===!0,sortDir:o,format:v.isValue(w.data("format"))?w.data("format"):"string",formatMask:v.isValue(w.data("format-mask"))?w.data("format-mask"):null,clsColumn:v.isValue(w.data("cls-column"))?w.data("cls-column"):"",cls:p,colspan:w.attr("colspan"),size:v.isValue(w.data("size"))?w.data("size"):"",show:!(w.hasClass("hidden")||v.isValue(w.data("show"))&&JSON.parse(w.data("show"))===!1),required:!!v.isValue(w.data("required"))&&JSON.parse(w.data("required"))===!0,field:v.isValue(w.data("field"))?w.data("field"):"input",fieldType:v.isValue(w.data("field-type"))?w.data("field-type"):"text",validator:v.isValue(w.data("validator"))?w.data("validator"):null,template:v.isValue(w.data("template"))?w.data("template"):null},e.heads.push(d))})},_createFootsFromHTML:function(){var e=this,n=this.element.find("tfoot");n.length>0&&h.each(n.find("tr > *"),function(){var o,d=h(this);o={title:d.html(),name:!!v.isValue(d.data("name"))&&d.data("name"),cls:d[0].className,colspan:d.attr("colspan")},e.foots.push(o)})},_createItemsFromHTML:function(){var e=this,n=this.element.find("tbody");n.length>0&&h.each(n.find("tr"),function(){var o=h(this),d=[];h.each(o.children("td"),function(){var p=h(this);d.push(p.html())}),e.items.push(d)}),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(e){var n=this;typeof e=="string"&&(e=JSON.parse(e)),e.header!==void 0?n.heads=e.header:this._createHeadsFromHTML(),e.data!==void 0&&h.each(e.data,function(){var o=[];h.each(this,function(){o.push(this)}),n.items.push(o)}),e.footer!==void 0?this.foots=e.footer:this._createFootsFromHTML()},_createTableHeader:function(){var e,n,o,d=this.element,p=this.options,w=d.find("thead"),_=[],E=p.staticView?this._createView():this.view;if(w.length===0&&(w=h("<thead>"),d.prepend(w)),w.clear().addClass(p.clsHead),this.heads.length===0)return w;for(e=h("<tr>").addClass(p.clsHeadRow).appendTo(w),h.each(this.service,function(){var A=this,B=[],H=h("<th>");v.isValue(A.title)&&H.html(A.title),v.isValue(A.size)&&H.css({width:A.size}),v.isValue(A.cls)&&B.push(A.cls),B.push(p.clsHeadCell),H.addClass(B.join(" ")),e.append(H)}),o=this.heads,n=0;n<o.length;n++)_[n]=null;for(h.each(o,function(A){var B=this,H=[],V=h("<th>");V.data("index",A),v.isValue(B.title)&&V.html(B.title),v.isValue(B.format)&&V.attr("data-format",B.format),v.isValue(B.formatMask)&&V.attr("data-format-mask",B.formatMask),v.isValue(B.name)&&V.attr("data-name",B.name),v.isValue(B.colspan)&&V.attr("colspan",B.colspan),v.isValue(B.size)&&V.attr("data-size",B.size),v.isValue(B.sortable)&&V.attr("data-sortable",B.sortable),v.isValue(B.sortDir)&&V.attr("data-sort-dir",B.sortDir),v.isValue(B.clsColumn)&&V.attr("data-cls-column",B.clsColumn),v.isValue(B.cls)&&V.attr("data-cls",B.cls),v.isValue(B.colspan)&&V.attr("colspan",B.colspan),v.isValue(B.show)&&V.attr("data-show",B.show),v.isValue(B.required)&&V.attr("data-required",B.required),v.isValue(B.field)&&V.attr("data-field",B.field),v.isValue(B.fieldType)&&V.attr("data-field-type",B.fieldType),v.isValue(B.validator)&&V.attr("data-validator",B.validator),v.isValue(B.template)&&V.attr("data-template",B.template),v.isValue(E[A].size)&&V.css({width:E[A].size}),B.sortable===!0&&(H.push("sortable-column"),v.isValue(B.sortDir)&&H.push("sort-"+B.sortDir)),v.isValue(B.cls)&&h.each(B.cls.toArray(),function(){H.push(this)}),v.bool(E[A].show)===!1&&H.indexOf("hidden")===-1&&H.push("hidden"),H.push(p.clsHeadCell),v.bool(E[A].show)&&v.arrayDelete(H,"hidden"),V.addClass(H.join(" ")),_[E[A]["index-view"]]=V}),n=0;n<o.length;n++)_[n].appendTo(e)},_createTableBody:function(){var e,n,o=this.element;n=o.find("thead"),(e=o.find("tbody")).length===0&&(e=h("<tbody>").addClass(this.options.clsBody),n.length!==0?e.insertAfter(n):o.append(e)),e.clear()},_createTableFooter:function(){var e,n,o=this.element,d=this.options,p=o.find("tfoot");p.length===0&&(p=h("<tfoot>").appendTo(o)),p.clear().addClass(d.clsFooter),this.foots.length!==0&&(e=h("<tr>").addClass(d.clsHeadRow).appendTo(p),h.each(this.foots,function(){var w=this;n=h("<th>").appendTo(e),w.title!==void 0&&n.html(w.title),w.name!==void 0&&n.addClass("foot-column-name-"+w.name),w.cls!==void 0&&n.addClass(w.cls),v.isValue(w.colspan)&&n.attr("colspan",w.colspan),n.appendTo(e)}))},_createTopBlock:function(){var e,n,o,d,p=this,w=this.element,_=this.options,E=h("<div>").addClass("table-top").addClass(_.clsTableTop).insertBefore(w.parent());return(e=v.isValue(this.wrapperSearch)?this.wrapperSearch:h("<div>").addClass("table-search-block").addClass(_.clsSearch).appendTo(E)).addClass(_.clsSearch),n=h("<input>").attr("type","text").attr("placeholder",_.tableSearchPlaceholder).appendTo(e),c.makePlugin(n,"input",{prepend:_.tableSearchTitle||p.locale.table.search}),_.showSearch!==!0&&e.hide(),(o=v.isValue(this.wrapperRows)?this.wrapperRows:h("<div>").addClass("table-rows-block").appendTo(E)).addClass(_.clsRowsCount),d=h("<select>").appendTo(o),h.each(_.rowsSteps.toArray(),function(){var A=parseInt(this),B=h("<option>").attr("value",A).text(A===-1?_.allRecordsTitle||p.locale.table.all:A).appendTo(d);A===parseInt(_.rows)&&B.attr("selected","selected")}),c.makePlugin(d,"select",{filter:!1,prepend:_.tableRowsCountTitle||p.locale.table.rowsCount,onChange:function(A){(A=parseInt(A))!==parseInt(_.rows)&&(_.rows=A,p.currentPage=1,p._draw(),p._fireEvent("rows-count-change",{val:A}))}}),_.showInspectorButton&&h("<button>").addClass("button inspector-button").attr("type","button").html(_.inspectorButtonIcon).insertAfter(o),_.showRowsSteps!==!0&&o.hide(),E},_createBottomBlock:function(){var e,n,o,d=this.element,p=this.options,w=h("<div>").addClass("table-bottom").addClass(p.clsTableBottom).insertAfter(d.parent());return(e=v.isValue(this.wrapperInfo)?this.wrapperInfo:h("<div>").addClass("table-info").appendTo(w)).addClass(p.clsTableInfo),p.showTableInfo!==!0&&e.hide(),(n=v.isValue(this.wrapperPagination)?this.wrapperPagination:h("<div>").addClass("table-pagination").appendTo(w)).addClass(p.clsTablePagination),p.showPagination!==!0&&n.hide(),(o=v.isValue(this.wrapperSkip)?this.wrapperSkip:h("<div>").addClass("table-skip").appendTo(w)).addClass(p.clsTableSkip),h("<input type='text'>").addClass("input table-skip-input").addClass(p.clsTableSkipInput).appendTo(o),h("<button>").addClass("button table-skip-button").addClass(p.clsTableSkipButton).html(p.tableSkipTitle||this.locale.table.skip).appendTo(o),p.showSkip!==!0&&o.hide(),w},_createStructure:function(){var e,n=this,o=this.element,d=this.options,p=h(d.searchWrapper),w=h(d.infoWrapper),_=h(d.rowsWrapper),E=h(d.paginationWrapper),A=h(d.skipWrapper);p.length>0&&(this.wrapperSearch=p),w.length>0&&(this.wrapperInfo=w),_.length>0&&(this.wrapperRows=_),E.length>0&&(this.wrapperPagination=E),A.length>0&&(this.wrapperSkip=A),o.addClass(d.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();var B,H=!1;this.heads.length>0&&h.each(this.heads,function(V){!H&&["asc","desc"].indexOf(this.sortDir)>-1&&(H=!0,n.sort.colIndex=V,n.sort.dir=this.sortDir)}),H&&(e=o.find("thead th"),this._resetSortClass(e),h(e.get(this.sort.colIndex+n.service.length)).addClass("sort-"+this.sort.dir),this.sorting()),v.isValue(d.filters)&&typeof d.filters=="string"&&h.each(d.filters.toArray(),function(){(B=v.isFunc(this))!==!1&&n.filtersIndexes.push(n.addFilter(B))}),this.currentPage=1,this._draw()},_resetSortClass:function(e){h(e).removeClass("sort-asc sort-desc")},_createEvents:function(){var e,n=this,o=this.element,d=this.options,p=o.closest(".table-component"),w=p.find(".table-container"),_=p.find(".table-search-block input"),E=d.skipWrapper?h(d.skipWrapper).find(".table-skip-button"):p.find(".table-skip-button"),A=d.skipWrapper?h(d.skipWrapper).find(".table-skip-input"):p.find(".table-skip-input"),B=o.attr("id");p.find(".inspector-button").on(c.events.click,function(){n.toggleInspector()}),E.on(c.events.click,function(){var K=parseInt(A.val().trim());if(isNaN(K)||K<=0||K>n.pagesCount)return A.val(""),!1;A.val(""),n._fireEvent("skip",{skipTo:K,skipFrom:n.currentPage}),n.page(K)}),h(window).on(c.events.resize,function(){d.horizontalScroll===!0&&(!v.isNull(d.horizontalScrollStop)&&v.mediaExist(d.horizontalScrollStop)?w.removeClass("horizontal-scroll"):w.addClass("horizontal-scroll"))},{ns:this.id}),o.on(c.events.click,".sortable-column",function(){if(d.muteTable===!0&&o.addClass("disabled"),n.busy)return!1;n.busy=!0;var K=h(this);n.activity.show(function(){setImmediate(function(){n.currentPage=1,n.sort.colIndex=K.data("index"),K.hasClass("sort-asc")||K.hasClass("sort-desc")?K.hasClass("sort-asc")?n.sort.dir="desc":n.sort.dir="asc":n.sort.dir=d.sortDir,n._resetSortClass(o.find(".sortable-column")),K.addClass("sort-"+n.sort.dir),n.sorting(),n._draw(function(){n.busy=!1,d.muteTable===!0&&o.removeClass("disabled")})})})}),o.on(c.events.click,".table-service-check input",function(){var K=h(this),Z=K.is(":checked"),xe=""+K.val(),Ee=d.checkStoreKey.replace("$1",B),We=c.storage,z=We.getItem(Ee);K.attr("type")==="radio"&&(z=[]),Z?v.isValue(z)?Array(z).indexOf(xe)===-1&&z.push(xe):z=[xe]:v.isValue(z)?v.arrayDelete(z,xe):z=[],We.setItem(Ee,z),n._fireEvent("check-click",{check:this,status:Z,data:z})}),o.on(c.events.click,".table-service-check-all input",function(){var K,Z=h(this).is(":checked"),xe=d.checkStoreKey.replace("$1",B),Ee=c.storage,We=[];d.useCurrentSlice===!0?(K=Ee.getItem(xe,[]),Z?h.each(n.currentSlice,function(){K.indexOf(""+this[d.checkColIndex])===-1&&K.push(""+this[d.checkColIndex])}):h.each(n.currentSlice,function(){var z=""+this[d.checkColIndex];K.indexOf(z)!==-1&&c.utils.arrayDelete(K,z)}),We=K):Z?h.each(n.filteredItems,function(){We.indexOf(this[d.checkColIndex])===-1&&We.push(""+this[d.checkColIndex])}):We=[],Ee.setItem(xe,We),n._draw(),n._fireEvent("check-click-all",{check:this,status:Z,data:We})});var H=function(){n.searchString=this.value.trim().toLowerCase(),clearInterval(n.input_interval),n.input_interval=!1,n.input_interval||(n.input_interval=setTimeout(function(){n.currentPage=1,n._draw(),clearInterval(n.input_interval),n.input_interval=!1},d.searchThreshold))};function V(K){var Z=h(K),xe=Z.parent();n.filteredItems.length!==0&&(xe.hasClass("active")||(xe.hasClass("service")?Z.data("page")==="prev"?(n.currentPage--,n.currentPage===0&&(n.currentPage=1)):(n.currentPage++,n.currentPage>n.pagesCount&&(n.currentPage=n.pagesCount)):n.currentPage=Z.data("page"),n._draw()))}_.on(c.events.inputchange,H),v.isValue(this.wrapperSearch)&&(e=this.wrapperSearch.find("input")).length>0&&e.on(c.events.inputchange,H),p.on(c.events.click,".pagination .page-link",function(){V(this)}),v.isValue(this.wrapperPagination)&&this.wrapperPagination.on(c.events.click,".pagination .page-link",function(){V(this)}),this._createInspectorEvents(),o.on(c.events.click,".js-table-crud-button",function(){})},_createInspectorEvents:function(){var e=this,n=this.inspector;this._removeInspectorEvents(),n.on(c.events.click,".js-table-inspector-field-up",function(){var o,d=h(this).closest("tr"),p=d.prev("tr"),w=d.data("index");p.length!==0&&(d.insertBefore(p),d.addClass("flash"),setTimeout(function(){d.removeClass("flash")},1e3),o=d.index(),d.data("index-view",o),e.view[w]["index-view"]=o,h.each(d.nextAll(),function(){var _=h(this);o++,_.data("index-view",o),e.view[_.data("index")]["index-view"]=o}),e._createTableHeader(),e._draw())}),n.on(c.events.click,".js-table-inspector-field-down",function(){var o,d=h(this).closest("tr"),p=d.next("tr"),w=d.data("index");p.length!==0&&(d.insertAfter(p),d.addClass("flash"),setTimeout(function(){d.removeClass("flash")},1e3),o=d.index(),d.data("index-view",o),e.view[w]["index-view"]=o,h.each(d.prevAll(),function(){var _=h(this);o--,_.data("index-view",o),e.view[_.data("index")]["index-view"]=o}),e._createTableHeader(),e._draw())}),n.on(c.events.click,"input[type=checkbox]",function(){var o=h(this),d=o.is(":checked"),p=o.val(),w=["cls","clsColumn"];d?h.each(w,function(){var _;_=v.isValue(e.heads[p][this])?e.heads[p][this].toArray(" "):[],v.arrayDelete(_,"hidden"),e.heads[p][this]=_.join(" "),e.view[p].show=!0}):h.each(w,function(){var _;(_=v.isValue(e.heads[p][this])?e.heads[p][this].toArray(" "):[]).indexOf("hidden")===-1&&_.push("hidden"),e.heads[p][this]=_.join(" "),e.view[p].show=!1}),e._createTableHeader(),e._draw()}),n.find("input[type=number]").on(c.events.inputchange,function(){var o=h(this),d=o.attr("data-index"),p=parseInt(o.val());e.view[d].size=p===0?"":p,e._createTableHeader()}),n.on(c.events.click,".js-table-inspector-save",function(){e._saveTableView(),e.openInspector(!1)}),n.on(c.events.click,".js-table-inspector-cancel",function(){e.openInspector(!1)}),n.on(c.events.click,".js-table-inspector-reset",function(){e.resetView()})},_removeInspectorEvents:function(){var e=this.inspector;e.off(c.events.click,".js-table-inspector-field-up"),e.off(c.events.click,".js-table-inspector-field-down"),e.off(c.events.click,"input[type=checkbox]"),e.off(c.events.click,".js-table-inspector-save"),e.off(c.events.click,".js-table-inspector-cancel"),e.off(c.events.click,".js-table-inspector-reset"),e.find("input[type=number]").off(c.events.inputchange)},_saveTableView:function(){var e=this,n=this.element,o=this.options,d=this.view,p=n.attr("id"),w=o.viewSavePath.replace("$1",p),_=c.storage;if(o.viewSaveMode.toLowerCase()==="client")_.setItem(w,d),this._fireEvent("view-save",{target:"client",path:o.viewSavePath,view:d});else{var E={id:n.attr("id"),view:d};fetch(w,{method:"POST",body:JSON.stringify(E),header:{"Content-type":"application/json;charset=utf-8"}}).then(c.fetch.status).then(c.fetch.text).then(function(A){e._fireEvent("view-save",{target:"server",path:o.viewSavePath,view:d,post_data:E,response:A})}).catch(function(A){e._fireEvent("data-save-error",{source:o.viewSavePath,error:A,post_data:E})})}},_info:function(e,n,o){var d,p=this.element,w=this.options,_=p.closest(".table-component"),E=v.isValue(this.wrapperInfo)?this.wrapperInfo:_.find(".table-info");E.length!==0&&(n>o&&(n=o),this.items.length===0&&(e=n=o=0),d=(d=(d=(d=w.tableInfoTitle||this.locale.table.info).replace("$1",e)).replace("$2",n)).replace("$3",o),E.html(d))},_paging:function(e){var n=this.element,o=this.options,d=n.closest(".table-component");this.pagesCount=Math.ceil(e/o.rows),c.pagination({length:e,rows:o.rows,current:this.currentPage,target:v.isValue(this.wrapperPagination)?this.wrapperPagination:d.find(".table-pagination"),claPagination:o.clsPagination,prevTitle:o.paginationPrevTitle||this.locale.table.prev,nextTitle:o.paginationNextTitle||this.locale.table.next,distance:o.paginationShortMode===!0?o.paginationDistance:0})},_filter:function(){var e,n=this,o=this.options;return e=v.isValue(this.searchString)&&n.searchString.length>=o.searchMinLength||this.filters.length>0?this.items.filter(function(d){var p,w,_,E="",A=0;if(n.filters.length>0){for(p=o.filtersOperator.toLowerCase()==="and",_=0;_<n.filters.length;_++)v.isNull(n.filters[_])||(A++,p=o.filtersOperator.toLowerCase()==="and"?p&&v.exec(n.filters[_],[d,n.heads]):p||v.exec(n.filters[_],[d,n.heads]));A===0&&(p=!0)}else p=!0;return n.searchFields.length>0?h.each(n.heads,function(B,H){n.searchFields.indexOf(H.name)>-1&&(E+="•"+d[B])}):E=d.join("•"),E=E.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),w=!(v.isValue(n.searchString)&&n.searchString.length>=o.searchMinLength)||~E.indexOf(n.searchString),(p=p&&w)?n._fireEvent("filter-row-accepted",{row:d}):n._fireEvent("filter-row-declined",{row:d}),p}):this.items,this._fireEvent("search",{search:n.searchString,items:e}),this.filteredItems=e,e},_draw:function(e){var n,o,d,p,w,_,E,A,B,H=this,V=this.element,K=this.options,Z=V.find("tbody"),xe=parseInt(K.rows)===-1?0:K.rows*(this.currentPage-1),Ee=parseInt(K.rows)===-1?this.items.length-1:xe+K.rows-1,We=[],z=c.storage.getItem(K.checkStoreKey.replace("$1",V.attr("id"))),ee=K.staticView?this.viewDefault:this.view;if(Z.html(""),this.heads.length){if(B=this._filter(),this.currentSlice=B.slice(xe,Ee+1),We=[],B.length>0){for(n=xe;n<=Ee;n++)if(_=B[n],E=[],v.isValue(_)){for((d=h("<tr>").addClass(K.clsBodyRow)).data("original",_),A=n%2==0,p=h("<td>").html(n+1),H.service[0].clsColumn!==void 0&&p.addClass(H.service[0].clsColumn),p.appendTo(d),p=h("<td>"),w=K.checkType==="checkbox"?h("<input type='checkbox' data-style='"+K.checkStyle+"' data-role='checkbox' name='"+(v.isValue(K.checkName)?K.checkName:"table_row_check")+"[]' value='"+B[n][K.checkColIndex]+"'>"):h("<input type='radio' data-style='"+K.checkStyle+"' data-role='radio' name='"+(v.isValue(K.checkName)?K.checkName:"table_row_check")+"' value='"+B[n][K.checkColIndex]+"'>"),v.isValue(z)&&Array.isArray(z)&&z.indexOf(""+B[n][K.checkColIndex])>-1&&(w.prop("checked",!0),We.push(_)),w.addClass("table-service-check"),this._fireEvent("check-draw",{check:w}),w.appendTo(p),H.service[1].clsColumn!==void 0&&p.addClass(H.service[1].clsColumn),p.appendTo(d),o=0;o<_.length;o++)E[o]=null;for(h.each(_,function(le){var Ce=this,ye=h("<td>");v.isValue(H.heads[le].template)&&(Ce=H.heads[le].template.replace(/%VAL%/g,Ce)),ye.html(Ce),ye.addClass(K.clsBodyCell),v.isValue(H.heads[le].clsColumn)&&ye.addClass(H.heads[le].clsColumn),v.bool(ee[le].show)===!1&&ye.addClass("hidden"),v.bool(ee[le].show)&&ye.removeClass("hidden"),ye.data("original",this),E[ee[le]["index-view"]]=ye,H._fireEvent("draw-cell",{td:ye,val:Ce,cellIndex:le,head:H.heads[le],items:_}),K.cellWrapper===!0&&(Ce=h("<div>").addClass("data-wrapper").addClass(K.clsCellWrapper).html(ye.html()),ye.html("").append(Ce))}),o=0;o<_.length;o++)E[o].appendTo(d),H._fireEvent("append-cell",{td:E[o],tr:d,index:o});H._fireEvent("draw-row",{tr:d,view:H.view,heads:H.heads,items:_}),d.addClass(K.clsRow).addClass(A?K.clsEvenRow:K.clsOddRow).appendTo(Z),H._fireEvent("append-row",{tr:d})}h(this.component).find(".table-service-check-all input").prop("checked",We.length)}else o=0,h.each(ee,function(){this.show&&o++}),K.check===!0&&o++,K.rownum===!0&&o++,d=h("<tr>").addClass(K.clsBodyRow).appendTo(Z),(p=h("<td>").attr("colspan",o).addClass("text-center").html(h("<span>").addClass(K.clsEmptyTableTitle).html(K.emptyTableTitle||H.locale.table.empty))).appendTo(d);this._info(xe+1,Ee+1,B.length),this._paging(B.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),e!==void 0&&v.exec(e,null,V[0])}else console.warn("Heads is not defined for table ID "+V.attr("id"))},_getItemContent:function(e){var n,o=this.options,d=e[this.sort.colIndex],p=this.heads[this.sort.colIndex].format,w=v.isNull(this.heads)||v.isNull(this.heads[this.sort.colIndex])||!v.isValue(this.heads[this.sort.colIndex].formatMask)?"%Y-%m-%d":this.heads[this.sort.colIndex].formatMask,_=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:o.thousandSeparator,E=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:o.decimalSeparator;if(n=(""+d).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),v.isValue(n)&&v.isValue(p))switch(["number","int","float","money"].indexOf(p)!==-1&&(n=v.parseNumber(n,_,E)),p){case"date":n=w?Datetime.from(n,w,o.locale):datetime(n);break;case"number":n=+n;break;case"int":n=parseInt(n);break;case"float":n=parseFloat(n);break;case"money":n=v.parseMoney(n);break;case"card":n=v.parseCard(n);break;case"phone":n=v.parsePhone(n)}return n},addItem:function(e,n){if(!Array.isArray(e))return console.warn("Item is not an array and can't be added"),this;this.items.push(e),n!==!1&&this.draw()},addItems:function(e,n){if(!Array.isArray(e))return console.warn("Items is not an array and can't be added"),this;e.forEach(function(o){Array.isArray(o)&&this.items.push(o,!1)}),this.draw(),n!==!1&&this.draw()},updateItem:function(e,n,o){var d=this.items[this.index[e]],p=null;return v.isNull(d)?(console.warn("Item is undefined for update"),this):(isNaN(n)&&this.heads.forEach(function(w,_){w.name===n&&(p=_)}),v.isNull(p)?(console.warn("Item is undefined for update. Field "+n+" not found in data structure"),this):(d[p]=o,this.items[this.index[e]]=d,this))},getItem:function(e){return this.items[this.index[e]]},deleteItem:function(e,n){var o,d=[],p=v.isFunc(n);for(o=0;o<this.items.length;o++)p?v.exec(n,[this.items[o][e]])&&d.push(o):this.items[o][e]===n&&d.push(o);return this.items=v.arrayDeleteByMultipleKeys(this.items,d),this},deleteItemByName:function(e,n){var o,d,p=[],w=v.isFunc(n);for(o=0;o<this.heads.length;o++)if(this.heads[o].name===e){d=o;break}for(o=0;o<this.items.length;o++)w?v.exec(n,[this.items[o][d]])&&p.push(o):this.items[o][d]===n&&p.push(o);return this.items=v.arrayDeleteByMultipleKeys(this.items,p),this},draw:function(){return this._draw(),this},sorting:function(e){var n=this;return v.isValue(e)&&(this.sort.dir=e),this._fireEvent("sort-start",{items:this.items}),this.items.sort(function(o,d){var p=n._getItemContent(o),w=n._getItemContent(d),_=0;return p<w&&(_=n.sort.dir==="asc"?-1:1),p>w&&(_=n.sort.dir==="asc"?1:-1),_!==0&&n._fireEvent("sort-item-switch",{a:o,b:d,result:_}),_}),this._fireEvent("sort-stop",{items:this.items}),this},search:function(e){return this.searchString=e.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(e){var n,o=this,d=this.element,p=!1;this._createIndex(),e===!0&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&h.each(this.heads,function(w){!p&&["asc","desc"].indexOf(this.sortDir)>-1&&(p=!0,o.sort.colIndex=w,o.sort.dir=this.sortDir)}),p&&(n=d.find(".sortable-column"),this._resetSortClass(n),h(n.get(o.sort.colIndex)).addClass("sort-"+o.sort.dir),this.sorting()),o.currentPage=1,o._draw()},setHeads:function(e){return this.heads=e,this},setHeadItem:function(e,n){var o,d;for(o=0;o<this.heads.length;o++)if(this.heads[o].name===e){d=o;break}return this.heads[d]=n,this},setItems:function(e){return this.items=e,this},setData:function(e){var n=this,o=this.options;return this.activity.show(function(){n.items=[],n.heads=[],n.foots=[],Array.isArray(o.head)&&(n.heads=o.head),Array.isArray(o.body)&&(n.items=o.body),n._createItemsFromJSON(e),n._rebuild(!0),n.activity.hide()}),this},loadData:function(e,n){var o=this,d=this.element,p=this.options;v.isValue(n)||(n=!0),d.html(""),v.isValue(e)?(p.source=e,this._fireEvent("data-load",{source:p.source}),o.activity.show(function(){fetch(p.source).then(c.fetch.status).then(c.fetch.json).then(function(w){o.activity.hide(),o.items=[],o.heads=[],o.foots=[],o._fireEvent("data-loaded",{source:p.source,data:w}),Array.isArray(p.head)&&(o.heads=p.head),Array.isArray(p.body)&&(o.items=p.body),o._createItemsFromJSON(w),o._rebuild(n),o._resetInspector(),o._fireEvent("data-load-end",{source:p.source,data:w})}).catch(function(w){o.activity.hide(),o._fireEvent("data-load-error",{source:p.source,error:w})})})):this._rebuild(n)},reload:function(e){this.loadData(this.options.source,e)},clear:function(){return this.items=[],this.draw()},next:function(){if(this.items.length!==0){if(this.currentPage++,!(this.currentPage>this.pagesCount))return this._draw(),this;this.currentPage=this.pagesCount}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage!==0)return this._draw(),this;this.currentPage=1}},first:function(){if(this.items.length!==0)return this.currentPage=1,this._draw(),this},last:function(){if(this.items.length!==0)return this.currentPage=this.pagesCount,this._draw(),this},page:function(e){return e<=0&&(e=1),e>this.pagesCount&&(e=this.pagesCount),this.currentPage=e,this._draw(),this},addFilter:function(e,n){var o,d=null,p=v.isFunc(e);if(p!==!1){for(o=0;o<this.filters.length;o++)if(v.isNull(this.filters[o])){d=o,this.filters[o]=p;break}return v.isNull(d)&&(this.filters.push(p),d=this.filters.length-1),n===!0&&(this.currentPage=1,this.draw()),d}},removeFilter:function(e,n){return this.filters[e]=null,n===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){return this.filters=[],e===!0&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){var e=this.element,n=this.options,o=c.storage.getItem(n.checkStoreKey.replace("$1",e.attr("id"))),d=[];return v.isValue(o)?(h.each(this.items,function(){o.indexOf(""+this[n.checkColIndex])!==-1&&d.push(this)}),d):[]},getStoredKeys:function(){var e=this.element,n=this.options;return c.storage.getItem(n.checkStoreKey.replace("$1",e.attr("id")),[])},clearSelected:function(e){var n=this.element,o=this.options;c.storage.setItem(o.checkStoreKey.replace("$1",n.attr("id")),[]),n.find("table-service-check-all input").prop("checked",!1),e===!0&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(e){var n=this.inspector;e?n.show(0,function(){n.css({top:(h(window).height()-n.outerHeight(!0))/2+pageYOffset,left:(h(window).width()-n.outerWidth(!0))/2+pageXOffset}).data("open",!0)}):n.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(e,n,o,d){var p,w,_,E,A,B,H,V,K=c.export,Z=this,xe=this.options,Ee=document.createElement("table"),We=h("<thead>").appendTo(Ee),z=h("<tbody>").appendTo(Ee),ee=[];if(typeof K.tableToCSV=="function"){for(n=v.isValue(n)?n.toLowerCase():"all-filtered",o=v.isValue(o)?o:v.elementId("table")+"-export.csv",A=h("<tr>"),_=this.heads,w=0;w<_.length;w++)ee[w]=null;for(h.each(_,function(le){v.bool(Z.view[le].show)!==!1&&(B=h("<th>"),v.isValue(this.title)&&B.html(this.title),ee[Z.view[le]["index-view"]]=B)}),w=0;w<_.length;w++)v.isValue(ee[w])&&ee[w].appendTo(A);for(A.appendTo(We),n==="checked"?(H=0,V=(E=this.getSelectedItems()).length-1):n==="view"?(E=this._filter(),H=parseInt(xe.rows)===-1?0:xe.rows*(this.currentPage-1),V=parseInt(xe.rows)===-1?E.length-1:H+xe.rows-1):n==="all"?(H=0,V=(E=this.items).length-1):(H=0,V=(E=this._filter()).length-1),p=H;p<=V;p++)if(v.isValue(E[p])){for(A=h("<tr>"),_=E[p],w=0;w<_.length;w++)ee[w]=null;for(h.each(_,function(le){v.bool(Z.view[le].show)!==!1&&(B=h("<td>").html(this),ee[Z.view[le]["index-view"]]=B)}),w=0;w<_.length;w++)v.isValue(ee[w])&&ee[w].appendTo(A);A.appendTo(z)}K.tableToCSV(Ee,o,d),Ee.remove()}},changeAttribute:function(e){var n=this,o=this.element,d=this.options;switch(e){case"data-check":(function(){d.check=v.bool(o.attr("data-check")),n._service(),n._createTableHeader(),n._draw()})();break;case"data-rownum":(function(){d.rownum=v.bool(o.attr("data-rownum")),n._service(),n._createTableHeader(),n._draw()})()}},destroy:function(){var e=this.element,n=e.closest(".table-component"),o=n.find("input"),d=n.find("select");if(o.data("input").destroy(),d.data("select").destroy(),h(window).off(c.events.resize,{ns:this.id}),e.off(c.events.click,".sortable-column"),e.off(c.events.click,".table-service-check input"),e.off(c.events.click,".table-service-check-all input"),o.off(c.events.inputchange),v.isValue(this.wrapperSearch)){var p=this.wrapperSearch.find("input");p.length>0&&p.off(c.events.inputchange)}return n.off(c.events.click,".pagination .page-link"),v.isValue(this.wrapperPagination)&&this.wrapperPagination.off(c.events.click,".pagination .page-link"),e.off(c.events.click,".js-table-crud-button"),this._removeInspectorEvents(),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={tabsDeferred:0,expand:!1,expandPoint:null,tabsPosition:"top",tabsType:"default",updateUri:!1,clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:c.noop,onTabOpen:c.noop,onTabClose:c.noop,onBeforeTab:c.noop_true,onTabsCreate:c.noop};c.tabsSetup=function(e){y=h.extend({},y,e)},typeof window.metroTabsSetup!==void 0&&c.tabsSetup(window.metroTabsSetup),c.Component("tabs",{init:function(e,n){return this._super(n,e,y,{_targets:[],id:v.elementId("tabs")}),this},_create:function(){var e=this.element;this.options;var n=e.find(".active").length>0?h(e.find(".active")[0]):void 0;this._createStructure(),this._createEvents(),this._open(n),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){var e,n,o=this.element,d=this.options,p=o.parent(),w=p.hasClass("tabs"),_=w?p:h("<div>").addClass("tabs tabs-wrapper");if(_.addClass(d.tabsPosition.replace(["-","_","+"]," ")),o.addClass("tabs-list"),d.tabsType!=="default"&&o.addClass("tabs-"+d.tabsType),w||(_.insertBefore(o),o.appendTo(_)),o.data("expanded",!1),e=h("<div>").addClass("expand-title"),_.prepend(e),(n=_.find(".hamburger")).length===0){n=h("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(_);for(var E=0;E<3;E++)h("<span>").addClass("line").appendTo(n);c.colors.isLight(v.getStyleOne(_,"background-color"))===!0&&n.addClass("dark")}_.addClass(d.clsTabs),o.addClass(d.clsTabsList),o.children("li").addClass(d.clsTabsListItem),d.expand!==!0||d.tabsPosition.includes("vertical")?v.isValue(d.expandPoint)&&v.mediaExist(d.expandPoint)&&!d.tabsPosition.includes("vertical")&&_.addClass("tabs-expand"):_.addClass("tabs-expand"),d.tabsPosition.includes("vertical")&&_.addClass("tabs-expand")},_createEvents:function(){var e=this,n=this.element,o=this.options,d=n.parent();h(window).on(c.events.resize,function(){o.tabsPosition.includes("vertical")||(o.expand!==!0||o.tabsPosition.includes("vertical")?v.isValue(o.expandPoint)&&v.mediaExist(o.expandPoint)&&!o.tabsPosition.includes("vertical")?d.hasClass("tabs-expand")||d.addClass("tabs-expand"):d.hasClass("tabs-expand")&&d.removeClass("tabs-expand"):d.addClass("tabs-expand"))},{ns:this.id}),d.on(c.events.click,".hamburger, .expand-title",function(){n.data("expanded")===!1?(n.addClass("expand"),n.data("expanded",!0),d.find(".hamburger").addClass("active")):(n.removeClass("expand"),n.data("expanded",!1),d.find(".hamburger").removeClass("active"))}),n.on(c.events.click,"a",function(p){var w=h(this),_=w.attr("href").trim(),E=w.parent("li");if(e._fireEvent("tab",{tab:E[0],target:E.children("a").attr("href")}),E.hasClass("active")&&p.preventDefault(),n.data("expanded")===!0&&(n.removeClass("expand"),n.data("expanded",!1),d.find(".hamburger").removeClass("active")),v.exec(o.onBeforeTab,[E,n],E[0])!==!0)return!1;v.isValue(_)&&_[0]==="#"&&(e._open(E),p.preventDefault())}),h(window).on("hashchange",function(p){var w,_;o.updateUri&&(w=window.location.hash,_=e._findTabByTarget(w),e._open(h(_)))})},_findTabByTarget:function(e){var n=this.element.find("li"),o=void 0;return n.each(function(d,p){o||h(p).children("a").attr("href")!==e||(o=p)}),o},_collectTargets:function(){var e=this,n=this.element.find("li");this._targets=[],h.each(n,function(){var o=h(this).find("a").attr("href").trim();o.length>1&&o[0]==="#"&&e._targets.push(o)})},_open:function(e){var n=this.element,o=this.options,d=n.find("li"),p=n.siblings(".expand-title"),w=n.find("li.active");if(d.length!==0){this._collectTargets(),e===void 0&&(e=h(d[0]));var _=e.find("a").attr("href");_!==void 0&&(d.removeClass("active").removeClass(o.clsTabsListItemActive),e.parent().hasClass("d-menu")?e.parent().parent().addClass("active"):e.addClass("active"),h.each(this._targets,function(){var E=h(this);E.length>0&&E.hide()}),_!=="#"&&_[0]==="#"&&(o.updateUri&&(window.location.hash=_),h(_).show()),p.html(e.find("a").html()),e.addClass(o.clsTabsListItemActive),w.is(e)||(this._fireEvent("tab-open",{tab:e[0],target:e.children("a").attr("href")}),this._fireEvent("tab-close",{tab:w[0],target:w.children("a").attr("href")})))}},next:function(){var e;(e=this.element.find("li.active").next("li")).length>0&&this._open(e)},prev:function(){var e;(e=this.element.find("li.active").prev("li")).length>0&&this._open(e)},openByTarget:function(e){var n=this._findTabByTarget(e);n&&this._open(h(n))},open:function(e){var n=this.element.find("li");v.isValue(e)||(e=1),v.isInt(e)?v.isValue(n[e-1])&&this._open(h(n[e-1])):this._open(h(e))},changeAttribute:function(){},destroy:function(){var e=this.element,n=e.parent();return h(window).off(c.events.resize,{ns:this.id}),n.off(c.events.click,".hamburger, .expand-title"),e.off(c.events.click,"a"),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={wheelStep:20,materialtabsDeferred:0,deep:!1,fixedTabs:!1,duration:300,appBar:!1,clsComponent:"",clsTabs:"",clsTab:"",clsTabActive:"",clsMarker:"",onBeforeTabOpen:c.noop_true,onTabOpen:c.noop,onTabsScroll:c.noop,onTabsCreate:c.noop};c.materialTabsSetup=function(e){y=h.extend({},y,e)},typeof window.metroMaterialTabsSetup!==void 0&&c.materialTabsSetup(window.metroMaterialTabsSetup),c.Component("material-tabs",{init:function(e,n){return this._super(n,e,y,{marker:null,scroll:0,scrollDir:"left"}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options,o=e.find("li"),d=e.find("li.active"),p=h("<div>").addClass("tabs-material-wrapper").addClass(n.clsComponent).insertBefore(e);n.appBar===!0&&p.addClass("app-bar-present"),n.appBar==="more"&&p.addClass("app-bar-present-more"),e.appendTo(p),e.addClass("tabs-material").addClass(n.clsTabs),o.addClass(n.clsTab),n.deep===!0&&e.addClass("deep"),n.fixedTabs===!0&&e.addClass("fixed-tabs"),this.marker=e.find(".tab-marker"),this.marker.length===0&&(this.marker=h("<span>").addClass("tab-marker").addClass(n.clsMarker).appendTo(e)),this.openTab(d.length===0?o[0]:d[0])},_createEvents:function(){var e=this,n=this.element,o=this.options;n.on(c.events.click,"li",function(d){var p=h(this),w=n.find("li.active"),_=p.index()>w.index(),E=p.children("a").attr("href");if(d.preventDefault(),v.isValue(E)&&E[0]==="#"){if(p.hasClass("active")||p.hasClass("disabled")||v.exec(o.onBeforeTabOpen,[p,E,_],this)===!1)return;e.openTab(p,_)}}),n.on(c.events.scroll,function(){var d=e.scroll;e.scrollDir=e.scroll<n[0].scrollLeft?"left":"right",e.scroll=n[0].scrollLeft,e._fireEvent("tabs-scroll",{scrollLeft:n[0].scrollLeft,oldScroll:d,scrollDir:e.scrollDir})}),n.on(c.events.mousewheel,function(d){if(d.deltaY!==void 0){var p,w=h(this),_=d.deltaY>0?-1:1,E=o.wheelStep;p=w.scrollLeft()-_*E,w.scrollLeft(p)}})},openTab:function(e,n){var o,d,p,w,_,E,A,B=this.element,H=this.options,V=B.find("li");e=h(e),h.each(V,function(){var K=h(this).find("a").attr("href");v.isValue(K)&&K[0]==="#"&&K.length>1&&h(K).hide()}),d=B.width(),E=B.scrollLeft(),o=(_=e.position().left)+(p=e.width()),V.removeClass("active").removeClass(H.clsTabActive),e.addClass("active").addClass(H.clsTabActive),A=o+52>d+E?E+104:_<E?_-104:E,B.animate({draw:{scrollLeft:A},dur:H.duration}),this.marker.animate({draw:{left:_,width:p},dur:H.duration}),w=e.find("a").attr("href"),v.isValue(w)&&w[0]==="#"&&w.length>1&&h(w).show(),this._fireEvent("tab-open",{tab:e[0],target:w,tab_next:n})},open:function(e){var n=this.element,o=n.find("li"),d=n.find("li.active"),p=o.eq(e-1),w=o.index(p)>o.index(d);this.openTab(p,w)},changeAttribute:function(){},destroy:function(){var e=this.element;return e.off(c.events.click,"li"),e.off(c.events.scroll),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={autocomplete:null,autocompleteUnique:!0,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,label:"",size:"normal",taginputDeferred:0,static:!1,clearButton:!0,clearButtonIcon:"<span class='default-icon-cross'></span>",randomColor:!1,maxTags:0,tagSeparator:",",tagTrigger:"Enter, Space, Comma",backspace:!0,clsComponent:"",clsInput:"",clsClearButton:"",clsTag:"",clsTagTitle:"",clsTagRemover:"",clsLabel:"",onBeforeTagAdd:c.noop_true,onTagAdd:c.noop,onBeforeTagRemove:c.noop_true,onTagRemove:c.noop,onTag:c.noop,onClear:c.noop,onTagTrigger:c.noop,onTagInputCreate:c.noop};c.tagInputSetup=function(e){y=h.extend({},y,e)},typeof window.metroTagInputSetup!==void 0&&c.tagInputSetup(window.metroTagInputSetup),c.Component("tag-input",{init:function(e,n){return this._super(n,e,y,{values:[],triggers:[],autocomplete:[]}),this},_create:function(){this.triggers=(""+this.options.tagTrigger).toArray(","),(this.triggers.includes("Space")||this.triggers.includes("Spacebar"))&&(this.triggers.push(" "),this.triggers.push("Spacebar")),this.triggers.includes("Comma")&&this.triggers.push(","),this._createStructure(),this._createEvents(),this._fireEvent("tag-input-create",{element:this.element})},_createStructure:function(){var e,n=this,o=this.element,d=this.options,p=o.val().trim();if(e=h("<div>").addClass("tag-input "+o[0].className).addClass(d.clsComponent).insertBefore(o),o.appendTo(e),e.addClass("input-"+d.size),o[0].className="",o.addClass("original-input"),h("<input type='text'>").addClass("input-wrapper").addClass(d.clsInput).attr("size",1).appendTo(e),d.clearButton===!1||o[0].readOnly||(e.addClass("padding-for-clear"),h("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(d.clearButtonIcon).appendTo(e)),v.isValue(p)&&h.each(p.toArray(d.tagSeparator),function(){n._addTag(this)}),d.label){var w=h("<label>").addClass("label-for-input").addClass(d.clsLabel).html(d.label).insertBefore(e);o.attr("id")&&w.attr("for",o.attr("id")),o.attr("dir")==="rtl"&&w.addClass("rtl")}if(o.is(":disabled")?this.disable():this.enable(),d.static!==!0&&o.attr("readonly")===void 0||e.addClass("static-mode"),v.isNull(d.autocomplete)&&v.isNull(d.autocompleteUrl)||h("<div>").addClass("autocomplete-list").css({maxHeight:d.autocompleteListHeight,display:"none"}).appendTo(e),v.isValue(d.autocomplete)){var _=v.isObject(d.autocomplete);this.autocomplete=_!==!1?_:d.autocomplete.toArray(d.autocompleteDivider)}v.isValue(d.autocompleteUrl)&&fetch(d.autocompleteUrl,{method:d.autocompleteUrlMethod}).then(function(E){return E.text()}).then(function(E){var A=[];try{A=JSON.parse(E),d.autocompleteUrlKey&&(A=A[d.autocompleteUrlKey])}catch{A=E.split(`
`)}n.autocomplete=n.autocomplete.concat(A)})},_createEvents:function(){var e=this,n=this.element,o=this.options,d=n.closest(".tag-input"),p=d.find(".input-wrapper"),w=d.find(".autocomplete-list");p.on(c.events.focus,function(){d.addClass("focused")}),p.on(c.events.blur,function(){d.removeClass("focused")}),p.on(c.events.inputchange,function(){p.attr("size",Math.ceil(p.val().length/2)+2)}),p.on(c.events.keydown,function(_){var E=p.val().trim(),A=_.key;A==="Enter"&&_.preventDefault(),o.backspace!==!0||A!=="Backspace"||E.length!==0?E!==""&&e.triggers.includes(A)&&(e._fireEvent("tag-trigger",{key:A}),p.val(""),e._addTag(E),p.attr("size",1)):e.values.length>0&&(e.values.splice(-1,1),n.siblings(".tag").last().remove(),n.val(e.values.join(o.tagSeparator)))}),p.on(c.events.keyup,function(_){var E=p.val(),A=_.key;e.triggers.includes(A)&&E[E.length-1]===A&&p.val(E.slice(0,-1))}),d.on(c.events.click,".tag .remover",function(){var _=h(this).closest(".tag");e._delTag(_)}),d.on(c.events.click,function(){p.focus()}),d.on(c.events.click,".input-clear-button",function(){var _=n.val();e.clear(),e._fireEvent("clear",{val:_})}),p.on(c.events.input,function(){var _=this.value.toLowerCase();e._drawAutocompleteList(_)}),d.on(c.events.click,".autocomplete-list .item",function(){var _=h(this).attr("data-autocomplete-value");p.val(""),e._addTag(_),p.attr("size",1),w.css({display:"none"}),e._fireEvent("autocomplete-select",{value:_})})},_drawAutocompleteList:function(e){var n,o=this,d=this.element,p=this.options,w=d.closest(".tag-input"),_=w.find(".input-wrapper"),E=w.find(".autocomplete-list");E.length!==0&&(E.html(""),n=this.autocomplete.filter(function(A){return A.toLowerCase().indexOf(e)>-1}),E.css({display:n.length>0?"block":"none",left:_.position().left}),h.each(n,function(){if(!p.autocompleteUnique||o.values.indexOf(this)===-1){var A,B=this,H=B.toLowerCase().indexOf(e),V=h("<div>").addClass("item").attr("data-autocomplete-value",B);A=H===0?"<strong>"+B.substr(0,e.length)+"</strong>"+B.substr(e.length):B.substr(0,H)+"<strong>"+B.substr(H,e.length)+"</strong>"+B.substr(H+e.length),V.html(A).appendTo(E),o._fireEvent("draw-autocomplete-item",{item:V})}}))},_addTag:function(e){var n,o,d,p,w=this.element,_=this.options,E=w.closest(".tag-input"),A=E.find(".input-wrapper");if(E.hasClass("input-large")?p="large":E.hasClass("input-small")&&(p="small"),!(_.maxTags>0&&this.values.length===_.maxTags)&&(""+e).trim()!==""&&v.exec(_.onBeforeTagAdd,[e,this.values],w[0])){if((n=h("<span>").addClass("tag").addClass(p).addClass(_.clsTag).insertBefore(A)).data("value",e),(_.static||E.hasClass("static-mode")||w.readonly||w.disabled||E.hasClass("disabled"))&&n.addClass("static"),o=h("<span>").addClass("title").addClass(_.clsTagTitle).html(e),d=h("<span>").addClass("remover").addClass(_.clsTagRemover).html("&times;"),o.appendTo(n),d.appendTo(n),_.randomColor===!0){var B,H,V,K=c.colors.colors(c.colors.PALETTES.ALL);B=K[h.random(0,K.length-1)],V=c.colors.darken(B,15),H=c.colors.isDark(B)?"#ffffff":"#000000",n.css({backgroundColor:B,color:H}),d.css({backgroundColor:V,color:H})}this.values.push(e),w.val(this.values.join(_.tagSeparator)),this._fireEvent("tag-add",{tag:n[0],val:e,values:this.values}),this._fireEvent("tag",{tag:n[0],val:e,values:this.values})}},_delTag:function(e){var n=this.element,o=this.options,d=e.data("value");v.exec(o.onBeforeTagRemove,[e,d,this.values],n[0])&&(v.arrayDelete(this.values,d),n.val(this.values.join(o.tagSeparator)),this._fireEvent("tag-remove",{tag:e[0],val:d,values:this.values}),this._fireEvent("tag",{tag:e[0],val:d,values:this.values}),e.remove())},tags:function(){return this.values},val:function(e){var n=this,o=this.element,d=this.options,p=o.closest(".tag-input"),w=[];return v.isValue(e)?(this.values=[],p.find(".tag").remove(),typeof e=="string"?w=(""+e).toArray(d.tagSeparator):Array.isArray(e)&&(w=e),h.each(w,function(){n._addTag(this)}),this):this.tags()},append:function(e){var n=this,o=this.options,d=this.values;return typeof e=="string"?d=(""+e).toArray(o.tagSeparator):Array.isArray(e)&&(d=e),h.each(d,function(){n._addTag(this)}),this},clear:function(){var e=this.element,n=e.closest(".tag-input");return this.values=[],e.val("").trigger("change"),n.find(".tag").remove(),this},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleStatic:function(e){var n=this.element.closest(".tag-input");(v.isValue(e)?v.bool(e):!n.hasClass("static-mode"))?n.addClass("static-mode"):n.removeClass("static-mode")},setAutocompleteList:function(e){var n=v.isObject(e);n!==!1?this.autocomplete=n:typeof e=="string"&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},changeAttribute:function(e){var n,o=this,d=this.element,p=this.options;switch(e){case"value":n=d.attr("value").trim(),o.clear(),v.isValue(n)&&o.val(n.toArray(p.tagSeparator));break;case"disabled":this.toggleState();break;case"static":this.toggleStatic()}},destroy:function(){var e=this.element,n=e.closest(".tag-input"),o=n.find(".input-wrapper");return o.off(c.events.focus),o.off(c.events.blur),o.off(c.events.keydown),n.off(c.events.click,".tag .remover"),n.off(c.events.click),e}}),h(document).on(c.events.click,function(){h(".tag-input .autocomplete-list").hide()})}(Metro,m4q),function(c,h){var v=c.utils,y=function(n,o,d){var p,w,_,E="<%(.+?)%>",A=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,B=`with(obj) { var r=[];
`,H=0,V=function(K,Z){return B+=Z?K.match(A)?K+`
`:"r.push("+K+`);
`:K!==""?'r.push("'+K.replace(/"/g,'\\"')+`");
`:"",V};for(v.isValue(d)&&(h.hasProp(d,"beginToken")&&(E=E.replace("<%",d.beginToken)),h.hasProp(d,"endToken")&&(E=E.replace("%>",d.endToken))),_=(p=new RegExp(E,"g")).exec(n);_;)V(n.slice(H,_.index))(_[1],!0),H=_.index+_[0].length,_=p.exec(n);V(n.substr(H,n.length-H)),B=(B+'return r.join(""); }').replace(/[\r\t\n]/g," ");try{w=new Function("obj",B).apply(o,[o])}catch(K){console.error("'"+K.message+"'",` in 

Code:
`,B,`
`)}return w},e={templateData:null,onTemplateCompile:c.noop,onTemplateCreate:c.noop};c.templateSetup=function(n){e=h.extend({},e,n)},typeof window.metroTemplateSetup!==void 0&&c.templateSetup(window.metroTemplateSetup),c.Component("template",{init:function(n,o){return this._super(o,n,e,{template:null,data:{}}),this},_compile:function(){var n,o,d=this.element;n=this.template.replace(/(&lt;%)/gm,"<%").replace(/(%&gt;)/gm,"%>").replace(/(&lt;)/gm,"<").replace(/(&gt;)/gm,">"),o=y(n,this.data),d.html(o),this._fireEvent("template-compile",{template:n,compiled:o,element:d})},_create:function(){var n=this.element,o=this.options;this.template=n.html(),this.data=v.isObject(o.templateData)||{},this._compile(),this._fireEvent("template-create",{element:n})},buildWith:function(n){var o=v.isObject(n);o&&(this.data=o,this._compile())},changeAttribute:function(n,o){n==="data-template-data"&&(this.options.templateData=o,this.data=v.isObject(o)||{},this._compile())},destroy:function(){return this.element}}),c.template=y}(Metro,m4q),function(c,h){var v=c.utils,y={label:"",textareaDeferred:0,charsCounter:null,charsCounterTemplate:"$1",defaultValue:"",prepend:"",append:"",copyInlineStyles:!1,clearButton:!0,clearButtonIcon:"<span class='default-icon-cross'></span>",autoSize:!0,maxHeight:0,clsPrepend:"",clsAppend:"",clsComponent:"",clsTextarea:"",clsLabel:"",onChange:c.noop,onTextareaCreate:c.noop};c.textareaSetup=function(e){y=h.extend({},y,e)},typeof window.metroTextareaSetup!==void 0&&c.textareaSetup(window.metroTextareaSetup),c.Component("textarea",{init:function(e,n){return this._super(n,e,y),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("textarea-create",{element:e})},_createStructure:function(){var e,n=this,o=this.element,d=this.elem,p=this.options,w=h("<div>").addClass("textarea "+o[0].className),_=h("<textarea>").addClass("fake-textarea");if(w.insertBefore(o),o.appendTo(w),_.appendTo(w),p.clearButton===!1||o[0].readOnly||(e=h("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(p.clearButtonIcon)).appendTo(w),o.attr("dir")==="rtl"&&w.addClass("rtl").attr("dir","rtl"),p.prepend!==""&&h("<div>").html(p.prepend).addClass("prepend").addClass(p.clsPrepend).appendTo(w),p.append!==""){var E=h("<div>").html(p.append);E.addClass("append").addClass(p.clsAppend).appendTo(w),e.css({right:E.outerWidth()+4})}if(d.className="",p.copyInlineStyles===!0)for(var A=0,B=d.style.length;A<B;A++)w.css(d.style[A],o.css(d.style[A]));if(v.isValue(p.defaultValue)&&o.val().trim()===""&&o.val(p.defaultValue),w.addClass(p.clsComponent),o.addClass(p.clsTextarea),p.label){var H=h("<label>").addClass("label-for-input").addClass(p.clsLabel).html(p.label).insertBefore(w);o.attr("id")&&H.attr("for",o.attr("id")),o.attr("dir")==="rtl"&&H.addClass("rtl")}o.is(":disabled")?this.disable():this.enable(),_.val(o.val()),p.autoSize===!0&&(w.addClass("autosize no-scroll-vertical"),setTimeout(function(){n.resize()},100))},_createEvents:function(){var e=this,n=this.element,o=this.options,d=n.closest(".textarea"),p=d.find(".fake-textarea"),w=h(o.charsCounter);d.on(c.events.click,".input-clear-button",function(){n.val(v.isValue(o.defaultValue)?o.defaultValue:"").trigger("change").trigger("keyup").focus()}),o.autoSize&&n.on(c.events.inputchange+" "+c.events.keyup,function(){p.val(this.value),e.resize()}),n.on(c.events.blur,function(){d.removeClass("focused")}),n.on(c.events.focus,function(){d.addClass("focused")}),n.on(c.events.keyup,function(){v.isValue(o.charsCounter)&&w.length>0&&(w[0].tagName==="INPUT"?w.val(e.length()):w.html(o.charsCounterTemplate.replace("$1",e.length()))),e._fireEvent("change",{val:n.val(),length:e.length()})})},resize:function(){var e=this.element,n=this.options,o=e.closest(".textarea"),d=o.find(".fake-textarea"),p=d[0].scrollHeight;n.maxHeight&&p>=n.maxHeight?o.removeClass("no-scroll-vertical"):(n.maxHeight&&p<n.maxHeight&&o.addClass("no-scroll-vertical"),d[0].style.cssText="height:auto;",d[0].style.cssText="height:"+d[0].scrollHeight+"px",e[0].style.cssText="height:"+d[0].scrollHeight+"px")},clear:function(){this.element.val("").trigger("change").trigger("keyup").focus()},toDefault:function(){this.element.val(v.isValue(this.options.defaultValue)?this.options.defaultValue:"").trigger("change").trigger("keyup").focus()},length:function(){return this.elem.value.split("").length},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){e==="disabled"&&this.toggleState()},destroy:function(){var e=this.element,n=this.options;return e.closest(".textarea").off(c.events.click,".input-clear-button"),n.autoSize&&e.off(c.events.inputchange+" "+c.events.keyup),e.off(c.events.blur),e.off(c.events.focus),e.off(c.events.keyup),e}})}(Metro,m4q),function(c,h){var v=c.utils,y=["slide-up","slide-down","slide-left","slide-right","fade","zoom","swirl","switch"],e={tileDeferred:0,size:"medium",cover:"",coverPosition:"center",effect:"",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onTileClick:c.noop,onTileCreate:c.noop};c.tileSetup=function(n){e=h.extend({},e,n)},typeof window.metroTileSetup!==void 0&&c.tileSetup(window.metroTileSetup),c.Component("tile",{init:function(n,o){return this._super(o,n,e,{effectInterval:!1,images:[],slides:[],currentSlide:-1,unload:!1}),this},_create:function(){var n=this.element;this._createTile(),this._createEvents(),this._fireEvent("tile-create",{element:n})},_createTile:function(){function n(K,Z,xe){h.setTimeout(function(){K.fadeOut(500,function(){K.css("background-image","url("+Z+")"),K.fadeIn()})},300*xe)}var o=this,d=this.element,p=this.options,w=d.find(".slide"),_=d.find(".slide-front, .slide-back");if(d.addClass("tile-"+p.size),p.effect.indexOf("hover-")>-1&&(d.addClass("effect-"+p.effect),h.each(_,function(){var K=h(this);K.data("cover")!==void 0&&o._setCover(K,K.data("cover"),K.data("cover-position"))})),y.includes(p.effect)&&w.length>1&&(h.each(w,function(K){var Z=h(this);o.slides.push(this),Z.data("cover")!==void 0&&o._setCover(Z,Z.data("cover"),Z.data("cover-position")),K>0&&(["slide-up","slide-down"].indexOf(p.effect)>-1&&Z.css("top","100%"),["slide-left","slide-right"].indexOf(p.effect)>-1&&Z.css("left","100%"),["fade","zoom","swirl","switch"].indexOf(p.effect)>-1&&Z.css("opacity",0))}),this.currentSlide=0,this._runEffects()),p.cover!==""&&this._setCover(d,p.cover),p.effect==="image-set"){d.addClass("image-set"),h.each(d.children("img"),function(){o.images.push(this),h(this).remove()});for(var E=this.images.slice(),A=0;A<5;A++){var B=h.random(0,E.length-1),H=h("<div>").addClass("img -js-img-"+A).css("background-image","url("+E[B].src+")");d.prepend(H),E.splice(B,1)}var V=[0,1,4,3,2];h.setInterval(function(){var K=o.images.slice(),Z=c.colors.random();d.css("background-color",Z);for(var xe=0;xe<V.length;xe++){var Ee=h.random(0,K.length-1);n(d.find(".-js-img-"+V[xe]),K[Ee].src,xe),K.splice(Ee,1)}V=V.reverse()},5e3)}},_runEffects:function(){var n=this,o=this.options;this.effectInterval===!1&&(this.effectInterval=h.setInterval(function(){var d,p;d=h(n.slides[n.currentSlide]),n.currentSlide++,n.currentSlide===n.slides.length&&(n.currentSlide=0),p=n.slides[n.currentSlide],y.includes(o.effect)&&c.animations[Str.camelCase(o.effect)](h(d),h(p),{duration:o.effectDuration})},o.effectInterval))},_stopEffects:function(){h.clearInterval(this.effectInterval),this.effectInterval=!1},_setCover:function(n,o,d){v.isValue(d)||(d=this.options.coverPosition),n.css({backgroundImage:"url("+o+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:d})},_createEvents:function(){var n=this,o=this.element,d=this.options;o.on(c.events.startAll,function(p){var w,_=h(this),E=o.width(),A=o.height(),B=v.pageXY(p).x-_.offset().left,H=v.pageXY(p).y-_.offset().top;v.isRightMouse(p)===!1&&(w=B<1*E/3&&(H<1*A/2||H>1*A/2)?"left":B>2*E/3&&(H<1*A/2||H>1*A/2)?"right":B>1*E/3&&B<2*E/3&&H>A/2?"bottom":"top",d.canTransform===!0&&_.addClass("transform-"+w),d.target!==null&&setTimeout(function(){document.location.href=d.target},100),n._fireEvent("tile-click",{side:w}))}),o.on([c.events.stopAll,c.events.leave].join(" "),function(){h(this).removeClass("transform-left").removeClass("transform-right").removeClass("transform-top").removeClass("transform-bottom")})},changeAttribute:function(){},destroy:function(){var n=this.element;return n.off(c.events.startAll),n.off([c.events.stopAll,c.events.leave].join(" ")),n}})}(Metro,m4q),function(c,h){var v=c.utils,y={label:"",timepickerDeferred:0,hoursStep:1,minutesStep:1,secondsStep:1,value:null,locale:METRO_LOCALE,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:4,copyInlineStyles:!1,clsPicker:"",clsPart:"",clsHours:"",clsMinutes:"",clsSeconds:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"<span class='default-icon-check'></span>",cancelButtonIcon:"<span class='default-icon-cross'></span>",onSet:c.noop,onOpen:c.noop,onClose:c.noop,onScroll:c.noop,onTimePickerCreate:c.noop};c.timePickerSetup=function(e){y=h.extend({},y,e)},typeof window.metroTimePickerSetup!==void 0&&c.timePickerSetup(window.metroTimePickerSetup),c.Component("time-picker",{init:function(e,n){return this._super(n,e,y,{picker:null,isOpen:!1,value:[],locale:c.locales[METRO_LOCALE].calendar,listTimer:{hours:null,minutes:null,seconds:null},id:v.elementId("time-picker")}),this},_create:function(){var e,n=this.element,o=this.options;for(o.distance<1&&(o.distance=1),o.hoursStep<1&&(o.hoursStep=1),o.hoursStep>23&&(o.hoursStep=23),o.minutesStep<1&&(o.minutesStep=1),o.minutesStep>59&&(o.minutesStep=59),o.secondsStep<1&&(o.secondsStep=1),o.secondsStep>59&&(o.secondsStep=59),n.val()!==""||v.isValue(o.value)||(o.value=datetime().format("HH:mm:ss")),this.value=(n.val()!==""?n.val():""+o.value).toArray(":"),e=0;e<3;e++)this.value[e]===void 0||this.value[e]===null?this.value[e]=0:this.value[e]=parseInt(this.value[e]);this._normalizeValue(),c.locales[o.locale]===void 0&&(o.locale=METRO_LOCALE),this.locale=c.locales[o.locale].calendar,this._createStructure(),this._createEvents(),this._set(),this._fireEvent("time-picker-create",{element:n})},_normalizeValue:function(){var e=this.options;e.hoursStep>1&&(this.value[0]=v.nearest(this.value[0],e.hoursStep,!0)),e.minutesStep>1&&(this.value[1]=v.nearest(this.value[1],e.minutesStep,!0)),e.minutesStep>1&&(this.value[2]=v.nearest(this.value[2],e.secondsStep,!0))},_createStructure:function(){var e,n,o,d,p,w,_,E,A,B=this.element,H=this.options;if((e=h("<div>").addClass("wheel-picker time-picker "+B[0].className).addClass(H.clsPicker)).insertBefore(B),B.attr("readonly",!0).appendTo(e),H.label){var V=h("<label>").addClass("label-for-input").addClass(H.clsLabel).html(H.label).insertBefore(e);B.attr("id")&&V.attr("for",B.attr("id")),B.attr("dir")==="rtl"&&V.addClass("rtl")}if(w=h("<div>").addClass("time-wrapper").appendTo(e),H.hours===!0&&(n=h("<div>").attr("data-title",this.locale.time.hours).addClass("hours").addClass(H.clsPart).addClass(H.clsHours).appendTo(w)),H.minutes===!0&&(o=h("<div>").attr("data-title",this.locale.time.minutes).addClass("minutes").addClass(H.clsPart).addClass(H.clsMinutes).appendTo(w)),H.seconds===!0&&(d=h("<div>").attr("data-title",this.locale.time.seconds).addClass("seconds").addClass(H.clsPart).addClass(H.clsSeconds).appendTo(w)),_=h("<div>").addClass("select-wrapper").appendTo(e),E=h("<div>").addClass("select-block").appendTo(_),H.hours===!0){for(n=h("<ul>").addClass("sel-hours").appendTo(E),p=0;p<H.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(n);for(p=0;p<24;p+=H.hoursStep)h("<li>").addClass("js-hours-"+p).html(Str.lpad(p,"0",2)).data("value",p).appendTo(n);for(p=0;p<H.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(n)}if(H.minutes===!0){for(o=h("<ul>").addClass("sel-minutes").appendTo(E),p=0;p<H.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(o);for(p=0;p<60;p+=H.minutesStep)h("<li>").addClass("js-minutes-"+p).html(Str.lpad(p,"0",2)).data("value",p).appendTo(o);for(p=0;p<H.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(o)}if(H.seconds===!0){for(d=h("<ul>").addClass("sel-seconds").appendTo(E),p=0;p<H.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(d);for(p=0;p<60;p+=H.secondsStep)h("<li>").addClass("js-seconds-"+p).html(Str.lpad(p,"0",2)).data("value",p).appendTo(d);for(p=0;p<H.distance;p++)h("<li>").html("&nbsp;").data("value",-1).appendTo(d)}if(E.height(40*(2*H.distance+1)),A=h("<div>").addClass("action-block").appendTo(_),h("<button>").attr("type","button").addClass("button action-ok").addClass(H.clsButton).addClass(H.clsOkButton).html(H.okButtonIcon).appendTo(A),h("<button>").attr("type","button").addClass("button action-cancel").addClass(H.clsButton).addClass(H.clsCancelButton).html(H.cancelButtonIcon).appendTo(A),B[0].className="",H.copyInlineStyles===!0)for(p=0;p<B[0].style.length;p++)e.css(B[0].style[p],B.css(B[0].style[p]));H.showLabels===!0&&e.addClass("show-labels"),B.prop("disabled")&&e.addClass("disabled"),this.picker=e},_createEvents:function(){var e=this,n=this.options,o=this.picker;o.on(c.events.start,".select-block ul",function(d){if(!d.changedTouches){var p=this,w=v.pageXY(d).y;h(document).on(c.events.move,function(_){p.scrollTop-=n.scrollSpeed*(w>v.pageXY(_).y?-1:1),w=v.pageXY(_).y},{ns:e.id}),h(document).on(c.events.stop,function(){h(document).off(c.events.move,{ns:e.id}),h(document).off(c.events.stop,{ns:e.id})},{ns:e.id})}}),o.on(c.events.click,function(d){e.isOpen===!1&&e.open(),d.stopPropagation()}),o.on(c.events.click,".action-ok",function(d){var p,w,_,E=o.find(".sel-hours li.active"),A=o.find(".sel-minutes li.active"),B=o.find(".sel-seconds li.active");p=E.length===0?0:E.data("value"),w=A.length===0?0:A.data("value"),_=B.length===0?0:B.data("value"),e.value=[p,w,_],e._normalizeValue(),e._set(),e.close(),d.stopPropagation()}),o.on(c.events.click,".action-cancel",function(d){e.close(),d.stopPropagation()}),h.each(["hours","minutes","seconds"],function(){var d=this,p=o.find(".sel-"+d);p.on("scroll",function(){e.isOpen&&(e.listTimer[d]&&(clearTimeout(e.listTimer[d]),e.listTimer[d]=null),e.listTimer[d]||(e.listTimer[d]=setTimeout(function(){var w,_,E;e.listTimer[d]=null,w=Math.round(Math.ceil(p.scrollTop())/40),d==="hours"&&n.hoursStep&&(w*=parseInt(n.hoursStep)),d==="minutes"&&n.minutesStep&&(w*=parseInt(n.minutesStep)),d==="seconds"&&n.secondsStep&&(w*=parseInt(n.secondsStep)),E=(_=p.find(".js-"+d+"-"+w)).position().top-40*n.distance,p.find(".active").removeClass("active"),p[0].scrollTop=E,_.addClass("active"),v.exec(n.onScroll,[_,p,o],p[0])},150)))})})},_set:function(){var e=this.element,n=this.options,o=this.picker,d="00",p="00",w="00";n.hours===!0&&(d=parseInt(this.value[0]),o.find(".hours").html(Str.lpad(d,"0",2))),n.minutes===!0&&(p=parseInt(this.value[1]),o.find(".minutes").html(Str.lpad(p,"0",2))),n.seconds===!0&&(w=parseInt(this.value[2]),o.find(".seconds").html(Str.lpad(w,"0",2))),e.val([d,p,w].join(":")).trigger("change"),this._fireEvent("set",{val:this.value,elementVal:e.val()})},open:function(){var e,n,o,d,p,w,_,E,A,B,H,V=this.options,K=this.picker,Z=K.find("li"),xe=K.find(".select-wrapper");xe.parent().removeClass("for-top for-bottom"),xe.show(0),Z.removeClass("active"),_=v.inViewport(xe[0]),E=v.rect(xe[0]),!_&&E.top>0&&xe.parent().addClass("for-bottom"),!_&&E.top<0&&xe.parent().addClass("for-top");var Ee=function(We,z){We.scrollTop(0).animate({draw:{scrollTop:z.position().top-40*V.distance+We.scrollTop()},dur:100})};V.hours===!0&&(e=parseInt(this.value[0]),A=(d=K.find(".sel-hours")).find("li.js-hours-"+e).addClass("active"),Ee(d,A)),V.minutes===!0&&(n=parseInt(this.value[1]),B=(p=K.find(".sel-minutes")).find("li.js-minutes-"+n).addClass("active"),Ee(p,B)),V.seconds===!0&&(o=parseInt(this.value[2]),H=(w=K.find(".sel-seconds")).find("li.js-seconds-"+o).addClass("active"),Ee(w,H)),this.isOpen=!0,this._fireEvent("open",{val:this.value})},close:function(){this.picker.find(".select-wrapper").hide(0),this.isOpen=!1,this._fireEvent("close",{val:this.value})},_convert:function(e){return Array.isArray(e)?e:typeof e.getMonth=="function"?[e.getHours(),e.getMinutes(),e.getSeconds()]:v.isObject(e)?[e.h,e.m,e.s]:e.toArray(":")},val:function(e){if(e===void 0)return this.element.val();this.value=this._convert(e),this._normalizeValue(),this._set()},time:function(e){if(e===void 0)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(e),this._normalizeValue(),this._set()},date:function(e){if(e===void 0||typeof e.getMonth!="function")return datetime().hour(this.value[0]).minute(this.value[1]).second(this.value[2]).ms(0).val();this.value=this._convert(e),this._normalizeValue(),this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,n){switch(e){case"data-value":this.val(n);break;case"disabled":this.toggleState()}},destroy:function(){var e=this.element,n=this.picker;return h.each(["hours","minutes","seconds"],function(){n.find(".sel-"+this).off("scroll")}),n.off(c.events.start,".select-block ul"),n.off(c.events.click),n.off(c.events.click,".action-ok"),n.off(c.events.click,".action-cancel"),e}}),h(document).on(c.events.click,function(){h.each(h(".time-picker"),function(){h(this).find("input").each(function(){c.getPlugin(this,"timepicker").close()})})})}(Metro,m4q),function(c,h){var v=c.utils,y={callback:c.noop,timeout:METRO_TIMEOUT,distance:20,showTop:!1,clsToast:""};c.toastSetup=function(n){y=h.extend({},y,n)},typeof window.metroToastSetup!==void 0&&c.toastSetup(window.metroToastSetup);var e={create:function(n,o){var d,p,w,_,E,A,B=Array.from(arguments);h.isPlainObject(o)||(o=B[4],E=B[1],_=B[2],A=B[3]),d=h.extend({},y,o),w=(p=h("<div>").addClass("toast").html(n).appendTo(h("body"))).outerWidth(),_=_||d.timeout,E=E||d.callback,A=A||d.clsToast,d.showTop===!0?p.addClass("show-top").css({top:d.distance}):p.css({bottom:d.distance}),p.css({left:"50%","margin-left":-w/2}).addClass(d.clsToast).addClass(A).fadeIn(METRO_ANIMATION_DURATION,function(){setTimeout(function(){e.remove(p,E)},_)})},remove:function(n,o){n.length&&n.fadeOut(METRO_ANIMATION_DURATION,function(){n.remove(),v.exec(o,null,n[0])})}};c.toast=e,c.createToast=e.create}(Metro,m4q),function(c,h){var v={textToTokenize:"",spaceSymbol:"",spaceClass:"space",tokenClass:"",splitter:"",tokenElement:"span",useTokenSymbol:!0,useTokenIndex:!0,clsTokenizer:"",clsToken:"",clsTokenOdd:"",clsTokenEven:"",onTokenCreate:c.noop,onTokenize:c.noop,onTokenizerCreate:c.noop};c.tokenizerSetup=function(y){v=h.extend({},v,y)},typeof window.metroTokenizerSetup!==void 0&&c.tokenizerSetup(window.metroTokenizerSetup),c.Component("tokenizer",{init:function(y,e){return this._super(e,y,v,{originalText:""}),this},_create:function(){var y=this.element,e=this.options;this.originalText=e.textToTokenize?e.textToTokenize.trim():y.text().trim().replace(/[\r\n\t]/gi,"").replace(/\s\s+/g," "),this._createStructure(),this._fireEvent("tokenizer-create")},_tokenize:function(){var y,e,n=this,o=this.element,d=this.options,p=0;o.clear().attr("aria-label",this.originalText),h.each(this.originalText.split(d.splitter),function(w){var _,E=this,A=E===" ";_=h("<"+d.tokenElement+">").html(A?d.spaceSymbol:E).attr("aria-hidden",!0).addClass(A?d.spaceClass:"").addClass(A&&d.useTokenSymbol?"":"ts-"+E.replace(" ","_")).addClass(A&&d.useTokenIndex?"":"ti-"+(w+1)).addClass(d.tokenClass?d.tokenClass:"").addClass(A?"":d.clsToken),A||(p++,_.addClass(p%2==0?"te-even":"te-odd"),_.addClass(p%2==0?d.clsTokenEven:d.clsTokenOdd)),d.prepend&&(e=h.isSelector(d.prepend)?h(d.prepend):h("<span>").html(d.prepend),_.prepend(e)),d.append&&(y=h.isSelector(d.append)?h(d.append):h("<span>").html(d.append),_.append(y)),o.append(_),n._fireEvent("token-create",{token:_[0]})}),n._fireEvent("tokenize",{tokens:o.children().items(),originalText:this.originalText})},_createStructure:function(){var y=this.element,e=this.options;y.addClass(e.clsTokenizer),this._tokenize()},tokenize:function(y){this.originalText=y,this._tokenize()},destroy:function(){this.element.remove()}})}(Metro,m4q),function(c,h){var v=c.utils,y={LEFT:"left",RIGHT:"right",UP:"up",DOWN:"down",IN:"in",OUT:"out",NONE:"none",AUTO:"auto",SWIPE:"swipe",PINCH:"pinch",TAP:"tap",DOUBLE_TAP:"doubletap",LONG_TAP:"longtap",HOLD:"hold",HORIZONTAL:"horizontal",VERTICAL:"vertical",ALL_FINGERS:"all",DOUBLE_TAP_THRESHOLD:10,PHASE_START:"start",PHASE_MOVE:"move",PHASE_END:"end",PHASE_CANCEL:"cancel",SUPPORTS_TOUCH:"ontouchstart"in window,SUPPORTS_POINTER_IE10:window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!("ontouchstart"in window),SUPPORTS_POINTER:(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!("ontouchstart"in window),IN_TOUCH:"intouch"},e={touchDeferred:0,fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".no-swipe",preventDefaultEvents:!0,onSwipe:c.noop,onSwipeLeft:c.noop,onSwipeRight:c.noop,onSwipeUp:c.noop,onSwipeDown:c.noop,onSwipeStatus:c.noop_true,onPinchIn:c.noop,onPinchOut:c.noop,onPinchStatus:c.noop_true,onTap:c.noop,onDoubleTap:c.noop,onLongTap:c.noop,onHold:c.noop,onTouchCreate:c.noop};c.touchSetup=function(n){e=h.extend({},e,n)},typeof window.metroTouchSetup!==void 0&&c.touchSetup(window.metroTouchSetup),c.Component("touch",{init:function(n,o){return this._super(o,n,e,{useTouchEvents:null,START_EV:null,MOVE_EV:null,END_EV:null,LEAVE_EV:null,CANCEL_EV:null,distance:0,direction:null,currentDirection:null,duration:0,startTouchesDistance:0,endTouchesDistance:0,pinchZoom:1,pinchDistance:0,pinchDirection:0,maximumsMap:null,phase:"start",fingerCount:0,fingerData:{},startTime:0,endTime:0,previousTouchEndTime:0,fingerCountAtRelease:0,doubleTapStartTime:0,singleTapTimeout:null,holdTimeout:null}),this},_create:function(){var n=this.element,o=this.options;this.useTouchEvents=y.SUPPORTS_TOUCH||y.SUPPORTS_POINTER||!this.options.fallbackToMouseEvents,this.START_EV=this.useTouchEvents?y.SUPPORTS_POINTER?y.SUPPORTS_POINTER_IE10?"MSPointerDown":"pointerdown":"touchstart":"mousedown",this.MOVE_EV=this.useTouchEvents?y.SUPPORTS_POINTER?y.SUPPORTS_POINTER_IE10?"MSPointerMove":"pointermove":"touchmove":"mousemove",this.END_EV=this.useTouchEvents?y.SUPPORTS_POINTER?y.SUPPORTS_POINTER_IE10?"MSPointerUp":"pointerup":"touchend":"mouseup",this.LEAVE_EV=this.useTouchEvents?y.SUPPORTS_POINTER?"mouseleave":null:"mouseleave",this.CANCEL_EV=y.SUPPORTS_POINTER?y.SUPPORTS_POINTER_IE10?"MSPointerCancel":"pointercancel":"touchcancel",o.allowPageScroll!==void 0||o.onSwipe===c.noop&&o.onSwipeStatus===c.noop||(o.allowPageScroll=y.NONE);try{n.on(this.START_EV,h.proxy(this.touchStart,this)),n.on(this.CANCEL_EV,h.proxy(this.touchCancel,this))}catch{throw new Error("Events not supported "+this.START_EV+","+this.CANCEL_EV+" on Swipe")}this._fireEvent("touch-create",{element:n})},touchStart:function(n){var o=this.element,d=this.options;if(!(this.getTouchInProgress()||h(n.target).closest(d.excludedElements).length>0)){var p,w=n,_=w.touches,E=_?_[0]:w;return this.phase=y.PHASE_START,_?this.fingerCount=_.length:d.preventDefaultEvents!==!1&&n.preventDefault(),this.distance=0,this.direction=null,this.currentDirection=null,this.pinchDirection=null,this.duration=0,this.startTouchesDistance=0,this.endTouchesDistance=0,this.pinchZoom=1,this.pinchDistance=0,this.maximumsMap=this.createMaximumsData(),this.cancelMultiFingerRelease(),this.createFingerData(0,E),!_||this.fingerCount===d.fingers||d.fingers===y.ALL_FINGERS||this.hasPinches()?(this.startTime=this.getTimeStamp(),this.fingerCount===2&&(this.createFingerData(1,_[1]),this.startTouchesDistance=this.endTouchesDistance=this.calculateTouchesDistance(this.fingerData[0].start,this.fingerData[1].start)),d.onSwipeStatus===c.noop&&d.onPinchStatus===c.noop||(p=this.triggerHandler(w,this.phase))):p=!1,p===!1?(this.phase=y.PHASE_CANCEL,this.triggerHandler(w,this.phase),p):(d.onHold!==c.noop&&(this.holdTimeout=setTimeout(h.proxy(function(){o.trigger("hold",[w.target]),d.onHold!==c.noop&&(p=v.exec(d.onHold,[w,w.target],o[0]),o.fire("hold",{event:w,target:w.target}))},this),d.longTapThreshold)),this.setTouchInProgress(!0),null)}},touchMove:function(n){var o=n;if(this.phase!==y.PHASE_END&&this.phase!==y.PHASE_CANCEL&&!this.inMultiFingerRelease()){var d,p=o.touches,w=p?p[0]:o,_=this.updateFingerData(w);if(this.endTime=this.getTimeStamp(),p&&(this.fingerCount=p.length),this.options.onHold!==c.noop&&clearTimeout(this.holdTimeout),this.phase=y.PHASE_MOVE,this.fingerCount===2&&(this.startTouchesDistance===0?(this.createFingerData(1,p[1]),this.startTouchesDistance=this.endTouchesDistance=this.calculateTouchesDistance(this.fingerData[0].start,this.fingerData[1].start)):(this.updateFingerData(p[1]),this.endTouchesDistance=this.calculateTouchesDistance(this.fingerData[0].end,this.fingerData[1].end),this.pinchDirection=this.calculatePinchDirection(this.fingerData[0].end,this.fingerData[1].end)),this.pinchZoom=this.calculatePinchZoom(this.startTouchesDistance,this.endTouchesDistance),this.pinchDistance=Math.abs(this.startTouchesDistance-this.endTouchesDistance)),this.fingerCount===this.options.fingers||this.options.fingers===y.ALL_FINGERS||!p||this.hasPinches()){if(this.direction=this.calculateDirection(_.start,_.end),this.currentDirection=this.calculateDirection(_.last,_.end),this.validateDefaultEvent(n,this.currentDirection),this.distance=this.calculateDistance(_.start,_.end),this.duration=this.calculateDuration(),this.setMaxDistance(this.direction,this.distance),d=this.triggerHandler(o,this.phase),!this.options.triggerOnTouchEnd||this.options.triggerOnTouchLeave){var E=!0;if(this.options.triggerOnTouchLeave){var A=this.getBounds(this);E=this.isInBounds(_.end,A)}!this.options.triggerOnTouchEnd&&E?this.phase=this.getNextPhase(y.PHASE_MOVE):this.options.triggerOnTouchLeave&&!E&&(this.phase=this.getNextPhase(y.PHASE_END)),this.phase!==y.PHASE_CANCEL&&this.phase!==y.PHASE_END||this.triggerHandler(o,this.phase)}}else this.phase=y.PHASE_CANCEL,this.triggerHandler(o,this.phase);d===!1&&(this.phase=y.PHASE_CANCEL,this.triggerHandler(o,this.phase))}},touchEnd:function(n){var o=n,d=o.touches;if(d){if(d.length&&!this.inMultiFingerRelease())return this.startMultiFingerRelease(o),!0;if(d.length&&this.inMultiFingerRelease())return!0}return this.inMultiFingerRelease()&&(this.fingerCount=this.fingerCountAtRelease),this.endTime=this.getTimeStamp(),this.duration=this.calculateDuration(),this.didSwipeBackToCancel()||!this.validateSwipeDistance()?(this.phase=y.PHASE_CANCEL,this.triggerHandler(o,this.phase)):this.options.triggerOnTouchEnd||this.options.triggerOnTouchEnd===!1&&this.phase===y.PHASE_MOVE?(this.options.preventDefaultEvents!==!1&&n.preventDefault(),this.phase=y.PHASE_END,this.triggerHandler(o,this.phase)):!this.options.triggerOnTouchEnd&&this.hasTap()?(this.phase=y.PHASE_END,this.triggerHandlerForGesture(o,this.phase,y.TAP)):this.phase===y.PHASE_MOVE&&(this.phase=y.PHASE_CANCEL,this.triggerHandler(o,this.phase)),this.setTouchInProgress(!1),null},touchCancel:function(){this.fingerCount=0,this.endTime=0,this.startTime=0,this.startTouchesDistance=0,this.endTouchesDistance=0,this.pinchZoom=1,this.cancelMultiFingerRelease(),this.setTouchInProgress(!1)},touchLeave:function(n){this.options.triggerOnTouchLeave&&(this.phase=this.getNextPhase(y.PHASE_END),this.triggerHandler(n,this.phase))},getNextPhase:function(n){var o=this.options,d=n,p=this.validateSwipeTime(),w=this.validateSwipeDistance(),_=this.didSwipeBackToCancel();return!p||_?d=y.PHASE_CANCEL:!w||n!==y.PHASE_MOVE||o.triggerOnTouchEnd&&!o.triggerOnTouchLeave?!w&&n===y.PHASE_END&&o.triggerOnTouchLeave&&(d=y.PHASE_CANCEL):d=y.PHASE_END,d},triggerHandler:function(n,o){var d,p=n.touches;return(this.didSwipe()||this.hasSwipes())&&(d=this.triggerHandlerForGesture(n,o,y.SWIPE)),(this.didPinch()||this.hasPinches())&&d!==!1&&(d=this.triggerHandlerForGesture(n,o,y.PINCH)),this.didDoubleTap()&&d!==!1?d=this.triggerHandlerForGesture(n,o,y.DOUBLE_TAP):this.didLongTap()&&d!==!1?d=this.triggerHandlerForGesture(n,o,y.LONG_TAP):this.didTap()&&d!==!1&&(d=this.triggerHandlerForGesture(n,o,y.TAP)),o===y.PHASE_CANCEL&&this.touchCancel(n),o===y.PHASE_END&&(p&&p.length||this.touchCancel(n)),d},triggerHandlerForGesture:function(n,o,d){var p,w=this.element,_=this.options;if(d===y.SWIPE){if(w.trigger("swipeStatus",[o,this.direction||null,this.distance||0,this.duration||0,this.fingerCount,this.fingerData,this.currentDirection]),p=v.exec(_.onSwipeStatus,[n,o,this.direction||null,this.distance||0,this.duration||0,this.fingerCount,this.fingerData,this.currentDirection],w[0]),w.fire("swipestatus",{event:n,phase:o,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection}),p===!1)return!1;if(o===y.PHASE_END&&this.validateSwipe()){if(clearTimeout(this.singleTapTimeout),clearTimeout(this.holdTimeout),w.trigger("swipe",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),p=v.exec(_.onSwipe,[n,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],w[0]),w.fire("swipe",{event:n,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection}),p===!1)return!1;switch(this.direction){case y.LEFT:w.trigger("swipeLeft",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),p=v.exec(_.onSwipeLeft,[n,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],w[0]),w.fire("swipeleft",{event:n,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection});break;case y.RIGHT:w.trigger("swipeRight",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),p=v.exec(_.onSwipeRight,[n,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],w[0]),w.fire("swiperight",{event:n,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection});break;case y.UP:w.trigger("swipeUp",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),p=v.exec(_.onSwipeUp,[n,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],w[0]),w.fire("swipeup",{event:n,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection});break;case y.DOWN:w.trigger("swipeDown",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),p=v.exec(_.onSwipeDown,[n,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],w[0]),w.fire("swipedown",{event:n,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection})}}}if(d===y.PINCH){if(w.trigger("pinchStatus",[o,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom]),p=v.exec(_.onPinchStatus,[n,o,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom],w[0]),w.fire("pinchstatus",{event:n,phase:o,direction:this.pinchDirection,distance:this.pinchDistance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,zoom:this.pinchZoom}),p===!1)return!1;if(o===y.PHASE_END&&this.validatePinch())switch(this.pinchDirection){case y.IN:w.trigger("pinchIn",[this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom]),p=v.exec(_.onPinchIn,[n,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom],w[0]),w.fire("pinchin",{event:n,direction:this.pinchDirection,distance:this.pinchDistance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,zoom:this.pinchZoom});break;case y.OUT:w.trigger("pinchOut",[this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom]),p=v.exec(_.onPinchOut,[n,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom],w[0]),w.fire("pinchout",{event:n,direction:this.pinchDirection,distance:this.pinchDistance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,zoom:this.pinchZoom})}}return d===y.TAP?o!==y.PHASE_CANCEL&&o!==y.PHASE_END||(clearTimeout(this.singleTapTimeout),clearTimeout(this.holdTimeout),this.hasDoubleTap()&&!this.inDoubleTap()?(this.doubleTapStartTime=this.getTimeStamp(),this.singleTapTimeout=setTimeout(h.proxy(function(){this.doubleTapStartTime=null,p=v.exec(_.onTap,[n,n.target],w[0]),w.fire("tap",{event:n,target:n.target})},this),_.doubleTapThreshold)):(this.doubleTapStartTime=null,p=v.exec(_.onTap,[n,n.target],w[0]),w.fire("tap",{event:n,target:n.target}))):d===y.DOUBLE_TAP?o!==y.PHASE_CANCEL&&o!==y.PHASE_END||(clearTimeout(this.singleTapTimeout),clearTimeout(this.holdTimeout),this.doubleTapStartTime=null,p=v.exec(_.onDoubleTap,[n,n.target],w[0]),w.fire("doubletap",{event:n,target:n.target})):d===y.LONG_TAP&&(o!==y.PHASE_CANCEL&&o!==y.PHASE_END||(clearTimeout(this.singleTapTimeout),this.doubleTapStartTime=null,p=v.exec(_.onLongTap,[n,n.target],w[0]),w.fire("longtap",{event:n,target:n.target}))),p},validateSwipeDistance:function(){var n=!0;return this.options.threshold!==null&&(n=this.distance>=this.options.threshold),n},didSwipeBackToCancel:function(){var n=this.options,o=!1;return n.cancelThreshold!==null&&this.direction!==null&&(o=this.getMaxDistance(this.direction)-this.distance>=n.cancelThreshold),o},validatePinchDistance:function(){return this.options.pinchThreshold===null||this.pinchDistance>=this.options.pinchThreshold},validateSwipeTime:function(){var n=this.options;return!n.maxTimeThreshold||this.duration<n.maxTimeThreshold},validateDefaultEvent:function(n,o){var d=this.options;if(d.preventDefaultEvents!==!1)if(d.allowPageScroll===y.NONE)n.preventDefault();else{var p=d.allowPageScroll===y.AUTO;switch(o){case y.LEFT:(d.onSwipeLeft!==c.noop&&p||!p&&d.allowPageScroll.toLowerCase()!==y.HORIZONTAL)&&n.preventDefault();break;case y.RIGHT:(d.onSwipeRight!==c.noop&&p||!p&&d.allowPageScroll.toLowerCase()!==y.HORIZONTAL)&&n.preventDefault();break;case y.UP:(d.onSwipeUp!==c.noop&&p||!p&&d.allowPageScroll.toLowerCase()!==y.VERTICAL)&&n.preventDefault();break;case y.DOWN:(d.onSwipeDown!==c.noop&&p||!p&&d.allowPageScroll.toLowerCase()!==y.VERTICAL)&&n.preventDefault()}}},validatePinch:function(){var n=this.validateFingers(),o=this.validateEndPoint(),d=this.validatePinchDistance();return n&&o&&d},hasPinches:function(){return!!(this.options.onPinchStatus||this.options.onPinchIn||this.options.onPinchOut)},didPinch:function(){return!(!this.validatePinch()||!this.hasPinches())},validateSwipe:function(){var n=this.validateSwipeTime(),o=this.validateSwipeDistance(),d=this.validateFingers(),p=this.validateEndPoint();return!this.didSwipeBackToCancel()&&p&&d&&o&&n},hasSwipes:function(){var n=this.options;return!(n.onSwipe===c.noop&&n.onSwipeStatus===c.noop&&n.onSwipeLeft===c.noop&&n.onSwipeRight===c.noop&&n.onSwipeUp===c.noop&&n.onSwipeDown===c.noop)},didSwipe:function(){return!(!this.validateSwipe()||!this.hasSwipes())},validateFingers:function(){return this.fingerCount===this.options.fingers||this.options.fingers===y.ALL_FINGERS||!y.SUPPORTS_TOUCH},validateEndPoint:function(){return this.fingerData[0].end.x!==0},hasTap:function(){return this.options.onTap!==c.noop},hasDoubleTap:function(){return this.options.onDoubleTap!==c.noop},hasLongTap:function(){return this.options.onLongTap!==c.noop},validateDoubleTap:function(){if(this.doubleTapStartTime==null)return!1;var n=this.getTimeStamp();return this.hasDoubleTap()&&n-this.doubleTapStartTime<=this.options.doubleTapThreshold},inDoubleTap:function(){return this.validateDoubleTap()},validateTap:function(){return(this.fingerCount===1||!y.SUPPORTS_TOUCH)&&(isNaN(this.distance)||this.distance<this.options.threshold)},validateLongTap:function(){var n=this.options;return this.duration>n.longTapThreshold&&this.distance<y.DOUBLE_TAP_THRESHOLD},didTap:function(){return!(!this.validateTap()||!this.hasTap())},didDoubleTap:function(){return!(!this.validateDoubleTap()||!this.hasDoubleTap())},didLongTap:function(){return!(!this.validateLongTap()||!this.hasLongTap())},startMultiFingerRelease:function(n){this.previousTouchEndTime=this.getTimeStamp(),this.fingerCountAtRelease=n.touches.length+1},cancelMultiFingerRelease:function(){this.previousTouchEndTime=0,this.fingerCountAtRelease=0},inMultiFingerRelease:function(){var n=!1;return this.previousTouchEndTime&&this.getTimeStamp()-this.previousTouchEndTime<=this.options.fingerReleaseThreshold&&(n=!0),n},getTouchInProgress:function(){return this.element.data("intouch")===!0},setTouchInProgress:function(n){var o=this.element;o&&(n===!0?(o.on(this.MOVE_EV,h.proxy(this.touchMove,this)),o.on(this.END_EV,h.proxy(this.touchEnd,this)),this.LEAVE_EV&&o.on(this.LEAVE_EV,h.proxy(this.touchLeave,this))):(o.off(this.MOVE_EV),o.off(this.END_EV),this.LEAVE_EV&&o.off(this.LEAVE_EV)),o.data("intouch",n===!0))},createFingerData:function(n,o){var d={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return d.start.x=d.last.x=d.end.x=o.pageX||o.clientX,d.start.y=d.last.y=d.end.y=o.pageY||o.clientY,this.fingerData[n]=d,d},updateFingerData:function(n){var o=n.identifier!==void 0?n.identifier:0,d=this.getFingerData(o);return d===null&&(d=this.createFingerData(o,n)),d.last.x=d.end.x,d.last.y=d.end.y,d.end.x=n.pageX||n.clientX,d.end.y=n.pageY||n.clientY,d},getFingerData:function(n){return this.fingerData[n]||null},setMaxDistance:function(n,o){n!==y.NONE&&(o=Math.max(o,this.getMaxDistance(n)),this.maximumsMap[n].distance=o)},getMaxDistance:function(n){return this.maximumsMap[n]?this.maximumsMap[n].distance:void 0},createMaximumsData:function(){var n={};return n[y.LEFT]=this.createMaximumVO(y.LEFT),n[y.RIGHT]=this.createMaximumVO(y.RIGHT),n[y.UP]=this.createMaximumVO(y.UP),n[y.DOWN]=this.createMaximumVO(y.DOWN),n},createMaximumVO:function(n){return{direction:n,distance:0}},calculateDuration:function(){return this.endTime-this.startTime},calculateTouchesDistance:function(n,o){var d=Math.abs(n.x-o.x),p=Math.abs(n.y-o.y);return Math.round(Math.sqrt(d*d+p*p))},calculatePinchZoom:function(n,o){return(o/n*100).toFixed(2)},calculatePinchDirection:function(){return this.pinchZoom<1?y.OUT:y.IN},calculateDistance:function(n,o){return Math.round(Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2)))},calculateAngle:function(n,o){var d=n.x-o.x,p=o.y-n.y,w=Math.atan2(p,d),_=Math.round(180*w/Math.PI);return _<0&&(_=360-Math.abs(_)),_},calculateDirection:function(n,o){if(this.comparePoints(n,o))return y.NONE;var d=this.calculateAngle(n,o);return d<=45&&d>=0||d<=360&&d>=315?y.LEFT:d>=135&&d<=225?y.RIGHT:d>45&&d<135?y.DOWN:y.UP},getTimeStamp:function(){return new Date().getTime()},getBounds:function(n){var o=(n=h(n)).offset();return{left:o.left,right:o.left+n.outerWidth(),top:o.top,bottom:o.top+n.outerHeight()}},isInBounds:function(n,o){return n.x>o.left&&n.x<o.right&&n.y>o.top&&n.y<o.bottom},comparePoints:function(n,o){return n.x===o.x&&n.y===o.y},removeListeners:function(){var n=this.element;n.off(this.START_EV),n.off(this.CANCEL_EV),n.off(this.MOVE_EV),n.off(this.END_EV),this.LEAVE_EV&&n.off(this.LEAVE_EV),this.setTouchInProgress(!1)},enable:function(){return this.disable(),this.element.on(this.START_EV,this.touchStart),this.element.on(this.CANCEL_EV,this.touchCancel),this.element},disable:function(){return this.removeListeners(),this.element},changeAttribute:function(){},destroy:function(){this.removeListeners()}}),c.touch=y}(Metro,m4q),function(c,h){var v=c.utils,y={treeviewDeferred:0,showChildCount:!1,duration:100,onNodeClick:c.noop,onNodeDblClick:c.noop,onNodeDelete:c.noop,onNodeInsert:c.noop,onNodeClean:c.noop,onCheckClick:c.noop,onRadioClick:c.noop,onExpandNode:c.noop,onCollapseNode:c.noop,onTreeViewCreate:c.noop};c.treeViewSetup=function(e){y=h.extend({},y,e)},typeof window.metroTreeViewSetup!==void 0&&c.treeViewSetup(window.metroTreeViewSetup),c.Component("tree-view",{init:function(e,n){return this._super(n,e,y),this},_create:function(){var e=this,n=this.element;this._createTree(),this._createEvents(),h.each(n.find("input"),function(){h(this).is(":checked")&&e._recheck(this)}),this._fireEvent("tree-view-create",{element:n})},_createIcon:function(e){var n,o;return o=v.isTag(e)?h(e):h("<img src='' alt=''>").attr("src",e),(n=h("<span>").addClass("icon")).html(o.outerHTML()),n},_createCaption:function(e,n){const o=h("<span>").addClass("caption").html(e);return n&&(v.isObject(n)?o.css(n):typeof n=="string"&&(o[0].style.cssText=n)),o},_createToggle:function(){return h("<span>").addClass("node-toggle")},_createNode:function(e){var n;if(n=h("<li>"),e.caption&&n.prepend(this._createCaption(e.caption,e.style)),e.icon&&n.prepend(this._createIcon(e.icon)),e.html&&n.append(e.html),e.attributes&&v.isObject(e.attributes))for(let o in e.attributes)n.attr(`data-${o}`,e.attributes[o]);return e.badge&&n.append(h("<span>").addClass("badge").html(e.badge)),e.badges&&h.each(e.badges,function(o,d){n.append(h("<span>").addClass("badge").html(d))}),n},_createTree:function(){var e=this,n=this.element,o=this.options,d=n.find("li");n.addClass("treeview"),h.each(d,function(){var p,w,_,E=h(this);p=E.data("caption"),w=E.data("icon"),_=E.data("style"),p!==void 0&&(E.children("ul").length>0&&o.showChildCount===!0&&(p+=" ("+E.children("ul").children("li").length+")"),E.prepend(e._createCaption(p,_))),w!==void 0&&E.prepend(e._createIcon(w)),E.children("ul").length>0&&(E.addClass("tree-node"),E.append(e._createToggle()),v.bool(E.attr("data-collapsed"))!==!0?E.addClass("expanded"):E.children("ul").hide())})},_createEvents:function(){var e=this,n=this.element;n.on(c.events.click,".node-toggle",function(o){var d=h(this).parent();e.toggleNode(d),o.preventDefault()}),n.on(c.events.click,"li > .caption",function(o){var d=h(this).parent();e.current(d),e._fireEvent("node-click",{node:d[0]}),o.preventDefault()}),n.on(c.events.dblclick,"li > .caption",function(o){var d=h(this).closest("li"),p=d.children(".node-toggle"),w=d.children("ul");(p.length>0||w.length>0)&&e.toggleNode(d),e._fireEvent("node-dbl-click",{node:d[0]}),o.preventDefault()}),n.on(c.events.click,"input[type=radio]",function(){var o=h(this),d=o.is(":checked"),p=o.closest("li");e.current(p),e._fireEvent("radio-click",{checked:d,check:o[0],node:p[0]})}),n.on(c.events.click,"input[type=checkbox]",function(){var o=h(this),d=o.is(":checked"),p=o.closest("li");e._recheck(o),e._fireEvent("check-click",{checked:d,check:o[0],node:p[0]})})},_recheck:function(e){var n,o,d,p,w=this.element;n=(e=h(e)).is(":checked"),o=e.closest("li"),this.current(o),(d=e.closest("li").find("ul input[type=checkbox]")).attr("data-indeterminate",!1),d.prop("checked",n),d.trigger("change"),p=[],h.each(w.find("input[type=checkbox]"),function(){p.push(this)}),h.each(p.reverse(),function(){var _=h(this),E=_.closest("li").children("ul").find("input[type=checkbox]").length,A=_.closest("li").children("ul").find("input[type=checkbox]").filter(function(B){return B.checked}).length;E>0&&A===0&&(_.attr("data-indeterminate",!1),_.prop("checked",!1),_.trigger("change")),A===0?_.attr("data-indeterminate",!1):A>0&&E>A?_.attr("data-indeterminate",!0):E===A&&(_.attr("data-indeterminate",!1),_.prop("checked",!0),_.trigger("change"))})},current:function(e){var n=this.element;if(e===void 0)return n.find("li.current");n.find("li").removeClass("current"),e.addClass("current")},toggleNode:function(e){var n,o=h(e),d=this.options,p=!o.data("collapsed");//!node.hasClass("expanded");
o.toggleClass("expanded"),o.data("collapsed",p),n=p===!0?"slideUp":"slideDown",p?this._fireEvent("collapse-node",{node:o[0]}):this._fireEvent("expand-node",{node:o[0]}),o.children("ul")[n](d.duration)},addTo:function(e,n){var o,d,p=this.element;return e===null?o=p:(o=(e=h(e)).children("ul")).length===0&&(o=h("<ul>").appendTo(e),this._createToggle().appendTo(e),e.addClass("expanded")),(d=this._createNode(n)).appendTo(o),this._fireEvent("node-insert",{node:d[0],parent:e?e[0]:null}),d},insertBefore:function(e,n){var o=this._createNode(n);return v.isNull(e)?this.addTo(e,n):(e=h(e),o.insertBefore(e),this._fireEvent("node-insert",{node:o[0],parent:e?e[0]:null}),o)},insertAfter:function(e,n){var o=this._createNode(n);return v.isNull(e)?this.addTo(e,n):(e=h(e),o.insertAfter(e),this._fireEvent("node-insert",{node:o[0],parent:e[0]}),o)},del:function(e){var n=this.element,o=(e=h(e)).closest("ul"),d=o.closest("li");this._fireEvent("node-delete",{node:e[0]}),e.remove(),o.children().length!==0||o.is(n)||(o.remove(),d.removeClass("expanded"),d.children(".node-toggle").remove())},clean:function(e){(e=h(e)).children("ul").remove(),e.removeClass("expanded"),e.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:e[0]})},changeAttribute:function(){},destroy:function(){var e=this.element;return e.off(c.events.click,".node-toggle"),e.off(c.events.click,"li > .caption"),e.off(c.events.dblclick,"li > .caption"),e.off(c.events.click,"input[type=radio]"),e.off(c.events.click,"input[type=checkbox]"),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={required:function(n){return Array.isArray(n)?n.length>0&&n:!!v.isValue(n)&&n.trim()},length:function(n,o){return Array.isArray(n)?n.length===parseInt(o):!(!v.isValue(o)||isNaN(o)||o<=0)&&n.trim().length===parseInt(o)},minlength:function(n,o){return Array.isArray(n)?n.length>=parseInt(o):!(!v.isValue(o)||isNaN(o)||o<=0)&&n.trim().length>=parseInt(o)},maxlength:function(n,o){return Array.isArray(n)?n.length<=parseInt(o):!(!v.isValue(o)||isNaN(o)||o<=0)&&n.trim().length<=parseInt(o)},min:function(n,o){return!(!v.isValue(o)||isNaN(o))&&!!this.number(n)&&!isNaN(n)&&Number(n)>=Number(o)},max:function(n,o){return!(!v.isValue(o)||isNaN(o))&&!!this.number(n)&&!isNaN(n)&&Number(n)<=Number(o)},email:function(n){return/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i.test(n)},domain:function(n){return/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/.test(n)},url:function(n){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(n)},date:function(n,o,d){try{return o?Datetime.from(n,o,d):datetime(n),!0}catch{return!1}},number:function(n){return!isNaN(n)},integer:function(n){return v.isInt(n)},float:function(n){return v.isFloat(n)},digits:function(n){return/^\d+$/.test(n)},hexcolor:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},color:function(n){return!!v.isValue(n)&&(c.colors.color(n,c.colors.PALETTES.STANDARD)!==!1||c.colors.isColor(c.colors.parse(n)))},pattern:function(n,o){return!!v.isValue(n)&&!!v.isValue(o)&&new RegExp(o).test(n)},compare:function(n,o){return n===o},not:function(n,o){return n!==o},notequals:function(n,o){return!v.isNull(n)&&!v.isNull(o)&&n.trim()!==o.trim()},equals:function(n,o){return!v.isNull(n)&&!v.isNull(o)&&n.trim()===o.trim()},custom:function(n,o){return v.isFunc(o)!==!1&&v.exec(o,[n])},is_control:function(n){return n.parent().hasClass("input")||n.parent().hasClass("select")||n.parent().hasClass("textarea")||n.parent().hasClass("checkbox")||n.parent().hasClass("switch")||n.parent().hasClass("radio")||n.parent().hasClass("spinner")},reset_state:function(n){var o=h(n);y.is_control(o)?o.parent().removeClass("invalid valid"):o.removeClass("invalid valid")},set_valid_state:function(n){var o=h(n);y.is_control(o)?o.parent().addClass("valid"):o.addClass("valid")},set_invalid_state:function(n){var o=h(n);y.is_control(o)?o.parent().addClass("invalid"):o.addClass("invalid")},reset:function(n){var o=this;return h.each(h(n).find("[data-validate]"),function(){o.reset_state(this)}),this},validate:function(n,o,d,p,w){var _,E,A=!0,B=h(n),H=B.data("validate")!==void 0?String(B.data("validate")).split(" ").map(function(Z){return Z.trim()}):[],V=[],K=B.closest("form").length>0;return H.length===0||(this.reset_state(B),B.attr("type")&&B.attr("type").toLowerCase()==="checkbox"?((A=H.indexOf("required")===-1||B.is(":checked"))===!1&&V.push("required"),o!==void 0&&(o.val+=A?0:1)):B.attr("type")&&B.attr("type").toLowerCase()==="radio"?(typeof(_=B.attr("name"))===void 0?A=!0:(E=h("input[name="+_.replace("[","\\[").replace("]","\\]")+"]:checked"),A=E.length>0),o!==void 0&&(o.val+=A?0:1)):h.each(H,function(){if(A!==!1){var Z,xe,Ee,We=this.split("=");Z=We[0],We.shift(),xe=We.join("="),["compare","equals","notequals"].indexOf(Z)>-1&&(xe=K?B[0].form.elements[xe].value:h("[name="+xe+"]").val()),Z==="date"&&(xe=B.attr("data-value-format"),Ee=B.attr("data-value-locale")),(A=v.isFunc(y[Z])===!1||(w===!0||Z==="required"?y[Z](B.val(),xe,Ee):B.val().trim()===""||y[Z](B.val(),xe,Ee)))===!1&&V.push(Z),o!==void 0&&(o.val+=A?0:1)}}),A===!1?(this.set_invalid_state(B),o!==void 0&&o.log.push({input:B[0],name:B.attr("name"),value:B.val(),funcs:H,errors:V}),p!==void 0&&v.exec(p,[B,B.val()],B[0])):(this.set_valid_state(B),d!==void 0&&v.exec(d,[B,B.val()],B[0])),A)}};c.validator=y;var e={validatorDeferred:0,submitTimeout:200,interactiveCheck:!1,clearInvalid:0,requiredMode:!0,useRequiredClass:!0,onBeforeSubmit:c.noop_true,onSubmit:c.noop,onError:c.noop,onValidate:c.noop,onErrorForm:c.noop,onValidateForm:c.noop,onValidatorCreate:c.noop};c.validatorSetup=function(n){e=h.extend({},e,n)},typeof window.metroValidatorSetup!==void 0&&c.validatorSetup(window.metroValidatorSetup),c.Component("validator",{name:"Validator",init:function(n,o){return this._super(o,n,e,{_onsubmit:null,_onreset:null,result:[]}),this},_create:function(){var n=this,o=this.element,d=this.options,p=o.find("[data-validate]");o.attr("novalidate","novalidate"),h.each(p,function(){var w=h(this);w.data("validate").indexOf("required")>-1&&d.useRequiredClass===!0&&(y.is_control(w)?w.parent().addClass("required"):w.addClass("required")),d.interactiveCheck===!0&&w.on(c.events.inputchange,function(){y.validate(this,void 0,void 0,void 0,d.requiredMode)})}),this._onsubmit=null,this._onreset=null,o[0].onsubmit!==null&&(this._onsubmit=o[0].onsubmit,o[0].onsubmit=null),o[0].onreset!==null&&(this._onreset=o[0].onreset,o[0].onreset=null),o[0].onsubmit=function(){return n._submit()},o[0].onreset=function(){return n._reset()},this._fireEvent("validator-create",{element:o})},_reset:function(){y.reset(this.element),this._onreset!==null&&v.exec(this._onreset,null,this.element[0])},_submit:function(){var n=this,o=this.element,d=this.options,p=this.elem,w=o.find("[data-validate]"),_=o.find("input[type=submit], button[type=submit]"),E={val:0,log:[]},A=h.serializeToArray(o);return _.length>0&&_.attr("disabled","disabled").addClass("disabled"),h.each(w,function(){y.validate(this,E,d.onValidate,d.onError,d.requiredMode)}),_.removeAttr("disabled").removeClass("disabled"),E.val+=v.exec(d.onBeforeSubmit,[A],this.elem)===!1?1:0,E.val===0?(this._fireEvent("validate-form",{data:A}),setTimeout(function(){v.exec(d.onSubmit,[A],p),o.fire("formsubmit",{data:A}),n._onsubmit!==null&&v.exec(n._onsubmit,null,p)},d.submitTimeout)):(this._fireEvent("error-form",{log:E.log,data:A}),d.clearInvalid>0&&setTimeout(function(){h.each(w,function(){var B=h(this);y.is_control(B)?B.parent().removeClass("invalid"):B.removeClass("invalid")})},d.clearInvalid)),E.val===0},changeAttribute:function(){}})}(Metro,m4q),function(c,h){var v=c.utils,y={duration:4e3,animationDuration:null,transitionDuration:null,transition:"fade",animation:null,slides:[],shuffle:!1,align:"center",valign:"center",loop:!0,autoplay:!0,mute:!0,cover:!0,preload:!0,timer:!0,overlay:2,color:null,volume:1,onPlay:c.noop,onPause:c.noop,onEnd:c.noop,onWalk:c.noop,onNext:c.noop,onPrev:c.noop,onJump:c.noop,onVegasCreate:c.noop};c.vegasSetup=function(e){y=h.extend({},y,e)},typeof window.metroVegasSetup!==void 0&&c.vegasSetup(window.metroVegasSetup),c.Component("vegas",{videoCache:{},init:function(e,n){return this.transitions=["fade","fade2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsUp","kenburnsDown","kenburnsRight","kenburnsLeft","kenburnsUpLeft","kenburnsUpRight","kenburnsDownLeft","kenburnsDownRight"],this.support={objectFit:"objectFit"in document.body.style,video:!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)},this._super(n,e,y,{slide:0,slides:null,total:0,noshow:!1,paused:!1,ended:!1,timer:null,overlay:null,first:!0,timeout:!1}),this},_create:function(){var e=this.element,n=this.options;this.slides=v.isObject(n.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!n.autoplay||this.noshow,n.shuffle&&this.slides.shuffle(),n.preload&&this._preload(),this._createStructure(),this._createEvents(),this._fireEvent("vegas-create",{element:e})},_createStructure:function(){var e,n=this,o=this.element,d=this.options,p=o[0].tagName==="BODY";p||(o.css("height",o.css("height")),e=h('<div class="vegas-wrapper">').css("overflow",o.css("overflow")).css("padding",o.css("padding")),o.css("padding")||e.css("padding-top",o.css("padding-top")).css("padding-bottom",o.css("padding-bottom")).css("padding-left",o.css("padding-left")).css("padding-right",o.css("padding-right")),o.children().appendTo(e),o.clear()),o.addClass("vegas-container"),p||o.append(e),d.timer&&(this.timer=h('<div class="vegas-timer"><div class="vegas-timer-progress">'),o.append(this.timer)),d.overlay&&(this.overlay=h('<div class="vegas-overlay">').addClass("overlay"+(typeof d.overlay=="boolean"||isNaN(d.overlay)?2:+d.overlay)),o.append(this.overlay)),setTimeout(function(){v.exec(d.onPlay,null,o[0]),n._goto(n.slide)},1)},_createEvents:function(){},_preload:function(){var e;for(e=0;e<this.slides.length;e++){var n=this.slides[e];n.src&&(new Image().src=this.slides[e].src),n.video&&(n.video instanceof Array?this._video(n.video):this._video(n.video.src))}},_slideShow:function(){var e=this,n=this.options;this.total>1&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){e.next()},n.duration))},_timer:function(e){var n=this,o=this.options;clearTimeout(this.timeout),this.timer&&(this.timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),this.ended||this.paused||this.noshow||e&&setTimeout(function(){n.timer.addClass("vegas-timer-running").find("div").css("transition-duration",+o.duration-100+"ms")},100))},_fadeSoundIn:function(e,n){var o=this.options;h.animate({el:e,draw:{volume:+o.volume},dur:n})},_fadeSoundOut:function(e,n){h.animate({el:e,draw:{volume:0},dur:n})},_video:function(e){var n,o,d=e.toString();return this.videoCache[d]?this.videoCache[d]:(Array.isArray(e)||(e=[e]),(n=document.createElement("video")).preload=!0,e.forEach(function(p){(o=document.createElement("source")).src=p,n.appendChild(o)}),this.videoCache[d]=n,n)},_goto:function(e){var n,o,d,p,w,_=this,E=this.element,A=this.options;this.slides[e]===void 0&&(e=0),this.slide=e;var B,H,V,K,Z=E.children(".vegas-slide"),xe=this.slides[e],Ee=A.cover;function We(){_._timer(!0),setTimeout(function(){Z.css("transition","all "+V+"ms").addClass("vegas-transition-"+B+"-out"),Z.each(function(){var ee=Z.find("video").get(0);ee&&(ee.volume=1,_._fadeSoundOut(ee,V))}),n.css("transition","all "+V+"ms").addClass("vegas-transition-"+B+"-in");for(var z=0;z<Z.length-1;z++)Z.eq(z).remove();_._fireEvent("walk",{slide:_.current(!0)}),_._slideShow()},100)}this.first&&(this.first=!1),Ee!=="repeat"&&(Ee===!0?Ee="cover":Ee===!1&&(Ee="contain")),B=A.transition==="random"?h.random(this.transitions):A.transition?A.transition:this.transitions[0],H=A.animation==="random"?h.random(this.animations):A.animation?A.animation:this.animations[0],V=A.transitionDuration?A.transitionDuration==="auto"||+A.transitionDuration>+A.duration?+A.duration:+A.transitionDuration:+A.duration,K=A.animationDuration?A.animationDuration==="auto"||+A.animationDuration>+A.duration?+A.duration:+A.animationDuration:+A.duration,n=h("<div>").addClass("vegas-slide").addClass("vegas-transition-"+B),this.support.video&&xe.video?((d=xe.video instanceof Array?this._video(xe.video):this._video(xe.video.src)).loop=xe.video.loop?xe.video.loop:A.loop,d.muted=xe.video.mute?xe.video.mute:A.mute,d.muted?d.pause():this._fadeSoundIn(d,V),w=h(d).addClass("vegas-video").css("background-color",A.color||"#000000"),this.support.objectFit?w.css("object-position",A.align+" "+A.valign).css("object-fit",Ee).css("width","100%").css("height","100%"):Ee==="contain"&&w.css("width","100%").css("height","100%"),n.append(w)):(p=new Image,o=h("<div>").addClass("vegas-slide-inner").css({backgroundImage:'url("'+xe.src+'")',backgroundColor:A.color||"#000000",backgroundPosition:A.align+" "+A.valign}),Ee==="repeat"?o.css("background-repeat","repeat"):o.css("background-size",Ee),H&&o.addClass("vegas-animation-"+H).css("animation-duration",K+"ms"),n.append(o)),Z.length?Z.eq(Z.length-1).after(n):E.prepend(n),Z.css("transition","all 0ms").each(function(){this.className="vegas-slide",this.tagName==="VIDEO"&&(this.className+=" vegas-video"),B&&(this.className+=" vegas-transition-"+B,this.className+=" vegas-transition-"+B+"-in")}),this._timer(!1),d?(d.readyState===4&&(d.currentTime=0),d.play(),We()):(p.src=xe.src,p.complete?We():p.onload=We)},_end:function(){this.ended=this.options.autoplay,this._timer(!1),this._fireEvent("end",{slide:this.current(!0)})},play:function(){this.paused&&(this._fireEvent("play",{slide:this.current(!0)}),this.paused=!1,this.next())},pause:function(){this._timer(!1),this.paused=!0,this._fireEvent("pause",{slide:this.current(!0)})},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(e){return e?{slide:this.slide,data:this.slides[this.slide]}:this.slide},jump:function(e){if(e<=0||e>this.slides.length||e===this.slide+1)return this;this.slide=e-1,this._fireEvent("jump",{slide:this.current(!0)}),this._goto(this.slide)},next:function(){var e=this.options;if(this.slide++,this.slide>=this.slides.length){if(!e.loop)return this._end();this.slide=0}this._fireEvent("next",{slide:this.current(!0)}),this._goto(this.slide)},prev:function(){var e=this.options;if(this.slide--,this.slide<0){if(!e.loop)return this.slide++,this._end();this.slide=this.slides.length-1}this._fireEvent("prev",{slide:this.current(!0)}),this._goto(this.slide)},changeAttribute:function(e){var n=this.element,o=this.options,d=Str.camelCase(e.replace("data-",""));d==="slides"?(o.slides=n.attr("data-slides"),this.slides=v.isObject(o.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!this.options.autoplay||this.noshow):y[d]!==void 0&&(o[d]=JSON.parse(n.attr(e)))},destroy:function(){var e=this.element,n=this.options;return clearTimeout(this.timeout),e.removeClass("vegas-container"),e.find("> .vegas-slide").remove(),e.find("> .vegas-wrapper").children().appendTo(e),e.find("> .vegas-wrapper").remove(),n.timer&&this.timer.remove(),n.overlay&&this.overlay.remove(),e[0]}})}(Metro,m4q),function(c,h){var v=c.utils,y={videoDeferred:0,src:null,poster:"",logo:"",logoHeight:32,logoWidth:"auto",logoTarget:"",volume:.5,loop:!1,autoplay:!1,fullScreenMode:c.fullScreenMode.DESKTOP,aspectRatio:c.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:"<span class='default-icon-loop'></span>",stopIcon:"<span class='default-icon-stop'></span>",playIcon:"<span class='default-icon-play'></span>",pauseIcon:"<span class='default-icon-pause'></span>",muteIcon:"<span class='default-icon-mute'></span>",volumeLowIcon:"<span class='default-icon-low-volume'></span>",volumeMediumIcon:"<span class='default-icon-medium-volume'></span>",volumeHighIcon:"<span class='default-icon-high-volume'></span>",screenMoreIcon:"<span class='default-icon-enlarge'></span>",screenLessIcon:"<span class='default-icon-shrink'></span>",onPlay:c.noop,onPause:c.noop,onStop:c.noop,onEnd:c.noop,onMetadata:c.noop,onTime:c.noop,onVideoPlayerCreate:c.noop};c.videoPlayerSetup=function(e){y=h.extend({},y,e)},typeof window.metroVideoPlayerSetup!==void 0&&c.videoPlayerSetup(window.metroVideoPlayerSetup),c.Component("video-player",{init:function(e,n){return this._super(n,e,y,{fullscreen:!1,preloader:null,player:null,video:n,stream:null,volume:null,volumeBackup:0,muted:!1,fullScreenInterval:!1,isPlaying:!1,id:v.elementId("video-player")}),this},_create:function(){var e=this.element,n=this.options;c.fullScreenEnabled===!1&&(n.fullScreenMode=c.fullScreenMode.WINDOW),this._createPlayer(),this._createControls(),this._createEvents(),this._setAspectRatio(),n.autoplay===!0&&this.play(),this._fireEvent("video-player-create",{element:e,player:this.player})},_createPlayer:function(){var e=this.element,n=this.options,o=this.video,d=h("<div>").addClass("media-player video-player "+e[0].className),p=h("<div>").addClass("preloader").appendTo(d),w=h("<a>").attr("href",n.logoTarget).addClass("logo").appendTo(d);d.insertBefore(e),e.appendTo(d),h.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){e.removeAttr(this)}),e.attr("preload","auto"),n.poster!==""&&e.attr("poster",n.poster),o.volume=n.volume,p.activity({type:"cycle",style:"color"}),p.hide(),this.preloader=p,n.logo!==""&&h("<img>").css({height:n.logoHeight,width:n.logoWidth}).attr("src",n.logo).appendTo(w),n.src!==null&&this._setSource(n.src),e[0].className="",this.player=d},_setSource:function(e){var n=this.element;n.find("source").remove(),n.removeAttr("src"),Array.isArray(e)?h.each(e,function(){var o=this;o.src!==void 0&&h("<source>").attr("src",o.src).attr("type",o.type!==void 0?o.type:"").appendTo(n)}):n.attr("src",e)},_createControls:function(){var e,n=this,o=this.element,d=this.options,p=this.elem,w=h("<div>").addClass("controls").addClass(d.clsControls).insertAfter(o),_=h("<div>").addClass("stream").appendTo(w),E=h("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(_),A=h("<div>").addClass("volume").appendTo(w),B=h("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(A),H=h("<div>").addClass("info-box").appendTo(w);d.showInfo!==!0&&H.hide(),c.makePlugin(E,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){p.paused||p.pause()},onStop:function(V){p.seekable.length>0&&(p.currentTime=(n.duration*V/100).toFixed(0)),p.paused&&p.currentTime>0&&p.play()}}),this.stream=E,d.showStream!==!0&&_.hide(),c.makePlugin(B,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:100*d.volume,onChangeValue:function(V){p.volume=V/100}}),this.volume=B,d.showVolume!==!0&&A.hide(),d.showLoop===!0&&(e=h("<button>").attr("type","button").addClass("button square loop").html(d.loopIcon).appendTo(w)),d.showPlay===!0&&h("<button>").attr("type","button").addClass("button square play").html(d.playIcon).appendTo(w),d.showStop===!0&&h("<button>").attr("type","button").addClass("button square stop").html(d.stopIcon).appendTo(w),d.showMute===!0&&h("<button>").attr("type","button").addClass("button square mute").html(d.muteIcon).appendTo(w),d.showFull===!0&&h("<button>").attr("type","button").addClass("button square full").html(d.screenMoreIcon).appendTo(w),d.loop===!0&&(e.addClass("active"),o.attr("loop","loop")),this._setVolume(),d.muted&&(n.volumeBackup=p.volume,c.getPlugin(n.volume,"slider").val(0),p.volume=0),H.html("00:00 / 00:00")},_createEvents:function(){var e=this,n=this.element,o=this.options,d=this.elem,p=this.player;n.on("loadstart",function(){e.preloader.show()}),n.on("loadedmetadata",function(){e.duration=d.duration.toFixed(0),e._setInfo(0,e.duration),v.exec(o.onMetadata,[d,p],n[0])}),n.on("canplay",function(){e._setBuffer(),e.preloader.hide()}),n.on("progress",function(){e._setBuffer()}),n.on("timeupdate",function(){var w=Math.round(100*d.currentTime/e.duration);e._setInfo(d.currentTime,e.duration),c.getPlugin(e.stream,"slider").val(w),v.exec(o.onTime,[d.currentTime,e.duration,d,p],n[0])}),n.on("waiting",function(){e.preloader.show()}),n.on("loadeddata",function(){}),n.on("play",function(){p.find(".play").html(o.pauseIcon),v.exec(o.onPlay,[d,p],n[0]),e._onMouse()}),n.on("pause",function(){p.find(".play").html(o.playIcon),v.exec(o.onPause,[d,p],n[0]),e._offMouse()}),n.on("stop",function(){c.getPlugin(e.stream,"slider").val(0),v.exec(o.onStop,[d,p],n[0]),e._offMouse()}),n.on("ended",function(){c.getPlugin(e.stream,"slider").val(0),v.exec(o.onEnd,[d,p],n[0]),e._offMouse()}),n.on("volumechange",function(){e._setVolume()}),p.on(c.events.click,".play",function(){d.paused?e.play():e.pause()}),p.on(c.events.click,".stop",function(){e.stop()}),p.on(c.events.click,".mute",function(){e._toggleMute()}),p.on(c.events.click,".loop",function(){e._toggleLoop()}),p.on(c.events.click,".full",function(){e.fullscreen=!e.fullscreen,p.find(".full").html(e.fullscreen===!0?o.screenLessIcon:o.screenMoreIcon),o.fullScreenMode===c.fullScreenMode.WINDOW?e.fullscreen===!0?p.addClass("full-screen"):p.removeClass("full-screen"):e.fullscreen===!0?(c.requestFullScreen(d),e.fullScreenInterval===!1&&(e.fullScreenInterval=setInterval(function(){c.inFullScreen()===!1&&(e.fullscreen=!1,clearInterval(e.fullScreenInterval),e.fullScreenInterval=!1,p.find(".full").html(o.screenMoreIcon))},1e3))):c.exitFullScreen()}),h(window).on(c.events.keyup,function(w){e.fullscreen&&w.keyCode===27&&p.find(".full").click()},{ns:this.id}),h(window).on(c.events.resize,function(){e._setAspectRatio()},{ns:this.id})},_onMouse:function(){var e=this.options,n=this.player;n.on(c.events.enter,function(){var o=n.find(".controls");e.controlsHide>0&&o.style("display")==="none"&&o.stop(!0).fadeIn(500,function(){o.css("display","flex")})}),n.on(c.events.leave,function(){var o=n.find(".controls");e.controlsHide>0&&parseInt(o.style("opacity"))===1&&setTimeout(function(){o.stop(!0).fadeOut(500)},e.controlsHide)})},_offMouse:function(){var e=this.player,n=this.options,o=e.find(".controls");e.off(c.events.enter),e.off(c.events.leave),n.controlsHide>0&&o.style("display")==="none"&&o.stop(!0).fadeIn(500,function(){o.css("display","flex")})},_toggleLoop:function(){var e=this.player.find(".loop");e.length!==0&&(e.toggleClass("active"),e.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.video.volume=this.volumeBackup:(this.volumeBackup=this.video.volume,this.video.volume=0),c.getPlugin(this.volume,"slider").val(this.muted===!1?100*this.volumeBackup:0)},_setInfo:function(e,n){this.player.find(".info-box").html(v.secondsToFormattedString(Math.round(e))+" / "+v.secondsToFormattedString(Math.round(n)))},_setBuffer:function(){var e=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;c.getPlugin(this.stream,"slider").buff(e)},_setVolume:function(){var e=this.video,n=this.player,o=this.options,d=n.find(".mute"),p=100*e.volume;p>1&&p<30?d.html(o.volumeLowIcon):p>=30&&p<60?d.html(o.volumeMediumIcon):p>=60&&p<=100?d.html(o.volumeHighIcon):d.html(o.muteIcon)},_setAspectRatio:function(){var e,n=this.player,o=this.options,d=n.outerWidth();switch(o.aspectRatio){case c.aspectRatio.SD:e=v.aspectRatioH(d,"4/3");break;case c.aspectRatio.CINEMA:e=v.aspectRatioH(d,"21/9");break;default:e=v.aspectRatioH(d,"16/9")}n.outerHeight(e)},aspectRatio:function(e){this.options.aspectRatio=e,this._setAspectRatio()},play:function(e){e!==void 0&&this._setSource(e),this.element.attr("src")===void 0&&this.element.find("source").length===0||(this.isPlaying=!0,this.video.play())},pause:function(){this.isPlaying=!1,this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,c.getPlugin(this.stream,"slider").val(0),this._offMouse()},setVolume:function(e){if(e===void 0)return this.video.volume;e>1&&(e/=100),this.video.volume=e,c.getPlugin(this.volume[0],"slider").val(100*e)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr("data-aspect-ratio"),this._setAspectRatio()},changeSource:function(){var e=JSON.parse(this.element.attr("data-src"));this.play(e)},changeVolume:function(){var e=this.element.attr("data-volume");this.setVolume(e)},changeAttribute:function(e){switch(e){case"data-aspect-ratio":this.changeAspectRatio();break;case"data-src":this.changeSource();break;case"data-volume":this.changeVolume()}},destroy:function(){var e=this.element,n=this.player;return c.getPlugin(this.stream,"slider").destroy(),c.getPlugin(this.volume,"slider").destroy(),e.off("loadstart"),e.off("loadedmetadata"),e.off("canplay"),e.off("progress"),e.off("timeupdate"),e.off("waiting"),e.off("loadeddata"),e.off("play"),e.off("pause"),e.off("stop"),e.off("ended"),e.off("volumechange"),n.off(c.events.click,".play"),n.off(c.events.click,".stop"),n.off(c.events.click,".mute"),n.off(c.events.click,".loop"),n.off(c.events.click,".full"),h(window).off(c.events.keyup,{ns:this.id}),h(window).off(c.events.resize,{ns:this.id}),e}})}(Metro,m4q),function(c,h){var v=c.utils,y={onViewport:c.noop,onViewportEnter:c.noop,onViewportLeave:c.noop,onViewportCheckCreate:c.noop};c.viewportCheckSetup=function(e){y=h.extend({},y,e)},typeof window.metroViewportCheckSetup!==void 0&&c.viewportCheckSetup(window.metroViewportCheckSetup),c.Component("viewport-check",{init:function(e,n){return this._super(n,e,y,{inViewport:!1,id:v.elementId("viewport-check")}),this},_create:function(){this.inViewport=v.inViewport(this.elem),this._createEvents(),this._fireEvent("viewport-check-create")},_createEvents:function(){var e=this,n=this.elem;h(window).on(c.events.scroll,function(){var o=e.inViewport;e.inViewport=v.inViewport(n),o!==e.inViewport&&(e.inViewport?e._fireEvent("viewport-enter"):e._fireEvent("viewport-leave")),e._fireEvent("viewport",{state:e.inViewport})},{ns:e.id})},state:function(){return this.inViewport},destroy:function(){return h(window).off(c.events.scroll,{ns:this.id}),this.element}})}(Metro,m4q),function(c,h){var v=c.utils,y={windowDeferred:0,hidden:!1,width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,draggable:!0,dragElement:".window-caption .icon, .window-caption .title",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:null,resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",closeAction:c.actions.REMOVE,customButtons:null,clsCustomButton:"",clsCaption:"",clsContent:"",clsWindow:"",_runtime:!1,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,onDragStart:c.noop,onDragStop:c.noop,onDragMove:c.noop,onCaptionDblClick:c.noop,onCloseClick:c.noop,onMaxClick:c.noop,onMinClick:c.noop,onResizeStart:c.noop,onResizeStop:c.noop,onResize:c.noop,onWindowCreate:c.noop,onShow:c.noop,onWindowDestroy:c.noop,onCanClose:c.noop_true,onClose:c.noop};c.windowSetup=function(e){y=h.extend({},y,e)},typeof window.metroWindowSetup!==void 0&&c.windowSetup(window.metroWindowSetup),c.Component("window",{init:function(e,n){return this._super(n,e,y,{win:null,overlay:null,position:{top:0,left:0},hidden:!1,content:null}),this},_create:function(){var e,n,o,d=this,p=this.element,w=this.options,_=w.dragArea==="parent"?p.parent():h(w.dragArea);w.modal===!0&&(w.btnMax=!1,w.btnMin=!1,w.resizable=!1),v.isNull(w.content)||(v.isUrl(w.content)&&v.isVideoUrl(w.content)?(w.content=v.embedUrl(w.content),p.css({height:"100%"})):!v.isQ(w.content)&&v.isFunc(w.content)&&(w.content=v.exec(w.content)),(o=h(w.content)).length===0?p.appendText(w.content):p.append(o)),w.content=p,w._runtime===!0&&this._runtime(p,"window"),(e=this._window(w)).addClass("no-visible"),_.append(e),w.overlay===!0&&((n=this._overlay()).appendTo(e.parent()),this.overlay=n),this.win=e,this._fireEvent("window-create",{win:this.win[0],element:p}),setTimeout(function(){d._setPosition(),w.hidden!==!0&&d.win.removeClass("no-visible"),d._fireEvent("show",{win:d.win[0],element:p})},100)},_setPosition:function(){var e,n,o,d,p=this.options,w=this.win,_=p.dragArea==="parent"?w.parent():h(p.dragArea),E=_.height()/2-w[0].offsetHeight/2,A=_.width()/2-w[0].offsetWidth/2;if(p.place!=="auto"){switch(p.place.toLowerCase()){case"top-left":e=0,n=0,o="auto",d="auto";break;case"top-center":e=0,n=A,o="auto",d="auto";break;case"top-right":e=0,o=0,n="auto",d="auto";break;case"right-center":e=E,o=0,n="auto",d="auto";break;case"bottom-right":d=0,o=0,n="auto",e="auto";break;case"bottom-center":d=0,n=A,o="auto",e="auto";break;case"bottom-left":d=0,n=0,o="auto",e="auto";break;case"left-center":e=E,n=0,o="auto",d="auto";break;default:e=E,n=A,d="auto",o="auto"}w.css({top:e,left:n,bottom:d,right:o})}},_window:function(e){var n,o,d,p,w,_=this,E=e.width,A=e.height;if(n=h("<div>").addClass("window"),e.modal===!0&&n.addClass("modal"),o=h("<div>").addClass("window-caption"),d=h("<div>").addClass("window-content"),n.append(o),n.append(d),e.status===!0&&(w=h("<div>").addClass("window-status"),n.append(w)),e.shadow===!0&&n.addClass("win-shadow"),v.isValue(e.icon)&&h("<span>").addClass("icon").html(e.icon).appendTo(o),h("<span>").addClass("title").html(v.isValue(e.title)?e.title:"&nbsp;").appendTo(o),v.isNull(e.content)||(v.isQ(e.content)?e.content.appendTo(d):d.html(e.content)),(p=h("<div>").addClass("buttons")).appendTo(o),e.btnMax===!0&&h("<span>").addClass("button btn-max sys-button").appendTo(p),e.btnMin===!0&&h("<span>").addClass("button btn-min sys-button").appendTo(p),e.btnClose===!0&&h("<span>").addClass("button btn-close sys-button").appendTo(p),v.isValue(e.customButtons)){var B=[];v.isObject(e.customButtons)!==!1&&(e.customButtons=v.isObject(e.customButtons)),typeof e.customButtons=="string"&&e.customButtons.indexOf("{")>-1?B=JSON.parse(e.customButtons):typeof e.customButtons=="object"&&v.objectLength(e.customButtons)>0?B=e.customButtons:console.warn("Unknown format for custom buttons"),h.each(B,function(){var H=this,V=h("<span>");V.addClass("button btn-custom").addClass(e.clsCustomButton).addClass(H.cls).attr("tabindex",-1).html(H.html),H.attr&&typeof H.attr=="object"&&h.each(H.attr,function(K,Z){V.attr(Str.dashedName(K),Z)}),V.data("action",H.onclick),p.prepend(V)})}return o.on(c.events.stop,".btn-custom",function(H){if(!v.isRightMouse(H)){var V=h(this),K=V.data("action");v.exec(K,[V],this)}}),n.attr("id",e.id===void 0?v.elementId("window"):e.id),n.on(c.events.dblclick,".window-caption",function(H){_.maximized(H)}),o.on(c.events.click,".btn-max, .btn-min, .btn-close",function(H){if(!v.isRightMouse(H)){var V=h(H.target);V.hasClass("btn-max")&&_.maximized(H),V.hasClass("btn-min")&&_.minimized(H),V.hasClass("btn-close")&&_.close(H)}}),e.draggable===!0&&c.makePlugin(n,"draggable",{dragContext:n[0],dragElement:e.dragElement,dragArea:e.dragArea,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onDragMove:e.onDragMove}),n.addClass(e.clsWindow),o.addClass(e.clsCaption),d.addClass(e.clsContent),e.minWidth===0&&(e.minWidth=34,h.each(p.children(".btn-custom"),function(){e.minWidth+=v.hiddenElementSize(this).width}),e.btnMax&&(e.minWidth+=34),e.btnMin&&(e.minWidth+=34),e.btnClose&&(e.minWidth+=34)),e.minWidth>0&&!isNaN(e.width)&&e.width<e.minWidth&&(E=e.minWidth),e.minHeight>0&&!isNaN(e.height)&&e.height>e.minHeight&&(A=e.minHeight),e.resizable===!0&&(h("<span>").addClass("resize-element").appendTo(n),n.addClass("resizable"),c.makePlugin(n,"resizable",{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,resizeElement:".resize-element",onResizeStart:e.onResizeStart,onResizeStop:e.onResizeStop,onResize:e.onResize})),n.css({width:E,height:A,position:e.position,top:e.top,left:e.left}),n},_overlay:function(){var e=this.options,n=h("<div>");return n.addClass("overlay"),e.overlayColor==="transparent"?n.addClass("transparent"):n.css({background:c.colors.toRGBA(e.overlayColor,e.overlayAlpha)}),n},width:function(e){var n=this.win;return v.isValue(e)?(n.css("width",parseInt(e)),this):n.width()},height:function(e){var n=this.win;return v.isValue(e)?(n.css("height",parseInt(e)),this):n.height()},maximized:function(e){var n=this.win,o=this.options,d=h(e.target);o.btnMax&&(n.removeClass("minimized"),n.toggleClass("maximized")),d.hasClass&&d.hasClass("title")?this._fireEvent("caption-dbl-click",{win:n[0]}):this._fireEvent("max-click",{win:n[0]})},minimized:function(){var e=this.win;this.options.btnMin&&(e.removeClass("maximized"),e.toggleClass("minimized")),this._fireEvent("min-click",{win:e[0]})},close:function(){var e=this,n=this.win,o=this.options;if(v.exec(o.onCanClose,[n])===!1)return!1;var d=0;o.onClose!==c.noop&&(d=500),this._fireEvent("close",{win:n[0]}),setTimeout(function(){o.modal===!0&&n.siblings(".overlay").remove(),e._fireEvent("close-click",{win:n[0]}),o.closeAction===c.actions.REMOVE?(e._fireEvent("window-destroy",{win:n[0]}),n.remove()):e.hide()},d)},hide:function(){var e=this.win;e.css({display:"none"}),this._fireEvent("hide",{win:e[0]})},show:function(){var e=this.win;e.removeClass("no-visible").css({display:"flex"}),this._fireEvent("show",{win:e[0]})},toggle:function(){this.win.css("display")==="none"||this.win.hasClass("no-visible")?this.show():this.hide()},isOpen:function(){return this.win.hasClass("no-visible")},min:function(e){e?this.win.addClass("minimized"):this.win.removeClass("minimized")},max:function(e){e?this.win.addClass("maximized"):this.win.removeClass("maximized")},changeClass:function(e){var n=this.element,o=this.win,d=this.options;e==="data-cls-window"&&(o[0].className="window "+(d.resizable?" resizable ":" ")+n.attr("data-cls-window")),e==="data-cls-caption"&&(o.find(".window-caption")[0].className="window-caption "+n.attr("data-cls-caption")),e==="data-cls-content"&&(o.find(".window-content")[0].className="window-content "+n.attr("data-cls-content"))},toggleShadow:function(){var e=this.element,n=this.win;JSON.parse(e.attr("data-shadow"))===!0?n.addClass("win-shadow"):n.removeClass("win-shadow")},setContent:function(e){var n,o=this.element,d=this.win,p=v.isValue(e)?e:o.attr("data-content");n=!v.isQ(p)&&v.isFunc(p)?v.exec(p):v.isQ(p)?p.html():p,d.find(".window-content").html(n)},setTitle:function(e){var n=this.element,o=this.win,d=v.isValue(e)?e:n.attr("data-title");o.find(".window-caption .title").html(d)},setIcon:function(e){var n=this.element,o=this.win,d=v.isValue(e)?e:n.attr("data-icon");o.find(".window-caption .icon").html(d)},getIcon:function(){return this.win.find(".window-caption .icon").html()},getTitle:function(){return this.win.find(".window-caption .title").html()},toggleDraggable:function(e){var n=this.win,o=v.bool(e),d=c.getPlugin(n,"draggable");o===!0?d.on():d.off()},toggleResizable:function(e){var n=this.win,o=v.bool(e),d=c.getPlugin(n,"resizable");o===!0?(d.on(),n.find(".resize-element").removeClass("resize-element-disabled")):(d.off(),n.find(".resize-element").addClass("resize-element-disabled"))},changePlace:function(e){var n=this.element,o=this.win,d=v.isValue(e)?e:n.attr("data-place");o.addClass(d)},pos:function(e,n){return this.win.css({top:e,left:n}),this},top:function(e){return this.win.css({top:e}),this},left:function(e){return this.win.css({left:e}),this},changeAttribute:function(e,n){switch(e){case"data-btn-close":case"data-btn-min":case"data-btn-max":(function(o,d){var p=this.win,w=p.find(".btn-close"),_=p.find(".btn-min"),E=p.find(".btn-max"),A=v.bool(d)?"show":"hide";switch(o){case"data-btn-close":w[A]();break;case"data-btn-min":_[A]();break;case"data-btn-max":E[A]()}})(e,n);break;case"data-width":case"data-height":(function(o,d){var p=this.win;o==="data-width"&&p.css("width",+d),o==="data-height"&&p.css("height",+d)})(e,n);break;case"data-cls-window":case"data-cls-caption":case"data-cls-content":this.changeClass(e);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable(n);break;case"data-resizable":this.toggleResizable(n);break;case"data-top":case"data-left":(function(o,d){var p,w=this.win;if(o==="data-top"){if(p=parseInt(d),!isNaN(p))return;w.css("top",p)}if(o==="data-left"){if(p=parseInt(d),!isNaN(p))return;w.css("left",p)}})(e,n);break;case"data-place":this.changePlace()}},destroy:function(){return this.element}}),c.window={isWindow:function(e){return v.isMetroObject(e,"window")},min:function(e,n){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").min(n)},max:function(e,n){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").max(n)},show:function(e){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").show()},hide:function(e){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").hide()},toggle:function(e){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").toggle()},isOpen:function(e){return!!this.isWindow(e)&&c.getPlugin(e,"window").isOpen()},close:function(e){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").close()},pos:function(e,n,o){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").pos(n,o)},top:function(e,n){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").top(n)},left:function(e,n){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").left(n)},width:function(e,n){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").width(n)},height:function(e,n){if(!this.isWindow(e))return!1;c.getPlugin(e,"window").height(n)},create:function(e,n){var o;o=h("<div>").appendTo(h(n||"body"));var d=h.extend({_runtime:!0},e||{});return c.makePlugin(o,"window",d)}}}(Metro,m4q),function(c,h){var v=c.utils,y={wizardDeferred:0,start:1,finish:0,iconHelp:"<span class='default-icon-help'></span>",iconPrev:"<span class='default-icon-left-arrow'></span>",iconNext:"<span class='default-icon-right-arrow'></span>",iconFinish:"<span class='default-icon-check'></span>",buttonMode:"cycle",buttonOutline:!0,duration:300,clsWizard:"",clsActions:"",clsHelp:"",clsPrev:"",clsNext:"",clsFinish:"",onPage:c.noop,onNextPage:c.noop,onPrevPage:c.noop,onFirstPage:c.noop,onLastPage:c.noop,onFinishPage:c.noop,onHelpClick:c.noop,onPrevClick:c.noop,onNextClick:c.noop,onFinishClick:c.noop,onBeforePrev:c.noop_true,onBeforeNext:c.noop_true,onWizardCreate:c.noop};c.wizardSetup=function(e){y=h.extend({},y,e)},typeof window.metroWizardSetup!==void 0&&c.wizardSetup(window.metroWizardSetup),c.Component("wizard",{init:function(e,n){return this._super(n,e,y,{id:v.elementId("wizard")}),this},_create:function(){var e=this.element;this._createWizard(),this._createEvents(),this._fireEvent("wizard-create",{element:e})},_createWizard:function(){var e,n=this.element,o=this.options;n.addClass("wizard").addClass(o.view).addClass(o.clsWizard),e=h("<div>").addClass("action-bar").addClass(o.clsActions).appendTo(n);var d=o.buttonMode==="button"?"":o.buttonMode;o.buttonOutline===!0&&(d+=" outline"),o.iconHelp!==!1&&h("<button>").attr("type","button").addClass("button wizard-btn-help").addClass(d).addClass(o.clsHelp).html(v.isTag(o.iconHelp)?o.iconHelp:h("<img>").attr("src",o.iconHelp)).appendTo(e),o.iconPrev!==!1&&h("<button>").attr("type","button").addClass("button wizard-btn-prev").addClass(d).addClass(o.clsPrev).html(v.isTag(o.iconPrev)?o.iconPrev:h("<img>").attr("src",o.iconPrev)).appendTo(e),o.iconNext!==!1&&h("<button>").attr("type","button").addClass("button wizard-btn-next").addClass(d).addClass(o.clsNext).html(v.isTag(o.iconNext)?o.iconNext:h("<img>").attr("src",o.iconNext)).appendTo(e),o.iconFinish!==!1&&h("<button>").attr("type","button").addClass("button wizard-btn-finish").addClass(d).addClass(o.clsFinish).html(v.isTag(o.iconFinish)?o.iconFinish:h("<img>").attr("src",o.iconFinish)).appendTo(e),this.toPage(o.start),this._setHeight()},_setHeight:function(){var e=this.element,n=e.children("section"),o=0;n.children(".page-content").css("max-height","none"),h.each(n,function(){var d=h(this).height();o<parseInt(d)&&(o=d)}),e.height(o)},_createEvents:function(){var e=this,n=this.element;n.on(c.events.click,".wizard-btn-help",function(){var o=n.children("section").get(e.current-1);e._fireEvent("help-click",{index:e.current,page:o})}),n.on(c.events.click,".wizard-btn-prev",function(){e.prev();var o=n.children("section").get(e.current-1);e._fireEvent("prev-click",{index:e.current,page:o})}),n.on(c.events.click,".wizard-btn-next",function(){e.next();var o=n.children("section").get(e.current-1);e._fireEvent("next-click",{index:e.current,page:o})}),n.on(c.events.click,".wizard-btn-finish",function(){var o=n.children("section").get(e.current-1);e._fireEvent("finish-click",{index:e.current,page:o})}),n.on(c.events.click,".complete",function(){var o=h(this).index()+1;e.toPage(o)}),h(window).on(c.events.resize,function(){e._setHeight()},{ns:this.id})},next:function(){var e=this.element,n=this.options,o=e.children("section"),d=h(e.children("section").get(this.current-1));this.current+1>o.length||v.exec(n.onBeforeNext,[this.current,d,e])===!1||(this.current++,this.toPage(this.current),d=h(e.children("section").get(this.current-1)),this._fireEvent("next-page",{index:this.current,page:d[0]}))},prev:function(){var e=this.element,n=this.options,o=h(e.children("section").get(this.current-1));this.current-1!=0&&v.exec(n.onBeforePrev,[this.current,o,e])!==!1&&(this.current--,this.toPage(this.current),o=h(e.children("section").get(this.current-1)),this._fireEvent("prev-page",{index:this.current,page:o[0]}))},last:function(){var e,n=this.element;this.toPage(n.children("section").length),e=h(n.children("section").get(this.current-1)),this._fireEvent("last-page",{index:this.current,page:e[0]})},first:function(){var e,n=this.element;this.toPage(1),e=h(n.children("section").get(0)),this._fireEvent("first-page",{index:this.current,page:e[0]})},toPage:function(e){var n=this.element,o=this.options,d=h(n.children("section").get(e-1)),p=n.children("section"),w=n.find(".action-bar");if(d.length!==0){var _=n.find(".wizard-btn-finish").addClass("disabled"),E=n.find(".wizard-btn-next").addClass("disabled"),A=n.find(".wizard-btn-prev").addClass("disabled");this.current=e,n.children("section").removeClass("complete current").removeClass(o.clsCurrent).removeClass(o.clsComplete),d.addClass("current").addClass(o.clsCurrent),d.prevAll().addClass("complete").addClass(o.clsComplete);var B=n.children("section.complete").length===0?0:parseInt(v.getStyleOne(n.children("section.complete")[0],"border-left-width"));w.animate({draw:{left:n.children("section.complete").length*B+41},dur:o.duration}),(this.current===p.length||o.finish>0&&this.current>=o.finish)&&_.removeClass("disabled"),parseInt(o.finish)>0&&this.current===parseInt(o.finish)&&this._fireEvent("finish-page",{index:this.current,page:d[0]}),this.current<p.length&&E.removeClass("disabled"),this.current>1&&A.removeClass("disabled"),this._fireEvent("page",{index:this.current,page:d[0]})}},changeAttribute:function(){},destroy:function(){var e=this.element;return e.off(c.events.click,".wizard-btn-help"),e.off(c.events.click,".wizard-btn-prev"),e.off(c.events.click,".wizard-btn-next"),e.off(c.events.click,".wizard-btn-finish"),e.off(c.events.click,".complete"),h(window).off(c.events.resize,{ns:this.id}),e}})}(Metro,m4q),function(c,h){var v={appendButton:!0,tabsPosition:"left",customButtons:null,activateNewTab:!0,defaultNewTabTitle:"New File",defaultNewCanClose:!0,defaultNewTabIcon:"",defaultNewTabImage:"",defaultNewTabPosition:"before",appendActions:null,tabsActions:null,tabActions:null,refControl:!1,onAppendButtonClick:c.noop,onTabCreate:c.noop_arg,onTabActivate:c.noop,onTabDeactivate:c.noop,onTabBeforeClose:c.noop_true,onTabClose:c.noop,onTabRename:c.noop,onTabPropChange:c.noop,onTabOrganized:c.noop};c.pageControlSetup=function(y){v=h.extend({},v,y)},typeof window.metroPageControlSetup!==void 0&&c.pageControlSetup(window.metroPageControlSetup),c.Component("page-control",{init:function(y,e){return this._super(e,y,v,{newFileIndex:1,invisibleTabsHolderToggle:null,invisibleTabsHolder:null}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("page-control-create")},_createStructure:function(){var y=this,e=this.element,n=this.options;this.component=h("<div>").addClass("page-control").insertBefore(e),e.addClass("page-control__tabs").appendTo(this.component),e.addClass(`tabs-position-${n.tabsPosition}`);var o=e.children("li:not(.page-control__tab-custom)"),d=!1;if(o.each(function(V,K){var Z=h(K),xe=Z.html(),Ee=Z.hasClass("active"),We=y.createTab({caption:xe,icon:Z.attr("data-icon"),image:Z.attr("data-image"),canClose:Z.attr("data-close")!=="false",data:Z.attr("data-data"),ref:Z.attr("data-ref")});Ee&&!d&&(d=!0,We.addClass("active"),y._fireEvent("tab-activate",{tab:We[0]})),e.append(We),Z.remove()}),!d){var p=this.element.children(".page-control__tab").first();p.addClass("active"),this._fireEvent("tab-activate",{tab:p[0]})}if(n.refControl&&this._updateRefs(),n.appendButton){var w=h("<li>").addClass("page-control__tab__append").html('<span class="toggle">+</span>');if(n.appendActions){var _=c.utils.exec(n.appendActions,null,this);if(!Array.isArray(_))throw"PageControl Error! Prop appendActions must be a function that returns an array.";var E=h("<ul data-role='dropdown' class='d-menu context'>");_.map(V=>E.append(y._renderMenuItem(V))),w.append(E)}e.append(w)}var A=h("<li>").addClass("page-control__tab__service").addClass("invisible-tabs").appendTo(e);A.append(h("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">↧</span>
                    <ul class="d-menu place-right context page-control__invisible_tabs_holder"></ul>
                `)),this.invisibleTabsHolderToggle=A.find(".page-control__tab__service.invisible-tabs > .page-control__service-button"),this.invisibleTabsHolder=c.makePlugin(A.find(".page-control__invisible_tabs_holder"),"dropdown",{onClick:V=>{const K=h(V.target.parentNode);K.hasClass("page-control__tab__closer")?this.closeButtonClick(V):this.activateTab(K[0]),V.preventDefault(),V.stopPropagation()}}),this.invisibleTabsHolderToggle.hide(),this.organizeTabs();var B=h("<li>").addClass("page-control__tab__service").addClass("tabs-menu").appendTo(e);if(B.append(h("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">︙</span>
                    <ul class="d-menu place-right context" data-role="dropdown"></ul>
                `)),n.tabsActions){var H=B.find("ul");c.utils.exec(n.tabsActions,null,this).map(V=>H.append(y._renderMenuItem(V)))}else B.hide()},_updateRefs:function(){var y=this.element.find(".page-control__tab"),e=this.element.find(".page-control__tab.active");y.each((n,o)=>h(h(o).data("ref")).hide()),h(e.data("ref")).show()},_createEvents:function(){var y=this,e=this.element,n=this.options;e.on("click",".page-control__tab__closer",this.closeButtonClick.bind(this)),e.on("click",".page-control__tab__menu > li > a",function(o){var d=h(this).attr("data-action"),p=c.getPlugin(h(this).closest("ul"),"dropdown"),w=h(this).closest(".page-control__tab")[0];switch(p.close(),d){case"close":y.closeTab(w);break;case"close-all":y.closeAll();break;case"close-other":y.closeOtherTabs(w);break;case"close-inactive":y.closeInactiveTabs();break;case"rename":y.renameTab(w)}o.preventDefault(),o.stopPropagation()}),e.on("click",".page-control__tab",function(o){h(this).hasClass("active")||y.activateTab(this)}),e.on("click",".page-control__tab__append > span",o=>{o.preventDefault(),o.stopPropagation();const d=y.createTab({caption:`${n.defaultNewTabTitle} ${y.newFileIndex++}`,canClose:n.defaultNewCanClose,icon:n.defaultNewTabIcon,image:n.defaultNewTabImage,data:null});y._fireEvent("tab-append",{tab:d}),y.activateTab(d),y.organizeTabs(),y._fireEvent("append-button-click",{tab:d})}),h(window).on("resize",o=>{this.organizeTabs()})},_renderMenuItem:function(y){var e=h("<li>"),n=h("<a>");return(y.icon||y.image)&&n.append(y.icon?h("<span class='icon'>").addClass(y.icon):h("<img class='icon'>").attr("src",y.image).attr("alt","")),y.title&&n.append(h("<span>").addClass("caption").text(y.title)),n.data("data",y.data),y.onclick&&n.on("click",o=>y.onclick(o)),e.append(n),e},createTab:function({caption:y,icon:e,image:n,canClose:o=!0,hasMenu:d=!0,data:p,ref:w}){var _=this,E=this.element,A=this.options,B=h("<li>").addClass("page-control__tab").appendTo(E);if(d&&(B.append(h("<div>").addClass("page-control__tab__menu__holder").html(`
                        <span class="">︙</span>
                        <ul class="d-menu context page-control__tab__menu" data-role="dropdown">
                            <li><a data-action="rename">Rename Tab</a></li>
                            <li class="divider"></li>
                            <li><a data-action="close">Close</a></li>
                            <li><a data-action="close-other">Close Other Tabs</a></li>
                            <li><a data-action="close-all">Close All Tabs</a></li>
                            <li><a data-action="close-inactive">Close Inactive Tabs</a></li>
                        </ul>
                    `)),A.tabActions)){var H=B.find("ul"),V=c.utils.exec(A.tabActions);if(!Array.isArray(V))throw"PageControl Error! Prop tabActions must be a function that returns an array.";H.append(h("<li class='divider'>")),V.map(K=>H.append(_._renderMenuItem(K)))}return(e||n)&&B.append(h("<span>").addClass("page-control__tab__icon").html(e?`<span class="${e}">`:`<img src="${n}" alt=""/>`)),B.append(h("<span>").addClass("page-control__tab__caption").html(y)),o&&B.append(h("<span>").addClass("page-control__tab__closer").html("<span>✕</span>")),B.data("data",p),B.data("ref",w),this._fireEvent("tab-create",{tab:B[0]}),A.activateNewTab&&this.activateTab(B[0]),E[A.defaultNewTabPosition==="before"?"prepend":"append"](B),B[0]},closeButtonClick:function(y){this.element;var e=this.options,n=h(y.target).closest(".page-control__tab"),o=n.closest("ul");e.onTabBeforeClose(n[0])&&(this.closeTab(n[0]),o.hasClass("page-control__invisible_tabs_holder")&&o.children(".page-control__tab").length===0&&(c.getPlugin(this.invisibleTabsHolder,"dropdown").close(),this.invisibleTabsHolderToggle.hide()),y.preventDefault(),y.stopPropagation())},closeTab:function(y){var e=h(y);if(e.hasClass("active")){const n=e.prev(".page-control__tab"),o=e.next(".page-control__tab");n.length?this.activateTab(n[0]):o.length?this.activateTab(o[0]):e.parent().hasClass("page-control__invisible_tabs_holder")&&parent.children(".page-control__tab").length===1&&element.children(".page-control__tab").length&&this.activateTab(element.children(".page-control__tab").last()[0])}return this._fireEvent("tab-close",{tab:y}),this.options.refControl&&h(e.data("ref")).remove(),e.remove(),this.organizeTabs(),this},activateTab:function(y){var e=this.element,n=this.options;return e.find(".page-control__tab").each((o,d)=>{var p=h(d);p.hasClass("active")&&(this._fireEvent("tab-deactivate",{tab:d}),p.removeClass("active"))}),h(y).addClass("active"),n.refControl&&this._updateRefs(),this._fireEvent("tab-activate",{tab:y}),h(y).parent().hasClass("page-control__invisible_tabs_holder")&&(e.prepend(y),this.organizeTabs()),this},organizeTabs:function(){var y=this.element,e=this.elem.getBoundingClientRect().width,n=this.invisibleTabsHolder,o=y.find(".page-control__tab__append");n.children(".page-control__tab").each((d,p)=>{const w=h(p);o.length?w.insertBefore(o):w.appendTo(y)}),y.children(".page-control__tab").each((d,p)=>{const w=h(p),_=p.getBoundingClientRect();_.left+_.width+50>e&&w.appendTo(n)}),n.children().length?this.invisibleTabsHolderToggle.show(function(){h(this).css({display:"flex"})}):this.invisibleTabsHolderToggle.hide(),this._fireEvent("tab-organized",null)},addTab:function({caption:y,icon:e,image:n,canClose:o=!0,hasMenu:d=!0,data:p,ref:w},_="before"){var E=this.createTab({caption:y,icon:e,image:n,canClose:o,hasMenu:d,data:p,ref:w});return this.element[_==="before"?"prepend":"append"](E),this.organizeTabs(),E},getActiveTab:function(){return this.component.find(".page-control__tab.active")[0]},getActiveTabIndex:function(){return this.component.find(".page-control__tab").index(".active",!1)},getTabByIndex:function(y){return this.component.find(".page-control__tab").get(y)},getTabByTitle:function(y){if(y){var e=this.component.find(".page-control__tab");for(var n of e)if(h(n).find(".caption").text()===y)return n}},closeAll:function(){return this.component.find(".page-control__tab").each((y,e)=>{this.closeTab(e)}),this},closeInactiveTabs:function(){return this.component.find(".page-control__tab").each((y,e)=>{h(e).hasClass("active")||this.closeTab(e)}),this},closeOtherTabs:function(y){let e=typeof y=="number"?this.getTabByIndex(y):h(y);return this.component.find(".page-control__tab").each((n,o)=>{e[0]!==o&&this.closeTab(o)}),this.activateTab(y),this},setupTab:function(y,e,n){var o=h(y);switch(e){case"caption":o.find(".page-control__tab__caption").text(n);break;case"icon":o.find(".page-control__tab__icon")[0].className=n;break;case"image":o.find(".page-control__tab__image").attr("src",n);break;case"data":o.data("data",n);break;case"ref":o.data("ref",n)}this._fireEvent("tab-prop-change",{tab:y}),this.organizeTabs()},renameTab:function(y){var e=this;this.options;var n=h(y).find(".page-control__tab__caption");c.dialog.create({title:"Rename Tab",content:`
                    <form>
                        <input type="text" data-role="input" value="${n.text()}">
                    </form>
                `,actions:[{caption:"Ok",cls:"js-dialog-close info",onclick:function(o){e.setupTab(y,"caption",o.find("input").val())}},{caption:"Cancel",cls:"js-dialog-close"}]})},changeAttribute:function(y,e){},destroy:function(){this.component.remove()}})}(Metro,m4q)})();var Sd=Of;function Of(){var a=[].slice.call(arguments),t=!1;typeof a[0]=="boolean"&&(t=a.shift());var i=a[0];if(Td(i))throw new Error("extendee must be an object");for(var r=a.slice(1),l=r.length,f=0;f<l;f++){var b=r[f];for(var x in b)if(Object.prototype.hasOwnProperty.call(b,x)){var k=b[x];if(t&&Xg(k)){var S=Array.isArray(k)?[]:{};i[x]=Of(!0,Object.prototype.hasOwnProperty.call(i,x)&&!Td(i[x])?i[x]:S,k)}else i[x]=k}}return i}function Xg(a){return Array.isArray(a)||{}.toString.call(a)=="[object Object]"}function Td(a){return!a||typeof a!="object"&&typeof a!="function"}function Kg(a){return a&&a.__esModule?a.default:a}class Dd{on(t,i){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(i),this}emit(t,...i){this._callbacks=this._callbacks||{};let r=this._callbacks[t];if(r)for(let l of r)l.apply(this,i);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+t,{args:i})),this}makeEvent(t,i){let r={bubbles:!0,cancelable:!0,detail:i};if(typeof window.CustomEvent=="function")return new CustomEvent(t,r);var l=document.createEvent("CustomEvent");return l.initCustomEvent(t,r.bubbles,r.cancelable,r.detail),l}off(t,i){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let r=this._callbacks[t];if(!r)return this;if(arguments.length===1)return delete this._callbacks[t],this;for(let l=0;l<r.length;l++)if(r[l]===i){r.splice(l,1);break}return this}}var Pf={};Pf=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let Qg={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(a,t,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept(a,t){return t()},chunksUploaded:function(a,t){t()},binaryBody:!1,fallback(){let a;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let i of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(i.className)){a=i,i.className="dz-message";break}a||(a=ut.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(a));let t=a.getElementsByTagName("span")[0];return t&&(t.textContent!=null?t.textContent=this.options.dictFallbackMessage:t.innerText!=null&&(t.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(a,t,i,r){let l={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height},f=a.width/a.height;t==null&&i==null?(t=l.srcWidth,i=l.srcHeight):t==null?t=i*f:i==null&&(i=t/f),t=Math.min(t,l.srcWidth),i=Math.min(i,l.srcHeight);let b=t/i;if(l.srcWidth>t||l.srcHeight>i)if(r==="crop")f>b?(l.srcHeight=a.height,l.srcWidth=l.srcHeight*b):(l.srcWidth=a.width,l.srcHeight=l.srcWidth/b);else if(r==="contain")f>b?i=t/f:t=i*f;else throw new Error(`Unknown resizeMethod '${r}'`);return l.srcX=(a.width-l.srcWidth)/2,l.srcY=(a.height-l.srcHeight)/2,l.trgWidth=t,l.trgHeight=i,l},transformFile(a,t){return(this.options.resizeWidth||this.options.resizeHeight)&&a.type.match(/image.*/)?this.resizeImage(a,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(a)},previewTemplate:Kg(Pf),drop(a){return this.element.classList.remove("dz-drag-hover")},dragstart(a){},dragend(a){return this.element.classList.remove("dz-drag-hover")},dragenter(a){return this.element.classList.add("dz-drag-hover")},dragover(a){return this.element.classList.add("dz-drag-hover")},dragleave(a){return this.element.classList.remove("dz-drag-hover")},paste(a){},reset(){return this.element.classList.remove("dz-started")},addedfile(a){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){a.previewElement=ut.createElement(this.options.previewTemplate.trim()),a.previewTemplate=a.previewElement,this.previewsContainer.appendChild(a.previewElement);for(var t of a.previewElement.querySelectorAll("[data-dz-name]"))t.textContent=a.name;for(t of a.previewElement.querySelectorAll("[data-dz-size]"))t.innerHTML=this.filesize(a.size);this.options.addRemoveLinks&&(a._removeLink=ut.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),a.previewElement.appendChild(a._removeLink));let i=r=>(r.preventDefault(),r.stopPropagation(),a.status===ut.UPLOADING?ut.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(a)):this.options.dictRemoveFileConfirmation?ut.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(a)):this.removeFile(a));for(let r of a.previewElement.querySelectorAll("[data-dz-remove]"))r.addEventListener("click",i)}},removedfile(a){return a.previewElement!=null&&a.previewElement.parentNode!=null&&a.previewElement.parentNode.removeChild(a.previewElement),this._updateMaxFilesReachedClass()},thumbnail(a,t){if(a.previewElement){a.previewElement.classList.remove("dz-file-preview");for(let i of a.previewElement.querySelectorAll("[data-dz-thumbnail]"))i.alt=a.name,i.src=t;return setTimeout(()=>a.previewElement.classList.add("dz-image-preview"),1)}},error(a,t){if(a.previewElement){a.previewElement.classList.add("dz-error"),typeof t!="string"&&t.error&&(t=t.error);for(let i of a.previewElement.querySelectorAll("[data-dz-errormessage]"))i.textContent=t}},errormultiple(){},processing(a){if(a.previewElement&&(a.previewElement.classList.add("dz-processing"),a._removeLink))return a._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(a,t,i){if(a.previewElement)for(let r of a.previewElement.querySelectorAll("[data-dz-uploadprogress]"))r.nodeName==="PROGRESS"?r.value=t:r.style.width=`${t}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(a){if(a.previewElement)return a.previewElement.classList.add("dz-success")},successmultiple(){},canceled(a){return this.emit("error",a,this.options.dictUploadCanceled)},canceledmultiple(){},complete(a){if(a._removeLink&&(a._removeLink.innerHTML=this.options.dictRemoveFile),a.previewElement)return a.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var Jg=Qg;class ut extends Dd{static initClass(){this.prototype.Emitter=Dd,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(t=>t.accepted).map(t=>t)}getRejectedFiles(){return this.files.filter(t=>!t.accepted).map(t=>t)}getFilesWithStatus(t){return this.files.filter(i=>i.status===t).map(i=>i)}getQueuedFiles(){return this.getFilesWithStatus(ut.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(ut.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(ut.ADDED)}getActiveFiles(){return this.files.filter(t=>t.status===ut.UPLOADING||t.status===ut.QUEUED).map(t=>t)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(ut.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let r=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",ut.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:l}=this.hiddenFileInput;if(l.length)for(let f of l)this.addFile(f);this.emit("addedfiles",l),r()})};r()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let r of this.events)this.on(r,this.options[r]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",r=>this.emit("complete",r)),this.on("complete",r=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const t=function(r){if(r.dataTransfer.types){for(var l=0;l<r.dataTransfer.types.length;l++)if(r.dataTransfer.types[l]==="Files")return!0}return!1};let i=function(r){if(t(r))return r.stopPropagation(),r.preventDefault?r.preventDefault():r.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:r=>this.emit("dragstart",r),dragenter:r=>(i(r),this.emit("dragenter",r)),dragover:r=>{let l;try{l=r.dataTransfer.effectAllowed}catch{}return r.dataTransfer.dropEffect=l==="move"||l==="linkMove"?"move":"copy",i(r),this.emit("dragover",r)},dragleave:r=>this.emit("dragleave",r),drop:r=>(i(r),this.drop(r)),dragend:r=>this.emit("dragend",r)}}],this.clickableElements.forEach(r=>this.listeners.push({element:r,events:{click:l=>((r!==this.element||l.target===this.element||ut.elementInside(l.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,ut.instances.splice(ut.instances.indexOf(this),1)}updateTotalUploadProgress(){let t,i=0,r=0;if(this.getActiveFiles().length){for(let f of this.getActiveFiles())i+=f.upload.bytesSent,r+=f.upload.total;t=100*i/r}else t=100;return this.emit("totaluploadprogress",t,r,i)}_getParamName(t){return typeof this.options.paramName=="function"?this.options.paramName(t):`${this.options.paramName}${this.options.uploadMultiple?`[${t}]`:""}`}_renameFile(t){return typeof this.options.renameFile!="function"?t.name:this.options.renameFile(t)}getFallbackForm(){let t,i;if(t=this.getExistingFallback())return t;let r='<div class="dz-fallback">';this.options.dictFallbackText&&(r+=`<p>${this.options.dictFallbackText}</p>`),r+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let l=ut.createElement(r);return this.element.tagName!=="FORM"?(i=ut.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),i.appendChild(l)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),i??l}getExistingFallback(){let t=function(r){for(let l of r)if(/(^| )fallback($| )/.test(l.className))return l};for(let r of["div","form"]){var i;if(i=t(this.element.getElementsByTagName(r)))return i}}setupEventListeners(){return this.listeners.map(t=>(()=>{let i=[];for(let r in t.events){let l=t.events[r];i.push(t.element.addEventListener(r,l,!1))}return i})())}removeEventListeners(){return this.listeners.map(t=>(()=>{let i=[];for(let r in t.events){let l=t.events[r];i.push(t.element.removeEventListener(r,l,!1))}return i})())}disable(){return this.clickableElements.forEach(t=>t.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(t=>this.cancelUpload(t))}enable(){return delete this.disabled,this.clickableElements.forEach(t=>t.classList.add("dz-clickable")),this.setupEventListeners()}filesize(t){let i=0,r="b";if(t>0){let l=["tb","gb","mb","kb","b"];for(let f=0;f<l.length;f++){let b=l[f],x=Math.pow(this.options.filesizeBase,4-f)/10;if(t>=x){i=t/Math.pow(this.options.filesizeBase,4-f),r=b;break}}i=Math.round(10*i)/10}return`<strong>${i}</strong> ${this.options.dictFileSizeUnits[r]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(t){if(!t.dataTransfer)return;this.emit("drop",t);let i=[];for(let r=0;r<t.dataTransfer.files.length;r++)i[r]=t.dataTransfer.files[r];if(i.length){let{items:r}=t.dataTransfer;r&&r.length&&r[0].webkitGetAsEntry!=null?this._addFilesFromItems(r):this.handleFiles(i)}this.emit("addedfiles",i)}paste(t){if(iv(t!=null?t.clipboardData:void 0,r=>r.items)==null)return;this.emit("paste",t);let{items:i}=t.clipboardData;if(i.length)return this._addFilesFromItems(i)}handleFiles(t){for(let i of t)this.addFile(i)}_addFilesFromItems(t){return(()=>{let i=[];for(let l of t){var r;l.webkitGetAsEntry!=null&&(r=l.webkitGetAsEntry())?r.isFile?i.push(this.addFile(l.getAsFile())):r.isDirectory?i.push(this._addFilesFromDirectory(r,r.name)):i.push(void 0):l.getAsFile!=null&&(l.kind==null||l.kind==="file")?i.push(this.addFile(l.getAsFile())):i.push(void 0)}return i})()}_addFilesFromDirectory(t,i){let r=t.createReader(),l=b=>sv(console,"log",x=>x.log(b));var f=()=>r.readEntries(b=>{if(b.length>0){for(let x of b)x.isFile?x.file(k=>{if(!(this.options.ignoreHiddenFiles&&k.name.substring(0,1)==="."))return k.fullPath=`${i}/${k.name}`,this.addFile(k)}):x.isDirectory&&this._addFilesFromDirectory(x,`${i}/${x.name}`);f()}return null},l);return f()}accept(t,i){this.options.maxFilesize&&t.size>this.options.maxFilesize*1048576?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):ut.isValidFile(t,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,i):i(this.options.dictInvalidFileType)}addFile(t){t.upload={uuid:ut.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t)},this.files.push(t),t.status=ut.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,i=>{i?(t.accepted=!1,this._errorProcessing([t],i)):(t.accepted=!0,this.options.autoQueue&&this.enqueueFile(t)),this._updateMaxFilesReachedClass()})}enqueueFiles(t){for(let i of t)this.enqueueFile(i);return null}enqueueFile(t){if(t.status===ut.ADDED&&t.accepted===!0){if(t.status=ut.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(t),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,i=>(this.emit("thumbnail",t,i),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(t){if(t.status===ut.UPLOADING&&this.cancelUpload(t),this.files=Zg(this.files,t),this.emit("removedfile",t),this.files.length===0)return this.emit("reset")}removeAllFiles(t){t==null&&(t=!1);for(let i of this.files.slice())(i.status!==ut.UPLOADING||t)&&this.removeFile(i);return null}resizeImage(t,i,r,l,f){return this.createThumbnail(t,i,r,l,!0,(b,x)=>{if(x==null)return f(t);{let{resizeMimeType:k}=this.options;k==null&&(k=t.type);let S=x.toDataURL(k,this.options.resizeQuality);return(k==="image/jpeg"||k==="image/jpg")&&(S=Ff.restore(t.dataURL,S)),f(ut.dataURItoBlob(S))}})}createThumbnail(t,i,r,l,f,b){let x=new FileReader;x.onload=()=>{if(t.dataURL=x.result,t.type==="image/svg+xml"){b!=null&&b(x.result);return}this.createThumbnailFromUrl(t,i,r,l,f,b)},x.readAsDataURL(t)}displayExistingFile(t,i,r,l,f=!0){if(this.emit("addedfile",t),this.emit("complete",t),!f)this.emit("thumbnail",t,i),r&&r();else{let b=x=>{this.emit("thumbnail",t,x),r&&r()};t.dataURL=i,this.createThumbnailFromUrl(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,b,l)}}createThumbnailFromUrl(t,i,r,l,f,b,x){let k=document.createElement("img");return x&&(k.crossOrigin=x),f=getComputedStyle(document.body).imageOrientation=="from-image"?!1:f,k.onload=()=>{let S=M=>M(1);return typeof EXIF<"u"&&EXIF!==null&&f&&(S=M=>EXIF.getData(k,function(){return M(EXIF.getTag(this,"Orientation"))})),S(M=>{t.width=k.width,t.height=k.height;let L=this.options.resize.call(this,t,i,r,l),R=document.createElement("canvas"),q=R.getContext("2d");switch(R.width=L.trgWidth,R.height=L.trgHeight,M>4&&(R.width=L.trgHeight,R.height=L.trgWidth),M){case 2:q.translate(R.width,0),q.scale(-1,1);break;case 3:q.translate(R.width,R.height),q.rotate(Math.PI);break;case 4:q.translate(0,R.height),q.scale(1,-1);break;case 5:q.rotate(.5*Math.PI),q.scale(1,-1);break;case 6:q.rotate(.5*Math.PI),q.translate(0,-R.width);break;case 7:q.rotate(.5*Math.PI),q.translate(R.height,-R.width),q.scale(-1,1);break;case 8:q.rotate(-.5*Math.PI),q.translate(-R.height,0);break}nv(q,k,L.srcX!=null?L.srcX:0,L.srcY!=null?L.srcY:0,L.srcWidth,L.srcHeight,L.trgX!=null?L.trgX:0,L.trgY!=null?L.trgY:0,L.trgWidth,L.trgHeight);let J=R.toDataURL("image/png");if(b!=null)return b(J,R)})},b!=null&&(k.onerror=b),k.src=t.dataURL}processQueue(){let{parallelUploads:t}=this.options,i=this.getUploadingFiles().length,r=i;if(i>=t)return;let l=this.getQueuedFiles();if(l.length>0){if(this.options.uploadMultiple)return this.processFiles(l.slice(0,t-i));for(;r<t;){if(!l.length)return;this.processFile(l.shift()),r++}}}processFile(t){return this.processFiles([t])}processFiles(t){for(let i of t)i.processing=!0,i.status=ut.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}_getFilesWithXhr(t){return this.files.filter(i=>i.xhr===t).map(i=>i)}cancelUpload(t){if(t.status===ut.UPLOADING){let i=this._getFilesWithXhr(t.xhr);for(let r of i)r.status=ut.CANCELED;typeof t.xhr<"u"&&t.xhr.abort();for(let r of i)this.emit("canceled",r);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(t.status===ut.ADDED||t.status===ut.QUEUED)&&(t.status=ut.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(t,...i){return typeof t=="function"?t.apply(this,i):t}uploadFile(t){return this.uploadFiles([t])}uploadFiles(t){this._transformFiles(t,i=>{if(this.options.chunking){let r=i[0];t[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||r.size>this.options.chunkSize),t[0].upload.totalChunkCount=Math.ceil(r.size/this.options.chunkSize)}if(t[0].upload.chunked){let r=t[0],l=i[0];r.upload.chunks=[];let f=()=>{let b=0;for(;r.upload.chunks[b]!==void 0;)b++;if(b>=r.upload.totalChunkCount)return;let x=b*this.options.chunkSize,k=Math.min(x+this.options.chunkSize,l.size),S={name:this._getParamName(0),data:l.webkitSlice?l.webkitSlice(x,k):l.slice(x,k),filename:r.upload.filename,chunkIndex:b};r.upload.chunks[b]={file:r,index:b,dataBlock:S,status:ut.UPLOADING,progress:0,retries:0},this._uploadData(t,[S])};if(r.upload.finishedChunkUpload=(b,x)=>{let k=!0;b.status=ut.SUCCESS,b.dataBlock=null,b.response=b.xhr.responseText,b.responseHeaders=b.xhr.getAllResponseHeaders(),b.xhr=null;for(let S=0;S<r.upload.totalChunkCount;S++){if(r.upload.chunks[S]===void 0)return f();r.upload.chunks[S].status!==ut.SUCCESS&&(k=!1)}k&&this.options.chunksUploaded(r,()=>{this._finished(t,x,null)})},this.options.parallelChunkUploads)for(let b=0;b<r.upload.totalChunkCount;b++)f();else f()}else{let r=[];for(let l=0;l<t.length;l++)r[l]={name:this._getParamName(l),data:i[l],filename:t[l].upload.filename};this._uploadData(t,r)}})}_getChunk(t,i){for(let r=0;r<t.upload.totalChunkCount;r++)if(t.upload.chunks[r]!==void 0&&t.upload.chunks[r].xhr===i)return t.upload.chunks[r]}_uploadData(t,i){let r=new XMLHttpRequest;for(let S of t)S.xhr=r;t[0].upload.chunked&&(t[0].upload.chunks[i[0].chunkIndex].xhr=r);let l=this.resolveOption(this.options.method,t,i),f=this.resolveOption(this.options.url,t,i);r.open(l,f,!0),this.resolveOption(this.options.timeout,t)&&(r.timeout=this.resolveOption(this.options.timeout,t)),r.withCredentials=!!this.options.withCredentials,r.onload=S=>{this._finishedUploading(t,r,S)},r.ontimeout=()=>{this._handleUploadError(t,r,`Request timedout after ${this.options.timeout/1e3} seconds`)},r.onerror=()=>{this._handleUploadError(t,r)};let x=r.upload!=null?r.upload:r;x.onprogress=S=>this._updateFilesUploadProgress(t,r,S);let k=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(k["Content-Type"]=t[0].type),this.options.headers&&Sd(k,this.options.headers);for(let S in k){let M=k[S];M&&r.setRequestHeader(S,M)}if(this.options.binaryBody){for(let S of t)this.emit("sending",S,r);this.options.uploadMultiple&&this.emit("sendingmultiple",t,r),this.submitRequest(r,null,t)}else{let S=new FormData;if(this.options.params){let M=this.options.params;typeof M=="function"&&(M=M.call(this,t,r,t[0].upload.chunked?this._getChunk(t[0],r):null));for(let L in M){let R=M[L];if(Array.isArray(R))for(let q=0;q<R.length;q++)S.append(L,R[q]);else S.append(L,R)}}for(let M of t)this.emit("sending",M,r,S);this.options.uploadMultiple&&this.emit("sendingmultiple",t,r,S),this._addFormElementData(S);for(let M=0;M<i.length;M++){let L=i[M];S.append(L.name,L.data,L.filename)}this.submitRequest(r,S,t)}}_transformFiles(t,i){let r=[],l=0;for(let f=0;f<t.length;f++)this.options.transformFile.call(this,t[f],b=>{r[f]=b,++l===t.length&&i(r)})}_addFormElementData(t){if(this.element.tagName==="FORM")for(let i of this.element.querySelectorAll("input, textarea, select, button")){let r=i.getAttribute("name"),l=i.getAttribute("type");if(l&&(l=l.toLowerCase()),!(typeof r>"u"||r===null))if(i.tagName==="SELECT"&&i.hasAttribute("multiple"))for(let f of i.options)f.selected&&t.append(r,f.value);else(!l||l!=="checkbox"&&l!=="radio"||i.checked)&&t.append(r,i.value)}}_updateFilesUploadProgress(t,i,r){if(t[0].upload.chunked){let l=t[0],f=this._getChunk(l,i);r?(f.progress=100*r.loaded/r.total,f.total=r.total,f.bytesSent=r.loaded):(f.progress=100,f.bytesSent=f.total),l.upload.progress=0,l.upload.total=0,l.upload.bytesSent=0;for(let b=0;b<l.upload.totalChunkCount;b++)l.upload.chunks[b]&&typeof l.upload.chunks[b].progress<"u"&&(l.upload.progress+=l.upload.chunks[b].progress,l.upload.total+=l.upload.chunks[b].total,l.upload.bytesSent+=l.upload.chunks[b].bytesSent);l.upload.progress=l.upload.progress/l.upload.totalChunkCount,this.emit("uploadprogress",l,l.upload.progress,l.upload.bytesSent)}else for(let l of t)l.upload.total&&l.upload.bytesSent&&l.upload.bytesSent==l.upload.total||(r?(l.upload.progress=100*r.loaded/r.total,l.upload.total=r.total,l.upload.bytesSent=r.loaded):(l.upload.progress=100,l.upload.bytesSent=l.upload.total),this.emit("uploadprogress",l,l.upload.progress,l.upload.bytesSent))}_finishedUploading(t,i,r){let l;if(t[0].status!==ut.CANCELED&&i.readyState===4){if(i.responseType!=="arraybuffer"&&i.responseType!=="blob"&&(l=i.responseText,i.getResponseHeader("content-type")&&~i.getResponseHeader("content-type").indexOf("application/json")))try{l=JSON.parse(l)}catch(f){r=f,l="Invalid JSON response from server."}this._updateFilesUploadProgress(t,i),200<=i.status&&i.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],i),l):this._finished(t,l,r):this._handleUploadError(t,i,l)}}_handleUploadError(t,i,r){if(t[0].status!==ut.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){let l=this._getChunk(t[0],i);if(l.retries++<this.options.retryChunksLimit){this._uploadData(t,[l.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(t,r||this.options.dictResponseError.replace("{{statusCode}}",i.status),i)}}submitRequest(t,i,r){if(t.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(r[0].upload.chunked){const l=this._getChunk(r[0],t);t.send(l.dataBlock.data)}else t.send(r[0]);else t.send(i)}_finished(t,i,r){for(let l of t)l.status=ut.SUCCESS,this.emit("success",l,i,r),this.emit("complete",l);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,i,r),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(t,i,r){for(let l of t)l.status=ut.ERROR,this.emit("error",l,i,r),this.emit("complete",l);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,i,r),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let i=Math.random()*16|0;return(t==="x"?i:i&3|8).toString(16)})}constructor(t,i){super();let r,l;if(this.element=t,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");ut.instances.push(this),this.element.dropzone=this;let f=(l=ut.optionsForElement(this.element))!=null?l:{};if(this.options=Sd(!0,{},Jg,f,i??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!ut.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=b=>this.options.renameFilename.call(this,b.name,b)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=ut.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=ut.getElements(this.options.clickable,"clickable")),this.init()}}ut.initClass();ut.options={};ut.optionsForElement=function(a){if(a.getAttribute("id"))return ut.options[ev(a.getAttribute("id"))]};ut.instances=[];ut.forElement=function(a){if(typeof a=="string"&&(a=document.querySelector(a)),(a!=null?a.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return a.dropzone};ut.discover=function(){let a;if(document.querySelectorAll)a=document.querySelectorAll(".dropzone");else{a=[];let t=i=>(()=>{let r=[];for(let l of i)/(^| )dropzone($| )/.test(l.className)?r.push(a.push(l)):r.push(void 0);return r})();t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return(()=>{let t=[];for(let i of a)ut.optionsForElement(i)!==!1?t.push(new ut(i)):t.push(void 0);return t})()};ut.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];ut.isBrowserSupported=function(){let a=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))a=!1;else{ut.blacklistedBrowsers!==void 0&&(ut.blockedBrowsers=ut.blacklistedBrowsers);for(let t of ut.blockedBrowsers)if(t.test(navigator.userAgent)){a=!1;continue}}else a=!1;return a};ut.dataURItoBlob=function(a){let t=atob(a.split(",")[1]),i=a.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),l=new Uint8Array(r);for(let f=0,b=t.length,x=0<=b;x?f<=b:f>=b;x?f++:f--)l[f]=t.charCodeAt(f);return new Blob([r],{type:i})};const Zg=(a,t)=>a.filter(i=>i!==t).map(i=>i),ev=a=>a.replace(/[\-_](\w)/g,t=>t.charAt(1).toUpperCase());ut.createElement=function(a){let t=document.createElement("div");return t.innerHTML=a,t.childNodes[0]};ut.elementInside=function(a,t){if(a===t)return!0;for(;a=a.parentNode;)if(a===t)return!0;return!1};ut.getElement=function(a,t){let i;if(typeof a=="string"?i=document.querySelector(a):a.nodeType!=null&&(i=a),i==null)throw new Error(`Invalid \`${t}\` option provided. Please provide a CSS selector or a plain HTML element.`);return i};ut.getElements=function(a,t){let i,r;if(a instanceof Array){r=[];try{for(i of a)r.push(this.getElement(i,t))}catch{r=null}}else if(typeof a=="string"){r=[];for(i of document.querySelectorAll(a))r.push(i)}else a.nodeType!=null&&(r=[a]);if(r==null||!r.length)throw new Error(`Invalid \`${t}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return r};ut.confirm=function(a,t,i){if(window.confirm(a))return t();if(i!=null)return i()};ut.isValidFile=function(a,t){if(!t)return!0;t=t.split(",");let i=a.type,r=i.replace(/\/.*$/,"");for(let l of t)if(l=l.trim(),l.charAt(0)==="."){if(a.name.toLowerCase().indexOf(l.toLowerCase(),a.name.length-l.length)!==-1)return!0}else if(/\/\*$/.test(l)){if(r===l.replace(/\/.*$/,""))return!0}else if(i===l)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(a){return this.each(function(){return new ut(this,a)})});ut.ADDED="added";ut.QUEUED="queued";ut.ACCEPTED=ut.QUEUED;ut.UPLOADING="uploading";ut.PROCESSING=ut.UPLOADING;ut.CANCELED="canceled";ut.ERROR="error";ut.SUCCESS="success";let tv=function(a){a.naturalWidth;let t=a.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=t;let r=i.getContext("2d");r.drawImage(a,0,0);let{data:l}=r.getImageData(1,0,1,t),f=0,b=t,x=t;for(;x>f;)l[(x-1)*4+3]===0?b=x:f=x,x=b+f>>1;let k=x/t;return k===0?1:k};var nv=function(a,t,i,r,l,f,b,x,k,S){let M=tv(t);return a.drawImage(t,i,r,l,f,b,x,k,S/M)};class Ff{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(t){let i="",r,l,f="",b,x,k,S="",M=0;for(;r=t[M++],l=t[M++],f=t[M++],b=r>>2,x=(r&3)<<4|l>>4,k=(l&15)<<2|f>>6,S=f&63,isNaN(l)?k=S=64:isNaN(f)&&(S=64),i=i+this.KEY_STR.charAt(b)+this.KEY_STR.charAt(x)+this.KEY_STR.charAt(k)+this.KEY_STR.charAt(S),r=l=f="",b=x=k=S="",M<t.length;);return i}static restore(t,i){if(!t.match("data:image/jpeg;base64,"))return i;let r=this.decode64(t.replace("data:image/jpeg;base64,","")),l=this.slice2Segments(r),f=this.exifManipulation(i,l);return`data:image/jpeg;base64,${this.encode64(f)}`}static exifManipulation(t,i){let r=this.getExifArray(i),l=this.insertExif(t,r);return new Uint8Array(l)}static getExifArray(t){let i,r=0;for(;r<t.length;){if(i=t[r],i[0]===255&i[1]===225)return i;r++}return[]}static insertExif(t,i){let r=t.replace("data:image/jpeg;base64,",""),l=this.decode64(r),f=l.indexOf(255,3),b=l.slice(0,f),x=l.slice(f),k=b;return k=k.concat(i),k=k.concat(x),k}static slice2Segments(t){let i=0,r=[];for(;;){var l;if(t[i]===255&t[i+1]===218)break;if(t[i]===255&t[i+1]===216)i+=2;else{l=t[i+2]*256+t[i+3];let f=i+l+2,b=t.slice(i,f);r.push(b),i=f}if(i>t.length)break}return r}static decode64(t){let i,r,l="",f,b,x,k="",S=0,M=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");f=this.KEY_STR.indexOf(t.charAt(S++)),b=this.KEY_STR.indexOf(t.charAt(S++)),x=this.KEY_STR.indexOf(t.charAt(S++)),k=this.KEY_STR.indexOf(t.charAt(S++)),i=f<<2|b>>4,r=(b&15)<<4|x>>2,l=(x&3)<<6|k,M.push(i),x!==64&&M.push(r),k!==64&&M.push(l),i=r=l="",f=b=x=k="",S<t.length;);return M}}Ff.initClass();function iv(a,t){return typeof a<"u"&&a!==null?t(a):void 0}function sv(a,t,i){if(typeof a<"u"&&a!==null&&typeof a[t]=="function")return i(a,t)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Sr(a){return a+.5|0}const bs=(a,t,i)=>Math.max(Math.min(a,i),t);function ar(a){return bs(Sr(a*2.55),0,255)}function xs(a){return bs(Sr(a*255),0,255)}function es(a){return bs(Sr(a/2.55)/100,0,1)}function Ed(a){return bs(Sr(a*100),0,100)}const Ai={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},eu=[..."0123456789ABCDEF"],av=a=>eu[a&15],rv=a=>eu[(a&240)>>4]+eu[a&15],to=a=>(a&240)>>4===(a&15),ov=a=>to(a.r)&&to(a.g)&&to(a.b)&&to(a.a);function lv(a){var t=a.length,i;return a[0]==="#"&&(t===4||t===5?i={r:255&Ai[a[1]]*17,g:255&Ai[a[2]]*17,b:255&Ai[a[3]]*17,a:t===5?Ai[a[4]]*17:255}:(t===7||t===9)&&(i={r:Ai[a[1]]<<4|Ai[a[2]],g:Ai[a[3]]<<4|Ai[a[4]],b:Ai[a[5]]<<4|Ai[a[6]],a:t===9?Ai[a[7]]<<4|Ai[a[8]]:255})),i}const uv=(a,t)=>a<255?t(a):"";function cv(a){var t=ov(a)?av:rv;return a?"#"+t(a.r)+t(a.g)+t(a.b)+uv(a.a,t):void 0}const dv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Lf(a,t,i){const r=t*Math.min(i,1-i),l=(f,b=(f+a/30)%12)=>i-r*Math.max(Math.min(b-3,9-b,1),-1);return[l(0),l(8),l(4)]}function hv(a,t,i){const r=(l,f=(l+a/60)%6)=>i-i*t*Math.max(Math.min(f,4-f,1),0);return[r(5),r(3),r(1)]}function fv(a,t,i){const r=Lf(a,1,.5);let l;for(t+i>1&&(l=1/(t+i),t*=l,i*=l),l=0;l<3;l++)r[l]*=1-t-i,r[l]+=t;return r}function pv(a,t,i,r,l){return a===l?(t-i)/r+(t<i?6:0):t===l?(i-a)/r+2:(a-t)/r+4}function yu(a){const i=a.r/255,r=a.g/255,l=a.b/255,f=Math.max(i,r,l),b=Math.min(i,r,l),x=(f+b)/2;let k,S,M;return f!==b&&(M=f-b,S=x>.5?M/(2-f-b):M/(f+b),k=pv(i,r,l,M,f),k=k*60+.5),[k|0,S||0,x]}function wu(a,t,i,r){return(Array.isArray(t)?a(t[0],t[1],t[2]):a(t,i,r)).map(xs)}function Cu(a,t,i){return wu(Lf,a,t,i)}function mv(a,t,i){return wu(fv,a,t,i)}function gv(a,t,i){return wu(hv,a,t,i)}function Bf(a){return(a%360+360)%360}function vv(a){const t=dv.exec(a);let i=255,r;if(!t)return;t[5]!==r&&(i=t[6]?ar(+t[5]):xs(+t[5]));const l=Bf(+t[2]),f=+t[3]/100,b=+t[4]/100;return t[1]==="hwb"?r=mv(l,f,b):t[1]==="hsv"?r=gv(l,f,b):r=Cu(l,f,b),{r:r[0],g:r[1],b:r[2],a:i}}function bv(a,t){var i=yu(a);i[0]=Bf(i[0]+t),i=Cu(i),a.r=i[0],a.g=i[1],a.b=i[2]}function yv(a){if(!a)return;const t=yu(a),i=t[0],r=Ed(t[1]),l=Ed(t[2]);return a.a<255?`hsla(${i}, ${r}%, ${l}%, ${es(a.a)})`:`hsl(${i}, ${r}%, ${l}%)`}const Ad={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Md={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wv(){const a={},t=Object.keys(Md),i=Object.keys(Ad);let r,l,f,b,x;for(r=0;r<t.length;r++){for(b=x=t[r],l=0;l<i.length;l++)f=i[l],x=x.replace(f,Ad[f]);f=parseInt(Md[b],16),a[x]=[f>>16&255,f>>8&255,f&255]}return a}let no;function Cv(a){no||(no=wv(),no.transparent=[0,0,0,0]);const t=no[a.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const xv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kv(a){const t=xv.exec(a);let i=255,r,l,f;if(t){if(t[7]!==r){const b=+t[7];i=t[8]?ar(b):bs(b*255,0,255)}return r=+t[1],l=+t[3],f=+t[5],r=255&(t[2]?ar(r):bs(r,0,255)),l=255&(t[4]?ar(l):bs(l,0,255)),f=255&(t[6]?ar(f):bs(f,0,255)),{r,g:l,b:f,a:i}}}function _v(a){return a&&(a.a<255?`rgba(${a.r}, ${a.g}, ${a.b}, ${es(a.a)})`:`rgb(${a.r}, ${a.g}, ${a.b})`)}const Ll=a=>a<=.0031308?a*12.92:Math.pow(a,1/2.4)*1.055-.055,ba=a=>a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4);function Sv(a,t,i){const r=ba(es(a.r)),l=ba(es(a.g)),f=ba(es(a.b));return{r:xs(Ll(r+i*(ba(es(t.r))-r))),g:xs(Ll(l+i*(ba(es(t.g))-l))),b:xs(Ll(f+i*(ba(es(t.b))-f))),a:a.a+i*(t.a-a.a)}}function io(a,t,i){if(a){let r=yu(a);r[t]=Math.max(0,Math.min(r[t]+r[t]*i,t===0?360:1)),r=Cu(r),a.r=r[0],a.g=r[1],a.b=r[2]}}function Rf(a,t){return a&&Object.assign(t||{},a)}function Id(a){var t={r:0,g:0,b:0,a:255};return Array.isArray(a)?a.length>=3&&(t={r:a[0],g:a[1],b:a[2],a:255},a.length>3&&(t.a=xs(a[3]))):(t=Rf(a,{r:0,g:0,b:0,a:1}),t.a=xs(t.a)),t}function Tv(a){return a.charAt(0)==="r"?kv(a):vv(a)}class vr{constructor(t){if(t instanceof vr)return t;const i=typeof t;let r;i==="object"?r=Id(t):i==="string"&&(r=lv(t)||Cv(t)||Tv(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Rf(this._rgb);return t&&(t.a=es(t.a)),t}set rgb(t){this._rgb=Id(t)}rgbString(){return this._valid?_v(this._rgb):void 0}hexString(){return this._valid?cv(this._rgb):void 0}hslString(){return this._valid?yv(this._rgb):void 0}mix(t,i){if(t){const r=this.rgb,l=t.rgb;let f;const b=i===f?.5:i,x=2*b-1,k=r.a-l.a,S=((x*k===-1?x:(x+k)/(1+x*k))+1)/2;f=1-S,r.r=255&S*r.r+f*l.r+.5,r.g=255&S*r.g+f*l.g+.5,r.b=255&S*r.b+f*l.b+.5,r.a=b*r.a+(1-b)*l.a,this.rgb=r}return this}interpolate(t,i){return t&&(this._rgb=Sv(this._rgb,t._rgb,i)),this}clone(){return new vr(this.rgb)}alpha(t){return this._rgb.a=xs(t),this}clearer(t){const i=this._rgb;return i.a*=1-t,this}greyscale(){const t=this._rgb,i=Sr(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){const i=this._rgb;return i.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return io(this._rgb,2,t),this}darken(t){return io(this._rgb,2,-t),this}saturate(t){return io(this._rgb,1,t),this}desaturate(t){return io(this._rgb,1,-t),this}rotate(t){return bv(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Qi(){}const Dv=(()=>{let a=0;return()=>a++})();function Wt(a){return a==null}function wn(a){if(Array.isArray&&Array.isArray(a))return!0;const t=Object.prototype.toString.call(a);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Vt(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}function En(a){return(typeof a=="number"||a instanceof Number)&&isFinite(+a)}function Ti(a,t){return En(a)?a:t}function Nt(a,t){return typeof a>"u"?t:a}const Ev=(a,t)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100:+a/t,Nf=(a,t)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100*t:+a;function fn(a,t,i){if(a&&typeof a.call=="function")return a.apply(i,t)}function rn(a,t,i,r){let l,f,b;if(wn(a))for(f=a.length,l=0;l<f;l++)t.call(i,a[l],l);else if(Vt(a))for(b=Object.keys(a),f=b.length,l=0;l<f;l++)t.call(i,a[b[l]],b[l])}function Eo(a,t){let i,r,l,f;if(!a||!t||a.length!==t.length)return!1;for(i=0,r=a.length;i<r;++i)if(l=a[i],f=t[i],l.datasetIndex!==f.datasetIndex||l.index!==f.index)return!1;return!0}function Ao(a){if(wn(a))return a.map(Ao);if(Vt(a)){const t=Object.create(null),i=Object.keys(a),r=i.length;let l=0;for(;l<r;++l)t[i[l]]=Ao(a[i[l]]);return t}return a}function zf(a){return["__proto__","prototype","constructor"].indexOf(a)===-1}function Av(a,t,i,r){if(!zf(a))return;const l=t[a],f=i[a];Vt(l)&&Vt(f)?br(l,f,r):t[a]=Ao(f)}function br(a,t,i){const r=wn(t)?t:[t],l=r.length;if(!Vt(a))return a;i=i||{};const f=i.merger||Av;let b;for(let x=0;x<l;++x){if(b=r[x],!Vt(b))continue;const k=Object.keys(b);for(let S=0,M=k.length;S<M;++S)f(k[S],a,b,i)}return a}function dr(a,t){return br(a,t,{merger:Mv})}function Mv(a,t,i){if(!zf(a))return;const r=t[a],l=i[a];Vt(r)&&Vt(l)?dr(r,l):Object.prototype.hasOwnProperty.call(t,a)||(t[a]=Ao(l))}const Od={"":a=>a,x:a=>a.x,y:a=>a.y};function Iv(a){const t=a.split("."),i=[];let r="";for(const l of t)r+=l,r.endsWith("\\")?r=r.slice(0,-1)+".":(i.push(r),r="");return i}function Ov(a){const t=Iv(a);return i=>{for(const r of t){if(r==="")break;i=i&&i[r]}return i}}function ks(a,t){return(Od[t]||(Od[t]=Ov(t)))(a)}function xu(a){return a.charAt(0).toUpperCase()+a.slice(1)}const yr=a=>typeof a<"u",_s=a=>typeof a=="function",Pd=(a,t)=>{if(a.size!==t.size)return!1;for(const i of a)if(!t.has(i))return!1;return!0};function Pv(a){return a.type==="mouseup"||a.type==="click"||a.type==="contextmenu"}const gn=Math.PI,mn=2*gn,Fv=mn+gn,Mo=Number.POSITIVE_INFINITY,Lv=gn/180,Fn=gn/2,Rs=gn/4,Fd=gn*2/3,ys=Math.log10,Ui=Math.sign;function hr(a,t,i){return Math.abs(a-t)<i}function Ld(a){const t=Math.round(a);a=hr(a,t,a/1e3)?t:a;const i=Math.pow(10,Math.floor(ys(a))),r=a/i;return(r<=1?1:r<=2?2:r<=5?5:10)*i}function Bv(a){const t=[],i=Math.sqrt(a);let r;for(r=1;r<i;r++)a%r===0&&(t.push(r),t.push(a/r));return i===(i|0)&&t.push(i),t.sort((l,f)=>l-f).pop(),t}function Rv(a){return typeof a=="symbol"||typeof a=="object"&&a!==null&&!(Symbol.toPrimitive in a||"toString"in a||"valueOf"in a)}function xa(a){return!Rv(a)&&!isNaN(parseFloat(a))&&isFinite(a)}function Nv(a,t){const i=Math.round(a);return i-t<=a&&i+t>=a}function Hf(a,t,i){let r,l,f;for(r=0,l=a.length;r<l;r++)f=a[r][i],isNaN(f)||(t.min=Math.min(t.min,f),t.max=Math.max(t.max,f))}function Fi(a){return a*(gn/180)}function ku(a){return a*(180/gn)}function Bd(a){if(!En(a))return;let t=1,i=0;for(;Math.round(a*t)/t!==a;)t*=10,i++;return i}function Wf(a,t){const i=t.x-a.x,r=t.y-a.y,l=Math.sqrt(i*i+r*r);let f=Math.atan2(r,i);return f<-.5*gn&&(f+=mn),{angle:f,distance:l}}function tu(a,t){return Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2))}function zv(a,t){return(a-t+Fv)%mn-gn}function Di(a){return(a%mn+mn)%mn}function wr(a,t,i,r){const l=Di(a),f=Di(t),b=Di(i),x=Di(f-l),k=Di(b-l),S=Di(l-f),M=Di(l-b);return l===f||l===b||r&&f===b||x>k&&S<M}function Xn(a,t,i){return Math.max(t,Math.min(i,a))}function Hv(a){return Xn(a,-32768,32767)}function ns(a,t,i,r=1e-6){return a>=Math.min(t,i)-r&&a<=Math.max(t,i)+r}function _u(a,t,i){i=i||(b=>a[b]<t);let r=a.length-1,l=0,f;for(;r-l>1;)f=l+r>>1,i(f)?l=f:r=f;return{lo:l,hi:r}}const is=(a,t,i,r)=>_u(a,i,r?l=>{const f=a[l][t];return f<i||f===i&&a[l+1][t]===i}:l=>a[l][t]<i),Wv=(a,t,i)=>_u(a,i,r=>a[r][t]>=i);function Vv(a,t,i){let r=0,l=a.length;for(;r<l&&a[r]<t;)r++;for(;l>r&&a[l-1]>i;)l--;return r>0||l<a.length?a.slice(r,l):a}const Vf=["push","pop","shift","splice","unshift"];function Uv(a,t){if(a._chartjs){a._chartjs.listeners.push(t);return}Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Vf.forEach(i=>{const r="_onData"+xu(i),l=a[i];Object.defineProperty(a,i,{configurable:!0,enumerable:!1,value(...f){const b=l.apply(this,f);return a._chartjs.listeners.forEach(x=>{typeof x[r]=="function"&&x[r](...f)}),b}})})}function Rd(a,t){const i=a._chartjs;if(!i)return;const r=i.listeners,l=r.indexOf(t);l!==-1&&r.splice(l,1),!(r.length>0)&&(Vf.forEach(f=>{delete a[f]}),delete a._chartjs)}function Uf(a){const t=new Set(a);return t.size===a.length?a:Array.from(t)}const jf=function(){return typeof window>"u"?function(a){return a()}:window.requestAnimationFrame}();function qf(a,t){let i=[],r=!1;return function(...l){i=l,r||(r=!0,jf.call(window,()=>{r=!1,a.apply(t,i)}))}}function jv(a,t){let i;return function(...r){return t?(clearTimeout(i),i=setTimeout(a,t,r)):a.apply(this,r),t}}const Su=a=>a==="start"?"left":a==="end"?"right":"center",ai=(a,t,i)=>a==="start"?t:a==="end"?i:(t+i)/2,qv=(a,t,i,r)=>a===(r?"left":"right")?i:a==="center"?(t+i)/2:t;function $f(a,t,i){const r=t.length;let l=0,f=r;if(a._sorted){const{iScale:b,vScale:x,_parsed:k}=a,S=a.dataset&&a.dataset.options?a.dataset.options.spanGaps:null,M=b.axis,{min:L,max:R,minDefined:q,maxDefined:J}=b.getUserBounds();if(q){if(l=Math.min(is(k,M,L).lo,i?r:is(t,M,b.getPixelForValue(L)).lo),S){const ae=k.slice(0,l+1).reverse().findIndex(oe=>!Wt(oe[x.axis]));l-=Math.max(0,ae)}l=Xn(l,0,r-1)}if(J){let ae=Math.max(is(k,b.axis,R,!0).hi+1,i?0:is(t,M,b.getPixelForValue(R),!0).hi+1);if(S){const oe=k.slice(ae-1).findIndex(ue=>!Wt(ue[x.axis]));ae+=Math.max(0,oe)}f=Xn(ae,l,r)-l}else f=r-l}return{start:l,count:f}}function Yf(a){const{xScale:t,yScale:i,_scaleRanges:r}=a,l={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!r)return a._scaleRanges=l,!0;const f=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==i.min||r.ymax!==i.max;return Object.assign(r,l),f}const so=a=>a===0||a===1,Nd=(a,t,i)=>-(Math.pow(2,10*(a-=1))*Math.sin((a-t)*mn/i)),zd=(a,t,i)=>Math.pow(2,-10*a)*Math.sin((a-t)*mn/i)+1,fr={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*Fn)+1,easeOutSine:a=>Math.sin(a*Fn),easeInOutSine:a=>-.5*(Math.cos(gn*a)-1),easeInExpo:a=>a===0?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>a===1?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>so(a)?a:a<.5?.5*Math.pow(2,10*(a*2-1)):.5*(-Math.pow(2,-10*(a*2-1))+2),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>so(a)?a:Nd(a,.075,.3),easeOutElastic:a=>so(a)?a:zd(a,.075,.3),easeInOutElastic(a){return so(a)?a:a<.5?.5*Nd(a*2,.1125,.45):.5+.5*zd(a*2-1,.1125,.45)},easeInBack(a){return a*a*((1.70158+1)*a-1.70158)},easeOutBack(a){return(a-=1)*a*((1.70158+1)*a+1.70158)+1},easeInOutBack(a){let t=1.70158;return(a/=.5)<1?.5*(a*a*(((t*=1.525)+1)*a-t)):.5*((a-=2)*a*(((t*=1.525)+1)*a+t)+2)},easeInBounce:a=>1-fr.easeOutBounce(1-a),easeOutBounce(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:a=>a<.5?fr.easeInBounce(a*2)*.5:fr.easeOutBounce(a*2-1)*.5+.5};function Tu(a){if(a&&typeof a=="object"){const t=a.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Hd(a){return Tu(a)?a:new vr(a)}function Bl(a){return Tu(a)?a:new vr(a).saturate(.5).darken(.1).hexString()}const $v=["x","y","borderWidth","radius","tension"],Yv=["color","borderColor","backgroundColor"];function Gv(a){a.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),a.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),a.set("animations",{colors:{type:"color",properties:Yv},numbers:{type:"number",properties:$v}}),a.describe("animations",{_fallback:"animation"}),a.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Xv(a){a.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Wd=new Map;function Kv(a,t){t=t||{};const i=a+JSON.stringify(t);let r=Wd.get(i);return r||(r=new Intl.NumberFormat(a,t),Wd.set(i,r)),r}function Tr(a,t,i){return Kv(t,i).format(a)}const Gf={values(a){return wn(a)?a:""+a},numeric(a,t,i){if(a===0)return"0";const r=this.chart.options.locale;let l,f=a;if(i.length>1){const S=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(S<1e-4||S>1e15)&&(l="scientific"),f=Qv(a,i)}const b=ys(Math.abs(f)),x=isNaN(b)?1:Math.max(Math.min(-1*Math.floor(b),20),0),k={notation:l,minimumFractionDigits:x,maximumFractionDigits:x};return Object.assign(k,this.options.ticks.format),Tr(a,r,k)},logarithmic(a,t,i){if(a===0)return"0";const r=i[t].significand||a/Math.pow(10,Math.floor(ys(a)));return[1,2,3,5,10,15].includes(r)||t>.8*i.length?Gf.numeric.call(this,a,t,i):""}};function Qv(a,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&a!==Math.floor(a)&&(i=a-Math.floor(a)),i}var No={formatters:Gf};function Jv(a){a.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:No.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),a.route("scale.ticks","color","","color"),a.route("scale.grid","color","","borderColor"),a.route("scale.border","color","","borderColor"),a.route("scale.title","color","","color"),a.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),a.describe("scales",{_fallback:"scale"}),a.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ys=Object.create(null),nu=Object.create(null);function pr(a,t){if(!t)return a;const i=t.split(".");for(let r=0,l=i.length;r<l;++r){const f=i[r];a=a[f]||(a[f]=Object.create(null))}return a}function Rl(a,t,i){return typeof t=="string"?br(pr(a,t),i):br(pr(a,""),t)}class Zv{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,l)=>Bl(l.backgroundColor),this.hoverBorderColor=(r,l)=>Bl(l.borderColor),this.hoverColor=(r,l)=>Bl(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return Rl(this,t,i)}get(t){return pr(this,t)}describe(t,i){return Rl(nu,t,i)}override(t,i){return Rl(Ys,t,i)}route(t,i,r,l){const f=pr(this,t),b=pr(this,r),x="_"+i;Object.defineProperties(f,{[x]:{value:f[i],writable:!0},[i]:{enumerable:!0,get(){const k=this[x],S=b[l];return Vt(k)?Object.assign({},S,k):Nt(k,S)},set(k){this[x]=k}}})}apply(t){t.forEach(i=>i(this))}}var Cn=new Zv({_scriptable:a=>!a.startsWith("on"),_indexable:a=>a!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Gv,Xv,Jv]);function e0(a){return!a||Wt(a.size)||Wt(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}function Io(a,t,i,r,l){let f=t[l];return f||(f=t[l]=a.measureText(l).width,i.push(l)),f>r&&(r=f),r}function t0(a,t,i,r){r=r||{};let l=r.data=r.data||{},f=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(l=r.data={},f=r.garbageCollect=[],r.font=t),a.save(),a.font=t;let b=0;const x=i.length;let k,S,M,L,R;for(k=0;k<x;k++)if(L=i[k],L!=null&&!wn(L))b=Io(a,l,f,b,L);else if(wn(L))for(S=0,M=L.length;S<M;S++)R=L[S],R!=null&&!wn(R)&&(b=Io(a,l,f,b,R));a.restore();const q=f.length/2;if(q>i.length){for(k=0;k<q;k++)delete l[f[k]];f.splice(0,q)}return b}function Ns(a,t,i){const r=a.currentDevicePixelRatio,l=i!==0?Math.max(i/2,.5):0;return Math.round((t-l)*r)/r+l}function Vd(a,t){!t&&!a||(t=t||a.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,a.width,a.height),t.restore())}function iu(a,t,i,r){Xf(a,t,i,r,null)}function Xf(a,t,i,r,l){let f,b,x,k,S,M,L,R;const q=t.pointStyle,J=t.rotation,ae=t.radius;let oe=(J||0)*Lv;if(q&&typeof q=="object"&&(f=q.toString(),f==="[object HTMLImageElement]"||f==="[object HTMLCanvasElement]")){a.save(),a.translate(i,r),a.rotate(oe),a.drawImage(q,-q.width/2,-q.height/2,q.width,q.height),a.restore();return}if(!(isNaN(ae)||ae<=0)){switch(a.beginPath(),q){default:l?a.ellipse(i,r,l/2,ae,0,0,mn):a.arc(i,r,ae,0,mn),a.closePath();break;case"triangle":M=l?l/2:ae,a.moveTo(i+Math.sin(oe)*M,r-Math.cos(oe)*ae),oe+=Fd,a.lineTo(i+Math.sin(oe)*M,r-Math.cos(oe)*ae),oe+=Fd,a.lineTo(i+Math.sin(oe)*M,r-Math.cos(oe)*ae),a.closePath();break;case"rectRounded":S=ae*.516,k=ae-S,b=Math.cos(oe+Rs)*k,L=Math.cos(oe+Rs)*(l?l/2-S:k),x=Math.sin(oe+Rs)*k,R=Math.sin(oe+Rs)*(l?l/2-S:k),a.arc(i-L,r-x,S,oe-gn,oe-Fn),a.arc(i+R,r-b,S,oe-Fn,oe),a.arc(i+L,r+x,S,oe,oe+Fn),a.arc(i-R,r+b,S,oe+Fn,oe+gn),a.closePath();break;case"rect":if(!J){k=Math.SQRT1_2*ae,M=l?l/2:k,a.rect(i-M,r-k,2*M,2*k);break}oe+=Rs;case"rectRot":L=Math.cos(oe)*(l?l/2:ae),b=Math.cos(oe)*ae,x=Math.sin(oe)*ae,R=Math.sin(oe)*(l?l/2:ae),a.moveTo(i-L,r-x),a.lineTo(i+R,r-b),a.lineTo(i+L,r+x),a.lineTo(i-R,r+b),a.closePath();break;case"crossRot":oe+=Rs;case"cross":L=Math.cos(oe)*(l?l/2:ae),b=Math.cos(oe)*ae,x=Math.sin(oe)*ae,R=Math.sin(oe)*(l?l/2:ae),a.moveTo(i-L,r-x),a.lineTo(i+L,r+x),a.moveTo(i+R,r-b),a.lineTo(i-R,r+b);break;case"star":L=Math.cos(oe)*(l?l/2:ae),b=Math.cos(oe)*ae,x=Math.sin(oe)*ae,R=Math.sin(oe)*(l?l/2:ae),a.moveTo(i-L,r-x),a.lineTo(i+L,r+x),a.moveTo(i+R,r-b),a.lineTo(i-R,r+b),oe+=Rs,L=Math.cos(oe)*(l?l/2:ae),b=Math.cos(oe)*ae,x=Math.sin(oe)*ae,R=Math.sin(oe)*(l?l/2:ae),a.moveTo(i-L,r-x),a.lineTo(i+L,r+x),a.moveTo(i+R,r-b),a.lineTo(i-R,r+b);break;case"line":b=l?l/2:Math.cos(oe)*ae,x=Math.sin(oe)*ae,a.moveTo(i-b,r-x),a.lineTo(i+b,r+x);break;case"dash":a.moveTo(i,r),a.lineTo(i+Math.cos(oe)*(l?l/2:ae),r+Math.sin(oe)*ae);break;case!1:a.closePath();break}a.fill(),t.borderWidth>0&&a.stroke()}}function ss(a,t,i){return i=i||.5,!t||a&&a.x>t.left-i&&a.x<t.right+i&&a.y>t.top-i&&a.y<t.bottom+i}function zo(a,t){a.save(),a.beginPath(),a.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),a.clip()}function Ho(a){a.restore()}function n0(a,t,i,r,l){if(!t)return a.lineTo(i.x,i.y);if(l==="middle"){const f=(t.x+i.x)/2;a.lineTo(f,t.y),a.lineTo(f,i.y)}else l==="after"!=!!r?a.lineTo(t.x,i.y):a.lineTo(i.x,t.y);a.lineTo(i.x,i.y)}function i0(a,t,i,r){if(!t)return a.lineTo(i.x,i.y);a.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?i.cp2x:i.cp1x,r?i.cp2y:i.cp1y,i.x,i.y)}function s0(a,t){t.translation&&a.translate(t.translation[0],t.translation[1]),Wt(t.rotation)||a.rotate(t.rotation),t.color&&(a.fillStyle=t.color),t.textAlign&&(a.textAlign=t.textAlign),t.textBaseline&&(a.textBaseline=t.textBaseline)}function a0(a,t,i,r,l){if(l.strikethrough||l.underline){const f=a.measureText(r),b=t-f.actualBoundingBoxLeft,x=t+f.actualBoundingBoxRight,k=i-f.actualBoundingBoxAscent,S=i+f.actualBoundingBoxDescent,M=l.strikethrough?(k+S)/2:S;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=l.decorationWidth||2,a.moveTo(b,M),a.lineTo(x,M),a.stroke()}}function r0(a,t){const i=a.fillStyle;a.fillStyle=t.color,a.fillRect(t.left,t.top,t.width,t.height),a.fillStyle=i}function Gs(a,t,i,r,l,f={}){const b=wn(t)?t:[t],x=f.strokeWidth>0&&f.strokeColor!=="";let k,S;for(a.save(),a.font=l.string,s0(a,f),k=0;k<b.length;++k)S=b[k],f.backdrop&&r0(a,f.backdrop),x&&(f.strokeColor&&(a.strokeStyle=f.strokeColor),Wt(f.strokeWidth)||(a.lineWidth=f.strokeWidth),a.strokeText(S,i,r,f.maxWidth)),a.fillText(S,i,r,f.maxWidth),a0(a,i,r,S,f),r+=Number(l.lineHeight);a.restore()}function Cr(a,t){const{x:i,y:r,w:l,h:f,radius:b}=t;a.arc(i+b.topLeft,r+b.topLeft,b.topLeft,1.5*gn,gn,!0),a.lineTo(i,r+f-b.bottomLeft),a.arc(i+b.bottomLeft,r+f-b.bottomLeft,b.bottomLeft,gn,Fn,!0),a.lineTo(i+l-b.bottomRight,r+f),a.arc(i+l-b.bottomRight,r+f-b.bottomRight,b.bottomRight,Fn,0,!0),a.lineTo(i+l,r+b.topRight),a.arc(i+l-b.topRight,r+b.topRight,b.topRight,0,-Fn,!0),a.lineTo(i+b.topLeft,r)}const o0=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,l0=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function u0(a,t){const i=(""+a).match(o0);if(!i||i[1]==="normal")return t*1.2;switch(a=+i[2],i[3]){case"px":return a;case"%":a/=100;break}return t*a}const c0=a=>+a||0;function Du(a,t){const i={},r=Vt(t),l=r?Object.keys(t):t,f=Vt(a)?r?b=>Nt(a[b],a[t[b]]):b=>a[b]:()=>a;for(const b of l)i[b]=c0(f(b));return i}function Kf(a){return Du(a,{top:"y",right:"x",bottom:"y",left:"x"})}function qs(a){return Du(a,["topLeft","topRight","bottomLeft","bottomRight"])}function oi(a){const t=Kf(a);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Yn(a,t){a=a||{},t=t||Cn.font;let i=Nt(a.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let r=Nt(a.style,t.style);r&&!(""+r).match(l0)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const l={family:Nt(a.family,t.family),lineHeight:u0(Nt(a.lineHeight,t.lineHeight),i),size:i,style:r,weight:Nt(a.weight,t.weight),string:""};return l.string=e0(l),l}function rr(a,t,i,r){let l,f,b;for(l=0,f=a.length;l<f;++l)if(b=a[l],b!==void 0&&b!==void 0)return b}function d0(a,t,i){const{min:r,max:l}=a,f=Nf(t,(l-r)/2),b=(x,k)=>i&&x===0?0:x+k;return{min:b(r,-Math.abs(f)),max:b(l,f)}}function Ss(a,t){return Object.assign(Object.create(a),t)}function Eu(a,t=[""],i,r,l=()=>a[0]){const f=i||a;typeof r>"u"&&(r=ep("_fallback",a));const b={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:f,_fallback:r,_getTarget:l,override:x=>Eu([x,...a],t,f,r)};return new Proxy(b,{deleteProperty(x,k){return delete x[k],delete x._keys,delete a[0][k],!0},get(x,k){return Jf(x,k,()=>y0(k,t,a,x))},getOwnPropertyDescriptor(x,k){return Reflect.getOwnPropertyDescriptor(x._scopes[0],k)},getPrototypeOf(){return Reflect.getPrototypeOf(a[0])},has(x,k){return jd(x).includes(k)},ownKeys(x){return jd(x)},set(x,k,S){const M=x._storage||(x._storage=l());return x[k]=M[k]=S,delete x._keys,!0}})}function ka(a,t,i,r){const l={_cacheable:!1,_proxy:a,_context:t,_subProxy:i,_stack:new Set,_descriptors:Qf(a,r),setContext:f=>ka(a,f,i,r),override:f=>ka(a.override(f),t,i,r)};return new Proxy(l,{deleteProperty(f,b){return delete f[b],delete a[b],!0},get(f,b,x){return Jf(f,b,()=>f0(f,b,x))},getOwnPropertyDescriptor(f,b){return f._descriptors.allKeys?Reflect.has(a,b)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,b)},getPrototypeOf(){return Reflect.getPrototypeOf(a)},has(f,b){return Reflect.has(a,b)},ownKeys(){return Reflect.ownKeys(a)},set(f,b,x){return a[b]=x,delete f[b],!0}})}function Qf(a,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:r=t.indexable,_allKeys:l=t.allKeys}=a;return{allKeys:l,scriptable:i,indexable:r,isScriptable:_s(i)?i:()=>i,isIndexable:_s(r)?r:()=>r}}const h0=(a,t)=>a?a+xu(t):t,Au=(a,t)=>Vt(t)&&a!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Jf(a,t,i){if(Object.prototype.hasOwnProperty.call(a,t)||t==="constructor")return a[t];const r=i();return a[t]=r,r}function f0(a,t,i){const{_proxy:r,_context:l,_subProxy:f,_descriptors:b}=a;let x=r[t];return _s(x)&&b.isScriptable(t)&&(x=p0(t,x,a,i)),wn(x)&&x.length&&(x=m0(t,x,a,b.isIndexable)),Au(t,x)&&(x=ka(x,l,f&&f[t],b)),x}function p0(a,t,i,r){const{_proxy:l,_context:f,_subProxy:b,_stack:x}=i;if(x.has(a))throw new Error("Recursion detected: "+Array.from(x).join("->")+"->"+a);x.add(a);let k=t(f,b||r);return x.delete(a),Au(a,k)&&(k=Mu(l._scopes,l,a,k)),k}function m0(a,t,i,r){const{_proxy:l,_context:f,_subProxy:b,_descriptors:x}=i;if(typeof f.index<"u"&&r(a))return t[f.index%t.length];if(Vt(t[0])){const k=t,S=l._scopes.filter(M=>M!==k);t=[];for(const M of k){const L=Mu(S,l,a,M);t.push(ka(L,f,b&&b[a],x))}}return t}function Zf(a,t,i){return _s(a)?a(t,i):a}const g0=(a,t)=>a===!0?t:typeof a=="string"?ks(t,a):void 0;function v0(a,t,i,r,l){for(const f of t){const b=g0(i,f);if(b){a.add(b);const x=Zf(b._fallback,i,l);if(typeof x<"u"&&x!==i&&x!==r)return x}else if(b===!1&&typeof r<"u"&&i!==r)return null}return!1}function Mu(a,t,i,r){const l=t._rootScopes,f=Zf(t._fallback,i,r),b=[...a,...l],x=new Set;x.add(r);let k=Ud(x,b,i,f||i,r);return k===null||typeof f<"u"&&f!==i&&(k=Ud(x,b,f,k,r),k===null)?!1:Eu(Array.from(x),[""],l,f,()=>b0(t,i,r))}function Ud(a,t,i,r,l){for(;i;)i=v0(a,t,i,r,l);return i}function b0(a,t,i){const r=a._getTarget();t in r||(r[t]={});const l=r[t];return wn(l)&&Vt(i)?i:l||{}}function y0(a,t,i,r){let l;for(const f of t)if(l=ep(h0(f,a),i),typeof l<"u")return Au(a,l)?Mu(i,r,a,l):l}function ep(a,t){for(const i of t){if(!i)continue;const r=i[a];if(typeof r<"u")return r}}function jd(a){let t=a._keys;return t||(t=a._keys=w0(a._scopes)),t}function w0(a){const t=new Set;for(const i of a)for(const r of Object.keys(i).filter(l=>!l.startsWith("_")))t.add(r);return Array.from(t)}function tp(a,t,i,r){const{iScale:l}=a,{key:f="r"}=this._parsing,b=new Array(r);let x,k,S,M;for(x=0,k=r;x<k;++x)S=x+i,M=t[S],b[x]={r:l.parse(ks(M,f),S)};return b}const C0=Number.EPSILON||1e-14,_a=(a,t)=>t<a.length&&!a[t].skip&&a[t],np=a=>a==="x"?"y":"x";function x0(a,t,i,r){const l=a.skip?t:a,f=t,b=i.skip?t:i,x=tu(f,l),k=tu(b,f);let S=x/(x+k),M=k/(x+k);S=isNaN(S)?0:S,M=isNaN(M)?0:M;const L=r*S,R=r*M;return{previous:{x:f.x-L*(b.x-l.x),y:f.y-L*(b.y-l.y)},next:{x:f.x+R*(b.x-l.x),y:f.y+R*(b.y-l.y)}}}function k0(a,t,i){const r=a.length;let l,f,b,x,k,S=_a(a,0);for(let M=0;M<r-1;++M)if(k=S,S=_a(a,M+1),!(!k||!S)){if(hr(t[M],0,C0)){i[M]=i[M+1]=0;continue}l=i[M]/t[M],f=i[M+1]/t[M],x=Math.pow(l,2)+Math.pow(f,2),!(x<=9)&&(b=3/Math.sqrt(x),i[M]=l*b*t[M],i[M+1]=f*b*t[M])}}function _0(a,t,i="x"){const r=np(i),l=a.length;let f,b,x,k=_a(a,0);for(let S=0;S<l;++S){if(b=x,x=k,k=_a(a,S+1),!x)continue;const M=x[i],L=x[r];b&&(f=(M-b[i])/3,x[`cp1${i}`]=M-f,x[`cp1${r}`]=L-f*t[S]),k&&(f=(k[i]-M)/3,x[`cp2${i}`]=M+f,x[`cp2${r}`]=L+f*t[S])}}function S0(a,t="x"){const i=np(t),r=a.length,l=Array(r).fill(0),f=Array(r);let b,x,k,S=_a(a,0);for(b=0;b<r;++b)if(x=k,k=S,S=_a(a,b+1),!!k){if(S){const M=S[t]-k[t];l[b]=M!==0?(S[i]-k[i])/M:0}f[b]=x?S?Ui(l[b-1])!==Ui(l[b])?0:(l[b-1]+l[b])/2:l[b-1]:l[b]}k0(a,l,f),_0(a,f,t)}function ao(a,t,i){return Math.max(Math.min(a,i),t)}function T0(a,t){let i,r,l,f,b,x=ss(a[0],t);for(i=0,r=a.length;i<r;++i)b=f,f=x,x=i<r-1&&ss(a[i+1],t),f&&(l=a[i],b&&(l.cp1x=ao(l.cp1x,t.left,t.right),l.cp1y=ao(l.cp1y,t.top,t.bottom)),x&&(l.cp2x=ao(l.cp2x,t.left,t.right),l.cp2y=ao(l.cp2y,t.top,t.bottom)))}function D0(a,t,i,r,l){let f,b,x,k;if(t.spanGaps&&(a=a.filter(S=>!S.skip)),t.cubicInterpolationMode==="monotone")S0(a,l);else{let S=r?a[a.length-1]:a[0];for(f=0,b=a.length;f<b;++f)x=a[f],k=x0(S,x,a[Math.min(f+1,b-(r?0:1))%b],t.tension),x.cp1x=k.previous.x,x.cp1y=k.previous.y,x.cp2x=k.next.x,x.cp2y=k.next.y,S=x}t.capBezierPoints&&T0(a,i)}function Iu(){return typeof window<"u"&&typeof document<"u"}function Ou(a){let t=a.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Oo(a,t,i){let r;return typeof a=="string"?(r=parseInt(a,10),a.indexOf("%")!==-1&&(r=r/100*t.parentNode[i])):r=a,r}const Wo=a=>a.ownerDocument.defaultView.getComputedStyle(a,null);function E0(a,t){return Wo(a).getPropertyValue(t)}const A0=["top","right","bottom","left"];function $s(a,t,i){const r={};i=i?"-"+i:"";for(let l=0;l<4;l++){const f=A0[l];r[f]=parseFloat(a[t+"-"+f+i])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const M0=(a,t,i)=>(a>0||t>0)&&(!i||!i.shadowRoot);function I0(a,t){const i=a.touches,r=i&&i.length?i[0]:a,{offsetX:l,offsetY:f}=r;let b=!1,x,k;if(M0(l,f,a.target))x=l,k=f;else{const S=t.getBoundingClientRect();x=r.clientX-S.left,k=r.clientY-S.top,b=!0}return{x,y:k,box:b}}function Ws(a,t){if("native"in a)return a;const{canvas:i,currentDevicePixelRatio:r}=t,l=Wo(i),f=l.boxSizing==="border-box",b=$s(l,"padding"),x=$s(l,"border","width"),{x:k,y:S,box:M}=I0(a,i),L=b.left+(M&&x.left),R=b.top+(M&&x.top);let{width:q,height:J}=t;return f&&(q-=b.width+x.width,J-=b.height+x.height),{x:Math.round((k-L)/q*i.width/r),y:Math.round((S-R)/J*i.height/r)}}function O0(a,t,i){let r,l;if(t===void 0||i===void 0){const f=a&&Ou(a);if(!f)t=a.clientWidth,i=a.clientHeight;else{const b=f.getBoundingClientRect(),x=Wo(f),k=$s(x,"border","width"),S=$s(x,"padding");t=b.width-S.width-k.width,i=b.height-S.height-k.height,r=Oo(x.maxWidth,f,"clientWidth"),l=Oo(x.maxHeight,f,"clientHeight")}}return{width:t,height:i,maxWidth:r||Mo,maxHeight:l||Mo}}const ro=a=>Math.round(a*10)/10;function P0(a,t,i,r){const l=Wo(a),f=$s(l,"margin"),b=Oo(l.maxWidth,a,"clientWidth")||Mo,x=Oo(l.maxHeight,a,"clientHeight")||Mo,k=O0(a,t,i);let{width:S,height:M}=k;if(l.boxSizing==="content-box"){const R=$s(l,"border","width"),q=$s(l,"padding");S-=q.width+R.width,M-=q.height+R.height}return S=Math.max(0,S-f.width),M=Math.max(0,r?S/r:M-f.height),S=ro(Math.min(S,b,k.maxWidth)),M=ro(Math.min(M,x,k.maxHeight)),S&&!M&&(M=ro(S/2)),(t!==void 0||i!==void 0)&&r&&k.height&&M>k.height&&(M=k.height,S=ro(Math.floor(M*r))),{width:S,height:M}}function qd(a,t,i){const r=t||1,l=Math.floor(a.height*r),f=Math.floor(a.width*r);a.height=Math.floor(a.height),a.width=Math.floor(a.width);const b=a.canvas;return b.style&&(i||!b.style.height&&!b.style.width)&&(b.style.height=`${a.height}px`,b.style.width=`${a.width}px`),a.currentDevicePixelRatio!==r||b.height!==l||b.width!==f?(a.currentDevicePixelRatio=r,b.height=l,b.width=f,a.ctx.setTransform(r,0,0,r,0,0),!0):!1}const F0=function(){let a=!1;try{const t={get passive(){return a=!0,!1}};Iu()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return a}();function $d(a,t){const i=E0(a,t),r=i&&i.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Vs(a,t,i,r){return{x:a.x+i*(t.x-a.x),y:a.y+i*(t.y-a.y)}}function L0(a,t,i,r){return{x:a.x+i*(t.x-a.x),y:r==="middle"?i<.5?a.y:t.y:r==="after"?i<1?a.y:t.y:i>0?t.y:a.y}}function B0(a,t,i,r){const l={x:a.cp2x,y:a.cp2y},f={x:t.cp1x,y:t.cp1y},b=Vs(a,l,i),x=Vs(l,f,i),k=Vs(f,t,i),S=Vs(b,x,i),M=Vs(x,k,i);return Vs(S,M,i)}const R0=function(a,t){return{x(i){return a+a+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,r){return i-r},leftForLtr(i,r){return i-r}}},N0=function(){return{x(a){return a},setWidth(a){},textAlign(a){return a},xPlus(a,t){return a+t},leftForLtr(a,t){return a}}};function Ca(a,t,i){return a?R0(t,i):N0()}function ip(a,t){let i,r;(t==="ltr"||t==="rtl")&&(i=a.canvas.style,r=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),a.prevTextDirection=r)}function sp(a,t){t!==void 0&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",t[0],t[1]))}function ap(a){return a==="angle"?{between:wr,compare:zv,normalize:Di}:{between:ns,compare:(t,i)=>t-i,normalize:t=>t}}function Yd({start:a,end:t,count:i,loop:r,style:l}){return{start:a%i,end:t%i,loop:r&&(t-a+1)%i===0,style:l}}function z0(a,t,i){const{property:r,start:l,end:f}=i,{between:b,normalize:x}=ap(r),k=t.length;let{start:S,end:M,loop:L}=a,R,q;if(L){for(S+=k,M+=k,R=0,q=k;R<q&&b(x(t[S%k][r]),l,f);++R)S--,M--;S%=k,M%=k}return M<S&&(M+=k),{start:S,end:M,loop:L,style:a.style}}function rp(a,t,i){if(!i)return[a];const{property:r,start:l,end:f}=i,b=t.length,{compare:x,between:k,normalize:S}=ap(r),{start:M,end:L,loop:R,style:q}=z0(a,t,i),J=[];let ae=!1,oe=null,ue,se,pe;const te=()=>k(l,pe,ue)&&x(l,pe)!==0,re=()=>x(f,ue)===0||k(f,pe,ue),Oe=()=>ae||te(),De=()=>!ae||re();for(let Te=M,Re=M;Te<=L;++Te)se=t[Te%b],!se.skip&&(ue=S(se[r]),ue!==pe&&(ae=k(ue,l,f),oe===null&&Oe()&&(oe=x(ue,l)===0?Te:Re),oe!==null&&De()&&(J.push(Yd({start:oe,end:Te,loop:R,count:b,style:q})),oe=null),Re=Te,pe=ue));return oe!==null&&J.push(Yd({start:oe,end:L,loop:R,count:b,style:q})),J}function op(a,t){const i=[],r=a.segments;for(let l=0;l<r.length;l++){const f=rp(r[l],a.points,t);f.length&&i.push(...f)}return i}function H0(a,t,i,r){let l=0,f=t-1;if(i&&!r)for(;l<t&&!a[l].skip;)l++;for(;l<t&&a[l].skip;)l++;for(l%=t,i&&(f+=l);f>l&&a[f%t].skip;)f--;return f%=t,{start:l,end:f}}function W0(a,t,i,r){const l=a.length,f=[];let b=t,x=a[t],k;for(k=t+1;k<=i;++k){const S=a[k%l];S.skip||S.stop?x.skip||(r=!1,f.push({start:t%l,end:(k-1)%l,loop:r}),t=b=S.stop?k:null):(b=k,x.skip&&(t=k)),x=S}return b!==null&&f.push({start:t%l,end:b%l,loop:r}),f}function V0(a,t){const i=a.points,r=a.options.spanGaps,l=i.length;if(!l)return[];const f=!!a._loop,{start:b,end:x}=H0(i,l,f,r);if(r===!0)return Gd(a,[{start:b,end:x,loop:f}],i,t);const k=x<b?x+l:x,S=!!a._fullLoop&&b===0&&x===l-1;return Gd(a,W0(i,b,k,S),i,t)}function Gd(a,t,i,r){return!r||!r.setContext||!i?t:U0(a,t,i,r)}function U0(a,t,i,r){const l=a._chart.getContext(),f=Xd(a.options),{_datasetIndex:b,options:{spanGaps:x}}=a,k=i.length,S=[];let M=f,L=t[0].start,R=L;function q(J,ae,oe,ue){const se=x?-1:1;if(J!==ae){for(J+=k;i[J%k].skip;)J-=se;for(;i[ae%k].skip;)ae+=se;J%k!==ae%k&&(S.push({start:J%k,end:ae%k,loop:oe,style:ue}),M=ue,L=ae%k)}}for(const J of t){L=x?L:J.start;let ae=i[L%k],oe;for(R=L+1;R<=J.end;R++){const ue=i[R%k];oe=Xd(r.setContext(Ss(l,{type:"segment",p0:ae,p1:ue,p0DataIndex:(R-1)%k,p1DataIndex:R%k,datasetIndex:b}))),j0(oe,M)&&q(L,R-1,J.loop,M),ae=ue,M=oe}L<R-1&&q(L,R-1,J.loop,M)}return S}function Xd(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function j0(a,t){if(!t)return!1;const i=[],r=function(l,f){return Tu(f)?(i.includes(f)||i.push(f),i.indexOf(f)):f};return JSON.stringify(a,r)!==JSON.stringify(t,r)}function oo(a,t,i){return a.options.clip?a[i]:t[i]}function q0(a,t){const{xScale:i,yScale:r}=a;return i&&r?{left:oo(i,t,"left"),right:oo(i,t,"right"),top:oo(r,t,"top"),bottom:oo(r,t,"bottom")}:t}function lp(a,t){const i=t._clip;if(i.disabled)return!1;const r=q0(t,a.chartArea);return{left:i.left===!1?0:r.left-(i.left===!0?0:i.left),right:i.right===!1?a.width:r.right+(i.right===!0?0:i.right),top:i.top===!1?0:r.top-(i.top===!0?0:i.top),bottom:i.bottom===!1?a.height:r.bottom+(i.bottom===!0?0:i.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class $0{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,r,l){const f=i.listeners[l],b=i.duration;f.forEach(x=>x({chart:t,initial:i.initial,numSteps:b,currentStep:Math.min(r-i.start,b)}))}_refresh(){this._request||(this._running=!0,this._request=jf.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((r,l)=>{if(!r.running||!r.items.length)return;const f=r.items;let b=f.length-1,x=!1,k;for(;b>=0;--b)k=f[b],k._active?(k._total>r.duration&&(r.duration=k._total),k.tick(t),x=!0):(f[b]=f[f.length-1],f.pop());x&&(l.draw(),this._notify(l,r,t,"progress")),f.length||(r.running=!1,this._notify(l,r,t,"complete"),r.initial=!1),i+=f.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){const i=this._charts;let r=i.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,r)),r}listen(t,i,r){this._getAnims(t).listeners[i].push(r)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((r,l)=>Math.max(r,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const r=i.items;let l=r.length-1;for(;l>=0;--l)r[l].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ji=new $0;const Kd="transparent",Y0={boolean(a,t,i){return i>.5?t:a},color(a,t,i){const r=Hd(a||Kd),l=r.valid&&Hd(t||Kd);return l&&l.valid?l.mix(r,i).hexString():t},number(a,t,i){return a+(t-a)*i}};class G0{constructor(t,i,r,l){const f=i[r];l=rr([t.to,l,f,t.from]);const b=rr([t.from,f,l]);this._active=!0,this._fn=t.fn||Y0[t.type||typeof b],this._easing=fr[t.easing]||fr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=r,this._from=b,this._to=l,this._promises=void 0}active(){return this._active}update(t,i,r){if(this._active){this._notify(!1);const l=this._target[this._prop],f=r-this._start,b=this._duration-f;this._start=r,this._duration=Math.floor(Math.max(b,t.duration)),this._total+=f,this._loop=!!t.loop,this._to=rr([t.to,i,l,t.from]),this._from=rr([t.from,l,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,r=this._duration,l=this._prop,f=this._from,b=this._loop,x=this._to;let k;if(this._active=f!==x&&(b||i<r),!this._active){this._target[l]=x,this._notify(!0);return}if(i<0){this._target[l]=f;return}k=i/r%2,k=b&&k>1?2-k:k,k=this._easing(Math.min(1,Math.max(0,k))),this._target[l]=this._fn(f,x,k)}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,r)=>{t.push({res:i,rej:r})})}_notify(t){const i=t?"res":"rej",r=this._promises||[];for(let l=0;l<r.length;l++)r[l][i]()}}class up{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!Vt(t))return;const i=Object.keys(Cn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{const f=t[l];if(!Vt(f))return;const b={};for(const x of i)b[x]=f[x];(wn(f.properties)&&f.properties||[l]).forEach(x=>{(x===l||!r.has(x))&&r.set(x,b)})})}_animateOptions(t,i){const r=i.options,l=K0(t,r);if(!l)return[];const f=this._createAnimations(l,r);return r.$shared&&X0(t.options.$animations,r).then(()=>{t.options=r},()=>{}),f}_createAnimations(t,i){const r=this._properties,l=[],f=t.$animations||(t.$animations={}),b=Object.keys(i),x=Date.now();let k;for(k=b.length-1;k>=0;--k){const S=b[k];if(S.charAt(0)==="$")continue;if(S==="options"){l.push(...this._animateOptions(t,i));continue}const M=i[S];let L=f[S];const R=r.get(S);if(L)if(R&&L.active()){L.update(R,M,x);continue}else L.cancel();if(!R||!R.duration){t[S]=M;continue}f[S]=L=new G0(R,t,S,M),l.push(L)}return l}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}const r=this._createAnimations(t,i);if(r.length)return Ji.add(this._chart,r),!0}}function X0(a,t){const i=[],r=Object.keys(t);for(let l=0;l<r.length;l++){const f=a[r[l]];f&&f.active()&&i.push(f.wait())}return Promise.all(i)}function K0(a,t){if(!t)return;let i=a.options;if(!i){a.options=t;return}return i.$shared&&(a.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function Qd(a,t){const i=a&&a.options||{},r=i.reverse,l=i.min===void 0?t:0,f=i.max===void 0?t:0;return{start:r?f:l,end:r?l:f}}function Q0(a,t,i){if(i===!1)return!1;const r=Qd(a,i),l=Qd(t,i);return{top:l.end,right:r.end,bottom:l.start,left:r.start}}function J0(a){let t,i,r,l;return Vt(a)?(t=a.top,i=a.right,r=a.bottom,l=a.left):t=i=r=l=a,{top:t,right:i,bottom:r,left:l,disabled:a===!1}}function cp(a,t){const i=[],r=a._getSortedDatasetMetas(t);let l,f;for(l=0,f=r.length;l<f;++l)i.push(r[l].index);return i}function Jd(a,t,i,r={}){const l=a.keys,f=r.mode==="single";let b,x,k,S;if(t===null)return;let M=!1;for(b=0,x=l.length;b<x;++b){if(k=+l[b],k===i){if(M=!0,r.all)continue;break}S=a.values[k],En(S)&&(f||t===0||Ui(t)===Ui(S))&&(t+=S)}return!M&&!r.all?0:t}function Z0(a,t){const{iScale:i,vScale:r}=t,l=i.axis==="x"?"x":"y",f=r.axis==="x"?"x":"y",b=Object.keys(a),x=new Array(b.length);let k,S,M;for(k=0,S=b.length;k<S;++k)M=b[k],x[k]={[l]:M,[f]:a[M]};return x}function Nl(a,t){const i=a&&a.options.stacked;return i||i===void 0&&t.stack!==void 0}function eb(a,t,i){return`${a.id}.${t.id}.${i.stack||i.type}`}function tb(a){const{min:t,max:i,minDefined:r,maxDefined:l}=a.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:l?i:Number.POSITIVE_INFINITY}}function nb(a,t,i){const r=a[t]||(a[t]={});return r[i]||(r[i]={})}function Zd(a,t,i,r){for(const l of t.getMatchingVisibleMetas(r).reverse()){const f=a[l.index];if(i&&f>0||!i&&f<0)return l.index}return null}function eh(a,t){const{chart:i,_cachedMeta:r}=a,l=i._stacks||(i._stacks={}),{iScale:f,vScale:b,index:x}=r,k=f.axis,S=b.axis,M=eb(f,b,r),L=t.length;let R;for(let q=0;q<L;++q){const J=t[q],{[k]:ae,[S]:oe}=J,ue=J._stacks||(J._stacks={});R=ue[S]=nb(l,M,ae),R[x]=oe,R._top=Zd(R,b,!0,r.type),R._bottom=Zd(R,b,!1,r.type);const se=R._visualValues||(R._visualValues={});se[x]=oe}}function zl(a,t){const i=a.scales;return Object.keys(i).filter(r=>i[r].axis===t).shift()}function ib(a,t){return Ss(a,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function sb(a,t,i){return Ss(a,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function Qa(a,t){const i=a.controller.index,r=a.vScale&&a.vScale.axis;if(r){t=t||a._parsed;for(const l of t){const f=l._stacks;if(!f||f[r]===void 0||f[r][i]===void 0)return;delete f[r][i],f[r]._visualValues!==void 0&&f[r]._visualValues[i]!==void 0&&delete f[r]._visualValues[i]}}}const Hl=a=>a==="reset"||a==="none",th=(a,t)=>t?a:Object.assign({},a),ab=(a,t,i)=>a&&!t.hidden&&t._stacked&&{keys:cp(i,!0),values:null};class Li{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Nl(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Qa(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,r=this.getDataset(),l=(L,R,q,J)=>L==="x"?R:L==="r"?J:q,f=i.xAxisID=Nt(r.xAxisID,zl(t,"x")),b=i.yAxisID=Nt(r.yAxisID,zl(t,"y")),x=i.rAxisID=Nt(r.rAxisID,zl(t,"r")),k=i.indexAxis,S=i.iAxisID=l(k,f,b,x),M=i.vAxisID=l(k,b,f,x);i.xScale=this.getScaleForId(f),i.yScale=this.getScaleForId(b),i.rScale=this.getScaleForId(x),i.iScale=this.getScaleForId(S),i.vScale=this.getScaleForId(M)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Rd(this._data,this),t._stacked&&Qa(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(Vt(i)){const l=this._cachedMeta;this._data=Z0(i,l)}else if(r!==i){if(r){Rd(r,this);const l=this._cachedMeta;Qa(l),l._parsed=[]}i&&Object.isExtensible(i)&&Uv(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,r=this.getDataset();let l=!1;this._dataCheck();const f=i._stacked;i._stacked=Nl(i.vScale,i),i.stack!==r.stack&&(l=!0,Qa(i),i.stack=r.stack),this._resyncElements(t),(l||f!==i._stacked)&&(eh(this,i._parsed),i._stacked=Nl(i.vScale,i))}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:r,_data:l}=this,{iScale:f,_stacked:b}=r,x=f.axis;let k=t===0&&i===l.length?!0:r._sorted,S=t>0&&r._parsed[t-1],M,L,R;if(this._parsing===!1)r._parsed=l,r._sorted=!0,R=l;else{wn(l[t])?R=this.parseArrayData(r,l,t,i):Vt(l[t])?R=this.parseObjectData(r,l,t,i):R=this.parsePrimitiveData(r,l,t,i);const q=()=>L[x]===null||S&&L[x]<S[x];for(M=0;M<i;++M)r._parsed[M+t]=L=R[M],k&&(q()&&(k=!1),S=L);r._sorted=k}b&&eh(this,R)}parsePrimitiveData(t,i,r,l){const{iScale:f,vScale:b}=t,x=f.axis,k=b.axis,S=f.getLabels(),M=f===b,L=new Array(l);let R,q,J;for(R=0,q=l;R<q;++R)J=R+r,L[R]={[x]:M||f.parse(S[J],J),[k]:b.parse(i[J],J)};return L}parseArrayData(t,i,r,l){const{xScale:f,yScale:b}=t,x=new Array(l);let k,S,M,L;for(k=0,S=l;k<S;++k)M=k+r,L=i[M],x[k]={x:f.parse(L[0],M),y:b.parse(L[1],M)};return x}parseObjectData(t,i,r,l){const{xScale:f,yScale:b}=t,{xAxisKey:x="x",yAxisKey:k="y"}=this._parsing,S=new Array(l);let M,L,R,q;for(M=0,L=l;M<L;++M)R=M+r,q=i[R],S[M]={x:f.parse(ks(q,x),R),y:b.parse(ks(q,k),R)};return S}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){const l=this.chart,f=this._cachedMeta,b=i[t.axis],x={keys:cp(l,!0),values:i._stacks[t.axis]._visualValues};return Jd(x,b,f.index,{mode:r})}updateRangeFromParsed(t,i,r,l){const f=r[i.axis];let b=f===null?NaN:f;const x=l&&r._stacks[i.axis];l&&x&&(l.values=x,b=Jd(l,f,this._cachedMeta.index)),t.min=Math.min(t.min,b),t.max=Math.max(t.max,b)}getMinMax(t,i){const r=this._cachedMeta,l=r._parsed,f=r._sorted&&t===r.iScale,b=l.length,x=this._getOtherScale(t),k=ab(i,r,this.chart),S={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:M,max:L}=tb(x);let R,q;function J(){q=l[R];const ae=q[x.axis];return!En(q[t.axis])||M>ae||L<ae}for(R=0;R<b&&!(!J()&&(this.updateRangeFromParsed(S,t,q,k),f));++R);if(f){for(R=b-1;R>=0;--R)if(!J()){this.updateRangeFromParsed(S,t,q,k);break}}return S}getAllParsedValues(t){const i=this._cachedMeta._parsed,r=[];let l,f,b;for(l=0,f=i.length;l<f;++l)b=i[l][t.axis],En(b)&&r.push(b);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,r=i.iScale,l=i.vScale,f=this.getParsed(t);return{label:r?""+r.getLabelForValue(f[r.axis]):"",value:l?""+l.getLabelForValue(f[l.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=J0(Nt(this.options.clip,Q0(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this.chart,r=this._cachedMeta,l=r.data||[],f=i.chartArea,b=[],x=this._drawStart||0,k=this._drawCount||l.length-x,S=this.options.drawActiveElementsOnTop;let M;for(r.dataset&&r.dataset.draw(t,f,x,k),M=x;M<x+k;++M){const L=l[M];L.hidden||(L.active&&S?b.push(L):L.draw(t,f))}for(M=0;M<b.length;++M)b[M].draw(t,f)}getStyle(t,i){const r=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){const l=this.getDataset();let f;if(t>=0&&t<this._cachedMeta.data.length){const b=this._cachedMeta.data[t];f=b.$context||(b.$context=sb(this.getContext(),t,b)),f.parsed=this.getParsed(t),f.raw=l.data[t],f.index=f.dataIndex=t}else f=this.$context||(this.$context=ib(this.chart.getContext(),this.index)),f.dataset=l,f.index=f.datasetIndex=this.index;return f.active=!!i,f.mode=r,f}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){const l=i==="active",f=this._cachedDataOpts,b=t+"-"+i,x=f[b],k=this.enableOptionSharing&&yr(r);if(x)return th(x,k);const S=this.chart.config,M=S.datasetElementScopeKeys(this._type,t),L=l?[`${t}Hover`,"hover",t,""]:[t,""],R=S.getOptionScopes(this.getDataset(),M),q=Object.keys(Cn.elements[t]),J=()=>this.getContext(r,l,i),ae=S.resolveNamedOptions(R,q,J,L);return ae.$shared&&(ae.$shared=k,f[b]=Object.freeze(th(ae,k))),ae}_resolveAnimations(t,i,r){const l=this.chart,f=this._cachedDataOpts,b=`animation-${i}`,x=f[b];if(x)return x;let k;if(l.options.animation!==!1){const M=this.chart.config,L=M.datasetAnimationScopeKeys(this._type,i),R=M.getOptionScopes(this.getDataset(),L);k=M.createResolver(R,this.getContext(t,r,i))}const S=new up(l,k&&k.animations);return k&&k._cacheable&&(f[b]=Object.freeze(S)),S}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||Hl(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const r=this.resolveDataElementOptions(t,i),l=this._sharedOptions,f=this.getSharedOptions(r),b=this.includeOptions(i,f)||f!==l;return this.updateSharedOptions(f,i,r),{sharedOptions:f,includeOptions:b}}updateElement(t,i,r,l){Hl(l)?Object.assign(t,r):this._resolveAnimations(i,l).update(t,r)}updateSharedOptions(t,i,r){t&&!Hl(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,l){t.active=l;const f=this.getStyle(i,l);this._resolveAnimations(i,r,l).update(t,{options:!l&&this.getSharedOptions(f)||f})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,r=this._cachedMeta.data;for(const[x,k,S]of this._syncList)this[x](k,S);this._syncList=[];const l=r.length,f=i.length,b=Math.min(f,l);b&&this.parse(0,b),f>l?this._insertElements(l,f-l,t):f<l&&this._removeElements(f,l-f)}_insertElements(t,i,r=!0){const l=this._cachedMeta,f=l.data,b=t+i;let x;const k=S=>{for(S.length+=i,x=S.length-1;x>=b;x--)S[x]=S[x-i]};for(k(f),x=t;x<b;++x)f[x]=new this.dataElementType;this._parsing&&k(l._parsed),this.parse(t,i),r&&this.updateElements(f,t,i,"reset")}updateElements(t,i,r,l){}_removeElements(t,i){const r=this._cachedMeta;if(this._parsing){const l=r._parsed.splice(t,i);r._stacked&&Qa(r,l)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,r,l]=t;this[i](r,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Le(Li,"defaults",{}),Le(Li,"datasetElementType",null),Le(Li,"dataElementType",null);function rb(a,t){if(!a._cache.$bar){const i=a.getMatchingVisibleMetas(t);let r=[];for(let l=0,f=i.length;l<f;l++)r=r.concat(i[l].controller.getAllParsedValues(a));a._cache.$bar=Uf(r.sort((l,f)=>l-f))}return a._cache.$bar}function ob(a){const t=a.iScale,i=rb(t,a.type);let r=t._length,l,f,b,x;const k=()=>{b===32767||b===-32768||(yr(x)&&(r=Math.min(r,Math.abs(b-x)||r)),x=b)};for(l=0,f=i.length;l<f;++l)b=t.getPixelForValue(i[l]),k();for(x=void 0,l=0,f=t.ticks.length;l<f;++l)b=t.getPixelForTick(l),k();return r}function lb(a,t,i,r){const l=i.barThickness;let f,b;return Wt(l)?(f=t.min*i.categoryPercentage,b=i.barPercentage):(f=l*r,b=1),{chunk:f/r,ratio:b,start:t.pixels[a]-f/2}}function ub(a,t,i,r){const l=t.pixels,f=l[a];let b=a>0?l[a-1]:null,x=a<l.length-1?l[a+1]:null;const k=i.categoryPercentage;b===null&&(b=f-(x===null?t.end-t.start:x-f)),x===null&&(x=f+f-b);const S=f-(f-Math.min(b,x))/2*k;return{chunk:Math.abs(x-b)/2*k/r,ratio:i.barPercentage,start:S}}function cb(a,t,i,r){const l=i.parse(a[0],r),f=i.parse(a[1],r),b=Math.min(l,f),x=Math.max(l,f);let k=b,S=x;Math.abs(b)>Math.abs(x)&&(k=x,S=b),t[i.axis]=S,t._custom={barStart:k,barEnd:S,start:l,end:f,min:b,max:x}}function dp(a,t,i,r){return wn(a)?cb(a,t,i,r):t[i.axis]=i.parse(a,r),t}function nh(a,t,i,r){const l=a.iScale,f=a.vScale,b=l.getLabels(),x=l===f,k=[];let S,M,L,R;for(S=i,M=i+r;S<M;++S)R=t[S],L={},L[l.axis]=x||l.parse(b[S],S),k.push(dp(R,L,f,S));return k}function Wl(a){return a&&a.barStart!==void 0&&a.barEnd!==void 0}function db(a,t,i){return a!==0?Ui(a):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}function hb(a){let t,i,r,l,f;return a.horizontal?(t=a.base>a.x,i="left",r="right"):(t=a.base<a.y,i="bottom",r="top"),t?(l="end",f="start"):(l="start",f="end"),{start:i,end:r,reverse:t,top:l,bottom:f}}function fb(a,t,i,r){let l=t.borderSkipped;const f={};if(!l){a.borderSkipped=f;return}if(l===!0){a.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:b,end:x,reverse:k,top:S,bottom:M}=hb(a);l==="middle"&&i&&(a.enableBorderRadius=!0,(i._top||0)===r?l=S:(i._bottom||0)===r?l=M:(f[ih(M,b,x,k)]=!0,l=S)),f[ih(l,b,x,k)]=!0,a.borderSkipped=f}function ih(a,t,i,r){return r?(a=pb(a,t,i),a=sh(a,i,t)):a=sh(a,t,i),a}function pb(a,t,i){return a===t?i:a===i?t:a}function sh(a,t,i){return a==="start"?t:a==="end"?i:a}function mb(a,{inflateAmount:t},i){a.inflateAmount=t==="auto"?i===1?.33:0:t}class bo extends Li{parsePrimitiveData(t,i,r,l){return nh(t,i,r,l)}parseArrayData(t,i,r,l){return nh(t,i,r,l)}parseObjectData(t,i,r,l){const{iScale:f,vScale:b}=t,{xAxisKey:x="x",yAxisKey:k="y"}=this._parsing,S=f.axis==="x"?x:k,M=b.axis==="x"?x:k,L=[];let R,q,J,ae;for(R=r,q=r+l;R<q;++R)ae=i[R],J={},J[f.axis]=f.parse(ks(ae,S),R),L.push(dp(ks(ae,M),J,b,R));return L}updateRangeFromParsed(t,i,r,l){super.updateRangeFromParsed(t,i,r,l);const f=r._custom;f&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,f.min),t.max=Math.max(t.max,f.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:r,vScale:l}=i,f=this.getParsed(t),b=f._custom,x=Wl(b)?"["+b.start+", "+b.end+"]":""+l.getLabelForValue(f[l.axis]);return{label:""+r.getLabelForValue(f[r.axis]),value:x}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,l){const f=l==="reset",{index:b,_cachedMeta:{vScale:x}}=this,k=x.getBasePixel(),S=x.isHorizontal(),M=this._getRuler(),{sharedOptions:L,includeOptions:R}=this._getSharedOptions(i,l);for(let q=i;q<i+r;q++){const J=this.getParsed(q),ae=f||Wt(J[x.axis])?{base:k,head:k}:this._calculateBarValuePixels(q),oe=this._calculateBarIndexPixels(q,M),ue=(J._stacks||{})[x.axis],se={horizontal:S,base:ae.base,enableBorderRadius:!ue||Wl(J._custom)||b===ue._top||b===ue._bottom,x:S?ae.head:oe.center,y:S?oe.center:ae.head,height:S?oe.size:Math.abs(ae.size),width:S?Math.abs(ae.size):oe.size};R&&(se.options=L||this.resolveDataElementOptions(q,t[q].active?"active":l));const pe=se.options||t[q].options;fb(se,pe,ue,b),mb(se,pe,M.ratio),this.updateElement(t[q],q,se,l)}}_getStacks(t,i){const{iScale:r}=this._cachedMeta,l=r.getMatchingVisibleMetas(this._type).filter(M=>M.controller.options.grouped),f=r.options.stacked,b=[],x=this._cachedMeta.controller.getParsed(i),k=x&&x[r.axis],S=M=>{const L=M._parsed.find(q=>q[r.axis]===k),R=L&&L[M.vScale.axis];if(Wt(R)||isNaN(R))return!0};for(const M of l)if(!(i!==void 0&&S(M))&&((f===!1||b.indexOf(M.stack)===-1||f===void 0&&M.stack===void 0)&&b.push(M.stack),M.index===t))break;return b.length||b.push(void 0),b}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){const l=this._getStacks(t,r),f=i!==void 0?l.indexOf(i):-1;return f===-1?l.length-1:f}_getRuler(){const t=this.options,i=this._cachedMeta,r=i.iScale,l=[];let f,b;for(f=0,b=i.data.length;f<b;++f)l.push(r.getPixelForValue(this.getParsed(f)[r.axis],f));const x=t.barThickness;return{min:x||ob(i),pixels:l,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:x?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:r,index:l},options:{base:f,minBarLength:b}}=this,x=f||0,k=this.getParsed(t),S=k._custom,M=Wl(S);let L=k[i.axis],R=0,q=r?this.applyStack(i,k,r):L,J,ae;q!==L&&(R=q-L,q=L),M&&(L=S.barStart,q=S.barEnd-S.barStart,L!==0&&Ui(L)!==Ui(S.barEnd)&&(R=0),R+=L);const oe=!Wt(f)&&!M?f:R;let ue=i.getPixelForValue(oe);if(this.chart.getDataVisibility(t)?J=i.getPixelForValue(R+q):J=ue,ae=J-ue,Math.abs(ae)<b){ae=db(ae,i,x)*b,L===x&&(ue-=ae/2);const se=i.getPixelForDecimal(0),pe=i.getPixelForDecimal(1),te=Math.min(se,pe),re=Math.max(se,pe);ue=Math.max(Math.min(ue,re),te),J=ue+ae,r&&!M&&(k._stacks[i.axis]._visualValues[l]=i.getValueForPixel(J)-i.getValueForPixel(ue))}if(ue===i.getPixelForValue(x)){const se=Ui(ae)*i.getLineWidthForValue(x)/2;ue+=se,ae-=se}return{size:ae,base:ue,head:J,center:J+ae/2}}_calculateBarIndexPixels(t,i){const r=i.scale,l=this.options,f=l.skipNull,b=Nt(l.maxBarThickness,1/0);let x,k;if(i.grouped){const S=f?this._getStackCount(t):i.stackCount,M=l.barThickness==="flex"?ub(t,i,l,S):lb(t,i,l,S),L=this._getStackIndex(this.index,this._cachedMeta.stack,f?t:void 0);x=M.start+M.chunk*L+M.chunk/2,k=Math.min(b,M.chunk*M.ratio)}else x=r.getPixelForValue(this.getParsed(t)[r.axis],t),k=Math.min(b,i.min*i.ratio);return{base:x-k/2,head:x+k/2,center:x,size:k}}draw(){const t=this._cachedMeta,i=t.vScale,r=t.data,l=r.length;let f=0;for(;f<l;++f)this.getParsed(f)[i.axis]!==null&&!r[f].hidden&&r[f].draw(this._ctx)}}Le(bo,"id","bar"),Le(bo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Le(bo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class yo extends Li{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,l){const f=super.parsePrimitiveData(t,i,r,l);for(let b=0;b<f.length;b++)f[b]._custom=this.resolveDataElementOptions(b+r).radius;return f}parseArrayData(t,i,r,l){const f=super.parseArrayData(t,i,r,l);for(let b=0;b<f.length;b++){const x=i[r+b];f[b]._custom=Nt(x[2],this.resolveDataElementOptions(b+r).radius)}return f}parseObjectData(t,i,r,l){const f=super.parseObjectData(t,i,r,l);for(let b=0;b<f.length;b++){const x=i[r+b];f[b]._custom=Nt(x&&x.r&&+x.r,this.resolveDataElementOptions(b+r).radius)}return f}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:l,yScale:f}=i,b=this.getParsed(t),x=l.getLabelForValue(b.x),k=f.getLabelForValue(b.y),S=b._custom;return{label:r[t]||"",value:"("+x+", "+k+(S?", "+S:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,l){const f=l==="reset",{iScale:b,vScale:x}=this._cachedMeta,{sharedOptions:k,includeOptions:S}=this._getSharedOptions(i,l),M=b.axis,L=x.axis;for(let R=i;R<i+r;R++){const q=t[R],J=!f&&this.getParsed(R),ae={},oe=ae[M]=f?b.getPixelForDecimal(.5):b.getPixelForValue(J[M]),ue=ae[L]=f?x.getBasePixel():x.getPixelForValue(J[L]);ae.skip=isNaN(oe)||isNaN(ue),S&&(ae.options=k||this.resolveDataElementOptions(R,q.active?"active":l),f&&(ae.options.radius=0)),this.updateElement(q,R,ae,l)}}resolveDataElementOptions(t,i){const r=this.getParsed(t);let l=super.resolveDataElementOptions(t,i);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const f=l.radius;return i!=="active"&&(l.radius=0),l.radius+=Nt(r&&r._custom,f),l}}Le(yo,"id","bubble"),Le(yo,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Le(yo,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function gb(a,t,i){let r=1,l=1,f=0,b=0;if(t<mn){const x=a,k=x+t,S=Math.cos(x),M=Math.sin(x),L=Math.cos(k),R=Math.sin(k),q=(pe,te,re)=>wr(pe,x,k,!0)?1:Math.max(te,te*i,re,re*i),J=(pe,te,re)=>wr(pe,x,k,!0)?-1:Math.min(te,te*i,re,re*i),ae=q(0,S,L),oe=q(Fn,M,R),ue=J(gn,S,L),se=J(gn+Fn,M,R);r=(ae-ue)/2,l=(oe-se)/2,f=-(ae+ue)/2,b=-(oe+se)/2}return{ratioX:r,ratioY:l,offsetX:f,offsetY:b}}class js extends Li{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const r=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=r;else{let f=k=>+r[k];if(Vt(r[t])){const{key:k="value"}=this._parsing;f=S=>+ks(r[S],k)}let b,x;for(b=t,x=t+i;b<x;++b)l._parsed[b]=f(b)}}_getRotation(){return Fi(this.options.rotation-90)}_getCircumference(){return Fi(this.options.circumference)}_getRotationExtents(){let t=mn,i=-mn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const l=this.chart.getDatasetMeta(r).controller,f=l._getRotation(),b=l._getCircumference();t=Math.min(t,f),i=Math.max(i,f+b)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:r}=i,l=this._cachedMeta,f=l.data,b=this.getMaxBorderWidth()+this.getMaxOffset(f)+this.options.spacing,x=Math.max((Math.min(r.width,r.height)-b)/2,0),k=Math.min(Ev(this.options.cutout,x),1),S=this._getRingWeight(this.index),{circumference:M,rotation:L}=this._getRotationExtents(),{ratioX:R,ratioY:q,offsetX:J,offsetY:ae}=gb(L,M,k),oe=(r.width-b)/R,ue=(r.height-b)/q,se=Math.max(Math.min(oe,ue)/2,0),pe=Nf(this.options.radius,se),te=Math.max(pe*k,0),re=(pe-te)/this._getVisibleDatasetWeightTotal();this.offsetX=J*pe,this.offsetY=ae*pe,l.total=this.calculateTotal(),this.outerRadius=pe-re*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-re*S,0),this.updateElements(f,0,f.length,t)}_circumference(t,i){const r=this.options,l=this._cachedMeta,f=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*f/mn)}updateElements(t,i,r,l){const f=l==="reset",b=this.chart,x=b.chartArea,S=b.options.animation,M=(x.left+x.right)/2,L=(x.top+x.bottom)/2,R=f&&S.animateScale,q=R?0:this.innerRadius,J=R?0:this.outerRadius,{sharedOptions:ae,includeOptions:oe}=this._getSharedOptions(i,l);let ue=this._getRotation(),se;for(se=0;se<i;++se)ue+=this._circumference(se,f);for(se=i;se<i+r;++se){const pe=this._circumference(se,f),te=t[se],re={x:M+this.offsetX,y:L+this.offsetY,startAngle:ue,endAngle:ue+pe,circumference:pe,outerRadius:J,innerRadius:q};oe&&(re.options=ae||this.resolveDataElementOptions(se,te.active?"active":l)),ue+=pe,this.updateElement(te,se,re,l)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let r=0,l;for(l=0;l<i.length;l++){const f=t._parsed[l];f!==null&&!isNaN(f)&&this.chart.getDataVisibility(l)&&!i[l].hidden&&(r+=Math.abs(f))}return r}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?mn*(Math.abs(t)/i):0}getLabelAndValue(t){const i=this._cachedMeta,r=this.chart,l=r.data.labels||[],f=Tr(i._parsed[t],r.options.locale);return{label:l[t]||"",value:f}}getMaxBorderWidth(t){let i=0;const r=this.chart;let l,f,b,x,k;if(!t){for(l=0,f=r.data.datasets.length;l<f;++l)if(r.isDatasetVisible(l)){b=r.getDatasetMeta(l),t=b.data,x=b.controller;break}}if(!t)return 0;for(l=0,f=t.length;l<f;++l)k=x.resolveDataElementOptions(l),k.borderAlign!=="inner"&&(i=Math.max(i,k.borderWidth||0,k.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,l=t.length;r<l;++r){const f=this.resolveDataElementOptions(r);i=Math.max(i,f.offset||0,f.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(Nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Le(js,"id","doughnut"),Le(js,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Le(js,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Le(js,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:l}}=t.legend.options;return i.labels.map((f,b)=>{const k=t.getDatasetMeta(0).controller.getStyle(b);return{text:f,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:l,lineWidth:k.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(b),index:b}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}});class wo extends Li{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:r,data:l=[],_dataset:f}=i,b=this.chart._animationsDisabled;let{start:x,count:k}=$f(i,l,b);this._drawStart=x,this._drawCount=k,Yf(i)&&(x=0,k=l.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!f._decimated,r.points=l;const S=this.resolveDatasetElementOptions(t);this.options.showLine||(S.borderWidth=0),S.segment=this.options.segment,this.updateElement(r,void 0,{animated:!b,options:S},t),this.updateElements(l,x,k,t)}updateElements(t,i,r,l){const f=l==="reset",{iScale:b,vScale:x,_stacked:k,_dataset:S}=this._cachedMeta,{sharedOptions:M,includeOptions:L}=this._getSharedOptions(i,l),R=b.axis,q=x.axis,{spanGaps:J,segment:ae}=this.options,oe=xa(J)?J:Number.POSITIVE_INFINITY,ue=this.chart._animationsDisabled||f||l==="none",se=i+r,pe=t.length;let te=i>0&&this.getParsed(i-1);for(let re=0;re<pe;++re){const Oe=t[re],De=ue?Oe:{};if(re<i||re>=se){De.skip=!0;continue}const Te=this.getParsed(re),Re=Wt(Te[q]),at=De[R]=b.getPixelForValue(Te[R],re),ze=De[q]=f||Re?x.getBasePixel():x.getPixelForValue(k?this.applyStack(x,Te,k):Te[q],re);De.skip=isNaN(at)||isNaN(ze)||Re,De.stop=re>0&&Math.abs(Te[R]-te[R])>oe,ae&&(De.parsed=Te,De.raw=S.data[re]),L&&(De.options=M||this.resolveDataElementOptions(re,Oe.active?"active":l)),ue||this.updateElement(Oe,re,De,l),te=Te}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,l=t.data||[];if(!l.length)return r;const f=l[0].size(this.resolveDataElementOptions(0)),b=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(r,f,b)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Le(wo,"id","line"),Le(wo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Le(wo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class mr extends Li{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this._cachedMeta,r=this.chart,l=r.data.labels||[],f=Tr(i._parsed[t].r,r.options.locale);return{label:l[t]||"",value:f}}parseObjectData(t,i,r,l){return tp.bind(this)(t,i,r,l)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,l)=>{const f=this.getParsed(l).r;!isNaN(f)&&this.chart.getDataVisibility(l)&&(f<i.min&&(i.min=f),f>i.max&&(i.max=f))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,r=t.options,l=Math.min(i.right-i.left,i.bottom-i.top),f=Math.max(l/2,0),b=Math.max(r.cutoutPercentage?f/100*r.cutoutPercentage:1,0),x=(f-b)/t.getVisibleDatasetCount();this.outerRadius=f-x*this.index,this.innerRadius=this.outerRadius-x}updateElements(t,i,r,l){const f=l==="reset",b=this.chart,k=b.options.animation,S=this._cachedMeta.rScale,M=S.xCenter,L=S.yCenter,R=S.getIndexAngle(0)-.5*gn;let q=R,J;const ae=360/this.countVisibleElements();for(J=0;J<i;++J)q+=this._computeAngle(J,l,ae);for(J=i;J<i+r;J++){const oe=t[J];let ue=q,se=q+this._computeAngle(J,l,ae),pe=b.getDataVisibility(J)?S.getDistanceFromCenterForValue(this.getParsed(J).r):0;q=se,f&&(k.animateScale&&(pe=0),k.animateRotate&&(ue=se=R));const te={x:M,y:L,innerRadius:0,outerRadius:pe,startAngle:ue,endAngle:se,options:this.resolveDataElementOptions(J,oe.active?"active":l)};this.updateElement(oe,J,te,l)}}countVisibleElements(){const t=this._cachedMeta;let i=0;return t.data.forEach((r,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?Fi(this.resolveDataElementOptions(t,i).angle||r):0}}Le(mr,"id","polarArea"),Le(mr,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Le(mr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:l}}=t.legend.options;return i.labels.map((f,b)=>{const k=t.getDatasetMeta(0).controller.getStyle(b);return{text:f,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:l,lineWidth:k.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(b),index:b}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class su extends js{}Le(su,"id","pie"),Le(su,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Co extends Li{getLabelAndValue(t){const i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,l){return tp.bind(this)(t,i,r,l)}update(t){const i=this._cachedMeta,r=i.dataset,l=i.data||[],f=i.iScale.getLabels();if(r.points=l,t!=="resize"){const b=this.resolveDatasetElementOptions(t);this.options.showLine||(b.borderWidth=0);const x={_loop:!0,_fullLoop:f.length===l.length,options:b};this.updateElement(r,void 0,x,t)}this.updateElements(l,0,l.length,t)}updateElements(t,i,r,l){const f=this._cachedMeta.rScale,b=l==="reset";for(let x=i;x<i+r;x++){const k=t[x],S=this.resolveDataElementOptions(x,k.active?"active":l),M=f.getPointPositionForValue(x,this.getParsed(x).r),L=b?f.xCenter:M.x,R=b?f.yCenter:M.y,q={x:L,y:R,angle:M.angle,skip:isNaN(L)||isNaN(R),options:S};this.updateElement(k,x,q,l)}}}Le(Co,"id","radar"),Le(Co,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Le(Co,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class xo extends Li{getLabelAndValue(t){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:l,yScale:f}=i,b=this.getParsed(t),x=l.getLabelForValue(b.x),k=f.getLabelForValue(b.y);return{label:r[t]||"",value:"("+x+", "+k+")"}}update(t){const i=this._cachedMeta,{data:r=[]}=i,l=this.chart._animationsDisabled;let{start:f,count:b}=$f(i,r,l);if(this._drawStart=f,this._drawCount=b,Yf(i)&&(f=0,b=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:x,_dataset:k}=i;x._chart=this.chart,x._datasetIndex=this.index,x._decimated=!!k._decimated,x.points=r;const S=this.resolveDatasetElementOptions(t);S.segment=this.options.segment,this.updateElement(x,void 0,{animated:!l,options:S},t)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,f,b,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,r,l){const f=l==="reset",{iScale:b,vScale:x,_stacked:k,_dataset:S}=this._cachedMeta,M=this.resolveDataElementOptions(i,l),L=this.getSharedOptions(M),R=this.includeOptions(l,L),q=b.axis,J=x.axis,{spanGaps:ae,segment:oe}=this.options,ue=xa(ae)?ae:Number.POSITIVE_INFINITY,se=this.chart._animationsDisabled||f||l==="none";let pe=i>0&&this.getParsed(i-1);for(let te=i;te<i+r;++te){const re=t[te],Oe=this.getParsed(te),De=se?re:{},Te=Wt(Oe[J]),Re=De[q]=b.getPixelForValue(Oe[q],te),at=De[J]=f||Te?x.getBasePixel():x.getPixelForValue(k?this.applyStack(x,Oe,k):Oe[J],te);De.skip=isNaN(Re)||isNaN(at)||Te,De.stop=te>0&&Math.abs(Oe[q]-pe[q])>ue,oe&&(De.parsed=Oe,De.raw=S.data[te]),R&&(De.options=L||this.resolveDataElementOptions(te,re.active?"active":l)),se||this.updateElement(re,te,De,l),pe=Oe}this.updateSharedOptions(L,l,M)}getMaxOverflow(){const t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let x=0;for(let k=i.length-1;k>=0;--k)x=Math.max(x,i[k].size(this.resolveDataElementOptions(k))/2);return x>0&&x}const r=t.dataset,l=r.options&&r.options.borderWidth||0;if(!i.length)return l;const f=i[0].size(this.resolveDataElementOptions(0)),b=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(l,f,b)/2}}Le(xo,"id","scatter"),Le(xo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Le(xo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var vb=Object.freeze({__proto__:null,BarController:bo,BubbleController:yo,DoughnutController:js,LineController:wo,PieController:su,PolarAreaController:mr,RadarController:Co,ScatterController:xo});function zs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pu{constructor(t){Le(this,"options");this.options=t||{}}static override(t){Object.assign(Pu.prototype,t)}init(){}formats(){return zs()}parse(){return zs()}format(){return zs()}add(){return zs()}diff(){return zs()}startOf(){return zs()}endOf(){return zs()}}var hp={_date:Pu};function bb(a,t,i,r){const{controller:l,data:f,_sorted:b}=a,x=l._cachedMeta.iScale,k=a.dataset&&a.dataset.options?a.dataset.options.spanGaps:null;if(x&&t===x.axis&&t!=="r"&&b&&f.length){const S=x._reversePixels?Wv:is;if(r){if(l._sharedOptions){const M=f[0],L=typeof M.getRange=="function"&&M.getRange(t);if(L){const R=S(f,t,i-L),q=S(f,t,i+L);return{lo:R.lo,hi:q.hi}}}}else{const M=S(f,t,i);if(k){const{vScale:L}=l._cachedMeta,{_parsed:R}=a,q=R.slice(0,M.lo+1).reverse().findIndex(ae=>!Wt(ae[L.axis]));M.lo-=Math.max(0,q);const J=R.slice(M.hi).findIndex(ae=>!Wt(ae[L.axis]));M.hi+=Math.max(0,J)}return M}}return{lo:0,hi:f.length-1}}function Vo(a,t,i,r,l){const f=a.getSortedVisibleDatasetMetas(),b=i[t];for(let x=0,k=f.length;x<k;++x){const{index:S,data:M}=f[x],{lo:L,hi:R}=bb(f[x],t,b,l);for(let q=L;q<=R;++q){const J=M[q];J.skip||r(J,S,q)}}}function yb(a){const t=a.indexOf("x")!==-1,i=a.indexOf("y")!==-1;return function(r,l){const f=t?Math.abs(r.x-l.x):0,b=i?Math.abs(r.y-l.y):0;return Math.sqrt(Math.pow(f,2)+Math.pow(b,2))}}function Vl(a,t,i,r,l){const f=[];return!l&&!a.isPointInArea(t)||Vo(a,i,t,function(x,k,S){!l&&!ss(x,a.chartArea,0)||x.inRange(t.x,t.y,r)&&f.push({element:x,datasetIndex:k,index:S})},!0),f}function wb(a,t,i,r){let l=[];function f(b,x,k){const{startAngle:S,endAngle:M}=b.getProps(["startAngle","endAngle"],r),{angle:L}=Wf(b,{x:t.x,y:t.y});wr(L,S,M)&&l.push({element:b,datasetIndex:x,index:k})}return Vo(a,i,t,f),l}function Cb(a,t,i,r,l,f){let b=[];const x=yb(i);let k=Number.POSITIVE_INFINITY;function S(M,L,R){const q=M.inRange(t.x,t.y,l);if(r&&!q)return;const J=M.getCenterPoint(l);if(!(!!f||a.isPointInArea(J))&&!q)return;const oe=x(t,J);oe<k?(b=[{element:M,datasetIndex:L,index:R}],k=oe):oe===k&&b.push({element:M,datasetIndex:L,index:R})}return Vo(a,i,t,S),b}function Ul(a,t,i,r,l,f){return!f&&!a.isPointInArea(t)?[]:i==="r"&&!r?wb(a,t,i,l):Cb(a,t,i,r,l,f)}function ah(a,t,i,r,l){const f=[],b=i==="x"?"inXRange":"inYRange";let x=!1;return Vo(a,i,t,(k,S,M)=>{k[b]&&k[b](t[i],l)&&(f.push({element:k,datasetIndex:S,index:M}),x=x||k.inRange(t.x,t.y,l))}),r&&!x?[]:f}var xb={modes:{index(a,t,i,r){const l=Ws(t,a),f=i.axis||"x",b=i.includeInvisible||!1,x=i.intersect?Vl(a,l,f,r,b):Ul(a,l,f,!1,r,b),k=[];return x.length?(a.getSortedVisibleDatasetMetas().forEach(S=>{const M=x[0].index,L=S.data[M];L&&!L.skip&&k.push({element:L,datasetIndex:S.index,index:M})}),k):[]},dataset(a,t,i,r){const l=Ws(t,a),f=i.axis||"xy",b=i.includeInvisible||!1;let x=i.intersect?Vl(a,l,f,r,b):Ul(a,l,f,!1,r,b);if(x.length>0){const k=x[0].datasetIndex,S=a.getDatasetMeta(k).data;x=[];for(let M=0;M<S.length;++M)x.push({element:S[M],datasetIndex:k,index:M})}return x},point(a,t,i,r){const l=Ws(t,a),f=i.axis||"xy",b=i.includeInvisible||!1;return Vl(a,l,f,r,b)},nearest(a,t,i,r){const l=Ws(t,a),f=i.axis||"xy",b=i.includeInvisible||!1;return Ul(a,l,f,i.intersect,r,b)},x(a,t,i,r){const l=Ws(t,a);return ah(a,l,"x",i.intersect,r)},y(a,t,i,r){const l=Ws(t,a);return ah(a,l,"y",i.intersect,r)}}};const fp=["left","top","right","bottom"];function Ja(a,t){return a.filter(i=>i.pos===t)}function rh(a,t){return a.filter(i=>fp.indexOf(i.pos)===-1&&i.box.axis===t)}function Za(a,t){return a.sort((i,r)=>{const l=t?r:i,f=t?i:r;return l.weight===f.weight?l.index-f.index:l.weight-f.weight})}function kb(a){const t=[];let i,r,l,f,b,x;for(i=0,r=(a||[]).length;i<r;++i)l=a[i],{position:f,options:{stack:b,stackWeight:x=1}}=l,t.push({index:i,box:l,pos:f,horizontal:l.isHorizontal(),weight:l.weight,stack:b&&f+b,stackWeight:x});return t}function _b(a){const t={};for(const i of a){const{stack:r,pos:l,stackWeight:f}=i;if(!r||!fp.includes(l))continue;const b=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});b.count++,b.weight+=f}return t}function Sb(a,t){const i=_b(a),{vBoxMaxWidth:r,hBoxMaxHeight:l}=t;let f,b,x;for(f=0,b=a.length;f<b;++f){x=a[f];const{fullSize:k}=x.box,S=i[x.stack],M=S&&x.stackWeight/S.weight;x.horizontal?(x.width=M?M*r:k&&t.availableWidth,x.height=l):(x.width=r,x.height=M?M*l:k&&t.availableHeight)}return i}function Tb(a){const t=kb(a),i=Za(t.filter(S=>S.box.fullSize),!0),r=Za(Ja(t,"left"),!0),l=Za(Ja(t,"right")),f=Za(Ja(t,"top"),!0),b=Za(Ja(t,"bottom")),x=rh(t,"x"),k=rh(t,"y");return{fullSize:i,leftAndTop:r.concat(f),rightAndBottom:l.concat(k).concat(b).concat(x),chartArea:Ja(t,"chartArea"),vertical:r.concat(l).concat(k),horizontal:f.concat(b).concat(x)}}function oh(a,t,i,r){return Math.max(a[i],t[i])+Math.max(a[r],t[r])}function pp(a,t){a.top=Math.max(a.top,t.top),a.left=Math.max(a.left,t.left),a.bottom=Math.max(a.bottom,t.bottom),a.right=Math.max(a.right,t.right)}function Db(a,t,i,r){const{pos:l,box:f}=i,b=a.maxPadding;if(!Vt(l)){i.size&&(a[l]-=i.size);const L=r[i.stack]||{size:0,count:1};L.size=Math.max(L.size,i.horizontal?f.height:f.width),i.size=L.size/L.count,a[l]+=i.size}f.getPadding&&pp(b,f.getPadding());const x=Math.max(0,t.outerWidth-oh(b,a,"left","right")),k=Math.max(0,t.outerHeight-oh(b,a,"top","bottom")),S=x!==a.w,M=k!==a.h;return a.w=x,a.h=k,i.horizontal?{same:S,other:M}:{same:M,other:S}}function Eb(a){const t=a.maxPadding;function i(r){const l=Math.max(t[r]-a[r],0);return a[r]+=l,l}a.y+=i("top"),a.x+=i("left"),i("right"),i("bottom")}function Ab(a,t){const i=t.maxPadding;function r(l){const f={left:0,top:0,right:0,bottom:0};return l.forEach(b=>{f[b]=Math.max(t[b],i[b])}),f}return r(a?["left","right"]:["top","bottom"])}function or(a,t,i,r){const l=[];let f,b,x,k,S,M;for(f=0,b=a.length,S=0;f<b;++f){x=a[f],k=x.box,k.update(x.width||t.w,x.height||t.h,Ab(x.horizontal,t));const{same:L,other:R}=Db(t,i,x,r);S|=L&&l.length,M=M||R,k.fullSize||l.push(x)}return S&&or(l,t,i,r)||M}function lo(a,t,i,r,l){a.top=i,a.left=t,a.right=t+r,a.bottom=i+l,a.width=r,a.height=l}function lh(a,t,i,r){const l=i.padding;let{x:f,y:b}=t;for(const x of a){const k=x.box,S=r[x.stack]||{placed:0,weight:1},M=x.stackWeight/S.weight||1;if(x.horizontal){const L=t.w*M,R=S.size||k.height;yr(S.start)&&(b=S.start),k.fullSize?lo(k,l.left,b,i.outerWidth-l.right-l.left,R):lo(k,t.left+S.placed,b,L,R),S.start=b,S.placed+=L,b=k.bottom}else{const L=t.h*M,R=S.size||k.width;yr(S.start)&&(f=S.start),k.fullSize?lo(k,f,l.top,R,i.outerHeight-l.bottom-l.top):lo(k,f,t.top+S.placed,R,L),S.start=f,S.placed+=L,f=k.right}}t.x=f,t.y=b}var ri={addBox(a,t){a.boxes||(a.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},a.boxes.push(t)},removeBox(a,t){const i=a.boxes?a.boxes.indexOf(t):-1;i!==-1&&a.boxes.splice(i,1)},configure(a,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(a,t,i,r){if(!a)return;const l=oi(a.options.layout.padding),f=Math.max(t-l.width,0),b=Math.max(i-l.height,0),x=Tb(a.boxes),k=x.vertical,S=x.horizontal;rn(a.boxes,ae=>{typeof ae.beforeLayout=="function"&&ae.beforeLayout()});const M=k.reduce((ae,oe)=>oe.box.options&&oe.box.options.display===!1?ae:ae+1,0)||1,L=Object.freeze({outerWidth:t,outerHeight:i,padding:l,availableWidth:f,availableHeight:b,vBoxMaxWidth:f/2/M,hBoxMaxHeight:b/2}),R=Object.assign({},l);pp(R,oi(r));const q=Object.assign({maxPadding:R,w:f,h:b,x:l.left,y:l.top},l),J=Sb(k.concat(S),L);or(x.fullSize,q,L,J),or(k,q,L,J),or(S,q,L,J)&&or(k,q,L,J),Eb(q),lh(x.leftAndTop,q,L,J),q.x+=q.w,q.y+=q.h,lh(x.rightAndBottom,q,L,J),a.chartArea={left:q.left,top:q.top,right:q.left+q.w,bottom:q.top+q.h,height:q.h,width:q.w},rn(x.chartArea,ae=>{const oe=ae.box;Object.assign(oe,a.chartArea),oe.update(q.w,q.h,{left:0,top:0,right:0,bottom:0})})}};class mp{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,r){}removeEventListener(t,i,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,r,l){return i=Math.max(0,i||t.width),r=r||t.height,{width:i,height:Math.max(0,l?Math.floor(i/l):r)}}isAttached(t){return!0}updateConfig(t){}}class Mb extends mp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ko="$chartjs",Ib={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uh=a=>a===null||a==="";function Ob(a,t){const i=a.style,r=a.getAttribute("height"),l=a.getAttribute("width");if(a[ko]={initial:{height:r,width:l,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",uh(l)){const f=$d(a,"width");f!==void 0&&(a.width=f)}if(uh(r))if(a.style.height==="")a.height=a.width/(t||2);else{const f=$d(a,"height");f!==void 0&&(a.height=f)}return a}const gp=F0?{passive:!0}:!1;function Pb(a,t,i){a&&a.addEventListener(t,i,gp)}function Fb(a,t,i){a&&a.canvas&&a.canvas.removeEventListener(t,i,gp)}function Lb(a,t){const i=Ib[a.type]||a.type,{x:r,y:l}=Ws(a,t);return{type:i,chart:t,native:a,x:r!==void 0?r:null,y:l!==void 0?l:null}}function Po(a,t){for(const i of a)if(i===t||i.contains(t))return!0}function Bb(a,t,i){const r=a.canvas,l=new MutationObserver(f=>{let b=!1;for(const x of f)b=b||Po(x.addedNodes,r),b=b&&!Po(x.removedNodes,r);b&&i()});return l.observe(document,{childList:!0,subtree:!0}),l}function Rb(a,t,i){const r=a.canvas,l=new MutationObserver(f=>{let b=!1;for(const x of f)b=b||Po(x.removedNodes,r),b=b&&!Po(x.addedNodes,r);b&&i()});return l.observe(document,{childList:!0,subtree:!0}),l}const xr=new Map;let ch=0;function vp(){const a=window.devicePixelRatio;a!==ch&&(ch=a,xr.forEach((t,i)=>{i.currentDevicePixelRatio!==a&&t()}))}function Nb(a,t){xr.size||window.addEventListener("resize",vp),xr.set(a,t)}function zb(a){xr.delete(a),xr.size||window.removeEventListener("resize",vp)}function Hb(a,t,i){const r=a.canvas,l=r&&Ou(r);if(!l)return;const f=qf((x,k)=>{const S=l.clientWidth;i(x,k),S<l.clientWidth&&i()},window),b=new ResizeObserver(x=>{const k=x[0],S=k.contentRect.width,M=k.contentRect.height;S===0&&M===0||f(S,M)});return b.observe(l),Nb(a,f),b}function jl(a,t,i){i&&i.disconnect(),t==="resize"&&zb(a)}function Wb(a,t,i){const r=a.canvas,l=qf(f=>{a.ctx!==null&&i(Lb(f,a))},a);return Pb(r,t,l),l}class Vb extends mp{acquireContext(t,i){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(Ob(t,i),r):null}releaseContext(t){const i=t.canvas;if(!i[ko])return!1;const r=i[ko].initial;["height","width"].forEach(f=>{const b=r[f];Wt(b)?i.removeAttribute(f):i.setAttribute(f,b)});const l=r.style||{};return Object.keys(l).forEach(f=>{i.style[f]=l[f]}),i.width=i.width,delete i[ko],!0}addEventListener(t,i,r){this.removeEventListener(t,i);const l=t.$proxies||(t.$proxies={}),b={attach:Bb,detach:Rb,resize:Hb}[i]||Wb;l[i]=b(t,i,r)}removeEventListener(t,i){const r=t.$proxies||(t.$proxies={}),l=r[i];if(!l)return;({attach:jl,detach:jl,resize:jl}[i]||Fb)(t,i,l),r[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,r,l){return P0(t,i,r,l)}isAttached(t){const i=t&&Ou(t);return!!(i&&i.isConnected)}}function Ub(a){return!Iu()||typeof OffscreenCanvas<"u"&&a instanceof OffscreenCanvas?Mb:Vb}var vo;let as=(vo=class{constructor(){Le(this,"x");Le(this,"y");Le(this,"active",!1);Le(this,"options");Le(this,"$animations")}tooltipPosition(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}hasValue(){return xa(this.x)&&xa(this.y)}getProps(t,i){const r=this.$animations;if(!i||!r)return this;const l={};return t.forEach(f=>{l[f]=r[f]&&r[f].active()?r[f]._to:this[f]}),l}},Le(vo,"defaults",{}),Le(vo,"defaultRoutes"),vo);function jb(a,t){const i=a.options.ticks,r=qb(a),l=Math.min(i.maxTicksLimit||r,r),f=i.major.enabled?Yb(t):[],b=f.length,x=f[0],k=f[b-1],S=[];if(b>l)return Gb(t,S,f,b/l),S;const M=$b(f,t,l);if(b>0){let L,R;const q=b>1?Math.round((k-x)/(b-1)):null;for(uo(t,S,M,Wt(q)?0:x-q,x),L=0,R=b-1;L<R;L++)uo(t,S,M,f[L],f[L+1]);return uo(t,S,M,k,Wt(q)?t.length:k+q),S}return uo(t,S,M),S}function qb(a){const t=a.options.offset,i=a._tickSize(),r=a._length/i+(t?0:1),l=a._maxLength/i;return Math.floor(Math.min(r,l))}function $b(a,t,i){const r=Xb(a),l=t.length/i;if(!r)return Math.max(l,1);const f=Bv(r);for(let b=0,x=f.length-1;b<x;b++){const k=f[b];if(k>l)return k}return Math.max(l,1)}function Yb(a){const t=[];let i,r;for(i=0,r=a.length;i<r;i++)a[i].major&&t.push(i);return t}function Gb(a,t,i,r){let l=0,f=i[0],b;for(r=Math.ceil(r),b=0;b<a.length;b++)b===f&&(t.push(a[b]),l++,f=i[l*r])}function uo(a,t,i,r,l){const f=Nt(r,0),b=Math.min(Nt(l,a.length),a.length);let x=0,k,S,M;for(i=Math.ceil(i),l&&(k=l-r,i=k/Math.floor(k/i)),M=f;M<0;)x++,M=Math.round(f+x*i);for(S=Math.max(f,0);S<b;S++)S===M&&(t.push(a[S]),x++,M=Math.round(f+x*i))}function Xb(a){const t=a.length;let i,r;if(t<2)return!1;for(r=a[0],i=1;i<t;++i)if(a[i]-a[i-1]!==r)return!1;return r}const Kb=a=>a==="left"?"right":a==="right"?"left":a,dh=(a,t,i)=>t==="top"||t==="left"?a[t]+i:a[t]-i,hh=(a,t)=>Math.min(t||a,a);function fh(a,t){const i=[],r=a.length/t,l=a.length;let f=0;for(;f<l;f+=r)i.push(a[Math.floor(f)]);return i}function Qb(a,t,i){const r=a.ticks.length,l=Math.min(t,r-1),f=a._startPixel,b=a._endPixel,x=1e-6;let k=a.getPixelForTick(l),S;if(!(i&&(r===1?S=Math.max(k-f,b-k):t===0?S=(a.getPixelForTick(1)-k)/2:S=(k-a.getPixelForTick(l-1))/2,k+=l<t?S:-S,k<f-x||k>b+x)))return k}function Jb(a,t){rn(a,i=>{const r=i.gc,l=r.length/2;let f;if(l>t){for(f=0;f<l;++f)delete i.data[r[f]];r.splice(0,l)}})}function er(a){return a.drawTicks?a.tickLength:0}function ph(a,t){if(!a.display)return 0;const i=Yn(a.font,t),r=oi(a.padding);return(wn(a.text)?a.text.length:1)*i.lineHeight+r.height}function Zb(a,t){return Ss(a,{scale:t,type:"scale"})}function ey(a,t,i){return Ss(a,{tick:i,index:t,type:"tick"})}function ty(a,t,i){let r=Su(a);return(i&&t!=="right"||!i&&t==="right")&&(r=Kb(r)),r}function ny(a,t,i,r){const{top:l,left:f,bottom:b,right:x,chart:k}=a,{chartArea:S,scales:M}=k;let L=0,R,q,J;const ae=b-l,oe=x-f;if(a.isHorizontal()){if(q=ai(r,f,x),Vt(i)){const ue=Object.keys(i)[0],se=i[ue];J=M[ue].getPixelForValue(se)+ae-t}else i==="center"?J=(S.bottom+S.top)/2+ae-t:J=dh(a,i,t);R=x-f}else{if(Vt(i)){const ue=Object.keys(i)[0],se=i[ue];q=M[ue].getPixelForValue(se)-oe+t}else i==="center"?q=(S.left+S.right)/2-oe+t:q=dh(a,i,t);J=ai(r,b,l),L=i==="left"?-Fn:Fn}return{titleX:q,titleY:J,maxWidth:R,rotation:L}}class Xs extends as{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:r,_suggestedMax:l}=this;return t=Ti(t,Number.POSITIVE_INFINITY),i=Ti(i,Number.NEGATIVE_INFINITY),r=Ti(r,Number.POSITIVE_INFINITY),l=Ti(l,Number.NEGATIVE_INFINITY),{min:Ti(t,r),max:Ti(i,l),minDefined:En(t),maxDefined:En(i)}}getMinMax(t){let{min:i,max:r,minDefined:l,maxDefined:f}=this.getUserBounds(),b;if(l&&f)return{min:i,max:r};const x=this.getMatchingVisibleMetas();for(let k=0,S=x.length;k<S;++k)b=x[k].controller.getMinMax(this,t),l||(i=Math.min(i,b.min)),f||(r=Math.max(r,b.max));return i=f&&i>r?r:i,r=l&&i>r?i:r,{min:Ti(i,Ti(r,i)),max:Ti(r,Ti(i,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fn(this.options.beforeUpdate,[this])}update(t,i,r){const{beginAtZero:l,grace:f,ticks:b}=this.options,x=b.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=d0(this,f,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const k=x<this.ticks.length;this._convertTicksToLabels(k?fh(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),b.display&&(b.autoSkip||b.source==="auto")&&(this.ticks=jb(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),k&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,r;this.isHorizontal()?(i=this.left,r=this.right):(i=this.top,r=this.bottom,t=!t),this._startPixel=i,this._endPixel=r,this._reversePixels=t,this._length=r-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fn(this.options.afterUpdate,[this])}beforeSetDimensions(){fn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),fn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let r,l,f;for(r=0,l=t.length;r<l;r++)f=t[r],f.label=fn(i.callback,[f.value,r,t],this)}afterTickToLabelConversion(){fn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,r=hh(this.ticks.length,t.ticks.maxTicksLimit),l=i.minRotation||0,f=i.maxRotation;let b=l,x,k,S;if(!this._isVisible()||!i.display||l>=f||r<=1||!this.isHorizontal()){this.labelRotation=l;return}const M=this._getLabelSizes(),L=M.widest.width,R=M.highest.height,q=Xn(this.chart.width-L,0,this.maxWidth);x=t.offset?this.maxWidth/r:q/(r-1),L+6>x&&(x=q/(r-(t.offset?.5:1)),k=this.maxHeight-er(t.grid)-i.padding-ph(t.title,this.chart.options.font),S=Math.sqrt(L*L+R*R),b=ku(Math.min(Math.asin(Xn((M.highest.height+6)/x,-1,1)),Math.asin(Xn(k/S,-1,1))-Math.asin(Xn(R/S,-1,1)))),b=Math.max(l,Math.min(f,b))),this.labelRotation=b}afterCalculateLabelRotation(){fn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:r,title:l,grid:f}}=this,b=this._isVisible(),x=this.isHorizontal();if(b){const k=ph(l,i.options.font);if(x?(t.width=this.maxWidth,t.height=er(f)+k):(t.height=this.maxHeight,t.width=er(f)+k),r.display&&this.ticks.length){const{first:S,last:M,widest:L,highest:R}=this._getLabelSizes(),q=r.padding*2,J=Fi(this.labelRotation),ae=Math.cos(J),oe=Math.sin(J);if(x){const ue=r.mirror?0:oe*L.width+ae*R.height;t.height=Math.min(this.maxHeight,t.height+ue+q)}else{const ue=r.mirror?0:ae*L.width+oe*R.height;t.width=Math.min(this.maxWidth,t.width+ue+q)}this._calculatePadding(S,M,oe,ae)}}this._handleMargins(),x?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,r,l){const{ticks:{align:f,padding:b},position:x}=this.options,k=this.labelRotation!==0,S=x!=="top"&&this.axis==="x";if(this.isHorizontal()){const M=this.getPixelForTick(0)-this.left,L=this.right-this.getPixelForTick(this.ticks.length-1);let R=0,q=0;k?S?(R=l*t.width,q=r*i.height):(R=r*t.height,q=l*i.width):f==="start"?q=i.width:f==="end"?R=t.width:f!=="inner"&&(R=t.width/2,q=i.width/2),this.paddingLeft=Math.max((R-M+b)*this.width/(this.width-M),0),this.paddingRight=Math.max((q-L+b)*this.width/(this.width-L),0)}else{let M=i.height/2,L=t.height/2;f==="start"?(M=0,L=t.height):f==="end"&&(M=i.height,L=0),this.paddingTop=M+b,this.paddingBottom=L+b}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,r;for(i=0,r=t.length;i<r;i++)Wt(t[i].label)&&(t.splice(i,1),r--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let r=this.ticks;i<r.length&&(r=fh(r,i)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,r){const{ctx:l,_longestTextCache:f}=this,b=[],x=[],k=Math.floor(i/hh(i,r));let S=0,M=0,L,R,q,J,ae,oe,ue,se,pe,te,re;for(L=0;L<i;L+=k){if(J=t[L].label,ae=this._resolveTickFontOptions(L),l.font=oe=ae.string,ue=f[oe]=f[oe]||{data:{},gc:[]},se=ae.lineHeight,pe=te=0,!Wt(J)&&!wn(J))pe=Io(l,ue.data,ue.gc,pe,J),te=se;else if(wn(J))for(R=0,q=J.length;R<q;++R)re=J[R],!Wt(re)&&!wn(re)&&(pe=Io(l,ue.data,ue.gc,pe,re),te+=se);b.push(pe),x.push(te),S=Math.max(pe,S),M=Math.max(te,M)}Jb(f,i);const Oe=b.indexOf(S),De=x.indexOf(M),Te=Re=>({width:b[Re]||0,height:x[Re]||0});return{first:Te(0),last:Te(i-1),widest:Te(Oe),highest:Te(De),widths:b,heights:x}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return Hv(this._alignToPixels?Ns(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const r=i[t];return r.$context||(r.$context=ey(this.getContext(),t,r))}return this.$context||(this.$context=Zb(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=Fi(this.labelRotation),r=Math.abs(Math.cos(i)),l=Math.abs(Math.sin(i)),f=this._getLabelSizes(),b=t.autoSkipPadding||0,x=f?f.widest.width+b:0,k=f?f.highest.height+b:0;return this.isHorizontal()?k*r>x*l?x/r:k/l:k*l<x*r?k/r:x/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,r=this.chart,l=this.options,{grid:f,position:b,border:x}=l,k=f.offset,S=this.isHorizontal(),L=this.ticks.length+(k?1:0),R=er(f),q=[],J=x.setContext(this.getContext()),ae=J.display?J.width:0,oe=ae/2,ue=function(je){return Ns(r,je,ae)};let se,pe,te,re,Oe,De,Te,Re,at,ze,et,ft;if(b==="top")se=ue(this.bottom),De=this.bottom-R,Re=se-oe,ze=ue(t.top)+oe,ft=t.bottom;else if(b==="bottom")se=ue(this.top),ze=t.top,ft=ue(t.bottom)-oe,De=se+oe,Re=this.top+R;else if(b==="left")se=ue(this.right),Oe=this.right-R,Te=se-oe,at=ue(t.left)+oe,et=t.right;else if(b==="right")se=ue(this.left),at=t.left,et=ue(t.right)-oe,Oe=se+oe,Te=this.left+R;else if(i==="x"){if(b==="center")se=ue((t.top+t.bottom)/2+.5);else if(Vt(b)){const je=Object.keys(b)[0],He=b[je];se=ue(this.chart.scales[je].getPixelForValue(He))}ze=t.top,ft=t.bottom,De=se+oe,Re=De+R}else if(i==="y"){if(b==="center")se=ue((t.left+t.right)/2);else if(Vt(b)){const je=Object.keys(b)[0],He=b[je];se=ue(this.chart.scales[je].getPixelForValue(He))}Oe=se-oe,Te=Oe-R,at=t.left,et=t.right}const gt=Nt(l.ticks.maxTicksLimit,L),be=Math.max(1,Math.ceil(L/gt));for(pe=0;pe<L;pe+=be){const je=this.getContext(pe),He=f.setContext(je),ot=x.setContext(je),Dt=He.lineWidth,qt=He.color,Rn=ot.dash||[],me=ot.dashOffset,Y=He.tickWidth,Be=He.tickColor,Ot=He.tickBorderDash||[],yt=He.tickBorderDashOffset;te=Qb(this,pe,k),te!==void 0&&(re=Ns(r,te,Dt),S?Oe=Te=at=et=re:De=Re=ze=ft=re,q.push({tx1:Oe,ty1:De,tx2:Te,ty2:Re,x1:at,y1:ze,x2:et,y2:ft,width:Dt,color:qt,borderDash:Rn,borderDashOffset:me,tickWidth:Y,tickColor:Be,tickBorderDash:Ot,tickBorderDashOffset:yt}))}return this._ticksLength=L,this._borderValue=se,q}_computeLabelItems(t){const i=this.axis,r=this.options,{position:l,ticks:f}=r,b=this.isHorizontal(),x=this.ticks,{align:k,crossAlign:S,padding:M,mirror:L}=f,R=er(r.grid),q=R+M,J=L?-M:q,ae=-Fi(this.labelRotation),oe=[];let ue,se,pe,te,re,Oe,De,Te,Re,at,ze,et,ft="middle";if(l==="top")Oe=this.bottom-J,De=this._getXAxisLabelAlignment();else if(l==="bottom")Oe=this.top+J,De=this._getXAxisLabelAlignment();else if(l==="left"){const be=this._getYAxisLabelAlignment(R);De=be.textAlign,re=be.x}else if(l==="right"){const be=this._getYAxisLabelAlignment(R);De=be.textAlign,re=be.x}else if(i==="x"){if(l==="center")Oe=(t.top+t.bottom)/2+q;else if(Vt(l)){const be=Object.keys(l)[0],je=l[be];Oe=this.chart.scales[be].getPixelForValue(je)+q}De=this._getXAxisLabelAlignment()}else if(i==="y"){if(l==="center")re=(t.left+t.right)/2-q;else if(Vt(l)){const be=Object.keys(l)[0],je=l[be];re=this.chart.scales[be].getPixelForValue(je)}De=this._getYAxisLabelAlignment(R).textAlign}i==="y"&&(k==="start"?ft="top":k==="end"&&(ft="bottom"));const gt=this._getLabelSizes();for(ue=0,se=x.length;ue<se;++ue){pe=x[ue],te=pe.label;const be=f.setContext(this.getContext(ue));Te=this.getPixelForTick(ue)+f.labelOffset,Re=this._resolveTickFontOptions(ue),at=Re.lineHeight,ze=wn(te)?te.length:1;const je=ze/2,He=be.color,ot=be.textStrokeColor,Dt=be.textStrokeWidth;let qt=De;b?(re=Te,De==="inner"&&(ue===se-1?qt=this.options.reverse?"left":"right":ue===0?qt=this.options.reverse?"right":"left":qt="center"),l==="top"?S==="near"||ae!==0?et=-ze*at+at/2:S==="center"?et=-gt.highest.height/2-je*at+at:et=-gt.highest.height+at/2:S==="near"||ae!==0?et=at/2:S==="center"?et=gt.highest.height/2-je*at:et=gt.highest.height-ze*at,L&&(et*=-1),ae!==0&&!be.showLabelBackdrop&&(re+=at/2*Math.sin(ae))):(Oe=Te,et=(1-ze)*at/2);let Rn;if(be.showLabelBackdrop){const me=oi(be.backdropPadding),Y=gt.heights[ue],Be=gt.widths[ue];let Ot=et-me.top,yt=0-me.left;switch(ft){case"middle":Ot-=Y/2;break;case"bottom":Ot-=Y;break}switch(De){case"center":yt-=Be/2;break;case"right":yt-=Be;break;case"inner":ue===se-1?yt-=Be:ue>0&&(yt-=Be/2);break}Rn={left:yt,top:Ot,width:Be+me.width,height:Y+me.height,color:be.backdropColor}}oe.push({label:te,font:Re,textOffset:et,options:{rotation:ae,color:He,strokeColor:ot,strokeWidth:Dt,textAlign:qt,textBaseline:ft,translation:[re,Oe],backdrop:Rn}})}return oe}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-Fi(this.labelRotation))return t==="top"?"left":"right";let l="center";return i.align==="start"?l="left":i.align==="end"?l="right":i.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:r,mirror:l,padding:f}}=this.options,b=this._getLabelSizes(),x=t+f,k=b.widest.width;let S,M;return i==="left"?l?(M=this.right+f,r==="near"?S="left":r==="center"?(S="center",M+=k/2):(S="right",M+=k)):(M=this.right-x,r==="near"?S="right":r==="center"?(S="center",M-=k/2):(S="left",M=this.left)):i==="right"?l?(M=this.left+f,r==="near"?S="right":r==="center"?(S="center",M-=k/2):(S="left",M-=k)):(M=this.left+x,r==="near"?S="left":r==="center"?(S="center",M+=k/2):(S="right",M=this.right)):S="right",{textAlign:S,x:M}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:r,top:l,width:f,height:b}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(r,l,f,b),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const l=this.ticks.findIndex(f=>f.value===t);return l>=0?i.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const i=this.options.grid,r=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let f,b;const x=(k,S,M)=>{!M.width||!M.color||(r.save(),r.lineWidth=M.width,r.strokeStyle=M.color,r.setLineDash(M.borderDash||[]),r.lineDashOffset=M.borderDashOffset,r.beginPath(),r.moveTo(k.x,k.y),r.lineTo(S.x,S.y),r.stroke(),r.restore())};if(i.display)for(f=0,b=l.length;f<b;++f){const k=l[f];i.drawOnChartArea&&x({x:k.x1,y:k.y1},{x:k.x2,y:k.y2},k),i.drawTicks&&x({x:k.tx1,y:k.ty1},{x:k.tx2,y:k.ty2},{color:k.tickColor,width:k.tickWidth,borderDash:k.tickBorderDash,borderDashOffset:k.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{border:r,grid:l}}=this,f=r.setContext(this.getContext()),b=r.display?f.width:0;if(!b)return;const x=l.setContext(this.getContext(0)).lineWidth,k=this._borderValue;let S,M,L,R;this.isHorizontal()?(S=Ns(t,this.left,b)-b/2,M=Ns(t,this.right,x)+x/2,L=R=k):(L=Ns(t,this.top,b)-b/2,R=Ns(t,this.bottom,x)+x/2,S=M=k),i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.beginPath(),i.moveTo(S,L),i.lineTo(M,R),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,l=this._computeLabelArea();l&&zo(r,l);const f=this.getLabelItems(t);for(const b of f){const x=b.options,k=b.font,S=b.label,M=b.textOffset;Gs(r,S,0,M,k,x)}l&&Ho(r)}drawTitle(){const{ctx:t,options:{position:i,title:r,reverse:l}}=this;if(!r.display)return;const f=Yn(r.font),b=oi(r.padding),x=r.align;let k=f.lineHeight/2;i==="bottom"||i==="center"||Vt(i)?(k+=b.bottom,wn(r.text)&&(k+=f.lineHeight*(r.text.length-1))):k+=b.top;const{titleX:S,titleY:M,maxWidth:L,rotation:R}=ny(this,k,i,x);Gs(t,r.text,0,0,f,{color:r.color,maxWidth:L,rotation:R,textAlign:ty(x,i,l),textBaseline:"middle",translation:[S,M]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,r=Nt(t.grid&&t.grid.z,-1),l=Nt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Xs.prototype.draw?[{z:i,draw:f=>{this.draw(f)}}]:[{z:r,draw:f=>{this.drawBackground(),this.drawGrid(f),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:i,draw:f=>{this.drawLabels(f)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",l=[];let f,b;for(f=0,b=i.length;f<b;++f){const x=i[f];x[r]===this.id&&(!t||x.type===t)&&l.push(x)}return l}_resolveTickFontOptions(t){const i=this.options.ticks.setContext(this.getContext(t));return Yn(i.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class co{constructor(t,i,r){this.type=t,this.scope=i,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let r;ay(i)&&(r=this.register(i));const l=this.items,f=t.id,b=this.scope+"."+f;if(!f)throw new Error("class does not have id: "+t);return f in l||(l[f]=t,iy(t,b,r),this.override&&Cn.override(t.id,t.overrides)),b}get(t){return this.items[t]}unregister(t){const i=this.items,r=t.id,l=this.scope;r in i&&delete i[r],l&&r in Cn[l]&&(delete Cn[l][r],this.override&&delete Ys[r])}}function iy(a,t,i){const r=br(Object.create(null),[i?Cn.get(i):{},Cn.get(t),a.defaults]);Cn.set(t,r),a.defaultRoutes&&sy(t,a.defaultRoutes),a.descriptors&&Cn.describe(t,a.descriptors)}function sy(a,t){Object.keys(t).forEach(i=>{const r=i.split("."),l=r.pop(),f=[a].concat(r).join("."),b=t[i].split("."),x=b.pop(),k=b.join(".");Cn.route(f,l,k,x)})}function ay(a){return"id"in a&&"defaults"in a}class ry{constructor(){this.controllers=new co(Li,"datasets",!0),this.elements=new co(as,"elements"),this.plugins=new co(Object,"plugins"),this.scales=new co(Xs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,r){[...i].forEach(l=>{const f=r||this._getRegistryForType(l);r||f.isForType(l)||f===this.plugins&&l.id?this._exec(t,f,l):rn(l,b=>{const x=r||this._getRegistryForType(b);this._exec(t,x,b)})})}_exec(t,i,r){const l=xu(t);fn(r["before"+l],[],r),i[t](r),fn(r["after"+l],[],r)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const r=this._typedRegistries[i];if(r.isForType(t))return r}return this.plugins}_get(t,i,r){const l=i.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return l}}var Hi=new ry;class oy{constructor(){this._init=[]}notify(t,i,r,l){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const f=l?this._descriptors(t).filter(l):this._descriptors(t),b=this._notify(f,t,i,r);return i==="afterDestroy"&&(this._notify(f,t,"stop"),this._notify(this._init,t,"uninstall")),b}_notify(t,i,r,l){l=l||{};for(const f of t){const b=f.plugin,x=b[r],k=[i,l,f.options];if(fn(x,k,b)===!1&&l.cancelable)return!1}return!0}invalidate(){Wt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const r=t&&t.config,l=Nt(r.options&&r.options.plugins,{}),f=ly(r);return l===!1&&!i?[]:cy(t,f,l,i)}_notifyStateChanges(t){const i=this._oldCache||[],r=this._cache,l=(f,b)=>f.filter(x=>!b.some(k=>x.plugin.id===k.plugin.id));this._notify(l(i,r),t,"stop"),this._notify(l(r,i),t,"start")}}function ly(a){const t={},i=[],r=Object.keys(Hi.plugins.items);for(let f=0;f<r.length;f++)i.push(Hi.getPlugin(r[f]));const l=a.plugins||[];for(let f=0;f<l.length;f++){const b=l[f];i.indexOf(b)===-1&&(i.push(b),t[b.id]=!0)}return{plugins:i,localIds:t}}function uy(a,t){return!t&&a===!1?null:a===!0?{}:a}function cy(a,{plugins:t,localIds:i},r,l){const f=[],b=a.getContext();for(const x of t){const k=x.id,S=uy(r[k],l);S!==null&&f.push({plugin:x,options:dy(a.config,{plugin:x,local:i[k]},S,b)})}return f}function dy(a,{plugin:t,local:i},r,l){const f=a.pluginScopeKeys(t),b=a.getOptionScopes(r,f);return i&&t.defaults&&b.push(t.defaults),a.createResolver(b,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function au(a,t){const i=Cn.datasets[a]||{};return((t.datasets||{})[a]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function hy(a,t){let i=a;return a==="_index_"?i=t:a==="_value_"&&(i=t==="x"?"y":"x"),i}function fy(a,t){return a===t?"_index_":"_value_"}function mh(a){if(a==="x"||a==="y"||a==="r")return a}function py(a){if(a==="top"||a==="bottom")return"x";if(a==="left"||a==="right")return"y"}function ru(a,...t){if(mh(a))return a;for(const i of t){const r=i.axis||py(i.position)||a.length>1&&mh(a[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${a}' axis. Please provide 'axis' or 'position' option.`)}function gh(a,t,i){if(i[t+"AxisID"]===a)return{axis:t}}function my(a,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(r=>r.xAxisID===a||r.yAxisID===a);if(i.length)return gh(a,"x",i[0])||gh(a,"y",i[0])}return{}}function gy(a,t){const i=Ys[a.type]||{scales:{}},r=t.scales||{},l=au(a.type,t),f=Object.create(null);return Object.keys(r).forEach(b=>{const x=r[b];if(!Vt(x))return console.error(`Invalid scale configuration for scale: ${b}`);if(x._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${b}`);const k=ru(b,x,my(b,a),Cn.scales[x.type]),S=fy(k,l),M=i.scales||{};f[b]=dr(Object.create(null),[{axis:k},x,M[k],M[S]])}),a.data.datasets.forEach(b=>{const x=b.type||a.type,k=b.indexAxis||au(x,t),M=(Ys[x]||{}).scales||{};Object.keys(M).forEach(L=>{const R=hy(L,k),q=b[R+"AxisID"]||R;f[q]=f[q]||Object.create(null),dr(f[q],[{axis:R},r[q],M[L]])})}),Object.keys(f).forEach(b=>{const x=f[b];dr(x,[Cn.scales[x.type],Cn.scale])}),f}function bp(a){const t=a.options||(a.options={});t.plugins=Nt(t.plugins,{}),t.scales=gy(a,t)}function yp(a){return a=a||{},a.datasets=a.datasets||[],a.labels=a.labels||[],a}function vy(a){return a=a||{},a.data=yp(a.data),bp(a),a}const vh=new Map,wp=new Set;function ho(a,t){let i=vh.get(a);return i||(i=t(),vh.set(a,i),wp.add(i)),i}const tr=(a,t,i)=>{const r=ks(t,i);r!==void 0&&a.add(r)};class by{constructor(t){this._config=vy(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=yp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),bp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ho(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return ho(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return ho(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id,r=this.type;return ho(`${r}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const r=this._scopeCache;let l=r.get(t);return(!l||i)&&(l=new Map,r.set(t,l)),l}getOptionScopes(t,i,r){const{options:l,type:f}=this,b=this._cachedScopes(t,r),x=b.get(i);if(x)return x;const k=new Set;i.forEach(M=>{t&&(k.add(t),M.forEach(L=>tr(k,t,L))),M.forEach(L=>tr(k,l,L)),M.forEach(L=>tr(k,Ys[f]||{},L)),M.forEach(L=>tr(k,Cn,L)),M.forEach(L=>tr(k,nu,L))});const S=Array.from(k);return S.length===0&&S.push(Object.create(null)),wp.has(i)&&b.set(i,S),S}chartOptionScopes(){const{options:t,type:i}=this;return[t,Ys[i]||{},Cn.datasets[i]||{},{type:i},Cn,nu]}resolveNamedOptions(t,i,r,l=[""]){const f={$shared:!0},{resolver:b,subPrefixes:x}=bh(this._resolverCache,t,l);let k=b;if(wy(b,i)){f.$shared=!1,r=_s(r)?r():r;const S=this.createResolver(t,r,x);k=ka(b,r,S)}for(const S of i)f[S]=k[S];return f}createResolver(t,i,r=[""],l){const{resolver:f}=bh(this._resolverCache,t,r);return Vt(i)?ka(f,i,void 0,l):f}}function bh(a,t,i){let r=a.get(t);r||(r=new Map,a.set(t,r));const l=i.join();let f=r.get(l);return f||(f={resolver:Eu(t,i),subPrefixes:i.filter(x=>!x.toLowerCase().includes("hover"))},r.set(l,f)),f}const yy=a=>Vt(a)&&Object.getOwnPropertyNames(a).some(t=>_s(a[t]));function wy(a,t){const{isScriptable:i,isIndexable:r}=Qf(a);for(const l of t){const f=i(l),b=r(l),x=(b||f)&&a[l];if(f&&(_s(x)||yy(x))||b&&wn(x))return!0}return!1}var Cy="4.4.9";const xy=["top","bottom","left","right","chartArea"];function yh(a,t){return a==="top"||a==="bottom"||xy.indexOf(a)===-1&&t==="x"}function wh(a,t){return function(i,r){return i[a]===r[a]?i[t]-r[t]:i[a]-r[a]}}function Ch(a){const t=a.chart,i=t.options.animation;t.notifyPlugins("afterRender"),fn(i&&i.onComplete,[a],t)}function ky(a){const t=a.chart,i=t.options.animation;fn(i&&i.onProgress,[a],t)}function Cp(a){return Iu()&&typeof a=="string"?a=document.getElementById(a):a&&a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a}const _o={},xh=a=>{const t=Cp(a);return Object.values(_o).filter(i=>i.canvas===t).pop()};function _y(a,t,i){const r=Object.keys(a);for(const l of r){const f=+l;if(f>=t){const b=a[l];delete a[l],(i>0||f>t)&&(a[f+i]=b)}}}function Sy(a,t,i,r){return!i||a.type==="mouseout"?null:r?t:a}class ts{static register(...t){Hi.add(...t),kh()}static unregister(...t){Hi.remove(...t),kh()}constructor(t,i){const r=this.config=new by(i),l=Cp(t),f=xh(l);if(f)throw new Error("Canvas is already in use. Chart with ID '"+f.id+"' must be destroyed before the canvas with ID '"+f.canvas.id+"' can be reused.");const b=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Ub(l)),this.platform.updateConfig(r);const x=this.platform.acquireContext(l,b.aspectRatio),k=x&&x.canvas,S=k&&k.height,M=k&&k.width;if(this.id=Dv(),this.ctx=x,this.canvas=k,this.width=M,this.height=S,this._options=b,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oy,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jv(L=>this.update(L),b.resizeDelay||0),this._dataChanges=[],_o[this.id]=this,!x||!k){console.error("Failed to create chart: can't acquire context from the given item");return}Ji.listen(this,"complete",Ch),Ji.listen(this,"progress",ky),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:r,height:l,_aspectRatio:f}=this;return Wt(t)?i&&f?f:l?r/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vd(this.canvas,this.ctx),this}stop(){return Ji.stop(this),this}resize(t,i){Ji.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const r=this.options,l=this.canvas,f=r.maintainAspectRatio&&this.aspectRatio,b=this.platform.getMaximumSize(l,t,i,f),x=r.devicePixelRatio||this.platform.getDevicePixelRatio(),k=this.width?"resize":"attach";this.width=b.width,this.height=b.height,this._aspectRatio=this.aspectRatio,qd(this,x,!0)&&(this.notifyPlugins("resize",{size:b}),fn(r.onResize,[this,b],this),this.attached&&this._doResize(k)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};rn(i,(r,l)=>{r.id=l})}buildOrUpdateScales(){const t=this.options,i=t.scales,r=this.scales,l=Object.keys(r).reduce((b,x)=>(b[x]=!1,b),{});let f=[];i&&(f=f.concat(Object.keys(i).map(b=>{const x=i[b],k=ru(b,x),S=k==="r",M=k==="x";return{options:x,dposition:S?"chartArea":M?"bottom":"left",dtype:S?"radialLinear":M?"category":"linear"}}))),rn(f,b=>{const x=b.options,k=x.id,S=ru(k,x),M=Nt(x.type,b.dtype);(x.position===void 0||yh(x.position,S)!==yh(b.dposition))&&(x.position=b.dposition),l[k]=!0;let L=null;if(k in r&&r[k].type===M)L=r[k];else{const R=Hi.getScale(M);L=new R({id:k,type:M,ctx:this.ctx,chart:this}),r[L.id]=L}L.init(x,t)}),rn(l,(b,x)=>{b||delete r[x]}),rn(r,b=>{ri.configure(this,b,b.options),ri.addBox(this,b)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,r=t.length;if(t.sort((l,f)=>l.index-f.index),r>i){for(let l=i;l<r;++l)this._destroyDatasetMeta(l);t.splice(i,r-i)}this._sortedMetasets=t.slice(0).sort(wh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((r,l)=>{i.filter(f=>f===r._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let r,l;for(this._removeUnreferencedMetasets(),r=0,l=i.length;r<l;r++){const f=i[r];let b=this.getDatasetMeta(r);const x=f.type||this.config.type;if(b.type&&b.type!==x&&(this._destroyDatasetMeta(r),b=this.getDatasetMeta(r)),b.type=x,b.indexAxis=f.indexAxis||au(x,this.options),b.order=f.order||0,b.index=r,b.label=""+f.label,b.visible=this.isDatasetVisible(r),b.controller)b.controller.updateIndex(r),b.controller.linkScales();else{const k=Hi.getController(x),{datasetElementType:S,dataElementType:M}=Cn.datasets[x];Object.assign(k,{dataElementType:Hi.getElement(M),datasetElementType:S&&Hi.getElement(S)}),b.controller=new k(this,r),t.push(b.controller)}}return this._updateMetasets(),t}_resetElements(){rn(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const f=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let b=0;for(let S=0,M=this.data.datasets.length;S<M;S++){const{controller:L}=this.getDatasetMeta(S),R=!l&&f.indexOf(L)===-1;L.buildOrUpdateElements(R),b=Math.max(+L.getMaxOverflow(),b)}b=this._minPadding=r.layout.autoPadding?b:0,this._updateLayout(b),l||rn(f,S=>{S.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(wh("z","_idx"));const{_active:x,_lastEvent:k}=this;k?this._eventHandler(k,!0):x.length&&this._updateHoverStyles(x,x,!0),this.render()}_updateScales(){rn(this.scales,t=>{ri.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Pd(i,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:l,count:f}of i){const b=r==="_removeElements"?-f:f;_y(t,l,b)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=f=>new Set(t.filter(b=>b[0]===f).map((b,x)=>x+","+b.splice(1).join(","))),l=r(0);for(let f=1;f<i;f++)if(!Pd(l,r(f)))return;return Array.from(l).map(f=>f.split(",")).map(f=>({method:f[1],start:+f[2],count:+f[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ri.update(this,this.width,this.height,t);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],rn(this.boxes,l=>{r&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,f)=>{l._idx=f}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,_s(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const r=this.getDatasetMeta(t),l={meta:r,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(r.controller._update(i),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ji.has(this)?this.attached&&!Ji.running(this)&&Ji.start(this):(this.draw(),Ch({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,r=[];let l,f;for(l=0,f=i.length;l<f;++l){const b=i[l];(!t||b.visible)&&r.push(b)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,r={meta:t,index:t.index,cancelable:!0},l=lp(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(l&&zo(i,l),t.controller.draw(),l&&Ho(i),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ss(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,r,l){const f=xb.modes[i];return typeof f=="function"?f(this,t,r,l):[]}getDatasetMeta(t){const i=this.data.datasets[t],r=this._metasets;let l=r.filter(f=>f&&f._dataset===i).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},r.push(l)),l}getContext(){return this.$context||(this.$context=Ss(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(t,i){const r=this.getDatasetMeta(t);r.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,r){const l=r?"show":"hide",f=this.getDatasetMeta(t),b=f.controller._resolveAnimations(void 0,l);yr(i)?(f.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),b.update(f,{visible:r}),this.update(x=>x.datasetIndex===t?l:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),Ji.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Vd(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete _o[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,r=(f,b)=>{i.addEventListener(this,f,b),t[f]=b},l=(f,b,x)=>{f.offsetX=b,f.offsetY=x,this._eventHandler(f)};rn(this.options.events,f=>r(f,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,r=(k,S)=>{i.addEventListener(this,k,S),t[k]=S},l=(k,S)=>{t[k]&&(i.removeEventListener(this,k,S),delete t[k])},f=(k,S)=>{this.canvas&&this.resize(k,S)};let b;const x=()=>{l("attach",x),this.attached=!0,this.resize(),r("resize",f),r("detach",b)};b=()=>{this.attached=!1,l("resize",f),this._stop(),this._resize(0,0),r("attach",x)},i.isAttached(this.canvas)?x():b()}unbindEvents(){rn(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},rn(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,r){const l=r?"set":"remove";let f,b,x,k;for(i==="dataset"&&(f=this.getDatasetMeta(t[0].datasetIndex),f.controller["_"+l+"DatasetHoverStyle"]()),x=0,k=t.length;x<k;++x){b=t[x];const S=b&&this.getDatasetMeta(b.datasetIndex).controller;S&&S[l+"HoverStyle"](b.element,b.datasetIndex,b.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],r=t.map(({datasetIndex:f,index:b})=>{const x=this.getDatasetMeta(f);if(!x)throw new Error("No dataset found at index "+f);return{datasetIndex:f,element:x.data[b],index:b}});!Eo(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(t,i,r){return this._plugins.notify(this,t,i,r)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,r){const l=this.options.hover,f=(k,S)=>k.filter(M=>!S.some(L=>M.datasetIndex===L.datasetIndex&&M.index===L.index)),b=f(i,t),x=r?t:f(t,i);b.length&&this.updateHoverStyle(b,l.mode,!1),x.length&&l.mode&&this.updateHoverStyle(x,l.mode,!0)}_eventHandler(t,i){const r={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},l=b=>(b.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,l)===!1)return;const f=this._handleEvent(t,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,l),(f||r.changed)&&this.render(),this}_handleEvent(t,i,r){const{_active:l=[],options:f}=this,b=i,x=this._getActiveElements(t,l,r,b),k=Pv(t),S=Sy(t,this._lastEvent,r,k);r&&(this._lastEvent=null,fn(f.onHover,[t,x,this],this),k&&fn(f.onClick,[t,x,this],this));const M=!Eo(x,l);return(M||i)&&(this._active=x,this._updateHoverStyles(x,l,i)),this._lastEvent=S,M}_getActiveElements(t,i,r,l){if(t.type==="mouseout")return[];if(!r)return i;const f=this.options.hover;return this.getElementsAtEventForMode(t,f.mode,f,l)}}Le(ts,"defaults",Cn),Le(ts,"instances",_o),Le(ts,"overrides",Ys),Le(ts,"registry",Hi),Le(ts,"version",Cy),Le(ts,"getChart",xh);function kh(){return rn(ts.instances,a=>a._plugins.invalidate())}function Ty(a,t,i){const{startAngle:r,pixelMargin:l,x:f,y:b,outerRadius:x,innerRadius:k}=t;let S=l/x;a.beginPath(),a.arc(f,b,x,r-S,i+S),k>l?(S=l/k,a.arc(f,b,k,i+S,r-S,!0)):a.arc(f,b,l,i+Fn,r-Fn),a.closePath(),a.clip()}function Dy(a){return Du(a,["outerStart","outerEnd","innerStart","innerEnd"])}function Ey(a,t,i,r){const l=Dy(a.options.borderRadius),f=(i-t)/2,b=Math.min(f,r*t/2),x=k=>{const S=(i-Math.min(f,k))*r/2;return Xn(k,0,Math.min(f,S))};return{outerStart:x(l.outerStart),outerEnd:x(l.outerEnd),innerStart:Xn(l.innerStart,0,b),innerEnd:Xn(l.innerEnd,0,b)}}function ya(a,t,i,r){return{x:i+a*Math.cos(t),y:r+a*Math.sin(t)}}function Fo(a,t,i,r,l,f){const{x:b,y:x,startAngle:k,pixelMargin:S,innerRadius:M}=t,L=Math.max(t.outerRadius+r+i-S,0),R=M>0?M+r+i+S:0;let q=0;const J=l-k;if(r){const be=M>0?M-r:0,je=L>0?L-r:0,He=(be+je)/2,ot=He!==0?J*He/(He+r):J;q=(J-ot)/2}const ae=Math.max(.001,J*L-i/gn)/L,oe=(J-ae)/2,ue=k+oe+q,se=l-oe-q,{outerStart:pe,outerEnd:te,innerStart:re,innerEnd:Oe}=Ey(t,R,L,se-ue),De=L-pe,Te=L-te,Re=ue+pe/De,at=se-te/Te,ze=R+re,et=R+Oe,ft=ue+re/ze,gt=se-Oe/et;if(a.beginPath(),f){const be=(Re+at)/2;if(a.arc(b,x,L,Re,be),a.arc(b,x,L,be,at),te>0){const Dt=ya(Te,at,b,x);a.arc(Dt.x,Dt.y,te,at,se+Fn)}const je=ya(et,se,b,x);if(a.lineTo(je.x,je.y),Oe>0){const Dt=ya(et,gt,b,x);a.arc(Dt.x,Dt.y,Oe,se+Fn,gt+Math.PI)}const He=(se-Oe/R+(ue+re/R))/2;if(a.arc(b,x,R,se-Oe/R,He,!0),a.arc(b,x,R,He,ue+re/R,!0),re>0){const Dt=ya(ze,ft,b,x);a.arc(Dt.x,Dt.y,re,ft+Math.PI,ue-Fn)}const ot=ya(De,ue,b,x);if(a.lineTo(ot.x,ot.y),pe>0){const Dt=ya(De,Re,b,x);a.arc(Dt.x,Dt.y,pe,ue-Fn,Re)}}else{a.moveTo(b,x);const be=Math.cos(Re)*L+b,je=Math.sin(Re)*L+x;a.lineTo(be,je);const He=Math.cos(at)*L+b,ot=Math.sin(at)*L+x;a.lineTo(He,ot)}a.closePath()}function Ay(a,t,i,r,l){const{fullCircles:f,startAngle:b,circumference:x}=t;let k=t.endAngle;if(f){Fo(a,t,i,r,k,l);for(let S=0;S<f;++S)a.fill();isNaN(x)||(k=b+(x%mn||mn))}return Fo(a,t,i,r,k,l),a.fill(),k}function My(a,t,i,r,l){const{fullCircles:f,startAngle:b,circumference:x,options:k}=t,{borderWidth:S,borderJoinStyle:M,borderDash:L,borderDashOffset:R}=k,q=k.borderAlign==="inner";if(!S)return;a.setLineDash(L||[]),a.lineDashOffset=R,q?(a.lineWidth=S*2,a.lineJoin=M||"round"):(a.lineWidth=S,a.lineJoin=M||"bevel");let J=t.endAngle;if(f){Fo(a,t,i,r,J,l);for(let ae=0;ae<f;++ae)a.stroke();isNaN(x)||(J=b+(x%mn||mn))}q&&Ty(a,t,J),f||(Fo(a,t,i,r,J,l),a.stroke())}class lr extends as{constructor(i){super();Le(this,"circumference");Le(this,"endAngle");Le(this,"fullCircles");Le(this,"innerRadius");Le(this,"outerRadius");Le(this,"pixelMargin");Le(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,r,l){const f=this.getProps(["x","y"],l),{angle:b,distance:x}=Wf(f,{x:i,y:r}),{startAngle:k,endAngle:S,innerRadius:M,outerRadius:L,circumference:R}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],l),q=(this.options.spacing+this.options.borderWidth)/2,J=Nt(R,S-k),ae=wr(b,k,S)&&k!==S,oe=J>=mn||ae,ue=ns(x,M+q,L+q);return oe&&ue}getCenterPoint(i){const{x:r,y:l,startAngle:f,endAngle:b,innerRadius:x,outerRadius:k}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:S,spacing:M}=this.options,L=(f+b)/2,R=(x+k+M+S)/2;return{x:r+Math.cos(L)*R,y:l+Math.sin(L)*R}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:r,circumference:l}=this,f=(r.offset||0)/4,b=(r.spacing||0)/2,x=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=l>mn?Math.floor(l/mn):0,l===0||this.innerRadius<0||this.outerRadius<0)return;i.save();const k=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(k)*f,Math.sin(k)*f);const S=1-Math.sin(Math.min(gn,l||0)),M=f*S;i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,Ay(i,this,M,b,x),My(i,this,M,b,x),i.restore()}}Le(lr,"id","arc"),Le(lr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Le(lr,"defaultRoutes",{backgroundColor:"backgroundColor"}),Le(lr,"descriptors",{_scriptable:!0,_indexable:i=>i!=="borderDash"});function xp(a,t,i=t){a.lineCap=Nt(i.borderCapStyle,t.borderCapStyle),a.setLineDash(Nt(i.borderDash,t.borderDash)),a.lineDashOffset=Nt(i.borderDashOffset,t.borderDashOffset),a.lineJoin=Nt(i.borderJoinStyle,t.borderJoinStyle),a.lineWidth=Nt(i.borderWidth,t.borderWidth),a.strokeStyle=Nt(i.borderColor,t.borderColor)}function Iy(a,t,i){a.lineTo(i.x,i.y)}function Oy(a){return a.stepped?n0:a.tension||a.cubicInterpolationMode==="monotone"?i0:Iy}function kp(a,t,i={}){const r=a.length,{start:l=0,end:f=r-1}=i,{start:b,end:x}=t,k=Math.max(l,b),S=Math.min(f,x),M=l<b&&f<b||l>x&&f>x;return{count:r,start:k,loop:t.loop,ilen:S<k&&!M?r+S-k:S-k}}function Py(a,t,i,r){const{points:l,options:f}=t,{count:b,start:x,loop:k,ilen:S}=kp(l,i,r),M=Oy(f);let{move:L=!0,reverse:R}=r||{},q,J,ae;for(q=0;q<=S;++q)J=l[(x+(R?S-q:q))%b],!J.skip&&(L?(a.moveTo(J.x,J.y),L=!1):M(a,ae,J,R,f.stepped),ae=J);return k&&(J=l[(x+(R?S:0))%b],M(a,ae,J,R,f.stepped)),!!k}function Fy(a,t,i,r){const l=t.points,{count:f,start:b,ilen:x}=kp(l,i,r),{move:k=!0,reverse:S}=r||{};let M=0,L=0,R,q,J,ae,oe,ue;const se=te=>(b+(S?x-te:te))%f,pe=()=>{ae!==oe&&(a.lineTo(M,oe),a.lineTo(M,ae),a.lineTo(M,ue))};for(k&&(q=l[se(0)],a.moveTo(q.x,q.y)),R=0;R<=x;++R){if(q=l[se(R)],q.skip)continue;const te=q.x,re=q.y,Oe=te|0;Oe===J?(re<ae?ae=re:re>oe&&(oe=re),M=(L*M+te)/++L):(pe(),a.lineTo(te,re),J=Oe,L=0,ae=oe=re),ue=re}pe()}function ou(a){const t=a.options,i=t.borderDash&&t.borderDash.length;return!a._decimated&&!a._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!i?Fy:Py}function Ly(a){return a.stepped?L0:a.tension||a.cubicInterpolationMode==="monotone"?B0:Vs}function By(a,t,i,r){let l=t._path;l||(l=t._path=new Path2D,t.path(l,i,r)&&l.closePath()),xp(a,t.options),a.stroke(l)}function Ry(a,t,i,r){const{segments:l,options:f}=t,b=ou(t);for(const x of l)xp(a,f,x.style),a.beginPath(),b(a,t,x,{start:i,end:i+r-1})&&a.closePath(),a.stroke()}const Ny=typeof Path2D=="function";function zy(a,t,i,r){Ny&&!t.options.segment?By(a,t,i,r):Ry(a,t,i,r)}class ws extends as{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const l=r.spanGaps?this._loop:this._fullLoop;D0(this._points,r,t,l,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=V0(this,this.options.segment))}first(){const t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){const t=this.segments,i=this.points,r=t.length;return r&&i[t[r-1].end]}interpolate(t,i){const r=this.options,l=t[i],f=this.points,b=op(this,{property:i,start:l,end:l});if(!b.length)return;const x=[],k=Ly(r);let S,M;for(S=0,M=b.length;S<M;++S){const{start:L,end:R}=b[S],q=f[L],J=f[R];if(q===J){x.push(q);continue}const ae=Math.abs((l-q[i])/(J[i]-q[i])),oe=k(q,J,ae,r.stepped);oe[i]=t[i],x.push(oe)}return x.length===1?x[0]:x}pathSegment(t,i,r){return ou(this)(t,this,i,r)}path(t,i,r){const l=this.segments,f=ou(this);let b=this._loop;i=i||0,r=r||this.points.length-i;for(const x of l)b&=f(t,this,x,{start:i,end:i+r-1});return!!b}draw(t,i,r,l){const f=this.options||{};(this.points||[]).length&&f.borderWidth&&(t.save(),zy(t,this,r,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Le(ws,"id","line"),Le(ws,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Le(ws,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Le(ws,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function _h(a,t,i,r){const l=a.options,{[i]:f}=a.getProps([i],r);return Math.abs(t-f)<l.radius+l.hitRadius}class So extends as{constructor(i){super();Le(this,"parsed");Le(this,"skip");Le(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,r,l){const f=this.options,{x:b,y:x}=this.getProps(["x","y"],l);return Math.pow(i-b,2)+Math.pow(r-x,2)<Math.pow(f.hitRadius+f.radius,2)}inXRange(i,r){return _h(this,i,"x",r)}inYRange(i,r){return _h(this,i,"y",r)}getCenterPoint(i){const{x:r,y:l}=this.getProps(["x","y"],i);return{x:r,y:l}}size(i){i=i||this.options||{};let r=i.radius||0;r=Math.max(r,r&&i.hoverRadius||0);const l=r&&i.borderWidth||0;return(r+l)*2}draw(i,r){const l=this.options;this.skip||l.radius<.1||!ss(this,r,this.size(l)/2)||(i.strokeStyle=l.borderColor,i.lineWidth=l.borderWidth,i.fillStyle=l.backgroundColor,iu(i,l,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}Le(So,"id","point"),Le(So,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Le(So,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _p(a,t){const{x:i,y:r,base:l,width:f,height:b}=a.getProps(["x","y","base","width","height"],t);let x,k,S,M,L;return a.horizontal?(L=b/2,x=Math.min(i,l),k=Math.max(i,l),S=r-L,M=r+L):(L=f/2,x=i-L,k=i+L,S=Math.min(r,l),M=Math.max(r,l)),{left:x,top:S,right:k,bottom:M}}function Cs(a,t,i,r){return a?0:Xn(t,i,r)}function Hy(a,t,i){const r=a.options.borderWidth,l=a.borderSkipped,f=Kf(r);return{t:Cs(l.top,f.top,0,i),r:Cs(l.right,f.right,0,t),b:Cs(l.bottom,f.bottom,0,i),l:Cs(l.left,f.left,0,t)}}function Wy(a,t,i){const{enableBorderRadius:r}=a.getProps(["enableBorderRadius"]),l=a.options.borderRadius,f=qs(l),b=Math.min(t,i),x=a.borderSkipped,k=r||Vt(l);return{topLeft:Cs(!k||x.top||x.left,f.topLeft,0,b),topRight:Cs(!k||x.top||x.right,f.topRight,0,b),bottomLeft:Cs(!k||x.bottom||x.left,f.bottomLeft,0,b),bottomRight:Cs(!k||x.bottom||x.right,f.bottomRight,0,b)}}function Vy(a){const t=_p(a),i=t.right-t.left,r=t.bottom-t.top,l=Hy(a,i/2,r/2),f=Wy(a,i/2,r/2);return{outer:{x:t.left,y:t.top,w:i,h:r,radius:f},inner:{x:t.left+l.l,y:t.top+l.t,w:i-l.l-l.r,h:r-l.t-l.b,radius:{topLeft:Math.max(0,f.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,f.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,f.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,f.bottomRight-Math.max(l.b,l.r))}}}}function ql(a,t,i,r){const l=t===null,f=i===null,x=a&&!(l&&f)&&_p(a,r);return x&&(l||ns(t,x.left,x.right))&&(f||ns(i,x.top,x.bottom))}function Uy(a){return a.topLeft||a.topRight||a.bottomLeft||a.bottomRight}function jy(a,t){a.rect(t.x,t.y,t.w,t.h)}function $l(a,t,i={}){const r=a.x!==i.x?-t:0,l=a.y!==i.y?-t:0,f=(a.x+a.w!==i.x+i.w?t:0)-r,b=(a.y+a.h!==i.y+i.h?t:0)-l;return{x:a.x+r,y:a.y+l,w:a.w+f,h:a.h+b,radius:a.radius}}class To extends as{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:i,options:{borderColor:r,backgroundColor:l}}=this,{inner:f,outer:b}=Vy(this),x=Uy(b.radius)?Cr:jy;t.save(),(b.w!==f.w||b.h!==f.h)&&(t.beginPath(),x(t,$l(b,i,f)),t.clip(),x(t,$l(f,-i,b)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),x(t,$l(f,i)),t.fillStyle=l,t.fill(),t.restore()}inRange(t,i,r){return ql(this,t,i,r)}inXRange(t,i){return ql(this,t,null,i)}inYRange(t,i){return ql(this,null,t,i)}getCenterPoint(t){const{x:i,y:r,base:l,horizontal:f}=this.getProps(["x","y","base","horizontal"],t);return{x:f?(i+l)/2:i,y:f?r:(r+l)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Le(To,"id","bar"),Le(To,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Le(To,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var qy=Object.freeze({__proto__:null,ArcElement:lr,BarElement:To,LineElement:ws,PointElement:So});const lu=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Sh=lu.map(a=>a.replace("rgb(","rgba(").replace(")",", 0.5)"));function Sp(a){return lu[a%lu.length]}function Tp(a){return Sh[a%Sh.length]}function $y(a,t){return a.borderColor=Sp(t),a.backgroundColor=Tp(t),++t}function Yy(a,t){return a.backgroundColor=a.data.map(()=>Sp(t++)),t}function Gy(a,t){return a.backgroundColor=a.data.map(()=>Tp(t++)),t}function Xy(a){let t=0;return(i,r)=>{const l=a.getDatasetMeta(r).controller;l instanceof js?t=Yy(i,t):l instanceof mr?t=Gy(i,t):l&&(t=$y(i,t))}}function Th(a){let t;for(t in a)if(a[t].borderColor||a[t].backgroundColor)return!0;return!1}function Ky(a){return a&&(a.borderColor||a.backgroundColor)}function Qy(){return Cn.borderColor!=="rgba(0,0,0,0.1)"||Cn.backgroundColor!=="rgba(0,0,0,0.1)"}var Jy={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(a,t,i){if(!i.enabled)return;const{data:{datasets:r},options:l}=a.config,{elements:f}=l,b=Th(r)||Ky(l)||f&&Th(f)||Qy();if(!i.forceOverride&&b)return;const x=Xy(a);r.forEach(x)}};function Zy(a,t,i,r,l){const f=l.samples||r;if(f>=i)return a.slice(t,t+i);const b=[],x=(i-2)/(f-2);let k=0;const S=t+i-1;let M=t,L,R,q,J,ae;for(b[k++]=a[M],L=0;L<f-2;L++){let oe=0,ue=0,se;const pe=Math.floor((L+1)*x)+1+t,te=Math.min(Math.floor((L+2)*x)+1,i)+t,re=te-pe;for(se=pe;se<te;se++)oe+=a[se].x,ue+=a[se].y;oe/=re,ue/=re;const Oe=Math.floor(L*x)+1+t,De=Math.min(Math.floor((L+1)*x)+1,i)+t,{x:Te,y:Re}=a[M];for(q=J=-1,se=Oe;se<De;se++)J=.5*Math.abs((Te-oe)*(a[se].y-Re)-(Te-a[se].x)*(ue-Re)),J>q&&(q=J,R=a[se],ae=se);b[k++]=R,M=ae}return b[k++]=a[S],b}function ew(a,t,i,r){let l=0,f=0,b,x,k,S,M,L,R,q,J,ae;const oe=[],ue=t+i-1,se=a[t].x,te=a[ue].x-se;for(b=t;b<t+i;++b){x=a[b],k=(x.x-se)/te*r,S=x.y;const re=k|0;if(re===M)S<J?(J=S,L=b):S>ae&&(ae=S,R=b),l=(f*l+x.x)/++f;else{const Oe=b-1;if(!Wt(L)&&!Wt(R)){const De=Math.min(L,R),Te=Math.max(L,R);De!==q&&De!==Oe&&oe.push({...a[De],x:l}),Te!==q&&Te!==Oe&&oe.push({...a[Te],x:l})}b>0&&Oe!==q&&oe.push(a[Oe]),oe.push(x),M=re,f=0,J=ae=S,L=R=q=b}}return oe}function Dp(a){if(a._decimated){const t=a._data;delete a._decimated,delete a._data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Dh(a){a.data.datasets.forEach(t=>{Dp(t)})}function tw(a,t){const i=t.length;let r=0,l;const{iScale:f}=a,{min:b,max:x,minDefined:k,maxDefined:S}=f.getUserBounds();return k&&(r=Xn(is(t,f.axis,b).lo,0,i-1)),S?l=Xn(is(t,f.axis,x).hi+1,r,i)-r:l=i-r,{start:r,count:l}}var nw={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(a,t,i)=>{if(!i.enabled){Dh(a);return}const r=a.width;a.data.datasets.forEach((l,f)=>{const{_data:b,indexAxis:x}=l,k=a.getDatasetMeta(f),S=b||l.data;if(rr([x,a.options.indexAxis])==="y"||!k.controller.supportsDecimation)return;const M=a.scales[k.xAxisID];if(M.type!=="linear"&&M.type!=="time"||a.options.parsing)return;let{start:L,count:R}=tw(k,S);const q=i.threshold||4*r;if(R<=q){Dp(l);return}Wt(b)&&(l._data=S,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(ae){this._data=ae}}));let J;switch(i.algorithm){case"lttb":J=Zy(S,L,R,r,i);break;case"min-max":J=ew(S,L,R,r);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}l._decimated=J})},destroy(a){Dh(a)}};function iw(a,t,i){const r=a.segments,l=a.points,f=t.points,b=[];for(const x of r){let{start:k,end:S}=x;S=Fu(k,S,l);const M=uu(i,l[k],l[S],x.loop);if(!t.segments){b.push({source:x,target:M,start:l[k],end:l[S]});continue}const L=op(t,M);for(const R of L){const q=uu(i,f[R.start],f[R.end],R.loop),J=rp(x,l,q);for(const ae of J)b.push({source:ae,target:R,start:{[i]:Eh(M,q,"start",Math.max)},end:{[i]:Eh(M,q,"end",Math.min)}})}}return b}function uu(a,t,i,r){if(r)return;let l=t[a],f=i[a];return a==="angle"&&(l=Di(l),f=Di(f)),{property:a,start:l,end:f}}function sw(a,t){const{x:i=null,y:r=null}=a||{},l=t.points,f=[];return t.segments.forEach(({start:b,end:x})=>{x=Fu(b,x,l);const k=l[b],S=l[x];r!==null?(f.push({x:k.x,y:r}),f.push({x:S.x,y:r})):i!==null&&(f.push({x:i,y:k.y}),f.push({x:i,y:S.y}))}),f}function Fu(a,t,i){for(;t>a;t--){const r=i[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function Eh(a,t,i,r){return a&&t?r(a[i],t[i]):a?a[i]:t?t[i]:0}function Ep(a,t){let i=[],r=!1;return wn(a)?(r=!0,i=a):i=sw(a,t),i.length?new ws({points:i,options:{tension:0},_loop:r,_fullLoop:r}):null}function Ah(a){return a&&a.fill!==!1}function aw(a,t,i){let l=a[t].fill;const f=[t];let b;if(!i)return l;for(;l!==!1&&f.indexOf(l)===-1;){if(!En(l))return l;if(b=a[l],!b)return!1;if(b.visible)return l;f.push(l),l=b.fill}return!1}function rw(a,t,i){const r=cw(a);if(Vt(r))return isNaN(r.value)?!1:r;let l=parseFloat(r);return En(l)&&Math.floor(l)===l?ow(r[0],t,l,i):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function ow(a,t,i,r){return(a==="-"||a==="+")&&(i=t+i),i===t||i<0||i>=r?!1:i}function lw(a,t){let i=null;return a==="start"?i=t.bottom:a==="end"?i=t.top:Vt(a)?i=t.getPixelForValue(a.value):t.getBasePixel&&(i=t.getBasePixel()),i}function uw(a,t,i){let r;return a==="start"?r=i:a==="end"?r=t.options.reverse?t.min:t.max:Vt(a)?r=a.value:r=t.getBaseValue(),r}function cw(a){const t=a.options,i=t.fill;let r=Nt(i&&i.target,i);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function dw(a){const{scale:t,index:i,line:r}=a,l=[],f=r.segments,b=r.points,x=hw(t,i);x.push(Ep({x:null,y:t.bottom},r));for(let k=0;k<f.length;k++){const S=f[k];for(let M=S.start;M<=S.end;M++)fw(l,b[M],x)}return new ws({points:l,options:{}})}function hw(a,t){const i=[],r=a.getMatchingVisibleMetas("line");for(let l=0;l<r.length;l++){const f=r[l];if(f.index===t)break;f.hidden||i.unshift(f.dataset)}return i}function fw(a,t,i){const r=[];for(let l=0;l<i.length;l++){const f=i[l],{first:b,last:x,point:k}=pw(f,t,"x");if(!(!k||b&&x)){if(b)r.unshift(k);else if(a.push(k),!x)break}}a.push(...r)}function pw(a,t,i){const r=a.interpolate(t,i);if(!r)return{};const l=r[i],f=a.segments,b=a.points;let x=!1,k=!1;for(let S=0;S<f.length;S++){const M=f[S],L=b[M.start][i],R=b[M.end][i];if(ns(l,L,R)){x=l===L,k=l===R;break}}return{first:x,last:k,point:r}}class Ap{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,i,r){const{x:l,y:f,radius:b}=this;return i=i||{start:0,end:mn},t.arc(l,f,b,i.end,i.start,!0),!r.bounds}interpolate(t){const{x:i,y:r,radius:l}=this,f=t.angle;return{x:i+Math.cos(f)*l,y:r+Math.sin(f)*l,angle:f}}}function mw(a){const{chart:t,fill:i,line:r}=a;if(En(i))return gw(t,i);if(i==="stack")return dw(a);if(i==="shape")return!0;const l=vw(a);return l instanceof Ap?l:Ep(l,r)}function gw(a,t){const i=a.getDatasetMeta(t);return i&&a.isDatasetVisible(t)?i.dataset:null}function vw(a){return(a.scale||{}).getPointPositionForValue?yw(a):bw(a)}function bw(a){const{scale:t={},fill:i}=a,r=lw(i,t);if(En(r)){const l=t.isHorizontal();return{x:l?r:null,y:l?null:r}}return null}function yw(a){const{scale:t,fill:i}=a,r=t.options,l=t.getLabels().length,f=r.reverse?t.max:t.min,b=uw(i,t,f),x=[];if(r.grid.circular){const k=t.getPointPositionForValue(0,f);return new Ap({x:k.x,y:k.y,radius:t.getDistanceFromCenterForValue(b)})}for(let k=0;k<l;++k)x.push(t.getPointPositionForValue(k,b));return x}function Yl(a,t,i){const r=mw(t),{chart:l,index:f,line:b,scale:x,axis:k}=t,S=b.options,M=S.fill,L=S.backgroundColor,{above:R=L,below:q=L}=M||{},J=l.getDatasetMeta(f),ae=lp(l,J);r&&b.points.length&&(zo(a,i),ww(a,{line:b,target:r,above:R,below:q,area:i,scale:x,axis:k,clip:ae}),Ho(a))}function ww(a,t){const{line:i,target:r,above:l,below:f,area:b,scale:x,clip:k}=t,S=i._loop?"angle":t.axis;a.save(),S==="x"&&f!==l&&(Mh(a,r,b.top),Ih(a,{line:i,target:r,color:l,scale:x,property:S,clip:k}),a.restore(),a.save(),Mh(a,r,b.bottom)),Ih(a,{line:i,target:r,color:f,scale:x,property:S,clip:k}),a.restore()}function Mh(a,t,i){const{segments:r,points:l}=t;let f=!0,b=!1;a.beginPath();for(const x of r){const{start:k,end:S}=x,M=l[k],L=l[Fu(k,S,l)];f?(a.moveTo(M.x,M.y),f=!1):(a.lineTo(M.x,i),a.lineTo(M.x,M.y)),b=!!t.pathSegment(a,x,{move:b}),b?a.closePath():a.lineTo(L.x,i)}a.lineTo(t.first().x,i),a.closePath(),a.clip()}function Ih(a,t){const{line:i,target:r,property:l,color:f,scale:b,clip:x}=t,k=iw(i,r,l);for(const{source:S,target:M,start:L,end:R}of k){const{style:{backgroundColor:q=f}={}}=S,J=r!==!0;a.save(),a.fillStyle=q,Cw(a,b,x,J&&uu(l,L,R)),a.beginPath();const ae=!!i.pathSegment(a,S);let oe;if(J){ae?a.closePath():Oh(a,r,R,l);const ue=!!r.pathSegment(a,M,{move:ae,reverse:!0});oe=ae&&ue,oe||Oh(a,r,L,l)}a.closePath(),a.fill(oe?"evenodd":"nonzero"),a.restore()}}function Cw(a,t,i,r){const l=t.chart.chartArea,{property:f,start:b,end:x}=r||{};if(f==="x"||f==="y"){let k,S,M,L;f==="x"?(k=b,S=l.top,M=x,L=l.bottom):(k=l.left,S=b,M=l.right,L=x),a.beginPath(),i&&(k=Math.max(k,i.left),M=Math.min(M,i.right),S=Math.max(S,i.top),L=Math.min(L,i.bottom)),a.rect(k,S,M-k,L-S),a.clip()}}function Oh(a,t,i,r){const l=t.interpolate(i,r);l&&a.lineTo(l.x,l.y)}var xw={id:"filler",afterDatasetsUpdate(a,t,i){const r=(a.data.datasets||[]).length,l=[];let f,b,x,k;for(b=0;b<r;++b)f=a.getDatasetMeta(b),x=f.dataset,k=null,x&&x.options&&x instanceof ws&&(k={visible:a.isDatasetVisible(b),index:b,fill:rw(x,b,r),chart:a,axis:f.controller.options.indexAxis,scale:f.vScale,line:x}),f.$filler=k,l.push(k);for(b=0;b<r;++b)k=l[b],!(!k||k.fill===!1)&&(k.fill=aw(l,b,i.propagate))},beforeDraw(a,t,i){const r=i.drawTime==="beforeDraw",l=a.getSortedVisibleDatasetMetas(),f=a.chartArea;for(let b=l.length-1;b>=0;--b){const x=l[b].$filler;x&&(x.line.updateControlPoints(f,x.axis),r&&x.fill&&Yl(a.ctx,x,f))}},beforeDatasetsDraw(a,t,i){if(i.drawTime!=="beforeDatasetsDraw")return;const r=a.getSortedVisibleDatasetMetas();for(let l=r.length-1;l>=0;--l){const f=r[l].$filler;Ah(f)&&Yl(a.ctx,f,a.chartArea)}},beforeDatasetDraw(a,t,i){const r=t.meta.$filler;!Ah(r)||i.drawTime!=="beforeDatasetDraw"||Yl(a.ctx,r,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ph=(a,t)=>{let{boxHeight:i=t,boxWidth:r=t}=a;return a.usePointStyle&&(i=Math.min(i,t),r=a.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:i,itemHeight:Math.max(t,i)}},kw=(a,t)=>a!==null&&t!==null&&a.datasetIndex===t.datasetIndex&&a.index===t.index;class Fh extends as{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,r){this.maxWidth=t,this.maxHeight=i,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let i=fn(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(r=>t.filter(r,this.chart.data))),t.sort&&(i=i.sort((r,l)=>t.sort(r,l,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,l=Yn(r.font),f=l.size,b=this._computeTitleHeight(),{boxWidth:x,itemHeight:k}=Ph(r,f);let S,M;i.font=l.string,this.isHorizontal()?(S=this.maxWidth,M=this._fitRows(b,f,x,k)+10):(M=this.maxHeight,S=this._fitCols(b,l,x,k)+10),this.width=Math.min(S,t.maxWidth||this.maxWidth),this.height=Math.min(M,t.maxHeight||this.maxHeight)}_fitRows(t,i,r,l){const{ctx:f,maxWidth:b,options:{labels:{padding:x}}}=this,k=this.legendHitBoxes=[],S=this.lineWidths=[0],M=l+x;let L=t;f.textAlign="left",f.textBaseline="middle";let R=-1,q=-M;return this.legendItems.forEach((J,ae)=>{const oe=r+i/2+f.measureText(J.text).width;(ae===0||S[S.length-1]+oe+2*x>b)&&(L+=M,S[S.length-(ae>0?0:1)]=0,q+=M,R++),k[ae]={left:0,top:q,row:R,width:oe,height:l},S[S.length-1]+=oe+x}),L}_fitCols(t,i,r,l){const{ctx:f,maxHeight:b,options:{labels:{padding:x}}}=this,k=this.legendHitBoxes=[],S=this.columnSizes=[],M=b-t;let L=x,R=0,q=0,J=0,ae=0;return this.legendItems.forEach((oe,ue)=>{const{itemWidth:se,itemHeight:pe}=_w(r,i,f,oe,l);ue>0&&q+pe+2*x>M&&(L+=R+x,S.push({width:R,height:q}),J+=R+x,ae++,R=q=0),k[ue]={left:J,top:q,col:ae,width:se,height:pe},R=Math.max(R,se),q+=pe+x}),L+=R,S.push({width:R,height:q}),L}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:r,labels:{padding:l},rtl:f}}=this,b=Ca(f,this.left,this.width);if(this.isHorizontal()){let x=0,k=ai(r,this.left+l,this.right-this.lineWidths[x]);for(const S of i)x!==S.row&&(x=S.row,k=ai(r,this.left+l,this.right-this.lineWidths[x])),S.top+=this.top+t+l,S.left=b.leftForLtr(b.x(k),S.width),k+=S.width+l}else{let x=0,k=ai(r,this.top+t+l,this.bottom-this.columnSizes[x].height);for(const S of i)S.col!==x&&(x=S.col,k=ai(r,this.top+t+l,this.bottom-this.columnSizes[x].height)),S.top=k,S.left+=this.left+l,S.left=b.leftForLtr(b.x(S.left),S.width),k+=S.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;zo(t,this),this._draw(),Ho(t)}}_draw(){const{options:t,columnSizes:i,lineWidths:r,ctx:l}=this,{align:f,labels:b}=t,x=Cn.color,k=Ca(t.rtl,this.left,this.width),S=Yn(b.font),{padding:M}=b,L=S.size,R=L/2;let q;this.drawTitle(),l.textAlign=k.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=S.string;const{boxWidth:J,boxHeight:ae,itemHeight:oe}=Ph(b,L),ue=function(Oe,De,Te){if(isNaN(J)||J<=0||isNaN(ae)||ae<0)return;l.save();const Re=Nt(Te.lineWidth,1);if(l.fillStyle=Nt(Te.fillStyle,x),l.lineCap=Nt(Te.lineCap,"butt"),l.lineDashOffset=Nt(Te.lineDashOffset,0),l.lineJoin=Nt(Te.lineJoin,"miter"),l.lineWidth=Re,l.strokeStyle=Nt(Te.strokeStyle,x),l.setLineDash(Nt(Te.lineDash,[])),b.usePointStyle){const at={radius:ae*Math.SQRT2/2,pointStyle:Te.pointStyle,rotation:Te.rotation,borderWidth:Re},ze=k.xPlus(Oe,J/2),et=De+R;Xf(l,at,ze,et,b.pointStyleWidth&&J)}else{const at=De+Math.max((L-ae)/2,0),ze=k.leftForLtr(Oe,J),et=qs(Te.borderRadius);l.beginPath(),Object.values(et).some(ft=>ft!==0)?Cr(l,{x:ze,y:at,w:J,h:ae,radius:et}):l.rect(ze,at,J,ae),l.fill(),Re!==0&&l.stroke()}l.restore()},se=function(Oe,De,Te){Gs(l,Te.text,Oe,De+oe/2,S,{strikethrough:Te.hidden,textAlign:k.textAlign(Te.textAlign)})},pe=this.isHorizontal(),te=this._computeTitleHeight();pe?q={x:ai(f,this.left+M,this.right-r[0]),y:this.top+M+te,line:0}:q={x:this.left+M,y:ai(f,this.top+te+M,this.bottom-i[0].height),line:0},ip(this.ctx,t.textDirection);const re=oe+M;this.legendItems.forEach((Oe,De)=>{l.strokeStyle=Oe.fontColor,l.fillStyle=Oe.fontColor;const Te=l.measureText(Oe.text).width,Re=k.textAlign(Oe.textAlign||(Oe.textAlign=b.textAlign)),at=J+R+Te;let ze=q.x,et=q.y;k.setWidth(this.width),pe?De>0&&ze+at+M>this.right&&(et=q.y+=re,q.line++,ze=q.x=ai(f,this.left+M,this.right-r[q.line])):De>0&&et+re>this.bottom&&(ze=q.x=ze+i[q.line].width+M,q.line++,et=q.y=ai(f,this.top+te+M,this.bottom-i[q.line].height));const ft=k.x(ze);if(ue(ft,et,Oe),ze=qv(Re,ze+J+R,pe?ze+at:this.right,t.rtl),se(k.x(ze),et,Oe),pe)q.x+=at+M;else if(typeof Oe.text!="string"){const gt=S.lineHeight;q.y+=Mp(Oe,gt)+M}else q.y+=re}),sp(this.ctx,t.textDirection)}drawTitle(){const t=this.options,i=t.title,r=Yn(i.font),l=oi(i.padding);if(!i.display)return;const f=Ca(t.rtl,this.left,this.width),b=this.ctx,x=i.position,k=r.size/2,S=l.top+k;let M,L=this.left,R=this.width;if(this.isHorizontal())R=Math.max(...this.lineWidths),M=this.top+S,L=ai(t.align,L,this.right-R);else{const J=this.columnSizes.reduce((ae,oe)=>Math.max(ae,oe.height),0);M=S+ai(t.align,this.top,this.bottom-J-t.labels.padding-this._computeTitleHeight())}const q=ai(x,L,L+R);b.textAlign=f.textAlign(Su(x)),b.textBaseline="middle",b.strokeStyle=i.color,b.fillStyle=i.color,b.font=r.string,Gs(b,i.text,q,M,r)}_computeTitleHeight(){const t=this.options.title,i=Yn(t.font),r=oi(t.padding);return t.display?i.lineHeight+r.height:0}_getLegendItemAt(t,i){let r,l,f;if(ns(t,this.left,this.right)&&ns(i,this.top,this.bottom)){for(f=this.legendHitBoxes,r=0;r<f.length;++r)if(l=f[r],ns(t,l.left,l.left+l.width)&&ns(i,l.top,l.top+l.height))return this.legendItems[r]}return null}handleEvent(t){const i=this.options;if(!Dw(t.type,i))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,f=kw(l,r);l&&!f&&fn(i.onLeave,[t,l,this],this),this._hoveredItem=r,r&&!f&&fn(i.onHover,[t,r,this],this)}else r&&fn(i.onClick,[t,r,this],this)}}function _w(a,t,i,r,l){const f=Sw(r,a,t,i),b=Tw(l,r,t.lineHeight);return{itemWidth:f,itemHeight:b}}function Sw(a,t,i,r){let l=a.text;return l&&typeof l!="string"&&(l=l.reduce((f,b)=>f.length>b.length?f:b)),t+i.size/2+r.measureText(l).width}function Tw(a,t,i){let r=a;return typeof t.text!="string"&&(r=Mp(t,i)),r}function Mp(a,t){const i=a.text?a.text.length:0;return t*i}function Dw(a,t){return!!((a==="mousemove"||a==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(a==="click"||a==="mouseup"))}var Ew={id:"legend",_element:Fh,start(a,t,i){const r=a.legend=new Fh({ctx:a.ctx,options:i,chart:a});ri.configure(a,r,i),ri.addBox(a,r)},stop(a){ri.removeBox(a,a.legend),delete a.legend},beforeUpdate(a,t,i){const r=a.legend;ri.configure(a,r,i),r.options=i},afterUpdate(a){const t=a.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(a,t){t.replay||a.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(a,t,i){const r=t.datasetIndex,l=i.chart;l.isDatasetVisible(r)?(l.hide(r),t.hidden=!0):(l.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:a=>a.chart.options.color,boxWidth:40,padding:10,generateLabels(a){const t=a.data.datasets,{labels:{usePointStyle:i,pointStyle:r,textAlign:l,color:f,useBorderRadius:b,borderRadius:x}}=a.legend.options;return a._getSortedDatasetMetas().map(k=>{const S=k.controller.getStyle(i?0:void 0),M=oi(S.borderWidth);return{text:t[k.index].label,fillStyle:S.backgroundColor,fontColor:f,hidden:!k.visible,lineCap:S.borderCapStyle,lineDash:S.borderDash,lineDashOffset:S.borderDashOffset,lineJoin:S.borderJoinStyle,lineWidth:(M.width+M.height)/4,strokeStyle:S.borderColor,pointStyle:r||S.pointStyle,rotation:S.rotation,textAlign:l||S.textAlign,borderRadius:b&&(x||S.borderRadius),datasetIndex:k.index}},this)}},title:{color:a=>a.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:a=>!a.startsWith("on"),labels:{_scriptable:a=>!["generateLabels","filter","sort"].includes(a)}}};class Lu extends as{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;const l=wn(r.text)?r.text.length:1;this._padding=oi(r.padding);const f=l*Yn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=f:this.width=f}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:i,left:r,bottom:l,right:f,options:b}=this,x=b.align;let k=0,S,M,L;return this.isHorizontal()?(M=ai(x,r,f),L=i+t,S=f-r):(b.position==="left"?(M=r+t,L=ai(x,l,i),k=gn*-.5):(M=f-t,L=ai(x,i,l),k=gn*.5),S=l-i),{titleX:M,titleY:L,maxWidth:S,rotation:k}}draw(){const t=this.ctx,i=this.options;if(!i.display)return;const r=Yn(i.font),f=r.lineHeight/2+this._padding.top,{titleX:b,titleY:x,maxWidth:k,rotation:S}=this._drawArgs(f);Gs(t,i.text,0,0,r,{color:i.color,maxWidth:k,rotation:S,textAlign:Su(i.align),textBaseline:"middle",translation:[b,x]})}}function Aw(a,t){const i=new Lu({ctx:a.ctx,options:t,chart:a});ri.configure(a,i,t),ri.addBox(a,i),a.titleBlock=i}var Mw={id:"title",_element:Lu,start(a,t,i){Aw(a,i)},stop(a){const t=a.titleBlock;ri.removeBox(a,t),delete a.titleBlock},beforeUpdate(a,t,i){const r=a.titleBlock;ri.configure(a,r,i),r.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fo=new WeakMap;var Iw={id:"subtitle",start(a,t,i){const r=new Lu({ctx:a.ctx,options:i,chart:a});ri.configure(a,r,i),ri.addBox(a,r),fo.set(a,r)},stop(a){ri.removeBox(a,fo.get(a)),fo.delete(a)},beforeUpdate(a,t,i){const r=fo.get(a);ri.configure(a,r,i),r.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ur={average(a){if(!a.length)return!1;let t,i,r=new Set,l=0,f=0;for(t=0,i=a.length;t<i;++t){const x=a[t].element;if(x&&x.hasValue()){const k=x.tooltipPosition();r.add(k.x),l+=k.y,++f}}return f===0||r.size===0?!1:{x:[...r].reduce((x,k)=>x+k)/r.size,y:l/f}},nearest(a,t){if(!a.length)return!1;let i=t.x,r=t.y,l=Number.POSITIVE_INFINITY,f,b,x;for(f=0,b=a.length;f<b;++f){const k=a[f].element;if(k&&k.hasValue()){const S=k.getCenterPoint(),M=tu(t,S);M<l&&(l=M,x=k)}}if(x){const k=x.tooltipPosition();i=k.x,r=k.y}return{x:i,y:r}}};function zi(a,t){return t&&(wn(t)?Array.prototype.push.apply(a,t):a.push(t)),a}function Zi(a){return(typeof a=="string"||a instanceof String)&&a.indexOf(`
`)>-1?a.split(`
`):a}function Ow(a,t){const{element:i,datasetIndex:r,index:l}=t,f=a.getDatasetMeta(r).controller,{label:b,value:x}=f.getLabelAndValue(l);return{chart:a,label:b,parsed:f.getParsed(l),raw:a.data.datasets[r].data[l],formattedValue:x,dataset:f.getDataset(),dataIndex:l,datasetIndex:r,element:i}}function Lh(a,t){const i=a.chart.ctx,{body:r,footer:l,title:f}=a,{boxWidth:b,boxHeight:x}=t,k=Yn(t.bodyFont),S=Yn(t.titleFont),M=Yn(t.footerFont),L=f.length,R=l.length,q=r.length,J=oi(t.padding);let ae=J.height,oe=0,ue=r.reduce((te,re)=>te+re.before.length+re.lines.length+re.after.length,0);if(ue+=a.beforeBody.length+a.afterBody.length,L&&(ae+=L*S.lineHeight+(L-1)*t.titleSpacing+t.titleMarginBottom),ue){const te=t.displayColors?Math.max(x,k.lineHeight):k.lineHeight;ae+=q*te+(ue-q)*k.lineHeight+(ue-1)*t.bodySpacing}R&&(ae+=t.footerMarginTop+R*M.lineHeight+(R-1)*t.footerSpacing);let se=0;const pe=function(te){oe=Math.max(oe,i.measureText(te).width+se)};return i.save(),i.font=S.string,rn(a.title,pe),i.font=k.string,rn(a.beforeBody.concat(a.afterBody),pe),se=t.displayColors?b+2+t.boxPadding:0,rn(r,te=>{rn(te.before,pe),rn(te.lines,pe),rn(te.after,pe)}),se=0,i.font=M.string,rn(a.footer,pe),i.restore(),oe+=J.width,{width:oe,height:ae}}function Pw(a,t){const{y:i,height:r}=t;return i<r/2?"top":i>a.height-r/2?"bottom":"center"}function Fw(a,t,i,r){const{x:l,width:f}=r,b=i.caretSize+i.caretPadding;if(a==="left"&&l+f+b>t.width||a==="right"&&l-f-b<0)return!0}function Lw(a,t,i,r){const{x:l,width:f}=i,{width:b,chartArea:{left:x,right:k}}=a;let S="center";return r==="center"?S=l<=(x+k)/2?"left":"right":l<=f/2?S="left":l>=b-f/2&&(S="right"),Fw(S,a,t,i)&&(S="center"),S}function Bh(a,t,i){const r=i.yAlign||t.yAlign||Pw(a,i);return{xAlign:i.xAlign||t.xAlign||Lw(a,t,i,r),yAlign:r}}function Bw(a,t){let{x:i,width:r}=a;return t==="right"?i-=r:t==="center"&&(i-=r/2),i}function Rw(a,t,i){let{y:r,height:l}=a;return t==="top"?r+=i:t==="bottom"?r-=l+i:r-=l/2,r}function Rh(a,t,i,r){const{caretSize:l,caretPadding:f,cornerRadius:b}=a,{xAlign:x,yAlign:k}=i,S=l+f,{topLeft:M,topRight:L,bottomLeft:R,bottomRight:q}=qs(b);let J=Bw(t,x);const ae=Rw(t,k,S);return k==="center"?x==="left"?J+=S:x==="right"&&(J-=S):x==="left"?J-=Math.max(M,R)+l:x==="right"&&(J+=Math.max(L,q)+l),{x:Xn(J,0,r.width-t.width),y:Xn(ae,0,r.height-t.height)}}function po(a,t,i){const r=oi(i.padding);return t==="center"?a.x+a.width/2:t==="right"?a.x+a.width-r.right:a.x+r.left}function Nh(a){return zi([],Zi(a))}function Nw(a,t,i){return Ss(a,{tooltip:t,tooltipItems:i,type:"tooltip"})}function zh(a,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?a.override(i):a}const Ip={beforeTitle:Qi,title(a){if(a.length>0){const t=a[0],i=t.chart.data.labels,r=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return i[t.dataIndex]}return""},afterTitle:Qi,beforeBody:Qi,beforeLabel:Qi,label(a){if(this&&this.options&&this.options.mode==="dataset")return a.label+": "+a.formattedValue||a.formattedValue;let t=a.dataset.label||"";t&&(t+=": ");const i=a.formattedValue;return Wt(i)||(t+=i),t},labelColor(a){const i=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(a){const i=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Qi,afterBody:Qi,beforeFooter:Qi,footer:Qi,afterFooter:Qi};function wi(a,t,i,r){const l=a[t].call(i,r);return typeof l>"u"?Ip[t].call(i,r):l}class cu extends as{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,r=this.options.setContext(this.getContext()),l=r.enabled&&i.options.animation&&r.animations,f=new up(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(f)),f}getContext(){return this.$context||(this.$context=Nw(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:r}=i,l=wi(r,"beforeTitle",this,t),f=wi(r,"title",this,t),b=wi(r,"afterTitle",this,t);let x=[];return x=zi(x,Zi(l)),x=zi(x,Zi(f)),x=zi(x,Zi(b)),x}getBeforeBody(t,i){return Nh(wi(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:r}=i,l=[];return rn(t,f=>{const b={before:[],lines:[],after:[]},x=zh(r,f);zi(b.before,Zi(wi(x,"beforeLabel",this,f))),zi(b.lines,wi(x,"label",this,f)),zi(b.after,Zi(wi(x,"afterLabel",this,f))),l.push(b)}),l}getAfterBody(t,i){return Nh(wi(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:r}=i,l=wi(r,"beforeFooter",this,t),f=wi(r,"footer",this,t),b=wi(r,"afterFooter",this,t);let x=[];return x=zi(x,Zi(l)),x=zi(x,Zi(f)),x=zi(x,Zi(b)),x}_createItems(t){const i=this._active,r=this.chart.data,l=[],f=[],b=[];let x=[],k,S;for(k=0,S=i.length;k<S;++k)x.push(Ow(this.chart,i[k]));return t.filter&&(x=x.filter((M,L,R)=>t.filter(M,L,R,r))),t.itemSort&&(x=x.sort((M,L)=>t.itemSort(M,L,r))),rn(x,M=>{const L=zh(t.callbacks,M);l.push(wi(L,"labelColor",this,M)),f.push(wi(L,"labelPointStyle",this,M)),b.push(wi(L,"labelTextColor",this,M))}),this.labelColors=l,this.labelPointStyles=f,this.labelTextColors=b,this.dataPoints=x,x}update(t,i){const r=this.options.setContext(this.getContext()),l=this._active;let f,b=[];if(!l.length)this.opacity!==0&&(f={opacity:0});else{const x=ur[r.position].call(this,l,this._eventPosition);b=this._createItems(r),this.title=this.getTitle(b,r),this.beforeBody=this.getBeforeBody(b,r),this.body=this.getBody(b,r),this.afterBody=this.getAfterBody(b,r),this.footer=this.getFooter(b,r);const k=this._size=Lh(this,r),S=Object.assign({},x,k),M=Bh(this.chart,r,S),L=Rh(r,S,M,this.chart);this.xAlign=M.xAlign,this.yAlign=M.yAlign,f={opacity:1,x:L.x,y:L.y,width:k.width,height:k.height,caretX:x.x,caretY:x.y}}this._tooltipItems=b,this.$context=void 0,f&&this._resolveAnimations().update(this,f),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,l){const f=this.getCaretPosition(t,r,l);i.lineTo(f.x1,f.y1),i.lineTo(f.x2,f.y2),i.lineTo(f.x3,f.y3)}getCaretPosition(t,i,r){const{xAlign:l,yAlign:f}=this,{caretSize:b,cornerRadius:x}=r,{topLeft:k,topRight:S,bottomLeft:M,bottomRight:L}=qs(x),{x:R,y:q}=t,{width:J,height:ae}=i;let oe,ue,se,pe,te,re;return f==="center"?(te=q+ae/2,l==="left"?(oe=R,ue=oe-b,pe=te+b,re=te-b):(oe=R+J,ue=oe+b,pe=te-b,re=te+b),se=oe):(l==="left"?ue=R+Math.max(k,M)+b:l==="right"?ue=R+J-Math.max(S,L)-b:ue=this.caretX,f==="top"?(pe=q,te=pe-b,oe=ue-b,se=ue+b):(pe=q+ae,te=pe+b,oe=ue+b,se=ue-b),re=pe),{x1:oe,x2:ue,x3:se,y1:pe,y2:te,y3:re}}drawTitle(t,i,r){const l=this.title,f=l.length;let b,x,k;if(f){const S=Ca(r.rtl,this.x,this.width);for(t.x=po(this,r.titleAlign,r),i.textAlign=S.textAlign(r.titleAlign),i.textBaseline="middle",b=Yn(r.titleFont),x=r.titleSpacing,i.fillStyle=r.titleColor,i.font=b.string,k=0;k<f;++k)i.fillText(l[k],S.x(t.x),t.y+b.lineHeight/2),t.y+=b.lineHeight+x,k+1===f&&(t.y+=r.titleMarginBottom-x)}}_drawColorBox(t,i,r,l,f){const b=this.labelColors[r],x=this.labelPointStyles[r],{boxHeight:k,boxWidth:S}=f,M=Yn(f.bodyFont),L=po(this,"left",f),R=l.x(L),q=k<M.lineHeight?(M.lineHeight-k)/2:0,J=i.y+q;if(f.usePointStyle){const ae={radius:Math.min(S,k)/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:1},oe=l.leftForLtr(R,S)+S/2,ue=J+k/2;t.strokeStyle=f.multiKeyBackground,t.fillStyle=f.multiKeyBackground,iu(t,ae,oe,ue),t.strokeStyle=b.borderColor,t.fillStyle=b.backgroundColor,iu(t,ae,oe,ue)}else{t.lineWidth=Vt(b.borderWidth)?Math.max(...Object.values(b.borderWidth)):b.borderWidth||1,t.strokeStyle=b.borderColor,t.setLineDash(b.borderDash||[]),t.lineDashOffset=b.borderDashOffset||0;const ae=l.leftForLtr(R,S),oe=l.leftForLtr(l.xPlus(R,1),S-2),ue=qs(b.borderRadius);Object.values(ue).some(se=>se!==0)?(t.beginPath(),t.fillStyle=f.multiKeyBackground,Cr(t,{x:ae,y:J,w:S,h:k,radius:ue}),t.fill(),t.stroke(),t.fillStyle=b.backgroundColor,t.beginPath(),Cr(t,{x:oe,y:J+1,w:S-2,h:k-2,radius:ue}),t.fill()):(t.fillStyle=f.multiKeyBackground,t.fillRect(ae,J,S,k),t.strokeRect(ae,J,S,k),t.fillStyle=b.backgroundColor,t.fillRect(oe,J+1,S-2,k-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){const{body:l}=this,{bodySpacing:f,bodyAlign:b,displayColors:x,boxHeight:k,boxWidth:S,boxPadding:M}=r,L=Yn(r.bodyFont);let R=L.lineHeight,q=0;const J=Ca(r.rtl,this.x,this.width),ae=function(Te){i.fillText(Te,J.x(t.x+q),t.y+R/2),t.y+=R+f},oe=J.textAlign(b);let ue,se,pe,te,re,Oe,De;for(i.textAlign=b,i.textBaseline="middle",i.font=L.string,t.x=po(this,oe,r),i.fillStyle=r.bodyColor,rn(this.beforeBody,ae),q=x&&oe!=="right"?b==="center"?S/2+M:S+2+M:0,te=0,Oe=l.length;te<Oe;++te){for(ue=l[te],se=this.labelTextColors[te],i.fillStyle=se,rn(ue.before,ae),pe=ue.lines,x&&pe.length&&(this._drawColorBox(i,t,te,J,r),R=Math.max(L.lineHeight,k)),re=0,De=pe.length;re<De;++re)ae(pe[re]),R=L.lineHeight;rn(ue.after,ae)}q=0,R=L.lineHeight,rn(this.afterBody,ae),t.y-=f}drawFooter(t,i,r){const l=this.footer,f=l.length;let b,x;if(f){const k=Ca(r.rtl,this.x,this.width);for(t.x=po(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=k.textAlign(r.footerAlign),i.textBaseline="middle",b=Yn(r.footerFont),i.fillStyle=r.footerColor,i.font=b.string,x=0;x<f;++x)i.fillText(l[x],k.x(t.x),t.y+b.lineHeight/2),t.y+=b.lineHeight+r.footerSpacing}}drawBackground(t,i,r,l){const{xAlign:f,yAlign:b}=this,{x,y:k}=t,{width:S,height:M}=r,{topLeft:L,topRight:R,bottomLeft:q,bottomRight:J}=qs(l.cornerRadius);i.fillStyle=l.backgroundColor,i.strokeStyle=l.borderColor,i.lineWidth=l.borderWidth,i.beginPath(),i.moveTo(x+L,k),b==="top"&&this.drawCaret(t,i,r,l),i.lineTo(x+S-R,k),i.quadraticCurveTo(x+S,k,x+S,k+R),b==="center"&&f==="right"&&this.drawCaret(t,i,r,l),i.lineTo(x+S,k+M-J),i.quadraticCurveTo(x+S,k+M,x+S-J,k+M),b==="bottom"&&this.drawCaret(t,i,r,l),i.lineTo(x+q,k+M),i.quadraticCurveTo(x,k+M,x,k+M-q),b==="center"&&f==="left"&&this.drawCaret(t,i,r,l),i.lineTo(x,k+L),i.quadraticCurveTo(x,k,x+L,k),i.closePath(),i.fill(),l.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,r=this.$animations,l=r&&r.x,f=r&&r.y;if(l||f){const b=ur[t.position].call(this,this._active,this._eventPosition);if(!b)return;const x=this._size=Lh(this,t),k=Object.assign({},b,this._size),S=Bh(i,t,k),M=Rh(t,k,S,i);(l._to!==M.x||f._to!==M.y)&&(this.xAlign=S.xAlign,this.yAlign=S.yAlign,this.width=x.width,this.height=x.height,this.caretX=b.x,this.caretY=b.y,this._resolveAnimations().update(this,M))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const l={width:this.width,height:this.height},f={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const b=oi(i.padding),x=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&x&&(t.save(),t.globalAlpha=r,this.drawBackground(f,t,l,i),ip(t,i.textDirection),f.y+=b.top,this.drawTitle(f,t,i),this.drawBody(f,t,i),this.drawFooter(f,t,i),sp(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const r=this._active,l=t.map(({datasetIndex:x,index:k})=>{const S=this.chart.getDatasetMeta(x);if(!S)throw new Error("Cannot find a dataset at index "+x);return{datasetIndex:x,element:S.data[k],index:k}}),f=!Eo(r,l),b=this._positionChanged(l,i);(f||b)&&(this._active=l,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,f=this._active||[],b=this._getActiveElements(t,f,i,r),x=this._positionChanged(b,t),k=i||!Eo(b,f)||x;return k&&(this._active=b,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),k}_getActiveElements(t,i,r,l){const f=this.options;if(t.type==="mouseout")return[];if(!l)return i.filter(x=>this.chart.data.datasets[x.datasetIndex]&&this.chart.getDatasetMeta(x.datasetIndex).controller.getParsed(x.index)!==void 0);const b=this.chart.getElementsAtEventForMode(t,f.mode,f,r);return f.reverse&&b.reverse(),b}_positionChanged(t,i){const{caretX:r,caretY:l,options:f}=this,b=ur[f.position].call(this,t,i);return b!==!1&&(r!==b.x||l!==b.y)}}Le(cu,"positioners",ur);var zw={id:"tooltip",_element:cu,positioners:ur,afterInit(a,t,i){i&&(a.tooltip=new cu({chart:a,options:i}))},beforeUpdate(a,t,i){a.tooltip&&a.tooltip.initialize(i)},reset(a,t,i){a.tooltip&&a.tooltip.initialize(i)},afterDraw(a){const t=a.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(a.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;t.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",i)}},afterEvent(a,t){if(a.tooltip){const i=t.replay;a.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(a,t)=>t.bodyFont.size,boxWidth:(a,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ip},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:a=>a!=="filter"&&a!=="itemSort"&&a!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Hw=Object.freeze({__proto__:null,Colors:Jy,Decimation:nw,Filler:xw,Legend:Ew,SubTitle:Iw,Title:Mw,Tooltip:zw});const Ww=(a,t,i,r)=>(typeof t=="string"?(i=a.push(t)-1,r.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function Vw(a,t,i,r){const l=a.indexOf(t);if(l===-1)return Ww(a,t,i,r);const f=a.lastIndexOf(t);return l!==f?i:l}const Uw=(a,t)=>a===null?null:Xn(Math.round(a),0,t);function Hh(a){const t=this.getLabels();return a>=0&&a<t.length?t[a]:a}class du extends Xs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:l,label:f}of i)r[l]===f&&r.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(Wt(t))return null;const r=this.getLabels();return i=isFinite(i)&&r[i]===t?i:Vw(r,t,Nt(i,t),this._addedLabels),Uw(i,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),i||(l=this.getLabels().length-1)),this.min=r,this.max=l}buildTicks(){const t=this.min,i=this.max,r=this.options.offset,l=[];let f=this.getLabels();f=t===0&&i===f.length-1?f:f.slice(t,i+1),this._valueRange=Math.max(f.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let b=t;b<=i;b++)l.push({value:b});return l}getLabelForValue(t){return Hh.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Le(du,"id","category"),Le(du,"defaults",{ticks:{callback:Hh}});function jw(a,t){const i=[],{bounds:l,step:f,min:b,max:x,precision:k,count:S,maxTicks:M,maxDigits:L,includeBounds:R}=a,q=f||1,J=M-1,{min:ae,max:oe}=t,ue=!Wt(b),se=!Wt(x),pe=!Wt(S),te=(oe-ae)/(L+1);let re=Ld((oe-ae)/J/q)*q,Oe,De,Te,Re;if(re<1e-14&&!ue&&!se)return[{value:ae},{value:oe}];Re=Math.ceil(oe/re)-Math.floor(ae/re),Re>J&&(re=Ld(Re*re/J/q)*q),Wt(k)||(Oe=Math.pow(10,k),re=Math.ceil(re*Oe)/Oe),l==="ticks"?(De=Math.floor(ae/re)*re,Te=Math.ceil(oe/re)*re):(De=ae,Te=oe),ue&&se&&f&&Nv((x-b)/f,re/1e3)?(Re=Math.round(Math.min((x-b)/re,M)),re=(x-b)/Re,De=b,Te=x):pe?(De=ue?b:De,Te=se?x:Te,Re=S-1,re=(Te-De)/Re):(Re=(Te-De)/re,hr(Re,Math.round(Re),re/1e3)?Re=Math.round(Re):Re=Math.ceil(Re));const at=Math.max(Bd(re),Bd(De));Oe=Math.pow(10,Wt(k)?at:k),De=Math.round(De*Oe)/Oe,Te=Math.round(Te*Oe)/Oe;let ze=0;for(ue&&(R&&De!==b?(i.push({value:b}),De<b&&ze++,hr(Math.round((De+ze*re)*Oe)/Oe,b,Wh(b,te,a))&&ze++):De<b&&ze++);ze<Re;++ze){const et=Math.round((De+ze*re)*Oe)/Oe;if(se&&et>x)break;i.push({value:et})}return se&&R&&Te!==x?i.length&&hr(i[i.length-1].value,x,Wh(x,te,a))?i[i.length-1].value=x:i.push({value:x}):(!se||Te===x)&&i.push({value:Te}),i}function Wh(a,t,{horizontal:i,minRotation:r}){const l=Fi(r),f=(i?Math.sin(l):Math.cos(l))||.001,b=.75*t*(""+a).length;return Math.min(t/f,b)}class Lo extends Xs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return Wt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:i,maxDefined:r}=this.getUserBounds();let{min:l,max:f}=this;const b=k=>l=i?l:k,x=k=>f=r?f:k;if(t){const k=Ui(l),S=Ui(f);k<0&&S<0?x(0):k>0&&S>0&&b(0)}if(l===f){let k=f===0?1:Math.abs(f*.05);x(f+k),t||b(l-k)}this.min=l,this.max=f}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:i,stepSize:r}=t,l;return r?(l=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),i=i||11),i&&(l=Math.min(i,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,i=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const l={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},f=this._range||this,b=jw(l,f);return t.bounds==="ticks"&&Hf(b,this,"value"),t.reverse?(b.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),b}configure(){const t=this.ticks;let i=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const l=(r-i)/Math.max(t.length-1,1)/2;i-=l,r+=l}this._startValue=i,this._endValue=r,this._valueRange=r-i}getLabelForValue(t){return Tr(t,this.chart.options.locale,this.options.ticks.format)}}class hu extends Lo{determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=En(t)?t:0,this.max=En(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),i=t?this.width:this.height,r=Fi(this.options.ticks.minRotation),l=(t?Math.sin(r):Math.cos(r))||.001,f=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,f.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Le(hu,"id","linear"),Le(hu,"defaults",{ticks:{callback:No.formatters.numeric}});const kr=a=>Math.floor(ys(a)),Hs=(a,t)=>Math.pow(10,kr(a)+t);function Vh(a){return a/Math.pow(10,kr(a))===1}function Uh(a,t,i){const r=Math.pow(10,i),l=Math.floor(a/r);return Math.ceil(t/r)-l}function qw(a,t){const i=t-a;let r=kr(i);for(;Uh(a,t,r)>10;)r++;for(;Uh(a,t,r)<10;)r--;return Math.min(r,kr(a))}function $w(a,{min:t,max:i}){t=Ti(a.min,t);const r=[],l=kr(t);let f=qw(t,i),b=f<0?Math.pow(10,Math.abs(f)):1;const x=Math.pow(10,f),k=l>f?Math.pow(10,l):0,S=Math.round((t-k)*b)/b,M=Math.floor((t-k)/x/10)*x*10;let L=Math.floor((S-M)/Math.pow(10,f)),R=Ti(a.min,Math.round((k+M+L*Math.pow(10,f))*b)/b);for(;R<i;)r.push({value:R,major:Vh(R),significand:L}),L>=10?L=L<15?15:20:L++,L>=20&&(f++,L=2,b=f>=0?1:b),R=Math.round((k+M+L*Math.pow(10,f))*b)/b;const q=Ti(a.max,R);return r.push({value:q,major:Vh(q),significand:L}),r}class fu extends Xs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){const r=Lo.prototype.parse.apply(this,[t,i]);if(r===0){this._zero=!0;return}return En(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=En(t)?Math.max(0,t):null,this.max=En(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!En(this._userMin)&&(this.min=t===Hs(this.min,0)?Hs(this.min,-1):Hs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let r=this.min,l=this.max;const f=x=>r=t?r:x,b=x=>l=i?l:x;r===l&&(r<=0?(f(1),b(10)):(f(Hs(r,-1)),b(Hs(l,1)))),r<=0&&f(Hs(l,-1)),l<=0&&b(Hs(r,1)),this.min=r,this.max=l}buildTicks(){const t=this.options,i={min:this._userMin,max:this._userMax},r=$w(i,this);return t.bounds==="ticks"&&Hf(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Tr(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ys(t),this._valueRange=ys(this.max)-ys(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ys(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}}Le(fu,"id","logarithmic"),Le(fu,"defaults",{ticks:{callback:No.formatters.logarithmic,major:{enabled:!0}}});function pu(a){const t=a.ticks;if(t.display&&a.display){const i=oi(t.backdropPadding);return Nt(t.font&&t.font.size,Cn.font.size)+i.height}return 0}function Yw(a,t,i){return i=wn(i)?i:[i],{w:t0(a,t.string,i),h:i.length*t.lineHeight}}function jh(a,t,i,r,l){return a===r||a===l?{start:t-i/2,end:t+i/2}:a<r||a>l?{start:t-i,end:t}:{start:t,end:t+i}}function Gw(a){const t={l:a.left+a._padding.left,r:a.right-a._padding.right,t:a.top+a._padding.top,b:a.bottom-a._padding.bottom},i=Object.assign({},t),r=[],l=[],f=a._pointLabels.length,b=a.options.pointLabels,x=b.centerPointLabels?gn/f:0;for(let k=0;k<f;k++){const S=b.setContext(a.getPointLabelContext(k));l[k]=S.padding;const M=a.getPointPosition(k,a.drawingArea+l[k],x),L=Yn(S.font),R=Yw(a.ctx,L,a._pointLabels[k]);r[k]=R;const q=Di(a.getIndexAngle(k)+x),J=Math.round(ku(q)),ae=jh(J,M.x,R.w,0,180),oe=jh(J,M.y,R.h,90,270);Xw(i,t,q,ae,oe)}a.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),a._pointLabelItems=Jw(a,r,l)}function Xw(a,t,i,r,l){const f=Math.abs(Math.sin(i)),b=Math.abs(Math.cos(i));let x=0,k=0;r.start<t.l?(x=(t.l-r.start)/f,a.l=Math.min(a.l,t.l-x)):r.end>t.r&&(x=(r.end-t.r)/f,a.r=Math.max(a.r,t.r+x)),l.start<t.t?(k=(t.t-l.start)/b,a.t=Math.min(a.t,t.t-k)):l.end>t.b&&(k=(l.end-t.b)/b,a.b=Math.max(a.b,t.b+k))}function Kw(a,t,i){const r=a.drawingArea,{extra:l,additionalAngle:f,padding:b,size:x}=i,k=a.getPointPosition(t,r+l+b,f),S=Math.round(ku(Di(k.angle+Fn))),M=tC(k.y,x.h,S),L=Zw(S),R=eC(k.x,x.w,L);return{visible:!0,x:k.x,y:M,textAlign:L,left:R,top:M,right:R+x.w,bottom:M+x.h}}function Qw(a,t){if(!t)return!0;const{left:i,top:r,right:l,bottom:f}=a;return!(ss({x:i,y:r},t)||ss({x:i,y:f},t)||ss({x:l,y:r},t)||ss({x:l,y:f},t))}function Jw(a,t,i){const r=[],l=a._pointLabels.length,f=a.options,{centerPointLabels:b,display:x}=f.pointLabels,k={extra:pu(f)/2,additionalAngle:b?gn/l:0};let S;for(let M=0;M<l;M++){k.padding=i[M],k.size=t[M];const L=Kw(a,M,k);r.push(L),x==="auto"&&(L.visible=Qw(L,S),L.visible&&(S=L))}return r}function Zw(a){return a===0||a===180?"center":a<180?"left":"right"}function eC(a,t,i){return i==="right"?a-=t:i==="center"&&(a-=t/2),a}function tC(a,t,i){return i===90||i===270?a-=t/2:(i>270||i<90)&&(a-=t),a}function nC(a,t,i){const{left:r,top:l,right:f,bottom:b}=i,{backdropColor:x}=t;if(!Wt(x)){const k=qs(t.borderRadius),S=oi(t.backdropPadding);a.fillStyle=x;const M=r-S.left,L=l-S.top,R=f-r+S.width,q=b-l+S.height;Object.values(k).some(J=>J!==0)?(a.beginPath(),Cr(a,{x:M,y:L,w:R,h:q,radius:k}),a.fill()):a.fillRect(M,L,R,q)}}function iC(a,t){const{ctx:i,options:{pointLabels:r}}=a;for(let l=t-1;l>=0;l--){const f=a._pointLabelItems[l];if(!f.visible)continue;const b=r.setContext(a.getPointLabelContext(l));nC(i,b,f);const x=Yn(b.font),{x:k,y:S,textAlign:M}=f;Gs(i,a._pointLabels[l],k,S+x.lineHeight/2,x,{color:b.color,textAlign:M,textBaseline:"middle"})}}function Op(a,t,i,r){const{ctx:l}=a;if(i)l.arc(a.xCenter,a.yCenter,t,0,mn);else{let f=a.getPointPosition(0,t);l.moveTo(f.x,f.y);for(let b=1;b<r;b++)f=a.getPointPosition(b,t),l.lineTo(f.x,f.y)}}function sC(a,t,i,r,l){const f=a.ctx,b=t.circular,{color:x,lineWidth:k}=t;!b&&!r||!x||!k||i<0||(f.save(),f.strokeStyle=x,f.lineWidth=k,f.setLineDash(l.dash||[]),f.lineDashOffset=l.dashOffset,f.beginPath(),Op(a,i,b,r),f.closePath(),f.stroke(),f.restore())}function aC(a,t,i){return Ss(a,{label:i,index:t,type:"pointLabel"})}class cr extends Lo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=oi(pu(this.options)/2),i=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(i,r)/2)}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!1);this.min=En(t)&&!isNaN(t)?t:0,this.max=En(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pu(this.options))}generateTickLabels(t){Lo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,r)=>{const l=fn(this.options.pointLabels.callback,[i,r],this);return l||l===0?l:""}).filter((i,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?Gw(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,r,l){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((r-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,r,l))}getIndexAngle(t){const i=mn/(this._pointLabels.length||1),r=this.options.startAngle||0;return Di(t*i+Fi(r))}getDistanceFromCenterForValue(t){if(Wt(t))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(Wt(t))return NaN;const i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){const i=this._pointLabels||[];if(t>=0&&t<i.length){const r=i[t];return aC(this.getContext(),t,r)}}getPointPosition(t,i,r=0){const l=this.getIndexAngle(t)-Fn+r;return{x:Math.cos(l)*i+this.xCenter,y:Math.sin(l)*i+this.yCenter,angle:l}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:i,top:r,right:l,bottom:f}=this._pointLabelItems[t];return{left:i,top:r,right:l,bottom:f}}drawBackground(){const{backgroundColor:t,grid:{circular:i}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),Op(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,i=this.options,{angleLines:r,grid:l,border:f}=i,b=this._pointLabels.length;let x,k,S;if(i.pointLabels.display&&iC(this,b),l.display&&this.ticks.forEach((M,L)=>{if(L!==0||L===0&&this.min<0){k=this.getDistanceFromCenterForValue(M.value);const R=this.getContext(L),q=l.setContext(R),J=f.setContext(R);sC(this,q,k,b,J)}}),r.display){for(t.save(),x=b-1;x>=0;x--){const M=r.setContext(this.getPointLabelContext(x)),{color:L,lineWidth:R}=M;!R||!L||(t.lineWidth=R,t.strokeStyle=L,t.setLineDash(M.borderDash),t.lineDashOffset=M.borderDashOffset,k=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),S=this.getPointPosition(x,k),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(S.x,S.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,i=this.options,r=i.ticks;if(!r.display)return;const l=this.getIndexAngle(0);let f,b;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(l),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((x,k)=>{if(k===0&&this.min>=0&&!i.reverse)return;const S=r.setContext(this.getContext(k)),M=Yn(S.font);if(f=this.getDistanceFromCenterForValue(this.ticks[k].value),S.showLabelBackdrop){t.font=M.string,b=t.measureText(x.label).width,t.fillStyle=S.backdropColor;const L=oi(S.backdropPadding);t.fillRect(-b/2-L.left,-f-M.size/2-L.top,b+L.width,M.size+L.height)}Gs(t,x.label,0,-f,M,{color:S.color,strokeColor:S.textStrokeColor,strokeWidth:S.textStrokeWidth})}),t.restore()}drawTitle(){}}Le(cr,"id","radialLinear"),Le(cr,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:No.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Le(cr,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Le(cr,"descriptors",{angleLines:{_fallback:"grid"}});const Uo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ci=Object.keys(Uo);function qh(a,t){return a-t}function $h(a,t){if(Wt(t))return null;const i=a._adapter,{parser:r,round:l,isoWeekday:f}=a._parseOpts;let b=t;return typeof r=="function"&&(b=r(b)),En(b)||(b=typeof r=="string"?i.parse(b,r):i.parse(b)),b===null?null:(l&&(b=l==="week"&&(xa(f)||f===!0)?i.startOf(b,"isoWeek",f):i.startOf(b,l)),+b)}function Yh(a,t,i,r){const l=Ci.length;for(let f=Ci.indexOf(a);f<l-1;++f){const b=Uo[Ci[f]],x=b.steps?b.steps:Number.MAX_SAFE_INTEGER;if(b.common&&Math.ceil((i-t)/(x*b.size))<=r)return Ci[f]}return Ci[l-1]}function rC(a,t,i,r,l){for(let f=Ci.length-1;f>=Ci.indexOf(i);f--){const b=Ci[f];if(Uo[b].common&&a._adapter.diff(l,r,b)>=t-1)return b}return Ci[i?Ci.indexOf(i):0]}function oC(a){for(let t=Ci.indexOf(a)+1,i=Ci.length;t<i;++t)if(Uo[Ci[t]].common)return Ci[t]}function Gh(a,t,i){if(!i)a[t]=!0;else if(i.length){const{lo:r,hi:l}=_u(i,t),f=i[r]>=t?i[r]:i[l];a[f]=!0}}function lC(a,t,i,r){const l=a._adapter,f=+l.startOf(t[0].value,r),b=t[t.length-1].value;let x,k;for(x=f;x<=b;x=+l.add(x,1,r))k=i[x],k>=0&&(t[k].major=!0);return t}function Xh(a,t,i){const r=[],l={},f=t.length;let b,x;for(b=0;b<f;++b)x=t[b],l[x]=b,r.push({value:x,major:!1});return f===0||!i?r:lC(a,r,l,i)}class _r extends Xs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const r=t.time||(t.time={}),l=this._adapter=new hp._date(t.adapters.date);l.init(i),dr(r.displayFormats,l.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:$h(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,r=t.time.unit||"day";let{min:l,max:f,minDefined:b,maxDefined:x}=this.getUserBounds();function k(S){!b&&!isNaN(S.min)&&(l=Math.min(l,S.min)),!x&&!isNaN(S.max)&&(f=Math.max(f,S.max))}(!b||!x)&&(k(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&k(this.getMinMax(!1))),l=En(l)&&!isNaN(l)?l:+i.startOf(Date.now(),r),f=En(f)&&!isNaN(f)?f:+i.endOf(Date.now(),r)+1,this.min=Math.min(l,f-1),this.max=Math.max(l+1,f)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){const t=this.options,i=t.time,r=t.ticks,l=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const f=this.min,b=this.max,x=Vv(l,f,b);return this._unit=i.unit||(r.autoSkip?Yh(i.minUnit,this.min,this.max,this._getLabelCapacity(f)):rC(this,x.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:oC(this._unit),this.initOffsets(l),t.reverse&&x.reverse(),Xh(this,x,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,r=0,l,f;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?i=1-l:i=(this.getDecimalForValue(t[1])-l)/2,f=this.getDecimalForValue(t[t.length-1]),t.length===1?r=f:r=(f-this.getDecimalForValue(t[t.length-2]))/2);const b=t.length<3?.5:.25;i=Xn(i,0,b),r=Xn(r,0,b),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,i=this.min,r=this.max,l=this.options,f=l.time,b=f.unit||Yh(f.minUnit,i,r,this._getLabelCapacity(i)),x=Nt(l.ticks.stepSize,1),k=b==="week"?f.isoWeekday:!1,S=xa(k)||k===!0,M={};let L=i,R,q;if(S&&(L=+t.startOf(L,"isoWeek",k)),L=+t.startOf(L,S?"day":b),t.diff(r,i,b)>1e5*x)throw new Error(i+" and "+r+" are too far apart with stepSize of "+x+" "+b);const J=l.ticks.source==="data"&&this.getDataTimestamps();for(R=L,q=0;R<r;R=+t.add(R,x,b),q++)Gh(M,R,J);return(R===r||l.bounds==="ticks"||q===1)&&Gh(M,R,J),Object.keys(M).sort(qh).map(ae=>+ae)}getLabelForValue(t){const i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(t,r.tooltipFormat):i.format(t,r.displayFormats.datetime)}format(t,i){const l=this.options.time.displayFormats,f=this._unit,b=i||l[f];return this._adapter.format(t,b)}_tickFormatFunction(t,i,r,l){const f=this.options,b=f.ticks.callback;if(b)return fn(b,[t,i,r],this);const x=f.time.displayFormats,k=this._unit,S=this._majorUnit,M=k&&x[k],L=S&&x[S],R=r[i],q=S&&L&&R&&R.major;return this._adapter.format(t,l||(q?L:M))}generateTickLabels(t){let i,r,l;for(i=0,r=t.length;i<r;++i)l=t[i],l.label=this._tickFormatFunction(l.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){const i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,r=this.ctx.measureText(t).width,l=Fi(this.isHorizontal()?i.maxRotation:i.minRotation),f=Math.cos(l),b=Math.sin(l),x=this._resolveTickFontOptions(0).size;return{w:r*f+x*b,h:r*b+x*f}}_getLabelCapacity(t){const i=this.options.time,r=i.displayFormats,l=r[i.unit]||r.millisecond,f=this._tickFormatFunction(t,0,Xh(this,[t],this._majorUnit),l),b=this._getLabelSize(f),x=Math.floor(this.isHorizontal()?this.width/b.w:this.height/b.h)-1;return x>0?x:1}getDataTimestamps(){let t=this._cache.data||[],i,r;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(i=0,r=l.length;i<r;++i)t=t.concat(l[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,r;if(t.length)return t;const l=this.getLabels();for(i=0,r=l.length;i<r;++i)t.push($h(this,l[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Uf(t.sort(qh))}}Le(_r,"id","time"),Le(_r,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function mo(a,t,i){let r=0,l=a.length-1,f,b,x,k;i?(t>=a[r].pos&&t<=a[l].pos&&({lo:r,hi:l}=is(a,"pos",t)),{pos:f,time:x}=a[r],{pos:b,time:k}=a[l]):(t>=a[r].time&&t<=a[l].time&&({lo:r,hi:l}=is(a,"time",t)),{time:f,pos:x}=a[r],{time:b,pos:k}=a[l]);const S=b-f;return S?x+(k-x)*(t-f)/S:x}class mu extends _r{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=mo(i,this.min),this._tableRange=mo(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:r}=this,l=[],f=[];let b,x,k,S,M;for(b=0,x=t.length;b<x;++b)S=t[b],S>=i&&S<=r&&l.push(S);if(l.length<2)return[{time:i,pos:0},{time:r,pos:1}];for(b=0,x=l.length;b<x;++b)M=l[b+1],k=l[b-1],S=l[b],Math.round((M+k)/2)!==S&&f.push({time:S,pos:b/(x-1)});return f}_generate(){const t=this.min,i=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(i)||r.length===1)&&r.push(i),r.sort((l,f)=>l-f)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),r=this.getLabelTimestamps();return i.length&&r.length?t=this.normalize(i.concat(r)):t=i.length?i:r,t=this._cache.all=t,t}getDecimalForValue(t){return(mo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return mo(this._table,r*this._tableRange+this._minPos,!0)}}Le(mu,"id","timeseries"),Le(mu,"defaults",_r.defaults);var uC=Object.freeze({__proto__:null,CategoryScale:du,LinearScale:hu,LogarithmicScale:fu,RadialLinearScale:cr,TimeScale:_r,TimeSeriesScale:mu});const cC=[vb,qy,Hw,uC],Pp=6048e5,dC=864e5,Dr=6e4,Er=36e5,hC=1e3,Kh=Symbol.for("constructDateFrom");function An(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&Kh in a?a[Kh](t):a instanceof Date?new a.constructor(t):new Date(t)}function Bt(a,t){return An(t||a,a)}function jo(a,t,i){const r=Bt(a,i==null?void 0:i.in);return isNaN(t)?An((i==null?void 0:i.in)||a,NaN):(t&&r.setDate(r.getDate()+t),r)}function Bu(a,t,i){const r=Bt(a,i==null?void 0:i.in);if(isNaN(t))return An(a,NaN);if(!t)return r;const l=r.getDate(),f=An(a,r.getTime());f.setMonth(r.getMonth()+t+1,0);const b=f.getDate();return l>=b?f:(r.setFullYear(f.getFullYear(),f.getMonth(),l),r)}function Ru(a,t,i){return An(a,+Bt(a)+t)}function fC(a,t,i){return Ru(a,t*Er)}let pC={};function Ks(){return pC}function ji(a,t){var x,k,S,M;const i=Ks(),r=(t==null?void 0:t.weekStartsOn)??((k=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:k.weekStartsOn)??i.weekStartsOn??((M=(S=i.locale)==null?void 0:S.options)==null?void 0:M.weekStartsOn)??0,l=Bt(a,t==null?void 0:t.in),f=l.getDay(),b=(f<r?7:0)+f-r;return l.setDate(l.getDate()-b),l.setHours(0,0,0,0),l}function Sa(a,t){return ji(a,{...t,weekStartsOn:1})}function Fp(a,t){const i=Bt(a,t==null?void 0:t.in),r=i.getFullYear(),l=An(i,0);l.setFullYear(r+1,0,4),l.setHours(0,0,0,0);const f=Sa(l),b=An(i,0);b.setFullYear(r,0,4),b.setHours(0,0,0,0);const x=Sa(b);return i.getTime()>=f.getTime()?r+1:i.getTime()>=x.getTime()?r:r-1}function Bo(a){const t=Bt(a),i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return i.setUTCFullYear(t.getFullYear()),+a-+i}function Qs(a,...t){const i=An.bind(null,t.find(r=>typeof r=="object"));return t.map(i)}function gu(a,t){const i=Bt(a,t==null?void 0:t.in);return i.setHours(0,0,0,0),i}function Lp(a,t,i){const[r,l]=Qs(i==null?void 0:i.in,a,t),f=gu(r),b=gu(l),x=+f-Bo(f),k=+b-Bo(b);return Math.round((x-k)/dC)}function mC(a,t){const i=Fp(a,t),r=An(a,0);return r.setFullYear(i,0,4),r.setHours(0,0,0,0),Sa(r)}function gC(a,t,i){const r=Bt(a,i==null?void 0:i.in);return r.setTime(r.getTime()+t*Dr),r}function vC(a,t,i){return Bu(a,t*3,i)}function bC(a,t,i){return Ru(a,t*1e3)}function yC(a,t,i){return jo(a,t*7,i)}function wC(a,t,i){return Bu(a,t*12,i)}function gr(a,t){const i=+Bt(a)-+Bt(t);return i<0?-1:i>0?1:i}function CC(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function Bp(a){return!(!CC(a)&&typeof a!="number"||isNaN(+Bt(a)))}function xC(a,t,i){const[r,l]=Qs(i==null?void 0:i.in,a,t),f=r.getFullYear()-l.getFullYear(),b=r.getMonth()-l.getMonth();return f*12+b}function kC(a,t,i){const[r,l]=Qs(i==null?void 0:i.in,a,t);return r.getFullYear()-l.getFullYear()}function Rp(a,t,i){const[r,l]=Qs(i==null?void 0:i.in,a,t),f=Qh(r,l),b=Math.abs(Lp(r,l));r.setDate(r.getDate()-f*b);const x=+(Qh(r,l)===-f),k=f*(b-x);return k===0?0:k}function Qh(a,t){const i=a.getFullYear()-t.getFullYear()||a.getMonth()-t.getMonth()||a.getDate()-t.getDate()||a.getHours()-t.getHours()||a.getMinutes()-t.getMinutes()||a.getSeconds()-t.getSeconds()||a.getMilliseconds()-t.getMilliseconds();return i<0?-1:i>0?1:i}function Ar(a){return t=>{const r=(a?Math[a]:Math.trunc)(t);return r===0?0:r}}function _C(a,t,i){const[r,l]=Qs(i==null?void 0:i.in,a,t),f=(+r-+l)/Er;return Ar(i==null?void 0:i.roundingMethod)(f)}function Nu(a,t){return+Bt(a)-+Bt(t)}function SC(a,t,i){const r=Nu(a,t)/Dr;return Ar(i==null?void 0:i.roundingMethod)(r)}function Np(a,t){const i=Bt(a,t==null?void 0:t.in);return i.setHours(23,59,59,999),i}function zp(a,t){const i=Bt(a,t==null?void 0:t.in),r=i.getMonth();return i.setFullYear(i.getFullYear(),r+1,0),i.setHours(23,59,59,999),i}function TC(a,t){const i=Bt(a,t==null?void 0:t.in);return+Np(i,t)==+zp(i,t)}function Hp(a,t,i){const[r,l,f]=Qs(i==null?void 0:i.in,a,a,t),b=gr(l,f),x=Math.abs(xC(l,f));if(x<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-b*x);let k=gr(l,f)===-b;TC(r)&&x===1&&gr(r,f)===1&&(k=!1);const S=b*(x-+k);return S===0?0:S}function DC(a,t,i){const r=Hp(a,t,i)/3;return Ar(i==null?void 0:i.roundingMethod)(r)}function EC(a,t,i){const r=Nu(a,t)/1e3;return Ar(i==null?void 0:i.roundingMethod)(r)}function AC(a,t,i){const r=Rp(a,t,i)/7;return Ar(i==null?void 0:i.roundingMethod)(r)}function MC(a,t,i){const[r,l]=Qs(i==null?void 0:i.in,a,t),f=gr(r,l),b=Math.abs(kC(r,l));r.setFullYear(1584),l.setFullYear(1584);const x=gr(r,l)===-f,k=f*(b-+x);return k===0?0:k}function IC(a,t){const i=Bt(a,t==null?void 0:t.in),r=i.getMonth(),l=r-r%3;return i.setMonth(l,1),i.setHours(0,0,0,0),i}function OC(a,t){const i=Bt(a,t==null?void 0:t.in);return i.setDate(1),i.setHours(0,0,0,0),i}function PC(a,t){const i=Bt(a,t==null?void 0:t.in),r=i.getFullYear();return i.setFullYear(r+1,0,0),i.setHours(23,59,59,999),i}function Wp(a,t){const i=Bt(a,t==null?void 0:t.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}function FC(a,t){const i=Bt(a,t==null?void 0:t.in);return i.setMinutes(59,59,999),i}function LC(a,t){var x,k;const i=Ks(),r=i.weekStartsOn??((k=(x=i.locale)==null?void 0:x.options)==null?void 0:k.weekStartsOn)??0,l=Bt(a,t==null?void 0:t.in),f=l.getDay(),b=(f<r?-7:0)+6-(f-r);return l.setDate(l.getDate()+b),l.setHours(23,59,59,999),l}function BC(a,t){const i=Bt(a,t==null?void 0:t.in);return i.setSeconds(59,999),i}function RC(a,t){const i=Bt(a,t==null?void 0:t.in),r=i.getMonth(),l=r-r%3+3;return i.setMonth(l,0),i.setHours(23,59,59,999),i}function NC(a,t){const i=Bt(a,t==null?void 0:t.in);return i.setMilliseconds(999),i}const zC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HC=(a,t,i)=>{let r;const l=zC[a];return typeof l=="string"?r=l:t===1?r=l.one:r=l.other.replace("{{count}}",t.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r};function Gl(a){return(t={})=>{const i=t.width?String(t.width):a.defaultWidth;return a.formats[i]||a.formats[a.defaultWidth]}}const WC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jC={date:Gl({formats:WC,defaultWidth:"full"}),time:Gl({formats:VC,defaultWidth:"full"}),dateTime:Gl({formats:UC,defaultWidth:"full"})},qC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$C=(a,t,i,r)=>qC[a];function nr(a){return(t,i)=>{const r=i!=null&&i.context?String(i.context):"standalone";let l;if(r==="formatting"&&a.formattingValues){const b=a.defaultFormattingWidth||a.defaultWidth,x=i!=null&&i.width?String(i.width):b;l=a.formattingValues[x]||a.formattingValues[b]}else{const b=a.defaultWidth,x=i!=null&&i.width?String(i.width):a.defaultWidth;l=a.values[x]||a.values[b]}const f=a.argumentCallback?a.argumentCallback(t):t;return l[f]}}const YC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZC=(a,t)=>{const i=Number(a),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},ex={ordinalNumber:ZC,era:nr({values:YC,defaultWidth:"wide"}),quarter:nr({values:GC,defaultWidth:"wide",argumentCallback:a=>a-1}),month:nr({values:XC,defaultWidth:"wide"}),day:nr({values:KC,defaultWidth:"wide"}),dayPeriod:nr({values:QC,defaultWidth:"wide",formattingValues:JC,defaultFormattingWidth:"wide"})};function ir(a){return(t,i={})=>{const r=i.width,l=r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth],f=t.match(l);if(!f)return null;const b=f[0],x=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],k=Array.isArray(x)?nx(x,L=>L.test(b)):tx(x,L=>L.test(b));let S;S=a.valueCallback?a.valueCallback(k):k,S=i.valueCallback?i.valueCallback(S):S;const M=t.slice(b.length);return{value:S,rest:M}}}function tx(a,t){for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&t(a[i]))return i}function nx(a,t){for(let i=0;i<a.length;i++)if(t(a[i]))return i}function ix(a){return(t,i={})=>{const r=t.match(a.matchPattern);if(!r)return null;const l=r[0],f=t.match(a.parsePattern);if(!f)return null;let b=a.valueCallback?a.valueCallback(f[0]):f[0];b=i.valueCallback?i.valueCallback(b):b;const x=t.slice(l.length);return{value:b,rest:x}}}const sx=/^(\d+)(th|st|nd|rd)?/i,ax=/\d+/i,rx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ox={any:[/^b/i,/^(a|c)/i]},lx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ux={any:[/1/i,/2/i,/3/i,/4/i]},cx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},px={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gx={ordinalNumber:ix({matchPattern:sx,parsePattern:ax,valueCallback:a=>parseInt(a,10)}),era:ir({matchPatterns:rx,defaultMatchWidth:"wide",parsePatterns:ox,defaultParseWidth:"any"}),quarter:ir({matchPatterns:lx,defaultMatchWidth:"wide",parsePatterns:ux,defaultParseWidth:"any",valueCallback:a=>a+1}),month:ir({matchPatterns:cx,defaultMatchWidth:"wide",parsePatterns:dx,defaultParseWidth:"any"}),day:ir({matchPatterns:hx,defaultMatchWidth:"wide",parsePatterns:fx,defaultParseWidth:"any"}),dayPeriod:ir({matchPatterns:px,defaultMatchWidth:"any",parsePatterns:mx,defaultParseWidth:"any"})},Vp={code:"en-US",formatDistance:HC,formatLong:jC,formatRelative:$C,localize:ex,match:gx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vx(a,t){const i=Bt(a,t==null?void 0:t.in);return Lp(i,Wp(i))+1}function Up(a,t){const i=Bt(a,t==null?void 0:t.in),r=+Sa(i)-+mC(i);return Math.round(r/Pp)+1}function zu(a,t){var M,L,R,q;const i=Bt(a,t==null?void 0:t.in),r=i.getFullYear(),l=Ks(),f=(t==null?void 0:t.firstWeekContainsDate)??((L=(M=t==null?void 0:t.locale)==null?void 0:M.options)==null?void 0:L.firstWeekContainsDate)??l.firstWeekContainsDate??((q=(R=l.locale)==null?void 0:R.options)==null?void 0:q.firstWeekContainsDate)??1,b=An((t==null?void 0:t.in)||a,0);b.setFullYear(r+1,0,f),b.setHours(0,0,0,0);const x=ji(b,t),k=An((t==null?void 0:t.in)||a,0);k.setFullYear(r,0,f),k.setHours(0,0,0,0);const S=ji(k,t);return+i>=+x?r+1:+i>=+S?r:r-1}function bx(a,t){var x,k,S,M;const i=Ks(),r=(t==null?void 0:t.firstWeekContainsDate)??((k=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:k.firstWeekContainsDate)??i.firstWeekContainsDate??((M=(S=i.locale)==null?void 0:S.options)==null?void 0:M.firstWeekContainsDate)??1,l=zu(a,t),f=An((t==null?void 0:t.in)||a,0);return f.setFullYear(l,0,r),f.setHours(0,0,0,0),ji(f,t)}function jp(a,t){const i=Bt(a,t==null?void 0:t.in),r=+ji(i,t)-+bx(i,t);return Math.round(r/Pp)+1}function an(a,t){const i=a<0?"-":"",r=Math.abs(a).toString().padStart(t,"0");return i+r}const vs={y(a,t){const i=a.getFullYear(),r=i>0?i:1-i;return an(t==="yy"?r%100:r,t.length)},M(a,t){const i=a.getMonth();return t==="M"?String(i+1):an(i+1,2)},d(a,t){return an(a.getDate(),t.length)},a(a,t){const i=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h(a,t){return an(a.getHours()%12||12,t.length)},H(a,t){return an(a.getHours(),t.length)},m(a,t){return an(a.getMinutes(),t.length)},s(a,t){return an(a.getSeconds(),t.length)},S(a,t){const i=t.length,r=a.getMilliseconds(),l=Math.trunc(r*Math.pow(10,i-3));return an(l,t.length)}},wa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jh={G:function(a,t,i){const r=a.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})}},y:function(a,t,i){if(t==="yo"){const r=a.getFullYear(),l=r>0?r:1-r;return i.ordinalNumber(l,{unit:"year"})}return vs.y(a,t)},Y:function(a,t,i,r){const l=zu(a,r),f=l>0?l:1-l;if(t==="YY"){const b=f%100;return an(b,2)}return t==="Yo"?i.ordinalNumber(f,{unit:"year"}):an(f,t.length)},R:function(a,t){const i=Fp(a);return an(i,t.length)},u:function(a,t){const i=a.getFullYear();return an(i,t.length)},Q:function(a,t,i){const r=Math.ceil((a.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return an(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(a,t,i){const r=Math.ceil((a.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return an(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(a,t,i){const r=a.getMonth();switch(t){case"M":case"MM":return vs.M(a,t);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(a,t,i){const r=a.getMonth();switch(t){case"L":return String(r+1);case"LL":return an(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(a,t,i,r){const l=jp(a,r);return t==="wo"?i.ordinalNumber(l,{unit:"week"}):an(l,t.length)},I:function(a,t,i){const r=Up(a);return t==="Io"?i.ordinalNumber(r,{unit:"week"}):an(r,t.length)},d:function(a,t,i){return t==="do"?i.ordinalNumber(a.getDate(),{unit:"date"}):vs.d(a,t)},D:function(a,t,i){const r=vx(a);return t==="Do"?i.ordinalNumber(r,{unit:"dayOfYear"}):an(r,t.length)},E:function(a,t,i){const r=a.getDay();switch(t){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(a,t,i,r){const l=a.getDay(),f=(l-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(f);case"ee":return an(f,2);case"eo":return i.ordinalNumber(f,{unit:"day"});case"eee":return i.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(l,{width:"short",context:"formatting"});case"eeee":default:return i.day(l,{width:"wide",context:"formatting"})}},c:function(a,t,i,r){const l=a.getDay(),f=(l-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(f);case"cc":return an(f,t.length);case"co":return i.ordinalNumber(f,{unit:"day"});case"ccc":return i.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(l,{width:"narrow",context:"standalone"});case"cccccc":return i.day(l,{width:"short",context:"standalone"});case"cccc":default:return i.day(l,{width:"wide",context:"standalone"})}},i:function(a,t,i){const r=a.getDay(),l=r===0?7:r;switch(t){case"i":return String(l);case"ii":return an(l,t.length);case"io":return i.ordinalNumber(l,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});case"iiii":default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(a,t,i){const l=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(a,t,i){const r=a.getHours();let l;switch(r===12?l=wa.noon:r===0?l=wa.midnight:l=r/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(a,t,i){const r=a.getHours();let l;switch(r>=17?l=wa.evening:r>=12?l=wa.afternoon:r>=4?l=wa.morning:l=wa.night,t){case"B":case"BB":case"BBB":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(a,t,i){if(t==="ho"){let r=a.getHours()%12;return r===0&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return vs.h(a,t)},H:function(a,t,i){return t==="Ho"?i.ordinalNumber(a.getHours(),{unit:"hour"}):vs.H(a,t)},K:function(a,t,i){const r=a.getHours()%12;return t==="Ko"?i.ordinalNumber(r,{unit:"hour"}):an(r,t.length)},k:function(a,t,i){let r=a.getHours();return r===0&&(r=24),t==="ko"?i.ordinalNumber(r,{unit:"hour"}):an(r,t.length)},m:function(a,t,i){return t==="mo"?i.ordinalNumber(a.getMinutes(),{unit:"minute"}):vs.m(a,t)},s:function(a,t,i){return t==="so"?i.ordinalNumber(a.getSeconds(),{unit:"second"}):vs.s(a,t)},S:function(a,t){return vs.S(a,t)},X:function(a,t,i){const r=a.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ef(r);case"XXXX":case"XX":return Us(r);case"XXXXX":case"XXX":default:return Us(r,":")}},x:function(a,t,i){const r=a.getTimezoneOffset();switch(t){case"x":return ef(r);case"xxxx":case"xx":return Us(r);case"xxxxx":case"xxx":default:return Us(r,":")}},O:function(a,t,i){const r=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Zh(r,":");case"OOOO":default:return"GMT"+Us(r,":")}},z:function(a,t,i){const r=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Zh(r,":");case"zzzz":default:return"GMT"+Us(r,":")}},t:function(a,t,i){const r=Math.trunc(+a/1e3);return an(r,t.length)},T:function(a,t,i){return an(+a,t.length)}};function Zh(a,t=""){const i=a>0?"-":"+",r=Math.abs(a),l=Math.trunc(r/60),f=r%60;return f===0?i+String(l):i+String(l)+t+an(f,2)}function ef(a,t){return a%60===0?(a>0?"-":"+")+an(Math.abs(a)/60,2):Us(a,t)}function Us(a,t=""){const i=a>0?"-":"+",r=Math.abs(a),l=an(Math.trunc(r/60),2),f=an(r%60,2);return i+l+t+f}const tf=(a,t)=>{switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qp=(a,t)=>{switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yx=(a,t)=>{const i=a.match(/(P+)(p+)?/)||[],r=i[1],l=i[2];if(!l)return tf(a,t);let f;switch(r){case"P":f=t.dateTime({width:"short"});break;case"PP":f=t.dateTime({width:"medium"});break;case"PPP":f=t.dateTime({width:"long"});break;case"PPPP":default:f=t.dateTime({width:"full"});break}return f.replace("{{date}}",tf(r,t)).replace("{{time}}",qp(l,t))},vu={p:qp,P:yx},wx=/^D+$/,Cx=/^Y+$/,xx=["D","DD","YY","YYYY"];function $p(a){return wx.test(a)}function Yp(a){return Cx.test(a)}function bu(a,t,i){const r=kx(a,t,i);if(console.warn(r),xx.includes(a))throw new RangeError(r)}function kx(a,t,i){const r=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${t}\`) for formatting ${r} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _x=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tx=/^'([^]*?)'?$/,Dx=/''/g,Ex=/[a-zA-Z]/;function Ax(a,t,i){var M,L,R,q,J,ae,oe,ue;const r=Ks(),l=(i==null?void 0:i.locale)??r.locale??Vp,f=(i==null?void 0:i.firstWeekContainsDate)??((L=(M=i==null?void 0:i.locale)==null?void 0:M.options)==null?void 0:L.firstWeekContainsDate)??r.firstWeekContainsDate??((q=(R=r.locale)==null?void 0:R.options)==null?void 0:q.firstWeekContainsDate)??1,b=(i==null?void 0:i.weekStartsOn)??((ae=(J=i==null?void 0:i.locale)==null?void 0:J.options)==null?void 0:ae.weekStartsOn)??r.weekStartsOn??((ue=(oe=r.locale)==null?void 0:oe.options)==null?void 0:ue.weekStartsOn)??0,x=Bt(a,i==null?void 0:i.in);if(!Bp(x))throw new RangeError("Invalid time value");let k=t.match(Sx).map(se=>{const pe=se[0];if(pe==="p"||pe==="P"){const te=vu[pe];return te(se,l.formatLong)}return se}).join("").match(_x).map(se=>{if(se==="''")return{isToken:!1,value:"'"};const pe=se[0];if(pe==="'")return{isToken:!1,value:Mx(se)};if(Jh[pe])return{isToken:!0,value:se};if(pe.match(Ex))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pe+"`");return{isToken:!1,value:se}});l.localize.preprocessor&&(k=l.localize.preprocessor(x,k));const S={firstWeekContainsDate:f,weekStartsOn:b,locale:l};return k.map(se=>{if(!se.isToken)return se.value;const pe=se.value;(!(i!=null&&i.useAdditionalWeekYearTokens)&&Yp(pe)||!(i!=null&&i.useAdditionalDayOfYearTokens)&&$p(pe))&&bu(pe,t,String(a));const te=Jh[pe[0]];return te(x,pe,l.localize,S)}).join("")}function Mx(a){const t=a.match(Tx);return t?t[1].replace(Dx,"'"):a}function Ix(){return Object.assign({},Ks())}function Ox(a,t){const i=Bt(a,t==null?void 0:t.in).getDay();return i===0?7:i}function Px(a,t){const i=Fx(t)?new t(0):An(t,0);return i.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),i.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),i}function Fx(a){var t;return typeof a=="function"&&((t=a.prototype)==null?void 0:t.constructor)===a}const Lx=10;class Gp{constructor(){Le(this,"subPriority",0)}validate(t,i){return!0}}class Bx extends Gp{constructor(t,i,r,l,f){super(),this.value=t,this.validateValue=i,this.setValue=r,this.priority=l,f&&(this.subPriority=f)}validate(t,i){return this.validateValue(t,this.value,i)}set(t,i,r){return this.setValue(t,i,this.value,r)}}class Rx extends Gp{constructor(i,r){super();Le(this,"priority",Lx);Le(this,"subPriority",-1);this.context=i||(l=>An(r,l))}set(i,r){return r.timestampIsSet?i:An(i,Px(i,this.context))}}class Qt{run(t,i,r,l){const f=this.parse(t,i,r,l);return f?{setter:new Bx(f.value,this.validate,this.set,this.priority,this.subPriority),rest:f.rest}:null}validate(t,i,r){return!0}}class Nx extends Qt{constructor(){super(...arguments);Le(this,"priority",140);Le(this,"incompatibleTokens",["R","u","t","T"])}parse(i,r,l){switch(r){case"G":case"GG":case"GGG":return l.era(i,{width:"abbreviated"})||l.era(i,{width:"narrow"});case"GGGGG":return l.era(i,{width:"narrow"});case"GGGG":default:return l.era(i,{width:"wide"})||l.era(i,{width:"abbreviated"})||l.era(i,{width:"narrow"})}}set(i,r,l){return r.era=l,i.setFullYear(l,0,1),i.setHours(0,0,0,0),i}}const Ln={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Bn(a,t){return a&&{value:t(a.value),rest:a.rest}}function Sn(a,t){const i=t.match(a);return i?{value:parseInt(i[0],10),rest:t.slice(i[0].length)}:null}function Vi(a,t){const i=t.match(a);if(!i)return null;if(i[0]==="Z")return{value:0,rest:t.slice(1)};const r=i[1]==="+"?1:-1,l=i[2]?parseInt(i[2],10):0,f=i[3]?parseInt(i[3],10):0,b=i[5]?parseInt(i[5],10):0;return{value:r*(l*Er+f*Dr+b*hC),rest:t.slice(i[0].length)}}function Xp(a){return Sn(Ln.anyDigitsSigned,a)}function Mn(a,t){switch(a){case 1:return Sn(Ln.singleDigit,t);case 2:return Sn(Ln.twoDigits,t);case 3:return Sn(Ln.threeDigits,t);case 4:return Sn(Ln.fourDigits,t);default:return Sn(new RegExp("^\\d{1,"+a+"}"),t)}}function Ro(a,t){switch(a){case 1:return Sn(Ln.singleDigitSigned,t);case 2:return Sn(Ln.twoDigitsSigned,t);case 3:return Sn(Ln.threeDigitsSigned,t);case 4:return Sn(Ln.fourDigitsSigned,t);default:return Sn(new RegExp("^-?\\d{1,"+a+"}"),t)}}function Hu(a){switch(a){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Kp(a,t){const i=t>0,r=i?t:1-t;let l;if(r<=50)l=a||100;else{const f=r+50,b=Math.trunc(f/100)*100,x=a>=f%100;l=a+b-(x?100:0)}return i?l:1-l}function Qp(a){return a%400===0||a%4===0&&a%100!==0}class zx extends Qt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(i,r,l){const f=b=>({year:b,isTwoDigitYear:r==="yy"});switch(r){case"y":return Bn(Mn(4,i),f);case"yo":return Bn(l.ordinalNumber(i,{unit:"year"}),f);default:return Bn(Mn(r.length,i),f)}}validate(i,r){return r.isTwoDigitYear||r.year>0}set(i,r,l){const f=i.getFullYear();if(l.isTwoDigitYear){const x=Kp(l.year,f);return i.setFullYear(x,0,1),i.setHours(0,0,0,0),i}const b=!("era"in r)||r.era===1?l.year:1-l.year;return i.setFullYear(b,0,1),i.setHours(0,0,0,0),i}}class Hx extends Qt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(i,r,l){const f=b=>({year:b,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Bn(Mn(4,i),f);case"Yo":return Bn(l.ordinalNumber(i,{unit:"year"}),f);default:return Bn(Mn(r.length,i),f)}}validate(i,r){return r.isTwoDigitYear||r.year>0}set(i,r,l,f){const b=zu(i,f);if(l.isTwoDigitYear){const k=Kp(l.year,b);return i.setFullYear(k,0,f.firstWeekContainsDate),i.setHours(0,0,0,0),ji(i,f)}const x=!("era"in r)||r.era===1?l.year:1-l.year;return i.setFullYear(x,0,f.firstWeekContainsDate),i.setHours(0,0,0,0),ji(i,f)}}class Wx extends Qt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(i,r){return Ro(r==="R"?4:r.length,i)}set(i,r,l){const f=An(i,0);return f.setFullYear(l,0,4),f.setHours(0,0,0,0),Sa(f)}}class Vx extends Qt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(i,r){return Ro(r==="u"?4:r.length,i)}set(i,r,l){return i.setFullYear(l,0,1),i.setHours(0,0,0,0),i}}class Ux extends Qt{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(i,r,l){switch(r){case"Q":case"QQ":return Mn(r.length,i);case"Qo":return l.ordinalNumber(i,{unit:"quarter"});case"QQQ":return l.quarter(i,{width:"abbreviated",context:"formatting"})||l.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return l.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return l.quarter(i,{width:"wide",context:"formatting"})||l.quarter(i,{width:"abbreviated",context:"formatting"})||l.quarter(i,{width:"narrow",context:"formatting"})}}validate(i,r){return r>=1&&r<=4}set(i,r,l){return i.setMonth((l-1)*3,1),i.setHours(0,0,0,0),i}}class jx extends Qt{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(i,r,l){switch(r){case"q":case"qq":return Mn(r.length,i);case"qo":return l.ordinalNumber(i,{unit:"quarter"});case"qqq":return l.quarter(i,{width:"abbreviated",context:"standalone"})||l.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return l.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return l.quarter(i,{width:"wide",context:"standalone"})||l.quarter(i,{width:"abbreviated",context:"standalone"})||l.quarter(i,{width:"narrow",context:"standalone"})}}validate(i,r){return r>=1&&r<=4}set(i,r,l){return i.setMonth((l-1)*3,1),i.setHours(0,0,0,0),i}}class qx extends Qt{constructor(){super(...arguments);Le(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Le(this,"priority",110)}parse(i,r,l){const f=b=>b-1;switch(r){case"M":return Bn(Sn(Ln.month,i),f);case"MM":return Bn(Mn(2,i),f);case"Mo":return Bn(l.ordinalNumber(i,{unit:"month"}),f);case"MMM":return l.month(i,{width:"abbreviated",context:"formatting"})||l.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return l.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return l.month(i,{width:"wide",context:"formatting"})||l.month(i,{width:"abbreviated",context:"formatting"})||l.month(i,{width:"narrow",context:"formatting"})}}validate(i,r){return r>=0&&r<=11}set(i,r,l){return i.setMonth(l,1),i.setHours(0,0,0,0),i}}class $x extends Qt{constructor(){super(...arguments);Le(this,"priority",110);Le(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(i,r,l){const f=b=>b-1;switch(r){case"L":return Bn(Sn(Ln.month,i),f);case"LL":return Bn(Mn(2,i),f);case"Lo":return Bn(l.ordinalNumber(i,{unit:"month"}),f);case"LLL":return l.month(i,{width:"abbreviated",context:"standalone"})||l.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return l.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return l.month(i,{width:"wide",context:"standalone"})||l.month(i,{width:"abbreviated",context:"standalone"})||l.month(i,{width:"narrow",context:"standalone"})}}validate(i,r){return r>=0&&r<=11}set(i,r,l){return i.setMonth(l,1),i.setHours(0,0,0,0),i}}function Yx(a,t,i){const r=Bt(a,i==null?void 0:i.in),l=jp(r,i)-t;return r.setDate(r.getDate()-l*7),Bt(r,i==null?void 0:i.in)}class Gx extends Qt{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(i,r,l){switch(r){case"w":return Sn(Ln.week,i);case"wo":return l.ordinalNumber(i,{unit:"week"});default:return Mn(r.length,i)}}validate(i,r){return r>=1&&r<=53}set(i,r,l,f){return ji(Yx(i,l,f),f)}}function Xx(a,t,i){const r=Bt(a,i==null?void 0:i.in),l=Up(r,i)-t;return r.setDate(r.getDate()-l*7),r}class Kx extends Qt{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(i,r,l){switch(r){case"I":return Sn(Ln.week,i);case"Io":return l.ordinalNumber(i,{unit:"week"});default:return Mn(r.length,i)}}validate(i,r){return r>=1&&r<=53}set(i,r,l){return Sa(Xx(i,l))}}const Qx=[31,28,31,30,31,30,31,31,30,31,30,31],Jx=[31,29,31,30,31,30,31,31,30,31,30,31];class Zx extends Qt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subPriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(i,r,l){switch(r){case"d":return Sn(Ln.date,i);case"do":return l.ordinalNumber(i,{unit:"date"});default:return Mn(r.length,i)}}validate(i,r){const l=i.getFullYear(),f=Qp(l),b=i.getMonth();return f?r>=1&&r<=Jx[b]:r>=1&&r<=Qx[b]}set(i,r,l){return i.setDate(l),i.setHours(0,0,0,0),i}}class e1 extends Qt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subpriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(i,r,l){switch(r){case"D":case"DD":return Sn(Ln.dayOfYear,i);case"Do":return l.ordinalNumber(i,{unit:"date"});default:return Mn(r.length,i)}}validate(i,r){const l=i.getFullYear();return Qp(l)?r>=1&&r<=366:r>=1&&r<=365}set(i,r,l){return i.setMonth(0,l),i.setHours(0,0,0,0),i}}function Wu(a,t,i){var L,R,q,J;const r=Ks(),l=(i==null?void 0:i.weekStartsOn)??((R=(L=i==null?void 0:i.locale)==null?void 0:L.options)==null?void 0:R.weekStartsOn)??r.weekStartsOn??((J=(q=r.locale)==null?void 0:q.options)==null?void 0:J.weekStartsOn)??0,f=Bt(a,i==null?void 0:i.in),b=f.getDay(),k=(t%7+7)%7,S=7-l,M=t<0||t>6?t-(b+S)%7:(k+S)%7-(b+S)%7;return jo(f,M,i)}class t1 extends Qt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(i,r,l){switch(r){case"E":case"EE":case"EEE":return l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return l.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return l.day(i,{width:"wide",context:"formatting"})||l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"})}}validate(i,r){return r>=0&&r<=6}set(i,r,l,f){return i=Wu(i,l,f),i.setHours(0,0,0,0),i}}class n1 extends Qt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(i,r,l,f){const b=x=>{const k=Math.floor((x-1)/7)*7;return(x+f.weekStartsOn+6)%7+k};switch(r){case"e":case"ee":return Bn(Mn(r.length,i),b);case"eo":return Bn(l.ordinalNumber(i,{unit:"day"}),b);case"eee":return l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"});case"eeeee":return l.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return l.day(i,{width:"wide",context:"formatting"})||l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"})}}validate(i,r){return r>=0&&r<=6}set(i,r,l,f){return i=Wu(i,l,f),i.setHours(0,0,0,0),i}}class i1 extends Qt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(i,r,l,f){const b=x=>{const k=Math.floor((x-1)/7)*7;return(x+f.weekStartsOn+6)%7+k};switch(r){case"c":case"cc":return Bn(Mn(r.length,i),b);case"co":return Bn(l.ordinalNumber(i,{unit:"day"}),b);case"ccc":return l.day(i,{width:"abbreviated",context:"standalone"})||l.day(i,{width:"short",context:"standalone"})||l.day(i,{width:"narrow",context:"standalone"});case"ccccc":return l.day(i,{width:"narrow",context:"standalone"});case"cccccc":return l.day(i,{width:"short",context:"standalone"})||l.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return l.day(i,{width:"wide",context:"standalone"})||l.day(i,{width:"abbreviated",context:"standalone"})||l.day(i,{width:"short",context:"standalone"})||l.day(i,{width:"narrow",context:"standalone"})}}validate(i,r){return r>=0&&r<=6}set(i,r,l,f){return i=Wu(i,l,f),i.setHours(0,0,0,0),i}}function s1(a,t,i){const r=Bt(a,i==null?void 0:i.in),l=Ox(r,i),f=t-l;return jo(r,f,i)}class a1 extends Qt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(i,r,l){const f=b=>b===0?7:b;switch(r){case"i":case"ii":return Mn(r.length,i);case"io":return l.ordinalNumber(i,{unit:"day"});case"iii":return Bn(l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"}),f);case"iiiii":return Bn(l.day(i,{width:"narrow",context:"formatting"}),f);case"iiiiii":return Bn(l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"}),f);case"iiii":default:return Bn(l.day(i,{width:"wide",context:"formatting"})||l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"}),f)}}validate(i,r){return r>=1&&r<=7}set(i,r,l){return i=s1(i,l),i.setHours(0,0,0,0),i}}class r1 extends Qt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(i,r,l){switch(r){case"a":case"aa":case"aaa":return l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return l.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return l.dayPeriod(i,{width:"wide",context:"formatting"})||l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"})}}set(i,r,l){return i.setHours(Hu(l),0,0,0),i}}class o1 extends Qt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(i,r,l){switch(r){case"b":case"bb":case"bbb":return l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return l.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return l.dayPeriod(i,{width:"wide",context:"formatting"})||l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"})}}set(i,r,l){return i.setHours(Hu(l),0,0,0),i}}class l1 extends Qt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","b","t","T"])}parse(i,r,l){switch(r){case"B":case"BB":case"BBB":return l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return l.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return l.dayPeriod(i,{width:"wide",context:"formatting"})||l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"})}}set(i,r,l){return i.setHours(Hu(l),0,0,0),i}}class u1 extends Qt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["H","K","k","t","T"])}parse(i,r,l){switch(r){case"h":return Sn(Ln.hour12h,i);case"ho":return l.ordinalNumber(i,{unit:"hour"});default:return Mn(r.length,i)}}validate(i,r){return r>=1&&r<=12}set(i,r,l){const f=i.getHours()>=12;return f&&l<12?i.setHours(l+12,0,0,0):!f&&l===12?i.setHours(0,0,0,0):i.setHours(l,0,0,0),i}}class c1 extends Qt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(i,r,l){switch(r){case"H":return Sn(Ln.hour23h,i);case"Ho":return l.ordinalNumber(i,{unit:"hour"});default:return Mn(r.length,i)}}validate(i,r){return r>=0&&r<=23}set(i,r,l){return i.setHours(l,0,0,0),i}}class d1 extends Qt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["h","H","k","t","T"])}parse(i,r,l){switch(r){case"K":return Sn(Ln.hour11h,i);case"Ko":return l.ordinalNumber(i,{unit:"hour"});default:return Mn(r.length,i)}}validate(i,r){return r>=0&&r<=11}set(i,r,l){return i.getHours()>=12&&l<12?i.setHours(l+12,0,0,0):i.setHours(l,0,0,0),i}}class h1 extends Qt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(i,r,l){switch(r){case"k":return Sn(Ln.hour24h,i);case"ko":return l.ordinalNumber(i,{unit:"hour"});default:return Mn(r.length,i)}}validate(i,r){return r>=1&&r<=24}set(i,r,l){const f=l<=24?l%24:l;return i.setHours(f,0,0,0),i}}class f1 extends Qt{constructor(){super(...arguments);Le(this,"priority",60);Le(this,"incompatibleTokens",["t","T"])}parse(i,r,l){switch(r){case"m":return Sn(Ln.minute,i);case"mo":return l.ordinalNumber(i,{unit:"minute"});default:return Mn(r.length,i)}}validate(i,r){return r>=0&&r<=59}set(i,r,l){return i.setMinutes(l,0,0),i}}class p1 extends Qt{constructor(){super(...arguments);Le(this,"priority",50);Le(this,"incompatibleTokens",["t","T"])}parse(i,r,l){switch(r){case"s":return Sn(Ln.second,i);case"so":return l.ordinalNumber(i,{unit:"second"});default:return Mn(r.length,i)}}validate(i,r){return r>=0&&r<=59}set(i,r,l){return i.setSeconds(l,0),i}}class m1 extends Qt{constructor(){super(...arguments);Le(this,"priority",30);Le(this,"incompatibleTokens",["t","T"])}parse(i,r){const l=f=>Math.trunc(f*Math.pow(10,-r.length+3));return Bn(Mn(r.length,i),l)}set(i,r,l){return i.setMilliseconds(l),i}}class g1 extends Qt{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","x"])}parse(i,r){switch(r){case"X":return Vi(Wi.basicOptionalMinutes,i);case"XX":return Vi(Wi.basic,i);case"XXXX":return Vi(Wi.basicOptionalSeconds,i);case"XXXXX":return Vi(Wi.extendedOptionalSeconds,i);case"XXX":default:return Vi(Wi.extended,i)}}set(i,r,l){return r.timestampIsSet?i:An(i,i.getTime()-Bo(i)-l)}}class v1 extends Qt{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","X"])}parse(i,r){switch(r){case"x":return Vi(Wi.basicOptionalMinutes,i);case"xx":return Vi(Wi.basic,i);case"xxxx":return Vi(Wi.basicOptionalSeconds,i);case"xxxxx":return Vi(Wi.extendedOptionalSeconds,i);case"xxx":default:return Vi(Wi.extended,i)}}set(i,r,l){return r.timestampIsSet?i:An(i,i.getTime()-Bo(i)-l)}}class b1 extends Qt{constructor(){super(...arguments);Le(this,"priority",40);Le(this,"incompatibleTokens","*")}parse(i){return Xp(i)}set(i,r,l){return[An(i,l*1e3),{timestampIsSet:!0}]}}class y1 extends Qt{constructor(){super(...arguments);Le(this,"priority",20);Le(this,"incompatibleTokens","*")}parse(i){return Xp(i)}set(i,r,l){return[An(i,l),{timestampIsSet:!0}]}}const w1={G:new Nx,y:new zx,Y:new Hx,R:new Wx,u:new Vx,Q:new Ux,q:new jx,M:new qx,L:new $x,w:new Gx,I:new Kx,d:new Zx,D:new e1,E:new t1,e:new n1,c:new i1,i:new a1,a:new r1,b:new o1,B:new l1,h:new u1,H:new c1,K:new d1,k:new h1,m:new f1,s:new p1,S:new m1,X:new g1,x:new v1,t:new b1,T:new y1},C1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,k1=/^'([^]*?)'?$/,_1=/''/g,S1=/\S/,T1=/[a-zA-Z]/;function D1(a,t,i,r){var oe,ue,se,pe,te,re,Oe,De;const l=()=>An((r==null?void 0:r.in)||i,NaN),f=Ix(),b=(r==null?void 0:r.locale)??f.locale??Vp,x=(r==null?void 0:r.firstWeekContainsDate)??((ue=(oe=r==null?void 0:r.locale)==null?void 0:oe.options)==null?void 0:ue.firstWeekContainsDate)??f.firstWeekContainsDate??((pe=(se=f.locale)==null?void 0:se.options)==null?void 0:pe.firstWeekContainsDate)??1,k=(r==null?void 0:r.weekStartsOn)??((re=(te=r==null?void 0:r.locale)==null?void 0:te.options)==null?void 0:re.weekStartsOn)??f.weekStartsOn??((De=(Oe=f.locale)==null?void 0:Oe.options)==null?void 0:De.weekStartsOn)??0;if(!t)return a?l():Bt(i,r==null?void 0:r.in);const S={firstWeekContainsDate:x,weekStartsOn:k,locale:b},M=[new Rx(r==null?void 0:r.in,i)],L=t.match(x1).map(Te=>{const Re=Te[0];if(Re in vu){const at=vu[Re];return at(Te,b.formatLong)}return Te}).join("").match(C1),R=[];for(let Te of L){!(r!=null&&r.useAdditionalWeekYearTokens)&&Yp(Te)&&bu(Te,t,a),!(r!=null&&r.useAdditionalDayOfYearTokens)&&$p(Te)&&bu(Te,t,a);const Re=Te[0],at=w1[Re];if(at){const{incompatibleTokens:ze}=at;if(Array.isArray(ze)){const ft=R.find(gt=>ze.includes(gt.token)||gt.token===Re);if(ft)throw new RangeError(`The format string mustn't contain \`${ft.fullToken}\` and \`${Te}\` at the same time`)}else if(at.incompatibleTokens==="*"&&R.length>0)throw new RangeError(`The format string mustn't contain \`${Te}\` and any other token at the same time`);R.push({token:Re,fullToken:Te});const et=at.run(a,Te,b.match,S);if(!et)return l();M.push(et.setter),a=et.rest}else{if(Re.match(T1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Re+"`");if(Te==="''"?Te="'":Re==="'"&&(Te=E1(Te)),a.indexOf(Te)===0)a=a.slice(Te.length);else return l()}}if(a.length>0&&S1.test(a))return l();const q=M.map(Te=>Te.priority).sort((Te,Re)=>Re-Te).filter((Te,Re,at)=>at.indexOf(Te)===Re).map(Te=>M.filter(Re=>Re.priority===Te).sort((Re,at)=>at.subPriority-Re.subPriority)).map(Te=>Te[0]);let J=Bt(i,r==null?void 0:r.in);if(isNaN(+J))return l();const ae={};for(const Te of q){if(!Te.validate(J,S))return l();const Re=Te.set(J,ae,S);Array.isArray(Re)?(J=Re[0],Object.assign(ae,Re[1])):J=Re}return J}function E1(a){return a.match(k1)[1].replace(_1,"'")}function A1(a,t){const i=Bt(a,t==null?void 0:t.in);return i.setMinutes(0,0,0),i}function M1(a,t){const i=Bt(a,t==null?void 0:t.in);return i.setSeconds(0,0),i}function I1(a,t){const i=Bt(a,t==null?void 0:t.in);return i.setMilliseconds(0),i}function O1(a,t){const i=()=>An(t==null?void 0:t.in,NaN),r=(t==null?void 0:t.additionalDigits)??2,l=B1(a);let f;if(l.date){const S=R1(l.date,r);f=N1(S.restDateString,S.year)}if(!f||isNaN(+f))return i();const b=+f;let x=0,k;if(l.time&&(x=z1(l.time),isNaN(x)))return i();if(l.timezone){if(k=H1(l.timezone),isNaN(k))return i()}else{const S=new Date(b+x),M=Bt(0,t==null?void 0:t.in);return M.setFullYear(S.getUTCFullYear(),S.getUTCMonth(),S.getUTCDate()),M.setHours(S.getUTCHours(),S.getUTCMinutes(),S.getUTCSeconds(),S.getUTCMilliseconds()),M}return Bt(b+x+k,t==null?void 0:t.in)}const go={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},P1=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,F1=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,L1=/^([+-])(\d{2})(?::?(\d{2}))?$/;function B1(a){const t={},i=a.split(go.dateTimeDelimiter);let r;if(i.length>2)return t;if(/:/.test(i[0])?r=i[0]:(t.date=i[0],r=i[1],go.timeZoneDelimiter.test(t.date)&&(t.date=a.split(go.timeZoneDelimiter)[0],r=a.substr(t.date.length,a.length))),r){const l=go.timezone.exec(r);l?(t.time=r.replace(l[1],""),t.timezone=l[1]):t.time=r}return t}function R1(a,t){const i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=a.match(i);if(!r)return{year:NaN,restDateString:""};const l=r[1]?parseInt(r[1]):null,f=r[2]?parseInt(r[2]):null;return{year:f===null?l:f*100,restDateString:a.slice((r[1]||r[2]).length)}}function N1(a,t){if(t===null)return new Date(NaN);const i=a.match(P1);if(!i)return new Date(NaN);const r=!!i[4],l=sr(i[1]),f=sr(i[2])-1,b=sr(i[3]),x=sr(i[4]),k=sr(i[5])-1;if(r)return q1(t,x,k)?W1(t,x,k):new Date(NaN);{const S=new Date(0);return!U1(t,f,b)||!j1(t,l)?new Date(NaN):(S.setUTCFullYear(t,f,Math.max(l,b)),S)}}function sr(a){return a?parseInt(a):1}function z1(a){const t=a.match(F1);if(!t)return NaN;const i=Xl(t[1]),r=Xl(t[2]),l=Xl(t[3]);return $1(i,r,l)?i*Er+r*Dr+l*1e3:NaN}function Xl(a){return a&&parseFloat(a.replace(",","."))||0}function H1(a){if(a==="Z")return 0;const t=a.match(L1);if(!t)return 0;const i=t[1]==="+"?-1:1,r=parseInt(t[2]),l=t[3]&&parseInt(t[3])||0;return Y1(r,l)?i*(r*Er+l*Dr):NaN}function W1(a,t,i){const r=new Date(0);r.setUTCFullYear(a,0,4);const l=r.getUTCDay()||7,f=(t-1)*7+i+1-l;return r.setUTCDate(r.getUTCDate()+f),r}const V1=[31,null,31,30,31,30,31,31,30,31,30,31];function Jp(a){return a%400===0||a%4===0&&a%100!==0}function U1(a,t,i){return t>=0&&t<=11&&i>=1&&i<=(V1[t]||(Jp(a)?29:28))}function j1(a,t){return t>=1&&t<=(Jp(a)?366:365)}function q1(a,t,i){return t>=1&&t<=53&&i>=0&&i<=6}function $1(a,t,i){return a===24?t===0&&i===0:i>=0&&i<60&&t>=0&&t<60&&a>=0&&a<25}function Y1(a,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const G1={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};hp._date.override({_id:"date-fns",formats:function(){return G1},parse:function(a,t){if(a===null||typeof a>"u")return null;const i=typeof a;return i==="number"||a instanceof Date?a=Bt(a):i==="string"&&(typeof t=="string"?a=D1(a,t,new Date,this.options):a=O1(a,this.options)),Bp(a)?a.getTime():null},format:function(a,t){return Ax(a,t,this.options)},add:function(a,t,i){switch(i){case"millisecond":return Ru(a,t);case"second":return bC(a,t);case"minute":return gC(a,t);case"hour":return fC(a,t);case"day":return jo(a,t);case"week":return yC(a,t);case"month":return Bu(a,t);case"quarter":return vC(a,t);case"year":return wC(a,t);default:return a}},diff:function(a,t,i){switch(i){case"millisecond":return Nu(a,t);case"second":return EC(a,t);case"minute":return SC(a,t);case"hour":return _C(a,t);case"day":return Rp(a,t);case"week":return AC(a,t);case"month":return Hp(a,t);case"quarter":return DC(a,t);case"year":return MC(a,t);default:return 0}},startOf:function(a,t,i){switch(t){case"second":return I1(a);case"minute":return M1(a);case"hour":return A1(a);case"day":return gu(a);case"week":return ji(a);case"isoWeek":return ji(a,{weekStartsOn:+i});case"month":return OC(a);case"quarter":return IC(a);case"year":return Wp(a);default:return a}},endOf:function(a,t){switch(t){case"second":return NC(a);case"minute":return BC(a);case"hour":return FC(a);case"day":return Np(a);case"week":return LC(a);case"month":return zp(a);case"quarter":return RC(a);case"year":return PC(a);default:return a}}});var Do={exports:{}},X1=Do.exports,nf;function Ei(){return nf||(nf=1,function(a,t){(function(i,r){a.exports=r()})(X1,function(){var i=navigator.userAgent,r=navigator.platform,l=/gecko\/\d/i.test(i),f=/MSIE \d/.test(i),b=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(i),x=/Edge\/(\d+)/.exec(i),k=f||b||x,S=k&&(f?document.documentMode||6:+(x||b)[1]),M=!x&&/WebKit\//.test(i),L=M&&/Qt\/\d+\.\d+/.test(i),R=!x&&/Chrome\/(\d+)/.exec(i),q=R&&+R[1],J=/Opera\//.test(i),ae=/Apple Computer/.test(navigator.vendor),oe=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(i),ue=/PhantomJS/.test(i),se=ae&&(/Mobile\/\w+/.test(i)||navigator.maxTouchPoints>2),pe=/Android/.test(i),te=se||pe||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(i),re=se||/Mac/.test(r),Oe=/\bCrOS\b/.test(i),De=/win/i.test(r),Te=J&&i.match(/Version\/(\d*\.\d*)/);Te&&(Te=Number(Te[1])),Te&&Te>=15&&(J=!1,M=!0);var Re=re&&(L||J&&(Te==null||Te<12.11)),at=l||k&&S>=9;function ze(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var et=function(s,u){var g=s.className,m=ze(u).exec(g);if(m){var C=g.slice(m.index+m[0].length);s.className=g.slice(0,m.index)+(C?m[1]+C:"")}};function ft(s){for(var u=s.childNodes.length;u>0;--u)s.removeChild(s.firstChild);return s}function gt(s,u){return ft(s).appendChild(u)}function be(s,u,g,m){var C=document.createElement(s);if(g&&(C.className=g),m&&(C.style.cssText=m),typeof u=="string")C.appendChild(document.createTextNode(u));else if(u)for(var T=0;T<u.length;++T)C.appendChild(u[T]);return C}function je(s,u,g,m){var C=be(s,u,g,m);return C.setAttribute("role","presentation"),C}var He;document.createRange?He=function(s,u,g,m){var C=document.createRange();return C.setEnd(m||s,g),C.setStart(s,u),C}:He=function(s,u,g){var m=document.body.createTextRange();try{m.moveToElementText(s.parentNode)}catch{return m}return m.collapse(!0),m.moveEnd("character",g),m.moveStart("character",u),m};function ot(s,u){if(u.nodeType==3&&(u=u.parentNode),s.contains)return s.contains(u);do if(u.nodeType==11&&(u=u.host),u==s)return!0;while(u=u.parentNode)}function Dt(s){var u=s.ownerDocument||s,g;try{g=s.activeElement}catch{g=u.body||null}for(;g&&g.shadowRoot&&g.shadowRoot.activeElement;)g=g.shadowRoot.activeElement;return g}function qt(s,u){var g=s.className;ze(u).test(g)||(s.className+=(g?" ":"")+u)}function Rn(s,u){for(var g=s.split(" "),m=0;m<g.length;m++)g[m]&&!ze(g[m]).test(u)&&(u+=" "+g[m]);return u}var me=function(s){s.select()};se?me=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:k&&(me=function(s){try{s.select()}catch{}});function Y(s){return s.display.wrapper.ownerDocument}function Be(s){return Ot(s.display.wrapper)}function Ot(s){return s.getRootNode?s.getRootNode():s.ownerDocument}function yt(s){return Y(s).defaultView}function tn(s){var u=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,u)}}function un(s,u,g){u||(u={});for(var m in s)s.hasOwnProperty(m)&&(g!==!1||!u.hasOwnProperty(m))&&(u[m]=s[m]);return u}function Kt(s,u,g,m,C){u==null&&(u=s.search(/[^\s\u00a0]/),u==-1&&(u=s.length));for(var T=m||0,I=C||0;;){var F=s.indexOf("	",T);if(F<0||F>=u)return I+(u-T);I+=F-T,I+=g-I%g,T=F+1}}var $t=function(){this.id=null,this.f=null,this.time=0,this.handler=tn(this.onTimeout,this)};$t.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},$t.prototype.set=function(s,u){this.f=u;var g=+new Date+s;(!this.id||g<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=g)};function Ft(s,u){for(var g=0;g<s.length;++g)if(s[g]==u)return g;return-1}var Ut=50,cn={toString:function(){return"CodeMirror.Pass"}},hn={scroll:!1},Ge={origin:"*mouse"},Nn={origin:"+move"};function vn(s,u,g){for(var m=0,C=0;;){var T=s.indexOf("	",m);T==-1&&(T=s.length);var I=T-m;if(T==s.length||C+I>=u)return m+Math.min(I,u-C);if(C+=T-m,C+=g-C%g,m=T+1,C>=u)return m}}var dn=[""];function Kn(s){for(;dn.length<=s;)dn.push(pt(dn)+" ");return dn[s]}function pt(s){return s[s.length-1]}function xn(s,u){for(var g=[],m=0;m<s.length;m++)g[m]=u(s[m],m);return g}function li(s,u,g){for(var m=0,C=g(u);m<s.length&&g(s[m])<=C;)m++;s.splice(m,0,u)}function xi(){}function Pe(s,u){var g;return Object.create?g=Object.create(s):(xi.prototype=s,g=new xi),u&&un(u,g),g}var Fe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function _e(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||Fe.test(s))}function X(s,u){return u?u.source.indexOf("\\w")>-1&&_e(s)?!0:u.test(s):_e(s)}function G(s){for(var u in s)if(s.hasOwnProperty(u)&&s[u])return!1;return!0}var ve=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function O(s){return s.charCodeAt(0)>=768&&ve.test(s)}function U(s,u,g){for(;(g<0?u>0:u<s.length)&&O(s.charAt(u));)u+=g;return u}function ne(s,u,g){for(var m=u>g?-1:1;;){if(u==g)return u;var C=(u+g)/2,T=m<0?Math.ceil(C):Math.floor(C);if(T==u)return s(T)?u:g;s(T)?g=T:u=T+m}}function he(s,u,g,m){if(!s)return m(u,g,"ltr",0);for(var C=!1,T=0;T<s.length;++T){var I=s[T];(I.from<g&&I.to>u||u==g&&I.to==u)&&(m(Math.max(I.from,u),Math.min(I.to,g),I.level==1?"rtl":"ltr",T),C=!0)}C||m(u,g,"ltr")}var ge=null;function Me(s,u,g){var m;ge=null;for(var C=0;C<s.length;++C){var T=s[C];if(T.from<u&&T.to>u)return C;T.to==u&&(T.from!=T.to&&g=="before"?m=C:ge=C),T.from==u&&(T.from!=T.to&&g!="before"?m=C:ge=C)}return m??ge}var we=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",u="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function g(j){return j<=247?s.charAt(j):1424<=j&&j<=1524?"R":1536<=j&&j<=1785?u.charAt(j-1536):1774<=j&&j<=2220?"r":8192<=j&&j<=8203?"w":j==8204?"b":"L"}var m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,C=/[stwN]/,T=/[LRr]/,I=/[Lb1n]/,F=/[1n]/;function N(j,ie,ce){this.level=j,this.from=ie,this.to=ce}return function(j,ie){var ce=ie=="ltr"?"L":"R";if(j.length==0||ie=="ltr"&&!m.test(j))return!1;for(var Ae=j.length,Se=[],Ne=0;Ne<Ae;++Ne)Se.push(g(j.charCodeAt(Ne)));for(var qe=0,Je=ce;qe<Ae;++qe){var it=Se[qe];it=="m"?Se[qe]=Je:Je=it}for(var lt=0,st=ce;lt<Ae;++lt){var ht=Se[lt];ht=="1"&&st=="r"?Se[lt]="n":T.test(ht)&&(st=ht,ht=="r"&&(Se[lt]="R"))}for(var Tt=1,Ct=Se[0];Tt<Ae-1;++Tt){var Rt=Se[Tt];Rt=="+"&&Ct=="1"&&Se[Tt+1]=="1"?Se[Tt]="1":Rt==","&&Ct==Se[Tt+1]&&(Ct=="1"||Ct=="n")&&(Se[Tt]=Ct),Ct=Rt}for(var ln=0;ln<Ae;++ln){var qn=Se[ln];if(qn==",")Se[ln]="N";else if(qn=="%"){var yn=void 0;for(yn=ln+1;yn<Ae&&Se[yn]=="%";++yn);for(var yi=ln&&Se[ln-1]=="!"||yn<Ae&&Se[yn]=="1"?"1":"N",fi=ln;fi<yn;++fi)Se[fi]=yi;ln=yn-1}}for(var On=0,pi=ce;On<Ae;++On){var Gn=Se[On];pi=="L"&&Gn=="1"?Se[On]="L":T.test(Gn)&&(pi=Gn)}for(var Hn=0;Hn<Ae;++Hn)if(C.test(Se[Hn])){var Pn=void 0;for(Pn=Hn+1;Pn<Ae&&C.test(Se[Pn]);++Pn);for(var _n=(Hn?Se[Hn-1]:ce)=="L",mi=(Pn<Ae?Se[Pn]:ce)=="L",ga=_n==mi?_n?"L":"R":ce,gs=Hn;gs<Pn;++gs)Se[gs]=ga;Hn=Pn-1}for(var ti=[],Ni,$n=0;$n<Ae;)if(I.test(Se[$n])){var Pl=$n;for(++$n;$n<Ae&&I.test(Se[$n]);++$n);ti.push(new N(0,Pl,$n))}else{var Ki=$n,Ls=ti.length,Bs=ie=="rtl"?1:0;for(++$n;$n<Ae&&Se[$n]!="L";++$n);for(var si=Ki;si<$n;)if(F.test(Se[si])){Ki<si&&(ti.splice(Ls,0,new N(1,Ki,si)),Ls+=Bs);var va=si;for(++si;si<$n&&F.test(Se[si]);++si);ti.splice(Ls,0,new N(2,va,si)),Ls+=Bs,Ki=si}else++si;Ki<$n&&ti.splice(Ls,0,new N(1,Ki,$n))}return ie=="ltr"&&(ti[0].level==1&&(Ni=j.match(/^\s+/))&&(ti[0].from=Ni[0].length,ti.unshift(new N(0,0,Ni[0].length))),pt(ti).level==1&&(Ni=j.match(/\s+$/))&&(pt(ti).to-=Ni[0].length,ti.push(new N(0,Ae-Ni[0].length,Ae)))),ie=="rtl"?ti.reverse():ti}}();function fe(s,u){var g=s.order;return g==null&&(g=s.order=we(s.text,u)),g}var Ie=[],ke=function(s,u,g){if(s.addEventListener)s.addEventListener(u,g,!1);else if(s.attachEvent)s.attachEvent("on"+u,g);else{var m=s._handlers||(s._handlers={});m[u]=(m[u]||Ie).concat(g)}};function Ze(s,u){return s._handlers&&s._handlers[u]||Ie}function ct(s,u,g){if(s.removeEventListener)s.removeEventListener(u,g,!1);else if(s.detachEvent)s.detachEvent("on"+u,g);else{var m=s._handlers,C=m&&m[u];if(C){var T=Ft(C,g);T>-1&&(m[u]=C.slice(0,T).concat(C.slice(T+1)))}}}function dt(s,u){var g=Ze(s,u);if(g.length)for(var m=Array.prototype.slice.call(arguments,2),C=0;C<g.length;++C)g[C].apply(null,m)}function Xe(s,u,g){return typeof u=="string"&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}}),dt(s,g||u.type,s,u),xt(u)||u.codemirrorIgnore}function At(s){var u=s._handlers&&s._handlers.cursorActivity;if(u)for(var g=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),m=0;m<u.length;++m)Ft(g,u[m])==-1&&g.push(u[m])}function It(s,u){return Ze(s,u).length>0}function Ye(s){s.prototype.on=function(u,g){ke(this,u,g)},s.prototype.off=function(u,g){ct(this,u,g)}}function _t(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function Yt(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function xt(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function c(s){_t(s),Yt(s)}function h(s){return s.target||s.srcElement}function v(s){var u=s.which;return u==null&&(s.button&1?u=1:s.button&2?u=3:s.button&4&&(u=2)),re&&s.ctrlKey&&u==1&&(u=3),u}var y=function(){if(k&&S<9)return!1;var s=be("div");return"draggable"in s||"dragDrop"in s}(),e;function n(s){if(e==null){var u=be("span","​");gt(s,be("span",[u,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(e=u.offsetWidth<=1&&u.offsetHeight>2&&!(k&&S<8))}var g=e?be("span","​"):be("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return g.setAttribute("cm-text",""),g}var o;function d(s){if(o!=null)return o;var u=gt(s,document.createTextNode("AخA")),g=He(u,0,1).getBoundingClientRect(),m=He(u,1,2).getBoundingClientRect();return ft(s),!g||g.left==g.right?!1:o=m.right-g.right<3}var p=`

b`.split(/\n/).length!=3?function(s){for(var u=0,g=[],m=s.length;u<=m;){var C=s.indexOf(`
`,u);C==-1&&(C=s.length);var T=s.slice(u,s.charAt(C-1)=="\r"?C-1:C),I=T.indexOf("\r");I!=-1?(g.push(T.slice(0,I)),u+=I+1):(g.push(T),u=C+1)}return g}:function(s){return s.split(/\r\n?|\n/)},w=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var u;try{u=s.ownerDocument.selection.createRange()}catch{}return!u||u.parentElement()!=s?!1:u.compareEndPoints("StartToEnd",u)!=0},_=function(){var s=be("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),E=null;function A(s){if(E!=null)return E;var u=gt(s,be("span","x")),g=u.getBoundingClientRect(),m=He(u,0,1).getBoundingClientRect();return E=Math.abs(g.left-m.left)>1}var B={},H={};function V(s,u){arguments.length>2&&(u.dependencies=Array.prototype.slice.call(arguments,2)),B[s]=u}function K(s,u){H[s]=u}function Z(s){if(typeof s=="string"&&H.hasOwnProperty(s))s=H[s];else if(s&&typeof s.name=="string"&&H.hasOwnProperty(s.name)){var u=H[s.name];typeof u=="string"&&(u={name:u}),s=Pe(u,s),s.name=u.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return Z("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return Z("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function xe(s,u){u=Z(u);var g=B[u.name];if(!g)return xe(s,"text/plain");var m=g(s,u);if(Ee.hasOwnProperty(u.name)){var C=Ee[u.name];for(var T in C)C.hasOwnProperty(T)&&(m.hasOwnProperty(T)&&(m["_"+T]=m[T]),m[T]=C[T])}if(m.name=u.name,u.helperType&&(m.helperType=u.helperType),u.modeProps)for(var I in u.modeProps)m[I]=u.modeProps[I];return m}var Ee={};function We(s,u){var g=Ee.hasOwnProperty(s)?Ee[s]:Ee[s]={};un(u,g)}function z(s,u){if(u===!0)return u;if(s.copyState)return s.copyState(u);var g={};for(var m in u){var C=u[m];C instanceof Array&&(C=C.concat([])),g[m]=C}return g}function ee(s,u){for(var g;s.innerMode&&(g=s.innerMode(u),!(!g||g.mode==s));)u=g.state,s=g.mode;return g||{mode:s,state:u}}function le(s,u,g){return s.startState?s.startState(u,g):!0}var Ce=function(s,u,g){this.pos=this.start=0,this.string=s,this.tabSize=u||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=g};Ce.prototype.eol=function(){return this.pos>=this.string.length},Ce.prototype.sol=function(){return this.pos==this.lineStart},Ce.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ce.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ce.prototype.eat=function(s){var u=this.string.charAt(this.pos),g;if(typeof s=="string"?g=u==s:g=u&&(s.test?s.test(u):s(u)),g)return++this.pos,u},Ce.prototype.eatWhile=function(s){for(var u=this.pos;this.eat(s););return this.pos>u},Ce.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},Ce.prototype.skipToEnd=function(){this.pos=this.string.length},Ce.prototype.skipTo=function(s){var u=this.string.indexOf(s,this.pos);if(u>-1)return this.pos=u,!0},Ce.prototype.backUp=function(s){this.pos-=s},Ce.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Kt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Kt(this.string,this.lineStart,this.tabSize):0)},Ce.prototype.indentation=function(){return Kt(this.string,null,this.tabSize)-(this.lineStart?Kt(this.string,this.lineStart,this.tabSize):0)},Ce.prototype.match=function(s,u,g){if(typeof s=="string"){var m=function(I){return g?I.toLowerCase():I},C=this.string.substr(this.pos,s.length);if(m(C)==m(s))return u!==!1&&(this.pos+=s.length),!0}else{var T=this.string.slice(this.pos).match(s);return T&&T.index>0?null:(T&&u!==!1&&(this.pos+=T[0].length),T)}},Ce.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ce.prototype.hideFirstChars=function(s,u){this.lineStart+=s;try{return u()}finally{this.lineStart-=s}},Ce.prototype.lookAhead=function(s){var u=this.lineOracle;return u&&u.lookAhead(s)},Ce.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function ye(s,u){if(u-=s.first,u<0||u>=s.size)throw new Error("There is no line "+(u+s.first)+" in the document.");for(var g=s;!g.lines;)for(var m=0;;++m){var C=g.children[m],T=C.chunkSize();if(u<T){g=C;break}u-=T}return g.lines[u]}function $e(s,u,g){var m=[],C=u.line;return s.iter(u.line,g.line+1,function(T){var I=T.text;C==g.line&&(I=I.slice(0,g.ch)),C==u.line&&(I=I.slice(u.ch)),m.push(I),++C}),m}function Qe(s,u,g){var m=[];return s.iter(u,g,function(C){m.push(C.text)}),m}function rt(s,u){var g=u-s.height;if(g)for(var m=s;m;m=m.parent)m.height+=g}function tt(s){if(s.parent==null)return null;for(var u=s.parent,g=Ft(u.lines,s),m=u.parent;m;u=m,m=m.parent)for(var C=0;m.children[C]!=u;++C)g+=m.children[C].chunkSize();return g+u.first}function jt(s,u){var g=s.first;e:do{for(var m=0;m<s.children.length;++m){var C=s.children[m],T=C.height;if(u<T){s=C;continue e}u-=T,g+=C.chunkSize()}return g}while(!s.lines);for(var I=0;I<s.lines.length;++I){var F=s.lines[I],N=F.height;if(u<N)break;u-=N}return g+I}function Jt(s,u){return u>=s.first&&u<s.first+s.size}function ui(s,u){return String(s.lineNumberFormatter(u+s.firstLineNumber))}function Ve(s,u,g){if(g===void 0&&(g=null),!(this instanceof Ve))return new Ve(s,u,g);this.line=s,this.ch=u,this.sticky=g}function bt(s,u){return s.line-u.line||s.ch-u.ch}function ni(s,u){return s.sticky==u.sticky&&bt(s,u)==0}function Wn(s){return Ve(s.line,s.ch)}function ki(s,u){return bt(s,u)<0?u:s}function In(s,u){return bt(s,u)<0?s:u}function _i(s,u){return Math.max(s.first,Math.min(u,s.first+s.size-1))}function Mt(s,u){if(u.line<s.first)return Ve(s.first,0);var g=s.first+s.size-1;return u.line>g?Ve(g,ye(s,g).text.length):Ts(u,ye(s,u.line).text.length)}function Ts(s,u){var g=s.ch;return g==null||g>u?Ve(s.line,u):g<0?Ve(s.line,0):s}function gi(s,u){for(var g=[],m=0;m<u.length;m++)g[m]=Mt(s,u[m]);return g}var kn=function(s,u){this.state=s,this.lookAhead=u},wt=function(s,u,g,m){this.state=u,this.doc=s,this.line=g,this.maxLookAhead=m||0,this.baseTokens=null,this.baseTokenPos=1};wt.prototype.lookAhead=function(s){var u=this.doc.getLine(this.line+s);return u!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),u},wt.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},wt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},wt.fromSaved=function(s,u,g){return u instanceof kn?new wt(s,z(s.mode,u.state),g,u.lookAhead):new wt(s,z(s.mode,u),g)},wt.prototype.save=function(s){var u=s!==!1?z(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new kn(u,this.maxLookAhead):u};function rs(s,u,g,m){var C=[s.state.modeGen],T={};mt(s,u.text,s.doc.mode,g,function(j,ie){return C.push(j,ie)},T,m);for(var I=g.state,F=function(j){g.baseTokens=C;var ie=s.state.overlays[j],ce=1,Ae=0;g.state=!0,mt(s,u.text,ie.mode,g,function(Se,Ne){for(var qe=ce;Ae<Se;){var Je=C[ce];Je>Se&&C.splice(ce,1,Se,C[ce+1],Je),ce+=2,Ae=Math.min(Se,Je)}if(Ne)if(ie.opaque)C.splice(qe,ce-qe,Se,"overlay "+Ne),ce=qe+2;else for(;qe<ce;qe+=2){var it=C[qe+1];C[qe+1]=(it?it+" ":"")+"overlay "+Ne}},T),g.state=I,g.baseTokens=null,g.baseTokenPos=1},N=0;N<s.state.overlays.length;++N)F(N);return{styles:C,classes:T.bgClass||T.textClass?T:null}}function os(s,u,g){if(!u.styles||u.styles[0]!=s.state.modeGen){var m=D(s,tt(u)),C=u.text.length>s.options.maxHighlightLength&&z(s.doc.mode,m.state),T=rs(s,u,m);C&&(m.state=C),u.stateAfter=m.save(!C),u.styles=T.styles,T.classes?u.styleClasses=T.classes:u.styleClasses&&(u.styleClasses=null),g===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return u.styles}function D(s,u,g){var m=s.doc,C=s.display;if(!m.mode.startState)return new wt(m,!0,u);var T=kt(s,u,g),I=T>m.first&&ye(m,T-1).stateAfter,F=I?wt.fromSaved(m,I,T):new wt(m,le(m.mode),T);return m.iter(T,u,function(N){P(s,N.text,F);var j=F.line;N.stateAfter=j==u-1||j%5==0||j>=C.viewFrom&&j<C.viewTo?F.save():null,F.nextLine()}),g&&(m.modeFrontier=F.line),F}function P(s,u,g,m){var C=s.doc.mode,T=new Ce(u,s.options.tabSize,g);for(T.start=T.pos=m||0,u==""&&W(C,g.state);!T.eol();)Q(C,T,g.state),T.start=T.pos}function W(s,u){if(s.blankLine)return s.blankLine(u);if(s.innerMode){var g=ee(s,u);if(g.mode.blankLine)return g.mode.blankLine(g.state)}}function Q(s,u,g,m){for(var C=0;C<10;C++){m&&(m[0]=ee(s,g).mode);var T=s.token(u,g);if(u.pos>u.start)return T}throw new Error("Mode "+s.name+" failed to advance stream.")}var de=function(s,u,g){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=u||null,this.state=g};function Ue(s,u,g,m){var C=s.doc,T=C.mode,I;u=Mt(C,u);var F=ye(C,u.line),N=D(s,u.line,g),j=new Ce(F.text,s.options.tabSize,N),ie;for(m&&(ie=[]);(m||j.pos<u.ch)&&!j.eol();)j.start=j.pos,I=Q(T,j,N.state),m&&ie.push(new de(j,I,z(C.mode,N.state)));return m?ie:new de(j,I,N.state)}function Ke(s,u){if(s)for(;;){var g=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!g)break;s=s.slice(0,g.index)+s.slice(g.index+g[0].length);var m=g[1]?"bgClass":"textClass";u[m]==null?u[m]=g[2]:new RegExp("(?:^|\\s)"+g[2]+"(?:$|\\s)").test(u[m])||(u[m]+=" "+g[2])}return s}function mt(s,u,g,m,C,T,I){var F=g.flattenSpans;F==null&&(F=s.options.flattenSpans);var N=0,j=null,ie=new Ce(u,s.options.tabSize,m),ce,Ae=s.options.addModeClass&&[null];for(u==""&&Ke(W(g,m.state),T);!ie.eol();){if(ie.pos>s.options.maxHighlightLength?(F=!1,I&&P(s,u,m,ie.pos),ie.pos=u.length,ce=null):ce=Ke(Q(g,ie,m.state,Ae),T),Ae){var Se=Ae[0].name;Se&&(ce="m-"+(ce?Se+" "+ce:Se))}if(!F||j!=ce){for(;N<ie.start;)N=Math.min(ie.start,N+5e3),C(N,j);j=ce}ie.start=ie.pos}for(;N<ie.pos;){var Ne=Math.min(ie.pos,N+5e3);C(Ne,j),N=Ne}}function kt(s,u,g){for(var m,C,T=s.doc,I=g?-1:u-(s.doc.mode.innerMode?1e3:100),F=u;F>I;--F){if(F<=T.first)return T.first;var N=ye(T,F-1),j=N.stateAfter;if(j&&(!g||F+(j instanceof kn?j.lookAhead:0)<=T.modeFrontier))return F;var ie=Kt(N.text,null,s.options.tabSize);(C==null||m>ie)&&(C=F-1,m=ie)}return C}function vt(s,u){if(s.modeFrontier=Math.min(s.modeFrontier,u),!(s.highlightFrontier<u-10)){for(var g=s.first,m=u-1;m>g;m--){var C=ye(s,m).stateAfter;if(C&&(!(C instanceof kn)||m+C.lookAhead<u)){g=m+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,g)}}var Et=!1,St=!1;function Ht(){Et=!0}function nn(){St=!0}function on(s,u,g){this.marker=s,this.from=u,this.to=g}function bn(s,u){if(s)for(var g=0;g<s.length;++g){var m=s[g];if(m.marker==u)return m}}function Qn(s,u){for(var g,m=0;m<s.length;++m)s[m]!=u&&(g||(g=[])).push(s[m]);return g}function zt(s,u,g){var m=g&&window.WeakSet&&(g.markedSpans||(g.markedSpans=new WeakSet));m&&s.markedSpans&&m.has(s.markedSpans)?s.markedSpans.push(u):(s.markedSpans=s.markedSpans?s.markedSpans.concat([u]):[u],m&&m.add(s.markedSpans)),u.marker.attachLine(s)}function Gt(s,u,g){var m;if(s)for(var C=0;C<s.length;++C){var T=s[C],I=T.marker,F=T.from==null||(I.inclusiveLeft?T.from<=u:T.from<u);if(F||T.from==u&&I.type=="bookmark"&&(!g||!T.marker.insertLeft)){var N=T.to==null||(I.inclusiveRight?T.to>=u:T.to>u);(m||(m=[])).push(new on(I,T.from,N?null:T.to))}}return m}function Jn(s,u,g){var m;if(s)for(var C=0;C<s.length;++C){var T=s[C],I=T.marker,F=T.to==null||(I.inclusiveRight?T.to>=u:T.to>u);if(F||T.from==u&&I.type=="bookmark"&&(!g||T.marker.insertLeft)){var N=T.from==null||(I.inclusiveLeft?T.from<=u:T.from<u);(m||(m=[])).push(new on(I,N?null:T.from-u,T.to==null?null:T.to-u))}}return m}function Tn(s,u){if(u.full)return null;var g=Jt(s,u.from.line)&&ye(s,u.from.line).markedSpans,m=Jt(s,u.to.line)&&ye(s,u.to.line).markedSpans;if(!g&&!m)return null;var C=u.from.ch,T=u.to.ch,I=bt(u.from,u.to)==0,F=Gt(g,C,I),N=Jn(m,T,I),j=u.text.length==1,ie=pt(u.text).length+(j?C:0);if(F)for(var ce=0;ce<F.length;++ce){var Ae=F[ce];if(Ae.to==null){var Se=bn(N,Ae.marker);Se?j&&(Ae.to=Se.to==null?null:Se.to+ie):Ae.to=C}}if(N)for(var Ne=0;Ne<N.length;++Ne){var qe=N[Ne];if(qe.to!=null&&(qe.to+=ie),qe.from==null){var Je=bn(F,qe.marker);Je||(qe.from=ie,j&&(F||(F=[])).push(qe))}else qe.from+=ie,j&&(F||(F=[])).push(qe)}F&&(F=nt(F)),N&&N!=F&&(N=nt(N));var it=[F];if(!j){var lt=u.text.length-2,st;if(lt>0&&F)for(var ht=0;ht<F.length;++ht)F[ht].to==null&&(st||(st=[])).push(new on(F[ht].marker,null,null));for(var Tt=0;Tt<lt;++Tt)it.push(st);it.push(N)}return it}function nt(s){for(var u=0;u<s.length;++u){var g=s[u];g.from!=null&&g.from==g.to&&g.marker.clearWhenEmpty!==!1&&s.splice(u--,1)}return s.length?s:null}function Lt(s,u,g){var m=null;if(s.iter(u.line,g.line+1,function(Se){if(Se.markedSpans)for(var Ne=0;Ne<Se.markedSpans.length;++Ne){var qe=Se.markedSpans[Ne].marker;qe.readOnly&&(!m||Ft(m,qe)==-1)&&(m||(m=[])).push(qe)}}),!m)return null;for(var C=[{from:u,to:g}],T=0;T<m.length;++T)for(var I=m[T],F=I.find(0),N=0;N<C.length;++N){var j=C[N];if(!(bt(j.to,F.from)<0||bt(j.from,F.to)>0)){var ie=[N,1],ce=bt(j.from,F.from),Ae=bt(j.to,F.to);(ce<0||!I.inclusiveLeft&&!ce)&&ie.push({from:j.from,to:F.from}),(Ae>0||!I.inclusiveRight&&!Ae)&&ie.push({from:F.to,to:j.to}),C.splice.apply(C,ie),N+=ie.length-3}}return C}function Pt(s){var u=s.markedSpans;if(u){for(var g=0;g<u.length;++g)u[g].marker.detachLine(s);s.markedSpans=null}}function sn(s,u){if(u){for(var g=0;g<u.length;++g)u[g].marker.attachLine(s);s.markedSpans=u}}function Zt(s){return s.inclusiveLeft?-1:0}function zn(s){return s.inclusiveRight?1:0}function Zn(s,u){var g=s.lines.length-u.lines.length;if(g!=0)return g;var m=s.find(),C=u.find(),T=bt(m.from,C.from)||Zt(s)-Zt(u);if(T)return-T;var I=bt(m.to,C.to)||zn(s)-zn(u);return I||u.id-s.id}function vi(s,u){var g=St&&s.markedSpans,m;if(g)for(var C=void 0,T=0;T<g.length;++T)C=g[T],C.marker.collapsed&&(u?C.from:C.to)==null&&(!m||Zn(m,C.marker)<0)&&(m=C.marker);return m}function ci(s){return vi(s,!0)}function qi(s){return vi(s,!1)}function qo(s,u){var g=St&&s.markedSpans,m;if(g)for(var C=0;C<g.length;++C){var T=g[C];T.marker.collapsed&&(T.from==null||T.from<u)&&(T.to==null||T.to>u)&&(!m||Zn(m,T.marker)<0)&&(m=T.marker)}return m}function Js(s,u,g,m,C){var T=ye(s,u),I=St&&T.markedSpans;if(I)for(var F=0;F<I.length;++F){var N=I[F];if(N.marker.collapsed){var j=N.marker.find(0),ie=bt(j.from,g)||Zt(N.marker)-Zt(C),ce=bt(j.to,m)||zn(N.marker)-zn(C);if(!(ie>=0&&ce<=0||ie<=0&&ce>=0)&&(ie<=0&&(N.marker.inclusiveRight&&C.inclusiveLeft?bt(j.to,g)>=0:bt(j.to,g)>0)||ie>=0&&(N.marker.inclusiveRight&&C.inclusiveLeft?bt(j.from,m)<=0:bt(j.from,m)<0)))return!0}}}function Mi(s){for(var u;u=ci(s);)s=u.find(-1,!0).line;return s}function nm(s){for(var u;u=qi(s);)s=u.find(1,!0).line;return s}function im(s){for(var u,g;u=qi(s);)s=u.find(1,!0).line,(g||(g=[])).push(s);return g}function $o(s,u){var g=ye(s,u),m=Mi(g);return g==m?u:tt(m)}function Vu(s,u){if(u>s.lastLine())return u;var g=ye(s,u),m;if(!ls(s,g))return u;for(;m=qi(g);)g=m.find(1,!0).line;return tt(g)+1}function ls(s,u){var g=St&&u.markedSpans;if(g){for(var m=void 0,C=0;C<g.length;++C)if(m=g[C],!!m.marker.collapsed){if(m.from==null)return!0;if(!m.marker.widgetNode&&m.from==0&&m.marker.inclusiveLeft&&Yo(s,u,m))return!0}}}function Yo(s,u,g){if(g.to==null){var m=g.marker.find(1,!0);return Yo(s,m.line,bn(m.line.markedSpans,g.marker))}if(g.marker.inclusiveRight&&g.to==u.text.length)return!0;for(var C=void 0,T=0;T<u.markedSpans.length;++T)if(C=u.markedSpans[T],C.marker.collapsed&&!C.marker.widgetNode&&C.from==g.to&&(C.to==null||C.to!=g.from)&&(C.marker.inclusiveLeft||g.marker.inclusiveRight)&&Yo(s,u,C))return!0}function $i(s){s=Mi(s);for(var u=0,g=s.parent,m=0;m<g.lines.length;++m){var C=g.lines[m];if(C==s)break;u+=C.height}for(var T=g.parent;T;g=T,T=g.parent)for(var I=0;I<T.children.length;++I){var F=T.children[I];if(F==g)break;u+=F.height}return u}function Mr(s){if(s.height==0)return 0;for(var u=s.text.length,g,m=s;g=ci(m);){var C=g.find(0,!0);m=C.from.line,u+=C.from.ch-C.to.ch}for(m=s;g=qi(m);){var T=g.find(0,!0);u-=m.text.length-T.from.ch,m=T.to.line,u+=m.text.length-T.to.ch}return u}function Go(s){var u=s.display,g=s.doc;u.maxLine=ye(g,g.first),u.maxLineLength=Mr(u.maxLine),u.maxLineChanged=!0,g.iter(function(m){var C=Mr(m);C>u.maxLineLength&&(u.maxLineLength=C,u.maxLine=m)})}var Zs=function(s,u,g){this.text=s,sn(this,u),this.height=g?g(this):1};Zs.prototype.lineNo=function(){return tt(this)},Ye(Zs);function sm(s,u,g,m){s.text=u,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),Pt(s),sn(s,g);var C=m?m(s):1;C!=s.height&&rt(s,C)}function am(s){s.parent=null,Pt(s)}var rm={},om={};function Uu(s,u){if(!s||/^\s*$/.test(s))return null;var g=u.addModeClass?om:rm;return g[s]||(g[s]=s.replace(/\S+/g,"cm-$&"))}function ju(s,u){var g=je("span",null,null,M?"padding-right: .1px":null),m={pre:je("pre",[g],"CodeMirror-line"),content:g,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};u.measure={};for(var C=0;C<=(u.rest?u.rest.length:0);C++){var T=C?u.rest[C-1]:u.line,I=void 0;m.pos=0,m.addToken=um,d(s.display.measure)&&(I=fe(T,s.doc.direction))&&(m.addToken=dm(m.addToken,I)),m.map=[];var F=u!=s.display.externalMeasured&&tt(T);hm(T,m,os(s,T,F)),T.styleClasses&&(T.styleClasses.bgClass&&(m.bgClass=Rn(T.styleClasses.bgClass,m.bgClass||"")),T.styleClasses.textClass&&(m.textClass=Rn(T.styleClasses.textClass,m.textClass||""))),m.map.length==0&&m.map.push(0,0,m.content.appendChild(n(s.display.measure))),C==0?(u.measure.map=m.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(m.map),(u.measure.caches||(u.measure.caches=[])).push({}))}if(M){var N=m.content.lastChild;(/\bcm-tab\b/.test(N.className)||N.querySelector&&N.querySelector(".cm-tab"))&&(m.content.className="cm-tab-wrap-hack")}return dt(s,"renderLine",s,u.line,m.pre),m.pre.className&&(m.textClass=Rn(m.pre.className,m.textClass||"")),m}function lm(s){var u=be("span","•","cm-invalidchar");return u.title="\\u"+s.charCodeAt(0).toString(16),u.setAttribute("aria-label",u.title),u}function um(s,u,g,m,C,T,I){if(u){var F=s.splitSpaces?cm(u,s.trailingSpace):u,N=s.cm.state.specialChars,j=!1,ie;if(!N.test(u))s.col+=u.length,ie=document.createTextNode(F),s.map.push(s.pos,s.pos+u.length,ie),k&&S<9&&(j=!0),s.pos+=u.length;else{ie=document.createDocumentFragment();for(var ce=0;;){N.lastIndex=ce;var Ae=N.exec(u),Se=Ae?Ae.index-ce:u.length-ce;if(Se){var Ne=document.createTextNode(F.slice(ce,ce+Se));k&&S<9?ie.appendChild(be("span",[Ne])):ie.appendChild(Ne),s.map.push(s.pos,s.pos+Se,Ne),s.col+=Se,s.pos+=Se}if(!Ae)break;ce+=Se+1;var qe=void 0;if(Ae[0]=="	"){var Je=s.cm.options.tabSize,it=Je-s.col%Je;qe=ie.appendChild(be("span",Kn(it),"cm-tab")),qe.setAttribute("role","presentation"),qe.setAttribute("cm-text","	"),s.col+=it}else Ae[0]=="\r"||Ae[0]==`
`?(qe=ie.appendChild(be("span",Ae[0]=="\r"?"␍":"␤","cm-invalidchar")),qe.setAttribute("cm-text",Ae[0]),s.col+=1):(qe=s.cm.options.specialCharPlaceholder(Ae[0]),qe.setAttribute("cm-text",Ae[0]),k&&S<9?ie.appendChild(be("span",[qe])):ie.appendChild(qe),s.col+=1);s.map.push(s.pos,s.pos+1,qe),s.pos++}}if(s.trailingSpace=F.charCodeAt(u.length-1)==32,g||m||C||j||T||I){var lt=g||"";m&&(lt+=m),C&&(lt+=C);var st=be("span",[ie],lt,T);if(I)for(var ht in I)I.hasOwnProperty(ht)&&ht!="style"&&ht!="class"&&st.setAttribute(ht,I[ht]);return s.content.appendChild(st)}s.content.appendChild(ie)}}function cm(s,u){if(s.length>1&&!/  /.test(s))return s;for(var g=u,m="",C=0;C<s.length;C++){var T=s.charAt(C);T==" "&&g&&(C==s.length-1||s.charCodeAt(C+1)==32)&&(T=" "),m+=T,g=T==" "}return m}function dm(s,u){return function(g,m,C,T,I,F,N){C=C?C+" cm-force-border":"cm-force-border";for(var j=g.pos,ie=j+m.length;;){for(var ce=void 0,Ae=0;Ae<u.length&&(ce=u[Ae],!(ce.to>j&&ce.from<=j));Ae++);if(ce.to>=ie)return s(g,m,C,T,I,F,N);s(g,m.slice(0,ce.to-j),C,T,null,F,N),T=null,m=m.slice(ce.to-j),j=ce.to}}}function qu(s,u,g,m){var C=!m&&g.widgetNode;C&&s.map.push(s.pos,s.pos+u,C),!m&&s.cm.display.input.needsContentAttribute&&(C||(C=s.content.appendChild(document.createElement("span"))),C.setAttribute("cm-marker",g.id)),C&&(s.cm.display.input.setUneditable(C),s.content.appendChild(C)),s.pos+=u,s.trailingSpace=!1}function hm(s,u,g){var m=s.markedSpans,C=s.text,T=0;if(!m){for(var I=1;I<g.length;I+=2)u.addToken(u,C.slice(T,T=g[I]),Uu(g[I+1],u.cm.options));return}for(var F=C.length,N=0,j=1,ie="",ce,Ae,Se=0,Ne,qe,Je,it,lt;;){if(Se==N){Ne=qe=Je=Ae="",lt=null,it=null,Se=1/0;for(var st=[],ht=void 0,Tt=0;Tt<m.length;++Tt){var Ct=m[Tt],Rt=Ct.marker;if(Rt.type=="bookmark"&&Ct.from==N&&Rt.widgetNode)st.push(Rt);else if(Ct.from<=N&&(Ct.to==null||Ct.to>N||Rt.collapsed&&Ct.to==N&&Ct.from==N)){if(Ct.to!=null&&Ct.to!=N&&Se>Ct.to&&(Se=Ct.to,qe=""),Rt.className&&(Ne+=" "+Rt.className),Rt.css&&(Ae=(Ae?Ae+";":"")+Rt.css),Rt.startStyle&&Ct.from==N&&(Je+=" "+Rt.startStyle),Rt.endStyle&&Ct.to==Se&&(ht||(ht=[])).push(Rt.endStyle,Ct.to),Rt.title&&((lt||(lt={})).title=Rt.title),Rt.attributes)for(var ln in Rt.attributes)(lt||(lt={}))[ln]=Rt.attributes[ln];Rt.collapsed&&(!it||Zn(it.marker,Rt)<0)&&(it=Ct)}else Ct.from>N&&Se>Ct.from&&(Se=Ct.from)}if(ht)for(var qn=0;qn<ht.length;qn+=2)ht[qn+1]==Se&&(qe+=" "+ht[qn]);if(!it||it.from==N)for(var yn=0;yn<st.length;++yn)qu(u,0,st[yn]);if(it&&(it.from||0)==N){if(qu(u,(it.to==null?F+1:it.to)-N,it.marker,it.from==null),it.to==null)return;it.to==N&&(it=!1)}}if(N>=F)break;for(var yi=Math.min(F,Se);;){if(ie){var fi=N+ie.length;if(!it){var On=fi>yi?ie.slice(0,yi-N):ie;u.addToken(u,On,ce?ce+Ne:Ne,Je,N+On.length==Se?qe:"",Ae,lt)}if(fi>=yi){ie=ie.slice(yi-N),N=yi;break}N=fi,Je=""}ie=C.slice(T,T=g[j++]),ce=Uu(g[j++],u.cm.options)}}}function $u(s,u,g){this.line=u,this.rest=im(u),this.size=this.rest?tt(pt(this.rest))-g+1:1,this.node=this.text=null,this.hidden=ls(s,u)}function Ir(s,u,g){for(var m=[],C,T=u;T<g;T=C){var I=new $u(s.doc,ye(s.doc,T),T);C=T+I.size,m.push(I)}return m}var ea=null;function fm(s){ea?ea.ops.push(s):s.ownsGroup=ea={ops:[s],delayedCallbacks:[]}}function pm(s){var u=s.delayedCallbacks,g=0;do{for(;g<u.length;g++)u[g].call(null);for(var m=0;m<s.ops.length;m++){var C=s.ops[m];if(C.cursorActivityHandlers)for(;C.cursorActivityCalled<C.cursorActivityHandlers.length;)C.cursorActivityHandlers[C.cursorActivityCalled++].call(null,C.cm)}}while(g<u.length)}function mm(s,u){var g=s.ownsGroup;if(g)try{pm(g)}finally{ea=null,u(g)}}var Ta=null;function Vn(s,u){var g=Ze(s,u);if(g.length){var m=Array.prototype.slice.call(arguments,2),C;ea?C=ea.delayedCallbacks:Ta?C=Ta:(C=Ta=[],setTimeout(gm,0));for(var T=function(F){C.push(function(){return g[F].apply(null,m)})},I=0;I<g.length;++I)T(I)}}function gm(){var s=Ta;Ta=null;for(var u=0;u<s.length;++u)s[u]()}function Yu(s,u,g,m){for(var C=0;C<u.changes.length;C++){var T=u.changes[C];T=="text"?bm(s,u):T=="gutter"?Xu(s,u,g,m):T=="class"?Xo(s,u):T=="widget"&&ym(s,u,m)}u.changes=null}function Da(s){return s.node==s.text&&(s.node=be("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),k&&S<8&&(s.node.style.zIndex=2)),s.node}function vm(s,u){var g=u.bgClass?u.bgClass+" "+(u.line.bgClass||""):u.line.bgClass;if(g&&(g+=" CodeMirror-linebackground"),u.background)g?u.background.className=g:(u.background.parentNode.removeChild(u.background),u.background=null);else if(g){var m=Da(u);u.background=m.insertBefore(be("div",null,g),m.firstChild),s.display.input.setUneditable(u.background)}}function Gu(s,u){var g=s.display.externalMeasured;return g&&g.line==u.line?(s.display.externalMeasured=null,u.measure=g.measure,g.built):ju(s,u)}function bm(s,u){var g=u.text.className,m=Gu(s,u);u.text==u.node&&(u.node=m.pre),u.text.parentNode.replaceChild(m.pre,u.text),u.text=m.pre,m.bgClass!=u.bgClass||m.textClass!=u.textClass?(u.bgClass=m.bgClass,u.textClass=m.textClass,Xo(s,u)):g&&(u.text.className=g)}function Xo(s,u){vm(s,u),u.line.wrapClass?Da(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");var g=u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass;u.text.className=g||""}function Xu(s,u,g,m){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var C=Da(u);u.gutterBackground=be("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(s.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px; width: "+m.gutterTotalWidth+"px"),s.display.input.setUneditable(u.gutterBackground),C.insertBefore(u.gutterBackground,u.text)}var T=u.line.gutterMarkers;if(s.options.lineNumbers||T){var I=Da(u),F=u.gutter=be("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px");if(F.setAttribute("aria-hidden","true"),s.display.input.setUneditable(F),I.insertBefore(F,u.text),u.line.gutterClass&&(F.className+=" "+u.line.gutterClass),s.options.lineNumbers&&(!T||!T["CodeMirror-linenumbers"])&&(u.lineNumber=F.appendChild(be("div",ui(s.options,g),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+m.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),T)for(var N=0;N<s.display.gutterSpecs.length;++N){var j=s.display.gutterSpecs[N].className,ie=T.hasOwnProperty(j)&&T[j];ie&&F.appendChild(be("div",[ie],"CodeMirror-gutter-elt","left: "+m.gutterLeft[j]+"px; width: "+m.gutterWidth[j]+"px"))}}}function ym(s,u,g){u.alignable&&(u.alignable=null);for(var m=ze("CodeMirror-linewidget"),C=u.node.firstChild,T=void 0;C;C=T)T=C.nextSibling,m.test(C.className)&&u.node.removeChild(C);Ku(s,u,g)}function wm(s,u,g,m){var C=Gu(s,u);return u.text=u.node=C.pre,C.bgClass&&(u.bgClass=C.bgClass),C.textClass&&(u.textClass=C.textClass),Xo(s,u),Xu(s,u,g,m),Ku(s,u,m),u.node}function Ku(s,u,g){if(Qu(s,u.line,u,g,!0),u.rest)for(var m=0;m<u.rest.length;m++)Qu(s,u.rest[m],u,g,!1)}function Qu(s,u,g,m,C){if(u.widgets)for(var T=Da(g),I=0,F=u.widgets;I<F.length;++I){var N=F[I],j=be("div",[N.node],"CodeMirror-linewidget"+(N.className?" "+N.className:""));N.handleMouseEvents||j.setAttribute("cm-ignore-events","true"),Cm(N,j,g,m),s.display.input.setUneditable(j),C&&N.above?T.insertBefore(j,g.gutter||g.text):T.appendChild(j),Vn(N,"redraw")}}function Cm(s,u,g,m){if(s.noHScroll){(g.alignable||(g.alignable=[])).push(u);var C=m.wrapperWidth;u.style.left=m.fixedPos+"px",s.coverGutter||(C-=m.gutterTotalWidth,u.style.paddingLeft=m.gutterTotalWidth+"px"),u.style.width=C+"px"}s.coverGutter&&(u.style.zIndex=5,u.style.position="relative",s.noHScroll||(u.style.marginLeft=-m.gutterTotalWidth+"px"))}function Ea(s){if(s.height!=null)return s.height;var u=s.doc.cm;if(!u)return 0;if(!ot(document.body,s.node)){var g="position: relative;";s.coverGutter&&(g+="margin-left: -"+u.display.gutters.offsetWidth+"px;"),s.noHScroll&&(g+="width: "+u.display.wrapper.clientWidth+"px;"),gt(u.display.measure,be("div",[s.node],null,g))}return s.height=s.node.parentNode.offsetHeight}function Yi(s,u){for(var g=h(u);g!=s.wrapper;g=g.parentNode)if(!g||g.nodeType==1&&g.getAttribute("cm-ignore-events")=="true"||g.parentNode==s.sizer&&g!=s.mover)return!0}function Or(s){return s.lineSpace.offsetTop}function Ko(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function Ju(s){if(s.cachedPaddingH)return s.cachedPaddingH;var u=gt(s.measure,be("pre","x","CodeMirror-line-like")),g=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle,m={left:parseInt(g.paddingLeft),right:parseInt(g.paddingRight)};return!isNaN(m.left)&&!isNaN(m.right)&&(s.cachedPaddingH=m),m}function Bi(s){return Ut-s.display.nativeBarWidth}function Ds(s){return s.display.scroller.clientWidth-Bi(s)-s.display.barWidth}function Qo(s){return s.display.scroller.clientHeight-Bi(s)-s.display.barHeight}function xm(s,u,g){var m=s.options.lineWrapping,C=m&&Ds(s);if(!u.measure.heights||m&&u.measure.width!=C){var T=u.measure.heights=[];if(m){u.measure.width=C;for(var I=u.text.firstChild.getClientRects(),F=0;F<I.length-1;F++){var N=I[F],j=I[F+1];Math.abs(N.bottom-j.bottom)>2&&T.push((N.bottom+j.top)/2-g.top)}}T.push(g.bottom-g.top)}}function Zu(s,u,g){if(s.line==u)return{map:s.measure.map,cache:s.measure.cache};if(s.rest){for(var m=0;m<s.rest.length;m++)if(s.rest[m]==u)return{map:s.measure.maps[m],cache:s.measure.caches[m]};for(var C=0;C<s.rest.length;C++)if(tt(s.rest[C])>g)return{map:s.measure.maps[C],cache:s.measure.caches[C],before:!0}}}function km(s,u){u=Mi(u);var g=tt(u),m=s.display.externalMeasured=new $u(s.doc,u,g);m.lineN=g;var C=m.built=ju(s,m);return m.text=C.pre,gt(s.display.lineMeasure,C.pre),m}function ec(s,u,g,m){return Ri(s,ta(s,u),g,m)}function Jo(s,u){if(u>=s.display.viewFrom&&u<s.display.viewTo)return s.display.view[Ms(s,u)];var g=s.display.externalMeasured;if(g&&u>=g.lineN&&u<g.lineN+g.size)return g}function ta(s,u){var g=tt(u),m=Jo(s,g);m&&!m.text?m=null:m&&m.changes&&(Yu(s,m,g,il(s)),s.curOp.forceUpdate=!0),m||(m=km(s,u));var C=Zu(m,u,g);return{line:u,view:m,rect:null,map:C.map,cache:C.cache,before:C.before,hasHeights:!1}}function Ri(s,u,g,m,C){u.before&&(g=-1);var T=g+(m||""),I;return u.cache.hasOwnProperty(T)?I=u.cache[T]:(u.rect||(u.rect=u.view.text.getBoundingClientRect()),u.hasHeights||(xm(s,u.view,u.rect),u.hasHeights=!0),I=Sm(s,u,g,m),I.bogus||(u.cache[T]=I)),{left:I.left,right:I.right,top:C?I.rtop:I.top,bottom:C?I.rbottom:I.bottom}}var tc={left:0,right:0,top:0,bottom:0};function nc(s,u,g){for(var m,C,T,I,F,N,j=0;j<s.length;j+=3)if(F=s[j],N=s[j+1],u<F?(C=0,T=1,I="left"):u<N?(C=u-F,T=C+1):(j==s.length-3||u==N&&s[j+3]>u)&&(T=N-F,C=T-1,u>=N&&(I="right")),C!=null){if(m=s[j+2],F==N&&g==(m.insertLeft?"left":"right")&&(I=g),g=="left"&&C==0)for(;j&&s[j-2]==s[j-3]&&s[j-1].insertLeft;)m=s[(j-=3)+2],I="left";if(g=="right"&&C==N-F)for(;j<s.length-3&&s[j+3]==s[j+4]&&!s[j+5].insertLeft;)m=s[(j+=3)+2],I="right";break}return{node:m,start:C,end:T,collapse:I,coverStart:F,coverEnd:N}}function _m(s,u){var g=tc;if(u=="left")for(var m=0;m<s.length&&(g=s[m]).left==g.right;m++);else for(var C=s.length-1;C>=0&&(g=s[C]).left==g.right;C--);return g}function Sm(s,u,g,m){var C=nc(u.map,g,m),T=C.node,I=C.start,F=C.end,N=C.collapse,j;if(T.nodeType==3){for(var ie=0;ie<4;ie++){for(;I&&O(u.line.text.charAt(C.coverStart+I));)--I;for(;C.coverStart+F<C.coverEnd&&O(u.line.text.charAt(C.coverStart+F));)++F;if(k&&S<9&&I==0&&F==C.coverEnd-C.coverStart?j=T.parentNode.getBoundingClientRect():j=_m(He(T,I,F).getClientRects(),m),j.left||j.right||I==0)break;F=I,I=I-1,N="right"}k&&S<11&&(j=Tm(s.display.measure,j))}else{I>0&&(N=m="right");var ce;s.options.lineWrapping&&(ce=T.getClientRects()).length>1?j=ce[m=="right"?ce.length-1:0]:j=T.getBoundingClientRect()}if(k&&S<9&&!I&&(!j||!j.left&&!j.right)){var Ae=T.parentNode.getClientRects()[0];Ae?j={left:Ae.left,right:Ae.left+ia(s.display),top:Ae.top,bottom:Ae.bottom}:j=tc}for(var Se=j.top-u.rect.top,Ne=j.bottom-u.rect.top,qe=(Se+Ne)/2,Je=u.view.measure.heights,it=0;it<Je.length-1&&!(qe<Je[it]);it++);var lt=it?Je[it-1]:0,st=Je[it],ht={left:(N=="right"?j.right:j.left)-u.rect.left,right:(N=="left"?j.left:j.right)-u.rect.left,top:lt,bottom:st};return!j.left&&!j.right&&(ht.bogus=!0),s.options.singleCursorHeightPerLine||(ht.rtop=Se,ht.rbottom=Ne),ht}function Tm(s,u){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!A(s))return u;var g=screen.logicalXDPI/screen.deviceXDPI,m=screen.logicalYDPI/screen.deviceYDPI;return{left:u.left*g,right:u.right*g,top:u.top*m,bottom:u.bottom*m}}function ic(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var u=0;u<s.rest.length;u++)s.measure.caches[u]={}}function sc(s){s.display.externalMeasure=null,ft(s.display.lineMeasure);for(var u=0;u<s.display.view.length;u++)ic(s.display.view[u])}function Aa(s){sc(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function ac(s){return R&&pe?-(s.body.getBoundingClientRect().left-parseInt(getComputedStyle(s.body).marginLeft)):s.defaultView.pageXOffset||(s.documentElement||s.body).scrollLeft}function rc(s){return R&&pe?-(s.body.getBoundingClientRect().top-parseInt(getComputedStyle(s.body).marginTop)):s.defaultView.pageYOffset||(s.documentElement||s.body).scrollTop}function Zo(s){var u=Mi(s),g=u.widgets,m=0;if(g)for(var C=0;C<g.length;++C)g[C].above&&(m+=Ea(g[C]));return m}function Pr(s,u,g,m,C){if(!C){var T=Zo(u);g.top+=T,g.bottom+=T}if(m=="line")return g;m||(m="local");var I=$i(u);if(m=="local"?I+=Or(s.display):I-=s.display.viewOffset,m=="page"||m=="window"){var F=s.display.lineSpace.getBoundingClientRect();I+=F.top+(m=="window"?0:rc(Y(s)));var N=F.left+(m=="window"?0:ac(Y(s)));g.left+=N,g.right+=N}return g.top+=I,g.bottom+=I,g}function oc(s,u,g){if(g=="div")return u;var m=u.left,C=u.top;if(g=="page")m-=ac(Y(s)),C-=rc(Y(s));else if(g=="local"||!g){var T=s.display.sizer.getBoundingClientRect();m+=T.left,C+=T.top}var I=s.display.lineSpace.getBoundingClientRect();return{left:m-I.left,top:C-I.top}}function Fr(s,u,g,m,C){return m||(m=ye(s.doc,u.line)),Pr(s,m,ec(s,m,u.ch,C),g)}function Ii(s,u,g,m,C,T){m=m||ye(s.doc,u.line),C||(C=ta(s,m));function I(Ne,qe){var Je=Ri(s,C,Ne,qe?"right":"left",T);return qe?Je.left=Je.right:Je.right=Je.left,Pr(s,m,Je,g)}var F=fe(m,s.doc.direction),N=u.ch,j=u.sticky;if(N>=m.text.length?(N=m.text.length,j="before"):N<=0&&(N=0,j="after"),!F)return I(j=="before"?N-1:N,j=="before");function ie(Ne,qe,Je){var it=F[qe],lt=it.level==1;return I(Je?Ne-1:Ne,lt!=Je)}var ce=Me(F,N,j),Ae=ge,Se=ie(N,ce,j=="before");return Ae!=null&&(Se.other=ie(N,Ae,j!="before")),Se}function lc(s,u){var g=0;u=Mt(s.doc,u),s.options.lineWrapping||(g=ia(s.display)*u.ch);var m=ye(s.doc,u.line),C=$i(m)+Or(s.display);return{left:g,right:g,top:C,bottom:C+m.height}}function el(s,u,g,m,C){var T=Ve(s,u,g);return T.xRel=C,m&&(T.outside=m),T}function tl(s,u,g){var m=s.doc;if(g+=s.display.viewOffset,g<0)return el(m.first,0,null,-1,-1);var C=jt(m,g),T=m.first+m.size-1;if(C>T)return el(m.first+m.size-1,ye(m,T).text.length,null,1,1);u<0&&(u=0);for(var I=ye(m,C);;){var F=Dm(s,I,C,u,g),N=qo(I,F.ch+(F.xRel>0||F.outside>0?1:0));if(!N)return F;var j=N.find(1);if(j.line==C)return j;I=ye(m,C=j.line)}}function uc(s,u,g,m){m-=Zo(u);var C=u.text.length,T=ne(function(I){return Ri(s,g,I-1).bottom<=m},C,0);return C=ne(function(I){return Ri(s,g,I).top>m},T,C),{begin:T,end:C}}function cc(s,u,g,m){g||(g=ta(s,u));var C=Pr(s,u,Ri(s,g,m),"line").top;return uc(s,u,g,C)}function nl(s,u,g,m){return s.bottom<=g?!1:s.top>g?!0:(m?s.left:s.right)>u}function Dm(s,u,g,m,C){C-=$i(u);var T=ta(s,u),I=Zo(u),F=0,N=u.text.length,j=!0,ie=fe(u,s.doc.direction);if(ie){var ce=(s.options.lineWrapping?Am:Em)(s,u,g,T,ie,m,C);j=ce.level!=1,F=j?ce.from:ce.to-1,N=j?ce.to:ce.from-1}var Ae=null,Se=null,Ne=ne(function(Tt){var Ct=Ri(s,T,Tt);return Ct.top+=I,Ct.bottom+=I,nl(Ct,m,C,!1)?(Ct.top<=C&&Ct.left<=m&&(Ae=Tt,Se=Ct),!0):!1},F,N),qe,Je,it=!1;if(Se){var lt=m-Se.left<Se.right-m,st=lt==j;Ne=Ae+(st?0:1),Je=st?"after":"before",qe=lt?Se.left:Se.right}else{!j&&(Ne==N||Ne==F)&&Ne++,Je=Ne==0?"after":Ne==u.text.length?"before":Ri(s,T,Ne-(j?1:0)).bottom+I<=C==j?"after":"before";var ht=Ii(s,Ve(g,Ne,Je),"line",u,T);qe=ht.left,it=C<ht.top?-1:C>=ht.bottom?1:0}return Ne=U(u.text,Ne,1),el(g,Ne,Je,it,m-qe)}function Em(s,u,g,m,C,T,I){var F=ne(function(ce){var Ae=C[ce],Se=Ae.level!=1;return nl(Ii(s,Ve(g,Se?Ae.to:Ae.from,Se?"before":"after"),"line",u,m),T,I,!0)},0,C.length-1),N=C[F];if(F>0){var j=N.level!=1,ie=Ii(s,Ve(g,j?N.from:N.to,j?"after":"before"),"line",u,m);nl(ie,T,I,!0)&&ie.top>I&&(N=C[F-1])}return N}function Am(s,u,g,m,C,T,I){var F=uc(s,u,m,I),N=F.begin,j=F.end;/\s/.test(u.text.charAt(j-1))&&j--;for(var ie=null,ce=null,Ae=0;Ae<C.length;Ae++){var Se=C[Ae];if(!(Se.from>=j||Se.to<=N)){var Ne=Se.level!=1,qe=Ri(s,m,Ne?Math.min(j,Se.to)-1:Math.max(N,Se.from)).right,Je=qe<T?T-qe+1e9:qe-T;(!ie||ce>Je)&&(ie=Se,ce=Je)}}return ie||(ie=C[C.length-1]),ie.from<N&&(ie={from:N,to:ie.to,level:ie.level}),ie.to>j&&(ie={from:ie.from,to:j,level:ie.level}),ie}var Es;function na(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(Es==null){Es=be("pre",null,"CodeMirror-line-like");for(var u=0;u<49;++u)Es.appendChild(document.createTextNode("x")),Es.appendChild(be("br"));Es.appendChild(document.createTextNode("x"))}gt(s.measure,Es);var g=Es.offsetHeight/50;return g>3&&(s.cachedTextHeight=g),ft(s.measure),g||1}function ia(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var u=be("span","xxxxxxxxxx"),g=be("pre",[u],"CodeMirror-line-like");gt(s.measure,g);var m=u.getBoundingClientRect(),C=(m.right-m.left)/10;return C>2&&(s.cachedCharWidth=C),C||10}function il(s){for(var u=s.display,g={},m={},C=u.gutters.clientLeft,T=u.gutters.firstChild,I=0;T;T=T.nextSibling,++I){var F=s.display.gutterSpecs[I].className;g[F]=T.offsetLeft+T.clientLeft+C,m[F]=T.clientWidth}return{fixedPos:sl(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:g,gutterWidth:m,wrapperWidth:u.wrapper.clientWidth}}function sl(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function dc(s){var u=na(s.display),g=s.options.lineWrapping,m=g&&Math.max(5,s.display.scroller.clientWidth/ia(s.display)-3);return function(C){if(ls(s.doc,C))return 0;var T=0;if(C.widgets)for(var I=0;I<C.widgets.length;I++)C.widgets[I].height&&(T+=C.widgets[I].height);return g?T+(Math.ceil(C.text.length/m)||1)*u:T+u}}function al(s){var u=s.doc,g=dc(s);u.iter(function(m){var C=g(m);C!=m.height&&rt(m,C)})}function As(s,u,g,m){var C=s.display;if(!g&&h(u).getAttribute("cm-not-content")=="true")return null;var T,I,F=C.lineSpace.getBoundingClientRect();try{T=u.clientX-F.left,I=u.clientY-F.top}catch{return null}var N=tl(s,T,I),j;if(m&&N.xRel>0&&(j=ye(s.doc,N.line).text).length==N.ch){var ie=Kt(j,j.length,s.options.tabSize)-j.length;N=Ve(N.line,Math.max(0,Math.round((T-Ju(s.display).left)/ia(s.display))-ie))}return N}function Ms(s,u){if(u>=s.display.viewTo||(u-=s.display.viewFrom,u<0))return null;for(var g=s.display.view,m=0;m<g.length;m++)if(u-=g[m].size,u<0)return m}function di(s,u,g,m){u==null&&(u=s.doc.first),g==null&&(g=s.doc.first+s.doc.size),m||(m=0);var C=s.display;if(m&&g<C.viewTo&&(C.updateLineNumbers==null||C.updateLineNumbers>u)&&(C.updateLineNumbers=u),s.curOp.viewChanged=!0,u>=C.viewTo)St&&$o(s.doc,u)<C.viewTo&&cs(s);else if(g<=C.viewFrom)St&&Vu(s.doc,g+m)>C.viewFrom?cs(s):(C.viewFrom+=m,C.viewTo+=m);else if(u<=C.viewFrom&&g>=C.viewTo)cs(s);else if(u<=C.viewFrom){var T=Lr(s,g,g+m,1);T?(C.view=C.view.slice(T.index),C.viewFrom=T.lineN,C.viewTo+=m):cs(s)}else if(g>=C.viewTo){var I=Lr(s,u,u,-1);I?(C.view=C.view.slice(0,I.index),C.viewTo=I.lineN):cs(s)}else{var F=Lr(s,u,u,-1),N=Lr(s,g,g+m,1);F&&N?(C.view=C.view.slice(0,F.index).concat(Ir(s,F.lineN,N.lineN)).concat(C.view.slice(N.index)),C.viewTo+=m):cs(s)}var j=C.externalMeasured;j&&(g<j.lineN?j.lineN+=m:u<j.lineN+j.size&&(C.externalMeasured=null))}function us(s,u,g){s.curOp.viewChanged=!0;var m=s.display,C=s.display.externalMeasured;if(C&&u>=C.lineN&&u<C.lineN+C.size&&(m.externalMeasured=null),!(u<m.viewFrom||u>=m.viewTo)){var T=m.view[Ms(s,u)];if(T.node!=null){var I=T.changes||(T.changes=[]);Ft(I,g)==-1&&I.push(g)}}}function cs(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function Lr(s,u,g,m){var C=Ms(s,u),T,I=s.display.view;if(!St||g==s.doc.first+s.doc.size)return{index:C,lineN:g};for(var F=s.display.viewFrom,N=0;N<C;N++)F+=I[N].size;if(F!=u){if(m>0){if(C==I.length-1)return null;T=F+I[C].size-u,C++}else T=F-u;u+=T,g+=T}for(;$o(s.doc,g)!=g;){if(C==(m<0?0:I.length-1))return null;g+=m*I[C-(m<0?1:0)].size,C+=m}return{index:C,lineN:g}}function Mm(s,u,g){var m=s.display,C=m.view;C.length==0||u>=m.viewTo||g<=m.viewFrom?(m.view=Ir(s,u,g),m.viewFrom=u):(m.viewFrom>u?m.view=Ir(s,u,m.viewFrom).concat(m.view):m.viewFrom<u&&(m.view=m.view.slice(Ms(s,u))),m.viewFrom=u,m.viewTo<g?m.view=m.view.concat(Ir(s,m.viewTo,g)):m.viewTo>g&&(m.view=m.view.slice(0,Ms(s,g)))),m.viewTo=g}function hc(s){for(var u=s.display.view,g=0,m=0;m<u.length;m++){var C=u[m];!C.hidden&&(!C.node||C.changes)&&++g}return g}function Ma(s){s.display.input.showSelection(s.display.input.prepareSelection())}function fc(s,u){u===void 0&&(u=!0);var g=s.doc,m={},C=m.cursors=document.createDocumentFragment(),T=m.selection=document.createDocumentFragment(),I=s.options.$customCursor;I&&(u=!0);for(var F=0;F<g.sel.ranges.length;F++)if(!(!u&&F==g.sel.primIndex)){var N=g.sel.ranges[F];if(!(N.from().line>=s.display.viewTo||N.to().line<s.display.viewFrom)){var j=N.empty();if(I){var ie=I(s,N);ie&&rl(s,ie,C)}else(j||s.options.showCursorWhenSelecting)&&rl(s,N.head,C);j||Im(s,N,T)}}return m}function rl(s,u,g){var m=Ii(s,u,"div",null,null,!s.options.singleCursorHeightPerLine),C=g.appendChild(be("div"," ","CodeMirror-cursor"));if(C.style.left=m.left+"px",C.style.top=m.top+"px",C.style.height=Math.max(0,m.bottom-m.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var T=Fr(s,u,"div",null,null),I=T.right-T.left;C.style.width=(I>0?I:s.defaultCharWidth())+"px"}if(m.other){var F=g.appendChild(be("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));F.style.display="",F.style.left=m.other.left+"px",F.style.top=m.other.top+"px",F.style.height=(m.other.bottom-m.other.top)*.85+"px"}}function Br(s,u){return s.top-u.top||s.left-u.left}function Im(s,u,g){var m=s.display,C=s.doc,T=document.createDocumentFragment(),I=Ju(s.display),F=I.left,N=Math.max(m.sizerWidth,Ds(s)-m.sizer.offsetLeft)-I.right,j=C.direction=="ltr";function ie(st,ht,Tt,Ct){ht<0&&(ht=0),ht=Math.round(ht),Ct=Math.round(Ct),T.appendChild(be("div",null,"CodeMirror-selected","position: absolute; left: "+st+`px;
                             top: `+ht+"px; width: "+(Tt??N-st)+`px;
                             height: `+(Ct-ht)+"px"))}function ce(st,ht,Tt){var Ct=ye(C,st),Rt=Ct.text.length,ln,qn;function yn(On,pi){return Fr(s,Ve(st,On),"div",Ct,pi)}function yi(On,pi,Gn){var Hn=cc(s,Ct,null,On),Pn=pi=="ltr"==(Gn=="after")?"left":"right",_n=Gn=="after"?Hn.begin:Hn.end-(/\s/.test(Ct.text.charAt(Hn.end-1))?2:1);return yn(_n,Pn)[Pn]}var fi=fe(Ct,C.direction);return he(fi,ht||0,Tt??Rt,function(On,pi,Gn,Hn){var Pn=Gn=="ltr",_n=yn(On,Pn?"left":"right"),mi=yn(pi-1,Pn?"right":"left"),ga=ht==null&&On==0,gs=Tt==null&&pi==Rt,ti=Hn==0,Ni=!fi||Hn==fi.length-1;if(mi.top-_n.top<=3){var $n=(j?ga:gs)&&ti,Pl=(j?gs:ga)&&Ni,Ki=$n?F:(Pn?_n:mi).left,Ls=Pl?N:(Pn?mi:_n).right;ie(Ki,_n.top,Ls-Ki,_n.bottom)}else{var Bs,si,va,Fl;Pn?(Bs=j&&ga&&ti?F:_n.left,si=j?N:yi(On,Gn,"before"),va=j?F:yi(pi,Gn,"after"),Fl=j&&gs&&Ni?N:mi.right):(Bs=j?yi(On,Gn,"before"):F,si=!j&&ga&&ti?N:_n.right,va=!j&&gs&&Ni?F:mi.left,Fl=j?yi(pi,Gn,"after"):N),ie(Bs,_n.top,si-Bs,_n.bottom),_n.bottom<mi.top&&ie(F,_n.bottom,null,mi.top),ie(va,mi.top,Fl-va,mi.bottom)}(!ln||Br(_n,ln)<0)&&(ln=_n),Br(mi,ln)<0&&(ln=mi),(!qn||Br(_n,qn)<0)&&(qn=_n),Br(mi,qn)<0&&(qn=mi)}),{start:ln,end:qn}}var Ae=u.from(),Se=u.to();if(Ae.line==Se.line)ce(Ae.line,Ae.ch,Se.ch);else{var Ne=ye(C,Ae.line),qe=ye(C,Se.line),Je=Mi(Ne)==Mi(qe),it=ce(Ae.line,Ae.ch,Je?Ne.text.length+1:null).end,lt=ce(Se.line,Je?0:null,Se.ch).start;Je&&(it.top<lt.top-2?(ie(it.right,it.top,null,it.bottom),ie(F,lt.top,lt.left,lt.bottom)):ie(it.right,it.top,lt.left-it.right,it.bottom)),it.bottom<lt.top&&ie(F,it.bottom,null,lt.top)}g.appendChild(T)}function ol(s){if(s.state.focused){var u=s.display;clearInterval(u.blinker);var g=!0;u.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?u.blinker=setInterval(function(){s.hasFocus()||sa(s),u.cursorDiv.style.visibility=(g=!g)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(u.cursorDiv.style.visibility="hidden")}}function pc(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||ul(s))}function ll(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&sa(s))},100)}function ul(s,u){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(dt(s,"focus",s,u),s.state.focused=!0,qt(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),M&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),ol(s))}function sa(s,u){s.state.delayingBlurEvent||(s.state.focused&&(dt(s,"blur",s,u),s.state.focused=!1,et(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function Rr(s){for(var u=s.display,g=u.lineDiv.offsetTop,m=Math.max(0,u.scroller.getBoundingClientRect().top),C=u.lineDiv.getBoundingClientRect().top,T=0,I=0;I<u.view.length;I++){var F=u.view[I],N=s.options.lineWrapping,j=void 0,ie=0;if(!F.hidden){if(C+=F.line.height,k&&S<8){var ce=F.node.offsetTop+F.node.offsetHeight;j=ce-g,g=ce}else{var Ae=F.node.getBoundingClientRect();j=Ae.bottom-Ae.top,!N&&F.text.firstChild&&(ie=F.text.firstChild.getBoundingClientRect().right-Ae.left-1)}var Se=F.line.height-j;if((Se>.005||Se<-.005)&&(C<m&&(T-=Se),rt(F.line,j),mc(F.line),F.rest))for(var Ne=0;Ne<F.rest.length;Ne++)mc(F.rest[Ne]);if(ie>s.display.sizerWidth){var qe=Math.ceil(ie/ia(s.display));qe>s.display.maxLineLength&&(s.display.maxLineLength=qe,s.display.maxLine=F.line,s.display.maxLineChanged=!0)}}}Math.abs(T)>2&&(u.scroller.scrollTop+=T)}function mc(s){if(s.widgets)for(var u=0;u<s.widgets.length;++u){var g=s.widgets[u],m=g.node.parentNode;m&&(g.height=m.offsetHeight)}}function Nr(s,u,g){var m=g&&g.top!=null?Math.max(0,g.top):s.scroller.scrollTop;m=Math.floor(m-Or(s));var C=g&&g.bottom!=null?g.bottom:m+s.wrapper.clientHeight,T=jt(u,m),I=jt(u,C);if(g&&g.ensure){var F=g.ensure.from.line,N=g.ensure.to.line;F<T?(T=F,I=jt(u,$i(ye(u,F))+s.wrapper.clientHeight)):Math.min(N,u.lastLine())>=I&&(T=jt(u,$i(ye(u,N))-s.wrapper.clientHeight),I=N)}return{from:T,to:Math.max(I,T+1)}}function Om(s,u){if(!Xe(s,"scrollCursorIntoView")){var g=s.display,m=g.sizer.getBoundingClientRect(),C=null,T=g.wrapper.ownerDocument;if(u.top+m.top<0?C=!0:u.bottom+m.top>(T.defaultView.innerHeight||T.documentElement.clientHeight)&&(C=!1),C!=null&&!ue){var I=be("div","​",null,`position: absolute;
                         top: `+(u.top-g.viewOffset-Or(s.display))+`px;
                         height: `+(u.bottom-u.top+Bi(s)+g.barHeight)+`px;
                         left: `+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;");s.display.lineSpace.appendChild(I),I.scrollIntoView(C),s.display.lineSpace.removeChild(I)}}}function Pm(s,u,g,m){m==null&&(m=0);var C;!s.options.lineWrapping&&u==g&&(g=u.sticky=="before"?Ve(u.line,u.ch+1,"before"):u,u=u.ch?Ve(u.line,u.sticky=="before"?u.ch-1:u.ch,"after"):u);for(var T=0;T<5;T++){var I=!1,F=Ii(s,u),N=!g||g==u?F:Ii(s,g);C={left:Math.min(F.left,N.left),top:Math.min(F.top,N.top)-m,right:Math.max(F.left,N.left),bottom:Math.max(F.bottom,N.bottom)+m};var j=cl(s,C),ie=s.doc.scrollTop,ce=s.doc.scrollLeft;if(j.scrollTop!=null&&(Oa(s,j.scrollTop),Math.abs(s.doc.scrollTop-ie)>1&&(I=!0)),j.scrollLeft!=null&&(Is(s,j.scrollLeft),Math.abs(s.doc.scrollLeft-ce)>1&&(I=!0)),!I)break}return C}function Fm(s,u){var g=cl(s,u);g.scrollTop!=null&&Oa(s,g.scrollTop),g.scrollLeft!=null&&Is(s,g.scrollLeft)}function cl(s,u){var g=s.display,m=na(s.display);u.top<0&&(u.top=0);var C=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:g.scroller.scrollTop,T=Qo(s),I={};u.bottom-u.top>T&&(u.bottom=u.top+T);var F=s.doc.height+Ko(g),N=u.top<m,j=u.bottom>F-m;if(u.top<C)I.scrollTop=N?0:u.top;else if(u.bottom>C+T){var ie=Math.min(u.top,(j?F:u.bottom)-T);ie!=C&&(I.scrollTop=ie)}var ce=s.options.fixedGutter?0:g.gutters.offsetWidth,Ae=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:g.scroller.scrollLeft-ce,Se=Ds(s)-g.gutters.offsetWidth,Ne=u.right-u.left>Se;return Ne&&(u.right=u.left+Se),u.left<10?I.scrollLeft=0:u.left<Ae?I.scrollLeft=Math.max(0,u.left+ce-(Ne?0:10)):u.right>Se+Ae-3&&(I.scrollLeft=u.right+(Ne?0:10)-Se),I}function dl(s,u){u!=null&&(zr(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+u)}function aa(s){zr(s);var u=s.getCursor();s.curOp.scrollToPos={from:u,to:u,margin:s.options.cursorScrollMargin}}function Ia(s,u,g){(u!=null||g!=null)&&zr(s),u!=null&&(s.curOp.scrollLeft=u),g!=null&&(s.curOp.scrollTop=g)}function Lm(s,u){zr(s),s.curOp.scrollToPos=u}function zr(s){var u=s.curOp.scrollToPos;if(u){s.curOp.scrollToPos=null;var g=lc(s,u.from),m=lc(s,u.to);gc(s,g,m,u.margin)}}function gc(s,u,g,m){var C=cl(s,{left:Math.min(u.left,g.left),top:Math.min(u.top,g.top)-m,right:Math.max(u.right,g.right),bottom:Math.max(u.bottom,g.bottom)+m});Ia(s,C.scrollLeft,C.scrollTop)}function Oa(s,u){Math.abs(s.doc.scrollTop-u)<2||(l||fl(s,{top:u}),vc(s,u,!0),l&&fl(s),La(s,100))}function vc(s,u,g){u=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,u)),!(s.display.scroller.scrollTop==u&&!g)&&(s.doc.scrollTop=u,s.display.scrollbars.setScrollTop(u),s.display.scroller.scrollTop!=u&&(s.display.scroller.scrollTop=u))}function Is(s,u,g,m){u=Math.max(0,Math.min(u,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((g?u==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-u)<2)&&!m)&&(s.doc.scrollLeft=u,xc(s),s.display.scroller.scrollLeft!=u&&(s.display.scroller.scrollLeft=u),s.display.scrollbars.setScrollLeft(u))}function Pa(s){var u=s.display,g=u.gutters.offsetWidth,m=Math.round(s.doc.height+Ko(s.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:s.options.fixedGutter?g:0,docHeight:m,scrollHeight:m+Bi(s)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:g}}var Os=function(s,u,g){this.cm=g;var m=this.vert=be("div",[be("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),C=this.horiz=be("div",[be("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");m.tabIndex=C.tabIndex=-1,s(m),s(C),ke(m,"scroll",function(){m.clientHeight&&u(m.scrollTop,"vertical")}),ke(C,"scroll",function(){C.clientWidth&&u(C.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,k&&S<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Os.prototype.update=function(s){var u=s.scrollWidth>s.clientWidth+1,g=s.scrollHeight>s.clientHeight+1,m=s.nativeBarWidth;if(g){this.vert.style.display="block",this.vert.style.bottom=u?m+"px":"0";var C=s.viewHeight-(u?m:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+C)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(u){this.horiz.style.display="block",this.horiz.style.right=g?m+"px":"0",this.horiz.style.left=s.barLeft+"px";var T=s.viewWidth-s.barLeft-(g?m:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+T)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(m==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:g?m:0,bottom:u?m:0}},Os.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Os.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Os.prototype.zeroWidthHack=function(){var s=re&&!oe?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new $t,this.disableVert=new $t},Os.prototype.enableZeroWidthBar=function(s,u,g){s.style.visibility="";function m(){var C=s.getBoundingClientRect(),T=g=="vert"?document.elementFromPoint(C.right-1,(C.top+C.bottom)/2):document.elementFromPoint((C.right+C.left)/2,C.bottom-1);T!=s?s.style.visibility="hidden":u.set(1e3,m)}u.set(1e3,m)},Os.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var Fa=function(){};Fa.prototype.update=function(){return{bottom:0,right:0}},Fa.prototype.setScrollLeft=function(){},Fa.prototype.setScrollTop=function(){},Fa.prototype.clear=function(){};function ra(s,u){u||(u=Pa(s));var g=s.display.barWidth,m=s.display.barHeight;bc(s,u);for(var C=0;C<4&&g!=s.display.barWidth||m!=s.display.barHeight;C++)g!=s.display.barWidth&&s.options.lineWrapping&&Rr(s),bc(s,Pa(s)),g=s.display.barWidth,m=s.display.barHeight}function bc(s,u){var g=s.display,m=g.scrollbars.update(u);g.sizer.style.paddingRight=(g.barWidth=m.right)+"px",g.sizer.style.paddingBottom=(g.barHeight=m.bottom)+"px",g.heightForcer.style.borderBottom=m.bottom+"px solid transparent",m.right&&m.bottom?(g.scrollbarFiller.style.display="block",g.scrollbarFiller.style.height=m.bottom+"px",g.scrollbarFiller.style.width=m.right+"px"):g.scrollbarFiller.style.display="",m.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(g.gutterFiller.style.display="block",g.gutterFiller.style.height=m.bottom+"px",g.gutterFiller.style.width=u.gutterWidth+"px"):g.gutterFiller.style.display=""}var yc={native:Os,null:Fa};function wc(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&et(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new yc[s.options.scrollbarStyle](function(u){s.display.wrapper.insertBefore(u,s.display.scrollbarFiller),ke(u,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),u.setAttribute("cm-not-content","true")},function(u,g){g=="horizontal"?Is(s,u):Oa(s,u)},s),s.display.scrollbars.addClass&&qt(s.display.wrapper,s.display.scrollbars.addClass)}var Bm=0;function Ps(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Bm,markArrays:null},fm(s.curOp)}function Fs(s){var u=s.curOp;u&&mm(u,function(g){for(var m=0;m<g.ops.length;m++)g.ops[m].cm.curOp=null;Rm(g)})}function Rm(s){for(var u=s.ops,g=0;g<u.length;g++)Nm(u[g]);for(var m=0;m<u.length;m++)zm(u[m]);for(var C=0;C<u.length;C++)Hm(u[C]);for(var T=0;T<u.length;T++)Wm(u[T]);for(var I=0;I<u.length;I++)Vm(u[I])}function Nm(s){var u=s.cm,g=u.display;jm(u),s.updateMaxLine&&Go(u),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<g.viewFrom||s.scrollToPos.to.line>=g.viewTo)||g.maxLineChanged&&u.options.lineWrapping,s.update=s.mustUpdate&&new Hr(u,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function zm(s){s.updatedDisplay=s.mustUpdate&&hl(s.cm,s.update)}function Hm(s){var u=s.cm,g=u.display;s.updatedDisplay&&Rr(u),s.barMeasure=Pa(u),g.maxLineChanged&&!u.options.lineWrapping&&(s.adjustWidthTo=ec(u,g.maxLine,g.maxLine.text.length).left+3,u.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(g.scroller.clientWidth,g.sizer.offsetLeft+s.adjustWidthTo+Bi(u)+u.display.barWidth),s.maxScrollLeft=Math.max(0,g.sizer.offsetLeft+s.adjustWidthTo-Ds(u))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=g.input.prepareSelection())}function Wm(s){var u=s.cm;s.adjustWidthTo!=null&&(u.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<u.doc.scrollLeft&&Is(u,Math.min(u.display.scroller.scrollLeft,s.maxScrollLeft),!0),u.display.maxLineChanged=!1);var g=s.focus&&s.focus==Dt(Be(u));s.preparedSelection&&u.display.input.showSelection(s.preparedSelection,g),(s.updatedDisplay||s.startHeight!=u.doc.height)&&ra(u,s.barMeasure),s.updatedDisplay&&ml(u,s.barMeasure),s.selectionChanged&&ol(u),u.state.focused&&s.updateInput&&u.display.input.reset(s.typing),g&&pc(s.cm)}function Vm(s){var u=s.cm,g=u.display,m=u.doc;if(s.updatedDisplay&&Cc(u,s.update),g.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(g.wheelStartX=g.wheelStartY=null),s.scrollTop!=null&&vc(u,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&Is(u,s.scrollLeft,!0,!0),s.scrollToPos){var C=Pm(u,Mt(m,s.scrollToPos.from),Mt(m,s.scrollToPos.to),s.scrollToPos.margin);Om(u,C)}var T=s.maybeHiddenMarkers,I=s.maybeUnhiddenMarkers;if(T)for(var F=0;F<T.length;++F)T[F].lines.length||dt(T[F],"hide");if(I)for(var N=0;N<I.length;++N)I[N].lines.length&&dt(I[N],"unhide");g.wrapper.offsetHeight&&(m.scrollTop=u.display.scroller.scrollTop),s.changeObjs&&dt(u,"changes",u,s.changeObjs),s.update&&s.update.finish()}function bi(s,u){if(s.curOp)return u();Ps(s);try{return u()}finally{Fs(s)}}function Un(s,u){return function(){if(s.curOp)return u.apply(s,arguments);Ps(s);try{return u.apply(s,arguments)}finally{Fs(s)}}}function ii(s){return function(){if(this.curOp)return s.apply(this,arguments);Ps(this);try{return s.apply(this,arguments)}finally{Fs(this)}}}function jn(s){return function(){var u=this.cm;if(!u||u.curOp)return s.apply(this,arguments);Ps(u);try{return s.apply(this,arguments)}finally{Fs(u)}}}function La(s,u){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(u,tn(Um,s))}function Um(s){var u=s.doc;if(!(u.highlightFrontier>=s.display.viewTo)){var g=+new Date+s.options.workTime,m=D(s,u.highlightFrontier),C=[];u.iter(m.line,Math.min(u.first+u.size,s.display.viewTo+500),function(T){if(m.line>=s.display.viewFrom){var I=T.styles,F=T.text.length>s.options.maxHighlightLength?z(u.mode,m.state):null,N=rs(s,T,m,!0);F&&(m.state=F),T.styles=N.styles;var j=T.styleClasses,ie=N.classes;ie?T.styleClasses=ie:j&&(T.styleClasses=null);for(var ce=!I||I.length!=T.styles.length||j!=ie&&(!j||!ie||j.bgClass!=ie.bgClass||j.textClass!=ie.textClass),Ae=0;!ce&&Ae<I.length;++Ae)ce=I[Ae]!=T.styles[Ae];ce&&C.push(m.line),T.stateAfter=m.save(),m.nextLine()}else T.text.length<=s.options.maxHighlightLength&&P(s,T.text,m),T.stateAfter=m.line%5==0?m.save():null,m.nextLine();if(+new Date>g)return La(s,s.options.workDelay),!0}),u.highlightFrontier=m.line,u.modeFrontier=Math.max(u.modeFrontier,m.line),C.length&&bi(s,function(){for(var T=0;T<C.length;T++)us(s,C[T],"text")})}}var Hr=function(s,u,g){var m=s.display;this.viewport=u,this.visible=Nr(m,s.doc,u),this.editorIsHidden=!m.wrapper.offsetWidth,this.wrapperHeight=m.wrapper.clientHeight,this.wrapperWidth=m.wrapper.clientWidth,this.oldDisplayWidth=Ds(s),this.force=g,this.dims=il(s),this.events=[]};Hr.prototype.signal=function(s,u){It(s,u)&&this.events.push(arguments)},Hr.prototype.finish=function(){for(var s=0;s<this.events.length;s++)dt.apply(null,this.events[s])};function jm(s){var u=s.display;!u.scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=Bi(s)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=Bi(s)+"px",u.scrollbarsClipped=!0)}function qm(s){if(s.hasFocus())return null;var u=Dt(Be(s));if(!u||!ot(s.display.lineDiv,u))return null;var g={activeElt:u};if(window.getSelection){var m=yt(s).getSelection();m.anchorNode&&m.extend&&ot(s.display.lineDiv,m.anchorNode)&&(g.anchorNode=m.anchorNode,g.anchorOffset=m.anchorOffset,g.focusNode=m.focusNode,g.focusOffset=m.focusOffset)}return g}function $m(s){if(!(!s||!s.activeElt||s.activeElt==Dt(Ot(s.activeElt)))&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&ot(document.body,s.anchorNode)&&ot(document.body,s.focusNode))){var u=s.activeElt.ownerDocument,g=u.defaultView.getSelection(),m=u.createRange();m.setEnd(s.anchorNode,s.anchorOffset),m.collapse(!1),g.removeAllRanges(),g.addRange(m),g.extend(s.focusNode,s.focusOffset)}}function hl(s,u){var g=s.display,m=s.doc;if(u.editorIsHidden)return cs(s),!1;if(!u.force&&u.visible.from>=g.viewFrom&&u.visible.to<=g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>=g.viewTo)&&g.renderedView==g.view&&hc(s)==0)return!1;kc(s)&&(cs(s),u.dims=il(s));var C=m.first+m.size,T=Math.max(u.visible.from-s.options.viewportMargin,m.first),I=Math.min(C,u.visible.to+s.options.viewportMargin);g.viewFrom<T&&T-g.viewFrom<20&&(T=Math.max(m.first,g.viewFrom)),g.viewTo>I&&g.viewTo-I<20&&(I=Math.min(C,g.viewTo)),St&&(T=$o(s.doc,T),I=Vu(s.doc,I));var F=T!=g.viewFrom||I!=g.viewTo||g.lastWrapHeight!=u.wrapperHeight||g.lastWrapWidth!=u.wrapperWidth;Mm(s,T,I),g.viewOffset=$i(ye(s.doc,g.viewFrom)),s.display.mover.style.top=g.viewOffset+"px";var N=hc(s);if(!F&&N==0&&!u.force&&g.renderedView==g.view&&(g.updateLineNumbers==null||g.updateLineNumbers>=g.viewTo))return!1;var j=qm(s);return N>4&&(g.lineDiv.style.display="none"),Ym(s,g.updateLineNumbers,u.dims),N>4&&(g.lineDiv.style.display=""),g.renderedView=g.view,$m(j),ft(g.cursorDiv),ft(g.selectionDiv),g.gutters.style.height=g.sizer.style.minHeight=0,F&&(g.lastWrapHeight=u.wrapperHeight,g.lastWrapWidth=u.wrapperWidth,La(s,400)),g.updateLineNumbers=null,!0}function Cc(s,u){for(var g=u.viewport,m=!0;;m=!1){if(!m||!s.options.lineWrapping||u.oldDisplayWidth==Ds(s)){if(g&&g.top!=null&&(g={top:Math.min(s.doc.height+Ko(s.display)-Qo(s),g.top)}),u.visible=Nr(s.display,s.doc,g),u.visible.from>=s.display.viewFrom&&u.visible.to<=s.display.viewTo)break}else m&&(u.visible=Nr(s.display,s.doc,g));if(!hl(s,u))break;Rr(s);var C=Pa(s);Ma(s),ra(s,C),ml(s,C),u.force=!1}u.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(u.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function fl(s,u){var g=new Hr(s,u);if(hl(s,g)){Rr(s),Cc(s,g);var m=Pa(s);Ma(s),ra(s,m),ml(s,m),g.finish()}}function Ym(s,u,g){var m=s.display,C=s.options.lineNumbers,T=m.lineDiv,I=T.firstChild;function F(Ne){var qe=Ne.nextSibling;return M&&re&&s.display.currentWheelTarget==Ne?Ne.style.display="none":Ne.parentNode.removeChild(Ne),qe}for(var N=m.view,j=m.viewFrom,ie=0;ie<N.length;ie++){var ce=N[ie];if(!ce.hidden)if(!ce.node||ce.node.parentNode!=T){var Ae=wm(s,ce,j,g);T.insertBefore(Ae,I)}else{for(;I!=ce.node;)I=F(I);var Se=C&&u!=null&&u<=j&&ce.lineNumber;ce.changes&&(Ft(ce.changes,"gutter")>-1&&(Se=!1),Yu(s,ce,j,g)),Se&&(ft(ce.lineNumber),ce.lineNumber.appendChild(document.createTextNode(ui(s.options,j)))),I=ce.node.nextSibling}j+=ce.size}for(;I;)I=F(I)}function pl(s){var u=s.gutters.offsetWidth;s.sizer.style.marginLeft=u+"px",Vn(s,"gutterChanged",s)}function ml(s,u){s.display.sizer.style.minHeight=u.docHeight+"px",s.display.heightForcer.style.top=u.docHeight+"px",s.display.gutters.style.height=u.docHeight+s.display.barHeight+Bi(s)+"px"}function xc(s){var u=s.display,g=u.view;if(!(!u.alignWidgets&&(!u.gutters.firstChild||!s.options.fixedGutter))){for(var m=sl(u)-u.scroller.scrollLeft+s.doc.scrollLeft,C=u.gutters.offsetWidth,T=m+"px",I=0;I<g.length;I++)if(!g[I].hidden){s.options.fixedGutter&&(g[I].gutter&&(g[I].gutter.style.left=T),g[I].gutterBackground&&(g[I].gutterBackground.style.left=T));var F=g[I].alignable;if(F)for(var N=0;N<F.length;N++)F[N].style.left=T}s.options.fixedGutter&&(u.gutters.style.left=m+C+"px")}}function kc(s){if(!s.options.lineNumbers)return!1;var u=s.doc,g=ui(s.options,u.first+u.size-1),m=s.display;if(g.length!=m.lineNumChars){var C=m.measure.appendChild(be("div",[be("div",g)],"CodeMirror-linenumber CodeMirror-gutter-elt")),T=C.firstChild.offsetWidth,I=C.offsetWidth-T;return m.lineGutter.style.width="",m.lineNumInnerWidth=Math.max(T,m.lineGutter.offsetWidth-I)+1,m.lineNumWidth=m.lineNumInnerWidth+I,m.lineNumChars=m.lineNumInnerWidth?g.length:-1,m.lineGutter.style.width=m.lineNumWidth+"px",pl(s.display),!0}return!1}function gl(s,u){for(var g=[],m=!1,C=0;C<s.length;C++){var T=s[C],I=null;if(typeof T!="string"&&(I=T.style,T=T.className),T=="CodeMirror-linenumbers")if(u)m=!0;else continue;g.push({className:T,style:I})}return u&&!m&&g.push({className:"CodeMirror-linenumbers",style:null}),g}function _c(s){var u=s.gutters,g=s.gutterSpecs;ft(u),s.lineGutter=null;for(var m=0;m<g.length;++m){var C=g[m],T=C.className,I=C.style,F=u.appendChild(be("div",null,"CodeMirror-gutter "+T));I&&(F.style.cssText=I),T=="CodeMirror-linenumbers"&&(s.lineGutter=F,F.style.width=(s.lineNumWidth||1)+"px")}u.style.display=g.length?"":"none",pl(s)}function Ba(s){_c(s.display),di(s),xc(s)}function Gm(s,u,g,m){var C=this;this.input=g,C.scrollbarFiller=be("div",null,"CodeMirror-scrollbar-filler"),C.scrollbarFiller.setAttribute("cm-not-content","true"),C.gutterFiller=be("div",null,"CodeMirror-gutter-filler"),C.gutterFiller.setAttribute("cm-not-content","true"),C.lineDiv=je("div",null,"CodeMirror-code"),C.selectionDiv=be("div",null,null,"position: relative; z-index: 1"),C.cursorDiv=be("div",null,"CodeMirror-cursors"),C.measure=be("div",null,"CodeMirror-measure"),C.lineMeasure=be("div",null,"CodeMirror-measure"),C.lineSpace=je("div",[C.measure,C.lineMeasure,C.selectionDiv,C.cursorDiv,C.lineDiv],null,"position: relative; outline: none");var T=je("div",[C.lineSpace],"CodeMirror-lines");C.mover=be("div",[T],null,"position: relative"),C.sizer=be("div",[C.mover],"CodeMirror-sizer"),C.sizerWidth=null,C.heightForcer=be("div",null,null,"position: absolute; height: "+Ut+"px; width: 1px;"),C.gutters=be("div",null,"CodeMirror-gutters"),C.lineGutter=null,C.scroller=be("div",[C.sizer,C.heightForcer,C.gutters],"CodeMirror-scroll"),C.scroller.setAttribute("tabIndex","-1"),C.wrapper=be("div",[C.scrollbarFiller,C.gutterFiller,C.scroller],"CodeMirror"),R&&q>=105&&(C.wrapper.style.clipPath="inset(0px)"),C.wrapper.setAttribute("translate","no"),k&&S<8&&(C.gutters.style.zIndex=-1,C.scroller.style.paddingRight=0),!M&&!(l&&te)&&(C.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(C.wrapper):s(C.wrapper)),C.viewFrom=C.viewTo=u.first,C.reportedViewFrom=C.reportedViewTo=u.first,C.view=[],C.renderedView=null,C.externalMeasured=null,C.viewOffset=0,C.lastWrapHeight=C.lastWrapWidth=0,C.updateLineNumbers=null,C.nativeBarWidth=C.barHeight=C.barWidth=0,C.scrollbarsClipped=!1,C.lineNumWidth=C.lineNumInnerWidth=C.lineNumChars=null,C.alignWidgets=!1,C.cachedCharWidth=C.cachedTextHeight=C.cachedPaddingH=null,C.maxLine=null,C.maxLineLength=0,C.maxLineChanged=!1,C.wheelDX=C.wheelDY=C.wheelStartX=C.wheelStartY=null,C.shift=!1,C.selForContextMenu=null,C.activeTouch=null,C.gutterSpecs=gl(m.gutters,m.lineNumbers),_c(C),g.init(C)}var Wr=0,Gi=null;k?Gi=-.53:l?Gi=15:R?Gi=-.7:ae&&(Gi=-1/3);function Sc(s){var u=s.wheelDeltaX,g=s.wheelDeltaY;return u==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(u=s.detail),g==null&&s.detail&&s.axis==s.VERTICAL_AXIS?g=s.detail:g==null&&(g=s.wheelDelta),{x:u,y:g}}function Xm(s){var u=Sc(s);return u.x*=Gi,u.y*=Gi,u}function Tc(s,u){R&&q==102&&(s.display.chromeScrollHack==null?s.display.sizer.style.pointerEvents="none":clearTimeout(s.display.chromeScrollHack),s.display.chromeScrollHack=setTimeout(function(){s.display.chromeScrollHack=null,s.display.sizer.style.pointerEvents=""},100));var g=Sc(u),m=g.x,C=g.y,T=Gi;u.deltaMode===0&&(m=u.deltaX,C=u.deltaY,T=1);var I=s.display,F=I.scroller,N=F.scrollWidth>F.clientWidth,j=F.scrollHeight>F.clientHeight;if(m&&N||C&&j){if(C&&re&&M){e:for(var ie=u.target,ce=I.view;ie!=F;ie=ie.parentNode)for(var Ae=0;Ae<ce.length;Ae++)if(ce[Ae].node==ie){s.display.currentWheelTarget=ie;break e}}if(m&&!l&&!J&&T!=null){C&&j&&Oa(s,Math.max(0,F.scrollTop+C*T)),Is(s,Math.max(0,F.scrollLeft+m*T)),(!C||C&&j)&&_t(u),I.wheelStartX=null;return}if(C&&T!=null){var Se=C*T,Ne=s.doc.scrollTop,qe=Ne+I.wrapper.clientHeight;Se<0?Ne=Math.max(0,Ne+Se-50):qe=Math.min(s.doc.height,qe+Se+50),fl(s,{top:Ne,bottom:qe})}Wr<20&&u.deltaMode!==0&&(I.wheelStartX==null?(I.wheelStartX=F.scrollLeft,I.wheelStartY=F.scrollTop,I.wheelDX=m,I.wheelDY=C,setTimeout(function(){if(I.wheelStartX!=null){var Je=F.scrollLeft-I.wheelStartX,it=F.scrollTop-I.wheelStartY,lt=it&&I.wheelDY&&it/I.wheelDY||Je&&I.wheelDX&&Je/I.wheelDX;I.wheelStartX=I.wheelStartY=null,lt&&(Gi=(Gi*Wr+lt)/(Wr+1),++Wr)}},200)):(I.wheelDX+=m,I.wheelDY+=C))}}var Si=function(s,u){this.ranges=s,this.primIndex=u};Si.prototype.primary=function(){return this.ranges[this.primIndex]},Si.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var g=this.ranges[u],m=s.ranges[u];if(!ni(g.anchor,m.anchor)||!ni(g.head,m.head))return!1}return!0},Si.prototype.deepCopy=function(){for(var s=[],u=0;u<this.ranges.length;u++)s[u]=new Xt(Wn(this.ranges[u].anchor),Wn(this.ranges[u].head));return new Si(s,this.primIndex)},Si.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},Si.prototype.contains=function(s,u){u||(u=s);for(var g=0;g<this.ranges.length;g++){var m=this.ranges[g];if(bt(u,m.from())>=0&&bt(s,m.to())<=0)return g}return-1};var Xt=function(s,u){this.anchor=s,this.head=u};Xt.prototype.from=function(){return In(this.anchor,this.head)},Xt.prototype.to=function(){return ki(this.anchor,this.head)},Xt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Oi(s,u,g){var m=s&&s.options.selectionsMayTouch,C=u[g];u.sort(function(Ae,Se){return bt(Ae.from(),Se.from())}),g=Ft(u,C);for(var T=1;T<u.length;T++){var I=u[T],F=u[T-1],N=bt(F.to(),I.from());if(m&&!I.empty()?N>0:N>=0){var j=In(F.from(),I.from()),ie=ki(F.to(),I.to()),ce=F.empty()?I.from()==I.head:F.from()==F.head;T<=g&&--g,u.splice(--T,2,new Xt(ce?ie:j,ce?j:ie))}}return new Si(u,g)}function ds(s,u){return new Si([new Xt(s,u||s)],0)}function hs(s){return s.text?Ve(s.from.line+s.text.length-1,pt(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function Dc(s,u){if(bt(s,u.from)<0)return s;if(bt(s,u.to)<=0)return hs(u);var g=s.line+u.text.length-(u.to.line-u.from.line)-1,m=s.ch;return s.line==u.to.line&&(m+=hs(u).ch-u.to.ch),Ve(g,m)}function vl(s,u){for(var g=[],m=0;m<s.sel.ranges.length;m++){var C=s.sel.ranges[m];g.push(new Xt(Dc(C.anchor,u),Dc(C.head,u)))}return Oi(s.cm,g,s.sel.primIndex)}function Ec(s,u,g){return s.line==u.line?Ve(g.line,s.ch-u.ch+g.ch):Ve(g.line+(s.line-u.line),s.ch)}function Km(s,u,g){for(var m=[],C=Ve(s.first,0),T=C,I=0;I<u.length;I++){var F=u[I],N=Ec(F.from,C,T),j=Ec(hs(F),C,T);if(C=F.to,T=j,g=="around"){var ie=s.sel.ranges[I],ce=bt(ie.head,ie.anchor)<0;m[I]=new Xt(ce?j:N,ce?N:j)}else m[I]=new Xt(N,N)}return new Si(m,s.sel.primIndex)}function bl(s){s.doc.mode=xe(s.options,s.doc.modeOption),Ra(s)}function Ra(s){s.doc.iter(function(u){u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,La(s,100),s.state.modeGen++,s.curOp&&di(s)}function Ac(s,u){return u.from.ch==0&&u.to.ch==0&&pt(u.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function yl(s,u,g,m){function C(lt){return g?g[lt]:null}function T(lt,st,ht){sm(lt,st,ht,m),Vn(lt,"change",lt,u)}function I(lt,st){for(var ht=[],Tt=lt;Tt<st;++Tt)ht.push(new Zs(j[Tt],C(Tt),m));return ht}var F=u.from,N=u.to,j=u.text,ie=ye(s,F.line),ce=ye(s,N.line),Ae=pt(j),Se=C(j.length-1),Ne=N.line-F.line;if(u.full)s.insert(0,I(0,j.length)),s.remove(j.length,s.size-j.length);else if(Ac(s,u)){var qe=I(0,j.length-1);T(ce,ce.text,Se),Ne&&s.remove(F.line,Ne),qe.length&&s.insert(F.line,qe)}else if(ie==ce)if(j.length==1)T(ie,ie.text.slice(0,F.ch)+Ae+ie.text.slice(N.ch),Se);else{var Je=I(1,j.length-1);Je.push(new Zs(Ae+ie.text.slice(N.ch),Se,m)),T(ie,ie.text.slice(0,F.ch)+j[0],C(0)),s.insert(F.line+1,Je)}else if(j.length==1)T(ie,ie.text.slice(0,F.ch)+j[0]+ce.text.slice(N.ch),C(0)),s.remove(F.line+1,Ne);else{T(ie,ie.text.slice(0,F.ch)+j[0],C(0)),T(ce,Ae+ce.text.slice(N.ch),Se);var it=I(1,j.length-1);Ne>1&&s.remove(F.line+1,Ne-1),s.insert(F.line+1,it)}Vn(s,"change",s,u)}function fs(s,u,g){function m(C,T,I){if(C.linked)for(var F=0;F<C.linked.length;++F){var N=C.linked[F];if(N.doc!=T){var j=I&&N.sharedHist;g&&!j||(u(N.doc,j),m(N.doc,C,j))}}}m(s,null,!0)}function Mc(s,u){if(u.cm)throw new Error("This document is already in use.");s.doc=u,u.cm=s,al(s),bl(s),Ic(s),s.options.direction=u.direction,s.options.lineWrapping||Go(s),s.options.mode=u.modeOption,di(s)}function Ic(s){(s.doc.direction=="rtl"?qt:et)(s.display.lineDiv,"CodeMirror-rtl")}function Qm(s){bi(s,function(){Ic(s),di(s)})}function Vr(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function wl(s,u){var g={from:Wn(u.from),to:hs(u),text:$e(s,u.from,u.to)};return Fc(s,g,u.from.line,u.to.line+1),fs(s,function(m){return Fc(m,g,u.from.line,u.to.line+1)},!0),g}function Oc(s){for(;s.length;){var u=pt(s);if(u.ranges)s.pop();else break}}function Jm(s,u){if(u)return Oc(s.done),pt(s.done);if(s.done.length&&!pt(s.done).ranges)return pt(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),pt(s.done)}function Pc(s,u,g,m){var C=s.history;C.undone.length=0;var T=+new Date,I,F;if((C.lastOp==m||C.lastOrigin==u.origin&&u.origin&&(u.origin.charAt(0)=="+"&&C.lastModTime>T-(s.cm?s.cm.options.historyEventDelay:500)||u.origin.charAt(0)=="*"))&&(I=Jm(C,C.lastOp==m)))F=pt(I.changes),bt(u.from,u.to)==0&&bt(u.from,F.to)==0?F.to=hs(u):I.changes.push(wl(s,u));else{var N=pt(C.done);for((!N||!N.ranges)&&Ur(s.sel,C.done),I={changes:[wl(s,u)],generation:C.generation},C.done.push(I);C.done.length>C.undoDepth;)C.done.shift(),C.done[0].ranges||C.done.shift()}C.done.push(g),C.generation=++C.maxGeneration,C.lastModTime=C.lastSelTime=T,C.lastOp=C.lastSelOp=m,C.lastOrigin=C.lastSelOrigin=u.origin,F||dt(s,"historyAdded")}function Zm(s,u,g,m){var C=u.charAt(0);return C=="*"||C=="+"&&g.ranges.length==m.ranges.length&&g.somethingSelected()==m.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function eg(s,u,g,m){var C=s.history,T=m&&m.origin;g==C.lastSelOp||T&&C.lastSelOrigin==T&&(C.lastModTime==C.lastSelTime&&C.lastOrigin==T||Zm(s,T,pt(C.done),u))?C.done[C.done.length-1]=u:Ur(u,C.done),C.lastSelTime=+new Date,C.lastSelOrigin=T,C.lastSelOp=g,m&&m.clearRedo!==!1&&Oc(C.undone)}function Ur(s,u){var g=pt(u);g&&g.ranges&&g.equals(s)||u.push(s)}function Fc(s,u,g,m){var C=u["spans_"+s.id],T=0;s.iter(Math.max(s.first,g),Math.min(s.first+s.size,m),function(I){I.markedSpans&&((C||(C=u["spans_"+s.id]={}))[T]=I.markedSpans),++T})}function tg(s){if(!s)return null;for(var u,g=0;g<s.length;++g)s[g].marker.explicitlyCleared?u||(u=s.slice(0,g)):u&&u.push(s[g]);return u?u.length?u:null:s}function ng(s,u){var g=u["spans_"+s.id];if(!g)return null;for(var m=[],C=0;C<u.text.length;++C)m.push(tg(g[C]));return m}function Lc(s,u){var g=ng(s,u),m=Tn(s,u);if(!g)return m;if(!m)return g;for(var C=0;C<g.length;++C){var T=g[C],I=m[C];if(T&&I)e:for(var F=0;F<I.length;++F){for(var N=I[F],j=0;j<T.length;++j)if(T[j].marker==N.marker)continue e;T.push(N)}else I&&(g[C]=I)}return g}function oa(s,u,g){for(var m=[],C=0;C<s.length;++C){var T=s[C];if(T.ranges){m.push(g?Si.prototype.deepCopy.call(T):T);continue}var I=T.changes,F=[];m.push({changes:F});for(var N=0;N<I.length;++N){var j=I[N],ie=void 0;if(F.push({from:j.from,to:j.to,text:j.text}),u)for(var ce in j)(ie=ce.match(/^spans_(\d+)$/))&&Ft(u,Number(ie[1]))>-1&&(pt(F)[ce]=j[ce],delete j[ce])}}return m}function Cl(s,u,g,m){if(m){var C=s.anchor;if(g){var T=bt(u,C)<0;T!=bt(g,C)<0?(C=u,u=g):T!=bt(u,g)<0&&(u=g)}return new Xt(C,u)}else return new Xt(g||u,u)}function jr(s,u,g,m,C){C==null&&(C=s.cm&&(s.cm.display.shift||s.extend)),ei(s,new Si([Cl(s.sel.primary(),u,g,C)],0),m)}function Bc(s,u,g){for(var m=[],C=s.cm&&(s.cm.display.shift||s.extend),T=0;T<s.sel.ranges.length;T++)m[T]=Cl(s.sel.ranges[T],u[T],null,C);var I=Oi(s.cm,m,s.sel.primIndex);ei(s,I,g)}function xl(s,u,g,m){var C=s.sel.ranges.slice(0);C[u]=g,ei(s,Oi(s.cm,C,s.sel.primIndex),m)}function Rc(s,u,g,m){ei(s,ds(u,g),m)}function ig(s,u,g){var m={ranges:u.ranges,update:function(C){this.ranges=[];for(var T=0;T<C.length;T++)this.ranges[T]=new Xt(Mt(s,C[T].anchor),Mt(s,C[T].head))},origin:g&&g.origin};return dt(s,"beforeSelectionChange",s,m),s.cm&&dt(s.cm,"beforeSelectionChange",s.cm,m),m.ranges!=u.ranges?Oi(s.cm,m.ranges,m.ranges.length-1):u}function Nc(s,u,g){var m=s.history.done,C=pt(m);C&&C.ranges?(m[m.length-1]=u,qr(s,u,g)):ei(s,u,g)}function ei(s,u,g){qr(s,u,g),eg(s,s.sel,s.cm?s.cm.curOp.id:NaN,g)}function qr(s,u,g){(It(s,"beforeSelectionChange")||s.cm&&It(s.cm,"beforeSelectionChange"))&&(u=ig(s,u,g));var m=g&&g.bias||(bt(u.primary().head,s.sel.primary().head)<0?-1:1);zc(s,Wc(s,u,m,!0)),!(g&&g.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&aa(s.cm)}function zc(s,u){u.equals(s.sel)||(s.sel=u,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,At(s.cm)),Vn(s,"cursorActivity",s))}function Hc(s){zc(s,Wc(s,s.sel,null,!1))}function Wc(s,u,g,m){for(var C,T=0;T<u.ranges.length;T++){var I=u.ranges[T],F=u.ranges.length==s.sel.ranges.length&&s.sel.ranges[T],N=$r(s,I.anchor,F&&F.anchor,g,m),j=I.head==I.anchor?N:$r(s,I.head,F&&F.head,g,m);(C||N!=I.anchor||j!=I.head)&&(C||(C=u.ranges.slice(0,T)),C[T]=new Xt(N,j))}return C?Oi(s.cm,C,u.primIndex):u}function la(s,u,g,m,C){var T=ye(s,u.line);if(T.markedSpans)for(var I=0;I<T.markedSpans.length;++I){var F=T.markedSpans[I],N=F.marker,j="selectLeft"in N?!N.selectLeft:N.inclusiveLeft,ie="selectRight"in N?!N.selectRight:N.inclusiveRight;if((F.from==null||(j?F.from<=u.ch:F.from<u.ch))&&(F.to==null||(ie?F.to>=u.ch:F.to>u.ch))){if(C&&(dt(N,"beforeCursorEnter"),N.explicitlyCleared))if(T.markedSpans){--I;continue}else break;if(!N.atomic)continue;if(g){var ce=N.find(m<0?1:-1),Ae=void 0;if((m<0?ie:j)&&(ce=Vc(s,ce,-m,ce&&ce.line==u.line?T:null)),ce&&ce.line==u.line&&(Ae=bt(ce,g))&&(m<0?Ae<0:Ae>0))return la(s,ce,u,m,C)}var Se=N.find(m<0?-1:1);return(m<0?j:ie)&&(Se=Vc(s,Se,m,Se.line==u.line?T:null)),Se?la(s,Se,u,m,C):null}}return u}function $r(s,u,g,m,C){var T=m||1,I=la(s,u,g,T,C)||!C&&la(s,u,g,T,!0)||la(s,u,g,-T,C)||!C&&la(s,u,g,-T,!0);return I||(s.cantEdit=!0,Ve(s.first,0))}function Vc(s,u,g,m){return g<0&&u.ch==0?u.line>s.first?Mt(s,Ve(u.line-1)):null:g>0&&u.ch==(m||ye(s,u.line)).text.length?u.line<s.first+s.size-1?Ve(u.line+1,0):null:new Ve(u.line,u.ch+g)}function Uc(s){s.setSelection(Ve(s.firstLine(),0),Ve(s.lastLine()),hn)}function jc(s,u,g){var m={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return m.canceled=!0}};return g&&(m.update=function(C,T,I,F){C&&(m.from=Mt(s,C)),T&&(m.to=Mt(s,T)),I&&(m.text=I),F!==void 0&&(m.origin=F)}),dt(s,"beforeChange",s,m),s.cm&&dt(s.cm,"beforeChange",s.cm,m),m.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:m.from,to:m.to,text:m.text,origin:m.origin}}function ua(s,u,g){if(s.cm){if(!s.cm.curOp)return Un(s.cm,ua)(s,u,g);if(s.cm.state.suppressEdits)return}if(!((It(s,"beforeChange")||s.cm&&It(s.cm,"beforeChange"))&&(u=jc(s,u,!0),!u))){var m=Et&&!g&&Lt(s,u.from,u.to);if(m)for(var C=m.length-1;C>=0;--C)qc(s,{from:m[C].from,to:m[C].to,text:C?[""]:u.text,origin:u.origin});else qc(s,u)}}function qc(s,u){if(!(u.text.length==1&&u.text[0]==""&&bt(u.from,u.to)==0)){var g=vl(s,u);Pc(s,u,g,s.cm?s.cm.curOp.id:NaN),Na(s,u,g,Tn(s,u));var m=[];fs(s,function(C,T){!T&&Ft(m,C.history)==-1&&(Xc(C.history,u),m.push(C.history)),Na(C,u,null,Tn(C,u))})}}function Yr(s,u,g){var m=s.cm&&s.cm.state.suppressEdits;if(!(m&&!g)){for(var C=s.history,T,I=s.sel,F=u=="undo"?C.done:C.undone,N=u=="undo"?C.undone:C.done,j=0;j<F.length&&(T=F[j],!(g?T.ranges&&!T.equals(s.sel):!T.ranges));j++);if(j!=F.length){for(C.lastOrigin=C.lastSelOrigin=null;;)if(T=F.pop(),T.ranges){if(Ur(T,N),g&&!T.equals(s.sel)){ei(s,T,{clearRedo:!1});return}I=T}else if(m){F.push(T);return}else break;var ie=[];Ur(I,N),N.push({changes:ie,generation:C.generation}),C.generation=T.generation||++C.maxGeneration;for(var ce=It(s,"beforeChange")||s.cm&&It(s.cm,"beforeChange"),Ae=function(qe){var Je=T.changes[qe];if(Je.origin=u,ce&&!jc(s,Je,!1))return F.length=0,{};ie.push(wl(s,Je));var it=qe?vl(s,Je):pt(F);Na(s,Je,it,Lc(s,Je)),!qe&&s.cm&&s.cm.scrollIntoView({from:Je.from,to:hs(Je)});var lt=[];fs(s,function(st,ht){!ht&&Ft(lt,st.history)==-1&&(Xc(st.history,Je),lt.push(st.history)),Na(st,Je,null,Lc(st,Je))})},Se=T.changes.length-1;Se>=0;--Se){var Ne=Ae(Se);if(Ne)return Ne.v}}}}function $c(s,u){if(u!=0&&(s.first+=u,s.sel=new Si(xn(s.sel.ranges,function(C){return new Xt(Ve(C.anchor.line+u,C.anchor.ch),Ve(C.head.line+u,C.head.ch))}),s.sel.primIndex),s.cm)){di(s.cm,s.first,s.first-u,u);for(var g=s.cm.display,m=g.viewFrom;m<g.viewTo;m++)us(s.cm,m,"gutter")}}function Na(s,u,g,m){if(s.cm&&!s.cm.curOp)return Un(s.cm,Na)(s,u,g,m);if(u.to.line<s.first){$c(s,u.text.length-1-(u.to.line-u.from.line));return}if(!(u.from.line>s.lastLine())){if(u.from.line<s.first){var C=u.text.length-1-(s.first-u.from.line);$c(s,C),u={from:Ve(s.first,0),to:Ve(u.to.line+C,u.to.ch),text:[pt(u.text)],origin:u.origin}}var T=s.lastLine();u.to.line>T&&(u={from:u.from,to:Ve(T,ye(s,T).text.length),text:[u.text[0]],origin:u.origin}),u.removed=$e(s,u.from,u.to),g||(g=vl(s,u)),s.cm?sg(s.cm,u,m):yl(s,u,m),qr(s,g,hn),s.cantEdit&&$r(s,Ve(s.firstLine(),0))&&(s.cantEdit=!1)}}function sg(s,u,g){var m=s.doc,C=s.display,T=u.from,I=u.to,F=!1,N=T.line;s.options.lineWrapping||(N=tt(Mi(ye(m,T.line))),m.iter(N,I.line+1,function(Se){if(Se==C.maxLine)return F=!0,!0})),m.sel.contains(u.from,u.to)>-1&&At(s),yl(m,u,g,dc(s)),s.options.lineWrapping||(m.iter(N,T.line+u.text.length,function(Se){var Ne=Mr(Se);Ne>C.maxLineLength&&(C.maxLine=Se,C.maxLineLength=Ne,C.maxLineChanged=!0,F=!1)}),F&&(s.curOp.updateMaxLine=!0)),vt(m,T.line),La(s,400);var j=u.text.length-(I.line-T.line)-1;u.full?di(s):T.line==I.line&&u.text.length==1&&!Ac(s.doc,u)?us(s,T.line,"text"):di(s,T.line,I.line+1,j);var ie=It(s,"changes"),ce=It(s,"change");if(ce||ie){var Ae={from:T,to:I,text:u.text,removed:u.removed,origin:u.origin};ce&&Vn(s,"change",s,Ae),ie&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(Ae)}s.display.selForContextMenu=null}function ca(s,u,g,m,C){var T;m||(m=g),bt(m,g)<0&&(T=[m,g],g=T[0],m=T[1]),typeof u=="string"&&(u=s.splitLines(u)),ua(s,{from:g,to:m,text:u,origin:C})}function Yc(s,u,g,m){g<s.line?s.line+=m:u<s.line&&(s.line=u,s.ch=0)}function Gc(s,u,g,m){for(var C=0;C<s.length;++C){var T=s[C],I=!0;if(T.ranges){T.copied||(T=s[C]=T.deepCopy(),T.copied=!0);for(var F=0;F<T.ranges.length;F++)Yc(T.ranges[F].anchor,u,g,m),Yc(T.ranges[F].head,u,g,m);continue}for(var N=0;N<T.changes.length;++N){var j=T.changes[N];if(g<j.from.line)j.from=Ve(j.from.line+m,j.from.ch),j.to=Ve(j.to.line+m,j.to.ch);else if(u<=j.to.line){I=!1;break}}I||(s.splice(0,C+1),C=0)}}function Xc(s,u){var g=u.from.line,m=u.to.line,C=u.text.length-(m-g)-1;Gc(s.done,g,m,C),Gc(s.undone,g,m,C)}function za(s,u,g,m){var C=u,T=u;return typeof u=="number"?T=ye(s,_i(s,u)):C=tt(u),C==null?null:(m(T,C)&&s.cm&&us(s.cm,C,g),T)}function Ha(s){this.lines=s,this.parent=null;for(var u=0,g=0;g<s.length;++g)s[g].parent=this,u+=s[g].height;this.height=u}Ha.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,u){for(var g=s,m=s+u;g<m;++g){var C=this.lines[g];this.height-=C.height,am(C),Vn(C,"delete")}this.lines.splice(s,u)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,u,g){this.height+=g,this.lines=this.lines.slice(0,s).concat(u).concat(this.lines.slice(s));for(var m=0;m<u.length;++m)u[m].parent=this},iterN:function(s,u,g){for(var m=s+u;s<m;++s)if(g(this.lines[s]))return!0}};function Wa(s){this.children=s;for(var u=0,g=0,m=0;m<s.length;++m){var C=s[m];u+=C.chunkSize(),g+=C.height,C.parent=this}this.size=u,this.height=g,this.parent=null}Wa.prototype={chunkSize:function(){return this.size},removeInner:function(s,u){this.size-=u;for(var g=0;g<this.children.length;++g){var m=this.children[g],C=m.chunkSize();if(s<C){var T=Math.min(u,C-s),I=m.height;if(m.removeInner(s,T),this.height-=I-m.height,C==T&&(this.children.splice(g--,1),m.parent=null),(u-=T)==0)break;s=0}else s-=C}if(this.size-u<25&&(this.children.length>1||!(this.children[0]instanceof Ha))){var F=[];this.collapse(F),this.children=[new Ha(F)],this.children[0].parent=this}},collapse:function(s){for(var u=0;u<this.children.length;++u)this.children[u].collapse(s)},insertInner:function(s,u,g){this.size+=u.length,this.height+=g;for(var m=0;m<this.children.length;++m){var C=this.children[m],T=C.chunkSize();if(s<=T){if(C.insertInner(s,u,g),C.lines&&C.lines.length>50){for(var I=C.lines.length%25+25,F=I;F<C.lines.length;){var N=new Ha(C.lines.slice(F,F+=25));C.height-=N.height,this.children.splice(++m,0,N),N.parent=this}C.lines=C.lines.slice(0,I),this.maybeSpill()}break}s-=T}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var u=s.children.splice(s.children.length-5,5),g=new Wa(u);if(s.parent){s.size-=g.size,s.height-=g.height;var C=Ft(s.parent.children,s);s.parent.children.splice(C+1,0,g)}else{var m=new Wa(s.children);m.parent=s,s.children=[m,g],s=m}g.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,u,g){for(var m=0;m<this.children.length;++m){var C=this.children[m],T=C.chunkSize();if(s<T){var I=Math.min(u,T-s);if(C.iterN(s,I,g))return!0;if((u-=I)==0)break;s=0}else s-=T}}};var Va=function(s,u,g){if(g)for(var m in g)g.hasOwnProperty(m)&&(this[m]=g[m]);this.doc=s,this.node=u};Va.prototype.clear=function(){var s=this.doc.cm,u=this.line.widgets,g=this.line,m=tt(g);if(!(m==null||!u)){for(var C=0;C<u.length;++C)u[C]==this&&u.splice(C--,1);u.length||(g.widgets=null);var T=Ea(this);rt(g,Math.max(0,g.height-T)),s&&(bi(s,function(){Kc(s,g,-T),us(s,m,"widget")}),Vn(s,"lineWidgetCleared",s,this,m))}},Va.prototype.changed=function(){var s=this,u=this.height,g=this.doc.cm,m=this.line;this.height=null;var C=Ea(this)-u;C&&(ls(this.doc,m)||rt(m,m.height+C),g&&bi(g,function(){g.curOp.forceUpdate=!0,Kc(g,m,C),Vn(g,"lineWidgetChanged",g,s,tt(m))}))},Ye(Va);function Kc(s,u,g){$i(u)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&dl(s,g)}function ag(s,u,g,m){var C=new Va(s,g,m),T=s.cm;return T&&C.noHScroll&&(T.display.alignWidgets=!0),za(s,u,"widget",function(I){var F=I.widgets||(I.widgets=[]);if(C.insertAt==null?F.push(C):F.splice(Math.min(F.length,Math.max(0,C.insertAt)),0,C),C.line=I,T&&!ls(s,I)){var N=$i(I)<s.scrollTop;rt(I,I.height+Ea(C)),N&&dl(T,C.height),T.curOp.forceUpdate=!0}return!0}),T&&Vn(T,"lineWidgetAdded",T,C,typeof u=="number"?u:tt(u)),C}var Qc=0,ps=function(s,u){this.lines=[],this.type=u,this.doc=s,this.id=++Qc};ps.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,u=s&&!s.curOp;if(u&&Ps(s),It(this,"clear")){var g=this.find();g&&Vn(this,"clear",g.from,g.to)}for(var m=null,C=null,T=0;T<this.lines.length;++T){var I=this.lines[T],F=bn(I.markedSpans,this);s&&!this.collapsed?us(s,tt(I),"text"):s&&(F.to!=null&&(C=tt(I)),F.from!=null&&(m=tt(I))),I.markedSpans=Qn(I.markedSpans,F),F.from==null&&this.collapsed&&!ls(this.doc,I)&&s&&rt(I,na(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var N=0;N<this.lines.length;++N){var j=Mi(this.lines[N]),ie=Mr(j);ie>s.display.maxLineLength&&(s.display.maxLine=j,s.display.maxLineLength=ie,s.display.maxLineChanged=!0)}m!=null&&s&&this.collapsed&&di(s,m,C+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&Hc(s.doc)),s&&Vn(s,"markerCleared",s,this,m,C),u&&Fs(s),this.parent&&this.parent.clear()}},ps.prototype.find=function(s,u){s==null&&this.type=="bookmark"&&(s=1);for(var g,m,C=0;C<this.lines.length;++C){var T=this.lines[C],I=bn(T.markedSpans,this);if(I.from!=null&&(g=Ve(u?T:tt(T),I.from),s==-1))return g;if(I.to!=null&&(m=Ve(u?T:tt(T),I.to),s==1))return m}return g&&{from:g,to:m}},ps.prototype.changed=function(){var s=this,u=this.find(-1,!0),g=this,m=this.doc.cm;!u||!m||bi(m,function(){var C=u.line,T=tt(u.line),I=Jo(m,T);if(I&&(ic(I),m.curOp.selectionChanged=m.curOp.forceUpdate=!0),m.curOp.updateMaxLine=!0,!ls(g.doc,C)&&g.height!=null){var F=g.height;g.height=null;var N=Ea(g)-F;N&&rt(C,C.height+N)}Vn(m,"markerChanged",m,s)})},ps.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(!u.maybeHiddenMarkers||Ft(u.maybeHiddenMarkers,this)==-1)&&(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},ps.prototype.detachLine=function(s){if(this.lines.splice(Ft(this.lines,s),1),!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(u.maybeHiddenMarkers||(u.maybeHiddenMarkers=[])).push(this)}},Ye(ps);function da(s,u,g,m,C){if(m&&m.shared)return rg(s,u,g,m,C);if(s.cm&&!s.cm.curOp)return Un(s.cm,da)(s,u,g,m,C);var T=new ps(s,C),I=bt(u,g);if(m&&un(m,T,!1),I>0||I==0&&T.clearWhenEmpty!==!1)return T;if(T.replacedWith&&(T.collapsed=!0,T.widgetNode=je("span",[T.replacedWith],"CodeMirror-widget"),m.handleMouseEvents||T.widgetNode.setAttribute("cm-ignore-events","true"),m.insertLeft&&(T.widgetNode.insertLeft=!0)),T.collapsed){if(Js(s,u.line,u,g,T)||u.line!=g.line&&Js(s,g.line,u,g,T))throw new Error("Inserting collapsed marker partially overlapping an existing one");nn()}T.addToHistory&&Pc(s,{from:u,to:g,origin:"markText"},s.sel,NaN);var F=u.line,N=s.cm,j;if(s.iter(F,g.line+1,function(ce){N&&T.collapsed&&!N.options.lineWrapping&&Mi(ce)==N.display.maxLine&&(j=!0),T.collapsed&&F!=u.line&&rt(ce,0),zt(ce,new on(T,F==u.line?u.ch:null,F==g.line?g.ch:null),s.cm&&s.cm.curOp),++F}),T.collapsed&&s.iter(u.line,g.line+1,function(ce){ls(s,ce)&&rt(ce,0)}),T.clearOnEnter&&ke(T,"beforeCursorEnter",function(){return T.clear()}),T.readOnly&&(Ht(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),T.collapsed&&(T.id=++Qc,T.atomic=!0),N){if(j&&(N.curOp.updateMaxLine=!0),T.collapsed)di(N,u.line,g.line+1);else if(T.className||T.startStyle||T.endStyle||T.css||T.attributes||T.title)for(var ie=u.line;ie<=g.line;ie++)us(N,ie,"text");T.atomic&&Hc(N.doc),Vn(N,"markerAdded",N,T)}return T}var Ua=function(s,u){this.markers=s,this.primary=u;for(var g=0;g<s.length;++g)s[g].parent=this};Ua.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();Vn(this,"clear")}},Ua.prototype.find=function(s,u){return this.primary.find(s,u)},Ye(Ua);function rg(s,u,g,m,C){m=un(m),m.shared=!1;var T=[da(s,u,g,m,C)],I=T[0],F=m.widgetNode;return fs(s,function(N){F&&(m.widgetNode=F.cloneNode(!0)),T.push(da(N,Mt(N,u),Mt(N,g),m,C));for(var j=0;j<N.linked.length;++j)if(N.linked[j].isParent)return;I=pt(T)}),new Ua(T,I)}function Jc(s){return s.findMarks(Ve(s.first,0),s.clipPos(Ve(s.lastLine())),function(u){return u.parent})}function og(s,u){for(var g=0;g<u.length;g++){var m=u[g],C=m.find(),T=s.clipPos(C.from),I=s.clipPos(C.to);if(bt(T,I)){var F=da(s,T,I,m.primary,m.primary.type);m.markers.push(F),F.parent=m}}}function lg(s){for(var u=function(m){var C=s[m],T=[C.primary.doc];fs(C.primary.doc,function(N){return T.push(N)});for(var I=0;I<C.markers.length;I++){var F=C.markers[I];Ft(T,F.doc)==-1&&(F.parent=null,C.markers.splice(I--,1))}},g=0;g<s.length;g++)u(g)}var ug=0,hi=function(s,u,g,m,C){if(!(this instanceof hi))return new hi(s,u,g,m,C);g==null&&(g=0),Wa.call(this,[new Ha([new Zs("",null)])]),this.first=g,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=g;var T=Ve(g,0);this.sel=ds(T),this.history=new Vr(null),this.id=++ug,this.modeOption=u,this.lineSep=m,this.direction=C=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),yl(this,{from:T,to:T,text:s}),ei(this,ds(T),hn)};hi.prototype=Pe(Wa.prototype,{constructor:hi,iter:function(s,u,g){g?this.iterN(s-this.first,u-s,g):this.iterN(this.first,this.first+this.size,s)},insert:function(s,u){for(var g=0,m=0;m<u.length;++m)g+=u[m].height;this.insertInner(s-this.first,u,g)},remove:function(s,u){this.removeInner(s-this.first,u)},getValue:function(s){var u=Qe(this,this.first,this.first+this.size);return s===!1?u:u.join(s||this.lineSeparator())},setValue:jn(function(s){var u=Ve(this.first,0),g=this.first+this.size-1;ua(this,{from:u,to:Ve(g,ye(this,g).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&Ia(this.cm,0,0),ei(this,ds(u),hn)}),replaceRange:function(s,u,g,m){u=Mt(this,u),g=g?Mt(this,g):u,ca(this,s,u,g,m)},getRange:function(s,u,g){var m=$e(this,Mt(this,s),Mt(this,u));return g===!1?m:g===""?m.join(""):m.join(g||this.lineSeparator())},getLine:function(s){var u=this.getLineHandle(s);return u&&u.text},getLineHandle:function(s){if(Jt(this,s))return ye(this,s)},getLineNumber:function(s){return tt(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=ye(this,s)),Mi(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return Mt(this,s)},getCursor:function(s){var u=this.sel.primary(),g;return s==null||s=="head"?g=u.head:s=="anchor"?g=u.anchor:s=="end"||s=="to"||s===!1?g=u.to():g=u.from(),g},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:jn(function(s,u,g){Rc(this,Mt(this,typeof s=="number"?Ve(s,u||0):s),null,g)}),setSelection:jn(function(s,u,g){Rc(this,Mt(this,s),Mt(this,u||s),g)}),extendSelection:jn(function(s,u,g){jr(this,Mt(this,s),u&&Mt(this,u),g)}),extendSelections:jn(function(s,u){Bc(this,gi(this,s),u)}),extendSelectionsBy:jn(function(s,u){var g=xn(this.sel.ranges,s);Bc(this,gi(this,g),u)}),setSelections:jn(function(s,u,g){if(s.length){for(var m=[],C=0;C<s.length;C++)m[C]=new Xt(Mt(this,s[C].anchor),Mt(this,s[C].head||s[C].anchor));u==null&&(u=Math.min(s.length-1,this.sel.primIndex)),ei(this,Oi(this.cm,m,u),g)}}),addSelection:jn(function(s,u,g){var m=this.sel.ranges.slice(0);m.push(new Xt(Mt(this,s),Mt(this,u||s))),ei(this,Oi(this.cm,m,m.length-1),g)}),getSelection:function(s){for(var u=this.sel.ranges,g,m=0;m<u.length;m++){var C=$e(this,u[m].from(),u[m].to());g=g?g.concat(C):C}return s===!1?g:g.join(s||this.lineSeparator())},getSelections:function(s){for(var u=[],g=this.sel.ranges,m=0;m<g.length;m++){var C=$e(this,g[m].from(),g[m].to());s!==!1&&(C=C.join(s||this.lineSeparator())),u[m]=C}return u},replaceSelection:function(s,u,g){for(var m=[],C=0;C<this.sel.ranges.length;C++)m[C]=s;this.replaceSelections(m,u,g||"+input")},replaceSelections:jn(function(s,u,g){for(var m=[],C=this.sel,T=0;T<C.ranges.length;T++){var I=C.ranges[T];m[T]={from:I.from(),to:I.to(),text:this.splitLines(s[T]),origin:g}}for(var F=u&&u!="end"&&Km(this,m,u),N=m.length-1;N>=0;N--)ua(this,m[N]);F?Nc(this,F):this.cm&&aa(this.cm)}),undo:jn(function(){Yr(this,"undo")}),redo:jn(function(){Yr(this,"redo")}),undoSelection:jn(function(){Yr(this,"undo",!0)}),redoSelection:jn(function(){Yr(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,u=0,g=0,m=0;m<s.done.length;m++)s.done[m].ranges||++u;for(var C=0;C<s.undone.length;C++)s.undone[C].ranges||++g;return{undo:u,redo:g}},clearHistory:function(){var s=this;this.history=new Vr(this.history),fs(this,function(u){return u.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:oa(this.history.done),undone:oa(this.history.undone)}},setHistory:function(s){var u=this.history=new Vr(this.history);u.done=oa(s.done.slice(0),null,!0),u.undone=oa(s.undone.slice(0),null,!0)},setGutterMarker:jn(function(s,u,g){return za(this,s,"gutter",function(m){var C=m.gutterMarkers||(m.gutterMarkers={});return C[u]=g,!g&&G(C)&&(m.gutterMarkers=null),!0})}),clearGutter:jn(function(s){var u=this;this.iter(function(g){g.gutterMarkers&&g.gutterMarkers[s]&&za(u,g,"gutter",function(){return g.gutterMarkers[s]=null,G(g.gutterMarkers)&&(g.gutterMarkers=null),!0})})}),lineInfo:function(s){var u;if(typeof s=="number"){if(!Jt(this,s)||(u=s,s=ye(this,s),!s))return null}else if(u=tt(s),u==null)return null;return{line:u,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:jn(function(s,u,g){return za(this,s,u=="gutter"?"gutter":"class",function(m){var C=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass";if(!m[C])m[C]=g;else{if(ze(g).test(m[C]))return!1;m[C]+=" "+g}return!0})}),removeLineClass:jn(function(s,u,g){return za(this,s,u=="gutter"?"gutter":"class",function(m){var C=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass",T=m[C];if(T)if(g==null)m[C]=null;else{var I=T.match(ze(g));if(!I)return!1;var F=I.index+I[0].length;m[C]=T.slice(0,I.index)+(!I.index||F==T.length?"":" ")+T.slice(F)||null}else return!1;return!0})}),addLineWidget:jn(function(s,u,g){return ag(this,s,u,g)}),removeLineWidget:function(s){s.clear()},markText:function(s,u,g){return da(this,Mt(this,s),Mt(this,u),g,g&&g.type||"range")},setBookmark:function(s,u){var g={replacedWith:u&&(u.nodeType==null?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};return s=Mt(this,s),da(this,s,s,g,"bookmark")},findMarksAt:function(s){s=Mt(this,s);var u=[],g=ye(this,s.line).markedSpans;if(g)for(var m=0;m<g.length;++m){var C=g[m];(C.from==null||C.from<=s.ch)&&(C.to==null||C.to>=s.ch)&&u.push(C.marker.parent||C.marker)}return u},findMarks:function(s,u,g){s=Mt(this,s),u=Mt(this,u);var m=[],C=s.line;return this.iter(s.line,u.line+1,function(T){var I=T.markedSpans;if(I)for(var F=0;F<I.length;F++){var N=I[F];!(N.to!=null&&C==s.line&&s.ch>=N.to||N.from==null&&C!=s.line||N.from!=null&&C==u.line&&N.from>=u.ch)&&(!g||g(N.marker))&&m.push(N.marker.parent||N.marker)}++C}),m},getAllMarks:function(){var s=[];return this.iter(function(u){var g=u.markedSpans;if(g)for(var m=0;m<g.length;++m)g[m].from!=null&&s.push(g[m].marker)}),s},posFromIndex:function(s){var u,g=this.first,m=this.lineSeparator().length;return this.iter(function(C){var T=C.text.length+m;if(T>s)return u=s,!0;s-=T,++g}),Mt(this,Ve(g,u))},indexFromPos:function(s){s=Mt(this,s);var u=s.ch;if(s.line<this.first||s.ch<0)return 0;var g=this.lineSeparator().length;return this.iter(this.first,s.line,function(m){u+=m.text.length+g}),u},copy:function(s){var u=new hi(Qe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return u.scrollTop=this.scrollTop,u.scrollLeft=this.scrollLeft,u.sel=this.sel,u.extend=!1,s&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory())),u},linkedDoc:function(s){s||(s={});var u=this.first,g=this.first+this.size;s.from!=null&&s.from>u&&(u=s.from),s.to!=null&&s.to<g&&(g=s.to);var m=new hi(Qe(this,u,g),s.mode||this.modeOption,u,this.lineSep,this.direction);return s.sharedHist&&(m.history=this.history),(this.linked||(this.linked=[])).push({doc:m,sharedHist:s.sharedHist}),m.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],og(m,Jc(this)),m},unlinkDoc:function(s){if(s instanceof pn&&(s=s.doc),this.linked)for(var u=0;u<this.linked.length;++u){var g=this.linked[u];if(g.doc==s){this.linked.splice(u,1),s.unlinkDoc(this),lg(Jc(this));break}}if(s.history==this.history){var m=[s.id];fs(s,function(C){return m.push(C.id)},!0),s.history=new Vr(null),s.history.done=oa(this.history.done,m),s.history.undone=oa(this.history.undone,m)}},iterLinkedDocs:function(s){fs(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):p(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:jn(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(u){return u.order=null}),this.cm&&Qm(this.cm))})}),hi.prototype.eachLine=hi.prototype.iter;var Zc=0;function cg(s){var u=this;if(ed(u),!(Xe(u,s)||Yi(u.display,s))){_t(s),k&&(Zc=+new Date);var g=As(u,s,!0),m=s.dataTransfer.files;if(!(!g||u.isReadOnly()))if(m&&m.length&&window.FileReader&&window.File)for(var C=m.length,T=Array(C),I=0,F=function(){++I==C&&Un(u,function(){g=Mt(u.doc,g);var Se={from:g,to:g,text:u.doc.splitLines(T.filter(function(Ne){return Ne!=null}).join(u.doc.lineSeparator())),origin:"paste"};ua(u.doc,Se),Nc(u.doc,ds(Mt(u.doc,g),Mt(u.doc,hs(Se))))})()},N=function(Se,Ne){if(u.options.allowDropFileTypes&&Ft(u.options.allowDropFileTypes,Se.type)==-1){F();return}var qe=new FileReader;qe.onerror=function(){return F()},qe.onload=function(){var Je=qe.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Je)){F();return}T[Ne]=Je,F()},qe.readAsText(Se)},j=0;j<m.length;j++)N(m[j],j);else{if(u.state.draggingText&&u.doc.sel.contains(g)>-1){u.state.draggingText(s),setTimeout(function(){return u.display.input.focus()},20);return}try{var ie=s.dataTransfer.getData("Text");if(ie){var ce;if(u.state.draggingText&&!u.state.draggingText.copy&&(ce=u.listSelections()),qr(u.doc,ds(g,g)),ce)for(var Ae=0;Ae<ce.length;++Ae)ca(u.doc,"",ce[Ae].anchor,ce[Ae].head,"drag");u.replaceSelection(ie,"around","paste"),u.display.input.focus()}}catch{}}}}function dg(s,u){if(k&&(!s.state.draggingText||+new Date-Zc<100)){c(u);return}if(!(Xe(s,u)||Yi(s.display,u))&&(u.dataTransfer.setData("Text",s.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!ae)){var g=be("img",null,null,"position: fixed; left: 0; top: 0;");g.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",J&&(g.width=g.height=1,s.display.wrapper.appendChild(g),g._top=g.offsetTop),u.dataTransfer.setDragImage(g,0,0),J&&g.parentNode.removeChild(g)}}function hg(s,u){var g=As(s,u);if(g){var m=document.createDocumentFragment();rl(s,g,m),s.display.dragCursor||(s.display.dragCursor=be("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),gt(s.display.dragCursor,m)}}function ed(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function td(s){if(document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),g=[],m=0;m<u.length;m++){var C=u[m].CodeMirror;C&&g.push(C)}g.length&&g[0].operation(function(){for(var T=0;T<g.length;T++)s(g[T])})}}var nd=!1;function fg(){nd||(pg(),nd=!0)}function pg(){var s;ke(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,td(mg)},100))}),ke(window,"blur",function(){return td(sa)})}function mg(s){var u=s.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.scrollbarsClipped=!1,s.setSize()}for(var ms={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ja=0;ja<10;ja++)ms[ja+48]=ms[ja+96]=String(ja);for(var Gr=65;Gr<=90;Gr++)ms[Gr]=String.fromCharCode(Gr);for(var qa=1;qa<=12;qa++)ms[qa+111]=ms[qa+63235]="F"+qa;var Xi={};Xi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Xi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Xi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Xi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Xi.default=re?Xi.macDefault:Xi.pcDefault;function gg(s){var u=s.split(/-(?!$)/);s=u[u.length-1];for(var g,m,C,T,I=0;I<u.length-1;I++){var F=u[I];if(/^(cmd|meta|m)$/i.test(F))T=!0;else if(/^a(lt)?$/i.test(F))g=!0;else if(/^(c|ctrl|control)$/i.test(F))m=!0;else if(/^s(hift)?$/i.test(F))C=!0;else throw new Error("Unrecognized modifier name: "+F)}return g&&(s="Alt-"+s),m&&(s="Ctrl-"+s),T&&(s="Cmd-"+s),C&&(s="Shift-"+s),s}function vg(s){var u={};for(var g in s)if(s.hasOwnProperty(g)){var m=s[g];if(/^(name|fallthrough|(de|at)tach)$/.test(g))continue;if(m=="..."){delete s[g];continue}for(var C=xn(g.split(" "),gg),T=0;T<C.length;T++){var I=void 0,F=void 0;T==C.length-1?(F=C.join(" "),I=m):(F=C.slice(0,T+1).join(" "),I="...");var N=u[F];if(!N)u[F]=I;else if(N!=I)throw new Error("Inconsistent bindings for "+F)}delete s[g]}for(var j in u)s[j]=u[j];return s}function ha(s,u,g,m){u=Xr(u);var C=u.call?u.call(s,m):u[s];if(C===!1)return"nothing";if(C==="...")return"multi";if(C!=null&&g(C))return"handled";if(u.fallthrough){if(Object.prototype.toString.call(u.fallthrough)!="[object Array]")return ha(s,u.fallthrough,g,m);for(var T=0;T<u.fallthrough.length;T++){var I=ha(s,u.fallthrough[T],g,m);if(I)return I}}}function id(s){var u=typeof s=="string"?s:ms[s.keyCode];return u=="Ctrl"||u=="Alt"||u=="Shift"||u=="Mod"}function sd(s,u,g){var m=s;return u.altKey&&m!="Alt"&&(s="Alt-"+s),(Re?u.metaKey:u.ctrlKey)&&m!="Ctrl"&&(s="Ctrl-"+s),(Re?u.ctrlKey:u.metaKey)&&m!="Mod"&&(s="Cmd-"+s),!g&&u.shiftKey&&m!="Shift"&&(s="Shift-"+s),s}function ad(s,u){if(J&&s.keyCode==34&&s.char)return!1;var g=ms[s.keyCode];return g==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(g=s.code),sd(g,s,u))}function Xr(s){return typeof s=="string"?Xi[s]:s}function fa(s,u){for(var g=s.doc.sel.ranges,m=[],C=0;C<g.length;C++){for(var T=u(g[C]);m.length&&bt(T.from,pt(m).to)<=0;){var I=m.pop();if(bt(I.from,T.from)<0){T.from=I.from;break}}m.push(T)}bi(s,function(){for(var F=m.length-1;F>=0;F--)ca(s.doc,"",m[F].from,m[F].to,"+delete");aa(s)})}function kl(s,u,g){var m=U(s.text,u+g,g);return m<0||m>s.text.length?null:m}function _l(s,u,g){var m=kl(s,u.ch,g);return m==null?null:new Ve(u.line,m,g<0?"after":"before")}function Sl(s,u,g,m,C){if(s){u.doc.direction=="rtl"&&(C=-C);var T=fe(g,u.doc.direction);if(T){var I=C<0?pt(T):T[0],F=C<0==(I.level==1),N=F?"after":"before",j;if(I.level>0||u.doc.direction=="rtl"){var ie=ta(u,g);j=C<0?g.text.length-1:0;var ce=Ri(u,ie,j).top;j=ne(function(Ae){return Ri(u,ie,Ae).top==ce},C<0==(I.level==1)?I.from:I.to-1,j),N=="before"&&(j=kl(g,j,1))}else j=C<0?I.to:I.from;return new Ve(m,j,N)}}return new Ve(m,C<0?g.text.length:0,C<0?"before":"after")}function bg(s,u,g,m){var C=fe(u,s.doc.direction);if(!C)return _l(u,g,m);g.ch>=u.text.length?(g.ch=u.text.length,g.sticky="before"):g.ch<=0&&(g.ch=0,g.sticky="after");var T=Me(C,g.ch,g.sticky),I=C[T];if(s.doc.direction=="ltr"&&I.level%2==0&&(m>0?I.to>g.ch:I.from<g.ch))return _l(u,g,m);var F=function(it,lt){return kl(u,it instanceof Ve?it.ch:it,lt)},N,j=function(it){return s.options.lineWrapping?(N=N||ta(s,u),cc(s,u,N,it)):{begin:0,end:u.text.length}},ie=j(g.sticky=="before"?F(g,-1):g.ch);if(s.doc.direction=="rtl"||I.level==1){var ce=I.level==1==m<0,Ae=F(g,ce?1:-1);if(Ae!=null&&(ce?Ae<=I.to&&Ae<=ie.end:Ae>=I.from&&Ae>=ie.begin)){var Se=ce?"before":"after";return new Ve(g.line,Ae,Se)}}var Ne=function(it,lt,st){for(var ht=function(ln,qn){return qn?new Ve(g.line,F(ln,1),"before"):new Ve(g.line,ln,"after")};it>=0&&it<C.length;it+=lt){var Tt=C[it],Ct=lt>0==(Tt.level!=1),Rt=Ct?st.begin:F(st.end,-1);if(Tt.from<=Rt&&Rt<Tt.to||(Rt=Ct?Tt.from:F(Tt.to,-1),st.begin<=Rt&&Rt<st.end))return ht(Rt,Ct)}},qe=Ne(T+m,m,ie);if(qe)return qe;var Je=m>0?ie.end:F(ie.begin,-1);return Je!=null&&!(m>0&&Je==u.text.length)&&(qe=Ne(m>0?0:C.length-1,m,j(Je)),qe)?qe:null}var $a={selectAll:Uc,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),hn)},killLine:function(s){return fa(s,function(u){if(u.empty()){var g=ye(s.doc,u.head.line).text.length;return u.head.ch==g&&u.head.line<s.lastLine()?{from:u.head,to:Ve(u.head.line+1,0)}:{from:u.head,to:Ve(u.head.line,g)}}else return{from:u.from(),to:u.to()}})},deleteLine:function(s){return fa(s,function(u){return{from:Ve(u.from().line,0),to:Mt(s.doc,Ve(u.to().line+1,0))}})},delLineLeft:function(s){return fa(s,function(u){return{from:Ve(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(s){return fa(s,function(u){var g=s.charCoords(u.head,"div").top+5,m=s.coordsChar({left:0,top:g},"div");return{from:m,to:u.from()}})},delWrappedLineRight:function(s){return fa(s,function(u){var g=s.charCoords(u.head,"div").top+5,m=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:g},"div");return{from:u.from(),to:m}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(Ve(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(Ve(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(u){return rd(s,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(u){return od(s,u.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(u){return yg(s,u.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(u){var g=s.cursorCoords(u.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:g},"div")},Nn)},goLineLeft:function(s){return s.extendSelectionsBy(function(u){var g=s.cursorCoords(u.head,"div").top+5;return s.coordsChar({left:0,top:g},"div")},Nn)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(u){var g=s.cursorCoords(u.head,"div").top+5,m=s.coordsChar({left:0,top:g},"div");return m.ch<s.getLine(m.line).search(/\S/)?od(s,u.head):m},Nn)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var u=[],g=s.listSelections(),m=s.options.tabSize,C=0;C<g.length;C++){var T=g[C].from(),I=Kt(s.getLine(T.line),T.ch,m);u.push(Kn(m-I%m))}s.replaceSelections(u)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return bi(s,function(){for(var u=s.listSelections(),g=[],m=0;m<u.length;m++)if(u[m].empty()){var C=u[m].head,T=ye(s.doc,C.line).text;if(T){if(C.ch==T.length&&(C=new Ve(C.line,C.ch-1)),C.ch>0)C=new Ve(C.line,C.ch+1),s.replaceRange(T.charAt(C.ch-1)+T.charAt(C.ch-2),Ve(C.line,C.ch-2),C,"+transpose");else if(C.line>s.doc.first){var I=ye(s.doc,C.line-1).text;I&&(C=new Ve(C.line,1),s.replaceRange(T.charAt(0)+s.doc.lineSeparator()+I.charAt(I.length-1),Ve(C.line-1,I.length-1),C,"+transpose"))}}g.push(new Xt(C,C))}s.setSelections(g)})},newlineAndIndent:function(s){return bi(s,function(){for(var u=s.listSelections(),g=u.length-1;g>=0;g--)s.replaceRange(s.doc.lineSeparator(),u[g].anchor,u[g].head,"+input");u=s.listSelections();for(var m=0;m<u.length;m++)s.indentLine(u[m].from().line,null,!0);aa(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function rd(s,u){var g=ye(s.doc,u),m=Mi(g);return m!=g&&(u=tt(m)),Sl(!0,s,m,u,1)}function yg(s,u){var g=ye(s.doc,u),m=nm(g);return m!=g&&(u=tt(m)),Sl(!0,s,g,u,-1)}function od(s,u){var g=rd(s,u.line),m=ye(s.doc,g.line),C=fe(m,s.doc.direction);if(!C||C[0].level==0){var T=Math.max(g.ch,m.text.search(/\S/)),I=u.line==g.line&&u.ch<=T&&u.ch;return Ve(g.line,I?0:T,g.sticky)}return g}function Kr(s,u,g){if(typeof u=="string"&&(u=$a[u],!u))return!1;s.display.input.ensurePolled();var m=s.display.shift,C=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),g&&(s.display.shift=!1),C=u(s)!=cn}finally{s.display.shift=m,s.state.suppressEdits=!1}return C}function wg(s,u,g){for(var m=0;m<s.state.keyMaps.length;m++){var C=ha(u,s.state.keyMaps[m],g,s);if(C)return C}return s.options.extraKeys&&ha(u,s.options.extraKeys,g,s)||ha(u,s.options.keyMap,g,s)}var Cg=new $t;function Ya(s,u,g,m){var C=s.state.keySeq;if(C){if(id(u))return"handled";if(/\'$/.test(u)?s.state.keySeq=null:Cg.set(50,function(){s.state.keySeq==C&&(s.state.keySeq=null,s.display.input.reset())}),ld(s,C+" "+u,g,m))return!0}return ld(s,u,g,m)}function ld(s,u,g,m){var C=wg(s,u,m);return C=="multi"&&(s.state.keySeq=u),C=="handled"&&Vn(s,"keyHandled",s,u,g),(C=="handled"||C=="multi")&&(_t(g),ol(s)),!!C}function ud(s,u){var g=ad(u,!0);return g?u.shiftKey&&!s.state.keySeq?Ya(s,"Shift-"+g,u,function(m){return Kr(s,m,!0)})||Ya(s,g,u,function(m){if(typeof m=="string"?/^go[A-Z]/.test(m):m.motion)return Kr(s,m)}):Ya(s,g,u,function(m){return Kr(s,m)}):!1}function xg(s,u,g){return Ya(s,"'"+g+"'",u,function(m){return Kr(s,m,!0)})}var Tl=null;function cd(s){var u=this;if(!(s.target&&s.target!=u.display.input.getField())&&(u.curOp.focus=Dt(Be(u)),!Xe(u,s))){k&&S<11&&s.keyCode==27&&(s.returnValue=!1);var g=s.keyCode;u.display.shift=g==16||s.shiftKey;var m=ud(u,s);J&&(Tl=m?g:null,!m&&g==88&&!_&&(re?s.metaKey:s.ctrlKey)&&u.replaceSelection("",null,"cut")),l&&!re&&!m&&g==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),g==18&&!/\bCodeMirror-crosshair\b/.test(u.display.lineDiv.className)&&kg(u)}}function kg(s){var u=s.display.lineDiv;qt(u,"CodeMirror-crosshair");function g(m){(m.keyCode==18||!m.altKey)&&(et(u,"CodeMirror-crosshair"),ct(document,"keyup",g),ct(document,"mouseover",g))}ke(document,"keyup",g),ke(document,"mouseover",g)}function dd(s){s.keyCode==16&&(this.doc.sel.shift=!1),Xe(this,s)}function hd(s){var u=this;if(!(s.target&&s.target!=u.display.input.getField())&&!(Yi(u.display,s)||Xe(u,s)||s.ctrlKey&&!s.altKey||re&&s.metaKey)){var g=s.keyCode,m=s.charCode;if(J&&g==Tl){Tl=null,_t(s);return}if(!(J&&(!s.which||s.which<10)&&ud(u,s))){var C=String.fromCharCode(m??g);C!="\b"&&(xg(u,s,C)||u.display.input.onKeyPress(s))}}}var _g=400,Dl=function(s,u,g){this.time=s,this.pos=u,this.button=g};Dl.prototype.compare=function(s,u,g){return this.time+_g>s&&bt(u,this.pos)==0&&g==this.button};var Ga,Xa;function Sg(s,u){var g=+new Date;return Xa&&Xa.compare(g,s,u)?(Ga=Xa=null,"triple"):Ga&&Ga.compare(g,s,u)?(Xa=new Dl(g,s,u),Ga=null,"double"):(Ga=new Dl(g,s,u),Xa=null,"single")}function fd(s){var u=this,g=u.display;if(!(Xe(u,s)||g.activeTouch&&g.input.supportsTouch())){if(g.input.ensurePolled(),g.shift=s.shiftKey,Yi(g,s)){M||(g.scroller.draggable=!1,setTimeout(function(){return g.scroller.draggable=!0},100));return}if(!El(u,s)){var m=As(u,s),C=v(s),T=m?Sg(m,C):"single";yt(u).focus(),C==1&&u.state.selectingText&&u.state.selectingText(s),!(m&&Tg(u,C,m,T,s))&&(C==1?m?Eg(u,m,T,s):h(s)==g.scroller&&_t(s):C==2?(m&&jr(u.doc,m),setTimeout(function(){return g.input.focus()},20)):C==3&&(at?u.display.input.onContextMenu(s):ll(u)))}}}function Tg(s,u,g,m,C){var T="Click";return m=="double"?T="Double"+T:m=="triple"&&(T="Triple"+T),T=(u==1?"Left":u==2?"Middle":"Right")+T,Ya(s,sd(T,C),C,function(I){if(typeof I=="string"&&(I=$a[I]),!I)return!1;var F=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),F=I(s,g)!=cn}finally{s.state.suppressEdits=!1}return F})}function Dg(s,u,g){var m=s.getOption("configureMouse"),C=m?m(s,u,g):{};if(C.unit==null){var T=Oe?g.shiftKey&&g.metaKey:g.altKey;C.unit=T?"rectangle":u=="single"?"char":u=="double"?"word":"line"}return(C.extend==null||s.doc.extend)&&(C.extend=s.doc.extend||g.shiftKey),C.addNew==null&&(C.addNew=re?g.metaKey:g.ctrlKey),C.moveOnDrag==null&&(C.moveOnDrag=!(re?g.altKey:g.ctrlKey)),C}function Eg(s,u,g,m){k?setTimeout(tn(pc,s),0):s.curOp.focus=Dt(Be(s));var C=Dg(s,g,m),T=s.doc.sel,I;s.options.dragDrop&&y&&!s.isReadOnly()&&g=="single"&&(I=T.contains(u))>-1&&(bt((I=T.ranges[I]).from(),u)<0||u.xRel>0)&&(bt(I.to(),u)>0||u.xRel<0)?Ag(s,m,u,C):Mg(s,m,u,C)}function Ag(s,u,g,m){var C=s.display,T=!1,I=Un(s,function(j){M&&(C.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:ll(s)),ct(C.wrapper.ownerDocument,"mouseup",I),ct(C.wrapper.ownerDocument,"mousemove",F),ct(C.scroller,"dragstart",N),ct(C.scroller,"drop",I),T||(_t(j),m.addNew||jr(s.doc,g,null,null,m.extend),M&&!ae||k&&S==9?setTimeout(function(){C.wrapper.ownerDocument.body.focus({preventScroll:!0}),C.input.focus()},20):C.input.focus())}),F=function(j){T=T||Math.abs(u.clientX-j.clientX)+Math.abs(u.clientY-j.clientY)>=10},N=function(){return T=!0};M&&(C.scroller.draggable=!0),s.state.draggingText=I,I.copy=!m.moveOnDrag,ke(C.wrapper.ownerDocument,"mouseup",I),ke(C.wrapper.ownerDocument,"mousemove",F),ke(C.scroller,"dragstart",N),ke(C.scroller,"drop",I),s.state.delayingBlurEvent=!0,setTimeout(function(){return C.input.focus()},20),C.scroller.dragDrop&&C.scroller.dragDrop()}function pd(s,u,g){if(g=="char")return new Xt(u,u);if(g=="word")return s.findWordAt(u);if(g=="line")return new Xt(Ve(u.line,0),Mt(s.doc,Ve(u.line+1,0)));var m=g(s,u);return new Xt(m.from,m.to)}function Mg(s,u,g,m){k&&ll(s);var C=s.display,T=s.doc;_t(u);var I,F,N=T.sel,j=N.ranges;if(m.addNew&&!m.extend?(F=T.sel.contains(g),F>-1?I=j[F]:I=new Xt(g,g)):(I=T.sel.primary(),F=T.sel.primIndex),m.unit=="rectangle")m.addNew||(I=new Xt(g,g)),g=As(s,u,!0,!0),F=-1;else{var ie=pd(s,g,m.unit);m.extend?I=Cl(I,ie.anchor,ie.head,m.extend):I=ie}m.addNew?F==-1?(F=j.length,ei(T,Oi(s,j.concat([I]),F),{scroll:!1,origin:"*mouse"})):j.length>1&&j[F].empty()&&m.unit=="char"&&!m.extend?(ei(T,Oi(s,j.slice(0,F).concat(j.slice(F+1)),0),{scroll:!1,origin:"*mouse"}),N=T.sel):xl(T,F,I,Ge):(F=0,ei(T,new Si([I],0),Ge),N=T.sel);var ce=g;function Ae(st){if(bt(ce,st)!=0)if(ce=st,m.unit=="rectangle"){for(var ht=[],Tt=s.options.tabSize,Ct=Kt(ye(T,g.line).text,g.ch,Tt),Rt=Kt(ye(T,st.line).text,st.ch,Tt),ln=Math.min(Ct,Rt),qn=Math.max(Ct,Rt),yn=Math.min(g.line,st.line),yi=Math.min(s.lastLine(),Math.max(g.line,st.line));yn<=yi;yn++){var fi=ye(T,yn).text,On=vn(fi,ln,Tt);ln==qn?ht.push(new Xt(Ve(yn,On),Ve(yn,On))):fi.length>On&&ht.push(new Xt(Ve(yn,On),Ve(yn,vn(fi,qn,Tt))))}ht.length||ht.push(new Xt(g,g)),ei(T,Oi(s,N.ranges.slice(0,F).concat(ht),F),{origin:"*mouse",scroll:!1}),s.scrollIntoView(st)}else{var pi=I,Gn=pd(s,st,m.unit),Hn=pi.anchor,Pn;bt(Gn.anchor,Hn)>0?(Pn=Gn.head,Hn=In(pi.from(),Gn.anchor)):(Pn=Gn.anchor,Hn=ki(pi.to(),Gn.head));var _n=N.ranges.slice(0);_n[F]=Ig(s,new Xt(Mt(T,Hn),Pn)),ei(T,Oi(s,_n,F),Ge)}}var Se=C.wrapper.getBoundingClientRect(),Ne=0;function qe(st){var ht=++Ne,Tt=As(s,st,!0,m.unit=="rectangle");if(Tt)if(bt(Tt,ce)!=0){s.curOp.focus=Dt(Be(s)),Ae(Tt);var Ct=Nr(C,T);(Tt.line>=Ct.to||Tt.line<Ct.from)&&setTimeout(Un(s,function(){Ne==ht&&qe(st)}),150)}else{var Rt=st.clientY<Se.top?-20:st.clientY>Se.bottom?20:0;Rt&&setTimeout(Un(s,function(){Ne==ht&&(C.scroller.scrollTop+=Rt,qe(st))}),50)}}function Je(st){s.state.selectingText=!1,Ne=1/0,st&&(_t(st),C.input.focus()),ct(C.wrapper.ownerDocument,"mousemove",it),ct(C.wrapper.ownerDocument,"mouseup",lt),T.history.lastSelOrigin=null}var it=Un(s,function(st){st.buttons===0||!v(st)?Je(st):qe(st)}),lt=Un(s,Je);s.state.selectingText=lt,ke(C.wrapper.ownerDocument,"mousemove",it),ke(C.wrapper.ownerDocument,"mouseup",lt)}function Ig(s,u){var g=u.anchor,m=u.head,C=ye(s.doc,g.line);if(bt(g,m)==0&&g.sticky==m.sticky)return u;var T=fe(C);if(!T)return u;var I=Me(T,g.ch,g.sticky),F=T[I];if(F.from!=g.ch&&F.to!=g.ch)return u;var N=I+(F.from==g.ch==(F.level!=1)?0:1);if(N==0||N==T.length)return u;var j;if(m.line!=g.line)j=(m.line-g.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var ie=Me(T,m.ch,m.sticky),ce=ie-I||(m.ch-g.ch)*(F.level==1?-1:1);ie==N-1||ie==N?j=ce<0:j=ce>0}var Ae=T[N+(j?-1:0)],Se=j==(Ae.level==1),Ne=Se?Ae.from:Ae.to,qe=Se?"after":"before";return g.ch==Ne&&g.sticky==qe?u:new Xt(new Ve(g.line,Ne,qe),m)}function md(s,u,g,m){var C,T;if(u.touches)C=u.touches[0].clientX,T=u.touches[0].clientY;else try{C=u.clientX,T=u.clientY}catch{return!1}if(C>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;m&&_t(u);var I=s.display,F=I.lineDiv.getBoundingClientRect();if(T>F.bottom||!It(s,g))return xt(u);T-=F.top-I.viewOffset;for(var N=0;N<s.display.gutterSpecs.length;++N){var j=I.gutters.childNodes[N];if(j&&j.getBoundingClientRect().right>=C){var ie=jt(s.doc,T),ce=s.display.gutterSpecs[N];return dt(s,g,s,ie,ce.className,u),xt(u)}}}function El(s,u){return md(s,u,"gutterClick",!0)}function gd(s,u){Yi(s.display,u)||Og(s,u)||Xe(s,u,"contextmenu")||at||s.display.input.onContextMenu(u)}function Og(s,u){return It(s,"gutterContextMenu")?md(s,u,"gutterContextMenu",!1):!1}function vd(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Aa(s)}var pa={toString:function(){return"CodeMirror.Init"}},bd={},Qr={};function Pg(s){var u=s.optionHandlers;function g(m,C,T,I){s.defaults[m]=C,T&&(u[m]=I?function(F,N,j){j!=pa&&T(F,N,j)}:T)}s.defineOption=g,s.Init=pa,g("value","",function(m,C){return m.setValue(C)},!0),g("mode",null,function(m,C){m.doc.modeOption=C,bl(m)},!0),g("indentUnit",2,bl,!0),g("indentWithTabs",!1),g("smartIndent",!0),g("tabSize",4,function(m){Ra(m),Aa(m),di(m)},!0),g("lineSeparator",null,function(m,C){if(m.doc.lineSep=C,!!C){var T=[],I=m.doc.first;m.doc.iter(function(N){for(var j=0;;){var ie=N.text.indexOf(C,j);if(ie==-1)break;j=ie+C.length,T.push(Ve(I,ie))}I++});for(var F=T.length-1;F>=0;F--)ca(m.doc,C,T[F],Ve(T[F].line,T[F].ch+C.length))}}),g("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(m,C,T){m.state.specialChars=new RegExp(C.source+(C.test("	")?"":"|	"),"g"),T!=pa&&m.refresh()}),g("specialCharPlaceholder",lm,function(m){return m.refresh()},!0),g("electricChars",!0),g("inputStyle",te?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),g("spellcheck",!1,function(m,C){return m.getInputField().spellcheck=C},!0),g("autocorrect",!1,function(m,C){return m.getInputField().autocorrect=C},!0),g("autocapitalize",!1,function(m,C){return m.getInputField().autocapitalize=C},!0),g("rtlMoveVisually",!De),g("wholeLineUpdateBefore",!0),g("theme","default",function(m){vd(m),Ba(m)},!0),g("keyMap","default",function(m,C,T){var I=Xr(C),F=T!=pa&&Xr(T);F&&F.detach&&F.detach(m,I),I.attach&&I.attach(m,F||null)}),g("extraKeys",null),g("configureMouse",null),g("lineWrapping",!1,Lg,!0),g("gutters",[],function(m,C){m.display.gutterSpecs=gl(C,m.options.lineNumbers),Ba(m)},!0),g("fixedGutter",!0,function(m,C){m.display.gutters.style.left=C?sl(m.display)+"px":"0",m.refresh()},!0),g("coverGutterNextToScrollbar",!1,function(m){return ra(m)},!0),g("scrollbarStyle","native",function(m){wc(m),ra(m),m.display.scrollbars.setScrollTop(m.doc.scrollTop),m.display.scrollbars.setScrollLeft(m.doc.scrollLeft)},!0),g("lineNumbers",!1,function(m,C){m.display.gutterSpecs=gl(m.options.gutters,C),Ba(m)},!0),g("firstLineNumber",1,Ba,!0),g("lineNumberFormatter",function(m){return m},Ba,!0),g("showCursorWhenSelecting",!1,Ma,!0),g("resetSelectionOnContextMenu",!0),g("lineWiseCopyCut",!0),g("pasteLinesPerSelection",!0),g("selectionsMayTouch",!1),g("readOnly",!1,function(m,C){C=="nocursor"&&(sa(m),m.display.input.blur()),m.display.input.readOnlyChanged(C)}),g("screenReaderLabel",null,function(m,C){C=C===""?null:C,m.display.input.screenReaderLabelChanged(C)}),g("disableInput",!1,function(m,C){C||m.display.input.reset()},!0),g("dragDrop",!0,Fg),g("allowDropFileTypes",null),g("cursorBlinkRate",530),g("cursorScrollMargin",0),g("cursorHeight",1,Ma,!0),g("singleCursorHeightPerLine",!0,Ma,!0),g("workTime",100),g("workDelay",100),g("flattenSpans",!0,Ra,!0),g("addModeClass",!1,Ra,!0),g("pollInterval",100),g("undoDepth",200,function(m,C){return m.doc.history.undoDepth=C}),g("historyEventDelay",1250),g("viewportMargin",10,function(m){return m.refresh()},!0),g("maxHighlightLength",1e4,Ra,!0),g("moveInputWithCursor",!0,function(m,C){C||m.display.input.resetPosition()}),g("tabindex",null,function(m,C){return m.display.input.getField().tabIndex=C||""}),g("autofocus",null),g("direction","ltr",function(m,C){return m.doc.setDirection(C)},!0),g("phrases",null)}function Fg(s,u,g){var m=g&&g!=pa;if(!u!=!m){var C=s.display.dragFunctions,T=u?ke:ct;T(s.display.scroller,"dragstart",C.start),T(s.display.scroller,"dragenter",C.enter),T(s.display.scroller,"dragover",C.over),T(s.display.scroller,"dragleave",C.leave),T(s.display.scroller,"drop",C.drop)}}function Lg(s){s.options.lineWrapping?(qt(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(et(s.display.wrapper,"CodeMirror-wrap"),Go(s)),al(s),di(s),Aa(s),setTimeout(function(){return ra(s)},100)}function pn(s,u){var g=this;if(!(this instanceof pn))return new pn(s,u);this.options=u=u?un(u):{},un(bd,u,!1);var m=u.value;typeof m=="string"?m=new hi(m,u.mode,null,u.lineSeparator,u.direction):u.mode&&(m.modeOption=u.mode),this.doc=m;var C=new pn.inputStyles[u.inputStyle](this),T=this.display=new Gm(s,m,C,u);T.wrapper.CodeMirror=this,vd(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),wc(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new $t,keySeq:null,specialChars:null},u.autofocus&&!te&&T.input.focus(),k&&S<11&&setTimeout(function(){return g.display.input.reset(!0)},20),Bg(this),fg(),Ps(this),this.curOp.forceUpdate=!0,Mc(this,m),u.autofocus&&!te||this.hasFocus()?setTimeout(function(){g.hasFocus()&&!g.state.focused&&ul(g)},20):sa(this);for(var I in Qr)Qr.hasOwnProperty(I)&&Qr[I](this,u[I],pa);kc(this),u.finishInit&&u.finishInit(this);for(var F=0;F<Al.length;++F)Al[F](this);Fs(this),M&&u.lineWrapping&&getComputedStyle(T.lineDiv).textRendering=="optimizelegibility"&&(T.lineDiv.style.textRendering="auto")}pn.defaults=bd,pn.optionHandlers=Qr;function Bg(s){var u=s.display;ke(u.scroller,"mousedown",Un(s,fd)),k&&S<11?ke(u.scroller,"dblclick",Un(s,function(N){if(!Xe(s,N)){var j=As(s,N);if(!(!j||El(s,N)||Yi(s.display,N))){_t(N);var ie=s.findWordAt(j);jr(s.doc,ie.anchor,ie.head)}}})):ke(u.scroller,"dblclick",function(N){return Xe(s,N)||_t(N)}),ke(u.scroller,"contextmenu",function(N){return gd(s,N)}),ke(u.input.getField(),"contextmenu",function(N){u.scroller.contains(N.target)||gd(s,N)});var g,m={end:0};function C(){u.activeTouch&&(g=setTimeout(function(){return u.activeTouch=null},1e3),m=u.activeTouch,m.end=+new Date)}function T(N){if(N.touches.length!=1)return!1;var j=N.touches[0];return j.radiusX<=1&&j.radiusY<=1}function I(N,j){if(j.left==null)return!0;var ie=j.left-N.left,ce=j.top-N.top;return ie*ie+ce*ce>20*20}ke(u.scroller,"touchstart",function(N){if(!Xe(s,N)&&!T(N)&&!El(s,N)){u.input.ensurePolled(),clearTimeout(g);var j=+new Date;u.activeTouch={start:j,moved:!1,prev:j-m.end<=300?m:null},N.touches.length==1&&(u.activeTouch.left=N.touches[0].pageX,u.activeTouch.top=N.touches[0].pageY)}}),ke(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)}),ke(u.scroller,"touchend",function(N){var j=u.activeTouch;if(j&&!Yi(u,N)&&j.left!=null&&!j.moved&&new Date-j.start<300){var ie=s.coordsChar(u.activeTouch,"page"),ce;!j.prev||I(j,j.prev)?ce=new Xt(ie,ie):!j.prev.prev||I(j,j.prev.prev)?ce=s.findWordAt(ie):ce=new Xt(Ve(ie.line,0),Mt(s.doc,Ve(ie.line+1,0))),s.setSelection(ce.anchor,ce.head),s.focus(),_t(N)}C()}),ke(u.scroller,"touchcancel",C),ke(u.scroller,"scroll",function(){u.scroller.clientHeight&&(Oa(s,u.scroller.scrollTop),Is(s,u.scroller.scrollLeft,!0),dt(s,"scroll",s))}),ke(u.scroller,"mousewheel",function(N){return Tc(s,N)}),ke(u.scroller,"DOMMouseScroll",function(N){return Tc(s,N)}),ke(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0}),u.dragFunctions={enter:function(N){Xe(s,N)||c(N)},over:function(N){Xe(s,N)||(hg(s,N),c(N))},start:function(N){return dg(s,N)},drop:Un(s,cg),leave:function(N){Xe(s,N)||ed(s)}};var F=u.input.getField();ke(F,"keyup",function(N){return dd.call(s,N)}),ke(F,"keydown",Un(s,cd)),ke(F,"keypress",Un(s,hd)),ke(F,"focus",function(N){return ul(s,N)}),ke(F,"blur",function(N){return sa(s,N)})}var Al=[];pn.defineInitHook=function(s){return Al.push(s)};function Ka(s,u,g,m){var C=s.doc,T;g==null&&(g="add"),g=="smart"&&(C.mode.indent?T=D(s,u).state:g="prev");var I=s.options.tabSize,F=ye(C,u),N=Kt(F.text,null,I);F.stateAfter&&(F.stateAfter=null);var j=F.text.match(/^\s*/)[0],ie;if(!m&&!/\S/.test(F.text))ie=0,g="not";else if(g=="smart"&&(ie=C.mode.indent(T,F.text.slice(j.length),F.text),ie==cn||ie>150)){if(!m)return;g="prev"}g=="prev"?u>C.first?ie=Kt(ye(C,u-1).text,null,I):ie=0:g=="add"?ie=N+s.options.indentUnit:g=="subtract"?ie=N-s.options.indentUnit:typeof g=="number"&&(ie=N+g),ie=Math.max(0,ie);var ce="",Ae=0;if(s.options.indentWithTabs)for(var Se=Math.floor(ie/I);Se;--Se)Ae+=I,ce+="	";if(Ae<ie&&(ce+=Kn(ie-Ae)),ce!=j)return ca(C,ce,Ve(u,0),Ve(u,j.length),"+input"),F.stateAfter=null,!0;for(var Ne=0;Ne<C.sel.ranges.length;Ne++){var qe=C.sel.ranges[Ne];if(qe.head.line==u&&qe.head.ch<j.length){var Je=Ve(u,j.length);xl(C,Ne,new Xt(Je,Je));break}}}var Pi=null;function Jr(s){Pi=s}function Ml(s,u,g,m,C){var T=s.doc;s.display.shift=!1,m||(m=T.sel);var I=+new Date-200,F=C=="paste"||s.state.pasteIncoming>I,N=p(u),j=null;if(F&&m.ranges.length>1)if(Pi&&Pi.text.join(`
`)==u){if(m.ranges.length%Pi.text.length==0){j=[];for(var ie=0;ie<Pi.text.length;ie++)j.push(T.splitLines(Pi.text[ie]))}}else N.length==m.ranges.length&&s.options.pasteLinesPerSelection&&(j=xn(N,function(it){return[it]}));for(var ce=s.curOp.updateInput,Ae=m.ranges.length-1;Ae>=0;Ae--){var Se=m.ranges[Ae],Ne=Se.from(),qe=Se.to();Se.empty()&&(g&&g>0?Ne=Ve(Ne.line,Ne.ch-g):s.state.overwrite&&!F?qe=Ve(qe.line,Math.min(ye(T,qe.line).text.length,qe.ch+pt(N).length)):F&&Pi&&Pi.lineWise&&Pi.text.join(`
`)==N.join(`
`)&&(Ne=qe=Ve(Ne.line,0)));var Je={from:Ne,to:qe,text:j?j[Ae%j.length]:N,origin:C||(F?"paste":s.state.cutIncoming>I?"cut":"+input")};ua(s.doc,Je),Vn(s,"inputRead",s,Je)}u&&!F&&wd(s,u),aa(s),s.curOp.updateInput<2&&(s.curOp.updateInput=ce),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function yd(s,u){var g=s.clipboardData&&s.clipboardData.getData("Text");if(g)return s.preventDefault(),!u.isReadOnly()&&!u.options.disableInput&&u.hasFocus()&&bi(u,function(){return Ml(u,g,0,null,"paste")}),!0}function wd(s,u){if(!(!s.options.electricChars||!s.options.smartIndent))for(var g=s.doc.sel,m=g.ranges.length-1;m>=0;m--){var C=g.ranges[m];if(!(C.head.ch>100||m&&g.ranges[m-1].head.line==C.head.line)){var T=s.getModeAt(C.head),I=!1;if(T.electricChars){for(var F=0;F<T.electricChars.length;F++)if(u.indexOf(T.electricChars.charAt(F))>-1){I=Ka(s,C.head.line,"smart");break}}else T.electricInput&&T.electricInput.test(ye(s.doc,C.head.line).text.slice(0,C.head.ch))&&(I=Ka(s,C.head.line,"smart"));I&&Vn(s,"electricInput",s,C.head.line)}}}function Cd(s){for(var u=[],g=[],m=0;m<s.doc.sel.ranges.length;m++){var C=s.doc.sel.ranges[m].head.line,T={anchor:Ve(C,0),head:Ve(C+1,0)};g.push(T),u.push(s.getRange(T.anchor,T.head))}return{text:u,ranges:g}}function Il(s,u,g,m){s.setAttribute("autocorrect",g?"on":"off"),s.setAttribute("autocapitalize",m?"on":"off"),s.setAttribute("spellcheck",!!u)}function xd(){var s=be("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),u=be("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return M?s.style.width="1000px":s.setAttribute("wrap","off"),se&&(s.style.border="1px solid black"),u}function Rg(s){var u=s.optionHandlers,g=s.helpers={};s.prototype={constructor:s,focus:function(){yt(this).focus(),this.display.input.focus()},setOption:function(m,C){var T=this.options,I=T[m];T[m]==C&&m!="mode"||(T[m]=C,u.hasOwnProperty(m)&&Un(this,u[m])(this,C,I),dt(this,"optionChange",this,m))},getOption:function(m){return this.options[m]},getDoc:function(){return this.doc},addKeyMap:function(m,C){this.state.keyMaps[C?"push":"unshift"](Xr(m))},removeKeyMap:function(m){for(var C=this.state.keyMaps,T=0;T<C.length;++T)if(C[T]==m||C[T].name==m)return C.splice(T,1),!0},addOverlay:ii(function(m,C){var T=m.token?m:s.getMode(this.options,m);if(T.startState)throw new Error("Overlays may not be stateful.");li(this.state.overlays,{mode:T,modeSpec:m,opaque:C&&C.opaque,priority:C&&C.priority||0},function(I){return I.priority}),this.state.modeGen++,di(this)}),removeOverlay:ii(function(m){for(var C=this.state.overlays,T=0;T<C.length;++T){var I=C[T].modeSpec;if(I==m||typeof m=="string"&&I.name==m){C.splice(T,1),this.state.modeGen++,di(this);return}}}),indentLine:ii(function(m,C,T){typeof C!="string"&&typeof C!="number"&&(C==null?C=this.options.smartIndent?"smart":"prev":C=C?"add":"subtract"),Jt(this.doc,m)&&Ka(this,m,C,T)}),indentSelection:ii(function(m){for(var C=this.doc.sel.ranges,T=-1,I=0;I<C.length;I++){var F=C[I];if(F.empty())F.head.line>T&&(Ka(this,F.head.line,m,!0),T=F.head.line,I==this.doc.sel.primIndex&&aa(this));else{var N=F.from(),j=F.to(),ie=Math.max(T,N.line);T=Math.min(this.lastLine(),j.line-(j.ch?0:1))+1;for(var ce=ie;ce<T;++ce)Ka(this,ce,m);var Ae=this.doc.sel.ranges;N.ch==0&&C.length==Ae.length&&Ae[I].from().ch>0&&xl(this.doc,I,new Xt(N,Ae[I].to()),hn)}}}),getTokenAt:function(m,C){return Ue(this,m,C)},getLineTokens:function(m,C){return Ue(this,Ve(m),C,!0)},getTokenTypeAt:function(m){m=Mt(this.doc,m);var C=os(this,ye(this.doc,m.line)),T=0,I=(C.length-1)/2,F=m.ch,N;if(F==0)N=C[2];else for(;;){var j=T+I>>1;if((j?C[j*2-1]:0)>=F)I=j;else if(C[j*2+1]<F)T=j+1;else{N=C[j*2+2];break}}var ie=N?N.indexOf("overlay "):-1;return ie<0?N:ie==0?null:N.slice(0,ie-1)},getModeAt:function(m){var C=this.doc.mode;return C.innerMode?s.innerMode(C,this.getTokenAt(m).state).mode:C},getHelper:function(m,C){return this.getHelpers(m,C)[0]},getHelpers:function(m,C){var T=[];if(!g.hasOwnProperty(C))return T;var I=g[C],F=this.getModeAt(m);if(typeof F[C]=="string")I[F[C]]&&T.push(I[F[C]]);else if(F[C])for(var N=0;N<F[C].length;N++){var j=I[F[C][N]];j&&T.push(j)}else F.helperType&&I[F.helperType]?T.push(I[F.helperType]):I[F.name]&&T.push(I[F.name]);for(var ie=0;ie<I._global.length;ie++){var ce=I._global[ie];ce.pred(F,this)&&Ft(T,ce.val)==-1&&T.push(ce.val)}return T},getStateAfter:function(m,C){var T=this.doc;return m=_i(T,m??T.first+T.size-1),D(this,m+1,C).state},cursorCoords:function(m,C){var T,I=this.doc.sel.primary();return m==null?T=I.head:typeof m=="object"?T=Mt(this.doc,m):T=m?I.from():I.to(),Ii(this,T,C||"page")},charCoords:function(m,C){return Fr(this,Mt(this.doc,m),C||"page")},coordsChar:function(m,C){return m=oc(this,m,C||"page"),tl(this,m.left,m.top)},lineAtHeight:function(m,C){return m=oc(this,{top:m,left:0},C||"page").top,jt(this.doc,m+this.display.viewOffset)},heightAtLine:function(m,C,T){var I=!1,F;if(typeof m=="number"){var N=this.doc.first+this.doc.size-1;m<this.doc.first?m=this.doc.first:m>N&&(m=N,I=!0),F=ye(this.doc,m)}else F=m;return Pr(this,F,{top:0,left:0},C||"page",T||I).top+(I?this.doc.height-$i(F):0)},defaultTextHeight:function(){return na(this.display)},defaultCharWidth:function(){return ia(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(m,C,T,I,F){var N=this.display;m=Ii(this,Mt(this.doc,m));var j=m.bottom,ie=m.left;if(C.style.position="absolute",C.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(C),N.sizer.appendChild(C),I=="over")j=m.top;else if(I=="above"||I=="near"){var ce=Math.max(N.wrapper.clientHeight,this.doc.height),Ae=Math.max(N.sizer.clientWidth,N.lineSpace.clientWidth);(I=="above"||m.bottom+C.offsetHeight>ce)&&m.top>C.offsetHeight?j=m.top-C.offsetHeight:m.bottom+C.offsetHeight<=ce&&(j=m.bottom),ie+C.offsetWidth>Ae&&(ie=Ae-C.offsetWidth)}C.style.top=j+"px",C.style.left=C.style.right="",F=="right"?(ie=N.sizer.clientWidth-C.offsetWidth,C.style.right="0px"):(F=="left"?ie=0:F=="middle"&&(ie=(N.sizer.clientWidth-C.offsetWidth)/2),C.style.left=ie+"px"),T&&Fm(this,{left:ie,top:j,right:ie+C.offsetWidth,bottom:j+C.offsetHeight})},triggerOnKeyDown:ii(cd),triggerOnKeyPress:ii(hd),triggerOnKeyUp:dd,triggerOnMouseDown:ii(fd),execCommand:function(m){if($a.hasOwnProperty(m))return $a[m].call(null,this)},triggerElectric:ii(function(m){wd(this,m)}),findPosH:function(m,C,T,I){var F=1;C<0&&(F=-1,C=-C);for(var N=Mt(this.doc,m),j=0;j<C&&(N=Ol(this.doc,N,F,T,I),!N.hitSide);++j);return N},moveH:ii(function(m,C){var T=this;this.extendSelectionsBy(function(I){return T.display.shift||T.doc.extend||I.empty()?Ol(T.doc,I.head,m,C,T.options.rtlMoveVisually):m<0?I.from():I.to()},Nn)}),deleteH:ii(function(m,C){var T=this.doc.sel,I=this.doc;T.somethingSelected()?I.replaceSelection("",null,"+delete"):fa(this,function(F){var N=Ol(I,F.head,m,C,!1);return m<0?{from:N,to:F.head}:{from:F.head,to:N}})}),findPosV:function(m,C,T,I){var F=1,N=I;C<0&&(F=-1,C=-C);for(var j=Mt(this.doc,m),ie=0;ie<C;++ie){var ce=Ii(this,j,"div");if(N==null?N=ce.left:ce.left=N,j=kd(this,ce,F,T),j.hitSide)break}return j},moveV:ii(function(m,C){var T=this,I=this.doc,F=[],N=!this.display.shift&&!I.extend&&I.sel.somethingSelected();if(I.extendSelectionsBy(function(ie){if(N)return m<0?ie.from():ie.to();var ce=Ii(T,ie.head,"div");ie.goalColumn!=null&&(ce.left=ie.goalColumn),F.push(ce.left);var Ae=kd(T,ce,m,C);return C=="page"&&ie==I.sel.primary()&&dl(T,Fr(T,Ae,"div").top-ce.top),Ae},Nn),F.length)for(var j=0;j<I.sel.ranges.length;j++)I.sel.ranges[j].goalColumn=F[j]}),findWordAt:function(m){var C=this.doc,T=ye(C,m.line).text,I=m.ch,F=m.ch;if(T){var N=this.getHelper(m,"wordChars");(m.sticky=="before"||F==T.length)&&I?--I:++F;for(var j=T.charAt(I),ie=X(j,N)?function(ce){return X(ce,N)}:/\s/.test(j)?function(ce){return/\s/.test(ce)}:function(ce){return!/\s/.test(ce)&&!X(ce)};I>0&&ie(T.charAt(I-1));)--I;for(;F<T.length&&ie(T.charAt(F));)++F}return new Xt(Ve(m.line,I),Ve(m.line,F))},toggleOverwrite:function(m){m!=null&&m==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?qt(this.display.cursorDiv,"CodeMirror-overwrite"):et(this.display.cursorDiv,"CodeMirror-overwrite"),dt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Dt(Be(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ii(function(m,C){Ia(this,m,C)}),getScrollInfo:function(){var m=this.display.scroller;return{left:m.scrollLeft,top:m.scrollTop,height:m.scrollHeight-Bi(this)-this.display.barHeight,width:m.scrollWidth-Bi(this)-this.display.barWidth,clientHeight:Qo(this),clientWidth:Ds(this)}},scrollIntoView:ii(function(m,C){m==null?(m={from:this.doc.sel.primary().head,to:null},C==null&&(C=this.options.cursorScrollMargin)):typeof m=="number"?m={from:Ve(m,0),to:null}:m.from==null&&(m={from:m,to:null}),m.to||(m.to=m.from),m.margin=C||0,m.from.line!=null?Lm(this,m):gc(this,m.from,m.to,m.margin)}),setSize:ii(function(m,C){var T=this,I=function(N){return typeof N=="number"||/^\d+$/.test(String(N))?N+"px":N};m!=null&&(this.display.wrapper.style.width=I(m)),C!=null&&(this.display.wrapper.style.height=I(C)),this.options.lineWrapping&&sc(this);var F=this.display.viewFrom;this.doc.iter(F,this.display.viewTo,function(N){if(N.widgets){for(var j=0;j<N.widgets.length;j++)if(N.widgets[j].noHScroll){us(T,F,"widget");break}}++F}),this.curOp.forceUpdate=!0,dt(this,"refresh",this)}),operation:function(m){return bi(this,m)},startOperation:function(){return Ps(this)},endOperation:function(){return Fs(this)},refresh:ii(function(){var m=this.display.cachedTextHeight;di(this),this.curOp.forceUpdate=!0,Aa(this),Ia(this,this.doc.scrollLeft,this.doc.scrollTop),pl(this.display),(m==null||Math.abs(m-na(this.display))>.5||this.options.lineWrapping)&&al(this),dt(this,"refresh",this)}),swapDoc:ii(function(m){var C=this.doc;return C.cm=null,this.state.selectingText&&this.state.selectingText(),Mc(this,m),Aa(this),this.display.input.reset(),Ia(this,m.scrollLeft,m.scrollTop),this.curOp.forceScroll=!0,Vn(this,"swapDoc",this,C),C}),phrase:function(m){var C=this.options.phrases;return C&&Object.prototype.hasOwnProperty.call(C,m)?C[m]:m},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ye(s),s.registerHelper=function(m,C,T){g.hasOwnProperty(m)||(g[m]=s[m]={_global:[]}),g[m][C]=T},s.registerGlobalHelper=function(m,C,T,I){s.registerHelper(m,C,I),g[m]._global.push({pred:T,val:I})}}function Ol(s,u,g,m,C){var T=u,I=g,F=ye(s,u.line),N=C&&s.direction=="rtl"?-g:g;function j(){var lt=u.line+N;return lt<s.first||lt>=s.first+s.size?!1:(u=new Ve(lt,u.ch,u.sticky),F=ye(s,lt))}function ie(lt){var st;if(m=="codepoint"){var ht=F.text.charCodeAt(u.ch+(g>0?0:-1));if(isNaN(ht))st=null;else{var Tt=g>0?ht>=55296&&ht<56320:ht>=56320&&ht<57343;st=new Ve(u.line,Math.max(0,Math.min(F.text.length,u.ch+g*(Tt?2:1))),-g)}}else C?st=bg(s.cm,F,u,g):st=_l(F,u,g);if(st==null)if(!lt&&j())u=Sl(C,s.cm,F,u.line,N);else return!1;else u=st;return!0}if(m=="char"||m=="codepoint")ie();else if(m=="column")ie(!0);else if(m=="word"||m=="group")for(var ce=null,Ae=m=="group",Se=s.cm&&s.cm.getHelper(u,"wordChars"),Ne=!0;!(g<0&&!ie(!Ne));Ne=!1){var qe=F.text.charAt(u.ch)||`
`,Je=X(qe,Se)?"w":Ae&&qe==`
`?"n":!Ae||/\s/.test(qe)?null:"p";if(Ae&&!Ne&&!Je&&(Je="s"),ce&&ce!=Je){g<0&&(g=1,ie(),u.sticky="after");break}if(Je&&(ce=Je),g>0&&!ie(!Ne))break}var it=$r(s,u,T,I,!0);return ni(T,it)&&(it.hitSide=!0),it}function kd(s,u,g,m){var C=s.doc,T=u.left,I;if(m=="page"){var F=Math.min(s.display.wrapper.clientHeight,yt(s).innerHeight||C(s).documentElement.clientHeight),N=Math.max(F-.5*na(s.display),3);I=(g>0?u.bottom:u.top)+g*N}else m=="line"&&(I=g>0?u.bottom+3:u.top-3);for(var j;j=tl(s,T,I),!!j.outside;){if(g<0?I<=0:I>=C.height){j.hitSide=!0;break}I+=g*5}return j}var en=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new $t,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};en.prototype.init=function(s){var u=this,g=this,m=g.cm,C=g.div=s.lineDiv;C.contentEditable=!0,Il(C,m.options.spellcheck,m.options.autocorrect,m.options.autocapitalize);function T(F){for(var N=F.target;N;N=N.parentNode){if(N==C)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(N.className))break}return!1}ke(C,"paste",function(F){!T(F)||Xe(m,F)||yd(F,m)||S<=11&&setTimeout(Un(m,function(){return u.updateFromDOM()}),20)}),ke(C,"compositionstart",function(F){u.composing={data:F.data,done:!1}}),ke(C,"compositionupdate",function(F){u.composing||(u.composing={data:F.data,done:!1})}),ke(C,"compositionend",function(F){u.composing&&(F.data!=u.composing.data&&u.readFromDOMSoon(),u.composing.done=!0)}),ke(C,"touchstart",function(){return g.forceCompositionEnd()}),ke(C,"input",function(){u.composing||u.readFromDOMSoon()});function I(F){if(!(!T(F)||Xe(m,F))){if(m.somethingSelected())Jr({lineWise:!1,text:m.getSelections()}),F.type=="cut"&&m.replaceSelection("",null,"cut");else if(m.options.lineWiseCopyCut){var N=Cd(m);Jr({lineWise:!0,text:N.text}),F.type=="cut"&&m.operation(function(){m.setSelections(N.ranges,0,hn),m.replaceSelection("",null,"cut")})}else return;if(F.clipboardData){F.clipboardData.clearData();var j=Pi.text.join(`
`);if(F.clipboardData.setData("Text",j),F.clipboardData.getData("Text")==j){F.preventDefault();return}}var ie=xd(),ce=ie.firstChild;Il(ce),m.display.lineSpace.insertBefore(ie,m.display.lineSpace.firstChild),ce.value=Pi.text.join(`
`);var Ae=Dt(Ot(C));me(ce),setTimeout(function(){m.display.lineSpace.removeChild(ie),Ae.focus(),Ae==C&&g.showPrimarySelection()},50)}}ke(C,"copy",I),ke(C,"cut",I)},en.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},en.prototype.prepareSelection=function(){var s=fc(this.cm,!1);return s.focus=Dt(Ot(this.div))==this.div,s},en.prototype.showSelection=function(s,u){!s||!this.cm.display.view.length||((s.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(s))},en.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},en.prototype.showPrimarySelection=function(){var s=this.getSelection(),u=this.cm,g=u.doc.sel.primary(),m=g.from(),C=g.to();if(u.display.viewTo==u.display.viewFrom||m.line>=u.display.viewTo||C.line<u.display.viewFrom){s.removeAllRanges();return}var T=Zr(u,s.anchorNode,s.anchorOffset),I=Zr(u,s.focusNode,s.focusOffset);if(!(T&&!T.bad&&I&&!I.bad&&bt(In(T,I),m)==0&&bt(ki(T,I),C)==0)){var F=u.display.view,N=m.line>=u.display.viewFrom&&_d(u,m)||{node:F[0].measure.map[2],offset:0},j=C.line<u.display.viewTo&&_d(u,C);if(!j){var ie=F[F.length-1].measure,ce=ie.maps?ie.maps[ie.maps.length-1]:ie.map;j={node:ce[ce.length-1],offset:ce[ce.length-2]-ce[ce.length-3]}}if(!N||!j){s.removeAllRanges();return}var Ae=s.rangeCount&&s.getRangeAt(0),Se;try{Se=He(N.node,N.offset,j.offset,j.node)}catch{}Se&&(!l&&u.state.focused?(s.collapse(N.node,N.offset),Se.collapsed||(s.removeAllRanges(),s.addRange(Se))):(s.removeAllRanges(),s.addRange(Se)),Ae&&s.anchorNode==null?s.addRange(Ae):l&&this.startGracePeriod()),this.rememberSelection()}},en.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},en.prototype.showMultipleSelections=function(s){gt(this.cm.display.cursorDiv,s.cursors),gt(this.cm.display.selectionDiv,s.selection)},en.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},en.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var u=s.getRangeAt(0).commonAncestorContainer;return ot(this.div,u)},en.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Dt(Ot(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},en.prototype.blur=function(){this.div.blur()},en.prototype.getField=function(){return this.div},en.prototype.supportsTouch=function(){return!0},en.prototype.receivedFocus=function(){var s=this,u=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):bi(this.cm,function(){return u.cm.curOp.selectionChanged=!0});function g(){u.cm.state.focused&&(u.pollSelection(),u.polling.set(u.cm.options.pollInterval,g))}this.polling.set(this.cm.options.pollInterval,g)},en.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},en.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),u=this.cm;if(pe&&R&&this.cm.display.gutterSpecs.length&&Ng(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var g=Zr(u,s.anchorNode,s.anchorOffset),m=Zr(u,s.focusNode,s.focusOffset);g&&m&&bi(u,function(){ei(u.doc,ds(g,m),hn),(g.bad||m.bad)&&(u.curOp.selectionChanged=!0)})}}},en.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,u=s.display,g=s.doc.sel.primary(),m=g.from(),C=g.to();if(m.ch==0&&m.line>s.firstLine()&&(m=Ve(m.line-1,ye(s.doc,m.line-1).length)),C.ch==ye(s.doc,C.line).text.length&&C.line<s.lastLine()&&(C=Ve(C.line+1,0)),m.line<u.viewFrom||C.line>u.viewTo-1)return!1;var T,I,F;m.line==u.viewFrom||(T=Ms(s,m.line))==0?(I=tt(u.view[0].line),F=u.view[0].node):(I=tt(u.view[T].line),F=u.view[T-1].node.nextSibling);var N=Ms(s,C.line),j,ie;if(N==u.view.length-1?(j=u.viewTo-1,ie=u.lineDiv.lastChild):(j=tt(u.view[N+1].line)-1,ie=u.view[N+1].node.previousSibling),!F)return!1;for(var ce=s.doc.splitLines(zg(s,F,ie,I,j)),Ae=$e(s.doc,Ve(I,0),Ve(j,ye(s.doc,j).text.length));ce.length>1&&Ae.length>1;)if(pt(ce)==pt(Ae))ce.pop(),Ae.pop(),j--;else if(ce[0]==Ae[0])ce.shift(),Ae.shift(),I++;else break;for(var Se=0,Ne=0,qe=ce[0],Je=Ae[0],it=Math.min(qe.length,Je.length);Se<it&&qe.charCodeAt(Se)==Je.charCodeAt(Se);)++Se;for(var lt=pt(ce),st=pt(Ae),ht=Math.min(lt.length-(ce.length==1?Se:0),st.length-(Ae.length==1?Se:0));Ne<ht&&lt.charCodeAt(lt.length-Ne-1)==st.charCodeAt(st.length-Ne-1);)++Ne;if(ce.length==1&&Ae.length==1&&I==m.line)for(;Se&&Se>m.ch&&lt.charCodeAt(lt.length-Ne-1)==st.charCodeAt(st.length-Ne-1);)Se--,Ne++;ce[ce.length-1]=lt.slice(0,lt.length-Ne).replace(/^\u200b+/,""),ce[0]=ce[0].slice(Se).replace(/\u200b+$/,"");var Tt=Ve(I,Se),Ct=Ve(j,Ae.length?pt(Ae).length-Ne:0);if(ce.length>1||ce[0]||bt(Tt,Ct))return ca(s.doc,ce,Tt,Ct,"+input"),!0},en.prototype.ensurePolled=function(){this.forceCompositionEnd()},en.prototype.reset=function(){this.forceCompositionEnd()},en.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},en.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},en.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&bi(this.cm,function(){return di(s.cm)})},en.prototype.setUneditable=function(s){s.contentEditable="false"},en.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||Un(this.cm,Ml)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},en.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},en.prototype.onContextMenu=function(){},en.prototype.resetPosition=function(){},en.prototype.needsContentAttribute=!0;function _d(s,u){var g=Jo(s,u.line);if(!g||g.hidden)return null;var m=ye(s.doc,u.line),C=Zu(g,m,u.line),T=fe(m,s.doc.direction),I="left";if(T){var F=Me(T,u.ch);I=F%2?"right":"left"}var N=nc(C.map,u.ch,I);return N.offset=N.collapse=="right"?N.end:N.start,N}function Ng(s){for(var u=s;u;u=u.parentNode)if(/CodeMirror-gutter-wrapper/.test(u.className))return!0;return!1}function ma(s,u){return u&&(s.bad=!0),s}function zg(s,u,g,m,C){var T="",I=!1,F=s.doc.lineSeparator(),N=!1;function j(Se){return function(Ne){return Ne.id==Se}}function ie(){I&&(T+=F,N&&(T+=F),I=N=!1)}function ce(Se){Se&&(ie(),T+=Se)}function Ae(Se){if(Se.nodeType==1){var Ne=Se.getAttribute("cm-text");if(Ne){ce(Ne);return}var qe=Se.getAttribute("cm-marker"),Je;if(qe){var it=s.findMarks(Ve(m,0),Ve(C+1,0),j(+qe));it.length&&(Je=it[0].find(0))&&ce($e(s.doc,Je.from,Je.to).join(F));return}if(Se.getAttribute("contenteditable")=="false")return;var lt=/^(pre|div|p|li|table|br)$/i.test(Se.nodeName);if(!/^br$/i.test(Se.nodeName)&&Se.textContent.length==0)return;lt&&ie();for(var st=0;st<Se.childNodes.length;st++)Ae(Se.childNodes[st]);/^(pre|p)$/i.test(Se.nodeName)&&(N=!0),lt&&(I=!0)}else Se.nodeType==3&&ce(Se.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ae(u),u!=g;)u=u.nextSibling,N=!1;return T}function Zr(s,u,g){var m;if(u==s.display.lineDiv){if(m=s.display.lineDiv.childNodes[g],!m)return ma(s.clipPos(Ve(s.display.viewTo-1)),!0);u=null,g=0}else for(m=u;;m=m.parentNode){if(!m||m==s.display.lineDiv)return null;if(m.parentNode&&m.parentNode==s.display.lineDiv)break}for(var C=0;C<s.display.view.length;C++){var T=s.display.view[C];if(T.node==m)return Hg(T,u,g)}}function Hg(s,u,g){var m=s.text.firstChild,C=!1;if(!u||!ot(m,u))return ma(Ve(tt(s.line),0),!0);if(u==m&&(C=!0,u=m.childNodes[g],g=0,!u)){var T=s.rest?pt(s.rest):s.line;return ma(Ve(tt(T),T.text.length),C)}var I=u.nodeType==3?u:null,F=u;for(!I&&u.childNodes.length==1&&u.firstChild.nodeType==3&&(I=u.firstChild,g&&(g=I.nodeValue.length));F.parentNode!=m;)F=F.parentNode;var N=s.measure,j=N.maps;function ie(Je,it,lt){for(var st=-1;st<(j?j.length:0);st++)for(var ht=st<0?N.map:j[st],Tt=0;Tt<ht.length;Tt+=3){var Ct=ht[Tt+2];if(Ct==Je||Ct==it){var Rt=tt(st<0?s.line:s.rest[st]),ln=ht[Tt]+lt;return(lt<0||Ct!=Je)&&(ln=ht[Tt+(lt?1:0)]),Ve(Rt,ln)}}}var ce=ie(I,F,g);if(ce)return ma(ce,C);for(var Ae=F.nextSibling,Se=I?I.nodeValue.length-g:0;Ae;Ae=Ae.nextSibling){if(ce=ie(Ae,Ae.firstChild,0),ce)return ma(Ve(ce.line,ce.ch-Se),C);Se+=Ae.textContent.length}for(var Ne=F.previousSibling,qe=g;Ne;Ne=Ne.previousSibling){if(ce=ie(Ne,Ne.firstChild,-1),ce)return ma(Ve(ce.line,ce.ch+qe),C);qe+=Ne.textContent.length}}var Dn=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new $t,this.hasSelection=!1,this.composing=null,this.resetting=!1};Dn.prototype.init=function(s){var u=this,g=this,m=this.cm;this.createField(s);var C=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),se&&(C.style.width="0px"),ke(C,"input",function(){k&&S>=9&&u.hasSelection&&(u.hasSelection=null),g.poll()}),ke(C,"paste",function(I){Xe(m,I)||yd(I,m)||(m.state.pasteIncoming=+new Date,g.fastPoll())});function T(I){if(!Xe(m,I)){if(m.somethingSelected())Jr({lineWise:!1,text:m.getSelections()});else if(m.options.lineWiseCopyCut){var F=Cd(m);Jr({lineWise:!0,text:F.text}),I.type=="cut"?m.setSelections(F.ranges,null,hn):(g.prevInput="",C.value=F.text.join(`
`),me(C))}else return;I.type=="cut"&&(m.state.cutIncoming=+new Date)}}ke(C,"cut",T),ke(C,"copy",T),ke(s.scroller,"paste",function(I){if(!(Yi(s,I)||Xe(m,I))){if(!C.dispatchEvent){m.state.pasteIncoming=+new Date,g.focus();return}var F=new Event("paste");F.clipboardData=I.clipboardData,C.dispatchEvent(F)}}),ke(s.lineSpace,"selectstart",function(I){Yi(s,I)||_t(I)}),ke(C,"compositionstart",function(){var I=m.getCursor("from");g.composing&&g.composing.range.clear(),g.composing={start:I,range:m.markText(I,m.getCursor("to"),{className:"CodeMirror-composing"})}}),ke(C,"compositionend",function(){g.composing&&(g.poll(),g.composing.range.clear(),g.composing=null)})},Dn.prototype.createField=function(s){this.wrapper=xd(),this.textarea=this.wrapper.firstChild;var u=this.cm.options;Il(this.textarea,u.spellcheck,u.autocorrect,u.autocapitalize)},Dn.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},Dn.prototype.prepareSelection=function(){var s=this.cm,u=s.display,g=s.doc,m=fc(s);if(s.options.moveInputWithCursor){var C=Ii(s,g.sel.primary().head,"div"),T=u.wrapper.getBoundingClientRect(),I=u.lineDiv.getBoundingClientRect();m.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,C.top+I.top-T.top)),m.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,C.left+I.left-T.left))}return m},Dn.prototype.showSelection=function(s){var u=this.cm,g=u.display;gt(g.cursorDiv,s.cursors),gt(g.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},Dn.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing&&s)){var u=this.cm;if(this.resetting=!0,u.somethingSelected()){this.prevInput="";var g=u.getSelection();this.textarea.value=g,u.state.focused&&me(this.textarea),k&&S>=9&&(this.hasSelection=g)}else s||(this.prevInput=this.textarea.value="",k&&S>=9&&(this.hasSelection=null));this.resetting=!1}},Dn.prototype.getField=function(){return this.textarea},Dn.prototype.supportsTouch=function(){return!1},Dn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!te||Dt(Ot(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Dn.prototype.blur=function(){this.textarea.blur()},Dn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Dn.prototype.receivedFocus=function(){this.slowPoll()},Dn.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},Dn.prototype.fastPoll=function(){var s=!1,u=this;u.pollingFast=!0;function g(){var m=u.poll();!m&&!s?(s=!0,u.polling.set(60,g)):(u.pollingFast=!1,u.slowPoll())}u.polling.set(20,g)},Dn.prototype.poll=function(){var s=this,u=this.cm,g=this.textarea,m=this.prevInput;if(this.contextMenuPending||this.resetting||!u.state.focused||w(g)&&!m&&!this.composing||u.isReadOnly()||u.options.disableInput||u.state.keySeq)return!1;var C=g.value;if(C==m&&!u.somethingSelected())return!1;if(k&&S>=9&&this.hasSelection===C||re&&/[\uf700-\uf7ff]/.test(C))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var T=C.charCodeAt(0);if(T==8203&&!m&&(m="​"),T==8666)return this.reset(),this.cm.execCommand("undo")}for(var I=0,F=Math.min(m.length,C.length);I<F&&m.charCodeAt(I)==C.charCodeAt(I);)++I;return bi(u,function(){Ml(u,C.slice(I),m.length-I,null,s.composing?"*compose":null),C.length>1e3||C.indexOf(`
`)>-1?g.value=s.prevInput="":s.prevInput=C,s.composing&&(s.composing.range.clear(),s.composing.range=u.markText(s.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Dn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Dn.prototype.onKeyPress=function(){k&&S>=9&&(this.hasSelection=null),this.fastPoll()},Dn.prototype.onContextMenu=function(s){var u=this,g=u.cm,m=g.display,C=u.textarea;u.contextMenuPending&&u.contextMenuPending();var T=As(g,s),I=m.scroller.scrollTop;if(!T||J)return;var F=g.options.resetSelectionOnContextMenu;F&&g.doc.sel.contains(T)==-1&&Un(g,ei)(g.doc,ds(T),hn);var N=C.style.cssText,j=u.wrapper.style.cssText,ie=u.wrapper.offsetParent.getBoundingClientRect();u.wrapper.style.cssText="position: static",C.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-ie.top-5)+"px; left: "+(s.clientX-ie.left-5)+`px;
      z-index: 1000; background: `+(k?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ce;M&&(ce=C.ownerDocument.defaultView.scrollY),m.input.focus(),M&&C.ownerDocument.defaultView.scrollTo(null,ce),m.input.reset(),g.somethingSelected()||(C.value=u.prevInput=" "),u.contextMenuPending=Se,m.selForContextMenu=g.doc.sel,clearTimeout(m.detectingSelectAll);function Ae(){if(C.selectionStart!=null){var qe=g.somethingSelected(),Je="​"+(qe?C.value:"");C.value="⇚",C.value=Je,u.prevInput=qe?"":"​",C.selectionStart=1,C.selectionEnd=Je.length,m.selForContextMenu=g.doc.sel}}function Se(){if(u.contextMenuPending==Se&&(u.contextMenuPending=!1,u.wrapper.style.cssText=j,C.style.cssText=N,k&&S<9&&m.scrollbars.setScrollTop(m.scroller.scrollTop=I),C.selectionStart!=null)){(!k||k&&S<9)&&Ae();var qe=0,Je=function(){m.selForContextMenu==g.doc.sel&&C.selectionStart==0&&C.selectionEnd>0&&u.prevInput=="​"?Un(g,Uc)(g):qe++<10?m.detectingSelectAll=setTimeout(Je,500):(m.selForContextMenu=null,m.input.reset())};m.detectingSelectAll=setTimeout(Je,200)}}if(k&&S>=9&&Ae(),at){c(s);var Ne=function(){ct(window,"mouseup",Ne),setTimeout(Se,20)};ke(window,"mouseup",Ne)}else setTimeout(Se,50)},Dn.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},Dn.prototype.setUneditable=function(){},Dn.prototype.needsContentAttribute=!1;function Wg(s,u){if(u=u?un(u):{},u.value=s.value,!u.tabindex&&s.tabIndex&&(u.tabindex=s.tabIndex),!u.placeholder&&s.placeholder&&(u.placeholder=s.placeholder),u.autofocus==null){var g=Dt(Ot(s));u.autofocus=g==s||s.getAttribute("autofocus")!=null&&g==document.body}function m(){s.value=F.getValue()}var C;if(s.form&&(ke(s.form,"submit",m),!u.leaveSubmitMethodAlone)){var T=s.form;C=T.submit;try{var I=T.submit=function(){m(),T.submit=C,T.submit(),T.submit=I}}catch{}}u.finishInit=function(N){N.save=m,N.getTextArea=function(){return s},N.toTextArea=function(){N.toTextArea=isNaN,m(),s.parentNode.removeChild(N.getWrapperElement()),s.style.display="",s.form&&(ct(s.form,"submit",m),!u.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=C))}},s.style.display="none";var F=pn(function(N){return s.parentNode.insertBefore(N,s.nextSibling)},u);return F}function Vg(s){s.off=ct,s.on=ke,s.wheelEventPixels=Xm,s.Doc=hi,s.splitLines=p,s.countColumn=Kt,s.findColumn=vn,s.isWordChar=_e,s.Pass=cn,s.signal=dt,s.Line=Zs,s.changeEnd=hs,s.scrollbarModel=yc,s.Pos=Ve,s.cmpPos=bt,s.modes=B,s.mimeModes=H,s.resolveMode=Z,s.getMode=xe,s.modeExtensions=Ee,s.extendMode=We,s.copyState=z,s.startState=le,s.innerMode=ee,s.commands=$a,s.keyMap=Xi,s.keyName=ad,s.isModifierKey=id,s.lookupKey=ha,s.normalizeKeyMap=vg,s.StringStream=Ce,s.SharedTextMarker=Ua,s.TextMarker=ps,s.LineWidget=Va,s.e_preventDefault=_t,s.e_stopPropagation=Yt,s.e_stop=c,s.addClass=qt,s.contains=ot,s.rmClass=et,s.keyNames=ms}Pg(pn),Rg(pn);var Ug="iter insert remove copy getEditor constructor".split(" ");for(var eo in hi.prototype)hi.prototype.hasOwnProperty(eo)&&Ft(Ug,eo)<0&&(pn.prototype[eo]=function(s){return function(){return s.apply(this.doc,arguments)}}(hi.prototype[eo]));return Ye(hi),pn.inputStyles={textarea:Dn,contenteditable:en},pn.defineMode=function(s){!pn.defaults.mode&&s!="null"&&(pn.defaults.mode=s),V.apply(this,arguments)},pn.defineMIME=K,pn.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),pn.defineMIME("text/plain","null"),pn.defineExtension=function(s,u){pn.prototype[s]=u},pn.defineDocExtension=function(s,u){hi.prototype[s]=u},pn.fromTextArea=Wg,Vg(pn),pn.version="5.65.19",pn})}(Do)),Do.exports}var sf={exports:{}},af;function K1(){return af||(af=1,function(a,t){(function(i){i(Ei())})(function(i){var r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,l=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,f=/[*+-]\s/;i.commands.newlineAndIndentContinueMarkdownList=function(x){if(x.getOption("disableInput"))return i.Pass;for(var k=x.listSelections(),S=[],M=0;M<k.length;M++){var L=k[M].head,R=x.getStateAfter(L.line),q=i.innerMode(x.getMode(),R);if(q.mode.name!=="markdown"&&q.mode.helperType!=="markdown"){x.execCommand("newlineAndIndent");return}else R=q.state;var J=R.list!==!1,ae=R.quote!==0,oe=x.getLine(L.line),ue=r.exec(oe),se=/^\s*$/.test(oe.slice(0,L.ch));if(!k[M].empty()||!J&&!ae||!ue||se){x.execCommand("newlineAndIndent");return}if(l.test(oe)){var pe=ae&&/>\s*$/.test(oe),te=!/>\s*$/.test(oe);(pe||te)&&x.replaceRange("",{line:L.line,ch:0},{line:L.line,ch:L.ch+1}),S[M]=`
`}else{var re=ue[1],Oe=ue[5],De=!(f.test(ue[2])||ue[2].indexOf(">")>=0),Te=De?parseInt(ue[3],10)+1+ue[4]:ue[2].replace("x"," ");S[M]=`
`+re+Te+Oe,De&&b(x,L)}}x.replaceSelections(S)};function b(x,k){var S=k.line,M=0,L=0,R=r.exec(x.getLine(S)),q=R[1];do{M+=1;var J=S+M,ae=x.getLine(J),oe=r.exec(ae);if(oe){var ue=oe[1],se=parseInt(R[3],10)+M-L,pe=parseInt(oe[3],10),te=pe;if(q===ue&&!isNaN(pe))se===pe&&(te=pe+1),se>pe&&(te=se+1),x.replaceRange(ae.replace(r,ue+te+oe[4]+oe[5]),{line:J,ch:0},{line:J,ch:ae.length});else{if(q.length>ue.length||q.length<ue.length&&M===1)return;L+=1}}}while(oe)}})}()),sf.exports}var rf={},of;function Q1(){if(of)return rf;of=1;var a=Ei();return a.commands.tabAndIndentMarkdownList=function(t){var i=t.listSelections(),r=i[0].head,l=t.getStateAfter(r.line),f=l.list!==!1;if(f){t.execCommand("indentMore");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var b=Array(t.options.tabSize+1).join(" ");t.replaceSelection(b)}},a.commands.shiftTabAndUnindentMarkdownList=function(t){var i=t.listSelections(),r=i[0].head,l=t.getStateAfter(r.line),f=l.list!==!1;if(f){t.execCommand("indentLess");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var b=Array(t.options.tabSize+1).join(" ");t.replaceSelection(b)}},rf}var lf={exports:{}},uf;function J1(){return uf||(uf=1,function(a,t){(function(i){i(Ei())})(function(i){i.defineOption("fullScreen",!1,function(f,b,x){x==i.Init&&(x=!1),!x!=!b&&(b?r(f):l(f))});function r(f){var b=f.getWrapperElement();f.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:b.style.width,height:b.style.height},b.style.width="",b.style.height="auto",b.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",f.refresh()}function l(f){var b=f.getWrapperElement();b.className=b.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var x=f.state.fullScreenRestore;b.style.width=x.width,b.style.height=x.height,window.scrollTo(x.scrollLeft,x.scrollTop),f.refresh()}})}()),lf.exports}var cf={exports:{}},df={exports:{}},hf;function Zp(){return hf||(hf=1,function(a,t){(function(i){i(Ei())})(function(i){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},l={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};i.defineMode("xml",function(f,b){var x=f.indentUnit,k={},S=b.htmlMode?r:l;for(var M in S)k[M]=S[M];for(var M in b)k[M]=b[M];var L,R;function q(be,je){function He(qt){return je.tokenize=qt,qt(be,je)}var ot=be.next();if(ot=="<")return be.eat("!")?be.eat("[")?be.match("CDATA[")?He(oe("atom","]]>")):null:be.match("--")?He(oe("comment","-->")):be.match("DOCTYPE",!0,!0)?(be.eatWhile(/[\w\._\-]/),He(ue(1))):null:be.eat("?")?(be.eatWhile(/[\w\._\-]/),je.tokenize=oe("meta","?>"),"meta"):(L=be.eat("/")?"closeTag":"openTag",je.tokenize=J,"tag bracket");if(ot=="&"){var Dt;return be.eat("#")?be.eat("x")?Dt=be.eatWhile(/[a-fA-F\d]/)&&be.eat(";"):Dt=be.eatWhile(/[\d]/)&&be.eat(";"):Dt=be.eatWhile(/[\w\.\-:]/)&&be.eat(";"),Dt?"atom":"error"}else return be.eatWhile(/[^&<]/),null}q.isInText=!0;function J(be,je){var He=be.next();if(He==">"||He=="/"&&be.eat(">"))return je.tokenize=q,L=He==">"?"endTag":"selfcloseTag","tag bracket";if(He=="=")return L="equals",null;if(He=="<"){je.tokenize=q,je.state=Oe,je.tagName=je.tagStart=null;var ot=je.tokenize(be,je);return ot?ot+" tag error":"tag error"}else return/[\'\"]/.test(He)?(je.tokenize=ae(He),je.stringStartCol=be.column(),je.tokenize(be,je)):(be.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function ae(be){var je=function(He,ot){for(;!He.eol();)if(He.next()==be){ot.tokenize=J;break}return"string"};return je.isInAttribute=!0,je}function oe(be,je){return function(He,ot){for(;!He.eol();){if(He.match(je)){ot.tokenize=q;break}He.next()}return be}}function ue(be){return function(je,He){for(var ot;(ot=je.next())!=null;){if(ot=="<")return He.tokenize=ue(be+1),He.tokenize(je,He);if(ot==">")if(be==1){He.tokenize=q;break}else return He.tokenize=ue(be-1),He.tokenize(je,He)}return"meta"}}function se(be){return be&&be.toLowerCase()}function pe(be,je,He){this.prev=be.context,this.tagName=je||"",this.indent=be.indented,this.startOfLine=He,(k.doNotIndent.hasOwnProperty(je)||be.context&&be.context.noIndent)&&(this.noIndent=!0)}function te(be){be.context&&(be.context=be.context.prev)}function re(be,je){for(var He;;){if(!be.context||(He=be.context.tagName,!k.contextGrabbers.hasOwnProperty(se(He))||!k.contextGrabbers[se(He)].hasOwnProperty(se(je))))return;te(be)}}function Oe(be,je,He){return be=="openTag"?(He.tagStart=je.column(),De):be=="closeTag"?Te:Oe}function De(be,je,He){return be=="word"?(He.tagName=je.current(),R="tag",ze):k.allowMissingTagName&&be=="endTag"?(R="tag bracket",ze(be,je,He)):(R="error",De)}function Te(be,je,He){if(be=="word"){var ot=je.current();return He.context&&He.context.tagName!=ot&&k.implicitlyClosed.hasOwnProperty(se(He.context.tagName))&&te(He),He.context&&He.context.tagName==ot||k.matchClosing===!1?(R="tag",Re):(R="tag error",at)}else return k.allowMissingTagName&&be=="endTag"?(R="tag bracket",Re(be,je,He)):(R="error",at)}function Re(be,je,He){return be!="endTag"?(R="error",Re):(te(He),Oe)}function at(be,je,He){return R="error",Re(be,je,He)}function ze(be,je,He){if(be=="word")return R="attribute",et;if(be=="endTag"||be=="selfcloseTag"){var ot=He.tagName,Dt=He.tagStart;return He.tagName=He.tagStart=null,be=="selfcloseTag"||k.autoSelfClosers.hasOwnProperty(se(ot))?re(He,ot):(re(He,ot),He.context=new pe(He,ot,Dt==He.indented)),Oe}return R="error",ze}function et(be,je,He){return be=="equals"?ft:(k.allowMissing||(R="error"),ze(be,je,He))}function ft(be,je,He){return be=="string"?gt:be=="word"&&k.allowUnquoted?(R="string",ze):(R="error",ze(be,je,He))}function gt(be,je,He){return be=="string"?gt:ze(be,je,He)}return{startState:function(be){var je={tokenize:q,state:Oe,indented:be||0,tagName:null,tagStart:null,context:null};return be!=null&&(je.baseIndent=be),je},token:function(be,je){if(!je.tagName&&be.sol()&&(je.indented=be.indentation()),be.eatSpace())return null;L=null;var He=je.tokenize(be,je);return(He||L)&&He!="comment"&&(R=null,je.state=je.state(L||He,be,je),R&&(He=R=="error"?He+" error":R)),He},indent:function(be,je,He){var ot=be.context;if(be.tokenize.isInAttribute)return be.tagStart==be.indented?be.stringStartCol+1:be.indented+x;if(ot&&ot.noIndent)return i.Pass;if(be.tokenize!=J&&be.tokenize!=q)return He?He.match(/^(\s*)/)[0].length:0;if(be.tagName)return k.multilineTagIndentPastTag!==!1?be.tagStart+be.tagName.length+2:be.tagStart+x*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(je))return 0;var Dt=je&&/^<(\/)?([\w_:\.-]*)/.exec(je);if(Dt&&Dt[1])for(;ot;)if(ot.tagName==Dt[2]){ot=ot.prev;break}else if(k.implicitlyClosed.hasOwnProperty(se(ot.tagName)))ot=ot.prev;else break;else if(Dt)for(;ot;){var qt=k.contextGrabbers[se(ot.tagName)];if(qt&&qt.hasOwnProperty(se(Dt[2])))ot=ot.prev;else break}for(;ot&&ot.prev&&!ot.startOfLine;)ot=ot.prev;return ot?ot.indent+x:be.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(be){be.state==ft&&(be.state=ze)},xmlCurrentTag:function(be){return be.tagName?{name:be.tagName,close:be.type=="closeTag"}:null},xmlCurrentContext:function(be){for(var je=[],He=be.context;He;He=He.prev)je.push(He.tagName);return je.reverse()}}}),i.defineMIME("text/xml","xml"),i.defineMIME("application/xml","xml"),i.mimeModes.hasOwnProperty("text/html")||i.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),df.exports}var ff={exports:{}},pf;function Z1(){return pf||(pf=1,function(a,t){(function(i){i(Ei())})(function(i){i.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var r=0;r<i.modeInfo.length;r++){var l=i.modeInfo[r];l.mimes&&(l.mime=l.mimes[0])}i.findModeByMIME=function(f){f=f.toLowerCase();for(var b=0;b<i.modeInfo.length;b++){var x=i.modeInfo[b];if(x.mime==f)return x;if(x.mimes){for(var k=0;k<x.mimes.length;k++)if(x.mimes[k]==f)return x}}if(/\+xml$/.test(f))return i.findModeByMIME("application/xml");if(/\+json$/.test(f))return i.findModeByMIME("application/json")},i.findModeByExtension=function(f){f=f.toLowerCase();for(var b=0;b<i.modeInfo.length;b++){var x=i.modeInfo[b];if(x.ext){for(var k=0;k<x.ext.length;k++)if(x.ext[k]==f)return x}}},i.findModeByFileName=function(f){for(var b=0;b<i.modeInfo.length;b++){var x=i.modeInfo[b];if(x.file&&x.file.test(f))return x}var k=f.lastIndexOf("."),S=k>-1&&f.substring(k+1,f.length);if(S)return i.findModeByExtension(S)},i.findModeByName=function(f){f=f.toLowerCase();for(var b=0;b<i.modeInfo.length;b++){var x=i.modeInfo[b];if(x.name.toLowerCase()==f)return x;if(x.alias){for(var k=0;k<x.alias.length;k++)if(x.alias[k].toLowerCase()==f)return x}}}})}()),ff.exports}var mf;function em(){return mf||(mf=1,function(a,t){(function(i){i(Ei(),Zp(),Z1())})(function(i){i.defineMode("markdown",function(r,l){var f=i.getMode(r,"text/html"),b=f.name=="null";function x(me){if(i.findModeByName){var Y=i.findModeByName(me);Y&&(me=Y.mime||Y.mimes[0])}var Be=i.getMode(r,me);return Be.name=="null"?null:Be}l.highlightFormatting===void 0&&(l.highlightFormatting=!1),l.maxBlockquoteDepth===void 0&&(l.maxBlockquoteDepth=0),l.taskLists===void 0&&(l.taskLists=!1),l.strikethrough===void 0&&(l.strikethrough=!1),l.emoji===void 0&&(l.emoji=!1),l.fencedCodeBlockHighlighting===void 0&&(l.fencedCodeBlockHighlighting=!0),l.fencedCodeBlockDefaultMode===void 0&&(l.fencedCodeBlockDefaultMode="text/plain"),l.xml===void 0&&(l.xml=!0),l.tokenTypeOverrides===void 0&&(l.tokenTypeOverrides={});var k={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var S in k)k.hasOwnProperty(S)&&l.tokenTypeOverrides[S]&&(k[S]=l.tokenTypeOverrides[S]);var M=/^([*\-_])(?:\s*\1){2,}\s*$/,L=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,R=/^\[(x| )\](?=\s)/i,q=l.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,J=/^ {0,3}(?:\={1,}|-{2,})\s*$/,ae=/^[^#!\[\]*_\\<>` "'(~:]+/,oe=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,ue=/^\s*\[[^\]]+?\]:.*$/,se=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,pe="    ";function te(me,Y,Be){return Y.f=Y.inline=Be,Be(me,Y)}function re(me,Y,Be){return Y.f=Y.block=Be,Be(me,Y)}function Oe(me){return!me||!/\S/.test(me.string)}function De(me){if(me.linkTitle=!1,me.linkHref=!1,me.linkText=!1,me.em=!1,me.strong=!1,me.strikethrough=!1,me.quote=0,me.indentedCode=!1,me.f==Re){var Y=b;if(!Y){var Be=i.innerMode(f,me.htmlState);Y=Be.mode.name=="xml"&&Be.state.tagStart===null&&!Be.state.context&&Be.state.tokenize.isInText}Y&&(me.f=ft,me.block=Te,me.htmlState=null)}return me.trailingSpace=0,me.trailingSpaceNewLine=!1,me.prevLine=me.thisLine,me.thisLine={stream:null},null}function Te(me,Y){var Be=me.column()===Y.indentation,Ot=Oe(Y.prevLine.stream),yt=Y.indentedCode,tn=Y.prevLine.hr,un=Y.list!==!1,Kt=(Y.listStack[Y.listStack.length-1]||0)+3;Y.indentedCode=!1;var $t=Y.indentation;if(Y.indentationDiff===null&&(Y.indentationDiff=Y.indentation,un)){for(Y.list=null;$t<Y.listStack[Y.listStack.length-1];)Y.listStack.pop(),Y.listStack.length?Y.indentation=Y.listStack[Y.listStack.length-1]:Y.list=!1;Y.list!==!1&&(Y.indentationDiff=$t-Y.listStack[Y.listStack.length-1])}var Ft=!Ot&&!tn&&!Y.prevLine.header&&(!un||!yt)&&!Y.prevLine.fencedCodeEnd,Ut=(Y.list===!1||tn||Ot)&&Y.indentation<=Kt&&me.match(M),cn=null;if(Y.indentationDiff>=4&&(yt||Y.prevLine.fencedCodeEnd||Y.prevLine.header||Ot))return me.skipToEnd(),Y.indentedCode=!0,k.code;if(me.eatSpace())return null;if(Be&&Y.indentation<=Kt&&(cn=me.match(q))&&cn[1].length<=6)return Y.quote=0,Y.header=cn[1].length,Y.thisLine.header=!0,l.highlightFormatting&&(Y.formatting="header"),Y.f=Y.inline,ze(Y);if(Y.indentation<=Kt&&me.eat(">"))return Y.quote=Be?1:Y.quote+1,l.highlightFormatting&&(Y.formatting="quote"),me.eatSpace(),ze(Y);if(!Ut&&!Y.setext&&Be&&Y.indentation<=Kt&&(cn=me.match(L))){var hn=cn[1]?"ol":"ul";return Y.indentation=$t+me.current().length,Y.list=!0,Y.quote=0,Y.listStack.push(Y.indentation),Y.em=!1,Y.strong=!1,Y.code=!1,Y.strikethrough=!1,l.taskLists&&me.match(R,!1)&&(Y.taskList=!0),Y.f=Y.inline,l.highlightFormatting&&(Y.formatting=["list","list-"+hn]),ze(Y)}else{if(Be&&Y.indentation<=Kt&&(cn=me.match(oe,!0)))return Y.quote=0,Y.fencedEndRE=new RegExp(cn[1]+"+ *$"),Y.localMode=l.fencedCodeBlockHighlighting&&x(cn[2]||l.fencedCodeBlockDefaultMode),Y.localMode&&(Y.localState=i.startState(Y.localMode)),Y.f=Y.block=at,l.highlightFormatting&&(Y.formatting="code-block"),Y.code=-1,ze(Y);if(Y.setext||(!Ft||!un)&&!Y.quote&&Y.list===!1&&!Y.code&&!Ut&&!ue.test(me.string)&&(cn=me.lookAhead(1))&&(cn=cn.match(J)))return Y.setext?(Y.header=Y.setext,Y.setext=0,me.skipToEnd(),l.highlightFormatting&&(Y.formatting="header")):(Y.header=cn[0].charAt(0)=="="?1:2,Y.setext=Y.header),Y.thisLine.header=!0,Y.f=Y.inline,ze(Y);if(Ut)return me.skipToEnd(),Y.hr=!0,Y.thisLine.hr=!0,k.hr;if(me.peek()==="[")return te(me,Y,ot)}return te(me,Y,Y.inline)}function Re(me,Y){var Be=f.token(me,Y.htmlState);if(!b){var Ot=i.innerMode(f,Y.htmlState);(Ot.mode.name=="xml"&&Ot.state.tagStart===null&&!Ot.state.context&&Ot.state.tokenize.isInText||Y.md_inside&&me.current().indexOf(">")>-1)&&(Y.f=ft,Y.block=Te,Y.htmlState=null)}return Be}function at(me,Y){var Be=Y.listStack[Y.listStack.length-1]||0,Ot=Y.indentation<Be,yt=Be+3;if(Y.fencedEndRE&&Y.indentation<=yt&&(Ot||me.match(Y.fencedEndRE))){l.highlightFormatting&&(Y.formatting="code-block");var tn;return Ot||(tn=ze(Y)),Y.localMode=Y.localState=null,Y.block=Te,Y.f=ft,Y.fencedEndRE=null,Y.code=0,Y.thisLine.fencedCodeEnd=!0,Ot?re(me,Y,Y.block):tn}else return Y.localMode?Y.localMode.token(me,Y.localState):(me.skipToEnd(),k.code)}function ze(me){var Y=[];if(me.formatting){Y.push(k.formatting),typeof me.formatting=="string"&&(me.formatting=[me.formatting]);for(var Be=0;Be<me.formatting.length;Be++)Y.push(k.formatting+"-"+me.formatting[Be]),me.formatting[Be]==="header"&&Y.push(k.formatting+"-"+me.formatting[Be]+"-"+me.header),me.formatting[Be]==="quote"&&(!l.maxBlockquoteDepth||l.maxBlockquoteDepth>=me.quote?Y.push(k.formatting+"-"+me.formatting[Be]+"-"+me.quote):Y.push("error"))}if(me.taskOpen)return Y.push("meta"),Y.length?Y.join(" "):null;if(me.taskClosed)return Y.push("property"),Y.length?Y.join(" "):null;if(me.linkHref?Y.push(k.linkHref,"url"):(me.strong&&Y.push(k.strong),me.em&&Y.push(k.em),me.strikethrough&&Y.push(k.strikethrough),me.emoji&&Y.push(k.emoji),me.linkText&&Y.push(k.linkText),me.code&&Y.push(k.code),me.image&&Y.push(k.image),me.imageAltText&&Y.push(k.imageAltText,"link"),me.imageMarker&&Y.push(k.imageMarker)),me.header&&Y.push(k.header,k.header+"-"+me.header),me.quote&&(Y.push(k.quote),!l.maxBlockquoteDepth||l.maxBlockquoteDepth>=me.quote?Y.push(k.quote+"-"+me.quote):Y.push(k.quote+"-"+l.maxBlockquoteDepth)),me.list!==!1){var Ot=(me.listStack.length-1)%3;Ot?Ot===1?Y.push(k.list2):Y.push(k.list3):Y.push(k.list1)}return me.trailingSpaceNewLine?Y.push("trailing-space-new-line"):me.trailingSpace&&Y.push("trailing-space-"+(me.trailingSpace%2?"a":"b")),Y.length?Y.join(" "):null}function et(me,Y){if(me.match(ae,!0))return ze(Y)}function ft(me,Y){var Be=Y.text(me,Y);if(typeof Be<"u")return Be;if(Y.list)return Y.list=null,ze(Y);if(Y.taskList){var Ot=me.match(R,!0)[1]===" ";return Ot?Y.taskOpen=!0:Y.taskClosed=!0,l.highlightFormatting&&(Y.formatting="task"),Y.taskList=!1,ze(Y)}if(Y.taskOpen=!1,Y.taskClosed=!1,Y.header&&me.match(/^#+$/,!0))return l.highlightFormatting&&(Y.formatting="header"),ze(Y);var yt=me.next();if(Y.linkTitle){Y.linkTitle=!1;var tn=yt;yt==="("&&(tn=")"),tn=(tn+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var un="^\\s*(?:[^"+tn+"\\\\]+|\\\\\\\\|\\\\.)"+tn;if(me.match(new RegExp(un),!0))return k.linkHref}if(yt==="`"){var Kt=Y.formatting;l.highlightFormatting&&(Y.formatting="code"),me.eatWhile("`");var $t=me.current().length;if(Y.code==0&&(!Y.quote||$t==1))return Y.code=$t,ze(Y);if($t==Y.code){var Ft=ze(Y);return Y.code=0,Ft}else return Y.formatting=Kt,ze(Y)}else if(Y.code)return ze(Y);if(yt==="\\"&&(me.next(),l.highlightFormatting)){var Ut=ze(Y),cn=k.formatting+"-escape";return Ut?Ut+" "+cn:cn}if(yt==="!"&&me.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Y.imageMarker=!0,Y.image=!0,l.highlightFormatting&&(Y.formatting="image"),ze(Y);if(yt==="["&&Y.imageMarker&&me.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Y.imageMarker=!1,Y.imageAltText=!0,l.highlightFormatting&&(Y.formatting="image"),ze(Y);if(yt==="]"&&Y.imageAltText){l.highlightFormatting&&(Y.formatting="image");var Ut=ze(Y);return Y.imageAltText=!1,Y.image=!1,Y.inline=Y.f=be,Ut}if(yt==="["&&!Y.image)return Y.linkText&&me.match(/^.*?\]/)||(Y.linkText=!0,l.highlightFormatting&&(Y.formatting="link")),ze(Y);if(yt==="]"&&Y.linkText){l.highlightFormatting&&(Y.formatting="link");var Ut=ze(Y);return Y.linkText=!1,Y.inline=Y.f=me.match(/\(.*?\)| ?\[.*?\]/,!1)?be:ft,Ut}if(yt==="<"&&me.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=gt,l.highlightFormatting&&(Y.formatting="link");var Ut=ze(Y);return Ut?Ut+=" ":Ut="",Ut+k.linkInline}if(yt==="<"&&me.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=gt,l.highlightFormatting&&(Y.formatting="link");var Ut=ze(Y);return Ut?Ut+=" ":Ut="",Ut+k.linkEmail}if(l.xml&&yt==="<"&&me.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var hn=me.string.indexOf(">",me.pos);if(hn!=-1){var Ge=me.string.substring(me.start,hn);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Ge)&&(Y.md_inside=!0)}return me.backUp(1),Y.htmlState=i.startState(f),re(me,Y,Re)}if(l.xml&&yt==="<"&&me.match(/^\/\w*?>/))return Y.md_inside=!1,"tag";if(yt==="*"||yt==="_"){for(var Nn=1,vn=me.pos==1?" ":me.string.charAt(me.pos-2);Nn<3&&me.eat(yt);)Nn++;var dn=me.peek()||" ",Kn=!/\s/.test(dn)&&(!se.test(dn)||/\s/.test(vn)||se.test(vn)),pt=!/\s/.test(vn)&&(!se.test(vn)||/\s/.test(dn)||se.test(dn)),xn=null,li=null;if(Nn%2&&(!Y.em&&Kn&&(yt==="*"||!pt||se.test(vn))?xn=!0:Y.em==yt&&pt&&(yt==="*"||!Kn||se.test(dn))&&(xn=!1)),Nn>1&&(!Y.strong&&Kn&&(yt==="*"||!pt||se.test(vn))?li=!0:Y.strong==yt&&pt&&(yt==="*"||!Kn||se.test(dn))&&(li=!1)),li!=null||xn!=null){l.highlightFormatting&&(Y.formatting=xn==null?"strong":li==null?"em":"strong em"),xn===!0&&(Y.em=yt),li===!0&&(Y.strong=yt);var Ft=ze(Y);return xn===!1&&(Y.em=!1),li===!1&&(Y.strong=!1),Ft}}else if(yt===" "&&(me.eat("*")||me.eat("_"))){if(me.peek()===" ")return ze(Y);me.backUp(1)}if(l.strikethrough){if(yt==="~"&&me.eatWhile(yt)){if(Y.strikethrough){l.highlightFormatting&&(Y.formatting="strikethrough");var Ft=ze(Y);return Y.strikethrough=!1,Ft}else if(me.match(/^[^\s]/,!1))return Y.strikethrough=!0,l.highlightFormatting&&(Y.formatting="strikethrough"),ze(Y)}else if(yt===" "&&me.match("~~",!0)){if(me.peek()===" ")return ze(Y);me.backUp(2)}}if(l.emoji&&yt===":"&&me.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Y.emoji=!0,l.highlightFormatting&&(Y.formatting="emoji");var xi=ze(Y);return Y.emoji=!1,xi}return yt===" "&&(me.match(/^ +$/,!1)?Y.trailingSpace++:Y.trailingSpace&&(Y.trailingSpaceNewLine=!0)),ze(Y)}function gt(me,Y){var Be=me.next();if(Be===">"){Y.f=Y.inline=ft,l.highlightFormatting&&(Y.formatting="link");var Ot=ze(Y);return Ot?Ot+=" ":Ot="",Ot+k.linkInline}return me.match(/^[^>]+/,!0),k.linkInline}function be(me,Y){if(me.eatSpace())return null;var Be=me.next();return Be==="("||Be==="["?(Y.f=Y.inline=He(Be==="("?")":"]"),l.highlightFormatting&&(Y.formatting="link-string"),Y.linkHref=!0,ze(Y)):"error"}var je={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function He(me){return function(Y,Be){var Ot=Y.next();if(Ot===me){Be.f=Be.inline=ft,l.highlightFormatting&&(Be.formatting="link-string");var yt=ze(Be);return Be.linkHref=!1,yt}return Y.match(je[me]),Be.linkHref=!0,ze(Be)}}function ot(me,Y){return me.match(/^([^\]\\]|\\.)*\]:/,!1)?(Y.f=Dt,me.next(),l.highlightFormatting&&(Y.formatting="link"),Y.linkText=!0,ze(Y)):te(me,Y,ft)}function Dt(me,Y){if(me.match("]:",!0)){Y.f=Y.inline=qt,l.highlightFormatting&&(Y.formatting="link");var Be=ze(Y);return Y.linkText=!1,Be}return me.match(/^([^\]\\]|\\.)+/,!0),k.linkText}function qt(me,Y){return me.eatSpace()?null:(me.match(/^[^\s]+/,!0),me.peek()===void 0?Y.linkTitle=!0:me.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Y.f=Y.inline=ft,k.linkHref+" url")}var Rn={startState:function(){return{f:Te,prevLine:{stream:null},thisLine:{stream:null},block:Te,htmlState:null,indentation:0,inline:ft,text:et,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(me){return{f:me.f,prevLine:me.prevLine,thisLine:me.thisLine,block:me.block,htmlState:me.htmlState&&i.copyState(f,me.htmlState),indentation:me.indentation,localMode:me.localMode,localState:me.localMode?i.copyState(me.localMode,me.localState):null,inline:me.inline,text:me.text,formatting:!1,linkText:me.linkText,linkTitle:me.linkTitle,linkHref:me.linkHref,code:me.code,em:me.em,strong:me.strong,strikethrough:me.strikethrough,emoji:me.emoji,header:me.header,setext:me.setext,hr:me.hr,taskList:me.taskList,list:me.list,listStack:me.listStack.slice(0),quote:me.quote,indentedCode:me.indentedCode,trailingSpace:me.trailingSpace,trailingSpaceNewLine:me.trailingSpaceNewLine,md_inside:me.md_inside,fencedEndRE:me.fencedEndRE}},token:function(me,Y){if(Y.formatting=!1,me!=Y.thisLine.stream){if(Y.header=0,Y.hr=!1,me.match(/^\s*$/,!0))return De(Y),null;if(Y.prevLine=Y.thisLine,Y.thisLine={stream:me},Y.taskList=!1,Y.trailingSpace=0,Y.trailingSpaceNewLine=!1,!Y.localState&&(Y.f=Y.block,Y.f!=Re)){var Be=me.match(/^\s*/,!0)[0].replace(/\t/g,pe).length;if(Y.indentation=Be,Y.indentationDiff=null,Be>0)return null}}return Y.f(me,Y)},innerMode:function(me){return me.block==Re?{state:me.htmlState,mode:f}:me.localState?{state:me.localState,mode:me.localMode}:{state:me,mode:Rn}},indent:function(me,Y,Be){return me.block==Re&&f.indent?f.indent(me.htmlState,Y,Be):me.localState&&me.localMode.indent?me.localMode.indent(me.localState,Y,Be):i.Pass},blankLine:De,getType:ze,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Rn},"xml"),i.defineMIME("text/markdown","markdown"),i.defineMIME("text/x-markdown","markdown")})}()),cf.exports}var gf={exports:{}},vf;function tm(){return vf||(vf=1,function(a,t){(function(i){i(Ei())})(function(i){i.overlayMode=function(r,l,f){return{startState:function(){return{base:i.startState(r),overlay:i.startState(l),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(b){return{base:i.copyState(r,b.base),overlay:i.copyState(l,b.overlay),basePos:b.basePos,baseCur:null,overlayPos:b.overlayPos,overlayCur:null}},token:function(b,x){return(b!=x.streamSeen||Math.min(x.basePos,x.overlayPos)<b.start)&&(x.streamSeen=b,x.basePos=x.overlayPos=b.start),b.start==x.basePos&&(x.baseCur=r.token(b,x.base),x.basePos=b.pos),b.start==x.overlayPos&&(b.pos=b.start,x.overlayCur=l.token(b,x.overlay),x.overlayPos=b.pos),b.pos=Math.min(x.basePos,x.overlayPos),x.overlayCur==null?x.baseCur:x.baseCur!=null&&x.overlay.combineTokens||f&&x.overlay.combineTokens==null?x.baseCur+" "+x.overlayCur:x.overlayCur},indent:r.indent&&function(b,x,k){return r.indent(b.base,x,k)},electricChars:r.electricChars,innerMode:function(b){return{state:b.base,mode:r}},blankLine:function(b){var x,k;return r.blankLine&&(x=r.blankLine(b.base)),l.blankLine&&(k=l.blankLine(b.overlay)),k==null?x:f&&x!=null?x+" "+k:k}}}})}()),gf.exports}var bf={exports:{}},yf;function ek(){return yf||(yf=1,function(a,t){(function(i){i(Ei())})(function(i){i.defineOption("placeholder","",function(S,M,L){var R=L&&L!=i.Init;if(M&&!R)S.on("blur",b),S.on("change",x),S.on("swapDoc",x),i.on(S.getInputField(),"compositionupdate",S.state.placeholderCompose=function(){f(S)}),x(S);else if(!M&&R){S.off("blur",b),S.off("change",x),S.off("swapDoc",x),i.off(S.getInputField(),"compositionupdate",S.state.placeholderCompose),r(S);var q=S.getWrapperElement();q.className=q.className.replace(" CodeMirror-empty","")}M&&!S.hasFocus()&&b(S)});function r(S){S.state.placeholder&&(S.state.placeholder.parentNode.removeChild(S.state.placeholder),S.state.placeholder=null)}function l(S){r(S);var M=S.state.placeholder=document.createElement("pre");M.style.cssText="height: 0; overflow: visible",M.style.direction=S.getOption("direction"),M.className="CodeMirror-placeholder CodeMirror-line-like";var L=S.getOption("placeholder");typeof L=="string"&&(L=document.createTextNode(L)),M.appendChild(L),S.display.lineSpace.insertBefore(M,S.display.lineSpace.firstChild)}function f(S){setTimeout(function(){var M=!1;if(S.lineCount()==1){var L=S.getInputField();M=L.nodeName=="TEXTAREA"?!S.getLine(0).length:!/[^\u200b]/.test(L.querySelector(".CodeMirror-line").textContent)}M?l(S):r(S)},20)}function b(S){k(S)&&l(S)}function x(S){var M=S.getWrapperElement(),L=k(S);M.className=M.className.replace(" CodeMirror-empty","")+(L?" CodeMirror-empty":""),L?l(S):r(S)}function k(S){return S.lineCount()===1&&S.getLine(0)===""}})}()),bf.exports}var wf={exports:{}},Cf;function tk(){return Cf||(Cf=1,function(a,t){(function(i){i(Ei())})(function(i){i.defineOption("autoRefresh",!1,function(f,b){f.state.autoRefresh&&(l(f,f.state.autoRefresh),f.state.autoRefresh=null),b&&f.display.wrapper.offsetHeight==0&&r(f,f.state.autoRefresh={delay:b.delay||250})});function r(f,b){function x(){f.display.wrapper.offsetHeight?(l(f,b),f.display.lastWrapHeight!=f.display.wrapper.clientHeight&&f.refresh()):b.timeout=setTimeout(x,b.delay)}b.timeout=setTimeout(x,b.delay),b.hurry=function(){clearTimeout(b.timeout),b.timeout=setTimeout(x,50)},i.on(window,"mouseup",b.hurry),i.on(window,"keyup",b.hurry)}function l(f,b){clearTimeout(b.timeout),i.off(window,"mouseup",b.hurry),i.off(window,"keyup",b.hurry)}})}()),wf.exports}var xf={exports:{}},kf;function nk(){return kf||(kf=1,function(a,t){(function(i){i(Ei())})(function(i){i.defineOption("styleSelectedText",!1,function(R,q,J){var ae=J&&J!=i.Init;q&&!ae?(R.state.markedSelection=[],R.state.markedSelectionStyle=typeof q=="string"?q:"CodeMirror-selectedtext",M(R),R.on("cursorActivity",r),R.on("change",l)):!q&&ae&&(R.off("cursorActivity",r),R.off("change",l),S(R),R.state.markedSelection=R.state.markedSelectionStyle=null)});function r(R){R.state.markedSelection&&R.operation(function(){L(R)})}function l(R){R.state.markedSelection&&R.state.markedSelection.length&&R.operation(function(){S(R)})}var f=8,b=i.Pos,x=i.cmpPos;function k(R,q,J,ae){if(x(q,J)!=0)for(var oe=R.state.markedSelection,ue=R.state.markedSelectionStyle,se=q.line;;){var pe=se==q.line?q:b(se,0),te=se+f,re=te>=J.line,Oe=re?J:b(te,0),De=R.markText(pe,Oe,{className:ue});if(ae==null?oe.push(De):oe.splice(ae++,0,De),re)break;se=te}}function S(R){for(var q=R.state.markedSelection,J=0;J<q.length;++J)q[J].clear();q.length=0}function M(R){S(R);for(var q=R.listSelections(),J=0;J<q.length;J++)k(R,q[J].from(),q[J].to())}function L(R){if(!R.somethingSelected())return S(R);if(R.listSelections().length>1)return M(R);var q=R.getCursor("start"),J=R.getCursor("end"),ae=R.state.markedSelection;if(!ae.length)return k(R,q,J);var oe=ae[0].find(),ue=ae[ae.length-1].find();if(!oe||!ue||J.line-q.line<=f||x(q,ue.to)>=0||x(J,oe.from)<=0)return M(R);for(;x(q,oe.from)>0;)ae.shift().clear(),oe=ae[0].find();for(x(q,oe.from)<0&&(oe.to.line-q.line<f?(ae.shift().clear(),k(R,q,oe.to,0)):k(R,q,oe.from,0));x(J,ue.to)<0;)ae.pop().clear(),ue=ae[ae.length-1].find();x(J,ue.to)>0&&(J.line-ue.from.line<f?(ae.pop().clear(),k(R,ue.from,J)):k(R,ue.to,J))}})}()),xf.exports}var _f={exports:{}},Sf;function ik(){return Sf||(Sf=1,function(a,t){(function(i){i(Ei())})(function(i){var r=i.Pos;function l(se){var pe=se.flags;return pe??(se.ignoreCase?"i":"")+(se.global?"g":"")+(se.multiline?"m":"")}function f(se,pe){for(var te=l(se),re=te,Oe=0;Oe<pe.length;Oe++)re.indexOf(pe.charAt(Oe))==-1&&(re+=pe.charAt(Oe));return te==re?se:new RegExp(se.source,re)}function b(se){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(se.source)}function x(se,pe,te){pe=f(pe,"g");for(var re=te.line,Oe=te.ch,De=se.lastLine();re<=De;re++,Oe=0){pe.lastIndex=Oe;var Te=se.getLine(re),Re=pe.exec(Te);if(Re)return{from:r(re,Re.index),to:r(re,Re.index+Re[0].length),match:Re}}}function k(se,pe,te){if(!b(pe))return x(se,pe,te);pe=f(pe,"gm");for(var re,Oe=1,De=te.line,Te=se.lastLine();De<=Te;){for(var Re=0;Re<Oe&&!(De>Te);Re++){var at=se.getLine(De++);re=re==null?at:re+`
`+at}Oe=Oe*2,pe.lastIndex=te.ch;var ze=pe.exec(re);if(ze){var et=re.slice(0,ze.index).split(`
`),ft=ze[0].split(`
`),gt=te.line+et.length-1,be=et[et.length-1].length;return{from:r(gt,be),to:r(gt+ft.length-1,ft.length==1?be+ft[0].length:ft[ft.length-1].length),match:ze}}}}function S(se,pe,te){for(var re,Oe=0;Oe<=se.length;){pe.lastIndex=Oe;var De=pe.exec(se);if(!De)break;var Te=De.index+De[0].length;if(Te>se.length-te)break;(!re||Te>re.index+re[0].length)&&(re=De),Oe=De.index+1}return re}function M(se,pe,te){pe=f(pe,"g");for(var re=te.line,Oe=te.ch,De=se.firstLine();re>=De;re--,Oe=-1){var Te=se.getLine(re),Re=S(Te,pe,Oe<0?0:Te.length-Oe);if(Re)return{from:r(re,Re.index),to:r(re,Re.index+Re[0].length),match:Re}}}function L(se,pe,te){if(!b(pe))return M(se,pe,te);pe=f(pe,"gm");for(var re,Oe=1,De=se.getLine(te.line).length-te.ch,Te=te.line,Re=se.firstLine();Te>=Re;){for(var at=0;at<Oe&&Te>=Re;at++){var ze=se.getLine(Te--);re=re==null?ze:ze+`
`+re}Oe*=2;var et=S(re,pe,De);if(et){var ft=re.slice(0,et.index).split(`
`),gt=et[0].split(`
`),be=Te+ft.length,je=ft[ft.length-1].length;return{from:r(be,je),to:r(be+gt.length-1,gt.length==1?je+gt[0].length:gt[gt.length-1].length),match:et}}}}var R,q;String.prototype.normalize?(R=function(se){return se.normalize("NFD").toLowerCase()},q=function(se){return se.normalize("NFD")}):(R=function(se){return se.toLowerCase()},q=function(se){return se});function J(se,pe,te,re){if(se.length==pe.length)return te;for(var Oe=0,De=te+Math.max(0,se.length-pe.length);;){if(Oe==De)return Oe;var Te=Oe+De>>1,Re=re(se.slice(0,Te)).length;if(Re==te)return Te;Re>te?De=Te:Oe=Te+1}}function ae(se,pe,te,re){if(!pe.length)return null;var Oe=re?R:q,De=Oe(pe).split(/\r|\n\r?/);e:for(var Te=te.line,Re=te.ch,at=se.lastLine()+1-De.length;Te<=at;Te++,Re=0){var ze=se.getLine(Te).slice(Re),et=Oe(ze);if(De.length==1){var ft=et.indexOf(De[0]);if(ft==-1)continue e;var te=J(ze,et,ft,Oe)+Re;return{from:r(Te,J(ze,et,ft,Oe)+Re),to:r(Te,J(ze,et,ft+De[0].length,Oe)+Re)}}else{var gt=et.length-De[0].length;if(et.slice(gt)!=De[0])continue e;for(var be=1;be<De.length-1;be++)if(Oe(se.getLine(Te+be))!=De[be])continue e;var je=se.getLine(Te+De.length-1),He=Oe(je),ot=De[De.length-1];if(He.slice(0,ot.length)!=ot)continue e;return{from:r(Te,J(ze,et,gt,Oe)+Re),to:r(Te+De.length-1,J(je,He,ot.length,Oe))}}}}function oe(se,pe,te,re){if(!pe.length)return null;var Oe=re?R:q,De=Oe(pe).split(/\r|\n\r?/);e:for(var Te=te.line,Re=te.ch,at=se.firstLine()-1+De.length;Te>=at;Te--,Re=-1){var ze=se.getLine(Te);Re>-1&&(ze=ze.slice(0,Re));var et=Oe(ze);if(De.length==1){var ft=et.lastIndexOf(De[0]);if(ft==-1)continue e;return{from:r(Te,J(ze,et,ft,Oe)),to:r(Te,J(ze,et,ft+De[0].length,Oe))}}else{var gt=De[De.length-1];if(et.slice(0,gt.length)!=gt)continue e;for(var be=1,te=Te-De.length+1;be<De.length-1;be++)if(Oe(se.getLine(te+be))!=De[be])continue e;var je=se.getLine(Te+1-De.length),He=Oe(je);if(He.slice(He.length-De[0].length)!=De[0])continue e;return{from:r(Te+1-De.length,J(je,He,je.length-De[0].length,Oe)),to:r(Te,J(ze,et,gt.length,Oe))}}}}function ue(se,pe,te,re){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=se,te=te?se.clipPos(te):r(0,0),this.pos={from:te,to:te};var Oe;typeof re=="object"?Oe=re.caseFold:(Oe=re,re=null),typeof pe=="string"?(Oe==null&&(Oe=!1),this.matches=function(De,Te){return(De?oe:ae)(se,pe,Te,Oe)}):(pe=f(pe,"gm"),!re||re.multiline!==!1?this.matches=function(De,Te){return(De?L:k)(se,pe,Te)}:this.matches=function(De,Te){return(De?M:x)(se,pe,Te)})}ue.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(se){var pe=this.doc.clipPos(se?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(pe=r(pe.line,pe.ch),se?(pe.ch--,pe.ch<0&&(pe.line--,pe.ch=(this.doc.getLine(pe.line)||"").length)):(pe.ch++,pe.ch>(this.doc.getLine(pe.line)||"").length&&(pe.ch=0,pe.line++)),i.cmpPos(pe,this.doc.clipPos(pe))!=0))return this.atOccurrence=!1;var te=this.matches(se,pe);if(this.afterEmptyMatch=te&&i.cmpPos(te.from,te.to)==0,te)return this.pos=te,this.atOccurrence=!0,this.pos.match||!0;var re=r(se?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:re,to:re},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(se,pe){if(this.atOccurrence){var te=i.splitLines(se);this.doc.replaceRange(te,this.pos.from,this.pos.to,pe),this.pos.to=r(this.pos.from.line+te.length-1,te[te.length-1].length+(te.length==1?this.pos.from.ch:0))}}},i.defineExtension("getSearchCursor",function(se,pe,te){return new ue(this.doc,se,pe,te)}),i.defineDocExtension("getSearchCursor",function(se,pe,te){return new ue(this,se,pe,te)}),i.defineExtension("selectMatches",function(se,pe){for(var te=[],re=this.getSearchCursor(se,this.getCursor("from"),pe);re.findNext()&&!(i.cmpPos(re.to(),this.getCursor("to"))>0);)te.push({anchor:re.from(),head:re.to()});te.length&&this.setSelections(te,0)})})}()),_f.exports}var Tf={exports:{}},Df;function sk(){return Df||(Df=1,function(a,t){(function(i){i(Ei(),em(),tm())})(function(i){var r=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;i.defineMode("gfm",function(l,f){var b=0;function x(L){return L.code=!1,null}var k={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(L){return{code:L.code,codeBlock:L.codeBlock,ateSpace:L.ateSpace}},token:function(L,R){if(R.combineTokens=null,R.codeBlock)return L.match(/^```+/)?(R.codeBlock=!1,null):(L.skipToEnd(),null);if(L.sol()&&(R.code=!1),L.sol()&&L.match(/^```+/))return L.skipToEnd(),R.codeBlock=!0,null;if(L.peek()==="`"){L.next();var q=L.pos;L.eatWhile("`");var J=1+L.pos-q;return R.code?J===b&&(R.code=!1):(b=J,R.code=!0),null}else if(R.code)return L.next(),null;if(L.eatSpace())return R.ateSpace=!0,null;if((L.sol()||R.ateSpace)&&(R.ateSpace=!1,f.gitHubSpice!==!1)){if(L.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return R.combineTokens=!0,"link";if(L.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return R.combineTokens=!0,"link"}return L.match(r)&&L.string.slice(L.start-2,L.start)!="]("&&(L.start==0||/\W/.test(L.string.charAt(L.start-1)))?(R.combineTokens=!0,"link"):(L.next(),null)},blankLine:x},S={taskLists:!0,strikethrough:!0,emoji:!0};for(var M in f)S[M]=f[M];return S.name="markdown",i.overlayMode(i.getMode(l,S),k)},"markdown"),i.defineMIME("text/x-gfm","gfm")})}()),Tf.exports}var Kl={exports:{}};const ak={},rk=Object.freeze(Object.defineProperty({__proto__:null,default:ak},Symbol.toStringTag,{value:"Module"})),ok=Gg(rk);var Ef;function lk(){return Ef||(Ef=1,function(a){var t;(function(){t=function(i,r,l,f){f=f||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=f.flags||{},this.memoized={},this.loaded=!1;var b=this,x,k,S,M,L;if(i)if(b.dictionary=i,r&&l)oe();else if(typeof window<"u"&&(window.chrome||window.browser)){var R=window.chrome&&window.chrome.runtime?window.chrome.runtime:browser.runtime;f.dictionaryPath?x=f.dictionaryPath:x="typo/dictionaries",r||q(R.getURL(x+"/"+i+"/"+i+".aff"),J),l||q(R.getURL(x+"/"+i+"/"+i+".dic"),ae)}else f.dictionaryPath?x=f.dictionaryPath:typeof __dirname<"u"?x=__dirname+"/dictionaries":x="./dictionaries",r||q(x+"/"+i+"/"+i+".aff",J),l||q(x+"/"+i+"/"+i+".dic",ae);function q(ue,se){var pe=b._readFile(ue,null,f==null?void 0:f.asyncLoad);f!=null&&f.asyncLoad?pe.then(function(te){se(te)}):se(pe)}function J(ue){r=ue,l&&oe()}function ae(ue){l=ue,r&&oe()}function oe(){for(b.rules=b._parseAFF(r),b.compoundRuleCodes={},k=0,M=b.compoundRules.length;k<M;k++){var ue=b.compoundRules[k];for(S=0,L=ue.length;S<L;S++)b.compoundRuleCodes[ue[S]]=[]}"ONLYINCOMPOUND"in b.flags&&(b.compoundRuleCodes[b.flags.ONLYINCOMPOUND]=[]),b.dictionaryTable=b._parseDIC(l);for(k in b.compoundRuleCodes)b.compoundRuleCodes[k].length===0&&delete b.compoundRuleCodes[k];for(k=0,M=b.compoundRules.length;k<M;k++){var se=b.compoundRules[k],pe="";for(S=0,L=se.length;S<L;S++){var te=se[S];te in b.compoundRuleCodes?pe+="("+b.compoundRuleCodes[te].join("|")+")":pe+=te}b.compoundRules[k]=new RegExp("^"+pe+"$","i")}b.loaded=!0,f!=null&&f.asyncLoad&&(f!=null&&f.loadedCallback)&&f.loadedCallback(b)}return this},t.prototype={load:function(i){for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return this},_readFile:function(i,r,l){var f;if(r=r||"utf8",typeof XMLHttpRequest<"u"){var b=new XMLHttpRequest;if(b.open("GET",i,!!l),(f=b.overrideMimeType)===null||f===void 0||f.call(b,"text/plain; charset="+r),l){var x=new Promise(function(S,M){b.onload=function(){b.status===200?S(b.responseText):M(b.statusText)},b.onerror=function(){M(b.statusText)}});return b.send(null),x}else return b.send(null),b.responseText}else if(typeof $g<"u"){var k=ok;try{if(k.existsSync(i))return k.readFileSync(i,r);console.log("Path "+i+" does not exist.")}catch(S){console.log(S)}return""}return""},_parseAFF:function(i){var r={},l,f,b,x,k,S,M,L,R=i.split(/\r?\n/);for(k=0,M=R.length;k<M;k++)if(l=this._removeAffixComments(R[k]),l=l.trim(),!!l){var q=l.split(/\s+/),J=q[0];if(J==="PFX"||J==="SFX"){var ae=q[1],oe=q[2];b=parseInt(q[3],10);var ue=[];for(S=k+1,L=k+1+b;S<L;S++){f=R[S],x=f.split(/\s+/);var se=x[2],pe=x[3].split("/"),te=pe[0];te==="0"&&(te="");var re=this.parseRuleCodes(pe[1]),Oe=x[4],De={add:te};re.length>0&&(De.continuationClasses=re),Oe!=="."&&(J==="SFX"?De.match=new RegExp(Oe+"$"):De.match=new RegExp("^"+Oe)),se!="0"&&(J==="SFX"?De.remove=new RegExp(se+"$"):De.remove=se),ue.push(De)}r[ae]={type:J,combineable:oe==="Y",entries:ue},k+=b}else if(J==="COMPOUNDRULE"){for(b=parseInt(q[1],10),S=k+1,L=k+1+b;S<L;S++)l=R[S],x=l.split(/\s+/),this.compoundRules.push(x[1]);k+=b}else J==="REP"?(x=l.split(/\s+/),x.length===3&&this.replacementTable.push([x[1],x[2]])):this.flags[J]=q[1]}return r},_removeAffixComments:function(i){return i.match(/^\s*#/)?"":i},_parseDIC:function(i){i=this._removeDicComments(i);var r=i.split(/\r?\n/),l={};function f(ze,et){l.hasOwnProperty(ze)||(l[ze]=null),et.length>0&&(l[ze]===null&&(l[ze]=[]),l[ze].push(et))}for(var b=1,x=r.length;b<x;b++){var k=r[b];if(k){var S=k.split("/",2),M=S[0];if(S.length>1){var L=this.parseRuleCodes(S[1]);(!("NEEDAFFIX"in this.flags)||L.indexOf(this.flags.NEEDAFFIX)===-1)&&f(M,L);for(var R=0,q=L.length;R<q;R++){var J=L[R],ae=this.rules[J];if(ae)for(var oe=this._applyRule(M,ae),ue=0,se=oe.length;ue<se;ue++){var pe=oe[ue];if(f(pe,[]),ae.combineable)for(var te=R+1;te<q;te++){var re=L[te],Oe=this.rules[re];if(Oe&&Oe.combineable&&ae.type!=Oe.type)for(var De=this._applyRule(pe,Oe),Te=0,Re=De.length;Te<Re;Te++){var at=De[Te];f(at,[])}}}J in this.compoundRuleCodes&&this.compoundRuleCodes[J].push(M)}}else f(M.trim(),[])}}return l},_removeDicComments:function(i){return i=i.replace(/^\t.*$/mg,""),i},parseRuleCodes:function(i){if(i)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var r=[],l=0,f=i.length;l<f;l+=2)r.push(i.substr(l,2));return r}else return this.flags.FLAG==="num"?i.split(","):this.flags.FLAG==="UTF-8"?Array.from(i):i.split("");else return i.split("");else return[]},_applyRule:function(i,r){for(var l=r.entries,f=[],b=0,x=l.length;b<x;b++){var k=l[b];if(!k.match||i.match(k.match)){var S=i;if(k.remove&&(S=S.replace(k.remove,"")),r.type==="SFX"?S=S+k.add:S=k.add+S,f.push(S),"continuationClasses"in k)for(var M=0,L=k.continuationClasses.length;M<L;M++){var R=this.rules[k.continuationClasses[M]];R&&(f=f.concat(this._applyRule(S,R)))}}}return f},check:function(i){if(!this.loaded)throw"Dictionary not loaded.";if(!i)return!1;var r=i.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(r))return!0;if(r.toUpperCase()===r){var l=r[0]+r.substring(1).toLowerCase();if(this.hasFlag(l,"KEEPCASE"))return!1;if(this.checkExact(l)||this.checkExact(r.toLowerCase()))return!0}var f=r[0].toLowerCase()+r.substring(1);if(f!==r){if(this.hasFlag(f,"KEEPCASE"))return!1;if(this.checkExact(f))return!0}return!1},checkExact:function(i){if(!this.loaded)throw"Dictionary not loaded.";var r=this.dictionaryTable[i],l,f;if(typeof r>"u"){if("COMPOUNDMIN"in this.flags&&i.length>=this.flags.COMPOUNDMIN){for(l=0,f=this.compoundRules.length;l<f;l++)if(i.match(this.compoundRules[l]))return!0}}else{if(r===null)return!0;if(typeof r=="object"){for(l=0,f=r.length;l<f;l++)if(!this.hasFlag(i,"ONLYINCOMPOUND",r[l]))return!0}}return!1},hasFlag:function(i,r,l){if(!this.loaded)throw"Dictionary not loaded.";return!!(r in this.flags&&(typeof l>"u"&&(l=Array.prototype.concat.apply([],this.dictionaryTable[i])),l&&l.indexOf(this.flags[r])!==-1))},alphabet:"",suggest:function(i,r){if(!this.loaded)throw"Dictionary not loaded.";if(r=r||5,this.memoized.hasOwnProperty(i)){var l=this.memoized[i].limit;if(r<=l||this.memoized[i].suggestions.length<l)return this.memoized[i].suggestions.slice(0,r)}if(this.check(i))return[];for(var f=0,b=this.replacementTable.length;f<b;f++){var x=this.replacementTable[f];if(i.indexOf(x[0])!==-1){var k=i.replace(x[0],x[1]);if(this.check(k))return[k]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var S=this.alphabet.split("");S.sort();for(var M={},f=0;f<S.length;f++)M[S[f]]=!0;this.alphabet="";for(var f in M)this.alphabet+=f}var L=this;function R(J,ae){var oe={},ue,se,pe,te,re=L.alphabet.length;for(var Oe in J)for(ue=0,pe=Oe.length+1;ue<pe;ue++){var De=[Oe.substring(0,ue),Oe.substring(ue)];if(De[1]&&(te=De[0]+De[1].substring(1),(!ae||L.check(te))&&(te in oe?oe[te]+=1:oe[te]=1)),De[1].length>1&&De[1][1]!==De[1][0]&&(te=De[0]+De[1][1]+De[1][0]+De[1].substring(2),(!ae||L.check(te))&&(te in oe?oe[te]+=1:oe[te]=1)),De[1]){var Te=De[1].substring(0,1).toUpperCase()===De[1].substring(0,1)?"uppercase":"lowercase";for(se=0;se<re;se++){var Re=L.alphabet[se];Te==="uppercase"&&(Re=Re.toUpperCase()),Re!=De[1].substring(0,1)&&(te=De[0]+Re+De[1].substring(1),(!ae||L.check(te))&&(te in oe?oe[te]+=1:oe[te]=1))}}if(De[1])for(se=0;se<re;se++){var Te=De[0].substring(-1).toUpperCase()===De[0].substring(-1)&&De[1].substring(0,1).toUpperCase()===De[1].substring(0,1)?"uppercase":"lowercase",Re=L.alphabet[se];Te==="uppercase"&&(Re=Re.toUpperCase()),te=De[0]+Re+De[1],(!ae||L.check(te))&&(te in oe?oe[te]+=1:oe[te]=1)}}return oe}function q(J){var ae,oe=R((ae={},ae[J]=!0,ae)),ue=R(oe,!0),se=ue;for(var pe in oe)L.check(pe)&&(pe in se?se[pe]+=oe[pe]:se[pe]=oe[pe]);var te,re=[];for(te in se)se.hasOwnProperty(te)&&re.push([te,se[te]]);function Oe(at,ze){var et=at[1],ft=ze[1];return et<ft?-1:et>ft?1:ze[0].localeCompare(at[0])}re.sort(Oe).reverse();var De=[],Te="lowercase";J.toUpperCase()===J?Te="uppercase":J.substr(0,1).toUpperCase()+J.substr(1).toLowerCase()===J&&(Te="capitalized");var Re=r;for(te=0;te<Math.min(Re,re.length);te++)Te==="uppercase"?re[te][0]=re[te][0].toUpperCase():Te==="capitalized"&&(re[te][0]=re[te][0].substr(0,1).toUpperCase()+re[te][0].substr(1)),!L.hasFlag(re[te][0],"NOSUGGEST")&&De.indexOf(re[te][0])===-1?De.push(re[te][0]):Re++;return De}return this.memoized[i]={suggestions:q(i),limit:r},this.memoized[i].suggestions}}})(),a.exports=t}(Kl)),Kl.exports}var Ql,Af;function uk(){if(Af)return Ql;Af=1;var a=lk();function t(i){if(i=i||{},typeof i.codeMirrorInstance!="function"||typeof i.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),i.codeMirrorInstance.defineMode("spell-checker",function(r){if(!t.aff_loading){t.aff_loading=!0;var l=new XMLHttpRequest;l.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),l.onload=function(){l.readyState===4&&l.status===200&&(t.aff_data=l.responseText,t.num_loaded++,t.num_loaded==2&&(t.typo=new a("en_US",t.aff_data,t.dic_data,{platform:"any"})))},l.send(null)}if(!t.dic_loading){t.dic_loading=!0;var f=new XMLHttpRequest;f.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),f.onload=function(){f.readyState===4&&f.status===200&&(t.dic_data=f.responseText,t.num_loaded++,t.num_loaded==2&&(t.typo=new a("en_US",t.aff_data,t.dic_data,{platform:"any"})))},f.send(null)}var b='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',x={token:function(S){var M=S.peek(),L="";if(b.includes(M))return S.next(),null;for(;(M=S.peek())!=null&&!b.includes(M);)L+=M,S.next();return t.typo&&!t.typo.check(L)?"spell-error":null}},k=i.codeMirrorInstance.getMode(r,r.backdrop||"text/plain");return i.codeMirrorInstance.overlayMode(k,x,!0)})}return t.num_loaded=0,t.aff_loading=!1,t.dic_loading=!1,t.aff_data="",t.dic_data="",t.typo,Ql=t,Ql}var Jl={},Mf;function ck(){return Mf||(Mf=1,function(a){function t(Pe,Fe){for(var _e=0;_e<Fe.length;_e++){var X=Fe[_e];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Pe,k(X.key),X)}}function i(Pe,Fe,_e){return _e&&t(Pe,_e),Object.defineProperty(Pe,"prototype",{writable:!1}),Pe}function r(){return r=Object.assign?Object.assign.bind():function(Pe){for(var Fe=1;Fe<arguments.length;Fe++){var _e=arguments[Fe];for(var X in _e)Object.prototype.hasOwnProperty.call(_e,X)&&(Pe[X]=_e[X])}return Pe},r.apply(this,arguments)}function l(Pe,Fe){if(Pe){if(typeof Pe=="string")return f(Pe,Fe);var _e=Object.prototype.toString.call(Pe).slice(8,-1);if(_e==="Object"&&Pe.constructor&&(_e=Pe.constructor.name),_e==="Map"||_e==="Set")return Array.from(Pe);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return f(Pe,Fe)}}function f(Pe,Fe){(Fe==null||Fe>Pe.length)&&(Fe=Pe.length);for(var _e=0,X=new Array(Fe);_e<Fe;_e++)X[_e]=Pe[_e];return X}function b(Pe,Fe){var _e=typeof Symbol<"u"&&Pe[Symbol.iterator]||Pe["@@iterator"];if(_e)return(_e=_e.call(Pe)).next.bind(_e);if(Array.isArray(Pe)||(_e=l(Pe))||Fe){_e&&(Pe=_e);var X=0;return function(){return X>=Pe.length?{done:!0}:{done:!1,value:Pe[X++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(Pe,Fe){if(typeof Pe!="object"||Pe===null)return Pe;var _e=Pe[Symbol.toPrimitive];if(_e!==void 0){var X=_e.call(Pe,Fe);if(typeof X!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Pe)}function k(Pe){var Fe=x(Pe,"string");return typeof Fe=="symbol"?Fe:String(Fe)}function S(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}a.defaults=S();function M(Pe){a.defaults=Pe}var L=/[&<>"']/,R=new RegExp(L.source,"g"),q=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,J=new RegExp(q.source,"g"),ae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oe=function(Fe){return ae[Fe]};function ue(Pe,Fe){if(Fe){if(L.test(Pe))return Pe.replace(R,oe)}else if(q.test(Pe))return Pe.replace(J,oe);return Pe}var se=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function pe(Pe){return Pe.replace(se,function(Fe,_e){return _e=_e.toLowerCase(),_e==="colon"?":":_e.charAt(0)==="#"?_e.charAt(1)==="x"?String.fromCharCode(parseInt(_e.substring(2),16)):String.fromCharCode(+_e.substring(1)):""})}var te=/(^|[^\[])\^/g;function re(Pe,Fe){Pe=typeof Pe=="string"?Pe:Pe.source,Fe=Fe||"";var _e={replace:function(G,ve){return ve=ve.source||ve,ve=ve.replace(te,"$1"),Pe=Pe.replace(G,ve),_e},getRegex:function(){return new RegExp(Pe,Fe)}};return _e}var Oe=/[^\w:]/g,De=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Te(Pe,Fe,_e){if(Pe){var X;try{X=decodeURIComponent(pe(_e)).replace(Oe,"").toLowerCase()}catch{return null}if(X.indexOf("javascript:")===0||X.indexOf("vbscript:")===0||X.indexOf("data:")===0)return null}Fe&&!De.test(_e)&&(_e=ft(Fe,_e));try{_e=encodeURI(_e).replace(/%25/g,"%")}catch{return null}return _e}var Re={},at=/^[^:]+:\/*[^/]*$/,ze=/^([^:]+:)[\s\S]*$/,et=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ft(Pe,Fe){Re[" "+Pe]||(at.test(Pe)?Re[" "+Pe]=Pe+"/":Re[" "+Pe]=je(Pe,"/",!0)),Pe=Re[" "+Pe];var _e=Pe.indexOf(":")===-1;return Fe.substring(0,2)==="//"?_e?Fe:Pe.replace(ze,"$1")+Fe:Fe.charAt(0)==="/"?_e?Fe:Pe.replace(et,"$1")+Fe:Pe+Fe}var gt={exec:function(){}};function be(Pe,Fe){var _e=Pe.replace(/\|/g,function(ve,O,U){for(var ne=!1,he=O;--he>=0&&U[he]==="\\";)ne=!ne;return ne?"|":" |"}),X=_e.split(/ \|/),G=0;if(X[0].trim()||X.shift(),X.length>0&&!X[X.length-1].trim()&&X.pop(),X.length>Fe)X.splice(Fe);else for(;X.length<Fe;)X.push("");for(;G<X.length;G++)X[G]=X[G].trim().replace(/\\\|/g,"|");return X}function je(Pe,Fe,_e){var X=Pe.length;if(X===0)return"";for(var G=0;G<X;){var ve=Pe.charAt(X-G-1);if(ve===Fe&&!_e)G++;else if(ve!==Fe&&_e)G++;else break}return Pe.slice(0,X-G)}function He(Pe,Fe){if(Pe.indexOf(Fe[1])===-1)return-1;for(var _e=Pe.length,X=0,G=0;G<_e;G++)if(Pe[G]==="\\")G++;else if(Pe[G]===Fe[0])X++;else if(Pe[G]===Fe[1]&&(X--,X<0))return G;return-1}function ot(Pe){Pe&&Pe.sanitize&&!Pe.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Dt(Pe,Fe){if(Fe<1)return"";for(var _e="";Fe>1;)Fe&1&&(_e+=Pe),Fe>>=1,Pe+=Pe;return _e+Pe}function qt(Pe,Fe,_e,X){var G=Fe.href,ve=Fe.title?ue(Fe.title):null,O=Pe[1].replace(/\\([\[\]])/g,"$1");if(Pe[0].charAt(0)!=="!"){X.state.inLink=!0;var U={type:"link",raw:_e,href:G,title:ve,text:O,tokens:X.inlineTokens(O)};return X.state.inLink=!1,U}return{type:"image",raw:_e,href:G,title:ve,text:ue(O)}}function Rn(Pe,Fe){var _e=Pe.match(/^(\s+)(?:```)/);if(_e===null)return Fe;var X=_e[1];return Fe.split(`
`).map(function(G){var ve=G.match(/^\s+/);if(ve===null)return G;var O=ve[0];return O.length>=X.length?G.slice(X.length):G}).join(`
`)}var me=function(){function Pe(_e){this.options=_e||a.defaults}var Fe=Pe.prototype;return Fe.space=function(X){var G=this.rules.block.newline.exec(X);if(G&&G[0].length>0)return{type:"space",raw:G[0]}},Fe.code=function(X){var G=this.rules.block.code.exec(X);if(G){var ve=G[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:G[0],codeBlockStyle:"indented",text:this.options.pedantic?ve:je(ve,`
`)}}},Fe.fences=function(X){var G=this.rules.block.fences.exec(X);if(G){var ve=G[0],O=Rn(ve,G[3]||"");return{type:"code",raw:ve,lang:G[2]?G[2].trim().replace(this.rules.inline._escapes,"$1"):G[2],text:O}}},Fe.heading=function(X){var G=this.rules.block.heading.exec(X);if(G){var ve=G[2].trim();if(/#$/.test(ve)){var O=je(ve,"#");(this.options.pedantic||!O||/ $/.test(O))&&(ve=O.trim())}return{type:"heading",raw:G[0],depth:G[1].length,text:ve,tokens:this.lexer.inline(ve)}}},Fe.hr=function(X){var G=this.rules.block.hr.exec(X);if(G)return{type:"hr",raw:G[0]}},Fe.blockquote=function(X){var G=this.rules.block.blockquote.exec(X);if(G){var ve=G[0].replace(/^ *>[ \t]?/gm,""),O=this.lexer.state.top;this.lexer.state.top=!0;var U=this.lexer.blockTokens(ve);return this.lexer.state.top=O,{type:"blockquote",raw:G[0],tokens:U,text:ve}}},Fe.list=function(X){var G=this.rules.block.list.exec(X);if(G){var ve,O,U,ne,he,ge,Me,we,fe,Ie,ke,Ze,ct=G[1].trim(),dt=ct.length>1,Xe={type:"list",raw:"",ordered:dt,start:dt?+ct.slice(0,-1):"",loose:!1,items:[]};ct=dt?"\\d{1,9}\\"+ct.slice(-1):"\\"+ct,this.options.pedantic&&(ct=dt?ct:"[*+-]");for(var At=new RegExp("^( {0,3}"+ct+")((?:[	 ][^\\n]*)?(?:\\n|$))");X&&(Ze=!1,!(!(G=At.exec(X))||this.rules.block.hr.test(X)));){if(ve=G[0],X=X.substring(ve.length),we=G[2].split(`
`,1)[0].replace(/^\t+/,function(v){return" ".repeat(3*v.length)}),fe=X.split(`
`,1)[0],this.options.pedantic?(ne=2,ke=we.trimLeft()):(ne=G[2].search(/[^ ]/),ne=ne>4?1:ne,ke=we.slice(ne),ne+=G[1].length),ge=!1,!we&&/^ *$/.test(fe)&&(ve+=fe+`
`,X=X.substring(fe.length+1),Ze=!0),!Ze)for(var It=new RegExp("^ {0,"+Math.min(3,ne-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),Ye=new RegExp("^ {0,"+Math.min(3,ne-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),_t=new RegExp("^ {0,"+Math.min(3,ne-1)+"}(?:```|~~~)"),Yt=new RegExp("^ {0,"+Math.min(3,ne-1)+"}#");X&&(Ie=X.split(`
`,1)[0],fe=Ie,this.options.pedantic&&(fe=fe.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(_t.test(fe)||Yt.test(fe)||It.test(fe)||Ye.test(X)));){if(fe.search(/[^ ]/)>=ne||!fe.trim())ke+=`
`+fe.slice(ne);else{if(ge||we.search(/[^ ]/)>=4||_t.test(we)||Yt.test(we)||Ye.test(we))break;ke+=`
`+fe}!ge&&!fe.trim()&&(ge=!0),ve+=Ie+`
`,X=X.substring(Ie.length+1),we=fe.slice(ne)}Xe.loose||(Me?Xe.loose=!0:/\n *\n *$/.test(ve)&&(Me=!0)),this.options.gfm&&(O=/^\[[ xX]\] /.exec(ke),O&&(U=O[0]!=="[ ] ",ke=ke.replace(/^\[[ xX]\] +/,""))),Xe.items.push({type:"list_item",raw:ve,task:!!O,checked:U,loose:!1,text:ke}),Xe.raw+=ve}Xe.items[Xe.items.length-1].raw=ve.trimRight(),Xe.items[Xe.items.length-1].text=ke.trimRight(),Xe.raw=Xe.raw.trimRight();var xt=Xe.items.length;for(he=0;he<xt;he++)if(this.lexer.state.top=!1,Xe.items[he].tokens=this.lexer.blockTokens(Xe.items[he].text,[]),!Xe.loose){var c=Xe.items[he].tokens.filter(function(v){return v.type==="space"}),h=c.length>0&&c.some(function(v){return/\n.*\n/.test(v.raw)});Xe.loose=h}if(Xe.loose)for(he=0;he<xt;he++)Xe.items[he].loose=!0;return Xe}},Fe.html=function(X){var G=this.rules.block.html.exec(X);if(G){var ve={type:"html",raw:G[0],pre:!this.options.sanitizer&&(G[1]==="pre"||G[1]==="script"||G[1]==="style"),text:G[0]};if(this.options.sanitize){var O=this.options.sanitizer?this.options.sanitizer(G[0]):ue(G[0]);ve.type="paragraph",ve.text=O,ve.tokens=this.lexer.inline(O)}return ve}},Fe.def=function(X){var G=this.rules.block.def.exec(X);if(G){var ve=G[1].toLowerCase().replace(/\s+/g," "),O=G[2]?G[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",U=G[3]?G[3].substring(1,G[3].length-1).replace(this.rules.inline._escapes,"$1"):G[3];return{type:"def",tag:ve,raw:G[0],href:O,title:U}}},Fe.table=function(X){var G=this.rules.block.table.exec(X);if(G){var ve={type:"table",header:be(G[1]).map(function(Me){return{text:Me}}),align:G[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:G[3]&&G[3].trim()?G[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ve.header.length===ve.align.length){ve.raw=G[0];var O=ve.align.length,U,ne,he,ge;for(U=0;U<O;U++)/^ *-+: *$/.test(ve.align[U])?ve.align[U]="right":/^ *:-+: *$/.test(ve.align[U])?ve.align[U]="center":/^ *:-+ *$/.test(ve.align[U])?ve.align[U]="left":ve.align[U]=null;for(O=ve.rows.length,U=0;U<O;U++)ve.rows[U]=be(ve.rows[U],ve.header.length).map(function(Me){return{text:Me}});for(O=ve.header.length,ne=0;ne<O;ne++)ve.header[ne].tokens=this.lexer.inline(ve.header[ne].text);for(O=ve.rows.length,ne=0;ne<O;ne++)for(ge=ve.rows[ne],he=0;he<ge.length;he++)ge[he].tokens=this.lexer.inline(ge[he].text);return ve}}},Fe.lheading=function(X){var G=this.rules.block.lheading.exec(X);if(G)return{type:"heading",raw:G[0],depth:G[2].charAt(0)==="="?1:2,text:G[1],tokens:this.lexer.inline(G[1])}},Fe.paragraph=function(X){var G=this.rules.block.paragraph.exec(X);if(G){var ve=G[1].charAt(G[1].length-1)===`
`?G[1].slice(0,-1):G[1];return{type:"paragraph",raw:G[0],text:ve,tokens:this.lexer.inline(ve)}}},Fe.text=function(X){var G=this.rules.block.text.exec(X);if(G)return{type:"text",raw:G[0],text:G[0],tokens:this.lexer.inline(G[0])}},Fe.escape=function(X){var G=this.rules.inline.escape.exec(X);if(G)return{type:"escape",raw:G[0],text:ue(G[1])}},Fe.tag=function(X){var G=this.rules.inline.tag.exec(X);if(G)return!this.lexer.state.inLink&&/^<a /i.test(G[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(G[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(G[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(G[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:G[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(G[0]):ue(G[0]):G[0]}},Fe.link=function(X){var G=this.rules.inline.link.exec(X);if(G){var ve=G[2].trim();if(!this.options.pedantic&&/^</.test(ve)){if(!/>$/.test(ve))return;var O=je(ve.slice(0,-1),"\\");if((ve.length-O.length)%2===0)return}else{var U=He(G[2],"()");if(U>-1){var ne=G[0].indexOf("!")===0?5:4,he=ne+G[1].length+U;G[2]=G[2].substring(0,U),G[0]=G[0].substring(0,he).trim(),G[3]=""}}var ge=G[2],Me="";if(this.options.pedantic){var we=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ge);we&&(ge=we[1],Me=we[3])}else Me=G[3]?G[3].slice(1,-1):"";return ge=ge.trim(),/^</.test(ge)&&(this.options.pedantic&&!/>$/.test(ve)?ge=ge.slice(1):ge=ge.slice(1,-1)),qt(G,{href:ge&&ge.replace(this.rules.inline._escapes,"$1"),title:Me&&Me.replace(this.rules.inline._escapes,"$1")},G[0],this.lexer)}},Fe.reflink=function(X,G){var ve;if((ve=this.rules.inline.reflink.exec(X))||(ve=this.rules.inline.nolink.exec(X))){var O=(ve[2]||ve[1]).replace(/\s+/g," ");if(O=G[O.toLowerCase()],!O){var U=ve[0].charAt(0);return{type:"text",raw:U,text:U}}return qt(ve,O,ve[0],this.lexer)}},Fe.emStrong=function(X,G,ve){ve===void 0&&(ve="");var O=this.rules.inline.emStrong.lDelim.exec(X);if(O&&!(O[3]&&ve.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var U=O[1]||O[2]||"";if(!U||U&&(ve===""||this.rules.inline.punctuation.exec(ve))){var ne=O[0].length-1,he,ge,Me=ne,we=0,fe=O[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(fe.lastIndex=0,G=G.slice(-1*X.length+ne);(O=fe.exec(G))!=null;)if(he=O[1]||O[2]||O[3]||O[4]||O[5]||O[6],!!he){if(ge=he.length,O[3]||O[4]){Me+=ge;continue}else if((O[5]||O[6])&&ne%3&&!((ne+ge)%3)){we+=ge;continue}if(Me-=ge,!(Me>0)){ge=Math.min(ge,ge+Me+we);var Ie=X.slice(0,ne+O.index+(O[0].length-he.length)+ge);if(Math.min(ne,ge)%2){var ke=Ie.slice(1,-1);return{type:"em",raw:Ie,text:ke,tokens:this.lexer.inlineTokens(ke)}}var Ze=Ie.slice(2,-2);return{type:"strong",raw:Ie,text:Ze,tokens:this.lexer.inlineTokens(Ze)}}}}}},Fe.codespan=function(X){var G=this.rules.inline.code.exec(X);if(G){var ve=G[2].replace(/\n/g," "),O=/[^ ]/.test(ve),U=/^ /.test(ve)&&/ $/.test(ve);return O&&U&&(ve=ve.substring(1,ve.length-1)),ve=ue(ve,!0),{type:"codespan",raw:G[0],text:ve}}},Fe.br=function(X){var G=this.rules.inline.br.exec(X);if(G)return{type:"br",raw:G[0]}},Fe.del=function(X){var G=this.rules.inline.del.exec(X);if(G)return{type:"del",raw:G[0],text:G[2],tokens:this.lexer.inlineTokens(G[2])}},Fe.autolink=function(X,G){var ve=this.rules.inline.autolink.exec(X);if(ve){var O,U;return ve[2]==="@"?(O=ue(this.options.mangle?G(ve[1]):ve[1]),U="mailto:"+O):(O=ue(ve[1]),U=O),{type:"link",raw:ve[0],text:O,href:U,tokens:[{type:"text",raw:O,text:O}]}}},Fe.url=function(X,G){var ve;if(ve=this.rules.inline.url.exec(X)){var O,U;if(ve[2]==="@")O=ue(this.options.mangle?G(ve[0]):ve[0]),U="mailto:"+O;else{var ne;do ne=ve[0],ve[0]=this.rules.inline._backpedal.exec(ve[0])[0];while(ne!==ve[0]);O=ue(ve[0]),ve[1]==="www."?U="http://"+ve[0]:U=ve[0]}return{type:"link",raw:ve[0],text:O,href:U,tokens:[{type:"text",raw:O,text:O}]}}},Fe.inlineText=function(X,G){var ve=this.rules.inline.text.exec(X);if(ve){var O;return this.lexer.state.inRawBlock?O=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ve[0]):ue(ve[0]):ve[0]:O=ue(this.options.smartypants?G(ve[0]):ve[0]),{type:"text",raw:ve[0],text:O}}},Pe}(),Y={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:gt,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Y._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Y._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Y.def=re(Y.def).replace("label",Y._label).replace("title",Y._title).getRegex(),Y.bullet=/(?:[*+-]|\d{1,9}[.)])/,Y.listItemStart=re(/^( *)(bull) */).replace("bull",Y.bullet).getRegex(),Y.list=re(Y.list).replace(/bull/g,Y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Y.def.source+")").getRegex(),Y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Y._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Y.html=re(Y.html,"i").replace("comment",Y._comment).replace("tag",Y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Y.paragraph=re(Y._paragraph).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.blockquote=re(Y.blockquote).replace("paragraph",Y.paragraph).getRegex(),Y.normal=r({},Y),Y.gfm=r({},Y.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Y.gfm.table=re(Y.gfm.table).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.gfm.paragraph=re(Y._paragraph).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Y.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.pedantic=r({},Y.normal,{html:re(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:gt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:re(Y.normal._paragraph).replace("hr",Y.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Y.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Be={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:gt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:gt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Be._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Be.punctuation=re(Be.punctuation).replace(/punctuation/g,Be._punctuation).getRegex(),Be.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Be.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Be._comment=re(Y._comment).replace("(?:-->|$)","-->").getRegex(),Be.emStrong.lDelim=re(Be.emStrong.lDelim).replace(/punct/g,Be._punctuation).getRegex(),Be.emStrong.rDelimAst=re(Be.emStrong.rDelimAst,"g").replace(/punct/g,Be._punctuation).getRegex(),Be.emStrong.rDelimUnd=re(Be.emStrong.rDelimUnd,"g").replace(/punct/g,Be._punctuation).getRegex(),Be._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Be._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Be._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Be.autolink=re(Be.autolink).replace("scheme",Be._scheme).replace("email",Be._email).getRegex(),Be._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Be.tag=re(Be.tag).replace("comment",Be._comment).replace("attribute",Be._attribute).getRegex(),Be._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Be._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Be._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Be.link=re(Be.link).replace("label",Be._label).replace("href",Be._href).replace("title",Be._title).getRegex(),Be.reflink=re(Be.reflink).replace("label",Be._label).replace("ref",Y._label).getRegex(),Be.nolink=re(Be.nolink).replace("ref",Y._label).getRegex(),Be.reflinkSearch=re(Be.reflinkSearch,"g").replace("reflink",Be.reflink).replace("nolink",Be.nolink).getRegex(),Be.normal=r({},Be),Be.pedantic=r({},Be.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:re(/^!?\[(label)\]\((.*?)\)/).replace("label",Be._label).getRegex(),reflink:re(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Be._label).getRegex()}),Be.gfm=r({},Be.normal,{escape:re(Be.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Be.gfm.url=re(Be.gfm.url,"i").replace("email",Be.gfm._extended_email).getRegex(),Be.breaks=r({},Be.gfm,{br:re(Be.br).replace("{2,}","*").getRegex(),text:re(Be.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ot(Pe){return Pe.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function yt(Pe){var Fe="",_e,X,G=Pe.length;for(_e=0;_e<G;_e++)X=Pe.charCodeAt(_e),Math.random()>.5&&(X="x"+X.toString(16)),Fe+="&#"+X+";";return Fe}var tn=function(){function Pe(_e){this.tokens=[],this.tokens.links=Object.create(null),this.options=_e||a.defaults,this.options.tokenizer=this.options.tokenizer||new me,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var X={block:Y.normal,inline:Be.normal};this.options.pedantic?(X.block=Y.pedantic,X.inline=Be.pedantic):this.options.gfm&&(X.block=Y.gfm,this.options.breaks?X.inline=Be.breaks:X.inline=Be.gfm),this.tokenizer.rules=X}Pe.lex=function(X,G){var ve=new Pe(G);return ve.lex(X)},Pe.lexInline=function(X,G){var ve=new Pe(G);return ve.inlineTokens(X)};var Fe=Pe.prototype;return Fe.lex=function(X){X=X.replace(/\r\n|\r/g,`
`),this.blockTokens(X,this.tokens);for(var G;G=this.inlineQueue.shift();)this.inlineTokens(G.src,G.tokens);return this.tokens},Fe.blockTokens=function(X,G){var ve=this;G===void 0&&(G=[]),this.options.pedantic?X=X.replace(/\t/g,"    ").replace(/^ +$/gm,""):X=X.replace(/^( *)(\t+)/gm,function(Me,we,fe){return we+"    ".repeat(fe.length)});for(var O,U,ne,he;X;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Me){return(O=Me.call({lexer:ve},X,G))?(X=X.substring(O.raw.length),G.push(O),!0):!1}))){if(O=this.tokenizer.space(X)){X=X.substring(O.raw.length),O.raw.length===1&&G.length>0?G[G.length-1].raw+=`
`:G.push(O);continue}if(O=this.tokenizer.code(X)){X=X.substring(O.raw.length),U=G[G.length-1],U&&(U.type==="paragraph"||U.type==="text")?(U.raw+=`
`+O.raw,U.text+=`
`+O.text,this.inlineQueue[this.inlineQueue.length-1].src=U.text):G.push(O);continue}if(O=this.tokenizer.fences(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.heading(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.hr(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.blockquote(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.list(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.html(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.def(X)){X=X.substring(O.raw.length),U=G[G.length-1],U&&(U.type==="paragraph"||U.type==="text")?(U.raw+=`
`+O.raw,U.text+=`
`+O.raw,this.inlineQueue[this.inlineQueue.length-1].src=U.text):this.tokens.links[O.tag]||(this.tokens.links[O.tag]={href:O.href,title:O.title});continue}if(O=this.tokenizer.table(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.lheading(X)){X=X.substring(O.raw.length),G.push(O);continue}if(ne=X,this.options.extensions&&this.options.extensions.startBlock&&function(){var Me=1/0,we=X.slice(1),fe=void 0;ve.options.extensions.startBlock.forEach(function(Ie){fe=Ie.call({lexer:this},we),typeof fe=="number"&&fe>=0&&(Me=Math.min(Me,fe))}),Me<1/0&&Me>=0&&(ne=X.substring(0,Me+1))}(),this.state.top&&(O=this.tokenizer.paragraph(ne))){U=G[G.length-1],he&&U.type==="paragraph"?(U.raw+=`
`+O.raw,U.text+=`
`+O.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=U.text):G.push(O),he=ne.length!==X.length,X=X.substring(O.raw.length);continue}if(O=this.tokenizer.text(X)){X=X.substring(O.raw.length),U=G[G.length-1],U&&U.type==="text"?(U.raw+=`
`+O.raw,U.text+=`
`+O.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=U.text):G.push(O);continue}if(X){var ge="Infinite loop on byte: "+X.charCodeAt(0);if(this.options.silent){console.error(ge);break}else throw new Error(ge)}}return this.state.top=!0,G},Fe.inline=function(X,G){return G===void 0&&(G=[]),this.inlineQueue.push({src:X,tokens:G}),G},Fe.inlineTokens=function(X,G){var ve=this;G===void 0&&(G=[]);var O,U,ne,he=X,ge,Me,we;if(this.tokens.links){var fe=Object.keys(this.tokens.links);if(fe.length>0)for(;(ge=this.tokenizer.rules.inline.reflinkSearch.exec(he))!=null;)fe.includes(ge[0].slice(ge[0].lastIndexOf("[")+1,-1))&&(he=he.slice(0,ge.index)+"["+Dt("a",ge[0].length-2)+"]"+he.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ge=this.tokenizer.rules.inline.blockSkip.exec(he))!=null;)he=he.slice(0,ge.index)+"["+Dt("a",ge[0].length-2)+"]"+he.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ge=this.tokenizer.rules.inline.escapedEmSt.exec(he))!=null;)he=he.slice(0,ge.index+ge[0].length-2)+"++"+he.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;X;)if(Me||(we=""),Me=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ke){return(O=ke.call({lexer:ve},X,G))?(X=X.substring(O.raw.length),G.push(O),!0):!1}))){if(O=this.tokenizer.escape(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.tag(X)){X=X.substring(O.raw.length),U=G[G.length-1],U&&O.type==="text"&&U.type==="text"?(U.raw+=O.raw,U.text+=O.text):G.push(O);continue}if(O=this.tokenizer.link(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.reflink(X,this.tokens.links)){X=X.substring(O.raw.length),U=G[G.length-1],U&&O.type==="text"&&U.type==="text"?(U.raw+=O.raw,U.text+=O.text):G.push(O);continue}if(O=this.tokenizer.emStrong(X,he,we)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.codespan(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.br(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.del(X)){X=X.substring(O.raw.length),G.push(O);continue}if(O=this.tokenizer.autolink(X,yt)){X=X.substring(O.raw.length),G.push(O);continue}if(!this.state.inLink&&(O=this.tokenizer.url(X,yt))){X=X.substring(O.raw.length),G.push(O);continue}if(ne=X,this.options.extensions&&this.options.extensions.startInline&&function(){var ke=1/0,Ze=X.slice(1),ct=void 0;ve.options.extensions.startInline.forEach(function(dt){ct=dt.call({lexer:this},Ze),typeof ct=="number"&&ct>=0&&(ke=Math.min(ke,ct))}),ke<1/0&&ke>=0&&(ne=X.substring(0,ke+1))}(),O=this.tokenizer.inlineText(ne,Ot)){X=X.substring(O.raw.length),O.raw.slice(-1)!=="_"&&(we=O.raw.slice(-1)),Me=!0,U=G[G.length-1],U&&U.type==="text"?(U.raw+=O.raw,U.text+=O.text):G.push(O);continue}if(X){var Ie="Infinite loop on byte: "+X.charCodeAt(0);if(this.options.silent){console.error(Ie);break}else throw new Error(Ie)}}return G},i(Pe,null,[{key:"rules",get:function(){return{block:Y,inline:Be}}}]),Pe}(),un=function(){function Pe(_e){this.options=_e||a.defaults}var Fe=Pe.prototype;return Fe.code=function(X,G,ve){var O=(G||"").match(/\S*/)[0];if(this.options.highlight){var U=this.options.highlight(X,O);U!=null&&U!==X&&(ve=!0,X=U)}return X=X.replace(/\n$/,"")+`
`,O?'<pre><code class="'+this.options.langPrefix+ue(O)+'">'+(ve?X:ue(X,!0))+`</code></pre>
`:"<pre><code>"+(ve?X:ue(X,!0))+`</code></pre>
`},Fe.blockquote=function(X){return`<blockquote>
`+X+`</blockquote>
`},Fe.html=function(X){return X},Fe.heading=function(X,G,ve,O){if(this.options.headerIds){var U=this.options.headerPrefix+O.slug(ve);return"<h"+G+' id="'+U+'">'+X+"</h"+G+`>
`}return"<h"+G+">"+X+"</h"+G+`>
`},Fe.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Fe.list=function(X,G,ve){var O=G?"ol":"ul",U=G&&ve!==1?' start="'+ve+'"':"";return"<"+O+U+`>
`+X+"</"+O+`>
`},Fe.listitem=function(X){return"<li>"+X+`</li>
`},Fe.checkbox=function(X){return"<input "+(X?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Fe.paragraph=function(X){return"<p>"+X+`</p>
`},Fe.table=function(X,G){return G&&(G="<tbody>"+G+"</tbody>"),`<table>
<thead>
`+X+`</thead>
`+G+`</table>
`},Fe.tablerow=function(X){return`<tr>
`+X+`</tr>
`},Fe.tablecell=function(X,G){var ve=G.header?"th":"td",O=G.align?"<"+ve+' align="'+G.align+'">':"<"+ve+">";return O+X+("</"+ve+`>
`)},Fe.strong=function(X){return"<strong>"+X+"</strong>"},Fe.em=function(X){return"<em>"+X+"</em>"},Fe.codespan=function(X){return"<code>"+X+"</code>"},Fe.br=function(){return this.options.xhtml?"<br/>":"<br>"},Fe.del=function(X){return"<del>"+X+"</del>"},Fe.link=function(X,G,ve){if(X=Te(this.options.sanitize,this.options.baseUrl,X),X===null)return ve;var O='<a href="'+X+'"';return G&&(O+=' title="'+G+'"'),O+=">"+ve+"</a>",O},Fe.image=function(X,G,ve){if(X=Te(this.options.sanitize,this.options.baseUrl,X),X===null)return ve;var O='<img src="'+X+'" alt="'+ve+'"';return G&&(O+=' title="'+G+'"'),O+=this.options.xhtml?"/>":">",O},Fe.text=function(X){return X},Pe}(),Kt=function(){function Pe(){}var Fe=Pe.prototype;return Fe.strong=function(X){return X},Fe.em=function(X){return X},Fe.codespan=function(X){return X},Fe.del=function(X){return X},Fe.html=function(X){return X},Fe.text=function(X){return X},Fe.link=function(X,G,ve){return""+ve},Fe.image=function(X,G,ve){return""+ve},Fe.br=function(){return""},Pe}(),$t=function(){function Pe(){this.seen={}}var Fe=Pe.prototype;return Fe.serialize=function(X){return X.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Fe.getNextSafeSlug=function(X,G){var ve=X,O=0;if(this.seen.hasOwnProperty(ve)){O=this.seen[X];do O++,ve=X+"-"+O;while(this.seen.hasOwnProperty(ve))}return G||(this.seen[X]=O,this.seen[ve]=0),ve},Fe.slug=function(X,G){G===void 0&&(G={});var ve=this.serialize(X);return this.getNextSafeSlug(ve,G.dryrun)},Pe}(),Ft=function(){function Pe(_e){this.options=_e||a.defaults,this.options.renderer=this.options.renderer||new un,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Kt,this.slugger=new $t}Pe.parse=function(X,G){var ve=new Pe(G);return ve.parse(X)},Pe.parseInline=function(X,G){var ve=new Pe(G);return ve.parseInline(X)};var Fe=Pe.prototype;return Fe.parse=function(X,G){G===void 0&&(G=!0);var ve="",O,U,ne,he,ge,Me,we,fe,Ie,ke,Ze,ct,dt,Xe,At,It,Ye,_t,Yt,xt=X.length;for(O=0;O<xt;O++){if(ke=X[O],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ke.type]&&(Yt=this.options.extensions.renderers[ke.type].call({parser:this},ke),Yt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ke.type))){ve+=Yt||"";continue}switch(ke.type){case"space":continue;case"hr":{ve+=this.renderer.hr();continue}case"heading":{ve+=this.renderer.heading(this.parseInline(ke.tokens),ke.depth,pe(this.parseInline(ke.tokens,this.textRenderer)),this.slugger);continue}case"code":{ve+=this.renderer.code(ke.text,ke.lang,ke.escaped);continue}case"table":{for(fe="",we="",he=ke.header.length,U=0;U<he;U++)we+=this.renderer.tablecell(this.parseInline(ke.header[U].tokens),{header:!0,align:ke.align[U]});for(fe+=this.renderer.tablerow(we),Ie="",he=ke.rows.length,U=0;U<he;U++){for(Me=ke.rows[U],we="",ge=Me.length,ne=0;ne<ge;ne++)we+=this.renderer.tablecell(this.parseInline(Me[ne].tokens),{header:!1,align:ke.align[ne]});Ie+=this.renderer.tablerow(we)}ve+=this.renderer.table(fe,Ie);continue}case"blockquote":{Ie=this.parse(ke.tokens),ve+=this.renderer.blockquote(Ie);continue}case"list":{for(Ze=ke.ordered,ct=ke.start,dt=ke.loose,he=ke.items.length,Ie="",U=0;U<he;U++)At=ke.items[U],It=At.checked,Ye=At.task,Xe="",At.task&&(_t=this.renderer.checkbox(It),dt?At.tokens.length>0&&At.tokens[0].type==="paragraph"?(At.tokens[0].text=_t+" "+At.tokens[0].text,At.tokens[0].tokens&&At.tokens[0].tokens.length>0&&At.tokens[0].tokens[0].type==="text"&&(At.tokens[0].tokens[0].text=_t+" "+At.tokens[0].tokens[0].text)):At.tokens.unshift({type:"text",text:_t}):Xe+=_t),Xe+=this.parse(At.tokens,dt),Ie+=this.renderer.listitem(Xe,Ye,It);ve+=this.renderer.list(Ie,Ze,ct);continue}case"html":{ve+=this.renderer.html(ke.text);continue}case"paragraph":{ve+=this.renderer.paragraph(this.parseInline(ke.tokens));continue}case"text":{for(Ie=ke.tokens?this.parseInline(ke.tokens):ke.text;O+1<xt&&X[O+1].type==="text";)ke=X[++O],Ie+=`
`+(ke.tokens?this.parseInline(ke.tokens):ke.text);ve+=G?this.renderer.paragraph(Ie):Ie;continue}default:{var c='Token with "'+ke.type+'" type was not found.';if(this.options.silent){console.error(c);return}else throw new Error(c)}}}return ve},Fe.parseInline=function(X,G){G=G||this.renderer;var ve="",O,U,ne,he=X.length;for(O=0;O<he;O++){if(U=X[O],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[U.type]&&(ne=this.options.extensions.renderers[U.type].call({parser:this},U),ne!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(U.type))){ve+=ne||"";continue}switch(U.type){case"escape":{ve+=G.text(U.text);break}case"html":{ve+=G.html(U.text);break}case"link":{ve+=G.link(U.href,U.title,this.parseInline(U.tokens,G));break}case"image":{ve+=G.image(U.href,U.title,U.text);break}case"strong":{ve+=G.strong(this.parseInline(U.tokens,G));break}case"em":{ve+=G.em(this.parseInline(U.tokens,G));break}case"codespan":{ve+=G.codespan(U.text);break}case"br":{ve+=G.br();break}case"del":{ve+=G.del(this.parseInline(U.tokens,G));break}case"text":{ve+=G.text(U.text);break}default:{var ge='Token with "'+U.type+'" type was not found.';if(this.options.silent){console.error(ge);return}else throw new Error(ge)}}}return ve},Pe}(),Ut=function(){function Pe(_e){this.options=_e||a.defaults}var Fe=Pe.prototype;return Fe.preprocess=function(X){return X},Fe.postprocess=function(X){return X},Pe}();Ut.passThroughHooks=new Set(["preprocess","postprocess"]);function cn(Pe,Fe,_e){return function(X){if(X.message+=`
Please report this to https://github.com/markedjs/marked.`,Pe){var G="<p>An error occurred:</p><pre>"+ue(X.message+"",!0)+"</pre>";if(Fe)return Promise.resolve(G);if(_e){_e(null,G);return}return G}if(Fe)return Promise.reject(X);if(_e){_e(X);return}throw X}}function hn(Pe,Fe){return function(_e,X,G){typeof X=="function"&&(G=X,X=null);var ve=r({},X);X=r({},Ge.defaults,ve);var O=cn(X.silent,X.async,G);if(typeof _e>"u"||_e===null)return O(new Error("marked(): input parameter is undefined or null"));if(typeof _e!="string")return O(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(_e)+", string expected"));if(ot(X),X.hooks&&(X.hooks.options=X),G){var U=X.highlight,ne;try{X.hooks&&(_e=X.hooks.preprocess(_e)),ne=Pe(_e,X)}catch(fe){return O(fe)}var he=function(Ie){var ke;if(!Ie)try{X.walkTokens&&Ge.walkTokens(ne,X.walkTokens),ke=Fe(ne,X),X.hooks&&(ke=X.hooks.postprocess(ke))}catch(Ze){Ie=Ze}return X.highlight=U,Ie?O(Ie):G(null,ke)};if(!U||U.length<3||(delete X.highlight,!ne.length))return he();var ge=0;Ge.walkTokens(ne,function(fe){fe.type==="code"&&(ge++,setTimeout(function(){U(fe.text,fe.lang,function(Ie,ke){if(Ie)return he(Ie);ke!=null&&ke!==fe.text&&(fe.text=ke,fe.escaped=!0),ge--,ge===0&&he()})},0))}),ge===0&&he();return}if(X.async)return Promise.resolve(X.hooks?X.hooks.preprocess(_e):_e).then(function(fe){return Pe(fe,X)}).then(function(fe){return X.walkTokens?Promise.all(Ge.walkTokens(fe,X.walkTokens)).then(function(){return fe}):fe}).then(function(fe){return Fe(fe,X)}).then(function(fe){return X.hooks?X.hooks.postprocess(fe):fe}).catch(O);try{X.hooks&&(_e=X.hooks.preprocess(_e));var Me=Pe(_e,X);X.walkTokens&&Ge.walkTokens(Me,X.walkTokens);var we=Fe(Me,X);return X.hooks&&(we=X.hooks.postprocess(we)),we}catch(fe){return O(fe)}}}function Ge(Pe,Fe,_e){return hn(tn.lex,Ft.parse)(Pe,Fe,_e)}Ge.options=Ge.setOptions=function(Pe){return Ge.defaults=r({},Ge.defaults,Pe),M(Ge.defaults),Ge},Ge.getDefaults=S,Ge.defaults=a.defaults,Ge.use=function(){for(var Pe=Ge.defaults.extensions||{renderers:{},childTokens:{}},Fe=arguments.length,_e=new Array(Fe),X=0;X<Fe;X++)_e[X]=arguments[X];_e.forEach(function(G){var ve=r({},G);if(ve.async=Ge.defaults.async||ve.async||!1,G.extensions&&(G.extensions.forEach(function(U){if(!U.name)throw new Error("extension name required");if(U.renderer){var ne=Pe.renderers[U.name];ne?Pe.renderers[U.name]=function(){for(var he=arguments.length,ge=new Array(he),Me=0;Me<he;Me++)ge[Me]=arguments[Me];var we=U.renderer.apply(this,ge);return we===!1&&(we=ne.apply(this,ge)),we}:Pe.renderers[U.name]=U.renderer}if(U.tokenizer){if(!U.level||U.level!=="block"&&U.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Pe[U.level]?Pe[U.level].unshift(U.tokenizer):Pe[U.level]=[U.tokenizer],U.start&&(U.level==="block"?Pe.startBlock?Pe.startBlock.push(U.start):Pe.startBlock=[U.start]:U.level==="inline"&&(Pe.startInline?Pe.startInline.push(U.start):Pe.startInline=[U.start]))}U.childTokens&&(Pe.childTokens[U.name]=U.childTokens)}),ve.extensions=Pe),G.renderer&&function(){var U=Ge.defaults.renderer||new un,ne=function(Me){var we=U[Me];U[Me]=function(){for(var fe=arguments.length,Ie=new Array(fe),ke=0;ke<fe;ke++)Ie[ke]=arguments[ke];var Ze=G.renderer[Me].apply(U,Ie);return Ze===!1&&(Ze=we.apply(U,Ie)),Ze}};for(var he in G.renderer)ne(he);ve.renderer=U}(),G.tokenizer&&function(){var U=Ge.defaults.tokenizer||new me,ne=function(Me){var we=U[Me];U[Me]=function(){for(var fe=arguments.length,Ie=new Array(fe),ke=0;ke<fe;ke++)Ie[ke]=arguments[ke];var Ze=G.tokenizer[Me].apply(U,Ie);return Ze===!1&&(Ze=we.apply(U,Ie)),Ze}};for(var he in G.tokenizer)ne(he);ve.tokenizer=U}(),G.hooks&&function(){var U=Ge.defaults.hooks||new Ut,ne=function(Me){var we=U[Me];Ut.passThroughHooks.has(Me)?U[Me]=function(fe){if(Ge.defaults.async)return Promise.resolve(G.hooks[Me].call(U,fe)).then(function(ke){return we.call(U,ke)});var Ie=G.hooks[Me].call(U,fe);return we.call(U,Ie)}:U[Me]=function(){for(var fe=arguments.length,Ie=new Array(fe),ke=0;ke<fe;ke++)Ie[ke]=arguments[ke];var Ze=G.hooks[Me].apply(U,Ie);return Ze===!1&&(Ze=we.apply(U,Ie)),Ze}};for(var he in G.hooks)ne(he);ve.hooks=U}(),G.walkTokens){var O=Ge.defaults.walkTokens;ve.walkTokens=function(U){var ne=[];return ne.push(G.walkTokens.call(this,U)),O&&(ne=ne.concat(O.call(this,U))),ne}}Ge.setOptions(ve)})},Ge.walkTokens=function(Pe,Fe){for(var _e=[],X=function(){var U=ve.value;switch(_e=_e.concat(Fe.call(Ge,U)),U.type){case"table":{for(var ne=b(U.header),he;!(he=ne()).done;){var ge=he.value;_e=_e.concat(Ge.walkTokens(ge.tokens,Fe))}for(var Me=b(U.rows),we;!(we=Me()).done;)for(var fe=we.value,Ie=b(fe),ke;!(ke=Ie()).done;){var Ze=ke.value;_e=_e.concat(Ge.walkTokens(Ze.tokens,Fe))}break}case"list":{_e=_e.concat(Ge.walkTokens(U.items,Fe));break}default:Ge.defaults.extensions&&Ge.defaults.extensions.childTokens&&Ge.defaults.extensions.childTokens[U.type]?Ge.defaults.extensions.childTokens[U.type].forEach(function(ct){_e=_e.concat(Ge.walkTokens(U[ct],Fe))}):U.tokens&&(_e=_e.concat(Ge.walkTokens(U.tokens,Fe)))}},G=b(Pe),ve;!(ve=G()).done;)X();return _e},Ge.parseInline=hn(tn.lexInline,Ft.parseInline),Ge.Parser=Ft,Ge.parser=Ft.parse,Ge.Renderer=un,Ge.TextRenderer=Kt,Ge.Lexer=tn,Ge.lexer=tn.lex,Ge.Tokenizer=me,Ge.Slugger=$t,Ge.Hooks=Ut,Ge.parse=Ge;var Nn=Ge.options,vn=Ge.setOptions,dn=Ge.use,Kn=Ge.walkTokens,pt=Ge.parseInline,xn=Ge,li=Ft.parse,xi=tn.lex;a.Hooks=Ut,a.Lexer=tn,a.Parser=Ft,a.Renderer=un,a.Slugger=$t,a.TextRenderer=Kt,a.Tokenizer=me,a.getDefaults=S,a.lexer=xi,a.marked=Ge,a.options=Nn,a.parse=xn,a.parseInline=pt,a.parser=li,a.setOptions=vn,a.use=dn,a.walkTokens=Kn}(Jl)),Jl}var Zl,If;function dk(){if(If)return Zl;If=1;var a=Ei();K1(),Q1(),J1(),em(),tm(),ek(),tk(),nk(),ik(),sk(),Zp();var t=uk(),i=ck().marked,r=/Mac/.test(navigator.platform),l=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),f={toggleBold:pe,toggleItalic:te,drawLink:Dt,toggleHeadingSmaller:Te,toggleHeadingBigger:Re,drawImage:qt,toggleBlockquote:De,toggleOrderedList:He,toggleUnorderedList:je,toggleCodeBlock:Oe,togglePreview:Kt,toggleStrikethrough:re,toggleHeading1:at,toggleHeading2:ze,toggleHeading3:et,toggleHeading4:ft,toggleHeading5:gt,toggleHeading6:be,cleanBlock:ot,drawTable:Be,drawHorizontalRule:Ot,undo:yt,redo:tn,toggleSideBySide:un,toggleFullScreen:se},b={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},x=function(O){for(var U in f)if(f[U]===O)return U;return null},k=function(){var O=!1;return function(U){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(U)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(U.substr(0,4)))&&(O=!0)}(navigator.userAgent||navigator.vendor||window.opera),O};function S(O){for(var U;(U=l.exec(O))!==null;){var ne=U[0];if(ne.indexOf("target=")===-1){var he=ne.replace(/>$/,' target="_blank">');O=O.replace(ne,he)}}return O}function M(O){for(var U=new DOMParser,ne=U.parseFromString(O,"text/html"),he=ne.getElementsByTagName("li"),ge=0;ge<he.length;ge++)for(var Me=he[ge],we=0;we<Me.children.length;we++){var fe=Me.children[we];fe instanceof HTMLInputElement&&fe.type==="checkbox"&&(Me.style.marginLeft="-1.5em",Me.style.listStyleType="none")}return ne.documentElement.innerHTML}function L(O){return r?O=O.replace("Ctrl","Cmd"):O=O.replace("Cmd","Ctrl"),O}function R(O,U,ne,he){var ge=q(O,!1,U,ne,"button",he);ge.classList.add("easymde-dropdown"),ge.onclick=function(){ge.focus()};var Me=document.createElement("div");Me.className="easymde-dropdown-content";for(var we=0;we<O.children.length;we++){var fe=O.children[we],Ie;typeof fe=="string"&&fe in xn?Ie=q(xn[fe],!0,U,ne,"button",he):Ie=q(fe,!0,U,ne,"button",he),Ie.addEventListener("click",function(ke){ke.stopPropagation()},!1),Me.appendChild(Ie)}return ge.appendChild(Me),ge}function q(O,U,ne,he,ge,Me){O=O||{};var we=document.createElement(ge);if(O.attributes)for(var fe in O.attributes)Object.prototype.hasOwnProperty.call(O.attributes,fe)&&we.setAttribute(fe,O.attributes[fe]);var Ie=Me.options.toolbarButtonClassPrefix?Me.options.toolbarButtonClassPrefix+"-":"";we.className=Ie+O.name,we.setAttribute("type",ge),ne=ne??!0,O.text&&(we.innerText=O.text),O.name&&O.name in he&&(f[O.name]=O.action),O.title&&ne&&(we.title=ae(O.title,O.action,he),r&&(we.title=we.title.replace("Ctrl","⌘"),we.title=we.title.replace("Alt","⌥"))),O.title&&we.setAttribute("aria-label",O.title),O.noDisable&&we.classList.add("no-disable"),O.noMobile&&we.classList.add("no-mobile");var ke=[];typeof O.className<"u"&&(ke=O.className.split(" "));for(var Ze=[],ct=0;ct<ke.length;ct++){var dt=ke[ct];dt.match(/^fa([srlb]|(-[\w-]*)|$)/)?Ze.push(dt):we.classList.add(dt)}if(we.tabIndex=-1,Ze.length>0){for(var Xe=document.createElement("i"),At=0;At<Ze.length;At++){var It=Ze[At];Xe.classList.add(It)}we.appendChild(Xe)}return typeof O.icon<"u"&&(we.innerHTML=O.icon),O.action&&U&&(typeof O.action=="function"?we.onclick=function(Ye){Ye.preventDefault(),O.action(Me)}:typeof O.action=="string"&&(we.onclick=function(Ye){Ye.preventDefault(),window.open(O.action,"_blank")})),we}function J(){var O=document.createElement("i");return O.className="separator",O.innerHTML="|",O}function ae(O,U,ne){var he,ge=O;return U&&(he=x(U),ne[he]&&(ge+=" ("+L(ne[he])+")")),ge}function oe(O,U){U=U||O.getCursor("start");var ne=O.getTokenAt(U);if(!ne.type)return{};for(var he=ne.type.split(" "),ge={},Me,we,fe=0;fe<he.length;fe++)Me=he[fe],Me==="strong"?ge.bold=!0:Me==="variable-2"?(we=O.getLine(U.line),/^\s*\d+\.\s/.test(we)?ge["ordered-list"]=!0:ge["unordered-list"]=!0):Me==="atom"?ge.quote=!0:Me==="em"?ge.italic=!0:Me==="quote"?ge.quote=!0:Me==="strikethrough"?ge.strikethrough=!0:Me==="comment"?ge.code=!0:Me==="link"&&!ge.image?ge.link=!0:Me==="image"?ge.image=!0:Me.match(/^header(-[1-6])?$/)&&(ge[Me.replace("header","heading")]=!0);return ge}var ue="";function se(O){var U=O.codemirror;U.setOption("fullScreen",!U.getOption("fullScreen")),U.getOption("fullScreen")?(ue=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=ue;var ne=U.getWrapperElement(),he=ne.nextSibling;if(he.classList.contains("editor-preview-active-side"))if(O.options.sideBySideFullscreen===!1){var ge=ne.parentNode;U.getOption("fullScreen")?ge.classList.remove("sided--no-fullscreen"):ge.classList.add("sided--no-fullscreen")}else un(O);if(O.options.onToggleFullScreen&&O.options.onToggleFullScreen(U.getOption("fullScreen")||!1),typeof O.options.maxHeight<"u"&&(U.getOption("fullScreen")?(U.getScrollerElement().style.removeProperty("height"),he.style.removeProperty("height")):(U.getScrollerElement().style.height=O.options.maxHeight,O.setPreviewMaxHeight())),O.toolbar_div.classList.toggle("fullscreen"),O.toolbarElements&&O.toolbarElements.fullscreen){var Me=O.toolbarElements.fullscreen;Me.classList.toggle("active")}}function pe(O){hn(O,"bold",O.options.blockStyles.bold)}function te(O){hn(O,"italic",O.options.blockStyles.italic)}function re(O){hn(O,"strikethrough","~~")}function Oe(O){var U=O.options.blockStyles.code;function ne(_){if(typeof _!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof _+": "+_;return _.styles&&_.styles[2]&&_.styles[2].indexOf("formatting-code-block")!==-1}function he(_){return _.state.base.base||_.state.base}function ge(_,E,A,B,H){A=A||_.getLineHandle(E),B=B||_.getTokenAt({line:E,ch:1}),H=H||!!A.text&&_.getTokenAt({line:E,ch:A.text.length-1});var V=B.type?B.type.split(" "):[];return H&&he(H).indentedCode?"indented":V.indexOf("comment")===-1?!1:he(B).fencedChars||he(H).fencedChars||ne(A)?"fenced":"single"}function Me(_,E,A,B){var H=E.line+1,V=A.line+1,K=E.line!==A.line,Z=B+`
`,xe=`
`+B;K&&V++,K&&A.ch===0&&(xe=B+`
`,V--),$t(_,!1,[Z,xe]),_.setSelection({line:H,ch:0},{line:V,ch:0})}var we=O.codemirror,fe=we.getCursor("start"),Ie=we.getCursor("end"),ke=we.getTokenAt({line:fe.line,ch:fe.ch||1}),Ze=we.getLineHandle(fe.line),ct=ge(we,fe.line,Ze,ke),dt,Xe,At;if(ct==="single"){var It=Ze.text.slice(0,fe.ch).replace("`",""),Ye=Ze.text.slice(fe.ch).replace("`","");we.replaceRange(It+Ye,{line:fe.line,ch:0},{line:fe.line,ch:99999999999999}),fe.ch--,fe!==Ie&&Ie.ch--,we.setSelection(fe,Ie),we.focus()}else if(ct==="fenced")if(fe.line!==Ie.line||fe.ch!==Ie.ch){for(dt=fe.line;dt>=0&&(Ze=we.getLineHandle(dt),!ne(Ze));dt--);var _t=we.getTokenAt({line:dt,ch:1}),Yt=he(_t).fencedChars,xt,c,h,v;ne(we.getLineHandle(fe.line))?(xt="",c=fe.line):ne(we.getLineHandle(fe.line-1))?(xt="",c=fe.line-1):(xt=Yt+`
`,c=fe.line),ne(we.getLineHandle(Ie.line))?(h="",v=Ie.line,Ie.ch===0&&(v+=1)):Ie.ch!==0&&ne(we.getLineHandle(Ie.line+1))?(h="",v=Ie.line+1):(h=Yt+`
`,v=Ie.line+1),Ie.ch===0&&(v-=1),we.operation(function(){we.replaceRange(h,{line:v,ch:0},{line:v+(h?0:1),ch:0}),we.replaceRange(xt,{line:c,ch:0},{line:c+(xt?0:1),ch:0})}),we.setSelection({line:c+(xt?1:0),ch:0},{line:v+(xt?1:-1),ch:0}),we.focus()}else{var y=fe.line;if(ne(we.getLineHandle(fe.line))&&(ge(we,fe.line+1)==="fenced"?(dt=fe.line,y=fe.line+1):(Xe=fe.line,y=fe.line-1)),dt===void 0)for(dt=y;dt>=0&&(Ze=we.getLineHandle(dt),!ne(Ze));dt--);if(Xe===void 0)for(At=we.lineCount(),Xe=y;Xe<At&&(Ze=we.getLineHandle(Xe),!ne(Ze));Xe++);we.operation(function(){we.replaceRange("",{line:dt,ch:0},{line:dt+1,ch:0}),we.replaceRange("",{line:Xe-1,ch:0},{line:Xe,ch:0})}),we.focus()}else if(ct==="indented"){if(fe.line!==Ie.line||fe.ch!==Ie.ch)dt=fe.line,Xe=Ie.line,Ie.ch===0&&Xe--;else{for(dt=fe.line;dt>=0;dt--)if(Ze=we.getLineHandle(dt),!Ze.text.match(/^\s*$/)&&ge(we,dt,Ze)!=="indented"){dt+=1;break}for(At=we.lineCount(),Xe=fe.line;Xe<At;Xe++)if(Ze=we.getLineHandle(Xe),!Ze.text.match(/^\s*$/)&&ge(we,Xe,Ze)!=="indented"){Xe-=1;break}}var e=we.getLineHandle(Xe+1),n=e&&we.getTokenAt({line:Xe+1,ch:e.text.length-1}),o=n&&he(n).indentedCode;o&&we.replaceRange(`
`,{line:Xe+1,ch:0});for(var d=dt;d<=Xe;d++)we.indentLine(d,"subtract");we.focus()}else{var p=fe.line===Ie.line&&fe.ch===Ie.ch&&fe.ch===0,w=fe.line!==Ie.line;p||w?Me(we,fe,Ie,U):$t(we,!1,["`","`"])}}function De(O){Ut(O.codemirror,"quote")}function Te(O){Ft(O.codemirror,"smaller")}function Re(O){Ft(O.codemirror,"bigger")}function at(O){Ft(O.codemirror,void 0,1)}function ze(O){Ft(O.codemirror,void 0,2)}function et(O){Ft(O.codemirror,void 0,3)}function ft(O){Ft(O.codemirror,void 0,4)}function gt(O){Ft(O.codemirror,void 0,5)}function be(O){Ft(O.codemirror,void 0,6)}function je(O){var U=O.codemirror,ne="*";["-","+","*"].includes(O.options.unorderedListStyle)&&(ne=O.options.unorderedListStyle),Ut(U,"unordered-list",ne)}function He(O){Ut(O.codemirror,"ordered-list")}function ot(O){Ge(O.codemirror)}function Dt(O){var U=O.options,ne="https://";if(U.promptURLs){var he=prompt(U.promptTexts.link,ne);if(!he)return!1;ne=Rn(he)}cn(O,"link",U.insertTexts.link,ne)}function qt(O){var U=O.options,ne="https://";if(U.promptURLs){var he=prompt(U.promptTexts.image,ne);if(!he)return!1;ne=Rn(he)}cn(O,"image",U.insertTexts.image,ne)}function Rn(O){return encodeURI(O).replace(/([\\()])/g,"\\$1")}function me(O){O.openBrowseFileWindow()}function Y(O,U){var ne=O.codemirror,he=oe(ne),ge=O.options,Me=U.substr(U.lastIndexOf("/")+1),we=Me.substring(Me.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(we))$t(ne,he.image,ge.insertTexts.uploadedImage,U);else{var fe=ge.insertTexts.link;fe[0]="["+Me,$t(ne,he.link,fe,U)}O.updateStatusBar("upload-image",O.options.imageTexts.sbOnUploaded.replace("#image_name#",Me)),setTimeout(function(){O.updateStatusBar("upload-image",O.options.imageTexts.sbInit)},1e3)}function Be(O){var U=O.codemirror,ne=oe(U),he=O.options;$t(U,ne.table,he.insertTexts.table)}function Ot(O){var U=O.codemirror,ne=oe(U),he=O.options;$t(U,ne.image,he.insertTexts.horizontalRule)}function yt(O){var U=O.codemirror;U.undo(),U.focus()}function tn(O){var U=O.codemirror;U.redo(),U.focus()}function un(O){var U=O.codemirror,ne=U.getWrapperElement(),he=ne.nextSibling,ge=O.toolbarElements&&O.toolbarElements["side-by-side"],Me=!1,we=ne.parentNode;he.classList.contains("editor-preview-active-side")?(O.options.sideBySideFullscreen===!1&&we.classList.remove("sided--no-fullscreen"),he.classList.remove("editor-preview-active-side"),ge&&ge.classList.remove("active"),ne.classList.remove("CodeMirror-sided")):(setTimeout(function(){U.getOption("fullScreen")||(O.options.sideBySideFullscreen===!1?we.classList.add("sided--no-fullscreen"):se(O)),he.classList.add("editor-preview-active-side")},1),ge&&ge.classList.add("active"),ne.classList.add("CodeMirror-sided"),Me=!0);var fe=ne.lastChild;if(fe.classList.contains("editor-preview-active")){fe.classList.remove("editor-preview-active");var Ie=O.toolbarElements.preview,ke=O.toolbar_div;Ie.classList.remove("active"),ke.classList.remove("disabled-for-preview")}var Ze=function(){var dt=O.options.previewRender(O.value(),he);dt!=null&&(he.innerHTML=dt)};if(U.sideBySideRenderingFunction||(U.sideBySideRenderingFunction=Ze),Me){var ct=O.options.previewRender(O.value(),he);ct!=null&&(he.innerHTML=ct),U.on("update",U.sideBySideRenderingFunction)}else U.off("update",U.sideBySideRenderingFunction);U.refresh()}function Kt(O){var U=O.codemirror,ne=U.getWrapperElement(),he=O.toolbar_div,ge=O.options.toolbar?O.toolbarElements.preview:!1,Me=ne.lastChild,we=U.getWrapperElement().nextSibling;if(we.classList.contains("editor-preview-active-side")&&un(O),!Me||!Me.classList.contains("editor-preview-full")){if(Me=document.createElement("div"),Me.className="editor-preview-full",O.options.previewClass)if(Array.isArray(O.options.previewClass))for(var fe=0;fe<O.options.previewClass.length;fe++)Me.classList.add(O.options.previewClass[fe]);else typeof O.options.previewClass=="string"&&Me.classList.add(O.options.previewClass);ne.appendChild(Me)}Me.classList.contains("editor-preview-active")?(Me.classList.remove("editor-preview-active"),ge&&(ge.classList.remove("active"),he.classList.remove("disabled-for-preview"))):(setTimeout(function(){Me.classList.add("editor-preview-active")},1),ge&&(ge.classList.add("active"),he.classList.add("disabled-for-preview")));var Ie=O.options.previewRender(O.value(),Me);Ie!==null&&(Me.innerHTML=Ie)}function $t(O,U,ne,he){if(!O.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var ge,Me=ne[0],we=ne[1],fe={},Ie={};Object.assign(fe,O.getCursor("start")),Object.assign(Ie,O.getCursor("end")),he&&(Me=Me.replace("#url#",he),we=we.replace("#url#",he)),U?(ge=O.getLine(fe.line),Me=ge.slice(0,fe.ch),we=ge.slice(fe.ch),O.replaceRange(Me+we,{line:fe.line,ch:0})):(ge=O.getSelection(),O.replaceSelection(Me+ge+we),fe.ch+=Me.length,fe!==Ie&&(Ie.ch+=Me.length)),O.setSelection(fe,Ie),O.focus()}}function Ft(O,U,ne){if(!O.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var he=O.getCursor("start"),ge=O.getCursor("end"),Me=he.line;Me<=ge.line;Me++)(function(we){var fe=O.getLine(we),Ie=fe.search(/[^#]/);U!==void 0?Ie<=0?U=="bigger"?fe="###### "+fe:fe="# "+fe:Ie==6&&U=="smaller"?fe=fe.substr(7):Ie==1&&U=="bigger"?fe=fe.substr(2):U=="bigger"?fe=fe.substr(1):fe="#"+fe:Ie<=0?fe="#".repeat(ne)+" "+fe:Ie==ne?fe=fe.substr(Ie+1):fe="#".repeat(ne)+" "+fe.substr(Ie+1),O.replaceRange(fe,{line:we,ch:0},{line:we,ch:99999999999999})})(Me);O.focus()}}function Ut(O,U,ne){if(!O.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var he=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,ge=/^\s*/,Me=oe(O),we=O.getCursor("start"),fe=O.getCursor("end"),Ie={quote:/^(\s*)>\s+/,"unordered-list":he,"ordered-list":he},ke=function(At,It){var Ye={quote:">","unordered-list":ne,"ordered-list":"%%i."};return Ye[At].replace("%%i",It)},Ze=function(At,It){var Ye={quote:">","unordered-list":"\\"+ne,"ordered-list":"\\d+."},_t=new RegExp(Ye[At]);return It&&_t.test(It)},ct=function(At,It,Ye){var _t=he.exec(It),Yt=ke(At,dt);return _t!==null?(Ze(At,_t[2])&&(Yt=""),It=_t[1]+Yt+_t[3]+It.replace(ge,"").replace(Ie[At],"$1")):Ye==!1&&(It=Yt+" "+It),It},dt=1,Xe=we.line;Xe<=fe.line;Xe++)(function(At){var It=O.getLine(At);Me[U]?It=It.replace(Ie[U],"$1"):(U=="unordered-list"&&(It=ct("ordered-list",It,!0)),It=ct(U,It,!1),dt+=1),O.replaceRange(It,{line:At,ch:0},{line:At,ch:99999999999999})})(Xe);O.focus()}}function cn(O,U,ne,he){if(!(!O.codemirror||O.isPreviewActive())){var ge=O.codemirror,Me=oe(ge),we=Me[U];if(!we){$t(ge,we,ne,he);return}var fe=ge.getCursor("start"),Ie=ge.getCursor("end"),ke=ge.getLine(fe.line),Ze=ke.slice(0,fe.ch),ct=ke.slice(fe.ch);U=="link"?Ze=Ze.replace(/(.*)[^!]\[/,"$1"):U=="image"&&(Ze=Ze.replace(/(.*)!\[$/,"$1")),ct=ct.replace(/]\(.*?\)/,""),ge.replaceRange(Ze+ct,{line:fe.line,ch:0},{line:fe.line,ch:99999999999999}),fe.ch-=ne[0].length,fe!==Ie&&(Ie.ch-=ne[0].length),ge.setSelection(fe,Ie),ge.focus()}}function hn(O,U,ne,he){if(!(!O.codemirror||O.isPreviewActive())){he=typeof he>"u"?ne:he;var ge=O.codemirror,Me=oe(ge),we,fe=ne,Ie=he,ke=ge.getCursor("start"),Ze=ge.getCursor("end");Me[U]?(we=ge.getLine(ke.line),fe=we.slice(0,ke.ch),Ie=we.slice(ke.ch),U=="bold"?(fe=fe.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),Ie=Ie.replace(/(\*\*|__)/,"")):U=="italic"?(fe=fe.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),Ie=Ie.replace(/(\*|_)/,"")):U=="strikethrough"&&(fe=fe.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),Ie=Ie.replace(/(\*\*|~~)/,"")),ge.replaceRange(fe+Ie,{line:ke.line,ch:0},{line:ke.line,ch:99999999999999}),U=="bold"||U=="strikethrough"?(ke.ch-=2,ke!==Ze&&(Ze.ch-=2)):U=="italic"&&(ke.ch-=1,ke!==Ze&&(Ze.ch-=1))):(we=ge.getSelection(),U=="bold"?(we=we.split("**").join(""),we=we.split("__").join("")):U=="italic"?(we=we.split("*").join(""),we=we.split("_").join("")):U=="strikethrough"&&(we=we.split("~~").join("")),ge.replaceSelection(fe+we+Ie),ke.ch+=ne.length,Ze.ch=ke.ch+we.length),ge.setSelection(ke,Ze),ge.focus()}}function Ge(O){if(!O.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var U=O.getCursor("start"),ne=O.getCursor("end"),he,ge=U.line;ge<=ne.line;ge++)he=O.getLine(ge),he=he.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),O.replaceRange(he,{line:ge,ch:0},{line:ge,ch:99999999999999})}function Nn(O,U){if(Math.abs(O)<1024)return""+O+U[0];var ne=0;do O/=1024,++ne;while(Math.abs(O)>=1024&&ne<U.length);return""+O.toFixed(1)+U[ne]}function vn(O,U){for(var ne in U)Object.prototype.hasOwnProperty.call(U,ne)&&(U[ne]instanceof Array?O[ne]=U[ne].concat(O[ne]instanceof Array?O[ne]:[]):U[ne]!==null&&typeof U[ne]=="object"&&U[ne].constructor===Object?O[ne]=vn(O[ne]||{},U[ne]):O[ne]=U[ne]);return O}function dn(O){for(var U=1;U<arguments.length;U++)O=vn(O,arguments[U]);return O}function Kn(O){var U=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,ne=O.match(U),he=0;if(ne===null)return he;for(var ge=0;ge<ne.length;ge++)ne[ge].charCodeAt(0)>=19968?he+=ne[ge].length:he+=1;return he}var pt={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},xn={bold:{name:"bold",action:pe,className:pt.bold,title:"Bold",default:!0},italic:{name:"italic",action:te,className:pt.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:re,className:pt.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:Te,className:pt.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:Te,className:pt["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Re,className:pt["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:at,className:pt["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:ze,className:pt["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:et,className:pt["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:Oe,className:pt.code,title:"Code"},quote:{name:"quote",action:De,className:pt.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:je,className:pt["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:He,className:pt["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:ot,className:pt["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:Dt,className:pt.link,title:"Create Link",default:!0},image:{name:"image",action:qt,className:pt.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:me,className:pt["upload-image"],title:"Import an image"},table:{name:"table",action:Be,className:pt.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:Ot,className:pt["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Kt,className:pt.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:un,className:pt["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:se,className:pt.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:pt.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:yt,className:pt.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:tn,className:pt.redo,noDisable:!0,title:"Redo"}},li={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},xi={link:"URL for the link:",image:"URL of the image:"},Pe={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},Fe={bold:"**",code:"```",italic:"*"},_e={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},X={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function G(O){O=O||{},O.parent=this;var U=!0;if(O.autoDownloadFontAwesome===!1&&(U=!1),O.autoDownloadFontAwesome!==!0)for(var ne=document.styleSheets,he=0;he<ne.length;he++)ne[he].href&&ne[he].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(U=!1);if(U){var ge=document.createElement("link");ge.rel="stylesheet",ge.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(ge)}if(O.element)this.element=O.element;else if(O.element===null){console.log("EasyMDE: Error. No element was found.");return}if(O.toolbar===void 0){O.toolbar=[];for(var Me in xn)Object.prototype.hasOwnProperty.call(xn,Me)&&(Me.indexOf("separator-")!=-1&&O.toolbar.push("|"),(xn[Me].default===!0||O.showIcons&&O.showIcons.constructor===Array&&O.showIcons.indexOf(Me)!=-1)&&O.toolbar.push(Me))}if(Object.prototype.hasOwnProperty.call(O,"previewClass")||(O.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(O,"status")||(O.status=["autosave","lines","words","cursor"],O.uploadImage&&O.status.unshift("upload-image")),O.previewRender||(O.previewRender=function(fe){return this.parent.markdown(fe)}),O.parsingConfig=dn({highlightFormatting:!0},O.parsingConfig||{}),O.insertTexts=dn({},li,O.insertTexts||{}),O.promptTexts=dn({},xi,O.promptTexts||{}),O.blockStyles=dn({},Fe,O.blockStyles||{}),O.autosave!=null&&(O.autosave.timeFormat=dn({},Pe,O.autosave.timeFormat||{})),O.iconClassMap=dn({},pt,O.iconClassMap||{}),O.shortcuts=dn({},b,O.shortcuts||{}),O.maxHeight=O.maxHeight||void 0,O.direction=O.direction||"ltr",typeof O.maxHeight<"u"?O.minHeight=O.maxHeight:O.minHeight=O.minHeight||"300px",O.errorCallback=O.errorCallback||function(fe){alert(fe)},O.uploadImage=O.uploadImage||!1,O.imageMaxSize=O.imageMaxSize||2097152,O.imageAccept=O.imageAccept||"image/png, image/jpeg, image/gif, image/avif",O.imageTexts=dn({},_e,O.imageTexts||{}),O.errorMessages=dn({},X,O.errorMessages||{}),O.imagePathAbsolute=O.imagePathAbsolute||!1,O.imageCSRFName=O.imageCSRFName||"csrfmiddlewaretoken",O.imageCSRFHeader=O.imageCSRFHeader||!1,O.imageInputName=O.imageInputName||"image",O.autosave!=null&&O.autosave.unique_id!=null&&O.autosave.unique_id!=""&&(O.autosave.uniqueId=O.autosave.unique_id),O.overlayMode&&O.overlayMode.combine===void 0&&(O.overlayMode.combine=!0),this.options=O,this.render(),O.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(O.initialValue),O.uploadImage){var we=this;this.codemirror.on("dragenter",function(fe,Ie){we.updateStatusBar("upload-image",we.options.imageTexts.sbOnDragEnter),Ie.stopPropagation(),Ie.preventDefault()}),this.codemirror.on("dragend",function(fe,Ie){we.updateStatusBar("upload-image",we.options.imageTexts.sbInit),Ie.stopPropagation(),Ie.preventDefault()}),this.codemirror.on("dragleave",function(fe,Ie){we.updateStatusBar("upload-image",we.options.imageTexts.sbInit),Ie.stopPropagation(),Ie.preventDefault()}),this.codemirror.on("dragover",function(fe,Ie){we.updateStatusBar("upload-image",we.options.imageTexts.sbOnDragEnter),Ie.stopPropagation(),Ie.preventDefault()}),this.codemirror.on("drop",function(fe,Ie){Ie.stopPropagation(),Ie.preventDefault(),O.imageUploadFunction?we.uploadImagesUsingCustomFunction(O.imageUploadFunction,Ie.dataTransfer.files):we.uploadImages(Ie.dataTransfer.files)}),this.codemirror.on("paste",function(fe,Ie){O.imageUploadFunction?we.uploadImagesUsingCustomFunction(O.imageUploadFunction,Ie.clipboardData.files):we.uploadImages(Ie.clipboardData.files)})}}G.prototype.uploadImages=function(O,U,ne){if(O.length!==0){for(var he=[],ge=0;ge<O.length;ge++)he.push(O[ge].name),this.uploadImage(O[ge],U,ne);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",he.join(", ")))}},G.prototype.uploadImagesUsingCustomFunction=function(O,U){if(U.length!==0){for(var ne=[],he=0;he<U.length;he++)ne.push(U[he].name),this.uploadImageUsingCustomFunction(O,U[he]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",ne.join(", ")))}},G.prototype.updateStatusBar=function(O,U){if(this.gui.statusbar){var ne=this.gui.statusbar.getElementsByClassName(O);ne.length===1?this.gui.statusbar.getElementsByClassName(O)[0].textContent=U:ne.length===0?console.log("EasyMDE: status bar item "+O+" was not found."):console.log("EasyMDE: Several status bar items named "+O+" was found.")}},G.prototype.markdown=function(O){if(i){var U;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?U=this.options.renderingConfig.markedOptions:U={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?U.breaks=!1:U.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var ne=this.options.renderingConfig.hljs||window.hljs;ne&&(U.highlight=function(ge,Me){return Me&&ne.getLanguage(Me)?ne.highlight(Me,ge).value:ne.highlightAuto(ge).value})}i.use(U);var he=i.parse(O);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(he=this.options.renderingConfig.sanitizerFunction.call(this,he)),he=S(he),he=M(he),he}},G.prototype.render=function(O){if(O||(O=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===O)return;this.element=O;var U=this.options,ne=this,he={};for(var ge in U.shortcuts)U.shortcuts[ge]!==null&&f[ge]!==null&&function(Ye){he[L(U.shortcuts[Ye])]=function(){var _t=f[Ye];typeof _t=="function"?_t(ne):typeof _t=="string"&&window.open(_t,"_blank")}}(ge);he.Enter="newlineAndIndentContinueMarkdownList",he.Tab="tabAndIndentMarkdownList",he["Shift-Tab"]="shiftTabAndUnindentMarkdownList",he.Esc=function(Ye){Ye.getOption("fullScreen")&&se(ne)},this.documentOnKeyDown=function(Ye){Ye=Ye||window.event,Ye.keyCode==27&&ne.codemirror.getOption("fullScreen")&&se(ne)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var Me,we;U.overlayMode?(a.defineMode("overlay-mode",function(Ye){return a.overlayMode(a.getMode(Ye,U.spellChecker!==!1?"spell-checker":"gfm"),U.overlayMode.mode,U.overlayMode.combine)}),Me="overlay-mode",we=U.parsingConfig,we.gitHubSpice=!1):(Me=U.parsingConfig,Me.name="gfm",Me.gitHubSpice=!1),U.spellChecker!==!1&&(Me="spell-checker",we=U.parsingConfig,we.name="gfm",we.gitHubSpice=!1,typeof U.spellChecker=="function"?U.spellChecker({codeMirrorInstance:a}):t({codeMirrorInstance:a}));function fe(Ye,_t,Yt){return{addNew:!1}}if(this.codemirror=a.fromTextArea(O,{mode:Me,backdrop:we,theme:U.theme!=null?U.theme:"easymde",tabSize:U.tabSize!=null?U.tabSize:2,indentUnit:U.tabSize!=null?U.tabSize:2,indentWithTabs:U.indentWithTabs!==!1,lineNumbers:U.lineNumbers===!0,autofocus:U.autofocus===!0,extraKeys:he,direction:U.direction,lineWrapping:U.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:U.placeholder||O.getAttribute("placeholder")||"",styleSelectedText:U.styleSelectedText!=null?U.styleSelectedText:!k(),scrollbarStyle:U.scrollbarStyle!=null?U.scrollbarStyle:"native",configureMouse:fe,inputStyle:U.inputStyle!=null?U.inputStyle:k()?"contenteditable":"textarea",spellcheck:U.nativeSpellcheck!=null?U.nativeSpellcheck:!0,autoRefresh:U.autoRefresh!=null?U.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=U.minHeight,typeof U.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=U.maxHeight),U.forceSync===!0){var Ie=this.codemirror;Ie.on("change",function(){Ie.save()})}this.gui={};var ke=document.createElement("div");ke.classList.add("EasyMDEContainer"),ke.setAttribute("role","application");var Ze=this.codemirror.getWrapperElement();Ze.parentNode.insertBefore(ke,Ze),ke.appendChild(Ze),U.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),U.status!==!1&&(this.gui.statusbar=this.createStatusbar()),U.autosave!=null&&U.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(ne._autosave_timeout),ne._autosave_timeout=setTimeout(function(){ne.autosave()},ne.options.autosave.submit_delay||ne.options.autosave.delay||1e3)}));function ct(Ye,_t){var Yt,xt=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return Ye<xt?Yt=_t+"px":Yt=_t/Ye*100+"%",Yt}var dt=this;function Xe(Ye,_t){var Yt=new URL(_t.url,document.baseURI).href;Ye.setAttribute("data-img-src",Yt),Ye.setAttribute("style","--bg-image:url("+Yt+");--width:"+_t.naturalWidth+"px;--height:"+ct(_t.naturalWidth,_t.naturalHeight)),dt.codemirror.setSize()}function At(){U.previewImagesInEditor&&ke.querySelectorAll(".cm-image-marker").forEach(function(Ye){var _t=Ye.parentElement;if(_t.innerText.match(/^!\[.*?\]\(.*\)/g)&&!_t.hasAttribute("data-img-src")){var Yt=_t.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),Yt&&Yt.length>=2){var xt=Yt[1];if(U.imagesPreviewHandler){var c=U.imagesPreviewHandler(Yt[1]);typeof c=="string"&&(xt=c)}if(window.EMDEimagesCache[xt])Xe(_t,window.EMDEimagesCache[xt]);else{window.EMDEimagesCache[xt]={};var h=document.createElement("img");h.onload=function(){window.EMDEimagesCache[xt]={naturalWidth:h.naturalWidth,naturalHeight:h.naturalHeight,url:xt},Xe(_t,window.EMDEimagesCache[xt])},h.src=xt}}}})}this.codemirror.on("update",function(){At()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(U.autofocus===!0||O.autofocus)&&this.codemirror.focus();var It=this.codemirror;setTimeout((function(){It.refresh()}).bind(It),0)},G.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function ve(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return G.prototype.autosave=function(){if(ve()){var O=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(O.element.form!=null&&O.element.form!=null&&O.element.form.addEventListener("submit",function(){clearTimeout(O.autosaveTimeoutId),O.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+O.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var U=O.value();U!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,U):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var ne=document.getElementById("autosaved");if(ne!=null&&ne!=null&&ne!=""){var he=new Date,ge=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(he),Me=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;ne.innerHTML=Me+ge}}else console.log("EasyMDE: localStorage not available, cannot autosave")},G.prototype.clearAutosavedValue=function(){if(ve()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},G.prototype.openBrowseFileWindow=function(O,U){var ne=this,he=this.gui.toolbar.getElementsByClassName("imageInput")[0];he.click();function ge(Me){ne.options.imageUploadFunction?ne.uploadImagesUsingCustomFunction(ne.options.imageUploadFunction,Me.target.files):ne.uploadImages(Me.target.files,O,U),he.removeEventListener("change",ge)}he.addEventListener("change",ge)},G.prototype.uploadImage=function(O,U,ne){var he=this;U=U||function(ke){Y(he,ke)};function ge(Ie){he.updateStatusBar("upload-image",Ie),setTimeout(function(){he.updateStatusBar("upload-image",he.options.imageTexts.sbInit)},1e4),ne&&typeof ne=="function"&&ne(Ie),he.options.errorCallback(Ie)}function Me(Ie){var ke=he.options.imageTexts.sizeUnits.split(",");return Ie.replace("#image_name#",O.name).replace("#image_size#",Nn(O.size,ke)).replace("#image_max_size#",Nn(he.options.imageMaxSize,ke))}if(O.size>this.options.imageMaxSize){ge(Me(this.options.errorMessages.fileTooLarge));return}var we=new FormData;we.append("image",O),he.options.imageCSRFToken&&!he.options.imageCSRFHeader&&we.append(he.options.imageCSRFName,he.options.imageCSRFToken);var fe=new XMLHttpRequest;fe.upload.onprogress=function(Ie){if(Ie.lengthComputable){var ke=""+Math.round(Ie.loaded*100/Ie.total);he.updateStatusBar("upload-image",he.options.imageTexts.sbProgress.replace("#file_name#",O.name).replace("#progress#",ke))}},fe.open("POST",this.options.imageUploadEndpoint),he.options.imageCSRFToken&&he.options.imageCSRFHeader&&fe.setRequestHeader(he.options.imageCSRFName,he.options.imageCSRFToken),fe.onload=function(){try{var Ie=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),ge(Me(he.options.errorMessages.importError));return}this.status===200&&Ie&&!Ie.error&&Ie.data&&Ie.data.filePath?U((he.options.imagePathAbsolute?"":window.location.origin+"/")+Ie.data.filePath):Ie.error&&Ie.error in he.options.errorMessages?ge(Me(he.options.errorMessages[Ie.error])):Ie.error?ge(Me(Ie.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),ge(Me(he.options.errorMessages.importError)))},fe.onerror=function(Ie){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+Ie.target.status+" ("+Ie.target.statusText+")"),ge(he.options.errorMessages.importError)},fe.send(we)},G.prototype.uploadImageUsingCustomFunction=function(O,U){var ne=this;function he(we){Y(ne,we)}function ge(we){var fe=Me(we);ne.updateStatusBar("upload-image",fe),setTimeout(function(){ne.updateStatusBar("upload-image",ne.options.imageTexts.sbInit)},1e4),ne.options.errorCallback(fe)}function Me(we){var fe=ne.options.imageTexts.sizeUnits.split(",");return we.replace("#image_name#",U.name).replace("#image_size#",Nn(U.size,fe)).replace("#image_max_size#",Nn(ne.options.imageMaxSize,fe))}O.apply(this,[U,he,ge])},G.prototype.setPreviewMaxHeight=function(){var O=this.codemirror,U=O.getWrapperElement(),ne=U.nextSibling,he=parseInt(window.getComputedStyle(U).paddingTop),ge=parseInt(window.getComputedStyle(U).borderTopWidth),Me=parseInt(this.options.maxHeight),we=Me+he*2+ge*2,fe=we.toString()+"px";ne.style.height=fe},G.prototype.createSideBySide=function(){var O=this.codemirror,U=O.getWrapperElement(),ne=U.nextSibling;if(!ne||!ne.classList.contains("editor-preview-side")){if(ne=document.createElement("div"),ne.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var he=0;he<this.options.previewClass.length;he++)ne.classList.add(this.options.previewClass[he]);else typeof this.options.previewClass=="string"&&ne.classList.add(this.options.previewClass);U.parentNode.insertBefore(ne,U.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return ne;var ge=!1,Me=!1;return O.on("scroll",function(we){if(ge){ge=!1;return}Me=!0;var fe=we.getScrollInfo().height-we.getScrollInfo().clientHeight,Ie=parseFloat(we.getScrollInfo().top)/fe,ke=(ne.scrollHeight-ne.clientHeight)*Ie;ne.scrollTop=ke}),ne.onscroll=function(){if(Me){Me=!1;return}ge=!0;var we=ne.scrollHeight-ne.clientHeight,fe=parseFloat(ne.scrollTop)/we,Ie=(O.getScrollInfo().height-O.getScrollInfo().clientHeight)*fe;O.scrollTo(0,Ie)},ne},G.prototype.createToolbar=function(O){if(O=O||this.options.toolbar,!(!O||O.length===0)){var U;for(U=0;U<O.length;U++)xn[O[U]]!=null&&(O[U]=xn[O[U]]);var ne=document.createElement("div");ne.className="editor-toolbar",ne.setAttribute("role","toolbar");var he=this,ge={};for(he.toolbar=O,U=0;U<O.length;U++)if(!(O[U].name=="guide"&&he.options.toolbarGuideIcon===!1)&&!(he.options.hideIcons&&he.options.hideIcons.indexOf(O[U].name)!=-1)&&!((O[U].name=="fullscreen"||O[U].name=="side-by-side")&&k())){if(O[U]==="|"){for(var Me=!1,we=U+1;we<O.length;we++)O[we]!=="|"&&(!he.options.hideIcons||he.options.hideIcons.indexOf(O[we].name)==-1)&&(Me=!0);if(!Me)continue}(function(ke){var Ze;if(ke==="|"?Ze=J():ke.children?Ze=R(ke,he.options.toolbarTips,he.options.shortcuts,he):Ze=q(ke,!0,he.options.toolbarTips,he.options.shortcuts,"button",he),ge[ke.name||ke]=Ze,ne.appendChild(Ze),ke.name==="upload-image"){var ct=document.createElement("input");ct.className="imageInput",ct.type="file",ct.multiple=!0,ct.name=he.options.imageInputName,ct.accept=he.options.imageAccept,ct.style.display="none",ct.style.opacity=0,ne.appendChild(ct)}})(O[U])}he.toolbar_div=ne,he.toolbarElements=ge;var fe=this.codemirror;fe.on("cursorActivity",function(){var ke=oe(fe);for(var Ze in ge)(function(ct){var dt=ge[ct];ke[ct]?dt.classList.add("active"):ct!="fullscreen"&&ct!="side-by-side"&&dt.classList.remove("active")})(Ze)});var Ie=fe.getWrapperElement();return Ie.parentNode.insertBefore(ne,Ie),ne}},G.prototype.createStatusbar=function(O){O=O||this.options.status;var U=this.options,ne=this.codemirror;if(!(!O||O.length===0)){var he=[],ge,Me,we,fe;for(ge=0;ge<O.length;ge++)if(Me=void 0,we=void 0,fe=void 0,typeof O[ge]=="object")he.push({className:O[ge].className,defaultValue:O[ge].defaultValue,onUpdate:O[ge].onUpdate,onActivity:O[ge].onActivity});else{var Ie=O[ge];Ie==="words"?(fe=function(Xe){Xe.innerHTML=Kn(ne.getValue())},Me=function(Xe){Xe.innerHTML=Kn(ne.getValue())}):Ie==="lines"?(fe=function(Xe){Xe.innerHTML=ne.lineCount()},Me=function(Xe){Xe.innerHTML=ne.lineCount()}):Ie==="cursor"?(fe=function(Xe){Xe.innerHTML="1:1"},we=function(Xe){var At=ne.getCursor(),It=At.line+1,Ye=At.ch+1;Xe.innerHTML=It+":"+Ye}):Ie==="autosave"?fe=function(Xe){U.autosave!=null&&U.autosave.enabled===!0&&Xe.setAttribute("id","autosaved")}:Ie==="upload-image"&&(fe=function(Xe){Xe.innerHTML=U.imageTexts.sbInit}),he.push({className:Ie,defaultValue:fe,onUpdate:Me,onActivity:we})}var ke=document.createElement("div");for(ke.className="editor-statusbar",ge=0;ge<he.length;ge++){var Ze=he[ge],ct=document.createElement("span");ct.className=Ze.className,typeof Ze.defaultValue=="function"&&Ze.defaultValue(ct),typeof Ze.onUpdate=="function"&&this.codemirror.on("update",function(Xe,At){return function(){At.onUpdate(Xe)}}(ct,Ze)),typeof Ze.onActivity=="function"&&this.codemirror.on("cursorActivity",function(Xe,At){return function(){At.onActivity(Xe)}}(ct,Ze)),ke.appendChild(ct)}var dt=this.codemirror.getWrapperElement();return dt.parentNode.insertBefore(ke,dt.nextSibling),ke}},G.prototype.value=function(O){var U=this.codemirror;if(O===void 0)return U.getValue();if(U.getDoc().setValue(O),this.isPreviewActive()){var ne=U.getWrapperElement(),he=ne.lastChild,ge=this.options.previewRender(O,he);ge!==null&&(he.innerHTML=ge)}return this},G.toggleBold=pe,G.toggleItalic=te,G.toggleStrikethrough=re,G.toggleBlockquote=De,G.toggleHeadingSmaller=Te,G.toggleHeadingBigger=Re,G.toggleHeading1=at,G.toggleHeading2=ze,G.toggleHeading3=et,G.toggleHeading4=ft,G.toggleHeading5=gt,G.toggleHeading6=be,G.toggleCodeBlock=Oe,G.toggleUnorderedList=je,G.toggleOrderedList=He,G.cleanBlock=ot,G.drawLink=Dt,G.drawImage=qt,G.drawUploadedImage=me,G.drawTable=Be,G.drawHorizontalRule=Ot,G.undo=yt,G.redo=tn,G.togglePreview=Kt,G.toggleSideBySide=un,G.toggleFullScreen=se,G.prototype.toggleBold=function(){pe(this)},G.prototype.toggleItalic=function(){te(this)},G.prototype.toggleStrikethrough=function(){re(this)},G.prototype.toggleBlockquote=function(){De(this)},G.prototype.toggleHeadingSmaller=function(){Te(this)},G.prototype.toggleHeadingBigger=function(){Re(this)},G.prototype.toggleHeading1=function(){at(this)},G.prototype.toggleHeading2=function(){ze(this)},G.prototype.toggleHeading3=function(){et(this)},G.prototype.toggleHeading4=function(){ft(this)},G.prototype.toggleHeading5=function(){gt(this)},G.prototype.toggleHeading6=function(){be(this)},G.prototype.toggleCodeBlock=function(){Oe(this)},G.prototype.toggleUnorderedList=function(){je(this)},G.prototype.toggleOrderedList=function(){He(this)},G.prototype.cleanBlock=function(){ot(this)},G.prototype.drawLink=function(){Dt(this)},G.prototype.drawImage=function(){qt(this)},G.prototype.drawUploadedImage=function(){me(this)},G.prototype.drawTable=function(){Be(this)},G.prototype.drawHorizontalRule=function(){Ot(this)},G.prototype.undo=function(){yt(this)},G.prototype.redo=function(){tn(this)},G.prototype.togglePreview=function(){Kt(this)},G.prototype.toggleSideBySide=function(){un(this)},G.prototype.toggleFullScreen=function(){se(this)},G.prototype.isPreviewActive=function(){var O=this.codemirror,U=O.getWrapperElement(),ne=U.lastChild;return ne.classList.contains("editor-preview-active")},G.prototype.isSideBySideActive=function(){var O=this.codemirror,U=O.getWrapperElement(),ne=U.nextSibling;return ne.classList.contains("editor-preview-active-side")},G.prototype.isFullscreenActive=function(){var O=this.codemirror;return O.getOption("fullScreen")},G.prototype.getState=function(){var O=this.codemirror;return oe(O)},G.prototype.toTextArea=function(){var O=this.codemirror,U=O.getWrapperElement(),ne=U.parentNode;ne&&(this.gui.toolbar&&ne.removeChild(this.gui.toolbar),this.gui.statusbar&&ne.removeChild(this.gui.statusbar),this.gui.sideBySide&&ne.removeChild(this.gui.sideBySide)),ne.parentNode.insertBefore(U,ne),ne.remove(),O.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},Zl=G,Zl}var hk=dk();const fk=Yg(hk);window.Dropzone=ut;ts.register(...cC);window.Chart=ts;window.EasyMDE=fk;window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};
//# sourceMappingURL=app-BxrnbiPL.js.map
