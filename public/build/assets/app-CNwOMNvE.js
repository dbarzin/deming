var y_=Object.defineProperty;var __=(u,s,o)=>s in u?y_(u,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):u[s]=o;var ae=(u,s,o)=>__(u,typeof s!="symbol"?s+"":s,o);/*!
 ███╗   ███╗███████╗████████╗██████╗  ██████╗     ██╗   ██╗██╗
 ████╗ ████║██╔════╝╚══██╔══╝██╔══██╗██╔═══██╗    ██║   ██║██║
 ██╔████╔██║█████╗     ██║   ██████╔╝██║   ██║    ██║   ██║██║
 ██║╚██╔╝██║██╔══╝     ██║   ██╔══██╗██║   ██║    ██║   ██║██║
 ██║ ╚═╝ ██║███████╗   ██║   ██║  ██║╚██████╔╝    ╚██████╔╝██║
 ╚═╝     ╚═╝╚══════╝   ╚═╝   ╚═╝  ╚═╝ ╚═════╝      ╚═════╝ ╚═╝                                                             

 * Metro UI v5.1.3 Components Library  (https://metroui.org.ua)
 * Build: 5/13/2025, 5:52:59 PM
 * Copyright 2012-2025 by Serhii Pimenov
 * Licensed under MIT
 */(()=>{var Xt,vi,bi;var u=Object.defineProperty,s=(e,a)=>{for(var f in a)u(e,f,{get:a[f],enumerable:!0})},o=e=>!isNaN(e),c="YYYY-MM-DDTHH:mm:ss.sss",h="Invalid date",g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,y=/(%[a-z])/gi,w="%Y-%m-%dT%H:%M:%S.%Q%t",S={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},D={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},A={ms:"ms",s:"second",m:"minute",h:"hour",D:"day",W:"week",M:"month",Y:"year"},O=(e="")=>{throw new Error("This argument is required!")},B=(e,a=!0)=>{try{return a?typeof e<"u":typeof e<"u"&&e!==null}catch{return!1}},H=e=>typeof e>"u"||e===null,q=function(e,a,f){let t=""+e;return f&&t.length>=f?t:Array(f+1-t.length).join(a)+t},Q={months:"Січень_Лютий_Березень_Квітень_Травень_Червень_Липень_Серпень_Вересень_Жовтень_Листопад_Грудень".split("_"),monthsParental:"Січня_Лютого_Березеня_Квітня_Травня_Червня_Липня_Серпня_Вересня_Жовтня_Листопада_Грудня".split("_"),monthsShort:"Січ_Лют_Бер_Кві_Тра_Чер_Лип_Сер_Вер_Жов_Лис_Гру".split("_"),weekdays:"Неділя_Понеділок_Вівторок_Середа_Четвер_П'ятниця_Субота".split("_"),weekdaysShort:"Нед_Пон_Вів_Сер_Чет_Птн_Суб".split("_"),weekdaysMin:"Нд_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),weekStart:1},te={months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_Mär_Apr_Mai_Jun_Jul_Aug_Sep_Okt_Nov_Dez".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"Son_Mon_Die_Mit_Don_Fre_Sam".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekStart:1},K=(Xt=class{constructor(){let a=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(a))),this.locale="en",this.weekStart=Xt.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,!o(this.value.getTime()))throw new Error(h)}static isDatetime(a){return a instanceof Xt}static now(a=!1){return X()[a?"val":"time"]()}static parse(a=O()){return X(Date.parse(a))}static setLocale(a=O(),f=O()){Xt.locales[a]=f}static getLocale(a="en"){return B(Xt.locales[a],!1)?Xt.locales[a]:Xt.locales.en}static align(a,f){let t=X(a),i,r;switch(f){case A.s:i=t.ms(0);break;case A.m:i=Xt.align(t,A.s)[A.s](0);break;case A.h:i=Xt.align(t,A.m)[A.m](0);break;case A.D:i=Xt.align(t,A.h)[A.h](0);break;case A.M:i=Xt.align(t,A.D)[A.D](1);break;case A.Y:i=Xt.align(t,A.M)[A.M](0);break;case A.W:{r=t.weekDay(),i=Xt.align(a,A.D).addDay(-r);break}default:i=t}return i}static alignEnd(a,f){let t=X(a),i,r;switch(f){case A.ms:i=t.ms(999);break;case A.s:i=Xt.alignEnd(t,A.ms);break;case A.m:i=Xt.alignEnd(t,A.s)[A.s](59);break;case A.h:i=Xt.alignEnd(t,A.m)[A.m](59);break;case A.D:i=Xt.alignEnd(t,A.h)[A.h](23);break;case A.M:i=Xt.alignEnd(t,A.D)[A.D](1).add(1,A.M).add(-1,A.D);break;case A.Y:i=Xt.alignEnd(t,A.D)[A.M](11)[A.D](31);break;case A.W:{r=t.weekDay(),i=Xt.alignEnd(t,"day").addDay(6-r);break}default:i=a}return i}immutable(a){return this.mutable=!(H(a)||a),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(a,f){return this.locale=f||B(Xt.locales[a],!1)?a:"en",this.weekStart=Xt.getLocale(this.locale).weekStart,this}clone(){let a=X(this.value);return a.locale=this.locale,a.weekStart=this.weekStart,a.mutable=this.mutable,a}align(a){return this.mutable?(this.value=Xt.align(this,a).val(),this):this.clone().immutable(!1).align(a).immutable(!this.mutable)}alignEnd(a){return this.mutable?(this.value=Xt.alignEnd(this,a).val(),this):this.clone().immutable(!1).alignEnd(a).immutable(!this.mutable)}val(a){return typeof a>"u"||a===null?this.value:this.mutable?(this.value=typeof a=="string"?Date.parse(a):typeof a=="number"?new Date(a):a,this):X(a)}year2(){return+(""+this.year()).slice(-2)}_set(a,f){let t="set"+(this.utcMode&&a!=="t"?"UTC":"")+D[a];if(this.mutable)return this.value[t](f),this;let i=this.clone();return i.value[t](f),i}_get(a){let f="get"+(this.utcMode&&a!=="t"?"UTC":"")+D[a];return this.value[f]()}_work(a,f){return!arguments.length||typeof f>"u"||f===null?this._get(a):this._set(a,f)}ms(a){return this._work("ms",a)}second(a){return this._work("s",a)}minute(a){return this._work("m",a)}hour(a){return this._work("h",a)}day(a){return this._work("D",a)}month(a){return this._work("M",a)}year(a){return this._work("Y",a)}time(a){return this._work("t",a)}weekDay(a){if(!arguments.length||H(a))return this.utcMode?this.value.getUTCDay():this.value.getDay();let f=this.weekDay(),t=a-f;return this.day(this.day()+t),this}get(a){return typeof this[a]!="function"?this:this[a]()}set(a,f){return typeof this[a]!="function"?this:this[a](f)}add(a,f){switch(f){case A.h:return this.time(this.time()+a*60*60*1e3);case A.m:return this.time(this.time()+a*60*1e3);case A.s:return this.time(this.time()+a*1e3);case A.ms:return this.time(this.time()+a);case A.D:return this.day(this.day()+a);case A.W:return this.day(this.day()+a*7);case A.M:return this.month(this.month()+a);case A.Y:return this.year(this.year()+a)}}addHour(a){return this.add(a,A.h)}addMinute(a){return this.add(a,A.m)}addSecond(a){return this.add(a,A.s)}addMs(a){return this.add(a,A.ms)}addDay(a){return this.add(a,A.D)}addWeek(a){return this.add(a,A.W)}addMonth(a){return this.add(a,A.M)}addYear(a){return this.add(a,A.Y)}format(a,f){let t=a||c,i=Xt.getLocale(f||this.locale),r=this.year(),d=this.year2(),m=this.month(),_=this.day(),C=this.weekDay(),k=this.hour(),E=this.minute(),F=this.second(),P=this.ms(),U={YY:d,YYYY:r,M:m+1,MM:q(m+1,0,2),MMM:i.monthsShort[m],MMMM:i.months[m],D:_,DD:q(_,0,2),d:C,dd:i.weekdaysMin[C],ddd:i.weekdaysShort[C],dddd:i.weekdays[C],H:k,HH:q(k,0,2),m:E,mm:q(E,0,2),s:F,ss:q(F,0,2),sss:q(P,0,3)};return t.replace(g,(Y,ee)=>ee||U[Y])}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}},ae(Xt,"locales",{en:S,ua:Q,de:te}),Xt),X=(...e)=>e&&e[0]instanceof K?e[0]:new K(...e),le=K.prototype.format,ne={buddhist(){return this.year()+543},format(e,a){e=e||c;let f={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()},t=e.replace(/(\[[^\]]+])|B{4}|B{2}/g,(i,r)=>r||f[i]);return le.bind(this)(t,a)}};Object.assign(K.prototype,ne);var se=(e,a)=>{let f=e instanceof K?e.clone().align("month"):X(e),t=a===0||a?a:e.weekStart,i=t?f.isoWeekDay():f.weekDay(),r=K.getLocale(f.locale),d=X(),m,_=(k,E)=>{if(E===0)return k;let F=k[0];return k.slice(1).concat([F])},C={month:r.months[f.month()],days:[],weekstart:a?1:0,weekdays:_(r.weekdaysMin,t),today:d.format("YYYY-MM-DD"),weekends:[],week:[]};for(f.addDay(t?-i+1:-i),m=0;m<42;m++)C.days.push(f.format("YYYY-MM-DD")),f.add(1,"day");for(C.weekends=C.days.filter(function(k,E){return t===0?[0,6,7,13,14,20,21,27,28,34,35,41].includes(E):[5,6,12,13,19,20,26,27,33,34,40,41].includes(E)}),f=d.clone(),i=t?f.isoWeekDay():f.weekDay(),f.addDay(t?-i+1:-i),m=0;m<7;m++)C.week.push(f.format("YYYY-MM-DD")),f.add(1,"day");return C};Object.assign(K.prototype,{calendar(e){return se(this,e)}});var we=K.prototype.format;Object.assign(K.prototype,{century(){return Math.ceil(this.year()/100)},format(e,a){e=e||c;let f={C:this.century()},t=e.replace(/(\[[^\]]+])|C/g,(i,r)=>r||f[i]);return we.bind(this)(t,a)}}),Object.assign(K.prototype,{same(e){return this.time()===X(e).time()},compare(e,a,f="="){let t=X(e),i=X(this.value),r,d;switch(f=f||"=",["<",">",">=","<=","=","!="].includes(f)===!1&&(f="="),a=(a||"ms").toLowerCase(),r=i.align(a).time(),d=t.align(a).time(),f){case"<":return r<d;case">":return r>d;case"<=":return r<=d;case">=":return r>=d;case"=":return r===d;case"!=":return r!==d}},between(e,a){return this.younger(e)&&this.older(a)},older(e,a){return this.compare(e,a,"<")},olderOrEqual(e,a){return this.compare(e,a,"<=")},younger(e,a){return this.compare(e,a,">")},youngerOrEqual(e,a){return this.compare(e,a,">=")},equal(e,a){return this.compare(e,a,"=")},notEqual(e,a){return this.compare(e,a,"!=")},diff(e){let a=X(e),f=Math.abs(this.time()-a.time()),t=Math.abs(this.month()-a.month()+12*(this.year()-a.year()));return{ms:f,second:Math.ceil(f/1e3),minute:Math.ceil(f/(1e3*60)),hour:Math.ceil(f/(1e3*60*60)),day:Math.ceil(f/(1e3*60*60*24)),month:t,year:Math.floor(t/12)}},distance(e,a){return this.diff(e)[a]}}),Object.assign(K.prototype,{isLeapYear(){let e=this.year();return e%4===0&&e%100!==0||e%400===0}}),Object.assign(K.prototype,{dayOfYear(){let e=[0,31,59,90,120,151,181,212,243,273,304,334],a=this.month(),f=this.day();return e[a]+f+(a>1&&this.isLeapYear()?1:0)}}),Object.assign(K.prototype,{daysInMonth(){return X(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear(){return this.isLeapYear()?366:365},daysInYearMap(){let e=[],a=X(this.value);a.month(0).day(1);for(let f=0;f<12;f++)a.add(1,"month").add(-1,"day"),e.push(a.day()),a.day(1).add(1,"month");return e},daysInYearObj(e,a){let f=this.daysInYearMap(),t={},i=K.getLocale(e||this.locale);return f.forEach((r,d)=>t[i[a?"monthsShort":"months"][d]]=r),t}}),Object.assign(K.prototype,{decade(){return Math.floor(this.year()/10)*10},decadeStart(){let e=this.decade();return(this.mutable?this:this.clone()).year(e).month(0).day(1)},decadeEnd(){let e=this.decade()+9;return(this.mutable?this:this.clone()).year(e).month(11).day(31)},decadeOfMonth(){let e=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,a=this.day();return a<=e?1:a<=e*2?2:3}}),Object.assign(K,{from(e,a,f){let t,i,r,d,m,_,C,k,E,F,P,U,Y,ee,Ae,$e,ze,Re,Se,Le=function(wt,Ft){return wt.map(function(Mi){return Mi.toLowerCase()}).indexOf(Ft.toLowerCase())},Me=function(wt){let Ft=-1,Mi=K.getLocale(f||"en");return H(wt)?-1:(Ft=Le(Mi.months,wt),Ft===-1&&typeof Mi.monthsParental<"u"&&(Ft=Le(Mi.monthsParental,wt)),Ft===-1&&(wt=wt.substr(0,3),Ft=Le(Mi.monthsShort,wt)),Ft===-1?-1:Ft+1)},Fe=function(wt){let Ft={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]},Mi=-1,pn,Si;for(let On=0;On<Ft[wt].length;On++)if(pn=Ft[wt][On],Si=r.indexOf(pn),Si!==-1){Mi=Si;break}return Mi};if(!a)return X();if(t=e.replace(/[\/,.:\s]/g,"-"),i=a.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),r=i.split("-"),d=t.split("-"),t.replace(/-/g,"").trim()==="")throw new Error(h);return m=Fe("month"),_=Fe("day"),C=Fe("year"),k=Fe("hour"),E=Fe("minute"),F=Fe("second"),P=Fe("ms"),m>-1&&d[m]?isNaN(parseInt(d[m]))?(d[m]=Me(d[m]),d[m]===-1&&(m=-1)):(Se=parseInt(d[m]),(Se<1||Se>12)&&(m=-1)):m=-1,U=C>-1&&d[C]?d[C]:0,Y=m>-1&&d[m]?d[m]:1,ee=_>-1&&d[_]?d[_]:1,Ae=k>-1&&d[k]?d[k]:0,$e=E>-1&&d[E]?d[E]:0,ze=F>-1&&d[F]?d[F]:0,Re=P>-1&&d[P]?d[P]:0,X(U,Y-1,ee,Ae,$e,ze,Re)}});var be=K.prototype.format;Object.assign(K.prototype,{ampm(e){let a=this.hour()<12?"AM":"PM";return e?a.toLowerCase():a},hour12:function(e,a){let f=e;return arguments.length===0?this.hour()%12:(a=a||"am",a.toLowerCase()==="pm"&&(f+=12),this.hour(f))},format:function(e,a){let f,t,i=this.hour12();return e=e||c,f={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:i,hh:q(i,0,2)},t=e.replace(/(\[[^\]]+])|a|A|h{1,2}/g,(r,d)=>d||f[r]),be.bind(this)(t,a)}});var ve=K.prototype.format,De=K.align,Ge=K.alignEnd;Object.assign(K,{align(e,a){let f=X(e),t,i;switch(a){case"isoWeek":i=f.isoWeekDay(),t=De(f,"day").addDay(-i+1);break;default:t=De.apply(void 0,[f,a])}return t},alignEnd(e,a){let f=X(e),t,i;switch(a){case"isoWeek":i=f.isoWeekDay(),t=Ge(f,"day").addDay(7-i);break;default:t=Ge.apply(void 0,[f,a])}return t}}),Object.assign(K.prototype,{isoWeekDay(e){let a=(this.weekDay()+6)%7+1;return!arguments.length||H(e)?a:this.addDay(e-a)},format(e,a){e=e||c;let f={I:this.isoWeekDay()},t=e.replace(/(\[[^\]]+])|I{1,2}/g,(i,r)=>r||f[i]);return ve.bind(this)(t,a)}}),Object.assign(K,{max(){return[].slice.call(arguments).map(e=>X(e)).sort((e,a)=>a.time()-e.time())[0]}}),Object.assign(K.prototype,{max(){return K.max.apply(this,[this].concat([].slice.call(arguments)))}}),Object.assign(K,{min(){return[].slice.call(arguments).map(e=>X(e)).sort((e,a)=>e.time()-a.time())[0]}}),Object.assign(K.prototype,{min(){return K.min.apply(this,[this].concat([].slice.call(arguments)))}});var Ie=K.align,Ue=K.alignEnd,nt=K.prototype.add;Object.assign(K,{align(e,a){let f=X(e),t;switch(a){case"quarter":t=K.align(f,"day").day(1).month(f.quarter()*3-3);break;default:t=Ie.apply(this,[f,a])}return t},alignEnd(e,a){let f=X(e),t;switch(a){case"quarter":t=K.align(f,"quarter").add(3,"month").add(-1,"ms");break;default:t=Ue.apply(this,[f,a])}return t}}),Object.assign(K.prototype,{quarter(){let e=this.month();return e<=2?1:e<=5?2:e<=8?3:4},add(e,a){return a==="quarter"?this.month(this.month()+e*3):nt.bind(this)(e,a)},addQuarter(e){return this.add(e,"quarter")}}),Object.assign(K,{sort(e,a){let f,t,i={};switch(typeof a=="string"||typeof a!="object"||H(a)?(i.format=c,i.dir=a&&a.toUpperCase()==="DESC"?"DESC":"ASC",i.returnAs="datetime"):(i.format=a.format||c,i.dir=(a.dir||"ASC").toUpperCase(),i.returnAs=a.format?"string":a.returnAs||"datetime"),t=e.map(r=>X(r)).sort((r,d)=>r.valueOf()-d.valueOf()),i.dir==="DESC"&&t.reverse(),i.returnAs){case"string":f=t.map(r=>r.format(i.format));break;case"date":f=t.map(r=>r.val());break;default:f=t}return f}});var rt=K.prototype.format;Object.assign(K.prototype,{utcOffset(){return this.value.getTimezoneOffset()},timezone(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format(e,a){e=e||c;let f={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()},t=e.replace(/(\[[^\]]+])|Z{1,3}|z/g,(i,r)=>r||f[i]);return rt.bind(this)(t,a)}});var ce=K.prototype.format;Object.assign(K.prototype,{weekNumber(e=0){let a,f,t,i,r,d;return t=X(this.year(),0,1),i=t.weekDay()-e,i=i>=0?i:i+7,r=Math.floor((this.time()-t.time()-(this.utcOffset()-t.utcOffset())*6e4)/864e5)+1,i<4?(d=Math.floor((r+i-1)/7)+1,d>52&&(a=X(this.year()+1,0,1),f=a.weekDay()-e,f=f>=0?f:f+7,d=f<4?1:53)):(d=Math.floor((r+i-1)/7),d===0&&(d=X(this.year()-1,11,31).weekNumber(e),e===1&&r<=7-i&&(d=1))),d},isoWeekNumber(){let e=new Date(this.time());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);let a=new Date(e.getFullYear(),0,4);return a.setDate(a.getDate()+3-(a.getDay()+6)%7),1+Math.round(((e.getTime()-a.getTime())/864e5-3+(a.getDay()+6)%7)/7)},weeksInYear(e=0){let a=X(this.value).month(11).day(31),f=a.weekNumber(e);return f===1&&a.weekDay()===e?a.add(-1,"day").weekNumber(e):f},format:function(e,a){let f,t,i=this.weekNumber(),r=this.isoWeekNumber();return e=e||c,f={W:i,WW:q(i,0,2),WWW:r,WWWW:q(r,0,2)},t=e.replace(/(\[[^\]]+])|W{1,4}/g,(d,m)=>m||f[d]),ce.bind(this)(t,a)}}),Object.assign(K.prototype,{strftime(e,a){let f=e||w,t=K.getLocale(a||this.locale),i=this.year(),r=this.year2(),d=this.month(),m=this.day(),_=this.weekDay(),C=this.hour(),k=this.hour12(),E=this.minute(),F=this.second(),P=this.ms(),U=this.time(),Y=q(m,0,2),ee=q(d+1,0,2),Ae=q(C,0,2),$e=q(k,0,2),ze=q(E,0,2),Re=q(F,0,2),Se=q(P,0,3),Le=this,Me=function(){return X(Le.value).day(Le.day()-(Le.weekDay()+6)%7+3)},Fe={"%a":t.weekdaysShort[_],"%A":t.weekdays[_],"%b":t.monthsShort[d],"%h":t.monthsShort[d],"%B":t.months[d],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":Y,"%D":[Y,ee,i].join("/"),"%e":m,"%F":[i,ee,Y].join("-"),"%G":Me().year(),"%g":(""+Me().year()).slice(2),"%H":Ae,"%I":$e,"%j":q(this.dayOfYear(),0,3),"%k":Ae,"%l":$e,"%m":ee,"%n":d+1,"%M":ze,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(U/1e3),"%S":Re,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":_,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":r,"%Y":i,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[$e,ze,Re].join(":")+" "+this.ampm(),"%R":[Ae,ze].join(":"),"%T":[Ae,ze,Re].join(":"),"%Q":Se,"%q":P,"%t":this.timezone()};return f.replace(y,wt=>Fe[wt]===0||Fe[wt]?Fe[wt]:wt)}}),Object.assign(K,{isToday(e){let a=X(e).align("day"),f=X().align("day");return a.time()===f.time()}}),Object.assign(K.prototype,{isToday(){return K.isToday(this)},today(){let e=X();return this.mutable?this.val(e.val()):e}}),Object.assign(K,{isTomorrow(e){let a=X(e).align("day"),f=X().align("day").add(1,"day");return a.time()===f.time()}}),Object.assign(K.prototype,{isTomorrow(){return K.isTomorrow(this)},tomorrow(){return this.mutable?this.add(1,"day"):this.clone().immutable(!1).add(1,"day").immutable(!this.mutable)}}),Object.assign(K.prototype,{toDateString(){return this.value.toDateString()},toISOString(){return this.value.toISOString()},toJSON(){return this.value.toJSON()},toGMTString(){return this.value.toGMTString()},toLocaleDateString(){return this.value.toLocaleDateString()},toLocaleString(){return this.value.toLocaleString()},toLocaleTimeString(){return this.value.toLocaleTimeString()},toTimeString(){return this.value.toTimeString()},toUTCString(){return this.value.toUTCString()},toDate(){return new Date(this.value)}}),Object.assign(K,{timestamp(){return new Date().getTime()/1e3}}),Object.assign(K.prototype,{unix(e){let a;return!arguments.length||H(e)?Math.floor(this.valueOf()/1e3):(a=e*1e3,this.mutable?this.time(a):X(this.value).time(a))},timestamp(){return this.unix()}}),Object.assign(K,{isYesterday(e){let a=X(e).align("day"),f=X().align("day").add(-1,"day");return a.time()===f.time()}}),Object.assign(K.prototype,{isYesterday(){return K.isYesterday(this)},yesterday(){return this.mutable?this.add(-1,"day"):this.clone().immutable(!1).add(-1,"day").immutable(!this.mutable)}});var Pe=e=>{let a,f=Math.floor(e/1e3),t=Math.floor(f/60),i=Math.floor(t/60),r=Math.floor(i/24),d=Math.floor(r/30),m=Math.floor(d/12);return m>=1&&(a=`${m} year`),d>=1&&m<1&&(a=`${d} mon`),r>=1&&r<=30&&(a=`${r} days`),i&&i<24&&(a=`${i} hour`),t&&t>=40&&t<60&&(a="less a hour"),t&&t<40&&(a=`${t} min`),f&&f>=30&&f<60&&(a=`${f} sec`),f<30&&(a="few sec"),a};Object.assign(K,{timeLapse(e){let a=X(e),f=X(),t=f-a;return Pe(t)}}),Object.assign(K.prototype,{timeLapse(){let e=X()-+this;return Pe(e)}});var Oe={parseTime(e){if(!isNaN(e))return Math.abs(+e);let a=/([0-9]+d)|([0-9]{1,2}h)|([0-9]{1,2}m)|([0-9]{1,2}s)/gm;return e.match(a).reduce((f,t)=>{let i;return t.includes("d")?i=1e3*60*60*24*parseInt(t):t.includes("h")?i=1e3*60*60*parseInt(t):t.includes("m")?i=1e3*60*parseInt(t):t.includes("s")&&(i=1e3*parseInt(t)),f+i},0)}};Object.assign(K,Oe),Object.assign(K.prototype,{moon(){let e=["new-moon","waxing-crescent","first-quarter","waxing-gibbous","full-moon","waning-gibbous","last-quarter","waning-crescent"];return(()=>{let a=this.year(),f=this.month(),t=this.day(),i,r,d,m=i=r=d=0;return f<3&&(a--,f+=12),++f,m=365.25*a,i=30.6*f,r=m+i+t-694039.09,r/=29.5305882,d=parseInt(r),r-=d,d=Math.round(r*8),d>=8&&(d=0),{phase:d,name:e[d]}})()}});var Je="3.2.4",mt="12.05.2025, 13:23:35",Ht=()=>{console.info(`%c Datetime %c v${Je} %c ${mt} `,"color: #ffffff; font-weight: bold; background: #003152","color: white; background: darkgreen","color: white; background: #0080fe;")};K.info=Ht,K.correctDate=e=>X(e).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),globalThis.Datetime=K,globalThis.datetime=X,(()=>{let e=["january","february","march","april","may","june","july","august","september","october","november","december"],a=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],f=K.getLocale;K.getLocale=function(t="en"){let i=t;if(!Metro)return f.call(this,t);Metro.locales[i]||(i="en");let r=Metro.locales[i],d=e.map((E,F)=>r[E]),m=e.map((E,F)=>r[`${E}_short`]),_=a.map((E,F)=>r[E]),C=a.map((E,F)=>r[`${E}_short`]),k=a.map((E,F)=>r[`${E}_short_2`]);return{months:d,monthsShort:m,weekdays:_,weekdaysShort:C,weekdaysMin:k,weekStart:r.weekStart}}})();var Zi=Object.defineProperty,ue=(e,a)=>{for(var f in a)Zi(e,f,{get:a[f],enumerable:!0})},$={};ue($,{append:()=>ul,camelCase:()=>me,capitalize:()=>ke,chars:()=>R,count:()=>je,countChars:()=>et,countSubstr:()=>gt,countUniqueChars:()=>We,countUniqueWords:()=>xt,countWords:()=>_t,dashedName:()=>j,decapitalize:()=>V,endsWith:()=>Rn,escapeHtml:()=>Wt,first:()=>Pa,includes:()=>al,insert:()=>fr,isAlpha:()=>Rt,isAlphaDigit:()=>Ls,isBlank:()=>pr,isDigit:()=>Na,isEmpty:()=>He,isLower:()=>vt,isString:()=>br,isUpper:()=>mr,kebab:()=>he,last:()=>Ba,lower:()=>I,lpad:()=>sa,ltrim:()=>ds,matches:()=>ll,nvl:()=>hl,pad:()=>Is,prepend:()=>cl,prune:()=>As,repeat:()=>Ms,reverse:()=>J,rpad:()=>Zu,rtrim:()=>So,shorten:()=>ec,shuffle:()=>de,slice:()=>dn,snake:()=>Ce,split:()=>ol,sprintf:()=>Os,startsWith:()=>gr,strip:()=>Ra,stripBoom:()=>dl,stripTags:()=>To,stripTagsAll:()=>Do,substring:()=>Zn,swap:()=>re,title:()=>_e,trim:()=>at,truncate:()=>En,truncateWithAlign:()=>vn,unescapeHtml:()=>ta,unique:()=>ia,uniqueWords:()=>ko,upper:()=>ge,vsprintf:()=>zn,words:()=>xe,wrap:()=>rl,wrapTag:()=>vr});var Te="\\d",yt="\\s\\uFEFF\\xA0",ot="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",Zt="\\u2000-\\u206F",ti="\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7",$t="\\u2700-\\u27BF",Nt="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",kt="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",Lt=new RegExp("^["+yt+"]+"),ii=new RegExp("["+yt+"]+$"),hi=new RegExp("^"+Te+"+$"),ut=/[<>&"'`]/g,ji=/(<([^>]+)>)/ig,Ui=new RegExp("(?:["+kt+"]["+ot+"]*)?(?:["+Nt+"]["+ot+"]*)+|(?:["+kt+"]["+ot+"]*)+(?!["+Nt+"])|["+Te+"]+|["+$t+"]|[^"+ti+Zt+yt+"]+","g"),ni=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,Tn=new RegExp("^(?:["+Nt+kt+"]["+ot+"]*)+$"),st=new RegExp("^((?:["+Nt+kt+"]["+ot+"]*)|["+Te+"])+$"),li=/^[\x01-\xFF]*$/,ct=(e,a="")=>!e&&typeof e!="number"&&typeof e!="boolean"?a:typeof e=="string"?e:Array.isArray(e)?e.join(""):JSON.stringify(e),cs=(e,a)=>typeof e>"u"||e===null?a:e,xe=(e,a,f)=>{let t;return a?a instanceof RegExp?t=a:t=new RegExp(a,cs(f,"")):t=li.test(e)?ni:Ui,cs(ct(e).match(t),[])},ke=(e,a=!1)=>{let f=ct(e),t=f.substring(1);return f.substring(0,1).toUpperCase()+(a?t.toLowerCase():t)},me=e=>xe(ct(e)).map((a,f)=>f===0?a.toLowerCase():ke(a)).join(""),j=e=>xe(ct(e)).map(a=>a.toLowerCase()).join("-"),V=e=>{let a=ct(e);return a.substring(0,1).toLowerCase()+a.substr(1)},he=(e,a="-")=>xe(ct(e)).map(f=>f.toLowerCase()).join(a),I=e=>ct(e).toLowerCase(),R=(e,a=[])=>ct(e).split("").filter(f=>!a.includes(f)),J=(e,a)=>R(ct(e),a).reverse().join(""),oe=(e=[])=>{let a=[...e],f=a.length,t,i;for(;f!==0;)i=Math.floor(Math.random()*f),f-=1,t=a[f],a[f]=a[i],a[i]=t;return a},de=e=>oe(ct(e).split("")).join(""),Ce=e=>xe(ct(e)).map(a=>a.toLowerCase()).join("_"),fe=(e,a)=>{let f=a.toLowerCase(),t=a.toUpperCase();return e+(a===f?t:f)},re=e=>ct(e).split("").reduce(fe,""),_e=(e,a,f="")=>{let t=ct(e),i=li.test(t)?ni:Ui,r=Array.isArray(a)?a:typeof a!="string"?[]:a.split(f);return e.replace(i,(d,m)=>m&&r.includes(t[m-1])?I(d):ke(d))},ge=e=>ct(e).toUpperCase(),je=e=>ct(e).length,Qe=(e=[])=>{let a=[...e];for(let f=0;f<a.length;++f)for(let t=f+1;t<a.length;++t)a[f]===a[t]&&a.splice(t--,1);return a},et=(e,a)=>R(e,a).length,We=(e,a)=>Qe(R(e,a)).length,gt=(e,a="")=>{let f=ct(e),t=ct(a);return f===""||t===""?0:f.split(t).length-1},_t=(e,a,f)=>xe(e,a,f).length,xt=(e,a,f)=>Qe(xe(e,a,f)).length,ft={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function Vt(e){return ft[e]}var Wt=e=>ct(e).replace(ut,Vt),fi={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},Ji=Object.keys(fi);function qi(e,a){return e.replace(fi[a],a)}var ta=e=>Ji.reduce(qi,ct(e)),ia=(e,a)=>Qe(R(e,a)).join(""),ko=(e,a,f)=>Qe(xe(e,a,f)).join(""),Zn=(e,a,f)=>ct(e).substring(a,f),Pa=(e,a=0)=>Zn(ct(e),0,a),Ba=(e,a=0)=>{let f=ct(e);return f?Zn(f,f.length-a):""},nl="\uFEFF",pi=(e,a,f=9007199254740991)=>e<a?a:e>f?f:e,cn=e=>e===1/0?9007199254740991:e===-1/0?-9007199254740991:~~e,En=(e,a=0,f="...")=>{let t=ct(e),i=a?pi(cn(a),0,9007199254740991):t.length;return Zn(t,0,i)+(t.length===i?"":f)},vn=(e,a=0,f="...")=>{let t=En(e,a,"");return t.slice(e,t.lastIndexOf(" "))+f},dn=(e,a=1)=>{let f=ct(e),t=[],i=Math.round(f.length/a);for(let r=0;r<a;r++)t.push(Zn(f,r*i,i));return t},As=(e,a=0,f="")=>{let t=ct(e),i=a?pi(cn(a),0,9007199254740991):t.length,r=0,d=li.test(t)?ni:Ui;return t.replace(d,(m,_)=>{let C=_+m.length;C<=i-f.length&&(r=C)}),t.substring(0,r)+f},Ms=(e,a=0)=>{let f=ct(e),t=a?pi(cn(a),0,9007199254740991):f.length,i=f;if(a===0)return"";for(let r=0;r<t-1;r++)f+=i;return f},Fs=(e,a=0)=>{let f=e.length,t=a-f;return Ms(e,t+1).substring(0,a)},na=(e,a="",f=0,t=!1)=>{let i=ct(e),r=f?pi(cn(f),0,9007199254740991):i.length,d=a.length,m=r-i.length,_=m;if(m<=0||d===0)return i;let C=Fs(a,_);return t?C+i:i+C},sa=(e,a=" ",f=0)=>na(e,a,f,!0),Zu=(e,a=" ",f=0)=>na(e,a,f,!1),Is=(e,a="",f=0)=>{let t=ct(e),i=f?pi(cn(f),0,9007199254740991):t.length,r=a.length,d=i-t.length,m=cn(d/2),_=d%2;return d<=0||r===0?t:Fs(a,m)+t+Fs(a,m+_)},fr=(e,a="",f=0)=>{let t=ct(e);return t.substring(0,f)+a+t.substring(f)},Ju=Array.prototype.reduce,Ci=Array.prototype.reduceRight,at=(e,a)=>ds(So(e,a),a),ds=(e,a)=>{let f=ct(e);if(!a)return f.replace(Lt,"");if(a===""||f==="")return f;typeof a!="string"&&(a="");let t=!0;return Ju.call(f,(i,r)=>t&&a.includes(r)?i:(t=!1,i+r),"")},So=(e,a)=>{let f=ct(e);if(!a)return f.replace(ii,"");if(a===""||f==="")return f;typeof a!="string"&&(a="");let t=!0;return Ci.call(f,(i,r)=>t&&a.includes(r)?i:(t=!1,r+i),"")},Rn=(e,a,f)=>ct(e).endsWith(a,f),Rt=e=>Tn.test(ct(e)),Ls=e=>st.test(ct(e)),Na=e=>hi.test(ct(e)),pr=(e,a=!0)=>a?ct(e).length===0:at(e).length===0,He=e=>at(e).length===0,vt=e=>I(e)===e,mr=e=>ge(e)===e,gr=(e,a,f)=>ct(e).startsWith(a,f),Do=e=>ct(e).replace(ji,""),To=(e,a=[])=>{let f=ct(e),t=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return f.replace(t,(i,r)=>a.includes(r)?i:"")},bn={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function Ct(e,a){let f=1,t=e.length,i,r="",d,m,_,C,k,E;for(let F=0;F<t;F++)if(typeof e[F]=="string")r+=e[F];else if(typeof e[F]=="object"){if(d=e[F],d.keys){i=a[f];for(let P=0;P<d.keys.length;P++){if(typeof i>"u")throw new Error(Os('[sprintf] Cannot access property "%s" of undefined value "%s"',d.keys[P],d.keys[P-1]));i=i[d.keys[P]]}}else d.param_no?i=a[d.param_no]:i=a[f++];if(bn.not_type.test(d.type)&&bn.not_primitive.test(d.type)&&i instanceof Function&&(i=i()),bn.numeric_arg.test(d.type)&&typeof i!="number"&&isNaN(i))throw new TypeError(Os("[sprintf] expecting number but found %T"));switch(bn.number.test(d.type)&&(k=i>=0),d.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,d.width?parseInt(d.width):0);break;case"e":i=d.precision?parseFloat(i).toExponential(d.precision):parseFloat(i).toExponential();break;case"f":i=d.precision?parseFloat(i).toFixed(d.precision):parseFloat(i);break;case"g":i=d.precision?String(Number(i.toPrecision(d.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=d.precision?i.substring(0,d.precision):i;break;case"t":i=String(!!i),i=d.precision?i.substring(0,d.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=d.precision?i.substring(0,d.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=d.precision?i.substring(0,d.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase();break}bn.json.test(d.type)?r+=i:(bn.number.test(d.type)&&(!k||d.sign)?(E=k?"+":"-",i=i.toString().replace(bn.sign,"")):E="",_=d.pad_char?d.pad_char==="0"?"0":d.pad_char.charAt(1):" ",C=d.width-(E+i).length,m=d.width&&C>0?_.repeat(C):"",r+=d.align?E+i+m:_==="0"?E+m+i:m+E+i)}return r}var sl=Object.create(null);function Qu(e){if(sl[e])return sl[e];let a=e,f,t=[],i=0;for(;a;){if((f=bn.text.exec(a))!==null)t.push(f[0]);else if((f=bn.modulo.exec(a))!==null)t.push("%");else if((f=bn.placeholder.exec(a))!==null){if(f[2]){i|=1;let r=[],d=f[2],m=[];if((m=bn.key.exec(d))!==null)for(r.push(m[1]);(d=d.substring(m[0].length))!=="";)if((m=bn.key_access.exec(d))!==null)r.push(m[1]);else if((m=bn.index_access.exec(d))!==null)r.push(m[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");f[2]=r}else i|=2;if(i===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");t.push({placeholder:f[0],param_no:f[1],keys:f[2],sign:f[3],pad_char:f[4],align:f[5],width:f[6],precision:f[7],type:f[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");a=a.substring(f[0].length)}return sl[e]=t}var Os=e=>Ct(Qu(e),arguments),zn=(e,a)=>Os.apply(null,[e].concat(a||[])),al=(e,a,f)=>ct(e).includes(a,f),ol=(e,a=void 0,f=void 0,t=!0)=>ct(e).split(a,f).map(i=>t?i.trim():i).filter(i=>t?!He(i):!0),Ra=(e,a=null,f="")=>{let t=ct(e),i;return a?(i=new RegExp(a,"g"),t.replace(i,f)):t},vr=(e,a="div",f={})=>{let t=ct(e),i=Object.keys(f).map(r=>`${r}="${f[r]}"`).join(" ");return i&&(i=" "+i),`<${a}${i}>${t}</${a}>`},rl=(e,a="",f="")=>a+ct(e)+f,br=e=>typeof e=="string",ll=(e,a,f="")=>{let t=ct(e),i;if(!(a instanceof RegExp)){if(i=a?at(ct(a)):"",!i)return!1;a=new RegExp(i,f)}return a.test(t)},ul=(e,a="",f=1)=>ct(e)+Ms(a,f),cl=(e,a="",f=1)=>Ms(a,f)+ct(e),dl=e=>{let a=ct(e);return a===""?a:a[0]===nl?a.substring(1):a},ec=(e,a=5,f="...")=>e&&`${e.substring(0,a)}${f}${e.substring(e.length-a)}`,yh=e=>typeof e>"u"||e===null,hl=(e,...a)=>{if(!yh(e))return e;if(a.length===0)throw new Error("nvl: No default value provided");for(let f of a)if(typeof f<"u"&&f!==null)return f},In=class{constructor(e="",{mutable:a=!0}={}){this.value=e.toString(),this.mutable=a}[Symbol.toPrimitive](e){return e==="number"?+this.value:this.value}get[Symbol.toStringTag](){return"Str"}val(e){return typeof e>"u"||e===null?this.value:(this.value=e.toString(),this)}get length(){return this.value.length}immutable(e=!0){this.mutable=!e}toString(){return Array.isArray(this.value)?this.value.join(""):this.value}_result(e){return this.mutable?(this.value=e,this):tc(e)}camelCase(){return this._result(me(this.value))}capitalize(e){return this._result(ke(this.value,e))}chars(e){return this._result(R(this.value,e))}count(){return je(this.value)}countChars(e){return et(this.value,e)}countUniqueChars(e){return We(this.value,e)}countSubstr(e){return gt(this.value,e)}countWords(e,a){return et(this.value,e)}countUniqueWords(e,a){return We(this.value,e)}dashedName(){return this._result(j(this.value))}decapitalize(){return this._result(V(this.value))}endsWith(e,a){return Rn(this.value,e,a)}escapeHtml(){return this._result(Wt(this.value))}first(){return this._result(Pa(this.value))}includes(e,a){return al(this.value,e,a)}insert(e,a){return this._result(fr(this.value,e,a))}isAlpha(){return Rt(this.value)}isAlphaDigit(){return Ls(this.value)}isBlank(e){return pr(this.value,e)}isDigit(){return Na(this.value)}isEmpty(){return He(this.value)}isLower(){return vt(this.value)}static isString(e){return br(e)}isUpper(){return mr(this.value)}kebab(e){return this._result(he(this.value,e))}last(e){return this._result(Ba(this.value,e))}lower(){return this._result(I(this.value))}matches(e,a){return ll(this.value,e,a)}pad(e,a){return this._result(Is(this.value,e,a))}lpad(e,a){return this._result(sa(this.value,e,a))}rpad(e,a){return this._result(Zu(this.value,e,a))}prune(e,a){return this._result(As(this.value,e,a))}repeat(e){return this._result(Ms(this.value,e))}append(e,a){return this._result(ul(this.value,e,a))}prepend(e,a){return this._result(cl(this.value,e,a))}reverse(e){return this._result(J(this.value,e))}shuffle(){return this._result(de(this.value))}slice(e){return this._result(dn(this.value,e))}snake(){return this._result(Ce(this.value))}split(e,a,f){return this._result(ol(this.value,e,a,f))}sprintf(...e){return this._result(Os(this.value,...e))}vsprintf(...e){return this._result(zn(this.value,...e))}startsWith(e,a){return gr(this.value,e,a)}stripBoom(){return this._result(dl(this.value))}stripTags(e){return this._result(To(this.value,e))}stripTagsAll(){return this._result(Do(this.value))}strip(e,a){return this._result(Ra(this.value,e,a))}substring(e,a){return this._result(Zn(this.value,e,a))}swap(){return this._result(re(this.value))}title(e,a){return this._result(_e(this.value,e,a))}trim(e){return this._result(at(this.value,e))}ltrim(e){return this._result(ds(this.value,e))}rtrim(e){return this._result(So(this.value,e))}truncate(e,a){return this._result(En(this.value,e,a))}truncateWithAlign(e,a){return this._result(vn(this.value,e,a))}unescapeHtml(){return this._result(ta(this.value))}unique(e){return this._result(ia(this.value,e))}uniqueWords(e,a){return this._result(ko(this.value,e,a))}upper(){return this._result(ge(this.value))}words(e,a){return xe(this.value,e,a)}wrap(e,a){return this._result(rl(this.value,e,a))}wrapTag(e){return this._result(vr(this.value,e))}shorten(e,a){return this._result(ec(this.value,e,a))}nvl(...e){return this._result(hl(this.value,...e))}};Object.assign(In,$);var tc=(e,a=!0)=>new In(e,{mutable:a}),_h="0.10.1",yr="02.05.2025, 18:43:00",Eo=()=>{console.info(`%c String %c v${_h} %c ${yr} `,"color: #000000; font-weight: bold; background: #fff200","color: white; background: darkgreen","color: white; background: #0080fe;")};In.info=Eo,globalThis.Str=In,globalThis.str=tc;var Ch=["opacity","zIndex"];function xh(){return null}function wh(e){return typeof e=="string"||typeof e=="boolean"||typeof e=="number"}function za(e){let a=getComputedStyle(e),f=!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),t=a.visibility!=="hidden"&&a.display!=="none"&&a.opacity!=="0"&&e.style.display!=="none";return f&&t}function fl(e){let a=getComputedStyle(e);return!za(e)||+a.opacity==0||e.hidden||a.visibility==="hidden"}function pt(e){return e==null}function Qi(e){return e.replace(/-([a-z])/g,function(a,f){return f.toUpperCase()})}function ic(e){return e.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function Ps(e){let a;return!e||Object.prototype.toString.call(e)!=="[object Object]"?!1:(a=e.prototype!==void 0,a?a.constructor&&typeof a.constructor=="function":!0)}function Jn(e){for(let a in e)if(Hi(e,a))return!1;return!0}function hs(e){return e instanceof Object&&"length"in e}function fs(e,a){return a=a||" ",e.split(a).map(function(f){return(""+f).trim()}).filter(function(f){return f!==""})}function aa(e,a){return a||(a=[0,""]),e=String(e),a[0]=parseFloat(e),a[1]=e.match(/[\d.\-+]*\s*(.*)/)[1]||"",a}function pl(e,a){let f=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn|fr|lh|cqw|cqh|cqi|cqb|cqmin|cqmax|q)?$/.exec(e);return typeof f[1]<"u"?f[1]:a}function Ao(e,a,f){a=Qi(a),["scrollLeft","scrollTop"].indexOf(a)>-1?e[a]=parseInt(f):e.style[a]=isNaN(f)||Ch.indexOf(""+a)>-1?f:parseInt(f)===0?0:f+"px"}function nc(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}function _r(e){return typeof e!="string"?void 0:e.replace(/-/g,"").toLowerCase()}function Hi(e,a){return Object.prototype.hasOwnProperty.call(e,a)}function sc(e){let a=e||globalThis.location.hostname;return a==="localhost"||a==="127.0.0.1"||a==="[::1]"||a===""||a.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)!==null}function kh(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function ml(e){let a=e||globalThis.location.hostname;return/(^localhost)|(^127\.)|(^192\.168\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2\d\.)|(^172\.3[0-1]\.)|(^::1$)|(^[fF][cCdD])/.test(a)}function ac(e){try{return JSON.parse(e)}catch{return e}}var mi=Element.prototype.matches,W=(e,a)=>new W.init(e,a);W.version="1.5.0",W.build_time="10.05.2025, 17:40:37",W.info=()=>console.info(`%c Dom %c v${W.version} %c ${W.build_time} `,"color: white; font-weight: bold; background: #fd6a02","color: white; background: darkgreen","color: white; background: #0080fe;"),W.fn=W.prototype=Object.create(Array.prototype),W.prototype.constructor=W,W.prototype.uid="",W.extend=W.fn.extend=function(){let e,a,f=arguments[0]||{},t=1,i=arguments.length;for(typeof f!="object"&&typeof f!="function"&&(f={}),t===i&&(f=this,t--);t<i;t++)if((e=arguments[t])!=null)for(a in e)Hi(e,a)&&(f[a]=e[a]);return f},W.assign=function(){let e,a,f=arguments[0]||{},t=1,i=arguments.length;for(typeof f!="object"&&typeof f!="function"&&(f={}),t===i&&(f=this,t--);t<i;t++)if((e=arguments[t])!=null)for(a in e)Hi(e,a)&&e[a]!==void 0&&(f[a]=e[a]);return f},function(e){try{let m=new Blob([`
            var fakeIdToId = {};
            onmessage = function (event) {
                var data = event.data,
                    name = data.name,
                    fakeId = data.fakeId,
                    time;
                if(data.hasOwnProperty('time')) {
                    time = data.time;
                }
                switch (name) {
                    case 'setInterval':
                        fakeIdToId[fakeId] = setInterval(function () {
                            postMessage({fakeId: fakeId});
                        }, time);
                        break;
                    case 'clearInterval':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearInterval(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                    case 'setTimeout':
                        fakeIdToId[fakeId] = setTimeout(function () {
                            postMessage({fakeId: fakeId});
                            if (fakeIdToId.hasOwnProperty (fakeId)) {
                                delete fakeIdToId[fakeId];
                            }
                        }, time);
                        break;
                    case 'clearTimeout':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearTimeout(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                }
            }
        `]);e=window.URL.createObjectURL(m)}catch{}let a,f={},t=0,i=2147483647,r="";function d(){do t===i?t=0:t++;while(f.hasOwnProperty(t));return t}if(!(typeof Worker>"u"))try{a=new Worker(e),window.setInterval=function(m,_){let C=d();return f[C]={callback:m,parameters:Array.prototype.slice.call(arguments,2)},a.postMessage({name:"setInterval",fakeId:C,time:_}),C},window.clearInterval=function(m){f.hasOwnProperty(m)&&(delete f[m],a.postMessage({name:"clearInterval",fakeId:m}))},window.setTimeout=function(m,_){let C=d();return f[C]={callback:m,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},a.postMessage({name:"setTimeout",fakeId:C,time:_}),C},window.clearTimeout=function(m){f.hasOwnProperty(m)&&(delete f[m],a.postMessage({name:"clearTimeout",fakeId:m}))},window.setImmediate=function(m){return setTimeout(m,0)},window.clearImmediate=function(m){clearTimeout(m)},a.onmessage=function(m){let _=m.data,C=_.fakeId,k,E,F;if(f.hasOwnProperty(C)&&(k=f[C],F=k.callback,E=k.parameters,k.hasOwnProperty("isTimeout")&&k.isTimeout&&delete f[C]),typeof F=="string")try{F=new Function(F)}catch(P){console.error(r+"Error parsing callback code string: ",P)}typeof F=="function"&&F.apply(window,E)},a.onerror=function(m){console.error(m)}}catch{console.log("Can't create worker for Intervals, use standard functions.")}}(),W.fn.extend({_getDefaultElement(e){let a;return pt(e)?a=this[0]:e instanceof HTMLElement?a=e:e instanceof W&&e.length>0?a=e[0]:typeof e=="string"?a=W(e)[0]:a=void 0,a},index:function(e){let a,f=-1;return this.length===0||(a=this._getDefaultElement(e),!a)||a&&a.parentNode&&W.each(a.parentNode.children,function(t){this===a&&(f=t)}),f},indexOf:function(e){let a,f=-1;return this.length===0||(a=this._getDefaultElement(e),!a)||this.each(function(t){this===a&&(f=t)}),f},get:function(e){return e===void 0?this:e<0?this[e+this.length]:e>this.length-1?void 0:this[e]},eq:function(e){return pt(e)?this:this.length>0?W.extend(W(this.get(e)),{_prevObj:this}):this},is:function(e){let a=!1;return this.length===0?!1:e instanceof W?this.same(e):(e===":selected"?this.each(function(){this.selected&&(a=!0)}):e===":checked"?this.each(function(){this.checked&&(a=!0)}):e===":visible"?(a=!1,this.each(function(){za(this)&&(a=!0)})):e===":hidden"?this.each(function(){let f=getComputedStyle(this);(this.getAttribute("type")==="hidden"||this.hidden||f.display==="none"||f.visibility==="hidden"||parseInt(f.opacity)===0)&&(a=!0)}):typeof e=="string"&&[":selected"].indexOf(e)===-1?this.each(function(){mi.call(this,e)&&(a=!0)}):hs(e)?this.each(function(){let f=this;W.each(e,function(){f===this&&(a=!0)})}):typeof e=="object"&&e.nodeType===1&&this.each(function(){this===e&&(a=!0)}),a)},same:function(e){let a=!0;return e instanceof W||(e=W(e)),this.length!==e.length?!1:(this.each(function(){e.items().indexOf(this)===-1&&(a=!1)}),a)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){let e=this.filter(function(a,f){return(f+1)%2!==0});return W.extend(e,{_prevObj:this})},even:function(){let e=this.filter(function(a,f){return(f+1)%2===0});return W.extend(e,{_prevObj:this})},filter:function(e){if(typeof e=="string"){let a=e;e=function(f){return mi.call(f,a)}}return W.extend(W.merge(W(),[].filter.call(this,e)),{_prevObj:this})},find:function(e){let a=[],f;return e instanceof W?e:(this.length===0?f=this:(this.each(function(){let t=this;typeof t.querySelectorAll>"u"||(a=a.concat([].slice.call(t.querySelectorAll(e))))}),f=W.merge(W(),a)),W.extend(f,{_prevObj:this}))},contains:function(e){return this.find(e).length>0},children:function(e){let a,f=[];return e instanceof W?e:(this.each(function(){let t=this;for(a=0;a<t.children.length;a++)t.children[a].nodeType===1&&f.push(t.children[a])}),f=e?f.filter(function(t){return mi.call(t,e)}):f,W.extend(W.merge(W(),f),{_prevObj:this}))},parent:function(e){let a=[];if(this.length!==0)return e instanceof W?e:(this.each(function(){this.parentNode&&a.indexOf(this.parentNode)===-1&&a.push(this.parentNode)}),a=e?a.filter(function(f){return mi.call(f,e)}):a,a.length?W.extend(W.merge(W(),a),{_prevObj:this}):void 0)},parents:function(e){let a=[];if(this.length!==0)return e instanceof W?e:(this.each(function(){let f=this.parentNode;for(;f;)f.nodeType===1&&a.indexOf(f)===-1&&(pt(e)||mi.call(f,e))&&a.push(f),f=f.parentNode}),W.extend(W.merge(W(),a),{_prevObj:this}))},siblings:function(e){let a=[];if(this.length!==0)return e instanceof W?e:(this.each(function(){let f=this;f.parentNode&&W.each(f.parentNode.children,function(){f!==this&&a.push(this)})}),e&&(a=a.filter(function(f){return mi.call(f,e)})),W.extend(W.merge(W(),a),{_prevObj:this}))},_siblingAll:function(e,a){let f=[];if(this.length!==0)return a instanceof W?a:(this.each(function(){let t=this;for(;t&&(t=t[e],!!t);)f.push(t)}),a&&(f=f.filter(function(t){return mi.call(t,a)})),W.extend(W.merge(W(),f),{_prevObj:this}))},_sibling:function(e,a){let f=[];if(this.length!==0)return a instanceof W?a:(this.each(function(){let t=this[e];t&&t.nodeType===1&&f.push(t)}),a&&(f=f.filter(function(t){return mi.call(t,a)})),W.extend(W.merge(W(),f),{_prevObj:this}))},prev:function(e){return this._sibling("previousElementSibling",e)},next:function(e){return this._sibling("nextElementSibling",e)},prevAll:function(e){return this._siblingAll("previousElementSibling",e)},nextAll:function(e){return this._siblingAll("nextElementSibling",e)},closest:function(e){let a=[];if(this.length===0)return;if(!e)return this.parent();let f=this[0];for(;f;){if(mi.call(f,e)){a.push(f);break}f=f.parentElement}return W.extend(W.merge(W(),a.reverse()),{_prevObj:this})},has:function(e){let a=[];if(this.length!==0)return this.each(function(){W(this).children(e).length>0&&a.push(this)}),W.extend(W.merge(W(),a),{_prevObj:this})},back:function(e){let a;if(e===!0)for(a=this._prevObj;a&&a._prevObj;)a=a._prevObj;else a=this._prevObj?this._prevObj:this;return a}});function Qn(e,a=document.body){let f=document.createElement("script");if(f.type="text/javascript",pt(e))return W(f);let t=W(e)[0];return t.src?f.src=t.src:f.textContent=t.innerText,t.type&&(f.type=t.type),t.async&&(f.async=t.async),a.appendChild(f),t.parentNode&&t.parentNode.removeChild(t),f}W.extend({script:function(e,a){if(!pt(e))if(e instanceof W&&(e=e[0]),e.tagName&&e.tagName==="SCRIPT")Qn(e,a);else{let f=W(e).find("script");W.each(f,function(){Qn(this,a)})}},loadScript:function(e,a=document.body,f){let t=document.createElement("script");t.type="text/javascript",t.src=e,t.onload=f,a.appendChild(t)}}),W.fn.extend({script:function(e){return this.each(function(){W.script(this,e)})}}),W.fn.extend({_prop:function(e,a){return arguments.length===1?this.length===0?void 0:this[0][e]:(pt(a)&&(a=""),this.each(function(){let f=this;f[e]=a,e==="innerHTML"&&W.script(f,f)}))},prop:function(e,a){return arguments.length===1?this._prop(e):this._prop(e,typeof a>"u"?"":a)},val:function(e){return pt(e)?this.length===0?void 0:this[0].value:this.each(function(){let a=W(this);typeof this.value<"u"?this.value=e:a.html(e)})},html:function(e){let a=this,f=[];return arguments.length===0?this._prop("innerHTML"):(e instanceof W?e.each(function(){f.push(W(this).outerHTML())}):f.push(e),a._prop("innerHTML",f.join(`
`)),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(e){return arguments.length===0?this._prop("textContent"):this._prop("textContent",typeof e>"u"?"":e)},innerText:function(e){return arguments.length===0?this._prop("innerText"):this._prop("innerText",typeof e>"u"?"":e)},empty:function(){return this.each(function(){typeof this.innerHTML<"u"&&(this.innerHTML=""),typeof this.value<"u"&&(this.value="")})},clear:function(){return this.empty()}}),W.each=function(e,a){let f=0;if(typeof e!="object"&&(e=[]),hs(e))[].forEach.call(e,function(t,i){a.apply(t,[i,t])});else for(let t in e)Hi(e,t)&&a.apply(e[t],[t,e[t],f++]);return e},W.fn.extend({each:function(e){return W.each(this,e)}});var Bs=function(e){this.expando="DATASET:UID:"+e.toUpperCase(),Bs.uid++};Bs.uid=-1,Bs.prototype={cache:function(e){let a=e[this.expando];return a||(a={},nc(e)&&(e.nodeType?e[this.expando]=a:Object.defineProperty(e,this.expando,{value:a,configurable:!0}))),a},set:function(e,a,f){let t,i=this.cache(e);if(typeof a=="string")i[Qi(a)]=f;else for(t in a)Hi(a,t)&&(i[Qi(t)]=a[t]);return i},get:function(e,a){let f=a===void 0?this.cache(e):e[this.expando]&&e[this.expando][Qi(a)];if(a)return f!==void 0?f:e.getAttribute&&e.getAttribute("data-"+ic(a))||void 0;f={...e[this.expando]};for(let t of e.attributes)if(t.name.startsWith("data-")){let i=t.name.slice(5);f[Qi(i)]=t.value}return Jn(f)?void 0:f},access:function(e,a,f){return a===void 0||a&&typeof a=="string"&&f===void 0?this.get(e,a):(this.set(e,a,f),f!==void 0?f:a)},remove:function(e,a){let f=e[this.expando];if(f!==void 0){if(a!==void 0){let t=Array.isArray(a)?a:[a];for(let i of t)delete f[Qi(i)],e.removeAttribute&&e.removeAttribute("data-"+i)}return(a===void 0||Jn(f))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando]),!0}},hasData:function(e){let a=e[this.expando];return a!==void 0&&!Jn(a)}};var es=new Bs("dom");W.extend({hasData:function(e){return es.hasData(e)},data:function(e,a,f){return es.access(e,a,f)},removeData:function(e,a){return es.remove(e,a)},dataSet:function(e){if(pt(e))return es;if(["INTERNAL","DOM"].indexOf(e.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new Bs(e)}}),W.fn.extend({data:function(e,a){let f,t,i;if(this.length!==0){if(t=this[0],arguments.length===0){if(t&&(i=es.get(t),t.nodeType===1)){for(let r of t.attributes)if(r.name.startsWith("data-")){let d=r.name.slice(5);i[Qi(d)]=r.value}}return i}return arguments.length===1&&(typeof e=="string"||Array.isArray(e))?(f=es.get(t,e),ac(f)):this.each(function(){es.set(this,e,a)})}},removeData:function(e){return typeof e>"u"?this:this.each(function(){let a=Array.isArray(e)?e:e.split(" ").map(f=>f.trim()).filter(f=>f!=="");for(let f of a)es.remove(this,f)})},origin:function(e,a,f){if(this.length===0)return this;if(pt(e)&&pt(a))return W.data(this[0]);if(pt(a)){let t=W.data(this[0],"origin-"+e);return pt(t)?f:t}return this.data("origin-"+e,a),this}}),W.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:sc(),isLocalhost:sc,touchable:kh(),isPrivateAddress:ml,hashCode:function(e){let a=0,f,t;if(e.length===0)return a;for(f=0;f<e.length;f++)t=e.charCodeAt(f),a=(a<<5)-a+t,a|=0;return a},uniqueId:function(e="salt"){let a;return typeof e=="function"?a=e.name:typeof e=="string"&&e?a=e:typeof e=="string"&&e.length===0?a="salt":a=e.toString(),"dom-"+W.hashCode(a)},toArray:function(e){let a,f=[];for(a=0;a<e.length;a++)f.push(e[a]);return f},import:function(e){let a=[];return this.each(e,function(){a.push(this)}),this.merge(W(),a)},merge:function(e,a){let f=+a.length,t=0,i=e.length;for(;t<f;t++)e[i++]=a[t];return e.length=i,e},type:function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)]$/,"$1").toLowerCase()},isSelector:function(e){if(typeof e!="string"||e.length===0||e==="#"||e===".")return!1;try{return document.querySelector(e),!0}catch{return!1}},remove:function(e){return W(e).remove()},isPlainObject:Ps,isEmptyObject:Jn,isArrayLike:hs,acceptData:nc,not:pt,parseUnit:aa,getUnit:pl,unit:aa,isVisible:za,isHidden:fl,matches:function(e,a){return mi.call(e,a)},random:function(e,a){return arguments.length===1&&hs(e)?e[Math.floor(Math.random()*e.length)]:Math.floor(Math.random()*(a-e+1)+e)},hasProp:Hi,dark:globalThis.matchMedia&&globalThis.matchMedia("(prefers-color-scheme: dark)").matches,serializeToArray:function(e){let a=W(e)[0];if(!a||a.nodeName!=="FORM"){console.warn("Element is not a HTMLFromElement");return}let f,t,i=[];for(f=a.elements.length-1;f>=0;f=f-1)if(a.elements[f].name!=="")switch(a.elements[f].nodeName){case"INPUT":switch(a.elements[f].type){case"checkbox":case"radio":a.elements[f].checked&&i.push(a.elements[f].name+"="+encodeURIComponent(a.elements[f].value));break;case"file":break;default:i.push(a.elements[f].name+"="+encodeURIComponent(a.elements[f].value))}break;case"TEXTAREA":i.push(a.elements[f].name+"="+encodeURIComponent(a.elements[f].value));break;case"SELECT":switch(a.elements[f].type){case"select-one":i.push(a.elements[f].name+"="+encodeURIComponent(a.elements[f].value));break;case"select-multiple":for(t=a.elements[f].options.length-1;t>=0;t=t-1)a.elements[f].options[t].selected&&i.push(a.elements[f].name+"="+encodeURIComponent(a.elements[f].options[t].value));break}break;case"BUTTON":switch(a.elements[f].type){case"reset":case"submit":case"button":i.push(a.elements[f].name+"="+encodeURIComponent(a.elements[f].value));break}break}return i},serialize:function(e){return W.serializeToArray(e).join("&")},viewport:function(){let e=window,a=document,f=a.documentElement,t=a.getElementsByTagName("body")[0],i=e.innerWidth||f.clientWidth||t.clientWidth,r=e.innerHeight||f.clientHeight||t.clientHeight;return{width:i,height:r}}}),W.fn.extend({items:function(){return W.toArray(this)}});var Ha=Event.prototype.stopPropagation,Sh=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,Ha.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,Sh.apply(this,arguments)},Event.prototype.stop=function(e){return e?this.stopImmediatePropagation():this.stopPropagation()},W.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(e){let a,f=-1,t,i;if(this.events.length>0){for(a=0;a<this.events.length;a++)if(this.events[a].handler===null){f=a;break}}return t={element:e.el,event:e.event,handler:e.handler,selector:e.selector,ns:e.ns,id:e.id,options:e.options},f===-1?(this.events.push(t),i=this.events.length-1):(this.events[f]=t,i=f),i},getEventHandler:function(e){if(this.events[e]!==void 0&&this.events[e]!==null)return this.events[e]=null,this.events[e].handler},off:function(){return W.each(this.events,function(){this.element.removeEventListener(this.event,this.handler,!0)}),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(e,a,f="before"){return W.each(fs(e),(t,i)=>{let r=Qi(`${f}-${i}`);this.eventHooks[r]=a}),this},removeEventHook:function(e,a="before"){return W.each(fs(e),(f,t)=>{delete this.eventHooks[Qi(`${a}-${t}`)]}),this},removeEventHooks:function(e){let a=this;return pt(e)?this.eventHooks={}:W.each(fs(e),function(){delete a.eventHooks[Qi("before-"+this)],delete a.eventHooks[Qi("after-"+this)]}),this}}),W.fn.extend({on:function(e,a,f,t){if(this.length!==0)return typeof a=="function"&&(t=f||{},f=a,a=void 0),typeof t!="object"&&(t={}),this.each(function(i,r){W.each(fs(e),(d,m)=>{let _,C=m.split("."),k=_r(C[0]),E=t.ns?t.ns:C[1],F,P;W.eventUID++,_=U=>{let Y=U.target,ee=W.eventHooks[Qi("before-"+k)],Ae=W.eventHooks[Qi("after-"+k)];if(typeof ee=="function"&&ee.call(Y,U),!a)f.call(r,U);else for(;Y&&Y!==r;){if(mi.call(Y,a)&&(f.call(Y,U),U.isPropagationStopped)){U.stopImmediatePropagation();break}Y=Y.parentNode}typeof Ae=="function"&&Ae.call(Y,U),t.once&&(F=+W(r).origin("event-"+U.type+(a?":"+a:"")+(E?":"+E:"")),isNaN(F)||W.events.splice(F,1))},Object.defineProperty(_,"name",{value:f.name&&f.name!==""?f.name:"func_event_"+k+"_"+W.eventUID}),P=k+(a?":"+a:"")+(E?":"+E:""),r.addEventListener(k,_,Jn(t)?!1:t),F=W.setEventHandler({el:r,event:k,handler:_,selector:a,ns:E,id:W.eventUID,options:Jn(t)?!1:t}),W(r).origin("event-"+P,F)})})},one:function(e,a,f,t={}){return typeof a=="function"&&(t=f||{},f=a,a=void 0),t.once=!0,this.on.apply(this,[e,a,f,t])},off:function(e,a,f){return Ps(a)&&(f=a,a=null),Ps(f)||(f={}),pt(e)||e.toLowerCase()==="all"?this.each(function(){let t=this;W.each(W.events,function(){let i=this;i.element===t&&(t.removeEventListener(i.event,i.handler,i.options),i.handler=null,W(t).origin("event-"+name+(i.selector?":"+i.selector:"")+(i.ns?":"+i.ns:""),null))})}):this.each(function(){let t=this;W.each(fs(e),function(){let i=this.split("."),r=_r(i[0]),d=f.ns?f.ns:i[1],m,_;m="event-"+r+(a?":"+a:"")+(d?":"+d:""),_=W(t).origin(m),_!==void 0&&W.events[_].handler&&(t.removeEventListener(r,W.events[_].handler,W.events[_].options),W.events[_].handler=null),W(t).origin(m,null)})})},trigger:function(e,a){return this.fire(e,a)},fire:function(e,a){let f,t;if(this.length!==0)return f=_r(e),["focus","blur"].indexOf(f)>-1?(this[0][f](),this):(t=new CustomEvent(f,{bubbles:!0,cancelable:!0,detail:a}),this.each(function(){this.dispatchEvent(t)}))}}),"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach(function(e){W.fn[e]=function(a,f,t){return arguments.length>0?this.on(e,a,f,t):this.fire(e)}}),W.fn.extend({hover:function(e,a){return this.mouseenter(e).mouseleave(a||e)}}),W.ready=function(e,a){document.addEventListener("DOMContentLoaded",e,a||!1)},W.load=function(e){return W(window).on("load",e)},W.unload=function(e){return W(window).on("unload",e)},W.fn.extend({unload:function(e){return this.length===0||this[0].self!==window?void 0:W.unload(e)}}),W.beforeunload=function(e){return typeof e=="string"?W(window).on("beforeunload",function(a){return a.returnValue=e,e}):W(window).on("beforeunload",e)},W.fn.extend({beforeunload:function(e){return this.length===0||this[0].self!==window?void 0:W.beforeunload(e)}}),W.fn.extend({ready:function(e){if(this.length&&this[0]===document&&typeof e=="function")return W.ready(e)}}),W.ajax=function(e){return new Promise(function(a,f){let t=new XMLHttpRequest,i=(e.method||"GET").toUpperCase(),r=[],d=pt(e.async)?!0:e.async,m=e.url,_,C=function(F,P){typeof F=="function"&&F.apply(null,P)},k=function(F){return["GET","JSON"].indexOf(F)!==-1},E=function(F){let P=[];return W.each(F,function(U,Y){let ee=wh(Y)?Y:JSON.stringify(Y);P.push(U+"="+ee)}),P.join("&")};if(e.data instanceof HTMLFormElement){let F=e.data.getAttribute("action").trim(),P=e.data.getAttribute("method").trim();pt(m)&&F&&(m=F),P&&(i=P.toUpperCase())}if(e.timeout&&(t.timeout=e.timeout),e.withCredentials&&(t.withCredentials=e.withCredentials),e.data instanceof HTMLFormElement)_=W.serialize(e.data);else if(e.data instanceof HTMLElement&&e.data.getAttribute("type")&&e.data.getAttribute("type").toLowerCase()==="file"){let F=e.data.getAttribute("name");_=new FormData;for(let P=0;P<e.data.files.length;P++)_.append(F,e.data.files[P])}else Ps(e.data)?_=E(e.data):e.data instanceof FormData||typeof e.data=="string"?_=e.data:(_=new FormData,_.append("_data",JSON.stringify(e.data)));k(i)&&(m+=typeof _=="string"?"?"+_:Jn(_)?"":"?"+JSON.stringify(_)),t.open(i,m,d,e.user,e.password),e.headers&&W.each(e.headers,function(F,P){t.setRequestHeader(F,P),r.push(F)}),k(i)||r.indexOf("Content-type")===-1&&e.contentType!==!1&&t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(_),t.addEventListener("load",function(F){if(t.readyState===4&&t.status<300){let P=e.returnValue&&e.returnValue==="xhr"?t:t.response;if(e.parseJson)try{P=JSON.parse(P)}catch{P={}}C(a,[P]),C(e.onSuccess,[F,t])}else C(f,[t]),C(e.onFail,[F,t]);C(e.onLoad,[F,t])}),W.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],function(){let F=Qi("on-"+(this==="readystatechange"?"state":this));t.addEventListener(F,function(P){C(e[F],[P,t])})})})},["GET","POST","PUT","PATCH","DELETE","JSON"].forEach(function(e){W[e.toLowerCase()]=function(a,f,t){let i={method:e==="JSON"?"GET":e,url:a,data:f,parseJson:e==="JSON"};return W.ajax(W.extend({},i,t))}}),W.fn.extend({load:function(e,a,f){let t=this;return this.length&&this[0].self===window?W.load(e):W.get(e,a,f).then(function(i){t.each(function(){this.innerHTML=i})})}}),W.fn.extend({style:function(e,a){let f;function t(i,r,d){return["scrollLeft","scrollTop"].includes(r)?W(i)[r]():getComputedStyle(i,d)[r]}if(!(typeof e=="string"&&this.length===0)){if(this.length===0)return this;if(f=this[0],!e||e==="all")return getComputedStyle(f,a);{let i={},r=e.split(", ").map(function(d){return(""+Qi(d)).trim()});return r.length===1?t(f,r[0],a):(W.each(r,function(){let d=this;i[this]=t(f,d,a)}),i)}}},removeStyleProperty:function(e){if(pt(e)||this.length===0)return this;let a=e.split(", ").map(function(f){return(""+f).trim()});return this.each(function(){let f=this;W.each(a,function(){f.style.removeProperty(this)})})},removeStyle:function(e){if(!e)return this;let a=fs(e,", ");return this.each(function(){let f=this;W.each(a,function(){f.style[this]=""})})},css:function(e,a){return e=e||"all",typeof e=="string"&&pt(a)?this.style(e):this.each(function(f,t){typeof e=="object"?W.each(e,function(i,r){Ao(t,i,r)}):typeof e=="string"&&Ao(t,e,a)})},cssVar:function(e,a){if(!pt(e))return pt(a)?getComputedStyle(this[0]).getPropertyValue("--"+e):this.each(function(){this.style.setProperty("--"+e,a)})}}),W.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(e){return this.hasClass(e)},hasClass:function(e){if(pt(e))return!1;let a=!1,f=e.split(" ").filter(t=>(""+t).trim()!=="");return this.each(function(){let t=this;W.each(f,function(){!a&&t.classList&&t.classList.contains(this)&&(a=!0)})}),a},clearClasses:function(){return this.each(function(){this.className=""})},cls:function(e=!1){return this.length===0?void 0:e?this[0].className.split(" "):this[0].className},removeClassBy:function(e){return this.each(function(){let a=W(this),f=a.cls(!0);W.each(f,function(){let t=this;t.indexOf(e)>-1&&a.removeClass(t)})})},classNames:function(){let e=Array.prototype.slice.call(arguments,0),a=[];return W.each(e,function(f,t){typeof t=="string"?a.push(t):Ps(t)?W.each(t,function(i,r){r&&a.push(i)}):xh()}),this.each(function(){this.className+=" "+a.join(" ")})}}),["add","remove","toggle"].forEach(function(e){W.fn[e+"Class"]=function(a){let f=a?Array.isArray(a)?a:a.split(" ").filter(function(t){return!!t}):[];return f.length?this.each(function(){let t=this;typeof t.classList<"u"?W.each(f,function(i,r){t.classList[e](r)}):t.className+=f.join(" ")}):this}}),W.parseHTML=function(e){let a,f,t=[],i,r,d=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof e!="string"||e.trim()==="")return[];if(e=e.trim(),f=d.exec(e),f)t.push(document.createElement(f[1]));else{if(W.isSelector(e)){let m=document.querySelectorAll(e);if(m.length)for(let _ of m)t.push(_);return t.length===0&&t.push(document.createTextNode(e)),t}i=document.implementation.createHTMLDocument(""),a=i.createElement("base"),a.href=document.location.href,i.head.appendChild(a),r=i.body,r.innerHTML=e;for(let m=0;m<r.childNodes.length;m++)t.push(r.childNodes[m].cloneNode(!0))}return t},W.fn.extend({_size:function(e,a){if(this.length!==0){if(pt(a)){let f=this[0];if(e==="height")return f===window?window.innerHeight:f===document?f.body.clientHeight:parseInt(getComputedStyle(f).height);if(e==="width")return f===window?window.innerWidth:f===document?f.body.clientWidth:parseInt(getComputedStyle(f).width)}return this.each(function(){let f=this;f===window||f===document||(f.style[e]=isNaN(a)?a:+a==0?0:a+"px")})}},height:function(e){return this._size("height",e)},width:function(e){return this._size("width",e)},_sizeOut:function(e,a){let f,t,i,r;if(this.length===0)return;if(typeof a=="number")return this.each(function(){let m=this;if(m===window||m===document)return;let _,C=getComputedStyle(m),k=e==="width"?parseInt(C.borderLeftWidth)+parseInt(C.borderRightWidth):parseInt(C.borderTopWidth)+parseInt(C.borderBottomWidth),E=e==="width"?parseInt(C.paddingLeft)+parseInt(C.paddingRight):parseInt(C.paddingTop)+parseInt(C.paddingBottom);_=W(this)[e](a)[e]()-k-E,m.style[e]=_+"px"});let d=a===!0;return f=this[0],t=f[e==="width"?"offsetWidth":"offsetHeight"],i=getComputedStyle(f),r=t+parseInt(i[e==="width"?"marginLeft":"marginTop"])+parseInt(i[e==="width"?"marginRight":"marginBottom"]),d?r:t},outerWidth:function(e){return this._sizeOut("width",e)},outerHeight:function(e){return this._sizeOut("height",e)},padding:function(e){if(this.length===0)return;let a=getComputedStyle(this[0],e);return{top:parseInt(a.paddingTop),right:parseInt(a.paddingRight),bottom:parseInt(a.paddingBottom),left:parseInt(a.paddingLeft)}},margin:function(e){if(this.length===0)return;let a=getComputedStyle(this[0],e);return{top:parseInt(a.marginTop),right:parseInt(a.marginRight),bottom:parseInt(a.marginBottom),left:parseInt(a.marginLeft)}},border:function(e){if(this.length===0)return;let a=getComputedStyle(this[0],e);return{top:parseInt(a.borderTopWidth),right:parseInt(a.borderRightWidth),bottom:parseInt(a.borderBottomWidth),left:parseInt(a.borderLeftWidth)}}}),W.fn.extend({offset:function(e){if(e===void 0){if(this.length===0)return;let a=this[0].getBoundingClientRect();return{top:a.top+(window.scrollY||window.pageYOffset||document.documentElement.scrollTop||0),left:a.left+(window.scrollX||window.pageXOffset||document.documentElement.scrollLeft||0)}}return this.each(function(){let{top:a,left:f}=e,t=W(this),i=getComputedStyle(this).position,r=this.getBoundingClientRect(),d={top:r.top+(window.scrollY||window.pageYOffset||0),left:r.left+(window.scrollX||window.pageXOffset||0)};i==="static"&&t.css("position","relative"),["absolute","fixed"].indexOf(i)===-1&&(a=a-d.top,f=f-d.left),a&&t.css("top",a),f&&t.css("left",f)})},position:function(e=!1){let a=0,f=0,t,i;if(this.length!==0)return t=this[0],i=getComputedStyle(t),e&&(a=parseInt(i.marginLeft),f=parseInt(i.marginTop)),{left:t.offsetLeft-a,top:t.offsetTop-f}},left:function(e,a){if(this.length!==0)return pt(e)?this.position(a).left:typeof e=="boolean"?(a=e,this.position(a).left):this.each(function(){W(this).css({left:e})})},top:function(e,a=!1){if(this.length!==0)return pt(e)?this.position(a).top:typeof e=="boolean"?(a=e,this.position(a).top):this.each(function(){W(this).css({top:e})})},rect:function(){return this.length===0?void 0:this[0].getBoundingClientRect()},pos:function(){if(this.length===0)return;let e=W(this[0]);return{top:parseInt(e.style("top")),left:parseInt(e.style("left"))}}}),W.fn.extend({attr:function(e,a){let f={};if(!(this.length===0&&arguments.length===0))return this.length&&arguments.length===0?(W.each(this[0].attributes,function(){f[this.name]=this.value}),f):arguments.length===1&&typeof e=="string"?this.length&&this[0].nodeType===1&&this[0].hasAttribute(e)?this[0].getAttribute(e):void 0:this.each(function(){let t=this;Ps(e)?W.each(e,function(i,r){t.setAttribute(i,r)}):t.setAttribute(e,a)})},removeAttr:function(e){let a;return e?(a=typeof e=="string"?e.split(",").map(function(f){return f.trim()}):e,this.each(function(){let f=this;W.each(a,function(){f.hasAttribute(this)&&f.removeAttribute(this)})})):this.each(function(f,t){let i=W(t).attr();W.each(i,function(r){t.removeAttribute(r)})})},toggleAttr:function(e,a){return this.each(function(){let f=this;pt(a)?f.removeAttribute(e):f.setAttribute(e,a)})},id:function(e){return typeof e>"u"?this.length===1?W(this[0]).attr("id"):this.map(a=>W(a).attr("id")):this.each(function(){W(this).attr("id",e)})},title:function(e){return typeof e>"u"?this.length?W(this[0]).attr("title"):void 0:this.each(function(){W(this).attr("title",e)})},href:function(e){return typeof e>"u"?this.length&&this[0].tagName==="A"?this[0].href:void 0:this.each(function(){this.tagName==="A"&&(this.href=e)})},name:function(e){return typeof e>"u"?this.length&&this[0].name?this[0].name:void 0:this.each(function(){this.name&&(this.name=e)})},src:function(e){return typeof e>"u"?this.length&&this[0].src?this[0].src:void 0:this.each(function(){this.src&&(this.src=e)})}}),W.extend({meta:function(e){return pt(e)?W("meta"):W("meta[name='$name']".replace("$name",e))},metaBy:function(e){return pt(e)?W("meta"):W("meta[$name]".replace("$name",e))},doctype:function(){return W("doctype")},html:function(){return W("html")},head:function(){return W("html").find("head")},body:function(){return W("body")},document:function(){return W(document)},window:function(){return W(window)},charset:function(e){if(e){let a=W("meta[charset]");a.length>0&&a.attr("charset",e)}return document.characterSet},lang:function(e){if(e){let a=W("html");a.length>0&&a.attr("lang",e)}return document.documentElement.lang},title:function(e){if(typeof e>"u")return document.title;document.title=e}}),W.extend({bind:(e,a)=>e.bind(a)}),function(e){e.forEach(function(a){["append","prepend"].forEach(function(f){Hi(a,f)||Object.defineProperty(a,f,{configurable:!0,enumerable:!0,writable:!0,value:function(){let t=Array.prototype.slice.call(arguments),i=document.createDocumentFragment();t.forEach(function(r){let d=r instanceof Node;i.appendChild(d?r:document.createTextNode(String(r)))}),f==="prepend"?this.insertBefore(i,this.firstChild):this.appendChild(i)}})})})}([Element.prototype,Document.prototype,DocumentFragment.prototype]);var ps=function(e){let a;return typeof e=="string"?a=W.isSelector(e)?W(e):W.parseHTML(e):e instanceof HTMLElement?a=[e]:hs(e)&&(a=e),a};W.fn.extend({appendText:function(e){return this.each(function(a,f){f.innerHTML+=e})},prependText:function(e){return this.each(function(a,f){f.innerHTML=e+f.innerHTML})},append:function(e){let a=ps(e);return this.each(function(f,t){W.each(a,function(){if(t===this)return;let i=f===0?this:this.cloneNode(!0);i.tagName&&i.tagName==="SCRIPT"?W.script(i,t):t.append(i)})})},appendTo:function(e){let a=ps(e);return this.each(function(f,t){W.each(a,function(i,r){t!==this&&r.append(i===0?t:t.cloneNode(!0))})})},prepend:function(e){let a=ps(e);return this.each(function(f,t){W.each(a,function(){if(t===this)return;let i=f===0?this:this.cloneNode(!0);W.script(i),i.tagName&&i.tagName!=="SCRIPT"&&t.prepend(i)})})},prependTo:function(e){let a=ps(e);return this.each(function(){let f=this;W.each(a,function(t,i){f!==this&&W(i).prepend(t===0?f:f.cloneNode(!0))})})},insertBefore:function(e){let a=ps(e);return this.each(function(){let f=this;W.each(a,function(t){if(f===this)return;let i=this.parentNode;i&&i.insertBefore(t===0?f:f.cloneNode(!0),this)})})},insertAfter:function(e){let a=ps(e);return this.each(function(){let f=this;W.each(a,function(t,i){if(f===this)return;let r=this.parentNode;r&&r.insertBefore(t===0?f:f.cloneNode(!0),i.nextSibling)})})},after:function(e){return this.each(function(){let a=this;typeof e=="string"?a.insertAdjacentHTML("afterend",e):W(e).insertAfter(a)})},before:function(e){return this.each(function(){let a=this;typeof e=="string"?a.insertAdjacentHTML("beforebegin",e):W(e).insertBefore(a)})},clone:function(e=!1,a=!1){let f=[];return this.each(function(){let t=this.cloneNode(e),i=W(t),r;a&&W.hasData(this)&&(r=W(this).data(),W.each(r,function(d,m){i.data(d,m)})),f.push(t)}),W.merge(W(),f)},import:function(e){let a=[];return pt(e)&&(e=!1),this.each(function(){a.push(document.importNode(this,e))}),W.merge(W(),a)},adopt:function(){let e=[];return this.each(function(){e.push(document.adoptNode(this))}),W.merge(W(),e)},remove:function(e){let a=0,f,t,i=[];if(this.length!==0){for(t=e?this.filter(function(r){return mi.call(r,e)}):this.items();(f=t[a])!=null;a++)f.parentNode&&(i.push(f.parentNode.removeChild(f)),W.removeData(f));return W.merge(W(),i)}},wrap:function(e){if(this.length===0)return;let a=W(ps(e));if(!a.length)return;let f=[];return this.each(function(){let t,i;for(i=a.clone(!0,!0),i.insertBefore(this),t=i;t.children().length;)t=t.children().eq(0);t.append(this),f.push(i)}),W(f)},wrapAll:function(e){let a,f,t;if(this.length!==0&&(a=W(ps(e)),!!a.length)){for(f=a.clone(!0,!0),f.insertBefore(this[0]),t=f;t.children().length;)t=t.children().eq(0);return this.each(function(){t.append(this)}),f}},wrapInner:function(e){if(this.length===0)return;let a=W(ps(e));if(!a.length)return;let f=[];return this.each(function(){let t=W(this),i=t.html(),r=a.clone(!0,!0);t.html(r.html(i)),f.push(r)}),W(f)}}),W.extend({animation:{duration:1e3,ease:"linear",elements:{}}}),typeof window.setupAnimation=="object"&&W.each(window.setupAnimation,function(e,a){typeof W.animation[e]<"u"&&!pt(a)&&(W.animation[e]=a)});var Dh=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],Th=["opacity","zIndex"],oc=["opacity","volume"],rc=["scrollLeft","scrollTop"],Eh=["opacity","volume"];function lc(e){return e instanceof HTMLElement||e instanceof SVGElement}function Ah(e,a){let f=/^(\*=|\+=|-=)/.exec(e);if(!f)return e;let t=pl(e)||0,i=parseFloat(a),r=parseFloat(e.replace(f[0],""));switch(f[0][0]){case"+":return i+r+t;case"-":return i-r+t;case"*":return i*r+t;case"/":return i/r+t}}function Mh(e,a,f){return typeof e[a]<"u"?rc.indexOf(a)>-1?a==="scrollLeft"?e===window?scrollX:e.scrollLeft:e===window?scrollY:e.scrollTop:e[a]||0:e.style[a]||getComputedStyle(e,f)[a]}function uc(e,a,f,t,i){pt(i)&&(i=!1),a=Qi(a),i&&(f=parseInt(f)),lc(e)?typeof e[a]<"u"?e[a]=f:e.style[a]=a==="transform"||a.toLowerCase().indexOf("color")>-1?f:f+t:e[a]=f}function Fh(e,a,f){W.each(a,function(t,i){uc(e,t,i[0]+i[2]*f,i[3],i[4])})}function gl(e){if(!lc(e))return{};let a=e.style.transform||"",f=/(\w+)\(([^)]*)\)/g,t={},i;for(;i=f.exec(a);)t[i[1]]=i[2];return t}function $a(e){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e||"#000000").slice(1).map(function(a){return parseInt(a,16)})}function Va(e,a){return getComputedStyle(e)[a].replace(/[^\d.,]/g,"").split(",").map(function(f){return parseInt(f)})}function Ih(e,a,f){let t=[],i=gl(e);W.each(a,function(r,d){let m=d[0],_=d[1],C=d[2],k=d[3];r=""+r,(r.indexOf("rotate")>-1||r.indexOf("skew")>-1)&&k===""&&(k="deg"),r.indexOf("scale")>-1&&(k=""),r.indexOf("translate")>-1&&k===""&&(k="px"),k==="turn"?t.push(r+"("+_*f+k+")"):t.push(r+"("+(m+C*f)+k+")")}),W.each(i,function(r,d){a[r]===void 0&&t.push(r+"("+d+")")}),e.style.transform=t.join(" ")}function Lh(e,a,f){W.each(a,function(t,i){let r,d=[0,0,0],m;for(r=0;r<3;r++)d[r]=Math.floor(i[0][r]+i[2][r]*f);m="rgb("+d.join(",")+")",e.style[t]=m})}function cc(e){let a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return e[0]==="#"&&e.length===4?"#"+e.replace(a,function(f,t,i,r){return t+t+i+i+r+r}):e[0]==="#"?e:"#"+e}function Wa(e,a,f){Fh(e,a.props,f),Ih(e,a.transform,f),Lh(e,a.color,f)}function Oi(e,a,f){let t={props:{},transform:{},color:{}},i,r,d,m,_,C,k=gl(e);return pt(f)&&(f="normal"),W.each(a,function(E,F){let P=Dh.indexOf(""+E)>-1,U=Th.indexOf(""+E)>-1,Y=(""+E).toLowerCase().indexOf("color")>-1;if(Array.isArray(F)&&F.length===1&&(F=F[0]),Array.isArray(F)?(r=Y?$a(cc(F[0])):aa(F[0]),d=Y?$a(cc(F[1])):aa(F[1])):(P?r=k[E]||E==="scale"?1:0:Y?r=Va(e,E):r=Mh(e,E,void 0),r=Y?r:aa(r),d=Y?$a(F):aa(Ah(F,Array.isArray(r)?r[0]:r))),Eh.indexOf(""+E)>-1&&r[0]===d[0]&&(r[0]=d[0]>0?0:1),f==="reverse"&&(C=r,r=d,d=C),_=e instanceof HTMLElement&&d[1]===""&&!U&&!P?"px":d[1],Y)for(m=[0,0,0],i=0;i<3;i++)m[i]=d[i]-r[i];else m=d[0]-r[0];P?t.transform[E]=[r[0],d[0],m,_]:Y?t.color[E]=[r,d,m,_]:t.props[E]=[r[0],d[0],m,_,oc.indexOf(""+E)===-1]}),t}function dc(e,a,f){return Math.min(Math.max(e,a),f)}var Hn={linear:function(){return function(e){return e}}};Hn.default=Hn.linear;var oa={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){let a,f=4;for(;e<((a=Math.pow(2,--f))-1)/11;);return 1/Math.pow(4,3-f)-7.5625*Math.pow((a*3-2)/22-e,2)}},Elastic:function(e,a){pt(e)&&(e=1),pt(a)&&(a=.5);let f=dc(e,1,10),t=dc(a,.1,2);return function(i){return i===0||i===1?i:-f*Math.pow(2,10*(i-1))*Math.sin((i-1-t/(Math.PI*2)*Math.asin(1/f))*(Math.PI*2)/t)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,a){oa[e]=function(){return function(f){return Math.pow(f,a+2)}}}),Object.keys(oa).forEach(function(e){let a=oa[e];Hn["easeIn"+e]=a,Hn["easeOut"+e]=function(f,t){return function(i){return 1-a(f,t)(1-i)}},Hn["easeInOut"+e]=function(f,t){return function(i){return i<.5?a(f,t)(i*2)/2:1-a(f,t)(i*-2+2)/2}}});var Oh={id:null,el:null,draw:{},dur:W.animation.duration,ease:W.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function Cr(e){return new Promise(function(a){let f=this,t=W.assign({},Oh,{dur:W.animation.duration,ease:W.animation.ease},e),i=t.id,r=t.el,d=t.draw,m=t.dur,_=t.ease,C=t.loop,k=t.onStart,E=t.onFrame,F=t.onDone,P=t.pause,U=t.dir,Y=t.defer,ee={},Ae="linear",$e=[],ze=Hn.linear,Re,Se=U==="alternate"?"normal":U,Le=!1,Me=i||+(performance.now()*Math.pow(10,14));if(pt(r))throw new Error("Unknown element!");if(typeof r=="string"&&(r=document.querySelector(r)),typeof d!="function"&&typeof d!="object")throw new Error("Unknown draw object. Must be a function or object!");m===0&&(m=1),U==="alternate"&&typeof C=="number"&&(C*=2),typeof _=="string"?(Re=/\(([^)]+)\)/.exec(_),Ae=_.split("(")[0],$e=Re?Re[1].split(",").map(function(Mi){return parseFloat(Mi)}):[],ze=Hn[Ae]||Hn.linear):typeof _=="function"?ze=_:ze=Hn.linear,W.animation.elements[Me]={element:r,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};let Fe=function(){typeof d=="object"&&(ee=Oi(r,d,Se)),typeof k=="function"&&k.apply(r),W.animation.elements[Me].loop+=1,W.animation.elements[Me].started=performance.now(),W.animation.elements[Me].duration=m,W.animation.elements[Me].id=requestAnimationFrame(Ft)},wt=function(){cancelAnimationFrame(W.animation.elements[Me].id),delete W.animation.elements[i],typeof F=="function"&&F.apply(r),a(f)},Ft=function(Mi){let pn,Si,{stop:On,pause:rs,started:Wi}=W.animation.elements[Me];if(W.animation.elements[Me].paused&&(Wi=Mi-W.animation.elements[Me].t*m,W.animation.elements[Me].started=Wi),Si=((Mi-Wi)/m).toFixed(4),Si>1&&(Si=1),Si<0&&(Si=0),pn=ze.apply(null,$e)(Si),W.animation.elements[Me].t=Si,W.animation.elements[Me].p=pn,rs){W.animation.elements[Me].id=requestAnimationFrame(Ft);return}if(On>0){On===2&&(typeof d=="function"?d.bind(r)(1,1):Wa(r,ee,1)),wt();return}typeof d=="function"?d.bind(r)(Si,pn):Wa(r,ee,pn),typeof E=="function"&&E.apply(r,[Si,pn]),Si<=1&&(W.animation.elements[Me].id=requestAnimationFrame(Ft)),Si>=1&&(C?(U==="alternate"&&(Se=Se==="normal"?"reverse":"normal"),typeof C=="boolean"?setTimeout(function(){Fe()},P):C>W.animation.elements[Me].loop?setTimeout(function(){Fe()},P):wt()):U==="alternate"&&!Le?(Se=Se==="normal"?"reverse":"normal",Le=!0,Fe()):wt())};Y>0?setTimeout(function(){Fe()},Y):Fe()})}function ja(e,a){let f=W.animation.elements[e];typeof f>"u"||(pt(a)&&(a=!0),f.stop=a===!0?2:1,typeof f.onStop=="function"&&f.onStop.apply(f.element))}function vl(e,a){W.each(W.animation.elements,function(f,t){a?typeof a=="string"?mi.call(t.element,a)&&ja(f,e):a.length?W.each(a,function(){t.element===this&&ja(f,e)}):a instanceof Element&&t.element===a&&ja(f,e):ja(f,e)})}function ra(e){let a=W.animation.elements[e];typeof a>"u"||(a.pause=1,a.paused=performance.now(),typeof a.onPause=="function"&&a.onPause.apply(a.element))}function Ph(e){W.each(W.animation.elements,function(a,f){e?typeof e=="string"?mi.call(f.element,e)&&ra(a):e.length?W.each(e,function(){f.element===this&&ra(a)}):e instanceof Element&&f.element===e&&ra(a):ra(a)})}function Ua(e){let a=W.animation.elements[e];typeof a>"u"||(a.pause=0,a.paused=0,typeof a.onResume=="function"&&a.onResume.apply(a.element))}function hc(e){W.each(W.animation.elements,function(a,f){e?typeof e=="string"?mi.call(f.element,e)&&Ua(a):e.length?W.each(e,function(){f.element===this&&Ua(a)}):e instanceof Element&&f.element===e&&Ua(a):Ua(a)})}var fc={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};function pc(e,a){let f=W.extend({},fc,a);if(typeof f.loop!="boolean"&&f.loop--,!Array.isArray(e))return console.warn("Chain array is not defined!"),!1;let t=function(i,r){return i.then(function(){return typeof f.onChainItem=="function"&&f.onChainItem(r),Cr(r).then(function(){typeof f.onChainItemComplete=="function"&&f.onChainItemComplete(r)})})};e.reduce(t,Promise.resolve()).then(function(){typeof f.onChainComplete=="function"&&f.onChainComplete(),f.loop&&pc(e,f)})}W.easing={},W.extend(W.easing,Hn),W.extend({animate:function(e){let a,f,t,i,r;return arguments.length>1?(a=W(arguments[0])[0],f=arguments[1],t=arguments[2]||W.animation.duration,i=arguments[3]||W.animation.ease,r=arguments[4],typeof t=="function"&&(r=t,i=W.animation.ease,t=W.animation.duration),typeof i=="function"&&(r=i,i=W.animation.ease),Cr({el:a,draw:f,dur:t,ease:i,onDone:r})):Cr(e)},chain:pc,stop:ja,stopAll:vl,resume:Ua,resumeAll:hc,pause:ra,pauseAll:Ph}),W.fn.extend({animate:function(e){let a=this,f,t,i,r,d=e,m;return m=!Array.isArray(e)&&(arguments.length>1||arguments.length===1&&typeof arguments[0].draw>"u"),m?(f=arguments[0],t=arguments[1]||W.animation.duration,i=arguments[2]||W.animation.ease,r=arguments[3],typeof t=="function"&&(r=t,t=W.animation.duration,i=W.animation.ease),typeof i=="function"&&(r=i,i=W.animation.ease),this.each(function(){return W.animate({el:this,draw:f,dur:t,ease:i,onDone:r})})):Array.isArray(e)?(W.each(e,function(){let _=this;a.each(function(){_.el=this,W.animate(_)})}),this):this.each(function(){d.el=this,W.animate(d)})},chain:function(e,a){return this.each(function(){let f=this;W.each(e,function(){this.el=f}),W.chain(e,a)})},stop:function(e){return this.each(function(){let a=this;W.each(W.animation.elements,function(f,t){t.element===a&&ja(f,e)})})},pause:function(){return this.each(function(){let e=this;W.each(W.animation.elements,function(a,f){f.element===e&&ra(a)})})},resume:function(){return this.each(function(){let e=this;W.each(W.animation.elements,function(a,f){f.element===e&&Ua(a)})})}}),W.extend({hidden:function(e,a,f){return e=W(e)[0],typeof a>"u"?(e.hidden=!e.hidden,this):(typeof a=="string"&&(a=a.toLowerCase()==="true"),typeof a=="function"&&(f=a,a=!e.hidden),e.hidden=a,typeof f=="function"&&(W.bind(f,e),f.call(e,arguments)),this)},hide:function(e,a){let f=W(e);e=f[0];let t=e.style.display,i=getComputedStyle(e,null).display;return f.origin("display",{inline:t,css:i}),e.style.display="none",typeof a=="function"&&(W.bind(a,e),a.call(e,arguments)),this},show:function(e,a){let f=W(e).origin("display");if(e=W(e)[0],e.style.display="",f){let t=f.inline||"",i=f.css||"";t&&t!=="none"?e.style.display=t:i==="none"&&(e.style.display="block")}else e.style.display="block";return parseInt(e.style.opacity)===0&&(e.style.opacity="1"),typeof a=="function"&&(W.bind(a,e),a.call(e,arguments)),this},visible:function(e,a,f){return a===void 0&&(a=!0),e.style.visibility=a?"visible":"hidden",typeof f=="function"&&(W.bind(f,e),f.call(e,arguments)),this},toggle:function(e,a){let f=getComputedStyle(e,null).display!=="none"?"hide":"show";return W[f](e,a)}}),W.fn.extend({hide:function(){let e;return W.each(arguments,function(){typeof this=="function"&&(e=this)}),this.each(function(){W.hide(this,e)})},show:function(){let e;return W.each(arguments,function(){typeof this=="function"&&(e=this)}),this.each(function(){W.show(this,e)})},visible:function(e,a){return this.each(function(){W.visible(this,e,a)})},toggle:function(e){return this.each(function(){W.toggle(this,e)})},hidden:function(e,a){return this.each(function(){W.hidden(this,e,a)})}}),W.extend({fx:{off:!1}}),W.fn.extend({fadeIn:function(e,a,f){return this.each(function(){let t=this,i=W(t),r=!(!za(t)||za(t)&&+i.style("opacity")==0);if(pt(e)&&pt(a)&&pt(f)?(f=null,e=W.animation.duration):typeof e=="function"&&(f=e,e=W.animation.duration),typeof a=="function"&&(f=a,a=W.animation.ease),W.fx.off&&(e=0),r)return typeof f=="function"&&W.bind(f,this)(),this;let d=i.origin("display",void 0,"block");return t.style.opacity="0",t.style.display=d,W.animate({el:t,draw:{opacity:1},dur:e,ease:a,onDone:function(){typeof f=="function"&&W.bind(f,this)()}})})},fadeOut:function(e,a,f){return this.each(function(){let t=this,i=W(t);return pt(e)&&pt(a)&&pt(f)?(f=null,e=W.animation.duration):typeof e=="function"&&(f=e,e=W.animation.duration),typeof a=="function"&&(f=a,a=W.animation.ease),i.origin("display",i.style("display")),za(t)?W.animate({el:t,draw:{opacity:0},dur:e,ease:a,onDone:function(){this.style.display="none",typeof f=="function"&&W.bind(f,this)()}}):(typeof f=="function"&&W.bind(f,this)(),this)})},slideUp:function(e,a,f){return this.each(function(){let t=this,i=W(t),r;if(i.height()!==0)return pt(e)&&pt(a)&&pt(f)?(f=null,e=W.animation.duration):typeof e=="function"&&(f=e,e=W.animation.duration),typeof a=="function"&&(f=a,a=W.animation.ease),r=i.height(),i.origin("height",r),i.origin("display",W(t).style("display")),i.css({overflow:"hidden"}),W.animate({el:t,draw:{height:0},dur:e,ease:a,onDone:function(){i.hide().removeStyleProperty("overflow, height"),typeof f=="function"&&W.bind(f,this)()}})})},slideDown:function(e,a,f){return this.each(function(){let t=this,i=W(t),r,d;return pt(e)&&pt(a)&&pt(f)?(f=null,e=W.animation.duration):typeof e=="function"&&(f=e,e=W.animation.duration),typeof a=="function"&&(f=a,a=W.animation.ease),i.show().visible(!1),r=+i.origin("height",void 0,i.height()),parseInt(r)===0&&(r=t.scrollHeight),d=i.origin("display",i.style("display"),"block"),i.height(0).visible(!0),i.css({overflow:"hidden",display:d==="none"?"block":d}),W.animate({el:t,draw:{height:r},dur:e,ease:a,onDone:function(){W(t).removeStyleProperty("overflow, height, visibility"),typeof f=="function"&&W.bind(f,this)()}})})},moveTo:function(e,a,f,t,i){let r={top:a,left:e};return typeof f=="function"&&(i=f,f=W.animation.duration,t=W.animation.ease),typeof t=="function"&&(i=t,t=W.animation.ease),this.each(function(){W.animate({el:this,draw:r,dur:f,ease:t,onDone:i})})},centerTo:function(e,a,f,t,i){return typeof f=="function"&&(i=f,f=W.animation.duration,t=W.animation.ease),typeof t=="function"&&(i=t,t=W.animation.ease),this.each(function(){let r={left:e-this.clientWidth/2,top:a-this.clientHeight/2};W.animate({el:this,draw:r,dur:f,ease:t,onDone:i})})},colorTo:function(e,a,f,t){let i={color:e};return typeof a=="function"&&(t=a,a=W.animation.duration,f=W.animation.ease),typeof f=="function"&&(t=f,f=W.animation.ease),this.each(function(){W.animate({el:this,draw:i,dur:a,ease:f,onDone:t})})},backgroundTo:function(e,a,f,t){let i={backgroundColor:e};return typeof a=="function"&&(t=a,a=W.animation.duration,f=W.animation.ease),typeof f=="function"&&(t=f,f=W.animation.ease),this.each(function(){W.animate({el:this,draw:i,dur:a,ease:f,onDone:t})})},zoomIn:function(e,a,f){let t={scale:[0,1]};return typeof e=="function"&&(f=e,e=W.animation.duration,a=W.animation.ease),typeof a=="function"&&(f=a,a=W.animation.ease),this.each(function(){W.animate({el:this,draw:t,dur:e,ease:a,onDone:f})})},zoomOut:function(e=1e3,a="linear",f=()=>{}){return typeof e=="function"&&(f=e,e=W.animation.duration,a=W.animation.ease),typeof a=="function"&&(f=a,a=W.animation.ease),this.each(function(){W.animate({el:this,draw:{scale:0},dur:e,ease:a,onDone:f})})}}),W.extend({scrollTop:function(e){if(pt(e))return window.scrollY;window.scrollTo(window.scrollX,e)},scrollLeft:function(e){if(pt(e))return window.scrollX;window.scrollTo(e,window.scrollY)},scrollTo:function(e,a){window.scrollTo(e,a)},scrollToElement:function(e){W(e).scrollTo()}}),W.fn.extend({scrollTop:function(e){return pt(e)?this.length===0?void 0:this[0]===window?scrollY:this[0].scrollTop:this.each(function(){if(this===window){window.scrollTo(window.scrollX,e);return}this.scrollTop=e})},scrollLeft:function(e){return pt(e)?this.length===0?void 0:this[0]===window?scrollX:this[0].scrollLeft:this.each(function(){if(this===window){window.scrollTo(e,window.scrollY);return}this.scrollLeft=e})},scrollTo:function(e=!1){if(this.length===0)return this;let a=this[0].getBoundingClientRect(),f=a.left+(e?0:window.scrollX),t=a.top+(e?0:window.scrollY);return window.scrollTo(f,t),this}}),W.init=function(e,a){let f,t=this;if(typeof e=="string"&&(e=e.trim()),this.uid=W.uniqueId(),!e)return this;if(typeof e=="function")return W.ready(e);if(e instanceof Element)return this.push(e),this;if(e instanceof W)return W.each(e,function(){t.push(this)}),this;if(e==="window"||e===window)return this.push(window),this;if(e==="document"||e===document)return this.push(document),this;if(e==="body"||e===document.body)return this.push(document.body),this;if(e==="html"||e===document.documentElement)return this.push(document.documentElement),this;if(e==="doctype"||e===document.doctype)return this.push(document.doctype),this;if(e&&e.nodeType)return this.push(e),this;if(hs(e))return W.each(e,function(){W(this).each(function(){t.push(this)})}),this;if(typeof e!="string"&&e.self&&e.self!==window)return this;if(e==="#"||e===".")return this;if(e[0]==="@")W("[data-role]").each(function(){fs(W(this).attr("data-role"),",").indexOf(e.slice(1))>-1&&t.push(this)});else{f=W.parseHTML(e);for(let i=0;i<f.length;i++)f[i].nodeType===1&&this.push(f[i])}return a!==void 0&&(a instanceof W?this.each(function(){W(a).append(t)}):a instanceof HTMLElement?W(a).append(t):Ps(a)&&W.each(this,function(){for(let i in a)Hi(a,i)&&this.setAttribute(i,a[i])})),this},W.init.prototype=W.fn,globalThis.$=W,globalThis.Dom=W;var qa={};s(qa,{EVENTS:()=>Ns,info:()=>xl,useClickOutside:()=>ms,useCompose:()=>xr,useCookie:()=>bl,useCurry:()=>mc,useDebounce:()=>ts,useEvent:()=>yl,useId:()=>vc,useInterval:()=>Cl,useMediaQuery:()=>Ya,useMemo:()=>is,usePipe:()=>bc,useQueue:()=>yc,useState:()=>_c,useThrottle:()=>Cc,useToggle:()=>Mo});function ms(e,a){if(!e)return{attach:()=>{},detach:()=>{}};let f=t=>{e.contains(t.target)||a()};return{attach:()=>document.addEventListener("click",f),detach:()=>document.removeEventListener("click",f)}}function xr(...e){if(!e.every(a=>typeof a=="function"))throw new Error("useCompose: все аргументы должны быть функциями");switch(e.length){case 0:return a=>a;case 1:return e[0];case 2:{let[a,f]=e;return(...t)=>a(f(...t))}default:return function(...a){let f=e[e.length-1](...a);for(let t=e.length-2;t>=0;t--)f=e[t](f);return f}}}function bl(e){function a(){let i=document.cookie.match(new RegExp(`(?:^|; )${e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")}=([^;]*)`));return i?decodeURIComponent(i[1]):null}function f(i,r={}){r={path:"/",...r},document.cookie=`${e}=${encodeURIComponent(i)}; ${Object.keys(r).map(d=>`${d}=${r[d]}`).join("; ")}`}function t(){f("",{"max-age":-1})}return{get:a,set:f,delete:t}}function mc(e){if(typeof e!="function")throw new Error("useCurry: первый аргумент должен быть функцией");return function a(...f){return f.length>=e.length?e.apply(this,f):function(...t){return a.apply(this,f.concat(t))}}}function ts(e,a,f={}){if(typeof e!="function")throw new Error("useDebounce: первый аргумент должен быть функцией");if(a<0)throw new Error("useDebounce: время ожидания должно быть положительным числом");let t=null,i;function r(...d){let m=this,_=f.immediate&&!t;return t!==null&&clearTimeout(t),t=setTimeout(()=>{t=null,f.immediate||(i=e.apply(m,d))},a),_&&(i=e.apply(m,d)),i}return r.cancel=function(){t!==null&&(clearTimeout(t),t=null)},r}var Ns=(e=>(e.LOAD="load",e.VIEWPORT="viewport",e.ATTRIBUTE="attribute",e.CHILDREN="children",e.DATA="data",e))(Ns||{}),yl=({event:e,root:a,target:f,effect:t})=>{let i=typeof f=="string"?document.querySelector(f):f;if(typeof t!="function")throw Error("Side effect must be a function!");if(!i)throw Error("Please specify a target element!");switch(e){case"load":{new MutationObserver((r,d)=>{let m=document.querySelector(f);m!==null&&(t(m),d.disconnect())}).observe(document.body,{childList:!0,subtree:!0});break}case"viewport":{let r={root:a instanceof HTMLElement?a:typeof a=="string"?document.querySelector(a):null,rootMargin:"0px",threshold:.5};new IntersectionObserver((d,m)=>{for(let _ of d)_.isIntersecting&&t(i)},r).observe(i);break}case"attribute":{new MutationObserver(r=>{for(let d of r)d.target===i&&d.type==="attributes"&&t(i,d.attributeName,i.getAttribute(d.attributeName))}).observe(i,{attributes:!0});break}case"children":{new MutationObserver(r=>{for(let d of r)d.target===i&&d.type==="childList"&&t(i,d.addedNodes,d.removedNodes)}).observe(i,{childList:!0,subtree:!0});break}case"data":{new MutationObserver(r=>{for(let d of r)d.target===i&&d.type==="characterData"&&t(i,i.textContent)}).observe(i,{characterData:!0});break}default:i instanceof HTMLElement&&i.addEventListener(e,r=>{t(i,r)})}},_l=new Map,gc=0;function Bh(e){return e.replace(/[^a-zA-Z0-9_-]/g,"_")}function vc(e,a={}){let f=e??Symbol("id-key"),{divider:t="-",prefix:i="id",forceNew:r=!1}=a;if(!r&&_l.has(f))return _l.get(f);let d=typeof document<"u",m=1e3,_=0,C=()=>{let E;return e instanceof HTMLElement?E=e.tagName.toLowerCase():typeof e=="object"&&e!==null?E="object":e!==void 0?E=Bh(String(e)):E="generic",`${i}${t}${E}${t}${gc++}`},k=C();if(d)for(;document.getElementById(k);){if(_++>m)throw new Error("useId: не удалось сгенерировать уникальный ID после многочисленных попыток");k=C()}return _l.set(f,k),k}function Cl(e,a){let f=null;function t(){f||(f=window.setInterval(()=>e(),a))}function i(){f&&(window.clearInterval(f),f=null)}return{start:t,stop:i}}function Ya(e){let a=window.matchMedia(e);function f(){return a.matches}let t=f();function i(){t=f()}return a.addEventListener("change",i),t}var is=(e,a={})=>{let f=new Map,{maxSize:t}=a,i=(...r)=>{let d=JSON.stringify(r);if(f.has(d))return f.get(d);let m=e(...r);if(t&&f.size>=t){let _=f.keys().next().value;f.delete(_)}return f.set(d,m),m};return i.clearCache=()=>(f.clear(),!0),i};function bc(...e){if(!e.every(a=>typeof a=="function"))throw new Error("usePipe: все аргументы должны быть функциями");switch(e.length){case 0:return a=>a;case 1:return e[0];case 2:{let[a,f]=e;return(...t)=>f(a(...t))}default:return function(...a){let f=e[0](...a);for(let t=1;t<e.length;t++)f=e[t](f);return f}}}function yc(){let e=[];return{enqueue:a=>(e.push(a),e.length),dequeue:()=>e.shift(),peek:()=>e[0]||null,size:()=>e.length,isEmpty:()=>e.length===0,clear:()=>{e.length=0}}}var la=[],Nh=-1,Rh=class{constructor(e){this.index=e}valueOf(){return la[this.index].value}toString(){let e=la[this.index].value;return String(e)}[Symbol.toPrimitive](e){let a=la[this.index].value;return e==="number"&&typeof a=="number"?a:e==="string"?String(a):a}},_c=(e,a)=>{let f=Nh++;return la[f]||(la[f]={value:e}),[new Rh(f),t=>{let i=la[f].value,r=typeof t=="function"?t(i):t;la[f].value=r,typeof a=="function"&&a(r,i)}]};function Cc(e,a,f={}){if(typeof e!="function")throw new Error("useThrottle: первый аргумент должен быть функцией");if(a<0)throw new Error("useThrottle: время ожидания должно быть положительным числом");let t=null,i=null,r=null,d,m=null,{leading:_=!0,trailing:C=!0}=f;function k(){d=e.apply(r,i),i=r=null,m=Date.now()}function E(...F){let P=Date.now();!m&&!_&&(m=P);let U=a-(P-m);return i=F,r=this,U<=0||U>a?(t&&(clearTimeout(t),t=null),k()):!t&&C&&(t=setTimeout(()=>{t=null,C&&i&&k()},U)),d}return E.cancel=function(){t&&(clearTimeout(t),t=null),i=r=null,m=null},E}function Mo(e=!1){let a=e;return{get:()=>a,toggle:()=>(a=!a,a),set:f=>(a=f,a)}}var xc="0.13.0",wc="07.03.2025, 15:05:04",xl=()=>{console.info(`%c Hooks %c v${xc} %c ${wc} `,"color: #ffffff; font-weight: bold; background: #5c2c05","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Hooks=qa;var wr=Object.defineProperty,kc=(e,a)=>{for(var f in a)wr(e,f,{get:a[f],enumerable:!0})},Fo={};kc(Fo,{Primitives:()=>Sc,add:()=>Ei,brighten:()=>Yi,cmyk2rgb:()=>Oo,cmyk2websafe:()=>Dl,colorDefaultProps:()=>gs,colorToString:()=>Dr,colorType:()=>Wn,colorTypes:()=>Gt,create:()=>ca,createColor:()=>Hs,createColorScheme:()=>to,darken:()=>Ws,desaturate:()=>fn,equal:()=>Sr,expand:()=>$s,expandHexColor:()=>Pi,grayscale:()=>Vs,hex2hsv:()=>$h,hex2rgb:()=>bs,hex2websafe:()=>Po,hsl2hsv:()=>pa,hsl2websafe:()=>Qa,hsv2hex:()=>Hh,hsv2hsl:()=>Ja,hsv2rgb:()=>jn,hsv2websafe:()=>Sl,hueShift:()=>Tc,isCMYK:()=>vs,isColor:()=>Cn,isDark:()=>ns,isHEX:()=>Lo,isHSL:()=>ha,isHSLA:()=>Vn,isHSV:()=>da,isLight:()=>Io,isPrimitive:()=>Ac,isRGB:()=>Za,isRGBA:()=>ss,lighten:()=>va,mix:()=>nn,multiply:()=>Tl,parse:()=>Tr,parseColor:()=>xn,random:()=>Vh,randomColor:()=>El,rgb2cmyk:()=>kl,rgb2hex:()=>fa,rgb2hsv:()=>Ln,rgb2websafe:()=>Un,rgba2websafe:()=>Dc,saturate:()=>eo,shade:()=>Ec,spin:()=>Ti,test:()=>kr,toCMYK:()=>Bo,toColor:()=>en,toHEX:()=>tn,toHSL:()=>_s,toHSLA:()=>ga,toHSV:()=>ma,toRGB:()=>si,toRGBA:()=>An,websafe:()=>ys});var jt=class{constructor(e=0,a=0,f=0){this.h=e,this.s=a,this.v=f}toString(){return"hsv("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.v*100)+"%"].join(",")+")"}},Ga=class{constructor(e=0,a=0,f=0){this.h=e,this.s=(""+a).includes("%")?parseInt(a)/100:a,this.l=(""+f).includes("%")?parseInt(f)/100:f}toString(){return"hsl("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%"].join(",")+")"}},ua=class{constructor(e=0,a=0,f=0,t=0){this.h=e,this.s=(""+a).includes("%")?parseInt(a)/100:a,this.l=(""+f).includes("%")?parseInt(f)/100:f,this.a=t}toString(){return"hsla("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%",parseFloat(this.a).toFixed(2)].join(",")+")"}},hn=class{constructor(e=0,a=0,f=0){this.r=e,this.g=a,this.b=f}toString(){return`rgb(${this.r},${this.g},${this.b})`}},Rs=class{constructor(e=0,a=0,f=0,t=0){this.r=e,this.g=a,this.b=f,this.a=t}toString(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}},Xa=class{constructor(e=0,a=0,f=0,t=0){this.c=e,this.m=a,this.y=f,this.k=t}toString(){return`cmyk(${this.c},${this.m},${this.y},${this.k})`}},zs={aliceBlue:"#f0f8ff",antiqueWhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedAlmond:"#ffebcd",blue:"#0000ff",blueViolet:"#8a2be2",brown:"#a52a2a",burlyWood:"#deb887",cadetBlue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerBlue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkBlue:"#00008b",darkCyan:"#008b8b",darkGoldenRod:"#b8860b",darkGray:"#a9a9a9",darkGreen:"#006400",darkKhaki:"#bdb76b",darkMagenta:"#8b008b",darkOliveGreen:"#556b2f",darkOrange:"#ff8c00",darkOrchid:"#9932cc",darkRed:"#8b0000",darkSalmon:"#e9967a",darkSeaGreen:"#8fbc8f",darkSlateBlue:"#483d8b",darkSlateGray:"#2f4f4f",darkTurquoise:"#00ced1",darkViolet:"#9400d3",deepPink:"#ff1493",deepSkyBlue:"#00bfff",dimGray:"#696969",dodgerBlue:"#1e90ff",fireBrick:"#b22222",floralWhite:"#fffaf0",forestGreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostWhite:"#F8F8FF",gold:"#ffd700",goldenRod:"#daa520",gray:"#808080",green:"#008000",greenYellow:"#adff2f",honeyDew:"#f0fff0",hotPink:"#ff69b4",indianRed:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderBlush:"#fff0f5",lawnGreen:"#7cfc00",lemonChiffon:"#fffacd",lightBlue:"#add8e6",lightCoral:"#f08080",lightCyan:"#e0ffff",lightGoldenRodYellow:"#fafad2",lightGray:"#d3d3d3",lightGreen:"#90ee90",lightPink:"#ffb6c1",lightSalmon:"#ffa07a",lightSeaGreen:"#20b2aa",lightSkyBlue:"#87cefa",lightSlateGray:"#778899",lightSteelBlue:"#b0c4de",lightYellow:"#ffffe0",lime:"#00ff00",limeGreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumAquaMarine:"#66cdaa",mediumBlue:"#0000cd",mediumOrchid:"#ba55d3",mediumPurple:"#9370db",mediumSeaGreen:"#3cb371",mediumSlateBlue:"#7b68ee",mediumSpringGreen:"#00fa9a",mediumTurquoise:"#48d1cc",mediumVioletRed:"#c71585",midnightBlue:"#191970",mintCream:"#f5fffa",mistyRose:"#ffe4e1",moccasin:"#ffe4b5",navajoWhite:"#ffdead",navy:"#000080",oldLace:"#fdd5e6",olive:"#808000",oliveDrab:"#6b8e23",orange:"#ffa500",orangeRed:"#ff4500",orchid:"#da70d6",paleGoldenRod:"#eee8aa",paleGreen:"#98fb98",paleTurquoise:"#afeeee",paleVioletRed:"#db7093",papayaWhip:"#ffefd5",peachPuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderBlue:"#b0e0e6",purple:"#800080",rebeccaPurple:"#663399",red:"#ff0000",rosyBrown:"#bc8f8f",royalBlue:"#4169e1",saddleBrown:"#8b4513",salmon:"#fa8072",sandyBrown:"#f4a460",seaGreen:"#2e8b57",seaShell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyBlue:"#87ceeb",slateBlue:"#6a5acd",slateGray:"#708090",snow:"#fffafa",springGreen:"#00ff7f",steelBlue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whiteSmoke:"#f5f5f5",yellow:"#ffff00",yellowGreen:"#9acd32"},wl={lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},zh={color:function(e,a=zs,f=void 0){return a[e]!==void 0?a[e]:f},palette:function(e=zs){return Object.keys(e)},colors:function(e=zs){return Object.values(e)}},Sc={HSV:jt,HSL:Ga,HSLA:ua,RGB:hn,RGBA:Rs,CMYK:Xa},Gt={HEX:"hex",RGB:"rgb",RGBA:"rgba",HSV:"hsv",HSL:"hsl",HSLA:"hsla",CMYK:"cmyk",UNKNOWN:"unknown"},gs={angle:30,algorithm:1,step:.1,distance:5,tint1:.8,tint2:.4,shade1:.6,shade2:.3,alpha:1,baseLight:"#ffffff",baseDark:"self"};function Ka(e,a){let f;switch(a){case"hex":f=e.map(function(t){return tn(t)});break;case"rgb":f=e.map(function(t){return si(t)});break;case"rgba":f=e.map(function(t){return An(t,opt.alpha)});break;case"hsl":f=e.map(function(t){return _s(t)});break;case"hsla":f=e.map(function(t){return ga(t,opt.alpha)});break;case"cmyk":f=e.map(function(t){return Bo(t)});break;default:f=e}return f}function $n(e,a,f){return Math.max(a,Math.min(e,f))}function yn(e,a,f){return e<a?a:e>f?f:e}function _n(e,a){for(e+=a;e>=360;)e-=360;for(;e<0;)e+=360;return e}var kr=e=>{let a=_=>/^#([A-Fa-f0-9]{3}){1,2}$/.test(_),f=_=>/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_),t=_=>/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(_),i=_=>/^hsv\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_),r=_=>/^hsl\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_),d=_=>/^hsla\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(_),m=_=>/^cmyk\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(_);return a(e)||f(e)||i(e)||d(e)||d(e)||t(e)||r(e)||m(e)},Hs=(e="hex",a="#000000")=>{let f;return typeof a=="string"&&(f=xn(a)),Cn(f)||(f="#000000"),en(f,e.toLowerCase())},ca=Hs,Pi=function(e){if(Cn(e)&&typeof e!="string")return e;if(typeof e!="string")throw new Error("Value is not a string!");if(e[0]==="#"&&e.length===4){let a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return"#"+e.replace(a,(f,t,i,r)=>t+t+i+i+r+r)}return e[0]==="#"?e:"#"+e},$s=Pi,ns=e=>{if(e=xn(e),!Cn(e))return;let a=si(e);return(a.r*299+a.g*587+a.b*114)/1e3<128},Io=e=>!ns(e),da=e=>xn(e)instanceof jt,ha=e=>xn(e)instanceof Ga,Vn=e=>xn(e)instanceof ua,Za=e=>xn(e)instanceof hn,ss=e=>xn(e)instanceof Rs,vs=e=>xn(e)instanceof Xa,Lo=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),Cn=e=>e?typeof e=="string"?kr(e):Lo(e)||Za(e)||ss(e)||da(e)||ha(e)||Vn(e)||vs(e):!1,Wn=e=>Lo(e)?Gt.HEX:Za(e)?Gt.RGB:ss(e)?Gt.RGBA:da(e)?Gt.HSV:ha(e)?Gt.HSL:Vn(e)?Gt.HSLA:vs(e)?Gt.CMYK:Gt.UNKNOWN,Sr=(e,a)=>!Cn(e)||!Cn(a)?!1:tn(e)===tn(a),Dr=e=>e.toString(),bs=e=>{let a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Pi(e)),f=[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)];return a?new hn(...f):null},fa=e=>"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1),Ln=e=>{let a=new jt,f,t,i,r=e.r/255,d=e.g/255,m=e.b/255,_=Math.max(r,d,m),C=Math.min(r,d,m),k=_-C;return i=_,_===0?t=0:t=1-C/_,_===C?f=0:_===r&&d>=m?f=60*((d-m)/k):_===r&&d<m?f=60*((d-m)/k)+360:_===d?f=60*((m-r)/k)+120:_===m?f=60*((r-d)/k)+240:f=0,a.h=f,a.s=t,a.v=i,a},jn=e=>{let a,f,t,i=e.h,r=e.s*100,d=e.v*100,m=Math.floor(i/60),_=(100-r)*d/100,C=(d-_)*(i%60/60),k=_+C,E=d-C;switch(m){case 0:a=d,f=k,t=_;break;case 1:a=E,f=d,t=_;break;case 2:a=_,f=d,t=k;break;case 3:a=_,f=E,t=d;break;case 4:a=k,f=_,t=d;break;case 5:a=d,f=_,t=E;break}return new hn(Math.round(a*255/100),Math.round(f*255/100),Math.round(t*255/100))},Hh=e=>fa(jn(e)),$h=e=>Ln(bs(e)),kl=e=>{let a=new Xa,f=e.r/255,t=e.g/255,i=e.b/255;return a.k=Math.min(1-f,1-t,1-i),a.c=1-a.k===0?0:(1-f-a.k)/(1-a.k),a.m=1-a.k===0?0:(1-t-a.k)/(1-a.k),a.y=1-a.k===0?0:(1-i-a.k)/(1-a.k),a.c=Math.round(a.c*100),a.m=Math.round(a.m*100),a.y=Math.round(a.y*100),a.k=Math.round(a.k*100),a},Oo=e=>{let a=Math.floor(255*(1-e.c/100)*(1-e.k/100)),f=Math.ceil(255*(1-e.m/100)*(1-e.k/100)),t=Math.ceil(255*(1-e.y/100)*(1-e.k/100));return new hn(a,f,t)},Ja=e=>{let a,f,t,i;return a=parseInt(e.h),t=(2-e.s)*e.v,f=e.s*e.v,t===0?f=0:(i=t<=1?t:2-t,i===0?f=0:f/=i),t/=2,Number.isNaN(f)&&(f=0),Number.isNaN(t)&&(t=0),new Ga(a,f,t)},pa=e=>{let a,f,t,i;return a=e.h,i=e.l*2,f=e.s*(i<=1?i:2-i),t=(i+f)/2,i+f===0?f=0:f=2*f/(i+f),new jt(a,f,t)},Un=e=>new hn(Math.round(e.r/51)*51,Math.round(e.g/51)*51,Math.round(e.b/51)*51),Dc=e=>{let a=Un(e);return new Rs(a.r,a.g,a.b,e.a)},Po=e=>fa(Un(bs(e))),Sl=e=>Ln(Un(si(e))),Qa=e=>Ja(Ln(Un(si(e)))),Dl=e=>kl(Un(Oo(e))),ys=e=>Lo(e)?Po(e):Za(e)?Un(e):ss(e)?Dc(e):da(e)?Sl(e):ha(e)?Qa(e):vs(e)?Dl(e):e,en=(e,a="rgb",f=1)=>{let t;switch(a.toLowerCase()){case"hex":t=tn(e);break;case"rgb":t=si(e);break;case"rgba":t=An(e,f);break;case"hsl":t=_s(e);break;case"hsla":t=ga(e,f);break;case"hsv":t=ma(e);break;case"cmyk":t=Bo(e);break;default:t=e}return t},tn=e=>typeof e=="string"&&e[0]==="#"?Pi(e):fa(si(Tr(e))),si=e=>{if(Za(e))return e;if(ss(e))return new hn(e.r,e.g,e.b);if(da(e))return jn(e);if(ha(e)||Vn(e))return jn(pa(e));if(Lo(e))return bs(e);if(vs(e))return Oo(e);throw new Error("Unknown color format!")},An=(e,a)=>{if(ss(e))return typeof a<"u"&&(e.a=a),e;let f=si(e);return new Rs(f.r,f.g,f.b,typeof e.a<"u"?e.a:a)},ma=e=>da(e)?e:Ln(si(e)),_s=e=>ha(e)?e:Ja(Ln(si(e))),ga=(e,a=1)=>{if(Vn(e))return a&&(e.a=a),e;let f=Ja(Ln(si(e)));return f.a=typeof e.a<"u"?e.a:a,new ua(f.h,f.s,f.l,f.a)},Bo=e=>vs(e)?e:kl(si(e)),Vs=e=>{let a=si(e),f=Wn(e).toLowerCase(),t=Math.round(a.r*.2125+a.g*.7154+a.b*.0721),i=new hn(t,t,t);return en(i,f)},Ws=(e,a=10)=>va(e,-1*Math.abs(a)),va=(e,a=10)=>{let f,t,i=a>0,r=function(d,m){let _,C,k,E=d.slice(1),F=parseInt(E,16);return _=(F>>16)+m,_>255?_=255:_<0&&(_=0),k=(F>>8&255)+m,k>255?k=255:k<0&&(k=0),C=(F&255)+m,C>255?C=255:C<0&&(C=0),"#"+(C|k<<8|_<<16).toString(16)};f=Wn(e).toLowerCase(),f===Gt.RGBA&&e.a;do t=r(tn(e),a),i?a--:a++;while(t.length<7);return en(t,f)},Tc=(e,a,f=1)=>{let t=ma(e),i=Wn(e).toLowerCase(),r=t.h;for(r+=a;r>=360;)r-=360;for(;r<0;)r+=360;return t.h=r,en(t,i,f)},nn=(e,a,f)=>{f=f===0?0:f||50;let t=new hn(0,0,0),i=si(e),r=si(a),d=f/100;return t.r=Math.round((r.r-i.r)*d+i.r),t.g=Math.round((r.g-i.g)*d+i.g),t.b=Math.round((r.b-i.b)*d+i.b),tn(t)},Tl=(e,a)=>{let f=si(e),t=si(a),i=new hn;return f.b=Math.floor(f.b*t.b/255),f.g=Math.floor(f.g*t.g/255),f.r=Math.floor(f.r*t.r/255),tn(i)},Ec=(e,a)=>{if(!Cn(e))throw new Error(e+" is not a valid color value!");a/=100;let f=Wn(e).toLowerCase(),t=si(e),i=a<0?0:255,r=a<0?a*-1:a,d,m,_,C;return d=Math.round((i-t.r)*r)+t.r,m=Math.round((i-t.g)*r)+t.g,_=Math.round((i-t.b)*r)+t.b,(f===Gt.RGBA||f===Gt.HSLA)&&(C=e.a),en(new hn(d,m,_),f,C)},eo=(e,a)=>{let f,t,i;if(!Cn(e))throw new Error(e+" is not a valid color value!");return f=_s(e),f.s+=a/100,f.s=$n(0,1,f.s),t=Wn(e).toLowerCase(),(t===Gt.RGBA||t===Gt.HSLA)&&(i=e.a),en(f,t,i)},fn=(e,a)=>{let f,t,i;if(!Cn(e))throw new Error(e+" is not a valid color value!");return f=_s(e),f.s-=a<1?a:a/100,f.s=$n(f.s,0,1),t=Wn(e).toLowerCase(),(t===Gt.RGBA||t===Gt.HSLA)&&(i=e.a),en(f,t,i)},Ti=(e,a)=>{let f,t,i,r;if(!Cn(e))throw new Error(e+" is not a valid color value!");return f=_s(e),r=f.h+a,r>360?r=r%360:r<0&&(r=360+r%360),f.h=r,t=Wn(e).toLowerCase(),(t===Gt.RGBA||t===Gt.HSLA)&&(i=e.a),t==="hsl"?f:en(f,t,i)},Yi=(e,a)=>{let f,t,i;if(!Cn(e))throw new Error(e+" is not a valid color value!");return f=si(e),f.r=Math.max(0,Math.min(255,f.r-Math.round(255*-(a/100)))),f.g=Math.max(0,Math.min(255,f.g-Math.round(255*-(a/100)))),f.b=Math.max(0,Math.min(255,f.b-Math.round(255*-(a/100)))),t=Wn(e).toLowerCase(),(t===Gt.RGBA||t===Gt.HSLA)&&(i=e.a),en(f,t,i)},Ei=(e,a,f)=>{let t=Tr(e),i=Tr(a),r=An(t,void 0),d=An(i,void 0),m=new Rs;return(""+f).toLowerCase(),m.r=Math.round((r.r+d.r)/2),m.g=Math.round((r.g+d.g)/2),m.b=Math.round((r.b+d.b)/2),m.a=Math.round((r.a+d.a)/2),en(m,f,m.a)},to=(e,a,f=Gt.HEX,t)=>{let i=Object.assign({},gs,t),r,d=[],m,_,C,k,E;if(m=ma(e),da(m)===!1)return console.warn("The value is a not supported color format!"),!1;switch(C=m.h,k=m.s,E=m.v,a){case"monochromatic":case"mono":{if(i.algorithm===1)_=jn(m),_.r=yn(Math.round(_.r+(255-_.r)*i.tint1),0,255),_.g=yn(Math.round(_.g+(255-_.g)*i.tint1),0,255),_.b=yn(Math.round(_.b+(255-_.b)*i.tint1),0,255),d.push(Ln(_)),_=jn(m),_.r=yn(Math.round(_.r+(255-_.r)*i.tint2),0,255),_.g=yn(Math.round(_.g+(255-_.g)*i.tint2),0,255),_.b=yn(Math.round(_.b+(255-_.b)*i.tint2),0,255),d.push(Ln(_)),d.push(m),_=jn(m),_.r=yn(Math.round(_.r*i.shade1),0,255),_.g=yn(Math.round(_.g*i.shade1),0,255),_.b=yn(Math.round(_.b*i.shade1),0,255),d.push(Ln(_)),_=jn(m),_.r=yn(Math.round(_.r*i.shade2),0,255),_.g=yn(Math.round(_.g*i.shade2),0,255),_.b=yn(Math.round(_.b*i.shade2),0,255),d.push(Ln(_));else if(i.algorithm===2)for(d.push(m),r=1;r<=i.distance;r++)E=$n(E-i.step,0,1),k=$n(k-i.step,0,1),d.push({h:C,s:k,v:E});else if(i.algorithm===3)for(d.push(m),r=1;r<=i.distance;r++)E=$n(E-i.step,0,1),d.push({h:C,s:k,v:E});else E=$n(m.v+i.step*2,0,1),d.push({h:C,s:k,v:E}),E=$n(m.v+i.step,0,1),d.push({h:C,s:k,v:E}),d.push(m),k=m.s,E=m.v,E=$n(m.v-i.step,0,1),d.push({h:C,s:k,v:E}),E=$n(m.v-i.step*2,0,1),d.push({h:C,s:k,v:E});break}case"complementary":case"complement":case"comp":{d.push(m),C=_n(m.h,180),d.push(new jt(C,k,E));break}case"double-complementary":case"double-complement":case"double":{d.push(m),C=_n(C,180),d.push(new jt(C,k,E)),C=_n(C,i.angle),d.push(new jt(C,k,E)),C=_n(C,180),d.push(new jt(C,k,E));break}case"analogous":case"analog":{C=_n(C,i.angle),d.push(new jt(C,k,E)),d.push(m),C=_n(m.h,0-i.angle),d.push(new jt(C,k,E));break}case"triadic":case"triad":{for(d.push(m),r=1;r<3;r++)C=_n(C,120),d.push(new jt(C,k,E));break}case"tetradic":case"tetra":{d.push(m),C=_n(m.h,180),d.push(new jt(C,k,E)),C=_n(m.h,-1*i.angle),d.push(new jt(C,k,E)),C=_n(C,180),d.push(new jt(C,k,E));break}case"square":{for(d.push(m),r=1;r<4;r++)C=_n(C,90),d.push(new jt(C,k,E));break}case"split-complementary":case"split-complement":case"split":{C=_n(C,180-i.angle),d.push(new jt(C,k,E)),d.push(m),C=_n(m.h,180+i.angle),d.push(new jt(C,k,E));break}case"material":{var F=i.baseLight,P=i.baseDark==="self"||!i.baseDark?Tl(e,e):i.baseDark;d.push({50:nn(F,e,10),100:nn(F,e,30),200:nn(F,e,50),300:nn(F,e,70),400:nn(F,e,85),500:nn(F,e,100),600:nn(P,e,92),700:nn(P,e,83),800:nn(P,e,74),900:nn(P,e,65),A100:va(eo(nn(P,e,15),80),65),A200:va(eo(nn(P,e,15),80),55),A400:va(eo(nn(F,e,100),55),10),A700:va(eo(nn(P,e,83),65),10)});break}default:console.error("Unknown schema name")}return a==="material"?d[0]:Ka(d,f)},Ac=e=>e instanceof jt||e instanceof Ga||e instanceof ua||e instanceof hn||e instanceof Rs||e instanceof Xa,xn=function(e){if(Ac(e))return e;let a=(""+e).toLowerCase();typeof zs[a]<"u"&&(a=zs[a]),typeof wl[a]<"u"&&(a=wl[a]);let f=a.replace(/[^\d.,%]/g,"").split(",").map(t=>isNaN(t)?t:+t);return a[0]==="#"?Pi(a):a.includes("rgba")?new Rs(f[0],f[1],f[2],f[3]):a.includes("rgb")?new hn(f[0],f[1],f[2]):a.includes("cmyk")?new Xa(f[0],f[1],f[2],f[3]):a.includes("hsv")?new jt(f[0],f[1],f[2]):a.includes("hsla")?new ua(f[0],f[1],f[2],f[3]):a.includes("hsl")?new Ga(f[0],f[1],f[2]):a},Tr=xn,El=(e="hex",a=1)=>{let f=(m,_)=>Math.floor(m+Math.random()*(_+1-m)),t,i,r,d;return i=f(0,255),r=f(0,255),d=f(0,255),t="#"+((1<<24)+(i<<16)+(r<<8)+d).toString(16).slice(1),e==="hex"?t:en(t,e,a)},Vh=El,Er=class{_setValue(e){e||(e="#000000"),typeof e=="string"&&(e=xn(e)),e&&Cn(e)?this._value=e:this._value=void 0}_setOptions(e){this._options=Object.assign({},gs,e)}constructor(e="#000000",a=null){this._setValue(e),this._setOptions(a)}get options(){return this._options}set options(e){this._setOptions(e)}get value(){return this._value?this._value:void 0}set value(e){this._setValue(e)}toRGB(){if(this._value)return this._value=si(this._value),this}get rgb(){return this._value?si(this._value):void 0}toRGBA(e){if(this._value)return ss(this._value)?e&&(this._value=An(this._value,e)):this._value=An(this._value,e||gs.alpha),this}get rgba(){return this._value?ss(this._value)?this._value:An(this._value,this._options.alpha):void 0}toHEX(){if(this._value)return this._value=tn(this._value),this}get hex(){return this._value?tn(this._value):void 0}toHSV(){if(this._value)return this._value=ma(this._value),this}get hsv(){return this._value?ma(this._value):void 0}toHSL(){if(this._value)return this._value=_s(this._value),this}get hsl(){return this._value?_s(this._value):void 0}toHSLA(e){if(this._value)return Vn(this._value)?e&&(this._value=ga(this._value,e)):this._value=ga(this._value,e),this}get hsla(){return this._value?Vn(this._value)?this._value:ga(this._value,this._options.alpha):void 0}toCMYK(){if(this._value)return this._value=Bo(this._value),this}get cmyk(){return this._value?Bo(this._value):void 0}toWebsafe(){if(this._value)return this._value=ys(this._value),this}get websafe(){return this._value?ys(this._value):void 0}toString(){return this._value?Dr(this._value):void 0}darken(e=10){if(this._value)return this._value=Ws(this._value,e),this}lighten(e=10){if(this._value)return this._value=va(this._value,e),this}isDark(){return this._value?ns(this._value):void 0}isLight(){return this._value?Io(this._value):void 0}hueShift(e){if(this._value)return this._value=Tc(this._value,e),this}grayscale(){if(!(!this._value||this.type===Gt.UNKNOWN))return this._value=Vs(this._value,(""+this.type).toLowerCase()),this}get type(){return Wn(this._value)}getScheme(e,a,f){return this._value?to(this._value,e,a,f):void 0}equal(e){return Sr(this._value,e)}random(e,a){this._value=El(e,a)}channel(e,a){let f=`${this.type}`.toUpperCase();if(["red","green","blue"].includes(e)){this.toRGB();let t={red:"r",green:"g",blue:"b"};this._value[t[e]]=a,this[`to${f}`]()}if(e==="alpha"&&this._value.a&&(this._value.a=a),["hue","saturation","value"].includes(e)){this.toHSV();let t={hue:"h",saturation:"s",value:"v"};this._value[t[e]]=a,this[`to${f}`]()}if(["lightness"].includes(e)&&(this.toHSL(),this._value.l=a,this[`to${f}`]()),["cyan","magenta","yellow","black"].includes(e)){this.toCMYK();let t={cyan:"c",magenta:"m",yellow:"y",black:"k"};this._value[t[e]]=a,this[`to${f}`]()}return this}add(e){this._setValue(Ei(this._value,e))}mix(e,a){this._setValue(nn(this._value,e,a))}multiply(e){this._setValue(Tl(this._value,e))}shade(e){this._setValue(Ec(this._value,e))}saturate(e){this._setValue(eo(this._value,e))}desaturate(e){this._setValue(fn(this._value,e))}spin(e){this._setValue(Ti(this._value,e))}brighten(e){this._setValue(Yi(this._value,e))}},Mc={...Sc},Al="1.0.4",Wh="11.08.2024, 23:47:03",Ml=()=>{console.info(`%c Farbe %c v${Al} %c ${Wh} `,"color: #ffffff; font-weight: bold; background: #ff00ff","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Farbe=Er,globalThis.farbe=e=>new Er(e),globalThis.Farbe.Routines=Fo,globalThis.Farbe.Palette=zh,globalThis.Farbe.StandardColors=zs,globalThis.Farbe.MetroColors=wl,globalThis.Farbe.Primitives=Mc,globalThis.Farbe.info=Ml;var Fl=Object.defineProperty,Fc=(e,a)=>{for(var f in a)Fl(e,f,{get:a[f],enumerable:!0})};function Il(e){return e.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function Ll(e=[]){return Array.isArray(e)?e.join(" "):e.toString()}var Ic=["opacity","zIndex","order","zoom"];function io(e={}){return typeof e=="string"?e:Object.keys(e).map(a=>{let f=Il(a),t=e[a];return!Ic.includes(f)&&!isNaN(t)&&(t+="px"),`${f}: ${t}`}).join(";")}var jh=["accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inert","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","popover","spellcheck","style","tabindex","title","translate","writingsuggestions"],Ar=e=>{let a,f,t=[],i,r,d=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof e=="string"){if(e=e.trim(),i=document.implementation.createHTMLDocument(""),a=i.createElement("base"),a.href=document.location.href,i.head.appendChild(a),r=i.body,f=d.exec(e),f)return document.createElement(f[1]);r.innerHTML=e;for(let m=0;m<r.childNodes.length;m++)t.push(r.childNodes[m]);return t[0]}},Cs=["onauxclick","onbeforeinput","onbeforematch","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"],No=class{constructor(e={}){this.options=e,this.tag="div"}selfAttributes(){return[]}get attributes(){return this.getAttributes().join(" ")}getAttributes(){let e=[],a=["hidden","disabled","required","readonly","selected","open","multiply","default"],f=["className","style","data","tag","events"];for(let t in this.options)if(!f.includes(t)){if(a.includes(t)&&this.options[t]===!0){e.push(t);continue}(this.selfAttributes().includes(t)&&!e.includes(t)||jh.includes(t))&&e.push(`${t}="${this.options[t]}"`)}return this.classes&&e.push(`class="${this.classes}"`),this.styles&&e.push(`style="${this.styles}"`),this.dataSet&&e.push(this.dataSet),this.aria&&e.push(this.aria),e}draw(){return this.template()}get dataSet(){let{data:e={}}=this.options,a=[];for(let f in e)a.push(`data-${Il(f)}="${e[f]}"`);return a.join(" ")}get aria(){let{aria:e={}}=this.options,a=[];for(let f in e)a.push(`aria-${f.toLowerCase()}="${e[f]}"`);return a.join(" ")}get events(){let{events:e={},control:a=!0}=this.options,f=[];for(let t in e)a&&!Cs.includes(t)&&console.info(`Event ${t} for element ${this.tag} not specified in HTML specification`),f.push(`${t.toLowerCase()}="${e[t]}"`);return f.join(" ")}get classes(){return Ll(this.options.class)}get styles(){return io(this.options.style)}template(){return""}toString(){return this.draw()}toElement(){return Ar(this.draw())}},Ol=e=>{if(Array.isArray(e))return e.map(Ol).join(`
`);if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(e.draw)return e.draw();throw new Error("Unknown element! "+e)},Xe=class extends No{constructor(...e){let a={},f=[];for(let t of e)typeof t=="object"&&!(t instanceof No)?a=t:f.push(t);super(a),this.children=f}template(e){let a=this.options.tag?this.options.tag:this.tag;return`
            <${a} ${this.attributes} ${this.events}>${e}</${a}>
        `}draw(){return this.template(this.children.map(Ol).join(""))}},Ut=class extends No{constructor(e={}){super(e),this.options=e}template(){return`
            <${this.options.tag?this.options.tag:this.tag} ${this.attributes} ${this.events}/>
        `}},Bt=(e=[],a=document.body,f={})=>{let t,i,{clear:r=!0,where:d="beforeend"}=f;i=typeof a=="string"?document.querySelector(a):a,i instanceof HTMLElement||(i=document.body),r&&(i.innerHTML=""),Array.isArray(e)||(e=[e]),t=e.map(Ol).join(""),i.insertAdjacentHTML(d,t)},Mn=(e="",a)=>{let f=document.createElement("style");return a!==void 0&&f.setAttribute("media",a),f.appendChild(document.createTextNode(e)),document.head.appendChild(f),f},xs=e=>Mn(e).sheet,ws=(e,a,f)=>{e.insertRule(a+"{"+f+"}")},Lc=(e,a)=>{if(typeof e=="string"){Mn(e,a);return}let f=xs(a);for(let t in e)ws(f,t,io(e[t]))},Pl=async(e,a)=>{let f=await fetch(e,a),t,i;if(!f.ok)throw new Error("HTTP error: "+f.status);t=await f.text(),i=document.createElement("style"),i.appendChild(document.createTextNode(t)),document.body.appendChild(i)},Oc=async(e,a)=>{let f=await fetch(e,a),t,i;if(!f.ok)throw new Error("HTTP error: "+f.status);t=await f.text(),i=document.createElement("script"),i.appendChild(document.createTextNode(t)),document.body.appendChild(i)},Mr={};Fc(Mr,{Abbr:()=>ya,Address:()=>Gl,Anchor:()=>Pr,Area:()=>ao,Article:()=>jl,Aside:()=>ql,AudioTag:()=>oo,Base:()=>ks,Bdi:()=>Ss,Bdo:()=>lo,Blockquote:()=>Kl,Body:()=>zo,Bold:()=>Gc,Br:()=>Vl,Button:()=>Kc,Canvas:()=>sn,Caption:()=>Qc,Cite:()=>Ql,Code:()=>eu,Col:()=>Zl,Colgroup:()=>id,Data:()=>Ai,Dd:()=>Vr,Details:()=>iu,Dfn:()=>sd,Dialog:()=>Ys,Div:()=>ho,Dl:()=>_a,Dt:()=>$r,Em:()=>su,Embed:()=>ld,Fieldset:()=>ud,FigCaption:()=>ru,Figure:()=>hd,Footer:()=>Uc,Form:()=>fd,Frame:()=>gd,Frameset:()=>jr,Head:()=>Bl,Header:()=>Yl,Heading:()=>ba,Hr:()=>Nc,Html:()=>Fr,IFrame:()=>Yo,Img:()=>$l,Input:()=>Bc,Ins:()=>yd,Ital:()=>Uo,Kbd:()=>ei,Label:()=>Ur,Legend:()=>dd,Link:()=>Rl,List:()=>Fn,ListItem:()=>Xo,Main:()=>ai,Map:()=>Xl,Mark:()=>uu,Meta:()=>an,Nav:()=>Ul,NoEmbed:()=>fo,NoFrames:()=>Ca,NoScript:()=>du,Option:()=>kd,OptionGroup:()=>zt,Output:()=>Sd,Paragraph:()=>Dd,Picture:()=>os,Pre:()=>Td,Quoted:()=>hu,Rp:()=>xa,Rt:()=>rn,Ruby:()=>oi,Script:()=>x,Section:()=>$i,Select:()=>qr,Slot:()=>ka,Small:()=>M,Source:()=>N,Span:()=>Hl,Strike:()=>p,Strong:()=>au,Sub:()=>Z,Summary:()=>nu,Sup:()=>ye,Table:()=>Jc,TableCell:()=>Jl,TableRow:()=>uo,TableSection:()=>Rr,Template:()=>wi,Textarea:()=>Ee,Time:()=>Ve,Title:()=>on,Track:()=>Ke,Var:()=>tt,VideoTag:()=>lt,Wbr:()=>qt,a:()=>Wc,abbr:()=>Br,address:()=>qc,anchor:()=>Vc,area:()=>Vo,article:()=>jc,aside:()=>Nr,audio:()=>Yc,b:()=>Xc,base:()=>Pc,bdi:()=>ro,bdo:()=>Kh,blockquote:()=>Zh,body:()=>zl,br:()=>Gh,button:()=>Jh,canvas:()=>Zc,caption:()=>ed,cite:()=>nd,code:()=>Hr,col:()=>td,colgroup:()=>ef,data:()=>fu,dd:()=>jo,details:()=>sf,dfn:()=>af,dialog:()=>ln,div:()=>ad,dl:()=>tu,dt:()=>nf,em:()=>of,embed:()=>ou,fieldset:()=>cd,figcaption:()=>cf,figure:()=>uf,footer:()=>so,form:()=>pd,frame:()=>vd,frameset:()=>md,h1:()=>Lr,h2:()=>zc,h3:()=>Wl,h4:()=>Hc,h5:()=>Xh,h6:()=>$c,head:()=>Nl,header:()=>Ho,hr:()=>Rc,html:()=>Ro,i:()=>rf,iframe:()=>df,img:()=>Yh,input:()=>Ir,ins:()=>hf,ital:()=>od,kbd:()=>ff,label:()=>Go,legend:()=>lf,li:()=>Cd,link:()=>Uh,main:()=>wn,map:()=>$o,mark:()=>cu,meta:()=>xi,nav:()=>no,noembed:()=>qo,noframes:()=>bd,noscript:()=>pf,ol:()=>_d,optgroup:()=>wd,option:()=>po,output:()=>Yr,p:()=>gi,picture:()=>wa,pre:()=>mf,q:()=>Gr,quoted:()=>l,rp:()=>as,rt:()=>Gi,ruby:()=>qs,s:()=>v,script:()=>T,section:()=>Or,select:()=>xd,slot:()=>pu,small:()=>L,source:()=>z,span:()=>qh,strike:()=>b,strong:()=>rd,sub:()=>ie,summary:()=>Wr,sup:()=>pe,table:()=>Qh,tbody:()=>Us,td:()=>co,template:()=>ki,textarea:()=>Ne,tfoot:()=>zr,th:()=>tf,thead:()=>Wo,time:()=>qe,title:()=>Vi,tr:()=>Ds,track:()=>Ye,ul:()=>lu,variable:()=>dt,video:()=>St,wbr:()=>Bi});var Fr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","html")}selfAttributes(){return["lang"]}},Ro=(...e)=>new Fr(...e),Bl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","head")}},Nl=(...e)=>new Bl(...e),ks=class extends Ut{constructor(){super(...arguments);ae(this,"tag","base")}selfAttributes(){return["href","target"]}},Pc=e=>new ks(e),Rl=class extends Ut{constructor(){super(...arguments);ae(this,"tag","link")}selfAttributes(){return["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","blocking","color","disabled","fetchpriority"]}},Uh=e=>new Rl(e),zo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","body")}},zl=(...e)=>new zo(...e),Hl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","span")}},qh=(...e)=>new Hl(...e),$l=class extends Ut{constructor(){super(...arguments);ae(this,"tag","img")}selfAttributes(){return["align","alt","border","height","hspace","ismap","longdesc","lowsrc","src","vspace","width","usemap"]}},Yh=(e="",a="",f={})=>new $l({...f,src:e,alt:a}),Bc=class extends Ut{constructor(){super(...arguments);ae(this,"tag","input")}selfAttributes(){return["accept","align","alt","autocomplete","autofocus","border","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","list","max","maxlength","min","multiple","name","pattern","placeholder","size","src","step","type","value"]}},Ir=(e={})=>new Bc(e),Vl=class extends Ut{constructor(){super(...arguments);ae(this,"tag","br")}selfAttributes(){return["clear"]}},Gh=e=>new Vl(e),Nc=class extends Ut{constructor(){super(...arguments);ae(this,"tag","hr")}},Rc=e=>new Nc(e),ba=class extends Xe{constructor(e="h1",...a){super(...a),this.tag=e}},js=(e="h1",...a)=>new ba(e,...a),Lr=(...e)=>js("h1",...e),zc=(...e)=>js("h2",...e),Wl=(...e)=>js("h3",...e),Hc=(...e)=>js("h4",...e),Xh=(...e)=>js("h5",...e),$c=(...e)=>js("h6",...e),$i=class extends Xe{constructor(){super(...arguments);ae(this,"tag","section")}},Or=(...e)=>new $i(...e),Pr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","a")}selfAttributes(){return["coords","download","hreflang","name","rel","rev","shape","target","type","href"]}},Vc=(...e)=>new Pr(...e),Wc=(...e)=>new Pr(...e),ya=class extends Xe{constructor(){super(...arguments);ae(this,"tag","abbr")}},Br=(...e)=>new ya(...e),jl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","article")}},jc=(...e)=>new jl(...e),Ul=class extends Xe{constructor(){super(...arguments);ae(this,"tag","nav")}},no=(...e)=>new Ul(...e),ql=class extends Xe{constructor(){super(...arguments);ae(this,"tag","aside")}},Nr=(...e)=>new ql(...e),Yl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","header")}},Ho=(...e)=>new Yl(...e),Uc=class extends Xe{constructor(){super(...arguments);ae(this,"tag","footer")}},so=(...e)=>new Uc(...e),Gl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","address")}},qc=(...e)=>new Gl(...e),Xl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","map")}selfAttributes(){return["name"]}},$o=(...e)=>new Xl(...e),ao=class extends Ut{constructor(){super(...arguments);ae(this,"tag","area")}selfAttributes(){return["alt","coords","hreflang","nohref","shape","target","type","href"]}},Vo=(e={})=>new ao(e),oo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","audio")}selfAttributes(){return["autoplay","controls","loop","preload","src"]}},Yc=(...e)=>new oo(...e),Gc=class extends Xe{constructor(){super(...arguments);ae(this,"tag","b")}},Xc=(...e)=>new Gc(...e),Ss=class extends Xe{constructor(){super(...arguments);ae(this,"tag","bdi")}},ro=(...e)=>new Ss(...e),lo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","bdo")}},Kh=(...e)=>new lo(...e),Kl=class extends Xe{constructor(){super(...arguments);ae(this,"tag","blockquote")}selfAttributes(){return["cite"]}},Zh=(...e)=>new Kl(...e),Kc=class extends Xe{constructor(){super(...arguments);ae(this,"tag","button")}selfAttributes(){return["autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"]}},Jh=(...e)=>new Kc(...e),sn=class extends Xe{constructor(){super(...arguments);ae(this,"tag","canvas")}selfAttributes(){return["width","height"]}},Zc=(...e)=>new sn(...e),Jc=class extends Xe{constructor(){super(...arguments);ae(this,"tag","table")}selfAttributes(){return["align","background","bgcolor","border","bordercolor","cellpadding","cellspacing","cols","frame","height","rules","summary","width"]}},Qh=(...e)=>new Jc(...e),Qc=class extends Xe{constructor(){super(...arguments);ae(this,"tag","caption")}selfAttributes(){return["align","valign"]}},ed=(...e)=>new Qc(...e),Zl=class extends Ut{constructor(){super(...arguments);ae(this,"tag","col")}selfAttributes(){return["align","valign","char","charoff","span","width"]}},td=e=>new Zl(e),id=class extends Ut{constructor(){super(...arguments);ae(this,"tag","colgroup")}selfAttributes(){return["align","valign","char","charoff","span","width"]}},ef=e=>new id(e),Rr=class extends Xe{constructor(e="tbody",...a){super(...a),this.tag=e}selfAttributes(){return["align","valign","char","charoff","bgcolor"]}},Us=(...e)=>new Rr("tbody",...e),Wo=(...e)=>new Rr("thead",...e),zr=(...e)=>new Rr("tfoot",...e),uo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","tr")}selfAttributes(){return["align","bgcolor","bordercolor","char","charoff","valign"]}},Ds=(...e)=>new uo(...e),Jl=class extends Xe{constructor(e="td",...a){super(...a),this.tag=e}selfAttributes(){return["abbr","align","axis","background","bgcolor","bordercolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]}},tf=(...e)=>new Jl("th",...e),co=(...e)=>new Jl("td",...e),Ql=class extends Xe{constructor(){super(...arguments);ae(this,"tag","cite")}},nd=(...e)=>new Ql(...e),eu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","code")}},Hr=(...e)=>new eu(...e),_a=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dl")}},$r=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dt")}},Vr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dd")}},tu=(...e)=>new _a(...e),nf=(...e)=>new $r(...e),jo=(...e)=>new Vr(...e),iu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","details")}},sf=(...e)=>new iu(...e),nu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","summary")}},Wr=(...e)=>new nu(...e),sd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dfn")}},af=(...e)=>new sd(...e),ho=class extends Xe{constructor(){super(...arguments);ae(this,"tag","div")}selfAttributes(){return["align","title"]}},ad=(...e)=>new ho(...e),su=class extends Xe{constructor(){super(...arguments);ae(this,"tag","em")}},of=(...e)=>new su(...e),Uo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","i")}},od=(...e)=>new Uo(...e),rf=(...e)=>new Uo(...e),au=class extends Xe{constructor(){super(...arguments);ae(this,"tag","strong")}},rd=(...e)=>new au(...e),ld=class extends Xe{constructor(){super(...arguments);ae(this,"tag","embed")}selfAttributes(){return["align","height","hspace","pluginspace","src","type","vspace","width"]}},ou=(...e)=>new ld(...e),fo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","noembed")}},qo=(...e)=>new fo(...e),ud=class extends Xe{constructor(){super(...arguments);ae(this,"tag","fieldset")}selfAttributes(){return["form","title"]}},cd=(...e)=>new ud(...e),dd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","legend")}selfAttributes(){return["align","title"]}},lf=(...e)=>new dd(...e),hd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","figure")}},uf=(...e)=>new hd(...e),ru=class extends Xe{constructor(){super(...arguments);ae(this,"tag","figcaption")}},cf=(...e)=>new ru(...e),fd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","form")}selfAttributes(){return["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"]}},pd=(...e)=>new fd(...e),jr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","frameset")}selfAttributes(){return["border","bordercolor","cols","frameborder","framespacing","rows"]}},md=(...e)=>new jr(...e),gd=class extends Ut{constructor(){super(...arguments);ae(this,"tag","frame")}selfAttributes(){return["bordercolor","frameborder","noresize","name","src","scrolling"]}},vd=(e={})=>new gd(e),Ca=class extends Xe{constructor(){super(...arguments);ae(this,"tag","noframes")}},bd=(...e)=>new Ca(...e),Yo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","iframe")}selfAttributes(){return["align","allowtransparency","frameborder","height","hspace","marginheight","marginwidth","name","sandbox","scrolling","seamless","src","srcdoc","vspace","width"]}},df=(...e)=>new Yo(...e),yd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","ins")}selfAttributes(){return["cite","datetime"]}},hf=(...e)=>new yd(...e),ei=class extends Xe{constructor(){super(...arguments);ae(this,"tag","kbd")}},ff=(...e)=>new ei(...e),Ur=class extends Xe{constructor(){super(...arguments);ae(this,"tag","label")}selfAttributes(){return["for"]}},Go=(...e)=>new Ur(...e),Fn=class extends Xe{constructor(e="ul",...a){super(...a),this.tag=e}selfAttributes(){return this.tag==="ul"?["type"]:["type","reserved","start"]}},Xo=class extends Xe{constructor(){super(...arguments);ae(this,"tag","li")}selfAttributes(){return["type","value"]}},lu=(...e)=>new Fn("ul",...e),_d=(...e)=>new Fn("ol",...e),Cd=(...e)=>new Xo(...e),uu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","mark")}},cu=(...e)=>new uu(...e),du=class extends Xe{constructor(){super(...arguments);ae(this,"tag","noscript")}},pf=(...e)=>new du(...e),qr=class extends Xe{constructor(){super(...arguments);ae(this,"tag","select")}selfAttributes(){return["autofocus","form","name","size"]}},xd=(...e)=>new qr(...e),zt=class extends Xe{constructor(){super(...arguments);ae(this,"tag","optgroup")}selfAttributes(){return["label"]}},wd=(...e)=>new zt(...e),kd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","option")}selfAttributes(){return["label","value"]}},po=(...e)=>new kd(...e),Sd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","output")}selfAttributes(){return["for","form","name"]}},Yr=(...e)=>new Sd(...e),Dd=class extends Xe{constructor(){super(...arguments);ae(this,"tag","p")}selfAttributes(){return["align"]}},gi=(...e)=>new Dd(...e),Td=class extends Xe{constructor(){super(...arguments);ae(this,"tag","pre")}},mf=(...e)=>new Td(...e),hu=class extends Xe{constructor(){super(...arguments);ae(this,"tag","q")}selfAttributes(){return["cite"]}},Gr=(...e)=>new hu(...e),l=(...e)=>new hu(...e),p=class extends Xe{constructor(){super(...arguments);ae(this,"tag","strike")}},b=(...e)=>new p(...e),v=(...e)=>new p(...e),x=class extends Xe{constructor(){super(...arguments);ae(this,"tag","script")}selfAttributes(){return["async","defer","language","src","type"]}},T=(...e)=>new x(...e),M=class extends Xe{constructor(){super(...arguments);ae(this,"tag","small")}},L=(...e)=>new M(...e),N=class extends Ut{constructor(){super(...arguments);ae(this,"tag","source")}selfAttributes(){return["media","src","type"]}},z=(e={})=>new N(e),Z=class extends Xe{constructor(){super(...arguments);ae(this,"tag","sub")}},ie=(...e)=>new Z(...e),ye=class extends Xe{constructor(){super(...arguments);ae(this,"tag","sup")}},pe=(...e)=>new ye(...e),Ee=class extends Xe{constructor(){super(...arguments);ae(this,"tag","textarea")}selfAttributes(){return["autofocus","cols","form","maxlength","name","placeholder","rows","wrap"]}},Ne=(...e)=>new Ee(...e),Ve=class extends Xe{constructor(){super(...arguments);ae(this,"tag","time")}selfAttributes(){return["datetime","pubdate"]}},qe=(...e)=>new Ve(...e),Ke=class extends Ut{constructor(){super(...arguments);ae(this,"tag","track")}selfAttributes(){return["kind","src","srclang","label"]}},Ye=(e={})=>new Ke(e),tt=class extends Xe{constructor(){super(...arguments);ae(this,"tag","var")}},dt=(...e)=>new tt(...e),lt=class extends Xe{constructor(){super(...arguments);ae(this,"tag","video")}selfAttributes(){return["autoplay","controls","height","loop","loop","poster","preload","src","width"]}},St=(...e)=>new lt(...e),qt=class extends Ut{constructor(){super(...arguments);ae(this,"tag","wbr")}},Bi=e=>new qt(e),ai=class extends Xe{constructor(){super(...arguments);ae(this,"tag","main")}},wn=(...e)=>new ai(...e),an=class extends Ut{constructor(){super(...arguments);ae(this,"tag","meta")}selfAttributes(){return["content","name","http-equiv","charset"]}},xi=e=>new an(e),on=class extends Xe{constructor(){super(...arguments);ae(this,"tag","title")}},Vi=e=>new on(e),wi=class extends Xe{constructor(){super(...arguments);ae(this,"tag","template")}selfAttributes(){return["shadowrootmode","shadowrootdelegatesfocus","shadowrootclonable","shadowrootserializable"]}},ki=(...e)=>new wi(...e),oi=class extends Xe{constructor(){super(...arguments);ae(this,"tag","ruby")}},rn=class extends Ut{constructor(){super(...arguments);ae(this,"tag","rt")}},xa=class extends Ut{constructor(){super(...arguments);ae(this,"tag","rp")}},qs=(...e)=>new oi(...e),Gi=e=>new rn(e),as=e=>new xa(e),Ai=class extends Xe{constructor(){super(...arguments);ae(this,"tag","data")}},fu=(...e)=>new Ai(...e),os=class extends Xe{constructor(){super(...arguments);ae(this,"tag","picture")}},wa=(...e)=>new os(...e),Ys=class extends Xe{constructor(){super(...arguments);ae(this,"tag","dialog")}selfAttributes(){return["open"]}},ln=(...e)=>new Ys(...e),ka=class extends Xe{constructor(){super(...arguments);ae(this,"tag","slot")}selfAttributes(){return["name"]}},pu=(...e)=>new ka(...e),gf={},kv="0.15.0",Sv="12.05.2025, 14:04:37",Dv=()=>{console.info(`%c Html.js %c v${kv} %c ${Sv} `,"color: #ffffff; font-weight: bold; background: #708238","color: white; background: darkgreen","color: white; background: #0080fe;")},Tv=(e=globalThis)=>{for(let a in Mr)globalThis[a]&&(gf[a]=globalThis[a]),e[a]=Mr[a]},Ev=(e=globalThis)=>{for(let a in gf)e[a]=gf[a]},Av={BaseElement:No,Tag:Xe,SingleTag:Ut,...Mr,extract:Tv,restore:Ev},Mv={addStyle:Lc,addCssRule:ws,createStyleSheet:xs,createStyleElement:Mn};globalThis.HTML={cssLoader:Pl,jsLoader:Oc,render:Bt,...Av,...Mv,info:Dv};var Mp={};s(Mp,{americanExpress:()=>fy,array:()=>Db,base64:()=>Cb,between:()=>vb,bigint:()=>Xv,boolean:()=>Sb,bytes:()=>yy,color:()=>Qb,compose:()=>zv,contains:()=>Ay,creditCard:()=>cy,date:()=>Zv,digits:()=>Sy,diners:()=>my,discover:()=>py,domain:()=>$b,email:()=>ub,endsWith:()=>jv,equal:()=>Oy,finite:()=>yb,float:()=>Ty,func:()=>Qv,great:()=>Ry,greatOrEqual:()=>Vy,hexColor:()=>ey,hslColor:()=>iy,imei:()=>Ab,info:()=>Yy,integer:()=>tb,ip:()=>Bb,ipv4:()=>Nb,ipv6:()=>Rb,jcb:()=>gy,length:()=>Mb,less:()=>Hy,lessOrEqual:()=>jy,mastercard:()=>hy,max:()=>rb,maxLength:()=>Ib,min:()=>ab,minLength:()=>Fb,notNull:()=>Cy,notNumber:()=>wb,number:()=>fb,object:()=>mb,parse:()=>vf,pattern:()=>wy,pipe:()=>Nv,required:()=>db,rgbColor:()=>ty,safeInteger:()=>nb,safeParse:()=>Pv,similar:()=>By,startsWith:()=>Vv,string:()=>bf,symbol:()=>Yv,type:()=>Iy,unionPay:()=>vy,unknown:()=>Uv,url:()=>jb,visa:()=>dy});var Fv=Object.defineProperty,Fp=Object.getOwnPropertySymbols,Iv=Object.prototype.hasOwnProperty,Lv=Object.prototype.propertyIsEnumerable,Ip=(e,a,f)=>a in e?Fv(e,a,{enumerable:!0,configurable:!0,writable:!0,value:f}):e[a]=f,Ov=(e,a)=>{for(var f in a||(a={}))Iv.call(a,f)&&Ip(e,f,a[f]);if(Fp)for(var f of Fp(a))Lv.call(a,f)&&Ip(e,f,a[f]);return e},ht=class extends Error{constructor(e="",a=null,f){super(e),this.message=e,this.name=a,this.value=f}},vf=(e,a)=>{let f;if(!e)throw new Error("Schema object required for parse data!");if(typeof e=="function"){if(f=e.apply(null,[a]),f instanceof ht)throw f}else for(let t in e){let i=a[t],r=e[t];if(!r)throw new ht(`Guard not defined for field ${t} in input data!`,"general",a);if(!a.hasOwnProperty(t))throw new ht(`Field ${t} doesn't exists in input data!`,"general",a);if(typeof r=="function"){if(console.log(r.name),f=r.apply(null,[i]),f instanceof ht)throw f}else vf(r,i)}return a},Pv=(e,a)=>{let f;if(!e)throw new Error("Schema object required for parse data!");if(typeof e=="function"){if(f=e.apply(null,[a]),f instanceof ht)return{ok:!1,error:f}}else for(let t in e){let i=a[t],r=e[t];if(r)if(typeof r=="function"){if(f=r.apply(null,[a]),f instanceof ht)return{ok:!1,error:f}}else vf(r,i)}return{ok:!0,output:a}},Bv=(...e)=>a=>e.reduce((f,t)=>t(f),a),Nv=Bv,Rv=(...e)=>a=>e.reduceRight((f,t)=>t(f),a),zv=Rv,Hv="VAL must be a string",bf=(e=Hv)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"?a:new ht(f,"string",a)},Ko=e=>typeof e<"u"&&e!==null,$v="VAL must starts with START_VAL",Vv=(e,a=$v)=>{if(!Ko(e))throw new Error("START_VALUE not defined!");return function(f){let t=a.replace(/VAL/g,f).replace(/START_VAL/g,e);return typeof f=="string"&&f.startsWith(e)?f:new ht(t,"startsWith",f)}},Wv="VAL must end with END_VAL",jv=(e,a=Wv)=>{if(!Ko(e))throw new Error("END_VALUE not defined!");return function(f){let t=a.replace(/VAL/g,f).replace(/END_VAL/g,e);return typeof f=="string"&&f.endsWith(e)?f:new ht(t,"endsWith",f)}},Uv=()=>function(e){return e},qv="A symbol is required",Yv=(e=qv)=>function(a){return typeof a=="symbol"?a:new ht(e,"symbol",a)},Gv="VAL must be a bigint",Xv=(e=Gv)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="bigint"?a:new ht(f,"bigint",a)},Kv="VAL must be valid date object or date string",Zv=(e=Kv)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="object"&&a.getTime||typeof a=="string"&&!isNaN(Date.parse(a))?a:new ht(f,"date",a)},Jv="The value must be a function",Qv=(e=Jv)=>function(a){return typeof a=="function"?a:new ht(e,"function",a)},eb="VAL must be an integer",tb=(e=eb)=>function(a){let f=e.replace(/VAL/g,a);return Number.isInteger(a)?a:new ht(f,"integer",a)},ib="VAL must be an safe integer",nb=(e=ib)=>function(a){let f=e.replace(/VAL/g,a);return Number.isSafeInteger(a)?a:new ht(f,"safeInteger",a)},sb="VAL must be a great then MIN_VALUE",ab=(e,a=sb)=>{if(!Ko(e))throw new Error("MIN_VALUE not defined!");return function(f){let t=a.replace(/VAL/g,f).replace(/MIN_VALUE/g,e),i=+f;return!isNaN(i)&&i>=+e?f:new ht(t,"minValue",f)}},ob="VAL must be a less then MAX_VALUE",rb=(e,a=ob)=>{if(!Ko(e))throw new Error("MAX_VALUE not defined!");return function(f){let t=a.replace(/VAL/g,f).replace(/MAX_VALUE/g,e),i=+f;return!isNaN(i)&&i<=+e?f:new ht(t,"maxValue",f)}},lb="VAL must be a string in valid email format",ub=(e=lb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?a:new ht(f,"email",a)},cb="Any value required",db=(e=cb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a<"u"&&a!==null&&a!==""?a:new ht(f,"required",a)},hb="VAL must be a number",fb=(e=hb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="number"&&!isNaN(+a)?a:new ht(f,"number",a)},pb="VAL must be an object",mb=(e,a=pb)=>{if(typeof e!="object")throw new ht(a.replace(/VAL/g,e),"object",e);return Ov({},e)},gb="VAL must be between MIN_VAL and MAX_VAL",vb=(e,a,f=gb)=>{if(!Ko(e))throw new Error("MIN_VALUE not defined!");if(!Ko(a))throw new Error("MAX_VALUE not defined!");return function(t){let i=f.replace(/VAL/g,t).replace(/MIN_VAL/g,e).replace(/MAX_VAL/g,a),r=+t;return!isNaN(r)&&t>=+e&&t<=+a?t:new ht(i,"between",t)}},bb="VAL must be a finite number",yb=(e=bb)=>function(a){let f=e.replace(/VAL/g,a);return Number.isFinite(a)?a:new ht(f,"finite",a)},_b="VAL must be a string in valid base 64 format",Cb=(e=_b)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(a)?a:new ht(f,"base64",a)},xb="VAL can`t be a number",wb=(e=xb)=>function(a){let f=e.replace(/VAL/g,a);return isNaN(a)?a:new ht(f,"notNumber",a)},kb="VAL must be a boolean",Sb=(e=kb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="boolean"?a:new ht(f,"boolean",a)},Lp="VAL must be an array of TYPE",Db=(e,a=Lp)=>(!e&&!a&&(e=bf(),a=Lp),typeof e=="string"&&(a=e,e=bf()),function(f){let t=a.replace(/VAL/g,f).replace(/TYPE/g,e.name);if(!Array.isArray(f))return new ht(t,"array",f);for(let i of f)if(e(i)instanceof ht)return new ht(t,"array",f);return f}),Tb="VAL must be a valid EMEI",Eb=e=>{let a=i=>{let r=0;for(;i>0;)r=r+i%10,i=parseInt(""+i/10,10);return r},f=(""+e).length;if(f!==15)return!1;let t=0;for(let i=f;i>=1;i--){let r=e%10;i%2===0&&(r=2*r),t+=a(r),e=parseInt(""+e/10,10)}return t%10===0},Ab=(e=Tb)=>function(a){let f=e.replace(/VAL/g,a);return Eb(a)?a:new ht(f,"emei",a)},yf="VAL must be a string or array with length N",Mb=(e,a=yf)=>function(f){let t=a.replace(/VAL/g,f).replace(/N/g,e);return(typeof f=="string"||Array.isArray(f))&&f.length===+e?f:new ht(t,"length",f)},Fb=(e,a=yf)=>function(f){let t=a.replace(/VAL/g,f).replace(/N/g,e);return(typeof f=="string"||Array.isArray(f))&&f.length>=+e?f:new ht(t,"minLength",f)},Ib=(e,a=yf)=>function(f){let t=a.replace(/VAL/g,f).replace(/N/g,e);return(typeof f=="string"||Array.isArray(f))&&f.length<=+e?f:new ht(t,"maxLength",f)},Lb="VAL must be a valid ip address ipv4 or ipv6",Ob="VAL must be a valid ipv4 address",Pb="VAL must be a valid ipv6 address",Op=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Pp=/^[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}$/,Bb=(e=Lb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&(Op.test(a)||Pp.test(a))?a:new ht(f,"ip",a)},Nb=(e=Ob)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&Op.test(a)?a:new ht(f,"ipv4",a)},Rb=(e=Pb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&Pp.test(a)?a:new ht(f,"ipv6",a)},zb="VAL must be a valid domain name, xn--* for internationalized names",Hb=/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/,$b=(e=zb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&Hb.test(a)?a:new ht(f,"domain",a)},Vb="VAL must be a valid url",Wb=/^(?:(?:(?:https?|ftp|wss?):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,jb=(e=Vb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&Wb.test(a)?a:new ht(f,"url",a)},Ub="VAL must be a valid color in HEX, RGB(A), or HSL(A) format",qb="VAL must be a valid HEX color",Yb="VAL must be a valid RGB(a) color",Gb="VAL must be a valid HSL(A) color",Xb=/^#(?:[\da-f]{3}){1,2}$|^#(?:[\da-f]{4}){1,2}$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,Kb=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,Zb=/^rgba?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^rgba?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,Jb=/^hsla?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^hsla?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,Qb=(e=Ub)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&Xb.test(a)?a:new ht(f,"color",a)},ey=(e=qb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&Kb.test(a)?a:new ht(f,"hexColor",a)},ty=(e=Yb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&Zb.test(a)?a:new ht(f,"rgbColor",a)},iy=(e=Gb)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&Jb.test(a)?a:new ht(f,"hslColor",a)},Bp=/^4\d{12}(?:\d{3,6})?$/u,Np=/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,Rp=/^3[47]\d{13}$/u,zp=/^6(?:011|5\d{2})\d{12,15}$/u,Hp=/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,$p=/^(?:2131|1800|35\d{3})\d{11}$/u,Vp=/^(?:6[27]\d{14,17}|81\d{14,17})$/u,Wp="VAL must be a valid CC number (visa, mastercard, american express, discover, diners club, jcb, or union pay)",ny="VAL must be a valid Visa card number",sy="VAL must be a valid Mastercard card number",ay="VAL must be a valid American Express card number",oy="VAL must be a valid DISCOVER card number",ry="VAL must be a valid DINERS CLUB card number",ly="VAL must be a valid JCB card number",uy="VAL must be a valid Union Pay card number",cy=(e=Wp)=>function(a){let f=e.replace(/VAL/g,a);return typeof a=="string"&&(Bp.test(a)||Np.test(a)||Rp.test(a)||zp.test(a)||Hp.test(a)||$p.test(a)||Vp.test(a))?a:new ht(f,"creditCard",a)},Zo=(e,a,f=Wp)=>function(t){let i=f.replace(/VAL/g,t);return typeof t=="string"&&a.test(t)?t:new ht(i,e,t)},dy=(e=ny)=>Zo("visa",Bp,e),hy=(e=sy)=>Zo("mastercard",Np,e),fy=(e=ay)=>Zo("american express",Rp,e),py=(e=oy)=>Zo("discover",zp,e),my=(e=ry)=>Zo("diners club",Hp,e),gy=(e=ly)=>Zo("jcb card",$p,e),vy=(e=uy)=>Zo("union pay",Vp,e),by="The length of string must be VAL bytes",yy=(e,a=by)=>function(f){let t=a.replace(/VAL/g,f);return typeof f=="string"&&new TextEncoder().encode(f).length===e?f:new ht(t,"bytes",f)},_y="VAL can`t be null or undefined.",Cy=(e=_y)=>function(a){let f=e.replace(/VAL/g,a);return Ko(a)?a:new ht(f,"notNull",a)},xy="The value must match the pattern",wy=(e,a=xy)=>function(f){let t=a.replace(/VAL/g,f);return(typeof e=="string"?new RegExp(e,"g"):e).test(""+f)?f:new ht(t,"pattern",f)},ky="VAL must contains only digits",Sy=(e=ky)=>function(a){let f=e.replace(/VAL/g,a);return/^\d+$/g.test(""+a)?a:new ht(f,"digits",a)},Dy="VAL must be a float",Ty=(e=Dy)=>function(a){let f=e.replace(/VAL/g,a);return!isNaN(a)&&+n%1!==0||/^\d*\.\d+$/.test(a)?a:new ht(f,"float",a)},Ey="VAL must must contains OBJ",Ay=(e,a=Ey)=>function(f){let t=a.replace(/VAL/g,f).replace(/OBJ/g,e);return f.includes(e)?f:new ht(t,"contains",f)},My="A VAL must have type TYPE";function Fy(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)]$/,"$1").toLowerCase()}var Iy=(e="string",a=My)=>function(f){let t=a.replace(/VAL/g,f).replace(/TYPE/g,e);return e===Fy(f)?f:new ht(t,"type",f)},Ly="VAL must be an equal to VALUE",Oy=(e,a=Ly)=>function(f){let t=a.replace(/VAL/g,f).replace(/VALUE/g,e);return f===e?f:new ht(t,"equal",f)},Py="VAL must be a similar to VALUE",By=(e,a=Py)=>function(f){let t=a.replace(/VAL/g,f).replace(/VALUE/g,e);return f==e?f:new ht(t,"similar",f)},Ny="VAL must be a great then VALUE",Ry=(e,a=Ny)=>function(f){let t=a.replace(/VAL/g,f).replace(/VALUE/g,e);return f>e?f:new ht(t,"great",f)},zy="VAL must be a less then VALUE",Hy=(e,a=zy)=>function(f){let t=a.replace(/VAL/g,f).replace(/VALUE/g,e);return f<e?f:new ht(t,"less",f)},$y="VAL must be a great or equal to VALUE",Vy=(e,a=$y)=>function(f){let t=a.replace(/VAL/g,f).replace(/VALUE/g,e);return f>=e?f:new ht(t,"greatOrEqual",f)},Wy="VAL must be a less or equal to VALUE",jy=(e,a=Wy)=>function(f){let t=a.replace(/VAL/g,f).replace(/VALUE/g,e);return f<=e?f:new ht(t,"lessOrEqual",f)},Uy="0.7.2",qy="02.05.2025, 18:52:42",Yy=()=>{console.info(`%c Guardian %c v${Uy} %c ${qy} `,"color: pink; font-weight: bold; background: #2b1700","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.G=Mp;var it=(vi=class{static log(a,f,t){if(a>vi.DEBUG_LEVEL)return;let i={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},r;switch(a){case vi.DEBUG_LEVELS.ERROR:r="error";break;case vi.DEBUG_LEVELS.WARN:r="warn";break;case vi.DEBUG_LEVELS.INFO:r="info";break;case vi.DEBUG_LEVELS.DEBUG:r="debug";break;case vi.DEBUG_LEVELS.TRACE:r="trace";break;default:return}console.group(`%c Model: ${f}`,i[r]),t!==void 0&&console.log("%c Data:",i.data,t),console.groupEnd()}static error(a,f){vi.log(vi.DEBUG_LEVELS.ERROR,a,f)}static warn(a,f){vi.log(vi.DEBUG_LEVELS.WARN,a,f)}static info(a,f){vi.log(vi.DEBUG_LEVELS.INFO,a,f)}static debug(a,f){vi.log(vi.DEBUG_LEVELS.DEBUG,a,f)}static trace(a,f){vi.log(vi.DEBUG_LEVELS.TRACE,a,f)}},ae(vi,"DEBUG_LEVELS",{NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5}),ae(vi,"DEBUG_LEVEL",vi.DEBUG_LEVELS.NONE),vi),Gy="0.4.0",Xy="08.03.2025, 01:01:34",jp=class{constructor(e={}){if(it.DEBUG_LEVEL=e.debug?4:0,it.debug("[Router] Init Router"),this.routes={},this.fallbackRoute=e.fallback||"/",this.maxRedirects=e.maxRedirects||5,this.redirectCount=0,this.basePath=e.base||"",this.middleware=[],this.beforeEachHooks=[],this.afterEachHooks=[],this.cache=new Map,this.cacheLimit=e.cacheLimit??50,this.touchStartX=0,this.enableSwipeNavigation=e.enableSwipeNavigation||!1,this.current=null,this.redirects={},this.useHash=e.useHash||!1,this.events={beforeNavigate:[],afterNavigate:[],routeNotFound:[],error:[]},this.plugins=[],this.enableSwipeNavigation&&this.initSwipeNavigation(),e.routes){it.debug("[Router] Registering routes");for(let[a,f]of Object.entries(e.routes))this.addRoute(a,f)}e.plugins&&Array.isArray(e.plugins)&&(it.debug("[Router] Registering plugins"),e.plugins.forEach(a=>{Array.isArray(a)?this.usePlugin(a[0],a[1]||{}):this.usePlugin(a)})),it.debug("[Router] Subscribing to unhandledrejection event"),window.addEventListener("unhandledrejection",this.handleError.bind(this)),it.debug("[Router] Router Initialized")}on(e,a){return it.debug(`[Router] Subscribing to event ${e}`),this.events[e]&&this.events[e].push(a),this}emit(e,...a){if(it.debug(`[Router] Emitting event ${e}`),this.events[e])for(let f of this.events[e]){let t=f(...a);if(e==="beforeNavigate"&&t===!1)return!1}return!0}initSwipeNavigation(){it.debug("[Router] Initializing swipe navigation"),it.debug("[Router] Adding touchstart event listener"),document.addEventListener("touchstart",e=>{this.touchStartX=e.touches[0].clientX},{passive:!0}),it.debug("[Router] Adding touchend event listener"),document.addEventListener("touchend",e=>{let a=e.changedTouches[0].clientX,f=this.touchStartX-a;Math.abs(f)>100&&(f>0?(it.debug("[Router] Swiping right (forward)"),window.history.forward()):(it.debug("[Router] Swiping left (backward)"),window.history.back()))},{passive:!0})}handleError(e){it.error("[Router] Error during navigation:",e),this.emit("error",e),this.routes["/error"]?this.navigateTo("/error",!0):this.navigateTo(this.fallbackRoute,!0)}sanitizePath(e){it.debug("[Router] Sanitizing path:",e);try{if(!e)return"/";let a=new URL(e,window.location.origin),f=decodeURIComponent(a.pathname);return f=f.replace(/[<>'"`;(){}]/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/([^/])\/{2,}/g,"$1/").replace(/\/+/g,"/").replace(/(.+)\/$/,"$1").replace(/\.+/g,".").split("/").filter(t=>t!==".."&&t!==".").join("/"),f.startsWith("/")||(f="/"+f),this.isBlockedPath(f)?"/":(it.debug("[Router] Sanitized path:",f),f)}catch(a){return it.error("[Router] Error sanitizing path:",a),"/"}}isBlockedPath(e){return it.debug("[Router] Checking if path is blocked:",e),[/^\/(api|admin|wp-admin|wp-content|wp-includes)/i,/\.(php|asp|aspx|jsp|cgi|config|env|git|sql|htaccess)$/i,/\/(.+\/)*\.{2,}\//,/javascript:/i,/data:/i,/vbscript:/i,/file:/i].some(a=>a.test(e))}test(e){it.debug("[Router] Testing path:",e);let a=e,f=this.sanitizePath(e),t={original:a,sanitized:f,isBlocked:this.isBlockedPath(f),isModified:a!==f};return it.debug(`[Router] test result for path ${e}:`,t),t}beforeEach(e){return it.debug("[Router] Adding beforeEach hook"),this.beforeEachHooks.push(e),this}afterEach(e){return it.debug("[Router] Adding afterEach hook"),this.afterEachHooks.push(e),this}use(e){return it.debug("[Router] Adding middleware"),this.middleware.push(e),this}addRedirect(e,a){return it.debug("[Router] Adding redirect from",e,"to",a),this.redirects[e]?!1:(this.redirects[e]=a,this)}addRoute(e,a){return it.debug("[Router] Adding route",e),this.routes[e]=a,this}addNestedRoute(e,a,f){it.debug(`[Router] Adding nested route ${a} to ${e}`);let t=`${e}${a}`.replace(/\/\//g,"/");return this.addRoute(t,f),this}addLazyRoute(e,a){return it.debug("[Router] Adding lazy-loaded route",e),this.addRoute(e,async f=>{try{let t=await a();return(t.default||t)(f)}catch(t){throw t}}),this}addLazyNestedRoute(e,a,f){it.debug("[Router] Adding lazy-loaded nested route",a,"to",e);let t=`${e}${a}`.replace(/\/\//g,"/");return this.addLazyRoute(t,f),this}addFallbackRoute(e){return it.debug("[Router] Adding fallback route",e),this.fallbackRoute=e,this}add404Route(e){return it.debug("[Router] Adding 404 route",e),this.routes["/404"]=e,this}addErrorRoute(e){return it.debug("[Router] Adding error route",e),this.routes["/error"]=e,this}addProtectedRoute(e,a,f,t="/login"){return it.debug("[Router] Adding protected route",e),this.addRoute(e,async i=>{if(await f(i))return it.debug("[Router] Guard function passed, executing callback"),a(i);it.debug("[Router] Guard function failed, redirecting to",t),await this.navigateTo(t,!0)}),this}removeRoute(e){return it.debug("[Router] Removing route",e),this.routes[e]&&delete this.routes[e],this}updateRoute(e,a){return it.debug("[Router] Updating route",e),this.routes[e]&&(this.routes[e]=a),this}getRoutes(){return it.debug("[Router] Getting registered routes"),this.routes}async navigate(e){if(it.debug("[Router] Navigating to",e),this.redirectCount>this.maxRedirects){it.error("[Router] Maximum redirect limit reached, redirecting to",this.fallbackRoute),console.error("Maximum redirect limit reached"),this.redirectCount=0,this.emit("error",new Error("Maximum redirect limit reached")),await this.navigateTo("/error",!0);return}this.redirectCount++;let a=this.matchRoute(this.sanitizePath(e));if(a)try{if(it.debug("[Router] Route matched:",a),this.emit("beforeNavigate",a)===!1){it.debug("[Router] Navigation cancelled by beforeNavigate hook");return}if(this.redirects[a.path]){it.debug("[Router] Redirecting to",this.redirects[a.path]),await this.navigateTo(this.redirects[a.path],!0);return}this.redirectCount++;for(let f of this.middleware)it.debug("[Router] Executing middleware"),await f(a);for(let f of this.beforeEachHooks)it.debug("[Router] Executing beforeEach hook"),await f(a);it.debug("[Router] Executing route callback"),await a.callback(a.params);for(let f of this.afterEachHooks)it.debug("[Router] Executing afterEach hook"),await f(a);this.current=a,this.emit("afterNavigate",a),it.debug("[Router] Navigation completed")}catch(f){it.error("[Router] Error during navigation:",f),console.error("Navigation error:",f),this.emit("error",f),this.routes["/error"]&&this.routes["/error"](f)}else it.warn("[Router] Route not found:",e),this.redirectCount=0,this.emit("routeNotFound",e),this.routes["/404"]&&this.routes["/404"]()}async navigateTo(e,a=!1){it.debug(`[Router] Navigating to ${e} ${a?"with replace state":""}`),this.redirectCount=0;let f=new URL(e,window.location.origin);a?(it.debug("[Router] Replacing state with",f),window.history.replaceState({},"",f)):(it.debug("[Router] Pushing state with",f),window.history.pushState({},"",f)),it.debug("[Router] Navigating to",f),await this.navigate(f.pathname)}matchRoute(e){if(it.debug("[Router] Matching route for",e),this.cache.has(e))return this.cache.get(e);it.debug("[Router] Route not found in cache, performing match");let a=this._performMatch(e);if(this.cache.size>=this.cacheLimit){it.debug("[Router] Cache limit reached, removing oldest entry");let f=this.cache.keys().next().value;this.cache.delete(f)}return it.debug("[Router] Caching result for",e),this.cache.set(e,a),a}_performMatch(e){let[a,f]=e.split("?"),t=new URLSearchParams(f),i=Object.fromEntries(t);for(let r in this.routes){let d=[],m=r.replace(/:([^\/]+)/g,(C,k)=>(d.push(k),"([^/]+)")),_=e.match(new RegExp(`^${m}$`));if(_){let C=_.slice(1).reduce((k,E,F)=>(k[d[F]]=E,k),{});return{path:e,pattern:m,callback:this.routes[r],params:C,query:i}}}return null}clearCache(){it.debug("[Router] Clearing cache"),this.cache.clear()}resetRedirectCount(){it.debug("[Router] Resetting redirect count"),this.redirectCount=0}getFullPath(e){return it.debug("[Router] Getting full path for",e),this.useHash?`#${e}`:e}getPathFromLocation(){return it.debug("[Router] Getting path from location"),this.useHash?window.location.hash.slice(1)||"/":window.location.pathname}listen(){return it.debug("[Router] Starting to listen for navigation events"),this._handleNavigation=()=>{this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(e=>{})},this._handleLinkClick=e=>{if(e.target.tagName==="A"){let a=e.target.getAttribute("href");if(a&&(this.useHash&&a.startsWith("#")||!this.useHash&&e.target.href.startsWith(window.location.origin))){e.preventDefault();let f=this.useHash?a.slice(1):e.target.pathname;this.redirectCount=0,this.navigateTo(f).then(t=>{})}}},it.debug("[Router] Listening for navigation events"),window.addEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),it.debug("[Router] Listening for link clicks"),document.addEventListener("click",this._handleLinkClick),this._initPlugins(),this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(e=>{}),this}_initPlugins(){it.debug("[Router] Init plugins"),this.plugins.forEach(({plugin:e,options:a})=>{typeof e.onInit=="function"&&e.onInit(this,a)})}usePlugin(e,a={}){if(!e)return this;if(it.debug("[Router] Using plugin",e),typeof e=="object"&&typeof e.install=="function")it.debug("[Router] Installing plugin",e),e.install(this,a);else if(typeof e=="function")it.debug("[Router] Executing plugin",e),e(this,a);else return it.warn("Invalid plugin format. Plugin must be an object with install method or a function."),this;return it.debug("[Router] Add plugin to store",e),this.plugins.push({plugin:e,options:a}),it.debug("[Router] Plugin initialized"),this}destroy(){it.debug("[Router] Destroying router"),this.plugins.forEach(({plugin:e,options:a})=>{it.debug("[Router] Destroying plugin",e),typeof e.onDestroy=="function"&&e.onDestroy(this,a)}),it.debug("[Router] Removing event listeners"),window.removeEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),document.removeEventListener("click",this._handleLinkClick),window.removeEventListener("unhandledrejection",this.handleError),this._handleNavigation=null,this._handleLinkClick=null,this.routes={},this.plugins=[],this.cache.clear(),it.debug("[Router] Router destroyed")}};jp.info=()=>{console.info(`%c Router %c v${Gy} %c ${Xy} `,"color: #ffffff; font-weight: bold; background: #ed1cab","color: white; background: darkgreen","color: white; background: #0080fe;")};var Ky=jp,Zy=Ky;globalThis.Router=Zy;var Jy=class{constructor(){this.events=new Map}on(e,a){return this.events.has(e)||this.events.set(e,new Set),this.events.get(e).add(a),()=>this.off(e,a)}off(e,a){this.events.has(e)&&this.events.get(e).delete(a)}emit(e,a){this.events.has(e)&&this.events.get(e).forEach(f=>{try{f(a)}catch(t){console.error(`Error when performing an event handler ${e}:`,t)}})}},_f=Jy,Qy=`
    <style>
        #model-devtools-panel  { 
            position: fixed;
            bottom: 0;
            right: 0;
            width: 300px;
            height: 400px;
            background: #242424;
            color: #fff;
            border: 1px solid #333;
            z-index: 9999;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .devtools-section {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
            }
            
            h3 {
                margin: 0;
                font-size: 14px;
                border-bottom: 1px solid #333;
                padding-bottom: 4px;
            }
        }
        
        #model-dev-tools-toggle-button {
            position: fixed;
            bottom: 10px;
            right: 10px;
            z-index: 9998;
            height: 36px;
            width: 36px;
            background: #444;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }        

        #model-devtools-time-travel-dialog {
            position: fixed;
            bottom: 0;
            right: 304px;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 4px;
            height: 400px;
            width: 300px;
            z-index: 10000;
            color: #fff;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .time-travel-items {
                padding: 4px; 
                height: calc(100% - 35px); 
                overflow: auto;
                position: relative;
            }
            
            .time-travel-item {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
                
                button {
                    margin-top: 8px;
                    background: dodgerblue;
                }
            }
        }
        
        #model-devtools-panel, #model-devtools-time-travel-dialog {
            button {
                height: 20px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                font-size: 12px;
                border-radius: 4px;
                border: 1px solid #444;
                background: #333;
                color: #fff;
                cursor: pointer;
                
                @media (hover: hover) {
                    &:hover {
                        background: #444;
                    }
                }

                @media (hover: none) {
                    &:hover {
                        background: #444;
                    }
                }
            }        
        }
        
        .dev-tools-header {
            padding: 8px; 
            border-bottom: 1px solid #333; 
            display: flex; 
            justify-content: space-between;
        }
    </style>
`,e_=Qy,t_=class{constructor(e,a={}){this.model=e,this.options={enabled:!0,timeTravel:!0,maxSnapshots:50,...a},this.history=[],this.currentIndex=-1,this.initializeDevTools()}initializeDevTools(){window.__MODEL_DEVTOOLS__=this,this.createDevToolsPanel(),this.setupModelListeners()}createDevToolsPanel(){let e=document.createElement("div");e.id="model-devtools-panel",e.style.cssText="display: none;";let a=document.createElement("div");a.innerHTML=`
            ${e_}
            <div class="dev-tools-header">
                <span>🛠 Model DevTools</span>
                <div>
                    <button id="devtools-time-travel" title="Time Travel">⏱</button>
                    <button id="devtools-close" title="Close">×</button>
                </div>
            </div>
        `;let f=document.createElement("div");f.style.cssText=`
            padding: 8px;
            height: calc(100% - 35px);
            overflow: auto;
        `,f.id="model-devtools-content",e.appendChild(a),e.appendChild(f),document.body.appendChild(e),this.createToggleButton(),document.getElementById("devtools-close").onclick=()=>this.togglePanel(),document.getElementById("devtools-time-travel").onclick=()=>this.showTimeTravelDialog()}showTimeTravelDialog(){let e=document.getElementById("model-devtools-time-travel-dialog");e||(e=document.createElement("div"),e.id="model-devtools-time-travel-dialog");let a=[...this.history].reverse().map((f,t)=>`
            <div class="time-travel-item">
                <div>Time: ${new Date(f.timestamp).toLocaleTimeString()}</div>
                <div>Type: ${f.type}</div>
                <div>Property: ${f.property||f.event||f.path||""}</div>
                <div>Value: ${f.type==="computed-update"?f.newValue:typeof f.oldValue<"u"&&typeof f.newValue<"u"?`${JSON.stringify(f.oldValue)} -> ${JSON.stringify(f.newValue)}`:JSON.stringify(f.newValue||f.value||"")}</div>
                <button style="display: none" onclick="window.__MODEL_DEVTOOLS__.timeTravel(${this.history.length-1-t})">Apply this state</button>
            </div>
        `).join("");e.innerHTML=`
            <div class="dev-tools-header">
                <span>⏱ Time Travel</span>
                <div>
                    <button style="margin-left: auto;" onclick="window.__MODEL_DEVTOOLS__.clearTimeTravel()">CLear</button>
                    <button onclick="this.parentElement.parentElement.parentElement.remove()">×</button>                
                </div>
            </div>
            <div class="time-travel-items">${a||"Nothing to show!"}</div>
        `,document.body.appendChild(e)}createToggleButton(){let e=document.createElement("button");e.id="model-dev-tools-toggle-button",e.textContent="🛠",e.title="Model DevTools",e.onclick=()=>this.togglePanel(),document.body.appendChild(e)}setupModelListeners(){this.model.store.on("change",e=>{this.logChange({type:"data-change",path:e.path,oldValue:e.oldValue,newValue:e.newValue,timestamp:Date.now()})}),this.model.store.on("*",(e,a)=>{e!=="change"&&e!=="compute"&&e!=="arrayChange"&&this.logChange({type:"store-event",event:e,data:a,timestamp:Date.now()})}),this.model.on("*",(e,a)=>{e!=="change"&&e!=="compute"&&this.logChange({type:"model-event",event:e,data:a,timestamp:Date.now()})}),this.model.store.on("compute",e=>{this.logChange({type:"computed-update",property:e.key,dependencies:Array.from(e.dependencies),newValue:e.value,timestamp:Date.now()})}),this.model.store.on("arrayChange",e=>{this.logChange({type:"array-operation",path:e.path,method:e.method,args:e.args,oldValue:e.oldValue,newValue:e.newValue,timestamp:Date.now()})})}logChange(e){this.options.enabled&&(this.options.timeTravel&&this.saveSnapshot(e),this.updateDisplay())}saveSnapshot(e){let a={...e,state:JSON.parse(JSON.stringify(this.model.data)),computed:this.getComputedValues()};this.history=this.history.slice(0,this.currentIndex+1),this.history.push(a),this.currentIndex++,this.history.length>this.options.maxSnapshots&&(this.history.shift(),this.currentIndex--)}updateDisplay(){let e=document.getElementById("model-devtools-content");if(!e)return;let a=r=>{if(r===void 0)return"undefined";if(r===null)return"null";try{return Array.isArray(r)?`Array(${r.length}) ${JSON.stringify(r,null,2)}`:JSON.stringify(r,null,2)}catch{return String(r)}},f=this.getRecentChanges(),t="";for(let r of f){let d;try{let m={...r,timestamp:new Date(r.timestamp).toLocaleTimeString()};d=JSON.stringify(m,null,2)}catch(m){d=`Error formatting change: ${m.message}`}t+=`
            <div style="border-bottom: 1px solid #444; padding-bottom: 8px; overflow-x: auto">
                <pre>${d}</pre>
            </div>
`}let i=this.getComputedValues();e.innerHTML=`
        <div class="devtools-section">
            <h3>Current State:</h3>
            <pre>${a(this.model.data)}</pre>
        </div>
        <div class="devtools-section">
            <h3>Computed Values:</h3>
            <pre>${a(i)}</pre>
        </div>
        <div class="devtools-section">
            <h3>DOM Dependencies:</h3>
            <pre>${this.formatDOMDependencies()}</pre>
        </div>
        <div class="devtools-section">
            <h3>Recent Changes:</h3>
            ${t}
        </div>
    `,document.getElementById("model-devtools-time-travel-dialog")&&this.showTimeTravelDialog()}formatDOMDependencies(){try{let e={};return this.model.dom.domDependencies.forEach((a,f)=>{e[f]=Array.from(a).map(t=>({type:t.type,element:t.element.tagName}))}),JSON.stringify(e,null,2)}catch(e){return`Error formatting DOM dependencies: ${e.message}`}}getComputedValues(){if(!this.model.computed)return{};if(typeof this.model.computed.all=="function")return this.model.computed.all();if(this.model.computed.keys&&Array.isArray(this.model.computed.keys)){let a={};for(let f of this.model.computed.keys)a[f]=this.model.computed.getValue(f);return a}let e={};for(let a in this.model.data)this.model.computed&&typeof this.model.computed[a]<"u"&&(e[a]=this.model.data[a]);return e}getRecentChanges(){return this.history.slice(-5).reverse()}togglePanel(){let e=document.getElementById("model-devtools-panel");e&&(e.style.display=e.style.display==="none"?"block":"none"),e.style.display==="none"&&document.getElementById("model-devtools-time-travel-dialog").remove()}inspect(e){return this.model.store.get(e)}timeTravel(e){this.options.timeTravel}clearTimeTravel(){this.history=[],this.currentIndex=-1,this.showTimeTravelDialog()}startPerfMonitoring(){this.perfMetrics={updates:0,computations:0,domUpdates:0,startTime:Date.now()},this.model.store.on("change",()=>{this.perfMetrics.updates++}),this.model.store.on("compute",()=>{this.perfMetrics.computations++})}getPerfReport(){let e=(Date.now()-this.perfMetrics.startTime)/1e3;return{totalUpdates:this.perfMetrics.updates,updatesPerSecond:this.perfMetrics.updates/e,computationsPerSecond:this.perfMetrics.computations/e,domUpdatesPerSecond:this.perfMetrics.domUpdates/e}}},i_=t_,n_=class{constructor(){this.middlewares=[]}use(e){if(typeof e!="function"){console.error("MIDDLEWARE should be a function!");return}this.middlewares.push(e)}async process(e){let a=-1,f=async()=>{a++,a<this.middlewares.length&&await this.middlewares[a](e,f)};return await f(),e}},s_=n_,Be=(bi=class{static log(a,f,t){if(a>bi.DEBUG_LEVEL)return;let i={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},r;switch(a){case bi.DEBUG_LEVELS.ERROR:r="error";break;case bi.DEBUG_LEVELS.WARN:r="warn";break;case bi.DEBUG_LEVELS.INFO:r="info";break;case bi.DEBUG_LEVELS.DEBUG:r="debug";break;case bi.DEBUG_LEVELS.TRACE:r="trace";break;default:return}console.group(`%c Model: ${f}`,i[r]),t!==void 0&&console.log("%c Data:",i.data,t),console.groupEnd()}static error(a,f){bi.log(bi.DEBUG_LEVELS.ERROR,a,f)}static warn(a,f){bi.log(bi.DEBUG_LEVELS.WARN,a,f)}static info(a,f){bi.log(bi.DEBUG_LEVELS.INFO,a,f)}static debug(a,f){bi.log(bi.DEBUG_LEVELS.DEBUG,a,f)}static trace(a,f){bi.log(bi.DEBUG_LEVELS.TRACE,a,f)}},ae(bi,"DEBUG_LEVELS",{NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5}),ae(bi,"DEBUG_LEVEL",bi.DEBUG_LEVELS.NONE),bi),a_=class extends _f{constructor(e={},a){Be.DEBUG_LEVEL=a.options.debug?4:0,Be.debug("Init ReactiveStore"),super(),this.model=a,Be.DEBUG_LEVEL=this.model.options.debug?4:0,Be.debug("Init ReactiveStore"),this.state=this.createReactiveProxy(e),this.watchers=new Map,this.previousState=JSON.parse(JSON.stringify(e)),Be.debug("Init MiddlewareManager"),this.middleware=new s_,Be.debug("MiddlewareManager initialized"),Be.debug("ReactiveStore initialized")}use(e){Be.debug("Registering middleware:",e),this.middleware.use(e)}createReactiveProxy(e,a=""){return Be.debug(`Creating reactive object with path ${a} for`,e),Array.isArray(e)?this.createArrayProxy(e,a):new Proxy(e,{get:(f,t)=>{if(typeof t=="symbol")return f[t];let i=f[t],r=a?`${a}.${t}`:t;return i&&typeof i=="object"?this.createReactiveProxy(i,r):i},set:async(f,t,i)=>{var _,C;if(typeof t=="symbol")return f[t]=i,!0;let r=a?`${a}.${t}`:t,d=f[t];if(d===i)return!0;if((_=this.validators)!=null&&_.has(`${r}`)&&!this.validators.get(`${r}`)(i))return!1;(C=this.formatters)!=null&&C.has(`${r}`)&&(i=this.formatters.get(`${r}`)(i)),i&&typeof i=="object"&&(i=this.createReactiveProxy(i,r));let m={prop:t,oldValue:d,newValue:i,preventDefault:!1};return await this.middleware.process(m),m.preventDefault||(f[t]=i,this.emit("change",{path:r,oldValue:d,newValue:i}),this.watchers.has(r)&&this.watchers.get(r).forEach(k=>{k(i,d)})),!0},deleteProperty:(f,t)=>{if(typeof t=="symbol")return delete f[t];let i=a?`${a}.${t}`:t,r=f[t],d=delete f[t];return d&&(this.emit("delete",{path:i,oldValue:r}),this.watchers.has(i)&&this.watchers.get(i).forEach(m=>{m(void 0,r)})),d}})}createArrayProxy(e,a){return Be.debug(`Creating reactive array with path ${a} for`,e),new Proxy(e,{get:(f,t)=>{if(typeof t=="symbol")return f[t];let i=f[t];return typeof i=="function"&&["push","pop","shift","unshift","splice","sort","reverse"].includes(t)?(...r)=>{let d=[...f],m=f[t].apply(f,r),_={prop:a,oldValue:d,newValue:f,method:t,args:r,preventDefault:!1};return this.middleware.process(_).then(()=>{_.preventDefault||(this.emit("arrayChange",{path:a,method:t,args:r,oldValue:d,newValue:f}),this.emit("change",{path:a,oldValue:d,newValue:f,method:t,args:r}),this.watchers.has(a)&&this.watchers.get(a).forEach(C=>{C(f,d)}))}),m}:typeof t!="symbol"&&!isNaN(Number(t))&&i&&typeof i=="object"?this.createReactiveProxy(i,`${a}[${t}]`):i},set:async(f,t,i)=>{var _,C;if(typeof t=="symbol")return f[t]=i,!0;let r=a?`${a}.${t}`:t,d=f[t];if(d===i)return!0;if((_=this.validators)!=null&&_.has(r)&&!this.validators.get(r)(i))return!1;(C=this.formatters)!=null&&C.has(r)&&(i=this.formatters.get(r)(i)),f[t]=i,i&&typeof i=="object"&&(i=this.createReactiveProxy(i,`${a}[${t}]`));let m={prop:t,oldValue:d,newValue:i,preventDefault:!1};return await this.middleware.process(m),m.preventDefault||(f[t]=i,this.middleware.process(m).then(()=>{m.preventDefault||(this.emit("arrayChange",{path:r,method:null,args:null,oldValue:d,newValue:i}),this.emit("change",{path:r,oldValue:d,newValue:i,arrayIndex:Number(t)}),this.watchers.has(r)&&this.watchers.get(r).forEach(k=>{k(i,d)}))})),!0}})}applyArrayMethod(e,a,...f){Be.debug(`Applying array method ${a} to path ${e} with args`,f);let t=this.get(e);if(!Array.isArray(t))return console.error(`Путь ${e} не является массивом!`),!1;let i=[...t],r=t[a].apply(t,f);return this.emit("arrayChange",{path:e,method:a,args:f,oldValue:i,newValue:[...t]}),this.emit("change",{path:e,oldValue:i,newValue:[...t]}),this.watchers.has(e)&&this.watchers.get(e).forEach(d=>{d([...t],i)}),r}applyArrayChanges(e,a){Be.debug(`Applying custom array changes to path ${e} with callback`,a);let f=this.get(e);if(!Array.isArray(f))return console.error(`The path ${e} is not an array!`),!1;let t=[...f],i=a(f);return this.emit("arrayChange",{path:e,method:"custom",args:null,oldValue:t,newValue:[...f]}),this.emit("change",{path:e,oldValue:t,newValue:[...f]}),this.watchers.has(e)&&this.watchers.get(e).forEach(r=>{r([...f],t)}),i}detectArrayChanges(e,a=[]){Be.debug("Detecting changes between arrays");let f={added:[],removed:[],moved:[]};for(let t=0;t<e.length;t++){let i=e[t],r=a.findIndex(d=>JSON.stringify(d)===JSON.stringify(i));r===-1?f.added.push({index:t,item:i}):r!==t&&f.moved.push({oldIndex:r,newIndex:t,item:i})}for(let t=0;t<a.length;t++){let i=a[t];e.findIndex(r=>JSON.stringify(r)===JSON.stringify(i))===-1&&f.removed.push({index:t,item:i})}return Be.debug("Detected changes:",f),f}watch(e,a){return Be.debug(`Watching path ${e} with callback`,a),this.watchers.has(e)||this.watchers.set(e,new Set),this.watchers.get(e).add(a),()=>{this.watchers.has(e)&&this.watchers.get(e).delete(a)}}get(e){if(Be.debug(`Getting value at path ${e}`),!e)return this.state;let a=e.split("."),f=this.state;for(let t of a){if(f==null)return;f=f[t]}return f}set(e,a){Be.debug(`Setting value at path ${e} to`,a);let f=e.split("."),t=this.state;for(let i=0;i<f.length-1;i++)t[f[i]]===void 0&&(t[f[i]]={}),t=t[f[i]];return t[f[f.length-1]]=a,a}batch(e){Be.debug("Batch updating state with",e),this.previousState=JSON.parse(JSON.stringify(this.state)),typeof e=="function"?e(this.state):typeof e=="object"&&Object.entries(e).forEach(([a,f])=>{this.set(a,f)}),this.emit("batchComplete",{previousState:this.previousState,currentState:this.state})}getState(){return Be.debug("Getting entire state"),this.state}getPreviousState(){return Be.debug("Getting previous state"),this.previousState}toJSON(){return Be.debug("Converting state to JSON"),JSON.stringify(this.state)}fromJSON(e){Be.debug("Restoring state from JSON",e);let a=JSON.parse(e);this.previousState=JSON.parse(JSON.stringify(this.state)),Object.keys(this.state).forEach(f=>{delete this.state[f]}),Object.entries(a).forEach(([f,t])=>{this.state[f]=t}),this.emit("restore",{previousState:this.previousState,currentState:this.state})}addValidator(e,a){Be.debug(`Adding validator for path ${e}`),this.validators||(this.validators=new Map),this.validators.set(e,a)}addFormatter(e,a){Be.debug(`Adding formatter for path ${e}`),this.formatters||(this.formatters=new Map),this.formatters.set(e,a)}isValidPath(e){Be.debug(`Validating path ${e}`);try{return this.get(e)!==void 0}catch(a){return Be.error(`Error validating path ${e}:`,a),!1}}destroy(){this.state=null,this.watchers.clear(),this.previousState=null,Be.debug("ReactiveStore destroyed")}},o_=class{constructor(e,a){Be.DEBUG_LEVEL=a.options.debug?4:0,Be.debug("Init LoopManager"),this.domManager=e,this.model=a,this.loops=new Map,this.loopsIn=[],Be.debug("LoopManager initialized")}parseLoops(e){Be.debug("Parsing loops with data-for...");let a=e.querySelectorAll("[data-for]");Be.debug("Found elements with data-for:",a.length),a.forEach(t=>{let i=t.getAttribute("data-for").trim(),r=i.match(/^\s*(\w+)(?:\s*,\s*(\w+))?\s+in\s+(\w+(?:\.\w+)*)\s*$/);if(!r){console.error("Invalid expression format data-for:",i);return}let[d,m,_,C]=r,k=this.model.store.get(C);if(!Array.isArray(k)){console.error(`The value in the ${C} path is not an array:`,k);return}let E=t.cloneNode(!0);this.loops.set(t,{template:E,itemName:m,indexName:_,arrayPath:C,parentNode:t.parentNode}),this.domManager.registerDomDependency(C,t,{type:"loop",arrayPath:C}),this.updateLoop(t)}),Be.debug("Parsing loops with data-in...");let f=e.querySelectorAll("[data-in]");Be.debug("Found elements with data-in:",f.length),f.forEach(t=>{let i=t.getAttribute("data-in"),r=i.match(/^\s*(\w+)\s+in\s+(\S+)\s*$/);if(!r){console.error(`Invalid data-in syntax: ${i}`);return}let[d,m,_]=r,C=t.innerHTML,k=t.parentNode,E=document.createComment(`data-in: ${i}`);t.style.display="none",k.insertBefore(E,t),this.loopsIn.push({type:"in",originalElement:t,template:C,placeholder:E,objectPath:_,keyVar:m,elements:[]});let F=this.model.store.get(_);F&&typeof F=="object"&&!Array.isArray(F)&&this.updateInLoop(this.loopsIn[this.loopsIn.length-1],F)})}updateInLoop(e,a){e.elements.forEach(f=>f.remove()),e.elements=[],!(!a||typeof a!="object"||Array.isArray(a))&&Object.keys(a).forEach(f=>{Be.debug(`Updating loop for key: ${f}`);let t=e.originalElement.cloneNode(!0);t.removeAttribute("data-in"),t.style.display="";let i={[e.keyVar]:f};t.innerHTML=this.processTemplate(e.template,a,f,i),e.placeholder.parentNode.insertBefore(t,e.placeholder.nextSibling),e.elements.push(t),this.domManager.bindDOM(t)})}processTemplate(e,a,f,t){return Be.debug("Processing template:",e),Be.debug("	 With data:",a),Be.debug(`	 For key: ${f}`),Be.debug("	 With context:",t),e.replace(/\{\{\s*([^}]+)\s*\}\}/g,(i,r)=>{r=r.trim();let d=Object.keys(t)[0];if(r===d)return f;Be.debug(`Template: Processing path: ${r}`);let m=new RegExp(`(\\w+)\\[${d}\\]`),_=r.match(m);if(_){_[1];let k=a;if(k&&typeof k=="object")return k[f]!==void 0?k[f]:""}let C=this.model.store.get(r);return C!==void 0?C:""})}updateLoops(e,a){Be.debug("Updating data-for loops for ${path}",this.loops),this.loops.forEach((f,t)=>{f.arrayPath===e&&this.updateLoop(t)}),Be.debug(`Updating data-in loops for ${e}`,this.loopsIn),this.loopsIn.forEach(f=>{if(f.type==="in"&&(f.objectPath===e||e.startsWith(f.objectPath+"."))){let t=this.model.store.get(f.objectPath);t&&typeof t=="object"&&this.updateInLoop(f,t)}})}updateLoop(e){Be.debug("Updating loop for element:",e);let a=this.loops.get(e)||this.loopsIn.find(_=>_.originalElement===e)[0];if(!a){console.error("Информация о цикле не найдена для элемента");return}let{template:f,itemName:t,indexName:i,arrayPath:r,parentNode:d}=a,m=this.model.store.get(r);if(!Array.isArray(m)){console.error("Значение не является массивом:",m);return}d.querySelectorAll(`[data-generated-for="${r}"]`).forEach(_=>_.remove()),m.forEach((_,C)=>{let k=f.cloneNode(!0);k.style.display="",k.removeAttribute("data-for"),k.setAttribute("data-generated-for",r),k.setAttribute("data-item-index",""+C),Be.debug(`Creating new loop element for ${r} at index ${C}`),this.domManager.processTemplateNode(k,{[t]:_,[i||"index"]:C}),Be.debug("Insert new node",k),d.insertBefore(k,e)}),e.style.display="none"}updateLoopPart(e,a,f,t){let i=this.loops.get(e);if(!i)return;let{template:r,itemName:d,indexName:m,parentNode:_}=i,C=this.model.store.get(a);if(!Array.isArray(C))return;let k=Array.from(_.querySelectorAll(`[data-generated-for="${a}"]`));if(t===void 0||k.length!==C.length)return this.updateLoop(e);let E=k[t];if(E){let F=r.cloneNode(!0);for(this.domManager.processTemplateNode(F,{[d]:C[t],[m||"index"]:t});E.firstChild;)E.removeChild(E.firstChild);for(;F.firstChild;)E.appendChild(F.firstChild);Array.from(F.attributes).forEach(P=>{E.setAttribute(P.name,P.value)})}}getLoops(){return{for:this.loops,in:this.loopsIn}}destroy(){this.loops.clear(),this.loopsIn=[],Be.debug("LoopManager destroyed")}},mu=class{static evaluateExpression(e,a){try{if(e.startsWith("{{")&&e.endsWith("}}")){let f=e.substring(2,e.length-2).trim();return this.getValueFromContext(a,f)}return this.parseExpression(e,a)}catch(f){return console.error("Ошибка при вычислении выражения:",f),!1}}static getValueFromContext(e,a){return a?a.split(".").reduce((f,t)=>{let i=t.match(/^([^\[]+)(?:\[(\d+)\])?$/);if(i){let[r,d,m]=i,_=f==null?void 0:f[d];return m!==void 0&&Array.isArray(_)?_[parseInt(m,10)]:_}return f==null?void 0:f[t]},e):e}static parseExpression(e,a){e=e.trim();let f=e.match(/(.+?)\s*\?\s*(.+?)\s*:\s*(.+)/);if(f){let[i,r,d,m]=f;return this.parseExpression(r,a)?this.parseExpression(d,a):this.parseExpression(m,a)}if(e.includes("&&"))return e.split("&&").every(i=>this.parseExpression(i.trim(),a));if(e.includes("||"))return e.split("||").some(i=>this.parseExpression(i.trim(),a));let t=e.match(/(.+?)\s*(===|==|!==|!=|>=|<=|>|<)\s*(.+)/);if(t){let[i,r,d,m]=t,_=this.parseExpression(r.trim(),a),C=this.parseExpression(m.trim(),a);switch(d){case"==":return _==C;case"===":return _===C;case"!=":return _!=C;case"!==":return _!==C;case">":return _>C;case"<":return _<C;case">=":return _>=C;case"<=":return _<=C}}if(e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"'))return e.substring(1,e.length-1);if(/^-?\d+(\.\d+)?$/.test(e))return parseFloat(e);if(e==="true")return!0;if(e==="false")return!1;if(e==="null")return null;if(e!=="undefined")return this.getValueFromContext(a,e)}static extractVariables(e){let a=[],f=e.replace(/'[^']*'/g,"''").replace(/"[^"]*"/g,'""').match(/[a-zA-Z_][a-zA-Z0-9_]*(\.([a-zA-Z_][a-zA-Z0-9_]*))*(\[\d+\])*/g);return f&&f.forEach(t=>{let i=t.split(".")[0].split("[")[0].trim();["true","false","null","undefined"].includes(i)||a.includes(i)||a.push(i)}),a}},r_=class{constructor(e,a){Be.DEBUG_LEVEL=a.options.debug?4:0,Be.debug("ConditionalManager: Init ConditionalManager"),this.dom=e,this.model=a,this.dependencies=new Map,this.conditionalGroups=[],this.subscribe(),Be.debug("ConditionalManager: ConditionalManager initialized")}subscribe(){Be.debug("ConditionalManager: Subscribe to store changes"),this.model.store.on("change",e=>{this.getGroupsByPath(e.path).forEach(a=>{this.updateConditionalGroup(a)})})}getGroupsByPath(e){if(!e)return[];let a=new Set;return this.conditionalGroups.forEach(f=>{f.some(t=>t.expression?t.expression.includes(e)||e.startsWith(this.extractBasePath(t.expression)):!1)&&a.add(f)}),Array.from(a)}extractBasePath(e){let a=e.match(/[a-zA-Z_][a-zA-Z0-9_]*/g);return a?a[0]:""}parseConditionals(e){Be.debug("ConditionalManager: Parse conditionals (data-if, data-else-if, data-else)...");let a=e.querySelectorAll("[data-if],[data-else-if],[data-else]"),f=[],t=[];a.forEach(i=>{i.hasAttribute("data-if")?(Be.debug("ConditionalManager: Found data-if in element:",i),f.length&&t.push(f),f=[{element:i,type:"if",expression:i.getAttribute("data-if")}]):i.hasAttribute("data-else-if")?(Be.debug("ConditionalManager: Found data-else-if in element:",i),f.length&&this.isAdjacentNode(f[f.length-1].element,i)?f.push({element:i,type:"else-if",expression:i.getAttribute("data-else-if")}):(f.length&&t.push(f),f=[{element:i,type:"if",expression:i.getAttribute("data-else-if")}])):i.hasAttribute("data-else")&&(Be.debug("ConditionalManager: Found data-else in element:",i),f.length&&this.isAdjacentNode(f[f.length-1].element,i)?(f.push({element:i,type:"else",expression:null}),t.push(f),f=[]):Be.warn("data-else without previous data-if or data-else-if",i))}),f.length&&t.push(f),this.conditionalGroups=t,t.forEach(i=>this.updateConditionalGroup(i)),this.setupDependencies(a)}isAdjacentNode(e,a){let f=e.nextSibling;for(;f;){if(f===a)return!0;if(f.nodeType===1&&!this.isWhitespaceNode(f))return!1;f=f.nextSibling}return!1}isWhitespaceNode(e){return e.nodeType===3&&e.textContent.trim()===""}updateConditionalGroup(e){let a=this.model&&this.model.store?{...this.model.store.getState()}:this.model&&this.model.data?this.model.data:{},f=!1;for(let t of e)t.type==="if"||t.type==="else-if"?!f&&mu.evaluateExpression(t.expression,a)?(t.element.style.display="",f=!0):t.element.style.display="none":t.type==="else"&&(t.element.style.display=f?"none":"")}updateConditional(e,a){let f=this.findGroupForElement(e);if(f)this.updateConditionalGroup(f);else{let t=this.model&&this.model.store?{...this.model.store.getState()}:this.model&&this.model.data?this.model.data:{},i=mu.evaluateExpression(a,t);e.style.display=i?"":"none"}}findGroupForElement(e){for(let a of this.conditionalGroups||[])if(a.some(f=>f.element===e))return a;return null}setupDependencies(e){this.dependencies=new Map,e.forEach(a=>{let f;if(a.hasAttribute("data-if"))f=a.getAttribute("data-if");else if(a.hasAttribute("data-else-if"))f=a.getAttribute("data-else-if");else return;mu.extractVariables(f).forEach(t=>{this.dependencies.has(t)||this.dependencies.set(t,[]),this.dependencies.get(t).push({element:a,expression:f,type:a.hasAttribute("data-if")?"if":"else-if"})})})}getDependenciesByPath(e){let a=[];return this.dependencies.forEach((f,t)=>{(t===e||e.startsWith(t+"."))&&a.push(...f)}),a}destroy(){this.dependencies.clear(),this.conditionalGroups=[],Be.debug("ConditionalManager: Destroyed")}},l_=class{constructor(e,a){this.domManager=e,this.model=a,Be.DEBUG_LEVEL=this.model.options.debug?4:0,Be.debug("AttributeManager: Init AttributeManager")}parseAttributesBind(e){Be.debug("AttributeManager: Parsing attributes bind with data-bind...");let a=e.querySelectorAll("[data-bind]");Be.debug("AttributeManager: Found elements with data-bind:",a.length),a.forEach(f=>{Be.debug("AttributeManager: Parsing element with data-bind:",f);let t=f.getAttribute("data-bind");try{let i=JSON.parse(t.replace(/'/g,'"'));for(let[r,d]of Object.entries(i)){let m=mu.extractVariables(d);Be.debug(`AttributeManager: Found variables for ${r}:`,m),m.forEach(_=>{this.domManager.registerDomDependency(_,f,{type:"attribute",attribute:r,expression:d})}),this.updateAttributes(f,r,d)}}catch(i){console.error("An error of analysis of attachments:",i)}})}updateAttributes(e,a,f){let t={...this.model.store.getState()},i;if(f.startsWith("{{")&&f.endsWith("}}")){let d=f.substring(2,f.length-2).trim();i=this.model.store.get(d)}else i=mu.evaluateExpression(f,t);let r=e.getAttribute(a);String(i)!==r&&(i===!1||i===null||i===void 0?e.removeAttribute(a):i===!0?e.setAttribute(a,""):e.setAttribute(a,String(i)),Be.debug(`AttributeManager: Updated attribute ${a} with value:`,i))}parseAttributes(e){Be.debug("AttributeManager: Parsing attributes with colon...");let a=e.querySelectorAll("*");for(let f of a){let t=f.attributes;for(let i=0;i<t.length;i++){let r=t[i];if(r.name.startsWith(":")){Be.debug("AttributeManager: Found attribute:",r);let d=r.name.substring(1),m=r.value;this.updateElementAttribute(f,d,m),this.domManager.registerDomDependency(m,f,{type:"attribute",attribute:d,expression:m}),f.removeAttribute(r.name)}}}}updateElementAttribute(e,a,f){let t=""+this.model.store.get(f);t===void 0||t==="undefined"||(Be.debug(`AttributeManager: Updating attribute ${a} with ${t}`),a==="class"?e.className=t:a==="disabled"||a==="checked"||a==="selected"||a==="readonly"?t?e.setAttribute(a,""):e.removeAttribute(a):e.setAttribute(a,t))}update(e,a,f){Be.debug("AttributeManager: Updating element:",e),Be.debug(`	 Attribute: ${a} for:`,f),this.updateAttributes(e,a,f),this.updateElementAttribute(e,a,f)}},u_=class{constructor(e,a){Be.DEBUG_LEVEL=a.options.debug?4:0,Be.debug("EventManager: Init EventManager"),this.domManager=e,this.model=a,this.eventHandlers=new Map,Be.debug("EventManager: EventManager initialized")}parseEvents(e){Be.debug("EventManager: Parsing events with @...");let a=e.querySelectorAll("*");[e,...Array.from(a)].forEach(f=>{Array.from(f.attributes||[]).forEach(t=>{if(t.name.startsWith("@")){Be.debug(`EventManager: Found attribute with "@" ${t.name} in`,f);let i=t.name.substring(1),r=t.value.trim();this.bindEventHandler(f,i,r),f.removeAttribute(t.name)}})})}bindEventHandler(e,a,f){Be.debug(`EventManager: Binding event handler with expression ${f} for ${a} on`,e);let t=r=>{try{let d={$model:this.model,$event:r,$data:this.model.data,$dom:this.domManager},m=f.match(/(\w+)\((.*)\)/);if(m){let _=m[1],C=m[2],k=(F,P)=>F.split(".").reduce((U,Y)=>U&&U[Y]!==void 0?U[Y]:void 0,P),E=k(_,this.model);if(E||(E=k(_,window)),typeof E=="function"){let F=[];C.trim()&&(F=C.split(",").map(P=>(P=P.trim(),P.startsWith('"')&&P.endsWith('"')||P.startsWith("'")&&P.endsWith("'")?P.slice(1,-1):isNaN(P)?P==="$event"?(Be.debug("EventManager: Requested Event",r),r):P==="$model"?(Be.debug("EventManager: Requested Model",this.model),this.model):P==="$data"?(Be.debug("EventManager: Requested Model Context",this.model.data),this.model.data):P==="$dom"?(Be.debug("EventManager: Requested DOMManager",this.domManager),this.domManager):this.model.store.get(P):Number(P)))),E.apply(d,F)}else console.warn(`EventManager: The method '${_}' not found in a model or global space!`)}else this.model.options.useSimpleExpressions?new Function(`return ${f}`).apply(this.model.data):console.warn(`EventManager: Unknown format of the event handler: '${f}'`)}catch(d){console.error(`EventManager: Error when performing an event processor '${a}': ${d.message}`)}};this.eventHandlers.has(e)||this.eventHandlers.set(e,new Map);let i=this.eventHandlers.get(e);i.has(a)&&e.removeEventListener(a,i.get(a)),i.set(a,t),e.addEventListener(a,t)}removeEventHandler(e,a){if(Be.debug(`EventManager: Removing event handler for ${a} on`,e),this.eventHandlers.has(e)){let f=this.eventHandlers.get(e);if(f.has(a)){let t=f.get(a);e.removeEventListener(a,t),f.delete(a),f.size===0&&this.eventHandlers.delete(e)}}}updateEvents(e){Be.debug("EventManager: Updating events for",e),Array.from(e.attributes||[]).forEach(a=>{if(a.name.startsWith("@")){let f=a.name.substring(1),t=a.value.trim();this.bindEventHandler(e,f,t),e.removeAttribute(a.name)}})}destroy(){Be.debug("EventManager: Destroying EventManager"),this.eventHandlers.forEach((e,a)=>{e.forEach((f,t)=>{Be.debug(`EventManager: Removing event handler for ${t} on`,a),a.removeEventListener(t,f)})}),this.eventHandlers.clear(),Be.debug("EventManager: Destroyed")}},c_=class{constructor(e){Be.DEBUG_LEVEL=e.options.debug?4:0,Be.debug("DOMManager: Init DOMManager"),this.model=e,this.elements=[],this.inputs=[],this.domDependencies=new Map,this.virtualDom=new Map,this.loopManager=new o_(this,e),this.conditionalManager=new r_(this,e),this.attributeManager=new l_(this,e),this.eventManager=new u_(this,e),Be.debug("DOMManager: DOMManager initialized")}registerDomDependency(e,a,f){this.domDependencies.has(e)||this.domDependencies.set(e,new Set),this.domDependencies.get(e).add({element:a,...f})}processTemplateNode(e,a){if(Be.debug("DOMManager: processTemplateNode",{node:e,context:a}),e.nodeType===Node.TEXT_NODE){let f=e.textContent,t=e.textContent.replace(/\{\{\s*([^}]+)\s*\}\}/g,(i,r)=>{r=r.trim();let d=a?((m,_)=>_.split(".").reduce((C,k)=>C?C[k]:void 0,m))(a,r):void 0;return d===void 0&&(d=this.model.store.get(r)),d!==void 0?d:""});f!==t&&(Be.debug(`DOMManager: updated node text from ${f} to ${t}`),e.textContent=t)}else e.nodeType===Node.ELEMENT_NODE&&Array.from(e.childNodes).forEach(f=>{this.processTemplateNode(f,a)})}parse(e){Be.debug("DOMManager: parse from",e);let a=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),f,t=/\{\{\s*([^}]+)\s*\}\}/g;for(;f=a.nextNode();){let r,d=f.textContent,m=d;for(t.lastIndex=0;(r=t.exec(d))!==null;){Be.debug(`DOMManager: parse match found for ${d}`,r);let _=r[1].trim();this.registerDomDependency(_,f,{type:"template",template:m}),this.elements.push({node:f,propName:_,template:m})}Be.debug("DOMManager: update virtual DOM set",{node:f,text:f.textContent}),this.virtualDom.set(f,f.textContent)}Be.debug("DOMManager: Find inputs with data-model directive...");let i=e.querySelectorAll("[data-model]");Be.debug("DOMManager: Found inputs with data-model:",i.length),i.forEach(r=>{let d=r.getAttribute("data-model");Be.debug("DOMManager: Register handler for:",{input:r,property:d});let m=_=>{let C=r.type==="checkbox"||r.type==="radio"?_.target.checked:_.target.value;this.model.store.set(d,C)};r.__modelInputHandler=m,r.addEventListener("input",m),this.inputs.push({element:r,property:d})})}setInputValue(e,a){e.type==="checkbox"||e.type==="radio"?e.checked=!!a:e.value=a}updateInputs(e,a){Be.debug("DOMManager: updateInputs",{propName:e,value:a}),this.inputs.forEach(f=>{f.property===e&&(Be.debug("DOMManager: update input",{item:f,value:a}),this.setInputValue(f.element,a))})}updateAllDOM(){Be.debug("DOMManager: updateAllDOM"),this.elements.forEach(e=>{let a=e.template;a=a.replace(/\{\{\s*([^}]+)\s*\}\}/g,(f,t)=>(t=t.trim(),this.model.store.get(t))),e.node.textContent=a,Be.debug("DOMManager: updated node",{element:e,newContent:a})}),Be.debug("DOMManager: update inputs"),this.inputs.forEach(e=>{Be.debug("DOMManager: update input",{item:e});let a=this.model.store.get(e.property);this.setInputValue(e.element,a),Be.debug("DOMManager: updated input",{item:e,value:a})})}updateDOM(e,a){if(Be.debug(`DOMManager: update DOM for ${e} with ${a}`),!e){console.warn("Path is undefined in updateDOM");return}let f=a&&typeof a=="object"&&"method"in a;f&&(e=a.path||e);let t=new Set;this.domDependencies.has(e)&&this.domDependencies.get(e).forEach(m=>t.add(m));let i=e.split("."),r="";for(let m=0;m<i.length;m++)r=r?`${r}.${i[m]}`:i[m],this.domDependencies.has(r)&&this.domDependencies.get(r).forEach(_=>t.add(_));if(this.conditionalManager.getDependenciesByPath(e).forEach(m=>{m.type==="if"&&this.conditionalManager.updateConditional(m.element,m.expression)}),this.domDependencies.forEach((m,_)=>{(_.startsWith(`${e}.`)||_.startsWith(`${e}[`))&&m.forEach(C=>t.add(C))}),(Array.isArray(a)||f||typeof a=="object")&&this.loopManager.updateLoops(e,a),t.size===0)return;let d={template:[],conditional:[],loop:[],attribute:[]};t.forEach(m=>{m&&m.type&&d[m.type].push(m)}),d.template.forEach(m=>this.updateTemplateNode(m.element,m.template)),d.conditional.forEach(m=>this.conditionalManager.updateConditional(m.element,m.expression)),d.attribute.forEach(m=>this.attributeManager.update(m.element,m.attribute,m.expression)),d.loop.forEach(m=>this.loopManager.updateLoopPart(m.element,m.arrayPath,a,m.index))}updateTemplateNode(e,a){let f=a.replace(/\{\{\s*([^}]+)\s*\}\}/g,(t,i)=>(i=i.trim(),this.model.store.get(i)));this.virtualDom.get(e)!==f&&(e.textContent=f,this.virtualDom.set(e,f))}isPathDependency(e,a){return a===e||a.startsWith(`${e}.`)||a.startsWith(`${e}[`)}getDependentPaths(e){let a=[];return this.domDependencies.forEach((f,t)=>{this.isPathDependency(e,t)&&a.push(t)}),a}bindDOM(e){Be.debug("DOMManager: bind DOM from",e),this.loopManager.parseLoops(e),this.conditionalManager.parseConditionals(e),this.attributeManager.parseAttributesBind(e),this.attributeManager.parseAttributes(e),this.eventManager.parseEvents(e),this.parse(e),this.updateAllDOM(),Be.debug("DOMManager: binding completed")}destroy(){this.inputs.forEach(({element:e})=>{e.__modelInputHandler&&(e.removeEventListener("input",e.__modelInputHandler),delete e.__modelInputHandler)}),this.elements=[],this.inputs=[],this.domDependencies.clear(),this.virtualDom.clear(),this.loopManager.destroy(),this.conditionalManager.destroy(),this.eventManager.destroy(),Be.debug("DOMManager: destroyed")}},d_=class{constructor(e,a={}){Be.DEBUG_LEVEL=e.options.debug?4:0,Be.debug("Model: Init ComputedProps:",a),this.model=e,this.computed=a,this.store=e.store,this.asyncCache=new Map,this.init().then(()=>{Object.getOwnPropertyNames(this.computed).forEach(f=>{if(typeof this.computed[f].getter=="function")try{let t=this.computed[f].getter.call(this.store.getState());Be.debug(`Initializing computed property ${f}:`,t)}catch(t){console.error(`Error initializing computed property ${f}:`,t)}}),Be.debug("Model: ComputedProps initialized")})}async init(){let e=[];for(let a in this.computed){let f=this.evaluate(a);e.push(f),Object.defineProperty(this.model.data,a,{get:()=>{let t=this.computed[a];return t.isAsync?this.asyncCache.get(a):t.value},enumerable:!0,configurable:!0})}await Promise.all(e);for(let a in this.computed){let f=this.computed[a].isAsync?this.asyncCache.get(a):this.computed[a].value;this.model.dom.updateDOM(a,f),this.model.dom.updateInputs(a,f)}return!0}async evaluate(e,a=!1){let f=this.computed[e],t=new Set,i=new Proxy(this.store.getState(),{get:(d,m)=>{t.add(m);let _=d[m];return _&&typeof _=="object"?new Proxy(_,{get:(C,k)=>(t.add(`${m}.${k}`),C[k])}):_}}),r=f.getter.constructor.name==="AsyncFunction";f.isAsync=r;try{let d=await f.getter.call(i);return f.dependencies=[...t],r?this.asyncCache.set(e,d):f.value=d,this.store.emit("compute",{key:e,value:d,dependencies:t,isAsync:r}),d}catch(d){throw console.error(`Error evaluating computed property "${e}":`,d),d}}async update(e){let a=[];for(let f in this.computed){let t=(async()=>{let i=await this.evaluate(f);this.model.dom.updateDOM(f,i),this.model.dom.updateInputs(f,i)})();a.push(t)}await Promise.all(a)}all(){return Object.fromEntries(Object.entries(this.computed).map(([e,a])=>[e,a.value]))}},h_=class Su extends _f{constructor(a,f={}){Be.DEBUG_LEVEL=a.model.options.debug?4:0,Be.debug("Init StateManager:",f),super(),this.store=a,this.options=Object.assign({id:"model"},f),Be.debug("StateManager initialized")}static isStorageAvailable(){try{let a="__test__";return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch{return!1}}saveState(){if(!Su.isStorageAvailable())return console.warn("localStorage is not available"),null;let a={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};try{return localStorage.setItem(this.options.id,JSON.stringify(a)),this.emit("saveState",a),a}catch(f){return console.error("Error saving state:",f),this.emit("saveStateError",f),null}}restoreState(){if(!Su.isStorageAvailable())return console.warn("localStorage is not available"),null;try{let a=localStorage.getItem(this.options.id);if(a){let f=JSON.parse(a);return Object.assign(this.store.state,f.data),this.emit("restoreState",f),f}}catch(a){this.emit("restoreStateError",a)}}createSnapshot(){if(!Su.isStorageAvailable())return console.warn("localStorage is not available"),null;let a={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};return this.emit("createSnapshot",a),a}restoreSnapshot(a){return Su.isStorageAvailable()?a?(Object.assign(this.store.state,a.data),this.emit("restoreSnapshot",a),a):null:(console.warn("localStorage is not available"),null)}enableAutoSave(a=5e3){this.autoSaveInterval=setInterval(()=>{this.saveState()},a)}disableAutoSave(){clearInterval(this.autoSaveInterval)}},f_={id:"model",useSimpleExpressions:!0,debug:!1,plugins:[],validators:[],formatters:[]},p_=class extends _f{constructor(e={},a={}){super(),this.options={...f_,...a},Be.DEBUG_LEVEL=this.options.debug?4:0,Be.debug("Creating a model with data:",e),Be.debug("Configuration options:",a),this.computed={};for(let f in e)typeof e[f]=="function"&&(Be.debug(`Registration calculated property "${f}"`),this.computed[f]={getter:e[f],value:null,dependencies:[]},delete e[f]);if(this.store=new a_(e,this),this.data=this.store.state,this.dom=new c_(this),this.computedProps=new d_(this,this.computed),this.stateManager=new h_(this.store),this.plugins=new Map,this.options.plugins)for(let f of this.options.plugins){let{name:t,plugin:i,options:r}=f;t&&i&&typeof i=="function"&&this.registerPlugin(t,i,r)}if(this.options.validators)for(let f of this.options.validators){let{path:t,validator:i}=f;t&&i&&typeof i=="function"&&this.addValidator(t,i)}if(this.options.formatters)for(let f of this.options.formatters){let{path:t,formatter:i}=f;t&&i&&typeof i=="function"&&this.addValidator(t,i)}this.subscribe(),Be.debug("The model was created successfully!")}subscribe(){Be.debug("Subscribing to store changes"),this.store.on("change",e=>{this.dom.updateDOM(e.path,e.newValue),this.dom.updateInputs(e.path,e.newValue),this.computedProps.update(e.path).then(()=>{}),this.emit("change",e)}),this.store.on("compute",e=>this.emit("compute",e)),this.store.on("arrayChange",e=>this.emit("arrayChange",e)),this.store.on("batchComplete",e=>this.emit("batchComplete",e)),Be.debug("Subscribing to state manager events"),this.stateManager.on("saveState",e=>this.emit("saveState",e)),this.stateManager.on("saveStateError",e=>this.emit("saveStateError",e)),this.stateManager.on("restoreState",e=>this.emit("restoreState",e)),this.stateManager.on("restoreStateError",e=>this.emit("restoreStateError",e)),this.stateManager.on("createSnapshot",e=>this.emit("createSnapshot",e)),this.stateManager.on("restoreSnapshot",e=>this.emit("restoreSnapshot",e))}addValidator(e,a){this.store.addValidator(e,a)}addFormatter(e,a){this.store.addFormatter(e,a)}use(e){this.store.use(e)}watch(e,a){this.store.watch(e,a)}batch(e){return this.store.batch(e)}diffArrays(e,a){return this.store.detectArrayChanges(e,a)}diff(){}validate(){let e=[],a=[];for(let f in this.computed){let t=new Set,i=this._checkCyclicDependencies(f,t);i&&e.push({type:"CYCLIC_DEPENDENCY",property:f,message:`Cyclic dependence is found: ${i.join(" -> ")}`})}return this.dom.domDependencies.forEach((f,t)=>{this.store.isValidPath(t)||a.push({type:"INVALID_PATH",path:t,message:`Property ${t} used in the template, but does not exist in the model`})}),{errors:e,warnings:a}}_checkCyclicDependencies(e,a,f=[]){if(a.has(e))return[...f,e];a.add(e),f.push(e);let t=this.computed[e];if(!t||!t.dependencies)return null;for(let i of t.dependencies)if(i in this.computed){let r=this._checkCyclicDependencies(i,new Set(a),[...f]);if(r)return r}return null}validatePath(e){return this.store.isValidPath(e)}init(e){Be.debug("Initializing DOM bindings");let a=typeof e=="string"?document.querySelector(e):e;return a||(a=document.body),Be.debug(`Model initialized in ${e??"body"}`),Be.debug("Binding DOM"),this.dom.bindDOM(a),this.emit("init"),Be.debug("Initialization complete!"),this}runDevTools(e={}){return new i_(this,e)}save(){return this.stateManager.saveState()}restore(){return this.stateManager.restoreState()}snapshot(e){return e?this.stateManager.restoreSnapshot(e):this.stateManager.createSnapshot()}autoSave(e){e?this.stateManager.enableAutoSave(e):this.stateManager.disableAutoSave()}registerPlugin(e,a,f={}){if(this.plugins.has(e))throw new Error(`Plugin ${e} already registered`);this.plugins.set(e,new a(this,f))}usePlugin(e,a={}){let f=this.plugins.get(e);return f?(f.run(),this):(console.error(`Plugin ${e} not found`),this)}removePlugin(e){this.plugins.has(e)&&this.plugins.delete(e)}destroy(){this.dom.destroy(),this.store.destroy(),this.emit("destroy")}},Up=p_,m_="0.18.0",g_="12.05.2025, 10:08:38";Up.info=()=>{console.info(`%c Model %c v${m_} %c ${g_} `,"color: white; font-weight: bold; background: #0080fe","color: white; background: darkgreen","color: white; background: #0080fe;")};var v_=Up;globalThis.Model=v_,(e=>{globalThis.__version__="5.1.3",globalThis.__build_time__="5/13/2025, 5:53:01 PM";let a=e.meta("metro:init").attr("content"),f=e.meta("metro:cloak").attr("content"),t=e.meta("metro:cloak_duration").attr("content"),i=e.meta("metro:blur").attr("content"),r=e.meta("metro:smooth").attr("content"),d=e.meta("metro:theme").attr("content"),m=e.meta("metro:info").attr("content"),_=e.meta("metro:jquery").attr("content"),C=e.meta("metro:debug").attr("content");globalThis.METRO_INIT=a?JSON.parse(a):!0,d!==void 0&&e("html").addClass(d==="auto"?e.dark?"dark-side":"":d==="dark"?"dark-side":"light-side"),globalThis.METRO_BLUR_IMAGE=i?JSON.parse(i):!1,globalThis.jquery_present=typeof globalThis.jQuery<"u",globalThis.METRO_JQUERY=_?JSON.parse(_):!0,globalThis.useJQuery=globalThis.jquery_present&&globalThis.METRO_JQUERY,globalThis.METRO_SHOW_INFO=m?JSON.parse(m):!0,globalThis.METRO_DEBUG=C?JSON.parse(C):!1,globalThis.METRO_CLOAK_REMOVE=f?`${f}`.toLowerCase():"fade",globalThis.METRO_CLOAK_DURATION=t?Number.parseInt(t):300,globalThis.METRO_SMOOTH_SCROLL=r?JSON.parse(r):!0,globalThis.METRO_DATE_FORMAT="DD.MM.YYYY",globalThis.METRO_TIME_FORMAT="HH:mm:ss",globalThis.METRO_DATETIME_FORMAT="DD.MM.YYYY HH:mm:ss",globalThis.METRO_TIMEOUT=3e3,globalThis.METRO_MEDIA=[]})(Dom);var Ed="ontouchstart"in window,b_={controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:Ed?"touchstart":"mousedown",stop:Ed?"touchend":"mouseup",move:Ed?"touchmove":"mousemove",enter:Ed?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",LD:"(min-width: 640px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)",XXXL:"(min-width: 2000px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452,XXXL:2e3},media_mode:{FS:"fs",XS:"xs",SM:"sm",LD:"ld",MD:"md",LG:"lg",XL:"xl",XXL:"xxl",XXXL:"xxxl"},media_modes:["fs","xs","sm","ld","md","lg","xl","xxl","xxxl"],actions:{NONE:0,REMOVE:1,HIDE:2,MINIMIZE:3,MAXIMIZE:4,CLOSE:5,RESTORE:6,SHOW:7},theme:{LIGHT:"light",DARK:"dark"}};(e=>{if(typeof Dom>"u")throw new Error("Metro UI requires Dom library!");if(!("MutationObserver"in window))throw new Error("Metro UI requires MutationObserver!");let a="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,f=i=>typeof i!="string"?void 0:i.replace(/-/g,"").toLowerCase(),t={version:"5.1.3",build_time:"5/13/2025, 5:53:01 PM",buildNumber:0,isTouchable:a,fullScreenEnabled:document.fullscreenEnabled,sheet:null,hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},info:()=>{typeof globalThis.METRO_SHOW_INFO<"u"&&t.welcome()},welcome:()=>{console.info(`%c METRO UI %c v${t.version} %c ${t.build_time} `,"color: pink; font-weight: bold; background: #800000","color: white; background: darkgreen","color: white; background: #0080fe;"),globalThis.$&&e.info&&e.info(),globalThis.Hooks&&Hooks.info&&Hooks.info(),globalThis.HTML&&HTML.info&&HTML.info(),globalThis.Farbe&&Farbe.info&&Farbe.info(),globalThis.Datetime&&Datetime.info&&Datetime.info(),globalThis.Str&&Str.info&&Str.info(),globalThis.G&&G.info&&G.info(),globalThis.Router&&Router.info&&Router.info(),globalThis.Model&&Model.info&&Model.info()},aboutDlg:()=>{alert(`Metro UI - v${t.version}`)},observe:()=>{let i={childList:!0,attributes:!0,subtree:!0},r=d=>{d.map(m=>{if(m.type==="attributes"&&m.attributeName!=="data-role")if(m.attributeName==="data-hotkey")t.initHotkeys([m.target],!0);else{let _=e(m.target),C=_.data("metroComponent"),k=m.attributeName,E=_.attr(k),F=m.oldValue;C!==void 0&&(_.fire("attr-change",{attr:k,newValue:E,oldValue:F,__this:_[0]}),e.each(C,function(){let P=t.getPlugin(_,this);P&&typeof P.changeAttribute=="function"&&P.changeAttribute(k,E,F)}))}else if(m.type==="childList"&&m.addedNodes.length>0){let _=[],C=[],k,E,F=m.addedNodes;if(F.length){for(let P of e(F).find("[data-hotkey]"))C.push(e(P));for(let P=0;P<F.length;P++)E=F[P],k=e(E),k.attr("data-role")!==void 0&&_.push(E),e.each(k.find("[data-role]"),function(){_.indexOf(this)===-1&&_.push(this)});_.length&&t.initWidgets(_,"observe"),C.length&&t.initHotkeys(C)}}})};new MutationObserver(r).observe(e("html")[0],i)},init:()=>{let i=e("[data-role]"),r=e("[data-hotkey]"),d=e("html");if(t.i18n.load(d.attr("lang")),t.info(),a===!0&&d.addClass("touchable-device"),t.sheet=t.utils.newCssSheet(),t.utils.addCssRule(t.sheet,"*, *::before, *::after","box-sizing: border-box;"),globalThis.METRO_MEDIA=[],e.each(t.media_queries,(m,_)=>{t.utils.media(_)&&globalThis.METRO_MEDIA.push(t.media_mode[m])}),t.observe(),t.initHotkeys(r),t.initWidgets(i,"init"),globalThis.METRO_CLOAK_REMOVE!=="fade"?(e(".m4-cloak").removeClass("m4-cloak"),e(".cloak").removeClass("cloak"),e(globalThis).fire("metro-initiated")):e(".m4-cloak, .cloak").animate({draw:{opacity:[0,1]},dur:300,onDone:()=>{e(".m4-cloak").removeClass("m4-cloak"),e(".cloak").removeClass("cloak"),e(globalThis).fire("metro-initiated")}}),e(document).on("click","[data-copy-to-clipboard]",function(){let m=e(this).attr("data-copy-to-clipboard");t.utils.copy2clipboard(m),t.toast&&t.toast.create(`Data ${m} copied to clipboard!`)}),METRO_SMOOTH_SCROLL){let m=document.querySelectorAll('a.smooth-scroll[href^="#"]');for(let _ of m)_.addEventListener("click",C=>{C.preventDefault();let k=_.getAttribute("href");document.querySelector(k).scrollIntoView({behavior:"smooth",block:"start"})})}},initHotkeys:(i,r)=>{e.each(i,function(){let d=e(this),m=d.attr("data-hotkey")?d.attr("data-hotkey").toLowerCase():!1,_=d.attr("data-hotkey-func")?d.attr("data-hotkey-func"):!1;m!==!1&&(d.data("hotKeyBonded")===!0&&r!==!0||(t.hotkeys[m]=[this,_],d.data("hotKeyBonded",!0),d.fire("hot-key-bonded",{__this:d[0],hotkey:m,fn:_})))})},initWidgets:i=>{e.each(i,function(){let r=e(this);this.hasAttribute("data-role")&&r.attr("data-role").split(/\s*,\s*/).map(d=>{let m=t.utils.$(),_=f(d);if(m.fn[_]!==void 0&&r.attr(`data-role-${_}`)===void 0)try{m.fn[_].call(r),r.attr(`data-role-${_}`,!0);let C=r.data("metroComponent");C===void 0?C=[_]:C.push(_),r.data("metroComponent",C),r.fire("create",{__this:r[0],name:_}),e(document).fire("component-create",{element:r[0],name:_})}catch(C){throw console.error(`Error creating component ${d} for `,r[0]),C}})}),t.i18n.updateUI()},plugin:(i,r)=>{let d=f(i),m=_=>{_.fn[d]=function(C){return this.each(function(){_.data(this,d,Object.create(r).init(C,this))})}};m(Dom),globalThis.useJQuery&&m(globalThis.jQuery)},pluginExists:i=>typeof(globalThis.useJQuery?globalThis.jQuery:Dom).fn[f(i)]=="function",destroyPlugin:(i,r)=>{let d=e(i),m=f(r),_=t.getPlugin(d,m);if(typeof _>"u"){console.warn(`Component ${r} can not be destroyed: the element is not a Metro UI component.`);return}if(typeof _.destroy!="function"){console.warn(`Component ${r} can not be destroyed: method destroy not found.`);return}_.destroy();let C=d.data("metroComponent");t.utils.arrayDelete(C,m),d.data("metroComponent",C),e.removeData(d[0],m),d.removeAttr(`data-role-${m}`)},destroyPluginAll:i=>{let r=e(i),d=r.data("metroComponent");d!==void 0&&d.length>0&&e.each(d,function(){t.destroyPlugin(r[0],this)})},noop:()=>{},noop_true:()=>!0,noop_false:()=>!1,noop_arg:i=>i,requestFullScreen:i=>{i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullScreen?i.webkitRequestFullScreen():i.msRequestFullscreen?i.msRequestFullscreen():i.requestFullscreen().catch(r=>{console.warn(`Error attempting to enable full-screen mode: ${r.message} ${r.name}`)})},exitFullScreen:()=>{document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch(i=>{console.warn(`Error attempting to disable full-screen mode: ${i.message} ${i.name}`)})},inFullScreen:()=>(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)!==void 0,$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,get$el:i=>t.$()(e(i)[0]),get$elements:i=>t.$()(e(i)),getPlugin:(i,r)=>{let d=f(r),m=t.get$el(i);return m.length?m.data(d):void 0},getPlugins:i=>{let r=t.get$el(i),d=r.data("metroComponent");return d===void 0?[]:d.map(m=>{let _=f(m);return r.data(_)})},makePlugin:(i,r,d)=>{let m=f(r),_=t.get$elements(i);return _.length&&typeof _[m]=="function"?_[m](d):void 0},Component:(i,r)=>{let d=f(i),m=t.utils,_=e.extend({name:d},{_super:function(C,k,E,F){this.elem=C,this.element=e(C),this.options=e.extend({},E,k),this.component=this.elem,this.locale="en",this.strings={},this._setOptionsFromDOM(),this._runtime(),this._setLocale(),F&&typeof F=="object"&&e.each(F,(P,U)=>{this[P]=U}),this._createExec()},_setOptionsFromDOM:function(){let C=this.element,k=this.options;e.each(C.data(),(E,F)=>{if(E in k)try{k[E]=JSON.parse(F)}catch{k[E]=F}})},_runtime:function(){let C=this.element,k,E=(C.attr("data-role")||"").toArray(",").map(F=>f(F)).filter(F=>F.trim()!=="");C.attr(`data-role-${this.name}`)||(C.attr(`data-role-${this.name}`,!0),E.indexOf(this.name)===-1&&(E.push(this.name),C.attr("data-role",E.join(","))),k=C.data("metroComponent"),k===void 0?k=[this.name]:k.push(this.name),C.data("metroComponent",k))},_createExec:function(){let C=this.options[`${this.name}Deferred`];C?setTimeout(()=>{this._create()},C):this._create()},_fireEvent:function(C,k,E,F,P=null){let U=this.element,Y=this.options,ee=str(C).camelCase().capitalize(!1).value,Ae=e.extend({},k,{__this:U[0]});return E&&(console.warn(E),console.warn(`Event: on${ee}`),console.warn("Data: ",k),console.warn("Element: ",U[0])),F!==!0&&U.fire(ee.toLowerCase(),k),m.exec(Y[`on${ee}`],Object.values(Ae),P||U[0])},_fireEvents:function(C,k,E,F,P){let U=this;if(arguments.length===0)return;if(arguments.length===1)return e.each(C,function(){U._fireEvent(this.name,this.data,this.log,this.noFire,P)}),m.objectLength(C);if(!Array.isArray(C)&&typeof C!="string")return;let Y=Array.isArray(C)?C:C.toArray(",");e.each(Y,function(){U._fireEvent(this,k,E,F,P)})},_setLocale:function(){let C=this.element.closest("[lang]");C.length>0?this.locale=C.attr("lang"):this.locale=e("html").attr("lang")||"en",this.strings=e.extend({},t.locales.en,t.locales[this.locale])},getComponent:function(){return this.component},getComponentName:function(){return this.name}},r);return t.plugin(d,_),_},fetch:{status:i=>i.ok?Promise.resolve(i):Promise.reject(new Error(i.statusText)),json:i=>i.json(),text:i=>i.text(),form:i=>i.formData(),blob:i=>i.blob(),buffer:i=>i.arrayBuffer()},i18n:{language:"en",load(i="en"){t.i18n.language=t.locales[i]?i:"en",t.locale=t.locales[t.i18n.language]},add(i,r){t.locales[i]=r},get(i,r){return t.locales[r]&&t.locales[r][i]?t.locales[r][i]:""},updateUI(i,r){let d=r||e.html().attr("lang")||"en",m=i||document;if(t.locales[d]){t.i18n.load(d),e.html().attr("lang",d);for(let _ of m.querySelectorAll("[data-i18n]")){let C=_.getAttribute("data-i18n");_.innerHTML=t.i18n.get(C,d)}}},extend(i){e.each(i,(r,d)=>{t.locales[r]=Object.assign({},t.locales[r],d)})}}};return Object.assign(t,b_),e(globalThis).on(t.events.resize,()=>{globalThis.METRO_MEDIA=[],e.each(t.media_queries,(i,r)=>{t.utils.media(r)&&globalThis.METRO_MEDIA.push(t.media_mode[i])})}),globalThis.Metro=t,globalThis.METRO_INIT===!0&&e(()=>{t.init()}),t})(Dom),Metro.i18n.add("en",{weekStart:0,january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",january_short:"Jan",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dec",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday_short:"Sun",monday_short:"Mon",tuesday_short:"Tue",wednesday_short:"Wed",thursday_short:"Thu",friday_short:"Fri",saturday_short:"Sat",sunday_short_2:"Su",monday_short_2:"Mo",tuesday_short_2:"Tu",wednesday_short_2:"We",thursday_short_2:"Th",friday_short_2:"Fr",saturday_short_2:"Sa",label_ok:"OK",label_cancel:"Cancel",label_done:"Done",label_today:"Today",label_now:"Now",label_clear:"Clear",label_help:"Help",label_yes:"Yes",label_no:"No",label_random:"Random",label_save:"Save",label_reset:"Reset",label_submit:"Submit",label_add_user_color:"Add to swatches",label_send:"Send",label_accept:"Accept",label_cookies_title:"This site uses cookies",label_cookies_text:"This website uses cookies to ensure you get the best experience on our website.",label_choose_file:"Choose file(s)",label_drop_file:"Click or drop file(s) here",label_files_selected:"{n} file(s) selected",label_days:"days",label_hours:"hours",label_minutes:"min",label_seconds:"sec",label_month:"mon",label_months:"mon's",label_day:"day",label_year:"year",label_years:"years",label_rows_count:"Show:",label_search:"Search:",label_table_info:"Showing $1 to $2 of $3 entries",label_prev:"Prev",label_next:"Next",label_all:"All",label_inspector:"Inspector",label_goto_page:"Goto",label_enter_page:"Enter page...",label_empty:"Nothing to show",label_user_colors:"User Colors",label_tiles:"Tiles",label_list:"List",label_load_more:"Load more",label_buy:"Buy",label_buy_now:"Buy now",label_buy_today:"Buy today",label_download:"Download",label_search_results:"Search results",label_add:"Add",label_edit:"Edit",label_delete:"Delete",label_new:"New",label_sell:"Sell",label_details:"Details",label_sorting:"Sorting",label_finish:"Finish",label_play:"Play",label_pause:"Pause",label_stop:"Stop",label_mute:"Mute",label_loop:"Loop",label_on:"on",label_off:"off",label_rename_tab:"Rename tab",label_close_tab:"Close tab",label_close_other_tabs:"Close other tabs",label_close_tabs_left:"Close tabs left",label_close_tabs_right:"Close tabs right",label_close_all_tabs:"Close all tabs",label_close_inactive_tabs:"Close inactive tabs",label_clear_input:"Clear input",label_reveal_password:"Reveal password",label_hide_password:"Hide password",label_generate_random:"Generate random value",label_search_input:"Search for the entered value",label_note:"Note",label_tip:"Tip",label_info:"Info",label_warning:"Warning",label_question:"Question",label_error:"Error",label_success:"Success",label_caution:"Caution",label_alert:"Alert",label_bug:"Bug",label_fuck:"Fuck",label_important:"Important",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("uk",{weekStart:1,january:"Січень",february:"Лютий",march:"Березень",april:"Квітень",may:"Травень",june:"Червень",july:"Липень",august:"Серпень",september:"Вересень",october:"Жовтень",november:"Листопад",december:"Грудень",january_short:"Січ",february_short:"Лют",march_short:"Бер",april_short:"Кві",may_short:"Тра",june_short:"Чер",july_short:"Лип",august_short:"Сер",september_short:"Вер",october_short:"Жов",november_short:"Лис",december_short:"Гру",sunday:"Неділя",monday:"Понеділок",tuesday:"Вівторок",wednesday:"Середа",thursday:"Четвер",friday:"П'ятниця",saturday:"Субота",sunday_short:"Нед",monday_short:"Пон",tuesday_short:"Вів",wednesday_short:"Сер",thursday_short:"Чет",friday_short:"Птн",saturday_short:"Суб",sunday_short_2:"Нд",monday_short_2:"Пн",tuesday_short_2:"Вт",wednesday_short_2:"Ср",thursday_short_2:"Чт",friday_short_2:"Пт",saturday_short_2:"Сб",label_ok:"OK",label_cancel:"Відміна",label_done:"Виконано",label_today:"Сьогодні",label_now:"Зараз",label_clear:"Очистити",label_help:"Допомога",label_yes:"Так",label_no:"Ні",label_random:"Випадково",label_save:"Зберігти",label_reset:"Скинути",label_submit:"Відправити",label_add_user_color:"Додати до зразків",label_send:"Відправити",label_accept:"Прийняти",label_cookies_title:"Цей сайт використовує файли cookie",label_cookies_text:"Цей веб-сайт використовує файли cookie, щоб забезпечити вам найкращий досвід використання нашого веб-сайту.",label_choose_file:"Виберіть файл(и)",label_drop_file:"Натисніть або перетягніть файл(и) сюди",label_files_selected:"Вибрано {n} файл(ів)",label_days:"дні",label_hours:"год",label_minutes:"хвил",label_seconds:"сек",label_month:"міс",label_months:"місяці",label_day:"день",label_year:"рік",label_years:"років",label_rows_count:"Показати:",label_search:"Пошук:",label_table_info:"Відображено з $1 по $2 із $3 записів",label_prev:"Попередній",label_next:"Наступний",label_all:"Усі",label_inspector:"Інспектор",label_goto_page:"Перейти",label_enter_page:"Введіть сторінку...",label_empty:"Нічого показати",label_user_colors:"Кольори користувача",label_tiles:"Плитка",label_list:"Список",label_load_more:"Показати ще",label_buy:"Купити",label_buy_now:"Купити зараз",label_buy_today:"Купити сьогодні",label_download:"Завантажити",label_search_results:"Результати пошуку",label_add:"Додати",label_edit:"Редагувати",label_delete:"Видалити",label_new:"Нове",label_sell:"Продати",label_details:"Подробиці",label_sorting:"Сортування",label_finish:"Завершити",label_play:"Відтворити",label_pause:"Пауза",label_stop:"Зупинити",label_mute:"Без звуку",label_loop:"Повторювати",label_on:"увм",label_off:"вим",label_rename_tab:"Перейменувати вкладку",label_close_tab:"Закрити вкладку",label_close_other_tabs:"Закрити інші вкладки",label_close_tabs_left:"Закрити вкладки ліворуч",label_close_tabs_right:"Закрити вкладки праворуч",label_close_all_tabs:"Закрийте всі вкладки",label_close_inactive_tabs:"Закрити неактивні вкладки",label_clear_input:"Очистити введення",label_reveal_password:"Відкрити пароль",label_hide_password:"Приховати пароль",label_generate_random:"Генерувати випадковe значення",label_search_input:"Шукати введене значення",label_note:"Примітка",label_tip:"Підказка",label_info:"Інформація",label_warning:"Увага",label_question:"Питання",label_error:"Помилка",label_success:"Успіх",label_caution:"Обережно",label_alert:"Попередження",label_bug:"Помилка",label_fuck:"Бля",label_important:"Важливо",label_shit:"От лайно",label_air:"Пуффф...",label_select_all:"Вибрати усі",label_select_more:"Виберіть...",label_select:"Вибрати",label_filter:"Фільтр",label_collapse:"Згорнути"}),Metro.i18n.add("pt",{weekStart:0,january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",january_short:"Jan",february_short:"Fev",march_short:"Mar",april_short:"Abr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Set",october_short:"Out",november_short:"Nov",december_short:"Dez",sunday:"Domingo",monday:"Segunda-feira",tuesday:"Terça-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"Sábado",sunday_short:"Dom",monday_short:"Seg",tuesday_short:"Ter",wednesday_short:"Qua",thursday_short:"Qui",friday_short:"Sex",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"S",tuesday_short_2:"T",wednesday_short_2:"Q",thursday_short_2:"Q",friday_short_2:"S",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Concluído",label_today:"Hoje",label_now:"Agora",label_clear:"Limpar",label_help:"Ajuda",label_yes:"Sim",label_no:"Não",label_random:"Aleatório",label_save:"Salvar",label_reset:"Redefinir",label_submit:"Enviar",label_add_user_color:"Adicionar aos tons",label_send:"Enviar",label_accept:"Aceitar",label_cookies_title:"Este site usa cookies",label_cookies_text:"Este site utiliza cookies para garantir a melhor experiência em nosso site.",label_choose_file:"Escolher arquivo(s)",label_drop_file:"Clique ou solte o(s) arquivo(s) aqui",label_files_selected:"{n} arquivo(s) selecionado(s)",label_days:"dias",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mês",label_months:"meses",label_day:"dia",label_year:"ano",label_years:"anos",label_rows_count:"Mostrar:",label_search:"Pesquisar:",label_table_info:"Mostrando $1 a $2 de $3 entradas",label_prev:"Anterior",label_next:"Próximo",label_all:"Todos",label_inspector:"Inspetor",label_goto_page:"Ir para",label_enter_page:"Digite a página...",label_empty:"Nada para mostrar",label_user_colors:"Cores do usuário",label_tiles:"Blocos",label_list:"Lista",label_load_more:"Carregar mais",label_buy:"Comprar",label_buy_now:"Comprar agora",label_buy_today:"Comprar hoje",label_download:"Baixar",label_search_results:"Resultados da pesquisa",label_add:"Adicionar",label_edit:"Editar",label_delete:"Excluir",label_new:"Novo",label_sell:"Vender",label_details:"Detalhes",label_sorting:"Ordenação",label_finish:"Finalizar",label_play:"Reproduzir",label_pause:"Pausar",label_stop:"Parar",label_mute:"Silenciar",label_loop:"Repetir",label_on:"lig",label_off:"des",label_rename_tab:"Renomear aba",label_close_tab:"Fechar aba",label_close_other_tabs:"Fechar outras abas",label_close_tabs_left:"Fechar abas à esquerda",label_close_tabs_right:"Fechar abas à direita",label_close_all_tabs:"Fechar todas as abas",label_close_inactive_tabs:"Fechar abas inativas",label_clear_input:"Limpar entrada",label_reveal_password:"Mostrar senha",label_hide_password:"Ocultar senha",label_generate_random:"Gerar valor aleatório",label_search_input:"Pesquisar o valor inserido",label_note:"Nota",label_tip:"Dica",label_info:"Informação",label_warning:"Aviso",label_question:"Pergunta",label_error:"Erro",label_success:"Sucesso",label_caution:"Cuidado",label_alert:"Alerta",label_bug:"Erro",label_fuck:"Droga",label_important:"Importante",label_shit:"Merda",label_air:"Ar",label_select_all:"Selecionar tudo",label_select_more:"Selecionar...",label_select:"Selecionar",label_filter:"Filtrar",label_collapse:"Recolher"}),Metro.i18n.add("pt-BR",{weekStart:0,january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",january_short:"Jan",february_short:"Fev",march_short:"Mar",april_short:"Abr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Set",october_short:"Out",november_short:"Nov",december_short:"Dez",sunday:"Domingo",monday:"Segunda",tuesday:"Terça",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"Sábado",sunday_short:"Dom",monday_short:"Seg",tuesday_short:"Ter",wednesday_short:"Qua",thursday_short:"Qui",friday_short:"Sex",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"S",tuesday_short_2:"T",wednesday_short_2:"Q",thursday_short_2:"Q",friday_short_2:"S",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Pronto",label_today:"Hoje",label_now:"Agora",label_clear:"Limpar",label_help:"Ajuda",label_yes:"Sim",label_no:"Não",label_random:"Aleatório",label_save:"Salvar",label_reset:"Resetar",label_submit:"Enviar",label_add_user_color:"Adicionar às amostras",label_send:"Enviar",label_accept:"Aceitar",label_cookies_title:"Este site usa cookis",label_cookies_text:"Este site utiliza cookies para garantir que você tenha a melhor experiência.",label_choose_file:"Escolher arquivo(s)",label_drop_file:"Clique ou solte arquivo(s) aqui",label_files_selected:"{n} arquivo(s) selecionado(s)",label_days:"dias",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mês",label_months:"meses",label_day:"dia",label_year:"ano",label_years:"anos",label_rows_count:"Exibir:",label_search:"Pesquisar:",label_table_info:"Exibindo de $1 até $2 de um total de $3 registros",label_prev:"Anterior",label_next:"Próximo",label_all:"Todos",label_inspector:"Inspetor",label_goto_page:"Ir para",label_enter_page:"Digite a página...",label_empty:"Nada para exibir",label_user_colors:"Cores do usuário",label_tiles:"Blocos",label_list:"Lista",label_load_more:"Carregar mais",label_buy:"Comprar",label_buy_now:"Comprar agora",label_buy_today:"Comprar hoje",label_download:"Download",label_search_results:"Pesquisar resultados",label_add:"Adicionar",label_edit:"Editar",label_delete:"Excluir",label_new:"Novo",label_sell:"Vender",label_details:"Detalhes",label_sorting:"Ordenar",label_finish:"Finalizar",label_play:"Reproduzir",label_pause:"Pausar",label_stop:"Parar",label_mute:"Silenciar",label_loop:"Repetir",label_on:"lig",label_off:"des",label_rename_tab:"Renomear aba",label_close_tab:"Fechar aba",label_close_other_tabs:"Fechar outras abas",label_close_tabs_left:"Fechar abas a esquerda",label_close_tabs_right:"Fechar abas a direita",label_close_all_tabs:"Fechar todas as abas",label_close_inactive_tabs:"Fechar abas inativas",label_clear_input:"Limpar",label_reveal_password:"Mostrar senha",label_hide_password:"Ocultar senha",label_generate_random:"Gerar valor aleatório",label_search_input:"Pesquisar pelo valor",label_note:"Nota",label_tip:"Dica",label_info:"Informação",label_warning:"Aviso",label_question:"Questão",label_error:"Erro",label_success:"Sucesso",label_caution:"Cuidado",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falha catastrótico",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("es",{weekStart:0,january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",january_short:"Ene",february_short:"Feb",march_short:"Mar",april_short:"Abr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mié",thursday_short:"Jue",friday_short:"Vie",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"X",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Hecho",label_today:"Hoy",label_now:"Ahora",label_clear:"Limpiar",label_help:"Ayuda",label_yes:"Sí",label_no:"No",label_random:"Aleatorio",label_save:"Guardar",label_reset:"Restablecer",label_submit:"Enviar",label_add_user_color:"Añadir a colores",label_send:"Enviar",label_accept:"Aceptar",label_cookies_title:"Este sitio utiliza cookies",label_cookies_text:"Este sitio web utiliza cookies para garantizar que obtenga la mejor experiencia en nuestro sitio web.",label_choose_file:"Seleccionar archivo(s)",label_drop_file:"Haga clic o suelte archivo(s) aquí",label_files_selected:"{n} archivo(s) seleccionado(s)",label_days:"días",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mes",label_months:"meses",label_day:"día",label_year:"año",label_years:"años",label_rows_count:"Mostrar:",label_search:"Buscar:",label_table_info:"Mostrando $1 a $2 de $3 entradas",label_prev:"Anterior",label_next:"Siguiente",label_all:"Todo",label_inspector:"Inspector",label_goto_page:"Ir a",label_enter_page:"Introducir página...",label_empty:"Nada que mostrar",label_user_colors:"Colores de usuario",label_tiles:"Cuadrículas",label_list:"Lista",label_load_more:"Cargar más",label_buy:"Comprar",label_buy_now:"Comprar ahora",label_buy_today:"Comprar hoy",label_download:"Descargar",label_search_results:"Resultados de búsqueda",label_add:"Añadir",label_edit:"Editar",label_delete:"Eliminar",label_new:"Nuevo",label_sell:"Vender",label_details:"Detalles",label_sorting:"Ordenar",label_finish:"Finalizar",label_play:"Reproducir",label_pause:"Pausa",label_stop:"Detener",label_mute:"Silenciar",label_loop:"Repetir",label_on:"enc",label_off:"apa",label_rename_tab:"Renombrar pestaña",label_close_tab:"Cerrar pestaña",label_close_other_tabs:"Cerrar otras pestañas",label_close_tabs_left:"Cerrar pestañas a la izquierda",label_close_tabs_right:"Cerrar pestañas a la derecha",label_close_all_tabs:"Cerrar todas las pestañas",label_close_inactive_tabs:"Cerrar pestañas inactivas",label_clear_input:"Limpiar entrada",label_reveal_password:"Mostrar contraseña",label_hide_password:"Ocultar contraseña",label_generate_random:"Generar valor aleatorio",label_search_input:"Buscar el valor ingresado",label_note:"Nota",label_tip:"Consejo",label_info:"Información",label_warning:"Advertencia",label_question:"Pregunta",label_error:"Error",label_success:"Éxito",label_caution:"Precaución",label_alert:"Alerta",label_bug:"Error",label_fuck:"Maldición",label_important:"Importante",label_shit:"Mierda",label_air:"Aire",label_select_all:"Seleccionar todo",label_select_more:"Seleccionar...",label_select:"Seleccionar",label_filter:"Filtrar",label_collapse:"Colapsar"}),Metro.i18n.add("es-ES",{weekStart:0,january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",january_short:"Ene",february_short:"Feb",march_short:"Mar",april_short:"Abr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mié",thursday_short:"Jue",friday_short:"Vie",saturday_short:"Sáb",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Listo",label_today:"Hoy",label_now:"Ahora",label_clear:"Limpiar",label_help:"Ayuda",label_yes:"Sí",label_no:"No",label_random:"Aleatorio",label_save:"Guardar",label_reset:"Restablecer",label_submit:"Enviar",label_add_user_color:"Agregar a la paleta",label_send:"Enviar",label_accept:"Aceptar",label_cookies_title:"Este sitio usa cookies",label_cookies_text:"Este sitio utiliza cookies para garantizar que tengas la mejor experiencia.",label_choose_file:"Elegir archivo(s)",label_drop_file:"Haz clic o suelta archivo(s) aquí",label_files_selected:"{n} archivo(s) seleccionado(s)",label_days:"días",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mes",label_months:"meses",label_day:"día",label_year:"año",label_years:"años",label_rows_count:"Mostrar:",label_search:"Buscar:",label_table_info:"Mostrando de $1 a $2 de un total de $3 registros",label_prev:"Anterior",label_next:"Siguiente",label_all:"Todos",label_inspector:"Inspector",label_goto_page:"Ir a la página",label_enter_page:"Escribe la página...",label_empty:"Nada para mostrar",label_user_colors:"Colores del usuario",label_tiles:"Cuadrículas",label_list:"Lista",label_load_more:"Cargar más",label_buy:"Comprar",label_buy_now:"Comprar ahora",label_buy_today:"Comprar hoy",label_download:"Descargar",label_search_results:"Buscar resultados",label_add:"Agregar",label_edit:"Editar",label_delete:"Eliminar",label_new:"Nuevo",label_sell:"Vender",label_details:"Detalles",label_sorting:"Ordenar",label_finish:"Finalizar",label_play:"Reproducir",label_pause:"Pausa",label_stop:"Detener",label_mute:"Silenciar",label_loop:"Repetir",label_on:"enc",label_off:"apa",label_rename_tab:"Renombrar pestaña",label_close_tab:"Cerrar pestaña",label_close_other_tabs:"Cerrar otras pestañas",label_close_tabs_left:"Cerrar pestañas a la izquierda",label_close_tabs_right:"Cerrar pestañas a la derecha",label_close_all_tabs:"Cerrar todas las pestañas",label_close_inactive_tabs:"Cerrar pestañas inactivas",label_clear_input:"Limpiar",label_reveal_password:"Mostrar contraseña",label_hide_password:"Ocultar contraseña",label_generate_random:"Generar valor aleatorio",label_search_input:"Buscar por valor",label_note:"Nota",label_tip:"Consejo",label_info:"Información",label_warning:"Advertencia",label_question:"Pregunta",label_error:"Error",label_success:"Éxito",label_caution:"Precaución",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falla catastrófica",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"}),Metro.i18n.add("de",{weekStart:1,january:"Januar",february:"Februar",march:"März",april:"April",may:"Mai",june:"Juni",july:"Juli",august:"August",september:"September",october:"Oktober",november:"November",december:"Dezember",january_short:"Jan",february_short:"Feb",march_short:"Mär",april_short:"Apr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Okt",november_short:"Nov",december_short:"Dez",sunday:"Sonntag",monday:"Montag",tuesday:"Dienstag",wednesday:"Mittwoch",thursday:"Donnerstag",friday:"Freitag",saturday:"Samstag",sunday_short:"So",monday_short:"Mo",tuesday_short:"Di",wednesday_short:"Mi",thursday_short:"Do",friday_short:"Fr",saturday_short:"Sa",sunday_short_2:"S",monday_short_2:"M",tuesday_short_2:"D",wednesday_short_2:"M",thursday_short_2:"D",friday_short_2:"F",saturday_short_2:"S",label_ok:"OK",label_cancel:"Abbrechen",label_done:"Fertig",label_today:"Heute",label_now:"Jetzt",label_clear:"Löschen",label_help:"Hilfe",label_yes:"Ja",label_no:"Nein",label_random:"Zufällig",label_save:"Speichern",label_reset:"Zurücksetzen",label_submit:"Absenden",label_add_user_color:"Zu den Farben hinzufügen",label_send:"Senden",label_accept:"Akzeptieren",label_cookies_title:"Diese Seite verwendet Cookies",label_cookies_text:"Diese Website verwendet Cookies, um sicherzustellen, dass Sie die beste Erfahrung auf unserer Website machen.",label_choose_file:"Datei(en) auswählen",label_drop_file:"Klicken oder Datei(en) hier ablegen",label_files_selected:"{n} Datei(en) ausgewählt",label_days:"Tage",label_hours:"Stunden",label_minutes:"Min",label_seconds:"Sek",label_month:"Monat",label_months:"Monate",label_day:"Tag",label_year:"Jahr",label_years:"Jahre",label_rows_count:"Anzeigen:",label_search:"Suchen:",label_table_info:"Zeige $1 bis $2 von $3 Einträgen",label_prev:"Zurück",label_next:"Weiter",label_all:"Alle",label_inspector:"Inspektor",label_goto_page:"Gehe zu",label_enter_page:"Seite eingeben...",label_empty:"Nichts zu zeigen",label_user_colors:"Benutzerfarben",label_tiles:"Kacheln",label_list:"Liste",label_load_more:"Mehr laden",label_buy:"Kaufen",label_buy_now:"Jetzt kaufen",label_buy_today:"Heute kaufen",label_download:"Herunterladen",label_search_results:"Suchergebnisse",label_add:"Hinzufügen",label_edit:"Bearbeiten",label_delete:"Löschen",label_new:"Neu",label_sell:"Verkaufen",label_details:"Details",label_sorting:"Sortierung",label_finish:"Beenden",label_play:"Abspielen",label_pause:"Pause",label_stop:"Stopp",label_mute:"Stummschalten",label_loop:"Wiederholen",label_on:"an",label_off:"aus",label_rename_tab:"Tab umbenennen",label_close_tab:"Tab schließen",label_close_other_tabs:"Andere Tabs schließen",label_close_tabs_left:"Tabs links schließen",label_close_tabs_right:"Tabs rechts schließen",label_close_all_tabs:"Alle Tabs schließen",label_close_inactive_tabs:"Inaktive Tabs schließen",label_clear_input:"Eingabe löschen",label_reveal_password:"Passwort anzeigen",label_hide_password:"Passwort verbergen",label_generate_random:"Zufälligen Wert generieren",label_search_input:"Nach eingegebenem Wert suchen",label_note:"Notiz",label_tip:"Tipp",label_info:"Info",label_warning:"Warnung",label_question:"Frage",label_error:"Fehler",label_success:"Erfolg",label_caution:"Vorsicht",label_alert:"Alarm",label_bug:"Fehler",label_fuck:"Mist",label_important:"Wichtig",label_shit:"Scheiße",label_air:"Luft",label_select_all:"Alles auswählen",label_select_more:"Mehr auswählen...",label_select:"Auswählen",label_filter:"Filter",label_collapse:"Einklappen"}),Metro.i18n.add("fr",{weekStart:1,january:"Janvier",february:"Février",march:"Mars",april:"Avril",may:"Mai",june:"Juin",july:"Juillet",august:"Août",september:"Septembre",october:"Octobre",november:"Novembre",december:"Décembre",january_short:"Jan",february_short:"Fév",march_short:"Mar",april_short:"Avr",may_short:"Mai",june_short:"Juin",july_short:"Juil",august_short:"Aoû",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Déc",sunday:"Dimanche",monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sunday_short:"Dim",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mer",thursday_short:"Jeu",friday_short:"Ven",saturday_short:"Sam",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Annuler",label_done:"Terminé",label_today:"Aujourd'hui",label_now:"Maintenant",label_clear:"Effacer",label_help:"Aide",label_yes:"Oui",label_no:"Non",label_random:"Aléatoire",label_save:"Enregistrer",label_reset:"Réinitialiser",label_submit:"Soumettre",label_add_user_color:"Ajouter aux couleurs",label_send:"Envoyer",label_accept:"Accepter",label_cookies_title:"Ce site utilise des cookies",label_cookies_text:"Ce site utilise des cookies pour vous garantir la meilleure expérience sur notre site.",label_choose_file:"Choisir le(s) fichier(s)",label_drop_file:"Cliquez ou déposez le(s) fichier(s) ici",label_files_selected:"{n} fichier(s) sélectionné(s)",label_days:"jours",label_hours:"heures",label_minutes:"min",label_seconds:"sec",label_month:"mois",label_months:"mois",label_day:"jour",label_year:"année",label_years:"années",label_rows_count:"Afficher :",label_search:"Rechercher :",label_table_info:"Affichage de $1 à $2 sur $3 entrées",label_prev:"Préc",label_next:"Suiv",label_all:"Tout",label_inspector:"Inspecteur",label_goto_page:"Aller à",label_enter_page:"Entrer la page...",label_empty:"Rien à afficher",label_user_colors:"Couleurs utilisateur",label_tiles:"Tuiles",label_list:"Liste",label_load_more:"Charger plus",label_buy:"Acheter",label_buy_now:"Acheter maintenant",label_buy_today:"Acheter aujourd'hui",label_download:"Télécharger",label_search_results:"Résultats de recherche",label_add:"Ajouter",label_edit:"Modifier",label_delete:"Supprimer",label_new:"Nouveau",label_sell:"Vendre",label_details:"Détails",label_sorting:"Tri",label_finish:"Terminer",label_play:"Lire",label_pause:"Pause",label_stop:"Arrêter",label_mute:"Muet",label_loop:"Boucle",label_on:"act",label_off:"dés",label_rename_tab:"Renommer l'onglet",label_close_tab:"Fermer l'onglet",label_close_other_tabs:"Fermer les autres onglets",label_close_tabs_left:"Fermer les onglets à gauche",label_close_tabs_right:"Fermer les onglets à droite",label_close_all_tabs:"Fermer tous les onglets",label_close_inactive_tabs:"Fermer les onglets inactifs",label_clear_input:"Effacer l'entrée",label_reveal_password:"Afficher le mot de passe",label_hide_password:"Masquer le mot de passe",label_generate_random:"Générer une valeur aléatoire",label_search_input:"Rechercher la valeur saisie",label_note:"Note",label_tip:"Astuce",label_info:"Info",label_warning:"Avertissement",label_question:"Question",label_error:"Erreur",label_success:"Succès",label_caution:"Prudence",label_alert:"Alerte",label_bug:"Bug",label_fuck:"Merde",label_important:"Important",label_shit:"Fichu",label_air:"Air",label_select_all:"Tout sélectionner",label_select_more:"Sélectionner...",label_select:"Sélectionner",label_filter:"Filtrer",label_collapse:"Réduire"}),Metro.i18n.add("it",{weekStart:1,january:"Gennaio",february:"Febbraio",march:"Marzo",april:"Aprile",may:"Maggio",june:"Giugno",july:"Luglio",august:"Agosto",september:"Settembre",october:"Ottobre",november:"Novembre",december:"Dicembre",january_short:"Gen",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"Mag",june_short:"Giu",july_short:"Lug",august_short:"Ago",september_short:"Set",october_short:"Ott",november_short:"Nov",december_short:"Dic",sunday:"Domenica",monday:"Lunedì",tuesday:"Martedì",wednesday:"Mercoledì",thursday:"Giovedì",friday:"Venerdì",saturday:"Sabato",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mer",thursday_short:"Gio",friday_short:"Ven",saturday_short:"Sab",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"G",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Annulla",label_done:"Fatto",label_today:"Oggi",label_now:"Adesso",label_clear:"Cancella",label_help:"Aiuto",label_yes:"Sì",label_no:"No",label_random:"Casuale",label_save:"Salva",label_reset:"Reimposta",label_submit:"Invia",label_add_user_color:"Aggiungi ai colori",label_send:"Invia",label_accept:"Accetta",label_cookies_title:"Questo sito utilizza i cookie",label_cookies_text:"Questo sito utilizza i cookie per garantire la migliore esperienza sul nostro sito.",label_choose_file:"Scegli file",label_drop_file:"Clicca o trascina qui il file",label_files_selected:"{n} file selezionati",label_days:"giorni",label_hours:"ore",label_minutes:"min",label_seconds:"sec",label_month:"mese",label_months:"mesi",label_day:"giorno",label_year:"anno",label_years:"anni",label_rows_count:"Mostra:",label_search:"Cerca:",label_table_info:"Mostra da $1 a $2 di $3 elementi",label_prev:"Prec",label_next:"Succ",label_all:"Tutti",label_inspector:"Ispettore",label_goto_page:"Vai a",label_enter_page:"Inserisci pagina...",label_empty:"Niente da mostrare",label_user_colors:"Colori utente",label_tiles:"Piastrelle",label_list:"Lista",label_load_more:"Carica altro",label_buy:"Compra",label_buy_now:"Compra ora",label_buy_today:"Compra oggi",label_download:"Scarica",label_search_results:"Risultati di ricerca",label_add:"Aggiungi",label_edit:"Modifica",label_delete:"Elimina",label_new:"Nuovo",label_sell:"Vendi",label_details:"Dettagli",label_sorting:"Ordinamento",label_finish:"Termina",label_play:"Riproduci",label_pause:"Pausa",label_stop:"Arresta",label_mute:"Silenzia",label_loop:"Ripeti",label_on:"acc",label_off:"spe",label_rename_tab:"Rinomina scheda",label_close_tab:"Chiudi scheda",label_close_other_tabs:"Chiudi altre schede",label_close_tabs_left:"Chiudi schede a sinistra",label_close_tabs_right:"Chiudi schede a destra",label_close_all_tabs:"Chiudi tutte le schede",label_close_inactive_tabs:"Chiudi schede inattive",label_clear_input:"Cancella input",label_reveal_password:"Mostra password",label_hide_password:"Nascondi password",label_generate_random:"Genera valore casuale",label_search_input:"Cerca il valore inserito",label_note:"Nota",label_tip:"Suggerimento",label_info:"Info",label_warning:"Avviso",label_question:"Domanda",label_error:"Errore",label_success:"Successo",label_caution:"Attenzione",label_alert:"Allarme",label_bug:"Bug",label_fuck:"Cavolo",label_important:"Importante",label_shit:"Accidenti",label_air:"Aria",label_select_all:"Seleziona tutto",label_select_more:"Seleziona...",label_select:"Seleziona",label_filter:"Filtro",label_collapse:"Riduci"}),Metro.i18n.add("zh",{weekStart:0,january:"一月",february:"二月",march:"三月",april:"四月",may:"五月",june:"六月",july:"七月",august:"八月",september:"九月",october:"十月",november:"十一月",december:"十二月",january_short:"1月",february_short:"2月",march_short:"3月",april_short:"4月",may_short:"5月",june_short:"6月",july_short:"7月",august_short:"8月",september_short:"9月",october_short:"10月",november_short:"11月",december_short:"12月",sunday:"星期日",monday:"星期一",tuesday:"星期二",wednesday:"星期三",thursday:"星期四",friday:"星期五",saturday:"星期六",sunday_short:"日",monday_short:"一",tuesday_short:"二",wednesday_short:"三",thursday_short:"四",friday_short:"五",saturday_short:"六",sunday_short_2:"日",monday_short_2:"一",tuesday_short_2:"二",wednesday_short_2:"三",thursday_short_2:"四",friday_short_2:"五",saturday_short_2:"六",label_ok:"确定",label_cancel:"取消",label_done:"完成",label_today:"今天",label_now:"现在",label_clear:"清除",label_help:"帮助",label_yes:"是",label_no:"否",label_random:"随机",label_save:"保存",label_reset:"重置",label_submit:"提交",label_add_user_color:"添加到颜色",label_send:"发送",label_accept:"接受",label_cookies_title:"本网站使用Cookies",label_cookies_text:"本网站使用Cookies以确保您在我们的网站上获得最佳体验。",label_choose_file:"选择文件",label_drop_file:"点击或拖放文件到此处",label_files_selected:"已选择 {n} 个文件",label_days:"天",label_hours:"小时",label_minutes:"分钟",label_seconds:"秒",label_month:"月",label_months:"月",label_day:"天",label_year:"年",label_years:"年",label_rows_count:"显示：",label_search:"搜索：",label_table_info:"显示 $1 到 $2，共 $3 条记录",label_prev:"上一页",label_next:"下一页",label_all:"全部",label_inspector:"检查器",label_goto_page:"跳转到",label_enter_page:"输入页码...",label_empty:"没有内容显示",label_user_colors:"用户颜色",label_tiles:"网格",label_list:"列表",label_load_more:"加载更多",label_buy:"购买",label_buy_now:"立即购买",label_buy_today:"今天购买",label_download:"下载",label_search_results:"搜索结果",label_add:"添加",label_edit:"编辑",label_delete:"删除",label_new:"新建",label_sell:"出售",label_details:"详情",label_sorting:"排序",label_finish:"完成",label_play:"播放",label_pause:"暂停",label_stop:"停止",label_mute:"静音",label_loop:"循环",label_on:"开",label_off:"关",label_rename_tab:"重命名标签",label_close_tab:"关闭标签",label_close_other_tabs:"关闭其他标签",label_close_tabs_left:"关闭左侧标签",label_close_tabs_right:"关闭右侧标签",label_close_all_tabs:"关闭所有标签",label_close_inactive_tabs:"关闭未激活的标签",label_clear_input:"清除输入",label_reveal_password:"显示密码",label_hide_password:"隐藏密码",label_generate_random:"生成随机值",label_search_input:"搜索输入的值",label_note:"备注",label_tip:"提示",label_info:"信息",label_warning:"警告",label_question:"问题",label_error:"错误",label_success:"成功",label_caution:"注意",label_alert:"警报",label_bug:"错误",label_fuck:"糟糕",label_important:"重要",label_shit:"糟糕",label_air:"空气",label_select_all:"全选",label_select_more:"选择更多...",label_select:"选择",label_filter:"过滤",label_collapse:"折叠"}),Metro.i18n.add("hi",{weekStart:0,january:"जनवरी",february:"फरवरी",march:"मार्च",april:"अप्रैल",may:"मई",june:"जून",july:"जुलाई",august:"अगस्त",september:"सितंबर",october:"अक्टूबर",november:"नवंबर",december:"दिसंबर",january_short:"जन",february_short:"फर",march_short:"मार्च",april_short:"अप्रै",may_short:"मई",june_short:"जून",july_short:"जुल",august_short:"अग",september_short:"सित",october_short:"अक्टू",november_short:"नव",december_short:"दिस",sunday:"रविवार",monday:"सोमवार",tuesday:"मंगलवार",wednesday:"बुधवार",thursday:"गुरुवार",friday:"शुक्रवार",saturday:"शनिवार",sunday_short:"रवि",monday_short:"सोम",tuesday_short:"मंगल",wednesday_short:"बुध",thursday_short:"गुरु",friday_short:"शुक्र",saturday_short:"शनि",sunday_short_2:"र",monday_short_2:"सो",tuesday_short_2:"मं",wednesday_short_2:"बु",thursday_short_2:"गु",friday_short_2:"शु",saturday_short_2:"श",label_ok:"ठीक है",label_cancel:"रद्द करें",label_done:"समाप्त",label_today:"आज",label_now:"अभी",label_clear:"साफ करें",label_help:"मदद",label_yes:"हाँ",label_no:"नहीं",label_random:"यादृच्छिक",label_save:"सहेजें",label_reset:"रीसेट करें",label_submit:"जमा करें",label_add_user_color:"रंगों में जोड़ें",label_send:"भेजें",label_accept:"स्वीकार करें",label_cookies_title:"यह साइट कुकीज़ का उपयोग करती है",label_cookies_text:"यह वेबसाइट यह सुनिश्चित करने के लिए कुकीज़ का उपयोग करती है कि आपको हमारी वेबसाइट पर सबसे अच्छा अनुभव मिले।",label_choose_file:"फ़ाइलें चुनें",label_drop_file:"यहां क्लिक करें या फ़ाइलें छोड़ें",label_files_selected:"{n} फ़ाइलें चुनी गईं",label_days:"दिन",label_hours:"घंटे",label_minutes:"मिनट",label_seconds:"सेकंड",label_month:"महीना",label_months:"महीने",label_day:"दिन",label_year:"साल",label_years:"साल",label_rows_count:"दिखाएं:",label_search:"खोजें:",label_table_info:"$1 से $2 तक $3 प्रविष्टियां दिखा रहा है",label_prev:"पिछला",label_next:"अगला",label_all:"सभी",label_inspector:"निरीक्षक",label_goto_page:"पृष्ठ पर जाएं",label_enter_page:"पृष्ठ दर्ज करें...",label_empty:"दिखाने के लिए कुछ नहीं",label_user_colors:"उपयोगकर्ता रंग",label_tiles:"टाइल्स",label_list:"सूची",label_load_more:"और लोड करें",label_buy:"खरीदें",label_buy_now:"अभी खरीदें",label_buy_today:"आज खरीदें",label_download:"डाउनलोड करें",label_search_results:"खोज परिणाम",label_add:"जोड़ें",label_edit:"संपादित करें",label_delete:"हटाएं",label_new:"नया",label_sell:"बेचें",label_details:"विवरण",label_sorting:"छंटाई",label_finish:"समाप्त करें",label_play:"चलाएं",label_pause:"रोकें",label_stop:"बंद करें",label_mute:"म्यूट करें",label_loop:"दोहराएं",label_on:"चालू",label_off:"बंद",label_rename_tab:"टैब का नाम बदलें",label_close_tab:"टैब बंद करें",label_close_other_tabs:"अन्य टैब बंद करें",label_close_tabs_left:"बाएं टैब बंद करें",label_close_tabs_right:"दाएं टैब बंद करें",label_close_all_tabs:"सभी टैब बंद करें",label_close_inactive_tabs:"निष्क्रिय टैब बंद करें",label_clear_input:"इनपुट साफ करें",label_reveal_password:"पासवर्ड दिखाएं",label_hide_password:"पासवर्ड छिपाएं",label_generate_random:"यादृच्छिक मान उत्पन्न करें",label_search_input:"दर्ज किए गए मान को खोजें",label_note:"नोट",label_tip:"सुझाव",label_info:"जानकारी",label_warning:"चेतावनी",label_question:"प्रश्न",label_error:"त्रुटि",label_success:"सफलता",label_caution:"सावधानी",label_alert:"चेतावनी",label_bug:"बग",label_fuck:"धत्त",label_important:"महत्वपूर्ण",label_shit:"बकवास",label_air:"हवा",label_select_all:"सभी का चयन करें",label_select_more:"चुनें...",label_select:"चुनें",label_filter:"फ़िल्टर",label_collapse:"संकुचित करें"}),Metro.i18n.add("pl",{weekStart:1,january:"Styczeń",february:"Luty",march:"Marzec",april:"Kwiecień",may:"Maj",june:"Czerwiec",july:"Lipiec",august:"Sierpień",september:"Wrzesień",october:"Październik",november:"Listopad",december:"Grudzień",january_short:"Sty",february_short:"Lut",march_short:"Mar",april_short:"Kwi",may_short:"Maj",june_short:"Cze",july_short:"Lip",august_short:"Sie",september_short:"Wrz",october_short:"Paź",november_short:"Lis",december_short:"Gru",sunday:"Niedziela",monday:"Poniedziałek",tuesday:"Wtorek",wednesday:"Środa",thursday:"Czwartek",friday:"Piątek",saturday:"Sobota",sunday_short:"Nd",monday_short:"Pn",tuesday_short:"Wt",wednesday_short:"Śr",thursday_short:"Czw",friday_short:"Pt",saturday_short:"Sob",sunday_short_2:"N",monday_short_2:"P",tuesday_short_2:"W",wednesday_short_2:"Ś",thursday_short_2:"C",friday_short_2:"P",saturday_short_2:"S",label_ok:"OK",label_cancel:"Anuluj",label_done:"Gotowe",label_today:"Dzisiaj",label_now:"Teraz",label_clear:"Wyczyść",label_help:"Pomoc",label_yes:"Tak",label_no:"Nie",label_random:"Losowy",label_save:"Zapisz",label_reset:"Resetuj",label_submit:"Wyślij",label_add_user_color:"Dodaj do kolorów",label_send:"Wyślij",label_accept:"Akceptuj",label_cookies_title:"Ta strona używa plików cookie",label_cookies_text:"Ta strona używa plików cookie, aby zapewnić najlepsze doświadczenie na naszej stronie.",label_choose_file:"Wybierz plik(i)",label_drop_file:"Kliknij lub upuść plik(i) tutaj",label_files_selected:"Wybrano {n} plik(ów)",label_days:"dni",label_hours:"godziny",label_minutes:"minuty",label_seconds:"sekundy",label_month:"miesiąc",label_months:"miesiące",label_day:"dzień",label_year:"rok",label_years:"lata",label_rows_count:"Pokaż:",label_search:"Szukaj:",label_table_info:"Wyświetlanie od $1 do $2 z $3 wpisów",label_prev:"Poprzedni",label_next:"Następny",label_all:"Wszystko",label_inspector:"Inspektor",label_goto_page:"Idź do",label_enter_page:"Wpisz stronę...",label_empty:"Brak danych do wyświetlenia",label_user_colors:"Kolory użytkownika",label_tiles:"Kafelki",label_list:"Lista",label_load_more:"Załaduj więcej",label_buy:"Kup",label_buy_now:"Kup teraz",label_buy_today:"Kup dzisiaj",label_download:"Pobierz",label_search_results:"Wyniki wyszukiwania",label_add:"Dodaj",label_edit:"Edytuj",label_delete:"Usuń",label_new:"Nowy",label_sell:"Sprzedaj",label_details:"Szczegóły",label_sorting:"Sortowanie",label_finish:"Zakończ",label_play:"Odtwórz",label_pause:"Pauza",label_stop:"Zatrzymaj",label_mute:"Wycisz",label_loop:"Zapętl",label_on:"włą",label_off:"wył",label_rename_tab:"Zmień nazwę karty",label_close_tab:"Zamknij kartę",label_close_other_tabs:"Zamknij inne karty",label_close_tabs_left:"Zamknij karty po lewej",label_close_tabs_right:"Zamknij karty po prawej",label_close_all_tabs:"Zamknij wszystkie karty",label_close_inactive_tabs:"Zamknij nieaktywne karty",label_clear_input:"Wyczyść pole",label_reveal_password:"Pokaż hasło",label_hide_password:"Ukryj hasło",label_generate_random:"Wygeneruj losową wartość",label_search_input:"Szukaj wprowadzonej wartości",label_note:"Notatka",label_tip:"Wskazówka",label_info:"Informacja",label_warning:"Ostrzeżenie",label_question:"Pytanie",label_error:"Błąd",label_success:"Sukces",label_caution:"Uwaga",label_alert:"Alarm",label_bug:"Błąd",label_fuck:"Cholera",label_important:"Ważne",label_shit:"Kurka",label_air:"Powietrze",label_select_all:"Zaznacz wszystko",label_select_more:"Wybierz...",label_select:"Wybierz",label_filter:"Filtruj",label_collapse:"Zwiń"}),typeof Array.prototype.shuffle!="function"&&(Array.prototype.shuffle=function(){let e=this.length,a,f;for(;e!==0;)f=Math.floor(Math.random()*e),e-=1,a=this[e],this[e]=this[f],this[f]=a;return this}),typeof Array.prototype.clone!="function"&&(Array.prototype.clone=function(){return this.slice(0)}),typeof Array.prototype.unique!="function"&&(Array.prototype.unique=function(){let e=this.concat();for(let a=0;a<e.length;++a)for(let f=a+1;f<e.length;++f)e[a]===e[f]&&e.splice(f--,1);return e}),typeof Array.prototype.pack!="function"&&(Array.prototype.pack=function(){return this.filter(e=>e!=null&&`${e}`.trim()!=="")}),Number.prototype.format=function(e,a,f,t){let i=`\\d(?=(\\d{${a||3}})+${e>0?"\\D":"$"})`,r=this.toFixed(Math.max(0,~~e));return(t?r.replace(".",t):r).replace(new RegExp(i,"g"),`$&${f||","}`)},String.prototype.toArray=function(e=",",a="string",f="",t="en",i=!1){let r=`${this}`.split(e).map(d=>{let m;switch(a){case"int":case"integer":m=Number.isNaN(d)?d.trim():Number.parseInt(d);break;case"number":case"float":m=Number.isNaN(d)?d:Number.parseFloat(d);break;case"date":m=f?Datetime.from(d,f,t):datetime(d);break;case"boolean":{switch(d){case!0:case"true":case 1:case"1":case"on":case"yes":case"+":m=!0;break;default:m=!1}break}default:m=d.trim()}return m});return i?r.pack():r},((e,a)=>{e.utils={elementId:f=>`${f}-${new Date().getTime()}${a.random(1,1e3)}`,secondsToTime:f=>{let t=Math.floor(f%31536e3/86400),i=Math.floor(f%31536e3%86400/3600),r=Math.floor(f%31536e3%86400%3600/60),d=Math.round(f%31536e3%86400%3600%60);return{d:t,h:i,m:r,s:d}},secondsToFormattedString:f=>{let t=Number.parseInt(f,10),i=Math.floor(t/3600),r=Math.floor((t-i*3600)/60),d=t-i*3600-r*60;return[Str.lpad(i,"0",2),Str.lpad(r,"0",2),Str.lpad(d,"0",2)].join(":")},func:f=>new Function("a",f),exec:function(f,t,i){let r;if(f==null)return!1;let d=this.isFunc(f);d===!1&&(d=this.func(f));try{r=d.apply(i,t)}catch(m){if(r=null,globalThis.METRO_THROWS===!0)throw m}return r},embedUrl:f=>{let t=f;return t.indexOf("youtu.be")!==-1&&(t=`https://www.youtube.com/embed/${f.split("/").pop()}`),`<div class='embed-container'><iframe src='${t}'></iframe></div>`},isVisible:function(f){let t=a(f)[0];return this.getStyleOne(t,"display")!=="none"&&this.getStyleOne(t,"visibility")!=="hidden"&&t.offsetParent!==null},isUrl:f=>/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:?\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(f),isTag:f=>/^<\/?[\w\s="\/.':;#-\/?]+>/gi.test(f),isEmbedObject:f=>{let t=["iframe","object","embed","video"],i=!1;return a.each(t,function(){(typeof f=="string"&&f.toLowerCase()===this||f.nodeType!==void 0&&f.tagName.toLowerCase()===this)&&(i=!0)}),i},isVideoUrl:f=>/youtu\.be|youtube|twitch|vimeo/gi.test(f),isDate:function(f,t,i="en-US"){let r;if(this.isDateObject(f))return!0;try{return r=t?Datetime.from(f,t,i):datetime(f),Datetime.isDatetime(r)}catch{return!1}},isDateObject:f=>typeof f=="object"&&f.getMonth!==void 0,isInt:f=>!Number.isNaN(f)&&+f%1===0,isFloat:f=>!Number.isNaN(f)&&+f%1!==0||/^\d*\.\d+$/.test(f),isFunc:function(f){return this.isType(f,"function")},isObject:function(f){return this.isType(f,"object")},isObject2:f=>typeof f=="object"&&!Array.isArray(f),isType:function(f,t="undefined"){if(!this.isValue(f))return!1;if(typeof f===t||`${t}`.toLowerCase()==="tag"&&this.isTag(f)||`${t}`.toLowerCase()==="url"&&this.isUrl(f)||`${t}`.toLowerCase()==="array"&&Array.isArray(f))return f;if(t!=="string"&&this.isTag(f)||this.isUrl(f))return!1;if(typeof window[f]===t)return window[f];if(typeof f=="string"&&f.indexOf(".")===-1||typeof f=="string"&&/[/\s([]+/gm.test(f)||typeof f=="number"&&t.toLowerCase()!=="number")return!1;let i=f.split("."),r,d=window;for(r=0;r<i.length;r++)d=d[i[r]];return typeof d===t?d:!1},$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,isMetroObject:(f,t)=>{let i=a(f),r=e.getPlugin(f,t);return i.length===0?(console.warn(`${t} ${f} not found!`),!1):r===void 0?(console.warn(`Element not contain role ${t}! Please add attribute data-role="${t}" to element ${f}`),!1):!0},isJQuery:f=>typeof globalThis.jQuery<"u"&&f instanceof globalThis.jQuery,isDom:f=>typeof Dom<"u"&&f instanceof Dom,isQ:function(f){return this.isJQuery(f)||this.isDom(f)},isOutsider:function(f){let t=a(f),i=t.clone();i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),t.parent().append(i);let r=this.inViewport(i[0]);return i.remove(),!r},inViewport:function(f){let t=this.rect(f);return t.top>=0&&t.left>=0&&t.bottom<=(globalThis.innerHeight||document.documentElement.clientHeight)&&t.right<=(globalThis.innerWidth||document.documentElement.clientWidth)},viewportOutByWidth:function(f){let t=this.rect(f),i=globalThis.innerWidth||document.documentElement.clientWidth;return t.right>i},viewportOutByHeight:function(f){let t=this.rect(f),i=globalThis.innerHeight||document.documentElement.clientHeight;return t.bottom>i},viewportOut:function(f){return this.viewportOutByWidth(f)||this.viewportOutByHeight(f)},rect:f=>f.getBoundingClientRect(),getCursorPosition:function(f,t){let i=this.rect(f);return{x:this.pageXY(t).x-i.left-globalThis.scrollX,y:this.pageXY(t).y-i.top-globalThis.scrollY}},getCursorPositionX:function(f,t){return this.getCursorPosition(f,t).x},getCursorPositionY:function(f,t){return this.getCursorPosition(f,t).y},objectLength:f=>Object.keys(f).length,percent:(f,t,i)=>{if(f===0)return 0;let r=t*100/f;return i===!0?Math.round(r):Math.round(r*100)/100},objectShift:f=>{let t=0;return a.each(f,i=>{(t===0||t>i)&&(t=i)}),delete f[t],f},objectDelete:(f,t)=>{t in f&&delete f[t]},arrayDeleteByMultipleKeys:(f,t)=>{for(let i of t)delete f[i];return f.filter(i=>i!==void 0)},arrayDelete:(f,t)=>{let i=f.indexOf(t);i>-1&&f.splice(i,1)},arrayDeleteByKey:(f,t)=>{f.splice(t,1)},nvl:(f,t)=>f??t,objectClone:f=>{let t={};for(let i in f)a.hasProp(f,i)&&(t[i]=f[i]);return t},github:async function(f,t){let i=await fetch(`https://api.github.com/repos/${f}`);if(!i.ok)return;let r=await i.json();this.exec(t,[r])},pageHeight:()=>{let f=document.body,t=document.documentElement;return Math.max(f.scrollHeight,f.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)},cleanPreCode:f=>{let t=Array.prototype.slice.call(document.querySelectorAll(f),0);for(let i of t){let r=i.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(r)){i.textContent=r;continue}let d,m="",_=/^[\t ]+/gm,C,k=1e3;for(;d=_.exec(r);)C=d[0].length,C<k&&(k=C,m=d[0]);k!==1e3&&(i.textContent=r.replace(new RegExp(`^${m}`,"gm"),"").trim())}},coords:f=>{let t=a(f)[0].getBoundingClientRect();return{top:t.top+globalThis.pageYOffset,left:t.left+globalThis.pageXOffset}},positionXY:function(f,t,i){switch(t){case"client":return this.clientXY(f,i);case"screen":return this.screenXY(f,i);case"page":return this.pageXY(f,i);default:return{x:0,y:0}}},clientXY:(f,t="touches")=>({x:f[t]?f[t][0].clientX:f.clientX,y:f[t]?f[t][0].clientY:f.clientY}),screenXY:(f,t="touches")=>({x:f[t]?f[t][0].screenX:f.screenX,y:f[t]?f[t][0].screenY:f.screenY}),pageXY:(f,t="touches")=>({x:f[t]?f[t][0].pageX:f.pageX,y:f[t]?f[t][0].pageY:f.pageY}),isRightMouse:f=>"which"in f?f.which===3:"button"in f?f.button===2:void 0,hiddenElementSize:(f,t=!1)=>{let i=a(f).clone(!0);i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),a("body").append(i);let r=i.outerWidth(t),d=i.outerHeight(t);return i.remove(),{width:r,height:d}},getStyle:f=>{let t=a(f)[0];return globalThis.getComputedStyle(t)},getStyleOne:function(f,t){return this.getStyle(f).getPropertyValue(t)},getInlineStyles:f=>{let t,i,r={},d=a(f)[0];for(t=0,i=d.style.length;t<i;t++){let m=d.style[t];r[m]=d.style[m]}return r},encodeURI:f=>encodeURI(f).replace(/%5B/g,"[").replace(/%5D/g,"]"),updateURIParameter:(f,t,i)=>{let r=new RegExp(`([?&])${t}=.*?(&|$)`,"i"),d=f.indexOf("?")!==-1?"&":"?";return f.match(r)?f.replace(r,`$1${t}=${i}$2`):`${f+d+t}=${i}`},getURIParameter:(f=globalThis.location.href,t="")=>{let i=t.replace(/[\[\]]/g,"\\$&"),r=new RegExp(`[?&]${i}(=([^&#]*)|&|#|$)`).exec(f);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},getLocales:()=>Object.keys(e.locales),addLocale:f=>{e.locales=a.extend({},e.locales,f)},aspectRatioH:(f,t)=>{if(t==="16/9")return f*9/16;if(t==="21/9")return f*9/21;if(t==="4/3")return f*3/4},aspectRatioW:(f,t)=>{if(t==="16/9")return f*16/9;if(t==="21/9")return f*21/9;if(t==="4/3")return f*4/3},valueInObject:(f,t)=>Object.values(f).indexOf(t)>-1,keyInObject:(f,t)=>Object.keys(f).indexOf(t)>-1,inObject:(f,t,i)=>f[t]!==void 0&&f[t]===i,newCssSheet:f=>{let t=document.createElement("style");return f!==void 0&&t.setAttribute("media",f),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet},addCssRule:(f,t,i,r)=>{f.insertRule(`${t}{${i}}`,r)},media:f=>globalThis.matchMedia(f).matches,mediaModes:()=>globalThis.METRO_MEDIA,mediaExist:f=>globalThis.METRO_MEDIA.indexOf(f)>-1,inMedia:f=>globalThis.METRO_MEDIA.indexOf(f)>-1&&globalThis.METRO_MEDIA.indexOf(f)===globalThis.METRO_MEDIA.length-1,isValue:f=>f!=null&&f!=="",isNull:f=>f==null,isNegative:f=>Number.parseFloat(f)<0,isPositive:f=>Number.parseFloat(f)>0,isZero:f=>Number.parseFloat(f.toFixed(2))===0,between:(f,t,i,r)=>r===!0?f>=t&&f<=i:f>t&&f<i,parseMoney:f=>Number(Number.parseFloat(f.replace(/[^0-9-.]/g,""))),parseCard:f=>f.replace(/[^0-9]/g,""),parsePhone:f=>(void 0).parseCard(f),parseNumber:(f,t,i)=>f.replace(new RegExp(`\\${t}`,"g"),"").replace(new RegExp(`\\${i}`,"g"),"."),nearest:(f,t,i)=>{let r=f/t;return r=Math[i===!0?"floor":"ceil"](r)*t,r},bool:f=>{let t;switch(f){case!0:case"true":case 1:case"1":case"on":case"yes":case"+":t=!0;break;default:t=!1}return t},decCount:f=>f%1===0?0:f.toString().split(".")[1].length,classNames:(...f)=>{let t=[];for(let i of f)if(i)if(typeof i=="string")t.push(i);else if(e.utils.isObject(i))for(let r in i)i[r]&&t.push(r);else e.utils.nothing();return t.join(" ")},join:(...f)=>{let t=f.pop(),i=[];for(let r of f)r&&i.push(e.utils.isObject(r)?Object.values(r)[0]:r);return i.join(t)},copy2clipboard:(f,t)=>{navigator.clipboard.writeText(f).then(()=>{e.utils.exec(t,[f])})},getCssVar:f=>{let t=document.documentElement;return getComputedStyle(t).getPropertyValue(f)},scrollTo:(f,t)=>{(typeof f=="string"?a(f)[0]:f).scrollIntoView({...t,behavior:"smooth",block:"start"})}}})(Metro,Dom),((e,a)=>{let f={duration:300,ease:"linear"};e.Effects={switchIn:t=>{a(t).hide().css({left:0,top:0}).show()},switchOut:t=>{a(t).hide()},switch:function(t,i){this.switchOut(t),this.switchIn(i)},slideUpIn:(t,i)=>{let r=a(t),d=r.parent().outerHeight(!0),m=a.extend({},f,i);r.css({top:d,left:0,zIndex:2}).animate({draw:{top:0,opacity:1},dur:m.duration,ease:m.ease})},slideUpOut:(t,i)=>{let r=a(t),d=r.parent().outerHeight(!0),m=a.extend({},f,i);r.css({zIndex:1}).animate({draw:{top:-d,opacity:0},dur:m.duration,ease:m.ease})},slideUp:function(t,i,r){this.slideUpOut(t,r),this.slideUpIn(i,r)},slideDownIn:(t,i)=>{let r=a(t),d=r.parent().outerHeight(!0),m=a.extend({},f,i);r.css({left:0,top:-d,zIndex:2}).animate({draw:{top:0,opacity:1},dur:m.duration,ease:m.ease})},slideDownOut:(t,i)=>{let r=a(t),d=r.parent().outerHeight(!0),m=a.extend({},f,i);r.css({zIndex:1}).animate({draw:{top:d,opacity:0},dur:m.duration,ease:m.ease})},slideDown:function(t,i,r){this.slideDownOut(t,r),this.slideDownIn(i,r)},slideLeftIn:(t,i)=>{let r=a(t),d=r.parent().outerWidth(!0),m=a.extend({},f,i);r.css({left:d,zIndex:2}).animate({draw:{left:0,opacity:1},dur:m.duration,ease:m.ease})},slideLeftOut:(t,i)=>{let r=a(t),d=r.parent().outerWidth(!0),m=a.extend({},f,i);r.css({zIndex:1}).animate({draw:{left:-d,opacity:0},dur:m.duration,ease:m.ease})},slideLeft:function(t,i,r){this.slideLeftOut(t,r),this.slideLeftIn(i,r)},slideRightIn:(t,i)=>{let r=a(t),d=r.parent().outerWidth(!0),m=a.extend({},f,i);r.css({left:-d,zIndex:2}).animate({draw:{left:0,opacity:1},dur:m.duration,ease:m.ease})},slideRightOut:(t,i)=>{let r=a(t),d=r.parent().outerWidth(!0),m=a.extend({},f,i);r.css({zIndex:1}).animate({draw:{left:d,opacity:0},dur:m.duration,ease:m.ease})},slideRight:function(t,i,r){this.slideRightOut(t,r),this.slideRightIn(i,r)},fadeIn:(t,i)=>{let r=a.extend({},f,i);a(t).css({top:0,left:0,opacity:0}).animate({draw:{opacity:1},dur:r.duration,ease:r.ease})},fadeOut:(t,i)=>{let r=a.extend({},f,i);a(t).animate({draw:{opacity:0},dur:r.duration,ease:r.ease})},fade:function(t,i,r){this.fadeOut(t,r),this.fadeIn(i,r)},zoomIn:(t,i)=>{let r=a.extend({},f,i);a(t).css({top:0,left:0,opacity:0,transform:"scale(3)",zIndex:2}).animate({draw:{scale:1,opacity:1},dur:r.duration,ease:r.ease})},zoomOut:(t,i)=>{let r=a.extend({},f,i);a(t).css({zIndex:1}).animate({draw:{scale:3,opacity:0},dur:r.duration,ease:r.ease})},zoom:function(t,i,r){this.zoomOut(t,r),this.zoomIn(i,r)},swirlIn:(t,i)=>{let r=a.extend({},f,i);a(t).css({top:0,left:0,opacity:0,transform:"scale(3) rotate(180deg)",zIndex:2}).animate({draw:{scale:1,rotate:0,opacity:1},dur:r.duration,ease:r.ease})},swirlOut:(t,i)=>{let r=a.extend({},f,i);a(t).css({zIndex:1}).animate({draw:{scale:3,rotate:"180deg",opacity:0},dur:r.duration,ease:r.ease})},swirl:function(t,i,r){this.swirlOut(t,r),this.swirlIn(i,r)}}})(Metro,Dom),((e,a)=>{let f={accordionDeferred:0,showMarker:!0,material:!1,duration:100,oneFrame:!0,showActive:!0,clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:e.noop,onFrameBeforeOpen:e.noop_true,onFrameClose:e.noop,onFrameBeforeClose:e.noop_true,onAccordionCreate:e.noop};e.accordionSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroAccordionSetup<"u"&&e.accordionSetup(globalThis.metroAccordionSetup),e.Component("accordion",{init:function(t,i){return this._super(i,t,f),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:t})},_createStructure:function(){let t=this,i=this.element,r=this.options,d=i.children(".frame"),m=i.children(".frame.active"),_;i.id()||i.id(Hooks.useId("accordion")),i.addClass("accordion").addClass(r.clsAccordion),d.addClass(r.clsFrame).each(function(){let C=a(this),k=C.children(".heading"),E=C.children(".content"),F=Hooks.useId("accordion-heading"),P=Hooks.useId("accordion-content");k.attr({id:F,role:"button","aria-expanded":C.hasClass("active")?"true":"false","aria-controls":P,tabindex:"0"}),E.attr({id:P,role:"region","aria-labelledby":F}),k.addClass(r.clsHeading),E.addClass(r.clsContent)}),r.showMarker===!0&&i.addClass("marker-on"),r.material===!0&&i.addClass("material"),m.length===0?_=d[0]:_=m[0],this._hideAll(),r.showActive===!0&&(r.oneFrame===!0?this._openFrame(_):a.each(m,function(){t._openFrame(this)}))},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.children(".frame.active");i.on("keydown",".heading",function(m){let _=a(this),C=_.parent();if(_.closest(".accordion")[0]!==i[0])return!1;if((m.keyCode===13||m.keyCode===32)&&(m.preventDefault(),C.hasClass("active")?d.length===1&&r.oneFrame||t._closeFrame(C):t._openFrame(C)),m.keyCode===38||m.keyCode===40){m.preventDefault();let k=i.children(".frame"),E=k.index(C),F;m.keyCode===38?F=(E-1+k.length)%k.length:F=(E+1)%k.length,k.eq(F).children(".heading").focus()}}),i.on(e.events.click,".heading",function(){let m=a(this),_=m.parent();if(m.closest(".accordion")[0]!==i[0])return!1;_.hasClass("active")?d.length===1&&r.oneFrame||t._closeFrame(_):t._openFrame(_)})},_openFrame:function(t){let i=this.element,r=this.options,d=a(t);if(e.utils.exec(r.onFrameBeforeOpen,[d[0]],i[0])===!1)return!1;r.oneFrame===!0&&this._closeAll(d[0]),d.addClass("active").addClass(r.clsActiveFrame),d.children(".heading").addClass(r.clsActiveFrameHeading),d.children(".content").addClass(r.clsActiveFrameContent).slideDown(r.duration),this._fireEvent("frameOpen",{frame:d[0]})},_closeFrame:function(t){let i=this.element,r=this.options,d=a(t);d.hasClass("active")&&e.utils.exec(r.onFrameBeforeClose,[d[0]],i[0])!==!1&&(d.removeClass("active").removeClass(r.clsActiveFrame),d.children(".heading").removeClass(r.clsActiveFrameHeading),d.children(".content").removeClass(r.clsActiveFrameContent).slideUp(r.duration),this._fireEvent("frameClose",{frame:d[0]}))},_closeAll:function(t){let i=this,r=this.element.children(".frame");a.each(r,function(){t!==this&&i._closeFrame(this)})},_hideAll:function(){let t=this.element.children(".frame");a.each(t,function(){a(this).children(".content").hide()})},_openAll:function(){let t=this,i=this.element.children(".frame");a.each(i,function(){t._openFrame(this)})},open:function(t){let i=this.element.children(".frame").eq(t);this._openFrame(i)},close:function(t){let i=this.element.children(".frame").eq(t);this._closeFrame(i)},toggle:function(t){let i=this.element.children(".frame").eq(t);i.hasClass("active")?this._closeFrame(i):this._openFrame(i)},getActive:function(){let t=this.element.children(".frame"),i=[];return t.each(function(r){a(this).hasClass("active")&&i.push(r)}),i},changeAttribute:(t,i)=>{},destroy:function(){let t=this.element;return t.off(e.events.click,".heading"),t}})})(Metro,Dom),((e,a)=>{let f={onClick:e.noop,onActionClick:e.noop,onActionButtonCreate:e.noop};e.actionButtonSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroActionButtonSetup<"u"&&e.actionButtonSetup(globalThis.metroActionButtonSetup),e.Component("action-button",{init:function(t,i){return this._super(i,t,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("action-button-create")},_createStructure:function(){let t=this.element,i=t.find(".actions li, .actions button");t.addClass("action-button"),t.cssVar("num-actions",i.length),i.length>8&&t.cssVar("action-shift",`${60+(i.length-8)*6}px`),i.each(function(r){a(this).cssVar("action-index",r).addClass("sub-action")}),t.children("button").addClass("main-action")},_createEvents:function(){let t=this,i=this.element;i.on(e.events.click,".actions li, .actions button",function(r){t._fireEvent("action-click",{action:this})}),i.on(e.events.click,".main-action",function(r){r.preventDefault(),r.stopPropagation(),a(this).toggleClass("active")})},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}}),a(document).on("click",t=>{a("[data-role-actionbutton]").each((i,r)=>{a(r).children("button").removeClass("active")})})})(Metro,Dom),((e,a)=>{let f={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,title:"",content:"",customButtons:null,actionsAlign:"right",defaultActions:!0,defaultActionButtons:"ok,cancel,help",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"auto",height:"auto",closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onOk:e.noop,onCancel:e.noop,onHelp:e.noop,onShow:e.noop,onHide:e.noop,onOpen:e.noop,onClose:e.noop,onDialogCreate:e.noop};e.dialogSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroDialogSetup<"u"&&e.dialogSetup(globalThis.metroDialogSetup),e.Component("dialog",{_counter:0,init:function(t,i){return this._super(i,t,f,{interval:null,overlay:null,id:e.utils.elementId("dialog")}),this},_create:function(){this._build()},_build:function(){let t=this.element,i=this.options,r=this.strings,d=a("body"),m;if(t.addClass("dialog"),i.title!==""&&this.setTitle(i.title),i.content!==""&&this.setContent(i.content),i.defaultActions===!0||i.customButtons){let C=t.find(".dialog-actions"),k;if(C.length===0&&(C=a("<div>").addClass("dialog-actions").addClass(`text-${i.actionsAlign}`).appendTo(t)),i.defaultActions===!0&&t.find(".dialog-actions > *").length===0)for(let F of i.defaultActionButtons.toArray(","))k=a("<button>").addClass(F!=="help"?".js-dialog-close":"").addClass(i.clsDefaultAction).html(r[`label_${F}`]),k.appendTo(C),F==="ok"&&k.on(e.events.click,()=>{e.utils.exec(i.onOk,[t])}),F==="help"&&k.on(e.events.click,()=>{e.utils.exec(i.onHelp,[t])}),F==="cancel"&&k.on(e.events.click,()=>{e.utils.exec(i.onCancel,[t])});let E=e.utils.isObject(i.customButtons);Array.isArray(E)&&a.each(E,function(){k=a("<button>").addClass("button").addClass(this.cls).html(this.text),this.onclick&&k.on(e.events.click,()=>{e.utils.exec(this.onclick,[t])}),k.appendTo(C)})}i.overlay===!0&&(m=this._overlay(),this.overlay=m),i.closeAction===!0&&t.on(e.events.click,".js-dialog-close",()=>{this.close()});let _=t.find("closer");_.length===0&&(_=a("<span>").addClass("closer js-dialog-close"),_.appendTo(t)),i.closeButton!==!0&&_.hide(),t.css({height:i.height,visibility:"hidden",top:"100%"}),i.width!=="auto"&&t.css({width:i.width}),t.addClass(i.clsDialog),t.find(".dialog-title").addClass(i.clsTitle),t.find(".dialog-content").addClass(i.clsContent),t.find(".dialog-actions").addClass(i.clsAction),t.appendTo(d),i.show&&this.open(),a(globalThis).on(e.events.resize,()=>{this.setPosition()},{ns:this.id}),this._fireEvent("dialog-create",{element:t})},_overlay:function(){let t=this.options,i=a("<div>");return i.addClass("overlay").addClass(t.clsOverlay),t.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(t.overlayColor),t.overlayAlpha)}),i},hide:function(t){let i=this.element,r=this.options,d=0;r.onHide!==e.noop&&(d=500,this._fireEvent("hide")),setTimeout(()=>{e.utils.exec(t,null,i[0]),i.css({visibility:"hidden",top:"100%"})},d)},show:function(t){let i=this.element;this.setPosition(),i.css({visibility:"visible"}),this._fireEvent("show"),e.utils.exec(t,null,i[0])},setPosition:function(){let t=this.element,i=this.options,r,d;i.toTop!==!0&&i.toBottom!==!0?(r=(a(globalThis).height()-t.outerHeight())/2,r<0&&(r=0),d="auto"):(i.toTop===!0&&(r=0,d="auto"),i.toTop!==!0&&i.toBottom===!0&&(d=0,r="auto")),t.css({top:r,bottom:d,left:(a(globalThis).width()-t.outerWidth())/2})},setContent:function(t){let i=this.element,r=i.find(".dialog-content");r.length===0&&(r=a("<div>").addClass("dialog-content"),r.appendTo(i)),e.utils.isQ(t)?t.appendTo(r):e.utils.isFunc(t)?r.html(e.utils.exec(t)):r.html(t)},setTitle:function(t){let i=this.element,r=i.find(".dialog-title");r.length===0&&(r=a("<div>").addClass("dialog-title"),r.appendTo(i)),r.html(t)},close:function(){let t=this.element,i=this.options;e.utils.bool(i.leaveOverlayOnClose)||a("body").find(".overlay").remove(),this.hide(()=>{t.data("open",!1),this._fireEvent("close"),i.removeOnClose===!0&&t.remove()})},open:function(){let t=this.element,i=this.options;i.overlay===!0&&a(".overlay").length===0&&(this.overlay.appendTo(a("body")),i.overlayClickClose===!0&&this.overlay.on(e.events.click,()=>{this.close()})),this.show(()=>{this._fireEvent("open"),t.data("open",!0),Number.parseInt(i.autoHide)>0&&setTimeout(()=>{this.close()},Number.parseInt(i.autoHide))})},toggle:function(){this.element.data("open")?this.close():this.open()},isOpen:function(){return this.element.data("open")===!0},changeAttribute:(t,i)=>{},destroy:function(){let t=this.element;t.off(e.events.click,".js-dialog-close"),t.find(".button").off(e.events.click),a(globalThis).off(e.events.resize,{ns:this.id}),t.remove()}}),e.dialog={isDialog:t=>e.utils.isMetroObject(t,"dialog"),open:function(t,i,r){if(!this.isDialog(t))return!1;let d=e.getPlugin(t,"dialog");r&&d.setTitle(r),i&&d.setContent(i),d.open()},close:function(t){if(!this.isDialog(t))return!1;e.getPlugin(a(t)[0],"dialog").close()},toggle:function(t){if(!this.isDialog(t))return!1;e.getPlugin(a(t)[0],"dialog").toggle()},isOpen:function(t){if(!this.isDialog(t))return!1;e.getPlugin(a(t)[0],"dialog").isOpen()},remove:function(t){if(!this.isDialog(t))return!1;let i=e.getPlugin(a(t)[0],"dialog");i.options.removeOnClose=!0,i.close()},create:t=>{let i=a("<div>").appendTo(a("body")),r=a.extend({},{show:!0,closeAction:!0,removeOnClose:!0},t||{});return r._runtime=!0,e.makePlugin(i,"dialog",r)}}})(Metro,Dom),((e,a)=>{let f={activityDeferred:0,type:"ring",style:"",size:64,radius:20,onActivityCreate:e.noop};e.activitySetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroActivitySetup<"u"&&e.activitySetup(globalThis.metroActivitySetup),e.Component("activity",{init:function(t,i){return this._super(i,t,f),this},_create:function(){let t=this.element,i=this.options,r,d;t.html("").addClass(i.style==="dark"?"dark-side":i.style==="color"?"color-style":"").addClass(`activity-${i.type}`);function m(){for(r=0;r<5;r++)a("<div/>").addClass("circle").appendTo(t)}function _(){for(r=0;r<4;r++)a("<div/>").addClass("square").appendTo(t)}function C(){a("<div/>").addClass("cycle").appendTo(t)}function k(){for(r=0;r<5;r++)d=a("<div/>").addClass("wrap").appendTo(t),a("<div/>").addClass("circle").appendTo(d)}function E(){a(`
                    <svg class="circular">
                        <circle class="path" 
                                cx="${i.size/2}" 
                                cy="${i.size/2}" 
                                r="${i.radius}" 
                                fill="none" 
                                stroke-width="2" 
                                stroke-miterlimit="10"
                        />
                    </svg>
                `).appendTo(t)}function F(){for(r=0;r<3;r++)a("<span/>").addClass("electron").appendTo(t)}function P(){for(r=0;r<6;r++)a("<span/>").addClass("bar").appendTo(t)}switch(i.type){case"metro":m();break;case"square":_();break;case"cycle":C();break;case"simple":E();break;case"atom":F();break;case"bars":P();break;default:k()}this._fireEvent("activity-create",{element:t})},changeAttribute:t=>{},destroy:function(){return this.element}}),e.activity={open:(t={})=>{let i=t,r=`<div data-role="activity" data-type="${i.type?i.type:"cycle"}" data-style="${i.style?i.style:"color"}"></div>`,d=i.text?`<div class="text-center">${i.text}</div>`:"";return e.dialog.create({content:r+d,defaultActions:!1,clsContent:"d-flex flex-column flex-center bg-transparent no-shadow w-auto",clsDialog:"no-border no-shadow bg-transparent global-dialog",autoHide:i.autoHide?i.autoHide:0,overlayClickClose:i.overlayClickClose===!0,overlayColor:i.overlayColor?i.overlayColor:"#000000",overlayAlpha:i.overlayAlpha?i.overlayAlpha:.5,clsOverlay:"global-overlay"})},close:t=>{e.dialog.close(t)}}})(Metro,Dom),((e,a)=>{let f={adblockDeferred:0,checkInterval:1e3,fireOnce:!0,checkStop:10,localhost:!1,onAlert:e.noop,onFishingStart:e.noop,onFishingDone:e.noop};e.adblockSetup=i=>{f=a.extend({},f,i)},typeof globalThis.metroAdblockSetup<"u"&&e.adblockSetup(globalThis.metroAdblockSetup);let t={bite:()=>{a("<div>").addClass("adblock-bite adsense google-adsense dblclick advert topad top_ads topAds textads sponsoredtextlink_container show_ads right-banner rekl mpu module-ad mid_ad mediaget horizontal_ad headerAd contentAd brand-link bottombanner bottom_ad_block block_ad bannertop banner-right banner-body b-banner b-article-aside__banner b-advert adwrapper adverts advertisment advertisement:not(body) advertise advert_list adtable adsense adpic adlist adleft adinfo adi adholder adframe addiv ad_text ad_space ad_right ad_links ad_body ad_block ad_Right adTitle adText".split(" ").shuffle().join(" ")).css({position:"fixed",height:1,width:1,overflow:"hidden",visibility:"visible",top:0,left:0}).append(a("<a href='https://dblclick.net'>").html("dblclick.net")).appendTo("body"),t.options.adblockDeferred?setTimeout(()=>{t.fishing()},t.options.adblockDeferred):t.fishing()},fishing:()=>{let i=t.options,r=typeof i.fireOnce=="number"?i.fireOnce:0,d=i.checkStop,m=!1,_=()=>{let C=a(".adsense.google-adsense.dblclick.advert.adblock-bite"),k=C.find("a"),E=()=>{clearInterval(m),e.utils.exec(i.onFishingDone),a(globalThis).fire("fishing-done"),C.remove()};if(!i.localhost&&a.localhost){E();return}!C.length||!k.length||C.css("display").indexOf("none")>-1||k.css("display").indexOf("none")>-1?(e.utils.exec(t.options.onAlert),a(globalThis).fire("adblock-alert"),t.options.fireOnce===!0?E():(r--,r===0&&E())):d!==!1&&(d--,d===0&&E())};e.utils.exec(i.onFishingStart),a(globalThis).fire("fishing-start"),m=setInterval(()=>{_()},t.options.checkInterval),_()}};e.Adblock=t,a(()=>{t.options=a.extend({},f),a(globalThis).on("metro-initiated",()=>{t.bite()})})})(Metro,Dom),((e,a)=>{let f={icon:null,showNumbers:!1,showMoon:!0,showDay:!0,showDigitalClock:!0,timeFormat:24,onAnalogClockCreate:e.noop};e.analogClockSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroAnalogClockSetup<"u"&&e.analogClockSetup(globalThis.metroAnalogClockSetup),e.Component("analog-clock",{init:function(t,i){return this._super(i,t,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("analog-clock-create")},_createStructure:function(){let t=this.element,i=this.options,r=datetime();t.addClass("analog-clock"),i.showNumbers&&t.addClass("show-numbers");for(let d=1;d<=12;d++)t.append(`<label class="dash" style="--i: ${d}"><span>${i.showNumbers?d:"|"}</span></label>`);for(let d=1;d<=90;d++)d%5!==0&&t.append(`<label class="secondary-dash" style="--i2: ${d}"><span>|</span></label>`);t.append(`
                <div class="hands">
                    <div class="hour"></div>                
                    <div class="minute"></div>                
                    <div class="second"></div>                
                </div>
                  
            `),t.append(`
                <div class="day-month">
                    <div class="day-month-inner">
                        <div class="day">${r.format("DD",this.locale)}</div>
                        <div class="month">${r.format("MMM",this.locale)}</div>                    
                    </div>
                    <div class="week-day">${r.format("dddd",this.locale)}</div>
                </div>
            `),i.showDay===!1&&t.find(".day-month").hide(),t.append(`
                <div class="digital-clock">
                    <div class="dc-hour">${r.format(i.timeFormat===24?"HH":"hh",this.locale)}</div>
                    <div class="dc-minute">${r.format("mm",this.locale)}</div>
                    <div class="dc-second">${r.format("ss",this.locale)}</div>
                </div>
            `),i.showDigitalClock===!1&&t.find(".digital-clock").hide(),i.icon&&t.append(`<div class="icon">${i.icon}</div>`),i.showMoon===!0&&t.append('<div class="moon"></div>'),this._updateTime(),setInterval(()=>{t.toggleClass("tick")},500)},_createEvents:()=>{},_updateTime:function(){let t=this.element,i=this.options,r=t.find(".second"),d=t.find(".minute"),m=t.find(".hour"),_=t.find(".dc-second"),C=t.find(".dc-minute"),k=t.find(".dc-hour"),E=t.find(".day"),F=t.find(".month"),P=t.find(".moon"),U=()=>{let Y=datetime(),ee=Y.second()/60*360,Ae=Y.minute()/60*360,$e=Y.hour12()/12*360,ze=Y.format("DD",this.locale),Re=Y.format("MMM",this.locale),Se=Y.moon();r[0].style.transform=`rotate(${ee}deg)`,d[0].style.transform=`rotate(${Ae}deg)`,m[0].style.transform=`rotate(${$e}deg)`,E.html(ze),F.html(Re),P.removeClass("").addClass(`${Se.name}`),k[0].innerHTML=Y.format(i.timeFormat===24?"HH":"hh",this.locale),C[0].innerHTML=Y.format("mm",this.locale),_[0].innerHTML=Y.format("ss",this.locale)};U(),setInterval(U,1e3)},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,checkHamburgerColor:!1,onMenuOpen:e.noop,onMenuClose:e.noop,onBeforeMenuOpen:e.noop,onBeforeMenuClose:e.noop,onMenuCollapse:e.noop,onMenuExpand:e.noop,onAppBarCreate:e.noop};e.appBarSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroAppBarSetup<"u"&&e.appBarSetup(globalThis.metroAppBarSetup),e.Component("app-bar",{init:function(t,i){return this._super(i,t,f,{id:null}),this},_create:function(){let t=this.element;this.id=t.attr("id")||Hooks.useId(this.elem),this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r,d;if(e.utils.getStyleOne(t,"background-color"),t.addClass("app-bar").attr("role","navigation"),r=t.find(".hamburger"),r.length===0){r=a("<button>").attr("type","button").addClass("hamburger menu-down").attr("aria-label","Toggle menu").attr("aria-expanded","false").attr("aria-controls",`app-bar-menu-${this.id}`);for(let m=0;m<3;m++)a("<span>").addClass("line").appendTo(r)}t.prepend(r),d=t.find(".app-bar-menu"),d.length>0&&(d.attr("id",`app-bar-menu-${this.id}`),d.attr("role","menubar")),d.length===0?r.css("display","none"):(d.find("li").attr("role","menuitem"),d.find("li a").attr("tabindex","0"),d.find("li:has(ul)").attr("aria-haspopup","true"),d.find("li ul").attr("role","menu").attr("aria-hidden","true")),r.css("display")==="block"?(d.hide().addClass("collapsed"),r.removeClass("hidden")):r.addClass("hidden"),(i.expand===!0||e.utils.isValue(i.expandPoint)&&e.utils.mediaExist(i.expandPoint))&&(t.addClass("app-bar-expand"),r.addClass("hidden")),i.checkHamburgerColor},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.find(".app-bar-menu"),m=i.find(".hamburger");i.on(e.events.click,".hamburger",()=>{d.length!==0&&(d.hasClass("collapsed")?t.open():t.close())}),m.on("keydown",_=>{(_.keyCode===13||_.keyCode===32)&&(_.preventDefault(),m.trigger("click"))}),d.find("li a").on("keydown",function(_){(_.keyCode===13||_.keyCode===32)&&(_.preventDefault(),a(this).trigger("click")),_.keyCode===27&&(_.preventDefault(),t.close(),m.focus())}),a(globalThis).on(e.events.resize,()=>{if(r.expand!==!0&&(e.utils.isValue(r.expandPoint)&&e.utils.mediaExist(r.expandPoint)?(i.addClass("app-bar-expand"),t._fireEvent("menu-expand")):(i.removeClass("app-bar-expand"),t._fireEvent("menu-collapse"))),d.length===0){m.addClass("hidden");return}d.removeClass("opened").removeClass("collapsed"),m.css("display")!=="block"?(m.addClass("hidden"),d.show()):(m.removeClass("hidden"),m.hasClass("active")?d.removeClass("collapsed").addClass("opened"):d.addClass("collapsed").removeClass("opened"))},{ns:this.id})},close:function(){let t=this.element,i=this.options,r=t.find(".app-bar-menu"),d=t.find(".hamburger");this._fireEvent("before-menu-close",{menu:r[0]}),d.attr("aria-expanded","false"),r.find("ul").attr("aria-hidden","true"),r.slideUp(i.duration,()=>{r.addClass("collapsed").removeClass("opened"),d.removeClass("active"),this._fireEvent("menu-close",{menu:r[0]})})},open:function(){let t=this.element,i=this.options,r=t.find(".app-bar-menu"),d=t.find(".hamburger");this._fireEvent("before-menu-open",{menu:r[0]}),d.attr("aria-expanded","true"),r.find("ul").attr("aria-hidden","false"),r.slideDown(i.duration,()=>{r.removeClass("collapsed").addClass("opened"),d.addClass("active"),this._fireEvent("menu-open",{menu:r[0]})})},changeAttribute:(t,i)=>{},destroy:function(){let t=this.element;t.off(e.events.click,".hamburger"),a(globalThis).off(e.events.resize,{ns:this.id}),t.remove()}})})(Metro,Dom),((e,a)=>{let f={audioVolume:.5,audioSrc:"",onAudioStart:e.noop,onAudioEnd:e.noop,onAudioButtonCreate:e.noop};e.audioButtonSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroAudioButtonSetup<"u"&&e.audioButtonSetup(globalThis.metroAudioButtonSetup),e.Component("audio-button",{init:function(t,i){return this._super(i,t,f,{audio:null,canPlay:null,id:null,playing:!1}),this},_create:function(){let t=this.element;this.id=Hooks.useId(t),this._createStructure(),this._createEvents(),this._fireEvent("audioButtonCreate",{element:t})},_createStructure:function(){let t=this.options;this.audio=new Audio(t.audioSrc),this.audio.volume=t.audioVolume},_createEvents:function(){let t=this.element,i=this.options,r=this.audio;r.addEventListener("loadeddata",()=>{this.canPlay=!0}),r.addEventListener("ended",()=>{this.playing=!1,this._fireEvent("audioEnd",{src:i.audioSrc,audio:r})}),t.on(e.events.click,()=>{this.play()},{ns:this.id})},play:function(t){let i=this.element,r=this.options,d=this.audio;if(this.playing){this.stop();return}r.audioSrc!==""&&this.audio.duration&&this.canPlay&&(this.playing=!0,this._fireEvent("audioStart",{src:r.audioSrc,audio:d}),d.pause(),d.currentTime=0,d.play(),e.utils.exec(t,[d],i[0]))},stop:function(t){let i=this.element,r=this.options,d=this.audio;this.playing=!1,d.pause(),d.currentTime=0,this._fireEvent("audioEnd",{src:r.audioSrc,audio:d}),e.utils.exec(t,[d],i[0])},changeAttribute:function(t){let i=this.element,r=this.options,d=this.audio,m=()=>{let C=i.attr("data-audio-src");C&&C.trim()!==""&&(r.audioSrc=C,d.src=C)},_=()=>{let C=Number.parseFloat(i.attr("data-audio-volume"));Number.isNaN(C)||(r.audioVolume=C,d.volume=C)};t==="data-audio-src"&&m(),t==="data-audio-volume"&&_()},destroy:function(){let t=this.element;t.off(e.events.click,{ns:this.id}),t.remove()}}),e.playSound=t=>{let i=typeof t=="string"?t:t.audioSrc,r=t!=null&&t.audioVolume?t.audioVolume:.5;if(!i)return;let d=new Audio(i);d.volume=Number.parseFloat(r),d.addEventListener("loadeddata",function(){t!=null&&t.onAudioStart&&e.utils.exec(t.onAudioStart,[i],this),this.play()}),d.addEventListener("ended",function(){t!=null&&t.onAudioEnd&&e.utils.exec(t.onAudioEnd,[null],this)})}})(Metro,Dom),((e,a)=>{let f={sliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:e.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:e.position.TOP,hintMask:"$1",vertical:!1,target:null,returnType:"value",size:0,label:null,hideButton:!1,clsSlider:"",clsBackside:"",clsComplete:"",clsBuffer:"",clsMarker:"",clsHint:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:e.noop,onStop:e.noop,onMove:e.noop,onSliderClick:e.noop,onChange:e.noop,onChangeValue:e.noop,onChangeBuffer:e.noop,onFocus:e.noop,onBlur:e.noop,onSliderCreate:e.noop};e.sliderSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroSliderSetup<"u"&&e.sliderSetup(globalThis.metroSliderSetup),e.Component("slider",{init:function(t,i){return this._super(i,t,f,{slider:null,value:0,percent:0,pixel:0,buffer:0,keyInterval:!1,id:e.utils.elementId("slider")}),this},_create:function(){let t=this.element,i=this.options;this._createSlider(),this._createEvents(),this.buff(i.buffer),this.val(i.value),this._fireEvent("slider-create",{element:t})},_createSlider:function(){let t=this.element,i=this.options,r=a("<div>").addClass("backside").addClass(i.clsBackside),d=a("<div>").addClass("complete").addClass(i.clsComplete),m=a("<div>").addClass("buffer").addClass(i.clsBuffer),_=a("<button>").attr("type","button").addClass("marker").addClass(i.clsMarker),C=a("<div>").addClass("hint").addClass(`${i.hintPosition}-side`).addClass(i.clsHint),k=t.wrap("<div>").addClass("slider").addClass(t[0].className).addClass(i.clsSlider);if(i.size>0&&(i.vertical===!0?k.outerHeight(i.size):k.outerWidth(i.size)),i.vertical===!0&&k.addClass("vertical-slider"),i.hintAlways===!0&&C.css({display:"block"}).addClass("permanent-hint"),i.label){let E=a("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(k);if(t.id())E.attr("for",t.id());else{let F=Hooks.useId(t[0]);E.attr("for",F),t.attr("id",F)}}if(r.appendTo(k),d.appendTo(k),m.appendTo(k),_.appendTo(k),C.appendTo(_),i.hideButton===!0&&k.addClass("hidden-button"),i.showMinMax===!0){let E=a("<div>").addClass("slider-min-max").addClass(i.clsMinMax);a("<span>").addClass("slider-text-min").addClass(i.clsMin).html(i.min).appendTo(E),a("<span>").addClass("slider-text-max").addClass(i.clsMax).html(i.max).appendTo(E),i.minMaxPosition===e.position.TOP?E.insertBefore(k):E.insertAfter(k)}t[0].className="",t.is(":disabled")?this.disable():this.enable(),this.slider=k},_createEvents:function(){let t=this.slider,i=this.options,r=t.find(".marker"),d=t.find(".hint");r.on(e.events.startAll,()=>{i.hint===!0&&i.hintAlways!==!0&&d.fadeIn(300),a(document).on(e.events.moveAll,m=>{m.cancelable&&m.preventDefault(),this._move(m),this._fireEvent("move",{val:this.value,percent:this.percent})},{ns:this.id,passive:!1}),a(document).on(e.events.stopAll,()=>{a(document).off(e.events.moveAll,{ns:this.id}),a(document).off(e.events.stopAll,{ns:this.id}),i.hintAlways!==!0&&d.fadeOut(300),this._fireEvent("stop",{val:this.value,percent:this.percent})},{ns:this.id}),this._fireEvent("start",{val:this.value,percent:this.percent})}),r.on(e.events.focus,()=>{this._fireEvent("focus",{val:this.value,percent:this.percent})}),r.on(e.events.blur,()=>{this._fireEvent("blur",{val:this.value,percent:this.percent})}),r.on(e.events.keydown,m=>{let _=m.keyCode?m.keyCode:m.which;if([37,38,39,40].indexOf(_)===-1)return;let C=i.accuracy===0?1:i.accuracy;this.keyInterval||(this.keyInterval=setInterval(()=>{let k=this.value;(m.keyCode===37||m.keyCode===40)&&(k-C<i.min?k=i.min:k-=C),(m.keyCode===38||m.keyCode===39)&&(k+C>i.max?k=i.max:k+=C),this.value=this._correct(k),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},100),m.preventDefault())}),r.on(e.events.keyup,()=>{clearInterval(this.keyInterval),this.keyInterval=!1}),t.on(e.events.click,m=>{this._move(m),this._fireEvent("slider-click",{val:this.value,percent:this.percent}),this._fireEvent("stop",{val:this.value,percent:this.percent})}),a(globalThis).on(e.events.resize,()=>{this.val(this.value),this.buff(this.buffer)},{ns:this.id})},_convert:function(t,i){let r=this.slider,d=this.options,m=(d.vertical===!0?r.outerHeight():r.outerWidth())-r.find(".marker").outerWidth();switch(i){case"pix2prc":return t*100/m;case"pix2val":return this._convert(t,"pix2prc")*((d.max-d.min)/100)+d.min;case"val2prc":return(t-d.min)/((d.max-d.min)/100);case"prc2pix":return t/(100/m);case"val2pix":return this._convert(this._convert(t,"val2prc"),"prc2pix")}return 0},_correct:function(t){let i=t,r=this.options.accuracy,d=this.options.min,m=this.options.max;return r===0||Number.isNaN(r)?i:(i=Math.round(t/r)*r,i<d&&(i=d),i>m&&(i=m),i.toFixed(e.utils.decCount(r)))},_move:function(t){let i=this.slider,r=this.options,d=i.offset(),m=i.find(".marker").outerWidth(),_=r.vertical===!0?i.outerHeight():i.outerWidth(),C=0,k=_-m,E=r.vertical===!0?e.utils.pageXY(t).y-d.top:e.utils.pageXY(t).x-d.left,F=r.vertical===!0?_-E-m/2:E-m/2;F<C||F>k||(this.value=this._correct(this._convert(F,"pix2val")),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw())},_hint:function(){let t=this.options,i=this.slider.find(".hint"),r=+this.value||0,d=+this.percent||0;t.roundValue&&(r=(e.utils.isValue(r)?+r:0).toFixed(e.utils.decCount(t.accuracy)),d=(e.utils.isValue(d)?+d:0).toFixed(e.utils.decCount(t.accuracy))),i.text(t.hintMask.replace("$1",r).replace("$2",d))},_value:function(){let t=this.element,i=this.options,r=i.returnType==="value"?this.value:this.percent,d=this.percent,m=this.buffer;if(i.roundValue&&(r=(e.utils.isValue(r)?+r:0).toFixed(e.utils.decCount(i.accuracy)),d=(e.utils.isValue(d)?+d:0).toFixed(e.utils.decCount(i.accuracy)),m=(e.utils.isValue(m)?+m:0).toFixed(e.utils.decCount(i.accuracy))),t[0].tagName==="INPUT"&&t.val(r),i.target!==null){let _=a(i.target);_.length!==0&&a.each(_,function(){let C=a(this);this.tagName==="INPUT"?C.val(r):C.text(r),C.trigger("change")})}this._fireEvent("change-value",{val:r}),this._fireEvent("change",{val:r,percent:d,buffer:m})},_marker:function(){let t=this.slider,i=this.options,r=t.find(".marker"),d=t.find(".complete"),m=i.vertical===!0?t.outerHeight():t.outerWidth(),_=Number.parseInt(e.utils.getStyleOne(r,"width")),C=e.utils.isVisible(t);C&&r.css({"margin-top":0,"margin-left":0}),i.vertical===!0?(C?r.css("top",m-this.pixel):(r.css("top",`${100-this.percent}%`),r.css("margin-top",_/2)),d.css("height",`${this.percent}%`)):(C?r.css("left",this.pixel):(r.css("left",`${this.percent}%`),r.css("margin-left",this.percent===0?0:-1*_/2)),d.css("width",`${this.percent}%`))},_redraw:function(){this._marker(),this._value(),this._hint()},_buffer:function(){let t=this.element,i=this.options,r=this.slider.find(".buffer");i.vertical===!0?r.css("height",`${this.buffer}%`):r.css("width",`${this.buffer}%`),this._fireEvent("change-buffer",{val:this.buffer}),this._fireEvent("change",{val:t.val(),percent:this.percent,buffer:this.buffer})},val:function(t){let i=this.options;if(t===void 0||Number.isNaN(t))return this.value;let r=Number.parseFloat(t);r<i.min&&(r=i.min),r>i.max&&(r=i.max),this.value=this._correct(r),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},buff:function(t){let i=this.slider.find(".buffer");if(t===void 0||Number.isNaN(t))return this.buffer;if(i.length===0)return!1;let r=Number.parseFloat(t);r>100&&(r=100),r<0&&(r=0),this.buffer=r,this._buffer()},changeValue:function(){let t=this.element,i=this.options,r=t.attr("data-value");r<i.min&&(r=i.min),r>i.max&&(r=i.max),this.val(r)},changeBuffer:function(){let t=this.element,i=Number.parseInt(t.attr("data-buffer"));i<0&&(i=0),i>100&&(i=100),this.buff(i)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break;case"disabled":this.toggleState();break}},destroy:function(){let t=this.options,i=this.slider,r=i.find(".marker");r.off(e.events.startAll),r.off(e.events.focus),r.off(e.events.blur),r.off(e.events.keydown),r.off(e.events.keyup),i.off(e.events.click),a(globalThis).off(e.events.resize,{ns:this.id}),t.label&&i.prev("label").remove(),i.remove()}})})(Metro,Dom),((e,a)=>{let f={audioDeferred:0,playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:"⮔",stopIcon:"⏹",playIcon:"▶",pauseIcon:"⏸",muteIcon:"🔇",volumeLowIcon:"🔈",volumeMediumIcon:"🔉",volumeHighIcon:"🔊",playlistIcon:"📃",nextIcon:"→",prevIcon:"←",firstIcon:"⇤",lastIcon:"⇥",forwardIcon:"⇉",backwardIcon:"⇇",shuffleIcon:"🔀",randomIcon:"🎲",onPlay:e.noop,onPause:e.noop,onStop:e.noop,onEnd:e.noop,onMetadata:e.noop,onTime:e.noop,onAudioPlayerCreate:e.noop};e.audioPlayerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroAudioPlayerSetup<"u"&&e.audioPlayerSetup(globalThis.metroAudioPlayerSetup),e.Component("audio-player",{init:function(t,i){return this._super(i,t,f,{preloader:null,player:null,audio:i,stream:null,volume:null,volumeBackup:0,muted:!1}),this},_create:function(){let t=this.element,i=this.options;this._createPlayer(),this._createEvents(),i.autoplay===!0&&this.play(),this._fireEvent("audio-player-create",{element:t,player:this.player})},_createPlayer:function(){let t=this.element,i=this.options,r=this.audio,d=t.wrap("<div>").addClass(`media-player audio-player ${t[0].className}`);a.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){t.removeAttr(this)}),t.attr("preload","auto"),r.volume=i.volume,i.src!==null&&this._setSource(i.src),t[0].className="",this.player=d,this._createControls()},_setSource:function(t){let i=this.element;i.find("source").remove(),i.removeAttr("src"),Array.isArray(t)?a.each(t,function(){this.src!==void 0&&a("<source>").attr("src",this.src).attr("type",this.type!==void 0?this.type:"").appendTo(i)}):i.attr("src",t)},_createControls:function(){let t=this.element,i=this.options,r=this.elem,d=a("<div>").addClass("controls").addClass(i.clsControls).insertAfter(t),m=a("<div>").addClass("stream").appendTo(d),_=a("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(m),C=a("<div>").addClass("load-audio").appendTo(m),k=a("<div>").addClass("volume").appendTo(d),E=a("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(k),F=a("<div>").addClass("info-box").appendTo(d);i.showInfo!==!0&&F.hide(),C.activity({type:"metro",style:"color"}),C.hide(0),this.preloader=C,e.makePlugin(_,"slider",{clsMarker:"bg-dark-cyan",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,hideButton:!0,onStart:()=>{r.paused||r.pause()},onStop:U=>{r.seekable.length>0&&(r.currentTime=(this.duration*U/100).toFixed(0)),r.paused&&r.currentTime>0&&r.play()}}),this.stream=_,i.showStream!==!0&&m.hide(),e.makePlugin(E,"slider",{clsMarker:"bg-dark-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-red",hint:!0,hideButton:!0,value:i.volume*100,onChangeValue:U=>{r.volume=U/100}}),this.volume=E,i.showVolume!==!0&&k.hide();let P;i.showLoop===!0&&(P=a("<button>").attr("type","button").addClass("medium cycle loop").html(i.loopIcon).appendTo(d),P.addClass("active"),t.attr("loop","loop")),i.showPlay===!0&&a("<button>").attr("type","button").addClass("medium cycle play").html(i.playIcon).appendTo(d),i.showStop===!0&&a("<button>").attr("type","button").addClass("medium cycle stop").html(i.stopIcon).appendTo(d),i.showMute===!0&&a("<button>").attr("type","button").addClass("medium cycle mute").html(i.muteIcon).appendTo(d),this._setVolume(),i.muted&&(this.volumeBackup=r.volume,e.getPlugin(this.volume,"slider").val(0),r.volume=0),F.html("00:00 / 00:00")},_createEvents:function(){let t=this.element,i=this.options,r=this.elem,d=this.player;t.on("loadstart",()=>{this.preloader.fadeIn()}),t.on("loadedmetadata",()=>{this.duration=r.duration.toFixed(0),this._setInfo(0,this.duration),e.utils.exec(i.onMetadata,[r,d],t[0])}),t.on("canplay",()=>{this._setBuffer(),this.preloader.fadeOut()}),t.on("progress",()=>{this._setBuffer()}),t.on("timeupdate",()=>{let m=Math.round(r.currentTime*100/this.duration);this._setInfo(r.currentTime,this.duration),e.getPlugin(this.stream,"slider").val(m),e.utils.exec(i.onTime,[r.currentTime,this.duration,r,d],t[0])}),t.on("waiting",()=>{this.preloader.fadeIn()}),t.on("loadeddata",()=>{}),t.on("play",()=>{d.find(".play").html(i.pauseIcon),e.utils.exec(i.onPlay,[r,d],t[0])}),t.on("pause",()=>{d.find(".play").html(i.playIcon),e.utils.exec(i.onPause,[r,d],t[0])}),t.on("stop",()=>{e.getPlugin(this.stream,"slider").val(0),e.utils.exec(i.onStop,[r,d],t[0])}),t.on("ended",()=>{e.getPlugin(this.stream,"slider").val(0),e.utils.exec(i.onEnd,[r,d],t[0])}),t.on("volumechange",()=>{this._setVolume()}),d.on(e.events.click,".play",()=>{r.paused?this.play():this.pause()}),d.on(e.events.click,".stop",()=>{this.stop()}),d.on(e.events.click,".mute",()=>{this._toggleMute()}),d.on(e.events.click,".loop",()=>{this._toggleLoop()})},_toggleLoop:function(){let t=this.player.find(".loop");t.length!==0&&(t.toggleClass("active"),t.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.audio.volume=this.volumeBackup:(this.volumeBackup=this.audio.volume,this.audio.volume=0),e.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(t,i){this.player.find(".info-box").html(`${e.utils.secondsToFormattedString(Math.round(t))} / ${e.utils.secondsToFormattedString(Math.round(i))}`)},_setBuffer:function(){let t=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;e.getPlugin(this.stream,"slider").buff(t)},_setVolume:function(){let t=this.audio,i=this.player,r=this.options,d=i.find(".mute"),m=t.volume*100;m>1&&m<30?d.html(r.volumeLowIcon):m>=30&&m<60?d.html(r.volumeMediumIcon):m>=60&&m<=100?d.html(r.volumeHighIcon):d.html(r.muteIcon)},play:function(t){t!==void 0&&this._setSource(t),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0,e.getPlugin(this.stream,"slider").val(0)},setVolume:function(t){if(t===void 0)return this.audio.volume;let i=t>1?t/100:t;this.audio.volume=t,e.getPlugin(this.volume,"slider").val(i*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){let t=JSON.parse(this.element.attr("data-src"));this.play(t)},changeVolume:function(){let t=this.element.attr("data-volume");this.setVolume(t)},changeAttribute:function(t){switch(t){case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){let t=this.element,i=this.player;return t.off("all"),i.off("all"),e.getPlugin(this.stream,"slider").destroy(),e.getPlugin(this.volume,"slider").destroy(),t}})})(Metro,Dom),((e,a)=>{let f={type:"success",size:16,onBullCreate:e.noop};e.bullSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroBullSetup<"u"&&e.bullSetup(globalThis.metroBullSetup),e.Component("bull",{init:function(t,i){return this._super(i,t,f,{}),this},_create:function(){this._createStructure(),this._fireEvent("bull-create")},_createStructure:function(){let t=this.element,i=this.options,r;switch(i.type.toLowerCase()){case"default":r=`<svg width="${i.size}" height="${i.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"success":r=`<svg width="${i.size}" height="${i.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"pending":r=`<svg width="${i.size}" height="${i.size}" aria-label="currently running" fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="ani-spin"><path fill="none" stroke="#DBAB0A" stroke-width="2" d="M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z" opacity=".5"></path><path fill="#DBAB0A" fill-rule="evenodd" d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z" clip-rule="evenodd"></path><path fill="#DBAB0A" d="M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"></path></svg>`;break;case"fail":r=`<svg width="${i.size}" height="${i.size}" aria-label="failed" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#e5534b" d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>`;break;case"warning":r=`<svg width="${i.size}" height="${i.size}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill="#ff4d00" d="M246.312928,5.62892705 C252.927596,9.40873724 258.409564,14.8907053 262.189374,21.5053731 L444.667042,340.84129 C456.358134,361.300701 449.250007,387.363834 428.790595,399.054926 C422.34376,402.738832 415.04715,404.676552 407.622001,404.676552 L42.6666667,404.676552 C19.1025173,404.676552 7.10542736e-15,385.574034 7.10542736e-15,362.009885 C7.10542736e-15,354.584736 1.93772021,347.288125 5.62162594,340.84129 L188.099293,21.5053731 C199.790385,1.04596203 225.853517,-6.06216498 246.312928,5.62892705 Z M224,272 C208.761905,272 197.333333,283.264 197.333333,298.282667 C197.333333,313.984 208.415584,325.248 224,325.248 C239.238095,325.248 250.666667,313.984 250.666667,298.624 C250.666667,283.264 239.238095,272 224,272 Z M245.333333,106.666667 L202.666667,106.666667 L202.666667,234.666667 L245.333333,234.666667 L245.333333,106.666667 Z" id="Combined-Shape"></path></svg>`;break;case"bulb":r=`<svg width="${i.size}" height="${i.size}" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#ffde21" d="M213.333333,85.3333333 C284.025781,85.3333333 341.333333,142.640885 341.333333,213.333333 C341.333333,260.711239 315.5928,302.077122 277.333732,324.208982 L277.333333,405.333333 L256,426.666667 L234.666667,426.666667 C234.666667,438.448741 225.115408,448 213.333333,448 C201.551259,448 192,438.448741 192,426.666667 L192,426.666667 L170.666667,426.666667 L149.333333,405.333333 L149.332954,324.208993 C111.073876,302.077136 85.3333333,260.711248 85.3333333,213.333333 C85.3333333,142.640885 142.640885,85.3333333 213.333333,85.3333333 Z M234.667665,339.563386 C227.72957,340.727434 220.602209,341.333333 213.333333,341.333333 C206.064458,341.333333 198.937097,340.727434 191.999002,339.563386 L192,384 L234.666667,384 L234.667665,339.563386 Z M96.4250122,307.614237 L119.052429,330.241654 L73.7975952,375.496488 L51.1701782,352.869071 L96.4250122,307.614237 Z M330.241654,307.614237 L375.496488,352.869071 L352.869071,375.496488 L307.614237,330.241654 L330.241654,307.614237 Z M426.666667,197.333333 L426.666667,229.333333 L362.666667,229.333333 L362.666667,197.333333 L426.666667,197.333333 Z M64,197.333333 L64,229.333333 L7.10542736e-15,229.333333 L7.10542736e-15,197.333333 L64,197.333333 Z M352.869071,51.1701782 L375.496488,73.7975952 L330.241654,119.052429 L307.614237,96.4250122 L352.869071,51.1701782 Z M73.7975952,51.1701782 L119.052429,96.4250122 L96.4250122,119.052429 L51.1701782,73.7975952 L73.7975952,51.1701782 Z M229.333333,-1.0658141e-14 L229.333333,64 L197.333333,64 L197.333333,-1.0658141e-14 L229.333333,-1.0658141e-14 Z" id="Combined-Shape"></path></svg>`;break}t.clear().html(r)},changeAttribute:function(t,i){t==="data-type"&&this._createStructure()},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={buttongroupDeferred:0,targets:"button",clsActive:"",requiredButton:!1,mode:e.groupMode.ONE,onButtonClick:e.noop,onButtonGroupCreate:e.noop};e.buttonGroupSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroButtonGroupSetup<"u"&&e.buttonGroupSetup(globalThis.metroButtonGroupSetup),e.Component("button-group",{init:function(t,i){return this._super(i,t,f,{active:null,id:e.utils.elementId("button-group")}),this},_create:function(){let t=this.element;this._createGroup(),this._createEvents(),this._fireEvent("button-group-create",{element:t})},_createGroup:function(){let t=this.element,i=this.options;t.addClass("button-group");let r=t.find(i.targets),d=t.find(".active");i.mode===e.groupMode.ONE&&d.length===0&&i.requiredButton===!0&&a(r[0]).addClass("active"),i.mode===e.groupMode.ONE&&d.length>1&&(r.removeClass("active").removeClass(i.clsActive),a(r[0]).addClass("active")),t.find(".active").addClass("js-active").addClass(i.clsActive)},_createEvents:function(){let t=this,i=this.element,r=this.options;i.on(e.events.click,r.targets,function(){let d=a(this);t._fireEvent("button-click",{button:this}),!(r.mode===e.groupMode.ONE&&d.hasClass("active"))&&(r.mode===e.groupMode.ONE?(i.find(r.targets).removeClass(r.clsActive).removeClass("active js-active"),d.addClass("active").addClass(r.clsActive).addClass("js-active")):d.toggleClass("active").toggleClass(r.clsActive).toggleClass("js-active"))})},changeAttribute:t=>{},destroy:function(){let t=this.element,i=this.options;t.off(e.events.click,i.targets),t.remove()}})})(Metro,Dom),((e,a)=>{let f={spinnerDeferred:0,label:"",step:1,plusIcon:"+",minusIcon:"-",buttonsPosition:"default",defaultValue:0,minValue:null,maxValue:null,fixed:0,repeatThreshold:2e3,hideCursor:!1,clsSpinner:"",clsSpinnerInput:"",clsSpinnerButton:"",clsSpinnerButtonPlus:"",clsSpinnerButtonMinus:"",clsLabel:"",onBeforeChange:e.noop_true,onChange:e.noop,onPlusClick:e.noop,onMinusClick:e.noop,onArrowUp:e.noop,onArrowDown:e.noop,onButtonClick:e.noop,onArrowClick:e.noop,onSpinnerCreate:e.noop};e.spinnerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroSpinnerSetup<"u"&&e.spinnerSetup(globalThis.metroSpinnerSetup),e.Component("spinner",{init:function(t,i){return this._super(i,t,f,{repeat_timer:!1}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("spinner-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r=a("<div>").addClass("spinner").addClass(`buttons-${i.buttonsPosition}`).addClass(t[0].className).addClass(i.clsSpinner),d=a("<button>").attr("type","button").addClass("button spinner-button spinner-button-plus").addClass(`${i.clsSpinnerButton} ${i.clsSpinnerButtonPlus}`).html(i.plusIcon),m=a("<button>").attr("type","button").addClass("button spinner-button spinner-button-minus").addClass(`${i.clsSpinnerButton} ${i.clsSpinnerButtonMinus}`).html(i.minusIcon),_=t.val().trim();if(e.utils.isValue(_)||t.val(0),t[0].className="",r.insertBefore(t),t.appendTo(r).addClass(i.clsSpinnerInput),t.addClass("metro-input"),d.appendTo(r),m.appendTo(r),i.hideCursor===!0&&r.addClass("hide-cursor"),i.label){let C=a("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(r);if(t.attr("id"))C.attr("for",t.attr("id"));else{let k=Hooks.useId(t[0]);C.attr("for",k),t.attr("id",k)}t.attr("dir")==="rtl"&&C.addClass("rtl")}i.disabled===!0||t.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let t=this.element,i=this.options,r=t.closest(".spinner"),d,m=_=>{let C=[_?"plus-click":"minus-click",_?"arrow-up":"arrow-down","button-click","arrow-click"],k=+t.val(),E=+t.val(),F=+i.step;_?E+=F:E-=F,this._setValue(E.toFixed(i.fixed),!0),this._fireEvents(C,{curr:k,val:E,elementVal:t.val(),button:_?"plus":"minus"})};r.on(e.events.startAll,".spinner-button",function(_){let C=a(this).hasClass("spinner-button-plus");d=setInterval(()=>{m(C)},100)},{passive:!0}),r.on(e.events.stopAll,".spinner-button",_=>{clearInterval(d)},{passive:!0}),r.on(e.events.click,".spinner-button",function(_){let C=a(this).hasClass("spinner-button-plus");m(C)},{passive:!0}),r.on(e.events.click,_=>{a(".focused").removeClass("focused"),r.addClass("focused"),_.preventDefault(),_.stopPropagation()})},_setValue:function(t=0,i=!1){let r=this.element,d=this.options;if(e.utils.exec(d.onBeforeChange,[t],r[0])!==!0)return;let m=+t;m>Number(d.maxValue)&&(m=Number(d.maxValue)),m<Number(d.minValue)&&(m=Number(d.minValue)),r.val(t),this._fireEvent("change",{val:t},!1,!0),i===!0&&r.fire("change",{val:t})},val:function(t){let i=this.element,r=this.options;if(!e.utils.isValue(t))return i.val();this._setValue(t.toFixed(r.fixed),!0)},toDefault:function(){let t=this.options,i=e.utils.isValue(t.defaultValue)?Number(t.defaultValue):0;this._setValue(i.toFixed(t.fixed),!0),this._fireEvent("change",{val:i})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){let i=this.element,r=()=>{let d=i.attr("value").trim();e.utils.isValue(d)&&this._setValue(Number(d),!1)};switch(t){case"disabled":this.toggleState();break;case"value":r();break}},destroy:function(){let t=this.element,i=this.options,r=t.closest(".spinner"),d=r.find(".spinner-button");r.off(e.events.click),d.off(e.events.start),d.off(e.events.stop),t.off(e.events.keydown),r.off(e.events.keyup),i.label&&r.prev("label").remove(),r.remove()}}),a(document).on(e.events.click,()=>{a(".spinner").removeClass("focused")})})(Metro,Dom),((e,a)=>{let f={weekStart:null,static:!1,readonly:!1,showGhost:!1,events:null,startContent:"days",showTime:!1,initialTime:null,initialHours:null,initialMinutes:null,labelTimeHours:null,labelTimeMinutes:null,animationContent:!0,animationSpeed:10,calendarDeferred:0,dayBorder:!1,excludeDay:null,prevMonthIcon:"⯇",nextMonthIcon:"⯈",prevYearIcon:"⯇",nextYearIcon:"⯈",compact:!1,wide:!1,widePoint:null,pickerMode:!1,show:null,outside:!0,buttons:"",yearsBefore:100,yearsAfter:100,headerFormat:"dddd, MMM DD",showHeader:!0,showFooter:!0,showWeekNumber:!1,isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,weekNumberClick:!1,multiSelect:!1,special:null,format:METRO_DATE_FORMAT,inputFormat:null,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",clsEventCounter:"",clsWeekend:"",clsCurrentWeek:"",clsCalendarTime:"",clsTime:"",clsTimeHours:"",clsTimeMinutes:"",clsTimeButton:"",clsTimeButtonPlus:"",clsTimeButtonMinus:"",clsSpecial:"",clsEvents:"",clsEvent:"",onCancel:e.noop,onToday:e.noop,onClear:e.noop,onDone:e.noop,onDayClick:e.noop,onDrawDay:e.noop,onDrawMonth:e.noop,onDrawYear:e.noop,onWeekDayClick:e.noop,onWeekNumberClick:e.noop,onMonthChange:e.noop,onYearChange:e.noop,onTimeChange:e.noop,onHoursChange:e.noop,onMinutesChange:e.noop,onCalendarCreate:e.noop};e.calendarSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroCalendarSetup<"u"&&e.calendarSetup(globalThis.metroCalendarSetup),e.Component("calendar",{init:function(t,i){let r=datetime(),d=this._correctDate(datetime());return this._super(i,t,f,{today:d,show:d,current:{year:d.year(),month:d.month(),day:d.day()},preset:[],selected:[],exclude:[],special:[],excludeDay:[],events:[],min:null,max:null,minYear:null,maxYear:null,id:e.utils.elementId("calendar"),time:[r.hour(),r.minute()],content:"days",yearDistance:11,yearGroupStart:d.year()}),this},_create:function(){let t=this.element,i=this.options;this.content=i.startContent,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,t.html("").addClass(`calendar ${i.compact===!0?"compact":""}`).addClass(i.clsCalendar),e.utils.isValue(i.initialTime)&&(this.time=i.initialTime.split(":")),e.utils.isValue(i.initialHours)&&e.utils.between(i.initialHours,0,23,!0)&&(this.time[0]=Number.parseInt(i.initialHours)),e.utils.isValue(i.initialMinutes)&&e.utils.between(i.initialMinutes,0,59,!0)&&(this.time[1]=Number.parseInt(i.initialMinutes)),i.dayBorder===!0&&t.addClass("day-border"),e.utils.isValue(i.excludeDay)&&(this.excludeDay=`${i.excludeDay}`.toArray(",","int")),e.utils.isValue(i.preset)&&this._dates2array(i.preset,"selected"),e.utils.isValue(i.exclude)&&this._dates2array(i.exclude,"exclude"),e.utils.isValue(i.special)&&this._dates2array(i.special,"special"),e.utils.isValue(i.events)&&this._dates2array(i.events,"events"),this.min=i.minDate?(i.inputFormat?Datetime.from(i.minDate,i.inputFormat):datetime(i.minDate)).align("day"):null,this.max=i.maxDate?(i.inputFormat?Datetime.from(i.maxDate,i.inputFormat):datetime(i.maxDate)).align("day"):null,i.show&&(this.show=(i.show?i.inputFormat?Datetime.from(i.show,i.inputFormat):datetime(i.show):datetime()).align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()}),this._drawCalendar(),this._createEvents(),(i.wide===!0||!e.utils.isNull(i.widePoint)&&e.utils.mediaExist(i.widePoint))&&t.addClass("calendar-wide"),i.ripple===!0&&e.utils.isFunc(t.ripple)!==!1&&t.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:this.options.rippleColor});let r=t.id();r&&e.storage.getItem(`METRO:CALENDAR:${r}:COLLAPSED`,t.hasClass("calendar-collapsed"))&&t.addClass("calendar-collapsed"),this._fireEvent("calendar-create")},_dates2array:function(t,i){let r=this,d=this.options;if(e.utils.isNull(t))return;let m=typeof t=="string"?t.toArray():Array.isArray(t)?t:[];a.each(m,function(){let _;try{_=r._correctDate(d.inputFormat?Datetime.from(this,d.inputFormat):datetime(this)).format("YYYY-MM-DD")}catch{return}r[i].push(_)})},_correctDate:t=>datetime(t).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),_createEvents:function(){let t=this,i=this.element,r=this.options;a(globalThis).on(e.events.resize,()=>{r.wide!==!0&&(!e.utils.isNull(r.widePoint)&&e.utils.mediaExist(r.widePoint)?i.addClass("calendar-wide"):i.removeClass("calendar-wide"))},{ns:this.id}),i.on(e.events.click,".button-collapse",()=>{let d=i.id();i.toggleClass("calendar-collapsed"),d&&e.storage.setItem(`METRO:CALENDAR:${d}:COLLAPSED`,i.hasClass("calendar-collapsed"))}),i.on(e.events.click,".prev-year-group, .next-year-group",function(){r.static||(a(this).hasClass("prev-year-group")?t.yearGroupStart-=t.yearDistance:t.yearGroupStart+=t.yearDistance,t._drawContent())}),i.on(e.events.click,".prev-month, .next-month, .prev-year, .next-year",function(){let d,m=a(this);r.static||m.hasClass("prev-month")&&(d=datetime(t.current.year,t.current.month-1,1).useLocale(t.locale,!0),d.year()<t.minYear)||m.hasClass("next-month")&&(d=datetime(t.current.year,t.current.month+1,1).useLocale(t.locale,!0),d.year()>t.maxYear)||m.hasClass("prev-year")&&(d=datetime(t.current.year-1,t.current.month,1).useLocale(t.locale,!0),d.year()<t.minYear)||m.hasClass("next-year")&&(d=datetime(t.current.year+1,t.current.month,1).useLocale(t.locale,!0),d.year()>t.maxYear)||(t.current={year:d.year(),month:d.month(),day:d.day()},setTimeout(()=>{t._drawContent(),(m.hasClass("prev-month")||m.hasClass("next-month"))&&t._fireEvent("month-change",{current:t.current}),(m.hasClass("prev-year")||m.hasClass("next-year"))&&t._fireEvent("year-change",{current:t.current})},r.ripple?300:1))}),i.on(e.events.click,".button-today",()=>{t.toDay(),t._fireEvent("today",{today:t.today.val(),time:t.time})}),i.on(e.events.click,".button-clear",()=>{let d=datetime();t.selected=[],t.time=[d.hour(),d.minute()],t.yearGroupStart=d.year(),t._drawContent(),t._fireEvent("clear")}),i.on(e.events.click,".button-cancel",()=>{t._drawContent(),t._fireEvent("cancel")}),i.on(e.events.click,".button-done",()=>{t._drawContent(),t._fireEvent("done",{selected:t.selected,time:t.time})}),r.weekDayClick===!0&&i.on(e.events.click,".week-days .week-day",function(d){let m,_,C=[];if(r.static||r.readonly)return;let k=a(this);m=k.index();for(let E=0;E<7;E++)C.push(m),m+=r.showWeekNumber?8:7;r.multiSelect===!0&&(_=i.find(".day").filter(E=>{let F=a(E);return C.indexOf(F.index())>-1&&!F.hasClass("outside disabled excluded")}),a.each(_,function(){let E=a(this),F=E.data("day");t.selected.indexOf(F)===-1?(t.selected.push(F),E.addClass("selected").addClass(r.clsSelected)):(E.removeClass("selected").removeClass(r.clsSelected),e.utils.arrayDelete(t.selected,F))})),t._fireEvent("week-day-click",{selected:t.selected,day:k[0]}),d.preventDefault(),d.stopPropagation()}),r.weekNumberClick&&i.on(e.events.click,".week-number",function(d){let m,_=a(this),C=_.text(),k=_.index();C!=="#"&&(r.static||r.readonly||(r.multiSelect===!0&&(m=i.find(".day").filter(E=>{let F=a(E),P=F.index();return e.utils.between(P,k,k+8,!1)&&!F.hasClass("outside disabled excluded")}),a.each(m,function(){let E=a(this),F=E.data("day");t.selected.indexOf(F)===-1?(t.selected.push(F),E.addClass("selected").addClass(r.clsSelected)):(E.removeClass("selected").removeClass(r.clsSelected),e.utils.arrayDelete(t.selected,F))})),t._fireEvent("week-number-click",{selected:t.selected,num:C,numElement:_[0]}),d.preventDefault(),d.stopPropagation()))}),i.on(e.events.click,".day",function(d){let m=a(this),_,C;if(!(r.static||r.readonly)){if(C=m.data("day"),_=t.selected.indexOf(C),m.hasClass("outside")){C=datetime(C),t.current={year:C.year(),month:C.month(),day:C.day()},t._drawContent(),t._fireEvent("month-change",{current:t.current});return}m.hasClass("disabled")||(r.pickerMode===!0?(t.selected=[C],t.today=datetime(C),t.current.year=t.today.year(),t.current.month=t.today.month(),t.current.day=t.today.day(),t._drawHeader(),t._drawContent()):_===-1?(r.multiSelect===!1&&(i.find(".day").removeClass("selected").removeClass(r.clsSelected),t.selected=[]),t.selected.push(C),m.addClass("selected").addClass(r.clsSelected)):(m.removeClass("selected").removeClass(r.clsSelected),e.utils.arrayDelete(t.selected,C))),t._fireEvent("day-click",{selected:t.selected,day:m[0],time:t.time}),d.preventDefault(),d.stopPropagation()}}),i.on(e.events.click,".curr-month, .header-day",d=>{t.content="months",t._drawContent(),d.preventDefault(),d.stopPropagation()}),i.on(e.events.click,".month",function(d){t.current.month=Number.parseInt(a(this).attr("data-month")),t.content="days",t._drawContent(),t._fireEvent("month-change",{current:t.current}),d.preventDefault(),d.stopPropagation()}),i.on(e.events.click,".curr-year, .header-year",d=>{t.content!=="years"&&(t.content="years",t._drawContent(),d.preventDefault(),d.stopPropagation())}),i.on(e.events.click,".year",function(d){t.current.year=Number.parseInt(a(this).attr("data-year")),t.yearGroupStart=t.current.year,t.content="months",t._drawContent(),t._fireEvent("year-change",{current:t.current}),d.preventDefault(),d.stopPropagation()})},_drawHeader:function(){let t=this.element,i=this.options,r=t.find(".calendar-header");r.length===0&&(r=a("<div>").addClass("calendar-header").addClass(i.clsCalendarHeader).appendTo(t)),r.html(""),a("<div>").addClass("header-year").html(this.today.year()).appendTo(r),a("<div>").addClass("header-day").html(this.today.format(i.headerFormat,this.locale)).appendTo(r);let d=a("<div>").addClass("header-actions").appendTo(r);a("<button>").addClass("square small button-collapse").html(`
                <svg aria-hidden="true" class="caret toggle-collapsed" width="16" height="16" viewBox="0 0 24 24">
                    <path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path>
                </svg>
            `).attr("title",this.strings.label_collapse).appendTo(d),i.showHeader===!1&&r.hide()},_drawFooter:function(){let t=this.element,i=this.options,r=this.strings,d=t.find(".calendar-footer");i.buttons&&(d.length===0&&(d=a("<div>").addClass("calendar-footer").addClass(i.clsCalendarFooter).appendTo(t)),d.html(""),a.each(i.buttons.toArray(","),function(){let m=a("<button>").attr("type","button").addClass(`button button-${this} ${i[`cls${Str.capitalize(this)}Button`]}`).html(r[`label_${this}`]).appendTo(d);(this==="cancel"||this==="done")&&m.addClass("js-dialog-close")}),i.showFooter===!1&&d.hide())},_drawTime:function(){let t=this,i=this.element,r=this.options,d=this.strings,m=i.find(".calendar-content"),_=a("<div>").addClass("calendar-time").addClass(r.clsCalendarTime).appendTo(m),C,k,E,F,P=`${this.time[0]}`,U=`${this.time[1]}`,Y=function(ee){let Ae=Number.parseInt(ee);a(this).attr("data-time-part")==="hours"?(t.time[0]=Ae,t._fireEvent("hours-change",{time:t.time,hours:Ae})):(t.time[1]=Ae,t._fireEvent("minutes-change",{time:t.time,minutes:Ae})),t._fireEvent("time-change",{time:t.time})};_.append(C=a("<div>").addClass("calendar-time__inner")),C.append(F=a("<div>").addClass("calendar-time__inner-row")),F.append(a("<div>").addClass("calendar-time__inner-cell").append(a("<span>").html(str(d.label_hours).capitalize()))),F.append(a("<div>").addClass("calendar-time__inner-cell").append(a("<span>").html(str(d.label_minutes).capitalize()))),_.append(C=a("<div>").addClass("calendar-time__inner spinners").addClass(r.clsTime)),C.append(k=a(`<input type='text' data-cls-spinner-input='${r.clsTimeHours}' data-time-part='hours' data-buttons-position='right' data-min-value='0' data-max-value='23'>`).addClass("hours").addClass(r.compact?"input-small":"input-normal")),C.append(E=a(`<input type='text' data-cls-spinner-input='${r.clsTimeMinutes}' data-time-part='minutes' data-buttons-position='right' data-min-value='0' data-max-value='59'>`).addClass("minutes").addClass(r.compact?"input-small":"input-normal")),P=Str.lpad(P,"0",2),U=Str.lpad(U,"0",2),k.val(P),E.val(U),e.makePlugin(C.find("input[type=text]"),"spinner",{onChange:Y,clsSpinnerButton:r.clsTimeButton,clsSpinnerButtonPlus:r.clsTimeButtonPlus,clsSpinnerButtonMinus:r.clsTimeButtonMinus}),r.showTime===!1&&_.hide()},_drawContentDays:function(){let t=this,i=this.element,r=this.options,d=this.strings,m=i.find(".calendar-content"),_,C=datetime(this.current.year,this.current.month,this.current.day).useLocale(this.locale,!0).calendar(e.utils.isValue(r.weekStart)?r.weekStart:d.weekStart),k=this.show.format("YYYY-MM-DD"),E=datetime();m.length===0&&(m=a("<div>").addClass("calendar-content").addClass(r.clsCalendarContent).appendTo(i)),r.showWeekNumber&&m.addClass("-week-numbers"),m.empty();let F=a("<div>").addClass("calendar-toolbar").appendTo(m);a("<span>").addClass("prev-month").html(r.prevMonthIcon).appendTo(F),a("<span>").addClass("curr-month").html(Datetime.getLocale(this.locale).months[this.current.month]).appendTo(F),a("<span>").addClass("next-month").html(r.nextMonthIcon).appendTo(F),a("<span>").addClass("prev-year").html(r.prevYearIcon).appendTo(F),a("<span>").addClass("curr-year").html(this.current.year).appendTo(F),a("<span>").addClass("next-year").html(r.nextYearIcon).appendTo(F),_=a("<div>").addClass("week-days").appendTo(m),r.showWeekNumber&&a("<span>").addClass("week-number").html("#").appendTo(_),a.each(C.weekdays,function(){a("<span>").addClass("week-day").html(this).appendTo(_)});let P=a("<div>").addClass("days").appendTo(m);a.each(C.days,function(U){let Y=`${this}`,ee=t._correctDate(Y),Ae=ee.month()!==t.current.month;r.showWeekNumber&&U%7===0&&a("<span>").addClass("week-number").html(`<span class="week-number-content">${ee.weekNumber(r.weekStart)}</span>`).appendTo(P);let $e=ee.day(),ze=ee.format("YYYY-MM-DD"),Re=a("<span>").addClass("day").html(`<span class="day-content">${$e}</span>`).appendTo(P);if(Re.attr("data-day",ze),Y===k&&Re.addClass("showed"),Ae&&(Re.addClass("outside"),r.outside||Re.empty()),Y===C.today&&Re.addClass("today"),r.showGhost&&ee.day()===E.day()&&Re.addClass("coincidental"),t.special.length?t.special.indexOf(Y)===-1?Re.addClass("disabled excluded").addClass(r.clsExcluded):Re.addClass(r.clsSpecial):(t.selected.includes(Y)&&Re.addClass("selected").addClass(r.clsSelected),t.exclude.includes(Y)&&Re.addClass("disabled excluded").addClass(r.clsExcluded),t.min&&ee.older(t.min)&&Re.addClass("disabled excluded").addClass(r.clsExcluded),t.max&&ee.younger(t.max)&&Re.addClass("disabled excluded").addClass(r.clsExcluded)),C.weekends.indexOf(Y)!==-1&&Re.addClass(r.clsWeekend),C.week.indexOf(Y)!==-1&&Re.addClass(r.clsCurrentWeek),t.events.length){let Se=a("<div>").addClass("events").addClass(r.clsEvents).appendTo(Re);a.each(t.events,function(){if(this===Y){let Le=a("<div>").addClass("event").addClass(r.clsEvent).appendTo(Se);r.clsEvent||Le.css({backgroundColor:Farbe.Routines.randomColor()})}})}r.animationContent&&Re.addClass("to-animate"),t._fireEvent("draw-day",{date:ee.val(),day:ee.day(),month:ee.month(),year:ee.year(),cell:Re[0]})}),this._drawTime(),this._animateContent(".day")},_drawContentMonths:function(){let t=this.element,i=this.elem,r=this.options,d=this.locale,m=t.find(".calendar-content"),_,C,k=datetime().year(),E=datetime().month();m.length===0&&(m=a("<div>").addClass("calendar-content").addClass(r.clsCalendarContent).appendTo(t)),m.clear();let F=a("<div>").addClass("calendar-toolbar").appendTo(m);a("<span>").addClass("prev-year").html(r.prevYearIcon).appendTo(F),a("<span>").addClass("curr-year").html(this.current.year).appendTo(F),a("<span>").addClass("next-year").html(r.nextYearIcon).appendTo(F),m.append(_=a("<div>").addClass("months"));let P=0;for(let U of Datetime.getLocale(d).months)_.append(C=a("<div>").attr("data-month",P).addClass("month").addClass(P===E&&this.current.year===k?"today":"").html(U)),r.animationContent&&C.addClass("to-animate"),this._fireEvent("draw-month",{month:P,year:this.current.year,cell:C[0]}),P++;e.i18n.updateUI(i,d),this._animateContent(".months .month")},_drawContentYears:function(){let t=this.element,i=this.options,r=t.find(".calendar-content"),d,m;r.length===0&&(r=a("<div>").addClass("calendar-content").addClass(i.clsCalendarContent).appendTo(t)),r.clear();let _=a("<div>").addClass("calendar-toolbar").appendTo(r);a("<span>").addClass("prev-year-group").html(i.prevYearIcon).appendTo(_),a("<span>").addClass("curr-year").html(`${this.yearGroupStart} - ${this.yearGroupStart+this.yearDistance}`).appendTo(_),a("<span>").addClass("next-year-group").html(i.nextYearIcon).appendTo(_),r.append(d=a("<div>").addClass("years"));for(let C=this.yearGroupStart;C<=this.yearGroupStart+this.yearDistance;C++)d.append(m=a("<div>").attr("data-year",C).addClass("year").addClass(C===this.current.year?"today":"").html(C)),i.animationContent&&m.addClass("to-animate"),(C<i.minYear||C>i.maxYear)&&m.addClass("disabled"),this._fireEvent("draw-year",{year:C,cell:m[0]});this._animateContent(".years .year")},_drawContent:function(){switch(this.content){case"years":this._drawContentYears();break;case"months":this._drawContentMonths();break;default:this._drawContentDays()}e.i18n.updateUI(this.elem,this.locale)},_drawCalendar:function(){let t=this.elem;setTimeout(()=>{this.element.html(""),this._drawHeader(),this._drawContent(),this._drawFooter(),e.i18n.updateUI(t,this.locale)},0)},_animateContent:function(t,i="to-animate"){let r=this.element,d=this.options;r.find(".calendar-content").find(t).each(function(m){let _=a(this);setTimeout(()=>{_.removeClass(i)},d.animationSpeed*m)})},getTime:function(t=!1){let i=Str.lpad(this.time[0],"0",2),r=Str.lpad(this.time[1],"0",2);return t?`${i}:${r}`:this.time},setTime:function(t){Array.isArray(t)?this.time=t:this.time=t.split(":"),this._drawCalendar()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},clearSelected:function(){this.selected=[],this._drawContent()},toDay:function(){let t=datetime();this.today=datetime().align("day"),this.current={year:this.today.year(),month:this.today.month(),day:this.today.day()},this.time=[t.hour(),t.minute()],this.yearGroupStart=this.today.year(),this.content="days",this._drawHeader(),this._drawContent()},setExclude:function(t){let i=this.element,r=this.options;e.utils.isNull(t)&&e.utils.isNull(i.attr("data-exclude"))||(r.exclude=t||i.attr("data-exclude"),this._dates2array(r.exclude,"exclude"),this._drawContent())},setPreset:function(t){let i=this.element,r=this.options;e.utils.isNull(t)&&e.utils.isNull(i.attr("data-preset"))||(r.preset=t||i.attr("data-preset"),this._dates2array(r.preset,"selected"),this._drawContent())},setSpecial:function(t){let i=this.element,r=this.options;e.utils.isNull(t)&&e.utils.isNull(i.attr("data-special"))||(r.special=t||i.attr("data-special"),this._dates2array(r.exclude,"special"),this._drawContent())},showDate:function(t){return this.setShow(t)},setShow:function(t){let i=this.element,r=this.options,d=i.attr("data-show");!t&&!d||(r.show=t||d,r.show?typeof r.show=="string"&&r.inputFormat?this.show=Datetime.from(r.show,r.inputFormat):this.show=datetime(r.show):this.show=datetime(),this.show=this.show.align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()},this._drawContent())},setMinDate:function(t){let i=this.element,r=this.options,d=i.attr("data-min-date");!t&&!d||(r.minDate=t||d,this.min=r.minDate?(r.inputFormat?Datetime.from(r.minDate,r.inputFormat):datetime(r.minDate)).align("day"):null,this._drawContent())},setMaxDate:function(t){let i=this.element,r=this.options,d=i.attr("data-max-date");r.maxDate=t||d,this.max=r.maxDate?(r.inputFormat?Datetime.from(r.maxDate,r.inputFormat):datetime(r.maxDate)).align("day"):null,this._drawContent()},changeAttribute:function(t){switch(t){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-special":this.setSpecial();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate();break}},destroy:function(){let t=this.element,i=this.options;t.off(e.events.click,".prev-month, .next-month, .prev-year, .next-year"),t.off(e.events.click,".button.today"),t.off(e.events.click,".button.clear"),t.off(e.events.click,".button.cancel"),t.off(e.events.click,".button.done"),t.off(e.events.click,".week-days .day"),t.off(e.events.click,".days-row .day"),t.off(e.events.click,".curr-month"),t.off(e.events.click,".calendar-months li"),t.off(e.events.click,".curr-year"),t.off(e.events.click,".calendar-years li"),t.off(e.events.click),i.ripple===!0&&t.data("ripple").destroy(),a(globalThis).off(e.events.resize,{ns:this.id}),t.remove()}}),a(document).on(e.events.click,()=>{a(".calendar .calendar-years").each(function(){a(this).removeClass("open")}),a(".calendar .calendar-months").each(function(){a(this).removeClass("open")})}),e.defaults.Calendar=f})(Metro,Dom),((e,a)=>{let f={label:"",value:"",calendarPickerDeferred:0,nullValue:!0,useNow:!1,prepend:"",dialogMode:!1,dialogPoint:640,dialogOverlay:!0,overlayColor:"#000000",overlayAlpha:.5,size:"100%",format:METRO_DATE_FORMAT,inputFormat:null,clearButton:!1,calendarButtonIcon:"📅",clearButtonIcon:"❌",copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsInput:"",clsPrepend:"",clsLabel:"",onDayClick:e.noop,onCalendarPickerCreate:e.noop,onCalendarShow:e.noop,onCalendarHide:e.noop,onChange:e.noop,onPickerChange:e.noop,onMonthChange:e.noop,onYearChange:e.noop};e.calendarPickerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroCalendarPickerSetup<"u"&&e.calendarPickerSetup(globalThis.metroCalendarPickerSetup),e.Component("calendar-picker",{init:function(t,i){let r=datetime();return this._super(i,t,a.extend({},e.defaults.Calendar,{},f),{value:null,value_date:null,calendar:null,overlay:null,id:e.utils.elementId("calendar-picker"),time:[r.hour(),r.minute()]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("calendar-picker-create",{element:this.element})},_correctTime:t=>{let i=Str.lpad(t[0],"0",2),r=Str.lpad(t[1],"0",2);return`${i}:${r}`},_createStructure:function(){var $e;let t=this.element,i=this.options,r=this.locale,d=a("<div>").addClass(`input ${t[0].className} calendar-picker`),m=a("<div>").addClass("button-group"),_,C=a("<div>"),k,E,F,P,U,Y=a("body");t.attr("type","text"),t.attr("autocomplete","off"),t.attr("readonly",!0),e.utils.isValue(i.initialTime)&&(this.time=i.initialTime.trim().split(":")),e.utils.isValue(i.initialHours)&&(this.time[0]=Number.parseInt(i.initialHours)),e.utils.isValue(i.initialMinutes)&&(this.time[1]=Number.parseInt(i.initialMinutes)),k=`${i.value}`.trim()!==""?i.value:t.val().trim();let ee=k||"";e.utils.isValue(k)?(E=k.split(" "),this.value=(i.inputFormat?Datetime.from(E[0],i.inputFormat,r):datetime(E[0])).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),E[1]&&(this.time=E[1].trim().split(":"))):i.useNow&&(this.value=datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),this.time=[this.value.hour(),this.value.minute()]),U=!k&&i.nullValue===!0?"":datetime(this.value).format(i.format,r),i.showTime&&this.time&&U&&(U+=` ${this._correctTime(this.time)}`),t.val(U),d.insertBefore(t),t.appendTo(d),m.appendTo(d),C.appendTo(i.dialogMode?Y:d),($e=this.time)!=null&&$e.length&&(F=this.time[0],typeof this.time[1]<"u"&&(P=this.time[1]));let Ae=i.initialTime;if(i.initialHours&&(F=i.initialHours),i.initialHours&&(P=i.initialMinutes),e.makePlugin(C,"calendar",{showTime:i.showTime,initialTime:Ae,initialHours:F,initialMinutes:P,clsCalendarTime:i.clsCalendarTime,clsTime:i.clsTime,clsTimeHours:i.clsTimeHours,clsTimeMinutes:i.clsTimeMinutes,clsTimeButton:i.clsTimeButton,clsTimeButtonPlus:i.clsTimeButtonPlus,clsTimeButtonMinus:i.clsTimeButtonMinus,wide:i.wide,widePoint:i.widePoint,format:i.format,inputFormat:i.inputFormat,pickerMode:!0,show:ee,preset:ee,weekStart:i.weekStart,outside:i.outside,buttons:!1,headerFormat:i.headerFormat,clsCalendar:[i.clsCalendar,"calendar-for-picker",i.dialogMode?"dialog-mode":""].join(" "),clsCalendarHeader:i.clsCalendarHeader,clsCalendarContent:i.clsCalendarContent,clsCalendarFooter:"d-none",clsCalendarMonths:i.clsCalendarMonths,clsCalendarYears:i.clsCalendarYears,clsToday:i.clsToday,clsSelected:i.clsSelected,clsExcluded:i.clsExcluded,ripple:i.ripple,rippleColor:i.rippleColor,exclude:i.exclude,minDate:i.minDate,maxDate:i.maxDate,yearsBefore:i.yearsBefore,yearsAfter:i.yearsAfter,special:i.special,events:i.events,showHeader:!1,showFooter:!1,multiSelect:!1,showWeekNumber:i.showWeekNumber,onDayClick:(ze,Re,Se,Le)=>{let Me=datetime(ze[0]).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),Fe;this._removeOverlay(),this.value=Me,this.time=Se,Fe=Me.format(i.format,r),i.showTime&&(Fe+=` ${this._correctTime(Se)}`),t.val(Fe),t.trigger("change"),C.removeClass("open open-up"),C.hide(),this._fireEvent("change",{val:this.value.val(),time:this.time}),this._fireEvent("day-click",{sel:ze,day:Re,time:Se,el:Le}),this._fireEvent("picker-change",{val:this.value.val(),time:this.time})},onTimeChange:ze=>{let Re;this.time=ze,this.value||(this.value=datetime()),Re=this.value.format(i.format,this.locale),i.showTime&&(Re+=` ${this._correctTime(ze)}`),t.val(Re),this._fireEvent("change",{val:this.value.val(),time:this.time}),this._fireEvent("picker-change",{val:this.value.val(),time:this.time})},onMonthChange:i.onMonthChange,onYearChange:i.onYearChange}),this.calendar=C,i.clearButton===!0&&(_=a("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon),_.appendTo(m)),a("<button>").addClass("button input-calendar-button").attr("tabindex",-1).attr("type","button").html(i.calendarButtonIcon).appendTo(m),i.prepend!==""&&a("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(d),t.attr("dir")==="rtl"&&d.addClass("rtl"),String(i.size).indexOf("%")>-1?d.css({width:i.size}):d.css({width:`${Number.parseInt(i.size)}px`}),t[0].className="",i.copyInlineStyles===!0&&a.each(e.utils.getInlineStyles(t),(ze,Re)=>{d.css(ze,Re)}),d.addClass(i.clsPicker),t.addClass(i.clsInput),i.dialogOverlay===!0&&(this.overlay=this._overlay()),i.dialogMode===!0?d.addClass("dialog-mode"):e.utils.media(`(max-width: ${i.dialogPoint}px)`)&&(d.addClass("dialog-mode"),this.calendar.addClass("dialog-mode")),i.label){let ze=a("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(d);if(t.attr("id"))ze.attr("for",t.attr("id"));else{let Re=Hooks.useId(t[0]);ze.attr("for",Re),t.attr("id",Re)}t.attr("dir")==="rtl"&&ze.addClass("rtl")}t.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let t=this.element,i=this.options,r=t.parent(),d=r.find(".input-clear-button"),m=this.calendar,_=e.getPlugin(m[0],"calendar"),C=this.calendar;a(globalThis).on(e.events.resize,()=>{i.dialogMode!==!0&&(e.utils.media(`(max-width: ${i.dialogPoint}px)`)?(r.addClass("dialog-mode"),C.appendTo("body").addClass("dialog-mode")):(r.removeClass("dialog-mode"),C.appendTo(r).removeClass("dialog-mode")))},{ns:this.id}),d.length>0&&d.on(e.events.click,k=>{t.val("").trigger("change").blur(),this.value=null,k.preventDefault(),k.stopPropagation()}),r.on(e.events.click,"button, input",k=>{let E=this.value?this.value:datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),F=E.format("YYYY/MM/DD");E.align("day"),m.hasClass("open")===!1&&m.hasClass("open-up")===!1?(a(".calendar-picker .calendar").removeClass("open open-up").hide(),_.setPreset([F]),_.setShow(E),r.hasClass("dialog-mode")&&this.overlay.appendTo(a("body")),m.addClass("open"),i.openMode==="auto"?(e.utils.inViewport(m[0])||m.addClass("open-up"),e.utils.inViewport(m[0])||m.removeClass("open-up")):i.openMode==="up"&&m.addClass("open-up"),this._fireEvent("calendar-show",{calendar:m})):(this._removeOverlay(),m.removeClass("open open-up"),this._fireEvent("calendar-hide",{calendar:m})),k.preventDefault(),k.stopPropagation()}),t.on(e.events.blur,()=>{r.removeClass("focused")}),t.on(e.events.focus,()=>{r.addClass("focused")}),t.on(e.events.change,()=>{e.utils.exec(i.onChange,[this.value.val()],t[0])}),r.on(e.events.click,k=>{k.preventDefault(),k.stopPropagation()})},_overlay:function(){let t=this.options,i=a("<div>");return i.addClass("overlay for-calendar-picker").addClass(t.clsOverlay),t.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(t.overlayColor,t.overlayAlpha)}),i},_removeOverlay:()=>{a("body").find(".overlay.for-calendar-picker").remove()},clear:function(){this.value=datetime(),this.time=[datetime().hour(),datetime().minute()],this.element.val("")},val:function(t,i){let r=this.element,d=this.options,m;if(arguments.length===0||e.utils.isNull(t))return{date:this.value.val(),time:this.time};if(t==="")return this.clear();i&&(d.inputFormat=i);let _=t.split(" ");this.value=d.inputFormat?Datetime.from(_[0],d.inputFormat,this.locale):datetime(_[0]),_[1]&&(this.time=_[1].trim().split(":")),this.value.align("day"),e.getPlugin(this.calendar,"calendar").setTime(this.time),m=this.value.format(d.format),d.showTime&&this.time&&m&&(m+=` ${this._correctTime(this.time)}`),r.val(m),r.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},getTime:function(t=!1){let i=Str.lpad(this.time[0],"0",2),r=Str.lpad(this.time[1],"0",2);return t?`${i}:${r}`:this.time},changeAttribute:function(t,i){let r=e.getPlugin(this.calendar[0],"calendar");switch(t){case"value":this.val(i);break;case"disabled":this.toggleState();break;case"data-special":r.setSpecial(i);break;case"data-exclude":r.setExclude(i);break;case"data-min-date":r.setMinDate(i);break;case"data-max-date":r.setMaxDate(i);break;case"data-value":this.val(i);break}},destroy:function(){let t=this.element,i=this.options,r=t.parent(),d=r.find(".input-clear-button");a(globalThis).off(e.events.resize,{ns:this.id}),d.off(e.events.click),r.off(e.events.click,"button, input"),t.off(e.events.blur),t.off(e.events.focus),t.off(e.events.change),e.getPlugin(this.calendar,"calendar").destroy(),i.label&&r.prev("label").remove(),r.remove()}}),a(document).on(e.events.click,".overlay.for-calendar-picker",function(){a(this).remove(),a(".calendar-for-picker.open").removeClass("open open-up")}),a(document).on(e.events.click,()=>{a(".calendar-picker .calendar").removeClass("open open-up")})})(Metro,Dom),((e,a)=>{let f=["slide","slide-v","fade","switch","zoom","swirl"],t={carouselDeferred:0,autoStart:!1,width:"100%",height:"16/9",effect:f[0],effectFunc:"linear",direction:"left",duration:300,period:5e3,stopOnMouse:!0,controls:!0,controlsOnMouse:!1,controlsOutside:!1,controlPrev:"&larr;",controlNext:"&rarr;",bullets:!0,bulletsStyle:"square",bulletsSize:"default",bulletsPosition:"default",clsCarousel:"",clsSlides:"",clsSlide:"",clsControls:"",clsControlNext:"",clsControlPrev:"",clsBullets:"",clsBullet:"",clsBulletOn:"",clsThumbOn:"",onStop:e.noop,onStart:e.noop,onPlay:e.noop,onSlideClick:e.noop,onBulletClick:e.noop,onThumbClick:e.noop,onMouseEnter:e.noop,onMouseLeave:e.noop,onNextClick:e.noop,onPrevClick:e.noop,onSlideShow:e.noop,onSlideHide:e.noop,onCarouselCreate:e.noop};e.carouselSetup=i=>{t=a.extend({},t,i)},typeof globalThis.metroCarouselSetup<"u"&&e.carouselSetup(globalThis.metroCarouselSetup),e.Component("carousel",{init:function(i,r){return this._super(r,i,t,{height:0,width:0,slides:[],current:null,currentIndex:null,dir:"left",interval:!1,isAnimate:!1,id:e.utils.elementId("carousel")}),this},_create:function(){let i=this.element,r=this.options,d=i.find(".slide"),m=i.find(".slides");this.dir=this.options.direction,i.addClass("carousel").addClass(r.clsCarousel),i.css({maxWidth:r.width}),r.controlsOutside===!0&&i.addClass("controls-outside"),m.length===0&&(m=a("<div>").addClass("slides").appendTo(i),d.appendTo(m)),d.addClass(r.clsSlides),d.length>0&&(this._createSlides(),this._createControls(),this._createBullets(),this._createEvents(),this._resize(),r.controlsOnMouse===!0&&(i.find("[class*=carousel-switch]").fadeOut(0),i.find(".carousel-bullets").fadeOut(0)),r.autoStart===!0?this._start():this._fireEvent("slide-show",{current:this.slides[this.currentIndex][0],prev:void 0})),this._fireEvent("carousel-create",{element:i})},_start:function(){let i=this,r=this.element,d=this.options,m=d.period,_=this.slides[this.currentIndex];_.data("period")!==void 0&&(m=_.data("period")),!(this.slides.length<=1)&&(this.interval===!1&&(this.interval=setTimeout(function(){let C=d.direction==="left"?"next":"prior";i._slideTo(C,!0)},m)),this._fireEvent("start",{element:r}))},_stop:function(){clearInterval(this.interval),this.interval=!1},_resize:function(){let i=this.element,r=this.options,d=i.outerWidth(),m,_=[];["16/9","21/9","4/3"].indexOf(r.height)>-1?m=e.utils.aspectRatioH(d,r.height):String(r.height).indexOf("@")>-1?(_=r.height.substring(1).toArray("|"),a.each(_,function(){let C=this.toArray(",");globalThis.matchMedia(C[0]).matches&&(["16/9","21/9","4/3"].indexOf(C[1])>-1?m=e.utils.aspectRatioH(d,C[1]):m=Number.parseInt(C[1]))})):m=Number.parseInt(r.height),i.css({height:m})},_createSlides:function(){let i=this,r=this.element,d=this.options,m=r.find(".slide");a.each(m,function(_){let C=a(this);if(C.data("cover")!==void 0&&C.css({backgroundImage:`url(${C.data("cover")})`}),_!==0)switch(d.effect){case"switch":case"slide":C.css("left","100%");break;case"slide-v":C.css("top","100%");break;case"fade":case"zoom":case"swirl":C.css("opacity","0");break}else C.addClass("active-slide");C.addClass(d.clsSlide),i.slides.push(C)}),this.currentIndex=0,this.current=this.slides[this.currentIndex]},_createControls:function(){let i=this.element,r=this.options,d,m;r.controls!==!1&&(d=a("<span>").addClass("carousel-switch-next").addClass(r.clsControls).addClass(r.clsControlNext).html("<div></div>"),m=a("<span>").addClass("carousel-switch-prev").addClass(r.clsControls).addClass(r.clsControlPrev).html("<div></div>"),r.controlNext&&d.children("div").html(r.controlNext),r.controlPrev&&m.children("div").html(r.controlPrev),d.appendTo(i),m.appendTo(i))},_createBullets:function(){let i=this.element,r=this.options,d,m;if(r.bullets!==!1){for(d=a("<div>").addClass("carousel-bullets").addClass(`${r.bulletsSize}-size`).addClass(`bullet-style-${r.bulletsStyle}`).addClass(r.clsBullets),r.bulletsPosition==="default"||r.bulletsPosition==="center"?d.addClass("flex-justify-center"):r.bulletsPosition==="left"?d.addClass("flex-justify-start"):d.addClass("flex-justify-end"),m=0;m<this.slides.length;m++){let _=a("<span>").addClass("carousel-bullet").addClass(r.clsBullet).data("slide",m);m===0&&_.addClass("bullet-on").addClass(r.clsBulletOn),_.appendTo(d)}d.appendTo(i)}},_createEvents:function(){let i=this,r=this.element,d=this.options;r.on(e.events.click,".carousel-bullet",function(){let m=a(this);i.isAnimate===!1&&(i._slideToSlide(m.data("slide")),i._fireEvent("bullet-click",{bullet:m}))}),r.on(e.events.click,".carousel-switch-next",function(){i.isAnimate===!1&&(i._slideTo("next",!1),i._fireEvent("next-click",{button:this}))}),r.on(e.events.click,".carousel-switch-prev",function(){i.isAnimate===!1&&(i._slideTo("prev",!1),i._fireEvent("prev-click",{button:this}))}),d.stopOnMouse===!0&&d.autoStart===!0&&(r.on(e.events.enter,()=>{i._stop(),i._fireEvent("mouse-enter",{element:r},!1,!0)}),r.on(e.events.leave,()=>{i._start(),i._fireEvent("mouse-leave",{element:r},!1,!0)})),d.controlsOnMouse===!0&&(r.on(e.events.enter,()=>{r.find("[class*=carousel-switch]").fadeIn(),r.find(".carousel-bullets").fadeIn()}),r.on(e.events.leave,()=>{r.find("[class*=carousel-switch]").fadeOut(),r.find(".carousel-bullets").fadeOut()})),r.on(e.events.click,".slide",function(){let m=a(this);i._fireEvent("slide-click",{slide:m})}),a(globalThis).on(e.events.resize,()=>{i._resize()},{ns:this.id})},_slideToSlide:function(i){let r=this.element,d=this.options;if(this.slides[i]===void 0||this.currentIndex===i)return;let m=i>this.currentIndex?"next":"prev",_=this.slides[this.currentIndex],C=this.slides[i];this.currentIndex=i,this._effect(_,C,d.effect,m),r.find(".carousel-bullet").removeClass("bullet-on").removeClass(d.clsBulletOn),r.find(`.carousel-bullet:nth-child(${this.currentIndex+1})`).addClass("bullet-on").addClass(d.clsBulletOn)},_slideTo:function(i="next",r=!1){let d=this.element,m=this.options,_=this.slides[this.currentIndex];i==="next"?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1));let C=this.slides[this.currentIndex];this._effect(_,C,m.effect,i,r),d.find(".carousel-bullet").removeClass("bullet-on").removeClass(m.clsBulletOn),d.find(`.carousel-bullet:nth-child(${this.currentIndex+1})`).addClass("bullet-on").addClass(m.clsBulletOn)},_effect:function(i,r,d,m,_){let C=this,k=this.options,E=k.duration,F,P=k.effectFunc,U=k.period,Y=(ee,Ae,$e,ze)=>{e.Effects[ee](Ae[0],$e[0],ze)};r.data("duration")!==void 0&&(E=r.data("duration")),r.data("effectFunc")!==void 0&&(P=r.data("effectFunc")),d==="switch"&&(E=0),i.stop(!0),r.stop(!0),this.isAnimate=!0,setTimeout(()=>{C.isAnimate=!1},E+100),d==="slide"?F=m==="next"?"slideLeft":"slideRight":d==="slide-v"?F=m==="next"?"slideUp":"slideDown":F=d,f.includes(d)||(F="switch"),Y(F,i,r,{duration:E,ease:P}),i.removeClass("active-slide"),r.addClass("active-slide"),setTimeout(()=>{C._fireEvent("slide-show",{current:r[0],prev:i[0]})},E),setTimeout(()=>{C._fireEvent("slide-hide",{current:i[0],next:r[0]})},E),_===!0&&(r.data("period")!==void 0&&(U=r.data("period")),this.interval=setTimeout(function(){let ee=k.direction==="left"?"next":"prior";C._slideTo(ee,!0)},U))},toSlide:function(i){this._slideToSlide(i)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},stop:function(){clearInterval(this.interval),this._fireEvent("stop")},play:function(){this._start(),this._fireEvent("play")},setEffect:function(i){let r=this.element,d=this.options,m=r.find(".slide");f.includes(i)&&(d.effect=i,m.removeStyleProperty("transform").css({top:0,left:0}))},changeAttribute:function(i,r){i==="data-effect"&&this.setEffect(r)},destroy:function(){let i=this.element,r=this.options;return i.off(e.events.click,".carousel-bullet"),i.off(e.events.click,".carousel-switch-next"),i.off(e.events.click,".carousel-switch-prev"),r.stopOnMouse===!0&&r.autoStart===!0&&(i.off(e.events.enter),i.off(e.events.leave)),r.controlsOnMouse===!0&&(i.off(e.events.enter),i.off(e.events.leave)),i.off(e.events.click,".slide"),a(globalThis).off(e.events.resize,{ns:this.id}),i}})})(Metro,Dom),((e,a)=>{let f={charmsDeferred:0,position:"right",opacity:1,clsCharms:"",onCharmCreate:e.noop,onOpen:e.noop,onClose:e.noop,onToggle:e.noop};e.charmsSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroCharmsSetup<"u"&&e.charmsSetup(globalThis.metroCharmsSetup),e.Component("charms",{init:function(t,i){return this._super(i,t,f,{origin:{background:""}}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("charm-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options;t.addClass("charms").addClass(`${i.position}-side`).addClass(i.clsCharms),this.origin.background=t.css("background-color"),t.css({backgroundColor:Farbe.Routines.toRGBA(e.utils.getStyleOne(t,"background-color"),i.opacity)})},_createEvents:()=>{},open:function(){this.element.addClass("open"),this._fireEvent("open")},close:function(){this.element.removeClass("open"),this._fireEvent("close")},toggle:function(){this.element.hasClass("open")===!0?this.close():this.open(),this._fireEvent("toggle")},opacity:function(t){let i=this.element,r=this.options;if(t===void 0)return r.opacity;let d=Math.abs(Number.parseFloat(t));d<0||d>1||(r.opacity=d,i.css({backgroundColor:Farbe.Routines.toRGBA(e.utils.getStyleOne(i,"background-color"),d)}))},changeOpacity:function(){let t=this.element;this.opacity(t.attr("data-opacity"))},changeAttribute:function(t){switch(t){case"data-opacity":this.changeOpacity();break}},destroy:function(){return this.element}}),e.charms={check:t=>e.utils.isMetroObject(t,"charms")===!1?(console.warn("Element is not a charms component"),!1):!0,isOpen:function(t){if(this.check(t)!==!1)return a(t).hasClass("open")},open:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").open()},close:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").close()},toggle:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").toggle()},closeAll:()=>{a("[data-role*=charms]").each(function(){e.getPlugin(this,"charms").close()})},opacity:function(t,i){this.check(t)!==!1&&e.getPlugin(t,"charms").opacity(i)}}})(Metro,Dom),((e,a)=>{let f="[data-role-dropmenu], [data-role-dropdown]",t='<svg class="dropdown-caret" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',i={dropdownDeferred:0,dropFilter:null,toggleElement:null,align:"left",noClose:!1,duration:50,openMode:"auto",openFunc:"show",closeFunc:"hide",height:"auto",onDrop:e.noop,onUp:e.noop,onDropdownCreate:e.noop};e.dropdownSetup=r=>{i=a.extend({},i,r)},typeof globalThis.metroDropdownSetup<"u"&&e.dropdownSetup(globalThis.metroDropdownSetup),e.Component("dropdown",{init:function(r,d){return this._super(d,r,i,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){let r=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:r}),r.hasClass("open")&&(r.removeClass("open"),setTimeout(()=>{this.open(!0)},0))},_toggle:function(){let r=this.element,d=r.siblings(".menu-toggle, .dropdown-toggle, a");if(d.length===0&&(d=r.prev(),d.length===0))throw new Error("Menu toggle not found");return d[0]},_createStructure:function(){let r=this.element,d=this.options,m=r.parents("[data-role-dropdown]").length,_;d.openMode==="up"&&r.addClass("drop-up"),_=d.toggleElement?a(d.toggleElement):a(this._toggle()),_.length&&_.append(t),this.displayOrigin=e.utils.getStyleOne(r,"display"),d.height!=="auto"&&r.css({height:d.height,"overflow-y":"auto"}),r.css("display","none"),this.toggle=_,this.level=m},_createEvents:function(){let r=this.element,d=this.options,m=this.toggle,_=r.parent();m.on(e.events.click,C=>{if(a(".active-container").removeClass("active-container"),r.css("display")!=="none"&&!r.hasClass("keep-open"))this.close(!0,r);else{if(a(f).each((k,E)=>{!r.parents("[data-role-dropdown]").is(E)&&!a(E).hasClass("keep-open")&&a(E).css("display")!=="none"&&(e.utils.isValue(d.dropFilter)?a(E).closest(d.dropFilter).length>0&&this.close(!0,E):this.close(!0,E))}),r.hasClass("horizontal")){r.css({visibility:"hidden",display:"block"});let k=0;a.each(r.children("li"),function(){k+=a(this).outerWidth(!0)}),r.css({visibility:"visible",display:"none"}),r.css("width",k+2)}this.open(!1,r),_.addClass("active-container")}C.preventDefault(),C.stopPropagation()}),d.noClose===!0&&r.addClass("keep-open").on(e.events.click,C=>{C.preventDefault(),C.stopPropagation()}),a(r).find("li.disabled a").on(e.events.click,C=>{C.preventDefault()})},_close:function(r,d){let m=a(r),_=e.getPlugin(m,"dropdown"),C=_.toggle,k=_.options,E=k.closeFunc;C.removeClass("active-toggle").removeClass("active-control"),_.element.parent().removeClass("active-container"),d&&(E="hide"),m[E](d?0:k.duration,()=>{_._fireEvent("close"),_._fireEvent("up"),k.openMode==="auto"&&_.element.removeClass("drop-up drop-as-dialog")}),this.isOpen=!1},_open:function(r,d){let m=e.getPlugin(r,"dropdown"),_=m.options,C=_.openFunc;m.toggle.addClass("active-toggle").addClass("active-control"),m.element.parent().addClass("active-container"),m.element[C](d?0:_.duration,function(){let k=a(this),E=e.utils.viewportOutByWidth(this),F=e.utils.viewportOutByHeight(this);_.openMode==="auto"&&(F&&k.addClass("drop-up"),E&&k.addClass("place-right"),e.utils.viewportOut(this)&&k.removeClass("drop-up place-right").addClass("drop-as-dialog")),m._fireEvent("open"),m._fireEvent("drop")}),this.isOpen=!0},close:function(r,d){this._close(d||this.element,r)},open:function(r,d){this._open(d||this.element,r)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:(r,d)=>{},destroy:function(){this.toggle.off(e.events.click)}}),a(document).on(e.events.click,()=>{a(f).each(function(){let r=a(this);if(r.hasClass("keep-open")||r.hasClass("stay-open")||r.hasClass("ignore-document-click"))return;let d=e.getPlugin(r,"dropdown"),m=e.getPlugin(r,"dropmenu");d&&d.close(),m&&m.close()})})})(Metro,Dom),((e,a)=>{let f={id:"",label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"❌",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"",filter:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,openMode:"auto",showGroupName:!1,shortTag:!0,source:null,sourceMethod:"GET",sourceType:"json",filterSource:null,filterThreshold:500,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemAction:"",clsLabel:"",clsGroupName:"",clsFilterInput:"",onClear:e.noop,onChange:e.noop,onUp:e.noop,onDrop:e.noop,onItemSelect:e.noop,onItemDeselect:e.noop,onSelectCreate:e.noop,onData:t=>t};e.selectSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroSelectSetup<"u"&&e.selectSetup(globalThis.metroSelectSetup),e.Component("select",{init:function(t,i){return this._super(i,t,f,{list:null,placeholder:null,observer:null}),this},_create:function(){let t=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:t})},_setPlaceholder:function(){let t=this.element,i=this.options,r=t.siblings(".select-input");i.usePlaceholder===!0&&(!e.utils.isValue(t.val())||`${t.val()}`==`${i.emptyValue}`)&&r.html(i.placeholder||this.strings.label_select_more)},_addTag:function(t,i){let r=this.element,d=this.options,m,_=r.closest(".select"),C=`<span class='title'>${t}</span>`,k=a("<div>").addClass("tag").addClass(d.shortTag?"short-tag":"").addClass(d.clsSelectedItem).html(C).data("option",i);return a("<span>").addClass("action unselect-option").addClass(d.clsSelectedItemAction).html("&times;").appendTo(k),_.hasClass("input-large")?m="large":_.hasClass("input-small")&&(m="small"),k.addClass(m),k},_addOption:function(t,i,r,d,m){let _=a(t),C,k,E=this.element,F=this.options,P=e.utils.isValue(_.attr("data-template"))?_.attr("data-template").replace("$1",t.text):t.text,U=_.attr("data-display");C=a("<li>").addClass(F.clsOption).data("option",t).attr("data-text",t.text).attr("data-value",t.value?t.value:""),k=a("<a>").html(P);let Y=_.attr("data-icon");if(Y&&k.prepend(a("<span>").addClass("icon").html(Y)),U&&(C.attr("data-display",U),P=U),C.addClass(t.className),C.data("group",m),_.is(":disabled")&&C.addClass("disabled"),_.is(":selected")){let ee="";F.showGroupName&&m&&(ee=`&nbsp;<span class='selected-item__group-name ${F.clsGroupName}'>${m}</span>`),d?(C.addClass("d-none"),r.append(this._addTag(k.html()+ee,C))):(P=k.html()+ee,E.val(t.value),r.html(P),E.fire("change",{val:t.value}),C.addClass("active"))}C.append(k).appendTo(i)},_addOptionGroup:function(t,i,r,d){let m=this,_=this.options,C=a(t);a("<li>").html(t.label).addClass("group-title").addClass(_.clsOptionGroup).appendTo(i),a.each(C.children(),function(){m._addOption(this,i,r,d,t.label)})},_createOptions:function(){let t=this,i=this.element,r=this.options,d=i.parent().find("ul").empty(),m=i.find("option[selected]").length>0,_=i[0].multiple,C=i.siblings(".select-input");i.siblings(".select-input").empty(),r.addEmptyValue===!0&&i.prepend(a(`<option ${m?"":"selected"} value='${r.emptyValue}' class='d-none'></option>`)),a.each(i.children(),function(){this.tagName==="OPTION"?t._addOption(this,d,C,_,null):this.tagName==="OPTGROUP"&&t._addOptionGroup(this,d,C,_)})},_createSelect:async function(){let t=this.element,i=this.options,r=t.wrap("<label>"),d=t[0].multiple,m=Hooks.useId(r[0]),_=a("<div>").addClass("button-group"),C,k,E=e.utils.elementId("select-focus-trigger"),F=a("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",E);this.placeholder=a("<span>").addClass("placeholder").html(i.placeholder),r.attr("id",i.id?i.id:m).attr("for",E),r[0].className=e.utils.classNames(t[0].className,`input-${i.size}`,"select",i.clsSelect),a("<span>").addClass("dropdown-toggle").appendTo(r),d&&r.addClass("multiple"),_.appendTo(r),F.appendTo(r);let P=a("<div>").addClass("select-input").addClass(i.clsSelectInput).attr("name",`__${m}__`);C=a("<div>").addClass("drop-container").addClass(i.clsDropContainer),i.dropFullSize===!1?i.dropWidth&&C.css({width:+i.dropWidth}):r.addClass("drop-full-size"),k=a("<div>").appendTo(C);let U=a("<ul>").addClass("option-list").addClass(i.clsDropList).css({"max-height":i.dropHeight});if(a(`<input type='text' data-role='input' data-clear-button-icon="${i.clearButtonIcon}">`).attr("placeholder",i.filterPlaceholder||`${this.strings.label_filter}...`).appendTo(k).addClass(i.clsFilterInput),r.append(P),r.append(C),C.append(k),i.filter!==!0&&k.hide(),C.append(U),i.source&&await this.fetch(i.source,{method:i.sourceMethod||"GET",headers:{"Content-Type":`application/${i.sourceType||"json"}`}}),this._createOptions(),this._setPlaceholder(),this._createDroppable(C),this.list=U,i.clearButton===!0&&!t[0].readOnly?a("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).appendTo(_):_.addClass("d-none"),i.prepend!==""&&!d&&a("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(r),i.append!==""&&!d&&a("<div>").html(i.append).addClass("append").addClass(i.clsAppend).appendTo(r),t.attr("dir")==="rtl"&&r.addClass("rtl").attr("dir","rtl"),i.label){let Y=a("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(r);t.attr("id")?Y.attr("for",t.attr("id")):Y.attr("for",E),t.attr("dir")==="rtl"&&Y.addClass("rtl")}t.is(":disabled")?this.disable():this.enable(),this.observer=new MutationObserver(this._updateSelect.bind(this)),this.observer.observe(t[0],{childList:!0,subtree:!0})},_createDroppable:function(t){let i=this.options,r=t.find("input"),d=this.element.closest(".select"),m=t.siblings(".dropdown-caret"),_=t.find("ul");e.makePlugin(t,"dropdown",{dropFilter:".select",duration:i.duration,toggleElement:[d],openMode:i.openMode,onDrop:()=>{let C;m.addClass("active-toggle");let k=a(".select .drop-container");a.each(k,function(){let E=a(this);if(E.is(t))return;let F=e.getPlugin(E,"dropdown");F!=null&&F.close&&F.close()}),r.val("").trigger(e.events.keyup),C=_.find("li.active").length>0?a(_.find("li.active")[0]):void 0,C!==void 0&&(_[0].scrollTop=C.position().top-(_.height()-C.height())/2),this._fireEvent("drop",{list:_[0]})},onUp:()=>{m.removeClass("active-toggle"),this._fireEvent("up",{list:_[0]})}})},_updateSelect:function(t){for(let i of t)i.type==="childList"&&(i.addedNodes.length||i.removedNodes.length)&&this._createOptions()},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.closest(".select"),m=d.find(".drop-container"),_=i.siblings(".select-input"),C=m.find("input"),k=m.find("ul"),E=d.find(".input-clear-button"),F=d.find(".select-focus-trigger");F.on("focus",()=>{d.addClass("focused")}),F.on("blur",()=>{d.removeClass("focused")}),E.on(e.events.click,U=>{i.val(r.emptyValue),i[0].multiple&&k.find("li").removeClass("d-none"),_.clear(),t._setPlaceholder(),U.preventDefault(),U.stopPropagation(),t._fireEvent("clear"),t._fireEvent("change",{selected:t.getSelected()})}),i.on(e.events.change,()=>{t._setPlaceholder()}),d.on(e.events.click,()=>{a(".focused").removeClass("focused"),d.addClass("focused")}),_.on(e.events.click,()=>{a(".focused").removeClass("focused"),d.addClass("focused")}),k.on(e.events.click,"li",function(U){if(a(this).hasClass("group-title")){U.preventDefault(),U.stopPropagation();return}let Y=a(this),ee=Y.attr("data-display"),Ae=Y.data("value"),$e=Y.data("group"),ze=ee||Y.children("a").html(),Re=Y.data("option"),Se=i.find("option");r.showGroupName&&$e&&(ze+=`&nbsp;<span class='selected-item__group-name ${r.clsGroupName}'>${$e}</span>`),i[0].multiple?(Y.addClass("d-none"),_.append(t._addTag(ze,Y))):(k.find("li.active").removeClass("active").removeClass(r.clsOptionActive),Y.addClass("active").addClass(r.clsOptionActive),_.html(ze),e.getPlugin(m,"dropdown").close()),a.each(Se,function(){this===Re&&(this.selected=!0)}),t._fireEvent("item-select",{val:Ae,option:Re,leaf:Y[0]});let Le=t.getSelected();t._fireEvent("change",{selected:Le})}),_.on("click",".tag .action",function(U){let Y=a(this).closest(".tag"),ee=Y.data("option"),Ae=ee.data("option");ee.removeClass("d-none"),a.each(i.find("option"),function(){this===Ae&&(this.selected=!1)}),Y.remove(),t._fireEvent("item-deselect",{option:Ae});let $e=t.getSelected();t._fireEvent("change",{selected:$e}),U.preventDefault(),U.stopPropagation()});let P=Hooks.useDebounce(async U=>{let Y=this.options,ee=this.list,Ae=U.target.value.toLowerCase(),$e=`${Y.filterSource}${Ae}`;if(Y.filterSource)await this.fetch($e,{method:Y.sourceMethod||"GET",headers:{"Content-Type":`application/${Y.sourceType||"json"}`}},!0);else{let ze=ee.find("li"),Re,Se,Le;for(Re=0;Re<ze.length;Re++)a(ze[Re]).hasClass("group-title")||(Se=ze[Re].getElementsByTagName("a")[0],Le=Se.innerHTML||Se.innerText,Le.toLowerCase().includes(Ae)?ze[Re].style.display="":ze[Re].style.display="none")}},r.filterThreshold);C.on(e.events.keyup,P.bind(this)),C.on(e.events.click,U=>{U.preventDefault(),U.stopPropagation()}),m.on(e.events.click,U=>{U.preventDefault(),U.stopPropagation()})},_clearOptions:function(){this.element.clear(),this.list.clear()},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(t){let i=this.element,r=i.find("option"),d=i.closest(".select");a.each(r,function(){this.selected=e.utils.isNull(t)?!1:this.defaultSelected}),this.list.find("li").remove(),d.find(".select-input").html(""),this._createOptions();let m=this.getSelected();this._fireEvent("change",{selected:m})},getSelected:function(){let t=this.element,i=[];return t.find("option").each(function(){this.selected&&i.push(this.value)}),i},val:function(t){let i=this,r=this.element,d=this.options,m=r.siblings(".select-input"),_=r.find("option"),C=this.list.find("li"),k=[],E=!!r.attr("multiple"),F,P,U,Y,ee,Ae;if(e.utils.isNull(t))return a.each(_,function(){this.selected&&k.push(this.value)}),E?k:k[0];a.each(_,function(){this.selected=!1}),C.removeClass("active").removeClass(d.clsOptionActive),m.html("");let $e=Array.isArray(t)?t:[t];a.each($e,function(){for(P=0;P<_.length;P++)if(F=_[P],U=e.utils.isValue(F.getAttribute("data-template"))?F.getAttribute("data-template").replace("$1",F.text):F.text,`${F.value}`==`${this}`){F.selected=!0;break}for(P=0;P<C.length;P++)if(Y=a(C[P]),Ae=Y.data("group"),ee=Y.attr("data-value"),`${ee}`==`${this}`){d.showGroupName&&Ae&&(U+=`&nbsp;<span class='selected-item__group-name'>${Ae}</span>`),E?(Y.addClass("d-none"),m.append(i._addTag(U,Y))):(Y.addClass("active").addClass(d.clsOptionActive),m.html(U));break}});let ze=this.getSelected();this._fireEvent("change",{selected:ze})},options:function(t,i,r){return this.data(t,i,r)},data:function(t,i,r){let d=this.element,m,_,C=r||",";return typeof i=="string"?_=i.toArray(C).map(k=>Number.isNaN(k)?k:+k):Array.isArray(i)?_=i.slice().map(k=>Number.isNaN(k)?k:+k):_=[],this.observer.disconnect(),d.empty(),typeof t=="string"?d.html(t):e.utils.isObject2(t)&&a.each(t,(k,E)=>{if(e.utils.isObject2(E))m=a("<optgroup label=''>").attr("label",k).appendTo(d),a.each(E,(F,P)=>{let U=a("<option>").attr("value",F).text(P).appendTo(m);_.indexOf(+F)>-1&&U.prop("selected",!0)});else{let F=a("<option>").attr("value",k).text(E).appendTo(d);_.indexOf(k)>-1&&F.prop("selected",!0)}}),this._createOptions(),this.observer.observe(d[0],{childList:!0,subtree:!0}),this},addOption:function(t,i,r){let d=this.element,m=a("<option>").attr("value",t).text(i||t);return d.append(m),r&&(d[0].multiple||d.find("option").prop("selected",!1),m.prop("selected",!0)),this},addOptions:function(t){let i=this;return t?(this.observer.disconnect(),Array.isArray(t)?a.each(t,function(){e.utils.isObject2(this)?i.addOption(this.val,this.title,this.selected):i.addOption(this)}):e.utils.isObject2(t)&&a.each(t,(r,d)=>{i.addOption(r,d)}),this._createOptions(),this.observer.observe(element[0],{childList:!0,subtree:!0}),this):this},removeOption:function(t){return this.element.find("option").each(function(){let i=a(this);`${i.attr("value")}`=="${val}"&&i.remove()}),this._createOptions(),this},removeOptions:function(t){let i=this.element.find("option");return!t||!Array.isArray(t)?this:(i.each(function(){let r=a(this),d=r.attr("value");t.indexOf(d)>-1&&r.remove()}),this._createOptions(),this)},fetch:async function(t,i,r=!1){let d=this.element,m=this.options,_=Object.assign({method:"GET",headers:{"Content-Type":`application/${m.sourceType}`}},i),C=await fetch(t,_);if(C.ok===!1)return;r&&this._clearOptions();let k=m.sourceType==="json"?await C.json():await C.text();k=e.utils.exec(m.onData,[k],d[0]),a.each(k,function(){let E=a("<option>").attr("value",this.value).html(this.text);this.icon&&E.attr("data-icon",this.icon),E.appendTo(d)})},changeAttribute:function(t){t==="disabled"&&this.toggleState()},destroy:function(){let t=this.element,i=this.options,r=t.closest(".select"),d=r.find(".drop-container"),m=t.siblings(".select-input"),_=d.find("input"),C=d.find("ul"),k=r.find(".input-clear-button");r.off(e.events.click),r.off(e.events.click,".input-clear-button"),m.off(e.events.click),_.off(e.events.blur),_.off(e.events.focus),C.off(e.events.click,"li"),_.off(e.events.keyup),d.off(e.events.click),k.off(e.events.click),d.data("dropdown").destroy(),i.label&&r.prev("label").remove(),r.remove()}}),a(document).on(e.events.click,()=>{a(".select").removeClass("focused")},{ns:"blur-select-elements"})})(Metro,Dom),((e,a)=>{let f={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",searchButton:!1,clearButton:!0,revealButton:!0,randomButton:!1,clearButtonIcon:"❌",revealButtonIcon:"👀",searchButtonIcon:"🔍",randomButtonIcon:"🎲",customButtons:[],searchButtonClick:"submit",randomSymbols:"0123456789;abcdefghijklmnopqrstuvwxyz;ABCDEFGHIJKLMNOPQRSTUVWXYZ;<>!?@#$%^&*()_+",randomLength:12,prependOptions:"",prependOptionsSep:",",appendOptions:"",appendOptionsSep:",",badge:null,clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsRandomButton:"",clsLabel:"",onAutocompleteSelect:e.noop,onHistoryChange:e.noop,onHistoryUp:e.noop,onHistoryDown:e.noop,onClearClick:e.noop,onRevealClick:e.noop,onSearchButtonClick:e.noop,onEnterClick:e.noop,onInputCreate:e.noop};e.inputSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroInputSetup<"u"&&e.inputSetup(globalThis.metroInputSetup),e.Component("input",{init:function(t,i){return this._super(i,t,f,{history:[],historyIndex:-1,autocomplete:[],prependOptionsList:null,appendOptionsList:null}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:t})},_createStructure:function(){let t=this,i=this.element,r=this.options,d=i.wrap("<div>").addClass(`input ${i[0].className}`),m,_,C,k,E;e.utils.isValue(r.historyPreset)&&(a.each(r.historyPreset.toArray(r.historyDivider),function(){t.history.push(this)}),t.historyIndex=t.history.length-1),i.attr("type")===void 0&&i.attr("type","text"),m=a("<div>").addClass("button-group").appendTo(d),e.utils.isValue(i.val().trim())||i.val(r.defaultValue),r.clearButton===!0&&!i[0].readOnly&&(_=a("<button>").addClass("button input-clear-button").addClass(r.clsClearButton).attr("tabindex",-1).attr("type","button").html(r.clearButtonIcon).attr("title",this.strings.label_clear_input),_.appendTo(m)),i.attr("type")==="password"&&r.revealButton===!0&&(C=a("<button>").addClass("button input-reveal-button").addClass(r.clsRevealButton).attr("tabindex",-1).attr("type","button").html(r.revealButtonIcon).attr("title",this.strings.label_reveal_password),C.appendTo(m)),r.searchButton===!0&&(k=a("<button>").addClass("button input-search-button").addClass(r.clsSearchButton).attr("tabindex",-1).attr("type",r.searchButtonClick==="submit"?"submit":"button").html(r.searchButtonIcon).attr("title",this.strings.label_search_input),k.appendTo(m)),r.randomButton===!0&&(E=a("<button>").addClass("button input-random-button").addClass(r.clsRandomButton).attr("tabindex",-1).attr("type","button").html(r.randomButtonIcon).attr("title",this.strings.label_generate_random),E.appendTo(m));let F,P;if(r.prepend&&a("<div>").html(r.prepend).addClass("prepend").addClass(r.clsPrepend).appendTo(d),r.prependOptions){F=a("<div>").addClass("prepend-options").appendTo(d),P=a("<select data-role='select'>").addClass("options-list"),F.append(P);for(let Y of r.prependOptions.toArray(r.prependOptionsSep))a("<option>").attr("value",Y).html(Y).appendTo(P);this.prependOptionsList=P}if(r.append&&a("<div>").html(r.append).addClass("append").addClass(r.clsAppend).appendTo(d),r.appendOptions){F=a("<div>").addClass("append-options").appendTo(d),P=a("<select data-role='select'>").addClass("options-list"),F.append(P);for(let Y of r.appendOptions.toArray(r.appendOptionsSep))a("<option>").attr("value",Y).html(Y).appendTo(P);this.appendOptionsList=P}let U=e.utils.isObject(r.customButtons);if(Array.isArray(U)&&a.each(U,function(){let Y=a("<button>");Y.addClass("button input-custom-button").addClass(r.clsCustomButton).addClass(this.cls).attr("tabindex",-1).attr("type","button").html(this.text),this.attr&&typeof this.attr=="object"&&a.each(this.attr,(ee,Ae)=>{Y.attr(Str.dashedName(ee),Ae)}),this.onclick&&Y.on("click",()=>{this.onclick.apply(Y,[i.valueOf(),i])}),Y.appendTo(m)}),e.utils.isValue(i.attr("data-exclaim"))&&d.attr("data-exclaim",i.attr("data-exclaim")),i.attr("dir")==="rtl"&&d.addClass("rtl").attr("dir","rtl"),i[0].className="",d.addClass(r.clsComponent),i.addClass(r.clsInput),r.size!=="default"&&d.css({width:r.size}),(!e.utils.isNull(r.autocomplete)||!e.utils.isNull(r.autocompleteUrl))&&a("<div>").addClass("autocomplete-list").css({maxHeight:r.autocompleteListHeight,display:"none"}).appendTo(d),e.utils.isValue(r.autocomplete)){let Y=e.utils.isObject(r.autocomplete);Y!==!1?this.autocomplete=Y:this.autocomplete=r.autocomplete.toArray(r.autocompleteDivider)}if(e.utils.isValue(r.autocompleteUrl)&&fetch(r.autocompleteUrl,{method:r.autocompleteUrlMethod}).then(Y=>Y.text()).then(Y=>{let ee=[];try{ee=JSON.parse(Y),r.autocompleteUrlKey&&(ee=ee[r.autocompleteUrlKey])}catch{ee=Y.split(`
`)}t.autocomplete=t.autocomplete.concat(ee)}),r.label){let Y=a("<label>").addClass("label-for-input").addClass(r.clsLabel).html(r.label).insertBefore(d);if(i.attr("id"))Y.attr("for",i.attr("id"));else{let ee=Hooks.useId(i[0]);i.id(ee),Y.attr("for",ee)}i.attr("dir")==="rtl"&&Y.addClass("rtl")}r.badge&&d.append(a("<div>").addClass("badge").html(r.badge)),i.is(":disabled")?this.disable():this.enable(),this.component=d},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.closest(".input"),m=d.find(".autocomplete-list");d.on(e.events.click,".input-clear-button",()=>{let _=i.val();i.val(e.utils.isValue(r.defaultValue)?r.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),m.length>0&&m.css({display:"none"}),t._fireEvent("clear-click",{prev:_})}),d.on(e.events.click,".input-reveal-button",()=>{i.attr("type")==="password"?i.attr("type","text"):i.attr("type","password"),t._fireEvent("reveal-click",{val:i.val()})}),d.on(e.events.click,".input-search-button",function(){r.searchButtonClick!=="submit"?(console.log("Search button clicked"),t._fireEvent("search-button-click",{val:t.val(),button:this})):this.form&&this.form.submit()}),d.on(e.events.click,".input-random-button",()=>{let _=t._generateRandomValue();i.val(_).fire("change").fire("keyup").focus(),t._fireEvent("random-click",{val:_})}),i.on(e.events.keyup,_=>{let C=i.val().trim();r.history&&_.keyCode===e.keyCode.ENTER&&C!==""&&(i.val(""),t.history.push(C),t.historyIndex=t.history.length-1,t._fireEvent("history-change",{val:C,history:t.history,historyIndex:t.historyIndex}),r.preventSubmit===!0&&_.preventDefault()),r.history&&_.keyCode===e.keyCode.UP_ARROW&&(t.historyIndex--,t.historyIndex>=0?(i.val(""),i.val(t.history[t.historyIndex]),t._fireEvent("history-down",{val:i.val(),history:t.history,historyIndex:t.historyIndex})):t.historyIndex=0,_.preventDefault()),r.history&&_.keyCode===e.keyCode.DOWN_ARROW&&(t.historyIndex++,t.historyIndex<t.history.length?(i.val(""),i.val(t.history[t.historyIndex]),t._fireEvent("history-up",{val:i.val(),history:t.history,historyIndex:t.historyIndex})):t.historyIndex=t.history.length-1,_.preventDefault())}),i.on(e.events.keydown,_=>{_.keyCode===e.keyCode.ENTER&&t._fireEvent("enter-click",{val:i.val()})}),i.on(e.events.blur,()=>{d.removeClass("focused")}),i.on(e.events.focus,()=>{d.addClass("focused")}),i.on(e.events.input,function(){let _=this.value.toLowerCase();t._drawAutocompleteList(_)}),d.on(e.events.click,".autocomplete-list .item",function(){let _=a(this).attr("data-autocomplete-value");i.val(_),m.css({display:"none"}),i.trigger("change"),t._fireEvent("autocomplete-select",{value:_})})},_generateRandomValue:function(){let t=this.options,i=t.randomSymbols.split(";"),r=Math.round(t.randomLength/i.length),d=[];for(let m of i){let _=m.split(""),C=_.length;for(let k=0;k<r;k++)d.push(_[Math.floor(Math.random()*C)])}return d.shuffle().join("")},_drawAutocompleteList:function(t){let i=this,r=this.element.closest(".input").find(".autocomplete-list");if(r.length===0)return;r.html("");let d=this.autocomplete.filter(m=>m.toLowerCase().indexOf(t)>-1);r.css({display:d.length>0?"block":"none"}),a.each(d,function(){let m=this.toLowerCase().indexOf(t),_,C=a("<div>").addClass("item").attr("data-autocomplete-value",this);m===0?_=`<strong>${this.substring(0,t.length)}</strong>${this.substring(t.length)}`:_=`${this.substring(0,m)}<strong>${this.substring(m,t.length)}</strong>${this.substring(m+t.length)}`,C.html(_).appendTo(r),i._fireEvent("draw-autocomplete-item",{item:C})})},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(t){this.historyIndex=t>=this.history.length?this.history.length-1:t},setHistory:function(t,i){let r=this,d=this.options;if(!t)return;typeof t!="string"&&!Array.isArray(t)&&(console.error("History must be a string or an array!"),console.dir(t));let m=typeof t=="string"?t.toArray(d.historyDivider):t;i===!0?a.each(m,function(){r.history.push(this)}):this.history=t,this.historyIndex=this.history.length-1},clear:function(){this.element.val("")},toDefault:function(){this.element.val(e.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(t){let i=e.utils.isObject(t);i!==!1?this.autocomplete=i:typeof t=="string"&&(this.autocomplete=t.toArray(this.options.autocompleteDivider))},val:function(t,i=";"){let r=this.element,d=this.options;if(!e.utils.isValue(t)){let E=r.val();return d.prependOptions&&(E=this.prependOptionsList.val()+E),d.appendOptions&&(E=E+this.appendOptionsList.val()),E}let m=t.split(i),_="",C="";d.prependOptions&&(_=m.shift(),e.getPlugin(this.prependOptionsList,"select").val(_),console.log(_)),d.appendOptions&&(C=m.pop(),e.getPlugin(this.appendOptionsList,"select").val(C));let k=m.join("");r.val(k)},prependOptionsVal:function(t){this.options.prependOptions&&(e.utils.isValue(t)||this.prependOptionsList.val(),this.prependOptionsList.val(t))},appendOptionsVal:function(t){if(this.options.appendOptions){if(!e.utils.isValue(t))return this.appendOptionsList.val();this.appendOptionsList.val(t)}},changeAttribute:function(t){switch(t){case"disabled":this.toggleState();break}},destroy:function(){let t=this.element,i=this.options,r=t.parent(),d=r.find(".input-clear-button"),m=r.find(".input-reveal-button"),_=r.find(".input-custom-button");d.length>0&&d.off(e.events.click),m.length>0&&(m.off(e.events.start),m.off(e.events.stop)),_.length>0&&d.off(e.events.click),t.off(e.events.blur),t.off(e.events.focus),i.label&&r.prev("label").remove(),r.remove()}}),a(document).on(e.events.click,()=>{a(".input .autocomplete-list").hide()})})(Metro,Dom),((e,a)=>{let f={chatDeferred:0,inputTimeFormat:null,timeFormat:"D MMM hh:mm A",name:"John Doe",avatar:"<span>👦</span>",welcome:null,welcomeAvatar:"<span>👽</span>",title:null,width:"100%",height:"auto",messages:null,sendButtonTitle:"",sendButtonIcon:"",readonly:!1,clsChat:"",clsName:"",clsTime:"",clsInput:"",clsSendButton:"",clsMessageLeft:"default",clsMessageRight:"default",onMessage:e.noop,onSend:e.noop,onSendButtonClick:e.noop,onChatCreate:e.noop};e.chatSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroChatSetup<"u"&&e.chatSetup(globalThis.metroChatSetup),e.Component("chat",{init:function(t,i){return this._super(i,t,f,{input:null,classes:"primary secondary success alert warning yellow info dark light".split(" "),lastMessage:null}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("chat-create",{element:t})},_createStructure:function(){let t=this,i=this.element,r=this.options,d=[{html:`${r.sendButtonTitle||this.strings.label_send}${r.sendButtonIcon}`,cls:`${r.clsSendButton} js-chat-send-button`,onclick:r.onSendButtonClick}];i.addClass("chat").addClass(r.clsChat),i.css({width:r.width,height:r.height}),e.utils.isValue(r.title)&&a("<div>").addClass("title").html(r.title).appendTo(i),a("<div>").addClass("messages").appendTo(i);let m=a("<div>").addClass("message-input").appendTo(i),_=a("<input type='text'>").addClass("chat-input");_.appendTo(m),setTimeout(()=>{e.makePlugin(_[0],"input",{customButtons:d,clsInput:r.clsInput})}),r.welcome&&this.add({text:r.welcome,time:datetime(),position:"left",name:"Chat Bot",avatar:r.welcomeAvatar}),e.utils.isValue(r.messages)&&typeof r.messages=="string"&&(r.messages=e.utils.isObject(r.messages)),!e.utils.isNull(r.messages)&&typeof r.messages=="object"&&e.utils.objectLength(r.messages)>0&&a.each(r.messages,function(){t.add(this)}),i.find(".message-input")[r.readonly?"addClass":"removeClass"]("disabled")},_createEvents:function(){let t=this.element,i=this.options,r=()=>{let d=t.find(".chat-input input"),m=`${d.val()}`;if(m.trim()==="")return!1;let _={id:e.utils.elementId("chat-message"),name:i.name,avatar:i.avatar,text:m,position:"right",time:datetime()};this.add(_),d.val(""),this._fireEvent("send",{msg:_}),d.focus()};t.on(e.events.click,".js-chat-send-button",()=>{r()}),t.on(e.events.keyup,".chat-input > input",d=>{d.keyCode===e.keyCode.ENTER&&r()})},add:function(t){let i=this.element,r=this.options,d=this.locale,m,_,C,k,E,F=i.find(".messages"),P=r.inputTimeFormat?Datetime.from(t.time,r.inputTimeFormat,d):datetime(t.time);if(m=a("<div>").addClass("message").addClass(t.position).appendTo(F),C=a("<div>").addClass("message-item").appendTo(m),e.utils.isUrl(t.avatar)||t.avatar.includes("data:image"))k=a("<img>").attr("src",t.avatar).attr("alt",t.avatar).addClass("message-avatar").appendTo(C);else if(t.avatar){let Y=a(t.avatar);Y.length?k=Y.addClass("message-avatar").appendTo(C):k=a("<span>").addClass("message-avatar").html(t.avatar).appendTo(C)}E=a("<div>").addClass("message-text").append(a("<div>").addClass("message-text-inner").html(Str.escapeHtml(t.text))).appendTo(C);let U=a("<div>").addClass("message-time").addClass(r.clsTime).text(P.format(r.timeFormat)).appendTo(E);return _=a("<div>").addClass("message-sender").addClass(r.clsName).text(t.name).appendTo(E),e.utils.isValue(t.id)&&m.attr("id",t.id),t.position==="left"&&e.utils.isValue(r.clsMessageLeft)&&E.addClass(r.clsMessageLeft),t.position==="right"&&e.utils.isValue(r.clsMessageRight)&&E.addClass(r.clsMessageRight),this.lastMessage&&this.lastMessage.position===t.position&&(E.addClass("--next"),k.visible(!1),_.hide()),this._fireEvent("message",{msg:t,el:{message:m,sender:_,time:U,item:C,avatar:k,text:E}}),F.animate({draw:{scrollTop:F[0].scrollHeight},dur:1e3}),this.lastMessage=t,this},addMessages:function(t){let i=this,r=t;return e.utils.isValue(r)&&typeof r=="string"&&(r=e.utils.isObject(r)),typeof r=="object"&&e.utils.objectLength(r)>0&&a.each(r,function(){i.add(this)}),this},delMessage:function(t){return this.element.find(".messages").find(`#${t}`).remove(),this},updMessage:function(t){let i=this.element.find(".messages").find(`#${t.id}`),r=this.options,d=this.locale;if(i.length===0)return this;let m=r.inputTimeFormat?Datetime.from(t.time,r.inputTimeFormat,d):datetime(t.time);return i.find(".message-text-inner").html(t.text),i.find(".message-time").html(m.format(r.timeFormat)),this},clear:function(){this.element.find(".messages").html(""),this.lastMessage=null},toggleReadonly:function(t){let i=this.element,r=this.options;r.readonly=typeof t>"u"?!r.readonly:t,i.find(".message-input")[r.readonly?"addClass":"removeClass"]("disabled")},changeAttribute:function(t){switch(t){case"data-readonly":this.toggleReadonly();break}},destroy:function(){let t=this.element,i=t.find(".js-chat-send-button"),r=t.find("input[type=text]");return i.off(e.events.click),r.off(e.events.keyup),t}}),e.defaults.Chat=f})(Metro,Dom),((e,a)=>{globalThis.CHECKBOX_STATE={CHECKED:1,UNCHECKED:-1,INDETERMINATE:0};let f={checkboxDeferred:0,state:CHECKBOX_STATE.UNCHECKED,threeState:!1,prepend:"",append:"",caption:"",clsCheckbox:"",clsCaption:"",clsPrepend:"",clsAppend:"",onCheckboxCreate:e.noop};e.metroCheckboxSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroCheckboxSetup<"u"&&e.metroCheckboxSetup(globalThis.metroCheckboxSetup),e.Component("checkbox",{init:function(t,i){return this._super(i,t,f,{origin:{className:""},state:CHECKBOX_STATE.UNCHECKED}),this},_create:function(){let t=this.options;(t.threeState===!1&&t.state===0||t.state==="indeterminate")&&(t.state=CHECKBOX_STATE.UNCHECKED),t.state===CHECKBOX_STATE.UNCHECKED||t.state==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:t.state===0||t.state==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(t=!0){let i=this.element;i[0].indeterminate=t,i.attr("data-indeterminate",t)},_createStructure:function(){let t=this.element,i=this.options,r=t.wrap("<label>").addClass("checkbox").addClass(i.clsCheckbox);t.attr("type","checkbox"),i.prepend&&r.prepend(a("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),(i.append||i.caption)&&r.append(a("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.caption?i.caption:i.append)),t.attr("readonly")!==void 0&&t.on("click",d=>{d.preventDefault()}),this.elem.checked&&this.state!==CHECKBOX_STATE.INDETERMINATE&&(this.state=!0),this._drawState()},_drawState:function(){let t=this.elem;this._indeterminate(!1),t.checked=this.state!==CHECKBOX_STATE.UNCHECKED,this.state===CHECKBOX_STATE.INDETERMINATE&&this._indeterminate(!0)},_createEvents:function(){let t=this.element,i=this.options;t.on("click",()=>{this.state++,this.state===0&&i.threeState===!1&&(this.state=1),this.state===2&&(this.state=-1),this._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},indeterminate:function(){this.setCheckState(CHECKBOX_STATE.INDETERMINATE)},setCheckState:function(t){return t===-1||t==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:t===0||t==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._drawState(),this},getCheckState:function(t=!1){if(!t)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},toggle:function(){this.state++,this.state===2&&(this.state=-1),this._drawState()},changeAttribute:(t,i)=>{let r=function(d){this.toggle(d)};switch(t){case"data-state":r(i);break}},destroy:function(){let t=this.element;t.off("click"),t.parent().remove()}})})(Metro,Dom),((e,a)=>{let f={clockDeferred:0,show:"row",showTime:!0,showDate:!0,dateFormat:"DD.MM.YYYY",timeFormat:"HH:mm",divider:"&nbsp;&nbsp;",twoLines:!1,onTick:e.noop,onSecond:e.noop,onClockCreate:e.noop};e.clockSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroClockSetup<"u"&&e.clockSetup(globalThis.metroClockSetup),e.Component("clock",{init:function(t,i){return this._super(i,t,f,{_clockInterval:null,locale:"en"}),this},_create:function(){let t=this.element,i=this.options,r=t.closest("[lang]");r.length&&(this.locale=r.attr("lang")||"en"),t.addClass("clock"),i.show==="column"&&t.addClass("show-column"),this._fireEvent("clock-create",{element:t}),this._tick(),this._clockInterval=setInterval(()=>{this._tick()},500),this._secondInterval=setInterval(()=>{this._second()},1e3)},_second:function(){let t=new Date;this._fireEvent("second",{timestamp:t})},_tick:function(){let t=this.element,i=this.options,r=datetime(),d="",m=r.format(i.dateFormat,this.locale),_=r.format(i.timeFormat,this.locale);i.showTime&&(d=`<span class="clock-time">${_}</span>`),i.showDate&&(d+=`<span class="clock-date">${m}</span>`),t.html(d),this._fireEvent("tick",{timestamp:r})},changeAttribute:function(t,i){switch(t){case"data-date-format":this.options.dateFormat=i;break;case"data-time-format":this.options.timeFormat=i;break;case"data-show-date":this.options.showDate=JSON.parse(i);break;case"data-show-time":this.options.showTime=JSON.parse(i);break;case"data-divider":this.options.divider=i;break;case"data-two-lines":this.options.twoLines=JSON.parse(i);break}this._tick()},destroy:function(){clearInterval(this._clockInterval),this._clockInterval=null,this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={collapseDeferred:0,collapsed:!1,toggleElement:!1,duration:100,onExpand:e.noop,onCollapse:e.noop,onCollapseCreate:e.noop};e.collapseSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroCollapseSetup<"u"&&e.collapseSetup(globalThis.metroCollapseSetup),e.Component("collapse",{init:function(t,i){return this._super(i,t,f,{toggle:null}),this},_create:function(){let t=this.element,i=this.options,r=i.toggleElement!==!1?a(i.toggleElement):t.siblings(".collapse-toggle").length>0?t.siblings(".collapse-toggle"):t.siblings("a:nth-child(1)");(i.collapsed===!0||t.attr("collapsed")===!0)&&t.hide(0),r.on(e.events.click,d=>{t.css("display")!=="none"&&!t.hasClass("keep-open")?this._close(t):this._open(t),["INPUT"].indexOf(d.target.tagName)===-1&&d.preventDefault(),d.stopPropagation()}),this.toggle=r,this._fireEvent("collapse-create",{element:t})},_close:function(t,i){let r=a(t);if(r.data("collapsed"))return;let d=e.getPlugin(r[0],"collapse"),m=d.options,_=i?"show":"slideUp",C=i?0:m.duration;this.toggle.removeClass("active-toggle"),r[_](C,()=>{t.trigger("onCollapse",null,t),t.data("collapsed",!0),t.addClass("collapsed"),d._fireEvent("collapse")})},_open:function(t,i){let r=a(t);if(!r.data("collapsed"))return;let d=e.getPlugin(r[0],"collapse"),m=d.options,_=i?"show":"slideDown",C=i?0:m.duration;this.toggle.addClass("active-toggle"),r[_](C,()=>{t.trigger("onExpand",null,t),t.data("collapsed",!1),t.removeClass("collapsed"),d._fireEvent("expand")})},collapse:function(t){this._close(this.element,t)},expand:function(t){this._open(this.element,t)},close:function(t){this._close(this.element,t)},open:function(t){this._open(this.element,t)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){let t=this.element;t.attr("collapsed")===!0||t.data("collapsed")===!0?this.collapse():this.expand()},changeAttribute:function(t){switch(t){case"collapsed":case"data-collapsed":this.toggleState();break}},destroy:function(){return this.toggle.off(e.events.click),this.element}})})(Metro,Dom),((e,a)=>{let f={radioDeferred:0,prepend:"",append:"",caption:"",clsRadio:"",clsCaption:"",clsPrepend:"",clsAppend:"",onRadioCreate:e.noop};e.metroRadioSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroRadioSetup<"u"&&e.metroRadioSetup(globalThis.metroRadioSetup),e.Component("radio",{init:function(t,i){return this._super(i,t,f,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("radio-create")},_createStructure:function(){let t=this.element,i=this.options,r=t.wrap("<label>").addClass("radio").addClass(i.clsCheckbox);t.attr("type","radio"),i.prepend&&r.prepend(a("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),i.append&&r.append(a("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.append)),t.attr("readonly")&&t.on("click",d=>{d.preventDefault()}),this.elem.checked&&(this.state=!0),this._drawState()},_drawState:()=>{},_createEvents:function(){this.element.on("click",()=>{this._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},setCheckState:function(t=!0){return this.elem.checked=t,this._drawState(),this},getCheckState:function(t=!1){let i=this.elem.checked;if(!t)return i;switch(this.state){case!1:return"unchecked";case!0:return"checked"}},toggle:function(){this.elem.checked=!this.elem.checked,this._drawState()},changeAttribute:(t,i)=>{},destroy:function(){let t=this.element;t.off("click"),t.parent().remove()}})})(Metro,Dom),((e,a)=>{let f="hex, rgb, rgba, hsl, hsla, hsv, cmyk",t={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",userColors:null,returnValueType:"hex",returnAsString:!0,showValues:f,showAsString:null,showUserColors:!0,controller:null,addUserColorTitle:null,userColorsTitle:null,hslMode:"percent",showAlphaChannel:!0,inputThreshold:300,initColor:null,readonlyInput:!1,clsSelector:"",clsSwatches:"",clsSwatch:"",clsValue:"",clsLabel:"",clsInput:"",clsUserColorButton:"",clsUserColors:"",clsUserColorsTitle:"",clsUserColor:"",onSelectColor:e.noop,onColorSelectorCreate:e.noop};e.colorSelectorSetup=i=>{t=a.extend({},t,i)},typeof globalThis.metroColorSelectorSetup<"u"&&e.colorSelectorSetup(globalThis.metroColorSelectorSetup),e.Component("color-selector",{init:function(i,r){return this._super(r,i,t,{id:e.utils.elementId("color-selector"),defaultSwatches:[],showValues:[],userColors:[],showAsString:[],hue:0,saturation:0,lightness:1,alpha:1,hsl:null,hsla:null,hsv:null,rgb:null,rgba:null,cmyk:null,hex:null,inputInterval:null,controller:null}),this},_create:function(){let i=this.options;e.utils.isValue(i.defaultSwatches)&&(this.defaultSwatches=i.defaultSwatches.toArray(",").map(r=>r.toUpperCase())),e.utils.isValue(i.showValues)&&(this.showValues=i.showValues.toArray(",")),e.utils.isValue(i.userColors)&&(this.userColors=i.userColors.toArray(",").map(r=>r.toUpperCase())),e.utils.isValue(i.showAsString)&&(this.showAsString=i.showAsString.toArray(",")),this._createStructure(),this._createEvents(),this._setColorValues(),this._fireEvent("color-selector-create")},_createStructure:function(){let i=this,r=this.element,d=this.options,m=this.strings,_,C,k,E,F;r.addClass("color-selector").addClass(d.clsSelector);let P=a("<div>").addClass("color-box");r.append(P),_=a("<div>").addClass("row"),P.append(_);let U=a("<div>").addClass("default-swatches").addClass(d.clsSwatches);_.append(U),a.each(this.defaultSwatches,function(){U.append(a("<button>").attr("data-color",this).attr("type","button").addClass("swatch").addClass(d.clsSwatch).css("background-color",this))}),_=a("<div>").addClass("row"),P.append(_),C=a("<div>").addClass("color-map"),_.append(C);let Y=a("<button>").attr("type","button").addClass("cursor color-cursor dragging");C.append(Y);let ee=a("<canvas>").addClass("color-canvas");C.append(ee),C=a("<div>").addClass("hue-map"),_.append(C);let Ae=a("<button>").attr("type","button").addClass("cursor hue-cursor dragging");C.append(Ae);let $e=a("<canvas>").addClass("hue-canvas");C.append($e),C=a("<div>").addClass("alpha-map"),_.append(C);let ze=a("<button>").attr("type","button").addClass("cursor alpha-cursor dragging");C.append(ze);let Re=a("<canvas>").addClass("alpha-canvas");C.append(Re),_=a("<div>").addClass("row color-values-block"),P.append(_),k=a("<div>").addClass("color-value-hex"),_.append(k),k.append(a("<input type='radio' name='returnType' value='hex' checked>").addClass("check-color-value-hex")),F=a("<div>").addClass("color-block as-string color-hex"),k.append(F),F.append(a("<input type='text' data-prepend='HEX:'>").addClass("input-small value-hex")),k=a("<div>").addClass("color-value-rgb"),_.append(k),k.append(a("<input type='radio' name='returnType' value='rgb'>").addClass("check-color-value-rgb")),F=a("<div>").addClass("color-block color-rgb"),k.append(F),F.append(a("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),F.append(a("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),F.append(a("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),F=a("<div>").addClass("color-block as-string color-rgb"),k.append(F),F.append(a("<input type='text' data-prepend='RGB:'>").addClass("input-small value-rgb")),this.showAsString.indexOf("rgb")>-1?k.find(".value-r,.value-g,.value-b").parent().hide():k.find(".value-rgb").parent().hide(),k=a("<div>").addClass("color-value-rgba"),_.append(k),k.append(a("<input type='radio' name='returnType' value='rgba'>").addClass("check-color-value-rgba")),F=a("<div>").addClass("color-block color-rgba"),k.append(F),F.append(a("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),F.append(a("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),F.append(a("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),F.append(a("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),F=a("<div>").addClass("color-block as-string color-rgba"),k.append(F),F.append(a("<input type='text' data-prepend='RGBA:'>").addClass("input-small value-rgba")),this.showAsString.indexOf("rgba")>-1?k.find(".value-r,.value-g,.value-b,.value-a").parent().hide():k.find(".value-rgba").parent().hide(),k=a("<div>").addClass("color-value-hsl"),_.append(k),k.append(a("<input type='radio' name='returnType' value='hsl'>").addClass("check-color-value-hsl")),F=a("<div>").addClass("color-block color-hsl"),k.append(F),F.append(a("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),F.append(a("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),F.append(a("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),F=a("<div>").addClass("color-block as-string color-hsl"),k.append(F),F.append(a("<input type='text' data-prepend='HSL:'>").addClass("input-small value-hsl")),this.showAsString.indexOf("hsl")>-1?k.find(".value-h,.value-s,.value-l").parent().hide():k.find(".value-hsl").parent().hide(),k=a("<div>").addClass("color-value-hsla"),_.append(k),k.append(a("<input type='radio' name='returnType' value='hsla'>").addClass("check-color-value-hsla")),F=a("<div>").addClass("color-block color-hsla"),k.append(F),F.append(a("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),F.append(a("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),F.append(a("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),F.append(a("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),F=a("<div>").addClass("color-block as-string color-hsla"),k.append(F),F.append(a("<input type='text' data-prepend='HSLA:'>").addClass("input-small value-hsla")),this.showAsString.indexOf("hsla")>-1?k.find(".value-h,.value-s,.value-l,.value-a").parent().hide():k.find(".value-hsla").parent().hide(),k=a("<div>").addClass("color-value-hsv"),_.append(k),k.append(a("<input type='radio' name='returnType' value='hsv'>").addClass("check-color-value-hsl")),F=a("<div>").addClass("color-block color-hsv"),k.append(F),F.append(a("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),F.append(a("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),F.append(a("<input type='text' data-prepend='V:'>").addClass("input-small value-v")),F=a("<div>").addClass("color-block as-string color-hsv"),k.append(F),F.append(a("<input type='text' data-prepend='HSV:'>").addClass("input-small value-hsv")),this.showAsString.indexOf("hsv")>-1?k.find(".value-h,.value-s,.value-v").parent().hide():k.find(".value-hsv").parent().hide(),k=a("<div>").addClass("color-value-cmyk"),_.append(k),k.append(a("<input type='radio' name='returnType' value='cmyk'>").addClass("check-color-value-cmyk")),F=a("<div>").addClass("color-block color-cmyk"),k.append(F),F.append(a("<input type='text' data-prepend='C:'>").addClass("input-small value-c")),F.append(a("<input type='text' data-prepend='M:'>").addClass("input-small value-m")),F.append(a("<input type='text' data-prepend='Y:'>").addClass("input-small value-y")),F.append(a("<input type='text' data-prepend='K:'>").addClass("input-small value-k")),F=a("<div>").addClass("color-block as-string color-cmyk"),k.append(F),F.append(a("<input type='text' data-prepend='CMYK:'>").addClass("input-small value-cmyk")),this.showAsString.indexOf("cmyk")>-1?k.find(".value-s,.value-m,.value-y,.value-k").parent().hide():k.find(".value-cmyk").parent().hide(),_=a("<div>").addClass("row user-colors-css-container"),P.append(_),_.append(a("<div>").addClass("user-colors-title").addClass(d.clsUserColorsTitle).html(d.userColorsTitle||m.label_user_colors)),_.append(a("<div>").addClass("user-colors").addClass(d.clsUserColors));let Se=a("<div>").addClass("user-colors-actions");_.append(Se),Se.append(a("<button>").addClass("button add-button").addClass(d.clsUserColorButton).html(`<span class='user-swatch'></span><span>${d.addUserColorTitle||m.label_add_user_color}</span>`)),E=P.find("input[type=text]"),e.makePlugin(E,"input",{clearButton:!1,clsPrepend:d.clsLabel,clsComponent:d.clsInput}),E.addClass(d.clsValue),d.readonlyInput&&E.attr("readonly",!0);let Le=P.find("input[type=radio]").each(function(){a(this).attr("name",`${i.id}-returnType`)});Le.each(function(){a(this).val()===d.returnValueType&&(this.checked=!0)}),e.makePlugin(Le,"radio"),a.each(f.toArray(","),function(){i.showValues.indexOf(this)===-1&&r.find(`.color-value-${this}`).hide()}),d.showUserColors||r.find(".user-colors-css-container").hide(),d.showAlphaChannel||(r.addClass("no-alpha-channel"),a.each(["rgba","hsla"],function(){r.find(`.color-value-${this}`).hide()})),this._fillUserColors(),this.hueCanvas=$e,this.hueCursor=Ae,this.shadeCanvas=ee,this.shadeCursor=Y,this.alphaCanvas=Re,this.alphaCursor=ze,this._createShadeCanvas(),this._createHueCanvas(),this._createAlphaCanvas(),this._setColorValues(),this._updateCursorsColor(),d.initColor&&Farbe.Routines.isColor(d.initColor)&&this._colorToPos(typeof d.initColor=="string"?Farbe.Routines.parse(d.initColor):d.initColor),this.controller=d.controller?a(d.controller):null},_createShadeCanvas:function(i="#f00"){let r=this.shadeCanvas[0],d=r.getContext("2d");d.clearRect(0,0,r.width,r.height),d.clearRect(0,0,r.width,r.height),d.fillStyle=i,d.fillRect(0,0,r.width,r.height);let m=d.createLinearGradient(0,0,r.width,0);m.addColorStop(0,"#fff"),m.addColorStop(1,"transparent"),d.fillStyle=m,d.fillRect(0,0,r.width,r.height);let _=d.createLinearGradient(0,0,0,r.height);_.addColorStop(0,"transparent"),_.addColorStop(1,"#000"),d.fillStyle=_,d.fillRect(0,0,r.width,r.height)},_createHueCanvas:function(){let i=this.hueCanvas[0],r=i.getContext("2d"),d=r.createLinearGradient(0,0,0,i.height);d.addColorStop(0,"hsl(0,100%,50%)"),d.addColorStop(.17,"hsl(298.8, 100%, 50%)"),d.addColorStop(.33,"hsl(241.2, 100%, 50%)"),d.addColorStop(.5,"hsl(180, 100%, 50%)"),d.addColorStop(.67,"hsl(118.8, 100%, 50%)"),d.addColorStop(.83,"hsl(61.2,100%,50%)"),d.addColorStop(1,"hsl(360,100%,50%)"),r.clearRect(0,0,i.width,i.height),r.fillStyle=d,r.fillRect(0,0,i.width,i.height)},_createAlphaCanvas:function(){let i=this.alphaCanvas[0],r=i.getContext("2d"),d=r.createLinearGradient(0,0,0,i.height),m=new Farbe.Primitives.HSLA(this.hue,1,.5,1).toString();d.addColorStop(0,m),d.addColorStop(1,"rgba(0,0,0,0)"),r.clearRect(0,0,i.width,i.height),r.fillStyle=d,r.fillRect(0,0,i.width,i.height)},_updateHueCursor:function(i){this.hueCursor.css({top:i})},_updateAlphaCursor:function(i){this.alphaCursor.css({top:i})},_getHueColor:function(i){let r=this.hueCanvas,d=r.offset(),m=r.height(),_,C;_=i-d.top,_>m&&(_=m),_<0&&(_=0),C=360-360*(_/m),C===360&&(C=0);let k=`hsl(${C}, 100%, 50%)`;this.hue=C,this._createShadeCanvas(k),this._createAlphaCanvas(),this._updateHueCursor(_),this._updateCursorsColor(),this._setColorValues()},_getAlphaValue:function(i){let r=this.alphaCanvas,d=r.offset(),m=r.height(),_;_=i-d.top,_>m&&(_=m),_<0&&(_=0);let C=1-_/m;this.alpha=C.toFixed(2),this._updateAlphaCursor(_),this._updateCursorsColor(),this._setColorValues()},_getShadeColor:function(i,r){let d=this.shadeCanvas,m=d.offset(),_=d.width(),C=d.height(),k=i-m.left,E=r-m.top;k>_&&(k=_),k<0&&(k=0),E>C&&(E=C),E<0&&(E=.1);let F=k/_*100,P=1-E/C*100/100,U=F/100,Y=P/2*(2-U),ee=P*U/(1-Math.abs(2*Y-1));Number.isNaN(Y)&&(Y=0),Number.isNaN(ee)&&(ee=0),this.lightness=Y,this.saturation=ee,this._updateShadeCursor(k,E),this._updateCursorsColor(),this._setColorValues()},_updateCursorsColor:function(){this.shadeCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness))}),this.hueCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,1,.5))}),this.alphaCursor.css({backgroundColor:Farbe.Routines.toRGBA(new Farbe.Primitives.HSL(this.hue,1,.5),this.alpha).toString()})},_updateShadeCursor:function(i,r){this.shadeCursor.css({top:r,left:i})},_colorToPos:function(i){let r=this.shadeCanvas[0].getBoundingClientRect(),d=this.hueCanvas[0].getBoundingClientRect(),m=this.alphaCanvas[0].getBoundingClientRect(),_=Farbe.Routines.toHSL(i),C=Farbe.Routines.toHSLA(i),k=Farbe.Routines.toHSV(i),E=r.width*k.s,F=r.height*(1-k.v),P=d.height-_.h/360*d.height,U=(1-C.a)*m.height;this.hue=_.h,this.saturation=_.s,this.lightness=_.l,this.alpha=C.a,this._updateHueCursor(P),this._updateShadeCursor(E,F),this._updateAlphaCursor(U),this._updateCursorsColor(),this._createShadeCanvas(`hsl(${this.hue}, 100%, 50%)`),this._createAlphaCanvas(),this._setColorValues()},_setColorValues:function(){let i=this.element,r=this.options,d=new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness),m=new Farbe.Primitives.HSLA(this.hue,this.saturation,this.lightness,this.alpha),_=Farbe.Routines.toRGB(d),C=Farbe.Routines.toRGBA(_,this.alpha),k=Farbe.Routines.toHSV(d),E=Farbe.Routines.toCMYK(d),F=Farbe.Routines.toHEX(d),P=this.controller,U=r.hslMode==="percent";this.hsl=d,this.hsla=m,this.hsv=k,this.rgb=_,this.rgba=C,this.hex=F,this.cmyk=E,i.find(".color-value-hex .value-hex input").val(F),i.find(".color-value-rgb .value-r input").val(_.r),i.find(".color-value-rgb .value-g input").val(_.g),i.find(".color-value-rgb .value-b input").val(_.b),i.find(".color-value-rgb .value-rgb input").val(_.toString()),i.find(".color-value-rgba .value-r input").val(C.r),i.find(".color-value-rgba .value-g input").val(C.g),i.find(".color-value-rgba .value-b input").val(C.b),i.find(".color-value-rgba .value-a input").val(C.a),i.find(".color-value-rgba .value-rgba input").val(C.toString()),i.find(".color-value-hsl .value-h input").val(d.h.toFixed(0)),i.find(".color-value-hsl .value-s input").val(U?`${Math.round(d.s*100)}%`:d.s.toFixed(4)),i.find(".color-value-hsl .value-l input").val(U?`${Math.round(d.l*100)}%`:d.l.toFixed(4)),i.find(".color-value-hsl .value-hsl input").val(d.toString()),i.find(".color-value-hsla .value-h input").val(m.h.toFixed(0)),i.find(".color-value-hsla .value-s input").val(U?`${Math.round(m.s*100)}%`:d.s.toFixed(4)),i.find(".color-value-hsla .value-l input").val(U?`${Math.round(m.l*100)}%`:d.l.toFixed(4)),i.find(".color-value-hsla .value-a input").val(m.a),i.find(".color-value-hsla .value-hsla input").val(m.toString()),i.find(".color-value-hsv .value-h input").val(k.h.toFixed(0)),i.find(".color-value-hsv .value-s input").val(U?`${Math.round(k.s*100)}%`:k.s.toFixed(4)),i.find(".color-value-hsv .value-v input").val(U?`${Math.round(k.v*100)}%`:k.v.toFixed(4)),i.find(".color-value-hsv .value-hsv input").val(k.toString()),i.find(".color-value-cmyk .value-c input").val(E.c.toFixed(0)),i.find(".color-value-cmyk .value-m input").val(E.m.toFixed(0)),i.find(".color-value-cmyk .value-y input").val(E.y.toFixed(0)),i.find(".color-value-cmyk .value-k input").val(E.k.toFixed(0)),i.find(".color-value-cmyk .value-cmyk input").val(E.toString()),i.find(".user-colors-actions .user-swatch").css({backgroundColor:F});let Y=this.getVal();P!=null&&P.length&&P.val(Y),this._fireEvent("select-color",{color:Y,primitive:{hsl:this.hsl,hsla:this.hsla,rgb:this.rgb,rgba:this.rgba,hsv:this.hsv,cmyk:this.cmyk,hex:this.hex}})},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_createEvents:function(){let i=this,r=this.element,d=this.options,m=r.find(".hue-map"),_=r.find(".alpha-map"),C=r.find(".color-map"),k=this.controller,E=r.find(".color-values-block input[type=text]"),F=P=>{let U=a(P.target),Y=U.closest(".color-block"),ee,Ae,$e;Y.hasClass("color-hex")?ee="hex":Y.hasClass("color-rgb")?ee="rgb":Y.hasClass("color-rgba")?ee="rgba":Y.hasClass("color-hsl")?ee="hsl":Y.hasClass("color-hsla")?ee="hsla":Y.hasClass("color-hsv")?ee="hsv":Y.hasClass("color-cmyk")&&(ee="cmyk"),Y.hasClass("as-string")?Ae=U.val():($e=[],a.each(Y.find("input"),function(){$e.push(this.value)}),Ae=`${ee}(${$e.join(", ")})`),Ae&&Farbe.Routines.isColor(Ae)&&i.val(Ae)};if(F=Hooks.useDebounce(F,d.inputThreshold),E.on(e.events.inputchange,F),k==null?void 0:k.length){let P=Hooks.useDebounce(()=>{let U=k.val();U&&Farbe.Routines.isColor(U)&&i.val(U)},d.inputThreshold);k.on(e.events.inputchange,P)}_.on(e.events.startAll,P=>{["hsla","rgba"].includes(d.returnValueType),i._getAlphaValue(e.utils.pageXY(P).y),a(document).on(e.events.moveAll,U=>{U.preventDefault(),i._getAlphaValue(e.utils.pageXY(U).y)},{ns:i.id}),a(document).on(e.events.stopAll,()=>{a(document).off(e.events.moveAll,{ns:i.id}),a(document).off(e.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),m.on(e.events.startAll,P=>{i._getHueColor(e.utils.pageXY(P).y),a(document).on(e.events.moveAll,U=>{U.preventDefault(),i._getHueColor(e.utils.pageXY(U).y)},{ns:i.id,passive:!1}),a(document).on(e.events.stopAll,()=>{a(document).off(e.events.moveAll,{ns:i.id}),a(document).off(e.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),C.on(e.events.startAll,P=>{i._getShadeColor(e.utils.pageXY(P).x,e.utils.pageXY(P).y),a(document).on(e.events.moveAll,U=>{U.preventDefault(),i._getShadeColor(e.utils.pageXY(U).x,e.utils.pageXY(U).y)},{ns:i.id,passive:!1}),a(document).on(e.events.stopAll,()=>{a(document).off(e.events.moveAll,{ns:i.id}),a(document).off(e.events.stopAll,{ns:i.id})},{ns:i.id})},{passive:!0}),r.on("click",".swatch",function(){i._colorToPos(a(this).attr("data-color"))}),r.on("click",".add-button",()=>{let P=Farbe.Routines.toHEX(new Farbe.Primitives.HSL(i.hue,i.saturation,i.lightness)).toUpperCase();i.userColors.includes(P)||(i.userColors.push(P),r.find(".user-colors").append(a("<button>").attr("data-color",P).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:P})))}),r.find("input[type=radio]").on("click",function(){d.returnValueType=a(this).val(),i._setColorValues()})},getVal:function(){let i=this.options,r;switch(i.returnValueType.toLowerCase()){case"rgb":r=this.rgb;break;case"rgba":r=this.rgba;break;case"hsl":r=this.hsl;break;case"hsla":r=this.hsla;break;case"hsv":r=this.hsv;break;case"cmyk":r=this.cmyk;break;default:r=this.hex}return i.returnAsString?r.toString():r},val:function(i){if(typeof i>"u")return this.getVal();let r=Farbe.Routines.parse(i);this._colorToPos(r)},user:function(i){if(!e.utils.isValue(i))return this.userColors;!Array.isArray(i)&&typeof i!="string"||(typeof i=="string"?this.userColors=i.toArray(",").map(r=>r.toUpperCase()):this.userColors=i.map(r=>r.toUpperCase()),this._fillUserColors())},_fillUserColors:function(){let i=this.element.find(".user-colors-css").clear();a.each(this.userColors,function(){i.append(a("<button>").attr("data-color",this).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:this}))})},changeAttribute:function(i,r){let d=this.options;i==="data-return-value-type"&&(d.returnValueType=r),i==="data-return-as-string"&&(d.returnValueType=e.utils.bool(r))},destroy:function(){this.element.remove()}}),e.defaults.ColorSelector=t})(Metro,Dom),((e,a)=>{let f={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",duration:100,prepend:"",append:"",label:"",clearButton:!1,clearButtonIcon:"❌",pickerButtonIcon:"🎨",defaultValue:"rgba(0, 0, 0, 0)",openMode:"auto",resultType:"hex",inputThreshold:500,onColorSelected:e.noop,onColorPickerCreate:e.noop};e.colorPickerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroColorPickerSetup<"u"&&e.colorPickerSetup(globalThis.metroColorPickerSetup),e.Component("color-picker",{init:function(t,i){return this._super(i,t,a.extend({},e.defaults.ColorSelector,{showUserColors:!1,showValues:""},f),{value:null,picker:null,colorSelector:null,colorSelectorBox:null,colorExample:null,inputInterval:null,isOpen:!1}),this},_create:function(){let t=this.element,i=this.options,r=t.val();if(!e.pluginExists("color-selector"))throw new Error("Color selector component required!");this.value=Farbe.Routines.isColor(r)?r:Farbe.Routines.isColor(i.defaultValue)?i.defaultValue:"rgba(0,0,0,0)",this._createStructure(),this._createEvents(),this._fireEvent("color-picker-create")},_createStructure:function(){let t=this.element,i=this.options,r=t.wrap(a("<div>").addClass("color-picker").addClass(t[0].className)),d,m=a("<div>").addClass("color-example-box").insertBefore(t);d=a("<div>").addClass("buttons").appendTo(r),d.append(a("<button>").addClass("button color-picker-button").attr("tabindex",-1).attr("type","button").html(i.pickerButtonIcon)),i.clearButton===!0&&!t[0].readOnly&&d.append(a("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon)),e.utils.isValue(i.prepend)&&r.prepend(a("<div>").addClass("prepend").addClass(i.clsPrepend).html(i.prepend)),e.utils.isValue(i.append)&&r.append(a("<div>").html(i.append).addClass("append").addClass(i.clsAppend));let _=a("<div>").addClass("color-selector-box").appendTo(r),C=a("<div>").appendTo(_);if(this.picker=r,this.colorExample=m,this.colorSelector=C,this.colorSelectorBox=_,e.makePlugin(C,"color-selector",{defaultSwatches:i.defaultSwatches,returnValueType:i.resultType,returnAsString:!0,showUserColors:!1,showValues:"",controller:t,showAlphaChannel:!0,inputThreshold:i.inputThreshold,initColor:this.value,readonlyInput:i.readonlyInput,onSelectColor:k=>{this.colorExample.css({backgroundColor:k})},onColorSelectorCreate:i.onColorSelectorCreate}),e.makePlugin(_,"dropdown",{dropFilter:".color-picker",duration:i.duration,toggleElement:[r],checkDropUp:!0,onDrop:()=>{e.getPlugin(C,"color-selector").val(this.value)}}),t[0].className="",i.label){let k=a("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(r);if(t.attr("id"))k.attr("for",t.attr("id"));else{let E=Hooks.useId(t[0]);k.attr("for",E),t.attr("id",E)}t.attr("dir")==="rtl"&&k.addClass("rtl")}this._setColor()},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_setColor:function(){let t=this.colorExample,i=this.value;(this.value.indexOf("cmyk")!==-1||this.value.indexOf("hsv")!==-1)&&(i=Farbe.Routines.toHEX(this.value)),console.log(i),t.css({backgroundColor:i})},_createEvents:function(){let t=this,i=this.element,r=this.options,d=this.picker,m=this.colorSelector,_=this.colorSelector;d.on(e.events.click,".input-clear-button",C=>{C.preventDefault(),C.stopPropagation(),i.val(r.defaultValue).trigger("change"),e.getPlugin(m,"color-selector").val(r.defaultValue)}),i.on(e.events.inputchange,function(){t.value=this.value,t._setColor()}),_.on(e.events.click,C=>{C.stopPropagation()})},val:function(t){if(typeof t>"u")return this.value;Farbe.Routines.isColor(t)&&(this.value=t,this.element.val(t).trigger("change"),this._setColor())},destroy:function(){let t=this.element,i=this.options,r=t.parent();i.label&&r.prev("label").remove(),r.remove()}}),a(document).on(e.events.click,()=>{a(".color-picker").removeClass("open")})})(Metro,Dom),((e,a)=>{e.contextMenu=(f=[],t=document)=>{function i(r){let d=a("<ul>").addClass("d-menu context-menu").css("display","none");for(let m of r)if(m.type==="divider")d.append(a("<li>").addClass("divider"));else{let _=a("<li>").appendTo(d),C=a("<a>").appendTo(_);if(m.icon&&C.append(a("<span>").addClass("icon").html(m.icon)),C.append(a("<span>").addClass("caption").html(m.text)),C.href(m.href||"#"),m.onclick&&C.on("click",k=>{e.utils.exec(m.onclick,[k,m])}),m.attributes)for(let[k,E]of Object.entries(m.attributes))C.attr(k,E);if(m.disabled&&C.prop("disabled",!0),m.items){let k=i(m.items);_.children("a").addClass("dropdown-toggle"),_.append(k),e.makePlugin(k,"dropdown",{})}}return d[0]}t.context_menu=i(f),t.nodeType===1?t.append(t.context_menu):a("body").append(t.context_menu),t.oncontextmenu=function(r){r.preventDefault(),r.stopPropagation(),a(".context-menu").hide(),this.context_menu.style.left=`${r.pageX}px`,this.context_menu.style.top=`${r.pageY}px`,this.context_menu.style.display="block"}},a(document).on("click",()=>{a(".context-menu").hide()})})(Metro,Dom),((e,a)=>{let f={path:"/",expires:null,maxAge:null,domain:null,secure:!1,samesite:null};e.cookieSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroCookieSetup<"u"&&e.cookieSetup(globalThis.metroCookieSetup),e.cookie={getCookies:()=>{let t=document.cookie.toArray(";"),i={};return a.each(t,function(){let r=this.split("=");i[r[0]]=r[1]}),i},getCookie:t=>{let i=`${encodeURIComponent(t)}=`,r=document.cookie.toArray(";"),d,m;for(d=0;d<r.length;d++){for(m=r[d];m.charAt(0)===" ";)m=m.substring(1,m.length);if(m.indexOf(i)===0)return decodeURIComponent(m.substring(i.length,m.length))}return null},setCookie:(t,i,r)=>{let d,m=encodeURIComponent(t),_=encodeURIComponent(i),C,k=[];r&&typeof r!="object"?(d=new Date,d.setTime(d.getTime()+Number.parseInt(r)),C=a.extend({},f,{expires:d.toUTCString()})):C=a.extend({},f,r),a.each(C,(E,F)=>{E!=="secure"&&F&&k.push(`${Str.dashedName(E)}=${F}`),E==="secure"&&F===!0&&k.push("secure")}),document.cookie=`${m}=${_}; ${k.join("; ")}`},delCookie:function(t){this.setCookie(t,!1,{maxAge:-1})}}})(Metro,Dom),((e,a)=>{let f={name:"cookies_accepted",templateUrl:null,title:"",message:"",duration:"30days",clsContainer:"",clsMessage:"",clsButtons:"",clsAcceptButton:"",clsCancelButton:"",onAccept:e.noop,onDecline:e.noop};e.cookieDisclaimer={init:function(t){let i=e.cookie;this.options=a.extend({},f,t),this.disclaimer=a("<div>"),!i.getCookie(this.options.name)&&(this.locale=a("html").attr("lang")||"en",this.strings=a.extend({},e.locales.en,e.locales[this.locale]),this.options.templateUrl?fetch(this.options.templateUrl).then(e.fetch.text).then(r=>{this.create(r)}):this.create())},create:function(t){let i=e.cookie,r=this.options,d=this.disclaimer;d.addClass("cookie-disclaimer").addClass(r.clsContainer),t?d.append(t):d.html(a("<div class='disclaimer-message'>").addClass(r.clsMessage).html(`
                                <div class="disclaimer-title">${r.title||this.strings.label_cookies_title}</div>
                                <div class="disclaimer-text">${r.message||this.strings.label_cookies_text}</div>
                            `));let m=a("<div>").addClass("disclaimer-actions").addClass(r.clsButtons).append(a("<button>").addClass("button cookie-accept-button").addClass(r.clsAcceptButton).html(this.strings.label_accept)).append(a("<button>").addClass("button cookie-cancel-button").addClass(r.clsCancelButton).html(this.strings.label_cancel));m.appendTo(d),r.customButtons&&a.each(r.customButtons,function(){let _=a("<button>").addClass("button cookie-custom-button").addClass(this.cls).html(this.text);_.on("click",()=>{e.utils.exec(this.onclick)}),_.appendTo(m)}),d.appendTo(a("body")),d.on(e.events.click,".cookie-accept-button",()=>{let _=0,C=`${r.duration}`.toArray(" ");a.each(C,function(){let k=`${this}`;k.includes("day")?_+=Number.parseInt(k)*24*60*60*1e3:k.includes("hour")?_+=Number.parseInt(k)*60*60*1e3:k.includes("min")?_+=Number.parseInt(k)*60*1e3:k.includes("sec")?_+=Number.parseInt(k)*1e3:_+=Number.parseInt(k)}),i.setCookie(r.name,!0,_),e.utils.exec(r.onAccept),d.remove()}),d.on(e.events.click,".cookie-cancel-button",()=>{e.utils.exec(r.onDecline),d.remove()})}}})(Metro,Dom),((e,a)=>{let f={countdownDeferred:0,stopOnBlur:!0,animate:"none",ease:"linear",duration:600,inputFormat:null,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,fontSize:24,clsCountdown:"",clsPart:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onAlarm:e.noop,onTick:e.noop,onZero:e.noop,onBlink:e.noop,onCountdownCreate:e.noop};e.countdownSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroCountdownSetup<"u"&&e.countdownSetup(globalThis.metroCountdownSetup),e.Component("countdown",{init:function(t,i){return this._super(i,t,f,{breakpoint:new Date().getTime(),blinkInterval:null,tickInterval:null,zeroDaysFired:!1,zeroHoursFired:!1,zeroMinutesFired:!1,zeroSecondsFired:!1,fontSize:0,current:{d:0,h:0,m:0,s:0},inactiveTab:!1,id:e.utils.elementId("countdown"),duration:600}),this},_create:function(){let t=this.options;this.duration=+t.duration<=0||+t.duration>=1e3?1e3:+t.duration,this._build(),this._createEvents()},_setBreakpoint:function(){let t=this.options,i=864e5,r=36e5,d=6e4,m=1e3;this.breakpoint=datetime().time(),t.date&&(this.breakpoint=(t.inputFormat?Datetime.from(t.date,t.inputFormat):datetime(t.date)).time()),Number.parseInt(t.days)>0&&(this.breakpoint+=Number.parseInt(t.days)*i),Number.parseInt(t.hours)>0&&(this.breakpoint+=Number.parseInt(t.hours)*r),Number.parseInt(t.minutes)>0&&(this.breakpoint+=Number.parseInt(t.minutes)*d),Number.parseInt(t.seconds)>0&&(this.breakpoint+=Number.parseInt(t.seconds)*m)},_build:function(){let t=this.element,i=this.options,r=["days","hours","minutes","seconds"],d=24*60*60*1e3,m=datetime().time(),_=this.strings;t.attr("id")||t.attr("id",e.utils.elementId("countdown")),t.addClass("countdown").addClass(`animate-${i.animate}`).addClass(i.clsCountdown),t.css("font-size",i.fontSize),this._setBreakpoint();let C=Math.round((this.breakpoint-m)/d);a.each(r,function(){let E=a("<div>").addClass(`part ${this}`).addClass(i.clsPart).attr("data-label",_[`label_${this}`]).appendTo(t);if(this==="days"&&E.addClass(i.clsDays),this==="hours"&&E.addClass(i.clsHours),this==="minutes"&&E.addClass(i.clsMinutes),this==="seconds"&&E.addClass(i.clsSeconds),a("<div>").addClass("digit").appendTo(E),a("<div>").addClass("digit").appendTo(E),this==="days"&&C>=100)for(let F=0;F<Math.floor(C/100)-2;F++)a("<div>").addClass("digit").appendTo(E)});let k=t.find(".digit");k.append(a("<span class='digit-placeholder'>").html("0")),k.append(a("<span class='digit-value'>").html("0")),this._fireEvent("countdown-create",{element:t}),i.start===!0?this.start():this.tick(),this.fontSize=Number.parseInt(t.css("font-size"))},_createEvents:function(){a(document).on("visibilitychange",()=>{document.hidden?this.pause():this.resume()},{ns:this.id})},blink:function(){this.element.toggleClass("blink"),this._fireEvent("blink",{time:this.current})},tick:function(){let t=this.element,i=this.options,r=24*60*60,d=60*60,m=60,_=1,C,k=datetime().time(),E,F,P,U,Y=t.find(".days"),ee=t.find(".hours"),Ae=t.find(".minutes"),$e=t.find(".seconds");if(C=Math.floor((this.breakpoint-k)/1e3),C<=-1){this.stop(),t.addClass(i.clsAlarm),this._fireEvent("alarm",{time:k});return}E=Math.floor(C/r),C-=E*r,this.current.d!==E&&(this.current.d=E,this.draw("days",E)),E===0&&this.zeroDaysFired===!1&&(this.zeroDaysFired=!0,Y.addClass(i.clsZero),this._fireEvent("zero",{part:"days",value:Y})),F=Math.floor(C/d),C-=F*d,this.current.h!==F&&(this.current.h=F,this.draw("hours",F)),E===0&&F===0&&this.zeroHoursFired===!1&&(this.zeroHoursFired=!0,ee.addClass(i.clsZero),this._fireEvent("zero",{part:"hours",value:ee})),P=Math.floor(C/m),C-=P*m,this.current.m!==P&&(this.current.m=P,this.draw("minutes",P)),E===0&&F===0&&P===0&&this.zeroMinutesFired===!1&&(this.zeroMinutesFired=!0,Ae.addClass(i.clsZero),this._fireEvent("zero",{part:"minutes",value:Ae})),U=Math.floor(C/_),this.current.s!==U&&(this.current.s=U,this.draw("seconds",U)),E===0&&F===0&&P===0&&U===0&&this.zeroSecondsFired===!1&&(this.zeroSecondsFired=!0,$e.addClass(i.clsZero),this._fireEvent("zero",{part:"seconds",value:$e})),this._fireEvent("tick",{days:E,hours:F,minutes:P,seconds:U})},draw:function(t,i){let r=this.element,d=this.options,m,_,C,k,E,F,P,U=this.duration,Y=this.fontSize||Number.parseInt(getComputedStyle(r[0]).getPropertyValue("font-size")),ee=(Re,Se)=>{let Le=Re.height();Re.siblings(".-old-digit").remove();let Me=Re.clone().appendTo(Re.parent());Me.css({top:`${-1*Le}px`}),Re.addClass("-old-digit").animate({draw:{top:Le,opacity:0},dur:U,ease:d.ease,onDone:function(){a(this).remove()}}),Me.html(Se).animate({draw:{top:0,opacity:[0,1]},dur:U,ease:d.ease})},Ae=(Re,Se)=>{Re.siblings(".-old-digit").remove();let Le=Re.clone().appendTo(Re.parent());Le.css({opacity:0}),Re.addClass("-old-digit").animate({draw:{opacity:0},dur:U/2,ease:d.ease,onDone:function(){a(this).remove()}}),Le.html(Se).animate({draw:{opacity:1},dur:U/2,ease:d.ease})},$e=(Re,Se)=>{let Le=r.height(),Me=Y;Re.siblings(".-old-digit").remove();let Fe=Re.clone().appendTo(Re.parent());Fe.css({top:0,left:0,opacity:1}),Re.addClass("-old-digit").animate({draw:{top:Le,opacity:0,fontSize:0},dur:U,ease:d.ease,onDone:function(){a(this).remove()}}),Fe.html(Se).animate({draw:{top:0,opacity:1,fontSize:[0,Me]},dur:U,ease:d.ease})},ze=`${i}`;for(ze.length===1&&(ze=`0${i}`),F=ze.length,m=r.find(`.${t} .digit:not(.-old-digit)`),_=m.length,r.find(".-old-digit").remove(),P=0;P<F;P++)if(E=m.eq(_-1).find(".digit-value"),C=Math.floor(Number.parseInt(i)/10**P)%10,k=Number.parseInt(E.text()),_--,k!==C)switch(`${d.animate}`.toLowerCase()){case"slide":ee(E,C);break;case"fade":Ae(E,C);break;case"zoom":$e(E,C);break;default:E.html(C)}},start:function(){let t=this.element;t.data("paused")!==!1&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.data("paused",!1),this._setBreakpoint(),this.tick(),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3))},stop:function(){let t=this.element;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.data("paused",!0),t.find(".digit").html("0"),this.current={d:0,h:0,m:0,s:0}},pause:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data("paused",!0)},resume:function(){this.element.data("paused",!1),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3)},reset:function(){let t=this.element,i=this.options;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.find(".part").removeClass(i.clsZero);let r=t.find(".digit").clear();r.append(a("<span class='digit-placeholder'>").html("0")),r.append(a("<span class='digit-value'>").html("0")),this._setBreakpoint(),t.data("paused",!1),this.tick(),this.blinkInterval=setInterval(()=>{this.blink()},500),this.tickInterval=setInterval(()=>{this.tick()},1e3)},resetWith:function(t){let i=this.element,r=this.options,d=["days","hours","minutes","seconds"];if(this.stop(),typeof t=="string"){i.attr("data-date",t);for(let m of d)r[m]=0;r.date=t}else if(typeof t=="object"){r.date=null;for(let m of d){let _=t[m]!==void 0?t[m]:0;i.attr(`data-${m}`,_),r[m]=_}}this.reset()},togglePlay:function(){this.element.attr("data-pause")===!0?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getBreakpoint:function(t){return t===!0?new Date(this.breakpoint):this.breakpoint},getLeft:function(){let t=new Date().getTime(),i=Math.floor(this.breakpoint-t);return{days:Math.round(i/864e5),hours:Math.round(i/36e5),minutes:Math.round(i/6e4),seconds:Math.round(i/1e3)}},changeAttribute:function(t,i){switch(t){case"data-pause":this.togglePlay();break;case"data-duration":this.duration=+i<=0||+i>=1e3?600:+i;break}},destroy:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),a(document).off("visibilitychange",{ns:this.id}),this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={startOnViewport:!1,counterDeferred:0,duration:2e3,value:0,from:0,timeout:0,delimiter:",",prefix:"",suffix:"",size:16,onStart:e.noop,onStop:e.noop,onTick:e.noop,onCounterCreate:e.noop};e.counterSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroCounterSetup<"u"&&e.counterSetup(globalThis.metroCounterSetup),e.Component("counter",{init:function(t,i){return this._super(i,t,f,{numbers:[],html:a(i).html(),started:!1,id:e.utils.elementId("counter")}),this},_create:function(){this._createStruct(),this._createEvents(),this._fireEvent("counter-create")},_createStruct:function(){let t=this.element;this.elem,this.options,this.elem.value=0,t.css("font-size",this.options.size)},_createEvents:function(){this.options.startOnViewport&&Hooks.useEvent({effect:()=>{this.start()},target:this.elem,event:Hooks.EVENTS.VIEWPORT})},start:function(t,i){let r=this,d=this.elem,m=this.options;e.utils.isValue(i)&&(m.from=+i),e.utils.isValue(t)&&(m.value=+t),this.started=!0;let _=m.from,C=m.value;this._fireEvent("start"),a.animate({el:d,draw:{value:[_,C]},defer:m.timeout,dur:m.duration,onFrame:function(){r._fireEvent("tick",{value:this.value}),this.innerHTML=m.prefix+Number(this.value).format(0,0,m.delimiter)+m.suffix},onDone:()=>{r._fireEvent("stop")}})},reset:function(){this.started=!1,this.element.html(this.html)},changeAttribute:function(t,i){let r=this.options;t==="data-value"&&(r.value=+i),t==="data-from"&&(r.from=+i)},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={cubeDeferred:0,rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:"arrow",cellClick:!1,autoRestart:5e3,clsCube:"",clsCell:"",clsSide:"",clsSideLeft:"",clsSideRight:"",clsSideTop:"",clsSideLeftCell:"",clsSideRightCell:"",clsSideTopCell:"",clsAxis:"",clsAxisX:"",clsAxisY:"",clsAxisZ:"",custom:e.noop,onTick:e.noop,onCubeCreate:e.noop};e.cubeSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroCubeSetup<"u"&&e.cubeSetup(globalThis.metroCubeSetup),e.cubeDefaultRules=[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],e.Component("cube",{init:function(t,i){return this._super(i,t,f,{id:e.utils.elementId("cube"),rules:null,interval:!1,ruleInterval:!1,running:!1,intervals:[]}),this},_create:function(){let t=this.element,i=this.options;i.rules===null?this.rules=e.cubeDefaultRules:this._parseRules(i.rules),this._createCube(),this._createEvents(),this._fireEvent("cube-create",{element:t})},_parseRules:function(t){if(t==null)return!1;if(e.utils.isObject(t))return this.rules=e.utils.isObject(t),!0;try{return this.rules=JSON.parse(t),!0}catch{return console.warn("Unknown or empty rules for cell flashing!"),!1}},_createCube:function(){let t=this.element,i=this.options,r=["left","right","top"],d=e.utils.elementId("cube"),m=i.cells**2;t.addClass("cube").addClass(i.clsCube),t.attr("id")||t.attr("id",d),this.id=t.attr("id"),this._createCssForFlashColor(),this._createCssForCellSize(),a.each(r,function(){let k;k=a("<div>").addClass(`side ${this}-side`).addClass(i.clsSide).appendTo(t),this==="left"&&k.addClass(i.clsSideLeft),this==="right"&&k.addClass(i.clsSideRight),this==="top"&&k.addClass(i.clsSideTop);for(let E=0;E<m;E++){let F=a("<div>").addClass("cube-cell").addClass(`cell-id-${E+1}`).addClass(i.clsCell);F.data("id",E+1).data("side",this),F.appendTo(k),i.numbers===!0&&F.html(E+1)}});let _=t.find(".cube-cell");i.color!==null&&(Farbe.Routines.isColor(i.color)?_.css({backgroundColor:i.color,borderColor:i.color}):_.addClass(i.color));let C=["x","y","z"];a.each(C,function(){let k=a("<div>").addClass(`axis ${i.axisStyle}`).addClass(`axis-${this}`).addClass(i.clsAxis);this==="x"&&k.addClass(i.clsAxisX),this==="y"&&k.addClass(i.clsAxisY),this==="z"&&k.addClass(i.clsAxisZ),k.appendTo(t)}),i.showAxis===!1&&t.find(".axis").hide(),this._run()},_run:function(){let t=this.element,i=this.options,r=0;clearInterval(this.interval),t.find(".cube-cell").removeClass("light"),i.custom!==e.noop?e.utils.exec(i.custom,[t]):(t.find(".cube-cell").removeClass("light"),this._start(),r=e.utils.isObject(this.rules)?e.utils.objectLength(this.rules):0,this.interval=setInterval(()=>{this._start()},r*i.flashInterval))},_createCssForCellSize:function(){let t=this.element,i=this.options,r=e.sheet;if(i.margin===8&&i.cells===4)return;let d=Number.parseInt(e.utils.getStyleOne(t,"width")),m=Math.ceil((d/2-i.margin*i.cells*2)/i.cells);e.utils.addCssRule(r,`#${t.attr("id")} .side .cube-cell`,`width: ${m}px!important; height: ${m}px!important; margin: ${i.margin}px!important;`)},_createCssForFlashColor:function(){let t=this.element,i=this.options,r=e.sheet,d,m,_=[],C=[],k;if(i.flashColor!==null){for(d=`0 0 10px ${Farbe.Routines.toRGBA(Farbe.Routines.parse(i.flashColor),1)}`,m=`0 0 10px ${Farbe.Routines.toRGBA(Farbe.Routines.parse(i.flashColor),i.attenuation)}`,k=0;k<3;k++)_.push(d),C.push(m);e.utils.addCssRule(r,`@keyframes pulsar-cell-${t.attr("id")}`,`0%, 100% { box-shadow: ${_.join(",")}} 50% { box-shadow: ${C.join(",")} }`),e.utils.addCssRule(r,`#${t.attr("id")} .side .cube-cell.light`,`animation: pulsar-cell-${t.attr("id")} 2.5s 0s ease-out infinite; background-color: ${i.flashColor}!important; border-color: ${i.flashColor}!important;`)}},_createEvents:function(){let t=this.element,i=this.options;a(globalThis).on(e.events.blur,()=>{i.stopOnBlur===!0&&this.running===!0&&this._stop()},{ns:t.attr("id")}),a(globalThis).on(e.events.focus,()=>{i.stopOnBlur===!0&&this.running===!1&&this._start()},{ns:t.attr("id")}),t.on(e.events.click,".cube-cell",function(){i.cellClick===!0&&a(this).toggleClass("light")})},_start:function(){this.element.find(".cube-cell").removeClass("light"),this.running=!0,a.each(this.rules,(t,i)=>{this._execRule(t,i)})},_stop:function(){this.running=!1,clearInterval(this.interval),a.each(this.intervals,function(){clearInterval(this)})},_tick:function(t,i){let r=this.options,d=i||r.flashInterval*t,m=setTimeout(()=>{this._fireEvent("tick",{index:t}),clearInterval(m),e.utils.arrayDelete(this.intervals,m)},d);this.intervals.push(m)},_toggle:function(t,i,r,d){let m=d||this.options.flashInterval*r,_=setTimeout(()=>{t[i==="on"?"addClass":"removeClass"]("light"),clearInterval(_),e.utils.arrayDelete(this.intervals,_)},m);this.intervals.push(_)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(t,i){let r=this.element,d=this.options,m=this.rules;if(!(m==null||m[t]===void 0)){clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),r.find(".cube-cell").removeClass("light");for(let _=0;_<=t;_++)this._execRule(_,m[_],i);e.utils.isInt(d.autoRestart)&&d.autoRestart>0&&(this.ruleInterval=setTimeout(()=>{this._run()},d.autoRestart))}},_execRule:function(t,i,r){let d=this,m=this.element,_=["left","right","top"];this._tick(t,r),a.each(_,function(){var F,P;let C=`.${this}-side`,k=(F=i.on)!=null&&F[this]?i.on[this]:!1,E=(P=i.off)!=null&&P[this]?i.off[this]:!1;k!==!1&&a.each(k,function(){let U=m.find(`${C} .cell-id-${this}`);d._toggle(U,"on",t,r)}),E!==!1&&a.each(E,function(){let U=m.find(`${C} .cell-id-${this}`);d._toggle(U,"off",t,r)})})},rule:function(t){if(t===void 0)return this.rules;this._parseRules(t)===!0&&(this.options.rules=t,this.stop(),this.element.find(".cube-cell").removeClass("light"),this._run())},axis:function(t){let i=t?"show":"hide";this.element.find(".axis")[i]()},changeRules:function(){let t=this.element,i=this.options,r=t.attr("data-rules");this._parseRules(r)===!0&&(this.stop(),t.find(".cube-cell").removeClass("light"),i.rules=r,this._run())},changeAxisVisibility:function(){let t=this.element,i=JSON.parse(t.attr("data-show-axis"))===!0?"show":"hide";t.find(".axis")[i]()},changeAxisStyle:function(){let t=this.element,i=t.attr("data-axis-style");t.find(".axis").removeClass("arrow line no-style").addClass(i)},changeAttribute:function(t){switch(t){case"data-rules":this.changeRules();break;case"data-show-axis":this.changeAxisVisibility();break;case"data-axis-style":this.changeAxisStyle();break}},destroy:function(){let t=this.element;return clearInterval(this.interval),this.interval=null,a(globalThis).off(e.events.blur,{ns:t.attr("id")}),a(globalThis).off(e.events.focus,{ns:t.attr("id")}),t.off(e.events.click,".cube-cell"),t}})})(Metro,Dom),((e,a)=>{let f={customCheckboxDeferred:0,stateOn:"✓",stateOff:"✗",captionOn:"",captionOff:"",captionPosition:"right",clsCustomCheckbox:"",clsIcon:"",clsIconOn:"",clsIconOff:"",clsCaption:"",clsCaptionOn:"",clsCaptionOff:"",onCustomCheckboxCreate:e.noop};e.customCheckboxSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroCustomCheckboxSetup<"u"&&e.customCheckboxSetup(globalThis.metroCustomCheckboxSetup),e.Component("custom-checkbox",{init:function(t,i){return this._super(i,t,f),this},_create:function(){let t=this.element,i=this.options,r=t.wrap(a("<label>").addClass("custom-checkbox").addClass(i.clsCustomCheckbox)),d=a("<span>").addClass("icon").addClass(i.clsIcon).appendTo(r);if(t.attr("type","checkbox"),t.attr("readonly")&&t.on("click",m=>{m.preventDefault()}),i.stateOn&&a("<span>").addClass("state-on").addClass(i.clsIconOn).html(i.stateOn).appendTo(d),i.stateOff&&a("<span>").addClass("state-off").addClass(i.clsIconOff).html(i.stateOff).appendTo(d),i.captionOn||i.captionOff){let m=a("<span>").addClass("caption").addClass(i.clsCaption).appendTo(r);i.captionOn&&a("<span>").addClass("caption-state-on").addClass(i.clsCaptionOn).html(i.captionOn).appendTo(m),i.captionOff&&a("<span>").addClass("caption-state-off").addClass(i.clsCaptionOff).html(i.captionOff).appendTo(m)}i.captionPosition==="left"&&r.addClass("caption-left"),t[0].className="",t.is(":disabled")?this.disable():this.enable(),this._fireEvent("customCheckbox-create")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(t){let i=this.element;return e.utils.isValue(t)?i.prop("checked",t===1):i.prop("checked",!e.utils.bool(i.prop("checked"))),this},changeAttribute:function(t){switch(t){case"disabled":this.toggleState();break}},destroy:function(){return this.element}})})(Metro,Dom),((e,a)=>{let f={label:"",datepickerDeferred:0,gmt:0,format:"YYYY-MM-DD",inputFormat:null,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,defaultYearDistance:100,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsMonth:"",clsDay:"",clsYear:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"✓",cancelButtonIcon:"𐄂",onSet:e.noop,onOpen:e.noop,onClose:e.noop,onScroll:e.noop,onDatePickerCreate:e.noop};e.datePickerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroDatePickerSetup<"u"&&e.datePickerSetup(globalThis.metroDatePickerSetup),e.Component("date-picker",{init:function(t,i){return this._super(i,t,f,{picker:null,isOpen:!1,value:datetime(),listTimer:{day:null,month:null,year:null}}),this},_create:function(){let t=this.element,i=this.options,r=this.locale,d=datetime();i.distance<1&&(i.distance=1),e.utils.isValue(t.val())&&(i.value=t.val()),e.utils.isValue(i.value)&&(this.value=i.inputFormat?Datetime.from(i.value,i.inputFormat,r):datetime(i.value)),i.minYear===null&&(i.minYear=d.year()-i.defaultYearDistance),i.maxYear===null&&(i.maxYear=d.year()+i.defaultYearDistance),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("datepicker-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r=this.locale,d,m,_,C,k,E,F,P;if(e.utils.elementId("datepicker"),d=a("<div>").addClass(`wheel-picker date-picker ${t[0].className}`).addClass(i.clsPicker),d.attr("id")||d.attr("id",Hooks.useId(t[0])),d.insertBefore(t),t.appendTo(d),i.label){let ee=a("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(d);t.attr("id")&&ee.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&ee.addClass("rtl")}F=a("<div>").addClass("date-wrapper").appendTo(d),i.month===!0&&(m=a("<div>").addClass("month").addClass(i.clsPart).addClass(i.clsMonth).appendTo(F)),i.day===!0&&(_=a("<div>").addClass("day").addClass(i.clsPart).addClass(i.clsDay).appendTo(F)),i.year===!0&&(C=a("<div>").addClass("year").addClass(i.clsPart).addClass(i.clsYear).appendTo(F));let U=a("<div>").addClass("select-wrapper").appendTo(d);if(P=a("<div>").addClass("select-block").appendTo(U),i.month===!0){for(m=a("<ul>").addClass("sel-month").appendTo(P),k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(m);for(k=0;k<12;k++){let ee=Datetime.getLocale(r).months[k];a("<li>").addClass(`js-month-${k} js-month-real-${ee.toLowerCase()}`).html(ee).data("value",k).appendTo(m)}for(k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(m)}if(i.day===!0){for(_=a("<ul>").addClass("sel-day").appendTo(P),k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(_);for(k=0;k<31;k++)a("<li>").addClass(`js-day-${k} js-day-real-${k+1}`).html(k+1).data("value",k+1).appendTo(_);for(k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(_)}if(i.year===!0){for(C=a("<ul>").addClass("sel-year").appendTo(P),k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(C);for(k=i.minYear,E=0;k<=i.maxYear;k++,E++)a("<li>").addClass(`js-year-${E} js-year-real-${k}`).html(k).data("value",k).appendTo(C);for(k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(C)}P.height((i.distance*2+1)*40);let Y=a("<div>").addClass("action-block").appendTo(U);if(a("<button>").attr("type","button").addClass("button action-today").addClass(i.clsButton).addClass(i.clsTodayButton).html(`<span class="caption">${this.strings.label_today}</span>`).appendTo(Y),a("<button>").attr("type","button").addClass("button action-ok").addClass(i.clsButton).addClass(i.clsOkButton).html(`<span class="icon">${i.okButtonIcon}</span>`).appendTo(Y),a("<button>").attr("type","button").addClass("button action-cancel").addClass(i.clsButton).addClass(i.clsCancelButton).html(`<span class="icon">${i.cancelButtonIcon}</span>`).appendTo(Y),t[0].className="",i.copyInlineStyles===!0)for(k=0;k<t[0].style.length;k++)d.css(t[0].style[k],t.css(t[0].style[k]));t.prop("disabled")&&d.addClass("disabled"),this.picker=d},_createEvents:function(){let t=this,i=this.options,r=this.picker;r.on("touchstart",".select-block ul",function(m){if(m.changedTouches)return;let _=e.utils.pageXY(m).y;a(document).on("touchmove",C=>{this.scrollTop-=i.scrollSpeed*(_>e.utils.pageXY(C).y?-1:1),_=e.utils.pageXY(C).y},{ns:r.attr("id")}),a(document).on("touchend",()=>{a(document).off(e.events.move,{ns:r.attr("id")}),a(document).off(e.events.stop,{ns:r.attr("id")})},{ns:r.attr("id")})}),r.on(e.events.click,m=>{t.isOpen===!1&&t.open(),m.stopPropagation()}),r.on(e.events.click,".action-ok",m=>{let _=r.find(".sel-month li.active"),C=r.find(".sel-day li.active"),k=r.find(".sel-year li.active"),E=_.length===0?t.value.value.getMonth():_.data("value"),F=C.length===0?t.value.value.getDate():C.data("value"),P=k.length===0?t.value.value.getFullYear():k.data("value");t.value=datetime(P,E,F),t._set(),t.close(),m.preventDefault(),m.stopPropagation()}),r.on(e.events.click,".action-cancel",m=>{t.close(),m.preventDefault(),m.stopPropagation()});let d=150;a.each(["month","day","year"],function(){let m=r.find(`.sel-${this}`),_=Hooks.useDebounce(C=>{t.listTimer[this]=null;let k=Math.round(Math.ceil(m.scrollTop())/40),E=m.find(`.js-${this}-${k}`),F=E.position().top-i.distance*40;m.find(".active").removeClass("active"),m[0].scrollTop=F,E.addClass("active"),e.utils.exec(i.onScroll,[E,m,r],m[0])},d);m.on("scroll",_)}),r.on(e.events.click,"ul li",function(m){let _=a(this),C=_.closest("ul"),k=_.position().top-i.distance*40;C.find(".active").removeClass("active"),a.animate({el:C[0],draw:{scrollTop:k},dur:300}),C[0].scrollTop=k,_.addClass("active"),e.utils.exec(i.onScroll,[_,C,r],C[0])}),r.on(e.events.click,".action-today",m=>{let _=datetime(),C=_.month(),k=_.day(),E=_.year();r.find(`.sel-month li.js-month-${C}`).click(),r.find(`.sel-day li.js-day-real-${k}`).click(),r.find(`.sel-year li.js-year-real-${E}`).click(),m.preventDefault(),m.stopPropagation()})},_correct:function(){let t=this.value.month(),i=this.value.day(),r=this.value.year();this.value=datetime(r,t,i)},_set:function(){let t=this.element,i=this.options,r=this.picker,d=Datetime.getLocale(this.locale).months[this.value.month()],m=this.value.day(),_=this.value.year();i.month===!0&&r.find(".month").html(d),i.day===!0&&r.find(".day").html(m),i.year===!0&&r.find(".year").html(_),t.val(this.value.format(i.format,this.locale)).trigger("change"),this._fireEvent("set",{value:this.value.val(),elementValue:t.val(),picker:r})},open:function(){let t=this.options,i=this.picker,r=this.value.month(),d=this.value.day()-1,m=this.value.year(),_=i.find(".select-wrapper");if(a.each(a(".date-picker"),function(){a(this).find("input").each(function(){e.getPlugin(this,"datepicker").close()})}),_.show(0),i.find("li").removeClass("active"),t.openMode==="auto"?(e.utils.inViewport(_[0])||_.parent().addClass("drop-up-select"),e.utils.inViewport(_[0])||(_.parent().removeClass("drop-up-select"),_.parent().addClass("drop-as-dialog"))):t.openMode==="dialog"?_.parent().addClass("drop-as-dialog"):t.openMode==="up"&&_.parent().addClass("drop-up-select"),t.month===!0){let C=i.find(".sel-month");C.scrollTop(0).animate({draw:{scrollTop:C.find(`li.js-month-${r}`).addClass("active").position().top-40*t.distance},dur:100})}if(t.day===!0){let C=i.find(".sel-day");C.scrollTop(0).animate({draw:{scrollTop:C.find(`li.js-day-${d}`).addClass("active").position().top-40*t.distance},dur:100})}if(t.year===!0){let C=i.find(".sel-year");C.scrollTop(0).animate({draw:{scrollTop:C.find(`li.js-year-real-${m}`).addClass("active").position().top-40*t.distance},dur:100})}this.isOpen=!0,this._fireEvent("open",{value:this.value.val(),picker:i})},close:function(){let t=this.picker,i=this.options;t.find(".select-wrapper").hide(0),i.openMode==="auto"&&t.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{value:this.value.val(),picker:t})},val:function(t){let i=this.options;if(!e.utils.isValue(t))return this.element.val();this.value=i.inputFormat?Datetime.from(t,i.inputFormat,this.locale):datetime(t),this._set()},date:function(t,i){if(t===void 0)return this.value.val();try{this.value=Datetime.from(t,i,this.locale),this._set()}catch{return!1}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t,i){switch(t){case"disabled":this.toggleState();break;case"data-value":this.val(i);break;case"data-format":this.options.format=i,this._set();break}},destroy:function(){let t=this.element,i=this.picker;return a.each(["moth","day","year"],function(){i.find(`.sel-${this}`).off("scroll")}),i.off(e.events.start,".select-block ul"),i.off(e.events.click),i.off(e.events.click,".action-ok"),i.off(e.events.click,".action-cancel"),t}}),a(document).on(e.events.click,()=>{a.each(a(".date-picker"),function(){a(this).find("input").each(function(){e.getPlugin(this,"datepicker").close()})})})})(Metro,Dom),((e,a)=>{let f={note:`
    <svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8.75 3.5V2C8.75 1.59 8.41 1.25 8 1.25C7.59 1.25 7.25 1.59 7.25 2V3.56C7.5 3.53 7.73 3.5 8 3.5H8.75Z"/>
        <path d="M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H16C16.27 3.5 16.5 3.53 16.75 3.56Z"/>
        <path d="M16.75 3.56V5C16.75 5.41 16.41 5.75 16 5.75C15.59 5.75 15.25 5.41 15.25 5V3.5H8.75V5C8.75 5.41 8.41 5.75 8 5.75C7.59 5.75 7.25 5.41 7.25 5V3.56C4.3 3.83 3 5.73 3 8.5V17C3 20 4.5 22 8 22H16C19.5 22 21 20 21 17V8.5C21 5.73 19.7 3.83 16.75 3.56ZM12 16.75H8C7.59 16.75 7.25 16.41 7.25 16C7.25 15.59 7.59 15.25 8 15.25H12C12.41 15.25 12.75 15.59 12.75 16C12.75 16.41 12.41 16.75 12 16.75ZM16 11.75H8C7.59 11.75 7.25 11.41 7.25 11C7.25 10.59 7.59 10.25 8 10.25H16C16.41 10.25 16.75 10.59 16.75 11C16.75 11.41 16.41 11.75 16 11.75Z"/>
    </svg>
    `,info:`
    <svg width="800px" height="800px" viewBox="-160 0 512 512" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"/>
    </svg>
    `,warning:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 294.995 294.995" xml:space="preserve">
        <path d="M291.874,248.279L165.605,26.526c-4.007-7.037-10.776-11.26-18.107-11.26s-14.101,4.202-18.107,11.239L3.121,248.238 c-3.979,6.989-4.164,15.013-0.493,21.326c3.67,6.313,10.663,10.165,18.705,10.165h252.329c8.042,0,15.035-3.852,18.705-10.165 C296.038,263.251,295.854,255.268,291.874,248.279z M146.665,86.229c9.665,0,17.5,7.835,17.5,17.5v63c0,9.665-7.835,17.5-17.5,17.5 c-9.665,0-17.5-7.835-17.5-17.5v-63C129.165,94.064,137,86.229,146.665,86.229z M147.498,204.005c9.665,0,17.5,7.835,17.5,17.5 c0,9.665-7.835,17.5-17.5,17.5c-9.665,0-17.5-7.835-17.5-17.5C129.998,211.84,137.833,204.005,147.498,204.005z"/>
    </svg>
    `,caution:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"  xml:space="preserve">
        <path class="st0" d="M387.317,0.005H284.666h-57.332h-102.65L0,124.688v102.67v57.294v102.67l124.684,124.674h102.65h57.332
            h102.651L512,387.321v-102.67v-57.294v-102.67L387.317,0.005z M255.45,411.299c-19.082,0-34.53-15.467-34.53-34.549
            c0-19.053,15.447-34.52,34.53-34.52c19.082,0,34.53,15.467,34.53,34.52C289.98,395.832,274.532,411.299,255.45,411.299z
             M283.414,278.692c0,15.448-12.516,27.964-27.964,27.964c-15.458,0-27.964-12.516-27.964-27.964l-6.566-135.368
            c0-19.072,15.447-34.54,34.53-34.54c19.082,0,34.53,15.467,34.53,34.54L283.414,278.692z"/>
    </svg>
    `,tip:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 256 256" xml:space="preserve">
        <path d="M216.2,92.5c-5.2-5.3-13.8-5.4-19-0.1L157.8,134l-0.3,0.3c-25.5,0.1-46.2,16.8-46.2,37.3h-5.8c0-23.6,23.1-42.8,51.6-43.1
            l-0.1-19.4c0,0-0.1-85.4-0.1-85.5c-0.7-5.8-5.6-10.3-11.7-10.3c-6.5,0-11.7,5.3-11.7,11.7c0,0.2,0,72.9,0,72.9l-5.2,0.2l-0.1-81.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8v81h-5.6l0.1-63.6c0-6.5-5.3-11.7-11.8-11.7S75.7,28,75.7,34.4V98h-5.2l0.1-34.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8c0,108.4,0,108.4,0,111c0,13.2,6.8,24.4,16.2,28.1v48.4h0.2v0.4l81.2-0.4v-51.1
            c2.5-0.9,5.1-2,7.6-3.3c15.4-7.9,26.1-20.3,29.5-32.5c2.9-4.3,36.8-56.2,36.8-56.2C221.4,103.7,220.6,96.9,216.2,92.5z"/>
    </svg>  
    `,success:`
        <svg width="800px" height="800px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path d="M24,2A22,22,0,1,0,46,24,21.9,21.9,0,0,0,24,2ZM35.4,18.4l-14,14a1.9,1.9,0,0,1-2.8,0l-5.9-5.9a2.2,2.2,0,0,1-.4-2.7,2,2,0,0,1,3.1-.2L20,28.2,32.6,15.6a2,2,0,0,1,2.8,2.8Z"/>
        </svg>    
    `},t={directive:"note",showIcon:!0,title:"default",style:1,onDirectiveCreate:e.noop};e.directiveSetup=i=>{t=a.extend({},t,i)},typeof globalThis.metroDirectiveSetup<"u"&&e.directiveSetup(globalThis.metroDirectiveSetup),e.Component("directive",{init:function(i,r){return this._super(r,i,t,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("directive-create")},_createStructure:function(){let i=this.element,r=this.options,d=i.wrap("<div>").addClass("directive").addClass(`directive-style-${r.style}`).addClass(`directive-${r.directive}`),m=a("<div>").addClass("directive-title").html(r.title==="default"?this.strings[`label_${r.directive.toLowerCase()}`].toUpperCase():r.title);r.showIcon&&m.prepend(a("<span>").addClass("icon").html(f[r.directive])),d.prepend(m),this.component=d},_createEvents:()=>{},changeAttribute:(i,r)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={donutDeferred:0,size:100,hole:.8,value:0,background:"transparent",color:"",stroke:"#d1d8e7",fill:"#49649f",fontSize:0,total:100,cap:"%",showText:!0,showValue:!1,animate:0,onChange:e.noop,onDrawValue:t=>t,onDonutCreate:e.noop};e.donutSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroDonutSetup<"u"&&e.donutSetup(globalThis.metroDonutSetup),e.Component("donut",{init:function(t,i){return this._super(i,t,f,{value:0,animation_change_interval:null}),this},_create:function(){let t=this.element,i=this.options;t.addClass("donut"),this._setElementSize(),this._draw(),this._addEvents(),this.val(i.value),this._fireEvent("donut-create",{element:t})},_setElementSize:function(){let t=this.element,i=this.options,r=i.size;t.css({width:r,background:i.background}),t.css({height:t.width()})},_draw:function(){let t=this.element,i=this.options,r="",d=t.width()/2,m=d*(1-(1-i.hole)/2),_=d*(1-i.hole),C=`rotate(-90 ${d},${d})`,k=i.fontSize===0?m*i.hole*.6:i.fontSize;r+="<svg>",r+=`   <circle class='donut-back' r='${m}px' cx='${d}px' cy='${d}px' transform='${C}' fill='none' stroke='${i.stroke}' stroke-width='${_}'/>`,r+=`   <circle class='donut-fill' r='${m}px' cx='${d}px' cy='${d}px' transform='${C}' fill='none' stroke='${i.fill}' stroke-width='${_}'/>`,i.showText===!0&&(r+=`   <text class='donut-title' x='${d}px' y='${d}px' dy='${k/3}px' text-anchor='middle' fill='${i.color!==""?i.color:i.fill}' font-size='${k}px'></text>`),r+="</svg>",t.html(r)},_addEvents:function(){a(globalThis).on("resize",()=>{this._setElementSize(),this._draw(),this.val(this.value)})},_setValue:function(t){let i=this.element,r=this.options,d=i.find(".donut-fill"),m=i.find(".donut-title"),_=i.width()/2*(1-(1-r.hole)/2),C=Math.round(2*Math.PI*_),k=r.showValue?t:e.utils.percent(r.total,t,!0),E=Math.round(+t*C/r.total),F=d.attr("stroke-dasharray");typeof F>"u"?F=0:F=+F.split(" ")[0];let P=E-F;d.animate({draw:function(U,Y){a(this).attr("stroke-dasharray",`${F+P*Y} ${C}`)},dur:r.animate}),m.html(e.utils.exec(r.onDrawValue,[k+r.cap]))},val:function(t){let i=this.options;if(t===void 0)return this.value;if(Number.parseInt(t)<0||Number.parseInt(t)>i.total)return!1;this._setValue(t),this.value=t,this._fireEvent("change",{value:this.value})},setColor:function(t){let i=["background","fill","stroke","color"];return a.each(t,(r,d)=>{i.indexOf(r)!==-1&&(this.options[r]=d)}),this._draw(),this.val(this.value),this},changeValue:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(t,i){switch(t){case"data-value":this.changeValue();break;case"data-background":this.setColor({background:i});break;case"data-fill":this.setColor({fill:i});break;case"data-stroke":this.setColor({stroke:i});break;case"data-color":this.setColor({color:i});break}},destroy:function(){return this.element}})})(Metro,Dom),((e,a)=>{let f={height:"auto",multiSelect:!1,moveRightIcon:"&rsaquo;",moveRightAllIcon:"&raquo;",moveLeftIcon:"&lsaquo;",moveLeftAllIcon:"&laquo;",clsBox:"",clsMoveButton:"",clsMoveRightButton:"",clsMoveRightAllButton:"",clsMoveLeftButton:"",clsMoveLeftAllButton:"",clsListLeft:"",clsListRight:"",onDoubleSelectBoxCreate:e.noop};e.doubleSelectBoxSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroDoubleSelectBoxSetup<"u"&&e.doubleSelectBoxSetup(globalThis.metroDoubleSelectBoxSetup),e.Component("double-select-box",{init:function(t,i){return this._super(i,t,f,{select1:null,select2:null,list1:null,list2:null}),this},_create:function(){if(this.element.children("select").length!==2)throw new Error("Component DoubleSelectBox required two select elements!");this._createStructure(),this._createEvents(),this._fireEvent("double-select-box-create")},_drawList:function(){this.list1.clear(),this.select1.find("option").each((t,i)=>{let r=a(i),d=r.attr("data-icon"),m=r.attr("data-template")?r.attr("data-template").replace(/\$1/g,r.text()):r.text();d&&(m=a("<span>").addClass("icon").append(d).outerHTML()+m),this.list1.append(a("<li>").html(m).attr("data-value",i.value).data("option",i))}),this.list2.clear(),this.select2.find("option").each((t,i)=>{let r=a(i),d=r.attr("data-icon"),m=r.attr("data-template")?r.attr("data-template").replace(/\$1/g,r.text()):r.text();d&&(m=a("<span>").addClass("icon").append(d).outerHTML()+m),this.list2.append(a("<li>").html(m).attr("data-value",i.value).data("option",i))})},_createStructure:function(){let t=this.element,i=this.options,r=t.children("select"),d=r.eq(0),m=r.eq(1),_=a("<div>").addClass("controls").insertBefore(m);t.addClass("double-select-box").addClass(i.clsBox).css({height:i.height}),r.prop("multiple",!0),_.append(a([a("<button>").attr("type","button").addClass("button square small --move-right").addClass(i.clsMoveButton).addClass(i.clsMoveRightButton).html(`<span class="icon">${i.moveRightIcon}</span>`),a("<button>").attr("type","button").addClass("button square small --move-right-all").addClass(i.clsMoveButton).addClass(i.clsMoveRightAllButton).html(`<span class="icon">${i.moveRightAllIcon}</span>`),a("<button>").attr("type","button").addClass("button square small --move-left-all").addClass(i.clsMoveButton).addClass(i.clsMoveLeftAllButton).html(`<span class="icon">${i.moveLeftAllIcon}</span>`),a("<button>").attr("type","button").addClass("button square small --move-left").addClass(i.clsMoveButton).addClass(i.clsMoveLeftButton).html(`<span class="icon">${i.moveLeftIcon}</span>`)]));let C=a("<ul>").addClass("--list1").addClass(i.clsListLeft).insertBefore(d),k=a("<ul>").addClass("--list2").addClass(i.clsListRight).insertBefore(m);this.select1=d,this.select2=m,this.list1=C,this.list2=k,this._drawList()},_moveItems:(t,i)=>{a.each(t,function(){let r=a(this),d=r.data("option");a(d).appendTo(i[0]),r.removeClass("active").appendTo(i[1])})},_move:function(t,i){i==="selected"?t==="ltr"?this._moveItems(this.list1.find("li.active"),[this.select2,this.list2]):this._moveItems(this.list2.find("li.active"),[this.select1,this.list1]):t==="ltr"?this._moveItems(this.list1.find("li"),[this.select2,this.list2]):this._moveItems(this.list2.find("li"),[this.select1,this.list1])},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.find("li");d.on("click",function(){let m=a(this);r.multiSelect===!1&&(t.list1.find("li").removeClass("active"),t.list2.find("li").removeClass("active")),m.addClass("active")}),d.on("dblclick",function(){let m=a(this),_=m.parent().hasClass("--list1")?"ltr":"rtl";t.list1.find("li").removeClass("active"),t.list2.find("li").removeClass("active"),m.addClass("active"),t._move(_,"selected")}),i.on("click","button",function(){let m=a(this);if(m.hasClass("--move-right"))t._move("ltr","selected");else if(m.hasClass("--move-right-all"))t._move("ltr","all");else if(m.hasClass("--move-left"))t._move("rtl","selected");else if(m.hasClass("--move-left-all"))t._move("rtl","all");else throw new Error("Pressed unregistered button!")})},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={doubleSliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:e.position.BOTTOM,valueMin:null,valueMax:null,hint:!1,hintAlways:!1,hintPositionMin:e.position.TOP,hintPositionMax:e.position.TOP,hintMaskMin:"$1",hintMaskMax:"$1",target:null,size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsMarker:"",clsMarkerMin:"",clsMarkerMax:"",clsHint:"",clsHintMin:"",clsHintMax:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:e.noop,onStop:e.noop,onMove:e.noop,onChange:e.noop,onChangeValue:e.noop,onFocus:e.noop,onBlur:e.noop,onDoubleSliderCreate:e.noop};e.doubleSliderSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroDoubleSliderSetup<"u"&&e.doubleSliderSetup(globalThis.metroDoubleSliderSetup),e.Component("double-slider",{init:function(t,i){return this._super(i,t,f,{slider:null,valueMin:null,valueMax:null,keyInterval:!1,id:e.utils.elementId("slider")}),this},_create:function(){let t=this.element,i=this.options;this.valueMin=e.utils.isValue(i.valueMin)?+i.valueMin:+i.min,this.valueMax=e.utils.isValue(i.valueMax)?+i.valueMax:+i.max,this._createSlider(),this._createEvents(),this.val(this.valueMin,this.valueMax),this._fireEvent("double-slider-create",{element:t})},_createSlider:function(){let t=this.element,i=this.options,r=a("<div>").addClass("slider-wrapper"),d=a("<div>").addClass("slider").addClass(i.clsSlider).addClass(this.elem.className),m=a("<div>").addClass("backside").addClass(i.clsBackside),_=a("<div>").addClass("complete").addClass(i.clsComplete),C=a("<button>").attr("type","button").addClass("marker marker-min").addClass(i.clsMarker).addClass(i.clsMarkerMin),k=a("<button>").attr("type","button").addClass("marker marker-max").addClass(i.clsMarker).addClass(i.clsMarkerMax),E=a("<div>").addClass("hint hint-min").addClass(`${i.hintPositionMin}-side`).addClass(i.clsHint).addClass(i.clsHintMin),F=a("<div>").addClass("hint hint-max").addClass(`${i.hintPositionMax}-side`).addClass(i.clsHint).addClass(i.clsHintMax),P;if(i.size>0&&d.outerWidth(i.size),d.insertBefore(t),t.appendTo(d),r.insertBefore(d),d.appendTo(r),m.appendTo(d),_.appendTo(d),C.appendTo(d),k.appendTo(d),E.appendTo(C),F.appendTo(k),i.hintAlways===!0&&a([E,F]).css({display:"block"}).addClass("permanent-hint"),i.showMinMax===!0){let U=a("<div>").addClass("slider-min-max").addClass(i.clsMinMax);a("<span>").addClass("slider-text-min").addClass(i.clsMin).html(`${i.min}`).appendTo(U),a("<span>").addClass("slider-text-max").addClass(i.clsMax).html(`${i.max}`).appendTo(U),i.minMaxPosition===e.position.TOP?U.insertBefore(d):U.insertAfter(d)}if(t[0].className="",i.copyInlineStyles===!0)for(P=0;P<t[0].style.length;P++)d.css(t[0].style[P],t.css(t[0].style[P]));t.is(":disabled")?this.disable():this.enable(),this.slider=d},_createEvents:function(){let t=this,i=this.slider,r=this.options,d=i.find(".marker");d.on(e.events.startAll,function(){let m=a(this),_=m.find(".hint");m.addClass("active"),r.hint===!0&&r.hintAlways!==!0&&_.fadeIn(300),a(document).on(e.events.moveAll,C=>{t._move(C),t._fireEvent("move",{min:t.valueMin,max:t.valueMax})},{ns:t.id}),a(document).on(e.events.stopAll,()=>{i.find(".marker").removeClass("active"),a(document).off(e.events.moveAll,{ns:t.id}),a(document).off(e.events.stopAll,{ns:t.id}),r.hintAlways!==!0&&_.fadeOut(300),t._fireEvent("stop",{min:t.valueMin,max:t.valueMax})},{ns:t.id}),t._fireEvent("start",{min:t.valueMin,max:t.valueMax})}),d.on(e.events.focus,()=>{t._fireEvent("focus",{min:t.valueMin,max:t.valueMax})}),d.on(e.events.blur,()=>{t._fireEvent("blur",{min:t.valueMin,max:t.valueMax})}),a(globalThis).on(e.events.resize,()=>{t.val(t.valueMin,t.valueMax)},{ns:t.id})},_convert:function(t,i){let r=this.slider,d=this.options,m=r.outerWidth()-r.find(".marker").outerWidth();switch(i){case"pix2prc":return t*100/m;case"pix2val":return this._convert(t,"pix2prc")*((d.max-d.min)/100)+d.min;case"val2prc":return(t-d.min)/((d.max-d.min)/100);case"prc2pix":return t/(100/m);case"val2pix":return this._convert(this._convert(t,"val2prc"),"prc2pix")}return 0},_correct:function(t){let i=t,r=this.options.accuracy,d=this.options.min,m=this.options.max,_=C=>C%1===0?0:C.toString().split(".")[1].length;return r===0||Number.isNaN(r)?i:(i=Math.round(t/r)*r,i<d&&(i=d),i>m&&(i=m),i.toFixed(_(r)))},_move:function(t){let i=this.slider.find(".marker.active").hasClass("marker-min"),r=this.slider,d=r.offset(),m=r.find(".marker").outerWidth(),_=r.find(".marker-min"),C=r.find(".marker-max"),k=r.outerWidth(),E,F,P=e.utils.pageXY(t).x-d.left-m/2;i?(E=0,F=Number.parseInt(C.css("left"))-m):(E=Number.parseInt(_.css("left"))+m,F=k-m),!(P<E||P>F)&&(this[i?"valueMin":"valueMax"]=this._correct(this._convert(P,"pix2val")),this._redraw())},_hint:function(){let t=this,i=this.options;this.slider.find(".hint").each(function(){let r=a(this),d=r.hasClass("hint-min"),m=d?i.hintMaskMin:i.hintMaskMax,_=+(d?t.valueMin:t.valueMax)||0;r.text(m.replace("$1",_.toFixed(e.utils.decCount(i.accuracy))))})},_value:function(){let t=this.element,i=this.options,r=+this.valueMin||0,d=+this.valueMax||0,m;if(i.roundValue&&(r=r.toFixed(e.utils.decCount(i.accuracy)),d=d.toFixed(e.utils.decCount(i.accuracy))),m=[r,d].join(", "),t[0].tagName==="INPUT"&&t.val(m),i.target!==null){let _=a(i.target);_.length!==0&&a.each(_,function(){let C=a(this);this.tagName==="INPUT"?C.val(m):C.text(m),C.trigger("change")})}this._fireEvent("change-value",{val:m}),this._fireEvent("change",{val:m})},_marker:function(){let t=this.slider,i=t.find(".marker-min"),r=t.find(".marker-max"),d=t.find(".complete"),m=Number.parseInt(e.utils.getStyleOne(i,"width")),_=e.utils.isVisible(t);_&&a([i,r]).css({"margin-top":0,"margin-left":0}),_?(i.css("left",this._convert(this.valueMin,"val2pix")),r.css("left",this._convert(this.valueMax,"val2pix"))):(i.css({left:`${this._convert(this.valueMin,"val2prc")}%`,"margin-top":this._convert(this.valueMin,"val2prc")===0?0:-1*m/2}),r.css({left:`${this._convert(this.valueMax,"val2prc")}%`,"margin-top":this._convert(this.valueMax,"val2prc")===0?0:-1*m/2})),d.css({left:this._convert(this.valueMin,"val2pix"),width:this._convert(this.valueMax,"val2pix")-this._convert(this.valueMin,"val2pix")})},_redraw:function(){this._marker(),this._value(),this._hint()},val:function(t,i){let r=this.options;if(!e.utils.isValue(t)&&!e.utils.isValue(i))return[this.valueMin,this.valueMax];let d=t,m=i;typeof d<"u"&&d<r.min&&(d=r.min),typeof m<"u"&&m<r.min&&(m=r.min),typeof d<"u"&&d>r.max&&(d=r.max),typeof m<"u"&&m>r.max&&(m=r.max),typeof d<"u"&&(this.valueMin=this._correct(d)),typeof m<"u"&&(this.valueMax=this._correct(m)),this._redraw()},changeValue:function(){let t=this.element,i=+t.attr("data-value-min"),r=+t.attr("data-value-max");this.val(i,r)},disable:function(){let t=this.element;t.data("disabled",!0),t.parent().addClass("disabled")},enable:function(){let t=this.element;t.data("disabled",!1),t.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"data-value-min":this.changeValue();break;case"data-value-max":this.changeValue();break;case"disabled":this.toggleState();break}},destroy:function(){let t=this.element,i=this.slider,r=i.find(".marker");r.off(e.events.startAll),r.off(e.events.focus),r.off(e.events.blur),r.off(e.events.keydown),r.off(e.events.keyup),i.off(e.events.click),a(globalThis).off(e.events.resize,{ns:this.id}),t.remove()}})})(Metro,Dom),((e,a)=>{let f={dragItemsDeferred:0,target:null,dragItem:"li",dragMarker:".drag-item-marker",drawDragMarker:!1,clsDragItemAvatar:"",clsDragItem:"",canDrag:!0,onDragStartItem:e.noop,onDragMoveItem:e.noop,onDragDropItem:e.noop,onTarget:e.noop,onTargetIn:e.noop,onTargetOut:e.noop,onDragItemsCreate:e.noop};e.dragItemsSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroDragItemsSetup<"u"&&e.dragItemsSetup(globalThis.metroDragItemsSetup),e.Component("drag-items",{init:function(t,i){return this._super(i,t,f,{id:e.utils.elementId("dragItems"),canDrag:!1}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("drag-items-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options;t.addClass("drag-items-target"),i.drawDragMarker===!0&&t.find(i.dragItem).each(function(){a("<span>").addClass("drag-item-marker").appendTo(this)}),i.canDrag?this.on():this.off()},_createEvents:function(){let t=this.element,i=this.options,r=a.document(),d=a.body(),m,_={top:0,left:0},C,k,E=(F,P,U)=>{let Y=e.utils.pageXY(F).x,ee=e.utils.pageXY(F).y,Ae=ee-_.top,$e=Y-_.left;P.css({top:Ae,left:$e});let ze=document.elementsFromPoint(Y,ee).filter(Se=>a(Se).hasClass("drag-items-target"));if(ze.length===0)return;this._fireEvent("target",{target:ze});let Re=document.elementsFromPoint(Y,ee).filter(Se=>{let Le=a(Se);return a.matches(Se,i.dragItem)&&!Le.hasClass("dragged-item-avatar")})[0];if(!e.utils.isValue(Re))U.appendTo(ze);else{let Se=a(Re),Le=Se.offset(),Me=ee-Le.top,Fe=Y-Le.left,wt,Ft={w:Se.width(),h:Se.height()};Fe<Ft.w/3&&(Me<Ft.h/2||Me>Ft.h/2)?wt="left":Fe>Ft.w*2/3&&(Me<Ft.h/2||Me>Ft.h/2)?wt="right":Fe>Ft.w/3&&Fe<Ft.w*2/3&&Me>Ft.h/2?wt="bottom":wt="top",Se.hasClass("dragged-item")||(wt==="top"||wt==="left"?U.insertBefore(Se):U.insertAfter(Se))}};t.on(e.events.startAll,i.drawDragMarker?i.dragMarker:i.dragItem,F=>{let P=a(F.target).closest(i.dragItem);if(e.utils.isRightMouse(F)||this.canDrag!==!0)return;P.addClass("dragged-item").addClass(i.clsDragItem);let U=a("<div>").addClass("dragged-item-avatar").addClass(i.clsDragItemAvatar);m=P.offset(),C=P.width(),k=P.height(),_.top=e.utils.pageXY(F).y-m.top,_.left=e.utils.pageXY(F).x-m.left,U.css({top:m.top,left:m.left,width:C,height:k}).appendTo(d),this._fireEvent("drag-start-item",{dragItem:P[0],avatar:U[0]}),r.on(e.events.moveAll,Y=>{E(Y,U,P),this._fireEvent("drag-move-item",{dragItem:P[0],avatar:U[0]}),Y.preventDefault()},{ns:this.id,passive:!1}),r.on(e.events.stopAll,()=>{this._fireEvent("drag-drop-item",{dragItem:P[0],avatar:U[0]}),P.removeClass("dragged-item").removeClass(i.clsDragItem),U.remove(),r.off(e.events.moveAll,{ns:this.id}),r.off(e.events.stopAll,{ns:this.id})},{ns:this.id}),i.drawDragMarker&&(F.preventDefault(),F.stopPropagation())})},on:function(){this.canDrag=!0,this.element.find(".drag-item-marker").show()},off:function(){this.canDrag=!1,this.element.find(".drag-item-marker").hide()},toggle:function(){this.canDrag=this.canDrag?this.off():this.on()},changeAttribute:function(t){let i=this.element,r=this.options;t==="data-can-drag"&&(r.canDtag=JSON.parse(i.attr("data-can-drag")),r.canDtag?this.on():this.off())},destroy:function(){let t=this.element,i=this.options;return t.off(e.events.startAll,i.drawDragMarker?i.dragMarker:i.dragItem),t}})})(Metro,Dom),((e,a)=>{let f={dragContext:null,draggableDeferred:0,dragElement:"self",dragArea:"parent",timeout:0,boundaryRestriction:!0,onCanDrag:e.noop_true,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onDraggableCreate:e.noop};e.draggableSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroDraggableSetup<"u"&&e.draggableSetup(globalThis.metroDraggableSetup),e.Component("draggable",{init:function(t,i){return this._super(i,t,f,{drag:!1,move:!1,backup:{cursor:"default",zIndex:"0"},dragArea:null,dragElement:null,id:e.utils.elementId("draggable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("draggable-create",{element:this.element})},_createStructure:function(){let t=this.element,i=this.options,r=t.offset(),d=i.dragElement!=="self"?t.find(i.dragElement):t;t.data("canDrag",!0),this.dragElement=d,d[0].ondragstart=()=>!1,t.css("position","absolute"),(i.dragArea==="document"||i.dragArea==="window")&&(i.dragArea="body"),setTimeout(()=>{this.dragArea=i.dragArea==="parent"?t.parent():a(i.dragArea),this.dragArea.css("position")==="static"&&this.dragArea.css("position","relative"),i.dragArea!=="parent"&&(t.appendTo(this.dragArea),t.css({top:r.top,left:r.left}))}),t.attr("id")||t.attr("id",e.utils.elementId("draggable"))},_createEvents:function(){let t=this.element,i=this.options,r={x:0,y:0};this.dragElement.on(e.events.startAll,d=>{let m=t.position(),_=e.utils.pageXY(d).x-m.left,C=e.utils.pageXY(d).y-m.top,k=E=>{let F=e.utils.pageXY(E).y-C,P=e.utils.pageXY(E).x-_;i.boundaryRestriction&&(F<0&&(F=0),P<0&&(P=0),F>this.dragArea.outerHeight()-t.outerHeight()&&(F=this.dragArea.outerHeight()-t.outerHeight()),P>this.dragArea.outerWidth()-t.outerWidth()&&(P=this.dragArea.outerWidth()-t.outerWidth())),r.y=F,r.x=P,t.css({left:P,top:F}),this._fireEvent("drag-move",{position:r,context:i.dragContext})};t.data("canDrag")===!1||e.utils.exec(i.onCanDrag,[t])!==!0||e.isTouchable===!1&&d.which!==1||(this.drag=!0,t.addClass("draggable"),this._fireEvent("drag-start",{position:r,context:i.dragContext}),a(document).on(e.events.moveAll,k,{ns:this.id,passive:!1}),a(document).on(e.events.stopAll,()=>{t.removeClass("draggable"),a(document).off(e.events.moveAll,{ns:this.id}),a(document).off(e.events.stopAll,{ns:this.id}),this.drag=!1,this.move=!1,this._fireEvent("drag-stop",{position:r,context:i.dragContext})},{ns:this.id}))})},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:(t,i)=>{},destroy:function(){let t=this.element;return this.dragElement.off(e.events.startAll),t}})})(Metro,Dom),((e,a)=>{let f={enabled:!0,logErrors:!1,delimiterStart:"{{",delimiterEnd:"}}",context:null,processChild:!0};e.evalSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroEvalSetup<"u"&&e.evalSetup(globalThis.metroEvalSetup),e.Component("eval",{init:function(t,i){return this._super(i,t,f,{origContent:null}),this},_create:function(){let t=this.element;this.origContent=t.html(),this.options.enabled&&(this.options.processChild?this._processNodeAndChildren(t[0]):t.text(this.eval(t.text())))},_processNodeAndChildren:function(t){if(t.nodeType===3){t.textContent=this.eval(t.textContent);return}for(let i=0;i<t.childNodes.length;i++)this._processNodeAndChildren(t.childNodes[i])},eval:function(t){let i=this.options;if(!i.enabled)return t;let r=new RegExp(`${this._escapeRegExp(i.delimiterStart||"{{")}(.*?)${this._escapeRegExp(i.delimiterEnd||"}}")}`,"gs");return t.replace(r,(d,m)=>{try{return new Function(`return ${m}`).call(i.context)}catch(_){return i.logErrors&&console.error("Metro UI Eval error:",_,"in code:",m),d}})},_escapeRegExp:t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),reset:function(){this.origContent&&this.element.html(this.origContent)},destroy:function(){return this.reset(),this._super()}}),e.evalText=(t,i)=>{let r={options:a.extend({},f,i)};return e.Component("eval").prototype.eval.call(r,t)}})(Metro,Dom),((e,a)=>{let f={init:function(){return this},options:{csvDelimiter:"	",csvNewLine:`\r
`,includeHeader:!0},setup:function(t){return this.options=a.extend({},this.options,t),this},base64:t=>globalThis.btoa(unescape(encodeURIComponent(t))),b64toBlob:(t,i="",r=512)=>{let d=globalThis.atob(t),m=[],_;for(_=0;_<d.length;_+=r){let C=d.slice(_,_+r),k=new Array(C.length);for(let F=0;F<C.length;F=F+1)k[F]=C.charCodeAt(F);let E=new globalThis.Uint8Array(k);m.push(E)}return new Blob(m,{type:i})},tableToCSV:function(t,i,r){let d,m,_,C="",k,E;d=a.extend({},this.options,r);let F=a(t)[0];if(e.utils.bool(d.includeHeader)){_=F.querySelectorAll("thead")[0];for(let P=0;P<_.rows.length;P++){k=_.rows[P];for(let U=0;U<k.cells.length;U++)E=k.cells[U],C+=(U?d.csvDelimiter:"")+E.textContent.trim();C+=d.csvNewLine}}m=F.querySelectorAll("tbody")[0];for(let P=0;P<m.rows.length;P++){k=m.rows[P];for(let U=0;U<k.cells.length;U++)E=k.cells[U],C+=(U?d.csvDelimiter:"")+E.textContent.trim();C+=d.csvNewLine}return e.utils.isValue(i)?this.createDownload(this.base64(`\uFEFF${C}`),"application/csv",i):C},createDownload:function(t,i,r){let d=document.createElement("a");d.style.display="none",document.body.appendChild(d);let m=this.b64toBlob(t,i),_=globalThis.URL.createObjectURL(m);return d.href=_,d.download=r||e.utils.elementId("download"),d.click(),globalThis.URL.revokeObjectURL(_),document.body.removeChild(d),!0},arrayToCsv:function(t,i,r){let d,m="",_,C;for(d=a.extend({},this.options,r),_=0;_<t.length;_++)C=t[_],typeof C!="object"?m+=C+d.csvNewLine:(a.each(C,(k,E)=>{m+=(k?d.csvDelimiter:"")+E.toString()}),m+=d.csvNewLine);return e.utils.isValue(i)?this.createDownload(this.base64(`\uFEFF${m}`),"application/csv",i):m}};e.export=f.init()})(Metro,Dom),((e,a)=>{let f={fileDeferred:0,label:"",mode:"input",buttonTitle:"",filesSelectedTitle:"",dropTitle:"",dropIcon:"📥",clearButtonIcon:"❌",prepend:"",clsComponent:"",clsPrepend:"",clsButton:"",clsCaption:"",clsLabel:"",onSelect:e.noop,onFileCreate:e.noop};e.fileSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroFileSetup<"u"&&e.fileSetup(globalThis.metroFileSetup),e.Component("file",{init:function(t,i){return this._super(i,t,f),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("file-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r=t.wrap("<div>").addClass((i.mode==="input"?" file ":i.mode==="button"?" file-button ":" drop-zone ")+t[0].className).addClass(i.clsComponent),d=a("<span>").addClass("caption").addClass(i.clsCaption),m=a("<span>").addClass("files").addClass(i.clsCaption),_,C;if(i.mode.includes("drop")?(_=a("<span>").addClass("icon").html(i.dropIcon).appendTo(r),d.html(i.dropTitle||this.strings.label_drop_file).insertAfter(_),m.html((i.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)).insertAfter(d),C=a("<button>").addClass("button clear-button square").html(i.clearButtonIcon).appendTo(r)):(d.insertBefore(t),C=a("<button>").addClass("button select-files-button").attr("tabindex",-1).html(i.buttonTitle||this.strings.label_choose_file),C.appendTo(r),C.addClass(i.clsButton),r.hasClass("input-small")&&C.addClass("small"),t.attr("dir")==="rtl"&&r.addClass("rtl"),i.prepend!==""&&a("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(r)),t[0].className="",i.label){let k=a("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(r);if(t.attr("id"))k.attr("for",t.attr("id"));else{let E=Hooks.useId(t[0]);k.attr("for",E),t.attr("id",E)}t.attr("dir")==="rtl"&&k.addClass("rtl")}t.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.closest(".file, .drop-zone"),m=i.siblings(".caption"),_=i.siblings(".files"),C=i.closest("form");C.length&&C.on("reset",()=>{t.clear()}),d.on(e.events.click,".select-files-button",()=>{i[0].click()}),d.on(e.events.click,".clear-button",()=>{t.clear()}),i.on(e.events.change,function(){let k=[],E,F=Array.from(this.files);for(let P of F)k.push(P.name);r.mode==="input"?(E=k.join(", "),m.html(E),m.attr("title",E)):_.html((r.filesSelectedTitle||t.strings.label_files_selected).replace("{n}",i[0].files.length)),t._fireEvent("select",{files:this.files})}),i.on(e.events.focus,()=>{d.addClass("focused")}),i.on(e.events.blur,()=>{d.removeClass("focused")}),r.mode!=="input"&&(d.on(e.events.click,()=>{i[0].click()}),d.on("drag dragstart dragend dragover dragenter dragleave drop",k=>{k.preventDefault()}),d.on("dragenter dragover",()=>{d.addClass("drop-on")}),d.on("dragleave",()=>{d.removeClass("drop-on")}),d.on("drop",k=>{i[0].files=k.dataTransfer.files,_.html((r.filesSelectedTitle||t.strings.label_files_selected).replace("{n}",i[0].files.length)),d.removeClass("drop-on"),i.trigger("change")}))},clear:function(){let t=this.element,i=this.options;i.mode==="input"?t.siblings(".caption").html(""):t.siblings(".files").html((i.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)),t[0].value="",t.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleDir:function(){this.element.attr("dir")==="rtl"?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(t){switch(t){case"disabled":this.toggleState();break;case"dir":this.toggleDir();break}},destroy:function(){let t=this.element,i=this.options,r=t.parent();t.off(e.events.change),r.off(e.events.click,"button"),i.label&&r.prev("label").remove(),r.remove()}})})(Metro,Dom),((e,a)=>{let f={min:0,max:100,value:0,size:0,labelMin:"",labelMax:"",label:"",suffix:"",values:10,segments:10,startAngle:235,range:250,theme:"",onGaugeCreate:e.noop};e.gaugeSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroGaugeSetup<"u"&&e.gaugeSetup(globalThis.metroGaugeSetup),e.Component("gauge",{init:function(t,i){return this._super(i,t,f,{}),this},_create:function(){let t=this.element,i=this.options;t[0].style.setProperty("--analog-gauge-segments",`${i.segments}`),t[0].style.setProperty("--analog-gauge-start-angle",`${i.startAngle}deg`),t[0].style.setProperty("--analog-gauge-range",`${i.range}deg`),this.options.range=Number.parseFloat(getComputedStyle(t[0]).getPropertyValue("--analog-gauge-range")),this.options.start=Number.parseFloat(getComputedStyle(t[0]).getPropertyValue("--analog-gauge-start-angle")),this.options.defaultMark=90,this.options.defaultNeedle=270,this.options.minDegree=this.options.start-this.options.defaultNeedle,this._createStructure(),this._createEvents(),this.update(),this._fireEvent("gauge-create")},_generateMarks:function(){let t=this.options,i=`${t.values}`.trim();if(i==="")return"";let r=i.toArray(","),d=[],m;r.length===1?(d=Array.from({length:+i},(C,k)=>Math.round(t.min+k*(t.max-t.min)/(+i-1||1))),m=Number.parseInt(i)):(d=[...r],m=r.length);let _=t.range/(m-1||1);return`
                <ul class="value-marks">
                  ${d.map((C,k)=>`<li style="--_d:${t.start-t.defaultMark+k*_}deg" class="mark">${C}</li>`).join("")}
                </ul>
            `},_createStructure:function(){let t=this.element,i=this.options;t.addClass("analog-gauge"),i.size&&t.css({width:i.size,height:i.size}),t.html(`
                <div class="gauge"></div>
                ${this._generateMarks()} 
                <div class="needle"></div> 
                <div class="value">${i.value}</div> 
                <div class="label">${i.label}</div> 
                <div class="label-min">${i.labelMin}</div> 
                <div class="label-max">${i.labelMax}</div> 
            `),i.theme&&t.addClass(`theme-${i.theme}`)},_createEvents:()=>{},val:function(t){if(typeof t>"u")return this.options.value;this.options.value=t,this.update()},update:function(){let t=this.element,i=this.elem,r=this.options,d=(Math.max(r.min,Math.min(r.max,r.value))-r.min)/(r.max-r.min),m=r.minDegree+d*r.range;i.style.setProperty("--analog-gauge-value",`${d*r.range}deg`),i.style.setProperty("--_d",`${m}deg`),t.find(".value").html(r.value+r.suffix)},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={gradientType:"linear",gradientShape:"",gradientPosition:"",gradientSize:"",gradientColors:"#000, #fff",gradientRepeat:!1,onGradientBoxCreate:e.noop};e.gradientBoxSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroGradientBoxSetup<"u"&&e.gradientBoxSetup(globalThis.metroGradientBoxSetup),e.Component("gradient-box",{init:function(t,i){return this._super(i,t,f,{colors:[],shape:"",size:"",position:"",type:"linear",func:"linear-gradient",repeat:!1}),this},_create:function(){let t=this.options;this.colors=t.gradientColors.toArray(","),this.type=t.gradientType.toLowerCase(),this.shape=t.gradientShape.toLowerCase(),this.size=t.gradientSize.toLowerCase(),this.repeat=t.gradientRepeat,this.func=`${(this.repeat?"repeating-":"")+this.type}-gradient`,this.type==="linear"?t.gradientPosition?(this.position=Number.isNaN(t.gradientPosition)===!1?`${t.gradientPosition}deg`:t.gradientPosition,this.position.indexOf("deg")===-1&&this.position.indexOf("to ")===-1&&(this.position=`to ${this.position}`)):this.position="to bottom":(this.position=t.gradientPosition.toLowerCase(),this.position&&this.position.indexOf("at ")===-1&&(this.position=`at ${this.position}`)),this._createStructure(),this._setGradient(),this._fireEvent("gradient-box-create")},_createStructure:function(){this.element.addClass("gradient-box")},_setGradient:function(){let t=this.element,i=[];this.type==="radial"&&this.shape&&i.push(this.shape),this.type==="radial"&&this.size&&i.push(this.size),this.position;let r=`${this.func}(${i.length?`${i.join(" ")}, `:""}${this.colors.join(", ")})`;t.css({background:r})},changeAttribute:function(t,i){if(t.indexOf("data-gradient-")!==-1){switch(t){case"data-gradient-type":this.type=i,this.func=`${i.toLowerCase()}-gradient`;break;case"data-gradient-colors-css":this.colors=i?i.toArray(","):["#fff","#000"];break;case"data-gradient-shape":this.shape=i.toLowerCase();break;case"data-gradient-size":this.size=i.toLowerCase();break;case"data-gradient-position":this.position=i.toLowerCase();break;case"data-gradient-repeat":this.repeat=e.utils.bool(i);break}this._setGradient()}},destroy:function(){return this.element}})})(Metro,Dom),(e=>{e.md5=a=>{function f(Ot,Tt){return Ot<<Tt|Ot>>>32-Tt}function t(Ot,Tt){let At,ui,Pt;At=Ot&2147483648,ui=Tt&2147483648;let Kt=Ot&1073741824,gn=Tt&1073741824;return Pt=(Ot&1073741823)+(Tt&1073741823),Kt&gn?Pt^2147483648^At^ui:Kt|gn?Pt&1073741824?Pt^3221225472^At^ui:Pt^1073741824^At^ui:Pt^At^ui}function i(Ot,Tt,At){return Ot&Tt|~Ot&At}function r(Ot,Tt,At){return Ot&At|Tt&~At}function d(Ot,Tt,At){return Ot^Tt^At}function m(Ot,Tt,At){return Tt^(Ot|~At)}function _(Ot,Tt,At,ui,Pt,Kt,gn){let Xi=t(Ot,t(t(i(Tt,At,ui),Pt),gn));return t(f(Xi,Kt),Tt)}function C(Ot,Tt,At,ui,Pt,Kt,gn){let Xi=t(Ot,t(t(r(Tt,At,ui),Pt),gn));return t(f(Xi,Kt),Tt)}function k(Ot,Tt,At,ui,Pt,Kt,gn){let Xi=t(Ot,t(t(d(Tt,At,ui),Pt),gn));return t(f(Xi,Kt),Tt)}function E(Ot,Tt,At,ui,Pt,Kt,gn){let Xi=t(Ot,t(t(m(Tt,At,ui),Pt),gn));return t(f(Xi,Kt),Tt)}function F(Ot){let Tt,At=Ot.length,ui=At+8,Pt=((ui-ui%64)/64+1)*16,Kt=Array(Pt-1),gn=0,Xi=0;for(;Xi<At;)Tt=(Xi-Xi%4)/4,gn=Xi%4*8,Kt[Tt]=Kt[Tt]|Ot.charCodeAt(Xi)<<gn,Xi++;return Tt=(Xi-Xi%4)/4,gn=Xi%4*8,Kt[Tt]=Kt[Tt]|128<<gn,Kt[Pt-2]=At<<3,Kt[Pt-1]=At>>>29,Kt}function P(Ot){let Tt="",At="",ui,Pt;for(Pt=0;Pt<=3;Pt++)ui=Ot>>>Pt*8&255,At=`0${ui.toString(16)}`,Tt=Tt+At.substr(At.length-2,2);return Tt}function U(Ot){let Tt=Ot.replace(/\r\n/g,`
`),At="";for(let ui=0;ui<Tt.length;ui++){let Pt=Tt.charCodeAt(ui);Pt<128?At+=String.fromCharCode(Pt):Pt>127&&Pt<2048?(At+=String.fromCharCode(Pt>>6|192),At+=String.fromCharCode(Pt&63|128)):(At+=String.fromCharCode(Pt>>12|224),At+=String.fromCharCode(Pt>>6&63|128),At+=String.fromCharCode(Pt&63|128))}return At}let Y=[],ee,Ae,$e,ze,Re,Se,Le,Me,Fe,wt=7,Ft=12,Mi=17,pn=22,Si=5,On=9,rs=14,Wi=20,ls=4,qn=11,mn=16,Gs=23,Yn=6,Pn=10,Sa=15,bt=21,gu=U(a);for(Y=F(gu),Se=1732584193,Le=4023233417,Me=2562383102,Fe=271733878,ee=0;ee<Y.length;ee+=16)Ae=Se,$e=Le,ze=Me,Re=Fe,Se=_(Se,Le,Me,Fe,Y[ee],wt,3614090360),Fe=_(Fe,Se,Le,Me,Y[ee+1],Ft,3905402710),Me=_(Me,Fe,Se,Le,Y[ee+2],Mi,606105819),Le=_(Le,Me,Fe,Se,Y[ee+3],pn,3250441966),Se=_(Se,Le,Me,Fe,Y[ee+4],wt,4118548399),Fe=_(Fe,Se,Le,Me,Y[ee+5],Ft,1200080426),Me=_(Me,Fe,Se,Le,Y[ee+6],Mi,2821735955),Le=_(Le,Me,Fe,Se,Y[ee+7],pn,4249261313),Se=_(Se,Le,Me,Fe,Y[ee+8],wt,1770035416),Fe=_(Fe,Se,Le,Me,Y[ee+9],Ft,2336552879),Me=_(Me,Fe,Se,Le,Y[ee+10],Mi,4294925233),Le=_(Le,Me,Fe,Se,Y[ee+11],pn,2304563134),Se=_(Se,Le,Me,Fe,Y[ee+12],wt,1804603682),Fe=_(Fe,Se,Le,Me,Y[ee+13],Ft,4254626195),Me=_(Me,Fe,Se,Le,Y[ee+14],Mi,2792965006),Le=_(Le,Me,Fe,Se,Y[ee+15],pn,1236535329),Se=C(Se,Le,Me,Fe,Y[ee+1],Si,4129170786),Fe=C(Fe,Se,Le,Me,Y[ee+6],On,3225465664),Me=C(Me,Fe,Se,Le,Y[ee+11],rs,643717713),Le=C(Le,Me,Fe,Se,Y[ee],Wi,3921069994),Se=C(Se,Le,Me,Fe,Y[ee+5],Si,3593408605),Fe=C(Fe,Se,Le,Me,Y[ee+10],On,38016083),Me=C(Me,Fe,Se,Le,Y[ee+15],rs,3634488961),Le=C(Le,Me,Fe,Se,Y[ee+4],Wi,3889429448),Se=C(Se,Le,Me,Fe,Y[ee+9],Si,568446438),Fe=C(Fe,Se,Le,Me,Y[ee+14],On,3275163606),Me=C(Me,Fe,Se,Le,Y[ee+3],rs,4107603335),Le=C(Le,Me,Fe,Se,Y[ee+8],Wi,1163531501),Se=C(Se,Le,Me,Fe,Y[ee+13],Si,2850285829),Fe=C(Fe,Se,Le,Me,Y[ee+2],On,4243563512),Me=C(Me,Fe,Se,Le,Y[ee+7],rs,1735328473),Le=C(Le,Me,Fe,Se,Y[ee+12],Wi,2368359562),Se=k(Se,Le,Me,Fe,Y[ee+5],ls,4294588738),Fe=k(Fe,Se,Le,Me,Y[ee+8],qn,2272392833),Me=k(Me,Fe,Se,Le,Y[ee+11],mn,1839030562),Le=k(Le,Me,Fe,Se,Y[ee+14],Gs,4259657740),Se=k(Se,Le,Me,Fe,Y[ee+1],ls,2763975236),Fe=k(Fe,Se,Le,Me,Y[ee+4],qn,1272893353),Me=k(Me,Fe,Se,Le,Y[ee+7],mn,4139469664),Le=k(Le,Me,Fe,Se,Y[ee+10],Gs,3200236656),Se=k(Se,Le,Me,Fe,Y[ee+13],ls,681279174),Fe=k(Fe,Se,Le,Me,Y[ee],qn,3936430074),Me=k(Me,Fe,Se,Le,Y[ee+3],mn,3572445317),Le=k(Le,Me,Fe,Se,Y[ee+6],Gs,76029189),Se=k(Se,Le,Me,Fe,Y[ee+9],ls,3654602809),Fe=k(Fe,Se,Le,Me,Y[ee+12],qn,3873151461),Me=k(Me,Fe,Se,Le,Y[ee+15],mn,530742520),Le=k(Le,Me,Fe,Se,Y[ee+2],Gs,3299628645),Se=E(Se,Le,Me,Fe,Y[ee],Yn,4096336452),Fe=E(Fe,Se,Le,Me,Y[ee+7],Pn,1126891415),Me=E(Me,Fe,Se,Le,Y[ee+14],Sa,2878612391),Le=E(Le,Me,Fe,Se,Y[ee+5],bt,4237533241),Se=E(Se,Le,Me,Fe,Y[ee+12],Yn,1700485571),Fe=E(Fe,Se,Le,Me,Y[ee+3],Pn,2399980690),Me=E(Me,Fe,Se,Le,Y[ee+10],Sa,4293915773),Le=E(Le,Me,Fe,Se,Y[ee+1],bt,2240044497),Se=E(Se,Le,Me,Fe,Y[ee+8],Yn,1873313359),Fe=E(Fe,Se,Le,Me,Y[ee+15],Pn,4264355552),Me=E(Me,Fe,Se,Le,Y[ee+6],Sa,2734768916),Le=E(Le,Me,Fe,Se,Y[ee+13],bt,1309151649),Se=E(Se,Le,Me,Fe,Y[ee+4],Yn,4149444226),Fe=E(Fe,Se,Le,Me,Y[ee+11],Pn,3174756917),Me=E(Me,Fe,Se,Le,Y[ee+2],Sa,718787259),Le=E(Le,Me,Fe,Se,Y[ee+9],bt,3951481745),Se=t(Se,Ae),Le=t(Le,$e),Me=t(Me,ze),Fe=t(Fe,Re);return(P(Se)+P(Le)+P(Me)+P(Fe)).toLowerCase()}})(Metro,Dom),((e,a)=>{let f={gravatarDeferred:0,email:"",size:80,default:"mp",onGravatarCreate:e.noop};e.gravatarSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroGravatarSetup<"u"&&e.gravatarSetup(globalThis.metroGravatarSetup),e.Component("gravatar",{init:function(t,i){return this._super(i,t,f),this},_create:function(){let t=this.element;this.get(),this._fireEvent("gravatar-create",{element:t})},getImage:function(t,i,r,d){let m=a("<img>").attr("alt",t);return m.attr("src",this.getImageSrc(t,i)),d===!0?m:m[0]},getImageSrc:(t,i=80,r="404")=>t===void 0||t.trim()===""?"":`https://www.gravatar.com/avatar/${e.md5(t.toLowerCase().trim())}?size=${i}&d=${e.utils.encodeURI(r)}`,get:function(){let t=this.element,i=this.options,r=t[0].tagName==="IMG"?t:t.find("img");if(r.length!==0)return r.attr("src",this.getImageSrc(i.email,i.size,i.default)),this},resize:function(t){this.options.size=t!==void 0?t:this.element.attr("data-size"),this.get()},email:function(t){this.options.email=t!==void 0?t:this.element.attr("data-email"),this.get()},changeAttribute:function(t){switch(t){case"data-size":this.resize();break;case"data-email":this.email();break}},destroy:function(){return this.element}})})(Metro,Dom),((e,a)=>{let f={hintDeferred:0,hintHide:5e3,clsHint:"",hintText:"",hintPosition:e.position.TOP,hintOffset:4,onHintShow:e.noop,onHintHide:e.noop,onHintCreate:e.noop};e.hintSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroHintSetup<"u"&&e.hintSetup(globalThis.metroHintSetup),e.Component("hint",{init:function(t,i){return this._super(i,t,f,{hint:null,hint_size:{width:0,height:0},id:e.utils.elementId("hint")}),this},_create:function(){this._createEvents(),this._fireEvent("hint-create",{element:this.element})},_createEvents:function(){let t=this.element,i=this.options,r=!1;t.on(e.events.enter,()=>{r=!0,setTimeout(()=>{r&&(this.createHint(),+i.hintHide>0&&setTimeout(()=>{this.removeHint()},i.hintHide))},i.hintDeferred)}),t.on(e.events.leave,()=>{r=!1,this.removeHint()}),a(globalThis).on(`${e.events.scroll} ${e.events.resize}`,()=>{this.hint!==null&&this.setPosition()},{ns:this.id})},createHint:function(){let t=this.elem,i=this.element,r=this.options,d=a("<div>").addClass("hint").addClass(r.clsHint).html(r.hintText);if(this.hint=d,this.hint_size=e.utils.hiddenElementSize(d),a(".hint:not(.permanent-hint)").remove(),t.tagName==="TD"||t.tagName==="TH"){let m=a("<div/>").css("display","inline-block").html(i.html());i.html(m),this.element=m}this.setPosition(),d.appendTo(a("body")),this._fireEvent("hint-show",{hint:d[0]})},setPosition:function(){let t=this.hint,i=this.hint_size,r=this.options,d=this.element;r.hintPosition===e.position.BOTTOM?(t.addClass("bottom"),t.css({top:d.offset().top-a(globalThis).scrollTop()+d.outerHeight()+r.hintOffset,left:d.offset().left+d.outerWidth()/2-i.width/2-a(globalThis).scrollLeft()})):r.hintPosition===e.position.RIGHT?(t.addClass("right"),t.css({top:d.offset().top+d.outerHeight()/2-i.height/2-a(globalThis).scrollTop(),left:d.offset().left+d.outerWidth()-a(globalThis).scrollLeft()+r.hintOffset})):r.hintPosition===e.position.LEFT?(t.addClass("left"),t.css({top:d.offset().top+d.outerHeight()/2-i.height/2-a(globalThis).scrollTop(),left:d.offset().left-i.width-a(globalThis).scrollLeft()-r.hintOffset})):(t.addClass("top"),t.css({top:d.offset().top-a(globalThis).scrollTop()-i.height-r.hintOffset,left:d.offset().left-a(globalThis).scrollLeft()+d.outerWidth()/2-i.width/2}))},removeHint:function(){let t=this.hint,i=this.options.onHintHide===e.noop?0:300;t!==null&&(this._fireEvent("hint-hide",{hint:t[0]}),setTimeout(()=>{t.hide(0,()=>{t.remove(),this.hint=null})},i))},changeText:function(){this.options.hintText=this.element.attr("data-hint-text")},changeAttribute:function(t){t==="data-hint-text"&&this.changeText()},destroy:function(){let t=this.element;this.removeHint(),t.off(`${e.events.enter}-hint`),t.off(`${e.events.leave}-hint`),a(globalThis).off(`${e.events.scroll}-hint`)}})})(Metro,Dom),((e,a)=>{let f={specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",91:"meta",92:"meta",93:"meta",224:"meta"},shiftNums:{"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},shiftNumsInverse:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],pendingKey:null,pendingTimeout:1e3,pendingTimer:null,normalizeKey:r=>{if(r.includes(" "))return r.split(" ").map(f.normalizeKey).join(" ");if(!r.includes("+"))return r;let d=r.split("+"),m=d.pop(),_=d.filter(C=>["alt","ctrl","meta","shift"].includes(C));return _.sort((C,k)=>{let E={alt:1,ctrl:2,meta:3,shift:4};return E[C]-E[k]}),_.length?`${_.join("+")}+${m}`:m},getKey:r=>{let d,m=r.keyCode,_=String.fromCharCode(m).toLowerCase();[91,92,93,224].includes(m)?d="meta":m===18?d="alt":m===17?d="ctrl":m===16?d="shift":r.shiftKey?d=f.shiftNums[_]?f.shiftNums[_]:_:d=f.specialKeys[m]===void 0?_:f.specialKeys[m];let C=f.getModifier(r);return["alt","ctrl","meta","shift"].includes(d)&&C.includes(d)?C.join("+"):C.length?`${C.join("+")}+${d}`:d},getModifier:r=>{let d=[];return r.altKey&&d.push("alt"),r.ctrlKey&&d.push("ctrl"),r.metaKey&&d.push("meta"),r.shiftKey&&d.push("shift"),d},createChordKey:(r,d)=>`${r} ${d}`,isPartOfChordKey:r=>Object.keys(e.hotkeys).some(d=>d.split(" ")[0]===r),executeHotkeyAction:(r,d)=>{let m=a(r[0]),_=r[1],C=`${m.attr("href")}`.trim();return d.repeat&&!m.attr("data-repeat")?!1:(d.preventDefault(),_?e.utils.exec(_):m.is("a")&&C&&C.length>0&&C.trim()!=="#"?globalThis.location.href=C:m[0].click(),!0)},clearPending:()=>{clearTimeout(f.pendingTimer),f.pendingKey=null},setPending:r=>{f.pendingKey=r,clearTimeout(f.pendingTimer),f.pendingTimer=setTimeout(f.clearPending,f.pendingTimeout)}};function t(r){let d=f.getKey(r),m=f.normalizeKey(d);if(f.pendingKey!==null){let _=f.createChordKey(f.pendingKey,m);for(let C in e.hotkeys)if(f.normalizeKey(C)===_&&f.executeHotkeyAction(e.hotkeys[C],r)){f.clearPending();return}}Object.keys(e.hotkeys).some(_=>{let C=_.split(" ");return C.length>1&&f.normalizeKey(C[0])===m})&&f.setPending(m);for(let _ in e.hotkeys)if(!_.includes(" ")&&f.normalizeKey(_)===m){f.executeHotkeyAction(e.hotkeys[_],r);return}}function i(r,d){let m=f.normalizeKey(r);return this.each(function(){let _=a(this);if(_.is("input, textarea")||_.attr("contenteditable")==="true"){let C=(k,E)=>{e.utils.exec(d,[k,E,r],_[0])};_.on(`${e.events.keydown}.hotkey-data-${r}`,k=>{let E=f.getKey(k),F=f.normalizeKey(E);if(f.pendingKey!==null){let P=f.createChordKey(f.pendingKey,F);if(m===P){f.clearPending(),k.preventDefault(),C(k,E);return}}if(m.includes(" ")){let P=m.split(" ");if(F===f.normalizeKey(P[0])){f.setPending(F);return}}m===F&&(k.preventDefault(),C(k,E))})}else{let C=k=>k.repeat&&!_.attr("data-repeat")?!1:(k.preventDefault(),f.executeHotkeyAction(m,k),!0);e.hotkeys||(e.hotkeys={}),e.hotkeys[r]=[_,C],_.attr("data-hotkey",r)}})}a.fn.hotkey=i,globalThis.METRO_JQUERY&&globalThis.jquery_present&&(globalThis.jQuery.fn.hotkey=i),a(document).on(`${e.events.keydown}.hotkey-data`,t)})(Metro,Dom),((e,a)=>{let f={onHoverBoxCreate:e.noop};e.hoverBoxSetup=t=>{f=a.extend({},f,t)},typeof window.metroHoverBoxSetup<"u"&&e.hoverBoxSetup(window.metroHoverBoxSetup),e.Component("hoverbox",{init:function(t,i){return this._super(i,t,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("hover-box-create")},_createStructure:function(){let t=this.element;t.addClass("hover-box"),t.cssVar("size",`${t.height()/2}px`)},_createEvents:function(){let t=this.element;t.on(e.events.move,i=>{let r=t[0].getBoundingClientRect(),d=i.pageX-(r.left+window.scrollX),m=i.pageY-(r.top+window.scrollY);t.cssVar("x",`${Math.round(d)}px`).cssVar("y",`${Math.round(m)}px`)})},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={htmlContainerDeferred:0,method:"get",htmlSource:null,requestData:null,requestOptions:null,insertMode:"default",onHtmlLoad:e.noop,onHtmlLoadFail:e.noop,onHtmlLoadDone:e.noop,onHtmlContainerCreate:e.noop};e.htmlContainerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroHtmlContainerSetup<"u"&&e.htmlContainerSetup(globalThis.metroHtmlContainerSetup),e.Component("html-container",{init:function(t,i){return this._super(i,t,f,{data:null,opt:{},htmlSource:""}),this},_create:function(){let t=this.element,i=this.options;typeof i.requestData=="string"&&(i.requestData=JSON.parse(i.requestData)),e.utils.isObject(i.requestData)&&(this.data=e.utils.isObject(i.requestData)),typeof i.requestOptions=="string"&&(i.requestOptions=JSON.parse(i.requestOptions)),e.utils.isObject(i.requestOptions)&&(this.opt=e.utils.isObject(i.requestOptions)),i.method=i.method.toUpperCase(),e.utils.isValue(i.htmlSource)&&(this.htmlSource=i.htmlSource,this._load()),this._fireEvent("html-container-create",{element:t})},_load:function(){let t=this.element,i=this.options,r={method:i.method};this.data&&(r.body=this.data),this.opt&&(r.headers=this.opt),fetch(this.htmlSource,r).then(e.fetch.status).then(e.fetch.text).then(d=>{let m=a(d);switch(m.length===0&&(m=a("<div>").html(d)),i.insertMode.toLowerCase()){case"prepend":t.prepend(m);break;case"append":t.append(m);break;case"replace":m.insertBefore(t).script(),t.remove();break;default:t.html(m)}this._fireEvent("html-load",{data:d,source:i.htmlSource,requestData:this.data,requestOptions:this.opt})}).catch(d=>{this._fireEvent("html-load-fail",{error:d})})},load:function(t,i,r){t&&(this.htmlSource=t),i&&(this.data=e.utils.isObject(i)),r&&(this.opt=e.utils.isObject(r)),this._load()},changeAttribute:function(t){let i=this.element,r=this.options,d=()=>{let C=i.attr("data-html-source");e.utils.isNull(C)||(C.trim()===""&&i.html(""),r.htmlSource=C,this._load())},m=()=>{let C=i.attr("data-insert-mode");e.utils.isValue(C)&&(r.insertMode=C)},_=()=>{let C=i.attr("data-request-data");this.load(r.htmlSource,C)};switch(t){case"data-html-source":d();break;case"data-insert-mode":m();break;case"data-request-data":_();break}},destroy:()=>{}})})(Metro,Dom),((e,a)=>{let f={image:null,size:"cover",repeat:!1,color:"transparent",attachment:"scroll",origin:"border",onImageBoxCreate:e.noop};e.imageBoxSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroImageBoxSetup<"u"&&e.imageBoxSetup(globalThis.metroImageBoxSetup),e.Component("image-box",{init:function(t,i){return this._super(i,t,f,{}),this},_create:function(){this._createStructure(),this._fireEvent("image-box-create")},_createStructure:function(){this.element.addClass("image-box"),this._drawImage()},_drawImage:function(){let t=this.element,i=this.options,r=new Image,d;t.attr("data-original")||t.attr("data-original",i.image),t.css({backgroundImage:`url(${i.image})`,backgroundSize:i.size,backgroundRepeat:i.repeat?"repeat":"no-repeat",backgroundColor:i.color,backgroundAttachment:i.attachment,backgroundOrigin:i.origin}),r.src=i.image,r.onload=function(){d=this.height>=this.width,t.removeClass("image-box__portrait image-box__landscape").addClass(`image-box__${d?"portrait":"landscape"}`)}},changeAttribute:function(t,i){let r=t.replace("data-","");["image","size","repeat","color","attachment","origin"].indexOf(r)>-1&&(this.options[r]=i,this._drawImage())},destroy:function(){return this.element}})})(Metro,Dom),((e,a)=>{let f={imageCompareDeferred:0,width:"100%",height:"auto",onSliderMove:e.noop,onImageCompareCreate:e.noop};e.imageCompareSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroImageCompareSetup<"u"&&e.imageCompareSetup(globalThis.metroImageCompareSetup),e.Component("image-compare",{init:function(t,i){return this._super(i,t,f,{id:e.utils.elementId("image-compare")}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-compare-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r,d;switch(e.utils.isValue(t.attr("id"))||t.attr("id",e.utils.elementId("image-compare")),t.addClass("image-compare").css({width:i.width}),r=t.width(),i.height){case"16/9":d=e.utils.aspectRatioH(r,i.height);break;case"21/9":d=e.utils.aspectRatioH(r,i.height);break;case"4/3":d=e.utils.aspectRatioH(r,i.height);break;case"auto":d=e.utils.aspectRatioH(r,"16/9");break;default:d=i.height}t.css({height:d});let m=a("<div>").addClass("image-container").appendTo(t),_=a("<div>").addClass("image-container-overlay").appendTo(t).css({width:r/2}),C=a("<div>").addClass("image-slider").appendTo(t);C.css({top:d/2-C.height()/2,left:r/2-C.width()/2});let k=t.find("img");a.each(k,function(E){let F=a("<div>").addClass("image-wrapper");F.css({width:r,height:d,backgroundImage:`url(${this.src})`}),F.appendTo(E===0?m:_)})},_createEvents:function(){let t=this.element,i=this.options,r=t.find(".image-container-overlay"),d=t.find(".image-slider");d.on(e.events.startAll,()=>{let m=t.width();a(document).on(e.events.moveAll,_=>{let C=e.utils.getCursorPositionX(t[0],_);C<0&&(C=0),C>m&&(C=m),r.css({width:C});let k=C-d.width()/2;d.css({left:k}),this._fireEvent("slider-move",{x:C,l:k})},{ns:this.id}),a(document).on(e.events.stopAll,()=>{a(document).off(e.events.moveAll,{ns:this.id}),a(document).off(e.events.stopAll,{ns:this.id})},{ns:this.id})}),a(globalThis).on(e.events.resize,()=>{let m=t.width(),_;if(i.width==="100%"){switch(i.height){case"16/9":_=e.utils.aspectRatioH(m,i.height);break;case"21/9":_=e.utils.aspectRatioH(m,i.height);break;case"4/3":_=e.utils.aspectRatioH(m,i.height);break;case"auto":_=e.utils.aspectRatioH(m,"16/9");break;default:_=i.height}t.css({height:_}),a.each(t.find(".image-wrapper"),function(){a(this).css({width:m,height:_})}),t.find(".image-container-overlay").css({width:m/2}),d.css({top:_/2-d.height()/2,left:m/2-d.width()/2})}},{ns:this.id})},changeAttribute:(t,i)=>{},destroy:function(){let t=this.element;t.off(e.events.start),a(globalThis).off(e.events.resize,{ns:this.id}),t.remove()}})})(Metro,Dom),((e,a)=>{let f={useBackground:!1,backgroundSize:"cover",backgroundPosition:"top left",clsImageGrid:"",clsImageGridItem:"",clsImageGridImage:"",onItemClick:e.noop,onDrawItem:e.noop,onImageGridCreate:e.noop};e.imageGridSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroImageGridSetup<"u"&&e.imageGridSetup(globalThis.metroImageGridSetup),e.Component("image-grid",{init:function(t,i){return this._super(i,t,f,{items:[]}),this},_create:function(){this.items=this.element.children("img"),this._createStructure(),this._createEvents(),this._fireEvent("image-grid-create")},_createStructure:function(){let t=this.element,i=this.options;t.addClass("image-grid").addClass(i.clsImageGrid),this._createItems()},_createEvents:function(){let t=this;this.element.on(e.events.click,".image-grid__item",function(){t._fireEvent("item-click",{item:this})})},_createItems:function(){let t=this,i=this.element,r=this.options,d=this.items;i.clear(),d.each(function(){let m=a(this),_=this.src,C=a("<div>").addClass("image-grid__item").addClass(r.clsImageGridItem).appendTo(i),k=new Image;k.src=_,k.onload=function(){let E=this.height>=this.width;C.addClass(E?"image-grid__item-portrait":"image-grid__item-landscape"),m.addClass(r.clsImageGridImage).appendTo(C),r.useBackground&&(C.css({background:`url(${_})`,backgroundRepeat:"no-repeat",backgroundSize:r.backgroundSize,backgroundPosition:r.backgroundPosition}).attr("data-original",m.attr("data-original")||_).attr("data-title",m.attr("alt")||m.attr("data-title")||""),m.visible(!1)),t._fireEvent("draw-item",{item:C[0],image:m[0]})}})},changeAttribute:function(t,i){let r=this.options;t==="data-use-background"&&(r.useBackground=e.utils.bool(i),this._createItems()),t==="data-background-size"&&(r.backgroundSize=i,this._createItems()),t==="data-background-position"&&(r.backgroundPosition=i,this._createItems())},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={imageMagnifierDeferred:0,width:"100%",height:"auto",lensSize:100,lensType:"square",magnifierZoom:2,magnifierMode:"glass",magnifierZoomElement:null,clsMagnifier:"",clsLens:"",clsZoom:"",onMagnifierMove:e.noop,onImageMagnifierCreate:e.noop};e.imageMagnifierSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroImageMagnifierSetup<"u"&&e.imageMagnifierSetup(globalThis.metroImageMagnifierSetup),e.Component("image-magnifier",{init:function(t,i){return this._super(i,t,f,{zoomElement:null,id:e.utils.elementId("image-magnifier")}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-magnifier-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r,d,m,_=t.find("img");if(_.length===0)throw new Error("Image not defined");switch(e.utils.isValue(t.attr("id"))||t.attr("id",e.utils.elementId("image-magnifier")),t.addClass("image-magnifier").css({width:i.width}).addClass(i.clsMagnifier),d=t.width(),i.height){case"16/9":m=e.utils.aspectRatioH(d,i.height);break;case"21/9":m=e.utils.aspectRatioH(d,i.height);break;case"4/3":m=e.utils.aspectRatioH(d,i.height);break;case"auto":m=e.utils.aspectRatioH(d,"16/9");break;default:m=i.height}t.css({height:m});let C=d/2-i.lensSize/2,k=m/2-i.lensSize/2;if(i.magnifierMode==="glass")r=a("<div>").addClass("image-magnifier-glass").appendTo(t),r.css({width:i.lensSize,height:i.lensSize,borderRadius:i.lensType!=="circle"?0:"50%",top:k,left:C,backgroundImage:`url(${_[0].src})`,backgroundRepeat:"no-repeat",backgroundPosition:`-${C*i.magnifierZoom-i.lensSize/4+4}px -${k*i.magnifierZoom-i.lensSize/4+4}px`,backgroundSize:`${_[0].width*i.magnifierZoom}px ${_[0].height*i.magnifierZoom}px`}).addClass(i.clsLens);else{r=a("<div>").addClass("image-magnifier-glass").appendTo(t),r.css({width:i.lensSize,height:i.lensSize,borderRadius:0,borderWidth:1,top:k,left:C}).addClass(i.clsLens),!e.utils.isValue(i.magnifierZoomElement)||a(i.magnifierZoomElement).length===0?this.zoomElement=a("<div>").insertAfter(t):this.zoomElement=a(i.magnifierZoomElement);let E=r[0].offsetWidth*i.magnifierZoom,F=r[0].offsetHeight*i.magnifierZoom,P=E/i.lensSize,U=F/i.lensSize;this.zoomElement.css({width:E,height:F,backgroundImage:`url(${_[0].src})`,backgroundRepeat:"no-repeat",backgroundPosition:`-${C*P}px -${k*U}px`,backgroundSize:`${_[0].width*P}px ${_[0].height*U}px`}).addClass(i.clsZoom)}},_createEvents:function(){let t=this.element,i=this.options,r=t.find(".image-magnifier-glass"),d=r[0].offsetWidth/2,m=t.find("img")[0],_=this.zoomElement,C,k;a(globalThis).on(e.events.resize,()=>{let F=t.width()/2-i.lensSize/2,P=t.height()/2-i.lensSize/2;i.magnifierMode==="glass"&&r.css({backgroundPosition:`-${F*i.magnifierZoom-i.lensSize/4+4}px -${P*i.magnifierZoom-i.lensSize/4+4}px`,backgroundSize:`${m.width*i.magnifierZoom}px ${m.height*i.magnifierZoom}px`})},{ns:this.id}),i.magnifierMode!=="glass"&&(C=_[0].offsetWidth/d/2,k=_[0].offsetHeight/d/2,_.css({backgroundSize:`${m.width*C}px ${m.height*k}px`}));let E=F=>{let P,U,Y=Number.parseInt(i.magnifierZoom);i.magnifierMode==="glass"?(P=F.x,U=F.y,P>m.width-d/Y&&(P=m.width-d/Y),P<d/Y&&(P=d/Y),U>m.height-d/Y&&(U=m.height-d/Y),U<d/Y&&(U=d/Y),r.css({top:U-d,left:P-d,backgroundPosition:`-${P*Y-d+4}px -${U*Y-d+4}px`})):(P=F.x-d,U=F.y-d,P>m.width-d*2&&(P=m.width-d*2),P<0&&(P=0),U>m.height-d*2&&(U=m.height-d*2),U<0&&(U=0),r.css({top:U,left:P}),_.css({backgroundPosition:`-${P*C}px -${U*k}px`}))};t.on(e.events.move,F=>{let P=e.utils.getCursorPosition(m,F);E(P),this._fireEvent("magnifier-move",{pos:P,glass:r[0],zoomElement:_?_[0]:void 0}),F.preventDefault()}),t.on(e.events.leave,()=>{let F=t.width()/2-i.lensSize/2,P=t.height()/2-i.lensSize/2;r.animate({draw:{top:P,left:F}}),E({x:F+i.lensSize/2,y:P+i.lensSize/2})})},changeAttribute:(t,i)=>{},destroy:function(){let t=this.element;t.off(e.events.move),t.off(e.events.leave),t.remove()}})})(Metro,Dom),((e,a)=>{let f={size:"100x100",width:null,height:null,color:"#f8f8f8",textColor:"#292929",font:"12px sans-serif",text:"",showText:!0,onImagePlaceholderCreate:e.noop};e.imagePlaceholderSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroImagePlaceholderSetup<"u"&&e.imagePlaceholderSetup(globalThis.metroImagePlaceholderSetup),e.Component("image-placeholder",{init:function(t,i){return this._super(i,t,f,{width:0,height:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("image-placeholder-create")},_createStructure:function(){let t=this.element,i=this.options,r=i.size.toArray("x");this.width=i.width?i.width:r[0],this.height=i.height?i.height:r[1],t.attr("src",this._createPlaceholder())},_createEvents:()=>{},_createPlaceholder:function(){let t=this.options,i=document.createElement("canvas"),r=i.getContext("2d"),d=this.width,m=this.height;return i.width=Number.parseInt(d),i.height=Number.parseInt(m),r.clearRect(0,0,d,m),r.fillStyle=t.color,r.fillRect(0,0,d,m),r.fillStyle=t.textColor,r.font=t.font,r.translate(d/2,m/2),r.textAlign="center",r.textBaseline="middle",t.showText&&r.fillText(t.text?t.text:`${d} × ${m}`,0,0),i.toDataURL()},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={infoboxDeferred:0,type:"",width:480,height:"auto",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,autoHide:0,removeOnClose:!1,closeButton:!0,clsBox:"",clsBoxContent:"",clsOverlay:"",onOpen:e.noop,onClose:e.noop,onInfoBoxCreate:e.noop};e.infoBoxSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroInfoBoxSetup<"u"&&e.infoBoxSetup(globalThis.metroInfoBoxSetup),e.Component("info-box",{init:function(t,i){return this._super(i,t,f,{overlay:null,id:e.utils.elementId("info-box")}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("info-box-create",{element:t})},_overlay:function(){let t=this.options,i=a("<div>");return i.addClass("overlay").addClass(t.clsOverlay),t.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(t.overlayColor),t.overlayAlpha)}),i},_createStructure:function(){let t=this.element,i=this.options,r;i.overlay===!0&&(this.overlay=this._overlay()),t.addClass("info-box").addClass(i.type).addClass(i.clsBox),r=t.find("closer"),r.length===0&&(r=a("<span>").addClass("button square closer"),r.appendTo(t)),i.closeButton!==!0&&r.hide();let d=t.find(".info-box-content");d.length>0&&d.addClass(i.clsBoxContent),t.css({width:i.width,height:i.height,visibility:"hidden",top:"100%",left:(a(globalThis).width()-t.outerWidth())/2}),t.appendTo(a("body"))},_createEvents:function(){let t=this.element;t.on(e.events.click,".closer",()=>{this.close()}),t.on(e.events.click,".js-dialog-close",()=>{this.close()}),a(globalThis).on(e.events.resize,()=>{this.reposition()},{ns:this.id})},_setPosition:function(){let t=this.element;t.css({top:(a(globalThis).height()-t.outerHeight())/2,left:(a(globalThis).width()-t.outerWidth())/2})},reposition:function(){this._setPosition()},setContent:function(t){let i=this.element.find(".info-box-content");i.length!==0&&(i.html(t),this.reposition())},setType:function(t){this.element.removeClass("success info alert warning").addClass(t)},open:function(){let t=this.element,i=this.options;i.overlay===!0&&a(".overlay").length===0&&(this.overlay.appendTo(a("body")),i.overlayClickClose===!0&&this.overlay.on(e.events.click,()=>{this.close()})),this._setPosition(),t.css({visibility:"visible"}),this._fireEvent("open"),t.data("open",!0),Number.parseInt(i.autoHide)>0&&setTimeout(()=>{this.close()},Number.parseInt(i.autoHide))},close:function(){let t=this.element,i=this.options;i.overlay===!0&&a("body").find(".overlay").remove(),t.css({visibility:"hidden",top:"100%"}),this._fireEvent("close"),t.data("open",!1),i.removeOnClose===!0&&(this.destroy(),t.remove())},isOpen:function(){return this.element.data("open")===!0},changeAttribute:(t,i)=>{},destroy:function(){let t=this.element;t.off("all"),a(globalThis).off(e.events.resize,{ns:this.id}),t.remove()}}),e.infobox={isInfoBox:t=>e.utils.isMetroObject(t,"infobox"),open:function(t,i,r){if(!this.isInfoBox(t))return!1;let d=e.getPlugin(t,"infobox");i!==void 0&&d.setContent(i),r!==void 0&&d.setType(r),d.open()},close:function(t){if(!this.isInfoBox(t))return!1;e.getPlugin(t,"infobox").close()},setContent:function(t,i=""){if(!this.isInfoBox(t))return!1;let r=e.getPlugin(t,"infobox");r.setContent(i),r.reposition()},setType:function(t,i){if(!this.isInfoBox(t))return!1;let r=e.getPlugin(t,"infobox");r.setType(i),r.reposition()},isOpen:function(t){return this.isInfoBox(t)?e.getPlugin(t,"infobox").isOpen():!1},create:(t,i,r,d)=>{let m=e.utils.$(),_,C=i!==void 0?i:"",k=m("<div>").appendTo(m("body"));m("<div>").addClass("info-box-content").appendTo(k);let E=m.extend({},{removeOnClose:!0,type:C},r!==void 0?r:{});return E._runtime=!0,k.infobox(E),_=e.getPlugin(k,"infobox"),_.setContent(t),d!==!1&&_.open(),k}}})(Metro,Dom),((e,a)=>{let f={maskPattern:".",mask:null,maskPlaceholder:"_",maskEditableStart:0,thresholdInterval:300,onChar:e.noop,onInputMaskCreate:e.noop};e.inputMaskSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroInputMaskSetup<"u"&&e.inputMaskSetup(globalThis.metroInputMaskSetup),e.Component("input-mask",{init:function(t,i){return this._super(i,t,f,{pattern:null,mask:"",maskArray:[],placeholder:"",length:0,thresholdTimer:null,id:e.utils.elementId("input-mask")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("input-mask-create")},_createStructure:function(){let t=this.options;if(!t.mask)throw new Error("You must provide a pattern for masked input.");if(typeof t.maskPlaceholder!="string"||t.maskPlaceholder.length>1)throw new Error("Mask placeholder should be a single character or an empty string.");this.placeholder=t.maskPlaceholder,this.mask=`${t.mask}`,this.maskArray=this.mask.split(""),this.pattern=new RegExp(`^${t.maskPattern}+$`),this.length=this.mask.length,this._showValue()},_createEvents:function(){let t=this,i=this.element,r=this.options,d=r.maskEditableStart,m=this.id,_=P=>P<d?(E(d),!1):!0,C=P=>P<t.mask.length&&t.mask.charAt(P)===t.placeholder,k=P=>{let U,Y=t.maskArray;for(U=P;U<=Y.length;U++)if(Y[U]===t.placeholder)return U;return P},E=P=>{t.elem.setSelectionRange(P,P)},F=()=>{clearInterval(t.thresholdTimer),t.thresholdTimer=null};i.on("change",function(){this.value===""&&(this.value=t.mask,E(d))},{ns:m}),i.on("focus click",function(){_(this.selectionStart),E(k(this.selectionStart))},{ns:m}),i.on("keydown",function(P){let U=this.selectionStart,Y=this.value,ee=P.code,Ae=P.key;if(ee==="ArrowRight"||ee==="End")return!0;U>=t.length&&["Backspace","Home","ArrowLeft","ArrowUp"].indexOf(ee)===-1?P.preventDefault():ee==="Home"||ee==="ArrowUp"?(P.preventDefault(),E(d)):ee==="ArrowLeft"?U-1<d&&P.preventDefault():ee==="Backspace"?(P.preventDefault(),U-1>=d&&(C(U-1)&&this.value.charAt(U-1)!==t.placeholder&&(this.value=Y.substr(0,U-1)+t.placeholder+Y.substr(U)),E(U-1))):ee==="Space"?(P.preventDefault(),E(U+1)):t.pattern.test(Ae)?(P.preventDefault(),C(U)&&(this.value=Y.substr(0,U)+(r.onChar===e.noop?Ae:e.utils.exec(r.onChar,[Ae],this))+Y.substr(U+1),E(k(U+1)))):P.preventDefault()},{ns:m}),i.on("keyup",function(){F(),t.thresholdTimer=setInterval(()=>{F(),E(k(this.selectionStart))},r.thresholdInterval)},{ns:m})},_showValue:function(){let t=this.elem,i=new Array(this.length),r;t.value?(r=t.value,a.each(this.maskArray,(d,m)=>{r[d]!==m&&!this.pattern.test(r[d])?i[d]=this.placeholder:i[d]=r[d]}),this.elem.value=i.join("")):t.value=this.mask},destroy:function(){let t=this.element,i=this.id;return t.off("change",{ns:i}),t.off("focus",{ns:i}),t.off("click",{ns:i}),t.off("keydown",{ns:i}),t.off("keyup",{ns:i}),t}})})(Metro,Dom),((e,a)=>{let f={materialInputDeferred:0,label:"",informer:"",icon:"",permanentLabel:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"❌",revealButtonIcon:"👀",searchButtonIcon:"🔍",customButtons:[],searchButtonClick:"submit",clsComponent:"",clsInput:"",clsLabel:"",clsInformer:"",clsIcon:"",clsLine:"",onInputCreate:e.noop};e.materialInputSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroMaterialInputSetup<"u"&&e.materialInputSetup(globalThis.metroMaterialInputSetup),e.Component("material-input",{init:function(t,i){return this._super(i,t,f,{history:[],historyIndex:-1}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r,d;t[0].className="",t.attr("autocomplete","nope"),t.attr("type")===void 0&&t.attr("type","text"),r=t.wrap("<div>").addClass(`input-material ${t[0].className}`),d=a("<div>").addClass("buttons").appendTo(r),i.label&&a("<span>").html(i.label).addClass("label").addClass(i.clsLabel).insertAfter(t),e.utils.isValue(i.informer)&&a("<span>").html(i.informer).addClass("informer").addClass(i.clsInformer).insertAfter(t),e.utils.isValue(i.icon)&&(r.addClass("with-icon"),a("<span>").html(i.icon).addClass("icon").addClass(i.clsIcon).insertAfter(t)),i.clearButton===!0&&!t[0].readOnly&&a("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).appendTo(d),t.attr("type")==="password"&&i.revealButton===!0&&a("<button>").addClass("button input-reveal-button").addClass(i.clsRevealButton).attr("tabindex",-1).attr("type","button").html(i.revealButtonIcon).appendTo(d),i.searchButton===!0&&a("<button>").addClass("button input-search-button").addClass(i.clsSearchButton).attr("tabindex",-1).attr("type",i.searchButtonClick==="submit"?"submit":"button").html(i.searchButtonIcon).appendTo(d);let m=e.utils.isObject(i.customButtons);Array.isArray(m)&&a.each(m,function(){let _=a("<button>");_.addClass("button input-custom-button").addClass(i.clsCustomButton).addClass(this.cls).attr("tabindex",-1).attr("type","button").html(this.text),this.attr&&typeof this.attr=="object"&&a.each(this.attr,(C,k)=>{_.attr(Str.dashedName(C),k)}),this.onclick&&_.on("click",()=>{this.onclick.apply(_,[t.valueOf(),t])}),_.appendTo(d)}),r.append(a("<hr>").addClass(i.clsLine)),i.permanentLabel===!0&&r.addClass("permanent-label"),r.addClass(i.clsComponent),t.addClass(i.clsInput),t.is(":disabled")?this.disable():this.enable(),this.component=r},_createEvents:function(){let t=this,i=this.options,r=this.element;this.component.on(e.events.click,".input-clear-button",()=>{let d=r.val();r.val("").fire("clear").fire("change").fire("keyup").focus(),t._fireEvent("clear-click",{prev:d})}),this.component.on(e.events.click,".input-reveal-button",()=>{r.attr("type")==="password"?r.attr("type","text"):r.attr("type","password"),t._fireEvent("reveal-click",{val:r.val()})}),this.component.on(e.events.click,".input-search-button",function(){i.searchButtonClick!=="submit"?t._fireEvent("search-button-click",{val:r.val(),button:this}):this.form&&this.form.submit()}),r.on(e.events.keydown,d=>{d.keyCode===e.keyCode.ENTER&&t._fireEvent("enter-click",{val:r.val()})})},clear:function(){this.element.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){t==="disabled"&&this.toggleState()},destroy:function(){return this.element}})})(Metro,Dom),((e,a)=>{let f={keypadDeferred:0,label:"",keySize:36,keys:"1, 2, 3, 4, 5, 6, 7, 8, 9, 0",exceptKeys:"",keySeparator:"",trimSeparator:!1,keyDelimiter:",",copyInlineStyles:!1,target:null,keyLength:0,shuffle:!1,shuffleCount:3,serviceButtons:!0,showValue:!0,open:!1,useElementSizeForKeys:!1,openMode:"auto",clsKeypad:"",clsInput:"",clsKeys:"",clsKey:"",clsServiceKey:"",clsBackspace:"",clsClear:"",clsLabel:"",onChange:e.noop,onClear:e.noop,onBackspace:e.noop,onShuffle:e.noop,onKey:e.noop,onKeypadCreate:e.noop};e.keypadSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroKeypadSetup<"u"&&e.keypadSetup(globalThis.metroKeypadSetup),e.Component("keypad",{init:function(t,i){return this._super(i,t,f,{value:i.tagName==="INPUT"?i.value:i.innerText,positions:["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],keypad:null,keys:[],keys_to_work:[],exceptKeys:[]}),this},_create:function(){let t=this.element,i=this.options;this.options.position="bottom-left",this.keys=i.keys.toArray(i.keyDelimiter),this.keys_to_work=this.keys,this.exceptKeys=i.exceptKeys.toArray(i.keyDelimiter),this._createKeypad(),i.shuffle===!0&&this.shuffle(),this._createKeys(),this._createEvents(),this._fireEvent("keypad-create",{element:t})},_createKeypad:function(){let t=this.element,i=this.options,r,d=t.wrap("<div>").addClass("input keypad").addClass(t[0].className).addClass(i.clsKeypad);if(t.attr("type")===void 0&&t.attr("type","text"),t.attr("readonly",!0),r=a("<div>").addClass("keys").addClass(i.clsKeys),r.appendTo(d),this._setKeysPosition(),i.open===!0&&r.addClass("open keep-open"),t[0].className="",i.copyInlineStyles===!0){let _=0,C=t[0].style.length;for(;_<C;_++)d.css(t[0].style[_],t.css(t[0].style[_]))}t.addClass(i.clsInput),d.addClass(i.clsKeypad),t.on(e.events.blur,()=>{d.removeClass("focused")}),t.on(e.events.focus,()=>{d.addClass("focused")});let m=a("<div>").addClass("button-group").appendTo(d);if(a("<button>").addClass("button input-kbd-button").addClass(i.clsKbdButton).attr("tabindex",-1).attr("type","button").html("⌨").appendTo(m),i.label){let _=a("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(d);if(t.attr("id"))_.attr("for",t.attr("id"));else{let C=Hooks.useId(t[0]);t.id(C),_.attr("for",C)}t.attr("dir")==="rtl"&&_.addClass("rtl")}i.disabled===!0||t.is(":disabled")?this.disable():this.enable(),this.keypad=d},_setKeysPosition:function(){let t=this.element,i=this.options;t.parent().find(".keys").removeClass(this.positions.join(" ")).addClass(i.position)},_createKeys:function(){let t=this.element,i=this.options,r=t.parent(),d,m=r.find(".keys"),_=Math.round(Math.sqrt(this.keys.length+2)),C=i.keySize,k;if(m.html(""),a.each(this.keys_to_work,function(){d=a("<span>").addClass("key").addClass(i.clsKey).html(this),d.data("key",this),d.css({width:i.keySize,height:i.keySize,lineHeight:i.keySize-4}).appendTo(m)}),i.serviceButtons===!0){let E=["&larr;","&times;"];a.each(E,function(){d=a("<span>").addClass("key service-key").addClass(i.clsKey).addClass(i.clsServiceKey).html(this),this==="&larr;"&&d.addClass(i.clsBackspace),this==="&times;"&&d.addClass(i.clsClear),d.data("key",this),d.css({width:i.keySize,height:i.keySize,lineHeight:i.keySize-4}).appendTo(m)})}i.useElementSizeForKeys===!0?m.outerWidth(t.outerWidth()):(k=_*(C+2)-6,m.outerWidth(k))},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.parent(),m=d.find(".keys");m.on(e.events.click,".key",function(_){let C=a(this),k=C.data("key"),E;if(C.data("key")!=="&larr;"&&C.data("key")!=="&times;"){if(r.keyLength>0&&`${t.value}`.length===r.keyLength)return!1;t.exceptKeys.indexOf(k)===-1&&(t.value=t.value+(t.value!==""?r.keySeparator:"")+k),r.shuffle===!0&&(t.shuffle(),t._createKeys()),r.dynamicPosition===!0&&(r.position=t.positions[a.random(0,t.positions.length-1)],t._setKeysPosition()),t._fireEvent("key",{key:C.data("key"),val:t.value})}else C.data("key")==="&times;"&&(t.value="",t._fireEvent("clear")),C.data("key")==="&larr;"&&(E=r.keySeparator&&t.value[t.value.length-1]!==r.keySeparator?2:1,t.value=t.value.substring(0,t.value.length-E),t._fireEvent("backspace",{val:t.value}));r.showValue===!0&&(i[0].tagName==="INPUT"?i.val(t.value):i.text(t.value)),t._fireEvent("change",{val:t.val}),_.preventDefault(),_.stopPropagation()}),d.on(e.events.click,_=>{r.open!==!0&&(m.hasClass("open")===!0?m.removeClass("open").removeClass("top-left"):(m.addClass("open"),r.openMode==="auto"?e.utils.inViewport(m[0])===!1&&m.addClass("top-left"):r.openMode==="up"&&m.addClass("top-left")),_.preventDefault(),_.stopPropagation())}),r.target!==null&&i.on(e.events.change,()=>{let _=a(r.target);_.length!==0&&(_[0].tagName==="INPUT"?_.val(t.value):_.text(t.value))})},shuffle:function(){let t=this.options;for(let i=0;i<t.shuffleCount;i++)this.keys_to_work=this.keys_to_work.shuffle();this._fireEvent("shuffle",{keysToWork:this.keys_to_work,keys:this.keys})},shuffleKeys:function(t=3){for(let i=0;i<t;i++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(t){let i=this.element,r=this.options;return typeof t>"u"?r.trimSeparator?this.value.replace(new RegExp(r.keySeparator,"g")):this.value:(this.value=`${t}`,i[0].tagName==="INPUT"?i.val(t):i.text(t),this)},open:function(){let t=this.element,i=this.options,r=t.parent().find(".keys");r.addClass("open"),i.openMode==="auto"?e.utils.inViewport(r[0])===!1&&r.addClass("top-left"):i.openMode==="up"&&r.addClass("top-left")},close:function(){this.element.parent().find(".keys").removeClass("open").removeClass("top-left")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setPosition:function(t){let i=t!==void 0?t:this.element.attr("data-position");this.positions.indexOf(i)!==-1&&(this.options.position=i,this._setKeysPosition())},changeAttribute:function(t){switch(t){case"disabled":this.toggleState();break;case"data-position":this.setPosition();break}},destroy:function(){let t=this.element,i=this.options,r=this.keypad,d=r.find(".keys");r.off(e.events.click),d.off(e.events.click,".key"),t.off(e.events.change),i.label&&r.prev("label").remove(),r.remove()}}),a(document).on(e.events.click,()=>{let t=a(".keypad .keys");a.each(t,function(){a(this).hasClass("keep-open")||a(this).removeClass("open")})})})(Metro,Dom),((e,a)=>{let f={loop:!0,source:"img",iconClose:"❌",iconPrev:"🡐",iconNext:"🡒",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:e.noop,onLightboxCreate:e.noop};e.lightboxSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroLightboxSetup<"u"&&e.lightboxSetup(globalThis.metroLightboxSetup),e.Component("lightbox",{init:function(t,i){return this._super(i,t,f,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){let t=this.options;t.source||(t.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){let t=this.options,i;i=a(".lightbox-overlay"),i.length===0&&(i=a("<div>").addClass("lightbox-overlay").appendTo("body").hide());let r=a("<div>").addClass("lightbox").addClass(t.clsLightbox).appendTo("body").hide();a("<span>").addClass("lightbox__prev").addClass(t.clsPrev).html(t.iconPrev).appendTo(r),a("<span>").addClass("lightbox__next").addClass(t.clsNext).html(t.iconNext).appendTo(r),a("<span>").addClass("lightbox__closer").addClass(t.clsClose).html(t.iconClose).appendTo(r),a("<div>").addClass("lightbox__image").addClass(t.clsImageContainer).appendTo(r),this.component=r[0],this.lightbox=r,this.overlay=i},_createEvents:function(){let t=this,i=this.element,r=this.options,d=a(this.component);i.on(e.events.click,r.source,function(){t.open(this)}),d.on(e.events.click,".lightbox__closer",()=>{t.close()}),d.on(e.events.click,".lightbox__prev",()=>{t.prev()}),d.on(e.events.click,".lightbox__next",()=>{t.next()})},_setupItems:function(){let t=this.element,i=this.options,r=t.find(i.source);r.length!==0&&(this.items=r)},_goto:function(t){let i=this,r=this.options,d=a(t),m=a("<img>"),_,C=this.lightbox.find(".lightbox__image");C.find(".lightbox__image-wrapper").remove();let k=a("<div>").addClass("lightbox__image-wrapper").addClass(r.clsImageWrapper).attr("data-title",d.attr("alt")||d.attr("data-title")||"").appendTo(C),E=a("<div>").appendTo(k);e.makePlugin(E,"activity",{type:"cycle",style:"color"}),this.current=t,(t.tagName==="IMG"||t.tagName==="DIV")&&(_=d.attr("data-original")||d.attr("src"),m.attr("src",_),m[0].onload=function(){let F=this.height>this.width;m.addClass(F?"lightbox__image-portrait":"lightbox__image-landscape").addClass(r.clsImage),m.attr("alt",d.attr("alt")),m.appendTo(k),E.remove(),i._fireEvent("draw-image",{image:m[0],item:k[0]})})},_index:function(t){let i=-1;return this.items.each(function(r){this===t&&(i=r)}),i},next:function(){let t,i=this.current;if(t=this._index(i),t+1>=this.items.length)if(this.options.loop)t=-1;else return;this._goto(this.items[t+1])},prev:function(){let t,i=this.current;if(t=this._index(i),t-1<0)if(this.options.loop)t=this.items.length;else return;this._goto(this.items[t-1])},open:function(t){return this._setupItems(),this._goto(t),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={listDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationShortMode:!0,thousandSeparator:",",decimalSeparator:",",itemTag:"li",defaultTemplateTag:"div",sortClass:null,sortDir:"asc",sortInitial:!0,filterClass:null,filter:null,filterString:"",filters:null,source:null,showItemsSteps:!1,showSearch:!1,showListInfo:!1,showPagination:!1,showActivity:!0,muteList:!0,items:-1,itemsSteps:"all, 10,25,50,100",itemsAllTitle:"Show all",listItemsCountTitle:"Show entries:",listSearchTitle:"Search:",listInfoTitle:"Showing $1 to $2 of $3 entries",paginationPrevTitle:"Prev",paginationNextTitle:"Next",activityType:"cycle",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,searchThreshold:500,clsComponent:"",clsList:"",clsListItem:"",clsListTop:"",clsItemsCount:"",clsSearch:"",clsListBottom:"",clsListInfo:"",clsListPagination:"",clsPagination:"",clsTemplateTag:"",onDraw:e.noop,onDrawItem:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoaded:e.noop,onDataLoadError:e.noop,onFilterItemAccepted:e.noop,onFilterItemDeclined:e.noop,onListCreate:e.noop};e.listSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroListSetup<"u"&&e.listSetup(globalThis.metroListSetup),e.Component("list",{init:function(t,i){return this._super(i,t,f,{currentPage:1,pagesCount:1,filterString:"",data:null,activity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,filterIndex:null,filtersIndexes:[],itemTemplate:null,sort:{dir:"asc",colIndex:0},header:null,items:[]}),this},_create:function(){let t=this.options;t.source?(this._fireEvent("data-load",{source:t.source}),fetch(t.source).then(e.fetch.status).then(e.fetch.json).then(i=>{this._fireEvent("data-loaded",{source:t.source,data:i}),this._build(i)}).catch(i=>{this._fireEvent("data-load-error",{source:t.source,error:i})})):this._build()},_build:function(t){e.utils.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createStructure(),this._createEvents(),this._fireEvent("list-create")},_createItemsFromHTML:function(){let t=this,i=this.element,r=this.options,d=`${r.clsTemplateTag}`.toArray(",");this.items=[],a.each(i.children(r.itemTag),function(){let m=a(this).children("*");d.length&&(d.length===1?m.addClass(d[0]):m.each((_,C)=>{a(C).addClass(d[_]?d[_]:d[d.length-1])})),t.items.push(this)})},_createItemsFromJSON:function(t){let i=this,r=this.options,d=`${r.clsTemplateTag}`.toArray(",");this.items=[],e.utils.isValue(t.template)&&(this.itemTemplate=t.template),e.utils.isValue(t.header)&&(this.header=t.header),e.utils.isValue(t.data)&&a.each(t.data,function(){let m="",_=document.createElement(r.itemTag),C=i.itemTemplate,k;if(e.utils.isValue(C))m=e.template(C,this,{beginToken:r.templateBeginToken,endToken:r.templateEndToken});else for(let E in this)m+=`<${r.defaultTemplateTag}>${this[E]}</${r.defaultTemplateTag}>`;_.innerHTML=m,k=a(_).children("*"),d.length&&(d.length===1?k.addClass(d[0]):k.each((E,F)=>{a(F).addClass(d[E]?d[E]:d[d.length-1])})),i.items.push(_)})},_createTopBlock:function(){let t=this.element,i=this.options,r=a("<div>").addClass("list-top").addClass(i.clsListTop).insertBefore(t),d,m;d=e.utils.isValue(this.wrapperSearch)?this.wrapperSearch:a("<div>").addClass("list-search-block").addClass(i.clsSearch).appendTo(r);let _=a("<input>").attr("type","text").appendTo(d);e.makePlugin(_,"input",{prepend:i.listSearchTitle}),i.showSearch!==!0&&d.hide(),m=e.utils.isValue(this.wrapperRows)?this.wrapperRows:a("<div>").addClass("list-rows-block").addClass(i.clsItemsCount).appendTo(r);let C=a("<select>").appendTo(m);return a.each(i.itemsSteps.toArray(),function(){let k=a("<option>").attr("value",this==="all"?-1:this).text(this==="all"?i.itemsAllTitle:this).appendTo(C);+this==+i.items&&k.attr("selected","selected")}),C.select({filter:!1,prepend:i.listItemsCountTitle,onChange:k=>{+k!=+i.items&&(i.items=Number.parseInt(k),this.currentPage=1,this._draw(),this._fireEvent("rows-count-change",{val:k}))}}),i.showItemsSteps!==!0&&m.hide(),r},_createBottomBlock:function(){let t=this.element,i=this.options,r=a("<div>").addClass("list-bottom").addClass(i.clsListBottom).insertAfter(t),d,m;return d=a("<div>").addClass("list-info").addClass(i.clsListInfo).appendTo(r),i.showListInfo!==!0&&d.hide(),m=a("<div>").addClass("list-pagination").addClass(i.clsListPagination).appendTo(r),i.showPagination!==!0&&m.hide(),r},_createStructure:function(){let t=this,i=this.element,r=this.options,d,m=a(r.searchWrapper),_=a(r.infoWrapper),C=a(r.rowsWrapper),k=a(r.paginationWrapper);m.length>0&&(this.wrapperSearch=m),_.length>0&&(this.wrapperInfo=_),C.length>0&&(this.wrapperRows=C),k.length>0&&(this.wrapperPagination=k),i.parent().hasClass("list-component")?d=i.parent():(d=a("<div>").addClass("list-component").insertBefore(i),i.appendTo(d)),d.addClass(r.clsComponent),this.activity=a("<div>").addClass("list-progress").appendTo(d),a("<div>").activity({type:r.activityType,style:r.activityStyle}).appendTo(this.activity),r.showActivity!==!0&&this.activity.css({visibility:"hidden"}),i.addClass(r.clsList),this._createTopBlock(),this._createBottomBlock(),e.utils.isValue(r.filterString)&&(this.filterString=r.filterString);let E;e.utils.isValue(r.filter)&&(E=e.utils.isFunc(r.filter),E===!1&&(E=e.utils.func(r.filter)),t.filterIndex=t.addFilter(E)),e.utils.isValue(r.filters)&&typeof r.filters=="string"&&a.each(r.filters.toArray(),function(){E=e.utils.isFunc(this),E!==!1&&t.filtersIndexes.push(t.addFilter(E))}),this.currentPage=1,r.sortInitial!==!1?this.sorting(r.sortClass,r.sortDir,!0):this.draw()},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.parent(),m=d.find(".list-search-block input"),_,C=function(){t.filterString=this.value.trim().toLowerCase(),t.filterString[t.filterString.length-1]!==":"&&(t.currentPage=1,t._draw())};C=Hooks.useDebounce(C,r.searchThreshold),m.on(e.events.inputchange,C),e.utils.isValue(this.wrapperSearch)&&(_=this.wrapperSearch.find("input"),_.length>0&&_.on(e.events.inputchange,C));function k(E){let F=a(E),P=F.parent();P.hasClass("active")||(P.hasClass("service")?F.data("page")==="prev"?(t.currentPage--,t.currentPage===0&&(t.currentPage=1)):(t.currentPage++,t.currentPage>t.pagesCount&&(t.currentPage=t.pagesCount)):t.currentPage=F.data("page"),t._draw())}d.on(e.events.click,".pagination .page-link",function(){k(this)}),e.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",function(){k(this)})},_info:function(t,i,r){let d=this.element,m=this.options,_=d.parent(),C=e.utils.isValue(this.wrapperInfo)?this.wrapperInfo:_.find(".list-info"),k,E=i,F=t,P=r;C.length!==0&&(E>r&&(E=r),this.items.length===0&&(F=E=P=0),k=m.listInfoTitle,k=k.replace("$1",F),k=k.replace("$2",E),k=k.replace("$3",P),C.html(k))},_paging:function(t){let i=this.element,r=this.options,d=i.parent();this.pagesCount=Math.ceil(t/r.items),e.pagination({length:t,rows:r.items,current:this.currentPage,target:e.utils.isValue(this.wrapperPagination)?this.wrapperPagination:d.find(".list-pagination"),claPagination:r.clsPagination,prevTitle:r.paginationPrevTitle,nextTitle:r.paginationNextTitle,distance:r.paginationShortMode===!0?r.paginationDistance:0})},_filter:function(){let t=this.options,i,r,d,m,_,C;return e.utils.isValue(this.filterString)||this.filters.length>0?(i=this.items.filter(k=>{if(d="",e.utils.isValue(t.filterClass)){if(m=k.getElementsByClassName(t.filterClass),m.length>0)for(r=0;r<m.length;r++)d+=m[r].textContent}else d=k.textContent;if(_=d.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),C=e.utils.isValue(this.filterString)?_.indexOf(this.filterString)>-1:!0,C===!0&&this.filters.length>0){for(r=0;r<this.filters.length;r++)if(e.utils.exec(this.filters[r],[k])!==!0){C=!1;break}}return C?this._fireEvent("filter-item-accepted",{item:k}):this._fireEvent("filter-item-declined",{item:k}),C}),this._fireEvent("search",{search:this.filterString,items:i})):i=this.items,i},_draw:function(t){let i=this.element,r=this.options,d,m=r.items===-1?0:r.items*(this.currentPage-1),_=r.items===-1?this.items.length-1:m+r.items-1,C;for(C=this._filter(),i.children(r.itemTag).remove(),d=m;d<=_;d++)e.utils.isValue(C[d])&&a(C[d]).addClass(r.clsListItem).appendTo(i),this._fireEvent("draw-item",{item:C[d]});this._info(m+1,_+1,C.length),this._paging(C.length),this.activity.hide(),this._fireEvent("draw"),t&&e.utils.exec(t,[i],i[0])},_getItemContent:function(t){let i=this.locale,r=this.options,d=a(t),m,_,C,k,E=e.utils.isValue(d.data("formatMask"))?d.data("formatMask"):null;if(e.utils.isValue(r.sortClass)){if(C="",_=a(t).find(`.${r.sortClass}`),_.length>0)for(m=0;m<_.length;m++)C+=_[m].textContent;k=_.length>0?_[0].getAttribute("data-format"):""}else C=t.textContent,k=t.getAttribute("data-format");if(C=`${C}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),e.utils.isValue(k))switch(["number","int","integer","float","money"].indexOf(k)!==-1&&(r.thousandSeparator!==","||r.decimalSeparator!==".")&&(C=e.utils.parseNumber(C,r.thousandSeparator,r.decimalSeparator)),k){case"date":C=E?Datetime.from(C,E,i):datetime(C);break;case"number":C=Number(C);break;case"int":case"integer":C=Number.parseInt(C);break;case"float":C=Number.parseFloat(C);break;case"money":C=e.utils.parseMoney(C);break;case"card":C=e.utils.parseCard(C);break;case"phone":C=e.utils.parsePhone(C);break}return C},deleteItem:function(t){let i,r=[],d,m=e.utils.isFunc(t);for(i=0;i<this.items.length;i++)d=this.items[i],m?e.utils.exec(t,[d])&&r.push(i):d.textContent.includes(t)&&r.push(i);return this.items=e.utils.arrayDeleteByMultipleKeys(this.items,r),this},draw:function(){return this._draw()},sorting:function(t,i,r){let d=this.options;return e.utils.isValue(t)&&(d.sortClass=t),e.utils.isValue(i)&&["asc","desc"].indexOf(i)>-1&&(d.sortDir=i),this._fireEvent("sort-start",{items:this.items}),this.items.sort((m,_)=>{let C=this._getItemContent(m),k=this._getItemContent(_),E=0;return C<k&&(E=d.sortDir==="asc"?-1:1),C>k&&(E=d.sortDir==="asc"?1:-1),E!==0&&this._fireEvent("sort-item-switch",{a:m,b:_,result:E}),E}),this._fireEvent("sort-stop",{items:this.items}),r===!0&&this._draw(),this},filter:function(t){this.filterString=t.trim().toLowerCase(),this.currentPage=1,this._draw()},setData:function(t){let i=this,r=this.element,d=this.options;if(e.utils.isValue(t)!==!0)return;i._createItemsFromJSON(t),r.html(""),e.utils.isValue(d.filterString)&&(i.filterString=d.filterString);let m;e.utils.isValue(d.filter)&&(m=e.utils.isFunc(d.filter),m===!1&&(m=e.utils.func(d.filter)),i.filterIndex=i.addFilter(m)),e.utils.isValue(d.filters)&&typeof d.filters=="string"&&a.each(d.filters.toArray(),function(){m=e.utils.isFunc(this),m!==!1&&i.filtersIndexes.push(i.addFilter(m))}),i.currentPage=1,i.sorting(d.sortClass,d.sortDir,!0)},loadData:function(t){let i=this.options;e.utils.isValue(t)===!0&&(i.source=t,this._fireEvent("data-load",{source:i.source}),fetch(i.source).then(e.fetch.status).then(e.fetch.json).then(r=>{this._fireEvent("data-loaded",{source:i.source,data:r}),this.setData(r)}).catch(r=>{this._fireEvent("data-load-error",{source:i.source,error:r})}))},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}this._draw()}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}this._draw()}},first:function(){this.items.length!==0&&(this.currentPage=1,this._draw())},last:function(){this.items.length!==0&&(this.currentPage=this.pagesCount,this._draw())},page:function(t){let i=Number.parseInt(t);i<=0&&(i=1),i>this.pagesCount&&(i=this.pagesCount),this.currentPage=i,this._draw()},addFilter:function(t,i){let r=e.utils.isFunc(t);if(r!==!1)return this.filters.push(r),i===!0&&(this.currentPage=1,this.draw()),this.filters.length-1},removeFilter:function(t,i){return e.utils.arrayDeleteByKey(this.filters,t),i===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(t){this.filters=[],t===!0&&(this.currentPage=1,this.draw())},getFilters:function(){return this.filters},getFilterIndex:function(){return this.filterIndex},getFiltersIndexes:function(){return this.filtersIndexes},changeAttribute:function(t){let i=this.element,r=this.options,d=()=>{let C=i.attr("data-sort-dir");e.utils.isValue(C)&&(r.sortDir=C,this.sorting(r.sortClass,r.sortDir,!0))},m=()=>{let C=i.attr("data-sort-source");e.utils.isValue(C)&&(r.sortClass=C,this.sorting(r.sortClass,r.sortDir,!0))},_=()=>{let C=i.attr("data-filter-string");e.utils.isValue(C)&&(r.filterString=C,this.filter(r.filterString))};switch(t){case"data-sort-dir":d();break;case"data-sort-source":m();break;case"data-filter-string":_();break}},destroy:function(){let t=this.element,i=t.parent(),r=i.find(".list-search-block input"),d;return r.off(e.events.inputchange),e.utils.isValue(this.wrapperSearch)&&(d=this.wrapperSearch.find("input"),d.length>0&&d.off(e.events.inputchange)),i.off(e.events.click,".pagination .page-link"),e.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),t}})})(Metro,Dom),((e,a)=>{let f=`
    <svg width="800px" height="800px" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
        <path class="a" d="M39.5,15.5h-9a2,2,0,0,1-2-2v-9h-18a2,2,0,0,0-2,2v35a2,2,0,0,0,2,2h27a2,2,0,0,0,2-2Z"/>
        <line class="a" x1="28.5" y1="4.5" x2="39.5" y2="15.5"/>
    </svg>`,t='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',i={listviewDeferred:0,selectable:!1,duration:100,view:e.listView.LIST,selectCurrent:!0,defaultIcon:f,onNodeInsert:e.noop,onNodeDelete:e.noop,onNodeClean:e.noop,onCollapseNode:e.noop,onExpandNode:e.noop,onGroupNodeClick:e.noop,onNodeClick:e.noop,onNodeDblclick:e.noop,onListViewCreate:e.noop};e.listViewSetup=r=>{i=a.extend({},i,r)},typeof globalThis.metroListViewSetup<"u"&&e.listViewSetup(globalThis.metroListViewSetup),e.Component("listview",{init:function(r,d){return this._super(d,r,i),this},_create:function(){let r=this.element;this._createStructure(),this._createEvents(),this._fireEvent("listview-create",{element:r})},_createIcon:r=>a("<div>").addClass("icon").html(r),_createCaption:(r="")=>a("<div>").addClass("caption").html(r),_createContent:(r="")=>a("<div>").addClass("content").html(r),_createDesc:(r="")=>a("<div>").addClass("desc").html(r),_createDate:(r="")=>a("<div>").addClass("date").html(r),_createToggle:()=>a("<span>").addClass("node-toggle").html(t),_createNode:function(r){let d=this.options,m=a("<li>");return m.append(a("<input type='checkbox' data-role='checkbox'>").data("node",m)),m.append(this._createIcon(r.icon??d.defaultIcon)),m.append(this._createCaption(r.caption)),m.append(this._createDesc(r.desc)),m.append(this._createDate(r.date)),m.append(this._createContent(r.content)),m},_createStructure:function(){let r=this,d=this.element,m=this.options,_=d.find("li");d.addClass("listview"),d.find("ul").addClass("listview"),m.selectable&&d.addClass("selectable"),a.each(_,function(C){let k=a(this),E=k.html(),F=`Item_${C+1}`;k.children("ul").length>0?(k.prepend(r._createCaption(k.data("caption")??F)),k.addClass("node-group"),k.append(r._createToggle()),k.data("collapsed")!==!0&&k.addClass("expanded")):(k.clear().addClass("node"),k.append(a("<input type='checkbox' data-role='checkbox'>").data("node",k)),k.append(r._createIcon(k.data("icon")??m.defaultIcon)),k.append(r._createCaption(k.data("caption")??F)),k.append(r._createDesc(k.data("desc"))),k.append(r._createDate(k.data("date"))),k.append(r._createContent(E)))}),m.selectable&&d.addClass("selectable"),this.view(m.view)},_createEvents:function(){let r=this,d=this.element,m=this.options;d.on(e.events.dblclick,".node",function(){let _=a(this);r._fireEvent("node-dblclick",{node:_})}),d.on(e.events.click,".node",function(){let _=a(this),C=a(this).attr("href");if(C){globalThis.location.href=C;return}let k=_.hasClass("current");d.find(".node").removeClass("current"),k||_.addClass("current"),m.selectCurrent===!0&&(d.find(".node").removeClass("current-select"),k||_.addClass("current-select")),r._fireEvent("node-click",{node:_})}),d.on(e.events.click,".node-toggle",function(){let _=a(this).closest("li");r.toggleNode(_)}),d.on(e.events.click,".node-group > .caption",function(){let _=a(this).closest("li");d.find(".node-group").removeClass("current-group"),_.addClass("current-group"),r._fireEvent("group-node-click",{node:_})}),d.on(e.events.dblclick,".node-group > .caption",function(){let _=a(this).closest("li");r.toggleNode(_),r._fireEvent("node-dbl-click",{node:_})})},view:function(r){let d=this.element,m=this.options;if(r===void 0)return m.view;m.view=r,a.each(e.listView,(_,C)=>{d.removeClass(`view-${C}`),d.find("ul").removeClass(`view-${C}`)}),d.addClass(`view-${m.view}`),d.find("ul").addClass(`view-${m.view}`)},toggleNode:function(r){let d=this.options,m=a(r);if(!m.hasClass("node-group"))return;m.toggleClass("expanded");let _=m.hasClass("expanded")!==!0?"slideUp":"slideDown";this._fireEvent("collapse-node",{node:m}),m.children("ul")[_](d.duration)},toggleSelectable:function(){let r=this.element,d=this.options;d.selectable=!d.selectable;let m=d.selectable===!0?"addClass":"removeClass";console.log(m),r[m]("selectable"),r.find("ul")[m]("selectable")},add:function(r,d=null){let m=this.element,_=this.options,C,k,E;if(d===null)C=m;else{if(E=a(d),!E.hasClass("node-group"))return;C=E.children("ul"),C.length===0&&(C=a("<ul>").addClass("listview").addClass(`view-${_.view}`).appendTo(E),k=this._createToggle(),k.appendTo(E),E.addClass("expanded"))}let F=this._createNode(r);F.addClass("node").appendTo(C);let P=a("<input type='checkbox'>");return P.data("node",F),F.prepend(P),e.makePlugin(P,"checkbox",{}),this._fireEvent("node-insert",{newNode:F,parentNode:d,list:C}),F},addGroup:function(r){let d=this.element,m=this.options;r.icon&&delete r.icon;let _=this._createNode(r);return _.addClass("node-group").appendTo(d),_.append(this._createToggle()),_.addClass("expanded"),_.append(a("<ul>").addClass("listview").addClass(`view-${m.view}`)),this._fireEvent("node-insert",{newNode:_,parentNode:null,list:d}),_},insertBefore:function(r,d){let m=a(d);if(!m.length)return;let _=this._createNode(r);_.addClass("node").insertBefore(m);let C=_.closest(".node"),k=_.closest("ul");return this._fireEvent("node-insert",{newNode:_,parentNode:C,list:k}),_},insertAfter:function(r,d){let m=a(d);if(!m.length)return;let _=this._createNode(r);_.addClass("node").insertAfter(m);let C=_.closest(".node"),k=_.closest("ul");return this._fireEvent("node-insert",{newNode:_,parentNode:C,list:k}),_},del:function(r){let d=this.element,m=a(r);if(!m.length)return;let _=m.closest("ul"),C=_.closest("li");m.remove(),_.children().length===0&&!_.is(d)&&(_.remove(),C.removeClass("expanded"),C.children(".node-toggle").remove()),this._fireEvent("node-delete",{node:m})},clean:function(r){let d=a(r);d.length&&(d.children("ul").remove(),d.removeClass("expanded"),d.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:d}))},getSelected:function(){let r=this.element,d=[];return a.each(r.find(":checked"),function(){let m=a(this);d.push(m.closest(".node")[0])}),d},clearSelected:function(){this.element.find(":checked").prop("checked",!1),this.element.trigger("change")},selectAll:function(r=!0){this.element.find(".checkbox input").prop("checked",r),this.element.trigger("change")},selectByAttribute:function(r,d,m=!0){this.element.find(`li[${r}="${d}"] > .checkbox input`).prop("checked",m),this.element.trigger("change")},changeAttribute:function(r){let d=this.element,m=this.options,_=()=>{let k=`view-${d.attr("data-view")}`;this.view(k)},C=()=>{m.selectable=JSON.parse(d.attr("data-selectable"))===!0,this.toggleSelectable()};switch(r){case"data-view":_();break;case"data-selectable":C();break}},destroy:function(){let r=this.element;r.off(e.events.click,".node"),r.off(e.events.click,".node-toggle"),r.off(e.events.click,".node-group > .caption"),r.off(e.events.dblclick,".node-group > .caption"),r.remove()}})})(Metro,Dom),((e,a)=>{let f={items:null,loop:!0,height:"auto",width:"100%",duration:1e4,direction:"left",ease:"linear",mode:"default",accentPause:2e3,firstPause:1e3,stopOnHover:!0,splitBy:`
`,clsMarquee:"",clsMarqueeItem:"",onMarqueeItem:e.noop,onMarqueeItemComplete:e.noop,onMarqueeComplete:e.noop,onMarqueeCreate:e.noop};e.marqueeSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroMarqueeSetup<"u"&&e.marqueeSetup(globalThis.metroMarqueeSetup),e.Component("marquee",{init:function(t,i){return this._super(i,t,f,{origin:null,items:[],running:!1,current:-1,chain:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("marquee-create")},_createStructure:function(){let t=this.element,i=this.options;t.addClass("marquee").addClass(i.clsMarquee),t.css({height:i.height,width:i.width});let r=t.html().split(i.splitBy).map(m=>m.trim()).filter(m=>m.length),d=e.utils.isObject(i.items)||[];this.origin=[...r,...d],this.setItems(this.origin,!0),this.items.length&&(this.current=0,this.createChain(),console.log(this.chain),this.start())},setItems:function(t,i=!0){let r=this.element,d=this.options,m=d.direction.toLowerCase();if(i&&(this.items.length=0),r.clear(),this.items=t.map(_=>a("<div>").html(_).addClass("marquee__item").addClass(d.clsMarqueeItem).appendTo(r)[0]),a(this.items).addClass(m==="left"||m==="right"?"moveLeftRight":"moveUpDown"),d.height==="auto"){let _=0;a(this.items).each(function(){let C=+a(this).outerHeight(!0);C>_&&(_=C)}),r.height(_)}return this},setItem:function(t,i){let r=a(this.items[t]),d,m=this.options,_=this.element;if(r.length)return r.html(i),d=r.outerHeight(!0),m.height==="auto"&&_.height()<d&&_.height(d),this},addItem:function(t,i=-1){let r=this.element,d=this.options,m,_=a(t),C,k;return m=_.length?_:a("<div>").html(t),i<0?r.append(m):(C=this.items[i],C?m.insertBefore(C):r.append(m)),k=m.outerHeight(!0),d.height==="auto"&&r.height()<k&&r.height(k),this},createChain:function(){let t=this.element,i=this.options,r=20,d=i.direction,m=i.ease,_=+i.duration,C=0,k=t[0].getBoundingClientRect();if(this.chain.length=0,i.mode==="default")for(let E of this.items){let F=a(E),P=E.getBoundingClientRect();(k.width-P.width)/2;let U;F.attr("data-direction")&&(d=F.attr("data-direction")),F.attr("data-duration")&&(_=+F.attr("data-duration")),F.attr("data-ease")?m=F.attr("data-ease"):m=i.ease,["left","right"].indexOf(d)>-1?U={left:d==="left"?[k.width,-P.width-r]:[-P.width-r,k.width]}:U={top:d==="up"?[k.height,-P.height-r]:[-P.height-r,k.height]},this.chain.push({el:F[0],draw:U,dur:_,ease:m,defer:C===0?+i.firstPause:0}),C++}else for(let E of this.items){let F=a(E),P=E.getBoundingClientRect(),U=(k.width-P.width)/2,Y=(k.height-P.height)/2,ee,Ae;_=i.duration/2,F.attr("data-direction")&&(d=F.attr("data-direction").toLowerCase()),F.attr("data-duration")&&(_=+F.attr("data-duration")/2);let $e=m?m.split(" "):["linear"];F.attr("data-ease")&&($e=F.attr("data-ease").split(" ")),["left","right"].includes(d)?(ee={left:d==="left"?[k.width,U]:[-P.width-r,U]},Ae={left:d==="left"?[U,-P.width-r]:[U,k.width+r]}):(ee={top:d==="up"?[k.height,Y]:[-P.height-r,Y]},Ae={top:d==="up"?[Y,-P.height-r]:[Y,k.height+r]}),this.chain.push({el:F[0],draw:ee,dur:_,ease:$e[0]||"linear",defer:C===0?+i.firstPause:0}),this.chain.push({el:F[0],draw:Ae,dur:_,ease:$e[1]?$e[1]:$e[0]?$e[0]:"linear",defer:+i.accentPause}),C++}},_createEvents:function(){let t=this.element,i=this.options;t.on(e.events.enter,()=>{i.stopOnHover&&a.pauseAll(this.items)}),t.on(e.events.leave,()=>{i.stopOnHover&&a.resumeAll(this.items)});let r=Hooks.useDebounce(d=>{this.stop(),this.setItems(this.items,!0),this.createChain(),this.start()},1e3);a(window).on(e.events.resize,r)},start:function(){let t=this.options;return this.running=!0,a.chain(this.chain,{loop:t.loop,onChainItem:e.utils.isFunc(t.onMarqueeItem),onChainItemComplete:e.utils.isFunc(t.onMarqueeItemComplete),onChainComplete:e.utils.isFunc(t.onMarqueeComplete)}),this},stop:function(){return this.running=!1,a.stopAll(!1),this},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={masterDeferred:0,effect:"slide",effectFunc:"linear",duration:200,controlPrev:"←",controlNext:"→",controlTitle:"Master, page $1 of $2",backgroundImage:"",clsMaster:"",clsControls:"",clsControlPrev:"",clsControlNext:"",clsControlTitle:"",clsPages:"",clsPage:"",onBeforePage:e.noop_true,onBeforeNext:e.noop_true,onBeforePrev:e.noop_true,onNextPage:e.noop,onPrevPage:e.noop,onMasterCreate:e.noop};e.masterSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroMasterSetup<"u"&&e.masterSetup(globalThis.metroMasterSetup),e.Component("master",{init:function(t,i){return this._super(i,t,f,{pages:[],currentIndex:0,isAnimate:!1,id:e.utils.elementId("master")}),this},_create:function(){let t=this.element,i=this.options;t.addClass("master").addClass(i.clsMaster),t.css({backgroundImage:`url(${i.backgroundImage})`}),this._createControls(),this._createPages(),this._createEvents(),this._fireEvent("master-create",{element:t})},_createControls:function(){let t=this.element,i=this.options,r=["top","bottom"],d,m,_=t.find(".page");m=String(i.controlTitle).replace("$1","1"),m=String(m).replace("$2",_.length),a.each(r,function(){d=a("<div>").addClass(`controls controls-${this}`).addClass(i.clsControls).appendTo(t),a("<span>").addClass("prev").addClass(i.clsControlPrev).html(i.controlPrev).appendTo(d),a("<span>").addClass("next").addClass(i.clsControlNext).html(i.controlNext).appendTo(d),a("<span>").addClass("title").addClass(i.clsControlTitle).html(m).appendTo(d)}),this._enableControl("prev",!1)},_enableControl:function(t,i){let r=this.element.find(`.controls .${t}`);i===!0?r.removeClass("disabled"):r.addClass("disabled")},_setTitle:function(){let t=this.element.find(".controls .title"),i=this.options.controlTitle.replace("$1",this.currentIndex+1);i=i.replace("$2",String(this.pages.length)),t.html(i)},_createPages:function(){let t=this,i=this.element,r=this.options,d=i.find(".pages"),m=i.find(".page");d.length===0&&(d=a("<div>").addClass("pages").appendTo(i)),d.addClass(r.clsPages),a.each(m,function(){let _=a(this);_.data("cover")?i.css({backgroundImage:`url(${_.data("cover")})`}):i.css({backgroundImage:`url(${r.backgroundImage})`}),_.css({left:"100%"}),_.addClass(r.clsPage).hide(0),t.pages.push(_)}),m.appendTo(d),this.currentIndex=0,this.pages[this.currentIndex]!==void 0&&(this.pages[this.currentIndex].data("cover")!==void 0&&i.css({backgroundImage:`url(${this.pages[this.currentIndex].data("cover")})`}),this.pages[this.currentIndex].css("left","0").show(0),setTimeout(()=>{d.css({height:t.pages[0].outerHeight(!0)+2})},0))},_createEvents:function(){let t=this.element,i=this.options;t.on(e.events.click,".controls .prev",()=>{this.isAnimate!==!0&&e.utils.exec(i.onBeforePrev,[this.currentIndex,this.pages[this.currentIndex],t])===!0&&e.utils.exec(i.onBeforePage,["prev",this.currentIndex,this.pages[this.currentIndex],t])===!0&&this.prev()}),t.on(e.events.click,".controls .next",()=>{this.isAnimate!==!0&&e.utils.exec(i.onBeforeNext,[this.currentIndex,this.pages[this.currentIndex],t])===!0&&e.utils.exec(i.onBeforePage,["next",this.currentIndex,this.pages[this.currentIndex],t])===!0&&this.next()}),a(globalThis).on(e.events.resize,()=>{t.find(".pages").height(this.pages[this.currentIndex].outerHeight(!0)+2)},{ns:this.id})},_slideToPage:function(t){if(this.pages[t]===void 0||this.currentIndex===t)return;let i=t>this.currentIndex?"next":"prev",r=this.pages[this.currentIndex],d=this.pages[t];this.currentIndex=t,this._effect(r,d,i)},_slideTo:function(t){let i=t.toLowerCase()==="next",r=this.pages[this.currentIndex];if(i){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}let d=this.pages[this.currentIndex];this._fireEvent(i?"next-page":"prev-page",{current:r,next:d,forward:i}),this._effect(r,d,t)},_effect:function(t,i,r){let d=this,m=this.element,_=this.options,C=m.width(),k=m.find(".pages");this._setTitle(),this.currentIndex===this.pages.length-1?this._enableControl("next",!1):this._enableControl("next",!0),this.currentIndex===0?this._enableControl("prev",!1):this._enableControl("prev",!0),setTimeout(()=>{d.isAnimate=!0,k.animate({draw:{height:i.outerHeight(!0)+2},onDone:()=>{E()}})},0),k.css("overflow","hidden");function E(){i.data("cover")!==void 0?m.css({backgroundImage:`url(${i.data("cover")})`}):m.css({backgroundImage:`url(${_.backgroundImage})`}),k.css("overflow","initial"),d.isAnimate=!1}function F(){t.stop(!0).animate({draw:{left:r==="next"?-C:C},dur:_.duration,ease:_.effectFunc,onDone:()=>{t.hide(0)}}),i.stop(!0).css({left:r==="next"?C:-C}).show(0).animate({draw:{left:0},dur:_.duration,ease:_.effectFunc,onDone:()=>{E()}})}function P(){t.hide(),i.css({top:0,left:0,opacity:0}).show(()=>{E()})}function U(){t.fadeOut(_.duration),i.css({top:0,left:0,opacity:0}).fadeIn(_.duration,"linear",()=>{E()})}switch(_.effect){case"fade":U();break;case"switch":P();break;default:F()}},toPage:function(t){this._slideToPage(t)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},changeEffect:function(){this.options.effect=this.element.attr("data-effect")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr("data-effect-func")},changeEffectDuration:function(){this.options.duration=this.element.attr("data-duration")},changeAttribute:function(t){switch(t){case"data-effect":this.changeEffect();break;case"data-effect-func":this.changeEffectFunc();break;case"data-duration":this.changeEffectDuration();break}},destroy:function(){let t=this.element;t.off(e.events.click,".controls .prev"),t.off(e.events.click,".controls .next"),a(globalThis).off(e.events.resize,{ns:this.id}),t.remove()}})})(Metro,Dom),((e,a)=>{let f={navViewDeferred:0,expandPoint:null,toggle:null,animate:!0,activeState:!0,initialView:"expand",onMenuItemClick:e.noop,onPaneClose:e.noop,onBeforePaneClose:e.noop,onPaneOpen:e.noop,onBeforePaneOpen:e.noop,onNavviewCreate:e.noop};e.navViewSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroNavViewSetup<"u"&&e.navViewSetup(globalThis.metroNavViewSetup),e.Component("nav-view",{init:function(t,i){return this._super(i,t,f,{pane:null,content:null,paneToggle:null,id:null,menuScrollDistance:0,menuScrollStep:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("navview-create")},_calcMenuHeight:function(){let t=this.element,i=0,r=t.children(".navview-pane");if(r.length===0)return;let d=r.children(".navview-menu-container");d.length!==0&&(a.each(d.prevAll(),function(){i+=a(this).outerHeight(!0)}),a.each(d.nextAll(),function(){i+=a(this).outerHeight(!0)}),d.css({height:`calc(100% - ${i}px)`}),this.menuScrollStep=48,this.menuScrollDistance=e.utils.nearest(d[0].scrollHeight-d.height(),48))},_recalc:function(){setTimeout(()=>{this._calcMenuHeight()},200)},_createStructure:function(){let t=this.element,i=this.options,r;t.addClass("navview"),t.attr("id")===void 0?(this.id=e.utils.elementId("navview"),t.attr("id",this.id)):this.id=t.attr("id"),i.initialView!=="compact"&&e.utils.mediaExist(i.expandPoint)?t.addClass("expanded"):t.addClass("compacted handmade"),e.storage.getItem("navview:compacted")===!0&&(t.removeClass("expanded"),t.addClass("compacted handmade"));let d=t.children(".navview-pane"),m=t.children(".navview-content"),_=a(i.toggle);r=d.children(".navview-menu"),r.length&&(r.prevAll().reverse().wrapAll(a("<div>").addClass("navview-container")),r.wrap(a("<div>").addClass("navview-menu-container")),r.find("a").each(function(){let C=a(this),k=C.children(".icon"),E=C.children(".caption");k.length||C.prepend(a("<span>").addClass("icon").html(E.text()[0]))})),this.pane=d.length>0?d:null,this.content=m.length>0?m:null,this.paneToggle=_.length>0?_:null,i.animate&&t.addClass("animate-panes"),this._recalc()},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.find(".navview-menu-container"),m=d.children(".navview-menu");d.on("mousewheel",_=>{let C=i.find(".navview-pane").width(),k=_.deltaY>0?-1:1,E=t.menuScrollStep,F=t.menuScrollDistance,P=Number.parseInt(m.css("top"));if(C>50)return!1;k===-1&&Math.abs(P)<=F&&m.css("top",Number.parseInt(m.css("top"))+E*k),k===1&&P<=-E&&m.css("top",Number.parseInt(m.css("top"))+E*k)},{passive:!0}),i.on(e.events.click,".pull-button",function(){t._pullClick(this,"pull")}),i.on(e.events.click,".holder",function(){t._pullClick(this,"holder")}),i.on(e.events.click,".navview-menu li",function(){r.activeState===!0&&(i.find(".navview-menu li.active").removeClass("active"),a(this).toggleClass("active"))}),i.on(e.events.click,".navview-menu li > a",function(){t._fireEvent("menu-item-click",{item:this})}),this.paneToggle!==null&&this.paneToggle.on(e.events.click,()=>{}),m.find("a").on(e.events.enter,function(){if(!i.hasClass("compacted"))return;let _=a(this),C=e.utils.rect(this);_.children(".caption").css({position:"fixed",top:C.top,left:C.left+d.width(),borderRadius:4,paddingLeft:10,boxShadow:"0 0 5px 0 var(--shadow-color)"})}),m.find("a").on(e.events.leave,function(){if(!i.hasClass("compacted"))return;let _=a(this).children(".caption");_[0].style=""}),a(globalThis).on(e.events.resize,()=>{this._recalc(),i.hasClass("handmade")||(e.utils.isValue(r.expandPoint)&&e.utils.mediaExist(r.expandPoint)?(i.removeClass("compacted"),i.addClass("expanded")):(i.removeClass("expanded"),i.addClass("compacted")))},{ns:this.id})},_togglePaneMode:function(t=!1){let i=this.element,r=this.options;i.toggleClass("expanded"),i.toggleClass("compacted"),i.toggleClass("handmade"),i.hasClass("compacted")?(e.storage.setItem("navview:compacted",!0),e.utils.exec(r.onPaneClose,null,this)):(e.storage.setItem("navview:compacted",!1),e.utils.exec(r.onPaneOpen,null,this))},_pullClick:function(t,i){let r,d=a(t);return d!=null&&d.hasClass("holder")&&(r=d.parent().find("input"),setTimeout(()=>{r.focus()},200)),this._togglePaneMode(i==="pull"),this._recalc(),!0},toggle:function(){this._togglePaneMode()},compact:function(){let t=this.element;t.addClass("compacted handmade"),t.removeClass("expanded"),this._recalc()},expand:function(){let t=this.element;t.addClass("expanded"),t.removeClass("compacted handmade"),this._recalc()},state(){return this.element.hasClass("expanded")?"expand":"compact"},changeAttribute:(t,i)=>{},destroy:function(){let t=this.element;t.off(e.events.click,".pull-button, .holder"),t.off(e.events.click,".navview-menu li"),t.off(e.events.click,".navview-menu li > a"),this.paneToggle!==null&&this.paneToggle.off(e.events.click),a(globalThis).off(e.events.resize,{ns:this.id}),t.remove()}})})(Metro,Dom),((e,a)=>{let f={container:null,width:220,timeout:3e3,duration:200,distance:"max",animation:"linear",clsNotify:"",onClick:e.noop,onClose:e.noop,onShow:e.noop,onAppend:e.noop,onNotifyCreate:e.noop};e.notifySetup=i=>{f=a.extend({},f,i)},typeof globalThis.metroNotifySetup<"u"&&e.notifySetup(globalThis.metroNotifySetup);let t={container:null,options:{},notifies:[],setup:function(i){return this.options=a.extend({},f,i),this},reset:function(){let i={width:220,timeout:3e3,duration:200,distance:"max",animation:"linear"};this.options=a.extend({},f,i)},_createContainer:()=>{let i=a("<div>").addClass("notify-container");return a("body").prepend(i),i},create:function(i,r,d={}){let m=this,_=this.options,C,k,E=e.utils.elementId("notify");if(!i)return!1;C=a("<div>").addClass("notify").addClass(_.clsNotify).attr("id",E),C.css({width:_.width}),r&&(k=a("<div>").addClass("notify-title").html(r),C.prepend(k)),a("<div>").addClass("notify-message").html(i).appendTo(C),d.clsNotify&&C.addClass(d.clsNotify),d.width!==void 0&&C.css({width:d.width}),C.on(e.events.click,function(){e.utils.exec(e.utils.isValue(d.onClick)?d.onClick:_.onClick,null,this),m.kill(a(this).closest(".notify"),e.utils.isValue(d.onClose)?d.onClose:_.onClose)}),t.container===null&&(t.container=t._createContainer()),C.appendTo(t.container),C.hide(()=>{e.utils.exec(e.utils.isValue(d.onAppend)?d.onAppend:_.onAppend,null,C[0]);let F=e.utils.isValue(d.duration)?d.duration:_.duration,P=e.utils.isValue(d.animation)?d.animation:_.animation,U=e.utils.isValue(d.distance)?d.distance:_.distance;(U==="max"||Number.isNaN(U))&&(U=a(globalThis).height()),C.show().animate({draw:{marginTop:[U,4],opacity:[0,1]},dur:F,ease:P,onDone:function(){e.utils.exec(_.onNotifyCreate,null,this),d!==void 0&&d.keepOpen===!0||setTimeout(()=>{m.kill(C,e.utils.isValue(d.onClose)?d.onClose:_.onClose)},_.timeout),e.utils.exec(e.utils.isValue(d.onShow)?d.onShow:_.onShow,null,C[0])}})})},kill:function(i,r){i.off(e.events.click),i.zoomOut(300,"linear",()=>{e.utils.exec(r||this.options.onClose,null,i[0]),i.remove()})},killAll:function(){let i=this,r=a(".notify");a.each(r,function(){i.kill(a(this))})}};e.notify=t.setup()})(Metro,Dom),((e,a)=>{let f={tabsDeferred:0,expand:!1,expandPoint:null,type:"default",updateUri:!1,position:"top",align:"left",link:"",clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:e.noop,onTabOpen:e.noop,onTabClose:e.noop,onBeforeTab:e.noop_true,onTabsCreate:e.noop};e.tabsSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroTabsSetup<"u"&&e.tabsSetup(globalThis.metroTabsSetup),e.Component("tabs",{init:function(t,i){return this._super(i,t,f,{_targets:[],id:e.utils.elementId("tabs")}),this},_create:function(){let t=this.element,i=t.find(".active")[0];this._createStructure(),this._createEvents(),this._open(i),this._fireEvent("tabs-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r=t.wrap("<div>").addClass("tabs"),d;r.addClass(`tabs-${i.position}`),t.addClass("tabs-list"),t.addClass(`tabs-${i.type}`),t.addClass(`align-${i.align}`),t.data("expanded",!1);let m=a("<div>").addClass("expand-title");if(r.prepend(m),d=r.find(".hamburger"),d.length===0){d=a("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(r);for(let _=0;_<3;_++)a("<span>").addClass("line").appendTo(d)}r.addClass(i.clsTabs),t.addClass(i.clsTabsList),t.children("li").addClass(i.clsTabsListItem),i.expand===!0?["left","right"].includes(i.position)||r.addClass("tabs-expand"):e.utils.isValue(i.expandPoint)&&e.utils.mediaExist(i.expandPoint)&&!["left","right"].includes(i.position)&&r.addClass("tabs-expand"),["left","right"].includes(i.position)&&r.addClass("tabs-expand")},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.parent();a(globalThis).on(e.events.resize,()=>{["left","right"].includes(r.position)||(r.expand===!0?["left","right"].includes(r.position)||d.addClass("tabs-expand"):e.utils.isValue(r.expandPoint)&&e.utils.mediaExist(r.expandPoint)&&!["left","right"].includes(r.position)?d.hasClass("tabs-expand")||d.addClass("tabs-expand"):d.hasClass("tabs-expand")&&d.removeClass("tabs-expand"))},{ns:this.id}),d.on(e.events.click,".hamburger, .expand-title",()=>{i.data("expanded")===!1?(i.addClass("expand"),i.data("expanded",!0),d.find(".hamburger").addClass("active")):(i.removeClass("expand"),i.data("expanded",!1),d.find(".hamburger").removeClass("active"))}),i.on(e.events.click,"li",function(m){let _=a(this).children("a"),C=_.attr("href").trim(),k=_.parent("li");if(t._fireEvent("tab",{tab:k[0],target:k.children("a").href()}),k.hasClass("active"),i.data("expanded")===!0&&(i.removeClass("expand"),i.data("expanded",!1),d.find(".hamburger").removeClass("active")),e.utils.exec(r.onBeforeTab,[k,i],k[0])!==!0)return!1;C&&(C.startsWith("#")?(t._open(k),m.preventDefault()):globalThis.location.href=C)}),a(globalThis).on("hashchange",()=>{let m,_;r.updateUri&&(m=globalThis.location.hash,_=t._findTabByTarget(m),t._open(a(_)))})},_findTabByTarget:function(t){let i=this.element.find("li"),r;return i.each((d,m)=>{!r&&a(m).children("a").attr("href")===t&&(r=m)}),r},_collectTargets:function(){let t=this,i=this.element.find("li");this._targets=[],a.each(i,function(){let r=a(this);if(r.hasClass("divider"))return;let d=r.find("a").attr("href").trim();d.length>1&&d[0]==="#"&&t._targets.push(d)})},_open:function(t){let i=this.element,r=this.options,d=i.find("li"),m=i.siblings(".expand-title"),_=i.find("li.active");if(d.length===0)return;this._collectTargets();let C=a(typeof t>"u"?d[0]:t),k=C.find("a").attr("href"),E=C.index();k!==void 0&&(d.removeClass("active").removeClass(r.clsTabsListItemActive),C.parent().hasClass("d-menu")?C.parent().parent().addClass("active"):C.addClass("active"),r.link&&a(`[data-link=${r.link}]`).each((F,P)=>{if(P===this.elem)return;let U=a(P).find("li");U.length&&U[E]&&U[E].click()}),a.each(this._targets,function(){let F=a(this);F.length>0&&F.hide()}),k!=="#"&&k[0]==="#"&&(r.updateUri&&(globalThis.location.hash=k),a(k).show()),m.html(C.find("a").html()),C.addClass(r.clsTabsListItemActive),_.is(C)||(this._fireEvent("tab-open",{tab:C[0],target:C.children("a").attr("href")}),this._fireEvent("tab-close",{tab:_[0],target:_.children("a").attr("href")})))},next:function(){let t=this.element,i;i=t.find("li.active").next("li"),i.length>0&&this._open(i)},prev:function(){let t=this.element,i;i=t.find("li.active").prev("li"),i.length>0&&this._open(i)},openByTarget:function(t){let i=this._findTabByTarget(t);i&&this._open(a(i))},openByIndex:function(t){let i=this.element.find("li");e.utils.isValue(i[t])&&this._open(a(i[t]))},open:function(t=1){let i=this.element.find("li");e.utils.isInt(t)?e.utils.isValue(i[t-1])&&this._open(a(i[t-1])):this._open(a(t))},changeAttribute:()=>{},destroy:function(){let t=this.element,i=t.parent();a(globalThis).off(e.events.resize,{ns:this.id}),i.off(e.events.click,".hamburger, .expand-title"),t.off(e.events.click,"a"),t.remove()}})})(Metro,Dom),((e,a)=>{let f=`<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z"/>
        <path d="M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z"/>
    </svg>`,t=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 9.781v10.667h8.885v1.771h7.115v-1.771h16v-10.667zM8.885 18.661h-1.771v-5.333h-1.781v5.333h-3.552v-7.104h7.104zM14.219 18.661v1.787h-3.552v-8.891h7.115v7.109h-3.563zM30.224 18.661h-1.776v-5.333h-1.781v5.333h-1.781v-5.333h-1.771v5.333h-3.563v-7.104h10.672zM14.219 13.333h1.781v3.557h-1.781z"/>
    </svg>`,i=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M30,10.75H21.251V2H30Z" />
        <path d="M20.374,10.75h-8.75V2h8.75Z" />
        <path d="M10.749,10.75H2V2h8.749Z" />
        <path d="M30,20.375H21.251v-8.75H30Z" />
        <path d="M20.374,20.375h-8.75v-8.75h8.75Z"/>
        <path d="M20.374,30h-8.75V21.25h8.75Z"/>
        <path d="M30,30H21.251V21.25H30Z" />
        <path d="M10.749,30H2V21.25h8.749Z" />
    </svg>`,r=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M28.208,24.409a10.493,10.493,0,0,0-3.959,1.822,23.743,23.743,0,0,1-5.835,2.642,1.632,1.632,0,0,1-.983.55A62.228,62.228,0,0,1,10.984,30c-1.163.009-1.876-.3-2.074-.776a1.573,1.573,0,0,1,.866-2.074,3.759,3.759,0,0,1-.514-.379c-.171-.171-.352-.514-.406-.388-.225.55-.343,1.894-.947,2.5-.83.839-2.4.559-3.328.072-1.019-.541.072-1.813.072-1.813a.73.73,0,0,1-.992-.343,4.847,4.847,0,0,1-.667-2.949,5.374,5.374,0,0,1,1.749-2.895,9.334,9.334,0,0,1,.658-4.4,10.445,10.445,0,0,1,3.165-3.661S6.628,10.747,7.35,8.817c.469-1.262.658-1.253.812-1.308a3.633,3.633,0,0,0,1.452-.857,5.265,5.265,0,0,1,4.41-1.7S15.2,1.4,16.277,2.09a18.349,18.349,0,0,1,1.533,2.886s1.281-.748,1.425-.469a11.334,11.334,0,0,1,.523,6.132,14.01,14.01,0,0,1-2.6,5.411c-.135.225,1.551.938,2.615,3.887.983,2.7.108,4.96.262,5.212.027.045.036.063.036.063s1.127.09,3.391-1.308A8.5,8.5,0,0,1,27.739,22.3a1.081,1.081,0,0,1,.469,2.11Z"/>
    </svg>`,d=`<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.966 22.566c6.609 0 11.966-4.326 11.966-9.661 0-3.308-2.051-6.23-5.204-7.963-1.283-.713-2.291-1.353-3.13-1.885-1.58-1.004-2.555-1.623-3.632-1.623-1.094 0-2.327.783-3.955 1.816a49.78 49.78 0 0 1-2.808 1.692C2.051 6.675 0 9.597 0 12.905c0 5.335 5.357 9.66 11.966 9.66Zm-1.397-17.83a5.885 5.885 0 0 0 .497-2.403c0-.144.201-.186.229-.028.656 2.775-.9 4.15-2.051 4.61-.124.048-.199-.12-.103-.208a5.748 5.748 0 0 0 1.428-1.971Zm2.052-.102a5.795 5.795 0 0 0-.78-2.3v-.015c-.068-.123.086-.263.185-.172 1.956 2.105 1.303 4.055.554 5.037-.082.102-.229-.003-.188-.126a5.837 5.837 0 0 0 .229-2.424Zm1.771-.559a5.708 5.708 0 0 0-1.607-1.801V2.26c-.112-.085-.024-.274.113-.218 2.588 1.084 2.766 3.171 2.452 4.395a.116.116 0 0 1-.048.071.11.11 0 0 1-.153-.026.118.118 0 0 1-.022-.083 5.864 5.864 0 0 0-.735-2.324Zm-5.072.559c-.616.544-1.279.758-2.058.997-.116 0-.194-.078-.155-.18 1.747-.907 2.369-1.645 2.99-2.771 0 0 .155-.117.188.085 0 .303-.348 1.325-.965 1.869Zm4.931 11.205a2.949 2.949 0 0 1-.935 1.549 2.16 2.16 0 0 1-1.282.618 2.167 2.167 0 0 1-1.323-.618 2.95 2.95 0 0 1-.923-1.549.243.243 0 0 1 .064-.197.23.23 0 0 1 .192-.069h3.954a.226.226 0 0 1 .19.07.239.239 0 0 1 .063.196Zm-5.443-2.17a1.85 1.85 0 0 1-2.377-.244 1.969 1.969 0 0 1-.233-2.44c.207-.318.502-.565.846-.711a1.84 1.84 0 0 1 1.089-.11c.365.075.701.26.964.53.264.27.443.616.515.99a1.98 1.98 0 0 1-.108 1.118 1.923 1.923 0 0 1-.696.866Zm8.471.005a1.849 1.849 0 0 1-2.374-.252 1.956 1.956 0 0 1-.546-1.362c0-.383.11-.758.319-1.076.207-.318.502-.566.847-.711a1.84 1.84 0 0 1 1.09-.108c.366.076.702.261.965.533s.44.617.512.993a1.98 1.98 0 0 1-.113 1.118 1.922 1.922 0 0 1-.7.865Z"/>
    </svg>`,m={link:"package-manager",default:"npm",deps:"",package:"",onPackageManagerCreate:e.noop};e.packageManagerSetup=_=>{m=a.extend({},m,_)},typeof globalThis.metroPackageManagerSetup<"u"&&e.packageManagerSetup(globalThis.metroPackageManagerSetup),e.Component("package-manager",{init:function(_,C){return this._super(C,_,m,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("component-create")},_createStructure:function(){let _=this.element,C=this.options,k=new Date().getTime(),E=Hooks.useId(`pm-npm-${k}`),F=Hooks.useId(`pm-pnpm-${k}`),P=Hooks.useId(`pm-yarn-${k}`),U=Hooks.useId(`pm-bun-${k}`);_.addClass("package-manager"),_.html(`
                <ul data-role="tabs" data-expand="true" data-link="${C.link}">
                    <li class="${C.default==="npm"?"active":""}"><a href="#${E}">${t} npm</a></li>
                    <li class="${C.default==="pnpm"?"active":""}"><a href="#${F}">${i} pnpm</a></li>
                    <li class="${C.default==="yarn"?"active":""}"><a href="#${P}">${r} yarn</a></li>
                    <li class="${C.default==="bun"?"active":""}"><a href="#${U}">${d} bun</a></li>
                </ul>
                <div>
                    <div class="pm-command" id="${E}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>npm i ${C.deps===""?"":C.deps==="dev"?"-D":""} ${C.package}</code>
                    </div>
                    <div class="pm-command" id="${F}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>pnpm add ${C.deps===""?"":C.deps==="dev"?"-D":"--save-peer"} ${C.package}</code>
                    </div>
                    <div class="pm-command" id="${P}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>yarn add ${C.deps===""?"":C.deps==="dev"?"-D":"-P"} ${C.package}</code>
                    </div>
                    <div class="pm-command" id="${U}">
                        <button class="small square"><span class="icon">${f}</span></button>
                        <code>bun add ${C.deps===""?"":C.deps==="dev"?"-D":"--peer"} ${C.package}</code>
                    </div>
                </div>
            `)},_createEvents:function(){let _=this.element;this.options,_.on("click",".pm-command button",function(){let C=a(this).parent().find("code").text();e.utils.copy2clipboard(C)})},changeAttribute:(_,C)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={appendButton:!0,tabsPosition:"left",customButtons:null,activateNewTab:!0,defaultNewTabTitle:"New File",defaultNewCanClose:!0,defaultNewTabIcon:"",defaultNewTabImage:"",defaultNewTabPosition:"before",appendActions:null,tabsActions:null,tabActions:null,refControl:!1,onAppendButtonClick:e.noop,onTabCreate:e.noop_arg,onTabActivate:e.noop,onTabDeactivate:e.noop,onTabBeforeClose:e.noop_true,onTabClose:e.noop,onTabRename:e.noop,onTabPropChange:e.noop,onTabOrganized:e.noop};e.pageControlSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroPageControlSetup<"u"&&e.pageControlSetup(globalThis.metroPageControlSetup),e.Component("page-control",{init:function(t,i){return this._super(i,t,f,{newFileIndex:1,invisibleTabsHolderToggle:null,invisibleTabsHolder:null}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("page-control-create")},_createStructure:function(){let t=this.element,i=this.options;this.component=a("<div>").addClass("page-control").insertBefore(t),t.addClass("page-control__tabs").appendTo(this.component),t.addClass(`tabs-position-${i.tabsPosition}`);let r=t.children("li:not(.page-control__tab-custom)"),d=!1;if(r.each((C,k)=>{let E=a(k),F=E.html(),P=E.hasClass("active"),U=this.createTab({caption:F,icon:E.attr("data-icon"),image:E.attr("data-image"),canClose:E.attr("data-close")!=="false",data:E.attr("data-data"),ref:E.attr("data-ref")});P&&!d&&(d=!0,U.addClass("active"),this._fireEvent("tab-activate",{tab:U[0]})),t.append(U),E.remove()}),!d){let C=this.element.children(".page-control__tab").first();C.addClass("active"),this._fireEvent("tab-activate",{tab:C[0]})}if(i.refControl&&this._updateRefs(),i.appendButton){let C=a("<li>").addClass("page-control__tab__append").html('<span class="toggle">+</span>');if(i.appendActions){let k=e.utils.exec(i.appendActions,null,this);if(!Array.isArray(k))throw"PageControl Error! Prop appendActions must be a function that returns an array.";let E=a("<ul data-role='dropdown' class='d-menu context'>");k.map(F=>E.append(this._renderMenuItem(F))),C.append(E)}t.append(C)}let m=a("<li>").addClass("page-control__tab__service").addClass("invisible-tabs").appendTo(t);m.append(a("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">↧</span>
                    <ul class="d-menu place-right context page-control__invisible_tabs_holder"></ul>
                `)),this.invisibleTabsHolderToggle=m.find(".page-control__tab__service.invisible-tabs > .page-control__service-button"),this.invisibleTabsHolder=e.makePlugin(m.find(".page-control__invisible_tabs_holder"),"dropdown",{onClick:C=>{let k=a(C.target.parentNode);k.hasClass("page-control__tab__closer")?this.closeButtonClick(C):this.activateTab(k[0]),C.preventDefault(),C.stopPropagation()}}),this.invisibleTabsHolderToggle.hide(),this.organizeTabs();let _=a("<li>").addClass("page-control__tab__service").addClass("tabs-menu").appendTo(t);if(_.append(a("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">︙</span>
                    <ul class="d-menu place-right context" data-role="dropdown"></ul>
                `)),!i.tabsActions)_.hide();else{let C=_.find("ul");e.utils.exec(i.tabsActions,null,this).map(k=>C.append(this._renderMenuItem(k)))}},_updateRefs:function(){let t=this.element.find(".page-control__tab"),i=this.element.find(".page-control__tab.active");t.each((r,d)=>a(a(d).data("ref")).hide()),a(i.data("ref")).show()},_createEvents:function(){let t=this,i=this.element,r=this.options;i.on("click",".page-control__tab__closer",this.closeButtonClick.bind(this)),i.on("click",".page-control__tab__menu > li > a",function(d){let m=a(this).attr("data-action"),_=e.getPlugin(a(this).closest("ul"),"dropdown"),C=a(this).closest(".page-control__tab")[0];switch(_.close(),m){case"close":{t.closeTab(C);break}case"close-all":{t.closeAll();break}case"close-other":{t.closeOtherTabs(C);break}case"close-inactive":{t.closeInactiveTabs();break}case"close-left":{t.closeTabsOnTheLeft(C);break}case"close-right":{t.closeTabsOnTheRight(C);break}case"rename":{t.renameTab(C);break}}d.preventDefault(),d.stopPropagation()}),i.on("click",".page-control__tab",function(){a(this).hasClass("active")||t.activateTab(this)}),i.on("click",".page-control__tab__append > span",d=>{d.preventDefault(),d.stopPropagation();let m=t.createTab({caption:`${r.defaultNewTabTitle} ${t.newFileIndex++}`,canClose:r.defaultNewCanClose,icon:r.defaultNewTabIcon,image:r.defaultNewTabImage,data:null});t._fireEvent("tab-append",{tab:m}),t.activateTab(m),t.organizeTabs(),t._fireEvent("append-button-click",{tab:m})}),a(globalThis).on("resize",()=>{this.organizeTabs()})},_renderMenuItem:t=>{let i=a("<li>"),r=a("<a>");return(t.icon||t.image)&&r.append(t.icon?a("<span class='icon'>").addClass(t.icon):a("<img class='icon'>").attr("src",t.image).attr("alt","")),t.title&&r.append(a("<span>").addClass("caption").text(t.title)),r.data("data",t.data),t.onclick&&r.on("click",d=>t.onclick(d)),i.append(r),i},createTab:function({caption:t,icon:i,image:r,canClose:d=!0,hasMenu:m=!0,data:_,ref:C}){let k=this.element,E=this.options,F=a("<li>").addClass("page-control__tab").appendTo(k);if(m&&(F.append(a("<div>").addClass("page-control__tab__menu__holder").html(`
                        <span class="">︙</span>
                        <ul class="d-menu context page-control__tab__menu" data-role="dropdown">
                            <li><a data-action="rename">${this.strings.label_rename_tab}</a></li>
                            <li class="divider"></li>
                            <li><a data-action="close">${this.strings.label_close_tab}</a></li>
                            <li><a data-action="close-other">${this.strings.label_close_other_tabs}</a></li>
                            <li><a data-action="close-left">${this.strings.label_close_tabs_left}</a></li>
                            <li><a data-action="close-right">${this.strings.label_close_tabs_right}</a></li>
                            <li><a data-action="close-all">${this.strings.label_close_all_tabs}</a></li>
                            <li><a data-action="close-inactive">${this.strings.label_close_inactive_tabs}</a></li>
                        </ul>
                    `)),E.tabActions)){let P=F.find("ul"),U=e.utils.exec(E.tabActions);if(!Array.isArray(U))throw"PageControl Error! Prop tabActions must be a function that returns an array.";P.append(a("<li class='divider'>")),U.map(Y=>P.append(this._renderMenuItem(Y)))}return(i||r)&&F.append(a("<span>").addClass("page-control__tab__icon").html(i?`<span class="${i}">`:`<img src="${r}" alt=""/>`)),F.append(a("<span>").addClass("page-control__tab__caption").html(t)),d&&F.append(a("<span>").addClass("page-control__tab__closer").html("<span>✕</span>")),F.data("data",_),F.data("ref",C),this._fireEvent("tab-create",{tab:F[0]}),k[E.defaultNewTabPosition==="before"?"prepend":"append"](F),F[0]},closeButtonClick:function(t){let i=this.options,r=a(t.target).closest(".page-control__tab"),d=r.closest("ul");i.onTabBeforeClose(r[0])&&(this.closeTab(r[0]),d.hasClass("page-control__invisible_tabs_holder")&&d.children(".page-control__tab").length===0&&(e.getPlugin(this.invisibleTabsHolder,"dropdown").close(),this.invisibleTabsHolderToggle.hide()),t.preventDefault(),t.stopPropagation())},closeTab:function(t,i=!0){let r=a(t);if(r.hasClass("active")){let d=r.prev(".page-control__tab"),m=r.next(".page-control__tab");d.length?this.activateTab(d[0]):m.length?this.activateTab(m[0]):r.parent().hasClass("page-control__invisible_tabs_holder")&&parent.children(".page-control__tab").length===1&&element.children(".page-control__tab").length&&this.activateTab(element.children(".page-control__tab").last()[0])}return this._fireEvent("tab-close",{tab:t}),this.options.refControl&&a(r.data("ref")).remove(),r.remove(),i&&this.organizeTabs(),this},activateTab:function(t){let i=this.element,r=this.options;return i.find(".page-control__tab").each((d,m)=>{let _=a(m);_.hasClass("active")&&(this._fireEvent("tab-deactivate",{tab:m}),_.removeClass("active"))}),a(t).addClass("active"),r.refControl&&this._updateRefs(),this._fireEvent("tab-activate",{tab:t}),a(t).parent().hasClass("page-control__invisible_tabs_holder")&&(i.prepend(t),this.organizeTabs()),this},organizeTabs:function(){let t=this.element,i=this.elem.getBoundingClientRect().width,r=this.invisibleTabsHolder,d=t.find(".page-control__tab__append");r.children(".page-control__tab").each((C,k)=>{let E=a(k);d.length?E.insertBefore(d):E.appendTo(t)});let m=t.children(".page-control__tab"),_=0;for(let C of m){let k=C.getBoundingClientRect();if(_+k.width+50>i){a(C).nextAll(".page-control__tab").appendTo(r),a(C).appendTo(r);break}_+=k.width}r.children().length?this.invisibleTabsHolderToggle.show(function(){a(this).css({display:"flex"})}):this.invisibleTabsHolderToggle.hide(),this._fireEvent("tab-organized",null)},addTab:function({caption:t,icon:i,image:r,canClose:d=!0,hasMenu:m=!0,data:_,ref:C},k="before"){let E=this.options,F=this.createTab({caption:t,icon:i,image:r,canClose:d,hasMenu:m,data:_,ref:C});return E.activateNewTab&&this.activateTab(F),this.element[k==="before"?"prepend":"append"](F),this.organizeTabs(),F},getActiveTab:function(){return this.component.find(".page-control__tab.active")[0]},getActiveTabIndex:function(){return this.component.find(".page-control__tab").index(".active",!1)},getTabByIndex:function(t){return this.component.find(".page-control__tab").get(t)},getTabByTitle:function(t){if(!t)return;let i=this.component.find(".page-control__tab");for(let r of i)if(a(r).find(".caption").text()===t)return r},closeAll:function(){return this.component.find(".page-control__tab").each((t,i)=>{this.closeTab(i,!1)}),this.organizeTabs(),this},closeInactiveTabs:function(){return this.component.find(".page-control__tab").each((t,i)=>{a(i).hasClass("active")||this.closeTab(i,!1)}),this.organizeTabs(),this},closeOtherTabs:function(t){let i=typeof t=="number"?this.getTabByIndex(t):a(t);return this.component.find(".page-control__tab").each((r,d)=>{i[0]!==d&&this.closeTab(d,!1)}),this.activateTab(t),this.organizeTabs(),this},closeTabsOnTheLeft:function(t){let i=this.component.find(".page-control__tab").indexOf(a(t));return this.component.find(".page-control__tab").each((r,d)=>{r<i&&this.closeTab(d,!1)}),this.organizeTabs(),this},closeTabsOnTheRight:function(t){let i=this.component.find(".page-control__tab").indexOf(a(t));return this.component.find(".page-control__tab").each((r,d)=>{r>i&&this.closeTab(d,!1)}),this.organizeTabs(),this},setupTab:function(t,i,r){let d=a(t);switch(i){case"caption":{d.find(".page-control__tab__caption").text(r);break}case"icon":{d.find(".page-control__tab__icon")[0].className=r;break}case"image":{d.find(".page-control__tab__image").attr("src",r);break}case"data":{d.data("data",r);break}case"ref":{d.data("ref",r);break}}this._fireEvent("tab-prop-change",{tab:t}),this.organizeTabs()},renameTab:function(t){let i=a(t).find(".page-control__tab__caption");e.dialog.create({title:this.strings.label_rename_tab,content:`
                    <form style="width: 100%">
                        <input type="text" data-role="input" value="${i.text()}">
                    </form>
                `,defaultActions:!1,customButtons:[{text:this.strings.label_ok,cls:"js-dialog-close info",onclick:r=>{this.setupTab(t,"caption",r.find("input").val())}},{text:this.strings.label_cancel,cls:"js-dialog-close"}]})},changeAttribute:(t,i)=>{},destroy:function(){this.component.remove()}})})(Metro,Dom),((e,a)=>{e.pagination=f=>{let t={length:0,rows:0,current:0,target:"body",clsPagination:"",prevTitle:"",nextTitle:"",distance:5,islandSize:3,shortTrack:10,lang:void 0},i,r,d,m=a.extend({},t,f),_=Number.parseInt(m.distance),C=Number.parseInt(m.shortTrack),k=Number.parseInt(m.islandSize),E=Number.parseInt(m.length),F=Number.parseInt(m.rows),P=Math.ceil(E/F),U=Number.parseInt(m.current),Y=a(m.target).html(""),ee=a("<ul>").addClass("pagination").addClass(m.clsPagination).appendTo(Y),Ae=m.lang||Y.closest("[lang]").attr("lang")||"en";e.locales[Ae]===void 0&&(Ae="en");let $e=e.locales[Ae];if(E===0||F===-1)return;let ze=(Re,Se,Le)=>{let Me=a("<li>").addClass("page-item").addClass(Se),Fe=a("<a>").addClass("page-link").html(Re);return Fe.data("page",Le),Fe.appendTo(Me),Me};if(r=ze(m.prevTitle||$e.label_prev,"service prev-page","prev"),ee.append(r),ee.append(ze(1,U===1?"active":"",1)),_===0||P<=C)for(i=2;i<P;i++)ee.append(ze(i,i===U?"active":"",i));else if(U<_){for(i=2;i<=_;i++)ee.append(ze(i,i===U?"active":"",i));P>_&&ee.append(ze("...","no-link",null))}else if(U<=P&&U>P-_+1)for(P>_&&ee.append(ze("...","no-link",null)),i=P-_+1;i<P;i++)ee.append(ze(i,i===U?"active":"",i));else{ee.append(ze("...","no-link",null));for(let Re=k;Re>0;Re--)ee.append(ze(U-Re,"",U-Re));ee.append(ze(U,"active",U));for(let Re=1;Re<=k;Re++)ee.append(ze(U+Re,"",U+Re));ee.append(ze("...","no-link",null))}return(P>1||U<P)&&ee.append(ze(P,U===P?"active":"",P)),d=ze(m.nextTitle||$e.label_next,"service next-page","next"),ee.append(d),U===1&&r.addClass("disabled"),U===P&&d.addClass("disabled"),E===0&&(ee.addClass("disabled"),ee.children().addClass("disabled")),ee}})(Metro,Dom),((e,a)=>{let f='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',t={panelDeferred:0,id:null,titleCaption:"",titleIcon:"",collapsible:!1,collapsed:!1,collapseDuration:100,width:"auto",height:"auto",draggable:!1,customButtons:null,clsCustomButton:"",clsPanel:"",clsTitle:"",clsTitleCaption:"",clsTitleIcon:"",clsContent:"",clsCollapseToggle:"",onCollapse:e.noop,onExpand:e.noop,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onPanelCreate:e.noop};e.panelSetup=i=>{t=a.extend({},t,i)},typeof globalThis.metroPanelSetup<"u"&&e.panelSetup(globalThis.metroPanelSetup),e.Component("panel",{init:function(i,r){return this._super(r,i,t),this},_addCustomButtons:function(i){let r=this.element,d=this.options,m=r.closest(".panel").find(".panel-title"),_,C=[];if(C=e.utils.isObject(i),!C){console.warn("Unknown format for custom buttons",i);return}if(m.length===0){console.warn("No place for custom buttons");return}return _=m.find(".custom-buttons"),_.length===0?_=a("<div>").addClass("custom-buttons").appendTo(m):(_.find(".btn-custom").off(e.events.click),_.html("")),a.each(C,function(){let k=a("<span>");k.addClass("button btn-custom").addClass(d.clsCustomButton).addClass(this.cls).attr("tabindex",-1).html(this.html),this.attr&&typeof this.attr=="object"&&a.each(this.attr,(E,F)=>{k.attr(Str.dashedName(E),F)}),k.data("action",this.onclick),_.prepend(k)}),m.on(e.events.click,".btn-custom",function(k){if(e.utils.isRightMouse(k))return;let E=a(this),F=E.data("action");e.utils.exec(F,[E],this)}),this},_create:function(){let i=this.element,r=this.options,d=a("<div>").addClass("panel").addClass(r.clsPanel),m=r.id?r.id:e.utils.elementId("panel"),_=i[0].className,C;if(d.attr("id",m).addClass(_),d.insertBefore(i),i.appendTo(d),i[0].className="",i.addClass("panel-content").addClass(r.clsContent).appendTo(d),r.titleCaption!==""||r.titleIcon!==""||r.collapsible===!0){if(C=a("<div>").addClass("panel-title").addClass(r.clsTitle),r.titleCaption!==""&&a("<span>").addClass("caption").addClass(r.clsTitleCaption).html(r.titleCaption).appendTo(C),r.titleIcon!==""&&a(r.titleIcon).addClass("icon").addClass(r.clsTitleIcon).appendTo(C),r.collapsible===!0){let k=a("<span>").addClass("dropdown-toggle marker-center active-toggle").addClass(r.clsCollapseToggle).appendTo(C);k.append(f),e.makePlugin(i,"collapse",{toggleElement:k,duration:r.collapseDuration,onCollapse:r.onCollapse,onExpand:r.onExpand}),r.collapsed===!0&&this.collapse()}C.appendTo(d)}if(C&&e.utils.isValue(r.customButtons)&&this._addCustomButtons(r.customButtons),r.draggable===!0){let k;C?k=C.find(".caption, .icon"):k=d,e.makePlugin(d,"draggable",{dragContext:d[0],dragElement:k,onDragStart:r.onDragStart,onDragStop:r.onDragStop,onDragMove:r.onDragMove})}r.width!=="auto"&&Number.parseInt(r.width)>=0&&d.outerWidth(Number.parseInt(r.width)),r.height!=="auto"&&Number.parseInt(r.height)>=0&&(d.outerHeight(Number.parseInt(r.height)),i.css({overflow:"auto"})),this.panel=d,this._fireEvent("panel-create",{element:i,panel:d})},customButtons:function(i){return this._addCustomButtons(i)},collapse:function(){let i=this.element;e.utils.isMetroObject(i,"collapse")!==!1&&e.getPlugin(i,"collapse").collapse()},open:function(){this.expand()},close:function(){this.collapse()},expand:function(){let i=this.element;e.utils.isMetroObject(i,"collapse")!==!1&&e.getPlugin(i,"collapse").expand()},changeAttribute:(i,r)=>{},destroy:function(){let i=this.element,r=this.options;return r.collapsible===!0&&e.getPlugin(i,"collapse").destroy(),r.draggable===!0&&e.getPlugin(i,"draggable").destroy(),i}})})(Metro,Dom),((e,a)=>{let f={popoverDeferred:0,popoverText:"",popoverHide:3e3,popoverTimeout:10,popoverOffset:10,popoverTrigger:e.popoverEvents.HOVER,popoverPosition:e.position.TOP,hideOnLeave:!1,closeButton:!0,clsPopover:"",clsPopoverContent:"",onPopoverShow:e.noop,onPopoverHide:e.noop,onPopoverCreate:e.noop};e.popoverSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroPopoverSetup<"u"&&e.popoverSetup(globalThis.metroPopoverSetup),e.Component("popover",{init:function(t,i){return this._super(i,t,f,{popover:null,popovered:!1,size:{width:0,height:0},id:e.utils.elementId("popover")}),this},_create:function(){this._createEvents(),this._fireEvent("popover-create",{element:this.element})},_createEvents:function(){let t=this.element,i=this.options,r;switch(i.popoverTrigger){case e.popoverEvents.CLICK:r=e.events.click;break;case e.popoverEvents.FOCUS:r=e.events.focus;break;default:r=e.events.enter}t.on(r,()=>{this.popover!==null||this.popovered===!0||setTimeout(()=>{this.createPopover(),this._fireEvent("popover-show",{popover:this.popover}),i.popoverHide>0&&setTimeout(()=>{this.removePopover()},i.popoverHide)},i.popoverTimeout)}),i.hideOnLeave===!0&&t.on(e.events.leave,()=>{this.removePopover()}),a(globalThis).on(e.events.scroll,()=>{this.popover!==null&&this.setPosition()},{ns:this.id})},setPosition:function(){let t=this.popover,i=this.size,r=this.options,d=this.element;r.popoverPosition===e.position.BOTTOM?(t.addClass("bottom"),t.css({top:d.offset().top-a(globalThis).scrollTop()+d.outerHeight()+r.popoverOffset,left:d.offset().left+d.outerWidth()/2-i.width/2-a(globalThis).scrollLeft()})):r.popoverPosition===e.position.RIGHT?(t.addClass("right"),t.css({top:d.offset().top+d.outerHeight()/2-i.height/2-a(globalThis).scrollTop(),left:d.offset().left+d.outerWidth()-a(globalThis).scrollLeft()+r.popoverOffset})):r.popoverPosition===e.position.LEFT?(t.addClass("left"),t.css({top:d.offset().top+d.outerHeight()/2-i.height/2-a(globalThis).scrollTop(),left:d.offset().left-i.width-a(globalThis).scrollLeft()-r.popoverOffset})):(t.addClass("top"),t.css({top:d.offset().top-a(globalThis).scrollTop()-i.height-r.popoverOffset,left:d.offset().left+d.outerWidth()/2-i.width/2-a(globalThis).scrollLeft()}))},createPopover:function(){let t=this.elem,i=this.element,r=this.options,d,m,_=e.utils.elementId("popover"),C;if(!this.popovered){switch(d=a("<div>").addClass("popover neb").addClass(r.clsPopover),d.attr("id",_),a("<div>").addClass("popover-content").addClass(r.clsPopoverContent).html(r.popoverText).appendTo(d),r.popoverHide===0&&r.closeButton===!0&&(C=a("<button>").addClass("square small popover-close-button").html("&times;").appendTo(d),C.on(e.events.click,()=>{this.removePopover()})),r.popoverPosition){case e.position.TOP:m="neb-s";break;case e.position.BOTTOM:m="neb-n";break;case e.position.RIGHT:m="neb-w";break;case e.position.LEFT:m="neb-e";break}if(d.addClass(m),r.closeButton!==!0&&d.on(e.events.click,()=>{this.removePopover()}),this.popover=d,this.size=e.utils.hiddenElementSize(d),t.tagName==="TD"||t.tagName==="TH"){let k=a("<div/>").css("display","inline-block").html(i.html());i.html(k),i=k}this.setPosition(),d.appendTo(a("body")),this.popovered=!0,this._fireEvent("popover-create",{popover:d})}},removePopover:function(){let t=this.options.onPopoverHide===e.noop?0:300,i=this.popover;this.popovered&&(this._fireEvent("popover-hide",{popover:i}),setTimeout(()=>{i.hide(0,()=>{i.remove(),this.popover=null,this.popovered=!1})},t))},show:function(){let t=this.options;this.popovered!==!0&&setTimeout(()=>{this.createPopover(),this._fireEvent("popover-show",{popover:this.popover}),t.popoverHide>0&&setTimeout(()=>{this.removePopover()},t.popoverHide)},t.popoverTimeout)},hide:function(){this.removePopover()},changeAttribute:function(t){let i=this.element,r=this.options,d=()=>{r.popoverText=i.attr("data-popover-text"),this.popover&&(this.popover.find(".popover-content").html(r.popoverText),this.setPosition())},m=()=>{r.popoverPosition=i.attr("data-popover-position"),this.setPosition()};switch(t){case"data-popover-text":d();break;case"data-popover-position":m();break}},destroy:function(){let t=this.element,i=this.options,r;switch(i.popoverTrigger){case e.popoverEvents.CLICK:r=e.events.click;break;case e.popoverEvents.FOCUS:r=e.events.focus;break;default:r=e.events.enter}return t.off(r),i.hideOnLeave===!0&&t.off(e.events.leave),a(globalThis).off(e.events.scroll,{ns:this.id}),t}})})(Metro,Dom),((e,a)=>{let f={progressDeferred:0,showValue:!1,showLabel:!1,label:"Progress:",value:0,buffer:0,type:"bar",small:!1,segmentSize:10,clsProgress:"",clsBack:"",clsBar:"",clsBuffer:"",clsValue:"",clsLabel:"",clsData:"",onValueChange:e.noop,onBufferChange:e.noop,onComplete:e.noop,onBuffered:e.noop,onProgressCreate:e.noop};e.progressSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroProgressSetup<"u"&&e.progressSetup(globalThis.metroProgressSetup),e.Component("progress",{init:function(t,i){return this._super(i,t,f,{value:0,buffer:0}),this},_create:function(){let t=this.element,i=this.elem,r=this.options;typeof r.type=="string"&&(r.type=r.type.toLowerCase()),t.html("").addClass("progress"),this.component=t.wrap("<div>").addClass("progress-component").addClass(r.clsProgress);function d(){i.innerHTML='<div class="bar"></div>'}function m(){i.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                `}function _(){t.addClass("with-load"),i.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                    <div class="load"></div>
                `}function C(){t.addClass("line")}function k(){t.addClass("segments"),t.append('<div class="bar"></div>');let U=t.width(),Y=Math.ceil(U/(r.segmentSize||10));for(let ee=0;ee<Y;ee++)i.innerHTML+=`<div class="segment" style="width: ${r.segmentSize}px"></div>`}switch(r.type){case"buffer":m();break;case"load":_();break;case"line":C();break;case"segment":k();break;default:d()}r.small===!0&&t.addClass("small"),t.addClass(r.clsBack),t.find(".bar").addClass(r.clsBar),t.find(".buffer").addClass(r.clsBuffer);let E=a("<div>").addClass("progress-data").addClass(r.clsData).insertBefore(t),F=a("<div>").addClass("progress-label").addClass(r.clsLabel).html(r.label).appendTo(E),P=a("<div>").addClass("progress-value").addClass(r.clsLabel).html(r.value).appendTo(E);r.showLabel===!1&&F.hide(),r.showValue===!1&&P.hide(),this.val(r.value),this.buff(r.buffer),this._fireEvent("progress-create",{element:t})},val:function(t){let i=this.element,r=this.component.find(".progress-value");if(t===void 0)return this.value;let d=i.find(".bar");if(d.length===0)return!1;this.value=Number.parseInt(t,10),d.css("width",`${this.value}%`),r.html(`${this.value}%`),this._fireEvent("value-change",{val:this.value}),this.value===100&&this._fireEvent("complete",{val:this.value})},buff:function(t){let i=this.element;if(t===void 0)return this.buffer;let r=i.find(".buffer");if(r.length===0)return!1;this.buffer=Number.parseInt(t,10),r.css("width",`${this.buffer}%`),this._fireEvent("buffer-change",{val:this.buffer}),this.buffer===100&&this._fireEvent("buffered",{val:this.buffer})},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(t){switch(t){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break}},destroy:function(){this.component.remove()}})})(Metro,Dom),((e,a)=>{let f={ratingDeferred:0,label:"",static:!1,title:null,value:0,values:null,message:"",stars:5,onColor:null,offColor:null,roundFunc:"round",half:!0,symbol:"★",clsRating:"",clsTitle:"",clsStars:"",clsResult:"",clsLabel:"",onStarClick:e.noop,onRatingCreate:e.noop};e.ratingSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroRatingSetup<"u"&&e.ratingSetup(globalThis.metroRatingSetup),e.Component("rating",{init:function(t,i){return this._super(i,t,f,{value:0,originValue:0,values:[],rate:0,rating:null}),this},_create:function(){let t=this.element,i=this.options,r;if(Number.isNaN(i.value)?i.value=0:i.value=Number.parseFloat(i.value).toFixed(1),i.values!==null)Array.isArray(i.values)?this.values=i.values:typeof i.values=="string"&&(this.values=i.values.toArray());else for(r=1;r<=i.stars;r++)this.values.push(r);this.originValue=i.value,this.value=i.value>0&&i.roundFunc!=="none"?Math[i.roundFunc](i.value):Math.abs(i.value),this._createRating(),this._createEvents(),this._fireEvent("rating-create",{element:t})},_createRating:function(){let t=this.element,i=this.options,r=e.utils.elementId("rating"),d,m,_,C=e.sheet,k=i.static?Math.floor(this.originValue):this.value,E=t.wrap("<div>").addClass(`rating ${t[0].className}`).addClass(i.clsRating);for(t.val(this.value),E.attr("id",t.id()?`rating--${t.id()}`:r),m=a("<ul>").addClass("stars").addClass(i.clsStars).appendTo(E),d=1;d<=i.stars;d++)_=a("<li>").attr("data-symbol",i.symbol).data("value",this.values[d-1]).appendTo(m),d<=k&&_.addClass("on");if(a("<span>").addClass("result").addClass(i.clsResult).appendTo(E).html(i.message),i.offColor!==null&&(i.offColor.includes("var(")||Farbe.Routines.isColor(i.offColor)),i.onColor!==null&&(i.onColor.includes("var(")||Farbe.Routines.isColor(i.onColor))&&(e.utils.addCssRule(C,`#${r} .stars:hover li`,`color: ${i.onColor};`),e.utils.addCssRule(C,`#${r} .stars li.on`,`color: ${i.onColor};`),e.utils.addCssRule(C,`#${r} .stars li.half::after`,`color: ${i.onColor};`)),i.title!==null){let F=a("<span>").addClass("title").addClass(i.clsTitle).html(i.title);E.prepend(F)}if(i.static===!0&&(E.addClass("static"),i.half===!0)){let F=Math.round(this.originValue%1*10);F>0&&F<=9&&E.find(".stars li.on").last().next("li").addClass(`half half-${F*10}`)}if(t[0].className="",i.label){let F=a("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(E);if(t.attr("id"))F.attr("for",t.attr("id"));else{let P=Hooks.useId(t[0]);F.attr("for",P),t.attr("id",P)}t.attr("dir")==="rtl"&&F.addClass("rtl")}t.is(":disabled")?this.disable():this.enable(),this.rating=E},_createEvents:function(){let t=this,i=this.element,r=this.options;this.rating.on(e.events.click,".stars li",function(){if(r.static===!0)return;let d=a(this),m=d.data("value");d.addClass("scale"),setTimeout(()=>{d.removeClass("scale")},300),i.val(m).trigger("change"),d.addClass("on"),d.prevAll().addClass("on"),d.nextAll().removeClass("on"),t._fireEvent("star-click",{value:m,star:d[0]})})},val:function(t){let i=this,r=this.element,d=this.options,m=this.rating;if(t===void 0)return this.value;this.value=t>0?Math[d.roundFunc](t):0,r.val(this.value).trigger("change");let _=m.find(".stars li").removeClass("on");return a.each(_,function(){let C=a(this);C.data("value")<=i.value&&C.addClass("on")}),this},msg:function(t){let i=this.rating;if(t!==void 0)return i.find(".result").html(t),this},static:function(t){let i=this.options,r=this.rating;i.static=t,t===!0?r.addClass("static"):r.removeClass("static")},changeAttributeStatic:function(){let t=this.element,i=JSON.parse(t.attr("data-static"))===!0;this.static(i)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t,i){switch(t){case"value":case"data-value":this.val(i);break;case"disabled":this.toggleState();break;case"data-message":this.msg(i);break;case"data-static":this.changeAttributeStatic();break}},destroy:function(){let t=this.options,i=this.rating;i.off(e.events.click,".stars li"),t.label&&i.prev("label").remove(),i.remove()}})})(Metro,Dom),((e,a)=>{let f={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,sort:"",limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",sortRules:"",showSearch:!0,showOrder:!0,showRowsCount:!0,template:"",clsBody:"",clsItem:"",clsPagination:"",clsSearchBlock:"",clsOrderBlock:"",clsRowsCountBlock:"",onLoad:t=>t,onDrawRow:e.noop,onDrawCell:e.noop,onDatasetCreate:e.noop};e.remoteDatasetSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroRemoteDatasetSetup<"u"&&e.remoteDatasetSetup(globalThis.metroRemoteDatasetSetup),e.Component("remote-dataset",{init:function(t,i){return this._super(i,t,f,{data:null,total:0}),this},_create:function(){let t=this.options;this.offset=t.offset,this.rowSteps=t.rowsSteps.toArray(","),this.limit=+t.rows,this.url=t.url,this.search="";let[i,r]=t.sort.toArray(":");this.sortField=i,this.sortOrder=r,this.template=e.utils.exec(t.template),this.sortRules=t.sortRules.toArray(",").filter(d=>d).map(d=>d.toArray(":")),this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("dataset-create")},_loadData:async function(t=!1){let i=this.options;if(!this.url)return;let r=`${this.url}?${i.limitKey}=${this.limit}&${i.offsetKey}=${this.offset}`;this.sortField&&(r+=`&${i.sortKey}=${this.sortField}&${i.orderKey}=${this.sortOrder}`),this.search&&(r+=`&${i.searchKey}=${this.search}`);let d=await fetch(r,{method:i.method});d.ok!==!1&&(this.data=e.utils.exec(i.onLoad,[await d.json()],this),this._createEntries(t))},_createStructure:function(){let t=this.element,i=this.options,r=a("<div>").addClass("dataset-entry");t.addClass("remote-dataset"),t.append(r),r.html(`
                <div class="service-block">
                    <div class="search-block ${i.clsSearchBlock} ${i.showSearch?"":"hide-block"}">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                   
                    <div class="order-block ${i.clsOrderBlock} ${this.sortRules.length===0||i.showOrder===!1?"hide-block":""}">
                        <select name="sort-order" data-role="select" data-filter="false">
                            ${this.sortRules.map(d=>`
                                <option value="${d[0]}:${d[1]}" 
                                        ${d[0]===this.sortField&&d[1]===this.sortOrder?"selected":""}
                                        data-icon="${d[3]?d[3]:""}"
                                >
                                    ${d[2]}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                   
                    <div class="count-block ${i.clsRowsCountBlock} ${i.showRowsCount?"":"hide-block"}">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(d=>`
                                <option value="${d}" ${+d===this.rowsCount?"selected":""}>
                                    ${d}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                </div>
                <div class="dataset-body"></div>
            `),this.body=r.find(".dataset-body").addClass(i.clsBody),this.loadMore=a("<div>").addClass("dataset-load-more"),this.loadMore.html(`
                <button class="button large cycle link load-more-button">
                    <span class="icon">⟳</span>
                    ${this.strings.label_load_more}
                </button>
            `).appendTo(t),this.pagination=a("<div>").addClass("dataset-pagination"),t.append(this.pagination)},_createEvents:function(){let t=this,i=this.element,r=this.options;i.on("click",".page-link",function(){let m=a(this).parent();if(m.hasClass("service")){m.hasClass("prev-page")?(t.offset-=t.limit,t.offset<0&&(t.offset=0)):t.offset+=t.limit,t._loadData().then(()=>{});return}t.offset=a(this).data("page")*t.limit-t.limit,t._loadData().then(()=>{})});let d=Hooks.useDebounce(()=>{let m=i.find("input[name=search]").val().trim();if(m===""){this.search="",this.url=r.url,this._loadData().then(()=>{});return}m.length<3||(this.search=m,this.url=r.searchUrl,this._loadData().then(()=>{}))},300);i.on(e.events.inputchange,"input[name=search]",d),i.on("change","select[name=rows-count]",function(){t.limit=+a(this).val(),t.offset=0,t._loadData().then(()=>{})}),i.on("change","select[name=sort-order]",function(){let[m,_]=a(this).val().split(":");t.url=r.url,t.sortField=m,t.sortOrder=_,t.offset=0,t._loadData().then(()=>{})}),i.on("click",".load-more-button",()=>{t.offset+=t.limit,t._loadData(!0).then(()=>{})})},_createEntries:function(t=!1){let i=this.options;if(!this.data)return;let r=e.utils.isValue(this.data[i.totalKey]);this.entries=this.data[i.dataKey],this.total=this.data[i.totalKey],t===!1&&this.body.clear(),this.entries.forEach((d,m)=>{let _=a("<div>").addClass("dataset-item").addClass(i.clsItem).addClass(m%2===0?"even":"odd"),C=e.utils.exec(i.template,[d],d);_.html(C).appendTo(this.body)}),r&&!i.shortPagination?e.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:i.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},setup:t=>{},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,fields:"",sortableFields:"",colSize:"",sort:"",sortOrder:"asc",captions:null,limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",clsTable:"",clsPagination:"",onLoad:t=>t,onDrawRow:e.noop,onDrawCell:e.noop,onDrawHeadCell:e.noop,onTableCreate:e.noop};e.remoteTableSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroRemoteTableSetup<"u"&&e.remoteTableSetup(globalThis.metroRemoteTableSetup),e.Component("remote-table",{init:function(t,i){return this._super(i,t,f,{data:null,total:0}),this},_create:function(){let t=this.options;this.offset=t.offset,this.fields=t.fields.toArray(","),this.captions=t.captions?t.captions.toArray(","):null,this.rowSteps=t.rowsSteps.toArray(","),this.colSize=t.colSize.toArray(","),this.limit=+t.rows,this.url=t.url,this.search="",this.sortField=t.sort,this.sortOrder=t.sortOrder,this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("table-create")},_loadData:async function(){let t=this.options;if(!this.url)return;let i=`${this.url}?${t.limitKey}=${this.limit}&${t.offsetKey}=${this.offset}`;this.sortField&&(i+=`&${t.sortKey}=${this.sortField}&${t.orderKey}=${this.sortOrder}`),this.search&&(i+=`&${t.searchKey}=${this.search}`);let r=await fetch(i,{method:t.method});r.ok!==!1&&(this.data=e.utils.exec(t.onLoad,[await r.json()],this),this._createEntries())},_createStructure:function(){let t=this.element,i=this.options,r=a("<div>").addClass("table-entry");t.addClass("table-component remote-table"),t.append(r),r.html(`
                <div class="search-block row">
                    <div class="cell-sm-10">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                    <div class="cell-sm-2">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(d=>`<option value="${d}" ${+d===this.rowsCount?"selected":""}>${d}</option>`).join("")}
                        </select>
                    </div>
                </div>
                <table class="table ${i.clsTable}">
                    <caption>${i.caption}</caption>
                    <thead></thead>
                    <tbody></tbody>
                </table>
            `),this.header=r.find("thead"),this.body=r.find("tbody"),this.pagination=a("<div>").addClass("table-pagination"),t.append(this.pagination)},_createEvents:function(){let t=this,i=this.element,r=this.options;i.on("click",".page-link",function(){let m=a(this).parent();if(m.hasClass("service")){m.hasClass("prev-page")?(t.offset-=t.limit,t.offset<0&&(t.offset=0)):t.offset+=t.limit,t._loadData().then(()=>{});return}t.offset=a(this).data("page")*t.limit-t.limit,t._loadData().then(()=>{})});let d=Hooks.useDebounce(()=>{let m=i.find("input[name=search]").val().trim();if(m===""){this.search="",this.url=r.url,this._loadData().then(()=>{});return}m.length<3||(this.search=m,this.url=r.searchUrl,this._loadData().then(()=>{}))},300);i.on(e.events.inputchange,"input[name=search]",d),i.on("change","select[name=rows-count]",function(){t.limit=+a(this).val(),t.offset=0,t._loadData().then(()=>{})}),i.on("click",".sortable-column",function(){let m=a(this).attr("data-field");t.sortField===m?t.sortOrder=t.sortOrder==="asc"?"desc":"asc":(t.sortField=m,t.sortOrder="asc"),t._loadData().then(()=>{})})},_createEntries:function(){var m;let t=this.options;if(!this.data)return;let i=e.utils.isValue(this.data[t.totalKey]);this.entries=this.data[t.dataKey],this.total=this.data[t.totalKey],this.header.clear(),this.body.clear();let r=a("<tr>").addClass("table-header").appendTo(this.header),d=0;for(let _ of Object.keys(this.entries[0])){if(this.fields.length&&!this.fields.includes(_))continue;let C=this.captions?this.captions[d]:_,k=a("<th>").html(C).attr("data-field",_);(m=t.sortableFields)!=null&&m.includes(_)&&(k.addClass("sortable-column"),this.sortField===_&&k.addClass(`sort-${this.sortOrder}`)),k.appendTo(r).addClass(`head-cell-${_}`),this.colSize[d]&&k.css("width",this.colSize[d]),e.utils.exec(t.onDrawHeadCell,[k[0],C,_,d,t.sortableFields.includes(_),this.sortField===_,this.sortOrder],this),d++}this.entries.forEach((_,C)=>{let k=a("<tr>").addClass("table-row");this.body.append(k),e.utils.exec(t.onDrawRow,[k,_,C],this);let E=0;for(let F in _){if(this.fields.length&&!this.fields.includes(F))continue;let P=a("<td>").attr("data-label",this.captions?this.captions[E]:F).addClass(`data-cell-${F}`).html(_[F]);k.append(P),e.utils.exec(t.onDrawCell,[P[0],_[F],F,_,C],this),E++}}),i&&!t.shortPagination?e.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:t.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={resizableDeferred:0,canResize:!0,resizeElement:".resize-element",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,preserveRatio:!1,onResizeStart:e.noop,onResizeStop:e.noop,onResize:e.noop,onResizableCreate:e.noop};e.resizableSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroResizableSetup<"u"&&e.resizableSetup(globalThis.metroResizableSetup),e.Component("resizable",{init:function(t,i){return this._super(i,t,f,{resizer:null,id:e.utils.elementId("resizable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("resizable-create")},_createStructure:function(){let t=this.element,i=this.options;t.data("canResize",!0),t.addClass("resizable-element"),e.utils.isValue(i.resizeElement)&&t.find(i.resizeElement).length>0?this.resizer=t.find(i.resizeElement):this.resizer=a("<span>").addClass("resize-element").appendTo(t),t.data("canResize",i.canResize)},_createEvents:function(){let t=this.element,i=this.options;this.resizer.on(e.events.start,r=>{if(t.data("canResize")===!1)return;let d=e.utils.pageXY(r),m=Number.parseInt(t.outerWidth()),_=Number.parseInt(t.outerHeight()),C={width:m,height:_};t.addClass("stop-pointer"),this._fireEvent("resize-start",{size:C}),a(document).on(e.events.move,k=>{let E=e.utils.pageXY(k),F={width:m+E.x-d.x,height:_+E.y-d.y};if(i.maxWidth>0&&F.width>i.maxWidth||i.minWidth>0&&F.width<i.minWidth||i.maxHeight>0&&F.height>i.maxHeight||i.minHeight>0&&F.height<i.minHeight)return!0;t.css(F),this._fireEvent("resize",{size:F})},{ns:this.id}),a(document).on(e.events.stop,()=>{t.removeClass("stop-pointer"),a(document).off(e.events.move,{ns:this.id}),a(document).off(e.events.stop,{ns:this.id});let k={width:Number.parseInt(t.outerWidth()),height:Number.parseInt(t.outerHeight())};this._fireEvent("resize-stop",{size:k})},{ns:this.id}),r.preventDefault(),r.stopPropagation()})},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(t){let i=this.element,r=this.options,d=()=>{r.canResize=JSON.parse(i.attr("data-can-resize"))===!0};switch(t){case"data-can-resize":d();break}},destroy:function(){return this.resizer.off(e.events.start),this.element}})})(Metro,Dom),((e,a)=>{let f={resizerDeferred:0,onMediaPoint:e.noop,onMediaPointEnter:e.noop,onMediaPointLeave:e.noop,onWindowResize:e.noop,onElementResize:e.noop,onResizerCreate:e.noop};e.resizerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroResizerSetup<"u"&&e.resizerSetup(globalThis.metroResizerSetup),e.Component("resizer",{init:function(t,i){return this._super(i,t,f,{size:{width:0,height:0},media:globalThis.METRO_MEDIA,id:e.utils.elementId("resizer")}),this},_create:function(){let t=this.element;this.size={width:t.width(),height:t.height()},this._createStructure(),this._createEvents(),this._fireEvent("resizer-create",{element:t})},_createStructure:()=>{},_createEvents:function(){let t=this.element,i=a.window();i.on("resize",()=>{let r=i.width(),d=i.height(),m=t.width(),_=t.height(),C=this.size,k;this._fireEvent("window-resize",{width:r,height:d,media:globalThis.METRO_MEDIA}),(this.size.width!==m||this.size.height!==_)&&(this.size={width:m,height:_},this._fireEvent("element-resize",{width:m,height:_,oldSize:C,media:globalThis.METRO_MEDIA})),this.media.length!==globalThis.METRO_MEDIA.length&&(this.media.length>globalThis.METRO_MEDIA.length?(k=this.media.filter(E=>!globalThis.METRO_MEDIA.includes(E)),this._fireEvent("media-point-leave",{point:k,media:globalThis.METRO_MEDIA})):(k=globalThis.METRO_MEDIA.filter(E=>!this.media.includes(E)),this._fireEvent("media-point-enter",{point:k,media:globalThis.METRO_MEDIA})),this.media=globalThis.METRO_MEDIA,this._fireEvent("media-point",{point:k,media:globalThis.METRO_MEDIA}))},{ns:this.id})},changeAttribute:()=>{},destroy:function(){a(globalThis).off("resize",{ns:this.id})}})})(Metro,Dom),((e,a)=>{let f={ribbonMenuDeferred:0,onStatic:e.noop,onBeforeTab:e.noop_true,onTab:e.noop,onRibbonMenuCreate:e.noop};e.ribbonMenuSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroRibbonMenuSetup<"u"&&e.ribbonMenuSetup(globalThis.metroRibbonMenuSetup),e.Component("ribbon-menu",{init:function(t,i){return this._super(i,t,f),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("ribbon-menu-create",{element:t})},_createStructure:function(){let t=this.element;t.addClass("ribbon-menu");let i=t.find(".ribbon-toggle-group");a.each(i,function(){let m=a(this);m.buttongroup({clsActive:"active"});let _=0,C=m.find(".ribbon-icon-button");a.each(C,function(){let k=a(this).outerWidth(!0);k>_&&(_=k)}),m.css("width",_*Math.ceil(C.length/3)+4)}),t.find(".section").addClass("non-active");let r=t.find(".tabs-holder li:not(.static)"),d=t.find(".tabs-holder li.active");d.length>0?this.open(a(d[0])):r.length>0&&this.open(a(r[0])),setTimeout(()=>{a(window).trigger("resize")})},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.find(".content-holder").get(0);i.on(e.events.click,".tabs-holder li a",function(m){let _=a(this),C=a(this).parent("li");C.hasClass("static")?r.onStatic===e.noop&&_.attr("href")!==void 0?document.location.href=_.attr("href"):t._fireEvent("static",{tab:C[0]}):e.utils.exec(r.onBeforeTab,[C[0]],i[0])===!0&&t.open(C[0]),a(window).trigger("resize"),m.preventDefault()}),window.addEventListener("resize",()=>{d.clientWidth<d.scrollWidth?a(d).addClass("scrollable"):a(d).removeClass("scrollable")})},open:function(t){let i=this.element,r=a(t),d=i.find(".tabs-holder li"),m=i.find(".content-holder .section"),_=r.children("a").attr("href"),C=_!=="#"?i.find(_):null;m.addClass("non-active"),d.removeClass("active"),r.addClass("active"),m.removeClass("active"),C&&C.addClass("active").removeClass("non-active"),this._fireEvent("tab",{tab:r[0]})},changeAttribute:()=>{},destroy:function(){let t=this.element;return t.off(e.events.click,".tabs-holder li a"),t}})})(Metro,Dom),((e,a)=>{let f={rippleDeferred:0,rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:e.noop};e.rippleSetup=i=>{f=a.extend({},f,i)},typeof globalThis.metroRippleSetup<"u"&&e.rippleSetup(globalThis.metroRippleSetup);let t=(i,r="#fff",d=.4,m=!1)=>{let _=a(i),C=e.utils.rect(_[0]),k,E;if(_.length===0)return;_.css("position")==="static"&&_.css("position","relative"),_.css({overflow:"hidden"}),a(".ripple").remove();let F=Math.max(_.outerWidth(),_.outerHeight()),P=a("<span class='ripple'></span>").css({width:F,height:F});_.prepend(P),m?(k=m.pageX-_.offset().left-P.width()/2,E=m.pageY-_.offset().top-P.height()/2):(k=C.width/2-P.width()/2,E=C.height/2-P.height()/2),P.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(r),d),width:F,height:F,top:`${E}px`,left:`${k}px`}).addClass("rippleEffect"),setTimeout(()=>{P.remove()},400)};e.Component("ripple",{init:function(i,r){return this._super(r,i,f),this},_create:function(){let i=this.element,r=this.options,d=r.rippleTarget==="default"?null:r.rippleTarget;i.on(e.events.click,d,function(m){t(this,r.rippleColor,r.rippleAlpha,m)}),this._fireEvent("riopple-create",{element:i})},changeAttribute:function(i){let r=this.element,d=this.options;function m(){let C=r.attr("data-ripple-color");Farbe.Routines.isColor(C)&&(d.rippleColor=C)}function _(){let C=+r.attr("data-ripple-alpha");Number.isNaN(C)||(d.rippleColor=C)}switch(i){case"data-ripple-color":m();break;case"data-ripple-alpha":_();break}},destroy:function(){let i=this.element,r=this.options,d=r.rippleTarget==="default"?null:r.rippleTarget;i.off(e.events.click,d)}}),e.ripple=t})(Metro,Dom),((e,a)=>{let f={menuScrollbar:!1,sidebarDeferred:0,position:"left",shift:null,staticShift:null,toggle:null,duration:300,static:null,closeOutside:!0,onOpen:e.noop,onClose:e.noop,onToggle:e.noop,onStaticSet:e.noop,onStaticLoss:e.noop,onSidebarCreate:e.noop};e.sidebarSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroSidebarSetup<"u"&&e.sidebarSetup(globalThis.metroSidebarSetup),e.Component("sidebar",{init:function(t,i){return this._super(i,t,f,{toggle_element:null,id:e.utils.elementId("sidebar")}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),a(globalThis).resize(),this._checkStatic(),this._fireEvent("sidebar-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r=t.find(".sidebar-header"),d=e.sheet,m=t.find(".sidebar-menu"),_=t.outerWidth();t.addClass("sidebar").addClass(`on-${i.position}`),i.menuScrollbar===!1&&m.addClass("hide-scroll"),i.toggle!==null&&a(i.toggle).length>0&&(this.toggle_element=a(i.toggle)),r.length>0&&r.data("image")&&r.css({backgroundImage:`url(${r.data("image")})`}),i.static!==null&&i.staticShift!==null&&(i.position==="left"?e.utils.addCssRule(d,`@media screen and ${e.media_queries[i.static.toUpperCase()]}`,`${i.staticShift}{margin-left: ${_}px; width: calc(100% - ${_}px);}`):e.utils.addCssRule(d,`@media screen and ${e.media_queries[i.static.toUpperCase()]}`,`${i.staticShift}{margin-right: ${_}px; width: calc(100% - ${_}px);}`))},_createEvents:function(){let t=this.element,i=this.options,r=this.toggle_element;r!==null?r.on(e.events.click,d=>{this.toggle(),d.stopPropagation()}):i.toggle&&a.document().on("click",i.toggle,d=>{this.toggle(),d.stopPropagation()}),i.static!==null&&e.media_modes.includes(i.static)&&a(globalThis).on(e.events.resize,()=>{this._checkStatic()},{ns:this.id}),t.on(e.events.click,".sidebar-menu .js-sidebar-close",d=>{this.close(),d.stopPropagation()}),t.on(e.events.click,d=>{d.stopPropagation()}),a(document).on(e.events.click,()=>{i.closeOutside===!0&&this.isOpen()&&this.close()})},_checkStatic:function(){let t=this.element,i=this.options;e.utils.mediaExist(i.static)&&!t.hasClass("static")&&(t.addClass("static"),t.data("opened",!1).removeClass("open"),i.shift!==null&&a.each(i.shift.split(","),function(){a(this).animate({draw:{left:0},dur:i.duration})}),this._fireEvent("static-set")),e.utils.mediaExist(i.static)||(t.removeClass("static"),this._fireEvent("static-loss"))},isOpen:function(){return this.element.data("opened")===!0},open:function(){let t=this.element,i=this.options;t.hasClass("static")||(t.data("opened",!0).addClass("open"),i.shift!==null&&a(i.shift).animate({draw:{left:t.outerWidth()},dur:i.duration}),this._fireEvent("open"))},close:function(){let t=this.element,i=this.options;t.hasClass("static")||(t.data("opened",!1).removeClass("open"),i.shift!==null&&a(i.shift).animate({draw:{left:0},dur:i.duration}),this._fireEvent("close"))},toggle:function(){this.isOpen()?this.close():this.open(),this._fireEvent("toggle")},changeAttribute:()=>{},destroy:function(){let t=this.element,i=this.options,r=this.toggle_element;return r!==null&&r.off(e.events.click),i.static!==null&&e.media_modes.includes(i.static)&&a(globalThis).off(e.events.resize,{ns:this.id}),t.off(e.events.click,".js-sidebar-close"),t}}),e.sidebar={isSidebar:t=>e.utils.isMetroObject(t,"sidebar"),open:function(t){this.isSidebar(t)&&e.getPlugin(t,"sidebar").open()},close:function(t){this.isSidebar(t)&&e.getPlugin(t,"sidebar").close()},toggle:function(t){this.isSidebar(t)&&e.getPlugin(t,"sidebar").toggle()},isOpen:function(t){if(this.isSidebar(t))return e.getPlugin(t,"sidebar").isOpen()}}})(Metro,Dom),((e,a)=>{let f={compacted:!1,toggle:null,expandPoint:"fs",onMenuItemClick:e.noop,onCollapse:e.noop,onExpand:e.noop,onSidenavCreate:e.noop};e.sidenavCounterSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroSidenavCounterSetup<"u"&&e.sidenavCounterSetup(globalThis.metroSidenavCounterSetup),e.Component("sidenav-counter",{init:function(t,i){return this._super(i,t,f,{}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("sidenav-create")},_createStructure:function(){let t=this.element,i=this.options;t.addClass("sidenav-counter"),e.utils.mediaExist(i.expandPoint)&&t.addClass("expanded"),e.storage.getItem("sidenav-counter:compacted")===!0&&(t.removeClass("expanded"),t.addClass("handmade"))},_createEvents:function(){let t=this.element,i=this.options;i.toggle&&a(i.toggle).on("click",()=>{t.toggleClass("expanded"),t.toggleClass("handmade"),e.storage.setItem("sidenav-counter:compacted",!t.hasClass("expanded"))}),a(globalThis).on(e.events.resize,()=>{t.hasClass("handmade")||(e.utils.mediaExist(i.expandPoint)?t.addClass("expanded"):t.removeClass("expanded"))},{ns:this.id})},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={sorterDeferred:0,thousandSeparator:",",decimalSeparator:",",sortTarget:null,sortSource:null,sortDir:"asc",sortStart:!0,saveInitial:!0,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSorterCreate:e.noop};e.sorterSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroSorterSetup<"u"&&e.sorterSetup(globalThis.metroSorterSetup),e.Component("sorter",{init:function(t,i){return this._super(i,t,f,{initial:[]}),this},_create:function(){let t=this.element;this._createStructure(),this._fireEvent("sorter-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options;i.sortTarget===null&&(i.sortTarget=t.children()[0].tagName),this.initial=t.find(i.sortTarget).get(),i.sortStart===!0&&this.sort(i.sortDir)},_getItemContent:function(t){let i=this.options,r,d,m,_;if(e.utils.isValue(i.sortSource)){if(r="",d=t.getElementsByClassName(i.sortSource),d.length>0)for(m=0;m<d.length;m++)r+=d[m].textContent;_=d[0].dataset.format}else r=t.textContent,_=t.dataset.format;if(r=`${r}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),e.utils.isValue(_))switch(["number","int","float","money"].indexOf(_)!==-1&&(i.thousandSeparator!==","||i.decimalSeparator!==".")&&(r=e.utils.parseNumber(r,i.thousandSeparator,i.decimalSeparator)),_){case"date":r=e.utils.isDate(r)?new Date(r):"";break;case"number":r=Number(r);break;case"int":r=Number.parseInt(r);break;case"float":r=Number.parseFloat(r);break;case"money":r=e.utils.parseMoney(r);break;case"card":r=e.utils.parseCard(r);break;case"phone":r=e.utils.parsePhone(r);break}return r},sort:function(t){let i=this.element,r=this.options,d,m=e.utils.elementId("temp"),_;t&&(r.sortDir=t),d=i.find(r.sortTarget).get(),d.length!==0&&(_=a("<div>").attr("id",m).insertBefore(a(i.find(r.sortTarget)[0])),this._fireEvent("sort-start",{items:d}),d.sort((C,k)=>{let E=this._getItemContent(C),F=this._getItemContent(k),P=0;return E<F&&(P=-1),E>F&&(P=1),P!==0&&this._fireEvent("sort-item-switch",{a:C,b:k,result:P}),P}),r.sortDir==="desc"&&d.reverse(),i.find(r.sortTarget).remove(),a.each(d,function(){let C=a(this);C.insertAfter(_),_=C}),a(`#${m}`).remove(),this._fireEvent("sort-stop",{items:d}))},reset:function(){let t=this.element,i=this.options,r=e.utils.elementId("sorter"),d,m=this.initial;m.length!==0&&(d=a("<div>").attr("id",r).insertBefore(a(t.find(i.sortTarget)[0])),t.find(i.sortTarget).remove(),a.each(m,function(){let _=a(this);_.insertAfter(d),d=_}),a(`#${r}`).remove())},changeAttribute:function(t){let i=this.element,r=this.options,d=()=>{let _=i.attr("data-sort-dir").trim();_!==""&&(r.sortDir=_,this.sort())},m=()=>{let _=i.attr("data-sort-content").trim();_!==""&&(r.sortContent=_,this.sort())};switch(t){case"data-sort-dir":d();break;case"data-sort-content":m();break}},destroy:function(){return this.element}}),e.sorter={create:(t,i)=>e.utils.$()(t).sorter(i),isSorter:t=>e.utils.isMetroObject(t,"sorter"),sort:function(t,i="asc"){if(!this.isSorter(t))return!1;e.getPlugin(t,"sorter").sort(i)},reset:function(t){if(!this.isSorter(t))return!1;e.getPlugin(t,"sorter").reset()}}})(Metro,Dom),((e,a)=>{let f={VERTICAL:"vertical",HORIZONTAL:"horizontal"},t=e.storage,i={splitterDeferred:0,split:f.VERTICAL,splitSizes:null,gutterSize:5,gutterStyle:"default",minSizes:null,children:"*",gutterClick:"expand",saveState:!1,noResize:!1,onResizeStart:e.noop,onResizeStop:e.noop,onResizeSplit:e.noop,onResizeWindow:e.noop,onSplitterCreate:e.noop};e.splitterSetup=r=>{i=a.extend({},i,r)},typeof globalThis.metroSplitterSetup<"u"&&e.splitterSetup(globalThis.metroSplitterSetup),e.Component("splitter",{init:function(r,d){return this._super(d,r,i,{storage:e.utils.isValue(t)?t:null,storageKey:"SPLITTER:",id:e.utils.elementId("splitter")}),this},_create:function(){let r=this.element;this._createStructure(),this._createEvents(),this._fireEvent("splitter-create",{element:r})},_createStructure:function(){let r=this.element,d=this.options,m=r.children(d.children).addClass("split-block"),_,C=[],k=d.split===f.HORIZONTAL?"height":"width";for(r.addClass("splitter"),r.addClass(d.split.toLowerCase()===f.VERTICAL?"vertical":"horizontal"),d.gutterStyle!=="default"&&r.addClass(`gutter-style-${d.gutterStyle}`),d.noResize===!0&&r.addClass("static-size"),_=0;_<m.length-1;_++)a("<div>").addClass("gutter").css(k,d.gutterSize).insertAfter(a(m[_]));if(this._setSize(),e.utils.isValue(d.minSizes))if(`${d.minSizes}`.includes(","))for(C=d.minSizes.toArray(),_=0;_<C.length;_++)a(m[_]).data("min-size",C[_]),m[_].style.setProperty(`min-${k}`,`${C[_]}`.includes("%")?C[_]:`${`${C[_]}`.replace("px","")}px`,"important");else a.each(m,function(){this.style.setProperty(`min-${k}`,`${d.minSizes}`.includes("%")?d.minSizes:`${`${d.minSizes}`.replace("px","")}px`,"important")});d.saveState&&this.storage!==null&&this._getSize()},_setSize:function(){let r=this.element,d=this.options,m,_,C=r.children(".split-block"),k=r.width();if(m=r.children(".gutter"),!e.utils.isValue(d.splitSizes))C.css({flexBasis:`calc(${100/C.length}% - ${m.length*d.gutterSize}px)`});else{_=`${d.splitSizes}`.toArray();let E=100,F=0;for(;F<_.length;F++){let P=_[F];P.includes("%")?P=Number.parseInt(P):P=+P*100/k,E-=P,a(C[F]).css({flexBasis:`calc(${P}% - ${m.length*d.gutterSize}px)`})}for(;F<C.length;F++)a(C[F]).css({flexBasis:`calc(${E/(C.length-F)}% - ${m.length*d.gutterSize}px)`})}},_createEvents:function(){let r=this,d=this.element,m=this.options,_=d.children(".gutter");_.on(e.events.startAll,function(C){if(m.noResize===!0)return!1;let k=m.split===f.VERTICAL?d.width():d.height(),E=a(this),F=E.prev(".split-block"),P=E.next(".split-block"),U=100*(m.split===f.VERTICAL?F.outerWidth(!0):F.outerHeight(!0))/k,Y=100*(m.split===f.VERTICAL?P.outerWidth(!0):P.outerHeight(!0))/k,ee=e.utils.getCursorPosition(d[0],C);E.addClass("active"),F.addClass("stop-pointer"),P.addClass("stop-pointer"),r._fireEvent("resize-start",{pos:ee,gutter:E[0],prevBlock:F[0],nextBlock:P[0]}),a(globalThis).on(e.events.moveAll,Ae=>{let $e=e.utils.getCursorPosition(d[0],Ae),ze;m.split===f.VERTICAL?ze=$e.x*100/k-ee.x*100/k:ze=$e.y*100/k-ee.y*100/k,F.css("flex-basis",`calc(${U+ze}% - ${_.length*m.gutterSize}px)`),P.css("flex-basis",`calc(${Y-ze}% - ${_.length*m.gutterSize}px)`),r._fireEvent("resize-split",{pos:$e,gutter:E[0],prevBlock:F[0],nextBlock:P[0]})},{ns:r.id}),a(globalThis).on(e.events.stopAll,Ae=>{F.removeClass("stop-pointer"),P.removeClass("stop-pointer"),r._saveSize(),E.removeClass("active"),a(globalThis).off(e.events.moveAll,{ns:r.id}),a(globalThis).off(e.events.stopAll,{ns:r.id});let $e=e.utils.getCursorPosition(d[0],Ae);r._fireEvent("resize-stop",{pos:$e,gutter:E[0],prevBlock:F[0],nextBlock:P[0]})},{ns:r.id})},{passive:!0}),a(globalThis).on(e.events.resize,()=>{let C=d.children(".gutter"),k=C.prev(".split-block"),E=C.next(".split-block");r._fireEvent("resize-window",{prevBlock:k[0],nextBlock:E[0]})},{ns:r.id})},_saveSize:function(){let r=this.element,d=this.options,m=this.storage,_=[],C=r.attr("id")||this.id;d.saveState===!0&&m!==null&&(a.each(r.children(".split-block"),function(){let k=a(this);_.push(k.css("flex-basis"))}),m&&m.setItem(this.storageKey+C,_))},_getSize:function(){let r=this.element,d=this.options,m=this.storage,_=[],C=r.attr("id")||this.id;d.saveState===!0&&m!==null&&(_=m.getItem(this.storageKey+C),a.each(r.children(".split-block"),(k,E)=>{let F=a(E);e.utils.isValue(_)&&e.utils.isValue(_[k])&&F.css("flex-basis",_[k])}))},size:function(r){let d=this.options;return e.utils.isValue(r)&&(d.splitSizes=r,this._setSize()),this},changeAttribute:function(r){let d=this,m=this.element;function _(){let C=m.attr("data-split-sizes");d.size(C)}r==="data-split-sizes"&&_()},destroy:function(){let r=this.element;return r.children(".gutter").off(e.events.start),r.remove()}})})(Metro,Dom),((e,a)=>{let f={stepperDeferred:0,view:e.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:"",clsStep:"",clsComplete:"",clsCurrent:"",onStep:e.noop,onStepClick:e.noop,onStepperCreate:e.noop};e.stepperSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroStepperSetup<"u"&&e.stepperSetup(globalThis.metroStepperSetup),e.Component("stepper",{init:function(t,i){return this._super(i,t,f,{current:0}),this},_create:function(){let t=this.element,i=this.options;i.step<=0&&(i.step=1),this._createStepper(),this._createEvents(),this._fireEvent("stepper-create",{element:t})},_createStepper:function(){let t=this.element,i=this.options,r;for(t.addClass("stepper").addClass(i.view).addClass(i.clsStepper),r=1;r<=i.steps;r++)a("<span>").addClass("step").addClass(i.clsStep).data("step",r).html(`<span>${r}</span>`).appendTo(t);this.current=1,this.toStep(i.step)},_createEvents:function(){let t=this,i=this.element,r=this.options;i.on(e.events.click,".step",function(){let d=a(this).data("step");r.stepClick===!0&&(t.toStep(d),t._fireEvent("step-click",{step:d}))})},next:function(){let t=this.element.find(".step");this.current+1>t.length||(this.current++,this.toStep(this.current))},prev:function(){this.current-1!==0&&(this.current--,this.toStep(this.current))},last:function(){let t=this.element;this.toStep(t.find(".step").length)},first:function(){this.toStep(1)},toStep:function(t){let i=this.element,r=this.options,d=a(i.find(".step").get(t-1)),m=this.current;d.length!==0&&(this.current=t,i.find(".step").removeClass("complete current").removeClass(r.clsCurrent).removeClass(r.clsComplete),d.addClass("current").addClass(r.clsCurrent),d.prevAll().addClass("complete").addClass(r.clsComplete),this._fireEvent("step",{step:this.current,prev:m}))},changeAttribute:()=>{},destroy:function(){let t=this.element;t.off(e.events.click,".step"),t.remove()}})})(Metro,Dom),((e,a)=>{let f=t=>new f.init(t);f.prototype={setKey:function(t){this.key=t},getKey:function(){return this.key},setItem:function(t,i){this.storage.setItem(`${this.key}:${t}`,JSON.stringify(i))},getItem:function(t,i,r){let d,m;m=this.storage.getItem(`${this.key}:${t}`);try{d=JSON.parse(m,r)}catch{d=null}return e.utils.nvl(d,i)},getItemPart:function(t,i,r,d){let m,_=this.getItem(t,r,d),C=i.split("->");for(m=0;m<C.length;m++)_=_[C[m]];return _},delItem:function(t){this.storage.removeItem(`${this.key}:${t}`)},size:function(t){let i;switch(t){case"m":case"M":{i=1024*1024;break}case"k":case"K":{i=1024;break}default:i=1}return JSON.stringify(this.storage).length/i}},f.init=function(t){return this.key="",this.storage=t||globalThis.localStorage,this},f.init.prototype=f.prototype,e.storage=f(globalThis.localStorage),e.session=f(globalThis.sessionStorage)})(Metro,Dom),((e,a)=>{let f={streamerDeferred:0,wheel:!0,wheelStep:20,duration:200,defaultClosedIcon:"",defaultOpenIcon:"",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:"",excludeClickClass:"",excludeClass:"",onDataLoad:e.noop,onDataLoaded:e.noop,onDataLoadError:e.noop,onDrawEvent:e.noop,onDrawGlobalEvent:e.noop,onDrawStream:e.noop,onStreamClick:e.noop,onStreamSelect:e.noop,onEventClick:e.noop,onEventSelect:e.noop,onEventsScroll:e.noop,onStreamerCreate:e.noop};e.streamerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroStreamerSetup<"u"&&e.streamerSetup(globalThis.metroStreamerSetup),e.Component("streamer",{init:function(t,i){return this._super(i,t,f,{data:null,scroll:0,scrollDir:"left",events:null}),this},_create:function(){let t=this.element,i=this.options;if(t.addClass("streamer"),t.attr("id")===void 0&&t.attr("id",e.utils.elementId("streamer")),i.source===null&&i.data===null)return!1;a("<div>").addClass("streams").appendTo(t),a("<div>").addClass("events-area").appendTo(t),i.source!==null?(this._fireEvent("data-load",{source:i.source}),this._loadSource()):(this.data=i.data,this.build())},_loadSource:function(){let t=this.options;fetch(t.source).then(e.fetch.status).then(e.fetch.json).then(i=>{this._fireEvent("data-loaded",{source:t.source,data:i}),this.data=i,this.build()}).catch(i=>{this._fireEvent("data-load-error",{source:t.source,error:i})})},build:function(){let t=this,i=this.element,r=this.options,d=this.data,m=i.find(".streams").html(""),_=i.find(".events-area").html(""),C,k=a("<ul>").addClass("streamer-timeline").html("").appendTo(_),E=a("<div>").addClass("streamer-events").appendTo(_),F=a("<div>").addClass("event-group").appendTo(E),P=e.utils.getURIParameter(null,"StreamerIDS");P!==null&&r.encodeLink===!0&&(P=atob(P));let U=P?P.split("|")[0]:null,Y=P?P.split("|")[1].split(","):[];if(d.actions!==void 0){let rs=a("<div>").addClass("streamer-actions").appendTo(m);a.each(d.actions,function(){let Wi=a("<button>").addClass("streamer-action").addClass(this.cls).html(this.html);this.onclick&&Wi.on(e.events.click,()=>{e.utils.exec(this.onclick,[i])}),Wi.appendTo(rs)})}k.html(""),d.timeline===void 0&&(d.timeline={start:"09:00",stop:"18:00",step:20});let ee=new Date,Ae=new Date,$e=d.timeline.start?d.timeline.start.split(":"):[9,0],ze=d.timeline.stop?d.timeline.stop.split(":"):[18,0],Re=d.timeline.step?Number.parseInt(d.timeline.step)*60:1200;ee.setHours($e[0]),ee.setMinutes($e[1]),ee.setSeconds(0),Ae.setHours(ze[0]),Ae.setMinutes(ze[1]),Ae.setSeconds(0);let Se,Le,Me,Fe,wt,Ft,Mi,pn,Si,On;for(Se=ee.getTime()/1e3;Se<=Ae.getTime()/1e3;Se+=Re)for(Le=new Date(Se*1e3),Me=Le.getHours(),wt=Le.getMinutes(),Fe=`${Str.lpad(Me,"0",2)}:${Str.lpad(wt,"0",2)}`,pn=a("<li>").data("time",Fe).addClass(`js-time-point-${Fe.replace(":","-")}`).html(`<em>${Fe}</em>`).appendTo(k),On=pn.width()/Number.parseInt(d.timeline.step),C=a("<ul>").addClass("streamer-fake-timeline").html("").appendTo(pn),Ft=0;Ft<Number.parseInt(d.timeline.step);Ft++)Mi=wt+Ft,Fe=`${Str.lpad(Me,"0",2)}:${Str.lpad(Mi,"0",2)}`,Si=a("<li>").data("time",Fe).addClass(`js-fake-time-point-${Fe.replace(":","-")}`).html("|").appendTo(C),Si.css({width:On});if(d.streams!==void 0&&a.each(d.streams,function(rs,Wi){let ls=0,qn=a("<div>").addClass("stream").addClass(this.cls).appendTo(m);qn.addClass(Wi.cls).data("one",!1).data("data",Wi.data),a("<div>").addClass("stream-title").html(Wi.title).appendTo(qn),a("<div>").addClass("stream-secondary").html(Wi.secondary).appendTo(qn),a(Wi.icon).addClass("stream-icon").appendTo(qn);let mn=Farbe.Routines.toHEX(e.utils.getStyleOne(qn,"background-color")),Gs=Farbe.Routines.toHEX(e.utils.getStyleOne(qn,"color")),Yn=a("<div>").addClass("stream-events").data("background-color",mn).data("text-color",Gs).appendTo(F);if(Wi.events!==void 0){a.each(Wi.events,function(Sa,bt){let gu=bt.row===void 0?1:Number.parseInt(bt.row),Ot,Tt=`${rs}:${Sa}`,At=bt.custom!==void 0?bt.custom:"",ui=bt.custom_open!==void 0?bt.custom_open:"",Pt=bt.custom_close!==void 0?bt.custom_close:"",Kt;if(bt.skip!==void 0&&e.utils.bool(bt.skip))return;Kt=a("<div>").data("origin",bt).data("sid",Tt).data("data",bt.data).data("time",bt.time).data("target",bt.target).addClass("stream-event").addClass(`size-${bt.size}${["half","one-third"].includes(bt.size)?"":"x"}`).addClass(bt.cls).appendTo(Yn);let gn=k.find(`.js-fake-time-point-${this.time.replace(":","-")}`).offset().left-Yn.offset().left,Xi=75*(gu-1);if(gu>ls&&(ls=gu),Kt.css({position:"absolute",left:gn,top:Xi}),e.utils.isNull(bt.html)){let Ad=a("<div>").addClass("stream-event-slide").appendTo(Kt),Cf=a("<div>").addClass("slide-logo").appendTo(Ad),xf=a("<div>").addClass("slide-data").appendTo(Ad);bt.icon!==void 0&&(e.utils.isTag(bt.icon)?a(bt.icon).addClass("icon").appendTo(Cf):a("<img>").addClass("icon").attr("src",bt.icon).attr("alt","").appendTo(Cf)),a("<span>").addClass("time").css({backgroundColor:mn,color:Gs}).html(bt.time).appendTo(Cf),a("<div>").addClass("title").html(bt.title).appendTo(xf),a("<div>").addClass("subtitle").html(bt.subtitle).appendTo(xf),a("<div>").addClass("desc").html(bt.desc).appendTo(xf),(r.closed===!1&&i.attr("id")===U&&Y.indexOf(Tt)!==-1||bt.selected===!0||Number.parseInt(bt.selected)===1)&&Kt.addClass("selected"),r.closed===!0||bt.closed===!0||Number.parseInt(bt.closed)===1?(Ot=bt.closedIcon!==void 0?e.utils.isTag(bt.closedIcon)?bt.closedIcon:`<span>${bt.closedIcon}</span>`:e.utils.isTag(r.defaultClosedIcon)?r.defaultClosedIcon:`<span>${r.defaultClosedIcon}</span>`,a(Ot).addClass("state-icon").addClass(bt.clsClosedIcon).appendTo(Ad),Kt.data("closed",!0).data("target",bt.target),Kt.append(ui)):(Ot=bt.openIcon!==void 0?e.utils.isTag(bt.openIcon)?bt.openIcon:`<span>${bt.openIcon}</span>`:e.utils.isTag(r.defaultOpenIcon)?r.defaultOpenIcon:`<span>${r.defaultOpenIcon}</span>`,a(Ot).addClass("state-icon").addClass(bt.clsOpenIcon).appendTo(Ad),Kt.data("closed",!1),Kt.append(Pt)),Kt.append(At)}else Kt.html(bt.html);t._fireEvent("draw-event",{event:Kt[0]})});let Pn=Yn.find(".stream-event").last();Pn.length>0&&Yn.outerWidth(Pn[0].offsetLeft+Pn.outerWidth())}Yn.css({height:75*ls}),i.find(".stream").eq(Yn.index()).css({height:75*ls}),t._fireEvent("draw-stream",{stream:qn[0]})}),d.global!==void 0){let rs=E.offset().left;a.each(["before","after"],(Wi,ls)=>{d.global[ls]!==void 0&&a.each(d.global[ls],function(qn,mn){let Gs=a("<div>").addClass("event-group").addClass(`size-${mn.size}${["half","one-third"].includes(mn.size)?"":"x"}`),Yn=a("<div>").addClass("stream-events global-stream").appendTo(Gs),Pn=a("<div>").addClass("stream-event").appendTo(Yn);Pn.addClass("global-event").addClass(mn.cls).data("time",mn.time).data("origin",mn).data("data",mn.data),a("<div>").addClass("event-title").html(mn.title).appendTo(Pn),a("<div>").addClass("event-subtitle").html(mn.subtitle).appendTo(Pn),a("<div>").addClass("event-html").html(mn.html).appendTo(Pn);let Sa,bt=k.find(`.js-fake-time-point-${this.time.replace(":","-")}`);bt.length>0&&(Sa=bt.offset().left-rs),Gs.css({position:"absolute",left:Sa,height:"100%"}).appendTo(E),t._fireEvent("draw-global-event",{event:Pn[0]})})})}i.data("stream",-1),i.find(".events-area").scrollLeft(0),this.events=i.find(".stream-event"),this._createEvents(),r.startFrom!==null&&r.slideToStart===!0&&setTimeout(()=>{t.slideTo(r.startFrom)},r.startSlideSleep),this._fireEvent("streamer-create"),this._fireScroll()},_fireScroll:function(){let t=this.element.find(".events-area"),i=this.scroll;t.length!==0&&(this.scrollDir=this.scroll<t[0].scrollLeft?"left":"right",this.scroll=t[0].scrollLeft,this._fireEvent("events-scroll",{scrollLeft:t[0].scrollLeft,oldScroll:i,scrollDir:this.scrollDir,events:a.toArray(this.events)}))},_createEvents:function(){let t=this,i=this.element,r=this.options;function d(){let _=globalThis.pageYOffset||document.documentElement.scrollTop,C=globalThis.pageXOffset||document.documentElement.scrollLeft;globalThis.onscroll=()=>{globalThis.scrollTo(C,_)}}function m(){globalThis.onscroll=()=>{}}i.off(e.events.click,".stream-event").on(e.events.click,".stream-event",function(_){let C=a(this);if(!(r.excludeClass!==""&&C.hasClass(r.excludeClass))&&!(r.excludeElement!==null&&a(_.target).is(r.excludeElement))){if(r.closed===!1&&C.data("closed")!==!0&&r.eventClick==="select")r.excludeSelectClass!==""&&C.hasClass(r.excludeSelectClass)||r.excludeSelectElement!==null&&a(_.target).is(r.excludeSelectElement)||(C.hasClass("global-event")?r.selectGlobal===!0&&C.toggleClass("selected"):C.toggleClass("selected"),r.changeUri===!0&&t._changeURI(),t._fireEvent("event-select",{event:C[0],selected:C.hasClass("selected")}));else if(!(r.excludeClickClass!==""&&C.hasClass(r.excludeClickClass))&&!(r.excludeClickElement!==null&&a(_.target).is(r.excludeClickElement))&&(t._fireEvent("event-click",{event:C[0]}),r.closed===!0||C.data("closed")===!0)){let k=C.data("target");k&&(globalThis.location.href=k)}}}),i.off(e.events.click,".stream").on(e.events.click,".stream",function(){let _=a(this),C=_.index();r.streamSelect!==!1&&(i.data("stream")===C?(i.find(".stream-event").removeClass("disabled"),i.data("stream",-1)):(i.data("stream",C),i.find(".stream-event").addClass("disabled"),t.enableStream(_),t._fireEvent("stream-select",{stream:_})),t._fireEvent("stream-click",{stream:_}))}),r.wheel===!0&&(i.find(".events-area").off(e.events.mousewheel).on(e.events.mousewheel,function(_){if(_.deltaY===void 0)return;let C=a(this),k=_.deltaY>0?-1:1,E=r.wheelStep,F=C.scrollLeft()-k*E;C.scrollLeft(F)},{passive:!0}),i.find(".events-area").off("mouseenter").on("mouseenter",()=>{d()}),i.find(".events-area").off("mouseleave").on("mouseleave",()=>{m()})),i.find(".events-area").last().off("scroll").on("scroll",()=>{t._fireScroll()}),a.touchable===!0&&i.off(e.events.click,".stream").on(e.events.click,".stream",function(){let _=a(this);_.toggleClass("focused"),a.each(i.find(".stream"),function(){a(this).is(_)||a(this).removeClass("focused")})})},_changeURI:function(){let t=this.getLink();history.pushState({},document.title,t)},slideTo:function(t){let i=this.element,r=this.options,d;t===void 0?d=a(i.find(".streamer-timeline li")[0]):d=a(i.find(`.streamer-timeline .js-time-point-${t.replace(":","-")}`)[0]),i.find(".events-area").animate({draw:{scrollLeft:d[0].offsetLeft-i.find(".streams .stream").outerWidth()},dur:r.duration})},enableStream:function(t){let i=this.element,r=t.index()-1;t.removeClass("disabled").data("streamDisabled",!1),i.find(".stream-events").eq(r).find(".stream-event").removeClass("disabled")},disableStream:function(t){let i=this.element,r=t.index()-1;t.addClass("disabled").data("streamDisabled",!0),i.find(".stream-events").eq(r).find(".stream-event").addClass("disabled")},toggleStream:function(t){t.data("streamDisabled")===!0?this.enableStream(t):this.disableStream(t)},getLink:function(){let t=this.element,i=this.options,r=t.find(".stream-event"),d=[],m,_=globalThis.location.href;return a.each(r,function(){let C=a(this);C.data("sid")===void 0||!C.hasClass("selected")||d.push(C.data("sid"))}),m=`${t.attr("id")}|${d.join(",")}`,i.encodeLink===!0&&(m=btoa(m)),e.utils.updateURIParameter(_,"StreamerIDS",m)},getTimes:function(){let t=this.element.find(".streamer-timeline > li"),i=[];return a.each(t,function(){i.push(a(this).data("time"))}),i},getEvents:function(t,i){let r=this.element,d,m=[];switch(t){case"selected":d=r.find(".stream-event.selected");break;case"non-selected":d=r.find(".stream-event:not(.selected)");break;default:d=r.find(".stream-event")}return a.each(d,function(){let _=a(this);if(i!==!0&&_.parent().hasClass("global-stream"))return;let C=_.data("origin");m.push(C)}),m},source:function(t){let i=this.element;if(t===void 0)return this.options.source;i.attr("data-source",t),this.options.source=t,this.changeSource()},dataSet:function(t){if(t===void 0)return this.options.data;this.options.data=t,this.changeData(t)},getStreamerData:function(){return this.data},toggleEvent:function(t){let i=this.options,r=a(t);r.hasClass("global-event")&&i.selectGlobal!==!0||(r.hasClass("selected")?this.selectEvent(t,!1):this.selectEvent(t,!0))},selectEvent:function(t,i=!0){let r=this.options,d=a(t);d.hasClass("global-event")&&r.selectGlobal!==!0||(i===!0?d.addClass("selected"):d.removeClass("selected"),r.changeUri===!0&&this._changeURI(),this._fireEvent("event-select",{event:d[0],selected:i}))},changeSource:function(){let t=this.element,i=this.options,r=t.attr("data-source");String(r).trim()!==""&&(i.source=r,this._fireEvent("data-load",{source:i.source}),this._loadSource(),this._fireEvent("source-change"))},changeData:function(t){let i=this.element,r=this.options,d=this.data;r.data=typeof t=="object"?t:JSON.parse(i.attr("data-data")),this.data=r.data,this.build(),this._fireEvent("data-change",{oldData:d,newData:r.data})},changeStreamSelectOption:function(){let t=this.element,i=this.options;i.streamSelect=t.attr("data-stream-select").toLowerCase()==="true"},changeAttribute:function(t){switch(t){case"data-source":this.changeSource();break;case"data-data":this.changeData();break;case"data-stream-select":this.changeStreamSelectOption();break}},destroy:function(){let t=this.element;t.off(e.events.click,".stream-event"),t.off(e.events.click,".stream"),t.find(".events-area").off(e.events.mousewheel),t.find(".events-area").last().off("scroll"),t.remove()}})})(Metro,Dom),((e,a)=>{let f={swipeThreshold:32,onSwipe:e.noop,onSwipeRight:e.noop,onSwipeLeft:e.noop,onSwipeUp:e.noop,onSwipeDown:e.noop,onSwipeCreate:e.noop};e.swipeSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroSwipeSetup<"u"&&e.swipeSetup(globalThis.metroSwipeSetup),e.Component("swipe",{init:function(t,i){return this._super(i,t,f,{}),this},_create:function(){this.element.css({userSelect:"none"}),this._createEvents(),this._fireEvent("swipe-create")},_createEvents:function(){let t=this.element,i=this.options;t.on("touchstart mousedown",r=>{let d=e.utils.pageXY(r),m={x:0,y:0};t.on("touchmove mousemove",_=>{let C=e.utils.pageXY(_);m.x=C.x-d.x,m.y=C.y-d.y}),t.on("touchend mouseup",_=>{let C="";(Math.abs(m.x)>i.swipeThreshold||Math.abs(m.y)>i.swipeThreshold)&&(Math.abs(m.x)>Math.abs(m.y)?m.x>0?(C="right",this._fireEvent("swipe-right",{start:d,swipe:m})):(C="left",this._fireEvent("swipe-left",{start:d,swipe:m})):m.y>0?(C="down",this._fireEvent("swipe-down",{start:d,swipe:m})):(C="up",this._fireEvent("swipe-up",{start:d,swipe:m})),this._fireEvent("swipe",{start:d,swipe:m,direction:C})),t.off("touchmove mousemove"),t.off("touchend mouseup")})})},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={switchDeferred:0,material:!1,prepend:"",append:"",clsSwitch:"",clsCheck:"",clsCaption:"",onoff:!1,on:"",off:"",showOnOff:!1,onSwitchCreate:e.noop};e.switchSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroSwitchSetup<"u"&&e.switchSetup(globalThis.metroSwitchSetup),e.Component("switch",{init:function(t,i){return this._super(i,t,f,{}),this},_create:function(){let t=this.element,i=this.options,r=this.strings,d=t.wrap("<label>").addClass("switch").addClass(t[0].className).addClass(i.clsSwitch);t.attr("type","checkbox"),t.attr("readonly")&&t.on("click",m=>{m.preventDefault()}),this.component=d,t[0].className="",i.prepend&&d.prepend(a("<span>").addClass("caption-prepend").addClass(i.clsPrepend).addClass(i.clsCaption).html(i.prepend)),i.append&&d.append(a("<span>").addClass("caption-append").addClass(i.clsAppend).addClass(i.clsCaption).html(i.append)),i.onoff===!0?(t.attr("data-on",i.on||r.label_on),t.attr("data-off",i.off||r.label_off)):(t.removeAttr("data-on"),t.removeAttr("data-off")),i.material===!0&&d.addClass("material"),this._fireEvent("switch-create")},toggle:function(t){let i=this.element;return i.is(":disabled")?this:(e.utils.isValue(t)?i.prop("checked",t===1):i.prop("checked",!e.utils.bool(i.prop("checked"))),this)},changeAttribute:(t,i)=>{},destroy:function(){return this.element}})})(Metro,Dom),((e,a)=>{let f={splitter:",",variance:0,delay:100,blinkDelay:400,deleteDelay:800,loop:!0,cursor:"_",colors:"",onType:e.noop,onTyperCreate:e.noop};e.typerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroTyperSetup<"u"&&e.typerSetup(globalThis.metroTyperSetup),e.Component("typer",{init:function(t,i){return this._super(i,t,f,{original:null,lines:null,text:null,cursor:null,on:!0,interval:null,colors:null,colorIndex:0}),this},_create:function(){let t=this.element,i=this.options;t.addClass("typer"),this.original=t.text(),this.words=this.original.split(i.splitter).pack(),this.colors=i.colors.split(",").pack(),this.cursor=a("<span>").addClass("typer-cursor").html(i.cursor).insertAfter(t),this.interval=setInterval(()=>this._blink(),+i.blinkDelay),this.progress={word:0,char:0,building:!0,looped:0},t.clear(),this.start()},_blink:function(){this.on?(this.cursor[0].style.opacity=0,this.on=!1):(this.cursor[0].style.opacity=1,this.on=!0)},doTyping:function(){let t=this.element,i=this.elem,r=this.options,d,m=this.progress,_=m.word,C=m.char,k=[...this.words[_]].slice(0,C).join(""),E=(2*Math.random()-1)*r.variance+r.delay;this.cursor[0].style.opacity="1",this.on=!0,clearInterval(this.interval),this.interval=setInterval(()=>this._blink(),+r.blinkDelay),t.html(k),m.building?(d=m.char===this.words[_].length,d?m.building=!1:m.char+=1):m.char===0?(m.building=!0,m.word=(m.word+1)%this.words.length,this.colors.length&&(this.colorIndex=(this.colorIndex+1)%this.colors.length,i.style.color=this.colors[this.colorIndex])):m.char-=1,m.word===this.words.length-1&&(m.looped+=1),!m.building&&this.loop<=m.looped&&(this.typing=!1),setTimeout(()=>{this.typing&&this.doTyping()},d?r.deleteDelay:E)},start:function(){this.typing||(this.typing=!0,this.doTyping())},stop:function(){this.typing=!1},destroy:function(){this.element.remove()}})})(Metro,Dom);var qp={title:void 0,format:void 0,formatMask:void 0,name:void 0,colspan:null,size:void 0,sortable:!1,sortDir:void 0,clsColumn:void 0,cls:void 0,show:!0,required:!0,field:void 0,fieldType:void 0,validator:void 0,template:void 0,type:"data"};((e,a)=>{let f={caption:"",cardMode:"",useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"🔧",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationIslandSize:3,paginationShortTrack:10,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,source:null,static:!1,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:e.noop,onDrawRow:e.noop,onDrawCell:e.noop,onAppendRow:e.noop,onAppendCell:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoadError:e.noop,onDataLoaded:e.noop,onDataLoadEnd:e.noop,onDataSaveError:e.noop,onFilterRowAccepted:e.noop,onFilterRowDeclined:e.noop,onCheckClick:e.noop,onCheckClickAll:e.noop,onCheckDraw:e.noop,onViewSave:e.noop,onViewGet:e.noop,onViewCreated:e.noop,onTableCreate:e.noop,onSkip:e.noop};e.tableSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroTableSetup<"u"&&e.tableSetup(globalThis.metroTableSetup),e.Component("table",{init:function(t,i){return this._super(i,t,f,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},input_interval:null,searchFields:[],id:e.utils.elementId("table"),sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){let t=this.element,i=this.options,r=e.utils.elementId("table"),d;if(t.id()||(console.warn("To use all table component features, please set an ID for the table element!"),t.id(r)),e.utils.isValue(i.searchFields)&&(this.searchFields=i.searchFields.toArray()),e.utils.isValue(i.head)){let C=i.head;i.head=e.utils.isObject(i.head),i.head||(console.warn(`Head ${C} defined but not exists!`),i.head=null)}if(e.utils.isValue(i.body)){let C=i.body;i.body=e.utils.isObject(i.body),i.body||(console.warn(`Body ${C} defined but not exists!`),i.body=null)}i.static===!0&&(i.showPagination=!1,i.showRowsSteps=!1,i.showSearch=!1,i.showTableInfo=!1,i.showSkip=!1,i.rows=-1);let m=a("<div>").addClass("table-component");m.insertBefore(t),d=a("<div>").addClass("table-container").addClass(i.clsTableContainer).appendTo(m),t.appendTo(d),i.horizontalScroll===!0&&d.addClass("horizontal-scroll"),!e.utils.isNull(i.horizontalScrollStop)&&e.utils.mediaExist(i.horizontalScrollStop)&&d.removeClass("horizontal-scroll"),m.addClass(i.clsComponent),this.activity=a("<div>").addClass("table-progress").appendTo(m);let _=a("<div>").appendTo(this.activity);if(e.makePlugin(_,"activity",{type:i.activityType,style:i.activityStyle}),i.showActivity!==!0&&this.activity.css({visibility:"hidden"}),this.component=m[0],i.source!==null){this._fireEvent("data-load",{source:i.source});let C=e.utils.isObject(i.source);C!==!1&&a.isPlainObject(C)?this._build(C):this.activity.show(()=>{fetch(i.source).then(e.fetch.status).then(e.fetch.json).then(k=>{if(this.activity.hide(),typeof k!="object")throw new Error("Data for table is not a object");this._fireEvent("data-loaded",{source:i.source,data:k}),this._build(k)}).catch(k=>{this.activity.hide(),this._fireEvent("data-load-error",{source:i.source,error:k})})})}else this._build()},_createIndex:function(){let t=this.options.checkColIndex;setImmediate(()=>{this.items.forEach((i,r)=>{this.index[i[t]]=r})})},_build:function(t){let i=this.element,r=this.options,d,m=i.attr("id"),_;r.rows=+r.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(r.head)&&(this.heads=r.head),Array.isArray(r.body)&&(this.items=r.body),e.utils.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=e.utils.objectClone(this.view),_=r.viewSavePath.replace("$1",m),r.viewSaveMode.toLowerCase()==="client"?(d=e.storage.getItem(_),e.utils.isValue(d)&&e.utils.objectLength(d)===e.utils.objectLength(this.view)&&(this.view=d,this._fireEvent("view-get",{source:"client",view:d})),this._final()):fetch(_).then(e.fetch.status).then(e.fetch.json).then(C=>{e.utils.isValue(C)&&e.utils.objectLength(C)===e.utils.objectLength(this.view)&&(this.view=C,this._fireEvent("view-get",{source:"server",view:C})),this._final()}).catch(C=>{this._final(),console.warn(`Warning! Error loading view for table ${i.attr("id")}: ${C}`)})},_final:function(){let t=this.element,i=this.options,r=t.attr("id");e.storage.delItem(i.checkStoreKey.replace("$1",r)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:t})},_service:function(){let t=this.options;this.service=[{...qp,title:t.rownumTitle,clsColumn:`rownum-cell ${t.rownum!==!0?"d-none":""}`,cls:`rownum-cell ${t.rownum!==!0?"d-none":""}`,type:"rownum"},{...qp,title:t.checkType==="checkbox"?`<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='${t.checkStyle}'>`:"",clsColumn:`check-cell ${t.check!==!0?"d-none":""}`,cls:`check-cell ${t.check!==!0?"d-none":""}`,type:"rowcheck"}]},_createView:function(){let t={};return a.each(this.heads,function(i){e.utils.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),e.utils.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),t[i]={index:i,"index-view":i,show:e.utils.isValue(this.show)?this.show:!0,size:e.utils.isValue(this.size)?this.size:""}}),this._fireEvent("view-created",{view:t}),t},_createInspectorItems:function(t){let i=this,r=this.options,d,m=[],_,C=this.heads;for(t.html(""),d=0;d<C.length;d++)m[d]=null;for(a.each(C,function(k){_=a("<tr>"),_.data("index",k),_.data("index-view",k),a("<td>").html(`<input type='checkbox' data-style='${r.checkStyle}' data-role='checkbox' name='column_show_check[]' value='${k}' ${e.utils.bool(i.view[k].show)?"checked":""}>`).appendTo(_),a("<td>").html(`<div>${this.title}</div>`).appendTo(_),a("<td>").html(`<input type='number' data-role='spinner' name='column_size' value='${i.view[k].size}' data-index='${k}'>`).appendTo(_),a("<td>").html("<button class='button square js-table-inspector-field-up' type='button'>↑</button><button class='button square js-table-inspector-field-down' type='button'>↓</button>").appendTo(_),m[i.view[k]["index-view"]]=_}),d=0;d<C.length;d++)m[d].appendTo(t)},_createInspector:function(){let t=this.options,i=this.strings,r=a("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector");r.attr("for",this.element.attr("id")),a(`<div class='table-inspector-header'>${t.inspectorTitle||i.label_inspector}</div>`).appendTo(r);let d=a("<div>").addClass("table-wrap").appendTo(r),m=a("<table>").addClass("table subcompact"),_=a("<tbody>").appendTo(m);m.appendTo(d),this._createInspectorItems(_);let C=a("<div class='table-inspector-actions'>").appendTo(r);a("<button class='button primary js-table-inspector-save' type='button'>").html(i.label_save).appendTo(C),a("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(i.label_reset).appendTo(C),a("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(i.label_cancel).appendTo(C),r.data("open",!1),this.inspector=r,a("body").append(r),this._createInspectorEvents()},_resetInspector:function(){let t=this.inspector.find("table tbody");this._createInspectorItems(t),this._createInspectorEvents()},_createHeadsFromHTML:function(){let t=this,i=this.element.find("thead");i.length>0&&a.each(i.find("tr > *"),function(){let r=a(this),d,m;if(r.hasClass("rownum-cell")||r.hasClass("check-cell"))return;e.utils.isValue(r.data("sort-dir"))?d=r.data("sort-dir"):r.hasClass("sort-asc")?d="asc":r.hasClass("sort-desc")?d="desc":d=void 0,m=r[0].className.replace("sortable-column",""),m=m.replace("sort-asc",""),m=m.replace("sort-desc",""),m=m.replace("hidden","");let _={type:"data",title:r.html(),name:e.utils.isValue(r.data("name"))?r.data("name"):r.text().replace(" ","_"),sortable:r.hasClass("sortable-column")||e.utils.isValue(r.data("sortable"))&&JSON.parse(r.data("sortable"))===!0,sortDir:d,format:e.utils.isValue(r.data("format"))?r.data("format"):"string",formatMask:e.utils.isValue(r.data("format-mask"))?r.data("format-mask"):null,clsColumn:e.utils.isValue(r.data("cls-column"))?r.data("cls-column"):"",cls:m,colspan:r.attr("colspan"),size:e.utils.isValue(r.data("size"))?r.data("size"):"",show:!(r.hasClass("hidden")||e.utils.isValue(r.data("show"))&&JSON.parse(r.data("show"))===!1),required:e.utils.isValue(r.data("required"))?JSON.parse(r.data("required"))===!0:!1,field:e.utils.isValue(r.data("field"))?r.data("field"):"input",fieldType:e.utils.isValue(r.data("field-type"))?r.data("field-type"):"text",validator:e.utils.isValue(r.data("validator"))?r.data("validator"):null,template:e.utils.isValue(r.data("template"))?r.data("template"):null};t.heads.push(_)})},_createFootsFromHTML:function(){let t=this,i=this.element.find("tfoot");i.length>0&&a.each(i.find("tr > *"),function(){let r=a(this),d={title:r.html(),name:e.utils.isValue(r.data("name"))?r.data("name"):!1,cls:r[0].className,colspan:r.attr("colspan")};t.foots.push(d)})},_createItemsFromHTML:function(){let t=this,i=this.element.find("tbody");i.length>0&&a.each(i.find("tr"),function(){let r=a(this),d=[];a.each(r.children("td"),function(){let m=a(this);d.push(m.html())}),t.items.push(d)}),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(t){let i=this,r=typeof t=="string"?JSON.parse(t):t;r.header!==void 0?i.heads=r.header:this._createHeadsFromHTML(),r.data!==void 0&&a.each(r.data,function(){let d=[];a.each(this,function(){d.push(this)}),i.items.push(d)}),r.footer!==void 0?this.foots=r.footer:this._createFootsFromHTML()},_createTableHeader:function(){let t=this.element,i=this.options,r=t.find("thead"),d,m=[],_,C,k=i.staticView?this._createView():this.view;if(r.length===0&&(r=a("<thead>"),t.prepend(r)),r.clear().addClass(i.clsHead),i.caption&&a("<caption>").html(i.caption).insertBefore(r),this.heads.length===0)return r;for(d=a("<tr>").addClass(i.clsHeadRow).appendTo(r),a.each(this.service,function(){let E=[],F=a("<th>");e.utils.isValue(this.title)&&F.html(this.title),e.utils.isValue(this.size)&&F.css({width:this.size}),e.utils.isValue(this.cls)&&E.push(this.cls),E.push(i.clsHeadCell),F.addClass(E.join(" ")),d.append(F)}),C=this.heads,_=0;_<C.length;_++)m[_]=null;for(a.each(C,function(E){let F=[],P=a("<th>");P.data("index",E),e.utils.isValue(this.title)&&P.html(this.title),e.utils.isValue(this.format)&&P.attr("data-format",this.format),e.utils.isValue(this.formatMask)&&P.attr("data-format-mask",this.formatMask),e.utils.isValue(this.name)&&P.attr("data-name",this.name),e.utils.isValue(this.colspan)&&P.attr("colspan",this.colspan),e.utils.isValue(this.size)&&P.attr("data-size",this.size),e.utils.isValue(this.sortable)&&P.attr("data-sortable",this.sortable),e.utils.isValue(this.sortDir)&&P.attr("data-sort-dir",this.sortDir),e.utils.isValue(this.clsColumn)&&P.attr("data-cls-column",this.clsColumn),e.utils.isValue(this.cls)&&P.attr("data-cls",this.cls),e.utils.isValue(this.show)&&P.attr("data-show",this.show),e.utils.isValue(this.required)&&P.attr("data-required",this.required),e.utils.isValue(this.field)&&P.attr("data-field",this.field),e.utils.isValue(this.fieldType)&&P.attr("data-field-type",this.fieldType),e.utils.isValue(this.validator)&&P.attr("data-validator",this.validator),e.utils.isValue(this.template)&&P.attr("data-template",this.template),e.utils.isValue(k[E].size)&&P.css({width:k[E].size}),this.sortable===!0&&(F.push("sortable-column"),e.utils.isValue(this.sortDir)&&F.push(`sort-${this.sortDir}`)),e.utils.isValue(this.cls)&&a.each(this.cls.toArray(),function(){F.push(this)}),e.utils.bool(k[E].show)===!1&&F.indexOf("hidden")===-1&&F.push("hidden"),F.push(i.clsHeadCell),e.utils.bool(k[E].show)&&e.utils.arrayDelete(F,"hidden"),P.addClass(F.join(" ")),m[k[E]["index-view"]]=P}),_=0;_<C.length;_++)m[_].appendTo(d)},_createTableBody:function(){let t,i,r=this.element;i=r.find("thead"),t=r.find("tbody"),t.length===0&&(t=a("<tbody>").addClass(this.options.clsBody),i.length!==0?t.insertAfter(i):r.append(t)),t.clear()},_createTableFooter:function(){let t=this.element,i=this.options,r=t.find("tfoot"),d;if(r.length===0&&(r=a("<tfoot>").appendTo(t)),r.clear().addClass(i.clsFooter),this.foots.length===0)return;let m=a("<tr>").addClass(i.clsHeadRow).appendTo(r);a.each(this.foots,function(){d=a("<th>").appendTo(m),this.title&&d.html(this.title),this.name&&d.addClass(`foot-column-name-${this.name}`),this.cls&&d.addClass(this.cls),e.utils.isValue(this.colspan)&&d.attr("colspan",this.colspan),d.appendTo(m)})},_createTopBlock:function(){let t=this.element,i=this.options,r=this.strings,d=a("<div>").addClass("table-top").addClass(i.clsTableTop).insertBefore(t.parent()),m,_;m=e.utils.isValue(this.wrapperSearch)?this.wrapperSearch:a("<div>").addClass("table-search-block").addClass(i.clsSearch).appendTo(d),m.addClass(i.clsSearch);let C=a("<input>").attr("type","text").attr("placeholder",i.tableSearchPlaceholder).appendTo(m);e.makePlugin(C,"input",{prepend:i.tableSearchTitle||r.label_search}),i.showSearch!==!0&&m.hide(),_=e.utils.isValue(this.wrapperRows)?this.wrapperRows:a("<div>").addClass("table-rows-block").appendTo(d),_.addClass(i.clsRowsCount);let k=a("<select>").appendTo(_);return a.each(i.rowsSteps.toArray(),function(){let E=Number.parseInt(this),F=a("<option>").attr("value",E).text(E===-1?i.allRecordsTitle||r.label_all:E).appendTo(k);E===Number.parseInt(i.rows)&&F.attr("selected","selected")}),e.makePlugin(k,"select",{filter:!1,prepend:i.tableRowsCountTitle||r.label_rows_count,onChange:E=>{Number.parseInt(E)!==i.rows&&(i.rows=E,this.currentPage=1,this._draw(),this._fireEvent("rows-count-change",{val:E}))}}),i.showInspectorButton&&a("<button>").addClass("button inspector-button").attr("type","button").html(i.inspectorButtonIcon).insertAfter(_),i.showRowsSteps!==!0&&_.hide(),d},_createBottomBlock:function(){let t=this.element,i=this.options,r=this.strings,d=a("<div>").addClass("table-bottom").addClass(i.clsTableBottom).insertAfter(t.parent()),m,_,C;return m=e.utils.isValue(this.wrapperInfo)?this.wrapperInfo:a("<div>").addClass("table-info").appendTo(d),m.addClass(i.clsTableInfo),i.showTableInfo!==!0&&m.hide(),_=e.utils.isValue(this.wrapperPagination)?this.wrapperPagination:a("<div>").addClass("table-pagination").appendTo(d),_.addClass(i.clsTablePagination),i.showPagination!==!0&&_.hide(),C=e.utils.isValue(this.wrapperSkip)?this.wrapperSkip:a("<div>").appendTo(d),C.addClass("table-skip").addClass(i.clsTableSkip),a(`<input type='text' data-role='input' placeholder="${r.label_enter_page}">`).addClass("table-skip-input").addClass(i.clsTableSkipInput).appendTo(C),a("<button>").addClass("button table-skip-button").addClass(i.clsTableSkipButton).html(i.tableSkipTitle||r.label_goto_page).appendTo(C),i.showSkip!==!0&&C.hide(),d},_createStructure:function(){let t=this,i=this.element,r=this.options,d,m=a(r.searchWrapper),_=a(r.infoWrapper),C=a(r.rowsWrapper),k=a(r.paginationWrapper),E=a(r.skipWrapper);m.length>0&&(this.wrapperSearch=m),_.length>0&&(this.wrapperInfo=_),C.length>0&&(this.wrapperRows=C),k.length>0&&(this.wrapperPagination=k),E.length>0&&(this.wrapperSkip=E),i.addClass(r.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();let F=!1;this.heads.length>0&&a.each(this.heads,function(U){!F&&["asc","desc"].indexOf(this.sortDir)>-1&&(F=!0,t.sort.colIndex=U,t.sort.dir=this.sortDir)}),F&&(d=i.find("thead th"),this._resetSortClass(d),a(d.get(this.sort.colIndex+t.service.length)).addClass(`sort-${this.sort.dir}`),this.sorting());let P;e.utils.isValue(r.filters)&&typeof r.filters=="string"&&a.each(r.filters.toArray(),function(){P=e.utils.isFunc(this),P!==!1&&t.filtersIndexes.push(t.addFilter(P))}),this.currentPage=1,this._draw()},_resetSortClass:t=>{a(t).removeClass("sort-asc sort-desc")},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.closest(".table-component"),m=d.find(".table-container"),_=d.find(".table-search-block input"),C=r.skipWrapper?a(r.skipWrapper).find(".table-skip-button"):d.find(".table-skip-button"),k=r.skipWrapper?a(r.skipWrapper).find(".table-skip-input"):d.find(".table-skip-input"),E,F=i.attr("id");d.find(".inspector-button").on(e.events.click,()=>{t.toggleInspector()}),C.on(e.events.click,()=>{let Y=Number.parseInt(k.val().trim());if(Number.isNaN(Y)||Y<=0||Y>t.pagesCount)return k.val(""),!1;k.val(""),t._fireEvent("skip",{skipTo:Y,skipFrom:t.currentPage}),t.page(Y)}),a(globalThis).on(e.events.resize,()=>{r.horizontalScroll===!0&&(!e.utils.isNull(r.horizontalScrollStop)&&e.utils.mediaExist(r.horizontalScrollStop)?m.removeClass("horizontal-scroll"):m.addClass("horizontal-scroll"))},{ns:this.id}),i.on(e.events.click,".sortable-column",function(){if(r.muteTable===!0&&i.addClass("disabled"),t.busy)return!1;t.busy=!0;let Y=a(this);t.activity.show(()=>{setImmediate(()=>{t.currentPage=1,t.sort.colIndex=Y.data("index"),!Y.hasClass("sort-asc")&&!Y.hasClass("sort-desc")?t.sort.dir=r.sortDir:Y.hasClass("sort-asc")?t.sort.dir="desc":t.sort.dir="asc",t._resetSortClass(i.find(".sortable-column")),Y.addClass(`sort-${t.sort.dir}`),t.sorting(),t._draw(()=>{t.busy=!1,r.muteTable===!0&&i.removeClass("disabled")})})})}),i.on(e.events.click,".table-service-check input",function(){let Y=a(this),ee=Y.is(":checked"),Ae=`${Y.val()}`,$e=r.checkStoreKey.replace("$1",F),ze=e.storage,Re=ze.getItem($e);Y.attr("type")==="radio"&&(Re=[]),ee?e.utils.isValue(Re)?Array(Re).indexOf(Ae)===-1&&Re.push(Ae):Re=[Ae]:e.utils.isValue(Re)?e.utils.arrayDelete(Re,Ae):Re=[],ze.setItem($e,Re),t._fireEvent("check-click",{check:this,status:ee,data:Re})}),i.on(e.events.click,".table-service-check-all input",function(){let Y=a(this).is(":checked"),ee=r.checkStoreKey.replace("$1",F),Ae=e.storage,$e=[],ze;r.useCurrentSlice===!0?(ze=Ae.getItem(ee,[]),Y?a.each(t.currentSlice,function(){ze.indexOf(`${this[r.checkColIndex]}`)===-1&&ze.push(`${this[r.checkColIndex]}`)}):a.each(t.currentSlice,function(){let Re=`${this[r.checkColIndex]}`;ze.indexOf(Re)!==-1&&e.utils.arrayDelete(ze,Re)}),$e=ze):Y?a.each(t.filteredItems,function(){$e.indexOf(this[r.checkColIndex])===-1&&$e.push(`${this[r.checkColIndex]}`)}):$e=[],Ae.setItem(ee,$e),t._draw(),t._fireEvent("check-click-all",{check:this,status:Y,data:$e})});let P=function(){t.searchString=this.value.trim().toLowerCase(),t.currentPage=1,t._draw()};P=Hooks.useDebounce(P,r.searchThreshold),_.on(e.events.inputchange,P),e.utils.isValue(this.wrapperSearch)&&(E=this.wrapperSearch.find("input"),E.length>0&&E.on(e.events.inputchange,P));function U(Y){let ee=a(Y),Ae=ee.parent();t.filteredItems.length!==0&&(Ae.hasClass("active")||(Ae.hasClass("service")?ee.data("page")==="prev"?(t.currentPage--,t.currentPage===0&&(t.currentPage=1)):(t.currentPage++,t.currentPage>t.pagesCount&&(t.currentPage=t.pagesCount)):t.currentPage=ee.data("page"),t._draw()))}d.on(e.events.click,".pagination .page-link",function(){U(this)}),e.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",function(){U(this)}),this._createInspectorEvents(),i.on(e.events.click,".js-table-crud-button",()=>{})},_createInspectorEvents:function(){let t=this,i=this.inspector;this._removeInspectorEvents(),i.on(e.events.click,".js-table-inspector-field-up",function(){let r=a(this).closest("tr"),d=r.prev("tr"),m=r.data("index"),_;d.length!==0&&(r.insertBefore(d),r.addClass("flash"),setTimeout(()=>{r.removeClass("flash")},1e3),_=r.index(),r.data("index-view",_),t.view[m]["index-view"]=_,a.each(r.nextAll(),function(){let C=a(this);_++,C.data("index-view",_),t.view[C.data("index")]["index-view"]=_}),t._createTableHeader(),t._draw())}),i.on(e.events.click,".js-table-inspector-field-down",function(){let r=a(this).closest("tr"),d=r.next("tr"),m=r.data("index"),_;d.length!==0&&(r.insertAfter(d),r.addClass("flash"),setTimeout(()=>{r.removeClass("flash")},1e3),_=r.index(),r.data("index-view",_),t.view[m]["index-view"]=_,a.each(r.prevAll(),function(){let C=a(this);_--,C.data("index-view",_),t.view[C.data("index")]["index-view"]=_}),t._createTableHeader(),t._draw())}),i.on(e.events.click,"input[type=checkbox]",function(){let r=a(this),d=r.is(":checked"),m=r.val(),_=["cls","clsColumn"];d?a.each(_,function(){let C=e.utils.isValue(t.heads[m][this])?t.heads[m][this].toArray(" "):[];e.utils.arrayDelete(C,"hidden"),t.heads[m][this]=C.join(" "),t.view[m].show=!0}):a.each(_,function(){let C=e.utils.isValue(t.heads[m][this])?t.heads[m][this].toArray(" "):[];C.indexOf("hidden")===-1&&C.push("hidden"),t.heads[m][this]=C.join(" "),t.view[m].show=!1}),t._createTableHeader(),t._draw()}),i.find("input[type=number]").on(e.events.inputchange,function(){let r=a(this),d=r.attr("data-index"),m=Number.parseInt(r.val());t.view[d].size=m===0?"":m,t._createTableHeader()}),i.on(e.events.click,".js-table-inspector-save",()=>{t._saveTableView(),t.openInspector(!1)}),i.on(e.events.click,".js-table-inspector-cancel",()=>{t.openInspector(!1)}),i.on(e.events.click,".js-table-inspector-reset",()=>{t.resetView()})},_removeInspectorEvents:function(){let t=this.inspector;t.off(e.events.click,".js-table-inspector-field-up"),t.off(e.events.click,".js-table-inspector-field-down"),t.off(e.events.click,"input[type=checkbox]"),t.off(e.events.click,".js-table-inspector-save"),t.off(e.events.click,".js-table-inspector-cancel"),t.off(e.events.click,".js-table-inspector-reset"),t.off(e.events.inputchange,"input[type=number]")},_saveTableView:function(){let t=this.element,i=this.options,r=this.view,d=t.attr("id"),m=i.viewSavePath.replace("$1",d),_=e.storage;if(i.viewSaveMode.toLowerCase()==="client")_.setItem(m,r),this._fireEvent("view-save",{target:"client",path:i.viewSavePath,view:r});else{let C={id:t.attr("id"),view:r};fetch(m,{method:"POST",body:JSON.stringify(C),header:{"Content-type":"application/json;charset=utf-8"}}).then(e.fetch.status).then(e.fetch.text).then(k=>{this._fireEvent("view-save",{target:"server",path:i.viewSavePath,view:r,post_data:C,response:k})}).catch(k=>{this._fireEvent("data-save-error",{source:i.viewSavePath,error:k,post_data:C})})}},_info:function(t,i,r){let d=this.element,m=this.options,_=this.strings,C=d.closest(".table-component"),k=e.utils.isValue(this.wrapperInfo)?this.wrapperInfo:C.find(".table-info"),E,F=t,P=i,U=r;k.length!==0&&(P>U&&(P=U),this.items.length===0&&(F=P=U=0),E=m.tableInfoTitle||_.label_table_info,E=E.replace("$1",F),E=E.replace("$2",P),E=E.replace("$3",U),k.html(E))},_paging:function(t){let i=this.element,r=this.options,d=this.strings,m=i.closest(".table-component");this.pagesCount=Math.ceil(t/r.rows),e.pagination({length:t,rows:r.rows,current:this.currentPage,target:e.utils.isValue(this.wrapperPagination)?this.wrapperPagination:m.find(".table-pagination"),claPagination:r.clsPagination,prevTitle:r.paginationPrevTitle||d.label_prev,nextTitle:r.paginationNextTitle||d.label_next,distance:r.paginationDistance,islandSize:r.paginationIslandSize,shortTrack:r.paginationShortTrack})},_filter:function(){let t=this.options,i;return e.utils.isValue(this.searchString)&&this.searchString.length>=t.searchMinLength||this.filters.length>0?i=this.items.filter(r=>{let d="",m,_,C=0;if(this.filters.length>0){for(m=t.filtersOperator.toLowerCase()==="and",_=0;_<this.filters.length;_++)e.utils.isNull(this.filters[_])||(C++,m=t.filtersOperator.toLowerCase()==="and"?m&&e.utils.exec(this.filters[_],[r,this.heads]):m||e.utils.exec(this.filters[_],[r,this.heads]));C===0&&(m=!0)}else m=!0;this.searchFields.length>0?a.each(this.heads,(E,F)=>{this.searchFields.indexOf(F.name)>-1&&(d+=`•${r[E]}`)}):d=r.join("•"),d=d.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase();let k=e.utils.isValue(this.searchString)&&this.searchString.length>=t.searchMinLength?~d.indexOf(this.searchString):!0;return m=m&&k,m?this._fireEvent("filter-row-accepted",{row:r}):this._fireEvent("filter-row-declined",{row:r}),m}):i=this.items,this._fireEvent("search",{search:this.searchString,items:i}),this.filteredItems=i,i},_draw:function(t){let i=this,r=this.element,d=this.options,m=this.strings,_=r.find("tbody"),C,k,E,F,P,U,Y,ee,Ae=Number.parseInt(d.rows)===-1?0:d.rows*(this.currentPage-1),$e=Number.parseInt(d.rows)===-1?this.items.length-1:Ae+d.rows-1,ze,Re=[],Se=e.storage.getItem(d.checkStoreKey.replace("$1",r.attr("id"))),Le=d.staticView?this.viewDefault:this.view;if(_.html(""),!this.heads.length){console.warn(`Heads is not defined for table ID ${r.attr("id")}`);return}if(ze=this._filter(),this.currentSlice=ze.slice(Ae,$e+1),Re=[],ze.length>0){for(C=Ae;C<=$e;C++)if(U=ze[C],Y=[],!!e.utils.isValue(U)){for(E=a("<tr>").addClass(d.clsBodyRow),E.data("original",U),ee=C%2===0,F=a("<td>").attr("data-label","#").attr("aria-label","#").html(C+1),i.service[0].clsColumn!==void 0&&F.addClass(i.service[0].clsColumn),F.appendTo(E),F=a("<td>").attr("data-label","CHK").attr("aria-label","CHK"),d.checkType==="checkbox"?P=a(`<input type='checkbox' data-style='${d.checkStyle}' data-role='checkbox' name='${e.utils.isValue(d.checkName)?d.checkName:"table_row_check"}[]' value='${ze[C][d.checkColIndex]}'>`):P=a(`<input type='radio' data-style='${d.checkStyle}' data-role='radio' name='${e.utils.isValue(d.checkName)?d.checkName:"table_row_check"}' value='${ze[C][d.checkColIndex]}'>`),e.utils.isValue(Se)&&Array.isArray(Se)&&Se.indexOf(`${ze[C][d.checkColIndex]}`)>-1&&(P.prop("checked",!0),Re.push(U)),P.addClass("table-service-check"),this._fireEvent("check-draw",{check:P}),P.appendTo(F),i.service[1].clsColumn!==void 0&&F.addClass(i.service[1].clsColumn),F.appendTo(E),k=0;k<U.length;k++)Y[k]=null;for(a.each(U,function(Me){let Fe=this,wt=a("<td>").attr("data-label",i.heads[Me].title).attr("aria-label",i.heads[Me].title);e.utils.isValue(i.heads[Me].template)&&(Fe=i.heads[Me].template.replace(/%VAL%/g,Fe)),wt.html(Fe),wt.addClass(d.clsBodyCell),e.utils.isValue(i.heads[Me].clsColumn)&&wt.addClass(i.heads[Me].clsColumn),e.utils.bool(Le[Me].show)===!1&&wt.addClass("hidden"),e.utils.bool(Le[Me].show)&&wt.removeClass("hidden"),wt.data("original",this),Y[Le[Me]["index-view"]]=wt,i._fireEvent("draw-cell",{td:wt,val:Fe,cellIndex:Me,head:i.heads[Me],items:U}),d.cellWrapper===!0&&(Fe=a("<div>").addClass("data-wrapper").addClass(d.clsCellWrapper).html(wt.html()),wt.html("").append(Fe))}),k=0;k<U.length;k++)Y[k].appendTo(E),i._fireEvent("append-cell",{td:Y[k],tr:E,index:k});i._fireEvent("draw-row",{tr:E,view:i.view,heads:i.heads,items:U}),E.addClass(d.clsRow).addClass(ee?d.clsEvenRow:d.clsOddRow).appendTo(_),i._fireEvent("append-row",{tr:E})}a(this.component).find(".table-service-check-all input").prop("checked",Re.length)}else k=0,a.each(Le,function(){this.show&&k++}),d.check===!0&&k++,d.rownum===!0&&k++,E=a("<tr>").addClass(d.clsBodyRow).appendTo(_),F=a("<td>").attr("colspan",k).addClass("text-center").html(a("<span>").addClass(d.clsEmptyTableTitle).html(d.emptyTableTitle||m.label_empty)),F.appendTo(E);this._info(Ae+1,$e+1,ze.length),this._paging(ze.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),t!==void 0&&e.utils.exec(t,null,r[0])},_getItemContent:function(t){var F,P;let i=this.options,r=this.locale,d,m=t[this.sort.colIndex],_=this.heads[this.sort.colIndex].format,C=!e.utils.isNull(this.heads)&&!e.utils.isNull(this.heads[this.sort.colIndex])&&e.utils.isValue(this.heads[this.sort.colIndex].formatMask)?this.heads[this.sort.colIndex].formatMask:"%Y-%m-%d",k=(F=this.heads)!=null&&F[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:i.thousandSeparator,E=(P=this.heads)!=null&&P[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:i.decimalSeparator;if(d=`${m}`.toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),e.utils.isValue(d)&&e.utils.isValue(_))switch(["number","int","float","money"].indexOf(_)!==-1&&(d=e.utils.parseNumber(d,k,E)),_){case"date":d=C?Datetime.from(d,C,r):datetime(d);break;case"number":d=+d;break;case"int":d=Number.parseInt(d);break;case"float":d=Number.parseFloat(d);break;case"money":d=e.utils.parseMoney(d);break;case"card":d=e.utils.parseCard(d);break;case"phone":d=e.utils.parsePhone(d);break}return d},addItem:function(t,i){if(!Array.isArray(t))return console.warn("Item is not an array and can't be added"),this;this.items.push(t),i!==!1&&this.draw()},addItems:function(t,i){if(!Array.isArray(t))return console.warn("Items is not an array and can't be added"),this;for(let r of t)Array.isArray(r)&&this.items.push(r,!1);this.draw(),i!==!1&&this.draw()},updateItem:function(t,i,r){let d=this.items[this.index[t]],m=null;return e.utils.isNull(d)?(console.warn("Item is undefined for update"),this):(Number.isNaN(i)&&this.heads.forEach((_,C)=>{_.name===i&&(m=C)}),e.utils.isNull(m)?(console.warn(`Item is undefined for update. Field ${i} not found in data structure`),this):(d[m]=r,this.items[this.index[t]]=d,this))},getItem:function(t){return this.items[this.index[t]]},deleteItem:function(t,i){let r,d=[],m=e.utils.isFunc(i);for(r=0;r<this.items.length;r++)m?e.utils.exec(i,[this.items[r][t]])&&d.push(r):this.items[r][t]===i&&d.push(r);return this.items=e.utils.arrayDeleteByMultipleKeys(this.items,d),this},deleteItemByName:function(t,i){let r,d,m=[],_=e.utils.isFunc(i);for(r=0;r<this.heads.length;r++)if(this.heads[r].name===t){d=r;break}for(r=0;r<this.items.length;r++)_?e.utils.exec(i,[this.items[r][d]])&&m.push(r):this.items[r][d]===i&&m.push(r);return this.items=e.utils.arrayDeleteByMultipleKeys(this.items,m),this},draw:function(){return this._draw(),this},sorting:function(t){return e.utils.isValue(t)&&(this.sort.dir=t),this._fireEvent("sort-start",{items:this.items}),this.items.sort((i,r)=>{let d=this._getItemContent(i),m=this._getItemContent(r),_=0;return d<m&&(_=this.sort.dir==="asc"?-1:1),d>m&&(_=this.sort.dir==="asc"?1:-1),_!==0&&this._fireEvent("sort-item-switch",{a:i,b:r,result:_}),_}),this._fireEvent("sort-stop",{items:this.items}),this},search:function(t){return this.searchString=t.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(t){let i=this,r=this.element,d=!1,m;this._createIndex(),t===!0&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&a.each(this.heads,function(_){!d&&["asc","desc"].indexOf(this.sortDir)>-1&&(d=!0,i.sort.colIndex=_,i.sort.dir=this.sortDir)}),d&&(m=r.find(".sortable-column"),this._resetSortClass(m),a(m.get(i.sort.colIndex)).addClass(`sort-${i.sort.dir}`),this.sorting()),i.currentPage=1,i._draw()},setHeads:function(t){return this.heads=t,this},setHeadItem:function(t,i){let r,d;for(r=0;r<this.heads.length;r++)if(this.heads[r].name===t){d=r;break}return this.heads[d]=i,this},setItems:function(t){return this.items=t,this},setData:function(t){let i=this.options;return this.activity.show(()=>{this.items=[],this.heads=[],this.foots=[],Array.isArray(i.head)&&(this.heads=i.head),Array.isArray(i.body)&&(this.items=i.body),this._createItemsFromJSON(t),this._rebuild(!0),this.activity.hide()}),this},loadData:function(t,i=!0){let r=this.element,d=this.options;r.html(""),e.utils.isValue(t)?(d.source=t,this._fireEvent("data-load",{source:d.source}),this.activity.show(()=>{fetch(d.source).then(e.fetch.status).then(e.fetch.json).then(m=>{this.activity.hide(),this.items=[],this.heads=[],this.foots=[],this._fireEvent("data-loaded",{source:d.source,data:m}),Array.isArray(d.head)&&(this.heads=d.head),Array.isArray(d.body)&&(this.items=d.body),this._createItemsFromJSON(m),this._rebuild(i),this._resetInspector(),this._fireEvent("data-load-end",{source:d.source,data:m})}).catch(m=>{this.activity.hide(),this._fireEvent("data-load-error",{source:d.source,error:m})})})):this._rebuild(i)},reload:function(t){this.loadData(this.options.source,t)},clear:function(){return this.items=[],this.draw()},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}return this._draw(),this}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}return this._draw(),this}},first:function(){if(this.items.length!==0)return this.currentPage=1,this._draw(),this},last:function(){if(this.items.length!==0)return this.currentPage=this.pagesCount,this._draw(),this},page:function(t){let i=t;return i<=0&&(i=1),i>this.pagesCount&&(i=this.pagesCount),this.currentPage=i,this._draw(),this},addFilter:function(t,i){let r=null,d,m=e.utils.isFunc(t);if(m!==!1){for(d=0;d<this.filters.length;d++)if(e.utils.isNull(this.filters[d])){r=d,this.filters[d]=m;break}return e.utils.isNull(r)&&(this.filters.push(m),r=this.filters.length-1),i===!0&&(this.currentPage=1,this.draw()),r}},removeFilter:function(t,i){return this.filters[t]=null,i===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(t){return this.filters=[],t===!0&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){let t=this.element,i=this.options,r=e.storage.getItem(i.checkStoreKey.replace("$1",t.attr("id"))),d=[];return e.utils.isValue(r)?(a.each(this.items,function(){r.indexOf(`${this[i.checkColIndex]}`)!==-1&&d.push(this)}),d):[]},getStoredKeys:function(){let t=this.element,i=this.options;return e.storage.getItem(i.checkStoreKey.replace("$1",t.attr("id")),[])},clearSelected:function(t){let i=this.element,r=this.options;e.storage.setItem(r.checkStoreKey.replace("$1",i.attr("id")),[]),i.find("table-service-check-all input").prop("checked",!1),t===!0&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(t){let i=this.inspector;t?i.show(0,()=>{i.css({top:(a(globalThis).height()-i.outerHeight(!0))/2+pageYOffset,left:(a(globalThis).width()-i.outerWidth(!0))/2+pageXOffset}).data("open",!0)}):i.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(t,i,r,d){let m=e.export,_=this,C=this.options,k=document.createElement("table"),E=a("<thead>").appendTo(k),F=a("<tbody>").appendTo(k),P,U,Y,ee=[],Ae,$e,ze,Re,Se;if(typeof m.tableToCSV!="function")return;let Le=e.utils.isValue(i)?i.toLowerCase():"all-filtered",Me=e.utils.isValue(r)?r:`${element.id()||Hooks.useId()}-export.csv`;for($e=a("<tr>"),Y=this.heads,U=0;U<Y.length;U++)ee[U]=null;for(a.each(Y,function(Fe){e.utils.bool(_.view[Fe].show)!==!1&&(ze=a("<th>"),e.utils.isValue(this.title)&&ze.html(this.title),ee[_.view[Fe]["index-view"]]=ze)}),U=0;U<Y.length;U++)e.utils.isValue(ee[U])&&ee[U].appendTo($e);switch($e.appendTo(E),Le){case"checked":{Ae=this.getSelectedItems(),Re=0,Se=Ae.length-1;break}case"view":{Ae=this._filter(),Re=Number.parseInt(C.rows)===-1?0:C.rows*(this.currentPage-1),Se=Number.parseInt(C.rows)===-1?Ae.length-1:Re+C.rows-1;break}case"all":{Ae=this.items,Re=0,Se=Ae.length-1;break}default:Ae=this._filter(),Re=0,Se=Ae.length-1}for(P=Re;P<=Se;P++)if(e.utils.isValue(Ae[P])){for($e=a("<tr>"),Y=Ae[P],U=0;U<Y.length;U++)ee[U]=null;for(a.each(Y,function(Fe){e.utils.bool(_.view[Fe].show)!==!1&&(ze=a("<td>").html(this),ee[_.view[Fe]["index-view"]]=ze)}),U=0;U<Y.length;U++)e.utils.isValue(ee[U])&&ee[U].appendTo($e);$e.appendTo(F)}m.tableToCSV(k,Me,d),k.remove()},changeAttribute:function(t){let i=this,r=this.element,d=this.options;function m(){d.check=e.utils.bool(r.attr("data-check")),i._service(),i._createTableHeader(),i._draw()}function _(){d.rownum=e.utils.bool(r.attr("data-rownum")),i._service(),i._createTableHeader(),i._draw()}switch(t){case"data-check":m();break;case"data-rownum":_();break}},destroy:function(){let t=this.element,i=t.closest(".table-component"),r=i.find("input"),d=i.find("select");if(r.data("input").destroy(),d.data("select").destroy(),a(globalThis).off(e.events.resize,{ns:this.id}),t.off(e.events.click,".sortable-column"),t.off(e.events.click,".table-service-check input"),t.off(e.events.click,".table-service-check-all input"),r.off(e.events.inputchange),e.utils.isValue(this.wrapperSearch)){let m=this.wrapperSearch.find("input");m.length>0&&m.off(e.events.inputchange)}return i.off(e.events.click,".pagination .page-link"),e.utils.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),t.off(e.events.click,".js-table-crud-button"),this._removeInspectorEvents(),t}})})(Metro,Dom),((e,a)=>{let f={wheelStep:20,materialTabsDeferred:0,deep:!1,fixedTabs:!1,duration:300,appBar:!1,clsComponent:"",clsTabs:"",clsTab:"",clsTabActive:"",clsMarker:"",onBeforeTabOpen:e.noop_true,onTabOpen:e.noop,onTabsScroll:e.noop,onTabsCreate:e.noop};e.materialTabsSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroMaterialTabsSetup<"u"&&e.materialTabsSetup(globalThis.metroMaterialTabsSetup),e.Component("material-tabs",{init:function(t,i){return this._super(i,t,f,{marker:null,scroll:0,scrollDir:"left"}),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("tabs-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r=t.find("li"),d=t.find("li.active"),m=a("<div>").addClass("tabs-material-wrapper").addClass(i.clsComponent).insertBefore(t);i.appBar===!0&&m.addClass("app-bar-present"),i.appBar==="more"&&m.addClass("app-bar-present-more"),t.appendTo(m),t.addClass("tabs-material").addClass(i.clsTabs),r.addClass(i.clsTab),i.deep===!0&&t.addClass("deep"),i.fixedTabs===!0&&t.addClass("fixed-tabs"),this.marker=t.find(".tab-marker"),this.marker.length===0&&(this.marker=a("<span>").addClass("tab-marker").addClass(i.clsMarker).appendTo(t)),this.openTab(d.length===0?r[0]:d[0])},_createEvents:function(){let t=this,i=this.element,r=this.options;i.on(e.events.click,"li",function(d){let m=a(this),_=i.find("li.active"),C=m.index()>_.index(),k=m.children("a").attr("href");if(d.preventDefault(),e.utils.isValue(k)&&k[0]==="#"){if(m.hasClass("active")||m.hasClass("disabled")||e.utils.exec(r.onBeforeTabOpen,[m,k,C],this)===!1)return;t.openTab(m,C)}}),i.on(e.events.scroll,()=>{let d=t.scroll;t.scrollDir=t.scroll<i[0].scrollLeft?"left":"right",t.scroll=i[0].scrollLeft,t._fireEvent("tabs-scroll",{scrollLeft:i[0].scrollLeft,oldScroll:d,scrollDir:t.scrollDir})}),i.on(e.events.mousewheel,function(d){if(d.deltaY===void 0)return;let m=a(this),_=d.deltaY>0?-1:1,C=r.wheelStep,k=m.scrollLeft()-_*C;m.scrollLeft(k)},{passive:!0})},openTab:function(t,i){let r=this.element,d=this.options,m=r.find("li"),_=52,C,k,E,F,P=a(t);a.each(m,function(){let Ae=a(this).find("a").attr("href");e.utils.isValue(Ae)&&Ae[0]==="#"&&Ae.length>1&&a(Ae).hide()});let U=r.width();E=r.scrollLeft(),k=P.position().left;let Y=P.width(),ee=k+Y;m.removeClass("active").removeClass(d.clsTabActive),P.addClass("active").addClass(d.clsTabActive),ee+_>U+E?F=E+_*2:k<E?F=k-_*2:F=E,r.animate({draw:{scrollLeft:F},dur:d.duration}),this.marker.animate({draw:{left:k,width:Y},dur:d.duration}),C=P.find("a").attr("href"),e.utils.isValue(C)&&C[0]==="#"&&C.length>1&&a(C).show(),this._fireEvent("tab-open",{tab:P[0],target:C,tab_next:i})},open:function(t){let i=this.element,r=i.find("li"),d=i.find("li.active"),m=r.eq(t-1),_=r.index(m)>r.index(d);this.openTab(m,_)},changeAttribute:()=>{},destroy:function(){let t=this.element;t.off(e.events.click,"li"),t.off(e.events.scroll),t.remove()}})})(Metro,Dom),((e,a)=>{let f={autocomplete:null,autocompleteUnique:!0,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,label:"",size:"normal",tagInputDeferred:0,static:!1,clearButton:!0,clearButtonIcon:"❌",randomColor:!1,maxTags:0,tagSeparator:",",tagTrigger:"Enter, Space, Comma",backspace:!0,clsComponent:"",clsInput:"",clsClearButton:"",clsTag:"",clsTagTitle:"",clsTagAction:"",clsLabel:"",onBeforeTagAdd:e.noop_true,onTagAdd:e.noop,onBeforeTagRemove:e.noop_true,onTagRemove:e.noop,onTag:e.noop,onClear:e.noop,onTagTrigger:e.noop,onTagInputCreate:e.noop};e.tagInputSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroTagInputSetup<"u"&&e.tagInputSetup(globalThis.metroTagInputSetup),e.Component("tag-input",{init:function(t,i){return this._super(i,t,f,{values:[],triggers:[],autocomplete:[]}),this},_create:function(){this.triggers=`${this.options.tagTrigger}`.toArray(","),(this.triggers.includes("Space")||this.triggers.includes("Spacebar"))&&(this.triggers.push(" "),this.triggers.push("Spacebar")),this.triggers.includes("Comma")&&this.triggers.push(","),this._createStructure(),this._createEvents(),this._fireEvent("tag-input-create",{element:this.element})},_createStructure:function(){let t=this,i=this.element,r=this.options,d,m,_=i.val().trim();if(d=i.wrap("<div>").addClass(`tag-input ${i[0].className}`).addClass(r.clsComponent),d.addClass(`input-${r.size}`),i[0].className="",i.addClass("original-input"),a("<input type='text'>").addClass("input-wrapper").addClass(r.clsInput).attr("size",1).appendTo(d),r.clearButton!==!1&&!i[0].readOnly&&(d.addClass("padding-for-clear"),m=a("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(r.clearButtonIcon),m.appendTo(d)),e.utils.isValue(_)&&a.each(_.toArray(r.tagSeparator),function(){t._addTag(this)}),r.label){let C=a("<label>").addClass("label-for-input").addClass(r.clsLabel).html(r.label).insertBefore(d);if(i.attr("id"))C.attr("for",i.attr("id"));else{let k=Hooks.useId(i[0]);C.attr("for",k),i.attr("id",k)}i.attr("dir")==="rtl"&&C.addClass("rtl")}if(i.is(":disabled")?this.disable():this.enable(),(r.static===!0||i.attr("readonly")!==void 0)&&d.addClass("static-mode"),(!e.utils.isNull(r.autocomplete)||!e.utils.isNull(r.autocompleteUrl))&&a("<div>").addClass("autocomplete-list").css({maxHeight:r.autocompleteListHeight,display:"none"}).appendTo(d),e.utils.isValue(r.autocomplete)){let C=e.utils.isObject(r.autocomplete);C!==!1?this.autocomplete=C:this.autocomplete=r.autocomplete.toArray(r.autocompleteDivider)}e.utils.isValue(r.autocompleteUrl)&&fetch(r.autocompleteUrl,{method:r.autocompleteUrlMethod}).then(C=>C.text()).then(C=>{let k=[];try{k=JSON.parse(C),r.autocompleteUrlKey&&(k=k[r.autocompleteUrlKey])}catch{k=C.split(`
`)}t.autocomplete=t.autocomplete.concat(k)})},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.closest(".tag-input"),m=d.find(".input-wrapper"),_=d.find(".autocomplete-list");m.on(e.events.focus,()=>{d.addClass("focused")}),m.on(e.events.blur,()=>{d.removeClass("focused")}),m.on(e.events.inputchange,()=>{m.attr("size",Math.ceil(m.val().length/2)+2)}),m.on(e.events.keydown,C=>{let k=m.val().trim(),E=C.key;if(E==="Enter"&&C.preventDefault(),r.backspace===!0&&E==="Backspace"&&k.length===0){t.values.length>0&&(t.values.splice(-1,1),i.siblings(".tag").last().remove(),i.val(t.values.join(r.tagSeparator)));return}k!==""&&t.triggers.includes(E)&&(t._fireEvent("tag-trigger",{key:E}),m.val(""),t._addTag(k),m.attr("size",1))}),m.on(e.events.keyup,C=>{let k=m.val(),E=C.key;t.triggers.includes(E)&&k[k.length-1]===E&&m.val(k.slice(0,-1))}),d.on(e.events.click,".tag .action",function(){let C=a(this).closest(".tag");t._delTag(C)}),d.on(e.events.click,()=>{m.focus()}),d.on(e.events.click,".input-clear-button",()=>{let C=i.val();t.clear(),t._fireEvent("clear",{val:C})}),m.on(e.events.input,function(){let C=this.value.toLowerCase();t._drawAutocompleteList(C)}),d.on(e.events.click,".autocomplete-list .item",function(){let C=a(this).attr("data-autocomplete-value");m.val(""),t._addTag(C),m.attr("size",1),_.css({display:"none"}),t._fireEvent("autocomplete-select",{value:C})})},_drawAutocompleteList:function(t){let i=this,r=this.element,d=this.options,m=r.closest(".tag-input"),_=m.find(".input-wrapper"),C=m.find(".autocomplete-list");if(C.length===0)return;C.html("");let k=this.autocomplete.filter(E=>E.toLowerCase().indexOf(t)>-1);C.css({display:k.length>0?"block":"none",left:_.position().left}),a.each(k,function(){if(d.autocompleteUnique&&i.values.indexOf(this)!==-1)return;let E=this.toLowerCase().indexOf(t),F,P=a("<div>").addClass("item").attr("data-autocomplete-value",this);E===0?F=`<strong>${this.substring(0,t.length)}</strong>${this.substring(t.length)}`:F=`${this.substring(0,E)}<strong>${this.substring(E,t.length)}</strong>${this.substring(E+t.length)}`,P.html(F).appendTo(C),i._fireEvent("draw-autocomplete-item",{item:P})})},_addTag:function(t){let i=this.element,r=this.options,d=i.closest(".tag-input"),m=d.find(".input-wrapper"),_,C,k;if(d.hasClass("input-large")?k="large":d.hasClass("input-small")&&(k="small"),r.maxTags>0&&this.values.length===r.maxTags||`${t}`.trim()===""||!e.utils.exec(r.onBeforeTagAdd,[t,this.values],i[0]))return;_=a("<span>").addClass("tag").addClass(k).addClass(r.clsTag).insertBefore(m),_.data("value",t),(r.static||d.hasClass("static-mode")||i.readonly||i.disabled||d.hasClass("disabled"))&&_.addClass("static");let E=a("<span>").addClass("title").addClass(r.clsTagTitle).html(t);if(C=a("<span>").addClass("action").addClass(r.clsTagAction).html("&times;"),E.appendTo(_),C.appendTo(_),r.randomColor===!0){let F=Object.values(Object.assign({},Farbe.StandardColors,Farbe.MetroColors)),P=F[a.random(0,F.length-1)],U=Farbe.Routines.darken(P,15),Y=Farbe.Routines.isDark(P)?"#ffffff":"#000000";_.css({backgroundColor:P,color:Y}),C.css({backgroundColor:U,color:Y})}this.values.push(t),i.val(this.values.join(r.tagSeparator)),this._fireEvent("tag-add",{tag:_[0],val:t,values:this.values}),this._fireEvent("tag",{tag:_[0],val:t,values:this.values})},_delTag:function(t){let i=this.element,r=this.options,d=t.data("value");e.utils.exec(r.onBeforeTagRemove,[t,d,this.values],i[0])&&(e.utils.arrayDelete(this.values,d),i.val(this.values.join(r.tagSeparator)),this._fireEvent("tag-remove",{tag:t[0],val:d,values:this.values}),this._fireEvent("tag",{tag:t[0],val:d,values:this.values}),t.remove())},tags:function(){return this.values},val:function(t){let i=this,r=this.element,d=this.options,m=r.closest(".tag-input"),_=[];return e.utils.isValue(t)?(this.values=[],m.find(".tag").remove(),typeof t=="string"?_=`${t}`.toArray(d.tagSeparator):Array.isArray(t)&&(_=t),a.each(_,function(){i._addTag(this)}),this):this.tags()},append:function(t){let i=this,r=this.options,d=this.values;return typeof t=="string"?d=`${t}`.toArray(r.tagSeparator):Array.isArray(t)&&(d=t),a.each(d,function(){i._addTag(this)}),this},clear:function(){let t=this.element,i=t.closest(".tag-input");return this.values=[],t.val("").trigger("change"),i.find(".tag").remove(),this},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleStatic:function(t){let i=this.element.closest(".tag-input"),r;e.utils.isValue(t)?r=e.utils.bool(t):r=!i.hasClass("static-mode"),r?i.addClass("static-mode"):i.removeClass("static-mode")},setAutocompleteList:function(t){let i=e.utils.isObject(t);i!==!1?this.autocomplete=i:typeof t=="string"&&(this.autocomplete=t.toArray(this.options.autocompleteDivider))},changeAttribute:function(t){let i=this.element,r=this.options,d=()=>{let m=i.attr("value").trim();this.clear(),e.utils.isValue(m)&&this.val(m.toArray(r.tagSeparator))};switch(t){case"value":d();break;case"disabled":this.toggleState();break;case"static":this.toggleStatic();break}},destroy:function(){let t=this.element,i=this.options,r=t.closest(".tag-input"),d=r.find(".input-wrapper");d.off(e.events.focus),d.off(e.events.blur),d.off(e.events.keydown),r.off(e.events.click,".tag .action"),r.off(e.events.click),i.label&&r.prev("label").remove(),r.remove()}}),a(document).on(e.events.click,()=>{a(".tag-input .autocomplete-list").hide()})})(Metro,Dom),((e,a)=>{let f={onTaskClick:e.noop,onMyObjectCreate:e.noop};e.taskBarSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroTaskBarSetup<"u"&&e.taskBarSetup(globalThis.metroTaskBarSetup),e.Component("task-bar",{init:function(t,i){return this._super(i,t,f,{tasks:[],systemTray:[],widgets:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("task-bar-create")},_createStructure:function(){let t=this.element;this.options,t.addClass("task-bar"),t.append(a("<div>").addClass("widgets")),t.append(a("<div>").addClass("tasks")),t.append(a("<div>").addClass("system-tray"))},_createEvents:function(){let t=this,i=this.element;i.on(e.events.click,".task",function(){let r=t.tasks[a(this).index()];for(let d of t.tasks)d.active=!1;r.active=!0,t._renderTasks(),t._fireEvent("task-click",{task:r,element:r.ref})}),i.on(e.events.click,".system-tray-item",function(){let r=t.systemTray[a(this).index()];t._fireEvent("system-tray-click",{item:r})}),i.on(e.events.click,".widget",function(){let r=t.widgets[a(this).index()];t._fireEvent("widget-click",{item:r})})},_renderTasks:function(){let t=this.element;this.options;let i=t.find(".tasks").clear();for(let r of this.tasks){let d=a("<div>").addClass("task").attr("title",r.title).html(r.icon);r.active&&d.addClass("active"),i.append(d)}},_renderSystemTray:function(){let t=this.element.find(".system-tray").clear();for(let i of this.systemTray)t.append(a(i).addClass("system-tray-item"))},_renderWidgets:function(){let t=this.element.find(".widgets").clear();for(let i of this.widgets)t.append(a(i).addClass("widget"))},addTask:function(t,i=!1){if(i)for(let r of this.tasks)r.active=!1;this.tasks.push({...t,active:i}),this._renderTasks()},removeTask:function(t){this.tasks=this.tasks.filter(i=>i.ref!==t),this._renderTasks()},activateTask:function(t){let i=this.tasks.filter(d=>d.ref===t);if(i.length===0)return;let r=i[0];for(let d of this.tasks)d.active=!1;r.active=!0,this._renderTasks()},addToSystemTray:function(t){this.systemTray.push(t),this._renderSystemTray()},addWidget:function(t){this.widgets.push(t),this._renderWidgets()},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f=(i,r,d)=>{let m,_="<%(.+?)%>",C=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,k=`with(obj) { var r=[];
`,E=0,F,P,U=(Y,ee)=>(ee?k+=Y.match(C)?`${Y}
`:`r.push(${Y});
`:k+=Y!==""?`r.push("${Y.replace(/"/g,'\\"')}");
`:"",U);for(e.utils.isValue(d)&&(a.hasProp(d,"beginToken")&&(_=_.replace("<%",d.beginToken)),a.hasProp(d,"endToken")&&(_=_.replace("%>",d.endToken))),m=new RegExp(_,"g"),P=m.exec(i);P;)U(i.slice(E,P.index))(P[1],!0),E=P.index+P[0].length,P=m.exec(i);U(i.substring(E,i.length-E)),k=`${k}return r.join(""); }`.replace(/[\r\t\n]/g," ");try{F=new Function("obj",k).apply(r,[r])}catch(Y){console.error(`'${Y.message}'`,` in 

Code:
`,k,`
`)}return F},t={templateData:null,onTemplateCompile:e.noop,onTemplateCreate:e.noop};e.templateSetup=i=>{t=a.extend({},t,i)},typeof globalThis.metroTemplateSetup<"u"&&e.templateSetup(globalThis.metroTemplateSetup),e.Component("template",{init:function(i,r){return this._super(r,i,t,{template:null,data:{}}),this},_compile:function(){let i=this.element,r=this.template.replace(/(&lt;%)/gm,"<%").replace(/(%&gt;)/gm,"%>").replace(/(&lt;)/gm,"<").replace(/(&gt;)/gm,">"),d=f(r,this.data);i.html(d),this._fireEvent("template-compile",{template:r,compiled:d,element:i})},_create:function(){let i=this.element,r=this.options;this.template=i.html(),this.data=e.utils.isObject(r.templateData)||{},this._compile(),this._fireEvent("template-create",{element:i})},buildWith:function(i){let r=e.utils.isObject(i);r&&(this.data=r,this._compile())},changeAttribute:function(i,r){i==="data-template-data"&&(this.options.templateData=r,this.data=e.utils.isObject(r)||{},this._compile())},destroy:function(){return this.element}}),e.template=f})(Metro,Dom),((e,a)=>{let f={label:"",textareaDeferred:0,charsCounter:null,charsCounterTemplate:"$1",defaultValue:"",prepend:"",append:"",clearButton:!0,clearButtonIcon:"❌",autoSize:!0,maxHeight:0,clsPrepend:"",clsAppend:"",clsComponent:"",clsTextarea:"",clsLabel:"",onChange:e.noop,onTextareaCreate:e.noop};e.textareaSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroTextareaSetup<"u"&&e.textareaSetup(globalThis.metroTextareaSetup),e.Component("textarea",{init:function(t,i){return this._super(i,t,f),this},_create:function(){let t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("textarea-create",{element:t})},_createStructure:function(){let t=this.element,i=this.elem,r=this.options,d=a("<div>").addClass(`textarea ${t[0].className}`),m=a("<textarea>").addClass("fake-textarea"),_;if(d.insertBefore(t),t.appendTo(d),m.appendTo(d),r.clearButton!==!1&&!t[0].readOnly&&(_=a("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(r.clearButtonIcon),_.appendTo(d)),t.attr("dir")==="rtl"&&d.addClass("rtl").attr("dir","rtl"),r.prepend!==""&&a("<div>").html(r.prepend).addClass("prepend").addClass(r.clsPrepend).appendTo(d),r.append!==""){let C=a("<div>").html(r.append);C.addClass("append").addClass(r.clsAppend).appendTo(d),_.css({right:C.outerWidth()+4})}if(i.className="",e.utils.isValue(r.defaultValue)&&t.val().trim()===""&&t.val(r.defaultValue),d.addClass(r.clsComponent),t.addClass(r.clsTextarea),r.label){let C=a("<label>").addClass("label-for-input").addClass(r.clsLabel).html(r.label).insertBefore(d);if(t.attr("id"))C.attr("for",t.attr("id"));else{let k=Hooks.useId(t[0]);C.attr("for",k),t.attr("id",k)}t.attr("dir")==="rtl"&&C.addClass("rtl")}t.is(":disabled")?this.disable():this.enable(),m.val(t.val()),r.autoSize===!0&&(d.addClass("autosize no-scroll-vertical"),setTimeout(()=>{this.resize()},100)),this.component=d},_createEvents:function(){let t=this,i=this.element,r=this.options,d=i.closest(".textarea"),m=d.find(".fake-textarea"),_=a(r.charsCounter);d.on(e.events.click,".input-clear-button",C=>{i.val(e.utils.isValue(r.defaultValue)?r.defaultValue:"").trigger("change").trigger("keyup").focus(),C.preventDefault(),C.stopPropagation()}),r.autoSize&&i.on(`${e.events.inputchange} ${e.events.keyup}`,function(){m.val(this.value),t.resize()}),i.on(e.events.blur,()=>{d.removeClass("focused")}),i.on(e.events.focus,()=>{d.addClass("focused")}),i.on(e.events.keyup,()=>{e.utils.isValue(r.charsCounter)&&_.length>0&&(_[0].tagName==="INPUT"?_.val(t.length()):_.html(r.charsCounterTemplate.replace("$1",t.length()))),t._fireEvent("change",{val:i.val(),length:t.length()})})},resize:function(){let t=this.element,i=this.options,r=t.closest(".textarea"),d=r.find(".fake-textarea"),m=d[0].scrollHeight;if(i.maxHeight&&m>=i.maxHeight){r.removeClass("no-scroll-vertical");return}i.maxHeight&&m<i.maxHeight&&r.addClass("no-scroll-vertical"),d[0].style.cssText="height:auto;",d[0].style.cssText=`height:${d[0].scrollHeight}px`,t[0].style.cssText=`height:${d[0].scrollHeight}px`},clear:function(){this.element.val("").trigger("change").trigger("keyup").focus()},toDefault:function(){this.element.val(e.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"").trigger("change").trigger("keyup").focus()},length:function(){return this.elem.value.split("").length},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"disabled":this.toggleState();break}},destroy:function(){let t=this.element,i=this.options;t.closest(".textarea").off(e.events.click,".input-clear-button"),i.autoSize&&t.off(`${e.events.inputchange} ${e.events.keyup}`),t.off(e.events.blur),t.off(e.events.focus),t.off(e.events.keyup),i.label&&this.component.prev("label").remove(),this.component.remove()}})})(Metro,Dom),((e,a)=>{let f={state:e.theme.LIGHT,target:"html",saveState:!0,saveStateKey:"THEME:SWITCHER",clsDark:"",darkSymbol:"🌙",lightSymbol:"🌞",mode:"switch",onThemeSwitcherCreate:e.noop,onChangeTheme:e.noop};e.themeSwitcherSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroThemeSwitcherSetup<"u"&&e.themeSwitcherSetup(globalThis.metroThemeSwitcherSetup),e.Component("theme-switcher",{init:function(t,i){return this._super(i,t,f,{container:null,state:null,target:null}),this.state=this.options.state,this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("theme-switcher-create")},_createStructure:function(){let t=this.element,i=this.options,r="light";i.saveState&&(r=e.storage.getItem(i.saveStateKey,!1)),t.attr("data-light-symbol",i.lightSymbol),t.attr("data-dark-symbol",i.darkSymbol),e.makePlugin(t,"switch"),this.container=t.wrap(a("<label>").addClass("theme-switcher")),this.container.addClass(`mode-${i.mode}`),this.target=a(i.target),this.target.length===0&&(this.target=a("html")),this._setState(i.saveState?r:i.state===e.theme.DARK),this._updateState()},_createEvents:function(){this.container.on("click",()=>{this._updateState()}),this._observeClass()},_observeClass:function(){new MutationObserver(t=>{for(let i of t)i.type==="attributes"&&i.attributeName==="class"&&(this.elem.checked=this.target[0].classList.contains("dark-side"))}).observe(this.target[0],{attributes:!0,attributeFilter:["class"]})},_setState:function(t=!1){this.elem.checked=t},_updateState:function(){let t=a.meta("metro:theme").length>0,i=this.options,r=this.elem,d=this.target;t||(r.checked?d.addClass("dark-side").addClass(this.options.clsDark):d.removeClass("dark-side").addClass(this.options.clsDark),i.saveState&&e.storage.setItem(i.saveStateKey,r.checked),this._fireEvent("change-theme",{state:r.checked}))},val:function(t){if(typeof t>"u")return this.elem.checked?e.theme.DARK:e.theme.LIGHT;this._setState(typeof t=="boolean"?t:t===e.theme.DARK),this._updateState()},changeAttribute:function(t,i){t==="data-target"&&(this.target=a(i),this._updateState())},destroy:function(){this.container.remove()}})})(Metro,Dom),((e,a)=>{let f=["slide-up","slide-down","slide-left","slide-right","fade","zoom","swirl","switch"],t={tileDeferred:0,size:"medium",cover:"",coverPosition:"center",effect:"",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onTileClick:e.noop,onTileCreate:e.noop};e.tileSetup=i=>{t=a.extend({},t,i)},typeof globalThis.metroTileSetup<"u"&&e.tileSetup(globalThis.metroTileSetup),e.Component("tile",{init:function(i,r){return this._super(r,i,t,{effectInterval:!1,images:[],slides:[],currentSlide:-1,unload:!1}),this},_create:function(){let i=this.element;this._createTile(),this._createEvents(),this._fireEvent("tile-create",{element:i})},_createTile:function(){function i(k,E,F){setTimeout(()=>{k.fadeOut(500,()=>{k.css("background-image",`url(${E})`),k.fadeIn()})},F*300)}let r=this,d=this.element,m=this.options,_=d.find(".slide"),C=d.find(".slide-front, .slide-back");if(d.addClass(`tile-${m.size}`),m.effect.indexOf("hover-")>-1&&(d.addClass(`effect-${m.effect}`),a.each(C,function(){let k=a(this);k.data("cover")!==void 0&&r._setCover(k,k.data("cover"),k.data("cover-position"))})),f.includes(m.effect)&&_.length>1&&(a.each(_,function(k){let E=a(this);r.slides.push(this),E.data("cover")!==void 0&&r._setCover(E,E.data("cover"),E.data("cover-position")),k>0&&(["slide-up","slide-down"].indexOf(m.effect)>-1&&E.css("top","100%"),["slide-left","slide-right"].indexOf(m.effect)>-1&&E.css("left","100%"),["fade","zoom","swirl","switch"].indexOf(m.effect)>-1&&E.css("opacity",0))}),this.currentSlide=0,this._runEffects()),m.cover!==""&&this._setCover(d,m.cover),m.effect==="image-set"){d.addClass("image-set"),a.each(d.children("img"),function(){r.images.push(this),a(this).remove()});let k=this.images.slice();for(let F=0;F<5;F++){let P=a.random(0,k.length-1),U=a("<div>").addClass(`img -js-img-${F}`).css("background-image",`url(${k[P].src})`);d.prepend(U),k.splice(P,1)}let E=[0,1,4,3,2];setInterval(()=>{let F=r.images.slice(),P=Farbe.Routines.randomColor();d.css("background-color",P);for(let U=0;U<E.length;U++){let Y=a.random(0,F.length-1),ee=d.find(`.-js-img-${E[U]}`);i(ee,F[Y].src,U),F.splice(Y,1)}E=E.reverse()},5e3)}},_runEffects:function(){let i=this.options;this.effectInterval===!1&&(this.effectInterval=setInterval(()=>{let r,d;r=a(this.slides[this.currentSlide]),this.currentSlide++,this.currentSlide===this.slides.length&&(this.currentSlide=0),d=this.slides[this.currentSlide],f.includes(i.effect)&&e.Effects[Str.camelCase(i.effect)](a(r)[0],a(d)[0],{duration:i.effectDuration})},i.effectInterval))},_stopEffects:function(){a.clearInterval(this.effectInterval),this.effectInterval=!1},_setCover:function(i,r,d){i.css({backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:d||this.options.coverPosition})},_createEvents:function(){let i=this,r=this.element,d=this.options;r.on(e.events.startAll,function(m){let _=a(this),C={w:r.width(),h:r.height()},k=e.utils.pageXY(m).x-_.offset().left,E=e.utils.pageXY(m).y-_.offset().top,F;e.utils.isRightMouse(m)===!1&&(k<C.w*1/3&&(E<C.h*1/2||E>C.h*1/2)?F="left":k>C.w*2/3&&(E<C.h*1/2||E>C.h*1/2)?F="right":k>C.w*1/3&&k<C.w*2/3&&E>C.h/2?F="bottom":F="top",d.canTransform===!0&&_.addClass(`transform-${F}`),d.target!==null&&setTimeout(()=>{document.location.href=d.target},100),i._fireEvent("tile-click",{side:F}))}),r.on([e.events.stopAll,e.events.leave].join(" "),function(){a(this).removeClass("transform-left").removeClass("transform-right").removeClass("transform-top").removeClass("transform-bottom")})},changeAttribute:()=>{},destroy:function(){let i=this.element;i.off(e.events.startAll),i.off([e.events.stopAll,e.events.leave].join(" ")),i.remove()}})})(Metro,Dom),((e,a)=>{let f={label:"",timepickerDeferred:0,hoursStep:1,minutesStep:1,secondsStep:1,value:null,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsHours:"",clsMinutes:"",clsSeconds:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"✓",cancelButtonIcon:"𐄂",onSet:e.noop,onOpen:e.noop,onClose:e.noop,onScroll:e.noop,onTimePickerCreate:e.noop};e.timePickerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroTimePickerSetup<"u"&&e.timePickerSetup(globalThis.metroTimePickerSetup),e.Component("time-picker",{init:function(t,i){return this._super(i,t,f,{picker:null,isOpen:!1,value:[],listTimer:{hours:null,minutes:null,seconds:null},id:e.utils.elementId("time-picker")}),this},_create:function(){let t=this.element,i=this.options,r;for(i.distance<1&&(i.distance=1),i.hoursStep<1&&(i.hoursStep=1),i.hoursStep>23&&(i.hoursStep=23),i.minutesStep<1&&(i.minutesStep=1),i.minutesStep>59&&(i.minutesStep=59),i.secondsStep<1&&(i.secondsStep=1),i.secondsStep>59&&(i.secondsStep=59),t.val()===""&&!e.utils.isValue(i.value)&&(i.value=datetime().format("HH:mm:ss")),this.value=(t.val()!==""?t.val():`${i.value}`).toArray(":"),r=0;r<3;r++)this.value[r]===void 0||this.value[r]===null?this.value[r]=0:this.value[r]=Number.parseInt(this.value[r]);this._normalizeValue(),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("time-picker-create",{element:t})},_normalizeValue:function(){let t=this.options;t.hoursStep>1&&(this.value[0]=e.utils.nearest(this.value[0],t.hoursStep,!0)),t.minutesStep>1&&(this.value[1]=e.utils.nearest(this.value[1],t.minutesStep,!0)),t.minutesStep>1&&(this.value[2]=e.utils.nearest(this.value[2],t.secondsStep,!0))},_createStructure:function(){let t=this.element,i=this.options,r=this.strings,d,m,_,C,k,E,F,P=Hooks.useId(t[0]);if(d=a("<div>").addClass(`wheel-picker time-picker ${t[0].className}`).addClass(i.clsPicker),d.attr("id")||d.attr("id",P),d.insertBefore(t),t.attr("readonly",!0).appendTo(d),i.label){let ee=a("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(d);t.attr("id")&&ee.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&ee.addClass("rtl")}E=a("<div>").addClass("time-wrapper").appendTo(d),i.hours===!0&&(m=a("<div>").attr("data-title",r.label_hours).addClass("hours").addClass(i.clsPart).addClass(i.clsHours).appendTo(E)),i.minutes===!0&&(_=a("<div>").attr("data-title",r.label_minutes).addClass("minutes").addClass(i.clsPart).addClass(i.clsMinutes).appendTo(E)),i.seconds===!0&&(C=a("<div>").attr("data-title",r.label_seconds).addClass("seconds").addClass(i.clsPart).addClass(i.clsSeconds).appendTo(E));let U=a("<div>").addClass("select-wrapper").appendTo(d);if(F=a("<div>").addClass("select-block").appendTo(U),i.hours===!0){for(m=a("<ul>").addClass("sel-hours").appendTo(F),k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(m);for(k=0;k<24;k=k+i.hoursStep)a("<li>").addClass(`js-hours-${k}`).html(Str.lpad(k,"0",2)).data("value",k).appendTo(m);for(k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(m)}if(i.minutes===!0){for(_=a("<ul>").addClass("sel-minutes").appendTo(F),k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(_);for(k=0;k<60;k=k+i.minutesStep)a("<li>").addClass(`js-minutes-${k}`).html(Str.lpad(k,"0",2)).data("value",k).appendTo(_);for(k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(_)}if(i.seconds===!0){for(C=a("<ul>").addClass("sel-seconds").appendTo(F),k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(C);for(k=0;k<60;k=k+i.secondsStep)a("<li>").addClass(`js-seconds-${k}`).html(Str.lpad(k,"0",2)).data("value",k).appendTo(C);for(k=0;k<i.distance;k++)a("<li>").html("&nbsp;").data("value",-1).appendTo(C)}F.height((i.distance*2+1)*40);let Y=a("<div>").addClass("action-block").appendTo(U);if(a("<button>").attr("type","button").addClass("button action-now").addClass(i.clsButton).addClass(i.clsTodayButton).html(`<span class="caption">${this.strings.label_now}</span>`).appendTo(Y),a("<button>").attr("type","button").addClass("button action-ok").addClass(i.clsButton).addClass(i.clsOkButton).html(`<span class="icon">${i.okButtonIcon}</span>`).appendTo(Y),a("<button>").attr("type","button").addClass("button action-cancel").addClass(i.clsButton).addClass(i.clsCancelButton).html(`<span class="icon">${i.cancelButtonIcon}</span>`).appendTo(Y),t[0].className="",i.copyInlineStyles===!0)for(k=0;k<t[0].style.length;k++)d.css(t[0].style[k],t.css(t[0].style[k]));i.showLabels===!0&&d.addClass("show-labels"),t.prop("disabled")&&d.addClass("disabled"),this.picker=d},_createEvents:function(){let t=this,i=this.options,r=this.picker;r.on("touchstart",".select-block ul",function(m){if(m.changedTouches)return;let _=e.utils.pageXY(m).y;a(document).on("touchmove",C=>{this.scrollTop-=i.scrollSpeed*(_>e.utils.pageXY(C).y?-1:1),_=e.utils.pageXY(C).y},{ns:t.id}),a(document).on("touchend",()=>{a(document).off(e.events.move,{ns:t.id}),a(document).off(e.events.stop,{ns:t.id})},{ns:t.id})}),r.on(e.events.click,m=>{t.isOpen===!1&&t.open(),m.stopPropagation()}),r.on(e.events.click,".action-ok",m=>{let _=r.find(".sel-hours li.active"),C=r.find(".sel-minutes li.active"),k=r.find(".sel-seconds li.active"),E=_.length===0?0:_.data("value"),F=C.length===0?0:C.data("value"),P=k.length===0?0:k.data("value");t.value=[E,F,P],t._normalizeValue(),t._set(),t.close(),m.stopPropagation()}),r.on(e.events.click,".action-cancel",m=>{t.close(),m.stopPropagation()});let d=150;a.each(["hours","minutes","seconds"],function(){let m=r.find(`.sel-${this}`),_=Hooks.useDebounce(C=>{let k;t.listTimer[this]=null,k=Math.round(Math.ceil(m.scrollTop())/40),this==="hours"&&i.hoursStep&&(k*=Number.parseInt(i.hoursStep)),this==="minutes"&&i.minutesStep&&(k*=Number.parseInt(i.minutesStep)),this==="seconds"&&i.secondsStep&&(k*=Number.parseInt(i.secondsStep));let E=m.find(`.js-${this}-${k}`),F=E.position().top-i.distance*40;m.find(".active").removeClass("active"),m[0].scrollTop=F,E.addClass("active"),e.utils.exec(i.onScroll,[E,m,r],m[0])},d);m.on("scroll",_)}),r.on(e.events.click,"ul li",function(m){let _=a(this),C=_.closest("ul"),k=_.position().top-i.distance*40;C.find(".active").removeClass("active"),a.animate({el:C[0],draw:{scrollTop:k},dur:300}),C[0].scrollTop=k,_.addClass("active"),e.utils.exec(i.onScroll,[_,C,r],C[0])}),r.on(e.events.click,".action-now",m=>{let _=datetime(),C=_.hour(),k=_.minute(),E=_.second();r.find(`.sel-hours li.js-hours-${C}`).click(),r.find(`.sel-minutes li.js-minutes-${k}`).click(),r.find(`.sel-seconds li.js-seconds-${E}`).click(),m.preventDefault(),m.stopPropagation()})},_set:function(){let t=this.element,i=this.options,r=this.picker,d="00",m="00",_="00";i.hours===!0&&(d=Number.parseInt(this.value[0]),r.find(".hours").html(Str.lpad(d,"0",2))),i.minutes===!0&&(m=Number.parseInt(this.value[1]),r.find(".minutes").html(Str.lpad(m,"0",2))),i.seconds===!0&&(_=Number.parseInt(this.value[2]),r.find(".seconds").html(Str.lpad(_,"0",2))),t.val([d,m,_].join(":")).trigger("change"),this._fireEvent("set",{val:this.value,elementVal:t.val()})},open:function(){let t=this.options,i=this.picker,r,d,m,_,C,k,E=i.find("li"),F=i.find(".select-wrapper"),P,U,Y;a.each(a(".time-picker"),function(){a(this).find("input").each(function(){e.getPlugin(this,"timepicker").close()})}),F.show(0),E.removeClass("active"),t.openMode==="auto"?(e.utils.inViewport(F[0])||F.parent().addClass("drop-up-select"),e.utils.inViewport(F[0])||(F.parent().removeClass("drop-up-select"),F.parent().addClass("drop-as-dialog"))):t.openMode==="dialog"?F.parent().addClass("drop-as-dialog"):t.openMode==="up"&&F.parent().addClass("drop-up-select");let ee=(Ae,$e)=>{Ae.scrollTop(0).animate({draw:{scrollTop:$e.position().top-t.distance*40+Ae.scrollTop()},dur:100})};t.hours===!0&&(r=Number.parseInt(this.value[0]),_=i.find(".sel-hours"),P=_.find(`li.js-hours-${r}`).addClass("active"),ee(_,P)),t.minutes===!0&&(d=Number.parseInt(this.value[1]),C=i.find(".sel-minutes"),U=C.find(`li.js-minutes-${d}`).addClass("active"),ee(C,U)),t.seconds===!0&&(m=Number.parseInt(this.value[2]),k=i.find(".sel-seconds"),Y=k.find(`li.js-seconds-${m}`).addClass("active"),ee(k,Y)),this.isOpen=!0,this._fireEvent("open",{val:this.value})},close:function(){let t=this.picker,i=this.options;t.find(".select-wrapper").hide(0),i.openMode==="auto"&&t.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{val:this.value})},_convert:t=>{let i;return Array.isArray(t)?i=t:typeof t.getMonth=="function"?i=[t.getHours(),t.getMinutes(),t.getSeconds()]:e.utils.isObject(t)?i=[t.h,t.m,t.s]:i=t.toArray(":"),i},val:function(t){if(t===void 0)return this.element.val();this.value=this._convert(t),this._normalizeValue(),this._set()},time:function(t){if(t===void 0)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(t),this._normalizeValue(),this._set()},date:function(t){if(t===void 0||typeof t.getMonth!="function")return datetime().hour(this.value[0]).minute(this.value[1]).second(this.value[2]).ms(0).val();this.value=this._convert(t),this._normalizeValue(),this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t,i){switch(t){case"data-value":this.val(i);break;case"disabled":this.toggleState();break}},destroy:function(){let t=this.element,i=this.picker;a.each(["hours","minutes","seconds"],function(){i.find(`.sel-${this}`).off("scroll")}),i.off(e.events.start,".select-block ul"),i.off(e.events.click),i.off(e.events.click,".action-ok"),i.off(e.events.click,".action-cancel"),t.remove()}}),a(document).on(e.events.click,()=>{a.each(a(".time-picker"),function(){a(this).find("input").each(function(){e.getPlugin(this,"timepicker").close()})})})})(Metro,Dom),((e,a)=>{e.TOAST_POSITION={TOP:"top",BOTTOM:"bottom",CENTER:"center"};let f={callback:e.noop,timeout:3e3,distance:20,position:e.TOAST_POSITION.BOTTOM,clsToast:""};e.toastSetup=i=>{f=a.extend({},f,i)},typeof globalThis.metroToastSetup<"u"&&e.toastSetup(globalThis.metroToastSetup);let t={create:(i,r)=>{let d,m,_;typeof r=="function"&&(_=Object.assign({},f,{callback:r})),d=a.extend({},f,_),m=a("<div>").addClass("toast").html(i).appendTo(a("body"));let C=m.outerWidth();d.position==="top"?m.addClass("show-top").css({top:d.distance}):d.position==="center"?m.addClass("show-center"):m.css({bottom:d.distance}),m.css({left:"50%","margin-left":-(C/2)}).addClass(d.clsToast).fadeIn(200,()=>{setTimeout(()=>{t.remove(m,d.callback)},d.timeout)})},remove:(i,r)=>{i.length&&i.fadeOut(200,()=>{i.remove(),e.utils.exec(r,null,i[0])})}};e.toast=t,e.createToast=t.create})(Metro,Dom),((e,a)=>{let f={textToTokenize:"",spaceSymbol:"",spaceClass:"space",tokenClass:"",splitter:"",tokenElement:"span",useTokenSymbol:!0,useTokenIndex:!0,clsTokenizer:"",clsToken:"",clsTokenOdd:"",clsTokenEven:"",onTokenCreate:e.noop,onTokenize:e.noop,onTokenizerCreate:e.noop};e.tokenizerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroTokenizerSetup<"u"&&e.tokenizerSetup(globalThis.metroTokenizerSetup),e.Component("tokenizer",{init:function(t,i){return this._super(i,t,f,{originalText:""}),this},_create:function(){let t=this.element,i=this.options;this.originalText=i.textToTokenize?i.textToTokenize.trim():t.text().trim().replace(/[\r\n\t]/gi,"").replace(/\s\s+/g," "),this._createStructure(),this._fireEvent("tokenizer-create")},_tokenize:function(){let t=this,i=this.element,r=this.options,d=0,m,_;i.clear().attr("aria-label",this.originalText),a.each(this.originalText.split(r.splitter),function(C){let k=this===" ",E;E=a(`<${r.tokenElement}>`).html(k?r.spaceSymbol:this).attr("aria-hidden",!0).addClass(k?r.spaceClass:"").addClass(k&&r.useTokenSymbol?"":`ts-${this.replace(" ","_")}`).addClass(k&&r.useTokenIndex?"":`ti-${C+1}`).addClass(r.tokenClass?r.tokenClass:"").addClass(k?"":r.clsToken),k||(d++,E.addClass(d%2===0?"te-even":"te-odd"),E.addClass(d%2===0?r.clsTokenEven:r.clsTokenOdd)),r.prepend&&(_=a.isSelector(r.prepend)?a(r.prepend):a("<span>").html(r.prepend),E.prepend(_)),r.append&&(m=a.isSelector(r.append)?a(r.append):a("<span>").html(r.append),E.append(m)),i.append(E),t._fireEvent("token-create",{token:E[0]})}),t._fireEvent("tokenize",{tokens:i.children().items(),originalText:this.originalText})},_createStructure:function(){let t=this.element,i=this.options;t.addClass(i.clsTokenizer),this._tokenize()},tokenize:function(t){this.originalText=t,this._tokenize()},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={treeviewDeferred:0,showChildCount:!1,duration:100,hideActionsOnLeave:!0,recheckTimeout:100,leaves:[],onNodeClick:e.noop,onNodeDblClick:e.noop,onNodeDelete:e.noop,onNodeInsert:e.noop,onNodeClean:e.noop,onCheckClick:e.noop,onRadioClick:e.noop,onExpandNode:e.noop,onCollapseNode:e.noop,onTreeViewCreate:e.noop};e.treeViewSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroTreeViewSetup<"u"&&e.treeViewSetup(globalThis.metroTreeViewSetup),e.Component("tree-view",{init:function(t,i){return this._super(i,t,f),this},_create:function(){let t=this,i=this.element;this._createTree(),this._createEvents(),a.each(i.find("input"),function(){a(this).is(":checked")&&t._recheck(this)}),this._fireEvent("tree-view-create",{element:i})},_createIcon:t=>{let i=e.utils.isTag(t)?a(t):a("<img src='' alt=''>").attr("src",t),r=a("<span>").addClass("icon");return r.html(i.outerHTML()),r},_createCaption:(t,i)=>{let r=a("<span>").addClass("caption").html(t);return i&&(e.utils.isObject(i)?r.css(i):typeof i=="string"&&(r[0].style.cssText=i)),r},_createToggle:()=>a("<span>").addClass("node-toggle"),_createNode:function(t,i){let r=this.options,d=i||a("<li>"),m=a("<a>");if(d.prepend(m),(t.link||t.href)&&m.attr("href",t.link||t.href),t.caption&&m.prepend(this._createCaption(t.caption,t.style)),t.icon&&m.prepend(this._createIcon(t.icon)),t.html&&m.append(t.html),t.attributes&&a.type(t.attributes)==="object")for(let _ in t.attributes)m.attr(_,t.attributes[_]);if(t.style&&(typeof t.style=="string"?m[0].style.cssText=t.style:a.type(t.style)==="object"&&m.css(t.style)),t.badge){let[_,C]=t.badge.split(":");m.append(a("<span>").addClass("badge").addClass(C).html(_))}if(t.badges&&a.each(typeof t.badges=="string"?t.badges.toArray(","):Array.isArray(t.badges)?t.badges:[],(_,C)=>{let[k,E]=C.split(":");m.append(a("<span>").addClass("badge").addClass(E).html(k))}),t.secondary){let[_,C]=t.secondary.split(":");m.append(a("<span>").addClass("secondary-text").addClass(C).html(_))}if(t.actions){let _=a("<div class='dropdown-button'>").addClass("actions-holder");a("<span class='actions-list-trigger'>").text("⋮").appendTo(_);let C=a("<ul data-role='dropmenu' class='d-menu actions-list'>").appendTo(_);d.append(_);for(let k of t.actions)if(k.type&&k.type==="divider")a("<li>").addClass("divider").appendTo(C);else{let E=k.icon?a(k.icon).addClass("icon").outerHTML():"",F=`<span class="caption">${k.caption}</span>`,P=a(`<li><a href="#">${E} ${F}</a></li>`).appendTo(C);k.cls&&P.addClass(k.cls),P.find("a").on("click",function(){e.utils.exec(k.onclick,[P[0]],this)})}C.on(e.events.leave,k=>{r.hideActionsOnLeave&&e.getPlugin(C,"dropmenu").close()})}return t.current&&d.addClass("current"),t.type==="node"&&(d.addClass("tree-node"),d.append(a("<span>").addClass("node-toggle")),d.append(a("<ul>"))),d.children("ul").length&&(d.addClass("tree-node"),d.append(a("<span>").addClass("node-toggle")),e.utils.bool(t.collapsed)!==!0?d.addClass("expanded"):d.children("ul").hide()),d},_createCheckNode:function(t,i){let r=i||a("<li>");if(r.append(`
                <input data-role="${t.type}" type="${t.type??"checkbox"}" name="${t.name}" value="${t.value??""}" ${t.checked?"checked":""} data-append="${t.caption}"/>
            `),t.icon&&r.find("label").prepend(this._createIcon(t.icon)),t.attributes&&a.type(t.attributes)==="object")for(let d in t.attributes)r.attr(d,t.attributes[d]);if(t.secondary){let[d,m]=t.secondary.split(":");r.find("label").append(a("<span>").addClass("secondary-text").addClass(m).html(d))}return r},_createInputNode:(t,i)=>{let r=i||a("<li>");if(r.append(`
                <input data-role="${t.type}" type="${t.type??"text"}" name="${t.name}" value="${t.value??""}" data-prepend="${t.caption??""}" placeholder="${t.placeholder??""}"/>
            `),t.secondary){let[d,m]=t.secondary.split(":");r.find("label").append(a("<span>").addClass("secondary-text").addClass(m).html(d))}return r},_createTree:function(){let t=this.element,i=this.options,r=t.find("li[data-caption]");if(t.addClass("treeview"),a.each(r,(d,m)=>{let _=a(m);_.data("type")==="checkbox"||_.data("type")==="radio"?this._createCheckNode({caption:_.data("caption"),icon:_.data("icon"),type:_.data("type"),name:_.data("name"),attributes:_.data("attributes"),value:_.data("value"),checked:_.data("checked")==="true",secondary:_.data("secondary")},_):_.data("type")==="input"?this._createInputNode({caption:_.data("caption"),type:_.data("type"),name:_.data("name"),attributes:_.data("attributes"),value:_.data("value"),secondary:_.data("secondary"),placeholder:_.data("placeholder")},_):this._createNode({caption:_.data("caption"),icon:_.data("icon"),html:_.data("html"),attributes:_.data("attributes"),badge:_.data("badge"),badges:_.data("badges"),actions:_.data("actions"),type:_.data("type"),collapsed:_.data("collapsed"),link:_.data("link"),href:_.data("href"),secondary:_.data("secondary"),style:_.data("style")},_)}),i.leaves){let d=e.utils.isObject(i.leaves);d&&this.fillTree(d)}this._recheckTree()},_createEvents:function(){let t=this,i=this.element;i.on(e.events.click,".node-toggle",function(r){let d=a(this).parent();t.toggleNode(d),r.preventDefault()}),i.on(e.events.click,"a",function(r){let d=a(this).parent();t.current(d),t._fireEvent("node-click",{node:d[0]}),r.preventDefault()}),i.on(e.events.dblclick,"a",function(r){let d=a(this).closest("li"),m=d.children(".node-toggle"),_=d.children("ul");(m.length>0||_.length>0)&&t.toggleNode(d),t._fireEvent("node-dbl-click",{node:d[0]}),r.preventDefault()}),i.on(e.events.click,"input[type=radio]",function(){let r=a(this),d=r.is(":checked"),m=r.closest("li");t.current(m),t._fireEvent("radio-click",{checked:d,check:r[0],node:m[0]})}),i.on(e.events.click,"input[type=checkbox]",function(){let r=a(this),d=r.is(":checked"),m=r.closest("li");t._recheck(r),t._fireEvent("check-click",{checked:d,check:r[0],node:m[0]})})},_recheck:function(t){let i=a(t),r=i.is(":checked"),d=i.closest("li");this.current(d);let m=i.closest("li").find("ul input[type=checkbox]");m.attr("data-indeterminate",!1),m.prop("indeterminate",!1),m.prop("checked",r),m.trigger("change"),this._recheckTree()},_recheckTree:function(t){setTimeout(()=>{let i=this.element.find("input[type=checkbox]").reverse();a.each(i.reverse(),function(){let r=a(this),d=r.closest("li").children("ul").find("input[type=checkbox]").length,m=r.closest("li").children("ul").find("input[type=checkbox]").filter(_=>_.checked).length;d>0&&m===0&&(r.attr("data-indeterminate",!1),r.prop("indeterminate",!1),r.prop("checked",!1),r.trigger("change")),m===0?(r.attr("data-indeterminate",!1),r.prop("indeterminate",!1)):m>0&&d>m?(r.attr("data-indeterminate",!0),r.prop("indeterminate",!0)):d===m&&(r.attr("data-indeterminate",!1),r.prop("indeterminate",!1),r.prop("checked",!0),r.trigger("change"))})},t??this.options.recheckTimeout)},current:function(t){let i=this.element;if(!t)return i.find(".current");i.find(".current").removeClass("current"),t.addClass("current")},toggleNode:function(t){let i=a(t),r=this.options,d=!i.data("collapsed");i.toggleClass("expanded"),i.data("collapsed",d);let m=d===!0?"slideUp":"slideDown";d?this._fireEvent("collapse-node",{node:i[0]}):this._fireEvent("expand-node",{node:i[0]}),i.children("ul")[m](r.duration)},addTo:function(t,i){let r=this.element,d,m,_,C;return t?(C=a(t),d=C.children("ul"),d.length===0&&(d=a("<ul>").appendTo(C),_=this._createToggle(),_.appendTo(C),C.addClass("expanded")),C==null||C.addClass("tree-node")):d=r,i.type==="checkbox"||i.type==="radio"?m=this._createCheckNode(i):i.type==="input"?m=this._createInputNode(i):m=this._createNode(i),m.appendTo(d),this._fireEvent("node-insert",{node:m[0],parent:C?C[0]:null}),this._recheckTree(),m},insertBefore:function(t,i){let r=this._createNode(i);if(!t)return this.addTo(void 0,i);let d=a(t);return r.insertBefore(d),this._fireEvent("node-insert",{node:r[0],parent:d?d[0]:null}),r},insertAfter:function(t,i){let r=this._createNode(i);if(!t)return this.addTo(void 0,i);let d=a(t);return r.insertAfter(d),this._fireEvent("node-insert",{node:r[0],parent:d[0]}),r},del:function(t){let i=this.element,r=a(t),d=r.closest("ul"),m=d.closest("li");this._fireEvent("node-delete",{node:r[0]}),r.remove(),d.children().length===0&&!d.is(i)&&(d.remove(),m.removeClass("expanded"),m.children(".node-toggle").remove()),this._recheckTree()},clean:function(t){let i=a(t);i.children("ul").remove(),i.removeClass("expanded"),i.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:i[0]})},collapseNode(t){let i=this.options,r=a(t);r.removeClass("expanded"),r.data("collapsed",!0),r.children("ul").slideUp(i.duration),this._fireEvent("collapse-node",{node:r[0]})},expandNode(t){let i=this.options,r=a(t);r.hasClass("tree-node")&&(r.addClass("expanded"),r.data("collapsed",!1),r.children("ul").slideDown(i.duration),this._fireEvent("expand-node",{node:r[0]}))},collapseAll(){let t=this.element,i=this.options;t.find(".expanded").each((r,d)=>{let m=a(d),_=!m.data("collapsed");m.toggleClass("expanded"),m.data("collapsed",_);let C=_===!0?"slideUp":"slideDown";_?this._fireEvent("collapse-node",{node:m[0]}):this._fireEvent("expand-node",{node:m[0]}),m.children("ul")[C](i.duration)}),this._fireEvent("collapse-all")},expandAll(){let t=this.element,i=this.options;t.find(".tree-node:not(.expanded)").each((r,d)=>{let m=a(d),_=!m.data("collapsed");m.toggleClass("expanded"),m.data("collapsed",_);let C=_===!0?"slideUp":"slideDown";_?this._fireEvent("collapse-node",{node:m[0]}):this._fireEvent("expand-node",{node:m[0]}),m.children("ul")[C](i.duration)}),this._fireEvent("expand-all")},fillTree:function(t,i){for(let r of t){let d=this.addTo(i,{...r,type:r.items?"node":"item"});r.items&&this.fillTree(r.items,d)}},changeAttribute:function(t,i){t==="data-recheck-timeout"&&(this.options.recheckTimeout=i??100)},destroy:function(){let t=this.element;t.off(e.events.click,".node-toggle"),t.off(e.events.click,"li > .caption"),t.off(e.events.dblclick,"li > .caption"),t.off(e.events.click,"input[type=radio]"),t.off(e.events.click,"input[type=checkbox]"),t.remove()}})})(Metro,Dom),((e,a)=>{let f={required:i=>G.safeParse(G.required(),i).ok,length:(i,r)=>G.safeParse(G.length(+r),i).ok,minlength:(i,r)=>G.safeParse(G.minLength(+r),i).ok,maxlength:(i,r)=>G.safeParse(G.maxLength(+r),i).ok,min:(i,r)=>G.safeParse(G.minValue(+r),+i).ok,max:(i,r)=>G.safeParse(G.maxValue(+r),+i).ok,email:i=>G.safeParse(G.email(),i).ok,domain:i=>G.safeParse(G.domain(),i).ok,url:i=>G.safeParse(G.url(),i).ok,date:(i,r,d)=>{try{return r?Datetime.from(i,r,d):datetime(i),!0}catch{return!1}},number:i=>G.safeParse(G.number(),+i).ok,integer:i=>G.safeParse(G.integer(),+i).ok,safeInteger:i=>G.safeParse(G.safeInteger(),+i).ok,float:i=>G.safeParse(G.float(),+i).ok,digits:i=>G.safeParse(G.digits(),i).ok,hexcolor:i=>G.safeParse(G.hexColor(),i).ok,color:i=>e.utils.isValue(i)?Farbe.Palette.color(i,Farbe.StandardColors)||Farbe.Routines.isColor(i):!1,pattern:(i,r)=>G.safeParse(G.pattern(r),i).ok,compare:(i,r)=>i==r,not:(i,r)=>i!=r,notequals:(i,r)=>i!==r,equals:(i,r)=>i===r,custom:(i,r)=>e.utils.isFunc(r)===!1?!1:e.utils.exec(r,[i]),is_control:i=>i.attr("data-role"),reset_state:i=>{let r=a(i);f.is_control(r)?r.parent().removeClass("invalid valid"):r.removeClass("invalid valid")},set_valid_state:i=>{let r=a(i);f.is_control(r)?r.parent().addClass("valid"):r.addClass("valid")},set_invalid_state:i=>{let r=a(i);f.is_control(r)?r.parent().addClass("invalid"):r.addClass("invalid")},reset:function(i){let r=this;return a.each(a(i).find("[data-validate]"),function(){r.reset_state(this)}),this},validate:function(i,r,d,m,_){let C=!0,k=a(i),E=k.data("validate")!==void 0?String(k.data("validate")).split(" ").map(ee=>ee.trim()):[],F=[],P=k.closest("form").length>0,U,Y;return E.length===0?!0:(this.reset_state(k),k.attr("type")&&k.attr("type").toLowerCase()==="checkbox"?(E.indexOf("required")===-1?C=!0:C=k.is(":checked"),C===!1&&F.push("required"),r!==void 0&&(r.val+=C?0:1)):k.attr("type")&&k.attr("type").toLowerCase()==="radio"?(U=k.attr("name"),typeof U>"u"?C=!0:(Y=a(`input[name=${U.replace("[","\\[").replace("]","\\]")}]:checked`),C=Y.length>0),r!==void 0&&(r.val+=C?0:1)):a.each(E,function(){if(C===!1)return;let ee=this.split("="),Ae,$e,ze;Ae=ee[0],ee.shift(),$e=ee.join("="),["compare","not","equals","notequals"].indexOf(Ae)>-1&&($e=P?k[0].form.elements[$e].value:a(`[name=${$e}]`).val()),Ae==="date"&&($e=k.attr("data-value-format"),ze=k.attr("data-value-locale")),e.utils.isFunc(f[Ae])===!1?C=!0:_===!0||Ae==="required"||k.val().trim()!==""?C=f[Ae](k.val(),$e,ze):C=!0,C===!1&&F.push(Ae),r!==void 0&&(r.val+=C?0:1)}),C===!1?(this.set_invalid_state(k),r!==void 0&&r.log.push({input:k[0],name:k.attr("name"),value:k.val(),funcs:E,errors:F}),m!==void 0&&e.utils.exec(m,[k,k.val()],k[0])):(this.set_valid_state(k),d!==void 0&&e.utils.exec(d,[k,k.val()],k[0])),C)}};e.validator=f;let t={validatorDeferred:0,submitTimeout:200,interactiveCheck:!1,clearInvalid:0,requiredMode:!0,useRequiredClass:!0,onBeforeSubmit:e.noop_true,onSubmit:e.noop,onError:e.noop,onValidate:e.noop,onErrorForm:e.noop,onValidateForm:e.noop,onValidatorCreate:e.noop};e.validatorSetup=i=>{t=a.extend({},t,i)},typeof globalThis.metroValidatorSetup<"u"&&e.validatorSetup(globalThis.metroValidatorSetup),e.Component("validator",{init:function(i,r){return this._super(r,i,t,{_onsubmit:null,_onreset:null,result:[]}),this},_create:function(){let i=this.element,r=this.options,d=i.find("[data-validate]");i.attr("novalidate","novalidate"),a.each(d,function(){let m=a(this);m.data("validate").indexOf("required")>-1&&r.useRequiredClass===!0&&(f.is_control(m)?m.parent().addClass("required"):m.addClass("required")),r.interactiveCheck===!0&&m.on(e.events.inputchange,function(){f.validate(this,void 0,void 0,void 0,r.requiredMode)})}),this._onsubmit=null,this._onreset=null,i[0].onsubmit!==null&&(this._onsubmit=i[0].onsubmit,i[0].onsubmit=null),i[0].onreset!==null&&(this._onreset=i[0].onreset,i[0].onreset=null),i[0].onsubmit=()=>this._submit(),i[0].onreset=()=>this._reset(),this._fireEvent("validator-create",{element:i})},_reset:function(){f.reset(this.element),this._onreset!==null&&e.utils.exec(this._onreset,null,this.element[0])},_submit:function(){let i=this.element,r=this.options,d=this.elem,m=i.find("[data-validate]"),_=i.find("input[type=submit], button[type=submit]"),C={val:0,log:[]},k=a.serializeToArray(i);return _.length>0&&_.attr("disabled","disabled").addClass("disabled"),a.each(m,function(){f.validate(this,C,r.onValidate,r.onError,r.requiredMode)}),_.removeAttr("disabled").removeClass("disabled"),C.val+=e.utils.exec(r.onBeforeSubmit,[k],this.elem)===!1?1:0,C.val===0?(this._fireEvent("validate-form",{data:k}),setTimeout(()=>{e.utils.exec(r.onSubmit,[k],d),i.fire("formsubmit",{data:k}),this._onsubmit!==null&&e.utils.exec(this._onsubmit,null,d)},r.submitTimeout)):(this._fireEvent("error-form",{log:C.log,data:k}),r.clearInvalid>0&&setTimeout(()=>{a.each(m,function(){let E=a(this);f.is_control(E)?E.parent().removeClass("invalid"):E.removeClass("invalid")})},r.clearInvalid)),C.val===0},changeAttribute:()=>{}})})(Metro,Dom),((e,a)=>{let f={duration:4e3,animationDuration:null,transitionDuration:null,transition:"fade",animation:null,slides:[],shuffle:!1,align:"center",valign:"center",loop:!0,autoplay:!0,mute:!0,cover:!0,preload:!0,timer:!0,overlay:2,color:null,volume:1,onPlay:e.noop,onPause:e.noop,onEnd:e.noop,onWalk:e.noop,onNext:e.noop,onPrev:e.noop,onJump:e.noop,onVegasCreate:e.noop};e.vegasSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroVegasSetup<"u"&&e.vegasSetup(globalThis.metroVegasSetup),e.Component("vegas",{videoCache:{},init:function(t,i){return this.transitions=["fade","fade2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsUp","kenburnsDown","kenburnsRight","kenburnsLeft","kenburnsUpLeft","kenburnsUpRight","kenburnsDownLeft","kenburnsDownRight"],this.support={objectFit:"objectFit"in document.body.style,video:!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)},this._super(i,t,f,{slide:0,slides:null,total:0,noshow:!1,paused:!1,ended:!1,timer:null,overlay:null,first:!0,timeout:!1}),this},_create:function(){let t=this.element,i=this.options;this.slides=e.utils.isObject(i.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!i.autoplay||this.noshow,i.shuffle&&this.slides.shuffle(),i.preload&&this._preload(),this._createStructure(),this._createEvents(),this._fireEvent("vegas-create",{element:t})},_createStructure:function(){let t=this.element,i=this.options,r=t[0].tagName==="BODY",d;r||(t.css("height",t.css("height")),d=a('<div class="vegas-wrapper">').css("overflow",t.css("overflow")).css("padding",t.css("padding")),t.css("padding")||d.css("padding-top",t.css("padding-top")).css("padding-bottom",t.css("padding-bottom")).css("padding-left",t.css("padding-left")).css("padding-right",t.css("padding-right")),t.children().appendTo(d),t.clear()),t.addClass("vegas-container"),r||t.append(d),i.timer&&(this.timer=a('<div class="vegas-timer"><div class="vegas-timer-progress">'),t.append(this.timer)),i.overlay&&(this.overlay=a('<div class="vegas-overlay">').addClass(`overlay${typeof i.overlay=="boolean"||Number.isNaN(i.overlay)?2:+i.overlay}`),t.append(this.overlay)),setTimeout(()=>{e.utils.exec(i.onPlay,null,t[0]),this._goto(this.slide)},1)},_createEvents:()=>{},_preload:function(){let t,i;for(i=0;i<this.slides.length;i++){let r=this.slides[i];r.src&&(t=new Image,t.src=this.slides[i].src),r.video&&(Array.isArray(r.video)?this._video(r.video):this._video(r.video.src))}},_slideShow:function(){let t=this.options;this.total>1&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(()=>{this.next()},t.duration))},_timer:function(t){let i=this.options;clearTimeout(this.timeout),this.timer&&(this.timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),!(this.ended||this.paused||this.noshow)&&t&&setTimeout(()=>{this.timer.addClass("vegas-timer-running").find("div").css("transition-duration",`${+i.duration-100}ms`)},100))},_fadeSoundIn:function(t,i){let r=this.options;a.animate({el:t,draw:{volume:+r.volume},dur:i})},_fadeSoundOut:(t,i)=>{a.animate({el:t,draw:{volume:0},dur:i})},_video:function(t){let i,r=t.toString(),d=Array.isArray(t)?t:[t];if(this.videoCache[r])return this.videoCache[r];let m=document.createElement("video");m.preload=!0;for(let _ of d)i=document.createElement("source"),i.src=_,m.appendChild(i);return this.videoCache[r]=m,m},_goto:function(t){let i=this,r=this.element,d=this.options,m=t;typeof this.slides[m]>"u"&&(m=0),this.slide=m;let _,C,k,E,F,P=r.children(".vegas-slide"),U=this.slides[t],Y=d.cover,ee,Ae,$e,ze;this.first&&(this.first=!1),Y!=="repeat"&&(Y===!0?Y="cover":Y===!1&&(Y="contain")),d.transition==="random"?ee=a.random(this.transitions):ee=d.transition?d.transition:this.transitions[0],d.animation==="random"?Ae=a.random(this.animations):Ae=d.animation?d.animation:this.animations[0],d.transitionDuration?d.transitionDuration==="auto"||+d.transitionDuration>+d.duration?$e=+d.duration:$e=+d.transitionDuration:$e=+d.duration,d.animationDuration?d.animationDuration==="auto"||+d.animationDuration>+d.duration?ze=+d.duration:ze=+d.animationDuration:ze=+d.duration,_=a("<div>").addClass("vegas-slide").addClass(`vegas-transition-${ee}`),this.support.video&&U.video?(k=Array.isArray(U.video)?this._video(U.video):this._video(U.video.src),k.loop=U.video.loop?U.video.loop:d.loop,k.muted=U.video.mute?U.video.mute:d.mute,k.muted?k.pause():this._fadeSoundIn(k,$e),F=a(k).addClass("vegas-video").css("background-color",d.color||"#000000"),this.support.objectFit?F.css("object-position",`${d.align} ${d.valign}`).css("object-fit",Y).css("width","100%").css("height","100%"):Y==="contain"&&F.css("width","100%").css("height","100%"),_.append(F)):(E=new Image,C=a("<div>").addClass("vegas-slide-inner").css({backgroundImage:`url("${U.src}")`,backgroundColor:d.color||"#000000",backgroundPosition:`${d.align} ${d.valign}`}),Y==="repeat"?C.css("background-repeat","repeat"):C.css("background-size",Y),Ae&&C.addClass(`vegas-animation-${Ae}`).css("animation-duration",`${ze}ms`),_.append(C)),P.length?P.eq(P.length-1).after(_):r.prepend(_),P.css("transition","all 0ms").each(function(){this.className="vegas-slide",this.tagName==="VIDEO"&&(this.className+=" vegas-video"),ee&&(this.className+=` vegas-transition-${ee}`,this.className+=` vegas-transition-${ee}-in`)}),this._timer(!1);function Re(){i._timer(!0),setTimeout(()=>{P.css("transition",`all ${$e}ms`).addClass(`vegas-transition-${ee}-out`),P.each(()=>{let Se=P.find("video").get(0);Se&&(Se.volume=1,i._fadeSoundOut(Se,$e))}),_.css("transition",`all ${$e}ms`).addClass(`vegas-transition-${ee}-in`);for(let Se=0;Se<P.length-1;Se++)P.eq(Se).remove();i._fireEvent("walk",{slide:i.current(!0)}),i._slideShow()},100)}k?(k.readyState===4&&(k.currentTime=0),k.play(),Re()):(E.src=U.src,E.complete?Re():E.onload=Re)},_end:function(){this.ended=this.options.autoplay,this._timer(!1),this._fireEvent("end",{slide:this.current(!0)})},play:function(){this.paused&&(this._fireEvent("play",{slide:this.current(!0)}),this.paused=!1,this.next())},pause:function(){this._timer(!1),this.paused=!0,this._fireEvent("pause",{slide:this.current(!0)})},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(t){return t?{slide:this.slide,data:this.slides[this.slide]}:this.slide},jump:function(t){if(t<=0||t>this.slides.length||t===this.slide+1)return this;this.slide=t-1,this._fireEvent("jump",{slide:this.current(!0)}),this._goto(this.slide)},next:function(){let t=this.options;if(this.slide++,this.slide>=this.slides.length){if(!t.loop)return this._end();this.slide=0}this._fireEvent("next",{slide:this.current(!0)}),this._goto(this.slide)},prev:function(){let t=this.options;if(this.slide--,this.slide<0){if(!t.loop)return this.slide++,this._end();this.slide=this.slides.length-1}this._fireEvent("prev",{slide:this.current(!0)}),this._goto(this.slide)},changeAttribute:function(t){let i=this.element,r=this.options,d=Str.camelCase(t.replace("data-",""));d==="slides"?(r.slides=i.attr("data-slides"),this.slides=e.utils.isObject(r.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!this.options.autoplay||this.noshow):typeof f[d]<"u"&&(r[d]=JSON.parse(i.attr(t)))},destroy:function(){let t=this.element,i=this.options;clearTimeout(this.timeout),t.removeClass("vegas-container"),t.find("> .vegas-slide").remove(),t.find("> .vegas-wrapper").children().appendTo(t),t.find("> .vegas-wrapper").remove(),i.timer&&this.timer.remove(),i.overlay&&this.overlay.remove(),t.remove()}})})(Metro,Dom),((e,a)=>{let f={videoDeferred:0,src:null,poster:"",logo:"",logoHeight:32,logoWidth:"auto",logoTarget:"",volume:.5,loop:!1,autoplay:!1,fullScreenMode:e.fullScreenMode.DESKTOP,aspectRatio:e.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:"⮔",stopIcon:"⏹",playIcon:"▶",pauseIcon:"⏸",muteIcon:"🔇",volumeLowIcon:"🔈",volumeMediumIcon:"🔉",volumeHighIcon:"🔊",screenMoreIcon:"⬜",screenLessIcon:"▫️",onPlay:e.noop,onPause:e.noop,onStop:e.noop,onEnd:e.noop,onMetadata:e.noop,onTime:e.noop,onVideoPlayerCreate:e.noop};e.videoPlayerSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroVideoPlayerSetup<"u"&&e.videoPlayerSetup(globalThis.metroVideoPlayerSetup),e.Component("video-player",{init:function(t,i){return this._super(i,t,f,{fullscreen:!1,preloader:null,player:null,video:i,stream:null,volume:null,volumeBackup:0,muted:!1,fullScreenInterval:!1,isPlaying:!1,id:e.utils.elementId("video-player")}),this},_create:function(){let t=this.element,i=this.options;e.fullScreenEnabled===!1&&(i.fullScreenMode=e.fullScreenMode.WINDOW),this._createPlayer(),this._createControls(),this._createEvents(),this._setAspectRatio(),i.autoplay===!0&&this.play(),this._fireEvent("video-player-create",{element:t,player:this.player})},_createPlayer:function(){let t=this.element,i=this.options,r=this.video,d=t.wrap("<div>").addClass(`media-player video-player ${t[0].className}`),m=a("<div>").addClass("preloader").appendTo(d),_=a("<a>").attr("href",i.logoTarget).addClass("logo").appendTo(d);t.wrap("<div>").addClass("video-wrapper"),a.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){t.removeAttr(this)}),t.attr("preload","auto"),i.poster!==""&&t.attr("poster",i.poster),r.volume=i.volume,m.activity({type:"cycle",style:"color"}),m.hide(),this.preloader=m,i.logo!==""&&a("<img>").css({height:i.logoHeight,width:i.logoWidth}).attr("src",i.logo).appendTo(_),i.src!==null&&this._setSource(i.src),t[0].className="",this.player=d},_setSource:function(t){let i=this.element;i.find("source").remove(),i.removeAttr("src"),Array.isArray(t)?a.each(t,function(){this.src!==void 0&&a("<source>").attr("src",this.src).attr("type",this.type!==void 0?this.type:"").appendTo(i)}):i.attr("src",t)},_createControls:function(){let t=this.element,i=this.options,r=this.elem,d=a("<div>").addClass("controls").addClass(i.clsControls).appendTo(this.player),m=a("<div>").addClass("stream").appendTo(d),_=a("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(m),C=a("<div>").addClass("volume").appendTo(d),k=a("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(C),E=a("<div>").addClass("info-box").appendTo(d);i.showInfo!==!0&&E.hide(),e.makePlugin(_,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:()=>{r.paused||r.pause()},onStop:P=>{r.seekable.length>0&&(r.currentTime=(this.duration*P/100).toFixed(0)),r.paused&&r.currentTime>0&&r.play()}}),this.stream=_,i.showStream!==!0&&m.hide(),e.makePlugin(k,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:i.volume*100,onChangeValue:P=>{r.volume=P/100}}),this.volume=k,i.showVolume!==!0&&C.hide();let F;i.showLoop===!0&&(F=a("<button>").attr("type","button").addClass("button square loop").attr("title",this.strings.label_loop).html(i.loopIcon).appendTo(d)),i.showPlay===!0&&a("<button>").attr("type","button").addClass("button square play").attr("title",this.strings.label_play).html(i.playIcon).appendTo(d),i.showStop===!0&&a("<button>").attr("type","button").addClass("button square stop").attr("title",this.strings.label_stop).html(i.stopIcon).appendTo(d),i.showMute===!0&&a("<button>").attr("type","button").addClass("button square mute").attr("title",this.strings.label_mute).html(i.muteIcon).appendTo(d),i.showFull===!0&&a("<button>").attr("type","button").addClass("button square full").html(i.screenMoreIcon).appendTo(d),i.loop===!0&&(F.addClass("active"),t.attr("loop","loop")),this._setVolume(),i.muted&&(this.volumeBackup=r.volume,e.getPlugin(this.volume,"slider").val(0),r.volume=0),E.html("00:00 / 00:00")},_createEvents:function(){let t=this.element,i=this.options,r=this.elem,d=this.player;t.on("loadstart",()=>{this.preloader.show()}),t.on("loadedmetadata",()=>{this.duration=r.duration.toFixed(0),this._setInfo(0,this.duration),e.utils.exec(i.onMetadata,[r,d],t[0])}),t.on("canplay",()=>{this._setBuffer(),this.preloader.hide()}),t.on("progress",()=>{this._setBuffer()}),t.on("timeupdate",()=>{let m=Math.round(r.currentTime*100/this.duration);this._setInfo(r.currentTime,this.duration),e.getPlugin(this.stream,"slider").val(m),e.utils.exec(i.onTime,[r.currentTime,this.duration,r,d],t[0])}),t.on("waiting",()=>{this.preloader.show()}),t.on("loadeddata",()=>{}),t.on("play",()=>{d.find(".play").html(i.pauseIcon),e.utils.exec(i.onPlay,[r,d],t[0])}),t.on("pause",()=>{d.find(".play").html(i.playIcon),e.utils.exec(i.onPause,[r,d],t[0])}),t.on("stop",()=>{e.getPlugin(this.stream,"slider").val(0),e.utils.exec(i.onStop,[r,d],t[0])}),t.on("ended",()=>{e.getPlugin(this.stream,"slider").val(0),e.utils.exec(i.onEnd,[r,d],t[0])}),t.on("volumechange",()=>{this._setVolume()}),d.on(e.events.click,".play",()=>{r.paused?this.play():this.pause()}),d.on(e.events.click,".stop",()=>{this.stop()}),d.on(e.events.click,".mute",()=>{this._toggleMute()}),d.on(e.events.click,".loop",()=>{this._toggleLoop()}),d.on(e.events.click,".full",()=>{this.fullscreen=!this.fullscreen,d.find(".full").html(this.fullscreen===!0?i.screenLessIcon:i.screenMoreIcon),i.fullScreenMode===e.fullScreenMode.WINDOW?this.fullscreen===!0?d.addClass("full-screen"):d.removeClass("full-screen"):this.fullscreen===!0?(e.requestFullScreen(r),this.fullScreenInterval===!1&&(this.fullScreenInterval=setInterval(()=>{e.inFullScreen()===!1&&(this.fullscreen=!1,clearInterval(this.fullScreenInterval),this.fullScreenInterval=!1,d.find(".full").html(i.screenMoreIcon))},1e3))):e.exitFullScreen()}),a(globalThis).on(e.events.keyup,m=>{this.fullscreen&&m.keyCode===27&&d.find(".full").click()},{ns:this.id}),a(globalThis).on(e.events.resize,()=>{this._setAspectRatio()},{ns:this.id})},_toggleLoop:function(){let t=this.player.find(".loop");t.length!==0&&(t.toggleClass("active"),t.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.video.volume=this.volumeBackup:(this.volumeBackup=this.video.volume,this.video.volume=0),e.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(t,i){this.player.find(".info-box").html(`${e.utils.secondsToFormattedString(Math.round(t))} / ${e.utils.secondsToFormattedString(Math.round(i))}`)},_setBuffer:function(){let t=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;e.getPlugin(this.stream,"slider").buff(t)},_setVolume:function(){let t=this.video,i=this.player,r=this.options,d=i.find(".mute"),m=t.volume*100;m>1&&m<30?d.html(r.volumeLowIcon):m>=30&&m<60?d.html(r.volumeMediumIcon):m>=60&&m<=100?d.html(r.volumeHighIcon):d.html(r.muteIcon)},_setAspectRatio:function(){let t=this.player,i=this.options,r=t.outerWidth(),d;switch(i.aspectRatio){case e.aspectRatio.SD:d=e.utils.aspectRatioH(r,"4/3");break;case e.aspectRatio.CINEMA:d=e.utils.aspectRatioH(r,"21/9");break;default:d=e.utils.aspectRatioH(r,"16/9")}t.outerHeight(d)},aspectRatio:function(t){this.options.aspectRatio=t,this._setAspectRatio()},play:function(t){t&&this._setSource(t),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&(this.isPlaying=!0,this.video.play())},pause:function(){this.isPlaying=!1,this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,e.getPlugin(this.stream,"slider").val(0),this._offMouse()},setVolume:function(t){if(typeof t>"u")return this.video.volume;let i=Number.parseFloat(t);i>1&&(i/=100),this.video.volume=i,e.getPlugin(this.volume[0],"slider").val(t*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr("data-aspect-ratio"),this._setAspectRatio()},changeSource:function(){let t=JSON.parse(this.element.attr("data-src"));this.play(t)},changeVolume:function(){let t=this.element.attr("data-volume");this.setVolume(t)},changeAttribute:function(t){switch(t){case"data-aspect-ratio":this.changeAspectRatio();break;case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){let t=this.element,i=this.player;return e.getPlugin(this.stream,"slider").destroy(),e.getPlugin(this.volume,"slider").destroy(),t.off("loadstart"),t.off("loadedmetadata"),t.off("canplay"),t.off("progress"),t.off("timeupdate"),t.off("waiting"),t.off("loadeddata"),t.off("play"),t.off("pause"),t.off("stop"),t.off("ended"),t.off("volumechange"),i.off(e.events.click,".play"),i.off(e.events.click,".stop"),i.off(e.events.click,".mute"),i.off(e.events.click,".loop"),i.off(e.events.click,".full"),a(globalThis).off(e.events.keyup,{ns:this.id}),a(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom),((e,a)=>{let f={onViewport:e.noop,onViewportEnter:e.noop,onViewportLeave:e.noop,onViewportCheckCreate:e.noop};e.viewportCheckSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroViewportCheckSetup<"u"&&e.viewportCheckSetup(globalThis.metroViewportCheckSetup),e.Component("viewport-check",{init:function(t,i){return this._super(i,t,f,{inViewport:!1,id:e.utils.elementId("viewport-check")}),this},_create:function(){this.inViewport=e.utils.inViewport(this.elem),this._createEvents(),this._fireEvent("viewport-check-create")},_createEvents:function(){let t=this.elem;a(globalThis).on(e.events.scroll,()=>{let i=this.inViewport;this.inViewport=e.utils.inViewport(t),i!==this.inViewport&&(this.inViewport?this._fireEvent("viewport-enter"):this._fireEvent("viewport-leave")),this._fireEvent("viewport",{state:this.inViewport})},{ns:this.id})},state:function(){return this.inViewport},destroy:function(){return a(globalThis).off(e.events.scroll,{ns:this.id}),this.element}})})(Metro,Dom),((e,a)=>{let f={_runtime:!1,windowDeferred:0,hidden:!1,width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,draggable:!0,dragElement:".window-caption .title",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:null,resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",closeAction:e.actions.HIDE,customButtons:null,status:"",canClose:!0,canMaximize:!0,canMinimize:!0,clsCustomButton:"",clsCaption:"",clsContent:"",clsWindow:"",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onWindowClick:e.noop,onCaptionClick:e.noop,onCaptionDblClick:e.noop,onCloseClick:e.noop,onMaxClick:e.noop,onMinClick:e.noop,onResizeStart:e.noop,onResizeStop:e.noop,onResize:e.noop,onWindowCreate:e.noop,onShow:e.noop,onWindowDestroy:e.noop,onCanClose:e.noop_true,onMinimize:e.noop,onMaximize:e.noop,onClose:e.noop};e.windowSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroWindowSetup<"u"&&e.windowSetup(globalThis.metroWindowSetup),e.Component("window",{init:function(t,i){return this._super(i,t,f,{win:null,overlay:null,position:{top:0,left:0},hidden:!1,content:null}),this},_create:function(){let t=this.element,i=this.options,r,d,m=i.dragArea==="parent"?t.parent():a(i.dragArea),_;i.modal===!0&&(i.btnMax=!1,i.btnMin=!1,i.resizable=!1),e.utils.isNull(i.content)||(e.utils.isUrl(i.content)&&e.utils.isVideoUrl(i.content)?(i.content=e.utils.embedUrl(i.content),t.css({height:"100%"})):!e.utils.isQ(i.content)&&e.utils.isFunc(i.content)&&(i.content=e.utils.exec(i.content)),_=a(i.content),_.length===0?t.appendText(i.content):t.append(_)),i.content=t,i._runtime===!0&&this._runtime(t,"window"),r=this._window(i),r.addClass("no-visible"),m.append(r),i.overlay===!0&&(d=this._overlay(),d.appendTo(r.parent()),this.overlay=d),this.win=r,this._fireEvent("window-create",{win:this.win[0],element:t}),setTimeout(()=>{this._setPosition(),i.hidden!==!0&&this.win.removeClass("no-visible"),this._fireEvent("show",{win:this.win[0],element:t})},100)},_setPosition:function(){let t=this.options,i=this.win,r=t.dragArea==="parent"?i.parent():a(t.dragArea),d=r.height()/2-i[0].offsetHeight/2,m=r.width()/2-i[0].offsetWidth/2,_,C,k,E;if(t.place!=="auto"){switch(t.place.toLowerCase()){case"top-left":_=0,C=0,k="auto",E="auto";break;case"top-center":_=0,C=m,k="auto",E="auto";break;case"top-right":_=0,k=0,C="auto",E="auto";break;case"right-center":_=d,k=0,C="auto",E="auto";break;case"bottom-right":E=0,k=0,C="auto",_="auto";break;case"bottom-center":E=0,C=m,k="auto",_="auto";break;case"bottom-left":E=0,C=0,k="auto",_="auto";break;case"left-center":_=d,C=0,k="auto",E="auto";break;default:_=d,C=m,E="auto",k="auto"}i.css({top:_,left:C,bottom:E,right:k})}},_window:function(t){let i,r,d,m,_,C,k,E,F,P,U=t.width,Y=t.height;if(i=a("<div>").addClass("window"),t.modal===!0&&i.addClass("modal"),r=a("<div>").addClass("window-caption"),d=a("<div>").addClass("window-content"),i.append(r),i.append(d),(t.status||t.resizable)&&(P=a("<div>").addClass("window-status").html(t.status),i.append(P)),t.shadow===!0&&i.addClass("shadowed"),e.utils.isValue(t.icon)&&(m=a("<span>").addClass("icon").html(t.icon),m.appendTo(r)),a("<span>").addClass("title").html(e.utils.isValue(t.title)?t.title:"&nbsp;").appendTo(r),e.utils.isNull(t.content)||(e.utils.isQ(t.content)?t.content.appendTo(d):d.html(t.content)),_=a("<div>").addClass("buttons"),_.appendTo(r),t.btnMax===!0&&(E=a("<span>").addClass("button small square btn-max sys-button"),E.appendTo(_)),t.btnMin===!0&&(k=a("<span>").addClass("button small square btn-min sys-button"),k.appendTo(_)),t.btnClose===!0&&(C=a("<span>").addClass("button small square btn-close sys-button"),C.appendTo(_)),t.customButtons){let ee=e.utils.isObject(t.customButtons);ee&&a.each(ee,function(){let Ae=a("<span>");Ae.addClass("button btn-custom").addClass(t.clsCustomButton).addClass(this.cls).attr("tabindex",-1).html(this.html),this.attr&&typeof this.attr=="object"&&a.each(this.attr,($e,ze)=>{Ae.attr(Str.dashedName($e),ze)}),Ae.data("action",this.onclick),_.prepend(Ae)})}return r.on(e.events.click,".btn-custom",function(ee){if(e.utils.isRightMouse(ee))return;let Ae=a(this),$e=Ae.data("action");e.utils.exec($e,[Ae],this)}),i.attr("id",t.id===void 0?e.utils.elementId("window"):t.id),i.on(e.events.startAll,".window-caption",ee=>{this._fireEvent("caption-click",{win:i[0],e:ee})}),i.on(e.events.dblclick,".window-caption",ee=>{this.maximize(ee)}),r.on(e.events.click,".btn-max, .btn-min, .btn-close",ee=>{if(e.utils.isRightMouse(ee))return;let Ae=a(ee.target);Ae.hasClass("btn-max")&&t.canMaximize&&this.maximize(ee),Ae.hasClass("btn-min")&&t.canMinimize&&this.minimize(ee),Ae.hasClass("btn-close")&&t.canClose&&this.close(ee)}),i.on(e.events.click,ee=>{this._fireEvent("window-click",{win:i[0],e:ee})}),t.draggable===!0&&e.makePlugin(i,"draggable",{dragContext:i[0],dragElement:r,dragArea:t.dragArea,onDragStart:t.onDragStart,onDragStop:t.onDragStop,onDragMove:t.onDragMove}),i.addClass(t.clsWindow),r.addClass(t.clsCaption),d.addClass(t.clsContent),t.minWidth===0&&(t.minWidth=34,a.each(_.children(".btn-custom"),function(){t.minWidth+=e.utils.hiddenElementSize(this).width}),t.btnMax&&(t.minWidth+=34),t.btnMin&&(t.minWidth+=34),t.btnClose&&(t.minWidth+=34)),t.minWidth>0&&!Number.isNaN(t.width)&&t.width<t.minWidth&&(U=t.minWidth),t.minHeight>0&&!Number.isNaN(t.height)&&t.height>t.minHeight&&(Y=t.minHeight),t.resizable&&(F=a("<span>").addClass("resize-element"),F.appendTo(i),i.addClass("resizable"),e.makePlugin(i,"resizable",{minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,resizeElement:".resize-element",onResizeStart:t.onResizeStart,onResizeStop:t.onResizeStop,onResize:t.onResize})),i.css({width:U,height:Y,position:t.position,top:t.top,left:t.left}),i},_overlay:function(){let t=this.options,i=a("<div>");return i.addClass("overlay"),t.overlayColor==="transparent"?i.addClass("transparent"):i.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(t.overlayColor),t.overlayAlpha)}),i},width:function(t){let i=this.win;return e.utils.isValue(t)?(i.css("width",Number.parseInt(t)),this):i.width()},height:function(t){let i=this.win;return e.utils.isValue(t)?(i.css("height",Number.parseInt(t)),this):i.height()},maximize:function(t){var m;let i=this.win,r=this.options,d=a(t.target);r.btnMax&&(i.removeClass("minimized"),i.toggleClass("maximized")),(m=d.hasClass)!=null&&m.call(d,"title")?this._fireEvent("caption-dbl-click",{win:i[0]}):this._fireEvent("max-click",{win:i[0]}),this._fireEvent("maximize",{win:i[0]})},minimize:function(){let t=this.win;this.options.btnMin&&(t.removeClass("maximized"),t.toggleClass("minimized")),this._fireEvent("min-click",{win:t[0]}),this._fireEvent("minimize",{win:t[0]})},close:function(){let t=this.win,i=this.options;if(e.utils.exec(i.onCanClose,[t])===!1)return!1;let r=0;i.onClose!==e.noop&&(r=500),this._fireEvent("close",{win:t[0]}),setTimeout(()=>{i.modal===!0&&t.siblings(".overlay").remove(),this._fireEvent("close-click",{win:t[0]}),i.closeAction===e.actions.REMOVE?(this._fireEvent("window-destroy",{win:t[0]}),t.remove()):this.hide()},r)},hide:function(){let t=this.win;t.css({display:"none"}),this._fireEvent("hide",{win:t[0]})},show:function(){let t=this.win;t.removeClass("no-visible").css({display:"flex"}),this._fireEvent("show",{win:t[0]})},toggle:function(){this.win.css("display")==="none"||this.win.hasClass("no-visible")?this.show():this.hide()},isOpen:function(){return this.win.hasClass("no-visible")},min:function(t){t?this.win.addClass("minimized"):this.win.removeClass("minimized")},max:function(t){t?this.win.addClass("maximized"):this.win.removeClass("maximized")},changeClass:function(t){let i=this.element,r=this.win,d=this.options;t==="data-cls-window"&&(r[0].className=`window ${d.resizable?" resizable ":" "}${i.attr("data-cls-window")}`),t==="data-cls-caption"&&(r.find(".window-caption")[0].className=`window-caption ${i.attr("data-cls-caption")}`),t==="data-cls-content"&&(r.find(".window-content")[0].className=`window-content ${i.attr("data-cls-content")}`)},toggleShadow:function(){let t=this.element,i=this.win;JSON.parse(t.attr("data-shadow"))===!0?i.addClass("win-shadow"):i.removeClass("win-shadow")},setContent:function(t){let i=this.element,r=this.win,d=e.utils.isValue(t)?t:i.attr("data-content"),m;!e.utils.isQ(d)&&e.utils.isFunc(d)?m=e.utils.exec(d):e.utils.isQ(d)?m=d.html():m=d,r.find(".window-content").html(m)},setTitle:function(t){let i=this.element,r=this.win,d=e.utils.isValue(t)?t:i.attr("data-title");r.find(".window-caption .title").html(d)},setIcon:function(t){let i=this.element,r=this.win,d=e.utils.isValue(t)?t:i.attr("data-icon");r.find(".window-caption .icon").html(d)},getIcon:function(){return this.win.find(".window-caption .icon").html()},getTitle:function(){return this.win.find(".window-caption .title").html()},toggleDraggable:function(t){let i=this.win,r=e.utils.bool(t),d=e.getPlugin(i,"draggable");r===!0?d.on():d.off()},toggleResizable:function(t){let i=this.win,r=e.utils.bool(t),d=e.getPlugin(i,"resizable");r===!0?(d.on(),i.find(".resize-element").removeClass("resize-element-disabled")):(d.off(),i.find(".resize-element").addClass("resize-element-disabled"))},changePlace:function(t){let i=this.element,r=this.win,d=e.utils.isValue(t)?t:i.attr("data-place");r.addClass(d)},pos:function(t,i){return this.win.css({top:t,left:i}),this},top:function(t){return this.win.css({top:t}),this},left:function(t){return this.win.css({left:t}),this},changeAttribute:function(t,i){let r=function(_,C){let k=this.win,E;if(_==="data-top"){if(E=Number.parseInt(C),!Number.isNaN(E))return;k.css("top",E)}if(_==="data-left"){if(E=Number.parseInt(C),!Number.isNaN(E))return;k.css("left",E)}},d=function(_,C){let k=this.win,E=k.find(".btn-close"),F=k.find(".btn-min"),P=k.find(".btn-max"),U=e.utils.bool(C)?"show":"hide";switch(_){case"data-btn-close":E[U]();break;case"data-btn-min":F[U]();break;case"data-btn-max":P[U]();break}},m=function(_,C){let k=this.win;_==="data-width"&&k.css("width",+C),_==="data-height"&&k.css("height",+C)};switch(t){case"data-btn-close":case"data-btn-min":case"data-btn-max":d(t,i);break;case"data-width":case"data-height":m(t,i);break;case"data-cls-window":case"data-cls-caption":case"data-cls-content":this.changeClass(t);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable(i);break;case"data-resizable":this.toggleResizable(i);break;case"data-top":case"data-left":r(t,i);break;case"data-place":this.changePlace();break}},destroy:function(){return this.element}}),e.window={isWindow:t=>e.utils.isMetroObject(t,"window"),min:function(t,i){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").min(i)},max:function(t,i){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").max(i)},show:function(t){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").show()},hide:function(t){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").hide()},toggle:function(t){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").toggle()},isOpen:function(t){return this.isWindow(t)?e.getPlugin(t,"window").isOpen():!1},close:function(t){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").close()},pos:function(t,i,r){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").pos(i,r)},top:function(t,i){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").top(i)},left:function(t,i){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").left(i)},width:function(t,i){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").width(i)},height:function(t,i){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").height(i)},create:(t,i)=>{let r=a("<div>").appendTo(a(i||"body")),d=a.extend({_runtime:!0},t||{});return e.makePlugin(r,"window",d),e.getPlugin(r,"window").win}}})(Metro,Dom),((e,a)=>{let f={wizardDeferred:0,start:1,finish:0,iconHelp:"💡",iconPrev:"←",iconNext:"→",iconFinish:"✔",buttonMode:"cycle",buttonOutline:!0,duration:300,clsWizard:"",clsActions:"",clsHelp:"",clsPrev:"",clsNext:"",clsFinish:"",onPage:e.noop,onNextPage:e.noop,onPrevPage:e.noop,onFirstPage:e.noop,onLastPage:e.noop,onFinishPage:e.noop,onHelpClick:e.noop,onPrevClick:e.noop,onNextClick:e.noop,onFinishClick:e.noop,onBeforePrev:e.noop_true,onBeforeNext:e.noop_true,onWizardCreate:e.noop};e.wizardSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroWizardSetup<"u"&&e.wizardSetup(globalThis.metroWizardSetup),e.Component("wizard",{init:function(t,i){return this._super(i,t,f,{id:e.utils.elementId("wizard")}),this},_create:function(){let t=this.element;this._createWizard(),this._createEvents(),this._fireEvent("wizard-create",{element:t})},_createWizard:function(){let t=this.element,i=this.options;t.addClass("wizard").addClass(i.view).addClass(i.clsWizard);let r=a("<div>").addClass("action-bar").addClass(i.clsActions).appendTo(t),d=i.buttonMode==="button"?"":i.buttonMode;i.buttonOutline===!0&&(d+=" outline"),i.iconHelp!==!1&&a("<button>").attr("type","button").addClass("button wizard-btn-help").addClass(d).addClass(i.clsHelp).html(i.iconHelp).appendTo(r),i.iconPrev!==!1&&a("<button>").attr("type","button").addClass("button wizard-btn-prev").addClass(d).addClass(i.clsPrev).html(i.iconPrev).appendTo(r),i.iconNext!==!1&&a("<button>").attr("type","button").addClass("button wizard-btn-next").addClass(d).addClass(i.clsNext).html(i.iconNext).appendTo(r),i.iconFinish!==!1&&a("<button>").attr("type","button").addClass("button wizard-btn-finish").addClass(d).addClass(i.clsFinish).html(i.iconFinish).appendTo(r),this.toPage(i.start),this._setHeight()},_setHeight:function(){let t=this.element,i=t.children("section"),r=0;i.children(".page-content").css("max-height","none"),a.each(i,function(){let d=a(this).height();r<Number.parseInt(d)&&(r=d)}),t.height(r)},_createEvents:function(){let t=this,i=this.element;i.on(e.events.click,".wizard-btn-help",()=>{let r=i.children("section").get(t.current-1);t._fireEvent("help-click",{index:t.current,page:r})}),i.on(e.events.click,".wizard-btn-prev",()=>{t.prev();let r=i.children("section").get(t.current-1);t._fireEvent("prev-click",{index:t.current,page:r})}),i.on(e.events.click,".wizard-btn-next",()=>{t.next();let r=i.children("section").get(t.current-1);t._fireEvent("next-click",{index:t.current,page:r})}),i.on(e.events.click,".wizard-btn-finish",()=>{let r=i.children("section").get(t.current-1);t._fireEvent("finish-click",{index:t.current,page:r})}),i.on(e.events.click,".complete",function(){let r=a(this).index()+1;t.toPage(r)}),a(globalThis).on(e.events.resize,()=>{t._setHeight()},{ns:this.id})},next:function(){let t=this.element,i=this.options,r=t.children("section"),d=a(t.children("section").get(this.current-1));this.current+1>r.length||e.utils.exec(i.onBeforeNext,[this.current,d,t])===!1||(this.current++,this.toPage(this.current),d=a(t.children("section").get(this.current-1)),this._fireEvent("next-page",{index:this.current,page:d[0]}))},prev:function(){let t=this.element,i=this.options,r=a(t.children("section").get(this.current-1));this.current-1===0||e.utils.exec(i.onBeforePrev,[this.current,r,t])===!1||(this.current--,this.toPage(this.current),r=a(t.children("section").get(this.current-1)),this._fireEvent("prev-page",{index:this.current,page:r[0]}))},last:function(){let t=this.element;this.toPage(t.children("section").length);let i=a(t.children("section").get(this.current-1));this._fireEvent("last-page",{index:this.current,page:i[0]})},first:function(){let t=this.element;this.toPage(1);let i=a(t.children("section").get(0));this._fireEvent("first-page",{index:this.current,page:i[0]})},toPage:function(t){let i=this.element,r=this.options,d=a(i.children("section").get(t-1)),m=i.children("section"),_=i.find(".action-bar");if(d.length===0)return;let C=i.find(".wizard-btn-finish").addClass("disabled"),k=i.find(".wizard-btn-next").addClass("disabled"),E=i.find(".wizard-btn-prev").addClass("disabled");this.current=t,i.children("section").removeClass("complete current").removeClass(r.clsCurrent).removeClass(r.clsComplete),d.addClass("current").addClass(r.clsCurrent),d.prevAll().addClass("complete").addClass(r.clsComplete);let F=i.children("section.complete").length===0?0:Number.parseInt(e.utils.getStyleOne(i.children("section.complete")[0],"border-left-width"));_.animate({draw:{left:i.children("section.complete").length*F+41},dur:r.duration}),(this.current===m.length||r.finish>0&&this.current>=r.finish)&&C.removeClass("disabled"),Number.parseInt(r.finish)>0&&this.current===Number.parseInt(r.finish)&&this._fireEvent("finish-page",{index:this.current,page:d[0]}),this.current<m.length&&k.removeClass("disabled"),this.current>1&&E.removeClass("disabled"),this._fireEvent("page",{index:this.current,page:d[0]})},changeAttribute:()=>{},destroy:function(){let t=this.element;t.off(e.events.click,".wizard-btn-help"),t.off(e.events.click,".wizard-btn-prev"),t.off(e.events.click,".wizard-btn-next"),t.off(e.events.click,".wizard-btn-finish"),t.off(e.events.click,".complete"),a(globalThis).off(e.events.resize,{ns:this.id}),t.remove()}})})(Metro,Dom),((e,a)=>{let f={buttons:"next, prev, finish, cancel, help",startPage:1,height:300,labelNext:"",labelPrev:"",labelHelp:"",labelFinish:"",labelCancel:"",iconNext:"",iconPrev:"",iconHelp:"",iconFinish:"",iconCancel:"",clsWizard:"",clsPage:"",clsActions:"",clsActionHelp:"",clsActionPrev:"",clsActionNext:"",clsActionFinish:"",clsActionCancel:"",onBeforePage:e.noop_true,onPage:e.noop,onNext:e.noop,onPrev:e.noop,onFinish:e.noop,onCancel:e.noop,onHelp:e.noop,onMyObjectCreate:e.noop};e.wizardClassicSetup=t=>{f=a.extend({},f,t)},typeof window.metroWizardClassicSetup<"u"&&e.wizardClassicSetup(window.metroWizardClassicSetup),e.Component("wizard-classic",{init:function(t,i){return this._super(i,t,f,{currentPage:0}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("wizard-create")},_createStructure:function(){var m;let t=this.element,i=this.options;t.addClass(`wizard-classic ${i.clsWizard}`).css({height:i.height});let r=a("<div>").addClass("wizard-pages").appendTo(t),d=a("<div>").addClass("wizard-actions").appendTo(t);for(let _ of i.buttons.toArray(",")){let C=a("<button>").addClass("wizard-action").attr("data-wizard-action",_).html(`${i[`icon${str(_).capitalize()}`]?i[`icon${str(_).capitalize()}`]:""} ${i[`label${str(_).capitalize()}`]||this.strings[`label_${_}`]}`).appendTo(d);_==="next"?C.addClass(`wizard-next ${i.clsActionNext}`):_==="prev"?C.addClass(`wizard-prev ${i.clsActionPrev}`):_==="finish"?C.addClass(`wizard-finish ${i.clsActionFinish}`):_==="cancel"?C.addClass(`wizard-cancel ${i.clsActionCancel}`):_==="help"&&C.addClass(`wizard-help ${i.clsActionHelp}`)}this.pages=t.find(".page").addClass(i.clsPage),this.pages.appendTo(r),this.pages[i.startPage-1]===void 0&&(i.startPage=0),this.currentPage=i.startPage-1,(m=this.pages[this.currentPage])==null||m.classList.add("active"),this._refreshButtons()},_createEvents:function(){let t=this.element,i=this.options;t.on("click",".wizard-action",r=>{let d=a(r.target).closest("button").attr("data-wizard-action");if(d==="next"){if(e.utils.exec(i.onBeforePage,[this.currentPage,this.pages[this.currentPage]])===!1)return!1;this.next(),this._fireEvent("next")}else if(d==="prev"){if(e.utils.exec(i.onBeforePage,[this.currentPage,this.pages[this.currentPage]])===!1)return!1;this.prev(),this._fireEvent("prev")}else d==="finish"?this._fireEvent("finish"):d==="cancel"?this._fireEvent("cancel"):d==="help"&&this._fireEvent("help")})},_refreshButtons:function(){let t=this.element;this.options;let i=this.pages,r=t.find(".wizard-action");r.each((d,m)=>{a(m).removeClass("disabled")}),this.currentPage===0&&r.filter(".wizard-prev").addClass("disabled"),this.currentPage===i.length-1&&(r.filter(".wizard-next").addClass("disabled"),r.filter(".wizard-finish").removeClass("disabled")),this.currentPage>=0&&this.currentPage<i.length-1&&r.filter(".wizard-finish").addClass("disabled"),this.currentPage>0&&r.filter(".wizard-prev").removeClass("disabled")},next:function(){let t=this.element;this.options;let i=t.find(".page");this.currentPage<i.length-1&&(a(i[this.currentPage]).addClass("out"),setTimeout(r=>{a(i[r]).removeClass("active")},300,this.currentPage),this.currentPage++,a(i[this.currentPage]).addClass("active")),this._refreshButtons()},prev:function(){let t=this.element;this.options;let i=t.find(".page");this.currentPage>0&&(a(i[this.currentPage]).removeClass("active"),this.currentPage--,a(i[this.currentPage]).removeClass("out").addClass("active")),this._refreshButtons()},changeAttribute:(t,i)=>{},destroy:function(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f={onStateChange:e.noop,onWorkingTreeCreate:e.noop};e.workingTreeSetup=t=>{f=a.extend({},f,t)},typeof globalThis.metroWorkingTreeSetup<"u"&&e.workingTreeSetup(globalThis.metroWorkingTreeSetup),e.Component("working-tree",{init(t,i){return this._super(i,t,f,{}),this},_create(){this._createStructure(),this._createEvents(),this._fireEvent("tree-create")},addNode({id:t,title:i="",value:r="",items:d=[]}={}){let m=this.element,_=(t||Hooks.useId(`working-tree-node-${m.children().length}`)).replace(/:/gi,""),C=`
                <li id="${_}">
                    <div class="bull"></div>
                    <div class="node">
                        <div class="title">${i}</div>
                        <div class="value">${r}</div>
                    </div>
                    <ul class="leaves">
                        ${d.map(k=>`<li><div class="title">${k.title}</div><div class="value">${k.value}</div> </li>`).join(`
`)}                    
                    </ul>
                </li>
            `;return this.element.append(C),_},setState(t,i="pending"){let r=this.element.find(`#${t}`).clearClasses().addClass(`work-${i}`);return r.find(".bull").html(`<span data-role="bull" data-type="${i}"></span>`),this._fireEvent("state-change",{id:t,state:i,node:r}),this},_createStructure(){this.element.addClass("working-tree")},_createEvents(){},changeAttribute(t,i){},destroy(){this.element.remove()}})})(Metro,Dom),((e,a)=>{let f="[data-role-dropmenu], [data-role-dropdown]",t='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',i={height:"auto",align:"left",onMenuCreate:e.noop};e.dropMenuSetup=r=>{i=a.extend({},i,r)},typeof globalThis.metroDropMenuSetup<"u"&&e.dropMenuSetup(globalThis.metroDropMenuSetup),e.Component("dropmenu",{init:function(r,d){return this._super(d,r,i,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("menu-create")},_toggle:function(){let r=this.element,d=r.siblings(".menu-toggle, .dropdown-toggle, a");if(d.length===0&&(d=r.prev(),d.length===0))throw new Error("Menu toggle not found");return d[0]},_createStructure:function(){let r=this.element,d=this.options;this.level=r.parents("[data-role-dropmenu]").length,this.toggle=a(this._toggle()).append(t),this.displayOrigin=r.css("display"),this.element.addClass("drop-menu").css("z-index",`calc(var(--z-index-fixed) + ${this.level})!important`).hide(),d.height!=="auto"&&r.css("max-height",d.height)},_createEvents:function(){let r=this.element;this.toggle.on("click",d=>{a(f).each((m,_)=>{let C=a(_),k=r.parents("[data-role-dropmenu]").is(_);if(_===r[0]||k||C.hasClass("keep-open")||C.hasClass("stay-open")||C.hasClass("ignore-document-click"))return;let E=e.getPlugin(_,"dropdown"),F=e.getPlugin(_,"dropmenu");E&&E.close(),F&&F.close()}),this.isOpen===!1?this.open():this.close(),d.preventDefault(),d.stopPropagation()})},close:function(){this.isOpen!==!1&&(this.toggle.removeClass("active-toggle"),this.element.hide(),this.isOpen=!1)},open:function(){let r=this.element,d=this.options,m=e.utils.rect(this.toggle[0]),_=r.parents("[data-role-dropmenu]").length;if(r.show().visible(!1),_===0){r.css({top:m.bottom,left:m.left});let C=e.utils.viewportOutByWidth(r[0]),k=e.utils.viewportOutByHeight(r[0]);(d.align==="right"||C)&&(r.css({left:m.right-r.width()}),d.align!=="right"&&e.utils.viewportOutByWidth(r[0])&&r.css({left:m.left})),k&&(r.css({top:m.top-r.height()}),e.utils.viewportOutByHeight(r[0])&&r.css({top:m.bottom}))}else{r.css({top:m.top,left:m.right});let C=e.utils.viewportOutByWidth(r[0]);(d.align==="right"||C)&&(r.css({left:m.left-r.width()}),d.align!=="right"&&e.utils.viewportOutByWidth(r[0])&&r.css({left:m.right}))}this.toggle.addClass("active-toggle"),this.isOpen=!0,r.visible(!0)},changeAttribute:(r,d)=>{},destroy:function(){this.element.remove()}}),a(document).on("click",()=>{a(f).each((r,d)=>{let m=a(d);if(m.hasClass("keep-open")||m.hasClass("stay-open")||m.hasClass("ignore-document-click"))return;let _=e.getPlugin(d,"dropdown"),C=e.getPlugin(d,"dropmenu");_&&_.close(),C&&C.close()})})})(Metro,Dom)})();//!node.hasClass("expanded");
/*! Bundled license information:

@olton/datetime/dist/datetime.js:
  (*!
   * Datetime v3.2.4.
   * Build time: 12.05.2025, 13:23:35
   * Copyright 2025 by Serhii Pimenov
   * Licensed under MIT
   *
   * Build time: 12.05.2025 13:23:35
   *)

@olton/string/dist/string.js:
  (*!
   * String v0.10.1 (@olton/string)
   * Copyright 2025 by Serhii Pimenov
   * Built: 02.05.2025, 18:43:00
   * Licensed under MIT
   *)

@olton/dom/dist/dom.js:
  (*!
   * DOM - Work with HTML elements (@olton/dom, https://metroui.org.ua)
   * Version: 1.5.0
   * Build date: 10.05.2025, 17:40:37
   * Copyright 2012-2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/hooks/dist/hooks.js:
  (*!
   * Hooks v0.13.0 (@olton/hooks)
   * Copyright 2025 by Serhii Pimenov <serhii@pimenov.com.ua>
   * Built: 07.03.2025, 15:05:04
   * Licensed under MIT
   *)

@olton/farbe/dist/farbe.js:
  (*!
   * Farbe v1.0.8. Color Routines for JavaScript.
   * Build: 11.05.2025, 16:45:57
   * Copyright 2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/html/dist/html.js:
  (*!
   * Html.js v0.15.0
   * Description: Creating HTML Elements with JavaScript
   * Build: 12.05.2025, 14:04:37
   * Copyright 2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/guardian/dist/guardian.js:
  (*!
   * Guardian v0.7.2. Data guard and validation library.
   * Copyright 2025 Serhii Pimenov
   * Licensed under MIT
   * Build time: 02.05.2025 18:52:42
   *)

@olton/router/dist/router.js:
  (*!
   * Router v0.4.0 (Router ror SPA)
   * Build: 08.03.2025, 01:01:34
   * Copyright 2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/model/dist/model.js:
  (*!
   * Model v0.18.0
   * Build: 12.05.2025, 10:08:38
   * Copyright 2012-2025 by Serhii Pimenov
   * Licensed under MIT
   *)
*/var Yp=Qg;function Qg(){var u=[].slice.call(arguments),s=!1;typeof u[0]=="boolean"&&(s=u.shift());var o=u[0];if(Gp(o))throw new Error("extendee must be an object");for(var c=u.slice(1),h=c.length,g=0;g<h;g++){var y=c[g];for(var w in y)if(Object.prototype.hasOwnProperty.call(y,w)){var S=y[w];if(s&&C_(S)){var D=Array.isArray(S)?[]:{};o[w]=Qg(!0,Object.prototype.hasOwnProperty.call(o,w)&&!Gp(o[w])?o[w]:D,S)}else o[w]=S}}return o}function C_(u){return Array.isArray(u)||{}.toString.call(u)=="[object Object]"}function Gp(u){return!u||typeof u!="object"&&typeof u!="function"}function x_(u){return u&&u.__esModule?u.default:u}class Xp{on(s,o){return this._callbacks=this._callbacks||{},this._callbacks[s]||(this._callbacks[s]=[]),this._callbacks[s].push(o),this}emit(s,...o){this._callbacks=this._callbacks||{};let c=this._callbacks[s];if(c)for(let h of c)h.apply(this,o);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+s,{args:o})),this}makeEvent(s,o){let c={bubbles:!0,cancelable:!0,detail:o};if(typeof window.CustomEvent=="function")return new CustomEvent(s,c);var h=document.createEvent("CustomEvent");return h.initCustomEvent(s,c.bubbles,c.cancelable,c.detail),h}off(s,o){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let c=this._callbacks[s];if(!c)return this;if(arguments.length===1)return delete this._callbacks[s],this;for(let h=0;h<c.length;h++)if(c[h]===o){c.splice(h,1);break}return this}}var e0={};e0=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let w_={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(u,s,o){if(o)return{dzuuid:o.file.upload.uuid,dzchunkindex:o.index,dztotalfilesize:o.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:o.file.upload.totalChunkCount,dzchunkbyteoffset:o.index*this.options.chunkSize}},accept(u,s){return s()},chunksUploaded:function(u,s){s()},binaryBody:!1,fallback(){let u;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let o of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(o.className)){u=o,o.className="dz-message";break}u||(u=Ze.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(u));let s=u.getElementsByTagName("span")[0];return s&&(s.textContent!=null?s.textContent=this.options.dictFallbackMessage:s.innerText!=null&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(u,s,o,c){let h={srcX:0,srcY:0,srcWidth:u.width,srcHeight:u.height},g=u.width/u.height;s==null&&o==null?(s=h.srcWidth,o=h.srcHeight):s==null?s=o*g:o==null&&(o=s/g),s=Math.min(s,h.srcWidth),o=Math.min(o,h.srcHeight);let y=s/o;if(h.srcWidth>s||h.srcHeight>o)if(c==="crop")g>y?(h.srcHeight=u.height,h.srcWidth=h.srcHeight*y):(h.srcWidth=u.width,h.srcHeight=h.srcWidth/y);else if(c==="contain")g>y?o=s/g:s=o*g;else throw new Error(`Unknown resizeMethod '${c}'`);return h.srcX=(u.width-h.srcWidth)/2,h.srcY=(u.height-h.srcHeight)/2,h.trgWidth=s,h.trgHeight=o,h},transformFile(u,s){return(this.options.resizeWidth||this.options.resizeHeight)&&u.type.match(/image.*/)?this.resizeImage(u,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,s):s(u)},previewTemplate:x_(e0),drop(u){return this.element.classList.remove("dz-drag-hover")},dragstart(u){},dragend(u){return this.element.classList.remove("dz-drag-hover")},dragenter(u){return this.element.classList.add("dz-drag-hover")},dragover(u){return this.element.classList.add("dz-drag-hover")},dragleave(u){return this.element.classList.remove("dz-drag-hover")},paste(u){},reset(){return this.element.classList.remove("dz-started")},addedfile(u){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){u.previewElement=Ze.createElement(this.options.previewTemplate.trim()),u.previewTemplate=u.previewElement,this.previewsContainer.appendChild(u.previewElement);for(var s of u.previewElement.querySelectorAll("[data-dz-name]"))s.textContent=u.name;for(s of u.previewElement.querySelectorAll("[data-dz-size]"))s.innerHTML=this.filesize(u.size);this.options.addRemoveLinks&&(u._removeLink=Ze.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),u.previewElement.appendChild(u._removeLink));let o=c=>(c.preventDefault(),c.stopPropagation(),u.status===Ze.UPLOADING?Ze.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(u)):this.options.dictRemoveFileConfirmation?Ze.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(u)):this.removeFile(u));for(let c of u.previewElement.querySelectorAll("[data-dz-remove]"))c.addEventListener("click",o)}},removedfile(u){return u.previewElement!=null&&u.previewElement.parentNode!=null&&u.previewElement.parentNode.removeChild(u.previewElement),this._updateMaxFilesReachedClass()},thumbnail(u,s){if(u.previewElement){u.previewElement.classList.remove("dz-file-preview");for(let o of u.previewElement.querySelectorAll("[data-dz-thumbnail]"))o.alt=u.name,o.src=s;return setTimeout(()=>u.previewElement.classList.add("dz-image-preview"),1)}},error(u,s){if(u.previewElement){u.previewElement.classList.add("dz-error"),typeof s!="string"&&s.error&&(s=s.error);for(let o of u.previewElement.querySelectorAll("[data-dz-errormessage]"))o.textContent=s}},errormultiple(){},processing(u){if(u.previewElement&&(u.previewElement.classList.add("dz-processing"),u._removeLink))return u._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(u,s,o){if(u.previewElement)for(let c of u.previewElement.querySelectorAll("[data-dz-uploadprogress]"))c.nodeName==="PROGRESS"?c.value=s:c.style.width=`${s}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(u){if(u.previewElement)return u.previewElement.classList.add("dz-success")},successmultiple(){},canceled(u){return this.emit("error",u,this.options.dictUploadCanceled)},canceledmultiple(){},complete(u){if(u._removeLink&&(u._removeLink.innerHTML=this.options.dictRemoveFile),u.previewElement)return u.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var k_=w_;class Ze extends Xp{static initClass(){this.prototype.Emitter=Xp,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(s=>s.accepted).map(s=>s)}getRejectedFiles(){return this.files.filter(s=>!s.accepted).map(s=>s)}getFilesWithStatus(s){return this.files.filter(o=>o.status===s).map(o=>o)}getQueuedFiles(){return this.getFilesWithStatus(Ze.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(Ze.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(Ze.ADDED)}getActiveFiles(){return this.files.filter(s=>s.status===Ze.UPLOADING||s.status===Ze.QUEUED).map(s=>s)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(Ze.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let c=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",Ze.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:h}=this.hiddenFileInput;if(h.length)for(let g of h)this.addFile(g);this.emit("addedfiles",h),c()})};c()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let c of this.events)this.on(c,this.options[c]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",c=>this.emit("complete",c)),this.on("complete",c=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const s=function(c){if(c.dataTransfer.types){for(var h=0;h<c.dataTransfer.types.length;h++)if(c.dataTransfer.types[h]==="Files")return!0}return!1};let o=function(c){if(s(c))return c.stopPropagation(),c.preventDefault?c.preventDefault():c.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:c=>this.emit("dragstart",c),dragenter:c=>(o(c),this.emit("dragenter",c)),dragover:c=>{let h;try{h=c.dataTransfer.effectAllowed}catch{}return c.dataTransfer.dropEffect=h==="move"||h==="linkMove"?"move":"copy",o(c),this.emit("dragover",c)},dragleave:c=>this.emit("dragleave",c),drop:c=>(o(c),this.drop(c)),dragend:c=>this.emit("dragend",c)}}],this.clickableElements.forEach(c=>this.listeners.push({element:c,events:{click:h=>((c!==this.element||h.target===this.element||Ze.elementInside(h.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,Ze.instances.splice(Ze.instances.indexOf(this),1)}updateTotalUploadProgress(){let s,o=0,c=0;if(this.getActiveFiles().length){for(let g of this.getActiveFiles())o+=g.upload.bytesSent,c+=g.upload.total;s=100*o/c}else s=100;return this.emit("totaluploadprogress",s,c,o)}_getParamName(s){return typeof this.options.paramName=="function"?this.options.paramName(s):`${this.options.paramName}${this.options.uploadMultiple?`[${s}]`:""}`}_renameFile(s){return typeof this.options.renameFile!="function"?s.name:this.options.renameFile(s)}getFallbackForm(){let s,o;if(s=this.getExistingFallback())return s;let c='<div class="dz-fallback">';this.options.dictFallbackText&&(c+=`<p>${this.options.dictFallbackText}</p>`),c+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let h=Ze.createElement(c);return this.element.tagName!=="FORM"?(o=Ze.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),o.appendChild(h)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),o??h}getExistingFallback(){let s=function(c){for(let h of c)if(/(^| )fallback($| )/.test(h.className))return h};for(let c of["div","form"]){var o;if(o=s(this.element.getElementsByTagName(c)))return o}}setupEventListeners(){return this.listeners.map(s=>(()=>{let o=[];for(let c in s.events){let h=s.events[c];o.push(s.element.addEventListener(c,h,!1))}return o})())}removeEventListeners(){return this.listeners.map(s=>(()=>{let o=[];for(let c in s.events){let h=s.events[c];o.push(s.element.removeEventListener(c,h,!1))}return o})())}disable(){return this.clickableElements.forEach(s=>s.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(s=>this.cancelUpload(s))}enable(){return delete this.disabled,this.clickableElements.forEach(s=>s.classList.add("dz-clickable")),this.setupEventListeners()}filesize(s){let o=0,c="b";if(s>0){let h=["tb","gb","mb","kb","b"];for(let g=0;g<h.length;g++){let y=h[g],w=Math.pow(this.options.filesizeBase,4-g)/10;if(s>=w){o=s/Math.pow(this.options.filesizeBase,4-g),c=y;break}}o=Math.round(10*o)/10}return`<strong>${o}</strong> ${this.options.dictFileSizeUnits[c]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(s){if(!s.dataTransfer)return;this.emit("drop",s);let o=[];for(let c=0;c<s.dataTransfer.files.length;c++)o[c]=s.dataTransfer.files[c];if(o.length){let{items:c}=s.dataTransfer;c&&c.length&&c[0].webkitGetAsEntry!=null?this._addFilesFromItems(c):this.handleFiles(o)}this.emit("addedfiles",o)}paste(s){if(A_(s!=null?s.clipboardData:void 0,c=>c.items)==null)return;this.emit("paste",s);let{items:o}=s.clipboardData;if(o.length)return this._addFilesFromItems(o)}handleFiles(s){for(let o of s)this.addFile(o)}_addFilesFromItems(s){return(()=>{let o=[];for(let h of s){var c;h.webkitGetAsEntry!=null&&(c=h.webkitGetAsEntry())?c.isFile?o.push(this.addFile(h.getAsFile())):c.isDirectory?o.push(this._addFilesFromDirectory(c,c.name)):o.push(void 0):h.getAsFile!=null&&(h.kind==null||h.kind==="file")?o.push(this.addFile(h.getAsFile())):o.push(void 0)}return o})()}_addFilesFromDirectory(s,o){let c=s.createReader(),h=y=>M_(console,"log",w=>w.log(y));var g=()=>c.readEntries(y=>{if(y.length>0){for(let w of y)w.isFile?w.file(S=>{if(!(this.options.ignoreHiddenFiles&&S.name.substring(0,1)==="."))return S.fullPath=`${o}/${S.name}`,this.addFile(S)}):w.isDirectory&&this._addFilesFromDirectory(w,`${o}/${w.name}`);g()}return null},h);return g()}accept(s,o){this.options.maxFilesize&&s.size>this.options.maxFilesize*1048576?o(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(s.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):Ze.isValidFile(s,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(o(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",s)):this.options.accept.call(this,s,o):o(this.options.dictInvalidFileType)}addFile(s){s.upload={uuid:Ze.uuidv4(),progress:0,total:s.size,bytesSent:0,filename:this._renameFile(s)},this.files.push(s),s.status=Ze.ADDED,this.emit("addedfile",s),this._enqueueThumbnail(s),this.accept(s,o=>{o?(s.accepted=!1,this._errorProcessing([s],o)):(s.accepted=!0,this.options.autoQueue&&this.enqueueFile(s)),this._updateMaxFilesReachedClass()})}enqueueFiles(s){for(let o of s)this.enqueueFile(o);return null}enqueueFile(s){if(s.status===Ze.ADDED&&s.accepted===!0){if(s.status=Ze.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(s){if(this.options.createImageThumbnails&&s.type.match(/image.*/)&&s.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(s),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let s=this._thumbnailQueue.shift();return this.createThumbnail(s,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,o=>(this.emit("thumbnail",s,o),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(s){if(s.status===Ze.UPLOADING&&this.cancelUpload(s),this.files=S_(this.files,s),this.emit("removedfile",s),this.files.length===0)return this.emit("reset")}removeAllFiles(s){s==null&&(s=!1);for(let o of this.files.slice())(o.status!==Ze.UPLOADING||s)&&this.removeFile(o);return null}resizeImage(s,o,c,h,g){return this.createThumbnail(s,o,c,h,!0,(y,w)=>{if(w==null)return g(s);{let{resizeMimeType:S}=this.options;S==null&&(S=s.type);let D=w.toDataURL(S,this.options.resizeQuality);return(S==="image/jpeg"||S==="image/jpg")&&(D=t0.restore(s.dataURL,D)),g(Ze.dataURItoBlob(D))}})}createThumbnail(s,o,c,h,g,y){let w=new FileReader;w.onload=()=>{if(s.dataURL=w.result,s.type==="image/svg+xml"){y!=null&&y(w.result);return}this.createThumbnailFromUrl(s,o,c,h,g,y)},w.readAsDataURL(s)}displayExistingFile(s,o,c,h,g=!0){if(this.emit("addedfile",s),this.emit("complete",s),!g)this.emit("thumbnail",s,o),c&&c();else{let y=w=>{this.emit("thumbnail",s,w),c&&c()};s.dataURL=o,this.createThumbnailFromUrl(s,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,y,h)}}createThumbnailFromUrl(s,o,c,h,g,y,w){let S=document.createElement("img");return w&&(S.crossOrigin=w),g=getComputedStyle(document.body).imageOrientation=="from-image"?!1:g,S.onload=()=>{let D=A=>A(1);return typeof EXIF<"u"&&EXIF!==null&&g&&(D=A=>EXIF.getData(S,function(){return A(EXIF.getTag(this,"Orientation"))})),D(A=>{s.width=S.width,s.height=S.height;let O=this.options.resize.call(this,s,o,c,h),B=document.createElement("canvas"),H=B.getContext("2d");switch(B.width=O.trgWidth,B.height=O.trgHeight,A>4&&(B.width=O.trgHeight,B.height=O.trgWidth),A){case 2:H.translate(B.width,0),H.scale(-1,1);break;case 3:H.translate(B.width,B.height),H.rotate(Math.PI);break;case 4:H.translate(0,B.height),H.scale(1,-1);break;case 5:H.rotate(.5*Math.PI),H.scale(1,-1);break;case 6:H.rotate(.5*Math.PI),H.translate(0,-B.width);break;case 7:H.rotate(.5*Math.PI),H.translate(B.height,-B.width),H.scale(-1,1);break;case 8:H.rotate(-.5*Math.PI),H.translate(-B.height,0);break}E_(H,S,O.srcX!=null?O.srcX:0,O.srcY!=null?O.srcY:0,O.srcWidth,O.srcHeight,O.trgX!=null?O.trgX:0,O.trgY!=null?O.trgY:0,O.trgWidth,O.trgHeight);let q=B.toDataURL("image/png");if(y!=null)return y(q,B)})},y!=null&&(S.onerror=y),S.src=s.dataURL}processQueue(){let{parallelUploads:s}=this.options,o=this.getUploadingFiles().length,c=o;if(o>=s)return;let h=this.getQueuedFiles();if(h.length>0){if(this.options.uploadMultiple)return this.processFiles(h.slice(0,s-o));for(;c<s;){if(!h.length)return;this.processFile(h.shift()),c++}}}processFile(s){return this.processFiles([s])}processFiles(s){for(let o of s)o.processing=!0,o.status=Ze.UPLOADING,this.emit("processing",o);return this.options.uploadMultiple&&this.emit("processingmultiple",s),this.uploadFiles(s)}_getFilesWithXhr(s){return this.files.filter(o=>o.xhr===s).map(o=>o)}cancelUpload(s){if(s.status===Ze.UPLOADING){let o=this._getFilesWithXhr(s.xhr);for(let c of o)c.status=Ze.CANCELED;typeof s.xhr<"u"&&s.xhr.abort();for(let c of o)this.emit("canceled",c);this.options.uploadMultiple&&this.emit("canceledmultiple",o)}else(s.status===Ze.ADDED||s.status===Ze.QUEUED)&&(s.status=Ze.CANCELED,this.emit("canceled",s),this.options.uploadMultiple&&this.emit("canceledmultiple",[s]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(s,...o){return typeof s=="function"?s.apply(this,o):s}uploadFile(s){return this.uploadFiles([s])}uploadFiles(s){this._transformFiles(s,o=>{if(this.options.chunking){let c=o[0];s[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||c.size>this.options.chunkSize),s[0].upload.totalChunkCount=Math.ceil(c.size/this.options.chunkSize)}if(s[0].upload.chunked){let c=s[0],h=o[0];c.upload.chunks=[];let g=()=>{let y=0;for(;c.upload.chunks[y]!==void 0;)y++;if(y>=c.upload.totalChunkCount)return;let w=y*this.options.chunkSize,S=Math.min(w+this.options.chunkSize,h.size),D={name:this._getParamName(0),data:h.webkitSlice?h.webkitSlice(w,S):h.slice(w,S),filename:c.upload.filename,chunkIndex:y};c.upload.chunks[y]={file:c,index:y,dataBlock:D,status:Ze.UPLOADING,progress:0,retries:0},this._uploadData(s,[D])};if(c.upload.finishedChunkUpload=(y,w)=>{let S=!0;y.status=Ze.SUCCESS,y.dataBlock=null,y.response=y.xhr.responseText,y.responseHeaders=y.xhr.getAllResponseHeaders(),y.xhr=null;for(let D=0;D<c.upload.totalChunkCount;D++){if(c.upload.chunks[D]===void 0)return g();c.upload.chunks[D].status!==Ze.SUCCESS&&(S=!1)}S&&this.options.chunksUploaded(c,()=>{this._finished(s,w,null)})},this.options.parallelChunkUploads)for(let y=0;y<c.upload.totalChunkCount;y++)g();else g()}else{let c=[];for(let h=0;h<s.length;h++)c[h]={name:this._getParamName(h),data:o[h],filename:s[h].upload.filename};this._uploadData(s,c)}})}_getChunk(s,o){for(let c=0;c<s.upload.totalChunkCount;c++)if(s.upload.chunks[c]!==void 0&&s.upload.chunks[c].xhr===o)return s.upload.chunks[c]}_uploadData(s,o){let c=new XMLHttpRequest;for(let D of s)D.xhr=c;s[0].upload.chunked&&(s[0].upload.chunks[o[0].chunkIndex].xhr=c);let h=this.resolveOption(this.options.method,s,o),g=this.resolveOption(this.options.url,s,o);c.open(h,g,!0),this.resolveOption(this.options.timeout,s)&&(c.timeout=this.resolveOption(this.options.timeout,s)),c.withCredentials=!!this.options.withCredentials,c.onload=D=>{this._finishedUploading(s,c,D)},c.ontimeout=()=>{this._handleUploadError(s,c,`Request timedout after ${this.options.timeout/1e3} seconds`)},c.onerror=()=>{this._handleUploadError(s,c)};let w=c.upload!=null?c.upload:c;w.onprogress=D=>this._updateFilesUploadProgress(s,c,D);let S=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(S["Content-Type"]=s[0].type),this.options.headers&&Yp(S,this.options.headers);for(let D in S){let A=S[D];A&&c.setRequestHeader(D,A)}if(this.options.binaryBody){for(let D of s)this.emit("sending",D,c);this.options.uploadMultiple&&this.emit("sendingmultiple",s,c),this.submitRequest(c,null,s)}else{let D=new FormData;if(this.options.params){let A=this.options.params;typeof A=="function"&&(A=A.call(this,s,c,s[0].upload.chunked?this._getChunk(s[0],c):null));for(let O in A){let B=A[O];if(Array.isArray(B))for(let H=0;H<B.length;H++)D.append(O,B[H]);else D.append(O,B)}}for(let A of s)this.emit("sending",A,c,D);this.options.uploadMultiple&&this.emit("sendingmultiple",s,c,D),this._addFormElementData(D);for(let A=0;A<o.length;A++){let O=o[A];D.append(O.name,O.data,O.filename)}this.submitRequest(c,D,s)}}_transformFiles(s,o){let c=[],h=0;for(let g=0;g<s.length;g++)this.options.transformFile.call(this,s[g],y=>{c[g]=y,++h===s.length&&o(c)})}_addFormElementData(s){if(this.element.tagName==="FORM")for(let o of this.element.querySelectorAll("input, textarea, select, button")){let c=o.getAttribute("name"),h=o.getAttribute("type");if(h&&(h=h.toLowerCase()),!(typeof c>"u"||c===null))if(o.tagName==="SELECT"&&o.hasAttribute("multiple"))for(let g of o.options)g.selected&&s.append(c,g.value);else(!h||h!=="checkbox"&&h!=="radio"||o.checked)&&s.append(c,o.value)}}_updateFilesUploadProgress(s,o,c){if(s[0].upload.chunked){let h=s[0],g=this._getChunk(h,o);c?(g.progress=100*c.loaded/c.total,g.total=c.total,g.bytesSent=c.loaded):(g.progress=100,g.bytesSent=g.total),h.upload.progress=0,h.upload.total=0,h.upload.bytesSent=0;for(let y=0;y<h.upload.totalChunkCount;y++)h.upload.chunks[y]&&typeof h.upload.chunks[y].progress<"u"&&(h.upload.progress+=h.upload.chunks[y].progress,h.upload.total+=h.upload.chunks[y].total,h.upload.bytesSent+=h.upload.chunks[y].bytesSent);h.upload.progress=h.upload.progress/h.upload.totalChunkCount,this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent)}else for(let h of s)h.upload.total&&h.upload.bytesSent&&h.upload.bytesSent==h.upload.total||(c?(h.upload.progress=100*c.loaded/c.total,h.upload.total=c.total,h.upload.bytesSent=c.loaded):(h.upload.progress=100,h.upload.bytesSent=h.upload.total),this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent))}_finishedUploading(s,o,c){let h;if(s[0].status!==Ze.CANCELED&&o.readyState===4){if(o.responseType!=="arraybuffer"&&o.responseType!=="blob"&&(h=o.responseText,o.getResponseHeader("content-type")&&~o.getResponseHeader("content-type").indexOf("application/json")))try{h=JSON.parse(h)}catch(g){c=g,h="Invalid JSON response from server."}this._updateFilesUploadProgress(s,o),200<=o.status&&o.status<300?s[0].upload.chunked?s[0].upload.finishedChunkUpload(this._getChunk(s[0],o),h):this._finished(s,h,c):this._handleUploadError(s,o,h)}}_handleUploadError(s,o,c){if(s[0].status!==Ze.CANCELED){if(s[0].upload.chunked&&this.options.retryChunks){let h=this._getChunk(s[0],o);if(h.retries++<this.options.retryChunksLimit){this._uploadData(s,[h.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(s,c||this.options.dictResponseError.replace("{{statusCode}}",o.status),o)}}submitRequest(s,o,c){if(s.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(c[0].upload.chunked){const h=this._getChunk(c[0],s);s.send(h.dataBlock.data)}else s.send(c[0]);else s.send(o)}_finished(s,o,c){for(let h of s)h.status=Ze.SUCCESS,this.emit("success",h,o,c),this.emit("complete",h);if(this.options.uploadMultiple&&(this.emit("successmultiple",s,o,c),this.emit("completemultiple",s)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(s,o,c){for(let h of s)h.status=Ze.ERROR,this.emit("error",h,o,c),this.emit("complete",h);if(this.options.uploadMultiple&&(this.emit("errormultiple",s,o,c),this.emit("completemultiple",s)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){let o=Math.random()*16|0;return(s==="x"?o:o&3|8).toString(16)})}constructor(s,o){super();let c,h;if(this.element=s,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");Ze.instances.push(this),this.element.dropzone=this;let g=(h=Ze.optionsForElement(this.element))!=null?h:{};if(this.options=Yp(!0,{},k_,g,o??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!Ze.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=y=>this.options.renameFilename.call(this,y.name,y)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(c=this.getExistingFallback())&&c.parentNode&&c.parentNode.removeChild(c),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=Ze.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=Ze.getElements(this.options.clickable,"clickable")),this.init()}}Ze.initClass();Ze.options={};Ze.optionsForElement=function(u){if(u.getAttribute("id"))return Ze.options[D_(u.getAttribute("id"))]};Ze.instances=[];Ze.forElement=function(u){if(typeof u=="string"&&(u=document.querySelector(u)),(u!=null?u.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return u.dropzone};Ze.discover=function(){let u;if(document.querySelectorAll)u=document.querySelectorAll(".dropzone");else{u=[];let s=o=>(()=>{let c=[];for(let h of o)/(^| )dropzone($| )/.test(h.className)?c.push(u.push(h)):c.push(void 0);return c})();s(document.getElementsByTagName("div")),s(document.getElementsByTagName("form"))}return(()=>{let s=[];for(let o of u)Ze.optionsForElement(o)!==!1?s.push(new Ze(o)):s.push(void 0);return s})()};Ze.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Ze.isBrowserSupported=function(){let u=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))u=!1;else{Ze.blacklistedBrowsers!==void 0&&(Ze.blockedBrowsers=Ze.blacklistedBrowsers);for(let s of Ze.blockedBrowsers)if(s.test(navigator.userAgent)){u=!1;continue}}else u=!1;return u};Ze.dataURItoBlob=function(u){let s=atob(u.split(",")[1]),o=u.split(",")[0].split(":")[1].split(";")[0],c=new ArrayBuffer(s.length),h=new Uint8Array(c);for(let g=0,y=s.length,w=0<=y;w?g<=y:g>=y;w?g++:g--)h[g]=s.charCodeAt(g);return new Blob([c],{type:o})};const S_=(u,s)=>u.filter(o=>o!==s).map(o=>o),D_=u=>u.replace(/[\-_](\w)/g,s=>s.charAt(1).toUpperCase());Ze.createElement=function(u){let s=document.createElement("div");return s.innerHTML=u,s.childNodes[0]};Ze.elementInside=function(u,s){if(u===s)return!0;for(;u=u.parentNode;)if(u===s)return!0;return!1};Ze.getElement=function(u,s){let o;if(typeof u=="string"?o=document.querySelector(u):u.nodeType!=null&&(o=u),o==null)throw new Error(`Invalid \`${s}\` option provided. Please provide a CSS selector or a plain HTML element.`);return o};Ze.getElements=function(u,s){let o,c;if(u instanceof Array){c=[];try{for(o of u)c.push(this.getElement(o,s))}catch{c=null}}else if(typeof u=="string"){c=[];for(o of document.querySelectorAll(u))c.push(o)}else u.nodeType!=null&&(c=[u]);if(c==null||!c.length)throw new Error(`Invalid \`${s}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return c};Ze.confirm=function(u,s,o){if(window.confirm(u))return s();if(o!=null)return o()};Ze.isValidFile=function(u,s){if(!s)return!0;s=s.split(",");let o=u.type,c=o.replace(/\/.*$/,"");for(let h of s)if(h=h.trim(),h.charAt(0)==="."){if(u.name.toLowerCase().indexOf(h.toLowerCase(),u.name.length-h.length)!==-1)return!0}else if(/\/\*$/.test(h)){if(c===h.replace(/\/.*$/,""))return!0}else if(o===h)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(u){return this.each(function(){return new Ze(this,u)})});Ze.ADDED="added";Ze.QUEUED="queued";Ze.ACCEPTED=Ze.QUEUED;Ze.UPLOADING="uploading";Ze.PROCESSING=Ze.UPLOADING;Ze.CANCELED="canceled";Ze.ERROR="error";Ze.SUCCESS="success";let T_=function(u){u.naturalWidth;let s=u.naturalHeight,o=document.createElement("canvas");o.width=1,o.height=s;let c=o.getContext("2d");c.drawImage(u,0,0);let{data:h}=c.getImageData(1,0,1,s),g=0,y=s,w=s;for(;w>g;)h[(w-1)*4+3]===0?y=w:g=w,w=y+g>>1;let S=w/s;return S===0?1:S};var E_=function(u,s,o,c,h,g,y,w,S,D){let A=T_(s);return u.drawImage(s,o,c,h,g,y,w,S,D/A)};class t0{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(s){let o="",c,h,g="",y,w,S,D="",A=0;for(;c=s[A++],h=s[A++],g=s[A++],y=c>>2,w=(c&3)<<4|h>>4,S=(h&15)<<2|g>>6,D=g&63,isNaN(h)?S=D=64:isNaN(g)&&(D=64),o=o+this.KEY_STR.charAt(y)+this.KEY_STR.charAt(w)+this.KEY_STR.charAt(S)+this.KEY_STR.charAt(D),c=h=g="",y=w=S=D="",A<s.length;);return o}static restore(s,o){if(!s.match("data:image/jpeg;base64,"))return o;let c=this.decode64(s.replace("data:image/jpeg;base64,","")),h=this.slice2Segments(c),g=this.exifManipulation(o,h);return`data:image/jpeg;base64,${this.encode64(g)}`}static exifManipulation(s,o){let c=this.getExifArray(o),h=this.insertExif(s,c);return new Uint8Array(h)}static getExifArray(s){let o,c=0;for(;c<s.length;){if(o=s[c],o[0]===255&o[1]===225)return o;c++}return[]}static insertExif(s,o){let c=s.replace("data:image/jpeg;base64,",""),h=this.decode64(c),g=h.indexOf(255,3),y=h.slice(0,g),w=h.slice(g),S=y;return S=S.concat(o),S=S.concat(w),S}static slice2Segments(s){let o=0,c=[];for(;;){var h;if(s[o]===255&s[o+1]===218)break;if(s[o]===255&s[o+1]===216)o+=2;else{h=s[o+2]*256+s[o+3];let g=o+h+2,y=s.slice(o,g);c.push(y),o=g}if(o>s.length)break}return c}static decode64(s){let o,c,h="",g,y,w,S="",D=0,A=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(s)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),s=s.replace(/[^A-Za-z0-9\+\/\=]/g,"");g=this.KEY_STR.indexOf(s.charAt(D++)),y=this.KEY_STR.indexOf(s.charAt(D++)),w=this.KEY_STR.indexOf(s.charAt(D++)),S=this.KEY_STR.indexOf(s.charAt(D++)),o=g<<2|y>>4,c=(y&15)<<4|w>>2,h=(w&3)<<6|S,A.push(o),w!==64&&A.push(c),S!==64&&A.push(h),o=c=h="",g=y=w=S="",D<s.length;);return A}}t0.initClass();function A_(u,s){return typeof u<"u"&&u!==null?s(u):void 0}function M_(u,s,o){if(typeof u<"u"&&u!==null&&typeof u[s]=="function")return o(u,s)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qu(u){return u+.5|0}const go=(u,s,o)=>Math.max(Math.min(u,o),s);function Du(u){return go(qu(u*2.55),0,255)}function _o(u){return go(qu(u*255),0,255)}function Aa(u){return go(qu(u/2.55)/100,0,1)}function Kp(u){return go(qu(u*100),0,100)}const us={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vf=[..."0123456789ABCDEF"],F_=u=>Vf[u&15],I_=u=>Vf[(u&240)>>4]+Vf[u&15],Md=u=>(u&240)>>4===(u&15),L_=u=>Md(u.r)&&Md(u.g)&&Md(u.b)&&Md(u.a);function O_(u){var s=u.length,o;return u[0]==="#"&&(s===4||s===5?o={r:255&us[u[1]]*17,g:255&us[u[2]]*17,b:255&us[u[3]]*17,a:s===5?us[u[4]]*17:255}:(s===7||s===9)&&(o={r:us[u[1]]<<4|us[u[2]],g:us[u[3]]<<4|us[u[4]],b:us[u[5]]<<4|us[u[6]],a:s===9?us[u[7]]<<4|us[u[8]]:255})),o}const P_=(u,s)=>u<255?s(u):"";function B_(u){var s=L_(u)?F_:I_;return u?"#"+s(u.r)+s(u.g)+s(u.b)+P_(u.a,s):void 0}const N_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function i0(u,s,o){const c=s*Math.min(o,1-o),h=(g,y=(g+u/30)%12)=>o-c*Math.max(Math.min(y-3,9-y,1),-1);return[h(0),h(8),h(4)]}function R_(u,s,o){const c=(h,g=(h+u/60)%6)=>o-o*s*Math.max(Math.min(g,4-g,1),0);return[c(5),c(3),c(1)]}function z_(u,s,o){const c=i0(u,1,.5);let h;for(s+o>1&&(h=1/(s+o),s*=h,o*=h),h=0;h<3;h++)c[h]*=1-s-o,c[h]+=s;return c}function H_(u,s,o,c,h){return u===h?(s-o)/c+(s<o?6:0):s===h?(o-u)/c+2:(u-s)/c+4}function rp(u){const o=u.r/255,c=u.g/255,h=u.b/255,g=Math.max(o,c,h),y=Math.min(o,c,h),w=(g+y)/2;let S,D,A;return g!==y&&(A=g-y,D=w>.5?A/(2-g-y):A/(g+y),S=H_(o,c,h,A,g),S=S*60+.5),[S|0,D||0,w]}function lp(u,s,o,c){return(Array.isArray(s)?u(s[0],s[1],s[2]):u(s,o,c)).map(_o)}function up(u,s,o){return lp(i0,u,s,o)}function $_(u,s,o){return lp(z_,u,s,o)}function V_(u,s,o){return lp(R_,u,s,o)}function n0(u){return(u%360+360)%360}function W_(u){const s=N_.exec(u);let o=255,c;if(!s)return;s[5]!==c&&(o=s[6]?Du(+s[5]):_o(+s[5]));const h=n0(+s[2]),g=+s[3]/100,y=+s[4]/100;return s[1]==="hwb"?c=$_(h,g,y):s[1]==="hsv"?c=V_(h,g,y):c=up(h,g,y),{r:c[0],g:c[1],b:c[2],a:o}}function j_(u,s){var o=rp(u);o[0]=n0(o[0]+s),o=up(o),u.r=o[0],u.g=o[1],u.b=o[2]}function U_(u){if(!u)return;const s=rp(u),o=s[0],c=Kp(s[1]),h=Kp(s[2]);return u.a<255?`hsla(${o}, ${c}%, ${h}%, ${Aa(u.a)})`:`hsl(${o}, ${c}%, ${h}%)`}const Zp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Jp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function q_(){const u={},s=Object.keys(Jp),o=Object.keys(Zp);let c,h,g,y,w;for(c=0;c<s.length;c++){for(y=w=s[c],h=0;h<o.length;h++)g=o[h],w=w.replace(g,Zp[g]);g=parseInt(Jp[y],16),u[w]=[g>>16&255,g>>8&255,g&255]}return u}let Fd;function Y_(u){Fd||(Fd=q_(),Fd.transparent=[0,0,0,0]);const s=Fd[u.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:s.length===4?s[3]:255}}const G_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function X_(u){const s=G_.exec(u);let o=255,c,h,g;if(s){if(s[7]!==c){const y=+s[7];o=s[8]?Du(y):go(y*255,0,255)}return c=+s[1],h=+s[3],g=+s[5],c=255&(s[2]?Du(c):go(c,0,255)),h=255&(s[4]?Du(h):go(h,0,255)),g=255&(s[6]?Du(g):go(g,0,255)),{r:c,g:h,b:g,a:o}}}function K_(u){return u&&(u.a<255?`rgba(${u.r}, ${u.g}, ${u.b}, ${Aa(u.a)})`:`rgb(${u.r}, ${u.g}, ${u.b})`)}const wf=u=>u<=.0031308?u*12.92:Math.pow(u,1/2.4)*1.055-.055,Xr=u=>u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4);function Z_(u,s,o){const c=Xr(Aa(u.r)),h=Xr(Aa(u.g)),g=Xr(Aa(u.b));return{r:_o(wf(c+o*(Xr(Aa(s.r))-c))),g:_o(wf(h+o*(Xr(Aa(s.g))-h))),b:_o(wf(g+o*(Xr(Aa(s.b))-g))),a:u.a+o*(s.a-u.a)}}function Id(u,s,o){if(u){let c=rp(u);c[s]=Math.max(0,Math.min(c[s]+c[s]*o,s===0?360:1)),c=up(c),u.r=c[0],u.g=c[1],u.b=c[2]}}function s0(u,s){return u&&Object.assign(s||{},u)}function Qp(u){var s={r:0,g:0,b:0,a:255};return Array.isArray(u)?u.length>=3&&(s={r:u[0],g:u[1],b:u[2],a:255},u.length>3&&(s.a=_o(u[3]))):(s=s0(u,{r:0,g:0,b:0,a:1}),s.a=_o(s.a)),s}function J_(u){return u.charAt(0)==="r"?X_(u):W_(u)}class Ru{constructor(s){if(s instanceof Ru)return s;const o=typeof s;let c;o==="object"?c=Qp(s):o==="string"&&(c=O_(s)||Y_(s)||J_(s)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var s=s0(this._rgb);return s&&(s.a=Aa(s.a)),s}set rgb(s){this._rgb=Qp(s)}rgbString(){return this._valid?K_(this._rgb):void 0}hexString(){return this._valid?B_(this._rgb):void 0}hslString(){return this._valid?U_(this._rgb):void 0}mix(s,o){if(s){const c=this.rgb,h=s.rgb;let g;const y=o===g?.5:o,w=2*y-1,S=c.a-h.a,D=((w*S===-1?w:(w+S)/(1+w*S))+1)/2;g=1-D,c.r=255&D*c.r+g*h.r+.5,c.g=255&D*c.g+g*h.g+.5,c.b=255&D*c.b+g*h.b+.5,c.a=y*c.a+(1-y)*h.a,this.rgb=c}return this}interpolate(s,o){return s&&(this._rgb=Z_(this._rgb,s._rgb,o)),this}clone(){return new Ru(this.rgb)}alpha(s){return this._rgb.a=_o(s),this}clearer(s){const o=this._rgb;return o.a*=1-s,this}greyscale(){const s=this._rgb,o=qu(s.r*.3+s.g*.59+s.b*.11);return s.r=s.g=s.b=o,this}opaquer(s){const o=this._rgb;return o.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return Id(this._rgb,2,s),this}darken(s){return Id(this._rgb,2,-s),this}saturate(s){return Id(this._rgb,1,s),this}desaturate(s){return Id(this._rgb,1,-s),this}rotate(s){return j_(this._rgb,s),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Da(){}const Q_=(()=>{let u=0;return()=>u++})();function Mt(u){return u==null}function yi(u){if(Array.isArray&&Array.isArray(u))return!0;const s=Object.prototype.toString.call(u);return s.slice(0,7)==="[object"&&s.slice(-6)==="Array]"}function It(u){return u!==null&&Object.prototype.toString.call(u)==="[object Object]"}function Fi(u){return(typeof u=="number"||u instanceof Number)&&isFinite(+u)}function Gn(u,s){return Fi(u)?u:s}function Et(u,s){return typeof u>"u"?s:u}const e1=(u,s)=>typeof u=="string"&&u.endsWith("%")?parseFloat(u)/100:+u/s,a0=(u,s)=>typeof u=="string"&&u.endsWith("%")?parseFloat(u)/100*s:+u;function ri(u,s,o){if(u&&typeof u.call=="function")return u.apply(o,s)}function Qt(u,s,o,c){let h,g,y;if(yi(u))for(g=u.length,h=0;h<g;h++)s.call(o,u[h],h);else if(It(u))for(y=Object.keys(u),g=y.length,h=0;h<g;h++)s.call(o,u[y[h]],y[h])}function ih(u,s){let o,c,h,g;if(!u||!s||u.length!==s.length)return!1;for(o=0,c=u.length;o<c;++o)if(h=u[o],g=s[o],h.datasetIndex!==g.datasetIndex||h.index!==g.index)return!1;return!0}function nh(u){if(yi(u))return u.map(nh);if(It(u)){const s=Object.create(null),o=Object.keys(u),c=o.length;let h=0;for(;h<c;++h)s[o[h]]=nh(u[o[h]]);return s}return u}function o0(u){return["__proto__","prototype","constructor"].indexOf(u)===-1}function t1(u,s,o,c){if(!o0(u))return;const h=s[u],g=o[u];It(h)&&It(g)?zu(h,g,c):s[u]=nh(g)}function zu(u,s,o){const c=yi(s)?s:[s],h=c.length;if(!It(u))return u;o=o||{};const g=o.merger||t1;let y;for(let w=0;w<h;++w){if(y=c[w],!It(y))continue;const S=Object.keys(y);for(let D=0,A=S.length;D<A;++D)g(S[D],u,y,o)}return u}function Iu(u,s){return zu(u,s,{merger:i1})}function i1(u,s,o){if(!o0(u))return;const c=s[u],h=o[u];It(c)&&It(h)?Iu(c,h):Object.prototype.hasOwnProperty.call(s,u)||(s[u]=nh(h))}const em={"":u=>u,x:u=>u.x,y:u=>u.y};function n1(u){const s=u.split("."),o=[];let c="";for(const h of s)c+=h,c.endsWith("\\")?c=c.slice(0,-1)+".":(o.push(c),c="");return o}function s1(u){const s=n1(u);return o=>{for(const c of s){if(c==="")break;o=o&&o[c]}return o}}function Co(u,s){return(em[s]||(em[s]=s1(s)))(u)}function cp(u){return u.charAt(0).toUpperCase()+u.slice(1)}const Hu=u=>typeof u<"u",xo=u=>typeof u=="function",tm=(u,s)=>{if(u.size!==s.size)return!1;for(const o of u)if(!s.has(o))return!1;return!0};function a1(u){return u.type==="mouseup"||u.type==="click"||u.type==="contextmenu"}const di=Math.PI,ci=2*di,o1=ci+di,sh=Number.POSITIVE_INFINITY,r1=di/180,Ni=di/2,Jo=di/4,im=di*2/3,vo=Math.log10,Qs=Math.sign;function Lu(u,s,o){return Math.abs(u-s)<o}function nm(u){const s=Math.round(u);u=Lu(u,s,u/1e3)?s:u;const o=Math.pow(10,Math.floor(vo(u))),c=u/o;return(c<=1?1:c<=2?2:c<=5?5:10)*o}function l1(u){const s=[],o=Math.sqrt(u);let c;for(c=1;c<o;c++)u%c===0&&(s.push(c),s.push(u/c));return o===(o|0)&&s.push(o),s.sort((h,g)=>h-g).pop(),s}function u1(u){return typeof u=="symbol"||typeof u=="object"&&u!==null&&!(Symbol.toPrimitive in u||"toString"in u||"valueOf"in u)}function Qr(u){return!u1(u)&&!isNaN(parseFloat(u))&&isFinite(u)}function c1(u,s){const o=Math.round(u);return o-s<=u&&o+s>=u}function r0(u,s,o){let c,h,g;for(c=0,h=u.length;c<h;c++)g=u[c][o],isNaN(g)||(s.min=Math.min(s.min,g),s.max=Math.max(s.max,g))}function Ts(u){return u*(di/180)}function dp(u){return u*(180/di)}function sm(u){if(!Fi(u))return;let s=1,o=0;for(;Math.round(u*s)/s!==u;)s*=10,o++;return o}function l0(u,s){const o=s.x-u.x,c=s.y-u.y,h=Math.sqrt(o*o+c*c);let g=Math.atan2(c,o);return g<-.5*di&&(g+=ci),{angle:g,distance:h}}function Wf(u,s){return Math.sqrt(Math.pow(s.x-u.x,2)+Math.pow(s.y-u.y,2))}function d1(u,s){return(u-s+o1)%ci-di}function Xn(u){return(u%ci+ci)%ci}function $u(u,s,o,c){const h=Xn(u),g=Xn(s),y=Xn(o),w=Xn(g-h),S=Xn(y-h),D=Xn(h-g),A=Xn(h-y);return h===g||h===y||c&&g===y||w>S&&D<A}function un(u,s,o){return Math.max(s,Math.min(o,u))}function h1(u){return un(u,-32768,32767)}function Fa(u,s,o,c=1e-6){return u>=Math.min(s,o)-c&&u<=Math.max(s,o)+c}function hp(u,s,o){o=o||(y=>u[y]<s);let c=u.length-1,h=0,g;for(;c-h>1;)g=h+c>>1,o(g)?h=g:c=g;return{lo:h,hi:c}}const Ia=(u,s,o,c)=>hp(u,o,c?h=>{const g=u[h][s];return g<o||g===o&&u[h+1][s]===o}:h=>u[h][s]<o),f1=(u,s,o)=>hp(u,o,c=>u[c][s]>=o);function p1(u,s,o){let c=0,h=u.length;for(;c<h&&u[c]<s;)c++;for(;h>c&&u[h-1]>o;)h--;return c>0||h<u.length?u.slice(c,h):u}const u0=["push","pop","shift","splice","unshift"];function m1(u,s){if(u._chartjs){u._chartjs.listeners.push(s);return}Object.defineProperty(u,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),u0.forEach(o=>{const c="_onData"+cp(o),h=u[o];Object.defineProperty(u,o,{configurable:!0,enumerable:!1,value(...g){const y=h.apply(this,g);return u._chartjs.listeners.forEach(w=>{typeof w[c]=="function"&&w[c](...g)}),y}})})}function am(u,s){const o=u._chartjs;if(!o)return;const c=o.listeners,h=c.indexOf(s);h!==-1&&c.splice(h,1),!(c.length>0)&&(u0.forEach(g=>{delete u[g]}),delete u._chartjs)}function c0(u){const s=new Set(u);return s.size===u.length?u:Array.from(s)}const d0=function(){return typeof window>"u"?function(u){return u()}:window.requestAnimationFrame}();function h0(u,s){let o=[],c=!1;return function(...h){o=h,c||(c=!0,d0.call(window,()=>{c=!1,u.apply(s,o)}))}}function g1(u,s){let o;return function(...c){return s?(clearTimeout(o),o=setTimeout(u,s,c)):u.apply(this,c),s}}const fp=u=>u==="start"?"left":u==="end"?"right":"center",kn=(u,s,o)=>u==="start"?s:u==="end"?o:(s+o)/2,v1=(u,s,o,c)=>u===(c?"left":"right")?o:u==="center"?(s+o)/2:s;function f0(u,s,o){const c=s.length;let h=0,g=c;if(u._sorted){const{iScale:y,vScale:w,_parsed:S}=u,D=u.dataset&&u.dataset.options?u.dataset.options.spanGaps:null,A=y.axis,{min:O,max:B,minDefined:H,maxDefined:q}=y.getUserBounds();if(H){if(h=Math.min(Ia(S,A,O).lo,o?c:Ia(s,A,y.getPixelForValue(O)).lo),D){const Q=S.slice(0,h+1).reverse().findIndex(te=>!Mt(te[w.axis]));h-=Math.max(0,Q)}h=un(h,0,c-1)}if(q){let Q=Math.max(Ia(S,y.axis,B,!0).hi+1,o?0:Ia(s,A,y.getPixelForValue(B),!0).hi+1);if(D){const te=S.slice(Q-1).findIndex(K=>!Mt(K[w.axis]));Q+=Math.max(0,te)}g=un(Q,h,c)-h}else g=c-h}return{start:h,count:g}}function p0(u){const{xScale:s,yScale:o,_scaleRanges:c}=u,h={xmin:s.min,xmax:s.max,ymin:o.min,ymax:o.max};if(!c)return u._scaleRanges=h,!0;const g=c.xmin!==s.min||c.xmax!==s.max||c.ymin!==o.min||c.ymax!==o.max;return Object.assign(c,h),g}const Ld=u=>u===0||u===1,om=(u,s,o)=>-(Math.pow(2,10*(u-=1))*Math.sin((u-s)*ci/o)),rm=(u,s,o)=>Math.pow(2,-10*u)*Math.sin((u-s)*ci/o)+1,Ou={linear:u=>u,easeInQuad:u=>u*u,easeOutQuad:u=>-u*(u-2),easeInOutQuad:u=>(u/=.5)<1?.5*u*u:-.5*(--u*(u-2)-1),easeInCubic:u=>u*u*u,easeOutCubic:u=>(u-=1)*u*u+1,easeInOutCubic:u=>(u/=.5)<1?.5*u*u*u:.5*((u-=2)*u*u+2),easeInQuart:u=>u*u*u*u,easeOutQuart:u=>-((u-=1)*u*u*u-1),easeInOutQuart:u=>(u/=.5)<1?.5*u*u*u*u:-.5*((u-=2)*u*u*u-2),easeInQuint:u=>u*u*u*u*u,easeOutQuint:u=>(u-=1)*u*u*u*u+1,easeInOutQuint:u=>(u/=.5)<1?.5*u*u*u*u*u:.5*((u-=2)*u*u*u*u+2),easeInSine:u=>-Math.cos(u*Ni)+1,easeOutSine:u=>Math.sin(u*Ni),easeInOutSine:u=>-.5*(Math.cos(di*u)-1),easeInExpo:u=>u===0?0:Math.pow(2,10*(u-1)),easeOutExpo:u=>u===1?1:-Math.pow(2,-10*u)+1,easeInOutExpo:u=>Ld(u)?u:u<.5?.5*Math.pow(2,10*(u*2-1)):.5*(-Math.pow(2,-10*(u*2-1))+2),easeInCirc:u=>u>=1?u:-(Math.sqrt(1-u*u)-1),easeOutCirc:u=>Math.sqrt(1-(u-=1)*u),easeInOutCirc:u=>(u/=.5)<1?-.5*(Math.sqrt(1-u*u)-1):.5*(Math.sqrt(1-(u-=2)*u)+1),easeInElastic:u=>Ld(u)?u:om(u,.075,.3),easeOutElastic:u=>Ld(u)?u:rm(u,.075,.3),easeInOutElastic(u){return Ld(u)?u:u<.5?.5*om(u*2,.1125,.45):.5+.5*rm(u*2-1,.1125,.45)},easeInBack(u){return u*u*((1.70158+1)*u-1.70158)},easeOutBack(u){return(u-=1)*u*((1.70158+1)*u+1.70158)+1},easeInOutBack(u){let s=1.70158;return(u/=.5)<1?.5*(u*u*(((s*=1.525)+1)*u-s)):.5*((u-=2)*u*(((s*=1.525)+1)*u+s)+2)},easeInBounce:u=>1-Ou.easeOutBounce(1-u),easeOutBounce(u){return u<1/2.75?7.5625*u*u:u<2/2.75?7.5625*(u-=1.5/2.75)*u+.75:u<2.5/2.75?7.5625*(u-=2.25/2.75)*u+.9375:7.5625*(u-=2.625/2.75)*u+.984375},easeInOutBounce:u=>u<.5?Ou.easeInBounce(u*2)*.5:Ou.easeOutBounce(u*2-1)*.5+.5};function pp(u){if(u&&typeof u=="object"){const s=u.toString();return s==="[object CanvasPattern]"||s==="[object CanvasGradient]"}return!1}function lm(u){return pp(u)?u:new Ru(u)}function kf(u){return pp(u)?u:new Ru(u).saturate(.5).darken(.1).hexString()}const b1=["x","y","borderWidth","radius","tension"],y1=["color","borderColor","backgroundColor"];function _1(u){u.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),u.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>s!=="onProgress"&&s!=="onComplete"&&s!=="fn"}),u.set("animations",{colors:{type:"color",properties:y1},numbers:{type:"number",properties:b1}}),u.describe("animations",{_fallback:"animation"}),u.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>s|0}}}})}function C1(u){u.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const um=new Map;function x1(u,s){s=s||{};const o=u+JSON.stringify(s);let c=um.get(o);return c||(c=new Intl.NumberFormat(u,s),um.set(o,c)),c}function Yu(u,s,o){return x1(s,o).format(u)}const m0={values(u){return yi(u)?u:""+u},numeric(u,s,o){if(u===0)return"0";const c=this.chart.options.locale;let h,g=u;if(o.length>1){const D=Math.max(Math.abs(o[0].value),Math.abs(o[o.length-1].value));(D<1e-4||D>1e15)&&(h="scientific"),g=w1(u,o)}const y=vo(Math.abs(g)),w=isNaN(y)?1:Math.max(Math.min(-1*Math.floor(y),20),0),S={notation:h,minimumFractionDigits:w,maximumFractionDigits:w};return Object.assign(S,this.options.ticks.format),Yu(u,c,S)},logarithmic(u,s,o){if(u===0)return"0";const c=o[s].significand||u/Math.pow(10,Math.floor(vo(u)));return[1,2,3,5,10,15].includes(c)||s>.8*o.length?m0.numeric.call(this,u,s,o):""}};function w1(u,s){let o=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(o)>=1&&u!==Math.floor(u)&&(o=u-Math.floor(u)),o}var hh={formatters:m0};function k1(u){u.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,o)=>o.lineWidth,tickColor:(s,o)=>o.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),u.route("scale.ticks","color","","color"),u.route("scale.grid","color","","borderColor"),u.route("scale.border","color","","borderColor"),u.route("scale.title","color","","color"),u.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&s!=="callback"&&s!=="parser",_indexable:s=>s!=="borderDash"&&s!=="tickBorderDash"&&s!=="dash"}),u.describe("scales",{_fallback:"scale"}),u.describe("scale.ticks",{_scriptable:s=>s!=="backdropPadding"&&s!=="callback",_indexable:s=>s!=="backdropPadding"})}const lr=Object.create(null),jf=Object.create(null);function Pu(u,s){if(!s)return u;const o=s.split(".");for(let c=0,h=o.length;c<h;++c){const g=o[c];u=u[g]||(u[g]=Object.create(null))}return u}function Sf(u,s,o){return typeof s=="string"?zu(Pu(u,s),o):zu(Pu(u,""),s)}class S1{constructor(s,o){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=c=>c.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(c,h)=>kf(h.backgroundColor),this.hoverBorderColor=(c,h)=>kf(h.borderColor),this.hoverColor=(c,h)=>kf(h.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(o)}set(s,o){return Sf(this,s,o)}get(s){return Pu(this,s)}describe(s,o){return Sf(jf,s,o)}override(s,o){return Sf(lr,s,o)}route(s,o,c,h){const g=Pu(this,s),y=Pu(this,c),w="_"+o;Object.defineProperties(g,{[w]:{value:g[o],writable:!0},[o]:{enumerable:!0,get(){const S=this[w],D=y[h];return It(S)?Object.assign({},D,S):Et(S,D)},set(S){this[w]=S}}})}apply(s){s.forEach(o=>o(this))}}var _i=new S1({_scriptable:u=>!u.startsWith("on"),_indexable:u=>u!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_1,C1,k1]);function D1(u){return!u||Mt(u.size)||Mt(u.family)?null:(u.style?u.style+" ":"")+(u.weight?u.weight+" ":"")+u.size+"px "+u.family}function ah(u,s,o,c,h){let g=s[h];return g||(g=s[h]=u.measureText(h).width,o.push(h)),g>c&&(c=g),c}function T1(u,s,o,c){c=c||{};let h=c.data=c.data||{},g=c.garbageCollect=c.garbageCollect||[];c.font!==s&&(h=c.data={},g=c.garbageCollect=[],c.font=s),u.save(),u.font=s;let y=0;const w=o.length;let S,D,A,O,B;for(S=0;S<w;S++)if(O=o[S],O!=null&&!yi(O))y=ah(u,h,g,y,O);else if(yi(O))for(D=0,A=O.length;D<A;D++)B=O[D],B!=null&&!yi(B)&&(y=ah(u,h,g,y,B));u.restore();const H=g.length/2;if(H>o.length){for(S=0;S<H;S++)delete h[g[S]];g.splice(0,H)}return y}function Qo(u,s,o){const c=u.currentDevicePixelRatio,h=o!==0?Math.max(o/2,.5):0;return Math.round((s-h)*c)/c+h}function cm(u,s){!s&&!u||(s=s||u.getContext("2d"),s.save(),s.resetTransform(),s.clearRect(0,0,u.width,u.height),s.restore())}function Uf(u,s,o,c){g0(u,s,o,c,null)}function g0(u,s,o,c,h){let g,y,w,S,D,A,O,B;const H=s.pointStyle,q=s.rotation,Q=s.radius;let te=(q||0)*r1;if(H&&typeof H=="object"&&(g=H.toString(),g==="[object HTMLImageElement]"||g==="[object HTMLCanvasElement]")){u.save(),u.translate(o,c),u.rotate(te),u.drawImage(H,-H.width/2,-H.height/2,H.width,H.height),u.restore();return}if(!(isNaN(Q)||Q<=0)){switch(u.beginPath(),H){default:h?u.ellipse(o,c,h/2,Q,0,0,ci):u.arc(o,c,Q,0,ci),u.closePath();break;case"triangle":A=h?h/2:Q,u.moveTo(o+Math.sin(te)*A,c-Math.cos(te)*Q),te+=im,u.lineTo(o+Math.sin(te)*A,c-Math.cos(te)*Q),te+=im,u.lineTo(o+Math.sin(te)*A,c-Math.cos(te)*Q),u.closePath();break;case"rectRounded":D=Q*.516,S=Q-D,y=Math.cos(te+Jo)*S,O=Math.cos(te+Jo)*(h?h/2-D:S),w=Math.sin(te+Jo)*S,B=Math.sin(te+Jo)*(h?h/2-D:S),u.arc(o-O,c-w,D,te-di,te-Ni),u.arc(o+B,c-y,D,te-Ni,te),u.arc(o+O,c+w,D,te,te+Ni),u.arc(o-B,c+y,D,te+Ni,te+di),u.closePath();break;case"rect":if(!q){S=Math.SQRT1_2*Q,A=h?h/2:S,u.rect(o-A,c-S,2*A,2*S);break}te+=Jo;case"rectRot":O=Math.cos(te)*(h?h/2:Q),y=Math.cos(te)*Q,w=Math.sin(te)*Q,B=Math.sin(te)*(h?h/2:Q),u.moveTo(o-O,c-w),u.lineTo(o+B,c-y),u.lineTo(o+O,c+w),u.lineTo(o-B,c+y),u.closePath();break;case"crossRot":te+=Jo;case"cross":O=Math.cos(te)*(h?h/2:Q),y=Math.cos(te)*Q,w=Math.sin(te)*Q,B=Math.sin(te)*(h?h/2:Q),u.moveTo(o-O,c-w),u.lineTo(o+O,c+w),u.moveTo(o+B,c-y),u.lineTo(o-B,c+y);break;case"star":O=Math.cos(te)*(h?h/2:Q),y=Math.cos(te)*Q,w=Math.sin(te)*Q,B=Math.sin(te)*(h?h/2:Q),u.moveTo(o-O,c-w),u.lineTo(o+O,c+w),u.moveTo(o+B,c-y),u.lineTo(o-B,c+y),te+=Jo,O=Math.cos(te)*(h?h/2:Q),y=Math.cos(te)*Q,w=Math.sin(te)*Q,B=Math.sin(te)*(h?h/2:Q),u.moveTo(o-O,c-w),u.lineTo(o+O,c+w),u.moveTo(o+B,c-y),u.lineTo(o-B,c+y);break;case"line":y=h?h/2:Math.cos(te)*Q,w=Math.sin(te)*Q,u.moveTo(o-y,c-w),u.lineTo(o+y,c+w);break;case"dash":u.moveTo(o,c),u.lineTo(o+Math.cos(te)*(h?h/2:Q),c+Math.sin(te)*Q);break;case!1:u.closePath();break}u.fill(),s.borderWidth>0&&u.stroke()}}function La(u,s,o){return o=o||.5,!s||u&&u.x>s.left-o&&u.x<s.right+o&&u.y>s.top-o&&u.y<s.bottom+o}function fh(u,s){u.save(),u.beginPath(),u.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),u.clip()}function ph(u){u.restore()}function E1(u,s,o,c,h){if(!s)return u.lineTo(o.x,o.y);if(h==="middle"){const g=(s.x+o.x)/2;u.lineTo(g,s.y),u.lineTo(g,o.y)}else h==="after"!=!!c?u.lineTo(s.x,o.y):u.lineTo(o.x,s.y);u.lineTo(o.x,o.y)}function A1(u,s,o,c){if(!s)return u.lineTo(o.x,o.y);u.bezierCurveTo(c?s.cp1x:s.cp2x,c?s.cp1y:s.cp2y,c?o.cp2x:o.cp1x,c?o.cp2y:o.cp1y,o.x,o.y)}function M1(u,s){s.translation&&u.translate(s.translation[0],s.translation[1]),Mt(s.rotation)||u.rotate(s.rotation),s.color&&(u.fillStyle=s.color),s.textAlign&&(u.textAlign=s.textAlign),s.textBaseline&&(u.textBaseline=s.textBaseline)}function F1(u,s,o,c,h){if(h.strikethrough||h.underline){const g=u.measureText(c),y=s-g.actualBoundingBoxLeft,w=s+g.actualBoundingBoxRight,S=o-g.actualBoundingBoxAscent,D=o+g.actualBoundingBoxDescent,A=h.strikethrough?(S+D)/2:D;u.strokeStyle=u.fillStyle,u.beginPath(),u.lineWidth=h.decorationWidth||2,u.moveTo(y,A),u.lineTo(w,A),u.stroke()}}function I1(u,s){const o=u.fillStyle;u.fillStyle=s.color,u.fillRect(s.left,s.top,s.width,s.height),u.fillStyle=o}function ur(u,s,o,c,h,g={}){const y=yi(s)?s:[s],w=g.strokeWidth>0&&g.strokeColor!=="";let S,D;for(u.save(),u.font=h.string,M1(u,g),S=0;S<y.length;++S)D=y[S],g.backdrop&&I1(u,g.backdrop),w&&(g.strokeColor&&(u.strokeStyle=g.strokeColor),Mt(g.strokeWidth)||(u.lineWidth=g.strokeWidth),u.strokeText(D,o,c,g.maxWidth)),u.fillText(D,o,c,g.maxWidth),F1(u,o,c,D,g),c+=Number(h.lineHeight);u.restore()}function Vu(u,s){const{x:o,y:c,w:h,h:g,radius:y}=s;u.arc(o+y.topLeft,c+y.topLeft,y.topLeft,1.5*di,di,!0),u.lineTo(o,c+g-y.bottomLeft),u.arc(o+y.bottomLeft,c+g-y.bottomLeft,y.bottomLeft,di,Ni,!0),u.lineTo(o+h-y.bottomRight,c+g),u.arc(o+h-y.bottomRight,c+g-y.bottomRight,y.bottomRight,Ni,0,!0),u.lineTo(o+h,c+y.topRight),u.arc(o+h-y.topRight,c+y.topRight,y.topRight,0,-Ni,!0),u.lineTo(o+y.topLeft,c)}const L1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,O1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function P1(u,s){const o=(""+u).match(L1);if(!o||o[1]==="normal")return s*1.2;switch(u=+o[2],o[3]){case"px":return u;case"%":u/=100;break}return s*u}const B1=u=>+u||0;function mp(u,s){const o={},c=It(s),h=c?Object.keys(s):s,g=It(u)?c?y=>Et(u[y],u[s[y]]):y=>u[y]:()=>u;for(const y of h)o[y]=B1(g(y));return o}function v0(u){return mp(u,{top:"y",right:"x",bottom:"y",left:"x"})}function or(u){return mp(u,["topLeft","topRight","bottomLeft","bottomRight"])}function Dn(u){const s=v0(u);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Ki(u,s){u=u||{},s=s||_i.font;let o=Et(u.size,s.size);typeof o=="string"&&(o=parseInt(o,10));let c=Et(u.style,s.style);c&&!(""+c).match(O1)&&(console.warn('Invalid font style specified: "'+c+'"'),c=void 0);const h={family:Et(u.family,s.family),lineHeight:P1(Et(u.lineHeight,s.lineHeight),o),size:o,style:c,weight:Et(u.weight,s.weight),string:""};return h.string=D1(h),h}function Tu(u,s,o,c){let h,g,y;for(h=0,g=u.length;h<g;++h)if(y=u[h],y!==void 0&&y!==void 0)return y}function N1(u,s,o){const{min:c,max:h}=u,g=a0(s,(h-c)/2),y=(w,S)=>o&&w===0?0:w+S;return{min:y(c,-Math.abs(g)),max:y(h,g)}}function wo(u,s){return Object.assign(Object.create(u),s)}function gp(u,s=[""],o,c,h=()=>u[0]){const g=o||u;typeof c>"u"&&(c=C0("_fallback",u));const y={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:u,_rootScopes:g,_fallback:c,_getTarget:h,override:w=>gp([w,...u],s,g,c)};return new Proxy(y,{deleteProperty(w,S){return delete w[S],delete w._keys,delete u[0][S],!0},get(w,S){return y0(w,S,()=>U1(S,s,u,w))},getOwnPropertyDescriptor(w,S){return Reflect.getOwnPropertyDescriptor(w._scopes[0],S)},getPrototypeOf(){return Reflect.getPrototypeOf(u[0])},has(w,S){return hm(w).includes(S)},ownKeys(w){return hm(w)},set(w,S,D){const A=w._storage||(w._storage=h());return w[S]=A[S]=D,delete w._keys,!0}})}function el(u,s,o,c){const h={_cacheable:!1,_proxy:u,_context:s,_subProxy:o,_stack:new Set,_descriptors:b0(u,c),setContext:g=>el(u,g,o,c),override:g=>el(u.override(g),s,o,c)};return new Proxy(h,{deleteProperty(g,y){return delete g[y],delete u[y],!0},get(g,y,w){return y0(g,y,()=>z1(g,y,w))},getOwnPropertyDescriptor(g,y){return g._descriptors.allKeys?Reflect.has(u,y)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(u,y)},getPrototypeOf(){return Reflect.getPrototypeOf(u)},has(g,y){return Reflect.has(u,y)},ownKeys(){return Reflect.ownKeys(u)},set(g,y,w){return u[y]=w,delete g[y],!0}})}function b0(u,s={scriptable:!0,indexable:!0}){const{_scriptable:o=s.scriptable,_indexable:c=s.indexable,_allKeys:h=s.allKeys}=u;return{allKeys:h,scriptable:o,indexable:c,isScriptable:xo(o)?o:()=>o,isIndexable:xo(c)?c:()=>c}}const R1=(u,s)=>u?u+cp(s):s,vp=(u,s)=>It(s)&&u!=="adapters"&&(Object.getPrototypeOf(s)===null||s.constructor===Object);function y0(u,s,o){if(Object.prototype.hasOwnProperty.call(u,s)||s==="constructor")return u[s];const c=o();return u[s]=c,c}function z1(u,s,o){const{_proxy:c,_context:h,_subProxy:g,_descriptors:y}=u;let w=c[s];return xo(w)&&y.isScriptable(s)&&(w=H1(s,w,u,o)),yi(w)&&w.length&&(w=$1(s,w,u,y.isIndexable)),vp(s,w)&&(w=el(w,h,g&&g[s],y)),w}function H1(u,s,o,c){const{_proxy:h,_context:g,_subProxy:y,_stack:w}=o;if(w.has(u))throw new Error("Recursion detected: "+Array.from(w).join("->")+"->"+u);w.add(u);let S=s(g,y||c);return w.delete(u),vp(u,S)&&(S=bp(h._scopes,h,u,S)),S}function $1(u,s,o,c){const{_proxy:h,_context:g,_subProxy:y,_descriptors:w}=o;if(typeof g.index<"u"&&c(u))return s[g.index%s.length];if(It(s[0])){const S=s,D=h._scopes.filter(A=>A!==S);s=[];for(const A of S){const O=bp(D,h,u,A);s.push(el(O,g,y&&y[u],w))}}return s}function _0(u,s,o){return xo(u)?u(s,o):u}const V1=(u,s)=>u===!0?s:typeof u=="string"?Co(s,u):void 0;function W1(u,s,o,c,h){for(const g of s){const y=V1(o,g);if(y){u.add(y);const w=_0(y._fallback,o,h);if(typeof w<"u"&&w!==o&&w!==c)return w}else if(y===!1&&typeof c<"u"&&o!==c)return null}return!1}function bp(u,s,o,c){const h=s._rootScopes,g=_0(s._fallback,o,c),y=[...u,...h],w=new Set;w.add(c);let S=dm(w,y,o,g||o,c);return S===null||typeof g<"u"&&g!==o&&(S=dm(w,y,g,S,c),S===null)?!1:gp(Array.from(w),[""],h,g,()=>j1(s,o,c))}function dm(u,s,o,c,h){for(;o;)o=W1(u,s,o,c,h);return o}function j1(u,s,o){const c=u._getTarget();s in c||(c[s]={});const h=c[s];return yi(h)&&It(o)?o:h||{}}function U1(u,s,o,c){let h;for(const g of s)if(h=C0(R1(g,u),o),typeof h<"u")return vp(u,h)?bp(o,c,u,h):h}function C0(u,s){for(const o of s){if(!o)continue;const c=o[u];if(typeof c<"u")return c}}function hm(u){let s=u._keys;return s||(s=u._keys=q1(u._scopes)),s}function q1(u){const s=new Set;for(const o of u)for(const c of Object.keys(o).filter(h=>!h.startsWith("_")))s.add(c);return Array.from(s)}function x0(u,s,o,c){const{iScale:h}=u,{key:g="r"}=this._parsing,y=new Array(c);let w,S,D,A;for(w=0,S=c;w<S;++w)D=w+o,A=s[D],y[w]={r:h.parse(Co(A,g),D)};return y}const Y1=Number.EPSILON||1e-14,tl=(u,s)=>s<u.length&&!u[s].skip&&u[s],w0=u=>u==="x"?"y":"x";function G1(u,s,o,c){const h=u.skip?s:u,g=s,y=o.skip?s:o,w=Wf(g,h),S=Wf(y,g);let D=w/(w+S),A=S/(w+S);D=isNaN(D)?0:D,A=isNaN(A)?0:A;const O=c*D,B=c*A;return{previous:{x:g.x-O*(y.x-h.x),y:g.y-O*(y.y-h.y)},next:{x:g.x+B*(y.x-h.x),y:g.y+B*(y.y-h.y)}}}function X1(u,s,o){const c=u.length;let h,g,y,w,S,D=tl(u,0);for(let A=0;A<c-1;++A)if(S=D,D=tl(u,A+1),!(!S||!D)){if(Lu(s[A],0,Y1)){o[A]=o[A+1]=0;continue}h=o[A]/s[A],g=o[A+1]/s[A],w=Math.pow(h,2)+Math.pow(g,2),!(w<=9)&&(y=3/Math.sqrt(w),o[A]=h*y*s[A],o[A+1]=g*y*s[A])}}function K1(u,s,o="x"){const c=w0(o),h=u.length;let g,y,w,S=tl(u,0);for(let D=0;D<h;++D){if(y=w,w=S,S=tl(u,D+1),!w)continue;const A=w[o],O=w[c];y&&(g=(A-y[o])/3,w[`cp1${o}`]=A-g,w[`cp1${c}`]=O-g*s[D]),S&&(g=(S[o]-A)/3,w[`cp2${o}`]=A+g,w[`cp2${c}`]=O+g*s[D])}}function Z1(u,s="x"){const o=w0(s),c=u.length,h=Array(c).fill(0),g=Array(c);let y,w,S,D=tl(u,0);for(y=0;y<c;++y)if(w=S,S=D,D=tl(u,y+1),!!S){if(D){const A=D[s]-S[s];h[y]=A!==0?(D[o]-S[o])/A:0}g[y]=w?D?Qs(h[y-1])!==Qs(h[y])?0:(h[y-1]+h[y])/2:h[y-1]:h[y]}X1(u,h,g),K1(u,g,s)}function Od(u,s,o){return Math.max(Math.min(u,o),s)}function J1(u,s){let o,c,h,g,y,w=La(u[0],s);for(o=0,c=u.length;o<c;++o)y=g,g=w,w=o<c-1&&La(u[o+1],s),g&&(h=u[o],y&&(h.cp1x=Od(h.cp1x,s.left,s.right),h.cp1y=Od(h.cp1y,s.top,s.bottom)),w&&(h.cp2x=Od(h.cp2x,s.left,s.right),h.cp2y=Od(h.cp2y,s.top,s.bottom)))}function Q1(u,s,o,c,h){let g,y,w,S;if(s.spanGaps&&(u=u.filter(D=>!D.skip)),s.cubicInterpolationMode==="monotone")Z1(u,h);else{let D=c?u[u.length-1]:u[0];for(g=0,y=u.length;g<y;++g)w=u[g],S=G1(D,w,u[Math.min(g+1,y-(c?0:1))%y],s.tension),w.cp1x=S.previous.x,w.cp1y=S.previous.y,w.cp2x=S.next.x,w.cp2y=S.next.y,D=w}s.capBezierPoints&&J1(u,o)}function yp(){return typeof window<"u"&&typeof document<"u"}function _p(u){let s=u.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s}function oh(u,s,o){let c;return typeof u=="string"?(c=parseInt(u,10),u.indexOf("%")!==-1&&(c=c/100*s.parentNode[o])):c=u,c}const mh=u=>u.ownerDocument.defaultView.getComputedStyle(u,null);function eC(u,s){return mh(u).getPropertyValue(s)}const tC=["top","right","bottom","left"];function rr(u,s,o){const c={};o=o?"-"+o:"";for(let h=0;h<4;h++){const g=tC[h];c[g]=parseFloat(u[s+"-"+g+o])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}const iC=(u,s,o)=>(u>0||s>0)&&(!o||!o.shadowRoot);function nC(u,s){const o=u.touches,c=o&&o.length?o[0]:u,{offsetX:h,offsetY:g}=c;let y=!1,w,S;if(iC(h,g,u.target))w=h,S=g;else{const D=s.getBoundingClientRect();w=c.clientX-D.left,S=c.clientY-D.top,y=!0}return{x:w,y:S,box:y}}function ir(u,s){if("native"in u)return u;const{canvas:o,currentDevicePixelRatio:c}=s,h=mh(o),g=h.boxSizing==="border-box",y=rr(h,"padding"),w=rr(h,"border","width"),{x:S,y:D,box:A}=nC(u,o),O=y.left+(A&&w.left),B=y.top+(A&&w.top);let{width:H,height:q}=s;return g&&(H-=y.width+w.width,q-=y.height+w.height),{x:Math.round((S-O)/H*o.width/c),y:Math.round((D-B)/q*o.height/c)}}function sC(u,s,o){let c,h;if(s===void 0||o===void 0){const g=u&&_p(u);if(!g)s=u.clientWidth,o=u.clientHeight;else{const y=g.getBoundingClientRect(),w=mh(g),S=rr(w,"border","width"),D=rr(w,"padding");s=y.width-D.width-S.width,o=y.height-D.height-S.height,c=oh(w.maxWidth,g,"clientWidth"),h=oh(w.maxHeight,g,"clientHeight")}}return{width:s,height:o,maxWidth:c||sh,maxHeight:h||sh}}const Pd=u=>Math.round(u*10)/10;function aC(u,s,o,c){const h=mh(u),g=rr(h,"margin"),y=oh(h.maxWidth,u,"clientWidth")||sh,w=oh(h.maxHeight,u,"clientHeight")||sh,S=sC(u,s,o);let{width:D,height:A}=S;if(h.boxSizing==="content-box"){const B=rr(h,"border","width"),H=rr(h,"padding");D-=H.width+B.width,A-=H.height+B.height}return D=Math.max(0,D-g.width),A=Math.max(0,c?D/c:A-g.height),D=Pd(Math.min(D,y,S.maxWidth)),A=Pd(Math.min(A,w,S.maxHeight)),D&&!A&&(A=Pd(D/2)),(s!==void 0||o!==void 0)&&c&&S.height&&A>S.height&&(A=S.height,D=Pd(Math.floor(A*c))),{width:D,height:A}}function fm(u,s,o){const c=s||1,h=Math.floor(u.height*c),g=Math.floor(u.width*c);u.height=Math.floor(u.height),u.width=Math.floor(u.width);const y=u.canvas;return y.style&&(o||!y.style.height&&!y.style.width)&&(y.style.height=`${u.height}px`,y.style.width=`${u.width}px`),u.currentDevicePixelRatio!==c||y.height!==h||y.width!==g?(u.currentDevicePixelRatio=c,y.height=h,y.width=g,u.ctx.setTransform(c,0,0,c,0,0),!0):!1}const oC=function(){let u=!1;try{const s={get passive(){return u=!0,!1}};yp()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return u}();function pm(u,s){const o=eC(u,s),c=o&&o.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function nr(u,s,o,c){return{x:u.x+o*(s.x-u.x),y:u.y+o*(s.y-u.y)}}function rC(u,s,o,c){return{x:u.x+o*(s.x-u.x),y:c==="middle"?o<.5?u.y:s.y:c==="after"?o<1?u.y:s.y:o>0?s.y:u.y}}function lC(u,s,o,c){const h={x:u.cp2x,y:u.cp2y},g={x:s.cp1x,y:s.cp1y},y=nr(u,h,o),w=nr(h,g,o),S=nr(g,s,o),D=nr(y,w,o),A=nr(w,S,o);return nr(D,A,o)}const uC=function(u,s){return{x(o){return u+u+s-o},setWidth(o){s=o},textAlign(o){return o==="center"?o:o==="right"?"left":"right"},xPlus(o,c){return o-c},leftForLtr(o,c){return o-c}}},cC=function(){return{x(u){return u},setWidth(u){},textAlign(u){return u},xPlus(u,s){return u+s},leftForLtr(u,s){return u}}};function Jr(u,s,o){return u?uC(s,o):cC()}function k0(u,s){let o,c;(s==="ltr"||s==="rtl")&&(o=u.canvas.style,c=[o.getPropertyValue("direction"),o.getPropertyPriority("direction")],o.setProperty("direction",s,"important"),u.prevTextDirection=c)}function S0(u,s){s!==void 0&&(delete u.prevTextDirection,u.canvas.style.setProperty("direction",s[0],s[1]))}function D0(u){return u==="angle"?{between:$u,compare:d1,normalize:Xn}:{between:Fa,compare:(s,o)=>s-o,normalize:s=>s}}function mm({start:u,end:s,count:o,loop:c,style:h}){return{start:u%o,end:s%o,loop:c&&(s-u+1)%o===0,style:h}}function dC(u,s,o){const{property:c,start:h,end:g}=o,{between:y,normalize:w}=D0(c),S=s.length;let{start:D,end:A,loop:O}=u,B,H;if(O){for(D+=S,A+=S,B=0,H=S;B<H&&y(w(s[D%S][c]),h,g);++B)D--,A--;D%=S,A%=S}return A<D&&(A+=S),{start:D,end:A,loop:O,style:u.style}}function T0(u,s,o){if(!o)return[u];const{property:c,start:h,end:g}=o,y=s.length,{compare:w,between:S,normalize:D}=D0(c),{start:A,end:O,loop:B,style:H}=dC(u,s,o),q=[];let Q=!1,te=null,K,X,le;const ne=()=>S(h,le,K)&&w(h,le)!==0,se=()=>w(g,K)===0||S(g,le,K),we=()=>Q||ne(),be=()=>!Q||se();for(let ve=A,De=A;ve<=O;++ve)X=s[ve%y],!X.skip&&(K=D(X[c]),K!==le&&(Q=S(K,h,g),te===null&&we()&&(te=w(K,h)===0?ve:De),te!==null&&be()&&(q.push(mm({start:te,end:ve,loop:B,count:y,style:H})),te=null),De=ve,le=K));return te!==null&&q.push(mm({start:te,end:O,loop:B,count:y,style:H})),q}function E0(u,s){const o=[],c=u.segments;for(let h=0;h<c.length;h++){const g=T0(c[h],u.points,s);g.length&&o.push(...g)}return o}function hC(u,s,o,c){let h=0,g=s-1;if(o&&!c)for(;h<s&&!u[h].skip;)h++;for(;h<s&&u[h].skip;)h++;for(h%=s,o&&(g+=h);g>h&&u[g%s].skip;)g--;return g%=s,{start:h,end:g}}function fC(u,s,o,c){const h=u.length,g=[];let y=s,w=u[s],S;for(S=s+1;S<=o;++S){const D=u[S%h];D.skip||D.stop?w.skip||(c=!1,g.push({start:s%h,end:(S-1)%h,loop:c}),s=y=D.stop?S:null):(y=S,w.skip&&(s=S)),w=D}return y!==null&&g.push({start:s%h,end:y%h,loop:c}),g}function pC(u,s){const o=u.points,c=u.options.spanGaps,h=o.length;if(!h)return[];const g=!!u._loop,{start:y,end:w}=hC(o,h,g,c);if(c===!0)return gm(u,[{start:y,end:w,loop:g}],o,s);const S=w<y?w+h:w,D=!!u._fullLoop&&y===0&&w===h-1;return gm(u,fC(o,y,S,D),o,s)}function gm(u,s,o,c){return!c||!c.setContext||!o?s:mC(u,s,o,c)}function mC(u,s,o,c){const h=u._chart.getContext(),g=vm(u.options),{_datasetIndex:y,options:{spanGaps:w}}=u,S=o.length,D=[];let A=g,O=s[0].start,B=O;function H(q,Q,te,K){const X=w?-1:1;if(q!==Q){for(q+=S;o[q%S].skip;)q-=X;for(;o[Q%S].skip;)Q+=X;q%S!==Q%S&&(D.push({start:q%S,end:Q%S,loop:te,style:K}),A=K,O=Q%S)}}for(const q of s){O=w?O:q.start;let Q=o[O%S],te;for(B=O+1;B<=q.end;B++){const K=o[B%S];te=vm(c.setContext(wo(h,{type:"segment",p0:Q,p1:K,p0DataIndex:(B-1)%S,p1DataIndex:B%S,datasetIndex:y}))),gC(te,A)&&H(O,B-1,q.loop,A),Q=K,A=te}O<B-1&&H(O,B-1,q.loop,A)}return D}function vm(u){return{backgroundColor:u.backgroundColor,borderCapStyle:u.borderCapStyle,borderDash:u.borderDash,borderDashOffset:u.borderDashOffset,borderJoinStyle:u.borderJoinStyle,borderWidth:u.borderWidth,borderColor:u.borderColor}}function gC(u,s){if(!s)return!1;const o=[],c=function(h,g){return pp(g)?(o.includes(g)||o.push(g),o.indexOf(g)):g};return JSON.stringify(u,c)!==JSON.stringify(s,c)}function Bd(u,s,o){return u.options.clip?u[o]:s[o]}function vC(u,s){const{xScale:o,yScale:c}=u;return o&&c?{left:Bd(o,s,"left"),right:Bd(o,s,"right"),top:Bd(c,s,"top"),bottom:Bd(c,s,"bottom")}:s}function A0(u,s){const o=s._clip;if(o.disabled)return!1;const c=vC(s,u.chartArea);return{left:o.left===!1?0:c.left-(o.left===!0?0:o.left),right:o.right===!1?u.width:c.right+(o.right===!0?0:o.right),top:o.top===!1?0:c.top-(o.top===!0?0:o.top),bottom:o.bottom===!1?u.height:c.bottom+(o.bottom===!0?0:o.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class bC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,o,c,h){const g=o.listeners[h],y=o.duration;g.forEach(w=>w({chart:s,initial:o.initial,numSteps:y,currentStep:Math.min(c-o.start,y)}))}_refresh(){this._request||(this._running=!0,this._request=d0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let o=0;this._charts.forEach((c,h)=>{if(!c.running||!c.items.length)return;const g=c.items;let y=g.length-1,w=!1,S;for(;y>=0;--y)S=g[y],S._active?(S._total>c.duration&&(c.duration=S._total),S.tick(s),w=!0):(g[y]=g[g.length-1],g.pop());w&&(h.draw(),this._notify(h,c,s,"progress")),g.length||(c.running=!1,this._notify(h,c,s,"complete"),c.initial=!1),o+=g.length}),this._lastDate=s,o===0&&(this._running=!1)}_getAnims(s){const o=this._charts;let c=o.get(s);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},o.set(s,c)),c}listen(s,o,c){this._getAnims(s).listeners[o].push(c)}add(s,o){!o||!o.length||this._getAnims(s).items.push(...o)}has(s){return this._getAnims(s).items.length>0}start(s){const o=this._charts.get(s);o&&(o.running=!0,o.start=Date.now(),o.duration=o.items.reduce((c,h)=>Math.max(c,h._duration),0),this._refresh())}running(s){if(!this._running)return!1;const o=this._charts.get(s);return!(!o||!o.running||!o.items.length)}stop(s){const o=this._charts.get(s);if(!o||!o.items.length)return;const c=o.items;let h=c.length-1;for(;h>=0;--h)c[h].cancel();o.items=[],this._notify(s,o,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var Ta=new bC;const bm="transparent",yC={boolean(u,s,o){return o>.5?s:u},color(u,s,o){const c=lm(u||bm),h=c.valid&&lm(s||bm);return h&&h.valid?h.mix(c,o).hexString():s},number(u,s,o){return u+(s-u)*o}};class _C{constructor(s,o,c,h){const g=o[c];h=Tu([s.to,h,g,s.from]);const y=Tu([s.from,g,h]);this._active=!0,this._fn=s.fn||yC[s.type||typeof y],this._easing=Ou[s.easing]||Ou.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=o,this._prop=c,this._from=y,this._to=h,this._promises=void 0}active(){return this._active}update(s,o,c){if(this._active){this._notify(!1);const h=this._target[this._prop],g=c-this._start,y=this._duration-g;this._start=c,this._duration=Math.floor(Math.max(y,s.duration)),this._total+=g,this._loop=!!s.loop,this._to=Tu([s.to,o,h,s.from]),this._from=Tu([s.from,h,o])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const o=s-this._start,c=this._duration,h=this._prop,g=this._from,y=this._loop,w=this._to;let S;if(this._active=g!==w&&(y||o<c),!this._active){this._target[h]=w,this._notify(!0);return}if(o<0){this._target[h]=g;return}S=o/c%2,S=y&&S>1?2-S:S,S=this._easing(Math.min(1,Math.max(0,S))),this._target[h]=this._fn(g,w,S)}wait(){const s=this._promises||(this._promises=[]);return new Promise((o,c)=>{s.push({res:o,rej:c})})}_notify(s){const o=s?"res":"rej",c=this._promises||[];for(let h=0;h<c.length;h++)c[h][o]()}}class M0{constructor(s,o){this._chart=s,this._properties=new Map,this.configure(o)}configure(s){if(!It(s))return;const o=Object.keys(_i.animation),c=this._properties;Object.getOwnPropertyNames(s).forEach(h=>{const g=s[h];if(!It(g))return;const y={};for(const w of o)y[w]=g[w];(yi(g.properties)&&g.properties||[h]).forEach(w=>{(w===h||!c.has(w))&&c.set(w,y)})})}_animateOptions(s,o){const c=o.options,h=xC(s,c);if(!h)return[];const g=this._createAnimations(h,c);return c.$shared&&CC(s.options.$animations,c).then(()=>{s.options=c},()=>{}),g}_createAnimations(s,o){const c=this._properties,h=[],g=s.$animations||(s.$animations={}),y=Object.keys(o),w=Date.now();let S;for(S=y.length-1;S>=0;--S){const D=y[S];if(D.charAt(0)==="$")continue;if(D==="options"){h.push(...this._animateOptions(s,o));continue}const A=o[D];let O=g[D];const B=c.get(D);if(O)if(B&&O.active()){O.update(B,A,w);continue}else O.cancel();if(!B||!B.duration){s[D]=A;continue}g[D]=O=new _C(B,s,D,A),h.push(O)}return h}update(s,o){if(this._properties.size===0){Object.assign(s,o);return}const c=this._createAnimations(s,o);if(c.length)return Ta.add(this._chart,c),!0}}function CC(u,s){const o=[],c=Object.keys(s);for(let h=0;h<c.length;h++){const g=u[c[h]];g&&g.active()&&o.push(g.wait())}return Promise.all(o)}function xC(u,s){if(!s)return;let o=u.options;if(!o){u.options=s;return}return o.$shared&&(u.options=o=Object.assign({},o,{$shared:!1,$animations:{}})),o}function ym(u,s){const o=u&&u.options||{},c=o.reverse,h=o.min===void 0?s:0,g=o.max===void 0?s:0;return{start:c?g:h,end:c?h:g}}function wC(u,s,o){if(o===!1)return!1;const c=ym(u,o),h=ym(s,o);return{top:h.end,right:c.end,bottom:h.start,left:c.start}}function kC(u){let s,o,c,h;return It(u)?(s=u.top,o=u.right,c=u.bottom,h=u.left):s=o=c=h=u,{top:s,right:o,bottom:c,left:h,disabled:u===!1}}function F0(u,s){const o=[],c=u._getSortedDatasetMetas(s);let h,g;for(h=0,g=c.length;h<g;++h)o.push(c[h].index);return o}function _m(u,s,o,c={}){const h=u.keys,g=c.mode==="single";let y,w,S,D;if(s===null)return;let A=!1;for(y=0,w=h.length;y<w;++y){if(S=+h[y],S===o){if(A=!0,c.all)continue;break}D=u.values[S],Fi(D)&&(g||s===0||Qs(s)===Qs(D))&&(s+=D)}return!A&&!c.all?0:s}function SC(u,s){const{iScale:o,vScale:c}=s,h=o.axis==="x"?"x":"y",g=c.axis==="x"?"x":"y",y=Object.keys(u),w=new Array(y.length);let S,D,A;for(S=0,D=y.length;S<D;++S)A=y[S],w[S]={[h]:A,[g]:u[A]};return w}function Df(u,s){const o=u&&u.options.stacked;return o||o===void 0&&s.stack!==void 0}function DC(u,s,o){return`${u.id}.${s.id}.${o.stack||o.type}`}function TC(u){const{min:s,max:o,minDefined:c,maxDefined:h}=u.getUserBounds();return{min:c?s:Number.NEGATIVE_INFINITY,max:h?o:Number.POSITIVE_INFINITY}}function EC(u,s,o){const c=u[s]||(u[s]={});return c[o]||(c[o]={})}function Cm(u,s,o,c){for(const h of s.getMatchingVisibleMetas(c).reverse()){const g=u[h.index];if(o&&g>0||!o&&g<0)return h.index}return null}function xm(u,s){const{chart:o,_cachedMeta:c}=u,h=o._stacks||(o._stacks={}),{iScale:g,vScale:y,index:w}=c,S=g.axis,D=y.axis,A=DC(g,y,c),O=s.length;let B;for(let H=0;H<O;++H){const q=s[H],{[S]:Q,[D]:te}=q,K=q._stacks||(q._stacks={});B=K[D]=EC(h,A,Q),B[w]=te,B._top=Cm(B,y,!0,c.type),B._bottom=Cm(B,y,!1,c.type);const X=B._visualValues||(B._visualValues={});X[w]=te}}function Tf(u,s){const o=u.scales;return Object.keys(o).filter(c=>o[c].axis===s).shift()}function AC(u,s){return wo(u,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}function MC(u,s,o){return wo(u,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:o,index:s,mode:"default",type:"data"})}function vu(u,s){const o=u.controller.index,c=u.vScale&&u.vScale.axis;if(c){s=s||u._parsed;for(const h of s){const g=h._stacks;if(!g||g[c]===void 0||g[c][o]===void 0)return;delete g[c][o],g[c]._visualValues!==void 0&&g[c]._visualValues[o]!==void 0&&delete g[c]._visualValues[o]}}}const Ef=u=>u==="reset"||u==="none",wm=(u,s)=>s?u:Object.assign({},u),FC=(u,s,o)=>u&&!s.hidden&&s._stacked&&{keys:F0(o,!0),values:null};class Es{constructor(s,o){this.chart=s,this._ctx=s.ctx,this.index=o,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=Df(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&vu(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,o=this._cachedMeta,c=this.getDataset(),h=(O,B,H,q)=>O==="x"?B:O==="r"?q:H,g=o.xAxisID=Et(c.xAxisID,Tf(s,"x")),y=o.yAxisID=Et(c.yAxisID,Tf(s,"y")),w=o.rAxisID=Et(c.rAxisID,Tf(s,"r")),S=o.indexAxis,D=o.iAxisID=h(S,g,y,w),A=o.vAxisID=h(S,y,g,w);o.xScale=this.getScaleForId(g),o.yScale=this.getScaleForId(y),o.rScale=this.getScaleForId(w),o.iScale=this.getScaleForId(D),o.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const o=this._cachedMeta;return s===o.iScale?o.vScale:o.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&am(this._data,this),s._stacked&&vu(s)}_dataCheck(){const s=this.getDataset(),o=s.data||(s.data=[]),c=this._data;if(It(o)){const h=this._cachedMeta;this._data=SC(o,h)}else if(c!==o){if(c){am(c,this);const h=this._cachedMeta;vu(h),h._parsed=[]}o&&Object.isExtensible(o)&&m1(o,this),this._syncList=[],this._data=o}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const o=this._cachedMeta,c=this.getDataset();let h=!1;this._dataCheck();const g=o._stacked;o._stacked=Df(o.vScale,o),o.stack!==c.stack&&(h=!0,vu(o),o.stack=c.stack),this._resyncElements(s),(h||g!==o._stacked)&&(xm(this,o._parsed),o._stacked=Df(o.vScale,o))}configure(){const s=this.chart.config,o=s.datasetScopeKeys(this._type),c=s.getOptionScopes(this.getDataset(),o,!0);this.options=s.createResolver(c,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,o){const{_cachedMeta:c,_data:h}=this,{iScale:g,_stacked:y}=c,w=g.axis;let S=s===0&&o===h.length?!0:c._sorted,D=s>0&&c._parsed[s-1],A,O,B;if(this._parsing===!1)c._parsed=h,c._sorted=!0,B=h;else{yi(h[s])?B=this.parseArrayData(c,h,s,o):It(h[s])?B=this.parseObjectData(c,h,s,o):B=this.parsePrimitiveData(c,h,s,o);const H=()=>O[w]===null||D&&O[w]<D[w];for(A=0;A<o;++A)c._parsed[A+s]=O=B[A],S&&(H()&&(S=!1),D=O);c._sorted=S}y&&xm(this,B)}parsePrimitiveData(s,o,c,h){const{iScale:g,vScale:y}=s,w=g.axis,S=y.axis,D=g.getLabels(),A=g===y,O=new Array(h);let B,H,q;for(B=0,H=h;B<H;++B)q=B+c,O[B]={[w]:A||g.parse(D[q],q),[S]:y.parse(o[q],q)};return O}parseArrayData(s,o,c,h){const{xScale:g,yScale:y}=s,w=new Array(h);let S,D,A,O;for(S=0,D=h;S<D;++S)A=S+c,O=o[A],w[S]={x:g.parse(O[0],A),y:y.parse(O[1],A)};return w}parseObjectData(s,o,c,h){const{xScale:g,yScale:y}=s,{xAxisKey:w="x",yAxisKey:S="y"}=this._parsing,D=new Array(h);let A,O,B,H;for(A=0,O=h;A<O;++A)B=A+c,H=o[B],D[A]={x:g.parse(Co(H,w),B),y:y.parse(Co(H,S),B)};return D}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,o,c){const h=this.chart,g=this._cachedMeta,y=o[s.axis],w={keys:F0(h,!0),values:o._stacks[s.axis]._visualValues};return _m(w,y,g.index,{mode:c})}updateRangeFromParsed(s,o,c,h){const g=c[o.axis];let y=g===null?NaN:g;const w=h&&c._stacks[o.axis];h&&w&&(h.values=w,y=_m(h,g,this._cachedMeta.index)),s.min=Math.min(s.min,y),s.max=Math.max(s.max,y)}getMinMax(s,o){const c=this._cachedMeta,h=c._parsed,g=c._sorted&&s===c.iScale,y=h.length,w=this._getOtherScale(s),S=FC(o,c,this.chart),D={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:O}=TC(w);let B,H;function q(){H=h[B];const Q=H[w.axis];return!Fi(H[s.axis])||A>Q||O<Q}for(B=0;B<y&&!(!q()&&(this.updateRangeFromParsed(D,s,H,S),g));++B);if(g){for(B=y-1;B>=0;--B)if(!q()){this.updateRangeFromParsed(D,s,H,S);break}}return D}getAllParsedValues(s){const o=this._cachedMeta._parsed,c=[];let h,g,y;for(h=0,g=o.length;h<g;++h)y=o[h][s.axis],Fi(y)&&c.push(y);return c}getMaxOverflow(){return!1}getLabelAndValue(s){const o=this._cachedMeta,c=o.iScale,h=o.vScale,g=this.getParsed(s);return{label:c?""+c.getLabelForValue(g[c.axis]):"",value:h?""+h.getLabelForValue(g[h.axis]):""}}_update(s){const o=this._cachedMeta;this.update(s||"default"),o._clip=kC(Et(this.options.clip,wC(o.xScale,o.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,o=this.chart,c=this._cachedMeta,h=c.data||[],g=o.chartArea,y=[],w=this._drawStart||0,S=this._drawCount||h.length-w,D=this.options.drawActiveElementsOnTop;let A;for(c.dataset&&c.dataset.draw(s,g,w,S),A=w;A<w+S;++A){const O=h[A];O.hidden||(O.active&&D?y.push(O):O.draw(s,g))}for(A=0;A<y.length;++A)y[A].draw(s,g)}getStyle(s,o){const c=o?"active":"default";return s===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(c):this.resolveDataElementOptions(s||0,c)}getContext(s,o,c){const h=this.getDataset();let g;if(s>=0&&s<this._cachedMeta.data.length){const y=this._cachedMeta.data[s];g=y.$context||(y.$context=MC(this.getContext(),s,y)),g.parsed=this.getParsed(s),g.raw=h.data[s],g.index=g.dataIndex=s}else g=this.$context||(this.$context=AC(this.chart.getContext(),this.index)),g.dataset=h,g.index=g.datasetIndex=this.index;return g.active=!!o,g.mode=c,g}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,o){return this._resolveElementOptions(this.dataElementType.id,o,s)}_resolveElementOptions(s,o="default",c){const h=o==="active",g=this._cachedDataOpts,y=s+"-"+o,w=g[y],S=this.enableOptionSharing&&Hu(c);if(w)return wm(w,S);const D=this.chart.config,A=D.datasetElementScopeKeys(this._type,s),O=h?[`${s}Hover`,"hover",s,""]:[s,""],B=D.getOptionScopes(this.getDataset(),A),H=Object.keys(_i.elements[s]),q=()=>this.getContext(c,h,o),Q=D.resolveNamedOptions(B,H,q,O);return Q.$shared&&(Q.$shared=S,g[y]=Object.freeze(wm(Q,S))),Q}_resolveAnimations(s,o,c){const h=this.chart,g=this._cachedDataOpts,y=`animation-${o}`,w=g[y];if(w)return w;let S;if(h.options.animation!==!1){const A=this.chart.config,O=A.datasetAnimationScopeKeys(this._type,o),B=A.getOptionScopes(this.getDataset(),O);S=A.createResolver(B,this.getContext(s,c,o))}const D=new M0(h,S&&S.animations);return S&&S._cacheable&&(g[y]=Object.freeze(D)),D}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,o){return!o||Ef(s)||this.chart._animationsDisabled}_getSharedOptions(s,o){const c=this.resolveDataElementOptions(s,o),h=this._sharedOptions,g=this.getSharedOptions(c),y=this.includeOptions(o,g)||g!==h;return this.updateSharedOptions(g,o,c),{sharedOptions:g,includeOptions:y}}updateElement(s,o,c,h){Ef(h)?Object.assign(s,c):this._resolveAnimations(o,h).update(s,c)}updateSharedOptions(s,o,c){s&&!Ef(o)&&this._resolveAnimations(void 0,o).update(s,c)}_setStyle(s,o,c,h){s.active=h;const g=this.getStyle(o,h);this._resolveAnimations(o,c,h).update(s,{options:!h&&this.getSharedOptions(g)||g})}removeHoverStyle(s,o,c){this._setStyle(s,c,"active",!1)}setHoverStyle(s,o,c){this._setStyle(s,c,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const o=this._data,c=this._cachedMeta.data;for(const[w,S,D]of this._syncList)this[w](S,D);this._syncList=[];const h=c.length,g=o.length,y=Math.min(g,h);y&&this.parse(0,y),g>h?this._insertElements(h,g-h,s):g<h&&this._removeElements(g,h-g)}_insertElements(s,o,c=!0){const h=this._cachedMeta,g=h.data,y=s+o;let w;const S=D=>{for(D.length+=o,w=D.length-1;w>=y;w--)D[w]=D[w-o]};for(S(g),w=s;w<y;++w)g[w]=new this.dataElementType;this._parsing&&S(h._parsed),this.parse(s,o),c&&this.updateElements(g,s,o,"reset")}updateElements(s,o,c,h){}_removeElements(s,o){const c=this._cachedMeta;if(this._parsing){const h=c._parsed.splice(s,o);c._stacked&&vu(c,h)}c.data.splice(s,o)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[o,c,h]=s;this[o](c,h)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,o){o&&this._sync(["_removeElements",s,o]);const c=arguments.length-2;c&&this._sync(["_insertElements",s,c])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ae(Es,"defaults",{}),ae(Es,"datasetElementType",null),ae(Es,"dataElementType",null);function IC(u,s){if(!u._cache.$bar){const o=u.getMatchingVisibleMetas(s);let c=[];for(let h=0,g=o.length;h<g;h++)c=c.concat(o[h].controller.getAllParsedValues(u));u._cache.$bar=c0(c.sort((h,g)=>h-g))}return u._cache.$bar}function LC(u){const s=u.iScale,o=IC(s,u.type);let c=s._length,h,g,y,w;const S=()=>{y===32767||y===-32768||(Hu(w)&&(c=Math.min(c,Math.abs(y-w)||c)),w=y)};for(h=0,g=o.length;h<g;++h)y=s.getPixelForValue(o[h]),S();for(w=void 0,h=0,g=s.ticks.length;h<g;++h)y=s.getPixelForTick(h),S();return c}function OC(u,s,o,c){const h=o.barThickness;let g,y;return Mt(h)?(g=s.min*o.categoryPercentage,y=o.barPercentage):(g=h*c,y=1),{chunk:g/c,ratio:y,start:s.pixels[u]-g/2}}function PC(u,s,o,c){const h=s.pixels,g=h[u];let y=u>0?h[u-1]:null,w=u<h.length-1?h[u+1]:null;const S=o.categoryPercentage;y===null&&(y=g-(w===null?s.end-s.start:w-g)),w===null&&(w=g+g-y);const D=g-(g-Math.min(y,w))/2*S;return{chunk:Math.abs(w-y)/2*S/c,ratio:o.barPercentage,start:D}}function BC(u,s,o,c){const h=o.parse(u[0],c),g=o.parse(u[1],c),y=Math.min(h,g),w=Math.max(h,g);let S=y,D=w;Math.abs(y)>Math.abs(w)&&(S=w,D=y),s[o.axis]=D,s._custom={barStart:S,barEnd:D,start:h,end:g,min:y,max:w}}function I0(u,s,o,c){return yi(u)?BC(u,s,o,c):s[o.axis]=o.parse(u,c),s}function km(u,s,o,c){const h=u.iScale,g=u.vScale,y=h.getLabels(),w=h===g,S=[];let D,A,O,B;for(D=o,A=o+c;D<A;++D)B=s[D],O={},O[h.axis]=w||h.parse(y[D],D),S.push(I0(B,O,g,D));return S}function Af(u){return u&&u.barStart!==void 0&&u.barEnd!==void 0}function NC(u,s,o){return u!==0?Qs(u):(s.isHorizontal()?1:-1)*(s.min>=o?1:-1)}function RC(u){let s,o,c,h,g;return u.horizontal?(s=u.base>u.x,o="left",c="right"):(s=u.base<u.y,o="bottom",c="top"),s?(h="end",g="start"):(h="start",g="end"),{start:o,end:c,reverse:s,top:h,bottom:g}}function zC(u,s,o,c){let h=s.borderSkipped;const g={};if(!h){u.borderSkipped=g;return}if(h===!0){u.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:y,end:w,reverse:S,top:D,bottom:A}=RC(u);h==="middle"&&o&&(u.enableBorderRadius=!0,(o._top||0)===c?h=D:(o._bottom||0)===c?h=A:(g[Sm(A,y,w,S)]=!0,h=D)),g[Sm(h,y,w,S)]=!0,u.borderSkipped=g}function Sm(u,s,o,c){return c?(u=HC(u,s,o),u=Dm(u,o,s)):u=Dm(u,s,o),u}function HC(u,s,o){return u===s?o:u===o?s:u}function Dm(u,s,o){return u==="start"?s:u==="end"?o:u}function $C(u,{inflateAmount:s},o){u.inflateAmount=s==="auto"?o===1?.33:0:s}class qd extends Es{parsePrimitiveData(s,o,c,h){return km(s,o,c,h)}parseArrayData(s,o,c,h){return km(s,o,c,h)}parseObjectData(s,o,c,h){const{iScale:g,vScale:y}=s,{xAxisKey:w="x",yAxisKey:S="y"}=this._parsing,D=g.axis==="x"?w:S,A=y.axis==="x"?w:S,O=[];let B,H,q,Q;for(B=c,H=c+h;B<H;++B)Q=o[B],q={},q[g.axis]=g.parse(Co(Q,D),B),O.push(I0(Co(Q,A),q,y,B));return O}updateRangeFromParsed(s,o,c,h){super.updateRangeFromParsed(s,o,c,h);const g=c._custom;g&&o===this._cachedMeta.vScale&&(s.min=Math.min(s.min,g.min),s.max=Math.max(s.max,g.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const o=this._cachedMeta,{iScale:c,vScale:h}=o,g=this.getParsed(s),y=g._custom,w=Af(y)?"["+y.start+", "+y.end+"]":""+h.getLabelForValue(g[h.axis]);return{label:""+c.getLabelForValue(g[c.axis]),value:w}}initialize(){this.enableOptionSharing=!0,super.initialize();const s=this._cachedMeta;s.stack=this.getDataset().stack}update(s){const o=this._cachedMeta;this.updateElements(o.data,0,o.data.length,s)}updateElements(s,o,c,h){const g=h==="reset",{index:y,_cachedMeta:{vScale:w}}=this,S=w.getBasePixel(),D=w.isHorizontal(),A=this._getRuler(),{sharedOptions:O,includeOptions:B}=this._getSharedOptions(o,h);for(let H=o;H<o+c;H++){const q=this.getParsed(H),Q=g||Mt(q[w.axis])?{base:S,head:S}:this._calculateBarValuePixels(H),te=this._calculateBarIndexPixels(H,A),K=(q._stacks||{})[w.axis],X={horizontal:D,base:Q.base,enableBorderRadius:!K||Af(q._custom)||y===K._top||y===K._bottom,x:D?Q.head:te.center,y:D?te.center:Q.head,height:D?te.size:Math.abs(Q.size),width:D?Math.abs(Q.size):te.size};B&&(X.options=O||this.resolveDataElementOptions(H,s[H].active?"active":h));const le=X.options||s[H].options;zC(X,le,K,y),$C(X,le,A.ratio),this.updateElement(s[H],H,X,h)}}_getStacks(s,o){const{iScale:c}=this._cachedMeta,h=c.getMatchingVisibleMetas(this._type).filter(A=>A.controller.options.grouped),g=c.options.stacked,y=[],w=this._cachedMeta.controller.getParsed(o),S=w&&w[c.axis],D=A=>{const O=A._parsed.find(H=>H[c.axis]===S),B=O&&O[A.vScale.axis];if(Mt(B)||isNaN(B))return!0};for(const A of h)if(!(o!==void 0&&D(A))&&((g===!1||y.indexOf(A.stack)===-1||g===void 0&&A.stack===void 0)&&y.push(A.stack),A.index===s))break;return y.length||y.push(void 0),y}_getStackCount(s){return this._getStacks(void 0,s).length}_getStackIndex(s,o,c){const h=this._getStacks(s,c),g=o!==void 0?h.indexOf(o):-1;return g===-1?h.length-1:g}_getRuler(){const s=this.options,o=this._cachedMeta,c=o.iScale,h=[];let g,y;for(g=0,y=o.data.length;g<y;++g)h.push(c.getPixelForValue(this.getParsed(g)[c.axis],g));const w=s.barThickness;return{min:w||LC(o),pixels:h,start:c._startPixel,end:c._endPixel,stackCount:this._getStackCount(),scale:c,grouped:s.grouped,ratio:w?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:o,_stacked:c,index:h},options:{base:g,minBarLength:y}}=this,w=g||0,S=this.getParsed(s),D=S._custom,A=Af(D);let O=S[o.axis],B=0,H=c?this.applyStack(o,S,c):O,q,Q;H!==O&&(B=H-O,H=O),A&&(O=D.barStart,H=D.barEnd-D.barStart,O!==0&&Qs(O)!==Qs(D.barEnd)&&(B=0),B+=O);const te=!Mt(g)&&!A?g:B;let K=o.getPixelForValue(te);if(this.chart.getDataVisibility(s)?q=o.getPixelForValue(B+H):q=K,Q=q-K,Math.abs(Q)<y){Q=NC(Q,o,w)*y,O===w&&(K-=Q/2);const X=o.getPixelForDecimal(0),le=o.getPixelForDecimal(1),ne=Math.min(X,le),se=Math.max(X,le);K=Math.max(Math.min(K,se),ne),q=K+Q,c&&!A&&(S._stacks[o.axis]._visualValues[h]=o.getValueForPixel(q)-o.getValueForPixel(K))}if(K===o.getPixelForValue(w)){const X=Qs(Q)*o.getLineWidthForValue(w)/2;K+=X,Q-=X}return{size:Q,base:K,head:q,center:q+Q/2}}_calculateBarIndexPixels(s,o){const c=o.scale,h=this.options,g=h.skipNull,y=Et(h.maxBarThickness,1/0);let w,S;if(o.grouped){const D=g?this._getStackCount(s):o.stackCount,A=h.barThickness==="flex"?PC(s,o,h,D):OC(s,o,h,D),O=this._getStackIndex(this.index,this._cachedMeta.stack,g?s:void 0);w=A.start+A.chunk*O+A.chunk/2,S=Math.min(y,A.chunk*A.ratio)}else w=c.getPixelForValue(this.getParsed(s)[c.axis],s),S=Math.min(y,o.min*o.ratio);return{base:w-S/2,head:w+S/2,center:w,size:S}}draw(){const s=this._cachedMeta,o=s.vScale,c=s.data,h=c.length;let g=0;for(;g<h;++g)this.getParsed(g)[o.axis]!==null&&!c[g].hidden&&c[g].draw(this._ctx)}}ae(qd,"id","bar"),ae(qd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ae(qd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Yd extends Es{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,o,c,h){const g=super.parsePrimitiveData(s,o,c,h);for(let y=0;y<g.length;y++)g[y]._custom=this.resolveDataElementOptions(y+c).radius;return g}parseArrayData(s,o,c,h){const g=super.parseArrayData(s,o,c,h);for(let y=0;y<g.length;y++){const w=o[c+y];g[y]._custom=Et(w[2],this.resolveDataElementOptions(y+c).radius)}return g}parseObjectData(s,o,c,h){const g=super.parseObjectData(s,o,c,h);for(let y=0;y<g.length;y++){const w=o[c+y];g[y]._custom=Et(w&&w.r&&+w.r,this.resolveDataElementOptions(y+c).radius)}return g}getMaxOverflow(){const s=this._cachedMeta.data;let o=0;for(let c=s.length-1;c>=0;--c)o=Math.max(o,s[c].size(this.resolveDataElementOptions(c))/2);return o>0&&o}getLabelAndValue(s){const o=this._cachedMeta,c=this.chart.data.labels||[],{xScale:h,yScale:g}=o,y=this.getParsed(s),w=h.getLabelForValue(y.x),S=g.getLabelForValue(y.y),D=y._custom;return{label:c[s]||"",value:"("+w+", "+S+(D?", "+D:"")+")"}}update(s){const o=this._cachedMeta.data;this.updateElements(o,0,o.length,s)}updateElements(s,o,c,h){const g=h==="reset",{iScale:y,vScale:w}=this._cachedMeta,{sharedOptions:S,includeOptions:D}=this._getSharedOptions(o,h),A=y.axis,O=w.axis;for(let B=o;B<o+c;B++){const H=s[B],q=!g&&this.getParsed(B),Q={},te=Q[A]=g?y.getPixelForDecimal(.5):y.getPixelForValue(q[A]),K=Q[O]=g?w.getBasePixel():w.getPixelForValue(q[O]);Q.skip=isNaN(te)||isNaN(K),D&&(Q.options=S||this.resolveDataElementOptions(B,H.active?"active":h),g&&(Q.options.radius=0)),this.updateElement(H,B,Q,h)}}resolveDataElementOptions(s,o){const c=this.getParsed(s);let h=super.resolveDataElementOptions(s,o);h.$shared&&(h=Object.assign({},h,{$shared:!1}));const g=h.radius;return o!=="active"&&(h.radius=0),h.radius+=Et(c&&c._custom,g),h}}ae(Yd,"id","bubble"),ae(Yd,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ae(Yd,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function VC(u,s,o){let c=1,h=1,g=0,y=0;if(s<ci){const w=u,S=w+s,D=Math.cos(w),A=Math.sin(w),O=Math.cos(S),B=Math.sin(S),H=(le,ne,se)=>$u(le,w,S,!0)?1:Math.max(ne,ne*o,se,se*o),q=(le,ne,se)=>$u(le,w,S,!0)?-1:Math.min(ne,ne*o,se,se*o),Q=H(0,D,O),te=H(Ni,A,B),K=q(di,D,O),X=q(di+Ni,A,B);c=(Q-K)/2,h=(te-X)/2,g=-(Q+K)/2,y=-(te+X)/2}return{ratioX:c,ratioY:h,offsetX:g,offsetY:y}}class ar extends Es{constructor(s,o){super(s,o),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,o){const c=this.getDataset().data,h=this._cachedMeta;if(this._parsing===!1)h._parsed=c;else{let g=S=>+c[S];if(It(c[s])){const{key:S="value"}=this._parsing;g=D=>+Co(c[D],S)}let y,w;for(y=s,w=s+o;y<w;++y)h._parsed[y]=g(y)}}_getRotation(){return Ts(this.options.rotation-90)}_getCircumference(){return Ts(this.options.circumference)}_getRotationExtents(){let s=ci,o=-ci;for(let c=0;c<this.chart.data.datasets.length;++c)if(this.chart.isDatasetVisible(c)&&this.chart.getDatasetMeta(c).type===this._type){const h=this.chart.getDatasetMeta(c).controller,g=h._getRotation(),y=h._getCircumference();s=Math.min(s,g),o=Math.max(o,g+y)}return{rotation:s,circumference:o-s}}update(s){const o=this.chart,{chartArea:c}=o,h=this._cachedMeta,g=h.data,y=this.getMaxBorderWidth()+this.getMaxOffset(g)+this.options.spacing,w=Math.max((Math.min(c.width,c.height)-y)/2,0),S=Math.min(e1(this.options.cutout,w),1),D=this._getRingWeight(this.index),{circumference:A,rotation:O}=this._getRotationExtents(),{ratioX:B,ratioY:H,offsetX:q,offsetY:Q}=VC(O,A,S),te=(c.width-y)/B,K=(c.height-y)/H,X=Math.max(Math.min(te,K)/2,0),le=a0(this.options.radius,X),ne=Math.max(le*S,0),se=(le-ne)/this._getVisibleDatasetWeightTotal();this.offsetX=q*le,this.offsetY=Q*le,h.total=this.calculateTotal(),this.outerRadius=le-se*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-se*D,0),this.updateElements(g,0,g.length,s)}_circumference(s,o){const c=this.options,h=this._cachedMeta,g=this._getCircumference();return o&&c.animation.animateRotate||!this.chart.getDataVisibility(s)||h._parsed[s]===null||h.data[s].hidden?0:this.calculateCircumference(h._parsed[s]*g/ci)}updateElements(s,o,c,h){const g=h==="reset",y=this.chart,w=y.chartArea,D=y.options.animation,A=(w.left+w.right)/2,O=(w.top+w.bottom)/2,B=g&&D.animateScale,H=B?0:this.innerRadius,q=B?0:this.outerRadius,{sharedOptions:Q,includeOptions:te}=this._getSharedOptions(o,h);let K=this._getRotation(),X;for(X=0;X<o;++X)K+=this._circumference(X,g);for(X=o;X<o+c;++X){const le=this._circumference(X,g),ne=s[X],se={x:A+this.offsetX,y:O+this.offsetY,startAngle:K,endAngle:K+le,circumference:le,outerRadius:q,innerRadius:H};te&&(se.options=Q||this.resolveDataElementOptions(X,ne.active?"active":h)),K+=le,this.updateElement(ne,X,se,h)}}calculateTotal(){const s=this._cachedMeta,o=s.data;let c=0,h;for(h=0;h<o.length;h++){const g=s._parsed[h];g!==null&&!isNaN(g)&&this.chart.getDataVisibility(h)&&!o[h].hidden&&(c+=Math.abs(g))}return c}calculateCircumference(s){const o=this._cachedMeta.total;return o>0&&!isNaN(s)?ci*(Math.abs(s)/o):0}getLabelAndValue(s){const o=this._cachedMeta,c=this.chart,h=c.data.labels||[],g=Yu(o._parsed[s],c.options.locale);return{label:h[s]||"",value:g}}getMaxBorderWidth(s){let o=0;const c=this.chart;let h,g,y,w,S;if(!s){for(h=0,g=c.data.datasets.length;h<g;++h)if(c.isDatasetVisible(h)){y=c.getDatasetMeta(h),s=y.data,w=y.controller;break}}if(!s)return 0;for(h=0,g=s.length;h<g;++h)S=w.resolveDataElementOptions(h),S.borderAlign!=="inner"&&(o=Math.max(o,S.borderWidth||0,S.hoverBorderWidth||0));return o}getMaxOffset(s){let o=0;for(let c=0,h=s.length;c<h;++c){const g=this.resolveDataElementOptions(c);o=Math.max(o,g.offset||0,g.hoverOffset||0)}return o}_getRingWeightOffset(s){let o=0;for(let c=0;c<s;++c)this.chart.isDatasetVisible(c)&&(o+=this._getRingWeight(c));return o}_getRingWeight(s){return Math.max(Et(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ae(ar,"id","doughnut"),ae(ar,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ae(ar,"descriptors",{_scriptable:s=>s!=="spacing",_indexable:s=>s!=="spacing"&&!s.startsWith("borderDash")&&!s.startsWith("hoverBorderDash")}),ae(ar,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const o=s.data;if(o.labels.length&&o.datasets.length){const{labels:{pointStyle:c,color:h}}=s.legend.options;return o.labels.map((g,y)=>{const S=s.getDatasetMeta(0).controller.getStyle(y);return{text:g,fillStyle:S.backgroundColor,strokeStyle:S.borderColor,fontColor:h,lineWidth:S.borderWidth,pointStyle:c,hidden:!s.getDataVisibility(y),index:y}})}return[]}},onClick(s,o,c){c.chart.toggleDataVisibility(o.index),c.chart.update()}}}});class Gd extends Es{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const o=this._cachedMeta,{dataset:c,data:h=[],_dataset:g}=o,y=this.chart._animationsDisabled;let{start:w,count:S}=f0(o,h,y);this._drawStart=w,this._drawCount=S,p0(o)&&(w=0,S=h.length),c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!g._decimated,c.points=h;const D=this.resolveDatasetElementOptions(s);this.options.showLine||(D.borderWidth=0),D.segment=this.options.segment,this.updateElement(c,void 0,{animated:!y,options:D},s),this.updateElements(h,w,S,s)}updateElements(s,o,c,h){const g=h==="reset",{iScale:y,vScale:w,_stacked:S,_dataset:D}=this._cachedMeta,{sharedOptions:A,includeOptions:O}=this._getSharedOptions(o,h),B=y.axis,H=w.axis,{spanGaps:q,segment:Q}=this.options,te=Qr(q)?q:Number.POSITIVE_INFINITY,K=this.chart._animationsDisabled||g||h==="none",X=o+c,le=s.length;let ne=o>0&&this.getParsed(o-1);for(let se=0;se<le;++se){const we=s[se],be=K?we:{};if(se<o||se>=X){be.skip=!0;continue}const ve=this.getParsed(se),De=Mt(ve[H]),Ge=be[B]=y.getPixelForValue(ve[B],se),Ie=be[H]=g||De?w.getBasePixel():w.getPixelForValue(S?this.applyStack(w,ve,S):ve[H],se);be.skip=isNaN(Ge)||isNaN(Ie)||De,be.stop=se>0&&Math.abs(ve[B]-ne[B])>te,Q&&(be.parsed=ve,be.raw=D.data[se]),O&&(be.options=A||this.resolveDataElementOptions(se,we.active?"active":h)),K||this.updateElement(we,se,be,h),ne=ve}}getMaxOverflow(){const s=this._cachedMeta,o=s.dataset,c=o.options&&o.options.borderWidth||0,h=s.data||[];if(!h.length)return c;const g=h[0].size(this.resolveDataElementOptions(0)),y=h[h.length-1].size(this.resolveDataElementOptions(h.length-1));return Math.max(c,g,y)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}ae(Gd,"id","line"),ae(Gd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ae(Gd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Bu extends Es{constructor(s,o){super(s,o),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const o=this._cachedMeta,c=this.chart,h=c.data.labels||[],g=Yu(o._parsed[s].r,c.options.locale);return{label:h[s]||"",value:g}}parseObjectData(s,o,c,h){return x0.bind(this)(s,o,c,h)}update(s){const o=this._cachedMeta.data;this._updateRadius(),this.updateElements(o,0,o.length,s)}getMinMax(){const s=this._cachedMeta,o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return s.data.forEach((c,h)=>{const g=this.getParsed(h).r;!isNaN(g)&&this.chart.getDataVisibility(h)&&(g<o.min&&(o.min=g),g>o.max&&(o.max=g))}),o}_updateRadius(){const s=this.chart,o=s.chartArea,c=s.options,h=Math.min(o.right-o.left,o.bottom-o.top),g=Math.max(h/2,0),y=Math.max(c.cutoutPercentage?g/100*c.cutoutPercentage:1,0),w=(g-y)/s.getVisibleDatasetCount();this.outerRadius=g-w*this.index,this.innerRadius=this.outerRadius-w}updateElements(s,o,c,h){const g=h==="reset",y=this.chart,S=y.options.animation,D=this._cachedMeta.rScale,A=D.xCenter,O=D.yCenter,B=D.getIndexAngle(0)-.5*di;let H=B,q;const Q=360/this.countVisibleElements();for(q=0;q<o;++q)H+=this._computeAngle(q,h,Q);for(q=o;q<o+c;q++){const te=s[q];let K=H,X=H+this._computeAngle(q,h,Q),le=y.getDataVisibility(q)?D.getDistanceFromCenterForValue(this.getParsed(q).r):0;H=X,g&&(S.animateScale&&(le=0),S.animateRotate&&(K=X=B));const ne={x:A,y:O,innerRadius:0,outerRadius:le,startAngle:K,endAngle:X,options:this.resolveDataElementOptions(q,te.active?"active":h)};this.updateElement(te,q,ne,h)}}countVisibleElements(){const s=this._cachedMeta;let o=0;return s.data.forEach((c,h)=>{!isNaN(this.getParsed(h).r)&&this.chart.getDataVisibility(h)&&o++}),o}_computeAngle(s,o,c){return this.chart.getDataVisibility(s)?Ts(this.resolveDataElementOptions(s,o).angle||c):0}}ae(Bu,"id","polarArea"),ae(Bu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ae(Bu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const o=s.data;if(o.labels.length&&o.datasets.length){const{labels:{pointStyle:c,color:h}}=s.legend.options;return o.labels.map((g,y)=>{const S=s.getDatasetMeta(0).controller.getStyle(y);return{text:g,fillStyle:S.backgroundColor,strokeStyle:S.borderColor,fontColor:h,lineWidth:S.borderWidth,pointStyle:c,hidden:!s.getDataVisibility(y),index:y}})}return[]}},onClick(s,o,c){c.chart.toggleDataVisibility(o.index),c.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class qf extends ar{}ae(qf,"id","pie"),ae(qf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Xd extends Es{getLabelAndValue(s){const o=this._cachedMeta.vScale,c=this.getParsed(s);return{label:o.getLabels()[s],value:""+o.getLabelForValue(c[o.axis])}}parseObjectData(s,o,c,h){return x0.bind(this)(s,o,c,h)}update(s){const o=this._cachedMeta,c=o.dataset,h=o.data||[],g=o.iScale.getLabels();if(c.points=h,s!=="resize"){const y=this.resolveDatasetElementOptions(s);this.options.showLine||(y.borderWidth=0);const w={_loop:!0,_fullLoop:g.length===h.length,options:y};this.updateElement(c,void 0,w,s)}this.updateElements(h,0,h.length,s)}updateElements(s,o,c,h){const g=this._cachedMeta.rScale,y=h==="reset";for(let w=o;w<o+c;w++){const S=s[w],D=this.resolveDataElementOptions(w,S.active?"active":h),A=g.getPointPositionForValue(w,this.getParsed(w).r),O=y?g.xCenter:A.x,B=y?g.yCenter:A.y,H={x:O,y:B,angle:A.angle,skip:isNaN(O)||isNaN(B),options:D};this.updateElement(S,w,H,h)}}}ae(Xd,"id","radar"),ae(Xd,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ae(Xd,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Kd extends Es{getLabelAndValue(s){const o=this._cachedMeta,c=this.chart.data.labels||[],{xScale:h,yScale:g}=o,y=this.getParsed(s),w=h.getLabelForValue(y.x),S=g.getLabelForValue(y.y);return{label:c[s]||"",value:"("+w+", "+S+")"}}update(s){const o=this._cachedMeta,{data:c=[]}=o,h=this.chart._animationsDisabled;let{start:g,count:y}=f0(o,c,h);if(this._drawStart=g,this._drawCount=y,p0(o)&&(g=0,y=c.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:w,_dataset:S}=o;w._chart=this.chart,w._datasetIndex=this.index,w._decimated=!!S._decimated,w.points=c;const D=this.resolveDatasetElementOptions(s);D.segment=this.options.segment,this.updateElement(w,void 0,{animated:!h,options:D},s)}else this.datasetElementType&&(delete o.dataset,this.datasetElementType=!1);this.updateElements(c,g,y,s)}addElements(){const{showLine:s}=this.options;!this.datasetElementType&&s&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(s,o,c,h){const g=h==="reset",{iScale:y,vScale:w,_stacked:S,_dataset:D}=this._cachedMeta,A=this.resolveDataElementOptions(o,h),O=this.getSharedOptions(A),B=this.includeOptions(h,O),H=y.axis,q=w.axis,{spanGaps:Q,segment:te}=this.options,K=Qr(Q)?Q:Number.POSITIVE_INFINITY,X=this.chart._animationsDisabled||g||h==="none";let le=o>0&&this.getParsed(o-1);for(let ne=o;ne<o+c;++ne){const se=s[ne],we=this.getParsed(ne),be=X?se:{},ve=Mt(we[q]),De=be[H]=y.getPixelForValue(we[H],ne),Ge=be[q]=g||ve?w.getBasePixel():w.getPixelForValue(S?this.applyStack(w,we,S):we[q],ne);be.skip=isNaN(De)||isNaN(Ge)||ve,be.stop=ne>0&&Math.abs(we[H]-le[H])>K,te&&(be.parsed=we,be.raw=D.data[ne]),B&&(be.options=O||this.resolveDataElementOptions(ne,se.active?"active":h)),X||this.updateElement(se,ne,be,h),le=we}this.updateSharedOptions(O,h,A)}getMaxOverflow(){const s=this._cachedMeta,o=s.data||[];if(!this.options.showLine){let w=0;for(let S=o.length-1;S>=0;--S)w=Math.max(w,o[S].size(this.resolveDataElementOptions(S))/2);return w>0&&w}const c=s.dataset,h=c.options&&c.options.borderWidth||0;if(!o.length)return h;const g=o[0].size(this.resolveDataElementOptions(0)),y=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(h,g,y)/2}}ae(Kd,"id","scatter"),ae(Kd,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ae(Kd,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var WC=Object.freeze({__proto__:null,BarController:qd,BubbleController:Yd,DoughnutController:ar,LineController:Gd,PieController:qf,PolarAreaController:Bu,RadarController:Xd,ScatterController:Kd});function er(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Cp{constructor(s){ae(this,"options");this.options=s||{}}static override(s){Object.assign(Cp.prototype,s)}init(){}formats(){return er()}parse(){return er()}format(){return er()}add(){return er()}diff(){return er()}startOf(){return er()}endOf(){return er()}}var L0={_date:Cp};function jC(u,s,o,c){const{controller:h,data:g,_sorted:y}=u,w=h._cachedMeta.iScale,S=u.dataset&&u.dataset.options?u.dataset.options.spanGaps:null;if(w&&s===w.axis&&s!=="r"&&y&&g.length){const D=w._reversePixels?f1:Ia;if(c){if(h._sharedOptions){const A=g[0],O=typeof A.getRange=="function"&&A.getRange(s);if(O){const B=D(g,s,o-O),H=D(g,s,o+O);return{lo:B.lo,hi:H.hi}}}}else{const A=D(g,s,o);if(S){const{vScale:O}=h._cachedMeta,{_parsed:B}=u,H=B.slice(0,A.lo+1).reverse().findIndex(Q=>!Mt(Q[O.axis]));A.lo-=Math.max(0,H);const q=B.slice(A.hi).findIndex(Q=>!Mt(Q[O.axis]));A.hi+=Math.max(0,q)}return A}}return{lo:0,hi:g.length-1}}function gh(u,s,o,c,h){const g=u.getSortedVisibleDatasetMetas(),y=o[s];for(let w=0,S=g.length;w<S;++w){const{index:D,data:A}=g[w],{lo:O,hi:B}=jC(g[w],s,y,h);for(let H=O;H<=B;++H){const q=A[H];q.skip||c(q,D,H)}}}function UC(u){const s=u.indexOf("x")!==-1,o=u.indexOf("y")!==-1;return function(c,h){const g=s?Math.abs(c.x-h.x):0,y=o?Math.abs(c.y-h.y):0;return Math.sqrt(Math.pow(g,2)+Math.pow(y,2))}}function Mf(u,s,o,c,h){const g=[];return!h&&!u.isPointInArea(s)||gh(u,o,s,function(w,S,D){!h&&!La(w,u.chartArea,0)||w.inRange(s.x,s.y,c)&&g.push({element:w,datasetIndex:S,index:D})},!0),g}function qC(u,s,o,c){let h=[];function g(y,w,S){const{startAngle:D,endAngle:A}=y.getProps(["startAngle","endAngle"],c),{angle:O}=l0(y,{x:s.x,y:s.y});$u(O,D,A)&&h.push({element:y,datasetIndex:w,index:S})}return gh(u,o,s,g),h}function YC(u,s,o,c,h,g){let y=[];const w=UC(o);let S=Number.POSITIVE_INFINITY;function D(A,O,B){const H=A.inRange(s.x,s.y,h);if(c&&!H)return;const q=A.getCenterPoint(h);if(!(!!g||u.isPointInArea(q))&&!H)return;const te=w(s,q);te<S?(y=[{element:A,datasetIndex:O,index:B}],S=te):te===S&&y.push({element:A,datasetIndex:O,index:B})}return gh(u,o,s,D),y}function Ff(u,s,o,c,h,g){return!g&&!u.isPointInArea(s)?[]:o==="r"&&!c?qC(u,s,o,h):YC(u,s,o,c,h,g)}function Tm(u,s,o,c,h){const g=[],y=o==="x"?"inXRange":"inYRange";let w=!1;return gh(u,o,s,(S,D,A)=>{S[y]&&S[y](s[o],h)&&(g.push({element:S,datasetIndex:D,index:A}),w=w||S.inRange(s.x,s.y,h))}),c&&!w?[]:g}var GC={modes:{index(u,s,o,c){const h=ir(s,u),g=o.axis||"x",y=o.includeInvisible||!1,w=o.intersect?Mf(u,h,g,c,y):Ff(u,h,g,!1,c,y),S=[];return w.length?(u.getSortedVisibleDatasetMetas().forEach(D=>{const A=w[0].index,O=D.data[A];O&&!O.skip&&S.push({element:O,datasetIndex:D.index,index:A})}),S):[]},dataset(u,s,o,c){const h=ir(s,u),g=o.axis||"xy",y=o.includeInvisible||!1;let w=o.intersect?Mf(u,h,g,c,y):Ff(u,h,g,!1,c,y);if(w.length>0){const S=w[0].datasetIndex,D=u.getDatasetMeta(S).data;w=[];for(let A=0;A<D.length;++A)w.push({element:D[A],datasetIndex:S,index:A})}return w},point(u,s,o,c){const h=ir(s,u),g=o.axis||"xy",y=o.includeInvisible||!1;return Mf(u,h,g,c,y)},nearest(u,s,o,c){const h=ir(s,u),g=o.axis||"xy",y=o.includeInvisible||!1;return Ff(u,h,g,o.intersect,c,y)},x(u,s,o,c){const h=ir(s,u);return Tm(u,h,"x",o.intersect,c)},y(u,s,o,c){const h=ir(s,u);return Tm(u,h,"y",o.intersect,c)}}};const O0=["left","top","right","bottom"];function bu(u,s){return u.filter(o=>o.pos===s)}function Em(u,s){return u.filter(o=>O0.indexOf(o.pos)===-1&&o.box.axis===s)}function yu(u,s){return u.sort((o,c)=>{const h=s?c:o,g=s?o:c;return h.weight===g.weight?h.index-g.index:h.weight-g.weight})}function XC(u){const s=[];let o,c,h,g,y,w;for(o=0,c=(u||[]).length;o<c;++o)h=u[o],{position:g,options:{stack:y,stackWeight:w=1}}=h,s.push({index:o,box:h,pos:g,horizontal:h.isHorizontal(),weight:h.weight,stack:y&&g+y,stackWeight:w});return s}function KC(u){const s={};for(const o of u){const{stack:c,pos:h,stackWeight:g}=o;if(!c||!O0.includes(h))continue;const y=s[c]||(s[c]={count:0,placed:0,weight:0,size:0});y.count++,y.weight+=g}return s}function ZC(u,s){const o=KC(u),{vBoxMaxWidth:c,hBoxMaxHeight:h}=s;let g,y,w;for(g=0,y=u.length;g<y;++g){w=u[g];const{fullSize:S}=w.box,D=o[w.stack],A=D&&w.stackWeight/D.weight;w.horizontal?(w.width=A?A*c:S&&s.availableWidth,w.height=h):(w.width=c,w.height=A?A*h:S&&s.availableHeight)}return o}function JC(u){const s=XC(u),o=yu(s.filter(D=>D.box.fullSize),!0),c=yu(bu(s,"left"),!0),h=yu(bu(s,"right")),g=yu(bu(s,"top"),!0),y=yu(bu(s,"bottom")),w=Em(s,"x"),S=Em(s,"y");return{fullSize:o,leftAndTop:c.concat(g),rightAndBottom:h.concat(S).concat(y).concat(w),chartArea:bu(s,"chartArea"),vertical:c.concat(h).concat(S),horizontal:g.concat(y).concat(w)}}function Am(u,s,o,c){return Math.max(u[o],s[o])+Math.max(u[c],s[c])}function P0(u,s){u.top=Math.max(u.top,s.top),u.left=Math.max(u.left,s.left),u.bottom=Math.max(u.bottom,s.bottom),u.right=Math.max(u.right,s.right)}function QC(u,s,o,c){const{pos:h,box:g}=o,y=u.maxPadding;if(!It(h)){o.size&&(u[h]-=o.size);const O=c[o.stack]||{size:0,count:1};O.size=Math.max(O.size,o.horizontal?g.height:g.width),o.size=O.size/O.count,u[h]+=o.size}g.getPadding&&P0(y,g.getPadding());const w=Math.max(0,s.outerWidth-Am(y,u,"left","right")),S=Math.max(0,s.outerHeight-Am(y,u,"top","bottom")),D=w!==u.w,A=S!==u.h;return u.w=w,u.h=S,o.horizontal?{same:D,other:A}:{same:A,other:D}}function ex(u){const s=u.maxPadding;function o(c){const h=Math.max(s[c]-u[c],0);return u[c]+=h,h}u.y+=o("top"),u.x+=o("left"),o("right"),o("bottom")}function tx(u,s){const o=s.maxPadding;function c(h){const g={left:0,top:0,right:0,bottom:0};return h.forEach(y=>{g[y]=Math.max(s[y],o[y])}),g}return c(u?["left","right"]:["top","bottom"])}function Eu(u,s,o,c){const h=[];let g,y,w,S,D,A;for(g=0,y=u.length,D=0;g<y;++g){w=u[g],S=w.box,S.update(w.width||s.w,w.height||s.h,tx(w.horizontal,s));const{same:O,other:B}=QC(s,o,w,c);D|=O&&h.length,A=A||B,S.fullSize||h.push(w)}return D&&Eu(h,s,o,c)||A}function Nd(u,s,o,c,h){u.top=o,u.left=s,u.right=s+c,u.bottom=o+h,u.width=c,u.height=h}function Mm(u,s,o,c){const h=o.padding;let{x:g,y}=s;for(const w of u){const S=w.box,D=c[w.stack]||{placed:0,weight:1},A=w.stackWeight/D.weight||1;if(w.horizontal){const O=s.w*A,B=D.size||S.height;Hu(D.start)&&(y=D.start),S.fullSize?Nd(S,h.left,y,o.outerWidth-h.right-h.left,B):Nd(S,s.left+D.placed,y,O,B),D.start=y,D.placed+=O,y=S.bottom}else{const O=s.h*A,B=D.size||S.width;Hu(D.start)&&(g=D.start),S.fullSize?Nd(S,g,h.top,B,o.outerHeight-h.bottom-h.top):Nd(S,g,s.top+D.placed,B,O),D.start=g,D.placed+=O,g=S.right}}s.x=g,s.y=y}var Sn={addBox(u,s){u.boxes||(u.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(o){s.draw(o)}}]},u.boxes.push(s)},removeBox(u,s){const o=u.boxes?u.boxes.indexOf(s):-1;o!==-1&&u.boxes.splice(o,1)},configure(u,s,o){s.fullSize=o.fullSize,s.position=o.position,s.weight=o.weight},update(u,s,o,c){if(!u)return;const h=Dn(u.options.layout.padding),g=Math.max(s-h.width,0),y=Math.max(o-h.height,0),w=JC(u.boxes),S=w.vertical,D=w.horizontal;Qt(u.boxes,Q=>{typeof Q.beforeLayout=="function"&&Q.beforeLayout()});const A=S.reduce((Q,te)=>te.box.options&&te.box.options.display===!1?Q:Q+1,0)||1,O=Object.freeze({outerWidth:s,outerHeight:o,padding:h,availableWidth:g,availableHeight:y,vBoxMaxWidth:g/2/A,hBoxMaxHeight:y/2}),B=Object.assign({},h);P0(B,Dn(c));const H=Object.assign({maxPadding:B,w:g,h:y,x:h.left,y:h.top},h),q=ZC(S.concat(D),O);Eu(w.fullSize,H,O,q),Eu(S,H,O,q),Eu(D,H,O,q)&&Eu(S,H,O,q),ex(H),Mm(w.leftAndTop,H,O,q),H.x+=H.w,H.y+=H.h,Mm(w.rightAndBottom,H,O,q),u.chartArea={left:H.left,top:H.top,right:H.left+H.w,bottom:H.top+H.h,height:H.h,width:H.w},Qt(w.chartArea,Q=>{const te=Q.box;Object.assign(te,u.chartArea),te.update(H.w,H.h,{left:0,top:0,right:0,bottom:0})})}};class B0{acquireContext(s,o){}releaseContext(s){return!1}addEventListener(s,o,c){}removeEventListener(s,o,c){}getDevicePixelRatio(){return 1}getMaximumSize(s,o,c,h){return o=Math.max(0,o||s.width),c=c||s.height,{width:o,height:Math.max(0,h?Math.floor(o/h):c)}}isAttached(s){return!0}updateConfig(s){}}class ix extends B0{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const Zd="$chartjs",nx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Fm=u=>u===null||u==="";function sx(u,s){const o=u.style,c=u.getAttribute("height"),h=u.getAttribute("width");if(u[Zd]={initial:{height:c,width:h,style:{display:o.display,height:o.height,width:o.width}}},o.display=o.display||"block",o.boxSizing=o.boxSizing||"border-box",Fm(h)){const g=pm(u,"width");g!==void 0&&(u.width=g)}if(Fm(c))if(u.style.height==="")u.height=u.width/(s||2);else{const g=pm(u,"height");g!==void 0&&(u.height=g)}return u}const N0=oC?{passive:!0}:!1;function ax(u,s,o){u&&u.addEventListener(s,o,N0)}function ox(u,s,o){u&&u.canvas&&u.canvas.removeEventListener(s,o,N0)}function rx(u,s){const o=nx[u.type]||u.type,{x:c,y:h}=ir(u,s);return{type:o,chart:s,native:u,x:c!==void 0?c:null,y:h!==void 0?h:null}}function rh(u,s){for(const o of u)if(o===s||o.contains(s))return!0}function lx(u,s,o){const c=u.canvas,h=new MutationObserver(g=>{let y=!1;for(const w of g)y=y||rh(w.addedNodes,c),y=y&&!rh(w.removedNodes,c);y&&o()});return h.observe(document,{childList:!0,subtree:!0}),h}function ux(u,s,o){const c=u.canvas,h=new MutationObserver(g=>{let y=!1;for(const w of g)y=y||rh(w.removedNodes,c),y=y&&!rh(w.addedNodes,c);y&&o()});return h.observe(document,{childList:!0,subtree:!0}),h}const Wu=new Map;let Im=0;function R0(){const u=window.devicePixelRatio;u!==Im&&(Im=u,Wu.forEach((s,o)=>{o.currentDevicePixelRatio!==u&&s()}))}function cx(u,s){Wu.size||window.addEventListener("resize",R0),Wu.set(u,s)}function dx(u){Wu.delete(u),Wu.size||window.removeEventListener("resize",R0)}function hx(u,s,o){const c=u.canvas,h=c&&_p(c);if(!h)return;const g=h0((w,S)=>{const D=h.clientWidth;o(w,S),D<h.clientWidth&&o()},window),y=new ResizeObserver(w=>{const S=w[0],D=S.contentRect.width,A=S.contentRect.height;D===0&&A===0||g(D,A)});return y.observe(h),cx(u,g),y}function If(u,s,o){o&&o.disconnect(),s==="resize"&&dx(u)}function fx(u,s,o){const c=u.canvas,h=h0(g=>{u.ctx!==null&&o(rx(g,u))},u);return ax(c,s,h),h}class px extends B0{acquireContext(s,o){const c=s&&s.getContext&&s.getContext("2d");return c&&c.canvas===s?(sx(s,o),c):null}releaseContext(s){const o=s.canvas;if(!o[Zd])return!1;const c=o[Zd].initial;["height","width"].forEach(g=>{const y=c[g];Mt(y)?o.removeAttribute(g):o.setAttribute(g,y)});const h=c.style||{};return Object.keys(h).forEach(g=>{o.style[g]=h[g]}),o.width=o.width,delete o[Zd],!0}addEventListener(s,o,c){this.removeEventListener(s,o);const h=s.$proxies||(s.$proxies={}),y={attach:lx,detach:ux,resize:hx}[o]||fx;h[o]=y(s,o,c)}removeEventListener(s,o){const c=s.$proxies||(s.$proxies={}),h=c[o];if(!h)return;({attach:If,detach:If,resize:If}[o]||ox)(s,o,h),c[o]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,o,c,h){return aC(s,o,c,h)}isAttached(s){const o=s&&_p(s);return!!(o&&o.isConnected)}}function mx(u){return!yp()||typeof OffscreenCanvas<"u"&&u instanceof OffscreenCanvas?ix:px}var Ud;let Oa=(Ud=class{constructor(){ae(this,"x");ae(this,"y");ae(this,"active",!1);ae(this,"options");ae(this,"$animations")}tooltipPosition(s){const{x:o,y:c}=this.getProps(["x","y"],s);return{x:o,y:c}}hasValue(){return Qr(this.x)&&Qr(this.y)}getProps(s,o){const c=this.$animations;if(!o||!c)return this;const h={};return s.forEach(g=>{h[g]=c[g]&&c[g].active()?c[g]._to:this[g]}),h}},ae(Ud,"defaults",{}),ae(Ud,"defaultRoutes"),Ud);function gx(u,s){const o=u.options.ticks,c=vx(u),h=Math.min(o.maxTicksLimit||c,c),g=o.major.enabled?yx(s):[],y=g.length,w=g[0],S=g[y-1],D=[];if(y>h)return _x(s,D,g,y/h),D;const A=bx(g,s,h);if(y>0){let O,B;const H=y>1?Math.round((S-w)/(y-1)):null;for(Rd(s,D,A,Mt(H)?0:w-H,w),O=0,B=y-1;O<B;O++)Rd(s,D,A,g[O],g[O+1]);return Rd(s,D,A,S,Mt(H)?s.length:S+H),D}return Rd(s,D,A),D}function vx(u){const s=u.options.offset,o=u._tickSize(),c=u._length/o+(s?0:1),h=u._maxLength/o;return Math.floor(Math.min(c,h))}function bx(u,s,o){const c=Cx(u),h=s.length/o;if(!c)return Math.max(h,1);const g=l1(c);for(let y=0,w=g.length-1;y<w;y++){const S=g[y];if(S>h)return S}return Math.max(h,1)}function yx(u){const s=[];let o,c;for(o=0,c=u.length;o<c;o++)u[o].major&&s.push(o);return s}function _x(u,s,o,c){let h=0,g=o[0],y;for(c=Math.ceil(c),y=0;y<u.length;y++)y===g&&(s.push(u[y]),h++,g=o[h*c])}function Rd(u,s,o,c,h){const g=Et(c,0),y=Math.min(Et(h,u.length),u.length);let w=0,S,D,A;for(o=Math.ceil(o),h&&(S=h-c,o=S/Math.floor(S/o)),A=g;A<0;)w++,A=Math.round(g+w*o);for(D=Math.max(g,0);D<y;D++)D===A&&(s.push(u[D]),w++,A=Math.round(g+w*o))}function Cx(u){const s=u.length;let o,c;if(s<2)return!1;for(c=u[0],o=1;o<s;++o)if(u[o]-u[o-1]!==c)return!1;return c}const xx=u=>u==="left"?"right":u==="right"?"left":u,Lm=(u,s,o)=>s==="top"||s==="left"?u[s]+o:u[s]-o,Om=(u,s)=>Math.min(s||u,u);function Pm(u,s){const o=[],c=u.length/s,h=u.length;let g=0;for(;g<h;g+=c)o.push(u[Math.floor(g)]);return o}function wx(u,s,o){const c=u.ticks.length,h=Math.min(s,c-1),g=u._startPixel,y=u._endPixel,w=1e-6;let S=u.getPixelForTick(h),D;if(!(o&&(c===1?D=Math.max(S-g,y-S):s===0?D=(u.getPixelForTick(1)-S)/2:D=(S-u.getPixelForTick(h-1))/2,S+=h<s?D:-D,S<g-w||S>y+w)))return S}function kx(u,s){Qt(u,o=>{const c=o.gc,h=c.length/2;let g;if(h>s){for(g=0;g<h;++g)delete o.data[c[g]];c.splice(0,h)}})}function _u(u){return u.drawTicks?u.tickLength:0}function Bm(u,s){if(!u.display)return 0;const o=Ki(u.font,s),c=Dn(u.padding);return(yi(u.text)?u.text.length:1)*o.lineHeight+c.height}function Sx(u,s){return wo(u,{scale:s,type:"scale"})}function Dx(u,s,o){return wo(u,{tick:o,index:s,type:"tick"})}function Tx(u,s,o){let c=fp(u);return(o&&s!=="right"||!o&&s==="right")&&(c=xx(c)),c}function Ex(u,s,o,c){const{top:h,left:g,bottom:y,right:w,chart:S}=u,{chartArea:D,scales:A}=S;let O=0,B,H,q;const Q=y-h,te=w-g;if(u.isHorizontal()){if(H=kn(c,g,w),It(o)){const K=Object.keys(o)[0],X=o[K];q=A[K].getPixelForValue(X)+Q-s}else o==="center"?q=(D.bottom+D.top)/2+Q-s:q=Lm(u,o,s);B=w-g}else{if(It(o)){const K=Object.keys(o)[0],X=o[K];H=A[K].getPixelForValue(X)-te+s}else o==="center"?H=(D.left+D.right)/2-te+s:H=Lm(u,o,s);q=kn(c,y,h),O=o==="left"?-Ni:Ni}return{titleX:H,titleY:q,maxWidth:B,rotation:O}}class cr extends Oa{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,o){return s}getUserBounds(){let{_userMin:s,_userMax:o,_suggestedMin:c,_suggestedMax:h}=this;return s=Gn(s,Number.POSITIVE_INFINITY),o=Gn(o,Number.NEGATIVE_INFINITY),c=Gn(c,Number.POSITIVE_INFINITY),h=Gn(h,Number.NEGATIVE_INFINITY),{min:Gn(s,c),max:Gn(o,h),minDefined:Fi(s),maxDefined:Fi(o)}}getMinMax(s){let{min:o,max:c,minDefined:h,maxDefined:g}=this.getUserBounds(),y;if(h&&g)return{min:o,max:c};const w=this.getMatchingVisibleMetas();for(let S=0,D=w.length;S<D;++S)y=w[S].controller.getMinMax(this,s),h||(o=Math.min(o,y.min)),g||(c=Math.max(c,y.max));return o=g&&o>c?c:o,c=h&&o>c?o:c,{min:Gn(o,Gn(c,o)),max:Gn(c,Gn(o,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ri(this.options.beforeUpdate,[this])}update(s,o,c){const{beginAtZero:h,grace:g,ticks:y}=this.options,w=y.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=o,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=N1(this,g,h),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const S=w<this.ticks.length;this._convertTicksToLabels(S?Pm(this.ticks,w):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),y.display&&(y.autoSkip||y.source==="auto")&&(this.ticks=gx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),S&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s=this.options.reverse,o,c;this.isHorizontal()?(o=this.left,c=this.right):(o=this.top,c=this.bottom,s=!s),this._startPixel=o,this._endPixel=c,this._reversePixels=s,this._length=c-o,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ri(this.options.afterUpdate,[this])}beforeSetDimensions(){ri(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ri(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),ri(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ri(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const o=this.options.ticks;let c,h,g;for(c=0,h=s.length;c<h;c++)g=s[c],g.label=ri(o.callback,[g.value,c,s],this)}afterTickToLabelConversion(){ri(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ri(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,o=s.ticks,c=Om(this.ticks.length,s.ticks.maxTicksLimit),h=o.minRotation||0,g=o.maxRotation;let y=h,w,S,D;if(!this._isVisible()||!o.display||h>=g||c<=1||!this.isHorizontal()){this.labelRotation=h;return}const A=this._getLabelSizes(),O=A.widest.width,B=A.highest.height,H=un(this.chart.width-O,0,this.maxWidth);w=s.offset?this.maxWidth/c:H/(c-1),O+6>w&&(w=H/(c-(s.offset?.5:1)),S=this.maxHeight-_u(s.grid)-o.padding-Bm(s.title,this.chart.options.font),D=Math.sqrt(O*O+B*B),y=dp(Math.min(Math.asin(un((A.highest.height+6)/w,-1,1)),Math.asin(un(S/D,-1,1))-Math.asin(un(B/D,-1,1)))),y=Math.max(h,Math.min(g,y))),this.labelRotation=y}afterCalculateLabelRotation(){ri(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ri(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:o,options:{ticks:c,title:h,grid:g}}=this,y=this._isVisible(),w=this.isHorizontal();if(y){const S=Bm(h,o.options.font);if(w?(s.width=this.maxWidth,s.height=_u(g)+S):(s.height=this.maxHeight,s.width=_u(g)+S),c.display&&this.ticks.length){const{first:D,last:A,widest:O,highest:B}=this._getLabelSizes(),H=c.padding*2,q=Ts(this.labelRotation),Q=Math.cos(q),te=Math.sin(q);if(w){const K=c.mirror?0:te*O.width+Q*B.height;s.height=Math.min(this.maxHeight,s.height+K+H)}else{const K=c.mirror?0:Q*O.width+te*B.height;s.width=Math.min(this.maxWidth,s.width+K+H)}this._calculatePadding(D,A,te,Q)}}this._handleMargins(),w?(this.width=this._length=o.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=o.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,o,c,h){const{ticks:{align:g,padding:y},position:w}=this.options,S=this.labelRotation!==0,D=w!=="top"&&this.axis==="x";if(this.isHorizontal()){const A=this.getPixelForTick(0)-this.left,O=this.right-this.getPixelForTick(this.ticks.length-1);let B=0,H=0;S?D?(B=h*s.width,H=c*o.height):(B=c*s.height,H=h*o.width):g==="start"?H=o.width:g==="end"?B=s.width:g!=="inner"&&(B=s.width/2,H=o.width/2),this.paddingLeft=Math.max((B-A+y)*this.width/(this.width-A),0),this.paddingRight=Math.max((H-O+y)*this.width/(this.width-O),0)}else{let A=o.height/2,O=s.height/2;g==="start"?(A=0,O=s.height):g==="end"&&(A=o.height,O=0),this.paddingTop=A+y,this.paddingBottom=O+y}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ri(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:o}=this.options;return o==="top"||o==="bottom"||s==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){this.beforeTickToLabelConversion(),this.generateTickLabels(s);let o,c;for(o=0,c=s.length;o<c;o++)Mt(s[o].label)&&(s.splice(o,1),c--,o--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const o=this.options.ticks.sampleSize;let c=this.ticks;o<c.length&&(c=Pm(c,o)),this._labelSizes=s=this._computeLabelSizes(c,c.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,o,c){const{ctx:h,_longestTextCache:g}=this,y=[],w=[],S=Math.floor(o/Om(o,c));let D=0,A=0,O,B,H,q,Q,te,K,X,le,ne,se;for(O=0;O<o;O+=S){if(q=s[O].label,Q=this._resolveTickFontOptions(O),h.font=te=Q.string,K=g[te]=g[te]||{data:{},gc:[]},X=Q.lineHeight,le=ne=0,!Mt(q)&&!yi(q))le=ah(h,K.data,K.gc,le,q),ne=X;else if(yi(q))for(B=0,H=q.length;B<H;++B)se=q[B],!Mt(se)&&!yi(se)&&(le=ah(h,K.data,K.gc,le,se),ne+=X);y.push(le),w.push(ne),D=Math.max(le,D),A=Math.max(ne,A)}kx(g,o);const we=y.indexOf(D),be=w.indexOf(A),ve=De=>({width:y[De]||0,height:w[De]||0});return{first:ve(0),last:ve(o-1),widest:ve(we),highest:ve(be),widths:y,heights:w}}getLabelForValue(s){return s}getPixelForValue(s,o){return NaN}getValueForPixel(s){}getPixelForTick(s){const o=this.ticks;return s<0||s>o.length-1?null:this.getPixelForValue(o[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const o=this._startPixel+s*this._length;return h1(this._alignToPixels?Qo(this.chart,o,0):o)}getDecimalForPixel(s){const o=(s-this._startPixel)/this._length;return this._reversePixels?1-o:o}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:o}=this;return s<0&&o<0?o:s>0&&o>0?s:0}getContext(s){const o=this.ticks||[];if(s>=0&&s<o.length){const c=o[s];return c.$context||(c.$context=Dx(this.getContext(),s,c))}return this.$context||(this.$context=Sx(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,o=Ts(this.labelRotation),c=Math.abs(Math.cos(o)),h=Math.abs(Math.sin(o)),g=this._getLabelSizes(),y=s.autoSkipPadding||0,w=g?g.widest.width+y:0,S=g?g.highest.height+y:0;return this.isHorizontal()?S*c>w*h?w/c:S/h:S*h<w*c?S/c:w/h}_isVisible(){const s=this.options.display;return s!=="auto"?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const o=this.axis,c=this.chart,h=this.options,{grid:g,position:y,border:w}=h,S=g.offset,D=this.isHorizontal(),O=this.ticks.length+(S?1:0),B=_u(g),H=[],q=w.setContext(this.getContext()),Q=q.display?q.width:0,te=Q/2,K=function(Pe){return Qo(c,Pe,Q)};let X,le,ne,se,we,be,ve,De,Ge,Ie,Ue,nt;if(y==="top")X=K(this.bottom),be=this.bottom-B,De=X-te,Ie=K(s.top)+te,nt=s.bottom;else if(y==="bottom")X=K(this.top),Ie=s.top,nt=K(s.bottom)-te,be=X+te,De=this.top+B;else if(y==="left")X=K(this.right),we=this.right-B,ve=X-te,Ge=K(s.left)+te,Ue=s.right;else if(y==="right")X=K(this.left),Ge=s.left,Ue=K(s.right)-te,we=X+te,ve=this.left+B;else if(o==="x"){if(y==="center")X=K((s.top+s.bottom)/2+.5);else if(It(y)){const Pe=Object.keys(y)[0],Oe=y[Pe];X=K(this.chart.scales[Pe].getPixelForValue(Oe))}Ie=s.top,nt=s.bottom,be=X+te,De=be+B}else if(o==="y"){if(y==="center")X=K((s.left+s.right)/2);else if(It(y)){const Pe=Object.keys(y)[0],Oe=y[Pe];X=K(this.chart.scales[Pe].getPixelForValue(Oe))}we=X-te,ve=we-B,Ge=s.left,Ue=s.right}const rt=Et(h.ticks.maxTicksLimit,O),ce=Math.max(1,Math.ceil(O/rt));for(le=0;le<O;le+=ce){const Pe=this.getContext(le),Oe=g.setContext(Pe),Je=w.setContext(Pe),mt=Oe.lineWidth,Ht=Oe.color,Zi=Je.dash||[],ue=Je.dashOffset,$=Oe.tickWidth,Te=Oe.tickColor,yt=Oe.tickBorderDash||[],ot=Oe.tickBorderDashOffset;ne=wx(this,le,S),ne!==void 0&&(se=Qo(c,ne,mt),D?we=ve=Ge=Ue=se:be=De=Ie=nt=se,H.push({tx1:we,ty1:be,tx2:ve,ty2:De,x1:Ge,y1:Ie,x2:Ue,y2:nt,width:mt,color:Ht,borderDash:Zi,borderDashOffset:ue,tickWidth:$,tickColor:Te,tickBorderDash:yt,tickBorderDashOffset:ot}))}return this._ticksLength=O,this._borderValue=X,H}_computeLabelItems(s){const o=this.axis,c=this.options,{position:h,ticks:g}=c,y=this.isHorizontal(),w=this.ticks,{align:S,crossAlign:D,padding:A,mirror:O}=g,B=_u(c.grid),H=B+A,q=O?-A:H,Q=-Ts(this.labelRotation),te=[];let K,X,le,ne,se,we,be,ve,De,Ge,Ie,Ue,nt="middle";if(h==="top")we=this.bottom-q,be=this._getXAxisLabelAlignment();else if(h==="bottom")we=this.top+q,be=this._getXAxisLabelAlignment();else if(h==="left"){const ce=this._getYAxisLabelAlignment(B);be=ce.textAlign,se=ce.x}else if(h==="right"){const ce=this._getYAxisLabelAlignment(B);be=ce.textAlign,se=ce.x}else if(o==="x"){if(h==="center")we=(s.top+s.bottom)/2+H;else if(It(h)){const ce=Object.keys(h)[0],Pe=h[ce];we=this.chart.scales[ce].getPixelForValue(Pe)+H}be=this._getXAxisLabelAlignment()}else if(o==="y"){if(h==="center")se=(s.left+s.right)/2-H;else if(It(h)){const ce=Object.keys(h)[0],Pe=h[ce];se=this.chart.scales[ce].getPixelForValue(Pe)}be=this._getYAxisLabelAlignment(B).textAlign}o==="y"&&(S==="start"?nt="top":S==="end"&&(nt="bottom"));const rt=this._getLabelSizes();for(K=0,X=w.length;K<X;++K){le=w[K],ne=le.label;const ce=g.setContext(this.getContext(K));ve=this.getPixelForTick(K)+g.labelOffset,De=this._resolveTickFontOptions(K),Ge=De.lineHeight,Ie=yi(ne)?ne.length:1;const Pe=Ie/2,Oe=ce.color,Je=ce.textStrokeColor,mt=ce.textStrokeWidth;let Ht=be;y?(se=ve,be==="inner"&&(K===X-1?Ht=this.options.reverse?"left":"right":K===0?Ht=this.options.reverse?"right":"left":Ht="center"),h==="top"?D==="near"||Q!==0?Ue=-Ie*Ge+Ge/2:D==="center"?Ue=-rt.highest.height/2-Pe*Ge+Ge:Ue=-rt.highest.height+Ge/2:D==="near"||Q!==0?Ue=Ge/2:D==="center"?Ue=rt.highest.height/2-Pe*Ge:Ue=rt.highest.height-Ie*Ge,O&&(Ue*=-1),Q!==0&&!ce.showLabelBackdrop&&(se+=Ge/2*Math.sin(Q))):(we=ve,Ue=(1-Ie)*Ge/2);let Zi;if(ce.showLabelBackdrop){const ue=Dn(ce.backdropPadding),$=rt.heights[K],Te=rt.widths[K];let yt=Ue-ue.top,ot=0-ue.left;switch(nt){case"middle":yt-=$/2;break;case"bottom":yt-=$;break}switch(be){case"center":ot-=Te/2;break;case"right":ot-=Te;break;case"inner":K===X-1?ot-=Te:K>0&&(ot-=Te/2);break}Zi={left:ot,top:yt,width:Te+ue.width,height:$+ue.height,color:ce.backdropColor}}te.push({label:ne,font:De,textOffset:Ue,options:{rotation:Q,color:Oe,strokeColor:Je,strokeWidth:mt,textAlign:Ht,textBaseline:nt,translation:[se,we],backdrop:Zi}})}return te}_getXAxisLabelAlignment(){const{position:s,ticks:o}=this.options;if(-Ts(this.labelRotation))return s==="top"?"left":"right";let h="center";return o.align==="start"?h="left":o.align==="end"?h="right":o.align==="inner"&&(h="inner"),h}_getYAxisLabelAlignment(s){const{position:o,ticks:{crossAlign:c,mirror:h,padding:g}}=this.options,y=this._getLabelSizes(),w=s+g,S=y.widest.width;let D,A;return o==="left"?h?(A=this.right+g,c==="near"?D="left":c==="center"?(D="center",A+=S/2):(D="right",A+=S)):(A=this.right-w,c==="near"?D="right":c==="center"?(D="center",A-=S/2):(D="left",A=this.left)):o==="right"?h?(A=this.left+g,c==="near"?D="right":c==="center"?(D="center",A-=S/2):(D="left",A-=S)):(A=this.left+w,c==="near"?D="left":c==="center"?(D="center",A+=S/2):(D="right",A=this.right)):D="right",{textAlign:D,x:A}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,o=this.options.position;if(o==="left"||o==="right")return{top:0,left:this.left,bottom:s.height,right:this.right};if(o==="top"||o==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:s.width}}drawBackground(){const{ctx:s,options:{backgroundColor:o},left:c,top:h,width:g,height:y}=this;o&&(s.save(),s.fillStyle=o,s.fillRect(c,h,g,y),s.restore())}getLineWidthForValue(s){const o=this.options.grid;if(!this._isVisible()||!o.display)return 0;const h=this.ticks.findIndex(g=>g.value===s);return h>=0?o.setContext(this.getContext(h)).lineWidth:0}drawGrid(s){const o=this.options.grid,c=this.ctx,h=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let g,y;const w=(S,D,A)=>{!A.width||!A.color||(c.save(),c.lineWidth=A.width,c.strokeStyle=A.color,c.setLineDash(A.borderDash||[]),c.lineDashOffset=A.borderDashOffset,c.beginPath(),c.moveTo(S.x,S.y),c.lineTo(D.x,D.y),c.stroke(),c.restore())};if(o.display)for(g=0,y=h.length;g<y;++g){const S=h[g];o.drawOnChartArea&&w({x:S.x1,y:S.y1},{x:S.x2,y:S.y2},S),o.drawTicks&&w({x:S.tx1,y:S.ty1},{x:S.tx2,y:S.ty2},{color:S.tickColor,width:S.tickWidth,borderDash:S.tickBorderDash,borderDashOffset:S.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:o,options:{border:c,grid:h}}=this,g=c.setContext(this.getContext()),y=c.display?g.width:0;if(!y)return;const w=h.setContext(this.getContext(0)).lineWidth,S=this._borderValue;let D,A,O,B;this.isHorizontal()?(D=Qo(s,this.left,y)-y/2,A=Qo(s,this.right,w)+w/2,O=B=S):(O=Qo(s,this.top,y)-y/2,B=Qo(s,this.bottom,w)+w/2,D=A=S),o.save(),o.lineWidth=g.width,o.strokeStyle=g.color,o.beginPath(),o.moveTo(D,O),o.lineTo(A,B),o.stroke(),o.restore()}drawLabels(s){if(!this.options.ticks.display)return;const c=this.ctx,h=this._computeLabelArea();h&&fh(c,h);const g=this.getLabelItems(s);for(const y of g){const w=y.options,S=y.font,D=y.label,A=y.textOffset;ur(c,D,0,A,S,w)}h&&ph(c)}drawTitle(){const{ctx:s,options:{position:o,title:c,reverse:h}}=this;if(!c.display)return;const g=Ki(c.font),y=Dn(c.padding),w=c.align;let S=g.lineHeight/2;o==="bottom"||o==="center"||It(o)?(S+=y.bottom,yi(c.text)&&(S+=g.lineHeight*(c.text.length-1))):S+=y.top;const{titleX:D,titleY:A,maxWidth:O,rotation:B}=Ex(this,S,o,w);ur(s,c.text,0,0,g,{color:c.color,maxWidth:O,rotation:B,textAlign:Tx(w,o,h),textBaseline:"middle",translation:[D,A]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,o=s.ticks&&s.ticks.z||0,c=Et(s.grid&&s.grid.z,-1),h=Et(s.border&&s.border.z,0);return!this._isVisible()||this.draw!==cr.prototype.draw?[{z:o,draw:g=>{this.draw(g)}}]:[{z:c,draw:g=>{this.drawBackground(),this.drawGrid(g),this.drawTitle()}},{z:h,draw:()=>{this.drawBorder()}},{z:o,draw:g=>{this.drawLabels(g)}}]}getMatchingVisibleMetas(s){const o=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",h=[];let g,y;for(g=0,y=o.length;g<y;++g){const w=o[g];w[c]===this.id&&(!s||w.type===s)&&h.push(w)}return h}_resolveTickFontOptions(s){const o=this.options.ticks.setContext(this.getContext(s));return Ki(o.font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class zd{constructor(s,o,c){this.type=s,this.scope=o,this.override=c,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const o=Object.getPrototypeOf(s);let c;Fx(o)&&(c=this.register(o));const h=this.items,g=s.id,y=this.scope+"."+g;if(!g)throw new Error("class does not have id: "+s);return g in h||(h[g]=s,Ax(s,y,c),this.override&&_i.override(s.id,s.overrides)),y}get(s){return this.items[s]}unregister(s){const o=this.items,c=s.id,h=this.scope;c in o&&delete o[c],h&&c in _i[h]&&(delete _i[h][c],this.override&&delete lr[c])}}function Ax(u,s,o){const c=zu(Object.create(null),[o?_i.get(o):{},_i.get(s),u.defaults]);_i.set(s,c),u.defaultRoutes&&Mx(s,u.defaultRoutes),u.descriptors&&_i.describe(s,u.descriptors)}function Mx(u,s){Object.keys(s).forEach(o=>{const c=o.split("."),h=c.pop(),g=[u].concat(c).join("."),y=s[o].split("."),w=y.pop(),S=y.join(".");_i.route(g,h,S,w)})}function Fx(u){return"id"in u&&"defaults"in u}class Ix{constructor(){this.controllers=new zd(Es,"datasets",!0),this.elements=new zd(Oa,"elements"),this.plugins=new zd(Object,"plugins"),this.scales=new zd(cr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,o,c){[...o].forEach(h=>{const g=c||this._getRegistryForType(h);c||g.isForType(h)||g===this.plugins&&h.id?this._exec(s,g,h):Qt(h,y=>{const w=c||this._getRegistryForType(y);this._exec(s,w,y)})})}_exec(s,o,c){const h=cp(s);ri(c["before"+h],[],c),o[s](c),ri(c["after"+h],[],c)}_getRegistryForType(s){for(let o=0;o<this._typedRegistries.length;o++){const c=this._typedRegistries[o];if(c.isForType(s))return c}return this.plugins}_get(s,o,c){const h=o.get(s);if(h===void 0)throw new Error('"'+s+'" is not a registered '+c+".");return h}}var Ks=new Ix;class Lx{constructor(){this._init=[]}notify(s,o,c,h){o==="beforeInit"&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install"));const g=h?this._descriptors(s).filter(h):this._descriptors(s),y=this._notify(g,s,o,c);return o==="afterDestroy"&&(this._notify(g,s,"stop"),this._notify(this._init,s,"uninstall")),y}_notify(s,o,c,h){h=h||{};for(const g of s){const y=g.plugin,w=y[c],S=[o,h,g.options];if(ri(w,S,y)===!1&&h.cancelable)return!1}return!0}invalidate(){Mt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const o=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),o}_createDescriptors(s,o){const c=s&&s.config,h=Et(c.options&&c.options.plugins,{}),g=Ox(c);return h===!1&&!o?[]:Bx(s,g,h,o)}_notifyStateChanges(s){const o=this._oldCache||[],c=this._cache,h=(g,y)=>g.filter(w=>!y.some(S=>w.plugin.id===S.plugin.id));this._notify(h(o,c),s,"stop"),this._notify(h(c,o),s,"start")}}function Ox(u){const s={},o=[],c=Object.keys(Ks.plugins.items);for(let g=0;g<c.length;g++)o.push(Ks.getPlugin(c[g]));const h=u.plugins||[];for(let g=0;g<h.length;g++){const y=h[g];o.indexOf(y)===-1&&(o.push(y),s[y.id]=!0)}return{plugins:o,localIds:s}}function Px(u,s){return!s&&u===!1?null:u===!0?{}:u}function Bx(u,{plugins:s,localIds:o},c,h){const g=[],y=u.getContext();for(const w of s){const S=w.id,D=Px(c[S],h);D!==null&&g.push({plugin:w,options:Nx(u.config,{plugin:w,local:o[S]},D,y)})}return g}function Nx(u,{plugin:s,local:o},c,h){const g=u.pluginScopeKeys(s),y=u.getOptionScopes(c,g);return o&&s.defaults&&y.push(s.defaults),u.createResolver(y,h,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Yf(u,s){const o=_i.datasets[u]||{};return((s.datasets||{})[u]||{}).indexAxis||s.indexAxis||o.indexAxis||"x"}function Rx(u,s){let o=u;return u==="_index_"?o=s:u==="_value_"&&(o=s==="x"?"y":"x"),o}function zx(u,s){return u===s?"_index_":"_value_"}function Nm(u){if(u==="x"||u==="y"||u==="r")return u}function Hx(u){if(u==="top"||u==="bottom")return"x";if(u==="left"||u==="right")return"y"}function Gf(u,...s){if(Nm(u))return u;for(const o of s){const c=o.axis||Hx(o.position)||u.length>1&&Nm(u[0].toLowerCase());if(c)return c}throw new Error(`Cannot determine type of '${u}' axis. Please provide 'axis' or 'position' option.`)}function Rm(u,s,o){if(o[s+"AxisID"]===u)return{axis:s}}function $x(u,s){if(s.data&&s.data.datasets){const o=s.data.datasets.filter(c=>c.xAxisID===u||c.yAxisID===u);if(o.length)return Rm(u,"x",o[0])||Rm(u,"y",o[0])}return{}}function Vx(u,s){const o=lr[u.type]||{scales:{}},c=s.scales||{},h=Yf(u.type,s),g=Object.create(null);return Object.keys(c).forEach(y=>{const w=c[y];if(!It(w))return console.error(`Invalid scale configuration for scale: ${y}`);if(w._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${y}`);const S=Gf(y,w,$x(y,u),_i.scales[w.type]),D=zx(S,h),A=o.scales||{};g[y]=Iu(Object.create(null),[{axis:S},w,A[S],A[D]])}),u.data.datasets.forEach(y=>{const w=y.type||u.type,S=y.indexAxis||Yf(w,s),A=(lr[w]||{}).scales||{};Object.keys(A).forEach(O=>{const B=Rx(O,S),H=y[B+"AxisID"]||B;g[H]=g[H]||Object.create(null),Iu(g[H],[{axis:B},c[H],A[O]])})}),Object.keys(g).forEach(y=>{const w=g[y];Iu(w,[_i.scales[w.type],_i.scale])}),g}function z0(u){const s=u.options||(u.options={});s.plugins=Et(s.plugins,{}),s.scales=Vx(u,s)}function H0(u){return u=u||{},u.datasets=u.datasets||[],u.labels=u.labels||[],u}function Wx(u){return u=u||{},u.data=H0(u.data),z0(u),u}const zm=new Map,$0=new Set;function Hd(u,s){let o=zm.get(u);return o||(o=s(),zm.set(u,o),$0.add(o)),o}const Cu=(u,s,o)=>{const c=Co(s,o);c!==void 0&&u.add(c)};class jx{constructor(s){this._config=Wx(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=H0(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),z0(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Hd(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,o){return Hd(`${s}.transition.${o}`,()=>[[`datasets.${s}.transitions.${o}`,`transitions.${o}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,o){return Hd(`${s}-${o}`,()=>[[`datasets.${s}.elements.${o}`,`datasets.${s}`,`elements.${o}`,""]])}pluginScopeKeys(s){const o=s.id,c=this.type;return Hd(`${c}-plugin-${o}`,()=>[[`plugins.${o}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,o){const c=this._scopeCache;let h=c.get(s);return(!h||o)&&(h=new Map,c.set(s,h)),h}getOptionScopes(s,o,c){const{options:h,type:g}=this,y=this._cachedScopes(s,c),w=y.get(o);if(w)return w;const S=new Set;o.forEach(A=>{s&&(S.add(s),A.forEach(O=>Cu(S,s,O))),A.forEach(O=>Cu(S,h,O)),A.forEach(O=>Cu(S,lr[g]||{},O)),A.forEach(O=>Cu(S,_i,O)),A.forEach(O=>Cu(S,jf,O))});const D=Array.from(S);return D.length===0&&D.push(Object.create(null)),$0.has(o)&&y.set(o,D),D}chartOptionScopes(){const{options:s,type:o}=this;return[s,lr[o]||{},_i.datasets[o]||{},{type:o},_i,jf]}resolveNamedOptions(s,o,c,h=[""]){const g={$shared:!0},{resolver:y,subPrefixes:w}=Hm(this._resolverCache,s,h);let S=y;if(qx(y,o)){g.$shared=!1,c=xo(c)?c():c;const D=this.createResolver(s,c,w);S=el(y,c,D)}for(const D of o)g[D]=S[D];return g}createResolver(s,o,c=[""],h){const{resolver:g}=Hm(this._resolverCache,s,c);return It(o)?el(g,o,void 0,h):g}}function Hm(u,s,o){let c=u.get(s);c||(c=new Map,u.set(s,c));const h=o.join();let g=c.get(h);return g||(g={resolver:gp(s,o),subPrefixes:o.filter(w=>!w.toLowerCase().includes("hover"))},c.set(h,g)),g}const Ux=u=>It(u)&&Object.getOwnPropertyNames(u).some(s=>xo(u[s]));function qx(u,s){const{isScriptable:o,isIndexable:c}=b0(u);for(const h of s){const g=o(h),y=c(h),w=(y||g)&&u[h];if(g&&(xo(w)||Ux(w))||y&&yi(w))return!0}return!1}var Yx="4.4.9";const Gx=["top","bottom","left","right","chartArea"];function $m(u,s){return u==="top"||u==="bottom"||Gx.indexOf(u)===-1&&s==="x"}function Vm(u,s){return function(o,c){return o[u]===c[u]?o[s]-c[s]:o[u]-c[u]}}function Wm(u){const s=u.chart,o=s.options.animation;s.notifyPlugins("afterRender"),ri(o&&o.onComplete,[u],s)}function Xx(u){const s=u.chart,o=s.options.animation;ri(o&&o.onProgress,[u],s)}function V0(u){return yp()&&typeof u=="string"?u=document.getElementById(u):u&&u.length&&(u=u[0]),u&&u.canvas&&(u=u.canvas),u}const Jd={},jm=u=>{const s=V0(u);return Object.values(Jd).filter(o=>o.canvas===s).pop()};function Kx(u,s,o){const c=Object.keys(u);for(const h of c){const g=+h;if(g>=s){const y=u[h];delete u[h],(o>0||g>s)&&(u[g+o]=y)}}}function Zx(u,s,o,c){return!o||u.type==="mouseout"?null:c?s:u}class Ma{static register(...s){Ks.add(...s),Um()}static unregister(...s){Ks.remove(...s),Um()}constructor(s,o){const c=this.config=new jx(o),h=V0(s),g=jm(h);if(g)throw new Error("Canvas is already in use. Chart with ID '"+g.id+"' must be destroyed before the canvas with ID '"+g.canvas.id+"' can be reused.");const y=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||mx(h)),this.platform.updateConfig(c);const w=this.platform.acquireContext(h,y.aspectRatio),S=w&&w.canvas,D=S&&S.height,A=S&&S.width;if(this.id=Q_(),this.ctx=w,this.canvas=S,this.width=A,this.height=D,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Lx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=g1(O=>this.update(O),y.resizeDelay||0),this._dataChanges=[],Jd[this.id]=this,!w||!S){console.error("Failed to create chart: can't acquire context from the given item");return}Ta.listen(this,"complete",Wm),Ta.listen(this,"progress",Xx),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:o},width:c,height:h,_aspectRatio:g}=this;return Mt(s)?o&&g?g:h?c/h:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return Ks}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cm(this.canvas,this.ctx),this}stop(){return Ta.stop(this),this}resize(s,o){Ta.running(this)?this._resizeBeforeDraw={width:s,height:o}:this._resize(s,o)}_resize(s,o){const c=this.options,h=this.canvas,g=c.maintainAspectRatio&&this.aspectRatio,y=this.platform.getMaximumSize(h,s,o,g),w=c.devicePixelRatio||this.platform.getDevicePixelRatio(),S=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,fm(this,w,!0)&&(this.notifyPlugins("resize",{size:y}),ri(c.onResize,[this,y],this),this.attached&&this._doResize(S)&&this.render())}ensureScalesHaveIDs(){const o=this.options.scales||{};Qt(o,(c,h)=>{c.id=h})}buildOrUpdateScales(){const s=this.options,o=s.scales,c=this.scales,h=Object.keys(c).reduce((y,w)=>(y[w]=!1,y),{});let g=[];o&&(g=g.concat(Object.keys(o).map(y=>{const w=o[y],S=Gf(y,w),D=S==="r",A=S==="x";return{options:w,dposition:D?"chartArea":A?"bottom":"left",dtype:D?"radialLinear":A?"category":"linear"}}))),Qt(g,y=>{const w=y.options,S=w.id,D=Gf(S,w),A=Et(w.type,y.dtype);(w.position===void 0||$m(w.position,D)!==$m(y.dposition))&&(w.position=y.dposition),h[S]=!0;let O=null;if(S in c&&c[S].type===A)O=c[S];else{const B=Ks.getScale(A);O=new B({id:S,type:A,ctx:this.ctx,chart:this}),c[O.id]=O}O.init(w,s)}),Qt(h,(y,w)=>{y||delete c[w]}),Qt(c,y=>{Sn.configure(this,y,y.options),Sn.addBox(this,y)})}_updateMetasets(){const s=this._metasets,o=this.data.datasets.length,c=s.length;if(s.sort((h,g)=>h.index-g.index),c>o){for(let h=o;h<c;++h)this._destroyDatasetMeta(h);s.splice(o,c-o)}this._sortedMetasets=s.slice(0).sort(Vm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:o}}=this;s.length>o.length&&delete this._stacks,s.forEach((c,h)=>{o.filter(g=>g===c._dataset).length===0&&this._destroyDatasetMeta(h)})}buildOrUpdateControllers(){const s=[],o=this.data.datasets;let c,h;for(this._removeUnreferencedMetasets(),c=0,h=o.length;c<h;c++){const g=o[c];let y=this.getDatasetMeta(c);const w=g.type||this.config.type;if(y.type&&y.type!==w&&(this._destroyDatasetMeta(c),y=this.getDatasetMeta(c)),y.type=w,y.indexAxis=g.indexAxis||Yf(w,this.options),y.order=g.order||0,y.index=c,y.label=""+g.label,y.visible=this.isDatasetVisible(c),y.controller)y.controller.updateIndex(c),y.controller.linkScales();else{const S=Ks.getController(w),{datasetElementType:D,dataElementType:A}=_i.datasets[w];Object.assign(S,{dataElementType:Ks.getElement(A),datasetElementType:D&&Ks.getElement(D)}),y.controller=new S(this,c),s.push(y.controller)}}return this._updateMetasets(),s}_resetElements(){Qt(this.data.datasets,(s,o)=>{this.getDatasetMeta(o).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const o=this.config;o.update();const c=this._options=o.createResolver(o.chartOptionScopes(),this.getContext()),h=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0})===!1)return;const g=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let D=0,A=this.data.datasets.length;D<A;D++){const{controller:O}=this.getDatasetMeta(D),B=!h&&g.indexOf(O)===-1;O.buildOrUpdateElements(B),y=Math.max(+O.getMaxOverflow(),y)}y=this._minPadding=c.layout.autoPadding?y:0,this._updateLayout(y),h||Qt(g,D=>{D.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(Vm("z","_idx"));const{_active:w,_lastEvent:S}=this;S?this._eventHandler(S,!0):w.length&&this._updateHoverStyles(w,w,!0),this.render()}_updateScales(){Qt(this.scales,s=>{Sn.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,o=new Set(Object.keys(this._listeners)),c=new Set(s.events);(!tm(o,c)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,o=this._getUniformDataChanges()||[];for(const{method:c,start:h,count:g}of o){const y=c==="_removeElements"?-g:g;Kx(s,h,y)}}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const o=this.data.datasets.length,c=g=>new Set(s.filter(y=>y[0]===g).map((y,w)=>w+","+y.splice(1).join(","))),h=c(0);for(let g=1;g<o;g++)if(!tm(h,c(g)))return;return Array.from(h).map(g=>g.split(",")).map(g=>({method:g[1],start:+g[2],count:+g[3]}))}_updateLayout(s){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Sn.update(this,this.width,this.height,s);const o=this.chartArea,c=o.width<=0||o.height<=0;this._layers=[],Qt(this.boxes,h=>{c&&h.position==="chartArea"||(h.configure&&h.configure(),this._layers.push(...h._layers()))},this),this._layers.forEach((h,g)=>{h._idx=g}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})!==!1){for(let o=0,c=this.data.datasets.length;o<c;++o)this.getDatasetMeta(o).controller.configure();for(let o=0,c=this.data.datasets.length;o<c;++o)this._updateDataset(o,xo(s)?s({datasetIndex:o}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,o){const c=this.getDatasetMeta(s),h={meta:c,index:s,mode:o,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",h)!==!1&&(c.controller._update(o),h.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",h))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ta.has(this)?this.attached&&!Ta.running(this)&&Ta.start(this):(this.draw(),Wm({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:c,height:h}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(c,h)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const o=this._layers;for(s=0;s<o.length&&o[s].z<=0;++s)o[s].draw(this.chartArea);for(this._drawDatasets();s<o.length;++s)o[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const o=this._sortedMetasets,c=[];let h,g;for(h=0,g=o.length;h<g;++h){const y=o[h];(!s||y.visible)&&c.push(y)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const s=this.getSortedVisibleDatasetMetas();for(let o=s.length-1;o>=0;--o)this._drawDataset(s[o]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const o=this.ctx,c={meta:s,index:s.index,cancelable:!0},h=A0(this,s);this.notifyPlugins("beforeDatasetDraw",c)!==!1&&(h&&fh(o,h),s.controller.draw(),h&&ph(o),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(s){return La(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,o,c,h){const g=GC.modes[o];return typeof g=="function"?g(this,s,c,h):[]}getDatasetMeta(s){const o=this.data.datasets[s],c=this._metasets;let h=c.filter(g=>g&&g._dataset===o).pop();return h||(h={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:o&&o.order||0,index:s,_dataset:o,_parsed:[],_sorted:!1},c.push(h)),h}getContext(){return this.$context||(this.$context=wo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const o=this.data.datasets[s];if(!o)return!1;const c=this.getDatasetMeta(s);return typeof c.hidden=="boolean"?!c.hidden:!o.hidden}setDatasetVisibility(s,o){const c=this.getDatasetMeta(s);c.hidden=!o}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,o,c){const h=c?"show":"hide",g=this.getDatasetMeta(s),y=g.controller._resolveAnimations(void 0,h);Hu(o)?(g.data[o].hidden=!c,this.update()):(this.setDatasetVisibility(s,c),y.update(g,{visible:c}),this.update(w=>w.datasetIndex===s?h:void 0))}hide(s,o){this._updateVisibility(s,o,!1)}show(s,o){this._updateVisibility(s,o,!0)}_destroyDatasetMeta(s){const o=this._metasets[s];o&&o.controller&&o.controller._destroy(),delete this._metasets[s]}_stop(){let s,o;for(this.stop(),Ta.remove(this),s=0,o=this.data.datasets.length;s<o;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:o}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),cm(s,o),this.platform.releaseContext(o),this.canvas=null,this.ctx=null),delete Jd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,o=this.platform,c=(g,y)=>{o.addEventListener(this,g,y),s[g]=y},h=(g,y,w)=>{g.offsetX=y,g.offsetY=w,this._eventHandler(g)};Qt(this.options.events,g=>c(g,h))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,o=this.platform,c=(S,D)=>{o.addEventListener(this,S,D),s[S]=D},h=(S,D)=>{s[S]&&(o.removeEventListener(this,S,D),delete s[S])},g=(S,D)=>{this.canvas&&this.resize(S,D)};let y;const w=()=>{h("attach",w),this.attached=!0,this.resize(),c("resize",g),c("detach",y)};y=()=>{this.attached=!1,h("resize",g),this._stop(),this._resize(0,0),c("attach",w)},o.isAttached(this.canvas)?w():y()}unbindEvents(){Qt(this._listeners,(s,o)=>{this.platform.removeEventListener(this,o,s)}),this._listeners={},Qt(this._responsiveListeners,(s,o)=>{this.platform.removeEventListener(this,o,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,o,c){const h=c?"set":"remove";let g,y,w,S;for(o==="dataset"&&(g=this.getDatasetMeta(s[0].datasetIndex),g.controller["_"+h+"DatasetHoverStyle"]()),w=0,S=s.length;w<S;++w){y=s[w];const D=y&&this.getDatasetMeta(y.datasetIndex).controller;D&&D[h+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const o=this._active||[],c=s.map(({datasetIndex:g,index:y})=>{const w=this.getDatasetMeta(g);if(!w)throw new Error("No dataset found at index "+g);return{datasetIndex:g,element:w.data[y],index:y}});!ih(c,o)&&(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,o))}notifyPlugins(s,o,c){return this._plugins.notify(this,s,o,c)}isPluginEnabled(s){return this._plugins._cache.filter(o=>o.plugin.id===s).length===1}_updateHoverStyles(s,o,c){const h=this.options.hover,g=(S,D)=>S.filter(A=>!D.some(O=>A.datasetIndex===O.datasetIndex&&A.index===O.index)),y=g(o,s),w=c?s:g(s,o);y.length&&this.updateHoverStyle(y,h.mode,!1),w.length&&h.mode&&this.updateHoverStyle(w,h.mode,!0)}_eventHandler(s,o){const c={event:s,replay:o,cancelable:!0,inChartArea:this.isPointInArea(s)},h=y=>(y.options.events||this.options.events).includes(s.native.type);if(this.notifyPlugins("beforeEvent",c,h)===!1)return;const g=this._handleEvent(s,o,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,h),(g||c.changed)&&this.render(),this}_handleEvent(s,o,c){const{_active:h=[],options:g}=this,y=o,w=this._getActiveElements(s,h,c,y),S=a1(s),D=Zx(s,this._lastEvent,c,S);c&&(this._lastEvent=null,ri(g.onHover,[s,w,this],this),S&&ri(g.onClick,[s,w,this],this));const A=!ih(w,h);return(A||o)&&(this._active=w,this._updateHoverStyles(w,h,o)),this._lastEvent=D,A}_getActiveElements(s,o,c,h){if(s.type==="mouseout")return[];if(!c)return o;const g=this.options.hover;return this.getElementsAtEventForMode(s,g.mode,g,h)}}ae(Ma,"defaults",_i),ae(Ma,"instances",Jd),ae(Ma,"overrides",lr),ae(Ma,"registry",Ks),ae(Ma,"version",Yx),ae(Ma,"getChart",jm);function Um(){return Qt(Ma.instances,u=>u._plugins.invalidate())}function Jx(u,s,o){const{startAngle:c,pixelMargin:h,x:g,y,outerRadius:w,innerRadius:S}=s;let D=h/w;u.beginPath(),u.arc(g,y,w,c-D,o+D),S>h?(D=h/S,u.arc(g,y,S,o+D,c-D,!0)):u.arc(g,y,h,o+Ni,c-Ni),u.closePath(),u.clip()}function Qx(u){return mp(u,["outerStart","outerEnd","innerStart","innerEnd"])}function ew(u,s,o,c){const h=Qx(u.options.borderRadius),g=(o-s)/2,y=Math.min(g,c*s/2),w=S=>{const D=(o-Math.min(g,S))*c/2;return un(S,0,Math.min(g,D))};return{outerStart:w(h.outerStart),outerEnd:w(h.outerEnd),innerStart:un(h.innerStart,0,y),innerEnd:un(h.innerEnd,0,y)}}function Kr(u,s,o,c){return{x:o+u*Math.cos(s),y:c+u*Math.sin(s)}}function lh(u,s,o,c,h,g){const{x:y,y:w,startAngle:S,pixelMargin:D,innerRadius:A}=s,O=Math.max(s.outerRadius+c+o-D,0),B=A>0?A+c+o+D:0;let H=0;const q=h-S;if(c){const ce=A>0?A-c:0,Pe=O>0?O-c:0,Oe=(ce+Pe)/2,Je=Oe!==0?q*Oe/(Oe+c):q;H=(q-Je)/2}const Q=Math.max(.001,q*O-o/di)/O,te=(q-Q)/2,K=S+te+H,X=h-te-H,{outerStart:le,outerEnd:ne,innerStart:se,innerEnd:we}=ew(s,B,O,X-K),be=O-le,ve=O-ne,De=K+le/be,Ge=X-ne/ve,Ie=B+se,Ue=B+we,nt=K+se/Ie,rt=X-we/Ue;if(u.beginPath(),g){const ce=(De+Ge)/2;if(u.arc(y,w,O,De,ce),u.arc(y,w,O,ce,Ge),ne>0){const mt=Kr(ve,Ge,y,w);u.arc(mt.x,mt.y,ne,Ge,X+Ni)}const Pe=Kr(Ue,X,y,w);if(u.lineTo(Pe.x,Pe.y),we>0){const mt=Kr(Ue,rt,y,w);u.arc(mt.x,mt.y,we,X+Ni,rt+Math.PI)}const Oe=(X-we/B+(K+se/B))/2;if(u.arc(y,w,B,X-we/B,Oe,!0),u.arc(y,w,B,Oe,K+se/B,!0),se>0){const mt=Kr(Ie,nt,y,w);u.arc(mt.x,mt.y,se,nt+Math.PI,K-Ni)}const Je=Kr(be,K,y,w);if(u.lineTo(Je.x,Je.y),le>0){const mt=Kr(be,De,y,w);u.arc(mt.x,mt.y,le,K-Ni,De)}}else{u.moveTo(y,w);const ce=Math.cos(De)*O+y,Pe=Math.sin(De)*O+w;u.lineTo(ce,Pe);const Oe=Math.cos(Ge)*O+y,Je=Math.sin(Ge)*O+w;u.lineTo(Oe,Je)}u.closePath()}function tw(u,s,o,c,h){const{fullCircles:g,startAngle:y,circumference:w}=s;let S=s.endAngle;if(g){lh(u,s,o,c,S,h);for(let D=0;D<g;++D)u.fill();isNaN(w)||(S=y+(w%ci||ci))}return lh(u,s,o,c,S,h),u.fill(),S}function iw(u,s,o,c,h){const{fullCircles:g,startAngle:y,circumference:w,options:S}=s,{borderWidth:D,borderJoinStyle:A,borderDash:O,borderDashOffset:B}=S,H=S.borderAlign==="inner";if(!D)return;u.setLineDash(O||[]),u.lineDashOffset=B,H?(u.lineWidth=D*2,u.lineJoin=A||"round"):(u.lineWidth=D,u.lineJoin=A||"bevel");let q=s.endAngle;if(g){lh(u,s,o,c,q,h);for(let Q=0;Q<g;++Q)u.stroke();isNaN(w)||(q=y+(w%ci||ci))}H&&Jx(u,s,q),g||(lh(u,s,o,c,q,h),u.stroke())}class Au extends Oa{constructor(o){super();ae(this,"circumference");ae(this,"endAngle");ae(this,"fullCircles");ae(this,"innerRadius");ae(this,"outerRadius");ae(this,"pixelMargin");ae(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,o&&Object.assign(this,o)}inRange(o,c,h){const g=this.getProps(["x","y"],h),{angle:y,distance:w}=l0(g,{x:o,y:c}),{startAngle:S,endAngle:D,innerRadius:A,outerRadius:O,circumference:B}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],h),H=(this.options.spacing+this.options.borderWidth)/2,q=Et(B,D-S),Q=$u(y,S,D)&&S!==D,te=q>=ci||Q,K=Fa(w,A+H,O+H);return te&&K}getCenterPoint(o){const{x:c,y:h,startAngle:g,endAngle:y,innerRadius:w,outerRadius:S}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],o),{offset:D,spacing:A}=this.options,O=(g+y)/2,B=(w+S+A+D)/2;return{x:c+Math.cos(O)*B,y:h+Math.sin(O)*B}}tooltipPosition(o){return this.getCenterPoint(o)}draw(o){const{options:c,circumference:h}=this,g=(c.offset||0)/4,y=(c.spacing||0)/2,w=c.circular;if(this.pixelMargin=c.borderAlign==="inner"?.33:0,this.fullCircles=h>ci?Math.floor(h/ci):0,h===0||this.innerRadius<0||this.outerRadius<0)return;o.save();const S=(this.startAngle+this.endAngle)/2;o.translate(Math.cos(S)*g,Math.sin(S)*g);const D=1-Math.sin(Math.min(di,h||0)),A=g*D;o.fillStyle=c.backgroundColor,o.strokeStyle=c.borderColor,tw(o,this,A,y,w),iw(o,this,A,y,w),o.restore()}}ae(Au,"id","arc"),ae(Au,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ae(Au,"defaultRoutes",{backgroundColor:"backgroundColor"}),ae(Au,"descriptors",{_scriptable:!0,_indexable:o=>o!=="borderDash"});function W0(u,s,o=s){u.lineCap=Et(o.borderCapStyle,s.borderCapStyle),u.setLineDash(Et(o.borderDash,s.borderDash)),u.lineDashOffset=Et(o.borderDashOffset,s.borderDashOffset),u.lineJoin=Et(o.borderJoinStyle,s.borderJoinStyle),u.lineWidth=Et(o.borderWidth,s.borderWidth),u.strokeStyle=Et(o.borderColor,s.borderColor)}function nw(u,s,o){u.lineTo(o.x,o.y)}function sw(u){return u.stepped?E1:u.tension||u.cubicInterpolationMode==="monotone"?A1:nw}function j0(u,s,o={}){const c=u.length,{start:h=0,end:g=c-1}=o,{start:y,end:w}=s,S=Math.max(h,y),D=Math.min(g,w),A=h<y&&g<y||h>w&&g>w;return{count:c,start:S,loop:s.loop,ilen:D<S&&!A?c+D-S:D-S}}function aw(u,s,o,c){const{points:h,options:g}=s,{count:y,start:w,loop:S,ilen:D}=j0(h,o,c),A=sw(g);let{move:O=!0,reverse:B}=c||{},H,q,Q;for(H=0;H<=D;++H)q=h[(w+(B?D-H:H))%y],!q.skip&&(O?(u.moveTo(q.x,q.y),O=!1):A(u,Q,q,B,g.stepped),Q=q);return S&&(q=h[(w+(B?D:0))%y],A(u,Q,q,B,g.stepped)),!!S}function ow(u,s,o,c){const h=s.points,{count:g,start:y,ilen:w}=j0(h,o,c),{move:S=!0,reverse:D}=c||{};let A=0,O=0,B,H,q,Q,te,K;const X=ne=>(y+(D?w-ne:ne))%g,le=()=>{Q!==te&&(u.lineTo(A,te),u.lineTo(A,Q),u.lineTo(A,K))};for(S&&(H=h[X(0)],u.moveTo(H.x,H.y)),B=0;B<=w;++B){if(H=h[X(B)],H.skip)continue;const ne=H.x,se=H.y,we=ne|0;we===q?(se<Q?Q=se:se>te&&(te=se),A=(O*A+ne)/++O):(le(),u.lineTo(ne,se),q=we,O=0,Q=te=se),K=se}le()}function Xf(u){const s=u.options,o=s.borderDash&&s.borderDash.length;return!u._decimated&&!u._loop&&!s.tension&&s.cubicInterpolationMode!=="monotone"&&!s.stepped&&!o?ow:aw}function rw(u){return u.stepped?rC:u.tension||u.cubicInterpolationMode==="monotone"?lC:nr}function lw(u,s,o,c){let h=s._path;h||(h=s._path=new Path2D,s.path(h,o,c)&&h.closePath()),W0(u,s.options),u.stroke(h)}function uw(u,s,o,c){const{segments:h,options:g}=s,y=Xf(s);for(const w of h)W0(u,g,w.style),u.beginPath(),y(u,s,w,{start:o,end:o+c-1})&&u.closePath(),u.stroke()}const cw=typeof Path2D=="function";function dw(u,s,o,c){cw&&!s.options.segment?lw(u,s,o,c):uw(u,s,o,c)}class bo extends Oa{constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,o){const c=this.options;if((c.tension||c.cubicInterpolationMode==="monotone")&&!c.stepped&&!this._pointsUpdated){const h=c.spanGaps?this._loop:this._fullLoop;Q1(this._points,c,s,h,o),this._pointsUpdated=!0}}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pC(this,this.options.segment))}first(){const s=this.segments,o=this.points;return s.length&&o[s[0].start]}last(){const s=this.segments,o=this.points,c=s.length;return c&&o[s[c-1].end]}interpolate(s,o){const c=this.options,h=s[o],g=this.points,y=E0(this,{property:o,start:h,end:h});if(!y.length)return;const w=[],S=rw(c);let D,A;for(D=0,A=y.length;D<A;++D){const{start:O,end:B}=y[D],H=g[O],q=g[B];if(H===q){w.push(H);continue}const Q=Math.abs((h-H[o])/(q[o]-H[o])),te=S(H,q,Q,c.stepped);te[o]=s[o],w.push(te)}return w.length===1?w[0]:w}pathSegment(s,o,c){return Xf(this)(s,this,o,c)}path(s,o,c){const h=this.segments,g=Xf(this);let y=this._loop;o=o||0,c=c||this.points.length-o;for(const w of h)y&=g(s,this,w,{start:o,end:o+c-1});return!!y}draw(s,o,c,h){const g=this.options||{};(this.points||[]).length&&g.borderWidth&&(s.save(),dw(s,this,c,h),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ae(bo,"id","line"),ae(bo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ae(bo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ae(bo,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"&&s!=="fill"});function qm(u,s,o,c){const h=u.options,{[o]:g}=u.getProps([o],c);return Math.abs(s-g)<h.radius+h.hitRadius}class Qd extends Oa{constructor(o){super();ae(this,"parsed");ae(this,"skip");ae(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,o&&Object.assign(this,o)}inRange(o,c,h){const g=this.options,{x:y,y:w}=this.getProps(["x","y"],h);return Math.pow(o-y,2)+Math.pow(c-w,2)<Math.pow(g.hitRadius+g.radius,2)}inXRange(o,c){return qm(this,o,"x",c)}inYRange(o,c){return qm(this,o,"y",c)}getCenterPoint(o){const{x:c,y:h}=this.getProps(["x","y"],o);return{x:c,y:h}}size(o){o=o||this.options||{};let c=o.radius||0;c=Math.max(c,c&&o.hoverRadius||0);const h=c&&o.borderWidth||0;return(c+h)*2}draw(o,c){const h=this.options;this.skip||h.radius<.1||!La(this,c,this.size(h)/2)||(o.strokeStyle=h.borderColor,o.lineWidth=h.borderWidth,o.fillStyle=h.backgroundColor,Uf(o,h,this.x,this.y))}getRange(){const o=this.options||{};return o.radius+o.hitRadius}}ae(Qd,"id","point"),ae(Qd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ae(Qd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function U0(u,s){const{x:o,y:c,base:h,width:g,height:y}=u.getProps(["x","y","base","width","height"],s);let w,S,D,A,O;return u.horizontal?(O=y/2,w=Math.min(o,h),S=Math.max(o,h),D=c-O,A=c+O):(O=g/2,w=o-O,S=o+O,D=Math.min(c,h),A=Math.max(c,h)),{left:w,top:D,right:S,bottom:A}}function yo(u,s,o,c){return u?0:un(s,o,c)}function hw(u,s,o){const c=u.options.borderWidth,h=u.borderSkipped,g=v0(c);return{t:yo(h.top,g.top,0,o),r:yo(h.right,g.right,0,s),b:yo(h.bottom,g.bottom,0,o),l:yo(h.left,g.left,0,s)}}function fw(u,s,o){const{enableBorderRadius:c}=u.getProps(["enableBorderRadius"]),h=u.options.borderRadius,g=or(h),y=Math.min(s,o),w=u.borderSkipped,S=c||It(h);return{topLeft:yo(!S||w.top||w.left,g.topLeft,0,y),topRight:yo(!S||w.top||w.right,g.topRight,0,y),bottomLeft:yo(!S||w.bottom||w.left,g.bottomLeft,0,y),bottomRight:yo(!S||w.bottom||w.right,g.bottomRight,0,y)}}function pw(u){const s=U0(u),o=s.right-s.left,c=s.bottom-s.top,h=hw(u,o/2,c/2),g=fw(u,o/2,c/2);return{outer:{x:s.left,y:s.top,w:o,h:c,radius:g},inner:{x:s.left+h.l,y:s.top+h.t,w:o-h.l-h.r,h:c-h.t-h.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(h.t,h.l)),topRight:Math.max(0,g.topRight-Math.max(h.t,h.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(h.b,h.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(h.b,h.r))}}}}function Lf(u,s,o,c){const h=s===null,g=o===null,w=u&&!(h&&g)&&U0(u,c);return w&&(h||Fa(s,w.left,w.right))&&(g||Fa(o,w.top,w.bottom))}function mw(u){return u.topLeft||u.topRight||u.bottomLeft||u.bottomRight}function gw(u,s){u.rect(s.x,s.y,s.w,s.h)}function Of(u,s,o={}){const c=u.x!==o.x?-s:0,h=u.y!==o.y?-s:0,g=(u.x+u.w!==o.x+o.w?s:0)-c,y=(u.y+u.h!==o.y+o.h?s:0)-h;return{x:u.x+c,y:u.y+h,w:u.w+g,h:u.h+y,radius:u.radius}}class eh extends Oa{constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:o,options:{borderColor:c,backgroundColor:h}}=this,{inner:g,outer:y}=pw(this),w=mw(y.radius)?Vu:gw;s.save(),(y.w!==g.w||y.h!==g.h)&&(s.beginPath(),w(s,Of(y,o,g)),s.clip(),w(s,Of(g,-o,y)),s.fillStyle=c,s.fill("evenodd")),s.beginPath(),w(s,Of(g,o)),s.fillStyle=h,s.fill(),s.restore()}inRange(s,o,c){return Lf(this,s,o,c)}inXRange(s,o){return Lf(this,s,null,o)}inYRange(s,o){return Lf(this,null,s,o)}getCenterPoint(s){const{x:o,y:c,base:h,horizontal:g}=this.getProps(["x","y","base","horizontal"],s);return{x:g?(o+h)/2:o,y:g?c:(c+h)/2}}getRange(s){return s==="x"?this.width/2:this.height/2}}ae(eh,"id","bar"),ae(eh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ae(eh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var vw=Object.freeze({__proto__:null,ArcElement:Au,BarElement:eh,LineElement:bo,PointElement:Qd});const Kf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ym=Kf.map(u=>u.replace("rgb(","rgba(").replace(")",", 0.5)"));function q0(u){return Kf[u%Kf.length]}function Y0(u){return Ym[u%Ym.length]}function bw(u,s){return u.borderColor=q0(s),u.backgroundColor=Y0(s),++s}function yw(u,s){return u.backgroundColor=u.data.map(()=>q0(s++)),s}function _w(u,s){return u.backgroundColor=u.data.map(()=>Y0(s++)),s}function Cw(u){let s=0;return(o,c)=>{const h=u.getDatasetMeta(c).controller;h instanceof ar?s=yw(o,s):h instanceof Bu?s=_w(o,s):h&&(s=bw(o,s))}}function Gm(u){let s;for(s in u)if(u[s].borderColor||u[s].backgroundColor)return!0;return!1}function xw(u){return u&&(u.borderColor||u.backgroundColor)}function ww(){return _i.borderColor!=="rgba(0,0,0,0.1)"||_i.backgroundColor!=="rgba(0,0,0,0.1)"}var kw={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(u,s,o){if(!o.enabled)return;const{data:{datasets:c},options:h}=u.config,{elements:g}=h,y=Gm(c)||xw(h)||g&&Gm(g)||ww();if(!o.forceOverride&&y)return;const w=Cw(u);c.forEach(w)}};function Sw(u,s,o,c,h){const g=h.samples||c;if(g>=o)return u.slice(s,s+o);const y=[],w=(o-2)/(g-2);let S=0;const D=s+o-1;let A=s,O,B,H,q,Q;for(y[S++]=u[A],O=0;O<g-2;O++){let te=0,K=0,X;const le=Math.floor((O+1)*w)+1+s,ne=Math.min(Math.floor((O+2)*w)+1,o)+s,se=ne-le;for(X=le;X<ne;X++)te+=u[X].x,K+=u[X].y;te/=se,K/=se;const we=Math.floor(O*w)+1+s,be=Math.min(Math.floor((O+1)*w)+1,o)+s,{x:ve,y:De}=u[A];for(H=q=-1,X=we;X<be;X++)q=.5*Math.abs((ve-te)*(u[X].y-De)-(ve-u[X].x)*(K-De)),q>H&&(H=q,B=u[X],Q=X);y[S++]=B,A=Q}return y[S++]=u[D],y}function Dw(u,s,o,c){let h=0,g=0,y,w,S,D,A,O,B,H,q,Q;const te=[],K=s+o-1,X=u[s].x,ne=u[K].x-X;for(y=s;y<s+o;++y){w=u[y],S=(w.x-X)/ne*c,D=w.y;const se=S|0;if(se===A)D<q?(q=D,O=y):D>Q&&(Q=D,B=y),h=(g*h+w.x)/++g;else{const we=y-1;if(!Mt(O)&&!Mt(B)){const be=Math.min(O,B),ve=Math.max(O,B);be!==H&&be!==we&&te.push({...u[be],x:h}),ve!==H&&ve!==we&&te.push({...u[ve],x:h})}y>0&&we!==H&&te.push(u[we]),te.push(w),A=se,g=0,q=Q=D,O=B=H=y}}return te}function G0(u){if(u._decimated){const s=u._data;delete u._decimated,delete u._data,Object.defineProperty(u,"data",{configurable:!0,enumerable:!0,writable:!0,value:s})}}function Xm(u){u.data.datasets.forEach(s=>{G0(s)})}function Tw(u,s){const o=s.length;let c=0,h;const{iScale:g}=u,{min:y,max:w,minDefined:S,maxDefined:D}=g.getUserBounds();return S&&(c=un(Ia(s,g.axis,y).lo,0,o-1)),D?h=un(Ia(s,g.axis,w).hi+1,c,o)-c:h=o-c,{start:c,count:h}}var Ew={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(u,s,o)=>{if(!o.enabled){Xm(u);return}const c=u.width;u.data.datasets.forEach((h,g)=>{const{_data:y,indexAxis:w}=h,S=u.getDatasetMeta(g),D=y||h.data;if(Tu([w,u.options.indexAxis])==="y"||!S.controller.supportsDecimation)return;const A=u.scales[S.xAxisID];if(A.type!=="linear"&&A.type!=="time"||u.options.parsing)return;let{start:O,count:B}=Tw(S,D);const H=o.threshold||4*c;if(B<=H){G0(h);return}Mt(y)&&(h._data=D,delete h.data,Object.defineProperty(h,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Q){this._data=Q}}));let q;switch(o.algorithm){case"lttb":q=Sw(D,O,B,c,o);break;case"min-max":q=Dw(D,O,B,c);break;default:throw new Error(`Unsupported decimation algorithm '${o.algorithm}'`)}h._decimated=q})},destroy(u){Xm(u)}};function Aw(u,s,o){const c=u.segments,h=u.points,g=s.points,y=[];for(const w of c){let{start:S,end:D}=w;D=xp(S,D,h);const A=Zf(o,h[S],h[D],w.loop);if(!s.segments){y.push({source:w,target:A,start:h[S],end:h[D]});continue}const O=E0(s,A);for(const B of O){const H=Zf(o,g[B.start],g[B.end],B.loop),q=T0(w,h,H);for(const Q of q)y.push({source:Q,target:B,start:{[o]:Km(A,H,"start",Math.max)},end:{[o]:Km(A,H,"end",Math.min)}})}}return y}function Zf(u,s,o,c){if(c)return;let h=s[u],g=o[u];return u==="angle"&&(h=Xn(h),g=Xn(g)),{property:u,start:h,end:g}}function Mw(u,s){const{x:o=null,y:c=null}=u||{},h=s.points,g=[];return s.segments.forEach(({start:y,end:w})=>{w=xp(y,w,h);const S=h[y],D=h[w];c!==null?(g.push({x:S.x,y:c}),g.push({x:D.x,y:c})):o!==null&&(g.push({x:o,y:S.y}),g.push({x:o,y:D.y}))}),g}function xp(u,s,o){for(;s>u;s--){const c=o[s];if(!isNaN(c.x)&&!isNaN(c.y))break}return s}function Km(u,s,o,c){return u&&s?c(u[o],s[o]):u?u[o]:s?s[o]:0}function X0(u,s){let o=[],c=!1;return yi(u)?(c=!0,o=u):o=Mw(u,s),o.length?new bo({points:o,options:{tension:0},_loop:c,_fullLoop:c}):null}function Zm(u){return u&&u.fill!==!1}function Fw(u,s,o){let h=u[s].fill;const g=[s];let y;if(!o)return h;for(;h!==!1&&g.indexOf(h)===-1;){if(!Fi(h))return h;if(y=u[h],!y)return!1;if(y.visible)return h;g.push(h),h=y.fill}return!1}function Iw(u,s,o){const c=Bw(u);if(It(c))return isNaN(c.value)?!1:c;let h=parseFloat(c);return Fi(h)&&Math.floor(h)===h?Lw(c[0],s,h,o):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function Lw(u,s,o,c){return(u==="-"||u==="+")&&(o=s+o),o===s||o<0||o>=c?!1:o}function Ow(u,s){let o=null;return u==="start"?o=s.bottom:u==="end"?o=s.top:It(u)?o=s.getPixelForValue(u.value):s.getBasePixel&&(o=s.getBasePixel()),o}function Pw(u,s,o){let c;return u==="start"?c=o:u==="end"?c=s.options.reverse?s.min:s.max:It(u)?c=u.value:c=s.getBaseValue(),c}function Bw(u){const s=u.options,o=s.fill;let c=Et(o&&o.target,o);return c===void 0&&(c=!!s.backgroundColor),c===!1||c===null?!1:c===!0?"origin":c}function Nw(u){const{scale:s,index:o,line:c}=u,h=[],g=c.segments,y=c.points,w=Rw(s,o);w.push(X0({x:null,y:s.bottom},c));for(let S=0;S<g.length;S++){const D=g[S];for(let A=D.start;A<=D.end;A++)zw(h,y[A],w)}return new bo({points:h,options:{}})}function Rw(u,s){const o=[],c=u.getMatchingVisibleMetas("line");for(let h=0;h<c.length;h++){const g=c[h];if(g.index===s)break;g.hidden||o.unshift(g.dataset)}return o}function zw(u,s,o){const c=[];for(let h=0;h<o.length;h++){const g=o[h],{first:y,last:w,point:S}=Hw(g,s,"x");if(!(!S||y&&w)){if(y)c.unshift(S);else if(u.push(S),!w)break}}u.push(...c)}function Hw(u,s,o){const c=u.interpolate(s,o);if(!c)return{};const h=c[o],g=u.segments,y=u.points;let w=!1,S=!1;for(let D=0;D<g.length;D++){const A=g[D],O=y[A.start][o],B=y[A.end][o];if(Fa(h,O,B)){w=h===O,S=h===B;break}}return{first:w,last:S,point:c}}class K0{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,o,c){const{x:h,y:g,radius:y}=this;return o=o||{start:0,end:ci},s.arc(h,g,y,o.end,o.start,!0),!c.bounds}interpolate(s){const{x:o,y:c,radius:h}=this,g=s.angle;return{x:o+Math.cos(g)*h,y:c+Math.sin(g)*h,angle:g}}}function $w(u){const{chart:s,fill:o,line:c}=u;if(Fi(o))return Vw(s,o);if(o==="stack")return Nw(u);if(o==="shape")return!0;const h=Ww(u);return h instanceof K0?h:X0(h,c)}function Vw(u,s){const o=u.getDatasetMeta(s);return o&&u.isDatasetVisible(s)?o.dataset:null}function Ww(u){return(u.scale||{}).getPointPositionForValue?Uw(u):jw(u)}function jw(u){const{scale:s={},fill:o}=u,c=Ow(o,s);if(Fi(c)){const h=s.isHorizontal();return{x:h?c:null,y:h?null:c}}return null}function Uw(u){const{scale:s,fill:o}=u,c=s.options,h=s.getLabels().length,g=c.reverse?s.max:s.min,y=Pw(o,s,g),w=[];if(c.grid.circular){const S=s.getPointPositionForValue(0,g);return new K0({x:S.x,y:S.y,radius:s.getDistanceFromCenterForValue(y)})}for(let S=0;S<h;++S)w.push(s.getPointPositionForValue(S,y));return w}function Pf(u,s,o){const c=$w(s),{chart:h,index:g,line:y,scale:w,axis:S}=s,D=y.options,A=D.fill,O=D.backgroundColor,{above:B=O,below:H=O}=A||{},q=h.getDatasetMeta(g),Q=A0(h,q);c&&y.points.length&&(fh(u,o),qw(u,{line:y,target:c,above:B,below:H,area:o,scale:w,axis:S,clip:Q}),ph(u))}function qw(u,s){const{line:o,target:c,above:h,below:g,area:y,scale:w,clip:S}=s,D=o._loop?"angle":s.axis;u.save(),D==="x"&&g!==h&&(Jm(u,c,y.top),Qm(u,{line:o,target:c,color:h,scale:w,property:D,clip:S}),u.restore(),u.save(),Jm(u,c,y.bottom)),Qm(u,{line:o,target:c,color:g,scale:w,property:D,clip:S}),u.restore()}function Jm(u,s,o){const{segments:c,points:h}=s;let g=!0,y=!1;u.beginPath();for(const w of c){const{start:S,end:D}=w,A=h[S],O=h[xp(S,D,h)];g?(u.moveTo(A.x,A.y),g=!1):(u.lineTo(A.x,o),u.lineTo(A.x,A.y)),y=!!s.pathSegment(u,w,{move:y}),y?u.closePath():u.lineTo(O.x,o)}u.lineTo(s.first().x,o),u.closePath(),u.clip()}function Qm(u,s){const{line:o,target:c,property:h,color:g,scale:y,clip:w}=s,S=Aw(o,c,h);for(const{source:D,target:A,start:O,end:B}of S){const{style:{backgroundColor:H=g}={}}=D,q=c!==!0;u.save(),u.fillStyle=H,Yw(u,y,w,q&&Zf(h,O,B)),u.beginPath();const Q=!!o.pathSegment(u,D);let te;if(q){Q?u.closePath():eg(u,c,B,h);const K=!!c.pathSegment(u,A,{move:Q,reverse:!0});te=Q&&K,te||eg(u,c,O,h)}u.closePath(),u.fill(te?"evenodd":"nonzero"),u.restore()}}function Yw(u,s,o,c){const h=s.chart.chartArea,{property:g,start:y,end:w}=c||{};if(g==="x"||g==="y"){let S,D,A,O;g==="x"?(S=y,D=h.top,A=w,O=h.bottom):(S=h.left,D=y,A=h.right,O=w),u.beginPath(),o&&(S=Math.max(S,o.left),A=Math.min(A,o.right),D=Math.max(D,o.top),O=Math.min(O,o.bottom)),u.rect(S,D,A-S,O-D),u.clip()}}function eg(u,s,o,c){const h=s.interpolate(o,c);h&&u.lineTo(h.x,h.y)}var Gw={id:"filler",afterDatasetsUpdate(u,s,o){const c=(u.data.datasets||[]).length,h=[];let g,y,w,S;for(y=0;y<c;++y)g=u.getDatasetMeta(y),w=g.dataset,S=null,w&&w.options&&w instanceof bo&&(S={visible:u.isDatasetVisible(y),index:y,fill:Iw(w,y,c),chart:u,axis:g.controller.options.indexAxis,scale:g.vScale,line:w}),g.$filler=S,h.push(S);for(y=0;y<c;++y)S=h[y],!(!S||S.fill===!1)&&(S.fill=Fw(h,y,o.propagate))},beforeDraw(u,s,o){const c=o.drawTime==="beforeDraw",h=u.getSortedVisibleDatasetMetas(),g=u.chartArea;for(let y=h.length-1;y>=0;--y){const w=h[y].$filler;w&&(w.line.updateControlPoints(g,w.axis),c&&w.fill&&Pf(u.ctx,w,g))}},beforeDatasetsDraw(u,s,o){if(o.drawTime!=="beforeDatasetsDraw")return;const c=u.getSortedVisibleDatasetMetas();for(let h=c.length-1;h>=0;--h){const g=c[h].$filler;Zm(g)&&Pf(u.ctx,g,u.chartArea)}},beforeDatasetDraw(u,s,o){const c=s.meta.$filler;!Zm(c)||o.drawTime!=="beforeDatasetDraw"||Pf(u.ctx,c,u.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const tg=(u,s)=>{let{boxHeight:o=s,boxWidth:c=s}=u;return u.usePointStyle&&(o=Math.min(o,s),c=u.pointStyleWidth||Math.min(c,s)),{boxWidth:c,boxHeight:o,itemHeight:Math.max(s,o)}},Xw=(u,s)=>u!==null&&s!==null&&u.datasetIndex===s.datasetIndex&&u.index===s.index;class ig extends Oa{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,o,c){this.maxWidth=s,this.maxHeight=o,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let o=ri(s.generateLabels,[this.chart],this)||[];s.filter&&(o=o.filter(c=>s.filter(c,this.chart.data))),s.sort&&(o=o.sort((c,h)=>s.sort(c,h,this.chart.data))),this.options.reverse&&o.reverse(),this.legendItems=o}fit(){const{options:s,ctx:o}=this;if(!s.display){this.width=this.height=0;return}const c=s.labels,h=Ki(c.font),g=h.size,y=this._computeTitleHeight(),{boxWidth:w,itemHeight:S}=tg(c,g);let D,A;o.font=h.string,this.isHorizontal()?(D=this.maxWidth,A=this._fitRows(y,g,w,S)+10):(A=this.maxHeight,D=this._fitCols(y,h,w,S)+10),this.width=Math.min(D,s.maxWidth||this.maxWidth),this.height=Math.min(A,s.maxHeight||this.maxHeight)}_fitRows(s,o,c,h){const{ctx:g,maxWidth:y,options:{labels:{padding:w}}}=this,S=this.legendHitBoxes=[],D=this.lineWidths=[0],A=h+w;let O=s;g.textAlign="left",g.textBaseline="middle";let B=-1,H=-A;return this.legendItems.forEach((q,Q)=>{const te=c+o/2+g.measureText(q.text).width;(Q===0||D[D.length-1]+te+2*w>y)&&(O+=A,D[D.length-(Q>0?0:1)]=0,H+=A,B++),S[Q]={left:0,top:H,row:B,width:te,height:h},D[D.length-1]+=te+w}),O}_fitCols(s,o,c,h){const{ctx:g,maxHeight:y,options:{labels:{padding:w}}}=this,S=this.legendHitBoxes=[],D=this.columnSizes=[],A=y-s;let O=w,B=0,H=0,q=0,Q=0;return this.legendItems.forEach((te,K)=>{const{itemWidth:X,itemHeight:le}=Kw(c,o,g,te,h);K>0&&H+le+2*w>A&&(O+=B+w,D.push({width:B,height:H}),q+=B+w,Q++,B=H=0),S[K]={left:q,top:H,col:Q,width:X,height:le},B=Math.max(B,X),H+=le+w}),O+=B,D.push({width:B,height:H}),O}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:o,options:{align:c,labels:{padding:h},rtl:g}}=this,y=Jr(g,this.left,this.width);if(this.isHorizontal()){let w=0,S=kn(c,this.left+h,this.right-this.lineWidths[w]);for(const D of o)w!==D.row&&(w=D.row,S=kn(c,this.left+h,this.right-this.lineWidths[w])),D.top+=this.top+s+h,D.left=y.leftForLtr(y.x(S),D.width),S+=D.width+h}else{let w=0,S=kn(c,this.top+s+h,this.bottom-this.columnSizes[w].height);for(const D of o)D.col!==w&&(w=D.col,S=kn(c,this.top+s+h,this.bottom-this.columnSizes[w].height)),D.top=S,D.left+=this.left+h,D.left=y.leftForLtr(y.x(D.left),D.width),S+=D.height+h}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const s=this.ctx;fh(s,this),this._draw(),ph(s)}}_draw(){const{options:s,columnSizes:o,lineWidths:c,ctx:h}=this,{align:g,labels:y}=s,w=_i.color,S=Jr(s.rtl,this.left,this.width),D=Ki(y.font),{padding:A}=y,O=D.size,B=O/2;let H;this.drawTitle(),h.textAlign=S.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.font=D.string;const{boxWidth:q,boxHeight:Q,itemHeight:te}=tg(y,O),K=function(we,be,ve){if(isNaN(q)||q<=0||isNaN(Q)||Q<0)return;h.save();const De=Et(ve.lineWidth,1);if(h.fillStyle=Et(ve.fillStyle,w),h.lineCap=Et(ve.lineCap,"butt"),h.lineDashOffset=Et(ve.lineDashOffset,0),h.lineJoin=Et(ve.lineJoin,"miter"),h.lineWidth=De,h.strokeStyle=Et(ve.strokeStyle,w),h.setLineDash(Et(ve.lineDash,[])),y.usePointStyle){const Ge={radius:Q*Math.SQRT2/2,pointStyle:ve.pointStyle,rotation:ve.rotation,borderWidth:De},Ie=S.xPlus(we,q/2),Ue=be+B;g0(h,Ge,Ie,Ue,y.pointStyleWidth&&q)}else{const Ge=be+Math.max((O-Q)/2,0),Ie=S.leftForLtr(we,q),Ue=or(ve.borderRadius);h.beginPath(),Object.values(Ue).some(nt=>nt!==0)?Vu(h,{x:Ie,y:Ge,w:q,h:Q,radius:Ue}):h.rect(Ie,Ge,q,Q),h.fill(),De!==0&&h.stroke()}h.restore()},X=function(we,be,ve){ur(h,ve.text,we,be+te/2,D,{strikethrough:ve.hidden,textAlign:S.textAlign(ve.textAlign)})},le=this.isHorizontal(),ne=this._computeTitleHeight();le?H={x:kn(g,this.left+A,this.right-c[0]),y:this.top+A+ne,line:0}:H={x:this.left+A,y:kn(g,this.top+ne+A,this.bottom-o[0].height),line:0},k0(this.ctx,s.textDirection);const se=te+A;this.legendItems.forEach((we,be)=>{h.strokeStyle=we.fontColor,h.fillStyle=we.fontColor;const ve=h.measureText(we.text).width,De=S.textAlign(we.textAlign||(we.textAlign=y.textAlign)),Ge=q+B+ve;let Ie=H.x,Ue=H.y;S.setWidth(this.width),le?be>0&&Ie+Ge+A>this.right&&(Ue=H.y+=se,H.line++,Ie=H.x=kn(g,this.left+A,this.right-c[H.line])):be>0&&Ue+se>this.bottom&&(Ie=H.x=Ie+o[H.line].width+A,H.line++,Ue=H.y=kn(g,this.top+ne+A,this.bottom-o[H.line].height));const nt=S.x(Ie);if(K(nt,Ue,we),Ie=v1(De,Ie+q+B,le?Ie+Ge:this.right,s.rtl),X(S.x(Ie),Ue,we),le)H.x+=Ge+A;else if(typeof we.text!="string"){const rt=D.lineHeight;H.y+=Z0(we,rt)+A}else H.y+=se}),S0(this.ctx,s.textDirection)}drawTitle(){const s=this.options,o=s.title,c=Ki(o.font),h=Dn(o.padding);if(!o.display)return;const g=Jr(s.rtl,this.left,this.width),y=this.ctx,w=o.position,S=c.size/2,D=h.top+S;let A,O=this.left,B=this.width;if(this.isHorizontal())B=Math.max(...this.lineWidths),A=this.top+D,O=kn(s.align,O,this.right-B);else{const q=this.columnSizes.reduce((Q,te)=>Math.max(Q,te.height),0);A=D+kn(s.align,this.top,this.bottom-q-s.labels.padding-this._computeTitleHeight())}const H=kn(w,O,O+B);y.textAlign=g.textAlign(fp(w)),y.textBaseline="middle",y.strokeStyle=o.color,y.fillStyle=o.color,y.font=c.string,ur(y,o.text,H,A,c)}_computeTitleHeight(){const s=this.options.title,o=Ki(s.font),c=Dn(s.padding);return s.display?o.lineHeight+c.height:0}_getLegendItemAt(s,o){let c,h,g;if(Fa(s,this.left,this.right)&&Fa(o,this.top,this.bottom)){for(g=this.legendHitBoxes,c=0;c<g.length;++c)if(h=g[c],Fa(s,h.left,h.left+h.width)&&Fa(o,h.top,h.top+h.height))return this.legendItems[c]}return null}handleEvent(s){const o=this.options;if(!Qw(s.type,o))return;const c=this._getLegendItemAt(s.x,s.y);if(s.type==="mousemove"||s.type==="mouseout"){const h=this._hoveredItem,g=Xw(h,c);h&&!g&&ri(o.onLeave,[s,h,this],this),this._hoveredItem=c,c&&!g&&ri(o.onHover,[s,c,this],this)}else c&&ri(o.onClick,[s,c,this],this)}}function Kw(u,s,o,c,h){const g=Zw(c,u,s,o),y=Jw(h,c,s.lineHeight);return{itemWidth:g,itemHeight:y}}function Zw(u,s,o,c){let h=u.text;return h&&typeof h!="string"&&(h=h.reduce((g,y)=>g.length>y.length?g:y)),s+o.size/2+c.measureText(h).width}function Jw(u,s,o){let c=u;return typeof s.text!="string"&&(c=Z0(s,o)),c}function Z0(u,s){const o=u.text?u.text.length:0;return s*o}function Qw(u,s){return!!((u==="mousemove"||u==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(u==="click"||u==="mouseup"))}var ek={id:"legend",_element:ig,start(u,s,o){const c=u.legend=new ig({ctx:u.ctx,options:o,chart:u});Sn.configure(u,c,o),Sn.addBox(u,c)},stop(u){Sn.removeBox(u,u.legend),delete u.legend},beforeUpdate(u,s,o){const c=u.legend;Sn.configure(u,c,o),c.options=o},afterUpdate(u){const s=u.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(u,s){s.replay||u.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(u,s,o){const c=s.datasetIndex,h=o.chart;h.isDatasetVisible(c)?(h.hide(c),s.hidden=!0):(h.show(c),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:u=>u.chart.options.color,boxWidth:40,padding:10,generateLabels(u){const s=u.data.datasets,{labels:{usePointStyle:o,pointStyle:c,textAlign:h,color:g,useBorderRadius:y,borderRadius:w}}=u.legend.options;return u._getSortedDatasetMetas().map(S=>{const D=S.controller.getStyle(o?0:void 0),A=Dn(D.borderWidth);return{text:s[S.index].label,fillStyle:D.backgroundColor,fontColor:g,hidden:!S.visible,lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:D.borderColor,pointStyle:c||D.pointStyle,rotation:D.rotation,textAlign:h||D.textAlign,borderRadius:y&&(w||D.borderRadius),datasetIndex:S.index}},this)}},title:{color:u=>u.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:u=>!u.startsWith("on"),labels:{_scriptable:u=>!["generateLabels","filter","sort"].includes(u)}}};class wp extends Oa{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,o){const c=this.options;if(this.left=0,this.top=0,!c.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=s,this.height=this.bottom=o;const h=yi(c.text)?c.text.length:1;this._padding=Dn(c.padding);const g=h*Ki(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=g:this.width=g}isHorizontal(){const s=this.options.position;return s==="top"||s==="bottom"}_drawArgs(s){const{top:o,left:c,bottom:h,right:g,options:y}=this,w=y.align;let S=0,D,A,O;return this.isHorizontal()?(A=kn(w,c,g),O=o+s,D=g-c):(y.position==="left"?(A=c+s,O=kn(w,h,o),S=di*-.5):(A=g-s,O=kn(w,o,h),S=di*.5),D=h-o),{titleX:A,titleY:O,maxWidth:D,rotation:S}}draw(){const s=this.ctx,o=this.options;if(!o.display)return;const c=Ki(o.font),g=c.lineHeight/2+this._padding.top,{titleX:y,titleY:w,maxWidth:S,rotation:D}=this._drawArgs(g);ur(s,o.text,0,0,c,{color:o.color,maxWidth:S,rotation:D,textAlign:fp(o.align),textBaseline:"middle",translation:[y,w]})}}function tk(u,s){const o=new wp({ctx:u.ctx,options:s,chart:u});Sn.configure(u,o,s),Sn.addBox(u,o),u.titleBlock=o}var ik={id:"title",_element:wp,start(u,s,o){tk(u,o)},stop(u){const s=u.titleBlock;Sn.removeBox(u,s),delete u.titleBlock},beforeUpdate(u,s,o){const c=u.titleBlock;Sn.configure(u,c,o),c.options=o},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $d=new WeakMap;var nk={id:"subtitle",start(u,s,o){const c=new wp({ctx:u.ctx,options:o,chart:u});Sn.configure(u,c,o),Sn.addBox(u,c),$d.set(u,c)},stop(u){Sn.removeBox(u,$d.get(u)),$d.delete(u)},beforeUpdate(u,s,o){const c=$d.get(u);Sn.configure(u,c,o),c.options=o},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mu={average(u){if(!u.length)return!1;let s,o,c=new Set,h=0,g=0;for(s=0,o=u.length;s<o;++s){const w=u[s].element;if(w&&w.hasValue()){const S=w.tooltipPosition();c.add(S.x),h+=S.y,++g}}return g===0||c.size===0?!1:{x:[...c].reduce((w,S)=>w+S)/c.size,y:h/g}},nearest(u,s){if(!u.length)return!1;let o=s.x,c=s.y,h=Number.POSITIVE_INFINITY,g,y,w;for(g=0,y=u.length;g<y;++g){const S=u[g].element;if(S&&S.hasValue()){const D=S.getCenterPoint(),A=Wf(s,D);A<h&&(h=A,w=S)}}if(w){const S=w.tooltipPosition();o=S.x,c=S.y}return{x:o,y:c}}};function Xs(u,s){return s&&(yi(s)?Array.prototype.push.apply(u,s):u.push(s)),u}function Ea(u){return(typeof u=="string"||u instanceof String)&&u.indexOf(`
`)>-1?u.split(`
`):u}function sk(u,s){const{element:o,datasetIndex:c,index:h}=s,g=u.getDatasetMeta(c).controller,{label:y,value:w}=g.getLabelAndValue(h);return{chart:u,label:y,parsed:g.getParsed(h),raw:u.data.datasets[c].data[h],formattedValue:w,dataset:g.getDataset(),dataIndex:h,datasetIndex:c,element:o}}function ng(u,s){const o=u.chart.ctx,{body:c,footer:h,title:g}=u,{boxWidth:y,boxHeight:w}=s,S=Ki(s.bodyFont),D=Ki(s.titleFont),A=Ki(s.footerFont),O=g.length,B=h.length,H=c.length,q=Dn(s.padding);let Q=q.height,te=0,K=c.reduce((ne,se)=>ne+se.before.length+se.lines.length+se.after.length,0);if(K+=u.beforeBody.length+u.afterBody.length,O&&(Q+=O*D.lineHeight+(O-1)*s.titleSpacing+s.titleMarginBottom),K){const ne=s.displayColors?Math.max(w,S.lineHeight):S.lineHeight;Q+=H*ne+(K-H)*S.lineHeight+(K-1)*s.bodySpacing}B&&(Q+=s.footerMarginTop+B*A.lineHeight+(B-1)*s.footerSpacing);let X=0;const le=function(ne){te=Math.max(te,o.measureText(ne).width+X)};return o.save(),o.font=D.string,Qt(u.title,le),o.font=S.string,Qt(u.beforeBody.concat(u.afterBody),le),X=s.displayColors?y+2+s.boxPadding:0,Qt(c,ne=>{Qt(ne.before,le),Qt(ne.lines,le),Qt(ne.after,le)}),X=0,o.font=A.string,Qt(u.footer,le),o.restore(),te+=q.width,{width:te,height:Q}}function ak(u,s){const{y:o,height:c}=s;return o<c/2?"top":o>u.height-c/2?"bottom":"center"}function ok(u,s,o,c){const{x:h,width:g}=c,y=o.caretSize+o.caretPadding;if(u==="left"&&h+g+y>s.width||u==="right"&&h-g-y<0)return!0}function rk(u,s,o,c){const{x:h,width:g}=o,{width:y,chartArea:{left:w,right:S}}=u;let D="center";return c==="center"?D=h<=(w+S)/2?"left":"right":h<=g/2?D="left":h>=y-g/2&&(D="right"),ok(D,u,s,o)&&(D="center"),D}function sg(u,s,o){const c=o.yAlign||s.yAlign||ak(u,o);return{xAlign:o.xAlign||s.xAlign||rk(u,s,o,c),yAlign:c}}function lk(u,s){let{x:o,width:c}=u;return s==="right"?o-=c:s==="center"&&(o-=c/2),o}function uk(u,s,o){let{y:c,height:h}=u;return s==="top"?c+=o:s==="bottom"?c-=h+o:c-=h/2,c}function ag(u,s,o,c){const{caretSize:h,caretPadding:g,cornerRadius:y}=u,{xAlign:w,yAlign:S}=o,D=h+g,{topLeft:A,topRight:O,bottomLeft:B,bottomRight:H}=or(y);let q=lk(s,w);const Q=uk(s,S,D);return S==="center"?w==="left"?q+=D:w==="right"&&(q-=D):w==="left"?q-=Math.max(A,B)+h:w==="right"&&(q+=Math.max(O,H)+h),{x:un(q,0,c.width-s.width),y:un(Q,0,c.height-s.height)}}function Vd(u,s,o){const c=Dn(o.padding);return s==="center"?u.x+u.width/2:s==="right"?u.x+u.width-c.right:u.x+c.left}function og(u){return Xs([],Ea(u))}function ck(u,s,o){return wo(u,{tooltip:s,tooltipItems:o,type:"tooltip"})}function rg(u,s){const o=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return o?u.override(o):u}const J0={beforeTitle:Da,title(u){if(u.length>0){const s=u[0],o=s.chart.data.labels,c=o?o.length:0;if(this&&this.options&&this.options.mode==="dataset")return s.dataset.label||"";if(s.label)return s.label;if(c>0&&s.dataIndex<c)return o[s.dataIndex]}return""},afterTitle:Da,beforeBody:Da,beforeLabel:Da,label(u){if(this&&this.options&&this.options.mode==="dataset")return u.label+": "+u.formattedValue||u.formattedValue;let s=u.dataset.label||"";s&&(s+=": ");const o=u.formattedValue;return Mt(o)||(s+=o),s},labelColor(u){const o=u.chart.getDatasetMeta(u.datasetIndex).controller.getStyle(u.dataIndex);return{borderColor:o.borderColor,backgroundColor:o.backgroundColor,borderWidth:o.borderWidth,borderDash:o.borderDash,borderDashOffset:o.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(u){const o=u.chart.getDatasetMeta(u.datasetIndex).controller.getStyle(u.dataIndex);return{pointStyle:o.pointStyle,rotation:o.rotation}},afterLabel:Da,afterBody:Da,beforeFooter:Da,footer:Da,afterFooter:Da};function Bn(u,s,o,c){const h=u[s].call(o,c);return typeof h>"u"?J0[s].call(o,c):h}class Jf extends Oa{constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const o=this.chart,c=this.options.setContext(this.getContext()),h=c.enabled&&o.options.animation&&c.animations,g=new M0(this.chart,h);return h._cacheable&&(this._cachedAnimations=Object.freeze(g)),g}getContext(){return this.$context||(this.$context=ck(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,o){const{callbacks:c}=o,h=Bn(c,"beforeTitle",this,s),g=Bn(c,"title",this,s),y=Bn(c,"afterTitle",this,s);let w=[];return w=Xs(w,Ea(h)),w=Xs(w,Ea(g)),w=Xs(w,Ea(y)),w}getBeforeBody(s,o){return og(Bn(o.callbacks,"beforeBody",this,s))}getBody(s,o){const{callbacks:c}=o,h=[];return Qt(s,g=>{const y={before:[],lines:[],after:[]},w=rg(c,g);Xs(y.before,Ea(Bn(w,"beforeLabel",this,g))),Xs(y.lines,Bn(w,"label",this,g)),Xs(y.after,Ea(Bn(w,"afterLabel",this,g))),h.push(y)}),h}getAfterBody(s,o){return og(Bn(o.callbacks,"afterBody",this,s))}getFooter(s,o){const{callbacks:c}=o,h=Bn(c,"beforeFooter",this,s),g=Bn(c,"footer",this,s),y=Bn(c,"afterFooter",this,s);let w=[];return w=Xs(w,Ea(h)),w=Xs(w,Ea(g)),w=Xs(w,Ea(y)),w}_createItems(s){const o=this._active,c=this.chart.data,h=[],g=[],y=[];let w=[],S,D;for(S=0,D=o.length;S<D;++S)w.push(sk(this.chart,o[S]));return s.filter&&(w=w.filter((A,O,B)=>s.filter(A,O,B,c))),s.itemSort&&(w=w.sort((A,O)=>s.itemSort(A,O,c))),Qt(w,A=>{const O=rg(s.callbacks,A);h.push(Bn(O,"labelColor",this,A)),g.push(Bn(O,"labelPointStyle",this,A)),y.push(Bn(O,"labelTextColor",this,A))}),this.labelColors=h,this.labelPointStyles=g,this.labelTextColors=y,this.dataPoints=w,w}update(s,o){const c=this.options.setContext(this.getContext()),h=this._active;let g,y=[];if(!h.length)this.opacity!==0&&(g={opacity:0});else{const w=Mu[c.position].call(this,h,this._eventPosition);y=this._createItems(c),this.title=this.getTitle(y,c),this.beforeBody=this.getBeforeBody(y,c),this.body=this.getBody(y,c),this.afterBody=this.getAfterBody(y,c),this.footer=this.getFooter(y,c);const S=this._size=ng(this,c),D=Object.assign({},w,S),A=sg(this.chart,c,D),O=ag(c,D,A,this.chart);this.xAlign=A.xAlign,this.yAlign=A.yAlign,g={opacity:1,x:O.x,y:O.y,width:S.width,height:S.height,caretX:w.x,caretY:w.y}}this._tooltipItems=y,this.$context=void 0,g&&this._resolveAnimations().update(this,g),s&&c.external&&c.external.call(this,{chart:this.chart,tooltip:this,replay:o})}drawCaret(s,o,c,h){const g=this.getCaretPosition(s,c,h);o.lineTo(g.x1,g.y1),o.lineTo(g.x2,g.y2),o.lineTo(g.x3,g.y3)}getCaretPosition(s,o,c){const{xAlign:h,yAlign:g}=this,{caretSize:y,cornerRadius:w}=c,{topLeft:S,topRight:D,bottomLeft:A,bottomRight:O}=or(w),{x:B,y:H}=s,{width:q,height:Q}=o;let te,K,X,le,ne,se;return g==="center"?(ne=H+Q/2,h==="left"?(te=B,K=te-y,le=ne+y,se=ne-y):(te=B+q,K=te+y,le=ne-y,se=ne+y),X=te):(h==="left"?K=B+Math.max(S,A)+y:h==="right"?K=B+q-Math.max(D,O)-y:K=this.caretX,g==="top"?(le=H,ne=le-y,te=K-y,X=K+y):(le=H+Q,ne=le+y,te=K+y,X=K-y),se=le),{x1:te,x2:K,x3:X,y1:le,y2:ne,y3:se}}drawTitle(s,o,c){const h=this.title,g=h.length;let y,w,S;if(g){const D=Jr(c.rtl,this.x,this.width);for(s.x=Vd(this,c.titleAlign,c),o.textAlign=D.textAlign(c.titleAlign),o.textBaseline="middle",y=Ki(c.titleFont),w=c.titleSpacing,o.fillStyle=c.titleColor,o.font=y.string,S=0;S<g;++S)o.fillText(h[S],D.x(s.x),s.y+y.lineHeight/2),s.y+=y.lineHeight+w,S+1===g&&(s.y+=c.titleMarginBottom-w)}}_drawColorBox(s,o,c,h,g){const y=this.labelColors[c],w=this.labelPointStyles[c],{boxHeight:S,boxWidth:D}=g,A=Ki(g.bodyFont),O=Vd(this,"left",g),B=h.x(O),H=S<A.lineHeight?(A.lineHeight-S)/2:0,q=o.y+H;if(g.usePointStyle){const Q={radius:Math.min(D,S)/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:1},te=h.leftForLtr(B,D)+D/2,K=q+S/2;s.strokeStyle=g.multiKeyBackground,s.fillStyle=g.multiKeyBackground,Uf(s,Q,te,K),s.strokeStyle=y.borderColor,s.fillStyle=y.backgroundColor,Uf(s,Q,te,K)}else{s.lineWidth=It(y.borderWidth)?Math.max(...Object.values(y.borderWidth)):y.borderWidth||1,s.strokeStyle=y.borderColor,s.setLineDash(y.borderDash||[]),s.lineDashOffset=y.borderDashOffset||0;const Q=h.leftForLtr(B,D),te=h.leftForLtr(h.xPlus(B,1),D-2),K=or(y.borderRadius);Object.values(K).some(X=>X!==0)?(s.beginPath(),s.fillStyle=g.multiKeyBackground,Vu(s,{x:Q,y:q,w:D,h:S,radius:K}),s.fill(),s.stroke(),s.fillStyle=y.backgroundColor,s.beginPath(),Vu(s,{x:te,y:q+1,w:D-2,h:S-2,radius:K}),s.fill()):(s.fillStyle=g.multiKeyBackground,s.fillRect(Q,q,D,S),s.strokeRect(Q,q,D,S),s.fillStyle=y.backgroundColor,s.fillRect(te,q+1,D-2,S-2))}s.fillStyle=this.labelTextColors[c]}drawBody(s,o,c){const{body:h}=this,{bodySpacing:g,bodyAlign:y,displayColors:w,boxHeight:S,boxWidth:D,boxPadding:A}=c,O=Ki(c.bodyFont);let B=O.lineHeight,H=0;const q=Jr(c.rtl,this.x,this.width),Q=function(ve){o.fillText(ve,q.x(s.x+H),s.y+B/2),s.y+=B+g},te=q.textAlign(y);let K,X,le,ne,se,we,be;for(o.textAlign=y,o.textBaseline="middle",o.font=O.string,s.x=Vd(this,te,c),o.fillStyle=c.bodyColor,Qt(this.beforeBody,Q),H=w&&te!=="right"?y==="center"?D/2+A:D+2+A:0,ne=0,we=h.length;ne<we;++ne){for(K=h[ne],X=this.labelTextColors[ne],o.fillStyle=X,Qt(K.before,Q),le=K.lines,w&&le.length&&(this._drawColorBox(o,s,ne,q,c),B=Math.max(O.lineHeight,S)),se=0,be=le.length;se<be;++se)Q(le[se]),B=O.lineHeight;Qt(K.after,Q)}H=0,B=O.lineHeight,Qt(this.afterBody,Q),s.y-=g}drawFooter(s,o,c){const h=this.footer,g=h.length;let y,w;if(g){const S=Jr(c.rtl,this.x,this.width);for(s.x=Vd(this,c.footerAlign,c),s.y+=c.footerMarginTop,o.textAlign=S.textAlign(c.footerAlign),o.textBaseline="middle",y=Ki(c.footerFont),o.fillStyle=c.footerColor,o.font=y.string,w=0;w<g;++w)o.fillText(h[w],S.x(s.x),s.y+y.lineHeight/2),s.y+=y.lineHeight+c.footerSpacing}}drawBackground(s,o,c,h){const{xAlign:g,yAlign:y}=this,{x:w,y:S}=s,{width:D,height:A}=c,{topLeft:O,topRight:B,bottomLeft:H,bottomRight:q}=or(h.cornerRadius);o.fillStyle=h.backgroundColor,o.strokeStyle=h.borderColor,o.lineWidth=h.borderWidth,o.beginPath(),o.moveTo(w+O,S),y==="top"&&this.drawCaret(s,o,c,h),o.lineTo(w+D-B,S),o.quadraticCurveTo(w+D,S,w+D,S+B),y==="center"&&g==="right"&&this.drawCaret(s,o,c,h),o.lineTo(w+D,S+A-q),o.quadraticCurveTo(w+D,S+A,w+D-q,S+A),y==="bottom"&&this.drawCaret(s,o,c,h),o.lineTo(w+H,S+A),o.quadraticCurveTo(w,S+A,w,S+A-H),y==="center"&&g==="left"&&this.drawCaret(s,o,c,h),o.lineTo(w,S+O),o.quadraticCurveTo(w,S,w+O,S),o.closePath(),o.fill(),h.borderWidth>0&&o.stroke()}_updateAnimationTarget(s){const o=this.chart,c=this.$animations,h=c&&c.x,g=c&&c.y;if(h||g){const y=Mu[s.position].call(this,this._active,this._eventPosition);if(!y)return;const w=this._size=ng(this,s),S=Object.assign({},y,this._size),D=sg(o,s,S),A=ag(s,S,D,o);(h._to!==A.x||g._to!==A.y)&&(this.xAlign=D.xAlign,this.yAlign=D.yAlign,this.width=w.width,this.height=w.height,this.caretX=y.x,this.caretY=y.y,this._resolveAnimations().update(this,A))}}_willRender(){return!!this.opacity}draw(s){const o=this.options.setContext(this.getContext());let c=this.opacity;if(!c)return;this._updateAnimationTarget(o);const h={width:this.width,height:this.height},g={x:this.x,y:this.y};c=Math.abs(c)<.001?0:c;const y=Dn(o.padding),w=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;o.enabled&&w&&(s.save(),s.globalAlpha=c,this.drawBackground(g,s,h,o),k0(s,o.textDirection),g.y+=y.top,this.drawTitle(g,s,o),this.drawBody(g,s,o),this.drawFooter(g,s,o),S0(s,o.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,o){const c=this._active,h=s.map(({datasetIndex:w,index:S})=>{const D=this.chart.getDatasetMeta(w);if(!D)throw new Error("Cannot find a dataset at index "+w);return{datasetIndex:w,element:D.data[S],index:S}}),g=!ih(c,h),y=this._positionChanged(h,o);(g||y)&&(this._active=h,this._eventPosition=o,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,o,c=!0){if(o&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const h=this.options,g=this._active||[],y=this._getActiveElements(s,g,o,c),w=this._positionChanged(y,s),S=o||!ih(y,g)||w;return S&&(this._active=y,(h.enabled||h.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,o))),S}_getActiveElements(s,o,c,h){const g=this.options;if(s.type==="mouseout")return[];if(!h)return o.filter(w=>this.chart.data.datasets[w.datasetIndex]&&this.chart.getDatasetMeta(w.datasetIndex).controller.getParsed(w.index)!==void 0);const y=this.chart.getElementsAtEventForMode(s,g.mode,g,c);return g.reverse&&y.reverse(),y}_positionChanged(s,o){const{caretX:c,caretY:h,options:g}=this,y=Mu[g.position].call(this,s,o);return y!==!1&&(c!==y.x||h!==y.y)}}ae(Jf,"positioners",Mu);var dk={id:"tooltip",_element:Jf,positioners:Mu,afterInit(u,s,o){o&&(u.tooltip=new Jf({chart:u,options:o}))},beforeUpdate(u,s,o){u.tooltip&&u.tooltip.initialize(o)},reset(u,s,o){u.tooltip&&u.tooltip.initialize(o)},afterDraw(u){const s=u.tooltip;if(s&&s._willRender()){const o={tooltip:s};if(u.notifyPlugins("beforeTooltipDraw",{...o,cancelable:!0})===!1)return;s.draw(u.ctx),u.notifyPlugins("afterTooltipDraw",o)}},afterEvent(u,s){if(u.tooltip){const o=s.replay;u.tooltip.handleEvent(s.event,o,s.inChartArea)&&(s.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(u,s)=>s.bodyFont.size,boxWidth:(u,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:J0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:u=>u!=="filter"&&u!=="itemSort"&&u!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},hk=Object.freeze({__proto__:null,Colors:kw,Decimation:Ew,Filler:Gw,Legend:ek,SubTitle:nk,Title:ik,Tooltip:dk});const fk=(u,s,o,c)=>(typeof s=="string"?(o=u.push(s)-1,c.unshift({index:o,label:s})):isNaN(s)&&(o=null),o);function pk(u,s,o,c){const h=u.indexOf(s);if(h===-1)return fk(u,s,o,c);const g=u.lastIndexOf(s);return h!==g?o:h}const mk=(u,s)=>u===null?null:un(Math.round(u),0,s);function lg(u){const s=this.getLabels();return u>=0&&u<s.length?s[u]:u}class Qf extends cr{constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const o=this._addedLabels;if(o.length){const c=this.getLabels();for(const{index:h,label:g}of o)c[h]===g&&c.splice(h,1);this._addedLabels=[]}super.init(s)}parse(s,o){if(Mt(s))return null;const c=this.getLabels();return o=isFinite(o)&&c[o]===s?o:pk(c,s,Et(o,s),this._addedLabels),mk(o,c.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:o}=this.getUserBounds();let{min:c,max:h}=this.getMinMax(!0);this.options.bounds==="ticks"&&(s||(c=0),o||(h=this.getLabels().length-1)),this.min=c,this.max=h}buildTicks(){const s=this.min,o=this.max,c=this.options.offset,h=[];let g=this.getLabels();g=s===0&&o===g.length-1?g:g.slice(s,o+1),this._valueRange=Math.max(g.length-(c?0:1),1),this._startValue=this.min-(c?.5:0);for(let y=s;y<=o;y++)h.push({value:y});return h}getLabelForValue(s){return lg.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return typeof s!="number"&&(s=this.parse(s)),s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const o=this.ticks;return s<0||s>o.length-1?null:this.getPixelForValue(o[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}ae(Qf,"id","category"),ae(Qf,"defaults",{ticks:{callback:lg}});function gk(u,s){const o=[],{bounds:h,step:g,min:y,max:w,precision:S,count:D,maxTicks:A,maxDigits:O,includeBounds:B}=u,H=g||1,q=A-1,{min:Q,max:te}=s,K=!Mt(y),X=!Mt(w),le=!Mt(D),ne=(te-Q)/(O+1);let se=nm((te-Q)/q/H)*H,we,be,ve,De;if(se<1e-14&&!K&&!X)return[{value:Q},{value:te}];De=Math.ceil(te/se)-Math.floor(Q/se),De>q&&(se=nm(De*se/q/H)*H),Mt(S)||(we=Math.pow(10,S),se=Math.ceil(se*we)/we),h==="ticks"?(be=Math.floor(Q/se)*se,ve=Math.ceil(te/se)*se):(be=Q,ve=te),K&&X&&g&&c1((w-y)/g,se/1e3)?(De=Math.round(Math.min((w-y)/se,A)),se=(w-y)/De,be=y,ve=w):le?(be=K?y:be,ve=X?w:ve,De=D-1,se=(ve-be)/De):(De=(ve-be)/se,Lu(De,Math.round(De),se/1e3)?De=Math.round(De):De=Math.ceil(De));const Ge=Math.max(sm(se),sm(be));we=Math.pow(10,Mt(S)?Ge:S),be=Math.round(be*we)/we,ve=Math.round(ve*we)/we;let Ie=0;for(K&&(B&&be!==y?(o.push({value:y}),be<y&&Ie++,Lu(Math.round((be+Ie*se)*we)/we,y,ug(y,ne,u))&&Ie++):be<y&&Ie++);Ie<De;++Ie){const Ue=Math.round((be+Ie*se)*we)/we;if(X&&Ue>w)break;o.push({value:Ue})}return X&&B&&ve!==w?o.length&&Lu(o[o.length-1].value,w,ug(w,ne,u))?o[o.length-1].value=w:o.push({value:w}):(!X||ve===w)&&o.push({value:ve}),o}function ug(u,s,{horizontal:o,minRotation:c}){const h=Ts(c),g=(o?Math.sin(h):Math.cos(h))||.001,y=.75*s*(""+u).length;return Math.min(s/g,y)}class uh extends cr{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,o){return Mt(s)||(typeof s=="number"||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:o,maxDefined:c}=this.getUserBounds();let{min:h,max:g}=this;const y=S=>h=o?h:S,w=S=>g=c?g:S;if(s){const S=Qs(h),D=Qs(g);S<0&&D<0?w(0):S>0&&D>0&&y(0)}if(h===g){let S=g===0?1:Math.abs(g*.05);w(g+S),s||y(h-S)}this.min=h,this.max=g}getTickLimit(){const s=this.options.ticks;let{maxTicksLimit:o,stepSize:c}=s,h;return c?(h=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,h>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${h} ticks. Limiting to 1000.`),h=1e3)):(h=this.computeTickLimit(),o=o||11),o&&(h=Math.min(o,h)),h}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,o=s.ticks;let c=this.getTickLimit();c=Math.max(2,c);const h={maxTicks:c,bounds:s.bounds,min:s.min,max:s.max,precision:o.precision,step:o.stepSize,count:o.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:o.minRotation||0,includeBounds:o.includeBounds!==!1},g=this._range||this,y=gk(h,g);return s.bounds==="ticks"&&r0(y,this,"value"),s.reverse?(y.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),y}configure(){const s=this.ticks;let o=this.min,c=this.max;if(super.configure(),this.options.offset&&s.length){const h=(c-o)/Math.max(s.length-1,1)/2;o-=h,c+=h}this._startValue=o,this._endValue=c,this._valueRange=c-o}getLabelForValue(s){return Yu(s,this.chart.options.locale,this.options.ticks.format)}}class ep extends uh{determineDataLimits(){const{min:s,max:o}=this.getMinMax(!0);this.min=Fi(s)?s:0,this.max=Fi(o)?o:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),o=s?this.width:this.height,c=Ts(this.options.ticks.minRotation),h=(s?Math.sin(c):Math.cos(c))||.001,g=this._resolveTickFontOptions(0);return Math.ceil(o/Math.min(40,g.lineHeight/h))}getPixelForValue(s){return s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}}ae(ep,"id","linear"),ae(ep,"defaults",{ticks:{callback:hh.formatters.numeric}});const ju=u=>Math.floor(vo(u)),tr=(u,s)=>Math.pow(10,ju(u)+s);function cg(u){return u/Math.pow(10,ju(u))===1}function dg(u,s,o){const c=Math.pow(10,o),h=Math.floor(u/c);return Math.ceil(s/c)-h}function vk(u,s){const o=s-u;let c=ju(o);for(;dg(u,s,c)>10;)c++;for(;dg(u,s,c)<10;)c--;return Math.min(c,ju(u))}function bk(u,{min:s,max:o}){s=Gn(u.min,s);const c=[],h=ju(s);let g=vk(s,o),y=g<0?Math.pow(10,Math.abs(g)):1;const w=Math.pow(10,g),S=h>g?Math.pow(10,h):0,D=Math.round((s-S)*y)/y,A=Math.floor((s-S)/w/10)*w*10;let O=Math.floor((D-A)/Math.pow(10,g)),B=Gn(u.min,Math.round((S+A+O*Math.pow(10,g))*y)/y);for(;B<o;)c.push({value:B,major:cg(B),significand:O}),O>=10?O=O<15?15:20:O++,O>=20&&(g++,O=2,y=g>=0?1:y),B=Math.round((S+A+O*Math.pow(10,g))*y)/y;const H=Gn(u.max,B);return c.push({value:H,major:cg(H),significand:O}),c}class tp extends cr{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,o){const c=uh.prototype.parse.apply(this,[s,o]);if(c===0){this._zero=!0;return}return Fi(c)&&c>0?c:null}determineDataLimits(){const{min:s,max:o}=this.getMinMax(!0);this.min=Fi(s)?Math.max(0,s):null,this.max=Fi(o)?Math.max(0,o):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Fi(this._userMin)&&(this.min=s===tr(this.min,0)?tr(this.min,-1):tr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:s,maxDefined:o}=this.getUserBounds();let c=this.min,h=this.max;const g=w=>c=s?c:w,y=w=>h=o?h:w;c===h&&(c<=0?(g(1),y(10)):(g(tr(c,-1)),y(tr(h,1)))),c<=0&&g(tr(h,-1)),h<=0&&y(tr(c,1)),this.min=c,this.max=h}buildTicks(){const s=this.options,o={min:this._userMin,max:this._userMax},c=bk(o,this);return s.bounds==="ticks"&&r0(c,this,"value"),s.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(s){return s===void 0?"0":Yu(s,this.chart.options.locale,this.options.ticks.format)}configure(){const s=this.min;super.configure(),this._startValue=vo(s),this._valueRange=vo(this.max)-vo(s)}getPixelForValue(s){return(s===void 0||s===0)&&(s=this.min),s===null||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(vo(s)-this._startValue)/this._valueRange)}getValueForPixel(s){const o=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+o*this._valueRange)}}ae(tp,"id","logarithmic"),ae(tp,"defaults",{ticks:{callback:hh.formatters.logarithmic,major:{enabled:!0}}});function ip(u){const s=u.ticks;if(s.display&&u.display){const o=Dn(s.backdropPadding);return Et(s.font&&s.font.size,_i.font.size)+o.height}return 0}function yk(u,s,o){return o=yi(o)?o:[o],{w:T1(u,s.string,o),h:o.length*s.lineHeight}}function hg(u,s,o,c,h){return u===c||u===h?{start:s-o/2,end:s+o/2}:u<c||u>h?{start:s-o,end:s}:{start:s,end:s+o}}function _k(u){const s={l:u.left+u._padding.left,r:u.right-u._padding.right,t:u.top+u._padding.top,b:u.bottom-u._padding.bottom},o=Object.assign({},s),c=[],h=[],g=u._pointLabels.length,y=u.options.pointLabels,w=y.centerPointLabels?di/g:0;for(let S=0;S<g;S++){const D=y.setContext(u.getPointLabelContext(S));h[S]=D.padding;const A=u.getPointPosition(S,u.drawingArea+h[S],w),O=Ki(D.font),B=yk(u.ctx,O,u._pointLabels[S]);c[S]=B;const H=Xn(u.getIndexAngle(S)+w),q=Math.round(dp(H)),Q=hg(q,A.x,B.w,0,180),te=hg(q,A.y,B.h,90,270);Ck(o,s,H,Q,te)}u.setCenterPoint(s.l-o.l,o.r-s.r,s.t-o.t,o.b-s.b),u._pointLabelItems=kk(u,c,h)}function Ck(u,s,o,c,h){const g=Math.abs(Math.sin(o)),y=Math.abs(Math.cos(o));let w=0,S=0;c.start<s.l?(w=(s.l-c.start)/g,u.l=Math.min(u.l,s.l-w)):c.end>s.r&&(w=(c.end-s.r)/g,u.r=Math.max(u.r,s.r+w)),h.start<s.t?(S=(s.t-h.start)/y,u.t=Math.min(u.t,s.t-S)):h.end>s.b&&(S=(h.end-s.b)/y,u.b=Math.max(u.b,s.b+S))}function xk(u,s,o){const c=u.drawingArea,{extra:h,additionalAngle:g,padding:y,size:w}=o,S=u.getPointPosition(s,c+h+y,g),D=Math.round(dp(Xn(S.angle+Ni))),A=Tk(S.y,w.h,D),O=Sk(D),B=Dk(S.x,w.w,O);return{visible:!0,x:S.x,y:A,textAlign:O,left:B,top:A,right:B+w.w,bottom:A+w.h}}function wk(u,s){if(!s)return!0;const{left:o,top:c,right:h,bottom:g}=u;return!(La({x:o,y:c},s)||La({x:o,y:g},s)||La({x:h,y:c},s)||La({x:h,y:g},s))}function kk(u,s,o){const c=[],h=u._pointLabels.length,g=u.options,{centerPointLabels:y,display:w}=g.pointLabels,S={extra:ip(g)/2,additionalAngle:y?di/h:0};let D;for(let A=0;A<h;A++){S.padding=o[A],S.size=s[A];const O=xk(u,A,S);c.push(O),w==="auto"&&(O.visible=wk(O,D),O.visible&&(D=O))}return c}function Sk(u){return u===0||u===180?"center":u<180?"left":"right"}function Dk(u,s,o){return o==="right"?u-=s:o==="center"&&(u-=s/2),u}function Tk(u,s,o){return o===90||o===270?u-=s/2:(o>270||o<90)&&(u-=s),u}function Ek(u,s,o){const{left:c,top:h,right:g,bottom:y}=o,{backdropColor:w}=s;if(!Mt(w)){const S=or(s.borderRadius),D=Dn(s.backdropPadding);u.fillStyle=w;const A=c-D.left,O=h-D.top,B=g-c+D.width,H=y-h+D.height;Object.values(S).some(q=>q!==0)?(u.beginPath(),Vu(u,{x:A,y:O,w:B,h:H,radius:S}),u.fill()):u.fillRect(A,O,B,H)}}function Ak(u,s){const{ctx:o,options:{pointLabels:c}}=u;for(let h=s-1;h>=0;h--){const g=u._pointLabelItems[h];if(!g.visible)continue;const y=c.setContext(u.getPointLabelContext(h));Ek(o,y,g);const w=Ki(y.font),{x:S,y:D,textAlign:A}=g;ur(o,u._pointLabels[h],S,D+w.lineHeight/2,w,{color:y.color,textAlign:A,textBaseline:"middle"})}}function Q0(u,s,o,c){const{ctx:h}=u;if(o)h.arc(u.xCenter,u.yCenter,s,0,ci);else{let g=u.getPointPosition(0,s);h.moveTo(g.x,g.y);for(let y=1;y<c;y++)g=u.getPointPosition(y,s),h.lineTo(g.x,g.y)}}function Mk(u,s,o,c,h){const g=u.ctx,y=s.circular,{color:w,lineWidth:S}=s;!y&&!c||!w||!S||o<0||(g.save(),g.strokeStyle=w,g.lineWidth=S,g.setLineDash(h.dash||[]),g.lineDashOffset=h.dashOffset,g.beginPath(),Q0(u,o,y,c),g.closePath(),g.stroke(),g.restore())}function Fk(u,s,o){return wo(u,{label:o,index:s,type:"pointLabel"})}class Fu extends uh{constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const s=this._padding=Dn(ip(this.options)/2),o=this.width=this.maxWidth-s.width,c=this.height=this.maxHeight-s.height;this.xCenter=Math.floor(this.left+o/2+s.left),this.yCenter=Math.floor(this.top+c/2+s.top),this.drawingArea=Math.floor(Math.min(o,c)/2)}determineDataLimits(){const{min:s,max:o}=this.getMinMax(!1);this.min=Fi(s)&&!isNaN(s)?s:0,this.max=Fi(o)&&!isNaN(o)?o:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ip(this.options))}generateTickLabels(s){uh.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((o,c)=>{const h=ri(this.options.pointLabels.callback,[o,c],this);return h||h===0?h:""}).filter((o,c)=>this.chart.getDataVisibility(c))}fit(){const s=this.options;s.display&&s.pointLabels.display?_k(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(s,o,c,h){this.xCenter+=Math.floor((s-o)/2),this.yCenter+=Math.floor((c-h)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(s,o,c,h))}getIndexAngle(s){const o=ci/(this._pointLabels.length||1),c=this.options.startAngle||0;return Xn(s*o+Ts(c))}getDistanceFromCenterForValue(s){if(Mt(s))return NaN;const o=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*o:(s-this.min)*o}getValueForDistanceFromCenter(s){if(Mt(s))return NaN;const o=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-o:this.min+o}getPointLabelContext(s){const o=this._pointLabels||[];if(s>=0&&s<o.length){const c=o[s];return Fk(this.getContext(),s,c)}}getPointPosition(s,o,c=0){const h=this.getIndexAngle(s)-Ni+c;return{x:Math.cos(h)*o+this.xCenter,y:Math.sin(h)*o+this.yCenter,angle:h}}getPointPositionForValue(s,o){return this.getPointPosition(s,this.getDistanceFromCenterForValue(o))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){const{left:o,top:c,right:h,bottom:g}=this._pointLabelItems[s];return{left:o,top:c,right:h,bottom:g}}drawBackground(){const{backgroundColor:s,grid:{circular:o}}=this.options;if(s){const c=this.ctx;c.save(),c.beginPath(),Q0(this,this.getDistanceFromCenterForValue(this._endValue),o,this._pointLabels.length),c.closePath(),c.fillStyle=s,c.fill(),c.restore()}}drawGrid(){const s=this.ctx,o=this.options,{angleLines:c,grid:h,border:g}=o,y=this._pointLabels.length;let w,S,D;if(o.pointLabels.display&&Ak(this,y),h.display&&this.ticks.forEach((A,O)=>{if(O!==0||O===0&&this.min<0){S=this.getDistanceFromCenterForValue(A.value);const B=this.getContext(O),H=h.setContext(B),q=g.setContext(B);Mk(this,H,S,y,q)}}),c.display){for(s.save(),w=y-1;w>=0;w--){const A=c.setContext(this.getPointLabelContext(w)),{color:O,lineWidth:B}=A;!B||!O||(s.lineWidth=B,s.strokeStyle=O,s.setLineDash(A.borderDash),s.lineDashOffset=A.borderDashOffset,S=this.getDistanceFromCenterForValue(o.reverse?this.min:this.max),D=this.getPointPosition(w,S),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(D.x,D.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){const s=this.ctx,o=this.options,c=o.ticks;if(!c.display)return;const h=this.getIndexAngle(0);let g,y;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(h),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((w,S)=>{if(S===0&&this.min>=0&&!o.reverse)return;const D=c.setContext(this.getContext(S)),A=Ki(D.font);if(g=this.getDistanceFromCenterForValue(this.ticks[S].value),D.showLabelBackdrop){s.font=A.string,y=s.measureText(w.label).width,s.fillStyle=D.backdropColor;const O=Dn(D.backdropPadding);s.fillRect(-y/2-O.left,-g-A.size/2-O.top,y+O.width,A.size+O.height)}ur(s,w.label,0,-g,A,{color:D.color,strokeColor:D.textStrokeColor,strokeWidth:D.textStrokeWidth})}),s.restore()}drawTitle(){}}ae(Fu,"id","radialLinear"),ae(Fu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:hh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(s){return s},padding:5,centerPointLabels:!1}}),ae(Fu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ae(Fu,"descriptors",{angleLines:{_fallback:"grid"}});const vh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nn=Object.keys(vh);function fg(u,s){return u-s}function pg(u,s){if(Mt(s))return null;const o=u._adapter,{parser:c,round:h,isoWeekday:g}=u._parseOpts;let y=s;return typeof c=="function"&&(y=c(y)),Fi(y)||(y=typeof c=="string"?o.parse(y,c):o.parse(y)),y===null?null:(h&&(y=h==="week"&&(Qr(g)||g===!0)?o.startOf(y,"isoWeek",g):o.startOf(y,h)),+y)}function mg(u,s,o,c){const h=Nn.length;for(let g=Nn.indexOf(u);g<h-1;++g){const y=vh[Nn[g]],w=y.steps?y.steps:Number.MAX_SAFE_INTEGER;if(y.common&&Math.ceil((o-s)/(w*y.size))<=c)return Nn[g]}return Nn[h-1]}function Ik(u,s,o,c,h){for(let g=Nn.length-1;g>=Nn.indexOf(o);g--){const y=Nn[g];if(vh[y].common&&u._adapter.diff(h,c,y)>=s-1)return y}return Nn[o?Nn.indexOf(o):0]}function Lk(u){for(let s=Nn.indexOf(u)+1,o=Nn.length;s<o;++s)if(vh[Nn[s]].common)return Nn[s]}function gg(u,s,o){if(!o)u[s]=!0;else if(o.length){const{lo:c,hi:h}=hp(o,s),g=o[c]>=s?o[c]:o[h];u[g]=!0}}function Ok(u,s,o,c){const h=u._adapter,g=+h.startOf(s[0].value,c),y=s[s.length-1].value;let w,S;for(w=g;w<=y;w=+h.add(w,1,c))S=o[w],S>=0&&(s[S].major=!0);return s}function vg(u,s,o){const c=[],h={},g=s.length;let y,w;for(y=0;y<g;++y)w=s[y],h[w]=y,c.push({value:w,major:!1});return g===0||!o?c:Ok(u,c,h,o)}class Uu extends cr{constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,o={}){const c=s.time||(s.time={}),h=this._adapter=new L0._date(s.adapters.date);h.init(o),Iu(c.displayFormats,h.formats()),this._parseOpts={parser:c.parser,round:c.round,isoWeekday:c.isoWeekday},super.init(s),this._normalized=o.normalized}parse(s,o){return s===void 0?null:pg(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,o=this._adapter,c=s.time.unit||"day";let{min:h,max:g,minDefined:y,maxDefined:w}=this.getUserBounds();function S(D){!y&&!isNaN(D.min)&&(h=Math.min(h,D.min)),!w&&!isNaN(D.max)&&(g=Math.max(g,D.max))}(!y||!w)&&(S(this._getLabelBounds()),(s.bounds!=="ticks"||s.ticks.source!=="labels")&&S(this.getMinMax(!1))),h=Fi(h)&&!isNaN(h)?h:+o.startOf(Date.now(),c),g=Fi(g)&&!isNaN(g)?g:+o.endOf(Date.now(),c)+1,this.min=Math.min(h,g-1),this.max=Math.max(h+1,g)}_getLabelBounds(){const s=this.getLabelTimestamps();let o=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;return s.length&&(o=s[0],c=s[s.length-1]),{min:o,max:c}}buildTicks(){const s=this.options,o=s.time,c=s.ticks,h=c.source==="labels"?this.getLabelTimestamps():this._generate();s.bounds==="ticks"&&h.length&&(this.min=this._userMin||h[0],this.max=this._userMax||h[h.length-1]);const g=this.min,y=this.max,w=p1(h,g,y);return this._unit=o.unit||(c.autoSkip?mg(o.minUnit,this.min,this.max,this._getLabelCapacity(g)):Ik(this,w.length,o.minUnit,this.min,this.max)),this._majorUnit=!c.major.enabled||this._unit==="year"?void 0:Lk(this._unit),this.initOffsets(h),s.reverse&&w.reverse(),vg(this,w,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let o=0,c=0,h,g;this.options.offset&&s.length&&(h=this.getDecimalForValue(s[0]),s.length===1?o=1-h:o=(this.getDecimalForValue(s[1])-h)/2,g=this.getDecimalForValue(s[s.length-1]),s.length===1?c=g:c=(g-this.getDecimalForValue(s[s.length-2]))/2);const y=s.length<3?.5:.25;o=un(o,0,y),c=un(c,0,y),this._offsets={start:o,end:c,factor:1/(o+1+c)}}_generate(){const s=this._adapter,o=this.min,c=this.max,h=this.options,g=h.time,y=g.unit||mg(g.minUnit,o,c,this._getLabelCapacity(o)),w=Et(h.ticks.stepSize,1),S=y==="week"?g.isoWeekday:!1,D=Qr(S)||S===!0,A={};let O=o,B,H;if(D&&(O=+s.startOf(O,"isoWeek",S)),O=+s.startOf(O,D?"day":y),s.diff(c,o,y)>1e5*w)throw new Error(o+" and "+c+" are too far apart with stepSize of "+w+" "+y);const q=h.ticks.source==="data"&&this.getDataTimestamps();for(B=O,H=0;B<c;B=+s.add(B,w,y),H++)gg(A,B,q);return(B===c||h.bounds==="ticks"||H===1)&&gg(A,B,q),Object.keys(A).sort(fg).map(Q=>+Q)}getLabelForValue(s){const o=this._adapter,c=this.options.time;return c.tooltipFormat?o.format(s,c.tooltipFormat):o.format(s,c.displayFormats.datetime)}format(s,o){const h=this.options.time.displayFormats,g=this._unit,y=o||h[g];return this._adapter.format(s,y)}_tickFormatFunction(s,o,c,h){const g=this.options,y=g.ticks.callback;if(y)return ri(y,[s,o,c],this);const w=g.time.displayFormats,S=this._unit,D=this._majorUnit,A=S&&w[S],O=D&&w[D],B=c[o],H=D&&O&&B&&B.major;return this._adapter.format(s,h||(H?O:A))}generateTickLabels(s){let o,c,h;for(o=0,c=s.length;o<c;++o)h=s[o],h.label=this._tickFormatFunction(h.value,o,s)}getDecimalForValue(s){return s===null?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const o=this._offsets,c=this.getDecimalForValue(s);return this.getPixelForDecimal((o.start+c)*o.factor)}getValueForPixel(s){const o=this._offsets,c=this.getDecimalForPixel(s)/o.factor-o.end;return this.min+c*(this.max-this.min)}_getLabelSize(s){const o=this.options.ticks,c=this.ctx.measureText(s).width,h=Ts(this.isHorizontal()?o.maxRotation:o.minRotation),g=Math.cos(h),y=Math.sin(h),w=this._resolveTickFontOptions(0).size;return{w:c*g+w*y,h:c*y+w*g}}_getLabelCapacity(s){const o=this.options.time,c=o.displayFormats,h=c[o.unit]||c.millisecond,g=this._tickFormatFunction(s,0,vg(this,[s],this._majorUnit),h),y=this._getLabelSize(g),w=Math.floor(this.isHorizontal()?this.width/y.w:this.height/y.h)-1;return w>0?w:1}getDataTimestamps(){let s=this._cache.data||[],o,c;if(s.length)return s;const h=this.getMatchingVisibleMetas();if(this._normalized&&h.length)return this._cache.data=h[0].controller.getAllParsedValues(this);for(o=0,c=h.length;o<c;++o)s=s.concat(h[o].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let o,c;if(s.length)return s;const h=this.getLabels();for(o=0,c=h.length;o<c;++o)s.push(pg(this,h[o]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return c0(s.sort(fg))}}ae(Uu,"id","time"),ae(Uu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Wd(u,s,o){let c=0,h=u.length-1,g,y,w,S;o?(s>=u[c].pos&&s<=u[h].pos&&({lo:c,hi:h}=Ia(u,"pos",s)),{pos:g,time:w}=u[c],{pos:y,time:S}=u[h]):(s>=u[c].time&&s<=u[h].time&&({lo:c,hi:h}=Ia(u,"time",s)),{time:g,pos:w}=u[c],{time:y,pos:S}=u[h]);const D=y-g;return D?w+(S-w)*(s-g)/D:w}class np extends Uu{constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),o=this._table=this.buildLookupTable(s);this._minPos=Wd(o,this.min),this._tableRange=Wd(o,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:o,max:c}=this,h=[],g=[];let y,w,S,D,A;for(y=0,w=s.length;y<w;++y)D=s[y],D>=o&&D<=c&&h.push(D);if(h.length<2)return[{time:o,pos:0},{time:c,pos:1}];for(y=0,w=h.length;y<w;++y)A=h[y+1],S=h[y-1],D=h[y],Math.round((A+S)/2)!==D&&g.push({time:D,pos:y/(w-1)});return g}_generate(){const s=this.min,o=this.max;let c=super.getDataTimestamps();return(!c.includes(s)||!c.length)&&c.splice(0,0,s),(!c.includes(o)||c.length===1)&&c.push(o),c.sort((h,g)=>h-g)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const o=this.getDataTimestamps(),c=this.getLabelTimestamps();return o.length&&c.length?s=this.normalize(o.concat(c)):s=o.length?o:c,s=this._cache.all=s,s}getDecimalForValue(s){return(Wd(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const o=this._offsets,c=this.getDecimalForPixel(s)/o.factor-o.end;return Wd(this._table,c*this._tableRange+this._minPos,!0)}}ae(np,"id","timeseries"),ae(np,"defaults",Uu.defaults);var Pk=Object.freeze({__proto__:null,CategoryScale:Qf,LinearScale:ep,LogarithmicScale:tp,RadialLinearScale:Fu,TimeScale:Uu,TimeSeriesScale:np});const Bk=[WC,vw,hk,Pk],ev=6048e5,Nk=864e5,Gu=6e4,Xu=36e5,Rk=1e3,bg=Symbol.for("constructDateFrom");function Ii(u,s){return typeof u=="function"?u(s):u&&typeof u=="object"&&bg in u?u[bg](s):u instanceof Date?new u.constructor(s):new Date(s)}function Dt(u,s){return Ii(s||u,u)}function bh(u,s,o){const c=Dt(u,o==null?void 0:o.in);return isNaN(s)?Ii((o==null?void 0:o.in)||u,NaN):(s&&c.setDate(c.getDate()+s),c)}function kp(u,s,o){const c=Dt(u,o==null?void 0:o.in);if(isNaN(s))return Ii(u,NaN);if(!s)return c;const h=c.getDate(),g=Ii(u,c.getTime());g.setMonth(c.getMonth()+s+1,0);const y=g.getDate();return h>=y?g:(c.setFullYear(g.getFullYear(),g.getMonth(),h),c)}function Sp(u,s,o){return Ii(u,+Dt(u)+s)}function zk(u,s,o){return Sp(u,s*Xu)}let Hk={};function dr(){return Hk}function ea(u,s){var w,S,D,A;const o=dr(),c=(s==null?void 0:s.weekStartsOn)??((S=(w=s==null?void 0:s.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??o.weekStartsOn??((A=(D=o.locale)==null?void 0:D.options)==null?void 0:A.weekStartsOn)??0,h=Dt(u,s==null?void 0:s.in),g=h.getDay(),y=(g<c?7:0)+g-c;return h.setDate(h.getDate()-y),h.setHours(0,0,0,0),h}function il(u,s){return ea(u,{...s,weekStartsOn:1})}function tv(u,s){const o=Dt(u,s==null?void 0:s.in),c=o.getFullYear(),h=Ii(o,0);h.setFullYear(c+1,0,4),h.setHours(0,0,0,0);const g=il(h),y=Ii(o,0);y.setFullYear(c,0,4),y.setHours(0,0,0,0);const w=il(y);return o.getTime()>=g.getTime()?c+1:o.getTime()>=w.getTime()?c:c-1}function ch(u){const s=Dt(u),o=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return o.setUTCFullYear(s.getFullYear()),+u-+o}function hr(u,...s){const o=Ii.bind(null,s.find(c=>typeof c=="object"));return s.map(o)}function sp(u,s){const o=Dt(u,s==null?void 0:s.in);return o.setHours(0,0,0,0),o}function iv(u,s,o){const[c,h]=hr(o==null?void 0:o.in,u,s),g=sp(c),y=sp(h),w=+g-ch(g),S=+y-ch(y);return Math.round((w-S)/Nk)}function $k(u,s){const o=tv(u,s),c=Ii(u,0);return c.setFullYear(o,0,4),c.setHours(0,0,0,0),il(c)}function Vk(u,s,o){const c=Dt(u,o==null?void 0:o.in);return c.setTime(c.getTime()+s*Gu),c}function Wk(u,s,o){return kp(u,s*3,o)}function jk(u,s,o){return Sp(u,s*1e3)}function Uk(u,s,o){return bh(u,s*7,o)}function qk(u,s,o){return kp(u,s*12,o)}function Nu(u,s){const o=+Dt(u)-+Dt(s);return o<0?-1:o>0?1:o}function Yk(u){return u instanceof Date||typeof u=="object"&&Object.prototype.toString.call(u)==="[object Date]"}function nv(u){return!(!Yk(u)&&typeof u!="number"||isNaN(+Dt(u)))}function Gk(u,s,o){const[c,h]=hr(o==null?void 0:o.in,u,s),g=c.getFullYear()-h.getFullYear(),y=c.getMonth()-h.getMonth();return g*12+y}function Xk(u,s,o){const[c,h]=hr(o==null?void 0:o.in,u,s);return c.getFullYear()-h.getFullYear()}function sv(u,s,o){const[c,h]=hr(o==null?void 0:o.in,u,s),g=yg(c,h),y=Math.abs(iv(c,h));c.setDate(c.getDate()-g*y);const w=+(yg(c,h)===-g),S=g*(y-w);return S===0?0:S}function yg(u,s){const o=u.getFullYear()-s.getFullYear()||u.getMonth()-s.getMonth()||u.getDate()-s.getDate()||u.getHours()-s.getHours()||u.getMinutes()-s.getMinutes()||u.getSeconds()-s.getSeconds()||u.getMilliseconds()-s.getMilliseconds();return o<0?-1:o>0?1:o}function Ku(u){return s=>{const c=(u?Math[u]:Math.trunc)(s);return c===0?0:c}}function Kk(u,s,o){const[c,h]=hr(o==null?void 0:o.in,u,s),g=(+c-+h)/Xu;return Ku(o==null?void 0:o.roundingMethod)(g)}function Dp(u,s){return+Dt(u)-+Dt(s)}function Zk(u,s,o){const c=Dp(u,s)/Gu;return Ku(o==null?void 0:o.roundingMethod)(c)}function av(u,s){const o=Dt(u,s==null?void 0:s.in);return o.setHours(23,59,59,999),o}function ov(u,s){const o=Dt(u,s==null?void 0:s.in),c=o.getMonth();return o.setFullYear(o.getFullYear(),c+1,0),o.setHours(23,59,59,999),o}function Jk(u,s){const o=Dt(u,s==null?void 0:s.in);return+av(o,s)==+ov(o,s)}function rv(u,s,o){const[c,h,g]=hr(o==null?void 0:o.in,u,u,s),y=Nu(h,g),w=Math.abs(Gk(h,g));if(w<1)return 0;h.getMonth()===1&&h.getDate()>27&&h.setDate(30),h.setMonth(h.getMonth()-y*w);let S=Nu(h,g)===-y;Jk(c)&&w===1&&Nu(c,g)===1&&(S=!1);const D=y*(w-+S);return D===0?0:D}function Qk(u,s,o){const c=rv(u,s,o)/3;return Ku(o==null?void 0:o.roundingMethod)(c)}function e4(u,s,o){const c=Dp(u,s)/1e3;return Ku(o==null?void 0:o.roundingMethod)(c)}function t4(u,s,o){const c=sv(u,s,o)/7;return Ku(o==null?void 0:o.roundingMethod)(c)}function i4(u,s,o){const[c,h]=hr(o==null?void 0:o.in,u,s),g=Nu(c,h),y=Math.abs(Xk(c,h));c.setFullYear(1584),h.setFullYear(1584);const w=Nu(c,h)===-g,S=g*(y-+w);return S===0?0:S}function n4(u,s){const o=Dt(u,s==null?void 0:s.in),c=o.getMonth(),h=c-c%3;return o.setMonth(h,1),o.setHours(0,0,0,0),o}function s4(u,s){const o=Dt(u,s==null?void 0:s.in);return o.setDate(1),o.setHours(0,0,0,0),o}function a4(u,s){const o=Dt(u,s==null?void 0:s.in),c=o.getFullYear();return o.setFullYear(c+1,0,0),o.setHours(23,59,59,999),o}function lv(u,s){const o=Dt(u,s==null?void 0:s.in);return o.setFullYear(o.getFullYear(),0,1),o.setHours(0,0,0,0),o}function o4(u,s){const o=Dt(u,s==null?void 0:s.in);return o.setMinutes(59,59,999),o}function r4(u,s){var w,S;const o=dr(),c=o.weekStartsOn??((S=(w=o.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??0,h=Dt(u,s==null?void 0:s.in),g=h.getDay(),y=(g<c?-7:0)+6-(g-c);return h.setDate(h.getDate()+y),h.setHours(23,59,59,999),h}function l4(u,s){const o=Dt(u,s==null?void 0:s.in);return o.setSeconds(59,999),o}function u4(u,s){const o=Dt(u,s==null?void 0:s.in),c=o.getMonth(),h=c-c%3+3;return o.setMonth(h,0),o.setHours(23,59,59,999),o}function c4(u,s){const o=Dt(u,s==null?void 0:s.in);return o.setMilliseconds(999),o}const d4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h4=(u,s,o)=>{let c;const h=d4[u];return typeof h=="string"?c=h:s===1?c=h.one:c=h.other.replace("{{count}}",s.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+c:c+" ago":c};function Bf(u){return(s={})=>{const o=s.width?String(s.width):u.defaultWidth;return u.formats[o]||u.formats[u.defaultWidth]}}const f4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},m4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},g4={date:Bf({formats:f4,defaultWidth:"full"}),time:Bf({formats:p4,defaultWidth:"full"}),dateTime:Bf({formats:m4,defaultWidth:"full"})},v4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b4=(u,s,o,c)=>v4[u];function xu(u){return(s,o)=>{const c=o!=null&&o.context?String(o.context):"standalone";let h;if(c==="formatting"&&u.formattingValues){const y=u.defaultFormattingWidth||u.defaultWidth,w=o!=null&&o.width?String(o.width):y;h=u.formattingValues[w]||u.formattingValues[y]}else{const y=u.defaultWidth,w=o!=null&&o.width?String(o.width):u.defaultWidth;h=u.values[w]||u.values[y]}const g=u.argumentCallback?u.argumentCallback(s):s;return h[g]}}const y4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},x4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},S4=(u,s)=>{const o=Number(u),c=o%100;if(c>20||c<10)switch(c%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},D4={ordinalNumber:S4,era:xu({values:y4,defaultWidth:"wide"}),quarter:xu({values:_4,defaultWidth:"wide",argumentCallback:u=>u-1}),month:xu({values:C4,defaultWidth:"wide"}),day:xu({values:x4,defaultWidth:"wide"}),dayPeriod:xu({values:w4,defaultWidth:"wide",formattingValues:k4,defaultFormattingWidth:"wide"})};function wu(u){return(s,o={})=>{const c=o.width,h=c&&u.matchPatterns[c]||u.matchPatterns[u.defaultMatchWidth],g=s.match(h);if(!g)return null;const y=g[0],w=c&&u.parsePatterns[c]||u.parsePatterns[u.defaultParseWidth],S=Array.isArray(w)?E4(w,O=>O.test(y)):T4(w,O=>O.test(y));let D;D=u.valueCallback?u.valueCallback(S):S,D=o.valueCallback?o.valueCallback(D):D;const A=s.slice(y.length);return{value:D,rest:A}}}function T4(u,s){for(const o in u)if(Object.prototype.hasOwnProperty.call(u,o)&&s(u[o]))return o}function E4(u,s){for(let o=0;o<u.length;o++)if(s(u[o]))return o}function A4(u){return(s,o={})=>{const c=s.match(u.matchPattern);if(!c)return null;const h=c[0],g=s.match(u.parsePattern);if(!g)return null;let y=u.valueCallback?u.valueCallback(g[0]):g[0];y=o.valueCallback?o.valueCallback(y):y;const w=s.slice(h.length);return{value:y,rest:w}}}const M4=/^(\d+)(th|st|nd|rd)?/i,F4=/\d+/i,I4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L4={any:[/^b/i,/^(a|c)/i]},O4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},P4={any:[/1/i,/2/i,/3/i,/4/i]},B4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},N4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},R4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},z4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},H4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V4={ordinalNumber:A4({matchPattern:M4,parsePattern:F4,valueCallback:u=>parseInt(u,10)}),era:wu({matchPatterns:I4,defaultMatchWidth:"wide",parsePatterns:L4,defaultParseWidth:"any"}),quarter:wu({matchPatterns:O4,defaultMatchWidth:"wide",parsePatterns:P4,defaultParseWidth:"any",valueCallback:u=>u+1}),month:wu({matchPatterns:B4,defaultMatchWidth:"wide",parsePatterns:N4,defaultParseWidth:"any"}),day:wu({matchPatterns:R4,defaultMatchWidth:"wide",parsePatterns:z4,defaultParseWidth:"any"}),dayPeriod:wu({matchPatterns:H4,defaultMatchWidth:"any",parsePatterns:$4,defaultParseWidth:"any"})},uv={code:"en-US",formatDistance:h4,formatLong:g4,formatRelative:b4,localize:D4,match:V4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function W4(u,s){const o=Dt(u,s==null?void 0:s.in);return iv(o,lv(o))+1}function cv(u,s){const o=Dt(u,s==null?void 0:s.in),c=+il(o)-+$k(o);return Math.round(c/ev)+1}function Tp(u,s){var A,O,B,H;const o=Dt(u,s==null?void 0:s.in),c=o.getFullYear(),h=dr(),g=(s==null?void 0:s.firstWeekContainsDate)??((O=(A=s==null?void 0:s.locale)==null?void 0:A.options)==null?void 0:O.firstWeekContainsDate)??h.firstWeekContainsDate??((H=(B=h.locale)==null?void 0:B.options)==null?void 0:H.firstWeekContainsDate)??1,y=Ii((s==null?void 0:s.in)||u,0);y.setFullYear(c+1,0,g),y.setHours(0,0,0,0);const w=ea(y,s),S=Ii((s==null?void 0:s.in)||u,0);S.setFullYear(c,0,g),S.setHours(0,0,0,0);const D=ea(S,s);return+o>=+w?c+1:+o>=+D?c:c-1}function j4(u,s){var w,S,D,A;const o=dr(),c=(s==null?void 0:s.firstWeekContainsDate)??((S=(w=s==null?void 0:s.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??o.firstWeekContainsDate??((A=(D=o.locale)==null?void 0:D.options)==null?void 0:A.firstWeekContainsDate)??1,h=Tp(u,s),g=Ii((s==null?void 0:s.in)||u,0);return g.setFullYear(h,0,c),g.setHours(0,0,0,0),ea(g,s)}function dv(u,s){const o=Dt(u,s==null?void 0:s.in),c=+ea(o,s)-+j4(o,s);return Math.round(c/ev)+1}function Jt(u,s){const o=u<0?"-":"",c=Math.abs(u).toString().padStart(s,"0");return o+c}const mo={y(u,s){const o=u.getFullYear(),c=o>0?o:1-o;return Jt(s==="yy"?c%100:c,s.length)},M(u,s){const o=u.getMonth();return s==="M"?String(o+1):Jt(o+1,2)},d(u,s){return Jt(u.getDate(),s.length)},a(u,s){const o=u.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(u,s){return Jt(u.getHours()%12||12,s.length)},H(u,s){return Jt(u.getHours(),s.length)},m(u,s){return Jt(u.getMinutes(),s.length)},s(u,s){return Jt(u.getSeconds(),s.length)},S(u,s){const o=s.length,c=u.getMilliseconds(),h=Math.trunc(c*Math.pow(10,o-3));return Jt(h,s.length)}},Zr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_g={G:function(u,s,o){const c=u.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return o.era(c,{width:"abbreviated"});case"GGGGG":return o.era(c,{width:"narrow"});case"GGGG":default:return o.era(c,{width:"wide"})}},y:function(u,s,o){if(s==="yo"){const c=u.getFullYear(),h=c>0?c:1-c;return o.ordinalNumber(h,{unit:"year"})}return mo.y(u,s)},Y:function(u,s,o,c){const h=Tp(u,c),g=h>0?h:1-h;if(s==="YY"){const y=g%100;return Jt(y,2)}return s==="Yo"?o.ordinalNumber(g,{unit:"year"}):Jt(g,s.length)},R:function(u,s){const o=tv(u);return Jt(o,s.length)},u:function(u,s){const o=u.getFullYear();return Jt(o,s.length)},Q:function(u,s,o){const c=Math.ceil((u.getMonth()+1)/3);switch(s){case"Q":return String(c);case"QQ":return Jt(c,2);case"Qo":return o.ordinalNumber(c,{unit:"quarter"});case"QQQ":return o.quarter(c,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(c,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(c,{width:"wide",context:"formatting"})}},q:function(u,s,o){const c=Math.ceil((u.getMonth()+1)/3);switch(s){case"q":return String(c);case"qq":return Jt(c,2);case"qo":return o.ordinalNumber(c,{unit:"quarter"});case"qqq":return o.quarter(c,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(c,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(c,{width:"wide",context:"standalone"})}},M:function(u,s,o){const c=u.getMonth();switch(s){case"M":case"MM":return mo.M(u,s);case"Mo":return o.ordinalNumber(c+1,{unit:"month"});case"MMM":return o.month(c,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(c,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(c,{width:"wide",context:"formatting"})}},L:function(u,s,o){const c=u.getMonth();switch(s){case"L":return String(c+1);case"LL":return Jt(c+1,2);case"Lo":return o.ordinalNumber(c+1,{unit:"month"});case"LLL":return o.month(c,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(c,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(c,{width:"wide",context:"standalone"})}},w:function(u,s,o,c){const h=dv(u,c);return s==="wo"?o.ordinalNumber(h,{unit:"week"}):Jt(h,s.length)},I:function(u,s,o){const c=cv(u);return s==="Io"?o.ordinalNumber(c,{unit:"week"}):Jt(c,s.length)},d:function(u,s,o){return s==="do"?o.ordinalNumber(u.getDate(),{unit:"date"}):mo.d(u,s)},D:function(u,s,o){const c=W4(u);return s==="Do"?o.ordinalNumber(c,{unit:"dayOfYear"}):Jt(c,s.length)},E:function(u,s,o){const c=u.getDay();switch(s){case"E":case"EE":case"EEE":return o.day(c,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(c,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(c,{width:"short",context:"formatting"});case"EEEE":default:return o.day(c,{width:"wide",context:"formatting"})}},e:function(u,s,o,c){const h=u.getDay(),g=(h-c.weekStartsOn+8)%7||7;switch(s){case"e":return String(g);case"ee":return Jt(g,2);case"eo":return o.ordinalNumber(g,{unit:"day"});case"eee":return o.day(h,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(h,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(h,{width:"short",context:"formatting"});case"eeee":default:return o.day(h,{width:"wide",context:"formatting"})}},c:function(u,s,o,c){const h=u.getDay(),g=(h-c.weekStartsOn+8)%7||7;switch(s){case"c":return String(g);case"cc":return Jt(g,s.length);case"co":return o.ordinalNumber(g,{unit:"day"});case"ccc":return o.day(h,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(h,{width:"narrow",context:"standalone"});case"cccccc":return o.day(h,{width:"short",context:"standalone"});case"cccc":default:return o.day(h,{width:"wide",context:"standalone"})}},i:function(u,s,o){const c=u.getDay(),h=c===0?7:c;switch(s){case"i":return String(h);case"ii":return Jt(h,s.length);case"io":return o.ordinalNumber(h,{unit:"day"});case"iii":return o.day(c,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(c,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(c,{width:"short",context:"formatting"});case"iiii":default:return o.day(c,{width:"wide",context:"formatting"})}},a:function(u,s,o){const h=u.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return o.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(h,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(h,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(h,{width:"wide",context:"formatting"})}},b:function(u,s,o){const c=u.getHours();let h;switch(c===12?h=Zr.noon:c===0?h=Zr.midnight:h=c/12>=1?"pm":"am",s){case"b":case"bb":return o.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(h,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(h,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(h,{width:"wide",context:"formatting"})}},B:function(u,s,o){const c=u.getHours();let h;switch(c>=17?h=Zr.evening:c>=12?h=Zr.afternoon:c>=4?h=Zr.morning:h=Zr.night,s){case"B":case"BB":case"BBB":return o.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(h,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(h,{width:"wide",context:"formatting"})}},h:function(u,s,o){if(s==="ho"){let c=u.getHours()%12;return c===0&&(c=12),o.ordinalNumber(c,{unit:"hour"})}return mo.h(u,s)},H:function(u,s,o){return s==="Ho"?o.ordinalNumber(u.getHours(),{unit:"hour"}):mo.H(u,s)},K:function(u,s,o){const c=u.getHours()%12;return s==="Ko"?o.ordinalNumber(c,{unit:"hour"}):Jt(c,s.length)},k:function(u,s,o){let c=u.getHours();return c===0&&(c=24),s==="ko"?o.ordinalNumber(c,{unit:"hour"}):Jt(c,s.length)},m:function(u,s,o){return s==="mo"?o.ordinalNumber(u.getMinutes(),{unit:"minute"}):mo.m(u,s)},s:function(u,s,o){return s==="so"?o.ordinalNumber(u.getSeconds(),{unit:"second"}):mo.s(u,s)},S:function(u,s){return mo.S(u,s)},X:function(u,s,o){const c=u.getTimezoneOffset();if(c===0)return"Z";switch(s){case"X":return xg(c);case"XXXX":case"XX":return sr(c);case"XXXXX":case"XXX":default:return sr(c,":")}},x:function(u,s,o){const c=u.getTimezoneOffset();switch(s){case"x":return xg(c);case"xxxx":case"xx":return sr(c);case"xxxxx":case"xxx":default:return sr(c,":")}},O:function(u,s,o){const c=u.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+Cg(c,":");case"OOOO":default:return"GMT"+sr(c,":")}},z:function(u,s,o){const c=u.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+Cg(c,":");case"zzzz":default:return"GMT"+sr(c,":")}},t:function(u,s,o){const c=Math.trunc(+u/1e3);return Jt(c,s.length)},T:function(u,s,o){return Jt(+u,s.length)}};function Cg(u,s=""){const o=u>0?"-":"+",c=Math.abs(u),h=Math.trunc(c/60),g=c%60;return g===0?o+String(h):o+String(h)+s+Jt(g,2)}function xg(u,s){return u%60===0?(u>0?"-":"+")+Jt(Math.abs(u)/60,2):sr(u,s)}function sr(u,s=""){const o=u>0?"-":"+",c=Math.abs(u),h=Jt(Math.trunc(c/60),2),g=Jt(c%60,2);return o+h+s+g}const wg=(u,s)=>{switch(u){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},hv=(u,s)=>{switch(u){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},U4=(u,s)=>{const o=u.match(/(P+)(p+)?/)||[],c=o[1],h=o[2];if(!h)return wg(u,s);let g;switch(c){case"P":g=s.dateTime({width:"short"});break;case"PP":g=s.dateTime({width:"medium"});break;case"PPP":g=s.dateTime({width:"long"});break;case"PPPP":default:g=s.dateTime({width:"full"});break}return g.replace("{{date}}",wg(c,s)).replace("{{time}}",hv(h,s))},ap={p:hv,P:U4},q4=/^D+$/,Y4=/^Y+$/,G4=["D","DD","YY","YYYY"];function fv(u){return q4.test(u)}function pv(u){return Y4.test(u)}function op(u,s,o){const c=X4(u,s,o);if(console.warn(c),G4.includes(u))throw new RangeError(c)}function X4(u,s,o){const c=u[0]==="Y"?"years":"days of the month";return`Use \`${u.toLowerCase()}\` instead of \`${u}\` (in \`${s}\`) for formatting ${c} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const K4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J4=/^'([^]*?)'?$/,Q4=/''/g,eS=/[a-zA-Z]/;function tS(u,s,o){var A,O,B,H,q,Q,te,K;const c=dr(),h=(o==null?void 0:o.locale)??c.locale??uv,g=(o==null?void 0:o.firstWeekContainsDate)??((O=(A=o==null?void 0:o.locale)==null?void 0:A.options)==null?void 0:O.firstWeekContainsDate)??c.firstWeekContainsDate??((H=(B=c.locale)==null?void 0:B.options)==null?void 0:H.firstWeekContainsDate)??1,y=(o==null?void 0:o.weekStartsOn)??((Q=(q=o==null?void 0:o.locale)==null?void 0:q.options)==null?void 0:Q.weekStartsOn)??c.weekStartsOn??((K=(te=c.locale)==null?void 0:te.options)==null?void 0:K.weekStartsOn)??0,w=Dt(u,o==null?void 0:o.in);if(!nv(w))throw new RangeError("Invalid time value");let S=s.match(Z4).map(X=>{const le=X[0];if(le==="p"||le==="P"){const ne=ap[le];return ne(X,h.formatLong)}return X}).join("").match(K4).map(X=>{if(X==="''")return{isToken:!1,value:"'"};const le=X[0];if(le==="'")return{isToken:!1,value:iS(X)};if(_g[le])return{isToken:!0,value:X};if(le.match(eS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");return{isToken:!1,value:X}});h.localize.preprocessor&&(S=h.localize.preprocessor(w,S));const D={firstWeekContainsDate:g,weekStartsOn:y,locale:h};return S.map(X=>{if(!X.isToken)return X.value;const le=X.value;(!(o!=null&&o.useAdditionalWeekYearTokens)&&pv(le)||!(o!=null&&o.useAdditionalDayOfYearTokens)&&fv(le))&&op(le,s,String(u));const ne=_g[le[0]];return ne(w,le,h.localize,D)}).join("")}function iS(u){const s=u.match(J4);return s?s[1].replace(Q4,"'"):u}function nS(){return Object.assign({},dr())}function sS(u,s){const o=Dt(u,s==null?void 0:s.in).getDay();return o===0?7:o}function aS(u,s){const o=oS(s)?new s(0):Ii(s,0);return o.setFullYear(u.getFullYear(),u.getMonth(),u.getDate()),o.setHours(u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds()),o}function oS(u){var s;return typeof u=="function"&&((s=u.prototype)==null?void 0:s.constructor)===u}const rS=10;class mv{constructor(){ae(this,"subPriority",0)}validate(s,o){return!0}}class lS extends mv{constructor(s,o,c,h,g){super(),this.value=s,this.validateValue=o,this.setValue=c,this.priority=h,g&&(this.subPriority=g)}validate(s,o){return this.validateValue(s,this.value,o)}set(s,o,c){return this.setValue(s,o,this.value,c)}}class uS extends mv{constructor(o,c){super();ae(this,"priority",rS);ae(this,"subPriority",-1);this.context=o||(h=>Ii(c,h))}set(o,c){return c.timestampIsSet?o:Ii(o,aS(o,this.context))}}class Yt{run(s,o,c,h){const g=this.parse(s,o,c,h);return g?{setter:new lS(g.value,this.validate,this.set,this.priority,this.subPriority),rest:g.rest}:null}validate(s,o,c){return!0}}class cS extends Yt{constructor(){super(...arguments);ae(this,"priority",140);ae(this,"incompatibleTokens",["R","u","t","T"])}parse(o,c,h){switch(c){case"G":case"GG":case"GGG":return h.era(o,{width:"abbreviated"})||h.era(o,{width:"narrow"});case"GGGGG":return h.era(o,{width:"narrow"});case"GGGG":default:return h.era(o,{width:"wide"})||h.era(o,{width:"abbreviated"})||h.era(o,{width:"narrow"})}}set(o,c,h){return c.era=h,o.setFullYear(h,0,1),o.setHours(0,0,0,0),o}}const Ri={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Zs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zi(u,s){return u&&{value:s(u.value),rest:u.rest}}function Di(u,s){const o=s.match(u);return o?{value:parseInt(o[0],10),rest:s.slice(o[0].length)}:null}function Js(u,s){const o=s.match(u);if(!o)return null;if(o[0]==="Z")return{value:0,rest:s.slice(1)};const c=o[1]==="+"?1:-1,h=o[2]?parseInt(o[2],10):0,g=o[3]?parseInt(o[3],10):0,y=o[5]?parseInt(o[5],10):0;return{value:c*(h*Xu+g*Gu+y*Rk),rest:s.slice(o[0].length)}}function gv(u){return Di(Ri.anyDigitsSigned,u)}function Li(u,s){switch(u){case 1:return Di(Ri.singleDigit,s);case 2:return Di(Ri.twoDigits,s);case 3:return Di(Ri.threeDigits,s);case 4:return Di(Ri.fourDigits,s);default:return Di(new RegExp("^\\d{1,"+u+"}"),s)}}function dh(u,s){switch(u){case 1:return Di(Ri.singleDigitSigned,s);case 2:return Di(Ri.twoDigitsSigned,s);case 3:return Di(Ri.threeDigitsSigned,s);case 4:return Di(Ri.fourDigitsSigned,s);default:return Di(new RegExp("^-?\\d{1,"+u+"}"),s)}}function Ep(u){switch(u){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function vv(u,s){const o=s>0,c=o?s:1-s;let h;if(c<=50)h=u||100;else{const g=c+50,y=Math.trunc(g/100)*100,w=u>=g%100;h=u+y-(w?100:0)}return o?h:1-h}function bv(u){return u%400===0||u%4===0&&u%100!==0}class dS extends Yt{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(o,c,h){const g=y=>({year:y,isTwoDigitYear:c==="yy"});switch(c){case"y":return zi(Li(4,o),g);case"yo":return zi(h.ordinalNumber(o,{unit:"year"}),g);default:return zi(Li(c.length,o),g)}}validate(o,c){return c.isTwoDigitYear||c.year>0}set(o,c,h){const g=o.getFullYear();if(h.isTwoDigitYear){const w=vv(h.year,g);return o.setFullYear(w,0,1),o.setHours(0,0,0,0),o}const y=!("era"in c)||c.era===1?h.year:1-h.year;return o.setFullYear(y,0,1),o.setHours(0,0,0,0),o}}class hS extends Yt{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(o,c,h){const g=y=>({year:y,isTwoDigitYear:c==="YY"});switch(c){case"Y":return zi(Li(4,o),g);case"Yo":return zi(h.ordinalNumber(o,{unit:"year"}),g);default:return zi(Li(c.length,o),g)}}validate(o,c){return c.isTwoDigitYear||c.year>0}set(o,c,h,g){const y=Tp(o,g);if(h.isTwoDigitYear){const S=vv(h.year,y);return o.setFullYear(S,0,g.firstWeekContainsDate),o.setHours(0,0,0,0),ea(o,g)}const w=!("era"in c)||c.era===1?h.year:1-h.year;return o.setFullYear(w,0,g.firstWeekContainsDate),o.setHours(0,0,0,0),ea(o,g)}}class fS extends Yt{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(o,c){return dh(c==="R"?4:c.length,o)}set(o,c,h){const g=Ii(o,0);return g.setFullYear(h,0,4),g.setHours(0,0,0,0),il(g)}}class pS extends Yt{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(o,c){return dh(c==="u"?4:c.length,o)}set(o,c,h){return o.setFullYear(h,0,1),o.setHours(0,0,0,0),o}}class mS extends Yt{constructor(){super(...arguments);ae(this,"priority",120);ae(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(o,c,h){switch(c){case"Q":case"QQ":return Li(c.length,o);case"Qo":return h.ordinalNumber(o,{unit:"quarter"});case"QQQ":return h.quarter(o,{width:"abbreviated",context:"formatting"})||h.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return h.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(o,{width:"wide",context:"formatting"})||h.quarter(o,{width:"abbreviated",context:"formatting"})||h.quarter(o,{width:"narrow",context:"formatting"})}}validate(o,c){return c>=1&&c<=4}set(o,c,h){return o.setMonth((h-1)*3,1),o.setHours(0,0,0,0),o}}class gS extends Yt{constructor(){super(...arguments);ae(this,"priority",120);ae(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(o,c,h){switch(c){case"q":case"qq":return Li(c.length,o);case"qo":return h.ordinalNumber(o,{unit:"quarter"});case"qqq":return h.quarter(o,{width:"abbreviated",context:"standalone"})||h.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return h.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(o,{width:"wide",context:"standalone"})||h.quarter(o,{width:"abbreviated",context:"standalone"})||h.quarter(o,{width:"narrow",context:"standalone"})}}validate(o,c){return c>=1&&c<=4}set(o,c,h){return o.setMonth((h-1)*3,1),o.setHours(0,0,0,0),o}}class vS extends Yt{constructor(){super(...arguments);ae(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ae(this,"priority",110)}parse(o,c,h){const g=y=>y-1;switch(c){case"M":return zi(Di(Ri.month,o),g);case"MM":return zi(Li(2,o),g);case"Mo":return zi(h.ordinalNumber(o,{unit:"month"}),g);case"MMM":return h.month(o,{width:"abbreviated",context:"formatting"})||h.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return h.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(o,{width:"wide",context:"formatting"})||h.month(o,{width:"abbreviated",context:"formatting"})||h.month(o,{width:"narrow",context:"formatting"})}}validate(o,c){return c>=0&&c<=11}set(o,c,h){return o.setMonth(h,1),o.setHours(0,0,0,0),o}}class bS extends Yt{constructor(){super(...arguments);ae(this,"priority",110);ae(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(o,c,h){const g=y=>y-1;switch(c){case"L":return zi(Di(Ri.month,o),g);case"LL":return zi(Li(2,o),g);case"Lo":return zi(h.ordinalNumber(o,{unit:"month"}),g);case"LLL":return h.month(o,{width:"abbreviated",context:"standalone"})||h.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return h.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(o,{width:"wide",context:"standalone"})||h.month(o,{width:"abbreviated",context:"standalone"})||h.month(o,{width:"narrow",context:"standalone"})}}validate(o,c){return c>=0&&c<=11}set(o,c,h){return o.setMonth(h,1),o.setHours(0,0,0,0),o}}function yS(u,s,o){const c=Dt(u,o==null?void 0:o.in),h=dv(c,o)-s;return c.setDate(c.getDate()-h*7),Dt(c,o==null?void 0:o.in)}class _S extends Yt{constructor(){super(...arguments);ae(this,"priority",100);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(o,c,h){switch(c){case"w":return Di(Ri.week,o);case"wo":return h.ordinalNumber(o,{unit:"week"});default:return Li(c.length,o)}}validate(o,c){return c>=1&&c<=53}set(o,c,h,g){return ea(yS(o,h,g),g)}}function CS(u,s,o){const c=Dt(u,o==null?void 0:o.in),h=cv(c,o)-s;return c.setDate(c.getDate()-h*7),c}class xS extends Yt{constructor(){super(...arguments);ae(this,"priority",100);ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(o,c,h){switch(c){case"I":return Di(Ri.week,o);case"Io":return h.ordinalNumber(o,{unit:"week"});default:return Li(c.length,o)}}validate(o,c){return c>=1&&c<=53}set(o,c,h){return il(CS(o,h))}}const wS=[31,28,31,30,31,30,31,31,30,31,30,31],kS=[31,29,31,30,31,30,31,31,30,31,30,31];class SS extends Yt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"subPriority",1);ae(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(o,c,h){switch(c){case"d":return Di(Ri.date,o);case"do":return h.ordinalNumber(o,{unit:"date"});default:return Li(c.length,o)}}validate(o,c){const h=o.getFullYear(),g=bv(h),y=o.getMonth();return g?c>=1&&c<=kS[y]:c>=1&&c<=wS[y]}set(o,c,h){return o.setDate(h),o.setHours(0,0,0,0),o}}class DS extends Yt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"subpriority",1);ae(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(o,c,h){switch(c){case"D":case"DD":return Di(Ri.dayOfYear,o);case"Do":return h.ordinalNumber(o,{unit:"date"});default:return Li(c.length,o)}}validate(o,c){const h=o.getFullYear();return bv(h)?c>=1&&c<=366:c>=1&&c<=365}set(o,c,h){return o.setMonth(0,h),o.setHours(0,0,0,0),o}}function Ap(u,s,o){var O,B,H,q;const c=dr(),h=(o==null?void 0:o.weekStartsOn)??((B=(O=o==null?void 0:o.locale)==null?void 0:O.options)==null?void 0:B.weekStartsOn)??c.weekStartsOn??((q=(H=c.locale)==null?void 0:H.options)==null?void 0:q.weekStartsOn)??0,g=Dt(u,o==null?void 0:o.in),y=g.getDay(),S=(s%7+7)%7,D=7-h,A=s<0||s>6?s-(y+D)%7:(S+D)%7-(y+D)%7;return bh(g,A,o)}class TS extends Yt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(o,c,h){switch(c){case"E":case"EE":case"EEE":return h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return h.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"})}}validate(o,c){return c>=0&&c<=6}set(o,c,h,g){return o=Ap(o,h,g),o.setHours(0,0,0,0),o}}class ES extends Yt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(o,c,h,g){const y=w=>{const S=Math.floor((w-1)/7)*7;return(w+g.weekStartsOn+6)%7+S};switch(c){case"e":case"ee":return zi(Li(c.length,o),y);case"eo":return zi(h.ordinalNumber(o,{unit:"day"}),y);case"eee":return h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"eeeee":return h.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"})}}validate(o,c){return c>=0&&c<=6}set(o,c,h,g){return o=Ap(o,h,g),o.setHours(0,0,0,0),o}}class AS extends Yt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(o,c,h,g){const y=w=>{const S=Math.floor((w-1)/7)*7;return(w+g.weekStartsOn+6)%7+S};switch(c){case"c":case"cc":return zi(Li(c.length,o),y);case"co":return zi(h.ordinalNumber(o,{unit:"day"}),y);case"ccc":return h.day(o,{width:"abbreviated",context:"standalone"})||h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"});case"ccccc":return h.day(o,{width:"narrow",context:"standalone"});case"cccccc":return h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return h.day(o,{width:"wide",context:"standalone"})||h.day(o,{width:"abbreviated",context:"standalone"})||h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"})}}validate(o,c){return c>=0&&c<=6}set(o,c,h,g){return o=Ap(o,h,g),o.setHours(0,0,0,0),o}}function MS(u,s,o){const c=Dt(u,o==null?void 0:o.in),h=sS(c,o),g=s-h;return bh(c,g,o)}class FS extends Yt{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(o,c,h){const g=y=>y===0?7:y;switch(c){case"i":case"ii":return Li(c.length,o);case"io":return h.ordinalNumber(o,{unit:"day"});case"iii":return zi(h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),g);case"iiiii":return zi(h.day(o,{width:"narrow",context:"formatting"}),g);case"iiiiii":return zi(h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),g);case"iiii":default:return zi(h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),g)}}validate(o,c){return c>=1&&c<=7}set(o,c,h){return o=MS(o,h),o.setHours(0,0,0,0),o}}class IS extends Yt{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(o,c,h){switch(c){case"a":case"aa":case"aaa":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}set(o,c,h){return o.setHours(Ep(h),0,0,0),o}}class LS extends Yt{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(o,c,h){switch(c){case"b":case"bb":case"bbb":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}set(o,c,h){return o.setHours(Ep(h),0,0,0),o}}class OS extends Yt{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["a","b","t","T"])}parse(o,c,h){switch(c){case"B":case"BB":case"BBB":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}set(o,c,h){return o.setHours(Ep(h),0,0,0),o}}class PS extends Yt{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["H","K","k","t","T"])}parse(o,c,h){switch(c){case"h":return Di(Ri.hour12h,o);case"ho":return h.ordinalNumber(o,{unit:"hour"});default:return Li(c.length,o)}}validate(o,c){return c>=1&&c<=12}set(o,c,h){const g=o.getHours()>=12;return g&&h<12?o.setHours(h+12,0,0,0):!g&&h===12?o.setHours(0,0,0,0):o.setHours(h,0,0,0),o}}class BS extends Yt{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(o,c,h){switch(c){case"H":return Di(Ri.hour23h,o);case"Ho":return h.ordinalNumber(o,{unit:"hour"});default:return Li(c.length,o)}}validate(o,c){return c>=0&&c<=23}set(o,c,h){return o.setHours(h,0,0,0),o}}class NS extends Yt{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["h","H","k","t","T"])}parse(o,c,h){switch(c){case"K":return Di(Ri.hour11h,o);case"Ko":return h.ordinalNumber(o,{unit:"hour"});default:return Li(c.length,o)}}validate(o,c){return c>=0&&c<=11}set(o,c,h){return o.getHours()>=12&&h<12?o.setHours(h+12,0,0,0):o.setHours(h,0,0,0),o}}class RS extends Yt{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(o,c,h){switch(c){case"k":return Di(Ri.hour24h,o);case"ko":return h.ordinalNumber(o,{unit:"hour"});default:return Li(c.length,o)}}validate(o,c){return c>=1&&c<=24}set(o,c,h){const g=h<=24?h%24:h;return o.setHours(g,0,0,0),o}}class zS extends Yt{constructor(){super(...arguments);ae(this,"priority",60);ae(this,"incompatibleTokens",["t","T"])}parse(o,c,h){switch(c){case"m":return Di(Ri.minute,o);case"mo":return h.ordinalNumber(o,{unit:"minute"});default:return Li(c.length,o)}}validate(o,c){return c>=0&&c<=59}set(o,c,h){return o.setMinutes(h,0,0),o}}class HS extends Yt{constructor(){super(...arguments);ae(this,"priority",50);ae(this,"incompatibleTokens",["t","T"])}parse(o,c,h){switch(c){case"s":return Di(Ri.second,o);case"so":return h.ordinalNumber(o,{unit:"second"});default:return Li(c.length,o)}}validate(o,c){return c>=0&&c<=59}set(o,c,h){return o.setSeconds(h,0),o}}class $S extends Yt{constructor(){super(...arguments);ae(this,"priority",30);ae(this,"incompatibleTokens",["t","T"])}parse(o,c){const h=g=>Math.trunc(g*Math.pow(10,-c.length+3));return zi(Li(c.length,o),h)}set(o,c,h){return o.setMilliseconds(h),o}}class VS extends Yt{constructor(){super(...arguments);ae(this,"priority",10);ae(this,"incompatibleTokens",["t","T","x"])}parse(o,c){switch(c){case"X":return Js(Zs.basicOptionalMinutes,o);case"XX":return Js(Zs.basic,o);case"XXXX":return Js(Zs.basicOptionalSeconds,o);case"XXXXX":return Js(Zs.extendedOptionalSeconds,o);case"XXX":default:return Js(Zs.extended,o)}}set(o,c,h){return c.timestampIsSet?o:Ii(o,o.getTime()-ch(o)-h)}}class WS extends Yt{constructor(){super(...arguments);ae(this,"priority",10);ae(this,"incompatibleTokens",["t","T","X"])}parse(o,c){switch(c){case"x":return Js(Zs.basicOptionalMinutes,o);case"xx":return Js(Zs.basic,o);case"xxxx":return Js(Zs.basicOptionalSeconds,o);case"xxxxx":return Js(Zs.extendedOptionalSeconds,o);case"xxx":default:return Js(Zs.extended,o)}}set(o,c,h){return c.timestampIsSet?o:Ii(o,o.getTime()-ch(o)-h)}}class jS extends Yt{constructor(){super(...arguments);ae(this,"priority",40);ae(this,"incompatibleTokens","*")}parse(o){return gv(o)}set(o,c,h){return[Ii(o,h*1e3),{timestampIsSet:!0}]}}class US extends Yt{constructor(){super(...arguments);ae(this,"priority",20);ae(this,"incompatibleTokens","*")}parse(o){return gv(o)}set(o,c,h){return[Ii(o,h),{timestampIsSet:!0}]}}const qS={G:new cS,y:new dS,Y:new hS,R:new fS,u:new pS,Q:new mS,q:new gS,M:new vS,L:new bS,w:new _S,I:new xS,d:new SS,D:new DS,E:new TS,e:new ES,c:new AS,i:new FS,a:new IS,b:new LS,B:new OS,h:new PS,H:new BS,K:new NS,k:new RS,m:new zS,s:new HS,S:new $S,X:new VS,x:new WS,t:new jS,T:new US},YS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XS=/^'([^]*?)'?$/,KS=/''/g,ZS=/\S/,JS=/[a-zA-Z]/;function QS(u,s,o,c){var te,K,X,le,ne,se,we,be;const h=()=>Ii((c==null?void 0:c.in)||o,NaN),g=nS(),y=(c==null?void 0:c.locale)??g.locale??uv,w=(c==null?void 0:c.firstWeekContainsDate)??((K=(te=c==null?void 0:c.locale)==null?void 0:te.options)==null?void 0:K.firstWeekContainsDate)??g.firstWeekContainsDate??((le=(X=g.locale)==null?void 0:X.options)==null?void 0:le.firstWeekContainsDate)??1,S=(c==null?void 0:c.weekStartsOn)??((se=(ne=c==null?void 0:c.locale)==null?void 0:ne.options)==null?void 0:se.weekStartsOn)??g.weekStartsOn??((be=(we=g.locale)==null?void 0:we.options)==null?void 0:be.weekStartsOn)??0;if(!s)return u?h():Dt(o,c==null?void 0:c.in);const D={firstWeekContainsDate:w,weekStartsOn:S,locale:y},A=[new uS(c==null?void 0:c.in,o)],O=s.match(GS).map(ve=>{const De=ve[0];if(De in ap){const Ge=ap[De];return Ge(ve,y.formatLong)}return ve}).join("").match(YS),B=[];for(let ve of O){!(c!=null&&c.useAdditionalWeekYearTokens)&&pv(ve)&&op(ve,s,u),!(c!=null&&c.useAdditionalDayOfYearTokens)&&fv(ve)&&op(ve,s,u);const De=ve[0],Ge=qS[De];if(Ge){const{incompatibleTokens:Ie}=Ge;if(Array.isArray(Ie)){const nt=B.find(rt=>Ie.includes(rt.token)||rt.token===De);if(nt)throw new RangeError(`The format string mustn't contain \`${nt.fullToken}\` and \`${ve}\` at the same time`)}else if(Ge.incompatibleTokens==="*"&&B.length>0)throw new RangeError(`The format string mustn't contain \`${ve}\` and any other token at the same time`);B.push({token:De,fullToken:ve});const Ue=Ge.run(u,ve,y.match,D);if(!Ue)return h();A.push(Ue.setter),u=Ue.rest}else{if(De.match(JS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+De+"`");if(ve==="''"?ve="'":De==="'"&&(ve=e2(ve)),u.indexOf(ve)===0)u=u.slice(ve.length);else return h()}}if(u.length>0&&ZS.test(u))return h();const H=A.map(ve=>ve.priority).sort((ve,De)=>De-ve).filter((ve,De,Ge)=>Ge.indexOf(ve)===De).map(ve=>A.filter(De=>De.priority===ve).sort((De,Ge)=>Ge.subPriority-De.subPriority)).map(ve=>ve[0]);let q=Dt(o,c==null?void 0:c.in);if(isNaN(+q))return h();const Q={};for(const ve of H){if(!ve.validate(q,D))return h();const De=ve.set(q,Q,D);Array.isArray(De)?(q=De[0],Object.assign(Q,De[1])):q=De}return q}function e2(u){return u.match(XS)[1].replace(KS,"'")}function t2(u,s){const o=Dt(u,s==null?void 0:s.in);return o.setMinutes(0,0,0),o}function i2(u,s){const o=Dt(u,s==null?void 0:s.in);return o.setSeconds(0,0),o}function n2(u,s){const o=Dt(u,s==null?void 0:s.in);return o.setMilliseconds(0),o}function s2(u,s){const o=()=>Ii(s==null?void 0:s.in,NaN),c=(s==null?void 0:s.additionalDigits)??2,h=l2(u);let g;if(h.date){const D=u2(h.date,c);g=c2(D.restDateString,D.year)}if(!g||isNaN(+g))return o();const y=+g;let w=0,S;if(h.time&&(w=d2(h.time),isNaN(w)))return o();if(h.timezone){if(S=h2(h.timezone),isNaN(S))return o()}else{const D=new Date(y+w),A=Dt(0,s==null?void 0:s.in);return A.setFullYear(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate()),A.setHours(D.getUTCHours(),D.getUTCMinutes(),D.getUTCSeconds(),D.getUTCMilliseconds()),A}return Dt(y+w+S,s==null?void 0:s.in)}const jd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},a2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,o2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,r2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function l2(u){const s={},o=u.split(jd.dateTimeDelimiter);let c;if(o.length>2)return s;if(/:/.test(o[0])?c=o[0]:(s.date=o[0],c=o[1],jd.timeZoneDelimiter.test(s.date)&&(s.date=u.split(jd.timeZoneDelimiter)[0],c=u.substr(s.date.length,u.length))),c){const h=jd.timezone.exec(c);h?(s.time=c.replace(h[1],""),s.timezone=h[1]):s.time=c}return s}function u2(u,s){const o=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),c=u.match(o);if(!c)return{year:NaN,restDateString:""};const h=c[1]?parseInt(c[1]):null,g=c[2]?parseInt(c[2]):null;return{year:g===null?h:g*100,restDateString:u.slice((c[1]||c[2]).length)}}function c2(u,s){if(s===null)return new Date(NaN);const o=u.match(a2);if(!o)return new Date(NaN);const c=!!o[4],h=ku(o[1]),g=ku(o[2])-1,y=ku(o[3]),w=ku(o[4]),S=ku(o[5])-1;if(c)return v2(s,w,S)?f2(s,w,S):new Date(NaN);{const D=new Date(0);return!m2(s,g,y)||!g2(s,h)?new Date(NaN):(D.setUTCFullYear(s,g,Math.max(h,y)),D)}}function ku(u){return u?parseInt(u):1}function d2(u){const s=u.match(o2);if(!s)return NaN;const o=Nf(s[1]),c=Nf(s[2]),h=Nf(s[3]);return b2(o,c,h)?o*Xu+c*Gu+h*1e3:NaN}function Nf(u){return u&&parseFloat(u.replace(",","."))||0}function h2(u){if(u==="Z")return 0;const s=u.match(r2);if(!s)return 0;const o=s[1]==="+"?-1:1,c=parseInt(s[2]),h=s[3]&&parseInt(s[3])||0;return y2(c,h)?o*(c*Xu+h*Gu):NaN}function f2(u,s,o){const c=new Date(0);c.setUTCFullYear(u,0,4);const h=c.getUTCDay()||7,g=(s-1)*7+o+1-h;return c.setUTCDate(c.getUTCDate()+g),c}const p2=[31,null,31,30,31,30,31,31,30,31,30,31];function yv(u){return u%400===0||u%4===0&&u%100!==0}function m2(u,s,o){return s>=0&&s<=11&&o>=1&&o<=(p2[s]||(yv(u)?29:28))}function g2(u,s){return s>=1&&s<=(yv(u)?366:365)}function v2(u,s,o){return s>=1&&s<=53&&o>=0&&o<=6}function b2(u,s,o){return u===24?s===0&&o===0:o>=0&&o<60&&s>=0&&s<60&&u>=0&&u<25}function y2(u,s){return s>=0&&s<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const _2={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};L0._date.override({_id:"date-fns",formats:function(){return _2},parse:function(u,s){if(u===null||typeof u>"u")return null;const o=typeof u;return o==="number"||u instanceof Date?u=Dt(u):o==="string"&&(typeof s=="string"?u=QS(u,s,new Date,this.options):u=s2(u,this.options)),nv(u)?u.getTime():null},format:function(u,s){return tS(u,s,this.options)},add:function(u,s,o){switch(o){case"millisecond":return Sp(u,s);case"second":return jk(u,s);case"minute":return Vk(u,s);case"hour":return zk(u,s);case"day":return bh(u,s);case"week":return Uk(u,s);case"month":return kp(u,s);case"quarter":return Wk(u,s);case"year":return qk(u,s);default:return u}},diff:function(u,s,o){switch(o){case"millisecond":return Dp(u,s);case"second":return e4(u,s);case"minute":return Zk(u,s);case"hour":return Kk(u,s);case"day":return sv(u,s);case"week":return t4(u,s);case"month":return rv(u,s);case"quarter":return Qk(u,s);case"year":return i4(u,s);default:return 0}},startOf:function(u,s,o){switch(s){case"second":return n2(u);case"minute":return i2(u);case"hour":return t2(u);case"day":return sp(u);case"week":return ea(u);case"isoWeek":return ea(u,{weekStartsOn:+o});case"month":return s4(u);case"quarter":return n4(u);case"year":return lv(u);default:return u}},endOf:function(u,s){switch(s){case"second":return c4(u);case"minute":return l4(u);case"hour":return o4(u);case"day":return av(u);case"week":return r4(u);case"month":return ov(u);case"quarter":return u4(u);case"year":return a4(u);default:return u}}});function C2(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function x2(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var s=u.default;if(typeof s=="function"){var o=function c(){return this instanceof c?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(u).forEach(function(c){var h=Object.getOwnPropertyDescriptor(u,c);Object.defineProperty(o,c,h.get?h:{enumerable:!0,get:function(){return u[c]}})}),o}var th={exports:{}},w2=th.exports,kg;function Kn(){return kg||(kg=1,function(u,s){(function(o,c){u.exports=c()})(w2,function(){var o=navigator.userAgent,c=navigator.platform,h=/gecko\/\d/i.test(o),g=/MSIE \d/.test(o),y=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(o),w=/Edge\/(\d+)/.exec(o),S=g||y||w,D=S&&(g?document.documentMode||6:+(w||y)[1]),A=!w&&/WebKit\//.test(o),O=A&&/Qt\/\d+\.\d+/.test(o),B=!w&&/Chrome\/(\d+)/.exec(o),H=B&&+B[1],q=/Opera\//.test(o),Q=/Apple Computer/.test(navigator.vendor),te=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(o),K=/PhantomJS/.test(o),X=Q&&(/Mobile\/\w+/.test(o)||navigator.maxTouchPoints>2),le=/Android/.test(o),ne=X||le||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(o),se=X||/Mac/.test(c),we=/\bCrOS\b/.test(o),be=/win/i.test(c),ve=q&&o.match(/Version\/(\d*\.\d*)/);ve&&(ve=Number(ve[1])),ve&&ve>=15&&(q=!1,A=!0);var De=se&&(O||q&&(ve==null||ve<12.11)),Ge=h||S&&D>=9;function Ie(l){return new RegExp("(^|\\s)"+l+"(?:$|\\s)\\s*")}var Ue=function(l,p){var b=l.className,v=Ie(p).exec(b);if(v){var x=b.slice(v.index+v[0].length);l.className=b.slice(0,v.index)+(x?v[1]+x:"")}};function nt(l){for(var p=l.childNodes.length;p>0;--p)l.removeChild(l.firstChild);return l}function rt(l,p){return nt(l).appendChild(p)}function ce(l,p,b,v){var x=document.createElement(l);if(b&&(x.className=b),v&&(x.style.cssText=v),typeof p=="string")x.appendChild(document.createTextNode(p));else if(p)for(var T=0;T<p.length;++T)x.appendChild(p[T]);return x}function Pe(l,p,b,v){var x=ce(l,p,b,v);return x.setAttribute("role","presentation"),x}var Oe;document.createRange?Oe=function(l,p,b,v){var x=document.createRange();return x.setEnd(v||l,b),x.setStart(l,p),x}:Oe=function(l,p,b){var v=document.body.createTextRange();try{v.moveToElementText(l.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",b),v.moveStart("character",p),v};function Je(l,p){if(p.nodeType==3&&(p=p.parentNode),l.contains)return l.contains(p);do if(p.nodeType==11&&(p=p.host),p==l)return!0;while(p=p.parentNode)}function mt(l){var p=l.ownerDocument||l,b;try{b=l.activeElement}catch{b=p.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;return b}function Ht(l,p){var b=l.className;Ie(p).test(b)||(l.className+=(b?" ":"")+p)}function Zi(l,p){for(var b=l.split(" "),v=0;v<b.length;v++)b[v]&&!Ie(b[v]).test(p)&&(p+=" "+b[v]);return p}var ue=function(l){l.select()};X?ue=function(l){l.selectionStart=0,l.selectionEnd=l.value.length}:S&&(ue=function(l){try{l.select()}catch{}});function $(l){return l.display.wrapper.ownerDocument}function Te(l){return yt(l.display.wrapper)}function yt(l){return l.getRootNode?l.getRootNode():l.ownerDocument}function ot(l){return $(l).defaultView}function Zt(l){var p=Array.prototype.slice.call(arguments,1);return function(){return l.apply(null,p)}}function ti(l,p,b){p||(p={});for(var v in l)l.hasOwnProperty(v)&&(b!==!1||!p.hasOwnProperty(v))&&(p[v]=l[v]);return p}function $t(l,p,b,v,x){p==null&&(p=l.search(/[^\s\u00a0]/),p==-1&&(p=l.length));for(var T=v||0,M=x||0;;){var L=l.indexOf("	",T);if(L<0||L>=p)return M+(p-T);M+=L-T,M+=b-M%b,T=L+1}}var Nt=function(){this.id=null,this.f=null,this.time=0,this.handler=Zt(this.onTimeout,this)};Nt.prototype.onTimeout=function(l){l.id=0,l.time<=+new Date?l.f():setTimeout(l.handler,l.time-+new Date)},Nt.prototype.set=function(l,p){this.f=p;var b=+new Date+l;(!this.id||b<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,l),this.time=b)};function kt(l,p){for(var b=0;b<l.length;++b)if(l[b]==p)return b;return-1}var Lt=50,ii={toString:function(){return"CodeMirror.Pass"}},hi={scroll:!1},ut={origin:"*mouse"},ji={origin:"+move"};function Ui(l,p,b){for(var v=0,x=0;;){var T=l.indexOf("	",v);T==-1&&(T=l.length);var M=T-v;if(T==l.length||x+M>=p)return v+Math.min(M,p-x);if(x+=T-v,x+=b-x%b,v=T+1,x>=p)return v}}var ni=[""];function Tn(l){for(;ni.length<=l;)ni.push(st(ni)+" ");return ni[l]}function st(l){return l[l.length-1]}function li(l,p){for(var b=[],v=0;v<l.length;v++)b[v]=p(l[v],v);return b}function ct(l,p,b){for(var v=0,x=b(p);v<l.length&&b(l[v])<=x;)v++;l.splice(v,0,p)}function cs(){}function xe(l,p){var b;return Object.create?b=Object.create(l):(cs.prototype=l,b=new cs),p&&ti(p,b),b}var ke=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function me(l){return/\w/.test(l)||l>""&&(l.toUpperCase()!=l.toLowerCase()||ke.test(l))}function j(l,p){return p?p.source.indexOf("\\w")>-1&&me(l)?!0:p.test(l):me(l)}function V(l){for(var p in l)if(l.hasOwnProperty(p)&&l[p])return!1;return!0}var he=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function I(l){return l.charCodeAt(0)>=768&&he.test(l)}function R(l,p,b){for(;(b<0?p>0:p<l.length)&&I(l.charAt(p));)p+=b;return p}function J(l,p,b){for(var v=p>b?-1:1;;){if(p==b)return p;var x=(p+b)/2,T=v<0?Math.ceil(x):Math.floor(x);if(T==p)return l(T)?p:b;l(T)?b=T:p=T+v}}function oe(l,p,b,v){if(!l)return v(p,b,"ltr",0);for(var x=!1,T=0;T<l.length;++T){var M=l[T];(M.from<b&&M.to>p||p==b&&M.to==p)&&(v(Math.max(M.from,p),Math.min(M.to,b),M.level==1?"rtl":"ltr",T),x=!0)}x||v(p,b,"ltr")}var de=null;function Ce(l,p,b){var v;de=null;for(var x=0;x<l.length;++x){var T=l[x];if(T.from<p&&T.to>p)return x;T.to==p&&(T.from!=T.to&&b=="before"?v=x:de=x),T.from==p&&(T.from!=T.to&&b!="before"?v=x:de=x)}return v??de}var fe=function(){var l="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",p="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function b(z){return z<=247?l.charAt(z):1424<=z&&z<=1524?"R":1536<=z&&z<=1785?p.charAt(z-1536):1774<=z&&z<=2220?"r":8192<=z&&z<=8203?"w":z==8204?"b":"L"}var v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,x=/[stwN]/,T=/[LRr]/,M=/[Lb1n]/,L=/[1n]/;function N(z,Z,ie){this.level=z,this.from=Z,this.to=ie}return function(z,Z){var ie=Z=="ltr"?"L":"R";if(z.length==0||Z=="ltr"&&!v.test(z))return!1;for(var ye=z.length,pe=[],Ee=0;Ee<ye;++Ee)pe.push(b(z.charCodeAt(Ee)));for(var Ne=0,Ve=ie;Ne<ye;++Ne){var qe=pe[Ne];qe=="m"?pe[Ne]=Ve:Ve=qe}for(var Ke=0,Ye=ie;Ke<ye;++Ke){var tt=pe[Ke];tt=="1"&&Ye=="r"?pe[Ke]="n":T.test(tt)&&(Ye=tt,tt=="r"&&(pe[Ke]="R"))}for(var dt=1,lt=pe[0];dt<ye-1;++dt){var St=pe[dt];St=="+"&&lt=="1"&&pe[dt+1]=="1"?pe[dt]="1":St==","&&lt==pe[dt+1]&&(lt=="1"||lt=="n")&&(pe[dt]=lt),lt=St}for(var qt=0;qt<ye;++qt){var Bi=pe[qt];if(Bi==",")pe[qt]="N";else if(Bi=="%"){var ai=void 0;for(ai=qt+1;ai<ye&&pe[ai]=="%";++ai);for(var wn=qt&&pe[qt-1]=="!"||ai<ye&&pe[ai]=="1"?"1":"N",an=qt;an<ai;++an)pe[an]=wn;qt=ai-1}}for(var xi=0,on=ie;xi<ye;++xi){var Vi=pe[xi];on=="L"&&Vi=="1"?pe[xi]="L":T.test(Vi)&&(on=Vi)}for(var wi=0;wi<ye;++wi)if(x.test(pe[wi])){var ki=void 0;for(ki=wi+1;ki<ye&&x.test(pe[ki]);++ki);for(var oi=(wi?pe[wi-1]:ie)=="L",rn=(ki<ye?pe[ki]:ie)=="L",xa=oi==rn?oi?"L":"R":ie,qs=wi;qs<ki;++qs)pe[qs]=xa;wi=ki-1}for(var Gi=[],as,Ai=0;Ai<ye;)if(M.test(pe[Ai])){var fu=Ai;for(++Ai;Ai<ye&&M.test(pe[Ai]);++Ai);Gi.push(new N(0,fu,Ai))}else{var os=Ai,wa=Gi.length,Ys=Z=="rtl"?1:0;for(++Ai;Ai<ye&&pe[Ai]!="L";++Ai);for(var ln=os;ln<Ai;)if(L.test(pe[ln])){os<ln&&(Gi.splice(wa,0,new N(1,os,ln)),wa+=Ys);var ka=ln;for(++ln;ln<Ai&&L.test(pe[ln]);++ln);Gi.splice(wa,0,new N(2,ka,ln)),wa+=Ys,os=ln}else++ln;os<Ai&&Gi.splice(wa,0,new N(1,os,Ai))}return Z=="ltr"&&(Gi[0].level==1&&(as=z.match(/^\s+/))&&(Gi[0].from=as[0].length,Gi.unshift(new N(0,0,as[0].length))),st(Gi).level==1&&(as=z.match(/\s+$/))&&(st(Gi).to-=as[0].length,Gi.push(new N(0,ye-as[0].length,ye)))),Z=="rtl"?Gi.reverse():Gi}}();function re(l,p){var b=l.order;return b==null&&(b=l.order=fe(l.text,p)),b}var _e=[],ge=function(l,p,b){if(l.addEventListener)l.addEventListener(p,b,!1);else if(l.attachEvent)l.attachEvent("on"+p,b);else{var v=l._handlers||(l._handlers={});v[p]=(v[p]||_e).concat(b)}};function je(l,p){return l._handlers&&l._handlers[p]||_e}function Qe(l,p,b){if(l.removeEventListener)l.removeEventListener(p,b,!1);else if(l.detachEvent)l.detachEvent("on"+p,b);else{var v=l._handlers,x=v&&v[p];if(x){var T=kt(x,b);T>-1&&(v[p]=x.slice(0,T).concat(x.slice(T+1)))}}}function et(l,p){var b=je(l,p);if(b.length)for(var v=Array.prototype.slice.call(arguments,2),x=0;x<b.length;++x)b[x].apply(null,v)}function We(l,p,b){return typeof p=="string"&&(p={type:p,preventDefault:function(){this.defaultPrevented=!0}}),et(l,b||p.type,l,p),Wt(p)||p.codemirrorIgnore}function gt(l){var p=l._handlers&&l._handlers.cursorActivity;if(p)for(var b=l.curOp.cursorActivityHandlers||(l.curOp.cursorActivityHandlers=[]),v=0;v<p.length;++v)kt(b,p[v])==-1&&b.push(p[v])}function _t(l,p){return je(l,p).length>0}function xt(l){l.prototype.on=function(p,b){ge(this,p,b)},l.prototype.off=function(p,b){Qe(this,p,b)}}function ft(l){l.preventDefault?l.preventDefault():l.returnValue=!1}function Vt(l){l.stopPropagation?l.stopPropagation():l.cancelBubble=!0}function Wt(l){return l.defaultPrevented!=null?l.defaultPrevented:l.returnValue==!1}function fi(l){ft(l),Vt(l)}function Ji(l){return l.target||l.srcElement}function qi(l){var p=l.which;return p==null&&(l.button&1?p=1:l.button&2?p=3:l.button&4&&(p=2)),se&&l.ctrlKey&&p==1&&(p=3),p}var ta=function(){if(S&&D<9)return!1;var l=ce("div");return"draggable"in l||"dragDrop"in l}(),ia;function ko(l){if(ia==null){var p=ce("span","​");rt(l,ce("span",[p,document.createTextNode("x")])),l.firstChild.offsetHeight!=0&&(ia=p.offsetWidth<=1&&p.offsetHeight>2&&!(S&&D<8))}var b=ia?ce("span","​"):ce("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return b.setAttribute("cm-text",""),b}var Zn;function Pa(l){if(Zn!=null)return Zn;var p=rt(l,document.createTextNode("AخA")),b=Oe(p,0,1).getBoundingClientRect(),v=Oe(p,1,2).getBoundingClientRect();return nt(l),!b||b.left==b.right?!1:Zn=v.right-b.right<3}var Ba=`

b`.split(/\n/).length!=3?function(l){for(var p=0,b=[],v=l.length;p<=v;){var x=l.indexOf(`
`,p);x==-1&&(x=l.length);var T=l.slice(p,l.charAt(x-1)=="\r"?x-1:x),M=T.indexOf("\r");M!=-1?(b.push(T.slice(0,M)),p+=M+1):(b.push(T),p=x+1)}return b}:function(l){return l.split(/\r\n?|\n/)},nl=window.getSelection?function(l){try{return l.selectionStart!=l.selectionEnd}catch{return!1}}:function(l){var p;try{p=l.ownerDocument.selection.createRange()}catch{}return!p||p.parentElement()!=l?!1:p.compareEndPoints("StartToEnd",p)!=0},pi=function(){var l=ce("div");return"oncopy"in l?!0:(l.setAttribute("oncopy","return;"),typeof l.oncopy=="function")}(),cn=null;function En(l){if(cn!=null)return cn;var p=rt(l,ce("span","x")),b=p.getBoundingClientRect(),v=Oe(p,0,1).getBoundingClientRect();return cn=Math.abs(b.left-v.left)>1}var vn={},dn={};function As(l,p){arguments.length>2&&(p.dependencies=Array.prototype.slice.call(arguments,2)),vn[l]=p}function Ms(l,p){dn[l]=p}function Fs(l){if(typeof l=="string"&&dn.hasOwnProperty(l))l=dn[l];else if(l&&typeof l.name=="string"&&dn.hasOwnProperty(l.name)){var p=dn[l.name];typeof p=="string"&&(p={name:p}),l=xe(p,l),l.name=p.name}else{if(typeof l=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(l))return Fs("application/xml");if(typeof l=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(l))return Fs("application/json")}return typeof l=="string"?{name:l}:l||{name:"null"}}function na(l,p){p=Fs(p);var b=vn[p.name];if(!b)return na(l,"text/plain");var v=b(l,p);if(sa.hasOwnProperty(p.name)){var x=sa[p.name];for(var T in x)x.hasOwnProperty(T)&&(v.hasOwnProperty(T)&&(v["_"+T]=v[T]),v[T]=x[T])}if(v.name=p.name,p.helperType&&(v.helperType=p.helperType),p.modeProps)for(var M in p.modeProps)v[M]=p.modeProps[M];return v}var sa={};function Zu(l,p){var b=sa.hasOwnProperty(l)?sa[l]:sa[l]={};ti(p,b)}function Is(l,p){if(p===!0)return p;if(l.copyState)return l.copyState(p);var b={};for(var v in p){var x=p[v];x instanceof Array&&(x=x.concat([])),b[v]=x}return b}function fr(l,p){for(var b;l.innerMode&&(b=l.innerMode(p),!(!b||b.mode==l));)p=b.state,l=b.mode;return b||{mode:l,state:p}}function Ju(l,p,b){return l.startState?l.startState(p,b):!0}var Ci=function(l,p,b){this.pos=this.start=0,this.string=l,this.tabSize=p||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=b};Ci.prototype.eol=function(){return this.pos>=this.string.length},Ci.prototype.sol=function(){return this.pos==this.lineStart},Ci.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ci.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ci.prototype.eat=function(l){var p=this.string.charAt(this.pos),b;if(typeof l=="string"?b=p==l:b=p&&(l.test?l.test(p):l(p)),b)return++this.pos,p},Ci.prototype.eatWhile=function(l){for(var p=this.pos;this.eat(l););return this.pos>p},Ci.prototype.eatSpace=function(){for(var l=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>l},Ci.prototype.skipToEnd=function(){this.pos=this.string.length},Ci.prototype.skipTo=function(l){var p=this.string.indexOf(l,this.pos);if(p>-1)return this.pos=p,!0},Ci.prototype.backUp=function(l){this.pos-=l},Ci.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=$t(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?$t(this.string,this.lineStart,this.tabSize):0)},Ci.prototype.indentation=function(){return $t(this.string,null,this.tabSize)-(this.lineStart?$t(this.string,this.lineStart,this.tabSize):0)},Ci.prototype.match=function(l,p,b){if(typeof l=="string"){var v=function(M){return b?M.toLowerCase():M},x=this.string.substr(this.pos,l.length);if(v(x)==v(l))return p!==!1&&(this.pos+=l.length),!0}else{var T=this.string.slice(this.pos).match(l);return T&&T.index>0?null:(T&&p!==!1&&(this.pos+=T[0].length),T)}},Ci.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ci.prototype.hideFirstChars=function(l,p){this.lineStart+=l;try{return p()}finally{this.lineStart-=l}},Ci.prototype.lookAhead=function(l){var p=this.lineOracle;return p&&p.lookAhead(l)},Ci.prototype.baseToken=function(){var l=this.lineOracle;return l&&l.baseToken(this.pos)};function at(l,p){if(p-=l.first,p<0||p>=l.size)throw new Error("There is no line "+(p+l.first)+" in the document.");for(var b=l;!b.lines;)for(var v=0;;++v){var x=b.children[v],T=x.chunkSize();if(p<T){b=x;break}p-=T}return b.lines[p]}function ds(l,p,b){var v=[],x=p.line;return l.iter(p.line,b.line+1,function(T){var M=T.text;x==b.line&&(M=M.slice(0,b.ch)),x==p.line&&(M=M.slice(p.ch)),v.push(M),++x}),v}function So(l,p,b){var v=[];return l.iter(p,b,function(x){v.push(x.text)}),v}function Rn(l,p){var b=p-l.height;if(b)for(var v=l;v;v=v.parent)v.height+=b}function Rt(l){if(l.parent==null)return null;for(var p=l.parent,b=kt(p.lines,l),v=p.parent;v;p=v,v=v.parent)for(var x=0;v.children[x]!=p;++x)b+=v.children[x].chunkSize();return b+p.first}function Ls(l,p){var b=l.first;e:do{for(var v=0;v<l.children.length;++v){var x=l.children[v],T=x.height;if(p<T){l=x;continue e}p-=T,b+=x.chunkSize()}return b}while(!l.lines);for(var M=0;M<l.lines.length;++M){var L=l.lines[M],N=L.height;if(p<N)break;p-=N}return b+M}function Na(l,p){return p>=l.first&&p<l.first+l.size}function pr(l,p){return String(l.lineNumberFormatter(p+l.firstLineNumber))}function He(l,p,b){if(b===void 0&&(b=null),!(this instanceof He))return new He(l,p,b);this.line=l,this.ch=p,this.sticky=b}function vt(l,p){return l.line-p.line||l.ch-p.ch}function mr(l,p){return l.sticky==p.sticky&&vt(l,p)==0}function gr(l){return He(l.line,l.ch)}function Do(l,p){return vt(l,p)<0?p:l}function To(l,p){return vt(l,p)<0?l:p}function bn(l,p){return Math.max(l.first,Math.min(p,l.first+l.size-1))}function Ct(l,p){if(p.line<l.first)return He(l.first,0);var b=l.first+l.size-1;return p.line>b?He(b,at(l,b).text.length):sl(p,at(l,p.line).text.length)}function sl(l,p){var b=l.ch;return b==null||b>p?He(l.line,p):b<0?He(l.line,0):l}function Qu(l,p){for(var b=[],v=0;v<p.length;v++)b[v]=Ct(l,p[v]);return b}var Os=function(l,p){this.state=l,this.lookAhead=p},zn=function(l,p,b,v){this.state=p,this.doc=l,this.line=b,this.maxLookAhead=v||0,this.baseTokens=null,this.baseTokenPos=1};zn.prototype.lookAhead=function(l){var p=this.doc.getLine(this.line+l);return p!=null&&l>this.maxLookAhead&&(this.maxLookAhead=l),p},zn.prototype.baseToken=function(l){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=l;)this.baseTokenPos+=2;var p=this.baseTokens[this.baseTokenPos+1];return{type:p&&p.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-l}},zn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},zn.fromSaved=function(l,p,b){return p instanceof Os?new zn(l,Is(l.mode,p.state),b,p.lookAhead):new zn(l,Is(l.mode,p),b)},zn.prototype.save=function(l){var p=l!==!1?Is(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Os(p,this.maxLookAhead):p};function al(l,p,b,v){var x=[l.state.modeGen],T={};dl(l,p.text,l.doc.mode,b,function(z,Z){return x.push(z,Z)},T,v);for(var M=b.state,L=function(z){b.baseTokens=x;var Z=l.state.overlays[z],ie=1,ye=0;b.state=!0,dl(l,p.text,Z.mode,b,function(pe,Ee){for(var Ne=ie;ye<pe;){var Ve=x[ie];Ve>pe&&x.splice(ie,1,pe,x[ie+1],Ve),ie+=2,ye=Math.min(pe,Ve)}if(Ee)if(Z.opaque)x.splice(Ne,ie-Ne,pe,"overlay "+Ee),ie=Ne+2;else for(;Ne<ie;Ne+=2){var qe=x[Ne+1];x[Ne+1]=(qe?qe+" ":"")+"overlay "+Ee}},T),b.state=M,b.baseTokens=null,b.baseTokenPos=1},N=0;N<l.state.overlays.length;++N)L(N);return{styles:x,classes:T.bgClass||T.textClass?T:null}}function ol(l,p,b){if(!p.styles||p.styles[0]!=l.state.modeGen){var v=Ra(l,Rt(p)),x=p.text.length>l.options.maxHighlightLength&&Is(l.doc.mode,v.state),T=al(l,p,v);x&&(v.state=x),p.stateAfter=v.save(!x),p.styles=T.styles,T.classes?p.styleClasses=T.classes:p.styleClasses&&(p.styleClasses=null),b===l.doc.highlightFrontier&&(l.doc.modeFrontier=Math.max(l.doc.modeFrontier,++l.doc.highlightFrontier))}return p.styles}function Ra(l,p,b){var v=l.doc,x=l.display;if(!v.mode.startState)return new zn(v,!0,p);var T=ec(l,p,b),M=T>v.first&&at(v,T-1).stateAfter,L=M?zn.fromSaved(v,M,T):new zn(v,Ju(v.mode),T);return v.iter(T,p,function(N){vr(l,N.text,L);var z=L.line;N.stateAfter=z==p-1||z%5==0||z>=x.viewFrom&&z<x.viewTo?L.save():null,L.nextLine()}),b&&(v.modeFrontier=L.line),L}function vr(l,p,b,v){var x=l.doc.mode,T=new Ci(p,l.options.tabSize,b);for(T.start=T.pos=v||0,p==""&&rl(x,b.state);!T.eol();)br(x,T,b.state),T.start=T.pos}function rl(l,p){if(l.blankLine)return l.blankLine(p);if(l.innerMode){var b=fr(l,p);if(b.mode.blankLine)return b.mode.blankLine(b.state)}}function br(l,p,b,v){for(var x=0;x<10;x++){v&&(v[0]=fr(l,b).mode);var T=l.token(p,b);if(p.pos>p.start)return T}throw new Error("Mode "+l.name+" failed to advance stream.")}var ll=function(l,p,b){this.start=l.start,this.end=l.pos,this.string=l.current(),this.type=p||null,this.state=b};function ul(l,p,b,v){var x=l.doc,T=x.mode,M;p=Ct(x,p);var L=at(x,p.line),N=Ra(l,p.line,b),z=new Ci(L.text,l.options.tabSize,N),Z;for(v&&(Z=[]);(v||z.pos<p.ch)&&!z.eol();)z.start=z.pos,M=br(T,z,N.state),v&&Z.push(new ll(z,M,Is(x.mode,N.state)));return v?Z:new ll(z,M,N.state)}function cl(l,p){if(l)for(;;){var b=l.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!b)break;l=l.slice(0,b.index)+l.slice(b.index+b[0].length);var v=b[1]?"bgClass":"textClass";p[v]==null?p[v]=b[2]:new RegExp("(?:^|\\s)"+b[2]+"(?:$|\\s)").test(p[v])||(p[v]+=" "+b[2])}return l}function dl(l,p,b,v,x,T,M){var L=b.flattenSpans;L==null&&(L=l.options.flattenSpans);var N=0,z=null,Z=new Ci(p,l.options.tabSize,v),ie,ye=l.options.addModeClass&&[null];for(p==""&&cl(rl(b,v.state),T);!Z.eol();){if(Z.pos>l.options.maxHighlightLength?(L=!1,M&&vr(l,p,v,Z.pos),Z.pos=p.length,ie=null):ie=cl(br(b,Z,v.state,ye),T),ye){var pe=ye[0].name;pe&&(ie="m-"+(ie?pe+" "+ie:pe))}if(!L||z!=ie){for(;N<Z.start;)N=Math.min(Z.start,N+5e3),x(N,z);z=ie}Z.start=Z.pos}for(;N<Z.pos;){var Ee=Math.min(Z.pos,N+5e3);x(Ee,z),N=Ee}}function ec(l,p,b){for(var v,x,T=l.doc,M=b?-1:p-(l.doc.mode.innerMode?1e3:100),L=p;L>M;--L){if(L<=T.first)return T.first;var N=at(T,L-1),z=N.stateAfter;if(z&&(!b||L+(z instanceof Os?z.lookAhead:0)<=T.modeFrontier))return L;var Z=$t(N.text,null,l.options.tabSize);(x==null||v>Z)&&(x=L-1,v=Z)}return x}function yh(l,p){if(l.modeFrontier=Math.min(l.modeFrontier,p),!(l.highlightFrontier<p-10)){for(var b=l.first,v=p-1;v>b;v--){var x=at(l,v).stateAfter;if(x&&(!(x instanceof Os)||v+x.lookAhead<p)){b=v+1;break}}l.highlightFrontier=Math.min(l.highlightFrontier,b)}}var hl=!1,In=!1;function tc(){hl=!0}function _h(){In=!0}function yr(l,p,b){this.marker=l,this.from=p,this.to=b}function Eo(l,p){if(l)for(var b=0;b<l.length;++b){var v=l[b];if(v.marker==p)return v}}function Ch(l,p){for(var b,v=0;v<l.length;++v)l[v]!=p&&(b||(b=[])).push(l[v]);return b}function xh(l,p,b){var v=b&&window.WeakSet&&(b.markedSpans||(b.markedSpans=new WeakSet));v&&l.markedSpans&&v.has(l.markedSpans)?l.markedSpans.push(p):(l.markedSpans=l.markedSpans?l.markedSpans.concat([p]):[p],v&&v.add(l.markedSpans)),p.marker.attachLine(l)}function wh(l,p,b){var v;if(l)for(var x=0;x<l.length;++x){var T=l[x],M=T.marker,L=T.from==null||(M.inclusiveLeft?T.from<=p:T.from<p);if(L||T.from==p&&M.type=="bookmark"&&(!b||!T.marker.insertLeft)){var N=T.to==null||(M.inclusiveRight?T.to>=p:T.to>p);(v||(v=[])).push(new yr(M,T.from,N?null:T.to))}}return v}function za(l,p,b){var v;if(l)for(var x=0;x<l.length;++x){var T=l[x],M=T.marker,L=T.to==null||(M.inclusiveRight?T.to>=p:T.to>p);if(L||T.from==p&&M.type=="bookmark"&&(!b||T.marker.insertLeft)){var N=T.from==null||(M.inclusiveLeft?T.from<=p:T.from<p);(v||(v=[])).push(new yr(M,N?null:T.from-p,T.to==null?null:T.to-p))}}return v}function fl(l,p){if(p.full)return null;var b=Na(l,p.from.line)&&at(l,p.from.line).markedSpans,v=Na(l,p.to.line)&&at(l,p.to.line).markedSpans;if(!b&&!v)return null;var x=p.from.ch,T=p.to.ch,M=vt(p.from,p.to)==0,L=wh(b,x,M),N=za(v,T,M),z=p.text.length==1,Z=st(p.text).length+(z?x:0);if(L)for(var ie=0;ie<L.length;++ie){var ye=L[ie];if(ye.to==null){var pe=Eo(N,ye.marker);pe?z&&(ye.to=pe.to==null?null:pe.to+Z):ye.to=x}}if(N)for(var Ee=0;Ee<N.length;++Ee){var Ne=N[Ee];if(Ne.to!=null&&(Ne.to+=Z),Ne.from==null){var Ve=Eo(L,Ne.marker);Ve||(Ne.from=Z,z&&(L||(L=[])).push(Ne))}else Ne.from+=Z,z&&(L||(L=[])).push(Ne)}L&&(L=pt(L)),N&&N!=L&&(N=pt(N));var qe=[L];if(!z){var Ke=p.text.length-2,Ye;if(Ke>0&&L)for(var tt=0;tt<L.length;++tt)L[tt].to==null&&(Ye||(Ye=[])).push(new yr(L[tt].marker,null,null));for(var dt=0;dt<Ke;++dt)qe.push(Ye);qe.push(N)}return qe}function pt(l){for(var p=0;p<l.length;++p){var b=l[p];b.from!=null&&b.from==b.to&&b.marker.clearWhenEmpty!==!1&&l.splice(p--,1)}return l.length?l:null}function Qi(l,p,b){var v=null;if(l.iter(p.line,b.line+1,function(pe){if(pe.markedSpans)for(var Ee=0;Ee<pe.markedSpans.length;++Ee){var Ne=pe.markedSpans[Ee].marker;Ne.readOnly&&(!v||kt(v,Ne)==-1)&&(v||(v=[])).push(Ne)}}),!v)return null;for(var x=[{from:p,to:b}],T=0;T<v.length;++T)for(var M=v[T],L=M.find(0),N=0;N<x.length;++N){var z=x[N];if(!(vt(z.to,L.from)<0||vt(z.from,L.to)>0)){var Z=[N,1],ie=vt(z.from,L.from),ye=vt(z.to,L.to);(ie<0||!M.inclusiveLeft&&!ie)&&Z.push({from:z.from,to:L.from}),(ye>0||!M.inclusiveRight&&!ye)&&Z.push({from:L.to,to:z.to}),x.splice.apply(x,Z),N+=Z.length-3}}return x}function ic(l){var p=l.markedSpans;if(p){for(var b=0;b<p.length;++b)p[b].marker.detachLine(l);l.markedSpans=null}}function Ps(l,p){if(p){for(var b=0;b<p.length;++b)p[b].marker.attachLine(l);l.markedSpans=p}}function Jn(l){return l.inclusiveLeft?-1:0}function hs(l){return l.inclusiveRight?1:0}function fs(l,p){var b=l.lines.length-p.lines.length;if(b!=0)return b;var v=l.find(),x=p.find(),T=vt(v.from,x.from)||Jn(l)-Jn(p);if(T)return-T;var M=vt(v.to,x.to)||hs(l)-hs(p);return M||p.id-l.id}function aa(l,p){var b=In&&l.markedSpans,v;if(b)for(var x=void 0,T=0;T<b.length;++T)x=b[T],x.marker.collapsed&&(p?x.from:x.to)==null&&(!v||fs(v,x.marker)<0)&&(v=x.marker);return v}function pl(l){return aa(l,!0)}function Ao(l){return aa(l,!1)}function nc(l,p){var b=In&&l.markedSpans,v;if(b)for(var x=0;x<b.length;++x){var T=b[x];T.marker.collapsed&&(T.from==null||T.from<p)&&(T.to==null||T.to>p)&&(!v||fs(v,T.marker)<0)&&(v=T.marker)}return v}function _r(l,p,b,v,x){var T=at(l,p),M=In&&T.markedSpans;if(M)for(var L=0;L<M.length;++L){var N=M[L];if(N.marker.collapsed){var z=N.marker.find(0),Z=vt(z.from,b)||Jn(N.marker)-Jn(x),ie=vt(z.to,v)||hs(N.marker)-hs(x);if(!(Z>=0&&ie<=0||Z<=0&&ie>=0)&&(Z<=0&&(N.marker.inclusiveRight&&x.inclusiveLeft?vt(z.to,b)>=0:vt(z.to,b)>0)||Z>=0&&(N.marker.inclusiveRight&&x.inclusiveLeft?vt(z.from,v)<=0:vt(z.from,v)<0)))return!0}}}function Hi(l){for(var p;p=pl(l);)l=p.find(-1,!0).line;return l}function sc(l){for(var p;p=Ao(l);)l=p.find(1,!0).line;return l}function kh(l){for(var p,b;p=Ao(l);)l=p.find(1,!0).line,(b||(b=[])).push(l);return b}function ml(l,p){var b=at(l,p),v=Hi(b);return b==v?p:Rt(v)}function ac(l,p){if(p>l.lastLine())return p;var b=at(l,p),v;if(!mi(l,b))return p;for(;v=Ao(b);)b=v.find(1,!0).line;return Rt(b)+1}function mi(l,p){var b=In&&p.markedSpans;if(b){for(var v=void 0,x=0;x<b.length;++x)if(v=b[x],!!v.marker.collapsed){if(v.from==null)return!0;if(!v.marker.widgetNode&&v.from==0&&v.marker.inclusiveLeft&&W(l,p,v))return!0}}}function W(l,p,b){if(b.to==null){var v=b.marker.find(1,!0);return W(l,v.line,Eo(v.line.markedSpans,b.marker))}if(b.marker.inclusiveRight&&b.to==p.text.length)return!0;for(var x=void 0,T=0;T<p.markedSpans.length;++T)if(x=p.markedSpans[T],x.marker.collapsed&&!x.marker.widgetNode&&x.from==b.to&&(x.to==null||x.to!=b.from)&&(x.marker.inclusiveLeft||b.marker.inclusiveRight)&&W(l,p,x))return!0}function Qn(l){l=Hi(l);for(var p=0,b=l.parent,v=0;v<b.lines.length;++v){var x=b.lines[v];if(x==l)break;p+=x.height}for(var T=b.parent;T;b=T,T=b.parent)for(var M=0;M<T.children.length;++M){var L=T.children[M];if(L==b)break;p+=L.height}return p}function Bs(l){if(l.height==0)return 0;for(var p=l.text.length,b,v=l;b=pl(v);){var x=b.find(0,!0);v=x.from.line,p+=x.from.ch-x.to.ch}for(v=l;b=Ao(v);){var T=b.find(0,!0);p-=v.text.length-T.from.ch,v=T.to.line,p+=v.text.length-T.to.ch}return p}function es(l){var p=l.display,b=l.doc;p.maxLine=at(b,b.first),p.maxLineLength=Bs(p.maxLine),p.maxLineChanged=!0,b.iter(function(v){var x=Bs(v);x>p.maxLineLength&&(p.maxLineLength=x,p.maxLine=v)})}var Ha=function(l,p,b){this.text=l,Ps(this,p),this.height=b?b(this):1};Ha.prototype.lineNo=function(){return Rt(this)},xt(Ha);function Sh(l,p,b,v){l.text=p,l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null),l.order!=null&&(l.order=null),ic(l),Ps(l,b);var x=v?v(l):1;x!=l.height&&Rn(l,x)}function ps(l){l.parent=null,ic(l)}var Dh={},Th={};function oc(l,p){if(!l||/^\s*$/.test(l))return null;var b=p.addModeClass?Th:Dh;return b[l]||(b[l]=l.replace(/\S+/g,"cm-$&"))}function rc(l,p){var b=Pe("span",null,null,A?"padding-right: .1px":null),v={pre:Pe("pre",[b],"CodeMirror-line"),content:b,col:0,pos:0,cm:l,trailingSpace:!1,splitSpaces:l.getOption("lineWrapping")};p.measure={};for(var x=0;x<=(p.rest?p.rest.length:0);x++){var T=x?p.rest[x-1]:p.line,M=void 0;v.pos=0,v.addToken=lc,Pa(l.display.measure)&&(M=re(T,l.doc.direction))&&(v.addToken=Mh(v.addToken,M)),v.map=[];var L=p!=l.display.externalMeasured&&Rt(T);Fh(T,v,ol(l,T,L)),T.styleClasses&&(T.styleClasses.bgClass&&(v.bgClass=Zi(T.styleClasses.bgClass,v.bgClass||"")),T.styleClasses.textClass&&(v.textClass=Zi(T.styleClasses.textClass,v.textClass||""))),v.map.length==0&&v.map.push(0,0,v.content.appendChild(ko(l.display.measure))),x==0?(p.measure.map=v.map,p.measure.cache={}):((p.measure.maps||(p.measure.maps=[])).push(v.map),(p.measure.caches||(p.measure.caches=[])).push({}))}if(A){var N=v.content.lastChild;(/\bcm-tab\b/.test(N.className)||N.querySelector&&N.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return et(l,"renderLine",l,p.line,v.pre),v.pre.className&&(v.textClass=Zi(v.pre.className,v.textClass||"")),v}function Eh(l){var p=ce("span","•","cm-invalidchar");return p.title="\\u"+l.charCodeAt(0).toString(16),p.setAttribute("aria-label",p.title),p}function lc(l,p,b,v,x,T,M){if(p){var L=l.splitSpaces?Ah(p,l.trailingSpace):p,N=l.cm.state.specialChars,z=!1,Z;if(!N.test(p))l.col+=p.length,Z=document.createTextNode(L),l.map.push(l.pos,l.pos+p.length,Z),S&&D<9&&(z=!0),l.pos+=p.length;else{Z=document.createDocumentFragment();for(var ie=0;;){N.lastIndex=ie;var ye=N.exec(p),pe=ye?ye.index-ie:p.length-ie;if(pe){var Ee=document.createTextNode(L.slice(ie,ie+pe));S&&D<9?Z.appendChild(ce("span",[Ee])):Z.appendChild(Ee),l.map.push(l.pos,l.pos+pe,Ee),l.col+=pe,l.pos+=pe}if(!ye)break;ie+=pe+1;var Ne=void 0;if(ye[0]=="	"){var Ve=l.cm.options.tabSize,qe=Ve-l.col%Ve;Ne=Z.appendChild(ce("span",Tn(qe),"cm-tab")),Ne.setAttribute("role","presentation"),Ne.setAttribute("cm-text","	"),l.col+=qe}else ye[0]=="\r"||ye[0]==`
`?(Ne=Z.appendChild(ce("span",ye[0]=="\r"?"␍":"␤","cm-invalidchar")),Ne.setAttribute("cm-text",ye[0]),l.col+=1):(Ne=l.cm.options.specialCharPlaceholder(ye[0]),Ne.setAttribute("cm-text",ye[0]),S&&D<9?Z.appendChild(ce("span",[Ne])):Z.appendChild(Ne),l.col+=1);l.map.push(l.pos,l.pos+1,Ne),l.pos++}}if(l.trailingSpace=L.charCodeAt(p.length-1)==32,b||v||x||z||T||M){var Ke=b||"";v&&(Ke+=v),x&&(Ke+=x);var Ye=ce("span",[Z],Ke,T);if(M)for(var tt in M)M.hasOwnProperty(tt)&&tt!="style"&&tt!="class"&&Ye.setAttribute(tt,M[tt]);return l.content.appendChild(Ye)}l.content.appendChild(Z)}}function Ah(l,p){if(l.length>1&&!/  /.test(l))return l;for(var b=p,v="",x=0;x<l.length;x++){var T=l.charAt(x);T==" "&&b&&(x==l.length-1||l.charCodeAt(x+1)==32)&&(T=" "),v+=T,b=T==" "}return v}function Mh(l,p){return function(b,v,x,T,M,L,N){x=x?x+" cm-force-border":"cm-force-border";for(var z=b.pos,Z=z+v.length;;){for(var ie=void 0,ye=0;ye<p.length&&(ie=p[ye],!(ie.to>z&&ie.from<=z));ye++);if(ie.to>=Z)return l(b,v,x,T,M,L,N);l(b,v.slice(0,ie.to-z),x,T,null,L,N),T=null,v=v.slice(ie.to-z),z=ie.to}}}function uc(l,p,b,v){var x=!v&&b.widgetNode;x&&l.map.push(l.pos,l.pos+p,x),!v&&l.cm.display.input.needsContentAttribute&&(x||(x=l.content.appendChild(document.createElement("span"))),x.setAttribute("cm-marker",b.id)),x&&(l.cm.display.input.setUneditable(x),l.content.appendChild(x)),l.pos+=p,l.trailingSpace=!1}function Fh(l,p,b){var v=l.markedSpans,x=l.text,T=0;if(!v){for(var M=1;M<b.length;M+=2)p.addToken(p,x.slice(T,T=b[M]),oc(b[M+1],p.cm.options));return}for(var L=x.length,N=0,z=1,Z="",ie,ye,pe=0,Ee,Ne,Ve,qe,Ke;;){if(pe==N){Ee=Ne=Ve=ye="",Ke=null,qe=null,pe=1/0;for(var Ye=[],tt=void 0,dt=0;dt<v.length;++dt){var lt=v[dt],St=lt.marker;if(St.type=="bookmark"&&lt.from==N&&St.widgetNode)Ye.push(St);else if(lt.from<=N&&(lt.to==null||lt.to>N||St.collapsed&&lt.to==N&&lt.from==N)){if(lt.to!=null&&lt.to!=N&&pe>lt.to&&(pe=lt.to,Ne=""),St.className&&(Ee+=" "+St.className),St.css&&(ye=(ye?ye+";":"")+St.css),St.startStyle&&lt.from==N&&(Ve+=" "+St.startStyle),St.endStyle&&lt.to==pe&&(tt||(tt=[])).push(St.endStyle,lt.to),St.title&&((Ke||(Ke={})).title=St.title),St.attributes)for(var qt in St.attributes)(Ke||(Ke={}))[qt]=St.attributes[qt];St.collapsed&&(!qe||fs(qe.marker,St)<0)&&(qe=lt)}else lt.from>N&&pe>lt.from&&(pe=lt.from)}if(tt)for(var Bi=0;Bi<tt.length;Bi+=2)tt[Bi+1]==pe&&(Ne+=" "+tt[Bi]);if(!qe||qe.from==N)for(var ai=0;ai<Ye.length;++ai)uc(p,0,Ye[ai]);if(qe&&(qe.from||0)==N){if(uc(p,(qe.to==null?L+1:qe.to)-N,qe.marker,qe.from==null),qe.to==null)return;qe.to==N&&(qe=!1)}}if(N>=L)break;for(var wn=Math.min(L,pe);;){if(Z){var an=N+Z.length;if(!qe){var xi=an>wn?Z.slice(0,wn-N):Z;p.addToken(p,xi,ie?ie+Ee:Ee,Ve,N+xi.length==pe?Ne:"",ye,Ke)}if(an>=wn){Z=Z.slice(wn-N),N=wn;break}N=an,Ve=""}Z=x.slice(T,T=b[z++]),ie=oc(b[z++],p.cm.options)}}}function gl(l,p,b){this.line=p,this.rest=kh(p),this.size=this.rest?Rt(st(this.rest))-b+1:1,this.node=this.text=null,this.hidden=mi(l,p)}function $a(l,p,b){for(var v=[],x,T=p;T<b;T=x){var M=new gl(l.doc,at(l.doc,T),T);x=T+M.size,v.push(M)}return v}var Va=null;function Ih(l){Va?Va.ops.push(l):l.ownsGroup=Va={ops:[l],delayedCallbacks:[]}}function Lh(l){var p=l.delayedCallbacks,b=0;do{for(;b<p.length;b++)p[b].call(null);for(var v=0;v<l.ops.length;v++){var x=l.ops[v];if(x.cursorActivityHandlers)for(;x.cursorActivityCalled<x.cursorActivityHandlers.length;)x.cursorActivityHandlers[x.cursorActivityCalled++].call(null,x.cm)}}while(b<p.length)}function cc(l,p){var b=l.ownsGroup;if(b)try{Lh(b)}finally{Va=null,p(b)}}var Wa=null;function Oi(l,p){var b=je(l,p);if(b.length){var v=Array.prototype.slice.call(arguments,2),x;Va?x=Va.delayedCallbacks:Wa?x=Wa:(x=Wa=[],setTimeout(dc,0));for(var T=function(L){x.push(function(){return b[L].apply(null,v)})},M=0;M<b.length;++M)T(M)}}function dc(){var l=Wa;Wa=null;for(var p=0;p<l.length;++p)l[p]()}function Hn(l,p,b,v){for(var x=0;x<p.changes.length;x++){var T=p.changes[x];T=="text"?ja(l,p):T=="gutter"?ra(l,p,b,v):T=="class"?vl(l,p):T=="widget"&&Ph(l,p,v)}p.changes=null}function oa(l){return l.node==l.text&&(l.node=ce("div",null,null,"position: relative"),l.text.parentNode&&l.text.parentNode.replaceChild(l.node,l.text),l.node.appendChild(l.text),S&&D<8&&(l.node.style.zIndex=2)),l.node}function Oh(l,p){var b=p.bgClass?p.bgClass+" "+(p.line.bgClass||""):p.line.bgClass;if(b&&(b+=" CodeMirror-linebackground"),p.background)b?p.background.className=b:(p.background.parentNode.removeChild(p.background),p.background=null);else if(b){var v=oa(p);p.background=v.insertBefore(ce("div",null,b),v.firstChild),l.display.input.setUneditable(p.background)}}function Cr(l,p){var b=l.display.externalMeasured;return b&&b.line==p.line?(l.display.externalMeasured=null,p.measure=b.measure,b.built):rc(l,p)}function ja(l,p){var b=p.text.className,v=Cr(l,p);p.text==p.node&&(p.node=v.pre),p.text.parentNode.replaceChild(v.pre,p.text),p.text=v.pre,v.bgClass!=p.bgClass||v.textClass!=p.textClass?(p.bgClass=v.bgClass,p.textClass=v.textClass,vl(l,p)):b&&(p.text.className=b)}function vl(l,p){Oh(l,p),p.line.wrapClass?oa(p).className=p.line.wrapClass:p.node!=p.text&&(p.node.className="");var b=p.textClass?p.textClass+" "+(p.line.textClass||""):p.line.textClass;p.text.className=b||""}function ra(l,p,b,v){if(p.gutter&&(p.node.removeChild(p.gutter),p.gutter=null),p.gutterBackground&&(p.node.removeChild(p.gutterBackground),p.gutterBackground=null),p.line.gutterClass){var x=oa(p);p.gutterBackground=ce("div",null,"CodeMirror-gutter-background "+p.line.gutterClass,"left: "+(l.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),l.display.input.setUneditable(p.gutterBackground),x.insertBefore(p.gutterBackground,p.text)}var T=p.line.gutterMarkers;if(l.options.lineNumbers||T){var M=oa(p),L=p.gutter=ce("div",null,"CodeMirror-gutter-wrapper","left: "+(l.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(L.setAttribute("aria-hidden","true"),l.display.input.setUneditable(L),M.insertBefore(L,p.text),p.line.gutterClass&&(L.className+=" "+p.line.gutterClass),l.options.lineNumbers&&(!T||!T["CodeMirror-linenumbers"])&&(p.lineNumber=L.appendChild(ce("div",pr(l.options,b),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.display.lineNumInnerWidth+"px"))),T)for(var N=0;N<l.display.gutterSpecs.length;++N){var z=l.display.gutterSpecs[N].className,Z=T.hasOwnProperty(z)&&T[z];Z&&L.appendChild(ce("div",[Z],"CodeMirror-gutter-elt","left: "+v.gutterLeft[z]+"px; width: "+v.gutterWidth[z]+"px"))}}}function Ph(l,p,b){p.alignable&&(p.alignable=null);for(var v=Ie("CodeMirror-linewidget"),x=p.node.firstChild,T=void 0;x;x=T)T=x.nextSibling,v.test(x.className)&&p.node.removeChild(x);hc(l,p,b)}function Ua(l,p,b,v){var x=Cr(l,p);return p.text=p.node=x.pre,x.bgClass&&(p.bgClass=x.bgClass),x.textClass&&(p.textClass=x.textClass),vl(l,p),ra(l,p,b,v),hc(l,p,v),p.node}function hc(l,p,b){if(fc(l,p.line,p,b,!0),p.rest)for(var v=0;v<p.rest.length;v++)fc(l,p.rest[v],p,b,!1)}function fc(l,p,b,v,x){if(p.widgets)for(var T=oa(b),M=0,L=p.widgets;M<L.length;++M){var N=L[M],z=ce("div",[N.node],"CodeMirror-linewidget"+(N.className?" "+N.className:""));N.handleMouseEvents||z.setAttribute("cm-ignore-events","true"),pc(N,z,b,v),l.display.input.setUneditable(z),x&&N.above?T.insertBefore(z,b.gutter||b.text):T.appendChild(z),Oi(N,"redraw")}}function pc(l,p,b,v){if(l.noHScroll){(b.alignable||(b.alignable=[])).push(p);var x=v.wrapperWidth;p.style.left=v.fixedPos+"px",l.coverGutter||(x-=v.gutterTotalWidth,p.style.paddingLeft=v.gutterTotalWidth+"px"),p.style.width=x+"px"}l.coverGutter&&(p.style.zIndex=5,p.style.position="relative",l.noHScroll||(p.style.marginLeft=-v.gutterTotalWidth+"px"))}function qa(l){if(l.height!=null)return l.height;var p=l.doc.cm;if(!p)return 0;if(!Je(document.body,l.node)){var b="position: relative;";l.coverGutter&&(b+="margin-left: -"+p.display.gutters.offsetWidth+"px;"),l.noHScroll&&(b+="width: "+p.display.wrapper.clientWidth+"px;"),rt(p.display.measure,ce("div",[l.node],null,b))}return l.height=l.node.parentNode.offsetHeight}function ms(l,p){for(var b=Ji(p);b!=l.wrapper;b=b.parentNode)if(!b||b.nodeType==1&&b.getAttribute("cm-ignore-events")=="true"||b.parentNode==l.sizer&&b!=l.mover)return!0}function xr(l){return l.lineSpace.offsetTop}function bl(l){return l.mover.offsetHeight-l.lineSpace.offsetHeight}function mc(l){if(l.cachedPaddingH)return l.cachedPaddingH;var p=rt(l.measure,ce("pre","x","CodeMirror-line-like")),b=window.getComputedStyle?window.getComputedStyle(p):p.currentStyle,v={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};return!isNaN(v.left)&&!isNaN(v.right)&&(l.cachedPaddingH=v),v}function ts(l){return Lt-l.display.nativeBarWidth}function Ns(l){return l.display.scroller.clientWidth-ts(l)-l.display.barWidth}function yl(l){return l.display.scroller.clientHeight-ts(l)-l.display.barHeight}function _l(l,p,b){var v=l.options.lineWrapping,x=v&&Ns(l);if(!p.measure.heights||v&&p.measure.width!=x){var T=p.measure.heights=[];if(v){p.measure.width=x;for(var M=p.text.firstChild.getClientRects(),L=0;L<M.length-1;L++){var N=M[L],z=M[L+1];Math.abs(N.bottom-z.bottom)>2&&T.push((N.bottom+z.top)/2-b.top)}}T.push(b.bottom-b.top)}}function gc(l,p,b){if(l.line==p)return{map:l.measure.map,cache:l.measure.cache};if(l.rest){for(var v=0;v<l.rest.length;v++)if(l.rest[v]==p)return{map:l.measure.maps[v],cache:l.measure.caches[v]};for(var x=0;x<l.rest.length;x++)if(Rt(l.rest[x])>b)return{map:l.measure.maps[x],cache:l.measure.caches[x],before:!0}}}function Bh(l,p){p=Hi(p);var b=Rt(p),v=l.display.externalMeasured=new gl(l.doc,p,b);v.lineN=b;var x=v.built=rc(l,v);return v.text=x.pre,rt(l.display.lineMeasure,x.pre),v}function vc(l,p,b,v){return is(l,Ya(l,p),b,v)}function Cl(l,p){if(p>=l.display.viewFrom&&p<l.display.viewTo)return l.display.view[ca(l,p)];var b=l.display.externalMeasured;if(b&&p>=b.lineN&&p<b.lineN+b.size)return b}function Ya(l,p){var b=Rt(p),v=Cl(l,b);v&&!v.text?v=null:v&&v.changes&&(Hn(l,v,b,$n(l)),l.curOp.forceUpdate=!0),v||(v=Bh(l,p));var x=gc(v,p,b);return{line:p,view:v,rect:null,map:x.map,cache:x.cache,before:x.before,hasHeights:!1}}function is(l,p,b,v,x){p.before&&(b=-1);var T=b+(v||""),M;return p.cache.hasOwnProperty(T)?M=p.cache[T]:(p.rect||(p.rect=p.view.text.getBoundingClientRect()),p.hasHeights||(_l(l,p.view,p.rect),p.hasHeights=!0),M=Nh(l,p,b,v),M.bogus||(p.cache[T]=M)),{left:M.left,right:M.right,top:x?M.rtop:M.top,bottom:x?M.rbottom:M.bottom}}var bc={left:0,right:0,top:0,bottom:0};function yc(l,p,b){for(var v,x,T,M,L,N,z=0;z<l.length;z+=3)if(L=l[z],N=l[z+1],p<L?(x=0,T=1,M="left"):p<N?(x=p-L,T=x+1):(z==l.length-3||p==N&&l[z+3]>p)&&(T=N-L,x=T-1,p>=N&&(M="right")),x!=null){if(v=l[z+2],L==N&&b==(v.insertLeft?"left":"right")&&(M=b),b=="left"&&x==0)for(;z&&l[z-2]==l[z-3]&&l[z-1].insertLeft;)v=l[(z-=3)+2],M="left";if(b=="right"&&x==N-L)for(;z<l.length-3&&l[z+3]==l[z+4]&&!l[z+5].insertLeft;)v=l[(z+=3)+2],M="right";break}return{node:v,start:x,end:T,collapse:M,coverStart:L,coverEnd:N}}function la(l,p){var b=bc;if(p=="left")for(var v=0;v<l.length&&(b=l[v]).left==b.right;v++);else for(var x=l.length-1;x>=0&&(b=l[x]).left==b.right;x--);return b}function Nh(l,p,b,v){var x=yc(p.map,b,v),T=x.node,M=x.start,L=x.end,N=x.collapse,z;if(T.nodeType==3){for(var Z=0;Z<4;Z++){for(;M&&I(p.line.text.charAt(x.coverStart+M));)--M;for(;x.coverStart+L<x.coverEnd&&I(p.line.text.charAt(x.coverStart+L));)++L;if(S&&D<9&&M==0&&L==x.coverEnd-x.coverStart?z=T.parentNode.getBoundingClientRect():z=la(Oe(T,M,L).getClientRects(),v),z.left||z.right||M==0)break;L=M,M=M-1,N="right"}S&&D<11&&(z=Rh(l.display.measure,z))}else{M>0&&(N=v="right");var ie;l.options.lineWrapping&&(ie=T.getClientRects()).length>1?z=ie[v=="right"?ie.length-1:0]:z=T.getBoundingClientRect()}if(S&&D<9&&!M&&(!z||!z.left&&!z.right)){var ye=T.parentNode.getClientRects()[0];ye?z={left:ye.left,right:ye.left+Ka(l.display),top:ye.top,bottom:ye.bottom}:z=bc}for(var pe=z.top-p.rect.top,Ee=z.bottom-p.rect.top,Ne=(pe+Ee)/2,Ve=p.view.measure.heights,qe=0;qe<Ve.length-1&&!(Ne<Ve[qe]);qe++);var Ke=qe?Ve[qe-1]:0,Ye=Ve[qe],tt={left:(N=="right"?z.right:z.left)-p.rect.left,right:(N=="left"?z.left:z.right)-p.rect.left,top:Ke,bottom:Ye};return!z.left&&!z.right&&(tt.bogus=!0),l.options.singleCursorHeightPerLine||(tt.rtop=pe,tt.rbottom=Ee),tt}function Rh(l,p){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!En(l))return p;var b=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:p.left*b,right:p.right*b,top:p.top*v,bottom:p.bottom*v}}function _c(l){if(l.measure&&(l.measure.cache={},l.measure.heights=null,l.rest))for(var p=0;p<l.rest.length;p++)l.measure.caches[p]={}}function Cc(l){l.display.externalMeasure=null,nt(l.display.lineMeasure);for(var p=0;p<l.display.view.length;p++)_c(l.display.view[p])}function Mo(l){Cc(l),l.display.cachedCharWidth=l.display.cachedTextHeight=l.display.cachedPaddingH=null,l.options.lineWrapping||(l.display.maxLineChanged=!0),l.display.lineNumChars=null}function xc(l){return B&&le?-(l.body.getBoundingClientRect().left-parseInt(getComputedStyle(l.body).marginLeft)):l.defaultView.pageXOffset||(l.documentElement||l.body).scrollLeft}function wc(l){return B&&le?-(l.body.getBoundingClientRect().top-parseInt(getComputedStyle(l.body).marginTop)):l.defaultView.pageYOffset||(l.documentElement||l.body).scrollTop}function xl(l){var p=Hi(l),b=p.widgets,v=0;if(b)for(var x=0;x<b.length;++x)b[x].above&&(v+=qa(b[x]));return v}function wr(l,p,b,v,x){if(!x){var T=xl(p);b.top+=T,b.bottom+=T}if(v=="line")return b;v||(v="local");var M=Qn(p);if(v=="local"?M+=xr(l.display):M-=l.display.viewOffset,v=="page"||v=="window"){var L=l.display.lineSpace.getBoundingClientRect();M+=L.top+(v=="window"?0:wc($(l)));var N=L.left+(v=="window"?0:xc($(l)));b.left+=N,b.right+=N}return b.top+=M,b.bottom+=M,b}function kc(l,p,b){if(b=="div")return p;var v=p.left,x=p.top;if(b=="page")v-=xc($(l)),x-=wc($(l));else if(b=="local"||!b){var T=l.display.sizer.getBoundingClientRect();v+=T.left,x+=T.top}var M=l.display.lineSpace.getBoundingClientRect();return{left:v-M.left,top:x-M.top}}function Fo(l,p,b,v,x){return v||(v=at(l.doc,p.line)),wr(l,v,vc(l,v,p.ch,x),b)}function jt(l,p,b,v,x,T){v=v||at(l.doc,p.line),x||(x=Ya(l,v));function M(Ee,Ne){var Ve=is(l,x,Ee,Ne?"right":"left",T);return Ne?Ve.left=Ve.right:Ve.right=Ve.left,wr(l,v,Ve,b)}var L=re(v,l.doc.direction),N=p.ch,z=p.sticky;if(N>=v.text.length?(N=v.text.length,z="before"):N<=0&&(N=0,z="after"),!L)return M(z=="before"?N-1:N,z=="before");function Z(Ee,Ne,Ve){var qe=L[Ne],Ke=qe.level==1;return M(Ve?Ee-1:Ee,Ke!=Ve)}var ie=Ce(L,N,z),ye=de,pe=Z(N,ie,z=="before");return ye!=null&&(pe.other=Z(N,ye,z!="before")),pe}function Ga(l,p){var b=0;p=Ct(l.doc,p),l.options.lineWrapping||(b=Ka(l.display)*p.ch);var v=at(l.doc,p.line),x=Qn(v)+xr(l.display);return{left:b,right:b,top:x,bottom:x+v.height}}function ua(l,p,b,v,x){var T=He(l,p,b);return T.xRel=x,v&&(T.outside=v),T}function hn(l,p,b){var v=l.doc;if(b+=l.display.viewOffset,b<0)return ua(v.first,0,null,-1,-1);var x=Ls(v,b),T=v.first+v.size-1;if(x>T)return ua(v.first+v.size-1,at(v,T).text.length,null,1,1);p<0&&(p=0);for(var M=at(v,x);;){var L=wl(l,M,x,p,b),N=nc(M,L.ch+(L.xRel>0||L.outside>0?1:0));if(!N)return L;var z=N.find(1);if(z.line==x)return z;M=at(v,x=z.line)}}function Rs(l,p,b,v){v-=xl(p);var x=p.text.length,T=J(function(M){return is(l,b,M-1).bottom<=v},x,0);return x=J(function(M){return is(l,b,M).top>v},T,x),{begin:T,end:x}}function Xa(l,p,b,v){b||(b=Ya(l,p));var x=wr(l,p,is(l,b,v),"line").top;return Rs(l,p,b,x)}function zs(l,p,b,v){return l.bottom<=b?!1:l.top>b?!0:(v?l.left:l.right)>p}function wl(l,p,b,v,x){x-=Qn(p);var T=Ya(l,p),M=xl(p),L=0,N=p.text.length,z=!0,Z=re(p,l.doc.direction);if(Z){var ie=(l.options.lineWrapping?Sc:zh)(l,p,b,T,Z,v,x);z=ie.level!=1,L=z?ie.from:ie.to-1,N=z?ie.to:ie.from-1}var ye=null,pe=null,Ee=J(function(dt){var lt=is(l,T,dt);return lt.top+=M,lt.bottom+=M,zs(lt,v,x,!1)?(lt.top<=x&&lt.left<=v&&(ye=dt,pe=lt),!0):!1},L,N),Ne,Ve,qe=!1;if(pe){var Ke=v-pe.left<pe.right-v,Ye=Ke==z;Ee=ye+(Ye?0:1),Ve=Ye?"after":"before",Ne=Ke?pe.left:pe.right}else{!z&&(Ee==N||Ee==L)&&Ee++,Ve=Ee==0?"after":Ee==p.text.length?"before":is(l,T,Ee-(z?1:0)).bottom+M<=x==z?"after":"before";var tt=jt(l,He(b,Ee,Ve),"line",p,T);Ne=tt.left,qe=x<tt.top?-1:x>=tt.bottom?1:0}return Ee=R(p.text,Ee,1),ua(b,Ee,Ve,qe,v-Ne)}function zh(l,p,b,v,x,T,M){var L=J(function(ie){var ye=x[ie],pe=ye.level!=1;return zs(jt(l,He(b,pe?ye.to:ye.from,pe?"before":"after"),"line",p,v),T,M,!0)},0,x.length-1),N=x[L];if(L>0){var z=N.level!=1,Z=jt(l,He(b,z?N.from:N.to,z?"after":"before"),"line",p,v);zs(Z,T,M,!0)&&Z.top>M&&(N=x[L-1])}return N}function Sc(l,p,b,v,x,T,M){var L=Rs(l,p,v,M),N=L.begin,z=L.end;/\s/.test(p.text.charAt(z-1))&&z--;for(var Z=null,ie=null,ye=0;ye<x.length;ye++){var pe=x[ye];if(!(pe.from>=z||pe.to<=N)){var Ee=pe.level!=1,Ne=is(l,v,Ee?Math.min(z,pe.to)-1:Math.max(N,pe.from)).right,Ve=Ne<T?T-Ne+1e9:Ne-T;(!Z||ie>Ve)&&(Z=pe,ie=Ve)}}return Z||(Z=x[x.length-1]),Z.from<N&&(Z={from:N,to:Z.to,level:Z.level}),Z.to>z&&(Z={from:Z.from,to:z,level:Z.level}),Z}var Gt;function gs(l){if(l.cachedTextHeight!=null)return l.cachedTextHeight;if(Gt==null){Gt=ce("pre",null,"CodeMirror-line-like");for(var p=0;p<49;++p)Gt.appendChild(document.createTextNode("x")),Gt.appendChild(ce("br"));Gt.appendChild(document.createTextNode("x"))}rt(l.measure,Gt);var b=Gt.offsetHeight/50;return b>3&&(l.cachedTextHeight=b),nt(l.measure),b||1}function Ka(l){if(l.cachedCharWidth!=null)return l.cachedCharWidth;var p=ce("span","xxxxxxxxxx"),b=ce("pre",[p],"CodeMirror-line-like");rt(l.measure,b);var v=p.getBoundingClientRect(),x=(v.right-v.left)/10;return x>2&&(l.cachedCharWidth=x),x||10}function $n(l){for(var p=l.display,b={},v={},x=p.gutters.clientLeft,T=p.gutters.firstChild,M=0;T;T=T.nextSibling,++M){var L=l.display.gutterSpecs[M].className;b[L]=T.offsetLeft+T.clientLeft+x,v[L]=T.clientWidth}return{fixedPos:yn(p),gutterTotalWidth:p.gutters.offsetWidth,gutterLeft:b,gutterWidth:v,wrapperWidth:p.wrapper.clientWidth}}function yn(l){return l.scroller.getBoundingClientRect().left-l.sizer.getBoundingClientRect().left}function _n(l){var p=gs(l.display),b=l.options.lineWrapping,v=b&&Math.max(5,l.display.scroller.clientWidth/Ka(l.display)-3);return function(x){if(mi(l.doc,x))return 0;var T=0;if(x.widgets)for(var M=0;M<x.widgets.length;M++)x.widgets[M].height&&(T+=x.widgets[M].height);return b?T+(Math.ceil(x.text.length/v)||1)*p:T+p}}function kr(l){var p=l.doc,b=_n(l);p.iter(function(v){var x=b(v);x!=v.height&&Rn(v,x)})}function Hs(l,p,b,v){var x=l.display;if(!b&&Ji(p).getAttribute("cm-not-content")=="true")return null;var T,M,L=x.lineSpace.getBoundingClientRect();try{T=p.clientX-L.left,M=p.clientY-L.top}catch{return null}var N=hn(l,T,M),z;if(v&&N.xRel>0&&(z=at(l.doc,N.line).text).length==N.ch){var Z=$t(z,z.length,l.options.tabSize)-z.length;N=He(N.line,Math.max(0,Math.round((T-mc(l.display).left)/Ka(l.display))-Z))}return N}function ca(l,p){if(p>=l.display.viewTo||(p-=l.display.viewFrom,p<0))return null;for(var b=l.display.view,v=0;v<b.length;v++)if(p-=b[v].size,p<0)return v}function Pi(l,p,b,v){p==null&&(p=l.doc.first),b==null&&(b=l.doc.first+l.doc.size),v||(v=0);var x=l.display;if(v&&b<x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>p)&&(x.updateLineNumbers=p),l.curOp.viewChanged=!0,p>=x.viewTo)In&&ml(l.doc,p)<x.viewTo&&ns(l);else if(b<=x.viewFrom)In&&ac(l.doc,b+v)>x.viewFrom?ns(l):(x.viewFrom+=v,x.viewTo+=v);else if(p<=x.viewFrom&&b>=x.viewTo)ns(l);else if(p<=x.viewFrom){var T=Io(l,b,b+v,1);T?(x.view=x.view.slice(T.index),x.viewFrom=T.lineN,x.viewTo+=v):ns(l)}else if(b>=x.viewTo){var M=Io(l,p,p,-1);M?(x.view=x.view.slice(0,M.index),x.viewTo=M.lineN):ns(l)}else{var L=Io(l,p,p,-1),N=Io(l,b,b+v,1);L&&N?(x.view=x.view.slice(0,L.index).concat($a(l,L.lineN,N.lineN)).concat(x.view.slice(N.index)),x.viewTo+=v):ns(l)}var z=x.externalMeasured;z&&(b<z.lineN?z.lineN+=v:p<z.lineN+z.size&&(x.externalMeasured=null))}function $s(l,p,b){l.curOp.viewChanged=!0;var v=l.display,x=l.display.externalMeasured;if(x&&p>=x.lineN&&p<x.lineN+x.size&&(v.externalMeasured=null),!(p<v.viewFrom||p>=v.viewTo)){var T=v.view[ca(l,p)];if(T.node!=null){var M=T.changes||(T.changes=[]);kt(M,b)==-1&&M.push(b)}}}function ns(l){l.display.viewFrom=l.display.viewTo=l.doc.first,l.display.view=[],l.display.viewOffset=0}function Io(l,p,b,v){var x=ca(l,p),T,M=l.display.view;if(!In||b==l.doc.first+l.doc.size)return{index:x,lineN:b};for(var L=l.display.viewFrom,N=0;N<x;N++)L+=M[N].size;if(L!=p){if(v>0){if(x==M.length-1)return null;T=L+M[x].size-p,x++}else T=L-p;p+=T,b+=T}for(;ml(l.doc,b)!=b;){if(x==(v<0?0:M.length-1))return null;b+=v*M[x-(v<0?1:0)].size,x+=v}return{index:x,lineN:b}}function da(l,p,b){var v=l.display,x=v.view;x.length==0||p>=v.viewTo||b<=v.viewFrom?(v.view=$a(l,p,b),v.viewFrom=p):(v.viewFrom>p?v.view=$a(l,p,v.viewFrom).concat(v.view):v.viewFrom<p&&(v.view=v.view.slice(ca(l,p))),v.viewFrom=p,v.viewTo<b?v.view=v.view.concat($a(l,v.viewTo,b)):v.viewTo>b&&(v.view=v.view.slice(0,ca(l,b)))),v.viewTo=b}function ha(l){for(var p=l.display.view,b=0,v=0;v<p.length;v++){var x=p[v];!x.hidden&&(!x.node||x.changes)&&++b}return b}function Vn(l){l.display.input.showSelection(l.display.input.prepareSelection())}function Za(l,p){p===void 0&&(p=!0);var b=l.doc,v={},x=v.cursors=document.createDocumentFragment(),T=v.selection=document.createDocumentFragment(),M=l.options.$customCursor;M&&(p=!0);for(var L=0;L<b.sel.ranges.length;L++)if(!(!p&&L==b.sel.primIndex)){var N=b.sel.ranges[L];if(!(N.from().line>=l.display.viewTo||N.to().line<l.display.viewFrom)){var z=N.empty();if(M){var Z=M(l,N);Z&&ss(l,Z,x)}else(z||l.options.showCursorWhenSelecting)&&ss(l,N.head,x);z||Lo(l,N,T)}}return v}function ss(l,p,b){var v=jt(l,p,"div",null,null,!l.options.singleCursorHeightPerLine),x=b.appendChild(ce("div"," ","CodeMirror-cursor"));if(x.style.left=v.left+"px",x.style.top=v.top+"px",x.style.height=Math.max(0,v.bottom-v.top)*l.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(l.getWrapperElement().className)){var T=Fo(l,p,"div",null,null),M=T.right-T.left;x.style.width=(M>0?M:l.defaultCharWidth())+"px"}if(v.other){var L=b.appendChild(ce("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));L.style.display="",L.style.left=v.other.left+"px",L.style.top=v.other.top+"px",L.style.height=(v.other.bottom-v.other.top)*.85+"px"}}function vs(l,p){return l.top-p.top||l.left-p.left}function Lo(l,p,b){var v=l.display,x=l.doc,T=document.createDocumentFragment(),M=mc(l.display),L=M.left,N=Math.max(v.sizerWidth,Ns(l)-v.sizer.offsetLeft)-M.right,z=x.direction=="ltr";function Z(Ye,tt,dt,lt){tt<0&&(tt=0),tt=Math.round(tt),lt=Math.round(lt),T.appendChild(ce("div",null,"CodeMirror-selected","position: absolute; left: "+Ye+`px;
                             top: `+tt+"px; width: "+(dt??N-Ye)+`px;
                             height: `+(lt-tt)+"px"))}function ie(Ye,tt,dt){var lt=at(x,Ye),St=lt.text.length,qt,Bi;function ai(xi,on){return Fo(l,He(Ye,xi),"div",lt,on)}function wn(xi,on,Vi){var wi=Xa(l,lt,null,xi),ki=on=="ltr"==(Vi=="after")?"left":"right",oi=Vi=="after"?wi.begin:wi.end-(/\s/.test(lt.text.charAt(wi.end-1))?2:1);return ai(oi,ki)[ki]}var an=re(lt,x.direction);return oe(an,tt||0,dt??St,function(xi,on,Vi,wi){var ki=Vi=="ltr",oi=ai(xi,ki?"left":"right"),rn=ai(on-1,ki?"right":"left"),xa=tt==null&&xi==0,qs=dt==null&&on==St,Gi=wi==0,as=!an||wi==an.length-1;if(rn.top-oi.top<=3){var Ai=(z?xa:qs)&&Gi,fu=(z?qs:xa)&&as,os=Ai?L:(ki?oi:rn).left,wa=fu?N:(ki?rn:oi).right;Z(os,oi.top,wa-os,oi.bottom)}else{var Ys,ln,ka,pu;ki?(Ys=z&&xa&&Gi?L:oi.left,ln=z?N:wn(xi,Vi,"before"),ka=z?L:wn(on,Vi,"after"),pu=z&&qs&&as?N:rn.right):(Ys=z?wn(xi,Vi,"before"):L,ln=!z&&xa&&Gi?N:oi.right,ka=!z&&qs&&as?L:rn.left,pu=z?wn(on,Vi,"after"):N),Z(Ys,oi.top,ln-Ys,oi.bottom),oi.bottom<rn.top&&Z(L,oi.bottom,null,rn.top),Z(ka,rn.top,pu-ka,rn.bottom)}(!qt||vs(oi,qt)<0)&&(qt=oi),vs(rn,qt)<0&&(qt=rn),(!Bi||vs(oi,Bi)<0)&&(Bi=oi),vs(rn,Bi)<0&&(Bi=rn)}),{start:qt,end:Bi}}var ye=p.from(),pe=p.to();if(ye.line==pe.line)ie(ye.line,ye.ch,pe.ch);else{var Ee=at(x,ye.line),Ne=at(x,pe.line),Ve=Hi(Ee)==Hi(Ne),qe=ie(ye.line,ye.ch,Ve?Ee.text.length+1:null).end,Ke=ie(pe.line,Ve?0:null,pe.ch).start;Ve&&(qe.top<Ke.top-2?(Z(qe.right,qe.top,null,qe.bottom),Z(L,Ke.top,Ke.left,Ke.bottom)):Z(qe.right,qe.top,Ke.left-qe.right,qe.bottom)),qe.bottom<Ke.top&&Z(L,qe.bottom,null,Ke.top)}b.appendChild(T)}function Cn(l){if(l.state.focused){var p=l.display;clearInterval(p.blinker);var b=!0;p.cursorDiv.style.visibility="",l.options.cursorBlinkRate>0?p.blinker=setInterval(function(){l.hasFocus()||bs(l),p.cursorDiv.style.visibility=(b=!b)?"":"hidden"},l.options.cursorBlinkRate):l.options.cursorBlinkRate<0&&(p.cursorDiv.style.visibility="hidden")}}function Wn(l){l.hasFocus()||(l.display.input.focus(),l.state.focused||Dr(l))}function Sr(l){l.state.delayingBlurEvent=!0,setTimeout(function(){l.state.delayingBlurEvent&&(l.state.delayingBlurEvent=!1,l.state.focused&&bs(l))},100)}function Dr(l,p){l.state.delayingBlurEvent&&!l.state.draggingText&&(l.state.delayingBlurEvent=!1),l.options.readOnly!="nocursor"&&(l.state.focused||(et(l,"focus",l,p),l.state.focused=!0,Ht(l.display.wrapper,"CodeMirror-focused"),!l.curOp&&l.display.selForContextMenu!=l.doc.sel&&(l.display.input.reset(),A&&setTimeout(function(){return l.display.input.reset(!0)},20)),l.display.input.receivedFocus()),Cn(l))}function bs(l,p){l.state.delayingBlurEvent||(l.state.focused&&(et(l,"blur",l,p),l.state.focused=!1,Ue(l.display.wrapper,"CodeMirror-focused")),clearInterval(l.display.blinker),setTimeout(function(){l.state.focused||(l.display.shift=!1)},150))}function fa(l){for(var p=l.display,b=p.lineDiv.offsetTop,v=Math.max(0,p.scroller.getBoundingClientRect().top),x=p.lineDiv.getBoundingClientRect().top,T=0,M=0;M<p.view.length;M++){var L=p.view[M],N=l.options.lineWrapping,z=void 0,Z=0;if(!L.hidden){if(x+=L.line.height,S&&D<8){var ie=L.node.offsetTop+L.node.offsetHeight;z=ie-b,b=ie}else{var ye=L.node.getBoundingClientRect();z=ye.bottom-ye.top,!N&&L.text.firstChild&&(Z=L.text.firstChild.getBoundingClientRect().right-ye.left-1)}var pe=L.line.height-z;if((pe>.005||pe<-.005)&&(x<v&&(T-=pe),Rn(L.line,z),Ln(L.line),L.rest))for(var Ee=0;Ee<L.rest.length;Ee++)Ln(L.rest[Ee]);if(Z>l.display.sizerWidth){var Ne=Math.ceil(Z/Ka(l.display));Ne>l.display.maxLineLength&&(l.display.maxLineLength=Ne,l.display.maxLine=L.line,l.display.maxLineChanged=!0)}}}Math.abs(T)>2&&(p.scroller.scrollTop+=T)}function Ln(l){if(l.widgets)for(var p=0;p<l.widgets.length;++p){var b=l.widgets[p],v=b.node.parentNode;v&&(b.height=v.offsetHeight)}}function jn(l,p,b){var v=b&&b.top!=null?Math.max(0,b.top):l.scroller.scrollTop;v=Math.floor(v-xr(l));var x=b&&b.bottom!=null?b.bottom:v+l.wrapper.clientHeight,T=Ls(p,v),M=Ls(p,x);if(b&&b.ensure){var L=b.ensure.from.line,N=b.ensure.to.line;L<T?(T=L,M=Ls(p,Qn(at(p,L))+l.wrapper.clientHeight)):Math.min(N,p.lastLine())>=M&&(T=Ls(p,Qn(at(p,N))-l.wrapper.clientHeight),M=N)}return{from:T,to:Math.max(M,T+1)}}function Hh(l,p){if(!We(l,"scrollCursorIntoView")){var b=l.display,v=b.sizer.getBoundingClientRect(),x=null,T=b.wrapper.ownerDocument;if(p.top+v.top<0?x=!0:p.bottom+v.top>(T.defaultView.innerHeight||T.documentElement.clientHeight)&&(x=!1),x!=null&&!K){var M=ce("div","​",null,`position: absolute;
                         top: `+(p.top-b.viewOffset-xr(l.display))+`px;
                         height: `+(p.bottom-p.top+ts(l)+b.barHeight)+`px;
                         left: `+p.left+"px; width: "+Math.max(2,p.right-p.left)+"px;");l.display.lineSpace.appendChild(M),M.scrollIntoView(x),l.display.lineSpace.removeChild(M)}}}function $h(l,p,b,v){v==null&&(v=0);var x;!l.options.lineWrapping&&p==b&&(b=p.sticky=="before"?He(p.line,p.ch+1,"before"):p,p=p.ch?He(p.line,p.sticky=="before"?p.ch-1:p.ch,"after"):p);for(var T=0;T<5;T++){var M=!1,L=jt(l,p),N=!b||b==p?L:jt(l,b);x={left:Math.min(L.left,N.left),top:Math.min(L.top,N.top)-v,right:Math.max(L.left,N.left),bottom:Math.max(L.bottom,N.bottom)+v};var z=Oo(l,x),Z=l.doc.scrollTop,ie=l.doc.scrollLeft;if(z.scrollTop!=null&&(Qa(l,z.scrollTop),Math.abs(l.doc.scrollTop-Z)>1&&(M=!0)),z.scrollLeft!=null&&(ys(l,z.scrollLeft),Math.abs(l.doc.scrollLeft-ie)>1&&(M=!0)),!M)break}return x}function kl(l,p){var b=Oo(l,p);b.scrollTop!=null&&Qa(l,b.scrollTop),b.scrollLeft!=null&&ys(l,b.scrollLeft)}function Oo(l,p){var b=l.display,v=gs(l.display);p.top<0&&(p.top=0);var x=l.curOp&&l.curOp.scrollTop!=null?l.curOp.scrollTop:b.scroller.scrollTop,T=yl(l),M={};p.bottom-p.top>T&&(p.bottom=p.top+T);var L=l.doc.height+bl(b),N=p.top<v,z=p.bottom>L-v;if(p.top<x)M.scrollTop=N?0:p.top;else if(p.bottom>x+T){var Z=Math.min(p.top,(z?L:p.bottom)-T);Z!=x&&(M.scrollTop=Z)}var ie=l.options.fixedGutter?0:b.gutters.offsetWidth,ye=l.curOp&&l.curOp.scrollLeft!=null?l.curOp.scrollLeft:b.scroller.scrollLeft-ie,pe=Ns(l)-b.gutters.offsetWidth,Ee=p.right-p.left>pe;return Ee&&(p.right=p.left+pe),p.left<10?M.scrollLeft=0:p.left<ye?M.scrollLeft=Math.max(0,p.left+ie-(Ee?0:10)):p.right>pe+ye-3&&(M.scrollLeft=p.right+(Ee?0:10)-pe),M}function Ja(l,p){p!=null&&(Po(l),l.curOp.scrollTop=(l.curOp.scrollTop==null?l.doc.scrollTop:l.curOp.scrollTop)+p)}function pa(l){Po(l);var p=l.getCursor();l.curOp.scrollToPos={from:p,to:p,margin:l.options.cursorScrollMargin}}function Un(l,p,b){(p!=null||b!=null)&&Po(l),p!=null&&(l.curOp.scrollLeft=p),b!=null&&(l.curOp.scrollTop=b)}function Dc(l,p){Po(l),l.curOp.scrollToPos=p}function Po(l){var p=l.curOp.scrollToPos;if(p){l.curOp.scrollToPos=null;var b=Ga(l,p.from),v=Ga(l,p.to);Sl(l,b,v,p.margin)}}function Sl(l,p,b,v){var x=Oo(l,{left:Math.min(p.left,b.left),top:Math.min(p.top,b.top)-v,right:Math.max(p.right,b.right),bottom:Math.max(p.bottom,b.bottom)+v});Un(l,x.scrollLeft,x.scrollTop)}function Qa(l,p){Math.abs(l.doc.scrollTop-p)<2||(h||Al(l,{top:p}),Dl(l,p,!0),h&&Al(l),to(l,100))}function Dl(l,p,b){p=Math.max(0,Math.min(l.display.scroller.scrollHeight-l.display.scroller.clientHeight,p)),!(l.display.scroller.scrollTop==p&&!b)&&(l.doc.scrollTop=p,l.display.scrollbars.setScrollTop(p),l.display.scroller.scrollTop!=p&&(l.display.scroller.scrollTop=p))}function ys(l,p,b,v){p=Math.max(0,Math.min(p,l.display.scroller.scrollWidth-l.display.scroller.clientWidth)),!((b?p==l.doc.scrollLeft:Math.abs(l.doc.scrollLeft-p)<2)&&!v)&&(l.doc.scrollLeft=p,Fc(l),l.display.scroller.scrollLeft!=p&&(l.display.scroller.scrollLeft=p),l.display.scrollbars.setScrollLeft(p))}function en(l){var p=l.display,b=p.gutters.offsetWidth,v=Math.round(l.doc.height+bl(l.display));return{clientHeight:p.scroller.clientHeight,viewHeight:p.wrapper.clientHeight,scrollWidth:p.scroller.scrollWidth,clientWidth:p.scroller.clientWidth,viewWidth:p.wrapper.clientWidth,barLeft:l.options.fixedGutter?b:0,docHeight:v,scrollHeight:v+ts(l)+p.barHeight,nativeBarWidth:p.nativeBarWidth,gutterWidth:b}}var tn=function(l,p,b){this.cm=b;var v=this.vert=ce("div",[ce("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),x=this.horiz=ce("div",[ce("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");v.tabIndex=x.tabIndex=-1,l(v),l(x),ge(v,"scroll",function(){v.clientHeight&&p(v.scrollTop,"vertical")}),ge(x,"scroll",function(){x.clientWidth&&p(x.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&D<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};tn.prototype.update=function(l){var p=l.scrollWidth>l.clientWidth+1,b=l.scrollHeight>l.clientHeight+1,v=l.nativeBarWidth;if(b){this.vert.style.display="block",this.vert.style.bottom=p?v+"px":"0";var x=l.viewHeight-(p?v:0);this.vert.firstChild.style.height=Math.max(0,l.scrollHeight-l.clientHeight+x)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(p){this.horiz.style.display="block",this.horiz.style.right=b?v+"px":"0",this.horiz.style.left=l.barLeft+"px";var T=l.viewWidth-l.barLeft-(b?v:0);this.horiz.firstChild.style.width=Math.max(0,l.scrollWidth-l.clientWidth+T)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&l.clientHeight>0&&(v==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:b?v:0,bottom:p?v:0}},tn.prototype.setScrollLeft=function(l){this.horiz.scrollLeft!=l&&(this.horiz.scrollLeft=l),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},tn.prototype.setScrollTop=function(l){this.vert.scrollTop!=l&&(this.vert.scrollTop=l),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},tn.prototype.zeroWidthHack=function(){var l=se&&!te?"12px":"18px";this.horiz.style.height=this.vert.style.width=l,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Nt,this.disableVert=new Nt},tn.prototype.enableZeroWidthBar=function(l,p,b){l.style.visibility="";function v(){var x=l.getBoundingClientRect(),T=b=="vert"?document.elementFromPoint(x.right-1,(x.top+x.bottom)/2):document.elementFromPoint((x.right+x.left)/2,x.bottom-1);T!=l?l.style.visibility="hidden":p.set(1e3,v)}p.set(1e3,v)},tn.prototype.clear=function(){var l=this.horiz.parentNode;l.removeChild(this.horiz),l.removeChild(this.vert)};var si=function(){};si.prototype.update=function(){return{bottom:0,right:0}},si.prototype.setScrollLeft=function(){},si.prototype.setScrollTop=function(){},si.prototype.clear=function(){};function An(l,p){p||(p=en(l));var b=l.display.barWidth,v=l.display.barHeight;ma(l,p);for(var x=0;x<4&&b!=l.display.barWidth||v!=l.display.barHeight;x++)b!=l.display.barWidth&&l.options.lineWrapping&&fa(l),ma(l,en(l)),b=l.display.barWidth,v=l.display.barHeight}function ma(l,p){var b=l.display,v=b.scrollbars.update(p);b.sizer.style.paddingRight=(b.barWidth=v.right)+"px",b.sizer.style.paddingBottom=(b.barHeight=v.bottom)+"px",b.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(b.scrollbarFiller.style.display="block",b.scrollbarFiller.style.height=v.bottom+"px",b.scrollbarFiller.style.width=v.right+"px"):b.scrollbarFiller.style.display="",v.bottom&&l.options.coverGutterNextToScrollbar&&l.options.fixedGutter?(b.gutterFiller.style.display="block",b.gutterFiller.style.height=v.bottom+"px",b.gutterFiller.style.width=p.gutterWidth+"px"):b.gutterFiller.style.display=""}var _s={native:tn,null:si};function ga(l){l.display.scrollbars&&(l.display.scrollbars.clear(),l.display.scrollbars.addClass&&Ue(l.display.wrapper,l.display.scrollbars.addClass)),l.display.scrollbars=new _s[l.options.scrollbarStyle](function(p){l.display.wrapper.insertBefore(p,l.display.scrollbarFiller),ge(p,"mousedown",function(){l.state.focused&&setTimeout(function(){return l.display.input.focus()},0)}),p.setAttribute("cm-not-content","true")},function(p,b){b=="horizontal"?ys(l,p):Qa(l,p)},l),l.display.scrollbars.addClass&&Ht(l.display.wrapper,l.display.scrollbars.addClass)}var Bo=0;function Vs(l){l.curOp={cm:l,viewChanged:!1,startHeight:l.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Bo,markArrays:null},Ih(l.curOp)}function Ws(l){var p=l.curOp;p&&cc(p,function(b){for(var v=0;v<b.ops.length;v++)b.ops[v].cm.curOp=null;va(b)})}function va(l){for(var p=l.ops,b=0;b<p.length;b++)Tc(p[b]);for(var v=0;v<p.length;v++)nn(p[v]);for(var x=0;x<p.length;x++)Tl(p[x]);for(var T=0;T<p.length;T++)Ec(p[T]);for(var M=0;M<p.length;M++)eo(p[M])}function Tc(l){var p=l.cm,b=p.display;Tr(p),l.updateMaxLine&&es(p),l.mustUpdate=l.viewChanged||l.forceUpdate||l.scrollTop!=null||l.scrollToPos&&(l.scrollToPos.from.line<b.viewFrom||l.scrollToPos.to.line>=b.viewTo)||b.maxLineChanged&&p.options.lineWrapping,l.update=l.mustUpdate&&new xn(p,l.mustUpdate&&{top:l.scrollTop,ensure:l.scrollToPos},l.forceUpdate)}function nn(l){l.updatedDisplay=l.mustUpdate&&Er(l.cm,l.update)}function Tl(l){var p=l.cm,b=p.display;l.updatedDisplay&&fa(p),l.barMeasure=en(p),b.maxLineChanged&&!p.options.lineWrapping&&(l.adjustWidthTo=vc(p,b.maxLine,b.maxLine.text.length).left+3,p.display.sizerWidth=l.adjustWidthTo,l.barMeasure.scrollWidth=Math.max(b.scroller.clientWidth,b.sizer.offsetLeft+l.adjustWidthTo+ts(p)+p.display.barWidth),l.maxScrollLeft=Math.max(0,b.sizer.offsetLeft+l.adjustWidthTo-Ns(p))),(l.updatedDisplay||l.selectionChanged)&&(l.preparedSelection=b.input.prepareSelection())}function Ec(l){var p=l.cm;l.adjustWidthTo!=null&&(p.display.sizer.style.minWidth=l.adjustWidthTo+"px",l.maxScrollLeft<p.doc.scrollLeft&&ys(p,Math.min(p.display.scroller.scrollLeft,l.maxScrollLeft),!0),p.display.maxLineChanged=!1);var b=l.focus&&l.focus==mt(Te(p));l.preparedSelection&&p.display.input.showSelection(l.preparedSelection,b),(l.updatedDisplay||l.startHeight!=p.doc.height)&&An(p,l.barMeasure),l.updatedDisplay&&Fl(p,l.barMeasure),l.selectionChanged&&Cn(p),p.state.focused&&l.updateInput&&p.display.input.reset(l.typing),b&&Wn(l.cm)}function eo(l){var p=l.cm,b=p.display,v=p.doc;if(l.updatedDisplay&&Mc(p,l.update),b.wheelStartX!=null&&(l.scrollTop!=null||l.scrollLeft!=null||l.scrollToPos)&&(b.wheelStartX=b.wheelStartY=null),l.scrollTop!=null&&Dl(p,l.scrollTop,l.forceScroll),l.scrollLeft!=null&&ys(p,l.scrollLeft,!0,!0),l.scrollToPos){var x=$h(p,Ct(v,l.scrollToPos.from),Ct(v,l.scrollToPos.to),l.scrollToPos.margin);Hh(p,x)}var T=l.maybeHiddenMarkers,M=l.maybeUnhiddenMarkers;if(T)for(var L=0;L<T.length;++L)T[L].lines.length||et(T[L],"hide");if(M)for(var N=0;N<M.length;++N)M[N].lines.length&&et(M[N],"unhide");b.wrapper.offsetHeight&&(v.scrollTop=p.display.scroller.scrollTop),l.changeObjs&&et(p,"changes",p,l.changeObjs),l.update&&l.update.finish()}function fn(l,p){if(l.curOp)return p();Vs(l);try{return p()}finally{Ws(l)}}function Ti(l,p){return function(){if(l.curOp)return p.apply(l,arguments);Vs(l);try{return p.apply(l,arguments)}finally{Ws(l)}}}function Yi(l){return function(){if(this.curOp)return l.apply(this,arguments);Vs(this);try{return l.apply(this,arguments)}finally{Ws(this)}}}function Ei(l){return function(){var p=this.cm;if(!p||p.curOp)return l.apply(this,arguments);Vs(p);try{return l.apply(this,arguments)}finally{Ws(p)}}}function to(l,p){l.doc.highlightFrontier<l.display.viewTo&&l.state.highlight.set(p,Zt(Ac,l))}function Ac(l){var p=l.doc;if(!(p.highlightFrontier>=l.display.viewTo)){var b=+new Date+l.options.workTime,v=Ra(l,p.highlightFrontier),x=[];p.iter(v.line,Math.min(p.first+p.size,l.display.viewTo+500),function(T){if(v.line>=l.display.viewFrom){var M=T.styles,L=T.text.length>l.options.maxHighlightLength?Is(p.mode,v.state):null,N=al(l,T,v,!0);L&&(v.state=L),T.styles=N.styles;var z=T.styleClasses,Z=N.classes;Z?T.styleClasses=Z:z&&(T.styleClasses=null);for(var ie=!M||M.length!=T.styles.length||z!=Z&&(!z||!Z||z.bgClass!=Z.bgClass||z.textClass!=Z.textClass),ye=0;!ie&&ye<M.length;++ye)ie=M[ye]!=T.styles[ye];ie&&x.push(v.line),T.stateAfter=v.save(),v.nextLine()}else T.text.length<=l.options.maxHighlightLength&&vr(l,T.text,v),T.stateAfter=v.line%5==0?v.save():null,v.nextLine();if(+new Date>b)return to(l,l.options.workDelay),!0}),p.highlightFrontier=v.line,p.modeFrontier=Math.max(p.modeFrontier,v.line),x.length&&fn(l,function(){for(var T=0;T<x.length;T++)$s(l,x[T],"text")})}}var xn=function(l,p,b){var v=l.display;this.viewport=p,this.visible=jn(v,l.doc,p),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=Ns(l),this.force=b,this.dims=$n(l),this.events=[]};xn.prototype.signal=function(l,p){_t(l,p)&&this.events.push(arguments)},xn.prototype.finish=function(){for(var l=0;l<this.events.length;l++)et.apply(null,this.events[l])};function Tr(l){var p=l.display;!p.scrollbarsClipped&&p.scroller.offsetWidth&&(p.nativeBarWidth=p.scroller.offsetWidth-p.scroller.clientWidth,p.heightForcer.style.height=ts(l)+"px",p.sizer.style.marginBottom=-p.nativeBarWidth+"px",p.sizer.style.borderRightWidth=ts(l)+"px",p.scrollbarsClipped=!0)}function El(l){if(l.hasFocus())return null;var p=mt(Te(l));if(!p||!Je(l.display.lineDiv,p))return null;var b={activeElt:p};if(window.getSelection){var v=ot(l).getSelection();v.anchorNode&&v.extend&&Je(l.display.lineDiv,v.anchorNode)&&(b.anchorNode=v.anchorNode,b.anchorOffset=v.anchorOffset,b.focusNode=v.focusNode,b.focusOffset=v.focusOffset)}return b}function Vh(l){if(!(!l||!l.activeElt||l.activeElt==mt(yt(l.activeElt)))&&(l.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(l.activeElt.nodeName)&&l.anchorNode&&Je(document.body,l.anchorNode)&&Je(document.body,l.focusNode))){var p=l.activeElt.ownerDocument,b=p.defaultView.getSelection(),v=p.createRange();v.setEnd(l.anchorNode,l.anchorOffset),v.collapse(!1),b.removeAllRanges(),b.addRange(v),b.extend(l.focusNode,l.focusOffset)}}function Er(l,p){var b=l.display,v=l.doc;if(p.editorIsHidden)return ns(l),!1;if(!p.force&&p.visible.from>=b.viewFrom&&p.visible.to<=b.viewTo&&(b.updateLineNumbers==null||b.updateLineNumbers>=b.viewTo)&&b.renderedView==b.view&&ha(l)==0)return!1;Il(l)&&(ns(l),p.dims=$n(l));var x=v.first+v.size,T=Math.max(p.visible.from-l.options.viewportMargin,v.first),M=Math.min(x,p.visible.to+l.options.viewportMargin);b.viewFrom<T&&T-b.viewFrom<20&&(T=Math.max(v.first,b.viewFrom)),b.viewTo>M&&b.viewTo-M<20&&(M=Math.min(x,b.viewTo)),In&&(T=ml(l.doc,T),M=ac(l.doc,M));var L=T!=b.viewFrom||M!=b.viewTo||b.lastWrapHeight!=p.wrapperHeight||b.lastWrapWidth!=p.wrapperWidth;da(l,T,M),b.viewOffset=Qn(at(l.doc,b.viewFrom)),l.display.mover.style.top=b.viewOffset+"px";var N=ha(l);if(!L&&N==0&&!p.force&&b.renderedView==b.view&&(b.updateLineNumbers==null||b.updateLineNumbers>=b.viewTo))return!1;var z=El(l);return N>4&&(b.lineDiv.style.display="none"),Wh(l,b.updateLineNumbers,p.dims),N>4&&(b.lineDiv.style.display=""),b.renderedView=b.view,Vh(z),nt(b.cursorDiv),nt(b.selectionDiv),b.gutters.style.height=b.sizer.style.minHeight=0,L&&(b.lastWrapHeight=p.wrapperHeight,b.lastWrapWidth=p.wrapperWidth,to(l,400)),b.updateLineNumbers=null,!0}function Mc(l,p){for(var b=p.viewport,v=!0;;v=!1){if(!v||!l.options.lineWrapping||p.oldDisplayWidth==Ns(l)){if(b&&b.top!=null&&(b={top:Math.min(l.doc.height+bl(l.display)-yl(l),b.top)}),p.visible=jn(l.display,l.doc,b),p.visible.from>=l.display.viewFrom&&p.visible.to<=l.display.viewTo)break}else v&&(p.visible=jn(l.display,l.doc,b));if(!Er(l,p))break;fa(l);var x=en(l);Vn(l),An(l,x),Fl(l,x),p.force=!1}p.signal(l,"update",l),(l.display.viewFrom!=l.display.reportedViewFrom||l.display.viewTo!=l.display.reportedViewTo)&&(p.signal(l,"viewportChange",l,l.display.viewFrom,l.display.viewTo),l.display.reportedViewFrom=l.display.viewFrom,l.display.reportedViewTo=l.display.viewTo)}function Al(l,p){var b=new xn(l,p);if(Er(l,b)){fa(l),Mc(l,b);var v=en(l);Vn(l),An(l,v),Fl(l,v),b.finish()}}function Wh(l,p,b){var v=l.display,x=l.options.lineNumbers,T=v.lineDiv,M=T.firstChild;function L(Ee){var Ne=Ee.nextSibling;return A&&se&&l.display.currentWheelTarget==Ee?Ee.style.display="none":Ee.parentNode.removeChild(Ee),Ne}for(var N=v.view,z=v.viewFrom,Z=0;Z<N.length;Z++){var ie=N[Z];if(!ie.hidden)if(!ie.node||ie.node.parentNode!=T){var ye=Ua(l,ie,z,b);T.insertBefore(ye,M)}else{for(;M!=ie.node;)M=L(M);var pe=x&&p!=null&&p<=z&&ie.lineNumber;ie.changes&&(kt(ie.changes,"gutter")>-1&&(pe=!1),Hn(l,ie,z,b)),pe&&(nt(ie.lineNumber),ie.lineNumber.appendChild(document.createTextNode(pr(l.options,z)))),M=ie.node.nextSibling}z+=ie.size}for(;M;)M=L(M)}function Ml(l){var p=l.gutters.offsetWidth;l.sizer.style.marginLeft=p+"px",Oi(l,"gutterChanged",l)}function Fl(l,p){l.display.sizer.style.minHeight=p.docHeight+"px",l.display.heightForcer.style.top=p.docHeight+"px",l.display.gutters.style.height=p.docHeight+l.display.barHeight+ts(l)+"px"}function Fc(l){var p=l.display,b=p.view;if(!(!p.alignWidgets&&(!p.gutters.firstChild||!l.options.fixedGutter))){for(var v=yn(p)-p.scroller.scrollLeft+l.doc.scrollLeft,x=p.gutters.offsetWidth,T=v+"px",M=0;M<b.length;M++)if(!b[M].hidden){l.options.fixedGutter&&(b[M].gutter&&(b[M].gutter.style.left=T),b[M].gutterBackground&&(b[M].gutterBackground.style.left=T));var L=b[M].alignable;if(L)for(var N=0;N<L.length;N++)L[N].style.left=T}l.options.fixedGutter&&(p.gutters.style.left=v+x+"px")}}function Il(l){if(!l.options.lineNumbers)return!1;var p=l.doc,b=pr(l.options,p.first+p.size-1),v=l.display;if(b.length!=v.lineNumChars){var x=v.measure.appendChild(ce("div",[ce("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),T=x.firstChild.offsetWidth,M=x.offsetWidth-T;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(T,v.lineGutter.offsetWidth-M)+1,v.lineNumWidth=v.lineNumInnerWidth+M,v.lineNumChars=v.lineNumInnerWidth?b.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",Ml(l.display),!0}return!1}function Ll(l,p){for(var b=[],v=!1,x=0;x<l.length;x++){var T=l[x],M=null;if(typeof T!="string"&&(M=T.style,T=T.className),T=="CodeMirror-linenumbers")if(p)v=!0;else continue;b.push({className:T,style:M})}return p&&!v&&b.push({className:"CodeMirror-linenumbers",style:null}),b}function Ic(l){var p=l.gutters,b=l.gutterSpecs;nt(p),l.lineGutter=null;for(var v=0;v<b.length;++v){var x=b[v],T=x.className,M=x.style,L=p.appendChild(ce("div",null,"CodeMirror-gutter "+T));M&&(L.style.cssText=M),T=="CodeMirror-linenumbers"&&(l.lineGutter=L,L.style.width=(l.lineNumWidth||1)+"px")}p.style.display=b.length?"":"none",Ml(l)}function io(l){Ic(l.display),Pi(l),Fc(l)}function jh(l,p,b,v){var x=this;this.input=b,x.scrollbarFiller=ce("div",null,"CodeMirror-scrollbar-filler"),x.scrollbarFiller.setAttribute("cm-not-content","true"),x.gutterFiller=ce("div",null,"CodeMirror-gutter-filler"),x.gutterFiller.setAttribute("cm-not-content","true"),x.lineDiv=Pe("div",null,"CodeMirror-code"),x.selectionDiv=ce("div",null,null,"position: relative; z-index: 1"),x.cursorDiv=ce("div",null,"CodeMirror-cursors"),x.measure=ce("div",null,"CodeMirror-measure"),x.lineMeasure=ce("div",null,"CodeMirror-measure"),x.lineSpace=Pe("div",[x.measure,x.lineMeasure,x.selectionDiv,x.cursorDiv,x.lineDiv],null,"position: relative; outline: none");var T=Pe("div",[x.lineSpace],"CodeMirror-lines");x.mover=ce("div",[T],null,"position: relative"),x.sizer=ce("div",[x.mover],"CodeMirror-sizer"),x.sizerWidth=null,x.heightForcer=ce("div",null,null,"position: absolute; height: "+Lt+"px; width: 1px;"),x.gutters=ce("div",null,"CodeMirror-gutters"),x.lineGutter=null,x.scroller=ce("div",[x.sizer,x.heightForcer,x.gutters],"CodeMirror-scroll"),x.scroller.setAttribute("tabIndex","-1"),x.wrapper=ce("div",[x.scrollbarFiller,x.gutterFiller,x.scroller],"CodeMirror"),B&&H>=105&&(x.wrapper.style.clipPath="inset(0px)"),x.wrapper.setAttribute("translate","no"),S&&D<8&&(x.gutters.style.zIndex=-1,x.scroller.style.paddingRight=0),!A&&!(h&&ne)&&(x.scroller.draggable=!0),l&&(l.appendChild?l.appendChild(x.wrapper):l(x.wrapper)),x.viewFrom=x.viewTo=p.first,x.reportedViewFrom=x.reportedViewTo=p.first,x.view=[],x.renderedView=null,x.externalMeasured=null,x.viewOffset=0,x.lastWrapHeight=x.lastWrapWidth=0,x.updateLineNumbers=null,x.nativeBarWidth=x.barHeight=x.barWidth=0,x.scrollbarsClipped=!1,x.lineNumWidth=x.lineNumInnerWidth=x.lineNumChars=null,x.alignWidgets=!1,x.cachedCharWidth=x.cachedTextHeight=x.cachedPaddingH=null,x.maxLine=null,x.maxLineLength=0,x.maxLineChanged=!1,x.wheelDX=x.wheelDY=x.wheelStartX=x.wheelStartY=null,x.shift=!1,x.selForContextMenu=null,x.activeTouch=null,x.gutterSpecs=Ll(v.gutters,v.lineNumbers),Ic(x),b.init(x)}var Ar=0,Cs=null;S?Cs=-.53:h?Cs=15:B?Cs=-.7:Q&&(Cs=-1/3);function No(l){var p=l.wheelDeltaX,b=l.wheelDeltaY;return p==null&&l.detail&&l.axis==l.HORIZONTAL_AXIS&&(p=l.detail),b==null&&l.detail&&l.axis==l.VERTICAL_AXIS?b=l.detail:b==null&&(b=l.wheelDelta),{x:p,y:b}}function Ol(l){var p=No(l);return p.x*=Cs,p.y*=Cs,p}function Xe(l,p){B&&H==102&&(l.display.chromeScrollHack==null?l.display.sizer.style.pointerEvents="none":clearTimeout(l.display.chromeScrollHack),l.display.chromeScrollHack=setTimeout(function(){l.display.chromeScrollHack=null,l.display.sizer.style.pointerEvents=""},100));var b=No(p),v=b.x,x=b.y,T=Cs;p.deltaMode===0&&(v=p.deltaX,x=p.deltaY,T=1);var M=l.display,L=M.scroller,N=L.scrollWidth>L.clientWidth,z=L.scrollHeight>L.clientHeight;if(v&&N||x&&z){if(x&&se&&A){e:for(var Z=p.target,ie=M.view;Z!=L;Z=Z.parentNode)for(var ye=0;ye<ie.length;ye++)if(ie[ye].node==Z){l.display.currentWheelTarget=Z;break e}}if(v&&!h&&!q&&T!=null){x&&z&&Qa(l,Math.max(0,L.scrollTop+x*T)),ys(l,Math.max(0,L.scrollLeft+v*T)),(!x||x&&z)&&ft(p),M.wheelStartX=null;return}if(x&&T!=null){var pe=x*T,Ee=l.doc.scrollTop,Ne=Ee+M.wrapper.clientHeight;pe<0?Ee=Math.max(0,Ee+pe-50):Ne=Math.min(l.doc.height,Ne+pe+50),Al(l,{top:Ee,bottom:Ne})}Ar<20&&p.deltaMode!==0&&(M.wheelStartX==null?(M.wheelStartX=L.scrollLeft,M.wheelStartY=L.scrollTop,M.wheelDX=v,M.wheelDY=x,setTimeout(function(){if(M.wheelStartX!=null){var Ve=L.scrollLeft-M.wheelStartX,qe=L.scrollTop-M.wheelStartY,Ke=qe&&M.wheelDY&&qe/M.wheelDY||Ve&&M.wheelDX&&Ve/M.wheelDX;M.wheelStartX=M.wheelStartY=null,Ke&&(Cs=(Cs*Ar+Ke)/(Ar+1),++Ar)}},200)):(M.wheelDX+=v,M.wheelDY+=x))}}var Ut=function(l,p){this.ranges=l,this.primIndex=p};Ut.prototype.primary=function(){return this.ranges[this.primIndex]},Ut.prototype.equals=function(l){if(l==this)return!0;if(l.primIndex!=this.primIndex||l.ranges.length!=this.ranges.length)return!1;for(var p=0;p<this.ranges.length;p++){var b=this.ranges[p],v=l.ranges[p];if(!mr(b.anchor,v.anchor)||!mr(b.head,v.head))return!1}return!0},Ut.prototype.deepCopy=function(){for(var l=[],p=0;p<this.ranges.length;p++)l[p]=new Bt(gr(this.ranges[p].anchor),gr(this.ranges[p].head));return new Ut(l,this.primIndex)},Ut.prototype.somethingSelected=function(){for(var l=0;l<this.ranges.length;l++)if(!this.ranges[l].empty())return!0;return!1},Ut.prototype.contains=function(l,p){p||(p=l);for(var b=0;b<this.ranges.length;b++){var v=this.ranges[b];if(vt(p,v.from())>=0&&vt(l,v.to())<=0)return b}return-1};var Bt=function(l,p){this.anchor=l,this.head=p};Bt.prototype.from=function(){return To(this.anchor,this.head)},Bt.prototype.to=function(){return Do(this.anchor,this.head)},Bt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Mn(l,p,b){var v=l&&l.options.selectionsMayTouch,x=p[b];p.sort(function(ye,pe){return vt(ye.from(),pe.from())}),b=kt(p,x);for(var T=1;T<p.length;T++){var M=p[T],L=p[T-1],N=vt(L.to(),M.from());if(v&&!M.empty()?N>0:N>=0){var z=To(L.from(),M.from()),Z=Do(L.to(),M.to()),ie=L.empty()?M.from()==M.head:L.from()==L.head;T<=b&&--b,p.splice(--T,2,new Bt(ie?Z:z,ie?z:Z))}}return new Ut(p,b)}function xs(l,p){return new Ut([new Bt(l,p||l)],0)}function ws(l){return l.text?He(l.from.line+l.text.length-1,st(l.text).length+(l.text.length==1?l.from.ch:0)):l.to}function Lc(l,p){if(vt(l,p.from)<0)return l;if(vt(l,p.to)<=0)return ws(p);var b=l.line+p.text.length-(p.to.line-p.from.line)-1,v=l.ch;return l.line==p.to.line&&(v+=ws(p).ch-p.to.ch),He(b,v)}function Pl(l,p){for(var b=[],v=0;v<l.sel.ranges.length;v++){var x=l.sel.ranges[v];b.push(new Bt(Lc(x.anchor,p),Lc(x.head,p)))}return Mn(l.cm,b,l.sel.primIndex)}function Oc(l,p,b){return l.line==p.line?He(b.line,l.ch-p.ch+b.ch):He(b.line+(l.line-p.line),l.ch)}function Mr(l,p,b){for(var v=[],x=He(l.first,0),T=x,M=0;M<p.length;M++){var L=p[M],N=Oc(L.from,x,T),z=Oc(ws(L),x,T);if(x=L.to,T=z,b=="around"){var Z=l.sel.ranges[M],ie=vt(Z.head,Z.anchor)<0;v[M]=new Bt(ie?z:N,ie?N:z)}else v[M]=new Bt(N,N)}return new Ut(v,l.sel.primIndex)}function Fr(l){l.doc.mode=na(l.options,l.doc.modeOption),Ro(l)}function Ro(l){l.doc.iter(function(p){p.stateAfter&&(p.stateAfter=null),p.styles&&(p.styles=null)}),l.doc.modeFrontier=l.doc.highlightFrontier=l.doc.first,to(l,100),l.state.modeGen++,l.curOp&&Pi(l)}function Bl(l,p){return p.from.ch==0&&p.to.ch==0&&st(p.text)==""&&(!l.cm||l.cm.options.wholeLineUpdateBefore)}function Nl(l,p,b,v){function x(Ke){return b?b[Ke]:null}function T(Ke,Ye,tt){Sh(Ke,Ye,tt,v),Oi(Ke,"change",Ke,p)}function M(Ke,Ye){for(var tt=[],dt=Ke;dt<Ye;++dt)tt.push(new Ha(z[dt],x(dt),v));return tt}var L=p.from,N=p.to,z=p.text,Z=at(l,L.line),ie=at(l,N.line),ye=st(z),pe=x(z.length-1),Ee=N.line-L.line;if(p.full)l.insert(0,M(0,z.length)),l.remove(z.length,l.size-z.length);else if(Bl(l,p)){var Ne=M(0,z.length-1);T(ie,ie.text,pe),Ee&&l.remove(L.line,Ee),Ne.length&&l.insert(L.line,Ne)}else if(Z==ie)if(z.length==1)T(Z,Z.text.slice(0,L.ch)+ye+Z.text.slice(N.ch),pe);else{var Ve=M(1,z.length-1);Ve.push(new Ha(ye+Z.text.slice(N.ch),pe,v)),T(Z,Z.text.slice(0,L.ch)+z[0],x(0)),l.insert(L.line+1,Ve)}else if(z.length==1)T(Z,Z.text.slice(0,L.ch)+z[0]+ie.text.slice(N.ch),x(0)),l.remove(L.line+1,Ee);else{T(Z,Z.text.slice(0,L.ch)+z[0],x(0)),T(ie,ye+ie.text.slice(N.ch),pe);var qe=M(1,z.length-1);Ee>1&&l.remove(L.line+1,Ee-1),l.insert(L.line+1,qe)}Oi(l,"change",l,p)}function ks(l,p,b){function v(x,T,M){if(x.linked)for(var L=0;L<x.linked.length;++L){var N=x.linked[L];if(N.doc!=T){var z=M&&N.sharedHist;b&&!z||(p(N.doc,z),v(N.doc,x,z))}}}v(l,null,!0)}function Pc(l,p){if(p.cm)throw new Error("This document is already in use.");l.doc=p,p.cm=l,kr(l),Fr(l),Rl(l),l.options.direction=p.direction,l.options.lineWrapping||es(l),l.options.mode=p.modeOption,Pi(l)}function Rl(l){(l.doc.direction=="rtl"?Ht:Ue)(l.display.lineDiv,"CodeMirror-rtl")}function Uh(l){fn(l,function(){Rl(l),Pi(l)})}function zo(l){this.done=[],this.undone=[],this.undoDepth=l?l.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=l?l.maxGeneration:1}function zl(l,p){var b={from:gr(p.from),to:ws(p),text:ds(l,p.from,p.to)};return Vl(l,b,p.from.line,p.to.line+1),ks(l,function(v){return Vl(v,b,p.from.line,p.to.line+1)},!0),b}function Hl(l){for(;l.length;){var p=st(l);if(p.ranges)l.pop();else break}}function qh(l,p){if(p)return Hl(l.done),st(l.done);if(l.done.length&&!st(l.done).ranges)return st(l.done);if(l.done.length>1&&!l.done[l.done.length-2].ranges)return l.done.pop(),st(l.done)}function $l(l,p,b,v){var x=l.history;x.undone.length=0;var T=+new Date,M,L;if((x.lastOp==v||x.lastOrigin==p.origin&&p.origin&&(p.origin.charAt(0)=="+"&&x.lastModTime>T-(l.cm?l.cm.options.historyEventDelay:500)||p.origin.charAt(0)=="*"))&&(M=qh(x,x.lastOp==v)))L=st(M.changes),vt(p.from,p.to)==0&&vt(p.from,L.to)==0?L.to=ws(p):M.changes.push(zl(l,p));else{var N=st(x.done);for((!N||!N.ranges)&&Ir(l.sel,x.done),M={changes:[zl(l,p)],generation:x.generation},x.done.push(M);x.done.length>x.undoDepth;)x.done.shift(),x.done[0].ranges||x.done.shift()}x.done.push(b),x.generation=++x.maxGeneration,x.lastModTime=x.lastSelTime=T,x.lastOp=x.lastSelOp=v,x.lastOrigin=x.lastSelOrigin=p.origin,L||et(l,"historyAdded")}function Yh(l,p,b,v){var x=p.charAt(0);return x=="*"||x=="+"&&b.ranges.length==v.ranges.length&&b.somethingSelected()==v.somethingSelected()&&new Date-l.history.lastSelTime<=(l.cm?l.cm.options.historyEventDelay:500)}function Bc(l,p,b,v){var x=l.history,T=v&&v.origin;b==x.lastSelOp||T&&x.lastSelOrigin==T&&(x.lastModTime==x.lastSelTime&&x.lastOrigin==T||Yh(l,T,st(x.done),p))?x.done[x.done.length-1]=p:Ir(p,x.done),x.lastSelTime=+new Date,x.lastSelOrigin=T,x.lastSelOp=b,v&&v.clearRedo!==!1&&Hl(x.undone)}function Ir(l,p){var b=st(p);b&&b.ranges&&b.equals(l)||p.push(l)}function Vl(l,p,b,v){var x=p["spans_"+l.id],T=0;l.iter(Math.max(l.first,b),Math.min(l.first+l.size,v),function(M){M.markedSpans&&((x||(x=p["spans_"+l.id]={}))[T]=M.markedSpans),++T})}function Gh(l){if(!l)return null;for(var p,b=0;b<l.length;++b)l[b].marker.explicitlyCleared?p||(p=l.slice(0,b)):p&&p.push(l[b]);return p?p.length?p:null:l}function Nc(l,p){var b=p["spans_"+l.id];if(!b)return null;for(var v=[],x=0;x<p.text.length;++x)v.push(Gh(b[x]));return v}function Rc(l,p){var b=Nc(l,p),v=fl(l,p);if(!b)return v;if(!v)return b;for(var x=0;x<b.length;++x){var T=b[x],M=v[x];if(T&&M)e:for(var L=0;L<M.length;++L){for(var N=M[L],z=0;z<T.length;++z)if(T[z].marker==N.marker)continue e;T.push(N)}else M&&(b[x]=M)}return b}function ba(l,p,b){for(var v=[],x=0;x<l.length;++x){var T=l[x];if(T.ranges){v.push(b?Ut.prototype.deepCopy.call(T):T);continue}var M=T.changes,L=[];v.push({changes:L});for(var N=0;N<M.length;++N){var z=M[N],Z=void 0;if(L.push({from:z.from,to:z.to,text:z.text}),p)for(var ie in z)(Z=ie.match(/^spans_(\d+)$/))&&kt(p,Number(Z[1]))>-1&&(st(L)[ie]=z[ie],delete z[ie])}}return v}function js(l,p,b,v){if(v){var x=l.anchor;if(b){var T=vt(p,x)<0;T!=vt(b,x)<0?(x=p,p=b):T!=vt(p,b)<0&&(p=b)}return new Bt(x,p)}else return new Bt(b||p,p)}function Lr(l,p,b,v,x){x==null&&(x=l.cm&&(l.cm.display.shift||l.extend)),$i(l,new Ut([js(l.sel.primary(),p,b,x)],0),v)}function zc(l,p,b){for(var v=[],x=l.cm&&(l.cm.display.shift||l.extend),T=0;T<l.sel.ranges.length;T++)v[T]=js(l.sel.ranges[T],p[T],null,x);var M=Mn(l.cm,v,l.sel.primIndex);$i(l,M,b)}function Wl(l,p,b,v){var x=l.sel.ranges.slice(0);x[p]=b,$i(l,Mn(l.cm,x,l.sel.primIndex),v)}function Hc(l,p,b,v){$i(l,xs(p,b),v)}function Xh(l,p,b){var v={ranges:p.ranges,update:function(x){this.ranges=[];for(var T=0;T<x.length;T++)this.ranges[T]=new Bt(Ct(l,x[T].anchor),Ct(l,x[T].head))},origin:b&&b.origin};return et(l,"beforeSelectionChange",l,v),l.cm&&et(l.cm,"beforeSelectionChange",l.cm,v),v.ranges!=p.ranges?Mn(l.cm,v.ranges,v.ranges.length-1):p}function $c(l,p,b){var v=l.history.done,x=st(v);x&&x.ranges?(v[v.length-1]=p,Or(l,p,b)):$i(l,p,b)}function $i(l,p,b){Or(l,p,b),Bc(l,l.sel,l.cm?l.cm.curOp.id:NaN,b)}function Or(l,p,b){(_t(l,"beforeSelectionChange")||l.cm&&_t(l.cm,"beforeSelectionChange"))&&(p=Xh(l,p,b));var v=b&&b.bias||(vt(p.primary().head,l.sel.primary().head)<0?-1:1);Pr(l,Wc(l,p,v,!0)),!(b&&b.scroll===!1)&&l.cm&&l.cm.getOption("readOnly")!="nocursor"&&pa(l.cm)}function Pr(l,p){p.equals(l.sel)||(l.sel=p,l.cm&&(l.cm.curOp.updateInput=1,l.cm.curOp.selectionChanged=!0,gt(l.cm)),Oi(l,"cursorActivity",l))}function Vc(l){Pr(l,Wc(l,l.sel,null,!1))}function Wc(l,p,b,v){for(var x,T=0;T<p.ranges.length;T++){var M=p.ranges[T],L=p.ranges.length==l.sel.ranges.length&&l.sel.ranges[T],N=Br(l,M.anchor,L&&L.anchor,b,v),z=M.head==M.anchor?N:Br(l,M.head,L&&L.head,b,v);(x||N!=M.anchor||z!=M.head)&&(x||(x=p.ranges.slice(0,T)),x[T]=new Bt(N,z))}return x?Mn(l.cm,x,p.primIndex):p}function ya(l,p,b,v,x){var T=at(l,p.line);if(T.markedSpans)for(var M=0;M<T.markedSpans.length;++M){var L=T.markedSpans[M],N=L.marker,z="selectLeft"in N?!N.selectLeft:N.inclusiveLeft,Z="selectRight"in N?!N.selectRight:N.inclusiveRight;if((L.from==null||(z?L.from<=p.ch:L.from<p.ch))&&(L.to==null||(Z?L.to>=p.ch:L.to>p.ch))){if(x&&(et(N,"beforeCursorEnter"),N.explicitlyCleared))if(T.markedSpans){--M;continue}else break;if(!N.atomic)continue;if(b){var ie=N.find(v<0?1:-1),ye=void 0;if((v<0?Z:z)&&(ie=jl(l,ie,-v,ie&&ie.line==p.line?T:null)),ie&&ie.line==p.line&&(ye=vt(ie,b))&&(v<0?ye<0:ye>0))return ya(l,ie,p,v,x)}var pe=N.find(v<0?-1:1);return(v<0?z:Z)&&(pe=jl(l,pe,v,pe.line==p.line?T:null)),pe?ya(l,pe,p,v,x):null}}return p}function Br(l,p,b,v,x){var T=v||1,M=ya(l,p,b,T,x)||!x&&ya(l,p,b,T,!0)||ya(l,p,b,-T,x)||!x&&ya(l,p,b,-T,!0);return M||(l.cantEdit=!0,He(l.first,0))}function jl(l,p,b,v){return b<0&&p.ch==0?p.line>l.first?Ct(l,He(p.line-1)):null:b>0&&p.ch==(v||at(l,p.line)).text.length?p.line<l.first+l.size-1?He(p.line+1,0):null:new He(p.line,p.ch+b)}function jc(l){l.setSelection(He(l.firstLine(),0),He(l.lastLine()),hi)}function Ul(l,p,b){var v={canceled:!1,from:p.from,to:p.to,text:p.text,origin:p.origin,cancel:function(){return v.canceled=!0}};return b&&(v.update=function(x,T,M,L){x&&(v.from=Ct(l,x)),T&&(v.to=Ct(l,T)),M&&(v.text=M),L!==void 0&&(v.origin=L)}),et(l,"beforeChange",l,v),l.cm&&et(l.cm,"beforeChange",l.cm,v),v.canceled?(l.cm&&(l.cm.curOp.updateInput=2),null):{from:v.from,to:v.to,text:v.text,origin:v.origin}}function no(l,p,b){if(l.cm){if(!l.cm.curOp)return Ti(l.cm,no)(l,p,b);if(l.cm.state.suppressEdits)return}if(!((_t(l,"beforeChange")||l.cm&&_t(l.cm,"beforeChange"))&&(p=Ul(l,p,!0),!p))){var v=hl&&!b&&Qi(l,p.from,p.to);if(v)for(var x=v.length-1;x>=0;--x)ql(l,{from:v[x].from,to:v[x].to,text:x?[""]:p.text,origin:p.origin});else ql(l,p)}}function ql(l,p){if(!(p.text.length==1&&p.text[0]==""&&vt(p.from,p.to)==0)){var b=Pl(l,p);$l(l,p,b,l.cm?l.cm.curOp.id:NaN),Ho(l,p,b,fl(l,p));var v=[];ks(l,function(x,T){!T&&kt(v,x.history)==-1&&(Xl(x.history,p),v.push(x.history)),Ho(x,p,null,fl(x,p))})}}function Nr(l,p,b){var v=l.cm&&l.cm.state.suppressEdits;if(!(v&&!b)){for(var x=l.history,T,M=l.sel,L=p=="undo"?x.done:x.undone,N=p=="undo"?x.undone:x.done,z=0;z<L.length&&(T=L[z],!(b?T.ranges&&!T.equals(l.sel):!T.ranges));z++);if(z!=L.length){for(x.lastOrigin=x.lastSelOrigin=null;;)if(T=L.pop(),T.ranges){if(Ir(T,N),b&&!T.equals(l.sel)){$i(l,T,{clearRedo:!1});return}M=T}else if(v){L.push(T);return}else break;var Z=[];Ir(M,N),N.push({changes:Z,generation:x.generation}),x.generation=T.generation||++x.maxGeneration;for(var ie=_t(l,"beforeChange")||l.cm&&_t(l.cm,"beforeChange"),ye=function(Ne){var Ve=T.changes[Ne];if(Ve.origin=p,ie&&!Ul(l,Ve,!1))return L.length=0,{};Z.push(zl(l,Ve));var qe=Ne?Pl(l,Ve):st(L);Ho(l,Ve,qe,Rc(l,Ve)),!Ne&&l.cm&&l.cm.scrollIntoView({from:Ve.from,to:ws(Ve)});var Ke=[];ks(l,function(Ye,tt){!tt&&kt(Ke,Ye.history)==-1&&(Xl(Ye.history,Ve),Ke.push(Ye.history)),Ho(Ye,Ve,null,Rc(Ye,Ve))})},pe=T.changes.length-1;pe>=0;--pe){var Ee=ye(pe);if(Ee)return Ee.v}}}}function Yl(l,p){if(p!=0&&(l.first+=p,l.sel=new Ut(li(l.sel.ranges,function(x){return new Bt(He(x.anchor.line+p,x.anchor.ch),He(x.head.line+p,x.head.ch))}),l.sel.primIndex),l.cm)){Pi(l.cm,l.first,l.first-p,p);for(var b=l.cm.display,v=b.viewFrom;v<b.viewTo;v++)$s(l.cm,v,"gutter")}}function Ho(l,p,b,v){if(l.cm&&!l.cm.curOp)return Ti(l.cm,Ho)(l,p,b,v);if(p.to.line<l.first){Yl(l,p.text.length-1-(p.to.line-p.from.line));return}if(!(p.from.line>l.lastLine())){if(p.from.line<l.first){var x=p.text.length-1-(l.first-p.from.line);Yl(l,x),p={from:He(l.first,0),to:He(p.to.line+x,p.to.ch),text:[st(p.text)],origin:p.origin}}var T=l.lastLine();p.to.line>T&&(p={from:p.from,to:He(T,at(l,T).text.length),text:[p.text[0]],origin:p.origin}),p.removed=ds(l,p.from,p.to),b||(b=Pl(l,p)),l.cm?Uc(l.cm,p,v):Nl(l,p,v),Or(l,b,hi),l.cantEdit&&Br(l,He(l.firstLine(),0))&&(l.cantEdit=!1)}}function Uc(l,p,b){var v=l.doc,x=l.display,T=p.from,M=p.to,L=!1,N=T.line;l.options.lineWrapping||(N=Rt(Hi(at(v,T.line))),v.iter(N,M.line+1,function(pe){if(pe==x.maxLine)return L=!0,!0})),v.sel.contains(p.from,p.to)>-1&&gt(l),Nl(v,p,b,_n(l)),l.options.lineWrapping||(v.iter(N,T.line+p.text.length,function(pe){var Ee=Bs(pe);Ee>x.maxLineLength&&(x.maxLine=pe,x.maxLineLength=Ee,x.maxLineChanged=!0,L=!1)}),L&&(l.curOp.updateMaxLine=!0)),yh(v,T.line),to(l,400);var z=p.text.length-(M.line-T.line)-1;p.full?Pi(l):T.line==M.line&&p.text.length==1&&!Bl(l.doc,p)?$s(l,T.line,"text"):Pi(l,T.line,M.line+1,z);var Z=_t(l,"changes"),ie=_t(l,"change");if(ie||Z){var ye={from:T,to:M,text:p.text,removed:p.removed,origin:p.origin};ie&&Oi(l,"change",l,ye),Z&&(l.curOp.changeObjs||(l.curOp.changeObjs=[])).push(ye)}l.display.selForContextMenu=null}function so(l,p,b,v,x){var T;v||(v=b),vt(v,b)<0&&(T=[v,b],b=T[0],v=T[1]),typeof p=="string"&&(p=l.splitLines(p)),no(l,{from:b,to:v,text:p,origin:x})}function Gl(l,p,b,v){b<l.line?l.line+=v:p<l.line&&(l.line=p,l.ch=0)}function qc(l,p,b,v){for(var x=0;x<l.length;++x){var T=l[x],M=!0;if(T.ranges){T.copied||(T=l[x]=T.deepCopy(),T.copied=!0);for(var L=0;L<T.ranges.length;L++)Gl(T.ranges[L].anchor,p,b,v),Gl(T.ranges[L].head,p,b,v);continue}for(var N=0;N<T.changes.length;++N){var z=T.changes[N];if(b<z.from.line)z.from=He(z.from.line+v,z.from.ch),z.to=He(z.to.line+v,z.to.ch);else if(p<=z.to.line){M=!1;break}}M||(l.splice(0,x+1),x=0)}}function Xl(l,p){var b=p.from.line,v=p.to.line,x=p.text.length-(v-b)-1;qc(l.done,b,v,x),qc(l.undone,b,v,x)}function $o(l,p,b,v){var x=p,T=p;return typeof p=="number"?T=at(l,bn(l,p)):x=Rt(p),x==null?null:(v(T,x)&&l.cm&&$s(l.cm,x,b),T)}function ao(l){this.lines=l,this.parent=null;for(var p=0,b=0;b<l.length;++b)l[b].parent=this,p+=l[b].height;this.height=p}ao.prototype={chunkSize:function(){return this.lines.length},removeInner:function(l,p){for(var b=l,v=l+p;b<v;++b){var x=this.lines[b];this.height-=x.height,ps(x),Oi(x,"delete")}this.lines.splice(l,p)},collapse:function(l){l.push.apply(l,this.lines)},insertInner:function(l,p,b){this.height+=b,this.lines=this.lines.slice(0,l).concat(p).concat(this.lines.slice(l));for(var v=0;v<p.length;++v)p[v].parent=this},iterN:function(l,p,b){for(var v=l+p;l<v;++l)if(b(this.lines[l]))return!0}};function Vo(l){this.children=l;for(var p=0,b=0,v=0;v<l.length;++v){var x=l[v];p+=x.chunkSize(),b+=x.height,x.parent=this}this.size=p,this.height=b,this.parent=null}Vo.prototype={chunkSize:function(){return this.size},removeInner:function(l,p){this.size-=p;for(var b=0;b<this.children.length;++b){var v=this.children[b],x=v.chunkSize();if(l<x){var T=Math.min(p,x-l),M=v.height;if(v.removeInner(l,T),this.height-=M-v.height,x==T&&(this.children.splice(b--,1),v.parent=null),(p-=T)==0)break;l=0}else l-=x}if(this.size-p<25&&(this.children.length>1||!(this.children[0]instanceof ao))){var L=[];this.collapse(L),this.children=[new ao(L)],this.children[0].parent=this}},collapse:function(l){for(var p=0;p<this.children.length;++p)this.children[p].collapse(l)},insertInner:function(l,p,b){this.size+=p.length,this.height+=b;for(var v=0;v<this.children.length;++v){var x=this.children[v],T=x.chunkSize();if(l<=T){if(x.insertInner(l,p,b),x.lines&&x.lines.length>50){for(var M=x.lines.length%25+25,L=M;L<x.lines.length;){var N=new ao(x.lines.slice(L,L+=25));x.height-=N.height,this.children.splice(++v,0,N),N.parent=this}x.lines=x.lines.slice(0,M),this.maybeSpill()}break}l-=T}},maybeSpill:function(){if(!(this.children.length<=10)){var l=this;do{var p=l.children.splice(l.children.length-5,5),b=new Vo(p);if(l.parent){l.size-=b.size,l.height-=b.height;var x=kt(l.parent.children,l);l.parent.children.splice(x+1,0,b)}else{var v=new Vo(l.children);v.parent=l,l.children=[v,b],l=v}b.parent=l.parent}while(l.children.length>10);l.parent.maybeSpill()}},iterN:function(l,p,b){for(var v=0;v<this.children.length;++v){var x=this.children[v],T=x.chunkSize();if(l<T){var M=Math.min(p,T-l);if(x.iterN(l,M,b))return!0;if((p-=M)==0)break;l=0}else l-=T}}};var oo=function(l,p,b){if(b)for(var v in b)b.hasOwnProperty(v)&&(this[v]=b[v]);this.doc=l,this.node=p};oo.prototype.clear=function(){var l=this.doc.cm,p=this.line.widgets,b=this.line,v=Rt(b);if(!(v==null||!p)){for(var x=0;x<p.length;++x)p[x]==this&&p.splice(x--,1);p.length||(b.widgets=null);var T=qa(this);Rn(b,Math.max(0,b.height-T)),l&&(fn(l,function(){Yc(l,b,-T),$s(l,v,"widget")}),Oi(l,"lineWidgetCleared",l,this,v))}},oo.prototype.changed=function(){var l=this,p=this.height,b=this.doc.cm,v=this.line;this.height=null;var x=qa(this)-p;x&&(mi(this.doc,v)||Rn(v,v.height+x),b&&fn(b,function(){b.curOp.forceUpdate=!0,Yc(b,v,x),Oi(b,"lineWidgetChanged",b,l,Rt(v))}))},xt(oo);function Yc(l,p,b){Qn(p)<(l.curOp&&l.curOp.scrollTop||l.doc.scrollTop)&&Ja(l,b)}function Gc(l,p,b,v){var x=new oo(l,b,v),T=l.cm;return T&&x.noHScroll&&(T.display.alignWidgets=!0),$o(l,p,"widget",function(M){var L=M.widgets||(M.widgets=[]);if(x.insertAt==null?L.push(x):L.splice(Math.min(L.length,Math.max(0,x.insertAt)),0,x),x.line=M,T&&!mi(l,M)){var N=Qn(M)<l.scrollTop;Rn(M,M.height+qa(x)),N&&Ja(T,x.height),T.curOp.forceUpdate=!0}return!0}),T&&Oi(T,"lineWidgetAdded",T,x,typeof p=="number"?p:Rt(p)),x}var Xc=0,Ss=function(l,p){this.lines=[],this.type=p,this.doc=l,this.id=++Xc};Ss.prototype.clear=function(){if(!this.explicitlyCleared){var l=this.doc.cm,p=l&&!l.curOp;if(p&&Vs(l),_t(this,"clear")){var b=this.find();b&&Oi(this,"clear",b.from,b.to)}for(var v=null,x=null,T=0;T<this.lines.length;++T){var M=this.lines[T],L=Eo(M.markedSpans,this);l&&!this.collapsed?$s(l,Rt(M),"text"):l&&(L.to!=null&&(x=Rt(M)),L.from!=null&&(v=Rt(M))),M.markedSpans=Ch(M.markedSpans,L),L.from==null&&this.collapsed&&!mi(this.doc,M)&&l&&Rn(M,gs(l.display))}if(l&&this.collapsed&&!l.options.lineWrapping)for(var N=0;N<this.lines.length;++N){var z=Hi(this.lines[N]),Z=Bs(z);Z>l.display.maxLineLength&&(l.display.maxLine=z,l.display.maxLineLength=Z,l.display.maxLineChanged=!0)}v!=null&&l&&this.collapsed&&Pi(l,v,x+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,l&&Vc(l.doc)),l&&Oi(l,"markerCleared",l,this,v,x),p&&Ws(l),this.parent&&this.parent.clear()}},Ss.prototype.find=function(l,p){l==null&&this.type=="bookmark"&&(l=1);for(var b,v,x=0;x<this.lines.length;++x){var T=this.lines[x],M=Eo(T.markedSpans,this);if(M.from!=null&&(b=He(p?T:Rt(T),M.from),l==-1))return b;if(M.to!=null&&(v=He(p?T:Rt(T),M.to),l==1))return v}return b&&{from:b,to:v}},Ss.prototype.changed=function(){var l=this,p=this.find(-1,!0),b=this,v=this.doc.cm;!p||!v||fn(v,function(){var x=p.line,T=Rt(p.line),M=Cl(v,T);if(M&&(_c(M),v.curOp.selectionChanged=v.curOp.forceUpdate=!0),v.curOp.updateMaxLine=!0,!mi(b.doc,x)&&b.height!=null){var L=b.height;b.height=null;var N=qa(b)-L;N&&Rn(x,x.height+N)}Oi(v,"markerChanged",v,l)})},Ss.prototype.attachLine=function(l){if(!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;(!p.maybeHiddenMarkers||kt(p.maybeHiddenMarkers,this)==-1)&&(p.maybeUnhiddenMarkers||(p.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(l)},Ss.prototype.detachLine=function(l){if(this.lines.splice(kt(this.lines,l),1),!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;(p.maybeHiddenMarkers||(p.maybeHiddenMarkers=[])).push(this)}},xt(Ss);function ro(l,p,b,v,x){if(v&&v.shared)return Kh(l,p,b,v,x);if(l.cm&&!l.cm.curOp)return Ti(l.cm,ro)(l,p,b,v,x);var T=new Ss(l,x),M=vt(p,b);if(v&&ti(v,T,!1),M>0||M==0&&T.clearWhenEmpty!==!1)return T;if(T.replacedWith&&(T.collapsed=!0,T.widgetNode=Pe("span",[T.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||T.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(T.widgetNode.insertLeft=!0)),T.collapsed){if(_r(l,p.line,p,b,T)||p.line!=b.line&&_r(l,b.line,p,b,T))throw new Error("Inserting collapsed marker partially overlapping an existing one");_h()}T.addToHistory&&$l(l,{from:p,to:b,origin:"markText"},l.sel,NaN);var L=p.line,N=l.cm,z;if(l.iter(L,b.line+1,function(ie){N&&T.collapsed&&!N.options.lineWrapping&&Hi(ie)==N.display.maxLine&&(z=!0),T.collapsed&&L!=p.line&&Rn(ie,0),xh(ie,new yr(T,L==p.line?p.ch:null,L==b.line?b.ch:null),l.cm&&l.cm.curOp),++L}),T.collapsed&&l.iter(p.line,b.line+1,function(ie){mi(l,ie)&&Rn(ie,0)}),T.clearOnEnter&&ge(T,"beforeCursorEnter",function(){return T.clear()}),T.readOnly&&(tc(),(l.history.done.length||l.history.undone.length)&&l.clearHistory()),T.collapsed&&(T.id=++Xc,T.atomic=!0),N){if(z&&(N.curOp.updateMaxLine=!0),T.collapsed)Pi(N,p.line,b.line+1);else if(T.className||T.startStyle||T.endStyle||T.css||T.attributes||T.title)for(var Z=p.line;Z<=b.line;Z++)$s(N,Z,"text");T.atomic&&Vc(N.doc),Oi(N,"markerAdded",N,T)}return T}var lo=function(l,p){this.markers=l,this.primary=p;for(var b=0;b<l.length;++b)l[b].parent=this};lo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var l=0;l<this.markers.length;++l)this.markers[l].clear();Oi(this,"clear")}},lo.prototype.find=function(l,p){return this.primary.find(l,p)},xt(lo);function Kh(l,p,b,v,x){v=ti(v),v.shared=!1;var T=[ro(l,p,b,v,x)],M=T[0],L=v.widgetNode;return ks(l,function(N){L&&(v.widgetNode=L.cloneNode(!0)),T.push(ro(N,Ct(N,p),Ct(N,b),v,x));for(var z=0;z<N.linked.length;++z)if(N.linked[z].isParent)return;M=st(T)}),new lo(T,M)}function Kl(l){return l.findMarks(He(l.first,0),l.clipPos(He(l.lastLine())),function(p){return p.parent})}function Zh(l,p){for(var b=0;b<p.length;b++){var v=p[b],x=v.find(),T=l.clipPos(x.from),M=l.clipPos(x.to);if(vt(T,M)){var L=ro(l,T,M,v.primary,v.primary.type);v.markers.push(L),L.parent=v}}}function Kc(l){for(var p=function(v){var x=l[v],T=[x.primary.doc];ks(x.primary.doc,function(N){return T.push(N)});for(var M=0;M<x.markers.length;M++){var L=x.markers[M];kt(T,L.doc)==-1&&(L.parent=null,x.markers.splice(M--,1))}},b=0;b<l.length;b++)p(b)}var Jh=0,sn=function(l,p,b,v,x){if(!(this instanceof sn))return new sn(l,p,b,v,x);b==null&&(b=0),Vo.call(this,[new ao([new Ha("",null)])]),this.first=b,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=b;var T=He(b,0);this.sel=xs(T),this.history=new zo(null),this.id=++Jh,this.modeOption=p,this.lineSep=v,this.direction=x=="rtl"?"rtl":"ltr",this.extend=!1,typeof l=="string"&&(l=this.splitLines(l)),Nl(this,{from:T,to:T,text:l}),$i(this,xs(T),hi)};sn.prototype=xe(Vo.prototype,{constructor:sn,iter:function(l,p,b){b?this.iterN(l-this.first,p-l,b):this.iterN(this.first,this.first+this.size,l)},insert:function(l,p){for(var b=0,v=0;v<p.length;++v)b+=p[v].height;this.insertInner(l-this.first,p,b)},remove:function(l,p){this.removeInner(l-this.first,p)},getValue:function(l){var p=So(this,this.first,this.first+this.size);return l===!1?p:p.join(l||this.lineSeparator())},setValue:Ei(function(l){var p=He(this.first,0),b=this.first+this.size-1;no(this,{from:p,to:He(b,at(this,b).text.length),text:this.splitLines(l),origin:"setValue",full:!0},!0),this.cm&&Un(this.cm,0,0),$i(this,xs(p),hi)}),replaceRange:function(l,p,b,v){p=Ct(this,p),b=b?Ct(this,b):p,so(this,l,p,b,v)},getRange:function(l,p,b){var v=ds(this,Ct(this,l),Ct(this,p));return b===!1?v:b===""?v.join(""):v.join(b||this.lineSeparator())},getLine:function(l){var p=this.getLineHandle(l);return p&&p.text},getLineHandle:function(l){if(Na(this,l))return at(this,l)},getLineNumber:function(l){return Rt(l)},getLineHandleVisualStart:function(l){return typeof l=="number"&&(l=at(this,l)),Hi(l)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(l){return Ct(this,l)},getCursor:function(l){var p=this.sel.primary(),b;return l==null||l=="head"?b=p.head:l=="anchor"?b=p.anchor:l=="end"||l=="to"||l===!1?b=p.to():b=p.from(),b},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ei(function(l,p,b){Hc(this,Ct(this,typeof l=="number"?He(l,p||0):l),null,b)}),setSelection:Ei(function(l,p,b){Hc(this,Ct(this,l),Ct(this,p||l),b)}),extendSelection:Ei(function(l,p,b){Lr(this,Ct(this,l),p&&Ct(this,p),b)}),extendSelections:Ei(function(l,p){zc(this,Qu(this,l),p)}),extendSelectionsBy:Ei(function(l,p){var b=li(this.sel.ranges,l);zc(this,Qu(this,b),p)}),setSelections:Ei(function(l,p,b){if(l.length){for(var v=[],x=0;x<l.length;x++)v[x]=new Bt(Ct(this,l[x].anchor),Ct(this,l[x].head||l[x].anchor));p==null&&(p=Math.min(l.length-1,this.sel.primIndex)),$i(this,Mn(this.cm,v,p),b)}}),addSelection:Ei(function(l,p,b){var v=this.sel.ranges.slice(0);v.push(new Bt(Ct(this,l),Ct(this,p||l))),$i(this,Mn(this.cm,v,v.length-1),b)}),getSelection:function(l){for(var p=this.sel.ranges,b,v=0;v<p.length;v++){var x=ds(this,p[v].from(),p[v].to());b=b?b.concat(x):x}return l===!1?b:b.join(l||this.lineSeparator())},getSelections:function(l){for(var p=[],b=this.sel.ranges,v=0;v<b.length;v++){var x=ds(this,b[v].from(),b[v].to());l!==!1&&(x=x.join(l||this.lineSeparator())),p[v]=x}return p},replaceSelection:function(l,p,b){for(var v=[],x=0;x<this.sel.ranges.length;x++)v[x]=l;this.replaceSelections(v,p,b||"+input")},replaceSelections:Ei(function(l,p,b){for(var v=[],x=this.sel,T=0;T<x.ranges.length;T++){var M=x.ranges[T];v[T]={from:M.from(),to:M.to(),text:this.splitLines(l[T]),origin:b}}for(var L=p&&p!="end"&&Mr(this,v,p),N=v.length-1;N>=0;N--)no(this,v[N]);L?$c(this,L):this.cm&&pa(this.cm)}),undo:Ei(function(){Nr(this,"undo")}),redo:Ei(function(){Nr(this,"redo")}),undoSelection:Ei(function(){Nr(this,"undo",!0)}),redoSelection:Ei(function(){Nr(this,"redo",!0)}),setExtending:function(l){this.extend=l},getExtending:function(){return this.extend},historySize:function(){for(var l=this.history,p=0,b=0,v=0;v<l.done.length;v++)l.done[v].ranges||++p;for(var x=0;x<l.undone.length;x++)l.undone[x].ranges||++b;return{undo:p,redo:b}},clearHistory:function(){var l=this;this.history=new zo(this.history),ks(this,function(p){return p.history=l.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(l){return l&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(l){return this.history.generation==(l||this.cleanGeneration)},getHistory:function(){return{done:ba(this.history.done),undone:ba(this.history.undone)}},setHistory:function(l){var p=this.history=new zo(this.history);p.done=ba(l.done.slice(0),null,!0),p.undone=ba(l.undone.slice(0),null,!0)},setGutterMarker:Ei(function(l,p,b){return $o(this,l,"gutter",function(v){var x=v.gutterMarkers||(v.gutterMarkers={});return x[p]=b,!b&&V(x)&&(v.gutterMarkers=null),!0})}),clearGutter:Ei(function(l){var p=this;this.iter(function(b){b.gutterMarkers&&b.gutterMarkers[l]&&$o(p,b,"gutter",function(){return b.gutterMarkers[l]=null,V(b.gutterMarkers)&&(b.gutterMarkers=null),!0})})}),lineInfo:function(l){var p;if(typeof l=="number"){if(!Na(this,l)||(p=l,l=at(this,l),!l))return null}else if(p=Rt(l),p==null)return null;return{line:p,handle:l,text:l.text,gutterMarkers:l.gutterMarkers,textClass:l.textClass,bgClass:l.bgClass,wrapClass:l.wrapClass,widgets:l.widgets}},addLineClass:Ei(function(l,p,b){return $o(this,l,p=="gutter"?"gutter":"class",function(v){var x=p=="text"?"textClass":p=="background"?"bgClass":p=="gutter"?"gutterClass":"wrapClass";if(!v[x])v[x]=b;else{if(Ie(b).test(v[x]))return!1;v[x]+=" "+b}return!0})}),removeLineClass:Ei(function(l,p,b){return $o(this,l,p=="gutter"?"gutter":"class",function(v){var x=p=="text"?"textClass":p=="background"?"bgClass":p=="gutter"?"gutterClass":"wrapClass",T=v[x];if(T)if(b==null)v[x]=null;else{var M=T.match(Ie(b));if(!M)return!1;var L=M.index+M[0].length;v[x]=T.slice(0,M.index)+(!M.index||L==T.length?"":" ")+T.slice(L)||null}else return!1;return!0})}),addLineWidget:Ei(function(l,p,b){return Gc(this,l,p,b)}),removeLineWidget:function(l){l.clear()},markText:function(l,p,b){return ro(this,Ct(this,l),Ct(this,p),b,b&&b.type||"range")},setBookmark:function(l,p){var b={replacedWith:p&&(p.nodeType==null?p.widget:p),insertLeft:p&&p.insertLeft,clearWhenEmpty:!1,shared:p&&p.shared,handleMouseEvents:p&&p.handleMouseEvents};return l=Ct(this,l),ro(this,l,l,b,"bookmark")},findMarksAt:function(l){l=Ct(this,l);var p=[],b=at(this,l.line).markedSpans;if(b)for(var v=0;v<b.length;++v){var x=b[v];(x.from==null||x.from<=l.ch)&&(x.to==null||x.to>=l.ch)&&p.push(x.marker.parent||x.marker)}return p},findMarks:function(l,p,b){l=Ct(this,l),p=Ct(this,p);var v=[],x=l.line;return this.iter(l.line,p.line+1,function(T){var M=T.markedSpans;if(M)for(var L=0;L<M.length;L++){var N=M[L];!(N.to!=null&&x==l.line&&l.ch>=N.to||N.from==null&&x!=l.line||N.from!=null&&x==p.line&&N.from>=p.ch)&&(!b||b(N.marker))&&v.push(N.marker.parent||N.marker)}++x}),v},getAllMarks:function(){var l=[];return this.iter(function(p){var b=p.markedSpans;if(b)for(var v=0;v<b.length;++v)b[v].from!=null&&l.push(b[v].marker)}),l},posFromIndex:function(l){var p,b=this.first,v=this.lineSeparator().length;return this.iter(function(x){var T=x.text.length+v;if(T>l)return p=l,!0;l-=T,++b}),Ct(this,He(b,p))},indexFromPos:function(l){l=Ct(this,l);var p=l.ch;if(l.line<this.first||l.ch<0)return 0;var b=this.lineSeparator().length;return this.iter(this.first,l.line,function(v){p+=v.text.length+b}),p},copy:function(l){var p=new sn(So(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return p.scrollTop=this.scrollTop,p.scrollLeft=this.scrollLeft,p.sel=this.sel,p.extend=!1,l&&(p.history.undoDepth=this.history.undoDepth,p.setHistory(this.getHistory())),p},linkedDoc:function(l){l||(l={});var p=this.first,b=this.first+this.size;l.from!=null&&l.from>p&&(p=l.from),l.to!=null&&l.to<b&&(b=l.to);var v=new sn(So(this,p,b),l.mode||this.modeOption,p,this.lineSep,this.direction);return l.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:l.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:l.sharedHist}],Zh(v,Kl(this)),v},unlinkDoc:function(l){if(l instanceof ei&&(l=l.doc),this.linked)for(var p=0;p<this.linked.length;++p){var b=this.linked[p];if(b.doc==l){this.linked.splice(p,1),l.unlinkDoc(this),Kc(Kl(this));break}}if(l.history==this.history){var v=[l.id];ks(l,function(x){return v.push(x.id)},!0),l.history=new zo(null),l.history.done=ba(this.history.done,v),l.history.undone=ba(this.history.undone,v)}},iterLinkedDocs:function(l){ks(this,l)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(l){return this.lineSep?l.split(this.lineSep):Ba(l)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Ei(function(l){l!="rtl"&&(l="ltr"),l!=this.direction&&(this.direction=l,this.iter(function(p){return p.order=null}),this.cm&&Uh(this.cm))})}),sn.prototype.eachLine=sn.prototype.iter;var Zc=0;function Jc(l){var p=this;if(ed(p),!(We(p,l)||ms(p.display,l))){ft(l),S&&(Zc=+new Date);var b=Hs(p,l,!0),v=l.dataTransfer.files;if(!(!b||p.isReadOnly()))if(v&&v.length&&window.FileReader&&window.File)for(var x=v.length,T=Array(x),M=0,L=function(){++M==x&&Ti(p,function(){b=Ct(p.doc,b);var pe={from:b,to:b,text:p.doc.splitLines(T.filter(function(Ee){return Ee!=null}).join(p.doc.lineSeparator())),origin:"paste"};no(p.doc,pe),$c(p.doc,xs(Ct(p.doc,b),Ct(p.doc,ws(pe))))})()},N=function(pe,Ee){if(p.options.allowDropFileTypes&&kt(p.options.allowDropFileTypes,pe.type)==-1){L();return}var Ne=new FileReader;Ne.onerror=function(){return L()},Ne.onload=function(){var Ve=Ne.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ve)){L();return}T[Ee]=Ve,L()},Ne.readAsText(pe)},z=0;z<v.length;z++)N(v[z],z);else{if(p.state.draggingText&&p.doc.sel.contains(b)>-1){p.state.draggingText(l),setTimeout(function(){return p.display.input.focus()},20);return}try{var Z=l.dataTransfer.getData("Text");if(Z){var ie;if(p.state.draggingText&&!p.state.draggingText.copy&&(ie=p.listSelections()),Or(p.doc,xs(b,b)),ie)for(var ye=0;ye<ie.length;++ye)so(p.doc,"",ie[ye].anchor,ie[ye].head,"drag");p.replaceSelection(Z,"around","paste"),p.display.input.focus()}}catch{}}}}function Qh(l,p){if(S&&(!l.state.draggingText||+new Date-Zc<100)){fi(p);return}if(!(We(l,p)||ms(l.display,p))&&(p.dataTransfer.setData("Text",l.getSelection()),p.dataTransfer.effectAllowed="copyMove",p.dataTransfer.setDragImage&&!Q)){var b=ce("img",null,null,"position: fixed; left: 0; top: 0;");b.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",q&&(b.width=b.height=1,l.display.wrapper.appendChild(b),b._top=b.offsetTop),p.dataTransfer.setDragImage(b,0,0),q&&b.parentNode.removeChild(b)}}function Qc(l,p){var b=Hs(l,p);if(b){var v=document.createDocumentFragment();ss(l,b,v),l.display.dragCursor||(l.display.dragCursor=ce("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),l.display.lineSpace.insertBefore(l.display.dragCursor,l.display.cursorDiv)),rt(l.display.dragCursor,v)}}function ed(l){l.display.dragCursor&&(l.display.lineSpace.removeChild(l.display.dragCursor),l.display.dragCursor=null)}function Zl(l){if(document.getElementsByClassName){for(var p=document.getElementsByClassName("CodeMirror"),b=[],v=0;v<p.length;v++){var x=p[v].CodeMirror;x&&b.push(x)}b.length&&b[0].operation(function(){for(var T=0;T<b.length;T++)l(b[T])})}}var td=!1;function id(){td||(ef(),td=!0)}function ef(){var l;ge(window,"resize",function(){l==null&&(l=setTimeout(function(){l=null,Zl(Rr)},100))}),ge(window,"blur",function(){return Zl(bs)})}function Rr(l){var p=l.display;p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null,p.scrollbarsClipped=!1,l.setSize()}for(var Us={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Wo=0;Wo<10;Wo++)Us[Wo+48]=Us[Wo+96]=String(Wo);for(var zr=65;zr<=90;zr++)Us[zr]=String.fromCharCode(zr);for(var uo=1;uo<=12;uo++)Us[uo+111]=Us[uo+63235]="F"+uo;var Ds={};Ds.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ds.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ds.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ds.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ds.default=se?Ds.macDefault:Ds.pcDefault;function Jl(l){var p=l.split(/-(?!$)/);l=p[p.length-1];for(var b,v,x,T,M=0;M<p.length-1;M++){var L=p[M];if(/^(cmd|meta|m)$/i.test(L))T=!0;else if(/^a(lt)?$/i.test(L))b=!0;else if(/^(c|ctrl|control)$/i.test(L))v=!0;else if(/^s(hift)?$/i.test(L))x=!0;else throw new Error("Unrecognized modifier name: "+L)}return b&&(l="Alt-"+l),v&&(l="Ctrl-"+l),T&&(l="Cmd-"+l),x&&(l="Shift-"+l),l}function tf(l){var p={};for(var b in l)if(l.hasOwnProperty(b)){var v=l[b];if(/^(name|fallthrough|(de|at)tach)$/.test(b))continue;if(v=="..."){delete l[b];continue}for(var x=li(b.split(" "),Jl),T=0;T<x.length;T++){var M=void 0,L=void 0;T==x.length-1?(L=x.join(" "),M=v):(L=x.slice(0,T+1).join(" "),M="...");var N=p[L];if(!N)p[L]=M;else if(N!=M)throw new Error("Inconsistent bindings for "+L)}delete l[b]}for(var z in p)l[z]=p[z];return l}function co(l,p,b,v){p=Hr(p);var x=p.call?p.call(l,v):p[l];if(x===!1)return"nothing";if(x==="...")return"multi";if(x!=null&&b(x))return"handled";if(p.fallthrough){if(Object.prototype.toString.call(p.fallthrough)!="[object Array]")return co(l,p.fallthrough,b,v);for(var T=0;T<p.fallthrough.length;T++){var M=co(l,p.fallthrough[T],b,v);if(M)return M}}}function Ql(l){var p=typeof l=="string"?l:Us[l.keyCode];return p=="Ctrl"||p=="Alt"||p=="Shift"||p=="Mod"}function nd(l,p,b){var v=l;return p.altKey&&v!="Alt"&&(l="Alt-"+l),(De?p.metaKey:p.ctrlKey)&&v!="Ctrl"&&(l="Ctrl-"+l),(De?p.ctrlKey:p.metaKey)&&v!="Mod"&&(l="Cmd-"+l),!b&&p.shiftKey&&v!="Shift"&&(l="Shift-"+l),l}function eu(l,p){if(q&&l.keyCode==34&&l.char)return!1;var b=Us[l.keyCode];return b==null||l.altGraphKey?!1:(l.keyCode==3&&l.code&&(b=l.code),nd(b,l,p))}function Hr(l){return typeof l=="string"?Ds[l]:l}function _a(l,p){for(var b=l.doc.sel.ranges,v=[],x=0;x<b.length;x++){for(var T=p(b[x]);v.length&&vt(T.from,st(v).to)<=0;){var M=v.pop();if(vt(M.from,T.from)<0){T.from=M.from;break}}v.push(T)}fn(l,function(){for(var L=v.length-1;L>=0;L--)so(l.doc,"",v[L].from,v[L].to,"+delete");pa(l)})}function $r(l,p,b){var v=R(l.text,p+b,b);return v<0||v>l.text.length?null:v}function Vr(l,p,b){var v=$r(l,p.ch,b);return v==null?null:new He(p.line,v,b<0?"after":"before")}function tu(l,p,b,v,x){if(l){p.doc.direction=="rtl"&&(x=-x);var T=re(b,p.doc.direction);if(T){var M=x<0?st(T):T[0],L=x<0==(M.level==1),N=L?"after":"before",z;if(M.level>0||p.doc.direction=="rtl"){var Z=Ya(p,b);z=x<0?b.text.length-1:0;var ie=is(p,Z,z).top;z=J(function(ye){return is(p,Z,ye).top==ie},x<0==(M.level==1)?M.from:M.to-1,z),N=="before"&&(z=$r(b,z,1))}else z=x<0?M.to:M.from;return new He(v,z,N)}}return new He(v,x<0?b.text.length:0,x<0?"before":"after")}function nf(l,p,b,v){var x=re(p,l.doc.direction);if(!x)return Vr(p,b,v);b.ch>=p.text.length?(b.ch=p.text.length,b.sticky="before"):b.ch<=0&&(b.ch=0,b.sticky="after");var T=Ce(x,b.ch,b.sticky),M=x[T];if(l.doc.direction=="ltr"&&M.level%2==0&&(v>0?M.to>b.ch:M.from<b.ch))return Vr(p,b,v);var L=function(qe,Ke){return $r(p,qe instanceof He?qe.ch:qe,Ke)},N,z=function(qe){return l.options.lineWrapping?(N=N||Ya(l,p),Xa(l,p,N,qe)):{begin:0,end:p.text.length}},Z=z(b.sticky=="before"?L(b,-1):b.ch);if(l.doc.direction=="rtl"||M.level==1){var ie=M.level==1==v<0,ye=L(b,ie?1:-1);if(ye!=null&&(ie?ye<=M.to&&ye<=Z.end:ye>=M.from&&ye>=Z.begin)){var pe=ie?"before":"after";return new He(b.line,ye,pe)}}var Ee=function(qe,Ke,Ye){for(var tt=function(qt,Bi){return Bi?new He(b.line,L(qt,1),"before"):new He(b.line,qt,"after")};qe>=0&&qe<x.length;qe+=Ke){var dt=x[qe],lt=Ke>0==(dt.level!=1),St=lt?Ye.begin:L(Ye.end,-1);if(dt.from<=St&&St<dt.to||(St=lt?dt.from:L(dt.to,-1),Ye.begin<=St&&St<Ye.end))return tt(St,lt)}},Ne=Ee(T+v,v,Z);if(Ne)return Ne;var Ve=v>0?Z.end:L(Z.begin,-1);return Ve!=null&&!(v>0&&Ve==p.text.length)&&(Ne=Ee(v>0?0:x.length-1,v,z(Ve)),Ne)?Ne:null}var jo={selectAll:jc,singleSelection:function(l){return l.setSelection(l.getCursor("anchor"),l.getCursor("head"),hi)},killLine:function(l){return _a(l,function(p){if(p.empty()){var b=at(l.doc,p.head.line).text.length;return p.head.ch==b&&p.head.line<l.lastLine()?{from:p.head,to:He(p.head.line+1,0)}:{from:p.head,to:He(p.head.line,b)}}else return{from:p.from(),to:p.to()}})},deleteLine:function(l){return _a(l,function(p){return{from:He(p.from().line,0),to:Ct(l.doc,He(p.to().line+1,0))}})},delLineLeft:function(l){return _a(l,function(p){return{from:He(p.from().line,0),to:p.from()}})},delWrappedLineLeft:function(l){return _a(l,function(p){var b=l.charCoords(p.head,"div").top+5,v=l.coordsChar({left:0,top:b},"div");return{from:v,to:p.from()}})},delWrappedLineRight:function(l){return _a(l,function(p){var b=l.charCoords(p.head,"div").top+5,v=l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:b},"div");return{from:p.from(),to:v}})},undo:function(l){return l.undo()},redo:function(l){return l.redo()},undoSelection:function(l){return l.undoSelection()},redoSelection:function(l){return l.redoSelection()},goDocStart:function(l){return l.extendSelection(He(l.firstLine(),0))},goDocEnd:function(l){return l.extendSelection(He(l.lastLine()))},goLineStart:function(l){return l.extendSelectionsBy(function(p){return iu(l,p.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(l){return l.extendSelectionsBy(function(p){return nu(l,p.head)},{origin:"+move",bias:1})},goLineEnd:function(l){return l.extendSelectionsBy(function(p){return sf(l,p.head.line)},{origin:"+move",bias:-1})},goLineRight:function(l){return l.extendSelectionsBy(function(p){var b=l.cursorCoords(p.head,"div").top+5;return l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:b},"div")},ji)},goLineLeft:function(l){return l.extendSelectionsBy(function(p){var b=l.cursorCoords(p.head,"div").top+5;return l.coordsChar({left:0,top:b},"div")},ji)},goLineLeftSmart:function(l){return l.extendSelectionsBy(function(p){var b=l.cursorCoords(p.head,"div").top+5,v=l.coordsChar({left:0,top:b},"div");return v.ch<l.getLine(v.line).search(/\S/)?nu(l,p.head):v},ji)},goLineUp:function(l){return l.moveV(-1,"line")},goLineDown:function(l){return l.moveV(1,"line")},goPageUp:function(l){return l.moveV(-1,"page")},goPageDown:function(l){return l.moveV(1,"page")},goCharLeft:function(l){return l.moveH(-1,"char")},goCharRight:function(l){return l.moveH(1,"char")},goColumnLeft:function(l){return l.moveH(-1,"column")},goColumnRight:function(l){return l.moveH(1,"column")},goWordLeft:function(l){return l.moveH(-1,"word")},goGroupRight:function(l){return l.moveH(1,"group")},goGroupLeft:function(l){return l.moveH(-1,"group")},goWordRight:function(l){return l.moveH(1,"word")},delCharBefore:function(l){return l.deleteH(-1,"codepoint")},delCharAfter:function(l){return l.deleteH(1,"char")},delWordBefore:function(l){return l.deleteH(-1,"word")},delWordAfter:function(l){return l.deleteH(1,"word")},delGroupBefore:function(l){return l.deleteH(-1,"group")},delGroupAfter:function(l){return l.deleteH(1,"group")},indentAuto:function(l){return l.indentSelection("smart")},indentMore:function(l){return l.indentSelection("add")},indentLess:function(l){return l.indentSelection("subtract")},insertTab:function(l){return l.replaceSelection("	")},insertSoftTab:function(l){for(var p=[],b=l.listSelections(),v=l.options.tabSize,x=0;x<b.length;x++){var T=b[x].from(),M=$t(l.getLine(T.line),T.ch,v);p.push(Tn(v-M%v))}l.replaceSelections(p)},defaultTab:function(l){l.somethingSelected()?l.indentSelection("add"):l.execCommand("insertTab")},transposeChars:function(l){return fn(l,function(){for(var p=l.listSelections(),b=[],v=0;v<p.length;v++)if(p[v].empty()){var x=p[v].head,T=at(l.doc,x.line).text;if(T){if(x.ch==T.length&&(x=new He(x.line,x.ch-1)),x.ch>0)x=new He(x.line,x.ch+1),l.replaceRange(T.charAt(x.ch-1)+T.charAt(x.ch-2),He(x.line,x.ch-2),x,"+transpose");else if(x.line>l.doc.first){var M=at(l.doc,x.line-1).text;M&&(x=new He(x.line,1),l.replaceRange(T.charAt(0)+l.doc.lineSeparator()+M.charAt(M.length-1),He(x.line-1,M.length-1),x,"+transpose"))}}b.push(new Bt(x,x))}l.setSelections(b)})},newlineAndIndent:function(l){return fn(l,function(){for(var p=l.listSelections(),b=p.length-1;b>=0;b--)l.replaceRange(l.doc.lineSeparator(),p[b].anchor,p[b].head,"+input");p=l.listSelections();for(var v=0;v<p.length;v++)l.indentLine(p[v].from().line,null,!0);pa(l)})},openLine:function(l){return l.replaceSelection(`
`,"start")},toggleOverwrite:function(l){return l.toggleOverwrite()}};function iu(l,p){var b=at(l.doc,p),v=Hi(b);return v!=b&&(p=Rt(v)),tu(!0,l,v,p,1)}function sf(l,p){var b=at(l.doc,p),v=sc(b);return v!=b&&(p=Rt(v)),tu(!0,l,b,p,-1)}function nu(l,p){var b=iu(l,p.line),v=at(l.doc,b.line),x=re(v,l.doc.direction);if(!x||x[0].level==0){var T=Math.max(b.ch,v.text.search(/\S/)),M=p.line==b.line&&p.ch<=T&&p.ch;return He(b.line,M?0:T,b.sticky)}return b}function Wr(l,p,b){if(typeof p=="string"&&(p=jo[p],!p))return!1;l.display.input.ensurePolled();var v=l.display.shift,x=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),b&&(l.display.shift=!1),x=p(l)!=ii}finally{l.display.shift=v,l.state.suppressEdits=!1}return x}function sd(l,p,b){for(var v=0;v<l.state.keyMaps.length;v++){var x=co(p,l.state.keyMaps[v],b,l);if(x)return x}return l.options.extraKeys&&co(p,l.options.extraKeys,b,l)||co(p,l.options.keyMap,b,l)}var af=new Nt;function ho(l,p,b,v){var x=l.state.keySeq;if(x){if(Ql(p))return"handled";if(/\'$/.test(p)?l.state.keySeq=null:af.set(50,function(){l.state.keySeq==x&&(l.state.keySeq=null,l.display.input.reset())}),ad(l,x+" "+p,b,v))return!0}return ad(l,p,b,v)}function ad(l,p,b,v){var x=sd(l,p,v);return x=="multi"&&(l.state.keySeq=p),x=="handled"&&Oi(l,"keyHandled",l,p,b),(x=="handled"||x=="multi")&&(ft(b),Cn(l)),!!x}function su(l,p){var b=eu(p,!0);return b?p.shiftKey&&!l.state.keySeq?ho(l,"Shift-"+b,p,function(v){return Wr(l,v,!0)})||ho(l,b,p,function(v){if(typeof v=="string"?/^go[A-Z]/.test(v):v.motion)return Wr(l,v)}):ho(l,b,p,function(v){return Wr(l,v)}):!1}function of(l,p,b){return ho(l,"'"+b+"'",p,function(v){return Wr(l,v,!0)})}var Uo=null;function od(l){var p=this;if(!(l.target&&l.target!=p.display.input.getField())&&(p.curOp.focus=mt(Te(p)),!We(p,l))){S&&D<11&&l.keyCode==27&&(l.returnValue=!1);var b=l.keyCode;p.display.shift=b==16||l.shiftKey;var v=su(p,l);q&&(Uo=v?b:null,!v&&b==88&&!pi&&(se?l.metaKey:l.ctrlKey)&&p.replaceSelection("",null,"cut")),h&&!se&&!v&&b==46&&l.shiftKey&&!l.ctrlKey&&document.execCommand&&document.execCommand("cut"),b==18&&!/\bCodeMirror-crosshair\b/.test(p.display.lineDiv.className)&&rf(p)}}function rf(l){var p=l.display.lineDiv;Ht(p,"CodeMirror-crosshair");function b(v){(v.keyCode==18||!v.altKey)&&(Ue(p,"CodeMirror-crosshair"),Qe(document,"keyup",b),Qe(document,"mouseover",b))}ge(document,"keyup",b),ge(document,"mouseover",b)}function au(l){l.keyCode==16&&(this.doc.sel.shift=!1),We(this,l)}function rd(l){var p=this;if(!(l.target&&l.target!=p.display.input.getField())&&!(ms(p.display,l)||We(p,l)||l.ctrlKey&&!l.altKey||se&&l.metaKey)){var b=l.keyCode,v=l.charCode;if(q&&b==Uo){Uo=null,ft(l);return}if(!(q&&(!l.which||l.which<10)&&su(p,l))){var x=String.fromCharCode(v??b);x!="\b"&&(of(p,l,x)||p.display.input.onKeyPress(l))}}}var ld=400,ou=function(l,p,b){this.time=l,this.pos=p,this.button=b};ou.prototype.compare=function(l,p,b){return this.time+ld>l&&vt(p,this.pos)==0&&b==this.button};var fo,qo;function ud(l,p){var b=+new Date;return qo&&qo.compare(b,l,p)?(fo=qo=null,"triple"):fo&&fo.compare(b,l,p)?(qo=new ou(b,l,p),fo=null,"double"):(fo=new ou(b,l,p),qo=null,"single")}function cd(l){var p=this,b=p.display;if(!(We(p,l)||b.activeTouch&&b.input.supportsTouch())){if(b.input.ensurePolled(),b.shift=l.shiftKey,ms(b,l)){A||(b.scroller.draggable=!1,setTimeout(function(){return b.scroller.draggable=!0},100));return}if(!jr(p,l)){var v=Hs(p,l),x=qi(l),T=v?ud(v,x):"single";ot(p).focus(),x==1&&p.state.selectingText&&p.state.selectingText(l),!(v&&dd(p,x,v,T,l))&&(x==1?v?hd(p,v,T,l):Ji(l)==b.scroller&&ft(l):x==2?(v&&Lr(p.doc,v),setTimeout(function(){return b.input.focus()},20)):x==3&&(Ge?p.display.input.onContextMenu(l):Sr(p)))}}}function dd(l,p,b,v,x){var T="Click";return v=="double"?T="Double"+T:v=="triple"&&(T="Triple"+T),T=(p==1?"Left":p==2?"Middle":"Right")+T,ho(l,nd(T,x),x,function(M){if(typeof M=="string"&&(M=jo[M]),!M)return!1;var L=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),L=M(l,b)!=ii}finally{l.state.suppressEdits=!1}return L})}function lf(l,p,b){var v=l.getOption("configureMouse"),x=v?v(l,p,b):{};if(x.unit==null){var T=we?b.shiftKey&&b.metaKey:b.altKey;x.unit=T?"rectangle":p=="single"?"char":p=="double"?"word":"line"}return(x.extend==null||l.doc.extend)&&(x.extend=l.doc.extend||b.shiftKey),x.addNew==null&&(x.addNew=se?b.metaKey:b.ctrlKey),x.moveOnDrag==null&&(x.moveOnDrag=!(se?b.altKey:b.ctrlKey)),x}function hd(l,p,b,v){S?setTimeout(Zt(Wn,l),0):l.curOp.focus=mt(Te(l));var x=lf(l,b,v),T=l.doc.sel,M;l.options.dragDrop&&ta&&!l.isReadOnly()&&b=="single"&&(M=T.contains(p))>-1&&(vt((M=T.ranges[M]).from(),p)<0||p.xRel>0)&&(vt(M.to(),p)>0||p.xRel<0)?uf(l,v,p,x):cf(l,v,p,x)}function uf(l,p,b,v){var x=l.display,T=!1,M=Ti(l,function(z){A&&(x.scroller.draggable=!1),l.state.draggingText=!1,l.state.delayingBlurEvent&&(l.hasFocus()?l.state.delayingBlurEvent=!1:Sr(l)),Qe(x.wrapper.ownerDocument,"mouseup",M),Qe(x.wrapper.ownerDocument,"mousemove",L),Qe(x.scroller,"dragstart",N),Qe(x.scroller,"drop",M),T||(ft(z),v.addNew||Lr(l.doc,b,null,null,v.extend),A&&!Q||S&&D==9?setTimeout(function(){x.wrapper.ownerDocument.body.focus({preventScroll:!0}),x.input.focus()},20):x.input.focus())}),L=function(z){T=T||Math.abs(p.clientX-z.clientX)+Math.abs(p.clientY-z.clientY)>=10},N=function(){return T=!0};A&&(x.scroller.draggable=!0),l.state.draggingText=M,M.copy=!v.moveOnDrag,ge(x.wrapper.ownerDocument,"mouseup",M),ge(x.wrapper.ownerDocument,"mousemove",L),ge(x.scroller,"dragstart",N),ge(x.scroller,"drop",M),l.state.delayingBlurEvent=!0,setTimeout(function(){return x.input.focus()},20),x.scroller.dragDrop&&x.scroller.dragDrop()}function ru(l,p,b){if(b=="char")return new Bt(p,p);if(b=="word")return l.findWordAt(p);if(b=="line")return new Bt(He(p.line,0),Ct(l.doc,He(p.line+1,0)));var v=b(l,p);return new Bt(v.from,v.to)}function cf(l,p,b,v){S&&Sr(l);var x=l.display,T=l.doc;ft(p);var M,L,N=T.sel,z=N.ranges;if(v.addNew&&!v.extend?(L=T.sel.contains(b),L>-1?M=z[L]:M=new Bt(b,b)):(M=T.sel.primary(),L=T.sel.primIndex),v.unit=="rectangle")v.addNew||(M=new Bt(b,b)),b=Hs(l,p,!0,!0),L=-1;else{var Z=ru(l,b,v.unit);v.extend?M=js(M,Z.anchor,Z.head,v.extend):M=Z}v.addNew?L==-1?(L=z.length,$i(T,Mn(l,z.concat([M]),L),{scroll:!1,origin:"*mouse"})):z.length>1&&z[L].empty()&&v.unit=="char"&&!v.extend?($i(T,Mn(l,z.slice(0,L).concat(z.slice(L+1)),0),{scroll:!1,origin:"*mouse"}),N=T.sel):Wl(T,L,M,ut):(L=0,$i(T,new Ut([M],0),ut),N=T.sel);var ie=b;function ye(Ye){if(vt(ie,Ye)!=0)if(ie=Ye,v.unit=="rectangle"){for(var tt=[],dt=l.options.tabSize,lt=$t(at(T,b.line).text,b.ch,dt),St=$t(at(T,Ye.line).text,Ye.ch,dt),qt=Math.min(lt,St),Bi=Math.max(lt,St),ai=Math.min(b.line,Ye.line),wn=Math.min(l.lastLine(),Math.max(b.line,Ye.line));ai<=wn;ai++){var an=at(T,ai).text,xi=Ui(an,qt,dt);qt==Bi?tt.push(new Bt(He(ai,xi),He(ai,xi))):an.length>xi&&tt.push(new Bt(He(ai,xi),He(ai,Ui(an,Bi,dt))))}tt.length||tt.push(new Bt(b,b)),$i(T,Mn(l,N.ranges.slice(0,L).concat(tt),L),{origin:"*mouse",scroll:!1}),l.scrollIntoView(Ye)}else{var on=M,Vi=ru(l,Ye,v.unit),wi=on.anchor,ki;vt(Vi.anchor,wi)>0?(ki=Vi.head,wi=To(on.from(),Vi.anchor)):(ki=Vi.anchor,wi=Do(on.to(),Vi.head));var oi=N.ranges.slice(0);oi[L]=fd(l,new Bt(Ct(T,wi),ki)),$i(T,Mn(l,oi,L),ut)}}var pe=x.wrapper.getBoundingClientRect(),Ee=0;function Ne(Ye){var tt=++Ee,dt=Hs(l,Ye,!0,v.unit=="rectangle");if(dt)if(vt(dt,ie)!=0){l.curOp.focus=mt(Te(l)),ye(dt);var lt=jn(x,T);(dt.line>=lt.to||dt.line<lt.from)&&setTimeout(Ti(l,function(){Ee==tt&&Ne(Ye)}),150)}else{var St=Ye.clientY<pe.top?-20:Ye.clientY>pe.bottom?20:0;St&&setTimeout(Ti(l,function(){Ee==tt&&(x.scroller.scrollTop+=St,Ne(Ye))}),50)}}function Ve(Ye){l.state.selectingText=!1,Ee=1/0,Ye&&(ft(Ye),x.input.focus()),Qe(x.wrapper.ownerDocument,"mousemove",qe),Qe(x.wrapper.ownerDocument,"mouseup",Ke),T.history.lastSelOrigin=null}var qe=Ti(l,function(Ye){Ye.buttons===0||!qi(Ye)?Ve(Ye):Ne(Ye)}),Ke=Ti(l,Ve);l.state.selectingText=Ke,ge(x.wrapper.ownerDocument,"mousemove",qe),ge(x.wrapper.ownerDocument,"mouseup",Ke)}function fd(l,p){var b=p.anchor,v=p.head,x=at(l.doc,b.line);if(vt(b,v)==0&&b.sticky==v.sticky)return p;var T=re(x);if(!T)return p;var M=Ce(T,b.ch,b.sticky),L=T[M];if(L.from!=b.ch&&L.to!=b.ch)return p;var N=M+(L.from==b.ch==(L.level!=1)?0:1);if(N==0||N==T.length)return p;var z;if(v.line!=b.line)z=(v.line-b.line)*(l.doc.direction=="ltr"?1:-1)>0;else{var Z=Ce(T,v.ch,v.sticky),ie=Z-M||(v.ch-b.ch)*(L.level==1?-1:1);Z==N-1||Z==N?z=ie<0:z=ie>0}var ye=T[N+(z?-1:0)],pe=z==(ye.level==1),Ee=pe?ye.from:ye.to,Ne=pe?"after":"before";return b.ch==Ee&&b.sticky==Ne?p:new Bt(new He(b.line,Ee,Ne),v)}function pd(l,p,b,v){var x,T;if(p.touches)x=p.touches[0].clientX,T=p.touches[0].clientY;else try{x=p.clientX,T=p.clientY}catch{return!1}if(x>=Math.floor(l.display.gutters.getBoundingClientRect().right))return!1;v&&ft(p);var M=l.display,L=M.lineDiv.getBoundingClientRect();if(T>L.bottom||!_t(l,b))return Wt(p);T-=L.top-M.viewOffset;for(var N=0;N<l.display.gutterSpecs.length;++N){var z=M.gutters.childNodes[N];if(z&&z.getBoundingClientRect().right>=x){var Z=Ls(l.doc,T),ie=l.display.gutterSpecs[N];return et(l,b,l,Z,ie.className,p),Wt(p)}}}function jr(l,p){return pd(l,p,"gutterClick",!0)}function md(l,p){ms(l.display,p)||gd(l,p)||We(l,p,"contextmenu")||Ge||l.display.input.onContextMenu(p)}function gd(l,p){return _t(l,"gutterContextMenu")?pd(l,p,"gutterContextMenu",!1):!1}function vd(l){l.display.wrapper.className=l.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+l.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Mo(l)}var Ca={toString:function(){return"CodeMirror.Init"}},bd={},Yo={};function df(l){var p=l.optionHandlers;function b(v,x,T,M){l.defaults[v]=x,T&&(p[v]=M?function(L,N,z){z!=Ca&&T(L,N,z)}:T)}l.defineOption=b,l.Init=Ca,b("value","",function(v,x){return v.setValue(x)},!0),b("mode",null,function(v,x){v.doc.modeOption=x,Fr(v)},!0),b("indentUnit",2,Fr,!0),b("indentWithTabs",!1),b("smartIndent",!0),b("tabSize",4,function(v){Ro(v),Mo(v),Pi(v)},!0),b("lineSeparator",null,function(v,x){if(v.doc.lineSep=x,!!x){var T=[],M=v.doc.first;v.doc.iter(function(N){for(var z=0;;){var Z=N.text.indexOf(x,z);if(Z==-1)break;z=Z+x.length,T.push(He(M,Z))}M++});for(var L=T.length-1;L>=0;L--)so(v.doc,x,T[L],He(T[L].line,T[L].ch+x.length))}}),b("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(v,x,T){v.state.specialChars=new RegExp(x.source+(x.test("	")?"":"|	"),"g"),T!=Ca&&v.refresh()}),b("specialCharPlaceholder",Eh,function(v){return v.refresh()},!0),b("electricChars",!0),b("inputStyle",ne?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),b("spellcheck",!1,function(v,x){return v.getInputField().spellcheck=x},!0),b("autocorrect",!1,function(v,x){return v.getInputField().autocorrect=x},!0),b("autocapitalize",!1,function(v,x){return v.getInputField().autocapitalize=x},!0),b("rtlMoveVisually",!be),b("wholeLineUpdateBefore",!0),b("theme","default",function(v){vd(v),io(v)},!0),b("keyMap","default",function(v,x,T){var M=Hr(x),L=T!=Ca&&Hr(T);L&&L.detach&&L.detach(v,M),M.attach&&M.attach(v,L||null)}),b("extraKeys",null),b("configureMouse",null),b("lineWrapping",!1,hf,!0),b("gutters",[],function(v,x){v.display.gutterSpecs=Ll(x,v.options.lineNumbers),io(v)},!0),b("fixedGutter",!0,function(v,x){v.display.gutters.style.left=x?yn(v.display)+"px":"0",v.refresh()},!0),b("coverGutterNextToScrollbar",!1,function(v){return An(v)},!0),b("scrollbarStyle","native",function(v){ga(v),An(v),v.display.scrollbars.setScrollTop(v.doc.scrollTop),v.display.scrollbars.setScrollLeft(v.doc.scrollLeft)},!0),b("lineNumbers",!1,function(v,x){v.display.gutterSpecs=Ll(v.options.gutters,x),io(v)},!0),b("firstLineNumber",1,io,!0),b("lineNumberFormatter",function(v){return v},io,!0),b("showCursorWhenSelecting",!1,Vn,!0),b("resetSelectionOnContextMenu",!0),b("lineWiseCopyCut",!0),b("pasteLinesPerSelection",!0),b("selectionsMayTouch",!1),b("readOnly",!1,function(v,x){x=="nocursor"&&(bs(v),v.display.input.blur()),v.display.input.readOnlyChanged(x)}),b("screenReaderLabel",null,function(v,x){x=x===""?null:x,v.display.input.screenReaderLabelChanged(x)}),b("disableInput",!1,function(v,x){x||v.display.input.reset()},!0),b("dragDrop",!0,yd),b("allowDropFileTypes",null),b("cursorBlinkRate",530),b("cursorScrollMargin",0),b("cursorHeight",1,Vn,!0),b("singleCursorHeightPerLine",!0,Vn,!0),b("workTime",100),b("workDelay",100),b("flattenSpans",!0,Ro,!0),b("addModeClass",!1,Ro,!0),b("pollInterval",100),b("undoDepth",200,function(v,x){return v.doc.history.undoDepth=x}),b("historyEventDelay",1250),b("viewportMargin",10,function(v){return v.refresh()},!0),b("maxHighlightLength",1e4,Ro,!0),b("moveInputWithCursor",!0,function(v,x){x||v.display.input.resetPosition()}),b("tabindex",null,function(v,x){return v.display.input.getField().tabIndex=x||""}),b("autofocus",null),b("direction","ltr",function(v,x){return v.doc.setDirection(x)},!0),b("phrases",null)}function yd(l,p,b){var v=b&&b!=Ca;if(!p!=!v){var x=l.display.dragFunctions,T=p?ge:Qe;T(l.display.scroller,"dragstart",x.start),T(l.display.scroller,"dragenter",x.enter),T(l.display.scroller,"dragover",x.over),T(l.display.scroller,"dragleave",x.leave),T(l.display.scroller,"drop",x.drop)}}function hf(l){l.options.lineWrapping?(Ht(l.display.wrapper,"CodeMirror-wrap"),l.display.sizer.style.minWidth="",l.display.sizerWidth=null):(Ue(l.display.wrapper,"CodeMirror-wrap"),es(l)),kr(l),Pi(l),Mo(l),setTimeout(function(){return An(l)},100)}function ei(l,p){var b=this;if(!(this instanceof ei))return new ei(l,p);this.options=p=p?ti(p):{},ti(bd,p,!1);var v=p.value;typeof v=="string"?v=new sn(v,p.mode,null,p.lineSeparator,p.direction):p.mode&&(v.modeOption=p.mode),this.doc=v;var x=new ei.inputStyles[p.inputStyle](this),T=this.display=new jh(l,v,x,p);T.wrapper.CodeMirror=this,vd(this),p.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ga(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Nt,keySeq:null,specialChars:null},p.autofocus&&!ne&&T.input.focus(),S&&D<11&&setTimeout(function(){return b.display.input.reset(!0)},20),ff(this),id(),Vs(this),this.curOp.forceUpdate=!0,Pc(this,v),p.autofocus&&!ne||this.hasFocus()?setTimeout(function(){b.hasFocus()&&!b.state.focused&&Dr(b)},20):bs(this);for(var M in Yo)Yo.hasOwnProperty(M)&&Yo[M](this,p[M],Ca);Il(this),p.finishInit&&p.finishInit(this);for(var L=0;L<Ur.length;++L)Ur[L](this);Ws(this),A&&p.lineWrapping&&getComputedStyle(T.lineDiv).textRendering=="optimizelegibility"&&(T.lineDiv.style.textRendering="auto")}ei.defaults=bd,ei.optionHandlers=Yo;function ff(l){var p=l.display;ge(p.scroller,"mousedown",Ti(l,cd)),S&&D<11?ge(p.scroller,"dblclick",Ti(l,function(N){if(!We(l,N)){var z=Hs(l,N);if(!(!z||jr(l,N)||ms(l.display,N))){ft(N);var Z=l.findWordAt(z);Lr(l.doc,Z.anchor,Z.head)}}})):ge(p.scroller,"dblclick",function(N){return We(l,N)||ft(N)}),ge(p.scroller,"contextmenu",function(N){return md(l,N)}),ge(p.input.getField(),"contextmenu",function(N){p.scroller.contains(N.target)||md(l,N)});var b,v={end:0};function x(){p.activeTouch&&(b=setTimeout(function(){return p.activeTouch=null},1e3),v=p.activeTouch,v.end=+new Date)}function T(N){if(N.touches.length!=1)return!1;var z=N.touches[0];return z.radiusX<=1&&z.radiusY<=1}function M(N,z){if(z.left==null)return!0;var Z=z.left-N.left,ie=z.top-N.top;return Z*Z+ie*ie>20*20}ge(p.scroller,"touchstart",function(N){if(!We(l,N)&&!T(N)&&!jr(l,N)){p.input.ensurePolled(),clearTimeout(b);var z=+new Date;p.activeTouch={start:z,moved:!1,prev:z-v.end<=300?v:null},N.touches.length==1&&(p.activeTouch.left=N.touches[0].pageX,p.activeTouch.top=N.touches[0].pageY)}}),ge(p.scroller,"touchmove",function(){p.activeTouch&&(p.activeTouch.moved=!0)}),ge(p.scroller,"touchend",function(N){var z=p.activeTouch;if(z&&!ms(p,N)&&z.left!=null&&!z.moved&&new Date-z.start<300){var Z=l.coordsChar(p.activeTouch,"page"),ie;!z.prev||M(z,z.prev)?ie=new Bt(Z,Z):!z.prev.prev||M(z,z.prev.prev)?ie=l.findWordAt(Z):ie=new Bt(He(Z.line,0),Ct(l.doc,He(Z.line+1,0))),l.setSelection(ie.anchor,ie.head),l.focus(),ft(N)}x()}),ge(p.scroller,"touchcancel",x),ge(p.scroller,"scroll",function(){p.scroller.clientHeight&&(Qa(l,p.scroller.scrollTop),ys(l,p.scroller.scrollLeft,!0),et(l,"scroll",l))}),ge(p.scroller,"mousewheel",function(N){return Xe(l,N)}),ge(p.scroller,"DOMMouseScroll",function(N){return Xe(l,N)}),ge(p.wrapper,"scroll",function(){return p.wrapper.scrollTop=p.wrapper.scrollLeft=0}),p.dragFunctions={enter:function(N){We(l,N)||fi(N)},over:function(N){We(l,N)||(Qc(l,N),fi(N))},start:function(N){return Qh(l,N)},drop:Ti(l,Jc),leave:function(N){We(l,N)||ed(l)}};var L=p.input.getField();ge(L,"keyup",function(N){return au.call(l,N)}),ge(L,"keydown",Ti(l,od)),ge(L,"keypress",Ti(l,rd)),ge(L,"focus",function(N){return Dr(l,N)}),ge(L,"blur",function(N){return bs(l,N)})}var Ur=[];ei.defineInitHook=function(l){return Ur.push(l)};function Go(l,p,b,v){var x=l.doc,T;b==null&&(b="add"),b=="smart"&&(x.mode.indent?T=Ra(l,p).state:b="prev");var M=l.options.tabSize,L=at(x,p),N=$t(L.text,null,M);L.stateAfter&&(L.stateAfter=null);var z=L.text.match(/^\s*/)[0],Z;if(!v&&!/\S/.test(L.text))Z=0,b="not";else if(b=="smart"&&(Z=x.mode.indent(T,L.text.slice(z.length),L.text),Z==ii||Z>150)){if(!v)return;b="prev"}b=="prev"?p>x.first?Z=$t(at(x,p-1).text,null,M):Z=0:b=="add"?Z=N+l.options.indentUnit:b=="subtract"?Z=N-l.options.indentUnit:typeof b=="number"&&(Z=N+b),Z=Math.max(0,Z);var ie="",ye=0;if(l.options.indentWithTabs)for(var pe=Math.floor(Z/M);pe;--pe)ye+=M,ie+="	";if(ye<Z&&(ie+=Tn(Z-ye)),ie!=z)return so(x,ie,He(p,0),He(p,z.length),"+input"),L.stateAfter=null,!0;for(var Ee=0;Ee<x.sel.ranges.length;Ee++){var Ne=x.sel.ranges[Ee];if(Ne.head.line==p&&Ne.head.ch<z.length){var Ve=He(p,z.length);Wl(x,Ee,new Bt(Ve,Ve));break}}}var Fn=null;function Xo(l){Fn=l}function lu(l,p,b,v,x){var T=l.doc;l.display.shift=!1,v||(v=T.sel);var M=+new Date-200,L=x=="paste"||l.state.pasteIncoming>M,N=Ba(p),z=null;if(L&&v.ranges.length>1)if(Fn&&Fn.text.join(`
`)==p){if(v.ranges.length%Fn.text.length==0){z=[];for(var Z=0;Z<Fn.text.length;Z++)z.push(T.splitLines(Fn.text[Z]))}}else N.length==v.ranges.length&&l.options.pasteLinesPerSelection&&(z=li(N,function(qe){return[qe]}));for(var ie=l.curOp.updateInput,ye=v.ranges.length-1;ye>=0;ye--){var pe=v.ranges[ye],Ee=pe.from(),Ne=pe.to();pe.empty()&&(b&&b>0?Ee=He(Ee.line,Ee.ch-b):l.state.overwrite&&!L?Ne=He(Ne.line,Math.min(at(T,Ne.line).text.length,Ne.ch+st(N).length)):L&&Fn&&Fn.lineWise&&Fn.text.join(`
`)==N.join(`
`)&&(Ee=Ne=He(Ee.line,0)));var Ve={from:Ee,to:Ne,text:z?z[ye%z.length]:N,origin:x||(L?"paste":l.state.cutIncoming>M?"cut":"+input")};no(l.doc,Ve),Oi(l,"inputRead",l,Ve)}p&&!L&&Cd(l,p),pa(l),l.curOp.updateInput<2&&(l.curOp.updateInput=ie),l.curOp.typing=!0,l.state.pasteIncoming=l.state.cutIncoming=-1}function _d(l,p){var b=l.clipboardData&&l.clipboardData.getData("Text");if(b)return l.preventDefault(),!p.isReadOnly()&&!p.options.disableInput&&p.hasFocus()&&fn(p,function(){return lu(p,b,0,null,"paste")}),!0}function Cd(l,p){if(!(!l.options.electricChars||!l.options.smartIndent))for(var b=l.doc.sel,v=b.ranges.length-1;v>=0;v--){var x=b.ranges[v];if(!(x.head.ch>100||v&&b.ranges[v-1].head.line==x.head.line)){var T=l.getModeAt(x.head),M=!1;if(T.electricChars){for(var L=0;L<T.electricChars.length;L++)if(p.indexOf(T.electricChars.charAt(L))>-1){M=Go(l,x.head.line,"smart");break}}else T.electricInput&&T.electricInput.test(at(l.doc,x.head.line).text.slice(0,x.head.ch))&&(M=Go(l,x.head.line,"smart"));M&&Oi(l,"electricInput",l,x.head.line)}}}function uu(l){for(var p=[],b=[],v=0;v<l.doc.sel.ranges.length;v++){var x=l.doc.sel.ranges[v].head.line,T={anchor:He(x,0),head:He(x+1,0)};b.push(T),p.push(l.getRange(T.anchor,T.head))}return{text:p,ranges:b}}function cu(l,p,b,v){l.setAttribute("autocorrect",b?"on":"off"),l.setAttribute("autocapitalize",v?"on":"off"),l.setAttribute("spellcheck",!!p)}function du(){var l=ce("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),p=ce("div",[l],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return A?l.style.width="1000px":l.setAttribute("wrap","off"),X&&(l.style.border="1px solid black"),p}function pf(l){var p=l.optionHandlers,b=l.helpers={};l.prototype={constructor:l,focus:function(){ot(this).focus(),this.display.input.focus()},setOption:function(v,x){var T=this.options,M=T[v];T[v]==x&&v!="mode"||(T[v]=x,p.hasOwnProperty(v)&&Ti(this,p[v])(this,x,M),et(this,"optionChange",this,v))},getOption:function(v){return this.options[v]},getDoc:function(){return this.doc},addKeyMap:function(v,x){this.state.keyMaps[x?"push":"unshift"](Hr(v))},removeKeyMap:function(v){for(var x=this.state.keyMaps,T=0;T<x.length;++T)if(x[T]==v||x[T].name==v)return x.splice(T,1),!0},addOverlay:Yi(function(v,x){var T=v.token?v:l.getMode(this.options,v);if(T.startState)throw new Error("Overlays may not be stateful.");ct(this.state.overlays,{mode:T,modeSpec:v,opaque:x&&x.opaque,priority:x&&x.priority||0},function(M){return M.priority}),this.state.modeGen++,Pi(this)}),removeOverlay:Yi(function(v){for(var x=this.state.overlays,T=0;T<x.length;++T){var M=x[T].modeSpec;if(M==v||typeof v=="string"&&M.name==v){x.splice(T,1),this.state.modeGen++,Pi(this);return}}}),indentLine:Yi(function(v,x,T){typeof x!="string"&&typeof x!="number"&&(x==null?x=this.options.smartIndent?"smart":"prev":x=x?"add":"subtract"),Na(this.doc,v)&&Go(this,v,x,T)}),indentSelection:Yi(function(v){for(var x=this.doc.sel.ranges,T=-1,M=0;M<x.length;M++){var L=x[M];if(L.empty())L.head.line>T&&(Go(this,L.head.line,v,!0),T=L.head.line,M==this.doc.sel.primIndex&&pa(this));else{var N=L.from(),z=L.to(),Z=Math.max(T,N.line);T=Math.min(this.lastLine(),z.line-(z.ch?0:1))+1;for(var ie=Z;ie<T;++ie)Go(this,ie,v);var ye=this.doc.sel.ranges;N.ch==0&&x.length==ye.length&&ye[M].from().ch>0&&Wl(this.doc,M,new Bt(N,ye[M].to()),hi)}}}),getTokenAt:function(v,x){return ul(this,v,x)},getLineTokens:function(v,x){return ul(this,He(v),x,!0)},getTokenTypeAt:function(v){v=Ct(this.doc,v);var x=ol(this,at(this.doc,v.line)),T=0,M=(x.length-1)/2,L=v.ch,N;if(L==0)N=x[2];else for(;;){var z=T+M>>1;if((z?x[z*2-1]:0)>=L)M=z;else if(x[z*2+1]<L)T=z+1;else{N=x[z*2+2];break}}var Z=N?N.indexOf("overlay "):-1;return Z<0?N:Z==0?null:N.slice(0,Z-1)},getModeAt:function(v){var x=this.doc.mode;return x.innerMode?l.innerMode(x,this.getTokenAt(v).state).mode:x},getHelper:function(v,x){return this.getHelpers(v,x)[0]},getHelpers:function(v,x){var T=[];if(!b.hasOwnProperty(x))return T;var M=b[x],L=this.getModeAt(v);if(typeof L[x]=="string")M[L[x]]&&T.push(M[L[x]]);else if(L[x])for(var N=0;N<L[x].length;N++){var z=M[L[x][N]];z&&T.push(z)}else L.helperType&&M[L.helperType]?T.push(M[L.helperType]):M[L.name]&&T.push(M[L.name]);for(var Z=0;Z<M._global.length;Z++){var ie=M._global[Z];ie.pred(L,this)&&kt(T,ie.val)==-1&&T.push(ie.val)}return T},getStateAfter:function(v,x){var T=this.doc;return v=bn(T,v??T.first+T.size-1),Ra(this,v+1,x).state},cursorCoords:function(v,x){var T,M=this.doc.sel.primary();return v==null?T=M.head:typeof v=="object"?T=Ct(this.doc,v):T=v?M.from():M.to(),jt(this,T,x||"page")},charCoords:function(v,x){return Fo(this,Ct(this.doc,v),x||"page")},coordsChar:function(v,x){return v=kc(this,v,x||"page"),hn(this,v.left,v.top)},lineAtHeight:function(v,x){return v=kc(this,{top:v,left:0},x||"page").top,Ls(this.doc,v+this.display.viewOffset)},heightAtLine:function(v,x,T){var M=!1,L;if(typeof v=="number"){var N=this.doc.first+this.doc.size-1;v<this.doc.first?v=this.doc.first:v>N&&(v=N,M=!0),L=at(this.doc,v)}else L=v;return wr(this,L,{top:0,left:0},x||"page",T||M).top+(M?this.doc.height-Qn(L):0)},defaultTextHeight:function(){return gs(this.display)},defaultCharWidth:function(){return Ka(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(v,x,T,M,L){var N=this.display;v=jt(this,Ct(this.doc,v));var z=v.bottom,Z=v.left;if(x.style.position="absolute",x.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(x),N.sizer.appendChild(x),M=="over")z=v.top;else if(M=="above"||M=="near"){var ie=Math.max(N.wrapper.clientHeight,this.doc.height),ye=Math.max(N.sizer.clientWidth,N.lineSpace.clientWidth);(M=="above"||v.bottom+x.offsetHeight>ie)&&v.top>x.offsetHeight?z=v.top-x.offsetHeight:v.bottom+x.offsetHeight<=ie&&(z=v.bottom),Z+x.offsetWidth>ye&&(Z=ye-x.offsetWidth)}x.style.top=z+"px",x.style.left=x.style.right="",L=="right"?(Z=N.sizer.clientWidth-x.offsetWidth,x.style.right="0px"):(L=="left"?Z=0:L=="middle"&&(Z=(N.sizer.clientWidth-x.offsetWidth)/2),x.style.left=Z+"px"),T&&kl(this,{left:Z,top:z,right:Z+x.offsetWidth,bottom:z+x.offsetHeight})},triggerOnKeyDown:Yi(od),triggerOnKeyPress:Yi(rd),triggerOnKeyUp:au,triggerOnMouseDown:Yi(cd),execCommand:function(v){if(jo.hasOwnProperty(v))return jo[v].call(null,this)},triggerElectric:Yi(function(v){Cd(this,v)}),findPosH:function(v,x,T,M){var L=1;x<0&&(L=-1,x=-x);for(var N=Ct(this.doc,v),z=0;z<x&&(N=qr(this.doc,N,L,T,M),!N.hitSide);++z);return N},moveH:Yi(function(v,x){var T=this;this.extendSelectionsBy(function(M){return T.display.shift||T.doc.extend||M.empty()?qr(T.doc,M.head,v,x,T.options.rtlMoveVisually):v<0?M.from():M.to()},ji)}),deleteH:Yi(function(v,x){var T=this.doc.sel,M=this.doc;T.somethingSelected()?M.replaceSelection("",null,"+delete"):_a(this,function(L){var N=qr(M,L.head,v,x,!1);return v<0?{from:N,to:L.head}:{from:L.head,to:N}})}),findPosV:function(v,x,T,M){var L=1,N=M;x<0&&(L=-1,x=-x);for(var z=Ct(this.doc,v),Z=0;Z<x;++Z){var ie=jt(this,z,"div");if(N==null?N=ie.left:ie.left=N,z=xd(this,ie,L,T),z.hitSide)break}return z},moveV:Yi(function(v,x){var T=this,M=this.doc,L=[],N=!this.display.shift&&!M.extend&&M.sel.somethingSelected();if(M.extendSelectionsBy(function(Z){if(N)return v<0?Z.from():Z.to();var ie=jt(T,Z.head,"div");Z.goalColumn!=null&&(ie.left=Z.goalColumn),L.push(ie.left);var ye=xd(T,ie,v,x);return x=="page"&&Z==M.sel.primary()&&Ja(T,Fo(T,ye,"div").top-ie.top),ye},ji),L.length)for(var z=0;z<M.sel.ranges.length;z++)M.sel.ranges[z].goalColumn=L[z]}),findWordAt:function(v){var x=this.doc,T=at(x,v.line).text,M=v.ch,L=v.ch;if(T){var N=this.getHelper(v,"wordChars");(v.sticky=="before"||L==T.length)&&M?--M:++L;for(var z=T.charAt(M),Z=j(z,N)?function(ie){return j(ie,N)}:/\s/.test(z)?function(ie){return/\s/.test(ie)}:function(ie){return!/\s/.test(ie)&&!j(ie)};M>0&&Z(T.charAt(M-1));)--M;for(;L<T.length&&Z(T.charAt(L));)++L}return new Bt(He(v.line,M),He(v.line,L))},toggleOverwrite:function(v){v!=null&&v==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ht(this.display.cursorDiv,"CodeMirror-overwrite"):Ue(this.display.cursorDiv,"CodeMirror-overwrite"),et(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==mt(Te(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Yi(function(v,x){Un(this,v,x)}),getScrollInfo:function(){var v=this.display.scroller;return{left:v.scrollLeft,top:v.scrollTop,height:v.scrollHeight-ts(this)-this.display.barHeight,width:v.scrollWidth-ts(this)-this.display.barWidth,clientHeight:yl(this),clientWidth:Ns(this)}},scrollIntoView:Yi(function(v,x){v==null?(v={from:this.doc.sel.primary().head,to:null},x==null&&(x=this.options.cursorScrollMargin)):typeof v=="number"?v={from:He(v,0),to:null}:v.from==null&&(v={from:v,to:null}),v.to||(v.to=v.from),v.margin=x||0,v.from.line!=null?Dc(this,v):Sl(this,v.from,v.to,v.margin)}),setSize:Yi(function(v,x){var T=this,M=function(N){return typeof N=="number"||/^\d+$/.test(String(N))?N+"px":N};v!=null&&(this.display.wrapper.style.width=M(v)),x!=null&&(this.display.wrapper.style.height=M(x)),this.options.lineWrapping&&Cc(this);var L=this.display.viewFrom;this.doc.iter(L,this.display.viewTo,function(N){if(N.widgets){for(var z=0;z<N.widgets.length;z++)if(N.widgets[z].noHScroll){$s(T,L,"widget");break}}++L}),this.curOp.forceUpdate=!0,et(this,"refresh",this)}),operation:function(v){return fn(this,v)},startOperation:function(){return Vs(this)},endOperation:function(){return Ws(this)},refresh:Yi(function(){var v=this.display.cachedTextHeight;Pi(this),this.curOp.forceUpdate=!0,Mo(this),Un(this,this.doc.scrollLeft,this.doc.scrollTop),Ml(this.display),(v==null||Math.abs(v-gs(this.display))>.5||this.options.lineWrapping)&&kr(this),et(this,"refresh",this)}),swapDoc:Yi(function(v){var x=this.doc;return x.cm=null,this.state.selectingText&&this.state.selectingText(),Pc(this,v),Mo(this),this.display.input.reset(),Un(this,v.scrollLeft,v.scrollTop),this.curOp.forceScroll=!0,Oi(this,"swapDoc",this,x),x}),phrase:function(v){var x=this.options.phrases;return x&&Object.prototype.hasOwnProperty.call(x,v)?x[v]:v},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xt(l),l.registerHelper=function(v,x,T){b.hasOwnProperty(v)||(b[v]=l[v]={_global:[]}),b[v][x]=T},l.registerGlobalHelper=function(v,x,T,M){l.registerHelper(v,x,M),b[v]._global.push({pred:T,val:M})}}function qr(l,p,b,v,x){var T=p,M=b,L=at(l,p.line),N=x&&l.direction=="rtl"?-b:b;function z(){var Ke=p.line+N;return Ke<l.first||Ke>=l.first+l.size?!1:(p=new He(Ke,p.ch,p.sticky),L=at(l,Ke))}function Z(Ke){var Ye;if(v=="codepoint"){var tt=L.text.charCodeAt(p.ch+(b>0?0:-1));if(isNaN(tt))Ye=null;else{var dt=b>0?tt>=55296&&tt<56320:tt>=56320&&tt<57343;Ye=new He(p.line,Math.max(0,Math.min(L.text.length,p.ch+b*(dt?2:1))),-b)}}else x?Ye=nf(l.cm,L,p,b):Ye=Vr(L,p,b);if(Ye==null)if(!Ke&&z())p=tu(x,l.cm,L,p.line,N);else return!1;else p=Ye;return!0}if(v=="char"||v=="codepoint")Z();else if(v=="column")Z(!0);else if(v=="word"||v=="group")for(var ie=null,ye=v=="group",pe=l.cm&&l.cm.getHelper(p,"wordChars"),Ee=!0;!(b<0&&!Z(!Ee));Ee=!1){var Ne=L.text.charAt(p.ch)||`
`,Ve=j(Ne,pe)?"w":ye&&Ne==`
`?"n":!ye||/\s/.test(Ne)?null:"p";if(ye&&!Ee&&!Ve&&(Ve="s"),ie&&ie!=Ve){b<0&&(b=1,Z(),p.sticky="after");break}if(Ve&&(ie=Ve),b>0&&!Z(!Ee))break}var qe=Br(l,p,T,M,!0);return mr(T,qe)&&(qe.hitSide=!0),qe}function xd(l,p,b,v){var x=l.doc,T=p.left,M;if(v=="page"){var L=Math.min(l.display.wrapper.clientHeight,ot(l).innerHeight||x(l).documentElement.clientHeight),N=Math.max(L-.5*gs(l.display),3);M=(b>0?p.bottom:p.top)+b*N}else v=="line"&&(M=b>0?p.bottom+3:p.top-3);for(var z;z=hn(l,T,M),!!z.outside;){if(b<0?M<=0:M>=x.height){z.hitSide=!0;break}M+=b*5}return z}var zt=function(l){this.cm=l,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Nt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};zt.prototype.init=function(l){var p=this,b=this,v=b.cm,x=b.div=l.lineDiv;x.contentEditable=!0,cu(x,v.options.spellcheck,v.options.autocorrect,v.options.autocapitalize);function T(L){for(var N=L.target;N;N=N.parentNode){if(N==x)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(N.className))break}return!1}ge(x,"paste",function(L){!T(L)||We(v,L)||_d(L,v)||D<=11&&setTimeout(Ti(v,function(){return p.updateFromDOM()}),20)}),ge(x,"compositionstart",function(L){p.composing={data:L.data,done:!1}}),ge(x,"compositionupdate",function(L){p.composing||(p.composing={data:L.data,done:!1})}),ge(x,"compositionend",function(L){p.composing&&(L.data!=p.composing.data&&p.readFromDOMSoon(),p.composing.done=!0)}),ge(x,"touchstart",function(){return b.forceCompositionEnd()}),ge(x,"input",function(){p.composing||p.readFromDOMSoon()});function M(L){if(!(!T(L)||We(v,L))){if(v.somethingSelected())Xo({lineWise:!1,text:v.getSelections()}),L.type=="cut"&&v.replaceSelection("",null,"cut");else if(v.options.lineWiseCopyCut){var N=uu(v);Xo({lineWise:!0,text:N.text}),L.type=="cut"&&v.operation(function(){v.setSelections(N.ranges,0,hi),v.replaceSelection("",null,"cut")})}else return;if(L.clipboardData){L.clipboardData.clearData();var z=Fn.text.join(`
`);if(L.clipboardData.setData("Text",z),L.clipboardData.getData("Text")==z){L.preventDefault();return}}var Z=du(),ie=Z.firstChild;cu(ie),v.display.lineSpace.insertBefore(Z,v.display.lineSpace.firstChild),ie.value=Fn.text.join(`
`);var ye=mt(yt(x));ue(ie),setTimeout(function(){v.display.lineSpace.removeChild(Z),ye.focus(),ye==x&&b.showPrimarySelection()},50)}}ge(x,"copy",M),ge(x,"cut",M)},zt.prototype.screenReaderLabelChanged=function(l){l?this.div.setAttribute("aria-label",l):this.div.removeAttribute("aria-label")},zt.prototype.prepareSelection=function(){var l=Za(this.cm,!1);return l.focus=mt(yt(this.div))==this.div,l},zt.prototype.showSelection=function(l,p){!l||!this.cm.display.view.length||((l.focus||p)&&this.showPrimarySelection(),this.showMultipleSelections(l))},zt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},zt.prototype.showPrimarySelection=function(){var l=this.getSelection(),p=this.cm,b=p.doc.sel.primary(),v=b.from(),x=b.to();if(p.display.viewTo==p.display.viewFrom||v.line>=p.display.viewTo||x.line<p.display.viewFrom){l.removeAllRanges();return}var T=Yr(p,l.anchorNode,l.anchorOffset),M=Yr(p,l.focusNode,l.focusOffset);if(!(T&&!T.bad&&M&&!M.bad&&vt(To(T,M),v)==0&&vt(Do(T,M),x)==0)){var L=p.display.view,N=v.line>=p.display.viewFrom&&wd(p,v)||{node:L[0].measure.map[2],offset:0},z=x.line<p.display.viewTo&&wd(p,x);if(!z){var Z=L[L.length-1].measure,ie=Z.maps?Z.maps[Z.maps.length-1]:Z.map;z={node:ie[ie.length-1],offset:ie[ie.length-2]-ie[ie.length-3]}}if(!N||!z){l.removeAllRanges();return}var ye=l.rangeCount&&l.getRangeAt(0),pe;try{pe=Oe(N.node,N.offset,z.offset,z.node)}catch{}pe&&(!h&&p.state.focused?(l.collapse(N.node,N.offset),pe.collapsed||(l.removeAllRanges(),l.addRange(pe))):(l.removeAllRanges(),l.addRange(pe)),ye&&l.anchorNode==null?l.addRange(ye):h&&this.startGracePeriod()),this.rememberSelection()}},zt.prototype.startGracePeriod=function(){var l=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){l.gracePeriod=!1,l.selectionChanged()&&l.cm.operation(function(){return l.cm.curOp.selectionChanged=!0})},20)},zt.prototype.showMultipleSelections=function(l){rt(this.cm.display.cursorDiv,l.cursors),rt(this.cm.display.selectionDiv,l.selection)},zt.prototype.rememberSelection=function(){var l=this.getSelection();this.lastAnchorNode=l.anchorNode,this.lastAnchorOffset=l.anchorOffset,this.lastFocusNode=l.focusNode,this.lastFocusOffset=l.focusOffset},zt.prototype.selectionInEditor=function(){var l=this.getSelection();if(!l.rangeCount)return!1;var p=l.getRangeAt(0).commonAncestorContainer;return Je(this.div,p)},zt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||mt(yt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},zt.prototype.blur=function(){this.div.blur()},zt.prototype.getField=function(){return this.div},zt.prototype.supportsTouch=function(){return!0},zt.prototype.receivedFocus=function(){var l=this,p=this;this.selectionInEditor()?setTimeout(function(){return l.pollSelection()},20):fn(this.cm,function(){return p.cm.curOp.selectionChanged=!0});function b(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,b))}this.polling.set(this.cm.options.pollInterval,b)},zt.prototype.selectionChanged=function(){var l=this.getSelection();return l.anchorNode!=this.lastAnchorNode||l.anchorOffset!=this.lastAnchorOffset||l.focusNode!=this.lastFocusNode||l.focusOffset!=this.lastFocusOffset},zt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var l=this.getSelection(),p=this.cm;if(le&&B&&this.cm.display.gutterSpecs.length&&kd(l.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var b=Yr(p,l.anchorNode,l.anchorOffset),v=Yr(p,l.focusNode,l.focusOffset);b&&v&&fn(p,function(){$i(p.doc,xs(b,v),hi),(b.bad||v.bad)&&(p.curOp.selectionChanged=!0)})}}},zt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var l=this.cm,p=l.display,b=l.doc.sel.primary(),v=b.from(),x=b.to();if(v.ch==0&&v.line>l.firstLine()&&(v=He(v.line-1,at(l.doc,v.line-1).length)),x.ch==at(l.doc,x.line).text.length&&x.line<l.lastLine()&&(x=He(x.line+1,0)),v.line<p.viewFrom||x.line>p.viewTo-1)return!1;var T,M,L;v.line==p.viewFrom||(T=ca(l,v.line))==0?(M=Rt(p.view[0].line),L=p.view[0].node):(M=Rt(p.view[T].line),L=p.view[T-1].node.nextSibling);var N=ca(l,x.line),z,Z;if(N==p.view.length-1?(z=p.viewTo-1,Z=p.lineDiv.lastChild):(z=Rt(p.view[N+1].line)-1,Z=p.view[N+1].node.previousSibling),!L)return!1;for(var ie=l.doc.splitLines(Sd(l,L,Z,M,z)),ye=ds(l.doc,He(M,0),He(z,at(l.doc,z).text.length));ie.length>1&&ye.length>1;)if(st(ie)==st(ye))ie.pop(),ye.pop(),z--;else if(ie[0]==ye[0])ie.shift(),ye.shift(),M++;else break;for(var pe=0,Ee=0,Ne=ie[0],Ve=ye[0],qe=Math.min(Ne.length,Ve.length);pe<qe&&Ne.charCodeAt(pe)==Ve.charCodeAt(pe);)++pe;for(var Ke=st(ie),Ye=st(ye),tt=Math.min(Ke.length-(ie.length==1?pe:0),Ye.length-(ye.length==1?pe:0));Ee<tt&&Ke.charCodeAt(Ke.length-Ee-1)==Ye.charCodeAt(Ye.length-Ee-1);)++Ee;if(ie.length==1&&ye.length==1&&M==v.line)for(;pe&&pe>v.ch&&Ke.charCodeAt(Ke.length-Ee-1)==Ye.charCodeAt(Ye.length-Ee-1);)pe--,Ee++;ie[ie.length-1]=Ke.slice(0,Ke.length-Ee).replace(/^\u200b+/,""),ie[0]=ie[0].slice(pe).replace(/\u200b+$/,"");var dt=He(M,pe),lt=He(z,ye.length?st(ye).length-Ee:0);if(ie.length>1||ie[0]||vt(dt,lt))return so(l.doc,ie,dt,lt,"+input"),!0},zt.prototype.ensurePolled=function(){this.forceCompositionEnd()},zt.prototype.reset=function(){this.forceCompositionEnd()},zt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},zt.prototype.readFromDOMSoon=function(){var l=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(l.readDOMTimeout=null,l.composing)if(l.composing.done)l.composing=null;else return;l.updateFromDOM()},80))},zt.prototype.updateFromDOM=function(){var l=this;(this.cm.isReadOnly()||!this.pollContent())&&fn(this.cm,function(){return Pi(l.cm)})},zt.prototype.setUneditable=function(l){l.contentEditable="false"},zt.prototype.onKeyPress=function(l){l.charCode==0||this.composing||(l.preventDefault(),this.cm.isReadOnly()||Ti(this.cm,lu)(this.cm,String.fromCharCode(l.charCode==null?l.keyCode:l.charCode),0))},zt.prototype.readOnlyChanged=function(l){this.div.contentEditable=String(l!="nocursor")},zt.prototype.onContextMenu=function(){},zt.prototype.resetPosition=function(){},zt.prototype.needsContentAttribute=!0;function wd(l,p){var b=Cl(l,p.line);if(!b||b.hidden)return null;var v=at(l.doc,p.line),x=gc(b,v,p.line),T=re(v,l.doc.direction),M="left";if(T){var L=Ce(T,p.ch);M=L%2?"right":"left"}var N=yc(x.map,p.ch,M);return N.offset=N.collapse=="right"?N.end:N.start,N}function kd(l){for(var p=l;p;p=p.parentNode)if(/CodeMirror-gutter-wrapper/.test(p.className))return!0;return!1}function po(l,p){return p&&(l.bad=!0),l}function Sd(l,p,b,v,x){var T="",M=!1,L=l.doc.lineSeparator(),N=!1;function z(pe){return function(Ee){return Ee.id==pe}}function Z(){M&&(T+=L,N&&(T+=L),M=N=!1)}function ie(pe){pe&&(Z(),T+=pe)}function ye(pe){if(pe.nodeType==1){var Ee=pe.getAttribute("cm-text");if(Ee){ie(Ee);return}var Ne=pe.getAttribute("cm-marker"),Ve;if(Ne){var qe=l.findMarks(He(v,0),He(x+1,0),z(+Ne));qe.length&&(Ve=qe[0].find(0))&&ie(ds(l.doc,Ve.from,Ve.to).join(L));return}if(pe.getAttribute("contenteditable")=="false")return;var Ke=/^(pre|div|p|li|table|br)$/i.test(pe.nodeName);if(!/^br$/i.test(pe.nodeName)&&pe.textContent.length==0)return;Ke&&Z();for(var Ye=0;Ye<pe.childNodes.length;Ye++)ye(pe.childNodes[Ye]);/^(pre|p)$/i.test(pe.nodeName)&&(N=!0),Ke&&(M=!0)}else pe.nodeType==3&&ie(pe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ye(p),p!=b;)p=p.nextSibling,N=!1;return T}function Yr(l,p,b){var v;if(p==l.display.lineDiv){if(v=l.display.lineDiv.childNodes[b],!v)return po(l.clipPos(He(l.display.viewTo-1)),!0);p=null,b=0}else for(v=p;;v=v.parentNode){if(!v||v==l.display.lineDiv)return null;if(v.parentNode&&v.parentNode==l.display.lineDiv)break}for(var x=0;x<l.display.view.length;x++){var T=l.display.view[x];if(T.node==v)return Dd(T,p,b)}}function Dd(l,p,b){var v=l.text.firstChild,x=!1;if(!p||!Je(v,p))return po(He(Rt(l.line),0),!0);if(p==v&&(x=!0,p=v.childNodes[b],b=0,!p)){var T=l.rest?st(l.rest):l.line;return po(He(Rt(T),T.text.length),x)}var M=p.nodeType==3?p:null,L=p;for(!M&&p.childNodes.length==1&&p.firstChild.nodeType==3&&(M=p.firstChild,b&&(b=M.nodeValue.length));L.parentNode!=v;)L=L.parentNode;var N=l.measure,z=N.maps;function Z(Ve,qe,Ke){for(var Ye=-1;Ye<(z?z.length:0);Ye++)for(var tt=Ye<0?N.map:z[Ye],dt=0;dt<tt.length;dt+=3){var lt=tt[dt+2];if(lt==Ve||lt==qe){var St=Rt(Ye<0?l.line:l.rest[Ye]),qt=tt[dt]+Ke;return(Ke<0||lt!=Ve)&&(qt=tt[dt+(Ke?1:0)]),He(St,qt)}}}var ie=Z(M,L,b);if(ie)return po(ie,x);for(var ye=L.nextSibling,pe=M?M.nodeValue.length-b:0;ye;ye=ye.nextSibling){if(ie=Z(ye,ye.firstChild,0),ie)return po(He(ie.line,ie.ch-pe),x);pe+=ye.textContent.length}for(var Ee=L.previousSibling,Ne=b;Ee;Ee=Ee.previousSibling){if(ie=Z(Ee,Ee.firstChild,-1),ie)return po(He(ie.line,ie.ch+Ne),x);Ne+=Ee.textContent.length}}var gi=function(l){this.cm=l,this.prevInput="",this.pollingFast=!1,this.polling=new Nt,this.hasSelection=!1,this.composing=null,this.resetting=!1};gi.prototype.init=function(l){var p=this,b=this,v=this.cm;this.createField(l);var x=this.textarea;l.wrapper.insertBefore(this.wrapper,l.wrapper.firstChild),X&&(x.style.width="0px"),ge(x,"input",function(){S&&D>=9&&p.hasSelection&&(p.hasSelection=null),b.poll()}),ge(x,"paste",function(M){We(v,M)||_d(M,v)||(v.state.pasteIncoming=+new Date,b.fastPoll())});function T(M){if(!We(v,M)){if(v.somethingSelected())Xo({lineWise:!1,text:v.getSelections()});else if(v.options.lineWiseCopyCut){var L=uu(v);Xo({lineWise:!0,text:L.text}),M.type=="cut"?v.setSelections(L.ranges,null,hi):(b.prevInput="",x.value=L.text.join(`
`),ue(x))}else return;M.type=="cut"&&(v.state.cutIncoming=+new Date)}}ge(x,"cut",T),ge(x,"copy",T),ge(l.scroller,"paste",function(M){if(!(ms(l,M)||We(v,M))){if(!x.dispatchEvent){v.state.pasteIncoming=+new Date,b.focus();return}var L=new Event("paste");L.clipboardData=M.clipboardData,x.dispatchEvent(L)}}),ge(l.lineSpace,"selectstart",function(M){ms(l,M)||ft(M)}),ge(x,"compositionstart",function(){var M=v.getCursor("from");b.composing&&b.composing.range.clear(),b.composing={start:M,range:v.markText(M,v.getCursor("to"),{className:"CodeMirror-composing"})}}),ge(x,"compositionend",function(){b.composing&&(b.poll(),b.composing.range.clear(),b.composing=null)})},gi.prototype.createField=function(l){this.wrapper=du(),this.textarea=this.wrapper.firstChild;var p=this.cm.options;cu(this.textarea,p.spellcheck,p.autocorrect,p.autocapitalize)},gi.prototype.screenReaderLabelChanged=function(l){l?this.textarea.setAttribute("aria-label",l):this.textarea.removeAttribute("aria-label")},gi.prototype.prepareSelection=function(){var l=this.cm,p=l.display,b=l.doc,v=Za(l);if(l.options.moveInputWithCursor){var x=jt(l,b.sel.primary().head,"div"),T=p.wrapper.getBoundingClientRect(),M=p.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(p.wrapper.clientHeight-10,x.top+M.top-T.top)),v.teLeft=Math.max(0,Math.min(p.wrapper.clientWidth-10,x.left+M.left-T.left))}return v},gi.prototype.showSelection=function(l){var p=this.cm,b=p.display;rt(b.cursorDiv,l.cursors),rt(b.selectionDiv,l.selection),l.teTop!=null&&(this.wrapper.style.top=l.teTop+"px",this.wrapper.style.left=l.teLeft+"px")},gi.prototype.reset=function(l){if(!(this.contextMenuPending||this.composing&&l)){var p=this.cm;if(this.resetting=!0,p.somethingSelected()){this.prevInput="";var b=p.getSelection();this.textarea.value=b,p.state.focused&&ue(this.textarea),S&&D>=9&&(this.hasSelection=b)}else l||(this.prevInput=this.textarea.value="",S&&D>=9&&(this.hasSelection=null));this.resetting=!1}},gi.prototype.getField=function(){return this.textarea},gi.prototype.supportsTouch=function(){return!1},gi.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ne||mt(yt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},gi.prototype.blur=function(){this.textarea.blur()},gi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},gi.prototype.receivedFocus=function(){this.slowPoll()},gi.prototype.slowPoll=function(){var l=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){l.poll(),l.cm.state.focused&&l.slowPoll()})},gi.prototype.fastPoll=function(){var l=!1,p=this;p.pollingFast=!0;function b(){var v=p.poll();!v&&!l?(l=!0,p.polling.set(60,b)):(p.pollingFast=!1,p.slowPoll())}p.polling.set(20,b)},gi.prototype.poll=function(){var l=this,p=this.cm,b=this.textarea,v=this.prevInput;if(this.contextMenuPending||this.resetting||!p.state.focused||nl(b)&&!v&&!this.composing||p.isReadOnly()||p.options.disableInput||p.state.keySeq)return!1;var x=b.value;if(x==v&&!p.somethingSelected())return!1;if(S&&D>=9&&this.hasSelection===x||se&&/[\uf700-\uf7ff]/.test(x))return p.display.input.reset(),!1;if(p.doc.sel==p.display.selForContextMenu){var T=x.charCodeAt(0);if(T==8203&&!v&&(v="​"),T==8666)return this.reset(),this.cm.execCommand("undo")}for(var M=0,L=Math.min(v.length,x.length);M<L&&v.charCodeAt(M)==x.charCodeAt(M);)++M;return fn(p,function(){lu(p,x.slice(M),v.length-M,null,l.composing?"*compose":null),x.length>1e3||x.indexOf(`
`)>-1?b.value=l.prevInput="":l.prevInput=x,l.composing&&(l.composing.range.clear(),l.composing.range=p.markText(l.composing.start,p.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},gi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},gi.prototype.onKeyPress=function(){S&&D>=9&&(this.hasSelection=null),this.fastPoll()},gi.prototype.onContextMenu=function(l){var p=this,b=p.cm,v=b.display,x=p.textarea;p.contextMenuPending&&p.contextMenuPending();var T=Hs(b,l),M=v.scroller.scrollTop;if(!T||q)return;var L=b.options.resetSelectionOnContextMenu;L&&b.doc.sel.contains(T)==-1&&Ti(b,$i)(b.doc,xs(T),hi);var N=x.style.cssText,z=p.wrapper.style.cssText,Z=p.wrapper.offsetParent.getBoundingClientRect();p.wrapper.style.cssText="position: static",x.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(l.clientY-Z.top-5)+"px; left: "+(l.clientX-Z.left-5)+`px;
      z-index: 1000; background: `+(S?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ie;A&&(ie=x.ownerDocument.defaultView.scrollY),v.input.focus(),A&&x.ownerDocument.defaultView.scrollTo(null,ie),v.input.reset(),b.somethingSelected()||(x.value=p.prevInput=" "),p.contextMenuPending=pe,v.selForContextMenu=b.doc.sel,clearTimeout(v.detectingSelectAll);function ye(){if(x.selectionStart!=null){var Ne=b.somethingSelected(),Ve="​"+(Ne?x.value:"");x.value="⇚",x.value=Ve,p.prevInput=Ne?"":"​",x.selectionStart=1,x.selectionEnd=Ve.length,v.selForContextMenu=b.doc.sel}}function pe(){if(p.contextMenuPending==pe&&(p.contextMenuPending=!1,p.wrapper.style.cssText=z,x.style.cssText=N,S&&D<9&&v.scrollbars.setScrollTop(v.scroller.scrollTop=M),x.selectionStart!=null)){(!S||S&&D<9)&&ye();var Ne=0,Ve=function(){v.selForContextMenu==b.doc.sel&&x.selectionStart==0&&x.selectionEnd>0&&p.prevInput=="​"?Ti(b,jc)(b):Ne++<10?v.detectingSelectAll=setTimeout(Ve,500):(v.selForContextMenu=null,v.input.reset())};v.detectingSelectAll=setTimeout(Ve,200)}}if(S&&D>=9&&ye(),Ge){fi(l);var Ee=function(){Qe(window,"mouseup",Ee),setTimeout(pe,20)};ge(window,"mouseup",Ee)}else setTimeout(pe,50)},gi.prototype.readOnlyChanged=function(l){l||this.reset(),this.textarea.disabled=l=="nocursor",this.textarea.readOnly=!!l},gi.prototype.setUneditable=function(){},gi.prototype.needsContentAttribute=!1;function Td(l,p){if(p=p?ti(p):{},p.value=l.value,!p.tabindex&&l.tabIndex&&(p.tabindex=l.tabIndex),!p.placeholder&&l.placeholder&&(p.placeholder=l.placeholder),p.autofocus==null){var b=mt(yt(l));p.autofocus=b==l||l.getAttribute("autofocus")!=null&&b==document.body}function v(){l.value=L.getValue()}var x;if(l.form&&(ge(l.form,"submit",v),!p.leaveSubmitMethodAlone)){var T=l.form;x=T.submit;try{var M=T.submit=function(){v(),T.submit=x,T.submit(),T.submit=M}}catch{}}p.finishInit=function(N){N.save=v,N.getTextArea=function(){return l},N.toTextArea=function(){N.toTextArea=isNaN,v(),l.parentNode.removeChild(N.getWrapperElement()),l.style.display="",l.form&&(Qe(l.form,"submit",v),!p.leaveSubmitMethodAlone&&typeof l.form.submit=="function"&&(l.form.submit=x))}},l.style.display="none";var L=ei(function(N){return l.parentNode.insertBefore(N,l.nextSibling)},p);return L}function mf(l){l.off=Qe,l.on=ge,l.wheelEventPixels=Ol,l.Doc=sn,l.splitLines=Ba,l.countColumn=$t,l.findColumn=Ui,l.isWordChar=me,l.Pass=ii,l.signal=et,l.Line=Ha,l.changeEnd=ws,l.scrollbarModel=_s,l.Pos=He,l.cmpPos=vt,l.modes=vn,l.mimeModes=dn,l.resolveMode=Fs,l.getMode=na,l.modeExtensions=sa,l.extendMode=Zu,l.copyState=Is,l.startState=Ju,l.innerMode=fr,l.commands=jo,l.keyMap=Ds,l.keyName=eu,l.isModifierKey=Ql,l.lookupKey=co,l.normalizeKeyMap=tf,l.StringStream=Ci,l.SharedTextMarker=lo,l.TextMarker=Ss,l.LineWidget=oo,l.e_preventDefault=ft,l.e_stopPropagation=Vt,l.e_stop=fi,l.addClass=Ht,l.contains=Je,l.rmClass=Ue,l.keyNames=Us}df(ei),pf(ei);var hu="iter insert remove copy getEditor constructor".split(" ");for(var Gr in sn.prototype)sn.prototype.hasOwnProperty(Gr)&&kt(hu,Gr)<0&&(ei.prototype[Gr]=function(l){return function(){return l.apply(this.doc,arguments)}}(sn.prototype[Gr]));return xt(sn),ei.inputStyles={textarea:gi,contenteditable:zt},ei.defineMode=function(l){!ei.defaults.mode&&l!="null"&&(ei.defaults.mode=l),As.apply(this,arguments)},ei.defineMIME=Ms,ei.defineMode("null",function(){return{token:function(l){return l.skipToEnd()}}}),ei.defineMIME("text/plain","null"),ei.defineExtension=function(l,p){ei.prototype[l]=p},ei.defineDocExtension=function(l,p){sn.prototype[l]=p},ei.fromTextArea=Td,mf(ei),ei.version="5.65.19",ei})}(th)),th.exports}var Sg={exports:{}},Dg;function k2(){return Dg||(Dg=1,function(u,s){(function(o){o(Kn())})(function(o){var c=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,h=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,g=/[*+-]\s/;o.commands.newlineAndIndentContinueMarkdownList=function(w){if(w.getOption("disableInput"))return o.Pass;for(var S=w.listSelections(),D=[],A=0;A<S.length;A++){var O=S[A].head,B=w.getStateAfter(O.line),H=o.innerMode(w.getMode(),B);if(H.mode.name!=="markdown"&&H.mode.helperType!=="markdown"){w.execCommand("newlineAndIndent");return}else B=H.state;var q=B.list!==!1,Q=B.quote!==0,te=w.getLine(O.line),K=c.exec(te),X=/^\s*$/.test(te.slice(0,O.ch));if(!S[A].empty()||!q&&!Q||!K||X){w.execCommand("newlineAndIndent");return}if(h.test(te)){var le=Q&&/>\s*$/.test(te),ne=!/>\s*$/.test(te);(le||ne)&&w.replaceRange("",{line:O.line,ch:0},{line:O.line,ch:O.ch+1}),D[A]=`
`}else{var se=K[1],we=K[5],be=!(g.test(K[2])||K[2].indexOf(">")>=0),ve=be?parseInt(K[3],10)+1+K[4]:K[2].replace("x"," ");D[A]=`
`+se+ve+we,be&&y(w,O)}}w.replaceSelections(D)};function y(w,S){var D=S.line,A=0,O=0,B=c.exec(w.getLine(D)),H=B[1];do{A+=1;var q=D+A,Q=w.getLine(q),te=c.exec(Q);if(te){var K=te[1],X=parseInt(B[3],10)+A-O,le=parseInt(te[3],10),ne=le;if(H===K&&!isNaN(le))X===le&&(ne=le+1),X>le&&(ne=X+1),w.replaceRange(Q.replace(c,K+ne+te[4]+te[5]),{line:q,ch:0},{line:q,ch:Q.length});else{if(H.length>K.length||H.length<K.length&&A===1)return;O+=1}}}while(te)}})}()),Sg.exports}var Tg={},Eg;function S2(){if(Eg)return Tg;Eg=1;var u=Kn();return u.commands.tabAndIndentMarkdownList=function(s){var o=s.listSelections(),c=o[0].head,h=s.getStateAfter(c.line),g=h.list!==!1;if(g){s.execCommand("indentMore");return}if(s.options.indentWithTabs)s.execCommand("insertTab");else{var y=Array(s.options.tabSize+1).join(" ");s.replaceSelection(y)}},u.commands.shiftTabAndUnindentMarkdownList=function(s){var o=s.listSelections(),c=o[0].head,h=s.getStateAfter(c.line),g=h.list!==!1;if(g){s.execCommand("indentLess");return}if(s.options.indentWithTabs)s.execCommand("insertTab");else{var y=Array(s.options.tabSize+1).join(" ");s.replaceSelection(y)}},Tg}var Ag={exports:{}},Mg;function D2(){return Mg||(Mg=1,function(u,s){(function(o){o(Kn())})(function(o){o.defineOption("fullScreen",!1,function(g,y,w){w==o.Init&&(w=!1),!w!=!y&&(y?c(g):h(g))});function c(g){var y=g.getWrapperElement();g.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:y.style.width,height:y.style.height},y.style.width="",y.style.height="auto",y.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",g.refresh()}function h(g){var y=g.getWrapperElement();y.className=y.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var w=g.state.fullScreenRestore;y.style.width=w.width,y.style.height=w.height,window.scrollTo(w.scrollLeft,w.scrollTop),g.refresh()}})}()),Ag.exports}var Fg={exports:{}},Ig={exports:{}},Lg;function _v(){return Lg||(Lg=1,function(u,s){(function(o){o(Kn())})(function(o){var c={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},h={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};o.defineMode("xml",function(g,y){var w=g.indentUnit,S={},D=y.htmlMode?c:h;for(var A in D)S[A]=D[A];for(var A in y)S[A]=y[A];var O,B;function H(ce,Pe){function Oe(Ht){return Pe.tokenize=Ht,Ht(ce,Pe)}var Je=ce.next();if(Je=="<")return ce.eat("!")?ce.eat("[")?ce.match("CDATA[")?Oe(te("atom","]]>")):null:ce.match("--")?Oe(te("comment","-->")):ce.match("DOCTYPE",!0,!0)?(ce.eatWhile(/[\w\._\-]/),Oe(K(1))):null:ce.eat("?")?(ce.eatWhile(/[\w\._\-]/),Pe.tokenize=te("meta","?>"),"meta"):(O=ce.eat("/")?"closeTag":"openTag",Pe.tokenize=q,"tag bracket");if(Je=="&"){var mt;return ce.eat("#")?ce.eat("x")?mt=ce.eatWhile(/[a-fA-F\d]/)&&ce.eat(";"):mt=ce.eatWhile(/[\d]/)&&ce.eat(";"):mt=ce.eatWhile(/[\w\.\-:]/)&&ce.eat(";"),mt?"atom":"error"}else return ce.eatWhile(/[^&<]/),null}H.isInText=!0;function q(ce,Pe){var Oe=ce.next();if(Oe==">"||Oe=="/"&&ce.eat(">"))return Pe.tokenize=H,O=Oe==">"?"endTag":"selfcloseTag","tag bracket";if(Oe=="=")return O="equals",null;if(Oe=="<"){Pe.tokenize=H,Pe.state=we,Pe.tagName=Pe.tagStart=null;var Je=Pe.tokenize(ce,Pe);return Je?Je+" tag error":"tag error"}else return/[\'\"]/.test(Oe)?(Pe.tokenize=Q(Oe),Pe.stringStartCol=ce.column(),Pe.tokenize(ce,Pe)):(ce.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function Q(ce){var Pe=function(Oe,Je){for(;!Oe.eol();)if(Oe.next()==ce){Je.tokenize=q;break}return"string"};return Pe.isInAttribute=!0,Pe}function te(ce,Pe){return function(Oe,Je){for(;!Oe.eol();){if(Oe.match(Pe)){Je.tokenize=H;break}Oe.next()}return ce}}function K(ce){return function(Pe,Oe){for(var Je;(Je=Pe.next())!=null;){if(Je=="<")return Oe.tokenize=K(ce+1),Oe.tokenize(Pe,Oe);if(Je==">")if(ce==1){Oe.tokenize=H;break}else return Oe.tokenize=K(ce-1),Oe.tokenize(Pe,Oe)}return"meta"}}function X(ce){return ce&&ce.toLowerCase()}function le(ce,Pe,Oe){this.prev=ce.context,this.tagName=Pe||"",this.indent=ce.indented,this.startOfLine=Oe,(S.doNotIndent.hasOwnProperty(Pe)||ce.context&&ce.context.noIndent)&&(this.noIndent=!0)}function ne(ce){ce.context&&(ce.context=ce.context.prev)}function se(ce,Pe){for(var Oe;;){if(!ce.context||(Oe=ce.context.tagName,!S.contextGrabbers.hasOwnProperty(X(Oe))||!S.contextGrabbers[X(Oe)].hasOwnProperty(X(Pe))))return;ne(ce)}}function we(ce,Pe,Oe){return ce=="openTag"?(Oe.tagStart=Pe.column(),be):ce=="closeTag"?ve:we}function be(ce,Pe,Oe){return ce=="word"?(Oe.tagName=Pe.current(),B="tag",Ie):S.allowMissingTagName&&ce=="endTag"?(B="tag bracket",Ie(ce,Pe,Oe)):(B="error",be)}function ve(ce,Pe,Oe){if(ce=="word"){var Je=Pe.current();return Oe.context&&Oe.context.tagName!=Je&&S.implicitlyClosed.hasOwnProperty(X(Oe.context.tagName))&&ne(Oe),Oe.context&&Oe.context.tagName==Je||S.matchClosing===!1?(B="tag",De):(B="tag error",Ge)}else return S.allowMissingTagName&&ce=="endTag"?(B="tag bracket",De(ce,Pe,Oe)):(B="error",Ge)}function De(ce,Pe,Oe){return ce!="endTag"?(B="error",De):(ne(Oe),we)}function Ge(ce,Pe,Oe){return B="error",De(ce,Pe,Oe)}function Ie(ce,Pe,Oe){if(ce=="word")return B="attribute",Ue;if(ce=="endTag"||ce=="selfcloseTag"){var Je=Oe.tagName,mt=Oe.tagStart;return Oe.tagName=Oe.tagStart=null,ce=="selfcloseTag"||S.autoSelfClosers.hasOwnProperty(X(Je))?se(Oe,Je):(se(Oe,Je),Oe.context=new le(Oe,Je,mt==Oe.indented)),we}return B="error",Ie}function Ue(ce,Pe,Oe){return ce=="equals"?nt:(S.allowMissing||(B="error"),Ie(ce,Pe,Oe))}function nt(ce,Pe,Oe){return ce=="string"?rt:ce=="word"&&S.allowUnquoted?(B="string",Ie):(B="error",Ie(ce,Pe,Oe))}function rt(ce,Pe,Oe){return ce=="string"?rt:Ie(ce,Pe,Oe)}return{startState:function(ce){var Pe={tokenize:H,state:we,indented:ce||0,tagName:null,tagStart:null,context:null};return ce!=null&&(Pe.baseIndent=ce),Pe},token:function(ce,Pe){if(!Pe.tagName&&ce.sol()&&(Pe.indented=ce.indentation()),ce.eatSpace())return null;O=null;var Oe=Pe.tokenize(ce,Pe);return(Oe||O)&&Oe!="comment"&&(B=null,Pe.state=Pe.state(O||Oe,ce,Pe),B&&(Oe=B=="error"?Oe+" error":B)),Oe},indent:function(ce,Pe,Oe){var Je=ce.context;if(ce.tokenize.isInAttribute)return ce.tagStart==ce.indented?ce.stringStartCol+1:ce.indented+w;if(Je&&Je.noIndent)return o.Pass;if(ce.tokenize!=q&&ce.tokenize!=H)return Oe?Oe.match(/^(\s*)/)[0].length:0;if(ce.tagName)return S.multilineTagIndentPastTag!==!1?ce.tagStart+ce.tagName.length+2:ce.tagStart+w*(S.multilineTagIndentFactor||1);if(S.alignCDATA&&/<!\[CDATA\[/.test(Pe))return 0;var mt=Pe&&/^<(\/)?([\w_:\.-]*)/.exec(Pe);if(mt&&mt[1])for(;Je;)if(Je.tagName==mt[2]){Je=Je.prev;break}else if(S.implicitlyClosed.hasOwnProperty(X(Je.tagName)))Je=Je.prev;else break;else if(mt)for(;Je;){var Ht=S.contextGrabbers[X(Je.tagName)];if(Ht&&Ht.hasOwnProperty(X(mt[2])))Je=Je.prev;else break}for(;Je&&Je.prev&&!Je.startOfLine;)Je=Je.prev;return Je?Je.indent+w:ce.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:S.htmlMode?"html":"xml",helperType:S.htmlMode?"html":"xml",skipAttribute:function(ce){ce.state==nt&&(ce.state=Ie)},xmlCurrentTag:function(ce){return ce.tagName?{name:ce.tagName,close:ce.type=="closeTag"}:null},xmlCurrentContext:function(ce){for(var Pe=[],Oe=ce.context;Oe;Oe=Oe.prev)Pe.push(Oe.tagName);return Pe.reverse()}}}),o.defineMIME("text/xml","xml"),o.defineMIME("application/xml","xml"),o.mimeModes.hasOwnProperty("text/html")||o.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),Ig.exports}var Og={exports:{}},Pg;function T2(){return Pg||(Pg=1,function(u,s){(function(o){o(Kn())})(function(o){o.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var c=0;c<o.modeInfo.length;c++){var h=o.modeInfo[c];h.mimes&&(h.mime=h.mimes[0])}o.findModeByMIME=function(g){g=g.toLowerCase();for(var y=0;y<o.modeInfo.length;y++){var w=o.modeInfo[y];if(w.mime==g)return w;if(w.mimes){for(var S=0;S<w.mimes.length;S++)if(w.mimes[S]==g)return w}}if(/\+xml$/.test(g))return o.findModeByMIME("application/xml");if(/\+json$/.test(g))return o.findModeByMIME("application/json")},o.findModeByExtension=function(g){g=g.toLowerCase();for(var y=0;y<o.modeInfo.length;y++){var w=o.modeInfo[y];if(w.ext){for(var S=0;S<w.ext.length;S++)if(w.ext[S]==g)return w}}},o.findModeByFileName=function(g){for(var y=0;y<o.modeInfo.length;y++){var w=o.modeInfo[y];if(w.file&&w.file.test(g))return w}var S=g.lastIndexOf("."),D=S>-1&&g.substring(S+1,g.length);if(D)return o.findModeByExtension(D)},o.findModeByName=function(g){g=g.toLowerCase();for(var y=0;y<o.modeInfo.length;y++){var w=o.modeInfo[y];if(w.name.toLowerCase()==g)return w;if(w.alias){for(var S=0;S<w.alias.length;S++)if(w.alias[S].toLowerCase()==g)return w}}}})}()),Og.exports}var Bg;function Cv(){return Bg||(Bg=1,function(u,s){(function(o){o(Kn(),_v(),T2())})(function(o){o.defineMode("markdown",function(c,h){var g=o.getMode(c,"text/html"),y=g.name=="null";function w(ue){if(o.findModeByName){var $=o.findModeByName(ue);$&&(ue=$.mime||$.mimes[0])}var Te=o.getMode(c,ue);return Te.name=="null"?null:Te}h.highlightFormatting===void 0&&(h.highlightFormatting=!1),h.maxBlockquoteDepth===void 0&&(h.maxBlockquoteDepth=0),h.taskLists===void 0&&(h.taskLists=!1),h.strikethrough===void 0&&(h.strikethrough=!1),h.emoji===void 0&&(h.emoji=!1),h.fencedCodeBlockHighlighting===void 0&&(h.fencedCodeBlockHighlighting=!0),h.fencedCodeBlockDefaultMode===void 0&&(h.fencedCodeBlockDefaultMode="text/plain"),h.xml===void 0&&(h.xml=!0),h.tokenTypeOverrides===void 0&&(h.tokenTypeOverrides={});var S={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var D in S)S.hasOwnProperty(D)&&h.tokenTypeOverrides[D]&&(S[D]=h.tokenTypeOverrides[D]);var A=/^([*\-_])(?:\s*\1){2,}\s*$/,O=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,B=/^\[(x| )\](?=\s)/i,H=h.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,q=/^ {0,3}(?:\={1,}|-{2,})\s*$/,Q=/^[^#!\[\]*_\\<>` "'(~:]+/,te=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,K=/^\s*\[[^\]]+?\]:.*$/,X=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,le="    ";function ne(ue,$,Te){return $.f=$.inline=Te,Te(ue,$)}function se(ue,$,Te){return $.f=$.block=Te,Te(ue,$)}function we(ue){return!ue||!/\S/.test(ue.string)}function be(ue){if(ue.linkTitle=!1,ue.linkHref=!1,ue.linkText=!1,ue.em=!1,ue.strong=!1,ue.strikethrough=!1,ue.quote=0,ue.indentedCode=!1,ue.f==De){var $=y;if(!$){var Te=o.innerMode(g,ue.htmlState);$=Te.mode.name=="xml"&&Te.state.tagStart===null&&!Te.state.context&&Te.state.tokenize.isInText}$&&(ue.f=nt,ue.block=ve,ue.htmlState=null)}return ue.trailingSpace=0,ue.trailingSpaceNewLine=!1,ue.prevLine=ue.thisLine,ue.thisLine={stream:null},null}function ve(ue,$){var Te=ue.column()===$.indentation,yt=we($.prevLine.stream),ot=$.indentedCode,Zt=$.prevLine.hr,ti=$.list!==!1,$t=($.listStack[$.listStack.length-1]||0)+3;$.indentedCode=!1;var Nt=$.indentation;if($.indentationDiff===null&&($.indentationDiff=$.indentation,ti)){for($.list=null;Nt<$.listStack[$.listStack.length-1];)$.listStack.pop(),$.listStack.length?$.indentation=$.listStack[$.listStack.length-1]:$.list=!1;$.list!==!1&&($.indentationDiff=Nt-$.listStack[$.listStack.length-1])}var kt=!yt&&!Zt&&!$.prevLine.header&&(!ti||!ot)&&!$.prevLine.fencedCodeEnd,Lt=($.list===!1||Zt||yt)&&$.indentation<=$t&&ue.match(A),ii=null;if($.indentationDiff>=4&&(ot||$.prevLine.fencedCodeEnd||$.prevLine.header||yt))return ue.skipToEnd(),$.indentedCode=!0,S.code;if(ue.eatSpace())return null;if(Te&&$.indentation<=$t&&(ii=ue.match(H))&&ii[1].length<=6)return $.quote=0,$.header=ii[1].length,$.thisLine.header=!0,h.highlightFormatting&&($.formatting="header"),$.f=$.inline,Ie($);if($.indentation<=$t&&ue.eat(">"))return $.quote=Te?1:$.quote+1,h.highlightFormatting&&($.formatting="quote"),ue.eatSpace(),Ie($);if(!Lt&&!$.setext&&Te&&$.indentation<=$t&&(ii=ue.match(O))){var hi=ii[1]?"ol":"ul";return $.indentation=Nt+ue.current().length,$.list=!0,$.quote=0,$.listStack.push($.indentation),$.em=!1,$.strong=!1,$.code=!1,$.strikethrough=!1,h.taskLists&&ue.match(B,!1)&&($.taskList=!0),$.f=$.inline,h.highlightFormatting&&($.formatting=["list","list-"+hi]),Ie($)}else{if(Te&&$.indentation<=$t&&(ii=ue.match(te,!0)))return $.quote=0,$.fencedEndRE=new RegExp(ii[1]+"+ *$"),$.localMode=h.fencedCodeBlockHighlighting&&w(ii[2]||h.fencedCodeBlockDefaultMode),$.localMode&&($.localState=o.startState($.localMode)),$.f=$.block=Ge,h.highlightFormatting&&($.formatting="code-block"),$.code=-1,Ie($);if($.setext||(!kt||!ti)&&!$.quote&&$.list===!1&&!$.code&&!Lt&&!K.test(ue.string)&&(ii=ue.lookAhead(1))&&(ii=ii.match(q)))return $.setext?($.header=$.setext,$.setext=0,ue.skipToEnd(),h.highlightFormatting&&($.formatting="header")):($.header=ii[0].charAt(0)=="="?1:2,$.setext=$.header),$.thisLine.header=!0,$.f=$.inline,Ie($);if(Lt)return ue.skipToEnd(),$.hr=!0,$.thisLine.hr=!0,S.hr;if(ue.peek()==="[")return ne(ue,$,Je)}return ne(ue,$,$.inline)}function De(ue,$){var Te=g.token(ue,$.htmlState);if(!y){var yt=o.innerMode(g,$.htmlState);(yt.mode.name=="xml"&&yt.state.tagStart===null&&!yt.state.context&&yt.state.tokenize.isInText||$.md_inside&&ue.current().indexOf(">")>-1)&&($.f=nt,$.block=ve,$.htmlState=null)}return Te}function Ge(ue,$){var Te=$.listStack[$.listStack.length-1]||0,yt=$.indentation<Te,ot=Te+3;if($.fencedEndRE&&$.indentation<=ot&&(yt||ue.match($.fencedEndRE))){h.highlightFormatting&&($.formatting="code-block");var Zt;return yt||(Zt=Ie($)),$.localMode=$.localState=null,$.block=ve,$.f=nt,$.fencedEndRE=null,$.code=0,$.thisLine.fencedCodeEnd=!0,yt?se(ue,$,$.block):Zt}else return $.localMode?$.localMode.token(ue,$.localState):(ue.skipToEnd(),S.code)}function Ie(ue){var $=[];if(ue.formatting){$.push(S.formatting),typeof ue.formatting=="string"&&(ue.formatting=[ue.formatting]);for(var Te=0;Te<ue.formatting.length;Te++)$.push(S.formatting+"-"+ue.formatting[Te]),ue.formatting[Te]==="header"&&$.push(S.formatting+"-"+ue.formatting[Te]+"-"+ue.header),ue.formatting[Te]==="quote"&&(!h.maxBlockquoteDepth||h.maxBlockquoteDepth>=ue.quote?$.push(S.formatting+"-"+ue.formatting[Te]+"-"+ue.quote):$.push("error"))}if(ue.taskOpen)return $.push("meta"),$.length?$.join(" "):null;if(ue.taskClosed)return $.push("property"),$.length?$.join(" "):null;if(ue.linkHref?$.push(S.linkHref,"url"):(ue.strong&&$.push(S.strong),ue.em&&$.push(S.em),ue.strikethrough&&$.push(S.strikethrough),ue.emoji&&$.push(S.emoji),ue.linkText&&$.push(S.linkText),ue.code&&$.push(S.code),ue.image&&$.push(S.image),ue.imageAltText&&$.push(S.imageAltText,"link"),ue.imageMarker&&$.push(S.imageMarker)),ue.header&&$.push(S.header,S.header+"-"+ue.header),ue.quote&&($.push(S.quote),!h.maxBlockquoteDepth||h.maxBlockquoteDepth>=ue.quote?$.push(S.quote+"-"+ue.quote):$.push(S.quote+"-"+h.maxBlockquoteDepth)),ue.list!==!1){var yt=(ue.listStack.length-1)%3;yt?yt===1?$.push(S.list2):$.push(S.list3):$.push(S.list1)}return ue.trailingSpaceNewLine?$.push("trailing-space-new-line"):ue.trailingSpace&&$.push("trailing-space-"+(ue.trailingSpace%2?"a":"b")),$.length?$.join(" "):null}function Ue(ue,$){if(ue.match(Q,!0))return Ie($)}function nt(ue,$){var Te=$.text(ue,$);if(typeof Te<"u")return Te;if($.list)return $.list=null,Ie($);if($.taskList){var yt=ue.match(B,!0)[1]===" ";return yt?$.taskOpen=!0:$.taskClosed=!0,h.highlightFormatting&&($.formatting="task"),$.taskList=!1,Ie($)}if($.taskOpen=!1,$.taskClosed=!1,$.header&&ue.match(/^#+$/,!0))return h.highlightFormatting&&($.formatting="header"),Ie($);var ot=ue.next();if($.linkTitle){$.linkTitle=!1;var Zt=ot;ot==="("&&(Zt=")"),Zt=(Zt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var ti="^\\s*(?:[^"+Zt+"\\\\]+|\\\\\\\\|\\\\.)"+Zt;if(ue.match(new RegExp(ti),!0))return S.linkHref}if(ot==="`"){var $t=$.formatting;h.highlightFormatting&&($.formatting="code"),ue.eatWhile("`");var Nt=ue.current().length;if($.code==0&&(!$.quote||Nt==1))return $.code=Nt,Ie($);if(Nt==$.code){var kt=Ie($);return $.code=0,kt}else return $.formatting=$t,Ie($)}else if($.code)return Ie($);if(ot==="\\"&&(ue.next(),h.highlightFormatting)){var Lt=Ie($),ii=S.formatting+"-escape";return Lt?Lt+" "+ii:ii}if(ot==="!"&&ue.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return $.imageMarker=!0,$.image=!0,h.highlightFormatting&&($.formatting="image"),Ie($);if(ot==="["&&$.imageMarker&&ue.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return $.imageMarker=!1,$.imageAltText=!0,h.highlightFormatting&&($.formatting="image"),Ie($);if(ot==="]"&&$.imageAltText){h.highlightFormatting&&($.formatting="image");var Lt=Ie($);return $.imageAltText=!1,$.image=!1,$.inline=$.f=ce,Lt}if(ot==="["&&!$.image)return $.linkText&&ue.match(/^.*?\]/)||($.linkText=!0,h.highlightFormatting&&($.formatting="link")),Ie($);if(ot==="]"&&$.linkText){h.highlightFormatting&&($.formatting="link");var Lt=Ie($);return $.linkText=!1,$.inline=$.f=ue.match(/\(.*?\)| ?\[.*?\]/,!1)?ce:nt,Lt}if(ot==="<"&&ue.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){$.f=$.inline=rt,h.highlightFormatting&&($.formatting="link");var Lt=Ie($);return Lt?Lt+=" ":Lt="",Lt+S.linkInline}if(ot==="<"&&ue.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){$.f=$.inline=rt,h.highlightFormatting&&($.formatting="link");var Lt=Ie($);return Lt?Lt+=" ":Lt="",Lt+S.linkEmail}if(h.xml&&ot==="<"&&ue.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var hi=ue.string.indexOf(">",ue.pos);if(hi!=-1){var ut=ue.string.substring(ue.start,hi);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(ut)&&($.md_inside=!0)}return ue.backUp(1),$.htmlState=o.startState(g),se(ue,$,De)}if(h.xml&&ot==="<"&&ue.match(/^\/\w*?>/))return $.md_inside=!1,"tag";if(ot==="*"||ot==="_"){for(var ji=1,Ui=ue.pos==1?" ":ue.string.charAt(ue.pos-2);ji<3&&ue.eat(ot);)ji++;var ni=ue.peek()||" ",Tn=!/\s/.test(ni)&&(!X.test(ni)||/\s/.test(Ui)||X.test(Ui)),st=!/\s/.test(Ui)&&(!X.test(Ui)||/\s/.test(ni)||X.test(ni)),li=null,ct=null;if(ji%2&&(!$.em&&Tn&&(ot==="*"||!st||X.test(Ui))?li=!0:$.em==ot&&st&&(ot==="*"||!Tn||X.test(ni))&&(li=!1)),ji>1&&(!$.strong&&Tn&&(ot==="*"||!st||X.test(Ui))?ct=!0:$.strong==ot&&st&&(ot==="*"||!Tn||X.test(ni))&&(ct=!1)),ct!=null||li!=null){h.highlightFormatting&&($.formatting=li==null?"strong":ct==null?"em":"strong em"),li===!0&&($.em=ot),ct===!0&&($.strong=ot);var kt=Ie($);return li===!1&&($.em=!1),ct===!1&&($.strong=!1),kt}}else if(ot===" "&&(ue.eat("*")||ue.eat("_"))){if(ue.peek()===" ")return Ie($);ue.backUp(1)}if(h.strikethrough){if(ot==="~"&&ue.eatWhile(ot)){if($.strikethrough){h.highlightFormatting&&($.formatting="strikethrough");var kt=Ie($);return $.strikethrough=!1,kt}else if(ue.match(/^[^\s]/,!1))return $.strikethrough=!0,h.highlightFormatting&&($.formatting="strikethrough"),Ie($)}else if(ot===" "&&ue.match("~~",!0)){if(ue.peek()===" ")return Ie($);ue.backUp(2)}}if(h.emoji&&ot===":"&&ue.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){$.emoji=!0,h.highlightFormatting&&($.formatting="emoji");var cs=Ie($);return $.emoji=!1,cs}return ot===" "&&(ue.match(/^ +$/,!1)?$.trailingSpace++:$.trailingSpace&&($.trailingSpaceNewLine=!0)),Ie($)}function rt(ue,$){var Te=ue.next();if(Te===">"){$.f=$.inline=nt,h.highlightFormatting&&($.formatting="link");var yt=Ie($);return yt?yt+=" ":yt="",yt+S.linkInline}return ue.match(/^[^>]+/,!0),S.linkInline}function ce(ue,$){if(ue.eatSpace())return null;var Te=ue.next();return Te==="("||Te==="["?($.f=$.inline=Oe(Te==="("?")":"]"),h.highlightFormatting&&($.formatting="link-string"),$.linkHref=!0,Ie($)):"error"}var Pe={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Oe(ue){return function($,Te){var yt=$.next();if(yt===ue){Te.f=Te.inline=nt,h.highlightFormatting&&(Te.formatting="link-string");var ot=Ie(Te);return Te.linkHref=!1,ot}return $.match(Pe[ue]),Te.linkHref=!0,Ie(Te)}}function Je(ue,$){return ue.match(/^([^\]\\]|\\.)*\]:/,!1)?($.f=mt,ue.next(),h.highlightFormatting&&($.formatting="link"),$.linkText=!0,Ie($)):ne(ue,$,nt)}function mt(ue,$){if(ue.match("]:",!0)){$.f=$.inline=Ht,h.highlightFormatting&&($.formatting="link");var Te=Ie($);return $.linkText=!1,Te}return ue.match(/^([^\]\\]|\\.)+/,!0),S.linkText}function Ht(ue,$){return ue.eatSpace()?null:(ue.match(/^[^\s]+/,!0),ue.peek()===void 0?$.linkTitle=!0:ue.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),$.f=$.inline=nt,S.linkHref+" url")}var Zi={startState:function(){return{f:ve,prevLine:{stream:null},thisLine:{stream:null},block:ve,htmlState:null,indentation:0,inline:nt,text:Ue,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ue){return{f:ue.f,prevLine:ue.prevLine,thisLine:ue.thisLine,block:ue.block,htmlState:ue.htmlState&&o.copyState(g,ue.htmlState),indentation:ue.indentation,localMode:ue.localMode,localState:ue.localMode?o.copyState(ue.localMode,ue.localState):null,inline:ue.inline,text:ue.text,formatting:!1,linkText:ue.linkText,linkTitle:ue.linkTitle,linkHref:ue.linkHref,code:ue.code,em:ue.em,strong:ue.strong,strikethrough:ue.strikethrough,emoji:ue.emoji,header:ue.header,setext:ue.setext,hr:ue.hr,taskList:ue.taskList,list:ue.list,listStack:ue.listStack.slice(0),quote:ue.quote,indentedCode:ue.indentedCode,trailingSpace:ue.trailingSpace,trailingSpaceNewLine:ue.trailingSpaceNewLine,md_inside:ue.md_inside,fencedEndRE:ue.fencedEndRE}},token:function(ue,$){if($.formatting=!1,ue!=$.thisLine.stream){if($.header=0,$.hr=!1,ue.match(/^\s*$/,!0))return be($),null;if($.prevLine=$.thisLine,$.thisLine={stream:ue},$.taskList=!1,$.trailingSpace=0,$.trailingSpaceNewLine=!1,!$.localState&&($.f=$.block,$.f!=De)){var Te=ue.match(/^\s*/,!0)[0].replace(/\t/g,le).length;if($.indentation=Te,$.indentationDiff=null,Te>0)return null}}return $.f(ue,$)},innerMode:function(ue){return ue.block==De?{state:ue.htmlState,mode:g}:ue.localState?{state:ue.localState,mode:ue.localMode}:{state:ue,mode:Zi}},indent:function(ue,$,Te){return ue.block==De&&g.indent?g.indent(ue.htmlState,$,Te):ue.localState&&ue.localMode.indent?ue.localMode.indent(ue.localState,$,Te):o.Pass},blankLine:be,getType:Ie,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Zi},"xml"),o.defineMIME("text/markdown","markdown"),o.defineMIME("text/x-markdown","markdown")})}()),Fg.exports}var Ng={exports:{}},Rg;function xv(){return Rg||(Rg=1,function(u,s){(function(o){o(Kn())})(function(o){o.overlayMode=function(c,h,g){return{startState:function(){return{base:o.startState(c),overlay:o.startState(h),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(y){return{base:o.copyState(c,y.base),overlay:o.copyState(h,y.overlay),basePos:y.basePos,baseCur:null,overlayPos:y.overlayPos,overlayCur:null}},token:function(y,w){return(y!=w.streamSeen||Math.min(w.basePos,w.overlayPos)<y.start)&&(w.streamSeen=y,w.basePos=w.overlayPos=y.start),y.start==w.basePos&&(w.baseCur=c.token(y,w.base),w.basePos=y.pos),y.start==w.overlayPos&&(y.pos=y.start,w.overlayCur=h.token(y,w.overlay),w.overlayPos=y.pos),y.pos=Math.min(w.basePos,w.overlayPos),w.overlayCur==null?w.baseCur:w.baseCur!=null&&w.overlay.combineTokens||g&&w.overlay.combineTokens==null?w.baseCur+" "+w.overlayCur:w.overlayCur},indent:c.indent&&function(y,w,S){return c.indent(y.base,w,S)},electricChars:c.electricChars,innerMode:function(y){return{state:y.base,mode:c}},blankLine:function(y){var w,S;return c.blankLine&&(w=c.blankLine(y.base)),h.blankLine&&(S=h.blankLine(y.overlay)),S==null?w:g&&w!=null?w+" "+S:S}}}})}()),Ng.exports}var zg={exports:{}},Hg;function E2(){return Hg||(Hg=1,function(u,s){(function(o){o(Kn())})(function(o){o.defineOption("placeholder","",function(D,A,O){var B=O&&O!=o.Init;if(A&&!B)D.on("blur",y),D.on("change",w),D.on("swapDoc",w),o.on(D.getInputField(),"compositionupdate",D.state.placeholderCompose=function(){g(D)}),w(D);else if(!A&&B){D.off("blur",y),D.off("change",w),D.off("swapDoc",w),o.off(D.getInputField(),"compositionupdate",D.state.placeholderCompose),c(D);var H=D.getWrapperElement();H.className=H.className.replace(" CodeMirror-empty","")}A&&!D.hasFocus()&&y(D)});function c(D){D.state.placeholder&&(D.state.placeholder.parentNode.removeChild(D.state.placeholder),D.state.placeholder=null)}function h(D){c(D);var A=D.state.placeholder=document.createElement("pre");A.style.cssText="height: 0; overflow: visible",A.style.direction=D.getOption("direction"),A.className="CodeMirror-placeholder CodeMirror-line-like";var O=D.getOption("placeholder");typeof O=="string"&&(O=document.createTextNode(O)),A.appendChild(O),D.display.lineSpace.insertBefore(A,D.display.lineSpace.firstChild)}function g(D){setTimeout(function(){var A=!1;if(D.lineCount()==1){var O=D.getInputField();A=O.nodeName=="TEXTAREA"?!D.getLine(0).length:!/[^\u200b]/.test(O.querySelector(".CodeMirror-line").textContent)}A?h(D):c(D)},20)}function y(D){S(D)&&h(D)}function w(D){var A=D.getWrapperElement(),O=S(D);A.className=A.className.replace(" CodeMirror-empty","")+(O?" CodeMirror-empty":""),O?h(D):c(D)}function S(D){return D.lineCount()===1&&D.getLine(0)===""}})}()),zg.exports}var $g={exports:{}},Vg;function A2(){return Vg||(Vg=1,function(u,s){(function(o){o(Kn())})(function(o){o.defineOption("autoRefresh",!1,function(g,y){g.state.autoRefresh&&(h(g,g.state.autoRefresh),g.state.autoRefresh=null),y&&g.display.wrapper.offsetHeight==0&&c(g,g.state.autoRefresh={delay:y.delay||250})});function c(g,y){function w(){g.display.wrapper.offsetHeight?(h(g,y),g.display.lastWrapHeight!=g.display.wrapper.clientHeight&&g.refresh()):y.timeout=setTimeout(w,y.delay)}y.timeout=setTimeout(w,y.delay),y.hurry=function(){clearTimeout(y.timeout),y.timeout=setTimeout(w,50)},o.on(window,"mouseup",y.hurry),o.on(window,"keyup",y.hurry)}function h(g,y){clearTimeout(y.timeout),o.off(window,"mouseup",y.hurry),o.off(window,"keyup",y.hurry)}})}()),$g.exports}var Wg={exports:{}},jg;function M2(){return jg||(jg=1,function(u,s){(function(o){o(Kn())})(function(o){o.defineOption("styleSelectedText",!1,function(B,H,q){var Q=q&&q!=o.Init;H&&!Q?(B.state.markedSelection=[],B.state.markedSelectionStyle=typeof H=="string"?H:"CodeMirror-selectedtext",A(B),B.on("cursorActivity",c),B.on("change",h)):!H&&Q&&(B.off("cursorActivity",c),B.off("change",h),D(B),B.state.markedSelection=B.state.markedSelectionStyle=null)});function c(B){B.state.markedSelection&&B.operation(function(){O(B)})}function h(B){B.state.markedSelection&&B.state.markedSelection.length&&B.operation(function(){D(B)})}var g=8,y=o.Pos,w=o.cmpPos;function S(B,H,q,Q){if(w(H,q)!=0)for(var te=B.state.markedSelection,K=B.state.markedSelectionStyle,X=H.line;;){var le=X==H.line?H:y(X,0),ne=X+g,se=ne>=q.line,we=se?q:y(ne,0),be=B.markText(le,we,{className:K});if(Q==null?te.push(be):te.splice(Q++,0,be),se)break;X=ne}}function D(B){for(var H=B.state.markedSelection,q=0;q<H.length;++q)H[q].clear();H.length=0}function A(B){D(B);for(var H=B.listSelections(),q=0;q<H.length;q++)S(B,H[q].from(),H[q].to())}function O(B){if(!B.somethingSelected())return D(B);if(B.listSelections().length>1)return A(B);var H=B.getCursor("start"),q=B.getCursor("end"),Q=B.state.markedSelection;if(!Q.length)return S(B,H,q);var te=Q[0].find(),K=Q[Q.length-1].find();if(!te||!K||q.line-H.line<=g||w(H,K.to)>=0||w(q,te.from)<=0)return A(B);for(;w(H,te.from)>0;)Q.shift().clear(),te=Q[0].find();for(w(H,te.from)<0&&(te.to.line-H.line<g?(Q.shift().clear(),S(B,H,te.to,0)):S(B,H,te.from,0));w(q,K.to)<0;)Q.pop().clear(),K=Q[Q.length-1].find();w(q,K.to)>0&&(q.line-K.from.line<g?(Q.pop().clear(),S(B,K.from,q)):S(B,K.to,q))}})}()),Wg.exports}var Ug={exports:{}},qg;function F2(){return qg||(qg=1,function(u,s){(function(o){o(Kn())})(function(o){var c=o.Pos;function h(X){var le=X.flags;return le??(X.ignoreCase?"i":"")+(X.global?"g":"")+(X.multiline?"m":"")}function g(X,le){for(var ne=h(X),se=ne,we=0;we<le.length;we++)se.indexOf(le.charAt(we))==-1&&(se+=le.charAt(we));return ne==se?X:new RegExp(X.source,se)}function y(X){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(X.source)}function w(X,le,ne){le=g(le,"g");for(var se=ne.line,we=ne.ch,be=X.lastLine();se<=be;se++,we=0){le.lastIndex=we;var ve=X.getLine(se),De=le.exec(ve);if(De)return{from:c(se,De.index),to:c(se,De.index+De[0].length),match:De}}}function S(X,le,ne){if(!y(le))return w(X,le,ne);le=g(le,"gm");for(var se,we=1,be=ne.line,ve=X.lastLine();be<=ve;){for(var De=0;De<we&&!(be>ve);De++){var Ge=X.getLine(be++);se=se==null?Ge:se+`
`+Ge}we=we*2,le.lastIndex=ne.ch;var Ie=le.exec(se);if(Ie){var Ue=se.slice(0,Ie.index).split(`
`),nt=Ie[0].split(`
`),rt=ne.line+Ue.length-1,ce=Ue[Ue.length-1].length;return{from:c(rt,ce),to:c(rt+nt.length-1,nt.length==1?ce+nt[0].length:nt[nt.length-1].length),match:Ie}}}}function D(X,le,ne){for(var se,we=0;we<=X.length;){le.lastIndex=we;var be=le.exec(X);if(!be)break;var ve=be.index+be[0].length;if(ve>X.length-ne)break;(!se||ve>se.index+se[0].length)&&(se=be),we=be.index+1}return se}function A(X,le,ne){le=g(le,"g");for(var se=ne.line,we=ne.ch,be=X.firstLine();se>=be;se--,we=-1){var ve=X.getLine(se),De=D(ve,le,we<0?0:ve.length-we);if(De)return{from:c(se,De.index),to:c(se,De.index+De[0].length),match:De}}}function O(X,le,ne){if(!y(le))return A(X,le,ne);le=g(le,"gm");for(var se,we=1,be=X.getLine(ne.line).length-ne.ch,ve=ne.line,De=X.firstLine();ve>=De;){for(var Ge=0;Ge<we&&ve>=De;Ge++){var Ie=X.getLine(ve--);se=se==null?Ie:Ie+`
`+se}we*=2;var Ue=D(se,le,be);if(Ue){var nt=se.slice(0,Ue.index).split(`
`),rt=Ue[0].split(`
`),ce=ve+nt.length,Pe=nt[nt.length-1].length;return{from:c(ce,Pe),to:c(ce+rt.length-1,rt.length==1?Pe+rt[0].length:rt[rt.length-1].length),match:Ue}}}}var B,H;String.prototype.normalize?(B=function(X){return X.normalize("NFD").toLowerCase()},H=function(X){return X.normalize("NFD")}):(B=function(X){return X.toLowerCase()},H=function(X){return X});function q(X,le,ne,se){if(X.length==le.length)return ne;for(var we=0,be=ne+Math.max(0,X.length-le.length);;){if(we==be)return we;var ve=we+be>>1,De=se(X.slice(0,ve)).length;if(De==ne)return ve;De>ne?be=ve:we=ve+1}}function Q(X,le,ne,se){if(!le.length)return null;var we=se?B:H,be=we(le).split(/\r|\n\r?/);e:for(var ve=ne.line,De=ne.ch,Ge=X.lastLine()+1-be.length;ve<=Ge;ve++,De=0){var Ie=X.getLine(ve).slice(De),Ue=we(Ie);if(be.length==1){var nt=Ue.indexOf(be[0]);if(nt==-1)continue e;var ne=q(Ie,Ue,nt,we)+De;return{from:c(ve,q(Ie,Ue,nt,we)+De),to:c(ve,q(Ie,Ue,nt+be[0].length,we)+De)}}else{var rt=Ue.length-be[0].length;if(Ue.slice(rt)!=be[0])continue e;for(var ce=1;ce<be.length-1;ce++)if(we(X.getLine(ve+ce))!=be[ce])continue e;var Pe=X.getLine(ve+be.length-1),Oe=we(Pe),Je=be[be.length-1];if(Oe.slice(0,Je.length)!=Je)continue e;return{from:c(ve,q(Ie,Ue,rt,we)+De),to:c(ve+be.length-1,q(Pe,Oe,Je.length,we))}}}}function te(X,le,ne,se){if(!le.length)return null;var we=se?B:H,be=we(le).split(/\r|\n\r?/);e:for(var ve=ne.line,De=ne.ch,Ge=X.firstLine()-1+be.length;ve>=Ge;ve--,De=-1){var Ie=X.getLine(ve);De>-1&&(Ie=Ie.slice(0,De));var Ue=we(Ie);if(be.length==1){var nt=Ue.lastIndexOf(be[0]);if(nt==-1)continue e;return{from:c(ve,q(Ie,Ue,nt,we)),to:c(ve,q(Ie,Ue,nt+be[0].length,we))}}else{var rt=be[be.length-1];if(Ue.slice(0,rt.length)!=rt)continue e;for(var ce=1,ne=ve-be.length+1;ce<be.length-1;ce++)if(we(X.getLine(ne+ce))!=be[ce])continue e;var Pe=X.getLine(ve+1-be.length),Oe=we(Pe);if(Oe.slice(Oe.length-be[0].length)!=be[0])continue e;return{from:c(ve+1-be.length,q(Pe,Oe,Pe.length-be[0].length,we)),to:c(ve,q(Ie,Ue,rt.length,we))}}}}function K(X,le,ne,se){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=X,ne=ne?X.clipPos(ne):c(0,0),this.pos={from:ne,to:ne};var we;typeof se=="object"?we=se.caseFold:(we=se,se=null),typeof le=="string"?(we==null&&(we=!1),this.matches=function(be,ve){return(be?te:Q)(X,le,ve,we)}):(le=g(le,"gm"),!se||se.multiline!==!1?this.matches=function(be,ve){return(be?O:S)(X,le,ve)}:this.matches=function(be,ve){return(be?A:w)(X,le,ve)})}K.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(X){var le=this.doc.clipPos(X?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(le=c(le.line,le.ch),X?(le.ch--,le.ch<0&&(le.line--,le.ch=(this.doc.getLine(le.line)||"").length)):(le.ch++,le.ch>(this.doc.getLine(le.line)||"").length&&(le.ch=0,le.line++)),o.cmpPos(le,this.doc.clipPos(le))!=0))return this.atOccurrence=!1;var ne=this.matches(X,le);if(this.afterEmptyMatch=ne&&o.cmpPos(ne.from,ne.to)==0,ne)return this.pos=ne,this.atOccurrence=!0,this.pos.match||!0;var se=c(X?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:se,to:se},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(X,le){if(this.atOccurrence){var ne=o.splitLines(X);this.doc.replaceRange(ne,this.pos.from,this.pos.to,le),this.pos.to=c(this.pos.from.line+ne.length-1,ne[ne.length-1].length+(ne.length==1?this.pos.from.ch:0))}}},o.defineExtension("getSearchCursor",function(X,le,ne){return new K(this.doc,X,le,ne)}),o.defineDocExtension("getSearchCursor",function(X,le,ne){return new K(this,X,le,ne)}),o.defineExtension("selectMatches",function(X,le){for(var ne=[],se=this.getSearchCursor(X,this.getCursor("from"),le);se.findNext()&&!(o.cmpPos(se.to(),this.getCursor("to"))>0);)ne.push({anchor:se.from(),head:se.to()});ne.length&&this.setSelections(ne,0)})})}()),Ug.exports}var Yg={exports:{}},Gg;function I2(){return Gg||(Gg=1,function(u,s){(function(o){o(Kn(),Cv(),xv())})(function(o){var c=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;o.defineMode("gfm",function(h,g){var y=0;function w(O){return O.code=!1,null}var S={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(O){return{code:O.code,codeBlock:O.codeBlock,ateSpace:O.ateSpace}},token:function(O,B){if(B.combineTokens=null,B.codeBlock)return O.match(/^```+/)?(B.codeBlock=!1,null):(O.skipToEnd(),null);if(O.sol()&&(B.code=!1),O.sol()&&O.match(/^```+/))return O.skipToEnd(),B.codeBlock=!0,null;if(O.peek()==="`"){O.next();var H=O.pos;O.eatWhile("`");var q=1+O.pos-H;return B.code?q===y&&(B.code=!1):(y=q,B.code=!0),null}else if(B.code)return O.next(),null;if(O.eatSpace())return B.ateSpace=!0,null;if((O.sol()||B.ateSpace)&&(B.ateSpace=!1,g.gitHubSpice!==!1)){if(O.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return B.combineTokens=!0,"link";if(O.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return B.combineTokens=!0,"link"}return O.match(c)&&O.string.slice(O.start-2,O.start)!="]("&&(O.start==0||/\W/.test(O.string.charAt(O.start-1)))?(B.combineTokens=!0,"link"):(O.next(),null)},blankLine:w},D={taskLists:!0,strikethrough:!0,emoji:!0};for(var A in g)D[A]=g[A];return D.name="markdown",o.overlayMode(o.getMode(h,D),S)},"markdown"),o.defineMIME("text/x-gfm","gfm")})}()),Yg.exports}function L2(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rf={exports:{}};const O2={},P2=Object.freeze(Object.defineProperty({__proto__:null,default:O2},Symbol.toStringTag,{value:"Module"})),B2=x2(P2);var Xg;function N2(){return Xg||(Xg=1,function(u){var s;(function(){s=function(o,c,h,g){g=g||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=g.flags||{},this.memoized={},this.loaded=!1;var y=this,w,S,D,A,O;if(o)if(y.dictionary=o,c&&h)te();else if(typeof window<"u"&&(window.chrome||window.browser)){var B=window.chrome&&window.chrome.runtime?window.chrome.runtime:browser.runtime;g.dictionaryPath?w=g.dictionaryPath:w="typo/dictionaries",c||H(B.getURL(w+"/"+o+"/"+o+".aff"),q),h||H(B.getURL(w+"/"+o+"/"+o+".dic"),Q)}else g.dictionaryPath?w=g.dictionaryPath:typeof __dirname<"u"?w=__dirname+"/dictionaries":w="./dictionaries",c||H(w+"/"+o+"/"+o+".aff",q),h||H(w+"/"+o+"/"+o+".dic",Q);function H(K,X){var le=y._readFile(K,null,g==null?void 0:g.asyncLoad);g!=null&&g.asyncLoad?le.then(function(ne){X(ne)}):X(le)}function q(K){c=K,h&&te()}function Q(K){h=K,c&&te()}function te(){for(y.rules=y._parseAFF(c),y.compoundRuleCodes={},S=0,A=y.compoundRules.length;S<A;S++){var K=y.compoundRules[S];for(D=0,O=K.length;D<O;D++)y.compoundRuleCodes[K[D]]=[]}"ONLYINCOMPOUND"in y.flags&&(y.compoundRuleCodes[y.flags.ONLYINCOMPOUND]=[]),y.dictionaryTable=y._parseDIC(h);for(S in y.compoundRuleCodes)y.compoundRuleCodes[S].length===0&&delete y.compoundRuleCodes[S];for(S=0,A=y.compoundRules.length;S<A;S++){var X=y.compoundRules[S],le="";for(D=0,O=X.length;D<O;D++){var ne=X[D];ne in y.compoundRuleCodes?le+="("+y.compoundRuleCodes[ne].join("|")+")":le+=ne}y.compoundRules[S]=new RegExp("^"+le+"$","i")}y.loaded=!0,g!=null&&g.asyncLoad&&(g!=null&&g.loadedCallback)&&g.loadedCallback(y)}return this},s.prototype={load:function(o){for(var c in o)o.hasOwnProperty(c)&&(this[c]=o[c]);return this},_readFile:function(o,c,h){var g;if(c=c||"utf8",typeof XMLHttpRequest<"u"){var y=new XMLHttpRequest;if(y.open("GET",o,!!h),(g=y.overrideMimeType)===null||g===void 0||g.call(y,"text/plain; charset="+c),h){var w=new Promise(function(D,A){y.onload=function(){y.status===200?D(y.responseText):A(y.statusText)},y.onerror=function(){A(y.statusText)}});return y.send(null),w}else return y.send(null),y.responseText}else if(typeof L2<"u"){var S=B2;try{if(S.existsSync(o))return S.readFileSync(o,c);console.log("Path "+o+" does not exist.")}catch(D){console.log(D)}return""}return""},_parseAFF:function(o){var c={},h,g,y,w,S,D,A,O,B=o.split(/\r?\n/);for(S=0,A=B.length;S<A;S++)if(h=this._removeAffixComments(B[S]),h=h.trim(),!!h){var H=h.split(/\s+/),q=H[0];if(q==="PFX"||q==="SFX"){var Q=H[1],te=H[2];y=parseInt(H[3],10);var K=[];for(D=S+1,O=S+1+y;D<O;D++){g=B[D],w=g.split(/\s+/);var X=w[2],le=w[3].split("/"),ne=le[0];ne==="0"&&(ne="");var se=this.parseRuleCodes(le[1]),we=w[4],be={add:ne};se.length>0&&(be.continuationClasses=se),we!=="."&&(q==="SFX"?be.match=new RegExp(we+"$"):be.match=new RegExp("^"+we)),X!="0"&&(q==="SFX"?be.remove=new RegExp(X+"$"):be.remove=X),K.push(be)}c[Q]={type:q,combineable:te==="Y",entries:K},S+=y}else if(q==="COMPOUNDRULE"){for(y=parseInt(H[1],10),D=S+1,O=S+1+y;D<O;D++)h=B[D],w=h.split(/\s+/),this.compoundRules.push(w[1]);S+=y}else q==="REP"?(w=h.split(/\s+/),w.length===3&&this.replacementTable.push([w[1],w[2]])):this.flags[q]=H[1]}return c},_removeAffixComments:function(o){return o.match(/^\s*#/)?"":o},_parseDIC:function(o){o=this._removeDicComments(o);var c=o.split(/\r?\n/),h={};function g(Ie,Ue){h.hasOwnProperty(Ie)||(h[Ie]=null),Ue.length>0&&(h[Ie]===null&&(h[Ie]=[]),h[Ie].push(Ue))}for(var y=1,w=c.length;y<w;y++){var S=c[y];if(S){var D=S.split("/",2),A=D[0];if(D.length>1){var O=this.parseRuleCodes(D[1]);(!("NEEDAFFIX"in this.flags)||O.indexOf(this.flags.NEEDAFFIX)===-1)&&g(A,O);for(var B=0,H=O.length;B<H;B++){var q=O[B],Q=this.rules[q];if(Q)for(var te=this._applyRule(A,Q),K=0,X=te.length;K<X;K++){var le=te[K];if(g(le,[]),Q.combineable)for(var ne=B+1;ne<H;ne++){var se=O[ne],we=this.rules[se];if(we&&we.combineable&&Q.type!=we.type)for(var be=this._applyRule(le,we),ve=0,De=be.length;ve<De;ve++){var Ge=be[ve];g(Ge,[])}}}q in this.compoundRuleCodes&&this.compoundRuleCodes[q].push(A)}}else g(A.trim(),[])}}return h},_removeDicComments:function(o){return o=o.replace(/^\t.*$/mg,""),o},parseRuleCodes:function(o){if(o)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var c=[],h=0,g=o.length;h<g;h+=2)c.push(o.substr(h,2));return c}else return this.flags.FLAG==="num"?o.split(","):this.flags.FLAG==="UTF-8"?Array.from(o):o.split("");else return o.split("");else return[]},_applyRule:function(o,c){for(var h=c.entries,g=[],y=0,w=h.length;y<w;y++){var S=h[y];if(!S.match||o.match(S.match)){var D=o;if(S.remove&&(D=D.replace(S.remove,"")),c.type==="SFX"?D=D+S.add:D=S.add+D,g.push(D),"continuationClasses"in S)for(var A=0,O=S.continuationClasses.length;A<O;A++){var B=this.rules[S.continuationClasses[A]];B&&(g=g.concat(this._applyRule(D,B)))}}}return g},check:function(o){if(!this.loaded)throw"Dictionary not loaded.";if(!o)return!1;var c=o.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(c))return!0;if(c.toUpperCase()===c){var h=c[0]+c.substring(1).toLowerCase();if(this.hasFlag(h,"KEEPCASE"))return!1;if(this.checkExact(h)||this.checkExact(c.toLowerCase()))return!0}var g=c[0].toLowerCase()+c.substring(1);if(g!==c){if(this.hasFlag(g,"KEEPCASE"))return!1;if(this.checkExact(g))return!0}return!1},checkExact:function(o){if(!this.loaded)throw"Dictionary not loaded.";var c=this.dictionaryTable[o],h,g;if(typeof c>"u"){if("COMPOUNDMIN"in this.flags&&o.length>=this.flags.COMPOUNDMIN){for(h=0,g=this.compoundRules.length;h<g;h++)if(o.match(this.compoundRules[h]))return!0}}else{if(c===null)return!0;if(typeof c=="object"){for(h=0,g=c.length;h<g;h++)if(!this.hasFlag(o,"ONLYINCOMPOUND",c[h]))return!0}}return!1},hasFlag:function(o,c,h){if(!this.loaded)throw"Dictionary not loaded.";return!!(c in this.flags&&(typeof h>"u"&&(h=Array.prototype.concat.apply([],this.dictionaryTable[o])),h&&h.indexOf(this.flags[c])!==-1))},alphabet:"",suggest:function(o,c){if(!this.loaded)throw"Dictionary not loaded.";if(c=c||5,this.memoized.hasOwnProperty(o)){var h=this.memoized[o].limit;if(c<=h||this.memoized[o].suggestions.length<h)return this.memoized[o].suggestions.slice(0,c)}if(this.check(o))return[];for(var g=0,y=this.replacementTable.length;g<y;g++){var w=this.replacementTable[g];if(o.indexOf(w[0])!==-1){var S=o.replace(w[0],w[1]);if(this.check(S))return[S]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var D=this.alphabet.split("");D.sort();for(var A={},g=0;g<D.length;g++)A[D[g]]=!0;this.alphabet="";for(var g in A)this.alphabet+=g}var O=this;function B(q,Q){var te={},K,X,le,ne,se=O.alphabet.length;for(var we in q)for(K=0,le=we.length+1;K<le;K++){var be=[we.substring(0,K),we.substring(K)];if(be[1]&&(ne=be[0]+be[1].substring(1),(!Q||O.check(ne))&&(ne in te?te[ne]+=1:te[ne]=1)),be[1].length>1&&be[1][1]!==be[1][0]&&(ne=be[0]+be[1][1]+be[1][0]+be[1].substring(2),(!Q||O.check(ne))&&(ne in te?te[ne]+=1:te[ne]=1)),be[1]){var ve=be[1].substring(0,1).toUpperCase()===be[1].substring(0,1)?"uppercase":"lowercase";for(X=0;X<se;X++){var De=O.alphabet[X];ve==="uppercase"&&(De=De.toUpperCase()),De!=be[1].substring(0,1)&&(ne=be[0]+De+be[1].substring(1),(!Q||O.check(ne))&&(ne in te?te[ne]+=1:te[ne]=1))}}if(be[1])for(X=0;X<se;X++){var ve=be[0].substring(-1).toUpperCase()===be[0].substring(-1)&&be[1].substring(0,1).toUpperCase()===be[1].substring(0,1)?"uppercase":"lowercase",De=O.alphabet[X];ve==="uppercase"&&(De=De.toUpperCase()),ne=be[0]+De+be[1],(!Q||O.check(ne))&&(ne in te?te[ne]+=1:te[ne]=1)}}return te}function H(q){var Q,te=B((Q={},Q[q]=!0,Q)),K=B(te,!0),X=K;for(var le in te)O.check(le)&&(le in X?X[le]+=te[le]:X[le]=te[le]);var ne,se=[];for(ne in X)X.hasOwnProperty(ne)&&se.push([ne,X[ne]]);function we(Ge,Ie){var Ue=Ge[1],nt=Ie[1];return Ue<nt?-1:Ue>nt?1:Ie[0].localeCompare(Ge[0])}se.sort(we).reverse();var be=[],ve="lowercase";q.toUpperCase()===q?ve="uppercase":q.substr(0,1).toUpperCase()+q.substr(1).toLowerCase()===q&&(ve="capitalized");var De=c;for(ne=0;ne<Math.min(De,se.length);ne++)ve==="uppercase"?se[ne][0]=se[ne][0].toUpperCase():ve==="capitalized"&&(se[ne][0]=se[ne][0].substr(0,1).toUpperCase()+se[ne][0].substr(1)),!O.hasFlag(se[ne][0],"NOSUGGEST")&&be.indexOf(se[ne][0])===-1?be.push(se[ne][0]):De++;return be}return this.memoized[o]={suggestions:H(o),limit:c},this.memoized[o].suggestions}}})(),u.exports=s}(Rf)),Rf.exports}var zf,Kg;function R2(){if(Kg)return zf;Kg=1;var u=N2();function s(o){if(o=o||{},typeof o.codeMirrorInstance!="function"||typeof o.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),o.codeMirrorInstance.defineMode("spell-checker",function(c){if(!s.aff_loading){s.aff_loading=!0;var h=new XMLHttpRequest;h.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),h.onload=function(){h.readyState===4&&h.status===200&&(s.aff_data=h.responseText,s.num_loaded++,s.num_loaded==2&&(s.typo=new u("en_US",s.aff_data,s.dic_data,{platform:"any"})))},h.send(null)}if(!s.dic_loading){s.dic_loading=!0;var g=new XMLHttpRequest;g.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),g.onload=function(){g.readyState===4&&g.status===200&&(s.dic_data=g.responseText,s.num_loaded++,s.num_loaded==2&&(s.typo=new u("en_US",s.aff_data,s.dic_data,{platform:"any"})))},g.send(null)}var y='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',w={token:function(D){var A=D.peek(),O="";if(y.includes(A))return D.next(),null;for(;(A=D.peek())!=null&&!y.includes(A);)O+=A,D.next();return s.typo&&!s.typo.check(O)?"spell-error":null}},S=o.codeMirrorInstance.getMode(c,c.backdrop||"text/plain");return o.codeMirrorInstance.overlayMode(S,w,!0)})}return s.num_loaded=0,s.aff_loading=!1,s.dic_loading=!1,s.aff_data="",s.dic_data="",s.typo,zf=s,zf}var Hf={},Zg;function z2(){return Zg||(Zg=1,function(u){function s(xe,ke){for(var me=0;me<ke.length;me++){var j=ke[me];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(xe,S(j.key),j)}}function o(xe,ke,me){return me&&s(xe,me),Object.defineProperty(xe,"prototype",{writable:!1}),xe}function c(){return c=Object.assign?Object.assign.bind():function(xe){for(var ke=1;ke<arguments.length;ke++){var me=arguments[ke];for(var j in me)Object.prototype.hasOwnProperty.call(me,j)&&(xe[j]=me[j])}return xe},c.apply(this,arguments)}function h(xe,ke){if(xe){if(typeof xe=="string")return g(xe,ke);var me=Object.prototype.toString.call(xe).slice(8,-1);if(me==="Object"&&xe.constructor&&(me=xe.constructor.name),me==="Map"||me==="Set")return Array.from(xe);if(me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me))return g(xe,ke)}}function g(xe,ke){(ke==null||ke>xe.length)&&(ke=xe.length);for(var me=0,j=new Array(ke);me<ke;me++)j[me]=xe[me];return j}function y(xe,ke){var me=typeof Symbol<"u"&&xe[Symbol.iterator]||xe["@@iterator"];if(me)return(me=me.call(xe)).next.bind(me);if(Array.isArray(xe)||(me=h(xe))||ke){me&&(xe=me);var j=0;return function(){return j>=xe.length?{done:!0}:{done:!1,value:xe[j++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(xe,ke){if(typeof xe!="object"||xe===null)return xe;var me=xe[Symbol.toPrimitive];if(me!==void 0){var j=me.call(xe,ke);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(xe)}function S(xe){var ke=w(xe,"string");return typeof ke=="symbol"?ke:String(ke)}function D(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}u.defaults=D();function A(xe){u.defaults=xe}var O=/[&<>"']/,B=new RegExp(O.source,"g"),H=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,q=new RegExp(H.source,"g"),Q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},te=function(ke){return Q[ke]};function K(xe,ke){if(ke){if(O.test(xe))return xe.replace(B,te)}else if(H.test(xe))return xe.replace(q,te);return xe}var X=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function le(xe){return xe.replace(X,function(ke,me){return me=me.toLowerCase(),me==="colon"?":":me.charAt(0)==="#"?me.charAt(1)==="x"?String.fromCharCode(parseInt(me.substring(2),16)):String.fromCharCode(+me.substring(1)):""})}var ne=/(^|[^\[])\^/g;function se(xe,ke){xe=typeof xe=="string"?xe:xe.source,ke=ke||"";var me={replace:function(V,he){return he=he.source||he,he=he.replace(ne,"$1"),xe=xe.replace(V,he),me},getRegex:function(){return new RegExp(xe,ke)}};return me}var we=/[^\w:]/g,be=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ve(xe,ke,me){if(xe){var j;try{j=decodeURIComponent(le(me)).replace(we,"").toLowerCase()}catch{return null}if(j.indexOf("javascript:")===0||j.indexOf("vbscript:")===0||j.indexOf("data:")===0)return null}ke&&!be.test(me)&&(me=nt(ke,me));try{me=encodeURI(me).replace(/%25/g,"%")}catch{return null}return me}var De={},Ge=/^[^:]+:\/*[^/]*$/,Ie=/^([^:]+:)[\s\S]*$/,Ue=/^([^:]+:\/*[^/]*)[\s\S]*$/;function nt(xe,ke){De[" "+xe]||(Ge.test(xe)?De[" "+xe]=xe+"/":De[" "+xe]=Pe(xe,"/",!0)),xe=De[" "+xe];var me=xe.indexOf(":")===-1;return ke.substring(0,2)==="//"?me?ke:xe.replace(Ie,"$1")+ke:ke.charAt(0)==="/"?me?ke:xe.replace(Ue,"$1")+ke:xe+ke}var rt={exec:function(){}};function ce(xe,ke){var me=xe.replace(/\|/g,function(he,I,R){for(var J=!1,oe=I;--oe>=0&&R[oe]==="\\";)J=!J;return J?"|":" |"}),j=me.split(/ \|/),V=0;if(j[0].trim()||j.shift(),j.length>0&&!j[j.length-1].trim()&&j.pop(),j.length>ke)j.splice(ke);else for(;j.length<ke;)j.push("");for(;V<j.length;V++)j[V]=j[V].trim().replace(/\\\|/g,"|");return j}function Pe(xe,ke,me){var j=xe.length;if(j===0)return"";for(var V=0;V<j;){var he=xe.charAt(j-V-1);if(he===ke&&!me)V++;else if(he!==ke&&me)V++;else break}return xe.slice(0,j-V)}function Oe(xe,ke){if(xe.indexOf(ke[1])===-1)return-1;for(var me=xe.length,j=0,V=0;V<me;V++)if(xe[V]==="\\")V++;else if(xe[V]===ke[0])j++;else if(xe[V]===ke[1]&&(j--,j<0))return V;return-1}function Je(xe){xe&&xe.sanitize&&!xe.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function mt(xe,ke){if(ke<1)return"";for(var me="";ke>1;)ke&1&&(me+=xe),ke>>=1,xe+=xe;return me+xe}function Ht(xe,ke,me,j){var V=ke.href,he=ke.title?K(ke.title):null,I=xe[1].replace(/\\([\[\]])/g,"$1");if(xe[0].charAt(0)!=="!"){j.state.inLink=!0;var R={type:"link",raw:me,href:V,title:he,text:I,tokens:j.inlineTokens(I)};return j.state.inLink=!1,R}return{type:"image",raw:me,href:V,title:he,text:K(I)}}function Zi(xe,ke){var me=xe.match(/^(\s+)(?:```)/);if(me===null)return ke;var j=me[1];return ke.split(`
`).map(function(V){var he=V.match(/^\s+/);if(he===null)return V;var I=he[0];return I.length>=j.length?V.slice(j.length):V}).join(`
`)}var ue=function(){function xe(me){this.options=me||u.defaults}var ke=xe.prototype;return ke.space=function(j){var V=this.rules.block.newline.exec(j);if(V&&V[0].length>0)return{type:"space",raw:V[0]}},ke.code=function(j){var V=this.rules.block.code.exec(j);if(V){var he=V[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:V[0],codeBlockStyle:"indented",text:this.options.pedantic?he:Pe(he,`
`)}}},ke.fences=function(j){var V=this.rules.block.fences.exec(j);if(V){var he=V[0],I=Zi(he,V[3]||"");return{type:"code",raw:he,lang:V[2]?V[2].trim().replace(this.rules.inline._escapes,"$1"):V[2],text:I}}},ke.heading=function(j){var V=this.rules.block.heading.exec(j);if(V){var he=V[2].trim();if(/#$/.test(he)){var I=Pe(he,"#");(this.options.pedantic||!I||/ $/.test(I))&&(he=I.trim())}return{type:"heading",raw:V[0],depth:V[1].length,text:he,tokens:this.lexer.inline(he)}}},ke.hr=function(j){var V=this.rules.block.hr.exec(j);if(V)return{type:"hr",raw:V[0]}},ke.blockquote=function(j){var V=this.rules.block.blockquote.exec(j);if(V){var he=V[0].replace(/^ *>[ \t]?/gm,""),I=this.lexer.state.top;this.lexer.state.top=!0;var R=this.lexer.blockTokens(he);return this.lexer.state.top=I,{type:"blockquote",raw:V[0],tokens:R,text:he}}},ke.list=function(j){var V=this.rules.block.list.exec(j);if(V){var he,I,R,J,oe,de,Ce,fe,re,_e,ge,je,Qe=V[1].trim(),et=Qe.length>1,We={type:"list",raw:"",ordered:et,start:et?+Qe.slice(0,-1):"",loose:!1,items:[]};Qe=et?"\\d{1,9}\\"+Qe.slice(-1):"\\"+Qe,this.options.pedantic&&(Qe=et?Qe:"[*+-]");for(var gt=new RegExp("^( {0,3}"+Qe+")((?:[	 ][^\\n]*)?(?:\\n|$))");j&&(je=!1,!(!(V=gt.exec(j))||this.rules.block.hr.test(j)));){if(he=V[0],j=j.substring(he.length),fe=V[2].split(`
`,1)[0].replace(/^\t+/,function(qi){return" ".repeat(3*qi.length)}),re=j.split(`
`,1)[0],this.options.pedantic?(J=2,ge=fe.trimLeft()):(J=V[2].search(/[^ ]/),J=J>4?1:J,ge=fe.slice(J),J+=V[1].length),de=!1,!fe&&/^ *$/.test(re)&&(he+=re+`
`,j=j.substring(re.length+1),je=!0),!je)for(var _t=new RegExp("^ {0,"+Math.min(3,J-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),xt=new RegExp("^ {0,"+Math.min(3,J-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),ft=new RegExp("^ {0,"+Math.min(3,J-1)+"}(?:```|~~~)"),Vt=new RegExp("^ {0,"+Math.min(3,J-1)+"}#");j&&(_e=j.split(`
`,1)[0],re=_e,this.options.pedantic&&(re=re.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ft.test(re)||Vt.test(re)||_t.test(re)||xt.test(j)));){if(re.search(/[^ ]/)>=J||!re.trim())ge+=`
`+re.slice(J);else{if(de||fe.search(/[^ ]/)>=4||ft.test(fe)||Vt.test(fe)||xt.test(fe))break;ge+=`
`+re}!de&&!re.trim()&&(de=!0),he+=_e+`
`,j=j.substring(_e.length+1),fe=re.slice(J)}We.loose||(Ce?We.loose=!0:/\n *\n *$/.test(he)&&(Ce=!0)),this.options.gfm&&(I=/^\[[ xX]\] /.exec(ge),I&&(R=I[0]!=="[ ] ",ge=ge.replace(/^\[[ xX]\] +/,""))),We.items.push({type:"list_item",raw:he,task:!!I,checked:R,loose:!1,text:ge}),We.raw+=he}We.items[We.items.length-1].raw=he.trimRight(),We.items[We.items.length-1].text=ge.trimRight(),We.raw=We.raw.trimRight();var Wt=We.items.length;for(oe=0;oe<Wt;oe++)if(this.lexer.state.top=!1,We.items[oe].tokens=this.lexer.blockTokens(We.items[oe].text,[]),!We.loose){var fi=We.items[oe].tokens.filter(function(qi){return qi.type==="space"}),Ji=fi.length>0&&fi.some(function(qi){return/\n.*\n/.test(qi.raw)});We.loose=Ji}if(We.loose)for(oe=0;oe<Wt;oe++)We.items[oe].loose=!0;return We}},ke.html=function(j){var V=this.rules.block.html.exec(j);if(V){var he={type:"html",raw:V[0],pre:!this.options.sanitizer&&(V[1]==="pre"||V[1]==="script"||V[1]==="style"),text:V[0]};if(this.options.sanitize){var I=this.options.sanitizer?this.options.sanitizer(V[0]):K(V[0]);he.type="paragraph",he.text=I,he.tokens=this.lexer.inline(I)}return he}},ke.def=function(j){var V=this.rules.block.def.exec(j);if(V){var he=V[1].toLowerCase().replace(/\s+/g," "),I=V[2]?V[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",R=V[3]?V[3].substring(1,V[3].length-1).replace(this.rules.inline._escapes,"$1"):V[3];return{type:"def",tag:he,raw:V[0],href:I,title:R}}},ke.table=function(j){var V=this.rules.block.table.exec(j);if(V){var he={type:"table",header:ce(V[1]).map(function(Ce){return{text:Ce}}),align:V[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:V[3]&&V[3].trim()?V[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(he.header.length===he.align.length){he.raw=V[0];var I=he.align.length,R,J,oe,de;for(R=0;R<I;R++)/^ *-+: *$/.test(he.align[R])?he.align[R]="right":/^ *:-+: *$/.test(he.align[R])?he.align[R]="center":/^ *:-+ *$/.test(he.align[R])?he.align[R]="left":he.align[R]=null;for(I=he.rows.length,R=0;R<I;R++)he.rows[R]=ce(he.rows[R],he.header.length).map(function(Ce){return{text:Ce}});for(I=he.header.length,J=0;J<I;J++)he.header[J].tokens=this.lexer.inline(he.header[J].text);for(I=he.rows.length,J=0;J<I;J++)for(de=he.rows[J],oe=0;oe<de.length;oe++)de[oe].tokens=this.lexer.inline(de[oe].text);return he}}},ke.lheading=function(j){var V=this.rules.block.lheading.exec(j);if(V)return{type:"heading",raw:V[0],depth:V[2].charAt(0)==="="?1:2,text:V[1],tokens:this.lexer.inline(V[1])}},ke.paragraph=function(j){var V=this.rules.block.paragraph.exec(j);if(V){var he=V[1].charAt(V[1].length-1)===`
`?V[1].slice(0,-1):V[1];return{type:"paragraph",raw:V[0],text:he,tokens:this.lexer.inline(he)}}},ke.text=function(j){var V=this.rules.block.text.exec(j);if(V)return{type:"text",raw:V[0],text:V[0],tokens:this.lexer.inline(V[0])}},ke.escape=function(j){var V=this.rules.inline.escape.exec(j);if(V)return{type:"escape",raw:V[0],text:K(V[1])}},ke.tag=function(j){var V=this.rules.inline.tag.exec(j);if(V)return!this.lexer.state.inLink&&/^<a /i.test(V[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(V[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(V[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(V[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:V[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(V[0]):K(V[0]):V[0]}},ke.link=function(j){var V=this.rules.inline.link.exec(j);if(V){var he=V[2].trim();if(!this.options.pedantic&&/^</.test(he)){if(!/>$/.test(he))return;var I=Pe(he.slice(0,-1),"\\");if((he.length-I.length)%2===0)return}else{var R=Oe(V[2],"()");if(R>-1){var J=V[0].indexOf("!")===0?5:4,oe=J+V[1].length+R;V[2]=V[2].substring(0,R),V[0]=V[0].substring(0,oe).trim(),V[3]=""}}var de=V[2],Ce="";if(this.options.pedantic){var fe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(de);fe&&(de=fe[1],Ce=fe[3])}else Ce=V[3]?V[3].slice(1,-1):"";return de=de.trim(),/^</.test(de)&&(this.options.pedantic&&!/>$/.test(he)?de=de.slice(1):de=de.slice(1,-1)),Ht(V,{href:de&&de.replace(this.rules.inline._escapes,"$1"),title:Ce&&Ce.replace(this.rules.inline._escapes,"$1")},V[0],this.lexer)}},ke.reflink=function(j,V){var he;if((he=this.rules.inline.reflink.exec(j))||(he=this.rules.inline.nolink.exec(j))){var I=(he[2]||he[1]).replace(/\s+/g," ");if(I=V[I.toLowerCase()],!I){var R=he[0].charAt(0);return{type:"text",raw:R,text:R}}return Ht(he,I,he[0],this.lexer)}},ke.emStrong=function(j,V,he){he===void 0&&(he="");var I=this.rules.inline.emStrong.lDelim.exec(j);if(I&&!(I[3]&&he.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var R=I[1]||I[2]||"";if(!R||R&&(he===""||this.rules.inline.punctuation.exec(he))){var J=I[0].length-1,oe,de,Ce=J,fe=0,re=I[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(re.lastIndex=0,V=V.slice(-1*j.length+J);(I=re.exec(V))!=null;)if(oe=I[1]||I[2]||I[3]||I[4]||I[5]||I[6],!!oe){if(de=oe.length,I[3]||I[4]){Ce+=de;continue}else if((I[5]||I[6])&&J%3&&!((J+de)%3)){fe+=de;continue}if(Ce-=de,!(Ce>0)){de=Math.min(de,de+Ce+fe);var _e=j.slice(0,J+I.index+(I[0].length-oe.length)+de);if(Math.min(J,de)%2){var ge=_e.slice(1,-1);return{type:"em",raw:_e,text:ge,tokens:this.lexer.inlineTokens(ge)}}var je=_e.slice(2,-2);return{type:"strong",raw:_e,text:je,tokens:this.lexer.inlineTokens(je)}}}}}},ke.codespan=function(j){var V=this.rules.inline.code.exec(j);if(V){var he=V[2].replace(/\n/g," "),I=/[^ ]/.test(he),R=/^ /.test(he)&&/ $/.test(he);return I&&R&&(he=he.substring(1,he.length-1)),he=K(he,!0),{type:"codespan",raw:V[0],text:he}}},ke.br=function(j){var V=this.rules.inline.br.exec(j);if(V)return{type:"br",raw:V[0]}},ke.del=function(j){var V=this.rules.inline.del.exec(j);if(V)return{type:"del",raw:V[0],text:V[2],tokens:this.lexer.inlineTokens(V[2])}},ke.autolink=function(j,V){var he=this.rules.inline.autolink.exec(j);if(he){var I,R;return he[2]==="@"?(I=K(this.options.mangle?V(he[1]):he[1]),R="mailto:"+I):(I=K(he[1]),R=I),{type:"link",raw:he[0],text:I,href:R,tokens:[{type:"text",raw:I,text:I}]}}},ke.url=function(j,V){var he;if(he=this.rules.inline.url.exec(j)){var I,R;if(he[2]==="@")I=K(this.options.mangle?V(he[0]):he[0]),R="mailto:"+I;else{var J;do J=he[0],he[0]=this.rules.inline._backpedal.exec(he[0])[0];while(J!==he[0]);I=K(he[0]),he[1]==="www."?R="http://"+he[0]:R=he[0]}return{type:"link",raw:he[0],text:I,href:R,tokens:[{type:"text",raw:I,text:I}]}}},ke.inlineText=function(j,V){var he=this.rules.inline.text.exec(j);if(he){var I;return this.lexer.state.inRawBlock?I=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(he[0]):K(he[0]):he[0]:I=K(this.options.smartypants?V(he[0]):he[0]),{type:"text",raw:he[0],text:I}}},xe}(),$={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:rt,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};$._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,$._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,$.def=se($.def).replace("label",$._label).replace("title",$._title).getRegex(),$.bullet=/(?:[*+-]|\d{1,9}[.)])/,$.listItemStart=se(/^( *)(bull) */).replace("bull",$.bullet).getRegex(),$.list=se($.list).replace(/bull/g,$.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+$.def.source+")").getRegex(),$._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,$.html=se($.html,"i").replace("comment",$._comment).replace("tag",$._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$.paragraph=se($._paragraph).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex(),$.blockquote=se($.blockquote).replace("paragraph",$.paragraph).getRegex(),$.normal=c({},$),$.gfm=c({},$.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),$.gfm.table=se($.gfm.table).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex(),$.gfm.paragraph=se($._paragraph).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",$.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex(),$.pedantic=c({},$.normal,{html:se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:rt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:se($.normal._paragraph).replace("hr",$.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",$.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Te={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:rt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:rt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Te._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Te.punctuation=se(Te.punctuation).replace(/punctuation/g,Te._punctuation).getRegex(),Te.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Te.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Te._comment=se($._comment).replace("(?:-->|$)","-->").getRegex(),Te.emStrong.lDelim=se(Te.emStrong.lDelim).replace(/punct/g,Te._punctuation).getRegex(),Te.emStrong.rDelimAst=se(Te.emStrong.rDelimAst,"g").replace(/punct/g,Te._punctuation).getRegex(),Te.emStrong.rDelimUnd=se(Te.emStrong.rDelimUnd,"g").replace(/punct/g,Te._punctuation).getRegex(),Te._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Te._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Te._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Te.autolink=se(Te.autolink).replace("scheme",Te._scheme).replace("email",Te._email).getRegex(),Te._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Te.tag=se(Te.tag).replace("comment",Te._comment).replace("attribute",Te._attribute).getRegex(),Te._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Te._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Te._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Te.link=se(Te.link).replace("label",Te._label).replace("href",Te._href).replace("title",Te._title).getRegex(),Te.reflink=se(Te.reflink).replace("label",Te._label).replace("ref",$._label).getRegex(),Te.nolink=se(Te.nolink).replace("ref",$._label).getRegex(),Te.reflinkSearch=se(Te.reflinkSearch,"g").replace("reflink",Te.reflink).replace("nolink",Te.nolink).getRegex(),Te.normal=c({},Te),Te.pedantic=c({},Te.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:se(/^!?\[(label)\]\((.*?)\)/).replace("label",Te._label).getRegex(),reflink:se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Te._label).getRegex()}),Te.gfm=c({},Te.normal,{escape:se(Te.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Te.gfm.url=se(Te.gfm.url,"i").replace("email",Te.gfm._extended_email).getRegex(),Te.breaks=c({},Te.gfm,{br:se(Te.br).replace("{2,}","*").getRegex(),text:se(Te.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function yt(xe){return xe.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ot(xe){var ke="",me,j,V=xe.length;for(me=0;me<V;me++)j=xe.charCodeAt(me),Math.random()>.5&&(j="x"+j.toString(16)),ke+="&#"+j+";";return ke}var Zt=function(){function xe(me){this.tokens=[],this.tokens.links=Object.create(null),this.options=me||u.defaults,this.options.tokenizer=this.options.tokenizer||new ue,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var j={block:$.normal,inline:Te.normal};this.options.pedantic?(j.block=$.pedantic,j.inline=Te.pedantic):this.options.gfm&&(j.block=$.gfm,this.options.breaks?j.inline=Te.breaks:j.inline=Te.gfm),this.tokenizer.rules=j}xe.lex=function(j,V){var he=new xe(V);return he.lex(j)},xe.lexInline=function(j,V){var he=new xe(V);return he.inlineTokens(j)};var ke=xe.prototype;return ke.lex=function(j){j=j.replace(/\r\n|\r/g,`
`),this.blockTokens(j,this.tokens);for(var V;V=this.inlineQueue.shift();)this.inlineTokens(V.src,V.tokens);return this.tokens},ke.blockTokens=function(j,V){var he=this;V===void 0&&(V=[]),this.options.pedantic?j=j.replace(/\t/g,"    ").replace(/^ +$/gm,""):j=j.replace(/^( *)(\t+)/gm,function(Ce,fe,re){return fe+"    ".repeat(re.length)});for(var I,R,J,oe;j;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ce){return(I=Ce.call({lexer:he},j,V))?(j=j.substring(I.raw.length),V.push(I),!0):!1}))){if(I=this.tokenizer.space(j)){j=j.substring(I.raw.length),I.raw.length===1&&V.length>0?V[V.length-1].raw+=`
`:V.push(I);continue}if(I=this.tokenizer.code(j)){j=j.substring(I.raw.length),R=V[V.length-1],R&&(R.type==="paragraph"||R.type==="text")?(R.raw+=`
`+I.raw,R.text+=`
`+I.text,this.inlineQueue[this.inlineQueue.length-1].src=R.text):V.push(I);continue}if(I=this.tokenizer.fences(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.heading(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.hr(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.blockquote(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.list(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.html(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.def(j)){j=j.substring(I.raw.length),R=V[V.length-1],R&&(R.type==="paragraph"||R.type==="text")?(R.raw+=`
`+I.raw,R.text+=`
`+I.raw,this.inlineQueue[this.inlineQueue.length-1].src=R.text):this.tokens.links[I.tag]||(this.tokens.links[I.tag]={href:I.href,title:I.title});continue}if(I=this.tokenizer.table(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.lheading(j)){j=j.substring(I.raw.length),V.push(I);continue}if(J=j,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ce=1/0,fe=j.slice(1),re=void 0;he.options.extensions.startBlock.forEach(function(_e){re=_e.call({lexer:this},fe),typeof re=="number"&&re>=0&&(Ce=Math.min(Ce,re))}),Ce<1/0&&Ce>=0&&(J=j.substring(0,Ce+1))}(),this.state.top&&(I=this.tokenizer.paragraph(J))){R=V[V.length-1],oe&&R.type==="paragraph"?(R.raw+=`
`+I.raw,R.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=R.text):V.push(I),oe=J.length!==j.length,j=j.substring(I.raw.length);continue}if(I=this.tokenizer.text(j)){j=j.substring(I.raw.length),R=V[V.length-1],R&&R.type==="text"?(R.raw+=`
`+I.raw,R.text+=`
`+I.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=R.text):V.push(I);continue}if(j){var de="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(de);break}else throw new Error(de)}}return this.state.top=!0,V},ke.inline=function(j,V){return V===void 0&&(V=[]),this.inlineQueue.push({src:j,tokens:V}),V},ke.inlineTokens=function(j,V){var he=this;V===void 0&&(V=[]);var I,R,J,oe=j,de,Ce,fe;if(this.tokens.links){var re=Object.keys(this.tokens.links);if(re.length>0)for(;(de=this.tokenizer.rules.inline.reflinkSearch.exec(oe))!=null;)re.includes(de[0].slice(de[0].lastIndexOf("[")+1,-1))&&(oe=oe.slice(0,de.index)+"["+mt("a",de[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(de=this.tokenizer.rules.inline.blockSkip.exec(oe))!=null;)oe=oe.slice(0,de.index)+"["+mt("a",de[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(de=this.tokenizer.rules.inline.escapedEmSt.exec(oe))!=null;)oe=oe.slice(0,de.index+de[0].length-2)+"++"+oe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;j;)if(Ce||(fe=""),Ce=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ge){return(I=ge.call({lexer:he},j,V))?(j=j.substring(I.raw.length),V.push(I),!0):!1}))){if(I=this.tokenizer.escape(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.tag(j)){j=j.substring(I.raw.length),R=V[V.length-1],R&&I.type==="text"&&R.type==="text"?(R.raw+=I.raw,R.text+=I.text):V.push(I);continue}if(I=this.tokenizer.link(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.reflink(j,this.tokens.links)){j=j.substring(I.raw.length),R=V[V.length-1],R&&I.type==="text"&&R.type==="text"?(R.raw+=I.raw,R.text+=I.text):V.push(I);continue}if(I=this.tokenizer.emStrong(j,oe,fe)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.codespan(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.br(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.del(j)){j=j.substring(I.raw.length),V.push(I);continue}if(I=this.tokenizer.autolink(j,ot)){j=j.substring(I.raw.length),V.push(I);continue}if(!this.state.inLink&&(I=this.tokenizer.url(j,ot))){j=j.substring(I.raw.length),V.push(I);continue}if(J=j,this.options.extensions&&this.options.extensions.startInline&&function(){var ge=1/0,je=j.slice(1),Qe=void 0;he.options.extensions.startInline.forEach(function(et){Qe=et.call({lexer:this},je),typeof Qe=="number"&&Qe>=0&&(ge=Math.min(ge,Qe))}),ge<1/0&&ge>=0&&(J=j.substring(0,ge+1))}(),I=this.tokenizer.inlineText(J,yt)){j=j.substring(I.raw.length),I.raw.slice(-1)!=="_"&&(fe=I.raw.slice(-1)),Ce=!0,R=V[V.length-1],R&&R.type==="text"?(R.raw+=I.raw,R.text+=I.text):V.push(I);continue}if(j){var _e="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(_e);break}else throw new Error(_e)}}return V},o(xe,null,[{key:"rules",get:function(){return{block:$,inline:Te}}}]),xe}(),ti=function(){function xe(me){this.options=me||u.defaults}var ke=xe.prototype;return ke.code=function(j,V,he){var I=(V||"").match(/\S*/)[0];if(this.options.highlight){var R=this.options.highlight(j,I);R!=null&&R!==j&&(he=!0,j=R)}return j=j.replace(/\n$/,"")+`
`,I?'<pre><code class="'+this.options.langPrefix+K(I)+'">'+(he?j:K(j,!0))+`</code></pre>
`:"<pre><code>"+(he?j:K(j,!0))+`</code></pre>
`},ke.blockquote=function(j){return`<blockquote>
`+j+`</blockquote>
`},ke.html=function(j){return j},ke.heading=function(j,V,he,I){if(this.options.headerIds){var R=this.options.headerPrefix+I.slug(he);return"<h"+V+' id="'+R+'">'+j+"</h"+V+`>
`}return"<h"+V+">"+j+"</h"+V+`>
`},ke.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ke.list=function(j,V,he){var I=V?"ol":"ul",R=V&&he!==1?' start="'+he+'"':"";return"<"+I+R+`>
`+j+"</"+I+`>
`},ke.listitem=function(j){return"<li>"+j+`</li>
`},ke.checkbox=function(j){return"<input "+(j?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ke.paragraph=function(j){return"<p>"+j+`</p>
`},ke.table=function(j,V){return V&&(V="<tbody>"+V+"</tbody>"),`<table>
<thead>
`+j+`</thead>
`+V+`</table>
`},ke.tablerow=function(j){return`<tr>
`+j+`</tr>
`},ke.tablecell=function(j,V){var he=V.header?"th":"td",I=V.align?"<"+he+' align="'+V.align+'">':"<"+he+">";return I+j+("</"+he+`>
`)},ke.strong=function(j){return"<strong>"+j+"</strong>"},ke.em=function(j){return"<em>"+j+"</em>"},ke.codespan=function(j){return"<code>"+j+"</code>"},ke.br=function(){return this.options.xhtml?"<br/>":"<br>"},ke.del=function(j){return"<del>"+j+"</del>"},ke.link=function(j,V,he){if(j=ve(this.options.sanitize,this.options.baseUrl,j),j===null)return he;var I='<a href="'+j+'"';return V&&(I+=' title="'+V+'"'),I+=">"+he+"</a>",I},ke.image=function(j,V,he){if(j=ve(this.options.sanitize,this.options.baseUrl,j),j===null)return he;var I='<img src="'+j+'" alt="'+he+'"';return V&&(I+=' title="'+V+'"'),I+=this.options.xhtml?"/>":">",I},ke.text=function(j){return j},xe}(),$t=function(){function xe(){}var ke=xe.prototype;return ke.strong=function(j){return j},ke.em=function(j){return j},ke.codespan=function(j){return j},ke.del=function(j){return j},ke.html=function(j){return j},ke.text=function(j){return j},ke.link=function(j,V,he){return""+he},ke.image=function(j,V,he){return""+he},ke.br=function(){return""},xe}(),Nt=function(){function xe(){this.seen={}}var ke=xe.prototype;return ke.serialize=function(j){return j.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ke.getNextSafeSlug=function(j,V){var he=j,I=0;if(this.seen.hasOwnProperty(he)){I=this.seen[j];do I++,he=j+"-"+I;while(this.seen.hasOwnProperty(he))}return V||(this.seen[j]=I,this.seen[he]=0),he},ke.slug=function(j,V){V===void 0&&(V={});var he=this.serialize(j);return this.getNextSafeSlug(he,V.dryrun)},xe}(),kt=function(){function xe(me){this.options=me||u.defaults,this.options.renderer=this.options.renderer||new ti,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $t,this.slugger=new Nt}xe.parse=function(j,V){var he=new xe(V);return he.parse(j)},xe.parseInline=function(j,V){var he=new xe(V);return he.parseInline(j)};var ke=xe.prototype;return ke.parse=function(j,V){V===void 0&&(V=!0);var he="",I,R,J,oe,de,Ce,fe,re,_e,ge,je,Qe,et,We,gt,_t,xt,ft,Vt,Wt=j.length;for(I=0;I<Wt;I++){if(ge=j[I],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ge.type]&&(Vt=this.options.extensions.renderers[ge.type].call({parser:this},ge),Vt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ge.type))){he+=Vt||"";continue}switch(ge.type){case"space":continue;case"hr":{he+=this.renderer.hr();continue}case"heading":{he+=this.renderer.heading(this.parseInline(ge.tokens),ge.depth,le(this.parseInline(ge.tokens,this.textRenderer)),this.slugger);continue}case"code":{he+=this.renderer.code(ge.text,ge.lang,ge.escaped);continue}case"table":{for(re="",fe="",oe=ge.header.length,R=0;R<oe;R++)fe+=this.renderer.tablecell(this.parseInline(ge.header[R].tokens),{header:!0,align:ge.align[R]});for(re+=this.renderer.tablerow(fe),_e="",oe=ge.rows.length,R=0;R<oe;R++){for(Ce=ge.rows[R],fe="",de=Ce.length,J=0;J<de;J++)fe+=this.renderer.tablecell(this.parseInline(Ce[J].tokens),{header:!1,align:ge.align[J]});_e+=this.renderer.tablerow(fe)}he+=this.renderer.table(re,_e);continue}case"blockquote":{_e=this.parse(ge.tokens),he+=this.renderer.blockquote(_e);continue}case"list":{for(je=ge.ordered,Qe=ge.start,et=ge.loose,oe=ge.items.length,_e="",R=0;R<oe;R++)gt=ge.items[R],_t=gt.checked,xt=gt.task,We="",gt.task&&(ft=this.renderer.checkbox(_t),et?gt.tokens.length>0&&gt.tokens[0].type==="paragraph"?(gt.tokens[0].text=ft+" "+gt.tokens[0].text,gt.tokens[0].tokens&&gt.tokens[0].tokens.length>0&&gt.tokens[0].tokens[0].type==="text"&&(gt.tokens[0].tokens[0].text=ft+" "+gt.tokens[0].tokens[0].text)):gt.tokens.unshift({type:"text",text:ft}):We+=ft),We+=this.parse(gt.tokens,et),_e+=this.renderer.listitem(We,xt,_t);he+=this.renderer.list(_e,je,Qe);continue}case"html":{he+=this.renderer.html(ge.text);continue}case"paragraph":{he+=this.renderer.paragraph(this.parseInline(ge.tokens));continue}case"text":{for(_e=ge.tokens?this.parseInline(ge.tokens):ge.text;I+1<Wt&&j[I+1].type==="text";)ge=j[++I],_e+=`
`+(ge.tokens?this.parseInline(ge.tokens):ge.text);he+=V?this.renderer.paragraph(_e):_e;continue}default:{var fi='Token with "'+ge.type+'" type was not found.';if(this.options.silent){console.error(fi);return}else throw new Error(fi)}}}return he},ke.parseInline=function(j,V){V=V||this.renderer;var he="",I,R,J,oe=j.length;for(I=0;I<oe;I++){if(R=j[I],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[R.type]&&(J=this.options.extensions.renderers[R.type].call({parser:this},R),J!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(R.type))){he+=J||"";continue}switch(R.type){case"escape":{he+=V.text(R.text);break}case"html":{he+=V.html(R.text);break}case"link":{he+=V.link(R.href,R.title,this.parseInline(R.tokens,V));break}case"image":{he+=V.image(R.href,R.title,R.text);break}case"strong":{he+=V.strong(this.parseInline(R.tokens,V));break}case"em":{he+=V.em(this.parseInline(R.tokens,V));break}case"codespan":{he+=V.codespan(R.text);break}case"br":{he+=V.br();break}case"del":{he+=V.del(this.parseInline(R.tokens,V));break}case"text":{he+=V.text(R.text);break}default:{var de='Token with "'+R.type+'" type was not found.';if(this.options.silent){console.error(de);return}else throw new Error(de)}}}return he},xe}(),Lt=function(){function xe(me){this.options=me||u.defaults}var ke=xe.prototype;return ke.preprocess=function(j){return j},ke.postprocess=function(j){return j},xe}();Lt.passThroughHooks=new Set(["preprocess","postprocess"]);function ii(xe,ke,me){return function(j){if(j.message+=`
Please report this to https://github.com/markedjs/marked.`,xe){var V="<p>An error occurred:</p><pre>"+K(j.message+"",!0)+"</pre>";if(ke)return Promise.resolve(V);if(me){me(null,V);return}return V}if(ke)return Promise.reject(j);if(me){me(j);return}throw j}}function hi(xe,ke){return function(me,j,V){typeof j=="function"&&(V=j,j=null);var he=c({},j);j=c({},ut.defaults,he);var I=ii(j.silent,j.async,V);if(typeof me>"u"||me===null)return I(new Error("marked(): input parameter is undefined or null"));if(typeof me!="string")return I(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(me)+", string expected"));if(Je(j),j.hooks&&(j.hooks.options=j),V){var R=j.highlight,J;try{j.hooks&&(me=j.hooks.preprocess(me)),J=xe(me,j)}catch(re){return I(re)}var oe=function(_e){var ge;if(!_e)try{j.walkTokens&&ut.walkTokens(J,j.walkTokens),ge=ke(J,j),j.hooks&&(ge=j.hooks.postprocess(ge))}catch(je){_e=je}return j.highlight=R,_e?I(_e):V(null,ge)};if(!R||R.length<3||(delete j.highlight,!J.length))return oe();var de=0;ut.walkTokens(J,function(re){re.type==="code"&&(de++,setTimeout(function(){R(re.text,re.lang,function(_e,ge){if(_e)return oe(_e);ge!=null&&ge!==re.text&&(re.text=ge,re.escaped=!0),de--,de===0&&oe()})},0))}),de===0&&oe();return}if(j.async)return Promise.resolve(j.hooks?j.hooks.preprocess(me):me).then(function(re){return xe(re,j)}).then(function(re){return j.walkTokens?Promise.all(ut.walkTokens(re,j.walkTokens)).then(function(){return re}):re}).then(function(re){return ke(re,j)}).then(function(re){return j.hooks?j.hooks.postprocess(re):re}).catch(I);try{j.hooks&&(me=j.hooks.preprocess(me));var Ce=xe(me,j);j.walkTokens&&ut.walkTokens(Ce,j.walkTokens);var fe=ke(Ce,j);return j.hooks&&(fe=j.hooks.postprocess(fe)),fe}catch(re){return I(re)}}}function ut(xe,ke,me){return hi(Zt.lex,kt.parse)(xe,ke,me)}ut.options=ut.setOptions=function(xe){return ut.defaults=c({},ut.defaults,xe),A(ut.defaults),ut},ut.getDefaults=D,ut.defaults=u.defaults,ut.use=function(){for(var xe=ut.defaults.extensions||{renderers:{},childTokens:{}},ke=arguments.length,me=new Array(ke),j=0;j<ke;j++)me[j]=arguments[j];me.forEach(function(V){var he=c({},V);if(he.async=ut.defaults.async||he.async||!1,V.extensions&&(V.extensions.forEach(function(R){if(!R.name)throw new Error("extension name required");if(R.renderer){var J=xe.renderers[R.name];J?xe.renderers[R.name]=function(){for(var oe=arguments.length,de=new Array(oe),Ce=0;Ce<oe;Ce++)de[Ce]=arguments[Ce];var fe=R.renderer.apply(this,de);return fe===!1&&(fe=J.apply(this,de)),fe}:xe.renderers[R.name]=R.renderer}if(R.tokenizer){if(!R.level||R.level!=="block"&&R.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");xe[R.level]?xe[R.level].unshift(R.tokenizer):xe[R.level]=[R.tokenizer],R.start&&(R.level==="block"?xe.startBlock?xe.startBlock.push(R.start):xe.startBlock=[R.start]:R.level==="inline"&&(xe.startInline?xe.startInline.push(R.start):xe.startInline=[R.start]))}R.childTokens&&(xe.childTokens[R.name]=R.childTokens)}),he.extensions=xe),V.renderer&&function(){var R=ut.defaults.renderer||new ti,J=function(Ce){var fe=R[Ce];R[Ce]=function(){for(var re=arguments.length,_e=new Array(re),ge=0;ge<re;ge++)_e[ge]=arguments[ge];var je=V.renderer[Ce].apply(R,_e);return je===!1&&(je=fe.apply(R,_e)),je}};for(var oe in V.renderer)J(oe);he.renderer=R}(),V.tokenizer&&function(){var R=ut.defaults.tokenizer||new ue,J=function(Ce){var fe=R[Ce];R[Ce]=function(){for(var re=arguments.length,_e=new Array(re),ge=0;ge<re;ge++)_e[ge]=arguments[ge];var je=V.tokenizer[Ce].apply(R,_e);return je===!1&&(je=fe.apply(R,_e)),je}};for(var oe in V.tokenizer)J(oe);he.tokenizer=R}(),V.hooks&&function(){var R=ut.defaults.hooks||new Lt,J=function(Ce){var fe=R[Ce];Lt.passThroughHooks.has(Ce)?R[Ce]=function(re){if(ut.defaults.async)return Promise.resolve(V.hooks[Ce].call(R,re)).then(function(ge){return fe.call(R,ge)});var _e=V.hooks[Ce].call(R,re);return fe.call(R,_e)}:R[Ce]=function(){for(var re=arguments.length,_e=new Array(re),ge=0;ge<re;ge++)_e[ge]=arguments[ge];var je=V.hooks[Ce].apply(R,_e);return je===!1&&(je=fe.apply(R,_e)),je}};for(var oe in V.hooks)J(oe);he.hooks=R}(),V.walkTokens){var I=ut.defaults.walkTokens;he.walkTokens=function(R){var J=[];return J.push(V.walkTokens.call(this,R)),I&&(J=J.concat(I.call(this,R))),J}}ut.setOptions(he)})},ut.walkTokens=function(xe,ke){for(var me=[],j=function(){var R=he.value;switch(me=me.concat(ke.call(ut,R)),R.type){case"table":{for(var J=y(R.header),oe;!(oe=J()).done;){var de=oe.value;me=me.concat(ut.walkTokens(de.tokens,ke))}for(var Ce=y(R.rows),fe;!(fe=Ce()).done;)for(var re=fe.value,_e=y(re),ge;!(ge=_e()).done;){var je=ge.value;me=me.concat(ut.walkTokens(je.tokens,ke))}break}case"list":{me=me.concat(ut.walkTokens(R.items,ke));break}default:ut.defaults.extensions&&ut.defaults.extensions.childTokens&&ut.defaults.extensions.childTokens[R.type]?ut.defaults.extensions.childTokens[R.type].forEach(function(Qe){me=me.concat(ut.walkTokens(R[Qe],ke))}):R.tokens&&(me=me.concat(ut.walkTokens(R.tokens,ke)))}},V=y(xe),he;!(he=V()).done;)j();return me},ut.parseInline=hi(Zt.lexInline,kt.parseInline),ut.Parser=kt,ut.parser=kt.parse,ut.Renderer=ti,ut.TextRenderer=$t,ut.Lexer=Zt,ut.lexer=Zt.lex,ut.Tokenizer=ue,ut.Slugger=Nt,ut.Hooks=Lt,ut.parse=ut;var ji=ut.options,Ui=ut.setOptions,ni=ut.use,Tn=ut.walkTokens,st=ut.parseInline,li=ut,ct=kt.parse,cs=Zt.lex;u.Hooks=Lt,u.Lexer=Zt,u.Parser=kt,u.Renderer=ti,u.Slugger=Nt,u.TextRenderer=$t,u.Tokenizer=ue,u.getDefaults=D,u.lexer=cs,u.marked=ut,u.options=ji,u.parse=li,u.parseInline=st,u.parser=ct,u.setOptions=Ui,u.use=ni,u.walkTokens=Tn}(Hf)),Hf}var $f,Jg;function H2(){if(Jg)return $f;Jg=1;var u=Kn();k2(),S2(),D2(),Cv(),xv(),E2(),A2(),M2(),F2(),I2(),_v();var s=R2(),o=z2().marked,c=/Mac/.test(navigator.platform),h=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),g={toggleBold:le,toggleItalic:ne,drawLink:mt,toggleHeadingSmaller:ve,toggleHeadingBigger:De,drawImage:Ht,toggleBlockquote:be,toggleOrderedList:Oe,toggleUnorderedList:Pe,toggleCodeBlock:we,togglePreview:$t,toggleStrikethrough:se,toggleHeading1:Ge,toggleHeading2:Ie,toggleHeading3:Ue,toggleHeading4:nt,toggleHeading5:rt,toggleHeading6:ce,cleanBlock:Je,drawTable:Te,drawHorizontalRule:yt,undo:ot,redo:Zt,toggleSideBySide:ti,toggleFullScreen:X},y={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},w=function(I){for(var R in g)if(g[R]===I)return R;return null},S=function(){var I=!1;return function(R){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(R)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(R.substr(0,4)))&&(I=!0)}(navigator.userAgent||navigator.vendor||window.opera),I};function D(I){for(var R;(R=h.exec(I))!==null;){var J=R[0];if(J.indexOf("target=")===-1){var oe=J.replace(/>$/,' target="_blank">');I=I.replace(J,oe)}}return I}function A(I){for(var R=new DOMParser,J=R.parseFromString(I,"text/html"),oe=J.getElementsByTagName("li"),de=0;de<oe.length;de++)for(var Ce=oe[de],fe=0;fe<Ce.children.length;fe++){var re=Ce.children[fe];re instanceof HTMLInputElement&&re.type==="checkbox"&&(Ce.style.marginLeft="-1.5em",Ce.style.listStyleType="none")}return J.documentElement.innerHTML}function O(I){return c?I=I.replace("Ctrl","Cmd"):I=I.replace("Cmd","Ctrl"),I}function B(I,R,J,oe){var de=H(I,!1,R,J,"button",oe);de.classList.add("easymde-dropdown"),de.onclick=function(){de.focus()};var Ce=document.createElement("div");Ce.className="easymde-dropdown-content";for(var fe=0;fe<I.children.length;fe++){var re=I.children[fe],_e;typeof re=="string"&&re in li?_e=H(li[re],!0,R,J,"button",oe):_e=H(re,!0,R,J,"button",oe),_e.addEventListener("click",function(ge){ge.stopPropagation()},!1),Ce.appendChild(_e)}return de.appendChild(Ce),de}function H(I,R,J,oe,de,Ce){I=I||{};var fe=document.createElement(de);if(I.attributes)for(var re in I.attributes)Object.prototype.hasOwnProperty.call(I.attributes,re)&&fe.setAttribute(re,I.attributes[re]);var _e=Ce.options.toolbarButtonClassPrefix?Ce.options.toolbarButtonClassPrefix+"-":"";fe.className=_e+I.name,fe.setAttribute("type",de),J=J??!0,I.text&&(fe.innerText=I.text),I.name&&I.name in oe&&(g[I.name]=I.action),I.title&&J&&(fe.title=Q(I.title,I.action,oe),c&&(fe.title=fe.title.replace("Ctrl","⌘"),fe.title=fe.title.replace("Alt","⌥"))),I.title&&fe.setAttribute("aria-label",I.title),I.noDisable&&fe.classList.add("no-disable"),I.noMobile&&fe.classList.add("no-mobile");var ge=[];typeof I.className<"u"&&(ge=I.className.split(" "));for(var je=[],Qe=0;Qe<ge.length;Qe++){var et=ge[Qe];et.match(/^fa([srlb]|(-[\w-]*)|$)/)?je.push(et):fe.classList.add(et)}if(fe.tabIndex=-1,je.length>0){for(var We=document.createElement("i"),gt=0;gt<je.length;gt++){var _t=je[gt];We.classList.add(_t)}fe.appendChild(We)}return typeof I.icon<"u"&&(fe.innerHTML=I.icon),I.action&&R&&(typeof I.action=="function"?fe.onclick=function(xt){xt.preventDefault(),I.action(Ce)}:typeof I.action=="string"&&(fe.onclick=function(xt){xt.preventDefault(),window.open(I.action,"_blank")})),fe}function q(){var I=document.createElement("i");return I.className="separator",I.innerHTML="|",I}function Q(I,R,J){var oe,de=I;return R&&(oe=w(R),J[oe]&&(de+=" ("+O(J[oe])+")")),de}function te(I,R){R=R||I.getCursor("start");var J=I.getTokenAt(R);if(!J.type)return{};for(var oe=J.type.split(" "),de={},Ce,fe,re=0;re<oe.length;re++)Ce=oe[re],Ce==="strong"?de.bold=!0:Ce==="variable-2"?(fe=I.getLine(R.line),/^\s*\d+\.\s/.test(fe)?de["ordered-list"]=!0:de["unordered-list"]=!0):Ce==="atom"?de.quote=!0:Ce==="em"?de.italic=!0:Ce==="quote"?de.quote=!0:Ce==="strikethrough"?de.strikethrough=!0:Ce==="comment"?de.code=!0:Ce==="link"&&!de.image?de.link=!0:Ce==="image"?de.image=!0:Ce.match(/^header(-[1-6])?$/)&&(de[Ce.replace("header","heading")]=!0);return de}var K="";function X(I){var R=I.codemirror;R.setOption("fullScreen",!R.getOption("fullScreen")),R.getOption("fullScreen")?(K=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=K;var J=R.getWrapperElement(),oe=J.nextSibling;if(oe.classList.contains("editor-preview-active-side"))if(I.options.sideBySideFullscreen===!1){var de=J.parentNode;R.getOption("fullScreen")?de.classList.remove("sided--no-fullscreen"):de.classList.add("sided--no-fullscreen")}else ti(I);if(I.options.onToggleFullScreen&&I.options.onToggleFullScreen(R.getOption("fullScreen")||!1),typeof I.options.maxHeight<"u"&&(R.getOption("fullScreen")?(R.getScrollerElement().style.removeProperty("height"),oe.style.removeProperty("height")):(R.getScrollerElement().style.height=I.options.maxHeight,I.setPreviewMaxHeight())),I.toolbar_div.classList.toggle("fullscreen"),I.toolbarElements&&I.toolbarElements.fullscreen){var Ce=I.toolbarElements.fullscreen;Ce.classList.toggle("active")}}function le(I){hi(I,"bold",I.options.blockStyles.bold)}function ne(I){hi(I,"italic",I.options.blockStyles.italic)}function se(I){hi(I,"strikethrough","~~")}function we(I){var R=I.options.blockStyles.code;function J(pi){if(typeof pi!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof pi+": "+pi;return pi.styles&&pi.styles[2]&&pi.styles[2].indexOf("formatting-code-block")!==-1}function oe(pi){return pi.state.base.base||pi.state.base}function de(pi,cn,En,vn,dn){En=En||pi.getLineHandle(cn),vn=vn||pi.getTokenAt({line:cn,ch:1}),dn=dn||!!En.text&&pi.getTokenAt({line:cn,ch:En.text.length-1});var As=vn.type?vn.type.split(" "):[];return dn&&oe(dn).indentedCode?"indented":As.indexOf("comment")===-1?!1:oe(vn).fencedChars||oe(dn).fencedChars||J(En)?"fenced":"single"}function Ce(pi,cn,En,vn){var dn=cn.line+1,As=En.line+1,Ms=cn.line!==En.line,Fs=vn+`
`,na=`
`+vn;Ms&&As++,Ms&&En.ch===0&&(na=vn+`
`,As--),Nt(pi,!1,[Fs,na]),pi.setSelection({line:dn,ch:0},{line:As,ch:0})}var fe=I.codemirror,re=fe.getCursor("start"),_e=fe.getCursor("end"),ge=fe.getTokenAt({line:re.line,ch:re.ch||1}),je=fe.getLineHandle(re.line),Qe=de(fe,re.line,je,ge),et,We,gt;if(Qe==="single"){var _t=je.text.slice(0,re.ch).replace("`",""),xt=je.text.slice(re.ch).replace("`","");fe.replaceRange(_t+xt,{line:re.line,ch:0},{line:re.line,ch:99999999999999}),re.ch--,re!==_e&&_e.ch--,fe.setSelection(re,_e),fe.focus()}else if(Qe==="fenced")if(re.line!==_e.line||re.ch!==_e.ch){for(et=re.line;et>=0&&(je=fe.getLineHandle(et),!J(je));et--);var ft=fe.getTokenAt({line:et,ch:1}),Vt=oe(ft).fencedChars,Wt,fi,Ji,qi;J(fe.getLineHandle(re.line))?(Wt="",fi=re.line):J(fe.getLineHandle(re.line-1))?(Wt="",fi=re.line-1):(Wt=Vt+`
`,fi=re.line),J(fe.getLineHandle(_e.line))?(Ji="",qi=_e.line,_e.ch===0&&(qi+=1)):_e.ch!==0&&J(fe.getLineHandle(_e.line+1))?(Ji="",qi=_e.line+1):(Ji=Vt+`
`,qi=_e.line+1),_e.ch===0&&(qi-=1),fe.operation(function(){fe.replaceRange(Ji,{line:qi,ch:0},{line:qi+(Ji?0:1),ch:0}),fe.replaceRange(Wt,{line:fi,ch:0},{line:fi+(Wt?0:1),ch:0})}),fe.setSelection({line:fi+(Wt?1:0),ch:0},{line:qi+(Wt?1:-1),ch:0}),fe.focus()}else{var ta=re.line;if(J(fe.getLineHandle(re.line))&&(de(fe,re.line+1)==="fenced"?(et=re.line,ta=re.line+1):(We=re.line,ta=re.line-1)),et===void 0)for(et=ta;et>=0&&(je=fe.getLineHandle(et),!J(je));et--);if(We===void 0)for(gt=fe.lineCount(),We=ta;We<gt&&(je=fe.getLineHandle(We),!J(je));We++);fe.operation(function(){fe.replaceRange("",{line:et,ch:0},{line:et+1,ch:0}),fe.replaceRange("",{line:We-1,ch:0},{line:We,ch:0})}),fe.focus()}else if(Qe==="indented"){if(re.line!==_e.line||re.ch!==_e.ch)et=re.line,We=_e.line,_e.ch===0&&We--;else{for(et=re.line;et>=0;et--)if(je=fe.getLineHandle(et),!je.text.match(/^\s*$/)&&de(fe,et,je)!=="indented"){et+=1;break}for(gt=fe.lineCount(),We=re.line;We<gt;We++)if(je=fe.getLineHandle(We),!je.text.match(/^\s*$/)&&de(fe,We,je)!=="indented"){We-=1;break}}var ia=fe.getLineHandle(We+1),ko=ia&&fe.getTokenAt({line:We+1,ch:ia.text.length-1}),Zn=ko&&oe(ko).indentedCode;Zn&&fe.replaceRange(`
`,{line:We+1,ch:0});for(var Pa=et;Pa<=We;Pa++)fe.indentLine(Pa,"subtract");fe.focus()}else{var Ba=re.line===_e.line&&re.ch===_e.ch&&re.ch===0,nl=re.line!==_e.line;Ba||nl?Ce(fe,re,_e,R):Nt(fe,!1,["`","`"])}}function be(I){Lt(I.codemirror,"quote")}function ve(I){kt(I.codemirror,"smaller")}function De(I){kt(I.codemirror,"bigger")}function Ge(I){kt(I.codemirror,void 0,1)}function Ie(I){kt(I.codemirror,void 0,2)}function Ue(I){kt(I.codemirror,void 0,3)}function nt(I){kt(I.codemirror,void 0,4)}function rt(I){kt(I.codemirror,void 0,5)}function ce(I){kt(I.codemirror,void 0,6)}function Pe(I){var R=I.codemirror,J="*";["-","+","*"].includes(I.options.unorderedListStyle)&&(J=I.options.unorderedListStyle),Lt(R,"unordered-list",J)}function Oe(I){Lt(I.codemirror,"ordered-list")}function Je(I){ut(I.codemirror)}function mt(I){var R=I.options,J="https://";if(R.promptURLs){var oe=prompt(R.promptTexts.link,J);if(!oe)return!1;J=Zi(oe)}ii(I,"link",R.insertTexts.link,J)}function Ht(I){var R=I.options,J="https://";if(R.promptURLs){var oe=prompt(R.promptTexts.image,J);if(!oe)return!1;J=Zi(oe)}ii(I,"image",R.insertTexts.image,J)}function Zi(I){return encodeURI(I).replace(/([\\()])/g,"\\$1")}function ue(I){I.openBrowseFileWindow()}function $(I,R){var J=I.codemirror,oe=te(J),de=I.options,Ce=R.substr(R.lastIndexOf("/")+1),fe=Ce.substring(Ce.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(fe))Nt(J,oe.image,de.insertTexts.uploadedImage,R);else{var re=de.insertTexts.link;re[0]="["+Ce,Nt(J,oe.link,re,R)}I.updateStatusBar("upload-image",I.options.imageTexts.sbOnUploaded.replace("#image_name#",Ce)),setTimeout(function(){I.updateStatusBar("upload-image",I.options.imageTexts.sbInit)},1e3)}function Te(I){var R=I.codemirror,J=te(R),oe=I.options;Nt(R,J.table,oe.insertTexts.table)}function yt(I){var R=I.codemirror,J=te(R),oe=I.options;Nt(R,J.image,oe.insertTexts.horizontalRule)}function ot(I){var R=I.codemirror;R.undo(),R.focus()}function Zt(I){var R=I.codemirror;R.redo(),R.focus()}function ti(I){var R=I.codemirror,J=R.getWrapperElement(),oe=J.nextSibling,de=I.toolbarElements&&I.toolbarElements["side-by-side"],Ce=!1,fe=J.parentNode;oe.classList.contains("editor-preview-active-side")?(I.options.sideBySideFullscreen===!1&&fe.classList.remove("sided--no-fullscreen"),oe.classList.remove("editor-preview-active-side"),de&&de.classList.remove("active"),J.classList.remove("CodeMirror-sided")):(setTimeout(function(){R.getOption("fullScreen")||(I.options.sideBySideFullscreen===!1?fe.classList.add("sided--no-fullscreen"):X(I)),oe.classList.add("editor-preview-active-side")},1),de&&de.classList.add("active"),J.classList.add("CodeMirror-sided"),Ce=!0);var re=J.lastChild;if(re.classList.contains("editor-preview-active")){re.classList.remove("editor-preview-active");var _e=I.toolbarElements.preview,ge=I.toolbar_div;_e.classList.remove("active"),ge.classList.remove("disabled-for-preview")}var je=function(){var et=I.options.previewRender(I.value(),oe);et!=null&&(oe.innerHTML=et)};if(R.sideBySideRenderingFunction||(R.sideBySideRenderingFunction=je),Ce){var Qe=I.options.previewRender(I.value(),oe);Qe!=null&&(oe.innerHTML=Qe),R.on("update",R.sideBySideRenderingFunction)}else R.off("update",R.sideBySideRenderingFunction);R.refresh()}function $t(I){var R=I.codemirror,J=R.getWrapperElement(),oe=I.toolbar_div,de=I.options.toolbar?I.toolbarElements.preview:!1,Ce=J.lastChild,fe=R.getWrapperElement().nextSibling;if(fe.classList.contains("editor-preview-active-side")&&ti(I),!Ce||!Ce.classList.contains("editor-preview-full")){if(Ce=document.createElement("div"),Ce.className="editor-preview-full",I.options.previewClass)if(Array.isArray(I.options.previewClass))for(var re=0;re<I.options.previewClass.length;re++)Ce.classList.add(I.options.previewClass[re]);else typeof I.options.previewClass=="string"&&Ce.classList.add(I.options.previewClass);J.appendChild(Ce)}Ce.classList.contains("editor-preview-active")?(Ce.classList.remove("editor-preview-active"),de&&(de.classList.remove("active"),oe.classList.remove("disabled-for-preview"))):(setTimeout(function(){Ce.classList.add("editor-preview-active")},1),de&&(de.classList.add("active"),oe.classList.add("disabled-for-preview")));var _e=I.options.previewRender(I.value(),Ce);_e!==null&&(Ce.innerHTML=_e)}function Nt(I,R,J,oe){if(!I.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var de,Ce=J[0],fe=J[1],re={},_e={};Object.assign(re,I.getCursor("start")),Object.assign(_e,I.getCursor("end")),oe&&(Ce=Ce.replace("#url#",oe),fe=fe.replace("#url#",oe)),R?(de=I.getLine(re.line),Ce=de.slice(0,re.ch),fe=de.slice(re.ch),I.replaceRange(Ce+fe,{line:re.line,ch:0})):(de=I.getSelection(),I.replaceSelection(Ce+de+fe),re.ch+=Ce.length,re!==_e&&(_e.ch+=Ce.length)),I.setSelection(re,_e),I.focus()}}function kt(I,R,J){if(!I.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var oe=I.getCursor("start"),de=I.getCursor("end"),Ce=oe.line;Ce<=de.line;Ce++)(function(fe){var re=I.getLine(fe),_e=re.search(/[^#]/);R!==void 0?_e<=0?R=="bigger"?re="###### "+re:re="# "+re:_e==6&&R=="smaller"?re=re.substr(7):_e==1&&R=="bigger"?re=re.substr(2):R=="bigger"?re=re.substr(1):re="#"+re:_e<=0?re="#".repeat(J)+" "+re:_e==J?re=re.substr(_e+1):re="#".repeat(J)+" "+re.substr(_e+1),I.replaceRange(re,{line:fe,ch:0},{line:fe,ch:99999999999999})})(Ce);I.focus()}}function Lt(I,R,J){if(!I.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var oe=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,de=/^\s*/,Ce=te(I),fe=I.getCursor("start"),re=I.getCursor("end"),_e={quote:/^(\s*)>\s+/,"unordered-list":oe,"ordered-list":oe},ge=function(gt,_t){var xt={quote:">","unordered-list":J,"ordered-list":"%%i."};return xt[gt].replace("%%i",_t)},je=function(gt,_t){var xt={quote:">","unordered-list":"\\"+J,"ordered-list":"\\d+."},ft=new RegExp(xt[gt]);return _t&&ft.test(_t)},Qe=function(gt,_t,xt){var ft=oe.exec(_t),Vt=ge(gt,et);return ft!==null?(je(gt,ft[2])&&(Vt=""),_t=ft[1]+Vt+ft[3]+_t.replace(de,"").replace(_e[gt],"$1")):xt==!1&&(_t=Vt+" "+_t),_t},et=1,We=fe.line;We<=re.line;We++)(function(gt){var _t=I.getLine(gt);Ce[R]?_t=_t.replace(_e[R],"$1"):(R=="unordered-list"&&(_t=Qe("ordered-list",_t,!0)),_t=Qe(R,_t,!1),et+=1),I.replaceRange(_t,{line:gt,ch:0},{line:gt,ch:99999999999999})})(We);I.focus()}}function ii(I,R,J,oe){if(!(!I.codemirror||I.isPreviewActive())){var de=I.codemirror,Ce=te(de),fe=Ce[R];if(!fe){Nt(de,fe,J,oe);return}var re=de.getCursor("start"),_e=de.getCursor("end"),ge=de.getLine(re.line),je=ge.slice(0,re.ch),Qe=ge.slice(re.ch);R=="link"?je=je.replace(/(.*)[^!]\[/,"$1"):R=="image"&&(je=je.replace(/(.*)!\[$/,"$1")),Qe=Qe.replace(/]\(.*?\)/,""),de.replaceRange(je+Qe,{line:re.line,ch:0},{line:re.line,ch:99999999999999}),re.ch-=J[0].length,re!==_e&&(_e.ch-=J[0].length),de.setSelection(re,_e),de.focus()}}function hi(I,R,J,oe){if(!(!I.codemirror||I.isPreviewActive())){oe=typeof oe>"u"?J:oe;var de=I.codemirror,Ce=te(de),fe,re=J,_e=oe,ge=de.getCursor("start"),je=de.getCursor("end");Ce[R]?(fe=de.getLine(ge.line),re=fe.slice(0,ge.ch),_e=fe.slice(ge.ch),R=="bold"?(re=re.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),_e=_e.replace(/(\*\*|__)/,"")):R=="italic"?(re=re.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),_e=_e.replace(/(\*|_)/,"")):R=="strikethrough"&&(re=re.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),_e=_e.replace(/(\*\*|~~)/,"")),de.replaceRange(re+_e,{line:ge.line,ch:0},{line:ge.line,ch:99999999999999}),R=="bold"||R=="strikethrough"?(ge.ch-=2,ge!==je&&(je.ch-=2)):R=="italic"&&(ge.ch-=1,ge!==je&&(je.ch-=1))):(fe=de.getSelection(),R=="bold"?(fe=fe.split("**").join(""),fe=fe.split("__").join("")):R=="italic"?(fe=fe.split("*").join(""),fe=fe.split("_").join("")):R=="strikethrough"&&(fe=fe.split("~~").join("")),de.replaceSelection(re+fe+_e),ge.ch+=J.length,je.ch=ge.ch+fe.length),de.setSelection(ge,je),de.focus()}}function ut(I){if(!I.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var R=I.getCursor("start"),J=I.getCursor("end"),oe,de=R.line;de<=J.line;de++)oe=I.getLine(de),oe=oe.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),I.replaceRange(oe,{line:de,ch:0},{line:de,ch:99999999999999})}function ji(I,R){if(Math.abs(I)<1024)return""+I+R[0];var J=0;do I/=1024,++J;while(Math.abs(I)>=1024&&J<R.length);return""+I.toFixed(1)+R[J]}function Ui(I,R){for(var J in R)Object.prototype.hasOwnProperty.call(R,J)&&(R[J]instanceof Array?I[J]=R[J].concat(I[J]instanceof Array?I[J]:[]):R[J]!==null&&typeof R[J]=="object"&&R[J].constructor===Object?I[J]=Ui(I[J]||{},R[J]):I[J]=R[J]);return I}function ni(I){for(var R=1;R<arguments.length;R++)I=Ui(I,arguments[R]);return I}function Tn(I){var R=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,J=I.match(R),oe=0;if(J===null)return oe;for(var de=0;de<J.length;de++)J[de].charCodeAt(0)>=19968?oe+=J[de].length:oe+=1;return oe}var st={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},li={bold:{name:"bold",action:le,className:st.bold,title:"Bold",default:!0},italic:{name:"italic",action:ne,className:st.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:se,className:st.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:ve,className:st.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:ve,className:st["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:De,className:st["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Ge,className:st["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Ie,className:st["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:Ue,className:st["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:we,className:st.code,title:"Code"},quote:{name:"quote",action:be,className:st.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:Pe,className:st["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Oe,className:st["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:Je,className:st["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:mt,className:st.link,title:"Create Link",default:!0},image:{name:"image",action:Ht,className:st.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:ue,className:st["upload-image"],title:"Import an image"},table:{name:"table",action:Te,className:st.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:yt,className:st["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:$t,className:st.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:ti,className:st["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:X,className:st.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:st.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:ot,className:st.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:Zt,className:st.redo,noDisable:!0,title:"Redo"}},ct={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},cs={link:"URL for the link:",image:"URL of the image:"},xe={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},ke={bold:"**",code:"```",italic:"*"},me={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},j={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function V(I){I=I||{},I.parent=this;var R=!0;if(I.autoDownloadFontAwesome===!1&&(R=!1),I.autoDownloadFontAwesome!==!0)for(var J=document.styleSheets,oe=0;oe<J.length;oe++)J[oe].href&&J[oe].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(R=!1);if(R){var de=document.createElement("link");de.rel="stylesheet",de.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(de)}if(I.element)this.element=I.element;else if(I.element===null){console.log("EasyMDE: Error. No element was found.");return}if(I.toolbar===void 0){I.toolbar=[];for(var Ce in li)Object.prototype.hasOwnProperty.call(li,Ce)&&(Ce.indexOf("separator-")!=-1&&I.toolbar.push("|"),(li[Ce].default===!0||I.showIcons&&I.showIcons.constructor===Array&&I.showIcons.indexOf(Ce)!=-1)&&I.toolbar.push(Ce))}if(Object.prototype.hasOwnProperty.call(I,"previewClass")||(I.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(I,"status")||(I.status=["autosave","lines","words","cursor"],I.uploadImage&&I.status.unshift("upload-image")),I.previewRender||(I.previewRender=function(re){return this.parent.markdown(re)}),I.parsingConfig=ni({highlightFormatting:!0},I.parsingConfig||{}),I.insertTexts=ni({},ct,I.insertTexts||{}),I.promptTexts=ni({},cs,I.promptTexts||{}),I.blockStyles=ni({},ke,I.blockStyles||{}),I.autosave!=null&&(I.autosave.timeFormat=ni({},xe,I.autosave.timeFormat||{})),I.iconClassMap=ni({},st,I.iconClassMap||{}),I.shortcuts=ni({},y,I.shortcuts||{}),I.maxHeight=I.maxHeight||void 0,I.direction=I.direction||"ltr",typeof I.maxHeight<"u"?I.minHeight=I.maxHeight:I.minHeight=I.minHeight||"300px",I.errorCallback=I.errorCallback||function(re){alert(re)},I.uploadImage=I.uploadImage||!1,I.imageMaxSize=I.imageMaxSize||2097152,I.imageAccept=I.imageAccept||"image/png, image/jpeg, image/gif, image/avif",I.imageTexts=ni({},me,I.imageTexts||{}),I.errorMessages=ni({},j,I.errorMessages||{}),I.imagePathAbsolute=I.imagePathAbsolute||!1,I.imageCSRFName=I.imageCSRFName||"csrfmiddlewaretoken",I.imageCSRFHeader=I.imageCSRFHeader||!1,I.imageInputName=I.imageInputName||"image",I.autosave!=null&&I.autosave.unique_id!=null&&I.autosave.unique_id!=""&&(I.autosave.uniqueId=I.autosave.unique_id),I.overlayMode&&I.overlayMode.combine===void 0&&(I.overlayMode.combine=!0),this.options=I,this.render(),I.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(I.initialValue),I.uploadImage){var fe=this;this.codemirror.on("dragenter",function(re,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbOnDragEnter),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("dragend",function(re,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbInit),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("dragleave",function(re,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbInit),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("dragover",function(re,_e){fe.updateStatusBar("upload-image",fe.options.imageTexts.sbOnDragEnter),_e.stopPropagation(),_e.preventDefault()}),this.codemirror.on("drop",function(re,_e){_e.stopPropagation(),_e.preventDefault(),I.imageUploadFunction?fe.uploadImagesUsingCustomFunction(I.imageUploadFunction,_e.dataTransfer.files):fe.uploadImages(_e.dataTransfer.files)}),this.codemirror.on("paste",function(re,_e){I.imageUploadFunction?fe.uploadImagesUsingCustomFunction(I.imageUploadFunction,_e.clipboardData.files):fe.uploadImages(_e.clipboardData.files)})}}V.prototype.uploadImages=function(I,R,J){if(I.length!==0){for(var oe=[],de=0;de<I.length;de++)oe.push(I[de].name),this.uploadImage(I[de],R,J);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",oe.join(", ")))}},V.prototype.uploadImagesUsingCustomFunction=function(I,R){if(R.length!==0){for(var J=[],oe=0;oe<R.length;oe++)J.push(R[oe].name),this.uploadImageUsingCustomFunction(I,R[oe]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",J.join(", ")))}},V.prototype.updateStatusBar=function(I,R){if(this.gui.statusbar){var J=this.gui.statusbar.getElementsByClassName(I);J.length===1?this.gui.statusbar.getElementsByClassName(I)[0].textContent=R:J.length===0?console.log("EasyMDE: status bar item "+I+" was not found."):console.log("EasyMDE: Several status bar items named "+I+" was found.")}},V.prototype.markdown=function(I){if(o){var R;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?R=this.options.renderingConfig.markedOptions:R={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?R.breaks=!1:R.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var J=this.options.renderingConfig.hljs||window.hljs;J&&(R.highlight=function(de,Ce){return Ce&&J.getLanguage(Ce)?J.highlight(Ce,de).value:J.highlightAuto(de).value})}o.use(R);var oe=o.parse(I);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(oe=this.options.renderingConfig.sanitizerFunction.call(this,oe)),oe=D(oe),oe=A(oe),oe}},V.prototype.render=function(I){if(I||(I=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===I)return;this.element=I;var R=this.options,J=this,oe={};for(var de in R.shortcuts)R.shortcuts[de]!==null&&g[de]!==null&&function(xt){oe[O(R.shortcuts[xt])]=function(){var ft=g[xt];typeof ft=="function"?ft(J):typeof ft=="string"&&window.open(ft,"_blank")}}(de);oe.Enter="newlineAndIndentContinueMarkdownList",oe.Tab="tabAndIndentMarkdownList",oe["Shift-Tab"]="shiftTabAndUnindentMarkdownList",oe.Esc=function(xt){xt.getOption("fullScreen")&&X(J)},this.documentOnKeyDown=function(xt){xt=xt||window.event,xt.keyCode==27&&J.codemirror.getOption("fullScreen")&&X(J)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var Ce,fe;R.overlayMode?(u.defineMode("overlay-mode",function(xt){return u.overlayMode(u.getMode(xt,R.spellChecker!==!1?"spell-checker":"gfm"),R.overlayMode.mode,R.overlayMode.combine)}),Ce="overlay-mode",fe=R.parsingConfig,fe.gitHubSpice=!1):(Ce=R.parsingConfig,Ce.name="gfm",Ce.gitHubSpice=!1),R.spellChecker!==!1&&(Ce="spell-checker",fe=R.parsingConfig,fe.name="gfm",fe.gitHubSpice=!1,typeof R.spellChecker=="function"?R.spellChecker({codeMirrorInstance:u}):s({codeMirrorInstance:u}));function re(xt,ft,Vt){return{addNew:!1}}if(this.codemirror=u.fromTextArea(I,{mode:Ce,backdrop:fe,theme:R.theme!=null?R.theme:"easymde",tabSize:R.tabSize!=null?R.tabSize:2,indentUnit:R.tabSize!=null?R.tabSize:2,indentWithTabs:R.indentWithTabs!==!1,lineNumbers:R.lineNumbers===!0,autofocus:R.autofocus===!0,extraKeys:oe,direction:R.direction,lineWrapping:R.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:R.placeholder||I.getAttribute("placeholder")||"",styleSelectedText:R.styleSelectedText!=null?R.styleSelectedText:!S(),scrollbarStyle:R.scrollbarStyle!=null?R.scrollbarStyle:"native",configureMouse:re,inputStyle:R.inputStyle!=null?R.inputStyle:S()?"contenteditable":"textarea",spellcheck:R.nativeSpellcheck!=null?R.nativeSpellcheck:!0,autoRefresh:R.autoRefresh!=null?R.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=R.minHeight,typeof R.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=R.maxHeight),R.forceSync===!0){var _e=this.codemirror;_e.on("change",function(){_e.save()})}this.gui={};var ge=document.createElement("div");ge.classList.add("EasyMDEContainer"),ge.setAttribute("role","application");var je=this.codemirror.getWrapperElement();je.parentNode.insertBefore(ge,je),ge.appendChild(je),R.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),R.status!==!1&&(this.gui.statusbar=this.createStatusbar()),R.autosave!=null&&R.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(J._autosave_timeout),J._autosave_timeout=setTimeout(function(){J.autosave()},J.options.autosave.submit_delay||J.options.autosave.delay||1e3)}));function Qe(xt,ft){var Vt,Wt=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return xt<Wt?Vt=ft+"px":Vt=ft/xt*100+"%",Vt}var et=this;function We(xt,ft){var Vt=new URL(ft.url,document.baseURI).href;xt.setAttribute("data-img-src",Vt),xt.setAttribute("style","--bg-image:url("+Vt+");--width:"+ft.naturalWidth+"px;--height:"+Qe(ft.naturalWidth,ft.naturalHeight)),et.codemirror.setSize()}function gt(){R.previewImagesInEditor&&ge.querySelectorAll(".cm-image-marker").forEach(function(xt){var ft=xt.parentElement;if(ft.innerText.match(/^!\[.*?\]\(.*\)/g)&&!ft.hasAttribute("data-img-src")){var Vt=ft.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),Vt&&Vt.length>=2){var Wt=Vt[1];if(R.imagesPreviewHandler){var fi=R.imagesPreviewHandler(Vt[1]);typeof fi=="string"&&(Wt=fi)}if(window.EMDEimagesCache[Wt])We(ft,window.EMDEimagesCache[Wt]);else{window.EMDEimagesCache[Wt]={};var Ji=document.createElement("img");Ji.onload=function(){window.EMDEimagesCache[Wt]={naturalWidth:Ji.naturalWidth,naturalHeight:Ji.naturalHeight,url:Wt},We(ft,window.EMDEimagesCache[Wt])},Ji.src=Wt}}}})}this.codemirror.on("update",function(){gt()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(R.autofocus===!0||I.autofocus)&&this.codemirror.focus();var _t=this.codemirror;setTimeout((function(){_t.refresh()}).bind(_t),0)},V.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function he(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return V.prototype.autosave=function(){if(he()){var I=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(I.element.form!=null&&I.element.form!=null&&I.element.form.addEventListener("submit",function(){clearTimeout(I.autosaveTimeoutId),I.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+I.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var R=I.value();R!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,R):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var J=document.getElementById("autosaved");if(J!=null&&J!=null&&J!=""){var oe=new Date,de=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(oe),Ce=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;J.innerHTML=Ce+de}}else console.log("EasyMDE: localStorage not available, cannot autosave")},V.prototype.clearAutosavedValue=function(){if(he()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},V.prototype.openBrowseFileWindow=function(I,R){var J=this,oe=this.gui.toolbar.getElementsByClassName("imageInput")[0];oe.click();function de(Ce){J.options.imageUploadFunction?J.uploadImagesUsingCustomFunction(J.options.imageUploadFunction,Ce.target.files):J.uploadImages(Ce.target.files,I,R),oe.removeEventListener("change",de)}oe.addEventListener("change",de)},V.prototype.uploadImage=function(I,R,J){var oe=this;R=R||function(ge){$(oe,ge)};function de(_e){oe.updateStatusBar("upload-image",_e),setTimeout(function(){oe.updateStatusBar("upload-image",oe.options.imageTexts.sbInit)},1e4),J&&typeof J=="function"&&J(_e),oe.options.errorCallback(_e)}function Ce(_e){var ge=oe.options.imageTexts.sizeUnits.split(",");return _e.replace("#image_name#",I.name).replace("#image_size#",ji(I.size,ge)).replace("#image_max_size#",ji(oe.options.imageMaxSize,ge))}if(I.size>this.options.imageMaxSize){de(Ce(this.options.errorMessages.fileTooLarge));return}var fe=new FormData;fe.append("image",I),oe.options.imageCSRFToken&&!oe.options.imageCSRFHeader&&fe.append(oe.options.imageCSRFName,oe.options.imageCSRFToken);var re=new XMLHttpRequest;re.upload.onprogress=function(_e){if(_e.lengthComputable){var ge=""+Math.round(_e.loaded*100/_e.total);oe.updateStatusBar("upload-image",oe.options.imageTexts.sbProgress.replace("#file_name#",I.name).replace("#progress#",ge))}},re.open("POST",this.options.imageUploadEndpoint),oe.options.imageCSRFToken&&oe.options.imageCSRFHeader&&re.setRequestHeader(oe.options.imageCSRFName,oe.options.imageCSRFToken),re.onload=function(){try{var _e=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),de(Ce(oe.options.errorMessages.importError));return}this.status===200&&_e&&!_e.error&&_e.data&&_e.data.filePath?R((oe.options.imagePathAbsolute?"":window.location.origin+"/")+_e.data.filePath):_e.error&&_e.error in oe.options.errorMessages?de(Ce(oe.options.errorMessages[_e.error])):_e.error?de(Ce(_e.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),de(Ce(oe.options.errorMessages.importError)))},re.onerror=function(_e){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+_e.target.status+" ("+_e.target.statusText+")"),de(oe.options.errorMessages.importError)},re.send(fe)},V.prototype.uploadImageUsingCustomFunction=function(I,R){var J=this;function oe(fe){$(J,fe)}function de(fe){var re=Ce(fe);J.updateStatusBar("upload-image",re),setTimeout(function(){J.updateStatusBar("upload-image",J.options.imageTexts.sbInit)},1e4),J.options.errorCallback(re)}function Ce(fe){var re=J.options.imageTexts.sizeUnits.split(",");return fe.replace("#image_name#",R.name).replace("#image_size#",ji(R.size,re)).replace("#image_max_size#",ji(J.options.imageMaxSize,re))}I.apply(this,[R,oe,de])},V.prototype.setPreviewMaxHeight=function(){var I=this.codemirror,R=I.getWrapperElement(),J=R.nextSibling,oe=parseInt(window.getComputedStyle(R).paddingTop),de=parseInt(window.getComputedStyle(R).borderTopWidth),Ce=parseInt(this.options.maxHeight),fe=Ce+oe*2+de*2,re=fe.toString()+"px";J.style.height=re},V.prototype.createSideBySide=function(){var I=this.codemirror,R=I.getWrapperElement(),J=R.nextSibling;if(!J||!J.classList.contains("editor-preview-side")){if(J=document.createElement("div"),J.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var oe=0;oe<this.options.previewClass.length;oe++)J.classList.add(this.options.previewClass[oe]);else typeof this.options.previewClass=="string"&&J.classList.add(this.options.previewClass);R.parentNode.insertBefore(J,R.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return J;var de=!1,Ce=!1;return I.on("scroll",function(fe){if(de){de=!1;return}Ce=!0;var re=fe.getScrollInfo().height-fe.getScrollInfo().clientHeight,_e=parseFloat(fe.getScrollInfo().top)/re,ge=(J.scrollHeight-J.clientHeight)*_e;J.scrollTop=ge}),J.onscroll=function(){if(Ce){Ce=!1;return}de=!0;var fe=J.scrollHeight-J.clientHeight,re=parseFloat(J.scrollTop)/fe,_e=(I.getScrollInfo().height-I.getScrollInfo().clientHeight)*re;I.scrollTo(0,_e)},J},V.prototype.createToolbar=function(I){if(I=I||this.options.toolbar,!(!I||I.length===0)){var R;for(R=0;R<I.length;R++)li[I[R]]!=null&&(I[R]=li[I[R]]);var J=document.createElement("div");J.className="editor-toolbar",J.setAttribute("role","toolbar");var oe=this,de={};for(oe.toolbar=I,R=0;R<I.length;R++)if(!(I[R].name=="guide"&&oe.options.toolbarGuideIcon===!1)&&!(oe.options.hideIcons&&oe.options.hideIcons.indexOf(I[R].name)!=-1)&&!((I[R].name=="fullscreen"||I[R].name=="side-by-side")&&S())){if(I[R]==="|"){for(var Ce=!1,fe=R+1;fe<I.length;fe++)I[fe]!=="|"&&(!oe.options.hideIcons||oe.options.hideIcons.indexOf(I[fe].name)==-1)&&(Ce=!0);if(!Ce)continue}(function(ge){var je;if(ge==="|"?je=q():ge.children?je=B(ge,oe.options.toolbarTips,oe.options.shortcuts,oe):je=H(ge,!0,oe.options.toolbarTips,oe.options.shortcuts,"button",oe),de[ge.name||ge]=je,J.appendChild(je),ge.name==="upload-image"){var Qe=document.createElement("input");Qe.className="imageInput",Qe.type="file",Qe.multiple=!0,Qe.name=oe.options.imageInputName,Qe.accept=oe.options.imageAccept,Qe.style.display="none",Qe.style.opacity=0,J.appendChild(Qe)}})(I[R])}oe.toolbar_div=J,oe.toolbarElements=de;var re=this.codemirror;re.on("cursorActivity",function(){var ge=te(re);for(var je in de)(function(Qe){var et=de[Qe];ge[Qe]?et.classList.add("active"):Qe!="fullscreen"&&Qe!="side-by-side"&&et.classList.remove("active")})(je)});var _e=re.getWrapperElement();return _e.parentNode.insertBefore(J,_e),J}},V.prototype.createStatusbar=function(I){I=I||this.options.status;var R=this.options,J=this.codemirror;if(!(!I||I.length===0)){var oe=[],de,Ce,fe,re;for(de=0;de<I.length;de++)if(Ce=void 0,fe=void 0,re=void 0,typeof I[de]=="object")oe.push({className:I[de].className,defaultValue:I[de].defaultValue,onUpdate:I[de].onUpdate,onActivity:I[de].onActivity});else{var _e=I[de];_e==="words"?(re=function(We){We.innerHTML=Tn(J.getValue())},Ce=function(We){We.innerHTML=Tn(J.getValue())}):_e==="lines"?(re=function(We){We.innerHTML=J.lineCount()},Ce=function(We){We.innerHTML=J.lineCount()}):_e==="cursor"?(re=function(We){We.innerHTML="1:1"},fe=function(We){var gt=J.getCursor(),_t=gt.line+1,xt=gt.ch+1;We.innerHTML=_t+":"+xt}):_e==="autosave"?re=function(We){R.autosave!=null&&R.autosave.enabled===!0&&We.setAttribute("id","autosaved")}:_e==="upload-image"&&(re=function(We){We.innerHTML=R.imageTexts.sbInit}),oe.push({className:_e,defaultValue:re,onUpdate:Ce,onActivity:fe})}var ge=document.createElement("div");for(ge.className="editor-statusbar",de=0;de<oe.length;de++){var je=oe[de],Qe=document.createElement("span");Qe.className=je.className,typeof je.defaultValue=="function"&&je.defaultValue(Qe),typeof je.onUpdate=="function"&&this.codemirror.on("update",function(We,gt){return function(){gt.onUpdate(We)}}(Qe,je)),typeof je.onActivity=="function"&&this.codemirror.on("cursorActivity",function(We,gt){return function(){gt.onActivity(We)}}(Qe,je)),ge.appendChild(Qe)}var et=this.codemirror.getWrapperElement();return et.parentNode.insertBefore(ge,et.nextSibling),ge}},V.prototype.value=function(I){var R=this.codemirror;if(I===void 0)return R.getValue();if(R.getDoc().setValue(I),this.isPreviewActive()){var J=R.getWrapperElement(),oe=J.lastChild,de=this.options.previewRender(I,oe);de!==null&&(oe.innerHTML=de)}return this},V.toggleBold=le,V.toggleItalic=ne,V.toggleStrikethrough=se,V.toggleBlockquote=be,V.toggleHeadingSmaller=ve,V.toggleHeadingBigger=De,V.toggleHeading1=Ge,V.toggleHeading2=Ie,V.toggleHeading3=Ue,V.toggleHeading4=nt,V.toggleHeading5=rt,V.toggleHeading6=ce,V.toggleCodeBlock=we,V.toggleUnorderedList=Pe,V.toggleOrderedList=Oe,V.cleanBlock=Je,V.drawLink=mt,V.drawImage=Ht,V.drawUploadedImage=ue,V.drawTable=Te,V.drawHorizontalRule=yt,V.undo=ot,V.redo=Zt,V.togglePreview=$t,V.toggleSideBySide=ti,V.toggleFullScreen=X,V.prototype.toggleBold=function(){le(this)},V.prototype.toggleItalic=function(){ne(this)},V.prototype.toggleStrikethrough=function(){se(this)},V.prototype.toggleBlockquote=function(){be(this)},V.prototype.toggleHeadingSmaller=function(){ve(this)},V.prototype.toggleHeadingBigger=function(){De(this)},V.prototype.toggleHeading1=function(){Ge(this)},V.prototype.toggleHeading2=function(){Ie(this)},V.prototype.toggleHeading3=function(){Ue(this)},V.prototype.toggleHeading4=function(){nt(this)},V.prototype.toggleHeading5=function(){rt(this)},V.prototype.toggleHeading6=function(){ce(this)},V.prototype.toggleCodeBlock=function(){we(this)},V.prototype.toggleUnorderedList=function(){Pe(this)},V.prototype.toggleOrderedList=function(){Oe(this)},V.prototype.cleanBlock=function(){Je(this)},V.prototype.drawLink=function(){mt(this)},V.prototype.drawImage=function(){Ht(this)},V.prototype.drawUploadedImage=function(){ue(this)},V.prototype.drawTable=function(){Te(this)},V.prototype.drawHorizontalRule=function(){yt(this)},V.prototype.undo=function(){ot(this)},V.prototype.redo=function(){Zt(this)},V.prototype.togglePreview=function(){$t(this)},V.prototype.toggleSideBySide=function(){ti(this)},V.prototype.toggleFullScreen=function(){X(this)},V.prototype.isPreviewActive=function(){var I=this.codemirror,R=I.getWrapperElement(),J=R.lastChild;return J.classList.contains("editor-preview-active")},V.prototype.isSideBySideActive=function(){var I=this.codemirror,R=I.getWrapperElement(),J=R.nextSibling;return J.classList.contains("editor-preview-active-side")},V.prototype.isFullscreenActive=function(){var I=this.codemirror;return I.getOption("fullScreen")},V.prototype.getState=function(){var I=this.codemirror;return te(I)},V.prototype.toTextArea=function(){var I=this.codemirror,R=I.getWrapperElement(),J=R.parentNode;J&&(this.gui.toolbar&&J.removeChild(this.gui.toolbar),this.gui.statusbar&&J.removeChild(this.gui.statusbar),this.gui.sideBySide&&J.removeChild(this.gui.sideBySide)),J.parentNode.insertBefore(R,J),J.remove(),I.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},$f=V,$f}var $2=H2();const wv=C2($2);window.Dropzone=Ze;Ma.register(...Bk);window.Chart=Ma;window.EasyMDE=wv;window.editors={};document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".easymde").forEach(function(u){const s=new wv({element:u,minHeight:"200px",maxHeight:"200px",status:!1,spellChecker:!1,toggleFullscreen:!1,sideBySideFullscreen:!1});u.id&&(editors[u.id]=s)})});window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};
//# sourceMappingURL=app-CNwOMNvE.js.map
